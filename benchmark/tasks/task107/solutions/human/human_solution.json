[
  {
    "language": "Scala",
    "code": "import scala.annotation.tailrec\nimport scala.collection.mutable\n\nobject Main extends App {\n\n  import scala.io.StdIn._\n  loop()\n  @tailrec def loop(): Unit = {\n    val date = readLine.trim.split('.')\n    if (date.head == \"#\") return\n    if (date.length == 3) {\n      println(Maya(Gregorio(date(0).toInt, date(1).toInt, date(2).toInt).toLong - Gregorio(2012, 12, 21).toLong))\n    }else {\n      println(Gregorio(Maya(date(0).toInt, date(1).toInt, date(2).toInt, date(3).toInt, date(4).toInt).toLong + Gregorio(2012, 12, 21).toLong))\n    }\n    loop()\n  }\n}\n\nobject Gregorio {\n  def isLeapYear(year: Int): Boolean = (year % 400 == 0) || ((year % 4 == 0) && (year % 100 != 0))\n  val cycle = (0 until 400).map{\n    case y if isLeapYear(y) ⇒ 366L\n    case _ ⇒ 365L\n  }.toArray\n  for (i ← cycle.indices.tail) cycle(i) += cycle(i - 1)\n  val months = Array(31L, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31)\n  for (i ← months.indices.tail) months(i) += months(i - 1)\n  val monthsForLeapYear = Array(31L, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31)\n  for (i ← monthsForLeapYear.indices.tail) monthsForLeapYear(i) += monthsForLeapYear(i - 1)\n  def apply(day: Long): Gregorio = {\n    val y400 = day / cycle.last\n    val y = cycle.upperBound(day % cycle.last)\n    make(y400.toInt * 400 + y, day % cycle.last - (if (y == 0) 0 else cycle(y - 1)))\n  }\n  private[this] def make(year: Int, day: Long): Gregorio = {\n    val month = if (isLeapYear(year)) {\n      monthsForLeapYear\n    }else {\n      months\n    }\n    val m = month.upperBound(day)\n    Gregorio(year, m + 1, (day - (if (m == 0) 0 else month(m - 1)) + 1).toInt)\n  }\n  implicit class Wrap[T](val array: Array[T]) {\n    def lowerBound(target: T)(implicit ord: Ordering[T]): Int = {\n      var left = 0\n      var right = array.length\n      while (left < right) {\n        val mid = (left + right) / 2\n        if (ord.compare(array(mid), target) < 0) left = mid + 1\n        else right = mid\n      }\n      right\n    }\n    def upperBound(target: T)(implicit ord: Ordering[T]): Int = {\n      var left = 0\n      var right = array.length\n      while (left < right){\n        val mid = (left + right) / 2\n        if (ord.compare(array(mid), target) <= 0) left = mid + 1\n        else right = mid\n      }\n      right\n    }\n  }\n}\ncase class Gregorio(year: Int, month: Int, day: Int) {\n  def toLong: Long = {\n    val y400 = Gregorio.cycle.last * (year / 400)\n    val y = if (year % 400 == 0) 0 else Gregorio.cycle((year % 400) - 1)\n    val months = if (Gregorio.isLeapYear(year)) Gregorio.monthsForLeapYear else Gregorio.months\n    y400 + y + (if (month == 1) day - 1 else (months(month - 2) + day - 1))\n  }\n  override def toString: String = List(year, month, day).mkString(\".\")\n}\nobject Maya{\n  def apply(day: Long): Maya = {\n    Maya(day / (20 * 20 * 18 * 20) % 13, day / (20 * 18 * 20) % 20, day / (18 * 20) % 20, day / 20 % 18, day % 20)\n  }\n}\ncase class Maya(bactun: Long, katun: Long, tun: Long, winal: Long, kin: Long) {\n  def toLong: Long = {\n    (((bactun * 20 + katun) * 20 + tun) * 18 + winal) * 20 + kin\n  }\n\n  override def toString: String = List(bactun, katun, tun, winal, kin).mkString(\".\")\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define LL long long int\n#define INF 734858\nusing namespace std;\nint main(void)\n{\n\tLL b,ka,t,w,ki,y,m,d,sum,cnt,mon,day,year;\n\tLL i,j,k;\n\tLL maya[5]={144000,7200,360,20,1};\n\tLL month[2][12]={\n\t\t\t\t\t{31,28,31,30,31,30,31,31,30,31,30,31},\n\t\t\t\t\t{31,29,31,30,31,30,31,31,30,31,30,31}\n\t\t\t\t\t};\n\tchar s[100];\n\twhile(1) {\n\t\tcin>>s;\n\t\tif(s[0]=='#') break;\n\t\tcnt=0;\n\t\tfor(i=0;i<strlen(s);i++) {\n\t\t\tif(s[i]=='.') cnt++;\n\t\t}\n\t\tif(cnt==2) { //?\\?????????????\n\t\t\tsum=0;\n\t\t\tstring sum2;\n\t\t\tsum2=s[0];\n\t\t\tfor(i=1;i<strlen(s);i++) {\n\t\t\t\tif(s[i]=='.') break;\n\t\t\t\telse sum2+=s[i];\n\t\t\t}\n\t\t\tint mx;\n\t\t\tmx=atoi(sum2.c_str());\n\t\t\t//sum=?\\????????¨? \n\t\t\tfor(i=1;i<mx;i++) {\n\t\t\t\tif(i%4==0&&i%100!=0||i%400==0) sum+=366;\n\t\t\t\telse sum+=365;\n\t\t\t}\n\t\t\t//?????°????¨????\n\t\t\tint f=0;\n\t\t\tfor(i=0;i<strlen(s);i++) {\n\t\t\t\tif(s[i]=='.'&&s[i+2]=='.') {\n\t\t\t\t\tsum2=s[i+1];\n\t\t\t\t\tif(f==0) mon=atoi(sum2.c_str());\n\t\t\t\t\telse day=atoi(sum2.c_str());\n\t\t\t\t\tf=1;\n\t\t\t\t}\n\t\t\t\telse if(s[i]=='.'&&s[i+2]!='.') {\n\t\t\t\t\tsum2=s[i+1];\n\t\t\t\t\tsum2+=s[i+2];\n\t\t\t\t\tif(f==0) mon=atoi(sum2.c_str());\n\t\t\t\t\telse day=atoi(sum2.c_str());\n\t\t\t\t\tf=1;\n\t\t\t\t}\n\t\t\t}\n\t\t\t//cout<<mon<<\" \"<<day<<endl;\n\t\t\t//?????°???sum????¶?????????????????????´??¨????????§????????¨?????????????????????\n\t\t\tint test=0;\n\t\t\tfor(i=0;i<mon-1;i++) {\n\t\t\t\tif(mx%4==0&&mx%100!=0||mx%400==0) sum+=month[1][i];\n\t\t\t\telse sum+=month[0][i];\n\t\t\t}\n\t\t\t//??\\????????????????????§???????????§??????????????§?????\\??§?¨????\n\t\t\tsum+=day,sum-=INF;\n\t\t\tb=sum/maya[0],sum=sum%maya[0];\n\t\t\tka=sum/maya[1],sum=sum%maya[1];\n\t\t\tt=sum/maya[2],sum=sum%maya[2];\n\t\t\tw=sum/maya[3],ki=sum%maya[3];\n\t\t\tcout<<b%13<<\".\"<<ka%20<<\".\"<<t%20<<\".\"<<w%18<<\".\"<<ki%20<<endl;\n\t\t}\n\t\telse { //??????????\\????\n\t\t\tsum=0;\n\t\t\tLL swi=1,x;\n\t\t\tstring sum3;\n\t\t\t//????????????????????§???\n\t\t\tif(s[1]=='.') sum3=s[0],sum+=atoi(sum3.c_str())*maya[0];\n\t\t\telse if(s[1]!='.') sum3=s[0],sum3+=s[1],sum+=atoi(sum3.c_str())*maya[0];\n\t\t\tfor(i=0;i<strlen(s);i++) {\n\t\t\t\tif(s[i]=='.'&&s[i+2]=='.') {\n\t\t\t\t\tsum3=s[i+1];\n\t\t\t\t\tsum+=atoi(sum3.c_str())*maya[swi];\n\t\t\t\t\tswi++;\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\telse if(s[i]=='.'&&s[i+2]!='.') {\n\t\t\t\t\tsum3=s[i+1],sum3+=s[i+2];\n\t\t\t\t\tsum+=atoi(sum3.c_str())*maya[swi];\t\n\t\t\t\t\tswi++;\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t//\tcout<<sum<<endl;\n\t\t\tint zan=10;//zan???21????£????10???????´????????????????sum?????????10???????????????\n\t\t\tif(sum<11) {\n\t\t\t\tcout<<\"2012.12.\"<<sum+21<<endl;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tsum-=10;\n\t\t\t\tint suu=2013;\n\t\t\t\tyear=mon=day=0;\n\t\t\t\twhile(1) {\n\t\t\t\t\tif(suu%4==0&&suu%100!=0||suu%400==0) {\n\t\t\t\t\t\tif(sum>366) {\n\t\t\t\t\t\t\tsum-=366;\n\t\t\t\t\t\t\tyear++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if(sum==366) {\n\t\t\t\t\t\t\tsum-=366;\n\t\t\t\t\t\t\tyear++;\n\t\t\t\t\t\t\tmon=12,day=31;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tmon=1;\n\t\t\t\t\t\t\tfor(i=0;i<12;i++) {\n\t\t\t\t\t\t\t\tif(sum>=month[1][i]) {\n\t\t\t\t\t\t\t\t\tif(sum-month[1][i]==0) break;\n\t\t\t\t\t\t\t\t\tsum-=month[1][i];\n\t\t\t\t\t\t\t\t\tmon++;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tday=sum;\n\t\t\t\t\t\t\tsum=0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif(sum>365) {\n\t\t\t\t\t\t\tsum-=365;\n\t\t\t\t\t\t\tyear++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if(sum==365) {\n\t\t\t\t\t\t\tsum-=365;\n\t\t\t\t\t\t\tyear++;\n\t\t\t\t\t\t\tmon=12,day=31;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tmon=1;\n\t\t\t\t\t\t\t//cout<<\"sum==\"<<sum<<endl;\n\t\t\t\t\t\t\tfor(i=0;i<12;i++) {\n\t\t\t\t\t\t\t\tif(sum>=month[0][i]) {\n\t\t\t\t\t\t\t\t\tif(sum-month[0][i]==0) break;\n\t\t\t\t\t\t\t\t\tsum-=month[0][i];\n\t\t\t\t\t\t\t\t\tmon++;\n\t\t\t\t\t\t\t\t\t//cout<<\"sum==\"<<sum<<endl;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tday=sum;\n\t\t\t\t\t\t\tsum=0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(sum==0) break;\n\t\t\t\t\tsuu++;\n\t\t\t\t}\n\t\t\t\tcout<<suu<<\".\"<<mon<<\".\"<<day<<endl;\n\t\t\t}\n\t\t}\n\t}\n}\n\t"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <string>\nusing namespace std;\ntypedef long long ll;\n\nconst int to_day[5] = {20, 20, 18, 20, 1};\nconst int month_day[12] = {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\n\nint main(){\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\n\tstring str;\n\twhile(cin >> str && str != \"#\"){\n\n\t\tint cnt = 0;\n\t\tfor(size_t i = 0; i < str.size(); ++i){\n\t\t\tif(str[i] == '.') cnt++;\n\t\t}\n\n\t\tif(cnt == 4){\n\t\t\tint data[5];\n\t\t\tint num = 0;\n\t\t\tsize_t prev = 0;\n\t\t\tfor(size_t i = 0; i < str.size(); ++i){\n\t\t\t\tif(str[i] == '.'){\n\t\t\t\t\tdata[num] = stoi(str.substr(prev, i - prev));\n\t\t\t\t\t//cout << data[num] << endl;\n\t\t\t\t\tprev = i + 1;\n\t\t\t\t\tnum++;\n\t\t\t\t}\n\t\t\t\tif(i == str.size() - 1){\n\t\t\t\t\tdata[num] = stoi(str.substr(prev, i + 1 - prev));\n\t\t\t\t\t//cout << data[num] << endl;\n\t\t\t\t}\n\t\t\t}\n\t\t\tll day = 0;\n\t\t\tfor(int i = 0; i < 5; ++i){\n\t\t\t\tday += data[i];\n\t\t\t\tday *= to_day[i];\n\t\t\t}\n\t\t\t//cout << day << endl;\n\n\t\t\tif(day <= 10){\n\t\t\t\tcout << 2012 << '.' << 12 << '.' << 21 + day << endl;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tday -= 10;\n\t\t\t\tint year = 2013;\n\t\t\t\twhile(1){\n\t\t\t\t\tif(year % 400 == 0 || (year % 100 != 0 && year % 4 == 0)){\n\t\t\t\t\t\tif(day < 366) break;\n\t\t\t\t\t\tday -= 366;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif(day < 365) break;\n\t\t\t\t\t\tday -= 365;\n\t\t\t\t\t}\n\t\t\t\t\tyear++;\n\t\t\t\t}\n\t\t\t\tint month = 0;\n\t\t\t\twhile(1){\n\t\t\t\t\tif((year % 400 == 0 || (year % 100 != 0 && year % 4 == 0)) && month + 1 == 2){\n\t\t\t\t\t\tif(day > month_day[month] + 1){\n\t\t\t\t\t\t\tday -= month_day[month] + 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse break;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif(day > month_day[month]){\n\t\t\t\t\t\t\tday -= month_day[month];\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse break;\n\t\t\t\t\t}\n\t\t\t\t\tmonth++;\n\t\t\t\t}\n\t\t\t\tcout << year << '.' << month + 1 << '.' << day << endl;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tint data[3];\n\t\t\tint num = 0;\n\t\t\tsize_t prev = 0;\n\t\t\tfor(size_t i = 0; i < str.size(); ++i){\n\t\t\t\tif(str[i] == '.'){\n\t\t\t\t\tdata[num] = stoi(str.substr(prev, i - prev));\n\t\t\t\t\t//cout << data[num] << endl;\n\t\t\t\t\tprev = i + 1;\n\t\t\t\t\tnum++;\n\t\t\t\t}\n\t\t\t\tif(i == str.size() - 1){\n\t\t\t\t\tdata[num] = stoi(str.substr(prev, i + 1 - prev));\n\t\t\t\t\t//cout << data[num] << endl;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tll day = data[2];\n\t\t\tint year = 2013;\n\t\t\tif(data[0] == 2012){\n\t\t\t\tday = data[2] - 21;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tday += 10;\n\t\t\t\twhile(year < data[0]){\n\t\t\t\t\tif(year % 400 == 0 || (year % 100 != 0 && year % 4 == 0)){\n\t\t\t\t\t\tday += 366;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tday += 365;\n\t\t\t\t\t}\n\t\t\t\t\tyear++;\n\t\t\t\t}\n\n\t\t\t\tfor(int i = 1; i < data[1]; ++i){\n\t\t\t\t\tif((year % 400 == 0 || (year % 100 != 0 && year % 4 == 0)) && i == 2){\n\t\t\t\t\t\tday += month_day[i - 1] + 1;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\tday += month_day[i - 1];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//cout << day << endl;\n\t\t\tday %= 1872000;\n\n\t\t\tint ans[5];\n\t\t\tfor(int i = 3; i >= 0; --i){\n\t\t\t\tans[i + 1] = day % to_day[i];\n\t\t\t\tday /= to_day[i];\n\t\t\t}\n\t\t\tans[0] = day;\n\n\t\t\tfor(int i = 0; i < 5; ++i){\n\t\t\t\tif(i != 0) cout << '.';\n\t\t\t\tcout << ans[i];\n\t\t\t}\n\t\t\tcout << endl;\n\t\t}\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<tuple>\n#include<string>\n#include<vector>\nusing namespace std;\nlong long p1[13][33], p2[13][33], V[401];\ntuple<int, int, int>x[13][20][20][18][20];\ntuple<int, int, int, int, int>xx[1872000];\nvoid init() {\n\tfor (int i = 0; i < 429; i++) { p1[i / 33][i % 33] = -1; p2[i / 33][i % 33] = -1; }\n\tlong long CNTS = 0;\n\tfor (int i = 1; i <= 12; i++) {\n\t\tlong long V = 31; if ((i <= 6 && i % 2 == 0) || (i >= 9 && i % 2 == 1))V = 30;\n\t\tif (i == 2)V = 28;\n\t\tfor (int j = 1; j <= V; j++) { p1[i][j] = CNTS; CNTS++; }\n\t}\n\tCNTS = 0;\n\tfor (int i = 1; i <= 12; i++) {\n\t\tlong long V = 31; if ((i <= 6 && i % 2 == 0) || (i >= 9 && i % 2 == 1))V = 30;\n\t\tif (i == 2)V = 29;\n\t\tfor (int j = 1; j <= V; j++) { p2[i][j] = CNTS; CNTS++; }\n\t}\n\tfor (int i = 1; i <= 400; i++) {\n\t\tlong long II = i - 1;\n\t\tif (II % 4 == 0 && (II % 100 >= 1 || II % 400 == 0))V[i] = V[i - 1] + 366;\n\t\telse { V[i] = V[i - 1] + 365; }\n\t}\n\tCNTS = 0; long long yy = 2012, mm = 12, dd = 21;\n\tfor (int i = 0; i < 13; i++) {\n\t\tfor (int j = 0; j < 20; j++) {\n\t\t\tfor (int k = 0; k < 20; k++) {\n\t\t\t\tfor (int l = 0; l < 18; l++) {\n\t\t\t\t\tfor (int m = 0; m < 20; m++) {\n\t\t\t\t\t\tx[i][j][k][l][m] = make_tuple(yy, mm, dd);\n\t\t\t\t\t\txx[CNTS] = make_tuple(i, j, k, l, m);\n\t\t\t\t\t\tCNTS++; dd++;\n\t\t\t\t\t\tif (yy % 4 == 0 && (yy % 100 >= 1 || yy % 400 == 0)) {\n\t\t\t\t\t\t\tif (p2[mm][dd] == -1) { mm++; dd = 1; }\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse { if (p1[mm][dd] == -1) { mm++; dd = 1; } }\n\t\t\t\t\t\tif (mm == 13) { mm = 1; yy++; }\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\nlong long DayCount(long long y, long long m, long long d) {\n\tlong long DD = 0; if (y % 4 == 0) { DD = p2[m][d]; }\n\telse { DD = p1[m][d]; }\n\treturn (V[400] * (y / 400) + V[y % 400]) + DD;\n}\ntuple<int, int, int> MayaWest(long long I, long long J, long long K, long long L, long long M) {\n\treturn x[I][J][K][L][M];\n}\ntuple<int, int, int, int, int>WestMaya(long long I, long long J, long long K) {\n\tlong long X = (DayCount(I, J, K) - DayCount(2012, 12, 21)) % 1872000LL;\n\treturn xx[X];\n}\nint main() {\n\tinit();\n\twhile (true) {\n\t\tstring S; cin >> S; if (S == \"#\")break; S += '.';\n\t\tvector<long long>Vec; string T = \"\";\n\t\tfor (int i = 0; i < S.size(); i++) {\n\t\t\tif (S[i] == '.') { Vec.push_back(stoi(T)); T = \"\"; }\n\t\t\telse { T += S[i]; }\n\t\t}\n\t\tif (Vec.size() == 3) {\n\t\t\ttuple<long long, long long, long long, long long, long long>ans = WestMaya(Vec[0], Vec[1], Vec[2]);\n\t\t\tcout << get<0>(ans) << '.' << get<1>(ans) << '.' << get<2>(ans) << '.' << get<3>(ans) << '.' << get<4>(ans) << endl;\n\t\t}\n\t\tif (Vec.size() == 5) {\n\t\t\ttuple<long long, long long, long long>ans = MayaWest(Vec[0], Vec[1], Vec[2], Vec[3], Vec[4]);\n\t\t\tcout << get<0>(ans) << '.' << get<1>(ans) << '.' << get<2>(ans) << endl;\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 0x3f3f3f3f\n\n#include <iostream>\n#include <cstdio>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n  \nusing namespace std;\n  \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P> PP;\n  \nstatic const double EPS = 1e-8;\n  \nstatic const int tx[] = {0,1,0,-1};\nstatic const int ty[] = {-1,0,1,0};\n\nvector<string> split(string delim,string str){\n  vector<string> res;\n  str += delim;\n  for(int i=0;i<str.size();i++){\n    for(int j=1;i+j<=str.size();j++){\n      if(str.substr(i,j).find(delim) != string::npos){\n        if(str.substr(i,j-1).size() >0 ) res.push_back(str.substr(i,j-1));\n        i+=j-1;\n        break;\n      }\n    }\n  }\n  return res;\n}\n\nstatic const int days_per_month[] = {0,31,28,31,30,31,30,31,31,30,31,30,31};\n\nbool is_leap_year(int year){\n  if(year % 4 == 0){\n    if(year % 100 != 0) return true;\n    if(year % 400 == 0) return true;\n  }\n  return false;\n}\n\nstring maya2christ(ll passed_day){\n  passed_day += 355;\n  int year = 2012;\n  for(int prev = 2012; prev <= 10000000; prev++){\n    if(is_leap_year(prev) && passed_day - 366 >= 0){\n      passed_day -= 366LL;\n    }\n    else if(!is_leap_year(prev) && passed_day - 365 >= 0){\n      passed_day -= 365LL;\n    }\n    else{\n      break;\n    }\n    year = prev + 1;\n  }\n\n  int month = 1;\n  for(int prev = 1; prev < 12; prev++){\n    if(is_leap_year(year) && prev == 2\n       && passed_day - (days_per_month[prev] + 1) > 0){\n      passed_day -= (days_per_month[prev] + 1);\n    }\n    else if(passed_day - days_per_month[prev] > 0){\n      passed_day -= days_per_month[prev];\n    }\n    else{\n      break;\n    }\n    month = prev + 1;\n  }\n  int day = passed_day + 1;\n  stringstream ss;\n  ss << year << \".\" << month << \".\" << day;\n  return ss.str();\n}\n\nstring christ2maya(ll passed_day){\n  while(passed_day > 13*20*20*18*20){\n    passed_day -= 13*20*20*18*20;\n  }\n  ll b = passed_day / (20*20*18*20);\n  passed_day %= (20*20*18*20);\n\n  ll ka = passed_day / (20*18*20);\n  passed_day %= (20*18*20);\n\n  ll t = passed_day / (18*20);\n  passed_day %= (18*20);\n\n  ll w = passed_day / 20;\n  passed_day %= 20;\n  \n  ll ki = passed_day;\n  stringstream ss;\n  ss << b << \".\" << ka << \".\" << t << \".\" << w << \".\" << ki;\n  return ss.str();\n}\n\nint main(){\n  string str;\n  while(cin >> str){\n    if(str == \"#\") break;\n    int total_dots = count(str.begin(),str.end(),'.');\n    if(total_dots == 2){\n      //after christ\n      vector<string> elements = split(\".\",str);\n      ll year = atol(elements[0].c_str());\n      ll month = atol(elements[1].c_str());\n      ll day = atol(elements[2].c_str());\n\n      ll passed_day = 0;\n      for(ll prev = 2012; prev < year; prev++){\n        passed_day += (is_leap_year(prev) ? 366LL : 365LL);\n      }\n\n      for(ll prev = 1; prev < month; prev++){\n        if(is_leap_year(year) && prev == 2){\n          passed_day++;\n        }\n        passed_day += days_per_month[prev];\n      }\n      for(ll prev = 1; prev < day; prev++){\n        passed_day++;\n      }\n      passed_day -= 355LL; //2012.01.01 - 2012.12.20\n      cout << christ2maya(passed_day) << endl;\n    }\n    else{\n      //maya\n      vector<string> elements = split(\".\",str);\n      ll b = atol(elements[0].c_str());\n      ll ka = atol(elements[1].c_str());\n      ll t = atol(elements[2].c_str());\n      ll w = atol(elements[3].c_str());\n      ll ki = atol(elements[4].c_str());\n\n      ll passed_day = b * (20*20*18*20) + ka * (20*18*20) + t * (18*20) + w * 20 + ki;\n      cout << maya2christ(passed_day) << endl;\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "\n\n#include <bits/stdc++.h>\nusing namespace std;\n\n#define in ,\n#define esc_paren(...) __VA_ARGS__\n#define pp_empty(...)\n#define pp_cat_i(x, y) x ## y\n#define pp_cat(x, y) pp_cat_i(x, y)\n\n#define pp_inc0 1\n#define pp_inc1 2\n#define pp_inc2 3\n#define pp_inc3 4\n#define pp_inc4 5\n#define pp_inc5 6\n#define pp_inc6 7\n#define pp_inc7 8\n#define pp_inc8 9\n#define pp_inc(i) pp_cat(pp_inc, i)\n\n#define pp_arg10(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, ...) _9\n#define pp_has_comma(...) pp_arg10(__VA_ARGS__, 1, 1, 1, 1, 1, 1, 1, 1, 0)\n#define pp_trigger_paren(...) ,\n#define pp_is_empty(...) \\\n  pp_is_empty1( \\\n      pp_has_comma(__VA_ARGS__), \\\n      pp_has_comma(pp_trigger_paren __VA_ARGS__), \\\n      pp_has_comma(__VA_ARGS__()), \\\n      pp_has_comma(pp_trigger_paren __VA_ARGS__()) \\\n      ) \n#define pp_paste5(_0, _1, _2, _3, _4) _0 ## _1 ## _2 ## _3 ## _4\n#define pp_is_empty1(_0, _1, _2, _3) pp_has_comma(pp_paste5(pp_is_empty_case_, _0, _1, _2, _3))\n#define pp_is_empty_case_0001 ,\n\n#define pp_is_one(...) pp_is_one_(__VA_ARGS__, pp_one_seq)\n#define pp_is_one_(...) pp_is_one_n(__VA_ARGS__)\n#define pp_is_one_n(_1,_2,_3,_4,_5,_6,_7,_8,_9,_10, N, ...) N\n#define pp_one_seq 0,0,0,0,0,0,0,0,0,1,0\n\n#define pp_narg(...) \\\n         pp_narg_(__VA_ARGS__, pp_narg_seq)\n#define pp_narg_(...) \\\n         pp_narg_n(__VA_ARGS__)\n#define pp_narg_n( \\\n          _1, _2, _3, _4, _5, _6, _7, _8, _9,_10, \\\n         _11,_12,_13,_14,_15,_16,_17,_18,_19,_20, \\\n         _21,_22,_23,_24,_25,_26,_27,_28,_29,_30, \\\n         _31,_32,_33,_34,_35,_36,_37,_38,_39,_40, \\\n         _41,_42,_43,_44,_45,_46,_47,_48,_49,_50, \\\n         _51,_52,_53,_54,_55,_56,_57,_58,_59,_60, \\\n         _61,_62,_63,n,...) n\n#define pp_narg_seq \\\n         63,62,61,60, \\\n         59,58,57,56,55,54,53,52,51,50, \\\n         49,48,47,46,45,44,43,42,41,40, \\\n         39,38,37,36,35,34,33,32,31,30, \\\n         29,28,27,26,25,24,23,22,21,20, \\\n         19,18,17,16,15,14,13,12,11,10, \\\n          9, 8, 7, 6, 5, 4, 3, 2, 1, 0\n\n#define pp_if_0(x, y) y\n#define pp_if_1(x, y) x\n#define pp_if(cond, x, y) pp_cat(pp_if_, cond)(x, y)\n\n#define pp_foreach_i9(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i8(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i7(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i6(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i5(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i4(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i3(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i2(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i1(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i0(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i(i, f, ...) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach(f, ...) pp_foreach_i(0, f, __VA_ARGS__)\n\n\ntypedef long long ll;\n#define down_queue(x) priority_queue<x>\n#define up_queue(x) priority_queue<x, vector<x>, greater<x>>\n#define all(x) x.begin(), x.end()\n#define split_str(str, sp_word) istringstream stream(str); string res; for(int cnt = 0; getline(stream,res,sp_word); cnt++)\n#define digit(x) ((int)log10((double)(x)) + 1)\n#define mp(x,y) make_pair(x,y)\n#define pb(x) push_back(x)\n#define pf(x) push_front(x)\n#define vec_cpy(to,from) copy(all(to),back_inserter(from))\n#define ary_cpy(to,from) memcpy(to, from, sizeof(from))\n#define MOD 1000000007\n#define INF 999999999\n\n\n#define rep(...) rep1(rep2, (__VA_ARGS__))\n#define rep1(X, A) X A\n#define rep2(i, ...) pp_if(pp_is_one(__VA_ARGS__), rep_len1(i, __VA_ARGS__), rep3(i, __VA_ARGS__))\n#define rep_len1(i, end, ...) for (int i = 0; i < end; i++)\n#define rep3(i, iter, ...) rep4(rep5, (iter, i, esc_paren __VA_ARGS__))\n#define rep4(X, A) X A\n#define rep5(iter, ...) iter(__VA_ARGS__)\n\n#define up up_iter ,\n#define up_iter3(i, start, end) for (int i = start; i < end; i++)\n#define up_iter4(i, start, end, up) for (int i = start; i < end; i += up)\n#define up_iter(...) pp_cat(up_iter, pp_narg(__VA_ARGS__))(__VA_ARGS__)\n#define down down_iter ,\n#define down_iter2(i, end) for(int i = end-1; i >= 0; i--)\n#define down_iter3(i, start, end) for (int i = end-1; i >= start; i--)\n#define down_iter4(i, start, end, down) for (int i = end-1; i >= start; i -= down)\n#define down_iter(...) pp_cat(down_iter, pp_narg(__VA_ARGS__))(__VA_ARGS__)\n#define viter viter_iter ,\n#define viter_iter(i, v) auto tmpitr=v.begin(); for (auto i=*tmpitr; tmpitr != v.end(); tmpitr++)\n\n\n#define pp_init2(cnt, body) struct _InitStruct ## cnt { _InitStruct ## cnt() { body } } _initstruct ## cnt;\n#define pp_init1(f, cnt, body) f(cnt, body)\n#define pp_init(body) pp_init1(pp_init2, __COUNTER__, body)\n\n#define init_array(arr, N, val) pp_init(rep (i in N) { arr[i] = val; })\n#define iota_array(arr, N, start) pp_init(rep (i in N) { arr[i] = start + i; })\n\n\n#define debug_var_elem(v) << #v << \"=\" << v << \" \"\n#ifdef DEBUG\n#define debug_echo(e) cout << \"L\" << __LINE__ << \": \" << e << endl\n#define debug_var(...) cout << \"L\" << __LINE__ << \": \" pp_foreach(debug_var_elem, __VA_ARGS__) << endl\n#else\n#define debug_echo(e)\n#define debug_var(...)\n#endif\n\n\n#define pp_gen_field(list) pp_gen_field1 list\n#define pp_gen_field1(name, val) decltype(val) name;\n#define pp_gen_init(list) pp_gen_init1 list\n#define pp_gen_init1(name, val) ,val\n#define pp_gen_find_set_wrap(ufnodename) ufnodename pp_gen_find_set\n#define pp_gen_find_set(list) pp_gen_find_set1 list\n#define pp_gen_find_set1(name, val) \\\n  find_set_ ## name(int x, decltype(val) v) { \\\n    if (nodes[x].parent == x) { \\\n      nodes[x].name = v; \\\n      return nodes[x]; \\\n    } else { \\\n      return nodes[x] = find_set_ ## name(nodes[x].parent, v); \\\n    } \\\n  }\n#define pp_gen_unite_set(list) pp_gen_unite_set1 list\n#define pp_gen_unite_set1(name, val) \\\n  if (nodes[x].name == val) { \\\n    find_set_ ## name(x, find(y).name); \\\n  } \\\n  if (nodes[y].name == val) { \\\n    find_set_ ## name(y, find(x).name); \\\n  }\n\n#define def_unionfind(ufname, ufnodename, ...) \\\n  struct ufnodename { \\\n    int parent; \\\n    pp_foreach(pp_gen_field, __VA_ARGS__) \\\n  }; \\\n  struct ufname { \\\n    vector<ufnodename> nodes; \\\n    vector<int> rank; \\\n    ufname(int n) : nodes(n+1), rank(n+1) { \\\n      rep (i in n) { \\\n        nodes[i] = ufnodename{i pp_foreach(pp_gen_init, __VA_ARGS__)}; \\\n        rank[i] = 0; \\\n      } \\\n    } \\\n    ufnodename find(int x) { \\\n      if (nodes[x].parent == x) { \\\n        return nodes[x]; \\\n      } else { \\\n        return nodes[x] = find(nodes[x].parent); \\\n      } \\\n    } \\\n    pp_foreach(pp_gen_find_set_wrap(ufnodename), __VA_ARGS__) \\\n    void unite(int x, int y) { \\\n      x = find(x).parent; \\\n      y = find(y).parent; \\\n      if (x == y) return; \\\n      if (rank[x] < rank[y]) { \\\n        pp_foreach(pp_gen_unite_set, __VA_ARGS__); \\\n        nodes[x].parent = y; \\\n      } else { \\\n        pp_foreach(pp_gen_unite_set, __VA_ARGS__); \\\n        nodes[y].parent = x; \\\n        if (rank[x] == rank[y]) rank[x]++; \\\n      } \\\n    } \\\n    bool same(int x, int y) { \\\n      return find(x).parent == find(y).parent; \\\n    } \\\n  }\n\n\nll gcd(ll a,ll b){while(b){ll tmp = a % b;a = b;b = tmp;}return a;}\nll lcm(ll a,ll b){return a / gcd(a,b) * b;}\n\n#define def_varargs(name, f) \\\n  template<typename First> \\\n  inline First name(First first) { return first; } \\\n  template<typename First, typename... Rest> \\\n  inline First name(First first, Rest... rest) { return f(first, name(rest...)); }\n\nvector<string> split(const string &s, char delim) {\n    vector<string> elems;\n    string item;\n    for (char ch: s) {\n        if (ch == delim) {\n            if (!item.empty())\n                elems.push_back(item);\n            item.clear();\n        }\n        else {\n            item += ch;\n        }\n    }\n    if (!item.empty())\n        elems.push_back(item);\n    return elems;\n}\n\n#define KIN 1\n#define WINAL (KIN*20)\n#define TON (WINAL*18)\n#define KATON (TON*20)\n#define BAKTON (KATON*20)\n\nint months[] = {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\n\nbool is_uruu(ll year) {\n  return year % 4 == 0 && (year % 100 != 0 || year % 400 == 0);\n}\n\nstruct Seireki {\n  ll year;\n  ll month;\n  ll day;\n\n  void operator ++() {\n    if (is_uruu(year) && month == 2 && day == 28) {\n      day++;\n    } else if (is_uruu(year) && month == 2 && day == 29) {\n      month++;\n      day = 1;\n    } else {\n      if (day < months[month-1]) {\n        day++;\n      } else {\n        day = 1;\n        if (month == 12) {\n          month = 1;\n          year++;\n        } else {\n          month++;\n        }\n      }\n    }\n  }\n};\n\nSeireki to_seireki(ll byear, ll bmonth, ll bday, ll& alldays) {\n  ll year = byear;\n  while (true) {\n    ll sub = is_uruu(year) ? 366 : 365;\n    if (alldays - sub <= 0) break;\n    alldays -= sub;\n    year++;\n  }\n  ll month = bmonth;\n  while (true) {\n    ll sub = (month == 2 && is_uruu(year)) ? 29 : months[month-1];\n    if (alldays - sub < 0) {\n      break;\n    }\n    alldays -= sub;\n    month++;\n    if (month > 12) {\n      year++;\n      month = 1;\n    }\n  }\n  Seireki res = Seireki{year, month, 21};\n  rep (_ in alldays+1) {\n    ++res;\n  }\n  return res;\n}\n\nll to_days(ll byear, ll bmonth, ll bday, ll eyear, ll emonth, ll eday) {\n  ll days = -1;\n  rep (i in up(byear, eyear)) {\n    if (is_uruu(i)) {\n      days += 366;\n    } else {\n      days += 365;\n    }\n  }\n  rep (i in bmonth-1) {\n    if (i == 1 && is_uruu(byear)) {\n      days -= 29;\n    } else {\n      days -= months[i];\n    }\n  }\n  days -= bday - 1;\n  rep (i in emonth-1) {\n    if (i == 1 && is_uruu(eyear)) {\n      days += 29;\n    } else {\n      days += months[i];\n    }\n  }\n  days += eday;\n  return days;\n}\n\nint main() {\n  string s;\n  while (cin >> s && s[0] != '#') {\n    vector<string> elems = split(s, '.');\n    vector<ll> maya;\n    for (auto e : elems) {\n      maya.pb(stoi(e));\n    }\n    if (maya.size() == 3) {\n      ll day = to_days(2012, 12, 21, maya[0], maya[1], maya[2]);\n      day %= BAKTON * 13;\n      ll k = day % 20; day /= 20;\n      ll wi = day % 18; day /= 18;\n      ll t = day % 20; day /= 20;\n      ll ka = day % 20; day /= 20;\n      ll b = day % 13;\n      // ll b = days / BAKTON; days %= BAKTON;\n      // ll ka = days / KATON; days %= KATON;\n      // ll t = days / TON; days %= TON;\n      // ll wi = days / WINAL; days %= WINAL;\n      // ll k = days / KIN; days %= KIN;\n      cout << b << \".\" << ka << \".\" << t << \".\" << wi << \".\" << k << endl;\n    } else {\n      ll alldays = 0;\n      alldays += maya[0] * BAKTON;\n      alldays += maya[1] * KATON;\n      alldays += maya[2] * TON;\n      alldays += maya[3] * WINAL;\n      alldays += maya[4] * KIN;\n      Seireki seireki = to_seireki(2012, 12, 21, alldays);\n      cout << seireki.year << \".\" << seireki.month << \".\" << seireki.day << endl;\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\n\nusing int64 = long long;\n\ntemplate<typename T>\nusing p_que = priority_queue<T>;\ntemplate<typename T>\nusing rp_que = priority_queue<T, vector<T>, greater<T>>;\n\nconstexpr int INF = (1 << 30) - 1;\nconstexpr int64 INF64 = (1ll << 60) - 1;\n\n#define rep(i, N) for(int i=0;i<(int)(N);++i)\n#define fs first\n#define sc second\n#define e_b emplace_back\n#define m_p make_pair\n#define all(x) x.begin(),x.end()\n#define rall(x) x.rbegin(),x.rend()\n\ntemplate <typename T, typename U>\nostream& operator<<(ostream& os, const pair<T, U>& p) {\n\treturn os << \"P(\" << p.first << \", \" << p.second << \")\";\n}\ntemplate <typename T>\nostream& operator<<(ostream& os, const vector<T>& v) {\n\tos << \"[\";\n\tfor (auto& e : v) os << e << \", \";\n\treturn os << \"]\";\n}\ntemplate <typename T, typename U>\nostream& operator<<(ostream& os, const map<T, U>& m) {\n\tos << \"{\" << endl;\n\tfor (auto& e : m) os << \"(\" << e.first << \", \" << e.second << \")\" << endl;\n\treturn os << \"}\";\n}\ntemplate <typename T>\nostream& operator<<(ostream& os, const set<T>& s) {\n\tos << \"{\" << endl;\n\tfor (auto& e : s) os << \", \" << e << endl;\n\treturn os << \"}\";\n}\n\ntemplate<typename T>\nvector<T> make_v(size_t a, T b) { return vector<T>(a, b); }\ntemplate<typename... Ts>\nauto make_v(size_t a, Ts... ts) {\n\treturn vector<decltype(make_v(ts...))>(a, make_v(ts...));\n}\n\nint64 gcd(int64 x, int64 y) {\n\tif (x == 0 || y == 0) return 0;\n\tint64 r;\n\twhile ((r = y % x) != 0) {\n\t\ty = x;\n\t\tx = r;\n\t}\n\treturn x;\n}\nint64 lcm(int64 x, int64 y) {\n\tif (x == 0 || y == 0) return 0;\n\treturn x / gcd(x, y) * y;\n}\n\nint dx[] = { -1, 0, 1, 0 };\nint dy[] = { 0, 1, 0, -1 };\n\nvoid Main();\nsigned main() {\n\tcin.tie(nullptr);\n\tios_base::sync_with_stdio(false);\n\tcout << fixed << setprecision(30);\n\tMain();\n}\n\n/*----------------------------Insert from here!----------------------------*/\n\ntemplate <int mod>\nstruct ModInt {\n\tint x;\n\n\tModInt() : x(0) {}\n\n\tModInt(int64_t y) : x(y >= 0 ? y % mod : (mod - (-y) % mod) % mod) {}\n\n\tModInt& operator+=(const ModInt& p) {\n\t\tif ((x += p.x) >= mod) x -= mod;\n\t\treturn *this;\n\t}\n\n\tModInt& operator-=(const ModInt& p) {\n\t\tif ((x += mod - p.x) >= mod) x -= mod;\n\t\treturn *this;\n\t}\n\n\tModInt& operator*=(const ModInt& p) {\n\t\tx = (int)(1LL * x * p.x % mod);\n\t\treturn *this;\n\t}\n\n\tModInt& operator/=(const ModInt& p) {\n\t\t*this *= p.inverse();\n\t\treturn *this;\n\t}\n\n\tModInt operator-() const { return ModInt(-x); }\n\n\tModInt operator+(const ModInt& p) const { return ModInt(*this) += p; }\n\n\tModInt operator-(const ModInt& p) const { return ModInt(*this) -= p; }\n\n\tModInt operator*(const ModInt& p) const { return ModInt(*this) *= p; }\n\n\tModInt operator/(const ModInt& p) const { return ModInt(*this) /= p; }\n\n\tbool operator==(const ModInt& p) const { return x == p.x; }\n\n\tbool operator!=(const ModInt& p) const { return x != p.x; }\n\n\tModInt inverse() const {\n\t\tint a = x, b = mod, u = 1, v = 0, t;\n\t\twhile (b > 0) {\n\t\t\tt = a / b;\n\t\t\tswap(a -= t * b, b);\n\t\t\tswap(u -= t * v, v);\n\t\t}\n\t\treturn ModInt(u);\n\t}\n\n\tModInt pow(int64_t n) const {\n\t\tModInt ret(1), mul(x);\n\t\twhile (n > 0) {\n\t\t\tif (n & 1) ret *= mul;\n\t\t\tmul *= mul;\n\t\t\tn >>= 1;\n\t\t}\n\t\treturn ret;\n\t}\n\n\tfriend ostream& operator<<(ostream& os, const ModInt& p) {\n\t\treturn os << p.x;\n\t}\n\n\tfriend istream& operator>>(istream& is, ModInt& a) {\n\t\tint64_t t;\n\t\tis >> t;\n\t\ta = ModInt< mod >(t);\n\t\treturn (is);\n\t}\n\n\tstatic int get_mod() { return mod; }\n};\n\n\n// Calculate elapsed days from Gregorian calendar 1.1.1(y.m.d)\n// Fairfield's congruence\nlong long getElapsedDays(long long y, int m, int d) {\n\tif (m <= 2) {\n\t\tm += 12;\n\t\ty--;\n\t}\n\treturn 365 * y + y / 4 - y / 100 + y / 400 + (306 * (m + 1)) / 10 + d - 429;\n}\n\n// Calculate the day of the week of specified date\n// 7:Sun 1:Mon ... 6:Satur\nint getDayOfWeek(int y, int m, int d) {\n\tint c = y / 100;\n\ty %= 100;\n\tint dow = d + 26 * (m + 1) / 10 + y + y / 4 + (-2 * c) + c / 4 + 5;\n\tdow %= 7;\n\treturn dow + 1;\n}\n\n// Calculate the date from elapsed days (from Gregorian Calendar 1.1.1)\nvoid getDate(long long U, int& y, int& m, int& d) {\n\tU += 306;\n\tint V = U / 146097; int mv = U % 146097;\n\tint W = (4 * mv + 3) / 146097; int mw = mv - 36524 * W;\n\tint X = mw / 1461; int mx = mw % 1461;\n\tint Y = (4 * mx + 3) / 1461; int my = mx - 365 * Y;\n\n\ty = 400 * V + 100 * W + 4 * X + Y;\n\tm = (5 * my + 2) / 153 + 3;\n\td = my - (153 * (m - 3) + 2) / 5 + 1;\n\tif (m > 12) m -= 12, y++;\n}\n\n// Split string by specified character\nvector<string> split_string(const string& s, char delim) {\n\tvector<string> elems;\n\tstring item;\n\tfor (char ch : s) {\n\t\tif (ch == delim) {\n\t\t\tif (!item.empty())\n\t\t\t\telems.push_back(item);\n\t\t\titem.clear();\n\t\t} else {\n\t\t\titem += ch;\n\t\t}\n\t}\n\tif (!item.empty())\n\t\telems.push_back(item);\n\treturn elems;\n}\n\n/*----------------------------Insert above here----------------------------*/\n\nvoid Main() {\n\tint key = getElapsedDays(2012, 12, 21);\n\tstring str;\n\twhile (true) {\n\t\tcin >> str;\n\t\tif (str == \"#\") break;\n\n\t\tauto vec = split_string(str, '.');\n\n\t\tif (vec.size() == 3) {\n\t\t\tint y, m, d;\n\t\t\ty = stoi(vec[0]), m = stoi(vec[1]), d = stoi(vec[2]);\n\n\t\t\tint64 U = getElapsedDays(y, m, d);\n\t\t\tU -= key;\n\n\t\t\tint64 b = U / 144000; U %= 144000;\n\t\t\tint ka = U / 7200; U %= 7200;\n\t\t\tint t = U / 360; U %= 360;\n\t\t\tint w = U / 20; U %= 20;\n\t\t\tcout << b % 13 << \".\" << ka << \".\" << t << \".\" << w << \".\" << U << endl;\n\n\t\t} else {\n\t\t\tint64 b, ka, t, w, ki;\n\t\t\tb = stoi(vec[0]), ka = stoi(vec[1]), t = stoi(vec[2]), w = stoi(vec[3]), ki = stoi(vec[4]);\n\t\t\tint64 U = b * 144000;\n\t\t\tU += ka * 7200;\n\t\t\tU += t * 360;\n\t\t\tU += w * 20;\n\t\t\tU += ki;\n\n\t\t\tU += key;\n\t\t\tint y, m, d;\n\t\t\tgetDate(U, y, m, d);\n\t\t\tcout << y << \".\" << m << \".\" << d << endl;\n\t\t}\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <string>\n#include <vector>\nusing namespace std;\n\ntypedef long long lli;\n\nvector<lli> v,v2;\n\nint main(){\n  string str;\n  lli l=0;\n  for(int i=2016;i<=10000000;i+=4){\n    l += 365 * 4;\n    if(i % 100 != 0 || i % 400 == 0){\n      l++;\n      v.push_back(i);\n      v2.push_back(l);\n    }\n  }\n\n  while(getline(cin,str) && str != \"#\"){\n    lli a[5], day = 0, year;\n    int cnt = 0;\n    fill(a,a+5,0);\n    for(int i=0;i<str.size();i++){\n      if(str[i] >= '0' && str[i] <= '9'){\n        a[cnt] *= 10;\n        a[cnt] += str[i] - '0';\n      } else cnt++;\n    }\n    cnt++;\n\n    if(cnt == 3){\n      if(a[0] == 2012){\n        cout << \"0.0.0.0.\" << a[2] - 21 << endl;\n        continue;\n      }\n      day = (a[0] - 2013) * 365;\n      if(a[0] > 2016) day += lower_bound(v.begin(),v.end(),a[0]) - v.begin();\n      for(int i=1;i<a[1];i++){\n        if(i == 1 || i == 3 || i == 5 || i == 7 || i == 8 || i == 10 || i == 12) day += 31;\n        else if(i == 2) day += (a[0] % 4 == 0 && (a[0] % 100 != 0 || a[0] % 400 == 0)) ? 29 : 28;\n        else day += 30;\n      }\n      day += a[2];\n      day += 10;\n      day %= 20*18*20*20*13;\n      cout << day / (20*18*20*20) << '.';\n      day %= 20*18*20*20;\n      cout << day / (20*18*20) << '.';\n      day %= 20*18*20;\n      cout << day / (20*18) << '.';\n      day %= 20*18;\n      cout << day / 20 << '.';\n      day %= 20;\n      cout << day << endl;\n    } else {\n      day = a[0] * 20*18*20*20;\n      day += a[1] * 20*18*20;\n      day += a[2] * 20*18;\n      day += a[3] * 20;\n      day += a[4];\n      if(day <= 10){\n        cout << \"2012.12.\" << day+21 << endl;\n        continue;\n      }\n      day -= 10;\n      if(day <= 366*16){\n\n        for(int i=2013;;i++){\n          if(i % 4 == 0 && (i % 100 != 0 || i % 400 == 0)){\n            if(day <= 366){\n              cout << i << '.';\n              year = i;\n              break;\n            }\n            day -= 366;\n          } else {\n            if(day <= 365){\n              cout << i << '.';\n              year = i;\n              break;\n            }\n            day -= 365;\n          }\n        }\n\n        for(int i=1;;i++){\n          if(i == 1 || i == 3 || i == 5 || i == 7 || i == 8 || i == 10 || i == 12){\n            if(day <= 31){\n              cout << i << '.' << day << endl;\n              break;\n            }\n            day -= 31;\n          } else if(i == 2){\n            if(day <= ((year % 4 == 0 && (year % 100 != 0 || year % 400 == 0)) ? 29 : 28)){\n              cout << i << '.' << ((year % 4 == 0 && (year % 100 != 0 || year % 400 == 0)) ? 29 : 28) << endl;\n              break;\n            }\n            day -= (year % 4 == 0 && (year % 100 != 0 || year % 400 == 0)) ? 29 : 28;\n          } else {\n            if(day <= 30){\n              cout << i << '.' << day << endl;\n              break;\n            }\n            day -= 30;\n          }\n        }\n      } else {\n        int c = lower_bound(v2.begin(),v2.end(),day) - v2.begin();\n        c -= 2;\n        day -= v2[c];\n        for(int i=v[c]+1;;i++){\n          if(i % 4 == 0 && (i % 100 != 0 || i % 400 == 0)){\n            if(day <= 366){\n              cout << i << '.';\n              year = i;\n              break;\n            }\n            day -= 366;\n          } else {\n            if(day <= 365){\n              cout << i << '.';\n              year = i;\n              break;\n            }\n            day -= 365;\n          }\n        }\n        for(int i=1;;i++){\n          if(i == 1 || i == 3 || i == 5 || i == 7 || i == 8 || i == 10 || i == 12){\n            if(day <= 31){\n              cout << i << '.' << day << endl;\n              break;\n            }\n            day -= 31;\n          } else if(i == 2){\n            if(day <= ((year % 4 == 0 && (year % 100 != 0 || year % 400 == 0)) ? 29 : 28)){\n              cout << i << '.' << ((year % 4 == 0 && (year % 100 != 0 || year % 400 == 0)) ? 29 : 28) << endl;\n              break;\n            }\n            day -= (year % 4 == 0 && (year % 100 != 0 || year % 400 == 0)) ? 29 : 28;\n          } else {\n            if(day <= 30){\n              cout << i << '.' << day << endl;\n              break;\n            }\n            day -= 30;\n          }\n        }\n      }\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <map>\n#include <cstring>\n#include <string>\n#include <stack>\n#include <queue>\n#include <cmath>\n#include <cstdlib>\n#include <cstdio>\n#include <algorithm>\n#include <sstream>\n#include <set>\nusing namespace std;\n\n#define rep(i,n) for(int i=0;i<(int)n;i++)\n#define repp(i,k,n) for(int i=k;i<(int)n;i++)\n#define rei(n) for(int i=0;i<(int)n;i++)\n#define rel(n) for(int l=0;l<(int)n;l++)\n#define al(s) s.begin(),s.end()\n#define INT_MAX 2147483647\n\nstruct Calendar\n{\n\tlong long year;\n\tlong long month;\n\tlong long day;\n\tlong long dat[2][13];\n\tCalendar(long long y, long long m, long long d)\n\t{\n\t\tyear = y;\n\t\tmonth = m;\n\t\tday = d;\n\t\tdat[0][1] = dat[1][1] = 31;\n\t\tdat[0][2] = dat[1][2] = 28;\n\t\tdat[0][3] = dat[1][3] = 31;\n\t\tdat[0][4] = dat[1][4] = 30;\n\t\tdat[0][5] = dat[1][5] = 31;\n\t\tdat[0][6] = dat[1][6] = 30;\n\t\tdat[0][7] = dat[1][7] = 31;\n\t\tdat[0][8] = dat[1][8] = 31;\n\t\tdat[0][9] = dat[1][9] = 30;\n\t\tdat[0][10] = dat[1][10] = 31;\n\t\tdat[0][11] = dat[1][11] = 30;\n\t\tdat[0][12] = dat[1][12] = 31;\n\t\tdat[1][2] = 29;\n\t}\n\tint uruu()\n\t{\n\t\tif (year % 4 == 0)\n\t\t{\n\t\t\tif (year % 400 != 0 && year % 100 == 0)\n\t\t\t{\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t}\n\t\treturn 0;\n\t}\n\tint uruu(long long y)\n\t{\n\t\tif (y % 4 == 0)\n\t\t{\n\t\t\tif (y % 400 != 0 && y % 100 == 0)\n\t\t\t{\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t}\n\t\treturn 0;\n\t}\n\tlong long pday(long long d)\n\t{\n\t\tday += d;\n\t\tfor (;; month++)\n\t\t{\n\t\t\tif (month >= 13)\n\t\t\t{\n\t\t\t\tyear++;\n\t\t\t\tmonth = 1;\n\t\t\t}\n\n\t\t\tif (dat[uruu()][month] < day)\n\t\t\t{\n\t\t\t\tday -= dat[uruu()][month];\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tpmonth(0);\n\t\treturn d;\n\t}\n\tlong long pmonth(long long m)\n\t{\n\t\tmonth += m;\n\t\tfor (;; year++)\n\t\t{\n\t\t\tif (month > 12)\n\t\t\t{\n\t\t\t\tmonth -= 12;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn m;\n\t}\n\tlong long pyear(long long y)\n\t{\n\t\tyear += y;\n\t\treturn y;\n\t}\n\tlong long dif(Calendar c)\n\t{\n\t\tlong long ans = 0;\n\t\tCalendar a(year, month, day);\n\t\tans -= a.day;\n\t\tans += c.day;\n\t\ta.day = 0;\n\t\tc.day = 0;\n\t\tfor (; a.month >= 1; a.month--)\n\t\t{\n\t\t\tans -= dat[a.uruu()][a.month];\n\t\t}\n\t\tfor (; c.month >= 1; c.month--)\n\t\t{\n\t\t\tans += dat[c.uruu()][c.month];\n\t\t}\n\t\tfor (; a.year != c.year; a.year++)\n\t\t{\n\t\t\tans += 365;\n\t\t\tif (a.uruu())ans++;\n\t\t}\n\t\treturn ans;\n\t}\n\n\n};\n\n\n\n\nlong long date[5]{ 1872000 / 13,1872000 / 13 / 20,1872000 / 13 / 20 / 20,1872000 / 13 / 20 / 20 / 18,1 };\n\nint main()\n{\n\tstring a;\n\twhile (1)\n\t{\n\t\tgetline(cin, a);\n\t\tif (a.find(\"#\") != string::npos)break;\n\t\tint coun = 0;\n\t\tfor (int i = 0; i < a.size(); i++)\n\t\t{\n\t\t\tif (a[i] == '.')coun++;\n\t\t}\n\t\tif (coun == 2)\n\t\t{\n\t\t\tstring dat[3];\n\t\t\tlong long year, month, day;\n\t\t\tlong long p = 0;\n\t\t\tfor (int i = 0; i < a.size(); i++)\n\t\t\t{\n\t\t\t\tif (a[i] == '.')p++;\n\t\t\t\telse dat[p] += a[i];\n\t\t\t}\n\t\t\tyear = atoll(dat[0].c_str());\n\t\t\tmonth = atoll(dat[1].c_str());\n\t\t\tday = atoll(dat[2].c_str());\n\n\t\t\tCalendar A(year, month, day), B(2012, 12, 21);\n\n\t\t\tlong long dif = B.dif(A);\n\t\t\tif (dif >= 0)\n\t\t\t{\n\t\t\t\tdif %= 1872000;\n\t\t\t\tfor (int i = 0; i < 5; i++)\n\t\t\t\t{\n\t\t\t\t\tif (i)\n\t\t\t\t\t{\n\t\t\t\t\t\tcout << \".\";\n\t\t\t\t\t}\n\t\t\t\t\tcout << dif / date[i];\n\t\t\t\t\tdif %= date[i];\n\t\t\t\t}\n\t\t\t\tcout << endl;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tdif *= -1;\n\t\t\t\tdif %= 1872000;\n\t\t\t\tdif -= 1;\n\t\t\t\tint gf[5] = { 12,19,19,17,19 };\n\t\t\t\tfor (int i = 0; i < 5; i++)\n\t\t\t\t{\n\t\t\t\t\tif (i)\n\t\t\t\t\t{\n\t\t\t\t\t\tcout << \".\";\n\t\t\t\t\t}\n\t\t\t\t\tcout <<gf[i]- dif / date[i];\n\t\t\t\t\tdif %= date[i];\n\t\t\t\t}\n\t\t\t\tcout << endl;\n\t\t\t}\n\t\t\t\n\t\t}\n\t\telse\n\t\t{\n\t\t\tstring dat[5];\n\t\t\tint p = 0;\n\t\t\tfor (int i = 0; i < a.size(); i++)\n\t\t\t{\n\t\t\t\tif (a[i] == '.')p++;\n\t\t\t\telse dat[p] += a[i];\n\t\t\t}\n\t\t\tlong long days = 0;\n\t\t\tfor (int i = 0; i < 5; i++)\n\t\t\t{\n\t\t\t\tdays += date[i] * atoll(dat[i].c_str());\n\t\t\t}\n\t\t\tCalendar A(2012, 12, 21);\n\t\t\tA.pday(days);\n\t\t\tcout << A.year << \".\" << A.month << \".\" << A.day << endl;\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <string>\n#include <sstream>\n#include <vector>\nusing namespace std;\n\ntypedef long long lli;\n\nconst static lli n_day[] = {0,31,28,31,30,31,30,31,31,30,31,30,31};\n\nbool isleap(lli y) {\n  if(y % 4 != 0) return false;\n  return (y % 100 != 0 || y % 400 == 0);\n}\n\nstruct Maya {\n  lli b, ka, t ,w , ki;\n};\n\nstruct Date {\n  lli y, m, d;\n  bool operator != (const Date &date) const {\n    return y != date.y || m != date.m || d != date.d;\n  }\n\n  bool isleap() {\n    if(y % 4 != 0) return false;\n    return (y % 100 != 0 || y % 400 == 0);\n  }\n  lli numOfDays() {\n    if(m == 2)\n      return n_day[2] + isleap();\n    else\n      return n_day[m];\n  }\n  void next() {\n    if(d == numOfDays()) {\n      d = 1;\n      if(m == 12) {\n\tm = 1;\n\ty += 1;\n      } else {\n\tm += 1;\n      }\n    } else {\n      d += 1;\n    }\n  }\n};\n\n\nconst int YSIZE = 3000000;\n// sumDay[i] : sum of days between 2012/12/21 and 2012+i*4/12/20\nlli sumDay[YSIZE];\nlli rSumDay[YSIZE];\n\nvoid init() {\n  sumDay[0] = 0;\n  rSumDay[0] = 2012;\n  for(int i = 1; i < YSIZE; ++i) {\n    sumDay[i] = sumDay[i-1] + 365 * 4 + isleap(2012+i*4);\n    rSumDay[i] = 2012 + i*4;\n  }\n}\n\nlli mayaToDay(const Maya &maya) {\n  return maya.b * 20*20*18*20\n    + maya.ka * 20*18*20\n    + maya.t * 18*20\n    + maya.w * 20\n    + maya.ki;\n}\n\nMaya dayToMaya(lli day) {\n  Maya maya;\n  day %= 20*20*18*20*13;\n\n  maya.ki = day % 20;\n  day /= 20;\n  maya.w = day % 18;\n  day /= 18;\n  maya.t = day % 20;\n  day /= 20;\n  maya.ka = day % 20;\n  day /= 20;\n  maya.b= day;\n  return maya;\n}\n\nDate dayToDate(lli day) {\n  int p = lower_bound(sumDay, sumDay+YSIZE, day) - sumDay;\n  if(sumDay[p] != day) --p;\n  int remainDay = day - sumDay[p];\n  Date date = {2012+p*4, 12, 21};\n  while(remainDay > 0) {\n    --remainDay;\n    date.next();\n  }\n  return date;\n}\n\nlli dateToDay(const Date &date) {\n  int p = lower_bound(rSumDay, rSumDay+YSIZE, date.y) - rSumDay;\n  if(rSumDay[p] != date.y) --p;\n  lli res = sumDay[p];\n  Date n = {2012+p*4, 12, 21};\n  while(date != n) {\n    res += 1;\n    n.next();\n  }\n  return res;\n\n}\n\nint main() {\n  init();\n  string line;\n  while(getline(cin, line) && line != \"#\") {\n    replace(line.begin(), line.end(), '.', ' ');\n    stringstream ss(line);\n    vector<lli> v;\n    string str;\n    while(ss >> str) {\n      v.push_back(atoll(str.c_str()));\n    }\n    if(v.size() == 3) {\n      Date date = {v[0], v[1], v[2]};\n      Maya maya = dayToMaya(dateToDay(date));\n      cout << maya.b << \".\" << maya.ka << \".\" << maya.t\n\t   << \".\" << maya.w << \".\" << maya.ki << endl;\n    } else {\n      Maya maya = {v[0], v[1], v[2], v[3], v[4]};\n      Date date = dayToDate(mayaToDay(maya));\n      cout << date.y << \".\" << date.m << \".\" << date.d << endl;\n    }\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<climits>\nusing namespace std;\n\n#define loop(i, a, b) for(int i = a; i < b; i++)\n#define rep(i, a) loop(i, 0, a)\n#define int long long\n//#define %%lld %%d\n\nvoid to_maya(int y, int m, int d);\nvoid to_sei(int b, int ka, int t, int w, int ki);\nint leap_count(int base,  int y);\n\nsigned main()\n{\n  printf(\"long long max: %lld\\n\", LLONG_MAX);\n  char date[100];\n  while(cin >> date) {\n    int a = 0, b = 0, c = 0, d = 0, e = 0;\n    int cnt = sscanf(date, \"%lld.%lld.%lld.%lld.%lld\", &a, &b, &c, &d, &e);\n\n    if(cnt == 3) {\n      //     cout << '3'<<endl;\n      to_maya(a, b, c);\n    }\n    else if(cnt == 5){\n      //  cout << '5' << endl;\n      to_sei(a, b, c, d, e);\n    }\n    else if(date[0] == '#') {\n      //    cout << '#';\n      break;\n    }\n    // cout << date;\n  }\n}\n\n\nint leap_count(int base,  int y)\n{\n  int cnt = 0;\n  loop(i, base, y + 1)\n    if(i % 400 == 0) cnt++;\n    else if(i % 100 && i % 4 == 0) cnt++;\n  return cnt;\n}\n\n\nvoid to_maya(int y, int m, int d)\n{\n  int days = 0;\n  int leap = leap_count(2013, y);\n  if( y != 2012 ) {\n    //    cout << leap << endl;\n    days += ( y - 2013 - leap ) * 365 + leap * 366 + 10;\n    //  cout << days << endl;\n    loop(i, 1, m){\n      if(i == 1 || i == 3 || i == 5 || i == 7 || i == 8 || i == 10 || i == 12)\n\tdays += 31;\n      if(i == 4 || i == 6 || i == 9 || i == 11)\n\tdays += 30;\n      if(i == 2) {\n\tdays += 28;\n\t//cout << leap_count(y,y) << endl;\n\tif(leap_count(y, y)) {\n\t  days++;\n\t  // cout << \"leap\" << endl;\n\t}\n      }\n    }\n    days += d;\n    if(leap_count(y,y)) days--;\n  }\n  else days += (d - 21);\n  \n  days -=  days / (13 * 20 * 18 * 20 * 20) * (13 * 20 * 18 * 20 * 20);\n  int b = days / (20 * 18 * 20 * 20); days -= b * 20 * 20 * 18 * 20;\n  //cout << days << endl;\n  int ka =  days / (20 * 18 * 20); days -= ka * 20 * 18 * 20;\n  //cout << days << endl;\n  int t = days / (20 * 18); days -= t * 18 * 20;\n  //cout << days << endl;\n  int w = days / 20; days -= w * 20;\n  //  cout << days << endl;\n  int ki = days; days -= ki;\n  //  cout << days << endl;\n  \n  printf(\"%lld.%lld.%lld.%lld.%lld\\n\", b, ka, t, w, ki);\n}\n\nvoid to_sei(int b, int ka, int t, int w, int ki)\n{\n  int days = 0, y = 2013, m = 1, d = 1, until;\n  days += b * 20 * 18 * 20 * 20 + ka * 20 * 18 * 20 + t * 20 * 18 + w * 20 + ki;\n  if(days > 10) {\n    days -= 11;\n    while(1) {\n      if(leap_count(y, y)) {\n\tif(days - 366 >= 0) days -= 366;\n\telse break;\n      }\n      else if(days - 365 >= 0) days -= 365;\n      else break;\n      y++;\n      //cout << 'y' << y << endl;\n    }\n\n    while(1) {\n      d = 1;\n      if(m == 1 || m == 3 || m == 5 || m == 7 || m == 8 || m == 10 || m == 12)\n\tuntil = 31;\n      if(m == 4 || m == 6 || m == 9 || m == 11)\n\tuntil = 30;\n      if(m == 2) {\n\tuntil = 28;\n\t//cout << leap_count(y,y) << endl;\n\tif(leap_count(y, y)) {\n\t  until = 29;\n\t  // cout << \"leap\" << endl;\n\t}\n      }\n      //cout << 'm' << m << endl;\n      loop(i, 1, until + 1) {\n\t//cout << 'd' << d << endl;\n\td++;\n\tif(days == 0) break;\n\telse days--;\n      }\n      if(days == 0) break;\n      if(m == 12) m = 1;\n      else m++;\n    }\n    cout << y << '.' << m << '.' << d - 1;\n  }\n  else {\n    cout << \"2012.12.\" << days + 21 << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 0x3f3f3f3f\n\n#include <iostream>\n#include <cstdio>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n  \nusing namespace std;\n  \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P> PP;\n  \nstatic const double EPS = 1e-8;\n  \nstatic const int tx[] = {0,1,0,-1};\nstatic const int ty[] = {-1,0,1,0};\n\nvector<string> split(string delim,string str){\n  vector<string> res;\n  str += delim;\n  for(int i=0;i<str.size();i++){\n    for(int j=1;i+j<=str.size();j++){\n      if(str.substr(i,j).find(delim) != string::npos){\n        if(str.substr(i,j-1).size() >0 ) res.push_back(str.substr(i,j-1));\n        i+=j-1;\n        break;\n      }\n    }\n  }\n  return res;\n}\n\nstatic const int days_per_month[] = {0,31,28,31,30,31,30,31,31,30,31,30,31};\n\nbool is_leap_year(int year){\n  if(year % 4 == 0){\n    if(year % 100 != 0) return true;\n    if(year % 400 == 0) return true;\n  }\n  return false;\n}\n\nstring maya2christ(ll passed_day){\n  passed_day += 355;\n  int year = 2012;\n  for(int prev = 2012; prev <= 10000000; prev++){\n    if(is_leap_year(prev) && passed_day - 366 > 0){\n      passed_day -= 366LL;\n    }\n    else if(!is_leap_year(prev) && passed_day - 365 > 0){\n      passed_day -= 365LL;\n    }\n    else{\n      break;\n    }\n    year = prev + 1;\n  }\n\n  int month = 1;\n  for(int prev = 1; prev < 12; prev++){\n    if(is_leap_year(year) && prev == 2\n       && passed_day - (days_per_month[prev] + 1) > 0){\n      passed_day -= (days_per_month[prev] + 1);\n    }\n    else if(passed_day - days_per_month[prev] > 0){\n      passed_day -= days_per_month[prev];\n    }\n    else{\n      break;\n    }\n    month = prev + 1;\n  }\n  int day = passed_day + 1;\n  stringstream ss;\n  ss << year << \".\" << month << \".\" << day;\n  return ss.str();\n}\n\nstring christ2maya(ll passed_day){\n  while(passed_day >= 13*20*20*18*20){\n    passed_day -= 13*20*20*18*20;\n  }\n  ll b = passed_day / (20*20*18*20);\n  passed_day %= (20*20*18*20);\n\n  ll ka = passed_day / (20*18*20);\n  passed_day %= (20*18*20);\n\n  ll t = passed_day / (18*20);\n  passed_day %= (18*20);\n\n  ll w = passed_day / 20;\n  passed_day %= 20;\n  \n  ll ki = passed_day;\n  stringstream ss;\n  ss << b << \".\" << ka << \".\" << t << \".\" << w << \".\" << ki;\n  return ss.str();\n}\n\nint main(){\n  string str;\n  while(cin >> str){\n    if(str == \"#\") break;\n    int total_dots = count(str.begin(),str.end(),'.');\n    if(total_dots == 2){\n      //after christ\n      vector<string> elements = split(\".\",str);\n      ll year = atol(elements[0].c_str());\n      ll month = atol(elements[1].c_str());\n      ll day = atol(elements[2].c_str());\n\n      ll passed_day = 0;\n      for(ll prev = 2012; prev < year; prev++){\n        passed_day += (is_leap_year(prev) ? 366LL : 365LL);\n      }\n\n      for(ll prev = 1; prev < month; prev++){\n        if(is_leap_year(year) && prev == 2){\n          passed_day++;\n        }\n        passed_day += days_per_month[prev];\n      }\n      for(ll prev = 1; prev < day; prev++){\n        passed_day++;\n      }\n      passed_day -= 355LL; //2012.01.01 - 2012.12.20\n      cout << christ2maya(passed_day) << endl;\n    }\n    else{\n      //maya\n      vector<string> elements = split(\".\",str);\n      ll b = atol(elements[0].c_str());\n      ll ka = atol(elements[1].c_str());\n      ll t = atol(elements[2].c_str());\n      ll w = atol(elements[3].c_str());\n      ll ki = atol(elements[4].c_str());\n\n      ll passed_day = b * (20*20*18*20) + ka * (20*18*20) + t * (18*20) + w * 20 + ki;\n      cout << maya2christ(passed_day) << endl;\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef vector<int> vi;\n\nll gettime64(ll y,ll m,ll d){\n  struct tm poi;\n  poi.tm_year = y-1900;\n  poi.tm_mon = m-1;\n  poi.tm_mday = d;\n  poi.tm_hour = poi.tm_min = poi.tm_sec = 0;\n  poi.tm_isdst = -1;\n  return _mktime64(&poi);\n}\n\nint toint(string s){\n  return atoi(s.c_str());\n}\n\nvi split(string base, char spl){\n  vi result;\n  string::size_type pos = 0;\n  string::size_type bef = 0;\n  base += spl;\n  while( (pos = base.find_first_of(spl,bef)) != string::npos ){\n    result.push_back(toint(base.substr(bef,pos-bef)));\n    bef = pos+1;\n  }\n  return result;\n}\n\n#define AD 146097\n#define MAYA 1872000\n\nint main(){\n  while(true){\n    string s;\n    cin>>s;\n    if(s==\"#\")break;\n    vi input = split(s,'.');\n    if(input.size()==3){\n      // yyyy.mm.dd\n      ll y = input[0];\n      ll m = input[1];\n      ll d = input[2];\n      ll year_down = (y - 2013)/400;\n      y -= year_down*400;\n      ll birth = gettime64(y,m,d);\n      ll origin = gettime64(2012,12,21);\n      ll sub = (birth-origin)/24/60/60;\n      sub += year_down*AD%MAYA;\n      sub %= MAYA;\n      int ki = sub%20; sub/=20;\n      int w = sub%18;  sub/=18;\n      int t = sub%20;  sub/=20;\n      int ka = sub%20;\n      int b = sub/20;\n      printf(\"%d.%d.%d.%d.%d\\n\",b,ka,t,w,ki);\n    }else{\n      // b.ka.t.w.ki\n      ll val = 0;\n      val += input[0];  val *= 20;\n      val += input[1];  val *= 20;\n      val += input[2];  val *= 18;\n      val += input[3];  val *= 20;\n      val += input[4];\n      ll year_add = val/AD;\n      val %= AD;\n      val *= 24*60*60;\n      val += gettime64(2012,12,21);\n      struct tm *birth = _gmtime64((__time64_t*)&val);\n      int year = birth->tm_year + 1900 + year_add*400;\n      int month = birth->tm_mon + 1;\n      int day = birth->tm_mday + 1;\n      printf(\"%d.%d.%d\\n\",year,month,day);\n    }\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "v#include<bits/stdc++.h>\n#define LL long long int\n#define INF 734858\nusing namespace std;\nint main(void)\n{\n\tLL b,ka,t,w,ki,y,m,d,sum,cnt,mon,day,year;\n\tLL i,j,k;\n\tLL maya[5]={144000,7200,360,20,1};\n\tLL month[2][12]={\n\t\t\t\t\t{31,28,31,30,31,30,31,31,30,31,30,31},\n\t\t\t\t\t{31,29,31,30,31,30,31,31,30,31,30,31}\n\t\t\t\t\t};\n\tchar s[100];\n\twhile(1) {\n\t\tcin>>s;\n\t\tif(s[0]=='#') break;\n\t\tcnt=0;\n\t\tfor(i=0;i<strlen(s);i++) {\n\t\t\tif(s[i]=='.') cnt++;\n\t\t}\n\t\tif(cnt==2) { //?\\?????????????\n\t\t\tsum=0;\n\t\t\tstring sum2;\n\t\t\tsum2=s[0];\n\t\t\tfor(i=1;i<strlen(s);i++) {\n\t\t\t\tif(s[i]=='.') break;\n\t\t\t\telse sum2+=s[i];\n\t\t\t}\n\t\t\tint mx;\n\t\t\tmx=atoi(sum2.c_str());\n\t\t\t//sum=?\\????????¨? \n\t\t\tfor(i=1;i<mx;i++) {\n\t\t\t\tif(i%4==0&&i%100!=0||i%400==0) sum+=366;\n\t\t\t\telse sum+=365;\n\t\t\t}\n\t\t\t//?????°????¨????\n\t\t\tint f=0;\n\t\t\tfor(i=0;i<strlen(s);i++) {\n\t\t\t\tif(s[i]=='.'&&s[i+2]=='.') {\n\t\t\t\t\tsum2=s[i+1];\n\t\t\t\t\tif(f==0) mon=atoi(sum2.c_str());\n\t\t\t\t\telse day=atoi(sum2.c_str());\n\t\t\t\t\tf=1;\n\t\t\t\t}\n\t\t\t\telse if(s[i]=='.'&&s[i+2]!='.') {\n\t\t\t\t\tsum2=s[i+1];\n\t\t\t\t\tsum2+=s[i+2];\n\t\t\t\t\tif(f==0) mon=atoi(sum2.c_str());\n\t\t\t\t\telse day=atoi(sum2.c_str());\n\t\t\t\t\tf=1;\n\t\t\t\t}\n\t\t\t}\n\t\t\t//cout<<mon<<\" \"<<day<<endl;\n\t\t\t//?????°???sum????¶?????????????????????´??¨????????§????????¨?????????????????????\n\t\t\tint test=0;\n\t\t\tfor(i=0;i<mon-1;i++) {\n\t\t\t\tif(mx%4==0&&mx%100!=0||mx%400==0) sum+=month[1][i];\n\t\t\t\telse sum+=month[0][i];\n\t\t\t}\n\t\t\t//??\\????????????????????§???????????§??????????????§?????\\??§?¨????\n\t\t\tsum+=day,sum-=INF;\n\t\t\tb=sum/maya[0],sum=sum%maya[0],b=b%13;\n\t\t\tka=sum/maya[1],sum=sum%maya[1],ka=ka%20;\n\t\t\tt=sum/maya[2],sum=sum%maya[2],t=t%20;\n\t\t\tw=sum/maya[3],ki=sum%maya[3],w=w%18,ki%20;\n\t\t\t//cout<<b%13<<\".\"<<ka%20<<\".\"<<t%20<<\".\"<<w%18<<\".\"<<ki%20<<endl;\n\t\t\tcout<<b<<\".\"<<ka<<\".\"<<t<<\".\"<<w<<\".\"<<ki<<endl;\n\t\t}\n\t\telse { //??????????\\????\n\t\t\tsum=0;\n\t\t\tLL swi=1,x;\n\t\t\tstring sum3;\n\t\t\t//????????????????????§???\n\t\t\tif(s[1]=='.') sum3=s[0],sum+=atoi(sum3.c_str())*maya[0];\n\t\t\telse if(s[1]!='.') sum3=s[0],sum3+=s[1],sum+=atoi(sum3.c_str())*maya[0];\n\t\t\tfor(i=0;i<strlen(s);i++) {\n\t\t\t\tif(s[i]=='.'&&s[i+2]=='.') {\n\t\t\t\t\tsum3=s[i+1];\n\t\t\t\t\tsum+=atoi(sum3.c_str())*maya[swi];\n\t\t\t\t\tswi++;\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\telse if(s[i]=='.'&&s[i+2]!='.') {\n\t\t\t\t\tsum3=s[i+1],sum3+=s[i+2];\n\t\t\t\t\tsum+=atoi(sum3.c_str())*maya[swi];\t\n\t\t\t\t\tswi++;\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t//\tcout<<sum<<endl;\n\t\t\tint zan=10;//zan???21????£????10???????´????????????????sum?????????10???????????????\n\t\t\tif(sum<11) {\n\t\t\t\tcout<<\"2012.12.\"<<sum+21<<endl;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tsum-=10;\n\t\t\t\tLL suu=2013;\n\t\t\t\twhile(1) {\n\t\t\t\t\tif(suu%4==0&&suu%100!=0||suu%400==0) {\n\t\t\t\t\t\tif(sum>366) {\n\t\t\t\t\t\t\tsum-=366;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if(sum==366) {\n\t\t\t\t\t\t\tsum-=366;\n\t\t\t\t\t\t\tmon=12,day=31;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tmon=1;\n\t\t\t\t\t\t\tfor(i=0;i<12;i++) {\n\t\t\t\t\t\t\t\tif(sum>=month[1][i]) {\n\t\t\t\t\t\t\t\t\tif(sum-month[1][i]==0) break;\n\t\t\t\t\t\t\t\t\tsum-=month[1][i];\n\t\t\t\t\t\t\t\t\tmon++;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tday=sum;\n\t\t\t\t\t\t\tsum=0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif(sum>365) {\n\t\t\t\t\t\t\tsum-=365;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if(sum==365) {\n\t\t\t\t\t\t\tsum-=365;\n\t\t\t\t\t\t\tmon=12,day=31;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tmon=1;\n\t\t\t\t\t\t\t//cout<<\"sum==\"<<sum<<endl;\n\t\t\t\t\t\t\tfor(i=0;i<12;i++) {\n\t\t\t\t\t\t\t\tif(sum>=month[0][i]) {\n\t\t\t\t\t\t\t\t\tif(sum-month[0][i]==0) break;\n\t\t\t\t\t\t\t\t\tsum-=month[0][i];\n\t\t\t\t\t\t\t\t\tmon++;\n\t\t\t\t\t\t\t\t\t//cout<<\"sum==\"<<sum<<endl;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tday=sum;\n\t\t\t\t\t\t\tsum=0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(sum==0) break;\n\t\t\t\t\tsuu++;\n\t\t\t\t}\n\t\t\t\tcout<<suu<<\".\"<<mon<<\".\"<<day<<endl;\n\t\t\t}\n\t\t}\n\t}\n}\n\t"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <map>\n#include <cstring>\n#include <string>\n#include <stack>\n#include <queue>\n#include <cmath>\n#include <cstdlib>\n#include <cstdio>\n#include <algorithm>\n#include <sstream>\n#include <set>\nusing namespace std;\n\n#define rep(i,n) for(int i=0;i<(int)n;i++)\n#define repp(i,k,n) for(int i=k;i<(int)n;i++)\n#define rei(n) for(int i=0;i<(int)n;i++)\n#define rel(n) for(int l=0;l<(int)n;l++)\n#define al(s) s.begin(),s.end()\n#define INT_MAX 2147483647\n\nstruct Calendar\n{\nprotected:\n\tlong long dat[2][13] = { { 0,31,28,31,30,31,30,31,31,30,31,30,31 }\n\t,{ 0,31,29,31,30,31,30,31,31,30,31,30,31 } };\npublic:\n\tlong long year;\n\tlong long month;\n\tlong long day;\n\tCalendar(long long y, long long m, long long d)\n\t{\n\t\tyear = y;\n\t\tmonth = m;\n\t\tday = d;\n\t}\n\tCalendar()\n\t{\n\n\t}\n\tint uruu()\n\t{\n\t\tif (year % 4 == 0)\n\t\t{\n\t\t\tif (year % 400 != 0 && year % 100 == 0)\n\t\t\t{\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t}\n\t\treturn 0;\n\t}\n\tint uruu(long long y)\n\t{\n\t\tif (y % 4 == 0)\n\t\t{\n\t\t\tif (y % 400 != 0 && y % 100 == 0)\n\t\t\t{\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t}\n\t\treturn 0;\n\t}\n\tlong long pday(long long d)\n\t{\n\t\tday += d;\n\t\tfor (;;month++)\n\t\t{\n\t\t\tif (month >= 13)\n\t\t\t{\n\t\t\t\tyear++;\n\t\t\t\tmonth = 1;\n\t\t\t}\n\n\t\t\tif (dat[uruu()][month] < day)\n\t\t\t{\n\t\t\t\tday -= dat[uruu()][month];\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tpmonth(0);\n\t\treturn d;\n\t}\n\tlong long pmonth(long long m)\n\t{\n\t\tmonth += m;\n\t\tfor (;; year++)\n\t\t{\n\t\t\tif (month > 12)\n\t\t\t{\n\t\t\t\tmonth -= 12;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn m;\n\t}\n\tlong long pyear(long long y)\n\t{\n\t\tyear += y;\n\t\treturn y;\n\t}\n\tlong long dif(Calendar c)\n\t{\n\t\tlong long ans = 0;\n\t\tCalendar a(year,month,day);\n\t\tif (a.year > c.year)swap(a, c);\n\t\tans -= a.day;\n\t\tans += c.day;\n\t\ta.day = 0;\n\t\tc.day = 0;\n\t\tfor (; a.month >= 1; a.month--)\n\t\t{\n\t\t\tans -= dat[a.uruu()][a.month];\n\t\t}\n\t\tfor (; c.month >= 1; c.month--)\n\t\t{\n\t\t\tans += dat[c.uruu()][c.month];\n\t\t}\n\t\tfor (; a.year != c.year; a.year++)\n\t\t{\n\t\t\tans += 365;\n\t\t\tif (a.uruu())ans++;\n\t\t}\n\t\treturn ans;\n\t}\n\t\n\n};\n\n\n\n\n\n\nint main()\n{\n\tstring a;\n\twhile (1)\n\t{\n\t\tgetline(cin, a);\n\t\tif (a.find(\"#\") != string::npos)break;\n\t\tint coun = 0;\n\t\tfor (int i = 0; i < a.size(); i++)\n\t\t{\n\t\t\tif (a[i] == '.')coun++;\n\t\t}\n\t\tif (coun == 2)\n\t\t{\n\t\t\tstring Y[3];\n\t\t\tint j = 0;\n\t\t\tfor (int i = 0; i < a.size(); i++)\n\t\t\t{\n\t\t\t\tif (a[i] == '.')j++;\n\t\t\t\telse Y[j] += a[i];\n\t\t\t}\n\t\t\tlong long y, m, d;\n\t\t\ty = atoi(Y[0].c_str());\n\t\t\tm = atoi(Y[1].c_str());\n\t\t\td = atoi(Y[2].c_str());\n\n\t\t\tCalendar A(y,m,d), B(2012,12,21);\n\t\t\tlong long def = B.dif(A);\n\t\t\t\n\t\t\tif(def<0)\n\t\t\t{\n\t\t\t\tint b, ka, t, w, ki;\n\t\t\t\tb = 12;\n\t\t\t\tka = 19;\n\t\t\t\tt = 19;\n\t\t\t\tw = 17;\n\t\t\t\tki = 20;\n\t\t\t\tdef *= -1;\n\t\t\t\tka -= def / (1872000 / 13 / 20);\n\t\t\t\tdef %= 1872000 / 13 / 20;\n\n\t\t\t\tt -= def / (1872000 / 13 / 20 / 20);\n\t\t\t\tdef %= 1872000 / 13 / 20 / 20;\n\n\t\t\t\tw -= def / (1872000 / 13 / 20 / 20 / 18);\n\t\t\t\tdef %= 1872000 / 13 / 20 / 20 / 18;\n\n\t\t\t\tki -= def / (1872000 / 13 / 20 / 20 / 18 / 20);\n\n\t\t\t\tcout << b << \".\" << ka << \".\" << t << \".\" << w << \".\" << ki << endl;\n\t\t\t\t\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tdef %= 1872000;\n\t\t\t\tint ans = 0;\n\n\t\t\t\tans = def / (1872000 / 13);\n\t\t\t\tdef %= 1872000 / 13;\n\t\t\t\tcout << ans << \".\";\n\n\t\t\t\tans = def / (1872000 / 13 / 20);\n\t\t\t\tdef %= 1872000 / 13 / 20;\n\t\t\t\tcout << ans << \".\";\n\n\t\t\t\tans = def / (1872000 / 13 / 20 / 20);\n\t\t\t\tdef %= 1872000 / 13 / 20 / 20;\n\t\t\t\tcout << ans << \".\";\n\n\t\t\t\tans = def / (1872000 / 13 / 20 / 20 / 18);\n\t\t\t\tdef %= 1872000 / 13 / 20 / 20 / 18;\n\t\t\t\tcout << ans << \".\";\n\n\t\t\t\tans = def / (1872000 / 13 / 20 / 20 / 18 / 20);\n\t\t\t\tcout << ans << endl;\n\t\t\t\tcontinue;\n\n\n\t\t\t}\n\n\t\t}\n\t\telse\n\t\t{\n\t\t\tstring Y[5];\n\t\t\tint j = 0;\n\t\t\tfor (int i = 0; i < a.size(); i++)\n\t\t\t{\n\t\t\t\tif (a[i] == '.')j++;\n\t\t\t\telse Y[j] += a[i];\n\t\t\t}\n\t\t\tj = 0;\n\t\t\tCalendar c(2012, 12, 21);\n\t\t\tint h = atoi(Y[0].c_str());\n\t\t\tint g = atoi(Y[1].c_str());\n\t\t\tg += h * 20;\n\t\t\th = atoi(Y[2].c_str());\n\t\t\th += g * 20;\n\t\t\tg = atoi(Y[3].c_str());\n\t\t\tg += h * 18;\n\t\t\th = atoi(Y[4].c_str());\n\t\t\th += g * 20;\n\n\t\t\tc.pday(h);\n\t\t\t\n\t\t\tcout << c.year << \".\" << c.month << \".\" << c.day << endl;\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing ll = long long;\nusing VI = vector<int>;\nusing VL = vector<ll>;\n#define FOR(i,a,n) for(int (i)=(a);(i)<(n);(i)++)\n#define eFOR(i,a,n) for(int (i)=(a);(i)<=(n);(i)++)\n#define rFOR(i,a,n) for(int (i)=(n)-1;(i)>=(a);(i)--)\n#define erFOR(i,a,n) for(int (i)=(n);(i)>=(a);(i)--)\n#define SORT(i) sort((i).begin(),(i).end())\n#define rSORT(i,a) sort((i).begin(),(i).end(),(a))\n#define all(i) (i).begin(),(i).end()\nconstexpr ll INF = 1000000000;\nconstexpr ll LLINF = 1LL << 60;\nconstexpr ll mod = 1000000007;\nconstexpr ll MOD = 998244353;\ntemplate<class T> inline bool chmax(T& a, T b) { if (a < b) { a = b; return 1; }return 0; }\ntemplate<class T> inline bool chmin(T& a, T b) { if (a > b) { a = b; return 1; }return 0; }\ninline void init() { cin.tie(nullptr); cout.tie(nullptr); ios::sync_with_stdio(false); cout << fixed << setprecision(15); }\ntemplate<class T> inline istream& operator>>(istream& input, vector<T>& v) { for (auto& elemnt : v)input >> elemnt; return input; }\n\nll GetDays(ll y, ll m, ll d){\n    // 1・2月 → 前年の13・14月\n    if (m <= 2){\n        --y;\n        m += 12;\n    }\n    ll dy = 365 * (y - 1); // 経過年数×365日\n    ll c = y / 100;\n    ll dl = (y >> 2) - c + (c >> 2); // うるう年分\n    ll dm = (m * 979 - 1033) >> 5; // 1月1日から m 月1日までの日数\n    return dy + dl + dm + d - 1;\n}\n\nll solve(ll y, ll m, ll d) {\n    return GetDays(y, m, d) - GetDays(2012, 12, 21);\n}\n\nbool uru(int y) {\n    if (y % 400 == 0)return true;\n    if (y % 100 == 0)return false;\n    if (y % 4 == 0)return true;\n    return false;\n}\nint month[2][13] = {\n    {0,31,28,31,30,31,30,31,31,30,31,30,31}\n    ,{0,31,29,31,30,31,30,31,31,30,31,30,31}\n};\nvoid nextday(int& y, int& m, int& d) {\n    if (d == month[uru(y)][m]) {\n        m++;\n        d = 1;\n    }\n    else d++;\n    if (m == 13) {\n        y++;\n        m = 1;\n    }\n}\n\nint main() {\n    init();\n\n    string in;\n    while (1) {\n        cin >> in;\n        if (in == \"#\")break;\n        VI a;\n        int f = 0;\n        FOR(i, 0, in.length()) {\n            if (in[i] == '.') {\n                a.push_back(stoi(in.substr(f, i - f)));\n                f = i + 1;\n            }\n        }\n        a.push_back(stoi(in.substr(f)));\n\n        if (a.size() == 3) {\n            int w = 20, t = w * 18, k = t * 20, b = k * 20;\n            ll date = solve(a[0], a[1], a[2]) % 1872000;\n            cout << date / b << \".\";\n            date %= b;\n            cout << date / k << \".\";\n            date %= k;\n            cout << date / t << \".\";\n            date %= t;\n            cout << date / w << \".\";\n            date %= w;\n            cout << date << \"\\n\";\n        }\n        else {\n            int dif[4] = { 20,20,18,20 };\n            FOR(i, 0, 4)a[i + 1] += a[i] * dif[i];\n            int date = a[4];\n\n            int y = 2012, m = 12, d = 21;\n            FOR(i, 0, date)nextday(y, m, d);\n            cout << y << \".\" << m << \".\" << d << \"\\n\";\n        }\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\n\nint s2i(string str){\n  stringstream ss;\n  int res;\n  ss<<str;\n  ss>>res;\n  return res;\n}\n\nll calc(ll y,ll m,ll d){\n  ll res=0;\n\n  if(y>800){\n    y-=400;\n    ll D=y/400;\n    y%=400;\n    res=D*146097;\n    y+=400;\n  }\n  \n  int t[]={0,31,28,31,30,31,30,31,31,30,31,30,31};\n  int I=1,J=1,K=1;\n\n  \n  while(1){\n    res++;\n    if(I==y&&J==m&&K==d)break;\n    K++;\n    if(I%400==0 || (  I%100!=0 && I%4 == 0)){\n      t[2]++;\n      if(K>t[J]){K=1;J++;}\n      if(J==13){I++;J=1;}\n      t[2]--;\n    }else{\n      if(K>t[J]){K=1;J++;}\n      if(J==13){I++;J=1;}\n    }\n\n  }\n  //  cout<<y<<' '<<m<<' '<<d<<' '<<res<<endl;\n  return res;\n}\n\nvoid solve(ll y,ll m,ll d){\n  ll sum=calc(y,m,d)-calc(2012,12,21);\n  cout<<sum/20/18/20/20%13<<'.';\n  cout<<sum/20/18/20%20<<'.';\n  cout<<sum/20/18%20<<'.';\n  cout<<sum/20%18<<'.';\n  cout<<sum%20<<endl;\n}\n\nvoid solve2(ll a,ll b,ll c,ll d,ll e){\n  ll sum=(((a*20+b)*20+c)*18+d)*20+e;\n  ll A=sum/146097;\n  sum%=146097;\n  ll Y=2012+A*400,M=12,D=21;\n  \n  while(sum--){\n    D++;\n    int t[]={0,31,28,31,30,31,30,31,31,30,31,30,31};\n    if(Y%400==0 || (  Y%100!=0 && Y%4 == 0)){\n      t[2]++;\n      if(D>t[M]){D=1;M++;}\n      if(M==13){Y++;M=1;}\n      t[2]--;\n    }else{\n      if(D>t[M]){D=1;M++;}      \n      if(M==13){Y++;M=1;}\n    }\n  }\n  cout<<Y<<'.'<<M<<'.'<<D<<endl;\n}\n\nint main(){\n  string str;\n  while(1){\n    cin>>str;\n    if(str==\"#\")break;\n    for(int i=0;i<(int)str.size();i++)if(str[i]=='.')str[i]=' ';\n    stringstream ss(str);\n    string tmp;\n    vector<int> vec;\n    while(ss>>tmp)vec.push_back(s2i(tmp));\n    if(vec.size()==3){      \n      solve(vec[0],vec[1],vec[2]);\n    }else{\n      solve2(vec[0],vec[1],vec[2],vec[3],vec[4]);\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define int long long\n#define rep(i,n)for(int i=0;i<(n);i++)\nusing namespace std;\n\nint base;\nint tod(int b,int ka,int t,int w,int ki){\n\tka+=b*20;t+=ka*20;w+=18*t;ki+=20*w;\n\treturn base+ki;\n}\nbool is_uruu(int y){\n\treturn y%4==0&&(y%100!=0||y%400==0);\n}\nint mn[]{31,28,31,30,31,30,31,31,30,31,30,31};\nint calc(int y,int m,int d){\n\tint res=0;\n\tfor(int i=1;i<y;i++){\n\t\tres+=365;if(is_uruu(i))res++;\n\t}\n\tfor(int i=1;i<m;i++){\n\t\tres+=mn[i-1];if(is_uruu(y)&&i==2)res++;\n\t}\n\treturn res+d;\n}\nint tod(int y,int m,int d){\n\treturn calc(y,m,d)-base;\n}\nvoid tom(int day){\n\tint b,ka,t,w,ki;\n\tki=day%20;day/=20;\n\tw=day%18;day/=18;\n\tt=day%20;day/=20;\n\tka=day%20;day/=20;\n\tb=day%13;\n\tprintf(\"%lld.%lld.%lld.%lld.%lld\",b,ka,t,w,ki);\n}\nvoid tos(int day){\n\tint y,m;\n\tfor(y=1;365+is_uruu(y)<day;y++)day-=365+is_uruu(y);\n\tfor(m=1;mn[m-1]+(m==2&&is_uruu(y))<day;m++)day-=mn[m-1]+(m==2&&is_uruu(y));\n\tprintf(\"%lld.%lld.%lld\\n\",y,m,day);\n}\nsigned main() {\n\tbase=calc(2012,12,21);\n\tstring s;\n\twhile(cin>>s,s!=\"#\"){\n\t\tif(count(s.begin(),s.end(),'.')==2){\n\t\t\tint a=s.find('.');\n\t\t\tint y=stoi(s.substr(0,a));\n\t\t\tint b=s.find('.',a+1);\n\t\t\tint m=stoi(s.substr(a+1,b-a));\n\t\t\tint d=stoi(s.substr(b+1));\n\t\t\ttom(tod(y,m,d));\n\t\t}\n\t\telse{\n\t\t\tint a=s.find('.');\n\t\t\tint ba=stoi(s.substr(0,a));\n\t\t\tint b=s.find('.',a+1);\n\t\t\tint ka=stoi(s.substr(a+1,b-a));\n\t\t\tint c=s.find('.',b+1);\n\t\t\tint t=stoi(s.substr(b+1,c-b));\n\t\t\tint d=s.find('.',c+1);\n\t\t\tint w=stoi(s.substr(c+1,d-c));\n\t\t\tint ki=stoi(s.substr(d+1));\n\t\t\ttos(tod(ba,ka,t,w,ki));\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nstd::vector<std::string> split(const std::string &str, char sep){\n    std::vector<std::string> v;\n    std::stringstream ss(str);\n    std::string buffer;\n    while( std::getline(ss, buffer, sep) ) {\n        v.push_back(buffer);\n    }\n    return v;\n}\n\ninline bool reap(int y){\n    if(y%4==0 && y%100 != 0 ){\n        return true;\n    }\n    else if(y%400 == 0){\n        return true;\n    }\n    return false;\n}\n\nint main() {\n\n\n    string s;\n\n    while(1){\n\n        cin >> s;\n\n        if(s[0] == '#') break;\n\n        vector<string> vs = split(s,'.');\n\n        if(vs.size() == 3){\n            int b,ka,t,w,ki;\n            b = ka = t = w = ki = 0;\n\n            int y,m,d;\n\n            stringstream ss;\n\n            ss << vs[0]; ss >> y; ss.clear();\n            ss << vs[1]; ss >> m; ss.clear();\n            ss << vs[2]; ss >> d; ss.clear();\n\n            if(y==2012){\n                 ki = d - 21;\n            }\n\n            else {\n\n                /*while (y != 2012) {\n\n                    do {\n\n                        while (d != 0) {\n                            d--;\n                            ki++;\n                        }\n\n                        m--;\n\n                        if (m == 1 || m == 3 || m == 5 || m == 7 || m == 8 || m == 10 || m == 0) {\n                            d = 31;\n                        } else if (m == 4 || m == 6 || m == 9 || m == 11) {\n                            d = 30;\n                        } else if (m == 2 && reap(y)) {\n                            d = 29;\n                        } else {\n                            d = 28;\n                        }\n\n                    } while (m != 0);\n\n                    if (ki >= 20) {\n                        w += ki / 20;\n                        ki %= 20;\n                    }\n                    if (w >= 18) {\n                        t += w / 18;\n                        w %= 18;\n                    }\n                    if (t >= 20) {\n                        ka += t / 20;\n                        t %= 20;\n                    }\n                    if (ka >= 20) {\n                        b += ka / 20;\n                        ka %= 20;\n                    }\n                    if (b >= 13) {\n                        b %= 13;\n                    }\n\n                    m = 12;\n\n                    y--;\n\n                }*/\n\n                if(d>21){\n                    ki += d-21;\n                    d = 21;\n                }\n                else{\n                    m--;\n                    if(m==0){\n                        ki += d+31-21;\n                        m = 12;\n                        y--;\n                    }\n                    else if(m == 3 || m == 5 || m == 7 || m == 8 || m == 10 || m == 1){\n                        ki += d+31-21;\n                    }\n                    else if(m == 4 || m == 6 || m == 9 || m == 11){\n                        ki += d+30-21;\n                    }\n                    else if(m == 2 && reap(y)){\n                        ki += d+29-21;\n                    }\n                    else{\n                        ki += d+28-21;\n                    }\n                    ki++;\n                }\n\n\n                while(y!=2013){\n\n                    while(m!=0){\n                        if(m == 1 || m == 3 || m == 5 || m == 7 || m == 8 || m == 10 || m == 12){\n                            ki += 31;\n                        }\n                        else if(m == 4 || m == 6 || m == 9 || m == 11){\n                            ki += 30;\n                        }\n                        else if(m == 2 && reap(y)){\n                            ki += 29;\n                        }\n                        else{\n                            ki += 28;\n                        }\n                        m--;\n                    }\n\n                    if(ki>=20){\n                        w += ki/20;\n                        ki %= 20;\n                    }\n                    if(w>=18){\n                        t += w/18;\n                        w %= 18;\n                    }\n                    if(t>=20){\n                        ka += t/20;\n                        t %= 20;\n                    }\n                    if(ka>=20){\n                        b += ka/20;\n                        ka %= 20;\n                    }\n                    if(b>=13){\n                        b %= 13;\n                    }\n\n                    m = 12;\n\n                    y--;\n\n                }\n\n                while(m!=0){\n                    if(m == 1 || m == 3 || m == 5 || m == 7 || m == 8 || m == 10 || m == 12){\n                        ki += 31;\n                    }\n                    else if(m == 4 || m == 6 || m == 9 || m == 11){\n                        ki += 30;\n                    }\n                    else if(m == 2 && reap(y)){\n                        ki += 29;\n                    }\n                    else{\n                        ki += 28;\n                    }\n                    m--;\n                }\n\n                if(ki>=20){\n                    w += ki/20;\n                    ki %= 20;\n                }\n                if(w>=18){\n                    t += w/18;\n                    w %= 18;\n                }\n                if(t>=20){\n                    ka += t/20;\n                    t %= 20;\n                }\n                if(ka>=20){\n                    b += ka/20;\n                    ka %= 20;\n                }\n                if(b>=13){\n                    b %= 13;\n                }\n\n                //ki += 31 - 21;\n\n                if (ki >= 20) {\n                    w += ki / 20;\n                    ki %= 20;\n                }\n                if (w >= 18) {\n                    t += w / 18;\n                    w %= 18;\n                }\n                if (t >= 20) {\n                    ka += t / 20;\n                    t %= 20;\n                }\n                if (ka >= 20) {\n                    b += ka / 20;\n                    ka %= 20;\n                }\n                if (b >= 13) {\n                    b %= 13;\n                }\n\n                /*if(ki<0){\n                    if(w==0){\n                        if(t==0){\n                            if(ka==0){\n                                b--;\n                                ka = 19;\n                                t = 19;\n                                w = 17;\n                                ki += 19;\n                            }\n                            else{\n                                ka--;\n                                t = 19;\n                                w = 17;\n                                ki += 19;\n                            }\n                        }\n                        else{\n                            t--;\n                            w = 17;\n                            ki += 19;\n                        }\n                    }\n                    else{\n                        w--;\n                        ki += 19;\n                    }\n                }*/\n\n            }\n\n            printf(\"%d.%d.%d.%d.%d\\n\",b,ka,t,w,ki);\n\n\n        }\n        else{\n\n            long long int day = 0;\n\n            long long int b,ka,t,w,ki;\n            b = ka = t = w = ki = 0;\n\n            long long int y,m,d;\n\n            stringstream ss;\n\n            ss << vs[0]; ss >> b; ss.clear();\n            ss << vs[1]; ss >> ka; ss.clear();\n            ss << vs[2]; ss >> t; ss.clear();\n            ss << vs[3]; ss >> w; ss.clear();\n            ss << vs[4]; ss >> ki; ss.clear();\n\n            day = ki + w*20 + t*20*18 + ka*20*18*20 + b*20*18*20*20;\n\n            y = 2012; m = 12; d = 21;\n/*\n            if(day > 10){\n                y++; m = 1; d = 1; day -= 11;\n            }\n            else{\n                d += day;\n                day = 0;\n            }\n\n            while(day!=0){\n\n                if(m == 1 || m == 3 || m == 5 || m == 7 || m == 8 || m == 10){\n                    if(day >= 31){\n                        m++;\n                        day -= 31;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }\n                }\n                else if(m == 4 || m == 6 || m == 9 || m == 11){\n                    if(day >= 30){\n                        m++;\n                        day -= 30;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }\n                }\n                else if(m == 2 && reap(y)){\n                    if(day >= 29){\n                        m++;\n                        day -= 29;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }\n                }\n                else if(m == 2){\n                    if(day >= 28){\n                        m++;\n                        day -= 28;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }\n                }\n                else if(m == 12) {\n                    if(day >= 31){\n                        m = 1;\n                        y++;\n                        day -= 31;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }\n                }\n\n            }\n*/\n\n            while(day!=0){\n\n                if(m == 1 || m == 3 || m == 5 || m == 7 || m == 8 || m == 10){\n                    while(day != 0 && d != 32){\n                        day--;\n                        d++;\n                    }\n                    if(d==32){\n                        m++;\n                        d = 1;\n                    }\n                    /*if(day >= 31){\n                        m++;\n                        day -= 31;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }*/\n                }\n                else if(m == 4 || m == 6 || m == 9 || m == 11){\n                    while(day != 0 && d != 31){\n                        day--;\n                        d++;\n                    }\n                    if(d==31){\n                        m++;\n                        d = 1;\n                    }\n                    /*if(day >= 30){\n                        m++;\n                        day -= 30;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }*/\n                }\n                else if(m == 2 && reap(y)){\n                    while(day != 0 && d != 30){\n                        day--;\n                        d++;\n                    }\n                    if(d==30){\n                        m++;\n                        d = 1;\n                    }\n                    /*if(day >= 29){\n                        m++;\n                        day -= 29;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }*/\n                }\n                else if(m == 2){\n                    while(day != 0 && d != 29){\n                        day--;\n                        d++;\n                    }\n                    if(d==29){\n                        m++;\n                        d = 1;\n                    }\n                    /*if(day >= 28){\n                        m++;\n                        day -= 28;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }*/\n                }\n                else if(m == 12) {\n                    while(day != 0 && d != 32){\n                        day--;\n                        d++;\n                    }\n                    if(d==32){\n                        m = 1;\n                        d = 1;\n                        y++;\n                    }\n                    /*if(day >= 31){\n                        m = 1;\n                        y++;\n                        day -= 31;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }*/\n                }\n\n            }\n\n            printf(\"%lld.%lld.%lld\\n\",y,m,d);\n\n\n        }\n\n    }\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <cstdio>\nusing namespace std;\n\nint leap[10000001]={0};\nvoid lea(){\n    for(int i=0;i<=10000000;i++){\n        if(i%400==0 || (i%4==0 && i%100!=0)) leap[i] = 1;\n    }\n}\n\nint main(){\n    lea();\n    string s;\n    while(cin >> s){\n        if(s == \"#\") break;\n        long long days=0,b=0,k=0,t=0,u=0,kin=0,y=0,m=0,d=0,cnt=0;\n        for(int i=0;i<s.size();i++){\n            if(s[i] == '.') cnt++;\n        }\n        if(cnt == 4){\n            sscanf(s.c_str(),\"%lld.%lld.%lld.%lld.%lld\",&b,&k,&t,&u,&kin);\n            days = b*144000 + k*7200 + t*360 + u*20 + kin;\n            days += 735224;\n            for(y=0,b=0;b<days;y++) b += (leap[y] == 1? 366:365);\n            y--;\n            days = (leap[y]==1? 366:365) + (days-b);\n            for(m=1,b=0;b<days;m++){\n                if(m==4 || m==6 || m==9 || m==11) b += 30;\n                else if(m == 2) b+=(leap[y]==1? 29:28);\n                else b += 31;\n            }\n            m--;\n            days = ((m==4||m==6||m==9||m==11)?30:(m==2?(leap[y]==1?29:28):31)) + (days-b);\n            printf(\"%lld.%lld.%lld\\n\",y,m,days);\n        }\n        else if(cnt == 2){\n            sscanf(s.c_str(),\"%lld.%lld.%lld\",&y,&m,&d);\n            if(y == 2012){\n                cout << \"0.0.0.0.\" << d-21 << endl;\n                continue;\n            }\n            else {\n                days+=10;\n                for(int i=2013;i<y;i++) days +=(leap[i]==1)? 366:365;\n                for(int i=1;i<m;i++){\n                    if(i==4 || i==6 || i==9 || i==11) days += 30;\n                    else if(i == 2) days+=(leap[y]==1)? 29:28;\n                    else days += 31;\n                }\n                days += d;\n                b = days/144000; days%=144000;\n                k = days/7200; days%=7200;\n                t = days/360; days%=360;\n                u = days/20; days%=20;\n                kin = days;\n                if(b >= 13) b%=13;\n                printf(\"%lld.%lld.%lld.%lld.%lld\\n\",b,k,t,u,kin);\n            }\n        }\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string> \nusing namespace std;\nint main(){\n  long long y,m,d,b,ka,t,w,ki;\n  int i,j,k,p;\n  long long day,base=0,ba=1872000;\n  int mo[]={0,31,28,31,30,31,30,31,31,30,31,30,31};\n  string str;\n  cin>> str;\n  while(str[0]!='#'){\n    y=0;m=0;d=0;i=0;day=0;p=0;\n    while(str[i]!='\\0'){\n      if(str[i]=='.') p++;\n      i++;\n    }\n    if(p==2){\n      i=0;\n      while(str[i]!='.') i++;\n      for(j=0;j<i;j++){\n\ty*=10;\n\ty+=str[j]-'0';\n      }\n      i++;\n      k=i;\n      while(str[i]!='.') i++;\n      for(j=k;j<i;j++){\n\tm*=10;\n\tm+=str[j]-'0';\n      } \n      i++;\n      k=i;\n      while(str[i]!='\\0') i++;\n      for(j=k;j<i;j++){\n\td*=10;\n\td+=str[j]-'0';\n      }\n      //cout << y << \" \" << m << \" \" << d << endl;\n      if(y==2012) {\n\tday=d-21;\n      }else{\n\tday=10;\n\tfor(i=2013;i<y;i++)\n\t  if((i%4==0&&i%100!=0)||i%400==0) day+=366;\n\t  else day+=365;\n\tfor(i=1;i<m;i++) day+=mo[i];\n\tif(2<m&&((y%4==0&&y%100!=0)||y%400==0)) day++;\n\tday+=d;\n      }\n      while(ba<day) day-=ba;\n      b=day%(13*20*20*18*20)/(20*20*18*20);\n      ka=day%(20*20*18*20)/(20*18*20);\n      t=day%(20*18*20)/(18*20);\n      w=day%(18*20)/20;\n      ki=day%(20);\n      cout << b << \".\" << ka << \".\" << t << \".\" << w << \".\" << ki << endl;\n    }else{\n      i=0;b=0;ka=0;t=0;w=0;ki=0;\n      while(str[i]!='.') i++;\n      for(j=0;j<i;j++){\n\tb*=10;\n\tb+=str[j]-'0';\n      }\n      i++;\n      k=i;\n      while(str[i]!='.') i++;\n      for(j=k;j<i;j++){\n\tka*=10;\n\tka+=str[j]-'0';\n      } \n      i++;\n      k=i;\n      while(str[i]!='.') i++;\n      for(j=k;j<i;j++){\n\tt*=10;\n\tt+=str[j]-'0';\n      }\n      i++;\n      k=i;\n      while(str[i]!='.') i++;\n      for(j=k;j<i;j++){\n\tw*=10;\n\tw+=str[j]-'0';\n      } \n      i++;\n      k=i;\n      while(str[i]!='\\0') i++;\n      for(j=k;j<i;j++){\n\tki*=10;\n\tki+=str[j]-'0';\n      }\n      //cout << b << \".\" << ka << \".\" << t << \".\" << w << \".\" << ki << endl;\n      day =b*20*20*18*20+ka*20*18*20+t*18*20+w*20+ki;\n      \n      y=2012;m=12;d=21;\n      if(day<=10) d+=day;\n      else{\n\tday-=10;\n\ty=2013;\n\tint f1=0;\n\twhile(day>365&&f1==0){\n\t  if((y%4==0&&y%100!=0)||y%400==0) \n\t    if(day==366) f1=1;\n\t    else day-=366;\n\t  else day-=365;\n\t  if(f1==0)y++;\n\t}\n\tm=1;int flag=0;\n\t//cout << day << endl;\n\twhile(day>mo[m]&&flag==0){\n\t  if(m==2&&((y%4==0&&y%100!=0)||y%400==0)) {\n\t    if(day>29) {\n\t      day-=29;\n\t      m++;\n\t      \n\t    }else{\n\t      flag=1;\n\t    }\n\t  }else{\n\t    day-=mo[m];\n\t    m++;\n\t  }\n\t}\n\t//cout << day << endl;\n\td=day;\n      }\n      cout << y << \".\" << m << \".\" << d << endl;\n    }\n    cin >> str;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<ll> vl;\ntypedef complex<double> P;\ntypedef pair<int,int> pii;\n#define REP(i,n) for(ll i=0;i<n;++i)\n#define REPR(i,n) for(ll i=1;i<n;++i)\n#define FOR(i,a,b) for(ll i=a;i<b;++i)\n\n#define DEBUG(x) cout<<#x<<\": \"<<x<<endl\n#define DEBUG_VEC(v) cout<<#v<<\":\";REP(i,v.size())cout<<\" \"<<v[i];cout<<endl\n#define ALL(a) (a).begin(),(a).end()\n\n#define MOD (ll)(1e9+7)\n#define ADD(a,b) a=((a)+(b))%MOD\n#define FIX(a) ((a)%MOD+MOD)%MOD\n\nll calc1(ll y,ll m,ll d){\n  ll ret = 0;\n  if(y>0){\n    ret += (y-1)*365;\n    ret += (y+3)/4;\n    ret -= (y+3)/100;\n    ret += (y+3)/400;\n  }\n  if((y%4==0&&y%100!=0) || (y%400==0)){\n    // is uruu\n    ll daylist[12] = {31,29,31,30,31,30,31,31,30,31,30,31};\n    REP(i,m-1) ret += daylist[i];\n    ret += d;\n  }else{\n    // isnt uruu\n    ll daylist[12] = {31,28,31,30,31,30,31,31,30,31,30,31};\n    REP(i,m-1) ret += daylist[i];\n    ret += d;\n  }\n  return ret;\n}\n\nstring tostr(ll a){\n  if(a==0)return \"0\";\n  string ret = \"\";\n  while(a){\n    ret = (char)(a%10+'0') + ret;\n    a /= 10;\n  }\n  return ret;\n}\n\nvoid printmaya(ll day){\n  day %= 1872000;\n  string ret = \"\";\n  ret = tostr(day%20) + ret;\n  day /= 20;\n  ret = tostr(day%18) + \".\" + ret;\n  day /= 18;\n  ret = tostr(day%20) + \".\" + ret;\n  day /= 20;\n  ret = tostr(day%20) + \".\" + ret;\n  day /= 20;\n  ret = tostr(day) + \".\" + ret;\n  cout << ret << endl;\n  return;\n}\n\nvoid printdays(ll days){\n  ll year;\n  year = days/366;\n  while(calc1(year,1,0) < days)++year;\n  --year;\n  days -= calc1(year,1,0);\n  ll month = 0, day = 0;\n  if((year%4==0&&year%100!=0) || (year%400==0)){\n    // is uruu\n    ll daylist[12] = {31,29,31,30,31,30,31,31,30,31,30,31};\n    REP(i,12){\n      if(days <= daylist[i]){\n        month = i+1;\n        day = days;\n        break;\n      }\n      days -= daylist[i];\n    }\n  }else{\n    // isnt uruu\n    ll daylist[12] = {31,28,31,30,31,30,31,31,30,31,30,31};\n    REP(i,12){\n      if(days <= daylist[i]){\n        month = i+1;\n        day = days;\n        break;\n      }\n      days -= daylist[i];\n    }\n  }\n  printf(\"%lld.%lld.%lld\\n\",year,month,day);\n}\n\nint main(){\n  while(true){\n    string s;\n    cin>>s;\n    if(s==\"#\")break;\n    if(count(ALL(s),'.') == 4){\n      // DEBUG(\"?????????\");\n      ll a=0,b=0,c=0,d=0,e=0;\n      // input\n      {\n        int it = 0;\n        while(s[it]!='.'){\n          a *= 10;\n          a += (s[it]-'0');\n          ++it;\n        }\n        ++it;\n        while(s[it]!='.'){\n          b *= 10;\n          b += (s[it]-'0');\n          ++it;\n        }\n        ++it;\n        while(s[it]!='.'){\n          c *= 10;\n          c += (s[it]-'0');\n          ++it;\n        }\n        ++it;\n        while(s[it]!='.'){\n          d *= 10;\n          d += (s[it]-'0');\n          ++it;\n        }\n        ++it;\n        while(it<s.size()){\n          e *= 10;\n          e += (s[it]-'0');\n          ++it;\n        }\n      }\n      ll dest = calc1(2012,12,21);\n      ll add = (((a*20+b)*20+c)*18+d)*20+e;\n      printdays(dest+add);\n    }else{\n      // DEBUG(\"??±????????????\");\n      // year month day\n      ll year = 0, month = 0, day = 0;\n      // input\n      {\n        int it = 0;\n        while(s[it]!='.'){\n          year *= 10;\n          year += (s[it]-'0');\n          ++it;\n        }\n        ++it;\n        while(s[it]!='.'){\n          month *= 10;\n          month += (s[it]-'0');\n          ++it;\n        }\n        ++it;\n        while(it<s.size()){\n          day *= 10;\n          day += (s[it]-'0');\n          ++it;\n        }\n      }\n      ll dest = calc1(2012,12,21);\n      ll birt = calc1(year,month,day);\n      printmaya(birt - dest);\n    }\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <fstream>\n#include <sstream>\n#include <iomanip> \n#include <complex> \n#include <string>\n#include <vector> \n#include <list>\n#include <deque> \n#include <stack> \n#include <queue> \n#include <set>\n#include <map>\n#include <bitset>\n#include <functional>\n#include <utility>\n#include <algorithm> \n#include <numeric> \n#include <typeinfo> \n#include <cstdio>\n#include <cstdlib> \n#include <cstring>\n#include <cmath>\n#include <climits> \n#include <ctime>\nusing namespace std;\n\ntypedef unsigned long long ull;\n\nstring str;\nvector<ull> a;\null nd[12]={31,28,31,30,31,30,31,31,30,31,30,31};\null ud[12]={31,29,31,30,31,30,31,31,30,31,30,31};\n\nbool uruY(ull y){\n\tif(y%400==0)return true;\n\tif(y%100==0)return false;\n\tif(y%4==0)return true;\n}\n\n ull GetDays(ull y,ull m,ull d){\n\t// 1・2月 → 前年の13・14月\n\tif (m <= 2){\n\t\t--y;\n\t\tm += 12;\n\t}\n\tull dy = 365 * (y - 1); // 経過年数×365日\n\tull c = y / 100;\n\tull dl = (y >> 2) - c + (c >> 2); // うるう年分\n\tull dm = (m * 979 - 1033) >> 5; // 1月1日から m 月1日までの日数\n\treturn dy + dl + dm + d - 1;\n}\nint main(void){\n\tull now=GetDays(2012,12,21);\n\twhile(getline(cin,str)){\n\t\tif(str==\"#\")break;\n\t\tfor(int i=0;i<str.size();i++){\n\t\t\tif(str[i]=='.')str[i]=' ';\n\t\t}\n\t\tstringstream ss(str);\n\t\tint in;\n\t\ta.clear();\n\t\twhile(ss >> in){\n\t\t\ta.push_back(in);\n\t\t}\n\t\tif(a.size()==3){\n\t\t\tull next=GetDays(a[0],a[1],a[2]);\n\t\t\t//printf(\"%llu %llu\\n\",next,now);\n\t\t\tnext-=now;\n\t\t\tnext=next%(13*20*20*18*20);\n\t\t\tull ki=next%20;\n\t\t\tnext=next/20;\n\t\t\tull w=next%18;\n\t\t\tnext=next/18;\n\t\t\tull t=next%20;\n\t\t\tnext=next/20;\n\t\t\tull ka=next%20;\n\t\t\tnext=next/20;\n\t\t\tull b=next%13;\n\t\t\tprintf(\"%llu.%llu.%llu.%llu.%llu\\n\",b,ka,t,w,ki);\n\t\t}else{\n\t\t\tull maya=a[0]*(20*20*18*20);\n\t\t\tmaya+=a[1]*(20*18*20);\n\t\t\tmaya+=a[2]*(18*20);\n\t\t\tmaya+=a[3]*20;\n\t\t\tmaya+=a[4];\n\t\t\tmaya+=now;\n\t\t\tull y=2012,m=12,d=21;\n\t\t\twhile(GetDays(y,m,d)<maya)y+=400;\n\t\t\twhile(GetDays(y,m,d)>maya+365)y--;\n\t\t\tif(uruY(y)){\n\t\t\t\tfor(m=1;m<=12;m++){\n\t\t\t\t\tfor(d=1;d<=ud[m-1];d++){\n\t\t\t\t\t\tif(GetDays(y,m,d)==maya)break;\n\t\t\t\t\t}\n\t\t\t\t\tif(GetDays(y,m,d)==maya)break;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tfor(m=1;m<=12;m++){\n\t\t\t\t\tfor(d=1;d<=nd[m-1];d++){\n\t\t\t\t\t\tif(GetDays(y,m,d)==maya)break;\n\t\t\t\t\t}\n\t\t\t\t\tif(GetDays(y,m,d)==maya)break;\n\t\t\t\t}\n\t\t\t}\n\t\t\tprintf(\"%lld.%lld.%lld\\n\",y,m,d);\n\t\t}\n\t}\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <algorithm>\n#include <sstream>\n#include <vector>\n#include <map>\n#include <cassert>\nusing namespace std;\n\nstatic long long getDays(long long y, long long m, long long d)\n{\n  if(m <= 2){\n    --y;\n    m += 12;\n  }\n  long long dy = 365 * (y - 1);\n  long long c = y / 100;\n  long long dl = (y >> 2) - c + (c >> 2);\n  long long dm = (m * 979 - 1033) >> 5;\n  return dy + dl + dm + d - 1;\n}\n\nint main(){\n\tstring s;\n\twhile(cin >> s && s != \"#\"){\n\t\tif( count(s.begin(),s.end(),'.') == 2 ){\n\t\t\t// seireki\n\t\t\tint y,m,d;\n\t\t\tsscanf(s.c_str(),\"%d.%d.%d\",&y,&m,&d);\n\t\t\tlong long days = getDays(y,m,d) - getDays(2012,12,21);\n\t\t\tdays %= 20 * 18 * 20 * 20 * 13;\n\t\t\tint b,ka,t,w,ki; int wei = 20 * 18 * 20 * 20;\n\t\t\tb = days / wei; days %= wei; wei /= 20;\n\t\t\tka= days / wei; days %= wei; wei /= 20;\n\t\t\tt = days / wei; days %= wei; wei /= 18;\n\t\t\tw = days / wei; days %= wei; wei /= 20;\n\t\t\tki = days / wei; days %= wei;\n\t\t\tcout << b << \".\" << ka << \".\" << t << \".\" << w << \".\" << ki << endl;\n\t\t}else{\n\t\t\t// maya\n\t\t\tint b,ka,t,w,ki;\n\t\t\tsscanf(s.c_str(),\"%d.%d.%d.%d.%d\",&b,&ka,&t,&w,&ki);\n\t\t\tint days = 0;\n\t\t\tint wei = 1;\n\t\t\tdays += wei * ki; wei *= 20;\n\t\t\tdays += wei * w;  wei *= 18;\n\t\t\tdays += wei * t;  wei *= 20;\n\t\t\tdays += wei * ka; wei *= 20;\n\t\t\tdays += wei * b;  wei * 13;\n\t\t\tint y = 2012 , m = 12 , d = 21;\n\t\t\tint table[] = {-1,31,28,31,30,31,30,31,31,30,31,30,31};\n\t\t\twhile(days--){\n\t\t\t\td++;\n\t\t\t\tif( d > table[m] + (m == 2 && ( y % 400 == 0 || (y % 4 == 0 && y % 100 != 0)) ) ){\n\t\t\t\t\tm++;\n\t\t\t\t\td = 1;\n\t\t\t\t}\n\t\t\t\tif( m > 12 ){\n\t\t\t\t\ty++;\n\t\t\t\t\tm = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tcout << y << \".\" << m << \".\" << d << endl;\n\t\t}\n\t\t\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <fstream>\n#include <sstream>\n#include <iomanip> \n#include <complex> \n#include <string>\n#include <vector> \n#include <list>\n#include <deque> \n#include <stack> \n#include <queue> \n#include <set>\n#include <map>\n#include <bitset>\n#include <functional>\n#include <utility>\n#include <algorithm> \n#include <numeric> \n#include <typeinfo> \n#include <cstdio>\n#include <cstdlib> \n#include <cstring>\n#include <cmath>\n#include <climits> \n#include <ctime>\nusing namespace std;\n\ntypedef unsigned long long ull;\n\nstring str;\nvector<ull> a;\null nd[12]={31,28,31,30,31,30,31,31,30,31,30,31};\null ud[12]={31,29,31,30,31,30,31,31,30,31,30,31};\n\nbool uruY(ull y){\n\tif(y%400==0)return true;\n\tif(y%100==0)return false;\n\tif(y%4==0)return true;\n\treturn false;\n}\n\null GetDays(ull y,ull m,ull d){\n\t// 1・2月 → 前年の13・14月\n\tif (m <= 2){\n\t\t--y;\n\t\tm += 12;\n\t}\n\tull dy = 365 * (y - 1); // 経過年数×365日\n\tull c = y / 100;\n\tull dl = (y >> 2) - c + (c >> 2); // うるう年分\n\tull dm = (m * 979 - 1033) >> 5; // 1月1日から m 月1日までの日数\n\treturn dy + dl + dm + d - 1;\n}\n\nvoid check(ull maya,ull y){\n\ty--;\n\twhile(1){\n\t\tif(uruY(y)){\n\t\t\tfor(ull m=1;m<=12;m++){\n\t\t\t\tfor(ull d=1;d<=ud[m-1];d++){\n\t\t\t\t\tif(GetDays(y,m,d)==maya){\n\t\t\t\t\t\tprintf(\"%llu.%llu.%llu\\n\",y,m,d);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}else{\n\t\t\tfor(ull m=1;m<=12;m++){\n\t\t\t\tfor(ull d=1;d<=nd[m-1];d++){\n\t\t\t\t\tif(GetDays(y,m,d)==maya){\n\t\t\t\t\t\tprintf(\"%llu.%llu.%llu\\n\",y,m,d);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\ty++;\n\t}\n}\nint main(void){\n\tull now=GetDays(2012,12,21);\n\twhile(getline(cin,str)){\n\t\tif(str==\"#\")break;\n\t\tfor(int i=0;i<str.size();i++){\n\t\t\tif(str[i]=='.')str[i]=' ';\n\t\t}\n\t\tstringstream ss(str);\n\t\tint in;\n\t\ta.clear();\n\t\twhile(ss >> in){\n\t\t\ta.push_back(in);\n\t\t}\n\t\tif(a.size()==3){\n\t\t\tull next=GetDays(a[0],a[1],a[2]);\n\t\t\t//printf(\"%llu %llu\\n\",next,now);\n\t\t\tnext-=now;\n\t\t\tnext=next%(13*20*20*18*20);\n\t\t\tull ki=next%20;\n\t\t\tnext=next/20;\n\t\t\tull w=next%18;\n\t\t\tnext=next/18;\n\t\t\tull t=next%20;\n\t\t\tnext=next/20;\n\t\t\tull ka=next%20;\n\t\t\tnext=next/20;\n\t\t\tull b=next%13;\n\t\t\tprintf(\"%llu.%llu.%llu.%llu.%llu\\n\",b,ka,t,w,ki);\n\t\t}else{\n\t\t\tull maya=a[0]*(20*20*18*20);\n\t\t\tmaya+=a[1]*(20*18*20);\n\t\t\tmaya+=a[2]*(18*20);\n\t\t\tmaya+=a[3]*20;\n\t\t\tmaya+=a[4];\n\t\t\tmaya+=now;\n\t\t\tull y=2012,m=12,d=21;\n\t\t\twhile(GetDays(y,m,d)<maya)y+=400;\n\t\t\twhile(GetDays(y,m,d)>maya+365)y--;\n\t\t\tcheck(maya,y);\n\t\t}\n\t}\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nstruct S{ll y,m,d;};\nstruct Ma{ll b,ka,t,w,ki;};\n\n//12,1,2,3...11\nint M[]={31,28,31,30,31,30,31,31,30,31,30,31};\n\nbool check(ll y){return (y%4==0&&(y%100!=0||y%400==0));}\n\nS M2S(ll b,ll ka,ll t,ll w,ll ki){\n  ka+=b*20;\n  t+=ka*20;\n  w+=t*18;\n  ki+=w*20;\n  S res;\n  res.y=2012,res.m=12,res.d=21+ki;\n  if(res.d<=31) return res;\n  \n  while(res.d/(365+check(res.y+1)))res.y++,res.d-=(365+check(res.y));\n  if(res.d<=31) return res;\n  res.y++,res.m=1,res.d-=31;\n  while(res.d/(M[res.m-1]+(check(res.y)&&res.m==2))){\n    res.d-=(M[res.m-1]+(check(res.y)&&res.m==2));\n    res.m++;\n  }\n  if(res.d==0) res.m--,res.d=M[res.m-1]+(check(res.y)&&res.m==2);\n  return res;\n}\n\nMa S2M(ll y,ll m,ll d){\n  y-=2012;\n  if(y) d+=10; \n  else d=(d-21);\n  \n  for(int i=0;i<m-1&&y;i++) d+=(M[i]+(i==1&&check(y+2012)));\n  y--;\n  while(y>0)d+=(365+check(y+2012)),y--;\n\n  Ma res;\n  d%=13*20*20*18*20;\n  res.ki=d;\n  res.w =res.ki/20; res.ki%=20;\n  res.t =res.w/18;  res.w %=18;\n  res.ka=res.t/20;  res.t %=20;\n  res.b =res.ka/20; res.ka%=20;\n  return res;\n}\n\n\nint main(){\n  while(1){\n    string str;\n    cin>>str;\n    if(str==\"#\")break;\n    vector <int> a;\n    int i=0,num=0;\n    while(str[i]){\n      if(str[i]=='.')a.push_back(num),num=0;\n      else num=num*10+str[i]-'0';\n      i++;\n    }\n    a.push_back(num);\n    \n    if(a.size()==5){\n      S ans=M2S(a[0],a[1],a[2],a[3],a[4]);\n      cout << ans.y<<\".\"<<ans.m<<\".\"<<ans.d<<endl;\n    }\n    else {\n      Ma ans=S2M(a[0],a[1],a[2]);\n      cout<<ans.b<<\".\"<<ans.ka<<\".\"<<ans.t<<\".\"<<ans.w<<\".\"<<ans.ki<<endl;\n    }\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <sstream>\nusing namespace std;\n\ntypedef long long ll;\n\nconst ll month[] = {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31, 100};\n\nll gregoriano2ll(vector<ll> v) {\n\tll res = 0;\n\tint leap = 0;\n\tres += (v[0]) * 365;\n\tres += (v[0]-1) / 4 - (v[0]-1) / 100 + (v[0]-1) / 400;\n\tres += 1;\n\tfor(int i = 0; i < v[1]-1; i++) {\n\t\tres += month[i];\n\t\tif(i == 1 && v[0] % 4 == 0 && (v[0] % 100 != 0 || v[0] % 400 == 0))\n\t\t\tres += 1;\n\t}\n\tres += v[2]-1;\n\treturn res;\n}\n\nll maya2ll(vector<ll> v) {\n\tll res = 0;\n\tres = v[0];\n\tres = res * 20 + v[1];\n\tres = res * 20 + v[2];\n\tres = res * 18 + v[3];\n\tres = res * 20 + v[4];\n\tvector<ll> tmp;\n\ttmp.push_back(2012);\n\ttmp.push_back(12);\n\ttmp.push_back(21);\n\tres += gregoriano2ll(tmp);\n\treturn res;\n}\n\nvector<ll> ll2maya(ll a) {\n\tvector<ll> res;\n\tvector<ll> tmp;\n\ttmp.push_back(2012);\n\ttmp.push_back(12);\n\ttmp.push_back(21);\n\ta -= gregoriano2ll(tmp);\n\ta %= 13*20*20*18*20ll;\n\tres.push_back(a/(20*20*18*20ll));\n\ta %= 20*20*18*20ll;\n\tres.push_back(a/(20*18*20ll));\n\ta %= 20*18*20ll;\n\tres.push_back(a/(18*20ll));\n\ta %= 18*20ll;\n\tres.push_back(a/(20ll));\n\ta %= 20ll;\n\tres.push_back(a);\n\treturn res;\n}\n\nvector<ll> ll2gregoriano(ll a) {\n\tvector<ll> res;\n\tint y;\n\ty = (a / (365*400+97)) * 400;\n\ta %= (365*400+97);\n\twhile(1) {\n\t\tif(y % 4 == 0 && (y % 100 != 0 || (y % 400 == 0))) {\n\t\t\tif(a < 366)\n\t\t\t\tbreak;\n\t\t\ta -= 366;\n\t\t}\n\t\telse {\n\t\t\tif(a < 365)\n\t\t\t\tbreak;\n\t\t\ta -= 365;\n\t\t}\n\t\ty++;\n\t}\n\tres.push_back(y);\n\tint m;\n\tint leap = (y % 4 == 0 && (y % 100 != 0 || (y % 400 == 0)));\n\tfor(m = 0; (month[m] + (m == 1 ? leap : 0)) <= a; m++) {\n\t\ta -= month[m] + (m == 1 ? leap : 0);\n\t}\n\tres.push_back(m+1);\n\tres.push_back(a+1);\n\treturn res;\n}\n\nint main() {\n\tstring s;\n\twhile(cin >> s, s != \"#\") {\n\t\tvector<ll> tmp, res;\n\t\tint a;\n\t\tstringstream sstr(s);\n\t\twhile(sstr >> a) {\n\t\t\ttmp.push_back(a);\n\t\t\tsstr.ignore();\n\t\t}\n\t\tif(tmp.size() == 3) {\n\t\t\tres = ll2maya(gregoriano2ll(tmp));\n\t\t}\n\t\telse {\n\t\t\tres = ll2gregoriano(maya2ll(tmp));\n\t\t}\n\t\tcout << res[0];\n\t\tfor(int i = 1; i < res.size(); i++)\n\t\t\tcout << \".\" << res[i];\n\t\tcout << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>   //????§£?±?\n#include<string.h>\n#include<math.h>\nint main(void)\n{\n\tint a,s,d[100],f,g,h,i,j,k,c,x[3],o;\n\tchar z[2];\n\twhile(1){\n\t\tscanf(\"%d %d\",&a,&s);\n\t\tif(a==0&&s==0) break;\n\t\tf=a;\n\t\tfor(i=0;i<a;i++) d[i]=0;\n\t\tfor(i=0;i<s;i++){\n\t\t\tscanf(\"%s\",z);\n\t\t\tif(z[0]=='A'){\n\t\t\t\tfor(j=0;j<a;j++){\n\t\t\t\t\tif(d[j]==0){\n\t\t\t\t\t\td[j]=1;\n\t\t\t\t\t\tf--;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(z[0]=='B'){\n\t\t\t\tg=0;\n\t\t\t\tfor(j=a-1;j>=0;j--){\n\t\t\t\t\tif(d[j]==0&&d[j+1]!=1&&d[j-1]!=1){\n\t\t\t\t\t\td[j]=2;\n\t\t\t\t\t\tf--;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif(d[j]==0) g++;\n\t\t\t\t\tif(f==g){\n\t\t\t\t\t\td[j]=2;\n\t\t\t\t\t\tf--;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(z[0]=='C'){\n\t\t\t\tif(a==f){\n\t\t\t\t\tif(a%2==1){\n\t\t\t\t\t\td[((a+1)/2-1)]=3;\n\t\t\t\t\t\tf--;\n\t\t\t\t\t}\n\t\t\t\t\telse if(a%2==0){\n\t\t\t\t\t\td[a/2]=3;\n\t\t\t\t\t\tf--;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if(a>f){\n\t\t\t\t\tfor(j=0;j<a;j++){\n\t\t\t\t\t\tif(d[j]>0){\n\t\t\t\t\t\t\tif(d[j-1]==0&&j-1>=0){\n\t\t\t\t\t\t\t\td[j-1]=3;\n\t\t\t\t\t\t\t\tf--;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if(d[j+1]==0&&j+1<a){\n\t\t\t\t\t\t\t\td[j+1]=3;\n\t\t\t\t\t\t\t\tf--;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(z[0]=='D'){\n\t\t\t\th=-1;\n\t\t\t\tc=-1;\n\t\t\t\tint v=0;\n\t\t\t\tx[0]=0;\n\t\t\t\tx[1]=0;\n\t\t\t\tfor(j=a-1;j>=0;j--){\n\t\t\t\t\tif(d[j]>0&&v==0){\n\t\t\t\t\t\th=j;\n\t\t\t\t\t\tif(d[0]==0){\n\t\t\t\t\t\t\tx[0]=h-1;\n\t\t\t\t\t\t\tx[1]=0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tv=1;\n\t\t\t\t\t}\n\t\t\t\t\telse if(d[j]>0&&v==1){\n\t\t\t\t\t\tc=j;\n\t\t\t\t\t}\n\t\t\t\t\tif(c>-1&&h>-1){\n\t\t\t\t\t\tif((h-c)%2==1){\n\t\t\t\t\t\t\tif(x[0]<=((h-c)/2-1)){\n\t\t\t\t\t\t\t\tx[0]=(h-c)/2-1;\n\t\t\t\t\t\t\t\tx[1]=h-(h-c)/2-1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if((h-c)%2==0){\n\t\t\t\t\t\t\tif(x[0]<=(h-c)/2){\n\t\t\t\t\t\t\t\tx[0]=(h-c)/2;\n\t\t\t\t\t\t\t\tx[1]=h-(h-c)/2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(c>-1) h=c;\n\t\t\t\t}\n\t\t\t\tif(d[a-1]==0){\n\t\t\t\t\tif(x[0]<(a-1)-c){\n\t\t\t\t\t\tx[0]=(a-1)-c;\n\t\t\t\t\t\tx[1]=a-1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(h==-1) x[1]=0;\n\t\t\t\telse if(c==-1){\n\t\t\t\t\tx[0]=(a-1)-h;\n\t\t\t\t\tx[1]=a-1;\n\t\t\t\t\tif(x[0]<h) x[1]=0;\n\t\t\t\t}\n\t\t\t\td[x[1]]=4;\n\t\t\t\tf--;\n\t\t\t}\n\t\t}\n\t\tfor(i=0;i<a;i++){\n\t\t\tif(d[i]==0) printf(\"#\");\n\t\t\telse if(d[i]==1) printf(\"A\");\n\t\t\telse if(d[i]==2) printf(\"B\");\n\t\t\telse if(d[i]==3) printf(\"C\");\n\t\t\telse if(d[i]==4) printf(\"D\");\n\t\t}\n\t\tprintf(\"\\n\");\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nvector<string> split(const string &str, char sep)\n{\n    vector<string> v;\n    stringstream ss(str);\n    string buffer;\n    while( getline(ss, buffer, sep) ) {\n        v.push_back(buffer);\n    }\n    return v;\n}\n\nbool is_Leapyear(long long int year){\n    if(year%4==0){\n        if(year%100==0){\n            if(year%400==0){\n                return true;\n            }\n            return false;\n        }\n    }\n    return false;\n}\n\nint months[12] = {31,28,31,30,31,30,31,31,30,31,30,31};\nint leapmonths[12] = {31,29,31,30,31,30,31,31,30,31,30,31};\n\nint main() {\n\n    string s;\n\n    const long long  int baseday = (2012*365 + 2012/4 - 2012/100 + 2012/400 + 366-11);\n\n    while(1){\n\n        cin >> s;\n\n        if(s[0] == '#'){\n            break;\n        }\n\n        vector<string> vec = split(s,'.');\n\n        if(vec.size() == 5){\n\n            int a[5];//b,ka,t,w,ki\n\n            for(int i=0;i<5;i++){\n                stringstream ss;\n                ss << vec[i];\n                ss >> a[i];\n            }\n\n            long long int allday = 0;\n\n            allday = a[0]*20*20*18*20 + a[1]*20*18*20 + a[2]*18*20 + a[3]*20 + a[4];\n\n            if(allday>=11){\n                allday -= 11;\n                int year,month,day;\n                year = 2013+(allday/(365+365+365+366))*4;\n                allday = allday % (365+365+365+366);\n                year += allday/365;\n                allday %= 365;\n                allday = allday + (year-2013)/100 - (year-2013)/400;\n                month = 1;\n                day = 1;\n                if(is_Leapyear(year)){\n                    for(int i=0;i<12;i++){\n                        if(allday>leapmonths[i]){\n                            allday-=leapmonths[i];\n                            month++;\n                        }\n                        else{\n                            break;\n                        }\n                    }\n                    day += allday;\n                    printf(\"%d.%d.%d\\n\",year,month,day);\n                }\n                else{\n                    for(int i=0;i<12;i++){\n                        if(allday>months[i]){\n                            allday-=months[i];\n                            month++;\n                        }\n                        else{\n                            break;\n                        }\n                    }\n                    day += allday ;\n                    printf(\"%d.%d.%d\\n\",year,month,day);\n                }\n            }\n            else{\n                printf(\"2012.12.%d\\n\",21+allday);\n            }\n\n        }\n\n        else{\n\n            int b[3];//year,month,day\n\n            for(int i=0;i<3;i++){\n                stringstream ss;\n                ss << vec[i];\n                ss >> b[i];\n            }\n\n            long long int allday = (b[0] % 1872000 * 365 + b[0]/4 - b[0]/100 + b[0]/400);\n\n            if(is_Leapyear(b[0])){\n                allday--;\n            }\n\n            for(int i=0;i<b[1]-1;i++){\n                if(is_Leapyear(b[0])){\n                    allday += leapmonths[i];\n                }\n                else{\n                    allday += months[i];\n                }\n            }\n\n            allday += b[2];\n\n            cout << allday << \" \" << baseday << endl;\n\n            allday -= baseday;\n\n            allday %= 1872000;\n\n            int ba,ka,t,w,ki;\n\n            ba = allday/144000;\n\n            allday %= 144000;\n\n            ka = allday/7200;\n\n            allday %= 7200;\n\n            t = allday/360;\n\n            allday %= 360;\n\n            w = allday/20;\n\n            allday %= 20;\n\n            ki = allday;\n\n            printf(\"%d.%d.%d.%d.%d\\n\",ba,ka,t,w,ki);\n        }\n\n    }\n\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<climits>\nusing namespace std;\n\n#define loop(i, a, b) for(int i = a; i < b; i++)\n#define rep(i, a) loop(i, 0, a)\n#define int long long\n//#define %%lld %%d\n\nvoid to_maya(int y, int m, int d);\nvoid to_sei(int b, int ka, int t, int w, int ki);\nint leap_count(int base,  int y);\n\nsigned main()\n{\n  // printf(\"long long max: %lld\\n\", LLONG_MAX);\n  char date[100];\n  while(cin >> date) {\n    int a = 0, b = 0, c = 0, d = 0, e = 0;\n    int cnt = sscanf(date, \"%lld.%lld.%lld.%lld.%lld\", &a, &b, &c, &d, &e);\n\n    if(cnt == 3) {\n      //     cout << '3'<<endl;\n      to_maya(a, b, c);\n    }\n    else if(cnt == 5){\n      //  cout << '5' << endl;\n      to_sei(a, b, c, d, e);\n    }\n    else if(date[0] == '#') {\n      //    cout << '#';\n      break;\n    }\n    // cout << date;\n  }\n}\n\n\nint leap_count(int base,  int y)\n{\n  int cnt = 0;\n  loop(i, base, y + 1)\n    if(i % 400 == 0) cnt++;\n    else if(i % 100 && i % 4 == 0) cnt++;\n  return cnt;\n}\n\n\nvoid to_maya(int y, int m, int d)\n{\n  int days = 0;\n  int leap = leap_count(2013, y);\n  if( y != 2012 ) {\n    //    cout << leap << endl;\n    days += ( y - 2013 - leap ) * 365 + leap * 366 + 10;\n    //  cout << days << endl;\n    loop(i, 1, m){\n      if(i == 1 || i == 3 || i == 5 || i == 7 || i == 8 || i == 10 || i == 12)\n\tdays += 31;\n      if(i == 4 || i == 6 || i == 9 || i == 11)\n\tdays += 30;\n      if(i == 2) {\n\tdays += 28;\n\t//cout << leap_count(y,y) << endl;\n\tif(leap_count(y, y)) {\n\t  days++;\n\t  // cout << \"leap\" << endl;\n\t}\n      }\n    }\n    days += d;\n    if(leap_count(y,y)) days--;\n  }\n  else days += (d - 21);\n  \n  days -=  days / (13 * 20 * 18 * 20 * 20) * (13 * 20 * 18 * 20 * 20);\n  int b = days / (20 * 18 * 20 * 20); days -= b * 20 * 20 * 18 * 20;\n  //cout << days << endl;\n  int ka =  days / (20 * 18 * 20); days -= ka * 20 * 18 * 20;\n  //cout << days << endl;\n  int t = days / (20 * 18); days -= t * 18 * 20;\n  //cout << days << endl;\n  int w = days / 20; days -= w * 20;\n  //  cout << days << endl;\n  int ki = days; days -= ki;\n  //  cout << days << endl;\n  \n  printf(\"%lld.%lld.%lld.%lld.%lld\\n\", b, ka, t, w, ki);\n}\n\nvoid to_sei(int b, int ka, int t, int w, int ki)\n{\n  int days = 0, y = 2013, m = 1, d = 1, until;\n  days += b * 20 * 18 * 20 * 20 + ka * 20 * 18 * 20 + t * 20 * 18 + w * 20 + ki;\n  if(days > 10) {\n    days -= 11;\n    while(1) {\n      if(leap_count(y, y)) {\n\tif(days - 366 >= 0) days -= 366;\n\telse break;\n      }\n      else if(days - 365 >= 0) days -= 365;\n      else break;\n      y++;\n      //cout << 'y' << y << endl;\n    }\n\n    while(1) {\n      d = 1;\n      if(m == 1 || m == 3 || m == 5 || m == 7 || m == 8 || m == 10 || m == 12)\n\tuntil = 31;\n      if(m == 4 || m == 6 || m == 9 || m == 11)\n\tuntil = 30;\n      if(m == 2) {\n\tuntil = 28;\n\t//cout << leap_count(y,y) << endl;\n\tif(leap_count(y, y)) {\n\t  until = 29;\n\t  // cout << \"leap\" << endl;\n\t}\n      }\n      //cout << 'm' << m << endl;\n      loop(i, 1, until + 1) {\n\t//cout << 'd' << d << endl;\n\td++;\n\tif(days == 0) break;\n\telse days--;\n      }\n      if(days == 0) break;\n      if(m == 12) m = 1;\n      else m++;\n    }\n    cout << y << '.' << m << '.' << d - 1 << endl;\n  }\n  else {\n    cout << \"2012.12.\" << days + 21 << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <map>\n#include <cstring>\n#include <string>\n#include <stack>\n#include <queue>\n#include <cmath>\n#include <cstdlib>\n#include <cstdio>\n#include <algorithm>\n#include <sstream>\n#include <set>\nusing namespace std;\n\n#define rep(i,n) for(int i=0;i<(int)n;i++)\n#define repp(i,k,n) for(int i=k;i<(int)n;i++)\n#define rei(n) for(int i=0;i<(int)n;i++)\n#define rel(n) for(int l=0;l<(int)n;l++)\n#define al(s) s.begin(),s.end()\n#define INT_MAX 2147483647\n\nstruct Calendar\n{\n\tlong long year;\n\tlong long month;\n\tlong long day;\n\tlong long dat[2][13];\n\tCalendar(long long y, long long m, long long d)\n\t{\n\t\tyear = y;\n\t\tmonth = m;\n\t\tday = d;\n\t\tdat[0][0] = dat[1][0] = 0;\n\t\tdat[0][1] = dat[1][1] = 31;\n\t\tdat[0][2] = dat[1][2] = 28;\n\t\tdat[0][3] = dat[1][3] = 31;\n\t\tdat[0][4] = dat[1][4] = 30;\n\t\tdat[0][5] = dat[1][5] = 31;\n\t\tdat[0][6] = dat[1][6] = 30;\n\t\tdat[0][7] = dat[1][7] = 31;\n\t\tdat[0][8] = dat[1][8] = 31;\n\t\tdat[0][9] = dat[1][9] = 30;\n\t\tdat[0][10] = dat[1][10] = 31;\n\t\tdat[0][11] = dat[1][11] = 30;\n\t\tdat[0][12] = dat[1][12] = 31;\n\t\tdat[1][2] = 29;\n\t}\n\tint uruu()\n\t{\n\t\tif (year % 4 == 0)\n\t\t{\n\t\t\tif (year % 400 != 0 && year % 100 == 0)\n\t\t\t{\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t}\n\t\treturn 0;\n\t}\n\tint uruu(long long y)\n\t{\n\t\tif (y % 4 == 0)\n\t\t{\n\t\t\tif (y % 400 != 0 && y % 100 == 0)\n\t\t\t{\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t}\n\t\treturn 0;\n\t}\n\tlong long pday(long long d)\n\t{\n\t\tday += d;\n\t\tfor (;; month++)\n\t\t{\n\t\t\tif (month >= 13)\n\t\t\t{\n\t\t\t\tyear++;\n\t\t\t\tmonth = 1;\n\t\t\t}\n\n\t\t\tif (dat[uruu()][month] < day)\n\t\t\t{\n\t\t\t\tday -= dat[uruu()][month];\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tpmonth(0);\n\t\treturn d;\n\t}\n\tlong long pmonth(long long m)\n\t{\n\t\tmonth += m;\n\t\tfor (;; year++)\n\t\t{\n\t\t\tif (month > 12)\n\t\t\t{\n\t\t\t\tmonth -= 12;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn m;\n\t}\n\tlong long pyear(long long y)\n\t{\n\t\tyear += y;\n\t\treturn y;\n\t}\n\tlong long dif(Calendar c)\n\t{\n\t\tlong long ans = 0;\n\t\tCalendar a(year, month, day);\n\t\tans -= a.day;\n\t\tans += c.day;\n\t\ta.day = 0;\n\t\tc.day = 0;\n\t\tfor (; a.month >= 1; a.month--)\n\t\t{\n\t\t\tans -= dat[a.uruu()][a.month-1];\n\t\t}\n\t\tfor (; c.month >= 1; c.month--)\n\t\t{\n\t\t\tans += dat[c.uruu()][c.month-1];\n\t\t}\n\t\tfor (; a.year != c.year; a.year++)\n\t\t{\n\t\t\tans += 365;\n\t\t\tif (a.uruu())ans++;\n\t\t}\n\t\treturn ans;\n\t}\n\n\n};\n\n\n\n\nlong long date[5]{ 1872000 / 13,1872000 / 13 / 20,1872000 / 13 / 20 / 20,1872000 / 13 / 20 / 20 / 18,1 };\n\nint main()\n{\n\tstring a;\n\twhile (1)\n\t{\n\t\tgetline(cin, a);\n\t\tif (a.find(\"#\") != string::npos)break;\n\t\tint coun = 0;\n\t\tfor (int i = 0; i < a.size(); i++)\n\t\t{\n\t\t\tif (a[i] == '.')coun++;\n\t\t}\n\t\tif (coun == 2)\n\t\t{\n\t\t\tstring dat[3];\n\t\t\tlong long year, month, day;\n\t\t\tlong long p = 0;\n\t\t\tfor (int i = 0; i < a.size(); i++)\n\t\t\t{\n\t\t\t\tif (a[i] == '.')p++;\n\t\t\t\telse dat[p] += a[i];\n\t\t\t}\n\t\t\tyear = atoll(dat[0].c_str());\n\t\t\tmonth = atoll(dat[1].c_str());\n\t\t\tday = atoll(dat[2].c_str());\n\n\t\t\tCalendar A(year, month, day), B(2012, 12, 21);\n\n\t\t\tlong long dif = B.dif(A);\n\t\t\tif (dif >= 0)\n\t\t\t{\n\t\t\t\tdif %= 1872000;\n\t\t\t\tfor (int i = 0; i < 5; i++)\n\t\t\t\t{\n\t\t\t\t\tif (i)\n\t\t\t\t\t{\n\t\t\t\t\t\tcout << \".\";\n\t\t\t\t\t}\n\t\t\t\t\tcout << dif / date[i];\n\t\t\t\t\tdif %= date[i];\n\t\t\t\t}\n\t\t\t\tcout << endl;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tdif *= -1;\n\t\t\t\tdif %= 1872000;\n\t\t\t\tdif -= 1;\n\t\t\t\tint gf[5] = { 12,19,19,17,19 };\n\t\t\t\tfor (int i = 0; i < 5; i++)\n\t\t\t\t{\n\t\t\t\t\tif (i)\n\t\t\t\t\t{\n\t\t\t\t\t\tcout << \".\";\n\t\t\t\t\t}\n\t\t\t\t\tcout <<gf[i]- dif / date[i];\n\t\t\t\t\tdif %= date[i];\n\t\t\t\t}\n\t\t\t\tcout << endl;\n\t\t\t}\n\t\t\t\n\t\t}\n\t\telse\n\t\t{\n\t\t\tstring dat[5];\n\t\t\tint p = 0;\n\t\t\tfor (int i = 0; i < a.size(); i++)\n\t\t\t{\n\t\t\t\tif (a[i] == '.')p++;\n\t\t\t\telse dat[p] += a[i];\n\t\t\t}\n\t\t\tlong long days = 0;\n\t\t\tfor (int i = 0; i < 5; i++)\n\t\t\t{\n\t\t\t\tdays += date[i] * atoll(dat[i].c_str());\n\t\t\t}\n\t\t\tCalendar A(2012, 12, 21);\n\t\t\tA.pday(days);\n\t\t\tcout << A.year << \".\" << A.month << \".\" << A.day << endl;\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>  \nusing namespace std;  \n  \ntypedef pair< int , int > Pi;  \ntypedef long long int int64;  \n#define For_Each(i,a) for(__typeof a.begin() i = a.begin(); i != a.end(); i++)  \n#define Rep(i,n) for(int i = 0; i < (n); i++)  \n  \nconst int INF = 1 << 30;  \n  \nconst int64 __base = 735223;  \n  \nvector< string > split(string str, string del){  \n  char *p, *str_buff = new char[str.size() + 1], first = 0;  \n  vector< string > ret;  \n  strcpy( str_buff, str.c_str());  \n  while(p = strtok((first++ ? NULL : str_buff), del.c_str())){  \n    ret.push_back(p);  \n  }  \n  delete str_buff;  \n  return ret;  \n}  \n  \nbool isuru(int year){  \n  return (year % 4 == 0 && year % 100 != 0) || (year % 400 == 0);  \n}  \nint get_month_days(int year, int month){  \n  switch(month){  \n  case 2:  \n    return 28 + isuru(year);  \n  case 4:  \n  case 6:  \n  case 9:  \n  case 11:  \n    return 30;  \n  default:  \n    return 31;  \n  }  \n}  \n  \nint main(){  \n  string str;  \n  \n  \n  while(cin >> str, str != \"#\"){  \n    vector< string > nums_buff = split( str, \".\");  \n    vector< int > nums(nums_buff.size());  \n  \n    int i = 0;  \n    For_Each( it, nums_buff){  \n      nums[i++] = atoi((*it).c_str());  \n    }  \n  \n    if(nums.size() == 3){ //せいれきってる  \n      int64 days = 0;  \n      for(int month = 1; month < nums[1]; month++){  \n        days += get_month_days( nums[0], month);  \n      }  \n      for(int year = 0; year < nums[0]; year++){  \n        days += 365 + isuru(year);  \n      }  \n      days += nums[2] - __base - 2;  \n  \n      days %= (13 * 20 * 20 * 18 * 20);  \n  \n      cout << days / (20 * 20 * 18 * 20) << \".\";  \n      days -= days / (20 * 20 * 18 * 20) * (20 * 20 * 18 * 20);  \n      cout << days / (20 * 18 * 20) << \".\";  \n      days -= days / (20 * 18 * 20) * (20 * 18 * 20);  \n      cout << days / (18 * 20) << \".\";  \n      days -= days / (18 * 20) * (18 * 20);  \n      cout << days / (20) << \".\";  \n      days -= days / 20 * 20;  \n      cout << days + 1 << endl;  \n  \n    }else{  \n  \n      int64 days = nums[0] * (20 * 20 * 18 * 20) + nums[1] * (20 * 18 * 20) + nums[2] * (18 * 20) + nums[3] * 20 + nums[4] + __base;  \n      int year;  \n  \n      for(year = 0; ; year++){  \n        if(days - 365 - isuru(year) < 0) break;  \n        days -= 365 + isuru(year);  \n      }  \n      int month;  \n      for(month = 1; month < 12; month++){  \n        if(days - get_month_days( year, month) <= 0) break;  \n        days -= get_month_days( year, month);  \n      }  \n      cout << year << \".\" << month << \".\" <<  days + 1 <<  endl;  \n    }  \n  }  \n}  "
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<cstring>\n\nusing namespace std;\n\n#define loop(i, a, b) for(int i = a; i < b; i++)\n#define rep(i, a) loop(i, 0, a)\n\n\nvoid to_maya(int y, int m, int d);\nvoid to_sei(int b, int ka, int t, int w, int ki);\nint leap_count(int base, int y);\n\nint main()\n{\n  char date[100];\n  while(cin >> date) {\n    int a[5] = {};\n    int cnt = sscanf(date, \"%d.%d.%d.%d.%d\", &a[0], &a[1], &a[2], &a[3], &a[4]);\n    \n    if(cnt == 3) to_maya(a[0], a[1], a[2]);\n    else if(cnt == 5) to_sei(a[0], a[1], a[2], a[3], a[4]);\n    else if(date[0] == '#') break;\n  }\n}\n\n\nint leap_count(int base,  int y)\n{\n  int cnt = 0;\n  for(int i = base; i <= y; i++) {\n    if(i % 400 == 0) cnt++;\n    else if(i % 100 != 0 && i % 4 == 0) cnt++;\n  }\n  return cnt;\n}\n\n\nvoid to_maya(int y, int m, int d)\n{\n  long long int days = 0;\n  long long int leap = leap_count(2013, y);\n  \n  if( y != 2012 ) {\n    days += ( y - 2013 - leap ) * 365 + leap * 366 + 10;\n    loop(i, 1, m) {\n      if(i == 1 || i == 3 || i == 5 || i == 7 || i == 8 || i == 10 || i == 12)\n\tdays += 31;\n      if(i == 4 || i == 6 || i == 9 || i == 11)\n\tdays += 30;\n      if(i == 2) {\n\tdays += 28;\n\tif(leap_count(y, y)) {\n\t  days++;\n\t}\n      }\n    }\n    days += d;\n    if(leap_count(y,y)) days--;\n  }\n  else days += (d - 21);\n  \n  days -=  days / (13 * 20 * 18 * 20 * 20) * (13 * 20 * 18 * 20 * 20);\n  int b = days / (20 * 18 * 20 * 20); days -= b * 20 * 20 * 18 * 20;\n  int ka =  days / (20 * 18 * 20); days -= ka * 20 * 18 * 20;\n  int t = days / (20 * 18); days -= t * 18 * 20;\n  int w = days / 20; days -= w * 20;\n  int ki = days; days -= ki;\n  \n  printf(\"%d.%d.%d.%d.%d\\n\", b, ka, t, w, ki);\n}\n\nvoid to_sei(int b, int ka, int t, int w, int ki)\n{\n  long long int days = 0;\n  int y = 2013, m = 1, d = 1, until;\n  \n  days += b * 20 * 18 * 20 * 20 + ka * 20 * 18 * 20 + t * 20 * 18 + w * 20 + ki;\n  if(days > 10) {\n    days -= 10;\n    while(1) {\n      if(leap_count(y, y)) {\n\tif(days - 366 >= 0) days -= 366;\n\telse break;\n      }\n      else if(days - 365 >= 0) days -= 365;\n      else break;\n      y++;\n    }\n\n    while(1) {\n      d = 1;\n      if(m == 1 || m == 3 || m == 5 || m == 7 || m == 8 || m == 10 || m == 12)  until = 31;\n      if(m == 4 || m == 6 || m == 9 || m == 11)  until = 30;\n      if(m == 2) {\n\tuntil = 28;\n\tif(1 <= leap_count(y, y)) {\n\t  until = 29;\n\t}\n      }\n      if(days > until)  days -= until;\n      \n      else {\n\tloop(i, 1, until + 1) {\n\t  d++;\n\t  days--;\n\t  if(days == 0) break;\n\t}\n      }\n      if(days == 0) break;\n      if(m == 12) m = 1;\n      else m++;\n    }\n    d--;\n    cout << y << '.' << m << '.' << d  << endl;\n  }\n  else {\n    cout << \"2012.12.\" << days + 21 << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define int long long\n \nsigned main()\n{\n    string S;\n    int month[2][13] = { { 0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 },\n                         { 0, 31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 } };\n \n    while ( cin >> S, S != \"#\" ) {\n \n        int period = 0;\n        for ( int i = 0; i < S.size(); i++) {\n            if ( S[i] == '.' ) {\n                period++;\n            }\n        }\n \n        if ( period == 4 ) {\n            int a, b, c, d, e;\n \n            int cnt = 0;\n            sscanf(S.c_str(), \"%lld.%lld.%lld.%lld.%lld\", &a, &b, &c, &d, &e);\n            cnt = e + d * 20 + c * 360 + b * 7200 + a * 144000;\n \n            a = 2012, b = 12, c = 21;\n            for ( int i = 0; i < cnt; i++ ) {\n                c++;\n                bool isUru = (a % 400 == 0 || a % 100 != 0 && a % 4 == 0);\n                int uru;\n                if ( isUru ) {\n                    uru = 1;\n                } else {\n                    uru = 0;\n                }\n                if ( month[uru][b] < c ) {\n                    c = 1;\n                    b++;\n                    if ( b > 12 ) {\n                        b = 1;\n                        a++;\n                    }\n                }\n            }\n            cout << a << \".\" << b << \".\" << c << endl;\n        } else {\n            int a,b,c;\n            sscanf(S.c_str(), \"%lld.%lld.%lld\", &a,&b,&c);\n            int cnt = 11 + (a - 2013) * 365;\n            if ( a == 2012 ) cnt--;\n            for(int i=2013;i<a;i++){\n                if(i%400==0||(i%100!=0&&i%4==0)){\n                    cnt++;\n                }\n            }\n            int bb = 1, cc = 1;\n            while ( bb != b || cc != c ) {\n                cc++;\n                bool isUru = (a % 400 == 0 || a % 100 != 0 && a % 4 == 0 );\n                int uru;\n \n                if ( isUru ) uru = 1;\n                else uru = 0;\n \n                if ( cc > month[uru][bb] ) {\n                    cc = 1;\n                    bb++;\n                }\n                cnt++;\n            }\n            cout << (cnt / 144000) % 13 << \".\" << (cnt / 7200) % 20 << \".\" << (cnt / 360) % 20 << \".\" << (cnt / 20) % 18 << \".\" << cnt % 20 << endl;\n        }\n \n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nstd::vector<std::string> split(const std::string &str, char sep){\n    std::vector<std::string> v;\n    std::stringstream ss(str);\n    std::string buffer;\n    while( std::getline(ss, buffer, sep) ) {\n        v.push_back(buffer);\n    }\n    return v;\n}\n\ninline bool reap(int y){\n    if(y%4==0 && y%100 != 0 ){\n        return true;\n    }\n    else if(y%400 == 0){\n        return true;\n    }\n    return false;\n}\n\nint main() {\n\n\n    string s;\n\n    while(1){\n\n        cin >> s;\n\n        if(s[0] == '#') break;\n\n        vector<string> vs = split(s,'.');\n\n        if(vs.size() == 3){\n            int b,ka,t,w,ki;\n            b = ka = t = w = ki = 0;\n\n            int y,m,d;\n\n            stringstream ss;\n\n            ss << vs[0]; ss >> y; ss.clear();\n            ss << vs[1]; ss >> m; ss.clear();\n            ss << vs[2]; ss >> d; ss.clear();\n\n            if(y==2012){\n                 ki = d - 21;\n            }\n\n            else {\n\n                while (y != 2012) {\n\n                    do {\n\n                        while (d != 0) {\n                            d--;\n                            ki++;\n                        }\n\n                        m--;\n\n                        if (m == 1 || m == 3 || m == 5 || m == 7 || m == 8 || m == 10 || m == 0) {\n                            d = 31;\n                        } else if (m == 4 || m == 6 || m == 9 || m == 11) {\n                            d = 30;\n                        } else if (m == 2 && reap(y)) {\n                            d = 29;\n                        } else {\n                            d = 28;\n                        }\n\n                    } while (m != 0);\n\n                    if (ki >= 20) {\n                        w += ki / 20;\n                        ki %= 20;\n                    }\n                    if (w >= 18) {\n                        t += w / 18;\n                        w %= 18;\n                    }\n                    if (t >= 20) {\n                        ka += t / 20;\n                        t %= 20;\n                    }\n                    if (ka >= 20) {\n                        b += ka / 20;\n                        ka %= 20;\n                    }\n                    if (b >= 13) {\n                        b %= 13;\n                    }\n\n                    m = 12;\n\n                    y--;\n\n                }\n\n                ki += 31 - 21;\n\n                if (ki >= 20) {\n                    w += ki / 20;\n                    ki %= 20;\n                }\n                if (w >= 18) {\n                    t += w / 18;\n                    w %= 18;\n                }\n                if (t >= 20) {\n                    ka += t / 20;\n                    t %= 20;\n                }\n                if (ka >= 20) {\n                    b += ka / 20;\n                    ka %= 20;\n                }\n                if (b >= 13) {\n                    b %= 13;\n                }\n\n                /*if(ki<0){\n                    if(w==0){\n                        if(t==0){\n                            if(ka==0){\n                                b--;\n                                ka = 19;\n                                t = 19;\n                                w = 17;\n                                ki += 19;\n                            }\n                            else{\n                                ka--;\n                                t = 19;\n                                w = 17;\n                                ki += 19;\n                            }\n                        }\n                        else{\n                            t--;\n                            w = 17;\n                            ki += 19;\n                        }\n                    }\n                    else{\n                        w--;\n                        ki += 19;\n                    }\n                }*/\n\n            }\n\n            printf(\"%d.%d.%d.%d.%d\\n\",b,ka,t,w,ki);\n\n\n        }\n        else{\n\n            long long int day = 0;\n\n            long long int b,ka,t,w,ki;\n            b = ka = t = w = ki = 0;\n\n            long long int y,m,d;\n\n            stringstream ss;\n\n            ss << vs[0]; ss >> b; ss.clear();\n            ss << vs[1]; ss >> ka; ss.clear();\n            ss << vs[2]; ss >> t; ss.clear();\n            ss << vs[3]; ss >> w; ss.clear();\n            ss << vs[4]; ss >> ki; ss.clear();\n\n            day = ki + w*20 + t*20*18 + ka*20*18*20 + b*20*18*20*20;\n\n            y = 2012; m = 12; d = 21;\n/*\n            if(day > 10){\n                y++; m = 1; d = 1; day -= 11;\n            }\n            else{\n                d += day;\n                day = 0;\n            }\n\n            while(day!=0){\n\n                if(m == 1 || m == 3 || m == 5 || m == 7 || m == 8 || m == 10){\n                    if(day >= 31){\n                        m++;\n                        day -= 31;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }\n                }\n                else if(m == 4 || m == 6 || m == 9 || m == 11){\n                    if(day >= 30){\n                        m++;\n                        day -= 30;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }\n                }\n                else if(m == 2 && reap(y)){\n                    if(day >= 29){\n                        m++;\n                        day -= 29;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }\n                }\n                else if(m == 2){\n                    if(day >= 28){\n                        m++;\n                        day -= 28;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }\n                }\n                else if(m == 12) {\n                    if(day >= 31){\n                        m = 1;\n                        y++;\n                        day -= 31;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }\n                }\n\n            }\n*/\n\n            while(day!=0){\n\n                if(m == 1 || m == 3 || m == 5 || m == 7 || m == 8 || m == 10){\n                    while(day != 0 && d != 32){\n                        day--;\n                        d++;\n                    }\n                    if(d==32){\n                        m++;\n                        d = 1;\n                    }\n                    /*if(day >= 31){\n                        m++;\n                        day -= 31;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }*/\n                }\n                else if(m == 4 || m == 6 || m == 9 || m == 11){\n                    while(day != 0 && d != 31){\n                        day--;\n                        d++;\n                    }\n                    if(d==31){\n                        m++;\n                        d = 1;\n                    }\n                    /*if(day >= 30){\n                        m++;\n                        day -= 30;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }*/\n                }\n                else if(m == 2 && reap(y)){\n                    while(day != 0 && d != 30){\n                        day--;\n                        d++;\n                    }\n                    if(d==30){\n                        m++;\n                        d = 1;\n                    }\n                    /*if(day >= 29){\n                        m++;\n                        day -= 29;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }*/\n                }\n                else if(m == 2){\n                    while(day != 0 && d != 29){\n                        day--;\n                        d++;\n                    }\n                    if(d==29){\n                        m++;\n                        d = 1;\n                    }\n                    /*if(day >= 28){\n                        m++;\n                        day -= 28;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }*/\n                }\n                else if(m == 12) {\n                    while(day != 0 && d != 32){\n                        day--;\n                        d++;\n                    }\n                    if(d==32){\n                        m = 1;\n                        d = 1;\n                        y++;\n                    }\n                    /*if(day >= 31){\n                        m = 1;\n                        y++;\n                        day -= 31;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }*/\n                }\n\n            }\n\n            printf(\"%lld.%lld.%lld\\n\",y,m,d);\n\n\n        }\n\n    }\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n\nusing namespace std;\n\ntypedef vector<int> vi;\ntypedef pair<int,int> pii;\ntypedef long long ll;\n\n#define rep(i,n) for(ll i=0;i<(ll)(n);i++)\n#define all(a)  (a).begin(),(a).end()\n#define pb push_back\n\n\n\nbool isLeep(int n){\n    return ( (n%4==0 && n%100!=0) || n%400==0 );\n}\n\n\nll ymdToNum(int y,int m,int d){\n    \n    int month[]={0,0,31,59,90,120,151,181,212,243,273,304,334};\n    \n    ll ret=0;\n    ret+=(ll)365*(y-1);\n    ret+=(ll)((y-1)/4) - (ll)((y-1)/100) + (ll)((y-1)/400);\n    \n    ret+=month[m];\n    if( isLeep(y) && m>=3 )ret++;\n    \n    ret+=d-1;\n    \n    return ret;\n}\n\nll bkatwkiToNum(int b,int ka,int t,int w,int ki){\n    ll ret=0;\n    ret+=b;\n    ret*=20;\n    \n    ret+=ka;\n    ret*=20;\n    \n    ret+=t;\n    ret*=18;\n    \n    ret+=w;\n    ret*=20;\n    \n    ret+=ki;\n    \n    return ret;\n}\n\n\nint main(){\n    string s;\n    while(cin>>s){\n        if( s==\"#\" )break;\n        \n        string buf=\"\";\n        vector<string> tmp;\n        rep(i,s.size()){\n            if( s[i]!='.' )buf+=s[i];\n            else{\n                tmp.pb(buf);\n                buf=\"\";\n            }\n        }\n        tmp.pb(buf);\n\n\n        //b.ka.t.w.ki\n        if( tmp.size()==5 ){ //maya\n            int b  = stoi(tmp[0]);\n            int ka = stoi(tmp[1]);\n            int t  = stoi(tmp[2]);\n            int w  = stoi(tmp[3]);\n            int ki = stoi(tmp[4]);\n            \n            ll num = bkatwkiToNum(b,ka,t,w,ki);\n            \n            num += ymdToNum(2012,12,21);\n            \n            int y,m,d;\n            int t1=0;\n            for(int i=1;;i++){\n                t1+=365;\n                if( isLeep(i) )t1++;\n                \n                if(t1>num){\n                    y=i;\n                    break;\n                }\n            }\n            \n            num -= 365*(y-1)+((y-1)/4 - (y-1)/100 + (y-1)/400);\n            \n            int month[]={0,31,59,90,120,151,181,212,243,273,304,334,365};\n            for(int i=1;i<13;i++){\n                int ep=0;\n                if( isLeep(y)&&i>=2 )ep++;\n                \n                if( month[i]+ep>num ){\n                    m=i;\n                    break;\n                }\n            }\n            num -= month[m-1];\n            if( isLeep(y)&&m>=3 )num--;\n            \n            d=num+1;\n            \n            cout<<y<<\".\"<<m<<\".\"<<d<<endl;\n            \n            \n        }else if( tmp.size()==3 ){   //sei\n            int y = stoi(tmp[0]);\n            int m = stoi(tmp[1]);\n            int d = stoi(tmp[2]);\n            \n            ll num = ymdToNum(y,m,d) - ymdToNum(2012,12,21);\n            num%=1872000;\n            int b,ka,t,w,ki;\n            \n            b = num/144000;\n            num-=b*144000;\n            \n            ka = num/7200;\n            num-=ka*7200;\n            \n            t = num/360;\n            num-=t*360;\n            \n            w = num/20;\n            num-=w*20;\n            \n            ki=num;\n            \n            \n            cout<<b<<\".\"<<ka<<\".\"<<t<<\".\"<<w<<\".\"<<ki<<endl;\n        }else return 0;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <string>\n#include <vector>\n#include <iostream>\nusing namespace std;\nvector<int> split(string str, char chr) {\n\tvector<int> ret; str += chr;\n\tint q = 0;\n\tfor (int i = 0; i < str.size(); i++) {\n\t\tif (str[i] == chr) ret.push_back(q), q = 0;\n\t\telse q = q * 10 + str[i] - 48;\n\t}\n\treturn ret;\n}\nlong long days(int y) {\n\t// [0, y) ??´????????\\?????????\n\tlong long ret = 146097LL * (y / 400);\n\tfor (int i = 0; i < y % 400; i++) {\n\t\tret += ((i == 0 || (i % 4 == 0 && i % 100 != 0)) ? 366 : 365);\n\t}\n\treturn ret;\n}\nvector<int> solve(long long z) {\n\t// z = ?????\\??? (0-indexed)\n\tint l = 0, r = 50000000;\n\twhile (r - l > 1) {\n\t\tint m = (l + r) / 2;\n\t\tif (days(m) > z) r = m;\n\t\telse l = m;\n\t}\n\tint y = l, m = -1;\n\tlong long w = z - days(y);\n\tfor (int i = 0; i < 12; i++) {\n\t\tint e = -1;\n\t\tif(i == 1) e = ((y % 400 == 0 || (y % 4 == 0 && y % 100 != 0)) ? 29 : 28);\n\t\telse if (i == 3 || i == 5 || i == 8 || i == 10) e = 30;\n\t\telse e = 31;\n\t\tif (w < e) { m = i; break; }\n\t\tw -= e;\n\t}\n\treturn vector<int>({ y, m + 1, (int)(w) + 1 });\n}\nstring s;\nint main() {\n\twhile (cin >> s, s != \"#\") {\n\t\tvector<int> v = split(s, '.');\n\t\tif (v.size() == 3) {\n\t\t\tlong long l = 0, r = 5000000000;\n\t\t\twhile (r - l > 1) {\n\t\t\t\tlong long m = (l + r) / 2;\n\t\t\t\tvector<int> w = solve(m);\n\t\t\t\tif (w < v) l = m;\n\t\t\t\telse r = m;\n\t\t\t}\n\t\t\tint ret = (r + 1136777) % 1872000;\n\t\t\tprintf(\"%d.%d.%d.%d.%d\\n\", ret / 144000, ret % 144000 / 7200, ret % 7200 / 360, ret % 360 / 20, ret % 20);\n\t\t}\n\t\telse {\n\t\t\tlong long w = v[0] * 144000 + v[1] * 7200 + v[2] * 360 + v[3] * 20 + v[4];\n\t\t\tvector<int> ret = solve(w + 735223);\n\t\t\tprintf(\"%d.%d.%d\\n\", ret[0], ret[1], ret[2]);\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "\n#include<iostream>\n#include<sstream>\n#include<algorithm>\nusing namespace std;\n\nlong long int dayCount(long long int y, long long int m, long long int d)\n{\n    long long int sum;\n    long long int days[13]={0,31,28,31,30,31,30,31,31,30,31,30,31};\n    for(int i=1; i<12; i++) days[i] += days[i-1];\n    y--;\n    sum = 365*y + days[m-1] + d + y/4 - y/100 + y/400;\n    y++;\n    if((y%4==0 && y%100!=0) || (y%400==0)) if(m>=3) sum++;\n    return sum;\n}\nlong long int dayCount(long long int b, long long int ka, long long int t, long long int w, long long int ki)\n{\n    long long int sum;\n    long long int days[5]={1,20,18,20,20};\n    for(int i=2; i<5; i++) days[i] *= days[i-1];\n    sum = ki + w*days[1] + t*days[2] + ka*days[3] + b*days[4];\n    return sum;\n}\n\nstring ADtoMaya(int y, int m, int d)\n{\n    stringstream date;\n    long long int now = dayCount(y,m,d);\n    long long int dif = now - dayCount(2012,12,21);\n    dif %= dayCount(13,0,0,0,0);\n\n    int b,ka,t,w,ki;\n    int days[5]={1,20,18,20,20};\n    for(int i=2; i<5; i++) days[i] *= days[i-1];\n    b = dif/days[4];\n    dif %= days[4];\n    ka = dif/days[3];\n    dif %= days[3];\n    t = dif/days[2];\n    dif %= days[2];\n    w = dif/days[1];\n    dif %= days[1];\n    ki = dif/days[0];\n    date<<b<<\".\"<<ka<<\".\"<<t<<\".\"<<w<<\".\"<<ki;\n    return date.str();\n}\n\nstring MayatoAD(int b, int ka, int t, int w, int ki)\n{\n    stringstream date;\n    long long int now = dayCount(b,ka,t,w,ki);\n    now += dayCount(2012,12,21);\n\n    int y,m,d;\n    int days[13]={0,31,28,31,30,31,30,31,31,30,31,30,31};\n    y = 1;\n    while(now > 365) {\n        bool leap = (y%4==0 && y%100!=0) || (y%400==0);\n        if(leap && now==366) break;\n        now -= 365 + leap;\n        y++;\n    }\n    bool leap = (y%4==0 && y%100!=0) || (y%400==0);\n    for(int i=1; i<=12; i++) {\n        m = i;\n        if(now <= days[i]) break;\n        now -= days[i];\n        if(leap && i==2) {\n            if(now==1) {\n                now = 29;\n                break;\n            }\n            now--;\n        }\n    }\n    d = now;\n    date<<y<<\".\"<<m<<\".\"<<d;\n    return date.str();\n}\n\nint main()\n{\n    string date;\n    while(getline(cin, date), date!=\"#\") {\n        int y,m,d;\n        int b,ka,t,w,ki;\n        stringstream ss;\n        string ans;\n\n        while(date.find(\".\")!=string::npos) {\n            date.replace(date.find(\".\"), 1, \" \");\n        }\n\n        ss.str(date);\n        if(count(date.begin(), date.end(), ' ') == 4) {\n            ss>>b>>ka>>t>>w>>ki;\n            ans = MayatoAD(b, ka, t, w, ki);\n        } else {\n            ss>>y>>m>>d;\n            ans = ADtoMaya(y, m, d);\n        }\n\n        cout<<ans<<endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <algorithm>\nusing namespace std;\ntypedef long long LL;\nint days[]={0,31,28,31,30,31,30,31,31,30,31,30,31};\nbool is_uruu(int year) {\n\treturn (year%4==0)&&(year%100!=0||year%400==0);\n}\nvoid foo(LL b,LL ka,LL t,LL w,LL ki) {\n\tka+=b*20;\n\tt+=ka*20;\n\tw+=t*18;\n\tki+=w*20;\n\tif(ki<=10) {\n\t\tprintf(\"2012.12.%d\\n\",ki+21);\n\t\treturn;\n\t}\n\tki-=10;\n\tint year=2013;\n\twhile(ki>0) {\n\t\tbool leap=is_uruu(year);\n\t\tif(leap) days[2]=29; else days[2]=28;\n\t\tfor(int i=1;i<=12;i++) {\n\t\t\tif(ki>days[i]) {\n\t\t\t\tki-=days[i];\n\t\t\t}else {\n\t\t\t\tprintf(\"%d.%d.%d\\n\",year,i,ki);\n\t\t\t\tki=0;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tyear++;\n\t}\n}\nvoid bar(LL y,LL m,LL d) {\n\tLL ki=0;\n\tif(y==2012) {\n\t\tki=d-21;\n\t}else {\n\t\tki+=10;\n\t\tfor(int i=2013;i<y;i++) {\n\t\t\tbool leap=is_uruu(i);\n\t\t\tif(leap) ki+=366; else ki+=365;\n\t\t}\n\t\tif(is_uruu(y)) days[2]=29; else days[2]=28;\n\t\tfor(int i=1;i<m;i++) {\n\t\t\tki+=days[i];\n\t\t}\n\t\tki+=d;\n\t}\n\tLL w=ki/20;\n\tki%=20;\n\tLL t=w/18;\n\tw%=18;\n\tLL ka=t/20;\n\tt%=20;\n\tLL b=ka/20;\n\tka%=20;\n\tprintf(\"%lld.%lld.%lld.%lld.%lld\\n\",b%13,ka,t,w,ki);\n}\nint main() {\n\tchar S[114514];\n\twhile(scanf(\"%s\",S),S[0]!='#') {\n\t\tint a,b,c,d,e;\n\t\tif(sscanf(S,\"%d.%d.%d.%d.%d\",&a,&b,&c,&d,&e)<5) {\n\t\t\tsscanf(S,\"%d.%d.%d\",&a,&b,&c);\n\t\t\tbar(a,b,c);\n\t\t}else {\n\t\t\tfoo(a,b,c,d,e);\n\t\t}\n\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<climits>\nusing namespace std;\n\n#define loop(i, a, b) for(int i = a; i < b; i++)\n#define rep(i, a) loop(i, 0, a)\n\n\nvoid to_maya(int y, int m, int d);\nvoid to_sei(int b, int ka, int t, int w, int ki);\nint leap_count(int base, int y);\n\nint main()\n{\n  //cout << leap_count(2013, 2015);\n  // printf(\"long long max: %lld\\n\", LLONG_MAX);\n  char date[100];\n  while(cin >> date) {\n    int a = 0, b = 0, c = 0, d = 0, e = 0;\n    int cnt = sscanf(date, \"%d.%d.%d.%d.%d\", &a, &b, &c, &d, &e);\n\n    if(cnt == 3) {\n      //     cout << '3'<<endl;\n      to_maya(a, b, c);\n    }\n    else if(cnt == 5){\n      //  cout << '5' << endl;\n      to_sei(a, b, c, d, e);\n    }\n    else if(date[0] == '#') {\n      //    cout << '#';\n      break;\n    }\n    // cout << date;\n  }\n}\n\n\nint leap_count(int base,  int y)\n{\n  int cnt = 0;\n  for(int i = base; i <= y; i++) {\n    //cout << i << endl;\n    if(i % 400 == 0) cnt++;\n    else if(i % 100 != 0 && i % 4 == 0) cnt++;\n  }\n  return cnt;\n}\n\n\nvoid to_maya(int y, int m, int d)\n{\n  long long int days = 0;\n  long long int leap = leap_count(2013, y);\n  if( y != 2012 ) {\n    //    cout << leap << endl;\n    days += ( y - 2013 - leap ) * 365 + leap * 366 + 10;\n    //  cout << days << endl;\n    loop(i, 1, m){\n      if(i == 1 || i == 3 || i == 5 || i == 7 || i == 8 || i == 10 || i == 12)\n\tdays += 31;\n      if(i == 4 || i == 6 || i == 9 || i == 11)\n\tdays += 30;\n      if(i == 2) {\n\tdays += 28;\n\t//cout << leap_count(y,y) << endl;\n\tif(leap_count(y, y)) {\n\t  days++;\n\t  // cout << \"leap\" << endl;\n\t}\n      }\n    }\n    days += d;\n    if(leap_count(y,y)) days--;\n  }\n  else days += (d - 21);\n  \n  days -=  days / (13 * 20 * 18 * 20 * 20) * (13 * 20 * 18 * 20 * 20);\n  long long int b = days / (20 * 18 * 20 * 20); days -= b * 20 * 20 * 18 * 20;\n  //cout << days << endl;\n  long long int ka =  days / (20 * 18 * 20); days -= ka * 20 * 18 * 20;\n  //cout << days << endl;\n  long long int t = days / (20 * 18); days -= t * 18 * 20;\n  //cout << days << endl;\n  long long int w = days / 20; days -= w * 20;\n  //  cout << days << endl;\n  long long int ki = days; days -= ki;\n  //  cout << days << endl;\n  \n  printf(\"%lld.%lld.%lld.%lld.%lld\\n\", b, ka, t, w, ki);\n}\n\nvoid to_sei(int b, int ka, int t, int w, int ki)\n{\n  long long int days = 0;\n  int y = 2013, m = 1, d = 1, until;\n  days += b * 20 * 18 * 20 * 20 + ka * 20 * 18 * 20 + t * 20 * 18 + w * 20 + ki;\n  if(days > 10) {\n    days -= 10;\n    while(1) {\n      if(leap_count(y, y)) {\n\tif(days - 366 >= 0) days -= 366;\n\telse break;\n      }\n      else if(days - 365 >= 0) days -= 365;\n      else break;\n      y++;\n      //cout << 'y' << y << endl;\n    }\n\n    while(1) {\n      d = 1;\n      if(m == 1 || m == 3 || m == 5 || m == 7 || m == 8 || m == 10 || m == 12)\n\tuntil = 31;\n      if(m == 4 || m == 6 || m == 9 || m == 11)\n\tuntil = 30;\n      if(m == 2) {\n\tuntil = 28;\n\t// cout << y << leap_count(y, y) << endl;\n\tif(1 <= leap_count(y, y)) {\n\t  until = 29;\n\t  //  cout << \"leap\" << endl;\n\t}\n      }\n      //    cout << 'm' << m << endl;\n      loop(i, 1, until + 1) {\n\t//\tcout << 'd' << d << endl;\n\td++;\n\tdays--;\n\tif(days == 0) break;\n\t\n      }\n      if(days == 0) break;\n      if(m == 12) m = 1;\n      else m++;\n\n    }\n     d--;\n    cout << y << '.' << m << '.' << d  << endl;\n  }\n  else {\n    cout << \"2012.12.\" << days + 21 << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<ll> vl;\ntypedef complex<double> P;\ntypedef pair<int,int> pii;\n#define REP(i,n) for(ll i=0;i<n;++i)\n#define REPR(i,n) for(ll i=1;i<n;++i)\n#define FOR(i,a,b) for(ll i=a;i<b;++i)\n\n#define DEBUG(x) cout<<#x<<\": \"<<x<<endl\n#define DEBUG_VEC(v) cout<<#v<<\":\";REP(i,v.size())cout<<\" \"<<v[i];cout<<endl\n#define ALL(a) (a).begin(),(a).end()\n\n#define MOD (ll)(1e9+7)\n#define ADD(a,b) a=((a)+(b))%MOD\n#define FIX(a) ((a)%MOD+MOD)%MOD\n\nll calc1(ll y,ll m,ll d){\n  ll ret = 0;\n  ret += (y-1)*365;\n  ret += (y+3)/4;\n  ret -= (y+3)/100;\n  ret += (y+3)/400;\n  if((y%4==0&&y%100!=0) || (y%400==0)){\n    // is uruu\n    ll daylist[12] = {31,29,31,30,31,30,31,31,30,31,30,31};\n    REP(i,m-1) ret += daylist[i];\n    ret += d;\n  }else{\n    // isnt uruu\n    ll daylist[12] = {31,28,31,30,31,30,31,31,30,31,30,31};\n    REP(i,m-1) ret += daylist[i];\n    ret += d;\n  }\n  return ret;\n}\n\nstring tostr(ll a){\n  if(a==0)return \"0\";\n  string ret = \"\";\n  while(a){\n    ret = (char)(a%10+'0') + ret;\n    a /= 10;\n  }\n  return ret;\n}\n\nvoid printmaya(ll day){\n  day %= 1872000;\n  string ret = \"\";\n  ret = tostr(day%20) + ret;\n  day /= 20;\n  ret = tostr(day%18) + \".\" + ret;\n  day /= 18;\n  ret = tostr(day%20) + \".\" + ret;\n  day /= 20;\n  ret = tostr(day%20) + \".\" + ret;\n  day /= 20;\n  ret = tostr(day) + \".\" + ret;\n  cout << ret << endl;\n  return;\n}\n\nvoid printdays(ll days){\n  ll year;\n  year = days/366;\n  while(calc1(year,1,0) <= days)++year;\n  --year;\n  days -= calc1(year,1,0);\n  ll month = 0, day = 0;\n  if((year%4==0&&year%100!=0) || (year%400==0)){\n    // is uruu\n    ll daylist[12] = {31,29,31,30,31,30,31,31,30,31,30,31};\n    REP(i,12){\n      if(days <= daylist[i]){\n        month = i+1;\n        day = days;\n        break;\n      }\n      days -= daylist[i];\n    }\n  }else{\n    // isnt uruu\n    ll daylist[12] = {31,28,31,30,31,30,31,31,30,31,30,31};\n    REP(i,12){\n      if(days <= daylist[i]){\n        month = i+1;\n        day = days;\n        break;\n      }\n      days -= daylist[i];\n    }\n  }\n  printf(\"%lld.%lld.%lld\\n\",year,month,day);\n}\n\nint main(){\n  while(true){\n    string s;\n    cin>>s;\n    if(s==\"#\")break;\n    if(count(ALL(s),'.') == 4){\n      // DEBUG(\"?????????\");\n      ll a=0,b=0,c=0,d=0,e=0;\n      // input\n      {\n        int it = 0;\n        while(s[it]!='.'){\n          a *= 10;\n          a += (s[it]-'0');\n          ++it;\n        }\n        ++it;\n        while(s[it]!='.'){\n          b *= 10;\n          b += (s[it]-'0');\n          ++it;\n        }\n        ++it;\n        while(s[it]!='.'){\n          c *= 10;\n          c += (s[it]-'0');\n          ++it;\n        }\n        ++it;\n        while(s[it]!='.'){\n          d *= 10;\n          d += (s[it]-'0');\n          ++it;\n        }\n        ++it;\n        while(it<s.size()){\n          e *= 10;\n          e += (s[it]-'0');\n          ++it;\n        }\n      }\n      ll dest = calc1(2012,12,21);\n      ll add = (((a*20+b)*20+c)*18+d)*20+e;\n      printdays(dest+add);\n    }else{\n      // DEBUG(\"??±????????????\");\n      // year month day\n      ll year = 0, month = 0, day = 0;\n      // input\n      {\n        int it = 0;\n        while(s[it]!='.'){\n          year *= 10;\n          year += (s[it]-'0');\n          ++it;\n        }\n        ++it;\n        while(s[it]!='.'){\n          month *= 10;\n          month += (s[it]-'0');\n          ++it;\n        }\n        ++it;\n        while(it<s.size()){\n          day *= 10;\n          day += (s[it]-'0');\n          ++it;\n        }\n      }\n      ll dest = calc1(2012,12,21);\n      ll birt = calc1(year,month,day);\n      printmaya(birt - dest);\n    }\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <ctype.h>\n \nchar *gets(char *);\nchar buf[100], *p;\n \nint getInt(void)\n{\n    int n = 0;\n    while (isspace(*p) || *p == '.') p++;\n    if (!*p) return -1;\n    while (isdigit(*p)) n = 10 * n + (*p++ - '0');\n    return n;\n}\n \n#define MAGIC 2456283       // 2012.12.21\n \nlong long greg2jd(int year, int month, int day)\n{\n    long long a, y, m;\n    long long j;\n \n    a = (14 - month) / 12;\n    y = year + 4800 - a;\n    m = month + 12 * a - 3;\n    j = day + (153 * m + 2) / 5 + 365 * y + y / 4 - y / 100 + y / 400 - 32045;\n    return j;\n}\n \nint jd2greg(int *year, int *month, int *day, int jd)\n{\n    int a, b, c;\n    int d, e, m;\n    int yy;\n    int m1;\n \n    a = jd + 32044;\n    b = (4 * a + 3) / 146097;\n    c = a - (146097 * b) / 4;\n    d = (4 * c + 3) / 1461;\n    e = c - (1461 * d) / 4;\n    m = (5 * e + 2) / 153;\n    m1 = m / 10;\n    *day = e - (153 * m + 2) / 5 + 1;\n    *month = m + 3 - 12 * m1;\n    yy = 100 * b + d - 4800 + m1;\n    if (yy <= 0) { *year = -yy + 1; return -1; }\n    *year = yy; return 1;\n}\n \nint main()\n{\n    int b, ka, t, w, ki;\n    int y, m, d;\n    int a, k;\n    long long x;\n \n    while (1) {\n        gets(p = buf);\n        if (*p == '#') break;\n        y = getInt(), m = getInt(), d = getInt(), a = getInt();\n        if (a >= 0) {  // maya -> Gregorian\n            b = y, ka = m, t = d, w = a, ki = getInt();\n            k = (((20 * b + ka) * 20 + t) * 18 + w) * 20 + ki;\n            k += MAGIC;\n            jd2greg(&y, &m, &d, k);\n            printf(\"%d.%d.%d\\n\", y, m, d);\n        }\n        else {\n            x = (greg2jd(y, m, d) - MAGIC) % 1872000;\n            k = (int)x;\n            b = k / 144000, k %= 144000;\n            ka = k / 7200, k %= 7200;\n            t = k / 360, k %= 360;\n            w = k / 20, ki = k % 20;\n            printf(\"%d.%d.%d.%d.%d\\n\", b, ka, t, w, ki);\n        }\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nvector<string> split(const string &str, char sep)\n{\n    vector<string> v;\n    stringstream ss(str);\n    string buffer;\n    while( getline(ss, buffer, sep) ) {\n        v.push_back(buffer);\n    }\n    return v;\n}\n\nbool is_Leapyear(long long int year){\n    if(year%4==0){\n        if(year%100==0){\n            if(year%400==0){\n                return true;\n            }\n            return false;\n        }\n        return true;\n    }\n    return false;\n}\n\nint months[12] = {31,28,31,30,31,30,31,31,30,31,30,31};\nint leapmonths[12] = {31,29,31,30,31,30,31,31,30,31,30,31};\n\nint main() {\n\n    string s;\n\n    const long long  int baseday = (2012*365 + 2012/4 - 2012/100 + 2012/400 + 366-11);\n\n    while(1){\n\n        cin >> s;\n\n        if(s[0] == '#'){\n            break;\n        }\n\n        vector<string> vec = split(s,'.');\n\n        if(vec.size() == 5){\n\n            int a[5];//b,ka,t,w,ki\n\n            for(int i=0;i<5;i++){\n                stringstream ss;\n                ss << vec[i];\n                ss >> a[i];\n            }\n\n            long long int allday = 0;\n\n            allday = a[0]*20*20*18*20 + a[1]*20*18*20 + a[2]*18*20 + a[3]*20 + a[4];\n\n            if(allday>=11){\n                allday -= 11;\n                int year,month,day;\n                year = 2013+(allday/(365+365+365+366))*4;\n                allday = allday % (365+365+365+366);\n                year += allday/365;\n                allday %= 365;\n                allday = allday + (year-2013)/100 - (year-2013)/400;\n                month = 1;\n                day = 1;\n                if(is_Leapyear(year)){\n                    for(int i=0;i<12;i++){\n                        if(allday>leapmonths[i]){\n                            allday-=leapmonths[i];\n                            month++;\n                        }\n                        else{\n                            break;\n                        }\n                    }\n                    day += allday;\n                    printf(\"%d.%d.%d\\n\",year,month,day);\n                }\n                else{\n                    for(int i=0;i<12;i++){\n                        if(allday>months[i]){\n                            allday-=months[i];\n                            month++;\n                        }\n                        else{\n                            break;\n                        }\n                    }\n                    day += allday ;\n                    printf(\"%d.%d.%d\\n\",year,month,day);\n                }\n            }\n            else{\n                printf(\"2012.12.%lld\\n\",21+allday);\n            }\n\n        }\n\n        else{\n\n            int b[3];//year,month,day\n\n            for(int i=0;i<3;i++){\n                stringstream ss;\n                ss << vec[i];\n                ss >> b[i];\n            }\n\n            long long int allday = (b[0] % 1872000 * 365 + b[0]/4 - b[0]/100 + b[0]/400);\n\n            if(is_Leapyear(b[0])){\n                allday--;\n            }\n\n            for(int i=0;i<b[1]-1;i++){\n                if(is_Leapyear(b[0])){\n                    allday += leapmonths[i];\n                }\n                else{\n                    allday += months[i];\n                }\n            }\n\n            allday += b[2];\n\n            allday -= baseday;\n\n            allday %= 1872000;\n\n            int ba,ka,t,w,ki;\n\n            ba = allday/144000;\n\n            allday %= 144000;\n\n            ka = allday/7200;\n\n            allday %= 7200;\n\n            t = allday/360;\n\n            allday %= 360;\n\n            w = allday/20;\n\n            allday %= 20;\n\n            ki = allday;\n\n            printf(\"%d.%d.%d.%d.%d\\n\",ba,ka,t,w,ki);\n        }\n\n    }\n\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string.h>\n#include<stdlib.h>\n#include<time.h>\n#include<stdio.h>\nusing namespace std;\nstruct tm T;\nstruct tm *a;\nint maya[5]={144000,7200,360,20,1};\nint sugi[5]={1,20,20,18,20};\nint main(){\n\ttime_t tt,kin,ans,s=1356015600;\n\t\tchar koyomi[50];\n\t int i,j;\n\tint  n[5]={0};\n\twhile(1){\n\t\tcin>>koyomi;\n\t\tif(koyomi[0]=='#'){\n\t\t\tbreak;\n\t\t}\n\t\tmemset(n,0,sizeof(n));\n\t\tj=0;\n\t\tcout<<strlen(koyomi)<<endl;\n\t\tfor(i=0;i<strlen(koyomi);i++){\n\t\t\tif(koyomi[i]=='.'){\n\t\t\t\tj++;\n\t\t\t}\n\t\t}\n\t\tcout<<j<<endl;\n\t\tif(j==2){\n\t\t\tsscanf(koyomi,\"%d.%d.%d\",&n[0],&n[1],&n[2]);\n\t\t\tT.tm_year=n[0]-1900;\n\t\t\tT.tm_mon=n[1]-1;\n\t\t\tT.tm_mday=n[2];\n\t\t\ttt=(mktime(&T)-s)/86400%1872000;\n\t\t\t//cout<<tt<<endl;\n\t\t\tprintf(\"%11d.%11d.%11d.%11d.%11d\\n\",tt/144000,tt/7200%20,tt/360%20,tt/20%18,tt%20);\n\t\t}\n\t\telse{\n\t\t\tsscanf(koyomi,\"%d.%d.%d.%d.%d\",&n[0],&n[1],&n[2],&n[3],&n[4]);\n\t\t\ttt=(n[0]*144000+n[1]*7200+n[2]*360+n[3]*20+n[4])*86400+s;\n\t\t\tlocaltime_r(&tt,&T);\n\t\t\tprintf(\"%d.%d.%d\\n\",T.tm_year+1900,T.tm_mon+1,T.tm_mday);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#include <time.h>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef vector<int> vi;\n\nll gettime64(ll y,ll m,ll d){\n  struct tm poi;\n  poi.tm_year = y-1900;\n  poi.tm_mon = m-1;\n  poi.tm_mday = d;\n  poi.tm_hour = poi.tm_min = poi.tm_sec = 0;\n  poi.tm_isdst = -1;\n  return _mktime64(&poi);\n}\n\nint toint(string s){\n  return atoi(s.c_str());\n}\n\nvi split(string base, char spl){\n  vi result;\n  string::size_type pos = 0;\n  string::size_type bef = 0;\n  base += spl;\n  while( (pos = base.find_first_of(spl,bef)) != string::npos ){\n    result.push_back(toint(base.substr(bef,pos-bef)));\n    bef = pos+1;\n  }\n  return result;\n}\n\n#define AD 146097\n#define MAYA 1872000\n\nint main(){\n  while(true){\n    string s;\n    cin>>s;\n    if(s==\"#\")break;\n    vi input = split(s,'.');\n    if(input.size()==3){\n      // yyyy.mm.dd\n      ll y = input[0];\n      ll m = input[1];\n      ll d = input[2];\n      ll year_down = (y - 2013)/400;\n      y -= year_down*400;\n      ll birth = gettime64(y,m,d);\n      ll origin = gettime64(2012,12,21);\n      ll sub = (birth-origin)/24/60/60;\n      sub += year_down*AD%MAYA;\n      sub %= MAYA;\n      int ki = sub%20; sub/=20;\n      int w = sub%18;  sub/=18;\n      int t = sub%20;  sub/=20;\n      int ka = sub%20;\n      int b = sub/20;\n      printf(\"%d.%d.%d.%d.%d\\n\",b,ka,t,w,ki);\n    }else{\n      // b.ka.t.w.ki\n      ll val = 0;\n      val += input[0];  val *= 20;\n      val += input[1];  val *= 20;\n      val += input[2];  val *= 18;\n      val += input[3];  val *= 20;\n      val += input[4];\n      ll year_add = val/AD;\n      val %= AD;\n      val *= 24*60*60;\n      val += gettime64(2012,12,21);\n      struct tm *birth = _gmtime64((__time64_t*)&val);\n      int year = birth->tm_year + 1900 + year_add*400;\n      int month = birth->tm_mon + 1;\n      int day = birth->tm_mday + 1;\n      printf(\"%d.%d.%d\\n\",year,month,day);\n    }\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <sstream>\n#include <fstream>\n#include <iomanip>\n#include <algorithm>\n#include <cmath>\n#include <string>\n#include <vector>\n#include <list>\n#include <queue>\n#include <stack>\n#include <set>\n#include <map>\n#include <bitset>\n#include <numeric>\n#include <climits>\n#include <cfloat>\nusing namespace std;\n\nclass Date\n{\n    long long countDate() const\n    {\n        int days[] = {0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\n        if((y % 4 == 0 && y % 100 != 0) || y % 400 == 0)\n            ++ days[2];\n\n        long long ret = (y-1) * 365LL + (y-1) / 4 - (y-1) / 100 + (y-1) / 400;\n        for(int i=1; i<m; ++i)\n            ret += days[i];\n        ret += d - 1;\n\n        return ret;\n    }\npublic:\n    long long y;\n    int m, d;\n    Date(long long y0, int m0, int d0)\n    {\n        y = y0;\n        m = m0;\n        d = d0;\n    }\n    long long operator-(const Date& other) const\n    {\n        return countDate() - other.countDate();\n    }\n    Date operator+(long long x) const\n    {\n        int days[] = {0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\n\n        x += countDate();\n        Date ret(0, 1, 1);\n\n        long long a[] = {LLONG_MAX, 400, 100, 4, 1, 0};\n        int b[] = {97, 24, 1, 0};\n        for(int i=0; i<4; ++i){\n            ret.y += min(a[i] - a[i+1], x / (365 * a[i+1] + b[i]) * a[i+1]);\n            x -= (365 * a[i+1] + b[i]) * (ret.y % a[i] / a[i+1]);\n        }\n        ++ ret.y;\n\n        if((ret.y % 4 == 0 && ret.y % 100 != 0) || ret.y % 400 == 0)\n            ++ days[2];\n        while(x >= days[ret.m]){\n            x -= days[ret.m];\n            ++ ret.m;\n        }\n\n        ret.d = (int)x + 1;\n\n        return ret;\n    }\n};\n\nint main()\n{\n    int x[] = {13, 20, 20, 18, 20};\n\n    for(;;){\n        string s;\n        cin >> s;\n        if(s == \"#\")\n            return 0;\n        istringstream iss(s);\n\n        if(count(s.begin(), s.end(), '.') == 2){\n            long long y;\n            int m, d;\n            char c;\n            iss >> y >> c >> m >> c >> d;\n\n            long long a = Date(y, m, d) - Date(2012, 12, 21);\n\n            vector<int> ret(5);\n            for(int i=4; i>=0; --i){\n                ret[i] = a % x[i];\n                a /= x[i];\n            }\n            for(int i=0; i<4; ++i)\n                cout << ret[i] << '.';\n            cout << ret[4] << endl;\n        }else{\n            long long a = 0;\n            for(int i=0; i<5; ++i){\n                int b;\n                char c;\n                iss >> b >> c;\n                a *= x[i];\n                a += b;\n            }\n\n            Date ret(2012, 12, 21);\n            ret = ret + a;\n\n            cout << ret.y << '.' << ret.m << '.' << ret.d << endl;\n        }\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define LL long long int\n#define INF 734858\nusing namespace std;\nint main(void)\n{\n\tLL b,ka,t,w,ki,y,m,d,sum,cnt,mon,day,year;\n\tLL i,j,k;\n\tLL maya[5]={144000,7200,360,20,1};\n\tLL month[2][12]={\n\t\t\t\t\t{31,28,31,30,31,30,31,31,30,31,30,31},\n\t\t\t\t\t{31,29,31,30,31,30,31,31,30,31,30,31}\n\t\t\t\t\t};\n\tchar s[100];\n\twhile(1) {\n\t\tcin>>s;\n\t\tif(s[0]=='#') break;\n\t\tcnt=0;\n\t\tfor(i=0;i<strlen(s);i++) {\n\t\t\tif(s[i]=='.') cnt++;\n\t\t}\n\t\tif(cnt==2) { //?\\?????????????\n\t\t\tsum=0;\n\t\t\tstring sum2;\n\t\t\tsum2=s[0];\n\t\t\tfor(i=1;i<strlen(s);i++) {\n\t\t\t\tif(s[i]=='.') break;\n\t\t\t\telse sum2+=s[i];\n\t\t\t}\n\t\t\tint mx;\n\t\t\tmx=atoi(sum2.c_str());\n\t\t\t//sum=?\\????????¨? \n\t\t\tfor(i=1;i<mx;i++) {\n\t\t\t\tif(i%4==0&&i%100!=0||i%400==0) sum+=366;\n\t\t\t\telse sum+=365;\n\t\t\t}\n\t\t\t//?????°????¨????\n\t\t\tint f=0;\n\t\t\tfor(i=0;i<strlen(s);i++) {\n\t\t\t\tif(s[i]=='.'&&s[i+2]=='.') {\n\t\t\t\t\tsum2=s[i+1];\n\t\t\t\t\tif(f==0) mon=atoi(sum2.c_str());\n\t\t\t\t\telse day=atoi(sum2.c_str());\n\t\t\t\t\tf=1;\n\t\t\t\t}\n\t\t\t\telse if(s[i]=='.'&&s[i+2]!='.') {\n\t\t\t\t\tsum2=s[i+1];\n\t\t\t\t\tsum2+=s[i+2];\n\t\t\t\t\tif(f==0) mon=atoi(sum2.c_str());\n\t\t\t\t\telse day=atoi(sum2.c_str());\n\t\t\t\t\tf=1;\n\t\t\t\t}\n\t\t\t}\n\t\t\t//cout<<mon<<\" \"<<day<<endl;\n\t\t\t//?????°???sum????¶?????????????????????´??¨????????§????????¨?????????????????????\n\t\t\tint test=0;\n\t\t\tfor(i=0;i<mon-1;i++) {\n\t\t\t\tif(mx%4==0&&mx%100!=0||mx%400==0) sum+=month[1][i];\n\t\t\t\telse sum+=month[0][i];\n\t\t\t}\n\t\t\t//??\\????????????????????§???????????§??????????????§?????\\??§?¨????\n\t\t\tsum+=day,sum-=INF;\n\t\t\tb=sum/maya[0],sum=sum%maya[0];\n\t\t\tka=sum/maya[1],sum=sum%maya[1];\n\t\t\tt=sum/maya[2],sum=sum%maya[2];\n\t\t\tw=sum/maya[3],ki=sum%maya[3];\n\t\t\tcout<<b%13<<\".\"<<ka%20<<\".\"<<t%20<<\".\"<<w%18<<\".\"<<ki%20<<endl;\n\t\t}\n\t\telse { //??????????\\????\n\t\t\tsum=0;\n\t\t\tLL swi=1,x;\n\t\t\tstring sum3;\n\t\t\t//????????????????????§???\n\t\t\tif(s[1]=='.') sum3=s[0],sum+=atoi(sum3.c_str())*maya[0];\n\t\t\telse if(s[1]!='.') sum3=s[0],sum3+=s[1],sum+=atoi(sum3.c_str())*maya[0];\n\t\t\tfor(i=0;i<strlen(s);i++) {\n\t\t\t\tif(s[i]=='.'&&s[i+2]=='.') {\n\t\t\t\t\tsum3=s[i+1];\n\t\t\t\t\tsum+=atoi(sum3.c_str())*maya[swi];\n\t\t\t\t\tswi++;\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\telse if(s[i]=='.'&&s[i+2]!='.') {\n\t\t\t\t\tsum3=s[i+1],sum3+=s[i+2];\n\t\t\t\t\tsum+=atoi(sum3.c_str())*maya[swi];\t\n\t\t\t\t\tswi++;\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t//\tcout<<sum<<endl;\n\t\t\tint zan=10;//zan???21????£????10???????´????????????????sum?????????10???????????????\n\t\t\tif(sum<11) {\n\t\t\t\tcout<<\"2012.12.\"<<sum+21<<endl;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tsum-=10;\n\t\t\t\tint suu=2013;\n\t\t\t\tyear=mon=day=0;\n\t\t\t\twhile(1) {\n\t\t\t\t\tif(suu%4==0&&suu%100!=0||suu%400==0) {\n\t\t\t\t\t\tif(sum>366) {\n\t\t\t\t\t\t\tsum-=366;\n\t\t\t\t\t\t\tyear++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if(sum==366) {\n\t\t\t\t\t\t\tsum-=366;\n\t\t\t\t\t\t\tyear++;\n\t\t\t\t\t\t\tmon=1,day=1;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tmon=1;\n\t\t\t\t\t\t\tfor(i=0;i<12;i++) {\n\t\t\t\t\t\t\t\tif(sum>=month[1][i]) {\n\t\t\t\t\t\t\t\t\tif(sum-month[1][i]==0) break;\n\t\t\t\t\t\t\t\t\tsum-=month[1][i];\n\t\t\t\t\t\t\t\t\tmon++;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tday=sum;\n\t\t\t\t\t\t\tsum=0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif(sum>365) {\n\t\t\t\t\t\t\tsum-=365;\n\t\t\t\t\t\t\tyear++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if(sum==365) {\n\t\t\t\t\t\t\tsum-=365;\n\t\t\t\t\t\t\tyear++;\n\t\t\t\t\t\t\tmon=1,day=1;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tmon=1;\n\t\t\t\t\t\t\t//cout<<\"sum==\"<<sum<<endl;\n\t\t\t\t\t\t\tfor(i=0;i<12;i++) {\n\t\t\t\t\t\t\t\tif(sum>=month[0][i]) {\n\t\t\t\t\t\t\t\t\tif(sum-month[0][i]==0) break;\n\t\t\t\t\t\t\t\t\tsum-=month[0][i];\n\t\t\t\t\t\t\t\t\tmon++;\n\t\t\t\t\t\t\t\t\t//cout<<\"sum==\"<<sum<<endl;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tday=sum;\n\t\t\t\t\t\t\tsum=0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(sum==0) break;\n\t\t\t\t\tsuu++;\n\t\t\t\t}\n\t\t\t\tcout<<suu<<\".\"<<mon<<\".\"<<day<<endl;\n\t\t\t}\n\t\t}\n\t}\n}\n\t"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\n\nbool check( long long int y ) {\n\n  if ( ( y % 4 ) != 0 ) return false;\n  if ( ( y % 100 ) == 0 && ( y % 400 ) != 0 ) return false;\n  return true;\n\n}\n\nint main () {\n\n  string input;\n\n  int st = 2012;\n\n  while( true ) {\n\n    cin >> input;\n\n    if ( input == \"#\" ) break;\n\n    int cnt = 0;\n\n    int m[12] = { 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 };\n\n    long long int d[5] = {0};\n\n    for ( int i = 0; i < input.size(); i++ ) {\n\n      if ( input[i] == '.' ) {\n\tcnt++;\n      }else {\n\td[cnt] *= 10;\n\td[cnt] += input[i] - '0';\n      }\n\n    }\n\n    long long int num = 0;\n\n    if ( cnt == 2 ) {\n\n      if ( d[0] == st ) {\n\tnum = d[2] - 21;\n      }else {\n\tnum = 10;\n\td[0]--;\n\tnum += ( d[0] - st ) * 365 + d[0] / 4 - d[0] / 100 + d[0] / 400;\n\tnum -= st / 4 - st / 100 + st / 400;\n\td[0]++;\n\tfor ( int i = 0; i < d[1] - 1; i++ ) {\n\t  num += m[i];\n\t  if ( i == 1 ) {\n\t    if ( check( d[0] ) == true ) num++;\n\t  }\n\t}\n\tnum += d[2];\n      }\n\n      d[4] = num % 20;\n      num /= 20;\n      d[3] = num % 18;\n      num /= 18;\n      d[2] = num % 20;\n      num /= 20;\n      d[1] = num % 20;\n      num /= 20;\n      d[0] = num % 13;\n\n      for ( int i = 0; i < 5; i++ ) {\n\n\tif ( i != 0 ) cout << \".\";\n\tcout << d[i];\n\n      }\n\n      cout << endl;\n\n    }else if ( cnt == 4 ) {\n\n      num += d[0] * 20 * 20 * 18 * 20;\n      num += d[1] * 20 * 18 * 20;\n      num += d[2] * 18 * 20;\n      num += d[3] * 20;\n      num += d[4];\n\n      if ( num <= 10 ) {\n\n\td[0] = st;\n\td[1] = 12;\n\td[2] = 21 + num;\n\n      }else {\n\n\tnum -= 10;\n\n\td[0] = st+1;\n\td[1] = 1;\n\td[2] = 1;\n\n\tint k;\n\n\twhile( true ) {\n\n\t  if ( check( d[0] ) == false ) {\n\t    k = 365;\n\t  }else {\n\t    k = 366;\n\t  }\n\n\t  if ( num <= k ) break;\n\t  num -= k;\n\t  d[0]++;\n\n\t}\n\n\tfor( int i = 0; i < 12; i++ ) {\n\n\t  k = m[i];\n\t  if ( check( d[0] ) == true && i == 1 ) k++;\n\t  if ( num <= k ) {\n\t    d[2] = num;\n\t    break;\n\t  }else {\n\t    d[1]++;\n\t    num -= k;\n\t  }\n\n\t}\n\n      }\n\n      for ( int i = 0; i < 3; i++ ) {\n\n\tif ( i != 0 ) cout << \".\";\n\tcout << d[i];\n\n      }\n\n      cout << endl;\n\n    }\n\n  }\n\n  return 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nstruct S{ll y,m,d;};\nstruct Ma{ll b,ka,t,w,ki;};\n\n//12,1,2,3...11\nint M[]={31,28,31,30,31,30,31,31,30,31,30,31};\n\nbool check(ll y){return (y%4==0&&(y%100!=0||y%400==0));}\n\nS M2S(ll b,ll ka,ll t,ll w,ll ki){\n  ka+=b*20;\n  t+=ka*20;\n  w+=t*18;\n  ki+=w*20;\n  S res;\n  res.y=2012,res.m=12,res.d=21+ki;\n  if(res.d<=31) return res;\n  \n  while(res.d/(365+check(res.y+1)))res.y++,res.d-=(365+check(res.y));\n  if(res.d<=31) return res;\n  res.y++,res.m=1,res.d-=31;\n  while(res.d/(M[res.m-1]+(check(res.y)&&res.m==1))){\n    res.d-=(M[res.m-1]+(check(res.y)&&res.m==1));\n    res.m++;\n  }\n  if(res.d==0) res.m--,res.d=M[res.m-1]+(check(res.y)&&res.m==2);\n  return res;\n}\n\nMa S2M(ll y,ll m,ll d){\n  y-=2012;\n  if(y) d+=10; \n  else d=(d-21);\n  \n  for(int i=0;i<m-1&&y;i++) d+=(M[i]+(i==1&&check(y+2012)));\n  y--;\n  while(y>0)d+=(365+check(y+2012)),y--;\n\n  Ma res;\n  d%=13*20*20*18*20;\n  res.ki=d;\n  res.w =res.ki/20; res.ki%=20;\n  res.t =res.w/18;  res.w %=18;\n  res.ka=res.t/20;  res.t %=20;\n  res.b =res.ka/20; res.ka%=20;\n  return res;\n}\n\n\nint main(){\n  while(1){\n    string str;\n    cin>>str;\n    if(str==\"#\")break;\n    vector <int> a;\n    int i=0,num=0;\n    while(str[i]){\n      if(str[i]=='.')a.push_back(num),num=0;\n      else num=num*10+str[i]-'0';\n      i++;\n    }\n    a.push_back(num);\n    \n    if(a.size()==5){\n      S ans=M2S(a[0],a[1],a[2],a[3],a[4]);\n      cout << ans.y<<\".\"<<ans.m<<\".\"<<ans.d<<endl;\n    }\n    else {\n      Ma ans=S2M(a[0],a[1],a[2]);\n      cout<<ans.b<<\".\"<<ans.ka<<\".\"<<ans.t<<\".\"<<ans.w<<\".\"<<ans.ki<<endl;\n    }\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nvector<string> split(const string &str, char sep)\n{\n    vector<string> v;\n    stringstream ss(str);\n    string buffer;\n    while( getline(ss, buffer, sep) ) {\n        v.push_back(buffer);\n    }\n    return v;\n}\n\nbool is_Leapyear(long long int year){\n    if(year%4==0){\n        if(year%100==0){\n            if(year%400==0){\n                return true;\n            }\n            return false;\n        }\n        return true;\n    }\n    return false;\n}\n\nint months[12] = {31,28,31,30,31,30,31,31,30,31,30,31};\nint leapmonths[12] = {31,29,31,30,31,30,31,31,30,31,30,31};\n\nint main() {\n\n    string s;\n\n    const long long  int baseday = (2012*365 + 2012/4 - 2012/100 + 2012/400 + 366-11);\n\n    while(1){\n\n        cin >> s;\n\n        if(s[0] == '#'){\n            break;\n        }\n\n        vector<string> vec = split(s,'.');\n\n        if(vec.size() == 5){\n\n            int a[5];//b,ka,t,w,ki\n\n            for(int i=0;i<5;i++){\n                stringstream ss;\n                ss << vec[i];\n                ss >> a[i];\n            }\n\n            long long int allday = 0;\n\n            allday = a[0]*20*20*18*20 + a[1]*20*18*20 + a[2]*18*20 + a[3]*20 + a[4];\n\n            if(allday>=11){\n                allday -= 11;\n                int year,month,day;\n                year = 2013+(allday/(365+365+365+366))*4;\n                allday = allday % (365+365+365+366);\n                year += allday/365;\n                allday %= 365;\n                allday = allday + (year-2013)/100 - (year-2013)/400;\n                month = 1;\n                day = 1;\n                if(is_Leapyear(year)){\n                    for(int i=0;i<12;i++){\n                        if(allday>leapmonths[i]){\n                            allday-=leapmonths[i];\n                            month++;\n                        }\n                        else{\n                            break;\n                        }\n                    }\n                    day += allday;\n                    printf(\"%d.%d.%d\\n\",year,month,day);\n                }\n                else{\n                    for(int i=0;i<12;i++){\n                        if(allday>months[i]){\n                            allday-=months[i];\n                            month++;\n                        }\n                        else{\n                            break;\n                        }\n                    }\n                    day += allday ;\n                    printf(\"%d.%d.%d\\n\",year,month,day);\n                }\n            }\n            else{\n                printf(\"2012.12.%lld\\n\",21+allday);\n            }\n\n        }\n\n        else{\n\n            int b[3];//year,month,day\n\n            for(int i=0;i<3;i++){\n                stringstream ss;\n                ss << vec[i];\n                ss >> b[i];\n            }\n\n            long long int allday = (b[0] % 1872000 * 365 + b[0]/4 - b[0]/100 + b[0]/400);\n\n            /*if(is_Leapyear(b[0])){\n                allday--;\n            }*/\n\n            for(int i=0;i<b[1]-1;i++){\n                /*if(is_Leapyear(b[0])){\n                    allday += leapmonths[i];\n                }\n                else{*/\n                    allday += months[i];\n                //}\n            }\n\n            allday += b[2];\n\n            allday -= baseday;\n\n            allday %= 1872000;\n\n            int ba,ka,t,w,ki;\n\n            ba = allday/144000;\n\n            allday %= 144000;\n\n            ka = allday/7200;\n\n            allday %= 7200;\n\n            t = allday/360;\n\n            allday %= 360;\n\n            w = allday/20;\n\n            allday %= 20;\n\n            ki = allday;\n\n            printf(\"%d.%d.%d.%d.%d\\n\",ba,ka,t,w,ki);\n        }\n\n    }\n\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nvector<string> split(const string &str, char sep)\n{\n    vector<string> v;\n    stringstream ss(str);\n    string buffer;\n    while( getline(ss, buffer, sep) ) {\n        v.push_back(buffer);\n    }\n    return v;\n}\n\nbool is_Leapyear(long long int year){\n    if(year%4==0){\n        if(year%100==0){\n            if(year%400==0){\n                return true;\n            }\n            return false;\n        }\n        return true;\n    }\n    return false;\n}\n\nint months[12] = {31,28,31,30,31,30,31,31,30,31,30,31};\nint leapmonths[12] = {31,29,31,30,31,30,31,31,30,31,30,31};\n\nint main() {\n\n    string s;\n\n    const long long  int baseday = (2012*365 + 2012/4 - 2012/100 + 2012/400 + 366-11);\n\n    while(1){\n\n        cin >> s;\n\n        if(s[0] == '#'){\n            break;\n        }\n\n        vector<string> vec = split(s,'.');\n\n        if(vec.size() == 5){\n\n            int a[5];//b,ka,t,w,ki\n\n            for(int i=0;i<5;i++){\n                stringstream ss;\n                ss << vec[i];\n                ss >> a[i];\n            }\n\n            long long int allday = 0;\n\n            allday = a[0]*20*20*18*20 + a[1]*20*18*20 + a[2]*18*20 + a[3]*20 + a[4];\n\n            if(allday>=11){\n                allday -= 11;\n                int year,month,day;\n                year = 2013+(static_cast<int>(allday/(365+365+365+366))*4);\n                allday = allday % (365+365+365+366);\n                allday = allday + (year-2013)/100 - (year-2013)/400;\n                year += allday/365;\n                allday %= 365;\n                month = 1;\n                day = 1;\n                if(is_Leapyear(year)){\n                    for(int i=0;i<12;i++){\n                        if(allday>=leapmonths[i]){\n                            allday-=leapmonths[i];\n                            month++;\n                        }\n                        else{\n                            break;\n                        }\n                    }\n                    day += allday;\n                    printf(\"%d.%d.%d\\n\",year,month,day);\n                }\n                else{\n                    for(int i=0;i<12;i++){\n                        if(allday>=months[i]){\n                            allday-=months[i];\n                            month++;\n                        }\n                        else{\n                            break;\n                        }\n                    }\n                    day += allday ;\n                    printf(\"%d.%d.%d\\n\",year,month,day);\n                }\n            }\n            else{\n                printf(\"2012.12.%lld\\n\",21+allday);\n            }\n\n        }\n\n        else{\n\n            long long int b[3];//year,month,day\n\n            for(int i=0;i<3;i++){\n                stringstream ss;\n                ss << vec[i];\n                ss >> b[i];\n            }\n\n            long long int allday = (b[0] % 1872000 * 365 + b[0]/4 - b[0]/100 + b[0]/400);\n\n            if(is_Leapyear(b[0])){\n                allday--;\n            }\n\n            for(int i=0;i<b[1]-1;i++){\n                if(is_Leapyear(b[0])){\n                    allday += leapmonths[i];\n                }\n                else{\n                    allday += months[i];\n                }\n            }\n\n            allday += b[2];\n\n            allday -= baseday;\n\n            allday %= 1872000;\n\n            long long int ba,ka,t,w,ki;\n\n            ba = allday/144000;\n\n            allday %= 144000;\n\n            ka = allday/7200;\n\n            allday %= 7200;\n\n            t = allday/360;\n\n            allday %= 360;\n\n            w = allday/20;\n\n            allday %= 20;\n\n            ki = allday;\n\n            printf(\"%lld.%lld.%lld.%lld.%lld\\n\",ba,ka,t,w,ki);\n        }\n\n    }\n\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "// 2015/08/05 Tazoe\n\n#include <iostream>\n#include <string>\n#include <sstream>\nusing namespace std;\n\n// マヤ長期暦から西暦へ\nvoid b_to_y(string S)\n{\n\tistringstream is(S);\n\tint b, ka, t, w, ki;\n\tis >> b >> ka >> t >> w >> ki;\n\n\tint KI = (((b*20+ka)*20+t)*18+w)*20+ki;\n\n\t// 2001年1月1日に戻す\n\tint y = 2001;\n\tint m = 1;\n\tint d = 1;\n\tKI += (365*12+3-11);\n\n\t// yを求める\n\tif(int tmp=(KI/(365*400+97))){\n\t\ty += (tmp*400);\n\t\tKI -= (tmp*(365*400+97));\n\t}\n\n\tif(int tmp=(KI/(365*100+24))){\n\t\ty += (tmp*100);\n\t\tKI -= (tmp*(365*100+24));\n\t}\n\n\tif(int tmp=(KI/(365*4+1))){\n\t\ty += (tmp*4);\n\t\tKI -= (tmp*(365*4+1));\n\t}\n\n\tif(int tmp=(KI/365)){\n\t\ty += tmp;\n\t\tKI -= (tmp*365);\n\t}\n\n\t// m, dを求める\n\tint M[12] = {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\n\tif(y%400==0 || (y%4==0 && y%100!=0))\n\t\tM[1] = 29;\n\n\tfor(int i=0; i<12; i++){\n\t\tif(KI>=M[i]){\n\t\t\tm++;\n\t\t\tKI -= M[i];\n\t\t}\n\t\telse{\n\t\t\td += KI;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tcout << y << '.' << m << '.' << d << endl;\n}\n\n// 西暦からマヤ長期暦へ\nvoid y_to_b(string S)\n{\n\tistringstream is(S);\n\tint y, m, d;\n\tis >> y >> m >> d;\n\n\tlong long D = 0;\n\n\t// 2000年12月31日からの日数\n\tlong long Y = (y-1)-2000;\n\n\tif(long long tmp=(Y/400)){\n\t\tD += (tmp*(365*400+97));\n\t\tY -= (tmp*400);\n\t}\n\n\tif(long long tmp=(Y/100)){\n\t\tD += (tmp*(365*100+24));\n\t\tY -= (tmp*100);\n\t}\n\n\tif(long long tmp=(Y/4)){\n\t\tD += (tmp*(365*4+1));\n\t\tY -= (tmp*4);\n\t}\n\n\tD += (Y*365);\n\n\tint M[12] = {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\n\tif(y%400==0 || (y%4==0 && y%100!=0))\n\t\tM[1] = 29;\n\n\tfor(int i=0; i<m-1; i++){\n\t\tD += (long long)M[i];\n\t}\n\n\tD += (long long)d;\n\n\t// 2012年12月21日からの日数\n\tD -= (365*12+3-10);\n\n\tint ki = D%20;\n\tD /= 20;\n\n\tint w = D%18;\n\tD /= 18;\n\n\tint t = D%20;\n\tD /= 20;\n\n\tint ka = D%20;\n\tD /= 20;\n\n\tint b = D%13;\n\n\tcout << b << '.' << ka << '.' << t << '.' << w << '.' << ki << endl;\n}\n\nint main()\n{\n\twhile(true){\n\t\tstring S;\n\t\tcin >> S;\n\n\t\tif(S==\"#\")\n\t\t\tbreak;\n\n\t\t// ピリオドを空白に置換\n\t\tint cnt = 0;\n\n\t\twhile(true){\n\t\t\tint loc = S.find(\".\");\n\n\t\t\tif(loc==string::npos)\n\t\t\t\tbreak;\n\n\t\t\tS.replace(loc, 1, \" \");\n\t\t\tcnt++;\n\t\t}\n\n\t\tif(cnt==4){\n\t\t\tb_to_y(S);\n\t\t}\n\t\telse if(cnt==2){\n\t\t\ty_to_b(S);\n\t\t}\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string.h>\n#include<stdlib.h>\nusing namespace std;\nint tuki[13]={0,31,28,31,30,31,30,31,31,30,31,30,31};\nint ma[5]={144000,7200,360,20,1};\nint p=31+29+31+30+31+30+31+31+30+31+30+21;\nint  seireki(int n[5]){\n\tlong long kin=0;\n\tlong long ans[6]={0};\n\tint  i,j;\n\t/*for(i=0;i<5;i++){\n\t\tcout<<n[i]<<endl;\n\t}*/\n\tfor(i=n[0]-1;i>=2012;i--){\n\t\tif(i%4==0&&i%100!=0||i%4==0&&i%400==0){\n\t\t\tkin+=366;\n\t\t}\n\t\telse{\n\t\t\tkin+=365;\n\t\t}\n\t}\n\tfor(i=n[1]-1;i>=1;i--){\n\t\tkin+=tuki[i];\n\t}\n\tif(n[0]%4==0&&n[0]%100!=0||n[0]%4==0&&n[0]%400==0){\n\t\tif(n[1]>=3){\n\t\t\tkin++;\n\t\t}\n\t}\n\tkin+=n[2];\n\tkin-=p;\n\tkin%=1872000;\n\tfor(i=0;i<5;i++){\n\t\tans[i]=kin/ma[i];\n\t\tkin%=ma[i];\n\t}\n\tfor(i=0;i<5;i++){\n\t\tcout<<ans[i];\n\t\tif(i<4){\n\t\t\tcout<<\".\";\n\t\t}\n\t\telse{\n\t\t\tcout<<endl;\n\t\t}\n\t}\n}\nint maya(int n[5]){\n\tlong long ans[3]={0};\n\tlong long kin=0;\n\tint i,j;\n\tfor(i=0;i<4;i++){\n\t\tkin=kin+n[i]*ma[i];\n\t}\n\tkin+=p;\n\tj=2012;\n\twhile(1){\n\t\tif(j%4==0&&j%100!=0||j%4==0&&j%400==0){\n\t\t\tif(kin<366){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tkin-=366;\n\t\t}\n\t\telse{\n\t\t\tif(kin<365){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tkin-=365;\n\t\t}\n\t\tj++;\n\t}\n\tans[0]=j;\n\tans[1]=1;\n\tfor(i=1;i<=12;i++){\n\t\tif(kin<tuki[i]){\n\t\t\tbreak;\n\t\t}\n\t\tkin-=tuki[i];\n\t\tans[1]++;\n\t}\n\tans[2]=kin;\n\t\tfor(i=0;i<3;i++){\n\t\tcout<<ans[i];\n\t\tif(i<2){\n\t\t\tcout<<\".\";\n\t\t}\n\t\telse{\n\t\t\tcout<<endl;\n\t\t}\n\t}\n}\nint main(){\n\tchar koyomi[50];\n\tint i,n[5];\n\twhile(1){\n\t\tcin>>koyomi;\n\t\tif(koyomi[0]=='#'){\n\t\t\tbreak;\n\t\t}\n\t\tmemset(n,0,sizeof(n));\n\t\tn[0]=atoi(strtok(koyomi,\".\"));\n\t\tfor(i=1;i<5;i++){\n\t\t\tn[i]=atoi(strtok(NULL,\".\"));\n\t\t}\n\t\t/*for(i=0;i<5;i++){\n\t\t\tcout<<a[i]<<endl;\n\t\t}*/\n\t\tif(n[0]>=2012){\n\t\t\tseireki(n);\n\t\t}\n\t\telse{\n\t\t\tmaya(n);\n\t\t}\n\t}\n\treturn 0;\n}\n\t"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <cstring>\n\n#include <iostream>\n#include <string>\n#include <algorithm>\n#include <vector>\n#include <queue>\n#include <stack>\n#include <map>\n#include <set>\n\n#include <functional>\n#include <cassert>\n\ntypedef long long ll;\nusing namespace std;\n\n#define debug(x) cerr << #x << \" = \" << x << endl;\n\n\n#define mod 1000000007 //1e9+7(prime number)\n#define INF 1000000000 //1e9\n#define LLINF 2000000000000000000LL //2e18\n#define SIZE 65010\n\n/* ?\\????1??´1???1??\\?????????????????\\??°?¨???? */\nll Fairfield(int y,int m,int d){\n  if(m<=2){\n    y--;\n    m+=12;\n  }\n  \n  ll dy = 365LL*(y - 1);\n  ll dl = y / 4 - y / 100 + y / 400;\n  ll dm = (306*m - 324) / 10;\n  return dy + dl + dm + d - 1;\n}\n\n/* ?????\\?¨???? (0??\\?????\\ - 6????????\\)???*/\nint Zeller(int y,int m,int d){\n  if(m<=2){\n    y--;\n    m+=12;\n  }\n  return (y + y/4 - y/100 + y/400 + (13*m + 8)/5 + d)%7;\n}\n\n/* ???????????´ */\nbool is_uruu(int y) {\n  return y % 4 == 0 && (y % 100 != 0 || y % 400 == 0);\n}\n\n\nvoid calc(char *s){\n  int dc = 0;\n  \n  for(int i=0;s[i]!='\\0';i++){\n    dc += s[i]=='.';\n  }\n\n  if(dc == 2){\n    int y,m,d;\n    sscanf(s,\"%d.%d.%d\",&y,&m,&d);\n\n    ll dif = Fairfield(y, m, d) - Fairfield(2012, 12, 21);\n\n    int ans[5] = {};\n\n    ans[4] = dif%20;\n    dif/=20;\n    ans[3] = dif%18;\n    dif/=18;\n    ans[2] = dif%20;\n    dif/=20;\n    ans[1] = dif%20;\n    dif/=20;\n    ans[0] = dif%13;\n\n    printf(\"%d.%d.%d.%d.%d\\n\",ans[0],ans[1],ans[2],ans[3],ans[4]);\n\n  }else{\n    int a,b,c,d,e;\n    sscanf(s,\"%d.%d.%d.%d.%d\",&a,&b,&c,&d,&e);\n\n    ll dif = 0;\n\n    dif = a;\n    dif = dif*20 + b;\n    dif = dif*20 + c;\n    dif = dif*18 + d;\n    dif = dif*20 + e;\n    \n    int y = (int)max((dif/355) - 1,1LL);\n\n    for(int i=y;;i++){\n      for(int j=1;j<=12;j++){\n        for(int k=1;k<=31;k++){\n          if(k==31 && (j==2 || j==4 || j==6 || j==9 || j==11)) continue;\n          if((j==2 && k==30) || (j==2 && !is_uruu(i) && k==29)) continue;\n\n          if(dif == Fairfield(i, j, k) - Fairfield(2012, 12, 21)){\n            printf(\"%d.%d.%d\\n\",i,j,k);\n            return;\n          }\n        }\n      }\n    }\n\n    assert(false);\n  }\n}\n  \n\nint main(){\n\n  char s[20];\n\n  while(scanf(\"%s\",s)!=EOF){\n    if(s[0]=='#') break;\n    calc(s);\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <sstream>\n#include <fstream>\n#include <iomanip>\n#include <algorithm>\n#include <cmath>\n#include <string>\n#include <vector>\n#include <list>\n#include <queue>\n#include <stack>\n#include <set>\n#include <map>\n#include <bitset>\n#include <numeric>\n#include <climits>\n#include <cfloat>\nusing namespace std;\n\nclass Date\n{\n    long long countDate() const\n    {\n        int days[] = {0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\n        if((y % 4 == 0 && y % 100 != 0) || y % 400 == 0)\n            ++ days[2];\n\n        long long ret = (y-1) * 365LL + (y-1) / 4 - (y-1) / 100 + (y-1) / 400;\n        for(int i=1; i<m; ++i)\n            ret += days[i];\n        ret += d - 1;\n\n        return ret;\n    }\npublic:\n    long long y;\n    int m, d;\n    Date(long long y0, int m0, int d0)\n    {\n        y = y0;\n        m = m0;\n        d = d0;\n    }\n    long long operator-(const Date& other) const\n    {\n        return countDate() - other.countDate();\n    }\n    Date operator+(long long x) const\n    {\n        int days[] = {0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\n\n        x += countDate();\n    \n        Date ret(0, 1, 0);\n        ret.y = 0;\n        ret.y += x / (365 * 400 + 97) * 400;\n        x -= (365 * 400 + 97) * (ret.y / 400);\n        ret.y += min(300LL, x / (365 * 100 + 24) * 100);\n        x -= (365 * 100 + 24) * (ret.y % 400 / 100);\n        ret.y += x / (365 * 4 + 1) * 4;\n        x -= (365 * 4 + 1) * (ret.y % 100 / 4);\n        ret.y += min(3LL, x / 365);\n        x -= 365 * (ret.y % 4);\n        ++ ret.y;\n\n        if((ret.y % 4 == 0 && ret.y % 100 != 0) || ret.y % 400 == 0)\n            ++ days[2];\n        while(x >= days[ret.m]){\n            x -= days[ret.m];\n            ++ ret.m;\n        }\n\n        ret.d = (int)x + 1;\n\n        return ret;\n    }\n};\n\nint main()\n{\n    int x[] = {13, 20, 20, 18, 20};\n\n    for(;;){\n        string s;\n        cin >> s;\n        if(s == \"#\")\n            return 0;\n        istringstream iss(s);\n\n        if(count(s.begin(), s.end(), '.') == 2){\n            long long y;\n            int m, d;\n            char c;\n            iss >> y >> c >> m >> c >> d;\n\n            long long a = Date(y, m, d) - Date(2012, 12, 21);\n\n            vector<int> ret(5);\n            for(int i=4; i>=0; --i){\n                ret[i] = a % x[i];\n                a /= x[i];\n            }\n            for(int i=0; i<4; ++i)\n                cout << ret[i] << '.';\n            cout << ret[4] << endl;\n        }else{\n            long long a = 0;\n            for(int i=0; i<5; ++i){\n                int b;\n                char c;\n                iss >> b >> c;\n                a *= x[i];\n                a += b;\n            }\n\n            Date ret(2012, 12, 21);\n            ret = ret + a;\n\n            cout << ret.y << '.' << ret.m << '.' << ret.d << endl;\n        }\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<tuple>\n#include<string>\n#include<vector>\nusing namespace std;\nlong long p1[13][33], p2[13][33], V[401];\ntuple<int, int, int>x[13][20][20][18][20];\ntuple<int, int, int, int, int>xx[1872000];\nvoid init() {\n\tfor (int i = 0; i < 429; i++) { p1[i / 33][i % 33] = -1; p2[i / 33][i % 33] = -1; }\n\tlong long CNTS = 0;\n\tfor (int i = 1; i <= 12; i++) {\n\t\tlong long V = 31; if ((i <= 6 && i % 2 == 0) || (i >= 9 && i % 2 == 1))V = 30;\n\t\tif (i == 2)V = 28;\n\t\tfor (int j = 1; j <= V; j++) { p1[i][j] = CNTS; CNTS++; }\n\t}\n\tCNTS = 0;\n\tfor (int i = 1; i <= 12; i++) {\n\t\tlong long V = 31; if ((i <= 6 && i % 2 == 0) || (i >= 9 && i % 2 == 1))V = 30;\n\t\tif (i == 2)V = 29;\n\t\tfor (int j = 1; j <= V; j++) { p2[i][j] = CNTS; CNTS++; }\n\t}\n\tfor (int i = 1; i <= 400; i++) {\n\t\tlong long II = i - 1;\n\t\tif (II % 4 == 0 && (II % 100 >= 1 || II % 400 == 0))V[i] = V[i - 1] + 366;\n\t\telse { V[i] = V[i - 1] + 365; }\n\t}\n\tCNTS = 0; long long yy = 2012, mm = 12, dd = 21;\n\tfor (int i = 0; i < 13; i++) {\n\t\tfor (int j = 0; j < 20; j++) {\n\t\t\tfor (int k = 0; k < 20; k++) {\n\t\t\t\tfor (int l = 0; l < 18; l++) {\n\t\t\t\t\tfor (int m = 0; m < 20; m++) {\n\t\t\t\t\t\tx[i][j][k][l][m] = make_tuple(yy, mm, dd);\n\t\t\t\t\t\txx[CNTS] = make_tuple(i, j, k, l, m);\n\t\t\t\t\t\tCNTS++; dd++;\n\t\t\t\t\t\tif (yy % 4 == 0 && (yy % 100 >= 1 || yy % 400 == 0)) {\n\t\t\t\t\t\t\tif (p2[mm][dd] == -1) { mm++; dd = 1; }\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse { if (p1[mm][dd] == -1) { mm++; dd = 1; } }\n\t\t\t\t\t\tif (mm == 13) { mm = 1; yy++; }\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\nlong long DayCount(long long y, long long m, long long d) {\n\tlong long DD = 0; if (y % 4 == 0) { DD = p2[m][d]; }\n\telse { DD = p1[m][d]; }\n\treturn (V[400] * (y / 400) + V[y % 400]) + DD;\n}\ntuple<int, int, int> MayaWest(long long I, long long J, long long K, long long L, long long M) {\n\treturn x[I][J][K][L][M];\n}\ntuple<int, int, int, int, int>WestMaya(long long I, long long J, long long K) {\n\tlong long X = (DayCount(I, J, K) + 1872000LL - DayCount(2012, 12, 21)) % 1872000LL;\n\treturn xx[X];\n}\nint main() {\n\tinit();\n\twhile (true) {\n\t\tstring S; cin >> S; if (S == \"#\")break; S += '.';\n\t\tvector<long long>Vec; string T = \"\";\n\t\tfor (int i = 0; i < S.size(); i++) {\n\t\t\tif (S[i] == '.') { Vec.push_back(stoi(T)); T = \"\"; }\n\t\t\telse { T += S[i]; }\n\t\t}\n\t\tif (Vec.size() == 3) {\n\t\t\ttuple<long long, long long, long long, long long, long long>ans = WestMaya(Vec[0], Vec[1], Vec[2]);\n\t\t\tcout << get<0>(ans) << '.' << get<1>(ans) << '.' << get<2>(ans) << '.' << get<3>(ans) << '.' << get<4>(ans) << endl;\n\t\t}\n\t\tif (Vec.size() == 5) {\n\t\t\ttuple<long long, long long, long long>ans = MayaWest(Vec[0], Vec[1], Vec[2], Vec[3], Vec[4]);\n\t\t\tcout << get<0>(ans) << '.' << get<1>(ans) << '.' << get<2>(ans) << endl;\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <string>\nusing namespace std;\ntypedef long long ll;\n\nconst int to_day[5] = {20, 20, 18, 20, 1};\nconst int month_day[12] = {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\n\nint main(){\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\n\tstring str;\n\twhile(cin >> str && str != \"#\"){\n\n\t\tint cnt = 0;\n\t\tfor(size_t i = 0; i < str.size(); ++i){\n\t\t\tif(str[i] == '.') cnt++;\n\t\t}\n\n\t\tif(cnt == 4){\n\t\t\tll data[5];\n\t\t\tint num = 0;\n\t\t\tsize_t prev = 0;\n\t\t\tfor(size_t i = 0; i < str.size(); ++i){\n\t\t\t\tif(str[i] == '.'){\n\t\t\t\t\tdata[num] = stoi(str.substr(prev, i - prev));\n\t\t\t\t\t//cout << data[num] << endl;\n\t\t\t\t\tprev = i + 1;\n\t\t\t\t\tnum++;\n\t\t\t\t}\n\t\t\t\tif(i == str.size() - 1){\n\t\t\t\t\tdata[num] = stoi(str.substr(prev, i + 1 - prev));\n\t\t\t\t\t//cout << data[num] << endl;\n\t\t\t\t}\n\t\t\t}\n\t\t\tll day = 0;\n\t\t\tfor(ll i = 0; i < 5; ++i){\n\t\t\t\tday += data[i];\n\t\t\t\tday *= to_day[i];\n\t\t\t}\n\t\t\t//cout << day << endl;\n\n\t\t\tif(day <= 10){\n\t\t\t\tcout << 2012 << '.' << 12 << '.' << 21 + day << endl;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tday -= 10;\n\t\t\t\tll year = 2013;\n\t\t\t\twhile(1){\n\t\t\t\t\tif(year % 400 == 0 || (year % 100 != 0 && year % 4 == 0)){\n\t\t\t\t\t\tif(day < 366) break;\n\t\t\t\t\t\tday -= 366;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif(day < 365) break;\n\t\t\t\t\t\tday -= 365;\n\t\t\t\t\t}\n\t\t\t\t\tyear++;\n\t\t\t\t}\n\t\t\t\tll month = 0;\n\t\t\t\twhile(1){\n\t\t\t\t\tif((year % 400 == 0 || (year % 100 != 0 && year % 4 == 0)) && month + 1 == 2){\n\t\t\t\t\t\tif(day > month_day[month] + 1){\n\t\t\t\t\t\t\tday -= month_day[month] + 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse break;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif(day > month_day[month]){\n\t\t\t\t\t\t\tday -= month_day[month];\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse break;\n\t\t\t\t\t}\n\t\t\t\t\tmonth++;\n\t\t\t\t}\n\t\t\t\tcout << year << '.' << month + 1 << '.' << day << endl;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tll data[3];\n\t\t\tint num = 0;\n\t\t\tsize_t prev = 0;\n\t\t\tfor(size_t i = 0; i < str.size(); ++i){\n\t\t\t\tif(str[i] == '.'){\n\t\t\t\t\tdata[num] = stoi(str.substr(prev, i - prev));\n\t\t\t\t\t//cout << data[num] << endl;\n\t\t\t\t\tprev = i + 1;\n\t\t\t\t\tnum++;\n\t\t\t\t}\n\t\t\t\tif(i == str.size() - 1){\n\t\t\t\t\tdata[num] = stoi(str.substr(prev, i + 1 - prev));\n\t\t\t\t\t//cout << data[num] << endl;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tll day = data[2];\n\t\t\tll year = 2013;\n\t\t\tif(data[0] == 2012){\n\t\t\t\tday = data[2] - 21;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tday += 10;\n\t\t\t\twhile(year < data[0]){\n\t\t\t\t\tif(year % 400 == 0 || (year % 100 != 0 && year % 4 == 0)){\n\t\t\t\t\t\tday += 366;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tday += 365;\n\t\t\t\t\t}\n\t\t\t\t\tyear++;\n\t\t\t\t}\n\n\t\t\t\tfor(ll i = 1; i < data[1]; ++i){\n\t\t\t\t\tif((year % 400 == 0 || (year % 100 != 0 && year % 4 == 0)) && i == 2){\n\t\t\t\t\t\tday += month_day[i - 1] + 1;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\tday += month_day[i - 1];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//cout << day << endl;\n\t\t\tday %= 1872000;\n\n\t\t\tll ans[5];\n\t\t\tfor(ll i = 3; i >= 0; --i){\n\t\t\t\tans[i + 1] = day % to_day[i];\n\t\t\t\tday /= to_day[i];\n\t\t\t}\n\t\t\tans[0] = day;\n\n\t\t\tfor(ll i = 0; i < 5; ++i){\n\t\t\t\tif(i != 0) cout << '.';\n\t\t\t\tcout << ans[i];\n\t\t\t}\n\t\t\tcout << endl;\n\t\t}\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "\n\n#include <bits/stdc++.h>\nusing namespace std;\n\n#define in ,\n#define esc_paren(...) __VA_ARGS__\n#define pp_empty(...)\n#define pp_cat_i(x, y) x ## y\n#define pp_cat(x, y) pp_cat_i(x, y)\n\n#define pp_inc0 1\n#define pp_inc1 2\n#define pp_inc2 3\n#define pp_inc3 4\n#define pp_inc4 5\n#define pp_inc5 6\n#define pp_inc6 7\n#define pp_inc7 8\n#define pp_inc8 9\n#define pp_inc(i) pp_cat(pp_inc, i)\n\n#define pp_arg10(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, ...) _9\n#define pp_has_comma(...) pp_arg10(__VA_ARGS__, 1, 1, 1, 1, 1, 1, 1, 1, 0)\n#define pp_trigger_paren(...) ,\n#define pp_is_empty(...) \\\n  pp_is_empty1( \\\n      pp_has_comma(__VA_ARGS__), \\\n      pp_has_comma(pp_trigger_paren __VA_ARGS__), \\\n      pp_has_comma(__VA_ARGS__()), \\\n      pp_has_comma(pp_trigger_paren __VA_ARGS__()) \\\n      ) \n#define pp_paste5(_0, _1, _2, _3, _4) _0 ## _1 ## _2 ## _3 ## _4\n#define pp_is_empty1(_0, _1, _2, _3) pp_has_comma(pp_paste5(pp_is_empty_case_, _0, _1, _2, _3))\n#define pp_is_empty_case_0001 ,\n\n#define pp_is_one(...) pp_is_one_(__VA_ARGS__, pp_one_seq)\n#define pp_is_one_(...) pp_is_one_n(__VA_ARGS__)\n#define pp_is_one_n(_1,_2,_3,_4,_5,_6,_7,_8,_9,_10, N, ...) N\n#define pp_one_seq 0,0,0,0,0,0,0,0,0,1,0\n\n#define pp_narg(...) \\\n         pp_narg_(__VA_ARGS__, pp_narg_seq)\n#define pp_narg_(...) \\\n         pp_narg_n(__VA_ARGS__)\n#define pp_narg_n( \\\n          _1, _2, _3, _4, _5, _6, _7, _8, _9,_10, \\\n         _11,_12,_13,_14,_15,_16,_17,_18,_19,_20, \\\n         _21,_22,_23,_24,_25,_26,_27,_28,_29,_30, \\\n         _31,_32,_33,_34,_35,_36,_37,_38,_39,_40, \\\n         _41,_42,_43,_44,_45,_46,_47,_48,_49,_50, \\\n         _51,_52,_53,_54,_55,_56,_57,_58,_59,_60, \\\n         _61,_62,_63,n,...) n\n#define pp_narg_seq \\\n         63,62,61,60, \\\n         59,58,57,56,55,54,53,52,51,50, \\\n         49,48,47,46,45,44,43,42,41,40, \\\n         39,38,37,36,35,34,33,32,31,30, \\\n         29,28,27,26,25,24,23,22,21,20, \\\n         19,18,17,16,15,14,13,12,11,10, \\\n          9, 8, 7, 6, 5, 4, 3, 2, 1, 0\n\n#define pp_if_0(x, y) y\n#define pp_if_1(x, y) x\n#define pp_if(cond, x, y) pp_cat(pp_if_, cond)(x, y)\n\n#define pp_foreach_i9(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i8(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i7(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i6(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i5(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i4(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i3(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i2(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i1(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i0(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i(i, f, ...) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach(f, ...) pp_foreach_i(0, f, __VA_ARGS__)\n\n\ntypedef long long ll;\n#define down_queue(x) priority_queue<x>\n#define up_queue(x) priority_queue<x, vector<x>, greater<x>>\n#define all(x) x.begin(), x.end()\n#define split_str(str, sp_word) istringstream stream(str); string res; for(int cnt = 0; getline(stream,res,sp_word); cnt++)\n#define digit(x) ((int)log10((double)(x)) + 1)\n#define mp(x,y) make_pair(x,y)\n#define pb(x) push_back(x)\n#define pf(x) push_front(x)\n#define vec_cpy(to,from) copy(all(to),back_inserter(from))\n#define ary_cpy(to,from) memcpy(to, from, sizeof(from))\n#define MOD 1000000007\n#define INF 999999999\n\n\n#define rep(...) rep1(rep2, (__VA_ARGS__))\n#define rep1(X, A) X A\n#define rep2(i, ...) pp_if(pp_is_one(__VA_ARGS__), rep_len1(i, __VA_ARGS__), rep3(i, __VA_ARGS__))\n#define rep_len1(i, end, ...) for (int i = 0; i < end; i++)\n#define rep3(i, iter, ...) rep4(rep5, (iter, i, esc_paren __VA_ARGS__))\n#define rep4(X, A) X A\n#define rep5(iter, ...) iter(__VA_ARGS__)\n\n#define up up_iter ,\n#define up_iter3(i, start, end) for (int i = start; i < end; i++)\n#define up_iter4(i, start, end, up) for (int i = start; i < end; i += up)\n#define up_iter(...) pp_cat(up_iter, pp_narg(__VA_ARGS__))(__VA_ARGS__)\n#define down down_iter ,\n#define down_iter2(i, end) for(int i = end-1; i >= 0; i--)\n#define down_iter3(i, start, end) for (int i = end-1; i >= start; i--)\n#define down_iter4(i, start, end, down) for (int i = end-1; i >= start; i -= down)\n#define down_iter(...) pp_cat(down_iter, pp_narg(__VA_ARGS__))(__VA_ARGS__)\n#define viter viter_iter ,\n#define viter_iter(i, v) auto tmpitr=v.begin(); for (auto i=*tmpitr; tmpitr != v.end(); tmpitr++)\n\n\n#define pp_init2(cnt, body) struct _InitStruct ## cnt { _InitStruct ## cnt() { body } } _initstruct ## cnt;\n#define pp_init1(f, cnt, body) f(cnt, body)\n#define pp_init(body) pp_init1(pp_init2, __COUNTER__, body)\n\n#define init_array(arr, N, val) pp_init(rep (i in N) { arr[i] = val; })\n#define iota_array(arr, N, start) pp_init(rep (i in N) { arr[i] = start + i; })\n\n\n#define debug_var_elem(v) << #v << \"=\" << v << \" \"\n#ifdef DEBUG\n#define debug_echo(e) cout << \"L\" << __LINE__ << \": \" << e << endl\n#define debug_var(...) cout << \"L\" << __LINE__ << \": \" pp_foreach(debug_var_elem, __VA_ARGS__) << endl\n#else\n#define debug_echo(e)\n#define debug_var(...)\n#endif\n\n\n#define pp_gen_field(list) pp_gen_field1 list\n#define pp_gen_field1(name, val) decltype(val) name;\n#define pp_gen_init(list) pp_gen_init1 list\n#define pp_gen_init1(name, val) ,val\n#define pp_gen_find_set_wrap(ufnodename) ufnodename pp_gen_find_set\n#define pp_gen_find_set(list) pp_gen_find_set1 list\n#define pp_gen_find_set1(name, val) \\\n  find_set_ ## name(int x, decltype(val) v) { \\\n    if (nodes[x].parent == x) { \\\n      nodes[x].name = v; \\\n      return nodes[x]; \\\n    } else { \\\n      return nodes[x] = find_set_ ## name(nodes[x].parent, v); \\\n    } \\\n  }\n#define pp_gen_unite_set(list) pp_gen_unite_set1 list\n#define pp_gen_unite_set1(name, val) \\\n  if (nodes[x].name == val) { \\\n    find_set_ ## name(x, find(y).name); \\\n  } \\\n  if (nodes[y].name == val) { \\\n    find_set_ ## name(y, find(x).name); \\\n  }\n\n#define def_unionfind(ufname, ufnodename, ...) \\\n  struct ufnodename { \\\n    int parent; \\\n    pp_foreach(pp_gen_field, __VA_ARGS__) \\\n  }; \\\n  struct ufname { \\\n    vector<ufnodename> nodes; \\\n    vector<int> rank; \\\n    ufname(int n) : nodes(n+1), rank(n+1) { \\\n      rep (i in n) { \\\n        nodes[i] = ufnodename{i pp_foreach(pp_gen_init, __VA_ARGS__)}; \\\n        rank[i] = 0; \\\n      } \\\n    } \\\n    ufnodename find(int x) { \\\n      if (nodes[x].parent == x) { \\\n        return nodes[x]; \\\n      } else { \\\n        return nodes[x] = find(nodes[x].parent); \\\n      } \\\n    } \\\n    pp_foreach(pp_gen_find_set_wrap(ufnodename), __VA_ARGS__) \\\n    void unite(int x, int y) { \\\n      x = find(x).parent; \\\n      y = find(y).parent; \\\n      if (x == y) return; \\\n      if (rank[x] < rank[y]) { \\\n        pp_foreach(pp_gen_unite_set, __VA_ARGS__); \\\n        nodes[x].parent = y; \\\n      } else { \\\n        pp_foreach(pp_gen_unite_set, __VA_ARGS__); \\\n        nodes[y].parent = x; \\\n        if (rank[x] == rank[y]) rank[x]++; \\\n      } \\\n    } \\\n    bool same(int x, int y) { \\\n      return find(x).parent == find(y).parent; \\\n    } \\\n  }\n\n\nll gcd(ll a,ll b){while(b){ll tmp = a % b;a = b;b = tmp;}return a;}\nll lcm(ll a,ll b){return a / gcd(a,b) * b;}\n\n#define def_varargs(name, f) \\\n  template<typename First> \\\n  inline First name(First first) { return first; } \\\n  template<typename First, typename... Rest> \\\n  inline First name(First first, Rest... rest) { return f(first, name(rest...)); }\n\nvector<string> split(const string &s, char delim) {\n    vector<string> elems;\n    string item;\n    for (char ch: s) {\n        if (ch == delim) {\n            if (!item.empty())\n                elems.push_back(item);\n            item.clear();\n        }\n        else {\n            item += ch;\n        }\n    }\n    if (!item.empty())\n        elems.push_back(item);\n    return elems;\n}\n\n#define KIN 1\n#define WINAL (KIN*20)\n#define TON (WINAL*18)\n#define KATON (TON*20)\n#define BAKTON (KATON*20)\n\nbool is_uruu(ll year) {\n  return year % 4 == 0 && (year % 100 != 0 || year % 400 == 0);\n}\n\npair<ll, bool> calc_year(ll& allday) {\n  ll cnt = 2012;\n  while (true) {\n    ll sub;\n    if (is_uruu(cnt+1)) {\n      sub = 366;\n    } else {\n      sub = 365;\n    }\n    if (allday - sub < 0) {\n      break;\n    }\n    allday -= sub;\n    cnt++;\n  }\n  return mp(cnt, is_uruu(cnt+1));\n}\npair<ll, ll> calc_month(ll& allday, ll& year, bool uruu) {\n  ll cnt = 12;\n  ll day = 31;\n  while (true) {\n    ll sub;\n    if (cnt == 2) {\n      sub = uruu ? 29 : 28;\n    } else if (cnt == 4 || cnt == 6 || cnt == 9 || cnt == 11) {\n      sub = 30;\n    } else {\n      sub = 31;\n    }\n    day = sub;\n    if (allday - sub < 0) {\n      break;\n    }\n    allday -= sub;\n    cnt++;\n    if (cnt > 12) {\n      year++;\n      cnt = 1;\n    }\n  }\n  return mp(cnt, day);\n}\nll calc_day(ll& allday, ll& month, ll& day) {\n  if (21 + allday > day) {\n    month++;\n    return 21 + allday - day;\n  } else {\n    return allday+21;\n  }\n}\n\nll year_to_day(ll year) {\n  ll cnt = 0;\n  rep (i in year-2012) {\n    if (is_uruu(i+2012+1)) {\n      cnt += 366;\n    } else {\n      cnt += 365;\n    }\n  }\n  return cnt;\n}\nll month_to_day(ll month, ll& year) {\n  int cnt = 0;\n  if (month==12) {\n    return is_uruu(year+1) ? 1 : 0;\n  }\n  year--;\n  rep (i in up(1, month+1)) {\n    if (i == 2) {\n      cnt += is_uruu(year+1) ? 29 : 28;\n    } else if (i == 4 || i == 6 || i == 9 || i == 11) {\n      cnt += 30;\n    } else {\n      cnt += 31;\n    }\n  }\n  return cnt;\n}\n\nint main() {\n  string s;\n  while (cin >> s && s[0] != '#') {\n    vector<string> elems = split(s, '.');\n    vector<int> maya;\n    for (auto e : elems) {\n      maya.pb(stoi(e));\n    }\n    if (elems.size() == 5) {\n      ll allday = maya[0]*BAKTON + maya[1]*KATON + maya[2]*TON + maya[3]*WINAL + maya[4]*KIN;\n      auto year = calc_year(allday);\n      auto month = calc_month(allday, year.first, year.second);\n      auto day = calc_day(allday, month.first, month.second);\n      if (month.first > 12) {\n        month.first -= 12;\n        year.first++;\n      }\n      cout << year.first << \".\" << month.first << \".\" << day << endl;\n    } else {\n      ll y = maya[0];\n      ll month = month_to_day(maya[1], y);\n      ll day = maya[2] - 21;\n      ll year = year_to_day(y);\n      ll allday = year + month + day;\n      allday %= BAKTON * 13;\n      ll b = allday / BAKTON; allday %= BAKTON;\n      ll ka = allday / KATON; allday %= KATON;\n      ll t = allday / TON; allday %= TON;\n      ll w = allday / WINAL; allday %= WINAL;\n      ll ki = allday / KIN; allday %= KIN;\n      cout << b << \".\" << ka << \".\" << t << \".\" << w << \".\" << ki << endl;\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <map>\n#include <cstring>\n#include <string>\n#include <stack>\n#include <queue>\n#include <cmath>\n#include <cstdlib>\n#include <cstdio>\n#include <algorithm>\n#include <sstream>\n#include <set>\nusing namespace std;\n\n#define rep(i,n) for(int i=0;i<(int)n;i++)\n#define repp(i,k,n) for(int i=k;i<(int)n;i++)\n#define rei(n) for(int i=0;i<(int)n;i++)\n#define rel(n) for(int l=0;l<(int)n;l++)\n#define al(s) s.begin(),s.end()\n#define INT_MAX 2147483647\n\nstruct Calendar\n{\n\tlong long year;\n\tlong long month;\n\tlong long day;\n\tlong long dat[2][13];\n\tCalendar(long long y, long long m, long long d)\n\t{\n\t\tyear = y;\n\t\tmonth = m;\n\t\tday = d;\n\t\tdat[0][1] = dat[1][1] = 31;\n\t\tdat[0][2] = dat[1][2] = 28;\n\t\tdat[0][3] = dat[1][3] = 31;\n\t\tdat[0][4] = dat[1][4] = 30;\n\t\tdat[0][5] = dat[1][5] = 31;\n\t\tdat[0][6] = dat[1][6] = 30;\n\t\tdat[0][7] = dat[1][7] = 31;\n\t\tdat[0][8] = dat[1][8] = 31;\n\t\tdat[0][9] = dat[1][9] = 30;\n\t\tdat[0][10] = dat[1][10] = 31;\n\t\tdat[0][11] = dat[1][11] = 30;\n\t\tdat[0][12] = dat[1][12] = 31;\n\t\tdat[1][2] = 29;\n\t}\n\tint uruu()\n\t{\n\t\tif (year % 4 == 0)\n\t\t{\n\t\t\tif (year % 400 != 0 && year % 100 == 0)\n\t\t\t{\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t}\n\t\treturn 0;\n\t}\n\tint uruu(long long y)\n\t{\n\t\tif (y % 4 == 0)\n\t\t{\n\t\t\tif (y % 400 != 0 && y % 100 == 0)\n\t\t\t{\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t}\n\t\treturn 0;\n\t}\n\tlong long pday(long long d)\n\t{\n\t\tday += d;\n\t\tfor (;; month++)\n\t\t{\n\t\t\tif (month >= 13)\n\t\t\t{\n\t\t\t\tyear++;\n\t\t\t\tmonth = 1;\n\t\t\t}\n\n\t\t\tif (dat[uruu()][month] < day)\n\t\t\t{\n\t\t\t\tday -= dat[uruu()][month];\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tpmonth(0);\n\t\treturn d;\n\t}\n\tlong long pmonth(long long m)\n\t{\n\t\tmonth += m;\n\t\tfor (;; year++)\n\t\t{\n\t\t\tif (month > 12)\n\t\t\t{\n\t\t\t\tmonth -= 12;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn m;\n\t}\n\tlong long pyear(long long y)\n\t{\n\t\tyear += y;\n\t\treturn y;\n\t}\n\tlong long dif(Calendar c)\n\t{\n\t\tlong long ans = 0;\n\t\tCalendar a(year, month, day);\n\t\tans -= a.day;\n\t\tans += c.day;\n\t\ta.day = 0;\n\t\tc.day = 0;\n\t\tfor (; a.month >= 1; a.month--)\n\t\t{\n\t\t\tans -= dat[a.uruu()][a.month];\n\t\t}\n\t\tfor (; c.month >= 1; c.month--)\n\t\t{\n\t\t\tans += dat[c.uruu()][c.month];\n\t\t}\n\t\tfor (; a.year != c.year; a.year++)\n\t\t{\n\t\t\tans += 365;\n\t\t\tif (a.uruu())ans++;\n\t\t}\n\t\treturn ans;\n\t}\n\n\n};\n\n\n\n\n\n\nint main()\n{\n\tstring a;\n\twhile (1)\n\t{\n\t\tgetline(cin, a);\n\t\tif (a.find(\"#\") != string::npos)break;\n\t\tint coun = 0;\n\t\tfor (int i = 0; i < a.size(); i++)\n\t\t{\n\t\t\tif (a[i] == '.')coun++;\n\t\t}\n\t\tif (coun == 2)\n\t\t{\n\t\t\tstring Y[3];\n\t\t\tint j = 0;\n\t\t\tfor (int i = 0; i < a.size(); i++)\n\t\t\t{\n\t\t\t\tif (a[i] == '.')j++;\n\t\t\t\telse Y[j] += a[i];\n\t\t\t}\n\t\t\tlong long y, m, d;\n\t\t\ty = atoi(Y[0].c_str());\n\t\t\tm = atoi(Y[1].c_str());\n\t\t\td = atoi(Y[2].c_str());\n\n\t\t\tCalendar A(y, m, d), B(2012, 12, 21);\n\t\t\tlong long def = B.dif(A);\n\n\t\t\tif (def < 0)\n\t\t\t{\n\t\t\t\tint b, ka, t, w, ki;\n\t\t\t\tb = 12;\n\t\t\t\tka = 19;\n\t\t\t\tt = 19;\n\t\t\t\tw = 17;\n\t\t\t\tki = 20;\n\t\t\t\tdef *= -1;\n\t\t\t\tka -= def / (1872000 / 13 / 20);\n\t\t\t\tdef %= 1872000 / 13 / 20;\n\n\t\t\t\tt -= def / (1872000 / 13 / 20 / 20);\n\t\t\t\tdef %= 1872000 / 13 / 20 / 20;\n\n\t\t\t\tw -= def / (1872000 / 13 / 20 / 20 / 18);\n\t\t\t\tdef %= 1872000 / 13 / 20 / 20 / 18;\n\n\t\t\t\tki -= def / (1872000 / 13 / 20 / 20 / 18 / 20);\n\n\t\t\t\tcout << b << \".\" << ka << \".\" << t << \".\" << w << \".\" << ki << endl;\n\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tdef %= 1872000;\n\t\t\t\tint ans = 0;\n\n\t\t\t\tans = def / (1872000 / 13);\n\t\t\t\tdef %= 1872000 / 13;\n\t\t\t\tcout << ans << \".\";\n\n\t\t\t\tans = def / (1872000 / 13 / 20);\n\t\t\t\tdef %= 1872000 / 13 / 20;\n\t\t\t\tcout << ans << \".\";\n\n\t\t\t\tans = def / (1872000 / 13 / 20 / 20);\n\t\t\t\tdef %= 1872000 / 13 / 20 / 20;\n\t\t\t\tcout << ans << \".\";\n\n\t\t\t\tans = def / (1872000 / 13 / 20 / 20 / 18);\n\t\t\t\tdef %= 1872000 / 13 / 20 / 20 / 18;\n\t\t\t\tcout << ans << \".\";\n\n\t\t\t\tans = def / (1872000 / 13 / 20 / 20 / 18 / 20);\n\t\t\t\tcout << ans << endl;\n\t\t\t\tcontinue;\n\n\n\t\t\t}\n\n\t\t}\n\t\telse\n\t\t{\n\t\t\tstring Y[5];\n\t\t\tint j = 0;\n\t\t\tfor (int i = 0; i < a.size(); i++)\n\t\t\t{\n\t\t\t\tif (a[i] == '.')j++;\n\t\t\t\telse Y[j] += a[i];\n\t\t\t}\n\t\t\tj = 0;\n\t\t\tCalendar c(2012, 12, 21);\n\t\t\tint h = atoi(Y[0].c_str());\n\t\t\tint g = atoi(Y[1].c_str());\n\t\t\tg += h * 20;\n\t\t\th = atoi(Y[2].c_str());\n\t\t\th += g * 20;\n\t\t\tg = atoi(Y[3].c_str());\n\t\t\tg += h * 18;\n\t\t\th = atoi(Y[4].c_str());\n\t\t\th += g * 20;\n\n\t\t\tc.pday(h);\n\n\t\t\tcout << c.year << \".\" << c.month << \".\" << c.day << endl;\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<string>\nusing namespace std;\n\nstruct M{\n\tlong long b;\n\tlong long ka;\n\tlong long t;\n\tlong long w;\n\tlong long ki;\n};\nM mkM(long long a,long long b,long long c,long long d,long long e){\n\tM m;\n\tm.b=a; m.ka=b; m.t=c; m.w=d; m.ki=e;\n\treturn m;\n}\n\nstruct C{\n\tlong long y;\n\tlong long m;\n\tlong long d;\n};\nC mkC(long long a,long long b,long long c){\n\tC cc;\n\tcc.y=a; cc.m=b; cc.d=c;\n\treturn cc;\n}\n\nlong long MtoN(M m){\n\tlong long ret=0;\n\tret+=m.b; ret*=20;\n\tret+=m.ka; ret*=20;\n\tret+=m.t; ret*=18;\n\tret+=m.w; ret*=20;\n\tret+=m.ki;\n\treturn ret;\n}\n\nM NtoM(long long n){\n\tM m;\n\tm.ki=n;\n\tm.w=m.ki/20; m.ki%=20;\n\tm.t=m.w/18; m.w%=18;\n\tm.ka=m.t/20; m.t%=20;\n\tm.b=m.ka/20; m.ka%=20;\n\tm.b%=13;\n\treturn m;\n}\n\nlong long D[13]={0,31,28,31,30,31,30,31,31,30,31,30,31};\n\nlong long CtoN(C c){\n\tif(c.y==2012)return c.d-21;\n\n\tlong long ret=0;\n\twhile(c.y>=2013+400){\n\t\tc.y-=400;\n\t\tret+=365*400+97;\n\t}\n\twhile(c.m>1){\n\t\tc.m--;\n\t\tret+=D[c.m];\n\t\tif(c.m==2&&c.y%4==0&&(c.y%100!=0||c.y%400==0))ret++;\n\t}\n\tret+=c.d-1; c.d=1;\n\twhile(c.y>2013){\n\t\tc.y--;\n\t\tret+=365;\n\t\tif(c.y%4==0&&(c.y%100!=0||c.y%400==0))ret++;\n\t}\n\n\treturn ret+11;\n}\n\nC NtoC(long long n){\n\tC c;\n\tc.y=2012; c.m=12; c.d=21;\n\tif(n<11){ c.d+=n; return c; }\n\tc.y=2013; c.m=1; c.d=1; n-=11;\n\n\twhile(n>=365*400+97){\n\t\tn-=365*400+97;\n\t\tc.y+=400;\n\t}\n\twhile(n>=365){\n\t\tif(c.y%4==0&&(c.y%100!=0||c.y%400==0)){\n\t\t\tif(n>=366){\n\t\t\t\tc.y++;\n\t\t\t\tn-=366;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tc.y++;\n\t\t\tn-=365;\n\t\t}\n\t}\n\tif(c.y%4==0&&(c.y%100!=0||c.y%400==0)){\n\t\tD[2]++;\n\t\twhile(n>=D[c.m]){\n\t\t\tn-=D[c.m];\n\t\t\tc.m++;\n\t\t}\n\t\tc.d+=n;\n\t\tD[2]--;\n\t}\n\telse {\n\t\twhile(n>=D[c.m]){\n\t\t\tc.m++;\n\t\t\tn-=D[c.m];\n\t\t}\n\t\tc.d+=n;\n\t}\n\n\treturn c;\n}\n\nint main(){\n\tstring s;\n\twhile(1){\n\t\tcin>>s;\n\t\tif(s==\"#\")break;\n\n\t\tlong long t=0;\n\t\tlong long a[6]={0};\n\t\tfor(long long i=0;i<s.size();i++){\n\t\t\tif(s[i]=='.')t++;\n\t\t\telse {\n\t\t\t\ta[t]*=10;\n\t\t\t\ta[t]+=s[i]-48;\n\t\t\t}\n\t\t}\n\n\t\tM m;\n\t\tC c;\n\t\tif(t==4){\n\t\t\tm.b=a[0];\n\t\t\tm.ka=a[1];\n\t\t\tm.t=a[2];\n\t\t\tm.w=a[3];\n\t\t\tm.ki=a[4];\n\t\t\tlong long n=MtoN(m);\n\t\t\tc=NtoC(n);\n\t\t\n\t\t\tprintf(\"%d.%d.%d\\n\",c.y,c.m,c.d);\n\t\t}\n\t\telse {\n\t\t\tc.y=a[0];\n\t\t\tc.m=a[1];\n\t\t\tc.d=a[2];\n\t\t\tlong long n=CtoN(c);\n\t\t\tm=NtoM(n);\n\n\t\t\tprintf(\"%d.%d.%d.%d.%d\\n\",m.b,m.ka,m.t,m.w,m.ki);\n\t\t}\n\t}\n}\t\t"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cmath>\n#include <vector>\n#include <map>\n#include <stack>\n#include <queue>\n#include <algorithm>\n#include <set>\n#include <cassert>\n\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define REP(i,j) FOR(i,0,j)\n#define mp std::make_pair\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef std::pair<int,int> P;\ntypedef std::pair<int,P> State;\n\nconst int INF = 1001001001;\n\n// S N E W(南北東西)\nconst int dx[8] = {0, 0, 1, -1, 1, 1, -1, -1}, dy[8] = {1, -1, 0, 0, 1, -1, 1, -1};\n\nconst int maxDay[13] = {0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31},\n    accumulationOfDays[13] = {0,31,59,90,120,151,181,212,243,273,304,334,365};\n\nll f(ll year, ll month, ll day){\n    ll y = month<=2?year-1:year, m = month<=2?month+12:month;\n    return 365 * y + y / 4 - y / 100 + y / 400 + 306 * (m+1) / 10 + day - 429;\n}\n\nclass Data{\npublic:\n    bool isLeapYear() const{\n        if(year % 400 == 0){return true;}\n        if(year % 100 == 0){return false;}\n        if(year % 4 == 0){return true;}\n        return false;\n    }\n    Data nextDay() const{\n        Data d = *this;\n        if(d.day == maxDay[d.month] + (isLeapYear()&&d.month==2?1:0)){\n            if(d.month == 12){\n                d.year += 1;\n                d.month = 1;\n                d.day = 1;\n            }else{\n                d.month += 1;\n                d.day = 1;\n            }\n        }else{\n            d.day += 1;\n        }\n\n        return d;\n    }\n    Data firstDayOfNextMonth() const{\n        Data d = *this;\n\n        if(d.day != 1){\n            while(d.day != 1){\n                d = d.nextDay();\n            }\n        }else{\n            if(d.month == 12){\n                d.year += 1;\n                d.month = 1;\n            }else{\n                d.month += 1;\n            }\n        }\n\n        return d;\n    }\n    Data firstDayOfNextYear() const{\n        Data d = *this;\n        \n        if(d.month != 1 || d.day != 1){\n            while(d.month != 1 || d.day != 1){\n                d = d.firstDayOfNextMonth();\n            }\n        }else{\n            d.year += 1;\n        }\n\n        return d;\n    }\n    int daysToFirstDayOfNextMonth() const{\n        Data d = firstDayOfNextMonth();\n        return f(d.year, d.month, d.day) - f(this->year, this->month, this->day);\n    }\n    int daysToFirstDayOfNextYear() const{\n        Data d = firstDayOfNextYear();\n        return f(d.year, d.month, d.day) - f(this->year, this->month, this->day);\n    }\n    Data operator+(ll val){\n        Data res = *this;\n\n        while(val >= res.daysToFirstDayOfNextYear()){\n            val -= res.daysToFirstDayOfNextYear();\n            res = res.firstDayOfNextYear();\n        }\n\n        while(val >= res.daysToFirstDayOfNextMonth()){\n            val -= res.daysToFirstDayOfNextMonth();\n            res = res.firstDayOfNextMonth();\n        }\n\n        while(val > 0){\n            val -= 1;\n            res = res.nextDay();\n        }\n\n        return res;\n    }\n    ll year, month, day;\n};\n\n\nstd::vector<ll> split(const std::string& s){\n    std::vector<std::string> ss;\n    int pos = 0, prev_pos = 0;\n    while(pos = s.find(\".\", pos), pos != std::string::npos){\n        ss.push_back(s.substr(prev_pos, pos-prev_pos));\n        pos += 1;\n        prev_pos = pos;\n    }\n    ss.push_back(s.substr(prev_pos, s.size()-prev_pos));\n\n    std::vector<ll> res;\n    for(const auto &s : ss){\n        res.push_back(std::stoi(s));\n    }\n\n    return res;\n}\n\nstd::string join(const std::vector<ll>& ns){\n    if(ns.empty()){return \"\";}\n\n    std::string res = std::to_string(ns[0]);\n    for(int i=1;i<ns.size();i++){\n        res += \".\" + std::to_string(ns[i]);\n    }\n    return res;\n}\n\nstd::vector<ll> ADToMaya(std::vector<ll> ns){\n    ll y = ns[0], m = ns[1], d = ns[2], day = f(y, m, d) - f(2012, 12, 21);\n    \n    day %= 1872000;\n\n    std::vector<ll> res;\n    res.push_back(day / 144000);\n    day %= 144000;\n    res.push_back(day / 7200);\n    day %= 7200;\n    res.push_back(day / 360);\n    day %= 360;\n    res.push_back(day / 20);\n    day %= 20;\n    res.push_back(day);\n\n    return res;\n}\n\nstd::vector<ll> MayaToAD(std::vector<ll> ns){\n    ll days = ns[4]+20*(ns[3]+18*(ns[2]+20*(ns[1]+20*ns[0])));\n    Data d = Data{2012, 12, 21} + days;\n\n    return {d.year, d.month, d.day};\n}\n\nint main(){\n    std::string s;\n    while(std::cin >> s, s != \"#\"){\n        auto ns = split(s);\n        if(ns.size() == 3){\n            std::cout << join(ADToMaya(ns)) << std::endl;\n        }else{\n            std::cout << join(MayaToAD(ns)) << std::endl;\n        }\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<climits>\nusing namespace std;\n\n#define loop(i, a, b) for(int i = a; i < b; i++)\n#define rep(i, a) loop(i, 0, a)\n\n\nvoid to_maya(int y, int m, int d);\nvoid to_sei(int b, int ka, int t, int w, int ki);\nint leap_count(int base, int y);\n\nint main()\n{\n  //cout << leap_count(2013, 2015);\n  // printf(\"long long max: %lld\\n\", LLONG_MAX);\n  char date[100];\n  while(cin >> date) {\n    int a = 0, b = 0, c = 0, d = 0, e = 0;\n    int cnt = sscanf(date, \"%d.%d.%d.%d.%d\", &a, &b, &c, &d, &e);\n\n    if(cnt == 3) {\n      //     cout << '3'<<endl;\n      to_maya(a, b, c);\n    }\n    else if(cnt == 5){\n      //  cout << '5' << endl;\n      to_sei(a, b, c, d, e);\n    }\n    else if(date[0] == '#') {\n      //    cout << '#';\n      break;\n    }\n    // cout << date;\n  }\n}\n\n\nint leap_count(int base,  int y)\n{\n  int cnt = 0;\n  for(int i = base; i <= y; i++) {\n    //cout << i << endl;\n    if(i % 400 == 0) cnt++;\n    else if(i % 100 != 0 && i % 4 == 0) cnt++;\n  }\n  return cnt;\n}\n\n\nvoid to_maya(int y, int m, int d)\n{\n  long long int days = 0;\n  long long int leap = leap_count(2013, y);\n  if( y != 2012 ) {\n    //    cout << leap << endl;\n    days += ( y - 2013 - leap ) * 365 + leap * 366 + 10;\n    //  cout << days << endl;\n    loop(i, 1, m){\n      if(i == 1 || i == 3 || i == 5 || i == 7 || i == 8 || i == 10 || i == 12)\n\tdays += 31;\n      if(i == 4 || i == 6 || i == 9 || i == 11)\n\tdays += 30;\n      if(i == 2) {\n\tdays += 28;\n\t//cout << leap_count(y,y) << endl;\n\tif(leap_count(y, y)) {\n\t  days++;\n\t  // cout << \"leap\" << endl;\n\t}\n      }\n    }\n    days += d;\n    if(leap_count(y,y)) days--;\n  }\n  else days += (d - 21);\n  \n  days -=  days / (13 * 20 * 18 * 20 * 20) * (13 * 20 * 18 * 20 * 20);\n  long long int b = days / (20 * 18 * 20 * 20); days -= b * 20 * 20 * 18 * 20;\n  //cout << days << endl;\n  long long int ka =  days / (20 * 18 * 20); days -= ka * 20 * 18 * 20;\n  //cout << days << endl;\n  long long int t = days / (20 * 18); days -= t * 18 * 20;\n  //cout << days << endl;\n  long long int w = days / 20; days -= w * 20;\n  //  cout << days << endl;\n  long long int ki = days; days -= ki;\n  //  cout << days << endl;\n  \n  printf(\"%lld.%lld.%lld.%lld.%lld\\n\", b, ka, t, w, ki);\n}\n\nvoid to_sei(int b, int ka, int t, int w, int ki)\n{\n  long long int days = 0;\n  int y = 2013, m = 1, d = 1, until;\n  days += b * 20 * 18 * 20 * 20 + ka * 20 * 18 * 20 + t * 20 * 18 + w * 20 + ki;\n  if(days > 10) {\n    days -= 10;\n    while(1) {\n      if(leap_count(y, y)) {\n\tif(days - 366 >= 0) days -= 366;\n\telse break;\n      }\n      else if(days - 365 >= 0) days -= 365;\n      else break;\n      y++;\n      //cout << 'y' << y << endl;\n    }\n\n    while(1) {\n      d = 1;\n      if(m == 1 || m == 3 || m == 5 || m == 7 || m == 8 || m == 10 || m == 12)\n\tuntil = 31;\n      if(m == 4 || m == 6 || m == 9 || m == 11)\n\tuntil = 30;\n      if(m == 2) {\n\tuntil = 28;\n\t// cout << y << leap_count(y, y) << endl;\n\tif(1 <= leap_count(y, y)) {\n\t  until = 29;\n\t  //  cout << \"leap\" << endl;\n\t}\n      }\n      //    cout << 'm' << m << endl;\n      loop(i, 1, until + 1) {\n\t//\tcout << 'd' << d << endl;\n\td++;\n\tdays--;\n\tif(days == 0) break;\n\t\n      }\n      if(days == 0) break;\n      if(m == 12) m = 1;\n      else m++;\n\n    }\n     d--;\n    cout << y << '.' << m << '.' << d  << endl;\n  }\n  else {\n    cout << \"2012.12.\" << days + 21 << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define LL long long int\n#define INF 734858\nusing namespace std;\nint main(void)\n{\n\tLL b,ka,t,w,ki,y,m,d,sum,cnt,mon,day,year;\n\tLL i,j,k;\n\tLL maya[5]={144000,7200,360,20,1};\n\tLL month[2][12]={\n\t\t\t\t\t{31,28,31,30,31,30,31,31,30,31,30,31},\n\t\t\t\t\t{31,29,31,30,31,30,31,31,30,31,30,31}\n\t\t\t\t\t};\n\tchar s[100];\n\twhile(1) {\n\t\tcin>>s;\n\t\tif(s[0]=='#') break;\n\t\tcnt=0;\n\t\tfor(i=0;i<strlen(s);i++) {\n\t\t\tif(s[i]=='.') cnt++;\n\t\t}\n\t\tif(cnt==2) { //?\\?????????????\n\t\t\tsum=0;\n\t\t\tstring sum2;\n\t\t\tsum2=s[0];\n\t\t\tfor(i=1;i<strlen(s);i++) {\n\t\t\t\tif(s[i]=='.') break;\n\t\t\t\telse sum2+=s[i];\n\t\t\t}\n\t\t\tint mx;\n\t\t\tmx=atoi(sum2.c_str());\n\t\t\t//sum=?\\????????¨? \n\t\t\tfor(i=1;i<mx;i++) {\n\t\t\t\tif(i%4==0&&i%100!=0||i%400==0) sum+=366;\n\t\t\t\telse sum+=365;\n\t\t\t}\n\t\t\t//?????°????¨????\n\t\t\tint f=0;\n\t\t\tfor(i=0;i<strlen(s);i++) {\n\t\t\t\tif(s[i]=='.'&&s[i+2]=='.') {\n\t\t\t\t\tsum2=s[i+1];\n\t\t\t\t\tif(f==0) mon=atoi(sum2.c_str());\n\t\t\t\t\telse day=atoi(sum2.c_str());\n\t\t\t\t\tf=1;\n\t\t\t\t}\n\t\t\t\telse if(s[i]=='.'&&s[i+2]!='.') {\n\t\t\t\t\tsum2=s[i+1];\n\t\t\t\t\tsum2+=s[i+2];\n\t\t\t\t\tif(f==0) mon=atoi(sum2.c_str());\n\t\t\t\t\telse day=atoi(sum2.c_str());\n\t\t\t\t\tf=1;\n\t\t\t\t}\n\t\t\t}\n\t\t\t//cout<<mon<<\" \"<<day<<endl;\n\t\t\t//?????°???sum????¶?????????????????????´??¨????????§????????¨?????????????????????\n\t\t\tint test=0;\n\t\t\tfor(i=0;i<mon-1;i++) {\n\t\t\t\tif(mx%4==0&&mx%100!=0||mx%400==0) sum+=month[1][i];\n\t\t\t\telse sum+=month[0][i];\n\t\t\t}\n\t\t\t//??\\????????????????????§???????????§??????????????§?????\\??§?¨????\n\t\t\tsum+=day,sum-=INF;\n\t\t\tb=sum/maya[0],sum=sum%maya[0],b=b%13;\n\t\t\tka=sum/maya[1],sum=sum%maya[1],ka=ka%20;\n\t\t\tt=sum/maya[2],sum=sum%maya[2],t=t%20;\n\t\t\tw=sum/maya[3],ki=sum%maya[3],w=w%18,ki%20;\n\t\t\t//cout<<b%13<<\".\"<<ka%20<<\".\"<<t%20<<\".\"<<w%18<<\".\"<<ki%20<<endl;\n\t\t\tcout<<b<<\".\"<<ka<<\".\"<<t<<\".\"<<w<<\".\"<<ki<<endl;\n\t\t}\n\t\telse { //??????????\\????\n\t\t\tsum=0;\n\t\t\tLL swi=1,x;\n\t\t\tstring sum3;\n\t\t\t//????????????????????§???\n\t\t\tif(s[1]=='.') sum3=s[0],sum+=atoi(sum3.c_str())*maya[0];\n\t\t\telse if(s[1]!='.') sum3=s[0],sum3+=s[1],sum+=atoi(sum3.c_str())*maya[0];\n\t\t\tfor(i=0;i<strlen(s);i++) {\n\t\t\t\tif(s[i]=='.'&&s[i+2]=='.') {\n\t\t\t\t\tsum3=s[i+1];\n\t\t\t\t\tsum+=atoi(sum3.c_str())*maya[swi];\n\t\t\t\t\tswi++;\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\telse if(s[i]=='.'&&s[i+2]!='.') {\n\t\t\t\t\tsum3=s[i+1],sum3+=s[i+2];\n\t\t\t\t\tsum+=atoi(sum3.c_str())*maya[swi];\t\n\t\t\t\t\tswi++;\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t//\tcout<<sum<<endl;\n\t\t\tint zan=10;//zan???21????£????10???????´????????????????sum?????????10???????????????\n\t\t\tif(sum<11) {\n\t\t\t\tcout<<\"2012.12.\"<<sum+21<<endl;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tsum-=10;\n\t\t\t\tLL suu=2013;\n\t\t\t\twhile(1) {\n\t\t\t\t\tif(suu%4==0&&suu%100!=0||suu%400==0) {\n\t\t\t\t\t\tif(sum>366) {\n\t\t\t\t\t\t\tsum-=366;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if(sum==366) {\n\t\t\t\t\t\t\tsum-=366;\n\t\t\t\t\t\t\tmon=12,day=31;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tmon=1;\n\t\t\t\t\t\t\tfor(i=0;i<12;i++) {\n\t\t\t\t\t\t\t\tif(sum>=month[1][i]) {\n\t\t\t\t\t\t\t\t\tif(sum-month[1][i]==0) break;\n\t\t\t\t\t\t\t\t\tsum-=month[1][i];\n\t\t\t\t\t\t\t\t\tmon++;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tday=sum;\n\t\t\t\t\t\t\tsum=0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif(sum>365) {\n\t\t\t\t\t\t\tsum-=365;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if(sum==365) {\n\t\t\t\t\t\t\tsum-=365;\n\t\t\t\t\t\t\tmon=12,day=31;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tmon=1;\n\t\t\t\t\t\t\t//cout<<\"sum==\"<<sum<<endl;\n\t\t\t\t\t\t\tfor(i=0;i<12;i++) {\n\t\t\t\t\t\t\t\tif(sum>=month[0][i]) {\n\t\t\t\t\t\t\t\t\tif(sum-month[0][i]==0) break;\n\t\t\t\t\t\t\t\t\tsum-=month[0][i];\n\t\t\t\t\t\t\t\t\tmon++;\n\t\t\t\t\t\t\t\t\t//cout<<\"sum==\"<<sum<<endl;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tday=sum;\n\t\t\t\t\t\t\tsum=0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(sum==0) break;\n\t\t\t\t\tsuu++;\n\t\t\t\t}\n\t\t\t\tcout<<suu<<\".\"<<mon<<\".\"<<day<<endl;\n\t\t\t}\n\t\t}\n\t}\n}\n\t"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nstd::vector<std::string> split(const std::string &str, char sep){\n    std::vector<std::string> v;\n    std::stringstream ss(str);\n    std::string buffer;\n    while( std::getline(ss, buffer, sep) ) {\n        v.push_back(buffer);\n    }\n    return v;\n}\n\ninline bool reap(int y){\n    if(y%4==0 && y%100 != 0 ){\n        return true;\n    }\n    else if(y%400 == 0){\n        return true;\n    }\n    return false;\n}\n\nint main() {\n\n\n    string s;\n\n    while(1){\n\n        cin >> s;\n\n        if(s[0] == '#') break;\n\n        vector<string> vs = split(s,'.');\n\n        if(vs.size() == 3){\n            long long int b,ka,t,w,ki;\n            b = ka = t = w = ki = 0;\n\n            int y,m,d;\n\n            stringstream ss;\n\n            ss << vs[0]; ss >> y; ss.clear();\n            ss << vs[1]; ss >> m; ss.clear();\n            ss << vs[2]; ss >> d; ss.clear();\n\n            if(y==2012){\n                 ki = d - 21;\n            }\n\n            else {\n\n                /*while (y != 2012) {\n\n                    do {\n\n                        while (d != 0) {\n                            d--;\n                            ki++;\n                        }\n\n                        m--;\n\n                        if (m == 1 || m == 3 || m == 5 || m == 7 || m == 8 || m == 10 || m == 0) {\n                            d = 31;\n                        } else if (m == 4 || m == 6 || m == 9 || m == 11) {\n                            d = 30;\n                        } else if (m == 2 && reap(y)) {\n                            d = 29;\n                        } else {\n                            d = 28;\n                        }\n\n                    } while (m != 0);\n\n                    if (ki >= 20) {\n                        w += ki / 20;\n                        ki %= 20;\n                    }\n                    if (w >= 18) {\n                        t += w / 18;\n                        w %= 18;\n                    }\n                    if (t >= 20) {\n                        ka += t / 20;\n                        t %= 20;\n                    }\n                    if (ka >= 20) {\n                        b += ka / 20;\n                        ka %= 20;\n                    }\n                    if (b >= 13) {\n                        b %= 13;\n                    }\n\n                    m = 12;\n\n                    y--;\n\n                }*/\n\n                /*if(d>21){\n                    ki += d-21;\n                    d = 21;\n                }\n                else{\n                    m--;\n                    if(m==0){\n                        ki += d+31-21;\n                        m = 12;\n                        y--;\n                    }\n                    else if(m == 3 || m == 5 || m == 7 || m == 8 || m == 10 || m == 1){\n                        ki += d+31-21;\n                    }\n                    else if(m == 4 || m == 6 || m == 9 || m == 11){\n                        ki += d+30-21;\n                    }\n                    else if(m == 2 && reap(y)){\n                        ki += d+29-21;\n                    }\n                    else{\n                        ki += d+28-21;\n                    }\n                    ki++;\n                    d = 21;\n                }\n\n                while(y!=2012){\n\n                    while(m!=0){\n                        if(m == 1 || m == 3 || m == 5 || m == 7 || m == 8 || m == 10 || m == 12){\n                            ki += 31;\n                        }\n                        else if(m == 4 || m == 6 || m == 9 || m == 11){\n                            ki += 30;\n                        }\n                        else if(m == 2 && reap(y)){\n                            ki += 29;\n                        }\n                        else{\n                            ki += 28;\n                        }\n                        m--;\n                    }\n\n\n                    if(ki>=20){\n                        w += ki/20;\n                        ki %= 20;\n                    }\n                    if(w>=18){\n                        t += w/18;\n                        w %= 18;\n                    }\n                    if(t>=20){\n                        ka += t/20;\n                        t %= 20;\n                    }\n                    if(ka>=20){\n                        b += ka/20;\n                        ka %= 20;\n                    }\n                    if(b>=13){\n                        b %= 13;\n                    }\n\n                    m = 12;\n\n                    y--;\n\n                }*/\n\n                long long int allday = 0;\n\n                while(y != 2013) {\n                    if (reap(y)) {\n                        allday += 366;\n                    }\n                    else {\n                        allday += 365;\n                    }\n                    allday %= 1872000;\n                    y--;\n                }\n\n                do {\n\n                    while (d != 0) {\n                        d--;\n                        allday++;\n                    }\n\n                    m--;\n\n                    if (m == 1 || m == 3 || m == 5 || m == 7 || m == 8 || m == 10 || m == 0) {\n                        d = 31;\n                    } else if (m == 4 || m == 6 || m == 9 || m == 11) {\n                        d = 30;\n                    } else if (m == 2 && reap(y)) {\n                        d = 29;\n                    } else {\n                        d = 28;\n                    }\n\n                } while (m != 0);\n\n                allday += 31 - 21;\n\n                b = allday / (20*18*20*20);\n                allday %= 20*18*20*20;\n                ka = allday / (20*18*20);\n                allday %= 20*18*20;\n                t = allday / (20*18);\n                allday %= 20*18;\n                w = allday / 20;\n                allday %= 20;\n                ki = allday;\n\n                b %= 13;\n\n                /*if (ki >= 20) {\n                    w += ki / 20;\n                    ki %= 20;\n                }\n                if (w >= 18) {\n                    t += w / 18;\n                    w %= 18;\n                }\n                if (t >= 20) {\n                    ka += t / 20;\n                    t %= 20;\n                }\n                if (ka >= 20) {\n                    b += ka / 20;\n                    ka %= 20;\n                }\n                if (b >= 13) {\n                    b %= 13;\n                }*/\n\n\n                /*if(ki>=20){\n                    w += ki/20;\n                    ki %= 20;\n                }\n                if(w>=18){\n                    t += w/18;\n                    w %= 18;\n                }\n                if(t>=20){\n                    ka += t/20;\n                    t %= 20;\n                }\n                if(ka>=20){\n                    b += ka/20;\n                    ka %= 20;\n                }\n                if(b>=13){\n                    b %= 13;\n                }\n\n                //ki += 31 - 21;\n\n                if (ki >= 20) {\n                    w += ki / 20;\n                    ki %= 20;\n                }\n                if (w >= 18) {\n                    t += w / 18;\n                    w %= 18;\n                }\n                if (t >= 20) {\n                    ka += t / 20;\n                    t %= 20;\n                }\n                if (ka >= 20) {\n                    b += ka / 20;\n                    ka %= 20;\n                }\n                if (b >= 13) {\n                    b %= 13;\n                }*/\n\n                /*if(ki<0){\n                    if(w==0){\n                        if(t==0){\n                            if(ka==0){\n                                b--;\n                                ka = 19;\n                                t = 19;\n                                w = 17;\n                                ki += 19;\n                            }\n                            else{\n                                ka--;\n                                t = 19;\n                                w = 17;\n                                ki += 19;\n                            }\n                        }\n                        else{\n                            t--;\n                            w = 17;\n                            ki += 19;\n                        }\n                    }\n                    else{\n                        w--;\n                        ki += 19;\n                    }\n                }*/\n\n            }\n\n            printf(\"%lld.%lld.%lld.%lld.%lld\\n\",b,ka,t,w,ki);\n\n\n        }\n        else{\n\n            long long int day = 0;\n\n            long long int b,ka,t,w,ki;\n            b = ka = t = w = ki = 0;\n\n            long long int y,m,d;\n\n            stringstream ss;\n\n            ss << vs[0]; ss >> b; ss.clear();\n            ss << vs[1]; ss >> ka; ss.clear();\n            ss << vs[2]; ss >> t; ss.clear();\n            ss << vs[3]; ss >> w; ss.clear();\n            ss << vs[4]; ss >> ki; ss.clear();\n\n            day = ki + w*20 + t*20*18 + ka*20*18*20 + b*20*18*20*20;\n\n            y = 2012; m = 12; d = 21;\n/*\n            if(day > 10){\n                y++; m = 1; d = 1; day -= 11;\n            }\n            else{\n                d += day;\n                day = 0;\n            }\n\n            while(day!=0){\n\n                if(m == 1 || m == 3 || m == 5 || m == 7 || m == 8 || m == 10){\n                    if(day >= 31){\n                        m++;\n                        day -= 31;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }\n                }\n                else if(m == 4 || m == 6 || m == 9 || m == 11){\n                    if(day >= 30){\n                        m++;\n                        day -= 30;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }\n                }\n                else if(m == 2 && reap(y)){\n                    if(day >= 29){\n                        m++;\n                        day -= 29;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }\n                }\n                else if(m == 2){\n                    if(day >= 28){\n                        m++;\n                        day -= 28;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }\n                }\n                else if(m == 12) {\n                    if(day >= 31){\n                        m = 1;\n                        y++;\n                        day -= 31;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }\n                }\n\n            }\n*/\n\n            while(day!=0){\n\n                if(m == 1 || m == 3 || m == 5 || m == 7 || m == 8 || m == 10){\n                    while(day != 0 && d != 32){\n                        day--;\n                        d++;\n                    }\n                    if(d==32){\n                        m++;\n                        d = 1;\n                    }\n                    /*if(day >= 31){\n                        m++;\n                        day -= 31;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }*/\n                }\n                else if(m == 4 || m == 6 || m == 9 || m == 11){\n                    while(day != 0 && d != 31){\n                        day--;\n                        d++;\n                    }\n                    if(d==31){\n                        m++;\n                        d = 1;\n                    }\n                    /*if(day >= 30){\n                        m++;\n                        day -= 30;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }*/\n                }\n                else if(m == 2 && reap(y)){\n                    while(day != 0 && d != 30){\n                        day--;\n                        d++;\n                    }\n                    if(d==30){\n                        m++;\n                        d = 1;\n                    }\n                    /*if(day >= 29){\n                        m++;\n                        day -= 29;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }*/\n                }\n                else if(m == 2){\n                    while(day != 0 && d != 29){\n                        day--;\n                        d++;\n                    }\n                    if(d==29){\n                        m++;\n                        d = 1;\n                    }\n                    /*if(day >= 28){\n                        m++;\n                        day -= 28;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }*/\n                }\n                else if(m == 12) {\n                    while(day != 0 && d != 32){\n                        day--;\n                        d++;\n                    }\n                    if(d==32){\n                        m = 1;\n                        d = 1;\n                        y++;\n                    }\n                    /*if(day >= 31){\n                        m = 1;\n                        y++;\n                        day -= 31;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }*/\n                }\n\n            }\n\n            printf(\"%lld.%lld.%lld\\n\",y,m,d);\n\n\n        }\n\n    }\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<ll> vl;\ntypedef complex<double> P;\ntypedef pair<int,int> pii;\n#define REP(i,n) for(ll i=0;i<n;++i)\n#define REPR(i,n) for(ll i=1;i<n;++i)\n#define FOR(i,a,b) for(ll i=a;i<b;++i)\n\n#define DEBUG(x) cout<<#x<<\": \"<<x<<endl\n#define DEBUG_VEC(v) cout<<#v<<\":\";REP(i,v.size())cout<<\" \"<<v[i];cout<<endl\n#define ALL(a) (a).begin(),(a).end()\n\n#define MOD (ll)(1e9+7)\n#define ADD(a,b) a=((a)+(b))%MOD\n#define FIX(a) ((a)%MOD+MOD)%MOD\n\nll calc1(ll y,ll m,ll d){\n  ll ret = 0;\n  ret += (y-1)*365;\n  ret += (y+3)/4;\n  ret -= (y+3)/100;\n  ret += (y+3)/400;\n  if((y%4==0&&y%100!=0) || (y%400==0)){\n    // is uruu\n    ll daylist[12] = {31,29,31,30,31,30,31,31,30,31,30,31};\n    REP(i,m-1) ret += daylist[i];\n    ret += d;\n  }else{\n    // isnt uruu\n    ll daylist[12] = {31,28,31,30,31,30,31,31,30,31,30,31};\n    REP(i,m-1) ret += daylist[i];\n    ret += d;\n  }\n  return ret;\n}\n\nstring tostr(ll a){\n  if(a==0)return \"0\";\n  string ret = \"\";\n  while(a){\n    ret = (char)(a%10+'0') + ret;\n    a /= 10;\n  }\n  return ret;\n}\n\nvoid printmaya(ll day){\n  day %= 1872000;\n  string ret = \"\";\n  ret = tostr(day%20) + ret;\n  day /= 20;\n  ret = tostr(day%18) + \".\" + ret;\n  day /= 18;\n  ret = tostr(day%20) + \".\" + ret;\n  day /= 20;\n  ret = tostr(day%20) + \".\" + ret;\n  day /= 20;\n  ret = tostr(day) + \".\" + ret;\n  cout << ret << endl;\n  return;\n}\n\nvoid printdays(ll days){\n  ll year;\n  year = days/366;\n  while(calc1(year,1,0) < days)++year;\n  --year;\n  days -= calc1(year,1,0);\n  ll month = 0, day = 0;\n  if((year%4==0&&year%100!=0) || (year%400==0)){\n    // is uruu\n    ll daylist[12] = {31,29,31,30,31,30,31,31,30,31,30,31};\n    REP(i,12){\n      if(days <= daylist[i]){\n        month = i+1;\n        day = days;\n        break;\n      }\n      days -= daylist[i];\n    }\n  }else{\n    // isnt uruu\n    ll daylist[12] = {31,28,31,30,31,30,31,31,30,31,30,31};\n    REP(i,12){\n      if(days <= daylist[i]){\n        month = i+1;\n        day = days;\n        break;\n      }\n      days -= daylist[i];\n    }\n  }\n  printf(\"%lld.%lld.%lld\\n\",year,month,day);\n}\n\nint main(){\n  while(true){\n    string s;\n    cin>>s;\n    if(s==\"#\")break;\n    if(count(ALL(s),'.') == 4){\n      // DEBUG(\"?????????\");\n      ll a=0,b=0,c=0,d=0,e=0;\n      // input\n      {\n        int it = 0;\n        while(s[it]!='.'){\n          a *= 10;\n          a += (s[it]-'0');\n          ++it;\n        }\n        ++it;\n        while(s[it]!='.'){\n          b *= 10;\n          b += (s[it]-'0');\n          ++it;\n        }\n        ++it;\n        while(s[it]!='.'){\n          c *= 10;\n          c += (s[it]-'0');\n          ++it;\n        }\n        ++it;\n        while(s[it]!='.'){\n          d *= 10;\n          d += (s[it]-'0');\n          ++it;\n        }\n        ++it;\n        while(it<s.size()){\n          e *= 10;\n          e += (s[it]-'0');\n          ++it;\n        }\n      }\n      ll dest = calc1(2012,12,21);\n      ll add = (((a*20+b)*20+c)*18+d)*20+e;\n      printdays(dest+add);\n    }else{\n      // DEBUG(\"??±????????????\");\n      // year month day\n      ll year = 0, month = 0, day = 0;\n      // input\n      {\n        int it = 0;\n        while(s[it]!='.'){\n          year *= 10;\n          year += (s[it]-'0');\n          ++it;\n        }\n        ++it;\n        while(s[it]!='.'){\n          month *= 10;\n          month += (s[it]-'0');\n          ++it;\n        }\n        ++it;\n        while(it<s.size()){\n          day *= 10;\n          day += (s[it]-'0');\n          ++it;\n        }\n      }\n      ll dest = calc1(2012,12,21);\n      ll birt = calc1(year,month,day);\n      printmaya(birt - dest);\n    }\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main()\n{\n\twhile(true){\n\t\tint ma,n,d[255];\n\t\tscanf(\"%d\",&ma);\n\t\tif(ma==0)break;\n\t\tscanf(\"%d\",&n);\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tscanf(\"%d\",&d[i]);\n\t\t}\n\t\tbool F=true;\n\t\tfor(int i=0;i<=n-ma;i++){\n\t\t\tbool f1=false;\n\t\t\tfor(int j=1;j<=ma;j++){\n\t\t\t\tif(i+j+d[i+j]>i)f1=true;\n\t\t\t}\n\t\t\tif(!f1)F=false;\n\t\t}\n\t\tif(F)printf(\"OK\\n\");\n\t\telse printf(\"NG\\n\");\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 0x3f3f3f3f\n\n#include <iostream>\n#include <cstdio>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n  \nusing namespace std;\n  \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P> PP;\n  \nstatic const double EPS = 1e-8;\n  \nstatic const int tx[] = {0,1,0,-1};\nstatic const int ty[] = {-1,0,1,0};\n\nvector<string> split(string delim,string str){\n  vector<string> res;\n  str += delim;\n  for(int i=0;i<str.size();i++){\n    for(int j=1;i+j<=str.size();j++){\n      if(str.substr(i,j).find(delim) != string::npos){\n        if(str.substr(i,j-1).size() >0 ) res.push_back(str.substr(i,j-1));\n        i+=j-1;\n        break;\n      }\n    }\n  }\n  return res;\n}\n\nstatic const int days_per_month[] = {0,31,28,31,30,31,30,31,31,30,31,30,31};\n\nbool is_leap_year(int year){\n  if(year % 4 == 0){\n    if(year % 100 != 0) return true;\n    if(year % 400 == 0) return true;\n  }\n  return false;\n}\n\nstring maya2christ(ll passed_day){\n  passed_day += 355LL;\n  int year = 2012;\n  for(int prev = 2012; prev < 10000000; prev++){\n    if(is_leap_year(prev) && passed_day - 366LL > 0){\n      passed_day -= 366LL;\n    }\n    else if(!is_leap_year(prev) && passed_day - 365LL > 0){\n      passed_day -= 365LL;\n    }\n    else{\n      break;\n    }\n    year = prev + 1;\n  }\n\n  int month = 1;\n  for(int prev = 1; prev < 12; prev++){\n    if(is_leap_year(year) && prev == 2\n       && passed_day - (days_per_month[prev] + 1) > 0){\n      passed_day -= (days_per_month[prev] + 1);\n    }\n    else if(passed_day - days_per_month[prev] > 0){\n      passed_day -= days_per_month[prev];\n    }\n    else{\n      break;\n    }\n    month = prev + 1;\n  }\n  int day = passed_day + 1;\n  stringstream ss;\n  ss << year << \".\" << month << \".\" << day;\n  return ss.str();\n}\n\nstring christ2maya(ll passed_day){\n  passed_day %= 13*20*20*18*20;\n  ll b = passed_day / (20*20*18*20);\n  passed_day %= (20*20*18*20);\n\n  ll ka = passed_day / (20*18*20);\n  passed_day %= (20*18*20);\n\n  ll t = passed_day / (18*20);\n  passed_day %= (18*20);\n\n  ll w = passed_day / 20;\n  passed_day %= 20;\n  \n  ll ki = passed_day;\n  stringstream ss;\n  ss << b << \".\" << ka << \".\" << t << \".\" << w << \".\" << ki;\n  return ss.str();\n}\n\nint main(){\n  string str;\n  while(cin >> str){\n    if(str == \"#\") break;\n    int total_dots = count(str.begin(),str.end(),'.');\n    if(total_dots == 2){\n      //after christ\n      vector<string> elements = split(\".\",str);\n      ll year = atol(elements[0].c_str());\n      ll month = atol(elements[1].c_str());\n      ll day = atol(elements[2].c_str());\n\n      ll passed_day = 0;\n      for(ll prev = 2012; prev < year; prev++){\n        passed_day += (is_leap_year(prev) ? 366LL : 365LL);\n      }\n\n      for(ll prev = 1; prev < month; prev++){\n        if(is_leap_year(year) && prev == 2){\n          passed_day++;\n        }\n        passed_day += days_per_month[prev];\n      }\n      for(ll prev = 1; prev < day; prev++){\n        passed_day++;\n      }\n      passed_day -= 355LL; //2012.01.01 - 2012.12.20\n      cout << christ2maya(passed_day) << endl;\n    }\n    else{\n      //maya\n      vector<string> elements = split(\".\",str);\n      ll b = atol(elements[0].c_str());\n      ll ka = atol(elements[1].c_str());\n      ll t = atol(elements[2].c_str());\n      ll w = atol(elements[3].c_str());\n      ll ki = atol(elements[4].c_str());\n\n      ll passed_day = b * (20*20*18*20) + ka * (20*18*20) + t * (18*20) + w * 20 + ki;\n      cout << maya2christ(passed_day) << endl;\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\ntypedef unsigned int64;\n#define __2012_12_21__ 735224\n#define MAX_YEAR 10000000\n\nint64 days[MAX_YEAR + 1];\nint month[2][13] = {\n  { 0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334, 365},\n  { 0, 31, 60, 91, 121, 152, 182, 213, 244, 274, 305, 335, 366}\n};\n\n\nbool urudosi(int year){\n  return year % 400 == 0 || (year % 100 != 0 && year % 4 == 0);\n}\nvoid init_set() {\n  for(int i = 1; i <= MAX_YEAR; i++) {\n    days[i] = days[i - 1] + 365 + urudosi(i - 1);\n  }\n}\n\nint main(){\n  char buff[256];\n  int y, m, d; //西暦\n  int b, ka, t, w, ki; //マヤ長期歴\n\n  init_set();\n  while(strcmp(fgets( buff, sizeof(buff), stdin),\"#\\n\") != 0){\n\n    /* 入力 */\n    if(sscanf( buff, \"%d.%d.%d.%d.%d\", &b, &ka, &t, &w, &ki) == 5){\n      /*マヤ長期歴 → 西暦 */\n      int64 allday = b * 144000 + ka * 7200 + t * 360 + w * 20 + ki + __2012_12_21__;\n      y = lower_bound( days, days + MAX_YEAR, allday) - days - 1;\n      allday -= days[y];\n      bool uru = urudosi(y);\n      m = lower_bound( month[uru], month[uru] + 13, allday) - month[uru];\n      d = allday - month[uru][m - 1];\n      printf(\"%d.%d.%d\\n\", y, m, d);\n    }else{\n      sscanf( buff, \"%d.%d.%d\", &y, &m, &d);\n      int64 allday = days[y] + month[urudosi(y)][m - 1] + d - __2012_12_21__;\n      ki = allday % 20;\n      w = allday / 20 % 18;\n      t = allday / 360 % 20;\n      ka = allday / 7200 % 20;\n      b = allday / 144000 % 13;\n      printf(\"%d.%d.%d.%d.%d\\n\", b, ka, t, w, ki);\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long int64;\n#define __2012_12_21__ 735224\n#define MAX_YEAR 10000000\n\nint64 days[MAX_YEAR + 1];\nint month[2][13] = {\n  { 0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334, 365},\n  { 0, 31, 60, 91, 121, 152, 182, 213, 244, 274, 305, 335, 366}\n};\n\n\nbool urudosi(int year){\n  return year % 400 == 0 || (year % 100 != 0 && year % 4 == 0);\n}\nvoid init_set(){\n  for(int i = 1; i <= MAX_YEAR; i++){\n    days[i] = days[i - 1] + 365 + urudosi(i - 1);\n  }\n}\n\nint main(){\n  char buff[256];\n  int y, m, d; //西暦\n  int b, ka, t, w, ki; //マヤ長期歴\n\n  init_set();\n  while(strcmp(fgets( buff, sizeof(buff), stdin),\"#\\n\") != 0){\n\n    /* 入力 */\n    if(sscanf( buff, \"%d.%d.%d.%d.%d\", &b, &ka, &t, &w, &ki) == 5){\n      /*マヤ長期歴 → 西暦 */\n      int64 allday = b * 144000 + ka * 7200 + t * 360 + w * 20 + ki + __2012_12_21__;\n      y = lower_bound( days, days + MAX_YEAR, allday) - days - 1;\n      allday -= days[y];\n      bool uru = urudosi(y);\n      m = lower_bound( month[uru], month[uru] + 13, allday) - month[uru];\n      d = allday - month[uru][m - 1];\n      printf(\"%d.%d.%d\\n\", y, m, d);\n    }else{\n      sscanf( buff, \"%d.%d.%d\", &y, &m, &d);\n      int64 allday = days[y] + month[urudosi(y)][m - 1] + d - __2012_12_21__;\n      ki = allday % 20;\n      w = allday / 20 % 18;\n      t = allday / 360 % 20;\n      ka = allday / 7200 % 20;\n      b = allday / 144000 % 13;\n      printf(\"%d.%d.%d.%d.%d\\n\", b, ka, t, w, ki);\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<string.h>\n#include<math.h>\nint main(void)\n{\n\tchar z[20];\n\tint a[6],s,f[6],g,h,k,i,j,x;\n\tlong long int d;\n\tint day[12]={31,28,31,30,31,30,31,31,30,31,30,31};\n\twhile(1){\n\t\tscanf(\"%s\",z);\n\t\tif(z[0]=='#') break;\n\t\ts=0;\n\t\tk=-1;\n\t\tj=0;\n\t\tfor(i=0;i<5;i++) a[i]=0;\n\t\tfor(i=0;i<strlen(z);i++){\n\t\t\tif(z[i]=='.')\n\t\t\t\ts++;\n\t\t}\n\t\tif(s==2) k=0;\n\t\telse if(s==4) k=1;\n\t\tif(k==0){\n\t\t\tfor(i=0;i<strlen(z);i++){\n\t\t\t\tif(z[i]=='0') a[j]+=0;\n\t\t\t\telse if(z[i]=='1') a[j]+=1;\n\t\t\t\telse if(z[i]=='2') a[j]+=2;\n\t\t\t\telse if(z[i]=='3') a[j]+=3;\n\t\t\t\telse if(z[i]=='4') a[j]+=4;\n\t\t\t\telse if(z[i]=='5') a[j]+=5;\n\t\t\t\telse if(z[i]=='6') a[j]+=6;\n\t\t\t\telse if(z[i]=='7') a[j]+=7;\n\t\t\t\telse if(z[i]=='8') a[j]+=8;\n\t\t\t\telse if(z[i]=='9') a[j]+=9;\n\t\t\t\telse if(z[i]=='.') j++;\n\t\t\t\ta[j]*=10;\n\t\t\t}\n\t\t\tfor(i=0;i<3;i++) a[i]/=10;\n\t\t\tif(2012==a[0])\td=a[2]-21;\n\t\t\telse{\n\t\t\t\td=10;\n\t\t\t\tx=a[0];\n\t\t\t\tfor(i=2013;i<a[0];i++) d+=365;\n\t\t\t\tif(a[1]>2) x++;\n\t\t\t\tfor(i=2013;i<x;i++){\n\t\t\t\t\tif(i%4==0&&i%100!=0||i%400==0) d++;\n\t\t\t\t}\n\t\t\t\tfor(i=0;i<a[1]-1;i++)\n\t\t\t\t\td+=day[i];\n\t\t\t\td+=a[2];\n\t\t\t}\n\t\t\tf[0]=d%20;\n\t\t\tf[1]=d/20;\n\t\t\tf[2]=f[1]/18;\n\t\t\tf[1]=f[1]%18;\n\t\t\tf[3]=f[2]/20;\n\t\t\tf[2]=f[2]%20;\n\t\t\tf[4]=f[3]/20;\n\t\t\tf[3]=f[3]%20;\n\t\t\tf[4]=f[4]%13;\n\t\t\tfor(i=4;i>=0;i--){\n\t\t\t\tprintf(\"%d\",f[i]);\n\t\t\t\tif(i!=0) printf(\".\");\n\t\t\t}\n\t\t\tprintf(\"\\n\");\n\t\t}\n\t\telse if(k==1){\n\t\t\td=0;\n\t\t\th=0;\n\t\t\tg=0;\n\t\t\tfor(i=0;i<strlen(z);i++){\n\t\t\t\tif(z[i]=='0') a[j]+=0;\n\t\t\t\telse if(z[i]=='1') a[j]+=1;\n\t\t\t\telse if(z[i]=='2') a[j]+=2;\n\t\t\t\telse if(z[i]=='3') a[j]+=3;\n\t\t\t\telse if(z[i]=='4') a[j]+=4;\n\t\t\t\telse if(z[i]=='5') a[j]+=5;\n\t\t\t\telse if(z[i]=='6') a[j]+=6;\n\t\t\t\telse if(z[i]=='7') a[j]+=7;\n\t\t\t\telse if(z[i]=='8') a[j]+=8;\n\t\t\t\telse if(z[i]=='9') a[j]+=9;\n\t\t\t\telse if(z[i]=='.') j++;\n\t\t\t\ta[j]*=10;\n\t\t\t}\n\t\t\tfor(i=0;i<5;i++) a[i]/=10;\n\t\t\t//for(i=0;i<5;i++) printf(\"%d\\n\",a[i]);\n\t\t\td+=a[0]*20*18*20*20;\n\t\t\td+=a[1]*20*18*20;\n\t\t\td+=a[2]*20*18;\n\t\t\td+=a[3]*20;\n\t\t\td+=a[4];\n\t\t\t//printf(\"%d\\n\",d);\n\t\t\th=2012;\n\t\t\tif(d-10<=0) printf(\"2012.12.%d\",21+d);\n\t\t\td-=10;\n\t\t\tif(d>0){\n\t\t\t\twhile(1){\n\t\t\t\t\tif(d<365) break;\n\t\t\t\t\th++;\n\t\t\t\t\tif(h%4==0&&h%100!=0||h%400==0) d-=366;\n\t\t\t\t\telse d-=365;\n\t\t\t\t}\n\t\t\t\th++;\n\t\t\t\tfor(i=0;i<12;i++){\n\t\t\t\t\tif(d>day[i]){\n\t\t\t\t\t\t//printf(\"%d\\n\",d);\n\t\t\t\t\t\tg=i+1;\n\t\t\t\t\t\tif(g==2){\n\t\t\t\t\t\t\tif(h%4==0&&h%100!=0||h%400==0){\n\t\t\t\t\t\t\t\tif(d==29) break;\n\t\t\t\t\t\t\t\telse d--;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\td-=day[i];\n\t\t\t\t\t}\n\t\t\t\t\telse break;\n\t\t\t\t}\n\t\t\t\tif(g!=2) g++;\n\t\t\t\tprintf(\"%d.%d.%d\\n\",h,g,d);\n\t\t\t}\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\n\nll mod = 1872000;\nll day[12] = {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\n\nll todays(ll y, ll m, ll d) {\n    ll ret = (y - 1) * 365 + (y - 1) / 4 - (y - 1) / 100 + (y - 1) / 400 + d;\n    if ((y % 4 == 0 && y % 100 != 0) ||( y % 400 == 0)) {\n        if (m > 2) ret++;\n    }\n    for (int i = 0; i < m - 1; i++) {\n        ret += day[i];\n    }\n    return ret;\n}\n\nvoid stom(ll y, ll m, ll d) {\n    ll a[5]{};\n    a[4] = 1;\n    a[3] = 20;\n    a[2] = a[3] * 18;\n    a[1] = a[2] * 20;\n    a[0] = a[1] * 20;\n    \n    ll t = todays(y, m, d) - todays(2012, 12, 21);\n    t %= mod;\n    ll c[5]{};\n    c[0] = t / a[0];\n    c[1] = (t - c[0] * a[0]) / a[1];\n    c[2] = (t - c[0] * a[0] - c[1] * a[1]) / a[2];\n    c[3] = (t - c[0] * a[0] - c[1] * a[1] - c[2] * a[2]) / a[3];\n    c[4] = t - c[0] * a[0] - c[1] * a[1] - c[2] * a[2] - c[3] * a[3];\n    for (int i = 0; i < 5; i++) {\n        if (i == 4) {\n            cout << c[i] << \"\\n\";\n        } else {\n            cout << c[i] << \".\";\n        }\n    }\n}\n\nvoid mtos(ll b, ll ka, ll t, ll w, ll ki) {\n    ll f = b * 20 * 20 * 18 * 20;\n    f += ka * 20 * 18 * 20;\n    f += t * 20 * 18;\n    f += w * 20 + ki;\n    f += todays(2012, 12, 21);\n    \n    ll l = -1;\n    ll r = 100000000;\n    while (r - l > 1) {\n        ll m = (l + r) / 2;\n        if (todays(m, 1, 1) <= f) {\n            l = m;\n        } else {\n            r = m;\n        }\n    }\n    \n    ll y = l;\n    ll m = 1;\n\n    f -= todays(y - 1, 12, 31);\n    for (int i = 0; i < 12; i++) {\n        int g = day[i];\n        if (y % 4 == 0 && y % 100 != 0 || y % 400 == 0) {\n            if (i == 1) g = 29;\n        }\n        if (f - g <= 0) {\n            m = i + 1;\n            break;\n        } else {\n            f -= g;\n        }\n    }\n    cout << y << \".\" << m << \".\" << f << \"\\n\";\n}\n\nint main() {\n    string s;\n    cin >> s;\n    while (s != \"#\") {\n        vector<ll> v;\n        string t = \"\";\n        for (int i = 0; i < s.length(); i++) {\n            if (s[i] == '.') {\n                v.push_back(stoi(t));\n                t = \"\";\n            } else if (i == s.length() - 1) {\n                t += s[i];\n                v.push_back(stoi(t));\n            } else {\n                t += s[i];\n            }\n        }\n        if (v.size() == 3) {\n            stom(v[0], v[1], v[2]);\n        } else {\n            mtos(v[0], v[1], v[2], v[3], v[4]);\n        }\n        cin >> s;\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <string>\n#include <vector>\nusing namespace std;\n\ntypedef long long lli;\n\nvector<lli> v,v2;\n\nint main(){\n  string str;\n  lli l=0;\n  for(int i=2016;i<=10000000;i+=4){\n    l += 365 * 4;\n    if(i % 100 != 0 || i % 400 == 0){\n      l++;\n      v.push_back(i);\n      v2.push_back(l);\n    }\n  }\n\n  while(getline(cin,str) && str != \"#\"){\n    lli a[5], day = 0, year;\n    int cnt = 0;\n    fill(a,a+5,0);\n    for(int i=0;i<str.size();i++){\n      if(str[i] >= '0' && str[i] <= '9'){\n        a[cnt] *= 10;\n        a[cnt] += str[i] - '0';\n      } else cnt++;\n    }\n    cnt++;\n\n    if(cnt == 3){\n      if(a[0] == 2012){\n        cout << \"0.0.0.0.\" << a[2] - 21 << endl;\n        continue;\n      }\n      day = (a[0] - 2013) * 365;\n      if(a[0] > 2016) day += lower_bound(v.begin(),v.end(),a[0]) - v.begin();\n      for(int i=1;i<a[1];i++){\n        if(i == 1 || i == 3 || i == 5 || i == 7 || i == 8 || i == 10 || i == 12) day += 31;\n        else if(i == 2) day += (a[0] % 4 == 0 && (a[0] % 100 != 0 || a[0] % 400 == 0)) ? 29 : 28;\n        else day += 30;\n      }\n      day += a[2];\n      day += 10;\n      day %= 20*18*20*20*13;\n      cout << day / (20*18*20*20) << '.';\n      day %= 20*18*20*20;\n      cout << day / (20*18*20) << '.';\n      day %= 20*18*20;\n      cout << day / (20*18) << '.';\n      day %= 20*18;\n      cout << day / 20 << '.';\n      day %= 20;\n      cout << day << endl;\n    } else {\n      day = a[0] * 20*18*20*20;\n      day += a[1] * 20*18*20;\n      day += a[2] * 20*18;\n      day += a[3] * 20;\n      day += a[4];\n      if(day <= 10){\n        cout << \"2012.12.\" << day+21 << endl;\n        continue;\n      }\n      day -= 10;\n      if(day <= 366*12){\n\n        for(int i=2013;;i++){\n          if(i % 4 == 0 && (i % 100 != 0 || i % 400 == 0)){\n            if(day <= 366){\n              cout << i << '.';\n              year = i;\n              break;\n            }\n            day -= 366;\n          } else {\n            if(day <= 365){\n              cout << i << '.';\n              year = i;\n              break;\n            }\n            day -= 365;\n          }\n        }\n\n        for(int i=1;;i++){\n          if(i == 1 || i == 3 || i == 5 || i == 7 || i == 8 || i == 10 || i == 12){\n            if(day <= 31){\n              cout << i << '.' << day << endl;\n              break;\n            }\n            day -= 31;\n          } else if(i == 2){\n            if(day <= ((year % 4 == 0 && (year % 100 != 0 || year % 400 == 0)) ? 29 : 28)){\n              cout << i << '.' << ((year % 4 == 0 && (year % 100 != 0 || year % 400 == 0)) ? 29 : 28) << endl;\n              break;\n            }\n            day -= (year % 4 == 0 && (year % 100 != 0 || year % 400 == 0)) ? 29 : 28;\n          } else {\n            if(day <= 30){\n              cout << i << '.' << day << endl;\n              break;\n            }\n            day -= 30;\n          }\n        }\n      } else {\n        int c = lower_bound(v2.begin(),v2.end(),day) - v2.begin();\n        c--;\n        day -= v2[c];\n        for(int i=v[c]+1;;i++){\n          if(i % 4 == 0 && (i % 100 != 0 || i % 400 == 0)){\n            if(day <= 366){\n              cout << i << '.';\n              year = i;\n              break;\n            }\n            day -= 366;\n          } else {\n            if(day <= 365){\n              cout << i << '.';\n              year = i;\n              break;\n            }\n            day -= 365;\n          }\n        }\n        for(int i=1;;i++){\n          if(i == 1 || i == 3 || i == 5 || i == 7 || i == 8 || i == 10 || i == 12){\n            if(day <= 31){\n              cout << i << '.' << day << endl;\n              break;\n            }\n            day -= 31;\n          } else if(i == 2){\n            if(day <= ((year % 4 == 0 && (year % 100 != 0 || year % 400 == 0)) ? 29 : 28)){\n              cout << i << '.' << ((year % 4 == 0 && (year % 100 != 0 || year % 400 == 0)) ? 29 : 28) << endl;\n              break;\n            }\n            day -= (year % 4 == 0 && (year % 100 != 0 || year % 400 == 0)) ? 29 : 28;\n          } else {\n            if(day <= 30){\n              cout << i << '.' << day << endl;\n              break;\n            }\n            day -= 30;\n          }\n        }\n      }\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "// 2015/08/05 Tazoe\n\n#include <iostream>\n#include <string>\n#include <sstream>\nusing namespace std;\n\nbool is_leap(int y)\n{\n\treturn (y%400==0 || (y%4==0 && y%100!=0));\n}\n\nint main()\n{\n\twhile(true){\n\t\tstring S;\n\t\tcin >> S;\n\n\t\tif(S==\"#\")\n\t\t\tbreak;\n\n\t\tint cnt = 0;\n\n\t\twhile(true){\n\t\t\tint loc = S.find(\".\");\n\n\t\t\tif(loc==string::npos)\n\t\t\t\tbreak;\n\n\t\t\tS.replace(loc, 1, \" \");\n\t\t\tcnt++;\n\t\t}\n\n\t\tif(cnt==4){\n\t\t\tistringstream is(S);\n\t\t\tint b, ka, t, w, ki;\n\t\t\tis >> b >> ka >> t >> w >> ki;\n\n\t\t\tint KI = (((b*20+ka)*20+t)*18+w)*20+ki;\n\n\t\t\tint y = 2012;\n\t\t\tint m = 12;\n\t\t\tint d = 21;\n\n\t\t\tif(KI<11){\n\t\t\t\td += KI;\n\t\t\t\tKI = 0;\n\t\t\t}\n\t\t\telse{\n\t\t\t\ty = 2013;\n\t\t\t\tm = 1;\n\t\t\t\td = 1;\n\t\t\t\tKI -= 11;\n\t\t\t}\n\n\t\t\twhile(true){\n\t\t\t\tif(is_leap(y) && KI>=366){\n\t\t\t\t\ty++;\n\t\t\t\t\tKI -= 366;\n\t\t\t\t}\n\t\t\t\telse if(!is_leap(y) && KI>=365){\n\t\t\t\t\ty++;\n\t\t\t\t\tKI -= 365;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\twhile(true){\n\t\t\t\tif((m==1 || m==3 || m==5 || m==7 || m==8 || m==10) && KI>=31){\n\t\t\t\t\tm++;\n\t\t\t\t\tKI -= 31;\n\t\t\t\t}\n\t\t\t\telse if((m==4 || m==6 || m==9 || m==11) && KI>=30){\n\t\t\t\t\tm++;\n\t\t\t\t\tKI -= 30;\n\t\t\t\t}\n\t\t\t\telse if(m==2 && is_leap(y) && KI>=29){\n\t\t\t\t\tm++;\n\t\t\t\t\tKI -= 29;\n\t\t\t\t}\n\t\t\t\telse if(m==2 && !is_leap(y) && KI>=28){\n\t\t\t\t\tm++;\n\t\t\t\t\tKI -= 28;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(KI>0){\n\t\t\t\td += KI;\n\t\t\t\tKI = 0;\n\t\t\t}\n\n\t\t\tcout << y << '.' << m << '.' << d << endl;\n\t\t}\n\t\telse if(cnt==2){\n\t\t\tistringstream is(S);\n\t\t\tint y, m, d;\n\t\t\tis >> y >> m >> d;\n\n\t\t\tlong long D = 0;\n\n\t\t\tif(y==2012&&m==12){\n\t\t\t\tD = d-21;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tD = 11;\n\n\t\t\t\tfor(int i=2013; i<y; i++){\n\t\t\t\t\tif(is_leap(i)){\n\t\t\t\t\t\tD += 366;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tD += 365;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor(int i=1; i<m; i++){\n\t\t\t\t\tif(i==1 || i==3 || i==5 || i==7 || i==8 || i==10){\n\t\t\t\t\t\tD += 31;\n\t\t\t\t\t}\n\t\t\t\t\telse if(i==4 || i==6 || i==9 || i==11){\n\t\t\t\t\t\tD += 30;\n\t\t\t\t\t}\n\t\t\t\t\telse if(i==2 && is_leap(y)){\n\t\t\t\t\t\tD += 29;\n\t\t\t\t\t}\n\t\t\t\t\telse if(i==2 && !is_leap(y)){\n\t\t\t\t\t\tD += 28;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tD += (d-1);\n\t\t\t}\n\n\t\t\tint ki = D%20;\n\t\t\tD /= 20;\n\n\t\t\tint w = D%18;\n\t\t\tD /= 18;\n\n\t\t\tint t = D%20;\n\t\t\tD /= 20;\n\n\t\t\tint ka = D%20;\n\t\t\tD /= 20;\n\n\t\t\tint b = D%13;\n\n\t\t\tcout << b << '.' << ka << '.' << t << '.' << w << '.' << ki << endl;\n\t\t}\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\n\nll days(ll y,ll m,ll d){\n  if(m<3)y--,m+=12;\n  return 365*y+y/4-y/100+y/400+(153*m+8)/5+d;\n}\nvoid ymd(ll day,ll &y,ll &m,ll &d){\n  ll lo=-1,hi=1000000000,mid;\n  while(lo+1<hi){\n    mid=(lo+hi)/2;\n    if(days(mid,12,31)<day)lo=mid;\n    else hi=mid;\n  }\n  y=hi;\n  for(m=1;m<12;m++)if(days(y,m+1,1)>day)break;\n  d=day-days(y,m,0);\n}\n\nint main() {\n  string s;\n  ll y=days(2012,12,21);\n  while(cin >> s && s!=\"#\") {\n    s+='.';\n    ll n=s.size(),x=0;\n    vector<ll> a;\n    for(int i=0; i<n; i++) {\n      if(s[i]=='.') {\n        a.push_back(x);\n        x=0;\n      } else {\n        x*=10;\n        x+=s[i]-'0';\n      }\n    }\n    if(a.size()==3) {\n      x=days(a[0],a[1],a[2]);\n      x=(x+1872000-y)%1872000;\n      ll b[5],c=20*20*18*20;\n      b[0]=x/c;x%=c;c/=20;\n      b[1]=x/c;x%=c;c/=20;\n      b[2]=x/c;x%=c;c/=18;\n      b[3]=x/c;x%=c;c/=20;\n      b[4]=x;\n      for(int i=0;i<5;i++) {\n        if(i) cout << '.';\n        cout << b[i];\n      }\n      cout << endl;\n    } else {\n      x=a[0]*20*20*18*20+a[1]*20*18*20+a[2]*18*20+a[3]*20+a[4];\n      x=x+y;\n      ymd(x,a[0],a[1],a[2]);\n      cout << a[0] << \".\" << a[1] << \".\" << a[2] << endl;\n    }\n  }\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nstruct S{ll y,m,d;};\nstruct Ma{ll b,ka,t,w,ki;};\n\n//12,1,2,3...11\nint M[]={31,28,31,30,31,30,31,31,30,31,30,31};\n\nbool check(ll y){return (y%4==0&&(y%100!=0||y%400==0));}\nbool check2(S a){return check(a.y)&&a.m==2;}\n\nS M2S(ll b,ll ka,ll t,ll w,ll ki){\n  ka+=b*20;\n  t+=ka*20;\n  w+=t*18;\n  ki+=w*20;\n  S res;\n  res.y=2012,res.m=12,res.d=21+ki;\n  \n  while(res.d/(365+check(res.y+1)))res.y++,res.d-=(365+check(res.y));\n  if(res.d==0) res.m--,res.d=M[res.m-1];\n  if(res.d<=31) return res;\n\n  res.y++,res.m=1,res.d-=31;\n  while(res.d/(M[res.m-1]+check2(res))){\n    res.d-=(M[res.m-1]+check2(res));\n    res.m++;\n  }\n  if(res.d==0) res.m--,res.d=M[res.m-1]+check2(res);\n  return res;\n}\n\nMa S2M(ll y,ll m,ll d){\n  y-=2012;\n  if(y) d+=10; \n  else d=(d-21);\n  \n  for(int i=0;i<m-1&&y;i++) d+=(M[i]+(i==1&&check(y+2012)));\n  y--;\n  while(y>0)d+=(365+check(y+2012)),y--;\n\n  Ma res;\n  d%=13*20*20*18*20;\n  res.ki=d;\n  res.w =res.ki/20; res.ki%=20;\n  res.t =res.w/18;  res.w %=18;\n  res.ka=res.t/20;  res.t %=20;\n  res.b =res.ka/20; res.ka%=20;\n  return res;\n}\n\nint main(){\n  while(1){\n    string str;\n    cin>>str;\n    if(str==\"#\")break;\n    vector <int> a;\n    int i=0,num=0;\n    while(str[i]){\n      if(str[i]=='.')a.push_back(num),num=0;\n      else num=num*10+str[i]-'0';\n      i++;\n    }\n    a.push_back(num);\n    \n    if(a.size()==5){\n      S ans=M2S(a[0],a[1],a[2],a[3],a[4]);\n      cout << ans.y<<\".\"<<ans.m<<\".\"<<ans.d<<endl;\n    }\n    else {\n      Ma ans=S2M(a[0],a[1],a[2]);\n      cout<<ans.b<<\".\"<<ans.ka<<\".\"<<ans.t<<\".\"<<ans.w<<\".\"<<ans.ki<<endl;\n    }\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<tuple>\n#include<string>\n#include<vector>\nusing namespace std;\nlong long p1[13][33], p2[13][33], V[401];\ntuple<int, int, int>x[13][20][20][18][20];\ntuple<int, int, int, int, int>xx[1872002];\nvoid init() {\n\tfor (int i = 0; i < 429; i++) { p1[i / 33][i % 33] = -1; p2[i / 33][i % 33] = -1; }\n\tlong long CNTS = 0;\n\tfor (int i = 1; i <= 12; i++) {\n\t\tlong long V = 31; if ((i <= 6 && i % 2 == 0) || (i >= 9 && i % 2 == 1))V = 30;\n\t\tif (i == 2)V = 28;\n\t\tfor (int j = 1; j <= V; j++) { p1[i][j] = CNTS; CNTS++; }\n\t}\n\tCNTS = 0;\n\tfor (int i = 1; i <= 12; i++) {\n\t\tlong long V = 31; if ((i <= 6 && i % 2 == 0) || (i >= 9 && i % 2 == 1))V = 30;\n\t\tif (i == 2)V = 29;\n\t\tfor (int j = 1; j <= V; j++) { p2[i][j] = CNTS; CNTS++; }\n\t}\n\tfor (int i = 1; i <= 400; i++) {\n\t\tlong long II = i - 1;\n\t\tif (II % 4 == 0 && (II % 100 >= 1 || II % 400 == 0))V[i] = V[i - 1] + 366;\n\t\telse { V[i] = V[i - 1] + 365; }\n\t}\n\tCNTS = 0; long long yy = 2012, mm = 12, dd = 21;\n\tfor (int i = 0; i < 13; i++) {\n\t\tfor (int j = 0; j < 20; j++) {\n\t\t\tfor (int k = 0; k < 20; k++) {\n\t\t\t\tfor (int l = 0; l < 18; l++) {\n\t\t\t\t\tfor (int m = 0; m < 20; m++) {\n\t\t\t\t\t\tx[i][j][k][l][m] = make_tuple(yy, mm, dd);\n\t\t\t\t\t\txx[CNTS] = make_tuple(i, j, k, l, m);\n\t\t\t\t\t\tCNTS++; dd++;\n\t\t\t\t\t\tif (yy % 4 == 0 && (yy % 100 >= 1 || yy % 400 == 0)) {\n\t\t\t\t\t\t\tif (p2[mm][dd] == -1) { mm++; dd = 1; }\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse { if (p1[mm][dd] == -1) { mm++; dd = 1; } }\n\t\t\t\t\t\tif (mm == 13) { mm = 1; yy++; }\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\nlong long DayCount(long long y, long long m, long long d) {\n\tlong long DD = 0; if (y % 4 == 0) { DD = p2[m][d]; }\n\telse { DD = p1[m][d]; }\n\treturn (V[400] * (y / 400) + V[y % 400]) + DD;\n}\ntuple<int, int, int> MayaWest(long long I, long long J, long long K, long long L, long long M) {\n\treturn x[I][J][K][L][M];\n}\ntuple<int, int, int, int, int>WestMaya(long long I, long long J, long long K) {\n\tlong long X = (DayCount(I, J, K) + 1872000LL - DayCount(2012, 12, 21)) % 1872000LL;\n\treturn xx[X];\n}\nint main() {\n\tinit();\n\twhile (true) {\n\t\tstring S; cin >> S; if (S == \"#\")break; S += '.';\n\t\tvector<long long>Vec; string T = \"\";\n\t\tfor (int i = 0; i < S.size(); i++) {\n\t\t\tif (S[i] == '.') { Vec.push_back(stoi(T)); T = \"\"; }\n\t\t\telse { T += S[i]; }\n\t\t}\n\t\tif (Vec.size() == 3) {\n\t\t\ttuple<long long, long long, long long, long long, long long>ans = WestMaya(Vec[0], Vec[1], Vec[2]);\n\t\t\tcout << get<0>(ans) << '.' << get<1>(ans) << '.' << get<2>(ans) << '.' << get<3>(ans) << '.' << get<4>(ans) << endl;\n\t\t}\n\t\tif (Vec.size() == 5) {\n\t\t\ttuple<long long, long long, long long>ans = MayaWest(Vec[0], Vec[1], Vec[2], Vec[3], Vec[4]);\n\t\t\tcout << get<0>(ans) << '.' << get<1>(ans) << '.' << get<2>(ans) << endl;\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<string.h>\n#include<math.h>\nint main(void)\n{\n\tchar z[20];\n\tint a[6],s,f[6],g,h,k,i,j,x,v;\n\tlong long int d;\n\tint day[12]={31,28,31,30,31,30,31,31,30,31,30,31};\n\twhile(1){\n\t\tscanf(\"%s\",z);\n\t\tif(z[0]=='#') break;\n\t\ts=0;\n\t\tk=-1;\n\t\tj=0;\n\t\tfor(i=0;i<5;i++) a[i]=0;\n\t\tfor(i=0;i<strlen(z);i++){\n\t\t\tif(z[i]=='.')\n\t\t\t\ts++;\n\t\t}\n\t\tif(s==2) k=0;\n\t\telse if(s==4) k=1;\n\t\tif(k==0){\n\t\t\tfor(i=0;i<strlen(z);i++){\n\t\t\t\tif(z[i]=='0') a[j]+=0;\n\t\t\t\telse if(z[i]=='1') a[j]+=1;\n\t\t\t\telse if(z[i]=='2') a[j]+=2;\n\t\t\t\telse if(z[i]=='3') a[j]+=3;\n\t\t\t\telse if(z[i]=='4') a[j]+=4;\n\t\t\t\telse if(z[i]=='5') a[j]+=5;\n\t\t\t\telse if(z[i]=='6') a[j]+=6;\n\t\t\t\telse if(z[i]=='7') a[j]+=7;\n\t\t\t\telse if(z[i]=='8') a[j]+=8;\n\t\t\t\telse if(z[i]=='9') a[j]+=9;\n\t\t\t\telse if(z[i]=='.') j++;\n\t\t\t\ta[j]*=10;\n\t\t\t}\n\t\t\tfor(i=0;i<3;i++) a[i]/=10;\n\t\t\tif(2012==a[0])\td=a[2]-21;\n\t\t\telse{\n\t\t\t\td=10;\n\t\t\t\tx=a[0];\n\t\t\t\tfor(i=2013;i<a[0];i++) d+=365;\n\t\t\t\tif(a[1]>2) x++;\n\t\t\t\tfor(i=2013;i<x;i++){\n\t\t\t\t\tif(i%4==0&&i%100!=0||i%400==0) d++;\n\t\t\t\t}\n\t\t\t\tfor(i=0;i<a[1]-1;i++)\n\t\t\t\t\td+=day[i];\n\t\t\t\td+=a[2];\n\t\t\t}\n\t\t\tf[0]=d%20;\n\t\t\tf[1]=d/20;\n\t\t\tf[2]=f[1]/18;\n\t\t\tf[1]=f[1]%18;\n\t\t\tf[3]=f[2]/20;\n\t\t\tf[2]=f[2]%20;\n\t\t\tf[4]=f[3]/20;\n\t\t\tf[3]=f[3]%20;\n\t\t\tf[4]=f[4]%13;\n\t\t\tfor(i=4;i>=0;i--){\n\t\t\t\tprintf(\"%d\",f[i]);\n\t\t\t\tif(i!=0) printf(\".\");\n\t\t\t}\n\t\t\tprintf(\"\\n\");\n\t\t}\n\t\telse if(k==1){\n\t\t\td=0;\n\t\t\th=0;\n\t\t\tg=0;\n\t\t\tfor(i=0;i<strlen(z);i++){\n\t\t\t\tif(z[i]=='0') a[j]+=0;\n\t\t\t\telse if(z[i]=='1') a[j]+=1;\n\t\t\t\telse if(z[i]=='2') a[j]+=2;\n\t\t\t\telse if(z[i]=='3') a[j]+=3;\n\t\t\t\telse if(z[i]=='4') a[j]+=4;\n\t\t\t\telse if(z[i]=='5') a[j]+=5;\n\t\t\t\telse if(z[i]=='6') a[j]+=6;\n\t\t\t\telse if(z[i]=='7') a[j]+=7;\n\t\t\t\telse if(z[i]=='8') a[j]+=8;\n\t\t\t\telse if(z[i]=='9') a[j]+=9;\n\t\t\t\telse if(z[i]=='.') j++;\n\t\t\t\ta[j]*=10;\n\t\t\t}\n\t\t\tfor(i=0;i<5;i++) a[i]/=10;\n\t\t\t//for(i=0;i<5;i++) printf(\"%d\\n\",a[i]);\n\t\t\td+=a[0]*20*18*20*20;\n\t\t\td+=a[1]*20*18*20;\n\t\t\td+=a[2]*20*18;\n\t\t\td+=a[3]*20;\n\t\t\td+=a[4];\n\t\t\t//printf(\"%d\\n\",d);\n\t\t\th=2012;\n\t\t\tif(d-10<=0) printf(\"2012.12.%d\\n\",21+d);\n\t\t\td-=10;\n\t\t\tif(d>0){\n\t\t\t\twhile(1){\n\t\t\t\t\tif(d<365) break;\n\t\t\t\t\th++;\n\t\t\t\t\tif(h%4==0&&h%100!=0||h%400==0) d-=366;\n\t\t\t\t\telse d-=365;\n\t\t\t\t}\n\t\t\t\th++;\n\t\t\t\tv=0;\n\t\t\t\tfor(i=0;i<12;i++){\n\t\t\t\t\tif(d>day[i]){\n\t\t\t\t\t\t//printf(\"%d\\n\",d);\n\t\t\t\t\t\tg=i+1;\n\t\t\t\t\t\tif(g==2){\n\t\t\t\t\t\t\tif(h%4==0&&h%100!=0||h%400==0){\n\t\t\t\t\t\t\t\tif(d==29){\n\t\t\t\t\t\t\t\t\tv=1;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse d--;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\td-=day[i];\n\t\t\t\t\t}\n\t\t\t\t\telse break;\n\t\t\t\t}\n\t\t\t\tif(v==0) g++;\n\t\t\t\tprintf(\"%d.%d.%d\\n\",h,g,d);\n\t\t\t}\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n\n#define rep(i,n) for(int i=0;i<(n);i++)\n\nusing namespace std;\n\ntypedef long long ll;\n\nbool is_leap(int y){\n\treturn y%400==0 || y%100!=0 && y%4==0;\n}\n\nint num_of_leap(int y){\n\treturn y/4-y/100+y/400;\n}\n\nint main(){\n\tconst int MON[13]={-1,31,28,31,30,31,30,31,31,30,31,30,31};\n\n\tfor(char s[32];scanf(\"%s\",s),s[0]!='#';){\n\t\tint dot=0;\n\t\tfor(int i=0;s[i];i++) if(s[i]=='.') dot++;\n\n\t\tif(dot==2){ // seireki -> maya\n\t\t\tll y,m,d;\n\t\t\tsscanf(s,\"%lld.%lld.%lld\",&y,&m,&d);\n\n\t\t\tll days=0;\n\t\t\twhile(m>1 || d>1){\n\t\t\t\tif(d>1){\n\t\t\t\t\td--;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tm--;\n\t\t\t\t\td=MON[m];\n\t\t\t\t\tif(m==2 && is_leap(y)) d++;\n\t\t\t\t}\n\t\t\t\tdays++;\n\t\t\t}\n\t\t\tdays+=365*y+num_of_leap(y-1);\n\t\t\tdays-=365*2012+num_of_leap(2012);\n\t\t\tdays-=354;\n\n\t\t\tint b,ka,t,w,ki;\n\t\t\tb=days/(20*20*18*20)%13;\n\t\t\tdays%=20*20*18*20;\n\t\t\tka=days/(20*18*20);\n\t\t\tdays%=20*18*20;\n\t\t\tt=days/(18*20);\n\t\t\tdays%=18*20;\n\t\t\tw=days/20;\n\t\t\tdays%=20;\n\t\t\tki=days;\n\t\t\tprintf(\"%d.%d.%d.%d.%d\\n\",b,ka,t,w,ki);\n\t\t}\n\t\telse{ // maya -> seireki\n\t\t\tint b,ka,t,w,ki;\n\t\t\tsscanf(s,\"%d.%d.%d.%d.%d\",&b,&ka,&t,&w,&ki);\n\n\t\t\tll days=0;\n\t\t\tdays+=b*20*20*18*20;\n\t\t\tdays+=ka*20*18*20;\n\t\t\tdays+=t*18*20;\n\t\t\tdays+=w*20;\n\t\t\tdays+=ki;\n\n\t\t\tint y=2012,m=12,d=21;\n\t\t\tint days400=400*365+num_of_leap(400);\n\t\t\ty+=days/days400*400;\n\t\t\tdays%=days400;\n\t\t\twhile(days>0){\n\t\t\t\tif(d<MON[m]+(m==2&&is_leap(y)?1:0)){\n\t\t\t\t\td++;\n\t\t\t\t}\n\t\t\t\telse if(m<12){\n\t\t\t\t\tm++;\n\t\t\t\t\td=1;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\ty++;\n\t\t\t\t\tm=1;\n\t\t\t\t\td=1;\n\t\t\t\t}\n\t\t\t\tdays--;\n\t\t\t}\n\t\t\tprintf(\"%d.%d.%d\\n\",y,m,d);\n\t\t}\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nvector<string> split(const string &str, char sep)\n{\n    vector<string> v;\n    stringstream ss(str);\n    string buffer;\n    while( getline(ss, buffer, sep) ) {\n        v.push_back(buffer);\n    }\n    return v;\n}\n\nbool is_Leapyear(long long int year){\n    if(year%4==0){\n        if(year%100==0){\n            if(year%400==0){\n                return true;\n            }\n            return false;\n        }\n        return true;\n    }\n    return false;\n}\n\nint months[12] = {31,28,31,30,31,30,31,31,30,31,30,31};\nint leapmonths[12] = {31,29,31,30,31,30,31,31,30,31,30,31};\n\nint main() {\n\n    string s;\n\n    const long long  int baseday = (2012*365 + 2012/4 - 2012/100 + 2012/400 + 366-11);\n\n    while(1){\n\n        cin >> s;\n\n        if(s[0] == '#'){\n            break;\n        }\n\n        vector<string> vec = split(s,'.');\n\n        if(vec.size() == 5){\n\n            int a[5];//b,ka,t,w,ki\n\n            for(int i=0;i<5;i++){\n                stringstream ss;\n                ss << vec[i];\n                ss >> a[i];\n            }\n\n            long long int allday = 0;\n\n            allday = a[0]*20*20*18*20 + a[1]*20*18*20 + a[2]*18*20 + a[3]*20 + a[4];\n\n            if(allday>11){\n                allday -= 11;\n                int year,month,day;\n                year = 2013+(allday/(365+365+365+366))*4;\n                allday = allday % (365+365+365+366);\n                year += allday/365;\n                allday %= 365;\n                allday = allday + (year-2013)/100 - (year-2013)/400;\n                month = 1;\n                day = 1;\n                if(is_Leapyear(year)){\n                    for(int i=0;i<12;i++){\n                        if(allday>=leapmonths[i]){\n                            allday-=leapmonths[i];\n                            month++;\n                        }\n                        else{\n                            break;\n                        }\n                    }\n                    day += allday;\n                    printf(\"%d.%d.%d\\n\",year,month,day);\n                }\n                else{\n                    for(int i=0;i<12;i++){\n                        if(allday>=months[i]){\n                            allday-=months[i];\n                            month++;\n                        }\n                        else{\n                            break;\n                        }\n                    }\n                    day += allday ;\n                    printf(\"%d.%d.%d\\n\",year,month,day);\n                }\n            }\n            else{\n                printf(\"2012.12.%lld\\n\",21+allday);\n            }\n\n        }\n\n        else{\n\n            int b[3];//year,month,day\n\n            for(int i=0;i<3;i++){\n                stringstream ss;\n                ss << vec[i];\n                ss >> b[i];\n            }\n\n            long long int allday = (b[0] % 1872000 * 365 + b[0]/4 - b[0]/100 + b[0]/400);\n\n            if(is_Leapyear(b[0])){\n                allday--;\n            }\n\n            for(int i=0;i<b[1]-1;i++){\n                if(is_Leapyear(b[0])){\n                    allday += leapmonths[i];\n                }\n                else{\n                    allday += months[i];\n                }\n            }\n\n            allday += b[2];\n\n            allday -= baseday;\n\n            allday %= 1872000;\n\n            int ba,ka,t,w,ki;\n\n            ba = allday/144000;\n\n            allday %= 144000;\n\n            ka = allday/7200;\n\n            allday %= 7200;\n\n            t = allday/360;\n\n            allday %= 360;\n\n            w = allday/20;\n\n            allday %= 20;\n\n            ki = allday;\n\n            printf(\"%d.%d.%d.%d.%d\\n\",ba,ka,t,w,ki);\n        }\n\n    }\n\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define LL long long int\n#define INF 734858\nusing namespace std;\nint main(void)\n{\n\tLL b,ka,t,w,ki,y,m,d,sum,cnt,mon,day,year;\n\tLL i,j,k;\n\tLL maya[5]={144000,7200,360,20,1};\n\tLL month[2][12]={\n\t\t\t\t\t{31,28,31,30,31,30,31,31,30,31,30,31},\n\t\t\t\t\t{31,29,31,30,31,30,31,31,30,31,30,31}\n\t\t\t\t\t};\n\tchar s[100];\n\twhile(1) {\n\t\tcin>>s;\n\t\tif(s[0]=='#') break;\n\t\tcnt=0;\n\t\tfor(i=0;i<strlen(s);i++) {\n\t\t\tif(s[i]=='.') cnt++;\n\t\t}\n\t\tif(cnt==2) { //?\\?????????????\n\t\t\tsum=0;\n\t\t\tstring sum2;\n\t\t\tsum2=s[0];\n\t\t\tfor(i=1;i<strlen(s);i++) {\n\t\t\t\tif(s[i]=='.') break;\n\t\t\t\telse sum2+=s[i];\n\t\t\t}\n\t\t\tint mx;\n\t\t\tmx=atoi(sum2.c_str());\n\t\t\tfor(i=1;i<mx;i++) {\n\t\t\t\tif(i%4==0&&i%100!=0||i%400==0) sum+=366;\n\t\t\t\telse sum+=365;\n\t\t\t}\n\t\t\tint f=0;\n\t\t\tfor(i=0;i<strlen(s);i++) {\n\t\t\t\tif(s[i]=='.'&&s[i+2]=='.') {\n\t\t\t\t\tsum2=s[i+1];\n\t\t\t\t\tif(f==0) mon=atoi(sum2.c_str());\n\t\t\t\t\telse day=atoi(sum2.c_str());\n\t\t\t\t\tf=1;\n\t\t\t\t}\n\t\t\t\telse if(s[i]=='.'&&s[i+2]!='.') {\n\t\t\t\t\tsum2=s[i+1];\n\t\t\t\t\tsum2+=s[i+2];\n\t\t\t\t\tif(f==0) mon=atoi(sum2.c_str());\n\t\t\t\t\telse day=atoi(sum2.c_str());\n\t\t\t\t\tf=1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tint test=0;\n\t\t\tfor(i=0;i<mon-1;i++) {\n\t\t\t\tif(mx%4==0&&mx%100!=0||mx%400==0) sum+=month[1][i];\n\t\t\t\telse sum+=month[0][i];\n\t\t\t}\n\t\t\tsum+=day,sum-=INF;\n\t\t\tb=sum/maya[0],sum=sum%maya[0];\n\t\t\tka=sum/maya[1],sum=sum%maya[1];\n\t\t\tt=sum/maya[2],sum=sum%maya[2];\n\t\t\tw=sum/maya[3],ki=sum%maya[3];\n\t\t\tcout<<b%13<<\".\"<<ka%20<<\".\"<<t%20<<\".\"<<w%18<<\".\"<<ki%20<<endl;\n\t\t}\n\t\telse { //??????????\\????\n\t\t\tsum=0;\n\t\t\tLL swi=1,x;\n\t\t\tstring sum3;\n\t\t\tif(s[1]=='.') sum3=s[0],sum+=atoi(sum3.c_str())*maya[0];\n\t\t\telse if(s[1]!='.') sum3=s[0],sum3+=s[1],sum+=atoi(sum3.c_str())*maya[0];\n\t\t\tfor(i=0;i<strlen(s);i++) {\n\t\t\t\tif(s[i]=='.'&&s[i+2]=='.') {\n\t\t\t\t\tsum3=s[i+1];\n\t\t\t\t\tsum+=atoi(sum3.c_str())*maya[swi];\n\t\t\t\t\tswi++;\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\telse if(s[i]=='.'&&s[i+2]!='.') {\n\t\t\t\t\tsum3=s[i+1],sum3+=s[i+2];\n\t\t\t\t\tsum+=atoi(sum3.c_str())*maya[swi];\t\n\t\t\t\t\tswi++;\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t\tint zan=10;\n\t\t\tif(sum<11) {\n\t\t\t\tcout<<\"2012.12.\"<<sum+21<<endl;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tsum-=10;\n\t\t\t\tLL suu=2013;\n\t\t\t\twhile(1) {\n\t\t\t\t\tif(suu%4==0&&suu%100!=0||suu%400==0) {\n\t\t\t\t\t\tif(sum>366) {\n\t\t\t\t\t\t\tsum-=366;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if(sum==366) {\n\t\t\t\t\t\t\tsum-=366;\n\t\t\t\t\t\t\tmon=12,day=31;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tmon=1;\n\t\t\t\t\t\t\tfor(i=0;i<12;i++) {\n\t\t\t\t\t\t\t\tif(sum>=month[1][i]&&mon-1>=i) {\n\t\t\t\t\t\t\t\t\tif(sum-month[1][i]==0) break;\n\t\t\t\t\t\t\t\t\tsum-=month[1][i];\n\t\t\t\t\t\t\t\t\tmon++;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tday=sum;\n\t\t\t\t\t\t\tsum=0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif(sum>365) {\n\t\t\t\t\t\t\tsum-=365;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if(sum==365) {\n\t\t\t\t\t\t\tsum-=365;\n\t\t\t\t\t\t\tmon=12,day=31;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tmon=1;\n\t\t\t\t\t\t\tfor(i=0;i<12;i++) {\n\t\t\t\t\t\t\t\tif(sum>=month[0][i]&&mon-1>=i) {\n\t\t\t\t\t\t\t\t\tif(sum-month[0][i]==0) break;\n\t\t\t\t\t\t\t\t\tsum-=month[0][i];\n\t\t\t\t\t\t\t\t\tmon++;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tday=sum;\n\t\t\t\t\t\t\tsum=0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(sum==0) break;\n\t\t\t\t\tsuu++;\n\t\t\t\t}\n\t\t\t\tcout<<suu<<\".\"<<mon<<\".\"<<day<<endl;\n\t\t\t}\n\t\t}\n\t}\n}\n\t"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string> \nusing namespace std;\nint main(){\n  long y,m,d,b,ka,t,w,ki;\n  int i,j,k,p;\n  long long day,base=0,ba=1872000;\n  int mo[]={0,31,28,31,30,31,30,31,31,30,31,30,31};\n  string str;\n  cin>> str;\n  while(str[0]!='#'){\n    y=0;m=0;d=0;i=0;day=0;p=0;\n    while(str[i]!='\\0'){\n      if(str[i]=='.') p++;\n      i++;\n    }\n    if(p==2){\n      i=0;\n      while(str[i]!='.') i++;\n      for(j=0;j<i;j++){\n\ty*=10;\n\ty+=str[j]-'0';\n      }\n      i++;\n      k=i;\n      while(str[i]!='.') i++;\n      for(j=k;j<i;j++){\n\tm*=10;\n\tm+=str[j]-'0';\n      } \n      i++;\n      k=i;\n      while(str[i]!='\\0') i++;\n      for(j=k;j<i;j++){\n\td*=10;\n\td+=str[j]-'0';\n      }\n      //cout << y << \" \" << m << \" \" << d << endl;\n      if(y==2012) {\n\tday=d-21;\n      }else{\n\tday=10;\n\tfor(i=2013;i<y;i++)\n\t  if((i%4==0&&i%100!=0)||i%400==0) day+=366;\n\t  else day+=365;\n\tfor(i=1;i<m;i++) day+=mo[i];\n\tif(2<m&&((i%4==0&&i%100!=0)||i%400==0)) day++;\n\tday+=d;\n      }\n      while(ba<day) day-=ba;\n      b=day%(13*20*20*18*20)/(20*20*18*20);\n      ka=day%(20*20*18*20)/(20*18*20);\n      t=day%(20*18*20)/(18*20);\n      w=day%(18*20)/20;\n      ki=day%(20);\n      cout << b << \".\" << ka << \".\" << t << \".\" << w << \".\" << ki << endl;\n    }else{\n      i=0;b=0;ka=0;t=0;w=0;ki=0;\n      while(str[i]!='.') i++;\n      for(j=0;j<i;j++){\n\tb*=10;\n\tb+=str[j]-'0';\n      }\n      i++;\n      k=i;\n      while(str[i]!='.') i++;\n      for(j=k;j<i;j++){\n\tka*=10;\n\tka+=str[j]-'0';\n      } \n      i++;\n      k=i;\n      while(str[i]!='.') i++;\n      for(j=k;j<i;j++){\n\tt*=10;\n\tt+=str[j]-'0';\n      }\n      i++;\n      k=i;\n      while(str[i]!='.') i++;\n      for(j=k;j<i;j++){\n\tw*=10;\n\tw+=str[j]-'0';\n      } \n      i++;\n      k=i;\n      while(str[i]!='\\0') i++;\n      for(j=k;j<i;j++){\n\tki*=10;\n\tki+=str[j]-'0';\n      }\n      //cout << b << \".\" << ka << \".\" << t << \".\" << w << \".\" << ki << endl;\n      day =b*20*20*18*20+ka*20*18*20+t*18*20+w*20+ki;\n      \n      y=2012;m=12;d=21;\n      if(day<=10) d+=day;\n      else{\n\tday-=10;\n\ty=2013;\n\twhile(day>365){\n\t  if((y%4==0&&y%100!=0)||y%400==0) day-=366;\n\t  else day-=365;\n\t  y++;\n\t}\n\tm=1;int flag=0;\n\twhile(day>mo[m]&&flag==0){\n\t  if(m==2&&((y%4==0&&y%100!=0)||y%400==0)) {\n\t    if(day>29) {\n\t      day-=29;\n\t      m++;\n\t      \n\t    }\n\t    flag=1;\n\t  }else{\n\t    day-=mo[m];\n\t    m++;\n\t  }\n\t}\n\td=day;\n      }\n      cout << y << \".\" << m << \".\" << d << endl;\n    }\n    cin >> str;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define REP(i,n) for(long long i = 0;i < n;++i)\n#define FOR(i,a,b) for(long long i = a;i < b;++i)\nusing namespace std;\nusing ll = long long;\nusing point = pair< int,int >;\n\nint main() {\n    int i, uru;\n    ll y, m, d;\n    ll b, ka, t, w, ki;\n    ll year, month, day;\n    ll sum;\n    string str;\n    const int table[][13] = {{0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31},\n                             {0, 31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31}};\n\n    while (cin >> str) {\n        if (str == \"#\") break;\n        if (count(str.begin(), str.end(), '.') == 4) {\n            sscanf(str.c_str(), \"%lld.%lld.%lld.%lld.%lld\", &b, &ka, &t, &w, &ki);\n\n            sum = ki + w * 20 + t * 360 + ka * 7200 + b * 144000;\n            for (i = 0, year = 2012, month = 12, day = 21; i < sum; ++i) {\n                uru = (year % 400 == 0 || year % 100 && year % 4 == 0);\n                day++;\n                if (table[uru][month] < day) {\n                    day = 1;\n                    month++;\n                }\n                if (month > 12) {\n                    month = 1;\n                    year++;\n                }\n            }\n\n            printf(\"%lld.%lld.%lld\\n\", year, month, day);\n        } else {\n            sscanf(str.c_str(), \"%lld.%lld.%lld\", &y, &m, &d);\n\n            sum = (y - 2013) * 365 + 10;\n            if (y == 2012) sum--;\n            uru = (y % 400 == 0 || y % 100 && y % 4 == 0);\n            for (i = 2013; i < y; ++i) {\n                sum += (i % 400 == 0 || i % 100 && i % 4 == 0);\n            }\n            for (i = 1; i < m; ++i) {\n                sum += table[uru][i];\n            }\n            sum += d;\n\n            printf(\"%lld.%lld.%lld.%lld.%lld\\n\", sum / 144000 % 13, sum / 7200 % 20, sum / 360 % 20, sum / 20 % 18, sum % 20);\n        }\n    }\n\n    return 0;\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nstd::vector<std::string> split(const std::string &str, char sep){\n    std::vector<std::string> v;\n    std::stringstream ss(str);\n    std::string buffer;\n    while( std::getline(ss, buffer, sep) ) {\n        v.push_back(buffer);\n    }\n    return v;\n}\n\ninline bool reap(int y){\n    if(y%4==0 && y%100 != 0 ){\n        return true;\n    }\n    else if(y%400 == 0){\n        return true;\n    }\n    return false;\n}\n\nint main() {\n\n\n    string s;\n\n    while(1){\n\n        cin >> s;\n\n        if(s[0] == '#') break;\n\n        vector<string> vs = split(s,'.');\n\n        if(vs.size() == 3){\n            int b,ka,t,w,ki;\n            b = ka = t = w = ki = 0;\n\n            int y,m,d;\n\n            stringstream ss;\n\n            ss << vs[0]; ss >> y; ss.clear();\n            ss << vs[1]; ss >> m; ss.clear();\n            ss << vs[2]; ss >> d; ss.clear();\n\n            ki = d - 21;\n            d -= ki;\n\n            while(y!=2012){\n\n                while(m!=0){\n                    if(m == 1 || m == 3 || m == 5 || m == 7 || m == 8 || m == 10 || m == 12){\n                        ki += 31;\n                    }\n                    else if(m == 4 || m == 6 || m == 9 || m == 11){\n                        ki += 30;\n                    }\n                    else if(m == 2 && reap(y)){\n                        ki += 29;\n                    }\n                    else{\n                        ki += 28;\n                    }\n                    m--;\n                }\n\n                if(ki>=20){\n                    w += ki/20;\n                    ki %= 20;\n                }\n                if(w>=18){\n                    t += w/18;\n                    w %= 18;\n                }\n                if(t>=20){\n                    ka += t/20;\n                    t %= 20;\n                }\n                if(ka>=20){\n                    b += ka/20;\n                    ka %= 20;\n                }\n                if(b>=13){\n                    b %= 13;\n                }\n\n                m = 12;\n\n                y--;\n\n            }\n\n            if(ki>=20){\n                w += ki/20;\n                ki %= 20;\n            }\n            if(w>=18){\n                t += w/18;\n                w %= 18;\n            }\n            if(t>=20){\n                ka += t/20;\n                t %= 20;\n            }\n            if(ka>=20){\n                b += ka/20;\n                ka %= 20;\n            }\n            if(b>=13){\n                b %= 13;\n            }\n\n            if(ki<0){\n                if(w==0){\n                    if(t==0){\n                        if(ka==0){\n                            b--;\n                            ka = 19;\n                            t = 19;\n                            w = 17;\n                            ki += 19;\n                        }\n                        else{\n                            ka--;\n                            t = 19;\n                            w = 17;\n                            ki += 19;\n                        }\n                    }\n                    else{\n                        t--;\n                        w = 17;\n                        ki += 19;\n                    }\n                }\n                else{\n                    w--;\n                    ki += 19;\n                }\n            }\n\n            printf(\"%d.%d.%d.%d.%d\\n\",b,ka,t,w,ki);\n\n\n        }\n        else{\n\n            long long int day = 0;\n\n            long long int b,ka,t,w,ki;\n            b = ka = t = w = ki = 0;\n\n            long long int y,m,d;\n\n            stringstream ss;\n\n            ss << vs[0]; ss >> b; ss.clear();\n            ss << vs[1]; ss >> ka; ss.clear();\n            ss << vs[2]; ss >> t; ss.clear();\n            ss << vs[3]; ss >> w; ss.clear();\n            ss << vs[4]; ss >> ki; ss.clear();\n\n            day = ki + w*20 + t*20*18 + ka*20*18*20 + b*20*18*20*20;\n\n            y = 2012; m = 12; d = 21;\n\n            if(day > 10){\n                y++; m = 1; d = 1; day -= 11;\n            }\n            else{\n                d += day;\n                day = 0;\n            }\n\n            while(day!=0){\n\n                if(m == 1 || m == 3 || m == 5 || m == 7 || m == 8 || m == 10){\n                    if(day >= 31){\n                        m++;\n                        day -= 31;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }\n                }\n                else if(m == 4 || m == 6 || m == 9 || m == 11){\n                    if(day >= 30){\n                        m++;\n                        day -= 30;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }\n                }\n                else if(m == 2 && reap(y)){\n                    if(day >= 29){\n                        m++;\n                        day -= 29;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }\n                }\n                else if(m == 2){\n                    if(day >= 28){\n                        m++;\n                        day -= 28;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }\n                }\n                else if(m == 12) {\n                    if(day >= 31){\n                        m = 1;\n                        y++;\n                        day -= 31;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }\n                }\n\n            }\n\n\n            printf(\"%lld.%lld.%lld\\n\",y,m,d);\n\n\n        }\n\n    }\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string.h>\n#include<stdlib.h>\nusing namespace std;\nlong n[5];\nvoid seireki(void){\n\tlong tuki[13]={0,31,28,31,30,31,30,31,31,30,31,30,31};\n\tlong p=31+29+31+30+31+30+31+31+30+31+30;\n\tlong long kin=0;\n\tlong ans[6]={0};\n\tint  i,j;\n\tfor(i=n[0]-1;i>=2012;i--){\n\t\tif(i%4==0&&i%100!=0||i%4==0&&i%400==0){\n\t\t\tkin+=366;\n\t\t}\n\t\telse{\n\t\t\tkin+=365;\n\t\t}\n\t}\n\tfor(i=n[1]-1;i>=1;i--){\n\t\tkin+=tuki[i];\n\t}\n\tif(n[0]%4==0&&n[0]%100!=0||n[0]%4==0&&n[0]%400==0){\n\t\tif(n[1]>=3){\n\t\t\tkin++;\n\t\t}\n\t}\n\tkin+=n[2];\n\tkin-=21;\n\tkin-=p;\n\tans[0]=kin/144000;\n\tkin%=144000;\n\tans[1]=kin/7200;\n\tkin%=7200;\n\tans[2]=kin/360;\n\tkin%=360;\n\t//cout<<kin<<endl;\n\tans[3]=kin/20;\n\tans[4]=kin%20;\n\tfor(i=0;i<5;i++){\n\t\tcout<<ans[i];\n\t\tif(i<4){\n\t\t\tcout<<\".\";\n\t\t}\n\t\telse{\n\t\t\tcout<<endl;\n\t\t}\n\t}\n}\nvoid maya(void){\n}\nint main(){\n\tchar koyomi[50];\n\tint i;\n\tcin>>koyomi;\n\tn[0]=atoi(strtok(koyomi,\".\"));\n\tfor(i=1;i<5;i++){\n\t\tn[i]=atoi(strtok(NULL,\".\"));\n\t}\n\t/*for(i=0;i<5;i++){\n\t\tcout<<a[i]<<endl;\n\t}*/\n\tif(n[0]>=2012){\n\t\tseireki();\n\t}\n\telse{\n\t\tmaya();\n\t}\n\treturn 0;\n}\n\t"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<vector>\nusing namespace std;\nstring S, T; vector<int>p;\nlong long sum;\nlong long distsum[15000001], daysum[13][32], daysum2[13][32];\nint days[13] = { 0,31,28,31,30,31,30,31,31,30,31,30,31 };\nint days2[13] = { 0,31,29,31,30,31,30,31,31,30,31,30,31 };\n\nvoid mayawest(vector<int>a) {\n\tsum = a[0] * 144000 + a[1] * 7200 + a[2] * 360 + a[3] * 20 + a[4] + 734857;\n\tint y, m, d;\n\tfor (int i = 2000; i < 10000000; i++) {\n\t\tif (sum - distsum[i - 1] < 365 || (sum - distsum[i - 1] < 366 && i % 4 == 0)) {\n\t\t\ty = i;\n\t\t\tsum -= distsum[i - 1];\n\t\t\tbreak;\n\t\t}\n\t}\n\tfor (int i = 1; i <= 12; i++) {\n\t\tfor (int j = 1; j <= 31; j++) {\n\t\t\tif (y % 4 == 0) {\n\t\t\t\tif (daysum2[i][j] == sum) {\n\t\t\t\t\tm = i; d = j; goto E;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (daysum[i][j] == sum) {\n\t\t\t\t\tm = i; d = j; goto E;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\nE:;\n\tcout << y << '.' << m << '.' << d << endl;\n}\n\nvoid westmaya(vector<int>a) {\n\tif (a[0] % 4 == 0) { \n\t\tsum = distsum[a[0] - 1] + daysum2[a[1]][a[2]]; \n\t}\n\telse { \n\t\tsum = distsum[a[0] - 1] + daysum[a[1]][a[2]]; \n\t}\n\tsum -= 734857;//12.12.21\n\tcout << (sum / 144000) % 13 << '.' << (sum / 7200) % 20 << '.' << (sum / 360) % 20 << '.' << (sum / 20) % 18 << '.' << sum % 20 << endl;\n}\n\nint main() {\n\tdistsum[0] = 0;\n\tfor (int i = 1; i <= 14000000; i++) {\n\t\tif ((i % 4 == 0 && i % 100 != 0) || i % 400 == 0) {\n\t\t\tdistsum[i] = distsum[i - 1] + 366;\n\t\t}\n\t\telse {\n\t\t\tdistsum[i] += distsum[i - 1] + 365;\n\t\t}\n\t}\n\tint cnt = 0;\n\tfor (int i = 1; i <= 12; i++) {\n\t\tfor (int j = 1; j <= days[i]; j++) {\n\t\t\tdaysum[i][j] = cnt;\n\t\t\tcnt++;\n\t\t}\n\t}\n\tcnt = 0;\n\tfor (int i = 1; i <= 12; i++) {\n\t\tfor (int j = 1; j <= days2[i]; j++) {\n\t\t\tdaysum2[i][j] = cnt;\n\t\t\tcnt++;\n\t\t}\n\t}\n\twhile (cin >> S) {\n\t\tp.clear();\n\t\tif (S == \"#\") { break; }\n\t\tS += '.';\n\t\tfor (int i = 0; i < S.size(); i++) {\n\t\t\tif(S[i]=='.'){\n\t\t\t\tp.push_back(stoi(T));\n\t\t\t\tT = \"\";\n\t\t\t}\n\t\t\telse {\n\t\t\t\tT += S[i];\n\t\t\t}\n\t\t}\n\t\tif (p.size() == 5) {\n\t\t\tmayawest(p);\n\t\t}\n\t\telse {\n\t\t\twestmaya(p);\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nstruct S{ll y,m,d;};\nstruct Ma{ll b,ka,t,w,ki;};\n\n//12,1,2,3...11\nint M[]={31,28,31,30,31,30,31,31,30,31,30,31};\n\nbool check(ll y){return (y%4==0&&(y%100!=0||y%400==0));}\n\nS M2S(ll b,ll ka,ll t,ll w,ll ki){\n  ka+=b*20;\n  t+=ka*20;\n  w+=t*18;\n  ki+=w*20;\n  S res;\n  res.y=2012,res.m=12,res.d=21+ki;\n  if(res.d<=31) return res;\n  \n  while(res.d/(365+check(res.y+1)))res.y++,res.d-=(365+check(res.y));\n  if(res.d==0) res.m--,res.d=M[res.m-1];\n  if(res.d<=31) return res;\n\n  res.y++,res.m=1,res.d-=31;\n  while(res.d/(M[res.m-1]+(check(res.y)&&res.m==2))){\n    res.d-=(M[res.m-1]+(check(res.y)&&res.m==2));\n    res.m++;\n  }\n  if(res.d==0) res.m--,res.d=M[res.m-1]+(check(res.y)&&res.m==2);\n  return res;\n}\n\nMa S2M(ll y,ll m,ll d){\n  y-=2012;\n  if(y) d+=10; \n  else d=(d-21);\n  \n  for(int i=0;i<m-1&&y;i++) d+=(M[i]+(i==1&&check(y+2012)));\n  y--;\n  while(y>0)d+=(365+check(y+2012)),y--;\n\n  Ma res;\n  d%=13*20*20*18*20;\n  res.ki=d;\n  res.w =res.ki/20; res.ki%=20;\n  res.t =res.w/18;  res.w %=18;\n  res.ka=res.t/20;  res.t %=20;\n  res.b =res.ka/20; res.ka%=20;\n  return res;\n}\n\nint main(){\n  while(1){\n    string str;\n    cin>>str;\n    if(str==\"#\")break;\n    vector <int> a;\n    int i=0,num=0;\n    while(str[i]){\n      if(str[i]=='.')a.push_back(num),num=0;\n      else num=num*10+str[i]-'0';\n      i++;\n    }\n    a.push_back(num);\n    \n    if(a.size()==5){\n      S ans=M2S(a[0],a[1],a[2],a[3],a[4]);\n      cout << ans.y<<\".\"<<ans.m<<\".\"<<ans.d<<endl;\n    }\n    else {\n      Ma ans=S2M(a[0],a[1],a[2]);\n      cout<<ans.b<<\".\"<<ans.ka<<\".\"<<ans.t<<\".\"<<ans.w<<\".\"<<ans.ki<<endl;\n    }\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <cmath>\n#include <algorithm>\n#include <stack>\n#include <queue>\n#include <vector>\n\nusing namespace std;\n\nint monthTable[13] = {0,31,28,31,30,31,30,31,31,30,31,30,31};\nint monthTable2[13] = {0,31,29,31,30,31,30,31,31,30,31,30,31};\n\nbool isLeapYear(int year){\n\tif(year % 4 == 0){\n\t\tif(year % 100 == 0){\n\t\t\tif(year % 400 == 0){\n\t\t\t\treturn true;\n\t\t\t}else{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}else{\n\t\t\treturn true;\n\t\t}\n\t}else{\n\t\treturn false;\n\t}\n}\n\nint main(){\n\n\tlong long int sum,tmp,year,month,day,b,ka,t,w,ki,NUMBER = 735224;\n\tint count,status;\n\tchar buf[100];\n\n\twhile(true){\n\t\tscanf(\"%s\",buf);\n\t\tif(buf[0] == '#')break;\n\n\t\tcount = 0;\n\n\t\tfor(int i = 0;buf[i] != '\\0';i++){\n\t\t\tif(buf[i] == '.')count++;\n\t\t}\n\n\t\tsum = 0;\n\t\tif(count == 2){ //?\\?????????\\??????????????´???\n\t\t\tstatus = 0;\n\t\t\ttmp = 0;\n\t\t\t//???????????´???????????\\?????????\n\t\t\tfor(int i = 0; buf[i] != '\\0';i++){\n\t\t\t\tif(buf[i] >= '0' && buf[i] <= '9'){\n\t\t\t\t\ttmp = 10*tmp+(buf[i]-'0');\n\n\t\t\t\t\tif(buf[i+1] == '\\0'){\n\t\t\t\t\t\tday = tmp;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(status == 0){\n\t\t\t\t\t\tyear = tmp;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tmonth = tmp;\n\t\t\t\t\t}\n\t\t\t\t\tstatus++;\n\t\t\t\t\ttmp = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(year == 2012){\n\t\t\t\tsum = day - 21;\n\t\t\t}else{\n\n\t\t\t\tsum += 10;\n\n\t\t\t\t//2013???year-1??´?????§?????\\??°???????¨?\n\t\t\t\tfor(int i = 2013; i <= year-1; i++){\n\t\t\t\t\tif(isLeapYear(i))sum += 366;\n\t\t\t\t\telse{\n\t\t\t\t\t\tsum += 365;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor(int i = 1; i <= month-1; i++){\n\t\t\t\t\tif(i == 2 && isLeapYear(year) == true){\n\t\t\t\t\t\tsum += 29;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tsum += monthTable[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tsum += day;\n\t\t\t}\n\n\t\t\tprintf(\"%lld.\",(sum/144000)%13);\n\t\t\tsum %= 144000;\n\t\t\tprintf(\"%lld.\",sum/7200);\n\t\t\tsum %= 7200;\n\t\t\tprintf(\"%lld.\",sum/360);\n\t\t\tsum %= 360;\n\t\t\tprintf(\"%lld.\",sum/20);\n\t\t\tsum %= 20;\n\t\t\tprintf(\"%lld\\n\",sum);\n\n\t\t}else{ //????????´?????\\??????????????´???\n\t\t\tstatus = 0;\n\t\t\ttmp = 0;\n\n\t\t\tfor(int i = 0; buf[i] != '\\0';i++){\n\t\t\t\tif(buf[i] >= '0' && buf[i] <= '9'){\n\t\t\t\t\ttmp = 10*tmp + (buf[i] - '0');\n\n\t\t\t\t\tif(buf[i+1] == '\\0'){\n\t\t\t\t\t\tki = tmp;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(status == 0){\n\t\t\t\t\t\tb = tmp;\n\t\t\t\t\t}else if(status == 1){\n\t\t\t\t\t\tka = tmp;\n\t\t\t\t\t}else if(status == 2){\n\t\t\t\t\t\tt = tmp;\n\t\t\t\t\t}else if(status == 3){\n\t\t\t\t\t\tw = tmp;\n\t\t\t\t\t}\n\t\t\t\t\tstatus++;\n\t\t\t\t\ttmp = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tsum = 144000*b + 7200*ka + 360*t + 20*w + ki + NUMBER;\n\n\t\t\tyear = 0,month = 1;\n\n\t\t\tfor(int i = 0;sum > 366; i++){\n\t\t\t\tif(isLeapYear(i)){\n\t\t\t\t\tsum -= 366;\n\t\t\t\t}else{\n\t\t\t\t\tsum -= 365;\n\t\t\t\t}\n\t\t\t\tyear++;\n\t\t\t}\n\n\t\t\tif((sum <= 365) || (sum == 366 && isLeapYear(year))){\n\n\t\t\t\tif(isLeapYear(year)){\n\t\t\t\t\tfor(int i = 1; i <= 12 && sum > monthTable2[i];i++){\n\t\t\t\t\t\tsum -= monthTable2[i];\n\t\t\t\t\t\tmonth++;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tfor(int i = 1; i <= 12 && sum > monthTable[i];i++){\n\t\t\t\t\t\tsum -= monthTable[i];\n\t\t\t\t\t\tmonth++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else{ //?????¨366??\\??§??????year??????????????´??§??????\n\t\t\t\tyear++;\n\t\t\t\tmonth = 1;\n\t\t\t\tsum = 1;\n\t\t\t}\n\t\t\tprintf(\"%lld.%lld.%lld\\n\",(year)%10000001,month,sum);\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 0x3f3f3f3f\n\n#include <iostream>\n#include <cstdio>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n  \nusing namespace std;\n  \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P> PP;\n  \nstatic const double EPS = 1e-8;\n  \nstatic const int tx[] = {0,1,0,-1};\nstatic const int ty[] = {-1,0,1,0};\n\nvector<string> split(string delim,string str){\n  vector<string> res;\n  str += delim;\n  for(int i=0;i<str.size();i++){\n    for(int j=1;i+j<=str.size();j++){\n      if(str.substr(i,j).find(delim) != string::npos){\n        if(str.substr(i,j-1).size() >0 ) res.push_back(str.substr(i,j-1));\n        i+=j-1;\n        break;\n      }\n    }\n  }\n  return res;\n}\n\nstatic const int days_per_month[] = {0,31,28,31,30,31,30,31,31,30,31,30,31};\n\nbool is_leap_year(int year){\n  if(year % 4 == 0){\n    if(year % 100 != 0) return true;\n    if(year % 400 == 0) return true;\n  }\n  return false;\n}\n\nstring maya2christ(ll passed_day){\n  passed_day += 355LL;\n  int year = 2012;\n  for(int prev = 2012; prev < 10000000; prev++){\n    if(is_leap_year(prev) && passed_day - 366LL >= 0){\n      passed_day -= 366LL;\n    }\n    else if(!is_leap_year(prev) && passed_day - 365LL >= 0){\n      passed_day -= 365LL;\n    }\n    else{\n      break;\n    }\n    year = prev + 1;\n  }\n\n  int month = 1;\n  for(int prev = 1; prev < 12; prev++){\n    if(is_leap_year(year) && prev == 2\n       && passed_day - (days_per_month[prev] + 1) >= 0){\n      passed_day -= (days_per_month[prev] + 1);\n    }\n    else if(passed_day - days_per_month[prev] >= 0){\n      passed_day -= days_per_month[prev];\n    }\n    else{\n      break;\n    }\n    month = prev + 1;\n  }\n  int day = passed_day + 1;\n  stringstream ss;\n  ss << year << \".\" << month << \".\" << day;\n  return ss.str();\n}\n\nstring christ2maya(ll passed_day){\n  passed_day %= 13*20*20*18*20;\n  ll b = passed_day / (20*20*18*20);\n  passed_day %= (20*20*18*20);\n\n  ll ka = passed_day / (20*18*20);\n  passed_day %= (20*18*20);\n\n  ll t = passed_day / (18*20);\n  passed_day %= (18*20);\n\n  ll w = passed_day / 20;\n  passed_day %= 20;\n  \n  ll ki = passed_day;\n  stringstream ss;\n  ss << b << \".\" << ka << \".\" << t << \".\" << w << \".\" << ki;\n  return ss.str();\n}\n\nint main(){\n  string str;\n  while(cin >> str){\n    if(str == \"#\") break;\n    int total_dots = count(str.begin(),str.end(),'.');\n    if(total_dots == 2){\n      //after christ\n      vector<string> elements = split(\".\",str);\n      ll year = atol(elements[0].c_str());\n      ll month = atol(elements[1].c_str());\n      ll day = atol(elements[2].c_str());\n\n      ll passed_day = 0;\n      for(ll prev = 2012; prev < year; prev++){\n        passed_day += (is_leap_year(prev) ? 366LL : 365LL);\n      }\n\n      for(ll prev = 1; prev < month; prev++){\n        if(is_leap_year(year) && prev == 2){\n          passed_day++;\n        }\n        passed_day += days_per_month[prev];\n      }\n      for(ll prev = 1; prev < day; prev++){\n        passed_day++;\n      }\n      passed_day -= 355LL; //2012.01.01 - 2012.12.20\n      cout << christ2maya(passed_day) << endl;\n    }\n    else{\n      //maya\n      vector<string> elements = split(\".\",str);\n      ll b = atol(elements[0].c_str());\n      ll ka = atol(elements[1].c_str());\n      ll t = atol(elements[2].c_str());\n      ll w = atol(elements[3].c_str());\n      ll ki = atol(elements[4].c_str());\n\n      ll passed_day = b * (20*20*18*20) + ka * (20*18*20) + t * (18*20) + w * 20 + ki;\n      cout << maya2christ(passed_day) << endl;\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<string>\nusing namespace std;\n\nstruct M{\n\tlong long b;\n\tlong long ka;\n\tlong long t;\n\tlong long w;\n\tlong long ki;\n};\nM mkM(long long a,long long b,long long c,long long d,long long e){\n\tM m;\n\tm.b=a; m.ka=b; m.t=c; m.w=d; m.ki=e;\n\treturn m;\n}\n\nstruct C{\n\tlong long y;\n\tlong long m;\n\tlong long d;\n};\nC mkC(long long a,long long b,long long c){\n\tC cc;\n\tcc.y=a; cc.m=b; cc.d=c;\n\treturn cc;\n}\n\nlong long MtoN(M m){\n\tlong long ret=0;\n\tret+=m.b; ret*=20;\n\tret+=m.ka; ret*=20;\n\tret+=m.t; ret*=18;\n\tret+=m.w; ret*=20;\n\tret+=m.ki;\n\treturn ret;\n}\n\nM NtoM(long long n){\n\tM m;\n\tm.ki=n;\n\tm.w=m.ki/20; m.ki%=20;\n\tm.t=m.w/18; m.w%=18;\n\tm.ka=m.t/20; m.t%=20;\n\tm.b=m.ka/20; m.ka%=20;\n\tm.b%=13;\n\treturn m;\n}\n\nlong long D[13]={0,31,28,31,30,31,30,31,31,30,31,30,31};\n\nlong long CtoN(C c){\n\tif(c.y==2012)return c.d-21;\n\n\tlong long ret=0;\n\t/*while(c.y>=2013+400){\n\t\tc.y-=400;\n\t\tret+=365*400+97;\n\t}*/\n\tret+=(365*400+97)*((c.y-2013)%400);\n\tc.y-=400*((c.y-2013)%400);\n\tret+=c.d-1; c.d=1;\n\twhile(c.m>1){\n\t\tc.m--;\n\t\tret+=D[c.m];\n\t\tif(c.m==2&&c.y%4==0&&(c.y%100!=0||c.y%400==0))ret++;\n\t}\n\twhile(c.y>2013){\n\t\tc.y--;\n\t\tret+=365;\n\t\tif(c.y%4==0&&(c.y%100!=0||c.y%400==0))ret++;\n\t}\n\n\treturn ret+11;\n}\n\nC NtoC(long long n){\n\tC c;\n\tc.y=2012; c.m=12; c.d=21;\n\tif(n<11){ c.d+=n; return c; }\n\tc.y=2013; c.m=1; c.d=1; n-=11;\n\n\twhile(n>=365*400+97){\n\t\tn-=365*400+97;\n\t\tc.y+=400;\n\t}\n\twhile(n>=365){\n\t\tif(c.y%4==0&&(c.y%100!=0||c.y%400==0)){\n\t\t\tif(n>=366){\n\t\t\t\tc.y++;\n\t\t\t\tn-=366;\n\t\t\t}\n\t\t\telse break;\n\t\t}\n\t\telse {\n\t\t\tc.y++;\n\t\t\tn-=365;\n\t\t}\n\t}\n\tif(c.y%4==0&&(c.y%100!=0||c.y%400==0)){\n\t\tD[2]++;\n\t\twhile(n>=D[c.m]){\n\t\t\tn-=D[c.m];\n\t\t\tc.m++;\n\t\t}\n\t\tc.d+=n;\n\t\tD[2]--;\n\t}\n\telse {\n\t\twhile(n>=D[c.m]){\n\t\t\tn-=D[c.m];\n\t\t\tc.m++;\n\t\t}\n\t\tc.d+=n;\n\t}\n\n\treturn c;\n}\n\nint main(){\n\tstring s;\n\twhile(1){\n\t\tcin>>s;\n\t\tif(s==\"#\")break;\n\n\t\tlong long t=0;\n\t\tlong long a[6]={0};\n\t\tfor(long long i=0;i<s.size();i++){\n\t\t\tif(s[i]=='.')t++;\n\t\t\telse {\n\t\t\t\ta[t]*=10;\n\t\t\t\ta[t]+=s[i]-48;\n\t\t\t}\n\t\t}\n\n\t\tM m;\n\t\tC c;\n\t\tif(t==4){\n\t\t\tm.b=a[0];\n\t\t\tm.ka=a[1];\n\t\t\tm.t=a[2];\n\t\t\tm.w=a[3];\n\t\t\tm.ki=a[4];\n\t\t\tlong long n=MtoN(m);\n\t\t\tc=NtoC(n);\n\t\t\n\t\t\tprintf(\"%d.%d.%d\\n\",c.y,c.m,c.d);\n\t\t}\n\t\telse {\n\t\t\tc.y=a[0];\n\t\t\tc.m=a[1];\n\t\t\tc.d=a[2];\n\t\t\tlong long n=CtoN(c);\n\t\t\tm=NtoM(n);\n\n\t\t\tprintf(\"%d.%d.%d.%d.%d\\n\",m.b,m.ka,m.t,m.w,m.ki);\n\t\t}\n\t}\n}\t\t"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<cstring>\n#define FIRST 735224;\nusing namespace std;\nbool URUDOSHI[10000001];\nvoid YEAR(){\n  for(int i=0;i < 10000001;i++){\n    if(i % 400 == 0 || (i % 100 != 0 && i % 4 == 0)){\n      URUDOSHI[i] = true;\n    } else {\n      URUDOSHI[i] = false;\n    }\n  }\n}\nint main(){\n  YEAR();\n  long long a,b,c,d,e,cnt,day;\n  char str[111];\n  while(1){\n    cnt = 0;\n    cin >> str;\n    if(strcmp(str,\"#\")==0) break;\n    for(int i=0,l=strlen(str);i<l;i++){\n      if(str[i] == '.')cnt++;\n    }\n    if(cnt == 2){\n      sscanf(str,\"%lld.%lld.%lld\",&a,&b,&c);\n      day = -FIRST;\n      for(int i=0;i<a;i++)\n\tday += (URUDOSHI[i]==true ? 366 : 365);\n      day %= 1872000;\n      for(int i=1;i<b;i++){\n\tif(i==4||i==6||i==9||i==11)day+=30;\n\telse if(i==2){\n\t  if(URUDOSHI[a]==true) day+=29;\n\t  else day+=28;\n\t}else day+=31;\n      }\n      day+=c;\n      day %= 1872000;\n      cout << day/144000 << \".\" << day%144000/7200 << \".\" <<\n\tday%7200/360 << \".\" << day%360/20 << \".\" << day%20 << endl; \n    }else{\n      sscanf(str,\"%lld.%lld.%lld.%lld.%lld\",&a,&b,&c,&d,&e);\n      day = a * 144000 + b * 7200 + c * 360 + d * 20 + e;\n      day += FIRST;\n      long long y=0,m=1,dday;\n      for(dday=0;dday<day;y++){\n\tdday += (URUDOSHI[y]==true ? 366 : 365);\n      }\n      y--;\n      day = (URUDOSHI[y]==true ? 366:365) + (day - dday);\n      for(dday=0;dday<day;m++){\n\tif(m==4||m==6||m==9||m==11)dday+=30;\n\telse if(m==2){\n\t  if(URUDOSHI[y]==true) dday+=29;\n\t  else dday+=28;\n\t}else dday+=31;\n      }\n      m--;\n      day = ((m==4||m==6||m==9||m==11)?30:\n\t     (m==2?(URUDOSHI[y]==true?29:28):31))+(day-dday);\n      cout << y << \".\" << m << \".\" << day << endl;\n    }\n  }\n}\n    "
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<cstring>\n\nusing namespace std;\n\n#define int unsigned long long\n#define loop(i, a, b) for(int i = a; i < b; i++)\n#define rep(i, a) loop(i, 0, a)\n\n\nbool leap[10000000] = {};\nvoid Leap_year(void);\nvoid to_maya(int y, int m, int d);\nvoid to_sei(int b, int ka, int t, int w, int ki);\nint leap_count(int base, int y);\n\nsigned main()\n{\n  char date[16];\n  Leap_year();\n  while(cin >> date) {\n    int a[5] = {};\n    int cnt = sscanf(date, \"%llu.%llu.%llu.%llu.%llu\", &a[0], &a[1], &a[2], &a[3], &a[4]);\n    \n    if(cnt == 3) to_maya(a[0], a[1], a[2]);\n    else if(cnt == 5) to_sei(a[0], a[1], a[2], a[3], a[4]);\n    else if(date[0] == '#') break;\n  }\n}\n\nvoid Leap_year()\n{\n  loop(i, 2013, 10000001) {\n    leap[i] = false;\n    if(i % 4 == 0) {\n      if(i % 100 != 0) leap[i] = true;\n      else if(i % 400 == 0) leap[i] = true;\n    }\n  }\n}\n\nint leap_count(int base,  int y)\n{\n  int cnt = 0;\n  loop(i, base, y + 1) {\n    if (leap[i] == true) cnt++;\n  }\n  return cnt;\n}\n\n\nvoid to_maya(int y, int m, int d)\n{\n  long long days = 0;\n  long long leap_n = leap_count(2013, y);\n  \n  if( y != 2012 ) {\n    days += ( y - 2013 ) * 365 + leap_n + 10;\n    loop(i, 1, m) {\n      if(i == 1 || i == 3 || i == 5 || i == 7 || i == 8 || i == 10 || i == 12)\n\tdays += 31;\n      if(i == 4 || i == 6 || i == 9 || i == 11)\n\tdays += 30;\n      if(i == 2) {\n\tdays += 28;\n\tif(leap[y] == true) {\n\t  days++;\n\t}\n      }\n    }\n    days += d;\n    if(leap[y] == true) days--;\n  }\n  else days += (d - 21);\n  \n  days -=  days / (13 * 20 * 18 * 20 * 20) * (13 * 20 * 18 * 20 * 20);\n  int b  = days / (20 * 18 * 20 * 20); days -= b * 20 * 20 * 18 * 20;\n  int ka = days / (20 * 18 * 20);      days -= ka * 20 * 18 * 20;\n  int t  = days / (20 * 18);           days -= t * 18 * 20;\n  int w  = days / 20;                  days -= w * 20;\n  int ki = days;                       days -= ki;\n  \n  printf(\"%llu.%llu.%llu.%llu.%llu\\n\", b, ka, t, w, ki);\n}\n\nvoid to_sei(int b, int ka, int t, int w, int ki)\n{\n  long long days = 0;\n  long long y = 2013;\n  int m = 1, d = 1, until;\n  \n  days += b * 20 * 18 * 20 * 20 + ka * 20 * 18 * 20 + t * 20 * 18 + w * 20 + ki;\n  if(days > 10) {\n    days -= 10;\n    while(1) {\n      if(leap[y] == true) {\n\tif(days - 366 >= 0) days -= 366;\n\telse break;\n      }\n      else if(days - 365 >= 0) days -= 365;\n      else break;\n      y++;\n    }\n\n    while(1) {\n      d = 1;\n      if(m == 1 || m == 3 || m == 5 || m == 7 || m == 8 || m == 10 || m == 12)  until = 31;\n      else if(m == 4 || m == 6 || m == 9 || m == 11)  until = 30;\n      else {\n\tuntil = 28;\n\tif (leap[y] == true)  until = 29;\n      }\n      if(days > until)  days -= until;\n      \n      else {\n\tfor(d = 1 ; d < until + 1; d++) {\n\t  days--;\n\t  if(days == 0) break;\n\t}\n      }\n      if(days == 0) break;\n      m++;\n    }\n    printf(\"%llu.%llu.%llu\\n\", y, m, d);\n  }\n  else {\n    printf(\"2012.12.%lld\\n\", days + 21);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nstruct S{ll y,m,d;};\nstruct Ma{ll b,ka,t,w,ki;};\n\n//12,1,2,3...11\nint M[]={31,28,31,30,31,30,31,31,30,31,30,31};\n\nbool check(ll y){return (y%4==0&&(y%100!=0||y%400==0));}\n\nS M2S(ll b,ll ka,ll t,ll w,ll ki){\n  ka+=b*20;\n  t+=ka*20;\n  w+=t*18;\n  ki+=w*20;\n  S res;\n  res.y=2012,res.m=12,res.d=21+ki;\n  if(res.d<=31) return res;\n  \n  while(res.d/(365+check(res.y+1)))res.y++,res.d-=(365+check(res.y));\n  assert(res.d!=0);\n  if(res.d<=31) return res;\n  res.y++,res.m=1,res.d-=31;\n  while(res.d/(M[res.m-1]+(check(res.y)&&res.m==2))){\n    res.d-=(M[res.m-1]+(check(res.y)&&res.m==2));\n    res.m++;\n  }\n  if(res.d==0) res.m--,res.d=M[res.m-1]+(check(res.y)&&res.m==2);\n  return res;\n}\n\nMa S2M(ll y,ll m,ll d){\n  y-=2012;\n  if(y) d+=10; \n  else d=(d-21);\n  \n  for(int i=0;i<m-1&&y;i++) d+=(M[i]+(i==1&&check(y+2012)));\n  y--;\n  while(y>0)d+=(365+check(y+2012)),y--;\n\n  Ma res;\n  d%=13*20*20*18*20;\n  res.ki=d;\n  res.w =res.ki/20; res.ki%=20;\n  res.t =res.w/18;  res.w %=18;\n  res.ka=res.t/20;  res.t %=20;\n  res.b =res.ka/20; res.ka%=20;\n  return res;\n}\n\n\nint main(){\n  while(1){\n    string str;\n    cin>>str;\n    if(str==\"#\")break;\n    vector <int> a;\n    int i=0,num=0;\n    while(str[i]){\n      if(str[i]=='.')a.push_back(num),num=0;\n      else num=num*10+str[i]-'0';\n      i++;\n    }\n    a.push_back(num);\n    \n    if(a.size()==5){\n      S ans=M2S(a[0],a[1],a[2],a[3],a[4]);\n      cout << ans.y<<\".\"<<ans.m<<\".\"<<ans.d<<endl;\n    }\n    else {\n      Ma ans=S2M(a[0],a[1],a[2]);\n      cout<<ans.b<<\".\"<<ans.ka<<\".\"<<ans.t<<\".\"<<ans.w<<\".\"<<ans.ki<<endl;\n    }\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define int long long\n#define rep(i,n)for(int i=0;i<(n);i++)\nusing namespace std;\n\nint base;\nint tod(int b,int ka,int t,int w,int ki){\n\tka+=b*20;t+=ka*20;w+=18*t;ki+=20*w;\n\treturn base+ki;\n}\nbool is_uruu(int y){\n\treturn y%4==0&&(y%100!=0||y%400==0);\n}\nint mn[]{31,28,31,30,31,30,31,31,30,31,30,31};\nint calc(int y,int m,int d){\n\tint res=0;\n\tfor(int i=1;i<y;i++){\n\t\tres+=365;if(is_uruu(i))res++;\n\t}\n\tfor(int i=1;i<m;i++){\n\t\tres+=mn[i-1];if(is_uruu(y)&&i==2)res++;\n\t}\n\treturn res+d;\n}\nint tod(int y,int m,int d){\n\treturn calc(y,m,d)-base;\n}\nvoid tom(int day){\n\tint b,ka,t,w,ki;\n\tki=day%20;day/=20;\n\tw=day%18;day/=18;\n\tt=day%20;day/=20;\n\tka=day%20;day/=20;\n\tb=day%13;\n\tprintf(\"%lld.%lld.%lld.%lld.%lld\\n\",b,ka,t,w,ki);\n}\nvoid tos(int day){\n\tint y,m;\n\tfor(y=1;365+is_uruu(y)<day;y++)day-=365+is_uruu(y);\n\tfor(m=1;mn[m-1]+(m==2&&is_uruu(y))<day;m++)day-=mn[m-1]+(m==2&&is_uruu(y));\n\tprintf(\"%lld.%lld.%lld\\n\",y,m,day);\n}\nsigned main() {\n\tbase=calc(2012,12,21);\n\tstring s;\n\twhile(cin>>s,s!=\"#\"){\n\t\tif(count(s.begin(),s.end(),'.')==2){\n\t\t\tint a=s.find('.');\n\t\t\tint y=stoi(s.substr(0,a));\n\t\t\tint b=s.find('.',a+1);\n\t\t\tint m=stoi(s.substr(a+1,b-a));\n\t\t\tint d=stoi(s.substr(b+1));\n\t\t\ttom(tod(y,m,d));\n\t\t}\n\t\telse{\n\t\t\tint a=s.find('.');\n\t\t\tint ba=stoi(s.substr(0,a));\n\t\t\tint b=s.find('.',a+1);\n\t\t\tint ka=stoi(s.substr(a+1,b-a));\n\t\t\tint c=s.find('.',b+1);\n\t\t\tint t=stoi(s.substr(b+1,c-b));\n\t\t\tint d=s.find('.',c+1);\n\t\t\tint w=stoi(s.substr(c+1,d-c));\n\t\t\tint ki=stoi(s.substr(d+1));\n\t\t\ttos(tod(ba,ka,t,w,ki));\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<string.h>\n#include<math.h>\nint main(void)\n{\n\tint a,s,d[6],g,h,i,j,c[6],q,w,v,aa;\n\tlong long int f;\n\tint z[13]={31,28,31,30,31,30,31,31,30,31,30,31};\n\tchar x[15];\n\twhile(1){\n\t\tscanf(\"%s\",x);\n\t\tif(x[0]=='#') break;\n\t\ta=0;\n\t\ts=0;\n\t\tf=10;\n\t\tq=365;\n\t\tfor(i=0;i<strlen(x);i++) if(x[i]=='.') a++;\n\t\tfor(i=0;i<5;i++){\n\t\t\td[i]=0;\n\t\t\tc[i]=0;\n\t\t}\n\t\tif(a==2){\n\t\t\tfor(i=0;i<strlen(x);i++){\n\t\t\t\tif(x[i]=='.') s++;\n\t\t\t\telse{\n\t\t\t\t\td[s]*=10;\n\t\t\t\t\td[s]+=x[i]-'0';\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(d[0]==2012) printf(\"0.0.0.0.%d\\n\",d[2]-21);\n\t\t\telse{\n\t\t\t\tf=10;\n\t\t\t\tg=d[0];\n\t\t\t\tif(d[1]>2)\tg++;\n\t\t\t\tfor(i=2013;i<d[0];i++)\tf+=365;\n\t\t\t\tfor(i=2013;i<g;i++) if(i%4==0&&i%100!=0||i%400==0) f+=1;\n\t\t\t\tfor(i=0;i<d[1]-1;i++) f+=z[i];\n\t\t\t\tf+=d[2];\n\t\t\t\tc[0]=f%20;\n\t\t\t\tc[1]=f/20;\n\t\t\t\tc[2]=c[1]/18;\n\t\t\t\tc[1]=c[1]%18;\n\t\t\t\tc[3]=c[2]/20;\n\t\t\t\tc[2]=c[2]%20;\n\t\t\t\tc[4]=c[3]/20;\n\t\t\t\tc[3]=c[3]%20;\n\t\t\t\tc[4]%=13;\n\t\t\t\tfor(i=4;i>=0;i--){\n\t\t\t\t\tprintf(\"%d\",c[i]);\n\t\t\t\t\tif(i!=0) printf(\".\");\n\t\t\t\t}\n\t\t\t\t printf(\"\\n\");\n\t\t\t}\n\t\t}\n\t\tif(a==4){\n\t\t\tfor(i=0;i<strlen(x);i++){\n\t\t\t\tif(x[i]=='.') s++;\n\t\t\t\telse{\n\t\t\t\t\td[s]*=10;\n\t\t\t\t\td[s]+=x[i]-'0';\n\t\t\t\t}\n\t\t\t}\n\t\t\tf=d[4];\n\t\t\tf+=d[3]*20;\n\t\t\tf+=d[2]*20*18;\n\t\t\tf+=d[1]*20*18*20;\n\t\t\tf+=d[0]*20*18*20*20;\n\t\t\tif(f<=10) printf(\"2012.12.%d\\n\",21+f);\n\t\t\telse{\n\t\t\t\tf-=10;\n\t\t\t\tc[0]=1;\n\t\t\t\twhile(1){\n\t\t\t\t\tif((2012+c[0])%4==0&&(2012+c[0])%100!=0||(2012+c[0])%400==0) q=366;\n\t\t\t\t\telse q=365;\n\t\t\t\t\tif(f<q) break;\n\t\t\t\t\tf-=q;\n\t\t\t\t\tc[0]++;\n\t\t\t\t}\n\t\t\t\tc[0]+=2012;\n\t\t\t\tfor(i=0;i<12;i++){\n\t\t\t\t\taa=z[i];\n\t\t\t\t\tif(q==366&&i==1) aa+=1;\n\t\t\t\t\tif(f<=aa) break;\n\t\t\t\t\tf-=aa;\n\t\t\t\t\tif(q==366&&i==1) f-=1;\n\t\t\t\t\tc[1]=i+1;\n\t\t\t\t}\n\t\t\t\tc[1]+=1;\n\t\t\t\tc[2]=f;\n\t\t\t\tfor(i=0;i<3;i++){\n\t\t\t\t\tprintf(\"%d\",c[i]);\n\t\t\t\t\tif(i!=2) printf(\".\");\n\t\t\t\t}\n\t\t\t\tprintf(\"\\n\");\n\t\t\t}\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string.h>\n#include<stdlib.h>\nusing namespace std;\nlong long n[5];\nvoid seireki(void){\n\tlong long tuki[13]={0,31,28,31,30,31,30,31,31,30,31,30,31};\n\tlong long p=31+29+31+30+31+30+31+31+30+31+30;\n\tlong long kin=0;\n\tlong long ans[6]={0};\n\tint  i,j;\n\tfor(i=n[0]-1;i>=2012;i--){\n\t\tif(i%4==0&&i%100!=0||i%4==0&&i%400==0){\n\t\t\tkin+=366;\n\t\t}\n\t\telse{\n\t\t\tkin+=365;\n\t\t}\n\t}\n\tfor(i=n[1]-1;i>=1;i--){\n\t\tkin+=tuki[i];\n\t}\n\tif(n[0]%4==0&&n[0]%100!=0||n[0]%4==0&&n[0]%400==0){\n\t\tif(n[1]>=3){\n\t\t\tkin++;\n\t\t}\n\t}\n\tkin+=n[2];\n\tkin-=21;\n\tkin-=p;\n\tkin%=1872000;\n\tans[0]=kin/144000;\n\t//ans[0]%=13;\n\tkin%=144000;\n\tans[1]=kin/7200;\n\tkin%=7200;\n\tans[2]=kin/360;\n\tkin%=360;\n\t//cout<<kin<<endl;\n\tans[3]=kin/20;\n\tans[4]=kin%20;\n\tfor(i=0;i<5;i++){\n\t\tcout<<ans[i];\n\t\tif(i<4){\n\t\t\tcout<<\".\";\n\t\t}\n\t\telse{\n\t\t\tcout<<endl;\n\t\t}\n\t}\n}\nvoid maya(void){\n}\nint main(){\n\tchar koyomi[50];\n\tint i;\n\tcin>>koyomi;\n\tn[0]=atoi(strtok(koyomi,\".\"));\n\tfor(i=1;i<5;i++){\n\t\tn[i]=atoi(strtok(NULL,\".\"));\n\t}\n\t/*for(i=0;i<5;i++){\n\t\tcout<<a[i]<<endl;\n\t}*/\n\tif(n[0]>=2012){\n\t\tseireki();\n\t}\n\telse{\n\t\tmaya();\n\t}\n\treturn 0;\n}\n\t"
  },
  {
    "language": "C++",
    "code": "\n\n#include <bits/stdc++.h>\nusing namespace std;\n\n#define in ,\n#define esc_paren(...) __VA_ARGS__\n#define pp_empty(...)\n#define pp_cat_i(x, y) x ## y\n#define pp_cat(x, y) pp_cat_i(x, y)\n\n#define pp_inc0 1\n#define pp_inc1 2\n#define pp_inc2 3\n#define pp_inc3 4\n#define pp_inc4 5\n#define pp_inc5 6\n#define pp_inc6 7\n#define pp_inc7 8\n#define pp_inc8 9\n#define pp_inc(i) pp_cat(pp_inc, i)\n\n#define pp_arg10(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, ...) _9\n#define pp_has_comma(...) pp_arg10(__VA_ARGS__, 1, 1, 1, 1, 1, 1, 1, 1, 0)\n#define pp_trigger_paren(...) ,\n#define pp_is_empty(...) \\\n  pp_is_empty1( \\\n      pp_has_comma(__VA_ARGS__), \\\n      pp_has_comma(pp_trigger_paren __VA_ARGS__), \\\n      pp_has_comma(__VA_ARGS__()), \\\n      pp_has_comma(pp_trigger_paren __VA_ARGS__()) \\\n      ) \n#define pp_paste5(_0, _1, _2, _3, _4) _0 ## _1 ## _2 ## _3 ## _4\n#define pp_is_empty1(_0, _1, _2, _3) pp_has_comma(pp_paste5(pp_is_empty_case_, _0, _1, _2, _3))\n#define pp_is_empty_case_0001 ,\n\n#define pp_is_one(...) pp_is_one_(__VA_ARGS__, pp_one_seq)\n#define pp_is_one_(...) pp_is_one_n(__VA_ARGS__)\n#define pp_is_one_n(_1,_2,_3,_4,_5,_6,_7,_8,_9,_10, N, ...) N\n#define pp_one_seq 0,0,0,0,0,0,0,0,0,1,0\n\n#define pp_narg(...) \\\n         pp_narg_(__VA_ARGS__, pp_narg_seq)\n#define pp_narg_(...) \\\n         pp_narg_n(__VA_ARGS__)\n#define pp_narg_n( \\\n          _1, _2, _3, _4, _5, _6, _7, _8, _9,_10, \\\n         _11,_12,_13,_14,_15,_16,_17,_18,_19,_20, \\\n         _21,_22,_23,_24,_25,_26,_27,_28,_29,_30, \\\n         _31,_32,_33,_34,_35,_36,_37,_38,_39,_40, \\\n         _41,_42,_43,_44,_45,_46,_47,_48,_49,_50, \\\n         _51,_52,_53,_54,_55,_56,_57,_58,_59,_60, \\\n         _61,_62,_63,n,...) n\n#define pp_narg_seq \\\n         63,62,61,60, \\\n         59,58,57,56,55,54,53,52,51,50, \\\n         49,48,47,46,45,44,43,42,41,40, \\\n         39,38,37,36,35,34,33,32,31,30, \\\n         29,28,27,26,25,24,23,22,21,20, \\\n         19,18,17,16,15,14,13,12,11,10, \\\n          9, 8, 7, 6, 5, 4, 3, 2, 1, 0\n\n#define pp_if_0(x, y) y\n#define pp_if_1(x, y) x\n#define pp_if(cond, x, y) pp_cat(pp_if_, cond)(x, y)\n\n#define pp_foreach_i9(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i8(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i7(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i6(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i5(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i4(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i3(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i2(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i1(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i0(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i(i, f, ...) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach(f, ...) pp_foreach_i(0, f, __VA_ARGS__)\n\n\ntypedef long long ll;\n#define down_queue(x) priority_queue<x>\n#define up_queue(x) priority_queue<x, vector<x>, greater<x>>\n#define all(x) x.begin(), x.end()\n#define split_str(str, sp_word) istringstream stream(str); string res; for(int cnt = 0; getline(stream,res,sp_word); cnt++)\n#define digit(x) ((int)log10((double)(x)) + 1)\n#define mp(x,y) make_pair(x,y)\n#define pb(x) push_back(x)\n#define pf(x) push_front(x)\n#define vec_cpy(to,from) copy(all(to),back_inserter(from))\n#define ary_cpy(to,from) memcpy(to, from, sizeof(from))\n#define MOD 1000000007\n#define INF 999999999\n\n\n#define rep(...) rep1(rep2, (__VA_ARGS__))\n#define rep1(X, A) X A\n#define rep2(i, ...) pp_if(pp_is_one(__VA_ARGS__), rep_len1(i, __VA_ARGS__), rep3(i, __VA_ARGS__))\n#define rep_len1(i, end, ...) for (int i = 0; i < end; i++)\n#define rep3(i, iter, ...) rep4(rep5, (iter, i, esc_paren __VA_ARGS__))\n#define rep4(X, A) X A\n#define rep5(iter, ...) iter(__VA_ARGS__)\n\n#define up up_iter ,\n#define up_iter3(i, start, end) for (int i = start; i < end; i++)\n#define up_iter4(i, start, end, up) for (int i = start; i < end; i += up)\n#define up_iter(...) pp_cat(up_iter, pp_narg(__VA_ARGS__))(__VA_ARGS__)\n#define down down_iter ,\n#define down_iter2(i, end) for(int i = end-1; i >= 0; i--)\n#define down_iter3(i, start, end) for (int i = end-1; i >= start; i--)\n#define down_iter4(i, start, end, down) for (int i = end-1; i >= start; i -= down)\n#define down_iter(...) pp_cat(down_iter, pp_narg(__VA_ARGS__))(__VA_ARGS__)\n#define viter viter_iter ,\n#define viter_iter(i, v) auto tmpitr=v.begin(); for (auto i=*tmpitr; tmpitr != v.end(); tmpitr++)\n\n\n#define pp_init2(cnt, body) struct _InitStruct ## cnt { _InitStruct ## cnt() { body } } _initstruct ## cnt;\n#define pp_init1(f, cnt, body) f(cnt, body)\n#define pp_init(body) pp_init1(pp_init2, __COUNTER__, body)\n\n#define init_array(arr, N, val) pp_init(rep (i in N) { arr[i] = val; })\n#define iota_array(arr, N, start) pp_init(rep (i in N) { arr[i] = start + i; })\n\n\n#define debug_var_elem(v) << #v << \"=\" << v << \" \"\n#ifdef DEBUG\n#define debug_echo(e) cout << \"L\" << __LINE__ << \": \" << e << endl\n#define debug_var(...) cout << \"L\" << __LINE__ << \": \" pp_foreach(debug_var_elem, __VA_ARGS__) << endl\n#else\n#define debug_echo(e)\n#define debug_var(...)\n#endif\n\n\n#define pp_gen_field(list) pp_gen_field1 list\n#define pp_gen_field1(name, val) decltype(val) name;\n#define pp_gen_init(list) pp_gen_init1 list\n#define pp_gen_init1(name, val) ,val\n#define pp_gen_find_set_wrap(ufnodename) ufnodename pp_gen_find_set\n#define pp_gen_find_set(list) pp_gen_find_set1 list\n#define pp_gen_find_set1(name, val) \\\n  find_set_ ## name(int x, decltype(val) v) { \\\n    if (nodes[x].parent == x) { \\\n      nodes[x].name = v; \\\n      return nodes[x]; \\\n    } else { \\\n      return nodes[x] = find_set_ ## name(nodes[x].parent, v); \\\n    } \\\n  }\n#define pp_gen_unite_set(list) pp_gen_unite_set1 list\n#define pp_gen_unite_set1(name, val) \\\n  if (nodes[x].name == val) { \\\n    find_set_ ## name(x, find(y).name); \\\n  } \\\n  if (nodes[y].name == val) { \\\n    find_set_ ## name(y, find(x).name); \\\n  }\n\n#define def_unionfind(ufname, ufnodename, ...) \\\n  struct ufnodename { \\\n    int parent; \\\n    pp_foreach(pp_gen_field, __VA_ARGS__) \\\n  }; \\\n  struct ufname { \\\n    vector<ufnodename> nodes; \\\n    vector<int> rank; \\\n    ufname(int n) : nodes(n+1), rank(n+1) { \\\n      rep (i in n) { \\\n        nodes[i] = ufnodename{i pp_foreach(pp_gen_init, __VA_ARGS__)}; \\\n        rank[i] = 0; \\\n      } \\\n    } \\\n    ufnodename find(int x) { \\\n      if (nodes[x].parent == x) { \\\n        return nodes[x]; \\\n      } else { \\\n        return nodes[x] = find(nodes[x].parent); \\\n      } \\\n    } \\\n    pp_foreach(pp_gen_find_set_wrap(ufnodename), __VA_ARGS__) \\\n    void unite(int x, int y) { \\\n      x = find(x).parent; \\\n      y = find(y).parent; \\\n      if (x == y) return; \\\n      if (rank[x] < rank[y]) { \\\n        pp_foreach(pp_gen_unite_set, __VA_ARGS__); \\\n        nodes[x].parent = y; \\\n      } else { \\\n        pp_foreach(pp_gen_unite_set, __VA_ARGS__); \\\n        nodes[y].parent = x; \\\n        if (rank[x] == rank[y]) rank[x]++; \\\n      } \\\n    } \\\n    bool same(int x, int y) { \\\n      return find(x).parent == find(y).parent; \\\n    } \\\n  }\n\n\nll gcd(ll a,ll b){while(b){ll tmp = a % b;a = b;b = tmp;}return a;}\nll lcm(ll a,ll b){return a / gcd(a,b) * b;}\n\n#define def_varargs(name, f) \\\n  template<typename First> \\\n  inline First name(First first) { return first; } \\\n  template<typename First, typename... Rest> \\\n  inline First name(First first, Rest... rest) { return f(first, name(rest...)); }\n\nvector<string> split(const string &s, char delim) {\n    vector<string> elems;\n    string item;\n    for (char ch: s) {\n        if (ch == delim) {\n            if (!item.empty())\n                elems.push_back(item);\n            item.clear();\n        }\n        else {\n            item += ch;\n        }\n    }\n    if (!item.empty())\n        elems.push_back(item);\n    return elems;\n}\n\n#define KIN 1\n#define WINAL (KIN*20)\n#define TON (WINAL*18)\n#define KATON (TON*20)\n#define BAKTON (KATON*20)\n\nbool is_uruu(ll year) {\n  return year % 4 == 0 && (year % 100 != 0 || year % 400 == 0);\n}\n\npair<ll, bool> calc_year(ll& allday) {\n  ll cnt = 2012;\n  while (true) {\n    ll sub;\n    if (is_uruu(cnt+1)) {\n      sub = 366;\n    } else {\n      sub = 365;\n    }\n    if (allday - sub < 0) {\n      break;\n    }\n    allday -= sub;\n    cnt++;\n  }\n  return mp(cnt, is_uruu(cnt+1));\n}\npair<ll, ll> calc_month(ll& allday, ll& year, bool uruu) {\n  ll cnt = 12;\n  ll day = 31;\n  while (true) {\n    ll sub;\n    if (cnt == 2) {\n      sub = uruu ? 29 : 28;\n    } else if (cnt == 4 || cnt == 6 || cnt == 9 || cnt == 11) {\n      sub = 30;\n    } else {\n      sub = 31;\n    }\n    day = sub;\n    if (allday - sub < 0) {\n      break;\n    }\n    allday -= sub;\n    cnt++;\n    if (cnt > 12) {\n      year++;\n      cnt = 1;\n    }\n  }\n  return mp(cnt, day);\n}\nll calc_day(ll& allday, ll& month, ll& day) {\n  if (21 + allday > day) {\n    month++;\n    return 21 + allday - day;\n  } else {\n    return allday+21;\n  }\n}\n\nll year_to_day(ll year) {\n  ll cnt = 0;\n  rep (i in year-2012) {\n    if (is_uruu(i+2012+1)) {\n      cnt += 366;\n    } else {\n      cnt += 365;\n    }\n  }\n  return cnt;\n}\nll month_to_day(ll month, ll& year) {\n  int cnt = 0;\n  if (month==12) {\n    return is_uruu(year+1) ? -1 : 0;\n  }\n  year--;\n  rep (i in up(1, month+1)) {\n    if (i == 2) {\n      cnt += is_uruu(year+1) ? 29 : 28;\n    } else if (i == 4 || i == 6 || i == 9 || i == 11) {\n      cnt += 30;\n    } else {\n      cnt += 31;\n    }\n  }\n  return cnt;\n}\n\nint main() {\n  string s;\n  while (cin >> s && s[0] != '#') {\n    vector<string> elems = split(s, '.');\n    vector<int> maya;\n    for (auto e : elems) {\n      maya.pb(stoi(e));\n    }\n    if (elems.size() == 5) {\n      ll allday = maya[0]*BAKTON + maya[1]*KATON + maya[2]*TON + maya[3]*WINAL + maya[4]*KIN;\n      auto year = calc_year(allday);\n      auto month = calc_month(allday, year.first, year.second);\n      auto day = calc_day(allday, month.first, month.second);\n      if (month.first > 12) {\n        month.first -= 12;\n        year.first++;\n      }\n      cout << year.first << \".\" << month.first << \".\" << day << endl;\n    } else {\n      ll y = maya[0];\n      ll month = month_to_day(maya[1], y);\n      ll day = maya[2] - 21;\n      ll year = year_to_day(y);\n      ll allday = year + month + day;\n      allday %= BAKTON * 13;\n      ll b = allday / BAKTON; allday %= BAKTON;\n      ll ka = allday / KATON; allday %= KATON;\n      ll t = allday / TON; allday %= TON;\n      ll w = allday / WINAL; allday %= WINAL;\n      ll ki = allday / KIN; allday %= KIN;\n      cout << b << \".\" << ka << \".\" << t << \".\" << w << \".\" << ki << endl;\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\nconst int INF = 1e9;\nconst ll LINF = 1e18;\ntemplate<class S,class T> ostream& operator << (ostream& out,const pair<S,T>& o){ out << \"(\" << o.first << \",\" << o.second << \")\"; return out; }\ntemplate<class T> ostream& operator << (ostream& out,const vector<T> V){ for(int i = 0; i < V.size(); i++){ out << V[i]; if(i!=V.size()-1) out << \" \";} return out; }\ntemplate<class T> ostream& operator << (ostream& out,const vector<vector<T> > Mat){ for(int i = 0; i < Mat.size(); i++) { if(i != 0) out << endl; out << Mat[i];} return out; }\ntemplate<class S,class T> ostream& operator << (ostream& out,const map<S,T> mp){ out << \"{ \"; for(auto it = mp.begin(); it != mp.end(); it++){ out << it->first << \":\" << it->second; if(mp.size()-1 != distance(mp.begin(),it)) out << \", \"; } out << \" }\"; return out; }\n\n/*\n <url:http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=0261>\n 問題文============================================================\n =================================================================\n 解説=============================================================\n ================================================================\n */\nint tuki[12] = {31,28,31,30,31,30,31,31,30,31,30,31};\nstring maya;\n\nll calcday1(ll y,ll m,ll d){\n    ll res = 0;\n    \n    res = (y-1)*365 + (y-1)/4 - (y-1)/100 +  (y-1)/400;\n    for(int i = 1; i < m;i++){\n        res += tuki[i-1];\n        if(i == 2){\n            if(y%4==0&&(y%100!=0||y%400==0)) res++;\n        }\n    }\n    res += d;\n    return res;\n}\nll calcday2(ll b,ll ka,ll t,ll w,ll ki){\n    ll res = 0;\n    res += 20*18*20*20*b + 20*18*20*ka + 20*18*t + 20*w + ki;\n    return res;\n}\nstring solve(){\n    string res;\n    if(count(maya.begin(),maya.end(),'.') == 2){\n        replace(maya.begin(),maya.end(),'.',' ');\n        stringstream ss;\n        ss << maya;\n        ll y,m,d; ss >> y >> m >> d;\n        \n        ll D = calcday1(y,m,d) - calcday1(2012,12,21);\n\n        ll b,ka,t,w,ki;\n        ki = D%20; D/=20;\n        w = D%18; D/=18;\n        t = D%20; D/=20;\n        ka = D%20; D/=20;\n        b = D%13;\n        res = to_string(b) + \".\" + to_string(ka) + \".\" + to_string(t) + \".\" + to_string(w) + \".\" + to_string(ki);\n    }else{\n        replace(maya.begin(),maya.end(),'.',' ');\n        stringstream ss;\n        ss << maya;\n        ll b,ka,t,w,ki; ss >> b >> ka >> t >> w >> ki;\n        ll D = calcday2(b,ka,t,w,ki) + calcday1(2012,12,21);\n        \n        ll y,m,d;\n        y = 1;\n        while(365 + (y%4==0&&(y%100!=0||y%400==0)) < D){\n            D -= 365;\n            D -= (y%4==0&&(y%100!=0||y%400==0));\n            y++;\n        }\n        m = 1;\n        while(tuki[m-1] + (m==2&&(y%4==0&&(y%100!=0||y%400==0))) < D){\n            D -= tuki[m-1];\n            D -= (m==2&&(y%4==0&&(y%100!=0||y%400==0)));\n            m++;\n        }\n        res = to_string(y) + \".\" + to_string(m) + \".\" + to_string(D);\n    }\n    return res;\n}\nint main(void) {\n    cin.tie(0); ios_base::sync_with_stdio(false);\n    while(cin >> maya){\n        if(maya == \"#\") break;\n        cout << solve() << endl;\n    }\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <fstream>\n#include <sstream>\n#include <iomanip> \n#include <complex> \n#include <string>\n#include <vector> \n#include <list>\n#include <deque> \n#include <stack> \n#include <queue> \n#include <set>\n#include <map>\n#include <bitset>\n#include <functional>\n#include <utility>\n#include <algorithm> \n#include <numeric> \n#include <typeinfo> \n#include <cstdio>\n#include <cstdlib> \n#include <cstring>\n#include <cmath>\n#include <climits> \n#include <ctime>\nusing namespace std;\n\ntypedef unsigned long long ull;\n\nstring str;\nvector<int> a;\null nd[12]={31,28,31,30,31,30,31,31,30,31,30,31};\null ud[12]={31,29,31,30,31,30,31,31,30,31,30,31};\n\nbool uruY(ull y){\n\tif(y%400==0)return true;\n\tif(y%100==0)return false;\n\tif(y%4==0)return true;\n}\n\n ull GetDays(ull y,ull m,ull d){\n\t// 1・2月 → 前年の13・14月\n\tif (m <= 2){\n\t\t--y;\n\t\tm += 12;\n\t}\n\tull dy = 365 * (y - 1); // 経過年数×365日\n\tull c = y / 100;\n\tull dl = (y >> 2) - c + (c >> 2); // うるう年分\n\tull dm = (m * 979 - 1033) >> 5; // 1月1日から m 月1日までの日数\n\treturn dy + dl + dm + d - 1;\n}\nint main(void){\n\tull now=GetDays(2012,12,21);\n\twhile(getline(cin,str)){\n\t\tif(str==\"#\")break;\n\t\tfor(int i=0;i<str.size();i++){\n\t\t\tif(str[i]=='.')str[i]=' ';\n\t\t}\n\t\tstringstream ss(str);\n\t\tint in;\n\t\ta.clear();\n\t\twhile(ss >> in){\n\t\t\ta.push_back(in);\n\t\t}\n\t\tif(a.size()==3){\n\t\t\tull next=GetDays(a[0],a[1],a[2]);\n\t\t\tnext-=now;\n\t\t\tnext=next%(13*20*20*18*20);\n\t\t\tull ki=next%20;\n\t\t\tnext=next/20;\n\t\t\tull w=next%18;\n\t\t\tnext=next/18;\n\t\t\tull t=next%20;\n\t\t\tnext=next/20;\n\t\t\tull ka=next%20;\n\t\t\tnext=next/20;\n\t\t\tull b=next%13;\n\t\t\tprintf(\"%d.%d.%d.%d.%d\\n\",b,ka,t,w,ki);\n\t\t}else{\n\t\t\tull maya=a[0]*(20*20*18*20);\n\t\t\tmaya+=a[1]*(20*18*20);\n\t\t\tmaya+=a[2]*(18*20);\n\t\t\tmaya+=a[3]*20;\n\t\t\tmaya+=a[4];\n\t\t\tmaya+=now;\n\t\t\tull y=2012,m=12,d=21;\n\t\t\twhile(GetDays(y,m,d)<maya)y+=400;\n\t\t\twhile(GetDays(y,m,d)>maya+365)y--;\n\t\t\tif(uruY(y)){\n\t\t\t\tfor(m=1;m<=12;m++){\n\t\t\t\t\tfor(d=1;d<=ud[m-1];d++){\n\t\t\t\t\t\tif(GetDays(y,m,d)==maya)break;\n\t\t\t\t\t}\n\t\t\t\t\tif(GetDays(y,m,d)==maya)break;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tfor(m=1;m<=12;m++){\n\t\t\t\t\tfor(d=1;d<=nd[m-1];d++){\n\t\t\t\t\t\tif(GetDays(y,m,d)==maya)break;\n\t\t\t\t\t}\n\t\t\t\t\tif(GetDays(y,m,d)==maya)break;\n\t\t\t\t}\n\t\t\t}\n\t\t\tprintf(\"%lld.%lld.%lld\\n\",y,m,d);\n\t\t}\n\t}\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <vector>\n#include <list>\n#include <cmath>\n#include <fstream>\n#include <algorithm>\n#include <string>\n#include <queue>\n#include <set>\n#include <map>\n#include <complex>\n#include <iterator>\n#include <cstdlib>\n#include <cstring>\n#include <sstream>\n#include <stack>\n#include <climits>\n#include <deque>\n#include <bitset>\n#include <cassert>\n#include <ctime>\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> pii;\nconst int dy[]={-1,0,1,0},dx[]={0,1,0,-1};\n// adjust problem by problem\nconst double EPS=1e-8;\nconst double PI=acos(-1.0);\n#ifdef __GNUC__\nint popcount(int n){return __builtin_popcount(n);}\nint popcount(ll n){return __builtin_popcountll(n);}\n#endif\n#ifndef __GNUC__\ntemplate<class T> int popcount(T n){int cnt=0;while(n){if(n%2)cnt++;n/=2;}return cnt;}\n#endif\ntemplate<class T>int SIZE(T a){return a.size();}\ntemplate<class T>string IntToString(T num){string res;stringstream ss;ss<<num;return ss.str();}\ntemplate<class T>T StringToInt(string str){T res=0;for(int i=0;i<SIZE(str);i++)res=(res*10+str[i]-'0');return res;}\ntemplate<class T>T gcd(T a,T b){if(b==0)return a;return gcd(b,a%b);}\ntemplate<class T>T lcm(T a,T b){return a/gcd(a,b)*b;}\ntemplate<class T> void PrintSeq(T &a,int sz){for(int i=0;i<sz;i++){cout<<a[i];if(sz==i+1)cout<<endl;else cout<<' ';}}\nbool EQ(double a,double b){return abs(a-b)<EPS;}\nvoid fastStream(){cin.tie(0);std::ios_base::sync_with_stdio(0);}\nvector<string> split(string str,char del){\n  vector<string> res;\n  for(int i=0,s=0;i<SIZE(str);i++){\n    if(str[i]==del){if(i-s!=0)res.push_back(str.substr(s,i-s));s=i+1;}\n    else if(i==SIZE(str)-1){res.push_back(str.substr(s));}\n  }\n  return res;\n}\n\nunsigned int sumd[10000011];\n\nconst int md[2][12]\n={{31,28,31,30,31,30,31,31,30,31,30,31}\n  ,{31,29,31,30,31,30,31,31,30,31,30,31}};\n\nbool isLeap(int y){\n  return y%4==0&&(y%100!=0||y%400==0);\n}\n\nint main(){\n\n  // テァツエツッテァツゥツ硬ay\n  for(int y=2013;y<=10000010;y++){\n    if(isLeap(y))sumd[y]=sumd[y-1]+366;\n    else sumd[y]=sumd[y-1]+365;\n  }\n\n  string str;\n  while(getline(cin,str)&&str!=\"#\"){\n    int dot=0;\n    for(int i=0;i<(int)str.size();i++){\n      if(str[i]=='.')dot++;\n    }\n    // s to m\n    if(dot==2){\n      vector<string> v=split(str,'.');\n      vector<int> vv;\n      for(int i=0;i<(int)v.size();i++)\n        vv.push_back(StringToInt<int>(v[i]));\n      ll pday=0;\n      // 2012,12.21テ」ツ?凝」ツつ嘉・ツ按敕」ツつ?」ツ?ヲテ、ツスツ陛ヲツ猟・テァツオツ古ゥツ?偲」ツ?療」ツ?淌」ツ?凝」ツつ津ィツィツ暗ァツョツ療」ツ??\n      // テ」ツ?敕」ツ?ョテ・ツ?、テ」ツつ津ァツ板ィテ」ツ??」ツ?ヲテ」ツδ榲」ツδ、テヲツ堋ヲテ」ツ?ォテ・ツ、ツ嘉ヲツ渉?\n      if(vv[0]==2012&&vv[1]==12)pday+=vv[2]-21;\n      else{\n        pday+=10;\n        pday+=sumd[vv[0]-1];\n        int c=isLeap(vv[0]);\n        for(int i=0;i<12;i++){\n          if(vv[1]==i+1){\n            pday+=vv[2];\n            break;\n          }\n          else{\n            pday+=md[c][i];\n          }\n        }\n      }\n      pday%=(ll)13*20*20*18*20;\n      // cout<<pday<<endl;\n      // pdayテ」ツつ津・ツ、ツ嘉ヲツ渉?\n      vector<int> res;\n      res.push_back(pday/(20*18*20*20));\n      pday%=(20*18*20*20);\n      res.push_back(pday/(20*18*20));\n      pday%=20*18*20;\n      res.push_back(pday/(20*18));\n      pday%=20*18;\n      res.push_back(pday/20);\n      pday%=20;\n      res.push_back(pday);\n      for(int i=0;i<(int)res.size();i++){\n        cout<<res[i];\n        if(i==(int)res.size()-1)cout<<endl;\n        else cout<<\".\";\n      }\n    }\n    // m to s\n    else{\n      vector<string> v=split(str,'.');\n      vector<int> vv;\n      for(int i=0;i<(int)v.size();i++)\n        vv.push_back(StringToInt<int>(v[i]));\n      ll sum=0;\n      sum=sum+vv[0];\n      sum=sum*20+vv[1];\n      sum=sum*20+vv[2];\n      sum=sum*18+vv[3];\n      sum=sum*20+vv[4];\n      // 2012,12,21テ」ツ?凝」ツつ嘉」ツ?ョテァツオツ古ゥツ?仕ayテ」ツつ痴umテ」ツ?ィテ」ツ?凖」ツつ?\n      if(sum<=10)cout<<2012<<\".\"<<12<<\".\"<<21+sum<<endl;\n      else{\n        sum-=10;\n        // テ」ツ?禿」ツ?禿」ツ?凝」ツつ嘉ァツエツッテァツゥツ酵earテ」ツつ津、ツスツソテ」ツ?」テ」ツ?ヲテ、ツコツ古・ツ按?ヲツ篠「テァツエツ「テ」ツ?ァテ」ツ??、ツスツ陛・ツケツエテ」ツ?セテ」ツ?ァテゥツ?イテ」ツつ?」ツつ凝」ツ?凝ィツェツソテ」ツ?ケテ」ツつ?\n        int ub=10000010;\n        int lb=2012;\n        while(ub-lb>1){\n          int mid=(ub+lb)/2;\n          if(sumd[mid]>=sum)ub=mid;\n          else lb=mid;\n        }\n        // ubテ・ツケツエテ」ツ?古」ツ??ィツカツ?」ツ?暗」ツつ凝ヲツ慊?・ツ按敕」ツ?ョテ・ツケツエテ」ツ?ェテ」ツ?ョテ」ツ?ァ\n        // ub-1テ・ツケツエテ」ツ?セテ」ツ?ァテ・ツケツエテ」ツつ津ゥツ?イテ」ツつ?」ツ?ヲテ」ツ?甘」ツ??\n        sum-=sumd[ub-1];\n        int resy=ub;\n        int c=isLeap(resy);\n        int resm,resd;\n        for(int i=0;i<12;i++){\n          if(sum<=md[c][i]){\n            resm=i+1;\n            resd=sum;\n            break;\n          }\n          else sum-=md[c][i];\n        }\n        cout<<resy<<\".\"<<resm<<\".\"<<resd<<endl;\n      }\n    }\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<algorithm>\n#include<iostream>\n#include<string>\n#include<vector>\n#include<cstdio>\n#define rep(i,a) for( int i = 0; i != (a); ++i )\n#define repd(i,a) for( int i = (a); i >= 0; --i )\n\nconst int units[4] = { 20, 18, 20, 20 }, cycle = 13*20*20*20*18;\n\ntypedef long long ll;\n\nbool isLeap( int y )\n{\n\treturn ( y % 4 == 0 && y % 100 ) || y % 400 == 0;\n}\n\nint dayOfMonth( int y, int m )\n{\n\tswitch( m )\n\t{\n\t\tcase 2:\n\t\t\tif( isLeap( y ) )\n\t\t\t\treturn 29;\n\t\t\telse\n\t\t\t\treturn 28;\n\t\tcase 4:\n\t\tcase 6:\n\t\tcase 9:\n\t\tcase 11:\n\t\t\treturn 30;\n\t\tdefault:\n\t\t\treturn 31;\n\t}\n}\n\n// y2/m2/d2 - y1/m1/d1\nll countD( int y1, int m1, int d1, int y2, int m2, int d2 )\n{\n\tll ret = 0;\n\twhile( true )\n\t{\n\t\tif( y1 == y2 && m1 == m2 )\n\t\t{\n\t\t\tret += d2-d1;\n\t\t\tbreak;\n\t\t}\n\t\telse if( y1 == y2 )\n\t\t{\n\t\t\tret += dayOfMonth( y1, m1 )-d1+1;\n\t\t\td1 = 1;\n\t\t\t++m1;\n\t\t\tif( m1 > 12 )\n\t\t\t\tm1 = 1, ++y1;\n\t\t}\n\t\telse if( y2-y1 > 1000 )\n\t\t{\n\t\t\tret += (28+30*4+31*7)*1000;\n\t\t\trep( i, 1000 )\n\t\t\t\tret += isLeap( y1+i+1 );\n\t\t\tret -= countD( y1, 1, 1, y1, m1, d1 );\n\t\t\ty1 += 1000;\n\t\t\tm1 = 1;\n\t\t\td1 = 1;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tret += 28+30*4+31*7 + isLeap( y1 )-countD( y1, 1, 1, y1, m1, d1 );\n\t\t\t++y1; m1 = 1; d1 = 1;\n\t\t}\n\t}\n\n\treturn ret;\n}\n\nvoid advD( int &y, int &m, int &d, ll days )\n{\n\twhile( true )\n\t{\n\t\tint lim = dayOfMonth( y, m )-d+1;\n\t\tif( days < lim )\n\t\t{\n\t\t\td += days;\n\t\t\tbreak;\n\t\t}\n\t\tdays -= lim;\n\t\td = 1;\n\t\t++m;\n\t\tif( m > 12 )\n\t\t\tm = 1, ++y;\n\t}\n\n\treturn;\n}\n\nint main()\n{\n\tstd::string s;\n\twhile( std::cin >> s, s != \"#\" )\n\t{\n\t\t// y.m.d\n\t\tif( std::count( s.begin(), s.end(), '.' ) == 2 )\n\t\t{\n\t\t\tint y, m, d;\n\t\t\tsscanf( s.c_str(), \"%d.%d.%d\", &y, &m, &d );\n\t\t\tll days = countD( 2012, 12, 21, y, m, d );\n\n\t\t\tdays %= cycle;\n\n\t\t\tstd::vector<ll> v;\n\t\t\trep( i, 4 )\n\t\t\t{\n\t\t\t\tv.push_back( days % units[i] );\n\t\t\t\tdays /= units[i];\n\t\t\t}\n\t\t\tv.push_back( days );\n\t\t\trepd( i, 4 )\n\t\t\t\tprintf( \"%lld%c\", v[i], \".\\n\"[!i] );\n\t\t}\n\t\t// b.ka.t.w.ki\n\t\telse\n\t\t{\n\t\t\tint a[5];\n\t\t\tsscanf( s.c_str(), \"%d.%d.%d.%d.%d\", a, a+1, a+2, a+3, a+4 );\n\t\t\tint days = 0;\n\t\t\trepd( i, 5 )\n\t\t\t{\n\t\t\t\tdays += a[4-i];\n\t\t\t\tif( i )\n\t\t\t\t\tdays *= units[i-1];\n\t\t\t}\n\t\t\tint y = 2012, m = 12, d = 21;\n\t\t\tadvD( y, m, d, days );\n\t\t\tprintf( \"%d.%d.%d\\n\", y, m, d );\n\t\t}\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <algorithm>\n#include <numeric>\nusing namespace std;\n\nconst int month_days[] = {0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\n\nconst int days_in_400years = 146097;\n\ninline int is_leap(int y) {\n    return (y % 100 && y % 4 == 0) || y % 400 == 0;\n}\n\nint main() {\n    char buf[20];\n    int b, ka, t, w, ki, y, m, d, leap, i;\n    long long days;\n\n    while (gets(buf) != NULL) {\n        if (buf[0] == '#') break;\n        days = 0;\n        if (sscanf(buf, \"%d.%d.%d.%d.%d\", &b, &ka, &t, &w, &ki) == 5) {\n            days = (long long)b*144000 + ka*7200 + t*360 + w*20 + ki;\n            days += 4739; // 2000.1.1 - 2012.12.21\n            y = (days / days_in_400years) * 400;\n            days = days % days_in_400years;\n            for (; days > 365; y++) {\n                if (is_leap(y)) days -= 366;\n                else days -= 365;\n            }\n            for (m = 1; m <= 12; m++) {\n                int md = m == 2 ? month_days[m]+is_leap(y): month_days[m];\n                if (days > md) {\n                    days -= md;\n                }\n                else {\n                    break;\n                }\n            }\n            printf(\"%d.%d.%d\\n\", y + 2000, m, (int)days);\n        }\n        else if (sscanf(buf, \"%d.%d.%d\", &y, &m, &d) ==3) {\n            leap = is_leap(y);\n            days = 10;\n            days -= 13 * 365 + 4;\n            days += ((long long)y - 2000) / 400 * days_in_400years;\n            for (i = 0; i < y % 400; i++) {\n                if (is_leap(i)) days += 366;\n                else days += 365;\n            }\n            days += accumulate(month_days+1, month_days+m, 0);\n            if (m > 2) days += leap;\n            days += d;\n\n            // printf(\"%d.%d.%d   %lld\\n\", y, m, d, days);\n            printf(\"%lld.%lld.%lld.%lld.%lld\\n\", \n                   (days / 144000) % 13,\n                   (days%144000) / 7200,\n                   (days%7200) / 360,\n                   (days%360) / 20,\n                   days%20);\n        }\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <stdio.h>\n#include <sstream>\n#include <string>\n#include <vector>\n#include <map>\n#include <queue>\n#include <algorithm>\n#include <set>\n#include <math.h>\n#include <utility>\n#include <stack>\n#include <string.h>\n#include <complex>\nusing namespace std;\nconst int INF = 1<<29;\nconst double EPS = 1e-8;\ntypedef vector<int> vec;\ntypedef vector<vec> mat;\ntypedef pair<int,int> P;\nstruct edge{int to,cost;};\n\nconst int dx[] = {0,0,1,-1};\nconst int dy[] = {1,-1,0,0};\n\nvec split(string& str){\n    vec ret;\n    int p=1;\n    int part = 0;\n    for(int i=str.size()-1;i>=0;i--){\n        if(str[i]=='.'){\n            ret.push_back(part);\n            part = 0;\n            p = 1;\n        }else{\n            part += p * (str[i]-'0');\n            p *= 10;\n        }\n    }\n    ret.push_back(part);\n    return ret;\n}\n\nint main(){\n    int dl_2012 = 2012/4 - 2012/100 + 2012/400;\n    int dm_12 = (12 * 979 - 1033) >> 5;\n    int maya_cosnt[] = {20, 18, 20, 20};\n    int day_m[12] = {31,28,31,30,31,30,31,31,30,31,30,31};\n    string input;\n    while(cin >> input, input!=\"#\"){\n        vec v = split(input);\n        if(v.size()==3){\n            long long int dy = (long long int)(v[2] - 2012) * 365;\n            long long int dl = v[2]/4 - v[2]/100 + v[2]/400 - dl_2012;\n            long long int dm = ((v[1] * 979 - 1033) >> 5) - dm_12;\n            long long int d = dy + dl + dm + v[0] - 21;\n            vec maya(5);\n            for(int i=0;i<4;i++){\n                maya[i] = d % maya_cosnt[i];\n                d /= maya_cosnt[i];\n            }\n            maya[4] = d % 13;\n            cout << maya[4];\n            for(int i=3;i>=0;i--){\n                cout << '.' << maya[i];\n            }\n            cout << endl;\n        }else{\n            long long int dd = 0;\n            long long int p = 1;\n            for(int i=0;i<5;i++){\n                dd += v[i] * p;\n                if(i<4) p *= maya_cosnt[i];\n            }\n            int y = 2012, m = 12, d = 21;\n            if(dd>11){\n                y = 2013;\n                m = 1;\n                d = 1;\n                dd -= 11;\n            }\n            while(1){\n                bool uruu = y%4==0&&(y%100!=0||y%400==0);\n                if(dd >= 366&&uruu){\n                    y += 1;\n                    dd -= 366;\n                    continue;\n                }else if(dd>=365){\n                    y += 1;\n                    dd -= 365;\n                    continue;\n                }\n                break;\n            }\n            while(dd>0){\n                bool uruu = y%4==0&&(y%100!=0||y%400==0);\n                if(uruu) day_m[1] = 29;\n                else day_m[1] = 28;\n                if(dd + d > day_m[m-1]){\n                    dd -= (day_m[m-1] - d) + 1;\n                    d = 1;\n                    m = m == 12 ? 1 : m + 1;\n                }else{\n                    d += dd;\n                    dd = 0;\n                }\n                //cout << y << \".\" << m << \".\" << d << endl;\n            }\n            cout << y << \".\" << m << \".\" << d << endl;\n        }\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <string>\n#include <sstream>\n#include <cstring>\n#include <cstdlib>\n#include <cstdio>\n#include <cmath>\n#include <queue>\n#include <stack>\n#include <map>\n#include <set>\n#include <bitset>\n \n#define rep(i, n) for(int i = 0; i < (n); i++)\n#define FOR(i, a, b) for(int i = (a); i < (b); i++)\n#define all(v) (v).begin(), (v).end()\n#define rev(s) (s).rbegin(), (s).rend()\n#define MP make_pair\n#define X first\n#define Y second\n \nusing namespace std;\n \ntypedef long long ll;\ntypedef pair<int, int> P;\ntypedef vector<int> vi;\n\nvoid fin(){\n\tfreopen(\"test.txt\", \"r\", stdin);\n}\n\nll ytoi(ll y){\n\ty--;\n\treturn y*365+y/4-y/100+y/400;\n}\n\nint isu(int y){\n\tif(y%400 == 0) return 1;\n\tif(y%100 == 0) return 0;\n\tif(y%4 == 0) return 1;\n\treturn 0;\n}\n\nint mon[] = {0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\nint mtoi(int m, int y){\n\tint u = isu(y);\n\tmon[2] += u;\n\tint days = 0;\n\trep(i, m) days += mon[i];\n\tmon[2] -= u;\n\treturn days;\n}\n\nll ymdtoi(ll y, ll m, ll d){\n\treturn ytoi(y)+mtoi(m, y)+d;\n}\n\nint itoy(ll i){\n\tint yl=0, yh=10000001;\n\twhile(yh-yl>1){\n\t\tint mid = (yh+yl)/2;\n\t\tif(i > ytoi(mid)) yl = mid;\n\t\telse yh = mid;\n\t}\n\treturn yl;\n}\n\nint itom(int i, int y){\n\tint u = isu(y);\n\tfor(int j = 1; j <= 12 ; j++){\n\t\ti -= mon[j] + (u&&(j==2));\n\t\tif(i <= 0) return j;\n\t}\n\treturn -1;\n}\n\nvoid itoymd(ll i){\n\tint y = itoy(i);\n\ti -= ytoi(y);\n\tint m = itom(i, y);\n\ti -= mtoi(m, y);\n\tint d = i;\n\tcout << y << '.' << m << '.' << d << endl;\n}\n\nll bkatwkitoi(ll b, ll ka, ll t, ll w, ll ki){\n\tka += b*20;\n\tt += ka*20;\n\tw += t*18;\n\tki += w*20;\n\treturn ki+ymdtoi(2012, 12, 21);\n}\n\nvoid itobkatwki(ll i){\n\ti -= ymdtoi(2012, 12, 21);\n\tll ki = i%20; i /= 20;\n\tll w = i%18; i /= 18;\n\tll t = i%20; i /= 20;\n\tll ka = i%20; i /= 20;\n\tll b = i%13;\n\tcout << b << '.' << ka << '.' << t <<\n\t\t'.' << w << '.' << ki << endl;\n}\n\nint dotcnt(string s){\n\tint cnt = 0;\n\trep(i, s.size()) if(s[i] == '.') cnt++;\n\treturn cnt;\n}\n\nint main(){\n//\tfin();\n\tstring s;\n\twhile(cin >> s, s != \"#\"){\n\t\tstringstream ss;\n\t\tss << s;\n\t\tif( dotcnt(s) == 2){\n\t\t\tint y, m, d; char c;\n\t\t\tss >> y >> c >> m >> c >> d;\n\t\t\titobkatwki(ymdtoi(y, m, d));\n\t\t}else{\n\t\t\tint b, ka, t, w, ki; char c;\n\t\t\tss >> b >> c >> ka >> c >> t >> c >> w >> c >> ki;\n\t\t\titoymd(bkatwkitoi(b, ka, t, w, ki));\n\t\t}\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\ntypedef long long ll;\n\nstring S;\nvector<ll> strget( string str ){\n  vector<ll> ret;\n  int pr = 0;\n  for(int i=0;i<(int)str.size();i++){\n    if( str[i] == '.' ){\n      ret.push_back( atoi( str.substr(pr,i-pr).c_str() ) );\n      pr = i+1;\n    }\n  }\n  ret.push_back( atoi( str.substr(pr).c_str() ) );\n  return ret;\n}\n\nvoid view(vector<ll> v){\n  for(int i=0;i<(int)v.size();i++) cout << v[i] << \" \"; \n  cout << endl;\n}\n\nll maya[]={13,20,20,18,20};\n\nll getdayM(vector<ll> v){\n  ll ret = 0;\n  ll sum = 1;\n  for(int i=v.size()-1;i>-1;i--){\n    ret += v[i] * sum;\n    sum *= maya[i];\n  }\n  return ret;\n}\n\n\nll years[]={365,366};\nll month[2][12]={ {31,28,31,30,31,30,31,31,30,31,30,31},\n                  {31,29,31,30,31,30,31,31,30,31,30,31} };\n\nbool isuruu(int y){\n  if( y%400 == 0) return true;\n  if( y%100 == 0) return false;\n  if( y%4 == 0 ) return true;\n  return false;\n}\n\nll getdayS(int y,int m,int d){\n  ll ret = 0;\n  if( y > 400 ) {\n    ret = getdayS( (y-1)%400+1, m, d ) + getdayS( 400, 12,31 )*((y-1)/400);\n  } else {\n    for(int i=1;i<y;i++){\n      if( isuruu(i) ) ret += years[1];\n      else ret += years[0];\n    }\n    for(int i=1;i<m;i++){\n      if( isuruu(y) ) ret += month[1][i-1];\n      else ret += month[0][i-1];\n    }\n    for(int i=1;i<=d;i++)\n      ret ++;\n  }\n  // cout << y << \" \"<< m << \" \" << d <<\" \" << ret << endl;\n  return ret;\n}\n\nvector<ll> setdayM(ll day){\n  vector<ll> ret;\n  for(int i=4;i>-1;i--){\n    ret.push_back( day%maya[i] );\n    day/=maya[i];    \n  }\n  reverse(ret.begin(),ret.end());\n  return ret;\n}\n\nvector<ll> setdayS(ll day){\n  ll sd = getdayS( 400,12,31 );\n  vector<ll> ret(3);\n  if( day > sd ){\n    ret[0] = day/sd*400;\n    vector<ll> st = setdayS( day % sd );\n    ret[0] += st[0];\n    ret[1] = st[1]; ret[2] = st[2];\n  } else{\n    for(int y=1;y<=400;y++){\n      for(int m=1;m<=12;m++){\n        for(int d=1;d<=month[isuruu(y)][m-1];d++){\n          day--;\n          if( day == 0 ) {\n            ret[0] = y;\n            ret[1] = m;\n            ret[2] = d;\n            return ret;\n          }\n        }\n      }\n    }\n  }\n  return ret;\n}\n\nint main(){\n  while( getline( cin,S ) ){\n    if( S==\"#\" ) break;\n    vector<ll> v = strget( S );\n    if( v.size() == 3 ){\n      ll a = getdayS( v[0], v[1], v[2] ) - getdayS( 2012, 12, 21 );\n      vector<ll> res = setdayM( a );\n      for(int i=0;i<5;i++){\n        if( i ) cout << \".\";\n        cout << res[i];\n      }\n    } else {\n      ll a = getdayM( v ) + getdayS( 2012,12,21);\n      vector<ll> res = setdayS( a );\n      for(int i=0;i<3;i++){\n        if( i ) cout << \".\";\n        cout << res[i];\n      }\n        \n    }\n    cout << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define __2012_12_21__ 735224\n#define MAX_YEAR 10000000\n\nunsigned days[MAX_YEAR + 1];\nint month[2][13] = {\n  { 0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334, 365},\n  { 0, 31, 60, 91, 121, 152, 182, 213, 244, 274, 305, 335, 366}\n};\n\nbool urudosi(int year){\n  return year % 400 == 0 || (year % 100 != 0 && year % 4 == 0);\n}\nvoid init_set() {\n  for(int i = 1; i <= MAX_YEAR; i++) {\n    days[i] = days[i - 1] + 365 + urudosi(i - 1);\n  }\n}\n\nint main(){\n  char buff[256];\n  int y, m, d; //西暦\n  int b, ka, t, w, ki; //マヤ長期歴\n\n  init_set();\n  while(strcmp(fgets( buff, sizeof(buff), stdin),\"#\\n\") != 0){\n    if(sscanf( buff, \"%d.%d.%d.%d.%d\", &b, &ka, &t, &w, &ki) == 5){\n      unsigned allday = b * 144000 + ka * 7200 + t * 360 + w * 20 + ki + __2012_12_21__;\n      y = std::lower_bound( days, days + MAX_YEAR, allday) - days - 1;\n      allday -= days[y];\n      bool uru = urudosi(y);\n      m = std::lower_bound( month[uru], month[uru] + 13, allday) - month[uru];\n      d = allday - month[uru][m - 1];\n      printf(\"%d.%d.%d\\n\", y, m, d);\n    }else{\n      unsigned allday = days[b] + month[urudosi(b)][ka - 1] + t - __2012_12_21__;\n      ki = allday % 20;\n      w = allday / 20 % 18;\n      t = allday / 360 % 20;\n      ka = allday / 7200 % 20;\n      b = allday / 144000 % 13;\n      printf(\"%d.%d.%d.%d.%d\\n\", b, ka, t, w, ki);\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 0x3f3f3f3f\n\n#include <iostream>\n#include <cstdio>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n  \nusing namespace std;\n  \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P> PP;\n  \nstatic const double EPS = 1e-8;\n  \nstatic const int tx[] = {0,1,0,-1};\nstatic const int ty[] = {-1,0,1,0};\n\nvector<string> split(string delim,string str){\n  vector<string> res;\n  str += delim;\n  for(int i=0;i<str.size();i++){\n    for(int j=1;i+j<=str.size();j++){\n      if(str.substr(i,j).find(delim) != string::npos){\n        if(str.substr(i,j-1).size() >0 ) res.push_back(str.substr(i,j-1));\n        i+=j-1;\n        break;\n      }\n    }\n  }\n  return res;\n}\n\nstatic const ll days_per_month[] = {0,31,28,31,30,31,30,31,31,30,31,30,31};\n\nbool is_leap_year(int year){\n  if(year % 4 == 0){\n    if(year % 100 != 0) return true;\n    if(year % 400 == 0) return true;\n  }\n  return false;\n}\n\nstring maya2christ(ll passed_day){\n  passed_day += 355LL;\n  int year = 2012;\n  for(int prev = 2012; prev < 10000000; prev++){\n    if(is_leap_year(prev) && passed_day - 366LL >= 0){\n      passed_day -= 366LL;\n    }\n    else if(!is_leap_year(prev) && passed_day - 365LL >= 0){\n      passed_day -= 365LL;\n    }\n    else{\n      break;\n    }\n    year = prev + 1;\n  }\n\n  int month = 1;\n  for(int prev = 1; prev < 12; prev++){\n    if(is_leap_year(year) && prev == 2){\n      if(passed_day - (days_per_month[prev] + 1LL) >= 0){\n        passed_day -= (days_per_month[prev] + 1LL);\n      }\n      else{\n        break;\n      }\n    }\n    else{\n      if(passed_day - days_per_month[prev] >= 0){\n        passed_day -= days_per_month[prev];\n      }\n      else{\n        break;\n      }\n    }\n    month = prev + 1;\n  }  \n  int day = 1;\n  day += passed_day;\n  stringstream ss;\n  ss << year << \".\" << month << \".\" << day;\n  return ss.str();\n}\n\nstring christ2maya(ll passed_day){\n  passed_day %= 13*20*20*18*20;\n  ll b = passed_day / (20*20*18*20);\n  passed_day %= (20*20*18*20);\n\n  ll ka = passed_day / (20*18*20);\n  passed_day %= (20*18*20);\n\n  ll t = passed_day / (18*20);\n  passed_day %= (18*20);\n\n  ll w = passed_day / 20;\n  passed_day %= 20;\n  \n  ll ki = passed_day;\n  stringstream ss;\n  ss << b << \".\" << ka << \".\" << t << \".\" << w << \".\" << ki;\n  return ss.str();\n}\n\nll compute_christ_passed_day(const string& str){\n  vector<string> elements = split(\".\",str);\n  ll year = atol(elements[0].c_str());\n  ll month = atol(elements[1].c_str());\n  ll day = atol(elements[2].c_str());\n  \n  ll passed_day = 0;\n  for(ll prev = 2012; prev < year; prev++){\n    passed_day += (is_leap_year(prev) ? 366LL : 365LL);\n  }\n  \n  for(ll prev = 1; prev < month; prev++){\n    if(is_leap_year(year) && prev == 2){\n      passed_day++;\n    }\n    passed_day += days_per_month[prev];\n  }\n  for(ll prev = 1; prev < day; prev++){\n    passed_day++;\n  }\n  passed_day -= 355LL; //2012.01.01 - 2012.12.20\n  \n  return passed_day;\n}\n\nll compute_maya_passed_day(const string& str){\n  vector<string> elements = split(\".\",str);\n  ll b = atol(elements[0].c_str());\n  ll ka = atol(elements[1].c_str());\n  ll t = atol(elements[2].c_str());\n  ll w = atol(elements[3].c_str());\n  ll ki = atol(elements[4].c_str());\n  \n  ll passed_day = b * (20*20*18*20) + ka * (20*18*20) + t * (18*20) + w * 20 + ki;\n  return passed_day;\n}\n\nint main(){\n  string str;\n  while(cin >> str){\n    if(str == \"#\") break;\n    int total_dots = count(str.begin(),str.end(),'.');\n    if(total_dots == 2){\n      //after christ\n      cout << christ2maya(compute_christ_passed_day(str)) << endl;\n    }\n    else{\n      //maya\n      cout << maya2christ(compute_maya_passed_day(str)) << endl;\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "// 2013/07/14 Tazoe\n\n#include <iostream>\n#include <string>\n#include <sstream>\nusing namespace std;\n\nbool uruu(int y)\n{\n\treturn (y%400==0 || (y%4==0 && y%100!=0));\n}\n\nint main()\n{\n\twhile(true){\n\t\tstring S;\n\t\tcin >> S;\n\n\t\tif(S==\"#\")\n\t\t\tbreak;\n\n\t\tint cnt = 0;\n\n\t\twhile(true){\n\t\t\tint loc = S.find(\".\");\n\n\t\t\tif(loc==string::npos)\n\t\t\t\tbreak;\n\n\t\t\tS.replace(loc, 1, \" \");\n\t\t\tcnt++;\n\t\t}\n\n\t\tif(cnt==4){\n\t\t\tistringstream is(S);\n\t\t\tint b, ka, t, w, ki;\n\t\t\tis >> b >> ka >> t >> w >> ki;\n\n\t\t\tint KI = (((b*20+ka)*20+t)*18+w)*20+ki;\n\n\t\t\tint y = 2012;\n\t\t\tint m = 12;\n\t\t\tint d = 21;\n\n\t\t\tif(KI<11){\n\t\t\t\td += KI;\n\t\t\t\tKI = 0;\n\t\t\t}\n\t\t\telse{\n\t\t\t\ty = 2013;\n\t\t\t\tm = 1;\n\t\t\t\td = 1;\n\t\t\t\tKI -= 11;\n\t\t\t}\n\n\t\t\twhile(true){\n\t\t\t\tif(uruu(y) && KI>=366){\n\t\t\t\t\ty++;\n\t\t\t\t\tKI -= 366;\n\t\t\t\t}\n\t\t\t\telse if(!uruu(y) && KI>=365){\n\t\t\t\t\ty++;\n\t\t\t\t\tKI -= 365;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\twhile(true){\n\t\t\t\tif((m==1 || m==3 || m==5 || m==7 || m==8 || m==10) && KI>=31){\n\t\t\t\t\tm++;\n\t\t\t\t\tKI -= 31;\n\t\t\t\t}\n\t\t\t\telse if((m==4 || m==6 || m==9 || m==11) && KI>=30){\n\t\t\t\t\tm++;\n\t\t\t\t\tKI -= 30;\n\t\t\t\t}\n\t\t\t\telse if(m==2 && uruu(y) && KI>=29){\n\t\t\t\t\tm++;\n\t\t\t\t\tKI -= 29;\n\t\t\t\t}\n\t\t\t\telse if(m==2 && !uruu(y) && KI>=28){\n\t\t\t\t\tm++;\n\t\t\t\t\tKI -= 28;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(KI>0){\n\t\t\t\td += KI;\n\t\t\t\tKI = 0;\n\t\t\t}\n\n\t\t\tcout << y << '.' << m << '.' << d << endl;\n\t\t}\n\t\telse if(cnt==2){\n\t\t\tistringstream is(S);\n\t\t\tint y, m, d;\n\t\t\tis >> y >> m >> d;\n\n\t\t\tlong long D = 0;\n\n\t\t\tif(y==2012&&m==12){\n\t\t\t\tD = d-21;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tD = 11;\n\n\t\t\t\tfor(int i=2013; i<y; i++){\n\t\t\t\t\tif(uruu(i)){\n\t\t\t\t\t\tD += 366;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tD += 365;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor(int i=1; i<m; i++){\n\t\t\t\t\tif(i==1 || i==3 || i==5 || i==7 || i==8 || i==10){\n\t\t\t\t\t\tD += 31;\n\t\t\t\t\t}\n\t\t\t\t\telse if(i==4 || i==6 || i==9 || i==11){\n\t\t\t\t\t\tD += 30;\n\t\t\t\t\t}\n\t\t\t\t\telse if(i==2 && uruu(y)){\n\t\t\t\t\t\tD += 29;\n\t\t\t\t\t}\n\t\t\t\t\telse if(i==2 && !uruu(y)){\n\t\t\t\t\t\tD += 28;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tD += (d-1);\n\t\t\t}\n\n\t\t\tint ki = D%20;\n\t\t\tD /= 20;\n\n\t\t\tint w = D%18;\n\t\t\tD /= 18;\n\n\t\t\tint t = D%20;\n\t\t\tD /= 20;\n\n\t\t\tint ka = D%20;\n\t\t\tD /= 20;\n\n\t\t\tint b = D%13;\n\n\t\t\tcout << b << '.' << ka << '.' << t << '.' << w << '.' << ki << endl;\n\t\t}\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <cstdio>\n\nusing namespace std;\n\nlong long ori;\nlong long mo[] = { 31,28,31,30,31,30,31,31,30,31,30,31 };\n\nlong long mtod(long long b, long long ka, long long t, long long w, long long ki) {\n\tka += b * 20;\n\tt += ka * 20;\n\tw += t * 18;\n\tki += w * 20;\n\treturn ori + ki;\n}\n\nbool isur(long long y) {\n\treturn (y % 4 == 0 && (y % 100 != 0 || y % 400 == 0));\n}\n\nlong long calc(long long y, long long m, long long d) {\n\tlong long tmp = (y - 1) * 365 + (y - 1) / 4 - (y - 1) / 100 + (y - 1) / 400;\n\tfor (long long i = 1; i < m; ++i) {\n\t\ttmp += mo[i - 1];\n\t\tif (isur(y) && i == 2) tmp++;\n\t}\n\treturn tmp + d;\n}\n\nlong long ytod(long long y, long long m, long long d) {\n\treturn calc(y, m, d) - ori;\n}\n\nvoid ytom(long long d) {\n\tlong long b, ka, t, w, ki;\n\tki = d % 20; d /= 20;\n\tw = d % 18; d /= 18;\n\tt = d % 20; d /= 20;\n\tka = d % 20; d /= 20;\n\tb = d % 13;\n\tprintf(\"%lld.%lld.%lld.%lld.%lld\\n\", b, ka, t, w, ki);\n}\n\nvoid mtoy(long long d) {\n\tlong long y, m;\n\tfor (y = 1; 365 + isur(y) < d; ++y) d -= 365 + isur(y);\n\tfor (m = 1; mo[m - 1] + (m == 2 && isur(y)) < d; ++m) d -= mo[m - 1] + (m == 2 && isur(y));\n\tprintf(\"%lld.%lld.%lld\\n\", y, m, d);\n}\n\nint main() {\n\tori = calc(2012, 12, 21);\n\tstring s;\n\twhile (cin >> s, s != \"#\") {\n\t\tlong long flag = 0, now = 0, tmp[5] = {};\n\t\tfor (long long i = 0; i < s.size(); ++i) {\n\t\t\tif (s[i] == '.') {\n\t\t\t\ttmp[flag++] = stoi(s.substr(now, i - now + 1));\n\t\t\t\tnow = i + 1;\n\t\t\t}\n\t\t}\n\t\ttmp[flag] = stoi(s.substr(now, s.size() - now + 1));\n\t\tif (flag == 4) mtoy(mtod(tmp[0], tmp[1], tmp[2], tmp[3], tmp[4]));\n\t\telse ytom(ytod(tmp[0], tmp[1], tmp[2]));\n\t}\n\t\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <map>\n#include <cstring>\n#include <string>\n#include <stack>\n#include <queue>\n#include <cmath>\n#include <cstdlib>\n#include <cstdio>\n#include <algorithm>\n#include <sstream>\n#include <set>\nusing namespace std;\n\n#define rep(i,n) for(int i=0;i<(int)n;i++)\n#define repp(i,k,n) for(int i=k;i<(int)n;i++)\n#define rei(n) for(int i=0;i<(int)n;i++)\n#define rel(n) for(int l=0;l<(int)n;l++)\n#define al(s) s.begin(),s.end()\n#define INT_MAX 2147483647\n\nstruct Calendar\n{\n\tlong long year;\n\tlong long month;\n\tlong long day;\n\tlong long dat[2][13];\n\tCalendar(long long y, long long m, long long d)\n\t{\n\t\tyear = y;\n\t\tmonth = m;\n\t\tday = d;\n\t\tdat[0][1] = dat[1][1] = 31;\n\t\tdat[0][2] = dat[1][2] = 28;\n\t\tdat[0][3] = dat[1][3] = 31;\n\t\tdat[0][4] = dat[1][4] = 30;\n\t\tdat[0][5] = dat[1][5] = 31;\n\t\tdat[0][6] = dat[1][6] = 30;\n\t\tdat[0][7] = dat[1][7] = 31;\n\t\tdat[0][8] = dat[1][8] = 31;\n\t\tdat[0][9] = dat[1][9] = 30;\n\t\tdat[0][10] = dat[1][10] = 31;\n\t\tdat[0][11] = dat[1][11] = 30;\n\t\tdat[0][12] = dat[1][12] = 31;\n\t\tdat[1][2] = 29;\n\t}\n\tint uruu()\n\t{\n\t\tif (year % 4 == 0)\n\t\t{\n\t\t\tif (year % 400 != 0 && year % 100 == 0)\n\t\t\t{\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t}\n\t\treturn 0;\n\t}\n\tint uruu(long long y)\n\t{\n\t\tif (y % 4 == 0)\n\t\t{\n\t\t\tif (y % 400 != 0 && y % 100 == 0)\n\t\t\t{\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t}\n\t\treturn 0;\n\t}\n\tlong long pday(long long d)\n\t{\n\t\tday += d;\n\t\tfor (;; month++)\n\t\t{\n\t\t\tif (month >= 13)\n\t\t\t{\n\t\t\t\tyear++;\n\t\t\t\tmonth = 1;\n\t\t\t}\n\n\t\t\tif (dat[uruu()][month] < day)\n\t\t\t{\n\t\t\t\tday -= dat[uruu()][month];\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tpmonth(0);\n\t\treturn d;\n\t}\n\tlong long pmonth(long long m)\n\t{\n\t\tmonth += m;\n\t\tfor (;; year++)\n\t\t{\n\t\t\tif (month > 12)\n\t\t\t{\n\t\t\t\tmonth -= 12;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn m;\n\t}\n\tlong long pyear(long long y)\n\t{\n\t\tyear += y;\n\t\treturn y;\n\t}\n\tlong long dif(Calendar c)\n\t{\n\t\tlong long ans = 0;\n\t\tCalendar a(year, month, day);\n\t\tans -= a.day;\n\t\tans += c.day;\n\t\ta.day = 0;\n\t\tc.day = 0;\n\t\tfor (; a.month >= 1; a.month--)\n\t\t{\n\t\t\tans -= dat[a.uruu()][a.month];\n\t\t}\n\t\tfor (; c.month >= 1; c.month--)\n\t\t{\n\t\t\tans += dat[c.uruu()][c.month];\n\t\t}\n\t\tfor (; a.year != c.year; a.year++)\n\t\t{\n\t\t\tans += 365;\n\t\t\tif (a.uruu())ans++;\n\t\t}\n\t\treturn ans;\n\t}\n\n\n};\n\n\n\n\nlong long date[5]{ 1872000 / 13,1872000 / 13 / 20,1872000 / 13 / 20 / 20,1872000 / 13 / 20 / 20 / 18,1 };\n\nint main()\n{\n\tstring a;\n\twhile (1)\n\t{\n\t\tgetline(cin, a);\n\t\tif (a.find(\"#\") != string::npos)break;\n\t\tint coun = 0;\n\t\tfor (int i = 0; i < a.size(); i++)\n\t\t{\n\t\t\tif (a[i] == '.')coun++;\n\t\t}\n\t\tif (coun == 2)\n\t\t{\n\t\t\tstring dat[3];\n\t\t\tlong long year, month, day;\n\t\t\tlong long p = 0;\n\t\t\tfor (int i = 0; i < a.size(); i++)\n\t\t\t{\n\t\t\t\tif (a[i] == '.')p++;\n\t\t\t\telse dat[p] += a[i];\n\t\t\t}\n\t\t\tyear = atoi(dat[0].c_str());\n\t\t\tmonth = atoi(dat[1].c_str());\n\t\t\tday = atoi(dat[2].c_str());\n\n\t\t\tCalendar A(year, month, day), B(2012, 12, 21);\n\n\t\t\tlong long dif = B.dif(A);\n\t\t\tif (dif >= 0)\n\t\t\t{\n\t\t\t\tdif %= 1872000;\n\t\t\t\tfor (int i = 0; i < 5; i++)\n\t\t\t\t{\n\t\t\t\t\tif (i)\n\t\t\t\t\t{\n\t\t\t\t\t\tcout << \".\";\n\t\t\t\t\t}\n\t\t\t\t\tcout << dif / date[i];\n\t\t\t\t\tdif %= date[i];\n\t\t\t\t}\n\t\t\t\tcout << endl;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tdif *= -1;\n\t\t\t\tdif %= 1872000;\n\t\t\t\tint gf[5] = { 12,19,19,17,19 };\n\t\t\t\tfor (int i = 0; i < 5; i++)\n\t\t\t\t{\n\t\t\t\t\tif (i)\n\t\t\t\t\t{\n\t\t\t\t\t\tcout << \".\";\n\t\t\t\t\t}\n\t\t\t\t\tcout <<gf[i]- dif / date[i];\n\t\t\t\t\tdif %= date[i];\n\t\t\t\t}\n\t\t\t\tcout << endl;\n\t\t\t}\n\t\t\t\n\t\t}\n\t\telse\n\t\t{\n\t\t\tstring dat[5];\n\t\t\tint p = 0;\n\t\t\tfor (int i = 0; i < a.size(); i++)\n\t\t\t{\n\t\t\t\tif (a[i] == '.')p++;\n\t\t\t\telse dat[p] += a[i];\n\t\t\t}\n\t\t\tlong long days = 0;\n\t\t\tfor (int i = 0; i < 5; i++)\n\t\t\t{\n\t\t\t\tdays += date[i] * atoi(dat[i].c_str());\n\t\t\t}\n\t\t\tCalendar A(2012, 12, 21);\n\t\t\tA.pday(days);\n\t\t\tcout << A.year << \".\" << A.month << \".\" << A.day << endl;\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\nusing namespace std;\n\nstring Date;\nlong long int DateInfo[5];\n\nconst int DaysOfMonth[] = {\n\t31,28,31,\n\t30,31,30,\n\t31,31,30,\n\t31,30,31,\n};\nconst int MayaAcc[] = { 144000,7200,360,20,1 };\n\n\nbool isLeapYear(long long int year) {\n\tif ((year % 4 == 0 && year % 100 != 0) || (year % 400 == 0)) {\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nvoid convertToMaya() {\n\tlong long int total;\n\n\ttotal = -356;\n\tfor (int year = 2012; year < DateInfo[0]; ++year) {\n\t\ttotal += 365;\n\t\tif (isLeapYear(year)) {\n\t\t\t++total;\n\t\t}\n\t}\n\tfor (int i = 1; i < DateInfo[1]; ++i) {\n\t\ttotal += DaysOfMonth[i - 1];\n\t}\n\ttotal += DateInfo[2];\n\n\tif (isLeapYear(DateInfo[0]) && (DateInfo[1] > 2)) {\n\t\t++total;\n\t}\n\t//cout << \"total:\" << total << endl;\n\tif (total < 0) {\n\t\ttotal += 13 * 144000;\n\t}\n\n\tfor (int i = 0; i < 5; ++i) {\n\t\tDateInfo[i] = 0;\n\t\tif (total / MayaAcc[i] > 0) {\n\t\t\tDateInfo[i] = total / MayaAcc[i];\n\t\t}\n\t\ttotal %= MayaAcc[i];\n\t}\n\n\tDateInfo[0] %= 13;\n\tfor (int i = 0; i < 5; ++i) {\n\t\tcout << (i == 0 ? \"\" : \".\") << DateInfo[i];\n\t}\n\tcout << endl;\n}\n\nvoid convertToAD() {\n\tlong long int total;\n\tint nowYear, nowMonth;\n\tint y, m, d;\n\n\ttotal = 0;\n\tfor (int i = 0; i < 5; ++i) {\n\t\ttotal += DateInfo[i] * MayaAcc[i];\n\t}\n\t//cout << \"total:\" << total << endl;\n\n\ty = 2012;\n\tm = 12;\n\td = 21;\n\twhile (total > 0) {\n\t\t//++d;\n\t\tif (m == 1 && d == 1) {\n\t\t\tnowYear = 365;\n\t\t\tif (isLeapYear(y)) {\n\t\t\t\t++nowYear;\n\t\t\t}\n\t\t\tif (total > nowYear) {\n\t\t\t\ttotal -= nowYear;\n\t\t\t\t++y;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\t\tnowMonth = DaysOfMonth[m - 1];\n\t\tif (m == 2) {\n\t\t\tif (isLeapYear(y)) {\n\t\t\t\t++nowMonth;\n\t\t\t}\n\t\t}\n\t\tif (d == nowMonth) {\n\t\t\td = 0;\n\t\t\t++m;\n\t\t\tif (m == 13) {\n\t\t\t\tm = 1;\n\t\t\t\t++y;\n\t\t\t}\n\t\t}\n\t\t++d;\n\t\t--total;\n\t}\n\n\tcout << y << \".\" << m << \".\" << d << endl;\n}\n\nint getDateInfo() {\n\tint cnt;\n\tchar c;\n\tstringstream ss;\n\n\tcnt = 0;\n\tss.str(Date);\n\twhile (ss >> DateInfo[cnt]) {\n\t\tss.clear();\n\t\tss >> c;\n\t\tss.clear();\n\t\t++cnt;\n\t}\n\n\treturn cnt;\n}\n\nint main() {\n\tint cnt;\n\n\twhile (cin >> Date, Date[0] != '#') {\n\t\tcnt = getDateInfo();\n\t\tif (cnt == 3) {\n\t\t\tconvertToMaya();\n\t\t}\n\t\telse if (cnt == 5) {\n\t\t\tconvertToAD();\n\t\t}\n\t}\n\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <stdio.h>\n#include <sstream>\n#include <string>\n#include <vector>\n#include <map>\n#include <queue>\n#include <algorithm>\n#include <set>\n#include <math.h>\n#include <utility>\n#include <stack>\n#include <string.h>\n#include <complex>\nusing namespace std;\nconst int INF = 1<<29;\nconst double EPS = 1e-8;\ntypedef vector<int> vec;\ntypedef vector<vec> mat;\ntypedef pair<int,int> P;\nstruct edge{int to,cost;};\n\nconst int dx[] = {0,0,1,-1};\nconst int dy[] = {1,-1,0,0};\n\nvec split(string& str){\n    vec ret;\n    int p=1;\n    int part = 0;\n    for(int i=str.size()-1;i>=0;i--){\n        if(str[i]=='.'){\n            ret.push_back(part);\n            part = 0;\n            p = 1;\n        }else{\n            part += p * (str[i]-'0');\n            p *= 10;\n        }\n    }\n    ret.push_back(part);\n    return ret;\n}\n\nint main(){\n    int dl_2012 = 2012/4 - 2012/100 + 2012/400;\n    int dm_12 = (12 * 979 - 1033) >> 5;\n    int maya_cosnt[] = {20, 18, 20, 20};\n    int day_m[12] = {31,28,31,30,31,30,31,31,30,31,30,31};\n    string input;\n    while(cin >> input, input!=\"#\"){\n        vec v = split(input);\n        if(v.size()==3){\n            long long int dy = (long long int)(v[2] - 2012) * 365;\n            long long int dl = v[2]/4 - v[2]/100 + v[2]/400 - dl_2012;\n            long long int dm = ((v[1] * 979 - 1033) >> 5) - dm_12;\n            long long int d = dy + dl + dm + v[0] - 21;\n            vec maya(5);\n            for(int i=0;i<4;i++){\n                maya[i] = d % maya_cosnt[i];\n                d /= maya_cosnt[i];\n            }\n            maya[4] = d % 13;\n            cout << maya[4];\n            for(int i=3;i>=0;i--){\n                cout << '.' << maya[i];\n            }\n            cout << endl;\n        }else{\n            long long int dd = 0;\n            long long int p = 1;\n            for(int i=0;i<5;i++){\n                dd += v[i] * p;\n                if(i<4) p *= maya_cosnt[i];\n            }\n            long long int y = 2012, m = 12, d = 21;\n            if(dd>11){\n                y = 2013;\n                m = 1;\n                d = 1;\n                dd -= 11;\n            }\n            while(1){\n                bool uruu = y%4==0&&(y%100!=0||y%400==0);\n                if(dd >= 366&&uruu){\n                    y += 1;\n                    dd -= 366;\n                    continue;\n                }else if(dd>=365){\n                    y += 1;\n                    dd -= 365;\n                    continue;\n                }\n                break;\n            }\n            while(dd>0){\n                bool uruu = y%4==0&&(y%100!=0||y%400==0);\n                if(uruu) day_m[1] = 29;\n                else day_m[1] = 28;\n                if(dd + d > day_m[m-1]){\n                    dd -= (day_m[m-1] - d) + 1;\n                    d = 1;\n                    m = m == 12 ? 1 : m + 1;\n                }else{\n                    d += dd;\n                    dd = 0;\n                }\n                //cout << y << \".\" << m << \".\" << d << endl;\n            }\n            cout << y << \".\" << m << \".\" << d << endl;\n        }\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <sstream>\nusing namespace std;\n \nbool is_leap(int y)\n{\n    return (y%400==0 || (y%4==0 && y%100!=0));\n}\n \nint main()\n{\n    while(true){\n        string S;\n        cin >> S;\n \n        if(S==\"#\")\n            break;\n \n        int cnt = 0;\n \n        while(true){\n            int loc = S.find(\".\");\n \n            if(loc==string::npos)\n                break;\n \n            S.replace(loc, 1, \" \");\n            cnt++;\n        }\n \n        if(cnt==4){\n            istringstream is(S);\n            int b, ka, t, w, ki;\n            is >> b >> ka >> t >> w >> ki;\n \n            int KI = (((b*20+ka)*20+t)*18+w)*20+ki;\n \n            int y = 2012;\n            int m = 12;\n            int d = 21;\n \n            if(KI<11){\n                d += KI;\n                KI = 0;\n            }\n            else{\n                y = 2013;\n                m = 1;\n                d = 1;\n                KI -= 11;\n            }\n \n            while(true){\n                if(is_leap(y) && KI>=366){\n                    y++;\n                    KI -= 366;\n                }\n                else if(!is_leap(y) && KI>=365){\n                    y++;\n                    KI -= 365;\n                }\n                else{\n                    break;\n                }\n            }\n \n            while(true){\n                if((m==1 || m==3 || m==5 || m==7 || m==8 || m==10) && KI>=31){\n                    m++;\n                    KI -= 31;\n                }\n                else if((m==4 || m==6 || m==9 || m==11) && KI>=30){\n                    m++;\n                    KI -= 30;\n                }\n                else if(m==2 && is_leap(y) && KI>=29){\n                    m++;\n                    KI -= 29;\n                }\n                else if(m==2 && !is_leap(y) && KI>=28){\n                    m++;\n                    KI -= 28;\n                }\n                else{\n                    break;\n                }\n            }\n \n            if(KI>0){\n                d += KI;\n                KI = 0;\n            }\n \n            cout << y << '.' << m << '.' << d << endl;\n        }\n        else if(cnt==2){\n            istringstream is(S);\n            int y, m, d;\n            is >> y >> m >> d;\n \n            long long D = 0;\n \n            if(y==2012&&m==12){\n                D = d-21;\n            }\n            else{\n                D = 11;\n \n                for(int i=2013; i<y; i++){\n                    if(is_leap(i)){\n                        D += 366;\n                    }\n                    else{\n                        D += 365;\n                    }\n                }\n \n                for(int i=1; i<m; i++){\n                    if(i==1 || i==3 || i==5 || i==7 || i==8 || i==10){\n                        D += 31;\n                    }\n                    else if(i==4 || i==6 || i==9 || i==11){\n                        D += 30;\n                    }\n                    else if(i==2 && is_leap(y)){\n                        D += 29;\n                    }\n                    else if(i==2 && !is_leap(y)){\n                        D += 28;\n                    }\n                    else{\n                        break;\n                    }\n                }\n \n                D += (d-1);\n            }\n \n            int ki = D%20;\n            D /= 20;\n \n            int w = D%18;\n            D /= 18;\n \n            int t = D%20;\n            D /= 20;\n \n            int ka = D%20;\n            D /= 20;\n \n            int b = D%13;\n \n            cout << b << '.' << ka << '.' << t << '.' << w << '.' << ki << endl;\n        }\n    }\n \n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<climits>\nusing namespace std;\n\n#define loop(i, a, b) for(int i = a; i < b; i++)\n#define rep(i, a) loop(i, 0, a)\n#define int long long\n//#define %%lld %%d\n\nvoid to_maya(int y, int m, int d);\nvoid to_sei(int b, int ka, int t, int w, int ki);\nint leap_count(int base,  int y);\n\nsigned main()\n{\n  printf(\"long long max: %lld\\n\", LLONG_MAX);\n  char date[100];\n  while(cin >> date) {\n    int a = 0, b = 0, c = 0, d = 0, e = 0;\n    int cnt = sscanf(date, \"%lld.%lld.%lld.%lld.%lld\", &a, &b, &c, &d, &e);\n\n    if(cnt == 3) {\n      //     cout << '3'<<endl;\n      to_maya(a, b, c);\n    }\n    else if(cnt == 5){\n      //  cout << '5' << endl;\n      to_sei(a, b, c, d, e);\n    }\n    else if(date[0] == '#') {\n      //    cout << '#';\n      break;\n    }\n    // cout << date;\n  }\n}\n\n\nint leap_count(int base,  int y)\n{\n  int cnt = 0;\n  loop(i, base, y + 1)\n    if(i % 400 == 0) cnt++;\n    else if(i % 100 && i % 4 == 0) cnt++;\n  return cnt;\n}\n\n\nvoid to_maya(int y, int m, int d)\n{\n  int days = 0;\n  int leap = leap_count(2013, y);\n  if( y != 2012 ) {\n    //    cout << leap << endl;\n    days += ( y - 2013 - leap ) * 365 + leap * 366 + 10;\n    //  cout << days << endl;\n    loop(i, 1, m){\n      if(i == 1 || i == 3 || i == 5 || i == 7 || i == 8 || i == 10 || i == 12)\n\tdays += 31;\n      if(i == 4 || i == 6 || i == 9 || i == 11)\n\tdays += 30;\n      if(i == 2) {\n\tdays += 28;\n\t//cout << leap_count(y,y) << endl;\n\tif(leap_count(y, y)) {\n\t  days++;\n\t  // cout << \"leap\" << endl;\n\t}\n      }\n    }\n    days += d;\n    if(leap_count(y,y)) days--;\n  }\n  else days += (d - 21);\n  \n  days -=  days / (13 * 20 * 18 * 20 * 20) * (13 * 20 * 18 * 20 * 20);\n  int b = days / (20 * 18 * 20 * 20); days -= b * 20 * 20 * 18 * 20;\n  //cout << days << endl;\n  int ka =  days / (20 * 18 * 20); days -= ka * 20 * 18 * 20;\n  //cout << days << endl;\n  int t = days / (20 * 18); days -= t * 18 * 20;\n  //cout << days << endl;\n  int w = days / 20; days -= w * 20;\n  //  cout << days << endl;\n  int ki = days; days -= ki;\n  //  cout << days << endl;\n  \n  printf(\"%lld.%lld.%lld.%lld.%lld\", b, ka, t, w, ki);\n}\n\nvoid to_sei(int b, int ka, int t, int w, int ki)\n{\n  int days = 0, y = 2013, m = 1, d = 1, until;\n  days += b * 20 * 18 * 20 * 20 + ka * 20 * 18 * 20 + t * 20 * 18 + w * 20 + ki;\n  if(days > 10) {\n    days -= 11;\n    while(1) {\n      if(leap_count(y, y)) {\n\tif(days - 366 >= 0) days -= 366;\n\telse break;\n      }\n      else if(days - 365 >= 0) days -= 365;\n      else break;\n      y++;\n      //cout << 'y' << y << endl;\n    }\n\n    while(1) {\n      d = 1;\n      if(m == 1 || m == 3 || m == 5 || m == 7 || m == 8 || m == 10 || m == 12)\n\tuntil = 31;\n      if(m == 4 || m == 6 || m == 9 || m == 11)\n\tuntil = 30;\n      if(m == 2) {\n\tuntil = 28;\n\t//cout << leap_count(y,y) << endl;\n\tif(leap_count(y, y)) {\n\t  until = 29;\n\t  // cout << \"leap\" << endl;\n\t}\n      }\n      //cout << 'm' << m << endl;\n      loop(i, 1, until + 1) {\n\t//cout << 'd' << d << endl;\n\td++;\n\tif(days == 0) break;\n\telse days--;\n      }\n      if(days == 0) break;\n      if(m == 12) m = 1;\n      else m++;\n    }\n    cout << y << '.' << m << '.' << d - 1;\n  }\n  else {\n    cout << \"2012.12.\" << days + 21;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nvector<string> split(const string &str, char sep)\n{\n    vector<string> v;\n    stringstream ss(str);\n    string buffer;\n    while( getline(ss, buffer, sep) ) {\n        v.push_back(buffer);\n    }\n    return v;\n}\n\nbool is_Leapyear(long long int year){\n    if(year%4==0){\n        if(year%100==0){\n            if(year%400==0){\n                return true;\n            }\n            return false;\n        }\n    }\n    return false;\n}\n\nint months[12] = {31,28,31,30,31,30,31,31,30,31,30,31};\nint leapmonths[12] = {31,29,31,30,31,30,31,31,30,31,30,31};\n\nint main() {\n\n    string s;\n\n    const long long  int baseday = (2012*365 + 2012/4 - 2012/100 + 2012/400 + 366-11);\n\n    while(1){\n\n        cin >> s;\n\n        if(s[0] == '#'){\n            break;\n        }\n\n        vector<string> vec = split(s,'.');\n\n        if(vec.size() == 5){\n\n            int a[5];//b,ka,t,w,ki\n\n            for(int i=0;i<5;i++){\n                stringstream ss;\n                ss << vec[i];\n                ss >> a[i];\n            }\n\n            long long int allday = 0;\n\n            allday = a[0]*20*20*18*20 + a[1]*20*18*20 + a[2]*18*20 + a[3]*20 + a[4];\n\n            if(allday>=11){\n                allday -= 11;\n                int year,month,day;\n                year = 2013+(allday/(365+365+365+366))*4;\n                allday = allday % (365+365+365+366);\n                year += allday/365;\n                allday %= 365;\n                allday = allday + (year-2013)/100 - (year-2013)/400;\n                month = 1;\n                day = 1;\n                if(is_Leapyear(year)){\n                    for(int i=0;i<12;i++){\n                        if(allday>leapmonths[i]){\n                            allday-=leapmonths[i];\n                            month++;\n                        }\n                        else{\n                            break;\n                        }\n                    }\n                    day += allday;\n                    printf(\"%d.%d.%d\\n\",year,month,day);\n                }\n                else{\n                    for(int i=0;i<12;i++){\n                        if(allday>months[i]){\n                            allday-=months[i];\n                            month++;\n                        }\n                        else{\n                            break;\n                        }\n                    }\n                    day += allday ;\n                    printf(\"%d.%d.%d\\n\",year,month,day);\n                }\n            }\n            else{\n                printf(\"2012.12.%d\\n\",21+allday);\n            }\n\n        }\n\n        else{\n\n            int b[3];//year,month,day\n\n            for(int i=0;i<3;i++){\n                stringstream ss;\n                ss << vec[i];\n                ss >> b[i];\n            }\n\n            long long int allday = (b[0] % 1872000 * 365 + b[0]/4 - b[0]/100 + b[0]/400);\n\n            if(is_Leapyear(b[0])){\n                allday--;\n            }\n\n            for(int i=0;i<b[1]-1;i++){\n                if(is_Leapyear(b[0])){\n                    allday += leapmonths[i];\n                }\n                else{\n                    allday += months[i];\n                }\n            }\n\n            allday += b[2];\n\n            allday -= baseday;\n\n            allday %= 1872000;\n\n            int ba,ka,t,w,ki;\n\n            ba = allday/144000;\n\n            allday %= 144000;\n\n            ka = allday/7200;\n\n            allday %= 7200;\n\n            t = allday/360;\n\n            allday %= 360;\n\n            w = allday/20;\n\n            allday %= 20;\n\n            ki = allday;\n\n            printf(\"%d.%d.%d.%d.%d\\n\",ba,ka,t,w,ki);\n        }\n\n    }\n\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cstdio>\n#include <iostream>\n#include <vector>\n#include <string>\n#include <sstream>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef pair<int, int> pii;\n\n#define reps(i,f,n) for(int i=f; i<int(n); ++i)\n#define rep(i,n) reps(i,0,n)\n\nint maya[] = {20, 18, 20, 20, 13};\n\nstring mtos(string s)\n{\n    int a[5];\n    sscanf(s.c_str(), \"%d.%d.%d.%d.%d\", a, a+1, a+2, a+3, a+4);\n    \n    ll elapsed = 0;\n    rep(i, 5){\n        elapsed *= maya[4-i];\n        elapsed += a[i];\n    }\n    elapsed += 734857;\n    \n    int y = (elapsed / 146097) * 400 + 1;\n    elapsed %= 146097;\n    \n    int m = 0, d = 0;\n    rep(i, elapsed){\n        bool leap = y%4==0 && (y%100!=0 || y%400==0);\n        int days[] = {31, leap ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\n        \n        ++d;\n        if(d == days[m]){\n            d = 0;\n            ++m;\n            if(m == 12){\n                ++y;\n                m = 0;\n            }\n        }\n    }\n    \n    stringstream sstr;\n    sstr << y << '.' << m+1 << '.' << d+1;\n    return sstr.str();\n}\n\nstring stom(string s)\n{\n    ll y, m, d;\n    sscanf(s.c_str(), \"%lld.%lld.%lld\", &y, &m, &d);\n    \n    bool leap = y%4==0 && (y%100!=0 || y%400==0);\n    int days[] = {0, 31, leap ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30};\n    rep(i, 11) days[i+1] += days[i];\n    \n    --y; --m; --d;\n    ll elapsed = 365*y + y/4 - y/100 + y/400 + days[m] + d;\n    elapsed -= 734857;\n    \n    string ret;\n    rep(i, 5){\n        ret = to_string(elapsed % maya[i]) + (i ? \".\" : \"\") + ret;\n        elapsed /= maya[i];\n    }\n    \n    return ret;\n}\n\nint main()\n{\n    string s;\n    while(cin >> s, s != \"#\"){\n        cout << (count(s.begin(), s.end(), '.') == 4 ? mtos(s) : stom(s)) << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string> \nusing namespace std;\nint main(){\n  long long y,m,d,b,ka,t,w,ki;\n  int i,j,k,p;\n  long long day,base=0,ba=1872000;\n  int mo[]={0,31,28,31,30,31,30,31,31,30,31,30,31};\n  string str;\n  cin>> str;\n  while(str[0]!='#'){\n    y=0;m=0;d=0;i=0;day=0;p=0;\n    while(str[i]!='\\0'){\n      if(str[i]=='.') p++;\n      i++;\n    }\n    if(p==2){\n      i=0;\n      while(str[i]!='.') i++;\n      for(j=0;j<i;j++){\n\ty*=10;\n\ty+=str[j]-'0';\n      }\n      i++;\n      k=i;\n      while(str[i]!='.') i++;\n      for(j=k;j<i;j++){\n\tm*=10;\n\tm+=str[j]-'0';\n      } \n      i++;\n      k=i;\n      while(str[i]!='\\0') i++;\n      for(j=k;j<i;j++){\n\td*=10;\n\td+=str[j]-'0';\n      }\n      //cout << y << \" \" << m << \" \" << d << endl;\n      if(y==2012) {\n\tday=d-21;\n      }else{\n\tday=10;\n\tfor(i=2013;i<y;i++)\n\t  if((i%4==0&&i%100!=0)||i%400==0) day+=366;\n\t  else day+=365;\n\tfor(i=1;i<m;i++) day+=mo[i];\n\tif(2<m&&((i%4==0&&i%100!=0)||i%400==0)) day++;\n\tday+=d;\n      }\n      while(ba<day) day-=ba;\n      b=day%(13*20*20*18*20)/(20*20*18*20);\n      ka=day%(20*20*18*20)/(20*18*20);\n      t=day%(20*18*20)/(18*20);\n      w=day%(18*20)/20;\n      ki=day%(20);\n      cout << b << \".\" << ka << \".\" << t << \".\" << w << \".\" << ki << endl;\n    }else{\n      i=0;b=0;ka=0;t=0;w=0;ki=0;\n      while(str[i]!='.') i++;\n      for(j=0;j<i;j++){\n\tb*=10;\n\tb+=str[j]-'0';\n      }\n      i++;\n      k=i;\n      while(str[i]!='.') i++;\n      for(j=k;j<i;j++){\n\tka*=10;\n\tka+=str[j]-'0';\n      } \n      i++;\n      k=i;\n      while(str[i]!='.') i++;\n      for(j=k;j<i;j++){\n\tt*=10;\n\tt+=str[j]-'0';\n      }\n      i++;\n      k=i;\n      while(str[i]!='.') i++;\n      for(j=k;j<i;j++){\n\tw*=10;\n\tw+=str[j]-'0';\n      } \n      i++;\n      k=i;\n      while(str[i]!='\\0') i++;\n      for(j=k;j<i;j++){\n\tki*=10;\n\tki+=str[j]-'0';\n      }\n      //cout << b << \".\" << ka << \".\" << t << \".\" << w << \".\" << ki << endl;\n      day =b*20*20*18*20+ka*20*18*20+t*18*20+w*20+ki;\n      \n      y=2012;m=12;d=21;\n      if(day<=10) d+=day;\n      else{\n\tday-=10;\n\ty=2013;\n\twhile(day>365){\n\t  if((y%4==0&&y%100!=0)||y%400==0) day-=366;\n\t  else day-=365;\n\t  y++;\n\t}\n\tm=1;int flag=0;\n\twhile(day>mo[m]&&flag==0){\n\t  if(m==2&&((y%4==0&&y%100!=0)||y%400==0)) {\n\t    if(day>29) {\n\t      day-=29;\n\t      m++;\n\t      \n\t    }\n\t    flag=1;\n\t  }else{\n\t    day-=mo[m];\n\t    m++;\n\t  }\n\t}\n\td=day;\n      }\n      cout << y << \".\" << m << \".\" << d << endl;\n    }\n    cin >> str;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string.h>\n#include<stdlib.h>\n#include<time.h>\n#include<stdio.h>\nusing namespace std;\nstruct tm T;\nstruct tm *a;\nint maya[5]={144000,7200,360,20,1};\nint sugi[5]={1,20,20,18,20};\nint main(){\n\tif(sizeof(time_t)!=8)exit(1);\n\ttime_t tt,kin,ans,s=1356015600;\n\t\tchar koyomi[50];\n\t int i,j;\n\tint  n[5]={0};\n\twhile(1){\n\t\tcin>>koyomi;\n\t\tif(koyomi[0]=='#'){\n\t\t\tbreak;\n\t\t}\n\t\tmemset(n,0,sizeof(n));\n\t\tj=0;\n\t\tcout<<strlen(koyomi)<<endl;\n\t\tfor(i=0;i<strlen(koyomi);i++){\n\t\t\tif(koyomi[i]=='.'){\n\t\t\t\tj++;\n\t\t\t}\n\t\t}\n\t\tcout<<j<<endl;\n\t\tif(j==2){\n\t\t\tsscanf(koyomi,\"%d.%d.%d\",&n[0],&n[1],&n[2]);\n\t\t\tT.tm_year=n[0]-1900;\n\t\t\tT.tm_mon=n[1]-1;\n\t\t\tT.tm_mday=n[2];\n\t\t\ttt=(mktime(&T)-s)/86400%1872000;\n\t\t\t//cout<<tt<<endl;\n\t\t\tprintf(\"%d.%d.%d.%d.%d\\n\",tt/144000,tt/7200%20,tt/360%20,tt/20%18,tt%20);\n\t\t}\n\t\telse{\n\t\t\tsscanf(koyomi,\"%d.%d.%d.%d.%d\",&n[0],&n[1],&n[2],&n[3],&n[4]);\n\t\t\ttt=(n[0]*144000+n[1]*7200+n[2]*360+n[3]*20+n[4])*86400+s;\n\t\t\ta=localtime(&tt);\n\t\t\tprintf(\"%d.%d.%d\\n\",a->tm_year+1900,a->tm_mon+1,a->tm_mday);\n\t\t}\n\t}\n\treturn 0;\n\texit(0);\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <string>\nusing namespace std;\n\ntypedef long long ll;\nconst ll M = 1872000;\n\n//            1  2  3  4  5  6  7  8  9 10 11 12\nint h[12] = {31,28,31,30,31,30,31,31,30,31,30,31};\n \nbool is_leap(int y){\n\treturn ((y % 400 == 0) || (y % 4 == 0 && y % 100 != 0));\n}\n \nstruct Time{\n\tint y, m, d;\n\tTime(int y_, int m_, int d_){\n\t\ty = y_; m = m_; d = d_;\n\t}\n\tTime operator++(){\n\t\tif( is_leap( y ) && m == 2 && d == 28 ){\n\t\t\td++;\n\t\t}else if(is_leap( y ) && m == 2 && d == 29 ){\n\t\t\tm++;\n\t\t\td = 1;\n\t\t}else{\n\t\t\tif( d < h[m-1] ){\n\t\t\t\td++;\n\t\t\t}else{\n\t\t\t\td = 1;\n\t\t\t\tif( m == 12 ){\n\t\t\t\t\tm = 1;\n\t\t\t\t\ty++;\n\t\t\t\t}else{\n\t\t\t\t\tm++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\nll get_day(ll y, ll m, ll d){\n\tif( m <= 2 ) y--, m += 12;\n\tll dy = 365 * (y - 1);\n\tll c = y / 100;\n\tll dl = (y >> 2) - c + (c >> 2);\n\tll dm = (m * 979 - 1033) >> 5;\n\treturn dy + dl + dm + d - 1;\n}\n\nint main(){\n\tstring s;\n\tint b, ka, t, w, ki, y, m, d;\n\tll ss = get_day(2012, 12, 21);\n\t\n\twhile( cin >> s ){\n\t\tif( s == \"#\" ) break;\n\t\t\n\t\tint cnt = 0;\n\t\tfor(int i = 0 ; i < s.size() ; i++ ){\n\t\t\tif( s[i] == '.' ) cnt++;\n\t\t\telse s[i] -= '0';\n\t\t}\n\t\t\n\t\tif( cnt == 2 ){ // 西暦のとき\n\t\t\tint c[3] = {0}, k = 0;\n\t\t\tfor(int i=0 ; i < s.size() ; i++ ){\n\t\t\t\tif( s[i] == '.' ){\n\t\t\t\t\tk++;\n\t\t\t\t}else{\n\t\t\t\t\tc[k] = c[k] * 10 + s[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\ty = c[0], m = c[1], d = c[2];\n\t\t\tll day = (get_day(y, m, d) - ss) % M;\n\t\t\tki = day % 20;\n\t\t\tday /= 20;\n\t\t\tw = day % 18;\n\t\t\tday /= 18;\n\t\t\tt = day % 20;\n\t\t\tday /= 20;\n\t\t\tka = day % 20;\n\t\t\tday /= 20;\n\t\t\tb = day % 13;\n\t\t\tprintf(\"%d.%d.%d.%d.%d\\n\", b, ka, t, w, ki);\n\t\t}else{ // マヤ暦のとき\n\t\t\tint c[5] = {0}, k = 0;\n\t\t\tfor(int i=0 ; i < s.size() ; i++ ){\n\t\t\t\tif( s[i] == '.' ){\n\t\t\t\t\tk++;\n\t\t\t\t}else{\n\t\t\t\t\tc[k] = c[k] * 10 + s[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\tb = c[0], ka = c[1], t = c[2], w = c[3], ki = c[4];\n\t\t\tll day = b * 20 * 20 * 18 * 20 + ka * 20 * 18 * 20 + t * 18 * 20 + w * 20 + ki;\n\t\t\ty = 2012, m = 12, d = 21;\n\t\t\twhile( day >= 365 ){\n\t\t\t\tif( is_leap(y+1) ){\n\t\t\t\t\tif( day - 366 >= 0 ){\n\t\t\t\t\t\tday -= 366;\n\t\t\t\t\t\ty++;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif( day - 365 >= 0 ){\n\t\t\t\t\t\tday -= 365;\n\t\t\t\t\t\ty++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tTime t(y, m, d);\n\t\t\twhile( day ){\n\t\t\t\t++t;\n\t\t\t\tday--;\n\t\t\t}\n\t\t\tprintf(\"%d.%d.%d\\n\", t.y, t.m, t.d);\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <sstream>\n#include <cstdio>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <complex>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <cassert>\n#include <climits>\n#include <queue>\n#include <set>\n#include <map>\n#include <valarray>\n#include <bitset>\n#include <stack>\nusing namespace std;\n\n#define REP(i,n) for(int i=0;i<(int)n;++i)\n#define FOR(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();++i)\n#define ALL(c) (c).begin(), (c).end()\n#define chmax(a,b) (a<b?(a=b,1):0)\n#define chmin(a,b) (a>b?(a=b,1):0)\n#define valid(y,x,h,w) (0<=y&&y<h&&0<=x&&x<w)\ntypedef long long ll;\ntypedef pair<int,int> pii;\nconst int INF = 1<<29;\nconst double PI = acos(-1);\nconst double EPS = 1e-8;\n\n// テゥツ鳴湘・ツケツエテ・ツ按、テ・ツョツ?\nbool leapYear(ll y) {\n  return y%400==0 || y%4==0&&y%100;\n}\n\n// fairfield テ」ツ?ョテ・ツ?ャテ・ツシツ?\nll fairfield(ll y, ll m, ll d) {\n  if (m<3) {y--; m+=12;}\n  return 365*y + y/4 - y/100 + y/400 + 306*(m+1)/10 + d - 428;\n}\n\nstruct Date {\n  ll dnum;\n  ll y,m,d;\n  Date(int y, int m, int d) : y(y),m(m),d(d) {\n    dnum = fairfield(y,m,d);\n  }\n  Date(ll dnum) : dnum(dnum) {\n    for (y=1; ; ++y) {\n      int t=365;\n      if (leapYear(y))t++;\n      if (t>=dnum) break;\n      dnum-=t;\n    }\n    for (m=1; ; ++m) {\n      int t=31;\n      if (m==4||m==6||m==9||m==11) t--;\n      if (m==2) {\n        if (leapYear(y)) t-=2;\n        else t-=3;\n      }\n      if (t>=dnum) break;\n      dnum-=t;\n    }\n    d = dnum;\n  }\n  int weekday() {               // 0 : テヲツ猟・テヲツ崢?\n    return dnum % 7 + 0;        \n  }\n};\n\nint main() {\n  ll base = Date(2012,12,21).dnum;\n  string s;\n  while(cin >> s, s!=\"#\") {\n    if (count(ALL(s),'.') == 2) {\n      ll y, m, d;\n      sscanf(s.c_str(),\"%lld.%lld.%lld\",&y,&m,&d);\n      ll dnum = Date(y,m,d).dnum - base;\n      ll A = dnum/20/18/20/20%13;\n      ll B = dnum/20/18/20%20;\n      ll C = dnum/20/18%20;\n      ll D = dnum/20%18;\n      ll E = dnum%20;\n      printf(\"%lld.%lld.%lld.%lld.%lld\\n\",A,B,C,D,E);\n    } else {\n      ll A,B,C,D,E;\n      sscanf(s.c_str(),\"%lld.%lld.%lld.%lld.%lld\",&A,&B,&C,&D,&E);\n      ll dnum = A*20*18*20*20 + B*20*18*20 + C*20*18 + D*20 + E;\n      Date t(dnum+base);\n      printf(\"%lld.%lld.%lld\\n\",t.y,t.m,t.d);\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\n#define REP(i,s,n) for(int i=s;i<n;i++)\n#define rep(i,n) REP(i,0,n)\n\nusing namespace std;\n\ntypedef long long ll;\n\n                //  0   1  2   3    4  5   6    7  8   9  10 11 12\nll  days[2][13] = {{0,31,28,31,30,31,30,31,31,30,31,30,31},\n\t\t           {0,31,29,31,30,31,30,31,31,30,31,30,31}};//leap year\n\nll Leap  = 31 + 29 + 31 + 30 + 31 + 30 + 31 + 31 + 30 + 31 + 30 + 31;\nll nLeap = 31 + 28 + 31 + 30 + 31 + 30 + 31 + 31 + 30 + 31 + 30 + 31;\n\nbool isLeap(ll year) { return ((year%4LL) == 0LL && (year%100LL) != 0LL || ( year % 400LL ) == 0LL); }\n\nvoid compute(vector<int> vec){\n  if( vec.size() == 3 ) {\n    ll y = vec[0], m = vec[1], d = vec[2];\n    ll counter = 0;\n    if( y == 2012 ) {\n      assert( m == 12 );\n      counter = d - 21;\n      assert( counter >= 0 );\n    } else {\n      counter = d;\n      REP(month,1,m) counter += days[isLeap(y)][month];\n\n      REP(year,2013,y) {\n        if( isLeap(year) ) counter += Leap;\n        else               counter += nLeap;\n      }\n      counter += 10LL;\n    }\n    ll limit = 13LL * ( 20LL * 20LL * 18LL * 20LL );\n    while( counter > limit ) counter -= limit;\n    ll b,ka,t,w,ki,temp;\n    b = ka = t = w = ki = 0;\n    ki = counter % 20LL;\n    temp = counter - ki;\n    assert( temp % 20LL == 0 );\n    int total_winaru = temp / 20LL;\n    w = total_winaru % 18LL;\n    temp -= w * 20LL;\n    assert( temp % (18LL*20LL) == 0 );\n    int total_toun = temp / ( 18LL * 20LL );\n    t = total_toun % 20LL;\n    temp -= t * 20LL * 18LL;\n    assert( temp % ( 20LL * 18LL * 20LL ) == 0 );\n    int total_katoun = temp / ( 20LL * 18LL * 20LL );\n    ka = total_katoun % 20LL;\n    temp -= ka * 20LL * 18LL * 20LL;\n    assert( temp % ( 20LL * 18LL * 20LL * 20LL ) == 0);\n    int total_bakutoun = temp / ( 20LL * 18LL * 20LL * 20LL );\n    b = total_bakutoun;\n    temp -= b * 20LL * 18LL * 20LL * 20LL;\n    assert( temp == 0 );\n    cout << b << \".\" << ka << \".\" << t << \".\" << w << \".\" << ki << endl;\n  } else {\n    ll counter = 0;\n    counter += ll(vec[0]) * 20LL * 20LL * 18LL * 20LL;\n    counter += ll(vec[1]) * 20LL * 18LL * 20LL;\n    counter += ll(vec[2]) * 18LL * 20LL;\n    counter += ll(vec[3]) * 20LL;\n    counter += ll(vec[4]);\n    ll Y = 2012, M = 12,O = 21LL+counter;\n\n    while( !( 1LL <= O && O <= days[isLeap(Y)][M] ) ){\n      O -= days[isLeap(Y)][M];\n      ++M;\n      if( M > 12LL ) { M = 1; ++Y; }\n    }\n    cout << Y << \".\" << M << \".\" << O << endl;\n  }\n}\n\nint main(){\n  string s;\n  while( cin >> s, s[0] != '#' ){\n    rep(i,s.size()) if( s[i] == '.' ) s[i] = ' ';\n    stringstream ss;\n    ss << s;\n    vector<int> vec;\n    int temp;\n    while( !( ss >> temp ).fail() ) vec.push_back(temp);\n    compute(vec);\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define REP(i,n) for(long long i = 0;i < n;++i)\n#define FOR(i,a,b) for(long long i = a;i < b;++i)\nusing namespace std;\nusing ll = long long;\nusing point = pair< int,int >;\n\nint main() {\n    int i, uru;\n    ll y, m, d;\n    ll b, ka, t, w, ki;\n    ll year, month, day;\n    ll sum;\n    string str;\n    const int table[][13] = {{0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31},\n                             {0, 31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31}};\n\n    while (cin >> str) {\n        if (str == \"#\") break;\n        if (count(str.begin(), str.end(), '.') == 4) {\n            sscanf(str.c_str(), \"%lld.%lld.%lld.%lld.%lld\", &b, &ka, &t, &w, &ki);\n\n            sum = ki + w * 20 + t * 360 + ka * 7200 + b * 144000;\n            for (i = 0, year = 2012, month = 12, day = 21; i < sum; ++i) {\n                uru = (year % 400 == 0 || year % 100 && year % 4 == 0);\n                day++;\n                if (table[uru][month] < day) {\n                    day = 1;\n                    month++;\n                }\n                if (month > 12) {\n                    month = 1;\n                    year++;\n                }\n            }\n\n            printf(\"%lld.%lld.%lld\\n\", year, month, day);\n        } else {\n            sscanf(str.c_str(), \"%lld.%lld.%lld\", &y, &m, &d);\n\n            sum = (y - 2013) * 365 + 10;\n            if (y == 2012) sum--;\n            uru = (y % 400 == 0 || y % 100 && y % 4 == 0);\n            for (i = 2013; i < y; ++i) {\n                sum += (i % 400 == 0 || i % 100 && i % 4 == 0);\n            }\n            for (i = 1; i < m; ++i) {\n                sum += table[uru][i];\n            }\n            sum += d;\n\n            printf(\"%lld.%lld.%lld.%lld.%lld\\n\", sum / 144000 % 13, sum / 7200 % 20, sum / 360 % 20, sum / 20 % 18, sum % 20);\n        }\n    }\n\n    return 0;\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<vector>\nusing namespace std;\nstring S, T; vector<int>p;\nlong long sum;\nlong long distsum[15000001], daysum[13][32], daysum2[13][32];\nint days[13] = { 0,31,28,31,30,31,30,31,31,30,31,30,31 };\nint days2[13] = { 0,31,29,31,30,31,30,31,31,30,31,30,31 };\n\nvoid mayawest(vector<int>a) {\n\tsum = a[0] * 144000 + a[1] * 7200 + a[2] * 360 + a[3] * 20 + a[4] + 734857;\n\tint y, m, d;\n\tfor (int i = 2000; i < 10000000; i++) {\n\t\tif (sum - distsum[i - 1] < 365 || (sum - distsum[i - 1] < 366 && i % 4 == 0)) {\n\t\t\ty = i;\n\t\t\tsum -= distsum[i - 1];\n\t\t\tbreak;\n\t\t}\n\t}\n\tfor (int i = 1; i <= 12; i++) {\n\t\tfor (int j = 1; j <= 31; j++) {\n\t\t\tif (y % 4 == 0) {\n\t\t\t\tif (daysum2[i][j] == sum) {\n\t\t\t\t\tm = i; d = j; goto E;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (daysum[i][j] == sum) {\n\t\t\t\t\tm = i; d = j; goto E;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\nE:;\n\tcout << y << '.' << m << '.' << d << endl;\n}\n\nvoid westmaya(vector<int>a) {\n\tif (a[0] % 4 == 0) { \n\t\tsum = distsum[a[0] - 1] + daysum2[a[1]][a[2]]; \n\t}\n\telse { \n\t\tsum = distsum[a[0] - 1] + daysum[a[1]][a[2]]; \n\t}\n\tsum -= 734857;//12.12.21\n\tcout << (sum / 144000) % 13 << '.' << (sum / 7200) % 20 << '.' << (sum / 360) % 20 << '.' << (sum / 20) % 18 << '.' << sum % 20 << endl;\n}\n\nint main() {\n\tdistsum[0] = 0;\n\tfor (int i = 1; i <= 14000000; i++) {\n\t\tif ((i % 4 == 0 && i % 100 != 0) || i % 400 == 0) {\n\t\t\tdistsum[i] = distsum[i - 1] + 366;\n\t\t}\n\t\telse {\n\t\t\tdistsum[i] += distsum[i - 1] + 365;\n\t\t}\n\t}\n\tint cnt = 0;\n\tfor (int i = 1; i <= 12; i++) {\n\t\tfor (int j = 1; j <= days[i]; j++) {\n\t\t\tdaysum[i][j] = cnt;\n\t\t\tcnt++;\n\t\t}\n\t}\n\tcnt = 0;\n\tfor (int i = 1; i <= 12; i++) {\n\t\tfor (int j = 1; j <= days2[i]; j++) {\n\t\t\tdaysum2[i][j] = cnt;\n\t\t\tcnt++;\n\t\t}\n\t}\n\twhile (cin >> S) {\n\t\tp.clear();\n\t\tif (S == \"#\") { break; }\n\t\tS += '.';\n\t\tfor (int i = 0; i < S.size(); i++) {\n\t\t\tif(S[i]=='.'){\n\t\t\t\tp.push_back(stoi(T));\n\t\t\t\tT = \"\";\n\t\t\t}\n\t\t\telse {\n\t\t\t\tT += S[i];\n\t\t\t}\n\t\t}\n\t\tif (p.size() == 5) {\n\t\t\tmayawest(p);\n\t\t}\n\t\telse {\n\t\t\twestmaya(p);\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <stdio.h>\nusing namespace std;\n \nbool isLYear(int y){\n    if (y % 4 == 0 && (y % 100 != 0 || y % 400 == 0)){\n        return true;\n    }\n    return false;\n}\n \nint MaDays(int m, int y){\n    if (m == 2){\n        if (isLYear(y))\n            return 29;\n        else\n            return 28;\n    }\n    else if (m == 4 || m == 6 || m == 9 || m == 11){\n        return 30;\n    }\n    return 31;\n}\n \nunsigned long int getDay(int y, int m, int d){\n    unsigned long int ans = 0;\n    if (y == 2012 && m == 12){\n        ans = d - 21;\n    }\n    else{\n        ans = 10;\n \n        for (int i = 2013; i<y; i++){\n            if (isLYear(i)){\n                ans += 366;\n            }\n            else{\n                ans += 365;\n            }\n        }\n \n        for (int i = 1; i<m; i++){\n            ans += MaDays(i, y);\n        }\n \n        ans += d ;\n    }\n    return ans;\n}\n \nvoid ADtoM(int n[]){\n    unsigned long int DA = getDay(n[0], n[1], n[2]);\n \n    DA %= 1872000;\n    int ki = DA % 20;\n    DA /= 20;\n    int w = DA % 18;\n    DA /= 18;\n    int t = DA % 20;\n    DA /= 20;\n    int ka = DA % 20;\n    DA /= 20;\n    int b = DA % 20;\n    DA /= 20;\n \n    cout << b << '.' << ka << '.' << t << '.' << w << '.' << ki << endl;\n}\n \nvoid MtoAD(int n[]){\n    int DM = (n[0] * 144000) + (n[1] * 7200) + (n[2] * 360) + (n[3] * 20) + n[4];\n    int y = 2012, m = 12, d = 21;\n    if (DM <= 10){\n        d += DM;\n        DM = 0;\n    }\n    else{\n        DM -= 11;\n        y++;\n        m = d = 1;\n    }\n    while ((isLYear(y)) ? DM >= 366 : DM >= 365){\n        if (DM >= 366 && isLYear(y)){\n            DM -= 366;\n            y++;\n        }\n        else if (DM >= 365 && !isLYear(y)){\n            DM -= 365;\n            y++;\n        }\n    }\n    while (DM >= MaDays(m, y) && m != 12){\n        DM -= MaDays(m, y);\n        m++;\n    }\n    cout << y << '.' << m << '.' << d + DM << endl;\n}\n \nint main(){\n    char c[32];\n    while (cin >> c){\n        if (c[0] == '#'){\n            break;\n        }\n        int i = 0, cnt = 0;\n        while (c[i] != '\\0')\n        {\n            if (c[i] == '.'){\n                cnt++;\n            }\n            i++;\n        }\n        if (cnt == 2){\n            int na[3];\n            sscanf(c, \"%lld.%lld.%lld\", &na[0], &na[1], &na[2]);\n            ADtoM(na);\n        }\n        else if (cnt == 4){\n            int nm[5];\n            sscanf(c, \"%lld.%lld.%lld.%lld.%lld\", &nm[0], &nm[1], &nm[2], &nm[3], &nm[4]);\n            MtoAD(nm);\n        }\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\nusing namespace std;\n\nint main(void){\n  unsigned long long a[5];\n  \n  int com = 0;\n  string s;\n  cin>>s;\n  a[0] = 0;\n  for(int i=0;i<s.size();i++){\n    if(s[i]=='.'){\n      com++;\n      a[com]=0;\n      continue;\n    }\n    a[com]=a[com]*10+s[i]-'0';\n  }\n  for(int i = 0 ; i <= com ; i ++)\n    cout<<a[i]<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <fstream>\n#include <sstream>\n#include <iomanip> \n#include <complex> \n#include <string>\n#include <vector> \n#include <list>\n#include <deque> \n#include <stack> \n#include <queue> \n#include <set>\n#include <map>\n#include <bitset>\n#include <functional>\n#include <utility>\n#include <algorithm> \n#include <numeric> \n#include <typeinfo> \n#include <cstdio>\n#include <cstdlib> \n#include <cstring>\n#include <cmath>\n#include <climits> \n#include <ctime>\nusing namespace std;\n\ntypedef unsigned long long ull;\n\nstring str;\nvector<ull> a;\null nd[12]={31,28,31,30,31,30,31,31,30,31,30,31};\null ud[12]={31,29,31,30,31,30,31,31,30,31,30,31};\n\nbool uruY(ull y){\n\tif(y%400==0)return true;\n\tif(y%100==0)return false;\n\tif(y%4==0)return true;\n\treturn false;\n}\n\n ull GetDays(ull y,ull m,ull d){\n\t// 1・2月 → 前年の13・14月\n\tif (m <= 2){\n\t\t--y;\n\t\tm += 12;\n\t}\n\tull dy = 365 * (y - 1); // 経過年数×365日\n\tull c = y / 100;\n\tull dl = (y >> 2) - c + (c >> 2); // うるう年分\n\tull dm = (m * 979 - 1033) >> 5; // 1月1日から m 月1日までの日数\n\treturn dy + dl + dm + d - 1;\n}\nint main(void){\n\tull now=GetDays(2012,12,21);\n\twhile(getline(cin,str)){\n\t\tif(str==\"#\")break;\n\t\tfor(int i=0;i<str.size();i++){\n\t\t\tif(str[i]=='.')str[i]=' ';\n\t\t}\n\t\tstringstream ss(str);\n\t\tint in;\n\t\ta.clear();\n\t\twhile(ss >> in){\n\t\t\ta.push_back(in);\n\t\t}\n\t\tif(a.size()==3){\n\t\t\tull next=GetDays(a[0],a[1],a[2]);\n\t\t\t//printf(\"%llu %llu\\n\",next,now);\n\t\t\tnext-=now;\n\t\t\tnext=next%(13*20*20*18*20);\n\t\t\tull ki=next%20;\n\t\t\tnext=next/20;\n\t\t\tull w=next%18;\n\t\t\tnext=next/18;\n\t\t\tull t=next%20;\n\t\t\tnext=next/20;\n\t\t\tull ka=next%20;\n\t\t\tnext=next/20;\n\t\t\tull b=next%13;\n\t\t\tprintf(\"%llu.%llu.%llu.%llu.%llu\\n\",b,ka,t,w,ki);\n\t\t}else{\n\t\t\tull maya=a[0]*(20*20*18*20);\n\t\t\tmaya+=a[1]*(20*18*20);\n\t\t\tmaya+=a[2]*(18*20);\n\t\t\tmaya+=a[3]*20;\n\t\t\tmaya+=a[4];\n\t\t\tmaya+=now;\n\t\t\tull y=2012,m=12,d=21;\n\t\t\twhile(GetDays(y,m,d)<maya)y+=400;\n\t\t\twhile(GetDays(y,m,d)>maya+365)y--;\n\t\t\tif(uruY(y)){\n\t\t\t\tfor(m=1;m<=12;m++){\n\t\t\t\t\tfor(d=1;d<=ud[m-1];d++){\n\t\t\t\t\t\tif(GetDays(y,m,d)==maya){\n\t\t\t\t\t\t\tprintf(\"%llu.%llu.%llu\\n\",y,m,d);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tfor(m=1;m<=12;m++){\n\t\t\t\t\tfor(d=1;d<=nd[m-1];d++){\n\t\t\t\t\t\tif(GetDays(y,m,d)==maya){\n\t\t\t\t\t\t\tprintf(\"%llu.%llu.%llu\\n\",y,m,d);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define LL long long int\n#define INF 734858\nusing namespace std;\nint main(void)\n{\n\tLL b,ka,t,w,ki,y,m,d,sum,cnt,mon,day,year;\n\tLL i,j,k;\n\tLL maya[5]={144000,7200,360,20,1};\n\tLL month[2][12]={\n\t\t\t\t\t{31,28,31,30,31,30,31,31,30,31,30,31},\n\t\t\t\t\t{31,29,31,30,31,30,31,31,30,31,30,31}\n\t\t\t\t\t};\n\tchar s[100];\n\twhile(1) {\n\t\tcin>>s;\n\t\tif(s[0]=='#') break;\n\t\tcnt=0;\n\t\tfor(i=0;i<strlen(s);i++) {\n\t\t\tif(s[i]=='.') cnt++;\n\t\t}\n\t\tif(cnt==2) { //?\\?????????????\n\t\t\tsum=0;\n\t\t\tstring sum2;\n\t\t\tsum2=s[0];\n\t\t\tfor(i=1;i<strlen(s);i++) {\n\t\t\t\tif(s[i]=='.') break;\n\t\t\t\telse sum2+=s[i];\n\t\t\t}\n\t\t\tint mx;\n\t\t\tmx=atoi(sum2.c_str());\n\t\t\t//sum=?\\????????¨? \n\t\t\tfor(i=1;i<mx;i++) {\n\t\t\t\tif(i%4==0&&i%100!=0||i%400==0) sum+=366;\n\t\t\t\telse sum+=365;\n\t\t\t}\n\t\t\t//?????°????¨????\n\t\t\tint f=0;\n\t\t\tfor(i=0;i<strlen(s);i++) {\n\t\t\t\tif(s[i]=='.'&&s[i+2]=='.') {\n\t\t\t\t\tsum2=s[i+1];\n\t\t\t\t\tif(f==0) mon=atoi(sum2.c_str());\n\t\t\t\t\telse day=atoi(sum2.c_str());\n\t\t\t\t\tf=1;\n\t\t\t\t}\n\t\t\t\telse if(s[i]=='.'&&s[i+2]!='.') {\n\t\t\t\t\tsum2=s[i+1];\n\t\t\t\t\tsum2+=s[i+2];\n\t\t\t\t\tif(f==0) mon=atoi(sum2.c_str());\n\t\t\t\t\telse day=atoi(sum2.c_str());\n\t\t\t\t\tf=1;\n\t\t\t\t}\n\t\t\t}\n\t\t\t//cout<<mon<<\" \"<<day<<endl;\n\t\t\t//?????°???sum????¶?????????????????????´??¨????????§????????¨?????????????????????\n\t\t\tint test=0;\n\t\t\tfor(i=0;i<mon-1;i++) {\n\t\t\t\tif(mx%4==0&&mx%100!=0||mx%400==0) sum+=month[1][i];\n\t\t\t\telse sum+=month[0][i];\n\t\t\t}\n\t\t\t//??\\????????????????????§???????????§??????????????§?????\\??§?¨????\n\t\t\tsum+=day,sum-=INF;\n\t\t\tb=sum/maya[0],sum=sum%maya[0];\n\t\t\tka=sum/maya[1],sum=sum%maya[1];\n\t\t\tt=sum/maya[2],sum=sum%maya[2];\n\t\t\tw=sum/maya[3],ki=sum%maya[3];\n\t\t\tcout<<b%13<<\".\"<<ka%20<<\".\"<<t%20<<\".\"<<w%18<<\".\"<<ki%20<<endl;\n\t\t}\n\t\telse { //??????????\\????\n\t\t\tsum=0;\n\t\t\tLL swi=1,x;\n\t\t\tstring sum3;\n\t\t\t//????????????????????§???\n\t\t\tif(s[1]=='.') sum3=s[0],sum+=atoi(sum3.c_str())*maya[0];\n\t\t\telse if(s[1]!='.') sum3=s[0],sum3+=s[1],sum+=atoi(sum3.c_str())*maya[0];\n\t\t\tfor(i=0;i<strlen(s);i++) {\n\t\t\t\tif(s[i]=='.'&&s[i+2]=='.') {\n\t\t\t\t\tsum3=s[i+1];\n\t\t\t\t\tsum+=atoi(sum3.c_str())*maya[swi];\n\t\t\t\t\tswi++;\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\telse if(s[i]=='.'&&s[i+2]!='.') {\n\t\t\t\t\tsum3=s[i+1],sum3+=s[i+2];\n\t\t\t\t\tsum+=atoi(sum3.c_str())*maya[swi];\t\n\t\t\t\t\tswi++;\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t//\tcout<<sum<<endl;\n\t\t\tint zan=10;//zan???21????£????10???????´????????????????sum?????????10???????????????\n\t\t\tif(sum<11) {\n\t\t\t\tcout<<\"2012.12.\"<<sum+21<<endl;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tsum-=10;\n\t\t\t\tLL suu=2013;\n\t\t\t\twhile(1) {\n\t\t\t\t\tif(suu%4==0&&suu%100!=0||suu%400==0) {\n\t\t\t\t\t\tif(sum>366) {\n\t\t\t\t\t\t\tsum-=366;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if(sum==366) {\n\t\t\t\t\t\t\tsum-=366;\n\t\t\t\t\t\t\tmon=12,day=31;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tmon=1;\n\t\t\t\t\t\t\tfor(i=0;i<12;i++) {\n\t\t\t\t\t\t\t\tif(sum>=month[1][i]) {\n\t\t\t\t\t\t\t\t\tif(sum-month[1][i]==0) break;\n\t\t\t\t\t\t\t\t\tsum-=month[1][i];\n\t\t\t\t\t\t\t\t\tmon++;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tday=sum;\n\t\t\t\t\t\t\tsum=0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif(sum>365) {\n\t\t\t\t\t\t\tsum-=365;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if(sum==365) {\n\t\t\t\t\t\t\tsum-=365;\n\t\t\t\t\t\t\tmon=12,day=31;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tmon=1;\n\t\t\t\t\t\t\t//cout<<\"sum==\"<<sum<<endl;\n\t\t\t\t\t\t\tfor(i=0;i<12;i++) {\n\t\t\t\t\t\t\t\tif(sum>=month[0][i]) {\n\t\t\t\t\t\t\t\t\tif(sum-month[0][i]==0) break;\n\t\t\t\t\t\t\t\t\tsum-=month[0][i];\n\t\t\t\t\t\t\t\t\tmon++;\n\t\t\t\t\t\t\t\t\t//cout<<\"sum==\"<<sum<<endl;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tday=sum;\n\t\t\t\t\t\t\tsum=0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(sum==0) break;\n\t\t\t\t\tsuu++;\n\t\t\t\t}\n\t\t\t\tcout<<suu<<\".\"<<mon<<\".\"<<day<<endl;\n\t\t\t}\n\t\t}\n\t}\n}\n\t"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef unsigned uint;\n\nvector<uint> split(string line){\n\tvector<uint> res;\n\tstringstream ss(line);\n\tstring b;\n\twhile (getline(ss, b, '.')){\n\t\tres.push_back(atoi(b.c_str()));\n\t}\n\treturn res;\n}\n\nconst uint maya[] = {144000, 7200, 360, 20, 1};\nconst uint dpm[] = {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\n\ninline bool isLeap(uint y, uint m = 1){\n\tif (m != 1) return false;\n\tif (y % 400 == 0) return true;\n\tif (y % 100 == 0) return false;\n\tif (y % 4 == 0) return true;\n\treturn false;\n}\n\nvector<uint> v;\nvoid solve(){\n\tuint day = 0;\n\tfor (uint i = 0; i < 2012; i++){\n\t\tday += 365;\n\t\tif (isLeap(i)) day++;\n\t}\n\tfor (uint i = 0; i < 11; i++){\n\t\tday += dpm[i];\n\t}\n\tday += 21;\n\t\n\tfor (uint i = 0; i < 5; i++){\n\t\tday += maya[i] * v[i];\n\t}\n\t\n\tuint resy = 0, resm = 0, resd = 0;\n\t\n\t// 1??´??????????????????\n\twhile (true){\n\t\tuint pl = isLeap(resy) ? 366 : 365;\n\t\tif (day < pl) break;\n\t\tday -= pl;\n\t\tresy++;\n\t}\n\t\n\t// 1?????????????????????\n\twhile (true){\n\t\tuint pl = dpm[resm] + (isLeap(resy, resm) ? 1 : 0);\n\t\tif (day < pl) break;\n\t\tday -= pl;\n\t\tresm++;\n\t}\n\t\n\tresd = day;\n\t\n\t/*if (resd == 0){\n\t\tif (resm == 0){\n\t\t\tresy--;\n\t\t\tresm = 11;\n\t\t\tresd = 30;\n\t\t}\n\t\telse {\n\t\t\tresm--;\n\t\t\tresd = dpm[resm];\n\t\t}\n\t}*/\n\t\n\tresm++;\n\tresd++;\n\t\n\tprintf(\"%u.%u.%u\\n\", resy, resm, resd);\n}\nvoid solve2(){\n\tuint day = 0;\n\t\n\tfor (uint i = 0; i < v[0]; i++){\n\t\tday += (isLeap(i) ? 366 : 365);\n\t}\n\tfor (uint i = 0; i < v[1]-1; i++){\n\t\tday += dpm[i] + (isLeap(v[0], i) ? 1 : 0);\n\t}\n\tday += v[2]-1;\n\t\n\tfor (uint i = 0; i < 2012; i++){\n\t\tday -= 365;\n\t\tif (isLeap(i)) day--;\n\t}\n\tfor (uint i = 0; i < 11; i++){\n\t\tday -= dpm[i];\n\t}\n\tday -= 21;\n\t\n\tday %= maya[0] * 13;\n\tfor (int i = 0; i < 5; i++){\n\t\tif (i) printf(\".\");\n\t\tprintf(\"%u\", day / maya[i]);\n\t\tday %= maya[i];\n\t}\n\tputs(\"\");\n}\n\nint main()\n{\n\tstring line;\n\twhile (cin >> line, line != \"#\"){\n\t\tv = split(line);\n\t\tif (v.size() == 5) solve();\n\t\telse solve2();\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string.h>\n#include<stdlib.h>\n#include<stdio.h>\nusing namespace std;\nlong long n[5];\nlong long  ma[5]={144000,7200,360,20,1};\nlong long tuki[13]={0,31,28,31,30,31,30,31,31,30,31,30,31};\nlong long p=31+29+31+30+31+30+31+31+30+31+30+21;\nint  seireki(){\n\tlong long ans[6]={0};\n\tlong long kin=0;\n\tint  i,j;\n\t/*for(i=0;i<5;i++){\n\t\tcout<<n[i]<<endl;\n\t}*/\n\tkin=0;\n\tfor(i=n[0]-1;i>=2012;i--){\n\t\tif(i%4==0&&i%100!=0||i%4==0&&i%400==0){\n\t\t\tkin+=366;\n\t\t}\n\t\telse{\n\t\t\tkin+=365;\n\t\t}\n\t}\n\tfor(i=n[1]-1;i>=1;i--){\n\t\tkin+=tuki[i];\n\t}\n\tif(n[0]%4==0&&n[0]%100!=0||n[0]%4==0&&n[0]%400==0){\n\t\tif(n[1]>=3){\n\t\t\tkin++;\n\t\t}\n\t}\n\tkin+=n[2];\n\tkin-=p;\n\tkin%=1872000;\n\tfor(i=0;i<5;i++){\n\t\tans[i]=kin/ma[i];\n\t\tkin%=ma[i];\n\t}\n\tfor(i=0;i<5;i++){\n\t\tcout<<ans[i];\n\t\tif(i<4){\n\t\t\tcout<<\".\";\n\t\t}\n\t\telse{\n\t\t\tcout<<endl;\n\t\t}\n\t}\n}\nvoid maya(void){\n\tlong long ans[3];\n\tlong long kin=0;\n\tint i,j;\n\t/*for(i=0;i<5;i++){\n\t\tkin=kin+n[i]*ma[i];\n\t}*/\n\tkin=kin+n[0]*144000;\n\tkin=kin+n[1]*7200;\n\tkin=kin+n[2]*360;\n\tkin=kin+n[3]*20;\n\tkin+=n[4];\n\tans[0]=2012;\n\tans[1]=12;\n\tans[2]=21;\n\t//cout<<kin<<endl;\n\twhile(kin>0){\n\t\tkin--;\n\t\tans[2]++;\n\t\tif((ans[1]==2&&ans[2]>29&&ans[0]%4==0&&ans[0]%100!=0)||(ans[1]==2&&ans[2]>29&&ans[0]%4==0&&ans[0]%400==0)||tuki[ans[1]]<ans[2]){\n\t\t\tans[1]++;\n\t\t\tans[2]=1;\n\t\t\tif(ans[1]>12){\n\t\t\t\tans[1]=1;\n\t\t\t\tans[0]++;\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"%lld.%lld.%lld\\n\",ans[0],ans[1],ans[2]);\n}\nint main(){\n\tchar koyomi[50];\n\tint i,j;\n\twhile(1){\n\t\tcin>>koyomi;\n\t\tif(koyomi[0]=='#'){\n\t\t\tbreak;\n\t\t}\n\t\tmemset(n,0,sizeof(n));\n\t\tj=0;\n\t\t//out<<strlen(koyomi)<<endl;\n\t\tfor(i=0;i<strlen(koyomi);i++){\n\t\t\tif(koyomi[i]=='.'){\n\t\t\t\tj++;\n\t\t\t}\n\t\t}\n\t\t//printf(\"%lld.%lld.%lld.%lld.%lld\\n\",n[0],n[1],n[2],n[3],n[4]);\n\t\tif(j==2){\n\t\t\tsscanf(koyomi,\"%lld.%lld.%lld\",&n[0],&n[1],&n[2]);\n\t\t\tseireki();\n\t\t}\n\t\telse{\n\t\t\tsscanf(koyomi,\"%lld.%lld.%lld.%lld.%lld\",&n[0],&n[1],&n[2],&n[3],&n[4]);\n\t\t\tmaya();\n\t\t}\n\t}\n\treturn 0;\n}\n\t"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\n#include<cctype>\n#include<algorithm>\nusing namespace std;\nvoid con_ad(char *num);\nvoid con_maya(char *num);\nint Lcalendar[] = {366,31,29,31,30,31,30,31,31,30,31,30,31};/*Leap year Calendar*/\nint Ncalendar[] = {365,31,28,31,30,31,30,31,31,30,31,30,31};/*Nomal Calendar*/\nint main(){\n\tchar str[128]={0};\n\twhile(scanf(\"%s\",str) , str[0] != '#'){\n\t\tint len = strlen(str);\n\t\tint p = 0;\n\t\tfor(int i = 0; i < len; i++){\n\t\t\tif(str[i] == '.')p++;\n\t\t}\n\t\t(p == 2) ? con_ad(str) : con_maya(str);\n\t}\n\treturn 0;\n}\nvoid con_ad(char *num){\n\t/*first phase*/\n\tunsigned long long int year,month,day;\n\tsscanf(num,\"%lld.%lld.%lld\",&year,&month,&day);\n\n\tunsigned long long int sum = 0;\n\tsum = (year-1) * 365 + ((year-1)/4) - ((year-1)/100) + ((year-1)/400);\n\n\t/*Check Leap year*/\n\tif(year % 4 == 0 &&(year % 400 == 0 || year % 100 != 0)){\n\t\tfor(int i = 1; i <= month-1; i++){\n\t\t\tsum += Lcalendar[i];\n\t\t}\n\t}\n\n\telse{\n\t\tfor(int i = 1; i <= month-1; i++){\n\t\t\tsum += Ncalendar[i];\n\t\t}\n\t}\n\tsum += day;\n\t/*2012/12/21 = 734858*/\n\tsum -= 734858;\n\tsum %= 1872000;\n\t/*second phase*/\n\tunsigned long long int ans[8]={0};\n\n\tans[0] = sum / 144000;\n\tsum %= 144000;\n\tans[1] = sum / 7200;\n\tsum %= 7200;\n\tans[2] = sum / 360;\n\tsum %= 360;\n\tans[3] = sum / 20;\n\tsum %= 20;\n\tans[4] = sum;\n\n\tfor(int i = 0; i < 4; i++)printf(\"%lld.\",ans[i]);\n\tprintf(\"%lld\\n\",ans[4]);\n\n\treturn ;\n}\nvoid con_maya(char *num){\n    unsigned long long int b,ka,t,w,ki,sum = 0;\n    sscanf(num,\"%lld.%lld.%lld.%lld.%lld\",&b,&ka,&t,&w,&ki);\n    sum = (b*144000) + (ka*7200) + (t*360) + (w*20) + ki;\n\n    unsigned long long int year = 2012,month = 12,day = 21;\n    while(sum--){\n        day++;\n        if(day > Ncalendar[month] + (month == 2 && (year % 400 == 0||(year % 4 == 0 && year % 100 != 0)))){\n            month++;\n            day = 1;\n        }\n        if(month > 12){\n            year++;\n            month = 1;\n        }\n    }\n    printf(\"%lld.%lld.%lld\\n\",year,month,day);\n\treturn ;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n\n#define REP(i,k,n) for(int i=k;i<n;i++)\n#define rep(i,n) for(int i=0;i<n;i++)\n\nusing namespace std;\ntypedef long long ll;\n\nint month[13] = {0,31,28,31,30,31,30,31,31,30,31,30,31};\n\nvector<string> split(const string &str, char delim)\n{\n    vector<string> res;\n    size_t current = 0, found;\n\twhile((found = str.find_first_of(delim, current)) != string::npos)\n    {\n\t    res.push_back(string(str, current, found - current));\n\t    current = found + 1;\n    }\n    res.push_back(string(str, current, str.size() - current));\n    return res;\n}\n\nbool isLeapYear(int y)\n{\n\tif( (y%4 == 0 && y%100 != 0) || (y%400 == 0) ) return true;\n\telse return false;\n}\n\nll getLeapCount(ll y)\n{\n\tll ret = y/4;\n\tret -= y/100;\n\tret += y/400;\n\n\treturn ret;\n}\n\nll toDate(ll y,ll m,ll d)\n{\n\tll ret = 0;\n\n\tret += getLeapCount(y-1) * 366;\n\tret += (y-1 - getLeapCount(y-1)) * 365;\n\n\tREP(i,1,m)\n\t{\n\t\tif(i == 2)\n\t\t{\n\t\t\tif(isLeapYear(y)) ret += 29;\n\t\t\telse ret += 28;\n\t\t}\n\t\telse ret += month[i];\n\t}\n\n\tret += d;\n\n\treturn ret;\n}\n\nlong long countAD(long long y, int m, int d)\n{\n    int days[] = {0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\n    if((y % 4 == 0 && y % 100 != 0) || y % 400 == 0)\n        ++ days[2];\n \n    long long ret = (y-1) * 365LL + (y-1) / 4 - (y-1) / 100 + (y-1) / 400;\n    for(int i=1; i<m; ++i)\n        ret += days[i];\n    ret += d;\n \n    return ret;\n}\n\n\nll toDate(ll b,ll ka,ll t,ll w,ll ki)\n{\n\tll ret = 0;\n\tret += b*20*20*18*20;\n\tret += ka * 20*18*20;\n\tret += t * 18*20;\n\tret += w * 20;\n\tret += ki;\n\n\treturn ret;\n}\n\nint main()\n{\n\tstring s;\n\twhile(cin >> s)\n\t{\n\t\tif(s == \"#\") break;\n\t\t\n\t\tvector<string> _s = split(s,'.');\n\t\n\t\tvector<ll> v;\n\t\tv.resize(_s.size());\n\t\trep(i,_s.size()) v[i] = atoll(_s[i].c_str());\n\n\t\tif(_s.size() == 3)\n\t\t{\n\t\t\tll date = (toDate(v[0],v[1],v[2]) - toDate(2012,12,21));\n\t\t\tdate %= 13*20*20*18*20;\n\t\t\t\n\t\t\tll b = 0,ka = 0,t = 0,w = 0,ki = 0;\n\t\t\t\n\n\t\t\twhile(date - 20*20*18*20 >= 0)\n\t\t\t{\n\t\t\t\tb++;\n\t\t\t\tdate -= 20*20*18*20;\n\t\t\t}\n\n\t\t\twhile(date - 20*18*20 >= 0)\n\t\t\t{\n\t\t\t\tka++;\n\t\t\t\tdate -= 20*18*20;\n\t\t\t}\n\n\t\t\twhile(date - 18*20 >= 0)\n\t\t\t{\n\t\t\t\tt++;\n\t\t\t\tdate -= 18*20;\n\t\t\t}\n\n\t\t\twhile(date - 20 >= 0)\n\t\t\t{\n\t\t\t\tw++;\n\t\t\t\tdate -= 20;\n\t\t\t}\n\t\t\t\n\t\t\tki = date;\n\t\t\t\n\t\t\tcout << b << \".\" << ka << \".\" << t << \".\" << w << \".\" << ki << endl;\n\n\t\t}\n\t\telse if(_s.size() == 5)\n\t\t{\n\t\t\tll date = toDate(v[0],v[1],v[2],v[3],v[4]) + toDate(2012,12,21);\n\t\t\tll y = 0,m = 0,d = 0;\n\t\t\t\n\t\t\twhile(true)\n\t\t\t{\n\t\t\t\tif(isLeapYear(y))\n\t\t\t\t{\n\t\t\t\t\tif(date - 366 >= 0)\n\t\t\t\t\t{\n\t\t\t\t\t\ty++;\n\t\t\t\t\t\tdate -= 366;\n\t\t\t\t\t}\n\t\t\t\t\telse break;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif(date - 365 >= 0)\n\t\t\t\t\t{\n\t\t\t\t\t\ty++;\n\t\t\t\t\t\tdate -= 365;\n\t\t\t\t\t}\n\t\t\t\t\telse break;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ty++;\n\n\t\t\tREP(i,1,13)\n\t\t\t{\n\t\t\t\tif(i == 2 && isLeapYear(y))\n\t\t\t\t{\n\t\t\t\t\tif(date - (month[i]+1) >= 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tm++;\n\t\t\t\t\t\tdate -= month[i]+1;\n\t\t\t\t\t}\n\t\t\t\t\telse break;\n\t\t\t\t}\n\t\t\t\telse if(date - month[i] >= 0)\n\t\t\t\t{\t\n\t\t\t\t\tm++;\n\t\t\t\t\tdate -= month[i];\n\t\t\t\t}\n\t\t\t\telse break;\n\t\t\t}\n\t\t\t\n\t\t\tm++;\n\t\t\td = date + 1;\n\n\t\t\tcout << y << \".\" << m << \".\" << d << endl;\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string.h>\n#include<stdlib.h>\n#include<time.h>\nusing namespace std;\nstruct tm T;\nstruct tm *a;\nint maya[5]={144000,7200,360,20,1};\nint sugi[5]={1,20,20,18,20};\nint main(){\n\ttime_t tt,kin,ans,s=1356015600;\n\t\tchar koyomi[50];\n\t int i;\n\tlong long n[5]={0};\n\twhile(1){\n\t\tcin>>koyomi;\n\t\tif(koyomi[0]=='#'){\n\t\t\tbreak;\n\t\t}\n\t\tmemset(n,0,sizeof(n));\n\t\tn[0]=atoi(strtok(koyomi,\".\"));\n\t\tfor(i=1;i<5;i++){\n\t\t\tn[i]=atoi(strtok(NULL,\".\"));\n\t\t}\n\t\tif(n[0]>=2012){\n\t\t\tT.tm_year=n[0]-1900;\n\t\t\tT.tm_mon=n[1]-1;\n\t\t\tT.tm_mday=n[2];\n\t\t\ttt=(mktime(&T)-s)/86400%1872000;\n\t\t\t//cout<<tt<<endl;\n\t\t\tfor(i=0;i<5;i++){\n\t\t\t\tif(i>0){\n\t\t\t\t\tcout<<\".\";\n\t\t\t\t}\n\t\t\t\tif(i>0){\n\t\t\t\t\tcout<<tt/maya[i];\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tcout<<tt/maya[i]%sugi[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\tcout<<endl;\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\n\nconst int unit[5] = {20 * 20 * 18 * 20, 20 * 18 * 20, 18 * 20, 20, 1};\nconst int month[13] = {0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\n\nbool is_leap(int y)\n{\n    if (y % 400 == 0) return 1;\n    if (y % 100 == 0) return 0;\n    if (y % 4 == 0) return 1;\n    return 0;\n}\n\n// ?\\???? -> ??????\nvoid a2m(vector<int> &v)\n{\n    int y = v[0], m = v[1], d = v[2];\n    if (y == 2012 && m == 12 && 21 <= d && d <= 31) {\n        cout << \"0.0.0.0.\" << d - 21 << endl;\n        return;\n    }\n    \n    ll day = 10LL;\n    for (int i = 2013; i < y; i++) {\n        day += (is_leap(i) ? 366LL : 365LL);        \n    }\n    for (int i = 1; i < m; i++) {\n        ll md = month[i];\n        if (is_leap(y) && i == 2) md++;        \n        day += md;\n    }\n    \n    day += d;\n    day %= 1872000LL;\n    \n    for (int i = 0; i < 5; i++) {\n        if (i > 0) cout << \".\";\n        cout << day / unit[i];\n        day %= unit[i];\n    }\n    cout << endl;\n}\n\n// ?????? -> ?\\????\nvoid m2a(vector<int> &v)\n{\n    int day = 0;\n    for (int i = 0; i < 5; i++) {\n        day += v[i] * unit[i];\n    }\n\n    int y = 2012, m = 12, d = 21;\n    for (int i = 0; i < 11; i++) {\n        if (day == 0) break;\n        day--; d++;\n    }\n    \n    if (d == 32) y++, d = 1, m = 1;\n    \n    bool update = 1;\n    while (update) {\n        update = 0;\n        if (is_leap(y)) {\n            if (day >= 366) {\n                day -= 366;\n                y++;\n                update = 1;\n            } \n        } else {\n            if (day >= 365) {\n                day -= 365;\n                y++;\n                update = 1;\n            }            \n        }\n    }\n    \n    for (int i = 1; i <= 12; i++, m++) {\n        int md = month[i];\n        if (is_leap(y) && i == 2) md++;\n        if (day >= md) {\n            day -= md;\n        } else {\n            break;\n        }\n    }\n    \n    cout << y << \".\" << m << \".\" << d + day << endl;\n}\n\nint s2i(string &s)\n{\n    stringstream ss(s);\n    int num;\n    ss >> num;\n    return num;\n}\n\nint main()\n{\n    string s;\n    while (cin >> s, s != \"#\") {\n        stringstream ss(s);\n        vector<int> v;\n        while (getline(ss, s, '.')) {\n            v.push_back(s2i(s));\n        }\n        (v.size() == 3 ? a2m(v) : m2a(v));\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<string>\n#include<algorithm>\n#include<map>\n#include<set>\n#include<utility>\n#include<cmath>\n#include<cstring>\n#include<queue>\n#include<cstdio>\n#include<sstream>\n#define loop(i,a,b) for(int i=a;i<b;i++) \n#define rep(i,a) loop(i,0,a)\n#define pb push_back\n#define mp make_pair\n#define all(in) in.begin(),in.end()\nconst double PI=acos(-1);\nconst double EPS=1e-8;\nconst int inf=1e9;\nusing namespace std;\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef pair<int,int> pii;\nstring s;\nvi f(){\n\ts+=\".\";\n\tvi a;\n\tint t=0;\n\trep(i,s.size())if(s[i]=='.'){\n\t\ta.pb(atoi(&s.substr(t,i)[0]));\n\t\tt=i+1;\n\t}\n\treturn a;\n}\nint uruu(int a){\n\treturn a%400==0||(a%4==0&&a%100!=0);\n}\nint main(){\n\tint d[]={0,31,28,31,30,31,30,31,31,30,31,30,31};\n\twhile(cin>>s,s!=\"#\"){\n\t\tvi in=f();\n\t\tif(in.size()==3){\n\t\t\tint a=2012,b=12,c=21,t=0;\n\t\t\twhile(a!=in[0]||b!=in[1]||c!=in[2]){\n\t\t\t\tt%=13*20*20*18*20;\n\t\t\t\tif(a!=in[0]&&b==1&&c==1){\n\t\t\t\t\tt+=365+uruu(a);\n\t\t\t\t\ta++;\n\t\t\t\t}else if((a!=in[0]||b!=in[1])&&c==1){\n\t\t\t\t\tt+=d[b]+(b==2?uruu(a):0);\n\t\t\t\t\tb++;\n\t\t\t\t\tif(b==13)b=1;\n\t\t\t\t}else{\n\t\t\t\t\tt++;\n\t\t\t\t\tc++;\n\t\t\t\t\tif(d[b]+1+uruu(a)==c){\n\t\t\t\t\t\tb++;c=1;\n\t\t\t\t\t}\n\t\t\t\t\tif(b==13){\n\t\t\t\t\t\tb=1;\n\t\t\t\t\t\ta++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tt%=13*20*20*18*20;\n\t\t\tcout<<t/(20*20*18*20)<<\".\";\n\t\t\tt%=20*20*18*20;\n\t\t\tcout<<t/(20*18*20)<<\".\";\n\t\t\tt%=20*18*20;\n\t\t\tcout<<t/(18*20)<<\".\";\n\t\t\tt%=18*20;\n\t\t\tcout<<t/20<<\".\"<<t%20<<endl;\n\t\t}else{\n\t\t\tint t=in[0]*20*20*18*20+\n\t\t\t\t\tin[1]*20*18*20+\n\t\t\t\t\tin[2]*18*20+\n\t\t\t\t\tin[3]*20+in[4];\n\t\t\tint a=2012,b=12,c=21;\n\t\t\twhile(t){\n\t\t\t\tif(t>365&&b==1&&c==1){\n\t\t\t\t\tt-=365+uruu(a);\n\t\t\t\t\ta++;\n\t\t\t\t}else if(t>d[b]+uruu(a)&&c==1){\n\t\t\t\t\tt-=d[b]+(b==2?uruu(a):0);\n\t\t\t\t\tb++;\n\t\t\t\t\tif(b==13)b=1;\n\t\t\t\t}else{\n\t\t\t\t\tt--;\n\t\t\t\t\tc++;\n\t\t\t\t\tif(d[b]+1+(b==2?uruu(a):0)==c){\n\t\t\t\t\t\tb++;c=1;\n\t\t\t\t\t}\n\t\t\t\t\tif(b==13){\n\t\t\t\t\t\tb=1;a++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tcout<<a<<\".\"<<b<<\".\"<<c<<endl;\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define int long long\n#define rep(i,n)for(int i=0;i<(n);i++)\nusing namespace std;\n\nint base;\nint tod(int b,int ka,int t,int w,int ki){\n\tka+=b*20;t+=ka*20;w+=18*t;ki+=20*w;\n\treturn base+ki;\n}\nbool is_uruu(int y){\n\treturn y%4==0&&(y%100!=0||y%400==0);\n}\nint mn[]{31,28,31,30,31,30,31,31,30,31,30,31};\nint calc(int y,int m,int d){\n\tint res=(y-1)*365+(y-1)/4;\n\tfor(int i=100;i<y;i+=100){\n\t\tif(!is_uruu(i))res--;\n\t}\n\tfor(int i=1;i<m;i++){\n\t\tres+=mn[i-1];if(is_uruu(y)&&i==2)res++;\n\t}\n\treturn res+d;\n}\nint tod(int y,int m,int d){\n\treturn calc(y,m,d)-base;\n}\nvoid tom(int day){\n\tint b,ka,t,w,ki;\n\tki=day%20;day/=20;\n\tw=day%18;day/=18;\n\tt=day%20;day/=20;\n\tka=day%20;day/=20;\n\tb=day%13;\n\tprintf(\"%lld.%lld.%lld.%lld.%lld\\n\",b,ka,t,w,ki);\n}\nvoid tos(int day){\n\tint y,m;\n\tfor(y=1;365+is_uruu(y)<day;y++)day-=365+is_uruu(y);\n\tfor(m=1;mn[m-1]+(m==2&&is_uruu(y))<day;m++)day-=mn[m-1]+(m==2&&is_uruu(y));\n\tprintf(\"%lld.%lld.%lld\\n\",y,m,day);\n}\nsigned main() {\n\tbase=calc(2012,12,21);\n\tstring s;\n\twhile(cin>>s,s!=\"#\"){\n\t\ts+='.';\n\t\tvector<int>v;\n\t\tstring t;\n\t\tfor(char c:s){\n\t\t\tif(c=='.')v.push_back(stoi(t)),t=\"\";\n\t\t\telse t+=c;\n\t\t}\n\t\tif(v.size()==3)tom(tod(v[0],v[1],v[2]));\n\t\telse tos(tod(v[0],v[1],v[2],v[3],v[4]));\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "\n\n#include <bits/stdc++.h>\nusing namespace std;\n\n#define in ,\n#define esc_paren(...) __VA_ARGS__\n#define pp_empty(...)\n#define pp_cat_i(x, y) x ## y\n#define pp_cat(x, y) pp_cat_i(x, y)\n\n#define pp_inc0 1\n#define pp_inc1 2\n#define pp_inc2 3\n#define pp_inc3 4\n#define pp_inc4 5\n#define pp_inc5 6\n#define pp_inc6 7\n#define pp_inc7 8\n#define pp_inc8 9\n#define pp_inc(i) pp_cat(pp_inc, i)\n\n#define pp_arg10(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, ...) _9\n#define pp_has_comma(...) pp_arg10(__VA_ARGS__, 1, 1, 1, 1, 1, 1, 1, 1, 0)\n#define pp_trigger_paren(...) ,\n#define pp_is_empty(...) \\\n  pp_is_empty1( \\\n      pp_has_comma(__VA_ARGS__), \\\n      pp_has_comma(pp_trigger_paren __VA_ARGS__), \\\n      pp_has_comma(__VA_ARGS__()), \\\n      pp_has_comma(pp_trigger_paren __VA_ARGS__()) \\\n      ) \n#define pp_paste5(_0, _1, _2, _3, _4) _0 ## _1 ## _2 ## _3 ## _4\n#define pp_is_empty1(_0, _1, _2, _3) pp_has_comma(pp_paste5(pp_is_empty_case_, _0, _1, _2, _3))\n#define pp_is_empty_case_0001 ,\n\n#define pp_is_one(...) pp_is_one_(__VA_ARGS__, pp_one_seq)\n#define pp_is_one_(...) pp_is_one_n(__VA_ARGS__)\n#define pp_is_one_n(_1,_2,_3,_4,_5,_6,_7,_8,_9,_10, N, ...) N\n#define pp_one_seq 0,0,0,0,0,0,0,0,0,1,0\n\n#define pp_narg(...) \\\n         pp_narg_(__VA_ARGS__, pp_narg_seq)\n#define pp_narg_(...) \\\n         pp_narg_n(__VA_ARGS__)\n#define pp_narg_n( \\\n          _1, _2, _3, _4, _5, _6, _7, _8, _9,_10, \\\n         _11,_12,_13,_14,_15,_16,_17,_18,_19,_20, \\\n         _21,_22,_23,_24,_25,_26,_27,_28,_29,_30, \\\n         _31,_32,_33,_34,_35,_36,_37,_38,_39,_40, \\\n         _41,_42,_43,_44,_45,_46,_47,_48,_49,_50, \\\n         _51,_52,_53,_54,_55,_56,_57,_58,_59,_60, \\\n         _61,_62,_63,n,...) n\n#define pp_narg_seq \\\n         63,62,61,60, \\\n         59,58,57,56,55,54,53,52,51,50, \\\n         49,48,47,46,45,44,43,42,41,40, \\\n         39,38,37,36,35,34,33,32,31,30, \\\n         29,28,27,26,25,24,23,22,21,20, \\\n         19,18,17,16,15,14,13,12,11,10, \\\n          9, 8, 7, 6, 5, 4, 3, 2, 1, 0\n\n#define pp_if_0(x, y) y\n#define pp_if_1(x, y) x\n#define pp_if(cond, x, y) pp_cat(pp_if_, cond)(x, y)\n\n#define pp_foreach_i9(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i8(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i7(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i6(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i5(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i4(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i3(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i2(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i1(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i0(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i(i, f, ...) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach(f, ...) pp_foreach_i(0, f, __VA_ARGS__)\n\n\ntypedef long long ll;\n#define down_queue(x) priority_queue<x>\n#define up_queue(x) priority_queue<x, vector<x>, greater<x>>\n#define all(x) x.begin(), x.end()\n#define split_str(str, sp_word) istringstream stream(str); string res; for(int cnt = 0; getline(stream,res,sp_word); cnt++)\n#define digit(x) ((int)log10((double)(x)) + 1)\n#define mp(x,y) make_pair(x,y)\n#define pb(x) push_back(x)\n#define pf(x) push_front(x)\n#define vec_cpy(to,from) copy(all(to),back_inserter(from))\n#define ary_cpy(to,from) memcpy(to, from, sizeof(from))\n#define MOD 1000000007\n#define INF 999999999\n\n\n#define rep(...) rep1(rep2, (__VA_ARGS__))\n#define rep1(X, A) X A\n#define rep2(i, ...) pp_if(pp_is_one(__VA_ARGS__), rep_len1(i, __VA_ARGS__), rep3(i, __VA_ARGS__))\n#define rep_len1(i, end, ...) for (int i = 0; i < end; i++)\n#define rep3(i, iter, ...) rep4(rep5, (iter, i, esc_paren __VA_ARGS__))\n#define rep4(X, A) X A\n#define rep5(iter, ...) iter(__VA_ARGS__)\n\n#define up up_iter ,\n#define up_iter3(i, start, end) for (int i = start; i < end; i++)\n#define up_iter4(i, start, end, up) for (int i = start; i < end; i += up)\n#define up_iter(...) pp_cat(up_iter, pp_narg(__VA_ARGS__))(__VA_ARGS__)\n#define down down_iter ,\n#define down_iter2(i, end) for(int i = end-1; i >= 0; i--)\n#define down_iter3(i, start, end) for (int i = end-1; i >= start; i--)\n#define down_iter4(i, start, end, down) for (int i = end-1; i >= start; i -= down)\n#define down_iter(...) pp_cat(down_iter, pp_narg(__VA_ARGS__))(__VA_ARGS__)\n#define viter viter_iter ,\n#define viter_iter(i, v) auto tmpitr=v.begin(); for (auto i=*tmpitr; tmpitr != v.end(); tmpitr++)\n\n\n#define pp_init2(cnt, body) struct _InitStruct ## cnt { _InitStruct ## cnt() { body } } _initstruct ## cnt;\n#define pp_init1(f, cnt, body) f(cnt, body)\n#define pp_init(body) pp_init1(pp_init2, __COUNTER__, body)\n\n#define init_array(arr, N, val) pp_init(rep (i in N) { arr[i] = val; })\n#define iota_array(arr, N, start) pp_init(rep (i in N) { arr[i] = start + i; })\n\n\n#define debug_var_elem(v) << #v << \"=\" << v << \" \"\n#ifdef DEBUG\n#define debug_echo(e) cout << \"L\" << __LINE__ << \": \" << e << endl\n#define debug_var(...) cout << \"L\" << __LINE__ << \": \" pp_foreach(debug_var_elem, __VA_ARGS__) << endl\n#else\n#define debug_echo(e)\n#define debug_var(...)\n#endif\n\n\n#define pp_gen_field(list) pp_gen_field1 list\n#define pp_gen_field1(name, val) decltype(val) name;\n#define pp_gen_init(list) pp_gen_init1 list\n#define pp_gen_init1(name, val) ,val\n#define pp_gen_find_set_wrap(ufnodename) ufnodename pp_gen_find_set\n#define pp_gen_find_set(list) pp_gen_find_set1 list\n#define pp_gen_find_set1(name, val) \\\n  find_set_ ## name(int x, decltype(val) v) { \\\n    if (nodes[x].parent == x) { \\\n      nodes[x].name = v; \\\n      return nodes[x]; \\\n    } else { \\\n      return nodes[x] = find_set_ ## name(nodes[x].parent, v); \\\n    } \\\n  }\n#define pp_gen_unite_set(list) pp_gen_unite_set1 list\n#define pp_gen_unite_set1(name, val) \\\n  if (nodes[x].name == val) { \\\n    find_set_ ## name(x, find(y).name); \\\n  } \\\n  if (nodes[y].name == val) { \\\n    find_set_ ## name(y, find(x).name); \\\n  }\n\n#define def_unionfind(ufname, ufnodename, ...) \\\n  struct ufnodename { \\\n    int parent; \\\n    pp_foreach(pp_gen_field, __VA_ARGS__) \\\n  }; \\\n  struct ufname { \\\n    vector<ufnodename> nodes; \\\n    vector<int> rank; \\\n    ufname(int n) : nodes(n+1), rank(n+1) { \\\n      rep (i in n) { \\\n        nodes[i] = ufnodename{i pp_foreach(pp_gen_init, __VA_ARGS__)}; \\\n        rank[i] = 0; \\\n      } \\\n    } \\\n    ufnodename find(int x) { \\\n      if (nodes[x].parent == x) { \\\n        return nodes[x]; \\\n      } else { \\\n        return nodes[x] = find(nodes[x].parent); \\\n      } \\\n    } \\\n    pp_foreach(pp_gen_find_set_wrap(ufnodename), __VA_ARGS__) \\\n    void unite(int x, int y) { \\\n      x = find(x).parent; \\\n      y = find(y).parent; \\\n      if (x == y) return; \\\n      if (rank[x] < rank[y]) { \\\n        pp_foreach(pp_gen_unite_set, __VA_ARGS__); \\\n        nodes[x].parent = y; \\\n      } else { \\\n        pp_foreach(pp_gen_unite_set, __VA_ARGS__); \\\n        nodes[y].parent = x; \\\n        if (rank[x] == rank[y]) rank[x]++; \\\n      } \\\n    } \\\n    bool same(int x, int y) { \\\n      return find(x).parent == find(y).parent; \\\n    } \\\n  }\n\n\nll gcd(ll a,ll b){while(b){ll tmp = a % b;a = b;b = tmp;}return a;}\nll lcm(ll a,ll b){return a / gcd(a,b) * b;}\n\n#define def_varargs(name, f) \\\n  template<typename First> \\\n  inline First name(First first) { return first; } \\\n  template<typename First, typename... Rest> \\\n  inline First name(First first, Rest... rest) { return f(first, name(rest...)); }\n\nvector<string> split(const string &s, char delim) {\n    vector<string> elems;\n    string item;\n    for (char ch: s) {\n        if (ch == delim) {\n            if (!item.empty())\n                elems.push_back(item);\n            item.clear();\n        }\n        else {\n            item += ch;\n        }\n    }\n    if (!item.empty())\n        elems.push_back(item);\n    return elems;\n}\n\n#define KIN 1\n#define WINAL (KIN*20)\n#define TON (WINAL*18)\n#define KATON (TON*20)\n#define BAKTON (KATON*20)\n\nstruct Seireki {\n  ll year;\n  ll month;\n  ll day;\n};\n\nint months[] = {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\n\nbool is_uruu(ll year) {\n  return year % 4 == 0 && (year % 100 != 0 || year % 400 == 0);\n}\n\nSeireki to_seireki(ll byear, ll bmonth, ll bday, ll& alldays) {\n  ll year = byear;\n  while (true) {\n    ll sub = is_uruu(year) ? 366 : 365;\n    if (alldays - sub <= 0) break;\n    alldays -= sub;\n    year++;\n  }\n  // rep (i in bmonth-1) {\n    // ll sub = (i == 1 && is_uruu(byear)) ? 29 : months[i];\n    // days += sub;\n  // }\n  ll month = bmonth;\n  while (true) {\n    ll sub = (month == 2 && is_uruu(year)) ? 29 : months[month-1];\n    if (alldays - sub < 0) {\n      break;\n    }\n    alldays -= sub;\n    month++;\n    if (month > 12) {\n      year++;\n      month = 1;\n    }\n  }\n  ll day = 21 + alldays + 1;\n  ll m = (month == 2 && is_uruu(year)) ? 29 : months[month-1];\n  if (day > m) {\n    day -= m;\n    month++;\n    if (month > 12) {\n      year++;\n      month = 1;\n    }\n  }\n  return Seireki{year, month, day};\n}\n\nll to_days(ll byear, ll bmonth, ll bday, ll eyear, ll emonth, ll eday) {\n  ll days = -1;\n  rep (i in up(byear, eyear)) {\n    if (is_uruu(i)) {\n      days += 366;\n    } else {\n      days += 365;\n    }\n  }\n  rep (i in bmonth-1) {\n    if (i == 1 && is_uruu(byear)) {\n      days -= 29;\n    } else {\n      days -= months[i];\n    }\n  }\n  days -= bday - 1;\n  rep (i in emonth-1) {\n    if (i == 1 && is_uruu(eyear)) {\n      days += 29;\n    } else {\n      days += months[i];\n    }\n  }\n  days += eday;\n  return days;\n}\n\nint main() {\n  string s;\n  while (cin >> s && s[0] != '#') {\n    vector<string> elems = split(s, '.');\n    vector<ll> maya;\n    for (auto e : elems) {\n      maya.pb(stoi(e));\n    }\n    if (maya.size() == 3) {\n      ll days = to_days(2012, 12, 21, maya[0], maya[1], maya[2]);\n      days %= BAKTON * 13;\n      ll b = days / BAKTON; days %= BAKTON;\n      ll ka = days / KATON; days %= KATON;\n      ll t = days / TON; days %= TON;\n      ll wi = days / WINAL; days %= WINAL;\n      ll k = days / KIN; days %= KIN;\n      cout << b << \".\" << ka << \".\" << t << \".\" << wi << \".\" << k << endl;\n    } else {\n      ll alldays = 0;\n      alldays += maya[0] * BAKTON;\n      alldays += maya[1] * KATON;\n      alldays += maya[2] * TON;\n      alldays += maya[3] * WINAL;\n      alldays += maya[4] * KIN;\n      Seireki seireki = to_seireki(2012, 12, 21, alldays);\n      cout << seireki.year << \".\" << seireki.month << \".\" << seireki.day << endl;\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string.h>\n#include<stdlib.h>\n#include<time.h>\n#include<stdio.h>\nusing namespace std;\nstruct tm T;\nstruct tm *a;\nint maya[5]={144000,7200,360,20,1};\nint sugi[5]={1,20,20,18,20};\nint main(){\n\ttime_t tt,kin,ans,s=1356015600;\n\t\tchar koyomi[50];\n\t int i,j;\n\tint  n[5]={0};\n\twhile(1){\n\t\tcin>>koyomi;\n\t\tif(koyomi[0]=='#'){\n\t\t\tbreak;\n\t\t}\n\t\tmemset(n,0,sizeof(n));\n\t\tj=0;\n\t\tcout<<strlen(koyomi)<<endl;\n\t\tfor(i=0;i<strlen(koyomi);i++){\n\t\t\tif(koyomi[i]=='.'){\n\t\t\t\tj++;\n\t\t\t}\n\t\t}\n\t\tcout<<j<<endl;\n\t\tif(j==2){\n\t\t\tsscanf(koyomi,\"%d.%d.%d\",&n[0],&n[1],&n[2]);\n\t\t\tT.tm_year=n[0]-1900;\n\t\t\tT.tm_mon=n[1]-1;\n\t\t\tT.tm_mday=n[2];\n\t\t\ttt=(mktime(&T)-s)/86400%1872000;\n\t\t\t//cout<<tt<<endl;\n\t\t\tprintf(\"%11d.%11d.%11d.%11d.%11d\\n\",tt/144000,tt/7200%20,tt/360%20,tt/20%18,tt%20);\n\t\t}\n\t\telse{\n\t\t\tsscanf(koyomi,\"%d.%d.%d.%d.%d\",&n[0],&n[1],&n[2],&n[3],&n[4]);\n\t\t\ttt=(n[0]*144000+n[1]*7200+n[2]*360+n[3]*20+n[4])*86400+s;\n\t\t\ta=localtime(&tt);\n\t\t\tprintf(\"%d.%d.%d\\n\",a->tm_year+1900,a->tm_mon+1,a->tm_mday);\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nstruct S{ll y,m,d;};\nstruct Ma{ll b,ka,t,w,ki;};\n\n//12,1,2,3...11\nint M[]={31,28,31,30,31,30,31,31,30,31,30,31};\n\nbool check(ll y){return (y%4==0&&(y%100!=0||y%400==0));}\n\nS M2S(ll b,ll ka,ll t,ll w,ll ki){\n  ka+=b*20;\n  t+=ka*20;\n  w+=t*18;\n  ki+=w*20;\n  S res;\n  res.y=2012,res.m=12,res.d=21+ki;\n  if(res.d<=31) return res;\n  \n  while(res.d/(365+check(res.y+1)))res.y++,res.d-=(365+check(res.y));\n  if(res.d==0) res.m--,res.d=M[res.m-1]+(check(res.y)&&res.m==2);\n  if(res.d<=31) return res;\n  res.y++,res.m=1,res.d-=31;\n  while(res.d/(M[res.m-1]+(check(res.y)&&res.m==2))){\n    res.d-=(M[res.m-1]+(check(res.y)&&res.m==2));\n    res.m++;\n  }\n  if(res.d==0) res.m--,res.d=M[res.m-1]+(check(res.y)&&res.m==2);\n  return res;\n}\n\nMa S2M(ll y,ll m,ll d){\n  y-=2012;\n  if(y) d+=10; \n  else d=(d-21);\n  \n  for(int i=0;i<m-1&&y;i++) d+=(M[i]+(i==1&&check(y+2012)));\n  y--;\n  while(y>0)d+=(365+check(y+2012)),y--;\n\n  Ma res;\n  d%=13*20*20*18*20;\n  res.ki=d;\n  res.w =res.ki/20; res.ki%=20;\n  res.t =res.w/18;  res.w %=18;\n  res.ka=res.t/20;  res.t %=20;\n  res.b =res.ka/20; res.ka%=20;\n  return res;\n}\n\n\nint main(){\n  while(1){\n    string str;\n    cin>>str;\n    if(str==\"#\")break;\n    vector <int> a;\n    int i=0,num=0;\n    while(str[i]){\n      if(str[i]=='.')a.push_back(num),num=0;\n      else num=num*10+str[i]-'0';\n      i++;\n    }\n    a.push_back(num);\n    \n    if(a.size()==5){\n      S ans=M2S(a[0],a[1],a[2],a[3],a[4]);\n      cout << ans.y<<\".\"<<ans.m<<\".\"<<ans.d<<endl;\n    }\n    else {\n      Ma ans=S2M(a[0],a[1],a[2]);\n      cout<<ans.b<<\".\"<<ans.ka<<\".\"<<ans.t<<\".\"<<ans.w<<\".\"<<ans.ki<<endl;\n    }\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<cstring>\n\nusing namespace std;\n\n#define int long long\n#define loop(i, a, b) for(int i = a; i < b; i++)\n#define rep(i, a) loop(i, 0, a)\n\n\nvoid to_maya(int y, int m, int d);\nvoid to_sei(int b, int ka, int t, int w, int ki);\nint leap_count(int base, int y);\n\nsigned main()\n{\n  char date[16];\n  \n  while(cin >> date) {\n    int a[5] = {};\n    int cnt = sscanf(date, \"%lld.%lld.%lld.%lld.%lld\", &a[0], &a[1], &a[2], &a[3], &a[4]);\n    \n    if(cnt == 3) to_maya(a[0], a[1], a[2]);\n    else if(cnt == 5) to_sei(a[0], a[1], a[2], a[3], a[4]);\n    else if(date[0] == '#') break;\n  }\n}\n\n\nint leap_count(int base,  int y)\n{\n  int cnt = 0;\n  loop(i, base, y + 1) {\n    if(i % 4 == 0){\n      if(i % 100 != 0) cnt++;\n      else if(i % 400 == 0) cnt++;\n    }\n  }\n  return cnt;\n}\n\n\nvoid to_maya(int y, int m, int d)\n{\n  long long days = 0;\n  long long leap = leap_count(2013, y);\n  \n  if( y != 2012 ) {\n    days += ( y - 2013 ) * 365 + leap + 10;\n    loop(i, 1, m) {\n      if(i == 1 || i == 3 || i == 5 || i == 7 || i == 8 || i == 10 || i == 12)\n\tdays += 31;\n      if(i == 4 || i == 6 || i == 9 || i == 11)\n\tdays += 30;\n      if(i == 2) {\n\tdays += 28;\n\tif(leap_count(y, y)) {\n\t  days++;\n\t}\n      }\n    }\n    days += d;\n    if(leap_count(y, y)) days--;\n  }\n  else days += (d - 21);\n  \n  days -=  days / (13 * 20 * 18 * 20 * 20) * (13 * 20 * 18 * 20 * 20);\n  int b  = days / (20 * 18 * 20 * 20); days -= b * 20 * 20 * 18 * 20;\n  int ka = days / (20 * 18 * 20);      days -= ka * 20 * 18 * 20;\n  int t  = days / (20 * 18);           days -= t * 18 * 20;\n  int w  = days / 20;                  days -= w * 20;\n  int ki = days;                       days -= ki;\n  \n  printf(\"%lld.%lld.%lld.%lld.%lld\\n\", b, ka, t, w, ki);\n}\n\nvoid to_sei(int b, int ka, int t, int w, int ki)\n{\n  long long days = 0;\n  long long y = 2013;\n  int m = 1, d = 1, until;\n  \n  days += b * 20 * 18 * 20 * 20 + ka * 20 * 18 * 20 + t * 20 * 18 + w * 20 + ki;\n  if(days > 10) {\n    days -= 10;\n    while(1) {\n      if(leap_count(y, y) != 0) {\n\tif(days - 366 >= 0) days -= 366;\n\telse break;\n      }\n      else if(days - 365 >= 0) days -= 365;\n      else break;\n      y++;\n    }\n\n    while(1) {\n      d = 1;\n      if(m == 1 || m == 3 || m == 5 || m == 7 || m == 8 || m == 10 || m == 12)  until = 31;\n      else if(m == 4 || m == 6 || m == 9 || m == 11)  until = 30;\n      else {\n\tuntil = 28;\n\tif(1 <= leap_count(y, y))  until = 29;\n      }\n      if(days > until)  days -= until;\n      \n      else {\n\tfor(d = 1 ; d < until + 1; d++) {\n\t  days--;\n\t  if(days == 0) break;\n\t}\n      }\n      if(days == 0) break;\n      m++;\n    }\n    printf(\"%lld.%lld.%lld\\n\", y, m, d);\n  }\n  else {\n    printf(\"2012.12.%lld\\n\", days + 21);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string.h>\n#include<stdlib.h>\n#include<time.h>\n#include<stdio.h>\nusing namespace std;\nstruct tm T;\nstruct tm *a;\nint maya[5]={144000,7200,360,20,1};\nint sugi[5]={1,20,20,18,20};\nint main(){\n\ttime_t tt,kin,ans,s=1356015600;\n\t\tchar koyomi[50];\n\t int i,j;\n\tint  n[5]={0};\n\twhile(1){\n\t\tcin>>koyomi;\n\t\tif(koyomi[0]=='#'){\n\t\t\tbreak;\n\t\t}\n\t\tmemset(n,0,sizeof(n));\n\t\tj=0;\n\t\t//out<<strlen(koyomi)<<endl;\n\t\tfor(i=0;i<strlen(koyomi);i++){\n\t\t\tif(koyomi[i]=='.'){\n\t\t\t\tj++;\n\t\t\t}\n\t\t}\n\t\t//cout<<j<<endl;\n\t\tif(j==2){\n\t\t\tsscanf(koyomi,\"%d.%d.%d\",&n[0],&n[1],&n[2]);\n\t\t\tT.tm_year=n[0]-1900;\n\t\t\tT.tm_mon=n[1]-1;\n\t\t\tT.tm_mday=n[2];\n\t\t\ttt=(mktime(&T)-s)/86400%1872000;\n\t\t\t//cout<<tt<<endl;\n\t\t\tprintf(\"%d.%d.%d.%d.%d\\n\",tt/144000,tt/7200%20,tt/360%20,tt/20%18,tt%20);\n\t\t}\n\t\telse{\n\t\t\tsscanf(koyomi,\"%d.%d.%d.%d.%d\",&n[0],&n[1],&n[2],&n[3],&n[4]);\n\t\t\ttt=(n[0]*144000+n[1]*7200+n[2]*360+n[3]*20+n[4])*86400+s;\n\t\t\ta=localtime(&tt);\n\t\t\tprintf(\"%lld.%lld.%lld\\n\",a->tm_year+1900,a->tm_mon+1,a->tm_mday);\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string.h>\n#include<stdlib.h>\n#include<time.h>\n#include<stdio.h>\nusing namespace std;\nstruct tm T;\nstruct tm *a;\nint maya[5]={144000,7200,360,20,1};\nint sugi[5]={1,20,20,18,20};\nmain(){\n\tif(sizeof(time_t)!=8)exit(1);\n\ttime_t tt,kin,ans,s=1356015600;\n\t\tchar koyomi[50];\n\t int i,j;\n\tint  n[5]={0};\n\twhile(1){\n\t\tcin>>koyomi;\n\t\tif(koyomi[0]=='#'){\n\t\t\tbreak;\n\t\t}\n\t\tmemset(n,0,sizeof(n));\n\t\tj=0;\n\t\tcout<<strlen(koyomi)<<endl;\n\t\tfor(i=0;i<strlen(koyomi);i++){\n\t\t\tif(koyomi[i]=='.'){\n\t\t\t\tj++;\n\t\t\t}\n\t\t}\n\t\tcout<<j<<endl;\n\t\tif(j==2){\n\t\t\tsscanf(koyomi,\"%d.%d.%d\",&n[0],&n[1],&n[2]);\n\t\t\tT.tm_year=n[0]-1900;\n\t\t\tT.tm_mon=n[1]-1;\n\t\t\tT.tm_mday=n[2];\n\t\t\ttt=(mktime(&T)-s)/86400%1872000;\n\t\t\t//cout<<tt<<endl;\n\t\t\tprintf(\"%d.%d.%d.%d.%d\\n\",tt/144000,tt/7200%20,tt/360%20,tt/20%18,tt%20);\n\t\t}\n\t\telse{\n\t\t\tsscanf(koyomi,\"%d.%d.%d.%d.%d\",&n[0],&n[1],&n[2],&n[3],&n[4]);\n\t\t\ttt=(n[0]*144000+n[1]*7200+n[2]*360+n[3]*20+n[4])*86400+s;\n\t\t\ta=localtime(&tt);\n\t\t\tprintf(\"%d.%d.%d\\n\",a->tm_year+1900,a->tm_mon+1,a->tm_mday);\n\t\t}\n\t}\n\treturn 0;\n\texit(0);\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cstdio>\n#include <iostream>\n#include <vector>\n#include <string>\n#include <sstream>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef pair<int, int> pii;\n\n#define reps(i,f,n) for(int i=f; i<int(n); ++i)\n#define rep(i,n) reps(i,0,n)\n\nint maya[] = {20, 18, 20, 20, 13};\n\nstring mtos(string s)\n{\n    int a[5];\n    sscanf(s.c_str(), \"%d.%d.%d.%d.%d\", a, a+1, a+2, a+3, a+4);\n    \n    ll elapsed = 0;\n    rep(i, 5){\n        elapsed *= maya[4-i];\n        elapsed += a[i];\n    }\n    elapsed += 734857;\n    \n    int y = (elapsed / 146097) * 400 + 1;\n    elapsed %= 146097;\n    \n    int m = 0, d = 0;\n    rep(i, elapsed){\n        bool leap = y%4==0 && (y%100!=0 || y%400==0);\n        int days[] = {31, leap ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\n        \n        ++d;\n        if(d == days[m]){\n            d = 0;\n            ++m;\n            if(m == 12){\n                ++y;\n                m = 0;\n            }\n        }\n    }\n    \n    stringstream sstr;\n    sstr << y << '.' << m+1 << '.' << d+1;\n    return sstr.str();\n}\n\nstring stom(string s)\n{\n    ll y, m, d;\n    sscanf(s.c_str(), \"%lld.%lld.%lld\", &y, &m, &d);\n    \n    bool leap = y%4==0 && (y%100!=0 || y%400==0);\n    int days[] = {0, 31, leap ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30};\n    rep(i, 11) days[i+1] += days[i];\n    \n    --y; --m; --d;\n    ll elapsed = 365*y + y/4 - y/100 + y/400 + days[m] + d;\n    elapsed -= 734857;\n    \n    string ret;\n    rep(i, 5){\n        ret = (i ? \".\" : \"\") + to_string(elapsed % maya[i]) + ret;\n        elapsed /= maya[i];\n    }\n    \n    return ret;\n}\n\nint main()\n{\n    string s;\n    while(cin >> s, s != \"#\"){\n        cout << (count(s.begin(), s.end(), '.') == 4 ? mtos(s) : stom(s)) << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n\n#define REP(i,k,n) for(int i=k;i<n;i++)\n#define rep(i,n) for(int i=0;i<n;i++)\n\nusing namespace std;\ntypedef long long ll;\n\nint month[13] = {0,31,28,31,30,31,30,31,31,30,31,30,31};\n\nvector<string> split(const string &str, char delim)\n{\n    vector<string> res;\n    size_t current = 0, found;\n\twhile((found = str.find_first_of(delim, current)) != string::npos)\n    {\n\t    res.push_back(string(str, current, found - current));\n\t    current = found + 1;\n    }\n    res.push_back(string(str, current, str.size() - current));\n    return res;\n}\n\nbool isLeapYear(ll y)\n{\n\tif( (y%4 == 0 && y%100 != 0) || (y%400 == 0) ) return true;\n\telse return false;\n}\n\nll getLeapCount(ll y)\n{\n\tll ret = y/4;\n\tret -= y/100;\n\tret += y/400;\n\n\treturn ret;\n}\n\nll toDate(ll y,ll m,ll d)\n{\n\tll ret = 0;\n\n\tret += getLeapCount(y-1) * 366;\n\tret += (y-1 - getLeapCount(y-1)) * 365;\n\n\tREP(i,1,m)\n\t{\n\t\tif(i == 2)\n\t\t{\n\t\t\tif(isLeapYear(y)) ret += 29;\n\t\t\telse ret += 28;\n\t\t}\n\t\telse ret += month[i];\n\t}\n\n\tret += d;\n\n\treturn ret;\n}\n\nll toDate(ll b,ll ka,ll t,ll w,ll ki)\n{\n\tll ret = 0;\n\tret += b*20*20*18*20;\n\tret += ka * 20*18*20;\n\tret += t * 18*20;\n\tret += w * 20;\n\tret += ki;\n\n\treturn ret;\n}\n\nint main()\n{\n\tstring s;\n\twhile(cin >> s)\n\t{\n\t\tif(s == \"#\") break;\n\t\t\n\t\tvector<string> _s = split(s,'.');\n\t\n\t\tvector<ll> v;\n\t\tv.resize(_s.size());\n\t\trep(i,_s.size()) v[i] = atoll(_s[i].c_str());\n\n\t\tif(_s.size() == 3)\n\t\t{\n\t\t\tll date = (toDate(v[0],v[1],v[2]) - toDate(2012,12,21));\n\t\t\tdate %= 13*20*20*18*20;\n\t\t\t\n\t\t\tll b = 0,ka = 0,t = 0,w = 0,ki = 0;\n\t\t\t\n\n\t\t\twhile(date - 20*20*18*20 >= 0)\n\t\t\t{\n\t\t\t\tb++;\n\t\t\t\tdate -= 20*20*18*20;\n\t\t\t}\n\n\t\t\twhile(date - 20*18*20 >= 0)\n\t\t\t{\n\t\t\t\tka++;\n\t\t\t\tdate -= 20*18*20;\n\t\t\t}\n\n\t\t\twhile(date - 18*20 >= 0)\n\t\t\t{\n\t\t\t\tt++;\n\t\t\t\tdate -= 18*20;\n\t\t\t}\n\n\t\t\twhile(date - 20 >= 0)\n\t\t\t{\n\t\t\t\tw++;\n\t\t\t\tdate -= 20;\n\t\t\t}\n\t\t\t\n\t\t\tki = date;\n\t\t\t\n\t\t\tcout << b << \".\" << ka << \".\" << t << \".\" << w << \".\" << ki << endl;\n\n\t\t}\n\t\telse if(_s.size() == 5)\n\t\t{\n\t\t\tll date = toDate(v[0],v[1],v[2],v[3],v[4]) + toDate(2012,12,21);\n\t\t\tll y = 0,m = 0,d = 0;\n\n\t\t\trep(i,(int)date)\n\t\t\t{\n\t\t\t\td++;\n\n\t\t\t\tif(m == 2 && isLeapYear(y))\n\t\t\t\t{\n\t\t\t\t\tif(d > month[m] + 1)\n\t\t\t\t\t{\n\t\t\t\t\t\tm++;\n\t\t\t\t\t\td = 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif(d > month[m])\n\t\t\t\t\t{\n\t\t\t\t\t\tm++;\n\t\t\t\t\t\td = 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(m > 12)\n\t\t\t\t{\n\t\t\t\t\ty++;\n\t\t\t\t\tm = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tcout << y << \".\" << m << \".\" << d+1 << endl;\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "\n\n#include <bits/stdc++.h>\nusing namespace std;\n\n#define in ,\n#define esc_paren(...) __VA_ARGS__\n#define pp_empty(...)\n#define pp_cat_i(x, y) x ## y\n#define pp_cat(x, y) pp_cat_i(x, y)\n\n#define pp_inc0 1\n#define pp_inc1 2\n#define pp_inc2 3\n#define pp_inc3 4\n#define pp_inc4 5\n#define pp_inc5 6\n#define pp_inc6 7\n#define pp_inc7 8\n#define pp_inc8 9\n#define pp_inc(i) pp_cat(pp_inc, i)\n\n#define pp_arg10(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, ...) _9\n#define pp_has_comma(...) pp_arg10(__VA_ARGS__, 1, 1, 1, 1, 1, 1, 1, 1, 0)\n#define pp_trigger_paren(...) ,\n#define pp_is_empty(...) \\\n  pp_is_empty1( \\\n      pp_has_comma(__VA_ARGS__), \\\n      pp_has_comma(pp_trigger_paren __VA_ARGS__), \\\n      pp_has_comma(__VA_ARGS__()), \\\n      pp_has_comma(pp_trigger_paren __VA_ARGS__()) \\\n      ) \n#define pp_paste5(_0, _1, _2, _3, _4) _0 ## _1 ## _2 ## _3 ## _4\n#define pp_is_empty1(_0, _1, _2, _3) pp_has_comma(pp_paste5(pp_is_empty_case_, _0, _1, _2, _3))\n#define pp_is_empty_case_0001 ,\n\n#define pp_is_one(...) pp_is_one_(__VA_ARGS__, pp_one_seq)\n#define pp_is_one_(...) pp_is_one_n(__VA_ARGS__)\n#define pp_is_one_n(_1,_2,_3,_4,_5,_6,_7,_8,_9,_10, N, ...) N\n#define pp_one_seq 0,0,0,0,0,0,0,0,0,1,0\n\n#define pp_narg(...) \\\n         pp_narg_(__VA_ARGS__, pp_narg_seq)\n#define pp_narg_(...) \\\n         pp_narg_n(__VA_ARGS__)\n#define pp_narg_n( \\\n          _1, _2, _3, _4, _5, _6, _7, _8, _9,_10, \\\n         _11,_12,_13,_14,_15,_16,_17,_18,_19,_20, \\\n         _21,_22,_23,_24,_25,_26,_27,_28,_29,_30, \\\n         _31,_32,_33,_34,_35,_36,_37,_38,_39,_40, \\\n         _41,_42,_43,_44,_45,_46,_47,_48,_49,_50, \\\n         _51,_52,_53,_54,_55,_56,_57,_58,_59,_60, \\\n         _61,_62,_63,n,...) n\n#define pp_narg_seq \\\n         63,62,61,60, \\\n         59,58,57,56,55,54,53,52,51,50, \\\n         49,48,47,46,45,44,43,42,41,40, \\\n         39,38,37,36,35,34,33,32,31,30, \\\n         29,28,27,26,25,24,23,22,21,20, \\\n         19,18,17,16,15,14,13,12,11,10, \\\n          9, 8, 7, 6, 5, 4, 3, 2, 1, 0\n\n#define pp_if_0(x, y) y\n#define pp_if_1(x, y) x\n#define pp_if(cond, x, y) pp_cat(pp_if_, cond)(x, y)\n\n#define pp_foreach_i9(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i8(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i7(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i6(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i5(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i4(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i3(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i2(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i1(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i0(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i(i, f, ...) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach(f, ...) pp_foreach_i(0, f, __VA_ARGS__)\n\n\ntypedef long long ll;\n#define down_queue(x) priority_queue<x>\n#define up_queue(x) priority_queue<x, vector<x>, greater<x>>\n#define all(x) x.begin(), x.end()\n#define split_str(str, sp_word) istringstream stream(str); string res; for(int cnt = 0; getline(stream,res,sp_word); cnt++)\n#define digit(x) ((int)log10((double)(x)) + 1)\n#define mp(x,y) make_pair(x,y)\n#define pb(x) push_back(x)\n#define pf(x) push_front(x)\n#define vec_cpy(to,from) copy(all(to),back_inserter(from))\n#define ary_cpy(to,from) memcpy(to, from, sizeof(from))\n#define MOD 1000000007\n#define INF 999999999\n\n\n#define rep(...) rep1(rep2, (__VA_ARGS__))\n#define rep1(X, A) X A\n#define rep2(i, ...) pp_if(pp_is_one(__VA_ARGS__), rep_len1(i, __VA_ARGS__), rep3(i, __VA_ARGS__))\n#define rep_len1(i, end, ...) for (int i = 0; i < end; i++)\n#define rep3(i, iter, ...) rep4(rep5, (iter, i, esc_paren __VA_ARGS__))\n#define rep4(X, A) X A\n#define rep5(iter, ...) iter(__VA_ARGS__)\n\n#define up up_iter ,\n#define up_iter3(i, start, end) for (int i = start; i < end; i++)\n#define up_iter4(i, start, end, up) for (int i = start; i < end; i += up)\n#define up_iter(...) pp_cat(up_iter, pp_narg(__VA_ARGS__))(__VA_ARGS__)\n#define down down_iter ,\n#define down_iter2(i, end) for(int i = end-1; i >= 0; i--)\n#define down_iter3(i, start, end) for (int i = end-1; i >= start; i--)\n#define down_iter4(i, start, end, down) for (int i = end-1; i >= start; i -= down)\n#define down_iter(...) pp_cat(down_iter, pp_narg(__VA_ARGS__))(__VA_ARGS__)\n#define viter viter_iter ,\n#define viter_iter(i, v) auto tmpitr=v.begin(); for (auto i=*tmpitr; tmpitr != v.end(); tmpitr++)\n\n\n#define pp_init2(cnt, body) struct _InitStruct ## cnt { _InitStruct ## cnt() { body } } _initstruct ## cnt;\n#define pp_init1(f, cnt, body) f(cnt, body)\n#define pp_init(body) pp_init1(pp_init2, __COUNTER__, body)\n\n#define init_array(arr, N, val) pp_init(rep (i in N) { arr[i] = val; })\n#define iota_array(arr, N, start) pp_init(rep (i in N) { arr[i] = start + i; })\n\n\n#define debug_var_elem(v) << #v << \"=\" << v << \" \"\n#ifdef DEBUG\n#define debug_echo(e) cout << \"L\" << __LINE__ << \": \" << e << endl\n#define debug_var(...) cout << \"L\" << __LINE__ << \": \" pp_foreach(debug_var_elem, __VA_ARGS__) << endl\n#else\n#define debug_echo(e)\n#define debug_var(...)\n#endif\n\n\n#define pp_gen_field(list) pp_gen_field1 list\n#define pp_gen_field1(name, val) decltype(val) name;\n#define pp_gen_init(list) pp_gen_init1 list\n#define pp_gen_init1(name, val) ,val\n#define pp_gen_find_set_wrap(ufnodename) ufnodename pp_gen_find_set\n#define pp_gen_find_set(list) pp_gen_find_set1 list\n#define pp_gen_find_set1(name, val) \\\n  find_set_ ## name(int x, decltype(val) v) { \\\n    if (nodes[x].parent == x) { \\\n      nodes[x].name = v; \\\n      return nodes[x]; \\\n    } else { \\\n      return nodes[x] = find_set_ ## name(nodes[x].parent, v); \\\n    } \\\n  }\n#define pp_gen_unite_set(list) pp_gen_unite_set1 list\n#define pp_gen_unite_set1(name, val) \\\n  if (nodes[x].name == val) { \\\n    find_set_ ## name(x, find(y).name); \\\n  } \\\n  if (nodes[y].name == val) { \\\n    find_set_ ## name(y, find(x).name); \\\n  }\n\n#define def_unionfind(ufname, ufnodename, ...) \\\n  struct ufnodename { \\\n    int parent; \\\n    pp_foreach(pp_gen_field, __VA_ARGS__) \\\n  }; \\\n  struct ufname { \\\n    vector<ufnodename> nodes; \\\n    vector<int> rank; \\\n    ufname(int n) : nodes(n+1), rank(n+1) { \\\n      rep (i in n) { \\\n        nodes[i] = ufnodename{i pp_foreach(pp_gen_init, __VA_ARGS__)}; \\\n        rank[i] = 0; \\\n      } \\\n    } \\\n    ufnodename find(int x) { \\\n      if (nodes[x].parent == x) { \\\n        return nodes[x]; \\\n      } else { \\\n        return nodes[x] = find(nodes[x].parent); \\\n      } \\\n    } \\\n    pp_foreach(pp_gen_find_set_wrap(ufnodename), __VA_ARGS__) \\\n    void unite(int x, int y) { \\\n      x = find(x).parent; \\\n      y = find(y).parent; \\\n      if (x == y) return; \\\n      if (rank[x] < rank[y]) { \\\n        pp_foreach(pp_gen_unite_set, __VA_ARGS__); \\\n        nodes[x].parent = y; \\\n      } else { \\\n        pp_foreach(pp_gen_unite_set, __VA_ARGS__); \\\n        nodes[y].parent = x; \\\n        if (rank[x] == rank[y]) rank[x]++; \\\n      } \\\n    } \\\n    bool same(int x, int y) { \\\n      return find(x).parent == find(y).parent; \\\n    } \\\n  }\n\n\nll gcd(ll a,ll b){while(b){ll tmp = a % b;a = b;b = tmp;}return a;}\nll lcm(ll a,ll b){return a / gcd(a,b) * b;}\n\n#define def_varargs(name, f) \\\n  template<typename First> \\\n  inline First name(First first) { return first; } \\\n  template<typename First, typename... Rest> \\\n  inline First name(First first, Rest... rest) { return f(first, name(rest...)); }\n\nvector<string> split(const string &s, char delim) {\n    vector<string> elems;\n    string item;\n    for (char ch: s) {\n        if (ch == delim) {\n            if (!item.empty())\n                elems.push_back(item);\n            item.clear();\n        }\n        else {\n            item += ch;\n        }\n    }\n    if (!item.empty())\n        elems.push_back(item);\n    return elems;\n}\n\n#define KIN 1\n#define WINAL (KIN*20)\n#define TON (WINAL*18)\n#define KATON (TON*20)\n#define BAKTON (KATON*20)\n\nbool is_uruu(ll year) {\n  return year % 4 == 0 && (year % 100 != 0 || year % 400 == 0);\n}\n\npair<ll, bool> calc_year(ll& allday) {\n  ll cnt = 2012;\n  allday++;\n  while (true) {\n    ll sub;\n    if (is_uruu(cnt)) {\n      sub = 366;\n    } else {\n      sub = 365;\n    }\n    if (allday - sub < 0) {\n      break;\n    }\n    allday -= sub;\n    cnt++;\n  }\n  return mp(cnt, is_uruu(cnt+1));\n}\npair<ll, ll> calc_month(ll& allday, ll& year, bool uruu) {\n  ll cnt = 12;\n  ll day = 31;\n  while (true) {\n    ll sub;\n    if (cnt == 2) {\n      sub = uruu ? 29 : 28;\n    } else if (cnt == 4 || cnt == 6 || cnt == 9 || cnt == 11) {\n      sub = 30;\n    } else {\n      sub = 31;\n    }\n    day = sub;\n    if (allday - sub < 0) {\n      break;\n    }\n    allday -= sub;\n    cnt++;\n    if (cnt > 12) {\n      year++;\n      cnt = 1;\n    }\n  }\n  return mp(cnt, day);\n}\nll calc_day(ll& allday, ll& month, ll& day) {\n  if (21 + allday > day) {\n    month++;\n    return 21 + allday - day;\n  } else {\n    return allday+21;\n  }\n}\n\nll year_to_day(ll year) {\n  ll cnt = -1;\n  rep (i in year-2012) {\n    if (is_uruu(i+2012)) {\n      cnt += 366;\n    } else {\n      cnt += 365;\n    }\n  }\n  return cnt;\n}\nll month_to_day(ll month, ll& year) {\n  int cnt = 0;\n  if (month==12) {\n    return 1;\n  }\n  year--;\n  rep (i in up(1, month+1)) {\n    if (i == 2) {\n      cnt += is_uruu(year+1) ? 29 : 28;\n    } else if (i == 4 || i == 6 || i == 9 || i == 11) {\n      cnt += 30;\n    } else {\n      cnt += 31;\n    }\n  }\n  return cnt;\n}\n\nint main() {\n  string s;\n  while (cin >> s && s[0] != '#') {\n    vector<string> elems = split(s, '.');\n    vector<int> maya;\n    for (auto e : elems) {\n      maya.pb(stoi(e));\n    }\n    if (elems.size() == 5) {\n      ll allday = maya[0]*BAKTON + maya[1]*KATON + maya[2]*TON + maya[3]*WINAL + maya[4]*KIN;\n      auto year = calc_year(allday);\n      auto month = calc_month(allday, year.first, year.second);\n      auto day = calc_day(allday, month.first, month.second);\n      if (month.first > 12) {\n        month.first -= 12;\n        year.first++;\n      }\n      cout << year.first << \".\" << month.first << \".\" << day << endl;\n    } else {\n      ll y = maya[0];\n      ll month = month_to_day(maya[1], y);\n      ll day = maya[2] - 21;\n      ll year = year_to_day(y);\n      ll allday = year + month + day;\n      allday %= BAKTON * 13;\n      ll b = allday / BAKTON; allday %= BAKTON;\n      ll ka = allday / KATON; allday %= KATON;\n      ll t = allday / TON; allday %= TON;\n      ll w = allday / WINAL; allday %= WINAL;\n      ll ki = allday / KIN; allday %= KIN;\n      cout << b << \".\" << ka << \".\" << t << \".\" << w << \".\" << ki << endl;\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#include <time.h>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef vector<int> vi;\n\nll gettime64(ll y,ll m,ll d){\n  struct tm poi;\n  poi.tm_year = y-1900;\n  poi.tm_mon = m-1;\n  poi.tm_mday = d;\n  poi.tm_hour = poi.tm_min = poi.tm_sec = 0;\n  poi.tm_isdst = -1;\n  return mktime(&poi);\n}\n\nint toint(string s){\n  return atoi(s.c_str());\n}\n\nvi split(string base, char spl){\n  vi result;\n  string::size_type pos = 0;\n  string::size_type bef = 0;\n  base += spl;\n  while( (pos = base.find_first_of(spl,bef)) != string::npos ){\n    result.push_back(toint(base.substr(bef,pos-bef)));\n    bef = pos+1;\n  }\n  return result;\n}\n\n#define AD 146097\n#define MAYA 1872000\n\nint main(){\n  while(true){\n    string s;\n    cin>>s;\n    if(s==\"#\")break;\n    vi input = split(s,'.');\n    if(input.size()==3){\n      // yyyy.mm.dd\n      ll y = input[0];\n      ll m = input[1];\n      ll d = input[2];\n      ll year_down = (y - 2013)/400;\n      y -= year_down*400;\n      ll birth = gettime64(y,m,d);\n      ll origin = gettime64(2012,12,21);\n      ll sub = (birth-origin)/24/60/60;\n      sub += year_down*AD%MAYA;\n      sub %= MAYA;\n      int ki = sub%20; sub/=20;\n      int w = sub%18;  sub/=18;\n      int t = sub%20;  sub/=20;\n      int ka = sub%20;\n      int b = sub/20;\n      printf(\"%d.%d.%d.%d.%d\\n\",b,ka,t,w,ki);\n    }else{\n      // b.ka.t.w.ki\n      ll val = 0;\n      val += input[0];  val *= 20;\n      val += input[1];  val *= 20;\n      val += input[2];  val *= 18;\n      val += input[3];  val *= 20;\n      val += input[4];\n      ll year_add = val/AD;\n      val %= AD;\n      val *= 24*60*60;\n      val += gettime64(2012,12,21);\n      struct tm *birth = gmtime(&val);\n      int year = birth->tm_year + 1900 + year_add*400;\n      int month = birth->tm_mon + 1;\n      int day = birth->tm_mday + 1;\n      printf(\"%d.%d.%d\\n\",year,month,day);\n    }\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string> \nusing namespace std;\nint main(){\n  long long y,m,d,b,ka,t,w,ki;\n  int i,j,k,p;\n  long long day,base=0,ba=1872000;\n  int mo[]={0,31,28,31,30,31,30,31,31,30,31,30,31};\n  string str;\n  cin>> str;\n  while(str[0]!='#'){\n    y=0;m=0;d=0;i=0;day=0;p=0;\n    while(str[i]!='\\0'){\n      if(str[i]=='.') p++;\n      i++;\n    }\n    if(p==2){\n      i=0;\n      while(str[i]!='.') i++;\n      for(j=0;j<i;j++){\n\ty*=10;\n\ty+=str[j]-'0';\n      }\n      i++;\n      k=i;\n      while(str[i]!='.') i++;\n      for(j=k;j<i;j++){\n\tm*=10;\n\tm+=str[j]-'0';\n      } \n      i++;\n      k=i;\n      while(str[i]!='\\0') i++;\n      for(j=k;j<i;j++){\n\td*=10;\n\td+=str[j]-'0';\n      }\n      //cout << y << \" \" << m << \" \" << d << endl;\n      if(y==2012) {\n\tday=d-21;\n      }else{\n\tday=10;\n\tfor(i=2013;i<y;i++)\n\t  if((i%4==0&&i%100!=0)||i%400==0) day+=366;\n\t  else day+=365;\n\tfor(i=1;i<m;i++) day+=mo[i];\n\tif(2<m&&((i%4==0&&i%100!=0)||i%400==0)) day++;\n\tday+=d;\n      }\n      while(ba<day) day-=ba;\n      b=day%(13*20*20*18*20)/(20*20*18*20);\n      ka=day%(20*20*18*20)/(20*18*20);\n      t=day%(20*18*20)/(18*20);\n      w=day%(18*20)/20;\n      ki=day%(20);\n      cout << b << \".\" << ka << \".\" << t << \".\" << w << \".\" << ki << endl;\n    }else{\n      i=0;b=0;ka=0;t=0;w=0;ki=0;\n      while(str[i]!='.') i++;\n      for(j=0;j<i;j++){\n\tb*=10;\n\tb+=str[j]-'0';\n      }\n      i++;\n      k=i;\n      while(str[i]!='.') i++;\n      for(j=k;j<i;j++){\n\tka*=10;\n\tka+=str[j]-'0';\n      } \n      i++;\n      k=i;\n      while(str[i]!='.') i++;\n      for(j=k;j<i;j++){\n\tt*=10;\n\tt+=str[j]-'0';\n      }\n      i++;\n      k=i;\n      while(str[i]!='.') i++;\n      for(j=k;j<i;j++){\n\tw*=10;\n\tw+=str[j]-'0';\n      } \n      i++;\n      k=i;\n      while(str[i]!='\\0') i++;\n      for(j=k;j<i;j++){\n\tki*=10;\n\tki+=str[j]-'0';\n      }\n      //cout << b << \".\" << ka << \".\" << t << \".\" << w << \".\" << ki << endl;\n      day =b*20*20*18*20+ka*20*18*20+t*18*20+w*20+ki;\n      \n      y=2012;m=12;d=21;\n      if(day<=10) d+=day;\n      else{\n\tday-=10;\n\ty=2013;\n\twhile(day>365){\n\t  if((y%4==0&&y%100!=0)||y%400==0) day-=366;\n\t  else day-=365;\n\t  y++;\n\t}\n\tm=1;int flag=0;\n\t//cout << day << endl;\n\twhile(day>mo[m]&&flag==0){\n\t  if(m==2&&((y%4==0&&y%100!=0)||y%400==0)) {\n\t    if(day>29) {\n\t      day-=29;\n\t      m++;\n\t      \n\t    }else{\n\t      flag=1;\n\t    }\n\t  }else{\n\t    day-=mo[m];\n\t    m++;\n\t  }\n\t}\n\t//cout << day << endl;\n\td=day;\n      }\n      cout << y << \".\" << m << \".\" << d << endl;\n    }\n    cin >> str;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<tuple>\n#include<string>\n#include<vector>\nusing namespace std;\nint p1[13][33], p2[13][33], V[401];\ntuple<int, int, int>x[13][20][20][18][20];\ntuple<int, int, int, int, int>xx[1872000];\nvoid init() {\n\tfor (int i = 0; i < 429; i++) { p1[i / 33][i % 33] = -1; p2[i / 33][i % 33] = -1; }\n\tint CNTS = 0;\n\tfor (int i = 1; i <= 12; i++) {\n\t\tint V = 31; if ((i <= 6 && i % 2 == 0) || (i >= 9 && i % 2 == 1))V = 30;\n\t\tif (i == 2)V = 28;\n\t\tfor (int j = 1; j <= V; j++) { p1[i][j] = CNTS; CNTS++; }\n\t}\n\tCNTS = 0;\n\tfor (int i = 1; i <= 12; i++) {\n\t\tint V = 31; if ((i <= 6 && i % 2 == 0) || (i >= 9 && i % 2 == 1))V = 30;\n\t\tif (i == 2)V = 29;\n\t\tfor (int j = 1; j <= V; j++) { p2[i][j] = CNTS; CNTS++; }\n\t}\n\tfor (int i = 1; i <= 400; i++) {\n\t\tint II = i - 1;\n\t\tif (II % 4 == 0 && (II % 100 >= 1 || II % 400 == 0))V[i] = V[i - 1] + 366;\n\t\telse { V[i] = V[i - 1] + 365; }\n\t}\n\tCNTS = 0; int yy = 2012, mm = 12, dd = 21;\n\tfor (int i = 0; i < 13; i++) {\n\t\tfor (int j = 0; j < 20; j++) {\n\t\t\tfor (int k = 0; k < 20; k++) {\n\t\t\t\tfor (int l = 0; l < 18; l++) {\n\t\t\t\t\tfor (int m = 0; m < 20; m++) {\n\t\t\t\t\t\tx[i][j][k][l][m] = make_tuple(yy, mm, dd);\n\t\t\t\t\t\txx[CNTS] = make_tuple(i, j, k, l, m);\n\t\t\t\t\t\tCNTS++; dd++;\n\t\t\t\t\t\tif (yy % 4 == 0 && (yy % 100 >= 1 || yy % 400 == 0)) {\n\t\t\t\t\t\t\tif (p2[mm][dd] == -1) { mm++; dd = 1; }\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse { if (p1[mm][dd] == -1) { mm++; dd = 1; } }\n\t\t\t\t\t\tif (mm == 13) { mm = 1; yy++; }\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\nlong long DayCount(long long y, long long m, long long d) {\n\tint DD = 0; if (y % 4 == 0) { DD = p2[m][d]; }\n\telse { DD = p1[m][d]; }\n\treturn (V[400] * (y / 400) + V[y % 400]) + DD;\n}\ntuple<int, int, int> MayaWest(long long I, long long J, long long K, long long L, long long M) {\n\treturn x[I][J][K][L][M];\n}\ntuple<int, int, int, int, int>WestMaya(long long I, long long J, long long K) {\n\tlong long X = (DayCount(I, J, K) - DayCount(2012, 12, 21)) % 1872000;\n\treturn xx[X];\n}\nint main() {\n\tinit();\n\twhile (true) {\n\t\tstring S; cin >> S; if (S == \"#\")break; S += '.';\n\t\tvector<int>Vec; string T = \"\";\n\t\tfor (int i = 0; i < S.size(); i++) {\n\t\t\tif (S[i] == '.') { Vec.push_back(stoi(T)); T = \"\"; }\n\t\t\telse { T += S[i]; }\n\t\t}\n\t\tif (Vec.size() == 3) {\n\t\t\ttuple<int, int, int, int, int>ans = WestMaya(Vec[0], Vec[1], Vec[2]);\n\t\t\tcout << get<0>(ans) << '.' << get<1>(ans) << '.' << get<2>(ans) << '.' << get<3>(ans) << '.' << get<4>(ans) << endl;\n\t\t}\n\t\tif (Vec.size() == 5) {\n\t\t\ttuple<int, int, int>ans = MayaWest(Vec[0], Vec[1], Vec[2], Vec[3], Vec[4]);\n\t\t\tcout << get<0>(ans) << '.' << get<1>(ans) << '.' << get<2>(ans) << endl;\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<ll> vl;\ntypedef complex<double> P;\ntypedef pair<int,int> pii;\n#define REP(i,n) for(ll i=0;i<n;++i)\n#define REPR(i,n) for(ll i=1;i<n;++i)\n#define FOR(i,a,b) for(ll i=a;i<b;++i)\n\n#define DEBUG(x) cout<<#x<<\": \"<<x<<endl\n#define DEBUG_VEC(v) cout<<#v<<\":\";REP(i,v.size())cout<<\" \"<<v[i];cout<<endl\n#define ALL(a) (a).begin(),(a).end()\n\n#define MOD (ll)(1e9+7)\n#define ADD(a,b) a=((a)+(b))%MOD\n#define FIX(a) ((a)%MOD+MOD)%MOD\n\nvector<string> split(string base, char spl){\n  vector<string> result;\n  string::size_type pos = 0;\n  string::size_type bef = 0;\n  base += spl;\n  while( (pos = base.find_first_of(spl,bef)) != string::npos ){\n    result.push_back(base.substr(bef,pos-bef));\n    bef = pos+1;\n  }\n  return result;\n}\n\nint toint(string s){\n  return atoi(s.c_str());\n}\n\n// year : 2013 ~ 2413 ( 1e7 )\n// month : 12\n// day : 31\nint maya_to_ad[150000];\nint ad_to_maya[1000000];\nint span;\n\nbool is_uruu(int y){\n  return (y%4==0 && (y%100!=0 || y%400==0));\n}\n\nint daylist[12] = {31,28,31,30,31,30,31,31,30,31,30,31};\n\nvoid calc(){\n  int y = 2012;\n  int m = 12;\n  int d = 21;\n  REP(i,150000){\n    int id = ((y*12)+(m-1))*31+(d-1);\n    maya_to_ad[i] = id;\n    ad_to_maya[id] = i;\n    if(y==2412 && m==12 && d==21) span = i;\n    ++d;\n    if(d > daylist[m-1]){\n      if(m==2 && is_uruu(y) && d==29){\n        // do nothing\n      }else if(m==12){\n        // next year\n        ++y;\n        m=1;\n        d=1;\n      }else{\n        // next month\n        ++m;\n        d=1;\n      }\n    }\n  }\n}\n\nint main(){\n  // mae shori\n  // 400 years\n  calc();\n  // input\n  while(true){\n    string s;\n    cin>>s;\n    if(s==\"#\")break;\n    vector<string> input = split(s,'.');\n    if(input.size()==3){\n      // year.month.day\n      int year = toint(input[0]);\n      int month = toint(input[1]);\n      int day = toint(input[2]);\n      int yeardown = (year-2013)/400;\n      year -= yeardown * 400;\n      int id = ((year*12)+(month-1))*31+(day-1);\n      // over flow\n      ll maya = ad_to_maya[id];\n      maya += (ll)yeardown * (ll)span;\n      maya %= 1872000;\n      int ki = maya%20; maya/=20;\n      int w = maya%18;  maya/=18;\n      int t = maya%20;  maya/=20;\n      int ka = maya%20; maya/=20;\n      int b = maya;\n      printf(\"%d.%d.%d.%d.%d\\n\",b,ka,t,w,ki);\n    }else{\n      // b.ka.t.w.ki\n      int b = toint(input[0]);\n      int ka = toint(input[1]);\n      int t = toint(input[2]);\n      int w = toint(input[3]);\n      int ki = toint(input[4]);\n      int id = ((((b*20)+ka)*20+t)*18+w)*20+ki;\n      int yearadd = id/span;\n      id %= span;\n      int ad = maya_to_ad[id];\n      int day = 1+ad%31;    ad/=31;\n      int month = 1+ad%12;  ad/=12;\n      int year = ad + yearadd*400;\n      printf(\"%d.%d.%d\\n\",year,month,day);\n    }\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nvector<string> split(const string &str, char sep)\n{\n    vector<string> v;\n    stringstream ss(str);\n    string buffer;\n    while( getline(ss, buffer, sep) ) {\n        v.push_back(buffer);\n    }\n    return v;\n}\n\nbool is_Leapyear(long long int year){\n    if(year%4==0){\n        if(year%100==0){\n            if(year%400==0){\n                return true;\n            }\n            return false;\n        }\n        return true;\n    }\n    return false;\n}\n\nint months[12] = {31,28,31,30,31,30,31,31,30,31,30,31};\nint leapmonths[12] = {31,29,31,30,31,30,31,31,30,31,30,31};\n\nint main() {\n\n    string s;\n\n    const long long  int baseday = (2012*365 + 2012/4 - 2012/100 + 2012/400 + 366-11);\n\n    while(1){\n\n        cin >> s;\n\n        if(s[0] == '#'){\n            break;\n        }\n\n        vector<string> vec = split(s,'.');\n\n        if(vec.size() == 5){\n\n            int a[5];//b,ka,t,w,ki\n\n            for(int i=0;i<5;i++){\n                stringstream ss;\n                ss << vec[i];\n                ss >> a[i];\n            }\n\n            long long int allday = 0;\n\n            allday = a[0]*20*20*18*20 + a[1]*20*18*20 + a[2]*18*20 + a[3]*20 + a[4];\n\n            if(allday>=11){\n                allday -= 11;\n                int year,month,day;\n                year = 2013+(static_cast<int>(allday/(365+365+365+366))*4);\n                allday = allday % (365+365+365+366);\n                allday = allday + (year-2013)/100 - (year-2013)/400;\n                if(allday==0){\n                    allday = 1;\n                }\n                year += allday/365;\n                allday %= 365;\n\n                month = 1;\n                day = 1;\n                if(is_Leapyear(year)){\n                    for(int i=0;i<12;i++){\n                        if(allday>=leapmonths[i]){\n                            allday-=leapmonths[i];\n                            month++;\n                        }\n                        else{\n                            break;\n                        }\n                    }\n                    day += allday;\n                    printf(\"%d.%d.%d\\n\",year,month,day);\n                }\n                else{\n                    for(int i=0;i<12;i++){\n                        if(allday>=months[i]){\n                            allday-=months[i];\n                            month++;\n                        }\n                        else{\n                            break;\n                        }\n                    }\n                    day += allday ;\n                    printf(\"%d.%d.%d\\n\",year,month,day);\n                }\n            }\n            else{\n                printf(\"2012.12.%lld\\n\",21+allday);\n            }\n\n        }\n\n        else{\n\n            long long int b[3];//year,month,day\n\n            for(int i=0;i<3;i++){\n                stringstream ss;\n                ss << vec[i];\n                ss >> b[i];\n            }\n\n            long long int allday = (b[0] % 1872000 * 365 + b[0]/4 - b[0]/100 + b[0]/400);\n\n            if(is_Leapyear(b[0])){\n                allday--;\n            }\n\n            for(int i=0;i<b[1]-1;i++){\n                if(is_Leapyear(b[0])){\n                    allday += leapmonths[i];\n                }\n                else{\n                    allday += months[i];\n                }\n            }\n\n            allday += b[2];\n\n            allday -= baseday;\n\n            allday %= 1872000;\n\n            long long int ba,ka,t,w,ki;\n\n            ba = allday/144000;\n\n            allday %= 144000;\n\n            ka = allday/7200;\n\n            allday %= 7200;\n\n            t = allday/360;\n\n            allday %= 360;\n\n            w = allday/20;\n\n            allday %= 20;\n\n            ki = allday;\n\n            printf(\"%lld.%lld.%lld.%lld.%lld\\n\",ba,ka,t,w,ki);\n        }\n\n    }\n\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define int long long\n#define UNIQUE(v) v.erase(unique(all(v)), v.end());\n#define ZIP(v) sort(all(v)),UNIQUE(v)\n#define ADD(a, b) a = (a + b) % mod\n#define SUB(a, b) a = (a+mod-b)%mod\n#define MUL(a, b) a = (a * b) % mod\n#define repi(i,m,n) for(int i = m;i < n;i++)\n#define drep(i,n,m) for(int i = n;i >= m;i--)\n#define rep(i,n) repi(i,0,n)\n#define rrep(i,n) repi(i,1,n+1)\n#define chmin(x,y) x = min(x,y)\n#define chmax(x,y) x = max(x,y)\n#define all(v) v.begin(),v.end()\n#define rall(v) v.rbegin(), v.rend()\n#define dmp(x,y) make_pair(x,y)\n#define pb(x) push_back(x)\n#define fi first\n#define se second\ntypedef pair<int,int> P;\ntypedef pair<int, P> PP;\ntypedef pair<P, int> Pi;\ntypedef vector<int> vi;\ntypedef deque<int> dq;\nconst int inf = 1e9+7;\nconst int INF = 1e18+7;\n\nvi get_num(string str){\n\tstr.pb('.');\n\tstring s = \"\";\n\tvector<int> vec;\n\trep(i,str.size()){\n\t\tif(str[i] == '.'){\n\t\t\tvec.pb(atoll(s.c_str()));\n\t\t\ts = \"\";continue;\n\t\t}\n\t\ts.pb(str[i]);\n\t}\n\treturn vec;\n}\n\nint length_of_year(int y){ // 1-indexed\n  if(y%400 == 0 || ((y%100 != 0) && (y%4 == 0)))return 366;\n  return 365;\n}\n\nint length_of_month(int y, int m){ // 1-indexed\n  int monthes[12] = {31, 0, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\n    if(m != 2)return monthes[m-1];\n    if(length_of_year(y) == 366)return 29;\n    return 28;\n}\n\nint date_to_int(string date){ //ex) 2018.08.05\n\tvector<int> vec = get_num(date);\n\tint ans = 0;\n\tint y = vec[0], m = vec[1], d = vec[2];\n\trepi(i,1,y)ans += length_of_year(i);\n\trepi(i,1,m)ans += length_of_month(y, i);\n\treturn ans + d;\n}\n\nint maya_to_int(string date){\n\tvector<int> vec = get_num(date);\n\tint ans = 0, tmp = 1;\n\tint mask[] = {13, 20, 20, 18, 20};\n\tdrep(i,5-1,0){\n\t\tans += vec[i]*tmp;\n\t\ttmp *= mask[i];\n\t}\n\treturn ans;\n}\n\nstring to_str(int num){\n\t//return to_string(num);\n\tif(num == 0)return \"0\";\n\tstring s = \"\";\n\twhile(num > 0){\n\t\ts += ((num%10)+'0');\n\t\tnum /= 10;\n\t}\n\treverse(all(s));\n\treturn s;\n}\n\nstring anno_to_str(int date){\n\tint y = 1, m = 1;\n\tfor(int i = 1;length_of_year(i) < date;i++){date -= length_of_year(i);y++;}\n\tfor(int i = 1;length_of_month(y, i) < date;i++){date -= length_of_month(y, i);m++;}\n\tstring ans;\n\tans += to_str(y) + \".\";\n\tans += to_str(m) + \".\";\n\tans += to_str(date);\n\treturn ans;\n}\n\nstring maya_to_str(int date){\n\tint mark2[] = {13, 20, 20, 18, 20};\n\tint mark[5] = {}, ans[5] = {};\n\tint tmp = 20;\n\tdrep(i,3,0){mark[i] = tmp;tmp *= mark2[i];}\n\trep(i,4){\n\t\tans[i] = date/mark[i];\n\t\tdate -= mark[i]*(date/mark[i]);\n\t}ans[4] = date;\n\tstring str = \"\";\n\trep(i,4){\n\t\tstr += to_str(ans[i]%mark2[i]) + \".\";\n\t}\n\treturn str+to_str(ans[4]);\n}\n\nsigned main(){\n\tint B = date_to_int(\"2012.12.21\");\n\twhile(1){\n\t\tstring str;\n\t\tcin >> str;\n\t\tif(str == \"#\")break;\n\t\tif(get_num(str).size() == 3){\n\t\t\tint num = date_to_int(str)-B;\n\t\t\tcout << maya_to_str(num) << endl;\n\t\t}else{\n\t\t\tint num = maya_to_int(str)+B;\n\t\t\tcout << anno_to_str(num) << endl;\n\t\t}\n\t}\n\treturn 0;\n}\n\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nvector<string> split(const string &str, char sep)\n{\n    vector<string> v;\n    stringstream ss(str);\n    string buffer;\n    while( getline(ss, buffer, sep) ) {\n        v.push_back(buffer);\n    }\n    return v;\n}\n\nbool is_Leapyear(long long int year){\n    if(year%4==0){\n        if(year%100==0){\n            if(year%400==0){\n                return true;\n            }\n            return false;\n        }\n    }\n    return false;\n}\n\nint months[12] = {31,28,31,30,31,30,31,31,30,31,30,31};\nint leapmonths[12] = {31,29,31,30,31,30,31,31,30,31,30,31};\n\nint main() {\n\n    string s;\n\n    const long long  int baseday = (2012*365 + 2012/4 - 2012/100 + 2012/400 + 366-11);\n\n    while(1){\n\n        cin >> s;\n\n        if(s[0] == '#'){\n            break;\n        }\n\n        vector<string> vec = split(s,'.');\n\n        if(vec.size() == 5){\n\n            int a[5];//b,ka,t,w,ki\n\n            for(int i=0;i<5;i++){\n                stringstream ss;\n                ss << vec[i];\n                ss >> a[i];\n            }\n\n            long long int allday = 0;\n\n            allday = a[0]*20*20*18*20 + a[1]*20*18*20 + a[2]*18*20 + a[3]*20 + a[4];\n\n            if(allday>=11){\n                allday -= 11;\n                int year,month,day;\n                year = 2013+(allday/(365+365+365+366))*4;\n                allday = allday % (365+365+365+366);\n                year += allday/365;\n                allday %= 365;\n                allday = allday + (year-2013)/100 - (year-2013)/400;\n                month = 1;\n                day = 1;\n                if(is_Leapyear(year)){\n                    for(int i=0;i<12;i++){\n                        if(allday>leapmonths[i]){\n                            allday-=leapmonths[i];\n                            month++;\n                        }\n                        else{\n                            break;\n                        }\n                    }\n                    day += allday;\n                    printf(\"%d.%d.%d\\n\",year,month,day);\n                }\n                else{\n                    for(int i=0;i<12;i++){\n                        if(allday>months[i]){\n                            allday-=months[i];\n                            month++;\n                        }\n                        else{\n                            break;\n                        }\n                    }\n                    day += allday ;\n                    printf(\"%d.%d.%d\\n\",year,month,day);\n                }\n            }\n            else{\n                printf(\"2012.12.%d\\n\",21+allday);\n            }\n\n        }\n\n        else{\n\n            int b[3];//year,month,day\n\n            for(int i=0;i<3;i++){\n                stringstream ss;\n                ss << vec[i];\n                ss >> b[i];\n            }\n\n            long long int allday = (b[0] % 1872000 * 365 + b[0]/4 - b[0]/100 + b[0]/400);\n            \n            if(is_Leapyear(b[0])){\n                allday--;\n            }\n\n            for(int i=0;i<b[1]-1;i++){\n                if(is_Leapyear(b[0])){\n                    allday += leapmonths[i];\n                }\n                else{\n                    allday += months[i];\n                }\n            }\n\n            allday += b[2];\n\n            cout << allday << \" \" << baseday << endl;\n\n            allday -= baseday;\n\n            allday %= 1872000;\n\n            int ba,ka,t,w,ki;\n\n            ba = allday/144000;\n\n            allday %= 144000;\n\n            ka = allday/7200;\n\n            allday %= 7200;\n\n            t = allday/360;\n\n            allday %= 360;\n\n            w = allday/20;\n\n            allday %= 20;\n\n            ki = allday;\n\n            printf(\"%d.%d.%d.%d.%d\\n\",ba,ka,t,w,ki);\n        }\n\n    }\n\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nstd::vector<std::string> split(const std::string &str, char sep){\n    std::vector<std::string> v;\n    std::stringstream ss(str);\n    std::string buffer;\n    while( std::getline(ss, buffer, sep) ) {\n        v.push_back(buffer);\n    }\n    return v;\n}\n\ninline bool reap(int y){\n    if(y%4==0 && y%100 != 0 ){\n        return true;\n    }\n    else if(y%400 == 0){\n        return true;\n    }\n    return false;\n}\n\nint main() {\n\n\n    string s;\n\n    while(1){\n\n        cin >> s;\n\n        if(s[0] == '#') break;\n\n        vector<string> vs = split(s,'.');\n\n        if(vs.size() == 3){\n            long long int b,ka,t,w,ki;\n            b = ka = t = w = ki = 0;\n\n            int y,m,d;\n\n            stringstream ss;\n\n            ss << vs[0]; ss >> y; ss.clear();\n            ss << vs[1]; ss >> m; ss.clear();\n            ss << vs[2]; ss >> d; ss.clear();\n\n            if(y==2012){\n                 ki = d - 21;\n            }\n\n            else {\n\n                /*while (y != 2012) {\n\n                    do {\n\n                        while (d != 0) {\n                            d--;\n                            ki++;\n                        }\n\n                        m--;\n\n                        if (m == 1 || m == 3 || m == 5 || m == 7 || m == 8 || m == 10 || m == 0) {\n                            d = 31;\n                        } else if (m == 4 || m == 6 || m == 9 || m == 11) {\n                            d = 30;\n                        } else if (m == 2 && reap(y)) {\n                            d = 29;\n                        } else {\n                            d = 28;\n                        }\n\n                    } while (m != 0);\n\n                    if (ki >= 20) {\n                        w += ki / 20;\n                        ki %= 20;\n                    }\n                    if (w >= 18) {\n                        t += w / 18;\n                        w %= 18;\n                    }\n                    if (t >= 20) {\n                        ka += t / 20;\n                        t %= 20;\n                    }\n                    if (ka >= 20) {\n                        b += ka / 20;\n                        ka %= 20;\n                    }\n                    if (b >= 13) {\n                        b %= 13;\n                    }\n\n                    m = 12;\n\n                    y--;\n\n                }*/\n\n                /*if(d>21){\n                    ki += d-21;\n                    d = 21;\n                }\n                else{\n                    m--;\n                    if(m==0){\n                        ki += d+31-21;\n                        m = 12;\n                        y--;\n                    }\n                    else if(m == 3 || m == 5 || m == 7 || m == 8 || m == 10 || m == 1){\n                        ki += d+31-21;\n                    }\n                    else if(m == 4 || m == 6 || m == 9 || m == 11){\n                        ki += d+30-21;\n                    }\n                    else if(m == 2 && reap(y)){\n                        ki += d+29-21;\n                    }\n                    else{\n                        ki += d+28-21;\n                    }\n                    ki++;\n                    d = 21;\n                }\n\n                while(y!=2012){\n\n                    while(m!=0){\n                        if(m == 1 || m == 3 || m == 5 || m == 7 || m == 8 || m == 10 || m == 12){\n                            ki += 31;\n                        }\n                        else if(m == 4 || m == 6 || m == 9 || m == 11){\n                            ki += 30;\n                        }\n                        else if(m == 2 && reap(y)){\n                            ki += 29;\n                        }\n                        else{\n                            ki += 28;\n                        }\n                        m--;\n                    }\n\n\n                    if(ki>=20){\n                        w += ki/20;\n                        ki %= 20;\n                    }\n                    if(w>=18){\n                        t += w/18;\n                        w %= 18;\n                    }\n                    if(t>=20){\n                        ka += t/20;\n                        t %= 20;\n                    }\n                    if(ka>=20){\n                        b += ka/20;\n                        ka %= 20;\n                    }\n                    if(b>=13){\n                        b %= 13;\n                    }\n\n                    m = 12;\n\n                    y--;\n\n                }*/\n\n                long long int allday = 0;\n\n                allday = 11;\n\n                int tmpy = 2013;\n\n                while(y != tmpy) {\n                    if (reap(tmpy)) {\n                        allday += 366;\n                    }\n                    else {\n                        allday += 365;\n                    }\n                    tmpy++;\n                    allday %= 1872000;\n                }\n\n                for(int i=1;i<m;i++) {\n\n                    if (i == 1 || i == 3 || i == 5 || i == 7 || i == 8 || i == 10 || i == 0) {\n                        allday += 31;\n                    } else if (i == 4 || i == 6 || i == 9 || i == 11) {\n                        allday += 30;\n                    } else if (i == 2 && reap(y)) {\n                        allday += 29;\n                    } else if(i == 2){\n                        allday += 28;\n                    }else{\n                        break;\n                    }\n                }\n\n                allday += d-1;\n\n                /*do {\n\n                    while (d != 0) {\n                        d--;\n                        allday++;\n                    }\n\n                    m--;\n\n                    if (m == 1 || m == 3 || m == 5 || m == 7 || m == 8 || m == 10 || m == 0) {\n                        d = 31;\n                    } else if (m == 4 || m == 6 || m == 9 || m == 11) {\n                        d = 30;\n                    } else if (m == 2 && reap(y)) {\n                        d = 29;\n                    } else {\n                        d = 28;\n                    }\n\n                } while (m != 0);*/\n\n                b = allday / (20*18*20*20);\n                allday %= 20*18*20*20;\n                ka = allday / (20*18*20);\n                allday %= 20*18*20;\n                t = allday / (20*18);\n                allday %= 20*18;\n                w = allday / 20;\n                allday %= 20;\n                ki = allday;\n\n                b %= 13;\n\n                /*if (ki >= 20) {\n                    w += ki / 20;\n                    ki %= 20;\n                }\n                if (w >= 18) {\n                    t += w / 18;\n                    w %= 18;\n                }\n                if (t >= 20) {\n                    ka += t / 20;\n                    t %= 20;\n                }\n                if (ka >= 20) {\n                    b += ka / 20;\n                    ka %= 20;\n                }\n                if (b >= 13) {\n                    b %= 13;\n                }*/\n\n\n                /*if(ki>=20){\n                    w += ki/20;\n                    ki %= 20;\n                }\n                if(w>=18){\n                    t += w/18;\n                    w %= 18;\n                }\n                if(t>=20){\n                    ka += t/20;\n                    t %= 20;\n                }\n                if(ka>=20){\n                    b += ka/20;\n                    ka %= 20;\n                }\n                if(b>=13){\n                    b %= 13;\n                }\n\n                //ki += 31 - 21;\n\n                if (ki >= 20) {\n                    w += ki / 20;\n                    ki %= 20;\n                }\n                if (w >= 18) {\n                    t += w / 18;\n                    w %= 18;\n                }\n                if (t >= 20) {\n                    ka += t / 20;\n                    t %= 20;\n                }\n                if (ka >= 20) {\n                    b += ka / 20;\n                    ka %= 20;\n                }\n                if (b >= 13) {\n                    b %= 13;\n                }*/\n\n                /*if(ki<0){\n                    if(w==0){\n                        if(t==0){\n                            if(ka==0){\n                                b--;\n                                ka = 19;\n                                t = 19;\n                                w = 17;\n                                ki += 19;\n                            }\n                            else{\n                                ka--;\n                                t = 19;\n                                w = 17;\n                                ki += 19;\n                            }\n                        }\n                        else{\n                            t--;\n                            w = 17;\n                            ki += 19;\n                        }\n                    }\n                    else{\n                        w--;\n                        ki += 19;\n                    }\n                }*/\n\n            }\n\n            printf(\"%lld.%lld.%lld.%lld.%lld\\n\",b,ka,t,w,ki);\n\n\n        }\n        else{\n\n            long long int day = 0;\n\n            long long int b,ka,t,w,ki;\n            b = ka = t = w = ki = 0;\n\n            long long int y,m,d;\n\n            stringstream ss;\n\n            ss << vs[0]; ss >> b; ss.clear();\n            ss << vs[1]; ss >> ka; ss.clear();\n            ss << vs[2]; ss >> t; ss.clear();\n            ss << vs[3]; ss >> w; ss.clear();\n            ss << vs[4]; ss >> ki; ss.clear();\n\n            day = ki + w*20 + t*20*18 + ka*20*18*20 + b*20*18*20*20;\n\n            y = 2012; m = 12; d = 21;\n/*\n            if(day > 10){\n                y++; m = 1; d = 1; day -= 11;\n            }\n            else{\n                d += day;\n                day = 0;\n            }\n\n            while(day!=0){\n\n                if(m == 1 || m == 3 || m == 5 || m == 7 || m == 8 || m == 10){\n                    if(day >= 31){\n                        m++;\n                        day -= 31;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }\n                }\n                else if(m == 4 || m == 6 || m == 9 || m == 11){\n                    if(day >= 30){\n                        m++;\n                        day -= 30;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }\n                }\n                else if(m == 2 && reap(y)){\n                    if(day >= 29){\n                        m++;\n                        day -= 29;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }\n                }\n                else if(m == 2){\n                    if(day >= 28){\n                        m++;\n                        day -= 28;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }\n                }\n                else if(m == 12) {\n                    if(day >= 31){\n                        m = 1;\n                        y++;\n                        day -= 31;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }\n                }\n\n            }\n*/\n\n            while(day!=0){\n\n                if(m == 1 || m == 3 || m == 5 || m == 7 || m == 8 || m == 10){\n                    while(day != 0 && d != 32){\n                        day--;\n                        d++;\n                    }\n                    if(d==32){\n                        m++;\n                        d = 1;\n                    }\n                    /*if(day >= 31){\n                        m++;\n                        day -= 31;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }*/\n                }\n                else if(m == 4 || m == 6 || m == 9 || m == 11){\n                    while(day != 0 && d != 31){\n                        day--;\n                        d++;\n                    }\n                    if(d==31){\n                        m++;\n                        d = 1;\n                    }\n                    /*if(day >= 30){\n                        m++;\n                        day -= 30;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }*/\n                }\n                else if(m == 2 && reap(y)){\n                    while(day != 0 && d != 30){\n                        day--;\n                        d++;\n                    }\n                    if(d==30){\n                        m++;\n                        d = 1;\n                    }\n                    /*if(day >= 29){\n                        m++;\n                        day -= 29;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }*/\n                }\n                else if(m == 2){\n                    while(day != 0 && d != 29){\n                        day--;\n                        d++;\n                    }\n                    if(d==29){\n                        m++;\n                        d = 1;\n                    }\n                    /*if(day >= 28){\n                        m++;\n                        day -= 28;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }*/\n                }\n                else if(m == 12) {\n                    while(day != 0 && d != 32){\n                        day--;\n                        d++;\n                    }\n                    if(d==32){\n                        m = 1;\n                        d = 1;\n                        y++;\n                    }\n                    /*if(day >= 31){\n                        m = 1;\n                        y++;\n                        day -= 31;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }*/\n                }\n\n            }\n\n            printf(\"%lld.%lld.%lld\\n\",y,m,d);\n\n\n        }\n\n    }\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n\nusing namespace std;\n\ntypedef vector<int> vi;\ntypedef pair<int,int> pii;\ntypedef long long ll;\n\n#define rep(i,n) for(ll i=0;i<(ll)(n);i++)\n#define all(a)  (a).begin(),(a).end()\n#define pb push_back\n\n\n\nbool isLeep(int n){\n    return ( (n%4==0 && n%100!=0) || n%400==0 );\n}\n\n\nll ymdToNum(int y,int m,int d){\n    \n    int month[]={0,0,31,59,90,120,151,181,212,243,273,304,334};\n    \n    ll ret=0;\n    ret+=(ll)365*(y-1);\n    ret+=(ll)((y-1)/4) - (ll)((y-1)/100) + (ll)((y-1)/400);\n    \n    ret+=month[m];\n    if( isLeep(y) && m>=3 )ret++;\n    \n    ret+=d-1;\n    \n    return ret;\n}\n\nll bkatwkiToNum(int b,int ka,int t,int w,int ki){\n    ll ret=0;\n    ret+=b;\n    ret*=20;\n    \n    ret+=ka;\n    ret*=20;\n    \n    ret+=t;\n    ret*=18;\n    \n    ret+=w;\n    ret*=20;\n    \n    ret+=ki;\n    \n    return ret;\n}\n\n\nint main(){\n    string s;\n    while(cin>>s){\n        if( s==\"#\" )break;\n        \n        string buf=\"\";\n        vector<string> tmp;\n        rep(i,s.size()){\n            if( s[i]!='.' )buf+=s[i];\n            else{\n                tmp.pb(buf);\n                buf=\"\";\n            }\n        }\n        tmp.pb(buf);\n\n\n        //b.ka.t.w.ki\n        if( tmp.size()==5 ){ //maya\n            int b  = stoi(tmp[0]);\n            int ka = stoi(tmp[1]);\n            int t  = stoi(tmp[2]);\n            int w  = stoi(tmp[3]);\n            int ki = stoi(tmp[4]);\n            \n            ll num = bkatwkiToNum(b,ka,t,w,ki);\n            \n            num += ymdToNum(2012,12,21);\n            \n            int y,m,d;\n            int t1=0;\n            for(int i=1;;i++){\n                t1+=365;\n                if( isLeep(i) )t1++;\n                \n                if(t1>num){\n                    y=i;\n                    break;\n                }\n            }\n            \n            num -= 365*(y-1)+((y-1)/4 - (y-1)/100 + (y-1)/400);\n            \n            int month[]={0,31,59,90,120,151,181,212,243,273,304,334,365};\n            for(int i=1;i<13;i++){\n                int ep=0;\n                if( isLeep(y)&&i>=2 )ep++;\n                \n                if( month[i]+ep>num ){\n                    m=i;\n                    break;\n                }\n            }\n            num -= month[m-1];\n            if( isLeep(y)&&m>=3 )num--;\n            \n            d=num+1;\n            \n            cout<<y<<\".\"<<m<<\".\"<<d<<endl;\n            \n            \n        }else if( tmp.size()==3 ){   //sei\n            int y = stoi(tmp[0]);\n            int m = stoi(tmp[1]);\n            int d = stoi(tmp[2]);\n            \n            ll num = ymdToNum(y,m,d) - ymdToNum(2012,12,21);\n            num%=1872000;\n            int b,ka,t,w,ki;\n            \n            b = num/144000;\n            num-=b*144000;\n            \n            ka = num/7200;\n            num-=ka*7200;\n            \n            t = num/360;\n            num-=t*360;\n            \n            w = num/20;\n            num-=w*20;\n            \n            ki=num;\n            \n            \n            cout<<b<<\".\"<<ka<<\".\"<<t<<\".\"<<w<<\".\"<<ki<<endl;\n        }else return 0;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <cstring>\n\n#include <iostream>\n#include <string>\n#include <algorithm>\n#include <vector>\n#include <queue>\n#include <stack>\n#include <map>\n#include <set>\n\n#include <functional>\n#include <cassert>\n\ntypedef long long ll;\nusing namespace std;\n\n#define debug(x) cerr << #x << \" = \" << x << endl;\n\n\n#define mod 1000000007 //1e9+7(prime number)\n#define INF 1000000000 //1e9\n#define LLINF 2000000000000000000LL //2e18\n#define SIZE 65010\n\n/* ?\\????1??´1???1??\\?????????????????\\??°?¨???? */\nll Fairfield(int y,int m,int d){\n  if(m<=2){\n    y--;\n    m+=12;\n  }\n  \n  ll dy = 365LL*(y - 1);\n  ll dl = y / 4 - y / 100 + y / 400;\n  ll dm = (306*m - 324) / 10;\n  return dy + dl + dm + d - 1;\n}\n\n/* ?????\\?¨???? (0??\\?????\\ - 6????????\\)???*/\nint Zeller(int y,int m,int d){\n  if(m<=2){\n    y--;\n    m+=12;\n  }\n  return (y + y/4 - y/100 + y/400 + (13*m + 8)/5 + d)%7;\n}\n\n/* ???????????´ */\nbool is_uruu(int y) {\n  return y % 4 == 0 && (y % 100 != 0 || y % 400 == 0);\n}\n\n\n\n\nvoid calc(char *s){\n  int dc = 0;\n  \n  for(int i=0;s[i]!='\\0';i++){\n    dc += s[i]=='.';\n  }\n\n  if(dc == 2){\n    int y,m,d;\n    sscanf(s,\"%d.%d.%d\",&y,&m,&d);\n\n    ll dif = Fairfield(y, m, d) - Fairfield(2012, 12, 21);\n\n    int ans[5] = {};\n\n    ans[4] = dif%20;\n    dif/=20;\n    ans[3] = dif%18;\n    dif/=18;\n    ans[2] = dif%20;\n    dif/=20;\n    ans[1] = dif%20;\n    dif/=20;\n    ans[0] = dif%13;\n\n    printf(\"%d.%d.%d.%d.%d\\n\",ans[0],ans[1],ans[2],ans[3],ans[4]);\n\n  }else{\n    int a,b,c,d,e;\n    sscanf(s,\"%d.%d.%d.%d.%d\",&a,&b,&c,&d,&e);\n\n    ll dif = 0;\n\n    dif = a;\n    dif = dif*20 + b;\n    dif = dif*20 + c;\n    dif = dif*18 + d;\n    dif = dif*20 + e;\n\n    int y = (int)max((dif/355) - 1,1LL);\n\n    for(int i=y;;i++){\n      for(int j=1;j<=12;j++){\n        for(int k=1;k<=31;k++){\n          if(k==31 && (j==2 || j==4 || j==6 || j==9 || j==1)) continue;\n          if((j==2 && k==30) || (j==2 && !is_uruu(i) && k==29)) continue;\n\n          if(dif == Fairfield(i, j, k) - Fairfield(2012, 12, 21)){\n            printf(\"%d.%d.%d\\n\",i,j,k);\n            return;\n          }\n        }\n      }\n    }\n  }\n}\n  \n\nint main(){\n\n  char s[20];\n\n  while(scanf(\"%s\",s)!=EOF){\n    if(s[0]=='#') break;\n    calc(s);\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<string>\nusing namespace std;\n\nstruct M{\n\tlong long b;\n\tlong long ka;\n\tlong long t;\n\tlong long w;\n\tlong long ki;\n};\nM mkM(long long a,long long b,long long c,long long d,long long e){\n\tM m;\n\tm.b=a; m.ka=b; m.t=c; m.w=d; m.ki=e;\n\treturn m;\n}\n\nstruct C{\n\tlong long y;\n\tlong long m;\n\tlong long d;\n};\nC mkC(long long a,long long b,long long c){\n\tC cc;\n\tcc.y=a; cc.m=b; cc.d=c;\n\treturn cc;\n}\n\nlong long MtoN(M m){\n\tlong long ret=0;\n\tret+=m.b; ret*=20;\n\tret+=m.ka; ret*=20;\n\tret+=m.t; ret*=18;\n\tret+=m.w; ret*=20;\n\tret+=m.ki;\n\treturn ret;\n}\n\nM NtoM(long long n){\n\tM m;\n\tm.ki=n;\n\tm.w=m.ki/20; m.ki%=20;\n\tm.t=m.w/18; m.w%=18;\n\tm.ka=m.t/20; m.t%=20;\n\tm.b=m.ka/20; m.ka%=20;\n\tm.b%=13;\n\treturn m;\n}\n\nlong long D[13]={0,31,28,31,30,31,30,31,31,30,31,30,31};\n\nlong long CtoN(C c){\n\tif(c.y==2012)return c.d-21;\n\n\tlong long ret=0;\n\twhile(c.y>=2013+400){\n\t\tc.y-=400;\n\t\tret+=365*400+97;\n\t}\n\tret+=c.d-1; c.d=1;\n\twhile(c.m>1){\n\t\tc.m--;\n\t\tret+=D[c.m];\n\t\tif(c.m==2&&c.y%4==0&&(c.y%100!=0||c.y%400==0))ret++;\n\t}\n\twhile(c.y>2013){\n\t\tc.y--;\n\t\tret+=365;\n\t\tif(c.y%4==0&&(c.y%100!=0||c.y%400==0))ret++;\n\t}\n\n\treturn ret+11;\n}\n\nC NtoC(long long n){\n\tC c;\n\tc.y=2012; c.m=12; c.d=21;\n\tif(n<11){ c.d+=n; return c; }\n\tc.y=2013; c.m=1; c.d=1; n-=11;\n\n\twhile(n>=365*400+97){\n\t\tn-=365*400+97;\n\t\tc.y+=400;\n\t}\n\twhile(n>=365){\n\t\tif(c.y%4==0&&(c.y%100!=0||c.y%400==0)){\n\t\t\tif(n>=366){\n\t\t\t\tc.y++;\n\t\t\t\tn-=366;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tc.y++;\n\t\t\tn-=365;\n\t\t}\n\t}\n\tif(c.y%4==0&&(c.y%100!=0||c.y%400==0)){\n\t\tD[2]++;\n\t\twhile(n>=D[c.m]){\n\t\t\tn-=D[c.m];\n\t\t\tc.m++;\n\t\t}\n\t\tc.d+=n;\n\t\tD[2]--;\n\t}\n\telse {\n\t\twhile(n>=D[c.m]){\n\t\t\tc.m++;\n\t\t\tn-=D[c.m];\n\t\t}\n\t\tc.d+=n;\n\t}\n\n\treturn c;\n}\n\nint main(){\n\tstring s;\n\twhile(1){\n\t\tcin>>s;\n\t\tif(s==\"#\")break;\n\n\t\tlong long t=0;\n\t\tlong long a[6]={0};\n\t\tfor(long long i=0;i<s.size();i++){\n\t\t\tif(s[i]=='.')t++;\n\t\t\telse {\n\t\t\t\ta[t]*=10;\n\t\t\t\ta[t]+=s[i]-48;\n\t\t\t}\n\t\t}\n\n\t\tM m;\n\t\tC c;\n\t\tif(t==4){\n\t\t\tm.b=a[0];\n\t\t\tm.ka=a[1];\n\t\t\tm.t=a[2];\n\t\t\tm.w=a[3];\n\t\t\tm.ki=a[4];\n\t\t\tlong long n=MtoN(m);\n\t\t\tc=NtoC(n);\n\t\t\n\t\t\tprintf(\"%d.%d.%d\\n\",c.y,c.m,c.d);\n\t\t}\n\t\telse {\n\t\t\tc.y=a[0];\n\t\t\tc.m=a[1];\n\t\t\tc.d=a[2];\n\t\t\tlong long n=CtoN(c);\n\t\t\tm=NtoM(n);\n\n\t\t\tprintf(\"%d.%d.%d.%d.%d\\n\",m.b,m.ka,m.t,m.w,m.ki);\n\t\t}\n\t}\n}\t\t"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<cstring>\n\nusing namespace std;\n\n#define int unsigned\n#define loop(i, a, b) for(int i = a; i < b; i++)\n#define rep(i, a) loop(i, 0, a)\n\n\nvoid to_maya(int y, int m, int d);\nvoid to_sei(int b, int ka, int t, int w, int ki);\nint leap_count(int base, int y);\n\nsigned main()\n{\n  char date[16];\n  \n  while(cin >> date) {\n    int a[5] = {};\n    int cnt = sscanf(date, \"%d.%d.%d.%d.%d\", &a[0], &a[1], &a[2], &a[3], &a[4]);\n    \n    if(cnt == 3) to_maya(a[0], a[1], a[2]);\n    else if(cnt == 5) to_sei(a[0], a[1], a[2], a[3], a[4]);\n    else if(date[0] == '#') break;\n  }\n}\n\n\nint leap_count(int base,  int y)\n{\n  int cnt = 0;\n  loop(i, base, y + 1) {\n    if(i % 4 == 0){\n      if(i % 100 != 0) cnt++;\n      else if(i % 400 == 0) cnt++;\n    }\n  }\n  return cnt;\n}\n\n\nvoid to_maya(int y, int m, int d)\n{\n  unsigned long days = 0;\n  unsigned long leap = leap_count(2013, y);\n  \n  if( y != 2012 ) {\n    days += ( y - 2013 ) * 365 + leap + 10;\n    loop(i, 1, m) {\n      if(i == 1 || i == 3 || i == 5 || i == 7 || i == 8 || i == 10 || i == 12)\n\tdays += 31;\n      if(i == 4 || i == 6 || i == 9 || i == 11)\n\tdays += 30;\n      if(i == 2) {\n\tdays += 28;\n\tif(leap_count(y, y)) {\n\t  days++;\n\t}\n      }\n    }\n    days += d;\n    if(leap_count(y, y)) days--;\n  }\n  else days += (d - 21);\n  \n  days -=  days / (13 * 20 * 18 * 20 * 20) * (13 * 20 * 18 * 20 * 20);\n  int b  = days / (20 * 18 * 20 * 20); days -= b * 20 * 20 * 18 * 20;\n  int ka = days / (20 * 18 * 20);      days -= ka * 20 * 18 * 20;\n  int t  = days / (20 * 18);           days -= t * 18 * 20;\n  int w  = days / 20;                  days -= w * 20;\n  int ki = days;                       days -= ki;\n  \n  printf(\"%u.%u.%u.%u.%u\\n\", b, ka, t, w, ki);\n}\n\nvoid to_sei(int b, int ka, int t, int w, int ki)\n{\n  long long days = 0;\n  long long y = 2013;\n  int m = 1, d = 1, until;\n  \n  days += b * 20 * 18 * 20 * 20 + ka * 20 * 18 * 20 + t * 20 * 18 + w * 20 + ki;\n  if(days > 10) {\n    days -= 10;\n    while(1) {\n      if(leap_count(y, y) != 0) {\n\tif(days - 366 >= 0) days -= 366;\n\telse break;\n      }\n      else if(days - 365 >= 0) days -= 365;\n      else break;\n      y++;\n    }\n\n    while(1) {\n      d = 1;\n      if(m == 1 || m == 3 || m == 5 || m == 7 || m == 8 || m == 10 || m == 12)  until = 31;\n      else if(m == 4 || m == 6 || m == 9 || m == 11)  until = 30;\n      else {\n\tuntil = 28;\n\tif(1 <= leap_count(y, y))  until = 29;\n      }\n      if(days > until)  days -= until;\n      \n      else {\n\tfor(d = 1 ; d < until + 1; d++) {\n\t  days--;\n\t  if(days == 0) break;\n\t}\n      }\n      if(days == 0) break;\n      m++;\n    }\n    printf(\"%lld.%u.%u\\n\", y, m, d);\n  }\n  else {\n    printf(\"2012.12.%lld\\n\", days + 21);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<vector>\nusing namespace std;\nstring S, T; vector<int>p;\nlong long sum;\nlong long distsum[10000001], daysum[13][32], daysum2[13][32];\nint days[13] = { 0,31,28,31,30,31,30,31,31,30,31,30,31 };\nint days2[13] = { 0,31,29,31,30,31,30,31,31,30,31,30,31 };\n\nvoid mayawest(vector<int>a) {\n\tsum = a[0] * 144000 + a[1] * 7200 + a[2] * 360 + a[3] * 20 + a[4] + 734857;\n\tint y, m, d;\n\tfor (int i = 2000; i < 10000000; i++) {\n\t\tif (sum - distsum[i - 1] < 365 || (sum - distsum[i - 1] < 366 && i % 4 == 0)) {\n\t\t\ty = i;\n\t\t\tsum -= distsum[i - 1];\n\t\t\tbreak;\n\t\t}\n\t}\n\tfor (int i = 1; i <= 12; i++) {\n\t\tfor (int j = 1; j <= 31; j++) {\n\t\t\tif (y % 4 == 0) {\n\t\t\t\tif (daysum2[i][j] == sum) {\n\t\t\t\t\tm = i; d = j; goto E;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (daysum[i][j] == sum) {\n\t\t\t\t\tm = i; d = j; goto E;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\nE:;\n\tcout << y << '.' << m << '.' << d << endl;\n}\n\nvoid westmaya(vector<int>a) {\n\tif (a[0] % 4 == 0) { \n\t\tsum = distsum[a[0] - 1] + daysum2[a[1]][a[2]]; \n\t}\n\telse { \n\t\tsum = distsum[a[0] - 1] + daysum[a[1]][a[2]]; \n\t}\n\tsum -= 734857;//12.12.21\n\tcout << (sum / 144000) % 13 << '.' << (sum / 7200) % 20 << '.' << (sum / 360) % 20 << '.' << (sum / 20) % 18 << '.' << sum % 20 << endl;\n}\n\nint main() {\n\tdistsum[0] = 0;\n\tfor (int i = 1; i <= 10000000; i++) {\n\t\tif ((i % 4 == 0 && i % 100 != 0) || i % 400 == 0) {\n\t\t\tdistsum[i] = distsum[i - 1] + 366;\n\t\t}\n\t\telse {\n\t\t\tdistsum[i] += distsum[i - 1] + 365;\n\t\t}\n\t}\n\tint cnt = 0;\n\tfor (int i = 1; i <= 12; i++) {\n\t\tfor (int j = 1; j <= days[i]; j++) {\n\t\t\tdaysum[i][j] = cnt;\n\t\t\tcnt++;\n\t\t}\n\t}\n\tcnt = 0;\n\tfor (int i = 1; i <= 12; i++) {\n\t\tfor (int j = 1; j <= days2[i]; j++) {\n\t\t\tdaysum2[i][j] = cnt;\n\t\t\tcnt++;\n\t\t}\n\t}\n\twhile (cin >> S) {\n\t\tp.clear();\n\t\tif (S == \"#\") { break; }\n\t\tS += '.';\n\t\tfor (int i = 0; i < S.size(); i++) {\n\t\t\tif(S[i]=='.'){\n\t\t\t\tp.push_back(stoi(T));\n\t\t\t\tT = \"\";\n\t\t\t}\n\t\t\telse {\n\t\t\t\tT += S[i];\n\t\t\t}\n\t\t}\n\t\tif (p.size() == 5) {\n\t\t\tmayawest(p);\n\t\t}\n\t\telse {\n\t\t\twestmaya(p);\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <string>\nusing namespace std;\ntypedef long long i64;\n \nconst int month_day[] = {0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334, 365};\n \nstring s;\n \ninline bool is_leap(int y) { return y%4 == 0 and (y%100 != 0 or y%400 == 0);}\ninline int leap_count(int y) { return (y-1)/4-(y-1)/100+(y-1)/400; }\ninline i64 day_count(int y, int m, int d) { return leap_count(y)*366LL+(y-leap_count(y))*365LL+month_day[m-1]+(is_leap(y)&(m>2))+d; }\n \nvoid to_maya()\n{\n        int y, m, d;\n        sscanf(s.c_str(),\"%d.%d.%d\", &y, &m, &d);\n        i64 ds = (day_count(y,m,d)-day_count(2012,12,21))%(20*18*20*20*13);\n        printf(\"%lld.%lld.%lld.%lld.%lld\\n\", ds/(20*18*20*20), ds/(20*18*20)%20, ds/(20*18)%20, ds/20%18, ds%20);\n}\n \nvoid to_ad()\n{\n        int b, ka, t, w, ki;\n        sscanf(s.c_str(),\"%d.%d.%d.%d.%d\", &b, &ka, &t, &w, &ki);\n        i64 ds = ki+20*w+20*18*t+20*18*20*ka+20*18*20*20*b+day_count(2012,12,21);\n        int y = 0, m = 0, d = 0;\n        while(ds >= is_leap(y)+365) ds -= is_leap(y++)+365;\n        while(ds >= month_day[m+1]+(is_leap(y)&(m>=1))) m++;\n        ds -= month_day[m]+(is_leap(y)&(m>1));\n        m++;\n        d = ds+1;\n        printf(\"%d.%d.%d\\n\", y, m, d);\n}\n \nvoid solve()\n{\n        int cnt = 0;\n        for(auto &e: s) cnt += e == '.';\n        return cnt == 2 ? to_maya() : to_ad();\n}\n \nbool input()\n{\n\t\tcin.tie(0);\n\t\tios::sync_with_stdio(false);\n        cin >> s;\n        return s[0] != '#';\n}\n \nint main()\n{\n        while(input()) solve();\n        return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nstd::vector<std::string> split(const std::string &str, char sep){\n    std::vector<std::string> v;\n    std::stringstream ss(str);\n    std::string buffer;\n    while( std::getline(ss, buffer, sep) ) {\n        v.push_back(buffer);\n    }\n    return v;\n}\n\ninline bool reap(int y){\n    if(y%4==0 && y%100 != 0 ){\n        return true;\n    }\n    else if(y%400 == 0){\n        return true;\n    }\n    return false;\n}\n\nint main() {\n\n\n    string s;\n\n    while(1){\n\n        cin >> s;\n\n        if(s[0] == '#') break;\n\n        vector<string> vs = split(s,'.');\n\n        if(vs.size() == 3){\n            long long int b,ka,t,w,ki;\n            b = ka = t = w = ki = 0;\n\n            int y,m,d;\n\n            stringstream ss;\n\n            ss << vs[0]; ss >> y; ss.clear();\n            ss << vs[1]; ss >> m; ss.clear();\n            ss << vs[2]; ss >> d; ss.clear();\n\n            if(y==2012){\n                 ki = d - 21;\n            }\n\n            else {\n\n                /*while (y != 2012) {\n\n                    do {\n\n                        while (d != 0) {\n                            d--;\n                            ki++;\n                        }\n\n                        m--;\n\n                        if (m == 1 || m == 3 || m == 5 || m == 7 || m == 8 || m == 10 || m == 0) {\n                            d = 31;\n                        } else if (m == 4 || m == 6 || m == 9 || m == 11) {\n                            d = 30;\n                        } else if (m == 2 && reap(y)) {\n                            d = 29;\n                        } else {\n                            d = 28;\n                        }\n\n                    } while (m != 0);\n\n                    if (ki >= 20) {\n                        w += ki / 20;\n                        ki %= 20;\n                    }\n                    if (w >= 18) {\n                        t += w / 18;\n                        w %= 18;\n                    }\n                    if (t >= 20) {\n                        ka += t / 20;\n                        t %= 20;\n                    }\n                    if (ka >= 20) {\n                        b += ka / 20;\n                        ka %= 20;\n                    }\n                    if (b >= 13) {\n                        b %= 13;\n                    }\n\n                    m = 12;\n\n                    y--;\n\n                }*/\n\n                /*if(d>21){\n                    ki += d-21;\n                    d = 21;\n                }\n                else{\n                    m--;\n                    if(m==0){\n                        ki += d+31-21;\n                        m = 12;\n                        y--;\n                    }\n                    else if(m == 3 || m == 5 || m == 7 || m == 8 || m == 10 || m == 1){\n                        ki += d+31-21;\n                    }\n                    else if(m == 4 || m == 6 || m == 9 || m == 11){\n                        ki += d+30-21;\n                    }\n                    else if(m == 2 && reap(y)){\n                        ki += d+29-21;\n                    }\n                    else{\n                        ki += d+28-21;\n                    }\n                    ki++;\n                    d = 21;\n                }\n\n                while(y!=2012){\n\n                    while(m!=0){\n                        if(m == 1 || m == 3 || m == 5 || m == 7 || m == 8 || m == 10 || m == 12){\n                            ki += 31;\n                        }\n                        else if(m == 4 || m == 6 || m == 9 || m == 11){\n                            ki += 30;\n                        }\n                        else if(m == 2 && reap(y)){\n                            ki += 29;\n                        }\n                        else{\n                            ki += 28;\n                        }\n                        m--;\n                    }\n\n\n                    if(ki>=20){\n                        w += ki/20;\n                        ki %= 20;\n                    }\n                    if(w>=18){\n                        t += w/18;\n                        w %= 18;\n                    }\n                    if(t>=20){\n                        ka += t/20;\n                        t %= 20;\n                    }\n                    if(ka>=20){\n                        b += ka/20;\n                        ka %= 20;\n                    }\n                    if(b>=13){\n                        b %= 13;\n                    }\n\n                    m = 12;\n\n                    y--;\n\n                }*/\n\n                long long int allday = 0;\n\n                while(y != 2013) {\n                    y--;\n                    if (reap(y)) {\n                        allday += 366;\n                    }\n                    else {\n                        allday += 365;\n                    }\n                    allday %= 1872000;\n                }\n\n                do {\n\n                    while (d != 0) {\n                        d--;\n                        allday++;\n                    }\n\n                    m--;\n\n                    if (m == 1 || m == 3 || m == 5 || m == 7 || m == 8 || m == 10 || m == 0) {\n                        d = 31;\n                    } else if (m == 4 || m == 6 || m == 9 || m == 11) {\n                        d = 30;\n                    } else if (m == 2 && reap(y)) {\n                        d = 29;\n                    } else {\n                        d = 28;\n                    }\n\n                } while (m != 0);\n\n                allday += 31 - 21;\n\n                b = allday / (20*18*20*20);\n                allday %= 20*18*20*20;\n                ka = allday / (20*18*20);\n                allday %= 20*18*20;\n                t = allday / (20*18);\n                allday %= 20*18;\n                w = allday / 20;\n                allday %= 20;\n                ki = allday;\n\n                b %= 13;\n\n                /*if (ki >= 20) {\n                    w += ki / 20;\n                    ki %= 20;\n                }\n                if (w >= 18) {\n                    t += w / 18;\n                    w %= 18;\n                }\n                if (t >= 20) {\n                    ka += t / 20;\n                    t %= 20;\n                }\n                if (ka >= 20) {\n                    b += ka / 20;\n                    ka %= 20;\n                }\n                if (b >= 13) {\n                    b %= 13;\n                }*/\n\n\n                /*if(ki>=20){\n                    w += ki/20;\n                    ki %= 20;\n                }\n                if(w>=18){\n                    t += w/18;\n                    w %= 18;\n                }\n                if(t>=20){\n                    ka += t/20;\n                    t %= 20;\n                }\n                if(ka>=20){\n                    b += ka/20;\n                    ka %= 20;\n                }\n                if(b>=13){\n                    b %= 13;\n                }\n\n                //ki += 31 - 21;\n\n                if (ki >= 20) {\n                    w += ki / 20;\n                    ki %= 20;\n                }\n                if (w >= 18) {\n                    t += w / 18;\n                    w %= 18;\n                }\n                if (t >= 20) {\n                    ka += t / 20;\n                    t %= 20;\n                }\n                if (ka >= 20) {\n                    b += ka / 20;\n                    ka %= 20;\n                }\n                if (b >= 13) {\n                    b %= 13;\n                }*/\n\n                /*if(ki<0){\n                    if(w==0){\n                        if(t==0){\n                            if(ka==0){\n                                b--;\n                                ka = 19;\n                                t = 19;\n                                w = 17;\n                                ki += 19;\n                            }\n                            else{\n                                ka--;\n                                t = 19;\n                                w = 17;\n                                ki += 19;\n                            }\n                        }\n                        else{\n                            t--;\n                            w = 17;\n                            ki += 19;\n                        }\n                    }\n                    else{\n                        w--;\n                        ki += 19;\n                    }\n                }*/\n\n            }\n\n            printf(\"%lld.%lld.%lld.%lld.%lld\\n\",b,ka,t,w,ki);\n\n\n        }\n        else{\n\n            long long int day = 0;\n\n            long long int b,ka,t,w,ki;\n            b = ka = t = w = ki = 0;\n\n            long long int y,m,d;\n\n            stringstream ss;\n\n            ss << vs[0]; ss >> b; ss.clear();\n            ss << vs[1]; ss >> ka; ss.clear();\n            ss << vs[2]; ss >> t; ss.clear();\n            ss << vs[3]; ss >> w; ss.clear();\n            ss << vs[4]; ss >> ki; ss.clear();\n\n            day = ki + w*20 + t*20*18 + ka*20*18*20 + b*20*18*20*20;\n\n            y = 2012; m = 12; d = 21;\n/*\n            if(day > 10){\n                y++; m = 1; d = 1; day -= 11;\n            }\n            else{\n                d += day;\n                day = 0;\n            }\n\n            while(day!=0){\n\n                if(m == 1 || m == 3 || m == 5 || m == 7 || m == 8 || m == 10){\n                    if(day >= 31){\n                        m++;\n                        day -= 31;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }\n                }\n                else if(m == 4 || m == 6 || m == 9 || m == 11){\n                    if(day >= 30){\n                        m++;\n                        day -= 30;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }\n                }\n                else if(m == 2 && reap(y)){\n                    if(day >= 29){\n                        m++;\n                        day -= 29;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }\n                }\n                else if(m == 2){\n                    if(day >= 28){\n                        m++;\n                        day -= 28;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }\n                }\n                else if(m == 12) {\n                    if(day >= 31){\n                        m = 1;\n                        y++;\n                        day -= 31;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }\n                }\n\n            }\n*/\n\n            while(day!=0){\n\n                if(m == 1 || m == 3 || m == 5 || m == 7 || m == 8 || m == 10){\n                    while(day != 0 && d != 32){\n                        day--;\n                        d++;\n                    }\n                    if(d==32){\n                        m++;\n                        d = 1;\n                    }\n                    /*if(day >= 31){\n                        m++;\n                        day -= 31;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }*/\n                }\n                else if(m == 4 || m == 6 || m == 9 || m == 11){\n                    while(day != 0 && d != 31){\n                        day--;\n                        d++;\n                    }\n                    if(d==31){\n                        m++;\n                        d = 1;\n                    }\n                    /*if(day >= 30){\n                        m++;\n                        day -= 30;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }*/\n                }\n                else if(m == 2 && reap(y)){\n                    while(day != 0 && d != 30){\n                        day--;\n                        d++;\n                    }\n                    if(d==30){\n                        m++;\n                        d = 1;\n                    }\n                    /*if(day >= 29){\n                        m++;\n                        day -= 29;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }*/\n                }\n                else if(m == 2){\n                    while(day != 0 && d != 29){\n                        day--;\n                        d++;\n                    }\n                    if(d==29){\n                        m++;\n                        d = 1;\n                    }\n                    /*if(day >= 28){\n                        m++;\n                        day -= 28;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }*/\n                }\n                else if(m == 12) {\n                    while(day != 0 && d != 32){\n                        day--;\n                        d++;\n                    }\n                    if(d==32){\n                        m = 1;\n                        d = 1;\n                        y++;\n                    }\n                    /*if(day >= 31){\n                        m = 1;\n                        y++;\n                        day -= 31;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }*/\n                }\n\n            }\n\n            printf(\"%lld.%lld.%lld\\n\",y,m,d);\n\n\n        }\n\n    }\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nvector<string> split(const string &str, char sep)\n{\n    vector<string> v;\n    stringstream ss(str);\n    string buffer;\n    while( getline(ss, buffer, sep) ) {\n        v.push_back(buffer);\n    }\n    return v;\n}\n\nbool is_Leapyear(long long int year){\n    if(year%4==0){\n        if(year%100==0){\n            if(year%400==0){\n                return true;\n            }\n            return false;\n        }\n        return true;\n    }\n    return false;\n}\n\nint months[12] = {31,28,31,30,31,30,31,31,30,31,30,31};\nint leapmonths[12] = {31,29,31,30,31,30,31,31,30,31,30,31};\n\nint main() {\n\n    string s;\n\n    const long long  int baseday = (2012*365 + 2012/4 - 2012/100 + 2012/400 + 366-11);\n\n    while(1){\n\n        cin >> s;\n\n        if(s[0] == '#'){\n            break;\n        }\n\n        vector<string> vec = split(s,'.');\n\n        if(vec.size() == 5){\n\n            int a[5];//b,ka,t,w,ki\n\n            for(int i=0;i<5;i++){\n                stringstream ss;\n                ss << vec[i];\n                ss >> a[i];\n            }\n\n            long long int allday = 0;\n\n            allday = a[0]*20*20*18*20 + a[1]*20*18*20 + a[2]*18*20 + a[3]*20 + a[4];\n\n            if(allday>=11){\n                allday -= 11;\n                int year,month,day;\n                year = 2013+(static_cast<int>(allday/(365+365+365+366))*4);\n                allday = allday % (365+365+365+366);\n                allday = allday + (year-2013)/100 - (year-2013)/400;\n                year += allday/365;\n                allday %= 365;\n                month = 1;\n                day = 1;\n                if(is_Leapyear(year)){\n                    for(int i=0;i<12;i++){\n                        if(allday>=leapmonths[i]){\n                            allday-=leapmonths[i];\n                            month++;\n                        }\n                        else{\n                            break;\n                        }\n                    }\n                    day += allday;\n                    printf(\"%d.%d.%d\\n\",year,month,day);\n                }\n                else{\n                    for(int i=0;i<12;i++){\n                        if(allday>=months[i]){\n                            allday-=months[i];\n                            month++;\n                        }\n                        else{\n                            break;\n                        }\n                    }\n                    day += allday ;\n                    printf(\"%d.%d.%d\\n\",year,month,day);\n                }\n            }\n            else{\n                printf(\"2012.12.%lld\\n\",21+allday);\n            }\n\n        }\n\n        else{\n\n            int b[3];//year,month,day\n\n            for(int i=0;i<3;i++){\n                stringstream ss;\n                ss << vec[i];\n                ss >> b[i];\n            }\n\n            long long int allday = (b[0] % 1872000 * 365 + b[0]/4 - b[0]/100 + b[0]/400);\n\n            if(is_Leapyear(b[0])){\n                allday--;\n            }\n\n            for(int i=0;i<b[1]-1;i++){\n                if(is_Leapyear(b[0])){\n                    allday += leapmonths[i];\n                }\n                else{\n                    allday += months[i];\n                }\n            }\n\n            allday += b[2];\n\n            allday -= baseday;\n\n            allday %= 1872000;\n\n            int ba,ka,t,w,ki;\n\n            ba = allday/144000;\n\n            allday %= 144000;\n\n            ka = allday/7200;\n\n            allday %= 7200;\n\n            t = allday/360;\n\n            allday %= 360;\n\n            w = allday/20;\n\n            allday %= 20;\n\n            ki = allday;\n\n            printf(\"%d.%d.%d.%d.%d\\n\",ba,ka,t,w,ki);\n        }\n\n    }\n\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\n#define endl '\\n'\n\nusing namespace std;\n\n#define int long long\n\nsigned main(){\n\n  string str;\n\n  while(1){\n\n    cin>>str;\n\n    if(str==\"#\"){\n      break;\n    }\n\n    int day[]={31,28,31,30,31,30,31,31,30,31,30,31};\n    \n    if(count(str.begin(),str.end(),'.')==2){\n\n      long long y,m,d;\n      \n      sscanf(str.c_str(),\"%lld.%lld.%lld\",&y,&m,&d);\n\n      int year=2013;\n\n      long long year_cnt=0;\n      \n      if(y==2012){\n\tyear_cnt+=(d-21);\n\n      }else{\n\n\tyear_cnt+=10;\n\t\n\twhile(1){\n\t  \n\t  if(year==y){\n\t    break;\n\t  }\n\t  if((year%4==0&&year%100!=0)||year%400==0){\n\t    year_cnt+=366;\n\t  }else{\n\t    year_cnt+=365;\n\t  }\n\n\t  year++;\n\t    \n\t}\n\n\tfor(int i=0;i<(m-1);i++){\n\n\t  if(i==1){\n\t    if((year%4==0&&year%100!=0)||year%400==0){\n\t      year_cnt+=(day[i]+1);\n\t    }else{\n\t      year_cnt+=(day[i]);\n\t    }\n\t  }else{\n\t    year_cnt+=(day[i]);\n\t  }\n\t}\n\t\n\tyear_cnt+=d;\n\t\n\tyear_cnt%=1872000;\n\t\n      }\n\n\n      long long a_ans=0,b_ans=0,c_ans=0,d_ans=0,e_ans=0;      \n      \n      if(year_cnt>=(20*20*18*20)){\n\ta_ans=year_cnt/(20*20*18*20);\n\tyear_cnt%=(20*20*18*20);\n\t\n      }\n      if(year_cnt>=(20*18*20)){\n\tb_ans=year_cnt/(20*18*20);\n\tyear_cnt%=(20*18*20);\n      }\n      if(year_cnt>=(18*20)){\n\tc_ans=year_cnt/(18*20);\n\tyear_cnt%=(18*20);\n      }\n      if(year_cnt>=(20)){\n\td_ans=year_cnt/(20);\n\tyear_cnt%=(20);\n      }\n      e_ans=year_cnt;\n      \n      \n      printf(\"%lld.%lld.%lld.%lld.%lld\\n\",a_ans,b_ans,c_ans,d_ans,e_ans);\n      \n\t\n    }else if(count(str.begin(),str.end(),'.')==4){\n      long long a,b,c,d,e;\n      \n      sscanf(str.c_str(),\"%lld.%lld.%lld.%lld.%lld\",&a,&b,&c,&d,&e);\n\n      long long cnt=0;\n\n\n      //日数\n      cnt+=(20*20*18*20*a);\n      cnt+=(20*18*20*b);\n      cnt+=(18*20*c);\n      cnt+=(20*d);\n      cnt+=(e);\n\n      //2012年から\n      long long year=2013;\n      long long ans=0;\n\n      if(cnt<=10){\n\n\tcout<<2012<<\".\"<<12<<\".\"<<21+cnt<<endl;\n\t\n      }else{\n\tcnt-=10;\t\n\twhile(1){\n\t  \n\t  if((year%4==0&&year%100!=0)||year%400==0){\n\t    \n\t    if(cnt>366){\n\t      cnt-=366;\n\t    }else{\n\t      break;\n\t    }\n\t  }else{\n\t    if(cnt>365){\n\t      cnt-=365;\n\t    }else{\n\t      break;\n\t    }\n\t  }\n\t  \n\t  year++;\n\t  ans++;\n\t  \n\t}\n\tint m_cnt=1;\n       \n\tif((year%4==0&&year%100!=0)||year%400==0){\n\t  for(int i=0;i<12;i++){\n\t    if(i==1){\n\t      \n\t      if(cnt>(day[i]+1)){\n\t\tcnt-=(day[i]+1);\n\t\tm_cnt++;\n\t      }else{\n\t\tbreak;\n\t      }\n\t    }else{\n\t      if(cnt>(day[i])){\n\t\tcnt-=(day[i]);\n\t\tm_cnt++;\n\t      }else{\n\t\tbreak;\n\t      }\n\t    }\n\t    \n\t  }\n\t}else{\n\t  for(int i=0;i<12;i++){\n\t    if(cnt>(day[i])){\n\t      cnt-=(day[i]);\n\t      m_cnt++;\n\t    }else{\n\t      break;\n\t    }\n\t  }\n\t}\n\tcout<<year<<\".\"<<m_cnt<<\".\"<<cnt<<endl;\n      }\n      \n    }\n  \n  }    \n  \n  \n  return 0;\n\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<vector>\nusing namespace std;\nstring S, T; vector<int>p;\nlong long sum;\nunsigned int distsum[10000001], daysum[13][32], daysum2[13][32];\nint days[13] = { 0,31,28,31,30,31,30,31,31,30,31,30,31 };\nint days2[13] = { 0,31,29,31,30,31,30,31,31,30,31,30,31 };\n\nvoid mayawest(vector<int>a) {\n\tsum = a[0] * 144000 + a[1] * 7200 + a[2] * 360 + a[3] * 20 + a[4] + 734857;\n\tint y, m, d;\n\tfor (int i = 2000; i < 10000000; i++) {\n\t\tif (sum - distsum[i - 1] < 365 || (sum - distsum[i - 1] < 366 && i % 4 == 0)) {\n\t\t\ty = i;\n\t\t\tsum -= distsum[i - 1];\n\t\t\tbreak;\n\t\t}\n\t}\n\tfor (int i = 1; i <= 12; i++) {\n\t\tfor (int j = 1; j <= 31; j++) {\n\t\t\tif (y % 4 == 0) {\n\t\t\t\tif (daysum2[i][j] == sum) {\n\t\t\t\t\tm = i; d = j; goto E;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (daysum[i][j] == sum) {\n\t\t\t\t\tm = i; d = j; goto E;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\nE:;\n\tcout << y << '.' << m << '.' << d << endl;\n}\n\nvoid westmaya(vector<int>a) {\n\tif (a[0] % 4 == 0) { \n\t\tsum = distsum[a[0] - 1] + daysum2[a[1]][a[2]]; \n\t}\n\telse { \n\t\tsum = distsum[a[0] - 1] + daysum[a[1]][a[2]]; \n\t}\n\tsum -= 734857;//12.12.21\n\tcout << (sum / 144000) % 13 << '.' << (sum / 7200) % 20 << '.' << (sum / 360) % 20 << '.' << (sum / 20) % 18 << '.' << sum % 20 << endl;\n}\n\nint main() {\n\tdistsum[0] = 0;\n\tfor (int i = 1; i <= 10000000; i++) {\n\t\tif ((i % 4 == 0 && i % 100 != 0) || i % 400 == 0) {\n\t\t\tdistsum[i] = distsum[i - 1] + 366;\n\t\t}\n\t\telse {\n\t\t\tdistsum[i] += distsum[i - 1] + 365;\n\t\t}\n\t}\n\tint cnt = 0;\n\tfor (int i = 1; i <= 12; i++) {\n\t\tfor (int j = 1; j <= days[i]; j++) {\n\t\t\tdaysum[i][j] = cnt;\n\t\t\tcnt++;\n\t\t}\n\t}\n\tcnt = 0;\n\tfor (int i = 1; i <= 12; i++) {\n\t\tfor (int j = 1; j <= days2[i]; j++) {\n\t\t\tdaysum2[i][j] = cnt;\n\t\t\tcnt++;\n\t\t}\n\t}\n\twhile (cin >> S) {\n\t\tp.clear();\n\t\tif (S == \"#\") { break; }\n\t\tS += '.';\n\t\tfor (int i = 0; i < S.size(); i++) {\n\t\t\tif(S[i]=='.'){\n\t\t\t\tp.push_back(stoi(T));\n\t\t\t\tT = \"\";\n\t\t\t}\n\t\t\telse {\n\t\t\t\tT += S[i];\n\t\t\t}\n\t\t}\n\t\tif (p.size() == 5) {\n\t\t\tmayawest(p);\n\t\t}\n\t\telse {\n\t\t\twestmaya(p);\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <sstream>\n#include <fstream>\n#include <iomanip>\n#include <algorithm>\n#include <cmath>\n#include <string>\n#include <vector>\n#include <list>\n#include <queue>\n#include <stack>\n#include <set>\n#include <map>\n#include <bitset>\n#include <numeric>\n#include <climits>\n#include <cfloat>\nusing namespace std;\n\nlong long countAD(long long y, int m, int d)\n{\n    int days[] = {0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\n    if((y % 4 == 0 && y % 100 != 0) || y % 400 == 0)\n        ++ days[2];\n\n    long long ret = (y-1) * 365LL + (y-1) / 4 - (y-1) / 100 + (y-1) / 400;\n    for(int i=1; i<m; ++i)\n        ret += days[i];\n    ret += d - 1;\n\n    return ret;\n}\n\nvoid addAD(long long y, int m, int d, long long& y2, int& m2, int& d2, long long x)\n{\n    int days[] = {0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\n\n    x += countAD(y, m, d);\n    \n    y2 = 0;\n    y2 += x / (365 * 400 + 97) * 400;\n    x -= (365 * 400 + 97) * (y2 / 400);\n    y2 += min(300LL, x / (365 * 100 + 24) * 100);\n    x -= (365 * 100 + 24) * (y2 % 400 / 100);\n    y2 += x / (365 * 4 + 1) * 4;\n    x -= (365 * 4 + 1) * (y2 % 100 / 4);\n    y2 += min(3LL, x / 365);\n    x -= 365 * (y2 % 4);\n    ++ y2;\n\n    if((y2 % 4 == 0 && y2 % 100 != 0) || y2 % 400 == 0)\n        ++ days[2];\n    m2 = 1;\n    while(x >= days[m2]){\n        x -= days[m2];\n        ++ m2;\n    }\n\n    d2 = (int)x + 1;\n}\n\nint main()\n{\n    int x[] = {13, 20, 20, 18, 20};\n\n    for(;;){\n        string s;\n        cin >> s;\n        if(s == \"#\")\n            return 0;\n        istringstream iss(s);\n\n        if(count(s.begin(), s.end(), '.') == 2){\n            long long y;\n            int m, d;\n            char c;\n            iss >> y >> c >> m >> c >> d;\n\n            long long a = countAD(y, m, d) - countAD(2012, 12, 21);\n\n            vector<int> ret(5);\n            for(int i=4; i>=0; --i){\n                ret[i] = a % x[i];\n                a /= x[i];\n            }\n            for(int i=0; i<4; ++i)\n                cout << ret[i] << '.';\n            cout << ret[4] << endl;\n        }else{\n            long long a = 0;\n            for(int i=0; i<5; ++i){\n                int b;\n                char c;\n                iss >> b >> c;\n                a *= x[i];\n                a += b;\n            }\n\n            long long y;\n            int m, d;\n            addAD(2012, 12, 21, y, m, d, a);\n\n            cout << y << '.' << m << '.' << d << endl;\n        }\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<cstring>\n\nusing namespace std;\n\n#define int unsigned\n#define loop(i, a, b) for(int i = a; i < b; i++)\n#define rep(i, a) loop(i, 0, a)\n\n\nvoid to_maya(int y, int m, int d);\nvoid to_sei(int b, int ka, int t, int w, int ki);\nint leap_count(int base, int y);\n\nsigned main()\n{\n  char date[16];\n  \n  while(cin >> date) {\n    int a[5] = {};\n    int cnt = sscanf(date, \"%d.%d.%d.%d.%d\", &a[0], &a[1], &a[2], &a[3], &a[4]);\n    \n    if(cnt == 3) to_maya(a[0], a[1], a[2]);\n    else if(cnt == 5) to_sei(a[0], a[1], a[2], a[3], a[4]);\n    else if(date[0] == '#') break;\n  }\n}\n\n\nint leap_count(int base,  int y)\n{\n  int cnt = 0;\n  loop(i, base, y + 1) {\n    if(i % 4 == 0){\n      if(i % 100 != 0) cnt++;\n      else if(i % 400 == 0) cnt++;\n    }\n  }\n  return cnt;\n}\n\n\nvoid to_maya(int y, int m, int d)\n{\n  unsigned long days = 0;\n  unsigned long leap = leap_count(2013, y);\n  \n  if( y != 2012 ) {\n    days += ( y - 2013 ) * 365 + leap + 10;\n    loop(i, 1, m) {\n      if(i == 1 || i == 3 || i == 5 || i == 7 || i == 8 || i == 10 || i == 12)\n\tdays += 31;\n      if(i == 4 || i == 6 || i == 9 || i == 11)\n\tdays += 30;\n      if(i == 2) {\n\tdays += 28;\n\tif(leap_count(y, y)) {\n\t  days++;\n\t}\n      }\n    }\n    days += d;\n    if(leap_count(y, y)) days--;\n  }\n  else days += (d - 21);\n  \n  days -=  days / (13 * 20 * 18 * 20 * 20) * (13 * 20 * 18 * 20 * 20);\n  int b  = days / (20 * 18 * 20 * 20); days -= b * 20 * 20 * 18 * 20;\n  int ka = days / (20 * 18 * 20);      days -= ka * 20 * 18 * 20;\n  int t  = days / (20 * 18);           days -= t * 18 * 20;\n  int w  = days / 20;                  days -= w * 20;\n  int ki = days;                       days -= ki;\n  \n  printf(\"%u.%u.%u.%u.%u\\n\", b, ka, t, w, ki);\n}\n\nvoid to_sei(int b, int ka, int t, int w, int ki)\n{\n  long long days = 0;\n  long long y = 2013;\n  int m = 1, d = 1, until;\n  \n  days += b * 20 * 18 * 20 * 20 + ka * 20 * 18 * 20 + t * 20 * 18 + w * 20 + ki;\n  if(days > 10) {\n    days -= 10;\n    while(1) {\n      if(leap_count(y, y) != 0) {\n\tif(days - 366 >= 0) days -= 366;\n\telse break;\n      }\n      else if(days - 365 >= 0) days -= 365;\n      else break;\n      y++;\n    }\n\n    while(1) {\n      d = 1;\n      if(m == 1 || m == 3 || m == 5 || m == 7 || m == 8 || m == 10 || m == 12)  until = 31;\n      else if(m == 4 || m == 6 || m == 9 || m == 11)  until = 30;\n      else {\n\tuntil = 28;\n\tif(1 <= leap_count(y, y))  until = 29;\n      }\n      if(days > until)  days -= until;\n      \n      else {\n\tfor(d = 1 ; d < until + 1; d++) {\n\t  days--;\n\t  if(days == 0) break;\n\t}\n      }\n      if(days == 0) break;\n      m++;\n    }\n    printf(\"%lld.%u.%u\\n\", y, m, d);\n  }\n  else {\n    printf(\"2012.12.%lld\\n\", days + 21);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <algorithm>\n\nusing namespace std;\n\ntypedef long long lli;\n\nclass S{\npublic:\n  lli y, m, d;\n\n  S(){}\n  S(lli y, lli m, lli d): y(y), m(m), d(d) {}\n  S(string str){\n    lli pre = 0;\n    for(lli i=0;i<str.size();i++){\n      if(str[i] == '.'){\n        if(pre == 0) y = atoi(str.substr(pre, i).c_str());\n        else m = atoi(str.substr(pre + 1, i - pre + 1).c_str());\n        pre = i;\n      }\n    }\n    d = atoi(str.substr(pre + 1).c_str());\n  }\n  S(lli days){\n    if(days <= 10){\n      y = 2012;\n      m = 12;\n      d = 21 + days;\n    }else{\n      days -= 11;\n      lli lb = 2013, ub = 10000000;\n      while(lb <= ub){\n        lli mid = (ub + lb) / 2;\n        lli tmp = days - ((mid - 2013) * 365 + countLeap(mid));\n        if(0 <= tmp && tmp < 365){\n          lb = mid;\n          break;\n        }else if(tmp < 0) ub = mid - 1;\n        else lb = mid + 1;\n      }\n      y = lb;\n      days -= (y - 2013) * 365 + countLeap(y);\n      if(days == -1){\n        y = y - 1;\n        m = 12;\n        d = 31;\n      }else{\n        for(lli i=1;i<=12;i++){\n          if(days - getMSize(y, i) < 0){\n            m = i;\n            break;\n          }\n          days -= getMSize(y, i);\n        }\n        d = days + 1;\n      }\n    }\n  }\n\n  lli getMSize(lli y, lli m){\n    lli msize[13] = {0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};    \n    if(isLeap(y) && m == 2) return 29;\n    return msize[m];\n  }\n\n  bool isLeap(lli y){\n    return (y % 4 == 0 && y % 100 != 0) || y % 400 == 0;\n  }\n\n  lli countLeap(lli y){\n    if(y == 2012 || y == 2013) return 0;\n    y--;\n    lli tmp = 2012 / 4 - 2012 / 100 + 2012 / 400;\n    lli res = y / 4 - y / 100 + y / 400;\n    return res - tmp;\n  }\n  \n  lli stod(S s){\n    lli res;\n    if(s.y == 2012){\n      res = s.d - 21;\n    }else{\n      res = (s.y - 2013) * 365 + countLeap(s.y) + 10;\n      for(lli i=1;i<s.m;i++) res += getMSize(s.y, i);\n      res += s.d;\n    }\n    return res;\n  }\n};\n\nclass M{\npublic:\n  lli b, ka, t, w, ki;\n\n  M(){}\n  M(lli b, lli ka, lli t, lli w, lli ki): b(b), ka(ka), t(t), w(w), ki(ki) {}\n  M(string str){\n    lli pre = 0;\n    lli cnt = 0;\n    for(lli i=0;i<str.size();i++){\n      if(str[i] == '.'){\n        if(cnt == 0) b = atoi(str.substr(pre, i).c_str());\n        else if(cnt == 1) ka = atoi(str.substr(pre + 1, i - pre + 1).c_str());\n        else if(cnt == 2) t = atoi(str.substr(pre + 1, i - pre + 1).c_str());\n        else if(cnt == 3) w = atoi(str.substr(pre + 1, i - pre + 1).c_str());\n        cnt++;\n        pre = i;\n      }\n    }\n    ki = atoi(str.substr(pre + 1).c_str());\n  }\n  M(lli days){\n    days %= 13*20*20*18*20;\n    if(days != 0){\n      b = days / (20*20*18*20);\n      days -= b * (20*20*18*20);\n    }else b = 0;\n    if(days != 0){\n      ka = days / (20*18*20);\n      days -= ka * (20*18*20);\n    }else ka = 0;\n    if(days != 0){\n      t = days / (18*20);\n      days -= t * (18*20);\n    }else t = 0;\n    if(days != 0){\n      w = days / 20;\n      days -= w * 20;\n    }else w = 0;\n    ki = days;\n  }\n\n  lli mtod(M m){\n    lli res = 0;\n    res += b * (20*20*18*20);\n    res += ka * (20*18*20);\n    res += t * (18*20);\n    res += w * 20;\n    res += ki;\n    return res;\n  }\n};\n\nmain(){\n  string in;\n  while(cin >> in){\n    if(in == \"#\") break;\n    int cnt = 0;\n    for(int i=0;i<in.size();i++) if(in[i] == '.') cnt++;\n    if(cnt == 2){\n      S s = S(in);\n      M m = M(s.stod(s));\n      cout << m.b << \".\" << m.ka << \".\" << m.t << \".\" << m.w << \".\" << m.ki << endl;\n    }else{\n      M m = M(in);\n      S s = S(m.mtod(m));\n      cout << s.y << \".\" << s.m << \".\" << s.d << endl;\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<cstring>\n\nusing namespace std;\n\n#define int unsigned long long\n#define loop(i, a, b) for(int i = a; i < b; i++)\n#define rep(i, a) loop(i, 0, a)\n\n\nbool leap[10000000] = {};\nvoid Leap_year(void);\nvoid to_maya(int y, int m, int d);\nvoid to_sei(int b, int ka, int t, int w, int ki);\nint leap_count(int base, int y);\n\nsigned main()\n{\n  char date[16];\n  Leap_year();\n  while(cin >> date) {\n    int a[5] = {};\n    int cnt = sscanf(date, \"%llu.%llu.%llu.%llu.%llu\", &a[0], &a[1], &a[2], &a[3], &a[4]);\n    \n    if(cnt == 3) to_maya(a[0], a[1], a[2]);\n    else if(cnt == 5) to_sei(a[0], a[1], a[2], a[3], a[4]);\n    else if(date[0] == '#') break;\n  }\n}\n\nvoid Leap_year()\n{\n  loop(i, 2013, 10000001) {\n    leap[i] = false;\n    if(i % 4 == 0) {\n      if(i % 100 != 0) leap[i] = true;\n      else if(i % 400 == 0) leap[i] = true;\n    }\n  }\n}\n\nint leap_count(int base,  int y)\n{\n  int cnt = 0;\n  loop(i, base, y + 1) {\n    if (leap[i] == true) cnt++;\n  }\n  return cnt;\n}\n\n\nvoid to_maya(int y, int m, int d)\n{\n  long long days = 0;\n  long long leap_n = leap_count(2013, y);\n  \n  if( y != 2012 ) {\n    days += ( y - 2013 ) * 365 + leap_n + 10;\n    loop(i, 1, m) {\n      if(i == 1 || i == 3 || i == 5 || i == 7 || i == 8 || i == 10 || i == 12)\n\tdays += 31;\n      if(i == 4 || i == 6 || i == 9 || i == 11)\n\tdays += 30;\n      if(i == 2) {\n\tdays += 28;\n\tif(leap[y] == true) {\n\t  days++;\n\t}\n      }\n    }\n    days += d;\n    if(leap[y] == true) days--;\n  }\n  else days += (d - 21);\n  \n  days -=  days / (13 * 20 * 18 * 20 * 20) * (13 * 20 * 18 * 20 * 20);\n  int b  = days / (20 * 18 * 20 * 20); days -= b * 20 * 20 * 18 * 20;\n  int ka = days / (20 * 18 * 20);      days -= ka * 20 * 18 * 20;\n  int t  = days / (20 * 18);           days -= t * 18 * 20;\n  int w  = days / 20;                  days -= w * 20;\n  int ki = days;                       days -= ki;\n  \n  printf(\"%llu.%llu.%llu.%llu.%llu\\n\", b, ka, t, w, ki);\n}\n\nvoid to_sei(int b, int ka, int t, int w, int ki)\n{\n  long long days = 0;\n  long long y = 2013;\n  int m = 1, d = 1, until;\n  \n  days += b * 20 * 18 * 20 * 20 + ka * 20 * 18 * 20 + t * 20 * 18 + w * 20 + ki;\n  if(days > 10) {\n    days -= 10;\n    while(1) {\n      if(leap[y] == true) {\n\tif(days - 366 >= 0) days -= 366;\n\telse break;\n      }\n      else if(days - 365 >= 0) days -= 365;\n      else break;\n      y++;\n    }\n\n    while(1) {\n      d = 1;\n      if(m == 1 || m == 3 || m == 5 || m == 7 || m == 8 || m == 10 || m == 12)  until = 31;\n      else if(m == 4 || m == 6 || m == 9 || m == 11)  until = 30;\n      else {\n\tuntil = 28;\n\tif (leap[y] == true)  until = 29;\n      }\n      if(days > until)  days -= until;\n      \n      else {\n\tfor(d = 1 ; d < until + 1; d++) {\n\t  days--;\n\t  if(days == 0) break;\n\t}\n      }\n      if(days == 0) break;\n      m++;\n    }\n    printf(\"%llu.%llu.%llu\\n\", y, m, d);\n  }\n  else {\n    printf(\"2012.12.%lld\\n\", days + 21);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nvector<string> split(const string &str, char sep)\n{\n    vector<string> v;\n    stringstream ss(str);\n    string buffer;\n    while( getline(ss, buffer, sep) ) {\n        v.push_back(buffer);\n    }\n    return v;\n}\n\nbool is_Leapyear(long long int year){\n    if(year%4==0){\n        if(year%100==0){\n            if(year%400==0){\n                return true;\n            }\n            return false;\n        }\n        return true;\n    }\n    return false;\n}\n\nint months[12] = {31,28,31,30,31,30,31,31,30,31,30,31};\nint leapmonths[12] = {31,29,31,30,31,30,31,31,30,31,30,31};\n\nint main() {\n\n    string s;\n\n    const long long  int baseday = (2012*365 + 2012/4 - 2012/100 + 2012/400 + 366-11);\n\n    while(1){\n\n        cin >> s;\n\n        if(s[0] == '#'){\n            break;\n        }\n\n        vector<string> vec = split(s,'.');\n\n        if(vec.size() == 5){\n\n            int a[5];//b,ka,t,w,ki\n\n            for(int i=0;i<5;i++){\n                stringstream ss;\n                ss << vec[i];\n                ss >> a[i];\n            }\n\n            long long int allday = 0;\n\n            allday = a[0]*20*20*18*20 + a[1]*20*18*20 + a[2]*18*20 + a[3]*20 + a[4];\n\n            if(allday>=11){\n                allday -= 11;\n                int year,month,day;\n                year = 2013+(static_cast<int>(allday/(365+365+365+366))*4);\n                allday = allday % (365+365+365+366);\n                allday = allday + (year)/100 - (year)/400 -(2000)/100 + 2000/400;\n\n\n                /*if(allday==0){\n                    allday = 1;\n                }\n                cout << allday << endl;*/\n\n\n                year += allday/365;\n                allday %= 365;\n\n                //cout << allday << endl;\n\n                month = 1;\n                day = 1;\n                if(is_Leapyear(year)){\n                    for(int i=0;i<12;i++){\n                        if(allday>=leapmonths[i]){\n                            allday-=leapmonths[i];\n                            month++;\n                        }\n                        else{\n                            break;\n                        }\n                    }\n                    day += allday;\n                    printf(\"%d.%d.%d\\n\",year,month,day);\n                }\n                else{\n                    for(int i=0;i<12;i++){\n                        if(allday>=months[i]){\n                            allday-=months[i];\n                            month++;\n                        }\n                        else{\n                            break;\n                        }\n                    }\n                    day += allday ;\n                    printf(\"%d.%d.%d\\n\",year,month,day);\n                }\n            }\n            else{\n                printf(\"2012.12.%lld\\n\",21+allday);\n            }\n\n        }\n\n        else{\n\n            long long int b[3];//year,month,day\n\n            for(int i=0;i<3;i++){\n                stringstream ss;\n                ss << vec[i];\n                ss >> b[i];\n            }\n\n            long long int allday = (b[0] % 1872000 * 365 + b[0]/4 - b[0]/100 + b[0]/400);\n\n            if(is_Leapyear(b[0])){\n                allday--;\n            }\n\n            for(int i=0;i<b[1]-1;i++){\n                if(is_Leapyear(b[0])){\n                    allday += leapmonths[i];\n                }\n                else{\n                    allday += months[i];\n                }\n            }\n\n            allday += b[2];\n\n            allday -= baseday;\n\n            allday %= 1872000;\n\n            long long int ba,ka,t,w,ki;\n\n            ba = allday/144000;\n\n            allday %= 144000;\n\n            ka = allday/7200;\n\n            allday %= 7200;\n\n            t = allday/360;\n\n            allday %= 360;\n\n            w = allday/20;\n\n            allday %= 20;\n\n            ki = allday;\n\n            printf(\"%lld.%lld.%lld.%lld.%lld\\n\",ba,ka,t,w,ki);\n        }\n\n    }\n\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nvector<string> split(const string &str, char sep)\n{\n    vector<string> v;\n    stringstream ss(str);\n    string buffer;\n    while( getline(ss, buffer, sep) ) {\n        v.push_back(buffer);\n    }\n    return v;\n}\n\nbool is_Leapyear(long long int year){\n    if(year%4==0){\n        if(year%100==0){\n            if(year%400==0){\n                return true;\n            }\n            return false;\n        }\n        return true;\n    }\n    return false;\n}\n\nint months[12] = {31,28,31,30,31,30,31,31,30,31,30,31};\nint leapmonths[12] = {31,29,31,30,31,30,31,31,30,31,30,31};\n\nint main() {\n\n    string s;\n\n    const long long  int baseday = (2012*365 + 2012/4 - 2012/100 + 2012/400 + 366-11);\n\n    while(1){\n\n        cin >> s;\n\n        if(s[0] == '#'){\n            break;\n        }\n\n        vector<string> vec = split(s,'.');\n\n        if(vec.size() == 5){\n\n            int a[5];//b,ka,t,w,ki\n\n            for(int i=0;i<5;i++){\n                stringstream ss;\n                ss << vec[i];\n                ss >> a[i];\n            }\n\n            long long int allday = 0;\n\n            allday = a[0]*20*20*18*20 + a[1]*20*18*20 + a[2]*18*20 + a[3]*20 + a[4];\n\n            if(allday>=11){\n                allday -= 11;\n                int year,month,day;\n                year = 2013+(static_cast<int>(allday/(365+365+365+366))*4);\n                allday = allday % (365+365+365+366);\n                allday = allday + (year-2012)/100 - (year-2012)/400;\n                year += allday/365;\n                allday %= 365;\n                month = 1;\n                day = 1;\n                if(is_Leapyear(year)){\n                    for(int i=0;i<12;i++){\n                        if(allday>=leapmonths[i]){\n                            allday-=leapmonths[i];\n                            month++;\n                        }\n                        else{\n                            break;\n                        }\n                    }\n                    day += allday;\n                    printf(\"%d.%d.%d\\n\",year,month,day);\n                }\n                else{\n                    for(int i=0;i<12;i++){\n                        if(allday>=months[i]){\n                            allday-=months[i];\n                            month++;\n                        }\n                        else{\n                            break;\n                        }\n                    }\n                    day += allday ;\n                    printf(\"%d.%d.%d\\n\",year,month,day);\n                }\n            }\n            else{\n                printf(\"2012.12.%lld\\n\",21+allday);\n            }\n\n        }\n\n        else{\n\n            long long int b[3];//year,month,day\n\n            for(int i=0;i<3;i++){\n                stringstream ss;\n                ss << vec[i];\n                ss >> b[i];\n            }\n\n            long long int allday = (b[0] % 1872000 * 365 + b[0]/4 - b[0]/100 + b[0]/400);\n\n            if(is_Leapyear(b[0])){\n                allday--;\n            }\n\n            for(int i=0;i<b[1]-1;i++){\n                if(is_Leapyear(b[0])){\n                    allday += leapmonths[i];\n                }\n                else{\n                    allday += months[i];\n                }\n            }\n\n            allday += b[2];\n\n            allday -= baseday;\n\n            allday %= 1872000;\n\n            long long int ba,ka,t,w,ki;\n\n            ba = allday/144000;\n\n            allday %= 144000;\n\n            ka = allday/7200;\n\n            allday %= 7200;\n\n            t = allday/360;\n\n            allday %= 360;\n\n            w = allday/20;\n\n            allday %= 20;\n\n            ki = allday;\n\n            printf(\"%lld.%lld.%lld.%lld.%lld\\n\",ba,ka,t,w,ki);\n        }\n\n    }\n\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<tuple>\n#include<string>\n#include<vector>\nusing namespace std;\nint p1[13][33], p2[13][33], V[401];\ntuple<int, int, int>x[13][20][20][18][20];\ntuple<int, int, int, int, int>xx[1872000];\nvoid init() {\n\tfor (int i = 0; i < 429; i++) { p1[i / 33][i % 33] = -1; p2[i / 33][i % 33] = -1; }\n\tint CNTS = 0;\n\tfor (int i = 1; i <= 12; i++) {\n\t\tint V = 31; if ((i <= 6 && i % 2 == 0) || (i >= 9 && i % 2 == 1))V = 30;\n\t\tif (i == 2)V = 28;\n\t\tfor (int j = 1; j <= V; j++) { p1[i][j] = CNTS; CNTS++; }\n\t}\n\tCNTS = 0;\n\tfor (int i = 1; i <= 12; i++) {\n\t\tint V = 31; if ((i <= 6 && i % 2 == 0) || (i >= 9 && i % 2 == 1))V = 30;\n\t\tif (i == 2)V = 29;\n\t\tfor (int j = 1; j <= V; j++) { p2[i][j] = CNTS; CNTS++; }\n\t}\n\tfor (int i = 1; i <= 400; i++) {\n\t\tint II = i - 1;\n\t\tif (II % 4 == 0 && (II % 100 >= 1 || II % 400 == 0))V[i] = V[i - 1] + 366;\n\t\telse { V[i] = V[i - 1] + 365; }\n\t}\n\tCNTS = 0; int yy = 2012, mm = 12, dd = 21;\n\tfor (int i = 0; i < 13; i++) {\n\t\tfor (int j = 0; j < 20; j++) {\n\t\t\tfor (int k = 0; k < 20; k++) {\n\t\t\t\tfor (int l = 0; l < 18; l++) {\n\t\t\t\t\tfor (int m = 0; m < 20; m++) {\n\t\t\t\t\t\tx[i][j][k][l][m] = make_tuple(yy, mm, dd);\n\t\t\t\t\t\txx[CNTS] = make_tuple(i, j, k, l, m);\n\t\t\t\t\t\tCNTS++; dd++;\n\t\t\t\t\t\tif (yy % 4 == 0 && (yy % 100 >= 1 || yy % 400 == 0)) {\n\t\t\t\t\t\t\tif (p2[mm][dd] == -1) { mm++; dd = 1; }\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse { if (p1[mm][dd] == -1) { mm++; dd = 1; } }\n\t\t\t\t\t\tif (mm == 13) { mm = 1; yy++; }\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\nlong long DayCount(long long y, long long m, long long d) {\n\tint DD = 0; if (y % 4 == 0) { DD = p2[m][d]; }\n\telse { DD = p1[m][d]; }\n\treturn (V[400] * (y / 400) + V[y % 400]) + DD;\n}\ntuple<int, int, int> MayaWest(long long I, long long J, long long K, long long L, long long M) {\n\treturn x[I][J][K][L][M];\n}\ntuple<int, int, int, int, int>WestMaya(long long I, long long J, long long K) {\n\tlong long X = (DayCount(I, J, K) - DayCount(2012, 12, 21)) % 1872000;\n\treturn xx[X];\n}\nint main() {\n\tinit();\n\twhile (true) {\n\t\tstring S; cin >> S; if (S == \"#\")break; S += '.';\n\t\tvector<int>Vec; string T = \"\";\n\t\tfor (int i = 0; i < S.size(); i++) {\n\t\t\tif (S[i] == '.') { Vec.push_back(stoi(T)); T = \"\"; }\n\t\t\telse { T += S[i]; }\n\t\t}\n\t\tif (Vec.size() == 3) {\n\t\t\ttuple<int, int, int, int, int>ans = WestMaya(Vec[0], Vec[1], Vec[2]);\n\t\t\tcout << get<0>(ans) << '.' << get<1>(ans) << '.' << get<2>(ans) << '.' << get<3>(ans) << '.' << get<4>(ans) << endl;\n\t\t}\n\t\tif (Vec.size() == 5) {\n\t\t\ttuple<int, int, int>ans = MayaWest(Vec[0], Vec[1], Vec[2], Vec[3], Vec[4]);\n\t\t\tcout << get<0>(ans) << '.' << get<1>(ans) << '.' << get<2>(ans) << endl;\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\nint main(void){\n  long long y, m, d;\n  int b, ka, t, w, ki;\n  unsigned long long _ka, _t, _w, _ki;\n  int day[] = {0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\n  unsigned long long s;\n  char str[256], *s2;\n\n  _ki = 20; _w = _ki * 18; _t = _w * 20; _ka = _t * 20;\n  for( ; ; ){\n    scanf(\"%s\", str);\n    if(str[0] == '#') break;\n    s2 = str;\n    for(int i = 0;i < 2; i++){\n      s2 = strchr(s2, '.') + 1;\n    }\n    s = 0;\n    if(strchr(s2, '.') == NULL){\n      sscanf(str, \"%lld.%lld.%lld\", &y, &m, &d);\n      for(int i = 2012;i < y; i++){\n\tif(i == 2012) s += 10;\n\telse s += 365;\n\tif(i != 2012 && !(i % 4) && i % 100 || !(i % 400)) s++;\n      }\n      if(y != 2012){\n\tfor(int i = 1;i < m; i++){\n\t  s += day[i];\n\t  if(i == 2 && !(y % 4) && y % 100 || i == 2 && !(y % 400)) s++;\n\t}\n\ts += d;\n      } else\n\ts += d - 21;\n\n      s = s % (_ka * 13);\n      printf(\"%llu.%llu.%llu.%llu.%llu\\n\", s / _ka, s / _t % 20, s / _w % 20, s / _ki % 18, s % _ki);\n    } else {\n      sscanf(str, \"%d.%d.%d.%d.%d\", &b, &ka, &t, &w, &ki);\n      s = ki + w * _ki + t * _w + ka * _t + b * _ka;\n      if(s <= 10){\n\tprintf(\"2012.12.%llu\\n\", 21 + s);\n\tcontinue;\n      }\n      s -= 10;\n      for(y = 2013; ; y++){\n\tif(!(y % 4) && y % 100 || !(y % 400)){\n\t  if(s > 366) s -= 366;\n\t  else break;\n\t} else {\n\t  if(s > 365) s -= 365;\n\t  else break;\n\t}\n      }\n      for(m = 1; ; m++){\n\tif(!(y % 4) && y % 100 && s > 29 && m == 2 || !(y % 400) && s > 29 && m == 2){\n\t  s -= 29; continue;\n\t}\n\telse if(!(y % 4) && y % 100 && s >= 29 && m == 2 || !(y % 400) && s >= 29 && m == 2) break;\n\telse if(s > day[m]) s -= day[m];\n\telse break;\n      }\n      \n      printf(\"%lld.%lld.%llu\\n\", y, m, s);\n    }\n  }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n \nusing namespace std;\n \ntypedef long long ll;\ntypedef vector<int> vi;\n#define REP(i,n) for(ll i=0;i<n;++i)\n \nvector<string> split(string base, char spl){\n  vector<string> result;\n  string::size_type pos = 0;\n  string::size_type bef = 0;\n  base += spl;\n  while( (pos = base.find_first_of(spl,bef)) != string::npos ){\n    result.push_back(base.substr(bef,pos-bef));\n    bef = pos+1;\n  }\n  return result;\n}\n \nint toint(string s){\n  return atoi(s.c_str());\n}\n \n// year : 2013 ~ 2413\n// month : 12\n// day : 31\n// size : 401*366 = 146766\nint maya_to_ad[150000];\n// size : 2413*12*31 = 897636\nint ad_to_maya[900000];\n \nbool is_uruu(int y){\n  return (y%4==0 && (y%100!=0 || y%400==0));\n}\n \nint daylist[12] = {31,28,31,30,31,30,31,31,30,31,30,31};\n \n#define AD 146097\n#define MAYA 1872000\n\nvoid calc(){\n  int y = 2012;\n  int m = 12;\n  int d = 21;\n  REP(i,150000){\n    int id = ((y*12)+(m-1))*31+(d-1);\n    maya_to_ad[i] = id;\n    ad_to_maya[id] = i;\n    ++d;\n    if(d > daylist[m-1]){\n      if(m==2 && is_uruu(y) && d==29){\n        // do nothing\n      }else if(m==12){\n        // next year\n        ++y;\n        m=1;\n        d=1;\n      }else{\n        // next month\n        ++m;\n        d=1;\n      }\n    }\n    if(y==2414)break;\n  }\n}\n \nint main(){\n  // mae shori\n  // 400 years\n  calc();\n  // input\n  while(true){\n    string s;\n    cin>>s;\n    if(s==\"#\")break;\n    vector<string> input = split(s,'.');\n    if(input.size()==3){\n      // year.month.day\n      int year = toint(input[0]);\n      int month = toint(input[1]);\n      int day = toint(input[2]);\n      int yeardown = (year-2013)/400;\n      year -= yeardown * 400;\n      int id = ((year*12)+(month-1))*31+(day-1);\n      // over flow\n      ll maya = ad_to_maya[id];\n      maya += (ll)yeardown * (ll)AD;\n      maya %= MAYA;\n      int ki = maya%20; maya/=20;\n      int w = maya%18;  maya/=18;\n      int t = maya%20;  maya/=20;\n      int ka = maya%20; maya/=20;\n      int b = maya;\n      printf(\"%d.%d.%d.%d.%d\\n\",b,ka,t,w,ki);\n    }else{\n      // b.ka.t.w.ki\n      int b = toint(input[0]);\n      int ka = toint(input[1]);\n      int t = toint(input[2]);\n      int w = toint(input[3]);\n      int ki = toint(input[4]);\n      int id = ((((b*20)+ka)*20+t)*18+w)*20+ki;\n      int yearadd = id/AD;\n      id %= AD;\n      int ad = maya_to_ad[id];\n      int day = 1+ad%31;    ad/=31;\n      int month = 1+ad%12;  ad/=12;\n      int year = ad + yearadd*400;\n      printf(\"%d.%d.%d\\n\",year,month,day);\n    }\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\n\nconst int unit[5] = {20 * 20 * 18 * 20, 20 * 18 * 20, 18 * 20, 20, 1};\nconst int month[13] = {0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\n\nbool is_leap(int y)\n{\n    if (y % 400 == 0) return 1;\n    if (y % 100 == 0) return 0;\n    if (y % 4 == 0) return 1;\n    return 0;\n}\n\nll fairfield(ll y, ll m, ll d)\n{\n    if (m <= 2) y--, m += 12;\n    return 365 * y + y / 4 - y / 100 + y / 400 + 153 * (m + 1) / 5 + d - 428;\n}\n \nvoid a2m(vector<int> &v)\n{\n    ll y = v[0], m = v[1], d = v[2];\n\n    ll day = (fairfield(y, m, d) - fairfield(2012, 12, 21)) % 1872000LL;    \n    for (int i = 0; i < 5; i++) {\n        if (i > 0) cout << \".\";\n        cout << day / unit[i];\n        day %= unit[i];\n    }\n    cout << endl;\n}\n\nvoid m2a(vector<int> &v)\n{\n    int day = 0;\n    for (int i = 0; i < 5; i++) {\n        day += v[i] * unit[i];\n    }\n\n    int y = 2012, m = 12, d = 21;\n    for (int i = 0; i < 11; i++) {\n        if (day == 0) break;\n        day--; d++;\n    }\n    \n    if (d == 32) y++, d = 1, m = 1;\n    \n    bool update = 1;\n    while (update) {\n        update = 0;\n        if (is_leap(y)) {\n            if (day >= 366) {\n                day -= 366;\n                y++;\n                update = 1;\n            } \n        } else {\n            if (day >= 365) {\n                day -= 365;\n                y++;\n                update = 1;\n            }            \n        }\n    }\n    \n    for (int i = 1; i <= 12; i++, m++) {\n        int md = month[i];\n        if (is_leap(y) && i == 2) md++;\n        if (day >= md) {\n            day -= md;\n        } else {\n            break;\n        }\n    }\n    \n    cout << y << \".\" << m << \".\" << d + day << endl;\n}\n\nint s2i(string &s)\n{\n    stringstream ss(s);\n    int num;\n    ss >> num;\n    return num;\n}\n\nint main()\n{\n    string s;\n    while (cin >> s, s != \"#\") {\n        stringstream ss(s);\n        vector<int> v;\n        while (getline(ss, s, '.')) {\n            v.push_back(s2i(s));\n        }\n        (v.size() == 3 ? a2m(v) : m2a(v));\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <map>\n#include <cstring>\n#include <string>\n#include <stack>\n#include <queue>\n#include <cmath>\n#include <cstdlib>\n#include <cstdio>\n#include <algorithm>\n#include <sstream>\n#include <set>\nusing namespace std;\n\n#define rep(i,n) for(int i=0;i<(int)n;i++)\n#define repp(i,k,n) for(int i=k;i<(int)n;i++)\n#define rei(n) for(int i=0;i<(int)n;i++)\n#define rel(n) for(int l=0;l<(int)n;l++)\n#define al(s) s.begin(),s.end()\n#define INT_MAX 2147483647\n\nstruct Calendar\n{\n\tlong long year;\n\tlong long month;\n\tlong long day;\n\tlong long dat[2][13];\n\tCalendar(long long y, long long m, long long d)\n\t{\n\t\tyear = y;\n\t\tmonth = m;\n\t\tday = d;\n\t\tdat[0][1] = dat[1][1] = 31;\n\t\tdat[0][2] = dat[1][2] = 28;\n\t\tdat[0][3] = dat[1][3] = 31;\n\t\tdat[0][4] = dat[1][4] = 30;\n\t\tdat[0][5] = dat[1][5] = 31;\n\t\tdat[0][6] = dat[1][6] = 30;\n\t\tdat[0][7] = dat[1][7] = 31;\n\t\tdat[0][8] = dat[1][8] = 31;\n\t\tdat[0][9] = dat[1][9] = 30;\n\t\tdat[0][10] = dat[1][10] = 31;\n\t\tdat[0][11] = dat[1][11] = 30;\n\t\tdat[0][12] = dat[1][12] = 31;\n\t\tdat[1][2] = 29;\n\t}\n\tint uruu()\n\t{\n\t\tif (year % 4 == 0)\n\t\t{\n\t\t\tif (year % 400 != 0 && year % 100 == 0)\n\t\t\t{\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t}\n\t\treturn 0;\n\t}\n\tint uruu(long long y)\n\t{\n\t\tif (y % 4 == 0)\n\t\t{\n\t\t\tif (y % 400 != 0 && y % 100 == 0)\n\t\t\t{\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t}\n\t\treturn 0;\n\t}\n\tlong long pday(long long d)\n\t{\n\t\tday += d;\n\t\tfor (;; month++)\n\t\t{\n\t\t\tif (month >= 13)\n\t\t\t{\n\t\t\t\tyear++;\n\t\t\t\tmonth = 1;\n\t\t\t}\n\n\t\t\tif (dat[uruu()][month] < day)\n\t\t\t{\n\t\t\t\tday -= dat[uruu()][month];\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tpmonth(0);\n\t\treturn d;\n\t}\n\tlong long pmonth(long long m)\n\t{\n\t\tmonth += m;\n\t\tfor (;; year++)\n\t\t{\n\t\t\tif (month > 12)\n\t\t\t{\n\t\t\t\tmonth -= 12;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn m;\n\t}\n\tlong long pyear(long long y)\n\t{\n\t\tyear += y;\n\t\treturn y;\n\t}\n\tlong long dif(Calendar c)\n\t{\n\t\tlong long ans = 0;\n\t\tCalendar a(year, month, day);\n\t\tif (a.year > c.year)swap(a, c);\n\t\tans -= a.day;\n\t\tans += c.day;\n\t\ta.day = 0;\n\t\tc.day = 0;\n\t\tfor (; a.month >= 1; a.month--)\n\t\t{\n\t\t\tans -= dat[a.uruu()][a.month];\n\t\t}\n\t\tfor (; c.month >= 1; c.month--)\n\t\t{\n\t\t\tans += dat[c.uruu()][c.month];\n\t\t}\n\t\tfor (; a.year != c.year; a.year++)\n\t\t{\n\t\t\tans += 365;\n\t\t\tif (a.uruu())ans++;\n\t\t}\n\t\treturn ans;\n\t}\n\n\n};\n\n\n\n\n\n\nint main()\n{\n\tstring a;\n\twhile (1)\n\t{\n\t\tgetline(cin, a);\n\t\tif (a.find(\"#\") != string::npos)break;\n\t\tint coun = 0;\n\t\tfor (int i = 0; i < a.size(); i++)\n\t\t{\n\t\t\tif (a[i] == '.')coun++;\n\t\t}\n\t\tif (coun == 2)\n\t\t{\n\t\t\tstring Y[3];\n\t\t\tint j = 0;\n\t\t\tfor (int i = 0; i < a.size(); i++)\n\t\t\t{\n\t\t\t\tif (a[i] == '.')j++;\n\t\t\t\telse Y[j] += a[i];\n\t\t\t}\n\t\t\tlong long y, m, d;\n\t\t\ty = atoi(Y[0].c_str());\n\t\t\tm = atoi(Y[1].c_str());\n\t\t\td = atoi(Y[2].c_str());\n\n\t\t\tCalendar A(y, m, d), B(2012, 12, 21);\n\t\t\tlong long def = B.dif(A);\n\n\t\t\tif (def < 0)\n\t\t\t{\n\t\t\t\tint b, ka, t, w, ki;\n\t\t\t\tb = 12;\n\t\t\t\tka = 19;\n\t\t\t\tt = 19;\n\t\t\t\tw = 17;\n\t\t\t\tki = 20;\n\t\t\t\tdef *= -1;\n\t\t\t\tka -= def / (1872000 / 13 / 20);\n\t\t\t\tdef %= 1872000 / 13 / 20;\n\n\t\t\t\tt -= def / (1872000 / 13 / 20 / 20);\n\t\t\t\tdef %= 1872000 / 13 / 20 / 20;\n\n\t\t\t\tw -= def / (1872000 / 13 / 20 / 20 / 18);\n\t\t\t\tdef %= 1872000 / 13 / 20 / 20 / 18;\n\n\t\t\t\tki -= def / (1872000 / 13 / 20 / 20 / 18 / 20);\n\n\t\t\t\tcout << b << \".\" << ka << \".\" << t << \".\" << w << \".\" << ki << endl;\n\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tdef %= 1872000;\n\t\t\t\tint ans = 0;\n\n\t\t\t\tans = def / (1872000 / 13);\n\t\t\t\tdef %= 1872000 / 13;\n\t\t\t\tcout << ans << \".\";\n\n\t\t\t\tans = def / (1872000 / 13 / 20);\n\t\t\t\tdef %= 1872000 / 13 / 20;\n\t\t\t\tcout << ans << \".\";\n\n\t\t\t\tans = def / (1872000 / 13 / 20 / 20);\n\t\t\t\tdef %= 1872000 / 13 / 20 / 20;\n\t\t\t\tcout << ans << \".\";\n\n\t\t\t\tans = def / (1872000 / 13 / 20 / 20 / 18);\n\t\t\t\tdef %= 1872000 / 13 / 20 / 20 / 18;\n\t\t\t\tcout << ans << \".\";\n\n\t\t\t\tans = def / (1872000 / 13 / 20 / 20 / 18 / 20);\n\t\t\t\tcout << ans << endl;\n\t\t\t\tcontinue;\n\n\n\t\t\t}\n\n\t\t}\n\t\telse\n\t\t{\n\t\t\tstring Y[5];\n\t\t\tint j = 0;\n\t\t\tfor (int i = 0; i < a.size(); i++)\n\t\t\t{\n\t\t\t\tif (a[i] == '.')j++;\n\t\t\t\telse Y[j] += a[i];\n\t\t\t}\n\t\t\tj = 0;\n\t\t\tCalendar c(2012, 12, 21);\n\t\t\tint h = atoi(Y[0].c_str());\n\t\t\tint g = atoi(Y[1].c_str());\n\t\t\tg += h * 20;\n\t\t\th = atoi(Y[2].c_str());\n\t\t\th += g * 20;\n\t\t\tg = atoi(Y[3].c_str());\n\t\t\tg += h * 18;\n\t\t\th = atoi(Y[4].c_str());\n\t\t\th += g * 20;\n\n\t\t\tc.pday(h);\n\n\t\t\tcout << c.year << \".\" << c.month << \".\" << c.day << endl;\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string> \nusing namespace std;\nint main(){\n  long long y,m,d,b,ka,t,w,ki;\n  int i,j,k,p;\n  long long day,base=0,ba=1872000;\n  int mo[]={0,31,28,31,30,31,30,31,31,30,31,30,31};\n  string str;\n  cin>> str;\n  while(str[0]!='#'){\n    y=0;m=0;d=0;i=0;day=0;p=0;\n    while(str[i]!='\\0'){\n      if(str[i]=='.') p++;\n      i++;\n    }\n    if(p==2){\n      i=0;\n      while(str[i]!='.') i++;\n      for(j=0;j<i;j++){\n\ty*=10;\n\ty+=str[j]-'0';\n      }\n      i++;\n      k=i;\n      while(str[i]!='.') i++;\n      for(j=k;j<i;j++){\n\tm*=10;\n\tm+=str[j]-'0';\n      } \n      i++;\n      k=i;\n      while(str[i]!='\\0') i++;\n      for(j=k;j<i;j++){\n\td*=10;\n\td+=str[j]-'0';\n      }\n      //cout << y << \" \" << m << \" \" << d << endl;\n      if(y==2012) {\n\tday=d-21;\n      }else{\n\tday=10;\n\tfor(i=2013;i<y;i++)\n\t  if((i%4==0&&i%100!=0)||i%400==0) day+=366;\n\t  else day+=365;\n\tfor(i=1;i<m;i++) day+=mo[i];\n\tif(2<m&&((y%4==0&&y%100!=0)||y%400==0)) day++;\n\tday+=d;\n      }\n      while(ba<day) day-=ba;\n      b=day%(13*20*20*18*20)/(20*20*18*20);\n      ka=day%(20*20*18*20)/(20*18*20);\n      t=day%(20*18*20)/(18*20);\n      w=day%(18*20)/20;\n      ki=day%(20);\n      cout << b << \".\" << ka << \".\" << t << \".\" << w << \".\" << ki << endl;\n    }else{\n      i=0;b=0;ka=0;t=0;w=0;ki=0;\n      while(str[i]!='.') i++;\n      for(j=0;j<i;j++){\n\tb*=10;\n\tb+=str[j]-'0';\n      }\n      i++;\n      k=i;\n      while(str[i]!='.') i++;\n      for(j=k;j<i;j++){\n\tka*=10;\n\tka+=str[j]-'0';\n      } \n      i++;\n      k=i;\n      while(str[i]!='.') i++;\n      for(j=k;j<i;j++){\n\tt*=10;\n\tt+=str[j]-'0';\n      }\n      i++;\n      k=i;\n      while(str[i]!='.') i++;\n      for(j=k;j<i;j++){\n\tw*=10;\n\tw+=str[j]-'0';\n      } \n      i++;\n      k=i;\n      while(str[i]!='\\0') i++;\n      for(j=k;j<i;j++){\n\tki*=10;\n\tki+=str[j]-'0';\n      }\n      //cout << b << \".\" << ka << \".\" << t << \".\" << w << \".\" << ki << endl;\n      day =b*20*20*18*20+ka*20*18*20+t*18*20+w*20+ki;\n      \n      y=2012;m=12;d=21;\n      if(day<=10) d+=day;\n      else{\n\tday-=10;\n\ty=2013;\n\tint f1=0;\n\twhile(day>365&&f1==0){\n\t  if((y%4==0&&y%100!=0)||y%400==0) \n\t    if(day==366) f1=1;\n\t    else day-=366;\n\t  else day-=365;\n\t  if(f1==0)y++;\n\t}\n\tm=1;int flag=0;\n\t//cout << day << endl;\n\twhile(day>mo[m]&&flag==0){\n\t  if(m==2&&((y%4==0&&y%100!=0)||y%400==0)) {\n\t    if(day>29) {\n\t      day-=29;\n\t      m++;\n\t      \n\t    }else{\n\t      flag=1;\n\t    }\n\t  }else{\n\t    day-=mo[m];\n\t    m++;\n\t  }\n\t}\n\t//cout << day << endl;\n\td=day;\n      }\n      cout << y << \".\" << m << \".\" << d << endl;\n    }\n    cin >> str;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <string>\nusing namespace std;\ntypedef long long ll;\n\nconst int to_day[5] = {20, 20, 18, 20, 1};\nconst int month_day[12] = {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\n\nint main(){\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\n\tstring str;\n\twhile(cin >> str && str != \"#\"){\n\n\t\tint cnt = 0;\n\t\tfor(size_t i = 0; i < str.size(); ++i){\n\t\t\tif(str[i] == '.') cnt++;\n\t\t}\n\n\t\tif(cnt == 4){\n\t\t\tll data[5];\n\t\t\tint num = 0;\n\t\t\tsize_t prev = 0;\n\t\t\tfor(size_t i = 0; i < str.size(); ++i){\n\t\t\t\tif(str[i] == '.'){\n\t\t\t\t\tdata[num] = stoi(str.substr(prev, i - prev));\n\t\t\t\t\t//cout << data[num] << endl;\n\t\t\t\t\tprev = i + 1;\n\t\t\t\t\tnum++;\n\t\t\t\t}\n\t\t\t\tif(i == str.size() - 1){\n\t\t\t\t\tdata[num] = stoi(str.substr(prev, i + 1 - prev));\n\t\t\t\t\t//cout << data[num] << endl;\n\t\t\t\t}\n\t\t\t}\n\t\t\tll day = 0;\n\t\t\tfor(ll i = 0; i < 5; ++i){\n\t\t\t\tday += data[i];\n\t\t\t\tday *= to_day[i];\n\t\t\t}\n\t\t\t//cout << day << endl;\n\n\t\t\tif(day <= 10){\n\t\t\t\tcout << 2012 << '.' << 12 << '.' << 21 + day << endl;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tday -= 10;\n\t\t\t\tll year = 2013;\n\t\t\t\twhile(1){\n\t\t\t\t\tif(year % 400 == 0 || (year % 100 != 0 && year % 4 == 0)){\n\t\t\t\t\t\tif(day < 366) break;\n\t\t\t\t\t\tday -= 366;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif(day < 365) break;\n\t\t\t\t\t\tday -= 365;\n\t\t\t\t\t}\n\t\t\t\t\tyear++;\n\t\t\t\t}\n\t\t\t\tll month = 0;\n\t\t\t\twhile(1){\n\t\t\t\t\tif((year % 400 == 0 || (year % 100 != 0 && year % 4 == 0)) && month + 1 == 2){\n\t\t\t\t\t\tif(day > month_day[month] + 1){\n\t\t\t\t\t\t\tday -= month_day[month] + 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse break;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif(day > month_day[month]){\n\t\t\t\t\t\t\tday -= month_day[month];\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse break;\n\t\t\t\t\t}\n\t\t\t\t\tmonth++;\n\t\t\t\t}\n\t\t\t\tcout << year << '.' << month + 1 << '.' << day << endl;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tll data[3];\n\t\t\tint num = 0;\n\t\t\tsize_t prev = 0;\n\t\t\tfor(size_t i = 0; i < str.size(); ++i){\n\t\t\t\tif(str[i] == '.'){\n\t\t\t\t\tdata[num] = stoi(str.substr(prev, i - prev));\n\t\t\t\t\t//cout << data[num] << endl;\n\t\t\t\t\tprev = i + 1;\n\t\t\t\t\tnum++;\n\t\t\t\t}\n\t\t\t\tif(i == str.size() - 1){\n\t\t\t\t\tdata[num] = stoi(str.substr(prev, i + 1 - prev));\n\t\t\t\t\t//cout << data[num] << endl;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tll day = data[2];\n\t\t\tll year = 2013;\n\t\t\tif(data[0] == 2012){\n\t\t\t\tday = data[2] - 21;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tday += 10;\n\t\t\t\twhile(year < data[0]){\t\t\t\t\t\n\t\t\t\t\tday %= 1872000;\n\t\t\t\t\tif(year % 400 == 0 || (year % 100 != 0 && year % 4 == 0)){\n\t\t\t\t\t\tday += 366;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tday += 365;\n\t\t\t\t\t}\n\t\t\t\t\tyear++;\n\t\t\t\t}\n\n\t\t\t\tfor(ll i = 1; i < data[1]; ++i){\n\t\t\t\t\tif((year % 400 == 0 || (year % 100 != 0 && year % 4 == 0)) && i == 2){\n\t\t\t\t\t\tday += month_day[i - 1] + 1;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\tday += month_day[i - 1];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//cout << day << endl;\n\t\t\tday %= 1872000;\n\n\t\t\tll ans[5];\n\t\t\tfor(ll i = 3; i >= 0; --i){\n\t\t\t\tans[i + 1] = day % to_day[i];\n\t\t\t\tday /= to_day[i];\n\t\t\t}\n\t\t\tans[0] = day;\n\n\t\t\tfor(ll i = 0; i < 5; ++i){\n\t\t\t\tif(i != 0) cout << '.';\n\t\t\t\tcout << ans[i];\n\t\t\t}\n\t\t\tcout << endl;\n\t\t}\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "//マヤの大予言\n\n#include<iostream>\n#include<utility>\n#include<string>\n#include<vector>\n#include<algorithm>\n#include<deque>\n\nusing namespace std;\n#define LL long long\n\n//文字列分割\nvector<string>Split(string s, char c) {\n\tvector<string> v;\n\tauto pbegin = s.begin();\n\twhile (pbegin != s.end()) {\n\t\tauto pend = pbegin;\n\t\twhile (pend != s.end() && *pend != c) \n\t\t\tpend++;\n\t\tv.push_back(string(pbegin, pend));\n\t\tif (pend != s.end())\n\t\t\tpend++;\n\t\tpbegin = pend;\n\t}\n\treturn v;\n}\n//\n\nLL Md[13] = { 0,31,28,31,30,31,30,31,31,30,31,30,31 };\nLL wd = 20, td = 360, kad = 7200, bd = 144000, cd = 1872000;\nLL y400d = 146097, y100d = 36524, y4d = 1461, y1d = 365;\n\nLL adtoll(LL y, LL m, LL d) {//西暦から日数\n\tLL tmp = 0, Y = y;\n\t//年\n\tY--;\n\ttmp += Y / 400 * y400d; Y %= 400;\n\ttmp += Y / 100 * y100d;  Y %= 100;\n\ttmp += Y / 4 * y4d; Y %= 4;\n\ttmp += Y * y1d;\n\t//月\n\tif ((y % 4 == 0 && y % 100 != 0) || y % 400 == 0)\n\t\t Md[2] = 29;//閏年\n\telse Md[2] = 28;\n\tfor (int i = 0; i < m; i++) \n\t\ttmp += Md[i];\n\t//日\n\ttmp += d;\n\treturn tmp;\n}\n\nstring lltoad(LL days) {//日数から西暦\n\tstring s;\n\tLL y = 0, m = 0, d = 0;\n\tLL Y = y;\n\t//年\n\ty += days / y400d * 400; days %= y400d;\n\ty += days / y100d * 100; days %= y100d;\n\ty += days / y4d * 4; days %= y4d;\n\tif (days / y1d == 4) {\n\t\ty += days / y1d; m = 12; d = 30;\n\t}\n\telse {\n\t\ty += days / y1d; days %= y1d;\n\t\tif (days == 0) {//年末\n\t\t\tm = 12; d = 31;\n\t\t}\n\t\telse {\n\t\t\ty++;\n\n\t\t\t//月\n\t\t\tif ((y % 4 == 0 && y % 100 != 0) || y % 400 == 0)\n\t\t\t\tMd[2] = 29;//閏年\n\t\t\telse Md[2] = 28;\n\t\t\tLL i = 1;\n\t\t\twhile (true) {\n\t\t\t\tif (days <= Md[i]) {\n\t\t\t\t\tm = i; break;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tdays -= Md[i]; i++;\n\t\t\t\t}\n\t\t\t}\n\t\t\t//日\n\t\t\td = days;\n\t\t}\n\t}\n\n\ts = to_string(y) + \".\" + to_string(m) + \".\" + to_string(d);\n\n\treturn s;\n}\n\nLL mayatoll(LL b, LL ka, LL t, LL w, LL ki) {//マヤから日数\n\tLL tmp = 0;\n\ttmp += b * bd;\n\ttmp += ka * kad;\n\ttmp += t * td;\n\ttmp += w * wd;\n\ttmp += ki;\n\treturn tmp;\n}\n\n\nstring lltomaya(LL days) {//日数からマヤ\n\tdays %= cd;\n\tstring s;\n\tLL b, ka, t, w, ki;\n\tb = days / bd; days %= bd;\n\tka = days / kad; days %= kad;\n\tt = days / td; days %= td;\n\tw = days / wd; days %= wd;\n\tki = days;\n\n\ts = to_string(b) + \".\" + to_string(ka) \n\t\t+ \".\" + to_string(t) + \".\" + to_string(w) + \".\" + to_string(ki);\n\n\treturn s;\n}\n\n\nint main() {\n\twhile (true) {\n\t\tstring s;\n\t\tcin >> s;\n\t\tif (s == \"#\")break;\n\n\t\tint type;//1:ad 0:maya\n\t\tLL y, m, d;//西暦\n\t\tLL b, ka, t, w, ki;//マヤ暦\n\n\t\tvector<string> data = Split(s, '.');\n\t\tif (data.size() == 3) {\n\t\t\ty = stoi(data[0]);\n\t\t\tm = stoi(data[1]);\n\t\t\td = stoi(data[2]);\n\t\t\ttype = 1;\n\t\t}\n\t\telse {\n\t\t\tb = stoi(data[0]);\n\t\t\tka = stoi(data[1]);\n\t\t\tt = stoi(data[2]);\n\t\t\tw = stoi(data[3]);\n\t\t\tki = stoi(data[4]);\n\t\t\ttype = 0;\n\t\t}\n\n\t\tstring output;\n\t\tLL day = 0;\n\t\tLL we = 734858;\n\t\tif (type) {//ad\n\t\t\tday = adtoll(y, m, d) - we;\n\t\t\toutput = lltomaya(day);\n\t\t} \n\t\telse{//maya\n\t\t\tday = ki + w * 20 + t * 360 + ka * 7200 + b * 144000 + we;\n\t\t\toutput = lltoad(day);\n\t\t}\n\t\t//\n\t\t//cout << \" \";\n\t\t//\n\t\tcout << output << endl;\n\t}\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<ll> vl;\ntypedef complex<double> P;\ntypedef pair<int,int> pii;\n#define REP(i,n) for(ll i=0;i<n;++i)\n#define REPR(i,n) for(ll i=1;i<n;++i)\n#define FOR(i,a,b) for(ll i=a;i<b;++i)\n\n#define DEBUG(x) cout<<#x<<\": \"<<x<<endl\n#define DEBUG_VEC(v) cout<<#v<<\":\";REP(i,v.size())cout<<\" \"<<v[i];cout<<endl\n#define ALL(a) (a).begin(),(a).end()\n\n#define MOD (ll)(1e9+7)\n#define ADD(a,b) a=((a)+(b))%MOD\n#define FIX(a) ((a)%MOD+MOD)%MOD\n\nll calc1(ll y,ll m,ll d){\n  ll ret = 0;\n  if(y>0){\n    ret += y*365;\n    ret += (y-1)/4;\n    ret -= (y-1)/100;\n    ret += (y-1)/400;\n    ret += 1;\n  }\n  if((y%4==0&&y%100!=0) || (y%400==0)){\n    // is uruu\n    ll daylist[12] = {31,29,31,30,31,30,31,31,30,31,30,31};\n    REP(i,m-1) ret += daylist[i];\n    ret += d;\n  }else{\n    // isnt uruu\n    ll daylist[12] = {31,28,31,30,31,30,31,31,30,31,30,31};\n    REP(i,m-1) ret += daylist[i];\n    ret += d;\n  }\n  return ret;\n}\n\nstring tostr(ll a){\n  if(a==0)return \"0\";\n  string ret = \"\";\n  while(a){\n    ret = (char)(a%10+'0') + ret;\n    a /= 10;\n  }\n  return ret;\n}\n\nvoid printmaya(ll day){\n  day %= 1872000;\n  string ret = \"\";\n  ret = tostr(day%20) + ret;\n  day /= 20;\n  ret = tostr(day%18) + \".\" + ret;\n  day /= 18;\n  ret = tostr(day%20) + \".\" + ret;\n  day /= 20;\n  ret = tostr(day%20) + \".\" + ret;\n  day /= 20;\n  ret = tostr(day) + \".\" + ret;\n  cout << ret << endl;\n  return;\n}\n\nvoid printdays(ll days){\n  ll year;\n  year = days/366;\n  while(calc1(year,1,0) < days)++year;\n  --year;\n  days -= calc1(year,1,0);\n  ll month = 0, day = 0;\n  if((year%4==0&&year%100!=0) || (year%400==0)){\n    // is uruu\n    ll daylist[12] = {31,29,31,30,31,30,31,31,30,31,30,31};\n    REP(i,12){\n      if(days <= daylist[i]){\n        month = i+1;\n        day = days;\n        break;\n      }\n      days -= daylist[i];\n    }\n  }else{\n    // isnt uruu\n    ll daylist[12] = {31,28,31,30,31,30,31,31,30,31,30,31};\n    REP(i,12){\n      if(days <= daylist[i]){\n        month = i+1;\n        day = days;\n        break;\n      }\n      days -= daylist[i];\n    }\n  }\n  printf(\"%lld.%lld.%lld\\n\",year,month,day);\n}\n\nint main(){\n  // DEBUG(calc1(1,1,1));\n  // DEBUG(calc1(1,12,31));\n  while(true){\n    string s;\n    cin>>s;\n    if(s==\"#\")break;\n    if(count(ALL(s),'.') == 4){\n      // DEBUG(\"?????????\");\n      ll a=0,b=0,c=0,d=0,e=0;\n      // input\n      {\n        int it = 0;\n        while(s[it]!='.'){\n          a *= 10;\n          a += (s[it]-'0');\n          ++it;\n        }\n        ++it;\n        while(s[it]!='.'){\n          b *= 10;\n          b += (s[it]-'0');\n          ++it;\n        }\n        ++it;\n        while(s[it]!='.'){\n          c *= 10;\n          c += (s[it]-'0');\n          ++it;\n        }\n        ++it;\n        while(s[it]!='.'){\n          d *= 10;\n          d += (s[it]-'0');\n          ++it;\n        }\n        ++it;\n        while(it<s.size()){\n          e *= 10;\n          e += (s[it]-'0');\n          ++it;\n        }\n      }\n      ll dest = calc1(2012,12,21);\n      ll add = (((a*20+b)*20+c)*18+d)*20+e;\n      printdays(dest+add);\n    }else{\n      // DEBUG(\"??±????????????\");\n      // year month day\n      ll year = 0, month = 0, day = 0;\n      // input\n      {\n        int it = 0;\n        while(s[it]!='.'){\n          year *= 10;\n          year += (s[it]-'0');\n          ++it;\n        }\n        ++it;\n        while(s[it]!='.'){\n          month *= 10;\n          month += (s[it]-'0');\n          ++it;\n        }\n        ++it;\n        while(it<s.size()){\n          day *= 10;\n          day += (s[it]-'0');\n          ++it;\n        }\n      }\n      ll dest = calc1(2012,12,21);\n      ll birt = calc1(year,month,day);\n      printmaya(birt - dest);\n    }\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\nusing namespace std;\nint uluu(int x)\t\n{\n\tif(x%400==0 || (x%100!=0 && x%4==0))\treturn 1;\n\telse return 0;\n}\nint main(void)\n{\n\tint b,ka,t,w,ki,y,m,d,i,j,k,ff,p,len;\n\tchar buf[100];\n\tlong long cnt,day;\n\tint mon[2][13]={{0,31,28,31,30,31,30,31,31,30,31,30,31},\n\t\t\t\t\t{0,31,29,31,30,31,30,31,31,30,31,30,31}};\n\tint smon[2][13];\n\tint uday[2]={365,366};\n\tint ulu;\n\twhile(1)\t{\n\t\tscanf(\"%s\",buf);\n\t\tif(buf[0]=='#')\tbreak;\n\t\tcnt=0;\n\t\tlen=strlen(buf);\n\t\tfor(i=0;i<len;i++)\t{\n\t\t\tif(buf[i]=='.')\tcnt++;\n\t\t}\n\t\tif(cnt==2)\tff=1;\n\t\telse ff=2;\n\t\t\n\t\tif(ff==1)\t{\n\t\t\tp=0;\n\t\t\ty=0;\n\t\t\twhile(buf[p]!='.')\t{\n\t\t\t\ty*=10;\n\t\t\t\ty+=buf[p]-'0';\n\t\t\t\tp++;\n\t\t\t}\n\t\t\tp++;\n\t\t\tm=0;\n\t\t\twhile(buf[p]!='.')\t{\n\t\t\t\tm*=10;\n\t\t\t\tm+=buf[p]-'0';\n\t\t\t\tp++;\n\t\t\t}\n\t\t\tp++;\n\t\t\td=0;\n\t\t\twhile(buf[p]!='\\0')\t{\n\t\t\t\td*=10;\n\t\t\t\td+=buf[p]-'0';\n\t\t\t\tp++;\n\t\t\t}\n\t\t\tday=0;\n\t\t\tif(y==2012)\t{\n\t\t\t\tday+=d-21;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tday=10;\n\t\t\t\tfor(i=2013;i<y;i++)\t{\n\t\t\t\t\tif(uluu(i)==1)\tday+=366;\n\t\t\t\t\telse day+=365;\n\t\t\t\t}\n\t\t\t\tfor(i=1;i<m;i++)\t{\n\t\t\t\t\tulu=uluu(y);\n\t\t\t\t\tday+=mon[ulu][i];\n\t\t\t\t}\n\t\t\t\tday+=d;\n\t\t\t}\n//\t\t\tprintf(\"day=%d\\n\",day);\n\t\t\t\n\t\t\tb=day/(20*20*18*20);\n\t\t\tb%=13;\n\t\t\tday%=(20*20*18*20);\n\t\t\tka=day/(20*18*20);\n\t\t\tday%=(20*18*20);\n\t\t\tt=day/(18*20);\n\t\t\tday%=18*20;\n\t\t\tw=day/20;\n\t\t\tki=day%20;\n\t\t\tprintf(\"%d.%d.%d.%d.%d\\n\",b,ka,t,w,ki);\n\t\t}\n\t\telse {\n\t\t\tp=0;\n\t\t\tb=buf[p]-'0';\n\t\t\tp++;\n\t\t\tif(buf[p]!='.')\t{\n\t\t\t\tb=b*10+buf[p]-'0';\n\t\t\t\tp++;\n\t\t\t}\n\t\t\tp++;\n\t\t\t\n\t\t\tka=buf[p]-'0';\n\t\t\tp++;\n\t\t\tif(buf[p]!='.')\t{\n\t\t\t\tka=ka*10+buf[p]-'0';\n\t\t\t\tp++;\n\t\t\t}\n\t\t\tp++;\t\t\t\n\t\t\n\t\t\tt=buf[p]-'0';\n\t\t\tp++;\n\t\t\tif(buf[p]!='.')\t{\n\t\t\t\tt=t*10+buf[p]-'0';\n\t\t\t\tp++;\n\t\t\t}\n\t\t\tp++;\t\t\t\n\t\t\n\t\t\tw=buf[p]-'0';\n\t\t\tp++;\n\t\t\tif(buf[p]!='.')\t{\n\t\t\t\tw=w*10+buf[p]-'0';\n\t\t\t\tp++;\n\t\t\t}\n\t\t\tp++;\t\n\n\t\t\tki=buf[p]-'0';\n\t\t\tp++;\n\t\t\tif(buf[p]!='\\0')\t{\n\t\t\t\tki=ki*10+buf[p]-'0';\n\t\t\t\tp++;\n\t\t\t}\n\t\t\tp++;\t\n\t\t\n\t\t\tday=b*20*20*18*20+ka*20*18*20+t*18*20+w*20+ki;\n//\t\t\tprintf(\"day=%d\\n\",day);\n//\t\t\tprintf(\" %d %d %d %d %d\\n\",b,ka,t,w,ki);\n\t\t\tif(day<=10)\t{\n\t\t\t\ty=2012;\tm=12;\td=day+21;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tday=day-10;\n\t\t\t\ty=2013;\n\t\t\t\twhile(1)\t{\n\t\t\t\t\tulu=uluu(y);\n\t\t\t\t\tif(uday[ulu]>=day)\tbreak;\n\t\t\t\t\tday-=uday[ulu];\n\t\t\t\t\ty++;\n\t\t\t\t}\n\t\t\t\tm=1;\n\t\t\t\tulu=uluu(y);\n\t\t\t\twhile(1)\t{\n\t\t\t\t\tif(mon[ulu][m]>=day)\tbreak;\n\t\t\t\t\tday-=mon[ulu][m];\n\t\t\t\t\tm++;\n\t\t\t\t}\n\t\t\t\td=day;\n\t\t\t}\n\t\t\tprintf(\"%d.%d.%d\\n\",y,m,d);\n\t\t}\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <fstream>\n#include <sstream>\n#include <iomanip> \n#include <complex> \n#include <string>\n#include <vector> \n#include <list>\n#include <deque> \n#include <stack> \n#include <queue> \n#include <set>\n#include <map>\n#include <bitset>\n#include <functional>\n#include <utility>\n#include <algorithm> \n#include <numeric> \n#include <typeinfo> \n#include <cstdio>\n#include <cstdlib> \n#include <cstring>\n#include <cmath>\n#include <climits> \n#include <ctime>\nusing namespace std;\n\ntypedef unsigned long long ull;\n\nstring str;\nvector<int> a;\null nd[12]={31,28,31,30,31,30,31,31,30,31,30,31};\null ud[12]={31,29,31,30,31,30,31,31,30,31,30,31};\n\nbool uruY(ull y){\n\tif(y%400==0)return true;\n\tif(y%100==0)return false;\n\tif(y%4==0)return true;\n}\n\nstatic ull GetDays(ull y,ull m,ull d){\n\t// 1・2月 → 前年の13・14月\n\tif (m <= 2){\n\t\t--y;\n\t\tm += 12;\n\t}\n\tull dy = 365 * (y - 1); // 経過年数×365日\n\tull c = y / 100;\n\tull dl = (y >> 2) - c + (c >> 2); // うるう年分\n\tull dm = (m * 979 - 1033) >> 5; // 1月1日から m 月1日までの日数\n\treturn dy + dl + dm + d - 1;\n}\nint main(void){\n\tull now=GetDays(2012,12,21);\n\twhile(getline(cin,str)){\n\t\tif(str==\"#\")break;\n\t\tfor(int i=0;i<str.size();i++){\n\t\t\tif(str[i]=='.')str[i]=' ';\n\t\t}\n\t\tstringstream ss(str);\n\t\tint in;\n\t\ta.clear();\n\t\twhile(ss >> in){\n\t\t\ta.push_back(in);\n\t\t}\n\t\tif(a.size()==3){\n\t\t\tull next=GetDays(a[0],a[1],a[2]);\n\t\t\tnext-=now;\n\t\t\tnext=next%(13*20*20*18*20);\n\t\t\tint ki=next%20;\n\t\t\tnext=next/20;\n\t\t\tint w=next%18;\n\t\t\tnext=next/18;\n\t\t\tint t=next%20;\n\t\t\tnext=next/20;\n\t\t\tint ka=next%20;\n\t\t\tnext=next/20;\n\t\t\tint b=next%13;\n\t\t\tprintf(\"%d.%d.%d.%d.%d\\n\",b,ka,t,w,ki);\n\t\t}else{\n\t\t\tull maya=a[0]*(20*20*18*20);\n\t\t\tmaya+=a[1]*(20*18*20);\n\t\t\tmaya+=a[2]*(18*20);\n\t\t\tmaya+=a[3]*20;\n\t\t\tmaya+=a[4];\n\t\t\tmaya+=now;\n\t\t\tull y=2012,m=12,d=21;\n\t\t\twhile(GetDays(y,m,d)<maya)y+=400;\n\t\t\twhile(GetDays(y,m,d)>maya+365)y--;\n\t\t\tif(uruY(y)){\n\t\t\t\tfor(m=1;m<=12;m++){\n\t\t\t\t\tfor(d=1;d<=ud[m-1];d++){\n\t\t\t\t\t\tif(GetDays(y,m,d)==maya)break;\n\t\t\t\t\t}\n\t\t\t\t\tif(GetDays(y,m,d)==maya)break;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tfor(m=1;m<=12;m++){\n\t\t\t\t\tfor(d=1;d<=nd[m-1];d++){\n\t\t\t\t\t\tif(GetDays(y,m,d)==maya)break;\n\t\t\t\t\t}\n\t\t\t\t\tif(GetDays(y,m,d)==maya)break;\n\t\t\t\t}\n\t\t\t}\n\t\t\tprintf(\"%lld.%lld.%lld\\n\",y,m,d);\n\t\t}\n\t}\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <cmath>\n#include <algorithm>\n#include <stack>\n#include <queue>\n#include <vector>\n\nusing namespace std;\n\nint monthTable[13] = {0,31,28,31,30,31,30,31,31,30,31,30,31};\nint monthTable2[13] = {0,31,29,31,30,31,30,31,31,30,31,30,31};\n\nbool isLeapYear(int year){\n\tif(year % 4 == 0){\n\t\tif(year % 100 == 0){\n\t\t\tif(year % 400 == 0){\n\t\t\t\treturn true;\n\t\t\t}else{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}else{\n\t\t\treturn true;\n\t\t}\n\t}else{\n\t\treturn false;\n\t}\n}\n\nint main(){\n\n\tlong long int sum,tmp,year,month,day,b,ka,t,w,ki,NUMBER = 735224;\n\tint count,status;\n\tchar buf[100];\n\n\twhile(true){\n\t\tscanf(\"%s\",buf);\n\t\tif(buf[0] == '#')break;\n\n\t\tcount = 0;\n\n\t\tfor(int i = 0;buf[i] != '\\0';i++){\n\t\t\tif(buf[i] == '.')count++;\n\t\t}\n\n\t\tsum = 0;\n\t\tif(count == 2){ //?\\?????????\\??????????????´???\n\t\t\tstatus = 0;\n\t\t\ttmp = 0;\n\t\t\t//???????????´???????????\\?????????\n\t\t\tfor(int i = 0; buf[i] != '\\0';i++){\n\t\t\t\tif(buf[i] >= '0' && buf[i] <= '9'){\n\t\t\t\t\ttmp = 10*tmp+(buf[i]-'0');\n\n\t\t\t\t\tif(buf[i+1] == '\\0'){\n\t\t\t\t\t\tday = tmp;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(status == 0){\n\t\t\t\t\t\tyear = tmp;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tmonth = tmp;\n\t\t\t\t\t}\n\t\t\t\t\tstatus++;\n\t\t\t\t\ttmp = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(year == 2012){\n\t\t\t\tsum = day - 21;\n\t\t\t}else{\n\n\t\t\t\tsum += 10;\n\n\t\t\t\t//2013???year-1??´?????§?????\\??°???????¨?\n\t\t\t\tfor(int i = 2013; i <= year-1; i++){\n\t\t\t\t\tif(isLeapYear(i))sum += 366;\n\t\t\t\t\telse{\n\t\t\t\t\t\tsum += 365;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor(int i = 1; i <= month-1; i++){\n\t\t\t\t\tif(i == 2 && isLeapYear(year) == true){\n\t\t\t\t\t\tsum += 29;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tsum += monthTable[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tsum += day;\n\t\t\t}\n\n\t\t\tprintf(\"%lld.\",(sum/144000)%13);\n\t\t\tsum %= 144000;\n\t\t\tprintf(\"%lld.\",sum/7200);\n\t\t\tsum %= 7200;\n\t\t\tprintf(\"%lld.\",sum/360);\n\t\t\tsum %= 360;\n\t\t\tprintf(\"%lld.\",sum/20);\n\t\t\tsum %= 20;\n\t\t\tprintf(\"%lld\\n\",sum);\n\n\t\t}else{ //????????´?????\\??????????????´???\n\t\t\tstatus = 0;\n\t\t\ttmp = 0;\n\n\t\t\tfor(int i = 0; buf[i] != '\\0';i++){\n\t\t\t\tif(buf[i] >= '0' && buf[i] <= '9'){\n\t\t\t\t\ttmp = 10*tmp + (buf[i] - '0');\n\n\t\t\t\t\tif(buf[i+1] == '\\0'){\n\t\t\t\t\t\tki = tmp;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(status == 0){\n\t\t\t\t\t\tb = tmp;\n\t\t\t\t\t}else if(status == 1){\n\t\t\t\t\t\tka = tmp;\n\t\t\t\t\t}else if(status == 2){\n\t\t\t\t\t\tt = tmp;\n\t\t\t\t\t}else if(status == 3){\n\t\t\t\t\t\tw = tmp;\n\t\t\t\t\t}\n\t\t\t\t\tstatus++;\n\t\t\t\t\ttmp = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tsum = 144000*b+7200*ka+360*t+20*w+ki + NUMBER;\n\n\t\t\tyear = 0,month = 1;\n\n\t\t\tfor(int i = 0;sum > 366; i++){\n\t\t\t\tif(isLeapYear(i)){\n\t\t\t\t\tsum -= 366;\n\t\t\t\t}else{\n\t\t\t\t\tsum -= 365;\n\t\t\t\t}\n\t\t\t\tyear++;\n\t\t\t}\n\n\t\t\tif((sum <= 365) || (sum == 366 && isLeapYear(year))){\n\n\t\t\t\tif(isLeapYear(year)){\n\t\t\t\t\tfor(int i = 1; i <= 11 && sum > monthTable2[i+1];i++){\n\t\t\t\t\t\tsum -= monthTable2[i];\n\t\t\t\t\t\tmonth++;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tfor(int i = 1; i <= 11 && sum > monthTable[i+1];i++){\n\t\t\t\t\t\tsum -= monthTable[i];\n\t\t\t\t\t\tmonth++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else{ //?????¨366??\\??§??????year??????????????´??§??????\n\t\t\t\tyear++;\n\t\t\t\tmonth = 1;\n\t\t\t\tsum = 1;\n\t\t\t}\n\t\t\tprintf(\"%lld.%lld.%lld\\n\",year,month,sum);\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <cmath>\n#include <algorithm>\n#include <stack>\n#include <queue>\n#include <vector>\n\nusing namespace std;\n\nint monthTable[13] = {0,31,28,31,30,31,30,31,31,30,31,30,31};\nint monthTable2[13] = {0,31,29,31,30,31,30,31,31,30,31,30,31};\n\nbool isLeapYear(int year){\n\tif(year % 4 == 0){\n\t\tif(year % 100 == 0){\n\t\t\tif(year % 400 == 0){\n\t\t\t\treturn true;\n\t\t\t}else{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}else{\n\t\t\treturn true;\n\t\t}\n\t}else{\n\t\treturn false;\n\t}\n}\n\nint main(){\n\n\tlong long int sum,tmp,year,month,day,b,ka,t,w,ki,NUMBER = 735224;\n\tint count,status;\n\tchar buf[100];\n\n\twhile(true){\n\t\tscanf(\"%s\",buf);\n\t\tif(buf[0] == '#')break;\n\n\t\tcount = 0;\n\n\t\tfor(int i = 0;buf[i] != '\\0';i++){\n\t\t\tif(buf[i] == '.')count++;\n\t\t}\n\n\t\tsum = 0;\n\t\tif(count == 2){ //?\\?????????\\??????????????´???\n\t\t\tstatus = 0;\n\t\t\ttmp = 0;\n\t\t\t//???????????´???????????\\?????????\n\t\t\tfor(int i = 0; buf[i] != '\\0';i++){\n\t\t\t\tif(buf[i] >= '0' && buf[i] <= '9'){\n\t\t\t\t\ttmp = 10*tmp+(buf[i]-'0');\n\n\t\t\t\t\tif(buf[i+1] == '\\0'){\n\t\t\t\t\t\tday = tmp;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(status == 0){\n\t\t\t\t\t\tyear = tmp;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tmonth = tmp;\n\t\t\t\t\t}\n\t\t\t\t\tstatus++;\n\t\t\t\t\ttmp = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(year == 2012){\n\t\t\t\tsum = day - 21;\n\t\t\t}else{\n\n\t\t\t\tsum += 10;\n\n\t\t\t\t//2013???year-1??´?????§?????\\??°???????¨?\n\t\t\t\tfor(int i = 2013; i <= year-1; i++){\n\t\t\t\t\tif(isLeapYear(i))sum += 366;\n\t\t\t\t\telse{\n\t\t\t\t\t\tsum += 365;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor(int i = 1; i <= month-1; i++){\n\t\t\t\t\tif(i == 2 && isLeapYear(year) == true){\n\t\t\t\t\t\tsum += 29;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tsum += monthTable[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tsum += day;\n\t\t\t}\n\n\t\t\tprintf(\"%lld.\",(sum/144000)%13);\n\t\t\tsum %= 144000;\n\t\t\tprintf(\"%lld.\",sum/7200);\n\t\t\tsum %= 7200;\n\t\t\tprintf(\"%lld.\",sum/360);\n\t\t\tsum %= 360;\n\t\t\tprintf(\"%lld.\",sum/20);\n\t\t\tsum %= 20;\n\t\t\tprintf(\"%lld\\n\",sum);\n\n\t\t}else{ //????????´?????\\??????????????´???\n\t\t\tstatus = 0;\n\t\t\ttmp = 0;\n\n\t\t\tfor(int i = 0; buf[i] != '\\0';i++){\n\t\t\t\tif(buf[i] >= '0' && buf[i] <= '9'){\n\t\t\t\t\ttmp = 10*tmp + (buf[i] - '0');\n\n\t\t\t\t\tif(buf[i+1] == '\\0'){\n\t\t\t\t\t\tki = tmp;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(status == 0){\n\t\t\t\t\t\tb = tmp;\n\t\t\t\t\t}else if(status == 1){\n\t\t\t\t\t\tka = tmp;\n\t\t\t\t\t}else if(status == 2){\n\t\t\t\t\t\tt = tmp;\n\t\t\t\t\t}else if(status == 3){\n\t\t\t\t\t\tw = tmp;\n\t\t\t\t\t}\n\t\t\t\t\tstatus++;\n\t\t\t\t\ttmp = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tsum = 144000*b+7200*ka+360*t+20*w+ki + NUMBER;\n\n\t\t\tyear = 0,month = 1;\n\n\t\t\tfor(int i = 0;sum > 366; i++){\n\t\t\t\tif(isLeapYear(i)){\n\t\t\t\t\tsum -= 366;\n\t\t\t\t}else{\n\t\t\t\t\tsum -= 365;\n\t\t\t\t}\n\t\t\t\tyear++;\n\t\t\t}\n\n\t\t\tif((sum <= 365) || (sum == 366 && isLeapYear(year))){\n\n\t\t\t\tif(isLeapYear(year)){\n\t\t\t\t\tfor(int i = 1; i <= 11 && sum > monthTable2[i+1];i++){\n\t\t\t\t\t\tsum -= monthTable2[i];\n\t\t\t\t\t\tmonth++;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tfor(int i = 1; i <= 11 && sum > monthTable[i+1];i++){\n\t\t\t\t\t\tsum -= monthTable[i];\n\t\t\t\t\t\tmonth++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else{ //?????¨366??\\??§??????year??????????????´??§??????\n\t\t\t\tyear++;\n\t\t\t\tmonth = 1;\n\t\t\t\tsum = 1;\n\t\t\t}\n\t\t\tprintf(\"%lld.%lld.%lld\\n\",(year)%10000001,month,sum);\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<sstream>\n#include<vector>\n#include<cmath>\nusing namespace std;\n\ntypedef long long ll;\n\nll Fliegel(ll y,ll m, ll d){\n  if(m<=2){ y--; m+=12; }\n  return (ll)floor(365.25*y) + y/400 - y/100 + floor(30.59*(m-2)) + d - 678912;\n}\n\nint main(){\n  string s;\n  ll a[3],b[5];\n  ll base = Fliegel(2012,12,21);\n  ll ul[] = {20,18,20,20,13};\n  ll month[] = {0,31,28,31,30,31,30,31,31,30,31,30,31};\n\n  while(cin >> s, s!=\"#\"){\n    int num = 0;\n    for(int i=0;i<s.size();i++)if(s[i]=='.'){\n\ts[i] = ' '; num++;\n      }\n\n    if(num==2){\n      stringstream ss(s);\n      ss >> a[0] >> a[1] >> a[2];\n      ll days = Fliegel(a[0],a[1],a[2]) - base;\n      days %= 1872000;\n      for(int i=0;i<5;i++){\n\tb[4-i] = days % ul[i]; days /= ul[i];\n      }\n      printf(\"%lld.%lld.%lld.%lld.%lld\\n\",b[0],b[1],b[2],b[3],b[4]);\n    }else{\n      stringstream ss(s);\n      ss >> b[0] >> b[1] >> b[2] >> b[3] >> b[4];\n      ll days = 0, k = 1;\n      for(int i=0;i<5;i++){\n\tdays += b[4-i] * k; k *= ul[i];\n      }\n      \n      a[0] = 2012; a[1] = 12; a[2] = 21;\n      while(days--){\n\ta[2]++;\n\tif(a[1] == 2){\n\t  if(!(a[0]%400)){\n\t    if(a[2]>29){ a[1]++; a[2] = 1; }\n\t  }else if(!(a[0]%100)){\n\t    if(a[2]>28){ a[1]++; a[2] = 1; }\n\t  }else if(!(a[0]%4)){\n\t    if(a[2]>29){ a[1]++; a[2] = 1; }\n\t  }else{\n\t    if(a[2]>28){ a[1]++; a[2] = 1; }\n\t  }\n\t}else{\n\t  if(a[2]>month[a[1]]){ a[1]++; a[2] = 1; }\n\t}\n\tif(a[1]>12){ a[0]++; a[1] = 1; }\n      }\n      printf(\"%lld.%lld.%lld\\n\",a[0],a[1],a[2]);\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<ll> vl;\ntypedef complex<double> P;\ntypedef pair<int,int> pii;\n#define REP(i,n) for(ll i=0;i<n;++i)\n#define REPR(i,n) for(ll i=1;i<n;++i)\n#define FOR(i,a,b) for(ll i=a;i<b;++i)\n\n#define DEBUG(x) cout<<#x<<\": \"<<x<<endl\n#define DEBUG_VEC(v) cout<<#v<<\":\";REP(i,v.size())cout<<\" \"<<v[i];cout<<endl\n#define ALL(a) (a).begin(),(a).end()\n\n#define MOD (ll)(1e9+7)\n#define ADD(a,b) a=((a)+(b))%MOD\n#define FIX(a) ((a)%MOD+MOD)%MOD\n\nvector<string> split(string base, char spl){\n  vector<string> result;\n  string::size_type pos = 0;\n  string::size_type bef = 0;\n  base += spl;\n  while( (pos = base.find_first_of(spl,bef)) != string::npos ){\n    result.push_back(base.substr(bef,pos-bef));\n    bef = pos+1;\n  }\n  return result;\n}\n\nint toint(string s){\n  return atoi(s.c_str());\n}\n\n// year : 2013 ~ 2413 ( 1e7 )\n// month : 12\n// day : 31\nint maya_to_ad[150000];\nmap<int,int> ad_to_maya;\nint span;\n\nbool is_uruu(int y){\n  return (y%4==0 && (y%100!=0 || y%400==0));\n}\n\nint daylist[12] = {31,28,31,30,31,30,31,31,30,31,30,31};\n\nvoid calc(){\n  int y = 2012;\n  int m = 12;\n  int d = 21;\n  REP(i,150000){\n    int id = ((y*12)+(m-1))*31+(d-1);\n    maya_to_ad[i] = id;\n    ad_to_maya[id] = i;\n    if(y==2412 && m==12 && d==21) span = i;\n    ++d;\n    if(d > daylist[m-1]){\n      if(m==2 && is_uruu(y) && d==29){\n        // do nothing\n      }else if(m==12){\n        // next year\n        ++y;\n        m=1;\n        d=1;\n      }else{\n        // next month\n        ++m;\n        d=1;\n      }\n    }\n  }\n}\n\nint main(){\n  // mae shori\n  // 400 years\n  calc();\n  // input\n  while(true){\n    string s;\n    cin>>s;\n    if(s==\"#\")break;\n    vector<string> input = split(s,'.');\n    if(input.size()==3){\n      // year.month.day\n      int year = toint(input[0]);\n      int month = toint(input[1]);\n      int day = toint(input[2]);\n      int yeardown = (year-2013)/400;\n      year -= yeardown * 400;\n      int id = ((year*12)+(month-1))*31+(day-1);\n      // over flow\n      ll maya = ad_to_maya[id];\n      maya += (ll)yeardown * (ll)span;\n      maya %= 1872000;\n      int ki = maya%20; maya/=20;\n      int w = maya%18;  maya/=18;\n      int t = maya%20;  maya/=20;\n      int ka = maya%20; maya/=20;\n      int b = maya;\n      printf(\"%d.%d.%d.%d.%d\\n\",b,ka,t,w,ki);\n    }else{\n      // b.ka.t.w.ki\n      int b = toint(input[0]);\n      int ka = toint(input[1]);\n      int t = toint(input[2]);\n      int w = toint(input[3]);\n      int ki = toint(input[4]);\n      int id = ((((b*20)+ka)*20+t)*18+w)*20+ki;\n      int yearadd = id/span;\n      id %= span;\n      int ad = maya_to_ad[id];\n      int day = 1+ad%31;    ad/=31;\n      int month = 1+ad%12;  ad/=12;\n      int year = ad + yearadd*400;\n      printf(\"%d.%d.%d\\n\",year,month,day);\n    }\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nstd::vector<std::string> split(const std::string &str, char sep){\n    std::vector<std::string> v;\n    std::stringstream ss(str);\n    std::string buffer;\n    while( std::getline(ss, buffer, sep) ) {\n        v.push_back(buffer);\n    }\n    return v;\n}\n\ninline bool reap(int y){\n    if(y%4==0 && y%100 != 0 ){\n        return true;\n    }\n    else if(y%400 == 0){\n        return true;\n    }\n    return false;\n}\n\nint main() {\n\n\n    string s;\n\n    while(1){\n\n        cin >> s;\n\n        if(s[0] == '#') break;\n\n        vector<string> vs = split(s,'.');\n\n        if(vs.size() == 3){\n            int b,ka,t,w,ki;\n            b = ka = t = w = ki = 0;\n\n            int y,m,d;\n\n            stringstream ss;\n\n            ss << vs[0]; ss >> y; ss.clear();\n            ss << vs[1]; ss >> m; ss.clear();\n            ss << vs[2]; ss >> d; ss.clear();\n\n            ki = d - 21;\n            d -= ki;\n\n            while(y!=2012){\n\n                while(m!=0){\n                    if(m == 1 || m == 3 || m == 5 || m == 7 || m == 8 || m == 10 || m == 12){\n                        ki += 31;\n                    }\n                    else if(m == 4 || m == 6 || m == 9 || m == 11){\n                        ki += 30;\n                    }\n                    else if(m == 2 && reap(y)){\n                        ki += 29;\n                    }\n                    else{\n                        ki += 28;\n                    }\n                    m--;\n                }\n\n                if(ki>=20){\n                    w += ki/20;\n                    ki %= 20;\n                }\n                if(w>=18){\n                    t += w/18;\n                    w %= 18;\n                }\n                if(t>=20){\n                    ka += t/20;\n                    t %= 20;\n                }\n                if(ka>=20){\n                    b += ka/20;\n                    ka %= 20;\n                }\n                if(b>=13){\n                    b %= 13;\n                }\n\n                m = 12;\n\n                y--;\n\n            }\n\n            if(ki>=20){\n                w += ki/20;\n                ki %= 20;\n            }\n            if(w>=18){\n                t += w/18;\n                w %= 18;\n            }\n            if(t>=20){\n                ka += t/20;\n                t %= 20;\n            }\n            if(ka>=20){\n                b += ka/20;\n                ka %= 20;\n            }\n            if(b>=13){\n                b %= 13;\n            }\n\n            printf(\"%d.%d.%d.%d.%d\\n\",b,ka,t,w,ki);\n\n\n        }\n        else{\n\n            long long int day = 0;\n\n            long long int b,ka,t,w,ki;\n            b = ka = t = w = ki = 0;\n\n            long long int y,m,d;\n\n            stringstream ss;\n\n            ss << vs[0]; ss >> b; ss.clear();\n            ss << vs[1]; ss >> ka; ss.clear();\n            ss << vs[2]; ss >> t; ss.clear();\n            ss << vs[3]; ss >> w; ss.clear();\n            ss << vs[4]; ss >> ki; ss.clear();\n\n            day = ki + w*20 + t*20*18 + ka*20*18*20 + b*20*18*20*20;\n\n            y = 2012; m = 12; d = 21;\n\n            if(day > 10){\n                y++; m = 1; d = 1; day -= 11;\n            }\n            else{\n                d += day;\n                day = 0;\n            }\n\n            while(day!=0){\n\n                if(m == 1 || m == 3 || m == 5 || m == 7 || m == 8 || m == 10){\n                    if(day >= 31){\n                        m++;\n                        day -= 31;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }\n                }\n                else if(m == 4 || m == 6 || m == 9 || m == 11){\n                    if(day >= 30){\n                        m++;\n                        day -= 30;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }\n                }\n                else if(m == 2 && reap(y)){\n                    if(day >= 29){\n                        m++;\n                        day -= 29;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }\n                }\n                else if(m == 2){\n                    if(day >= 28){\n                        m++;\n                        day -= 28;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }\n                }\n                else if(m == 12) {\n                    if(day >= 31){\n                        m = 1;\n                        y++;\n                        day -= 31;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }\n                }\n\n            }\n\n\n            printf(\"%d.%d.%d\\n\",y,m,d);\n\n\n        }\n\n    }\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define LL long long int\n#define INF 734858\nusing namespace std;\nint main(void)\n{\n\tLL b,ka,t,w,ki,y,m,d,sum,cnt,mon,day,year;\n\tLL i,j,k;\n\tLL maya[5]={144000,7200,360,20,1};\n\tLL month[2][12]={\n\t\t\t\t\t{31,28,31,30,31,30,31,31,30,31,30,31},\n\t\t\t\t\t{31,29,31,30,31,30,31,31,30,31,30,31}\n\t\t\t\t\t};\n\tchar s[100];\n\twhile(1) {\n\t\tcin>>s;\n\t\tif(s[0]=='#') break;\n\t\tcnt=0;\n\t\tfor(i=0;i<strlen(s);i++) {\n\t\t\tif(s[i]=='.') cnt++;\n\t\t}\n\t\tif(cnt==2) { //?\\?????????????\n\t\t\tsum=0;\n\t\t\tstring sum2;\n\t\t\tsum2=s[0];\n\t\t\tfor(i=1;i<strlen(s);i++) {\n\t\t\t\tif(s[i]=='.') break;\n\t\t\t\telse sum2+=s[i];\n\t\t\t}\n\t\t\tint mx;\n\t\t\tmx=atoi(sum2.c_str());\n\t\t\t//sum=?\\????????¨? \n\t\t\tfor(i=1;i<mx;i++) {\n\t\t\t\tif(i%4==0&&i%100!=0||i%400==0) sum+=366;\n\t\t\t\telse sum+=365;\n\t\t\t}\n\t\t\t//?????°????¨????\n\t\t\tint f=0;\n\t\t\tfor(i=0;i<strlen(s);i++) {\n\t\t\t\tif(s[i]=='.'&&s[i+2]=='.') {\n\t\t\t\t\tsum2=s[i+1];\n\t\t\t\t\tif(f==0) mon=atoi(sum2.c_str());\n\t\t\t\t\telse day=atoi(sum2.c_str());\n\t\t\t\t\tf=1;\n\t\t\t\t}\n\t\t\t\telse if(s[i]=='.'&&s[i+2]!='.') {\n\t\t\t\t\tsum2=s[i+1];\n\t\t\t\t\tsum2+=s[i+2];\n\t\t\t\t\tif(f==0) mon=atoi(sum2.c_str());\n\t\t\t\t\telse day=atoi(sum2.c_str());\n\t\t\t\t\tf=1;\n\t\t\t\t}\n\t\t\t}\n\t\t\t//cout<<mon<<\" \"<<day<<endl;\n\t\t\t//?????°???sum????¶?????????????????????´??¨????????§????????¨?????????????????????\n\t\t\tint test=0;\n\t\t\tfor(i=0;i<mon-1;i++) {\n\t\t\t\tif(mx%4==0&&mx%100!=0||mx%400==0) sum+=month[1][i];\n\t\t\t\telse sum+=month[0][i];\n\t\t\t}\n\t\t\t//??\\????????????????????§???????????§??????????????§?????\\??§?¨????\n\t\t\tsum+=day,sum-=INF;\n\t\t\tb=sum/maya[0],sum=sum%maya[0];\n\t\t\tka=sum/maya[1],sum=sum%maya[1];\n\t\t\tt=sum/maya[2],sum=sum%maya[2];\n\t\t\tw=sum/maya[3],ki=sum%maya[3];\n\t\t\tcout<<b%13<<\".\"<<ka%20<<\".\"<<t%20<<\".\"<<w%18<<\".\"<<ki%20<<endl;\n\t\t}\n\t\telse { //??????????\\????\n\t\t\tsum=0;\n\t\t\tLL swi=1,x;\n\t\t\tstring sum3;\n\t\t\t//????????????????????§???\n\t\t\tif(s[1]=='.') sum3=s[0],sum+=atoi(sum3.c_str())*maya[0];\n\t\t\telse if(s[1]!='.') sum3=s[0],sum3+=s[1],sum+=atoi(sum3.c_str())*maya[0];\n\t\t\tfor(i=0;i<strlen(s);i++) {\n\t\t\t\tif(s[i]=='.'&&s[i+2]=='.') {\n\t\t\t\t\tsum3=s[i+1];\n\t\t\t\t\tsum+=atoi(sum3.c_str())*maya[swi];\n\t\t\t\t\tswi++;\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\telse if(s[i]=='.'&&s[i+2]!='.') {\n\t\t\t\t\tsum3=s[i+1],sum3+=s[i+2];\n\t\t\t\t\tsum+=atoi(sum3.c_str())*maya[swi];\t\n\t\t\t\t\tswi++;\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t//\tcout<<sum<<endl;\n\t\t\tint zan=10;//zan???21????£????10???????´????????????????sum?????????10???????????????\n\t\t\tif(sum<11) {\n\t\t\t\tcout<<\"2012.12.\"<<sum+21<<endl;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tsum-=10;\n\t\t\t\tint suu=2013;\n\t\t\t\twhile(1) {\n\t\t\t\t\tif(suu%4==0&&suu%100!=0||suu%400==0) {\n\t\t\t\t\t\tif(sum>366) {\n\t\t\t\t\t\t\tsum-=366;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if(sum==366) {\n\t\t\t\t\t\t\tsum-=366;\n\t\t\t\t\t\t\tmon=12,day=31;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tmon=1;\n\t\t\t\t\t\t\tfor(i=0;i<12;i++) {\n\t\t\t\t\t\t\t\tif(sum>=month[1][i]) {\n\t\t\t\t\t\t\t\t\tif(sum-month[1][i]==0) break;\n\t\t\t\t\t\t\t\t\tsum-=month[1][i];\n\t\t\t\t\t\t\t\t\tmon++;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tday=sum;\n\t\t\t\t\t\t\tsum=0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif(sum>365) {\n\t\t\t\t\t\t\tsum-=365;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if(sum==365) {\n\t\t\t\t\t\t\tsum-=365;\n\t\t\t\t\t\t\tmon=12,day=31;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tmon=1;\n\t\t\t\t\t\t\t//cout<<\"sum==\"<<sum<<endl;\n\t\t\t\t\t\t\tfor(i=0;i<12;i++) {\n\t\t\t\t\t\t\t\tif(sum>=month[0][i]) {\n\t\t\t\t\t\t\t\t\tif(sum-month[0][i]==0) break;\n\t\t\t\t\t\t\t\t\tsum-=month[0][i];\n\t\t\t\t\t\t\t\t\tmon++;\n\t\t\t\t\t\t\t\t\t//cout<<\"sum==\"<<sum<<endl;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tday=sum;\n\t\t\t\t\t\t\tsum=0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(sum==0) break;\n\t\t\t\t\tsuu++;\n\t\t\t\t}\n\t\t\t\tcout<<suu<<\".\"<<mon<<\".\"<<day<<endl;\n\t\t\t}\n\t\t}\n\t}\n}\n\t"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\n#define REP(i,s,n) for(int i=s;i<n;i++)\n#define rep(i,n) REP(i,0,n)\n\nusing namespace std;\n\ntypedef long long ll;\n\n                //  0   1  2   3    4  5   6    7  8   9  10 11 12\nll  days[2][13] = {{0,31,28,31,30,31,30,31,31,30,31,30,31},\n\t\t           {0,31,29,31,30,31,30,31,31,30,31,30,31}};//leap year\n\nbool isLeap(ll year) { return ((year%4LL) == 0LL && (year%100LL) != 0LL || ( year % 400LL ) == 0LL); }\n\nvoid compute(vector<int> vec){\n  if( vec.size() == 3 ) {\n    ll y = vec[0], m = vec[1], d = vec[2];\n    ll counter = 0;\n    if( y == 2012 ) {\n      assert( m == 12 );\n      counter = d - 21;\n      assert( counter >= 0 );\n    } else {\n      counter = d;\n      REP(month,1,m) counter += days[isLeap(y)][month];\n      REP(year,2013,y) REP(month,1,12+1) counter += days[isLeap(year)][month];\n      counter += 10LL;\n    }\n    ll limit = 13LL * ( 20LL * 20LL * 18LL * 20LL );\n    while( counter > limit ) counter -= limit;\n    ll b,ka,t,w,ki,temp;\n    b = ka = t = w = ki = 0;\n    ki = counter % 20LL;\n    temp = counter - ki;\n    assert( temp % 20LL == 0 );\n    int total_winaru = temp / 20LL;\n    w = total_winaru % 18LL;\n    temp -= w * 20LL;\n    assert( temp % (18LL*20LL) == 0 );\n    int total_toun = temp / ( 18LL * 20LL );\n    t = total_toun % 20LL;\n    temp -= t * 20LL * 18LL;\n    assert( temp % ( 20LL * 18LL * 20LL ) == 0 );\n    int total_katoun = temp / ( 20LL * 18LL * 20LL );\n    ka = total_katoun % 20LL;\n    temp -= ka * 20LL * 18LL * 20LL;\n    assert( temp % ( 20LL * 18LL * 20LL * 20LL ) == 0);\n    int total_bakutoun = temp / ( 20LL * 18LL * 20LL * 20LL );\n    b = total_bakutoun;\n    temp -= b * 20LL * 18LL * 20LL * 20LL;\n    assert( temp == 0 );\n    cout << b << \".\" << ka << \".\" << t << \".\" << w << \".\" << ki << endl;\n  } else {\n    ll counter = 0;\n    counter += ll(vec[0]) * 20LL * 20LL * 18LL * 20LL;\n    counter += ll(vec[1]) * 20LL * 18LL * 20LL;\n    counter += ll(vec[2]) * 18LL * 20LL;\n    counter += ll(vec[3]) * 20LL;\n    counter += ll(vec[4]);\n    ll Y = 2012, M = 12,O = 21LL+counter;\n\n    while( !( 1LL <= O && O <= days[isLeap(Y)][M] ) ){\n      O -= days[isLeap(Y)][M];\n      ++M;\n      if( M > 12LL ) { M = 1; ++Y; }\n    }\n    cout << Y << \".\" << M << \".\" << O << endl;\n  }\n}\n\nint main(){\n  string s;\n  while( cin >> s, s[0] != '#' ){\n    rep(i,s.size()) if( s[i] == '.' ) s[i] = ' ';\n    stringstream ss;\n    ss << s;\n    vector<int> vec;\n    int temp;\n    while( !( ss >> temp ).fail() ) vec.push_back(temp);\n    compute(vec);\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <ctype.h>\n \nchar *gets(char *);\nchar buf[100], *p;\n \nint getInt(void)\n{\n    int n = 0;\n    while (isspace(*p) || *p == '.') p++;\n    if (!*p) return -1;\n    while (isdigit(*p)) n = 10 * n + (*p++ - '0');\n    return n;\n}\n \n#define MAGIC 2456283       // 2012.12.21\n \nlong long greg2jd(int year, int month, int day)\n{\n    long long a, y, m;\n    long long j;\n \n    a = (14 - month) / 12;\n    y = year + 4800 - a;\n    m = month + 12 * a - 3;\n    j = day + (153 * m + 2) / 5 + 365 * y + y / 4 - y / 100 + y / 400 - 32045;\n    return j;\n}\n \nint jd2greg(int *year, int *month, int *day, int jd)\n{\n    int a, b, c;\n    int d, e, m;\n    int yy;\n    int m1;\n \n    a = jd + 32044;\n    b = (4 * a + 3) / 146097;\n    c = a - (146097 * b) / 4;\n    d = (4 * c + 3) / 1461;\n    e = c - (1461 * d) / 4;\n    m = (5 * e + 2) / 153;\n    m1 = m / 10;\n    *day = e - (153 * m + 2) / 5 + 1;\n    *month = m + 3 - 12 * m1;\n    yy = 100 * b + d - 4800 + m1;\n    if (yy <= 0) { *year = -yy + 1; return -1; }\n    *year = yy; return 1;\n}\n \nint main()\n{\n    int b, ka, t, w, ki;\n    int y, m, d;\n    int a, k;\n    long long x;\n \n    while (1) {\n        gets(p = buf);\n        if (*p == '#') break;\n        y = getInt(), m = getInt(), d = getInt(), a = getInt();\n        if (a >= 0) {  // maya -> Gregorian\n            b = y, ka = m, t = d, w = a, ki = getInt();\n            k = (((20 * b + ka) * 20 + t) * 18 + w) * 20 + ki;\n            k += MAGIC;\n            jd2greg(&y, &m, &d, k);\n            printf(\"%d.%d.%d\\n\", y, m, d);\n        }\n        else {\n            x = (greg2jd(y, m, d) - MAGIC) % 1872000;\n            k = (int)x;\n            b = k / 144000, k %= 144000;\n            ka = k / 7200, k %= 7200;\n            t = k / 360, k %= 360;\n            w = k / 20, ki = k % 20;\n            printf(\"%d.%d.%d.%d.%d\\n\", b, ka, t, w, ki);\n        }\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<climits>\nusing namespace std;\n\n#define loop(i, a, b) for(int i = a; i < b; i++)\n#define rep(i, a) loop(i, 0, a)\n#define int long long\n//#define %%lld %%d\n\nvoid to_maya(int y, int m, int d);\nvoid to_sei(int b, int ka, int t, int w, int ki);\nint leap_count(int base,  int y);\n\nsigned main()\n{\n  // printf(\"long long max: %lld\\n\", LLONG_MAX);\n  char date[100];\n  while(cin >> date) {\n    int a = 0, b = 0, c = 0, d = 0, e = 0;\n    int cnt = sscanf(date, \"%lld.%lld.%lld.%lld.%lld\", &a, &b, &c, &d, &e);\n\n    if(cnt == 3) {\n      //     cout << '3'<<endl;\n      to_maya(a, b, c);\n    }\n    else if(cnt == 5){\n      //  cout << '5' << endl;\n      to_sei(a, b, c, d, e);\n    }\n    else if(date[0] == '#') {\n      //    cout << '#';\n      break;\n    }\n    // cout << date;\n  }\n}\n\n\nint leap_count(int base,  int y)\n{\n  int cnt = 0;\n  loop(i, base, y + 1)\n    if(i % 400 == 0) cnt++;\n    else if(i % 100 && i % 4 == 0) cnt++;\n  return cnt;\n}\n\n\nvoid to_maya(int y, int m, int d)\n{\n  int days = 0;\n  int leap = leap_count(2013, y);\n  if( y != 2012 ) {\n    //    cout << leap << endl;\n    days += ( y - 2013 - leap ) * 365 + leap * 366 + 10;\n    //  cout << days << endl;\n    loop(i, 1, m){\n      if(i == 1 || i == 3 || i == 5 || i == 7 || i == 8 || i == 10 || i == 12)\n\tdays += 31;\n      if(i == 4 || i == 6 || i == 9 || i == 11)\n\tdays += 30;\n      if(i == 2) {\n\tdays += 28;\n\t//cout << leap_count(y,y) << endl;\n\tif(leap_count(y, y)) {\n\t  days++;\n\t  // cout << \"leap\" << endl;\n\t}\n      }\n    }\n    days += d;\n    if(leap_count(y,y)) days--;\n  }\n  else days += (d - 21);\n  \n  days -=  days / (13 * 20 * 18 * 20 * 20) * (13 * 20 * 18 * 20 * 20);\n  int b = days / (20 * 18 * 20 * 20); days -= b * 20 * 20 * 18 * 20;\n  //cout << days << endl;\n  int ka =  days / (20 * 18 * 20); days -= ka * 20 * 18 * 20;\n  //cout << days << endl;\n  int t = days / (20 * 18); days -= t * 18 * 20;\n  //cout << days << endl;\n  int w = days / 20; days -= w * 20;\n  //  cout << days << endl;\n  int ki = days; days -= ki;\n  //  cout << days << endl;\n  \n  printf(\"%lld.%lld.%lld.%lld.%lld\\n\", b, ka, t, w, ki);\n}\n\nvoid to_sei(int b, int ka, int t, int w, int ki)\n{\n  int days = 0, y = 2013, m = 1, d = 1, until;\n  days += b * 20 * 18 * 20 * 20 + ka * 20 * 18 * 20 + t * 20 * 18 + w * 20 + ki;\n  if(days > 10) {\n    days -= 11;\n    while(1) {\n      if(leap_count(y, y)) {\n\tif(days - 366 >= 0) days -= 366;\n\telse break;\n      }\n      else if(days - 365 >= 0) days -= 365;\n      else break;\n      y++;\n      //cout << 'y' << y << endl;\n    }\n\n    while(1) {\n      d = 1;\n      if(m == 1 || m == 3 || m == 5 || m == 7 || m == 8 || m == 10 || m == 12)\n\tuntil = 31;\n      if(m == 4 || m == 6 || m == 9 || m == 11)\n\tuntil = 30;\n      if(m == 2) {\n\tuntil = 28;\n\t//cout << leap_count(y,y) << endl;\n\tif(leap_count(y, y)) {\n\t  until = 29;\n\t  // cout << \"leap\" << endl;\n\t}\n      }\n      //cout << 'm' << m << endl;\n      loop(i, 1, until + 1) {\n\t//cout << 'd' << d << endl;\n\td++;\n\tif(days == 0) break;\n\telse days--;\n      }\n      if(days == 0) break;\n      if(m == 12) m = 1;\n      else m++;\n    }\n    cout << y << '.' << m << '.' << d - 1 << endl;\n  }\n  else {\n    cout << \"2012.12.\" << days + 21 << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "\n#include <iostream>\n#include <cstdio>\n#include <algorithm>\n#include <string>\n#include <vector>\n#include <queue>\n#include <map>\n#include <set>\n#include <functional>\n#include <cmath>\n#include <complex>\n#include <cctype>\n#include <cassert>\n#include <sstream>\n#include <ctime>\n#include <cstdlib>\n#include <cstring>\n#include <deque>\n\nusing namespace std;\n\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define REP(i,n) FOR(i,0,n)\n#define ALL(v) (v).begin(),(v).end()\n#define fi first\n#define se second\n\ntemplate<typename A, typename B> inline bool chmax(A &a, B b) { if (a<b) { a=b; return 1; } return 0; }\ntemplate<typename A, typename B> inline bool chmin(A &a, B b) { if (a>b) { a=b; return 1; } return 0; }\n\ntypedef long long ll;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\ntypedef pair<int, pii> pip;\n\nconst ll INF = 1ll<<29;\nconst ll MOD = 1000000007;\nconst double EPS = 1e-10;\n\nll daycount(ll y, ll m, ll d) {\n\tif (m == 1 || m == 2) {\n\t\ty--;\n\t\tm = 12 + m;\n\t}\n\t\n\treturn 365*y + (y/4) - (y/100) + (y/400) + (306*(m+1)/10) + d - 429;\n}\n\nint main() {\n\tstring str;\n\twhile (cin >> str, str != \"#\") {\n\t\tstringstream ss;\n\t\tss << str;\n\t\t\n\t\tll y, m, d;\n\t\tll b, ka, t, w, ki;\n\t\t\n\t\tif (count(ALL(str), '.') == 2) {\n\t\t\tss >> y; ss.ignore();\n\t\t\tss >> m; ss.ignore();\n\t\t\tss >> d; ss.ignore();\n\t\t\t\n\t\t\tll days = daycount(y, m, d) - daycount(2012, 12, 21);\n\t\t\t\n\t\t\tki = days % 20; days /= 20;\n\t\t\tw = days % 18; days /= 18;\n\t\t\tt = days % 20; days /= 20;\n\t\t\tka = days % 20; days /= 20;\n\t\t\tb = days % 13;\n\t\t\t\n\t\t\tprintf(\"%lld.%lld.%lld.%lld.%lld\\n\", b, ka, t, w, ki);\n\t\t}\n\t\telse {\n\t\t\tss >> b; ss.ignore();\n\t\t\tss >> ka; ss.ignore();\n\t\t\tss >> t; ss.ignore();\n\t\t\tss >> w; ss.ignore();\n\t\t\tss >> ki; ss.ignore();\n\t\t\t\n\t\t\tll days = b; days *= 20;\n\t\t\tdays += ka; days *= 20;\n\t\t\tdays += t; days *= 18;\n\t\t\tdays += w; days *= 20;\n\t\t\tdays += ki;\n\t\t\tdays += daycount(2012, 12, 21);\n\t\t\t\n\t\t\tll l = 0, r = 1e8;\n\t\t\twhile (r - l > 1) {\n\t\t\t\t ll m = (l + r) / 2;\n\t\t\t\t ll now = daycount(m, 1, 1);\n\t\t\t\t if (now <= days) l = m;\n\t\t\t\t else r = m;\n\t\t\t}\n\t\t\ty = l;\n\t\t\t\n\t\t\tl = 0, r = 13;\n\t\t\twhile (r - l > 1) {\n\t\t\t\t ll m = (l + r) / 2;\n\t\t\t\t ll now = daycount(y, m, 1);\n\t\t\t\t if (now <= days) l = m;\n\t\t\t\t else r = m;\n\t\t\t}\n\t\t\tm = l;\n\t\t\t\n\t\t\td = days - daycount(y, m, 1) + 1;\n\t\t\t\n\t\t\tprintf(\"%lld.%lld.%lld\\n\", y, m, d);\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define int long long\n#define UNIQUE(v) v.erase(unique(all(v)), v.end());\n#define ZIP(v) sort(all(v)),UNIQUE(v)\n#define ADD(a, b) a = (a + b) % mod\n#define SUB(a, b) a = (a+mod-b)%mod\n#define MUL(a, b) a = (a * b) % mod\n#define repi(i,m,n) for(int i = m;i < n;i++)\n#define drep(i,n,m) for(int i = n;i >= m;i--)\n#define rep(i,n) repi(i,0,n)\n#define rrep(i,n) repi(i,1,n+1)\n#define chmin(x,y) x = min(x,y)\n#define chmax(x,y) x = max(x,y)\n#define all(v) v.begin(),v.end()\n#define rall(v) v.rbegin(), v.rend()\n#define dmp(x,y) make_pair(x,y)\n#define pb(x) push_back(x)\n#define fi first\n#define se second\ntypedef pair<int,int> P;\ntypedef pair<int, P> PP;\ntypedef pair<P, int> Pi;\ntypedef vector<int> vi;\ntypedef deque<int> dq;\nconst int inf = 1e9+7;\nconst int INF = 1e18+7;\n\nvi get_num(string str){\n\tstr.pb('.');\n\tstring s = \"\";\n\tvector<int> vec;\n\trep(i,str.size()){\n\t\tif(str[i] == '.'){\n\t\t\tvec.pb(atoll(s.c_str()));\n\t\t\ts = \"\";continue;\n\t\t}\n\t\ts.pb(str[i]);\n\t}\n\treturn vec;\n}\n\nint length_of_year(int y){ // 1-indexed\n  if(y%400 == 0 || ((y%100 != 0) && (y%4 == 0)))return 366;\n  return 365;\n}\n\nint length_of_month(int y, int m){ // 1-indexed\n  int monthes[12] = {31, 0, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\n    if(m != 2)return monthes[m-1];\n    if(length_of_year(y) == 366)return 29;\n    return 28;\n}\n\nint date_to_int(string date){ //ex) 2018.08.05\n\tvector<int> vec = get_num(date);\n\tint ans = 0;\n\tint y = vec[0], m = vec[1], d = vec[2];\n\trepi(i,1,y)ans += length_of_year(i);\n\trepi(i,1,m)ans += length_of_month(y, i);\n\treturn ans + d;\n}\n\nint maya_to_int(string date){\n\tvector<int> vec = get_num(date);\n\tint ans = 0, tmp = 1;\n\tint mask[] = {13, 20, 20, 18, 20};\n\tdrep(i,5-1,0){\n\t\tans += vec[i]*tmp;\n\t\ttmp *= mask[i];\n\t}\n\treturn ans;\n}\n\nstring to_str(int num){\n\t//return to_string(num);\n\tif(num == 0)return \"0\";\n\tstring s = \"\";\n\twhile(num > 0){\n\t\ts += ((num%10)+'0');\n\t\tnum /= 10;\n\t}\n\treverse(all(s));\n\treturn s;\n}\n\nstring anno_to_str(int date){\n\tint y = 1, m = 1;\n\tfor(int i = 1;length_of_year(i) < date;i++){date -= length_of_year(i);y++;}\n\tfor(int i = 1;length_of_month(y, i) < date;i++){date -= length_of_month(y, i);m++;}\n\tstring ans;\n\tans += to_str(y) + \".\";\n\tans += to_str(m) + \".\";\n\tans += to_str(date);\n\treturn ans;\n}\n\nstring maya_to_str(int date){\n\tint mark2[] = {13, 20, 20, 18, 20};\n\tint mark[5] = {}, ans[5] = {};\n\tint tmp = 20;\n\tdrep(i,3,0){mark[i] = tmp;tmp *= mark2[i];}\n\trep(i,4){\n\t\tans[i] = date/mark[i];\n\t\tdate -= mark[i]*(date/mark[i]);\n\t}ans[4] = date;\n\tstring str = \"\";\n\trep(i,4){\n\t\tstr += to_str(ans[i]%mark2[i]) + \".\";\n\t}\n\treturn str+to_str(ans[4]);\n}\n\nsigned main(){\n\tint B = date_to_int(\"2012.12.21\");\n\twhile(1){\n\t\tstring str;\n\t\tcin >> str;\n\t\tif(str == \"#\")break;\n\t\tif(get_num(str).size() == 3){\n\t\t\tint num = date_to_int(str)-B;\n\t\t\tcout << maya_to_str(num) << endl;\n\t\t}else{\n\t\t\tint num = maya_to_int(str)+B;\n\t\t\tcout << anno_to_str(num) << endl;\n\t\t}\n\t}\n\treturn 0;\n}\n\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <vector>\n#include <string>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <algorithm>\n\nusing namespace std;\n\n#define rep(i,j) REP((i), 0, (j))\n#define REP(i,j,k) for(int i=(j);(i)<(k);++i)\n#define BW(a,x,b) ((a)<=(x)&&(x)<=(b))\n#define ALL(v) (v).begin(), (v).end()\n#define LENGTHOF(x) (sizeof(x) / sizeof(*(x)))\n#define AFILL(a, b) fill((int*)a, (int*)(a + LENGTHOF(a)), b)\n#define MP make_pair\n#define PB push_back\n#define F first\n#define S second\n#define INF 1 << 30\n#define EPS 1e-10\n\ntypedef pair<int, int> pi;\ntypedef pair<int, pi> pii;\ntypedef vector<int> vi;\ntypedef queue<int> qi;\ntypedef long long ll;\n\nint m_day[] = {0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31, INF};\n\nll cSeireki(ll y, ll m,ll d){\n  ll ret = 0;\n  ret += (y-1)*365 + ((y-1)/4 - (y-1)/100 + (y-1)/400);\n  for(int i = 1; i < m; i++) ret += m_day[i];\n  ret += d;\n  if(m > 2){\n    if((y%4 == 0 && y%100)|| y%400 == 0) ret++;\n  }\n  return ret;\n}\n\nvoid to_mayan(ll y, ll m, ll d){\n  ll day = cSeireki(y, m, d) - cSeireki(2012, 12, 21);\n\n  ll b, ka, t, w, ki;\n  b = (day/(20*20*18*20))%13; day = day%(20*20*18*20);\n  ka = day/(20*18*20);   day = day%(20*18*20);\n  t = day/(18*20);       day = day%(18*20);\n  w = day/20;            day = day%20;\n  ki = day;\n  printf(\"%lld.%lld.%lld.%lld.%lld\\n\", b, ka, t, w, ki);\n}\n\nvoid to_seireki(ll b, ll ka, ll t, ll w, ll ki){\n  ll day = 0;\n  day += ki;\n  day += w*20;\n  day += t*18*20;\n  day += ka*20*18*20;\n  day += b*20*20*18*20;\n\n  ll y = 2012 , m = 12, d = 21;\n  while(day--){\n    if(m == 12 && d == 31){\n      y++;\n      m = 1;\n      d = 1;\n    }else{\n      int f = 0;\n      if(((y%4 == 0 && y%100) || y%400 == 0) && m == 2 ) f = 1;\n      d++;\n      if(m_day[m]+f < d){\n\td = 1;\n\tm++;\n      }\n    }\n    //    printf(\"%lld.%lld.%lld\\n\", y, m, d);\n  }\n\n  printf(\"%lld.%lld.%lld\\n\", y, m, d);\n\n  /*  ll lb = 0, ub = 10000001, mid, tmp;\n    while(ub - lb > 1){\n    mid = (lb + ub)/2;\n    //    printf(\"%lld\\n\", mid);\n    tmp = cSeireki(mid-1, 12, 31) - cSeireki(2012, 12, 21);\n    //    printf(\"%lld %lld\\n\", day, tmp);\n    if(day >= tmp && day - tmp <= 365){\n      break;\n    }\n    if(day < tmp){\n      ub = mid;\n    }else{\n      lb = mid;\n    }\n  }\n\n  ll y = mid;\n  if((y%4 == 0 && y%100) || y%400 == 0) m_day[2] = 29;\n  day -= tmp;\n  ll m = 1;\n  while(day > m_day[m]){\n    day -= m_day[m];\n    m++;\n  }\n  m_day[2] = 28; */\n\n  //  printf(\"%lld.%lld.%lld\\n\", y, m, day); \n}\n\nint main(){\n  char str[128];\n  while(scanf(\"%s\", str) && str[0] != '#'){\n    int c = 0;\n    rep(i, strlen(str)) if(str[i] == '.') c++;\n    if(c == 2){\n      ll y, m, d;\n      sscanf(str, \"%lld.%lld.%lld\", &y, &m, &d);\n      to_mayan(y, m, d);\n    }else{\n      ll b, ka, t, w, ki;\n      sscanf(str, \"%lld.%lld.%lld.%lld.%lld\", &b, &ka, &t, &w, &ki);\n      to_seireki(b, ka, t, w, ki);\n    }\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\nint ms[12]={0,31,59,90,120,151,181,212,243,273,304,334},g[5]={144000,7200,360,20,1};\n\nvoid ymbk(int *b) {\n\tint i,k;\n\tlong long d,a;\n\ta=b[0]-1;\n\td=a*365+a/4-a/100+a/400; a++;\n\tif (b[1]>1 && ((a % 4==0 && a % 100!=0) || a % 400==0)) d++;\n\td=(d+ms[b[1]-1]+b[2]-734858) % 1872000;\n\tfor (i=0;i<5;i++) {\n\t\tk=d/g[i];\n\t\tcout << k; if (i!=4) cout << '.';\n\t\td-=k*g[i];\n\t}\n\tcout << endl;\n  }\nvoid bkym(int *b) {\n\t  int i,e,c,y,m,d,h;\n\t  for (i=d=0;i<5;i++) d+=g[i]*b[i];\n\t  d+=734858;\n\t  for (y=d/366; y<=d/365; y++) {\n\t\t  e=y*365+y/4-y/100+y/400;\n\t\t  if (e+1>d) break;\n\t  }\n\t  d-=(y-1)*365+(y-1)/4-(y-1)/100+(y-1)/400;\n\t  for (m=1,c=h=0;m<12;m++) {\n\t  if (m>1 && ((y % 4==0 && y % 100!=0) || y % 400==0)) c=1;\n\t  if (d>h && d<=ms[m]+c) break;\n\t  h=ms[m]+c;\n     }\n      d-=h;\n      cout << y << '.' << m << '.' << d << endl;\n  } \n  \nint main() {\n  int i,a,s,b[5];\n  char c[50];\n  while(true) {\n  cin >> c; a=0; s=0;\n  if (c[0]=='#') break;\n  for (i=0;c[i]!='\\0';i++,s*=10) {\n\t  if (c[i]!='.') s+=c[i]-'0';\n\t  if (c[i+1]=='.' || c[i+1]=='\\0') { b[a++]=s; s=0; }\n      }\n   if (a==3) ymbk(b); else bkym(b);\n   }\nreturn 0;\n} "
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n\n#define REP(i,k,n) for(int i=k;i<n;i++)\n#define rep(i,n) for(int i=0;i<n;i++)\n\nusing namespace std;\ntypedef long long ll;\n\nint month[13] = {0,31,28,31,30,31,30,31,31,30,31,30,31};\n\nvector<string> split(const string &str, char delim)\n{\n    vector<string> res;\n    size_t current = 0, found;\n\twhile((found = str.find_first_of(delim, current)) != string::npos)\n    {\n\t    res.push_back(string(str, current, found - current));\n\t    current = found + 1;\n    }\n    res.push_back(string(str, current, str.size() - current));\n    return res;\n}\n\nbool isLeapYear(int y)\n{\n\tif( (y%4 == 0 && y%100 != 0) || (y%400 == 0) ) return true;\n\telse return false;\n}\n\nll getLeapCount(ll y)\n{\n\tll ret = y/4;\n\tret -= y/100;\n\tret += y/400;\n\n\treturn ret;\n}\n\nll toDate(ll y,ll m,ll d)\n{\n\tll ret = 0;\n\n\tret += getLeapCount(y-1) * 366;\n\tret += (y-1 - getLeapCount(y-1)) * 365;\n\n\tREP(i,1,m)\n\t{\n\t\tif(i == 2)\n\t\t{\n\t\t\tif(isLeapYear(y)) ret += 29;\n\t\t\telse ret += 28;\n\t\t}\n\t\telse ret += month[i];\n\t}\n\n\tret += d;\n\n\treturn ret;\n}\n\nll toDate(ll b,ll ka,ll t,ll w,ll ki)\n{\n\tll ret = 0;\n\tret += b*20*20*18*20;\n\tret += ka * 20*18*20;\n\tret += t * 18*20;\n\tret += w * 20;\n\tret += ki;\n\n\treturn ret;\n}\n\nint main()\n{\n\tstring s;\n\twhile(cin >> s)\n\t{\n\t\tif(s == \"#\") break;\n\t\t\n\t\tvector<string> _s = split(s,'.');\n\t\n\t\tvector<ll> v;\n\t\tv.resize(_s.size());\n\t\trep(i,_s.size()) v[i] = atoll(_s[i].c_str());\n\n\t\tif(_s.size() == 3)\n\t\t{\n\t\t\tll date = (toDate(v[0],v[1],v[2]) - toDate(2012,12,21));\n\t\t\tdate %= 13*20*20*18*20;\n\t\t\t\n\t\t\tll b = 0,ka = 0,t = 0,w = 0,ki = 0;\n\t\t\t\n\n\t\t\twhile(date - 20*20*18*20 >= 0)\n\t\t\t{\n\t\t\t\tb++;\n\t\t\t\tdate -= 20*20*18*20;\n\t\t\t}\n\n\t\t\twhile(date - 20*18*20 >= 0)\n\t\t\t{\n\t\t\t\tka++;\n\t\t\t\tdate -= 20*18*20;\n\t\t\t}\n\n\t\t\twhile(date - 18*20 >= 0)\n\t\t\t{\n\t\t\t\tt++;\n\t\t\t\tdate -= 18*20;\n\t\t\t}\n\n\t\t\twhile(date - 20 >= 0)\n\t\t\t{\n\t\t\t\tw++;\n\t\t\t\tdate -= 20;\n\t\t\t}\n\t\t\t\n\t\t\tki = date;\n\t\t\t\n\t\t\tcout << b << \".\" << ka << \".\" << t << \".\" << w << \".\" << ki << endl;\n\n\t\t}\n\t\telse if(_s.size() == 5)\n\t\t{\n\t\t\tll date = toDate(v[0],v[1],v[2],v[3],v[4]) + toDate(2012,12,21);\n\t\t\tll y = 0,m = 0,d = 0;\n\t\t\t\n\t\t\twhile(true)\n\t\t\t{\n\t\t\t\tif(isLeapYear(y))\n\t\t\t\t{\n\t\t\t\t\tif(date - 366 >= 0)\n\t\t\t\t\t{\n\t\t\t\t\t\ty++;\n\t\t\t\t\t\tdate -= 366;\n\t\t\t\t\t}\n\t\t\t\t\telse break;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif(date - 365 >= 0)\n\t\t\t\t\t{\n\t\t\t\t\t\ty++;\n\t\t\t\t\t\tdate -= 365;\n\t\t\t\t\t}\n\t\t\t\t\telse break;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ty++;\n\n\t\t\tREP(i,1,13)\n\t\t\t{\n\t\t\t\tif(i == 2 && isLeapYear(y))\n\t\t\t\t{\n\t\t\t\t\tif(date - (month[i]+1) >= 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tm++;\n\t\t\t\t\t\tdate -= month[i]+1;\n\t\t\t\t\t}\n\t\t\t\t\telse break;\n\t\t\t\t}\n\t\t\t\telse if(date - month[i] >= 0)\n\t\t\t\t{\t\n\t\t\t\t\tm++;\n\t\t\t\t\tdate -= month[i];\n\t\t\t\t}\n\t\t\t\telse break;\n\t\t\t}\n\t\t\t\n\t\t\tm++;\n\t\t\td = date + 1;\n\n\n\t\t\tcout << y << \".\" << m << \".\" << d << endl;\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string> \nusing namespace std;\nint main(){\n  long long y,m,d,b,ka,t,w,ki;\n  int i,j,k,p;\n  long long day,base=0,ba=1872000;\n  int mo[]={0,31,28,31,30,31,30,31,31,30,31,30,31};\n  string str;\n  cin>> str;\n  while(str[0]!='#'){\n    y=0;m=0;d=0;i=0;day=0;p=0;\n    while(str[i]!='\\0'){\n      if(str[i]=='.') p++;\n      i++;\n    }\n    if(p==2){\n      i=0;\n      while(str[i]!='.') i++;\n      for(j=0;j<i;j++){\n\ty*=10;\n\ty+=str[j]-'0';\n      }\n      i++;\n      k=i;\n      while(str[i]!='.') i++;\n      for(j=k;j<i;j++){\n\tm*=10;\n\tm+=str[j]-'0';\n      } \n      i++;\n      k=i;\n      while(str[i]!='\\0') i++;\n      for(j=k;j<i;j++){\n\td*=10;\n\td+=str[j]-'0';\n      }\n      //cout << y << \" \" << m << \" \" << d << endl;\n      if(y==2012) {\n\tday=d-21;\n      }else{\n\tday=10;\n\tfor(i=2013;i<y;i++)\n\t  if((i%4==0&&i%100!=0)||i%400==0) day+=366;\n\t  else day+=365;\n\tfor(i=1;i<m;i++) day+=mo[i];\n\tif(2<m&&((y%4==0&&y%100!=0)||y%400==0)) day++;\n\tday+=d;\n      }\n      while(ba<day) day-=ba;\n      b=day%(13*20*20*18*20)/(20*20*18*20);\n      ka=day%(20*20*18*20)/(20*18*20);\n      t=day%(20*18*20)/(18*20);\n      w=day%(18*20)/20;\n      ki=day%(20);\n      cout << b << \".\" << ka << \".\" << t << \".\" << w << \".\" << ki << endl;\n    }else{\n      i=0;b=0;ka=0;t=0;w=0;ki=0;\n      while(str[i]!='.') i++;\n      for(j=0;j<i;j++){\n\tb*=10;\n\tb+=str[j]-'0';\n      }\n      i++;\n      k=i;\n      while(str[i]!='.') i++;\n      for(j=k;j<i;j++){\n\tka*=10;\n\tka+=str[j]-'0';\n      } \n      i++;\n      k=i;\n      while(str[i]!='.') i++;\n      for(j=k;j<i;j++){\n\tt*=10;\n\tt+=str[j]-'0';\n      }\n      i++;\n      k=i;\n      while(str[i]!='.') i++;\n      for(j=k;j<i;j++){\n\tw*=10;\n\tw+=str[j]-'0';\n      } \n      i++;\n      k=i;\n      while(str[i]!='\\0') i++;\n      for(j=k;j<i;j++){\n\tki*=10;\n\tki+=str[j]-'0';\n      }\n      //cout << b << \".\" << ka << \".\" << t << \".\" << w << \".\" << ki << endl;\n      day =b*20*20*18*20+ka*20*18*20+t*18*20+w*20+ki;\n      \n      y=2012;m=12;d=21;\n      if(day<=10) d+=day;\n      else{\n\tday-=10;\n\ty=2013;\n\twhile(day>365){\n\t  if((y%4==0&&y%100!=0)||y%400==0) day-=366;\n\t  else day-=365;\n\t  y++;\n\t}\n\tm=1;int flag=0;\n\t//cout << day << endl;\n\twhile(day>mo[m]&&flag==0){\n\t  if(m==2&&((y%4==0&&y%100!=0)||y%400==0)) {\n\t    if(day>29) {\n\t      day-=29;\n\t      m++;\n\t      \n\t    }else{\n\t      flag=1;\n\t    }\n\t  }else{\n\t    day-=mo[m];\n\t    m++;\n\t  }\n\t}\n\t//cout << day << endl;\n\td=day;\n      }\n      cout << y << \".\" << m << \".\" << d << endl;\n    }\n    cin >> str;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <climits>\n#include <cfloat>\n#include <ctime>\n#include <cassert>\n#include <map>\n#include <utility>\n#include <set>\n#include <iostream>\n#include <memory>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <functional>\n#include <sstream>\n#include <complex>\n#include <stack>\n#include <queue>\n#include <numeric>\n#include <list>\n#include <iomanip>\n#include <fstream>\n#include <bitset>\n   \nusing namespace std;\n   \n \n#define rep(i, n) for (int i = 0; i < (int)(n); ++i)\n#define foreach(it, c) for (__typeof__((c).begin()) it=(c).begin(); it != (c).end(); ++it)\n#define rforeach(it, c) for (__typeof__((c).rbegin()) it=(c).rbegin(); it != (c).rend(); ++it)\n#define all(c) (c).begin(), (c).end()\n#define rall(c) (c).rbegin(), (c).rend()\n#define CL(arr, val) memset(arr, val, sizeof(arr))\n#define COPY(dest, src) memcpy(dest, src, sizeof(dest))\n#define ten(n) ((long long)(1e##n))\n#define bin(n) (1LL << (n))\n#define erep(i, n) for (int i = 0; i <= (int)(n); ++i)\n#define revrep(i, n) for (int i = (n); i >= 0; --i)\n#define pb push_back\n\ntemplate <class T> void chmax(T& a, const T& b) { a = max(a, b); }\ntemplate <class T> void chmin(T& a, const T& b) { a = min(a, b); }\n\ntemplate <class T> T round_up(T a, T b) { return (a + b - 1) / b; }\n\ntemplate <class T> void uniq(vector<T>& c) { sort(c.begin(), c.end()); c.erase(unique(c.begin(), c.end()), c.end()); }\n \ntemplate <class T> string to_s(const T& a) { ostringstream os; os << a; return os.str(); }\ntemplate <class T> T to_T(const string& s) { istringstream is(s); T res; is >> res; return res; }\n  \ntemplate <class T, class U> ostream& operator<<(ostream& os, pair<T, U>& p) { os << \"( \" << p.first << \", \" << p.second << \" )\"; return os; }\n  \ntemplate <class T> void print(T a, int n, const string& deli = \" \", int br = 1) { for (int i = 0; i < n; ++i) { cout << a[i]; if (i + 1 != n) cout << deli; } while (br--) cout << endl; }\ntemplate <class T> void print(const T& c, const string& deli = \" \", int br = 1) { foreach (it, c) { cout << *it; if (++it != c.end()) cout << deli;--it; } while (br--) cout << endl; }\ntemplate <class T> void print2d(T a, int w, int h, int width = -1, int br = 1) { for (int i = 0; i < h; ++i) { for (int j = 0; j < w; ++j) {    if (width != -1) cout.width(width); cout << a[i][j] << ' '; } cout << endl; } while (br--) cout << endl; }\n   \ntemplate <class T> void input(T& a, int n) { for (int i = 0; i < n; ++i) cin >> a[i]; }\ntemplate <class T> void input(T* a, int n) { for (int i = 0; i < n; ++i) cin >> a[i]; }\n\nvoid fix_pre(int n) { cout.setf(ios::fixed, ios::floatfield); cout.precision(10); }\nvoid fast_io() { cin.tie(0); ios::sync_with_stdio(false); }\n#define trace(x) (cout << #x << \": \" << (x) << endl)\n \nbool in_rect(int x, int y, int w, int h) { return 0 <= x && x < w && 0 <= y && y < h; }\n \n\ntypedef long long ll;\ntypedef pair<int, int> pint;\n \n// y(v): v>^<  y(^): ^>v<\nconst int dx[] = { 0, 1, 0, -1 };\nconst int dy[] = { 1, 0, -1, 0 };\n\nconst double PI = acos(-1.0);\n\n#define F first\n#define S second\n\n\n// __days[month - 1]\nstatic const int __days[] = { 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 };\n\n// __sum_days[month] -> sum_days(1, 2, .., month - 1)\nstatic const int __sum_days[] = { 0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334, 365 };\n\nconst int days_of_year = 365;\n\nclass Date\n{\nprivate:\n    int _year, _month, _day;    // _month, day: 1-based\n\npublic:\n//////// class method\n\n    // definition\n    // 0 year is leep year\n    // n(n < 0) year is NOT leep year\n\n    static bool is_leep(int year)\n    {\n        return (year % 4 == 0 && year % 100 != 0) || year % 400 == 0;\n    }\n\n    // [0, until]\n    static int leep_years(int until)\n    {\n        if (until < 0)\n            return 0;\n        int res = (until / 4) - (until / 100) + (until / 400);\n        ++res; // by definition: 0 year is leep\n        return res;\n    }\n\n    static int days(int year)\n    {\n        return is_leep(year) ? days_of_year + 1 : days_of_year;\n    }\n    static int days(int year, int month)\n    {\n        if (is_leep(year) && month == 2)\n            return __days[month - 1] + 1;\n        else\n            return __days[month - 1];\n    }\n\n\n//////// instance method\n    Date(int year, int month, int day)\n        : _year(year), _month(month), _day(day)\n    {\n        assert(1 <= month && month <= 12);\n        assert(1 <= day && day <= days(year, month));\n    }\n\n    int year() const { return _year; }\n    int month() const { return _month; }\n    int day() const { return _day; }\n\n    // 0000/01/01 -> 1\n    ll to_n() const\n    {\n        ll res = 0;\n        int leep = leep_years(year() - 1);\n        int not_leep = year() - leep;\n        res += not_leep * (ll)days_of_year + leep * (ll)(days_of_year + 1);\n        res += __sum_days[month() - 1] + (is_leep(year()) && month() > 2 ? 1 : 0);\n        res += day();\n        return res;\n    }\n\n    Date next(ll next_days) const\n    {\n        if (next_days < 0)\n            return prev(-next_days);\n\n        ll correct_n = this->to_n() + next_days;\n\n        int y = year() + (next_days / (days_of_year + 1));\n        while (Date(y, 12, days(y, 12)).to_n() < correct_n)\n            ++y;\n\n        int m = 1;\n        while (Date(y, m, days(y, m)).to_n() < correct_n)\n            ++m;\n\n        int d = 1;\n        while (Date(y, m, d).to_n() < correct_n)\n            ++d;\n\n        return Date(y, m, d);\n    }\n\n    Date prev(ll prev_days) const\n    {\n        if (prev_days < 0)\n            return next(-prev_days);\n\n        ll correct_n = this->to_n() - prev_days;\n\n        int y = year() - (prev_days / (days_of_year + 1));\n        while (Date(y, 1, 1).to_n() > correct_n)\n            --y;\n\n        int m = 12;\n        while (Date(y, m, 1).to_n() > correct_n)\n            --m;\n\n        int d = Date::days(y, m);\n        while (Date(y, m, d).to_n() > correct_n)\n            --d;\n\n        return Date(y, m, d);\n    }\n\n    string to_s() const\n    {\n        char buf[128];\n        sprintf(buf, \"%d/%d/%d\", year(), month(), day());\n        return buf;\n    }\n};\n\n// Date tester\nvoid test_to_n()\n{\n    ll correct = 1;\n    for (int y = 0; y < 1000000; ++y)\n    {\n        for (int m = 1; m <= 12; ++m)\n        {\n            for (int d = 1; d <= Date::days(y, m); ++d)\n            {\n                Date date(y, m, d);\n                if (date.to_n() != correct)\n                {\n                    printf(\"%lld: %d/%d/%d, %lld\\n\", correct, y, m, d, date.to_n());\n                    exit(1);\n                }\n                ++correct;\n            }\n        }\n    }\n}\nvoid test_next()\n{\n    const int max_y = 100;\n    const int max_next = 100;\n\n    for (int y = 0; y <= max_y; ++y)\n    {\n        for (int m = 1; m <= 12; ++m)\n        {\n            for (int d = 1; d <= Date::days(y, m); ++d)\n            {\n                Date base(y, m, d);\n                for (int next = -max_next; next <= max_next; ++next)\n                {\n                    if (base.to_n() + next <= 0)\n                        continue;\n\n                    Date nexted = base.next(next);\n                    if (base.to_n() + next != nexted.to_n())\n                    {\n                        printf(\"%d/%d/%d\\n\", y, m, d);\n                        trace(next);\n                        trace(base.to_n());\n                        cout << base.to_s() << endl;\n                        cout << nexted.to_s() << endl;\n                        exit(1);\n                    }\n                }\n            }\n        }\n    }\n}\nvoid test_prev()\n{\n    const int max_y = 100;\n    const int max_prev = 100;\n\n    for (int y = 0; y <= max_y; ++y)\n    {\n        for (int m = 1; m <= 12; ++m)\n        {\n            for (int d = 1; d <= Date::days(y, m); ++d)\n            {\n                Date base(y, m, d);\n                for (int prev = -max_prev; prev <= max_prev; ++prev)\n                {\n                    if (base.to_n() - prev <= 0)\n                        continue;\n\n                    Date preved = base.prev(prev);\n                    if (base.to_n() - prev != preved.to_n())\n                    {\n                        printf(\"%d/%d/%d\\n\", y, m, d);\n                        trace(prev);\n                        trace(base.to_n());\n                        cout << base.to_s() << endl;\n                        cout << preved.to_s() << endl;\n                        exit(1);\n                    }\n                }\n            }\n        }\n    }\n}\nvoid test_nextprev()\n{\n    for (int y = 0; y < 500; ++y)\n    {\n        for (int m = 1; m <= 12; ++m)\n        {\n            for (int d = 1; d <= Date::days(y, m); ++d)\n            {\n                Date cur(y, m, d);\n                for (int diff = 0; diff < 10000; ++diff)\n                {\n                    if (cur.to_n() != cur.next(diff).prev(diff).to_n())\n                    {\n                        printf(\"%d, %d, %d, %d\\n\", y, m, d, diff);\n                        exit(1);\n                    }\n                }\n            }\n        }\n    }\n}\n// end Date tester\n\n// 1 day = 1 kin\n// uninal, tun, katun, baktun\nint maya_weight[] = { 20, 18, 20, 20 };\nll maya_to_num(int baktun, int katun, int tun, int unial, int kin)\n{\n    int arg[] = { unial, tun, katun, baktun };\n    ll res = kin, days = 1;\n    for (int i = 0; i < 4; ++i)\n    {\n        days *= maya_weight[i];\n        res += days * arg[i];\n    }\n    return res;\n}\n// return: { kin, uninal, tun, katun, baktun }\nvector<int> num_to_maya(ll num)\n{\n    vector<int> res(5);\n    for (int i = 0; i < 4; ++i)\n    {\n        res[i] = num % maya_weight[i];\n        num /= maya_weight[i];\n    }\n    res[4] = num;\n    return res;\n}\n\nint main()\n{\n    ll maya_period = 1;\n    rep(i, 4)\n        maya_period *= maya_weight[i];\n    maya_period *= 13;\n\n    const Date new_maya(2012, 12, 21);\n\n    string in;\n    while (cin >> in, in[0] != '#')\n    {\n        if (count(all(in), '.') == 2)\n        {\n            int y, m, d;\n            sscanf(in.c_str(), \"%d.%d.%d\", &y, &m, &d);\n\n            ll offset = Date(y, m, d).to_n() - new_maya.to_n();\n            offset = (offset + maya_period) % maya_period;\n            vector<int> maya = num_to_maya(offset);\n            printf(\"%d.%d.%d.%d.%d\\n\", maya[4], maya[3], maya[2], maya[1], maya[0]);\n        }\n        else\n        {\n            int a, b, c, d, e;\n            sscanf(in.c_str(), \"%d.%d.%d.%d.%d\", &a, &b, &c, &d, &e);\n\n            ll offset = maya_to_num(a, b, c, d, e);\n            Date res = new_maya.next(offset);\n            printf(\"%d.%d.%d\\n\", res.year(), res.month(), res.day());\n        }\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define RFOR(i,a,b) for(int i=(b) - 1;i>=(a);i--)\n#define REP(i,n) for(int i=0;i<(n);i++)\n#define RREP(i,n) for(int i=n-1;i>=0;i--)\n\n#define PB push_back\n#define INF INT_MAX/3\n#define ALL(a) (a).begin(),(a).end()\n#define CLR(a) memset(a,0,sizeof(a))\n\ntypedef long long int ll;\n\nusing namespace std;\nint ms[] = { 31,28,31,30,31,30,31,31,30,31,30,31};\nconst ll Kin = 1;\nconst ll Uinal = 20 * Kin;\nconst ll Tun = Uinal * 18;\nconst ll Katun = Tun * 20;\nconst ll Baktun = Katun * 20;\n\nvector<string> split(string s){\n    int x;\n    vector<string> ret;\n    s += '.';\n    x = -1;\n    REP(i,s.size()){\n\tif(s[i] == '.'){\n\t    ret.PB(s.substr(x+1,i-x-1));\n\t    x = i;\n\t}\n    }\n    return ret;\n}\n\nll cg(string s){\n    vector<string> d = split(s);\n    if(d[0] == \"2012\"){\n\treturn stoll(d[2]) - 21;\n    }else{\n\tll y = stoll(d[0]);\n\tll m = stoll(d[1]);\n\tll da = stoll(d[2]);\n\tll ret = 0;\n\tll ty = y - 1;\n\tret = 10LL;\n\tll a = (ty - 2012LL) * 365LL;\n\tif(a < 0) a = 0;\n\tret += a;\n\tret += ty / 4LL - ty / 100LL + ty / 400LL;\n\tret -= 2012 / 4 - 2012 / 100 + 2012 / 400;\n\tREP(i,m-1){\n\t    if(i==1 && ( y%4==0 && (y%100!=0 || (y%100==0&&y%400==0)) ) ) {\n\t\tret += 1;\n\t    }\n\t    ret += ms[i];\n\t}\n\tret += da;\n\treturn ret;\n    }\n    return 0;\n}\n\nll cm(string s){\n    vector<string> d = split(s);\n    ll ret=0;\n    ret += Baktun * stoi(d[0]);\n    ret += Katun * stoi(d[1]);\n    ret += Tun * stoi(d[2]);\n    ret += Uinal * stoi(d[3]);\n    ret += Kin * stoi(d[4]);\n    return ret;\n}\n\nstring mtog(string s){\n    int num = cm(s);\n    int y = 2012;\n    int m = 12;\n    int d = 21;\n    if(num <= 10){\n\treturn \"2012.12.\" + to_string(d+num);\n    }else{\n\tREP(i,num){\n\t    if(m == 12 && d == 31){\n\t\ty++;\n\t\tm = 1;\n\t\td = 1;\n\t    }else if(m==2 && d == 28 &&  ( y%4==0 && (y%100!=0 || (y%100==0&&y%400==0)) ) ) d++;\n\t    else if(d >= ms[m-1]){\n\t\tm++;\n\t\td = 1;\n\t    }else d++;\n\t}\n\treturn to_string(y) + \".\" + to_string(m) + \".\" + to_string(d);\n    }\n    return \"\";\n}\n\nstring gtom(string s){\n    ll num = cg(s);\n    ll days[5];\n    days[0] = Baktun;\n    days[1] = Katun;\n    days[2] = Tun;\n    days[3] = Uinal;\n    days[4] = Kin;\n    string ret = \"\";\n    num = (num % (13*days[0]));\n    REP(i,4){\n\tret += to_string(num/days[i]) + \".\";\n\tnum %= days[i];\n    }\n    ret += to_string(num/days[4]);\n    return ret;\n}\n\nint main(){\n    while(true){\n\tstring s;\n\tcin >> s;\n\tif(s == \"#\") break;\n\tint c = 0;\n\tREP(i,s.size()) if(s[i] == '.') c++;\n\tif(c == 2) cout << gtom(s) << endl;\n\telse if(c == 4) cout << mtog(s) << endl;;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<sstream>\nusing namespace std;\nint main(){\nlong b,ka,t,w,ki,y,m,d,j,y1,y2,a1,a2,a3,a4,a5,a6,a7;\nstring::size_type j1,j2,j3,j4;\nstring s;\nstringstream ss;\nwhile(cin>>s){\nif(s==\"#\")break;\nj1=s.find('.');\nj2=s.find('.',j1+1);\nj3=s.find('.',j2+1);\nss.str(\"\");ss.clear();ss<<s.substr(0,j1);ss>>y;\nss.str(\"\");ss.clear();ss<<s.substr(j1+1,j2-j1);ss>>m;\nss.str(\"\");ss.clear();ss<<s.substr(j2+1,j3-j2);ss>>d;\nif(j3==string::npos){\nif(m<3){m+=12;y--;}\ny1=y/100;y2=y%100;\nif(y1>50000)j=(long(36524.25*(y1-50000)))%1872000+long(365.25*y2)+long(30.6*(m+1))+d+277214;\nelse j=(long(36524.25*y1))%1872000+long(365.25*y2)+long(30.6*(m+1))+d+1136714;\nki=j%20;j-=ki;j/=20;\nw=j%18;j-=w;j/=18;\nt=j%20;j-=t;j/=20;\nka=j%20;j-=ka;j/=20;\nb=j%13;\ncout<<b<<\".\"<<ka<<\".\"<<t<<\".\"<<w<<\".\"<<ki<<endl;\n}else{\nj4=s.find('.',j3+1);\nb=y;ka=m;t=d;\nss.str(\"\");ss.clear();ss<<s.substr(j3+1,j4-j3);ss>>w;\nss.str(\"\");ss.clear();ss<<s.substr(j4+1);ss>>ki;\nj=(((b*20+ka)*20+t)*18+w)*20+ki+735163;\na1=j/146097;j%=146097;\nif(j==146096){a2=3;j=36524;}else{a2=j/36524;j%=36524;}\na3=j/1461;j%=1461;\nif(j==1460){a4=3;j=365;}else{a4=j/365;j%=365;}\na5=j/153;j%=153;\na6=j/61;j%=61;\na7=j/31;j%=31;\ny=a1*400+a2*100+a3*4+a4;\nif(m=a5*5+a6*2+a7+3,m>12){m-=12;y++;}\ncout<<y<<\".\"<<m<<\".\"<<j+1<<endl;\n}\n}\nreturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 0x3f3f3f3f\n\n#include <iostream>\n#include <cstdio>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n  \nusing namespace std;\n  \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P> PP;\n  \nstatic const double EPS = 1e-8;\n  \nstatic const int tx[] = {0,1,0,-1};\nstatic const int ty[] = {-1,0,1,0};\n\nvector<string> split(string delim,string str){\n  vector<string> res;\n  str += delim;\n  for(int i=0;i<str.size();i++){\n    for(int j=1;i+j<=str.size();j++){\n      if(str.substr(i,j).find(delim) != string::npos){\n        if(str.substr(i,j-1).size() >0 ) res.push_back(str.substr(i,j-1));\n        i+=j-1;\n        break;\n      }\n    }\n  }\n  return res;\n}\n\nstatic const int days_per_month[] = {0,31,28,31,30,31,30,31,31,30,31,30,31};\n\nbool is_leap_year(int year){\n  if(year % 4 == 0){\n    if(year % 100 != 0) return true;\n    if(year % 400 == 0) return true;\n  }\n  return false;\n}\n\nstring maya2christ(ll passed_day){\n  passed_day += 355;\n  int year = 2012;\n  for(int prev = 2012; prev <= 10000000; prev++){\n    if(is_leap_year(prev) && passed_day - 366 > 0){\n      passed_day -= 366LL;\n    }\n    else if(!is_leap_year(prev) && passed_day - 365 > 0){\n      passed_day -= 365LL;\n    }\n    else{\n      break;\n    }\n    year = prev + 1;\n  }\n\n  int month = 1;\n  for(int prev = 1; prev < 12; prev++){\n    if(is_leap_year(year) && prev == 2\n       && passed_day - (days_per_month[prev] + 1) > 0){\n      passed_day -= (days_per_month[prev] + 1);\n    }\n    else if(passed_day - days_per_month[prev] > 0){\n      passed_day -= days_per_month[prev];\n    }\n    else{\n      break;\n    }\n    month = prev + 1;\n  }\n  int day = passed_day + 1;\n  stringstream ss;\n  ss << year << \".\" << month << \".\" << day;\n  return ss.str();\n}\n\nstring christ2maya(ll passed_day){\n  while(passed_day > 13*20*20*18*20){\n    passed_day -= 13*20*20*18*20;\n  }\n  ll b = passed_day / (20*20*18*20);\n  passed_day %= (20*20*18*20);\n\n  ll ka = passed_day / (20*18*20);\n  passed_day %= (20*18*20);\n\n  ll t = passed_day / (18*20);\n  passed_day %= (18*20);\n\n  ll w = passed_day / 20;\n  passed_day %= 20;\n  \n  ll ki = passed_day;\n  stringstream ss;\n  ss << b << \".\" << ka << \".\" << t << \".\" << w << \".\" << ki;\n  return ss.str();\n}\n\nint main(){\n  string str;\n  while(cin >> str){\n    if(str == \"#\") break;\n    int total_dots = count(str.begin(),str.end(),'.');\n    if(total_dots == 2){\n      //after christ\n      vector<string> elements = split(\".\",str);\n      ll year = atol(elements[0].c_str());\n      ll month = atol(elements[1].c_str());\n      ll day = atol(elements[2].c_str());\n\n      ll passed_day = 0;\n      for(ll prev = 2012; prev < year; prev++){\n        passed_day += (is_leap_year(prev) ? 366LL : 365LL);\n      }\n\n      for(ll prev = 1; prev < month; prev++){\n        if(is_leap_year(year) && prev == 2){\n          passed_day++;\n        }\n        passed_day += days_per_month[prev];\n      }\n      for(ll prev = 1; prev < day; prev++){\n        passed_day++;\n      }\n      passed_day -= 355LL; //2012.01.01 - 2012.12.20\n      cout << christ2maya(passed_day) << endl;\n    }\n    else{\n      //maya\n      vector<string> elements = split(\".\",str);\n      ll b = atol(elements[0].c_str());\n      ll ka = atol(elements[1].c_str());\n      ll t = atol(elements[2].c_str());\n      ll w = atol(elements[3].c_str());\n      ll ki = atol(elements[4].c_str());\n\n      ll passed_day = b * (20*20*18*20) + ka * (20*18*20) + t * (18*20) + w * 20 + ki;\n      cout << maya2christ(passed_day) << endl;\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\n\nint mth[13] = {-1,31,28,31,30,31,30,31,31,30,31,30,31};\n\nll check(ll n){\n  ll res;\n  res=n/400+n/4-n/100;;\n  return res;\n}\n\nbool check2(ll y){return ((y%400==0||(y%4==0&&y%100!=0)));}\n\n\nvoid MtoS(ll b,ll k,ll t,ll w,ll ki){\n  ll n=ki+20*w+18*20*t+18*20*20*k+20*20*20*18*b+356;\n  ll y=2012;\n  while(n-365-check2(y)>0)y++,n=n-365-check2(y);\n  ll d=n;\n  int ul=check2(y);\n  int m=1;\n  while(d-mth[m]>0){\n    if(m==2&&d-mth[m]-ul>0)d--;\n    else if(m==2&&d-mth[m]-ul<=0) break;\n    d-=mth[m++];\n  } \n  cout << y<<\".\"<<m<<\".\"<<d<<endl;\n}\n\n\nvoid StoM(ll y,ll m,ll d){\n  ll st=2011*365+check(2011)+356;\n  ll dd=(y-1)*365+check(y-1)+d;\n  for(int i=1;i<m;i++) {\n    if(i==2&&check2(y)) dd++;\n    dd+=mth[i];\n  }\n  //  cout<<dd<<' '<<st<<' '<<dd-st<<endl;\n  //  while(st<=dd) dd-=st;\n  dd=(dd-st)%1872000LL;\n  ll b,k,t,w,ki;\n  b=dd/(20*20*20*18);\n  dd%=20*20*20*18;\n  k=dd/(20*20*18);\n  dd%=20*20*18;\n  t=dd/(20*18);\n  dd%=20*18;\n  w=dd/20;\n  dd%=20;\n  ki=dd;\n  cout <<b<<\".\"<<k<<\".\"<<t<<\".\"<<w<<\".\"<<ki<<endl;\n}\n\n\nint main(){\n  while(1){\n    string str;\n    cin>>str;\n    if(str==\"#\")break;\n    vector <int>num;\n    int i=0;\n    while(i<str.size()){\n      int n=0;\n      while(str[i]&&str[i]!='.')n=n*10+str[i++]-'0';\n      num.push_back(n);\n      i++;\n    }\n    if(num.size()==3) StoM(num[0],num[1],num[2]);\n    else MtoS(num[0],num[1],num[2],num[3],num[4]);\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n#include<unordered_map>\n#include<unordered_set>\n#pragma warning(disable:4996)\nusing namespace std;\nusing ld = long double;\ntemplate<class T>\nusing Table = vector<vector<T>>;\nconst ld eps=1e-9;\n\n//// < \"D:\\D_Download\\Visual Studio 2015\\Projects\\programing_contest_c++\\Debug\\a.txt\"\nint main() {\n\ttm atm;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <cmath>\n#include <algorithm>\n#include <stack>\n#include <queue>\n#include <vector>\n\nusing namespace std;\n\nint monthTable[13] = {0,31,28,31,30,31,30,31,31,30,31,30,31};\nint monthTable2[13] = {0,31,29,31,30,31,30,31,31,30,31,30,31};\n\nbool isLeapYear(int year){\n\tif(year % 4 == 0){\n\t\tif(year % 100 == 0){\n\t\t\tif(year % 400 == 0){\n\t\t\t\treturn true;\n\t\t\t}else{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}else{\n\t\t\treturn true;\n\t\t}\n\t}else{\n\t\treturn false;\n\t}\n}\n\nint main(){\n\n\tlong long int sum,tmp,year,month,day,b,ka,t,w,ki,NUMBER = 735224;\n\tint count,status;\n\tchar buf[100];\n\n\twhile(true){\n\t\tscanf(\"%s\",buf);\n\t\tif(buf[0] == '#')break;\n\n\t\tcount = 0;\n\n\t\tfor(int i = 0;buf[i] != '\\0';i++){\n\t\t\tif(buf[i] == '.')count++;\n\t\t}\n\n\t\tsum = 0;\n\t\tif(count == 2){\n\t\t\tstatus = 0;\n\t\t\ttmp = 0;\n\n\t\t\tfor(int i = 0; buf[i] != '\\0';i++){\n\t\t\t\tif(buf[i] >= '0' && buf[i] <= '9'){\n\t\t\t\t\ttmp = 10*tmp+(buf[i]-'0');\n\n\t\t\t\t\tif(buf[i+1] == '\\0'){\n\t\t\t\t\t\tday = tmp;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(status == 0){\n\t\t\t\t\t\tyear = tmp;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tmonth = tmp;\n\t\t\t\t\t}\n\t\t\t\t\tstatus++;\n\t\t\t\t\ttmp = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(year == 2012){\n\t\t\t\tsum = day - 21;\n\t\t\t}else{\n\n\t\t\t\tsum += 10;\n\n\t\t\t\tfor(int i = 2013; i <= year-1; i++){\n\t\t\t\t\tif(isLeapYear(i))sum += 366;\n\t\t\t\t\telse{\n\t\t\t\t\t\tsum += 365;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor(int i = 1; i <= month-1; i++){\n\t\t\t\t\tif(i == 2 && isLeapYear(year) == true){\n\t\t\t\t\t\tsum += 29;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tsum += monthTable[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tsum += day;\n\t\t\t}\n\n\t\t\tprintf(\"%lld.\",(sum/144000)%13);\n\t\t\tsum %= 144000;\n\t\t\tprintf(\"%lld.\",sum/7200);\n\t\t\tsum %= 7200;\n\t\t\tprintf(\"%lld.\",sum/360);\n\t\t\tsum %= 360;\n\t\t\tprintf(\"%lld.\",sum/20);\n\t\t\tsum %= 20;\n\t\t\tprintf(\"%lld\\n\",sum);\n\n\t\t}else{\n\t\t\tstatus = 0;\n\t\t\ttmp = 0;\n\n\t\t\tfor(int i = 0; buf[i] != '\\0';i++){\n\t\t\t\tif(buf[i] >= '0' && buf[i] <= '9'){\n\t\t\t\t\ttmp = 10*tmp + (buf[i] - '0');\n\n\t\t\t\t\tif(buf[i+1] == '\\0'){\n\t\t\t\t\t\tki = tmp;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(status == 0){\n\t\t\t\t\t\tb = tmp;\n\t\t\t\t\t}else if(status == 1){\n\t\t\t\t\t\tka = tmp;\n\t\t\t\t\t}else if(status == 2){\n\t\t\t\t\t\tt = tmp;\n\t\t\t\t\t}else if(status == 3){\n\t\t\t\t\t\tw = tmp;\n\t\t\t\t\t}\n\t\t\t\t\tstatus++;\n\t\t\t\t\ttmp = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tsum = 144000*b+7200*ka+360*t+20*w+ki + NUMBER;\n\n\t\t\tyear = 0,month = 0;\n\n\t\t\tfor(int i = 0;sum > 366; i++){\n\t\t\t\tif(isLeapYear(i)){\n\t\t\t\t\tsum -= 366;\n\t\t\t\t}else{\n\t\t\t\t\tsum -= 365;\n\t\t\t\t}\n\t\t\t\tyear++;\n\t\t\t}\n\n\t\t\tif((sum <= 365) || (sum == 366 && isLeapYear(year))){\n\n\t\t\t\tif(isLeapYear(year)){\n\t\t\t\t\tfor(int i = 1; i <= 11 && sum > monthTable2[i+1];i++){\n\t\t\t\t\t\tsum -= monthTable2[i];\n\t\t\t\t\t\tmonth++;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tfor(int i = 1; i <= 11 && sum > monthTable[i+1];i++){\n\t\t\t\t\t\tsum -= monthTable[i];\n\t\t\t\t\t\tmonth++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tmonth++;\n\t\t\t}else{\n\t\t\t\tyear++;\n\t\t\t\tmonth = 1;\n\t\t\t\tsum = 1;\n\t\t\t}\n\t\t\tprintf(\"%lld.%lld.%lld\\n\",year,month,sum);\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nint days400 = 365 * 400 + 97;\nunsigned base;\nunsigned acc_1[13] = {0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334, 365};\nunsigned acc_2[13] = {0, 31, 60, 91, 121, 152, 182, 213, 244, 274, 305, 335, 366};\nunsigned *acc[401];\n\nbool isleap(int y){\n\treturn y % 400 == 0 || y % 4 == 0 && y % 100 != 0;\n}\n\nunsigned sumdays(int y, int m, int d){\n\tint t = (y - 1) / 400;\n\tunsigned ret = t * days400;\n\ty -= t * 400;\n\tfor(int i = 1; i < y; ++i){\n\t\tret += acc[i][12];\n\t}\n\n\tret += acc[y][m - 1] + d;\n\treturn ret;\n}\n\nvoid chr(int b, int ka, int t, int w, int ki){\n\tunsigned s = (((b * 20u + ka) * 20u + t) * 18u + w) * 20u + ki + base;\n\n\tint y = 0, m = 0, d = 0;\n\ty = (s / days400) * 400;\n\ts %= days400;\n\n\twhile(s > acc[(y + 1) % 400][12]){\n\t\t++y;\n\t\ts -= acc[y % 400][12];\n\t}\n\n\t++y;\n\tm = lower_bound(acc[y % 400], acc[y % 400] + 13, s) - acc[y % 400];\n\td = s - acc[y % 400][m - 1];\n\n\tprintf(\"%d.%d.%d\\n\", y, m, d);\n}\n\nvoid may(int y, int m, int d){\n\tunsigned s = sumdays(y, m, d) - base;\n\tint ki = s % 20;\n\tint w = s / 20 % 18;\n\tint t = s / 360 % 20;\n\tint ka = s / 7200 % 20;\n\tint b = s / 144000 % 13;\n\n\tprintf(\"%d.%d.%d.%d.%d\\n\", b, ka, t, w, ki);\n}\n\nint main(){\n\tfor(int i = 0; i <= 400; ++i){\n\t\tacc[i] = isleap(i) ? acc_2 : acc_1;\n\t}\n\tbase = sumdays(2012, 12, 21);\n\n\tchar buf[32];\n\twhile(scanf(\" %s\", buf), buf[0] != '#'){\n\t\tint b, ka, t, w, ki, y, m, d;\n\t\tif(sscanf(buf, \"%d.%d.%d.%d.%d\", &b, &ka, &t, &w, &ki) == 5){\n\t\t\tchr(b, ka, t, w, ki);\n\t\t}\n\t\telse{\n\t\t\tsscanf(buf, \"%d.%d.%d\", &y, &m, &d);\n\t\t\tmay(y, m, d);\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<vector>\nusing namespace std;\nstring S, T; vector<int>p;\nlong long sum;\nunsigned int distsum[10000001], daysum[13][32], daysum2[13][32];\nint days[13] = { 0,31,28,31,30,31,30,31,31,30,31,30,31 };\nint days2[13] = { 0,31,29,31,30,31,30,31,31,30,31,30,31 };\n\nvoid mayawest(vector<int>a) {\n\tsum = a[0] * 144000 + a[1] * 7200 + a[2] * 360 + a[3] * 20 + a[4] + 734857;\n\tint y, m, d;\n\tfor (int i = 2000; i < 10000000; i++) {\n\t\tif (sum - distsum[i - 1] < 365 || (sum - distsum[i - 1] < 366 && i % 4 == 0)) {\n\t\t\ty = i;\n\t\t\tsum -= distsum[i - 1];\n\t\t\tbreak;\n\t\t}\n\t}\n\tfor (int i = 1; i <= 12; i++) {\n\t\tfor (int j = 1; j <= 31; j++) {\n\t\t\tif (y % 4 == 0) {\n\t\t\t\tif (daysum2[i][j] == sum) {\n\t\t\t\t\tm = i; d = j; goto E;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (daysum[i][j] == sum) {\n\t\t\t\t\tm = i; d = j; goto E;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\nE:;\n\tcout << y << '.' << m << '.' << d << endl;\n}\n\nvoid westmaya(vector<int>a) {\n\tif (a[0] % 4 == 0) { \n\t\tsum = distsum[a[0] - 1] + daysum2[a[1]][a[2]]; \n\t}\n\telse { \n\t\tsum = distsum[a[0] - 1] + daysum[a[1]][a[2]]; \n\t}\n\tsum -= 734857;//12.12.21\n\tcout << (sum / 144000) % 13 << '.' << (sum / 7200) % 20 << '.' << (sum / 360) % 20 << '.' << (sum / 20) % 18 << '.' << sum % 20 << endl;\n}\n\nint main() {\n\tdistsum[0] = 0;\n\tfor (int i = 1; i <= 10000000; i++) {\n\t\tif ((i % 4 == 0 && i % 100 != 0) || i % 400 == 0) {\n\t\t\tdistsum[i] = distsum[i - 1] + 366;\n\t\t}\n\t\telse {\n\t\t\tdistsum[i] += distsum[i - 1] + 365;\n\t\t}\n\t}\n\tint cnt = 0;\n\tfor (int i = 1; i <= 12; i++) {\n\t\tfor (int j = 1; j <= days[i]; j++) {\n\t\t\tdaysum[i][j] = cnt;\n\t\t\tcnt++;\n\t\t}\n\t}\n\tcnt = 0;\n\tfor (int i = 1; i <= 12; i++) {\n\t\tfor (int j = 1; j <= days2[i]; j++) {\n\t\t\tdaysum2[i][j] = cnt;\n\t\t\tcnt++;\n\t\t}\n\t}\n\twhile (cin >> S) {\n\t\tp.clear();\n\t\tif (S == \"#\") { break; }\n\t\tS += '.';\n\t\tfor (int i = 0; i < S.size(); i++) {\n\t\t\tif(S[i]=='.'){\n\t\t\t\tp.push_back(stoi(T));\n\t\t\t\tT = \"\";\n\t\t\t}\n\t\t\telse {\n\t\t\t\tT += S[i];\n\t\t\t}\n\t\t}\n\t\tif (p.size() == 5) {\n\t\t\tmayawest(p);\n\t\t}\n\t\telse {\n\t\t\twestmaya(p);\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<string.h>\n#include<math.h>\nint main(void)\n{\n\tint a,s,d[6],g,h,i,j,c[6],q,w,v,aa;\n\tlong long int f;\n\tint z[13]={31,28,31,30,31,30,31,31,30,31,30,31};\n\tchar x[15];\n\twhile(1){\n\t\tscanf(\"%s\",x);\n\t\tif(x[0]=='#') break;\n\t\ta=0;\n\t\tf=0;\n\t\ts=0;\n\t\tq=365;\n\t\tfor(i=0;i<strlen(x);i++) if(x[i]=='.') a++;\n\t\tfor(i=0;i<5;i++){\n\t\t\td[i]=0;\n\t\t\tc[i]=0;\n\t\t}\n\t\tif(a==2){\n\t\t\tf=10;\n\t\t\tfor(i=0;i<strlen(x);i++){\n\t\t\t\tif(x[i]=='.') s++;\n\t\t\t\telse{\n\t\t\t\t\td[s]*=10;\n\t\t\t\t\td[s]+=x[i]-'0';\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(d[0]==2012) printf(\"0.0.0.0.%d\\n\",d[2]-21);\n\t\t\telse{\n\t\t\t\tf=10;\n\t\t\t\tg=d[0];\n\t\t\t\tif(d[1]>2)\tg++;\n\t\t\t\tfor(i=2013;i<d[0];i++)\tf+=365;\n\t\t\t\tfor(i=2013;i<g;i++) if(i%4==0&&i%100!=0||i%400==0) f+=1;\n\t\t\t\tfor(i=0;i<d[1]-1;i++) f+=z[i];\n\t\t\t\tf+=d[2];\n\t\t\t\tc[0]=f%20;\n\t\t\t\tc[1]=f/20;\n\t\t\t\tc[2]=c[1]/18;\n\t\t\t\tc[1]=c[1]%18;\n\t\t\t\tc[3]=c[2]/20;\n\t\t\t\tc[2]=c[2]%20;\n\t\t\t\tc[4]=c[3]/20;\n\t\t\t\tc[3]=c[3]%20;\n\t\t\t\tc[4]%=13;\n\t\t\t\tfor(i=4;i>=0;i--){\n\t\t\t\t\tprintf(\"%d\",c[i]);\n\t\t\t\t\tif(i!=0) printf(\".\");\n\t\t\t\t}\n\t\t\t\t printf(\"\\n\");\n\t\t\t}\n\t\t}\n\t\telse if(a==4){\n\t\t\tfor(i=0;i<strlen(x);i++){\n\t\t\t\tif(x[i]=='.') s++;\n\t\t\t\telse{\n\t\t\t\t\td[s]*=10;\n\t\t\t\t\td[s]+=x[i]-'0';\n\t\t\t\t}\n\t\t\t}\n\t\t\tf=d[4];\n\t\t\tf+=d[3]*20;\n\t\t\tf+=d[2]*20*18;\n\t\t\tf+=d[1]*20*18*20;\n\t\t\tf+=d[0]*20*18*20*20;\n\t\t\tif(f<=10) printf(\"2012.12.%d\\n\",21+f);\n\t\t\telse{\n\t\t\t\tf-=10;\n\t\t\t\tc[0]=2013;\n\t\t\t\twhile(1){\n\t\t\t\t\tif(c[0]%4==0&&c[0]%100!=0||c[0]%400==0) q=366;\n\t\t\t\t\telse q=365;\n\t\t\t\t\tif(f<=q) break;\n\t\t\t\t\tf-=q;\n\t\t\t\t\tc[0]++;\n\t\t\t\t}\n\t\t\t\tfor(i=0;i<12;i++){\n\t\t\t\t\taa=z[i];\n\t\t\t\t\tif(q==366&&i==1) aa++;\n\t\t\t\t\tif(f<=aa) break;\n\t\t\t\t\tf-=aa;\n\t\t\t\t\tc[1]=i+1;\n\t\t\t\t}\n\t\t\t\tc[1]++;\n\t\t\t\tc[2]=f;\n\t\t\t\tfor(i=0;i<3;i++){\n\t\t\t\t\tprintf(\"%d\",c[i]);\n\t\t\t\t\tif(i!=2) printf(\".\");\n\t\t\t\t}\n\t\t\t\tprintf(\"\\n\");\n\t\t\t}\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 0x3f3f3f3f\n\n#include <iostream>\n#include <cstdio>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n  \nusing namespace std;\n  \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P> PP;\n  \nstatic const double EPS = 1e-8;\n  \nstatic const int tx[] = {0,1,0,-1};\nstatic const int ty[] = {-1,0,1,0};\n\nvector<string> split(string delim,string str){\n  vector<string> res;\n  str += delim;\n  for(int i=0;i<str.size();i++){\n    for(int j=1;i+j<=str.size();j++){\n      if(str.substr(i,j).find(delim) != string::npos){\n        if(str.substr(i,j-1).size() >0 ) res.push_back(str.substr(i,j-1));\n        i+=j-1;\n        break;\n      }\n    }\n  }\n  return res;\n}\n\nstatic const int days_per_month[] = {0,31,28,31,30,31,30,31,31,30,31,30,31};\n\nbool is_leap_year(int year){\n  if(year % 4 == 0){\n    if(year % 100 != 0) return true;\n    if(year % 400 == 0) return true;\n  }\n  return false;\n}\n\nstring maya2christ(ll passed_day){\n  passed_day += 355;\n  int year = 2012;\n  for(int prev = 2012; prev <= 10000000; prev++){\n    if(is_leap_year(prev) && passed_day - 366LL > 0){\n      passed_day -= 366LL;\n    }\n    else if(!is_leap_year(prev) && passed_day - 365LL > 0){\n      passed_day -= 365LL;\n    }\n    else{\n      break;\n    }\n    year = prev + 1;\n  }\n\n  int month = 1;\n  for(int prev = 1; prev < 12; prev++){\n    if(is_leap_year(year) && prev == 2\n       && passed_day - (days_per_month[prev] + 1) > 0){\n      passed_day -= (days_per_month[prev] + 1);\n    }\n    else if(passed_day - days_per_month[prev] > 0){\n      passed_day -= days_per_month[prev];\n    }\n    else{\n      break;\n    }\n    month = prev + 1;\n  }\n  int day = passed_day + 1;\n  if(!is_leap_year(year) && month == 2 && day == 29){\n    month = 3;\n    day = 1;\n  }\n  stringstream ss;\n  ss << year << \".\" << month << \".\" << day;\n  return ss.str();\n}\n\nstring christ2maya(ll passed_day){\n  passed_day %= 13*20*20*18*20;\n  ll b = passed_day / (20*20*18*20);\n  passed_day %= (20*20*18*20);\n\n  ll ka = passed_day / (20*18*20);\n  passed_day %= (20*18*20);\n\n  ll t = passed_day / (18*20);\n  passed_day %= (18*20);\n\n  ll w = passed_day / 20;\n  passed_day %= 20;\n  \n  ll ki = passed_day;\n  stringstream ss;\n  ss << b << \".\" << ka << \".\" << t << \".\" << w << \".\" << ki;\n  return ss.str();\n}\n\nint main(){\n  string str;\n  while(cin >> str){\n    if(str == \"#\") break;\n    int total_dots = count(str.begin(),str.end(),'.');\n    if(total_dots == 2){\n      //after christ\n      vector<string> elements = split(\".\",str);\n      ll year = atol(elements[0].c_str());\n      ll month = atol(elements[1].c_str());\n      ll day = atol(elements[2].c_str());\n\n      ll passed_day = 0;\n      for(ll prev = 2012; prev < year; prev++){\n        passed_day += (is_leap_year(prev) ? 366LL : 365LL);\n      }\n\n      for(ll prev = 1; prev < month; prev++){\n        if(is_leap_year(year) && prev == 2){\n          passed_day++;\n        }\n        passed_day += days_per_month[prev];\n      }\n      for(ll prev = 1; prev < day; prev++){\n        passed_day++;\n      }\n      passed_day -= 355LL; //2012.01.01 - 2012.12.20\n      cout << christ2maya(passed_day) << endl;\n    }\n    else{\n      //maya\n      vector<string> elements = split(\".\",str);\n      ll b = atol(elements[0].c_str());\n      ll ka = atol(elements[1].c_str());\n      ll t = atol(elements[2].c_str());\n      ll w = atol(elements[3].c_str());\n      ll ki = atol(elements[4].c_str());\n\n      ll passed_day = b * (20*20*18*20) + ka * (20*18*20) + t * (18*20) + w * 20 + ki;\n      cout << maya2christ(passed_day) << endl;\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "/*\n * src.cpp\n *\n *  Created on: 2016/08/08\n *      Author: joi\n */\n\n#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define REP(i,a) FOR(i,0,a)\n\ntypedef long long ll;\n\nchar S[64];\n\nint cal[12]={31,28,31,30,31,30,31,31,30,31,30,31};\n\nbool may(){\n\tint len=strlen(S);\n\tint cnt=0;\n\tREP(i,len){\n\t\tif (S[i]=='.'){\n\t\t\tcnt++;\n\t\t}\n\t}\n\treturn cnt==4;\n}\n\nstruct seireki{\n\tint y,m,d;\n\tseireki(int y=2012,int m=12,int d=21):y(y),m(m),d(d){}\n\tbool operator !=(const seireki &a){\n\t\tif (y!=a.y || m!=a.m || d!=a.d){\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\tvoid tom(){\n\t\t//?????\\?????????\n\t\tif (y%4==0 && (y%100!=0 || y%400==0)){\n\t\t\tcal[1]=29;\n\t\t}\n\t\tif (cal[m-1]==d){\n\t\t\td=1;\n\t\t\tif (m==12){\n\t\t\t\ty++;\n\t\t\t\tm=1;\n\t\t\t}else{\n\t\t\t\tm++;\n\t\t\t}\n\t\t}else{\n\t\t\td++;\n\t\t}\n\t\tcal[1]=28;\n\t}\n};\n\nint main(){\n\tdo{\n\t\tscanf(\"%s\",S);\n\t\tif (S[0]!='#'){\n\t\t\tif (may()){\n\t\t\t\tll b,ka,t,w,ki;\n\t\t\t\tb=ka=t=w=ki=0;\n\t\t\t\tint a;\n\t\t\t\ta=0;\n\t\t\t\twhile (S[a]!='.'){\n\t\t\t\t\tb*=10;\n\t\t\t\t\tb+=S[a]-'0';\n\t\t\t\t\ta++;\n\t\t\t\t}\n\t\t\t\ta++;\n\t\t\t\twhile (S[a]!='.'){\n\t\t\t\t\tka*=10;\n\t\t\t\t\tka+=S[a]-'0';\n\t\t\t\t\ta++;\n\t\t\t\t}\n\t\t\t\ta++;\n\t\t\t\twhile (S[a]!='.'){\n\t\t\t\t\tt*=10;\n\t\t\t\t\tt+=S[a]-'0';\n\t\t\t\t\ta++;\n\t\t\t\t}\n\t\t\t\ta++;\n\t\t\t\twhile (S[a]!='.'){\n\t\t\t\t\tw*=10;\n\t\t\t\t\tw+=S[a]-'0';\n\t\t\t\t\ta++;\n\t\t\t\t}\n\t\t\t\ta++;\n\t\t\t\twhile (S[a]){\n\t\t\t\t\tki*=10;\n\t\t\t\t\tki+=S[a]-'0';\n\t\t\t\t\ta++;\n\t\t\t\t}\n\t\t\t\tka+=b*20;\n\t\t\t\tt+=ka*20;\n\t\t\t\tw+=t*18;\n\t\t\t\tki+=w*20;\n\t\t\t\tseireki se;\n\t\t\t\twhile(ki>146097){\n\t\t\t\t\tse.y+=400;\n\t\t\t\t\tki-=146097;\n\t\t\t\t}\n\t\t\t\tREP(i,ki){\n\t\t\t\t\tse.tom();\n\t\t\t\t}\n\t\t\t\tprintf(\"%d.%d.%d\\n\",se.y,se.m,se.d);\n\t\t\t}else{\n\t\t\t\tseireki in(0,0,0),se;\n\t\t\t\tll b,ka,t,w,ki;\n\t\t\t\tb=ka=t=w=ki=0;\n\t\t\t\tint a;\n\t\t\t\ta=0;\n\t\t\t\twhile (S[a]!='.'){\n\t\t\t\t\tin.y*=10;\n\t\t\t\t\tin.y+=S[a]-'0';\n\t\t\t\t\ta++;\n\t\t\t\t}\n\t\t\t\ta++;\n\t\t\t\twhile (S[a]!='.'){\n\t\t\t\t\tin.m*=10;\n\t\t\t\t\tin.m+=S[a]-'0';\n\t\t\t\t\ta++;\n\t\t\t\t}\n\t\t\t\ta++;\n\t\t\t\twhile (S[a]){\n\t\t\t\t\tin.d*=10;\n\t\t\t\t\tin.d+=S[a]-'0';\n\t\t\t\t\ta++;\n\t\t\t\t}\n\t\t\t\twhile (in.y>se.y+400){\n\t\t\t\t\tse.y+=400;\n\t\t\t\t\tki+=146097;\n\t\t\t\t}\n\t\t\t\twhile (in!=se){\n\t\t\t\t\tse.tom();\n\t\t\t\t\tki++;\n\t\t\t\t}\n\t\t\t\tw+=ki/20;\n\t\t\t\tki%=20;\n\t\t\t\tt+=w/18;\n\t\t\t\tw%=18;\n\t\t\t\tka+=t/20;\n\t\t\t\tt%=20;\n\t\t\t\tb+=ka/20;\n\t\t\t\tka%=20;\n\t\t\t\tb%=13;\n\t\t\t\tprintf(\"%lld.%lld.%lld.%lld.%lld\\n\",b,ka,t,w,ki);\n\t\t\t}\n\t\t}\n\t}while (S[0]!='#');\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<string.h>\n#include<math.h>\nint main(void)\n{\n\tint a,s,d[6],g,h,i,j,c[6],q,w,v,aa;\n\tlong long int f;\n\tint z[13]={31,28,31,30,31,30,31,31,30,31,30,31};\n\tchar x[15];\n\twhile(1){\n\t\tscanf(\"%s\",x);\n\t\tif(x[0]=='#') break;\n\t\ta=0;\n\t\ts=0;\n\t\tf=10;\n\t\tq=365;\n\t\tfor(i=0;i<strlen(x);i++) if(x[i]=='.') a++;\n\t\tfor(i=0;i<5;i++){\n\t\t\td[i]=0;\n\t\t\tc[i]=0;\n\t\t}\n\t\tif(a==2){\n\t\t\tfor(i=0;i<strlen(x);i++){\n\t\t\t\tif(x[i]=='.') s++;\n\t\t\t\telse{\n\t\t\t\t\td[s]*=10;\n\t\t\t\t\td[s]+=x[i]-'0';\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(d[0]==2012) printf(\"0.0.0.0.%d\\n\",d[2]-21);\n\t\t\telse{\n\t\t\t\tf=10;\n\t\t\t\tg=d[0];\n\t\t\t\tif(d[1]>2)\tg++;\n\t\t\t\tfor(i=2013l;i<d[0];i++)\tf+=365;\n\t\t\t\tfor(i=2013;i<g;i++) if(i%4==0&&i%100!=0||i%400==0) f+=1;\n\t\t\t\tfor(i=0;i<d[1]-1;i++) f+=z[i];\n\t\t\t\tf+=d[2];\n\t\t\t\tc[0]=f%20;\n\t\t\t\tc[1]=f/20;\n\t\t\t\tc[2]=c[1]/18;\n\t\t\t\tc[1]=c[1]%18;\n\t\t\t\tc[3]=c[2]/20;\n\t\t\t\tc[2]=c[2]%20;\n\t\t\t\tc[4]=c[3]/20;\n\t\t\t\tc[3]=c[3]%20;\n\t\t\t\tc[4]%=13;\n\t\t\t\tfor(i=4;i>=0;i--){\n\t\t\t\t\tprintf(\"%d\",c[i]);\n\t\t\t\t\tif(i!=0) printf(\".\");\n\t\t\t\t\telse printf(\"\\n\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(a==4){\n\t\t\tfor(i=0;i<strlen(x);i++){\n\t\t\t\tif(x[i]=='.') s++;\n\t\t\t\telse{\n\t\t\t\t\td[s]*=10;\n\t\t\t\t\td[s]+=x[i]-'0';\n\t\t\t\t}\n\t\t\t}\n\t\t\tf=d[4];\n\t\t\tf+=d[3]*20;\n\t\t\tf+=d[2]*20*18;\n\t\t\tf+=d[1]*20*18*20;\n\t\t\tf+=d[0]*20*18*20*20;\n\t\t\tif(f<=10) printf(\"2012.12.%d\\n\",21+f);\n\t\t\telse{\n\t\t\t\tf-=10;\n\t\t\t\tc[0]=1;\n\t\t\t\twhile(1){\n\t\t\t\t\tif((2012+c[0])%4==0&&(2012+c[0])%100!=0||(2012+c[0])%400==0) q=366;\n\t\t\t\t\telse q=365;\n\t\t\t\t\tif(f<q) break;\n\t\t\t\t\tf-=q;\n\t\t\t\t\tc[0]++;\n\t\t\t\t}\n\t\t\t\tc[0]+=2012;\n\t\t\t\tfor(i=0;i<12;i++){\n\t\t\t\t\taa=z[i];\n\t\t\t\t\tif(q==366&&i==1) aa+=1;\n\t\t\t\t\tif(f<=aa) break;\n\t\t\t\t\tf-=aa;\n\t\t\t\t\tif(q==366&&i==1) f-=1;\n\t\t\t\t\tc[1]=i+1;\n\t\t\t\t}\n\t\t\t\tc[1]+=1;\n\t\t\t\tc[2]=f;\n\t\t\t\tfor(i=0;i<3;i++){\n\t\t\t\t\tprintf(\"%d\",c[i]);\n\t\t\t\t\tif(i!=2) printf(\".\");\n\t\t\t\t\telse printf(\"\\n\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nstd::vector<std::string> split(const std::string &str, char sep){\n    std::vector<std::string> v;\n    std::stringstream ss(str);\n    std::string buffer;\n    while( std::getline(ss, buffer, sep) ) {\n        v.push_back(buffer);\n    }\n    return v;\n}\n\ninline bool reap(int y){\n    if(y%4==0 && y%100 != 0 ){\n        return true;\n    }\n    else if(y%400 == 0){\n        return true;\n    }\n    return false;\n}\n\nint main() {\n\n\n    string s;\n\n    while(1){\n\n        cin >> s;\n\n        if(s[0] == '#') break;\n\n        vector<string> vs = split(s,'.');\n\n        if(vs.size() == 3){\n            int b,ka,t,w,ki;\n            b = ka = t = w = ki = 0;\n\n            int y,m,d;\n\n            stringstream ss;\n\n            ss << vs[0]; ss >> y; ss.clear();\n            ss << vs[1]; ss >> m; ss.clear();\n            ss << vs[2]; ss >> d; ss.clear();\n\n            ki = d - 21;\n            d -= ki;\n\n            while(y!=2012){\n\n                while(m!=0){\n                    if(m == 1 || m == 3 || m == 5 || m == 7 || m == 8 || m == 10 || m == 12){\n                        ki += 31;\n                    }\n                    else if(m == 4 || m == 6 || m == 9 || m == 11){\n                        ki += 30;\n                    }\n                    else if(m == 2 && reap(y)){\n                        ki += 29;\n                    }\n                    else{\n                        ki += 28;\n                    }\n                    m--;\n                }\n\n                if(ki>=20){\n                    w += ki/20;\n                    ki %= 20;\n                }\n                if(w>=18){\n                    t += w/18;\n                    w %= 18;\n                }\n                if(t>=20){\n                    ka += t/20;\n                    t %= 20;\n                }\n                if(ka>=20){\n                    b += ka/20;\n                    ka %= 20;\n                }\n                if(b>=13){\n                    b %= 13;\n                }\n\n                m = 12;\n\n                y--;\n\n            }\n\n            if(ki>=20){\n                w += ki/20;\n                ki %= 20;\n            }\n            if(w>=18){\n                t += w/18;\n                w %= 18;\n            }\n            if(t>=20){\n                ka += t/20;\n                t %= 20;\n            }\n            if(ka>=20){\n                b += ka/20;\n                ka %= 20;\n            }\n            if(b>=13){\n                b %= 13;\n            }\n\n            printf(\"%d.%d.%d.%d.%d\\n\",b,ka,t,w,ki);\n\n\n        }\n        else{\n\n            long long int day = 0;\n\n            long long int b,ka,t,w,ki;\n            b = ka = t = w = ki = 0;\n\n            int y,m,d;\n\n            stringstream ss;\n\n            ss << vs[0]; ss >> b; ss.clear();\n            ss << vs[1]; ss >> ka; ss.clear();\n            ss << vs[2]; ss >> t; ss.clear();\n            ss << vs[3]; ss >> w; ss.clear();\n            ss << vs[4]; ss >> ki; ss.clear();\n\n            day = ki + w*20 + t*20*18 + ka*20*18*20 + b*20*18*20*20;\n            \n            y = 2012; m = 12; d = 21;\n\n            if(day > 10){\n                y++; m = 1; d = 1; day -= 11;\n            }\n            else{\n                d += day;\n                day = 0;\n            }\n\n            while(day!=0){\n\n                if(m == 1 || m == 3 || m == 5 || m == 7 || m == 8 || m == 10){\n                    if(day >= 31){\n                        m++;\n                        day -= 31;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }\n                }\n                else if(m == 4 || m == 6 || m == 9 || m == 11){\n                    if(day >= 30){\n                        m++;\n                        day -= 30;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }\n                }\n                else if(m == 2 && reap(y)){\n                    if(day >= 29){\n                        m++;\n                        day -= 29;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }\n                }\n                else if(m == 2){\n                    if(day >= 28){\n                        m++;\n                        day -= 28;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }\n                }\n                else if(m == 12) {\n                    if(day >= 31){\n                        m = 1;\n                        y++;\n                        day -= 31;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }\n                }\n\n            }\n\n\n            printf(\"%d.%d.%d\\n\",y,m,d);\n\n\n        }\n\n    }\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 0x3f3f3f3f\n\n#include <iostream>\n#include <cstdio>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n  \nusing namespace std;\n  \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P> PP;\n  \nstatic const double EPS = 1e-8;\n  \nstatic const int tx[] = {0,1,0,-1};\nstatic const int ty[] = {-1,0,1,0};\n\nvector<string> split(string delim,string str){\n  vector<string> res;\n  str += delim;\n  for(int i=0;i<str.size();i++){\n    for(int j=1;i+j<=str.size();j++){\n      if(str.substr(i,j).find(delim) != string::npos){\n        if(str.substr(i,j-1).size() >0 ) res.push_back(str.substr(i,j-1));\n        i+=j-1;\n        break;\n      }\n    }\n  }\n  return res;\n}\n\nstatic const ll days_per_month[] = {0,31,28,31,30,31,30,31,31,30,31,30,31};\n\nbool is_leap_year(int year){\n  if(year % 4 == 0){\n    if(year % 100 != 0) return true;\n    if(year % 400 == 0) return true;\n  }\n  return false;\n}\n\nstring maya2christ(ll passed_day){\n  passed_day += 355LL;\n  int year = 2012;\n  for(int prev = 2012; prev < 10000000; prev++){\n    if(is_leap_year(prev) && passed_day - 366LL >= 0){\n      passed_day -= 366LL;\n    }\n    else if(!is_leap_year(prev) && passed_day - 365LL >= 0){\n      passed_day -= 365LL;\n    }\n    else{\n      break;\n    }\n    year = prev + 1;\n  }\n\n  int month = 1;\n  for(int prev = 1; prev < 12; prev++){\n    if(is_leap_year(year) && prev == 2\n       && passed_day - (days_per_month[prev] + 1LL) >= 0){\n      passed_day -= (days_per_month[prev] + 1LL);\n    }\n    else if(passed_day - days_per_month[prev] >= 0){\n      passed_day -= days_per_month[prev];\n    }\n    else{\n      break;\n    }\n    month = prev + 1;\n  }\n  int day = 1;\n  day += passed_day;\n  stringstream ss;\n  ss << year << \".\" << month << \".\" << day;\n  return ss.str();\n}\n\nstring christ2maya(ll passed_day){\n  passed_day %= 13*20*20*18*20;\n  ll b = passed_day / (20*20*18*20);\n  passed_day %= (20*20*18*20);\n\n  ll ka = passed_day / (20*18*20);\n  passed_day %= (20*18*20);\n\n  ll t = passed_day / (18*20);\n  passed_day %= (18*20);\n\n  ll w = passed_day / 20;\n  passed_day %= 20;\n  \n  ll ki = passed_day;\n  stringstream ss;\n  ss << b << \".\" << ka << \".\" << t << \".\" << w << \".\" << ki;\n  return ss.str();\n}\n\nll compute_christ_passed_day(const string& str){\n  vector<string> elements = split(\".\",str);\n  ll year = atol(elements[0].c_str());\n  ll month = atol(elements[1].c_str());\n  ll day = atol(elements[2].c_str());\n  \n  ll passed_day = 0;\n  for(ll prev = 2012; prev < year; prev++){\n    passed_day += (is_leap_year(prev) ? 366LL : 365LL);\n  }\n  \n  for(ll prev = 1; prev < month; prev++){\n    if(is_leap_year(year) && prev == 2){\n      passed_day++;\n    }\n    passed_day += days_per_month[prev];\n  }\n  for(ll prev = 1; prev < day; prev++){\n    passed_day++;\n  }\n  passed_day -= 355LL; //2012.01.01 - 2012.12.20\n  \n  return passed_day;\n}\n\nll compute_maya_passed_day(const string& str){\n  vector<string> elements = split(\".\",str);\n  ll b = atol(elements[0].c_str());\n  ll ka = atol(elements[1].c_str());\n  ll t = atol(elements[2].c_str());\n  ll w = atol(elements[3].c_str());\n  ll ki = atol(elements[4].c_str());\n  \n  ll passed_day = b * (20*20*18*20) + ka * (20*18*20) + t * (18*20) + w * 20 + ki;\n  return passed_day;\n}\n\nint main(){\n  string str;\n  while(cin >> str){\n    if(str == \"#\") break;\n    int total_dots = count(str.begin(),str.end(),'.');\n    if(total_dots == 2){\n      //after christ\n      cout << christ2maya(compute_christ_passed_day(str)) << endl;\n    }\n    else{\n      //maya\n      cout << maya2christ(compute_maya_passed_day(str)) << endl;\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<string>\nusing namespace std;\n\nstruct M{\n\tlong long b;\n\tlong long ka;\n\tlong long t;\n\tlong long w;\n\tlong long ki;\n};\nM mkM(long long a,long long b,long long c,long long d,long long e){\n\tM m;\n\tm.b=a; m.ka=b; m.t=c; m.w=d; m.ki=e;\n\treturn m;\n}\n\nstruct C{\n\tlong long y;\n\tlong long m;\n\tlong long d;\n};\nC mkC(long long a,long long b,long long c){\n\tC cc;\n\tcc.y=a; cc.m=b; cc.d=c;\n\treturn cc;\n}\n\nlong long MtoN(M m){\n\tlong long ret=0;\n\tret+=m.b; ret*=20;\n\tret+=m.ka; ret*=20;\n\tret+=m.t; ret*=18;\n\tret+=m.w; ret*=20;\n\tret+=m.ki;\n\treturn ret;\n}\n\nM NtoM(long long n){\n\tM m;\n\tm.ki=n;\n\tm.w=m.ki/20; m.ki%=20;\n\tm.t=m.w/18; m.w%=18;\n\tm.ka=m.t/20; m.t%=20;\n\tm.b=m.ka/20; m.ka%=20;\n\tm.b%=13;\n\treturn m;\n}\n\nlong long D[13]={0,31,28,31,30,31,30,31,31,30,31,30,31};\n\nlong long CtoN(C c){\n\tif(c.y==2012)return c.d-21;\n\n\tlong long ret=0;\n\twhile(c.y>=2013+400){\n\t\tc.y-=400;\n\t\tret+=365*400+97;\n\t}\n\tret+=c.d-1; c.d=1;\n\twhile(c.m>1){\n\t\tc.m--;\n\t\tret+=D[c.m];\n\t\tif(c.m==2&&c.y%4==0&&(c.y%100!=0||c.y%400==0))ret++;\n\t}\n\twhile(c.y>2013){\n\t\tc.y--;\n\t\tret+=365;\n\t\tif(c.y%4==0&&(c.y%100!=0||c.y%400==0))ret++;\n\t}\n\n\treturn ret+11;\n}\n\nC NtoC(long long n){\n\tC c;\n\tc.y=2012; c.m=12; c.d=21;\n\tif(n<11){ c.d+=n; return c; }\n\tc.y=2013; c.m=1; c.d=1; n-=11;\n\n\twhile(n>=365*400+97){\n\t\tn-=365*400+97;\n\t\tc.y+=400;\n\t}\n\twhile(n>=365){\n\t\tif(c.y%4==0&&(c.y%100!=0||c.y%400==0)){\n\t\t\tif(n>=366){\n\t\t\t\tc.y++;\n\t\t\t\tn-=366;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tc.y++;\n\t\t\tn-=365;\n\t\t}\n\t}\n\tif(c.y%4==0&&(c.y%100!=0||c.y%400==0)){\n\t\tD[2]++;\n\t\twhile(n>=D[c.m]){\n\t\t\tn-=D[c.m];\n\t\t\tc.m++;\n\t\t}\n\t\tc.d+=n;\n\t\tD[2]--;\n\t}\n\telse {\n\t\twhile(n>=D[c.m]){\n\t\t\tn-=D[c.m];\n\t\t\tc.m++;\n\t\t}\n\t\tc.d+=n;\n\t}\n\n\treturn c;\n}\n\nint main(){\n\tstring s;\n\twhile(1){\n\t\tcin>>s;\n\t\tif(s==\"#\")break;\n\n\t\tlong long t=0;\n\t\tlong long a[6]={0};\n\t\tfor(long long i=0;i<s.size();i++){\n\t\t\tif(s[i]=='.')t++;\n\t\t\telse {\n\t\t\t\ta[t]*=10;\n\t\t\t\ta[t]+=s[i]-48;\n\t\t\t}\n\t\t}\n\n\t\tM m;\n\t\tC c;\n\t\tif(t==4){\n\t\t\tm.b=a[0];\n\t\t\tm.ka=a[1];\n\t\t\tm.t=a[2];\n\t\t\tm.w=a[3];\n\t\t\tm.ki=a[4];\n\t\t\tlong long n=MtoN(m);\n\t\t\tc=NtoC(n);\n\t\t\n\t\t\tprintf(\"%d.%d.%d\\n\",c.y,c.m,c.d);\n\t\t}\n\t\telse {\n\t\t\tc.y=a[0];\n\t\t\tc.m=a[1];\n\t\t\tc.d=a[2];\n\t\t\tlong long n=CtoN(c);\n\t\t\tm=NtoM(n);\n\n\t\t\tprintf(\"%d.%d.%d.%d.%d\\n\",m.b,m.ka,m.t,m.w,m.ki);\n\t\t}\n\t}\n}\t\t"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <numeric>\n#include <bitset>\n#include <cmath>\n#include <sstream>\n\nstatic const int MOD = 1000000007;\nusing ll = long long;\nusing u32 = unsigned;\nusing u64 = unsigned long long;\nusing namespace std;\n\ntemplate<class T> constexpr T INF = ::numeric_limits<T>::max()/32*15+208;\n\n\ntemplate <class T>\nostream& operator<<(ostream& os, vector<T> v) {\n    os << \"{\";\n    for (int i = 0; i < v.size(); ++i) {\n        if(i) os << \", \";\n        os << v[i];\n    }\n    return os << \"}\";\n}\n\ntemplate <class L, class R>\nostream& operator<<(ostream& os, pair<L, R> p) {\n    return os << \"{\" << p.first << \", \" << p.second << \"}\";\n}\n\n\nint main() {\n    int X[] = {0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\n    string s;\n    while(getline(cin, s), s != \"#\"){\n        int cnt = 0;\n        for (auto &&i : s) cnt += i == '.';\n        vector<ll> val{0};\n        for (auto &&i : s) {\n            if(isdigit(i)) val.back() = val.back()*10+i-'0';\n            else val.emplace_back();\n        }\n        if(val.size() == 3){\n            if(val[1] <= 2) val[1] += 12, val[0]--;\n            ll x = 365*val[0]+val[0]/4-val[0]/100+val[0]/400+306*(val[1]+1)/10+val[2]-735286;\n            vector<int> ans(5);\n            ans[4] = x%20; x /= 20;\n            ans[3] = x%18; x /= 18;\n            ans[2] = x%20; x /= 20;\n            ans[1] = x%20; x /= 20;\n            ans[0] = x%13;\n            printf(\"%d.%d.%d.%d.%d\\n\", ans[0], ans[1], ans[2], ans[3], ans[4]);\n        }else {\n            ll x = val[4]+20*(val[3]+18*(val[2]+20*(val[1]+20*(val[0]))));\n            int ok = 2011, ng = 8000;\n            while(ng-ok > 1){\n                auto mid = (ok+ng)/2;\n                if(365*mid+mid/4-mid/100+mid/400-734857 <= x) ok = mid;\n                else ng = mid;\n            }\n            x = x-(365*ok+ok/4-ok/100+ok/400-734857);\n            ok++;\n            if(ok%4 == 0 && ok%100 != 0 || ok%400 == 0) X[2] = 29;\n            else X[2] = 28;\n            for (int i = 1; i <= 12; ++i) {\n                for (int j = 1; j <= X[i]; ++j) {\n                    if(!x) printf(\"%d.%d.%d\\n\", ok, i, j);\n                    x--;\n                }\n            }\n        }\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define int long long\n\nsigned main()\n{\n    string S;\n    int month[2][13] = { { 0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 },\n                         { 0, 31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 } };\n\n    while ( cin >> S, S != \"#\" ) {\n\n        int period = 0;\n        for ( int i = 0; i < S.size(); i++) {\n            if ( S[i] == '.' ) {\n                period++;\n            }\n        }\n\n        if ( period == 4 ) {\n            int a, b, c, d, e;\n\n            int cnt = 0;\n            sscanf(S.c_str(), \"%lld.%lld.%lld.%lld.%lld\", &a, &b, &c, &d, &e);\n            cnt = e + d * 20 + c * 360 + b * 7200 + a * 144000;\n\n            a = 2012, b = 12, c = 21;\n            for ( int i = 0; i < cnt; i++ ) {\n                c++;\n                bool isUru = (a % 400 == 0 || a % 100 != 0 && a % 4 == 0);\n                int uru;\n                if ( isUru ) {\n                    uru = 1;\n                } else {\n                    uru = 0;\n                }\n                if ( month[uru][b] < c ) {\n                    c = 1;\n                    b++;\n                    if ( b > 12 ) {\n                        b = 1;\n                        a++;\n                    }\n                }\n            }\n            cout << a << \".\" << b << \".\" << c << endl;\n        } else {\n            int a,b,c;\n            sscanf(S.c_str(), \"%lld.%lld.%lld\", &a,&b,&c);\n            int cnt = 11 + (a - 2013) * 365;\n            if ( a == 2012 ) cnt--;\n            for(int i=2013;i<a;i++){\n                if(i%400==0||(i%100!=0&&i%4==0)){\n                    cnt++;\n                }\n            }\n            int bb = 1, cc = 1;\n            while ( bb != b || cc != c ) {\n                cc++;\n                bool isUru = (a % 400 == 0 || a % 100 != 0 && a % 4 == 0 );\n                int uru;\n\n                if ( isUru ) uru = 1;\n                else uru = 0;\n\n                if ( cc > month[uru][bb] ) {\n                    cc = 1;\n                    bb++;\n                }\n                cnt++;\n            }\n            cout << (cnt / 144000) % 13 << \".\" << (cnt / 7200) % 20 << \".\" << (cnt / 360) % 20 << \".\" << (cnt / 20) % 18 << \".\" << cnt % 20 << endl;\n        }\n\n    }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <string>\n#include <vector>\n#include <iostream>\nusing namespace std;\nvector<int> split(string str, char chr) {\n\tvector<int> ret; str += chr;\n\tint q = 0;\n\tfor (int i = 0; i < str.size(); i++) {\n\t\tif (str[i] == chr) ret.push_back(q), q = 0;\n\t\telse q = q * 10 + str[i] - 48;\n\t}\n\treturn ret;\n}\nlong long days(int y) {\n\tlong long ret = 146097LL * (y / 400);\n\tfor (int i = 0; i < y % 400; i++) {\n\t\tret += ((i == 0 || (i % 4 == 0 && i % 100 != 0)) ? 366 : 365);\n\t}\n\treturn ret;\n}\nvector<int> solve(long long z) {\n\tint l = 0, r = 50000000;\n\twhile (r - l > 1) {\n\t\tint m = (l + r) / 2;\n\t\tif (days(m) > z) r = m;\n\t\telse l = m;\n\t}\n\tint y = l, m = -1;\n\tlong long w = z - days(y);\n\tfor (int i = 0; i < 12; i++) {\n\t\tint e = -1;\n\t\tif(i == 1) e = ((y % 400 == 0 || (y % 4 == 0 && y % 100 != 0)) ? 29 : 28);\n\t\telse if (i == 3 || i == 5 || i == 8 || i == 10) e = 30;\n\t\telse e = 31;\n\t\tif (w < e) { m = i; break; }\n\t\tw -= e;\n\t}\n\treturn vector<int>({ y, m + 1, (int)(w) + 1 });\n}\nstring s;\nint main() {\n\twhile (cin >> s, s != \"#\") {\n\t\tvector<int> v = split(s, '.');\n\t\tif (v.size() == 3) {\n\t\t\tlong long l = 0, r = 5000000000;\n\t\t\twhile (r - l > 1) {\n\t\t\t\tlong long m = (l + r) / 2;\n\t\t\t\tvector<int> w = solve(m);\n\t\t\t\tif (w < v) l = m;\n\t\t\t\telse r = m;\n\t\t\t}\n\t\t\tint ret = (r + 1136777) % 1872000;\n\t\t\tprintf(\"%d.%d.%d.%d.%d\\n\", ret / 144000, ret % 144000 / 7200, ret % 7200 / 360, ret % 360 / 20, ret % 20);\n\t\t}\n\t\telse {\n\t\t\tlong long w = v[0] * 144000 + v[1] * 7200 + v[2] * 360 + v[3] * 20 + v[4];\n\t\t\tvector<int> ret = solve(w + 735223);\n\t\t\tprintf(\"%d.%d.%d\\n\", ret[0], ret[1], ret[2]);\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "\n\n#include <bits/stdc++.h>\nusing namespace std;\n\n#define in ,\n#define esc_paren(...) __VA_ARGS__\n#define pp_empty(...)\n#define pp_cat_i(x, y) x ## y\n#define pp_cat(x, y) pp_cat_i(x, y)\n\n#define pp_inc0 1\n#define pp_inc1 2\n#define pp_inc2 3\n#define pp_inc3 4\n#define pp_inc4 5\n#define pp_inc5 6\n#define pp_inc6 7\n#define pp_inc7 8\n#define pp_inc8 9\n#define pp_inc(i) pp_cat(pp_inc, i)\n\n#define pp_arg10(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, ...) _9\n#define pp_has_comma(...) pp_arg10(__VA_ARGS__, 1, 1, 1, 1, 1, 1, 1, 1, 0)\n#define pp_trigger_paren(...) ,\n#define pp_is_empty(...) \\\n  pp_is_empty1( \\\n      pp_has_comma(__VA_ARGS__), \\\n      pp_has_comma(pp_trigger_paren __VA_ARGS__), \\\n      pp_has_comma(__VA_ARGS__()), \\\n      pp_has_comma(pp_trigger_paren __VA_ARGS__()) \\\n      ) \n#define pp_paste5(_0, _1, _2, _3, _4) _0 ## _1 ## _2 ## _3 ## _4\n#define pp_is_empty1(_0, _1, _2, _3) pp_has_comma(pp_paste5(pp_is_empty_case_, _0, _1, _2, _3))\n#define pp_is_empty_case_0001 ,\n\n#define pp_is_one(...) pp_is_one_(__VA_ARGS__, pp_one_seq)\n#define pp_is_one_(...) pp_is_one_n(__VA_ARGS__)\n#define pp_is_one_n(_1,_2,_3,_4,_5,_6,_7,_8,_9,_10, N, ...) N\n#define pp_one_seq 0,0,0,0,0,0,0,0,0,1,0\n\n#define pp_narg(...) \\\n         pp_narg_(__VA_ARGS__, pp_narg_seq)\n#define pp_narg_(...) \\\n         pp_narg_n(__VA_ARGS__)\n#define pp_narg_n( \\\n          _1, _2, _3, _4, _5, _6, _7, _8, _9,_10, \\\n         _11,_12,_13,_14,_15,_16,_17,_18,_19,_20, \\\n         _21,_22,_23,_24,_25,_26,_27,_28,_29,_30, \\\n         _31,_32,_33,_34,_35,_36,_37,_38,_39,_40, \\\n         _41,_42,_43,_44,_45,_46,_47,_48,_49,_50, \\\n         _51,_52,_53,_54,_55,_56,_57,_58,_59,_60, \\\n         _61,_62,_63,n,...) n\n#define pp_narg_seq \\\n         63,62,61,60, \\\n         59,58,57,56,55,54,53,52,51,50, \\\n         49,48,47,46,45,44,43,42,41,40, \\\n         39,38,37,36,35,34,33,32,31,30, \\\n         29,28,27,26,25,24,23,22,21,20, \\\n         19,18,17,16,15,14,13,12,11,10, \\\n          9, 8, 7, 6, 5, 4, 3, 2, 1, 0\n\n#define pp_if_0(x, y) y\n#define pp_if_1(x, y) x\n#define pp_if(cond, x, y) pp_cat(pp_if_, cond)(x, y)\n\n#define pp_foreach_i9(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i8(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i7(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i6(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i5(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i4(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i3(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i2(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i1(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i0(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i(i, f, ...) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach(f, ...) pp_foreach_i(0, f, __VA_ARGS__)\n\n\ntypedef long long ll;\n#define down_queue(x) priority_queue<x>\n#define up_queue(x) priority_queue<x, vector<x>, greater<x>>\n#define all(x) x.begin(), x.end()\n#define split_str(str, sp_word) istringstream stream(str); string res; for(int cnt = 0; getline(stream,res,sp_word); cnt++)\n#define digit(x) ((int)log10((double)(x)) + 1)\n#define mp(x,y) make_pair(x,y)\n#define pb(x) push_back(x)\n#define pf(x) push_front(x)\n#define vec_cpy(to,from) copy(all(to),back_inserter(from))\n#define ary_cpy(to,from) memcpy(to, from, sizeof(from))\n#define MOD 1000000007\n#define INF 999999999\n\n\n#define rep(...) rep1(rep2, (__VA_ARGS__))\n#define rep1(X, A) X A\n#define rep2(i, ...) pp_if(pp_is_one(__VA_ARGS__), rep_len1(i, __VA_ARGS__), rep3(i, __VA_ARGS__))\n#define rep_len1(i, end, ...) for (int i = 0; i < end; i++)\n#define rep3(i, iter, ...) rep4(rep5, (iter, i, esc_paren __VA_ARGS__))\n#define rep4(X, A) X A\n#define rep5(iter, ...) iter(__VA_ARGS__)\n\n#define up up_iter ,\n#define up_iter3(i, start, end) for (int i = start; i < end; i++)\n#define up_iter4(i, start, end, up) for (int i = start; i < end; i += up)\n#define up_iter(...) pp_cat(up_iter, pp_narg(__VA_ARGS__))(__VA_ARGS__)\n#define down down_iter ,\n#define down_iter2(i, end) for(int i = end-1; i >= 0; i--)\n#define down_iter3(i, start, end) for (int i = end-1; i >= start; i--)\n#define down_iter4(i, start, end, down) for (int i = end-1; i >= start; i -= down)\n#define down_iter(...) pp_cat(down_iter, pp_narg(__VA_ARGS__))(__VA_ARGS__)\n#define viter viter_iter ,\n#define viter_iter(i, v) auto tmpitr=v.begin(); for (auto i=*tmpitr; tmpitr != v.end(); tmpitr++)\n\n\n#define pp_init2(cnt, body) struct _InitStruct ## cnt { _InitStruct ## cnt() { body } } _initstruct ## cnt;\n#define pp_init1(f, cnt, body) f(cnt, body)\n#define pp_init(body) pp_init1(pp_init2, __COUNTER__, body)\n\n#define init_array(arr, N, val) pp_init(rep (i in N) { arr[i] = val; })\n#define iota_array(arr, N, start) pp_init(rep (i in N) { arr[i] = start + i; })\n\n\n#define debug_var_elem(v) << #v << \"=\" << v << \" \"\n#ifdef DEBUG\n#define debug_echo(e) cout << \"L\" << __LINE__ << \": \" << e << endl\n#define debug_var(...) cout << \"L\" << __LINE__ << \": \" pp_foreach(debug_var_elem, __VA_ARGS__) << endl\n#else\n#define debug_echo(e)\n#define debug_var(...)\n#endif\n\n\n#define pp_gen_field(list) pp_gen_field1 list\n#define pp_gen_field1(name, val) decltype(val) name;\n#define pp_gen_init(list) pp_gen_init1 list\n#define pp_gen_init1(name, val) ,val\n#define pp_gen_find_set_wrap(ufnodename) ufnodename pp_gen_find_set\n#define pp_gen_find_set(list) pp_gen_find_set1 list\n#define pp_gen_find_set1(name, val) \\\n  find_set_ ## name(int x, decltype(val) v) { \\\n    if (nodes[x].parent == x) { \\\n      nodes[x].name = v; \\\n      return nodes[x]; \\\n    } else { \\\n      return nodes[x] = find_set_ ## name(nodes[x].parent, v); \\\n    } \\\n  }\n#define pp_gen_unite_set(list) pp_gen_unite_set1 list\n#define pp_gen_unite_set1(name, val) \\\n  if (nodes[x].name == val) { \\\n    find_set_ ## name(x, find(y).name); \\\n  } \\\n  if (nodes[y].name == val) { \\\n    find_set_ ## name(y, find(x).name); \\\n  }\n\n#define def_unionfind(ufname, ufnodename, ...) \\\n  struct ufnodename { \\\n    int parent; \\\n    pp_foreach(pp_gen_field, __VA_ARGS__) \\\n  }; \\\n  struct ufname { \\\n    vector<ufnodename> nodes; \\\n    vector<int> rank; \\\n    ufname(int n) : nodes(n+1), rank(n+1) { \\\n      rep (i in n) { \\\n        nodes[i] = ufnodename{i pp_foreach(pp_gen_init, __VA_ARGS__)}; \\\n        rank[i] = 0; \\\n      } \\\n    } \\\n    ufnodename find(int x) { \\\n      if (nodes[x].parent == x) { \\\n        return nodes[x]; \\\n      } else { \\\n        return nodes[x] = find(nodes[x].parent); \\\n      } \\\n    } \\\n    pp_foreach(pp_gen_find_set_wrap(ufnodename), __VA_ARGS__) \\\n    void unite(int x, int y) { \\\n      x = find(x).parent; \\\n      y = find(y).parent; \\\n      if (x == y) return; \\\n      if (rank[x] < rank[y]) { \\\n        pp_foreach(pp_gen_unite_set, __VA_ARGS__); \\\n        nodes[x].parent = y; \\\n      } else { \\\n        pp_foreach(pp_gen_unite_set, __VA_ARGS__); \\\n        nodes[y].parent = x; \\\n        if (rank[x] == rank[y]) rank[x]++; \\\n      } \\\n    } \\\n    bool same(int x, int y) { \\\n      return find(x).parent == find(y).parent; \\\n    } \\\n  }\n\n\nll gcd(ll a,ll b){while(b){ll tmp = a % b;a = b;b = tmp;}return a;}\nll lcm(ll a,ll b){return a / gcd(a,b) * b;}\n\n#define def_varargs(name, f) \\\n  template<typename First> \\\n  inline First name(First first) { return first; } \\\n  template<typename First, typename... Rest> \\\n  inline First name(First first, Rest... rest) { return f(first, name(rest...)); }\n\nvector<string> split(const string &s, char delim) {\n    vector<string> elems;\n    string item;\n    for (char ch: s) {\n        if (ch == delim) {\n            if (!item.empty())\n                elems.push_back(item);\n            item.clear();\n        }\n        else {\n            item += ch;\n        }\n    }\n    if (!item.empty())\n        elems.push_back(item);\n    return elems;\n}\n\n#define KIN 1\n#define WINAL (KIN*20)\n#define TON (WINAL*18)\n#define KATON (TON*20)\n#define BAKTON (KATON*20)\n\nbool is_uruu(ll year) {\n  return year % 4 == 0 && (year % 100 != 0 || year % 400 == 0);\n}\n\npair<ll, bool> calc_year(ll& allday) {\n  ll cnt = 2012;\n  allday++;\n  while (true) {\n    ll sub;\n    if (is_uruu(cnt)) {\n      sub = 366;\n    } else {\n      sub = 365;\n    }\n    if (allday - sub < 0) {\n      break;\n    }\n    allday -= sub;\n    cnt++;\n  }\n  return mp(cnt, is_uruu(cnt+1));\n}\npair<ll, ll> calc_month(ll& allday, ll& year, bool uruu) {\n  ll cnt = 12;\n  ll day = 31;\n  while (true) {\n    ll sub;\n    if (cnt == 2) {\n      sub = uruu ? 29 : 28;\n    } else if (cnt == 4 || cnt == 6 || cnt == 9 || cnt == 11) {\n      sub = 30;\n    } else {\n      sub = 31;\n    }\n    day = sub;\n    if (allday - sub < 0) {\n      break;\n    }\n    allday -= sub;\n    cnt++;\n    if (cnt > 12) {\n      year++;\n      cnt = 1;\n    }\n  }\n  return mp(cnt, day);\n}\nll calc_day(ll& allday, ll& month, ll& day) {\n  if (21 + allday > day) {\n    month++;\n    return 21 + allday - day;\n  } else {\n    return allday+21;\n  }\n}\n\nll year_to_day(ll year) {\n  ll cnt = 0;\n  rep (i in up(1, year-2012+1)) {\n    if (is_uruu(i+2012)) {\n      cnt += 366;\n    } else {\n      cnt += 365;\n    }\n  }\n  return cnt;\n}\nll month_to_day(ll month, ll& year) {\n  int cnt = 0;\n  if (month==12) {\n    return 0;\n  }\n  year--;\n  rep (i in up(1, month+1)) {\n    if (i == 2) {\n      cnt += 28;\n    } else if (i == 4 || i == 6 || i == 9 || i == 11) {\n      cnt += 30;\n    } else {\n      cnt += 31;\n    }\n  }\n  return cnt;\n}\n\nint main() {\n  string s;\n  while (cin >> s && s[0] != '#') {\n    vector<string> elems = split(s, '.');\n    vector<int> maya;\n    for (auto e : elems) {\n      maya.pb(stoi(e));\n    }\n    if (elems.size() == 5) {\n      ll allday = maya[0]*BAKTON + maya[1]*KATON + maya[2]*TON + maya[3]*WINAL + maya[4]*KIN;\n      auto year = calc_year(allday);\n      auto month = calc_month(allday, year.first, year.second);\n      auto day = calc_day(allday, month.first, month.second);\n      if (month.first > 12) {\n        month.first -= 12;\n        year.first++;\n      }\n      cout << year.first << \".\" << month.first << \".\" << day << endl;\n    } else {\n      ll y = maya[0];\n      ll month = month_to_day(maya[1], y);\n      ll day = maya[2] - 21;\n      ll year = year_to_day(y);\n      ll allday = year + month + day;\n      allday %= BAKTON * 13;\n      ll b = allday / BAKTON; allday %= BAKTON;\n      ll ka = allday / KATON; allday %= KATON;\n      ll t = allday / TON; allday %= TON;\n      ll w = allday / WINAL; allday %= WINAL;\n      ll ki = allday / KIN; allday %= KIN;\n      cout << b << \".\" << ka << \".\" << t << \".\" << w << \".\" << ki << endl;\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nstd::vector<std::string> split(const std::string &str, char sep){\n    std::vector<std::string> v;\n    std::stringstream ss(str);\n    std::string buffer;\n    while( std::getline(ss, buffer, sep) ) {\n        v.push_back(buffer);\n    }\n    return v;\n}\n\ninline bool reap(int y){\n    if(y%4==0 && y%100 != 0 ){\n        return true;\n    }\n    else if(y%400 == 0){\n        return true;\n    }\n    return false;\n}\n\nint main() {\n\n\n    string s;\n\n    while(1){\n\n        cin >> s;\n\n        if(s[0] == '#') break;\n\n        vector<string> vs = split(s,'.');\n\n        if(vs.size() == 3){\n            int b,ka,t,w,ki;\n            b = ka = t = w = ki = 0;\n\n            int y,m,d;\n\n            stringstream ss;\n\n            ss << vs[0]; ss >> y; ss.clear();\n            ss << vs[1]; ss >> m; ss.clear();\n            ss << vs[2]; ss >> d; ss.clear();\n\n            ki = d - 21;\n            d -= ki;\n\n            while(y!=2012){\n\n                while(m!=0){\n                    if(m == 1 || m == 3 || m == 5 || m == 7 || m == 8 || m == 10 || m == 12){\n                        ki += 31;\n                    }\n                    else if(m == 4 || m == 6 || m == 9 || m == 11){\n                        ki += 30;\n                    }\n                    else if(m == 2 && reap(y)){\n                        ki += 29;\n                    }\n                    else{\n                        ki += 28;\n                    }\n                    m--;\n                }\n\n                if(ki>=20){\n                    w += ki/20;\n                    ki %= 20;\n                }\n                if(w>=18){\n                    t += w/18;\n                    w %= 18;\n                }\n                if(t>=20){\n                    ka += t/20;\n                    t %= 20;\n                }\n                if(ka>=20){\n                    b += ka/20;\n                    ka %= 20;\n                }\n                if(b>=13){\n                    b %= 13;\n                }\n\n                m = 12;\n\n                y--;\n\n            }\n\n            if(ki>=20){\n                w += ki/20;\n                ki %= 20;\n            }\n            if(w>=18){\n                t += w/18;\n                w %= 18;\n            }\n            if(t>=20){\n                ka += t/20;\n                t %= 20;\n            }\n            if(ka>=20){\n                b += ka/20;\n                ka %= 20;\n            }\n            if(b>=13){\n                b %= 13;\n            }\n\n            if(ki<0){\n                if(w==0){\n                    if(t==0){\n                        if(ka==0){\n                            b--;\n                            ka = 19;\n                            t = 19;\n                            w = 17;\n                            ki += 19;\n                        }\n                        else{\n                            ka--;\n                            t = 19;\n                            w = 17;\n                            ki += 19;\n                        }\n                    }\n                    else{\n                        t--;\n                        w = 17;\n                        ki += 19;\n                    }\n                }\n                else{\n                    w--;\n                    ki += 19;\n                }\n            }\n\n            printf(\"%d.%d.%d.%d.%d\\n\",b,ka,t,w,ki);\n\n\n        }\n        else{\n\n            long long int day = 0;\n\n            long long int b,ka,t,w,ki;\n            b = ka = t = w = ki = 0;\n\n            long long int y,m,d;\n\n            stringstream ss;\n\n            ss << vs[0]; ss >> b; ss.clear();\n            ss << vs[1]; ss >> ka; ss.clear();\n            ss << vs[2]; ss >> t; ss.clear();\n            ss << vs[3]; ss >> w; ss.clear();\n            ss << vs[4]; ss >> ki; ss.clear();\n\n            day = ki + w*20 + t*20*18 + ka*20*18*20 + b*20*18*20*20;\n\n            y = 2012; m = 12; d = 21;\n/*\n            if(day > 10){\n                y++; m = 1; d = 1; day -= 11;\n            }\n            else{\n                d += day;\n                day = 0;\n            }\n\n            while(day!=0){\n\n                if(m == 1 || m == 3 || m == 5 || m == 7 || m == 8 || m == 10){\n                    if(day >= 31){\n                        m++;\n                        day -= 31;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }\n                }\n                else if(m == 4 || m == 6 || m == 9 || m == 11){\n                    if(day >= 30){\n                        m++;\n                        day -= 30;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }\n                }\n                else if(m == 2 && reap(y)){\n                    if(day >= 29){\n                        m++;\n                        day -= 29;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }\n                }\n                else if(m == 2){\n                    if(day >= 28){\n                        m++;\n                        day -= 28;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }\n                }\n                else if(m == 12) {\n                    if(day >= 31){\n                        m = 1;\n                        y++;\n                        day -= 31;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }\n                }\n\n            }\n*/\n\n            while(day!=0){\n\n                if(m == 1 || m == 3 || m == 5 || m == 7 || m == 8 || m == 10){\n                    while(day != 0 && d != 32){\n                        day--;\n                        d++;\n                    }\n                    if(d==32){\n                        m++;\n                        d = 1;\n                    }\n                    /*if(day >= 31){\n                        m++;\n                        day -= 31;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }*/\n                }\n                else if(m == 4 || m == 6 || m == 9 || m == 11){\n                    while(day != 0 && d != 31){\n                        day--;\n                        d++;\n                    }\n                    if(d==31){\n                        m++;\n                        d = 1;\n                    }\n                    /*if(day >= 30){\n                        m++;\n                        day -= 30;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }*/\n                }\n                else if(m == 2 && reap(y)){\n                    while(day != 0 && d != 30){\n                        day--;\n                        d++;\n                    }\n                    if(d==30){\n                        m++;\n                        d = 1;\n                    }\n                    /*if(day >= 29){\n                        m++;\n                        day -= 29;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }*/\n                }\n                else if(m == 2){\n                    while(day != 0 && d != 29){\n                        day--;\n                        d++;\n                    }\n                    if(d==29){\n                        m++;\n                        d = 1;\n                    }\n                    /*if(day >= 28){\n                        m++;\n                        day -= 28;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }*/\n                }\n                else if(m == 12) {\n                    while(day != 0 && d != 32){\n                        day--;\n                        d++;\n                    }\n                    if(d==32){\n                        m = 1;\n                        d = 1;\n                        y++;\n                    }\n                    /*if(day >= 31){\n                        m = 1;\n                        y++;\n                        day -= 31;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }*/\n                }\n\n            }\n\n            printf(\"%lld.%lld.%lld\\n\",y,m,d);\n\n\n        }\n\n    }\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <map>\n#include <cstring>\n#include <string>\n#include <stack>\n#include <queue>\n#include <cmath>\n#include <cstdlib>\n#include <cstdio>\n#include <algorithm>\n#include <sstream>\n#include <set>\nusing namespace std;\n\n#define rep(i,n) for(int i=0;i<(int)n;i++)\n#define repp(i,k,n) for(int i=k;i<(int)n;i++)\n#define rei(n) for(int i=0;i<(int)n;i++)\n#define rel(n) for(int l=0;l<(int)n;l++)\n#define al(s) s.begin(),s.end()\n#define INT_MAX 2147483647\n\nstruct Calendar\n{\n\tlong long year;\n\tlong long month;\n\tlong long day;\n\tlong long dat[2][13];\n\tCalendar(long long y, long long m, long long d)\n\t{\n\t\tyear = y;\n\t\tmonth = m;\n\t\tday = d;\n\t\tdat[0][1] = dat[1][1] = 31;\n\t\tdat[0][2] = dat[1][2] = 28;\n\t\tdat[0][3] = dat[1][3] = 31;\n\t\tdat[0][4] = dat[1][4] = 30;\n\t\tdat[0][5] = dat[1][5] = 31;\n\t\tdat[0][6] = dat[1][6] = 30;\n\t\tdat[0][7] = dat[1][7] = 31;\n\t\tdat[0][8] = dat[1][8] = 31;\n\t\tdat[0][9] = dat[1][9] = 30;\n\t\tdat[0][10] = dat[1][10] = 31;\n\t\tdat[0][11] = dat[1][11] = 30;\n\t\tdat[0][12] = dat[1][12] = 31;\n\t\tdat[1][2] = 29;\n\t}\n\tint uruu()\n\t{\n\t\tif (year % 4 == 0)\n\t\t{\n\t\t\tif (year % 400 != 0 && year % 100 == 0)\n\t\t\t{\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t}\n\t\treturn 0;\n\t}\n\tint uruu(long long y)\n\t{\n\t\tif (y % 4 == 0)\n\t\t{\n\t\t\tif (y % 400 != 0 && y % 100 == 0)\n\t\t\t{\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t}\n\t\treturn 0;\n\t}\n\tlong long pday(long long d)\n\t{\n\t\tday += d;\n\t\tfor (;; month++)\n\t\t{\n\t\t\tif (month >= 13)\n\t\t\t{\n\t\t\t\tyear++;\n\t\t\t\tmonth = 1;\n\t\t\t}\n\n\t\t\tif (dat[uruu()][month] < day)\n\t\t\t{\n\t\t\t\tday -= dat[uruu()][month];\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tpmonth(0);\n\t\treturn d;\n\t}\n\tlong long pmonth(long long m)\n\t{\n\t\tmonth += m;\n\t\tfor (;; year++)\n\t\t{\n\t\t\tif (month > 12)\n\t\t\t{\n\t\t\t\tmonth -= 12;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn m;\n\t}\n\tlong long pyear(long long y)\n\t{\n\t\tyear += y;\n\t\treturn y;\n\t}\n\tlong long dif(Calendar c)\n\t{\n\t\tlong long ans = 0;\n\t\tCalendar a(year, month, day);\n\t\tans -= a.day;\n\t\tans += c.day;\n\t\ta.day = 0;\n\t\tc.day = 0;\n\t\tfor (; a.month >= 1; a.month--)\n\t\t{\n\t\t\tans -= dat[a.uruu()][a.month];\n\t\t}\n\t\tfor (; c.month >= 1; c.month--)\n\t\t{\n\t\t\tans += dat[c.uruu()][c.month];\n\t\t}\n\t\tfor (; a.year != c.year; a.year++)\n\t\t{\n\t\t\tans += 365;\n\t\t\tif (a.uruu())ans++;\n\t\t}\n\t\treturn ans;\n\t}\n\n\n};\n\n\n\n\nlong long date[5]{ 1872000 / 13,1872000 / 13 / 20,1872000 / 13 / 20 / 20,1872000 / 13 / 20 / 20 / 18,1 };\n\nint main()\n{\n\tstring a;\n\twhile (1)\n\t{\n\t\tgetline(cin, a);\n\t\tif (a.find(\"#\") != string::npos)break;\n\t\tint coun = 0;\n\t\tfor (int i = 0; i < a.size(); i++)\n\t\t{\n\t\t\tif (a[i] == '.')coun++;\n\t\t}\n\t\tif (coun == 2)\n\t\t{\n\t\t\tstring dat[3];\n\t\t\tlong long year, month, day;\n\t\t\tlong long p = 0;\n\t\t\tfor (int i = 0; i < a.size(); i++)\n\t\t\t{\n\t\t\t\tif (a[i] == '.')p++;\n\t\t\t\telse dat[p] += a[i];\n\t\t\t}\n\t\t\tyear = atoi(dat[0].c_str());\n\t\t\tmonth = atoi(dat[1].c_str());\n\t\t\tday = atoi(dat[2].c_str());\n\n\t\t\tCalendar A(year, month, day), B(2012, 12, 21);\n\n\t\t\tlong long dif = B.dif(A);\n\t\t\tif (dif >= 0)\n\t\t\t{\n\t\t\t\tdif %= 1872000;\n\t\t\t\tfor (int i = 0; i < 5; i++)\n\t\t\t\t{\n\t\t\t\t\tif (i)\n\t\t\t\t\t{\n\t\t\t\t\t\tcout << \".\";\n\t\t\t\t\t}\n\t\t\t\t\tcout << dif / date[i];\n\t\t\t\t\tdif %= date[i];\n\t\t\t\t}\n\t\t\t\tcout << endl;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tdif *= -1;\n\t\t\t\tdif %= 1872000;\n\t\t\t\tdif -= 1;\n\t\t\t\tint gf[5] = { 12,19,19,17,19 };\n\t\t\t\tfor (int i = 0; i < 5; i++)\n\t\t\t\t{\n\t\t\t\t\tif (i)\n\t\t\t\t\t{\n\t\t\t\t\t\tcout << \".\";\n\t\t\t\t\t}\n\t\t\t\t\tcout <<gf[i]- dif / date[i];\n\t\t\t\t\tdif %= date[i];\n\t\t\t\t}\n\t\t\t\tcout << endl;\n\t\t\t}\n\t\t\t\n\t\t}\n\t\telse\n\t\t{\n\t\t\tstring dat[5];\n\t\t\tint p = 0;\n\t\t\tfor (int i = 0; i < a.size(); i++)\n\t\t\t{\n\t\t\t\tif (a[i] == '.')p++;\n\t\t\t\telse dat[p] += a[i];\n\t\t\t}\n\t\t\tlong long days = 0;\n\t\t\tfor (int i = 0; i < 5; i++)\n\t\t\t{\n\t\t\t\tdays += date[i] * atoi(dat[i].c_str());\n\t\t\t}\n\t\t\tCalendar A(2012, 12, 21);\n\t\t\tA.pday(days);\n\t\t\tcout << A.year << \".\" << A.month << \".\" << A.day << endl;\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#include <time.h>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef vector<int> vi;\n\nll gettime64(ll y,ll m,ll d){\n  struct tm poi;\n  poi.tm_year = y-1900;\n  poi.tm_mon = m-1;\n  poi.tm_mday = d;\n  poi.tm_hour = poi.tm_min = poi.tm_sec = 0;\n  poi.tm_isdst = -1;\n  return mktime(&poi);\n}\n\nint toint(string s){\n  return atoi(s.c_str());\n}\n\nvi split(string base, char spl){\n  vi result;\n  string::size_type pos = 0;\n  string::size_type bef = 0;\n  base += spl;\n  while( (pos = base.find_first_of(spl,bef)) != string::npos ){\n    result.push_back(toint(base.substr(bef,pos-bef)));\n    bef = pos+1;\n  }\n  return result;\n}\n\n#define AD 146097\n#define MAYA 1872000\n\nint main(){\n  while(true){\n    string s;\n    cin>>s;\n    if(s==\"#\")break;\n    vi input = split(s,'.');\n    if(input.size()==3){\n      // yyyy.mm.dd\n      ll y = input[0];\n      ll m = input[1];\n      ll d = input[2];\n      ll year_down = (y - 2013)/400;\n      y -= year_down*400;\n      ll birth = gettime64(y,m,d);\n      ll origin = gettime64(2012,12,21);\n      ll sub = (birth-origin)/24/60/60;\n      sub += year_down*AD%MAYA;\n      sub %= MAYA;\n      int ki = sub%20; sub/=20;\n      int w = sub%18;  sub/=18;\n      int t = sub%20;  sub/=20;\n      int ka = sub%20;\n      int b = sub/20;\n      printf(\"%d.%d.%d.%d.%d\\n\",b,ka,t,w,ki);\n    }else{\n      // b.ka.t.w.ki\n      ll val = 0;\n      val += input[0];  val *= 20;\n      val += input[1];  val *= 20;\n      val += input[2];  val *= 18;\n      val += input[3];  val *= 20;\n      val += input[4];\n      ll year_add = val/AD;\n      val %= AD;\n      val *= 24*60*60;\n      val += gettime64(2012,12,21);\n      struct tm *birth = gmtime((time_t*)&val);\n      int year = birth->tm_year + 1900 + year_add*400;\n      int month = birth->tm_mon + 1;\n      int day = birth->tm_mday + 1;\n      printf(\"%d.%d.%d\\n\",year,month,day);\n    }\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<climits>\nusing namespace std;\n\n#define loop(i, a, b) for(int i = a; i < b; i++)\n#define rep(i, a) loop(i, 0, a)\n\n\nvoid to_maya(int y, int m, int d);\nvoid to_sei(int b, int ka, int t, int w, int ki);\nint leap_count(int base, int y);\n\nint main()\n{\n  //cout << leap_count(2013, 2015);\n  // printf(\"long long max: %lld\\n\", LLONG_MAX);\n  char date[100];\n  while(cin >> date) {\n    int a = 0, b = 0, c = 0, d = 0, e = 0;\n    int cnt = sscanf(date, \"%d.%d.%d.%d.%d\", &a, &b, &c, &d, &e);\n\n    if(cnt == 3) {\n      //     cout << '3'<<endl;\n      to_maya(a, b, c);\n    }\n    else if(cnt == 5){\n      //  cout << '5' << endl;\n      to_sei(a, b, c, d, e);\n    }\n    else if(date[0] == '#') {\n      //    cout << '#';\n      break;\n    }\n    // cout << date;\n  }\n}\n\n\nint leap_count(int base,  int y)\n{\n  int cnt = 0;\n  for(int i = base; i <= y; i++) {\n    //cout << i << endl;\n    if(i % 400 == 0) cnt++;\n    else if(i % 100 != 0 && i % 4 == 0) cnt++;\n  }\n  return cnt;\n}\n\n\nvoid to_maya(int y, int m, int d)\n{\n  long long int days = 0;\n  long long int leap = leap_count(2013, y);\n  if( y != 2012 ) {\n    //    cout << leap << endl;\n    days += ( y - 2013 - leap ) * 365 + leap * 366 + 10;\n    //  cout << days << endl;\n    loop(i, 1, m){\n      if(i == 1 || i == 3 || i == 5 || i == 7 || i == 8 || i == 10 || i == 12)\n\tdays += 31;\n      if(i == 4 || i == 6 || i == 9 || i == 11)\n\tdays += 30;\n      if(i == 2) {\n\tdays += 28;\n\t//cout << leap_count(y,y) << endl;\n\tif(leap_count(y, y)) {\n\t  days++;\n\t  // cout << \"leap\" << endl;\n\t}\n      }\n    }\n    days += d;\n    if(leap_count(y,y)) days--;\n  }\n  else days += (d - 21);\n  \n  days -=  days / (13 * 20 * 18 * 20 * 20) * (13 * 20 * 18 * 20 * 20);\n  long long int b = days / (20 * 18 * 20 * 20); days -= b * 20 * 20 * 18 * 20;\n  //cout << days << endl;\n  long long int ka =  days / (20 * 18 * 20); days -= ka * 20 * 18 * 20;\n  //cout << days << endl;\n  long long int t = days / (20 * 18); days -= t * 18 * 20;\n  //cout << days << endl;\n  long long int w = days / 20; days -= w * 20;\n  //  cout << days << endl;\n  long long int ki = days; days -= ki;\n  //  cout << days << endl;\n  \n  printf(\"%lld.%lld.%lld.%lld.%lld\\n\", b, ka, t, w, ki);\n}\n\nvoid to_sei(int b, int ka, int t, int w, int ki)\n{\n  long long int days = 0;\n  int y = 2013, m = 1, d = 1, until;\n  days += b * 20 * 18 * 20 * 20 + ka * 20 * 18 * 20 + t * 20 * 18 + w * 20 + ki;\n  if(days > 10) {\n    days -= 10;\n    while(1) {\n      if(leap_count(y, y)) {\n\tif(days - 366 >= 0) days -= 366;\n\telse break;\n      }\n      else if(days - 365 >= 0) days -= 365;\n      else break;\n      y++;\n      //cout << 'y' << y << endl;\n    }\n\n    while(1) {\n      d = 1;\n      if(m == 1 || m == 3 || m == 5 || m == 7 || m == 8 || m == 10 || m == 12)\n\tuntil = 31;\n      if(m == 4 || m == 6 || m == 9 || m == 11)\n\tuntil = 30;\n      if(m == 2) {\n\tuntil = 28;\n\t// cout << y << leap_count(y, y) << endl;\n\tif(1 <= leap_count(y, y)) {\n\t  until = 29;\n\t  //  cout << \"leap\" << endl;\n\t}\n      }\n      //    cout << 'm' << m << endl;\n      loop(i, 1, until + 1) {\n\t//\tcout << 'd' << d << endl;\n\td++;\n\tdays--;\n\tif(days == 0) break;\n\t\n      }\n      if(days == 0) break;\n      if(m == 12) m = 1;\n      else m++;\n\n    }\n     d--;\n    cout << y << '.' << m << '.' << d  << endl;\n  }\n  else {\n    cout << \"2012.12.\" << days + 21 << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <stdio.h>\n#include <algorithm>\n#include <string>\nusing namespace std;\ntypedef long long ll;\nll b,ka,t,w,ki,y,m,d;\nint month[12]={31,28,31,30,31,30,31,31,30,31,30,31};\nbool uru(ll num){\n\tif(num%4)return false;\n\telse if(num%100)return true;\n\telse if(num%400)return false;\n\telse return true;\n}\nvoid num_to_s(ll num){\n\ty=2012;\n\tm=d=0;\n\tif(num<=10){\n\t\tm=12;\n\t\td=21+num;\n\t}else{\n\t\tnum-=10;\n\t\twhile(num>0){\n\t\t\ty++;\n\t\t\tif(uru(y))num-=366;\n\t\t\telse num-=365;\n\t\t}\n\t\tif(uru(y)){\n\t\t\tnum+=366;\n\t\t\tmonth[1]=29;\n\t\t}else{\n\t\t\tnum+=365;\n\t\t}\n\t\tint k;\n\t\tfor(k=0;num>0;k++){\n\t\t\tnum-=month[k];\n\t\t}\n\t\tk--;\n\t\tm=k+1;\n\t\td=num+month[k];\n\t}\n\tcout<<y<<\".\"<<m<<\".\"<<d<<endl;\n\tmonth[1]=28;\n\treturn;\n}\nvoid num_to_m(ll num){\n\tb=ka=t=w=ki=0;\n\tki=num%20;\n\tnum/=20;\n\tw=num%18;\n\tnum/=18;\n\tt=num%20;\n\tnum/=20;\n\tka=num%20;\n\tnum/=20;\n\tb=num%13;\n\tcout<<b<<\".\"<<ka<<\".\"<<t<<\".\"<<w<<\".\"<<ki<<endl;\n\treturn;\n}\n\nint main()\n{\n\tstring tmp;\n\twhile(cin>>tmp){\n\t\ty=m=d=0;\n\t\tb=ka=t=w=ki=0;\n\t\tint p1=tmp.find('.');\n\t\tint p2=tmp.find('.',p1+1);\n\t\tint p3=tmp.find('.',p2+1);\n\t\tint p4=tmp.find('.',p3+1);\n\t\tif(tmp==\"#\"){\n\t\t\tbreak;\n\t\t}else if(p1>=4){//seireki\n\t\t\ty=stoi(tmp.substr(0,p1));\n\t\t\tm=stoi(tmp.substr(p1+1,p2-p1-1));\n\t\t\td=stoi(tmp.substr(p2+1));\n\t\t\t//cout<<y<<\".\"<<m<<\".\"<<d<<endl;\n\t\t\tll num=0,num2=0;\n\t\t\ty--;\n\t\t\tif(y==2011){\n\t\t\t\tnum=d-21;\n\t\t\t}else{\n\t\t\t\tnum=(y-2012)*365+y/4-y/100+y/400;\n\t\t\t\tnum-=2012/4-2012/100+2012/400;\n\t\t\t\tfor(int i=1;i<m;i++){\n\t\t\t\t\tnum2+=month[i-1];\n\t\t\t\t}\n\t\t\t\tnum2+=d+10;\n\t\t\t\tif(uru(++y)&&m>=3)num2++;\n\t\t\t}\n\t\t\tnum_to_m(num+num2);\n\t\t}else{//mayareki\n\t\t\tb=stoi(tmp.substr(0,p1));\n\t\t\tka=stoi(tmp.substr(p1+1,p2-p1-1));\n\t\t\tt=stoi(tmp.substr(p2+1,p3-p2-1));\n\t\t\tw=stoi(tmp.substr(p3+1,p4-p3-1));\n\t\t\tki=stoi(tmp.substr(p4+1));\n\t\t\t//cout<<b<<\".\"<<ka<<\".\"<<t<<\".\"<<w<<\".\"<<ki<<endl;\n\t\t\tka+=b*20;\n\t\t\tt+=ka*20;\n\t\t\tw+=t*18;\n\t\t\tki+=w*20;\n\t\t\tnum_to_s(ki);\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nll days(ll y,ll m,ll d){\n  if(m<3)y--,m+=12;\n  return 365*y+y/4-y/100+y/400+(153*m+8)/5+d;\n}\nvoid ymd(ll day,ll &y,ll &m,ll &d){\n  ll lo=-1,hi=1000000000,mid;\n  while(lo+1<hi){\n    mid=(lo+hi)/2;\n    if(days(mid,12,31)<day)lo=mid;\n    else hi=mid;\n  }\n  y=hi;\n  for(m=1;m<12;m++)if(days(y,m+1,1)>day)break;\n  d=day-days(y,m,0);\n}\n\nint main() {\n  string s;\n  ll y=days(2012,12,21);\n  while(cin >> s && s!=\"#\") {\n    s+='.';\n    ll n=s.size(),x=0;\n    vector<ll> a;\n    for(int i=0; i<n; i++) {\n      if(s[i]=='.') {\n        a.push_back(x);\n        x=0;\n      } else {\n        x*=10;\n        x+=s[i]-'0';\n      }\n    }\n    if(a.size()==3) {\n      x=days(a[0],a[1],a[2]);\n      x=(x+1872000-y)%1872000;\n      ll b[5],c=20*20*18*20;\n      b[0]=x/c;x%=c;c/=20;\n      b[1]=x/c;x%=c;c/=20;\n      b[2]=x/c;x%=c;c/=18;\n      b[3]=x/c;x%=c;c/=20;\n      b[4]=x;\n      for(int i=0;i<5;i++) {\n        if(i) cout << '.';\n        cout << b[i];\n      }\n      cout << endl;\n    } else {\n      x=a[0]*20*20*18*20+a[1]*20*18*20+a[2]*18*20+a[3]*20+a[4];\n      x=x+y;\n      ymd(x,a[0],a[1],a[2]);\n      cout << a[0] << \".\" << a[1] << \".\" << a[2] << endl;\n    }\n  }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define int long long\n#define rep(i,n)for(int i=0;i<(n);i++)\nusing namespace std;\n\nint base;\nint tod(int b,int ka,int t,int w,int ki){\n\tka+=b*20;t+=ka*20;w+=18*t;ki+=20*w;\n\treturn base+ki;\n}\nbool is_uruu(int y){\n\treturn y%4==0&&(y%100!=0||y%400==0);\n}\nint mn[]{31,28,31,30,31,30,31,31,30,31,30,31};\nint calc(int y,int m,int d){\n\tint res=(y-1)*365;\n\tfor(int i=4;i<y;i+=4){\n\t\tif(is_uruu(i))res++;\n\t}\n\tfor(int i=1;i<m;i++){\n\t\tres+=mn[i-1];if(is_uruu(y)&&i==2)res++;\n\t}\n\treturn res+d;\n}\nint tod(int y,int m,int d){\n\treturn calc(y,m,d)-base;\n}\nvoid tom(int day){\n\tint b,ka,t,w,ki;\n\tki=day%20;day/=20;\n\tw=day%18;day/=18;\n\tt=day%20;day/=20;\n\tka=day%20;day/=20;\n\tb=day%13;\n\tprintf(\"%lld.%lld.%lld.%lld.%lld\\n\",b,ka,t,w,ki);\n}\nvoid tos(int day){\n\tint y,m;\n\tfor(y=1;365+is_uruu(y)<day;y++)day-=365+is_uruu(y);\n\tfor(m=1;mn[m-1]+(m==2&&is_uruu(y))<day;m++)day-=mn[m-1]+(m==2&&is_uruu(y));\n\tprintf(\"%lld.%lld.%lld\\n\",y,m,day);\n}\nsigned main() {\n\tbase=calc(2012,12,21);\n\tstring s;\n\twhile(cin>>s,s!=\"#\"){\n\t\ts+='.';\n\t\tvector<int>v;\n\t\tstring t;\n\t\tfor(char c:s){\n\t\t\tif(c=='.')v.push_back(stoi(t)),t=\"\";\n\t\t\telse t+=c;\n\t\t}\n\t\tif(v.size()==3)tom(tod(v[0],v[1],v[2]));\n\t\telse tos(tod(v[0],v[1],v[2],v[3],v[4]));\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<sstream>\n#include<algorithm>\n#include<vector>\n#include<string>\n\nusing namespace std;\n\nstruct Maya{\n  vector<int> v;\n  Maya():v(5,0){\n  }\n  void fix(){\n    v[3]+=v[4]/20;\n    v[4]%=20;\n    v[2]+=v[3]/18;\n    v[3]%=18;\n    v[1]+=v[2]/20;\n    v[2]%=20;\n    v[0]+=v[1]/20;\n    v[1]%=20;\n    v[0]%=13;\n  }\n  void inc(){\n    v[4]++;\n    fix();\n  }\n};\n\nstruct AD{\n  vector<int> v;\n  AD():v{2012,12,21}{\n  }\n  void inc(){\n    const static int dom[]={0,31,28,31,30,31,30,31,31,30,31,30,31};\n    v[2]++;\n    if(v[2]>dom[v[1]]+(v[1]==2&&(v[0]%400==0||v[0]%100!=0&&v[0]%4==0))){\n      v[2]=1;\n      v[1]++;\n      if(v[1]>12){\n\tv[1]=1;\n\tv[0]++;\n      }\n    }\n  }\n};\n    \n       \nint main(){\n  for(string s;getline(cin,s),s[0]!='#';){\n    replace(begin(s),end(s),'.',' ');\n    stringstream ss(s);\n    vector<int> v;\n    for(int i;ss>>i;){\n      v.push_back(i);\n    }\n    vector<int> ans;\n    if(v.size()==5){\n      Maya m;\n      AD a;\n      while(m.v!=v){\n\tm.inc();\n\ta.inc();\n      }\n      ans=a.v;\n    }else{\n      Maya m;\n      AD a;\n      while(v[0]-a.v[0]>400){\n\ta.v[0]+=400;\n\tm.v[4]+=400*365+97;\n\tm.fix();\n      }\n      while(a.v!=v){\n\ta.inc();\n\tm.inc();\n      }\n      ans=m.v;\n    }\n    for(int i=0;i<ans.size();i++){\n      cout<<ans[i]<<((i+1==ans.size())?'\\n':'.');\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#include <time.h>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef vector<int> vi;\n\nll gettime64(ll y,ll m,ll d){\n  struct tm poi;\n  poi.tm_year = y-1900;\n  poi.tm_mon = m-1;\n  poi.tm_mday = d;\n  poi.tm_hour = poi.tm_min = poi.tm_sec = 0;\n  poi.tm_isdst = -1;\n  return _mktime64(&poi);\n}\n\nint toint(string s){\n  return atoi(s.c_str());\n}\n\nvi split(string base, char spl){\n  vi result;\n  string::size_type pos = 0;\n  string::size_type bef = 0;\n  base += spl;\n  while( (pos = base.find_first_of(spl,bef)) != string::npos ){\n    result.push_back(toint(base.substr(bef,pos-bef)));\n    bef = pos+1;\n  }\n  return result;\n}\n\n#define AD 146097\n#define MAYA 1872000\n\nint main(){\n  while(true){\n    string s;\n    cin>>s;\n    if(s==\"#\")break;\n    vi input = split(s,'.');\n    if(input.size()==3){\n      // yyyy.mm.dd\n      ll y = input[0];\n      ll m = input[1];\n      ll d = input[2];\n      ll year_down = (y - 2013)/400;\n      y -= year_down*400;\n      ll birth = gettime64(y,m,d);\n      ll origin = gettime64(2012,12,21);\n      ll sub = (birth-origin)/24/60/60;\n      sub += year_down*AD%MAYA;\n      sub %= MAYA;\n      int ki = sub%20; sub/=20;\n      int w = sub%18;  sub/=18;\n      int t = sub%20;  sub/=20;\n      int ka = sub%20;\n      int b = sub/20;\n      printf(\"%d.%d.%d.%d.%d\\n\",b,ka,t,w,ki);\n    }else{\n      // b.ka.t.w.ki\n      ll val = 0;\n      val += input[0];  val *= 20;\n      val += input[1];  val *= 20;\n      val += input[2];  val *= 18;\n      val += input[3];  val *= 20;\n      val += input[4];\n      ll year_add = val/AD;\n      val %= AD;\n      val *= 24*60*60;\n      val += gettime64(2012,12,21);\n      struct tm *birth = _gmtime64((__time64_t*)&val);\n      int year = birth->tm_year + 1900 + year_add*400;\n      int month = birth->tm_mon + 1;\n      int day = birth->tm_mday + 1;\n      printf(\"%d.%d.%d\\n\",year,month,day);\n    }\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string.h>\n#include<stdlib.h>\n#include<time.h>\n#include<stdio.h>\nusing namespace std;\nstruct tm T;\nstruct tm *a;\nint maya[5]={144000,7200,360,20,1};\nint sugi[5]={1,20,20,18,20};\nint main(){\n\tif(sizeof(time_t)!=8)exit(1);\n\ttime_t tt,kin,ans,s=1356015600;\n\t\tchar koyomi[50];\n\t int i,j;\n\tint  n[5]={0};\n\twhile(1){\n\t\tcin>>koyomi;\n\t\tif(koyomi[0]=='#'){\n\t\t\tbreak;\n\t\t}\n\t\tmemset(n,0,sizeof(n));\n\t\tj=0;\n\t\tcout<<strlen(koyomi)<<endl;\n\t\tfor(i=0;i<strlen(koyomi);i++){\n\t\t\tif(koyomi[i]=='.'){\n\t\t\t\tj++;\n\t\t\t}\n\t\t}\n\t\tcout<<j<<endl;\n\t\tif(j==2){\n\t\t\tsscanf(koyomi,\"%d.%d.%d\",&n[0],&n[1],&n[2]);\n\t\t\tT.tm_year=n[0]-1900;\n\t\t\tT.tm_mon=n[1]-1;\n\t\t\tT.tm_mday=n[2];\n\t\t\ttt=(mktime(&T)-s)/86400%1872000;\n\t\t\t//cout<<tt<<endl;\n\t\t\tprintf(\"%d.%d.%d.%d.%d\\n\",tt/144000,tt/7200%20,tt/360%20,tt/20%18,tt%20);\n\t\t}\n\t\telse{\n\t\t\tsscanf(koyomi,\"%d.%d.%d.%d.%d\",&n[0],&n[1],&n[2],&n[3],&n[4]);\n\t\t\ttt=(n[0]*144000+n[1]*7200+n[2]*360+n[3]*20+n[4])*86400+s;\n\t\t\ta=localtime(&tt);\n\t\t\tprintf(\"%d.%d.%d\\n\",a->tm_year+1900,a->tm_mon+1,a->tm_mday);\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<sstream>\n#include<algorithm>\nusing namespace std;\n\nlong long int dayCount(long long int y, long long int m, long long int d)\n{\n    long long int sum;\n    long long int days[13]={0,31,28,31,30,31,30,31,31,30,31,30,31};\n    for(int i=1; i<12; i++) days[i] += days[i-1];\n    y--;\n    sum = 365*y + days[m-1] + d + y/4 - y/100 + y/400;\n    y++;\n    if((y%4==0 && y%100!=0) || (y%400==0)) if((m==2 && d==29) || (m>=3)) sum++;\n    return sum;\n}\nlong long int dayCount(long long int b, long long int ka, long long int t, long long int w, long long int ki)\n{\n    long long int sum;\n    long long int days[5]={1,20,18,20,20};\n    for(int i=2; i<5; i++) days[i] *= days[i-1];\n    sum = ki + w*days[1] + t*days[2] + ka*days[3] + b*days[4];\n    return sum;\n}\n\nstring ADtoMaya(int y, int m, int d)\n{\n    stringstream date;\n    long long int now = dayCount(y,m,d);\n    long long int dif = now - dayCount(2012,12,21);\n    dif %= dayCount(13,0,0,0,0);\n\n    int b,ka,t,w,ki;\n    int days[5]={1,20,18,20,20};\n    for(int i=2; i<5; i++) days[i] *= days[i-1];\n    b = dif/days[4];\n    dif %= days[4];\n    ka = dif/days[3];\n    dif %= days[3];\n    t = dif/days[2];\n    dif %= days[2];\n    w = dif/days[1];\n    dif %= days[1];\n    ki = dif/days[0];\n    date<<b<<\".\"<<ka<<\".\"<<t<<\".\"<<w<<\".\"<<ki;\n    return date.str();\n}\n\nstring MayatoAD(int b, int ka, int t, int w, int ki)\n{\n    stringstream date;\n    long long int now = dayCount(b,ka,t,w,ki);\n    now += dayCount(2012,12,21);\n\n    int y,m,d;\n    int days[13]={0,31,28,31,30,31,30,31,31,30,31,30,31};\n    y = 1;\n    while(now > 365) {\n        bool leap = (y%4==0 && y%100!=0) || (y%400==0);\n        if(leap && now==366) break;\n        now -= 365 + leap;\n        y++;\n    }\n    bool leap = (y%4==0 && y%100!=0) || (y%400==0);\n    for(int i=1; i<=12; i++) {\n        m = i;\n        if(now <= days[i]) break;\n        now -= days[i];\n        if(leap && i==2) {\n            if(now==1) {\n                now = 29;\n                break;\n            }\n            now--;\n        }\n    }\n    d = now;\n    date<<y<<\".\"<<m<<\".\"<<d;\n    return date.str();\n}\n\nint main()\n{\n    string date;\n    while(getline(cin, date), date!=\"#\") {\n        int y,m,d;\n        int b,ka,t,w,ki;\n        stringstream ss;\n        string ans;\n\n        while(date.find(\".\")!=string::npos) {\n            date.replace(date.find(\".\"), 1, \" \");\n        }\n\n        ss.str(date);\n        if(count(date.begin(), date.end(), ' ') == 4) {\n            ss>>b>>ka>>t>>w>>ki;\n            ans = MayatoAD(b, ka, t, w, ki);\n        } else {\n            ss>>y>>m>>d;\n            ans = ADtoMaya(y, m, d);\n        }\n\n        cout<<ans<<endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nvector<string> split(const string &str, char sep)\n{\n    vector<string> v;\n    stringstream ss(str);\n    string buffer;\n    while( getline(ss, buffer, sep) ) {\n        v.push_back(buffer);\n    }\n    return v;\n}\n\nbool is_Leapyear(long long int year){\n    if(year%4==0){\n        if(year%100==0){\n            if(year%400==0){\n                return true;\n            }\n            return false;\n        }\n        return true;\n    }\n    return false;\n}\n\nint months[12] = {31,28,31,30,31,30,31,31,30,31,30,31};\nint leapmonths[12] = {31,29,31,30,31,30,31,31,30,31,30,31};\n\nint main() {\n\n    string s;\n\n    const long long  int baseday = (2012*365 + 2012/4 - 2012/100 + 2012/400 + 366-11);\n\n    while(1){\n\n        cin >> s;\n\n        if(s[0] == '#'){\n            break;\n        }\n\n        vector<string> vec = split(s,'.');\n\n        if(vec.size() == 5){\n\n            int a[5];//b,ka,t,w,ki\n\n            for(int i=0;i<5;i++){\n                stringstream ss;\n                ss << vec[i];\n                ss >> a[i];\n            }\n\n            long long int allday = 0;\n\n            allday = a[0]*20*20*18*20 + a[1]*20*18*20 + a[2]*18*20 + a[3]*20 + a[4];\n\n            if(allday>=11){\n                allday -= 11;\n                int year,month,day;\n                year = 2013+(static_cast<int>(allday/(365+365+365+366))*4);\n                allday = allday % (365+365+365+366);\n                allday = allday + (year)/100 - (year)/400 -(2000)/100 + 2000/400;\n\n\n                /*if(allday==0){\n                    allday = 1;\n                }*/\n                //cout << allday << endl;\n\n                //cout << year << endl;\n\n                int byear = year;\n\n                //cout << year << endl;\n\n                year += allday/365;\n\n                allday %= 365;\n\n                if(year - byear == 4){\n                    allday--;\n                }\n\n                //cout << allday << endl;\n\n                month = 1;\n                day = 1;\n                if(is_Leapyear(year)){\n                    for(int i=0;i<12;i++){\n                        if(allday>=leapmonths[i]){\n                            allday-=leapmonths[i];\n                            month++;\n                        }\n                        else{\n                            break;\n                        }\n                    }\n                    day += allday;\n                    printf(\"%d.%d.%d\\n\",year,month,day);\n                }\n                else{\n                    for(int i=0;i<12;i++){\n                        if(allday>=months[i]){\n                            allday-=months[i];\n                            month++;\n                        }\n                        else{\n                            break;\n                        }\n                    }\n                    day += allday ;\n                    printf(\"%d.%d.%d\\n\",year,month,day);\n                }\n            }\n            else{\n                printf(\"2012.12.%lld\\n\",21+allday);\n            }\n\n        }\n\n        else{\n\n            long long int b[3];//year,month,day\n\n            for(int i=0;i<3;i++){\n                stringstream ss;\n                ss << vec[i];\n                ss >> b[i];\n            }\n\n            long long int allday = (b[0] % 1872000 * 365 + b[0]/4 - b[0]/100 + b[0]/400);\n\n            if(is_Leapyear(b[0])){\n                allday--;\n            }\n\n            for(int i=0;i<b[1]-1;i++){\n                if(is_Leapyear(b[0])){\n                    allday += leapmonths[i];\n                }\n                else{\n                    allday += months[i];\n                }\n            }\n\n            allday += b[2];\n\n            allday -= baseday;\n\n            allday %= 1872000;\n\n            long long int ba,ka,t,w,ki;\n\n            ba = allday/144000;\n\n            allday %= 144000;\n\n            ka = allday/7200;\n\n            allday %= 7200;\n\n            t = allday/360;\n\n            allday %= 360;\n\n            w = allday/20;\n\n            allday %= 20;\n\n            ki = allday;\n\n            printf(\"%lld.%lld.%lld.%lld.%lld\\n\",ba,ka,t,w,ki);\n        }\n\n    }\n\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define int long long\n#define rep(i,n)for(int i=0;i<(n);i++)\nusing namespace std;\n\nint base;\nint tod(int b,int ka,int t,int w,int ki){\n\tka+=b*20;t+=ka*20;w+=18*t;ki+=20*w;\n\treturn base+ki;\n}\nbool is_uruu(int y){\n\treturn y%4==0&&(y%100!=0||y%400==0);\n}\nint mn[]{31,28,31,30,31,30,31,31,30,31,30,31};\nint calc(int y,int m,int d){\n\tint res=(y-1)*365;\n\tfor(int i=4;i<4;i+=4){\n\t\tif(is_uruu(i))res++;\n\t}\n\tfor(int i=1;i<m;i++){\n\t\tres+=mn[i-1];if(is_uruu(y)&&i==2)res++;\n\t}\n\treturn res+d;\n}\nint tod(int y,int m,int d){\n\treturn calc(y,m,d)-base;\n}\nvoid tom(int day){\n\tint b,ka,t,w,ki;\n\tki=day%20;day/=20;\n\tw=day%18;day/=18;\n\tt=day%20;day/=20;\n\tka=day%20;day/=20;\n\tb=day%13;\n\tprintf(\"%lld.%lld.%lld.%lld.%lld\\n\",b,ka,t,w,ki);\n}\nvoid tos(int day){\n\tint y,m;\n\tfor(y=1;365+is_uruu(y)<day;y++)day-=365+is_uruu(y);\n\tfor(m=1;mn[m-1]+(m==2&&is_uruu(y))<day;m++)day-=mn[m-1]+(m==2&&is_uruu(y));\n\tprintf(\"%lld.%lld.%lld\\n\",y,m,day);\n}\nsigned main() {\n\tbase=calc(2012,12,21);\n\tstring s;\n\twhile(cin>>s,s!=\"#\"){\n\t\ts+='.';\n\t\tvector<int>v;\n\t\tstring t;\n\t\tfor(char c:s){\n\t\t\tif(c=='.')v.push_back(stoi(t)),t=\"\";\n\t\t\telse t+=c;\n\t\t}\n\t\tif(v.size()==3)tom(tod(v[0],v[1],v[2]));\n\t\telse tos(tod(v[0],v[1],v[2],v[3],v[4]));\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#include <time.h>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef vector<int> vi;\n\nll gettime64(ll y,ll m,ll d){\n  struct tm poi;\n  poi.tm_year = y-1900;\n  poi.tm_mon = m-1;\n  poi.tm_mday = d;\n  poi.tm_hour = poi.tm_min = poi.tm_sec = 0;\n  poi.tm_isdst = -1;\n  return mktime(&poi);\n}\n\nint toint(string s){\n  return atoi(s.c_str());\n}\n\nvi split(string base, char spl){\n  vi result;\n  string::size_type pos = 0;\n  string::size_type bef = 0;\n  base += spl;\n  while( (pos = base.find_first_of(spl,bef)) != string::npos ){\n    result.push_back(toint(base.substr(bef,pos-bef)));\n    bef = pos+1;\n  }\n  return result;\n}\n\n#define AD 146097\n#define MAYA 1872000\n\nint main(){\n  while(true){\n    string s;\n    cin>>s;\n    if(s==\"#\")break;\n    vi input = split(s,'.');\n    if(input.size()==3){\n      // yyyy.mm.dd\n      ll y = input[0];\n      ll m = input[1];\n      ll d = input[2];\n      ll year_down = (y - 2013)/400;\n      y -= year_down*400;\n      ll birth = gettime64(y,m,d);\n      ll origin = gettime64(2012,12,21);\n      ll sub = (birth-origin)/24/60/60;\n      sub += year_down*AD%MAYA;\n      sub %= MAYA;\n      int ki = sub%20; sub/=20;\n      int w = sub%18;  sub/=18;\n      int t = sub%20;  sub/=20;\n      int ka = sub%20;\n      int b = sub/20;\n      printf(\"%d.%d.%d.%d.%d\\n\",b,ka,t,w,ki);\n    }else{\n      // b.ka.t.w.ki\n      ll val = 0;\n      val += input[0];  val *= 20;\n      val += input[1];  val *= 20;\n      val += input[2];  val *= 18;\n      val += input[3];  val *= 20;\n      val += input[4];\n      ll year_add = val/AD;\n      val %= AD;\n      val *= 24*60*60;\n      val += gettime64(2012,12,22);\n      struct tm *birth = gmtime((time_t*)&val);\n      int year = birth->tm_year + 1900 + year_add*400;\n      int month = birth->tm_mon + 1;\n      int day = birth->tm_mday;\n      printf(\"%d.%d.%d\\n\",year,month,day);\n    }\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <sstream>\n#include <fstream>\n#include <iomanip>\n#include <algorithm>\n#include <cmath>\n#include <string>\n#include <vector>\n#include <list>\n#include <queue>\n#include <stack>\n#include <set>\n#include <map>\n#include <bitset>\n#include <numeric>\n#include <climits>\n#include <cfloat>\nusing namespace std;\n\nlong long countAD(long long y, int m, int d)\n{\n    int days[] = {0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\n    if((y % 4 == 0 && y % 100 != 0) || y % 400 == 0)\n        ++ days[2];\n\n    long long ret = (y-1) * 365LL + (y-1) / 4 - (y-1) / 100 + (y-1) / 400;\n    for(int i=1; i<m; ++i)\n        ret += days[i];\n    ret += d;\n\n    return ret;\n}\n\nvoid addAD(long long y, int m, int d, long long& y2, int& m2, int& d2, long long x)\n{\n    int days[] = {0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\n\n    x += countAD(y, m, d);\n    \n    y2 = 1;\n    y2 += x / (365 * 400 + 97) * 400;\n    x %= (365 * 400 + 97);\n    y2 += x / (365 * 100 + 24) * 100;\n    x %= (365 * 100 + 24);\n    y2 += x / (365 * 4 + 1) * 4;\n    x %= (365 * 4 + 1);\n    y2 += x / 365;\n    x %= 365;\n\n    if((y2 % 4 == 0 && y2 % 100 != 0) || y2 % 400 == 0)\n        ++ days[2];\n    m2 = 1;\n    while(x > days[m2]){\n        x -= days[m2];\n        ++ m2;\n    }\n\n    d2 = (int)x;\n}\n\nint main()\n{\n    int x[] = {13, 20, 20, 18, 20};\n\n    for(;;){\n        string s;\n        cin >> s;\n        if(s == \"#\")\n            return 0;\n        istringstream iss(s);\n\n        if(count(s.begin(), s.end(), '.') == 2){\n            long long y;\n            int m, d;\n            char c;\n            iss >> y >> c >> m >> c >> d;\n\n            long long a = countAD(y, m, d) - countAD(2012, 12, 21);\n\n            vector<int> ret(5);\n            for(int i=4; i>=0; --i){\n                ret[i] = a % x[i];\n                a /= x[i];\n            }\n            for(int i=0; i<4; ++i)\n                cout << ret[i] << '.';\n            cout << ret[4] << endl;\n        }else{\n            long long a = 0;\n            for(int i=0; i<5; ++i){\n                int b;\n                char c;\n                iss >> b >> c;\n                a *= x[i];\n                a += b;\n            }\n\n            long long y;\n            int m, d;\n            addAD(2012, 12, 21, y, m, d, a);\n\n            cout << y << '.' << m << '.' << d << endl;\n        }\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\ntypedef unsigned int64;\n#define __2012_12_21__ 735224\n#define MAX_YEAR 10000000\n\nint64 days[MAX_YEAR + 1];\nint month[2][13] = {\n  { 0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334, 365},\n  { 0, 31, 60, 91, 121, 152, 182, 213, 244, 274, 305, 335, 366}\n};\n\n\nbool urudosi(int year){\n  return year % 400 == 0 || (year % 100 != 0 && year % 4 == 0);\n}\nvoid init_set() {\n  for(int i = 1; i <= MAX_YEAR; i++) {\n    days[i] = days[i - 1] + 365 + urudosi(i - 1);\n  }\n}\n\nint main(){\n  char buff[256];\n  int y, m, d; //西暦\n  int b, ka, t, w, ki; //マヤ長期歴\n\n  init_set();\n  cout << days[MAX_YEAR] << endl;\n  while(strcmp(fgets( buff, sizeof(buff), stdin),\"#\\n\") != 0){\n\n    /* 入力 */\n    if(sscanf( buff, \"%d.%d.%d.%d.%d\", &b, &ka, &t, &w, &ki) == 5){\n      /*マヤ長期歴 → 西暦 */\n      int64 allday = b * 144000 + ka * 7200 + t * 360 + w * 20 + ki + __2012_12_21__;\n      y = lower_bound( days, days + MAX_YEAR, allday) - days - 1;\n      allday -= days[y];\n      bool uru = urudosi(y);\n      m = lower_bound( month[uru], month[uru] + 13, allday) - month[uru];\n      d = allday - month[uru][m - 1];\n      printf(\"%d.%d.%d\\n\", y, m, d);\n    }else{\n      sscanf( buff, \"%d.%d.%d\", &y, &m, &d);\n      int64 allday = days[y] + month[urudosi(y)][m - 1] + d - __2012_12_21__;\n      ki = allday % 20;\n      w = allday / 20 % 18;\n      t = allday / 360 % 20;\n      ka = allday / 7200 % 20;\n      b = allday / 144000 % 13;\n      printf(\"%d.%d.%d.%d.%d\\n\", b, ka, t, w, ki);\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <string>\nusing namespace std;\ntypedef long long ll;\n\nconst int to_day[5] = {20, 20, 18, 20, 1};\nconst int month_day[12] = {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\n\nint main(){\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\n\tstring str;\n\twhile(cin >> str && str != \"#\"){\n\n\t\tint cnt = 0;\n\t\tfor(size_t i = 0; i < str.size(); ++i){\n\t\t\tif(str[i] == '.') cnt++;\n\t\t}\n\n\t\tif(cnt == 4){\n\t\t\tll data[5] = {};\n\t\t\tint num = 0;\n\t\t\tsize_t prev = 0;\n\t\t\tfor(size_t i = 0; i < str.size(); ++i){\n\t\t\t\tif(str[i] == '.'){\n\t\t\t\t\tdata[num] = stoi(str.substr(prev, i - prev));\n\t\t\t\t\t//cout << data[num] << endl;\n\t\t\t\t\tprev = i + 1;\n\t\t\t\t\tnum++;\n\t\t\t\t}\n\t\t\t\tif(i == str.size() - 1){\n\t\t\t\t\tdata[num] = stoi(str.substr(prev, i + 1 - prev));\n\t\t\t\t\t//cout << data[num] << endl;\n\t\t\t\t}\n\t\t\t}\n\t\t\tll day = 0;\n\t\t\tfor(ll i = 0; i < 5; ++i){\n\t\t\t\tday += data[i];\n\t\t\t\tday *= to_day[i];\n\t\t\t}\n\t\t\t//cout << day << endl;\n\n\t\t\tif(day <= 10){\n\t\t\t\tcout << 2012 << '.' << 12 << '.' << 21 + day << endl;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tday -= 10;\n\t\t\t\tll year = 2013;\n\t\t\t\twhile(1){\n\t\t\t\t\tif(year % 400 == 0 || (year % 100 != 0 && year % 4 == 0)){\n\t\t\t\t\t\tif(day < 366) break;\n\t\t\t\t\t\tday -= 366;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif(day < 365) break;\n\t\t\t\t\t\tday -= 365;\n\t\t\t\t\t}\n\t\t\t\t\tyear++;\n\t\t\t\t}\n\t\t\t\tll month = 0;\n\t\t\t\twhile(1){\n\t\t\t\t\tif((year % 400 == 0 || (year % 100 != 0 && year % 4 == 0)) && month + 1 == 2){\n\t\t\t\t\t\tif(day > month_day[month] + 1){\n\t\t\t\t\t\t\tday -= month_day[month] + 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse break;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif(day > month_day[month]){\n\t\t\t\t\t\t\tday -= month_day[month];\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse break;\n\t\t\t\t\t}\n\t\t\t\t\tmonth++;\n\t\t\t\t}\n\t\t\t\tcout << year << '.' << month + 1 << '.' << day << endl;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tll data[3] = {};\n\t\t\tint num = 0;\n\t\t\tsize_t prev = 0;\n\t\t\tfor(size_t i = 0; i < str.size(); ++i){\n\t\t\t\tif(str[i] == '.'){\n\t\t\t\t\tdata[num] = stoi(str.substr(prev, i - prev));\n\t\t\t\t\t//cout << data[num] << endl;\n\t\t\t\t\tprev = i + 1;\n\t\t\t\t\tnum++;\n\t\t\t\t}\n\t\t\t\tif(i == str.size() - 1){\n\t\t\t\t\tdata[num] = stoi(str.substr(prev, i + 1 - prev));\n\t\t\t\t\t//cout << data[num] << endl;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tll day = data[2];\n\t\t\tll year = 2013;\n\t\t\tif(data[0] == 2012){\n\t\t\t\tday = data[2] - 21;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tday += 10;\n\t\t\t\twhile(year < data[0]){\n\t\t\t\t\tif(year % 400 == 0 || (year % 100 != 0 && year % 4 == 0)){\n\t\t\t\t\t\tday += 366;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tday += 365;\n\t\t\t\t\t}\n\t\t\t\t\tyear++;\n\t\t\t\t}\n\n\t\t\t\tfor(ll i = 1; i < data[1]; ++i){\n\t\t\t\t\tif((year % 400 == 0 || (year % 100 != 0 && year % 4 == 0)) && i == 2){\n\t\t\t\t\t\tday += month_day[i - 1] + 1;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\tday += month_day[i - 1];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//cout << day << endl;\n\t\t\tday %= 1872000;\n\n\t\t\tll ans[5] = {};\n\t\t\tfor(ll i = 3; i >= 0; --i){\n\t\t\t\tans[i + 1] = day % to_day[i];\n\t\t\t\tday /= to_day[i];\n\t\t\t}\n\t\t\tans[0] = day;\n\n\t\t\tfor(ll i = 0; i < 5; ++i){\n\t\t\t\tif(i != 0) cout << '.';\n\t\t\t\tcout << ans[i];\n\t\t\t}\n\t\t\tcout << endl;\n\t\t}\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long int ll;\nint days[12]={31,28,31,30,31,30,31,31,30,31,30,31};\nint main()\n{\n\twhile(true){\n\t\tstring S;\n\t\tcin >> S;\n\t\tif(S==\"#\")break;\n\t\tint cou=0;\n\t\tfor(int i=0;i<(int)S.length();i++){\n\t\t\tif(S[i]=='.')cou++;\n\t\t}\n\t\tif(cou==2){\n\t\t\tint y=0,m=0,d=0;cou=0;\n\t\t\tfor(int i=0;i<(int)S.length();i++){\n\t\t\t\tif(S[i]=='.'){\n\t\t\t\t\tcou++;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif(cou==0){\n\t\t\t\t\ty*=10;\n\t\t\t\t\ty+=S[i]-'0';\n\t\t\t\t}\n\t\t\t\telse if(cou==1){\n\t\t\t\t\tm*=10;\n\t\t\t\t\tm+=S[i]-'0';\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\td*=10;\n\t\t\t\t\td+=S[i]-'0';\n\t\t\t\t}\n\t\t\t}\n\t\t\tll sumday=0;int y1=2013;int m1=1;\n\t\t\tif(y==2012){\n\t\t\t\tsumday=(ll)(d-21);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tsumday=11;\n\t\t\t\twhile(y1<y-400){\n\t\t\t\t\ty1+=400;\n\t\t\t\t\tsumday+=(ll)(366*97+365*303);\n\t\t\t\t}\n\t\t\t\twhile(y1<y){\n\t\t\t\t\tif(y1%400==0)sumday+=(ll)366;\n\t\t\t\t\telse if(y1%100==0)sumday+=(ll)365;\n\t\t\t\t\telse if(y1%4==0)sumday+=(ll)366;\n\t\t\t\t\telse sumday+=(ll)365;\n\t\t\t\t\ty1++;\n\t\t\t\t}\n\t\t\t\twhile(m1<m){\n\t\t\t\t\tif(m1==2){\n\t\t\t\t\t\tif(y1%400==0)sumday+=(ll)29;\n\t\t\t\t\t\telse if(y1%100==0)sumday+=(ll)28;\n\t\t\t\t\t\telse if(y1%4==0)sumday+=(ll)29;\n\t\t\t\t\t\telse sumday+=(ll)28;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tsumday+=(ll)days[m1-1];\n\t\t\t\t\t}\n\t\t\t\t\tm1++;\n\t\t\t\t}\n\t\t\t\tsumday+=(ll)(d-1);\n\t\t\t}\n\t\t\tll b1,ka1,t1,w1,ki1;\n\t\t\tki1=sumday%(ll)20;\n\t\t\tsumday/=(ll)20;\n\t\t\tw1=sumday%(ll)18;\n\t\t\tsumday/=(ll)18;\n\t\t\tt1=sumday%(ll)20;\n\t\t\tsumday/=(ll)20;\n\t\t\tka1=sumday%(ll)20;\n\t\t\tsumday/=(ll)20;\n\t\t\tb1=sumday%(ll)13;\n\t\t\tprintf(\"%lld.%lld.%lld.%lld.%lld\\n\",b1,ka1,t1,w1,ki1);\n\t\t}\n\t\telse{\n\t\t\tint b=0,ka=0,t=0,w=0,ki=0;cou=0;\n\t\t\tfor(int i=0;i<(int)S.length();i++){\n\t\t\t\tif(S[i]=='.'){\n\t\t\t\t\tcou++;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif(cou==0){\n\t\t\t\t\tb*=10;\n\t\t\t\t\tb+=S[i]-'0';\n\t\t\t\t}\n\t\t\t\telse if(cou==1){\n\t\t\t\t\tka*=10;\n\t\t\t\t\tka+=S[i]-'0';\n\t\t\t\t}\n\t\t\t\telse if(cou==2){\n\t\t\t\t\tt*=10;\n\t\t\t\t\tt+=S[i]-'0';\n\t\t\t\t}\n\t\t\t\telse if(cou==3){\n\t\t\t\t\tw*=10;\n\t\t\t\t\tw+=S[i]-'0';\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tki*=10;\n\t\t\t\t\tki+=S[i]-'0';\n\t\t\t\t}\n\t\t\t}\n\t\t\tint y=2012;int m=12;int d=21;\n\t\t\td+=b*(20*20*18*20)+ka*(20*18*20)+t*(18*20)+w*20+ki;\n\t\t\twhile(d>days[m-1]){\n\t\t\t\td-=days[m-1];\n\t\t\t\tm++;\n\t\t\t\tif(m==13){\n\t\t\t\t\ty++;m=1;\n\t\t\t\t\tif(y%400==0)days[1]=29;\n\t\t\t\t\telse if(y%100==0)days[1]=28;\n\t\t\t\t\telse if(y%4==0)days[1]=29;\n\t\t\t\t\telse days[1]=28;\n\t\t\t\t}\n\t\t\t}\n\t\t\tdays[1]=28;\n\t\t\tprintf(\"%d.%d.%d\\n\",y,m,d);\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 0x3f3f3f3f\n\n#include <iostream>\n#include <cstdio>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n  \nusing namespace std;\n  \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P> PP;\n  \nstatic const double EPS = 1e-8;\n  \nstatic const int tx[] = {0,1,0,-1};\nstatic const int ty[] = {-1,0,1,0};\n\nvector<string> split(string delim,string str){\n  vector<string> res;\n  str += delim;\n  for(int i=0;i<str.size();i++){\n    for(int j=1;i+j<=str.size();j++){\n      if(str.substr(i,j).find(delim) != string::npos){\n        if(str.substr(i,j-1).size() >0 ) res.push_back(str.substr(i,j-1));\n        i+=j-1;\n        break;\n      }\n    }\n  }\n  return res;\n}\n\nstatic const int days_per_month[] = {0,31,28,31,30,31,30,31,31,30,31,30,31};\n\nbool is_leap_year(int year){\n  if(year % 4 == 0){\n    if(year % 100 != 0) return true;\n    if(year % 400 == 0) return true;\n  }\n  return false;\n}\n\nstring maya2christ(ll passed_day){\n  passed_day += 356;\n  int year = 2012;\n  for(int prev = 2012; prev <= 10000000; prev++){\n    if(is_leap_year(prev) && passed_day - 366 > 0){\n      passed_day -= 366LL;\n    }\n    else if(!is_leap_year(prev) && passed_day - 365 > 0){\n      passed_day -= 365LL;\n    }\n    else{\n      break;\n    }\n    year = prev + 1;\n  }\n\n  int month = 1;\n  for(int prev = 1; prev < 12; prev++){\n    if(is_leap_year(year) && prev == 2\n       && passed_day - (days_per_month[prev] + 1) > 0){\n      passed_day -= (days_per_month[prev] + 1);\n    }\n    else if(passed_day - days_per_month[prev] > 0){\n      passed_day -= days_per_month[prev];\n    }\n    else{\n      break;\n    }\n    month = prev + 1;\n  }\n  int day = passed_day;\n  stringstream ss;\n  ss << year << \".\" << month << \".\" << day;\n  return ss.str();\n}\n\nstring christ2maya(ll passed_day){\n  while(passed_day > 13*20*20*18*20){\n    passed_day -= 13*20*20*18*20;\n  }\n  ll b = passed_day / (20*20*18*20);\n  passed_day %= (20*20*18*20);\n\n  ll ka = passed_day / (20*18*20);\n  passed_day %= (20*18*20);\n\n  ll t = passed_day / (18*20);\n  passed_day %= (18*20);\n\n  ll w = passed_day / 20;\n  passed_day %= 20;\n  \n  ll ki = passed_day;\n  stringstream ss;\n  ss << b << \".\" << ka << \".\" << t << \".\" << w << \".\" << ki;\n  return ss.str();\n}\n\nint main(){\n  string str;\n  while(cin >> str){\n    if(str == \"#\") break;\n    int total_dots = count(str.begin(),str.end(),'.');\n    if(total_dots == 2){\n      //after christ\n      vector<string> elements = split(\".\",str);\n      ll year = atol(elements[0].c_str());\n      ll month = atol(elements[1].c_str());\n      ll day = atol(elements[2].c_str());\n\n      ll passed_day = 0;\n      for(ll prev = 2012; prev < year; prev++){\n        passed_day += (is_leap_year(prev) ? 366LL : 365LL);\n      }\n\n      for(ll prev = 1; prev < month; prev++){\n        if(is_leap_year(year) && prev == 2){\n          passed_day++;\n        }\n        passed_day += days_per_month[prev];\n      }\n      for(ll prev = 1; prev < day; prev++){\n        passed_day++;\n      }\n      passed_day -= 355LL; //2012.01.01 - 2012.12.20\n      cout << christ2maya(passed_day) << endl;\n    }\n    else{\n      //maya\n      vector<string> elements = split(\".\",str);\n      ll b = atol(elements[0].c_str());\n      ll ka = atol(elements[1].c_str());\n      ll t = atol(elements[2].c_str());\n      ll w = atol(elements[3].c_str());\n      ll ki = atol(elements[4].c_str());\n\n      ll passed_day = b * (20*20*18*20) + ka * (20*18*20) + t * (18*20) + w * 20 + ki;\n      cout << maya2christ(passed_day) << endl;\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<string.h>\n#include<math.h>\nint main(void)\n{\n\tchar z[20];\n\tint a[6],s,f[6],g,h,k,i,j,x;\n\tlong long int d;\n\tint day[12]={31,28,31,30,31,30,31,31,30,31,30,31};\n\twhile(1){\n\t\tscanf(\"%s\",z);\n\t\tif(z[0]=='#') break;\n\t\ts=0;\n\t\tk=-1;\n\t\tj=0;\n\t\tfor(i=0;i<5;i++) a[i]=0;\n\t\tfor(i=0;i<strlen(z);i++){\n\t\t\tif(z[i]=='.')\n\t\t\t\ts++;\n\t\t}\n\t\tif(s==2) k=0;\n\t\telse if(s==4) k=1;\n\t\tif(k==0){\n\t\t\tfor(i=0;i<strlen(z);i++){\n\t\t\t\tif(z[i]=='0') a[j]+=0;\n\t\t\t\telse if(z[i]=='1') a[j]+=1;\n\t\t\t\telse if(z[i]=='2') a[j]+=2;\n\t\t\t\telse if(z[i]=='3') a[j]+=3;\n\t\t\t\telse if(z[i]=='4') a[j]+=4;\n\t\t\t\telse if(z[i]=='5') a[j]+=5;\n\t\t\t\telse if(z[i]=='6') a[j]+=6;\n\t\t\t\telse if(z[i]=='7') a[j]+=7;\n\t\t\t\telse if(z[i]=='8') a[j]+=8;\n\t\t\t\telse if(z[i]=='9') a[j]+=9;\n\t\t\t\telse if(z[i]=='.') j++;\n\t\t\t\ta[j]*=10;\n\t\t\t}\n\t\t\tfor(i=0;i<3;i++) a[i]/=10;\n\t\t\tif(2012==a[0])\td=a[2]-21;\n\t\t\telse{\n\t\t\t\td=10;\n\t\t\t\tx=a[0];\n\t\t\t\tfor(i=2013;i<a[0];i++) d+=365;\n\t\t\t\tif(a[1]>2) x++;\n\t\t\t\tfor(i=2013;i<x;i++){\n\t\t\t\t\tif(i%4==0&&i%100!=0||i%400==0) d++;\n\t\t\t\t}\n\t\t\t\tfor(i=0;i<a[1]-1;i++)\n\t\t\t\t\td+=day[i];\n\t\t\t\td+=a[2];\n\t\t\t}\n\t\t\tf[0]=d%20;\n\t\t\tf[1]=d/20;\n\t\t\tf[2]=f[1]/18;\n\t\t\tf[1]=f[1]%18;\n\t\t\tf[3]=f[2]/20;\n\t\t\tf[2]=f[2]%20;\n\t\t\tf[4]=f[3]/20;\n\t\t\tf[3]=f[3]%20;\n\t\t\tf[4]=f[4]%13;\n\t\t\tfor(i=4;i>=0;i--){\n\t\t\t\tprintf(\"%d\",f[i]);\n\t\t\t\tif(i!=0) printf(\".\");\n\t\t\t}\n\t\t\tprintf(\"\\n\");\n\t\t}\n\t\telse if(k==1){\n\t\t\td=0;\n\t\t\th=0;\n\t\t\tg=0;\n\t\t\tfor(i=0;i<strlen(z);i++){\n\t\t\t\tif(z[i]=='0') a[j]+=0;\n\t\t\t\telse if(z[i]=='1') a[j]+=1;\n\t\t\t\telse if(z[i]=='2') a[j]+=2;\n\t\t\t\telse if(z[i]=='3') a[j]+=3;\n\t\t\t\telse if(z[i]=='4') a[j]+=4;\n\t\t\t\telse if(z[i]=='5') a[j]+=5;\n\t\t\t\telse if(z[i]=='6') a[j]+=6;\n\t\t\t\telse if(z[i]=='7') a[j]+=7;\n\t\t\t\telse if(z[i]=='8') a[j]+=8;\n\t\t\t\telse if(z[i]=='9') a[j]+=9;\n\t\t\t\telse if(z[i]=='.') j++;\n\t\t\t\ta[j]*=10;\n\t\t\t}\n\t\t\tfor(i=0;i<5;i++) a[i]/=10;\n\t\t\t//for(i=0;i<5;i++) printf(\"%d\\n\",a[i]);\n\t\t\td+=a[0]*20*18*20*20;\n\t\t\td+=a[1]*20*18*20;\n\t\t\td+=a[2]*20*18;\n\t\t\td+=a[3]*20;\n\t\t\td+=a[4];\n\t\t\t//printf(\"%d\\n\",d);\n\t\t\th=2012;\n\t\t\tif(d-10<=0) printf(\"2012.12.%d\\n\",21+d);\n\t\t\td-=10;\n\t\t\tif(d>0){\n\t\t\t\twhile(1){\n\t\t\t\t\tif(d<365) break;\n\t\t\t\t\th++;\n\t\t\t\t\tif(h%4==0&&h%100!=0||h%400==0) d-=366;\n\t\t\t\t\telse d-=365;\n\t\t\t\t}\n\t\t\t\th++;\n\t\t\t\tfor(i=0;i<12;i++){\n\t\t\t\t\tif(d>day[i]){\n\t\t\t\t\t\t//printf(\"%d\\n\",d);\n\t\t\t\t\t\tg=i+1;\n\t\t\t\t\t\tif(g==2){\n\t\t\t\t\t\t\tif(h%4==0&&h%100!=0||h%400==0){\n\t\t\t\t\t\t\t\tif(d==29) break;\n\t\t\t\t\t\t\t\telse d--;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\td-=day[i];\n\t\t\t\t\t}\n\t\t\t\t\telse break;\n\t\t\t\t}\n\t\t\t\tif(g!=2) g++;\n\t\t\t\tprintf(\"%d.%d.%d\\n\",h,g,d);\n\t\t\t}\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\n\nconst int unit[5] = {20 * 20 * 18 * 20, 20 * 18 * 20, 18 * 20, 20, 1};\nconst int month[13] = {0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\n\nbool is_leap(int y)\n{\n    if (y % 400 == 0) return 1;\n    if (y % 100 == 0) return 0;\n    if (y % 4 == 0) return 1;\n    return 0;\n}\n\nll fairfield(ll y, ll m, ll d)\n{\n    if (m <= 2) y--, m += 12;\n    return 365 * y + y / 4 - y / 100 + y / 400 + 153 * (m + 1) / 5 + d- 428;\n}\n \nvoid a2m(vector<int> &v)\n{\n    ll y = v[0], m = v[1], d = v[2];\n\n    ll day = (fairfield(y, m, d) - fairfield(2012, 12, 21)) % 1872000LL;    \n    for (int i = 0; i < 5; i++) {\n        if (i > 0) cout << \".\";\n        cout << day / unit[i];\n        day %= unit[i];\n    }\n    cout << endl;\n}\n\nvoid m2a(vector<int> &v)\n{\n    int day = 0;\n    for (int i = 0; i < 5; i++) {\n        day += v[i] * unit[i];\n    }\n\n    int y = 2012, m = 12, d = 21;\n    for (int i = 0; i < 11; i++) {\n        if (day == 0) break;\n        day--; d++;\n    }\n    \n    if (d == 32) y++, d = 1, m = 1;\n    \n    bool update = 1;\n    while (update) {\n        update = 0;\n        if (is_leap(y)) {\n            if (day >= 366) {\n                day -= 366;\n                y++;\n                update = 1;\n            } \n        } else {\n            if (day >= 365) {\n                day -= 365;\n                y++;\n                update = 1;\n            }            \n        }\n    }\n    \n    for (int i = 1; i <= 12; i++, m++) {\n        int md = month[i];\n        if (is_leap(y) && i == 2) md++;\n        if (day >= md) {\n            day -= md;\n        } else {\n            break;\n        }\n    }\n    \n    cout << y << \".\" << m << \".\" << d + day << endl;\n}\n\nint s2i(string &s)\n{\n    stringstream ss(s);\n    int num;\n    ss >> num;\n    return num;\n}\n\nint main()\n{\n    string s;\n    while (cin >> s, s != \"#\") {\n        stringstream ss(s);\n        vector<int> v;\n        while (getline(ss, s, '.')) {\n            v.push_back(s2i(s));\n        }\n        (v.size() == 3 ? a2m(v) : m2a(v));\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cmath>\n#include <vector>\n#include <map>\n#include <stack>\n#include <queue>\n#include <algorithm>\n#include <set>\n\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define REP(i,j) FOR(i,0,j)\n#define mp std::make_pair\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef std::pair<int,int> P;\ntypedef std::pair<int,P> State;\n\nconst int INF = 1001001001;\n\n// S N E W(南北東西)\nconst int dx[8] = {0, 0, 1, -1, 1, 1, -1, -1}, dy[8] = {1, -1, 0, 0, 1, -1, 1, -1};\n\nstd::vector<ll> split(const std::string& s){\n    std::vector<std::string> ss;\n    int pos = 0, prev_pos = 0;\n    while(pos = s.find(\".\", pos), pos != std::string::npos){\n        ss.push_back(s.substr(prev_pos, pos-prev_pos));\n        pos += 1;\n        prev_pos = pos;\n    }\n    ss.push_back(s.substr(prev_pos, s.size()-prev_pos));\n\n    std::vector<ll> res;\n    for(const auto &s : ss){\n        res.push_back(std::stoi(s));\n    }\n\n    return res;\n}\n\nstd::string join(const std::vector<ll>& ns){\n    if(ns.empty()){return \"\";}\n\n    std::string res = std::to_string(ns[0]);\n    for(int i=1;i<ns.size();i++){\n        res += \".\" + std::to_string(ns[i]);\n    }\n    return res;\n}\n\nll f(ll y, ll m, ll d){\n    return 365 * y + y / 4 - y / 100 + y / 400 + 306 * (m+1) / 10 + d - 429;\n}\n\nstd::vector<ll> ADToMaya(std::vector<ll> ns){\n    ll y = ns[0], m = ns[1], d = ns[2], day = f(y, m, d) - f(2012, 12, 21);\n    \n    day %= 1872000;\n\n    std::vector<ll> res;\n    res.push_back(day / 144000);\n    day %= 144000;\n    res.push_back(day / 7200);\n    day %= 7200;\n    res.push_back(day / 360);\n    day %= 360;\n    res.push_back(day / 20);\n    day %= 20;\n    res.push_back(day);\n\n    return res;\n}\n\nbool isLeap(int y){\n    if(y % 400 == 0){\n        return true;\n    }else if(y % 100 == 0){\n        return false;\n    }else if(y % 4 == 0){\n        return true;\n    }\n\n    return false;\n}\n\nstd::vector<ll> MayaToAD(std::vector<ll> ns){\n    ll day = ns[4]+20*(ns[3]+18*(ns[2]+20*(ns[1]+20*ns[0]))) + f(2012, 12, 21);\n    std::vector<ll> res;\n\n    ll lb = 0, ub = 10000001;\n    while(ub-lb > 1){\n        ll mid = (lb+ub) / 2;\n        if((mid-1)*365 + (mid-1)/4 - (mid-1)/100 + (mid-1)/400 <= day){\n            lb = mid;\n        }else{\n            ub = mid;\n        }\n    }\n\n    res.push_back(lb);\n    day -= (lb-1)*365 + (lb-1)/4 - (lb-1)/100 + (lb-1)/400;\n    day += 1;\n    \n    const ll table[13] = {0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\n    for(ll m=1,sum=0;m<=12;m++){\n        ll max = (m==2&&isLeap(lb))?29:table[m];\n        if(m == 12 || day <= sum + max){\n            res.push_back(m);\n            day -= sum;\n            res.push_back(day);\n            break;\n        }\n\n        sum += max;\n    }\n\n    return res;\n}\n\nint main(){\n    std::string s;\n    while(std::cin >> s, s != \"#\"){\n        auto ns = split(s);\n        if(ns.size() == 3){\n            std::cout << join(ADToMaya(ns)) << std::endl;\n        }else{\n            std::cout << join(MayaToAD(ns)) << std::endl;\n        }\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string.h>\n#include<stdlib.h>\n#include<stdio.h>\n#include<algorithm>\n#include<cstdio>\n#include<cctype>\nusing namespace std;\nlong long n[5];\nlong long  ma[5]={144000,7200,360,20,1};\nlong long tuki[13]={0,31,28,31,30,31,30,31,31,30,31,30,31};\nlong long p=31+29+31+30+31+30+31+31+30+31+30+21;\nint  seireki(){\n\tlong long ans[6]={0};\n\tlong long kin=0;\n\tint  i,j;\n\t/*for(i=0;i<5;i++){\n\t\tcout<<n[i]<<endl;\n\t}*/\n\tkin=0;\n\tfor(i=n[0]-1;i>=2012;i--){\n\t\tif(i%4==0&&i%100!=0||i%4==0&&i%400==0){\n\t\t\tkin+=366;\n\t\t}\n\t\telse{\n\t\t\tkin+=365;\n\t\t}\n\t}\n\tfor(i=n[1]-1;i>=1;i--){\n\t\tkin+=tuki[i];\n\t}\n\tif(n[0]%4==0&&n[0]%100!=0||n[0]%4==0&&n[0]%400==0){\n\t\tif(n[1]>=3){\n\t\t\tkin++;\n\t\t}\n\t}\n\tkin+=n[2];\n\tkin-=p;\n\tkin%=1872000;\n\tfor(i=0;i<5;i++){\n\t\tans[i]=kin/ma[i];\n\t\tkin%=ma[i];\n\t}\n\tfor(i=0;i<5;i++){\n\t\tcout<<ans[i];\n\t\tif(i<4){\n\t\t\tcout<<\".\";\n\t\t}\n\t\telse{\n\t\t\tcout<<endl;\n\t\t}\n\t}\n}\nvoid maya(void){\n\tlong long ans[3];\n\tlong long kin=0;\n\tint i,j;\n\t/*for(i=0;i<5;i++){\n\t\tkin=kin+n[i]*ma[i];\n\t}*/\n\tkin=kin+n[0]*144000;\n\tkin=kin+n[1]*7200;\n\tkin=kin+n[2]*360;\n\tkin=kin+n[3]*20;\n\tkin+=n[4];\n\tans[0]=2012;\n\tans[1]=12;\n\tans[2]=21;\n\t//cout<<kin<<endl;\n\twhile(kin--){\n\t\tans[2]++;\n\t\tif(ans[2]>tuki[ans[1]]+(ans[1]==2&&(ans[0]%400==0||(ans[0]%4==0&&ans[0]%100!=0)))){\n\t\t\tans[1]++;\n\t\t\tans[2]=1;\n\t\t}\n\t\tif(ans[1]>12){\n\t\t\tans[0]++;\n\t\t\tans[1]=1;\n\t\t}\n\t}\n\tprintf(\"%lld.%lld.%lld\\n\",ans[0],ans[1],ans[2]);\n}\nint main(){\n\tchar koyomi[50];\n\tint i,j;\n\twhile(1){\n\t\tcin>>koyomi;\n\t\tif(koyomi[0]=='#'){\n\t\t\tbreak;\n\t\t}\n\t\tmemset(n,0,sizeof(n));\n\t\tj=0;\n\t\t//out<<strlen(koyomi)<<endl;\n\t\tfor(i=0;i<strlen(koyomi);i++){\n\t\t\tif(koyomi[i]=='.'){\n\t\t\t\tj++;\n\t\t\t}\n\t\t}\n\t\t//printf(\"%lld.%lld.%lld.%lld.%lld\\n\",n[0],n[1],n[2],n[3],n[4]);\n\t\tif(j==2){\n\t\t\tsscanf(koyomi,\"%lld.%lld.%lld\",&n[0],&n[1],&n[2]);\n\t\t\tseireki();\n\t\t}\n\t\telse{\n\t\t\tsscanf(koyomi,\"%lld.%lld.%lld.%lld.%lld\",&n[0],&n[1],&n[2],&n[3],&n[4]);\n\t\t\tmaya();\n\t\t}\n\t}\n\treturn 0;\n}\n\t"
  },
  {
    "language": "C++",
    "code": "\n\n#include <bits/stdc++.h>\nusing namespace std;\n\n#define in ,\n#define esc_paren(...) __VA_ARGS__\n#define pp_empty(...)\n#define pp_cat_i(x, y) x ## y\n#define pp_cat(x, y) pp_cat_i(x, y)\n\n#define pp_inc0 1\n#define pp_inc1 2\n#define pp_inc2 3\n#define pp_inc3 4\n#define pp_inc4 5\n#define pp_inc5 6\n#define pp_inc6 7\n#define pp_inc7 8\n#define pp_inc8 9\n#define pp_inc(i) pp_cat(pp_inc, i)\n\n#define pp_arg10(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, ...) _9\n#define pp_has_comma(...) pp_arg10(__VA_ARGS__, 1, 1, 1, 1, 1, 1, 1, 1, 0)\n#define pp_trigger_paren(...) ,\n#define pp_is_empty(...) \\\n  pp_is_empty1( \\\n      pp_has_comma(__VA_ARGS__), \\\n      pp_has_comma(pp_trigger_paren __VA_ARGS__), \\\n      pp_has_comma(__VA_ARGS__()), \\\n      pp_has_comma(pp_trigger_paren __VA_ARGS__()) \\\n      ) \n#define pp_paste5(_0, _1, _2, _3, _4) _0 ## _1 ## _2 ## _3 ## _4\n#define pp_is_empty1(_0, _1, _2, _3) pp_has_comma(pp_paste5(pp_is_empty_case_, _0, _1, _2, _3))\n#define pp_is_empty_case_0001 ,\n\n#define pp_is_one(...) pp_is_one_(__VA_ARGS__, pp_one_seq)\n#define pp_is_one_(...) pp_is_one_n(__VA_ARGS__)\n#define pp_is_one_n(_1,_2,_3,_4,_5,_6,_7,_8,_9,_10, N, ...) N\n#define pp_one_seq 0,0,0,0,0,0,0,0,0,1,0\n\n#define pp_narg(...) \\\n         pp_narg_(__VA_ARGS__, pp_narg_seq)\n#define pp_narg_(...) \\\n         pp_narg_n(__VA_ARGS__)\n#define pp_narg_n( \\\n          _1, _2, _3, _4, _5, _6, _7, _8, _9,_10, \\\n         _11,_12,_13,_14,_15,_16,_17,_18,_19,_20, \\\n         _21,_22,_23,_24,_25,_26,_27,_28,_29,_30, \\\n         _31,_32,_33,_34,_35,_36,_37,_38,_39,_40, \\\n         _41,_42,_43,_44,_45,_46,_47,_48,_49,_50, \\\n         _51,_52,_53,_54,_55,_56,_57,_58,_59,_60, \\\n         _61,_62,_63,n,...) n\n#define pp_narg_seq \\\n         63,62,61,60, \\\n         59,58,57,56,55,54,53,52,51,50, \\\n         49,48,47,46,45,44,43,42,41,40, \\\n         39,38,37,36,35,34,33,32,31,30, \\\n         29,28,27,26,25,24,23,22,21,20, \\\n         19,18,17,16,15,14,13,12,11,10, \\\n          9, 8, 7, 6, 5, 4, 3, 2, 1, 0\n\n#define pp_if_0(x, y) y\n#define pp_if_1(x, y) x\n#define pp_if(cond, x, y) pp_cat(pp_if_, cond)(x, y)\n\n#define pp_foreach_i9(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i8(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i7(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i6(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i5(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i4(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i3(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i2(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i1(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i0(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i(i, f, ...) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach(f, ...) pp_foreach_i(0, f, __VA_ARGS__)\n\n\ntypedef long long ll;\n#define down_queue(x) priority_queue<x>\n#define up_queue(x) priority_queue<x, vector<x>, greater<x>>\n#define all(x) x.begin(), x.end()\n#define split_str(str, sp_word) istringstream stream(str); string res; for(int cnt = 0; getline(stream,res,sp_word); cnt++)\n#define digit(x) ((int)log10((double)(x)) + 1)\n#define mp(x,y) make_pair(x,y)\n#define pb(x) push_back(x)\n#define pf(x) push_front(x)\n#define vec_cpy(to,from) copy(all(to),back_inserter(from))\n#define ary_cpy(to,from) memcpy(to, from, sizeof(from))\n#define MOD 1000000007\n#define INF 999999999\n\n\n#define rep(...) rep1(rep2, (__VA_ARGS__))\n#define rep1(X, A) X A\n#define rep2(i, ...) pp_if(pp_is_one(__VA_ARGS__), rep_len1(i, __VA_ARGS__), rep3(i, __VA_ARGS__))\n#define rep_len1(i, end, ...) for (int i = 0; i < end; i++)\n#define rep3(i, iter, ...) rep4(rep5, (iter, i, esc_paren __VA_ARGS__))\n#define rep4(X, A) X A\n#define rep5(iter, ...) iter(__VA_ARGS__)\n\n#define up up_iter ,\n#define up_iter3(i, start, end) for (int i = start; i < end; i++)\n#define up_iter4(i, start, end, up) for (int i = start; i < end; i += up)\n#define up_iter(...) pp_cat(up_iter, pp_narg(__VA_ARGS__))(__VA_ARGS__)\n#define down down_iter ,\n#define down_iter2(i, end) for(int i = end-1; i >= 0; i--)\n#define down_iter3(i, start, end) for (int i = end-1; i >= start; i--)\n#define down_iter4(i, start, end, down) for (int i = end-1; i >= start; i -= down)\n#define down_iter(...) pp_cat(down_iter, pp_narg(__VA_ARGS__))(__VA_ARGS__)\n#define viter viter_iter ,\n#define viter_iter(i, v) auto tmpitr=v.begin(); for (auto i=*tmpitr; tmpitr != v.end(); tmpitr++)\n\n\n#define pp_init2(cnt, body) struct _InitStruct ## cnt { _InitStruct ## cnt() { body } } _initstruct ## cnt;\n#define pp_init1(f, cnt, body) f(cnt, body)\n#define pp_init(body) pp_init1(pp_init2, __COUNTER__, body)\n\n#define init_array(arr, N, val) pp_init(rep (i in N) { arr[i] = val; })\n#define iota_array(arr, N, start) pp_init(rep (i in N) { arr[i] = start + i; })\n\n\n#define debug_var_elem(v) << #v << \"=\" << v << \" \"\n#ifdef DEBUG\n#define debug_echo(e) cout << \"L\" << __LINE__ << \": \" << e << endl\n#define debug_var(...) cout << \"L\" << __LINE__ << \": \" pp_foreach(debug_var_elem, __VA_ARGS__) << endl\n#else\n#define debug_echo(e)\n#define debug_var(...)\n#endif\n\n\n#define pp_gen_field(list) pp_gen_field1 list\n#define pp_gen_field1(name, val) decltype(val) name;\n#define pp_gen_init(list) pp_gen_init1 list\n#define pp_gen_init1(name, val) ,val\n#define pp_gen_find_set_wrap(ufnodename) ufnodename pp_gen_find_set\n#define pp_gen_find_set(list) pp_gen_find_set1 list\n#define pp_gen_find_set1(name, val) \\\n  find_set_ ## name(int x, decltype(val) v) { \\\n    if (nodes[x].parent == x) { \\\n      nodes[x].name = v; \\\n      return nodes[x]; \\\n    } else { \\\n      return nodes[x] = find_set_ ## name(nodes[x].parent, v); \\\n    } \\\n  }\n#define pp_gen_unite_set(list) pp_gen_unite_set1 list\n#define pp_gen_unite_set1(name, val) \\\n  if (nodes[x].name == val) { \\\n    find_set_ ## name(x, find(y).name); \\\n  } \\\n  if (nodes[y].name == val) { \\\n    find_set_ ## name(y, find(x).name); \\\n  }\n\n#define def_unionfind(ufname, ufnodename, ...) \\\n  struct ufnodename { \\\n    int parent; \\\n    pp_foreach(pp_gen_field, __VA_ARGS__) \\\n  }; \\\n  struct ufname { \\\n    vector<ufnodename> nodes; \\\n    vector<int> rank; \\\n    ufname(int n) : nodes(n+1), rank(n+1) { \\\n      rep (i in n) { \\\n        nodes[i] = ufnodename{i pp_foreach(pp_gen_init, __VA_ARGS__)}; \\\n        rank[i] = 0; \\\n      } \\\n    } \\\n    ufnodename find(int x) { \\\n      if (nodes[x].parent == x) { \\\n        return nodes[x]; \\\n      } else { \\\n        return nodes[x] = find(nodes[x].parent); \\\n      } \\\n    } \\\n    pp_foreach(pp_gen_find_set_wrap(ufnodename), __VA_ARGS__) \\\n    void unite(int x, int y) { \\\n      x = find(x).parent; \\\n      y = find(y).parent; \\\n      if (x == y) return; \\\n      if (rank[x] < rank[y]) { \\\n        pp_foreach(pp_gen_unite_set, __VA_ARGS__); \\\n        nodes[x].parent = y; \\\n      } else { \\\n        pp_foreach(pp_gen_unite_set, __VA_ARGS__); \\\n        nodes[y].parent = x; \\\n        if (rank[x] == rank[y]) rank[x]++; \\\n      } \\\n    } \\\n    bool same(int x, int y) { \\\n      return find(x).parent == find(y).parent; \\\n    } \\\n  }\n\n\nll gcd(ll a,ll b){while(b){ll tmp = a % b;a = b;b = tmp;}return a;}\nll lcm(ll a,ll b){return a / gcd(a,b) * b;}\n\n#define def_varargs(name, f) \\\n  template<typename First> \\\n  inline First name(First first) { return first; } \\\n  template<typename First, typename... Rest> \\\n  inline First name(First first, Rest... rest) { return f(first, name(rest...)); }\n\nvector<string> split(const string &s, char delim) {\n    vector<string> elems;\n    string item;\n    for (char ch: s) {\n        if (ch == delim) {\n            if (!item.empty())\n                elems.push_back(item);\n            item.clear();\n        }\n        else {\n            item += ch;\n        }\n    }\n    if (!item.empty())\n        elems.push_back(item);\n    return elems;\n}\n\n#define KIN 1\n#define WINAL (KIN*20)\n#define TON (WINAL*18)\n#define KATON (TON*20)\n#define BAKTON (KATON*20)\n\nbool is_uruu(ll year) {\n  return year % 4 == 0 && (year % 100 != 0 || year % 400 == 0);\n}\n\nll calc_year(ll& allday) {\n  ll cnt = 2012;\n  allday++;\n  while (true) {\n    ll sub;\n    if (is_uruu(cnt)) {\n      sub = 366;\n    } else {\n      sub = 365;\n    }\n    if (allday - sub < 0) {\n      break;\n    }\n    allday -= sub;\n    cnt++;\n  }\n  return cnt;\n}\npair<ll, ll> calc_month(ll& allday, ll& year) {\n  ll cnt = 12;\n  ll day = 31;\n  while (true) {\n    ll sub;\n    if (cnt == 2) {\n      sub = is_uruu(year) ? 29 : 28;\n    } else if (cnt == 4 || cnt == 6 || cnt == 9 || cnt == 11) {\n      sub = 30;\n    } else {\n      sub = 31;\n    }\n    day = sub;\n    if (allday - sub < 0) {\n      break;\n    }\n    allday -= sub;\n    cnt++;\n    if (cnt > 12) {\n      year++;\n      cnt = 1;\n    }\n  }\n  return mp(cnt, day);\n}\nll calc_day(ll& allday, ll& month, ll& day) {\n  if (21 + allday > day) {\n    month++;\n    return 21 + allday - day;\n  } else {\n    return allday+21;\n  }\n}\n\nll year_to_day(ll year) {\n  ll cnt = -1;\n  rep (i in year-2012) {\n    if (is_uruu(i+2012)) {\n      cnt += 366;\n    } else {\n      cnt += 365;\n    }\n  }\n  return cnt;\n}\nll month_to_day(ll month, ll& year) {\n  int cnt = 0;\n  if (month==12) {\n    return is_uruu(year) ? 1 : 0;\n  }\n  year--;\n  rep (i in up(1, month+1)) {\n    if (i == 2) {\n      cnt += is_uruu(year+1) ? 29 : 28;\n    } else if (i == 4 || i == 6 || i == 9 || i == 11) {\n      cnt += 30;\n    } else {\n      cnt += 31;\n    }\n  }\n  return cnt;\n}\n\nint main() {\n  string s;\n  while (cin >> s && s[0] != '#') {\n    vector<string> elems = split(s, '.');\n    vector<int> maya;\n    for (auto e : elems) {\n      maya.pb(stoi(e));\n    }\n    if (elems.size() == 5) {\n      ll allday = maya[0]*BAKTON + maya[1]*KATON + maya[2]*TON + maya[3]*WINAL + maya[4]*KIN;\n      auto year = calc_year(allday);\n      auto month = calc_month(allday, year);\n      auto day = calc_day(allday, month.first, month.second);\n      if (month.first > 12) {\n        month.first -= 12;\n        year++;\n      }\n      cout << year << \".\" << month.first << \".\" << day << endl;\n    } else {\n      ll y = maya[0];\n      ll month = month_to_day(maya[1], y);\n      ll day = maya[2] - 21;\n      ll year = year_to_day(y);\n      ll allday = year + month + day;\n      allday %= BAKTON * 13;\n      ll b = allday / BAKTON; allday %= BAKTON;\n      ll ka = allday / KATON; allday %= KATON;\n      ll t = allday / TON; allday %= TON;\n      ll w = allday / WINAL; allday %= WINAL;\n      ll ki = allday / KIN; allday %= KIN;\n      cout << b << \".\" << ka << \".\" << t << \".\" << w << \".\" << ki << endl;\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<tuple>\n#include<string>\n#include<vector>\nusing namespace std;\nlong long p1[13][33], p2[13][33], V[401];\ntuple<int, int, int>x[13][20][20][18][20];\ntuple<int, int, int, int, int>xx[1872002];\nvoid Day_Init() {\n\tfor (int i = 0; i < 429; i++) { p1[i / 33][i % 33] = -1; p2[i / 33][i % 33] = -1; }\n\tlong long CNTS = 0;\n\tfor (int i = 1; i <= 12; i++) {\n\t\tlong long V = 31; if ((i <= 6 && i % 2 == 0) || (i >= 9 && i % 2 == 1))V = 30;\n\t\tif (i == 2)V = 28;\n\t\tfor (int j = 1; j <= V; j++) { p1[i][j] = CNTS; CNTS++; }\n\t}\n\tCNTS = 0;\n\tfor (int i = 1; i <= 12; i++) {\n\t\tlong long V = 31; if ((i <= 6 && i % 2 == 0) || (i >= 9 && i % 2 == 1))V = 30;\n\t\tif (i == 2)V = 29;\n\t\tfor (int j = 1; j <= V; j++) { p2[i][j] = CNTS; CNTS++; }\n\t}\n\tfor (int i = 1; i <= 400; i++) {\n\t\tlong long II = i - 1;\n\t\tif (II % 4 == 0 && (II % 100 >= 1 || II % 400 == 0))V[i] = V[i - 1] + 366;\n\t\telse { V[i] = V[i - 1] + 365; }\n\t}\n}\nvoid init() {\n\tDay_Init();\n\tlong long CNTS = 0; long long yy = 2012, mm = 12, dd = 21;\n\tfor (int i = 0; i < 13; i++) {\n\t\tfor (int j = 0; j < 20; j++) {\n\t\t\tfor (int k = 0; k < 20; k++) {\n\t\t\t\tfor (int l = 0; l < 18; l++) {\n\t\t\t\t\tfor (int m = 0; m < 20; m++) {\n\t\t\t\t\t\tx[i][j][k][l][m] = make_tuple(yy, mm, dd);\n\t\t\t\t\t\txx[CNTS] = make_tuple(i, j, k, l, m);\n\t\t\t\t\t\tCNTS++; dd++;\n\t\t\t\t\t\tif (yy % 4 == 0 && (yy % 100 >= 1 || yy % 400 == 0)) {\n\t\t\t\t\t\t\tif (p2[mm][dd] == -1) { mm++; dd = 1; }\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse { if (p1[mm][dd] == -1) { mm++; dd = 1; } }\n\t\t\t\t\t\tif (mm == 13) { mm = 1; yy++; }\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\nlong long DayCount(long long y, long long m, long long d) {\n\tlong long DD = 0; if (y % 4 == 0 && (y % 100 >= 1 || y % 400 == 0)) { DD = p2[m][d]; }\n\telse { DD = p1[m][d]; }\n\treturn (V[400] * (y / 400) + V[y % 400]) + DD;\n}\ntuple<int, int, int> MayaWest(long long I, long long J, long long K, long long L, long long M) {\n\treturn x[I][J][K][L][M];\n}\ntuple<int, int, int, int, int>WestMaya(long long I, long long J, long long K) {\n\tlong long X = (DayCount(I, J, K) + 1872000LL - DayCount(2012, 12, 21)) % 1872000LL;\n\treturn xx[X];\n}\nint main() {\n\tinit();\n\twhile (true) {\n\t\tstring S; cin >> S; if (S == \"#\")break; S += '.';\n\t\tvector<long long>Vec; string T = \"\";\n\t\tfor (int i = 0; i < S.size(); i++) {\n\t\t\tif (S[i] == '.') { Vec.push_back(stoi(T)); T = \"\"; }\n\t\t\telse { T += S[i]; }\n\t\t}\n\t\tif (Vec.size() == 3) {\n\t\t\ttuple<long long, long long, long long, long long, long long>ans = WestMaya(Vec[0], Vec[1], Vec[2]);\n\t\t\tcout << get<0>(ans) << '.' << get<1>(ans) << '.' << get<2>(ans) << '.' << get<3>(ans) << '.' << get<4>(ans) << endl;\n\t\t}\n\t\tif (Vec.size() == 5) {\n\t\t\ttuple<long long, long long, long long>ans = MayaWest(Vec[0], Vec[1], Vec[2], Vec[3], Vec[4]);\n\t\t\tcout << get<0>(ans) << '.' << get<1>(ans) << '.' << get<2>(ans) << endl;\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nvector<string> split(const string &str, char sep)\n{\n    vector<string> v;\n    stringstream ss(str);\n    string buffer;\n    while( getline(ss, buffer, sep) ) {\n        v.push_back(buffer);\n    }\n    return v;\n}\n\nbool is_Leapyear(long long int year){\n    if(year%4==0){\n        if(year%100==0){\n            if(year%400==0){\n                return true;\n            }\n            return false;\n        }\n        return true;\n    }\n    return false;\n}\n\nint months[12] = {31,28,31,30,31,30,31,31,30,31,30,31};\nint leapmonths[12] = {31,29,31,30,31,30,31,31,30,31,30,31};\n\nint main() {\n\n    string s;\n\n    const long long  int baseday = (2012*365 + 2012/4 - 2012/100 + 2012/400 + 366-11);\n\n    while(1){\n\n        cin >> s;\n\n        if(s[0] == '#'){\n            break;\n        }\n\n        vector<string> vec = split(s,'.');\n\n        if(vec.size() == 5){\n\n            int a[5];//b,ka,t,w,ki\n\n            for(int i=0;i<5;i++){\n                stringstream ss;\n                ss << vec[i];\n                ss >> a[i];\n            }\n\n            long long int allday = 0;\n\n            allday = a[0]*20*20*18*20 + a[1]*20*18*20 + a[2]*18*20 + a[3]*20 + a[4];\n\n            if(allday>=11){\n                allday -= 11;\n                int year,month,day;\n                year = 2013+(allday/(365+365+365+366))*4;\n                allday = allday % (365+365+365+366);\n                allday = allday + (year-2013)/100 - (year-2013)/400;\n                year += allday/365;\n                allday %= 365;\n                month = 1;\n                day = 1;\n                if(is_Leapyear(year)){\n                    for(int i=0;i<12;i++){\n                        if(allday>=leapmonths[i]){\n                            allday-=leapmonths[i];\n                            month++;\n                        }\n                        else{\n                            break;\n                        }\n                    }\n                    day += allday;\n                    printf(\"%d.%d.%d\\n\",year,month,day);\n                }\n                else{\n                    for(int i=0;i<12;i++){\n                        if(allday>=months[i]){\n                            allday-=months[i];\n                            month++;\n                        }\n                        else{\n                            break;\n                        }\n                    }\n                    day += allday ;\n                    printf(\"%d.%d.%d\\n\",year,month,day);\n                }\n            }\n            else{\n                printf(\"2012.12.%lld\\n\",21+allday);\n            }\n\n        }\n\n        else{\n\n            int b[3];//year,month,day\n\n            for(int i=0;i<3;i++){\n                stringstream ss;\n                ss << vec[i];\n                ss >> b[i];\n            }\n\n            long long int allday = (b[0] % 1872000 * 365 + b[0]/4 - b[0]/100 + b[0]/400);\n\n            if(is_Leapyear(b[0])){\n                allday--;\n            }\n\n            for(int i=0;i<b[1]-1;i++){\n                if(is_Leapyear(b[0])){\n                    allday += leapmonths[i];\n                }\n                else{\n                    allday += months[i];\n                }\n            }\n\n            allday += b[2];\n\n            allday -= baseday;\n\n            allday %= 1872000;\n\n            int ba,ka,t,w,ki;\n\n            ba = allday/144000;\n\n            allday %= 144000;\n\n            ka = allday/7200;\n\n            allday %= 7200;\n\n            t = allday/360;\n\n            allday %= 360;\n\n            w = allday/20;\n\n            allday %= 20;\n\n            ki = allday;\n\n            printf(\"%d.%d.%d.%d.%d\\n\",ba,ka,t,w,ki);\n        }\n\n    }\n\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<string>\n#include<sstream>\nusing namespace std;\ntypedef long long ll;\nstatic const int D[] = {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\nstatic const int DT[] = {0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334, 365};\nstatic const int MT[] = {144000, 7200, 360, 20, 1};\nbool isLeap(int y){ return ( y%4 == 0 && ( y%100 || y%400 == 0 ));}\n\nll getDay(int y, int m, int d){\n  ll sum = 0;\n  for ( int i = 1; i <= y; i++ ){\n    sum += 365 + (isLeap(i-1)?1:0);\n  }\n  sum += DT[m-1];\n  if ( isLeap(y) && m >= 3 ) sum++;\n  sum += d - 1;\n  return sum;\n}\n\nvoid toMaya(vector<int> v){\n  ll d = getDay(v[0], v[1], v[2]) - getDay(2012, 12, 21);\n  d %= MT[0]*13;\n  for ( int i = 0; i < 5; i++ ){\n    if (i) cout << \".\";\n    cout << d/MT[i]; d %= MT[i];\n  }\n  cout << endl;\n}\n\nvoid toGregorian(vector<int> v){\n  ll sum = getDay(2012,12,21);\n  for ( int i = 0; i < 5; i++ ) sum += v[i]*MT[i];\n  ll y = 0, m = 1, d = sum;\n  \n  while(1){\n    int dd = (isLeap(y)?366:365);\n    if ( d >= dd ) d -= dd;\n    else break;\n    y++;\n  }\n\n  for ( int i = 0; d >= D[i]; i++ ){\n    m = i+2;\n    d -= D[i];\n    if ( isLeap(y) && i == 1 ) d--;\n  }\n  d++;\n  if ( m == 3 && d == 0 ) { m = 2; d =29; }\n  cout << y << \".\" << m << \".\" << d << endl;\n}\n\nmain(){\n  string line;\n  char ch;\n  int x;\n  int tcase = 0;\n  while(1){\n    //cin >> line;\n    getline(cin, line);\n    if ( line == \"#\" ) break;\n    tcase++;\n    vector<int> d;\n    stringstream sin(line);\n    for ( ; sin >> x ; sin >> ch ) d.push_back(x);\n    if ( d.size() == 3 ) toMaya(d);\n    else if ( d.size() == 5 ) toGregorian(d);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define int long long\n#define UNIQUE(v) v.erase(unique(all(v)), v.end());\n#define ZIP(v) sort(all(v)),UNIQUE(v)\n#define ADD(a, b) a = (a + b) % mod\n#define SUB(a, b) a = (a+mod-b)%mod\n#define MUL(a, b) a = (a * b) % mod\n#define repi(i,m,n) for(int i = m;i < n;i++)\n#define drep(i,n,m) for(int i = n;i >= m;i--)\n#define rep(i,n) repi(i,0,n)\n#define rrep(i,n) repi(i,1,n+1)\n#define chmin(x,y) x = min(x,y)\n#define chmax(x,y) x = max(x,y)\n#define all(v) v.begin(),v.end()\n#define rall(v) v.rbegin(), v.rend()\n#define dmp(x,y) make_pair(x,y)\n#define pb(x) push_back(x)\n#define fi first\n#define se second\ntypedef pair<int,int> P;\ntypedef pair<int, P> PP;\ntypedef pair<P, int> Pi;\ntypedef vector<int> vi;\ntypedef deque<int> dq;\nconst int inf = 1e9+7;\nconst int INF = 1e18+7;\n\nvi get_num(string str){\n\tstr.pb('.');\n\tstring s = \"\";\n\tvector<int> vec;\n\trep(i,str.size()){\n\t\tif(str[i] == '.'){\n\t\t\tvec.pb(atoll(s.c_str()));\n\t\t\ts = \"\";continue;\n\t\t}\n\t\ts.pb(str[i]);\n\t}\n\treturn vec;\n}\n\nint length_of_year(int y){ // 1-indexed\n  if(y%400 == 0 || ((y%100 != 0) && (y%4 == 0)))return 366;\n  return 365;\n}\n\nint length_of_month(int y, int m){ // 1-indexed\n  int monthes[12] = {31, 0, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\n    if(m != 2)return monthes[m-1];\n    if(length_of_year(y) == 366)return 29;\n    return 28;\n}\n\nint date_to_int(string date){ //ex) 2018.08.05\n\tvector<int> vec = get_num(date);\n\tint ans = 0;\n\tint y = vec[0], m = vec[1], d = vec[2];\n\trepi(i,1,y)ans += length_of_year(i);\n\trepi(i,1,m)ans += length_of_month(y, i);\n\treturn ans + d;\n}\n\nint maya_to_int(string date){\n\tvector<int> vec = get_num(date);\n\tint ans = 0, tmp = 1;\n\tint mask[] = {13, 20, 20, 18, 20};\n\tdrep(i,5-1,0){\n\t\tans += vec[i]*tmp;\n\t\ttmp *= mask[i];\n\t}\n\treturn ans;\n}\n\nstring anno_to_str(int date){\n\tint y = 1, m = 1;\n\tfor(int i = 1;length_of_year(i) < date;i++){date -= length_of_year(i);y++;}\n\tfor(int i = 1;length_of_month(y, i) < date;i++){date -= length_of_month(y, i);m++;}\n\tstring ans;\n\tans += to_string(y) + \".\";\n\tans += to_string(m) + \".\";\n\tans += to_string(date);\n\treturn ans;\n}\n\nstring maya_to_str(int date){\n\tint mark2[] = {13, 20, 20, 18, 20};\n\tint mark[5] = {}, ans[5] = {};\n\tint tmp = 20;\n\tdrep(i,3,0){mark[i] = tmp;tmp *= mark2[i];}\n\trep(i,4){\n\t\tans[i] = date/mark[i];\n\t\tdate -= mark[i]*(date/mark[i]);\n\t}ans[4] = date;\n\tstring str = \"\";\n\trep(i,4){\n\t\tstr += to_string(ans[i]%mark2[i]) + \".\";\n\t}\n\treturn str+to_string(ans[4]);\n}\n\nsigned main(){\n\tint B = date_to_int(\"2012.12.21\");\n\twhile(1){\n\t\tstring str;\n\t\tcin >> str;\n\t\tif(str == \"#\")break;\n\t\tif(get_num(str).size() == 3){\n\t\t\tint num = date_to_int(str)-B;\n\t\t\tcout << maya_to_str(num) << endl;\n\t\t\t//cout << anno_to_str(num) << endl;\n\t\t}else{\n\t\t\tint num = maya_to_int(str)+B;\n\t\t\tcout << anno_to_str(num) << endl;\n\t\t\t//cout << maya_to_str(num) << endl;\n\t\t\t//printf(\"b\\n\");\n\t\t}\n\t}\n\treturn 0;\n}\n\n\n\n"
  },
  {
    "language": "C++",
    "code": "\n\n#include <bits/stdc++.h>\nusing namespace std;\n\n#define in ,\n#define esc_paren(...) __VA_ARGS__\n#define pp_empty(...)\n#define pp_cat_i(x, y) x ## y\n#define pp_cat(x, y) pp_cat_i(x, y)\n\n#define pp_inc0 1\n#define pp_inc1 2\n#define pp_inc2 3\n#define pp_inc3 4\n#define pp_inc4 5\n#define pp_inc5 6\n#define pp_inc6 7\n#define pp_inc7 8\n#define pp_inc8 9\n#define pp_inc(i) pp_cat(pp_inc, i)\n\n#define pp_arg10(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, ...) _9\n#define pp_has_comma(...) pp_arg10(__VA_ARGS__, 1, 1, 1, 1, 1, 1, 1, 1, 0)\n#define pp_trigger_paren(...) ,\n#define pp_is_empty(...) \\\n  pp_is_empty1( \\\n      pp_has_comma(__VA_ARGS__), \\\n      pp_has_comma(pp_trigger_paren __VA_ARGS__), \\\n      pp_has_comma(__VA_ARGS__()), \\\n      pp_has_comma(pp_trigger_paren __VA_ARGS__()) \\\n      ) \n#define pp_paste5(_0, _1, _2, _3, _4) _0 ## _1 ## _2 ## _3 ## _4\n#define pp_is_empty1(_0, _1, _2, _3) pp_has_comma(pp_paste5(pp_is_empty_case_, _0, _1, _2, _3))\n#define pp_is_empty_case_0001 ,\n\n#define pp_is_one(...) pp_is_one_(__VA_ARGS__, pp_one_seq)\n#define pp_is_one_(...) pp_is_one_n(__VA_ARGS__)\n#define pp_is_one_n(_1,_2,_3,_4,_5,_6,_7,_8,_9,_10, N, ...) N\n#define pp_one_seq 0,0,0,0,0,0,0,0,0,1,0\n\n#define pp_narg(...) \\\n         pp_narg_(__VA_ARGS__, pp_narg_seq)\n#define pp_narg_(...) \\\n         pp_narg_n(__VA_ARGS__)\n#define pp_narg_n( \\\n          _1, _2, _3, _4, _5, _6, _7, _8, _9,_10, \\\n         _11,_12,_13,_14,_15,_16,_17,_18,_19,_20, \\\n         _21,_22,_23,_24,_25,_26,_27,_28,_29,_30, \\\n         _31,_32,_33,_34,_35,_36,_37,_38,_39,_40, \\\n         _41,_42,_43,_44,_45,_46,_47,_48,_49,_50, \\\n         _51,_52,_53,_54,_55,_56,_57,_58,_59,_60, \\\n         _61,_62,_63,n,...) n\n#define pp_narg_seq \\\n         63,62,61,60, \\\n         59,58,57,56,55,54,53,52,51,50, \\\n         49,48,47,46,45,44,43,42,41,40, \\\n         39,38,37,36,35,34,33,32,31,30, \\\n         29,28,27,26,25,24,23,22,21,20, \\\n         19,18,17,16,15,14,13,12,11,10, \\\n          9, 8, 7, 6, 5, 4, 3, 2, 1, 0\n\n#define pp_if_0(x, y) y\n#define pp_if_1(x, y) x\n#define pp_if(cond, x, y) pp_cat(pp_if_, cond)(x, y)\n\n#define pp_foreach_i9(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i8(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i7(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i6(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i5(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i4(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i3(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i2(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i1(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i0(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i(i, f, ...) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach(f, ...) pp_foreach_i(0, f, __VA_ARGS__)\n\n\ntypedef long long ll;\n#define down_queue(x) priority_queue<x>\n#define up_queue(x) priority_queue<x, vector<x>, greater<x>>\n#define all(x) x.begin(), x.end()\n#define split_str(str, sp_word) istringstream stream(str); string res; for(int cnt = 0; getline(stream,res,sp_word); cnt++)\n#define digit(x) ((int)log10((double)(x)) + 1)\n#define mp(x,y) make_pair(x,y)\n#define pb(x) push_back(x)\n#define pf(x) push_front(x)\n#define vec_cpy(to,from) copy(all(to),back_inserter(from))\n#define ary_cpy(to,from) memcpy(to, from, sizeof(from))\n#define MOD 1000000007\n#define INF 999999999\n\n\n#define rep(...) rep1(rep2, (__VA_ARGS__))\n#define rep1(X, A) X A\n#define rep2(i, ...) pp_if(pp_is_one(__VA_ARGS__), rep_len1(i, __VA_ARGS__), rep3(i, __VA_ARGS__))\n#define rep_len1(i, end, ...) for (int i = 0; i < end; i++)\n#define rep3(i, iter, ...) rep4(rep5, (iter, i, esc_paren __VA_ARGS__))\n#define rep4(X, A) X A\n#define rep5(iter, ...) iter(__VA_ARGS__)\n\n#define up up_iter ,\n#define up_iter3(i, start, end) for (int i = start; i < end; i++)\n#define up_iter4(i, start, end, up) for (int i = start; i < end; i += up)\n#define up_iter(...) pp_cat(up_iter, pp_narg(__VA_ARGS__))(__VA_ARGS__)\n#define down down_iter ,\n#define down_iter2(i, end) for(int i = end-1; i >= 0; i--)\n#define down_iter3(i, start, end) for (int i = end-1; i >= start; i--)\n#define down_iter4(i, start, end, down) for (int i = end-1; i >= start; i -= down)\n#define down_iter(...) pp_cat(down_iter, pp_narg(__VA_ARGS__))(__VA_ARGS__)\n#define viter viter_iter ,\n#define viter_iter(i, v) auto tmpitr=v.begin(); for (auto i=*tmpitr; tmpitr != v.end(); tmpitr++)\n\n\n#define pp_init2(cnt, body) struct _InitStruct ## cnt { _InitStruct ## cnt() { body } } _initstruct ## cnt;\n#define pp_init1(f, cnt, body) f(cnt, body)\n#define pp_init(body) pp_init1(pp_init2, __COUNTER__, body)\n\n#define init_array(arr, N, val) pp_init(rep (i in N) { arr[i] = val; })\n#define iota_array(arr, N, start) pp_init(rep (i in N) { arr[i] = start + i; })\n\n\n#define debug_var_elem(v) << #v << \"=\" << v << \" \"\n#ifdef DEBUG\n#define debug_echo(e) cout << \"L\" << __LINE__ << \": \" << e << endl\n#define debug_var(...) cout << \"L\" << __LINE__ << \": \" pp_foreach(debug_var_elem, __VA_ARGS__) << endl\n#else\n#define debug_echo(e)\n#define debug_var(...)\n#endif\n\n\n#define pp_gen_field(list) pp_gen_field1 list\n#define pp_gen_field1(name, val) decltype(val) name;\n#define pp_gen_init(list) pp_gen_init1 list\n#define pp_gen_init1(name, val) ,val\n#define pp_gen_find_set_wrap(ufnodename) ufnodename pp_gen_find_set\n#define pp_gen_find_set(list) pp_gen_find_set1 list\n#define pp_gen_find_set1(name, val) \\\n  find_set_ ## name(int x, decltype(val) v) { \\\n    if (nodes[x].parent == x) { \\\n      nodes[x].name = v; \\\n      return nodes[x]; \\\n    } else { \\\n      return nodes[x] = find_set_ ## name(nodes[x].parent, v); \\\n    } \\\n  }\n#define pp_gen_unite_set(list) pp_gen_unite_set1 list\n#define pp_gen_unite_set1(name, val) \\\n  if (nodes[x].name == val) { \\\n    find_set_ ## name(x, find(y).name); \\\n  } \\\n  if (nodes[y].name == val) { \\\n    find_set_ ## name(y, find(x).name); \\\n  }\n\n#define def_unionfind(ufname, ufnodename, ...) \\\n  struct ufnodename { \\\n    int parent; \\\n    pp_foreach(pp_gen_field, __VA_ARGS__) \\\n  }; \\\n  struct ufname { \\\n    vector<ufnodename> nodes; \\\n    vector<int> rank; \\\n    ufname(int n) : nodes(n+1), rank(n+1) { \\\n      rep (i in n) { \\\n        nodes[i] = ufnodename{i pp_foreach(pp_gen_init, __VA_ARGS__)}; \\\n        rank[i] = 0; \\\n      } \\\n    } \\\n    ufnodename find(int x) { \\\n      if (nodes[x].parent == x) { \\\n        return nodes[x]; \\\n      } else { \\\n        return nodes[x] = find(nodes[x].parent); \\\n      } \\\n    } \\\n    pp_foreach(pp_gen_find_set_wrap(ufnodename), __VA_ARGS__) \\\n    void unite(int x, int y) { \\\n      x = find(x).parent; \\\n      y = find(y).parent; \\\n      if (x == y) return; \\\n      if (rank[x] < rank[y]) { \\\n        pp_foreach(pp_gen_unite_set, __VA_ARGS__); \\\n        nodes[x].parent = y; \\\n      } else { \\\n        pp_foreach(pp_gen_unite_set, __VA_ARGS__); \\\n        nodes[y].parent = x; \\\n        if (rank[x] == rank[y]) rank[x]++; \\\n      } \\\n    } \\\n    bool same(int x, int y) { \\\n      return find(x).parent == find(y).parent; \\\n    } \\\n  }\n\n\nll gcd(ll a,ll b){while(b){ll tmp = a % b;a = b;b = tmp;}return a;}\nll lcm(ll a,ll b){return a / gcd(a,b) * b;}\n\n#define def_varargs(name, f) \\\n  template<typename First> \\\n  inline First name(First first) { return first; } \\\n  template<typename First, typename... Rest> \\\n  inline First name(First first, Rest... rest) { return f(first, name(rest...)); }\n\nvector<string> split(const string &s, char delim) {\n    vector<string> elems;\n    string item;\n    for (char ch: s) {\n        if (ch == delim) {\n            if (!item.empty())\n                elems.push_back(item);\n            item.clear();\n        }\n        else {\n            item += ch;\n        }\n    }\n    if (!item.empty())\n        elems.push_back(item);\n    return elems;\n}\n\n#define KIN 1\n#define WINAL (KIN*20)\n#define TON (WINAL*18)\n#define KATON (TON*20)\n#define BAKTON (KATON*20)\n\nbool is_uruu(ll year) {\n  return year % 4 == 0 && (year % 100 != 0 || year % 400 == 0);\n}\n\npair<ll, bool> calc_year(ll& allday) {\n  ll cnt = 2012;\n  while (true) {\n    ll sub;\n    if (is_uruu(cnt)) {\n      sub = 366;\n    } else {\n      sub = 365;\n    }\n    if (allday - sub < 0) {\n      break;\n    }\n    allday -= sub;\n    cnt++;\n  }\n  return mp(cnt, is_uruu(cnt));\n}\npair<ll, ll> calc_month(ll& allday, ll& year, bool uruu) {\n  ll cnt = 12;\n  ll day = 31;\n  while (true) {\n    ll sub;\n    if (cnt == 2) {\n      sub = 28;\n    } else if (cnt == 4 || cnt == 6 || cnt == 9 || cnt == 11) {\n      sub = 30;\n    } else {\n      sub = 31;\n    }\n    if (allday - sub < 0) {\n      break;\n    }\n    day = sub;\n    allday -= sub;\n    cnt++;\n    if (cnt > 12) {\n      year++;\n      cnt = 1;\n    }\n  }\n  return mp(cnt, day);\n}\nll calc_day(ll& allday, ll& month, ll& day) {\n  if (21 + allday > day) {\n    month++;\n    return 21 + allday - day;\n  } else {\n    return allday+21;\n  }\n}\n\nll year_to_day(ll year) {\n  ll cnt = 0;\n  rep (i in up(1, year-2012+1)) {\n    if (is_uruu(i+2012)) {\n      cnt += 366;\n    } else {\n      cnt += 365;\n    }\n  }\n  return cnt;\n}\nll month_to_day(ll month, ll& year) {\n  int cnt = 0;\n  if (month==12) {\n    return 0;\n  }\n  year--;\n  rep (i in up(1, month+1)) {\n    if (i == 2) {\n      cnt += 28;\n    } else if (i == 4 || i == 6 || i == 9 || i == 11) {\n      cnt += 30;\n    } else {\n      cnt += 31;\n    }\n  }\n  return cnt;\n}\n\nint main() {\n  string s;\n  while (cin >> s && s[0] != '#') {\n    vector<string> elems = split(s, '.');\n    vector<int> maya;\n    for (auto e : elems) {\n      maya.pb(stoi(e));\n    }\n    if (elems.size() == 5) {\n      ll allday = maya[0]*BAKTON + maya[1]*KATON + maya[2]*TON + maya[3]*WINAL + maya[4]*KIN;\n      auto year = calc_year(allday);\n      auto month = calc_month(allday, year.first, year.second);\n      auto day = calc_day(allday, month.first, month.second);\n      if (month.first == 2) {\n        day++;\n      }\n      if (month.first > 12) {\n        month.first -= 12;\n        year.first++;\n      }\n      cout << year.first << \".\" << month.first << \".\" << day << endl;\n    } else {\n      ll y = maya[0];\n      ll month = month_to_day(maya[1], y);\n      ll day = maya[2] - 21;\n      ll year = year_to_day(y);\n      ll allday = year + month + day;\n      allday %= BAKTON * 13;\n      ll b = allday / BAKTON; allday %= BAKTON;\n      ll ka = allday / KATON; allday %= KATON;\n      ll t = allday / TON; allday %= TON;\n      ll w = allday / WINAL; allday %= WINAL;\n      ll ki = allday / KIN; allday %= KIN;\n      cout << b << \".\" << ka << \".\" << t << \".\" << w << \".\" << ki << endl;\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define LL long long int\n#define INF 734858\nusing namespace std;\nint main(void)\n{\n\tLL b,ka,t,w,ki,y,m,d,sum,cnt,mon,day,year;\n\tLL i,j,k;\n\tLL maya[5]={144000,7200,360,20,1};\n\tLL month[2][12]={\n\t\t\t\t\t{31,28,31,30,31,30,31,31,30,31,30,31},\n\t\t\t\t\t{31,29,31,30,31,30,31,31,30,31,30,31}\n\t\t\t\t\t};\n\tchar s[100];\n\twhile(1) {\n\t\tcin>>s;\n\t\tif(s[0]=='#') break;\n\t\tcnt=0;\n\t\tfor(i=0;i<strlen(s);i++) {\n\t\t\tif(s[i]=='.') cnt++;\n\t\t}\n\t\tif(cnt==2) { //?\\?????????????\n\t\t\tsum=0;\n\t\t\tstring sum2;\n\t\t\tsum2=s[0];\n\t\t\tfor(i=1;i<strlen(s);i++) {\n\t\t\t\tif(s[i]=='.') break;\n\t\t\t\telse sum2+=s[i];\n\t\t\t}\n\t\t\tint mx;\n\t\t\tmx=atoi(sum2.c_str());\n\t\t\t//sum=?\\????????¨? \n\t\t\tfor(i=1;i<mx;i++) {\n\t\t\t\tif(i%4==0&&i%100!=0||i%400==0) sum+=366;\n\t\t\t\telse sum+=365;\n\t\t\t}\n\t\t\t//?????°????¨????\n\t\t\tint f=0;\n\t\t\tfor(i=0;i<strlen(s);i++) {\n\t\t\t\tif(s[i]=='.'&&s[i+2]=='.') {\n\t\t\t\t\tsum2=s[i+1];\n\t\t\t\t\tif(f==0) mon=atoi(sum2.c_str());\n\t\t\t\t\telse day=atoi(sum2.c_str());\n\t\t\t\t\tf=1;\n\t\t\t\t}\n\t\t\t\telse if(s[i]=='.'&&s[i+2]!='.') {\n\t\t\t\t\tsum2=s[i+1];\n\t\t\t\t\tsum2+=s[i+2];\n\t\t\t\t\tif(f==0) mon=atoi(sum2.c_str());\n\t\t\t\t\telse day=atoi(sum2.c_str());\n\t\t\t\t\tf=1;\n\t\t\t\t}\n\t\t\t}\n\t\t\t//cout<<mon<<\" \"<<day<<endl;\n\t\t\t//?????°???sum????¶?????????????????????´??¨????????§????????¨?????????????????????\n\t\t\tint test=0;\n\t\t\tfor(i=0;i<mon-1;i++) {\n\t\t\t\tif(mx%4==0&&mx%100!=0||mx%400==0) sum+=month[1][i];\n\t\t\t\telse sum+=month[0][i];\n\t\t\t}\n\t\t\t//??\\????????????????????§???????????§??????????????§?????\\??§?¨????\n\t\t\tsum+=day,sum-=INF;\n\t\t\tb=sum/maya[0],sum=sum%maya[0];\n\t\t\tka=sum/maya[1],sum=sum%maya[1];\n\t\t\tt=sum/maya[2],sum=sum%maya[2];\n\t\t\tw=sum/maya[3],ki=sum%maya[3];\n\t\t\tcout<<b%13<<\".\"<<ka%20<<\".\"<<t%20<<\".\"<<w%18<<\".\"<<ki%20<<endl;\n\t\t}\n\t\telse { //??????????\\????\n\t\t\tsum=0;\n\t\t\tLL swi=1,x;\n\t\t\tstring sum3;\n\t\t\t//????????????????????§???\n\t\t\tif(s[1]=='.') sum3=s[0],sum+=atoi(sum3.c_str())*maya[0];\n\t\t\telse if(s[1]!='.') sum3=s[0],sum3+=s[1],sum+=atoi(sum3.c_str())*maya[0];\n\t\t\tfor(i=0;i<strlen(s);i++) {\n\t\t\t\tif(s[i]=='.'&&s[i+2]=='.') {\n\t\t\t\t\tsum3=s[i+1];\n\t\t\t\t\tsum+=atoi(sum3.c_str())*maya[swi];\n\t\t\t\t\tswi++;\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\telse if(s[i]=='.'&&s[i+2]!='.') {\n\t\t\t\t\tsum3=s[i+1],sum3+=s[i+2];\n\t\t\t\t\tsum+=atoi(sum3.c_str())*maya[swi];\t\n\t\t\t\t\tswi++;\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t//\tcout<<sum<<endl;\n\t\t\tint zan=10;//zan???21????£????10???????´????????????????sum?????????10???????????????\n\t\t\tif(sum<11) {\n\t\t\t\tcout<<\"2012.12.\"<<sum+21<<endl;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tsum-=10;\n\t\t\t\tint suu=2013;\n\t\t\t\tyear=mon=day=0;\n\t\t\t\twhile(1) {\n\t\t\t\t\tif(suu%4==0&&suu%100!=0||suu%400==0) {\n\t\t\t\t\t\tif(sum>=366) {\n\t\t\t\t\t\t\tsum-=366;\n\t\t\t\t\t\t\tyear++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tmon=1;\n\t\t\t\t\t\t\tfor(i=0;i<12;i++) {\n\t\t\t\t\t\t\t\tif(sum>=month[1][i]) {\n\t\t\t\t\t\t\t\t\tif(sum-month[1][i]==0) break;\n\t\t\t\t\t\t\t\t\tsum-=month[1][i];\n\t\t\t\t\t\t\t\t\tmon++;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tday=sum;\n\t\t\t\t\t\t\tsum=0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif(sum>=365) {\n\t\t\t\t\t\t\tsum-=365;\n\t\t\t\t\t\t\tyear++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tmon=1;\n\t\t\t\t\t\t\t//cout<<\"sum==\"<<sum<<endl;\n\t\t\t\t\t\t\tfor(i=0;i<12;i++) {\n\t\t\t\t\t\t\t\tif(sum>=month[0][i]) {\n\t\t\t\t\t\t\t\t\tif(sum-month[0][i]==0) break;\n\t\t\t\t\t\t\t\t\tsum-=month[0][i];\n\t\t\t\t\t\t\t\t\tmon++;\n\t\t\t\t\t\t\t\t\t//cout<<\"sum==\"<<sum<<endl;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tday=sum;\n\t\t\t\t\t\t\tsum=0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(sum==0) break;\n\t\t\t\t\tsuu++;\n\t\t\t\t}\n\t\t\t\tcout<<suu<<\".\"<<mon<<\".\"<<day<<endl;\n\t\t\t}\n\t\t}\n\t}\n}\n\t"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string.h>\n#include<stdlib.h>\n#include<stdio.h>\n#include<algorithm>\n#include<cstdio>\n#include<cctype>\nusing namespace std;\nlong long n[5];\nlong long  ma[5]={144000,7200,360,20,1};\nlong long tuki[13]={0,31,28,31,30,31,30,31,31,30,31,30,31};\nlong long p=31+29+31+30+31+30+31+31+30+31+30+21;\nint  seireki(){\n\tlong long ans[6]={0};\n\tlong long kin=0;\n\tint  i,j;\n\t/*for(i=0;i<5;i++){\n\t\tcout<<n[i]<<endl;\n\t}*/\n\tkin=0;\n\tfor(i=n[0]-1;i>=2012;i--){\n\t\tif(i%4==0&&i%100!=0||i%4==0&&i%400==0){\n\t\t\tkin+=366;\n\t\t}\n\t\telse{\n\t\t\tkin+=365;\n\t\t}\n\t}\n\tfor(i=n[1]-1;i>=1;i--){\n\t\tkin+=tuki[i];\n\t}\n\tif(n[0]%4==0&&n[0]%100!=0||n[0]%4==0&&n[0]%400==0){\n\t\tif(n[1]>=3){\n\t\t\tkin++;\n\t\t}\n\t}\n\tkin+=n[2];\n\tkin-=p;\n\tkin%=1872000;\n\tfor(i=0;i<5;i++){\n\t\tans[i]=kin/ma[i];\n\t\tkin%=ma[i];\n\t}\n\tfor(i=0;i<5;i++){\n\t\tcout<<ans[i];\n\t\tif(i<4){\n\t\t\tcout<<\".\";\n\t\t}\n\t\telse{\n\t\t\tcout<<endl;\n\t\t}\n\t}\n}\nvoid maya(void){\n\tlong long ans[3];\n\tlong long kin=0;\n\tint i,j;\n\t/*for(i=0;i<5;i++){\n\t\tkin=kin+n[i]*ma[i];\n\t}*/\n\tkin=kin+n[0]*144000;\n\tkin=kin+n[1]*7200;\n\tkin=kin+n[2]*360;\n\tkin=kin+n[3]*20;\n\tkin+=n[4];\n\tans[0]=2012;\n\tans[1]=12;\n\tans[2]=21;\n\tcout<<kin<<endl;\n\twhile(kin--){\n\t\tans[2]++;\n\t\tif(ans[2]>tuki[ans[1]]+(ans[1]==2&&(ans[0]%400==0||(ans[0]%4==0&&ans[0]%100!=0)))){\n\t\t\tans[1]++;\n\t\t\tans[2]=1;\n\t\t}\n\t\tif(ans[1]>12){\n\t\t\tans[0]++;\n\t\t\tans[1]=1;\n\t\t}\n\t}\n\tprintf(\"%lld.%lld.%lld\\n\",ans[0],ans[1],ans[2]);\n}\nint main(){\n\tchar koyomi[50];\n\tint i,j;\n\twhile(1){\n\t\tcin>>koyomi;\n\t\tif(koyomi[0]=='#'){\n\t\t\tbreak;\n\t\t}\n\t\tmemset(n,0,sizeof(n));\n\t\tj=0;\n\t\t//out<<strlen(koyomi)<<endl;\n\t\tfor(i=0;i<strlen(koyomi);i++){\n\t\t\tif(koyomi[i]=='.'){\n\t\t\t\tj++;\n\t\t\t}\n\t\t}\n\t\t//printf(\"%lld.%lld.%lld.%lld.%lld\\n\",n[0],n[1],n[2],n[3],n[4]);\n\t\tif(j==2){\n\t\t\tsscanf(koyomi,\"%lld.%lld.%lld\",&n[0],&n[1],&n[2]);\n\t\t\tseireki();\n\t\t}\n\t\telse{\n\t\t\tsscanf(koyomi,\"%lld.%lld.%lld.%lld.%lld\",&n[0],&n[1],&n[2],&n[3],&n[4]);\n\t\t\tmaya();\n\t\t}\n\t}\n\treturn 0;\n}\n\t"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <algorithm>\n#include <numeric>\nusing namespace std;\n\nconst int month_days[] = {0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\n\nconst int days_in_400years = 146097;\n\ninline int is_leap(int y) {\n    return (y % 100 && y % 4 == 0) || y % 400 == 0;\n}\n\nint main() {\n    char buf[20];\n    int b, ka, t, w, ki, y, m, d, leap, i;\n    long long days;\n\n    while (gets(buf) != NULL) {\n        if (buf[0] == '#') break;\n        days = 0;\n        if (sscanf(buf, \"%d.%d.%d.%d.%d\", &b, &ka, &t, &w, &ki) == 5) {\n            days = (long long)b*144000 + ka*7200 + t*360 + w*20 + ki;\n            days += 4739; // 2000.1.1 - 2012.12.21\n            y = (days / days_in_400years) * 400;\n            days = days % days_in_400years;\n            for (;days > 0; y++) {\n                if (is_leap(y)) {\n                    if (days > 366) days -= 366;\n                    else break;\n                }\n                else {\n                    if (days > 365) days -= 365;\n                    else break;\n                }\n            }\n            for (m = 1; m <= 12; m++) {\n                int md = m == 2 ? month_days[m]+is_leap(y): month_days[m];\n                if (days > md) {\n                    days -= md;\n                }\n                else {\n                    break;\n                }\n            }\n            printf(\"%d.%d.%d\\n\", y + 2000, m, (int)days);\n        }\n        else if (sscanf(buf, \"%d.%d.%d\", &y, &m, &d) ==3) {\n            leap = is_leap(y);\n            days = 10;\n            days -= 13 * 365 + 4;\n            days += ((long long)y - 2000) / 400 * days_in_400years;\n            for (i = 0; i < y % 400; i++) {\n                if (is_leap(i)) days += 366;\n                else days += 365;\n            }\n            days += accumulate(month_days+1, month_days+m, 0);\n            if (m > 2) days += leap;\n            days += d;\n\n            // printf(\"%d.%d.%d   %lld\\n\", y, m, d, days);\n            printf(\"%lld.%lld.%lld.%lld.%lld\\n\", \n                   (days / 144000) % 13,\n                   (days%144000) / 7200,\n                   (days%7200) / 360,\n                   (days%360) / 20,\n                   days%20);\n        }\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define int long long\n#define rep(i,n)for(int i=0;i<(n);i++)\nusing namespace std;\n\nint base;\nint tod(int b,int ka,int t,int w,int ki){\n\tka+=b*20;t+=ka*20;w+=18*t;ki+=20*w;\n\treturn base+ki;\n}\nbool is_uruu(int y){\n\treturn y%4==0&&(y%100!=0||y%400==0);\n}\nint mn[]{31,28,31,30,31,30,31,31,30,31,30,31};\nint calc(int y,int m,int d){\n\tint res=0;\n\tfor(int i=1;i<y;i++){\n\t\tres+=365;if(is_uruu(i))res++;\n\t}\n\tfor(int i=1;i<m;i++){\n\t\tres+=mn[i-1];if(is_uruu(y)&&i==2)res++;\n\t}\n\treturn res+d;\n}\nint tod(int y,int m,int d){\n\treturn calc(y,m,d)-base;\n}\nvoid tom(int day){\n\tint b,ka,t,w,ki;\n\tki=day%20;day/=20;\n\tw=day%18;day/=18;\n\tt=day%20;day/=20;\n\tka=day%20;day/=20;\n\tb=day%13;\n\tprintf(\"%lld.%lld.%lld.%lld.%lld\\n\",b,ka,t,w,ki);\n}\nvoid tos(int day){\n\tint y,m;\n\tfor(y=1;365+is_uruu(y)<day;y++)day-=365+is_uruu(y);\n\tfor(m=1;mn[m-1]+(m==2&&is_uruu(y))<day;m++)day-=mn[m-1]+(m==2&&is_uruu(y));\n\tprintf(\"%lld.%lld.%lld\\n\",y,m,day);\n}\nsigned main() {\n\tbase=calc(2012,12,21);\n\tstring s;\n\twhile(cin>>s,s!=\"#\"){\n\t\ts+='.';\n\t\tvector<int>v;\n\t\tstring t;\n\t\tfor(char c:s){\n\t\t\tif(c=='.')v.push_back(stoi(t)),t=\"\";\n\t\t\telse t+=c;\n\t\t}\n\t\tif(v.size()==3)tom(tod(v[0],v[1],v[2]));\n\t\telse tos(tod(v[0],v[1],v[2],v[3],v[4]));\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 0x3f3f3f3f\n\n#include <iostream>\n#include <cstdio>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n  \nusing namespace std;\n  \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P> PP;\n  \nstatic const double EPS = 1e-8;\n  \nstatic const int tx[] = {0,1,0,-1};\nstatic const int ty[] = {-1,0,1,0};\n\nvector<string> split(string delim,string str){\n  vector<string> res;\n  str += delim;\n  for(int i=0;i<str.size();i++){\n    for(int j=1;i+j<=str.size();j++){\n      if(str.substr(i,j).find(delim) != string::npos){\n        if(str.substr(i,j-1).size() >0 ) res.push_back(str.substr(i,j-1));\n        i+=j-1;\n        break;\n      }\n    }\n  }\n  return res;\n}\n\nstatic const int days_per_month[] = {0,31,28,31,30,31,30,31,31,30,31,30,31};\n\nbool is_leap_year(int year){\n  if(year % 4 == 0){\n    if(year % 100 != 0) return true;\n    if(year % 400 == 0) return true;\n  }\n  return false;\n}\n\nstring maya2christ(ll passed_day){\n  passed_day += 356LL;\n  int year = 2012;\n  for(int prev = 2012; prev < 10000000; prev++){\n    if(is_leap_year(prev) && passed_day - 366LL >= 0){\n      passed_day -= 366LL;\n    }\n    else if(!is_leap_year(prev) && passed_day - 365LL >= 0){\n      passed_day -= 365LL;\n    }\n    else{\n      break;\n    }\n    year = prev + 1;\n  }\n\n  int month = 1;\n  for(int prev = 1; prev < 12; prev++){\n    if(is_leap_year(year) && prev == 2\n       && passed_day - (days_per_month[prev] + 1) >= 0){\n      passed_day -= (days_per_month[prev] + 1);\n    }\n    else if(passed_day - days_per_month[prev] >= 0){\n      passed_day -= days_per_month[prev];\n    }\n    else{\n      break;\n    }\n    month = prev + 1;\n  }\n  int day = passed_day;\n  if(day == 0){\n    month--;\n    day = days_per_month[month];\n    if(is_leap_year(year) && month == 2) day++;\n  }\n  stringstream ss;\n  ss << year << \".\" << month << \".\" << day;\n  return ss.str();\n}\n\nstring christ2maya(ll passed_day){\n  passed_day %= 13*20*20*18*20;\n  ll b = passed_day / (20*20*18*20);\n  passed_day %= (20*20*18*20);\n\n  ll ka = passed_day / (20*18*20);\n  passed_day %= (20*18*20);\n\n  ll t = passed_day / (18*20);\n  passed_day %= (18*20);\n\n  ll w = passed_day / 20;\n  passed_day %= 20;\n  \n  ll ki = passed_day;\n  stringstream ss;\n  ss << b << \".\" << ka << \".\" << t << \".\" << w << \".\" << ki;\n  return ss.str();\n}\n\nint main(){\n  string str;\n  while(cin >> str){\n    if(str == \"#\") break;\n    int total_dots = count(str.begin(),str.end(),'.');\n    if(total_dots == 2){\n      //after christ\n      vector<string> elements = split(\".\",str);\n      ll year = atol(elements[0].c_str());\n      ll month = atol(elements[1].c_str());\n      ll day = atol(elements[2].c_str());\n\n      ll passed_day = 0;\n      for(ll prev = 2012; prev < year; prev++){\n        passed_day += (is_leap_year(prev) ? 366LL : 365LL);\n      }\n\n      for(ll prev = 1; prev < month; prev++){\n        if(is_leap_year(year) && prev == 2){\n          passed_day++;\n        }\n        passed_day += days_per_month[prev];\n      }\n      for(ll prev = 1; prev < day; prev++){\n        passed_day++;\n      }\n      passed_day -= 355LL; //2012.01.01 - 2012.12.20\n      cout << christ2maya(passed_day) << endl;\n    }\n    else{\n      //maya\n      vector<string> elements = split(\".\",str);\n      ll b = atol(elements[0].c_str());\n      ll ka = atol(elements[1].c_str());\n      ll t = atol(elements[2].c_str());\n      ll w = atol(elements[3].c_str());\n      ll ki = atol(elements[4].c_str());\n\n      ll passed_day = b * (20*20*18*20) + ka * (20*18*20) + t * (18*20) + w * 20 + ki;\n      cout << maya2christ(passed_day) << endl;\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define int long long\n#define rep(i,n)for(int i=0;i<(n);i++)\nusing namespace std;\n\nint base;\nint tod(int b,int ka,int t,int w,int ki){\n\tka+=b*20;t+=ka*20;w+=18*t;ki+=20*w;\n\treturn base+ki;\n}\nbool is_uruu(int y){\n\treturn y%4==0&&(y%100!=0||y%400==0);\n}\nint mn[]{31,28,31,30,31,30,31,31,30,31,30,31};\nint calc(int y,int m,int d){\n\tint res=(y-1)*365+(y-1)/4-(y-1)/100+(y-1)/400;\n\tfor(int i=1;i<m;i++){\n\t\tres+=mn[i-1];if(is_uruu(y)&&i==2)res++;\n\t}\n\treturn res+d;\n}\nint tod(int y,int m,int d){\n\treturn calc(y,m,d)-base;\n}\nvoid tom(int day){\n\tint b,ka,t,w,ki;\n\tki=day%20;day/=20;\n\tw=day%18;day/=18;\n\tt=day%20;day/=20;\n\tka=day%20;day/=20;\n\tb=day%13;\n\tprintf(\"%lld.%lld.%lld.%lld.%lld\\n\",b,ka,t,w,ki);\n}\nvoid tos(int day){\n\tint y,m;\n\tfor(y=1;365+is_uruu(y)<day;y++)day-=365+is_uruu(y);\n\tfor(m=1;mn[m-1]+(m==2&&is_uruu(y))<day;m++)day-=mn[m-1]+(m==2&&is_uruu(y));\n\tprintf(\"%lld.%lld.%lld\\n\",y,m,day);\n}\nsigned main() {\n\tbase=calc(2012,12,21);\n\tstring s;\n\twhile(cin>>s,s!=\"#\"){\n\t\ts+='.';\n\t\tvector<int>v;\n\t\tstring t;\n\t\tfor(char c:s){\n\t\t\tif(c=='.')v.push_back(stoi(t)),t=\"\";\n\t\t\telse t+=c;\n\t\t}\n\t\tif(v.size()==3)tom(tod(v[0],v[1],v[2]));\n\t\telse tos(tod(v[0],v[1],v[2],v[3],v[4]));\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define LL long long int\n#define INF 734858\nusing namespace std;\nint main(void)\n{\n\tLL b,ka,t,w,ki,y,m,d,sum,cnt,mon,day,year;\n\tLL i,j,k;\n\tLL maya[5]={144000,7200,360,20,1};\n\tLL month[2][12]={\n\t\t\t\t\t{31,28,31,30,31,30,31,31,30,31,30,31},\n\t\t\t\t\t{31,29,31,30,31,30,31,31,30,31,30,31}\n\t\t\t\t\t};\n\tchar s[100];\n\twhile(1) {\n\t\tcin>>s;\n\t\tif(s[0]=='#') break;\n\t\tcnt=0;\n\t\tfor(i=0;i<strlen(s);i++) {\n\t\t\tif(s[i]=='.') cnt++;\n\t\t}\n\t\tif(cnt==2) { //?\\?????????????\n\t\t\tsum=0;\n\t\t\tstring sum2;\n\t\t\tsum2=s[0];\n\t\t\tfor(i=1;i<strlen(s);i++) {\n\t\t\t\tif(s[i]=='.') break;\n\t\t\t\telse sum2+=s[i];\n\t\t\t}\n\t\t\tint mx;\n\t\t\tmx=atoi(sum2.c_str());\n\t\t\t//sum=?\\????????¨? \n\t\t\tfor(i=1;i<mx;i++) {\n\t\t\t\tif(i%4==0&&i%100!=0||i%400==0) sum+=366;\n\t\t\t\telse sum+=365;\n\t\t\t}\n\t\t\t//?????°????¨????\n\t\t\tint f=0;\n\t\t\tfor(i=0;i<strlen(s);i++) {\n\t\t\t\tif(s[i]=='.'&&s[i+2]=='.') {\n\t\t\t\t\tsum2=s[i+1];\n\t\t\t\t\tif(f==0) mon=atoi(sum2.c_str());\n\t\t\t\t\telse day=atoi(sum2.c_str());\n\t\t\t\t\tf=1;\n\t\t\t\t}\n\t\t\t\telse if(s[i]=='.'&&s[i+2]!='.') {\n\t\t\t\t\tsum2=s[i+1];\n\t\t\t\t\tsum2+=s[i+2];\n\t\t\t\t\tif(f==0) mon=atoi(sum2.c_str());\n\t\t\t\t\telse day=atoi(sum2.c_str());\n\t\t\t\t\tf=1;\n\t\t\t\t}\n\t\t\t}\n\t\t\t//cout<<mon<<\" \"<<day<<endl;\n\t\t\t//?????°???sum????¶?????????????????????´??¨????????§????????¨?????????????????????\n\t\t\tint test=0;\n\t\t\tfor(i=0;i<mon-1;i++) {\n\t\t\t\tif(mx%4==0&&mx%100!=0||mx%400==0) sum+=month[1][i];\n\t\t\t\telse sum+=month[0][i];\n\t\t\t}\n\t\t\t//??\\????????????????????§???????????§??????????????§?????\\??§?¨????\n\t\t\tsum+=day,sum-=INF;\n\t\t\tb=sum/maya[0],sum=sum%maya[0];\n\t\t\tka=sum/maya[1],sum=sum%maya[1];\n\t\t\tt=sum/maya[2],sum=sum%maya[2];\n\t\t\tw=sum/maya[3],ki=sum%maya[3];\n\t\t\tcout<<b%13<<\".\"<<ka%20<<\".\"<<t%20<<\".\"<<w%18<<\".\"<<ki%20<<endl;\n\t\t}\n\t\telse { //??????????\\????\n\t\t\tsum=0;\n\t\t\tLL swi=1,x;\n\t\t\tstring sum3;\n\t\t\t//????????????????????§???\n\t\t\tif(s[1]=='.') sum3=s[0],sum+=atoi(sum3.c_str())*maya[0];\n\t\t\telse if(s[1]!='.') sum3=s[0],sum3+=s[1],sum+=atoi(sum3.c_str())*maya[0];\n\t\t\tfor(i=0;i<strlen(s);i++) {\n\t\t\t\tif(s[i]=='.'&&s[i+2]=='.') {\n\t\t\t\t\tsum3=s[i+1];\n\t\t\t\t\tsum+=atoi(sum3.c_str())*maya[swi];\n\t\t\t\t\tswi++;\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\telse if(s[i]=='.'&&s[i+2]!='.') {\n\t\t\t\t\tsum3=s[i+1],sum3+=s[i+2];\n\t\t\t\t\tsum+=atoi(sum3.c_str())*maya[swi];\t\n\t\t\t\t\tswi++;\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t\t//cout<<sum<<endl;\n\t\t\tint zan=10;//zan???21????£????10???????´????????????????sum?????????10???????????????\n\t\t\tif(sum<11) {\n\t\t\t\tcout<<\"2012.12.\"<<sum+21<<endl;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tsum-=10;\n\t\t\t\t//cout<<sum<<endl;\n\t\t\t\tLL suu=2013;\n\t\t\t\twhile(1) {\n\t\t\t\t\tif(suu%4==0&&suu%100!=0||suu%400==0) {\n\t\t\t\t\t\tif(sum>366) {\n\t\t\t\t\t\t\tsum-=366;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if(sum==366) {\n\t\t\t\t\t\t\tsum-=366;\n\t\t\t\t\t\t\tmon=12,day=31;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tmon=1;\n\t\t\t\t\t\t\tfor(i=0;i<12;i++) {\n\t\t\t\t\t\t\t//\tprintf(\"sum=%lld day=%lld month=%lld\\n\",sum,month[1][i],mon);\n\t\t\t\t\t\t\t\tif(sum>=month[1][i]&&mon-1>=i) {\n\t\t\t\t\t\t\t\t\tif(sum-month[1][i]==0) break;\n\t\t\t\t\t\t\t\t\tsum-=month[1][i];\n\t\t\t\t\t\t\t\t\tmon++;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tday=sum;\n\t\t\t\t\t\t\tsum=0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif(sum>365) {\n\t\t\t\t\t\t\tsum-=365;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if(sum==365) {\n\t\t\t\t\t\t\tsum-=365;\n\t\t\t\t\t\t\tmon=12,day=31;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tmon=1;\n\t\t\t\t\t\t\t//cout<<\"sum==\"<<sum<<endl;\n\t\t\t\t\t\t\t//printf(\"sum=%lld day=%lld month=%lld\\n\",sum,month[0][i],mon);\n\t\t\t\t\t\t\tfor(i=0;i<12;i++) {\n\t\t\t\t\t\t\t\tif(sum>=month[0][i]&&mon-1>=i) {\n\t\t\t\t\t\t\t\t\tif(sum-month[0][i]==0) break;\n\t\t\t\t\t\t\t\t\tsum-=month[0][i];\n\t\t\t\t\t\t\t\t\tmon++;\n\t\t\t\t\t\t\t\t\t//cout<<\"sum==\"<<sum<<endl;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tday=sum;\n\t\t\t\t\t\t\tsum=0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(sum==0) break;\n\t\t\t\t\tsuu++;\n\t\t\t\t}\n\t\t\t\tcout<<suu<<\".\"<<mon<<\".\"<<day<<endl;\n\t\t\t}\n\t\t}\n\t}\n}\n\t"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<vector>\nusing namespace std;\nstring S, T; vector<int>p;\nlong long sum;\nunsigned int distsum[15000001], daysum[13][32], daysum2[13][32];\nint days[13] = { 0,31,28,31,30,31,30,31,31,30,31,30,31 };\nint days2[13] = { 0,31,29,31,30,31,30,31,31,30,31,30,31 };\n\nvoid mayawest(vector<int>a) {\n\tsum = a[0] * 144000 + a[1] * 7200 + a[2] * 360 + a[3] * 20 + a[4] + 734857;\n\tint y, m, d;\n\tfor (int i = 2000; i < 10000000; i++) {\n\t\tif (sum - distsum[i - 1] < 365 || (sum - distsum[i - 1] < 366 && i % 4 == 0)) {\n\t\t\ty = i;\n\t\t\tsum -= distsum[i - 1];\n\t\t\tbreak;\n\t\t}\n\t}\n\tfor (int i = 1; i <= 12; i++) {\n\t\tfor (int j = 1; j <= 31; j++) {\n\t\t\tif (y % 4 == 0) {\n\t\t\t\tif (daysum2[i][j] == sum) {\n\t\t\t\t\tm = i; d = j; goto E;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (daysum[i][j] == sum) {\n\t\t\t\t\tm = i; d = j; goto E;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\nE:;\n\tcout << y << '.' << m << '.' << d << endl;\n}\n\nvoid westmaya(vector<int>a) {\n\tif (a[0] % 4 == 0) { \n\t\tsum = distsum[a[0] - 1] + daysum2[a[1]][a[2]]; \n\t}\n\telse { \n\t\tsum = distsum[a[0] - 1] + daysum[a[1]][a[2]]; \n\t}\n\tsum -= 734857;//12.12.21\n\tcout << (sum / 144000) % 13 << '.' << (sum / 7200) % 20 << '.' << (sum / 360) % 20 << '.' << (sum / 20) % 18 << '.' << sum % 20 << endl;\n}\n\nint main() {\n\tdistsum[0] = 0;\n\tfor (int i = 1; i <= 14000000; i++) {\n\t\tif ((i % 4 == 0 && i % 100 != 0) || i % 400 == 0) {\n\t\t\tdistsum[i] = distsum[i - 1] + 366;\n\t\t}\n\t\telse {\n\t\t\tdistsum[i] += distsum[i - 1] + 365;\n\t\t}\n\t}\n\tint cnt = 0;\n\tfor (int i = 1; i <= 12; i++) {\n\t\tfor (int j = 1; j <= days[i]; j++) {\n\t\t\tdaysum[i][j] = cnt;\n\t\t\tcnt++;\n\t\t}\n\t}\n\tcnt = 0;\n\tfor (int i = 1; i <= 12; i++) {\n\t\tfor (int j = 1; j <= days2[i]; j++) {\n\t\t\tdaysum2[i][j] = cnt;\n\t\t\tcnt++;\n\t\t}\n\t}\n\twhile (cin >> S) {\n\t\tp.clear();\n\t\tif (S == \"#\") { break; }\n\t\tS += '.';\n\t\tfor (int i = 0; i < S.size(); i++) {\n\t\t\tif(S[i]=='.'){\n\t\t\t\tp.push_back(stoi(T));\n\t\t\t\tT = \"\";\n\t\t\t}\n\t\t\telse {\n\t\t\t\tT += S[i];\n\t\t\t}\n\t\t}\n\t\tif (p.size() == 5) {\n\t\t\tmayawest(p);\n\t\t}\n\t\telse {\n\t\t\twestmaya(p);\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<string.h>\n#include<math.h>\nint main(void)\n{\n\tint a,s,d[6],g,h,i,j,c[6],q,w,v,aa;\n\tlong long int f;\n\tint z[13]={31,28,31,30,31,30,31,31,30,31,30,31};\n\tchar x[15];\n\twhile(1){\n\t\tscanf(\"%s\",x);\n\t\tif(x[0]=='#') break;\n\t\ta=0;\n\t\tf=0;\n\t\ts=0;\n\t\tq=365;\n\t\tfor(i=0;i<strlen(x);i++) if(x[i]=='.') a++;\n\t\tfor(i=0;i<5;i++){\n\t\t\td[i]=0;\n\t\t\tc[i]=0;\n\t\t}\n\t\tif(a==2){\n\t\t\tf=10;\n\t\t\tfor(i=0;i<strlen(x);i++){\n\t\t\t\tif(x[i]=='.') s++;\n\t\t\t\telse{\n\t\t\t\t\td[s]*=10;\n\t\t\t\t\td[s]+=x[i]-'0';\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(d[0]==2012) printf(\"0.0.0.0.%d\\n\",d[2]-21);\n\t\t\telse{\n\t\t\t\tf=10;\n\t\t\t\tg=d[0];\n\t\t\t\tif(d[1]>2)\tg++;\n\t\t\t\tfor(i=2013;i<d[0];i++)\tf+=365;\n\t\t\t\tfor(i=2013;i<g;i++) if(i%4==0&&i%100!=0||i%400==0) f+=1;\n\t\t\t\tfor(i=0;i<d[1]-1;i++) f+=z[i];\n\t\t\t\tf+=d[2];\n\t\t\t\tc[0]=f%20;\n\t\t\t\tc[1]=f/20;\n\t\t\t\tc[2]=c[1]/18;\n\t\t\t\tc[1]=c[1]%18;\n\t\t\t\tc[3]=c[2]/20;\n\t\t\t\tc[2]=c[2]%20;\n\t\t\t\tc[4]=c[3]/20;\n\t\t\t\tc[3]=c[3]%20;\n\t\t\t\tc[4]%=13;\n\t\t\t\tfor(i=4;i>=0;i--){\n\t\t\t\t\tprintf(\"%d\",c[i]);\n\t\t\t\t\tif(i!=0) printf(\".\");\n\t\t\t\t}\n\t\t\t\t printf(\"\\n\");\n\t\t\t}\n\t\t}\n\t\tif(a==4){\n\t\t\tfor(i=0;i<strlen(x);i++){\n\t\t\t\tif(x[i]=='.') s++;\n\t\t\t\telse{\n\t\t\t\t\td[s]*=10;\n\t\t\t\t\td[s]+=x[i]-'0';\n\t\t\t\t}\n\t\t\t}\n\t\t\tf=d[4];\n\t\t\tf+=d[3]*20;\n\t\t\tf+=d[2]*20*18;\n\t\t\tf+=d[1]*20*18*20;\n\t\t\tf+=d[0]*20*18*20*20;\n\t\t\tif(f<=10) printf(\"2012.12.%d\\n\",21+f);\n\t\t\telse{\n\t\t\t\tf-=10;\n\t\t\t\tc[0]=1;\n\t\t\t\twhile(1){\n\t\t\t\t\tif((2012+c[0])%4==0&&(2012+c[0])%100!=0||(2012+c[0])%400==0) q=366;\n\t\t\t\t\telse q=365;\n\t\t\t\t\tif(f<q) break;\n\t\t\t\t\tf-=q;\n\t\t\t\t\tc[0]++;\n\t\t\t\t}\n\t\t\t\tc[0]+=2012;\n\t\t\t\tfor(i=0;i<12;i++){\n\t\t\t\t\taa=z[i];\n\t\t\t\t\tif(q==366&&i==1) aa++;\n\t\t\t\t\tif(f<=aa) break;\n\t\t\t\t\tf-=aa;\n\t\t\t\t\tc[1]=i+1;\n\t\t\t\t}\n\t\t\t\tc[1]+=1;\n\t\t\t\tc[2]=f;\n\t\t\t\tfor(i=0;i<3;i++){\n\t\t\t\t\tprintf(\"%d\",c[i]);\n\t\t\t\t\tif(i!=2) printf(\".\");\n\t\t\t\t}\n\t\t\t\tprintf(\"\\n\");\n\t\t\t}\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nvector<string> split(const string &str, char sep)\n{\n    vector<string> v;\n    stringstream ss(str);\n    string buffer;\n    while( getline(ss, buffer, sep) ) {\n        v.push_back(buffer);\n    }\n    return v;\n}\n\nbool is_Leapyear(long long int year){\n    if(year%4==0){\n        if(year%100==0){\n            if(year%400==0){\n                return true;\n            }\n            return false;\n        }\n        return true;\n    }\n    return false;\n}\n\nint months[12] = {31,28,31,30,31,30,31,31,30,31,30,31};\nint leapmonths[12] = {31,29,31,30,31,30,31,31,30,31,30,31};\n\nint main() {\n\n    string s;\n\n    const long long  int baseday = (2012*365 + 2012/4 - 2012/100 + 2012/400 + 366-11);\n\n    while(1){\n\n        cin >> s;\n\n        if(s[0] == '#'){\n            break;\n        }\n\n        vector<string> vec = split(s,'.');\n\n        if(vec.size() == 5){\n\n            int a[5];//b,ka,t,w,ki\n\n            for(int i=0;i<5;i++){\n                stringstream ss;\n                ss << vec[i];\n                ss >> a[i];\n            }\n\n            long long int allday = 0;\n\n            allday = a[0]*20*20*18*20 + a[1]*20*18*20 + a[2]*18*20 + a[3]*20 + a[4];\n\n            if(allday>=11){\n                allday -= 11;\n                int year,month,day;\n                year = 2013+(allday/(365+365+365+366))*4;\n                allday = allday % (365+365+365+366);\n                year += allday/365;\n                allday %= 365;\n                allday = allday + (year-2013)/100 - (year-2013)/400;\n                month = 1;\n                day = 1;\n                if(is_Leapyear(year)){\n                    for(int i=0;i<12;i++){\n                        if(allday>=leapmonths[i]){\n                            allday-=leapmonths[i];\n                            month++;\n                        }\n                        else{\n                            break;\n                        }\n                    }\n                    day += allday;\n                    printf(\"%d.%d.%d\\n\",year,month,day);\n                }\n                else{\n                    for(int i=0;i<12;i++){\n                        if(allday>=months[i]){\n                            allday-=months[i];\n                            month++;\n                        }\n                        else{\n                            break;\n                        }\n                    }\n                    day += allday ;\n                    printf(\"%d.%d.%d\\n\",year,month,day);\n                }\n            }\n            else{\n                printf(\"2012.12.%lld\\n\",21+allday);\n            }\n\n        }\n\n        else{\n\n            int b[3];//year,month,day\n\n            for(int i=0;i<3;i++){\n                stringstream ss;\n                ss << vec[i];\n                ss >> b[i];\n            }\n\n            long long int allday = (b[0] % 1872000 * 365 + b[0]/4 - b[0]/100 + b[0]/400);\n\n            if(is_Leapyear(b[0])){\n                allday--;\n            }\n\n            for(int i=0;i<b[1]-1;i++){\n                if(is_Leapyear(b[0])){\n                    allday += leapmonths[i];\n                }\n                else{\n                    allday += months[i];\n                }\n            }\n\n            allday += b[2];\n\n            allday -= baseday;\n\n            allday %= 1872000;\n\n            int ba,ka,t,w,ki;\n\n            ba = allday/144000;\n\n            allday %= 144000;\n\n            ka = allday/7200;\n\n            allday %= 7200;\n\n            t = allday/360;\n\n            allday %= 360;\n\n            w = allday/20;\n\n            allday %= 20;\n\n            ki = allday;\n\n            printf(\"%d.%d.%d.%d.%d\\n\",ba,ka,t,w,ki);\n        }\n\n    }\n\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nvector<string> split(const string &str, char sep)\n{\n    vector<string> v;\n    stringstream ss(str);\n    string buffer;\n    while( getline(ss, buffer, sep) ) {\n        v.push_back(buffer);\n    }\n    return v;\n}\n\nbool is_Leapyear(long long int year){\n    if(year%4==0){\n        if(year%100==0){\n            if(year%400==0){\n                return true;\n            }\n            return false;\n        }\n        return true;\n    }\n    return false;\n}\n\nint months[12] = {31,28,31,30,31,30,31,31,30,31,30,31};\nint leapmonths[12] = {31,29,31,30,31,30,31,31,30,31,30,31};\n\nint main() {\n\n    string s;\n\n    const long long  int baseday = (2012*365 + 2012/4 - 2012/100 + 2012/400 + 366-11);\n\n    while(1){\n\n        cin >> s;\n\n        if(s[0] == '#'){\n            break;\n        }\n\n        vector<string> vec = split(s,'.');\n\n        if(vec.size() == 5){\n\n            int a[5];//b,ka,t,w,ki\n\n            for(int i=0;i<5;i++){\n                stringstream ss;\n                ss << vec[i];\n                ss >> a[i];\n            }\n\n            long long int allday = 0;\n\n            allday = a[0]*20*20*18*20 + a[1]*20*18*20 + a[2]*18*20 + a[3]*20 + a[4];\n\n            if(allday>=11){\n                allday -= 11;\n                int year,month,day;\n                year = 2013+(static_cast<int>(allday/(365+365+365+366))*4);\n                allday = allday % (365+365+365+366);\n                allday = allday + (year)/100 - (year)/400 -(2000)/100 + 2000/400;\n\n\n                /*if(allday==0){\n                    allday = 1;\n                }*/\n                //cout << allday << endl;\n\n                //cout << year << endl;\n\n                int byear = year;\n\n                //cout << year << endl;\n\n                year += allday/365;\n\n                allday %= 365;\n\n                if(year - byear == 4 && allday != 0){\n                    allday--;\n                }\n\n                //cout << allday << endl;\n\n                month = 1;\n                day = 1;\n                if(is_Leapyear(year)){\n                    for(int i=0;i<12;i++){\n                        if(allday>=leapmonths[i]){\n                            allday-=leapmonths[i];\n                            month++;\n                        }\n                        else{\n                            break;\n                        }\n                    }\n                    day += allday;\n                    printf(\"%d.%d.%d\\n\",year,month,day);\n                }\n                else{\n                    for(int i=0;i<12;i++){\n                        if(allday>=months[i]){\n                            allday-=months[i];\n                            month++;\n                        }\n                        else{\n                            break;\n                        }\n                    }\n                    day += allday ;\n                    printf(\"%d.%d.%d\\n\",year,month,day);\n                }\n            }\n            else{\n                printf(\"2012.12.%lld\\n\",21+allday);\n            }\n\n        }\n\n        else{\n\n            long long int b[3];//year,month,day\n\n            for(int i=0;i<3;i++){\n                stringstream ss;\n                ss << vec[i];\n                ss >> b[i];\n            }\n\n            long long int allday = (b[0] % 1872000 * 365 + b[0]/4 - b[0]/100 + b[0]/400);\n\n            if(is_Leapyear(b[0])){\n                allday--;\n            }\n\n            for(int i=0;i<b[1]-1;i++){\n                if(is_Leapyear(b[0])){\n                    allday += leapmonths[i];\n                }\n                else{\n                    allday += months[i];\n                }\n            }\n\n            allday += b[2];\n\n            allday -= baseday;\n\n            allday %= 1872000;\n\n            long long int ba,ka,t,w,ki;\n\n            ba = allday/144000;\n\n            allday %= 144000;\n\n            ka = allday/7200;\n\n            allday %= 7200;\n\n            t = allday/360;\n\n            allday %= 360;\n\n            w = allday/20;\n\n            allday %= 20;\n\n            ki = allday;\n\n            printf(\"%lld.%lld.%lld.%lld.%lld\\n\",ba,ka,t,w,ki);\n        }\n\n    }\n\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<algorithm>\n#include<iostream>\n#include<sstream>\n#include<string>\n#include<vector>\n#include<cstdio>\n#define rep(i,a) for( int i = 0; i != (a); ++i )\n#define repd(i,a) for( int i = (a); i >= 0; --i )\n#define repi(i,a,b) for( int i = (a); i != (b); ++i )\n\ntypedef unsigned long long ull;\n\nconst ull units[4] = { 20, 18, 20, 20 }, cycle = 13*20*20*20*18;\n\nbool isLeap( ull y )\n{\n\treturn ( y % 4 == 0 && y % 100 ) || y % 400 == 0;\n}\n\null dayOfMonth( ull y, ull m )\n{\n\tswitch( m )\n\t{\n\t\tcase 2:\n\t\t\tif( isLeap( y ) )\n\t\t\t\treturn 29;\n\t\t\telse\n\t\t\t\treturn 28;\n\t\tcase 4:\n\t\tcase 6:\n\t\tcase 9:\n\t\tcase 11:\n\t\t\treturn 30;\n\t\tdefault:\n\t\t\treturn 31;\n\t}\n}\n\null GetDays(ull y, ull m, ull d)\n{\n\t// 1・2月 → 前年の13・14月\n\tif (m <= 2)\n\t{\n\t\t--y;\n\t\tm += 12;\n\t}\n\tull dy = 365 * (y - 1); // 経過年数×365日\n\tull c = y / 100;\n\tull dl = (y >> 2) - c + (c >> 2); // うるう年分\n\tull dm = (m * 979 - 1033) >> 5; // 1月1日から m 月1日までの日数\n\treturn dy + dl + dm + d - 1;\n}\n\nint main()\n{\n\tstd::string s;\n\twhile( std::cin >> s, s != \"#\" )\n\t{\n\t\tull now = GetDays( 2012, 12, 21 );\n\n\t\t// y.m.d\n\t\tif( std::count( s.begin(), s.end(), '.' ) == 2 )\n\t\t{\n\t\t\tull y, m, d;\n\t\t\trep( i, s.size() )\n\t\t\t\tif( s[i] == '.' )\n\t\t\t\t\ts[i] = ' ';\n\n\t\t\tstd::istringstream iss(s);\n\t\t\tiss >> y >> m >> d;\n\n\t\t\tull nxt = GetDays( y, m, d );\n\t\t\tnxt -= now;\n\t\t\tnxt %= cycle;\n\n\t\t\tstd::vector<ull> v;\n\t\t\trep( i, 4 )\n\t\t\t{\n\t\t\t\tv.push_back( nxt % units[i] );\n\t\t\t\tnxt /= units[i];\n\t\t\t}\n\t\t\tv.push_back( nxt );\n\t\t\trepd( i, 4 )\n\t\t\t\tprintf( \"%llu%c\", v[i], \".\\n\"[!i] );\n\t\t}\n\t\t// b.ka.t.w.ki\n\t\telse\n\t\t{\n\t\t\tull a[5];\n\t\t\trep( i, s.size() )\n\t\t\t\tif( s[i] == '.' )\n\t\t\t\t\ts[i] = ' ';\n\n\t\t\tstd::istringstream iss(s);\n\t\t\trep( i, 5 )\n\t\t\t\tiss >> a[i];\n\t\t\t\n\t\t\tull days = 0;\n\t\t\trepd( i, 5 )\n\t\t\t{\n\t\t\t\tdays += a[4-i];\n\t\t\t\tif( i )\n\t\t\t\t\tdays *= units[i-1];\n\t\t\t}\n\t\t\tull y = 2012, m = 12, d = 21;\n\t\t\twhile( true )\n\t\t\t{\n\t\t\t\tull lim = dayOfMonth( y, m )-d+1;\n\t\t\t\tif( days < lim )\n\t\t\t\t{\n\t\t\t\t\td += days;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tdays -= lim;\n\t\t\t\td = 1;\n\t\t\t\t++m;\n\t\t\t\tif( m > 12 )\n\t\t\t\t\tm = 1, ++y;\n\t\t\t}\n\n\t\t\tprintf( \"%llu.%llu.%llu\\n\", y, m, d );\n\t\t}\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <sstream>\n#include <algorithm>\n\nusing namespace std;\n\nusing Long = long long;\n\nLong Fliegel( Long y, Long m, Long d ) {\n    if ( m <= 2 ) {\n\tm += 12;\n\t--y;\n    }\n    return (Long)(floor(365.25*y) + floor(y/400.0) - floor(y/100.0) + floor(30.59*(m-2)) + d - 678912.0);\n}\n\nint main() {\n\n    Long mjd_base = Fliegel( 2012, 12, 21 );\n    vector<Long> maya_unit( {13, 20, 20, 18, 20} );\n    vector<Long> greg_unit( {0} );\n    Long maya_cycle = 13*20*20*18*20;\n    Long g[3], m[5];\n    \n    string s;\n    while ( cin >> s && s != \"#\" ) {\n\n\tint cnt = 0;\n\tfor ( auto& c : s ) {\n\t    if ( c == '.' ) {\n\t\t++cnt;\n\t\tc = ' ';\n\t    }\n\t}\n\n\tstringstream ss( s );\n\n\tif ( cnt == 2 ) {//西暦\n\n\t    ss >> g[0] >> g[1] >> g[2];\n\t    \n\t    Long mjd = (Fliegel(g[0], g[1], g[2]) - mjd_base)%maya_cycle;\n\n\t    for ( int i=maya_unit.size()-1; i>=0; --i ) {\n\t\tm[i] = mjd%maya_unit[i];\n\t\tmjd /= maya_unit[i];\n\t    }\n\n\t    cout << m[0] << \".\" << m[1] << \".\" << m[2] << \".\" << m[3] << \".\" << m[4] << endl;\n\t}\n\telse {//マヤ暦\n\n\t    ss >> m[0] >> m[1] >> m[2] >> m[3] >> m[4];\n\n\t    Long mjd = m[0];\n\t    for ( int i=1; i<maya_unit.size(); ++i ) {\n\t\tmjd *= maya_unit[i];\n\t\tmjd += m[i];\n\t    }\n\t    mjd += mjd_base;\n\n\t    mjd += 678881;\n\t    Long a = 4*mjd + 3 + (Long)(4*floor(3.0*floor(1.0 + 4.0*(mjd+1)/146097.0)/4.0));\n\t    Long b = 2 + 5*(Long)floor( (a%1461)/4.0 );\n\n\t    g[0] = (Long)floor(a/1461.0);\n\t    g[1] = 3 + (Long)floor(b/153.0);\n\t    g[2] = 1 + (Long)floor( (b%153)/5.0 );\n\t    if ( g[1] > 12 ) {\n\t\tg[1] -= 12;\n\t\t++g[0];\n\t    }\n\t    \n\t    cout << g[0] << \".\" << g[1] << \".\" << g[2] << endl;\n\t}\n      \n    }\n\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <vector>\n#include <list>\n#include <cmath>\n#include <fstream>\n#include <algorithm>\n#include <string>\n#include <queue>\n#include <set>\n#include <map>\n#include <complex>\n#include <iterator>\n#include <cstdlib>\n#include <cstring>\n#include <sstream>\n#include <stack>\n#include <climits>\n#include <deque>\n#include <bitset>\n#include <cassert>\n#include <ctime>\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> pii;\nconst int dy[]={-1,0,1,0},dx[]={0,1,0,-1};\n// adjust problem by problem\nconst double EPS=1e-8;\nconst double PI=acos(-1.0);\n#ifdef __GNUC__\nint popcount(int n){return __builtin_popcount(n);}\nint popcount(ll n){return __builtin_popcountll(n);}\n#endif\n#ifndef __GNUC__\ntemplate<class T> int popcount(T n){int cnt=0;while(n){if(n%2)cnt++;n/=2;}return cnt;}\n#endif\ntemplate<class T>int SIZE(T a){return a.size();}\ntemplate<class T>string IntToString(T num){string res;stringstream ss;ss<<num;return ss.str();}\ntemplate<class T>T StringToInt(string str){T res=0;for(int i=0;i<SIZE(str);i++)res=(res*10+str[i]-'0');return res;}\ntemplate<class T>T gcd(T a,T b){if(b==0)return a;return gcd(b,a%b);}\ntemplate<class T>T lcm(T a,T b){return a/gcd(a,b)*b;}\ntemplate<class T> void PrintSeq(T &a,int sz){for(int i=0;i<sz;i++){cout<<a[i];if(sz==i+1)cout<<endl;else cout<<' ';}}\nbool EQ(double a,double b){return abs(a-b)<EPS;}\nvoid fastStream(){cin.tie(0);std::ios_base::sync_with_stdio(0);}\nvector<string> split(string str,char del){\n  vector<string> res;\n  for(int i=0,s=0;i<SIZE(str);i++){\n    if(str[i]==del){if(i-s!=0)res.push_back(str.substr(s,i-s));s=i+1;}\n    else if(i==SIZE(str)-1){res.push_back(str.substr(s));}\n  }\n  return res;\n}\n\nll sumd[11000010];\n\nconst int md[2][12]\n={{31,28,31,30,31,30,31,31,30,31,30,31}\n  ,{31,29,31,30,31,30,31,31,30,31,30,31}};\n\nbool isLeap(int y){\n  return y%4==0&&(y%100!=0||y%400==0);\n}\n\nint main(){\n\n  // テァツエツッテァツゥツ硬ay\n  for(int y=2013;y<=10000010;y++){\n    if(isLeap(y))sumd[y]=sumd[y-1]+366;\n    else sumd[y]=sumd[y-1]+365;\n  }\n\n  string str;\n  while(getline(cin,str)&&str!=\"#\"){\n    int dot=0;\n    for(int i=0;i<(int)str.size();i++){\n      if(str[i]=='.')dot++;\n    }\n    // s to m\n    if(dot==2){\n      vector<string> v=split(str,'.');\n      vector<int> vv;\n      for(int i=0;i<(int)v.size();i++)\n        vv.push_back(StringToInt<int>(v[i]));\n      ll pday=0;\n      // 2012,12.21テ」ツ?凝」ツつ嘉・ツ按敕」ツつ?」ツ?ヲテ、ツスツ陛ヲツ猟・テァツオツ古ゥツ?偲」ツ?療」ツ?淌」ツ?凝」ツつ津ィツィツ暗ァツョツ療」ツ??\n      // テ」ツ?敕」ツ?ョテ・ツ?、テ」ツつ津ァツ板ィテ」ツ??」ツ?ヲテ」ツδ榲」ツδ、テヲツ堋ヲテ」ツ?ォテ・ツ、ツ嘉ヲツ渉?\n      if(vv[0]==2012&&vv[1]==12)pday+=vv[2]-21;\n      else{\n        pday+=10;\n        pday+=sumd[vv[0]-1];\n        int c=isLeap(vv[0]);\n        for(int i=0;i<12;i++){\n          if(vv[1]==i+1){\n            pday+=vv[2];\n            break;\n          }\n          else{\n            pday+=md[c][i];\n          }\n        }\n      }\n      pday%=(ll)13*20*20*18*20;\n      // cout<<pday<<endl;\n      // pdayテ」ツつ津・ツ、ツ嘉ヲツ渉?\n      vector<int> res;\n      res.push_back(pday/(20*18*20*20));\n      pday%=(20*18*20*20);\n      res.push_back(pday/(20*18*20));\n      pday%=20*18*20;\n      res.push_back(pday/(20*18));\n      pday%=20*18;\n      res.push_back(pday/20);\n      pday%=20;\n      res.push_back(pday);\n      for(int i=0;i<(int)res.size();i++){\n        cout<<res[i];\n        if(i==(int)res.size()-1)cout<<endl;\n        else cout<<\".\";\n      }\n    }\n    // m to s\n    else{\n      vector<string> v=split(str,'.');\n      vector<int> vv;\n      for(int i=0;i<(int)v.size();i++)\n        vv.push_back(StringToInt<int>(v[i]));\n      ll sum=0;\n      sum=sum+vv[0];\n      sum=sum*20+vv[1];\n      sum=sum*20+vv[2];\n      sum=sum*18+vv[3];\n      sum=sum*20+vv[4];\n      // 2012,12,21テ」ツ?凝」ツつ嘉」ツ?ョテァツオツ古ゥツ?仕ayテ」ツつ痴umテ」ツ?ィテ」ツ?凖」ツつ?\n      if(sum<=10)cout<<2012<<\".\"<<12<<\".\"<<21+sum<<endl;\n      else{\n        sum-=10;\n        // テ」ツ?禿」ツ?禿」ツ?凝」ツつ嘉ァツエツッテァツゥツ酵earテ」ツつ津、ツスツソテ」ツ?」テ」ツ?ヲテ、ツコツ古・ツ按?ヲツ篠「テァツエツ「テ」ツ?ァテ」ツ??、ツスツ陛・ツケツエテ」ツ?セテ」ツ?ァテゥツ?イテ」ツつ?」ツつ凝」ツ?凝ィツェツソテ」ツ?ケテ」ツつ?\n        int ub=10000010;\n        int lb=2012;\n        while(ub-lb>1){\n          int mid=(ub+lb)/2;\n          if(sumd[mid]>=sum)ub=mid;\n          else lb=mid;\n        }\n        // ubテ・ツケツエテ」ツ?古」ツ??ィツカツ?」ツ?暗」ツつ凝ヲツ慊?・ツ按敕」ツ?ョテ・ツケツエテ」ツ?ェテ」ツ?ョテ」ツ?ァ\n        // ub-1テ・ツケツエテ」ツ?セテ」ツ?ァテ・ツケツエテ」ツつ津ゥツ?イテ」ツつ?」ツ?ヲテ」ツ?甘」ツ??\n        sum-=sumd[ub-1];\n        int resy=ub;\n        int c=isLeap(resy);\n        int resm,resd;\n        for(int i=0;i<12;i++){\n          if(sum<=md[c][i]){\n            resm=i+1;\n            resd=sum;\n            break;\n          }\n          else sum-=md[c][i];\n        }\n        cout<<resy<<\".\"<<resm<<\".\"<<resd<<endl;\n      }\n    }\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "\n\n#include <bits/stdc++.h>\nusing namespace std;\n\n#define in ,\n#define esc_paren(...) __VA_ARGS__\n#define pp_empty(...)\n#define pp_cat_i(x, y) x ## y\n#define pp_cat(x, y) pp_cat_i(x, y)\n\n#define pp_inc0 1\n#define pp_inc1 2\n#define pp_inc2 3\n#define pp_inc3 4\n#define pp_inc4 5\n#define pp_inc5 6\n#define pp_inc6 7\n#define pp_inc7 8\n#define pp_inc8 9\n#define pp_inc(i) pp_cat(pp_inc, i)\n\n#define pp_arg10(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, ...) _9\n#define pp_has_comma(...) pp_arg10(__VA_ARGS__, 1, 1, 1, 1, 1, 1, 1, 1, 0)\n#define pp_trigger_paren(...) ,\n#define pp_is_empty(...) \\\n  pp_is_empty1( \\\n      pp_has_comma(__VA_ARGS__), \\\n      pp_has_comma(pp_trigger_paren __VA_ARGS__), \\\n      pp_has_comma(__VA_ARGS__()), \\\n      pp_has_comma(pp_trigger_paren __VA_ARGS__()) \\\n      ) \n#define pp_paste5(_0, _1, _2, _3, _4) _0 ## _1 ## _2 ## _3 ## _4\n#define pp_is_empty1(_0, _1, _2, _3) pp_has_comma(pp_paste5(pp_is_empty_case_, _0, _1, _2, _3))\n#define pp_is_empty_case_0001 ,\n\n#define pp_is_one(...) pp_is_one_(__VA_ARGS__, pp_one_seq)\n#define pp_is_one_(...) pp_is_one_n(__VA_ARGS__)\n#define pp_is_one_n(_1,_2,_3,_4,_5,_6,_7,_8,_9,_10, N, ...) N\n#define pp_one_seq 0,0,0,0,0,0,0,0,0,1,0\n\n#define pp_narg(...) \\\n         pp_narg_(__VA_ARGS__, pp_narg_seq)\n#define pp_narg_(...) \\\n         pp_narg_n(__VA_ARGS__)\n#define pp_narg_n( \\\n          _1, _2, _3, _4, _5, _6, _7, _8, _9,_10, \\\n         _11,_12,_13,_14,_15,_16,_17,_18,_19,_20, \\\n         _21,_22,_23,_24,_25,_26,_27,_28,_29,_30, \\\n         _31,_32,_33,_34,_35,_36,_37,_38,_39,_40, \\\n         _41,_42,_43,_44,_45,_46,_47,_48,_49,_50, \\\n         _51,_52,_53,_54,_55,_56,_57,_58,_59,_60, \\\n         _61,_62,_63,n,...) n\n#define pp_narg_seq \\\n         63,62,61,60, \\\n         59,58,57,56,55,54,53,52,51,50, \\\n         49,48,47,46,45,44,43,42,41,40, \\\n         39,38,37,36,35,34,33,32,31,30, \\\n         29,28,27,26,25,24,23,22,21,20, \\\n         19,18,17,16,15,14,13,12,11,10, \\\n          9, 8, 7, 6, 5, 4, 3, 2, 1, 0\n\n#define pp_if_0(x, y) y\n#define pp_if_1(x, y) x\n#define pp_if(cond, x, y) pp_cat(pp_if_, cond)(x, y)\n\n#define pp_foreach_i9(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i8(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i7(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i6(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i5(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i4(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i3(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i2(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i1(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i0(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i(i, f, ...) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach(f, ...) pp_foreach_i(0, f, __VA_ARGS__)\n\n\ntypedef long long ll;\n#define down_queue(x) priority_queue<x>\n#define up_queue(x) priority_queue<x, vector<x>, greater<x>>\n#define all(x) x.begin(), x.end()\n#define split_str(str, sp_word) istringstream stream(str); string res; for(int cnt = 0; getline(stream,res,sp_word); cnt++)\n#define digit(x) ((int)log10((double)(x)) + 1)\n#define mp(x,y) make_pair(x,y)\n#define pb(x) push_back(x)\n#define pf(x) push_front(x)\n#define vec_cpy(to,from) copy(all(to),back_inserter(from))\n#define ary_cpy(to,from) memcpy(to, from, sizeof(from))\n#define MOD 1000000007\n#define INF 999999999\n\n\n#define rep(...) rep1(rep2, (__VA_ARGS__))\n#define rep1(X, A) X A\n#define rep2(i, ...) pp_if(pp_is_one(__VA_ARGS__), rep_len1(i, __VA_ARGS__), rep3(i, __VA_ARGS__))\n#define rep_len1(i, end, ...) for (int i = 0; i < end; i++)\n#define rep3(i, iter, ...) rep4(rep5, (iter, i, esc_paren __VA_ARGS__))\n#define rep4(X, A) X A\n#define rep5(iter, ...) iter(__VA_ARGS__)\n\n#define up up_iter ,\n#define up_iter3(i, start, end) for (int i = start; i < end; i++)\n#define up_iter4(i, start, end, up) for (int i = start; i < end; i += up)\n#define up_iter(...) pp_cat(up_iter, pp_narg(__VA_ARGS__))(__VA_ARGS__)\n#define down down_iter ,\n#define down_iter2(i, end) for(int i = end-1; i >= 0; i--)\n#define down_iter3(i, start, end) for (int i = end-1; i >= start; i--)\n#define down_iter4(i, start, end, down) for (int i = end-1; i >= start; i -= down)\n#define down_iter(...) pp_cat(down_iter, pp_narg(__VA_ARGS__))(__VA_ARGS__)\n#define viter viter_iter ,\n#define viter_iter(i, v) auto tmpitr=v.begin(); for (auto i=*tmpitr; tmpitr != v.end(); tmpitr++)\n\n\n#define pp_init2(cnt, body) struct _InitStruct ## cnt { _InitStruct ## cnt() { body } } _initstruct ## cnt;\n#define pp_init1(f, cnt, body) f(cnt, body)\n#define pp_init(body) pp_init1(pp_init2, __COUNTER__, body)\n\n#define init_array(arr, N, val) pp_init(rep (i in N) { arr[i] = val; })\n#define iota_array(arr, N, start) pp_init(rep (i in N) { arr[i] = start + i; })\n\n\n#define debug_var_elem(v) << #v << \"=\" << v << \" \"\n#ifdef DEBUG\n#define debug_echo(e) cout << \"L\" << __LINE__ << \": \" << e << endl\n#define debug_var(...) cout << \"L\" << __LINE__ << \": \" pp_foreach(debug_var_elem, __VA_ARGS__) << endl\n#else\n#define debug_echo(e)\n#define debug_var(...)\n#endif\n\n\n#define pp_gen_field(list) pp_gen_field1 list\n#define pp_gen_field1(name, val) decltype(val) name;\n#define pp_gen_init(list) pp_gen_init1 list\n#define pp_gen_init1(name, val) ,val\n#define pp_gen_find_set_wrap(ufnodename) ufnodename pp_gen_find_set\n#define pp_gen_find_set(list) pp_gen_find_set1 list\n#define pp_gen_find_set1(name, val) \\\n  find_set_ ## name(int x, decltype(val) v) { \\\n    if (nodes[x].parent == x) { \\\n      nodes[x].name = v; \\\n      return nodes[x]; \\\n    } else { \\\n      return nodes[x] = find_set_ ## name(nodes[x].parent, v); \\\n    } \\\n  }\n#define pp_gen_unite_set(list) pp_gen_unite_set1 list\n#define pp_gen_unite_set1(name, val) \\\n  if (nodes[x].name == val) { \\\n    find_set_ ## name(x, find(y).name); \\\n  } \\\n  if (nodes[y].name == val) { \\\n    find_set_ ## name(y, find(x).name); \\\n  }\n\n#define def_unionfind(ufname, ufnodename, ...) \\\n  struct ufnodename { \\\n    int parent; \\\n    pp_foreach(pp_gen_field, __VA_ARGS__) \\\n  }; \\\n  struct ufname { \\\n    vector<ufnodename> nodes; \\\n    vector<int> rank; \\\n    ufname(int n) : nodes(n+1), rank(n+1) { \\\n      rep (i in n) { \\\n        nodes[i] = ufnodename{i pp_foreach(pp_gen_init, __VA_ARGS__)}; \\\n        rank[i] = 0; \\\n      } \\\n    } \\\n    ufnodename find(int x) { \\\n      if (nodes[x].parent == x) { \\\n        return nodes[x]; \\\n      } else { \\\n        return nodes[x] = find(nodes[x].parent); \\\n      } \\\n    } \\\n    pp_foreach(pp_gen_find_set_wrap(ufnodename), __VA_ARGS__) \\\n    void unite(int x, int y) { \\\n      x = find(x).parent; \\\n      y = find(y).parent; \\\n      if (x == y) return; \\\n      if (rank[x] < rank[y]) { \\\n        pp_foreach(pp_gen_unite_set, __VA_ARGS__); \\\n        nodes[x].parent = y; \\\n      } else { \\\n        pp_foreach(pp_gen_unite_set, __VA_ARGS__); \\\n        nodes[y].parent = x; \\\n        if (rank[x] == rank[y]) rank[x]++; \\\n      } \\\n    } \\\n    bool same(int x, int y) { \\\n      return find(x).parent == find(y).parent; \\\n    } \\\n  }\n\n\nll gcd(ll a,ll b){while(b){ll tmp = a % b;a = b;b = tmp;}return a;}\nll lcm(ll a,ll b){return a / gcd(a,b) * b;}\n\n#define def_varargs(name, f) \\\n  template<typename First> \\\n  inline First name(First first) { return first; } \\\n  template<typename First, typename... Rest> \\\n  inline First name(First first, Rest... rest) { return f(first, name(rest...)); }\n\nvector<string> split(const string &s, char delim) {\n    vector<string> elems;\n    string item;\n    for (char ch: s) {\n        if (ch == delim) {\n            if (!item.empty())\n                elems.push_back(item);\n            item.clear();\n        }\n        else {\n            item += ch;\n        }\n    }\n    if (!item.empty())\n        elems.push_back(item);\n    return elems;\n}\n\n#define KIN 1\n#define WINAL (KIN*20)\n#define TON (WINAL*18)\n#define KATON (TON*20)\n#define BAKTON (KATON*20)\n\nbool is_uruu(ll year) {\n  return year % 4 == 0 && (year % 100 != 0 || year % 400 == 0);\n}\n\npair<ll, bool> calc_year(ll& allday) {\n  ll cnt = 2012;\n  allday++;\n  while (true) {\n    ll sub;\n    if (is_uruu(cnt)) {\n      sub = 366;\n    } else {\n      sub = 365;\n    }\n    if (allday - sub < 0) {\n      break;\n    }\n    allday -= sub;\n    cnt++;\n  }\n  return mp(cnt, is_uruu(cnt+1));\n}\npair<ll, ll> calc_month(ll& allday, ll& year, bool uruu) {\n  ll cnt = 12;\n  ll day = 31;\n  while (true) {\n    ll sub;\n    if (cnt == 2) {\n      sub = uruu ? 29 : 28;\n    } else if (cnt == 4 || cnt == 6 || cnt == 9 || cnt == 11) {\n      sub = 30;\n    } else {\n      sub = 31;\n    }\n    day = sub;\n    if (allday - sub < 0) {\n      break;\n    }\n    allday -= sub;\n    cnt++;\n    if (cnt > 12) {\n      year++;\n      cnt = 1;\n    }\n  }\n  return mp(cnt, day);\n}\nll calc_day(ll& allday, ll& month, ll& day) {\n  if (21 + allday > day) {\n    month++;\n    return 21 + allday - day;\n  } else {\n    return allday+21;\n  }\n}\n\nll year_to_day(ll year) {\n  ll cnt = 0;\n  rep (i in year-2012) {\n    if (is_uruu(i+2012+1)) {\n      cnt += 366;\n    } else {\n      cnt += 365;\n    }\n  }\n  return cnt;\n}\nll month_to_day(ll month, ll& year) {\n  int cnt = 0;\n  if (month==12) {\n    return is_uruu(year+1) ? -1 : 0;\n  }\n  year--;\n  rep (i in up(1, month+1)) {\n    if (i == 2) {\n      cnt += is_uruu(year+1) ? 29 : 28;\n    } else if (i == 4 || i == 6 || i == 9 || i == 11) {\n      cnt += 30;\n    } else {\n      cnt += 31;\n    }\n  }\n  return cnt;\n}\n\nint main() {\n  string s;\n  while (cin >> s && s[0] != '#') {\n    vector<string> elems = split(s, '.');\n    vector<int> maya;\n    for (auto e : elems) {\n      maya.pb(stoi(e));\n    }\n    if (elems.size() == 5) {\n      ll allday = maya[0]*BAKTON + maya[1]*KATON + maya[2]*TON + maya[3]*WINAL + maya[4]*KIN;\n      auto year = calc_year(allday);\n      auto month = calc_month(allday, year.first, year.second);\n      auto day = calc_day(allday, month.first, month.second);\n      if (month.first > 12) {\n        month.first -= 12;\n        year.first++;\n      }\n      cout << year.first << \".\" << month.first << \".\" << day << endl;\n    } else {\n      ll y = maya[0];\n      ll month = month_to_day(maya[1], y);\n      ll day = maya[2] - 21;\n      ll year = year_to_day(y);\n      ll allday = year + month + day;\n      allday %= BAKTON * 13;\n      ll b = allday / BAKTON; allday %= BAKTON;\n      ll ka = allday / KATON; allday %= KATON;\n      ll t = allday / TON; allday %= TON;\n      ll w = allday / WINAL; allday %= WINAL;\n      ll ki = allday / KIN; allday %= KIN;\n      cout << b << \".\" << ka << \".\" << t << \".\" << w << \".\" << ki << endl;\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <stdio.h>\n#include <sstream>\n#include <string>\n#include <vector>\n#include <map>\n#include <queue>\n#include <algorithm>\n#include <set>\n#include <math.h>\n#include <utility>\n#include <stack>\n#include <string.h>\n#include <complex>\nusing namespace std;\nconst int INF = 1<<29;\nconst double EPS = 1e-8;\ntypedef vector<int> vec;\ntypedef vector<vec> mat;\ntypedef pair<int,int> P;\nstruct edge{int to,cost;};\n\nconst int dx[] = {0,0,1,-1};\nconst int dy[] = {1,-1,0,0};\n\nvec split(string& str){\n    vec ret;\n    int p=1;\n    int part = 0;\n    for(int i=str.size()-1;i>=0;i--){\n        if(str[i]=='.'){\n            ret.push_back(part);\n            part = 0;\n            p = 1;\n        }else{\n            part += p * (str[i]-'0');\n            p *= 10;\n        }\n    }\n    ret.push_back(part);\n    return ret;\n}\n\nint main(){\n    int dl_2012 = 2012/4 - 2012/100 + 2012/400;\n    int dm_12 = (12 * 979 - 1033) >> 5;\n    int maya_cosnt[] = {20, 18, 20, 20};\n    int day_m[12] = {31,28,31,30,31,30,31,31,30,31,30,31};\n    string input;\n    while(cin >> input, input!=\"#\"){\n        vec v = split(input);\n        if(v.size()==3){\n            long long int dy = (long long int)(v[2] - 2012) * 365;\n            long long int dl = v[2]/4 - v[2]/100 + v[2]/400 - dl_2012;\n            long long int dm = ((v[1] * 979 - 1033) >> 5) - dm_12;\n            long long int d = dy + dl + dm + v[0] - 21;\n            vec maya(5);\n            for(int i=0;i<4;i++){\n                maya[i] = d % maya_cosnt[i];\n                d /= maya_cosnt[i];\n            }\n            maya[4] = d % 13;\n            cout << maya[4];\n            for(int i=3;i>=0;i--){\n                cout << '.' << maya[i];\n            }\n            cout << endl;\n        }else{\n            long long int dd = 0;\n            long long int p = 1;\n            for(int i=0;i<5;i++){\n                dd += v[i] * p;\n                if(i<4) p *= maya_cosnt[i];\n            }\n            int y = 2012, m = 12, d = 21;\n            if(dd>11){\n                y = 2013;\n                m = 1;\n                d = 1;\n                dd -= 11;\n            }\n            while(1){\n                bool change = false;\n                int pre_y = y;\n                y += dd/365;\n                dd = dd%365 - (y/4 - y/100 + y/400) + (pre_y/4 - pre_y/100 + pre_y/400);\n                if(pre_y==y)break;\n            }\n            if(dd<0){\n                y -= 1;\n                bool uruu = y%4==0&&(y%100!=0||y%400==0);\n                dd += uruu ? 366 : 365;\n            }\n            while(dd>0){\n                bool uruu = y%4==0&&(y%100!=0||y%400==0);\n                if(dd >= 364&&uruu){\n                    y += 1;\n                    dd -= 364;\n                    continue;\n                }else if(dd>=365){\n                    y += 1;\n                    dd -= 365;\n                    continue;\n                }\n                if(uruu) day_m[1] = 29;\n                else day_m[1] = 28;\n                if(dd + d > day_m[m-1]){\n                    dd -= (day_m[m-1] - d) + 1;\n                    d = 1;\n                    m = m == 12 ? 1 : m + 1;\n                }else{\n                    d += dd;\n                    dd = 0;\n                }\n                //cout << y << \".\" << m << \".\" << d << endl;\n            }\n            cout << y << \".\" << m << \".\" << d << endl;\n        }\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <iomanip>\n#include <vector>\n#include <map>\n#include <set>\n#include <queue>\n#include <bitset>\n#include <stack>\n#include <utility>\n#include <numeric>\n#include <algorithm>\n#include <functional>\n#include <cctype>\n#include <complex>\n#include <string>\n#include <sstream>\n#include <fstream>\n#include <cassert>\nusing namespace std;\n\n//common\ntypedef long long i64,ll;\n\n#define BR \"\\n\"\n#define ALL(c) (c).begin(),(c).end()\n#define REP(i,n) for(int i=0;i<(int)(n);++i)\n#define FOR(i,l,r) for(int i=(l);i<(int)(r);++i)\n#define EACH(it,o) for(auto it = (o).begin(); it != (o).end(); ++it)\n#define IN(l,v,r) ((l)<=(v) && (v)<(r))\n\n//debug\n#ifdef NDEBUG\n#define DUMP(x)\n#define DUMPLN(x)\n#define DEBUG(x)\n#define DEBUGLN(x)\n#define LINE()\n#define LINELN()\n#define CHECK(exp,act)\n#define STOP(e)\n#else\n#define DUMP(x)  cerr << #x << \" = \" << (x)\n#define DUMPLN(x)  DUMP(x) <<endl\n#define DEBUG(x) DUMP(x) << LINE() << \" \" << __FILE__\n#define DEBUGLN(x) DEBUG(x)<<endl\n#define LINE()    cerr<< \" (L\" << __LINE__ << \")\"\n#define LINELN()    LINE()<<endl\n#define CHECK(exp,act)  if(exp!=act){DUMPLN(exp);DEBUGLN(act);}\n#define STOP(e)  CHECK(e,true);if(!(e)) exit(1);\n#endif\n\ntemplate<class T> inline string toString(const vector<T>& x) {\n\tstringstream ss;\n\tREP(i,x.size()){\n\t\tif(i!=0)ss<<\" \";\n\t\tss<< x[i];\n\t}\n\treturn ss.str();\n}\n\ntemplate<class T> inline string toString(const vector<vector<T> >& map) {\n\tstringstream ss;\n\tREP(i,map.size()){\n\t\tif(i!=0)ss<<BR;\n\t\tss<< toString(map[i]);\n\t}\n\treturn ss.str();\n}\ntemplate<class K,class V>  string toString(map<K,V>& x) {\n\tstring res;stringstream ss;\n\tfor(auto& p:x)ss<< p.first<<\":\" << p.second<<\" \";\n\treturn ss.str();\n}\n\nstring BITtoString(int bit){\n    stringstream ss;\n    while(bit!=0){ss<<(bit%2);bit/=2;}\n    string res=ss.str();reverse(ALL(res));\n    return res;\n}\n\ntemplate<typename T,typename V> inline T pmod(T v,V MOD){\n\treturn (v%MOD+MOD)%MOD;\n}\n\n\nint mc[13]={0,31,28,31,30,31,30,31,31,30,31,30,31};\n\nclass Main{\npublic:\n\n\n\tll dcount(int y,int m,int d){\n\t\tll res=365LL*y;\n\t\tres+=(y-1)/4;res-=(y-1)/100;res+=(y-1)/400;\n\t\t\n\t\tfor(int j=1;j<m;j++){\n\t\t\tres+=mc[j];\n\t\t\tif(j==2)if(y%4==0 && (y%100!=0 || y%400==0))res++;\n\t\t}\n\t\tres+=d;\n\t\treturn res;\n\t}\n\n\tll year(int dc){\n\t\tll l=-1,r=1e10;\n\t\twhile(r-l>1){//<dc の max\n\t\t\tll m=(l+r)/2;\n\t\t\tll d=365LL*m;d+=(m-1)/4;d-=(m-1)/100;d+=(m-1)/400;\n\t\t\tif(dc<=d)r=m;\n\t\t\telse l=m;\n\t\t}\n\t\treturn l;\n\t}\n\n\tvoid run(){\n\t\twhile(true){\n\t\t\tstring str;cin >> str;if(str==\"#\")break;\n\t\t\tint dotc=0;\n\t\t\tREP(i,str.size())if(str[i]=='.')dotc++;\n\t\t\tif(dotc==2){\n\t\t\t\tint y,m,d;\n\t\t\t\tsscanf(str.c_str(),\"%d.%d.%d\",&y,&m,&d);\n\t\t\t\tll dc=dcount(y,m,d)-dcount(2012,12,21);\n\t\t\t\tint b=dc/(20*20*18*20);dc%=20*20*18*20;\n\t\t\t\tint ka=dc/(20*18*20);dc%=20*18*20;\n\t\t\t\tint t=dc/(18*20);dc%=18*20;\n\t\t\t\tint w=dc/20;dc%=20;\n\t\t\t\tint ki=dc;\n\t\t\t\tprintf(\"%d.%d.%d.%d.%d\\n\",b%13,ka,t,w,ki);\n\t\t\t}else{\n\t\t\t\tint b,ka,t,w,ki;\n\t\t\t\tsscanf(str.c_str(),\"%d.%d.%d.%d.%d\",&b,&ka,&t,&w,&ki);\n\t\t\t\tll dc=0;\n\t\t\t\tdc+=b*20*20*18*20;\n\t\t\t\tdc+=ka*20*18*20;\n\t\t\t\tdc+=t*18*20;\n\t\t\t\tdc+=w*20;\n\t\t\t\tdc+=ki;\n\t\t\t\tdc+=dcount(2012,12,21);\n\n\t\t\t\tint y=year(dc);\n\t\t\t\tint yd=y*365;yd+=(y-1)/4;yd-=(y-1)/100;yd+=(y-1)/400;\n\t\t\t\tdc-=yd;\n\t\t\t\tint m,d;\n\t\t\t\tfor(m=1;m<=12;m++){\n\t\t\t\t\tint md=mc[m];\n\t\t\t\t\tif(m==2&&(y%4==0 && (y%100!=0 || y%400==0)))md=29;\n\t\t\t\t\tif(dc<=md){\n\t\t\t\t\t\td=dc;break;\n\t\t\t\t\t}\n\t\t\t\t\tdc-=md;\n\t\t\t\t}\n\t\t\t\tprintf(\"%d.%d.%d\\n\",y,m,d);\n\t\t\t}\n\t\t}\n\t}\n};\n\n int main(){\n\t//ios::sync_with_stdio(false);\n \tMain().run();\n \treturn 0;\n }"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nvector<string> split(const string &str, char sep)\n{\n    vector<string> v;\n    stringstream ss(str);\n    string buffer;\n    while( getline(ss, buffer, sep) ) {\n        v.push_back(buffer);\n    }\n    return v;\n}\n\nbool is_Leapyear(long long int year){\n    if(year%4==0){\n        if(year%100==0){\n            if(year%400==0){\n                return true;\n            }\n            return false;\n        }\n        return true;\n    }\n    return false;\n}\n\nint months[12] = {31,28,31,30,31,30,31,31,30,31,30,31};\nint leapmonths[12] = {31,29,31,30,31,30,31,31,30,31,30,31};\n\nint main() {\n\n    string s;\n\n    const long long  int baseday = (2012*365 + 2012/4 - 2012/100 + 2012/400 + 366-11);\n\n    while(1){\n\n        cin >> s;\n\n        if(s[0] == '#'){\n            break;\n        }\n\n        vector<string> vec = split(s,'.');\n\n        if(vec.size() == 5){\n\n            int a[5];//b,ka,t,w,ki\n\n            for(int i=0;i<5;i++){\n                stringstream ss;\n                ss << vec[i];\n                ss >> a[i];\n            }\n\n            long long int allday = 0;\n\n            allday = a[0]*20*20*18*20 + a[1]*20*18*20 + a[2]*18*20 + a[3]*20 + a[4];\n\n            if(allday>=11){\n                allday -= 11;\n                int year,month,day;\n                year = 2013+(allday/(365+365+365+366))*4;\n                allday = allday % (365+365+365+366);\n                year += allday/365;\n                allday %= 365;\n                allday = allday + (year-2013)/100 - (year-2013)/400;\n                month = 1;\n                day = 1;\n                if(is_Leapyear(year)){\n                    for(int i=0;i<12;i++){\n                        if(allday>leapmonths[i]){\n                            allday-=leapmonths[i];\n                            month++;\n                        }\n                        else{\n                            break;\n                        }\n                    }\n                    day += allday;\n                    printf(\"%d.%d.%d\\n\",year,month,day);\n                }\n                else{\n                    for(int i=0;i<12;i++){\n                        if(allday>months[i]){\n                            allday-=months[i];\n                            month++;\n                        }\n                        else{\n                            break;\n                        }\n                    }\n                    day += allday ;\n                    printf(\"%d.%d.%d\\n\",year,month,day);\n                }\n            }\n            else{\n                printf(\"2012.12.%lld\\n\",21+allday);\n            }\n\n        }\n\n        else{\n\n            int b[3];//year,month,day\n\n            for(int i=0;i<3;i++){\n                stringstream ss;\n                ss << vec[i];\n                ss >> b[i];\n            }\n\n            long long int allday = (b[0] % 1872000 * 365 + b[0]/4 - b[0]/100 + b[0]/400);\n\n            if(is_Leapyear(b[0])){\n                allday--;\n            }\n\n            for(int i=0;i<b[1]-1;i++){\n                /*if(is_Leapyear(b[0])){\n                    allday += leapmonths[i];\n                }\n                else{*/\n                    allday += months[i];\n                //}\n            }\n\n            allday += b[2];\n\n            allday -= baseday;\n\n            allday %= 1872000;\n\n            int ba,ka,t,w,ki;\n\n            ba = allday/144000;\n\n            allday %= 144000;\n\n            ka = allday/7200;\n\n            allday %= 7200;\n\n            t = allday/360;\n\n            allday %= 360;\n\n            w = allday/20;\n\n            allday %= 20;\n\n            ki = allday;\n\n            printf(\"%d.%d.%d.%d.%d\\n\",ba,ka,t,w,ki);\n        }\n\n    }\n\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <string>\n#include <sstream>\n#include <vector>\nusing namespace std;\n \ntypedef long long lli;\n \nconst static lli n_day[] = {0,31,28,31,30,31,30,31,31,30,31,30,31};\n \nbool isleap(lli y) {\n  if(y % 4 != 0) return false;\n  return (y % 100 != 0 || y % 400 == 0);\n}\n \nstruct Maya {\n  lli b, ka, t ,w , ki;\n};\n \nstruct Date {\n  lli y, m, d;\n  bool operator != (const Date &date) const {\n    return y != date.y || m != date.m || d != date.d;\n  }\n \n  bool isleap() {\n    if(y % 4 != 0) return false;\n    return (y % 100 != 0 || y % 400 == 0);\n  }\n  lli numOfDays() {\n    if(m == 2)\n      return n_day[2] + isleap();\n    else\n      return n_day[m];\n  }\n  void next() {\n    if(d == numOfDays()) {\n      d = 1;\n      if(m == 12) {\n        m = 1;\n        y += 1;\n      } else {\n        m += 1;\n      }\n    } else {\n      d += 1;\n    }\n  }\n};\n \nlli mayaToDay(const Maya &maya) {\n  return maya.b * 20*20*18*20\n    + maya.ka * 20*18*20\n    + maya.t * 18*20\n    + maya.w * 20\n    + maya.ki;\n}\n \nMaya dayToMaya(lli day) {\n  Maya maya;\n  day %= 20*20*18*20*13;\n  maya.ki = day % 20;\n  day /= 20;\n  maya.w = day % 18;\n  day /= 18;\n  maya.t = day % 20;\n  day /= 20;\n  maya.ka = day % 20;\n  day /= 20;\n  maya.b= day;\n  return maya;\n}\n \nDate dayToDate(lli day) {\n  int remainDay = day;\n  Date date = {2012, 12, 21};\n  while(remainDay >= 366) {\n    remainDay -= 365 + isleap(date.y+1);\n    date.y += 1;\n  }\n  while(remainDay > 0) {\n    remainDay -= 1;\n    date.next();\n  }\n  return date;\n}\n \nlli dateToDay(const Date &date) {\n  lli res = 0;\n  Date n = {2012, 12, 21};\n  while(date.y - n.y >= 2) {\n    res += 365 + isleap(n.y+1);\n    n.y += 1;\n  }\n  while(date != n) {\n    res += 1;\n    n.next();\n  }\n  return res;\n}\n \nint main() {\n  string line;\n  while(getline(cin, line) && line != \"#\") {\n    replace(line.begin(), line.end(), '.', ' ');\n    stringstream ss(line);\n    vector<lli> v;\n    string str;\n    while(ss >> str) {\n      v.push_back(atoll(str.c_str()));\n    }\n    if(v.size() == 3) {\n      Date date = {v[0], v[1], v[2]};\n      Maya maya = dayToMaya(dateToDay(date));\n      cout << maya.b << \".\" << maya.ka << \".\" << maya.t\n           << \".\" << maya.w << \".\" << maya.ki << endl;\n    } else {\n      Maya maya = {v[0], v[1], v[2], v[3], v[4]};\n      Date date = dayToDate(mayaToDay(maya));\n      cout << date.y << \".\" << date.m << \".\" << date.d << endl;\n    }\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<tuple>\n#include<string>\n#include<vector>\nusing namespace std;\nlong long p1[13][33], p2[13][33], V[401];\ntuple<int, int, int>x[13][20][20][18][20];\ntuple<int, int, int, int, int>xx[1872000];\nvoid init() {\n\tfor (int i = 0; i < 429; i++) { p1[i / 33][i % 33] = -1; p2[i / 33][i % 33] = -1; }\n\tlong long CNTS = 0;\n\tfor (int i = 1; i <= 12; i++) {\n\t\tlong long V = 31; if ((i <= 6 && i % 2 == 0) || (i >= 9 && i % 2 == 1))V = 30;\n\t\tif (i == 2)V = 28;\n\t\tfor (int j = 1; j <= V; j++) { p1[i][j] = CNTS; CNTS++; }\n\t}\n\tCNTS = 0;\n\tfor (int i = 1; i <= 12; i++) {\n\t\tlong long V = 31; if ((i <= 6 && i % 2 == 0) || (i >= 9 && i % 2 == 1))V = 30;\n\t\tif (i == 2)V = 29;\n\t\tfor (int j = 1; j <= V; j++) { p2[i][j] = CNTS; CNTS++; }\n\t}\n\tfor (int i = 1; i <= 400; i++) {\n\t\tlong long II = i - 1;\n\t\tif (II % 4 == 0 && (II % 100 >= 1 || II % 400 == 0))V[i] = V[i - 1] + 366;\n\t\telse { V[i] = V[i - 1] + 365; }\n\t}\n\tCNTS = 0; long long yy = 2012, mm = 12, dd = 21;\n\tfor (int i = 0; i < 13; i++) {\n\t\tfor (int j = 0; j < 20; j++) {\n\t\t\tfor (int k = 0; k < 20; k++) {\n\t\t\t\tfor (int l = 0; l < 18; l++) {\n\t\t\t\t\tfor (int m = 0; m < 20; m++) {\n\t\t\t\t\t\tx[i][j][k][l][m] = make_tuple(yy, mm, dd);\n\t\t\t\t\t\txx[CNTS] = make_tuple(i, j, k, l, m);\n\t\t\t\t\t\tCNTS++; dd++;\n\t\t\t\t\t\tif (yy % 4 == 0 && (yy % 100 >= 1 || yy % 400 == 0)) {\n\t\t\t\t\t\t\tif (p2[mm][dd] == -1) { mm++; dd = 1; }\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse { if (p1[mm][dd] == -1) { mm++; dd = 1; } }\n\t\t\t\t\t\tif (mm == 13) { mm = 1; yy++; }\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\nlong long DayCount(long long y, long long m, long long d) {\n\tlong long DD = 0; if (y % 4 == 0) { DD = p2[m][d]; }\n\telse { DD = p1[m][d]; }\n\treturn (V[400] * (y / 400) + V[y % 400]) + DD;\n}\ntuple<int, int, int> MayaWest(long long I, long long J, long long K, long long L, long long M) {\n\treturn x[I][J][K][L][M];\n}\ntuple<int, int, int, int, int>WestMaya(long long I, long long J, long long K) {\n\tlong long X = (DayCount(I, J, K) - DayCount(2012, 12, 21)) % 1872000;\n\treturn xx[X];\n}\nint main() {\n\tinit();\n\twhile (true) {\n\t\tstring S; cin >> S; if (S == \"#\")break; S += '.';\n\t\tvector<long long>Vec; string T = \"\";\n\t\tfor (int i = 0; i < S.size(); i++) {\n\t\t\tif (S[i] == '.') { Vec.push_back(stoi(T)); T = \"\"; }\n\t\t\telse { T += S[i]; }\n\t\t}\n\t\tif (Vec.size() == 3) {\n\t\t\ttuple<long long, long long, long long, long long, long long>ans = WestMaya(Vec[0], Vec[1], Vec[2]);\n\t\t\tcout << get<0>(ans) << '.' << get<1>(ans) << '.' << get<2>(ans) << '.' << get<3>(ans) << '.' << get<4>(ans) << endl;\n\t\t}\n\t\tif (Vec.size() == 5) {\n\t\t\ttuple<long long, long long, long long>ans = MayaWest(Vec[0], Vec[1], Vec[2], Vec[3], Vec[4]);\n\t\t\tcout << get<0>(ans) << '.' << get<1>(ans) << '.' << get<2>(ans) << endl;\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\nint ms[12]={0,31,59,90,120,151,181,212,243,273,304,334},g[5]={144000,7200,360,20,1};\n\nvoid ymbk(int *b) {\n\tint i,k;\n\tlong long d,a;\n\ta=b[0]-1;\n\td=a*365+a/4-a/100+a/400; a++;\n\tif (b[1]>2 && ((a % 4==0 && a % 100!=0) || a % 400==0)) d++;\n\td=(d+ms[b[1]-1]+b[2]-734858) % 1872000;\n\tfor (i=0;i<5;i++) {\n\t\tk=d/g[i];\n\t\tcout << k; if (i!=4) cout << '.';\n\t\td-=k*g[i];\n\t}\n\tcout << endl;\n  }\nvoid bkym(int *b) {\n\t  int i,e,c,y,m,d,h;\n\t  for (i=d=0;i<5;i++) d+=g[i]*b[i];\n\t  d+=734858;\n\t  for (y=d/366; y<=d/365; y++) {\n\t\t  e=y*365+y/4-y/100+y/400;\n\t\t  if (e+1>d) break;\n\t  }\n\t  d-=(y-1)*365+(y-1)/4-(y-1)/100+(y-1)/400;\n\t  for (m=1,c=h=0;m<12;m++) {\n\t  if (m>1 && ((y % 4==0 && y % 100!=0) || y % 400==0)) c=1;\n\t  if (d>h && d<=ms[m]+c) break;\n\t  h=ms[m]+c;\n     }\n      d-=h;\n      cout << y << '.' << m << '.' << d << endl;\n  } \n  \nint main() {\n  int i,a,s,b[5];\n  char c[50];\n  while(true) {\n  cin >> c; a=0; s=0;\n  if (c[0]=='#') break;\n  for (i=0;c[i]!='\\0';i++,s*=10) {\n\t  if (c[i]!='.') s+=c[i]-'0';\n\t  if (c[i+1]=='.' || c[i+1]=='\\0') { b[a++]=s; s=0; }\n      }\n   if (a==3) ymbk(b); else bkym(b);\n   }\nreturn 0;\n} "
  },
  {
    "language": "C++",
    "code": "// 2014/09/08 Tazoe\n\n#include <iostream>\n#include <string>\n#include <sstream>\nusing namespace std;\n\nvoid b_to_y(string S)\n{\n\tistringstream is(S);\n\tint b, ka, t, w, ki;\n\tis >> b >> ka >> t >> w >> ki;\n\n\tint KI = (((b*20+ka)*20+t)*18+w)*20+ki;\n\n\t// 2001年1月1日に戻す\n\tint y = 2001;\n\tint m = 1;\n\tint d = 1;\n\tKI += (365*12+3-11);\n\n\tif(int tmp=(KI/(365*400+97))){\n\t\ty += (tmp*400);\n\t\tKI -= (tmp*(365*400+97));\n\t}\n\n\tif(int tmp=(KI/(365*100+24))){\n\t\ty += (tmp*100);\n\t\tKI -= (tmp*(365*100+24));\n\t}\n\n\tif(int tmp=(KI/(365*4+1))){\n\t\ty += (tmp*4);\n\t\tKI -= (tmp*(365*4+1));\n\t}\n\n\tif(int tmp=(KI/365)){\n\t\ty += tmp;\n\t\tKI -= (tmp*365);\n\t}\n\n\tint M[12] = {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\n\tif(y%400==0 || (y%4==0 && y%100!=0))\n\t\tM[1] = 29;\n\n\tfor(int i=0; i<12; i++){\n\t\tif(KI>=M[i]){\n\t\t\tm++;\n\t\t\tKI -= M[i];\n\t\t}\n\t\telse{\n\t\t\td += KI;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tcout << y << '.' << m << '.' << d << endl;\n}\n\nvoid y_to_b(string S)\n{\n\tistringstream is(S);\n\tint y, m, d;\n\tis >> y >> m >> d;\n\n\tlong long D = 0;\n\n\t// 2000年12月31日からの日数\n\tlong long Y = (y-1)-2000;\n\n\tif(long long tmp=(Y/400)){\n\t\tD += (tmp*(365*400+97));\n\t\tY -= (tmp*400);\n\t}\n\n\tif(long long tmp=(Y/100)){\n\t\tD += (tmp*(365*100+24));\n\t\tY -= (tmp*100);\n\t}\n\n\tif(long long tmp=(Y/4)){\n\t\tD += (tmp*(365*4+1));\n\t\tY -= (tmp*4);\n\t}\n\n\tD += (Y*365);\n\n\tint M[12] = {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\n\tif(y%400==0 || (y%4==0 && y%100!=0))\n\t\tM[1] = 29;\n\n\tfor(int i=0; i<m-1; i++){\n\t\tD += (long long)M[i];\n\t}\n\n\tD += (long long)d;\n\n\t// 2012年12月21日からの日数\n\tD -= (365*12+3-10);\n\n\tint ki = D%20;\n\tD /= 20;\n\n\tint w = D%18;\n\tD /= 18;\n\n\tint t = D%20;\n\tD /= 20;\n\n\tint ka = D%20;\n\tD /= 20;\n\n\tint b = D%13;\n\n\tcout << b << '.' << ka << '.' << t << '.' << w << '.' << ki << endl;\n}\n\nint main()\n{\n\twhile(true){\n\t\tstring S;\n\t\tcin >> S;\n\n\t\tif(S==\"#\")\n\t\t\tbreak;\n\n\t\t// ピリオドを空白に置換\n\t\tint cnt = 0;\n\n\t\twhile(true){\n\t\t\tint loc = S.find(\".\");\n\n\t\t\tif(loc==string::npos)\n\t\t\t\tbreak;\n\n\t\t\tS.replace(loc, 1, \" \");\n\t\t\tcnt++;\n\t\t}\n\n\t\tif(cnt==4){\n\t\t\tb_to_y(S);\n\t\t}\n\t\telse if(cnt==2){\n\t\t\ty_to_b(S);\n\t\t}\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <string>\n#include <vector>\nusing namespace std;\n\ntypedef long long lli;\n\nvector<lli> v,v2;\n\nint main(){\n  string str;\n  lli l=0;\n  for(int i=2016;i<=10000000;i+=4){\n    l += 365 * 4;\n    if(i % 100 != 0 || i % 400 == 0){\n      l++;\n      v.push_back(i);\n      v2.push_back(l);\n    }\n  }\n\n  while(getline(cin,str) && str != \"#\"){\n    lli a[5], day = 0, year;\n    int cnt = 0;\n    fill(a,a+5,0);\n    for(int i=0;i<str.size();i++){\n      if(str[i] >= '0' && str[i] <= '9'){\n        a[cnt] *= 10;\n        a[cnt] += str[i] - '0';\n      } else cnt++;\n    }\n    cnt++;\n\n    if(cnt == 3){\n      if(a[0] == 2012){\n        cout << \"0.0.0.0.\" << a[2] - 21 << endl;\n        continue;\n      }\n      day = (a[0] - 2013) * 365;\n      if(a[0] > 2016) day += lower_bound(v.begin(),v.end(),a[0]) - v.begin();\n      for(int i=1;i<a[1];i++){\n        if(i == 1 || i == 3 || i == 5 || i == 7 || i == 8 || i == 10 || i == 12) day += 31;\n        else if(i == 2) day += (a[0] % 4 == 0 && (a[0] % 100 != 0 || a[0] % 400 == 0)) ? 29 : 28;\n        else day += 30;\n      }\n      day += a[2];\n      day += 10;\n      day %= 20*18*20*20*13;\n      cout << day / (20*18*20*20) << '.';\n      day %= 20*18*20*20;\n      cout << day / (20*18*20) << '.';\n      day %= 20*18*20;\n      cout << day / (20*18) << '.';\n      day %= 20*18;\n      cout << day / 20 << '.';\n      day %= 20;\n      cout << day << endl;\n    } else {\n      day = a[0] * 20*18*20*20;\n      day += a[1] * 20*18*20;\n      day += a[2] * 20*18;\n      day += a[3] * 20;\n      day += a[4];\n      if(day <= 10){\n        cout << \"2012.12.\" << day+21 << endl;\n        continue;\n      }\n      day -= 10;\n      if(day <= 366*8){\n\n        for(int i=2013;;i++){\n          if(i % 4 == 0 && (i % 100 != 0 || i % 400 == 0)){\n            if(day <= 366){\n              cout << i << '.';\n              year = i;\n              break;\n            }\n            day -= 366;\n          } else {\n            if(day <= 365){\n              cout << i << '.';\n              year = i;\n              break;\n            }\n            day -= 365;\n          }\n        }\n\n        for(int i=1;;i++){\n          if(i == 1 || i == 3 || i == 5 || i == 7 || i == 8 || i == 10 || i == 12){\n            if(day <= 31){\n              cout << i << '.' << day << endl;\n              break;\n            }\n            day -= 31;\n          } else if(i == 2){\n            if(day <= ((year % 4 == 0 && (year % 100 != 0 || year % 400 == 0)) ? 29 : 28)){\n              cout << i << '.' << ((year % 4 == 0 && (year % 100 != 0 || year % 400 == 0)) ? 29 : 28) << endl;\n              break;\n            }\n            day -= (year % 4 == 0 && (year % 100 != 0 || year % 400 == 0)) ? 29 : 28;\n          } else {\n            if(day <= 30){\n              cout << i << '.' << day << endl;\n              break;\n            }\n            day -= 30;\n          }\n        }\n      } else {\n        int c = lower_bound(v2.begin(),v2.end(),day) - v2.begin();\n        c--;\n        day -= v2[c];\n        for(int i=v[c]+1;;i++){\n          if(i % 4 == 0 && (i % 100 != 0 || i % 400 == 0)){\n            if(day <= 366){\n              cout << i << '.';\n              year = i;\n              break;\n            }\n            day -= 366;\n          } else {\n            if(day <= 365){\n              cout << i << '.';\n              year = i;\n              break;\n            }\n            day -= 365;\n          }\n        }\n        for(int i=1;;i++){\n          if(i == 1 || i == 3 || i == 5 || i == 7 || i == 8 || i == 10 || i == 12){\n            if(day <= 31){\n              cout << i << '.' << day << endl;\n              break;\n            }\n            day -= 31;\n          } else if(i == 2){\n            if(day <= ((year % 4 == 0 && (year % 100 != 0 || year % 400 == 0)) ? 29 : 28)){\n              cout << i << '.' << ((year % 4 == 0 && (year % 100 != 0 || year % 400 == 0)) ? 29 : 28) << endl;\n              break;\n            }\n            day -= (year % 4 == 0 && (year % 100 != 0 || year % 400 == 0)) ? 29 : 28;\n          } else {\n            if(day <= 30){\n              cout << i << '.' << day << endl;\n              break;\n            }\n            day -= 30;\n          }\n        }\n      }\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nvector<string> split(const string &str, char sep)\n{\n    vector<string> v;\n    stringstream ss(str);\n    string buffer;\n    while( getline(ss, buffer, sep) ) {\n        v.push_back(buffer);\n    }\n    return v;\n}\n\nbool is_Leapyear(long long int year){\n    if(year%4==0){\n        if(year%100==0){\n            if(year%400==0){\n                return true;\n            }\n            return false;\n        }\n        return true;\n    }\n    return false;\n}\n\nint months[12] = {31,28,31,30,31,30,31,31,30,31,30,31};\nint leapmonths[12] = {31,29,31,30,31,30,31,31,30,31,30,31};\n\nint main() {\n\n    string s;\n\n    const long long  int baseday = (2012*365 + 2012/4 - 2012/100 + 2012/400 + 366-11);\n\n    while(1){\n\n        cin >> s;\n\n        if(s[0] == '#'){\n            break;\n        }\n\n        vector<string> vec = split(s,'.');\n\n        if(vec.size() == 5){\n\n            int a[5];//b,ka,t,w,ki\n\n            for(int i=0;i<5;i++){\n                stringstream ss;\n                ss << vec[i];\n                ss >> a[i];\n            }\n\n            long long int allday = 0;\n\n            allday = a[0]*20*20*18*20 + a[1]*20*18*20 + a[2]*18*20 + a[3]*20 + a[4];\n\n            if(allday>=11){\n                allday -= 11;\n                int year,month,day;\n                year = 2013+(allday/(365+365+365+366))*4;\n                allday = allday % (365+365+365+366);\n                year += allday/365;\n                allday %= 365;\n                allday = allday + (year-2013)/100 - (year-2013)/400;\n                month = 1;\n                day = 1;\n                if(is_Leapyear(year)){\n                    for(int i=0;i<12;i++){\n                        if(allday>=leapmonths[i]){\n                            allday-=leapmonths[i];\n                            month++;\n                        }\n                        else{\n                            break;\n                        }\n                    }\n                    day += allday;\n                    printf(\"%d.%d.%d\\n\",year,month,day);\n                }\n                else{\n                    for(int i=0;i<12;i++){\n                        if(allday>months[i]){\n                            allday-=months[i];\n                            month++;\n                        }\n                        else{\n                            break;\n                        }\n                    }\n                    day += allday ;\n                    printf(\"%d.%d.%d\\n\",year,month,day);\n                }\n            }\n            else{\n                printf(\"2012.12.%lld\\n\",21+allday);\n            }\n\n        }\n\n        else{\n\n            int b[3];//year,month,day\n\n            for(int i=0;i<3;i++){\n                stringstream ss;\n                ss << vec[i];\n                ss >> b[i];\n            }\n\n            long long int allday = (b[0] % 1872000 * 365 + b[0]/4 - b[0]/100 + b[0]/400);\n\n            if(is_Leapyear(b[0])){\n                allday--;\n            }\n\n            for(int i=0;i<b[1]-1;i++){\n                if(is_Leapyear(b[0])){\n                    allday += leapmonths[i];\n                }\n                else{\n                    allday += months[i];\n                }\n            }\n\n            allday += b[2];\n\n            allday -= baseday;\n\n            allday %= 1872000;\n\n            int ba,ka,t,w,ki;\n\n            ba = allday/144000;\n\n            allday %= 144000;\n\n            ka = allday/7200;\n\n            allday %= 7200;\n\n            t = allday/360;\n\n            allday %= 360;\n\n            w = allday/20;\n\n            allday %= 20;\n\n            ki = allday;\n\n            printf(\"%d.%d.%d.%d.%d\\n\",ba,ka,t,w,ki);\n        }\n\n    }\n\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<tuple>\n#include<string>\n#include<vector>\nusing namespace std;\nlong long p1[13][33], p2[13][33], V[401];\ntuple<long long, long long, long long>x[13][20][20][18][20];\ntuple<long long, long long, long long, long long, long long>xx[1872000];\nvoid init() {\n\tfor (int i = 0; i < 429; i++) { p1[i / 33][i % 33] = -1; p2[i / 33][i % 33] = -1; }\n\tlong long CNTS = 0;\n\tfor (int i = 1; i <= 12; i++) {\n\t\tlong long V = 31; if ((i <= 6 && i % 2 == 0) || (i >= 9 && i % 2 == 1))V = 30;\n\t\tif (i == 2)V = 28;\n\t\tfor (int j = 1; j <= V; j++) { p1[i][j] = CNTS; CNTS++; }\n\t}\n\tCNTS = 0;\n\tfor (int i = 1; i <= 12; i++) {\n\t\tlong long V = 31; if ((i <= 6 && i % 2 == 0) || (i >= 9 && i % 2 == 1))V = 30;\n\t\tif (i == 2)V = 29;\n\t\tfor (int j = 1; j <= V; j++) { p2[i][j] = CNTS; CNTS++; }\n\t}\n\tfor (int i = 1; i <= 400; i++) {\n\t\tlong long II = i - 1;\n\t\tif (II % 4 == 0 && (II % 100 >= 1 || II % 400 == 0))V[i] = V[i - 1] + 366;\n\t\telse { V[i] = V[i - 1] + 365; }\n\t}\n\tCNTS = 0; long long yy = 2012, mm = 12, dd = 21;\n\tfor (int i = 0; i < 13; i++) {\n\t\tfor (int j = 0; j < 20; j++) {\n\t\t\tfor (int k = 0; k < 20; k++) {\n\t\t\t\tfor (int l = 0; l < 18; l++) {\n\t\t\t\t\tfor (int m = 0; m < 20; m++) {\n\t\t\t\t\t\tx[i][j][k][l][m] = make_tuple(yy, mm, dd);\n\t\t\t\t\t\txx[CNTS] = make_tuple(i, j, k, l, m);\n\t\t\t\t\t\tCNTS++; dd++;\n\t\t\t\t\t\tif (yy % 4 == 0 && (yy % 100 >= 1 || yy % 400 == 0)) {\n\t\t\t\t\t\t\tif (p2[mm][dd] == -1) { mm++; dd = 1; }\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse { if (p1[mm][dd] == -1) { mm++; dd = 1; } }\n\t\t\t\t\t\tif (mm == 13) { mm = 1; yy++; }\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\nlong long DayCount(long long y, long long m, long long d) {\n\tlong long DD = 0; if (y % 4 == 0) { DD = p2[m][d]; }\n\telse { DD = p1[m][d]; }\n\treturn (V[400] * (y / 400) + V[y % 400]) + DD;\n}\ntuple<long long, long long, long long> MayaWest(long long I, long long J, long long K, long long L, long long M) {\n\treturn x[I][J][K][L][M];\n}\ntuple<long long, long long, long long, long long, long long>WestMaya(long long I, long long J, long long K) {\n\tlong long X = (DayCount(I, J, K) - DayCount(2012, 12, 21)) % 1872000;\n\treturn xx[X];\n}\nint main() {\n\tinit();\n\twhile (true) {\n\t\tstring S; cin >> S; if (S == \"#\")break; S += '.';\n\t\tvector<long long>Vec; string T = \"\";\n\t\tfor (int i = 0; i < S.size(); i++) {\n\t\t\tif (S[i] == '.') { Vec.push_back(stoi(T)); T = \"\"; }\n\t\t\telse { T += S[i]; }\n\t\t}\n\t\tif (Vec.size() == 3) {\n\t\t\ttuple<long long, long long, long long, long long, long long>ans = WestMaya(Vec[0], Vec[1], Vec[2]);\n\t\t\tcout << get<0>(ans) << '.' << get<1>(ans) << '.' << get<2>(ans) << '.' << get<3>(ans) << '.' << get<4>(ans) << endl;\n\t\t}\n\t\tif (Vec.size() == 5) {\n\t\t\ttuple<long long, long long, long long>ans = MayaWest(Vec[0], Vec[1], Vec[2], Vec[3], Vec[4]);\n\t\t\tcout << get<0>(ans) << '.' << get<1>(ans) << '.' << get<2>(ans) << endl;\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <string>\n#include <vector>\n#include <iostream>\n\nusing namespace std;\n\nbool is_leap(int y)\n{\n\treturn y % 400 == 0 || (y % 4 == 0 && y % 100 != 0);\n}\n\nlong long countday(int y, int m, int d)\n{\n\tlong long daycount = 0;\n\n\tfor (int i = 1; i < y; i++)\n\t{\n\t\tif (is_leap(i))\n\t\t{\n\t\t\tdaycount += 366;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tdaycount += 365;\n\t\t}\n\t}\n\n\tfor (int i = 1; i < m; i++)\n\t{\n\t\tif (i == 2 && is_leap(y) == false)\n\t\t{\n\t\t\tdaycount += 28;\n\t\t}\n\t\telse if (i == 2)\n\t\t{\n\t\t\tdaycount += 29;\n\t\t}\n\t\telse if (i == 4 || i == 6 || i == 9 || i == 11)\n\t\t{\n\t\t\tdaycount += 30;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tdaycount += 31;\n\t\t}\n\t}\n\n\tdaycount += d;\n\n\treturn daycount;\n}\n\nvector<int> to_day(int daycount)\n{\n\tint y = 1, m = 1, d = 0;\n\n\tfor (int i = 0; i < daycount; i++)\n\t{\n\t\td++;\n\n\t\tif (m == 2)\n\t\t{\n\t\t\tif (is_leap(y) == true)\n\t\t\t{\n\t\t\t\tif (d == 30)\n\t\t\t\t{\n\t\t\t\t\tm = 3; d = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (d == 29)\n\t\t\t\t{\n\t\t\t\t\tm = 3; d = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse if (m == 4 || m == 6 || m == 9 || m == 11)\n\t\t{\n\t\t\tif (d == 31)\n\t\t\t{\n\t\t\t\tm++; d = 1;\n\t\t\t}\n\t\t}\n\t\telse if(m == 12)\n\t\t{\n\t\t\tif (d == 32)\n\t\t\t{\n\t\t\t\ty++; m = 1; d = 1;\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (d == 32)\n\t\t\t{\n\t\t\t\tm++; d = 1;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn{ y, m, d };\n}\n\nint main()\n{\n\tstring S;\n\n\twhile (true)\n\t{\n\t\tcin >> S;\n\n\t\tif (S == \"#\") { break; }\n\n\t\tint dotcount = 0;\n\n\t\tfor (int i = 0; i < S.size(); i++)\n\t\t{\n\t\t\tif (S[i] == '.')\n\t\t\t{\n\t\t\t\tdotcount++;\n\t\t\t}\n\t\t}\n\n\t\tif (dotcount == 2)\n\t\t{\n\t\t\tint y = 0, m = 0, d = 0;\n\n\t\t\tint i = 0;\n\n\t\t\twhile (true)\n\t\t\t{\n\t\t\t\tif (S[i] == '.')\n\t\t\t\t{\n\t\t\t\t\ti++; break;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\ty *= 10; y += (S[i] - 48);\n\n\t\t\t\ti++;\n\t\t\t}\n\n\t\t\twhile (true)\n\t\t\t{\n\t\t\t\tif (S[i] == '.')\n\t\t\t\t{\n\t\t\t\t\ti++; break;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tm *= 10; m += (S[i] - 48);\n\n\t\t\t\ti++;\n\t\t\t}\n\n\t\t\twhile (i < S.size())\n\t\t\t{\n\t\t\t\td *= 10; d += (S[i] - 48);\n\n\t\t\t\ti++;\n\t\t\t}\n\n\t\t\tlong long daycount = countday(y, m, d) - 734858;\n\n\t\t\tcout << (daycount / 144000) % 13 << '.' << (daycount / 7200) % 20 << '.' << (daycount / 360) % 20 << '.' << (daycount / 20) % 18 << '.' << daycount % 20 << endl;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tint b = 0, ka = 0, t = 0, w = 0, ki = 0;\n\n\t\t\tint i = 0;\n\n\t\t\twhile (true)\n\t\t\t{\n\t\t\t\tif (S[i] == '.')\n\t\t\t\t{\n\t\t\t\t\ti++; break;\n\t\t\t\t}\n\n\t\t\t\tb *= 10; b += (S[i] - 48);\n\n\t\t\t\ti++;\n\t\t\t}\n\t\t\t\n\t\t\twhile (true)\n\t\t\t{\n\t\t\t\tif (S[i] == '.')\n\t\t\t\t{\n\t\t\t\t\ti++; break;\n\t\t\t\t}\n\n\t\t\t\tka *= 10; ka += (S[i] - 48);\n\n\t\t\t\ti++;\n\t\t\t}\n\n\t\t\twhile (true)\n\t\t\t{\n\t\t\t\tif (S[i] == '.')\n\t\t\t\t{\n\t\t\t\t\ti++;  break;\n\t\t\t\t}\n\n\t\t\t\tt *= 10; t += (S[i] - 48);\n\n\t\t\t\ti++;\n\t\t\t}\n\n\t\t\twhile (true)\n\t\t\t{\n\t\t\t\tif (S[i] == '.')\n\t\t\t\t{\n\t\t\t\t\ti++; break;\n\t\t\t\t}\n\n\t\t\t\tw *= 10; w += (S[i] - 48);\n\n\t\t\t\ti++;\n\t\t\t}\n\n\t\t\twhile (i < S.size())\n\t\t\t{\n\t\t\t\tki *= 10; ki += (S[i] - 48);\n\n\t\t\t\ti++;\n\t\t\t}\n\n\t\t\tint daycount = b * 144000 + ka * 7200 + t * 360 + w * 20 + ki + 734858;\n\n\t\t\tvector<int> west = to_day(daycount);\n\n\t\t\tcout << west[0] << '.' << west[1] << '.' << west[2] << endl;\n\t\t}\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 0x3f3f3f3f\n\n#include <iostream>\n#include <cstdio>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n  \nusing namespace std;\n  \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P> PP;\n  \nstatic const double EPS = 1e-8;\n  \nstatic const int tx[] = {0,1,0,-1};\nstatic const int ty[] = {-1,0,1,0};\n\nvector<string> split(string delim,string str){\n  vector<string> res;\n  str += delim;\n  for(int i=0;i<str.size();i++){\n    for(int j=1;i+j<=str.size();j++){\n      if(str.substr(i,j).find(delim) != string::npos){\n        if(str.substr(i,j-1).size() >0 ) res.push_back(str.substr(i,j-1));\n        i+=j-1;\n        break;\n      }\n    }\n  }\n  return res;\n}\n\nstatic const int days_per_month[] = {0,31,28,31,30,31,30,31,31,30,31,30,31};\n\nbool is_leap_year(int year){\n  if(year % 4 == 0){\n    if(year % 100 != 0) return true;\n    if(year % 400 == 0) return true;\n  }\n  return false;\n}\n\nstring maya2christ(ll passed_day){\n  passed_day += 355;\n  int year = 2012;\n  for(int prev = 2012; prev <= 10000000; prev++){\n    if(is_leap_year(prev) && passed_day - 366 > 0){\n      passed_day -= 366LL;\n    }\n    else if(!is_leap_year(prev) && passed_day - 365 > 0){\n      passed_day -= 365LL;\n    }\n    else{\n      break;\n    }\n    year = prev + 1;\n  }\n\n  int month = 1;\n  for(int prev = 1; prev < 12; prev++){\n    if(is_leap_year(year) && prev == 2\n       && passed_day - (days_per_month[prev] + 1) > 0){\n      passed_day -= (days_per_month[prev] + 1);\n    }\n    else if(passed_day - days_per_month[prev] > 0){\n      passed_day -= days_per_month[prev];\n    }\n    else{\n      break;\n    }\n    month = prev + 1;\n  }\n  int day = passed_day + 1;\n  stringstream ss;\n  ss << year << \".\" << month << \".\" << day;\n  return ss.str();\n}\n\nstring christ2maya(ll passed_day){\n  passed_day %= 13*20*20*18*20;\n  ll b = passed_day / (20*20*18*20);\n  passed_day %= (20*20*18*20);\n\n  ll ka = passed_day / (20*18*20);\n  passed_day %= (20*18*20);\n\n  ll t = passed_day / (18*20);\n  passed_day %= (18*20);\n\n  ll w = passed_day / 20;\n  passed_day %= 20;\n  \n  ll ki = passed_day;\n  stringstream ss;\n  ss << b << \".\" << ka << \".\" << t << \".\" << w << \".\" << ki;\n  return ss.str();\n}\n\nint main(){\n  string str;\n  while(cin >> str){\n    if(str == \"#\") break;\n    int total_dots = count(str.begin(),str.end(),'.');\n    if(total_dots == 2){\n      //after christ\n      vector<string> elements = split(\".\",str);\n      ll year = atol(elements[0].c_str());\n      ll month = atol(elements[1].c_str());\n      ll day = atol(elements[2].c_str());\n\n      ll passed_day = 0;\n      for(ll prev = 2012; prev < year; prev++){\n        passed_day += (is_leap_year(prev) ? 366LL : 365LL);\n      }\n\n      for(ll prev = 1; prev < month; prev++){\n        if(is_leap_year(year) && prev == 2){\n          passed_day++;\n        }\n        passed_day += days_per_month[prev];\n      }\n      for(ll prev = 1; prev < day; prev++){\n        passed_day++;\n      }\n      passed_day -= 355LL; //2012.01.01 - 2012.12.20\n      cout << christ2maya(passed_day) << endl;\n    }\n    else{\n      //maya\n      vector<string> elements = split(\".\",str);\n      ll b = atol(elements[0].c_str());\n      ll ka = atol(elements[1].c_str());\n      ll t = atol(elements[2].c_str());\n      ll w = atol(elements[3].c_str());\n      ll ki = atol(elements[4].c_str());\n\n      ll passed_day = b * (20*20*18*20) + ka * (20*18*20) + t * (18*20) + w * 20 + ki;\n      cout << maya2christ(passed_day) << endl;\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <map>\n#include <cstring>\n#include <string>\n#include <stack>\n#include <queue>\n#include <cmath>\n#include <cstdlib>\n#include <cstdio>\n#include <algorithm>\n#include <sstream>\n#include <set>\nusing namespace std;\n\n#define rep(i,n) for(int i=0;i<(int)n;i++)\n#define repp(i,k,n) for(int i=k;i<(int)n;i++)\n#define rei(n) for(int i=0;i<(int)n;i++)\n#define rel(n) for(int l=0;l<(int)n;l++)\n#define al(s) s.begin(),s.end()\n#define INT_MAX 2147483647\n\nstruct Calendar\n{\npublic:\n\tlong long year;\n\tlong long month;\n\tlong long day;\n\tCalendar(long long y, long long m, long long d)\n\t{\n\t\tyear = y;\n\t\tmonth = m;\n\t\tday = d;\n\t}\n\tCalendar()\n\t{\n\n\t}\n\tint uruu()\n\t{\n\t\tif (year % 4 == 0)\n\t\t{\n\t\t\tif (year % 400 != 0 && year % 100 == 0)\n\t\t\t{\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t}\n\t\treturn 0;\n\t}\n\tint uruu(long long y)\n\t{\n\t\tif (y % 4 == 0)\n\t\t{\n\t\t\tif (y % 400 != 0 && y % 100 == 0)\n\t\t\t{\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t}\n\t\treturn 0;\n\t}\n\tlong long pday(long long d)\n\t{\n\t\tday += d;\n\t\tfor (;;month++)\n\t\t{\n\t\t\tif (month >= 13)\n\t\t\t{\n\t\t\t\tyear++;\n\t\t\t\tmonth = 1;\n\t\t\t}\n\n\t\t\tif (data[uruu()][month] < day)\n\t\t\t{\n\t\t\t\tday -= data[uruu()][month];\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tpmonth(0);\n\t\treturn d;\n\t}\n\tlong long pmonth(long long m)\n\t{\n\t\tmonth += m;\n\t\tfor (;; year++)\n\t\t{\n\t\t\tif (month > 12)\n\t\t\t{\n\t\t\t\tmonth -= 12;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn m;\n\t}\n\tlong long pyear(long long y)\n\t{\n\t\tyear += y;\n\t\treturn y;\n\t}\n\tlong long dif(Calendar c)\n\t{\n\t\tlong long ans = 0;\n\t\tCalendar a(year,month,day);\n\t\tif (a.year > c.year)swap(a, c);\n\t\tans -= a.day;\n\t\tans += c.day;\n\t\ta.day = 0;\n\t\tc.day = 0;\n\t\tfor (; a.month >= 1; a.month--)\n\t\t{\n\t\t\tans -= data[a.uruu()][a.month];\n\t\t}\n\t\tfor (; c.month >= 1; c.month--)\n\t\t{\n\t\t\tans += data[c.uruu()][c.month];\n\t\t}\n\t\tfor (; a.year != c.year; a.year++)\n\t\t{\n\t\t\tans += 365;\n\t\t\tif (a.uruu())ans++;\n\t\t}\n\t\treturn ans;\n\t}\n\t\nprotected:\n\tlong long data[2][13] = { {0,31,28,31,30,31,30,31,31,30,31,30,31}\n\t\t\t\t\t   ,{0,31,29,31,30,31,30,31,31,30,31,30,31} };\n};\n\n\n\n\n\n\nint main()\n{\n\tstring a;\n\twhile (1)\n\t{\n\t\tgetline(cin, a);\n\t\tif (a.find(\"#\") != string::npos)break;\n\t\tint coun = 0;\n\t\tfor (int i = 0; i < a.size(); i++)\n\t\t{\n\t\t\tif (a[i] == '.')coun++;\n\t\t}\n\t\tif (coun == 2)\n\t\t{\n\t\t\tstring Y[3];\n\t\t\tint j = 0;\n\t\t\tfor (int i = 0; i < a.size(); i++)\n\t\t\t{\n\t\t\t\tif (a[i] == '.')j++;\n\t\t\t\telse Y[j] += a[i];\n\t\t\t}\n\t\t\tlong long y, m, d;\n\t\t\ty = atoi(Y[0].c_str());\n\t\t\tm = atoi(Y[1].c_str());\n\t\t\td = atoi(Y[2].c_str());\n\n\t\t\tCalendar A(y,m,d), B(2012,12,21);\n\t\t\tlong long def = B.dif(A);\n\t\t\t\n\t\t\tif(def<0)\n\t\t\t{\n\t\t\t\tint b, ka, t, w, ki;\n\t\t\t\tb = 12;\n\t\t\t\tka = 19;\n\t\t\t\tt = 19;\n\t\t\t\tw = 17;\n\t\t\t\tki = 20;\n\t\t\t\tdef *= -1;\n\t\t\t\tka -= def / (1872000 / 13 / 20);\n\t\t\t\tdef %= 1872000 / 13 / 20;\n\n\t\t\t\tt -= def / (1872000 / 13 / 20 / 20);\n\t\t\t\tdef %= 1872000 / 13 / 20 / 20;\n\n\t\t\t\tw -= def / (1872000 / 13 / 20 / 20 / 18);\n\t\t\t\tdef %= 1872000 / 13 / 20 / 20 / 18;\n\n\t\t\t\tki -= def / (1872000 / 13 / 20 / 20 / 18 / 20);\n\n\t\t\t\tcout << b << \".\" << ka << \".\" << t << \".\" << w << \".\" << ki << endl;\n\t\t\t\t\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tdef %= 1872000;\n\t\t\t\tint ans = 0;\n\n\t\t\t\tans = def / (1872000 / 13);\n\t\t\t\tdef %= 1872000 / 13;\n\t\t\t\tcout << ans << \".\";\n\n\t\t\t\tans = def / (1872000 / 13 / 20);\n\t\t\t\tdef %= 1872000 / 13 / 20;\n\t\t\t\tcout << ans << \".\";\n\n\t\t\t\tans = def / (1872000 / 13 / 20 / 20);\n\t\t\t\tdef %= 1872000 / 13 / 20 / 20;\n\t\t\t\tcout << ans << \".\";\n\n\t\t\t\tans = def / (1872000 / 13 / 20 / 20 / 18);\n\t\t\t\tdef %= 1872000 / 13 / 20 / 20 / 18;\n\t\t\t\tcout << ans << \".\";\n\n\t\t\t\tans = def / (1872000 / 13 / 20 / 20 / 18 / 20);\n\t\t\t\tcout << ans << endl;\n\t\t\t\tcontinue;\n\n\n\t\t\t}\n\n\t\t}\n\t\telse\n\t\t{\n\t\t\tstring Y[5];\n\t\t\tint j = 0;\n\t\t\tfor (int i = 0; i < a.size(); i++)\n\t\t\t{\n\t\t\t\tif (a[i] == '.')j++;\n\t\t\t\telse Y[j] += a[i];\n\t\t\t}\n\t\t\tj = 0;\n\t\t\tCalendar c(2012, 12, 21);\n\t\t\tint h = atoi(Y[0].c_str());\n\t\t\tint g = atoi(Y[1].c_str());\n\t\t\tg += h * 20;\n\t\t\th = atoi(Y[2].c_str());\n\t\t\th += g * 20;\n\t\t\tg = atoi(Y[3].c_str());\n\t\t\tg += h * 18;\n\t\t\th = atoi(Y[4].c_str());\n\t\t\th += g * 20;\n\n\t\t\tc.pday(h);\n\t\t\t\n\t\t\tcout << c.year << \".\" << c.month << \".\" << c.day << endl;\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define ll long long\nll getDays(ll y,ll m,ll d){\n\tif(m<=2){\n\t\ty--;\n\t\tm+=12;\n\t}\n\tll dy=365*(y-1);\n\tll c=y/100;\n\tll dl=(y>>2)-c+(c>>2);\n\tll dm=(m*979-1033)>>5;\n\treturn dy+dl+dm+d-1;\n}\nint main(){\n\tfor(string s;cin>>s,(s!=\"#\");){\n\t\tif(count(s.begin(),s.end(),'.')==2){\n\t\t\tint y,m,d;\n\t\t\tsscanf(s.c_str(),\"%d.%d.%d\",&y,&m,&d);\n\t\t\tll days=getDays(y,m,d)-getDays(2012,12,21);\n\t\t\tdays%=20*18*20*20*13;\n\t\t\tint b,ka,t,w,ki,wei=20*18*20*20;\n\t\t\tb=days/wei;days%=wei;wei/=20;\n\t\t\tka=days/wei;days%=wei;wei/=20;\n\t\t\tt=days/wei;days%=wei;wei/=18;\n\t\t\tw=days/wei;days%=wei;wei/=20;\n\t\t\tki=days/wei;days%=wei;\n\t\t\tcout<<b<<\".\"<<ka<<\".\"<<t<<\".\"<<w<<\".\"<<ki<<\"\\n\";\n\t\t}\n\t\telse{\n\t\t\tint b,ka,t,w,ki;\n\t\t\tsscanf(s.c_str(),\"%d.%d.%d.%d.%d\",&b,&ka,&t,&w,&ki);\n\t\t\tint days = 0;\n\t\t\tint wei = 1;\n\t\t\tdays += wei * ki; wei *= 20;\n\t\t\tdays += wei * w;  wei *= 18;\n\t\t\tdays += wei * t;  wei *= 20;\n\t\t\tdays += wei * ka; wei *= 20;\n\t\t\tdays += wei * b;  wei * 13;\n\t\t\tint y = 2012 , m = 12 , d = 21;\n\t\t\tint table[] = {-1,31,28,31,30,31,30,31,31,30,31,30,31};\n\t\t\twhile(days--){\n\t\t\t\td++;\n\t\t\t\tif( d > table[m] + (m == 2 && ( y % 400 == 0 || (y % 4 == 0 && y % 100 != 0)) ) ){\n\t\t\t\t\tm++;\n\t\t\t\t\td = 1;\n\t\t\t\t}\n\t\t\t\tif( m > 12 ){\n\t\t\t\t\ty++;\n\t\t\t\t\tm = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tcout << y << \".\" << m << \".\" << d << endl;\n\t\t}\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <stdio.h>\n#include <sstream>\n#include <string>\n#include <vector>\n#include <map>\n#include <queue>\n#include <algorithm>\n#include <set>\n#include <math.h>\n#include <utility>\n#include <stack>\n#include <string.h>\n#include <complex>\nusing namespace std;\nconst int INF = 1<<29;\nconst double EPS = 1e-8;\ntypedef vector<int> vec;\ntypedef vector<vec> mat;\ntypedef pair<int,int> P;\nstruct edge{int to,cost;};\n\nconst int dx[] = {0,0,1,-1};\nconst int dy[] = {1,-1,0,0};\n\nvec split(string& str){\n    vec ret;\n    int p=1;\n    int part = 0;\n    for(int i=str.size()-1;i>=0;i--){\n        if(str[i]=='.'){\n            ret.push_back(part);\n            part = 0;\n            p = 1;\n        }else{\n            part += p * (str[i]-'0');\n            p *= 10;\n        }\n    }\n    ret.push_back(part);\n    return ret;\n}\n\nint main(){\n    int dl_2012 = 2012/4 - 2012/100 + 2012/400;\n    int dm_12 = (12 * 979 - 1033) >> 5;\n    int maya_cosnt[] = {20, 18, 20, 20};\n    int day_m[12] = {31,28,31,30,31,30,31,31,30,31,30,31};\n    string input;\n    while(cin >> input, input!=\"#\"){\n        vec v = split(input);\n        if(v.size()==3){\n            long long int dy = (long long int)(v[2] - 2012) * 365;\n            long long int dl = v[2]/4 - v[2]/100 + v[2]/400 - dl_2012;\n            long long int dm = ((v[1] * 979 - 1033) >> 5) - dm_12;\n            long long int d = dy + dl + dm + v[0] - 21;\n            vec maya(5);\n            for(int i=0;i<4;i++){\n                maya[i] = d % maya_cosnt[i];\n                d /= maya_cosnt[i];\n            }\n            maya[4] = d % 13;\n            cout << maya[4];\n            for(int i=3;i>=0;i--){\n                cout << '.' << maya[i];\n            }\n            cout << endl;\n        }else{\n            long long int dd = 0;\n            long long int p = 1;\n            for(int i=0;i<5;i++){\n                dd += v[i] * p;\n                if(i<4) p *= maya_cosnt[i];\n            }\n            int y = 2012, m = 12, d = 21;\n            if(dd>11){\n                y = 2013;\n                m = 1;\n                d = 1;\n                dd -= 11;\n            }\n            while(1){\n                bool change = false;\n                int pre_y = y;\n                y += dd/365;\n                dd = dd%365 - (y/4 - y/100 + y/400) + (pre_y/4 - pre_y/100 + pre_y/400);\n                if(pre_y==y)break;\n            }\n            if(dd<0){\n                y -= 1;\n                bool uruu = y%4==0&&(y%100!=0||y%400==0);\n                dd += uruu ? 366 : 365;\n            }\n            while(dd>0){\n                bool uruu = y%4==0&&(y%100!=0||y%400==0);\n                if(dd >= 366&&uruu){\n                    y += 1;\n                    dd -= 366;\n                    continue;\n                }else if(dd>=365){\n                    y += 1;\n                    dd -= 365;\n                    continue;\n                }\n                if(uruu) day_m[1] = 29;\n                else day_m[1] = 28;\n                if(dd + d > day_m[m-1]){\n                    dd -= (day_m[m-1] - d) + 1;\n                    d = 1;\n                    m = m == 12 ? 1 : m + 1;\n                }else{\n                    d += dd;\n                    dd = 0;\n                }\n                //cout << y << \".\" << m << \".\" << d << endl;\n            }\n            cout << y << \".\" << m << \".\" << d << endl;\n        }\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define int long long\nchar s[16];\nint month[13]={0,31,28,31,30,31,30,31,31,30,31,30,31};\nbool leap_year(int y){\n    return y%400==0||(y%100&&y%4==0);\n}\nchar ret[32];\nstring mayan_to_ad(){\n    int b,ka,t,w,ki;\n    int y,m,d;\n    sscanf(s,\"%lld.%lld.%lld.%lld.%lld\",&b,&ka,&t,&w,&ki);\n    int dki=(((b*20+ka)*20+t)*18+w)*20+ki;\n    if(dki<=10){\n        y=2012;\n        m=12;\n        d=31;\n    }\n    else{\n        dki-=10;\n        for(int yy=2013;;yy++){\n            for(int mm=1;mm<=12;mm++){\n                int tmp=(leap_year(yy)&&mm==2);\n                for(int dd=1;dd<=month[mm]+tmp;dd++){\n                    dki--;\n                    if(dki==0){\n                        y=yy;m=mm;d=dd;\n                        goto end;\n                    }\n                }\n            }\n        }\n    }\n    end:;\n\n    sprintf(ret,\"%lld.%lld.%lld\",y,m,d);\n    return ret;\n}\nstring ad_to_mayan(){\n    int y,m,d,b,ka,t,w,ki;\n    int leap=0;\n    sscanf(s,\"%lld.%lld.%lld\",&y,&m,&d);\n    for(int i=2013;i<y;i++)if(leap_year(i))leap++;\n    if(leap_year(y)&&m>2)leap++;\n    int dy=365*max(0ll,y-2013)+leap;\n    if(y>2012){\n        dy+=10;\n        for(int i=1;i<=m;i++){\n            if(i==m)dy+=d;\n            else dy+=month[i];\n        }\n    }\n    else dy=d-21;\n    dy%=20*20*20*18*13;\n    b=dy/(20*20*20*18);dy%=20*20*20*18;\n    ka=dy/(20*18*20);dy%=20*18*20;\n    t=dy/(18*20);dy%=18*20;\n    w=dy/20;dy%=20;\n    ki=dy;\n    sprintf(ret,\"%lld.%lld.%lld.%lld.%lld\",b,ka,t,w,ki);\n    return ret;\n}\nsigned main(){\n    while(cin>>s,s[0]!='#'){\n        int cnt=0;\n        for(int i=0;s[i];i++)if(s[i]=='.')cnt++;\n        string ans;\n        if(cnt==2)ans=ad_to_mayan();\n        else ans=mayan_to_ad();\n        cout<<ans<<endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "\n\n#include <bits/stdc++.h>\nusing namespace std;\n\n#define in ,\n#define esc_paren(...) __VA_ARGS__\n#define pp_empty(...)\n#define pp_cat_i(x, y) x ## y\n#define pp_cat(x, y) pp_cat_i(x, y)\n\n#define pp_inc0 1\n#define pp_inc1 2\n#define pp_inc2 3\n#define pp_inc3 4\n#define pp_inc4 5\n#define pp_inc5 6\n#define pp_inc6 7\n#define pp_inc7 8\n#define pp_inc8 9\n#define pp_inc(i) pp_cat(pp_inc, i)\n\n#define pp_arg10(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, ...) _9\n#define pp_has_comma(...) pp_arg10(__VA_ARGS__, 1, 1, 1, 1, 1, 1, 1, 1, 0)\n#define pp_trigger_paren(...) ,\n#define pp_is_empty(...) \\\n  pp_is_empty1( \\\n      pp_has_comma(__VA_ARGS__), \\\n      pp_has_comma(pp_trigger_paren __VA_ARGS__), \\\n      pp_has_comma(__VA_ARGS__()), \\\n      pp_has_comma(pp_trigger_paren __VA_ARGS__()) \\\n      ) \n#define pp_paste5(_0, _1, _2, _3, _4) _0 ## _1 ## _2 ## _3 ## _4\n#define pp_is_empty1(_0, _1, _2, _3) pp_has_comma(pp_paste5(pp_is_empty_case_, _0, _1, _2, _3))\n#define pp_is_empty_case_0001 ,\n\n#define pp_is_one(...) pp_is_one_(__VA_ARGS__, pp_one_seq)\n#define pp_is_one_(...) pp_is_one_n(__VA_ARGS__)\n#define pp_is_one_n(_1,_2,_3,_4,_5,_6,_7,_8,_9,_10, N, ...) N\n#define pp_one_seq 0,0,0,0,0,0,0,0,0,1,0\n\n#define pp_narg(...) \\\n         pp_narg_(__VA_ARGS__, pp_narg_seq)\n#define pp_narg_(...) \\\n         pp_narg_n(__VA_ARGS__)\n#define pp_narg_n( \\\n          _1, _2, _3, _4, _5, _6, _7, _8, _9,_10, \\\n         _11,_12,_13,_14,_15,_16,_17,_18,_19,_20, \\\n         _21,_22,_23,_24,_25,_26,_27,_28,_29,_30, \\\n         _31,_32,_33,_34,_35,_36,_37,_38,_39,_40, \\\n         _41,_42,_43,_44,_45,_46,_47,_48,_49,_50, \\\n         _51,_52,_53,_54,_55,_56,_57,_58,_59,_60, \\\n         _61,_62,_63,n,...) n\n#define pp_narg_seq \\\n         63,62,61,60, \\\n         59,58,57,56,55,54,53,52,51,50, \\\n         49,48,47,46,45,44,43,42,41,40, \\\n         39,38,37,36,35,34,33,32,31,30, \\\n         29,28,27,26,25,24,23,22,21,20, \\\n         19,18,17,16,15,14,13,12,11,10, \\\n          9, 8, 7, 6, 5, 4, 3, 2, 1, 0\n\n#define pp_if_0(x, y) y\n#define pp_if_1(x, y) x\n#define pp_if(cond, x, y) pp_cat(pp_if_, cond)(x, y)\n\n#define pp_foreach_i9(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i8(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i7(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i6(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i5(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i4(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i3(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i2(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i1(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i0(i, f, x, ...) f(x) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach_i(i, f, ...) pp_if(pp_is_empty(__VA_ARGS__), pp_empty, pp_cat(pp_foreach_i, i))(pp_inc(i), f, __VA_ARGS__)\n#define pp_foreach(f, ...) pp_foreach_i(0, f, __VA_ARGS__)\n\n\ntypedef long long ll;\n#define down_queue(x) priority_queue<x>\n#define up_queue(x) priority_queue<x, vector<x>, greater<x>>\n#define all(x) x.begin(), x.end()\n#define split_str(str, sp_word) istringstream stream(str); string res; for(int cnt = 0; getline(stream,res,sp_word); cnt++)\n#define digit(x) ((int)log10((double)(x)) + 1)\n#define mp(x,y) make_pair(x,y)\n#define pb(x) push_back(x)\n#define pf(x) push_front(x)\n#define vec_cpy(to,from) copy(all(to),back_inserter(from))\n#define ary_cpy(to,from) memcpy(to, from, sizeof(from))\n#define MOD 1000000007\n#define INF 999999999\n\n\n#define rep(...) rep1(rep2, (__VA_ARGS__))\n#define rep1(X, A) X A\n#define rep2(i, ...) pp_if(pp_is_one(__VA_ARGS__), rep_len1(i, __VA_ARGS__), rep3(i, __VA_ARGS__))\n#define rep_len1(i, end, ...) for (int i = 0; i < end; i++)\n#define rep3(i, iter, ...) rep4(rep5, (iter, i, esc_paren __VA_ARGS__))\n#define rep4(X, A) X A\n#define rep5(iter, ...) iter(__VA_ARGS__)\n\n#define up up_iter ,\n#define up_iter3(i, start, end) for (int i = start; i < end; i++)\n#define up_iter4(i, start, end, up) for (int i = start; i < end; i += up)\n#define up_iter(...) pp_cat(up_iter, pp_narg(__VA_ARGS__))(__VA_ARGS__)\n#define down down_iter ,\n#define down_iter2(i, end) for(int i = end-1; i >= 0; i--)\n#define down_iter3(i, start, end) for (int i = end-1; i >= start; i--)\n#define down_iter4(i, start, end, down) for (int i = end-1; i >= start; i -= down)\n#define down_iter(...) pp_cat(down_iter, pp_narg(__VA_ARGS__))(__VA_ARGS__)\n#define viter viter_iter ,\n#define viter_iter(i, v) auto tmpitr=v.begin(); for (auto i=*tmpitr; tmpitr != v.end(); tmpitr++)\n\n\n#define pp_init2(cnt, body) struct _InitStruct ## cnt { _InitStruct ## cnt() { body } } _initstruct ## cnt;\n#define pp_init1(f, cnt, body) f(cnt, body)\n#define pp_init(body) pp_init1(pp_init2, __COUNTER__, body)\n\n#define init_array(arr, N, val) pp_init(rep (i in N) { arr[i] = val; })\n#define iota_array(arr, N, start) pp_init(rep (i in N) { arr[i] = start + i; })\n\n\n#define debug_var_elem(v) << #v << \"=\" << v << \" \"\n#ifdef DEBUG\n#define debug_echo(e) cout << \"L\" << __LINE__ << \": \" << e << endl\n#define debug_var(...) cout << \"L\" << __LINE__ << \": \" pp_foreach(debug_var_elem, __VA_ARGS__) << endl\n#else\n#define debug_echo(e)\n#define debug_var(...)\n#endif\n\n\n#define pp_gen_field(list) pp_gen_field1 list\n#define pp_gen_field1(name, val) decltype(val) name;\n#define pp_gen_init(list) pp_gen_init1 list\n#define pp_gen_init1(name, val) ,val\n#define pp_gen_find_set_wrap(ufnodename) ufnodename pp_gen_find_set\n#define pp_gen_find_set(list) pp_gen_find_set1 list\n#define pp_gen_find_set1(name, val) \\\n  find_set_ ## name(int x, decltype(val) v) { \\\n    if (nodes[x].parent == x) { \\\n      nodes[x].name = v; \\\n      return nodes[x]; \\\n    } else { \\\n      return nodes[x] = find_set_ ## name(nodes[x].parent, v); \\\n    } \\\n  }\n#define pp_gen_unite_set(list) pp_gen_unite_set1 list\n#define pp_gen_unite_set1(name, val) \\\n  if (nodes[x].name == val) { \\\n    find_set_ ## name(x, find(y).name); \\\n  } \\\n  if (nodes[y].name == val) { \\\n    find_set_ ## name(y, find(x).name); \\\n  }\n\n#define def_unionfind(ufname, ufnodename, ...) \\\n  struct ufnodename { \\\n    int parent; \\\n    pp_foreach(pp_gen_field, __VA_ARGS__) \\\n  }; \\\n  struct ufname { \\\n    vector<ufnodename> nodes; \\\n    vector<int> rank; \\\n    ufname(int n) : nodes(n+1), rank(n+1) { \\\n      rep (i in n) { \\\n        nodes[i] = ufnodename{i pp_foreach(pp_gen_init, __VA_ARGS__)}; \\\n        rank[i] = 0; \\\n      } \\\n    } \\\n    ufnodename find(int x) { \\\n      if (nodes[x].parent == x) { \\\n        return nodes[x]; \\\n      } else { \\\n        return nodes[x] = find(nodes[x].parent); \\\n      } \\\n    } \\\n    pp_foreach(pp_gen_find_set_wrap(ufnodename), __VA_ARGS__) \\\n    void unite(int x, int y) { \\\n      x = find(x).parent; \\\n      y = find(y).parent; \\\n      if (x == y) return; \\\n      if (rank[x] < rank[y]) { \\\n        pp_foreach(pp_gen_unite_set, __VA_ARGS__); \\\n        nodes[x].parent = y; \\\n      } else { \\\n        pp_foreach(pp_gen_unite_set, __VA_ARGS__); \\\n        nodes[y].parent = x; \\\n        if (rank[x] == rank[y]) rank[x]++; \\\n      } \\\n    } \\\n    bool same(int x, int y) { \\\n      return find(x).parent == find(y).parent; \\\n    } \\\n  }\n\n\nll gcd(ll a,ll b){while(b){ll tmp = a % b;a = b;b = tmp;}return a;}\nll lcm(ll a,ll b){return a / gcd(a,b) * b;}\n\n#define def_varargs(name, f) \\\n  template<typename First> \\\n  inline First name(First first) { return first; } \\\n  template<typename First, typename... Rest> \\\n  inline First name(First first, Rest... rest) { return f(first, name(rest...)); }\n\nvector<string> split(const string &s, char delim) {\n    vector<string> elems;\n    string item;\n    for (char ch: s) {\n        if (ch == delim) {\n            if (!item.empty())\n                elems.push_back(item);\n            item.clear();\n        }\n        else {\n            item += ch;\n        }\n    }\n    if (!item.empty())\n        elems.push_back(item);\n    return elems;\n}\n\n#define KIN 1\n#define WINAL (KIN*20)\n#define TON (WINAL*18)\n#define KATON (TON*20)\n#define BAKTON (KATON*20)\n\nint months[] = {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\n\nbool is_uruu(ll year) {\n  return year % 4 == 0 && (year % 100 != 0 || year % 400 == 0);\n}\n\nstruct Seireki {\n  ll year;\n  ll month;\n  ll day;\n\n  void operator ++() {\n    if (is_uruu(year) && month == 2 && day == 28) {\n      day++;\n    } else if (is_uruu(year) && month == 2 && day == 29) {\n      month++;\n      day = 1;\n    } else {\n      if (day < months[month-1]) {\n        day++;\n      } else {\n        day = 1;\n        if (month == 12) {\n          month = 1;\n          year++;\n        } else {\n          month++;\n        }\n      }\n    }\n  }\n};\n\nSeireki to_seireki(ll byear, ll bmonth, ll bday, ll& alldays) {\n  ll year = byear;\n  while (true) {\n    ll sub = is_uruu(year) ? 366 : 365;\n    if (alldays - sub <= 0) break;\n    alldays -= sub;\n    year++;\n  }\n  ll month = bmonth;\n  while (true) {\n    ll sub = (month == 2 && is_uruu(year)) ? 29 : months[month-1];\n    if (alldays - sub < 0) {\n      break;\n    }\n    alldays -= sub;\n    month++;\n    if (month > 12) {\n      year++;\n      month = 1;\n    }\n  }\n  Seireki res = Seireki{year, month, 21};\n  rep (_ in alldays+1) {\n    ++res;\n  }\n  return res;\n}\n\nll to_days(ll byear, ll bmonth, ll bday, ll eyear, ll emonth, ll eday) {\n  ll days = -1;\n  rep (i in up(byear, eyear)) {\n    if (is_uruu(i)) {\n      days += 366;\n    } else {\n      days += 365;\n    }\n  }\n  rep (i in bmonth-1) {\n    if (i == 1 && is_uruu(byear)) {\n      days -= 29;\n    } else {\n      days -= months[i];\n    }\n  }\n  days -= bday - 1;\n  rep (i in emonth-1) {\n    if (i == 1 && is_uruu(eyear)) {\n      days += 29;\n    } else {\n      days += months[i];\n    }\n  }\n  days += eday;\n  return days;\n}\n\nint main() {\n  string s;\n  while (cin >> s && s[0] != '#') {\n    vector<string> elems = split(s, '.');\n    vector<ll> maya;\n    for (auto e : elems) {\n      maya.pb(stoi(e));\n    }\n    if (maya.size() == 3) {\n      ll days = to_days(2012, 12, 21, maya[0], maya[1], maya[2]);\n      days %= BAKTON * 13;\n      ll b = days / BAKTON; days %= BAKTON;\n      ll ka = days / KATON; days %= KATON;\n      ll t = days / TON; days %= TON;\n      ll wi = days / WINAL; days %= WINAL;\n      ll k = days / KIN; days %= KIN;\n      cout << b << \".\" << ka << \".\" << t << \".\" << wi << \".\" << k << endl;\n    } else {\n      ll alldays = 0;\n      alldays += maya[0] * BAKTON;\n      alldays += maya[1] * KATON;\n      alldays += maya[2] * TON;\n      alldays += maya[3] * WINAL;\n      alldays += maya[4] * KIN;\n      Seireki seireki = to_seireki(2012, 12, 21, alldays);\n      cout << seireki.year << \".\" << seireki.month << \".\" << seireki.day << endl;\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nbool f;\n\nvector<long long> perse(string s) {\n  vector<long long> res;\n  s += \".\";\n\n  long long n = 0;\n  for (int i = 0; i < s.size(); ++i) {\n    if (s[i] == '.') {\n      res.push_back(n);\n      n = 0;\n    } else {\n      n *= 10;\n      n += (s[i] - '0');\n    }\n  }\n\n  return res;\n}\n\nlong long ad(long long y, long long m, long long d) {\n  d += 365 * y;\n  vector<int> days{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\n  if (y % 400 == 0 || (y % 4 == 0 && y % 100 != 0)) days[1]++;\n  for (int i = 0; i < m; ++i) d += days[i];\n  for (int i = 0; i < y; i += 4) d += (i % 400 == 0 || (i % 4 == 0 && i % 100 != 0));\n  return d;\n}\n\nlong long ad(vector<long long> a) {\n  return ad(a[0], a[1], a[2]) - ad(2012, 12, 21);\n}\n\nlong long maya(vector<long long> v) {\n  for (int i = 0; i < v.size() - 1; ++i) {\n    v[i + 1] += v[i] * (i == 2 ? 18 : 20);\n  }\n\n  return v.back() + ad(2012, 11, 21);\n}\n\nlong long solve(string s) {\n  vector<long long> v = perse(s);\n  f = (v.size() == 3);\n\n  long long res;\n  if (f) {\n    res = ad(v);\n  } else {\n    res = maya(v);\n  }\n  return res;\n}\n\nvoid print(string s) {\n  long long n = solve(s);\n\n  if (f) {\n    int b, ka, t, w, ki;\n\n    ki = n % 20;\n    n /= 20;\n\n    w = n % 18;\n    n /= 18;\n\n    t = n % 20;\n    n /= 20;\n\n    ka = n % 20;\n    n/= 20;\n\n    b = n;\n\n    printf(\"%d.%d.%d.%d.%d\\n\", b % 13, ka, t, w, ki);\n  } else {\n    int y = 0, m, d;\n    while (true) {\n      bool leap = (y % 400 == 0 || (y % 4 == 0 && y % 100 != 0));\n      if (n <= 365 + leap) break;\n      y++;\n      n -= (365 + leap);\n    }\n\n    vector<int> days{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\n    if (y % 400 == 0 || (y % 4 == 0 && y % 100 != 0)) days[1]++;\n\n    for (int i = 0; i < 12; ++i) {\n      if (n <= days[i]) {\n        m = i + 1;\n        break;\n      }\n      n -= days[i];\n    }\n\n    d = n;\n\n    printf(\"%d.%d.%d\\n\", y, m, d);\n  }\n}\n\nint main() {\n  string s;\n\n  while (cin >> s, s != \"#\") {\n    print(s);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<string.h>\n#include<math.h>\nint main(void)\n{\n\tint a,s,d[6],g,h,i,j,c[6],q,w,v,aa;\n\tlong long int f;\n\tint z[13]={31,28,31,30,31,30,31,31,30,31,30,31};\n\tchar x[15];\n\twhile(1){\n\t\tscanf(\"%s\",x);\n\t\tif(x[0]=='#') break;\n\t\ta=0;\n\t\tf=0;\n\t\ts=0;\n\t\tq=365;\n\t\tfor(i=0;i<strlen(x);i++) if(x[i]=='.') a++;\n\t\tfor(i=0;i<5;i++){\n\t\t\td[i]=0;\n\t\t\tc[i]=0;\n\t\t}\n\t\tif(a==2){\n\t\t\tf=10;\n\t\t\tfor(i=0;i<strlen(x);i++){\n\t\t\t\tif(x[i]=='.') s++;\n\t\t\t\telse{\n\t\t\t\t\td[s]*=10;\n\t\t\t\t\td[s]+=x[i]-'0';\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(d[0]==2012) printf(\"0.0.0.0.%d\\n\",d[2]-21);\n\t\t\telse{\n\t\t\t\tf=10;\n\t\t\t\tg=d[0];\n\t\t\t\tif(d[1]>2)\tg++;\n\t\t\t\tfor(i=2013;i<d[0];i++)\tf+=365;\n\t\t\t\tfor(i=2013;i<g;i++) if(i%4==0&&i%100!=0||i%400==0) f+=1;\n\t\t\t\tfor(i=0;i<d[1]-1;i++) f+=z[i];\n\t\t\t\tf+=d[2];\n\t\t\t\tc[0]=f%20;\n\t\t\t\tc[1]=f/20;\n\t\t\t\tc[2]=c[1]/18;\n\t\t\t\tc[1]=c[1]%18;\n\t\t\t\tc[3]=c[2]/20;\n\t\t\t\tc[2]=c[2]%20;\n\t\t\t\tc[4]=c[3]/20;\n\t\t\t\tc[3]=c[3]%20;\n\t\t\t\tc[4]%=13;\n\t\t\t\tfor(i=4;i>=0;i--){\n\t\t\t\t\tprintf(\"%d\",c[i]);\n\t\t\t\t\tif(i!=0) printf(\".\");\n\t\t\t\t}\n\t\t\t\t printf(\"\\n\");\n\t\t\t}\n\t\t}\n\t\tif(a==4){\n\t\t\tfor(i=0;i<strlen(x);i++){\n\t\t\t\tif(x[i]=='.') s++;\n\t\t\t\telse{\n\t\t\t\t\td[s]*=10;\n\t\t\t\t\td[s]+=x[i]-'0';\n\t\t\t\t}\n\t\t\t}\n\t\t\tf=d[4];\n\t\t\tf+=d[3]*20;\n\t\t\tf+=d[2]*20*18;\n\t\t\tf+=d[1]*20*18*20;\n\t\t\tf+=d[0]*20*18*20*20;\n\t\t\tif(f<=10) printf(\"2012.12.%d\\n\",21+f);\n\t\t\telse{\n\t\t\t\tf-=10;\n\t\t\t\tc[0]=1;\n\t\t\t\twhile(1){\n\t\t\t\t\tif((2012+c[0])%4==0&&(2012+c[0])%100!=0||(2012+c[0])%400==0) q=366;\n\t\t\t\t\telse q=365;\n\t\t\t\t\tif(f<q) break;\n\t\t\t\t\tf-=q;\n\t\t\t\t\tc[0]++;\n\t\t\t\t}\n\t\t\t\tc[0]+=2012;\n\t\t\t\tfor(i=0;i<12;i++){\n\t\t\t\t\taa=z[i];\n\t\t\t\t\tif(q==366&&i==1) aa++;\n\t\t\t\t\tif(f<=aa) break;\n\t\t\t\t\t//printf(\"[%d] %d %d\\n\",i,f,aa);\n\t\t\t\t\tf-=aa;\n\t\t\t\t\tc[1]=i+1;\n\t\t\t\t}\n\t\t\t\tc[1]+=1;\n\t\t\t\tc[2]=f;\n\t\t\t\tif(f==aa) c[2]=aa;\n\t\t\t\tfor(i=0;i<3;i++){\n\t\t\t\t\tprintf(\"%d\",c[i]);\n\t\t\t\t\tif(i!=2) printf(\".\");\n\t\t\t\t}\n\t\t\t\tprintf(\"\\n\");\n\t\t\t}\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define int long long\nchar s[16];\nint month[13]={0,31,28,31,30,31,30,31,31,30,31,30,31};\nbool leap_year(int y){\n    return !(y%400)||((y%100)&&!(y%4));\n}\nchar ret[32];\nstring mayan_to_ad(){\n    int b,ka,t,w,ki;\n    int y,m,d;\n    sscanf(s,\"%lld.%lld.%lld.%lld.%lld\",&b,&ka,&t,&w,&ki);\n    int dki=b*20*20*18*20+ka*20*18*20+t*18*20+w*20+ki;\n    if(dki<=10){\n        y=2012;\n        m=12;\n        d=21+dki;\n    }\n    else{\n        dki-=10;\n        for(int yy=2013;;yy++){\n            for(int mm=1;mm<=12;mm++){\n                int tmp=(leap_year(yy)&&mm==2);\n                for(int dd=1;dd<=month[mm]+tmp;dd++){\n                    dki--;\n                    if(dki==0){\n                        y=yy;m=mm;d=dd;\n                        goto end;\n                    }\n                }\n            }\n        }\n    }\n    end:;\n\n    sprintf(ret,\"%lld.%lld.%lld\",y,m,d);\n    return ret;\n}\nstring ad_to_mayan(){\n    int y,m,d,b,ka,t,w,ki;\n    int leap=0;\n    sscanf(s,\"%lld.%lld.%lld\",&y,&m,&d);\n    for(int i=2013;i<y;i++)if(leap_year(i))leap++;\n    if(leap_year(y)&&m>2)leap++;\n    int dy=365*max(0ll,y-2013)+leap;\n    if(y>2012){\n        dy+=10;\n        for(int i=1;i<=m;i++){\n            if(i==m)dy+=d;\n            else dy+=month[i];\n        }\n    }\n    else dy=d-21;\n    dy%=20*20*20*18*13;\n    b=dy/(20*20*20*18);dy%=20*20*20*18;\n    ka=dy/(20*18*20);dy%=20*18*20;\n    t=dy/(18*20);dy%=18*20;\n    w=dy/20;dy%=20;\n    ki=dy;\n    sprintf(ret,\"%lld.%lld.%lld.%lld.%lld\",b,ka,t,w,ki);\n    return ret;\n}\nsigned main(){\n    while(cin>>s,s[0]!='#'){\n        int cnt=0;\n        for(int i=0;s[i];i++)if(s[i]=='.')cnt++;\n        string ans;\n        if(cnt==2)ans=ad_to_mayan();\n        else ans=mayan_to_ad();\n        cout<<ans<<endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long int ll;\nint days[12] = { 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 };\nint main() {\n\twhile (true) {\n\t\tstring S;\n\t\tcin >> S;\n\t\tif (S == \"#\")\n\t\t\tbreak;\n\t\tint cou = 0;\n\t\tfor (int i = 0; i < (int) S.length(); i++) {\n\t\t\tif (S[i] == '.')\n\t\t\t\tcou++;\n\t\t}\n\t\tif (cou == 2) {\n\t\t\tint y = 0, m = 0, d = 0;\n\t\t\tcou = 0;\n\t\t\tfor (int i = 0; i < (int) S.length(); i++) {\n\t\t\t\tif (S[i] == '.') {\n\t\t\t\t\tcou++;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (cou == 0) {\n\t\t\t\t\ty *= 10;\n\t\t\t\t\ty += S[i] - '0';\n\t\t\t\t} else if (cou == 1) {\n\t\t\t\t\tm *= 10;\n\t\t\t\t\tm += S[i] - '0';\n\t\t\t\t} else {\n\t\t\t\t\td *= 10;\n\t\t\t\t\td += S[i] - '0';\n\t\t\t\t}\n\t\t\t}\n\t\t\tll sumday = 0;\n\t\t\tint y1 = 2013;\n\t\t\tint m1 = 1;\n\t\t\tif (y == 2012) {\n\t\t\t\tsumday = (ll) (d - 21);\n\t\t\t} else {\n\t\t\t\tsumday = 11;\n\t\t\t\twhile (y1 < y - 400) {\n\t\t\t\t\ty1 += 400;\n\t\t\t\t\tsumday += (ll) (366 * 97 + 365 * 303);\n\t\t\t\t}\n\t\t\t\twhile (y1 < y) {\n\t\t\t\t\tif (y1 % 400 == 0)\n\t\t\t\t\t\tsumday += (ll) 366;\n\t\t\t\t\telse if (y1 % 100 == 0)\n\t\t\t\t\t\tsumday += (ll) 365;\n\t\t\t\t\telse if (y1 % 4 == 0)\n\t\t\t\t\t\tsumday += (ll) 366;\n\t\t\t\t\telse\n\t\t\t\t\t\tsumday += (ll) 365;\n\t\t\t\t\ty1++;\n\t\t\t\t}\n\t\t\t\twhile (m1 < m) {\n\t\t\t\t\tif (m1 == 2) {\n\t\t\t\t\t\tif (y1 % 400 == 0)\n\t\t\t\t\t\t\tsumday += (ll) 29;\n\t\t\t\t\t\telse if (y1 % 100 == 0)\n\t\t\t\t\t\t\tsumday += (ll) 28;\n\t\t\t\t\t\telse if (y1 % 4 == 0)\n\t\t\t\t\t\t\tsumday += (ll) 29;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tsumday += (ll) 28;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsumday += (ll) days[m1 - 1];\n\t\t\t\t\t}\n\t\t\t\t\tm1++;\n\t\t\t\t}\n\t\t\t\tsumday += (ll) (d - 1);\n\t\t\t}\n\t\t\tll b1, ka1, t1, w1, ki1;\n\t\t\tki1 = sumday % (ll) 20;\n\t\t\tsumday /= (ll) 20;\n\t\t\tw1 = sumday % (ll) 18;\n\t\t\tsumday /= (ll) 18;\n\t\t\tt1 = sumday % (ll) 20;\n\t\t\tsumday /= (ll) 20;\n\t\t\tka1 = sumday % (ll) 20;\n\t\t\tsumday /= (ll) 20;\n\t\t\tb1 = sumday % (ll) 13;\n\t\t\tprintf(\"%lld.%lld.%lld.%lld.%lld\\n\", b1, ka1, t1, w1, ki1);\n\t\t} else {\n\t\t\tint b = 0, ka = 0, t = 0, w = 0, ki = 0;\n\t\t\tcou = 0;\n\t\t\tfor (int i = 0; i < (int) S.length(); i++) {\n\t\t\t\tif (S[i] == '.') {\n\t\t\t\t\tcou++;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (cou == 0) {\n\t\t\t\t\tb *= 10;\n\t\t\t\t\tb += S[i] - '0';\n\t\t\t\t} else if (cou == 1) {\n\t\t\t\t\tka *= 10;\n\t\t\t\t\tka += S[i] - '0';\n\t\t\t\t} else if (cou == 2) {\n\t\t\t\t\tt *= 10;\n\t\t\t\t\tt += S[i] - '0';\n\t\t\t\t} else if (cou == 3) {\n\t\t\t\t\tw *= 10;\n\t\t\t\t\tw += S[i] - '0';\n\t\t\t\t} else {\n\t\t\t\t\tki *= 10;\n\t\t\t\t\tki += S[i] - '0';\n\t\t\t\t}\n\t\t\t}\n\t\t\tint y = 2012;\n\t\t\tint m = 12;\n\t\t\tint d = 21;\n\t\t\td += b * (20 * 20 * 18 * 20) + ka * (20 * 18 * 20) + t * (18 * 20)\n\t\t\t\t\t+ w * 20 + ki;\n\t\t\twhile (d > days[m - 1]) {\n\t\t\t\td -= days[m - 1];\n\t\t\t\tm++;\n\t\t\t\tif (m == 13) {\n\t\t\t\t\ty++;\n\t\t\t\t\tm = 1;\n\t\t\t\t\tif (y % 400 == 0)\n\t\t\t\t\t\tdays[1] = 29;\n\t\t\t\t\telse if (y % 100 == 0)\n\t\t\t\t\t\tdays[1] = 28;\n\t\t\t\t\telse if (y % 4 == 0)\n\t\t\t\t\t\tdays[1] = 29;\n\t\t\t\t\telse\n\t\t\t\t\t\tdays[1] = 28;\n\t\t\t\t}\n\t\t\t}\n\t\t\tdays[1] = 28;\n\t\t\tprintf(\"%d.%d.%d\\n\", y, m, d);\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\n#define REP(i,s,n) for(int i=s;i<n;i++)\n#define rep(i,n) REP(i,0,n)\n\nusing namespace std;\n\ntypedef long long ll;\n\n                //  0   1  2   3    4  5   6    7  8   9  10 11 12\nll  days[2][13] = {{0,31,28,31,30,31,30,31,31,30,31,30,31},\n\t\t           {0,31,29,31,30,31,30,31,31,30,31,30,31}};//leap year\n\nbool isLeap(ll year) { return ((year%4LL) == 0LL && (year%100LL) != 0LL || ( year % 400LL ) == 0LL); }\n\nvoid compute(vector<int> vec){\n  if( vec.size() == 3 ) {\n    ll y = vec[0], m = vec[1], d = vec[2];\n    ll counter = 0;\n    if( y == 2012 ) {\n      assert( m == 12 );\n      counter = d - 21;\n      assert( counter >= 0 );\n    } else {\n      counter = d;\n      REP(month,1,m) counter += days[isLeap(y)][month];\n      REP(year,2013,y) REP(month,1,12+1) counter += days[isLeap(year)][month];\n      counter += 10LL;\n    }\n    ll limit = 13LL * ( 20LL * 20LL * 18LL * 20LL );\n    while( counter > limit ) counter -= limit;\n    ll b,ka,t,w,ki,temp;\n    b = ka = t = w = ki = 0;\n    ki = counter % 20LL;\n    temp = counter - ki;\n    cout << temp << endl;\n    assert( temp % 20LL == 0 );\n    int total_winaru = temp / 20LL;\n    w = total_winaru % 18LL;\n    temp -= w * 20LL;\n    assert( temp % (18LL*20LL) == 0 );\n    int total_toun = temp / ( 18LL * 20LL );\n    t = total_toun % 20LL;\n    temp -= t * 20LL * 18LL;\n    assert( temp % ( 20LL * 18LL * 20LL ) == 0 );\n    int total_katoun = temp / ( 20LL * 18LL * 20LL );\n    ka = total_katoun % 20LL;\n    temp -= ka * 20LL * 18LL * 20LL;\n    assert( temp % ( 20LL * 18LL * 20LL * 20LL ) == 0);\n    int total_bakutoun = temp / ( 20LL * 18LL * 20LL * 20LL );\n    b = total_bakutoun;\n    temp -= b * 20LL * 18LL * 20LL * 20LL;\n    assert( temp == 0 );\n    cout << b << \".\" << ka << \".\" << t << \".\" << w << \".\" << ki << endl;\n  } else {\n    ll counter = 0;\n    counter += ll(vec[0]) * 20LL * 20LL * 18LL * 20LL;\n    counter += ll(vec[1]) * 20LL * 18LL * 20LL;\n    counter += ll(vec[2]) * 18LL * 20LL;\n    counter += ll(vec[3]) * 20LL;\n    counter += ll(vec[4]);\n    ll Y = 2012, M = 12,O = 21LL+counter;\n\n    while( !( 1LL <= O && O <= days[isLeap(Y)][M] ) ){\n      O -= days[isLeap(Y)][M];\n      ++M;\n      if( M > 12LL ) { M = 1; ++Y; }\n    }\n    cout << Y << \".\" << M << \".\" << O << endl;\n  }\n}\n\nint main(){\n  string s;\n  while( cin >> s, s[0] != '#' ){\n    rep(i,s.size()) if( s[i] == '.' ) s[i] = ' ';\n    stringstream ss;\n    ss << s;\n    vector<int> vec;\n    int temp;\n    while( !( ss >> temp ).fail() ) vec.push_back(temp);\n    compute(vec);\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <vector>\n#include <list>\n#include <cmath>\n#include <fstream>\n#include <algorithm>\n#include <string>\n#include <queue>\n#include <set>\n#include <map>\n#include <complex>\n#include <iterator>\n#include <cstdlib>\n#include <cstring>\n#include <sstream>\n#include <stack>\n#include <climits>\n#include <deque>\n#include <bitset>\n#include <cassert>\n#include <ctime>\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> pii;\nconst int dy[]={-1,0,1,0},dx[]={0,1,0,-1};\n// adjust problem by problem\nconst double EPS=1e-8;\nconst double PI=acos(-1.0);\n#ifdef __GNUC__\nint popcount(int n){return __builtin_popcount(n);}\nint popcount(ll n){return __builtin_popcountll(n);}\n#endif\n#ifndef __GNUC__\ntemplate<class T> int popcount(T n){int cnt=0;while(n){if(n%2)cnt++;n/=2;}return cnt;}\n#endif\ntemplate<class T>int SIZE(T a){return a.size();}\ntemplate<class T>string IntToString(T num){string res;stringstream ss;ss<<num;return ss.str();}\ntemplate<class T>T StringToInt(string str){T res=0;for(int i=0;i<SIZE(str);i++)res=(res*10+str[i]-'0');return res;}\ntemplate<class T>T gcd(T a,T b){if(b==0)return a;return gcd(b,a%b);}\ntemplate<class T>T lcm(T a,T b){return a/gcd(a,b)*b;}\ntemplate<class T> void PrintSeq(T &a,int sz){for(int i=0;i<sz;i++){cout<<a[i];if(sz==i+1)cout<<endl;else cout<<' ';}}\nbool EQ(double a,double b){return abs(a-b)<EPS;}\nvoid fastStream(){cin.tie(0);std::ios_base::sync_with_stdio(0);}\nvector<string> split(string str,char del){\n  vector<string> res;\n  for(int i=0,s=0;i<SIZE(str);i++){\n    if(str[i]==del){if(i-s!=0)res.push_back(str.substr(s,i-s));s=i+1;}\n    else if(i==SIZE(str)-1){res.push_back(str.substr(s));}\n  }\n  return res;\n}\n\nll sumd[10000011];\n\nconst int md[2][12]\n={{31,28,31,30,31,30,31,31,30,31,30,31}\n  ,{31,29,31,30,31,30,31,31,30,31,30,31}};\n\nbool isLeap(int y){\n  return y%4==0&&(y%100!=0||y%400==0);\n}\n\nint main(){\n\n  // テァツエツッテァツゥツ硬ay\n  for(int y=2013;y<=10000010;y++){\n    if(isLeap(y))sumd[y]=sumd[y-1]+366;\n    else sumd[y]=sumd[y-1]+365;\n  }\n\n  string str;\n  while(getline(cin,str)&&str!=\"#\"){\n    int dot=0;\n    for(int i=0;i<(int)str.size();i++){\n      if(str[i]=='.')dot++;\n    }\n    // s to m\n    if(dot==2){\n      vector<string> v=split(str,'.');\n      vector<int> vv;\n      for(int i=0;i<(int)v.size();i++)\n        vv.push_back(StringToInt<int>(v[i]));\n      ll pday=0;\n      // 2012,12.21テ」ツ?凝」ツつ嘉・ツ按敕」ツつ?」ツ?ヲテ、ツスツ陛ヲツ猟・テァツオツ古ゥツ?偲」ツ?療」ツ?淌」ツ?凝」ツつ津ィツィツ暗ァツョツ療」ツ??\n      // テ」ツ?敕」ツ?ョテ・ツ?、テ」ツつ津ァツ板ィテ」ツ??」ツ?ヲテ」ツδ榲」ツδ、テヲツ堋ヲテ」ツ?ォテ・ツ、ツ嘉ヲツ渉?\n      if(vv[0]==2012&&vv[1]==12)pday+=vv[2]-21;\n      else{\n        pday+=10;\n        pday+=sumd[vv[0]-1];\n        int c=isLeap(vv[0]);\n        for(int i=0;i<12;i++){\n          if(vv[1]==i+1){\n            pday+=vv[2];\n            break;\n          }\n          else{\n            pday+=md[c][i];\n          }\n        }\n      }\n      pday%=(ll)13*20*20*18*20;\n      // cout<<pday<<endl;\n      // pdayテ」ツつ津・ツ、ツ嘉ヲツ渉?\n      vector<int> res;\n      res.push_back(pday/(20*18*20*20));\n      pday%=(20*18*20*20);\n      res.push_back(pday/(20*18*20));\n      pday%=20*18*20;\n      res.push_back(pday/(20*18));\n      pday%=20*18;\n      res.push_back(pday/20);\n      pday%=20;\n      res.push_back(pday);\n      for(int i=0;i<(int)res.size();i++){\n        cout<<res[i];\n        if(i==(int)res.size()-1)cout<<endl;\n        else cout<<\".\";\n      }\n    }\n    // m to s\n    else{\n      vector<string> v=split(str,'.');\n      vector<int> vv;\n      for(int i=0;i<(int)v.size();i++)\n        vv.push_back(StringToInt<int>(v[i]));\n      ll sum=0;\n      sum=sum+vv[0];\n      sum=sum*20+vv[1];\n      sum=sum*20+vv[2];\n      sum=sum*18+vv[3];\n      sum=sum*20+vv[4];\n      // 2012,12,21テ」ツ?凝」ツつ嘉」ツ?ョテァツオツ古ゥツ?仕ayテ」ツつ痴umテ」ツ?ィテ」ツ?凖」ツつ?\n      if(sum<=10)cout<<2012<<\".\"<<12<<\".\"<<21+sum<<endl;\n      else{\n        sum-=10;\n        // テ」ツ?禿」ツ?禿」ツ?凝」ツつ嘉ァツエツッテァツゥツ酵earテ」ツつ津、ツスツソテ」ツ?」テ」ツ?ヲテ、ツコツ古・ツ按?ヲツ篠「テァツエツ「テ」ツ?ァテ」ツ??、ツスツ陛・ツケツエテ」ツ?セテ」ツ?ァテゥツ?イテ」ツつ?」ツつ凝」ツ?凝ィツェツソテ」ツ?ケテ」ツつ?\n        int ub=10000010;\n        int lb=2012;\n        while(ub-lb>1){\n          int mid=(ub+lb)/2;\n          if(sumd[mid]>=sum)ub=mid;\n          else lb=mid;\n        }\n        // ubテ・ツケツエテ」ツ?古」ツ??ィツカツ?」ツ?暗」ツつ凝ヲツ慊?・ツ按敕」ツ?ョテ・ツケツエテ」ツ?ェテ」ツ?ョテ」ツ?ァ\n        // ub-1テ・ツケツエテ」ツ?セテ」ツ?ァテ・ツケツエテ」ツつ津ゥツ?イテ」ツつ?」ツ?ヲテ」ツ?甘」ツ??\n        sum-=sumd[ub-1];\n        int resy=ub;\n        int c=isLeap(resy);\n        int resm,resd;\n        for(int i=0;i<12;i++){\n          if(sum<=md[c][i]){\n            resm=i+1;\n            resd=sum;\n            break;\n          }\n          else sum-=md[c][i];\n        }\n        cout<<resy<<\".\"<<resm<<\".\"<<resd<<endl;\n      }\n    }\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\nusing namespace std;\ntypedef long long ll;\n\nstruct maya {\n    ll b, ka, t, w, ki;\n};\n\nstruct we {\n    ll y, m, d;\n};\n\nll year2d(ll x);\nll west2d(we x);\nll maya2d(maya x);\nll is_uru(ll y);\n\nll month_table[] = {0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\nll maya_table[] = {1, 20, 20 * 18, 20 * 20 * 18, 20 * 20 * 20 * 18};\nll maya_mod[]   = {20, 20 * 18, 20 * 20, 20 * 20 * 18, 13};\n\nll west_origin;\n\nint main()\n{\n    ll d;\n    ll a;\n    maya m;\n    we w;\n\n    west_origin = west2d((we){2012, 12, 21});\n\n    while (scanf(\"%lld\", &a) != 0) {\n        if (a < 13) {\n            m.b = a;\n            scanf(\". %lld . %lld . %lld . %lld\",\n                  &m.ka, &m.t, &m.w, &m.ki);\n\n            d = maya2d(m) + west_origin;\n\n            //year\n            ll valid = 0;\n            ll invalid = 100000000ll;\n\n            while (invalid - valid > 1) {\n                ll mid = (valid + invalid) / 2;\n\n                if (year2d(mid) < d) {\n                    valid = mid;\n                }\n                else {\n                    invalid = mid;\n                }\n            }\n\n            bool f = is_uru(valid);\n            if (f) {\n                month_table[2]++;\n            }\n\n            d -= year2d(valid);\n            ll sum = 0;\n            ll i = 1;\n            while (sum + month_table[i] < d) {\n                sum += month_table[i];\n                i++;\n            }\n\n            printf(\"%lld.%lld.%lld\\n\", valid, i, d - sum);\n\n            if (f) {\n                month_table[2]--;\n            }\n        }\n        else {\n            w.y = a;\n            scanf(\". %lld . %lld\", &w.m, &w.d);\n\n            d = west2d(w) - west_origin;\n\n            int f = 0;\n            for (int i = 4; i >= 0; i--) {\n                if (f) putchar('.');\n                printf(\"%lld\", d / maya_table[i] % maya_mod[i]);\n                d %= maya_table[i];\n                f = 1;\n            }\n            putchar('\\n');\n        }\n    }\n\n    return 0;\n}\n\nll year2d(ll year)\n{\n    year--;\n    return year * 365 + year / 4  - year / 100 + year / 400;\n}\n\nll west2d(we x)\n{\n    ll ans = 0;\n\n    ans += year2d(x.y);\n\n    if (is_uru(x.y)) {\n        month_table[2]++;\n    }\n\n    for (int i = 1; i < x.m; i++) {\n        ans += month_table[i];\n    }\n\n    ans += x.d;\n\n    if (is_uru(x.y)) {\n        month_table[2]--;\n    }\n\n    return ans;\n}\n\nll maya2d(maya x)\n{\n    int ans = 0;\n\n    ans += x.ki * maya_table[0];\n    ans += x.w  * maya_table[1];\n    ans += x.t  * maya_table[2];\n    ans += x.ka * maya_table[3];\n    ans += x.b  * maya_table[4];\n\n    return ans;\n}\n\nll is_uru(ll y)\n{\n    if (y % 4 == 0 && y % 100 != 0) {\n        return true;\n    }\n    else if (y % 100 == 0 && y % 400 == 0) {\n        return true;\n    }\n\n    return false;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <sstream>\nusing namespace std;\n\ntypedef long long ll;\n\nconst ll month[2][12] = {\n  {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30},\n  {31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30},\n};\n\nconst ll mayad[] = {144000, 7200, 360, 20, 1};\n\nbool isLeap(const int &y){\n  if(y % 4 != 0) return false;\n  return y % 100 != 0 || y % 400 == 0;\n}\n\nll getDayYMD(const ll &y, const ll &m, const ll &d){\n  ll res = 0;\n  bool leap = isLeap(y);\n\n  for(ll i = 0; i < y; i++){\n    if(isLeap(i)) res += 366;\n    else          res += 365;\n  }\n\n  for(ll i = 0; i < m - 1; i++){\n    res += month[leap][i];\n  }\n\n  return res + d;\n}\n\nll getDayMAYA(const vector<ll> &v){\n  ll res = 0;\n  for(int i = 0; i < 5; i++){\n    res += mayad[i] * v[i];\n  }\n  return res;\n}\n\nvector<ll> split(const string &str){\n  vector<ll> res;\n  stringstream ss(str);\n  ll x;\n  char ch;\n\n  while(ss >> x >> ch){\n    res.push_back(x);\n  }\n  res.push_back(x);\n  return res;\n}\n\nvoid toMAYA(ll day){\n  for(int i = 0; i < 5; i++){\n    if(i == 0){\n      ll div = day / mayad[i];\n      div %= 13;\n      day %= mayad[i];\n      cout << div;\n    }\n    else{\n      cout << \".\";\n      cout << day / mayad[i];\n      day %= mayad[i];\n    }\n  }\n  cout << endl;\n}\n\nvoid toYMD(ll day){\n  ll y = 2012;\n\n  // year\n  while(true){\n    bool leap = isLeap(y);\n    if(leap){\n      if(day - 366 < 0) break;\n      day -= 366;\n    }\n    else{\n      if(day - 365 < 0) break;\n      day -= 365;\n    }\n    y++;\n  }\n\n  ll m = 1;\n\n  while(m < 12){\n    bool leap = isLeap(y);\n\n    if(day - month[leap][m - 1] < 0){\n      break;\n    }\n    day -= month[leap][m - 1];\n    m++;\n  }\n\n  ll d = day + 1;\n\n  cout << y << \".\" << m << \".\" << d << endl;\n}\n\nint main(){\n  const ll base = getDayYMD(2012, 12, 21);\n\n  string str;\n\n  while(cin >> str, str != \"#\"){\n    vector<ll> v = split(str);\n\n    if(v.size() == 3){\n      ll day = getDayYMD(v[0], v[1], v[2]);\n      day -= base;\n      toMAYA(day);\n    }\n    else{\n      ll day = getDayMAYA(v) + getDayYMD(0, 12, 20);\n      toYMD(day);\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nvector<string> split(const string &str, char sep)\n{\n    vector<string> v;\n    stringstream ss(str);\n    string buffer;\n    while( getline(ss, buffer, sep) ) {\n        v.push_back(buffer);\n    }\n    return v;\n}\n\nbool is_Leapyear(long long int year){\n    if(year%4==0){\n        if(year%100==0){\n            if(year%400==0){\n                return true;\n            }\n            return false;\n        }\n        return true;\n    }\n    return false;\n}\n\nint months[12] = {31,28,31,30,31,30,31,31,30,31,30,31};\nint leapmonths[12] = {31,29,31,30,31,30,31,31,30,31,30,31};\n\nint main() {\n\n    string s;\n\n    const long long  int baseday = (2012*365 + 2012/4 - 2012/100 + 2012/400 + 366-11);\n\n    while(1){\n\n        cin >> s;\n\n        if(s[0] == '#'){\n            break;\n        }\n\n        vector<string> vec = split(s,'.');\n\n        if(vec.size() == 5){\n\n            int a[5];//b,ka,t,w,ki\n\n            for(int i=0;i<5;i++){\n                stringstream ss;\n                ss << vec[i];\n                ss >> a[i];\n            }\n\n            long long int allday = 0;\n\n            allday = a[0]*20*20*18*20 + a[1]*20*18*20 + a[2]*18*20 + a[3]*20 + a[4];\n\n            if(allday>=11){\n                allday -= 11;\n                int year,month,day;\n                year = 2013+(static_cast<int>(allday/(365+365+365+366))*4);\n                allday = allday % (365+365+365+366);\n                allday = allday + (year-2013)/100 - (year-2013)/400;\n                year += allday/365;\n                allday %= 365;\n                if(allday==0&&!is_Leapyear(year)){\n                    allday++;\n                }\n                month = 1;\n                day = 1;\n                if(is_Leapyear(year)){\n                    for(int i=0;i<12;i++){\n                        if(allday>=leapmonths[i]){\n                            allday-=leapmonths[i];\n                            month++;\n                        }\n                        else{\n                            break;\n                        }\n                    }\n                    day += allday;\n                    printf(\"%d.%d.%d\\n\",year,month,day);\n                }\n                else{\n                    for(int i=0;i<12;i++){\n                        if(allday>=months[i]){\n                            allday-=months[i];\n                            month++;\n                        }\n                        else{\n                            break;\n                        }\n                    }\n                    day += allday ;\n                    printf(\"%d.%d.%d\\n\",year,month,day);\n                }\n            }\n            else{\n                printf(\"2012.12.%lld\\n\",21+allday);\n            }\n\n        }\n\n        else{\n\n            long long int b[3];//year,month,day\n\n            for(int i=0;i<3;i++){\n                stringstream ss;\n                ss << vec[i];\n                ss >> b[i];\n            }\n\n            long long int allday = (b[0] % 1872000 * 365 + b[0]/4 - b[0]/100 + b[0]/400);\n\n            if(is_Leapyear(b[0])){\n                allday--;\n            }\n\n            for(int i=0;i<b[1]-1;i++){\n                if(is_Leapyear(b[0])){\n                    allday += leapmonths[i];\n                }\n                else{\n                    allday += months[i];\n                }\n            }\n\n            allday += b[2];\n\n            allday -= baseday;\n\n            allday %= 1872000;\n\n            long long int ba,ka,t,w,ki;\n\n            ba = allday/144000;\n\n            allday %= 144000;\n\n            ka = allday/7200;\n\n            allday %= 7200;\n\n            t = allday/360;\n\n            allday %= 360;\n\n            w = allday/20;\n\n            allday %= 20;\n\n            ki = allday;\n\n            printf(\"%lld.%lld.%lld.%lld.%lld\\n\",ba,ka,t,w,ki);\n        }\n\n    }\n\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n\n#define REP(i,k,n) for(int i=k;i<n;i++)\n#define rep(i,n) for(int i=0;i<n;i++)\n\nusing namespace std;\ntypedef long long ll;\n\nint month[13] = {0,31,28,31,30,31,30,31,31,30,31,30,31};\n\nvector<string> split(const string &str, char delim)\n{\n    vector<string> res;\n    size_t current = 0, found;\n\twhile((found = str.find_first_of(delim, current)) != string::npos)\n    {\n\t    res.push_back(string(str, current, found - current));\n\t    current = found + 1;\n    }\n    res.push_back(string(str, current, str.size() - current));\n    return res;\n}\n\nbool isLeapYear(ll y)\n{\n\tif( (y%4 == 0 && y%100 != 0) || (y%400 == 0) ) return true;\n\telse return false;\n}\n\nll getLeapCount(ll y)\n{\n\tll ret = y/4;\n\tret -= y/100;\n\tret += y/400;\n\n\treturn ret;\n}\n\nll toDate(ll y,ll m,ll d)\n{\n\tll ret = 0;\n\n\tret += getLeapCount(y-1) * 366;\n\tret += (y-1 - getLeapCount(y-1)) * 365;\n\n\tREP(i,1,m)\n\t{\n\t\tif(i == 2)\n\t\t{\n\t\t\tif(isLeapYear(y)) ret += 29;\n\t\t\telse ret += 28;\n\t\t}\n\t\telse ret += month[i];\n\t}\n\n\tret += d;\n\n\treturn ret;\n}\n\nll toDate(ll b,ll ka,ll t,ll w,ll ki)\n{\n\tll ret = 0;\n\tret += b*20*20*18*20;\n\tret += ka * 20*18*20;\n\tret += t * 18*20;\n\tret += w * 20;\n\tret += ki;\n\n\treturn ret;\n}\n\nint main()\n{\n\tstring s;\n\twhile(cin >> s)\n\t{\n\t\tif(s == \"#\") break;\n\t\t\n\t\tvector<string> _s = split(s,'.');\n\t\n\t\tvector<ll> v;\n\t\tv.resize(_s.size());\n\t\trep(i,_s.size()) v[i] = atoll(_s[i].c_str());\n\n\t\tif(_s.size() == 3)\n\t\t{\n\t\t\tll date = (toDate(v[0],v[1],v[2]) - toDate(2012,12,21));\n\t\t\tdate %= 13*20*20*18*20;\n\t\t\t\n\t\t\tll b = 0,ka = 0,t = 0,w = 0,ki = 0;\n\t\t\t\n\n\t\t\twhile(date - 20*20*18*20 >= 0)\n\t\t\t{\n\t\t\t\tb++;\n\t\t\t\tdate -= 20*20*18*20;\n\t\t\t}\n\n\t\t\twhile(date - 20*18*20 >= 0)\n\t\t\t{\n\t\t\t\tka++;\n\t\t\t\tdate -= 20*18*20;\n\t\t\t}\n\n\t\t\twhile(date - 18*20 >= 0)\n\t\t\t{\n\t\t\t\tt++;\n\t\t\t\tdate -= 18*20;\n\t\t\t}\n\n\t\t\twhile(date - 20 >= 0)\n\t\t\t{\n\t\t\t\tw++;\n\t\t\t\tdate -= 20;\n\t\t\t}\n\t\t\t\n\t\t\tki = date;\n\t\t\t\n\t\t\tcout << b << \".\" << ka << \".\" << t << \".\" << w << \".\" << ki << endl;\n\n\t\t}\n\t\telse if(_s.size() == 5)\n\t\t{\n\t\t\tll date = toDate(v[0],v[1],v[2],v[3],v[4]) + toDate(2012,12,21);\n\t\t\tll y = 0,m = 1,d = 1;\n\t\t\t\n\t\t\twhile(true)\n\t\t\t{\n\t\t\t\tif(isLeapYear(y))\n\t\t\t\t{\n\t\t\t\t\tif(date - 366 >= 0)\n\t\t\t\t\t{\n\t\t\t\t\t\ty++;\n\t\t\t\t\t\tdate -= 366;\n\t\t\t\t\t}\n\t\t\t\t\telse break;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif(date - 365 >= 0)\n\t\t\t\t\t{\n\t\t\t\t\t\ty++;\n\t\t\t\t\t\tdate -= 365;\n\t\t\t\t\t}\n\t\t\t\t\telse break;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ty++;\n\n\t\t\tREP(i,1,13)\n\t\t\t{\n\t\t\t\tif(i == 2 && isLeapYear(y))\n\t\t\t\t{\n\t\t\t\t\tif(date - (month[i]+1) >= 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tm++;\n\t\t\t\t\t\tdate -= month[i]+1;\n\t\t\t\t\t}\n\t\t\t\t\telse break;\n\t\t\t\t}\n\t\t\t\telse if(date - month[i] >= 0)\n\t\t\t\t{\t\n\t\t\t\t\tm++;\n\t\t\t\t\tdate -= month[i];\n\t\t\t\t}\n\t\t\t\telse break;\n\t\t\t}\n\t\t\t\n\t\t\td += date;\n\t\t\tcout << y << \".\" << m << \".\" << d << endl;\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define RFOR(i,a,b) for(int i=(b) - 1;i>=(a);i--)\n#define REP(i,n) for(int i=0;i<(n);i++)\n#define RREP(i,n) for(int i=n-1;i>=0;i--)\n\n#define PB push_back\n#define INF INT_MAX/3\n#define ALL(a) (a).begin(),(a).end()\n#define CLR(a) memset(a,0,sizeof(a))\n\ntypedef long long int ll;\n\nusing namespace std;\nint ms[] = { 31,28,31,30,31,30,31,31,30,31,30,31};\nconst ll Kin = 1;\nconst ll Uinal = 20 * Kin;\nconst ll Tun = Uinal * 18;\nconst ll Katun = Tun * 20;\nconst ll Baktun = Katun * 20;\n\nvector<string> split(string s){\n    int x;\n    vector<string> ret;\n    s += '.';\n    x = -1;\n    REP(i,s.size()){\n\tif(s[i] == '.'){\n\t    ret.PB(s.substr(x+1,i-x-1));\n\t    x = i;\n\t}\n    }\n    return ret;\n}\n\nll cg(string s){\n    vector<string> d = split(s);\n    if(d[0] == \"2012\"){\n\treturn stoll(d[2]) - 21;\n    }else{\n\tll y = stoll(d[0]);\n\tll m = stoll(d[1]);\n\tll da = stoll(d[2]);\n\tll ret = 0;\n\tll ty = y - 1;\n\tret = 10LL;\n\tll a = (ty - 2012LL) * 365LL;\n\tif(a < 0) a = 0;\n\tret += a;\n\tret += ty / 4LL - ty / 100LL + ty / 400LL;\n\tret -= 2012 / 4 - 2012 / 100 + 2012 / 400;\n\tREP(i,m-1){\n\t    if(i==1 && ( y%4==0 && (y%100!=0 || (y%100==0&&y%400==0)) ) ) {\n\t\tret += 1;\n\t    }\n\t    ret += ms[i];\n\t}\n\tret += da;\n\treturn ret;\n    }\n    return 0;\n}\n\nll cm(string s){\n    vector<string> d = split(s);\n    ll ret=0;\n    ret += Baktun * stoi(d[0]);\n    ret += Katun * stoi(d[1]);\n    ret += Tun * stoi(d[2]);\n    ret += Uinal * stoi(d[3]);\n    ret += Kin * stoi(d[4]);\n    return ret;\n}\n\nstring mtog(string s){\n    int num = cm(s);\n    int y = 2012;\n    int m = 12;\n    int d = 21;\n    if(num <= 10){\n\treturn \"2012.12.\" + to_string(d+num);\n    }else{\n\tREP(i,num){\n\t    if(m == 12 && d == 31){\n\t\ty++;\n\t\tm = 1;\n\t\td = 1;\n\t    }else if(m==2 && d == 28 &&  ( y%4==0 && (y%100!=0 || (y%100==0&&y%400==0)) ) ) d++;\n\t    else if(d >= ms[m-1]){\n\t\tm++;\n\t\td = 1;\n\t    }else d++;\n\t}\n\treturn to_string(y) + \".\" + to_string(m) + \".\" + to_string(d);\n    }\n    return \"\";\n}\n\nstring gtom(string s){\n    ll num = cg(s);\n    ll days[5];\n    days[0] = Baktun;\n    days[1] = Katun;\n    days[2] = Tun;\n    days[3] = Uinal;\n    days[4] = Kin;\n    string ret = \"\";\n    num = (num % (13*days[0]));\n    REP(i,4){\n\tret += to_string(num/days[i]) + \".\";\n\tnum %= days[i];\n    }\n    ret += to_string(num/days[4]);\n    return ret;\n}\n\nint main(){\n    while(true){\n\tstring s;\n\tcin >> s;\n\tif(s == \"#\") break;\n\tint c = 0;\n\tREP(i,s.size()) if(s[i] == '.') c++;\n\tif(c == 2) cout << gtom(s) << endl;\n\telse if(c == 4) cout << mtog(s) << endl;;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n\ntypedef unsigned long long li;\n\nint table[2][13] = {{365, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31},\n\t\t\t\t\t{366, 31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31}};\n\nli conv(int y, int m, int d)\n{\n\tli ret;\n\tint i;\n\tli t = y - 1;\n\tret = 0;\n\tret += t * 365 + (t / 4) - (t / 100) + (t / 400);\n\t\n\tif (y % 4 == 0 && (y % 100 != 0 || y % 400 == 0)){\n\t\tfor (i = 1; i <= m - 1; i++){\n\t\t\tret += table[1][i];\n\t\t}\n\t}\n\telse {\n\t\tfor (i = 1; i <= m - 1; i++){\n\t\t\tret += table[0][i];\n\t\t}\n\t}\n\tret += d;\n\treturn (ret);\n}\n\nint main(void)\n{\n\tchar rec[256];\n\tli t;\n\tint i, j;\n\tint dot;\n\twhile (scanf(\"%s\", rec), rec[0] != '#'){\n\t\tdot = 0;\n\t\tfor (i = 0; rec[i] != '\\0'; i++){\n\t\t\tif (rec[i] == '.') dot++;\n\t\t}\n\t\tif (dot == 2){\n\t\t\tint year, month, day;\n\t\t\tsscanf(rec, \"%d.%d.%d\", &year, &month, &day);\n\t\t\tt = (conv(year, month, day) - conv(2012, 12, 21)) % (1872000);\n\t\t\t\n\t\t\tprintf(\"%lld.\", t / (20 * 20 * 20 * 18));\n\t\t\tt %= (20 * 20 * 20 * 18);\n\t\t\tprintf(\"%lld.\", t / (20 * 20 * 18));\n\t\t\tt %= (20 * 20 * 18);\n\t\t\tprintf(\"%lld.\", t / (20 * 18));\n\t\t\tt %= (20 * 18);\n\t\t\tprintf(\"%lld.\", t / 20);\n\t\t\tt %= 20;\n\t\t\tprintf(\"%lld\\n\", t);\n\t\t}\n\t\telse {\n\t\t\tli b, ka, tt, w, ki;\n\t\t\tint y, sum;\n\t\t\tsscanf(rec, \"%lld.%lld.%lld.%lld.%lld\", &b, &ka, &tt, &w, &ki);\n\t\t\tt = b * (20 * 20 * 20 * 18) + ka * (20 * 20 * 18) + tt * (20 * 18) + w * 20 + ki + conv(2012, 12, 21);\n\t\t\t\n\t\t\tfor (i = 0; i < 10000; i++){\n\t\t\t\tif (t <= i * 365 + (i / 4) - (i / 100) + (i / 400)) break;\n\t\t\t}\n\t\t\ty = i;\n\t\t\tprintf(\"%d.\", y);\n\t\t\ty--;\n\t\t\tt -= (y * 365 + (y / 4) - (y / 100) + (y / 400));\n\t\t\tsum = 0;\n\t\t\ty++;\n\t\t\t\tfor (j = 1; j <= 12; j++){\n\t\t\t\t\tif (t > table[y % 4 == 0 && (y % 100 != 0 || y % 400 == 0)][j]){\n\t\t\t\t\t\tt -= table[y % 4 == 0 && (y % 100 != 0 || y % 400 == 0)][j];\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tprintf(\"%d.%lld\\n\", j, t);\n\t\t}\n\t}\n\t\n\treturn (0);\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nvector<string> split(const string &str, char sep)\n{\n    vector<string> v;\n    stringstream ss(str);\n    string buffer;\n    while( getline(ss, buffer, sep) ) {\n        v.push_back(buffer);\n    }\n    return v;\n}\n\nbool is_Leapyear(long long int year){\n    if(year%4==0){\n        if(year%100==0){\n            if(year%400==0){\n                return true;\n            }\n            return false;\n        }\n        return true;\n    }\n    return false;\n}\n\nint months[12] = {31,28,31,30,31,30,31,31,30,31,30,31};\nint leapmonths[12] = {31,29,31,30,31,30,31,31,30,31,30,31};\n\nint main() {\n\n    string s;\n\n    const long long  int baseday = (2012*365 + 2012/4 - 2012/100 + 2012/400 + 366-11);\n\n    while(1){\n\n        cin >> s;\n\n        if(s[0] == '#'){\n            break;\n        }\n\n        vector<string> vec = split(s,'.');\n\n        if(vec.size() == 5){\n\n            int a[5];//b,ka,t,w,ki\n\n            for(int i=0;i<5;i++){\n                stringstream ss;\n                ss << vec[i];\n                ss >> a[i];\n            }\n\n            long long int allday = 0;\n\n            allday = a[0]*20*20*18*20 + a[1]*20*18*20 + a[2]*18*20 + a[3]*20 + a[4];\n\n            if(allday>=11){\n                allday -= 11;\n                int year,month,day;\n                year = 2013;\n\n                while(1){\n                    if(is_Leapyear(year) && allday >= 366){\n                        year++;\n                        allday -= 366;\n                    }\n                    else if(!is_Leapyear(year) && allday >= 365){\n                        year++;\n                        allday -= 365;\n                    }\n                    else{\n                        break;\n                    }\n                }\n\n                /*+(static_cast<int>(allday/(365+365+365+366))*4);\n                allday = allday % (365+365+365+366);\n                allday = allday + (year)/100 - (year)/400 -(2000)/100 + 2000/400;\n\n\n                int byear = year;\n\n\n                year += allday/365;\n\n                allday %= 365;\n\n                if(year - byear == 4 && allday != 0){\n                    allday--;\n                }\n\n                 */\n\n\n                month = 1;\n                day = 1;\n                if(is_Leapyear(year)){\n                    for(int i=0;i<12;i++){\n                        if(allday>=leapmonths[i]){\n                            allday-=leapmonths[i];\n                            month++;\n                        }\n                        else{\n                            break;\n                        }\n                    }\n                    day += allday;\n                    printf(\"%d.%d.%d\\n\",year,month,day);\n                }\n                else{\n                    for(int i=0;i<12;i++){\n                        if(allday>=months[i]){\n                            allday-=months[i];\n                            month++;\n                        }\n                        else{\n                            break;\n                        }\n                    }\n                    day += allday ;\n                    printf(\"%d.%d.%d\\n\",year,month,day);\n                }\n            }\n            else{\n                printf(\"2012.12.%lld\\n\",21+allday);\n            }\n\n        }\n\n        else{\n\n            long long int b[3];//year,month,day\n\n            for(int i=0;i<3;i++){\n                stringstream ss;\n                ss << vec[i];\n                ss >> b[i];\n            }\n\n            long long int allday = (b[0] % 1872000 * 365 + b[0]/4 - b[0]/100 + b[0]/400);\n\n            if(is_Leapyear(b[0])){\n                allday--;\n            }\n\n            for(int i=0;i<b[1]-1;i++){\n                if(is_Leapyear(b[0])){\n                    allday += leapmonths[i];\n                }\n                else{\n                    allday += months[i];\n                }\n            }\n\n            allday += b[2];\n\n            allday -= baseday;\n\n            allday %= 1872000;\n\n            long long int ba,ka,t,w,ki;\n\n            ba = allday/144000;\n\n            allday %= 144000;\n\n            ka = allday/7200;\n\n            allday %= 7200;\n\n            t = allday/360;\n\n            allday %= 360;\n\n            w = allday/20;\n\n            allday %= 20;\n\n            ki = allday;\n\n            printf(\"%lld.%lld.%lld.%lld.%lld\\n\",ba,ka,t,w,ki);\n        }\n\n    }\n\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<string>\n#include<algorithm>\n#include<map>\n#include<set>\n#include<utility>\n#include<cmath>\n#include<cstring>\n#include<queue>\n#include<cstdio>\n#include<sstream>\n#define loop(i,a,b) for(int i=a;i<b;i++) \n#define rep(i,a) loop(i,0,a)\n#define pb push_back\n#define mp make_pair\n#define all(in) in.begin(),in.end()\nconst double PI=acos(-1);\nconst double EPS=1e-8;\nconst int inf=1e9;\nusing namespace std;\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef pair<int,int> pii;\nstring s;\nvi f(){\n\ts+=\".\";\n\tvi a;\n\tint t=0;\n\trep(i,s.size())if(s[i]=='.'){\n\t\ta.pb(atoi(&s.substr(t,i)[0]));\n\t\tt=i+1;\n\t}\n\treturn a;\n}\nint uruu(int a){\n\treturn a%400==0||(a%4==0&&a%100!=0);\n}\nint main(){\n\tint d[]={0,31,28,31,30,31,30,31,31,30,31,30,31};\n\twhile(cin>>s,s!=\"#\"){\n\t\tvi in=f();\n\t\tif(in.size()==3){\n\t\t\tint a=2012,b=12,c=21,t=0;\n\t\t\twhile(a!=in[0]||b!=in[1]||c!=in[2]){\n\t\t\t\tt%=13*20*20*18*20;\n\t\t\t\tif(a!=in[0]&&b==1&&c==1){\n\t\t\t\t\tt+=365+uruu(a);\n\t\t\t\t\ta++;\n\t\t\t\t}else if((a!=in[0]||b!=in[1])&&c==1){\n\t\t\t\t\tt+=d[b]+(b==2?uruu(a):0);\n\t\t\t\t\tb++;\n\t\t\t\t\tif(b==13)b=1;\n\t\t\t\t}else{\n\t\t\t\t\tt++;\n\t\t\t\t\tc++;\n\t\t\t\t\tif(d[b]+1+(b==2?uruu(a):0)==c){\n\t\t\t\t\t\tb++;c=1;\n\t\t\t\t\t}\n\t\t\t\t\tif(b==13){\n\t\t\t\t\t\tb=1;\n\t\t\t\t\t\ta++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tt%=13*20*20*18*20;\n\t\t\tcout<<t/(20*20*18*20)<<\".\";\n\t\t\tt%=20*20*18*20;\n\t\t\tcout<<t/(20*18*20)<<\".\";\n\t\t\tt%=20*18*20;\n\t\t\tcout<<t/(18*20)<<\".\";\n\t\t\tt%=18*20;\n\t\t\tcout<<t/20<<\".\"<<t%20<<endl;\n\t\t}else{\n\t\t\tint t=in[0]*20*20*18*20+\n\t\t\t\t\tin[1]*20*18*20+\n\t\t\t\t\tin[2]*18*20+\n\t\t\t\t\tin[3]*20+in[4];\n\t\t\tint a=2012,b=12,c=21;\n\t\t\twhile(t){\n\t\t\t\tif(t>365&&b==1&&c==1){\n\t\t\t\t\tt-=365+uruu(a);\n\t\t\t\t\ta++;\n\t\t\t\t}else if(t>d[b]+uruu(a)&&c==1){\n\t\t\t\t\tt-=d[b]+(b==2?uruu(a):0);\n\t\t\t\t\tb++;\n\t\t\t\t\tif(b==13)b=1;\n\t\t\t\t}else{\n\t\t\t\t\tt--;\n\t\t\t\t\tc++;\n\t\t\t\t\tif(d[b]+1+(b==2?uruu(a):0)==c){\n\t\t\t\t\t\tb++;c=1;\n\t\t\t\t\t}\n\t\t\t\t\tif(b==13){\n\t\t\t\t\t\tb=1;a++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tcout<<a<<\".\"<<b<<\".\"<<c<<endl;\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<string>\nusing namespace std;\n\nstruct M{\n\tlong long b;\n\tlong long ka;\n\tlong long t;\n\tlong long w;\n\tlong long ki;\n};\nM mkM(long long a,long long b,long long c,long long d,long long e){\n\tM m;\n\tm.b=a; m.ka=b; m.t=c; m.w=d; m.ki=e;\n\treturn m;\n}\n\nstruct C{\n\tlong long y;\n\tlong long m;\n\tlong long d;\n};\nC mkC(long long a,long long b,long long c){\n\tC cc;\n\tcc.y=a; cc.m=b; cc.d=c;\n\treturn cc;\n}\n\nlong long MtoN(M m){\n\tlong long ret=0;\n\tret+=m.b; ret*=20;\n\tret+=m.ka; ret*=20;\n\tret+=m.t; ret*=18;\n\tret+=m.w; ret*=20;\n\tret+=m.ki;\n\treturn ret;\n}\n\nM NtoM(long long n){\n\tM m;\n\tm.ki=n;\n\tm.w=m.ki/20; m.ki%=20;\n\tm.t=m.w/18; m.w%=18;\n\tm.ka=m.t/20; m.t%=20;\n\tm.b=m.ka/20; m.ka%=20;\n\tm.b%=13;\n\treturn m;\n}\n\nlong long D[13]={0,31,28,31,30,31,30,31,31,30,31,30,31};\n\nlong long CtoN(C c){\n\tif(c.y==2012)return c.d-21;\n\n\tlong long ret=0;\n\twhile(c.y>=2013+400){\n\t\tc.y-=400;\n\t\tret+=365*400+97;\n\t}\n\t//ret+=(365*400+97)*((c.y-2013)%400);\n\t//c.y-=400*((c.y-2013)%400);\n\tret+=c.d-1; c.d=1;\n\twhile(c.m>1){\n\t\tc.m--;\n\t\tret+=D[c.m];\n\t\tif(c.m==2&&c.y%4==0&&(c.y%100!=0||c.y%400==0))ret++;\n\t}\n\twhile(c.y>2013){\n\t\tc.y--;\n\t\tret+=365;\n\t\tif(c.y%4==0&&(c.y%100!=0||c.y%400==0))ret++;\n\t}\n\n\treturn ret+11;\n}\n\nC NtoC(long long n){\n\tC c;\n\tc.y=2012; c.m=12; c.d=21;\n\tif(n<11){ c.d+=n; return c; }\n\tc.y=2013; c.m=1; c.d=1; n-=11;\n\n\twhile(n>=365*400+97){\n\t\tn-=365*400+97;\n\t\tc.y+=400;\n\t}\n\twhile(n>=365){\n\t\tif(c.y%4==0&&(c.y%100!=0||c.y%400==0)){\n\t\t\tif(n>=366){\n\t\t\t\tc.y++;\n\t\t\t\tn-=366;\n\t\t\t}\n\t\t\telse break;\n\t\t}\n\t\telse {\n\t\t\tc.y++;\n\t\t\tn-=365;\n\t\t}\n\t}\n\tif(c.y%4==0&&(c.y%100!=0||c.y%400==0)){\n\t\tD[2]++;\n\t\twhile(n>=D[c.m]){\n\t\t\tn-=D[c.m];\n\t\t\tc.m++;\n\t\t}\n\t\tc.d+=n;\n\t\tD[2]--;\n\t}\n\telse {\n\t\twhile(n>=D[c.m]){\n\t\t\tn-=D[c.m];\n\t\t\tc.m++;\n\t\t}\n\t\tc.d+=n;\n\t}\n\n\treturn c;\n}\n\nint main(){\n\tstring s;\n\twhile(1){\n\t\tcin>>s;\n\t\tif(s==\"#\")break;\n\n\t\tlong long t=0;\n\t\tlong long a[6]={0};\n\t\tfor(long long i=0;i<s.size();i++){\n\t\t\tif(s[i]=='.')t++;\n\t\t\telse {\n\t\t\t\ta[t]*=10;\n\t\t\t\ta[t]+=s[i]-48;\n\t\t\t}\n\t\t}\n\n\t\tM m;\n\t\tC c;\n\t\tif(t==4){\n\t\t\tm.b=a[0];\n\t\t\tm.ka=a[1];\n\t\t\tm.t=a[2];\n\t\t\tm.w=a[3];\n\t\t\tm.ki=a[4];\n\t\t\tlong long n=MtoN(m);\n\t\t\tc=NtoC(n);\n\t\t\n\t\t\tprintf(\"%d.%d.%d\\n\",c.y,c.m,c.d);\n\t\t}\n\t\telse {\n\t\t\tc.y=a[0];\n\t\t\tc.m=a[1];\n\t\t\tc.d=a[2];\n\t\t\tlong long n=CtoN(c);\n\t\t\tm=NtoM(n);\n\n\t\t\tprintf(\"%d.%d.%d.%d.%d\\n\",m.b,m.ka,m.t,m.w,m.ki);\n\t\t}\n\t}\n}\t\t"
  },
  {
    "language": "C++",
    "code": "#include<algorithm>\n#include<iostream>\n#include<string>\n#include<vector>\n#include<cstdio>\n#define rep(i,a) for( int i = 0; i != (a); ++i )\n#define repd(i,a) for( int i = (a); i >= 0; --i )\n\nconst int units[4] = { 20, 18, 20, 20 }, cycle = 13*20*20*20*18;\n\ntypedef long long ll;\n\nbool isLeap( int y )\n{\n\treturn ( y % 4 == 0 && y % 100 ) || y % 400 == 0;\n}\n\nint dayOfMonth( int y, int m )\n{\n\tswitch( m )\n\t{\n\t\tcase 2:\n\t\t\tif( isLeap( y ) )\n\t\t\t\treturn 29;\n\t\t\telse\n\t\t\t\treturn 28;\n\t\tcase 4:\n\t\tcase 6:\n\t\tcase 9:\n\t\tcase 11:\n\t\t\treturn 30;\n\t\tdefault:\n\t\t\treturn 31;\n\t}\n}\n\n// y2/m2/d2 - y1/m1/d1\nll countD( int y1, int m1, int d1, int y2, int m2, int d2 )\n{\n\tll ret = 0;\n\twhile( true )\n\t{\n\t\tif( y1 == y2 && m1 == m2 )\n\t\t{\n\t\t\tret += d2-d1;\n\t\t\tbreak;\n\t\t}\n\t\telse if( y1 == y2 )\n\t\t{\n\t\t\tret += dayOfMonth( y1, m1 )-d1+1;\n\t\t\td1 = 1;\n\t\t\t++m1;\n\t\t\tif( m1 > 12 )\n\t\t\t\tm1 = 1, ++y1;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tret += 28+30*4+31*7 + isLeap( y1 )-countD( y1, 1, 1, y1, m1, d1 );\n\t\t\t++y1; m1 = 1; d1 = 1;\n\t\t}\n\t}\n\n\treturn ret;\n}\n\nvoid advD( int &y, int &m, int &d, ll days )\n{\n\twhile( true )\n\t{\n\t\tint lim = dayOfMonth( y, m )-d+1;\n\t\tif( days < lim )\n\t\t{\n\t\t\td += days;\n\t\t\tbreak;\n\t\t}\n\t\tdays -= lim;\n\t\td = 1;\n\t\t++m;\n\t\tif( m > 12 )\n\t\t\tm = 1, ++y;\n\t}\n\n\treturn;\n}\n\nint main()\n{\n\tstd::string s;\n\twhile( std::cin >> s, s != \"#\" )\n\t{\n\t\t// y.m.d\n\t\tif( std::count( s.begin(), s.end(), '.' ) == 2 )\n\t\t{\n\t\t\tint y, m, d;\n\t\t\tsscanf( s.c_str(), \"%d.%d.%d\", &y, &m, &d );\n\t\t\tll days = countD( 2012, 12, 21, y, m, d );\n\n\t\t\tdays %= cycle;\n\n\t\t\tstd::vector<ll> v;\n\t\t\trep( i, 4 )\n\t\t\t{\n\t\t\t\tv.push_back( days % units[i] );\n\t\t\t\tdays /= units[i];\n\t\t\t}\n\t\t\tv.push_back( days );\n\t\t\trepd( i, 4 )\n\t\t\t\tprintf( \"%lld%c\", v[i], \".\\n\"[!i] );\n\t\t}\n\t\t// b.ka.t.w.ki\n\t\telse\n\t\t{\n\t\t\tint a[5];\n\t\t\tsscanf( s.c_str(), \"%d.%d.%d.%d.%d\", a, a+1, a+2, a+3, a+4 );\n\t\t\tint days = 0;\n\t\t\trepd( i, 5 )\n\t\t\t{\n\t\t\t\tdays += a[4-i];\n\t\t\t\tif( i )\n\t\t\t\t\tdays *= units[i-1];\n\t\t\t}\n\t\t\tint y = 2012, m = 12, d = 21;\n\t\t\tadvD( y, m, d, days );\n\t\t\tprintf( \"%d.%d.%d\\n\", y, m, d );\n\t\t}\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nstd::vector<std::string> split(const std::string &str, char sep){\n    std::vector<std::string> v;\n    std::stringstream ss(str);\n    std::string buffer;\n    while( std::getline(ss, buffer, sep) ) {\n        v.push_back(buffer);\n    }\n    return v;\n}\n\ninline bool reap(int y){\n    if(y%4==0 && y%100 != 0 ){\n        return true;\n    }\n    else if(y%400 == 0){\n        return true;\n    }\n    return false;\n}\n\nint main() {\n\n\n    string s;\n\n    while(1){\n\n        cin >> s;\n\n        if(s[0] == '#') break;\n\n        vector<string> vs = split(s,'.');\n\n        if(vs.size() == 3){\n            int b,ka,t,w,ki;\n            b = ka = t = w = ki = 0;\n\n            int y,m,d;\n\n            stringstream ss;\n\n            ss << vs[0]; ss >> y; ss.clear();\n            ss << vs[1]; ss >> m; ss.clear();\n            ss << vs[2]; ss >> d; ss.clear();\n\n            if(y==2012){\n                 ki = d - 21;\n            }\n\n            else {\n\n                /*while (y != 2012) {\n\n                    do {\n\n                        while (d != 0) {\n                            d--;\n                            ki++;\n                        }\n\n                        m--;\n\n                        if (m == 1 || m == 3 || m == 5 || m == 7 || m == 8 || m == 10 || m == 0) {\n                            d = 31;\n                        } else if (m == 4 || m == 6 || m == 9 || m == 11) {\n                            d = 30;\n                        } else if (m == 2 && reap(y)) {\n                            d = 29;\n                        } else {\n                            d = 28;\n                        }\n\n                    } while (m != 0);\n\n                    if (ki >= 20) {\n                        w += ki / 20;\n                        ki %= 20;\n                    }\n                    if (w >= 18) {\n                        t += w / 18;\n                        w %= 18;\n                    }\n                    if (t >= 20) {\n                        ka += t / 20;\n                        t %= 20;\n                    }\n                    if (ka >= 20) {\n                        b += ka / 20;\n                        ka %= 20;\n                    }\n                    if (b >= 13) {\n                        b %= 13;\n                    }\n\n                    m = 12;\n\n                    y--;\n\n                }*/\n\n                if(d>21){\n                    ki += d-21;\n                    d = 21;\n                }\n                else{\n                    m--;\n                    if(m==0){\n                        ki += d+31-21;\n                        m = 12;\n                        y--;\n                    }\n                    else if(m == 3 || m == 5 || m == 7 || m == 8 || m == 10 || m == 1){\n                        ki += d+31-21;\n                    }\n                    else if(m == 4 || m == 6 || m == 9 || m == 11){\n                        ki += d+30-21;\n                    }\n                    else if(m == 2 && reap(y)){\n                        ki += d+29-21;\n                    }\n                    else{\n                        ki += d+28-21;\n                    }\n                    ki++;\n                    d = 21;\n                }\n\n                while(y!=2012){\n\n                    while(m!=0){\n                        if(m == 1 || m == 3 || m == 5 || m == 7 || m == 8 || m == 10 || m == 12){\n                            ki += 31;\n                        }\n                        else if(m == 4 || m == 6 || m == 9 || m == 11){\n                            ki += 30;\n                        }\n                        else if(m == 2 && reap(y)){\n                            ki += 29;\n                        }\n                        else{\n                            ki += 28;\n                        }\n                        m--;\n                    }\n\n                    if(ki>=20){\n                        w += ki/20;\n                        ki %= 20;\n                    }\n                    if(w>=18){\n                        t += w/18;\n                        w %= 18;\n                    }\n                    if(t>=20){\n                        ka += t/20;\n                        t %= 20;\n                    }\n                    if(ka>=20){\n                        b += ka/20;\n                        ka %= 20;\n                    }\n                    if(b>=13){\n                        b %= 13;\n                    }\n\n                    m = 12;\n\n                    y--;\n\n                }\n\n                if(ki>=20){\n                    w += ki/20;\n                    ki %= 20;\n                }\n                if(w>=18){\n                    t += w/18;\n                    w %= 18;\n                }\n                if(t>=20){\n                    ka += t/20;\n                    t %= 20;\n                }\n                if(ka>=20){\n                    b += ka/20;\n                    ka %= 20;\n                }\n                if(b>=13){\n                    b %= 13;\n                }\n\n                //ki += 31 - 21;\n\n                if (ki >= 20) {\n                    w += ki / 20;\n                    ki %= 20;\n                }\n                if (w >= 18) {\n                    t += w / 18;\n                    w %= 18;\n                }\n                if (t >= 20) {\n                    ka += t / 20;\n                    t %= 20;\n                }\n                if (ka >= 20) {\n                    b += ka / 20;\n                    ka %= 20;\n                }\n                if (b >= 13) {\n                    b %= 13;\n                }\n\n                /*if(ki<0){\n                    if(w==0){\n                        if(t==0){\n                            if(ka==0){\n                                b--;\n                                ka = 19;\n                                t = 19;\n                                w = 17;\n                                ki += 19;\n                            }\n                            else{\n                                ka--;\n                                t = 19;\n                                w = 17;\n                                ki += 19;\n                            }\n                        }\n                        else{\n                            t--;\n                            w = 17;\n                            ki += 19;\n                        }\n                    }\n                    else{\n                        w--;\n                        ki += 19;\n                    }\n                }*/\n\n            }\n\n            printf(\"%d.%d.%d.%d.%d\\n\",b,ka,t,w,ki);\n\n\n        }\n        else{\n\n            long long int day = 0;\n\n            long long int b,ka,t,w,ki;\n            b = ka = t = w = ki = 0;\n\n            long long int y,m,d;\n\n            stringstream ss;\n\n            ss << vs[0]; ss >> b; ss.clear();\n            ss << vs[1]; ss >> ka; ss.clear();\n            ss << vs[2]; ss >> t; ss.clear();\n            ss << vs[3]; ss >> w; ss.clear();\n            ss << vs[4]; ss >> ki; ss.clear();\n\n            day = ki + w*20 + t*20*18 + ka*20*18*20 + b*20*18*20*20;\n\n            y = 2012; m = 12; d = 21;\n/*\n            if(day > 10){\n                y++; m = 1; d = 1; day -= 11;\n            }\n            else{\n                d += day;\n                day = 0;\n            }\n\n            while(day!=0){\n\n                if(m == 1 || m == 3 || m == 5 || m == 7 || m == 8 || m == 10){\n                    if(day >= 31){\n                        m++;\n                        day -= 31;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }\n                }\n                else if(m == 4 || m == 6 || m == 9 || m == 11){\n                    if(day >= 30){\n                        m++;\n                        day -= 30;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }\n                }\n                else if(m == 2 && reap(y)){\n                    if(day >= 29){\n                        m++;\n                        day -= 29;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }\n                }\n                else if(m == 2){\n                    if(day >= 28){\n                        m++;\n                        day -= 28;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }\n                }\n                else if(m == 12) {\n                    if(day >= 31){\n                        m = 1;\n                        y++;\n                        day -= 31;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }\n                }\n\n            }\n*/\n\n            while(day!=0){\n\n                if(m == 1 || m == 3 || m == 5 || m == 7 || m == 8 || m == 10){\n                    while(day != 0 && d != 32){\n                        day--;\n                        d++;\n                    }\n                    if(d==32){\n                        m++;\n                        d = 1;\n                    }\n                    /*if(day >= 31){\n                        m++;\n                        day -= 31;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }*/\n                }\n                else if(m == 4 || m == 6 || m == 9 || m == 11){\n                    while(day != 0 && d != 31){\n                        day--;\n                        d++;\n                    }\n                    if(d==31){\n                        m++;\n                        d = 1;\n                    }\n                    /*if(day >= 30){\n                        m++;\n                        day -= 30;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }*/\n                }\n                else if(m == 2 && reap(y)){\n                    while(day != 0 && d != 30){\n                        day--;\n                        d++;\n                    }\n                    if(d==30){\n                        m++;\n                        d = 1;\n                    }\n                    /*if(day >= 29){\n                        m++;\n                        day -= 29;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }*/\n                }\n                else if(m == 2){\n                    while(day != 0 && d != 29){\n                        day--;\n                        d++;\n                    }\n                    if(d==29){\n                        m++;\n                        d = 1;\n                    }\n                    /*if(day >= 28){\n                        m++;\n                        day -= 28;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }*/\n                }\n                else if(m == 12) {\n                    while(day != 0 && d != 32){\n                        day--;\n                        d++;\n                    }\n                    if(d==32){\n                        m = 1;\n                        d = 1;\n                        y++;\n                    }\n                    /*if(day >= 31){\n                        m = 1;\n                        y++;\n                        day -= 31;\n                    }\n                    else{\n                        d += day;\n                        day = 0;\n                    }*/\n                }\n\n            }\n\n            printf(\"%lld.%lld.%lld\\n\",y,m,d);\n\n\n        }\n\n    }\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <stdio.h>\n#include <algorithm>\n#include <string>\n#include <sstream>\nusing namespace std;\ntypedef long long ll;\nll b,ka,t,w,ki,y,m,d;\nint month[12]={31,28,31,30,31,30,31,31,30,31,30,31};\nbool uru(ll num){\n\tif(num%4)return false;\n\telse if(num%100)return true;\n\telse if(num%400)return false;\n\telse return true;\n}\nvoid num_to_s(ll num){\n\ty=2012;\n\tm=d=0;\n\tif(num<=10){\n\t\tm=12;\n\t\td=21+num;\n\t}else{\n\t\tnum-=10;\n\t\twhile(num>0){\n\t\t\ty++;\n\t\t\tif(uru(y))num-=366;\n\t\t\telse num-=365;\n\t\t}\n\t\tif(uru(y)){\n\t\t\tnum+=366;\n\t\t\tmonth[1]=29;\n\t\t}else{\n\t\t\tnum+=365;\n\t\t}\n\t\tint k;\n\t\tfor(k=0;num>0;k++){\n\t\t\tnum-=month[k];\n\t\t}\n\t\tk--;\n\t\tm=k+1;\n\t\td=num+month[k];\n\t}\n\tcout<<y<<\".\"<<m<<\".\"<<d<<endl;\n\tmonth[1]=28;\n\treturn;\n}\nvoid num_to_m(ll num){\n\tb=ka=t=w=ki=0;\n\tki=num%20;\n\tnum/=20;\n\tw=num%18;\n\tnum/=18;\n\tt=num%20;\n\tnum/=20;\n\tka=num%20;\n\tnum/=20;\n\tb=num%13;\n\tcout<<b<<\".\"<<ka<<\".\"<<t<<\".\"<<w<<\".\"<<ki<<endl;\n\treturn;\n}\n\nint main()\n{\n\tstring tmp;\n\twhile(cin>>tmp){\n\t\tstringstream ss;\n\t\ty=m=d=0;\n\t\tb=ka=t=w=ki=0;\n\t\tint p1=tmp.find('.');\n\t\tint p2=tmp.find('.',p1+1);\n\t\tint p3=tmp.find('.',p2+1);\n\t\tint p4=tmp.find('.',p3+1);\n\t\ttmp[p1]=tmp[p2]=' ';\n\t\tif(tmp==\"#\"){\n\t\t\tbreak;\n\t\t}else if(p1>=4){//seireki\n\t\t\tss.str(tmp);\n\t\t\tss>>y>>m>>d;\n\t\t\t//cout<<y<<\".\"<<m<<\".\"<<d<<endl;\n\t\t\tll num=0,num2=0;\n\t\t\ty--;\n\t\t\tif(y==2011){\n\t\t\t\tnum=d-21;\n\t\t\t}else{\n\t\t\t\tnum=(y-2012)*365+y/4-y/100+y/400;\n\t\t\t\tnum-=2012/4-2012/100+2012/400;\n\t\t\t\tfor(int i=1;i<m;i++){\n\t\t\t\t\tnum2+=month[i-1];\n\t\t\t\t}\n\t\t\t\tnum2+=d+10;\n\t\t\t\tif(uru(++y)&&m>=3)num2++;\n\t\t\t}\n\t\t\tnum_to_m(num+num2);\n\t\t}else{//mayareki\n\t\t\ttmp[p3]=tmp[p4]=' ';\n\t\t\tss.str(tmp);\n\t\t\tss>>b>>ka>>t>>w>>ki;\n\t\t\t//cout<<b<<\".\"<<ka<<\".\"<<t<<\".\"<<w<<\".\"<<ki<<endl;\n\t\t\tka+=b*20;\n\t\t\tt+=ka*20;\n\t\t\tw+=t*18;\n\t\t\tki+=w*20;\n\t\t\tnum_to_s(ki);\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <map>\n#include <cstring>\n#include <string>\n#include <stack>\n#include <queue>\n#include <cmath>\n#include <cstdlib>\n#include <cstdio>\n#include <algorithm>\n#include <sstream>\n#include <set>\nusing namespace std;\n\n#define rep(i,n) for(int i=0;i<(int)n;i++)\n#define repp(i,k,n) for(int i=k;i<(int)n;i++)\n#define rei(n) for(int i=0;i<(int)n;i++)\n#define rel(n) for(int l=0;l<(int)n;l++)\n#define al(s) s.begin(),s.end()\n#define INT_MAX 2147483647\n\nstruct Calendar\n{\n\tlong long year;\n\tlong long month;\n\tlong long day;\n\tlong long dat[2][13];\n\tCalendar(long long y, long long m, long long d)\n\t{\n\t\tyear = y;\n\t\tmonth = m;\n\t\tday = d;\n\t\tdat[0][1] = dat[1][1] = 31;\n\t\tdat[0][2] = dat[1][2] = 28;\n\t\tdat[0][3] = dat[1][3] = 31;\n\t\tdat[0][4] = dat[1][4] = 30;\n\t\tdat[0][5] = dat[1][5] = 31;\n\t\tdat[0][6] = dat[1][6] = 30;\n\t\tdat[0][7] = dat[1][7] = 31;\n\t\tdat[0][8] = dat[1][8] = 31;\n\t\tdat[0][9] = dat[1][9] = 30;\n\t\tdat[0][10] = dat[1][10] = 31;\n\t\tdat[0][11] = dat[1][11] = 30;\n\t\tdat[0][12] = dat[1][12] = 31;\n\t\tdat[1][2] = 29;\n\t}\n\tint uruu()\n\t{\n\t\tif (year % 4 == 0)\n\t\t{\n\t\t\tif (year % 400 != 0 && year % 100 == 0)\n\t\t\t{\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t}\n\t\treturn 0;\n\t}\n\tint uruu(long long y)\n\t{\n\t\tif (y % 4 == 0)\n\t\t{\n\t\t\tif (y % 400 != 0 && y % 100 == 0)\n\t\t\t{\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t}\n\t\treturn 0;\n\t}\n\tlong long pday(long long d)\n\t{\n\t\tday += d;\n\t\tfor (;; month++)\n\t\t{\n\t\t\tif (month >= 13)\n\t\t\t{\n\t\t\t\tyear++;\n\t\t\t\tmonth = 1;\n\t\t\t}\n\n\t\t\tif (dat[uruu()][month] < day)\n\t\t\t{\n\t\t\t\tday -= dat[uruu()][month];\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tpmonth(0);\n\t\treturn d;\n\t}\n\tlong long pmonth(long long m)\n\t{\n\t\tmonth += m;\n\t\tfor (;; year++)\n\t\t{\n\t\t\tif (month > 12)\n\t\t\t{\n\t\t\t\tmonth -= 12;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn m;\n\t}\n\tlong long pyear(long long y)\n\t{\n\t\tyear += y;\n\t\treturn y;\n\t}\n\tlong long dif(Calendar c)\n\t{\n\t\tlong long ans = 0;\n\t\tCalendar a(year, month, day);\n\t\tans -= a.day;\n\t\tans += c.day;\n\t\ta.day = 0;\n\t\tc.day = 0;\n\t\tfor (; a.month >= 1; a.month--)\n\t\t{\n\t\t\tans -= dat[a.uruu()][a.month];\n\t\t}\n\t\tfor (; c.month >= 1; c.month--)\n\t\t{\n\t\t\tans += dat[c.uruu()][c.month];\n\t\t}\n\t\tfor (; a.year != c.year; a.year++)\n\t\t{\n\t\t\tans += 365;\n\t\t\tif (a.uruu())ans++;\n\t\t}\n\t\treturn ans;\n\t}\n\n\n};\n\n\n\n\nlong long date[5]{ 1872000 / 13,1872000 / 13 / 20,1872000 / 13 / 20 / 20,1872000 / 13 / 20 / 20 / 18,1 };\n\nint main()\n{\n\tstring a;\n\twhile (1)\n\t{\n\t\tgetline(cin, a);\n\t\tif (a.find(\"#\") != string::npos)break;\n\t\tint coun = 0;\n\t\tfor (int i = 0; i < a.size(); i++)\n\t\t{\n\t\t\tif (a[i] == '.')coun++;\n\t\t}\n\t\tif (coun == 2)\n\t\t{\n\t\t\tstring dat[3];\n\t\t\tlong long year, month, day;\n\t\t\tlong long p = 0;\n\t\t\tfor (int i = 0; i < a.size(); i++)\n\t\t\t{\n\t\t\t\tif (a[i] == '.')p++;\n\t\t\t\telse dat[p] += a[i];\n\t\t\t}\n\t\t\tyear = atoi(dat[0].c_str());\n\t\t\tmonth = atoi(dat[1].c_str());\n\t\t\tday = atoi(dat[2].c_str());\n\n\t\t\tCalendar A(year, month, day), B(2012, 12, 21);\n\n\t\t\tlong long dif = B.dif(A);\n\t\t\tif (dif >= 0)\n\t\t\t{\n\t\t\t\tdif %= 1872000;\n\t\t\t\tfor (int i = 0; i < 5; i++)\n\t\t\t\t{\n\t\t\t\t\tif (i)\n\t\t\t\t\t{\n\t\t\t\t\t\tcout << \".\";\n\t\t\t\t\t}\n\t\t\t\t\tcout << dif / date[i];\n\t\t\t\t\tdif %= date[i];\n\t\t\t\t}\n\t\t\t\tcout << endl;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tdif *= -1;\n\t\t\t\tdif %= 1872000;\n\t\t\t\tint gf[5] = { 12,19,19,17,20 };\n\t\t\t\tfor (int i = 0; i < 5; i++)\n\t\t\t\t{\n\t\t\t\t\tif (i)\n\t\t\t\t\t{\n\t\t\t\t\t\tcout << \".\";\n\t\t\t\t\t}\n\t\t\t\t\tcout <<gf[i]- dif / date[i];\n\t\t\t\t\tdif %= date[i];\n\t\t\t\t}\n\t\t\t\tcout << endl;\n\t\t\t}\n\t\t\t\n\t\t}\n\t\telse\n\t\t{\n\t\t\tstring dat[5];\n\t\t\tint p = 0;\n\t\t\tfor (int i = 0; i < a.size(); i++)\n\t\t\t{\n\t\t\t\tif (a[i] == '.')p++;\n\t\t\t\telse dat[p] += a[i];\n\t\t\t}\n\t\t\tlong long days = 0;\n\t\t\tfor (int i = 0; i < 5; i++)\n\t\t\t{\n\t\t\t\tdays += date[i] * atoi(dat[i].c_str());\n\t\t\t}\n\t\t\tCalendar A(2012, 12, 21);\n\t\t\tA.pday(days);\n\t\t\tcout << A.year << \".\" << A.month << \".\" << A.day << endl;\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <cmath>\n#include <algorithm>\n#include <stack>\n#include <queue>\n#include <vector>\n\nusing namespace std;\n\nint monthTable[13] = {0,31,28,31,30,31,30,31,31,30,31,30,31};\nint monthTable2[13] = {0,31,29,31,30,31,30,31,31,30,31,30,31};\n\nbool isLeapYear(int year){\n\tif(year % 4 == 0){\n\t\tif(year % 100 == 0){\n\t\t\tif(year % 400 == 0){\n\t\t\t\treturn true;\n\t\t\t}else{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}else{\n\t\t\treturn true;\n\t\t}\n\t}else{\n\t\treturn false;\n\t}\n}\n\nint main(){\n\n\tlong long int sum,tmp,year,month,day,b,ka,t,w,ki,NUMBER = 735224;\n\tint count,status;\n\tchar buf[100];\n\n\twhile(true){\n\t\tscanf(\"%s\",buf);\n\t\tif(buf[0] == '#')break;\n\n\t\tcount = 0;\n\n\t\tfor(int i = 0;buf[i] != '\\0';i++){\n\t\t\tif(buf[i] == '.')count++;\n\t\t}\n\n\t\tsum = 0;\n\t\tif(count == 2){\n\t\t\tstatus = 0;\n\t\t\ttmp = 0;\n\n\t\t\tfor(int i = 0; buf[i] != '\\0';i++){\n\t\t\t\tif(buf[i] >= '0' && buf[i] <= '9'){\n\t\t\t\t\ttmp = 10*tmp+(buf[i]-'0');\n\n\t\t\t\t\tif(buf[i+1] == '\\0'){\n\t\t\t\t\t\tday = tmp;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(status == 0){\n\t\t\t\t\t\tyear = tmp;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tmonth = tmp;\n\t\t\t\t\t}\n\t\t\t\t\tstatus++;\n\t\t\t\t\ttmp = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(year == 2012){\n\t\t\t\tsum = day - 21;\n\t\t\t}else{\n\n\t\t\t\tsum += 10;\n\n\t\t\t\tfor(int i = 2013; i <= year-1; i++){\n\t\t\t\t\tif(isLeapYear(i))sum += 366;\n\t\t\t\t\telse{\n\t\t\t\t\t\tsum += 365;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor(int i = 1; i <= month-1; i++){\n\t\t\t\t\tif(i == 2 && isLeapYear(year) == true){\n\t\t\t\t\t\tsum += 29;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tsum += monthTable[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tsum += day;\n\t\t\t}\n\n\t\t\tprintf(\"%lld.\",(sum/144000)%13);\n\t\t\tsum %= 144000;\n\t\t\tprintf(\"%lld.\",sum/7200);\n\t\t\tsum %= 7200;\n\t\t\tprintf(\"%lld.\",sum/360);\n\t\t\tsum %= 360;\n\t\t\tprintf(\"%lld.\",sum/20);\n\t\t\tsum %= 20;\n\t\t\tprintf(\"%lld\\n\",sum);\n\n\t\t}else{ //????????´?????\\??????????????´???\n\t\t\tstatus = 0;\n\t\t\ttmp = 0;\n\n\t\t\tfor(int i = 0; buf[i] != '\\0';i++){\n\t\t\t\tif(buf[i] >= '0' && buf[i] <= '9'){\n\t\t\t\t\ttmp = 10*tmp + (buf[i] - '0');\n\n\t\t\t\t\tif(buf[i+1] == '\\0'){\n\t\t\t\t\t\tki = tmp;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(status == 0){\n\t\t\t\t\t\tb = tmp;\n\t\t\t\t\t}else if(status == 1){\n\t\t\t\t\t\tka = tmp;\n\t\t\t\t\t}else if(status == 2){\n\t\t\t\t\t\tt = tmp;\n\t\t\t\t\t}else if(status == 3){\n\t\t\t\t\t\tw = tmp;\n\t\t\t\t\t}\n\t\t\t\t\tstatus++;\n\t\t\t\t\ttmp = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tsum = 144000*b + 7200*ka + 360*t + 20*w + ki + NUMBER;\n\n\t\t\tyear = 0,month = 1;\n\n\t\t\tfor(int i = 0;sum > 366; i++){\n\t\t\t\tif(isLeapYear(i)){\n\t\t\t\t\tsum -= 366;\n\t\t\t\t}else{\n\t\t\t\t\tsum -= 365;\n\t\t\t\t}\n\t\t\t\tyear++;\n\t\t\t}\n\n\t\t\tif((sum <= 365) || (sum == 366 && isLeapYear(year))){\n\n\t\t\t\tif(isLeapYear(year)){\n\t\t\t\t\tfor(int i = 1; i <= 12 && sum > monthTable2[i];i++){\n\t\t\t\t\t\tsum -= monthTable2[i];\n\t\t\t\t\t\tmonth++;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tfor(int i = 1; i <= 12 && sum > monthTable[i];i++){\n\t\t\t\t\t\tsum -= monthTable[i];\n\t\t\t\t\t\tmonth++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tyear++;\n\t\t\t\tmonth = 1;\n\t\t\t\tsum = 1;\n\t\t\t}\n\t\t\tprintf(\"%lld.%lld.%lld\\n\",(year)%10000001,month,sum);\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "Haskell",
    "code": "import Control.Monad\nimport Data.List\nimport Data.List.Split\n\nleaps y = y `div` 4 - y `div` 100 + y `div` 400\nisLeap 0 = False\nisLeap y = y `mod` 4 == 0 && (y `mod` 100 /= 0 || y `mod` 400 == 0)\ny2d y = y * 365 + leaps y\n\ncalendar = [31,28,31,30,31,30,31,31,30,31,30,31]\nmon2d m = sum $ genericTake (m - 1) calendar\n\ng2d y m d\n | isLeap y && m <= 2 = x - 1\n | otherwise = x\n where x = y2d y + mon2d m + d\n\ndivModIf x (y,z)\n | p == z = (p - 1, q + y)\n | otherwise = t\n where t@(p,q) = divMod x y\n\nd2y x = (a * 400 + c * 100 + e * 4 + g, h)\n where \n  (a,b) = x `divMod` (365 * 400 + 100 - 4 + 1)\n  (c,d) = b `divModIf` (365 * 100 + 25 - 1, 4)\n  (e,f) = d `divMod` (365 * 4 + 1)\n  (g,h) = f `divModIf` (365, 4)\n\nd2mon x = f x 1 calendar\n where\n  f x y (z:zs)\n   | x <= z = (y, x)\n   | otherwise = f (x - z) (y + 1) zs\n\nleapDay = mon2d 3\n\nd2g x\n | not (isLeap y) && a == 0 = [y - 1, 12, 31]\n | not (isLeap y) = [y, m, d]\n | a == leapDay = [y, 2, 29]\n | a > leapDay = [y, m, d]\n | otherwise = [y, m', d']\n where \n  (y,a) = d2y x\n  (m,d) = d2mon a\n  (m',d') = d2mon (a + 1)\n\nn2xn _ ys [] = ys\nn2xn x ys (z:zs) = n2xn p (q : ys) zs\n where (p,q) = divMod x z\nxn2n ys zs = f 1 ys zs\n where\n  f _ [] _ = 0\n  f x (y:ys) (z:zs) = x * y + f (x * z) ys zs\n\nmds = [20,18,20,20,13]\nmbase = g2d 2012 12 21\nm2d b ka t w ki = mbase + xn2n [ki,w,t,ka,b] mds\nmmax = m2d 12 19 19 17 19 - mbase\nd2m x = n2xn ((x - mbase) `mod` (mmax + 1)) [] mds\n\nmain = do\n l <- getLine\n when (l /= \"#\") $ do\n  putStrLn $ intercalate \".\" $ map show $ \n   case map read $ splitOn \".\" $ l of\n    [y,m,d] -> d2m $ g2d y m d \n    [b,ka,t,w,ki] -> d2g $ m2d b ka t w ki\n  main"
  },
  {
    "language": "Haskell",
    "code": "import Control.Monad\nimport Data.List\nimport Data.List.Split\n\nleaps y = y `div` 4 - y `div` 100 + y `div` 400\nisLeap 0 = False\nisLeap y = y `mod` 4 == 0 && (y `mod` 100 /= 0 || y `mod` 400 == 0)\ny2d y = y * 365 + leaps y\n\ncalendar = [31,28,31,30,31,30,31,31,30,31,30,31]\nmon2d m = sum $ genericTake (m - 1) calendar\n\ng2d y m d\n | isLeap y && m <= 2 = x - 1\n | otherwise = x\n where x = y2d y + mon2d m + d\n\ndivModIf x (y,z)\n | p == z = (p - 1, q + y)\n | otherwise = t\n where t@(p,q) = divMod x y\n\nd2y x = (a * 400 + c * 100 + e * 4 + g, h)\n where \n  (a,b) = x `divMod` (365 * 400 + 100 - 4 + 1)\n  (c,d) = b `divModIf` (365 * 100 + 25 - 1, 4)\n  (e,f) = d `divMod` (365 * 4 + 1)\n  (g,h) = f `divModIf` (365, 4)\n\nd2mon x = f x 1 calendar\n where\n  f x y (z:zs)\n   | x <= z = (y, x)\n   | otherwise = f (x - z) (y + 1) zs\n\nleapDay = mon2d 3\n\nd2g x\n | a == 0 = [y - 1, 12, 31]\n | not (isLeap y) = [y, m, d]\n | a == leapDay = [y, 2, 29]\n | a > leapDay = [y, m, d]\n | otherwise = [y, m', d']\n where \n  (y,a) = d2y x\n  (m,d) = d2mon a\n  (m',d') = d2mon (a + 1)\n\nn2xn _ ys [] = ys\nn2xn x ys (z:zs) = n2xn p (q : ys) zs\n where (p,q) = divMod x z\nxn2n ys zs = f 1 ys zs\n where\n  f _ [] _ = 0\n  f x (y:ys) (z:zs) = x * y + f (x * z) ys zs\n\nmds = [20,18,20,20,13]\nmbase = g2d 2012 12 21\nm2d b ka t w ki = mbase + xn2n [ki,w,t,ka,b] mds\nmmax = m2d 12 19 19 17 19 - mbase\nd2m x = n2xn ((x - mbase) `mod` (mmax + 1)) [] mds\n\nmain = do\n l <- getLine\n when (l /= \"#\") $ do\n  putStrLn $ intercalate \".\" $ map show $ \n   case map read $ splitOn \".\" $ l of\n    [y,m,d] -> d2m $ g2d y m d \n    [b,ka,t,w,ki] -> d2g $ m2d b ka t w ki\n  main"
  },
  {
    "language": "Haskell",
    "code": "import Control.Monad\nimport Data.List\nimport Data.List.Split\n\nleaps y = y `div` 4 - y `div` 100 + y `div` 400\nisLeap 0 = False\nisLeap y = y `mod` 4 == 0 && (y `mod` 100 /= 0 || y `mod` 400 == 0)\ny2d y = y * 365 + leaps y\n\ncalendar = [31,28,31,30,31,30,31,31,30,31,30,31]\nmon2d m = sum $ genericTake (m - 1) calendar\n\ng2d y m d\n | isLeap y && m <= 2 = x - 1\n | otherwise = x\n where x = y2d y + mon2d m + d\n\ndivModIf x (y,z)\n | p == z = (p - 1, q + y)\n | otherwise = t\n where t@(p,q) = divMod x y\n\nd2y x = (a * 400 + c * 100 + e * 4 + g, h)\n where \n  (a,b) = x `divMod` (365 * 400 + 100 - 4 + 1)\n  (c,d) = b `divModIf` (365 * 100 + 25 - 1, 4)\n  (e,f) = d `divMod` (365 * 4 + 1)\n  (g,h) = f `divModIf` (365, 4)\n\nd2mon x = f x 1 calendar\n where\n  f x y (z:zs)\n   | x <= z = (y, x)\n   | otherwise = f (x - z) (y + 1) zs\n\nleapDay = mon2d 3\n\nd2g x\n | not (isLeap y) = [y, m, d]\n | a == leapDay = [y, 2, 29]\n | a > leapDay = [y, m, d]\n | otherwise = [y, m', d']\n where \n  (y,a) = d2y x\n  (m,d) = d2mon a\n  (m',d') = d2mon (a + 1)\n\nn2xn _ ys [] = ys\nn2xn x ys (z:zs) = n2xn p (q : ys) zs\n where (p,q) = divMod x z\nxn2n ys zs = f 1 ys zs\n where\n  f _ [] _ = 0\n  f x (y:ys) (z:zs) = x * y + f (x * z) ys zs\n\nmds = [20,18,20,20,13]\nmbase = g2d 2012 12 21\nm2d b ka t w ki = mbase + xn2n [ki,w,t,ka,b] mds\nmmax = m2d 12 19 19 17 19\nd2m x = n2xn ((x - mbase) `mod` (mmax + 1)) [] mds\n\nmain = do\n l <- getLine\n when (l /= \"#\") $ do\n  putStrLn $ intercalate \".\" $ map show $ \n   case map read $ splitOn \".\" $ l of\n    [y,m,d] -> d2m $ g2d y m d \n    [b,ka,t,w,ki] -> d2g $ m2d b ka t w ki\n  main"
  },
  {
    "language": "Haskell",
    "code": "import Control.Applicative\nimport Control.Monad\nimport Data.List\nimport Data.List.Split (splitOn)\n\nimport Data.Time.Calendar\n\nmain :: IO ()\nmain = do\n  s <- getLine\n  unless (s == \"#\") $ do\n    putStrLn $ solve s\n    main\n\nsolve :: String -> String\nsolve s\n  | length ds == 3 = intercalate \".\" $ map show $ ce_maya ds\n  | otherwise = intercalate \".\" $ map show $ maya_ce ds\n  where\n    ds = map read $ splitOn \".\" s :: [Int]\n    \n\nce_maya :: [Int] -> [Int]\nce_maya [cy, cm, cd] = g $ reverse $ f [] (fromIntegral td) [20 * 18 * 20 * 20, 20 * 18 * 20, 20 * 18, 20]\n  where\n    d = fromGregorian (fromIntegral cy) cm cd\n    td = diffDays d (fromGregorian 2012 12 21)\n    f ls d [x] = let (q, r) = divMod d x in (r : q : ls)\n    f ls d (x:xs) = let (q, r) = divMod d x in\n                     f (q:ls) r xs\n    g (x:xs) = (x `mod` 13) : xs\n\nmaya_ce :: [Int] -> [Int]\nmaya_ce [b, ka, t, w, ki] = [fromIntegral cy, cm, cd]\n  where\n    td = ki + 20 * w + 20 * 18 * t + 20 * 18 * 20 * ka + 20 * 18 * 20 * 20 * b\n    bst  = fromGregorian 2012 12 21\n    (cy, cm, cd) = toGregorian (addDays (fromIntegral td) bst)\n\n"
  },
  {
    "language": "Haskell",
    "code": "import Control.Monad\nimport Data.List\nimport Data.List.Split\n\nleaps y = y `div` 4 - y `div` 100 + y `div` 400\nisLeap 0 = False\nisLeap y = y `mod` 4 == 0 && (y `mod` 100 /= 0 || y `mod` 400 == 0)\ny2d y = y * 365 + leaps y\n\ncalendar = [31,28,31,30,31,30,31,31,30,31,30,31]\nmon2d m = sum $ genericTake (m - 1) calendar\n\ng2d y m d\n | isLeap y && m <= 2 = x - 1\n | otherwise = x\n where x = y2d y + mon2d m + d\n\ndivModIf x (y,z)\n | p == z = (p - 1, q + y)\n | otherwise = t\n where t@(p,q) = divMod x y\n\nd2y x = (a * 400 + c * 100 + e * 4 + g, h)\n where \n  (a,b) = x `divMod` (365 * 400 + 100 - 4 + 1)\n  (c,d) = b `divModIf` (365 * 100 + 25 - 1, 4)\n  (e,f) = d `divMod` (365 * 4 + 1)\n  (g,h) = f `divModIf` (365, 4)\n\nd2mon x = f x 1 calendar\n where\n  f x y (z:zs)\n   | x <= z = (y, x)\n   | otherwise = f (x - z) (y + 1) zs\n\nleapDay = mon2d 3\n\nd2g x\n | not (isLeap y) = [y, m, d]\n | a == leapDay = [y, 2, 29]\n | a > leapDay = [y, m, d]\n | otherwise = [y, m', d']\n where \n  (y,a) = d2y x\n  (m,d) = d2mon a\n  (m',d') = d2mon (a + 1)\n\nn2xn _ ys [] = ys\nn2xn x ys (z:zs) = n2xn p (q : ys) zs\n where (p,q) = divMod x z\nxn2n ys zs = f 1 ys zs\n where\n  f _ [] _ = 0\n  f x (y:ys) (z:zs) = x * y + f (x * z) ys zs\n\nmds = [20,18,20,20,13]\nmbase = g2d 2012 12 21\nm2d b ka t w ki = mbase + xn2n [ki,w,t,ka,b] mds\nmmax = m2d 12 19 19 17 19\nd2m x = n2xn ((x - mbase) `mod` (mmax + 1)) [] mds\n\nmain = do\n l <- getLine\n when (l /= \"#\") $ do\n  putStrLn $ intercalate \".\" $ map show $ \n   case map read $ splitOn \".\" $ l of\n    [y,m,d] -> d2m $ g2d y m d \n    [b,ka,t,w,ki] -> d2g $ m2d b ka t w ki\n  main"
  },
  {
    "language": "C",
    "code": "// Aizu Vol-2 0261: Mayan Crucial Prediction\n// 2017.8.7\n\n#include <stdio.h>\n#include <ctype.h>\n\nchar *gets(char *);\nchar buf[100], *p;\n\nint getInt(void)\n{\n\tint n = 0;\n\twhile (isspace(*p) || *p == '.') p++;\n\tif (!*p) return -1;\n\twhile (isdigit(*p)) n = 10 * n + (*p++ - '0');\n\treturn n;\n}\n\n#define MAGIC 2456283\t\t// 2012.12.21\n\nvoid jd2ut(int *year, int *month, int *day,\tint j)\n{\n\tint c, k, e;\n\n//\tj++;\n\tif (j >= 2299161) j = j + 1 + (j - 1867216) / 36524 - (j - 1867216) / 146096;\n\tj += 1524;\n\n\tc = (int)(j - 122.1) / 365.25;\n\tk = 365L * c + c / 4;\n\te = (int)(j - k) / 30.6001;\n\n\t*year = c - 4716;\n\t*month = e - 1;\n\tif (*month > 12) (*month) -= 12, (*year)++;\n\t*day = j - k - (long)(30.6*e);\n}\n\nlong long ut2jd(int year, int month, int day)\n{\n\tlong long j;\n\n\tif (month <= 2) year--, month += 12;\n\tj = year / 4 + 3 - year / 100 + year / 400;\n\tj += 1720994L + (long long)year * 365 + (month + 1) * 30 + (month + 1) * 3 / 5 + day;\n\treturn j;\n}\n\nint main()\n{\n\tint b, ka, t, w, ki;\n\tint y, m, d;\n\tint a, k;\n\tlong long x;\n\n\twhile (1) {\n\t\tgets(p = buf); while (isspace(*p)) p++;\n\t\tif (*p == '#') break;\n\t\ty = getInt(), m = getInt(), d = getInt(), a = getInt();\n\t\tif (a >= 0) {  // maya -> Gregorian\n\t\t\tb = y, ka = m, t = d, w = a, ki = getInt();\n\t\t\tk = (((20 * b + ka) * 20 + t) * 18 + w) * 20 + ki;\n\t\t\tk += MAGIC;\n\t\t\tjd2ut(&y, &m, &d, k);\n\t\t\tprintf(\"%d.%d.%d\\n\", y, m, d);\n\t\t}\n\t\telse {\n\t\t\tx = (ut2jd(y, m, d) - MAGIC) % 1872000;\n\t\t\tk = (int)x;\n\t\t\tb = k / 144000, k %= 144000;\n\t\t\tka = k / 7200, k %= 7200;\n\t\t\tt = k / 360, k %= 360;\n\t\t\tw = k / 20, ki = k % 20;\n\t\t\tprintf(\"%d.%d.%d.%d.%d\\n\", b, ka, t, w, ki);\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<iostream>\n#include<string.h>\n#include<stdlib.h>\n#include<time.h>\n#include<stdio.h>\nusing namespace std;\nstruct tm T;\nstruct tm *a;\nint maya[5]={144000,7200,360,20,1};\nint sugi[5]={1,20,20,18,20};\nint main(){\n\tif(sizeof(time_t)!=8)exit(1);\n\ttime_t tt,kin,ans,s=1356015600;\n\t\tchar koyomi[50];\n\t int i,j;\n\tint  n[5]={0};\n\twhile(1){\n\t\tcin>>koyomi;\n\t\tif(koyomi[0]=='#'){\n\t\t\tbreak;\n\t\t}\n\t\tmemset(n,0,sizeof(n));\n\t\tj=0;\n\t\tcout<<strlen(koyomi)<<endl;\n\t\tfor(i=0;i<strlen(koyomi);i++){\n\t\t\tif(koyomi[i]=='.'){\n\t\t\t\tj++;\n\t\t\t}\n\t\t}\n\t\tcout<<j<<endl;\n\t\tif(j==2){\n\t\t\tsscanf(koyomi,\"%d.%d.%d\",&n[0],&n[1],&n[2]);\n\t\t\tT.tm_year=n[0]-1900;\n\t\t\tT.tm_mon=n[1]-1;\n\t\t\tT.tm_mday=n[2];\n\t\t\ttt=(mktime(&T)-s)/86400%1872000;\n\t\t\t//cout<<tt<<endl;\n\t\t\tprintf(\"%d.%d.%d.%d.%d\\n\",tt/144000,tt/7200%20,tt/360%20,tt/20%18,tt%20);\n\t\t}\n\t\telse{\n\t\t\tsscanf(koyomi,\"%d.%d.%d.%d.%d\",&n[0],&n[1],&n[2],&n[3],&n[4]);\n\t\t\ttt=(n[0]*144000+n[1]*7200+n[2]*360+n[3]*20+n[4])*86400+s;\n\t\t\ta=localtime(&tt);\n\t\t\tprintf(\"%d.%d.%d\\n\",a->tm_year+1900,a->tm_mon+1,a->tm_mday);\n\t\t}\n\t}\n\treturn 0;\n\texit(0);\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(){\n  char s[50];\n  int d[5],n,c,i,r;\n  int m12=365*13+4-11;\n  int d400=365*400+100-4+1;\n  int d100=365*100+25 -1;\n  int d4  =365*4  +1;\n  int a[5];\n  int M[]={0,31,28,31,30,31,30,31,31,30,31,30,31};\n  unsigned long long dt,t;\n  while(scanf(\"%s\",s),s[0]-'#'){\n    for(i=c=n=r=0;s[i];i++){\n      if(s[i]=='.'){\n\tc++;\n\td[r++]=n;\n\tn=0;\n      }\n      else{\n\tn*=10;\n\tn+=s[i]-'0';\n      }\n    }\n    d[r]=n;\n    dt=0;//-m12;\n    if(c==2){\n      //printf(\"%d %d %d\\n\",d[0],d[1],d[2]);\n      for(i=1;i<d[1];i++)dt+=M[i];\n      if(d[1]>2&&d[0]%4==0&&(d[0]%100||d[0]%400==0))dt++;\n      dt+=(unsigned long long)d[2]-1;\n      d[0]-=2001;\n      dt+=(unsigned long long)365*d[0]+d[0]/4-d[0]/100+d[0]/400+366-m12;\n      //printf(\"%d\\n\",m12);\n      a[4]=dt%20;\n      dt/=20;\n      a[3]=dt%18;\n      dt/=18;\n      a[2]=dt%20;\n      dt/=20;\n      a[1]=dt%20;\n      dt/=20;\n      a[0]=dt%13;\n      printf(\"%d.%d.%d.%d.%d\\n\",a[0],a[1],a[2],a[3],a[4]);      \n    }\n    else{\n      dt=d[0];\n      dt=dt*20+d[1];\n      dt=dt*20+d[2];\n      dt=dt*18+d[3];\n      dt=dt*20+d[4];\n      dt+=4738+1;\n      for(a[0]=2000;dt>365;a[0]++){\n\tt=dt;\n\tdt-=365;\n\tif(a[0]%4==0&&(a[0]%100||a[0]%400==0))dt--;\n      }\n      if(dt==0){\n\tdt=t;\n\ta[0]--;\n      }\n      /*a[0] =(dt/d400)*400;\n      dt%d400;\n      a[0]+=(dt/d100)*100;\n      dt%=d100;\n      a[0]+=(dt/d4  )*4  ;\n      dt%=d4  ;\n      a[0]+=(dt/365);\n      dt%=365;//*/\n      //if(59>dt&&a[0]%4==0&&(a[0]%100||a[0]%400==0))dt++;\n      for(i=1;i<13;i++){\n\tif(dt<=M[i])break;\n\tdt-=M[i];\n\tif(i==2&&a[0]%4==0&&(a[0]%100||a[0]%400==0)){\n\t  dt--;\n\t  if(dt==0){\n\t    dt=29;\n\t    break;\n\t  }\n\t}\n      }\n      printf(\"%d.%d.%lld\\n\",a[0],i,dt);\n    }\n  }\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include <stdlib.h>\n#include<string.h>\nchar str[20];\nint URUU[10000001];\nint l,b[5];\nint flg;\nlong long int day,day2;\nint NO();\nint main(){\n  int cnt,i;\n  for(i=0;i<=10000000;i++){\n    if((i%400==0)||(i%100!=0&&i%4==0))URUU[i]++;\n  }\n  while(1){\n    scanf(\"%s\",str);\n    if(strcmp(str,\"#\")==0) break;\n    l=strlen(str);\n\n    for(i=0,cnt=0;i<l;i++){\n      if(str[i]=='.') cnt++;\n    }\n\n    NO();\n  }\n  return 0;\n}\n\nint NO(){\n  int i,j,cnt,cnt2;\n\tint hoge;\n  char s[10];\n  flg=0;\n  for(i=0,j=0,cnt=0;i<=l;i++,j++){\n    if(str[i]=='.'||i==l){\n      s[j]='\\0';\n      j=-1;\n      b[cnt]=atoi(s);\n      cnt++;\n    }else{\n      s[j]=str[i];\n    }\n  }\n  //printf(\"%d\\n\",cnt);\n  if(cnt==3){\n  day=-734858;\n    for(i=1;i<b[0];i++){\n      if(URUU[i]==1)day+=366;\n      else day+=365;\n    }\n    for(i=1;i<b[1];i++){\n      switch(i){\n      case 4:\n      case 6:\n      case 9:\n      case 11:\n\tday+=30;\n\tbreak;\n      case 2:\n\tif(URUU[b[0]]==1)day+=29;\n\telse day+=28;\n\tbreak;\n      default:\n\tday+=31;\n\tbreak;\n      }\n    }\n    day+=b[2];\n    day%=1872000;\n    printf(\"%Ld.\",day/144000);\n    day%=144000;\n    printf(\"%Ld.\",day/7200);\n    day%=7200;\n    printf(\"%Ld.\",day/360);\n    day%=360;\n    printf(\"%Ld.\",day/20);\n    day%=20;\n    printf(\"%Ld\\n\",day);\n  }else{\n    day=0;\n    day+=b[0]*144000;\n    day+=b[1]*7200;\n    day+=b[2]*360;\n    day+=b[3]*20;\n    day+=b[4];\n    day+=734858;\n    day2=day;\n    for(i=1,j=0;;i++){\n      if(URUU[i+1]==1){\n\tif(j+366>=day)break;\n      }else{\n\tif(j+365>=day)break;\n      }\n      if(URUU[i]==1) j+=366;\n      else j+=365;\n    }\n    int y;\n    day-=j;y=i;\n    printf(\"%d.\",y);\n    for(i=1,j=0;j<day;i++){\n      switch(i){\n      case 4:\n      case 6:\n      case 9:\n      case 11:\n\tj+=30;\n\tif(day==j){\n\t  printf(\"%d.%d\\n\",i,30);\n\t  flg++;\n\t}\n\tbreak;\n      case 2:\n\n\tif(URUU[y]==1){\n\t  j+=29;\n\t  hoge=29;\n\t}  else{\n\t  j+=28;\n\t  hoge=28;\n\t}\n\tif(day==j){\n\t  printf(\"%d.%d\\n\",i,hoge);\n\t  flg++;\n\t}\n\tbreak;\n      default:\n\tj+=31;\n\tif(day==j){\n\t  printf(\"%d.%d\\n\",i,30);\n\t  flg++;\n\t}\n\tbreak;\n      }\n    }\n    if(flg==0){\n      printf(\"%d.%d\\n\",i-1,j-day-1);\n    }\n  }\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <time.h>\nchar s[99];\nstruct tm T;\nmain(i,j,a,b,c,d,e){\n\tif(sizeof(time_t)!=8)exit(1);\n\ttime_t t,t0=1356015600;\n\tfor(;scanf(\"%s\",s),*s!='#';){\n\t\tfor(j=i=0;i<strlen(s);i++)if(s[i]=='.')j++;\n\t\tif(j==2){\n\t\t\tsscanf(s,\"%d.%d.%d\",&a,&b,&c);\n\t\t\tT.tm_year=a-1900;\n\t\t\tT.tm_mon=b-1;\n\t\t\tT.tm_mday=c;\n\t\t\tt=(mktime(&T)-t0)/86400%1872000;\n\t\t\tprintf(\"%lld.%lld.%lld.%lld.%lld\\n\",t/144000,t/7200%20,t/360%20,t/20%18,t%20);\n\t\t}else{\n\t\t\tsscanf(s,\"%d.%d.%d.%d.%d\",&a,&b,&c,&d,&e);\n\t\t\tt=(a*144000LL+b*7200+c*360+d*20+e)*86400+t0;\n\t\t\tlocaltime_r(&t,&T);\n\t\t\tprintf(\"%d.%d.%d\\n\",T.tm_year+1900,T.tm_mon+1,T.tm_mday);\n\t\t}\n\t}\nexit(0);}"
  },
  {
    "language": "C",
    "code": "// Aizu Vol-2 0261: Mayan Crucial Prediction\n// 2017.8.7\n\n#include <stdio.h>\n#include <ctype.h>\n\nchar *gets(char *);\nchar buf[100], *p;\n\nint getInt(void)\n{\n\tint n = 0;\n\twhile (isspace(*p) || *p == '.') p++;\n\tif (!*p) return -1;\n\twhile (isdigit(*p)) n = 10 * n + (*p++ - '0');\n\treturn n;\n}\n\n#define MAGIC 2456283\t\t// 2012.12.21\n\nlong long greg2jd(int year, int month, int day)\n{\n\tlong long a, y, m;\n\tlong long j;\n\n\ta = (14 - month) / 12;\n\ty = year + 4800 - a;\n\tm = month + 12 * a - 3;\n\tj = day + (153 * m + 2) / 5 + 365 * y + y / 4 - y / 100 + y / 400 - 32045;\n\treturn j;\n}\n\nint jd2greg(int *year, int *month, int *day, int jd)\n{\n\tint a, b, c;\n\tint d, e, m;\n\tint yy;\n\tint m1;\n\n\ta = jd + 32044;\n\tb = (4 * a + 3) / 146097;\n\tc = a - (146097 * b) / 4;\n\td = (4 * c + 3) / 1461;\n\te = c - (1461 * d) / 4;\n\tm = (5 * e + 2) / 153;\n\tm1 = m / 10;\n\t*day = e - (153 * m + 2) / 5 + 1;\n\t*month = m + 3 - 12 * m1;\n\tyy = 100 * b + d - 4800 + m1;\n\tif (yy <= 0) { *year = -yy + 1; return -1; }\n\t*year = yy; return 1;\n}\n\nint main()\n{\n\tint b, ka, t, w, ki;\n\tint y, m, d;\n\tint a, k;\n\tlong long x;\n\n\twhile (1) {\n\t\tgets(p = buf);\n\t\tif (*p == '#') break;\n\t\ty = getInt(), m = getInt(), d = getInt(), a = getInt();\n\t\tif (a >= 0) {  // maya -> Gregorian\n\t\t\tb = y, ka = m, t = d, w = a, ki = getInt();\n\t\t\tk = (((20 * b + ka) * 20 + t) * 18 + w) * 20 + ki;\n\t\t\tk += MAGIC;\n\t\t\tjd2greg(&y, &m, &d, k);\n\t\t\tprintf(\"%d.%d.%d\\n\", y, m, d);\n\t\t}\n\t\telse {\n\t\t\tx = (greg2jd(y, m, d) - MAGIC) % 1872000;\n\t\t\tk = (int)x;\n\t\t\tb = k / 144000, k %= 144000;\n\t\t\tka = k / 7200, k %= 7200;\n\t\t\tt = k / 360, k %= 360;\n\t\t\tw = k / 20, ki = k % 20;\n\t\t\tprintf(\"%d.%d.%d.%d.%d\\n\", b, ka, t, w, ki);\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <ctype.h>\n \nchar *gets(char *);\nchar buf[100], *p;\n \nint getInt(void)\n{\n    int n = 0;\n    while (isspace(*p) || *p == '.') p++;\n    if (!*p) return -1;\n    while (isdigit(*p)) n = 10 * n + (*p++ - '0');\n    return n;\n}\n \n#define MAGIC 2456283       // 2012.12.21\n \nlong long greg2jd(int year, int month, int day)\n{\n    long long a, y, m;\n    long long j;\n \n    a = (14 - month) / 12;\n    y = year + 4800 - a;\n    m = month + 12 * a - 3;\n    j = day + (153 * m + 2) / 5 + 365 * y + y / 4 - y / 100 + y / 400 - 32045;\n    return j;\n}\n \nint jd2greg(int *year, int *month, int *day, int jd)\n{\n    int a, b, c;\n    int d, e, m;\n    int yy;\n    int m1;\n \n    a = jd + 32044;\n    b = (4 * a + 3) / 146097;\n    c = a - (146097 * b) / 4;\n    d = (4 * c + 3) / 1461;\n    e = c - (1461 * d) / 4;\n    m = (5 * e + 2) / 153;\n    m1 = m / 10;\n    *day = e - (153 * m + 2) / 5 + 1;\n    *month = m + 3 - 12 * m1;\n    yy = 100 * b + d - 4800 + m1;\n    if (yy <= 0) { *year = -yy + 1; return -1; }\n    *year = yy; return 1;\n}\n \nint main()\n{\n    int b, ka, t, w, ki;\n    int y, m, d;\n    int a, k;\n    long long x;\n \n    while (1) {\n        gets(p = buf);\n        if (*p == '#') break;\n        y = getInt(), m = getInt(), d = getInt(), a = getInt();\n        if (a >= 0) {  // maya -> Gregorian\n            b = y, ka = m, t = d, w = a, ki = getInt();\n            k = (((20 * b + ka) * 20 + t) * 18 + w) * 20 + ki;\n            k += MAGIC;\n            jd2greg(&y, &m, &d, k);\n            printf(\"%d.%d.%d\\n\", y, m, d);\n        }\n        else {\n            x = (greg2jd(y, m, d) - MAGIC) % 1872000;\n            k = (int)x;\n            b = k / 144000, k %= 144000;\n            ka = k / 7200, k %= 7200;\n            t = k / 360, k %= 360;\n            w = k / 20, ki = k % 20;\n            printf(\"%d.%d.%d.%d.%d\\n\", b, ka, t, w, ki);\n        }\n    }\n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nstatic const int monthDays[13]={\n\t0,31,59,90,120,151,181,212,243,273,304,334,365\n};\n\nstatic long long getDays(int year) {\n\tlong long result;\n\tif(year<0)return -getDays(-year)-366+365;\n\telse if(year==0)return 0;\n\tresult=(long long)year*365;\n\tresult+=year/4;\n\tresult-=year/100;\n\tresult+=year/400;\n\treturn result;\n}\n\nstatic long long getDays2(int fromYear,int toYear) {\n\treturn getDays(toYear)-getDays(fromYear);\n}\n\nstatic int getLeapYearNum(int year) {\n\tint result;\n\tif(year<0)return -getLeapYearNum(-year)-1;\n\telse if(year==0)return 0;\n\tresult=year/4;\n\tresult-=year/100;\n\tresult+=year/400;\n\treturn result;\n}\n\nstatic int getLeapYearNum2(int fromYear,int toYear) {\n\treturn getLeapYearNum(toYear)-getLeapYearNum(fromYear);\n}\n\nstatic int isLeapYear(int year) {\n\treturn (year%400==0 || (year%4==0 && year%100!=0));\n}\n\nlong long date2dayCount(int year,int month,int date) {\n\tlong long result;\n\tif(month<1 || month>12)return 0;\n\tresult=getDays2(1969,year-1);\n\tresult+=monthDays[month-1];\n\tif(isLeapYear(year)) {\n\t\tif(month>=3)result++;\n\t}\n\tresult+=date-1;\n\treturn result;\n}\n\nvoid dayCount2date(int* year,int* month,int* date,long long days) {\n\tint i;\n\tint yearNum;\n\tint amariDays;\n\tint daySeconds;\n\tint hoseiYear;\n\tint is2_29;\n\tif(days>=0) {\n\t\tyearNum=1970+(int)(days/365);\n\t\tamariDays=(int)(days%365);\n\t} else {\n\t\tdays=-days;\n\t\tyearNum=1970-(int)(days/365)-1;\n\t\tamariDays=365-(int)(days%365);\n\t}\n\tamariDays-=getLeapYearNum2(1969,yearNum-1);\n\twhile(1) {\n\t\tif((amariDays>=0 && amariDays<365) ||\n\t\t\t(amariDays==365 && isLeapYear(yearNum)))break;\n\t\tif(amariDays<0) {\n\t\t\thoseiYear=(-amariDays)/365+1;\n\t\t\tamariDays+=hoseiYear*365;\n\t\t\tamariDays+=getLeapYearNum(yearNum-1)-\n\t\t\t\tgetLeapYearNum(yearNum-hoseiYear-1);\n\t\t\tyearNum-=hoseiYear;\n\t\t} else if(amariDays>=365) {\n\t\t\thoseiYear=amariDays/365;\n\t\t\tamariDays=amariDays%365;\n\t\t\tamariDays-=getLeapYearNum(yearNum+hoseiYear-1)-\n\t\t\t\tgetLeapYearNum(yearNum-1);\n\t\t\tyearNum+=hoseiYear;\n\t\t} else break;\n\t}\n\tis2_29=0;\n\tif(isLeapYear(yearNum) && amariDays>=59) {\n\t\tif(amariDays==59)is2_29=1;\n\t\tamariDays--;\n\t}\n\tfor(i=1;i<=12;i++) {\n\t\tif(amariDays>=monthDays[i-1] && amariDays<monthDays[i])break;\n\t}\n\tamariDays-=monthDays[i-1];\n\tif(is2_29)amariDays++;\n\t*year=yearNum;\n\t*month=i;\n\t*date=amariDays+1;\n}\n\nint main(void) {\n\tchar input[1024];\n\tlong long days_origin=date2dayCount(2012,12,21);\n\twhile(fgets(input,sizeof(input),stdin)) {\n\t\tlong long days;\n\t\tint b,ka,t,w,ki;\n\t\tint y,m,d;\n\t\tint sscret;\n\t\tsscret=sscanf(input,\"%d.%d.%d.%d.%d\",&b,&ka,&t,&w,&ki);\n\t\tif(sscret==5) {\n\t\t\t/* maya -> seireki */\n\t\t\tdays=b;\n\t\t\tdays=days*20+ka;\n\t\t\tdays=days*20+t;\n\t\t\tdays=days*18+w;\n\t\t\tdays=days*20+ki;\n\t\t\tdayCount2date(&y,&m,&d,days+days_origin);\n\t\t\tprintf(\"%d.%d.%d\\n\",y,m,d);\n\t\t} else if(sscret==3) {\n\t\t\t/* seireki -> maya */\n\t\t\ty=b;m=ka;d=t;\n\t\t\tdays=date2dayCount(y,m,d)-days_origin;\n\t\t\tki=days%20;days/=20;\n\t\t\tw=days%18;days/=18;\n\t\t\tt=days%20;days/=20;\n\t\t\tka=days%20;days/=20;\n\t\t\tb=days%13;\n\t\t\tprintf(\"%d.%d.%d.%d.%d\\n\",b,ka,t,w,ki);\n\t\t} else break;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include <stdlib.h>\n#include<string.h>\nchar str[20];\nint URUU[10000001];\nint l,b[5];\nint flg;\nlong long int day,day2;\nint NO();\nint main(){\n  int cnt,i;\n  for(i=0;i<=10000000;i++){\n    if((i%400==0)||(i%100!=0&&i%4==0))URUU[i]++;\n  }\n  while(1){\n    scanf(\"%s\",str);\n    if(strcmp(str,\"#\")==0) break;\n    l=strlen(str);\n\n    for(i=0,cnt=0;i<l;i++){\n      if(str[i]=='.') cnt++;\n    }\n\n    NO();\n  }\n  return 0;\n}\n\nint NO(){\n  int i,j,cnt,cnt2;\n\tint hoge;\n  char s[10];\n  flg=0;\n  for(i=0,j=0,cnt=0;i<=l;i++,j++){\n    if(str[i]=='.'||i==l){\n      s[j]='\\0';\n      j=-1;\n      b[cnt]=atoi(s);\n      cnt++;\n    }else{\n      s[j]=str[i];\n    }\n  }\n  //printf(\"%d\\n\",cnt);\n  if(cnt==3){\n  day=-734858;\n    for(i=1;i<b[0];i++){\n      if(URUU[i]==1)day+=366;\n      else day+=365;\n    }\n    for(i=1;i<b[1];i++){\n      switch(i){\n      case 4:\n      case 6:\n      case 9:\n      case 11:\n\tday+=30;\n\tbreak;\n      case 2:\n\tif(URUU[b[0]]==1)day+=29;\n\telse day+=28;\n\tbreak;\n      default:\n\tday+=31;\n\tbreak;\n      }\n    }\n    day+=b[2];\n    day%=1872000;\n    printf(\"%Ld.\",day/144000);\n    day%=144000;\n    printf(\"%Ld.\",day/7200);\n    day%=7200;\n    printf(\"%Ld.\",day/360);\n    day%=360;\n    printf(\"%Ld.\",day/20);\n    day%=20;\n    printf(\"%Ld\\n\",day);\n  }else{\n    day=0;\n    day+=b[0]*144000;\n    day+=b[1]*7200;\n    day+=b[2]*360;\n    day+=b[3]*20;\n    day+=b[4];\n    day+=734858;\n    day2=day;\n    for(i=1,j=0;;i++){\n      if(URUU[i+1]==1){\n\tif(j+366>=day)break;\n      }else{\n\tif(j+365>=day)break;\n      }\n      if(URUU[i]==1) j+=366;\n      else j+=365;\n    }\n    int y;\n    day-=j;y=i;\n    printf(\"%d.\",y);\n    for(i=1,j=0;j<day;i++){\n      switch(i){\n      case 4:\n      case 6:\n      case 9:\n      case 11:\n\tj+=30;\n\tif(day==j){\n\t  printf(\"%d.%d\\n\",i,30);\n\t  flg++;\n\t  return 0;\n\t}else if(day<j){\n\t  j-=30;\n\t  printf(\"%d.%d\\n\",i,day-j);\n\t  return 0;\n\t}\n\tbreak;\n      case 2:\n\n\tif(URUU[y]==1){\n\t  j+=29;\n\t  hoge=29;\n\t}  else{\n\t  j+=28;\n\t  hoge=28;\n\t}\n\tif(day==j){\n\t  printf(\"%d.%d\\n\",i,hoge);\n\t  return 0;\n\t}else if(day<j){\n\t  j-=hoge;\n\t  printf(\"%d.%d\\n\",i,day-j);\n\t  return 0;\n\t}\n\tbreak;\n      default:\n\tj+=31;\n\tif(day==j){\n\t  printf(\"%d.%d\\n\",i,30);\n\t  return 0;\n\t}else if(day<j){\n\t  j-=31;\n\t  printf(\"%d.%d\\n\",i,day-j);\n\t  return 0;\n\t}\n\t  \n\tbreak;\n      }\n    }\n  }\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <time.h>\nchar s[99];\nmain(i,j,a,b,c,d,e){\n\tif(sizeof(time_t)!=8)exit(1);\n\tstruct tm T;\n\tmemset(&T,0,sizeof(T));\n\tT.tm_year=2012-1900;\n\tT.tm_mon=12-1;\n\tT.tm_mday=21;\n\ttime_t t,t0=mktime(&T);\n\tfor(;scanf(\"%s\",s),*s!='#';){\n\t\tfor(j=i=0;i<strlen(s);i++)if(s[i]=='.')j++;\n\t\tif(j==2){\n\t\t\tsscanf(s,\"%d.%d.%d\",&a,&b,&c);\n\t\t\tT.tm_year=a-1900;\n\t\t\tT.tm_mon=b-1;\n\t\t\tT.tm_mday=c;\n\t\t\tt=(mktime(&T)-t0)/86400%1872000;\n\t\t\tprintf(\"%lld.%lld.%lld.%lld.%lld\\n\",t/144000,t/7200%20,t/360%20,t/20%18,t%20);\n\t\t}else{\n\t\t\tsscanf(s,\"%d.%d.%d.%d.%d\",&a,&b,&c,&d,&e);\n\t\t\tt=(a*144000LL+b*7200+c*360+d*20+e)*86400+t0;\n\t\t\tlocaltime_r(&t,&T);\n\t\t\tprintf(\"%d.%d.%d\\n\",T.tm_year+1900,T.tm_mon+1,T.tm_mday);\n\t\t}\n\t}\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(){\n  char s[50];\n  int d[5],n,c,i,r;\n  int m12=365*13+4-11;\n  int d400=365*400+100-4+1;\n  int d100=365*100+25 -1;\n  int d4  =365*4  +1;\n  int a[5];\n  int M[]={0,31,28,31,30,31,30,31,31,30,31,30,31};\n  unsigned long long dt;\n  while(scanf(\"%s\",s),s[0]-'#'){\n    for(i=c=n=r=0;s[i];i++){\n      if(s[i]=='.'){\n\tc++;\n\td[r++]=n;\n\tn=0;\n      }\n      else{\n\tn*=10;\n\tn+=s[i]-'0';\n      }\n    }\n    d[r]=n;\n    dt=0;//-m12;\n    if(c==2){\n      //printf(\"%d %d %d\\n\",d[0],d[1],d[2]);\n      for(i=1;i<d[1];i++)dt+=M[i];\n      if(d[1]>2&&d[0]%4==0&&(d[0]%100||d[0]%400==0))dt++;\n      dt+=(unsigned long long)d[2]-1;\n      d[0]-=2001;\n      dt+=(unsigned long long)365*d[0]+d[0]/4-d[0]/100+d[0]/400+366-m12;\n      //printf(\"%d\\n\",m12);\n      a[4]=dt%20;\n      dt/=20;\n      a[3]=dt%18;\n      dt/=18;\n      a[2]=dt%20;\n      dt/=20;\n      a[1]=dt%20;\n      dt/=20;\n      a[0]=dt%13;\n      printf(\"%d.%d.%d.%d.%d\\n\",a[0],a[1],a[2],a[3],a[4]);      \n    }\n    else{\n      dt=d[0];\n      dt=dt*20+d[1];\n      dt=dt*20+d[2];\n      dt=dt*18+d[3];\n      dt=dt*20+d[4];\n      dt+=4739;\n      for(a[0]=2000;dt>365;a[0]++){\n\tdt-=365;\n\tif(a[0]%4==0&&(a[0]%100||a[0]%400==0))dt--;\n      }\n      /*a[0] =(dt/d400)*400;\n      dt%d400;\n      a[0]+=(dt/d100)*100;\n      dt%=d100;\n      a[0]+=(dt/d4  )*4  ;\n      dt%=d4  ;\n      a[0]+=(dt/365);\n      dt%=365;//*/\n      //if(59>dt&&a[0]%4==0&&(a[0]%100||a[0]%400==0))dt++;\n      for(i=1;i<13;i++){\n\tif(dt<=M[i])break;\n\tdt-=M[i];\n\tif(i==2&&a[0]%4==0&&(a[0]%100||a[0]%400==0)){\n\t  dt--;\n\t  if(dt==0){\n\t    dt=29;\n\t    break;\n\t  }\n\t}\n      }\n      printf(\"%d.%d.%lld\\n\",a[0],i,dt);\n    }\n  }\n  return 0;\n}\n      \n\t"
  },
  {
    "language": "C",
    "code": "#include <time.h>\nchar s[99];\nmain(i,j,a,b,c,d,e){\n\tif(sizeof(time_t)!=8)exit(1);\n\tstruct tm T;\n\tmemset(&T,0,sizeof(T));\n\tT.tm_year=2012-1900;\n\tT.tm_mon=12-1;\n\tT.tm_mday=21;\n\ttime_t t,t0=mktime(&T);\n\tfor(;scanf(\"%s\",s),*s!='#';){\n\t\tfor(j=i=0;i<strlen(s);i++)if(s[i]=='.')j++;\n\t\tif(j==2){\n\t\t\tsscanf(s,\"%d.%d.%d\",&a,&b,&c);\n\t\t\tT.tm_year=a-1900;\n\t\t\tT.tm_mon=b-1;\n\t\t\tT.tm_mday=c;\n\t\t\tt=(mktime(&T)-t0)/86400%1872000;\n\t\t\tprintf(\"%lld.%lld.%lld.%lld.%lld\\n\",t/144000,t/7200%20,t/360%20,t/20%18,t%20);\n\t\t}else{\n\t\t\tsscanf(s,\"%d.%d.%d.%d.%d\",&a,&b,&c,&d,&e);\n\t\t\tt=(a*144000LL+b*7200+c*360+d*20+e)*86400+t0;\n\t\t\tlocaltime_r(&t,&T);\n\t\t\tprintf(\"%d.%d.%d\\n\",T.tm_year+1900,T.tm_mon+1,T.tm_mday);\n\t\t}\n\t}\nexit(0);}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main {\n\tboolean isLeapYear(long y) {\n\t\tif(y%4==0) {\n\t\t\tif(y%100!=0 || y%400==0) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\tlong y2d(long y) {\n\t\tlong day = 365;\n\t\tif( isLeapYear(y) ) {\n\t\t\t\t++day;\n\t\t}\n\t\t\n\t\treturn day;\n\t}\n\t\n\tlong ally2d(long y) {\n\t\tlong day = 0;\n\t\tfor( int i = 0; i < y; ++i ) {\n\t\t\tday += y2d(i);\n\t\t}\n\t\t\n\t\treturn day;\n\t}\n\t\n\tlong m2d(long y, long d) {\n\t\tswitch((int)d){\n\t\tcase 2:\n\t\t\tlong day = 28;\n\t\t\tif( isLeapYear(y) ) {\n\t\t\t\t++day;\n\t\t\t}\n\t\t\treturn day;\n\t\tcase 4:\n\t\tcase 6:\n\t\tcase 9:\n\t\tcase 11:\n\t\t\treturn 30;\n\t\tdefault:\n\t\t\treturn 31;\n\t\t}\n\t}\n\t\n\tlong[] miniy = new long[]{ 2, 4, 6, 9, 11 };\n\tlong allm2d(long y, long m) {\n\t\tlong day = 0;\n\t\tfor( int i = 1; i < m; ++i ) {\n\t\t\tday += m2d(y, i);\n\t\t}\n\t\t\n\t\treturn day;\n\t}\n\t\n\tlong cycle;\n\tlong[] d4y;\n\t\n\tlong[] max_may_n = new long[]{13, 20, 20, 19, 20};\n\tString usu2may(ArrayList<Integer> list) {\n\t\tlong day = d4y[list.get(0)];\n\t\tday += allm2d(list.get(0), list.get(1));\n\t\tday += (long)list.get(2);\n\t\t\n\t\tday -= cycle;\n\t\t\n\t\tString ans = \"\";\n\t\t\n\t\tfor( int i = 0; i < 5; ++i ) {\n\t\t\tif( i > 0 ) {\n\t\t\t\tans += \".\";\n\t\t\t}\n\t\t\tans += (day / mayas_day[i])%max_may_n[i];\n\t\t\tday %= mayas_day[i];\n\t\t}\n\t\t\n\t\treturn ans;\n\t}\n\t\n\tlong ki = 1;\n\tlong w  = 20*ki;\n\tlong t  = 18*w;\n\tlong ka = 20*t;\n\tlong b  = 20*ka;\n\tlong mayas_day[] = {b, ka, t, w, ki};\n\tString may2usu(ArrayList<Integer> list) {\n\t\tlong day = 0;\n\t\tfor( int i = 0; i < 5; ++i ) {\n\t\t\tday += mayas_day[i]*(long)list.get(i);\n\t\t}\n\t\t\n\t\tday += cycle;\n\t\t\n\t\tlong y = 0;\n\t\twhile(day > y2d(y)) {\n\t\t\tday -= y2d(y);\n\t\t\t++y;\n\t\t}\n\t\tlong m = 1;\n\t\twhile(day > m2d(y, m)) {\n\t\t\tday -= m2d(y, m);\n\t\t\t++m;\n\t\t}\n\t\tlong d = day;\n\t\t\n\t\treturn y + \".\" + m + \".\" + d;\n\t}\n\t\n\tvoid solve() {\n\t\tScanner sc = new Scanner(System.in);\n\t\t\n\t\tcycle = 0;\n\t\tcycle += ally2d(2012);\n\t\tcycle += allm2d(2012, 12);\n\t\tcycle += 21;\n\t\t\n\t\td4y = new long[10000001];\n\t\td4y[0] = 0;\n\t\tfor( int i = 1; i <= 10000000; ++i ) {\n\t\t\td4y[i] = d4y[i-1] + y2d(i-1);\n\t\t}\n\t\t\n\t\twhile(true) {\n\t\t\tString str = sc.nextLine();\n\n\t\t\tif( str.equals(\"#\") ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\tArrayList<Integer> list = new ArrayList<Integer>();\n\t\t\tfor( String ite : str.split(\"\\\\.\") ) {\n\t\t\t\tlist.add(Integer.parseInt(ite));\n\t\t\t}\n\t\t\t\n\t\t\tSystem.out.println(list.size() == 3 ? usu2may(list) : may2usu(list));\n\t\t}\n\t\t\n\t\tsc.close();\n\t}\n\t\n\tpublic static void main(String[] args) {\n\t\tnew Main().solve();\n\t}\n\t\n\tvoid debug(Object... os) {\n\t\tSystem.err.println(Arrays.deepToString(os));\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\n\n//Mayan Crucial Prediction\npublic class Main{\n\n\tint[] day = {0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\n\tint MOD = 13*20*20*18*20;\n\tint B = 20*20*18*20;\n\tint KA = 20*18*20;\n\tint T = 18*20;\n\tint W = 20;\n\t\n\tvoid run(){\n\t\tScanner sc = new Scanner(System.in);\n\t\tfor(;;){\n\t\t\tString in = sc.next();\n\t\t\tif(\"#\".equals(in))break;\n\t\t\tString[] t = in.split(\"\\\\.\");\n\t\t\tint n = t.length;\n\t\t\tint[] a = new int[n];\n\t\t\tfor(int i=0;i<n;i++)a[i]=Integer.parseInt(t[i]);\n\t\t\tif(n==5)toSeireki(a[0], a[1], a[2], a[3], a[4]);\n\t\t\telse toMayan(a[0], a[1], a[2]);\n\t\t}\n\t}\n\t\n\tvoid toSeireki(int b, int ka, int t, int w, int ki){\n\t\tint days = b*B + ka*KA + t*T + w*W + ki;\n\t\tint y = 2012, m = 12, d = 21;\n\t\twhile(0 < days){\n\t\t\tif(m==1 && d==1){\n\t\t\t\tint yearDay = 365 + leap(y);\n\t\t\t\tif(yearDay <= days){\n\t\t\t\t\ty++;\n\t\t\t\t\tdays-=yearDay;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(m==2){\n\t\t\t\tif(d==day[2]+leap(y)){\n\t\t\t\t\tm++; d=1;\n\t\t\t\t}\n\t\t\t\telse d++;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif(d==day[m]){\n\t\t\t\t\tm++; d=1;\n\t\t\t\t\tif(m==13){\n\t\t\t\t\t\ty++; m=1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse d++;\n\t\t\t}\n\t\t\tdays--;\n\t\t}\n\t\tSystem.out.printf(\"%d.%d.%d\\n\", y, m, d);\n\t}\n\n\tint leap(int y){\n\t\treturn y%4==0 && (y%100!=0 || y%400==0) ? 1 : 0;\n\t}\n\t\n\tvoid toMayan(int y, int m, int d){\n\t\tint Y = 2012, M = 12, D = 21;\n\t\tint days = 0;\n\t\twhile(Y!=y || M!=m || D!=d){\n\t\t\tif(MOD <= days)days-=MOD;\n\t\t\tif(M==1 && D==1){\n\t\t\t\tif(Y!=y){\n\t\t\t\t\tint year = 365+leap(Y);\n\t\t\t\t\tdays+=year;\n\t\t\t\t\tY++;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(M==2){\n\t\t\t\tif(D==day[2]+leap(Y)){\n\t\t\t\t\tM++; D=1;\n\t\t\t\t}\n\t\t\t\telse D++;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif(D==day[M]){\n\t\t\t\t\tM++; D=1;\n\t\t\t\t\tif(M==13){\n\t\t\t\t\t\tY++; M=1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse D++;\n\t\t\t}\n\t\t\tdays++;\n\t\t}\n\t\tif(MOD <= days)days-=MOD;\n\t\tint b = days/B; days%=B;\n\t\tint ka = days/KA; days%=KA;\n\t\tint t = days/T; days%=T;\n\t\tint w = days/W; days%=W;\n\t\tint ki = days;\n\t\tSystem.out.printf(\"%d.%d.%d.%d.%d\\n\", b, ka, t, w, ki);\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main {\n\t//1654 start\n\tScanner sc = new Scanner(System.in);\n\tint [] changeM = {20 * 20 * 18 * 20, 20 * 18 * 20, 18 * 20, 20, 1};\n\tint [] day = {-1,31,28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\n\t\n\tprivate void doit(){\n\t\tlong day20121221 = getdays(2012, 12, 21);\n\t\tlong daymax = getdays(10000000,12,31);\n\t\t\n\t\twhile(true){\n\t\t\tString s = sc.next();\n\t\t\tif(s.equals(\"#\")) break;\n\t\t\tString [] data = s.split(\"\\\\.\");\n\t\t\tif(data.length == 3){\n\t\t\t\tint [] num = new int[3];\n\t\t\t\tfor(int i = 0; i < 3; i++){\n\t\t\t\t\tnum[i] = Integer.parseInt(data[i]);\n\t\t\t\t}\n\t\t\t\tlong nowdays = getdays(num[0], num[1], num[2]);\n\t\t\t\tlong diff = nowdays - day20121221;\n\t\t\t\tdiff = diff % (changeM[0] * 13);\n\t\t\t\tString res = getM(diff);\n\t\t\t\tSystem.out.println(res);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tint [] num = new int[5];\n\t\t\t\tfor(int i = 0; i < 5; i++){\n\t\t\t\t\tnum[i] = Integer.parseInt(data[i]);\n\t\t\t\t}\n\t\t\t\tlong res = getdaysfromM(num);\n\t\t\t\tString ans = getyear(res);\n\t\t\t\tSystem.out.println(ans);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tprivate String getyear(long res) {\n\t\tif(res <= 10){\n\t\t\tlong d = 21 + res;\n\t\t\treturn \"201212\" + d;\n\t\t}\n\t\tres = res - 11;\n\t\tint y = 2013,m = 1, d = 1;\n\t\twhile(true){\n\t\t\tint add = isleapYear(y) ? 1 : 0;\n\t\t\tif(res / (add + 365) == 0){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\telse{\n\t\t\t\ty++;\n\t\t\t\tres -= add + 365;\n\t\t\t}\n\t\t}\n\t\tfor(int i = 1; i <= 12;i++){\n\t\t\tif(res < day[i] + (isleapYear(y) && i == 2 ? 1 : 0)){\n\t\t\t\td += res;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tres -= day[i] + (isleapYear(y) && i == 2 ? 1 : 0);\n\t\t\t\tm++;\n\t\t\t}\n\t\t}\n\t\treturn y + \".\" + m + \".\" + d ;\n\t}\n\t\n\tprivate boolean isleapYear(int i) {\n\t\tif(i % 4 != 0){\n\t\t\treturn false;\n\t\t}\n\t\telse if(i % 400 == 0){\n\t\t\treturn true;\n\t\t}\n\t\telse if(i % 100 == 0){\n\t\t\treturn false;\n\t\t}\n\t\telse{\n\t\t\treturn true;\n\t\t}\n\t}\n\n\tprivate long getdaysfromM(int[] num) {\n\t\tlong sum = 0;\n\t\tfor(int i = 0; i < 5; i++){\n\t\t\tsum += (long)num[i] * changeM[i];\n\t\t}\n\t\treturn sum;\n\t}\n\n\tprivate String getM(long diff) {\n\t\tStringBuilder sb = new StringBuilder();\n\t\tfor(int i = 0; i < 5; i++){\n\t\t\tsb.append(\".\" + (diff / changeM[i]));\n\t\t\tdiff = diff % changeM[i];\n\t\t}\n\t\treturn sb.substring(1);\n\t}\n\n\tlong getdays(int y, int m, int d) {\n\t\tif (m <= 2) {\n\t\t\ty--;\n\t\t\tm += 12;\n\t\t}\n\t\tlong dy = (long)365 * (y - 1);\n\t\tlong c = y / 100;\n\t\tlong dl = (y >> 2) - c + (c >> 2);\n\t\tlong dm = (m * 979 - 1033) >> 5;\n\t\treturn dy + dl + dm + d - 1;\n\t}\n\n\tprivate void debug(Object... o) {\n\t\tSystem.out.println(\"debug = \" + Arrays.deepToString(o));\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().doit();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\n\n//Mayan Crucial Prediction\npublic class Main{\n\n\tint[] day = {0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\n\tint MOD = 13*20*20*18*20;\n\tint B = 20*20*18*20;\n\tint KA = 20*18*20;\n\tint T = 18*20;\n\tint W = 20;\n\t\n\tvoid run(){\n\t\tScanner sc = new Scanner(System.in);\n\t\tfor(;;){\n\t\t\tString in = sc.next();\n\t\t\tif(\"#\".equals(in))break;\n\t\t\tString[] t = in.split(\"\\\\.\");\n\t\t\tint n = t.length;\n\t\t\tint[] a = new int[n];\n\t\t\tfor(int i=0;i<n;i++)a[i]=Integer.parseInt(t[i]);\n\t\t\tif(n==5)toSeireki(a[0], a[1], a[2], a[3], a[4]);\n\t\t\telse toMayan(a[0], a[1], a[2]);\n\t\t}\n\t}\n\t\n\tvoid toSeireki(int b, int ka, int t, int w, int ki){\n\t\tint days = b*B + ka*KA + t*T + w*W + ki;\n\t\tint y = 2012, m = 12, d = 21;\n\t\twhile(0 < days){\n\t\t\tif(m==1 && d==1){\n\t\t\t\tint yearDay = 365 + (y%4==0 && (y%100!=0 || y%400==0) ? 1 : 0);\n\t\t\t\tif(yearDay <= days){\n\t\t\t\t\ty++;\n\t\t\t\t\tdays-=yearDay;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(m==2){\n\t\t\t\tif(d==day[2]+(y%4==0 && (y%100!=0 || y%400==0) ? 1 : 0)){\n\t\t\t\t\tm++; d=1;\n\t\t\t\t}\n\t\t\t\telse d++;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif(d==day[m]){\n\t\t\t\t\tm++; d=1;\n\t\t\t\t\tif(m==13){\n\t\t\t\t\t\ty++; m=1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse d++;\n\t\t\t}\n\t\t\tdays--;\n\t\t}\n\t\tSystem.out.printf(\"%d.%d.%d\\n\", y, m, d);\n\t}\n\n\tint leap(int y){\n\t\treturn y%4==0 && (y%100!=0 || y%400==0) ? 1 : 0;\n\t}\n\t\n\tvoid toMayan(int y, int m, int d){\n\t\tint Y = 2012, M = 12, D = 21;\n\t\tint days = 0;\n\t\twhile(Y!=y || M!=m || D!=d){\n\t\t\tif(MOD <= days)days-=MOD;\n\t\t\tif(M==1 && D==1){\n\t\t\t\tif(Y!=y){\n\t\t\t\t\tint year = 365+(Y%4==0 && (Y%100!=0 || Y%400==0) ? 1 : 0);\n\t\t\t\t\tdays+=year;\n\t\t\t\t\tY++;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(M==2){\n\t\t\t\tif(D==day[2]+(Y%4==0 && (Y%100!=0 || Y%400==0) ? 1 : 0)){\n\t\t\t\t\tM++; D=1;\n\t\t\t\t}\n\t\t\t\telse D++;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif(D==day[M]){\n\t\t\t\t\tM++; D=1;\n\t\t\t\t\tif(M==13){\n\t\t\t\t\t\tY++; M=1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse D++;\n\t\t\t}\n\t\t\tdays++;\n\t\t}\n\t\tif(MOD <= days)days-=MOD;\n\t\tint b = days/B; days%=B;\n\t\tint ka = days/KA; days%=KA;\n\t\tint t = days/T; days%=T;\n\t\tint w = days/W; days%=W;\n\t\tint ki = days;\n\t\tSystem.out.printf(\"%d.%d.%d.%d.%d\\n\", b, ka, t, w, ki);\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.GregorianCalendar;\nimport java.util.Scanner;\n\npublic class Main {\n\t\n\tpublic static final long ONE_YEAR = 365;\n\tpublic static final long FOUR_YEAR = ONE_YEAR * 4 + 1;\n\tpublic static final long HUNDRED_YEAR = FOUR_YEAR * 25 - 1;\n\tpublic static final long FOUR_HUNDRED_YEAR = HUNDRED_YEAR * 4 + 1;\n\t\n\n\tpublic static String trans_Gre(long sum){\n\t\t long year = (sum + 305) / 146097 * 400\n\t\t\t\t  + (sum + 305) % 146097 / 36524 * 100\n\t\t\t\t  + (sum + 305) % 146097 % 36524 / 1461 * 4\n\t\t\t\t  + (sum + 305) % 146097 % 36524 % 1461 / 365;\n\t\t long days = sum - (365 * (year - 1) + year / 4 - year / 100 + year / 400 + 31 + 28 + 1);\n\t\t if(days == -1){\n\t\t\t year--;\n\t\t\t days = 365;\n\t\t }\n\t\t \n\t\t long month;\n\t\t for(month = 3; month < 15; month++){\n\t\t\t if(306 * (month+1) / 10 - 122 <= days && 306 * (month + 2) / 10 - 122 > days){\n\t\t\t\t break;\n\t\t\t }\n\t\t }\n\t\t \n\t\t days -= 306 * (month + 1) / 10 - 122 - 1;\n\t\t if(month > 12){\n\t\t\t year++;\n\t\t\t month -= 12;\n\t\t }\n\t\t \n\t\t return year + \".\" + month + \".\" + days;\n\t}\n\t\n\tpublic static String trans_Maya(long sum){\n\t\tsum %= CYCLE;\n\t\t\n\t\tfinal long ki = sum % 20;\n\t\tsum /= 20;\n\t\tfinal long w = sum % 18;\n\t\tsum /= 18;\n\t\tfinal long t = sum % 20;\n\t\tsum /= 20;\n\t\tfinal long ka = sum % 20;\n\t\tsum /= 20;\n\t\tfinal long b = sum;\n\t\t\n\t\treturn (b + \".\" + ka + \".\" + t + \".\" + w + \".\" + ki);\n\t}\n\t\n\tpublic static long Fairfileld(long year, long month, long day){\n\t\tif(month <= 2){\n\t\t\tyear--;\n\t\t\tmonth += 12;\n\t\t}\n\t\t\n\t\treturn (365 * year) + (year / 4) - (year / 100) + (year / 400) + ((306 * (month + 1)) / 10) + day - 428;\n\t}\n\t\n\tpublic static long Maya(long b, long ka, long t, long w, long ki){\n\t\treturn (((((((b * 20) + ka) * 20) + t) * 18) + w) * 20) +  ki;\n\t}\n\t\n\tpublic static final long CYCLE = Maya(13, 0, 0, 0, 0);\n\t\n\tpublic static void test_maya(){\n\t\tfor(int ki = 0; ki < 20; ki++){\n\t\t\tfor(int w = 0; w < 18; w++){\n\t\t\t\tfor(int t = 0; t < 20; t++){\n\t\t\t\t\tfor(int ka = 0; ka < 20; ka++){\n\t\t\t\t\t\tfor(int b = 0; b < 13; b++){\n\t\t\t\t\t\t\tString one = b + \".\" + ka + \".\" + t + \".\" + w + \".\" + ki;\n\t\t\t\t\t\t\tString two = trans_Maya(Maya(b, ka, t, w, ki));\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(!one.equals(two)){\n\t\t\t\t\t\t\t\tSystem.out.println(one + \" \" + two);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tpublic static void test_gre(){\n\t\tfor(int year = 1; year <= 10000000; year++){\n\t\t\tboolean leap = year % 4 == 0 && (year % 100 != 0 || year % 400 == 0);\n\t\t\t\n\t\t\tif(year % 100 == 0){\n\t\t\t\tSystem.out.println(year);\n\t\t\t}\n\t\t\t\n\t\t\tfor(int month = 1; month <= 12; month++){\n\t\t\t\tint day_max = 31;\n\t\t\t\tif(leap && month == 2){\n\t\t\t\t\tday_max = 29;\n\t\t\t\t}else if(month == 2){\n\t\t\t\t\tday_max = 28;\n\t\t\t\t}else if(month == 4 || month == 6 || month == 9 || month == 11){\n\t\t\t\t\tday_max = 30;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tfor(int day = 1; day <= day_max; day++){\n\t\t\t\t\tString one = year + \".\" + month + \".\" + day;\n\t\t\t\t\tString two = trans_Gre(Fairfileld(year, month, day));\n\t\t\t\t\t\n\t\t\t\t\t//System.out.println(Fairfileld(year, month, day));\n\t\t\t\t\t\n\t\t\t\t\tif(!one.equals(two)){\n\t\t\t\t\t\tSystem.out.println(one + \" \" + two);\n\t\t\t\t\t\t\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tSystem.in.read();\n\t\t\t\t\t\t} catch (IOException e) {\n\t\t\t\t\t\t\t// TODO Auto-generated catch block\n\t\t\t\t\t\t\te.printStackTrace();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t/**/\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tpublic static void main(String[] args) {\n\t\tScanner sc = new Scanner(System.in);\n\t\t\n\t\t//test_maya();\n\t\t//test_gre();\n\t\t//System.out.println(\"end\");\n\t\twhile(true){\n\t\t\tfinal String input = sc.next();\n\t\t\t\n\t\t\tif(\"#\".equals(input)){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t//System.out.println(input);\n\t\t\tString[] inputs = input.split(\"\\\\.\");\n\t\t\t\n\t\t\t//boolean s_to_m = false;\n\t\t\tlong sum = 0;\n\t\t\tif(inputs.length == 3){\n\t\t\t\tfinal int year = Integer.parseInt(inputs[0]);\n\t\t\t\tfinal int month = Integer.parseInt(inputs[1]);\n\t\t\t\tfinal int day = Integer.parseInt(inputs[2]);\n\t\t\t\t\n\t\t\t\tsum = Fairfileld(year, month, day) - Fairfileld(2012, 12, 21);\n\t\t\t\t\n\t\t\t\tSystem.out.println(trans_Maya(sum));\n\t\t\t}else{\n\t\t\t\t\n\t\t\t\tfinal long b = Long.parseLong(inputs[0]);\n\t\t\t\tfinal long ka = Long.parseLong(inputs[1]);\n\t\t\t\tfinal long t = Long.parseLong(inputs[2]);\n\t\t\t\tfinal long w = Long.parseLong(inputs[3]);\n\t\t\t\tfinal long ki = Long.parseLong(inputs[4]);\n\t\t\t\t\n\t\t\t\tsum = Maya(b, ka, t, w, ki) + Fairfileld(2012, 12, 21);\n\t\t\t\t\n\t\t\t\tSystem.out.println(trans_Gre(sum));\n\t\t\t}\n\t\t\t\n\t\t}\n\t\t\n\t\tsc.close();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main {\n\tScanner sc = new Scanner(System.in);\n\tint [] changeM = {20 * 20 * 18 * 20, 20 * 18 * 20, 18 * 20, 20, 1};\n\tint [] day = {-1,31,28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\n\t\n\tprivate void doit(){\n\t\tlong day20121221 = getdays(2012, 12, 21);\n\t\twhile(true){\n\t\t\tString s = sc.next();\n\t\t\tif(s.equals(\"#\")) break;\n\t\t\tString [] data = s.split(\"\\\\.\");\n\t\t\tif(data.length == 3){\n\t\t\t\tint [] num = new int[3];\n\t\t\t\tfor(int i = 0; i < 3; i++){\n\t\t\t\t\tnum[i] = Integer.parseInt(data[i]);\n\t\t\t\t}\n\t\t\t\tlong nowdays = getdays(num[0], num[1], num[2]);\n\t\t\t\tlong diff = nowdays - day20121221;\n\t\t\t\tdiff = diff % (changeM[0] * 13);\n\t\t\t\tString res = getM(diff);\n\t\t\t\tSystem.out.println(res);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tint [] num = new int[5];\n\t\t\t\tfor(int i = 0; i < 5; i++){\n\t\t\t\t\tnum[i] = Integer.parseInt(data[i]);\n\t\t\t\t}\n\t\t\t\tlong res = getdaysfromM(num);\n\t\t\t\tString ans = getyear(res);\n\t\t\t\tSystem.out.println(ans);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tprivate String getyear(long res) {\n\t\tif(res <= 10){\n\t\t\tlong d = 21 + res;\n\t\t\treturn \"2012.12.\" + d;\n\t\t}\n\t\tres = res - 11;\n\t\tint y = 2013,m = 1, d = 1;\n\t\twhile(true){\n\t\t\tint add = isleapYear(y) ? 1 : 0;\n\t\t\tif(res / (add + 365) == 0){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\telse{\n\t\t\t\ty++;\n\t\t\t\tres -= add + 365;\n\t\t\t}\n\t\t}\n\t\tfor(int i = 1; i <= 12;i++){\n\t\t\tif(res < day[i] + (isleapYear(y) && i == 2 ? 1 : 0)){\n\t\t\t\td += res;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tres -= day[i] + (isleapYear(y) && i == 2 ? 1 : 0);\n\t\t\t\tm++;\n\t\t\t}\n\t\t}\n\t\treturn y + \".\" + m + \".\" + d ;\n\t}\n\t\n\tprivate boolean isleapYear(int i) {\n\t\tif(i % 4 != 0){\n\t\t\treturn false;\n\t\t}\n\t\telse if(i % 400 == 0){\n\t\t\treturn true;\n\t\t}\n\t\telse if(i % 100 == 0){\n\t\t\treturn false;\n\t\t}\n\t\telse{\n\t\t\treturn true;\n\t\t}\n\t}\n\n\tprivate long getdaysfromM(int[] num) {\n\t\tlong sum = 0;\n\t\tfor(int i = 0; i < 5; i++){\n\t\t\tsum += (long)num[i] * changeM[i];\n\t\t}\n\t\treturn sum;\n\t}\n\n\tprivate String getM(long diff) {\n\t\tStringBuilder sb = new StringBuilder();\n\t\tfor(int i = 0; i < 5; i++){\n\t\t\tsb.append(\".\" + (diff / changeM[i]));\n\t\t\tdiff = diff % changeM[i];\n\t\t}\n\t\treturn sb.substring(1);\n\t}\n\n\tlong getdays(int y, int m, int d) {\n\t\tif (m <= 2) {\n\t\t\ty--;\n\t\t\tm += 12;\n\t\t}\n\t\tlong dy = (long)365 * (y - 1);\n\t\tlong c = y / 100;\n\t\tlong dl = (y >> 2) - c + (c >> 2);\n\t\tlong dm = (m * 979 - 1033) >> 5;\n\t\treturn dy + dl + dm + d - 1;\n\t}\n\n\tprivate void debug(Object... o) {\n\t\tSystem.out.println(\"debug = \" + Arrays.deepToString(o));\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().doit();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\nclass Main{\n\tpublic static void main(String args[]){\n\t\tScanner s=new Scanner(System.in);\n\t\tint my[]={1872000,144000,7200,360,20,1};\n\t\tint mon[]={31,28,31,30,31,30,31,31,30,31,30,31};\n\t\twhile(true){\n\t\t\tString str=s.next();\n\t\t\tif(str.equals(\"#\"))break;\n\t\t\tString[]num=str.split(\"\\\\.\");\n\t\t\tint []n=new int[num.length];\n\t\t\tfor(int i=0;i<n.length;i++)n[i]=Integer.parseInt(num[i]);\n\t\t\tif(num.length==3){\n\t\t\t\tif(n[0]==2012){\n\t\t\t\t\tSystem.out.println(\"0.0.0.0.\"+(n[2]-21));\n\t\t\t\t}else{\n\t\t\t\t\tlong val=11;\n\t\t\t\t\tint Y=2013;\n\t\t\t\t\tn[1]--;n[2]--;\n\t\t\t\t\twhile(Y+400<n[0]){\n\t\t\t\t\t\tY+=400;\n\t\t\t\t\t\tval+=146097;\n\t\t\t\t\t}\n\t\t\t\t\twhile(Y<n[0]){\n\t\t\t\t\t\tif(Y%4==0&&(Y%100!=0||Y%400==0))val++;\n\t\t\t\t\t\tval+=365;\n\t\t\t\t\t\tY++;\n\t\t\t\t\t}\n\t\t\t\t\tint M=0;\n\t\t\t\t\twhile(M<n[1]){\n\t\t\t\t\t\tif(M==1&&Y%4==0&&(Y%100!=0||Y%400==0))val++;\n\t\t\t\t\t\tval+=mon[M];\n\t\t\t\t\t\tM++;\n\t\t\t\t\t}\n\t\t\t\t\tval+=n[2];\n\t\t\t\t\t\n\t\t\t\t\tlong ret[]=new long[5];\n\t\t\t\t\tfor(int i=0;i<5;i++)ret[i]=val%my[i]/my[i+1];\n\t\t\t\t\tSystem.out.println(ret[0]+\".\"+ret[1]+\".\"+ret[2]+\".\"+ret[3]+\".\"+ret[4]);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tint day=0;\n\t\t\t\tfor(int i=1;i<=num.length;i++)day+=n[i-1]*my[i];\n\t\t\t\tif(day<=10){\n\t\t\t\t\tSystem.out.println(\"2012.12.\"+(21+day));\n\t\t\t\t}else{\n\t\t\t\t\tday-=11;\n\t\t\t\t\tint Y=2013;\n\t\t\t\t\tint M=0;\n\t\t\t\t\twhile(day>=146097){day-=146097;Y+=400;}\n\t\t\t\t\twhile(day>=365+((Y%4==0&&(Y%100!=0||Y%400==0))?1:0)){\n\t\t\t\t\t\tday-=365+((Y%4==0&&(Y%100!=0||Y%400==0))?1:0);\n\t\t\t\t\t\tY++;\n\t\t\t\t\t}\n\t\t\t\t\twhile(day>=mon[M]+((M==1&&(Y%4==0&&(Y%100!=0||Y%400==0)))?1:0)){\n\t\t\t\t\t\tday-=mon[M]+((M==1&&(Y%4==0&&(Y%100!=0||Y%400==0)))?1:0);\n\t\t\t\t\t\tM++;\n\t\t\t\t\t}\n\t\t\t\t\tSystem.out.println(Y+\".\"+(M+1)+\".\"+(day+1));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main {\n\t\n\tpublic static void main(String[] args) {\n\t\tScanner sc = new Scanner(System.in);\n\t\t\n\t\twhile(true){\n\t\t\tString s = sc.next();\n\t\t\tif(s.compareTo(\"#\")==0) break;\n\t\t\t\n\t\t\tlong p, q, r;\n\t\t\tString[] t = s.split(\"\\\\.\");\n\t\t\tif(t.length==3){\n\t\t\t\tlong y = Integer.valueOf(t[0]);\n\t\t\t\tlong m = Integer.valueOf(t[1]);\n\t\t\t\tlong d = Integer.valueOf(t[2]);\n\t\t\t\t\n\t\t\t\td += (y*365 + y/4 + y/400 - y/100);\n\t\t\t\tif(y%400==0 || (y%4==0 && y%100!=0)) d-=366;\n\t\t\t\telse d-=365;\n\t\t\t\t\n\t\t\t\tfor(int i=1;i<m;i++){\n\t\t\t\t\tif(i==4 || i==6 || i==9 || i==11) d+=30;\n\t\t\t\t\telse if(i==2){\n\t\t\t\t\t\tif(y%400==0 || (y%4==0 && y%100!=0)) d+=29;\n\t\t\t\t\t\telse d+=28;\n\t\t\t\t\t}\n\t\t\t\t\telse d+=31;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\td-=734858;\n\t\t\t\td %= 1872000;\n\t\t\t\tp = d/144000;\n\t\t\t\tSystem.out.print(p + \".\");\n\t\t\t\td %= 144000;\n\t\t\t\tp = d/7200;\n\t\t\t\tSystem.out.print(p + \".\");\n\t\t\t\td %= 7200;\n\t\t\t\tp = d/360;\n\t\t\t\tSystem.out.print(p + \".\");\n\t\t\t\td %= 360;\n\t\t\t\tp = d/20;\n\t\t\t\td %= 20;\n\t\t\t\tSystem.out.println(p + \".\" + d);\n\t\t\t\t\n\t\t\t}else{\n\t\t\t\tp = Integer.valueOf(t[4]) + 734858;\n\t\t\t\tp += Integer.valueOf(t[3]) * 20;\n\t\t\t\tp += Integer.valueOf(t[2]) * 360;\n\t\t\t\tp += Integer.valueOf(t[1]) * 7200;\n\t\t\t\tp += Integer.valueOf(t[0]) * 144000;\n\t\t\t\t\n\t\t\t\tq = p/146097;\n\t\t\t\tq *= 400;\n\t\t\t\tp %= 146097;\n\t\t\t\t\n\t\t\t\tfor(int i=1;;i++){\n\t\t\t\t\tif(i%400==0 || (i%4==0 && i%100!=0)) r=366;\n\t\t\t\t\telse r=365;\n\t\t\t\t\t\n\t\t\t\t\tif(p<=r){\n\t\t\t\t\t\tq += i;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\telse p -= r;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tfor(int i=1;;i++){\n\t\t\t\t\tif(i==4 || i==6 || i==9 || i==11) r=30;\n\t\t\t\t\telse if(i==2){\n\t\t\t\t\t\tif(q%400==0 || (q%4==0 && q%100!=0)) r=29;\n\t\t\t\t\t\telse r=28;\n\t\t\t\t\t}\n\t\t\t\t\telse r=31;\n\t\t\t\t\t\n\t\t\t\t\tif(p<=r){\n\t\t\t\t\t\tSystem.out.println(q + \".\" + i + \".\" + p);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\telse p -= r;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t}\t\n\t}\t\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.GregorianCalendar;\nimport java.util.Scanner;\n\npublic class Main {\n\t\n\tpublic static void print_Gre(long sum){\n\t\t\n\t    final long K = (sum + 305) / 146097;\n\t    final long L = ((sum + 305) % 146097) / 36524;\n\t    final long M = (((sum + 305) % 146097) % 36524) / 1461;\n\t    final long N = ((((sum + 305) % 146097) % 36524) % 1461) / 365;\n\t    \n\t    long year = 400 * K + 100 * L + 4 * M + N;\n\t    \n\t    long day = sum - (365 * (year - 1) + year / 4 - year / 100 + year / 400 + 31 + 28 + 1);\n\t    \n\t    if(day == -1){\n\t    \tyear--;\n\t    \tday = 365;\n\t    }\n\t    \n\t    long month;\n\t    for(month = 3; month < 15; month++){\n\t        if(306 * (month+1) / 10 - 122 <= day && 306 * (month + 2) / 10 - 122 > day)\n\t            break;\n\t    }\n\t    day -= 306 * (month + 1) / 10 - 122 - 1;\n\t    if(month > 12){\n\t        year++;\n\t        month -= 12;\n\t    }\n\t    \n\t    System.out.println(year+\".\"+month+\".\"+day);\n\t}\n\t\n\tpublic static void print_Maya(long sum){\n\t\tsum %= CYCLE;\n\t\t\n\t\tfinal long ki = sum % 20;\n\t\tsum /= 20;\n\t\tfinal long w = sum % 18;\n\t\tsum /= 18;\n\t\tfinal long t = sum % 20;\n\t\tsum /= 20;\n\t\tfinal long ka = sum % 20;\n\t\tsum /= 20;\n\t\tfinal long b = sum;\n\t\t\n\t\tSystem.out.println(b + \".\" + ka + \".\" + t + \".\" + w + \".\" + ki);\n\t}\n\t\n\tpublic static long Fairfileld(long year, long month, long day){\n\t\tif(month <= 2){\n\t\t\tmonth += 12;\n\t\t}\n\t\t\n\t\treturn (365 * year) + (year / 4) - (year / 100) + (year / 400) + ((306 * (month + 1)) / 10) + day - 428;\n\t}\n\t\n\tpublic static long Maya(long b, long ka, long t, long w, long ki){\n\t\treturn (((((((b * 20) + ka) * 20) + t) * 18) + w) * 20) +  ki;\n\t}\n\t\n\tpublic static final long CYCLE = Maya(13, 0, 0, 0, 0);\n\t\n\tpublic static void main(String[] args) {\n\t\tScanner sc = new Scanner(System.in);\n\n\t\twhile(true){\n\t\t\tfinal String input = sc.next();\n\t\t\t\n\t\t\tif(\"#\".equals(input)){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t//System.out.println(input);\n\t\t\tString[] inputs = input.split(\"\\\\.\");\n\t\t\t\n\t\t\t//boolean s_to_m = false;\n\t\t\tlong sum = 0;\n\t\t\tif(inputs.length == 3){\n\t\t\t\tfinal int year = Integer.parseInt(inputs[0]);\n\t\t\t\tfinal int month = Integer.parseInt(inputs[1]);\n\t\t\t\tfinal int day = Integer.parseInt(inputs[2]);\n\t\t\t\t\n\t\t\t\tsum = Fairfileld(year, month, day) - Fairfileld(2012, 12, 21);\n\t\t\t\t\n\t\t\t\tprint_Maya(sum);\n\t\t\t}else{\n\t\t\t\t\n\t\t\t\tfinal long b = Long.parseLong(inputs[0]);\n\t\t\t\tfinal long ka = Long.parseLong(inputs[1]);\n\t\t\t\tfinal long t = Long.parseLong(inputs[2]);\n\t\t\t\tfinal long w = Long.parseLong(inputs[3]);\n\t\t\t\tfinal long ki = Long.parseLong(inputs[4]);\n\t\t\t\t\n\t\t\t\tsum = Maya(b, ka, t, w, ki) + Fairfileld(2012, 12, 21);\n\t\t\t\t\n\t\t\t\tprint_Gre(sum);\n\t\t\t}\n\t\t\t\n\t\t}\n\t\t\n\t\tsc.close();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\n\n//Mayan Crucial Prediction\npublic class Main{\n\n\tint[] day = {0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\n\tint MOD = 13*20*20*18*20;\n\tint B = 20*20*18*20;\n\tint KA = 20*18*20;\n\tint T = 18*20;\n\tint W = 20;\n\t\n\tvoid run(){\n\t\tScanner sc = new Scanner(System.in);\n\t\tfor(;;){\n\t\t\tString in = sc.next();\n\t\t\tif(\"#\".equals(in))break;\n\t\t\tString[] t = in.split(\"\\\\.\");\n\t\t\tint n = t.length;\n\t\t\tint[] a = new int[n];\n\t\t\tfor(int i=0;i<n;i++)a[i]=Integer.parseInt(t[i]);\n\t\t\tif(n==5)toSeireki(a[0], a[1], a[2], a[3], a[4]);\n\t\t\telse toMayan(a[0], a[1], a[2]);\n\t\t}\n\t}\n\t\n\tvoid toSeireki(int b, int ka, int t, int w, int ki){\n\t\tint days = b*B + ka*KA + t*T + w*W + ki;\n\t\tint y = 2012, m = 12, d = 21;\n\t\twhile(0 < days){\n\t\t\tif(m==1 && d==1){\n\t\t\t\tint yearDay = 365 + leap(y);\n\t\t\t\tif(yearDay <= days){\n\t\t\t\t\ty++;\n\t\t\t\t\tdays-=yearDay;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(m==2){\n\t\t\t\tif(d==day[2]+leap(y)){\n\t\t\t\t\tm++; d=1;\n\t\t\t\t}\n\t\t\t\telse d++;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif(d==day[m]){\n\t\t\t\t\tm++; d=1;\n\t\t\t\t\tif(m==13){\n\t\t\t\t\t\ty++; m=1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse d++;\n\t\t\t}\n\t\t\tdays--;\n\t\t}\n\t\tSystem.out.printf(\"%d.%d.%d\\n\", y, m, d);\n\t}\n\n\tint leap(int y){\n\t\treturn y%4==0 && (y%100!=0 || y%400==0) ? 1 : 0;\n\t}\n\t\n\tvoid toMayan(int y, int m, int d){\n\t\tint Y = 2012, M = 12, D = 21;\n\t\tint days = 0;\n\t\twhile(Y!=y || M!=m || D!=d){\n\t\t\tdays%=MOD;\n\t\t\tif(M==1 && D==1){\n\t\t\t\tif(Y!=y){\n\t\t\t\t\tint year = 365+leap(Y);\n\t\t\t\t\tdays+=year;\n\t\t\t\t\tY++;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(M==2){\n\t\t\t\tif(D==day[2]+leap(Y)){\n\t\t\t\t\tM++; D=1;\n\t\t\t\t}\n\t\t\t\telse D++;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif(D==day[M]){\n\t\t\t\t\tM++; D=1;\n\t\t\t\t\tif(M==13){\n\t\t\t\t\t\tY++; M=1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse D++;\n\t\t\t}\n\t\t\tdays++;\n\t\t}\n\t\tdays%=MOD;\n\t\tint b = days/B; days%=B;\n\t\tint ka = days/KA; days%=KA;\n\t\tint t = days/T; days%=T;\n\t\tint w = days/W; days%=W;\n\t\tint ki = days;\n\t\tSystem.out.printf(\"%d.%d.%d.%d.%d\\n\", b, ka, t, w, ki);\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.*;\nimport java.util.*;\n\nclass Main {\n\n    static final long mjd_base = Fliegel( 2012, 12, 21 );\n    static final long[] maya_unit = {13, 20, 20, 18, 20};\n    static final long maya_cycle = 13*20*20*18*20;\n\n    static long Fliegel( long y, long m, long d ) {//グレゴリオ暦を修正ユリウス通日に換算\n\tif ( m <= 2 ) {\n\t    m += 12;\n\t    --y;\n\t}\n\treturn (long)(Math.floor(365.25*y) + Math.floor(y/400.0) - Math.floor(y/100.0)\n\t\t      + Math.floor(30.59*(m-2)) + d - 678912.0);\n    }\n    \n    void solve(){\n\n\tScanner sc = new Scanner(System.in);\n\n\twhile ( true ) {\n\n\t    String s = sc.next().trim();\n\t    if ( s.charAt(0) == '#' ) break;\n\n\t    String[] t = s.split(\"\\\\.\");\n\n\t    long[] g = new long[3];\n\t    long[] m = new long[5];\n\n\t    if ( t.length == 3 ) {\n\n\t\tfor ( int i=0; i<t.length; ++i ) g[i] = Long.parseLong(t[i]);\n\n\t\tlong mjd = (Fliegel(g[0], g[1], g[2]) - mjd_base)%maya_cycle;\n\t\t\n\t\tfor ( int i=maya_unit.length-1; i>=0; --i ) {\n\t\t    m[i] = mjd%maya_unit[i];\n\t\t    mjd /= maya_unit[i];\n\t\t}\n\n\t\tSystem.out.printf(\"%d.%d.%d.%d.%d\\n\", m[0], m[1], m[2], m[3], m[4]);\n\t    }\n\t    else {\n\n\t\tfor ( int i=0; i<t.length; ++i ) m[i] = Long.parseLong(t[i]);\n\n\t\t//マヤ暦をユリウス通日に換算\n\t\tlong mjd = m[0];\n\t\tfor ( int i=1; i<maya_unit.length; ++i ) {\n\t\t    mjd *= maya_unit[i];\n\t\t    mjd += m[i];\n\t\t}\n\t\tmjd += mjd_base;\n\n\t\t//ユリウス通日をグレゴリオ暦に換算\n\t\tmjd += 678881;\n\t\tlong a = 4*mjd + 3 + (long)(4*Math.floor(3.0*Math.floor(1.0 + 4.0*(mjd+1)/146097.0)/4.0));\n\t\tlong b = 2 + 5*(long)Math.floor( (a%1461)/4.0 );\n\n\t\tg[0] = (long)Math.floor(a/1461.0);\n\t\tg[1] = 3 + (long)Math.floor(b/153.0);\n\t\tg[2] = 1 + (long)Math.floor( (b%153)/5.0 );\n\t\tif ( g[1] > 12 ) {\n\t\t    g[1] -= 12;\n\t\t    ++g[0];\n\t\t}\n\t    \n\t\tSystem.out.printf(\"%d.%d.%d\\n\", g[0], g[1], g[2]);\n\t    }\n\t}\n\n    }\n\n    public static void main(String[] a) { new Main().solve(); }\n}\n\n"
  },
  {
    "language": "C#",
    "code": "using System.Linq;\nusing System.Collections.Generic;\nusing System;\n\npublic class hello\n{\n\tpublic static int[] m;\n\n\tpublic static void Main()\n\t{\n\t\tvar m0 = new int[] { 1, 20, 18, 20, 20, 13 };\n\t\tm = new int[6];\n\t\tm[0] = m0[0];\n\t\tfor (int i = 1; i < 6; i++) m[i] = m[i - 1] * m0[i];\n\t\tArray.Reverse(m);\n\n\t\twhile (true)\n\t\t{\n\t\t\tstring[] s = Console.ReadLine().Trim().Split('.');\n\t\t\tif (s[0] == \"#\") break;\n\t\t\tvar a = new List<int>();\n\t\t\tfor (int i = 0; i < s.Length; i++) a.Add(int.Parse(s[i]));\n\t\t\tvar ans = getAns(a);\n\t\t\tConsole.WriteLine(string.Join(\".\", ans));\n\t\t}\n\t}\n\n\tstatic List<long> getAns(List<int> a)\n\t{\n\t\tvar ans = new List<long>();\n\n\t\tif (a.Count() == 3)\n\t\t{\n\t\t\tvar d1 = GetDays(a[0], a[1], a[2]);\n\t\t\tvar d2 = GetDays(2012, 12, 21);\n\t\t\tvar diff = d1 - d2;\n\t\t\tvar answ = new long[6];\n\t\t\tfor (int i = 0; i < 6; i++)\n\t\t\t{\n\t\t\t\tansw[i] = diff / m[i];\n\t\t\t\tif (i > 0) ans.Add(answ[i]);\n\t\t\t\tdiff -= answ[i] * m[i];\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tvar diff = 0;\n\t\t\tfor (int i = 0; i < 5; i++)\n\t\t\t\tdiff += a[i] * m[i + 1];\n\t\t\tvar dt = new DateTime(2012, 12, 21).AddDays(diff);\n\t\t\tans.Add(dt.Year);\n\t\t\tans.Add(dt.Month);\n\t\t\tans.Add(dt.Day);\n\t\t}\n\t\treturn ans;\n\t}\n\tstatic long GetDays(long y, int m, int d)\n\t{\n\t\tif (m <= 2)\n\t\t{\n\t\t\t--y;\n\t\t\tm += 12;\n\t\t}\n\t\tlong dy = 365 * (y - 1);\n\t\tlong c = y / 100;\n\t\tlong dl = (y >> 2) - c + (c >> 2);\n\t\tint dm = (m * 979 - 1033) >> 5;\n\t\treturn dy + dl + dm + d - 1;\n\t}\n}\n\n"
  },
  {
    "language": "C#",
    "code": "using System.Linq;\nusing System.Collections.Generic;\nusing System;\n\npublic class hello\n{\n\tpublic static int[] m;\n\n\tpublic static void Main()\n\t{\n\t\tvar m0 = new int[] { 1, 20, 18, 20, 20, 13 };\n\t\tm = new int[6];\n\t\tm[0] = m0[0];\n\t\tfor (int i = 1; i < 6; i++) m[i] = m[i - 1] * m0[i];\n\t\tArray.Reverse(m);\n\n\t\twhile (true)\n\t\t{\n\t\t\tstring[] s = Console.ReadLine().Trim().Split('.');\n\t\t\tif (s[0] == \"#\") break;\n\t\t\tvar a = new List<int>();\n\t\t\tfor (int i = 0; i < s.Length; i++) a.Add(int.Parse(s[i]));\n\t\t\tvar ans = getAns(a);\n\t\t\tConsole.WriteLine(string.Join(\".\", ans));\n\t\t}\n\t}\n\n\tstatic List<long> getAns(List<int> a)\n\t{\n\t\tvar ans = new List<long>();\n\n\t\tif (a.Count() == 3)\n\t\t{\n\t\t\tvar diff = GetDays(a[0], a[1], a[2]) - 734857;\n\t\t\tvar answ = new long[6];\n\t\t\tfor (int i = 0; i < 6; i++)\n\t\t\t{\n\t\t\t\tansw[i] = diff / m[i];\n\t\t\t\tif (i > 0) ans.Add(answ[i]);\n\t\t\t\tdiff -= answ[i] * m[i];\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tvar diff = 0;\n\t\t\tfor (int i = 0; i < 5; i++)\n\t\t\t\tdiff += a[i] * m[i + 1];\n\t\t\tvar dt = new DateTime(2012, 12, 21).AddDays(diff);\n\t\t\tans.Add(dt.Year);\n\t\t\tans.Add(dt.Month);\n\t\t\tans.Add(dt.Day);\n\t\t}\n\t\treturn ans;\n\t}\n\tstatic long GetDays(long y, int m, int d)\n\t{\n\t\tif (m <= 2)\n\t\t{\n\t\t\t--y;\n\t\t\tm += 12;\n\t\t}\n\t\tlong dy = 365 * (y - 1);\n\t\tlong c = y / 100;\n\t\tlong dl = (y >> 2) - c + (c >> 2);\n\t\tint dm = (m * 979 - 1033) >> 5;\n\t\treturn dy + dl + dm + d - 1;\n\t}\n}\n\n"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\n\nnamespace _0261\n{\n    class Program\n    {\n        static readonly long[] MayaUnit = new long[] { 20, 20, 18, 20, 1 };\n        const int BYEAR = 2012, BMONTH = 12, BDAY = 21, MAYACYCLE = 13;\n\n        static void Main(string[] args)\n        {\n            while (true)\n            {\n                string s = RSt();\n                if (s == \"#\") break;\n\n                long[] vs = Array.ConvertAll(s.Split('.'), e => long.Parse(e));\n                Console.WriteLine(vs.Length == 5 ? CalcAd(vs) : CalcMaya(vs));\n            }\n        }\n\n        private static string CalcAd(long[] vs)\n        {\n            long days = 0;\n            for (int i = 0; i < vs.Length; i++) days = (days + vs[i]) * MayaUnit[i];\n            DateTime newDate = new DateTime(BYEAR, BMONTH, BDAY).AddDays(days);\n            return newDate.ToString(\"yyyy.M.d\");\n        }\n\n        private static string CalcMaya(long[] vs)\n        {\n            long days = GetDays(vs[0], vs[1], vs[2]) - GetDays(BYEAR, BMONTH, BDAY);\n\n            long[] mayaDate = new long[MayaUnit.Length];\n            for (int i = MayaUnit.Length - 1; i > 0; i--)\n            {\n                mayaDate[i] = days % MayaUnit[i - 1];\n                days /= MayaUnit[i - 1];\n            }\n            mayaDate[0] = days % MAYACYCLE;\n            return WAr(mayaDate, \".\");\n        }\n\n        private static long GetDays(long year, long month, long day)\n        {\n            long y = year - 1;\n            long days = y * 365 + y / 4 - y / 100 + y / 400;\n\n            y = year % 400 + 400;\n            days += (new DateTime((int)y, (int)month, (int)day) - new DateTime((int)y, 1, 1)).Days;\n            return days;\n        }\n\n        static string RSt() { return Console.ReadLine(); }\n        static int RInt() { return int.Parse(Console.ReadLine().Trim()); }\n        static long RLong() { return long.Parse(Console.ReadLine().Trim()); }\n        static double RDouble() { return double.Parse(Console.ReadLine()); }\n        static string[] RArSt(char sep = ' ') { return Console.ReadLine().Trim().Split(sep); }\n        static int[] RArInt(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => int.Parse(e)); }\n        static long[] RArLong(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => long.Parse(e)); }\n        static double[] RArDouble(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => double.Parse(e)); }\n        static string WAr<T>(IEnumerable<T> array, string sep = \" \") { return string.Join(sep, array.Select(x => x.ToString()).ToArray()); }\n    }\n}\n\n"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\n\nnamespace _0261\n{\n    class Program\n    {\n\n        static readonly int[] DaysToMonth365 = { 0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334, 365 };\n        static readonly int[] DaysToMonth366 = { 0, 31, 60, 91, 121, 152, 182, 213, 244, 274, 305, 335, 366 };\n\n        static readonly DateTime BaseDate = new DateTime(2012, 12, 21);\n        static readonly long[] MayaUnit = new long[] { 20, 20, 18, 20, 1 };\n        static readonly int MayaCycle = 13;\n\n        static void Main(string[] args)\n        {\n\n            while (true)\n            {\n                string s = RSt();\n                if (s == \"#\") break;\n\n                long[] vs = Array.ConvertAll(s.Split('.'), e => long.Parse(e));\n                Console.WriteLine(vs.Length == 5 ? CalcAd(vs) : CalcMaya(vs));\n            }\n\n        }\n\n        private static string CalcAd(long[] vs)\n        {\n            long days = 0;\n            for (int i = 0; i < vs.Length; i++) days = (days + vs[i]) * MayaUnit[i];\n            DateTime newDate = BaseDate.AddDays(days);\n            return newDate.ToString(\"yyyy.M.d\");\n        }\n\n        private static string CalcMaya(long[] vs)\n        {\n            long days = GetDays(vs[0], vs[1], vs[2]) - GetDays(2012, 12, 21);\n\n            long[] mayaDate = new long[MayaUnit.Length];\n            for (int i = MayaUnit.Length - 1; i > 0; i--)\n            {\n                mayaDate[i] = days % MayaUnit[i - 1];\n                days /= MayaUnit[i - 1];\n            }\n            mayaDate[0] = days % MayaCycle;\n            return WAr(mayaDate, \".\");\n        }\n\n        private static long GetDays(long year, long month, long day)\n        {\n            int[] days = IsLeapYear(year) ? DaysToMonth366 : DaysToMonth365;\n            long y = year - 1;\n            long n = y * 365 + y / 4 - y / 100 + y / 400 + days[month - 1] + day;\n            return n;\n        }\n\n        private static bool IsLeapYear(long year)\n        {\n            return year % 4 == 0 && (year % 100 != 0 || year % 400 == 0);\n        }\n\n        static string RSt() { return Console.ReadLine(); }\n        static int RInt() { return int.Parse(Console.ReadLine().Trim()); }\n        static long RLong() { return long.Parse(Console.ReadLine().Trim()); }\n        static double RDouble() { return double.Parse(Console.ReadLine()); }\n        static string[] RArSt(char sep = ' ') { return Console.ReadLine().Trim().Split(sep); }\n        static int[] RArInt(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => int.Parse(e)); }\n        static long[] RArLong(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => long.Parse(e)); }\n        static double[] RArDouble(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => double.Parse(e)); }\n        static string WAr<T>(IEnumerable<T> array, string sep = \" \") { return string.Join(sep, array.Select(x => x.ToString()).ToArray()); }\n    }\n}\n\n"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\n\nnamespace _0261\n{\n    class Program\n    {\n\n        static readonly int[] DaysToMonth365 = { 0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334, 365 };\n        static readonly int[] DaysToMonth366 = { 0, 31, 60, 91, 121, 152, 182, 213, 244, 274, 305, 335, 366 };\n\n        static readonly DateTime BaseDate = new DateTime(2012, 12, 21);\n        static readonly long[] MayaUnit = new long[] { 20, 20, 18, 20, 1 };\n        static readonly int MayaCycle = 13;\n\n        static void Main(string[] args)\n        {\n\n            while (true)\n            {\n                string s = RSt();\n                if (s == \"#\") break;\n\n                long[] vs = Array.ConvertAll(s.Split('.'), e => long.Parse(e));\n                Console.WriteLine(vs.Length == 5 ? CalcAd(vs) : CalcMaya(vs));\n            }\n\n        }\n\n        private static string CalcAd(long[] vs)\n        {\n            long days = 0;\n            for (int i = 0; i < vs.Length; i++) days = (days + vs[i]) * MayaUnit[i];\n            DateTime newDate = BaseDate.AddDays(days);\n            return newDate.ToString(\"yyyy.M.d\");\n        }\n\n        private static string CalcMaya(long[] vs)\n        {\n            long days = GetDays(vs[0], vs[1], vs[2]) - GetDays(2012, 12, 21);\n\n            long[] mayaDate = new long[MayaUnit.Length];\n            for (int i = MayaUnit.Length - 1; i >= 0; i--)\n            {\n                mayaDate[i] = days % MayaUnit[i - 1];\n                days /= MayaUnit[i - 1];\n            }\n            mayaDate[0] = days % MayaCycle;\n            return WAr(mayaDate, \".\");\n        }\n\n        private static long GetDays(long year, long month, long day)\n        {\n            int[] days = IsLeapYear(year) ? DaysToMonth366 : DaysToMonth365;\n            long y = year - 1;\n            long n = y * 365 + y / 4 - y / 100 + y / 400 + days[month - 1] + day;\n            return n;\n        }\n\n        private static bool IsLeapYear(long year)\n        {\n            return year % 4 == 0 && (year % 100 != 0 || year % 400 == 0);\n        }\n\n        static string RSt() { return Console.ReadLine(); }\n        static int RInt() { return int.Parse(Console.ReadLine().Trim()); }\n        static long RLong() { return long.Parse(Console.ReadLine().Trim()); }\n        static double RDouble() { return double.Parse(Console.ReadLine()); }\n        static string[] RArSt(char sep = ' ') { return Console.ReadLine().Trim().Split(sep); }\n        static int[] RArInt(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => int.Parse(e)); }\n        static long[] RArLong(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => long.Parse(e)); }\n        static double[] RArDouble(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => double.Parse(e)); }\n        static string WAr<T>(IEnumerable<T> array, string sep = \" \") { return string.Join(sep, array.Select(x => x.ToString()).ToArray()); }\n    }\n}\n\n"
  },
  {
    "language": "Ruby",
    "code": "def _AnnoToDaysFromZero(input)\n\td = input.split(\".\").map(&:to_i)\n\t\n\td[0] -= 1\n\tcnt = d[0] * 365 + (d[0]/4 - d[0]/100 + d[0]/400)\n\t\n\td[0] += 1\n\tleap = d[0]%4==0 && (d[0]%100!=0 || d[0]%400==0)\n\tif d[1] > 1\n\t\tcnt += 31\n\tend\n\tif d[1] > 2\n\t\tcnt += leap ? 29 : 28\n\tend\n\tif d[1] > 3\n\t\tcnt += 31\n\tend\n\tif d[1] > 4\n\t\tcnt += 30\n\tend\n\tif d[1] > 5\n\t\tcnt += 31\n\tend\n\tif d[1] > 6\n\t\tcnt += 30\n\tend\n\tif d[1] > 7\n\t\tcnt += 31\n\tend\n\tif d[1] > 8\n\t\tcnt += 31\n\tend\n\tif d[1] > 9\n\t\tcnt += 30\n\tend\n\tif d[1] > 10\n\t\tcnt += 31\n\tend\n\tif d[1] > 11\n\t\tcnt += 30\n\tend\n\t\n\tcnt += d[2]\n\treturn cnt\nend\ndef AnnoToDays(input)\n\treturn _AnnoToDaysFromZero(input) - _AnnoToDaysFromZero(\"2012.12.21\")\nend\ndef MayaToDays(input)\n\td = input.split(\".\").map(&:to_i)\n\treturn d[0]*20*20*18*20 + d[1]*20*18*20 + d[2]*18*20 + d[3]*20 + d[4]\nend\n\ndef _DaysToAnnoFromZero(input)\n\tyearCnt = input/365\n\tinput -= yearCnt*365 + (yearCnt/4 - yearCnt/100 + yearCnt/400)\n\t\n\twhile input < 0\n\t\tyearCnt -= 1\n\t\tinput += (yearCnt%4==0 && (yearCnt%100!=0 || yearCnt%400==0)) ? 366 : 365\n\tend\n\tyearCnt += 1\n\t\n\tleap = yearCnt%4==0 && (yearCnt%100!=0 || yearCnt%400==0)\n\tmonthCnt = 1\n\tdays = [31,0,31,30,31,30,31,31,30,31,30,31]\n\tdays[1] = leap ? 29 : 28\n\tfor i in 0..11\n\t\tif input > days[i]\n\t\t\tinput -= days[i]\n\t\t\tmonthCnt += 1\n\t\tend\n\tend\n\t\n\treturn [yearCnt,monthCnt,input].join(\".\")\nend\ndef DaysToAnno(input)\n\treturn _DaysToAnnoFromZero(input + _AnnoToDaysFromZero(\"2012.12.21\"))\nend\ndef DaysToMaya(input)\n\tinput %= 13*20*20*18*20\n\td = [\n\t\tinput / (20*20*18*20),\n\t\t(input % (20*20*18*20)) / (20*18*20),\n\t\t(input % (20*18*20)) / (18*20),\n\t\t(input % (18*20)) / 20,\n\t\tinput % 20\n\t]\n\treturn d.join(\".\")\nend\n\nwhile true\n\tdata = gets.strip\n\tif data == \"#\"\n\t\tbreak\n\telsif data.count(\".\") == 2\n\t\tputs DaysToMaya(AnnoToDays(data))\n\telse\n\t\tputs DaysToAnno(MayaToDays(data))\n\tend\nend"
  },
  {
    "language": "Ruby",
    "code": "require \"date\"\n\n$refer=Date.new(2012,12,21)\nloop{\n  s=gets.chomp\n  if s==\"#\"\n    break\n  end\n  date=s.split(\".\").map(&:to_i)\n  if date.length == 3\n    _date=Date.new(date[0],date[1],date[2])\n    dif=_date-$refer\n    ki=(dif%20).to_i\n    dif=(dif/20).to_i\n    w=(dif%18).to_i\n    dif=(dif/18).to_i\n    t=(dif%20).to_i\n    dif=(dif/20).to_i\n    ka=(dif%20).to_i\n    dif=(dif/20).to_i\n    b=(dif%13).to_i\n    puts \"#{b}.#{ka}.#{t}.#{w}.#{ki}\"\n  else\n    dif=(((date[0]*20+date[1])*20+date[2])*18+date[3])*20+date[4]\n    _date=$refer+dif\n    puts \"#{_date.year}.#{_date.month}.#{_date.day}\"\n  end\n}"
  },
  {
    "language": "Ruby",
    "code": "require \"date\"\nbaseDate = Date.new(2012, 12, 21)\nwhile input = gets\n\tif input.chomp! == \"#\"\n\t\tbreak\n\tend\n\tinput = input.split(\".\").map(&:to_i)\n\tif input.length == 3\n\t\tdays = ((Date.new(input[0], input[1], input[2]) - baseDate) % (20 * 18 * 20 * 20 * 13)).to_i\n\t\toutput = [days / 20 / 18 / 20 / 20, days / 20 / 18 / 20 % 20, days / 20 / 18 % 20, days / 20 % 18, days % 20]\n\telse\n\t\tdate = baseDate + (input[4] + input[3] * 20 + input[2] * 20 * 18 + input[1] * 20 * 18 * 20 + input[0] * 20 * 18 * 20 * 20)\n\t\toutput = [date.year, date.month, date.day]\n\tend\n\tputs output.join(\".\")\nend"
  },
  {
    "language": "Ruby",
    "code": "#! /usr/bin/env ruby\n# coding: utf-8\nrequire 'date'\nD = [144000, 7200, 360, 20, 1]\n\nwhile s = gets do\n  v = s.scan(/\\d+/).map(&:to_i)\n  if v.size == 3 then\n    a = []\n    d = Date.new(v[0], v[1], v[2]).jd - Date.new(2012, 12, 21).jd\n    D.each do |n|\n      a << d / n\n      d %= n\n    end\n    a[0] %= 13\n    puts a.join(\".\")\n  elsif v.size == 5 then\n    d = 0\n    D.each.with_index do |n, i|\n      d += n * v[i]\n    end\n    dt = Date.new(2012, 12, 21) + d\n    puts [dt.year, dt.month, dt.day].join(\".\")\n  end\nend"
  },
  {
    "language": "Ruby",
    "code": "#!/usr/bin/ruby\n#coding: utf-8\n\nrequire 'date'\n\nKI = 1\nW = 20 * KI\nT = 18 * W\nKA = 20 * T\nB = 20 * KA\n\nn = Date.new(2012, 12, 21)\n\ndef mayan(d)\n  d = d.to_i\n  s = []\n  s << ((d / B) % 13).to_s\n  d %= B\n  s << (d / KA).to_s\n  d %= KA\n  s << (d / T).to_s\n  d %= T\n  s << (d / W).to_s\n  d %= W\n  s << d\n  s.join('.')\nend\n\ndef greg(d)\nend\n\nloop do\n  s = gets.chomp\n  break if s =~ /#/\n  if s =~ /\\d*\\.\\d*\\.\\d*\\.\\d*\\.\\d*/\n    b, ka, t, w, ki = s.split('.').map(&:to_i)\n    puts (n + b * B + ka * KA + t * T + w * W + ki * KI).to_s.split('-').map(&:to_i).join('.')\n  else\n    y, m, d = s.split('.').map(&:to_i)\n    puts mayan(Date.new(y, m, d) - n)\n  end\nend"
  },
  {
    "language": "Ruby",
    "code": "def _AnnoToDaysFromZero(input)\n\td = input.split(\".\").map(&:to_i)\n\t\n\td[0] -= 1\n\tcnt = d[0] * 365 + (d[0]/4 - d[0]/100 + d[0]/400)\n\t\n\td[0] += 1\n\tleap = d[0]%4==0 && (d[0]%100!=0 || d[0]%400==0)\n\tif d[1] > 1\n\t\tcnt += 31\n\tend\n\tif d[1] > 2\n\t\tcnt += leap ? 29 : 28\n\tend\n\tif d[1] > 3\n\t\tcnt += 31\n\tend\n\tif d[1] > 4\n\t\tcnt += 30\n\tend\n\tif d[1] > 5\n\t\tcnt += 31\n\tend\n\tif d[1] > 6\n\t\tcnt += 30\n\tend\n\tif d[1] > 7\n\t\tcnt += 31\n\tend\n\tif d[1] > 8\n\t\tcnt += 31\n\tend\n\tif d[1] > 9\n\t\tcnt += 30\n\tend\n\tif d[1] > 10\n\t\tcnt += 31\n\tend\n\tif d[1] > 11\n\t\tcnt += 30\n\tend\n\t\n\tcnt += d[2]\n\treturn cnt\nend\ndef AnnoToDays(input)\n\treturn _AnnoToDaysFromZero(input) - _AnnoToDaysFromZero(\"2012.12.21\")\nend\ndef MayaToDays(input)\n\td = input.split(\".\").map(&:to_i)\n\treturn d[0]*20*20*18*20 + d[1]*20*18*20 + d[2]*18*20 + d[3]*20 + d[4]\nend\n\ndef _DaysToAnnoFromZero(input)\n\tyearCnt = input/366\n\t\n\twhile input > _AnnoToDaysFromZero(yearCnt.to_s + \".1.1\")\n\t\tyearCnt += 1\n\tend\n\tyearCnt -= 2\n\t\n\tinput -= yearCnt/4 - yearCnt/100 + yearCnt/400\n\tinput %= 365\n\t\n\tyearCnt += 1\n\tleap = yearCnt%4==0 && (yearCnt%100!=0 || yearCnt%400==0)\n\tmonthCnt = 1\n\tdays = [31,-114514,31,30,31,30,31,31,30,31,30,31]\n\tdays[1] = leap ? 29 : 28\n\tfor i in 0..11\n\t\tif input > days[i]\n\t\t\tinput -= days[i]\n\t\t\tmonthCnt += 1\n\t\tend\n\tend\n\t\n\treturn [yearCnt,monthCnt,input].join(\".\")\nend\ndef DaysToAnno(input)\n\treturn _DaysToAnnoFromZero(input + _AnnoToDaysFromZero(\"2012.12.21\"))\nend\ndef DaysToMaya(input)\n\tinput %= 13*20*20*18*20\n\td = [\n\t\tinput / (20*20*18*20),\n\t\t(input % (20*20*18*20)) / (20*18*20),\n\t\t(input % (20*18*20)) / (18*20),\n\t\t(input % (18*20)) / 20,\n\t\tinput % 20\n\t]\n\treturn d.join(\".\")\nend\n\nwhile true\n\tdata = gets.strip\n\tif data == \"#\"\n\t\tbreak\n\telsif data.count(\".\") == 2\n\t\tputs DaysToMaya(AnnoToDays(data))\n\telse\n\t\tputs DaysToAnno(MayaToDays(data))\n\tend\nend"
  },
  {
    "language": "Ruby",
    "code": "### constant\n\nMDAYS = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]\n\n### subroutines\n\ndef leap?(y)\n  (y % 4 == 0) && (y % 100 != 0 || y % 400 == 0)\nend\n\ndef ad2days(y, m, d)\n  lp = leap?(y)\n  ly = y - 1\n  m -= 1\n\n  (ly * 365 + ly / 4 - ly / 100 + ly / 400) +\n    $msums[m] + ((lp && m >= 2) ? 1 : 0) +\n    d\nend\n\ndef days2ad(days)\n  y = 1\n  lp = false\n  ydays = 365\n\n  while days > ydays\n    days -= ydays\n    y += 1\n    lp = leap?(y)\n    ydays = lp ? 366 : 365\n  end\n\n  m = 0\n\n  while true\n    mdays = MDAYS[m]\n    mdays += 1 if m == 1 && lp\n    break if days <= mdays\n    days -= mdays\n    m += 1\n  end\n\n  [y, m + 1, days]\nend\n\ndef maya2days(b, ka, t, w, ki)\n  (((b * 20 + ka) * 20 + t) * 18 + w) * 20 + ki\nend\n\ndef days2maya(days)\n  ki = days % 20\n  days /= 20\n  w = days % 18\n  days /= 18\n  t = days % 20\n  days /= 20\n  ka = days % 20\n  days /= 20\n  b = days % 13\n\n  [b, ka, t, w, ki]\nend\n\n### main\n\n$msums = [0]\n(1..12).each{|m| $msums[m] = $msums[m - 1] + MDAYS[m - 1]}\n#p $msums\n\nbase = ad2days(2012, 12, 21)\n#p base\n#exit 0\n\nwhile true\n  line = gets.strip\n  break if line == '#'\n\n  nums = line.split('.').map{|s| s.to_i}\n\n  if nums.length == 3\n    days = ad2days(*nums) - base\n    puts days2maya(days).join('.')\n  else\n    days = maya2days(*nums) + base\n    puts days2ad(days).join('.')\n  end\nend"
  },
  {
    "language": "D",
    "code": "import std.stdio;\nimport std.string;\nimport std.conv;\nimport std.typecons;\nimport std.algorithm;\nimport std.functional;\nimport std.bigint;\nimport std.numeric;\nimport std.array;\nimport std.math;\nimport std.range;\nimport std.container;\n\nvoid main() {\n    while(true) {\n        string[] input = readln.chomp.split(\".\");\n        if (input == [\"#\"]) break;\n        if (input.length == 3) {\n            seirekiToMaya(input).reduce!((a,b)=>a~\".\"~b).writeln;\n        } else {\n            mayaToSeireki(input).reduce!((a,b)=>a~\".\"~b).writeln;\n        }\n    }\n}\nstring[] seirekiToMaya(string[] seireki) {\n    int Y = seireki[0].to!int;\n    int M = seireki[1].to!int;\n    int D = seireki[2].to!int;\n    long temp = 0;\n    if (Y>2012) {\n        temp = func(12, 2012)-21;\n        foreach(y; 2013..Y) {\n            temp += isUruu(y) ? 366:365;\n        }\n        foreach(m; 1..M) {\n            temp += func(m, Y);\n        }\n        temp += D;\n    } else {\n        temp = D-21;\n    }\n    temp %= 13*20*20*18*20;\n    long ki, w, t, ka, b;\n    ki = temp;\n    w = ki/20;\n    ki %= 20;\n    t = w/18;\n    w %= 18;\n    ka = t/20;\n    t %= 20;\n    b = ka/20;\n    ka %= 20;\n    return [b, ka, t, w, ki].to!(string[]);\n}\nstring[] mayaToSeireki(string[] maya) {\n    int b = maya[0].to!int;\n    int ka = maya[1].to!int;\n    int t = maya[2].to!int;\n    int w = maya[3].to!int;\n    int ki = maya[4].to!int;\n    long temp = b;\n    temp = temp*20+ka;\n    temp = temp*20+t;\n    temp = temp*18+w;\n    temp = temp*20+ki;\n\n    int y, m, d;\n    if (temp>10) {\n        temp-=11;\n        y = 2013;\n        m = 1;\n        d = 1;\n        while (temp>= (isUruu(y) ? 366:365)) {\n            temp -= isUruu(y) ? 366:365;\n            y += 1;\n        }\n        while (temp>= func(m, y)) {\n            temp -= func(m, y);\n            m += 1;\n        }\n        d += temp.to!int;\n    } else {\n        y = 2012;\n        m = 12;\n        d = 21+temp.to!int;\n    }\n    return [y, m, d].to!(string[]);\n}\nint func(int m, int y) {\n    switch(m) {\n        case 2: {\n            if (isUruu(y)) {\n                return 29;\n            } else {\n                return 28;\n            }\n        } break;\n        case 4: case 6: case 9: case 11: {\n            return 30;\n        } break;\n        default: {\n            return 31;\n        }\n    }\n}\nbool isUruu(int y) {\n    return y%4==0 && (y%100!=0 || y%400==0);\n}"
  },
  {
    "language": "Python",
    "code": "# Aizu Problem 0261: Mayan Crucial Prediction\n\nimport sys, math, os, datetime\n\n# read input:\nPYDEV = os.environ.get('PYDEV')\nif PYDEV==\"True\":\n    sys.stdin = open(\"sample-input.txt\", \"rt\")\n\ndpm = [0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31] # day per month\n\n \ndef get_day(year, month, day):\n    if month <= 2:\n        year -= 1\n        month += 12\n    dy = 365 * (year - 1)\n    c = year // 100\n    dl = (year >> 2) - c + (c >> 2)\n    dm = (month * 979 - 1033) >> 5\n    return dy + dl + dm + day - 1\n\ndef from_day(n):\n    a = n + 32044;\n    b = (4 * n + 3) // 146097\n    c = a - (146097 * b) // 4\n    d = (4 * c + 3) // 1461\n    e = c - (1461 * d) // 4\n    m = (5 * e + 2) // 153\n    m1 = m // 10\n    day = e - (153 * m + 2) // 5 + 1\n    month = m + 3 - 12 * m1\n    year = 100 * b + d - 4800 + m1\n    if year <= 0:\n        year = -year + 1\n    return year, month, day\n\n\noffset = get_day(2012, 12, 21)\nmaya= [144000, 7200, 360, 20, 1]\n    \nwhile True:\n    inp = input().strip()\n    if inp == \"#\":\n        break\n    inp = [int(_) for _ in inp.split('.')]\n    if len(inp) == 3:\n        # christian to mayan:\n        n = (get_day(inp[0], inp[1], inp[2]) - offset) % 1872000\n        out = \"\"\n        for k in range(4):\n            out += str(n // maya[k]) + '.'\n            n %= maya[k]\n        out += str(n)\n        print(out)\n    else:\n        # mayan to christian:\n        n = sum([maya[k] * inp[k] for k in range(5)])\n        #date = datetime.date.fromordinal(offset + n + 1)\n        year, month, day = from_day(n + 2456283 + 1)\n        print(str(year) + \".\" + str(month) + \".\" + str(day))"
  },
  {
    "language": "Python",
    "code": "from datetime import date,timedelta\na=date(2012,12,21)\nwhile 1:\n    try:s=list(map(int,input().split('.')))\n    except:break\n    d=0\n    if len(s)<4:    \n        while s[0]>3000:d+=365*400+97;s[0]-=400\n        d+=(date(s[0],s[1],s[2])-a).days\n        d,k=divmod(d,20)\n        d,w=divmod(d,18)\n        d,t=divmod(d,20)\n        d,_k=divmod(d,20)\n        d%=13\n        print('.'.join(map(str,[d,_k,t,w,k])))\n    else:\n        for i in range(len(s)-1):\n            d+=s[i]\n            d*=18 if i==2 else 20\n        d+=s[4]\n        d=a+timedelta(days=d)\n        print('.'.join(map(str,[d.year,d.month,d.day])))"
  },
  {
    "language": "Python",
    "code": "#-*- coding: utf-8 _*_\nimport datetime\n\ndef is_leap(y):\n    if y%400==0:   return True\n    if y%100==0:   return False\n    if y%4==0:     return True\n    return False\n\ndef get_day(y,m,d):\n    if m<=2:\n        y-=1\n        m+=12\n    dy = 365*(y-1)\n    c = y/100\n    dl=(y>>2)-c+(c>>2)\n    dm=(m*979-1033)>>5\n    return dy+dl+dm+d-1\n\ndef solve(line):\n    ipt = map(int, line.split(\".\"))\n#     print ipt\n    if len(ipt) >3:\n        n=0\n        for i in range(5):  n+=ipt[i]*mm[i]\n        date = datetime.date.fromordinal(offset+n+1)\n        print str(date.year)+\".\"+str(date.month)+\".\"+str(date.day)\n    else:\n        n=get_day(*ipt)-offset\n#         print n\n        n%=1872000\n        ret=\"\"\n        for i in range(4):\n            ret+=str(n/mm[i])+\".\"\n            n%=mm[i]\n        ret+=str(n)\n        print ret\n\nif __name__=='__main__':\n    # const\n    mm=(144000,7200,360,20,1)\n    w1=(0,0,31,59,90,120,151,181,212,243,273,304,334,365)\n    w2=(0,0,31,60,91,121,152,182,213,244,274,305,335,366)\n    offset = get_day(2012,12,21)\n#     print datetime.MAXYEAR\n    \n    while True:\n        line=raw_input()\n        if line==\"#\":   exit()\n        solve(line)"
  },
  {
    "language": "Python",
    "code": "import datetime\nfrom datetime import timedelta\nfrom datetime import date\n\ndef ad2mayan(y, m, d):\n    days = 0\n    while datetime.MAXYEAR < y:\n        days += 365 * 400 + 97\n        y -= 400\n\n    days += (date(y, m, d) - date(2012, 12, 21)).days\n    \n    ki, days = days % 20, days // 20\n    w, days = days % 18, days // 18\n    t, days = days % 20, days // 20\n    ka, days = days % 20, days // 20\n    b = days % 13\n    \n    return b,ka,t,w,ki\n\ndef mayan2ad(b, ka, t, w, ki):\n    ka += b * 20\n    t += ka * 20\n    w += t * 18\n    ki += w * 20\n    dt = datetime.date(2012, 12, 21) + timedelta(ki)\n    return dt.year, dt.month, dt.day\n\nimport sys\nf = sys.stdin\n\n\nfor line in f:\n    if line[0] == '#':\n        break\n    t = list(map(int, line.split('.')))\n    \n    if len(t) == 3:\n        print('.'.join(map(str, ad2mayan(*t))))\n    elif len(t) == 5:\n        print('.'.join(map(str, mayan2ad(*t))))"
  },
  {
    "language": "Python",
    "code": "m1 = [31,28,31,30,31,30,31,31,30,31,30,31]\nm2 = [31,29,31,30,31,30,31,31,30,31,30,31]\nwhile 1:\n    try:d = list(map(int, input().split(\".\")))\n    except:break\n    if len(d) == 3:\n        days = -734858\n        days += (d[0] - 1) * 365 + (d[0] - 1) // 4 - (d[0] - 1) // 100 + (d[0] - 1) // 400\n        if d[0] % 4 == 0 and (d[0] % 100 != 0 or d[0] % 400 == 0):days += sum(m2[:d[1] - 1])\n        else:days += sum(m1[:d[1] - 1])\n        days += d[2]\n        maya = [0,0,0,0,0]\n        maya[0] = days // 144000 % 13\n        maya[1] = days // 7200 % 20\n        maya[2] = days // 360 % 20\n        maya[3] = days // 20 % 18\n        maya[4] = days % 20\n        print(\".\".join(map(str, maya)))\n    else:\n        days = d[0] * 144000 + d[1] * 7200 + d[2] * 360 + d[3] * 20 + d[4] + 734858\n        sei = [1,0,0]\n        sei[0] += (days  - 1) // 146097 * 400\n        days -= (days  - 1) // 146097 * 146097\n        sei[0] += min(3, (days  - 1)// 36524) * 100\n        days -=  min(3, (days  - 1)// 36524) * 36524\n        sei[0] += min(24, (days  - 1) // 1461) * 4\n        days -= min(24, (days  - 1) // 1461) * 1461\n        sei[0] += min(3, (days  - 1) // 365)\n        days -= min(3, (days  - 1) // 365) * 365\n        if sei[0] % 4 == 0 and (sei[0] % 100 != 0 or sei[0] % 400 == 0):\n            for i in range(12):\n                if sum(m2[:i + 1]) >= days:\n                    sei[1] = i + 1\n                    days -= sum(m2[:i])\n                    break\n        else:\n            for i in range(12):\n                if sum(m1[:i + 1]) >= days:\n                    sei[1] = i + 1\n                    days -= sum(m1[:i])\n                    break\n        sei[2] = days\n        print(\".\".join(map(str, sei)))\n"
  },
  {
    "language": "Python",
    "code": "KI = 1\nW = 20 * KI\nT = 18 * W\nKA = 20 * T\nB = 20 * KA\nMAX_MAYA = 12 * B + 19*KA + 19*T + 17*W + 19\n\nmonth = (31,28,31,30,31,30,31,31,30,31,30,31)\n\n\ndef is_uruu(y):\n    return y % 4 == 0 and (y % 100 != 0 or y % 400 == 0)\ndef y_d(y):\n    return 365 if not is_uruu(y) else 366\ndef m_d(y,m):\n    return 29 if (m == 2 and is_uruu(y)) else month[m-1]\n\nwhile 1:\n    inp = input().split('.')\n    if inp[0] == '#':break\n\n    inp = list(map(int,inp))\n    if len(inp) == 5:#maya\n        val = inp[0] * B + inp[1] * KA + inp[2] * T + inp[3] * W + inp[4] * KI\n        y,m,d = 2012,12,21\n        if val <= 10:\n            print('%d.%d.%d' % (y,m,d+val))\n        else:\n            val -=11\n            y,m,d = 2013,1,1\n\n            while val >= y_d(y): \n                val -= y_d(y)\n                y += 1\n            while val >= m_d(y,m):\n                val -= m_d(y,m)\n                m += 1\n\n            d += val\n            print('%d.%d.%d' % (y,m,d))\n    else:\n        if inp[0] == 2012:\n            print('0.0.0.0.%d' % (inp[2] - 21))\n        else:\n            val = 11\n            for y in range(2013,inp[0]):\n                val += y_d(y)\n            for m in range(1,inp[1]):\n                val += m_d(inp[0],m)\n            val += inp[2]-1\n            if val > MAX_MAYA:\n                val = val % (MAX_MAYA+1)\n            val = val % (MAX_MAYA+1)\n            b=val // B\n            val %= B\n            ka = val // KA\n            val %= KA\n            t = val //T\n            val %= T\n            w = val //W\n            val %= W\n            print('%d.%d.%d.%d.%d'%(b,ka,t,w,val))"
  },
  {
    "language": "Python",
    "code": "def convert1(y, m, d):\n    if m <= 2:\n        m += 12\n        y -= 1\n    mjd = int(365.25*y) + (y//400) - (y//100) + int(30.59*(m-2)) + d - 678912\n    return mjd\ndef convert2(mjd):\n    n = mjd + 678881\n    a = 4*n + 3 + 4*(3*(4*(n+1)//146097+1)//4)\n    b = 5*((a % 1461)//4) + 2\n    y, m, d = a//1461, b//153 + 3, (b % 153)//5 + 1\n    if m >= 13:\n        y += 1\n        m -= 12\n    return y, m, d\n\nbase = convert1(2012, 12, 21)\nwhile 1:\n    s = input()\n    if s == '#':\n        break\n    *vs, = map(int, s.split(\".\"))\n    if len(vs) == 5:\n        b, ka, t, w, ki = vs\n        day = ki + w*20 + t*18*20 + ka*20*18*20 + b*20*20*18*20\n        y, m, d = convert2(base + day)\n        print(\"%d.%d.%d\" % (y, m, d))\n    else:\n        y, m, d = vs\n        d = convert1(y, m, d) - base\n        ki = d % 20; d //= 20\n        w = d % 18; d //= 18\n        t = d % 20; d //= 20\n        ka = d % 20; d //= 20\n        b = d % 13\n        print(\"%d.%d.%d.%d.%d\" % (b, ka, t, w, ki))\n\n"
  },
  {
    "language": "Python",
    "code": "import datetime\n\ndef is_leap_year(y):\n    return y % 4 == 0 and (y % 100 != 0 or y % 400 == 0)\n\ndef leap_year_count(target_y,benchmark_y):\n    target = target_y // 4 - target_y // 100 + target_y // 400\n    benchmark = benchmark_y // 4 - benchmark_y // 100 + benchmark_y // 400\n    return target - benchmark\n\ndef ad2mayan(y, m, d):\n    diff = 0\n    if datetime.MAXYEAR < y:\n        day_of_2012 = (datetime.date(2013, 1, 1) - datetime.date(2012, 12, 21)).days\n        day_of_the_year = 0\n        if is_leap_year(y):\n            day_of_the_year = (datetime.date(2, m, d) - datetime.date(1, 12, 31)).days\n        else:\n            day_of_the_year = (datetime.date(4, m, d) - datetime.date(3, 12, 31)).days\n        \n        days = (y - 2013) * 365 + leap_year_count(y - 1, 2013)\n        print(day_of_2012,days,day_of_the_year)\n\n        diff = day_of_2012 + days + day_of_the_year\n    else:\n        benchmark = datetime.date(2012, 12, 21)\n        diff = (datetime.date(y, m, d) - benchmark).days\n    \n    ki, diff = diff % 20, diff // 20\n    w, diff = diff % 18, diff // 18\n    t, diff = diff % 20, diff // 20\n    ka, diff = diff % 20, diff // 20\n    b = diff % 13\n    \n    return b,ka,t,w,ki\n\ndef mayan2ad(b, ka, t, w, ki):\n    ka += b * 20\n    t += ka * 20\n    w += t * 18\n    ki += w * 20\n    time = datetime.date(2012, 12, 21) + datetime.timedelta(ki)\n    return time.year, time.month, time.day\n\nimport sys\nf = sys.stdin\n\nfor line in f:\n    if line[0] == '#':\n        break\n    t = list(map(int, line.split('.')))\n    if len(t) == 3:\n        print('.'.join(map(str, ad2mayan(*t))))\n    elif len(t) == 5:\n        print('.'.join(map(str, mayan2ad(*t))))"
  },
  {
    "language": "Python",
    "code": "m1 = [31,28,31,30,31,30,31,31,30,31,30,31]\nm2 = [31,29,31,30,31,30,31,31,30,31,30,31]\nwhile 1:\n    try:d = list(map(int, input().split(\".\")))\n    except:break\n    if len(d) == 3:\n        days = -734858\n        days += (d[0] - 1) * 365 + (d[0] - 1) // 4 - (d[0] - 1) // 100 + (d[0] - 1) // 400\n        if d[0] % 4 == 0 and (d[0] // 100 != 0 or d[0] // 400 == 0):days += sum(m2[:d[1] - 1])\n        else:days += sum(m1[:d[1] - 1])\n        days += d[2]\n        maya = [0,0,0,0,0]\n        maya[0] = days // 144000 % 13\n        maya[1] = days // 7200 % 20\n        maya[2] = days // 360 % 20\n        maya[3] = days // 20 % 18\n        maya[4] = days % 20\n        print(\".\".join(map(str, maya)))\n    else:\n        days = d[0] * 144000 + d[1] * 7200 + d[2] * 360 + d[3] * 20 + d[4] + 734858\n        sei = [1,0,0]\n        sei[0] += days // 146097 * 400\n        days %= 146097\n        sei[0] += days // 36524 * 100\n        days %= 36524\n        sei[0] += days // 1461 * 4\n        days %= 1461\n        sei[0] += days // 365\n        days %= 365\n        if sei[0] % 4 == 0 and (sei[0] // 100 != 0 or sei[0] // 400 == 0):\n            for i in range(12):\n                if sum(m2[:i + 1]) >= days:\n                    sei[1] = i + 1\n                    days -= sum(m2[:i])\n                    break\n        else:\n            for i in range(12):\n                if sum(m1[:i + 1]) >= days:\n                    sei[1] = i + 1\n                    days -= sum(m1[:i])\n                    break\n        sei[2] = days\n        print(\".\".join(map(str, sei)))\n"
  },
  {
    "language": "Python",
    "code": "m1 = [31,28,31,30,31,30,31,31,30,31,30,31]\nm2 = [31,29,31,30,31,30,31,31,30,31,30,31]\nwhile 1:\n    try:d = list(map(int, input().split(\".\")))\n    except:break\n    if len(d) == 3:\n        days = -734858\n        days += (d[0] - 1) * 365 + (d[0] - 1) // 4 - (d[0] - 1) // 100 + (d[0] - 1) // 400\n        if d[0] % 4 == 0 and (d[0] % 100 != 0 or d[0] % 400 == 0):days += sum(m2[:d[1] - 1])\n        else:days += sum(m1[:d[1] - 1])\n        days += d[2]\n        maya = [0,0,0,0,0]\n        maya[0] = days // 144000 % 13\n        maya[1] = days // 7200 % 20\n        maya[2] = days // 360 % 20\n        maya[3] = days // 20 % 18\n        maya[4] = days % 20\n        print(\".\".join(map(str, maya)))\n    else:\n        days = d[0] * 144000 + d[1] * 7200 + d[2] * 360 + d[3] * 20 + d[4] + 734858\n        sei = [1,0,0]\n        sei[0] += days // 146097 * 400\n        days %= 146097\n        sei[0] += days // 36524 * 100\n        days %= 36524\n        sei[0] += days // 1461 * 4\n        days %= 1461\n        sei[0] += days // 365\n        days %= 365\n        if days == 0:\n            sei[0] -= 1\n            if sei[0] % 4 == 0 and (sei[0] // 100 != 0 or sei[0] // 400 == 0):days += 366\n            else:days += 365\n        if sei[0] % 4 == 0 and (sei[0] // 100 != 0 or sei[0] // 400 == 0):\n            for i in range(12):\n                if sum(m2[:i + 1]) >= days:\n                    sei[1] = i + 1\n                    days -= sum(m2[:i])\n                    break\n        else:\n            for i in range(12):\n                if sum(m1[:i + 1]) >= days:\n                    sei[1] = i + 1\n                    days -= sum(m1[:i])\n                    break\n        sei[2] = days\n        print(\".\".join(map(str, sei)))\n                \n"
  },
  {
    "language": "Python",
    "code": "import datetime\ntime_std=datetime.date(2012, 12, 21)\nwhile 1:\n    n=input()\n    if n==\"#\":break\n    n_len=list(map(int,n.split(\".\")))\n    if len(n_len)==3:\n        year_keep=0\n        while n_len[0]>9999:\n            year_keep+=1\n            n_len[0]-=400\n        ans=[0]*5\n        cal_date=datetime.date(n_len[0], n_len[1], n_len[2])\n        date_dif=(cal_date-time_std).days+year_keep*146097\n        ans[0]=str(date_dif//(20*20*18*20)%13)\n        ans[1]=str(date_dif//(20*18*20)%20)\n        ans[2]=str(date_dif//(18*20)%20)\n        ans[3]=str(date_dif//(20)%18)\n        ans[4]=str(date_dif%(20))\n        print(\".\".join(ans))\n    if len(n_len)==5:\n        ans=[0]*3\n        past_date=(((n_len[0]*20+n_len[1])*20+n_len[2])*18+n_len[3])*20+n_len[4]\n        year_keep=past_date//146097\n        past_date=past_date%146097\n        ans=list(map(str,str(datetime.date(2012, 12, 21)+datetime.timedelta(days=past_date)).split(\"-\")))\n        ans[0]=str(int(ans[0])+year_keep*400)\n        ans[1]=str(int(ans[1]))\n        ans[2]=str(int(ans[2]))\n        print(\".\".join(ans))\n"
  },
  {
    "language": "Python",
    "code": "# Aizu Problem 0261: Mayan Crucial Prediction\n\nimport sys, math, os, datetime\n\n# read input:\nPYDEV = os.environ.get('PYDEV')\n#if PYDEV==\"True\":\nsys.stdin = open(\"sample-input.txt\", \"rt\")\n\ndpm = [0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31] # day per month\n\n \ndef get_day(year, month, day):\n    if month <= 2:\n        year -= 1\n        month += 12\n    dy = 365 * (year - 1)\n    c = year // 100\n    dl = (year >> 2) - c + (c >> 2)\n    dm = (month * 979 - 1033) >> 5\n    return dy + dl + dm + day - 1\n\noffset = get_day(2012, 12, 21)\nmaya= [144000, 7200, 360, 20, 1]\n    \nwhile True:\n    inp = input().strip()\n    if inp == \"#\":\n        break\n    inp = [int(_) for _ in inp.split('.')]\n    if len(inp) == 3:\n        # christian to mayan:\n        n = (get_day(inp[0], inp[1], inp[2]) - offset) % 1872000\n        out = \"\"\n        for k in range(4):\n            out += str(n // maya[k]) + '.'\n            n %= maya[k]\n        out += str(n)\n        print(out)\n    else:\n        # mayan to christian:\n        n = sum([maya[k] * inp[k] for k in range(5)])\n        date = datetime.date.fromordinal(offset + n + 1)        \n        print(str(date.year) + \".\" + str(date.month) + \".\" + str(date.day))"
  },
  {
    "language": "Python",
    "code": "#-*- coding: utf-8 _*_\nimport datetime\n \ndef is_leap(y):\n    if y%400==0:   return True\n    if y%100==0:   return False\n    if y%4==0:     return True\n    return False\n \ndef get_day(y,m,d):\n    if m<=2:\n        y-=1\n        m+=12\n    dy = 365*(y-1)\n    c = y/100\n    dl=(y>>2)-c+(c>>2)\n    dm=(m*979-1033)>>5\n    return dy+dl+dm+d-1\n \ndef solve(line):\n    ipt = map(int, line.split(\".\"))\n#     print ipt\n    if len(ipt) >3:\n        n=0\n        for i in range(5):  n+=ipt[i]*mm[i]\n        date = datetime.date.fromordinal(offset+n+1)\n        print str(date.year)+\".\"+str(date.month)+\".\"+str(date.day)\n    else:\n        n=get_day(*ipt)-offset\n#         print n\n        n%=1872000\n        ret=\"\"\n        for i in range(4):\n            ret+=str(n/mm[i])+\".\"\n            n%=mm[i]\n        ret+=str(n)\n        print ret\n \nif __name__=='__main__':\n    # const\n    mm=(144000,7200,360,20,1)\n    w1=(0,0,31,59,90,120,151,181,212,243,273,304,334,365)\n    w2=(0,0,31,60,91,121,152,182,213,244,274,305,335,366)\n    offset = get_day(2012,12,21)\n#     print datetime.MAXYEAR\n     \n    while True:\n        line=raw_input()\n        if line==\"#\":   exit()\n        solve(line)"
  },
  {
    "language": "Python",
    "code": "from datetime import date, timedelta\n\nst = date(2012, 12, 21)\nwhile True:\n    s = input()\n    if s == '#':\n        break\n    d = list(map(int, s.split('.')))\n    if len(d) == 3:\n        r = 0\n        while d[0] > 3000:\n            d[0] -= 400\n            r += 365*400+97\n\n        ed = date(d[0], d[1], d[2])\n        r += (ed-st).days\n        ki = r%20\n        r//=20\n        w = r%18\n        r//=18\n        t = r%20\n        r//=20\n        ka = r%20\n        r//=20\n        b = r%13\n        print(str(b)+'.'+str(ka)+'.'+str(t)+'.'+str(w)+'.'+str(ki))\n    else:\n        r = d[0]\n        r *= 20\n        r += d[1]\n        r *= 20\n        r += d[2]\n        r *= 18\n        r += d[3]\n        r *= 20\n        r += d[4]\n        print((st+timedelta(days=r)).strftime(\"%Y.%m.%d\"))"
  },
  {
    "language": "Python",
    "code": "from datetime import date\nfrom datetime import timedelta\nimport datetime\n\ndef is_leap_year(y):\n    return y % 4 == 0 and (y % 100 != 0 or y % 400 == 0)\n\ndef leap_year_count(target_y,benchmark_y):\n    target = target_y // 4 - target_y // 100 + target_y // 400\n    benchmark = benchmark_y // 4 - benchmark_y // 100 + benchmark_y // 400\n    return target - benchmark\n\ndef ad2mayan(y, m, d):\n    diff = 0\n    if datetime.MAXYEAR < y:\n        day_of_2012 = (date(2013, 1, 1) - date(2012, 12, 21)).days\n        day_of_the_year = (date(1, m, d) - date(1, 1, 1)).days if is_leap_year(y) else (date(4, m, d) - date(4, 1, 1)).days\n        \n        days = (y - 2013) * 365 + leap_year_count(y, 2013)\n\n        diff = day_of_2012 + days + day_of_the_year\n    else:\n        benchmark = date(2012, 12, 21)\n        diff = (date(y, m, d) - benchmark).days\n    \n    ki, diff = diff % 20, diff // 20\n    w, diff = diff % 18, diff // 18\n    t, diff = diff % 20, diff // 20\n    ka, diff = diff % 20, diff // 20\n    b = diff % 13\n    \n    return b,ka,t,w,ki\n\ndef mayan2ad(b, ka, t, w, ki):\n    ka += b * 20\n    t += ka * 20\n    w += t * 18\n    ki += w * 20\n    time = date(2012, 12, 21) + timedelta(ki)\n    return time.year, time.month, time.day\n\n\nimport sys\nf = sys.stdin\n\nfor line in f:\n    if line == '#':\n        continue\n    t = list(map(int, line.split('.')))\n    if len(t) == 3:\n        print('.'.join(map(str, ad2mayan(*t))))\n    else:\n        print('.'.join(map(str, mayan2ad(*t))))"
  },
  {
    "language": "Python",
    "code": "# Aizu Problem 0261: Mayan Crucial Prediction\n\nimport sys, math, os, datetime\n\n# read input:\nPYDEV = os.environ.get('PYDEV')\n#if PYDEV==\"True\":\nsys.stdin = open(\"sample-input.txt\", \"rt\")\n\ndpm = [0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31] # day per month\n\n \ndef get_day(year, month, day):\n    if month <= 2:\n        year -= 1\n        month += 12\n    dy = 365 * (year - 1)\n    c = year // 100\n    dl = (year >> 2) - c + (c >> 2)\n    dm = (month * 979 - 1033) >> 5\n    return dy + dl + dm + day - 1\n\ndef from_day(n):\n    a = n + 32044;\n    b = (4 * n + 3) // 146097\n    c = a - (146097 * b) // 4\n    d = (4 * c + 3) // 1461\n    e = c - (1461 * d) // 4\n    m = (5 * e + 2) // 153\n    m1 = m // 10\n    day = e - (153 * m + 2) // 5 + 1\n    month = m + 3 - 12 * m1\n    year = 100 * b + d - 4800 + m1\n    if year <= 0:\n        year = -year + 1\n    return year, month, day\n\n\noffset = get_day(2012, 12, 21)\nmaya= [144000, 7200, 360, 20, 1]\n    \nwhile True:\n    inp = input().strip()\n    if inp == \"#\":\n        break\n    inp = [int(_) for _ in inp.split('.')]\n    if len(inp) == 3:\n        # christian to mayan:\n        n = (get_day(inp[0], inp[1], inp[2]) - offset) % 1872000\n        out = \"\"\n        for k in range(4):\n            out += str(n // maya[k]) + '.'\n            n %= maya[k]\n        out += str(n)\n        print(out)\n    else:\n        # mayan to christian:\n        n = sum([maya[k] * inp[k] for k in range(5)])\n        #date = datetime.date.fromordinal(offset + n + 1)\n        year, month, day = from_day(n + 2456283 + 1)\n        print(str(year) + \".\" + str(month) + \".\" + str(day))"
  },
  {
    "language": "Python",
    "code": "import datetime\n\ndef is_leap_year(y):\n    return y % 4 == 0 and (y % 100 != 0 or y % 400 == 0)\n\ndef leap_year_count(target_y,benchmark_y):\n    target = target_y // 4 - target_y // 100 + target_y // 400\n    benchmark = benchmark_y // 4 - benchmark_y // 100 + benchmark_y // 400\n    return target - benchmark\n\ndef ad2mayan(y, m, d):\n    diff = 0\n    if datetime.MAXYEAR < y:\n        day_of_2012 = (datetime.date(2013, 1, 1) - datetime.date(2012, 12, 21)).days\n        day_of_the_year = (datetime.date(1, m, d) - datetime.date(1, 1, 1)).days if is_leap_year(y) else (datetime.date(4, m, d) - datetime.date(4, 1, 1)).days\n        \n        days = (y - 2013) * 365 + leap_year_count(y, 2013)\n\n        diff = day_of_2012 + days + day_of_the_year\n    else:\n        benchmark = datetime.date(2012, 12, 21)\n        diff = (datetime.date(y, m, d) - benchmark).days\n    \n    ki, diff = diff % 20, diff // 20\n    w, diff = diff % 18, diff // 18\n    t, diff = diff % 20, diff // 20\n    ka, diff = diff % 20, diff // 20\n    b = diff % 13\n    \n    return b,ka,t,w,ki\n\ndef mayan2ad(b, ka, t, w, ki):\n    ka += b * 20\n    t += ka * 20\n    w += t * 18\n    ki += w * 20\n    time = datetime.date(2012, 12, 21) + datetime.timedelta(ki)\n    return time.year, time.month, time.day\n\nimport sys\nf = sys.stdin\n\nfor line in f:\n    t = list(map(int, line.split('.')))\n    if len(t) == 3:\n        print('.'.join(map(str, ad2mayan(*t))))\n    elif len(t) == 5:\n        print('.'.join(map(str, mayan2ad(*t))))"
  },
  {
    "language": "Python",
    "code": "import datetime\n\ndef is_leap_year(y):\n    return y % 4 == 0 and (y % 100 != 0 or y % 400 == 0)\n\ndef leap_year_count(target_y,benchmark_y):\n    target = target_y // 4 - target_y // 100 + target_y // 400\n    benchmark = benchmark_y // 4 - benchmark_y // 100 + benchmark_y // 400\n    return target - benchmark\n\ndef ad2mayan(y, m, d):\n    diff = 0\n    if datetime.MAXYEAR < y:\n        day_of_2012 = (datetime.date(2013, 1, 1) - datetime.date(2012, 12, 21)).days\n        day_of_the_year = 0\n        if is_leap_year(y):\n            day_of_the_year = (datetime.date(2, m, d) - datetime.date(1, 12, 31)).days\n        else:\n            day_of_the_year = (datetime.date(4, m, d) - datetime.date(3, 12, 31)).days\n        \n        days = (y - 2013) * 365 + leap_year_count(y - 1, 2013)\n\n        diff = day_of_2012 + days + day_of_the_year\n    else:\n        benchmark = datetime.date(2012, 12, 21)\n        diff = (datetime.date(y, m, d) - benchmark).days\n    \n    ki, diff = diff % 20, diff // 20\n    w, diff = diff % 18, diff // 18\n    t, diff = diff % 20, diff // 20\n    ka, diff = diff % 20, diff // 20\n    b = diff % 13\n    \n    return b,ka,t,w,ki\n\ndef mayan2ad(b, ka, t, w, ki):\n    ka += b * 20\n    t += ka * 20\n    w += t * 18\n    ki += w * 20\n    time = datetime.date(2012, 12, 21) + datetime.timedelta(ki)\n    return time.year, time.month, time.day\n\nimport sys\nf = sys.stdin\n\nfor line in f:\n    if line[0] == '#':\n        break\n    t = list(map(int, line.split('.')))\n    if len(t) == 3:\n        print('.'.join(map(str, ad2mayan(*t))))\n    elif len(t) == 5:\n        print('.'.join(map(str, mayan2ad(*t))))"
  },
  {
    "language": "Python",
    "code": "import datetime\n\ndef is_leap_year(y):\n    return y % 4 == 0 and (y % 100 != 0 or y % 400 == 0)\n\ndef leap_year_count(target_y,benchmark_y):\n    target = target_y // 4 - target_y // 100 + target_y // 400\n    benchmark = benchmark_y // 4 - benchmark_y // 100 + benchmark_y // 400\n    return target - benchmark\n\ndef ad2mayan(y, m, d):\n    diff = 0\n    if datetime.MAXYEAR < y:\n        day_of_2012 = (datetime.date(2013, 1, 1) - datetime.date(2012, 12, 21)).days\n        day_of_the_year = (datetime.date(1, m, d) - datetime.date(1, 1, 1)).days if is_leap_year(y) else (datetime.date(4, m, d) - datetime.date(4, 1, 1)).days\n        \n        days = (y - 2013) * 365 + leap_year_count(y, 2013)\n\n        diff = day_of_2012 + days + day_of_the_year\n    else:\n        benchmark = datetime.date(2012, 12, 21)\n        diff = (datetime.date(y, m, d) - benchmark).days\n    \n    ki, diff = diff % 20, diff // 20\n    w, diff = diff % 18, diff // 18\n    t, diff = diff % 20, diff // 20\n    ka, diff = diff % 20, diff // 20\n    b = diff % 13\n    \n    return b,ka,t,w,ki\n\ndef mayan2ad(b, ka, t, w, ki):\n    ka += b * 20\n    t += ka * 20\n    w += t * 18\n    ki += w * 20\n    time = datetime.date(2012, 12, 21) + datetime.timedelta(ki)\n    return time.year, time.month, time.day\n\n\nimport sys\nf = sys.stdin\n\nfor line in f:\n    if line == '#':\n        continue\n    t = list(map(int, line.split('.')))\n    if len(t) == 3:\n        print('.'.join(map(str, ad2mayan(*t))))\n    else:\n        print('.'.join(map(str, mayan2ad(*t))))"
  },
  {
    "language": "Python",
    "code": "KI = 1\nW = 20 * KI\nT = 18 * W\nKA = 20 * T\nB = 20 * KA\nMAX_MAYA = 12 * B + 19*KA + 19*T + 17*W + 19\n\nmonth = (31,28,31,30,31,30,31,31,30,31,30,31)\n\n\ndef is_uruu(y):\n    return y % 4 == 0 and (y % 100 != 0 or y % 400 == 0)\ndef y_d(y):\n    return 365 if not is_uruu(y) else 366\ndef m_d(y,m):\n    return 29 if (m == 2 and is_uruu(y)) else month[m-1]\n\nwhile 1:\n    inp = input().split('.')\n    if inp[0] == '#':break\n\n    inp = list(map(int,inp))\n    if len(inp) == 5:#maya\n        val = inp[0] * B + inp[1] * KA + inp[2] * T + inp[3] * W + inp[4] * KI\n        y,m,d = 2012,12,21\n        if val <= 10:\n            print('%d.%d.%d' % (y,m,d+10))\n        else:\n            val -=11\n            y,m,d = 2013,1,1\n\n            while val >= y_d(y): \n                val -= y_d(y)\n                y += 1\n            while val >= m_d(y,m):\n                val -= m_d(y,m)\n                m += 1\n\n            d += val\n            print('%d.%d.%d' % (y,m,d))\n    else:\n        if inp[0] == 2012:\n            print('0.0.0.0.%d' % (inp[2] - 21))\n        else:\n            val = 11\n            for y in range(2013,inp[0]):\n                val += y_d(y)\n            for m in range(1,inp[1]):\n                val += m_d(inp[0],m)\n            val += inp[2]-1\n            if val > MAX_MAYA:\n                val = val % (MAX_MAYA+1)\n            val = val % (MAX_MAYA+1)\n            b=val // B\n            val %= B\n            ka = val // KA\n            val %= KA\n            t = val //T\n            val %= T\n            w = val //W\n            val %= W\n            print('%d.%d.%d.%d.%d'%(b,ka,t,w,val))"
  },
  {
    "language": "Python",
    "code": "from datetime import date, timedelta\n\nst = date(2012, 12, 21)\nwhile True:\n    s = input()\n    if s == '#':\n        break\n    d = list(map(int, s.split('.')))\n    if len(d) == 3:\n        r = 0\n        while d[0] > 3000:\n            d[0] -= 400\n            r += 365*400+97\n\n        ed = date(d[0], d[1], d[2])\n        r += (ed-st).days\n        ki = r%20\n        r//=20\n        w = r%18\n        r//=18\n        t = r%20\n        r//=20\n        ka = r%20\n        r//=20\n        b = r%13\n        print(str(b)+'.'+str(ka)+'.'+str(t)+'.'+str(w)+'.'+str(ki))\n    else:\n        r = d[0]\n        r *= 20\n        r += d[1]\n        r *= 20\n        r += d[2]\n        r *= 18\n        r += d[3]\n        r *= 20\n        r += d[4]\n        ed = st+timedelta(days=r)\n        print(str(ed.year)+'.'+str(ed.month)+'.'+str(ed.day))"
  },
  {
    "language": "Python",
    "code": "import datetime\n\ndef is_leap_year(y):\n    return y % 4 == 0 and (y % 100 != 0 or y % 400 == 0)\n\ndef leap_year_count(target_y,benchmark_y):\n    target = target_y // 4 - target_y // 100 + target_y // 400\n    benchmark = benchmark_y // 4 - benchmark_y // 100 + benchmark_y // 400\n    return target - benchmark\n\ndef ad2mayan(y, m, d):\n    diff = 0\n    if datetime.MAXYEAR < y:\n        day_of_2012 = (datetime.date(2013, 1, 1) - datetime.date(2012, 12, 21)).days\n        day_of_the_year = (datetime.date(1, m, d) - datetime.date(1, 1, 1)).days if is_leap_year(y) else (datetime.date(4, m, d) - datetime.date(4, 1, 1)).days\n        \n        days = (y - 2013) * 365 + leap_year_count(y, 2013)\n\n        diff = day_of_2012 + days + day_of_the_year\n    else:\n        benchmark = datetime.date(2012, 12, 21)\n        diff = (datetime.date(y, m, d) - benchmark).days\n    \n    ki, diff = diff % 20, diff // 20\n    w, diff = diff % 18, diff // 18\n    t, diff = diff % 20, diff // 20\n    ka, diff = diff % 20, diff // 20\n    b = diff % 13\n    \n    return b,ka,t,w,ki\n\ndef mayan2ad(b, ka, t, w, ki):\n    ka += b * 20\n    t += ka * 20\n    w += t * 18\n    ki += w * 20\n    time = datetime.date(2012, 12, 21) + datetime.timedelta(ki)\n    return time.year, time.month, time.day\n\nimport sys\nf = sys.stdin\n\nfor line in f:\n    if line[0] == '#':\n        break\n\n    t = list(map(int, line.split('.')))\n    if len(t) == 3:\n        print('.'.join(map(str, ad2mayan(*t))))\n    elif len(t) == 5:\n        print('.'.join(map(str, mayan2ad(*t))))"
  },
  {
    "language": "Python",
    "code": "KI = 1\nW = 20 * KI\nT = 18 * W\nKA = 20 * T\nB = 20 * KA\n#MAX_MAYA = 12 * B + 19*KA + 19*T + 17*W + 19\nMAX_MAYA = 1872000 \nmonth = (31,28,31,30,31,30,31,31,30,31,30,31)\n\ndef get_days(y,m,d):\n    if m <= 2:\n        y -= 1\n        m += 12\n    dy = 365 * (y - 1)\n    c = y/100\n    dl = (y >> 2) - c + (c /4)\n    dm = (m * 979 -1033) >> 5\n    return dy + dl + dm + d -1\n\ndef is_uruu(y):\n    return y % 4 == 0 and (y % 100 != 0 or y % 400 == 0)\ndef y_d(y):\n    return 365 if not is_uruu(y) else 366\ndef m_d(y,m):\n    return 29 if (m == 2 and is_uruu(y)) else month[m-1]\n\nbase = get_days(2012,12,21)\nfrom datetime import date,timedelta\nst = date(2012,12,21)\nwhile 1:\n    inp = input().split('.')\n    if inp[0] == '#':break\n\n    inp = list(map(int,inp))\n    if len(inp) == 5:#maya\n        d = inp\n        r = d[0]\n        r *= 20\n        r += d[1]\n        r *= 20\n        r += d[2]\n        r *= 18\n        r += d[3]\n        r *= 20\n        r += d[4]\n        ed = st+timedelta(days=r)\n        print(str(ed.year)+'.'+str(ed.month)+'.'+str(ed.day))\n#        val = inp[0] * B + inp[1] * KA + inp[2] * T + inp[3] * W + inp[4] * KI\n#        y,m,d = 2012,12,21\n#        if val <= 10:\n#            print('%d.%d.%d' % (y,m,d+val))\n#        else:\n#            val -=11\n#            y,m,d = 2013,1,1\n#\n#            while val >= y_d(y): \n#                val -= y_d(y)\n#                y += 1\n#            while val >= m_d(y,m):\n#                val -= m_d(y,m)\n#                m += 1\n#\n#            d += val\n#            print('%d.%d.%d' % (y,m,d))\n    else:\n        if inp[0] == 2012:\n            print('0.0.0.0.%d' % (inp[2] - 21))\n        else:\n            val = get_days(inp[0],inp[1],inp[2]) - base\n            val = val % (MAX_MAYA)\n            b=val // B\n            val %= B\n            ka = val // KA\n            val %= KA\n            t = val //T\n            val %= T\n            w = val //W\n            val %= W\n            print('%d.%d.%d.%d.%d'%(b,ka,t,w,val))"
  },
  {
    "language": "Python",
    "code": "m1 = [31,28,31,30,31,30,31,31,30,31,30,31]\nm2 = [31,29,31,30,31,30,31,31,30,31,30,31]\nwhile 1:\n    try:d = list(map(int, input().split(\".\")))\n    except:break\n    if len(d) == 3:\n        days = -734858\n        days += (d[0] - 1) * 365 + (d[0] - 1) // 4 - (d[0] - 1) // 100 + (d[0] - 1) // 400\n        if d[0] % 4 == 0 and (d[0] // 100 != 0 or d[0] // 400 == 0):days += sum(m2[:d[1] - 1])\n        else:days += sum(m1[:d[1] - 1])\n        days += d[2]\n        maya = [0,0,0,0,0]\n        maya[0] = days // 144000 % 13\n        maya[1] = days // 7200 % 20\n        maya[2] = days // 360 % 20\n        maya[3] = days // 20 % 18\n        maya[4] = days % 20\n        print(\".\".join(map(str, maya)))\n    else:\n        days = d[0] * 144000 + d[1] * 7200 + d[2] * 360 + d[3] * 20 + d[4] + 734858\n        sei = [1,0,0]\n        sei[0] += days // 146097 * 400\n        days %= 146097\n        sei[0] += days // 36524 * 100\n        days %= 36524\n        sei[0] += days // 1461 * 4\n        days %= 1461\n        sei[0] += days // 365\n        days %= 365\n        if days == 0:\n            sei[0] -= 1\n            if sei[0] % 4 == 0 and (sei[0] // 100 != 0 or sei[0] // 400 == 0):days += 366\n            else:days += 365\n        if sei[0] % 4 == 0 and (sei[0] // 100 != 0 or sei[0] // 400 == 0):\n            for i in range(12):\n                if sum(m2[:i + 1]) >= days:\n                    sei[1] = i + 1\n                    days -= sum(m2[:i])\n                    break\n        else:\n            for i in range(12):\n                if sum(m1[:i + 1]) >= days:\n                    sei[1] = i + 1\n                    days -= sum(m1[:i])\n                    break\n        sei[2] = days\n        print(\".\".join(map(str, sei)))\n                \n"
  },
  {
    "language": "Python",
    "code": "from datetime import date,timedelta\na=date(2012,12,21)\nwhile 1:\n    try:s=list(map(int,input().split('.')))\n    except:break\n    d=0\n    if len(s)<4:    \n        while s[0]>3000:d+=365*400+97;s[0]-=400\n        d+=(date(s[0],s[1],s[2])-a).days\n        d,k=divmod(d,20)\n        d,w=divmod(d,18)\n        d,t=divmod(d,20)\n        d,_k=divmod(d,20)\n        b=d%13\n        print('.'.join(map(str,[b,_k,t,w,k])))\n    else:\n        for i in range(len(s)-1):\n            d+=s[i]\n            d*=18 if i==2 else 20\n        d+=s[4]\n        d=a+timedelta(days=d)\n        print('.'.join(map(str,[d.year,d.month,d.day])))"
  },
  {
    "language": "Python",
    "code": "def Fliegel(y, m, d):\n    if m <= 2:\n        m += 12\n        y -= 1\n    return int(365.25*y) + int(30.59*(m-2)) + (y//400) - (y//100) + d - 678912\n\ndef InvFliegel(mjd):\n    mjd += 678881\n    a = 4*mjd + 3 + 4*(3*(1 + 4*(mjd+1)//146097)//4)\n    b = 2 + 5*((a%1461)//4)\n    y = a//1461\n    m = 3 + b//153\n    d = 1 + (b%153)//5\n    if m > 12:\n        m -= 12\n        y += 1\n    return y, m, d\n\nmjd_base = Fliegel(2012, 12, 21)\nmaya_unit = [13, 20, 20, 18, 20]\nmaya_cycle = 13*20*20*18*20\n\nwhile 1:\n    s = input()\n    if s == '#':\n        break\n    v = list(map(int, s.split(\".\")))\n    if len(v) == 3:\n        mjd = (Fliegel(v[0], v[1], v[2]) - mjd_base)%maya_cycle\n        m = []\n        for u in reversed(maya_unit) :\n            m.append( mjd%u )\n            mjd /= u\n        print(\"%d.%d.%d.%d.%d\" % (m[4], m[3], m[2], m[1], m[0]))\n    else:\n        mjd = v[0]\n        for i in range(1,5):\n            mjd *= maya_unit[i]\n            mjd += v[i]\n        y, m, d = InvFliegel(mjd + mjd_base)\n        print(\"%d.%d.%d\" % (y, m, d))\n\n"
  },
  {
    "language": "Python",
    "code": "m1 = [31,28,31,30,31,30,31,31,30,31,30,31]\nm2 = [31,29,31,30,31,30,31,31,30,31,30,31]\nwhile 1:\n    try:d = list(map(int, input().split(\".\")))\n    except:break\n    if len(d) == 3:\n        days = -734858\n        days += (d[0] - 1) * 365 + (d[0] - 1) // 4 - (d[0] - 1) // 100 + (d[0] - 1) // 400\n        if d[0] % 4 == 0 and (d[0] % 100 != 0 or d[0] % 400 == 0):days += sum(m2[:d[1] - 1])\n        else:days += sum(m1[:d[1] - 1])\n        days += d[2]\n        maya = [0,0,0,0,0]\n        maya[0] = days // 144000 % 13\n        maya[1] = days // 7200 % 20\n        maya[2] = days // 360 % 20\n        maya[3] = days // 20 % 18\n        maya[4] = days % 20\n        print(\".\".join(map(str, maya)))\n    else:\n        days = d[0] * 144000 + d[1] * 7200 + d[2] * 360 + d[3] * 20 + d[4] + 734858\n        sei = [1,0,0]\n        sei[0] += days // 146097 * 400\n        days %= 146097\n        sei[0] += days // 36524 * 100\n        days %= 36524\n        sei[0] += days // 1461 * 4\n        days %= 1461\n        sei[0] += days // 365\n        days %= 365\n        if days == 0:\n            sei[0] -= 1\n            if sei[0] % 4 == 0 and (sei[0] % 100 != 0 or sei[0] % 400 == 0):days += 366\n            else:days += 365\n        if sei[0] % 4 == 0 and (sei[0] % 100 != 0 or sei[0] % 400 == 0):\n            for i in range(12):\n                if sum(m2[:i + 1]) >= days:\n                    sei[1] = i + 1\n                    days -= sum(m2[:i])\n                    break\n        else:\n            for i in range(12):\n                if sum(m1[:i + 1]) >= days:\n                    sei[1] = i + 1\n                    days -= sum(m1[:i])\n                    break\n        sei[2] = days\n        print(\".\".join(map(str, sei)))\n                \n"
  },
  {
    "language": "Python",
    "code": "KI = 1\nW = 20 * KI\nT = 18 * W\nKA = 20 * T\nB = 20 * KA\n#MAX_MAYA = 12 * B + 19*KA + 19*T + 17*W + 19\nMAX_MAYA = 1872000 \nmonth = (31,28,31,30,31,30,31,31,30,31,30,31)\n\ndef get_days(y,m,d):\n    if m <= 2:\n        y -= 1\n        m += 12\n    dy = 365 * (y - 1)\n    c = y/100\n    dl = (y >> 2) - c + (c /4)\n    dm = (m * 979 -1033) >> 5\n    return dy + dl + dm + d -1\n\ndef is_uruu(y):\n    return y % 4 == 0 and (y % 100 != 0 or y % 400 == 0)\ndef y_d(y):\n    return 365 if not is_uruu(y) else 366\ndef m_d(y,m):\n    return 29 if (m == 2 and is_uruu(y)) else month[m-1]\n\nbase = get_days(2012,12,21)\nwhile 1:\n    inp = input().split('.')\n    if inp[0] == '#':break\n\n    inp = list(map(int,inp))\n    if len(inp) == 5:#maya\n        val = inp[0] * B + inp[1] * KA + inp[2] * T + inp[3] * W + inp[4] * KI\n        y,m,d = 2012,12,21\n        if val <= 10:\n            print('%d.%d.%d' % (y,m,d+val))\n        else:\n            val -=11\n            y,m,d = 2013,1,1\n\n            while val >= y_d(y): \n                val -= y_d(y)\n                y += 1\n            while val >= m_d(y,m):\n                val -= m_d(y,m)\n                m += 1\n\n            d += val\n            print('%d.%d.%d' % (y,m,d))\n    else:\n        if inp[0] == 2012:\n            print('0.0.0.0.%d' % (inp[2] - 21))\n        else:\n            val = get_days(inp[0],inp[1],inp[2]) - base\n            val = val % (MAX_MAYA)\n            b=val // B\n            val %= B\n            ka = val // KA\n            val %= KA\n            t = val //T\n            val %= T\n            w = val //W\n            val %= W\n            print('%d.%d.%d.%d.%d'%(b,ka,t,w,val))"
  },
  {
    "language": "Python",
    "code": "m1 = [31,28,31,30,31,30,31,31,30,31,30,31]\nm2 = [31,29,31,30,31,30,31,31,30,31,30,31]\nwhile 1:\n    try:d = list(map(int, input().split(\".\")))\n    except:break\n    if len(d) == 3:\n        days = -734858\n        days += (d[0] - 1) * 365 + (d[0] - 1) // 4 - (d[0] - 1) // 100 + (d[0] - 1) // 400\n        if d[0] % 4 == 0 and (d[0] % 100 != 0 or d[0] % 400 == 0):days += sum(m2[:d[1] - 1])\n        else:days += sum(m1[:d[1] - 1])\n        days += d[2]\n        maya = [0,0,0,0,0]\n        maya[0] = days // 144000 % 13\n        maya[1] = days // 7200 % 20\n        maya[2] = days // 360 % 20\n        maya[3] = days // 20 % 18\n        maya[4] = days % 20\n        print(\".\".join(map(str, maya)))\n    else:\n        days = d[0] * 144000 + d[1] * 7200 + d[2] * 360 + d[3] * 20 + d[4] + 734858\n        sei = [1,0,0]\n        sei[0] += days // 146097 * 400\n        days %= 146097\n        sei[0] += days // 36524 * 100\n        days %= 36524\n        sei[0] += days // 1461 * 4\n        days %= 1461\n        sei[0] += days // 365\n        days %= 365\n        if days == 0:\n            sei[0] -= 1\n            if sei[0] % 4 == 0 and (sei[0] // 100 != 0 or sei[0] // 400 == 0):days += 366\n            else:days += 365\n        if sei[0] % 4 == 0 and (sei[0] // 100 != 0 or sei[0] // 400 == 0):\n            for i in range(12):\n                if sum(m2[:i + 1]) >= days:\n                    sei[1] = i + 1\n                    days -= sum(m2[:i])\n                    break\n        else:\n            for i in range(12):\n                if sum(m1[:i + 1]) >= days:\n                    sei[1] = i + 1\n                    days -= sum(m1[:i])\n                    break\n        sei[2] = days\n        print(\".\".join(map(str, sei)))\n                \n"
  }
]