[
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define int long long\nusing ll=long long;\nusing vi=vector<int>;\nusing vl=vector<long long>;\nusing pii=pair<int,int>;\nusing pll=pair<long long,long long>;\n#define ITR(i,c) for(auto i=begin(c);i!=end(c);++i)\n#define FORE(x,c) for(auto &x:c)\n#define FOR(i,a,n) for(int i=a,i##_len=(int)(n);i<i##_len;++i)\n#define REP(i,n) FOR(i,0,n)\n#define RREP(i,n) for(int i=(int)(n);i>=0;--i)\n#define ALL(c) begin(c),end(c)\n#define RALL(c) rbegin(c),rend(c)   // c++14\n#define SZ(c) ((int)c.size())\n#define EXIST(c,x) (c.find(x)!=end(c))\n#define dump(...)\nconst int DX[9]={0,1,0,-1,1,1,-1,-1,0},DY[9]={-1,0,1,0,-1,1,1,-1,0};\n#define INF (1001001001)\n#define INFLL (1001001001001001001ll)\ntemplate<class T> ostream& operator << (ostream &os,const vector<T> &v) {\n    ITR(i,v) os << *i << (i==end(v)-1 ? \"\" : \"\\n\"); return os; }\ntemplate<class T> istream& operator >> (istream &is,vector<T> &v) {\n    ITR(i,v) is >> * i; return is; }\ntemplate<class T> istream& operator >> (istream &is, pair<T,T> &p) {\n        is >> p.first >> p.second; return is; }\ntemplate<class T>bool chmax(T &a,const T &b){if(a<b){a=b;return 1;}return 0;}\ntemplate<class T>bool chmin(T &a,const T &b){if(b<a){a=b;return 1;}return 0;}\n//------------------------------------------------------------------------------\nstruct before_main_function {\n    before_main_function() {\n        #ifdef int\n            #undef INF\n            #define INF INFLL\n            #define stoi stoll\n        #endif\n        cin.tie(0);ios::sync_with_stdio(false);\n        cout<<setprecision(15)<<fixed;\n    }\n} before_main_function;\n//------------------------------------------------------------------------------\n\nstruct elem {\n    int ex;\n    int k;\n};\nint func(vector<elem> &p,int x) {\n    int ret=0;\n    FORE(e,p) {\n        ret+=e.k*pow(x,e.ex);\n    }\n    return ret;\n}\nsigned main() {\n    string s;\n    cin>>s;\n    s+=\"+\";\n    vector<elem> poly;\n    REP(i,SZ(s)-1) {\n        elem a;\n        string tmp=\"\";\n        while(s[i]!='x') {\n            tmp+=s[i++];\n            if(s[i]=='+' || s[i]=='-') {\n                a.k=stoi(tmp);\n                a.ex=0;\n                goto next;\n            }\n        }\n        if(tmp==\"+\" || tmp==\"\") a.k=1;\n        else if(tmp==\"-\") a.k=-1;\n        else a.k=stoi(tmp);\n        i++;\n        tmp=\"\";\n        if(s[i]=='^') {\n            i++;\n            while(s[i]!='+' && s[i]!='-') {\n                tmp+=s[i++];\n            }\n            a.ex=stoi(tmp);\n        }\n        else {\n            a.ex=1;\n        }\n        next:\n        poly.push_back(a);\n        i--;\n    }\n    // REP(i,SZ(poly)) {\n    //     cout<<poly[i].k<<\" * x ^ \"<<poly[i].ex<<endl;\n    // }\n    vector<int> ans;\n    FOR(i,-2000,2001) {\n        if(func(poly,i)==0) {\n            ans.push_back(-i);\n        }\n    }\n    sort(ALL(ans));\n    string ans_;\n    FORE(x,ans) {\n        ans_+=\"(x\"+string(x>0?\"+\":\"\")+to_string(x)+\")\";\n    }\n    cout<<ans_<<endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef pair<ll,ll> P;\n#define MAX 2222\nll mystoi(string s){\n  if(s==\"+\") return 1;\n  if(s==\"-\") return -1;\n  return stoi(s);\n}\nsigned main(){\n  string s;\n  cin>>s;\n  ll n=s.length();\n  ll k=s[2]-'0';\n  vector<ll> v;\n  string tmp;\n  vector<string> vs;\n  for(ll i=0;i<n;i++){\n    if(s[i]=='+'||s[i]=='-'){\n      vs.push_back(tmp);\n      tmp=s[i];\n    }else tmp+=s[i];\n  }\n  vs.push_back(tmp);\n  vector<P> vp;\n  for(ll i=0;i<(ll)vs.size();i++){\n    //cout<<vs[i]<<endl;\n    ll x=vs[i].find(\"x\"),y=vs[i][vs[i].size()-1]-'0';\n    if(x==-1){\n      vp.push_back(P(mystoi(vs[i]),0));\n      continue;\n    }\n    if((ll)vs[i].find(\"^\")==-1) y=1;\n    if(x==0) vp.push_back(P(1,y));\n    else vp.push_back(P(mystoi(vs[i].substr(0,x)),y));\n  }\n  /*/\n  for(ll j=0;j<(ll)vp.size();j++)\n    cout<<vp[j].first<<\" \"<<vp[j].second<<endl;\n  //*/\n  for(ll i=-MAX;i<MAX;i++){\n    ll res=0;\n    for(ll j=0;j<(ll)vp.size();j++){\n      ll t=1;\n      for(ll l=0;l<vp[j].second;l++) t*=i;\n      res+=vp[j].first*t;\n    }\n    //cout<<i<<\" \"<<res<<endl;\n    if(!res) v.push_back(i);\n  }\n  reverse(v.begin(),v.end());\n  for(ll i=0;i<k;i++) printf(\"(x%+lld)\",-v[i]);\n  puts(\"\");\n  return 0;\n}\n\n    "
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <cmath>\n#include <algorithm>\n#include <cfloat>\n#include <stack>\n#include <queue>\n#include <vector>\n#include <string>\n#include <iostream>\n#include <set>\n#include <map>\ntypedef long long int ll;\ntypedef unsigned long long int ull;\n#define BIG_NUM 2000000000\n#define MOD 1000000007\n#define EPS 0.000000001\nusing namespace std;\n\n\nvoid outPut(int num){\n\tif(num < 0){\n\t\tprintf(\"(x-%d)\",abs(num));\n\t}else{\n\t\tprintf(\"(x+%d)\",num);\n\t}\n}\n\nint main(){\n\n\tint ans_keisu[6];\n\tfor(int i = 0; i <= 5; i++)ans_keisu[i] = 0;\n\n\tchar buf[1000];\n\tscanf(\"%s\",buf);\n\n\tint max_rank = buf[2]-'0';\n\tans_keisu[max_rank] = 1;\n\n\tint index = 3,keisu;\n\n\twhile(buf[index] != '\\0'){\n\t\tif(buf[index] == '+'){\n\t\t\tif(buf[index+1] == 'x'){\n\t\t\t\tkeisu = 1;\n\t\t\t\tif(buf[index+2] == '^'){\n\t\t\t\t\tans_keisu[buf[index+3]-'0'] = keisu;\n\t\t\t\t\tindex += 4;\n\t\t\t\t}else{\n\t\t\t\t\tans_keisu[1] = keisu;\n\t\t\t\t\tindex += 2;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tkeisu = 0;\n\t\t\t\tfor(++index; buf[index] >= '0' && buf[index] <= '9'; index++){\n\t\t\t\t\tkeisu = 10*keisu + buf[index]-'0';\n\t\t\t\t}\n\t\t\t\tif(buf[index] == 'x'){\n\t\t\t\t\tif(buf[index+1] == '^'){\n\t\t\t\t\t\tans_keisu[buf[index+2]-'0'] = keisu;\n\t\t\t\t\t\tindex += 3;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tans_keisu[1] = keisu;\n\t\t\t\t\t\tindex += 1;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tans_keisu[0] = keisu;\n\t\t\t\t}\n\t\t\t}\n\t\t}else{ //buf[index] == '-'\n\t\t\tif(buf[index+1] == 'x'){\n\t\t\t\tkeisu = -1;\n\t\t\t\tif(buf[index+2] == '^'){\n\t\t\t\t\tans_keisu[buf[index+3]-'0'] = keisu;\n\t\t\t\t\tindex += 4;\n\t\t\t\t}else{\n\t\t\t\t\tans_keisu[1] = keisu;\n\t\t\t\t\tindex += 2;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tkeisu = 0;\n\t\t\t\tfor(++index; buf[index] >= '0' && buf[index] <= '9'; index++){\n\t\t\t\t\tkeisu = 10*keisu + buf[index]-'0';\n\t\t\t\t}\n\t\t\t\tif(buf[index] == 'x'){\n\t\t\t\t\tif(buf[index+1] == '^'){\n\t\t\t\t\t\tans_keisu[buf[index+2]-'0'] = -keisu;\n\t\t\t\t\t\tindex += 3;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tans_keisu[1] = -keisu;\n\t\t\t\t\t\tindex += 1;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tans_keisu[0] = -keisu;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tint left = -(abs(ans_keisu[0]));\n\tint right = abs(ans_keisu[0]);\n\n\tswitch(max_rank){\n\tcase 2:\n\t\tfor(int a = left; a <= right; a++){\n\t\t\tif(a == 0 || ans_keisu[0]%a != 0)continue;\n\t\t\tfor(int b = a; b <= right; b++){\n\t\t\t\tif(a+b == ans_keisu[1] && a*b == ans_keisu[0]){\n\t\t\t\t\toutPut(a);\n\t\t\t\t\toutPut(b);\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tbreak;\n\tcase 3:\n\t\tfor(int a = left; a <= right; a++){\n\t\t\tif(a == 0 || ans_keisu[0]%a != 0)continue;\n\t\t\tfor(int b = a; b <= right; b++){\n\t\t\t\tif(b == 0 || ans_keisu[0]%(a*b) != 0)continue;\n\t\t\t\tfor(int c = b; c <= right; c++){\n\t\t\t\t\tif(a+b+c == ans_keisu[2] && (a*b+b*c+c*a) == ans_keisu[1] && a*b*c == ans_keisu[0]){\n\t\t\t\t\t\toutPut(a);\n\t\t\t\t\t\toutPut(b);\n\t\t\t\t\t\toutPut(c);\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tbreak;\n\tcase 4:\n\t\tfor(int a = left; a <= right; a++){\n\t\t\tif(a == 0 || ans_keisu[0]%a != 0)continue;\n\t\t\tfor(int b = a; b <= right; b++){\n\t\t\t\tif(b == 0 || ans_keisu[0]%(a*b) != 0)continue;\n\t\t\t\tfor(int c = b; c <= right; c++){\n\t\t\t\t\tif(c == 0 || ans_keisu[0]%(a*b*c) != 0)continue;\n\t\t\t\t\tfor(int d = c; d <= right; d++){\n\t\t\t\t\t\tif(a+b+c+d == ans_keisu[3] && (a*b+b*c+c*a+a*d+b*d+c*d) == ans_keisu[2] &&\n\t\t\t\t\t\t\t\t(a*b*d+b*c*d+c*a*d+a*b*c) == ans_keisu[1] && (a*b*c*d) == ans_keisu[0]){\n\t\t\t\t\t\t\toutPut(a);\n\t\t\t\t\t\t\toutPut(b);\n\t\t\t\t\t\t\toutPut(c);\n\t\t\t\t\t\t\toutPut(d);\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tbreak;\n\tcase 5:\n\t\tfor(int a = left; a <= right; a++){\n\t\t\tif(a == 0 || ans_keisu[0]%a != 0)continue;\n\t\t\tfor(int b = a; b <= right; b++){\n\t\t\t\tif(b == 0 || ans_keisu[0]%(a*b) != 0)continue;\n\t\t\t\tfor(int c = b; c <= right; c++){\n\t\t\t\t\tif(c == 0 || ans_keisu[0]%(a*b*c) != 0)continue;\n\t\t\t\t\tfor(int d = c; d <= right; d++){\n\t\t\t\t\t\tif(d == 0 || ans_keisu[0]%(a*b*c*d) != 0)continue;\n\t\t\t\t\t\tfor(int e = d; e <= right; e++){\n\t\t\t\t\t\t\tif((a+b+c+d+e) == ans_keisu[4] && (a*b+b*c+c*a+a*d+b*d+c*d+a*e+b*e+c*e+d*e) == ans_keisu[3] &&\n\t\t\t\t\t\t\t\t\t(a*b*d+b*c*d+c*a*d+a*b*c+a*b*e+a*c*e+a*d*e+b*c*e+b*d*e+c*d*e) == ans_keisu[2] &&\n\t\t\t\t\t\t\t\t\t(a*b*c*d+a*b*c*e+a*b*d*e+a*c*d*e+b*c*d*e) == ans_keisu[1] &&\n\t\t\t\t\t\t\t\t\t(a*b*c*d*e) == ans_keisu[0]){\n\t\t\t\t\t\t\t\toutPut(a);\n\t\t\t\t\t\t\t\toutPut(b);\n\t\t\t\t\t\t\t\toutPut(c);\n\t\t\t\t\t\t\t\toutPut(d);\n\t\t\t\t\t\t\t\toutPut(e);\n\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tbreak;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n \nusing namespace std;\n\n#define int long long \n\nbool calc(int a);\n\nstring s;\n\nsigned main()\n{\n    cin >> s;\n    for (int i = 2001; i >= 1; i--) {\n        if (calc(i)) {\n            cout << \"(x-\" << i << \")\";\n        }\n    }\n    for (int i = -1; i >= -2000; i--) {\n        if (calc(i)) {\n            cout << \"(x+\" << -i << \")\";\n        }\n    }\n    cout << endl;\n    return 0;\n}\n\nbool calc(int a)\n{\n    //cout << a << endl;;\n    int ptr = 0, sum = 0, num = 1;\n    while (s.size() > ptr) {\n        //cout << s[ptr] << endl;\n        if (s[ptr] == 'x') {\n            if (ptr+1 < s.size() && s[ptr+1] == '^') {\n                sum += num * (int)pow(a, s[ptr+2] - '0');\n                ptr += 3;\n            } else {\n                sum += num * a;\n                ptr++;\n            }\n        } else if (s[ptr] == '+') {\n            num = 1;\n            ptr++;\n        } else if (s[ptr] == '-') {\n            num = -1;\n            ptr++;\n        } else if ('0' <= s[ptr] && s[ptr] <= '9') {\n            int minus = (num < 0) ? -1 : 1;\n            num = s[ptr++] - '0';\n            while (ptr < s.size() && '0' <= s[ptr] && s[ptr] <= '9') {\n                num *= 10;\n                num += s[ptr++] - '0';\n            }\n            num *= minus;\n        } else {\n            //cout << \"error \" <<  ptr << endl;\n            //return false;\n        }\n        //cout << num << \" \" << sum << endl;\n    }\n    //cout << sum << endl;\n    sum += num;\n    //cout << sum << endl;\n    if (sum) return false; \n    else return true;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <cmath>\n#include <algorithm>\n#include <cfloat>\n#include <stack>\n#include <queue>\n#include <vector>\n#include <string>\n#include <iostream>\n#include <set>\n#include <map>\ntypedef long long int ll;\ntypedef unsigned long long int ull;\n#define BIG_NUM 2000000000\n#define MOD 1000000007\n#define EPS 0.000000001\nusing namespace std;\n\n\nvoid outPut(int num){\n\tif(num < 0){\n\t\tprintf(\"(x-%d)\",abs(num));\n\t}else{\n\t\tprintf(\"(x+%d)\",num);\n\t}\n}\n\nint main(){\n\n\tint ans_keisu[6];\n\tfor(int i = 0; i <= 5; i++)ans_keisu[i] = 0;\n\n\tchar buf[1000];\n\tscanf(\"%s\",buf);\n\n\tint max_rank = buf[2]-'0';\n\tans_keisu[max_rank] = 1;\n\n\tint index = 3,keisu;\n\n\twhile(buf[index] != '\\0'){\n\t\tif(buf[index] == '+'){\n\t\t\tif(buf[index+1] == 'x'){\n\t\t\t\tkeisu = 1;\n\t\t\t\tif(buf[index+2] == '^'){\n\t\t\t\t\tans_keisu[buf[index+3]-'0'] = keisu;\n\t\t\t\t\tindex += 4;\n\t\t\t\t}else{\n\t\t\t\t\tans_keisu[1] = keisu;\n\t\t\t\t\tindex += 2;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tkeisu = 0;\n\t\t\t\tfor(++index; buf[index] >= '0' && buf[index] <= '9'; index++){\n\t\t\t\t\tkeisu = 10*keisu + buf[index]-'0';\n\t\t\t\t}\n\t\t\t\tif(buf[index] == 'x'){\n\t\t\t\t\tif(buf[index+1] == '^'){\n\t\t\t\t\t\tans_keisu[buf[index+2]-'0'] = keisu;\n\t\t\t\t\t\tindex += 3;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tans_keisu[1] = keisu;\n\t\t\t\t\t\tindex += 1;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tans_keisu[0] = keisu;\n\t\t\t\t}\n\t\t\t}\n\t\t}else{ //buf[index] == '-'\n\t\t\tif(buf[index+1] == 'x'){\n\t\t\t\tkeisu = -1;\n\t\t\t\tif(buf[index+2] == '^'){\n\t\t\t\t\tans_keisu[buf[index+3]-'0'] = keisu;\n\t\t\t\t\tindex += 4;\n\t\t\t\t}else{\n\t\t\t\t\tans_keisu[1] = keisu;\n\t\t\t\t\tindex += 2;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tkeisu = 0;\n\t\t\t\tfor(++index; buf[index] >= '0' && buf[index] <= '9'; index++){\n\t\t\t\t\tkeisu = 10*keisu + buf[index]-'0';\n\t\t\t\t}\n\t\t\t\tif(buf[index] == 'x'){\n\t\t\t\t\tif(buf[index+1] == '^'){\n\t\t\t\t\t\tans_keisu[buf[index+2]-'0'] = -keisu;\n\t\t\t\t\t\tindex += 3;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tans_keisu[1] = -keisu;\n\t\t\t\t\t\tindex += 1;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tans_keisu[0] = -keisu;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tint left = -(abs(ans_keisu[0]));\n\tint right = abs(ans_keisu[0]);\n\n\tswitch(max_rank){\n\tcase 2:\n\t\tfor(int a = left; a <= right; a++){\n\t\t\tif(a == 0 || ans_keisu[0]%a != 0)continue;\n\t\t\tfor(int b = a; b <= right; b++){\n\t\t\t\tif(a+b == ans_keisu[1] && a*b == ans_keisu[0]){\n\t\t\t\t\toutPut(a);\n\t\t\t\t\toutPut(b);\n\t\t\t\t\tprintf(\"\\n\");\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tbreak;\n\tcase 3:\n\t\tfor(int a = left; a <= right; a++){\n\t\t\tif(a == 0 || ans_keisu[0]%a != 0)continue;\n\t\t\tfor(int b = a; b <= right; b++){\n\t\t\t\tif(b == 0 || ans_keisu[0]%(a*b) != 0)continue;\n\t\t\t\tfor(int c = b; c <= right; c++){\n\t\t\t\t\tif(a+b+c == ans_keisu[2] && (a*b+b*c+c*a) == ans_keisu[1] && a*b*c == ans_keisu[0]){\n\t\t\t\t\t\toutPut(a);\n\t\t\t\t\t\toutPut(b);\n\t\t\t\t\t\toutPut(c);\n\t\t\t\t\t\tprintf(\"\\n\");\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tbreak;\n\tcase 4:\n\t\tfor(int a = left; a <= right; a++){\n\t\t\tif(a == 0 || ans_keisu[0]%a != 0)continue;\n\t\t\tfor(int b = a; b <= right; b++){\n\t\t\t\tif(b == 0 || ans_keisu[0]%(a*b) != 0)continue;\n\t\t\t\tfor(int c = b; c <= right; c++){\n\t\t\t\t\tif(c == 0 || ans_keisu[0]%(a*b*c) != 0)continue;\n\t\t\t\t\tfor(int d = c; d <= right; d++){\n\t\t\t\t\t\tif(a+b+c+d == ans_keisu[3] && (a*b+b*c+c*a+a*d+b*d+c*d) == ans_keisu[2] &&\n\t\t\t\t\t\t\t\t(a*b*d+b*c*d+c*a*d+a*b*c) == ans_keisu[1] && (a*b*c*d) == ans_keisu[0]){\n\t\t\t\t\t\t\toutPut(a);\n\t\t\t\t\t\t\toutPut(b);\n\t\t\t\t\t\t\toutPut(c);\n\t\t\t\t\t\t\toutPut(d);\n\t\t\t\t\t\t\tprintf(\"\\n\");\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tbreak;\n\tcase 5:\n\t\tfor(int a = left; a <= right; a++){\n\t\t\tif(a == 0 || ans_keisu[0]%a != 0)continue;\n\t\t\tfor(int b = a; b <= right; b++){\n\t\t\t\tif(b == 0 || ans_keisu[0]%(a*b) != 0)continue;\n\t\t\t\tfor(int c = b; c <= right; c++){\n\t\t\t\t\tif(c == 0 || ans_keisu[0]%(a*b*c) != 0)continue;\n\t\t\t\t\tfor(int d = c; d <= right; d++){\n\t\t\t\t\t\tif(d == 0 || ans_keisu[0]%(a*b*c*d) != 0)continue;\n\t\t\t\t\t\tfor(int e = d; e <= right; e++){\n\t\t\t\t\t\t\tif((a+b+c+d+e) == ans_keisu[4] && (a*b+b*c+c*a+a*d+b*d+c*d+a*e+b*e+c*e+d*e) == ans_keisu[3] &&\n\t\t\t\t\t\t\t\t\t(a*b*d+b*c*d+c*a*d+a*b*c+a*b*e+a*c*e+a*d*e+b*c*e+b*d*e+c*d*e) == ans_keisu[2] &&\n\t\t\t\t\t\t\t\t\t(a*b*c*d+a*b*c*e+a*b*d*e+a*c*d*e+b*c*d*e) == ans_keisu[1] &&\n\t\t\t\t\t\t\t\t\t(a*b*c*d*e) == ans_keisu[0]){\n\t\t\t\t\t\t\t\toutPut(a);\n\t\t\t\t\t\t\t\toutPut(b);\n\t\t\t\t\t\t\t\toutPut(c);\n\t\t\t\t\t\t\t\toutPut(d);\n\t\t\t\t\t\t\t\toutPut(e);\n\t\t\t\t\t\t\t\tprintf(\"\\n\");\n\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tbreak;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define rep(i,a,b) for(int i=a;i<b;i++)\n\n\n\n\nstring S;\n//-----------------------------------------------------------------------------------\nvector<pair<int, int>> F;\nvoid parse() {\n\tS = S + \"#\";\n\n\tif (S[0] != '-') S = \"+\" + S;\n\n\tint i = 0;\n\twhile (S[i] != '#') {\n\t\tpair<int, int> p;\n\n\t\tp.first = 0;\n\t\tp.second = 0;\n\n\t\tbool minus = false;\n\t\tif (S[i] == '-') minus = true;\n\t\ti++;\n\t\twhile ('0' <= S[i] && S[i] <= '9') {\n\t\t\tp.first = p.first * 10 + S[i] - '0';\n\t\t\ti++;\n\t\t}\n\t\tif (p.first == 0) p.first = 1;\n\t\tif (minus) p.first *= -1;\n\n\t\tif (S[i] == 'x') {\n\t\t\tp.second = 1;\n\t\t\ti++;\n\t\t\tif (S[i] == '^') {\n\t\t\t\ti++;\n\t\t\t\tp.second = 0;\n\t\t\t\twhile ('0' <= S[i] && S[i] <= '9') {\n\t\t\t\t\tp.second = p.second * 10 + S[i] - '0';\n\t\t\t\t\ti++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tF.push_back(p);\n\t}\n}\n//-----------------------------------------------------------------------------------\ntypedef long long ll;\nbool chk(int x) {\n\tll sm = 0;\n\tfor (auto p : F) {\n\t\tll xx = 1;\n\t\trep(i, 0, p.second) xx *= x;\n\t\tsm += xx * p.first;\n\t}\n\n\treturn sm == 0;\n}\n//-----------------------------------------------------------------------------------\nint main() {\n\tcin >> S;\n\t\n\tparse();\n\t//for (auto p : F) printf(\"%d %d\\n\", p.first, p.second);\n\n\tset<int> ans;\n\trep(i, -2000, 2001) if (chk(i)) ans.insert(-i);\n\tfor (int i : ans) {\n\t\tprintf(\"(x\");\n\t\tif (0 < i) printf(\"+\");\n\t\tprintf(\"%d)\", i);\n\t}\n\tprintf(\"\\n\");\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nusing VI = vector<int>;\nusing VVI = vector<VI>;\nusing PII = pair<int, int>;\nusing LL = long long;\nusing VL = vector<LL>;\nusing VVL = vector<VL>;\nusing PLL = pair<LL, LL>;\nusing VS = vector<string>;\n\n#define ALL(a)  begin((a)),end((a))\n#define RALL(a) (a).rbegin(), (a).rend()\n#define PB push_back\n#define EB emplace_back\n#define MP make_pair\n#define SZ(a) int((a).size())\n#define SORT(c) sort(ALL((c)))\n#define RSORT(c) sort(RALL((c)))\n#define UNIQ(c) (c).erase(unique(ALL((c))), end((c)))\n\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n)  FOR(i,0,n)\n\n#define FF first\n#define SS second\ntemplate<class S, class T>\nistream& operator>>(istream& is, pair<S,T>& p){\n  return is >> p.FF >> p.SS;\n}\ntemplate<class S, class T>\nostream& operator<<(ostream& os, const pair<S,T>& p){\n  return os << p.FF << \" \" << p.SS;\n}\ntemplate<class T>\nvoid maxi(T& x, T y){\n  if(x < y) x = y;\n}\ntemplate<class T>\nvoid mini(T& x, T y){\n  if(x > y) x = y;\n}\n\n\nconst double EPS = 1e-10;\nconst double PI  = acos(-1.0);\nconst LL MOD = 1e9+7;\n\nint read(string& s, int& i){\n  int res = 0;\n  while(i < SZ(s) && '0' <= s[i] && s[i] <= '9'){\n\tres = res*10 + s[i] - '0';\n\t++i;\n  }\n  return res;\n}\n\nint main(){\n  cin.tie(0);\n  ios_base::sync_with_stdio(false);\n\n  string s;\n  cin >> s;\n  int N = SZ(s);\n\n  int ph = 1;\n  VI coeff(6);\n  for(int i=0;i<N;){\n\tif(s[i] == 'x'){\n\t  ++i;\n\t  if(s[i] == '^'){\n\t\t++i; // ^\n\t\tint p = read(s, i);\n\t\tcoeff[p] += ph;\n\t  }\n\t  else{\n\t\tcoeff[1] += ph;\n\t  }\n\t}\n\telse{\n\t  int c = read(s, i);\n\t  if(i < N && s[i] == 'x'){\n\t\t++i;\n\t\tif(i < N && s[i] == '^'){\n\t\t  ++i;\n\t\t  int p = read(s,i);\n\t\t  coeff[p] += c * ph;\n\t\t}\n\t\telse{\n\t\t  coeff[1] += c*ph;\n\t\t}\n\t  }\n\t  else{\n\t\tcoeff[0] += c * ph;\n\t  }\n\t}\n\tif(i < N){\n\t  if(s[i++] == '+')\n\t\tph = 1;\n\t  else\n\t\tph = -1;\n\t}\n  }\n\n  VL ans;\n  for(LL x=-10000;x<=10000;++x){\n\tLL poly = 0;\n\tLL px = 1;\n\tREP(i,6){\n\t  poly += coeff[i] * px;\n\t  px *= x;\n\t}\n\tif(poly == 0)\n\t  ans.PB(x);\n  }\n  RSORT(ans);\n  \n  for(LL rt: ans){\n\tcout << \"(x\" << (rt<0?\"+\":\"-\") << abs(rt) << \")\";\n  }\n  cout << endl;\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<string>\n#include<algorithm>\t\n#include<map>\n#include<set>\n#include<utility>\n#include<cmath>\n#include<cstring>\n#include<queue>\n#include<stack>\n#include<cstdio>\n#include<sstream>\n#include<iomanip>\n#define loop(i,a,b) for(int i=a;i<b;i++) \n#define rep(i,a) loop(i,0,a)\n#define pb push_back\n#define all(in) in.begin(),in.end()\n#define shosu(x) fixed<<setprecision(x)\nusing namespace std;\n//kaewasuretyuui\ntypedef long long ll;\ntypedef pair<int,int> pii;\ntypedef vector<ll> vi;\ntypedef vector<vi> vvi;\ntypedef vector<pii> vp;\ntypedef vector<vp> vvp;\ntypedef vector<string> vs;\ntypedef vector<double> vd;\ntypedef vector<vd> vvd;\ntypedef pair<int,pii> pip;\ntypedef vector<pip>vip;\nconst double PI=acos(-1);\nconst double EPS=1e-7;\nconst int inf=1e8;\nint dx[4]={0,1,0,-1};\nint dy[4]={1,0,-1,0};\nstring s;\nvi in;\nint f(int a){\n\tif(s[a]=='+'||a==0)return 1;\n\telse if(s[a]=='-')return -1;\n\tint out=0;\n\tbool h=false;\n\twhile(a&&isdigit(s[a-1]))a--;\n\tif(a&&s[a-1]=='-')h=true;\n\twhile(isdigit(s[a])){\n\t\tout*=10;\n\t\tout+=s[a]-'0';\n\t\ta++;\n\t}\n\tif(h)out*=-1;\n\treturn out;\n}\nvi ya;\nint m;\nvi out;\nint dfs(int a,int b){\n\tif(a==m){\n\t\t//out\n\t\tloop(i,1,m+1){\n\t\t\tll q=0;\n\t\t\tvi tmp(m);\n\t\t\trep(j,i)tmp[j]=1;\n\t\t\tsort(all(tmp));\n\t\t\tdo{\n\t\t\t\tll qq=1;\n\t\t\t\trep(j,m)if(tmp[j])qq*=out[j];\n\t\t\t\tq+=qq;\n\t\t\t}while(next_permutation(all(tmp)));\n//\t\t\tcout<<q<<\" \"<<in[m-i]<<endl;\n\t\t\tif(q!=in[m-i])return 0;\n\t\t}\n/*\t\t\n\t\tll q=1;\n\t\trep(i,m)q*=out[i];\n\t\tif(q!=in[0])return 0;\n\t\tq=0;\n\t\trep(i,m)q+=out[i];\n\t\tif(q!=in[m-1])return 0;\n\t\tq=0;\n\t\trep(i,m)rep(j,m)if(i!=j)q+=out[i]*out[j];\n//\t\trep(i,m)cout<<\" \"<<out[i];cout<<endl;\n\t\tif(q/2!=in[m-2])return 0;\n//*/\t\t\n\t\t\n\t\tsort(all(out));\n\t\tbool h=true;\n\t\trep(i,m-1)if(out[i]==out[i+1])h=false;\n\t\tif(!h)return 0;\n\t\trep(i,m)printf(\"(x%+d)\",out[i]);//cout<<\" \"<<out[i];cout<<endl;\n\t\tcout<<endl;\n\t\treturn 1;\n\t}\n\trep(i,ya.size())if(abs(in[0])%abs(b*ya[i])==0){\n\t\tout[a]=ya[i];\n\t\tif(dfs(a+1,b*ya[i]))return 1;\n\t\tout[a]=0;\n\t}\n\treturn 0;\n}\nint main(){\n\tcin>>s;\n\ts=\"1\"+s;\n\tin=vi(6);\n\tint n=s.size();\n\trep(i,n)if(s[i]=='x'){\n\t\tif(s[i+1]=='^')in[s[i+2]-'0']=f(i-1);\n\t\telse in[1]=f(i-1);\n\t}\n\tin[0]=f(n-1);\n\tm=5;\n\twhile(in[m]==0)m--;\n\tout=vi(m);\n//\trep(i,6)cout<<\" \"<<in[i];cout<<endl;\n\tloop(i,1,2010)if(abs(in[0])%i==0){\n\t\tya.pb(i);\n\t\tya.pb(-i);\n\t}\n//\trep(i,ya.size())cout<<\" \"<<ya[i];cout<<endl;\n\tdfs(0,1);\n}\n\n\n/*int n,m;\nvvi in;\ndouble h;\nstruct UnionFind{\n    vector<int> data;\n    UnionFind(int size) : data(size, -1) {}\n    bool unionSet(int x,int y){\n        x=root(x);y=root(y);\n        if(x==y)return 0;\n        if(data[y]<data[x])swap(x,y);\n        data[x]+=data[y],data[y]=x;\n        return 1;\n    }\n    bool findSet(int x,int y){\n        return root(x)==root(y);\n    }\n    int root(int x){\n        return data[x]<0 ? x : data[x]=root(data[x]);\n    }\n    int size(int x){\n        return -data[root(x)];\n    }\n};\ndouble l,r;\nbool f(){\n\tUnionFind uf(n);\n\tll c=0,d=0;\n\trep(i,m){\n\t\tdouble t=(double)in[i][2]/in[i][3];\n\t\tif(t<h){\n\t\t\tuf.unionSet(in[i][0],in[i][1]);\n\t\t\tc+=in[i][2];d+=in[i][3];\n\t\t}else{\n\t\t\tif(uf.findSet(in[i][0],in[i][1])==0){\n\t\t\t\tif((double)(c+in[i][2])/(d+in[i][3])<h)continue;\n\t\t\t\tcout<<c<<\" \"<<d<<endl;\n\t\t\t\tcout<<in[i][0]<<\" \"<<in[i][1]<<endl;\n\t\t\t\tuf.unionSet(in[i][0],in[i][1]);\n\t\t\t\tc+=in[i][2];d+=in[i][3];\n\t\t\t}\n\t\t}\n\t}\n\tcout<<l<<\" \"<<r<<\" \"<<h<<\" \"<<uf.size(0)<<endl;\n\tif(uf.size(0)==n)return true;\n\treturn false;\n}\nint main(){\n\tcin>>n>>m;\n\tin=vvi(m,vi(4));\n\trep(i,m)rep(j,4)cin>>in[i][j];\n\trep(i,m)swap(in[i][2],in[i][3]);\n\trep(i,m)rep(j,m)if(i!=j){\n\t\tif((double)in[i][3]/in[i][2]<(double)in[j][3]/in[j][2])swap(in[i],in[j]);\n\t}\n\trep(i,m){rep(j,4)cout<<\" \"<<in[i][j];cout<<endl;}\n\tl=0,r=1e10+2;\n\twhile(r-l>EPS){\n\t\th=(l+r)/2;\n\t\tif(f())r=h;\n\t\telse l=h;\n\t}\n\tcout<<l<<\" \"<<r<<endl;\n}\n//*/"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long int64;\n\nvector< int64 > Divisor(int64 n)\n{\n  vector< int64 > ret;\n  for(int64 i = 1; i * i <= n; i++) {\n    if(n % i == 0) {\n      ret.push_back(i);\n      if(i * i != n) ret.push_back(n / i);\n    }\n  }\n  sort(begin(ret), end(ret));\n  return (ret);\n}\n\n\nint main()\n{\n  int aa[6] = {};\n  string S;\n\n  cin >> S;\n\n  string buff;\n  bool rev = false;\n  for(int i = 0; i <= S.size(); i++) {\n    if(i == S.size() || S[i] == '+' || S[i] == '-') {\n      int fg = 0, ptr = 0;\n      if(isdigit(buff[ptr])) {\n        while(ptr < buff.size() && isdigit(buff[ptr])) {\n          fg = fg * 10 + buff[ptr++] - '0';\n        }\n        if(ptr == buff.size()) {\n          aa[0] += fg * (rev ? -1 : 1);\n          continue;\n        }\n      }\n      ++ptr;\n      ++ptr;\n      int ps = 0;\n      while(ptr < buff.size() && isdigit(buff[ptr])) {\n        ps = ps * 10 + buff[ptr++] - '0';\n      }\n      aa[max(1, ps)] = max(1, fg) * (rev ? -1 : 1);\n      buff.clear();\n      if(S[i] == '-') rev = true;\n    } else {\n      buff += S[i];\n    }\n  }\n\n  int big = 0;\n  for(int i = 0; i <= 5; i++) {\n    if(aa[i] != 0) big = i;\n  }\n\n\n  vector< int64 > beet_puro = Divisor(abs(aa[0]));\n\n  for(int64 i: beet_puro) {\n\n    for(int64 j : beet_puro) {\n      for(int64 k : beet_puro) {\n        for(int64 l : beet_puro) {\n          int64 fact = i * j * k * l;\n          if(fact > abs(aa[0])) continue;\n          if(aa[0] % fact != 0) continue;\n          int64 m = abs(aa[0]) / fact;\n\n          for(int n = 0; n < (1 << 5); n++) {\n            bool ismatch = true;\n            vector< int64 > vs = {i, j, k, l, m};\n\n\n            for(int64 ei = 0; ei < 5; ei++) {\n              if(ei >= big) {\n                vs[ei] = 0;\n              } else if((n >> ei) & 1) vs[ei] *= -1;\n\n            }\n\n            vector< int64 > proc(6, 0);\n            for(int ei = 0; ei < (1 << 5); ei++) {\n              int odd = __builtin_popcount(ei);\n              int64 facto = 1;\n              for(int latte = 0; latte < 5; latte++) {\n                if((ei >> latte) & 1) facto *= vs[latte];\n              }\n              if(big - odd >= 0) proc[big - odd] += facto;\n            }\n\n\n            for(int malta = 0; malta < 5; malta++) {\n              if(proc[malta] != aa[malta]) {\n                ismatch = false;\n                break;\n              }\n            }\n\n\n            if(ismatch) {\n              sort(begin(vs), end(vs));\n              for(int uku = 0; uku < vs.size(); uku++) {\n                if(vs[uku] == 0) continue;\n                cout << \"(x\";\n                if(vs[uku] > 0) cout << \"+\";\n                cout << vs[uku] << \")\";\n              }\n              cout << endl;\n              return (0);\n            }\n\n          }\n        }\n      }\n    }\n  }\n\n\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<string>\n#include<algorithm>\t\n#include<map>\n#include<set>\n#include<utility>\n#include<cmath>\n#include<cstring>\n#include<queue>\n#include<stack>\n#include<cstdio>\n#include<sstream>\n#include<iomanip>\n#define loop(i,a,b) for(int i=a;i<b;i++) \n#define rep(i,a) loop(i,0,a)\n#define pb push_back\n#define all(in) in.begin(),in.end()\n#define shosu(x) fixed<<setprecision(x)\nusing namespace std;\n//kaewasuretyuui\ntypedef long long ll;\ntypedef pair<int,int> pii;\ntypedef vector<ll> vi;\ntypedef vector<vi> vvi;\ntypedef vector<pii> vp;\ntypedef vector<vp> vvp;\ntypedef vector<string> vs;\ntypedef vector<double> vd;\ntypedef vector<vd> vvd;\ntypedef pair<int,pii> pip;\ntypedef vector<pip>vip;\nconst double PI=acos(-1);\nconst double EPS=1e-7;\nconst int inf=1e8;\nint dx[4]={0,1,0,-1};\nint dy[4]={1,0,-1,0};\nstring s;\nvi in;\nint f(int a){\n\tif(!isdigit(s[a]))return 1;\n\tint out=0;\n\tbool h=false;\n\twhile(a&&isdigit(s[a-1]))a--;\n\tif(a&&s[a-1]=='-')h=true;\n\twhile(isdigit(s[a])){\n\t\tout*=10;\n\t\tout+=s[a]-'0';\n\t\ta++;\n\t}\n\tif(h)out*=-1;\n\treturn out;\n}\nvi ya;\nint m;\nvi out;\nint dfs(int a,int b){\n\tif(a==m){\n\t\t//out\n\t\tloop(i,1,m+1){\n\t\t\tll q=0;\n\t\t\tvi tmp(m);\n\t\t\trep(j,i)tmp[j]=1;\n\t\t\tsort(all(tmp));\n\t\t\tdo{\n\t\t\t\tll qq=1;\n\t\t\t\trep(j,m)if(tmp[j])qq*=out[j];\n\t\t\t\tq+=qq;\n\t\t\t}while(next_permutation(all(tmp)));\n//\t\t\tcout<<q<<\" \"<<in[m-i]<<endl;\n\t\t\tif(q!=in[m-i])return 0;\n\t\t}\n/*\t\t\n\t\tll q=1;\n\t\trep(i,m)q*=out[i];\n\t\tif(q!=in[0])return 0;\n\t\tq=0;\n\t\trep(i,m)q+=out[i];\n\t\tif(q!=in[m-1])return 0;\n\t\tq=0;\n\t\trep(i,m)rep(j,m)if(i!=j)q+=out[i]*out[j];\n//\t\trep(i,m)cout<<\" \"<<out[i];cout<<endl;\n\t\tif(q/2!=in[m-2])return 0;\n//*/\t\t\n\t\t\n\t\tsort(all(out));\n\t\tbool h=true;\n\t\trep(i,m-1)if(out[i]==out[i+1])h=false;\n\t\tif(!h)return 0;\n\t\trep(i,m)printf(\"(x%+d)\",out[i]);//cout<<\" \"<<out[i];cout<<endl;\n\t\tcout<<endl;\n\t\treturn 1;\n\t}\n\trep(i,ya.size())if(abs(in[0])%abs(b*ya[i])==0){\n\t\tout[a]=ya[i];\n\t\tif(dfs(a+1,b*ya[i]))return 1;\n\t\tout[a]=0;\n\t}\n\treturn 0;\n}\nint main(){\n\tcin>>s;\n\ts=\"1\"+s;\n\tin=vi(6);\n\tint n=s.size();\n\trep(i,n)if(s[i]=='x'){\n\t\tif(s[i+1]=='^')in[s[i+2]-'0']=f(i-1);\n\t\telse in[1]=f(i-1);\n\t}\n\tin[0]=f(n-1);\n\tm=5;\n\twhile(in[m]==0)m--;\n\tout=vi(m);\n//\trep(i,6)cout<<\" \"<<in[i];cout<<endl;\n\tloop(i,1,2010)if(abs(in[0])%i==0){\n\t\tya.pb(i);\n\t\tya.pb(-i);\n\t}\n//\trep(i,ya.size())cout<<\" \"<<ya[i];cout<<endl;\n\tdfs(0,1);\n}\n\n\n/*int n,m;\nvvi in;\ndouble h;\nstruct UnionFind{\n    vector<int> data;\n    UnionFind(int size) : data(size, -1) {}\n    bool unionSet(int x,int y){\n        x=root(x);y=root(y);\n        if(x==y)return 0;\n        if(data[y]<data[x])swap(x,y);\n        data[x]+=data[y],data[y]=x;\n        return 1;\n    }\n    bool findSet(int x,int y){\n        return root(x)==root(y);\n    }\n    int root(int x){\n        return data[x]<0 ? x : data[x]=root(data[x]);\n    }\n    int size(int x){\n        return -data[root(x)];\n    }\n};\ndouble l,r;\nbool f(){\n\tUnionFind uf(n);\n\tll c=0,d=0;\n\trep(i,m){\n\t\tdouble t=(double)in[i][2]/in[i][3];\n\t\tif(t<h){\n\t\t\tuf.unionSet(in[i][0],in[i][1]);\n\t\t\tc+=in[i][2];d+=in[i][3];\n\t\t}else{\n\t\t\tif(uf.findSet(in[i][0],in[i][1])==0){\n\t\t\t\tif((double)(c+in[i][2])/(d+in[i][3])<h)continue;\n\t\t\t\tcout<<c<<\" \"<<d<<endl;\n\t\t\t\tcout<<in[i][0]<<\" \"<<in[i][1]<<endl;\n\t\t\t\tuf.unionSet(in[i][0],in[i][1]);\n\t\t\t\tc+=in[i][2];d+=in[i][3];\n\t\t\t}\n\t\t}\n\t}\n\tcout<<l<<\" \"<<r<<\" \"<<h<<\" \"<<uf.size(0)<<endl;\n\tif(uf.size(0)==n)return true;\n\treturn false;\n}\nint main(){\n\tcin>>n>>m;\n\tin=vvi(m,vi(4));\n\trep(i,m)rep(j,4)cin>>in[i][j];\n\trep(i,m)swap(in[i][2],in[i][3]);\n\trep(i,m)rep(j,m)if(i!=j){\n\t\tif((double)in[i][3]/in[i][2]<(double)in[j][3]/in[j][2])swap(in[i],in[j]);\n\t}\n\trep(i,m){rep(j,4)cout<<\" \"<<in[i][j];cout<<endl;}\n\tl=0,r=1e10+2;\n\twhile(r-l>EPS){\n\t\th=(l+r)/2;\n\t\tif(f())r=h;\n\t\telse l=h;\n\t}\n\tcout<<l<<\" \"<<r<<endl;\n}\n//*/"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\n\nint k[20];\n\nint main() {\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\n\tstring s;\n\tcin >> s;\n\n\tint idx = 0;\n\tstring ss;\n\tbool minus = false;\n\twhile(idx < s.size()) {\n\t\twhile(idx < s.size() && s[idx] != '+' && s[idx] != '-') ss += s[idx++];\n\t\t//cout << ss << endl;\n\n\t\tint t = 0;\n\t\tint i = 0;\n\t\tbool flag = false;\n\t\twhile(i < ss.size() && ss[i] != 'x') {\n\t\t\tt = t * 10 + ss[i++] - '0';\n\t\t\tflag = true;\n\t\t}\n\t\tif(!flag) t = 1;\n\t\tif(minus) t *= -1;\n\n\t\tint d = 0;\n\t\tif(i < ss.size()) {\n\t\t\ti++;// x\n\t\t\tif(i == ss.size()) {\n\t\t\t\td = 1;\n\t\t\t}\n\t\t\telse {\n\t\t\t\ti++; // ^\n\t\t\t\td = ss[i] - '0';\n\t\t\t}\n\t\t}\n\t\tk[d] = t;\n\t\tif(idx < s.size()) {\n\t\t\tminus = s[idx] == '-';\n\t\t\tidx++;\n\t\t}\n\t\tss = \"\";\n\t}\n\tvector<ll> ans;\n\tfor(ll i = 1000; i >= -1000; i--) {\n\t\tll sum = 0;\n\t\tfor(int j = 0; j <= 5; j++) {\n\t\t\tif(k[j] == 0) continue;\n\t\t\tll p = 1;\n\t\t\tfor(int c = 0; c < j; c++) {\n\t\t\t\tp *= i;\n\t\t\t}\n\t\t\tsum += k[j] * p;\n\t\t}\n\t\tif(i != 0 && sum == 0) {\n\t\t\tif(i > 0) cout << \"(x\" << -i << \")\";\n\t\t\telse cout << \"(x+\" << -i << \")\";\n\t\t}\n\t}\n\tcout << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define F first\n#define S second\ntypedef pair<int,int> P;\n\nint main() {\n  string s;\n  cin >> s;\n  vector<P> v;\n  vector<int> t,z;\n  t.push_back(1);\n  for(int i=0; i<s.size(); i++) {\n    if(s[i]=='+'||s[i]=='-') {\n      if(s[i]=='+') t.push_back(1);\n      else t.push_back(-1);\n      s[i]=' ';\n    }\n  }\n  stringstream ss;\n  ss << s;\n  int k=0;\n  while(ss >> s) {\n    int x=0;\n    P p=P(-1,0);\n    for(int i=0; i<s.size(); i++) {\n      if(isdigit(s[i])) {\n        x*=10;\n        x+=s[i]-'0';\n      } else if(p.F==-1) {\n        if(!x) x=1;\n        p.F=x;\n        x=0;\n      }\n    }\n    if(p.F==-1) {\n      if(!x) x=1;\n      p.F=x;\n    } else {\n      if(!x) x=1;\n      p.S=x;\n    }\n    p.F*=t[k++];\n    v.push_back(p);\n  }\n  for(int x=-2000; x<=2000; x++) {\n    int sum=0;\n    for(int i=0; i<v.size(); i++) sum+=v[i].F*pow(x,v[i].S);\n    if(!sum) z.push_back(-x);\n  }\n  sort(z.begin(),z.end());\n  for(int i=0; i<z.size(); i++) cout << \"(x\" << (z[i]>0?\"+\":\"\") << z[i] << \")\";\n  cout << endl;\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n  \nstring s;\n\nbool check(int x){\n  \n  long long p=0, value=0;\n  \n  while(p<s.size()){\n    \n    int num=0, flag=0;\n    \n    if(s[p]=='-') flag=1;\n    if(s[p]!='x') p++;\n\n    while('0'<=s[p]&&s[p]<='9') num=num*10+s[p++]-'0';\n    \n    if(num==0) num=1;\n    \n    if(flag) num*=-1;\n    \n    if(s[p+1]=='^') value+=num*pow(x,s[p+2]-'0'), p+=3;\n    else value+=num*x, p++;\n    \n  }\n  \n  return value==0;\n}\n\nint main(){\n  \n  cin>>s;\n  \n  s+=\"x^0\";\n  \n  for(int i=2000;i>=-2000;i--)\n    if(check(i)){\n      cout<<\"(x\";\n      if(i<0) cout<<\"+\"<<i*(-1);\n      else cout<<\"-\"<<i;\n      cout<<\")\";\n    }\n  \n  cout<<endl;\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\n#define int long long\n\n#define rep(i,n) for(int i=0;i<(n);i++)\n#define all(v) (v).begin(),(v).end()\n#define pb push_back\n#define fi first\n#define se second\n\ntypedef vector<int>vint;\ntypedef pair<int,int>pint;\ntypedef vector<pint>vpint;\n\ntemplate<typename A,typename B>inline void chmin(A &a,B b){if(a>b)a=b;}\ntemplate<typename A,typename B>inline void chmax(A &a,B b){if(a<b)a=b;}\n\nstring S;\n\nint a[6];\n\nsigned main(){\n    cin>>S;\n    S+=\"x^0\";\n    rep(i,S.size()){\n        if(S[i]!='x')continue;\n\n        int t;\n        if(S[i+1]!='^')t=1;\n        else t=S[i+2]-'0';\n\n        int d=1;\n        for(int j=i-1;j>=0&&isdigit(S[j]);j--){\n            a[t]+=d*(S[j]-'0');\n            d*=10;\n        }\n\n        if(i==0)a[t]=1;\n    }\n\n    vint lis;\n    for(int i=-2222;i<=2222;i++){\n        int d=1;\n        int v=0;\n        for(int j=0;j<=5;j++){\n            v+=d*a[j];\n            d*=i;\n        }\n        if(v==0)lis.pb(-i);\n    }\n\n    sort(all(lis));\n    stringstream ss;\n    rep(i,lis.size()){\n        ss<<\"(x\";\n        if(lis[i]>0)ss<<\"+\";\n        ss<<lis[i]<<\")\";\n    }\n    cout<<ss.str()<<endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <vector>\n#include <queue>\n#include <string>\n#include <algorithm>\n#include <iostream>\n#include <string>\n#include <cctype>\n#include <map>\n#include <set>\n#include <functional>\n#include <iostream>\n#define MOD 1000000007LL\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> P;\ntypedef string::const_iterator State;\n\nstring str;\nint val[6];\nbool flag=false;\n\nint number(State &begin){\n\tint ret=0;\n\twhile(isdigit(*begin)){\n\t\tret*=10;\n\t\tret+=*begin-'0';\n\t\tbegin++;\n\t}\n\treturn ret;\n}\n\nvoid term(State &begin){\n\tint v=number(begin);\n\tif(v==0)v=1;\n\tbool used=false;\n\twhile(1){\n\t\tif(*begin=='x'){\n\t\t\tbegin++;\n\t\t\tif(*begin=='^'){\n\t\t\t\tbegin++;\n\t\t\t\tint p=number(begin);\n\t\t\t\tval[p]=v;\n\t\t\t\tif(flag)val[p]*=-1;\n\t\t\t}else{\n\t\t\t\tval[1]=v;\n\t\t\t\tif(flag)val[1]*=-1;\n\t\t\t}\n\t\t\tflag=false;\n\t\t\tused=true;\n\t\t}else if(*begin=='+'){\n\t\t\tbegin++;\n\t\t\tif(!used){\n\t\t\t\tval[0]=v;\n\t\t\t\tif(flag)val[0]*=-1;\n\t\t\t\tflag=false;\n\t\t\t}\n\t\t\tterm(begin);\n\t\t\tbreak;\n\t\t}else if(*begin=='-'){\n\t\t\tbegin++;\n\t\t\tif(!used){\n\t\t\t\tval[0]=v;\n\t\t\t\tif(flag)val[0]*=-1;\n\t\t\t\tflag=false;\n\t\t\t}\n\t\t\tflag=true;\n\t\t\tterm(begin);\n\t\t\tbreak;\n\t\t}else{\n\t\t\tif(!used){\n\t\t\t\tval[0]=v;\n\t\t\t\tif(flag)val[0]*=-1;\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t}\n\t\n}\n\nbool check(int v){\n\tll sum=val[0];\n\tll p=v;\n\tfor(int i=1;i<=5;i++){\n\t\tsum+=(ll)val[i]*p;\n\t\tp=(ll)p*v;\n\t}\n\treturn (sum==0);\n}\n\nint main(void){\n\tcin >> str;\n\tState begin=str.begin();\n\tterm(begin);\n\tfor(int i=2000;i>=-2000;i--){\n\t\tif(check(i)){\n\t\t\tif(i>=0)cout << \"(x-\" << i << \")\";\n\t\t\telse cout << \"(x+\" << -i << \")\";\n\t\t}\n\t}\n\tcout << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\n\n\nstring st;\nint a;\nint getnum() {\n\tint num=0;\n\twhile (a != st.size()&&isdigit(st[a])) {\n\t\tnum*=10;\n\t\tnum+=st[a]-'0';\n\t\ta++;\n\t}\n\treturn num;\n}\nvector<int>kou() {\n\tvector<int>v(10);\n\tif (st[a] == 'x') {\n\t\ta++;\n\t\tif (a == st.size() || st[a] == '^') {\n\t\t\tv[1]=1;\n\t\t}\n\t\telse {\n\n\t\t\tassert(st[a] == '^');\n\t\t\ta++;\n\t\t\tint n(getnum());\n\t\t\tv[n] = 1;\n\t\t}\n\t}\n\telse {\n\t\tint kei(getnum());\n\t\tif (a == st.size() || st[a] == '+' || st[a] == '-') {\n\t\t\tv[0]=kei;\n\t\t\t\n\t\t}\n\t\telse {\n\t\t\tassert(st[a]=='x');\n\t\t\ta++;\n\t\t\tif (a == st.size() || st[a] == '+' || st[a] == '-') {\n\t\t\t\tv[1]=kei;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tassert(st[a]=='^');\n\t\t\t\ta++;\n\t\t\t\tint num(getnum());\n\t\t\t\tv[num]=kei;\n\t\t\t}\n\t\t}\n\t}\n\treturn v;\n}\nvector<int>takou() {\n\tvector<int>v(kou());\n\twhile(a != st.size()) {\n\t\tbool plus=true;\n\t\tplus=st[a]=='+';\n\t\ta++;\n\t\tvector<int>w(kou());\n\t\tif (plus) {\n\t\t\tfor (int i = 0; i < 10; ++i) {\n\t\t\t\tv[i]+=w[i];\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tfor (int i = 0; i < 10; ++i) {\n\t\t\t\tv[i]-=w[i];\n\t\t\t}\n\t\t}\n\t}\n\treturn v;\n\t\t\n}\nlong long int pow_int(long long int a, int b) {\n\tif(b==0)return 1;\n\telse {\n\t\treturn a*pow_int(a,b-1);\n\t}\n}\nint main() {\n\tcin>>st;\n\ta=0;\n\tauto v(takou());\n\tvector<long long int>anss;\n\tfor (long long int i = -4000; i <= 4000; ++i) {\n\t\tlong long int sum=0;\n\t\tfor (int j = 0; j <= 5; ++j) {\n\t\t\tsum+=pow_int(i,j)*v[j];\n\t\t}\n\t\tif (sum == 0) {\n\t\t\tanss.push_back(i);\n\t\t}\n\t}\n\treverse(anss.begin(),anss.end());\n\n\tfor (auto ans : anss) {\n\t\tcout<<\"(x\";\n\t\tif (ans > 0) {\n\t\t\tcout<<\"-\"<<ans;\n\t\t}\n\t\telse {\n\t\t\tcout<<\"+\"<<-ans;\n\t\t}\n\t\tcout<<\")\";\n\t}\n\tcout<<endl;\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\n#define int long long\n\n#define rep(i,n) for(int i=0;i<(n);i++)\n#define all(v) (v).begin(),(v).end()\n#define pb push_back\n#define fi first\n#define se second\n\ntypedef vector<int>vint;\ntypedef pair<int,int>pint;\ntypedef vector<pint>vpint;\n\ntemplate<typename A,typename B>inline void chmin(A &a,B b){if(a>b)a=b;}\ntemplate<typename A,typename B>inline void chmax(A &a,B b){if(a<b)a=b;}\n\nstring S;\n\nint a[6];\n\nsigned main(){\n    cin>>S;\n    S+=\"x^0\";\n    rep(i,S.size()){\n        if(S[i]!='x')continue;\n\n        int t;\n        if(S[i+1]!='^')t=1;\n        else t=S[i+2]-'0';\n\n        int d=1;\n        for(int j=i-1;j>=0;j--){\n            if(S[j]=='-'){\n                a[t]*=-1;\n                break;\n            }\n            if(!isdigit(S[j]))break;\n            a[t]+=d*(S[j]-'0');\n            d*=10;\n        }\n\n        if(i==0)a[t]=1;\n    }\n\n    vint lis;\n    for(int i=-2222;i<=2222;i++){\n        int d=1;\n        int v=0;\n        for(int j=0;j<=5;j++){\n            v+=d*a[j];\n            d*=i;\n        }\n        if(v==0)lis.pb(-i);\n    }\n\n    sort(all(lis));\n    stringstream ss;\n    rep(i,lis.size()){\n        ss<<\"(x\";\n        if(lis[i]>0)ss<<\"+\";\n        ss<<lis[i]<<\")\";\n    }\n    cout<<ss.str()<<endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<string>\n#include<algorithm>\t\n#include<map>\n#include<set>\n#include<utility>\n#include<cmath>\n#include<cstring>\n#include<queue>\n#include<stack>\n#include<cstdio>\n#include<sstream>\n#include<iomanip>\n#define loop(i,a,b) for(int i=a;i<b;i++) \n#define rep(i,a) loop(i,0,a)\n#define pb push_back\n#define all(in) in.begin(),in.end()\n#define shosu(x) fixed<<setprecision(x)\nusing namespace std;\n//kaewasuretyuui\ntypedef long long ll;\ntypedef pair<int,int> pii;\ntypedef vector<ll> vi;\ntypedef vector<vi> vvi;\ntypedef vector<pii> vp;\ntypedef vector<vp> vvp;\ntypedef vector<string> vs;\ntypedef vector<double> vd;\ntypedef vector<vd> vvd;\ntypedef pair<int,pii> pip;\ntypedef vector<pip>vip;\nconst double PI=acos(-1);\nconst double EPS=1e-7;\nconst int inf=1e8;\nint dx[4]={0,1,0,-1};\nint dy[4]={1,0,-1,0};\nstring s;\nvi in;\nint f(int a){\n\tint out=0;\n\tbool h=false;\n\twhile(a&&isdigit(s[a-1]))a--;\n\tif(a&&s[a-1]=='-')h=true;\n\twhile(isdigit(s[a])){\n\t\tout*=10;\n\t\tout+=s[a]-'0';\n\t\ta++;\n\t}\n\tif(h)out*=-1;\n\treturn out;\n}\nvi ya;\nint m;\nvi out;\nint dfs(int a,int b){\n\tif(a==m){\n\t\t//out\n\t\tloop(i,1,m+1){\n\t\t\tll q=0;\n\t\t\tvi tmp(m);\n\t\t\trep(j,i)tmp[j]=1;\n\t\t\tsort(all(tmp));\n\t\t\tdo{\n\t\t\t\tll qq=1;\n\t\t\t\trep(j,m)if(tmp[j])qq*=out[j];\n\t\t\t\tq+=qq;\n\t\t\t}while(next_permutation(all(tmp)));\n//\t\t\tcout<<q<<\" \"<<in[m-i]<<endl;\n\t\t\tif(q!=in[m-i])return 0;\n\t\t}\n/*\t\t\n\t\tll q=1;\n\t\trep(i,m)q*=out[i];\n\t\tif(q!=in[0])return 0;\n\t\tq=0;\n\t\trep(i,m)q+=out[i];\n\t\tif(q!=in[m-1])return 0;\n\t\tq=0;\n\t\trep(i,m)rep(j,m)if(i!=j)q+=out[i]*out[j];\n//\t\trep(i,m)cout<<\" \"<<out[i];cout<<endl;\n\t\tif(q/2!=in[m-2])return 0;\n//*/\t\t\n\t\t\n\t\tsort(all(out));\n\t\tbool h=true;\n\t\trep(i,m-1)if(out[i]==out[i+1])h=false;\n\t\tif(!h)return 0;\n\t\trep(i,m)printf(\"(x%+d)\",out[i]);//cout<<\" \"<<out[i];cout<<endl;\n\t\tcout<<endl;\n\t\treturn 1;\n\t}\n\trep(i,ya.size())if(abs(in[0])%abs(b*ya[i])==0){\n\t\tout[a]=ya[i];\n\t\tif(dfs(a+1,b*ya[i]))return 1;\n\t\tout[a]=0;\n\t}\n\treturn 0;\n}\nint main(){\n\tcin>>s;\n\ts=\"1\"+s;\n\tin=vi(6);\n\tint n=s.size();\n\trep(i,n)if(s[i]=='x'){\n\t\tif(s[i+1]=='^')in[s[i+2]-'0']=f(i-1);\n\t\telse in[1]=f(i-1);\n\t}\n\tin[0]=f(n-1);\n\tm=5;\n\twhile(in[m]==0)m--;\n\tout=vi(m);\n//\trep(i,6)cout<<\" \"<<in[i];cout<<endl;\n\tloop(i,1,2010)if(abs(in[0])%i==0){\n\t\tya.pb(i);\n\t\tya.pb(-i);\n\t}\n//\trep(i,ya.size())cout<<\" \"<<ya[i];cout<<endl;\n\tdfs(0,1);\n}\n\n\n/*int n,m;\nvvi in;\ndouble h;\nstruct UnionFind{\n    vector<int> data;\n    UnionFind(int size) : data(size, -1) {}\n    bool unionSet(int x,int y){\n        x=root(x);y=root(y);\n        if(x==y)return 0;\n        if(data[y]<data[x])swap(x,y);\n        data[x]+=data[y],data[y]=x;\n        return 1;\n    }\n    bool findSet(int x,int y){\n        return root(x)==root(y);\n    }\n    int root(int x){\n        return data[x]<0 ? x : data[x]=root(data[x]);\n    }\n    int size(int x){\n        return -data[root(x)];\n    }\n};\ndouble l,r;\nbool f(){\n\tUnionFind uf(n);\n\tll c=0,d=0;\n\trep(i,m){\n\t\tdouble t=(double)in[i][2]/in[i][3];\n\t\tif(t<h){\n\t\t\tuf.unionSet(in[i][0],in[i][1]);\n\t\t\tc+=in[i][2];d+=in[i][3];\n\t\t}else{\n\t\t\tif(uf.findSet(in[i][0],in[i][1])==0){\n\t\t\t\tif((double)(c+in[i][2])/(d+in[i][3])<h)continue;\n\t\t\t\tcout<<c<<\" \"<<d<<endl;\n\t\t\t\tcout<<in[i][0]<<\" \"<<in[i][1]<<endl;\n\t\t\t\tuf.unionSet(in[i][0],in[i][1]);\n\t\t\t\tc+=in[i][2];d+=in[i][3];\n\t\t\t}\n\t\t}\n\t}\n\tcout<<l<<\" \"<<r<<\" \"<<h<<\" \"<<uf.size(0)<<endl;\n\tif(uf.size(0)==n)return true;\n\treturn false;\n}\nint main(){\n\tcin>>n>>m;\n\tin=vvi(m,vi(4));\n\trep(i,m)rep(j,4)cin>>in[i][j];\n\trep(i,m)swap(in[i][2],in[i][3]);\n\trep(i,m)rep(j,m)if(i!=j){\n\t\tif((double)in[i][3]/in[i][2]<(double)in[j][3]/in[j][2])swap(in[i],in[j]);\n\t}\n\trep(i,m){rep(j,4)cout<<\" \"<<in[i][j];cout<<endl;}\n\tl=0,r=1e10+2;\n\twhile(r-l>EPS){\n\t\th=(l+r)/2;\n\t\tif(f())r=h;\n\t\telse l=h;\n\t}\n\tcout<<l<<\" \"<<r<<endl;\n}\n//*/"
  },
  {
    "language": "C++",
    "code": " #include<bits/stdc++.h>\n using namespace std;\n#define INF 1000000000\n#define REP(i,n) for(int (i)=0;(i)<(int)(n);(i)++)\ntypedef long long LL;\nstring parse[6];\nint N;\nint C[6];\nint A[6];\n//x?????¢???\nint find(string s,char c){\n   REP(i,s.size()){\n       if(s[i]==c){\n          return i;\n       }\n   }\n   return -1;\n}\n//x??????????????°???????????????\nint getC(string s){\n    int num=find(s,'x');\n    if(num==-1){\n       return stoi(s);\n    }else{\n       if(num==0){\n          return 1;\n       }else if(num==1&&s[0]=='-'){\n          return -1;\n       }\n       return stoi(s.substr(0,num));\n    }\n}\n//x?????????????????????\nint getA(string s){\n    int a=find(s,'^');\n    if(a==-1){\n       int b=find(s,'x');\n       if(b==-1){\n          return 0;\n       }else{\n          return 1;\n       }\n    }else{\n       return stoi(s.substr(a+1,s.size()));\n    }\n}\n\n//+???????§£??????\nint split(string s){\n    int count=0;\n    string a=\"\";\n    REP(i,s.size()){\n       if(s[i]=='+'||s[i]=='-'){\n\n          parse[count]=a;\n          a=\"\";\n          if(s[i]=='-'){\n             a=\"-\"+a;\n          }\n          count++;\n          continue;\n       }\n       a.push_back(s[i]);\n    }\n    parse[count]=a;\n    count++;\n    return count;\n}\nbool check(int x){\n   int ans=0;\n   REP(i,N){\n       int sum=1;\n       REP(j,A[i]){\n           sum*=x;\n       }\n       sum*=C[i];\n       ans+=sum;\n   }\n   //cout<<\"x=\"<<x<<\" ans\"<<ans<<endl;\n   return ans==0;\n}\n\nstring solve(){\n   string s=\"\";\n   for(int i=2000;i>=-2000;i--){\n       if(check(i)){\n          if(i<0){\n             s=s+\"(x+\"+to_string(abs(i))+\")\";\n          }else if(i==0){\n             s=s+\"x\";\n          }else{\n             s=s+\"(x-\"+to_string(i)+\")\";\n          }\n       }\n   }\n   return s;\n}\n\nint main(){\n    string s;\n    cin>>s;\n    N=split(s);\n    REP(i,N){\n        //cout<<parse[i]<<endl;\n        C[i]=getC(parse[i]);\n        A[i]=getA(parse[i]);\n        //cout<<C[i]<<\" \"<<A[i]<<endl;\n    }\n    cout<<solve()<<endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <sstream>\n\nusing namespace std;\n\n#define rep(i,n) for(int i = 0;i < n;i++)\n#define int long long\n\n\nstring tostr(int i) {\n\tstringstream ss(i);\n\treturn ss.str();\n}\n\nint toint(string s) {\n\tstringstream ss(s);\n\tint i;\n\tss >> i;\n\treturn i;\n}\n\n\nsigned main() {\n\n\tstring s;\n\tcin >> s;\n\tint c = s[2] - '0';\n\tvector<int> a(c + 1);\n\ta[c] = 1;\n\n\trep(i, s.size()) {\n\t\tif (s[i] == '+' || s[i] == '-') {\n\t\t\tint j;\n\t\t\tfor (j = i; j < s.size() && s[j] != 'x'; j++);\n\t\t\tint k = 0;\n\t\t\tif (s[j] == 'x') {\n\t\t\t\tif (s[j + 1] == '^') {\n\t\t\t\t\tk = s[j + 2] - '0';\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tk = 1;\n\t\t\t\t}\n\t\t\t\tj--;\n\t\t\t}\n\t\t\tauto t = s.substr(i + 1, j - i);\n\t\t\tint m = toint(t);\n\t\t\tif (s[i] == '-') m *= -1;\n\t\t\ta[k] = m;\n\t\t}\n\t}\n\n\tvector<int> ans;\n\n\tfor (int x = -2 * 100000; x <= 2 * 100000; x++) {\n\t\tint sum = 0;\n\t\trep(i, a.size()) {\n\t\t\ta[i];\n\t\t\t//i\n\t\t\tint px = 1;\n\t\t\tfor (int j = 0; j < i; j++) {\n\t\t\t\tpx *= x;\n\t\t\t}\n\t\t\tsum += a[i] * px;\n\t\t}\n\t\tif (sum == 0) {\n\t\t\tans.push_back(-x);\n\t\t}\n\t}\n\n\tstring l = \"(x\";\n\tstring r = \")\";\n\n\treverse(ans.begin(), ans.end());\n\n\trep(i, ans.size()) {\n\t\tcout << l;\n\t\tif (ans[i] > 0) {\n\t\t\tcout << \"+\";\n\t\t}\n\t\tcout << ans[i];\n\t\tcout << r;\n\t}\n\tcout << endl;\n\n\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\n\nint k[20];\n\nint main() {\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\n\tstring s;\n\tcin >> s;\n\n\tint idx = 0;\n\tstring ss;\n\tbool minus = false;\n\twhile(idx < s.size()) {\n\t\twhile(idx < s.size() && s[idx] != '+' && s[idx] != '-') ss += s[idx++];\n\t\t//cout << ss << endl;\n\n\t\tint t = 0;\n\t\tint i = 0;\n\t\tbool flag = false;\n\t\twhile(i < ss.size() && ss[i] != 'x') {\n\t\t\tt = t * 10 + ss[i++] - '0';\n\t\t\tflag = true;\n\t\t}\n\t\tif(!flag) t = 1;\n\t\tif(minus) t *= -1;\n\n\t\tint d = 0;\n\t\tif(i < ss.size()) {\n\t\t\ti++;// x\n\t\t\tif(i == ss.size()) {\n\t\t\t\td = 1;\n\t\t\t}\n\t\t\telse {\n\t\t\t\ti++; // ^\n\t\t\t\td = ss[i] - '0';\n\t\t\t}\n\t\t}\n\t\tk[d] = t;\n\t\tif(idx < s.size()) {\n\t\t\tminus = s[idx] == '-';\n\t\t\tidx++;\n\t\t}\n\t\tss = \"\";\n\t}\n\tvector<ll> ans;\n\tfor(ll i = 5000; i >= -5000; i--) {\n\t\tll sum = 0;\n\t\tfor(int j = 0; j <= 5; j++) {\n\t\t\tif(k[j] == 0) continue;\n\t\t\tll p = 1;\n\t\t\tfor(int c = 0; c < j; c++) {\n\t\t\t\tp *= i;\n\t\t\t}\n\t\t\tsum += k[j] * p;\n\t\t}\n\t\tif(i != 0 && sum == 0) {\n\t\t\tif(i > 0) cout << \"(x\" << -i << \")\";\n\t\t\telse cout << \"(x+\" << -i << \")\";\n\t\t}\n\t}\n\tcout << endl;\n}"
  },
  {
    "language": "C++",
    "code": " #include<bits/stdc++.h>\n using namespace std;\n#define INF 1000000000\n#define REP(i,n) for(int (i)=0;(i)<(int)(n);(i)++)\ntypedef long long LL;\nstring parse[6];\nint N;\nint C[6];\nint A[6];\n//x?????¢???\nint find(string s,char c){\n   REP(i,s.size()){\n       if(s[i]==c){\n          return i;\n       }\n   }\n   return -1;\n}\n//x??????????????°???????????????\nint getC(string s){\n    int num=find(s,'x');\n    if(num==-1){\n       return stoi(s);\n    }else{\n       if(num==0){\n          return 1;\n       }else if(num==1&&s[0]=='-'){\n          return -1;\n       }\n       return stoi(s.substr(0,num));\n    }\n}\n//x?????????????????????\nint getA(string s){\n    int a=find(s,'^');\n    if(a==-1){\n       int b=find(s,'x');\n       if(b==-1){\n          return 0;\n       }else{\n          return 1;\n       }\n    }else{\n       return stoi(s.substr(a+1,s.size()));\n    }\n}\n\n//+???????§£??????\nint split(string s){\n    int count=0;\n    string a=\"\";\n    REP(i,s.size()){\n       if(s[i]=='+'||s[i]=='-'){\n\n          parse[count]=a;\n          a=\"\";\n          if(s[i]=='-'){\n             a=\"-\"+a;\n          }\n          count++;\n          continue;\n       }\n       a.push_back(s[i]);\n    }\n    parse[count]=a;\n    count++;\n    return count;\n}\nbool check(int x){\n   int ans=0;\n   REP(i,N){\n       int sum=1;\n       REP(j,A[i]){\n           sum*=x;\n       }\n       sum*=C[i];\n       ans+=sum;\n   }\n   //cout<<\"x=\"<<x<<\" ans\"<<ans<<endl;\n   return ans==0;\n}\n\nstring solve(){\n   string s=\"\";\n   for(int i=2000;i>=-2000;i--){\n       if(check(i)){\n          if(i<0){\n             s=s+\"(x+\"+to_string(abs(i))+\")\";\n          }else if(i==0){\n             s=s+\"x\";\n          }else{\n             s=s+\"(x-\"+to_string(i)+\")\";\n          }\n       }\n   }\n   return s;\n}\n\nint main(){\n    string s;\n    cin>>s;\n    N=split(s);\n    REP(i,N){\n        //cout<<parse[i]<<endl;\n        C[i]=getC(parse[i]);\n        A[i]=getA(parse[i]);\n        //cout<<C[i]<<\" \"<<A[i]<<endl;\n    }\n    cout<<solve()<<endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<string>\n#include<algorithm>\t\n#include<map>\n#include<set>\n#include<utility>\n#include<cmath>\n#include<cstring>\n#include<queue>\n#include<stack>\n#include<cstdio>\n#include<sstream>\n#include<iomanip>\n#define loop(i,a,b) for(int i=a;i<b;i++) \n#define rep(i,a) loop(i,0,a)\n#define pb push_back\n#define all(in) in.begin(),in.end()\n#define shosu(x) fixed<<setprecision(x)\nusing namespace std;\n//kaewasuretyuui\ntypedef long long ll;\ntypedef pair<int,int> pii;\ntypedef vector<ll> vi;\ntypedef vector<vi> vvi;\ntypedef vector<pii> vp;\ntypedef vector<vp> vvp;\ntypedef vector<string> vs;\ntypedef vector<double> vd;\ntypedef vector<vd> vvd;\ntypedef pair<int,pii> pip;\ntypedef vector<pip>vip;\nconst double PI=acos(-1);\nconst double EPS=1e-7;\nconst int inf=1e8;\nint dx[4]={0,1,0,-1};\nint dy[4]={1,0,-1,0};\nstring s;\nvi in;\nint f(int a){\n\tint out=0;\n\tbool h=false;\n\twhile(a&&isdigit(s[a-1]))a--;\n\tif(a&&s[a-1]=='-')h=true;\n\twhile(isdigit(s[a])){\n\t\tout*=10;\n\t\tout+=s[a]-'0';\n\t\ta++;\n\t}\n\tif(h)out*=-1;\n\treturn out;\n}\nvi ya;\nint m;\nvi out;\nint dfs(int a,int b){\n\tif(a==m){\n\t\t//out\n\t\tll q=1;\n\t\trep(i,m)q*=out[i];\n\t\tif(q!=in[0])return 0;\n\t\tq=0;\n\t\trep(i,m)q+=out[i];\n\t\tif(q!=in[m-1])return 0;\n\t\tq=0;\n\t\trep(i,m)rep(j,m)if(i!=j)q+=out[i]*out[j];\n//\t\trep(i,m)cout<<\" \"<<out[i];cout<<endl;\n\t\tif(q/2!=in[m-2])return 0;\n\t\trep(i,m)printf(\"(x%+d)\",out[i]);//cout<<\" \"<<out[i];cout<<endl;\n\t\tcout<<endl;\n\t\treturn 1;\n\t}\n\trep(i,ya.size())if(abs(in[0])%abs(b*ya[i])==0){\n\t\tout[a]=ya[i];\n\t\tif(dfs(a+1,b*ya[i]))return 1;\n\t\tout[a]=0;\n\t}\n\treturn 0;\n}\nint main(){\n\tcin>>s;\n\ts=\"1\"+s;\n\tin=vi(6);\n\tint n=s.size();\n\trep(i,n)if(s[i]=='x'){\n\t\tif(s[i+1]=='^')in[s[i+2]-'0']=f(i-1);\n\t\telse in[1]=f(i-1);\n\t}\n\tin[0]=f(n-1);\n\tm=5;\n\twhile(in[m]==0)m--;\n\tout=vi(m);\n//\trep(i,6)cout<<\" \"<<in[i];cout<<endl;\n\tloop(i,1,2010)if(abs(in[0])%i==0){\n\t\tya.pb(i);\n\t\tya.pb(-i);\n\t}\n//\trep(i,ya.size())cout<<\" \"<<ya[i];cout<<endl;\n\tdfs(0,1);\n}\n\n\n/*int n,m;\nvvi in;\ndouble h;\nstruct UnionFind{\n    vector<int> data;\n    UnionFind(int size) : data(size, -1) {}\n    bool unionSet(int x,int y){\n        x=root(x);y=root(y);\n        if(x==y)return 0;\n        if(data[y]<data[x])swap(x,y);\n        data[x]+=data[y],data[y]=x;\n        return 1;\n    }\n    bool findSet(int x,int y){\n        return root(x)==root(y);\n    }\n    int root(int x){\n        return data[x]<0 ? x : data[x]=root(data[x]);\n    }\n    int size(int x){\n        return -data[root(x)];\n    }\n};\ndouble l,r;\nbool f(){\n\tUnionFind uf(n);\n\tll c=0,d=0;\n\trep(i,m){\n\t\tdouble t=(double)in[i][2]/in[i][3];\n\t\tif(t<h){\n\t\t\tuf.unionSet(in[i][0],in[i][1]);\n\t\t\tc+=in[i][2];d+=in[i][3];\n\t\t}else{\n\t\t\tif(uf.findSet(in[i][0],in[i][1])==0){\n\t\t\t\tif((double)(c+in[i][2])/(d+in[i][3])<h)continue;\n\t\t\t\tcout<<c<<\" \"<<d<<endl;\n\t\t\t\tcout<<in[i][0]<<\" \"<<in[i][1]<<endl;\n\t\t\t\tuf.unionSet(in[i][0],in[i][1]);\n\t\t\t\tc+=in[i][2];d+=in[i][3];\n\t\t\t}\n\t\t}\n\t}\n\tcout<<l<<\" \"<<r<<\" \"<<h<<\" \"<<uf.size(0)<<endl;\n\tif(uf.size(0)==n)return true;\n\treturn false;\n}\nint main(){\n\tcin>>n>>m;\n\tin=vvi(m,vi(4));\n\trep(i,m)rep(j,4)cin>>in[i][j];\n\trep(i,m)swap(in[i][2],in[i][3]);\n\trep(i,m)rep(j,m)if(i!=j){\n\t\tif((double)in[i][3]/in[i][2]<(double)in[j][3]/in[j][2])swap(in[i],in[j]);\n\t}\n\trep(i,m){rep(j,4)cout<<\" \"<<in[i][j];cout<<endl;}\n\tl=0,r=1e10+2;\n\twhile(r-l>EPS){\n\t\th=(l+r)/2;\n\t\tif(f())r=h;\n\t\telse l=h;\n\t}\n\tcout<<l<<\" \"<<r<<endl;\n}\n//*/"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long int64;\n\nvector< int64 > Divisor(int64 n)\n{\n  vector< int64 > ret;\n  for(int64 i = 1; i * i <= n; i++) {\n    if(n % i == 0) {\n      ret.push_back(i);\n      if(i * i != n) ret.push_back(n / i);\n    }\n  }\n  sort(begin(ret), end(ret));\n  return (ret);\n}\n\n\nint main()\n{\n  int aa[6] = {};\n  string S;\n\n  cin >> S;\n\n  string buff;\n  bool rev = false;\n  for(int i = 0; i <= S.size(); i++) {\n    if(i == S.size() || S[i] == '+' || S[i] == '-') {\n      int fg = 0, ptr = 0;\n      if(isdigit(buff[ptr])) {\n        while(ptr < buff.size() && isdigit(buff[ptr])) {\n          fg = fg * 10 + buff[ptr++] - '0';\n        }\n        if(ptr == buff.size()) {\n          aa[0] += fg * (rev ? -1 : 1);\n          continue;\n        }\n      }\n      ++ptr;\n      ++ptr;\n      int ps = 0;\n      while(ptr < buff.size() && isdigit(buff[ptr])) {\n        ps = ps * 10 + buff[ptr++] - '0';\n      }\n      aa[max(1, ps)] = max(1, fg) * (rev ? -1 : 1);\n      buff.clear();\n      if(S[i] == '-') rev = true;\n      else rev = false;\n    } else {\n      buff += S[i];\n    }\n  }\n\n  int big = 0;\n  for(int i = 0; i <= 5; i++) {\n    if(aa[i] != 0) big = i;\n  }\n\n\n  vector< int64 > beet_puro = Divisor(abs(aa[0]));\n\n  for(int64 i: beet_puro) {\n\n    for(int64 j : beet_puro) {\n      for(int64 k : beet_puro) {\n        for(int64 l : beet_puro) {\n          int64 fact = i * j * k * l;\n          if(fact > abs(aa[0])) continue;\n          if(aa[0] % fact != 0) continue;\n          int64 m = abs(aa[0]) / fact;\n\n          for(int n = 0; n < (1 << 5); n++) {\n            bool ismatch = true;\n            vector< int64 > vs = {i, j, k, l, m};\n\n\n            for(int64 ei = 0; ei < 5; ei++) {\n              if(ei >= big) {\n                vs[ei] = 0;\n              } else if((n >> ei) & 1) vs[ei] *= -1;\n\n            }\n\n            vector< int64 > proc(6, 0);\n            for(int ei = 0; ei < (1 << 5); ei++) {\n              int odd = __builtin_popcount(ei);\n              int64 facto = 1;\n              for(int latte = 0; latte < 5; latte++) {\n                if((ei >> latte) & 1) facto *= vs[latte];\n              }\n              if(big - odd >= 0) proc[big - odd] += facto;\n            }\n\n\n            for(int malta = 0; malta < 5; malta++) {\n              if(proc[malta] != aa[malta]) {\n                ismatch = false;\n                break;\n              }\n            }\n\n\n            if(ismatch) {\n              sort(begin(vs), end(vs));\n              for(int uku = 0; uku < vs.size(); uku++) {\n                if(vs[uku] == 0) continue;\n                cout << \"(x\";\n                if(vs[uku] > 0) cout << \"+\";\n                cout << vs[uku] << \")\";\n              }\n              cout << endl;\n              return (0);\n            }\n\n          }\n        }\n      }\n    }\n  }\n\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <string>\nusing namespace std;\ntypedef pair<int,int> P;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<P> vp;\ntypedef long long ll;\nconst int inf=1<<30;\n\nstring s;\n\nint main(){\n\tcin>>s;\n\tvi a(6);\n\ts+=\"+\";\n\tint t=0,I;\n\tfor(int i=0;i<s.size();i++) if(s[i]=='+'||s[i]=='-'){\n\t\tint t_=i;\n\t\tbool flag=0;\n\t\tfor(int j=t;j<i;j++) if(s[j]=='x') flag=1;\n\t\tif(!flag) I=0;\n\t\telse if(s[i-1]=='x'){\n\t\t\tI=1;\n\t\t\tt_--;\n\t\t}\n\t\telse{\n\t\t\tI=s[i-1]-'0';\n\t\t\tt_-=3;\n\t\t}\n\t\tbool tmp=(s[t]=='+'||!t);\n\t\tint num=0;\n\t\tif(t==t_) num=1;\n\t\telse for(int j=t+1;j<t_;j++) (num*=10)+=s[j]-'0';\n\t\ta[I]=(tmp?1:-1)*num;\n\t\tt=i;\n\t}\n\tfor(int i=2000;i>=-2000;i--) if(i){\n\t\tll sum=0;\n\t\tfor(int j=0;j<6;j++){\n\t\t\tll num=1;\n\t\t\tfor(int k=0;k<j;k++) num*=i;\n\t\t\tsum+=a[j]*num;\n\t\t}\n\t\tif(sum==0){\n\t\t\tint I=i*(-1);\n\t\t\tcout<<\"(x\";\n\t\t\tif(I>0) cout<<'+';\n\t\t\tcout<<I<<')';\n\t\t}\n\t}\n\tcout<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\n\n\nstring st;\nint a;\nint getnum() {\n\tint num=0;\n\twhile (a != st.size()&&isdigit(st[a])) {\n\t\tnum*=10;\n\t\tnum+=st[a]-'0';\n\t\ta++;\n\t}\n\treturn num;\n}\nvector<int>kou() {\n\tvector<int>v(10);\n\tif (st[a] == 'x') {\n\t\ta++;\n\t\tassert(st[a]=='^');\n\t\ta++;\n\t\tint n(getnum());\n\t\tv[n]=1;\n\t}\n\telse {\n\t\tint kei(getnum());\n\t\tif (a == st.size() || st[a] == '+' || st[a] == '-') {\n\t\t\tv[0]=kei;\n\t\t\t\n\t\t}\n\t\telse {\n\t\t\tassert(st[a]=='x');\n\t\t\ta++;\n\t\t\tif (a == st.size() || st[a] == '+' || st[a] == '-') {\n\t\t\t\tv[1]=kei;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tassert(st[a]=='^');\n\t\t\t\ta++;\n\t\t\t\tint num(getnum());\n\t\t\t\tv[num]=kei;\n\t\t\t}\n\t\t}\n\t}\n\treturn v;\n}\nvector<int>takou() {\n\tvector<int>v(kou());\n\twhile(a != st.size()) {\n\t\tbool plus=true;\n\t\tplus=st[a]=='+';\n\t\ta++;\n\t\tvector<int>w(kou());\n\t\tif (plus) {\n\t\t\tfor (int i = 0; i < 10; ++i) {\n\t\t\t\tv[i]+=w[i];\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tfor (int i = 0; i < 10; ++i) {\n\t\t\t\tv[i]-=w[i];\n\t\t\t}\n\t\t}\n\t}\n\treturn v;\n\t\t\n}\nlong long int pow_int(long long int a, int b) {\n\tif(b==0)return 1;\n\telse {\n\t\treturn a*pow_int(a,b-1);\n\t}\n}\nint main() {\n\tcin>>st;\n\ta=0;\n\tauto v(takou());\n\tvector<long long int>anss;\n\tfor (long long int i = -4000; i <= 4000; ++i) {\n\t\tlong long int sum=0;\n\t\tfor (int j = 0; j <= 5; ++j) {\n\t\t\tsum+=pow_int(i,j)*v[j];\n\t\t}\n\t\tif (sum == 0) {\n\t\t\tanss.push_back(i);\n\t\t}\n\t}\n\treverse(anss.begin(),anss.end());\n\n\tfor (auto ans : anss) {\n\t\tcout<<\"(x\";\n\t\tif (ans > 0) {\n\t\t\tcout<<\"-\"<<ans;\n\t\t}\n\t\telse {\n\t\t\tcout<<\"+\"<<-ans;\n\t\t}\n\t\tcout<<\")\";\n\t}\n\tcout<<endl;\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\ntypedef pair<int,int>P;\nint p,t,pp;\nstring s;\nbool a[100000];\nint main(){\n  cin>>s;\n  vector<P>v;\n  while(s.size()>p){\n    int res=0,ret,o=0,f=0;\n    if(s[p]=='+')p++;\n    if(s[p]=='-')f++,p++;\n    a[pp++]=f;\n    while(isdigit(s[p])){\n      res=res*10+(s[p++]-'0');\n    }\n    if(s[p]=='x'){\n      p++;o++;\n      if(s[p]=='^'){\n        ret=(s[++p]-'0');\n        p++;\n      }\n      else ret=1;\n    }\n    if(!res)res=1;\n    if(f&&!o)res*=(-1);\n    if(o)v.push_back(P(res,ret));\n    else t=res;\n  }\n  for(int i=abs(t);i>=-abs(t);i--){\n    int res=t;\n    for(int j=0;j<v.size();j++){\n      if(a[j])res-=v[j].first*pow(i,v[j].second);\n      else res+=v[j].first*pow(i,v[j].second);\n    }\n    if(!res){\n      if(i>0)cout<<\"(x\"<<(-i)<<')';\n      else cout<<\"(x+\"<<(-i)<<')';\n    }\n  }\n  cout<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <sstream>\n#include <algorithm>\n\nusing namespace std;\n\n#define rep(i,n) for(int i = 0;i < n;i++)\n#define int long long\n\n\nstring tostr(int i) {\n\tstringstream ss;\n\tss << i;\n\treturn ss.str();\n}\n\nint toint(string s) {\n\tstringstream ss(s);\n\tint i;\n\tss >> i;\n\treturn i;\n}\n\n\nsigned main() {\n\n\tstring s;\n\tcin >> s;\n\tint c = s[2] - '0';\n\tvector<int> a(c + 1);\n\ta[c] = 1;\n\n\trep(i, s.size()) {\n\t\tif (s[i] == '+' || s[i] == '-') {\n\t\t\tint j;\n\t\t\tfor (j = i; j < s.size() && s[j] != 'x'; j++);\n\t\t\tint k = 0;\n\t\t\tif (s[j] == 'x') {\n\t\t\t\tif (s[j + 1] == '^') {\n\t\t\t\t\tk = s[j + 2] - '0';\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tk = 1;\n\t\t\t\t}\n\t\t\t\tj--;\n\t\t\t}\n\t\t\tstring t;\n\t\t\tif (j - i == 0) {\n\t\t\t\tt = \"1\";\n\t\t\t}\n\t\t\telse {\n\t\t\t\tt = s.substr(i + 1, j - i);\n\t\t\t}\n\n\t\t\tint m = toint(t);\n\t\t\tif (s[i] == '-') m *= -1;\n\t\t\ta[k] = m;\n\t\t}\n\t}\n\n\tvector<int> ans;\n\n\tfor (int x = -2 * 1000; x <= 2 * 1000; x++) {\n\t\tint sum = 0;\n\t\trep(i, a.size()) {\n\t\t\ta[i];\n\t\t\t//i\n\t\t\tint px = 1;\n\t\t\tfor (int j = 0; j < i; j++) {\n\t\t\t\tpx *= x;\n\t\t\t}\n\t\t\tsum += a[i] * px;\n\t\t}\n\t\tif (sum == 0) {\n\t\t\tans.push_back(-x);\n\t\t}\n\t}\n\n\tstring l = \"(x\";\n\tstring r = \")\";\n\n\treverse(ans.begin(), ans.end());\n\n\trep(i, ans.size()) {\n\t\tcout << l;\n\t\tif (ans[i] > 0) {\n\t\t\tcout << \"+\";\n\t\t}\n\t\tcout << ans[i];\n\t\tcout << r;\n\t}\n\tcout << endl;\n\n\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <cstdio>\n\nusing namespace std;\nusing LL = long long;\n\nLL solve(const int p[6], LL x) {\n    LL ret = 0;\n    for (int i = 0; i < 6; i++) {\n        if (p[i]) {\n            LL p_ = p[i];\n            for (int j = 0; j < i; j++) {\n                p_ *= x;\n            }\n            ret += p_;\n        }\n    }\n    return ret;\n}\n\nint main() {\n    string S;\n    cin >> S;\n\n    S = \"+\" + S;\n    S += \"x^0\";\n\n    int P[6]{};\n\n    for (int i = 0; i < S.length(); i++) {\n        int pos = S.find_first_of('x', i);\n        if (pos == S.npos) break;\n        int e, c = 0;\n        //\n        if (S[pos + 1] != '^') {\n            e = 1;\n        } else {\n            e = S[pos + 2] - '0';\n        }\n        //\n        for (int j = pos - 1, k = 1;; j--, k *= 10) {\n            if (S[j] != '+' && S[j] != '-') {\n                c += (S[j] - '0') * k;\n            } else {\n                if (c == 0) c = 1;\n                if (S[j] == '-') c = -c;\n                break;\n            }\n        }\n        P[e] = c;\n        i = pos + 1;\n    }\n\n    vector<int> ans;\n\n    for (int x = -abs(P[0]); x <= abs(P[0]); x++) {\n        if (x == 0 || P[0] % x != 0) continue;\n        if (solve(P, x) == 0) ans.push_back(-x);\n    }\n\n    sort(ans.begin(), ans.end());\n\n    for (int x : ans) {\n        printf(\"(x%+d)\", x);\n    }\n\n    cout << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <cmath>\n\nstd::pair<int, int> item(const std::string& s)\n{\n    int N = s.size(), cur = 0;\n    std::string coef, expo;\n    bool xf = 0;\n    \n    while (cur < N && s[cur] != 'x') {\n        coef += s[cur++];\n    }\n    \n    xf = (cur < N && s[cur] == 'x');\n    cur += (cur + 1 < N && s[cur + 1] == '^' ? 2 : 1);\n\n    while (cur < N) {\n        expo += s[cur++];\n    }\n\n    coef = (coef.empty() ? \"1\" : coef);\n    expo = (expo.empty() ? (xf ? \"1\" : \"0\") : expo);\n    \n    return std::make_pair(stoi(coef), stoi(expo)); \n}\n\nint main()\n{\n    std::string s, t;\n    std::cin >> s;\n    \n    using ll = long long;\n    std::vector<char> op;\n    std::vector<std::pair<ll, ll>> f;\n    \n    ll N = 0;\n    for (char c : s) {\n        if (c == '+' || c == '-') {\n            f.emplace_back(item(t));\n            op.emplace_back(c);\n            \n            N = std::max(N, f.back().second);\n            t.clear();\n        } else {\n            t += c;            \n        }\n    }    \n    f.emplace_back(item(t));\n    \n    for (ll i = 2525, cnt = 0; cnt < N; i--) {        \n        ll res = f[0].first * pow(i, f[0].second);\n        for (int j = 1; j < (int)f.size(); j++) {\n            if (op[j - 1] == '+') {\n                res += f[j].first * pow(i, f[j].second);\n            } else {\n                res -= f[j].first * pow(i, f[j].second);\n            }\n        }\n        if (res == 0) {\n            cnt += 1;\n            std::cout << \"(x\" << (i > 0 ? \"-\" : \"+\") << std::to_string(abs(i)) + \")\";\n        }\n    }\n    std::cout << std::endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _CRT_SECURE_NO_WARNINGS\n#define _USE_MATH_DEFINES\n\n#include \"bits/stdc++.h\"\n#include <random>\nusing namespace std;\n#define rep(i,n) for(int i=0;i<(n);++i)\n#define rep2(i,a,b) for(int i=(a);i<(b);++i)\n#define rrep(i,n) for(int i=(n)-1;i>=0;--i)\n#define rrep2(i,a,b) for(int i=(a)-1;i>=b;--i)\n#define range(i,a,b,c) for(int i=a;\\\n                    c>0?i<b:\\\n                    i>b;\\\n                    i+=c)\n#define chmax(a, b) (a = (a) < (b) ? (b) : (a))\n#define chmin(a, b) (a = (a) > (b) ? (b) : (a))\nusing ll = long long;\nusing ull = unsigned long long;\nusing ld = long double;\n#define all(a) begin(a),end(a)\n#define ifnot(a) if(not (a))\n#define dump(x)  cerr << #x << \" = \" << (x) << endl\n#define int long long\n#ifdef _MSC_VER\nconst bool test = true;\n#else \nconst bool test = false;\n#endif\n\nint dx[] = { 1,0,-1,0 };\nint dy[] = { 0,1,0,-1 };\nconst int INF = 1 << 28;\nconst ll INFL = (ll)1 << 58;\nll mod = (int)1e9 + 7;\nconst double eps = 1e-10;\ntypedef long double Real;\n// return -1, 0, 1\nint sgn(const Real& r) { return (r > eps) - (r < -eps); }\nint sgn(const Real& a, const Real &b) { return sgn(a - b); }\n\n//.....................\nconst int MAX = (int)2e5 + 5;\n\nvector<string> split(const string &str, char sep) {\n\tvector<string> v;\n\tstringstream ss(str);\n\tstring buffer;\n\twhile (getline(ss, buffer, sep)) {\n\t\tv.push_back(buffer);\n\t}\n\treturn v;\n}\n\ntemplate<class InputIterator>\nint sum(InputIterator begin, InputIterator end) {\n\treturn accumulate(begin, end, 0ll);\n}\n\nstring reverse_str(string s) {\n\treverse(all(s));\n\treturn s;\n}\n\n//double dist(double a, double b) {\n//\twhile (ans < 0) ans += 360;\n//\twhile (ans > 360) ans -= 360;\n//\n//\twhile (ans < 0) ans += 360;\n//\twhile (ans > 360) ans -= 360;\n//}\n\nstring s;\n\nint eval(int a[], int x) {\n\tint val = 0;\n\trrep(i, 10) {\n\t\tval = val * x + a[i];\n\t}\n\treturn val;\n}\n\nvector<int> find_ans(int a[]) {\n\tvector<int> ans;\n\trrep2(i, 10000, -10000) {\n\t\tif (eval(a, i) == 0) ans.push_back(i);\n\t}\n\treturn ans;\n}\n\nvoid solve() {\n\tint a[10] = {};\n\tcin >> s;\n\ts.insert(s.begin(), '+');\n\t// dump(atoi(\"-10\"));\n\trep(i, s.size()) {\n\t\tint v = 1;\n\t\tif (s[i] == '+' || s[i] == '-' || isdigit(s[i])) {\n\t\t\t//dump(s.c_str() + i);\n\t\t\tif (s[i + 1] == 'x') {\n\t\t\t\tif (s[i] == '+') v = 1;\n\t\t\t\telse v = -1;\n\t\t\t}\n\t\t\telse v = atoi(s.c_str() + i);\n\t\t\twhile (s[i] == '+' || s[i] == '-' || isdigit(s[i])) i++;\n\t\t}\n\t\tif (s[i] != 'x') {\n\t\t\ta[0] += v;\n\t\t\tcontinue;\n\t\t}\n\t\ti++;\n\t\tif (s[i] != '^') {\n\t\t\ta[1] += v;\n\t\t\ti--;\n\t\t\tcontinue;\n\t\t}\n\t\ti++;\n\t\ta[s[i] - '0'] += v;\n\t}\n\t//if (test) {\n\t//\trrep(i, 10) {\n\t//\t\tcout << a[i] << \" \";\n\t//\t}\n\t//\tcout << endl;\n\t//}\n\t//dump(eval(a, -1));\n\t//dump(eval(a, -2));\n\t//dump(eval(a, 1));\n\t//dump(eval(a, 2));\n\tvector<int> ans = find_ans(a);\n\trep(i, ans.size()) {\n\t\tchar op = ans[i] > 0 ? '-' : '+';\n\t\tcout << \"(x\" << op << abs(ans[i]) << \")\";\n\t}\n\tcout << endl;\n}\n\nsigned main() {\n\tsrand(time(NULL));\n\tint T = (int)1e15;\n\tsolve();\n\tcout << fixed << setprecision(15);\n\trep(i, T) {\n\t\tchar s[MAX];\n\t\tif (scanf(\"%s\", s) == EOF) break;\n\t\tint n = strlen(s);\n\t\tfor (int i = n - 1; i > -1; i--) {\n\t\t\tungetc(s[i], stdin);\n\t\t}\n\t\tsolve();\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <vector>\n#include <queue>\n#include <string>\n#include <algorithm>\n#include <iostream>\n#include <string>\n#include <cctype>\n#include <map>\n#include <set>\n#include <functional>\n#include <iostream>\n#define MOD 1000000007LL\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> P;\ntypedef string::const_iterator State;\n\nstring str;\nint val[6];\nbool flag=false;\n\nint number(State &begin){\n\tint ret=0;\n\twhile(isdigit(*begin)){\n\t\tret*=10;\n\t\tret+=*begin-'0';\n\t\tbegin++;\n\t}\n\treturn ret;\n}\n\nvoid term(State &begin){\n\tint v=number(begin);\n\tif(v==0)v=1;\n\tbool used=false;\n\twhile(1){\n\t\tif(*begin=='x'){\n\t\t\tbegin++;\n\t\t\tif(*begin=='^'){\n\t\t\t\tbegin++;\n\t\t\t\tint p=number(begin);\n\t\t\t\tval[p]=v;\n\t\t\t\tif(flag)val[p]*=-1;\n\t\t\t}else{\n\t\t\t\tval[1]=v;\n\t\t\t\tif(flag)val[1]*=-1;\n\t\t\t}\n\t\t\tflag=false;\n\t\t\tused=true;\n\t\t}else if(*begin=='+'){\n\t\t\tbegin++;\n\t\t\tif(!used){\n\t\t\t\tval[0]=v;\n\t\t\t\tif(flag)val[0]*=-1;\n\t\t\t\tflag=false;\n\t\t\t}\n\t\t\tterm(begin);\n\t\t\tbreak;\n\t\t}else if(*begin=='-'){\n\t\t\tbegin++;\n\t\t\tif(!used){\n\t\t\t\tval[0]=v;\n\t\t\t\tif(flag)val[0]*=-1;\n\t\t\t\tflag=false;\n\t\t\t}\n\t\t\tflag=true;\n\t\t\tterm(begin);\n\t\t\tbreak;\n\t\t}else{\n\t\t\tif(!used){\n\t\t\t\tval[0]=v;\n\t\t\t\tif(flag)val[0]*=-1;\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t}\n\t\n}\n\nbool check(int v){\n\tll sum=val[0];\n\tll p=v;\n\tfor(int i=1;i<=5;i++){\n\t\tsum+=(ll)val[i]*p;\n\t\tp=(ll)p*v;\n\t}\n\treturn (sum==0);\n}\n\nint main(void){\n\tcin >> str;\n\tState begin=str.begin();\n\tterm(begin);\n\tfor(int i=2000;i>=-2000;i--){\n\t\tif(check(i)){\n\t\t\tif(i>=0)cout << \"(x-\" << i << \")\";\n\t\t\telse cout << \"(x+\" << -i << \")\";\n\t\t}\n\t}\n\tcout << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nusing VI = vector<int>;\nusing VVI = vector<VI>;\nusing PII = pair<int, int>;\nusing LL = long long;\nusing VL = vector<LL>;\nusing VVL = vector<VL>;\nusing PLL = pair<LL, LL>;\nusing VS = vector<string>;\n\n#define ALL(a)  begin((a)),end((a))\n#define RALL(a) (a).rbegin(), (a).rend()\n#define PB push_back\n#define EB emplace_back\n#define MP make_pair\n#define SZ(a) int((a).size())\n#define SORT(c) sort(ALL((c)))\n#define RSORT(c) sort(RALL((c)))\n#define UNIQ(c) (c).erase(unique(ALL((c))), end((c)))\n\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n)  FOR(i,0,n)\n\n#define FF first\n#define SS second\ntemplate<class S, class T>\nistream& operator>>(istream& is, pair<S,T>& p){\n  return is >> p.FF >> p.SS;\n}\ntemplate<class S, class T>\nostream& operator<<(ostream& os, const pair<S,T>& p){\n  return os << p.FF << \" \" << p.SS;\n}\ntemplate<class T>\nvoid maxi(T& x, T y){\n  if(x < y) x = y;\n}\ntemplate<class T>\nvoid mini(T& x, T y){\n  if(x > y) x = y;\n}\n\n\nconst double EPS = 1e-10;\nconst double PI  = acos(-1.0);\nconst LL MOD = 1e9+7;\n\nint read(string& s, int& i){\n  int res = 0;\n  while(i < SZ(s) && '0' <= s[i] && s[i] <= '9'){\n\tres = res*10 + s[i] - '0';\n\t++i;\n  }\n  return res;\n}\n\nint main(){\n  cin.tie(0);\n  ios_base::sync_with_stdio(false);\n\n  string s;\n  cin >> s;\n  int N = SZ(s);\n\n  int ph = 1;\n  VI coeff(6);\n  for(int i=0;i<N;){\n\tif(s[i] == 'x'){\n\t  ++i; // ^\n\t  ++i;\n\t  int p = read(s, i);\n\t  coeff[p] += ph;\n\t}\n\telse{\n\t  int c = read(s, i);\n\t  if(i < N && s[i] == 'x'){\n\t\t++i;\n\t\tif(i < N && s[i] == '^'){\n\t\t  ++i;\n\t\t  int p = read(s,i);\n\t\t  coeff[p] += c * ph;\n\t\t}\n\t\telse{\n\t\t  coeff[1] += c*ph;\n\t\t}\n\t  }\n\t  else{\n\t\tcoeff[0] += c * ph;\n\t  }\n\t}\n\tif(i < N){\n\t  if(s[i++] == '+')\n\t\tph = 1;\n\t  else\n\t\tph = -1;\n\t}\n  }\n\n  VL ans;\n  for(LL x=-10000;x<=10000;++x){\n\tLL poly = 0;\n\tLL px = 1;\n\tREP(i,6){\n\t  poly += coeff[i] * px;\n\t  px *= x;\n\t}\n\tif(poly == 0)\n\t  ans.PB(x);\n  }\n  RSORT(ans);\n  \n  for(LL rt: ans){\n\tcout << \"(x\" << (rt<0?\"+\":\"-\") << abs(rt) << \")\";\n  }\n  cout << endl;\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "s\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nbool test(vector<int64_t> &K, int64_t a, int n){\n    for(int i=n;i>0;i--){\n        K[i-1]-=K[i]*a;\n    }\n    if(!K[0]){\n        for(int i=0;i<n;i++){\n            K[i]=K[i+1];\n        }\n        K.pop_back();\n        return true;\n    }\n    return false;\n}\n\nint main(){\n    int n;\n    cin.ignore();//x\n    cin.ignore();//^\n    cin>>n;\n    vector<int64_t> k(n+1,0);\n    k[n]=1;\n    string S;\n    cin>>S;\n    int i=0;\n    while(true){\n        int d=0;\n        int f = (S[i]=='+'?1:-1);\n        for(i++;S[i]!='x'&&i<S.size();i++){\n            d*=10;\n            d+=S[i]-'0';\n        }\n        d*=f;\n        if(i==S.size()){\n            k[0]=d;\n            break;\n        }else{\n            i++;\n            if(i<S.size()&&S[i]=='^'){\n                k[S[i+1]-'0']=d;\n                i+=2;\n            }else{\n                k[1]=d;\n            }\n        }\n    }\n    vector<int64_t> ans;\n    for(int i=n;i>0;i--){\n        for(int a=-(k[0]>0?k[0]:-k[0]);a<=(k[0]>0?k[0]:-k[0]);a++){\n            if(!a||k[0]%a) continue;\n            vector<int64_t> K=k;\n            if(test(K,a,i)){\n                k=K;\n                ans.push_back(a);\n                break;\n            }\n        }\n    }\n    sort(ans.begin(), ans.end());\n    for(auto d:ans){\n        cout<<(d>0?\"(x+\":\"(x\")<<d<<')';\n    }\n    cout<<endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main() {\n  string s;\n  int data[6] = {0};\n  \n  cin >> s;\n  int i = 0;\n  int now = 0;\n  while ( i < s.size() ) {\n    bool flag = false;\n    if ( s[i] == '+' ) {\n      i++;\n      now++;\n    } else if ( s[i] == '-' ) {\n      i++;\n      now++;\n      flag = true;\n    }\n    \n    int tmp = 0;\n    if ( '0' <= s[i] && s[i] <= '9' ) { // keisu\n      while ( '0' <= s[i] && s[i] <= '9' ) {\n\ttmp *= 10;\n\ttmp += s[i] - '0';\n\ti++;\n      }\n    }\n    tmp = max(1, tmp);\n    if ( flag ) tmp *= -1;\n    if ( s[i] == 'x' ) {\n      i++;\n      if ( s[i] == '^' ) {\n\ti++;\n\tdata[s[i] - '0'] = tmp;\n\ti++;\n      } else {\n\tdata[1] = tmp;\n      }\n    } else {\n      data[0] = tmp;\n    }\n  }\n\n  /*for ( int i = 0; i < 6; i++ ) {\n    cout << data[i] << \" \";\n  }\n  cout << endl;\n  */\n  vector<int> v;\n  for ( int i = -2000; i <= 2000; i++ ) {\n    int sum = data[0];\n    for ( int j = 1; j < 6; j++ ) sum += data[j] * pow(i, j);\n    if ( sum == 0 ) v.push_back(-i);\n  }\n\n  sort(v.begin(), v.end());\n  for ( int i = 0; i < (int)v.size(); i++ ) {\n    printf(\"(x%+d)\", v[i]);\n  }\n  cout << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <sstream>\n#include <string>\n#include <cstring>\n#include <vector>\n#include <algorithm>\n#include <tuple>\n#include <queue>\n#include <set>\n#include <cstdio>\n#include <climits>\n#include <cmath>\n#include <array>\n#include <functional>\n#include <sstream>\n#include <list>\n#include <set>\nconst int MOD=1000000007;\nconst int INF=1000000000;\nusing namespace std;\ntypedef long long ll;\ntypedef vector<int> vi;\nconst double eps=1e-9;\nconst int inf=1e9;\ntypedef pair<int,int> P;\ntypedef pair<double,int> Pdi;\n\nint ipow(int a,int b)\n{\n  int ans=1;\n  for(int i=0;i<b;i++)\n    {\n      ans=ans*a;\n    }\n  return ans;\n}\nint main(int argc,char const* argv[])\n{\n  int xi[6]={};\n  string s;\n  cin >> s;\n  int k=0;\n  char mi='+';\n  int ind=0;\n  while(s.length()>0)\n    {\n      k=0;\n      if(s[0]=='x')k=1;\n      else while(s[0]!='x'&&!s.empty())\n\t     {\n\t       k=k*10+s[0]-'0';\n\t       s.erase(s.begin());\n\t     }\n      if(!s.empty()&&(s[1]=='+' ||s[1]=='-')){s.insert(s.begin()+1,'1');s.insert(s.begin()+1,'^');}\n      if(!s.empty())s.erase(s.begin(),s.begin()+2);\n      if(s.empty())\n\t{\n\t  ind=0;\n\t  if(mi=='-')k=k*-1;\n\t}\n      else\n\t{\n\t  ind=s[0]-'0';\n\t  if(mi=='-')k=k*-1;\n\t  mi=s[1];\n\t  s.erase(s.begin());\n\t}\n      if(!s.empty())s.erase(s.begin());\n      xi[ind]=k;\n    }\n  int mxi;\n  for(int i=0;i<6;i++)\n    {\n      if(xi[i]!=0)mxi=i;\n    }\n  vector<int> ans;\n  for(int i=1;i<=2000;i++)\n    {\n      ll t=0;\n      for(int j=0;j<6;j++)\n\t{\n\t  t+=xi[j]*ipow(i,j);\n\t}\n      if(t==0)ans.push_back(-i);\n      if(ans.size()>=mxi)break;\n      t=0;\n      for(int j=0;j<6;j++)\n\t{\n\t  t+=xi[j]*ipow(-i,j);\n\t}\n      if(t==0)ans.push_back(i);\n      if(ans.size()>=mxi)break;\n    }\n  sort(ans.begin(),ans.end());\n  for(int i=0;i<ans.size();i++)\n    {\n      char a=ans[i]>0 ? '+':'-';\n      ans[i]=abs(ans[i]);\n      cout << \"(x\" << a << ans[i] << \")\";\n    }\n  cout << endl;\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint ipow(int a,int b){\n    int ans=1;\n    for (int i = 0; i < b; ++i) {\n        ans=ans*a;\n    }\n    return ans;\n}\n\nint main(void){\n    int xi[6]={};\n    string inp;\n    cin>>inp;\n    int k=0;\n    char mi='+';\n    int ind=0;\n    while(inp.length()>0){\n        k=0;\n        if(inp[0]=='x')k=1;\n        else while(inp[0]!='x'&&!inp.empty()){\n            k=k*10+inp[0]-'0';\n            inp.erase(inp.begin());\n        }\n        if(!inp.empty()&&(inp[1]=='+'||inp[1]=='-')){inp.insert(inp.begin()+1,'1');inp.insert(inp.begin()+1,'^');}\n        if(!inp.empty())inp.erase(inp.begin(),inp.begin()+2);\n        if(inp.empty()){\n            ind=0;\n            if(mi=='-')k=k*-1;}\n        else {\n            ind=inp[0]-'0';\n            if(mi=='-')k=k*-1;\n            mi=inp[1];\n            inp.erase(inp.begin());\n        }\n        if(!inp.empty())inp.erase(inp.begin());\n        xi[ind]=k;\n    }\n    int mxi;\n    for (int i = 0; i < 6; ++i) {\n        if(xi[i]!=0)mxi=i;\n    }\n    vector <int> ans;\n    for(int i=1;i<=2000;++i){\n        long long t=0;\n        for (int j = 0; j < 6; ++j) {\n            t+=xi[j]*ipow(i,j);\n        }\n        if(t==0)ans.push_back(-i);\n        if(ans.size()>=mxi)break;\n        t=0;\n        for (int j = 0; j < 6; ++j) {\n            t+=xi[j]*ipow(-i,j);\n        }\n        if(t==0)ans.push_back(i);\n        if(ans.size()>=mxi)break;\n    }\n    sort(ans.begin(),ans.end());\n    for (int i = 0; i < ans.size(); ++i) {\n        char a=ans[i]>0?'+':'-';\n        ans[i]=abs(ans[i]);\n        cout<<\"(x\"<<a<<ans[i]<<\")\";\n    }\n    cout<<endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define ll long long\n#define ALL(x) (x).begin(), (x).end()\n\nusing namespace std;\n\nll f(vector<ll> &a, ll x){\n\treturn a[0] + a[1]*x + a[2]*x*x + a[3]*x*x*x + a[4]*x*x*x*x + a[5]*x*x*x*x*x;\n}\n\nint main(){\n\tstring str;\n\tcin >> str;\n\tvector<ll> a(6,0);\n\tfor(int i = 0; i < str.size(); i++){\n\t\tif(str[i] == '+' || str[i] == '-'){\n\t\t\tint j = i;\n\t\t\twhile(str[j] != 'x' && j < str.size())j++;\n\t\t\tint s;\n\t\t\tif(j < str.size()){\n\t\t\t\tif(j != str.size() && str[j+1] =='^'){\n\t\t\t\t\ts = str[j+2] - '0';\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\ts = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\ts = 0;\n\t\t\t}\n\t\t\ta[s] = stoi(str.substr(i+1,j-i-1));\n\t\t\tif(str[i] == '-'){\n\t\t\t\ta[s] *= -1;\n\t\t\t}\n\t\t}\n\t}\n\tif(str[0] == 'x'){\n\t\tif(str[1] == '^'){\n\t\t\ta[str[2]-'0'] = 1;\n\t\t}\n\t\telse{\n\t\t\ta[1] = 1;\n\t\t}\n\t}\n\tvector<ll> b;\n\tfor(ll i = -2*1000; i <= 2*1000;i++){\n\t\tif(f(a,i) == 0){\n\t\t\tb.push_back(i);\n\t\t}\n\t}\n\tsort(ALL(b));\n\tfor(int i = b.size()-1; i >= 0;i--){\n\t\tcout << \"(x\";\n\t\tif(b[i] > 0){\n\t\t\tcout << \"-\";\n\t\t}\n\t\telse{\n\t\t\tcout << \"+\";\n\t\t}\n\t\tcout << abs(b[i]);\n\t\tcout << \")\";\n\t}\n\tcout << endl;\t\t\n\n\n\treturn 0;\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <sstream>\n#include <algorithm>\n\nusing namespace std;\n\n#define rep(i,n) for(int i = 0;i < n;i++)\n#define int long long\n\n\nstring tostr(int i) {\n\tstringstream ss;\n\tss << i;\n\treturn ss.str();\n}\n\nint toint(string s) {\n\tstringstream ss(s);\n\tint i;\n\tss >> i;\n\treturn i;\n}\n\n\nsigned main() {\n\n\tstring s;\n\tcin >> s;\n\tint c = s[2] - '0';\n\tvector<int> a(c + 1);\n\ta[c] = 1;\n\n\trep(i, s.size()) {\n\t\tif (s[i] == '+' || s[i] == '-') {\n\t\t\tint j;\n\t\t\tfor (j = i; j < s.size() && s[j] != 'x'; j++);\n\t\t\tint k = 0;\n\t\t\tif (s[j] == 'x') {\n\t\t\t\tif (s[j + 1] == '^') {\n\t\t\t\t\tk = s[j + 2] - '0';\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tk = 1;\n\t\t\t\t}\n\t\t\t\tj--;\n\t\t\t}\n\t\t\tauto t = s.substr(i + 1, j - i);\n\t\t\tint m = toint(t);\n\t\t\tif (s[i] == '-') m *= -1;\n\t\t\ta[k] = m;\n\t\t}\n\t}\n\n\tvector<int> ans;\n\n\tfor (int x = -2 * 100000; x <= 2 * 100000; x++) {\n\t\tint sum = 0;\n\t\trep(i, a.size()) {\n\t\t\ta[i];\n\t\t\t//i\n\t\t\tint px = 1;\n\t\t\tfor (int j = 0; j < i; j++) {\n\t\t\t\tpx *= x;\n\t\t\t}\n\t\t\tsum += a[i] * px;\n\t\t}\n\t\tif (sum == 0) {\n\t\t\tans.push_back(-x);\n\t\t}\n\t}\n\n\tstring l = \"(x\";\n\tstring r = \")\";\n\n\treverse(ans.begin(), ans.end());\n\n\trep(i, ans.size()) {\n\t\tcout << l;\n\t\tif (ans[i] > 0) {\n\t\t\tcout << \"+\";\n\t\t}\n\t\tcout << ans[i];\n\t\tcout << r;\n\t}\n\tcout << endl;\n\n\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <string>\nusing namespace std;\ntypedef pair<int,int> P;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<P> vp;\ntypedef long long ll;\nconst int inf=1<<30;\n\nstring s;\n\nint main(){\n\tcin>>s;\n\tvi a(6);\n\ts+=\"+\";\n\tint t=0,I;\n\tfor(int i=0;i<s.size();i++) if(s[i]=='+'||s[i]=='-'){\n\t\tint t_=i;\n\t\tbool flag=0;\n\t\tfor(int j=t;j<i;j++) if(s[j]=='x') flag=1;\n\t\tif(!flag) I=0;\n\t\telse if(s[i-1]=='x'){\n\t\t\tI=1;\n\t\t\tt_--;\n\t\t}\n\t\telse{\n\t\t\tI=s[i-1]-'0';\n\t\t\tt_-=3;\n\t\t}\n\t\tbool tmp=(s[t]=='+'||!t);\n\t\tint num=0;\n\t\tif(t==t_) num=1;\n\t\telse for(int j=t+1;j<t_;j++) (num*=10)+=s[j]-'0';\n\t\ta[I]=(tmp?1:-1)*num;\n\t\tt=i;\n\t}\n\tfor(int i=0;i<6;i++) cout<<a[i]<<endl;\n\tfor(int i=2000;i>=-2000;i--) if(i){\n\t\tll sum=0;\n\t\tfor(int j=0;j<6;j++){\n\t\t\tll num=1;\n\t\t\tfor(int k=0;k<=j;k++) num*=i;\n\t\t\tsum+=a[j]*num;\n\t\t}\n\t\tif(sum==0){\n\t\t\tint I=i*(-1);\n\t\t\tcout<<\"(x\";\n\t\t\tif(I>0) cout<<'+';\n\t\t\tcout<<I<<')';\n\t\t}\n\t}\n\tcout<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\ntypedef long long ll;\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<ll> VL;\ntypedef vector<VL> VVL;\ntypedef pair<int, int> PII;\n\n#define FOR(i, a, n) for (ll i = (ll)a; i < (ll)n; ++i)\n#define REP(i, n) FOR(i, 0, n)\n#define ALL(x) x.begin(), x.end()\n#define MP make_pair\n#define PB push_back\n#define MOD 1000000007\n#define INF (1LL<<30)\n#define LLINF (1LL<<60)\n#define PI 3.14159265359\n#define EPS 1e-12\n//#define int ll\n\nsigned main(void)\n{\n  string s, t = \"\";\n  cin >> s;\n\n  bool a = false, b = false;\n  VI v;\n  REP(i, s.size()) {\n    if(s[i] == 'x') {\n      if(t == \"\") {\n        if(b) v.push_back(-1);\n        else v.push_back(1);\n      }\n      else {\n        if(b) v.push_back(-1*stoi(t));\n        else v.push_back(stoi(t));\n      }\n      t = \"\";\n    } else if(s[i] == '^') {\n      a = false;\n    } else if(s[i] == '+') {\n      if(t == \"\") v.push_back(1);\n      else v.push_back(stoi(t));\n      a = true;\n      b = false;\n      t = \"\";\n    } else if(s[i] == '-') {\n      if(t == \"\") v.push_back(1);\n      else v.push_back(stoi(t));\n      a = true;\n      b = true;\n      t = \"\";\n    } else if(a) {\n      t += s[i];\n    } else if(!a) {\n      t += s[i];\n    }\n  }\n  if(b) v.push_back(-1*stoi(t));\n  else v.push_back(stoi(t));\n\n  VI ans;\n  FOR(i, -2000, 2000) {\n    int tmp = 0, ret = 0;\n    REP(j, v.size()) {\n      if(!(j%2)) tmp = v[j];\n      else {\n        REP(k, v[j]) tmp *= i;\n        ret += tmp;\n      }\n      //cout << tmp << endl;\n    }\n    //cout << \"i:\" << i << \" ret:\" << ret << endl;\n    ret += v[v.size()-1];\n    if(ret == 0) ans.push_back(i);\n  }\n  sort(ALL(ans), greater<int>());\n  for(int i: ans) {\n    cout << \"(x\";\n    if(i>0) cout << \"-\" << i << \")\";\n    else cout << \"+\" << -1*i << \")\";\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <sstream>\n#include <algorithm>\n\nusing namespace std;\n\n#define rep(i,n) for(int i = 0;i < n;i++)\n#define int long long\n\n\nstring tostr(int i) {\n\tstringstream ss;\n\tss << i;\n\treturn ss.str();\n}\n\nint toint(string s) {\n\tstringstream ss(s);\n\tint i;\n\tss >> i;\n\treturn i;\n}\n\n\nsigned main() {\n\n\tstring s;\n\tcin >> s;\n\tint c = s[2] - '0';\n\tvector<int> a(c + 1);\n\ta[c] = 1;\n\n\trep(i, s.size()) {\n\t\tif (s[i] == '+' || s[i] == '-') {\n\t\t\tint j;\n\t\t\tfor (j = i; j < s.size() && s[j] != 'x'; j++);\n\t\t\tint k = 0;\n\t\t\tif (s[j] == 'x') {\n\t\t\t\tif (s[j + 1] == '^') {\n\t\t\t\t\tk = s[j + 2] - '0';\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tk = 1;\n\t\t\t\t}\n\t\t\t\tj--;\n\t\t\t}\n\t\t\tauto t = s.substr(i + 1, j - i);\n\t\t\tint m = toint(t);\n\t\t\tif (s[i] == '-') m *= -1;\n\t\t\ta[k] = m;\n\t\t}\n\t}\n\n\tvector<int> ans;\n\n\tfor (int x = -2 * 1000; x <= 2 * 1000; x++) {\n\t\tint sum = 0;\n\t\trep(i, a.size()) {\n\t\t\ta[i];\n\t\t\t//i\n\t\t\tint px = 1;\n\t\t\tfor (int j = 0; j < i; j++) {\n\t\t\t\tpx *= x;\n\t\t\t}\n\t\t\tsum += a[i] * px;\n\t\t}\n\t\tif (sum == 0) {\n\t\t\tans.push_back(-x);\n\t\t}\n\t}\n\n\tstring l = \"(x\";\n\tstring r = \")\";\n\n\treverse(ans.begin(), ans.end());\n\n\trep(i, ans.size()) {\n\t\tcout << l;\n\t\tif (ans[i] > 0) {\n\t\t\tcout << \"+\";\n\t\t}\n\t\tcout << ans[i];\n\t\tcout << r;\n\t}\n\tcout << endl;\n\n\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n/*{{{*/  //template\n#define rep(i,n) for(int i=0;i<(int)(n);i++)\nconstexpr int INF = numeric_limits<int>::max()/2;\nconstexpr long long LINF = numeric_limits<long long>::max()/3;\n#define mp make_pair\n#define pb push_back\n#define eb emplace_back\n#define fi first\n#define se second\n#define all(v) (v).begin(),(v).end()\n#define sz(x) (int)(x).size()\n#define debug(x) cerr<<#x<<\":\"<<x<<endl\n#define debug2(x,y) cerr<<#x<<\",\"<<#y\":\"<<x<<\",\"<<y<<endl\n//struct fin{ fin(){ cin.tie(0); ios::sync_with_stdio(false); } } fin_;\nstruct Double{ double d; explicit Double(double x) : d(x){} };\nostream& operator<<(ostream& os,const Double x){ os << fixed << setprecision(20) << x.d; return os; }\ntemplate<typename T> ostream& operator<<(ostream& os,const vector<T>& vec){ os << \"[\"; for(const auto& v : vec){ os << v << \",\"; } os << \"]\"; return os; }\ntemplate<typename T,typename U> ostream& operator<<(ostream& os,const pair<T,U>& p){ os << \"(\" << p.first << \",\"<< p.second <<\")\"; return os; }\ntemplate<typename T> ostream& operator<<(ostream& os,const set<T>& st){ os<<\"{\"; for(T v:st) os<<v<<\",\"; os <<\"}\"; return os; }\ntemplate<typename T,typename U> inline void chmax(T &x,U y){ if(y>x) x = y; }\ntemplate<typename T,typename U> inline void chmin(T &x,U y){ if(y<x) x = y; }\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> pii;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\nll gcd(ll a,ll b){ if(b==0) return a; else return gcd(b,a%b); }\n//constexpr double eps = 1e-14; \nconstexpr double eps = 1e-10; \nconstexpr ll mod = 1e9+7;\nconst int dx[]={1,0,-1,0} ,dy[] = {0,1,0,-1};\n/*}}}*/\n\nstruct Item{\n    int coefficient,exponent;\n    Item(int coefficient,int exponent) : coefficient(coefficient),exponent(exponent){}\n};\n\nll pow(ll x,ll e){\n    ll ret = 1;\n    rep(i,e) ret *= x;\n    return ret;\n}\n\nint main(){\n    string s;\n    cin >> s;\n\n    vector<Item> items;\n\n    int index = 0;\n    while(index < s.size()){\n        int a = 1;\n        if(s[index]=='+'){\n            index++;\n        }else if(s[index]=='-'){    // -<係数>x^<指数>の-\n            a *= -1;\n            index++;\n        }\n\n        int c = 1;\n        if(isdigit(s[index])){  // <係数>x^<指数>の係数\n            c = s[index++]-'0';\n            while(isdigit(s[index])){\n                c = c * 10 + s[index++] - '0';\n            }\n        }\n\n        if(index == s.size()){\n            items.push_back(Item(a*c,0));\n            break;\n        }\n\n        assert(s[index] == 'x');\n\n        index++;\n        int expo = 1;\n        if(s[index]=='^'){\n            index++;\n            expo = s[index++]-'0';\n        }\n\n        items.push_back(Item(a*c,expo));\n    }\n\n    vi ans;\n    for(int i=-2000;i<=2000;i++){\n        ll res = 0;\n        for(int j=0;j<items.size();j++){\n            ll tmp = items[j].coefficient * pow(i,items[j].exponent);\n            res += tmp;\n        }\n        if(res == 0){\n            ans.push_back(i);\n        }\n    }\n\n    reverse(all(ans));\n\n    for(int v : ans){\n        v*=-1;\n        if(v == 0) cout << \"x\";\n        else{\n            cout << \"(x\";\n            if(v>0) cout << \"+\" << v;\n            else cout << v;\n            cout << \")\";\n        }\n    }\n    cout << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "/*  -*- coding: utf-8 -*-\n *\n * 3002.cc: \n */\n\n#include<cstdio>\n#include<cstdlib>\n#include<cstring>\n#include<cmath>\n#include<iostream>\n#include<string>\n#include<vector>\n#include<map>\n#include<set>\n#include<stack>\n#include<list>\n#include<queue>\n#include<deque>\n#include<algorithm>\n#include<numeric>\n#include<utility>\n#include<complex>\n#include<functional>\n \nusing namespace std;\n\n/* constant */\n\nconst int MAX_N = 5;\nconst int INF = 1 << 30;\n\n/* typedef */\n\ntypedef pair<int,int> pii;\ntypedef int vec[MAX_N + 1];\n\n/* global variables */\n\nchar s[1024];\n\n/* subroutines */\n\nint num(char *(&cpt)) {\n  int n = 0;\n  while (*cpt >= '0' && *cpt <= '9')\n    n = n * 10 + (*(cpt++) - '0');\n  return n;\n}\n\npii term(char *(&cpt)) {\n  int c = (*cpt != 'x') ? num(cpt) : 1;\n  if (*cpt != 'x') return pii(c, 0);\n\n  cpt++; // 'x'\n  int e = 1;\n  if (*cpt == '^') {\n    cpt++; // '^'\n    e = num(cpt);\n  }\n\n  return pii(c, e);\n}\n\nint expr(char s[], vec fs) {\n  memset(fs, 0, sizeof(vec));\n  char *cpt = s;\n\n  pii t0 = term(cpt);\n  fs[t0.second] = t0.first;\n  int en = t0.second;\n\n  while (*cpt && (*cpt == '+' || *cpt == '-')) {\n    char op = *(cpt++); // '+' || '-'\n    pii t1 = term(cpt);\n    fs[t1.second] = (op == '+') ? t1.first : -t1.first;\n  }\n\n  return en;\n}\n\nint eval(int n, vec fs, int x) {\n  int sum = 0;\n  for (int i = 0, xe = 1; i <= n; i++, xe *= x)\n    sum += fs[i] * xe;\n  return sum;\n}\n\n/* main */\n\nint main() {\n  scanf(\"%s\", s);\n  vec fs;\n  int n = expr(s, fs);\n  //for (int i = n; i >= 0; i--) printf(\"%d \", fs[i]); putchar('\\n');\n\n  vec ans;\n  int k = 0, f0 = abs(fs[0]);\n  for (int p = 1; p * p <= f0; p++)\n    if (f0 % p == 0) {\n      if (eval(n, fs, p) == 0) ans[k++] = -p;\n      if (eval(n, fs, -p) == 0) ans[k++] = p;\n\n      int q = f0 / p;\n      if (q != p) {\n\tif (eval(n, fs, q) == 0) ans[k++] = -q;\n\tif (eval(n, fs, -q) == 0) ans[k++] = q;\n      }\n    }\n  //printf(\"k=%d\\n\", k);\n\n  sort(ans, ans + k);\n  for (int i = 0; i < k; i++) printf(\"(x%+d)\", ans[i]);\n  putchar('\\n');\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define ll long long\n#define int long long\n#define ALL(x) (x).begin(), (x).end()\n\nusing namespace std;\n\nll f(vector<ll> &a, ll x){\n\treturn a[0] + a[1]*x + a[2]*x*x + a[3]*x*x*x + a[4]*x*x*x*x + a[5]*x*x*x*x*x;\n}\n\nsigned main(){\n\tstring str;\n\tcin >> str;\n\tvector<ll> a(10,0);\n\tfor(int i = 0; i < str.size(); i++){\n\t\tif(str[i] == '+' || str[i] == '-'){\n\t\t\tint j = i;\n\t\t\twhile(str[j] != 'x' && j < str.size())j++;\n\t\t\tint s;\n\t\t\tif(j < str.size()){\n\t\t\t\tif(j != str.size() && str[j+1] =='^'){\n\t\t\t\t\ts = str[j+2] - '0';\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\ts = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\ts = 0;\n\t\t\t}\n\t\t\tstring temp = str.substr(i+1,j-i-1);\n\t\t\tbool flag = true;\n\t\t\tfor(auto t : temp){\n\t\t\t\tif(t < '0' || t > '9'){\n\t\t\t\t\tflag =false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(flag && temp.size() > 0){\n\t\t\t\ttry{\n\t\t\t\ta[s] = stoll(temp);\n\t\t\t\t}\n\t\t\t\tcatch(const std::invalid_argument){\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\ta[s] = 1;\n\t\t\t}\n\t\t\tif(str[i] == '-'){\n\t\t\t\ta[s] *= -1;\n\t\t\t}\n\t\t}\n\t}\n\tif(str[0] == 'x'){\n\t\tif(str[1] == '^'){\n\t\t\ta[str[2]-'0'] = 1;\n\t\t}\n\t\telse{\n\t\t\ta[1] = 1;\n\t\t}\n\t}\n\tvector<ll> b;\n\tfor(ll i = -2*1000; i <= 2*1000;i++){\n\t\tif(f(a,i) == 0LL){\n\t\t\tb.push_back(i);\n\t\t}\n\t}\n\tsort(ALL(b));\n\tfor(int i = b.size()-1; i >= 0;i--){\n\t\tcout << \"(x\";\n\t\tif(b[i] > 0){\n\t\t\tcout << \"-\";\n\t\t}\n\t\telse{\n\t\t\tcout << \"+\";\n\t\t}\n\t\tcout << llabs(b[i]);\n\t\tcout << \")\";\n\t}\n\tcout << endl;\t\t\n\n\n\treturn 0;\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\ntypedef long long ll;\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<ll> VL;\ntypedef vector<VL> VVL;\ntypedef pair<int, int> PII;\n\n#define FOR(i, a, n) for (ll i = (ll)a; i < (ll)n; ++i)\n#define REP(i, n) FOR(i, 0, n)\n#define ALL(x) x.begin(), x.end()\n#define MP make_pair\n#define PB push_back\n#define MOD 1000000007\n#define INF (1LL<<30)\n#define LLINF (1LL<<60)\n#define PI 3.14159265359\n#define EPS 1e-12\n//#define int ll\n\nsigned main(void)\n{\n  string s, t = \"\";\n  cin >> s;\n\n  bool a = false, b = false;\n  VI v;\n  REP(i, s.size()) {\n    if(s[i] == 'x') {\n      if(t == \"\") {\n        if(b) v.push_back(-1);\n        else v.push_back(1);\n      }\n      else {\n        if(b) v.push_back(-1*stoi(t));\n        else v.push_back(stoi(t));\n      }\n      t = \"\";\n    } else if(s[i] == '^') {\n      a = false;\n    } else if(s[i] == '+') {\n      if(t == \"\") v.push_back(1);\n      else v.push_back(stoi(t));\n      a = true;\n      b = false;\n      t = \"\";\n    } else if(s[i] == '-') {\n      if(t == \"\") v.push_back(1);\n      else v.push_back(stoi(t));\n      a = true;\n      b = true;\n      t = \"\";\n    } else if(a) {\n      t += s[i];\n    } else if(!a) {\n      t += s[i];\n    }\n  }\n  if(b) v.push_back(-1*stoi(t));\n  else v.push_back(stoi(t));\n\n  VI ans;\n  FOR(i, -2000, 2001) {\n    int tmp = 0, ret = 0;\n    REP(j, v.size()) {\n      if(!(j%2)) tmp = v[j];\n      else {\n        REP(k, v[j]) tmp *= i;\n        ret += tmp;\n      }\n      //cout << tmp << endl;\n    }\n    //cout << \"i:\" << i << \" ret:\" << ret << endl;\n    ret += v[v.size()-1];\n    if(ret == 0) ans.push_back(i);\n  }\n  sort(ALL(ans), greater<int>());\n  for(int i: ans) {\n    cout << \"(x\";\n    if(i>0) cout << \"-\" << i << \")\";\n    else cout << \"+\" << -1*i << \")\";\n  }\n  cout << endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef vector<ll> vec;\ntypedef pair<ll,ll> P;\n\nll s2ll(string s){\n  ll res;\n  stringstream ss;\n  ss<<s;\n  ss>>res;\n  return res;\n}\n\nstring s;\nint p=0;\n\nP change(string s){\n  ll fi,se;\n  if(s.find('x') == string::npos){\n    return P(0, s2ll(s) );\n  }\n  \n  string tmp=\"\";\n  for(int i=0;i<(int)s.size();i++){\n    if(s[i]=='x')break;\n    tmp+=s[i];\n  }\n  if(tmp==\"\")se=1;\n  else se=s2ll(tmp);\n\n  if(s.find('^')==string::npos){\n    fi=1;\n  }else{\n    tmp=\"\";\n    for(int i=0;i<(int)s.size();i++){\n      if(s[i]=='^')tmp=\"\";\n      else tmp+=s[i];\n    }\n    fi=s2ll(tmp);\n  }\n  \n  return P(fi,se);\n}\n\nmap< ll, ll > T;\n\nvoid change(){\n  \n  int p=0,len=s.size();\n  \n  while(p<len){\n    string tmp=\"\";\n    tmp+=s[p];\n    p++;\n    while(p<len&&s[p]!='+'&&s[p]!='-'){\n      tmp+=s[p];\n      p++;\n    }\n    if(tmp[0]=='+'){\n      string tm=tmp.substr(1);\n      P p=change(tm);\n      T[ p.first ]+= p.second;      \n    }else if(tmp[0]=='-'){\n      string tm=tmp.substr(1);\n      P p=change(tm);\n      T[ p.first ]-= p.second;      \n    }else{\n      P p=change(tmp);\n      T[ p.first ]+= p.second;\n    }\n  }\n}\n\nll calc(ll x){\n  ll res=0;\n  ll B=1;\n  \n  for(int i=0;i<=5;i++){\n    res+=B*T[i];\n    B*=x;\n  }\n  return res;\n}\n\nint main(){\n  int N;\n  //  cin>>N;\n  \n  cin>>s;\n  change();\n\n  vec v;\n  for(ll i=-3000;i<=3000;i++){\n    if( calc(i) == 0 )v.push_back(i);\n  }\n\n  sort(v.begin(),v.end());\n  reverse(v.begin(),v.end());\n  \n  for(int i=0;i<v.size();i++){\n    cout<<\"(x\";\n    v[i]*=-1;\n    if(v[i]>0)cout<<\"+\";\n    cout<<v[i]<<\")\";\n  }\n  cout<<endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<sstream>\n#include<vector>\n#include<deque>\n#include<cstdio>\n#include<set>\n#include<cassert>\n#include<algorithm>\n\n#define REP(i,s,n) for(int i=s;i<n;++i)\n#define rep(i,n) REP(i,0,n)\n\nusing namespace std;\ntypedef long long ll;\nconst bool debug = false;\n\ndeque<string> split(string s) {\n  deque<string> deq;\n  int n = (int)s.size();\n  int sp = 0;\n  rep(i,n) {\n    if( s[i] == 'x' ) {\n      int ep = i;\n      if( i+1 < n && s[i+1] == '^' ) {\n\tep = i+2;\n\tassert( i + 2 < n );\n      }\n      deq.push_back(s.substr(sp,ep-sp+1));\n      sp = ep + 1;\n    }\n  }\n  if( sp != n ) {\n    deq.push_back(s.substr(sp));\n  }\n  return deq;\n}\n\nstring getCoef(string s) {\n\n  bool minus = ( s[0] == '-' );\n\n  rep(i,(int)s.size()) {\n    if( s[i] == '+' || s[i] == '-' ) {\n      s[i] = ' ';\n    }\n  }\n  stringstream ss2;\n  ss2 << s;\n  ss2 >> s;\n\n\n  bool found = false;\n  if( s[0] == 'x' ) {\n    if( minus ) return \"-1\";\n    return \"1\";\n  }\n  rep(i,(int)s.size()) {\n    if( s[i] == 'x' ) {\n      s[i] = ' ';\n      found = true;\n    }\n  }\n  if( !found ) {\n    if( minus ) s = \"-\" + s;\n    return s;\n  }\n  stringstream ss;\n  ss << s;\n  string ret;\n  ss >> ret;\n  if( minus ) {\n    ret = \"-\" + ret;\n  }\n  return ret;\n}\n\nint getPcoef(string s) {\n  rep(i,(int)s.size()) {\n    if( s[i] == 'x' ) {\n      if( i + 1 < (int)s.size() && s[i+1] == '^' ) {\n\treturn s[i+2] - '0';\n      } else {\n\treturn 1;\n      }\n    }\n  }\n  return 0;\n}\n\nbool check(ll x,deque<string> &deq) {\n  if( debug ) {\n    puts(\"\");\n    cout << \"check [[ \" << x << \"]]\" << endl;\n  }\n  ll res = 0;\n  rep(i,(int)deq.size()) {\n    ll cost = 0;\n    string s = deq[i];\n    string coef = getCoef(s);\n    int pcoef = getPcoef(s);\n    if( debug ) {\n      cout << deq[i] << \" --> \" << coef << \" * x^[\" << pcoef << \"]\" << endl;\n    }\n    \n    ll v = atoll(coef.c_str());\n    if( debug )cout << \"v = \" << v << endl;\n    ll tmp = 1;\n    rep(_,pcoef) tmp *= x;\n    cost = v * tmp;\n    if( debug ){\n      cout << \"cost = \" << cost << endl;\n    }\n    res += cost;\n  }\n  return res == 0;\n}\n\nint getDegree(string  s) {\n  int ret = 0;\n  int n = (int)s.size();\n  rep(i,(int)s.size()) {\n    if( s[i] == 'x' ) {\n      if( i+1 < n && s[i+1] == '^' ) {\n\tassert( i + 2 < n );\n\tret = max(ret,s[i+2]-'0');\n      } else {\n\tret = max(ret,1);\n      }\n    }\n  }\n  return ret;\n}\n\nvoid compute(string s) {\n  int deg = getDegree(s);\n  if( debug ) cout << \"degree = \" << deg << endl;\n  deque<string> deq = split(s);\n  if( debug ) {\n    cout << \"split --\" << endl;\n    rep(i,(int)deq.size()) {\n      cout << deq[i] << \" :: \";\n    } puts(\"\");\n  }\n\n  set<int> S;\n  rep(i,(int)deq.size()) {\n    S.insert(getPcoef(deq[i]));\n  }\n  assert( (int)S.size() == (int)deq.size() );\n\n\n  /*\n  cout << check(-2,deq) << endl;\n  return;\n  */\n\n  vector<ll> ans;\n  for(ll i=1;;++i) {\n    if( check(i,deq) ) ans.push_back(i);\n    if( check(-i,deq) ) ans.push_back(-i);\n    if( (int)ans.size() >= deg ) break;\n  }  \n  sort(ans.begin(),ans.end(),greater<int>());\n  rep(i,(int)ans.size()) {\n    if( ans[i] == 0) {\n      cout <<\"x\";\n    } else {\n      cout << \"(x\";\n      if(ans[i]<0LL) cout << \"+\" << -ans[i] << \")\";\n      else           cout  << \"-\" << ans[i] << \")\";\n    }\n  } puts(\"\");\n}\n\nint main() {\n  string s;\n  cin >> s;\n  compute(s);\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef long double ld;\nusing P   = pair<ll, ll>;\nusing mat = vector<vector<ll>>;\ntypedef string::const_iterator State;\nclass ParseError {};\n\nvoid IOS() { ios::sync_with_stdio(false), cin.tie(0); }\n\nconst ll INF = 1e16;\nconst ll MOD = 1e9 + 7;\nconst ld EPS = 1e-12;\n\ntemplate <typename T>\nvoid dump(T x) { cout << x << endl; }\nvoid dumpf(ld x, int t) { cout << setprecision(t) << fixed << x << endl; }\ntemplate <typename A, size_t N, typename T>\nvoid Fill(A (&array)[N], const T &val) {\n\tfill((T *)array, (T *)(array + N), val);\n}\ninline ll mod(ll a, ll b) {\n\tif (a > 0) return a % b;\n\tif (a % b == 0) return 0;\n\tll x = -a / b + 1;\n\ta += x * b;\n\treturn a % b;\n}\nll powm(ll a, ll b, ll c) {\n\tif (b == 0)\n\t\treturn 1;\n\telse if (b % 2 == 0) {\n\t\tll d = powm(a, b / 2, c);\n\t\treturn (d * d) % c;\n\t} else\n\t\treturn (a * powm(a, b - 1, c)) % c;\n}\nll gcd(ll a, ll b) {\n\tif (b == 0) return a;\n\treturn gcd(b, a % b);\n}\n\n//ll dx[4] = {1, 0, -1, 0};\n//ll dy[4] = {0, 1, 0, -1};\n\nll number(State &);\nll expr(State &);\nll x;\n\nll number(State &begin) {\n\tll ret = 0;\n\twhile (isdigit(*begin)) {\n\t\tret *= 10;\n\t\tret += *begin - '0';\n\t\tbegin++;\n\t}\n\tif (*begin == 'x') {\n\t\tbegin++;\n\t\tif (ret == 0) ret = 1;\n\t\tret *= x;\n\t}\n\tif (*begin == '^') {\n\t\tbegin++;\n\t\tint i = *begin - '0';\n\t\tfor (int j = 1; j < i; j++) {\n\t\t\tret *= x;\n\t\t}\n\t\tbegin++;\n\t}\n\treturn ret;\n}\nll expr(State &begin) {\n\tll ret = number(begin);\n\twhile (1) {\n\t\tif (*begin == '+') {\n\t\t\tbegin++;\n\t\t\tret += number(begin);\n\t\t} else if (*begin == '-') {\n\t\t\tbegin++;\n\t\t\tret -= number(begin);\n\t\t} else {\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn ret;\n}\n\nint main() {\n\tIOS();\n\tstring s, ans = \"\";\n\tcin >> s;\n\tint MAX = 2 * 1000;\n\tfor (int i = MAX; i >= -MAX; i--) {\n\t\tx = i;\n\n\t\tState begin = s.begin();\n\t\tll tmp\t\t= expr(begin);\n\t\t//dump(tmp);\n\t\tif (tmp == 0) {\n\t\t\tans = ans + \"(x\" + (i > 0 ? '-' : '+') + to_string(abs(i)) + ')';\n\t\t}\n\t}\n\tdump(ans);\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<string>\n#include<algorithm>\t\n#include<map>\n#include<set>\n#include<utility>\n#include<cmath>\n#include<cstring>\n#include<queue>\n#include<stack>\n#include<cstdio>\n#include<sstream>\n#include<iomanip>\n#define loop(i,a,b) for(int i=a;i<b;i++) \n#define rep(i,a) loop(i,0,a)\n#define pb push_back\n#define all(in) in.begin(),in.end()\n#define shosu(x) fixed<<setprecision(x)\nusing namespace std;\n//kaewasuretyuui\ntypedef long long ll;\ntypedef pair<int,int> pii;\ntypedef vector<ll> vi;\ntypedef vector<vi> vvi;\ntypedef vector<pii> vp;\ntypedef vector<vp> vvp;\ntypedef vector<string> vs;\ntypedef vector<double> vd;\ntypedef vector<vd> vvd;\ntypedef pair<int,pii> pip;\ntypedef vector<pip>vip;\nconst double PI=acos(-1);\nconst double EPS=1e-7;\nconst int inf=1e8;\nint dx[4]={0,1,0,-1};\nint dy[4]={1,0,-1,0};\nstring s;\nvi in;\nint f(int a){\n\tint out=0;\n\tbool h=false;\n\twhile(a&&isdigit(s[a-1]))a--;\n\tif(a&&s[a-1]=='-')h=true;\n\twhile(isdigit(s[a])){\n\t\tout*=10;\n\t\tout+=s[a]-'0';\n\t\ta++;\n\t}\n\tif(h)out*=-1;\n\treturn out;\n}\nvi ya;\nint m;\nvi out;\nint dfs(int a,int b){\n\tif(a==m){\n\t\t//out\n\t\tloop(i,1,m+1){\n\t\t\tll q=0;\n\t\t\tvi tmp(m);\n\t\t\trep(j,i)tmp[j]=1;\n\t\t\tsort(all(tmp));\n\t\t\tdo{\n\t\t\t\tll qq=1;\n\t\t\t\trep(j,m)if(tmp[j])qq*=out[j];\n\t\t\t\tq+=qq;\n\t\t\t}while(next_permutation(all(tmp)));\n//\t\t\tcout<<q<<\" \"<<in[m-i]<<endl;\n\t\t\tif(q!=in[m-i])return 0;\n\t\t}\n/*\t\t\n\t\tll q=1;\n\t\trep(i,m)q*=out[i];\n\t\tif(q!=in[0])return 0;\n\t\tq=0;\n\t\trep(i,m)q+=out[i];\n\t\tif(q!=in[m-1])return 0;\n\t\tq=0;\n\t\trep(i,m)rep(j,m)if(i!=j)q+=out[i]*out[j];\n//\t\trep(i,m)cout<<\" \"<<out[i];cout<<endl;\n\t\tif(q/2!=in[m-2])return 0;\n//*/\t\t\n\t\t\n\t\tsort(all(out));\n\t\trep(i,m)printf(\"(x%+d)\",out[i]);//cout<<\" \"<<out[i];cout<<endl;\n\t\tcout<<endl;\n\t\treturn 1;\n\t}\n\trep(i,ya.size())if(abs(in[0])%abs(b*ya[i])==0){\n\t\tout[a]=ya[i];\n\t\tif(dfs(a+1,b*ya[i]))return 1;\n\t\tout[a]=0;\n\t}\n\treturn 0;\n}\nint main(){\n\tcin>>s;\n\ts=\"1\"+s;\n\tin=vi(6);\n\tint n=s.size();\n\trep(i,n)if(s[i]=='x'){\n\t\tif(s[i+1]=='^')in[s[i+2]-'0']=f(i-1);\n\t\telse in[1]=f(i-1);\n\t}\n\tin[0]=f(n-1);\n\tm=5;\n\twhile(in[m]==0)m--;\n\tout=vi(m);\n//\trep(i,6)cout<<\" \"<<in[i];cout<<endl;\n\tloop(i,1,2010)if(abs(in[0])%i==0){\n\t\tya.pb(i);\n\t\tya.pb(-i);\n\t}\n//\trep(i,ya.size())cout<<\" \"<<ya[i];cout<<endl;\n\tdfs(0,1);\n}\n\n\n/*int n,m;\nvvi in;\ndouble h;\nstruct UnionFind{\n    vector<int> data;\n    UnionFind(int size) : data(size, -1) {}\n    bool unionSet(int x,int y){\n        x=root(x);y=root(y);\n        if(x==y)return 0;\n        if(data[y]<data[x])swap(x,y);\n        data[x]+=data[y],data[y]=x;\n        return 1;\n    }\n    bool findSet(int x,int y){\n        return root(x)==root(y);\n    }\n    int root(int x){\n        return data[x]<0 ? x : data[x]=root(data[x]);\n    }\n    int size(int x){\n        return -data[root(x)];\n    }\n};\ndouble l,r;\nbool f(){\n\tUnionFind uf(n);\n\tll c=0,d=0;\n\trep(i,m){\n\t\tdouble t=(double)in[i][2]/in[i][3];\n\t\tif(t<h){\n\t\t\tuf.unionSet(in[i][0],in[i][1]);\n\t\t\tc+=in[i][2];d+=in[i][3];\n\t\t}else{\n\t\t\tif(uf.findSet(in[i][0],in[i][1])==0){\n\t\t\t\tif((double)(c+in[i][2])/(d+in[i][3])<h)continue;\n\t\t\t\tcout<<c<<\" \"<<d<<endl;\n\t\t\t\tcout<<in[i][0]<<\" \"<<in[i][1]<<endl;\n\t\t\t\tuf.unionSet(in[i][0],in[i][1]);\n\t\t\t\tc+=in[i][2];d+=in[i][3];\n\t\t\t}\n\t\t}\n\t}\n\tcout<<l<<\" \"<<r<<\" \"<<h<<\" \"<<uf.size(0)<<endl;\n\tif(uf.size(0)==n)return true;\n\treturn false;\n}\nint main(){\n\tcin>>n>>m;\n\tin=vvi(m,vi(4));\n\trep(i,m)rep(j,4)cin>>in[i][j];\n\trep(i,m)swap(in[i][2],in[i][3]);\n\trep(i,m)rep(j,m)if(i!=j){\n\t\tif((double)in[i][3]/in[i][2]<(double)in[j][3]/in[j][2])swap(in[i],in[j]);\n\t}\n\trep(i,m){rep(j,4)cout<<\" \"<<in[i][j];cout<<endl;}\n\tl=0,r=1e10+2;\n\twhile(r-l>EPS){\n\t\th=(l+r)/2;\n\t\tif(f())r=h;\n\t\telse l=h;\n\t}\n\tcout<<l<<\" \"<<r<<endl;\n}\n//*/"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define ll long long\n#define int long long\n#define ALL(x) (x).begin(), (x).end()\n\nusing namespace std;\n\nll f(vector<ll> &a, ll x){\n\treturn a[0] + a[1]*x + a[2]*x*x + a[3]*x*x*x + a[4]*x*x*x*x + a[5]*x*x*x*x*x;\n}\n\nsigned main(){\n\tstring str;\n\tcin >> str;\n\tvector<ll> a(10,0);\n\tfor(int i = 0; i < str.size(); i++){\n\t\tif(str[i] == '+' || str[i] == '-'){\n\t\t\tint j = i;\n\t\t\twhile(str[j] != 'x' && j < str.size())j++;\n\t\t\tint s;\n\t\t\tif(j < str.size()){\n\t\t\t\tif(j != str.size() && str[j+1] =='^'){\n\t\t\t\t\ts = str[j+2] - '0';\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\ts = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\ts = 0;\n\t\t\t}\n\t\t\tstring temp = str.substr(i+1,j-i-1);\n\t\t\tbool flag = true;\n\t\t\tfor(auto t : temp){\n\t\t\t\tif(t < '0' || t > '9'){\n\t\t\t\t\tflag =false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(flag){\n\t\t\t\ttry{\n\t\t\t\ta[s] = stoll(temp);\n\t\t\t\t}\n\t\t\t\tcatch(const std::invalid_argument){\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\ta[s] = 1;\n\t\t\t}\n\t\t\tif(str[i] == '-'){\n\t\t\t\ta[s] *= -1;\n\t\t\t}\n\t\t}\n\t}\n\tif(str[0] == 'x'){\n\t\tif(str[1] == '^'){\n\t\t\ta[str[2]-'0'] = 1;\n\t\t}\n\t\telse{\n\t\t\ta[1] = 1;\n\t\t}\n\t}\n\tvector<ll> b;\n\tfor(ll i = -2*1000; i <= 2*1000;i++){\n\t\tif(f(a,i) == 0LL){\n\t\t\tb.push_back(i);\n\t\t}\n\t}\n\tsort(ALL(b));\n\tfor(int i = b.size()-1; i >= 0;i--){\n\t\tcout << \"(x\";\n\t\tif(b[i] > 0){\n\t\t\tcout << \"-\";\n\t\t}\n\t\telse{\n\t\t\tcout << \"+\";\n\t\t}\n\t\tcout << llabs(b[i]);\n\t\tcout << \")\";\n\t}\n\tcout << endl;\t\t\n\n\n\treturn 0;\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<sstream>\n#include<vector>\n#include<deque>\n#include<cstdio>\n#include<cassert>\n#include<algorithm>\n\n#define REP(i,s,n) for(int i=s;i<n;++i)\n#define rep(i,n) REP(i,0,n)\n\nusing namespace std;\ntypedef long long ll;\nconst bool debug = false;\n\ndeque<string> split(string s) {\n  deque<string> deq;\n  int n = (int)s.size();\n  int sp = 0;\n  rep(i,n) {\n    if( s[i] == 'x' ) {\n      int ep = i;\n      if( i+1 < n && s[i+1] == '^' ) {\n\tep = i+2;\n\tassert( i + 2 < n );\n      }\n      deq.push_back(s.substr(sp,ep-sp+1));\n      sp = ep + 1;\n    }\n  }\n  if( sp != n ) {\n    deq.push_back(s.substr(sp));\n  }\n  return deq;\n}\n\nstring getCoef(string s) {\n  bool found = false;\n  if( s[0] == 'x' ) return \"1\";\n  rep(i,(int)s.size()) {\n    if( s[i] == 'x' ) {\n      s[i] = ' ';\n      found = true;\n    }\n  }\n  if( !found ) {\n    return s;\n  }\n  stringstream ss;\n  ss << s;\n  string ret;\n  ss >> ret;\n  return ret;\n}\n\nint getPcoef(string s) {\n  rep(i,(int)s.size()) {\n    if( s[i] == 'x' ) {\n      if( i + 1 < (int)s.size() && s[i+1] == '^' ) {\n\treturn s[i+2] - '0';\n      } else {\n\treturn 1;\n      }\n    }\n  }\n  return 0;\n}\n\nbool check(ll x,deque<string> &deq) {\n  if( debug ) {\n    puts(\"\");\n    cout << \"check [[ \" << x << \"]]\" << endl;\n  }\n  ll res = 0;\n  rep(i,(int)deq.size()) {\n    ll cost = 0;\n    string s = deq[i];\n    string coef = getCoef(s);\n    int pcoef = getPcoef(s);\n    if( debug ) {\n      cout << deq[i] << \" --> \" << coef << \" * x^[\" << pcoef << \"]\" << endl;\n    }\n    ll v = atoll(coef.c_str());\n    if( debug )cout << \"v = \" << v << endl;\n    ll tmp = 1;\n    rep(_,pcoef) tmp *= x;\n    cost = v * tmp;\n    if( debug ){\n      cout << \"cost = \" << cost << endl;\n    }\n    res += cost;\n  }\n  return res == 0;\n}\n\nint getDegree(string  s) {\n  int ret = 0;\n  int n = (int)s.size();\n  rep(i,(int)s.size()) {\n    if( s[i] == 'x' ) {\n      if( i+1 < n && s[i+1] == '^' ) {\n\tassert( i + 2 < n );\n\tret = max(ret,s[i+2]-'0');\n      } else {\n\tret = max(ret,1);\n      }\n    }\n  }\n  return ret;\n}\n\nvoid compute(string s) {\n  int deg = getDegree(s);\n  if( debug ) cout << \"degree = \" << deg << endl;\n  deque<string> deq = split(s);\n  if( debug ) {\n    cout << \"split --\" << endl;\n    rep(i,(int)deq.size()) {\n      cout << deq[i] << \" :: \";\n    } puts(\"\");\n  }\n\n  /*\n  cout << check(-1,deq) << endl;\n  return;\n  */\n\n  vector<ll> ans;\n  for(ll i=0;;++i) {\n    if( check(i,deq) ) ans.push_back(i);\n    if( i != 0 && check(-i,deq) ) ans.push_back(-i);\n    if( (int)ans.size() >= deg ) break;\n  }  \n  sort(ans.begin(),ans.end(),greater<int>());\n  rep(i,(int)ans.size()) {\n    if( ans[i] == 0) {\n      cout <<\"x\";\n    } else {\n      cout << \"(x\";\n      if(ans[i]<0LL) cout << \"+\" << -ans[i] << \")\";\n      else           cout  << \"-\" << ans[i] << \")\";\n    }\n  } puts(\"\");\n}\n\nint main() {\n  string s;\n  cin >> s;\n  compute(s);\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint ipow(int a,int b){\n    int ans=1;\n    for (int i = 0; i < b; ++i) {\n        ans=ans*a;\n    }\n    return ans;\n}\n\nint main(void){\n    int xi[6]={};\n    string inp;\n    cin>>inp;\n    int k=0;\n    char mi='+';\n    int ind=0;\n    while(inp.length()>0){\n        k=0;\n        if(inp[0]=='x')k=1;\n        else while(inp[0]!='x'&&!inp.empty()){\n            k=k*10+inp[0]-'0';\n            inp.erase(inp.begin());\n        }\n        if(!inp.empty()&&(inp[1]=='+'||inp[1]=='-')){inp.insert(inp.begin()+1,'1');inp.insert(inp.begin()+1,'^');}\n        if(!inp.empty())inp.erase(inp.begin(),inp.begin()+2);\n        if(inp.empty()){\n            ind=0;\n            if(mi=='-')k=k*-1;}\n        else {\n            ind=inp[0]-'0';\n            if(mi=='-')k=k*-1;\n            mi=inp[1];\n            inp.erase(inp.begin());\n        }\n        if(!inp.empty())inp.erase(inp.begin());\n        xi[ind]=k;\n    }\n    int mxi;\n    for (int i = 0; i < 6; ++i) {\n        if(xi[i]!=0)mxi=i;\n    }\n    vector <int> ans;\n    for(int i=1;i<2000;++i){\n        long long t=0;\n        for (int j = 0; j < 6; ++j) {\n            t+=xi[j]*ipow(i,j);\n        }\n        if(t==0)ans.push_back(-i);\n        if(ans.size()>=mxi)break;\n        t=0;\n        for (int j = 0; j < 6; ++j) {\n            t+=xi[j]*ipow(-i,j);\n        }\n        if(t==0)ans.push_back(i);\n        if(ans.size()>=mxi)break;\n    }\n    sort(ans.begin(),ans.end());\n    for (int i = 0; i < ans.size(); ++i) {\n        char a=ans[i]>0?'+':'-';\n        ans[i]=abs(ans[i]);\n        cout<<\"(x\"<<a<<ans[i]<<\")\";\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <string>\nusing namespace std;\ntypedef pair<int,int> P;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<P> vp;\ntypedef long long ll;\nconst int inf=1<<30;\n\nstring s;\n\nint main(){\n\tcin>>s;\n\tvi a(6);\n\ts+=\"+\";\n\tint t=0,I;\n\tfor(int i=0;i<s.size();i++) if(s[i]=='+'||s[i]=='-'){\n\t\tint t_=i;\n\t\tbool flag=0;\n\t\tfor(int j=t;j<i;j++) if(s[j]=='x') flag=1;\n\t\tif(!flag) I=0;\n\t\telse if(s[i-1]=='x'){\n\t\t\tI=1;\n\t\t\tt_--;\n\t\t}\n\t\telse{\n\t\t\tI=s[i-1]-'0';\n\t\t\tt_-=3;\n\t\t}\n\t\tbool tmp=(s[t]=='+'||!t);\n\t\tint num=0;\n\t\tif(t==t_) num=1;\n\t\telse for(int j=t+1;j<t_;j++) (num*=10)+=s[j]-'0';\n\t\ta[I]=(tmp?1:-1)*num;\n\t\tt=i;\n\t}\n\tfor(int i=2000;i>=-2000;i--) if(i){\n\t\tll sum=0;\n\t\tfor(int j=0;j<6;j++){\n\t\t\tll num=1;\n\t\t\tfor(int k=0;k<=j;k++) num*=i;\n\t\t\tsum+=a[j]*num;\n\t\t}\n\t\tif(sum==0){\n\t\t\tint I=i*(-1);\n\t\t\tcout<<\"(x\";\n\t\t\tif(I>0) cout<<'+';\n\t\t\tcout<<I<<')';\n\t\t}\n\t}\n\tcout<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nbool test(vector<int64_t> &K, int64_t a, int n){\n    for(int i=n;i>0;i--){\n        K[i-1]-=K[i]*a;\n    }\n    if(!K[0]){\n        for(int i=0;i<n;i++){\n            K[i]=K[i+1];\n        }\n        K.pop_back();\n        return true;\n    }\n    return false;\n}\n\nint main(){\n    int n;\n    cin.ignore();//x\n    cin.ignore();//^\n    cin>>n;\n    vector<int64_t> k(n+1,0);\n    k[n]=1;\n    string S;\n    cin>>S;\n    int i=0;\n    while(true){\n        int d=0;\n        int f = (S[i]=='+'?1:-1);\n        for(i++;S[i]!='x'&&i<S.size();i++){\n            d*=10;\n            d+=S[i]-'0';\n        }\n        d*=f;\n        if(i==S.size()){\n            k[0]=d;\n            break;\n        }else{\n            i++;\n            if(i<S.size()&&S[i]=='^'){\n                k[S[i+1]-'0']=d;\n                i+=2;\n            }else{\n                k[1]=d;\n            }\n        }\n    }\n    // for(auto d:k)cout<<d<<endl;\n    vector<int64_t> ans;\n    for(int i=n;i>0;i--){\n        for(int64_t a=-(k[0]>0?k[0]:-k[0]);a<=(k[0]>0?k[0]:-k[0]);a++){\n            if(!a||k[0]%a) continue;\n            vector<int64_t> K=k;\n            if(test(K,a,i)){\n                k=K;\n                ans.push_back(a);\n                break;\n            }\n        }\n    }\n    sort(ans.begin(), ans.end());\n    for(auto d:ans){\n        cout<<(d>0?\"(x+\":\"(x\")<<d<<')';\n    }\n    cout<<endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define ll long long\n#define ALL(x) (x).begin(), (x).end()\n\nusing namespace std;\n\nll f(vector<ll> &a, ll x){\n\treturn a[0] + a[1]*x + a[2]*x*x + a[3]*x*x*x + a[4]*x*x*x*x + a[5]*x*x*x*x*x;\n}\n\nint main(){\n\tstring str;\n\tcin >> str;\n\tvector<ll> a(5,0);\n\tfor(int i = 0; i < str.size(); i++){\n\t\tif(str[i] == '+' || str[i] == '-'){\n\t\t\tint j = i;\n\t\t\twhile(str[j] != 'x' && j < str.size())j++;\n\t\t\tint s;\n\t\t\tif(j < str.size()){\n\t\t\t\tif(j != str.size() && str[j+1] =='^'){\n\t\t\t\t\ts = str[j+2] - '0';\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\ts = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\ts = 0;\n\t\t\t}\n\t\t\ta[s] = stoi(str.substr(i+1,j-i-1));\n\t\t\tif(str[i] == '-'){\n\t\t\t\ta[s] *= -1;\n\t\t\t}\n\t\t}\n\t}\n\tif(str[0] == 'x'){\n\t\tif(str[1] == '^'){\n\t\t\ta[str[2]-'0'] = 1;\n\t\t}\n\t\telse{\n\t\t\ta[1] = 1;\n\t\t}\n\t}\n\tvector<ll> b;\n\tfor(ll i = -2*1000; i <= 2*1000;i++){\n\t\tif(f(a,i) == 0){\n\t\t\tb.push_back(i);\n\t\t}\n\t}\n\tsort(ALL(b));\n\tfor(int i = b.size()-1; i >= 0;i--){\n\t\tcout << \"(x\";\n\t\tif(b[i] > 0){\n\t\t\tcout << \"-\";\n\t\t}\n\t\telse{\n\t\t\tcout << \"+\";\n\t\t}\n\t\tcout << abs(b[i]);\n\t\tcout << \")\";\n\t}\n\tcout << endl;\t\t\n\n\n\treturn 0;\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\nusing namespace std;\ntypedef long long ll;\n\nint main(){\n    string s;\n    cin >> s;\n    ll a[6] = {};\n    string t = \"\";\n    bool plus = true;\n    for(char c : s){\n        if(c == '+' || c == '-'){\n            if(t.back() == 'x'){\n                a[1] = (plus ? 1 : -1) * (t.length() < 2 ? 1 : stoi(t.substr(0,t.length()-1)));\n            }else if(t.length() > 1 && t[t.length()-2] == '^'){\n                a[t.back()-'0'] = (plus ? 1 : -1) * (t.length() < 4 ? 1 : stoi(t.substr(0, t.length()-3)));\n            }\n            t = \"\";\n            plus = c=='+';\n        }else{\n            t += c;\n        }\n    }\n    if(t.back() == 'x'){\n        a[1] = (plus ? 1 : -1) * stoi(t.substr(0,t.length()-1));\n    }else if(t.length() > 1 && t[t.length()-2] == '^'){\n        a[t.back()-'0'] = (plus ? 1 : -1) * stoi(t.substr(0, t.length()-3));\n    }else{\n        a[0] = (plus ? 1 : -1) * stoi(t);\n    }\n    auto f = [=](ll x)->ll{\n        ll ret = 0;\n        for(int i = 0; i <= 5; i++){\n            ll tmp = a[i];\n            for(int j = 0; j < i; j++)  tmp *= x;\n            ret += tmp;\n        }\n        return ret;\n    };\n    vector<int> v;\n    for(ll i = 2000; i >= -2000; i--){\n        if(f(i) == 0)   v.push_back(-i);\n    }\n    for(int i = 0; i < v.size(); i++){\n        cout << \"(x\" << (v[i]>0 ? '+' : '-') << abs(v[i]) << \")\";\n    }\n    cout << endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<sstream>\n#include<vector>\n#include<deque>\n#include<cstdio>\n#include<set>\n#include<cassert>\n#include<algorithm>\n\n#define REP(i,s,n) for(int i=s;i<n;++i)\n#define rep(i,n) REP(i,0,n)\n\nusing namespace std;\ntypedef long long ll;\nconst bool debug = false;\n\ndeque<string> split(string s) {\n  deque<string> deq;\n  int n = (int)s.size();\n  int sp = 0;\n  rep(i,n) {\n    if( s[i] == 'x' ) {\n      int ep = i;\n      if( i+1 < n && s[i+1] == '^' ) {\n\tep = i+2;\n\tassert( i + 2 < n );\n      }\n      deq.push_back(s.substr(sp,ep-sp+1));\n      sp = ep + 1;\n    }\n  }\n  if( sp != n ) {\n    deq.push_back(s.substr(sp));\n  }\n  return deq;\n}\n\nstring getCoef(string s) {\n  bool found = false;\n  if( s[0] == 'x' ) return \"1\";\n  rep(i,(int)s.size()) {\n    if( s[i] == 'x' ) {\n      s[i] = ' ';\n      found = true;\n    }\n  }\n  if( !found ) {\n    return s;\n  }\n  stringstream ss;\n  ss << s;\n  string ret;\n  ss >> ret;\n  return ret;\n}\n\nint getPcoef(string s) {\n  rep(i,(int)s.size()) {\n    if( s[i] == 'x' ) {\n      if( i + 1 < (int)s.size() && s[i+1] == '^' ) {\n\treturn s[i+2] - '0';\n      } else {\n\treturn 1;\n      }\n    }\n  }\n  return 0;\n}\n\nbool check(ll x,deque<string> &deq) {\n  if( debug ) {\n    puts(\"\");\n    cout << \"check [[ \" << x << \"]]\" << endl;\n  }\n  ll res = 0;\n  rep(i,(int)deq.size()) {\n    ll cost = 0;\n    string s = deq[i];\n    string coef = getCoef(s);\n    int pcoef = getPcoef(s);\n    if( debug ) {\n      cout << deq[i] << \" --> \" << coef << \" * x^[\" << pcoef << \"]\" << endl;\n    }\n    ll v = atoll(coef.c_str());\n    if( debug )cout << \"v = \" << v << endl;\n    ll tmp = 1;\n    rep(_,pcoef) tmp *= x;\n    cost = v * tmp;\n    if( debug ){\n      cout << \"cost = \" << cost << endl;\n    }\n    res += cost;\n  }\n  return res == 0;\n}\n\nint getDegree(string  s) {\n  int ret = 0;\n  int n = (int)s.size();\n  rep(i,(int)s.size()) {\n    if( s[i] == 'x' ) {\n      if( i+1 < n && s[i+1] == '^' ) {\n\tassert( i + 2 < n );\n\tret = max(ret,s[i+2]-'0');\n      } else {\n\tret = max(ret,1);\n      }\n    }\n  }\n  return ret;\n}\n\nvoid compute(string s) {\n  int deg = getDegree(s);\n  if( debug ) cout << \"degree = \" << deg << endl;\n  deque<string> deq = split(s);\n  if( debug ) {\n    cout << \"split --\" << endl;\n    rep(i,(int)deq.size()) {\n      cout << deq[i] << \" :: \";\n    } puts(\"\");\n  }\n\n  set<int> S;\n  rep(i,(int)deq.size()) {\n    S.insert(getPcoef(deq[i]));\n  }\n  assert( (int)S.size() == (int)deq.size() );\n\n  /*\n  cout << check(-1,deq) << endl;\n  return;\n  */\n\n  vector<ll> ans;\n  for(ll i=0;;++i) {\n    if( check(i,deq) ) ans.push_back(i);\n    if( i != 0 && check(-i,deq) ) ans.push_back(-i);\n    if( (int)ans.size() >= deg ) break;\n  }  \n  sort(ans.begin(),ans.end(),greater<int>());\n  rep(i,(int)ans.size()) {\n    if( ans[i] == 0) {\n      cout <<\"x\";\n    } else {\n      cout << \"(x\";\n      if(ans[i]<0LL) cout << \"+\" << -ans[i] << \")\";\n      else           cout  << \"-\" << ans[i] << \")\";\n    }\n  } puts(\"\");\n}\n\nint main() {\n  string s;\n  cin >> s;\n  compute(s);\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define ll long long\n#define int long long\n#define ALL(x) (x).begin(), (x).end()\n\nusing namespace std;\n\nll f(vector<ll> &a, ll x){\n\treturn a[0] + a[1]*x + a[2]*x*x + a[3]*x*x*x + a[4]*x*x*x*x + a[5]*x*x*x*x*x;\n}\n\nsigned main(){\n\tstring str;\n\tcin >> str;\n\tvector<ll> a(10,0);\n\tfor(int i = 0; i < str.size(); i++){\n\t\tif(str[i] == '+' || str[i] == '-'){\n\t\t\tint j = i;\n\t\t\twhile(str[j] != 'x' && j < str.size())j++;\n\t\t\tint s;\n\t\t\tif(j < str.size()){\n\t\t\t\tif(j != str.size() && str[j+1] =='^'){\n\t\t\t\t\ts = str[j+2] - '0';\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\ts = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\ts = 0;\n\t\t\t}\n\t\t\tstring temp = str.substr(i+1,j-i-1);\n\t\t\tbool flag = true;\n\t\t\tfor(auto t : temp){\n\t\t\t\tif(t < '0' || t > '9'){\n\t\t\t\t\tflag =false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(flag){\n\t\t\t\ta[s] = stoll(temp);\n\t\t\t}\n\t\t\telse{\n\t\t\t\ta[s] = 1;\n\t\t\t}\n\t\t\tif(str[i] == '-'){\n\t\t\t\ta[s] *= -1;\n\t\t\t}\n\t\t}\n\t}\n\tif(str[0] == 'x'){\n\t\tif(str[1] == '^'){\n\t\t\ta[str[2]-'0'] = 1;\n\t\t}\n\t\telse{\n\t\t\ta[1] = 1;\n\t\t}\n\t}\n\tvector<ll> b;\n\tfor(ll i = -2*1000; i <= 2*1000;i++){\n\t\tif(f(a,i) == 0LL){\n\t\t\tb.push_back(i);\n\t\t}\n\t}\n\tsort(ALL(b));\n\tfor(int i = b.size()-1; i >= 0;i--){\n\t\tcout << \"(x\";\n\t\tif(b[i] > 0){\n\t\t\tcout << \"-\";\n\t\t}\n\t\telse{\n\t\t\tcout << \"+\";\n\t\t}\n\t\tcout << llabs(b[i]);\n\t\tcout << \")\";\n\t}\n\tcout << endl;\t\t\n\n\n\treturn 0;\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<ll> vl;\ntypedef pair<int,int> pii;\ntypedef pair<ll,ll> pll;\n\ntypedef int _loop_int;\n#define REP(i,n) for(_loop_int i=0;i<(_loop_int)(n);++i)\n#define FOR(i,a,b) for(_loop_int i=(_loop_int)(a);i<(_loop_int)(b);++i)\n#define FORR(i,a,b) for(_loop_int i=(_loop_int)(b)-1;i>=(_loop_int)(a);--i)\n\n#define DEBUG(x) cout<<#x<<\": \"<<x<<endl\n#define DEBUG_VEC(v) cout<<#v<<\":\";REP(i,v.size())cout<<\" \"<<v[i];cout<<endl\n#define ALL(a) (a).begin(),(a).end()\n\n#define CHMIN(a,b) a=min((a),(b))\n#define CHMAX(a,b) a=max((a),(b))\n\n// mod\nconst ll MOD = 1000000007ll;\n#define FIX(a) ((a)%MOD+MOD)%MOD\n\n// floating\ntypedef double Real;\nconst Real EPS = 1e-11;\n#define EQ0(x) (abs(x)<EPS)\n#define EQ(a,b) (abs(a-b)<EPS)\ntypedef complex<Real> P;\n\nbool check(vi &poly, int x){\n  ll yo = 1;\n  ll tes = 0;\n  for(int y : poly){\n    tes += yo * y;\n    yo *= x;\n  }\n  return tes==0;\n}\n\nint main(){\n  vi poly(6,0);\n  string s;\n  cin>>s;\n  // parse\n  {\n    int kei = 0;\n    int mode = 0;\n    bool neg = false;\n    REP(i,s.size()){\n      char c = s[i];\n      if(c=='x'){\n        if(kei==0)kei=1;\n        if(i+2<s.size() && s[i+1]=='^'){\n          char d = s[i+2]-'0';\n          poly[d] = kei * (neg?-1:1);\n          i += 2;\n        }else{\n          poly[1] = kei * (neg?-1:1);\n        }\n        kei = 0;\n        neg = false;\n      }else if(isdigit(c)){\n        kei *= 10;\n        kei += c-'0';\n        if(i==s.size()-1){\n          poly[0] = kei * (neg?-1:1);\n        }\n      }else if(c=='-'){\n        neg = true;\n      }\n    }\n  }\n  vi ans;\n  FOR(re,1,2001){\n    if(check(poly,-re)){\n      ans.push_back(re);\n    }\n    if(check(poly,re)){\n      ans.push_back(-re);\n    }\n  }\n  sort(ALL(ans));\n  for(int x : ans){\n    printf(\"(x%c%d)\",x<0?'-':'+',abs(x));\n  }\n  puts(\"\");\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define ll long long\n#define int long long\n#define ALL(x) (x).begin(), (x).end()\n\nusing namespace std;\n\nll f(vector<ll> &a, ll x){\n\treturn a[0] + a[1]*x + a[2]*x*x + a[3]*x*x*x + a[4]*x*x*x*x + a[5]*x*x*x*x*x;\n}\n\nsigned main(){\n\tstring str;\n\tcin >> str;\n\tvector<ll> a(10,0);\n\tfor(int i = 0; i < str.size(); i++){\n\t\tif(str[i] == '+' || str[i] == '-'){\n\t\t\tint j = i;\n\t\t\twhile(str[j] != 'x' && j < str.size())j++;\n\t\t\tint s;\n\t\t\tif(j < str.size()){\n\t\t\t\tif(j != str.size() && str[j+1] =='^'){\n\t\t\t\t\ts = str[j+2] - '0';\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\ts = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\ts = 0;\n\t\t\t}\n\t\t\ta[s] = stoi(str.substr(i+1,j-i-1));\n\t\t\tif(str[i] == '-'){\n\t\t\t\ta[s] *= -1;\n\t\t\t}\n\t\t}\n\t}\n\tif(str[0] == 'x'){\n\t\tif(str[1] == '^'){\n\t\t\ta[str[2]-'0'] = 1;\n\t\t}\n\t\telse{\n\t\t\ta[1] = 1;\n\t\t}\n\t}\n\tvector<ll> b;\n\tfor(ll i = -2*1000; i <= 2*1000;i++){\n\t\tif(f(a,i) == 0LL){\n\t\t\tb.push_back(i);\n\t\t}\n\t}\n\tsort(ALL(b));\n\tfor(int i = b.size()-1; i >= 0;i--){\n\t\tcout << \"(x\";\n\t\tif(b[i] > 0){\n\t\t\tcout << \"-\";\n\t\t}\n\t\telse{\n\t\t\tcout << \"+\";\n\t\t}\n\t\tcout << llabs(b[i]);\n\t\tcout << \")\";\n\t}\n\tcout << endl;\t\t\n\n\n\treturn 0;\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<cstdio>\n#include<vector>\n#include<cmath>\n#include<algorithm>\n#include<functional>\n#include<iomanip>\n#include<queue>\n#include<ciso646>\n#include<utility>\nusing namespace std;\ntypedef long long ll;\nconst ll mod = 1000000007;\nconst ll INF = mod * mod;\ntypedef pair<int, int> P;\ntypedef pair<ll, ll> LP;\ntypedef vector<int> vec;\n#define rep(i,n) for(int i=0;i<n;i++)\n#define rep1(i,n) for(int i=1;i<=n;i++)\n#define Rep(i,sta,n) for(int i=sta;i<n;i++)\n#define stop char nyaa;cin>>nyaa;\n\nbool isnum(char t) {\n\tif ('0' <= t && t <= '9')return true;\n\treturn false;\n}\nll ppow(ll x, ll n) {\n\tll ret = 1;\n\trep(i, n) {\n\t\tret *= x;\n\t}\n\treturn ret;\n}\nbool calc(ll x, vector<ll> &c) {\n\tll ret = 0;\n\trep(i, 6) {\n\t\tll t = ppow(x, i);\n\t\tret += c[i] * t;\n\t}\n\treturn ret==0;\n}\nvoid solve() {\n\tstring s; cin >> s;\n\tint m = s.length();\n\tvector<ll> c(6);\n\tll pre = 1;\n\trep(i, m) {\n\t\tif (s[i] == 'x') {\n\t\t\tc.push_back(pre);\n\t\t\tif (i + 1 < m&&s[i + 1] == '^') {\n\t\t\t\tchar t = s[i + 2];\n\t\t\t\tint z = t - '0';\n\t\t\t\tc[z] = pre; i += 2;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tc[1] = pre;\n\t\t\t}\n\t\t\tpre = 1;\n\t\t}\n\t\telse if (s[i] == '-') {\n\t\t\tpre *= -1;\n\t\t}\n\t\telse if ('0' <= s[i] && s[i] <= '9') {\n\t\t\tint le = i;\n\t\t\twhile (i + 1 < m&&isnum(s[i + 1]))i++;\n\t\t\tstring t = s.substr(le, i - le + 1);\n\t\t\tint z = stoi(t);\n\t\t\tpre *= z;\n\t\t}\n\t}\n\tc[0] = pre;\n\tint n = 0;\n\trep1(i, 5) {\n\t\tif (c[i] > 0)n = i;\n\t}\n\tint tmp = 0;\n\tvector<int> ans;\n\trep1(i, 2000) {\n\t\tif (calc(i,c)) {\n\t\t\ttmp++; ans.push_back(i);\n\t\t}\n\t\tif (calc(-i, c)) {\n\t\t\ttmp++; ans.push_back(-i);\n\t\t}\n\t\tif (tmp == n)break;\n\t}\n\tsort(ans.begin(), ans.end(), greater<int>());\n\trep(i, ans.size()) {\n\t\tcout << \"(x\";\n\t\tif (ans[i] < 0) {\n\t\t\tcout << '+';\n\t\t}\n\t\telse {\n\t\t\tcout << '-';\n\t\t}\n\t\tstring t = to_string(abs(ans[i]));\n\t\tcout << t << ')';\n\t}\n\tcout << endl;\n}\n\nsigned main() {\n\tios::sync_with_stdio(false);\n\tcin.tie(0);\n\tsolve();\n\t//stop\n\t\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nbool test(vector<int64_t> &K, int64_t a, int n){\n    for(int i=n;i>0;i--){\n        K[i-1]-=K[i]*a;\n    }\n    if(!K[0]){\n        for(int i=0;i<n;i++){\n            K[i]=K[i+1];\n        }\n        K.pop_back();\n        return true;\n    }\n    return false;\n}\n\nint main(){\n    int n;\n    cin.ignore();//x\n    cin.ignore();//^\n    cin>>n;\n    vector<int64_t> k(n+1,0);\n    k[n]=1;\n    string S;\n    cin>>S;\n    int i=0;\n    while(true){\n        int d=0;\n        int f = (S[i]=='+'?1:-1);\n        for(i++;S[i]!='x'&&i<S.size();i++){\n            d*=10;\n            d+=S[i]-'0';\n        }\n        if(!d)d=1;\n        d*=f;\n        if(i==S.size()){\n            k[0]=d;\n            break;\n        }else{\n            i++;\n            if(i<S.size()&&S[i]=='^'){\n                k[S[i+1]-'0']=d;\n                i+=2;\n            }else{\n                k[1]=d;\n            }\n        }\n    }\n    // for(auto d:k)cout<<d<<endl;\n    vector<int> ans;\n    for(int i=n;i>0;i--){\n        for(int a=-(k[0]>0?k[0]:-k[0]);a<=(k[0]>0?k[0]:-k[0]);a++){\n            if(!a||k[0]%a) continue;\n            vector<int64_t> K=k;\n            if(test(K,a,i)){\n                k=K;\n                ans.push_back(a);\n                break;\n            }\n        }\n    }\n    sort(ans.begin(), ans.end());\n    for(auto d:ans){\n        cout<<(d>0?\"(x+\":\"(x\")<<d<<')';\n    }\n    cout<<endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nbool test(vector<int> &K, int a, int n){\n    for(int i=n;i>0;i--){\n        K[i-1]-=K[i]*a;\n    }\n    if(!K[0]){\n        for(int i=0;i<n;i++){\n            K[i]=K[i+1];\n        }\n        K.pop_back();\n        return true;\n    }\n    return false;\n}\n\nint main(){\n    int n;\n    cin.ignore();//x\n    cin.ignore();//^\n    cin>>n;\n    vector<int> k(n+1);\n    k[n]=1;\n    string S;\n    cin>>S;\n    int i=0;\n    while(true){\n        int d=0;\n        int f = (S[i]=='+'?1:-1);\n        for(i++;S[i]!='x'&&i<S.size();i++){\n            d*=10;\n            d+=S[i]-'0';\n        }\n        d*=f;\n        if(i==S.size()){\n            k[0]=d;\n            break;\n        }else{\n            i++;\n            if(i<S.size()&&S[i]=='^'){\n                k[S[i+1]-'0']=d;\n                i+=2;\n            }else{\n                k[1]=d;\n            }\n        }\n    }\n    vector<int> ans;\n    for(int i=n;i>0;i--){\n        for(int a=-(k[0]>0?k[0]:-k[0]);a<=(k[0]>0?k[0]:-k[0]);a++){\n            if(!a||k[0]%a) continue;\n            vector<int> K=k;\n            if(test(K,a,i)){\n                k=K;\n                ans.push_back(a);\n                break;\n            }\n        }\n    }\n    sort(ans.begin(), ans.end());\n    for(auto d:ans){\n        cout<<\"(x\"<<(d>0?\"+\":\"\")<<d<<')';\n    }\n    cout<<endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "// need\n#include <iostream>\n#include <algorithm>\n\n// data structure\n#include <bitset>\n//#include <list>\n#include <map>\n#include <queue>\n#include <set>\n#include <stack>\n#include <string>\n#include <utility>\n#include <vector>\n//#include <array>\n//#include <tuple>\n#include <unordered_map>\n#include <unordered_set>\n#include <complex>\n//#include <deque>\n#include<valarray>\n\n// stream\n//#include <istream>\n//#include <sstream>\n//#include <ostream>\n\n// etc\n#include <cassert>\n#include <functional>\n#include <iomanip>\n//#include <typeinfo>\n#include <chrono>\n#include <random>\n#include <numeric>\n\n#define INIT std::ios::sync_with_stdio(false);std::cin.tie(0);\n#define VAR(type, ...)type __VA_ARGS__;MACRO_VAR_Scan(__VA_ARGS__);\ntemplate<typename T> void MACRO_VAR_Scan(T& t) { std::cin >> t; }\ntemplate<typename First, typename...Rest>void MACRO_VAR_Scan(First& first, Rest&...rest) { std::cin >> first; MACRO_VAR_Scan(rest...); }\n#define VEC_ROW(type, n, ...)std::vector<type> __VA_ARGS__;MACRO_VEC_ROW_Init(n, __VA_ARGS__); for(int i=0; i<n; ++i){MACRO_VEC_ROW_Scan(i, __VA_ARGS__);}\ntemplate<typename T> void MACRO_VEC_ROW_Init(int n, T& t) { t.resize(n); }\ntemplate<typename First, typename...Rest>void MACRO_VEC_ROW_Init(int n, First& first, Rest&...rest) { first.resize(n); MACRO_VEC_ROW_Init(n, rest...); }\ntemplate<typename T> void MACRO_VEC_ROW_Scan(int p, T& t) { std::cin >> t[p]; }\ntemplate<typename First, typename...Rest>void MACRO_VEC_ROW_Scan(int p, First& first, Rest&...rest) { std::cin >> first[p]; MACRO_VEC_ROW_Scan(p, rest...); }\n#define OUT(d) std::cout<<d;\n#define FOUT(n, d) std::cout<<std::fixed<<std::setprecision(n)<<d;\n#define SOUT(n, c, d) std::cout<<std::setw(n)<<std::setfill(c)<<d;\n#define SP std::cout<<\" \";\n#define TAB std::cout<<\"\\t\";\n#define BR std::cout<<\"\\n\";\n#define ENDL std::cout<<std::endl;\n#define FLUSH std::cout<<std::flush;\n#define VEC(type, c, n) std::vector<type> c(n);for(auto& i:c)std::cin>>i;\n#define MAT(type, c, m, n) std::vector<std::vector<type>> c(m, std::vector<type>(n));for(auto& r:c)for(auto& i:r)std::cin>>i;\n#define ALL(a) (a).begin(),(a).end()\n#define FOR(i, a, b) for(int i=(a);i<(b);++i)\n#define RFOR(i, a, b) for(int i=(b)-1;i>=(a);--i)\n#define REP(i, n) for(int i=0;i<int(n);++i)\n#define RREP(i, n) for(int i=(n)-1;i>=0;--i)\n#define FORLL(i, a, b) for(ll i=ll(a);i<ll(b);++i)\n#define RFORLL(i, a, b) for(ll i=ll(b)-1;i>=ll(a);--i)\n#define REPLL(i, n) for(ll i=0;i<ll(n);++i)\n#define RREPLL(i, n) for(ll i=ll(n)-1;i>=0;--i)\n#define PAIR std::pair<int, int>\n#define PAIRLL std::pair<ll, ll>\n#define IN(a, x, b) (a<=x && x<b)\n#define SHOW(d) {std::cerr << #d << \"\\t:\" << d << \"\\n\";}\n#define SHOWVECTOR(v) {std::cerr << #v << \"\\t:\";for(const auto& xxx : v){std::cerr << xxx << \" \";}std::cerr << \"\\n\";}\n#define SHOWVECTOR2(v) {std::cerr << #v << \"\\t:\\n\";for(const auto& xxx : v){for(const auto& yyy : xxx){std::cerr << yyy << \" \";}std::cerr << \"\\n\";}}\n#define SHOWPAIR(p) {std::cerr << #p << \"\\t:(\" << p.first << \",\\t\" << p.second << \")\\n\";}\n#define SHOWPAIRVECTOR2(v) {std::cerr << #v << \"\\t:\\n\";for(const auto& xxx : v){for(const auto& yyy : xxx){std::cerr<<'('<<yyy.first<<\", \"<<yyy.second<<\") \";}std::cerr << \"\\n\";}}\n#define SHOWPAIRVECTOR(v) {for(const auto& xxx:v){std::cerr<<'('<<xxx.first<<\", \"<<xxx.second<<\") \";}std::cerr<<\"\\n\";}\n#define SHOWQUEUE(a) {std::queue<decltype(a.front())> tmp(a);std::cerr << #a << \"\\t:\";for(int i=0; i<static_cast<int>(a.size()); ++i){std::cerr << tmp.front() << \"\\n\";tmp.pop();}std::cerr << \"\\n\";}\ntemplate<typename T> inline T CHMAX(T& a, const T b) { return a = (a < b) ? b : a; }\ntemplate<typename T> inline T CHMIN(T& a, const T b) { return a = (a > b) ? b : a; }\n#define EXCEPTION(msg) throw std::string(\"Exception : \" msg \" [ in \") + __func__ + \" : \" + std::to_string(__LINE__) + \" lines ]\"\n#define TRY(cond, msg) try {if (cond) EXCEPTION(msg);}catch (std::string s) {std::cerr << s << std::endl;}\nvoid CHECKTIME(std::function<void()> f) { auto start = std::chrono::system_clock::now(); f(); auto end = std::chrono::system_clock::now(); auto res = std::chrono::duration_cast<std::chrono::nanoseconds>((end - start)).count(); std::cerr << \"[Time:\" << res << \"ns  (\" << res / (1.0e9) << \"s)]\\n\"; }\n\n#define int ll\nusing ll = long long;\nusing ull = unsigned long long;\nconstexpr int INFINT = 1 << 30;                          // 1.07x10^ 9\nconstexpr int INFINT_LIM = (1LL << 31) - 1;              // 2.15x10^ 9\nconstexpr ll INFLL = 1LL << 60;                          // 1.15x10^18\nconstexpr ll INFLL_LIM = (1LL << 62) - 1 + (1LL << 62);  // 9.22x10^18\nconstexpr double EPS = 1e-7;\nconstexpr int MOD = 1000000007;\nconstexpr double PI = 3.141592653589793238462643383279;\n\nusing State = std::string::const_iterator;\n\nint number(State& it) {\n\tint res = 0;\n\tbool minus = false;\n\tif (*it == '+') {\n\t\t++it;\n\t}\n\telse if (*it == '-') {\n\t\tminus = true;\n\t\t++it;\n\t}\n\tif (*it != 'x') {\n\t\twhile (isdigit(*it)) {\n\t\t\tres *= 10;\n\t\t\tres += *it - '0';\n\t\t\t++it;\n\t\t}\n\t}\n\telse {\n\t\tres = 1;\n\t}\n\tif (minus) {\n\t\tres *= -1;\n\t}\n\treturn res;\n}\n\nPAIR term(State& it) {\n\tint t = number(it);\n\tif (*it != 'x') {\n\t\treturn PAIR(0, t);\n\t}\n\t++it; // x\n\tif (*it != '^') {\n\t\treturn PAIR(1, t);\n\t}\n\t++it; // ^\n\tint p = number(it);\n\treturn PAIR(p, t);\n}\n\nstd::vector<PAIR> expression(State& it) {\n\tstd::vector<PAIR> res;\n\tdo {\n\t\tres.emplace_back(term(it));\n\t} while (*it == '+' || *it == '-');\n\treturn res;\n}\n\nll mypow(ll n, ll p) {\n\tll res = 1;\n\twhile (p) {\n\t\tif (p & 1) res *= n;\n\t\tn *= n;\n\t\tp >>= 1;\n\t}\n\treturn res;\n}\n\nsigned main() {\n\tINIT;\n\tVAR(std::string, s);\n\ts = '+' + s + '$';\n\tauto it = s.cbegin();\n\tauto exp(expression(it));\n\tSHOWPAIRVECTOR(exp);\n\tstd::string res;\n\tRFOR(i, -2001, 2001) {\n\t\tll t = 0;\n\t\tfor (const auto& x : exp) {\n\t\t\tt += x.second * mypow(i, x.first);\n\t\t}\n\t\tif (t == 0) {\n\t\t\tres += \"(x\";\n\t\t\tif (i < 0) res += \"+\";\n\t\t\tres += std::to_string(-i);\n\t\t\tres += \")\";\n\t\t}\n\t}\n\tOUT(res)BR;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<sstream>\n#include<vector>\n#include<deque>\n#include<cstdio>\n#include<set>\n#include<cassert>\n#include<algorithm>\n\n#define REP(i,s,n) for(int i=s;i<n;++i)\n#define rep(i,n) REP(i,0,n)\n\nusing namespace std;\ntypedef long long ll;\nconst bool debug = false;\n\ndeque<string> split(string s) {\n  deque<string> deq;\n  int n = (int)s.size();\n  int sp = 0;\n  rep(i,n) {\n    if( s[i] == 'x' ) {\n      int ep = i;\n      if( i+1 < n && s[i+1] == '^' ) {\n\tep = i+2;\n\tassert( i + 2 < n );\n      }\n      deq.push_back(s.substr(sp,ep-sp+1));\n      sp = ep + 1;\n    }\n  }\n  if( sp != n ) {\n    deq.push_back(s.substr(sp));\n  }\n  return deq;\n}\n\nstring getCoef(string s) {\n\n    rep(i,(int)s.size()) {\n      if( s[i] == '+' ) {\n\ts[i] = ' ';\n      }\n    }\n    stringstream ss2;\n    ss2 << s;\n    ss2 >> s;\n\n\n  bool found = false;\n  if( s[0] == 'x' ) return \"1\";\n  rep(i,(int)s.size()) {\n    if( s[i] == 'x' ) {\n      s[i] = ' ';\n      found = true;\n    }\n  }\n  if( !found ) {\n    return s;\n  }\n  stringstream ss;\n  ss << s;\n  string ret;\n  ss >> ret;\n  return ret;\n}\n\nint getPcoef(string s) {\n  rep(i,(int)s.size()) {\n    if( s[i] == 'x' ) {\n      if( i + 1 < (int)s.size() && s[i+1] == '^' ) {\n\treturn s[i+2] - '0';\n      } else {\n\treturn 1;\n      }\n    }\n  }\n  return 0;\n}\n\nbool check(ll x,deque<string> &deq) {\n  if( debug ) {\n    puts(\"\");\n    cout << \"check [[ \" << x << \"]]\" << endl;\n  }\n  ll res = 0;\n  rep(i,(int)deq.size()) {\n    ll cost = 0;\n    string s = deq[i];\n    string coef = getCoef(s);\n    int pcoef = getPcoef(s);\n    if( debug ) {\n      cout << deq[i] << \" --> \" << coef << \" * x^[\" << pcoef << \"]\" << endl;\n\n    }\n    \n    ll v = atoll(coef.c_str());\n    if( debug )cout << \"v = \" << v << endl;\n    ll tmp = 1;\n    rep(_,pcoef) tmp *= x;\n    cost = v * tmp;\n    if( debug ){\n      cout << \"cost = \" << cost << endl;\n    }\n    res += cost;\n  }\n  return res == 0;\n}\n\nint getDegree(string  s) {\n  int ret = 0;\n  int n = (int)s.size();\n  rep(i,(int)s.size()) {\n    if( s[i] == 'x' ) {\n      if( i+1 < n && s[i+1] == '^' ) {\n\tassert( i + 2 < n );\n\tret = max(ret,s[i+2]-'0');\n      } else {\n\tret = max(ret,1);\n      }\n    }\n  }\n  return ret;\n}\n\nvoid compute(string s) {\n  int deg = getDegree(s);\n  if( debug ) cout << \"degree = \" << deg << endl;\n  deque<string> deq = split(s);\n  if( debug ) {\n    cout << \"split --\" << endl;\n    rep(i,(int)deq.size()) {\n      cout << deq[i] << \" :: \";\n    } puts(\"\");\n  }\n\n  set<int> S;\n  rep(i,(int)deq.size()) {\n    S.insert(getPcoef(deq[i]));\n  }\n  assert( (int)S.size() == (int)deq.size() );\n\n\n  /*\n  cout << check(-2,deq) << endl;\n  return;\n  */\n\n  vector<ll> ans;\n  for(ll i=1;;++i) {\n    if( check(i,deq) ) ans.push_back(i);\n    if( check(-i,deq) ) ans.push_back(-i);\n    if( (int)ans.size() >= deg ) break;\n  }  \n  sort(ans.begin(),ans.end(),greater<int>());\n  rep(i,(int)ans.size()) {\n    if( ans[i] == 0) {\n      cout <<\"x\";\n    } else {\n      cout << \"(x\";\n      if(ans[i]<0LL) cout << \"+\" << -ans[i] << \")\";\n      else           cout  << \"-\" << ans[i] << \")\";\n    }\n  } puts(\"\");\n}\n\nint main() {\n  string s;\n  cin >> s;\n  compute(s);\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<vector>\n#include<algorithm>\n#include<cmath>\nusing namespace std;\n#define rep(i,n) for(i=0;i<n;i++)\n\nint a[6]={};\nint d[6]={};\nint next_a[6]={};\nvector<int> ans;\n\n\nbool check(){\n  for(int i=0;i<6;i++)\n    if(a[i])return true;\n  return false;\n}\n\nvoid div(int n){\n  int next_a[6]={};\n  for(int i=5;i>0;i--){\n    next_a[i-1]=a[i];\n    a[i-1]-=n*next_a[i-1];\n    a[i]=0;\n  }\n  ans.push_back(n);\n  for(int i=0;i<6;i++)\n    a[i]=next_a[i];\n}\n\n\nint func(int n){\n  int res=0;\n  int i;\n  for(i=0;i<6;i++)\n    res+=a[i]*pow(n,i);\n  return res;\n}\n\nint main(){\n  string s;\n  cin>>s;\n\n  int i=0,j;\n  while(i<s.size()){\n    int num=0;\n    if(s[i]=='-'){//-\n      i++;\n      if(s[i]=='x')num=1;\n      while(s[i]!='x' && i<s.size()){\n\t//      \tprintf(\"s[%d]=%c\\n\",i,s[i]);////////\n\tnum=num*10+(s[i]-'0');\n\ti++;\n      }\n      //cout<<\"num\"<<num<<endl;\n      // cout<<i<<\" \"<<s[i]<<endl;//\n      if(i==s.size())\n\ta[0]=-num;\n      else if(i+1<s.size() && s[i+1]=='^')\n\ta[s[i+2]-'0']=-num,i+=3;\n      else\n\ta[1]=-num,i++;\n      //  cout<<\"i\"<<i<<endl;\n      //rep(j,6)\n      //\tprintf(\"a[%d]=%d\\n\",j,a[j]);\n    }else{//+\n      if(s[i]=='x'){\n\tnum=1;\n      }else{\n\ti++;\n\tif(s[i]=='x')num=1;\n\twhile(s[i]!='x' && i<s.size()){\n\t  //  printf(\"s[%d]=%c\\n\",i,s[i]);////////\n\t  num=num*10+(s[i]-'0');\n\t  i++;\n\t}\n      }\n      //      cout<<\"num\"<<num<<endl;\n      // cout<<i<<\" \"<<s[i]<<endl;/////\n      if(i==s.size())\n        a[0]=num;\n      else if(i+1<s.size() && s[i+1]=='^')\n        a[s[i+2]-'0']=num,i+=3;\n      else\n\ta[1]=num,i++;\n      //cout<<\"i\"<<i<<endl;\n      // rep(j,6)\n      //\tprintf(\"a[%d]=%d\\n\",j,a[j]);\n    }\n  }/*\n  rep(i,6)\n    printf(\"a[%d]=%d\\n\",i,a[i]);\n   */\n  for(i=1;i<=2e3;i++){\n    if(func(i)==0){\n      div(-i);\t\n      \n    }\n    if(func(-i)==0){\n      div(i);\n      \n    }\n  }\n  sort(ans.begin(),ans.end());\n  rep(i,ans.size()){\n    cout<<\"(x\";\n    if(ans[i]>0)cout<<\"+\";\n    cout<<ans[i]<<\")\";\n  }\n  cout<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<sstream>\n#include<vector>\n#include<deque>\n#include<cstdio>\n#include<set>\n#include<cassert>\n#include<algorithm>\n\n#define REP(i,s,n) for(int i=s;i<n;++i)\n#define rep(i,n) REP(i,0,n)\n\nusing namespace std;\ntypedef long long ll;\nconst bool debug = false;\n\ndeque<string> split(string s) {\n  deque<string> deq;\n  int n = (int)s.size();\n  int sp = 0;\n  rep(i,n) {\n    if( s[i] == 'x' ) {\n      int ep = i;\n      if( i+1 < n && s[i+1] == '^' ) {\n\tep = i+2;\n\tassert( i + 2 < n );\n      }\n      deq.push_back(s.substr(sp,ep-sp+1));\n      sp = ep + 1;\n    }\n  }\n  if( sp != n ) {\n    deq.push_back(s.substr(sp));\n  }\n  return deq;\n}\n\nstring getCoef(string s) {\n\n  bool minus = ( s[0] == '-' );\n\n  rep(i,(int)s.size()) {\n    if( s[i] == '+' || s[i] == '-' ) {\n      s[i] = ' ';\n    }\n  }\n  stringstream ss2;\n  ss2 << s;\n  ss2 >> s;\n\n\n  bool found = false;\n  if( s[0] == 'x' ) return \"1\";\n  rep(i,(int)s.size()) {\n    if( s[i] == 'x' ) {\n      s[i] = ' ';\n      found = true;\n    }\n  }\n  if( !found ) {\n    if( minus ) s = \"-\" + s;\n    return s;\n  }\n  stringstream ss;\n  ss << s;\n  string ret;\n  ss >> ret;\nif( minus ) ret = \"-\" + ret;\n  return ret;\n}\n\nint getPcoef(string s) {\n  rep(i,(int)s.size()) {\n    if( s[i] == 'x' ) {\n      if( i + 1 < (int)s.size() && s[i+1] == '^' ) {\n\treturn s[i+2] - '0';\n      } else {\n\treturn 1;\n      }\n    }\n  }\n  return 0;\n}\n\nbool check(ll x,deque<string> &deq) {\n  if( debug ) {\n    puts(\"\");\n    cout << \"check [[ \" << x << \"]]\" << endl;\n  }\n  ll res = 0;\n  rep(i,(int)deq.size()) {\n    ll cost = 0;\n    string s = deq[i];\n    string coef = getCoef(s);\n    int pcoef = getPcoef(s);\n    if( debug ) {\n      cout << deq[i] << \" --> \" << coef << \" * x^[\" << pcoef << \"]\" << endl;\n\n    }\n    \n    ll v = atoll(coef.c_str());\n    if( debug )cout << \"v = \" << v << endl;\n    ll tmp = 1;\n    rep(_,pcoef) tmp *= x;\n    cost = v * tmp;\n    if( debug ){\n      cout << \"cost = \" << cost << endl;\n    }\n    res += cost;\n  }\n  return res == 0;\n}\n\nint getDegree(string  s) {\n  int ret = 0;\n  int n = (int)s.size();\n  rep(i,(int)s.size()) {\n    if( s[i] == 'x' ) {\n      if( i+1 < n && s[i+1] == '^' ) {\n\tassert( i + 2 < n );\n\tret = max(ret,s[i+2]-'0');\n      } else {\n\tret = max(ret,1);\n      }\n    }\n  }\n  return ret;\n}\n\nvoid compute(string s) {\n  int deg = getDegree(s);\n  if( debug ) cout << \"degree = \" << deg << endl;\n  deque<string> deq = split(s);\n  if( debug ) {\n    cout << \"split --\" << endl;\n    rep(i,(int)deq.size()) {\n      cout << deq[i] << \" :: \";\n    } puts(\"\");\n  }\n\n  set<int> S;\n  rep(i,(int)deq.size()) {\n    S.insert(getPcoef(deq[i]));\n  }\n  assert( (int)S.size() == (int)deq.size() );\n\n\n  /*\n  cout << check(-2,deq) << endl;\n  return;\n  */\n\n  vector<ll> ans;\n  for(ll i=1;;++i) {\n    if( check(i,deq) ) ans.push_back(i);\n    if( check(-i,deq) ) ans.push_back(-i);\n    if( (int)ans.size() >= deg ) break;\n  }  \n  sort(ans.begin(),ans.end(),greater<int>());\n  rep(i,(int)ans.size()) {\n    if( ans[i] == 0) {\n      cout <<\"x\";\n    } else {\n      cout << \"(x\";\n      if(ans[i]<0LL) cout << \"+\" << -ans[i] << \")\";\n      else           cout  << \"-\" << ans[i] << \")\";\n    }\n  } puts(\"\");\n}\n\nint main() {\n  string s;\n  cin >> s;\n  compute(s);\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<string>\n#include<algorithm>\t\n#include<map>\n#include<set>\n#include<utility>\n#include<cmath>\n#include<cstring>\n#include<queue>\n#include<stack>\n#include<cstdio>\n#include<sstream>\n#include<iomanip>\n#define loop(i,a,b) for(int i=a;i<b;i++) \n#define rep(i,a) loop(i,0,a)\n#define pb push_back\n#define all(in) in.begin(),in.end()\n#define shosu(x) fixed<<setprecision(x)\nusing namespace std;\n//kaewasuretyuui\ntypedef long long ll;\ntypedef pair<int,int> pii;\ntypedef vector<ll> vi;\ntypedef vector<vi> vvi;\ntypedef vector<pii> vp;\ntypedef vector<vp> vvp;\ntypedef vector<string> vs;\ntypedef vector<double> vd;\ntypedef vector<vd> vvd;\ntypedef pair<int,pii> pip;\ntypedef vector<pip>vip;\nconst double PI=acos(-1);\nconst double EPS=1e-7;\nconst int inf=1e8;\nint dx[4]={0,1,0,-1};\nint dy[4]={1,0,-1,0};\nstring s;\nvi in;\nint f(int a){\n\tint out=0;\n\tbool h=false;\n\twhile(a&&isdigit(s[a-1]))a--;\n\tif(a&&s[a-1]=='-')h=true;\n\twhile(isdigit(s[a])){\n\t\tout*=10;\n\t\tout+=s[a]-'0';\n\t\ta++;\n\t}\n\tif(h)out*=-1;\n\treturn out;\n}\nvi ya;\nint m;\nvi out;\nint dfs(int a,int b){\n\tif(a==m){\n\t\t//out\n\t\tll q=1;\n\t\trep(i,m)q*=out[i];\n\t\tif(q!=in[0])return 0;\n\t\tq=0;\n\t\trep(i,m)q+=out[i];\n\t\tif(q!=in[m-1])return 0;\n\t\tq=0;\n\t\trep(i,m)rep(j,m)if(i!=j)q+=out[i]*out[j];\n//\t\trep(i,m)cout<<\" \"<<out[i];cout<<endl;\n\t\tif(q/2!=in[m-2])return 0;\n\t\tsort(all(out));\n\t\trep(i,m)printf(\"(x%+d)\",out[i]);//cout<<\" \"<<out[i];cout<<endl;\n\t\tcout<<endl;\n\t\treturn 1;\n\t}\n\trep(i,ya.size())if(abs(in[0])%abs(b*ya[i])==0){\n\t\tout[a]=ya[i];\n\t\tif(dfs(a+1,b*ya[i]))return 1;\n\t\tout[a]=0;\n\t}\n\treturn 0;\n}\nint main(){\n\tcin>>s;\n\ts=\"1\"+s;\n\tin=vi(6);\n\tint n=s.size();\n\trep(i,n)if(s[i]=='x'){\n\t\tif(s[i+1]=='^')in[s[i+2]-'0']=f(i-1);\n\t\telse in[1]=f(i-1);\n\t}\n\tin[0]=f(n-1);\n\tm=5;\n\twhile(in[m]==0)m--;\n\tout=vi(m);\n//\trep(i,6)cout<<\" \"<<in[i];cout<<endl;\n\tloop(i,1,2010)if(abs(in[0])%i==0){\n\t\tya.pb(i);\n\t\tya.pb(-i);\n\t}\n//\trep(i,ya.size())cout<<\" \"<<ya[i];cout<<endl;\n\tdfs(0,1);\n}\n\n\n/*int n,m;\nvvi in;\ndouble h;\nstruct UnionFind{\n    vector<int> data;\n    UnionFind(int size) : data(size, -1) {}\n    bool unionSet(int x,int y){\n        x=root(x);y=root(y);\n        if(x==y)return 0;\n        if(data[y]<data[x])swap(x,y);\n        data[x]+=data[y],data[y]=x;\n        return 1;\n    }\n    bool findSet(int x,int y){\n        return root(x)==root(y);\n    }\n    int root(int x){\n        return data[x]<0 ? x : data[x]=root(data[x]);\n    }\n    int size(int x){\n        return -data[root(x)];\n    }\n};\ndouble l,r;\nbool f(){\n\tUnionFind uf(n);\n\tll c=0,d=0;\n\trep(i,m){\n\t\tdouble t=(double)in[i][2]/in[i][3];\n\t\tif(t<h){\n\t\t\tuf.unionSet(in[i][0],in[i][1]);\n\t\t\tc+=in[i][2];d+=in[i][3];\n\t\t}else{\n\t\t\tif(uf.findSet(in[i][0],in[i][1])==0){\n\t\t\t\tif((double)(c+in[i][2])/(d+in[i][3])<h)continue;\n\t\t\t\tcout<<c<<\" \"<<d<<endl;\n\t\t\t\tcout<<in[i][0]<<\" \"<<in[i][1]<<endl;\n\t\t\t\tuf.unionSet(in[i][0],in[i][1]);\n\t\t\t\tc+=in[i][2];d+=in[i][3];\n\t\t\t}\n\t\t}\n\t}\n\tcout<<l<<\" \"<<r<<\" \"<<h<<\" \"<<uf.size(0)<<endl;\n\tif(uf.size(0)==n)return true;\n\treturn false;\n}\nint main(){\n\tcin>>n>>m;\n\tin=vvi(m,vi(4));\n\trep(i,m)rep(j,4)cin>>in[i][j];\n\trep(i,m)swap(in[i][2],in[i][3]);\n\trep(i,m)rep(j,m)if(i!=j){\n\t\tif((double)in[i][3]/in[i][2]<(double)in[j][3]/in[j][2])swap(in[i],in[j]);\n\t}\n\trep(i,m){rep(j,4)cout<<\" \"<<in[i][j];cout<<endl;}\n\tl=0,r=1e10+2;\n\twhile(r-l>EPS){\n\t\th=(l+r)/2;\n\t\tif(f())r=h;\n\t\telse l=h;\n\t}\n\tcout<<l<<\" \"<<r<<endl;\n}\n//*/"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing ll = long long;\n#define rep(i,n) for(int (i)=0;(i)<(int)(n);++(i))\n#define all(x) (x).begin(),(x).end()\n#define pb push_back\n#define fi first\n#define se second\n#define dbg(x) cout<<#x\" = \"<<((x))<<endl\ntemplate<class T,class U> ostream& operator<<(ostream& o, const pair<T,U> &p){o<<\"(\"<<p.fi<<\",\"<<p.se<<\")\";return o;}\ntemplate<class T> ostream& operator<<(ostream& o, const vector<T> &v){o<<\"[\";for(T t:v){o<<t<<\",\";}o<<\"]\";return o;}\n\nusing pi = pair<ll,ll>;\n\npi READ(string s, ll mul){\n    bool x = false;\n    for(char c:s)if(c=='x') x = true;\n\n    if(!x) return {mul*stoi(s), 0};\n\n    int S = s.size();\n    int xidx = 0;\n    while(s[xidx]!='x') ++xidx;\n\n    ll a = 1, n = 1;\n    if(xidx != 0) a = stoi(s.substr(0,xidx));\n    if(xidx != S-1) n = stoi(s.substr(xidx+2));\n    return {mul*a, n};\n}\n\nll f(const vector<pi> &v, ll x){\n    ll ret = 0;\n    for(pi p:v){\n        ll add = p.fi;\n        rep(_,p.se) add *= x;\n        ret += add;\n    }\n    return ret;\n}\n\nstring cv(int x){\n    if(x==0) return \"x\";\n\n    string ret = \"(x\";\n\n    x = -x;\n    if(x>0) ret += \"+\";\n\n    ret += to_string(x) + \")\";\n    return ret;\n}\n\nint main(){\n    string s;\n    cin >>s;\n    int S = s.size();\n\n    int idx = 0;\n    int m = 1;\n    vector<pi> v;\n    while(idx<S){\n        int nx = idx;\n        while(nx<S && (s[nx]!='+' && s[nx]!='-')) ++nx;\n\n        v.pb(READ(s.substr(idx, nx-idx), m));\n\n        if(nx<S){\n            if(s[nx] == '+') m = 1;\n            else m = -1;\n            ++nx;\n        }\n        idx = nx;\n    }\n\n    // dbg(v);\n    int n = v[0].se;\n\n    string ans = \"\";\n\n    const int N = 2000;\n    for(int i=N; i>=-N; --i){\n        if(f(v,i) == 0) ans += cv(i);\n    }\n    cout << ans << \"\\n\";\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\nusing namespace std;\n\nbool test(vector<int> &K, int a, int n){\n    for(int i=n;i>0;i--){\n        K[i-1]-=K[i]*a;\n    }\n    if(!K[0]){\n        for(int i=0;i<n;i++){\n            K[i]=K[i+1];\n        }\n        K.pop_back();\n        return true;\n    }\n    return false;\n}\n\nint main(){\n    int n;\n    cin.ignore();//x\n    cin.ignore();//^\n    cin>>n;\n    vector<int> k(n+1);\n    k[n]=1;\n    string S;\n    cin>>S;\n    int i=0;\n    while(true){\n        int d=0;\n        int f = (S[i]=='+'?1:-1);\n        for(i++;S[i]!='x'&&i<S.size();i++){\n            d*=10;\n            d+=S[i]-'0';\n        }\n        d*=f;\n        if(i==S.size()){\n            k[0]=d;\n            break;\n        }else{\n            i++;\n            if(i<S.size()&&S[i]=='^'){\n                k[S[i+1]-'0']=d;\n                i+=2;\n            }else{\n                k[1]=d;\n            }\n        }\n    }\n    vector<int> ans;\n    for(int i=n;i>0;i--){\n        for(int a=-(k[0]>0?k[0]:-k[0]);a<=(k[0]>0?k[0]:-k[0]);a++){\n            if(!a||k[0]%a) continue;\n            vector<int> K=k;\n            if(test(K,a,i)){\n                k=K;\n                ans.push_back(a);\n                break;\n            }\n        }\n    }\n    sort(ans.begin(), ans.end());\n    for(auto d:ans){\n        cout<<\"(x\"<<(d>0?\"+\":\"\")<<d<<')';\n    }\n    cout<<endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<sstream>\n#include<vector>\n#include<deque>\n#include<cstdio>\n#include<cassert>\n#include<algorithm>\n\n#define REP(i,s,n) for(int i=s;i<n;++i)\n#define rep(i,n) REP(i,0,n)\n\nusing namespace std;\ntypedef long long ll;\nconst bool debug = false;\n\ndeque<string> split(string s) {\n  deque<string> deq;\n  int n = (int)s.size();\n  int sp = 0;\n  rep(i,n) {\n    if( s[i] == 'x' ) {\n      int ep = i;\n      if( i+1 < n && s[i+1] == '^' ) {\n\tep = i+2;\n\tassert( i + 2 < n );\n      }\n      deq.push_back(s.substr(sp,ep-sp+1));\n      sp = ep + 1;\n    }\n  }\n  if( sp != n ) {\n    deq.push_back(s.substr(sp));\n  }\n  return deq;\n}\n\nstring getCoef(string s) {\n  bool found = false;\n  if( s[0] == 'x' ) return \"1\";\n  rep(i,(int)s.size()) {\n    if( s[i] == 'x' ) {\n      s[i] = ' ';\n      found = true;\n    }\n  }\n  if( !found ) {\n    return s;\n  }\n  stringstream ss;\n  ss << s;\n  string ret;\n  ss >> ret;\n  return ret;\n}\n\nint getPcoef(string s) {\n  rep(i,(int)s.size()) {\n    if( s[i] == 'x' ) {\n      if( i + 1 < (int)s.size() && s[i+1] == '^' ) {\n\treturn s[i+2] - '0';\n      } else {\n\treturn 1;\n      }\n    }\n  }\n  return 0;\n}\n\nbool check(ll x,deque<string> &deq) {\n  if( debug ) {\n    puts(\"\");\n    cout << \"check [[ \" << x << \"]]\" << endl;\n  }\n  ll res = 0;\n  rep(i,(int)deq.size()) {\n    ll cost = 0;\n    string s = deq[i];\n    string coef = getCoef(s);\n    int pcoef = getPcoef(s);\n    if( debug ) {\n      cout << deq[i] << \" --> \" << coef << \" * x^[\" << pcoef << \"]\" << endl;\n    }\n    ll v = atoll(coef.c_str());\n    if( debug )cout << \"v = \" << v << endl;\n    ll tmp = 1;\n    rep(_,pcoef) tmp *= x;\n    cost = v * tmp;\n    if( debug ){\n      cout << \"cost = \" << cost << endl;\n    }\n    res += cost;\n  }\n  return res == 0;\n}\n\nint getDegree(string  s) {\n  int ret = 0;\n  int n = (int)s.size();\n  rep(i,(int)s.size()) {\n    if( s[i] == 'x' ) {\n      if( i+1 < n && s[i+1] == '^' ) {\n\tassert( i + 2 < n );\n\tret = max(ret,s[i+2]-'0');\n      } else {\n\tret = max(ret,1);\n      }\n    }\n  }\n  return ret;\n}\n\nvoid compute(string s) {\n  int deg = getDegree(s);\n  if( debug ) cout << \"degree = \" << deg << endl;\n  deque<string> deq = split(s);\n  if( debug ) {\n    cout << \"split --\" << endl;\n    rep(i,(int)deq.size()) {\n      cout << deq[i] << \" :: \";\n    } puts(\"\");\n  }\n\n  /*\n  cout << check(-1,deq) << endl;\n  return;\n  */\n\n  vector<ll> ans;\n  for(ll i=0;i<=300000;++i) {\n    if( check(i,deq) ) ans.push_back(i);\n    if( i != 0 && check(-i,deq) ) ans.push_back(-i);\n    if( (int)ans.size() >= deg ) break;\n  }  \n  sort(ans.begin(),ans.end(),greater<int>());\n  rep(i,(int)ans.size()) {\n    if( ans[i] == 0) {\n      cout <<\"x\";\n    } else {\n      cout << \"(x\";\n      if(ans[i]<0LL) cout << \"+\" << -ans[i] << \")\";\n      else           cout  << \"-\" << ans[i] << \")\";\n    }\n  } puts(\"\");\n}\n\nint main() {\n  string s;\n  cin >> s;\n  compute(s);\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main() {\n  string s;\n  int data[6] = {0};\n  \n  cin >> s;\n  int i = 0;\n  int now = 0;\n  while ( i < s.size() ) {\n    bool flag = false;\n    if ( s[i] == '+' ) {\n      i++;\n      now++;\n    } else if ( s[i] == '-' ) {\n      i++;\n      now++;\n      flag = true;\n    }\n    \n    int tmp = 0;\n    if ( '0' <= s[i] && s[i] <= '9' ) { // keisu\n      while ( '0' <= s[i] && s[i] <= '9' ) {\n\ttmp *= 10;\n\ttmp += s[i] - '0';\n\ti++;\n      }\n    }\n    tmp = max(1, tmp);\n    if ( flag ) tmp *= -1;\n    if ( s[i] == 'x' ) {\n      i++;\n      if ( s[i] == '^' ) {\n\ti++;\n\tdata[s[i] - '0'] = tmp;\n\ti++;\n      } else {\n\tdata[1] = tmp;\n      }\n    } else {\n      data[0] = tmp;\n    }\n  }\n\n  for ( int i = 0; i < 6; i++ ) {\n    cout << data[i] << \" \";\n  }\n  cout << endl;\n\n  vector<int> v;\n  for ( int i = -2000; i <= 2000; i++ ) {\n    int sum = data[0];\n    for ( int j = 1; j < 6; j++ ) sum += data[j] * pow(i, j);\n    if ( sum == 0 ) v.push_back(-i);\n  }\n\n  sort(v.begin(), v.end());\n  for ( int i = 0; i < (int)v.size(); i++ ) {\n    printf(\"(x%+d)\", v[i]);\n  }\n  cout << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\n#define int long long\n\n#define rep(i,n) for(int i=0;i<(n);i++)\n#define all(v) (v).begin(),(v).end()\n#define pb push_back\n#define fi first\n#define se second\n\ntypedef vector<int>vint;\ntypedef pair<int,int>pint;\ntypedef vector<pint>vpint;\n\ntemplate<typename A,typename B>inline void chmin(A &a,B b){if(a>b)a=b;}\ntemplate<typename A,typename B>inline void chmax(A &a,B b){if(a<b)a=b;}\n\nstring S;\n\nint a[6];\n\nsigned main(){\n    cin>>S;\n\n    int cur=0;\n    while(cur<S.size()){\n        bool m=false;\n        if(S[cur]=='-')m=true;\n\n        int v=0;\n        if(S[cur]=='+'||S[cur]=='-')cur++;\n        if(!isdigit(S[cur]))v=1;\n        while(cur<S.size()&&isdigit(S[cur])){\n            v=v*10+S[cur]-'0';\n            cur++;\n        }\n        if(m)v*=-1;\n        if(cur==S.size()){\n            a[0]=v;\n            continue;\n        }\n        int t;\n        cur++;\n        if(cur!=S.size()&&S[cur]=='^'){\n            cur++;\n            t=S[cur]-'0';\n            cur++;\n        }\n        else t=1;\n        a[t]=v;\n    }\n\n    vint lis;\n    for(int i=-2222;i<=2222;i++){\n        int d=1;\n        int v=0;\n        for(int j=0;j<=5;j++){\n            v+=d*a[j];\n            d*=i;\n        }\n        if(v==0)lis.pb(-i);\n    }\n\n    sort(all(lis));\n    stringstream ss;\n    rep(i,lis.size()){\n        ss<<\"(x\";\n        if(lis[i]>0)ss<<\"+\";\n        ss<<lis[i]<<\")\";\n    }\n    cout<<ss.str()<<endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\n\n\nstring st;\nint a;\nint getnum() {\n\tint num=0;\n\twhile (a != st.size()&&isdigit(st[a])) {\n\t\tnum*=10;\n\t\tnum+=st[a]-'0';\n\t\ta++;\n\t}\n\treturn num;\n}\nvector<int>kou() {\n\tvector<int>v(10);\n\tif (st[a] == 'x') {\n\t\ta++;\n\t\tif (a == st.size() || st[a] != '^') {\n\t\t\tv[1]=1;\n\t\t}\n\t\telse {\n\n\t\t\tassert(st[a] == '^');\n\t\t\ta++;\n\t\t\tint n(getnum());\n\t\t\tv[n] = 1;\n\t\t}\n\t}\n\telse {\n\t\tint kei(getnum());\n\t\tif (a == st.size() || st[a] == '+' || st[a] == '-') {\n\t\t\tv[0]=kei;\n\t\t\t\n\t\t}\n\t\telse {\n\t\t\tassert(st[a]=='x');\n\t\t\ta++;\n\t\t\tif (a == st.size() || st[a] == '+' || st[a] == '-') {\n\t\t\t\tv[1]=kei;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tassert(st[a]=='^');\n\t\t\t\ta++;\n\t\t\t\tint num(getnum());\n\t\t\t\tv[num]=kei;\n\t\t\t}\n\t\t}\n\t}\n\treturn v;\n}\nvector<int>takou() {\n\tvector<int>v(kou());\n\twhile(a != st.size()) {\n\t\tbool plus=true;\n\t\tplus=st[a]=='+';\n\t\ta++;\n\t\tvector<int>w(kou());\n\t\tif (plus) {\n\t\t\tfor (int i = 0; i < 10; ++i) {\n\t\t\t\tv[i]+=w[i];\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tfor (int i = 0; i < 10; ++i) {\n\t\t\t\tv[i]-=w[i];\n\t\t\t}\n\t\t}\n\t}\n\treturn v;\n\t\t\n}\nlong long int pow_int(long long int a, int b) {\n\tif(b==0)return 1;\n\telse {\n\t\treturn a*pow_int(a,b-1);\n\t}\n}\nint main() {\n\tcin>>st;\n\ta=0;\n\tauto v(takou());\n\tvector<long long int>anss;\n\tfor (long long int i = -4000; i <= 4000; ++i) {\n\t\tlong long int sum=0;\n\t\tfor (int j = 0; j <= 5; ++j) {\n\t\t\tsum+=pow_int(i,j)*v[j];\n\t\t}\n\t\tif (sum == 0) {\n\t\t\tanss.push_back(i);\n\t\t}\n\t}\n\treverse(anss.begin(),anss.end());\n\n\tfor (auto ans : anss) {\n\t\tcout<<\"(x\";\n\t\tif (ans > 0) {\n\t\t\tcout<<\"-\"<<ans;\n\t\t}\n\t\telse {\n\t\t\tcout<<\"+\"<<-ans;\n\t\t}\n\t\tcout<<\")\";\n\t}\n\tcout<<endl;\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "// need\n#include <iostream>\n#include <algorithm>\n\n// data structure\n#include <bitset>\n//#include <list>\n#include <map>\n#include <queue>\n#include <set>\n#include <stack>\n#include <string>\n#include <utility>\n#include <vector>\n//#include <array>\n//#include <tuple>\n#include <unordered_map>\n#include <unordered_set>\n#include <complex>\n//#include <deque>\n#include<valarray>\n\n// stream\n//#include <istream>\n//#include <sstream>\n//#include <ostream>\n\n// etc\n#include <cassert>\n#include <functional>\n#include <iomanip>\n//#include <typeinfo>\n#include <chrono>\n#include <random>\n#include <numeric>\n\n#define INIT std::ios::sync_with_stdio(false);std::cin.tie(0);\n#define VAR(type, ...)type __VA_ARGS__;MACRO_VAR_Scan(__VA_ARGS__);\ntemplate<typename T> void MACRO_VAR_Scan(T& t) { std::cin >> t; }\ntemplate<typename First, typename...Rest>void MACRO_VAR_Scan(First& first, Rest&...rest) { std::cin >> first; MACRO_VAR_Scan(rest...); }\n#define VEC_ROW(type, n, ...)std::vector<type> __VA_ARGS__;MACRO_VEC_ROW_Init(n, __VA_ARGS__); for(int i=0; i<n; ++i){MACRO_VEC_ROW_Scan(i, __VA_ARGS__);}\ntemplate<typename T> void MACRO_VEC_ROW_Init(int n, T& t) { t.resize(n); }\ntemplate<typename First, typename...Rest>void MACRO_VEC_ROW_Init(int n, First& first, Rest&...rest) { first.resize(n); MACRO_VEC_ROW_Init(n, rest...); }\ntemplate<typename T> void MACRO_VEC_ROW_Scan(int p, T& t) { std::cin >> t[p]; }\ntemplate<typename First, typename...Rest>void MACRO_VEC_ROW_Scan(int p, First& first, Rest&...rest) { std::cin >> first[p]; MACRO_VEC_ROW_Scan(p, rest...); }\n#define OUT(d) std::cout<<d;\n#define FOUT(n, d) std::cout<<std::fixed<<std::setprecision(n)<<d;\n#define SOUT(n, c, d) std::cout<<std::setw(n)<<std::setfill(c)<<d;\n#define SP std::cout<<\" \";\n#define TAB std::cout<<\"\\t\";\n#define BR std::cout<<\"\\n\";\n#define ENDL std::cout<<std::endl;\n#define FLUSH std::cout<<std::flush;\n#define VEC(type, c, n) std::vector<type> c(n);for(auto& i:c)std::cin>>i;\n#define MAT(type, c, m, n) std::vector<std::vector<type>> c(m, std::vector<type>(n));for(auto& r:c)for(auto& i:r)std::cin>>i;\n#define ALL(a) (a).begin(),(a).end()\n#define FOR(i, a, b) for(int i=(a);i<(b);++i)\n#define RFOR(i, a, b) for(int i=(b)-1;i>=(a);--i)\n#define REP(i, n) for(int i=0;i<int(n);++i)\n#define RREP(i, n) for(int i=(n)-1;i>=0;--i)\n#define FORLL(i, a, b) for(ll i=ll(a);i<ll(b);++i)\n#define RFORLL(i, a, b) for(ll i=ll(b)-1;i>=ll(a);--i)\n#define REPLL(i, n) for(ll i=0;i<ll(n);++i)\n#define RREPLL(i, n) for(ll i=ll(n)-1;i>=0;--i)\n#define PAIR std::pair<int, int>\n#define PAIRLL std::pair<ll, ll>\n#define IN(a, x, b) (a<=x && x<b)\n#define SHOW(d) {std::cerr << #d << \"\\t:\" << d << \"\\n\";}\n#define SHOWVECTOR(v) {std::cerr << #v << \"\\t:\";for(const auto& xxx : v){std::cerr << xxx << \" \";}std::cerr << \"\\n\";}\n#define SHOWVECTOR2(v) {std::cerr << #v << \"\\t:\\n\";for(const auto& xxx : v){for(const auto& yyy : xxx){std::cerr << yyy << \" \";}std::cerr << \"\\n\";}}\n#define SHOWPAIR(p) {std::cerr << #p << \"\\t:(\" << p.first << \",\\t\" << p.second << \")\\n\";}\n#define SHOWPAIRVECTOR2(v) {std::cerr << #v << \"\\t:\\n\";for(const auto& xxx : v){for(const auto& yyy : xxx){std::cerr<<'('<<yyy.first<<\", \"<<yyy.second<<\") \";}std::cerr << \"\\n\";}}\n#define SHOWPAIRVECTOR(v) {for(const auto& xxx:v){std::cerr<<'('<<xxx.first<<\", \"<<xxx.second<<\") \";}std::cerr<<\"\\n\";}\n#define SHOWQUEUE(a) {std::queue<decltype(a.front())> tmp(a);std::cerr << #a << \"\\t:\";for(int i=0; i<static_cast<int>(a.size()); ++i){std::cerr << tmp.front() << \"\\n\";tmp.pop();}std::cerr << \"\\n\";}\ntemplate<typename T> inline T CHMAX(T& a, const T b) { return a = (a < b) ? b : a; }\ntemplate<typename T> inline T CHMIN(T& a, const T b) { return a = (a > b) ? b : a; }\n#define EXCEPTION(msg) throw std::string(\"Exception : \" msg \" [ in \") + __func__ + \" : \" + std::to_string(__LINE__) + \" lines ]\"\n#define TRY(cond, msg) try {if (cond) EXCEPTION(msg);}catch (std::string s) {std::cerr << s << std::endl;}\nvoid CHECKTIME(std::function<void()> f) { auto start = std::chrono::system_clock::now(); f(); auto end = std::chrono::system_clock::now(); auto res = std::chrono::duration_cast<std::chrono::nanoseconds>((end - start)).count(); std::cerr << \"[Time:\" << res << \"ns  (\" << res / (1.0e9) << \"s)]\\n\"; }\n\n#define int ll\nusing ll = long long;\nusing ull = unsigned long long;\nconstexpr int INFINT = 1 << 30;                          // 1.07x10^ 9\nconstexpr int INFINT_LIM = (1LL << 31) - 1;              // 2.15x10^ 9\nconstexpr ll INFLL = 1LL << 60;                          // 1.15x10^18\nconstexpr ll INFLL_LIM = (1LL << 62) - 1 + (1LL << 62);  // 9.22x10^18\nconstexpr double EPS = 1e-7;\nconstexpr int MOD = 1000000007;\nconstexpr double PI = 3.141592653589793238462643383279;\n\nusing State = std::string::const_iterator;\n\nint number(State& it) {\n\tint res = 0;\n\tbool minus = false;\n\tif (*it == '+') {\n\t\t++it;\n\t}\n\telse if (*it == '-') {\n\t\tminus = true;\n\t\t++it;\n\t}\n\tif (*it != 'x') {\n\t\twhile (isdigit(*it)) {\n\t\t\tres *= 10;\n\t\t\tres += *it - '0';\n\t\t\t++it;\n\t\t}\n\t}\n\telse {\n\t\tres = 1;\n\t}\n\tif (minus) {\n\t\tres *= -1;\n\t}\n\treturn res;\n}\n\nPAIR term(State& it) {\n\tint t = number(it);\n\tif (*it != 'x') {\n\t\treturn PAIR(0, t);\n\t}\n\t++it; // x\n\tif (*it != '^') {\n\t\treturn PAIR(1, t);\n\t}\n\t++it; // ^\n\tint p = number(it);\n\treturn PAIR(p, t);\n}\n\nstd::vector<PAIR> expression(State& it) {\n\tstd::vector<PAIR> res;\n\tdo {\n\t\tres.emplace_back(term(it));\n\t} while (*it == '+' || *it == '-');\n\treturn res;\n}\n\nll mypow(ll n, ll p) {\n\tll res = 1;\n\twhile (p) {\n\t\tif (p & 1) res *= n;\n\t\tn *= n;\n\t\tp >>= 1;\n\t}\n\treturn res;\n}\n\nsigned main() {\n\tINIT;\n\tVAR(std::string, s);\n\ts = '+' + s + '$';\n\tauto it = s.cbegin();\n\tauto exp(expression(it));\n\tstd::string res;\n\tRFOR(i, -2001, 2001) {\n\t\tll t = 0;\n\t\tfor (const auto& x : exp) {\n\t\t\tt += x.second * mypow(i, x.first);\n\t\t}\n\t\tif (t == 0) {\n\t\t\tres += \"(x\";\n\t\t\tif (i < 0) res += \"+\";\n\t\t\tres += std::to_string(-i);\n\t\t\tres += \")\";\n\t\t}\n\t}\n\tOUT(res)BR;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint ipow(int a,int b){\n    int ans=1;\n    for (int i = 0; i < b; ++i) {\n        ans=ans*a;\n    }\n    return ans;\n}\n\nint main(void){\n    int xi[6]={};\n    string inp;\n    cin>>inp;\n    int k=0;\n    char mi='+';\n    int ind=0;\n    while(inp.length()>0){\n        k=0;\n        if(inp[0]=='x')k=1;\n        else while(inp[0]!='x'&&!inp.empty()){\n            k=k*10+inp[0]-'0';\n            inp.erase(inp.begin());\n        }\n        if(!inp.empty()&&(inp[1]=='+'||inp[1]=='-')){inp.insert(inp.begin()+1,'1');inp.insert(inp.begin()+1,'^');}\n        if(!inp.empty())inp.erase(inp.begin(),inp.begin()+2);\n        if(inp.empty()){\n            ind=0;\n            if(mi=='-')k=k*-1;}\n        else {\n            ind=inp[0]-'0';\n            if(mi=='-')k=k*-1;\n            mi=inp[1];\n            inp.erase(inp.begin());\n        }\n        if(!inp.empty())inp.erase(inp.begin());\n        xi[ind]=k;\n    }\n    int mxi;\n    for (int i = 0; i < 6; ++i) {\n        if(xi[i]!=0)mxi=i;\n    }\n    vector <int> ans;\n    for(int i=1;i<2000;++i){\n        long long t=0;\n        for (int j = 0; j < 6; ++j) {\n            t+=xi[j]*ipow(i,j);\n        }\n        if(t==0)ans.push_back(-i);\n        if(ans.size()>=mxi)break;\n        t=0;\n        for (int j = 0; j < 6; ++j) {\n            t+=xi[j]*ipow(-i,j);\n        }\n        if(t==0)ans.push_back(i);\n        if(ans.size()>=mxi)break;\n    }\n    sort(ans.begin(),ans.end());\n    for (int i = 0; i < ans.size(); ++i) {\n        char a=ans[i]>0?'+':'-';\n        ans[i]=abs(ans[i]);\n        cout<<\"(x\"<<a<<ans[i]<<\")\";\n    }\n    cout<<endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<string>\n#include<algorithm>\t\n#include<map>\n#include<set>\n#include<utility>\n#include<cmath>\n#include<cstring>\n#include<queue>\n#include<stack>\n#include<cstdio>\n#include<sstream>\n#include<iomanip>\n#define loop(i,a,b) for(int i=a;i<b;i++) \n#define rep(i,a) loop(i,0,a)\n#define pb push_back\n#define all(in) in.begin(),in.end()\n#define shosu(x) fixed<<setprecision(x)\nusing namespace std;\n//kaewasuretyuui\ntypedef long long ll;\ntypedef pair<int,int> pii;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<pii> vp;\ntypedef vector<vp> vvp;\ntypedef vector<string> vs;\ntypedef vector<double> vd;\ntypedef vector<vd> vvd;\ntypedef pair<int,pii> pip;\ntypedef vector<pip>vip;\nconst double PI=acos(-1);\nconst double EPS=1e-7;\nconst int inf=1e8;\nint dx[4]={0,1,0,-1};\nint dy[4]={1,0,-1,0};\nstring s;\nint f(int a){\n\tif(s[a]=='+')return 1;\n\tif(s[a]=='-')return -1;\n\tbool h=false;\n\twhile(a&&isdigit(s[a]))a--;\n\tif(s[a]=='-')h=true;\n\ta++;\n\tint t=0;\n\twhile(a!=s.size()&&isdigit(s[a])){\n\t\tt*=10;\n\t\tt+=s[a]-'0';\n\t\ta++;\n\t}\n\tif(h)t*=-1;\n\treturn t;\n}\nint main(){\n\tcin>>s;\n\ts=\"+1\"+s;\n\tvi in(6);\n\tint n=s.size();\n\trep(i,n)if(s[i]=='x'){\n\t\tif(s[i+1]=='^')in[s[i+2]-'0']=f(i-1);\n\t\telse in[1]=f(i-1);\n\t}\n\tin[0]=f(n-1);\n\tvi out;\n\tfor(int i=-2000;i<=2000;i++){\n\t\tll sum=0;\n\t\trep(j,6){\n\t\t\tsum*=i;\n\t\t\tsum+=in[5-j];\n\t\t}\n\t\tif(sum==0)out.pb(-i);\n\t}\n\tsort(all(out));\n\trep(i,out.size())printf(\"(x%+d)\",out[i]);cout<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <string>\nusing namespace std;\ntypedef pair<int,int> P;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<P> vp;\ntypedef long long ll;\nconst int inf=1<<30;\n\nstring s;\n\nint main(){\n\tcin>>s;\n\tvi a(6);\n\ts+=\"+\";\n\ts=\"+\"+s;\n\tint t=0,I;\n\tfor(int i=1;i<s.size();i++) if(s[i]=='+'||s[i]=='-'){\n\t\tint t_=i;\n\t\tbool flag=0;\n\t\tfor(int j=t;j<i;j++) if(s[j]=='x') flag=1;\n\t\tif(!flag) I=0;\n\t\telse if(s[i-1]=='x'){\n\t\t\tI=1;\n\t\t\tt_--;\n\t\t}\n\t\telse{\n\t\t\tI=s[i-1]-'0';\n\t\t\tt_-=3;\n\t\t}\n\t\tbool tmp=(s[t]=='+'||!t);\n\t\tint num=0;\n\t\tif(t+1==t_) num=1;\n\t\telse for(int j=t+1;j<t_;j++) (num*=10)+=s[j]-'0';\n\t\ta[I]=(tmp?1:-1)*num;\n\t\tt=i;\n\t}\n\tfor(int i=2000;i>=-2000;i--) if(i){\n\t\tll sum=0;\n\t\tfor(int j=0;j<6;j++){\n\t\t\tll num=1;\n\t\t\tfor(int k=0;k<j;k++) num*=i;\n\t\t\tsum+=a[j]*num;\n\t\t}\n\t\tif(sum==0){\n\t\t\tint I=i*(-1);\n\t\t\tcout<<\"(x\";\n\t\t\tif(I>0) cout<<'+';\n\t\t\tcout<<I<<')';\n\t\t}\n\t}\n\tcout<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\ntypedef long long ll;\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<ll> VL;\ntypedef vector<VL> VVL;\ntypedef pair<int, int> PII;\n\n#define FOR(i, a, n) for (ll i = (ll)a; i < (ll)n; ++i)\n#define REP(i, n) FOR(i, 0, n)\n#define ALL(x) x.begin(), x.end()\n#define MP make_pair\n#define PB push_back\n#define MOD 1000000007\n#define INF (1LL<<30)\n#define LLINF (1LL<<60)\n#define PI 3.14159265359\n#define EPS 1e-12\n//#define int ll\n\nsigned main(void)\n{\n  string s, t = \"\";\n  cin >> s;\n\n  bool a = false, b = false;\n  VI v;\n  REP(i, s.size()) {\n    if(s[i] == 'x') {\n      if(t == \"\") {\n        if(b) v.push_back(-1);\n        else v.push_back(1);\n      }\n      else {\n        if(b) v.push_back(-1*stoi(t));\n        else v.push_back(stoi(t));\n      }\n      t = \"\";\n    } else if(s[i] == '^') {\n      a = false;\n    } else if(s[i] == '+') {\n      if(t == \"\") v.push_back(1);\n      else v.push_back(stoi(t));\n      a = true;\n      b = false;\n      t = \"\";\n    } else if(s[i] == '-') {\n      if(t == \"\") v.push_back(1);\n      else v.push_back(stoi(t));\n      a = true;\n      b = true;\n      t = \"\";\n    } else if(a) {\n      t += s[i];\n    } else if(!a) {\n      t += s[i];\n    }\n  }\n  if(b) v.push_back(-1*stoi(t));\n  else v.push_back(stoi(t));\n\n  VI ans;\n  FOR(i, -2000, 2000) {\n    int tmp = 0, ret = 0;\n    REP(j, v.size()) {\n      if(!(j%2)) tmp = v[j];\n      else {\n        REP(k, v[j]) tmp *= i;\n        ret += tmp;\n      }\n      //cout << tmp << endl;\n    }\n    //cout << \"i:\" << i << \" ret:\" << ret << endl;\n    ret += v[v.size()-1];\n    if(ret == 0) ans.push_back(i);\n  }\n  sort(ALL(ans), greater<int>());\n  for(int i: ans) {\n    cout << \"(x\";\n    if(i>0) cout << \"-\" << i << \")\";\n    else cout << \"+\" << -1*i << \")\";\n  }\n  cout << endl;\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nchar s[999],*p=s;\nint d[10];\n\nchar*f(char*t){\n\tint sn=1;\n\tif(*t=='-')sn=-1;\n\tt++;\n\tint coe=0;\n\twhile('0'<=*t&&*t<='9')coe=coe*10+*t++-'0';\n\tif(coe==0)coe=1;\n\tint deg;\n\tif(*t!='x')deg=0;\n\telse{\n\t\tt++;\n\t\tif(*t=='^')deg=*++t-'0',t++;\n\t\telse deg=1;\n\t}\n\td[deg]=sn*coe;\n\treturn t;\n}\n\nlong calc(long x){\n\tlong ans=0,s=1;\n\tfor(int i=0;i<=5;i++)ans+=d[i]*s,s*=x;\n\treturn ans;\n}\n\nint main(){\n\tscanf(\"%s\",s+1);\n\ts[0]='+';\n\twhile(*(p=f(p)));\n\tfor(int x=-2000;x<=2000;x++)if(calc(-x)==0)printf(\"(x%+d)\",x);\n\tputs(\"\");\n}\n"
  },
  {
    "language": "C",
    "code": "// AOJ 3002: Factorization\n// 2017.11.29 bal4u@uu\n\n#include <stdio.h>\n\nint a[6], n;\nint ans[6];\n\nchar buf[100], *p;\nint getint()\n{\n\tint n = 1;\n\tint minus = 0;\n\n\tif (*p == '-') p++, minus = 1;\n\telse if (*p == '+') p++;\n\tif (*p >= '0' && *p <= '9') {\n\t\tn = 0;\n\t\twhile (*p >= '0' && *p <= '9') n = (n<<3) + (n<<1) + (*p++ & 0xf);\n\t}\n\tif (minus) n = -n;\n\treturn n;\n}\n\nlong long pow(int x, int k)\n{\n\tlong long t = 1;\n\twhile (k--) t = t * x;\n\treturn t;\n}\n\nint check(int v)\n{\n\tint i;\n\tlong long s = 0;\n\tfor (i = 0; i <= n; i++) {\n\t\tif (a[i] == 0) continue;\n\t\ts += a[i] * pow(v, i);\n\t}\n\treturn s == 0;\n}\n\nint main()\n{\n\tint i, k, c;\n\n    fgets(p=buf, 100, stdin);\n\tp += 2, n = *p++ & 0xf, a[n] = 1;\n\twhile (*p >= ' ') {\n\t\tk = getint(), i = 0;\n\t\tif (*p == 'x') {\n\t\t\ti = 1, p++;\n\t\t\tif (*p == '^') p++, i = *p++ & 0xf;\n\t\t}\n\t\ta[i] = k;\n\t}\n\n\tc = a[0]; if (c < 0) c = -c;\n\tfor (i = 0, k = -c; k <= c; k++) if (k != 0) {\n\t\tif (a[0] % k == 0 && check(-k)) {\n\t\t\tans[i] = k;\tif (++i >= n) break;\n\t\t}\n\t}\n\tfor (i = 0; i < n; i++) printf(\"(x%+d)\", ans[i]);\n\tputchar('\\n');\n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "// AOJ 3002: Factorization\n// 2017.11.29 bal4u@uu\n\n#include <stdio.h>\n\nint a[6], n;\nint ans[6];\n\nchar buf[100], *p;\nint getint()\n{\n\tint n = 0;\n\tif (*p == '-') {\n\t\tp++; while (*p >= '0' && *p <= '9') n = (n<<3) + (n<<1) + (*p++ & 0xf);\n\t\treturn -n;\n\t}\n\tif (*p == '+') p++;\n\twhile (*p >= '0' && *p <= '9') n = (n<<3) + (n<<1) + (*p++ & 0xf);\n\treturn n;\n}\n\nlong long pow(int x, int k)\n{\n\tlong long t = 1;\n\twhile (k--) t = t * x;\n\treturn t;\n}\n\nint check(int v)\n{\n\tint i;\n\tlong long s = 0;\n\tfor (i = 0; i <= n; i++) {\n\t\tif (a[i] == 0) continue;\n\t\ts += a[i] * pow(v, i);\n\t}\n\treturn s == 0;\n}\n\nint main()\n{\n\tint i, k, c;\n\n    fgets(p=buf, 100, stdin);\n\tp += 2, n = *p++ & 0xf, a[n] = 1;\n\twhile (*p >= ' ') {\n\t\tk = getint(), i = 0;\n\t\tif (*p == 'x') {\n\t\t\ti = 1, p++;\n\t\t\tif (*p == '^') p++, i = *p++ & 0xf;\n\t\t}\n\t\ta[i] = k;\n\t}\n\n\tc = a[0]; if (c < 0) c = -c;\n\tfor (i = 0, k = -c; k <= c; k++) if (k != 0) {\n\t\tif (a[0] % k == 0 && check(-k)) {\n\t\t\tans[i] = k;\tif (++i >= n) break;\n\t\t}\n\t}\n\tfor (i = 0; i < n; i++) printf(\"(x%+d)\", ans[i]);\n\tputchar('\\n');\n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "/*\n  AOJ #3002\n  title:Factrization\n  @kankichi573\n  2017/12/14 WA 35/37\n*/\n#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n\n#define max(x,y) (((x)>(y))?(x):(y))\nchar S[1000];\nint  k[6];\nint  jisuu;\nint  insuu[6];\n\nchar delim[3]=\"+-\";\n\nint find_sign(char s[])\n{\n  char *p;\n  int ret;\n\n  for(p=s;*p;p++)\n    if(*p=='+')\n      {\n        ret=1;\n        goto END;\n      }\n    else\n      {\n        ret=-1;\n        goto END;\n      }\n  ret=0;\n END:\n  printf(\"f_s %s [%d]\\n\",s,ret);\n}\n\n\nint parse_monomial(char s[])\n{ \n  char *p1,*p2;\n  int a,b,ji;\n\n  //printf(\"Mono=%s\\n\",s);\n  \n  \n  p1=strchr(s,'x');\n  p2=strchr(s,'^');\n\n  \n  if(p1 && p2 && p1!=s)\n    {\n      sscanf(s,\"%dx^%d\",&a,&b);\n      ji=b;\n      k[b]=a;\n    }\n  \n  else if(p2 && p1==s)\n    {\n      sscanf(s,\"x^%d\",&b);\n      ji=b;\n      k[b]=1;\n    }\n    \n  else if(p1 && !p2 && p1!=s)\n    {\n      if( 0==strcmp(\"+x\",s))\n        {\n          ji=1;\n          k[1]=1;\n        }\n      else if(0==strcmp(\"-x\",s))\n        {\n          ji=1;\n          k[1]=-1;\n        }\n      else\n        {\n          sscanf(s,\"%dx\",&a);\n          ji=1;\n          k[1]=a;\n        }\n    }\n\n  else if(!p1 && !p2)\n    {\n      sscanf(s,\"%d\",&a);\n      ji=0;\n      k[0]=a;\n    }\n  return(ji);\n}\n\n\n\n\nint parse(char s[],int k[])\n{\n  char *p,*q,buf[100];\n  int jisuu,ji,t;\n  //printf(\"%s:\\n\",s);\n  ji=0;\n  t=0;\n  p=q=s;\n  while(1)\n    {\n      if(t==1)\n        p++;\n      while(*p!='+' && *p!='-' && *p)\n        p++;\n      memset(buf,0,sizeof(buf));\n      strncpy(buf,q,p-q);\n      jisuu=parse_monomial(buf);\n      ji=max(ji,jisuu);\n      q=p;\n      t=1;\n      if(!*p)\n        return(ji);\n    }\n}\nvoid dump()\n{\n  int i;\n  for(i=5;i>=0;i--)\n    printf(\"[%d],%d\\n\",i,k[i]);\n}\n\nlong long calc_poly(int k[],int n)\n{\n  long long ret;\n  ret =  k[5]*n*n*n*n*n;\n  ret += k[4]*n*n*n*n;\n  ret += k[3]*n*n*n;\n  ret += k[2]*n*n;\n  ret += k[1]*n;\n  ret += k[0];\n  return(ret);\n}\n\nint comp( const void * a , const void * b ) {\n\n  if( *( int * )a < *( int * )b ) {\n    return 1;\n  }\n  else\n    if( *( int * )a == *( int * )b ) {\n      return 0;\n    }\n  return -1;\n}\n\nvoid dump2()\n{\n  int i;\n  for(i=0;i<jisuu;i++)\n    printf(\"|%d\\n\",insuu[i]);\n}\n\nint main()\n{\n  int i,p;\n  long long llret,llret2;\n\n  scanf(\"%s\",S);\n  jisuu=parse(S,k);\n  //dump();\n  for(i=1,p=0;i<=200000;i++)\n    if((k[0] % i)==0)\n      {\n        llret=calc_poly(k,i);\n        llret2=calc_poly(k,-i);\n        if(0==llret)\n          insuu[p++]=i;\n        if(0==llret2)\n          insuu[p++]=-i;\n      }\n\n  qsort(insuu,jisuu,sizeof(int),comp);\n  for(i=0;i<jisuu;i++)\n    if(insuu[i]>0)\n      printf(\"(x-%d)\",insuu[i]);\n    else\n      printf(\"(x+%d)\",-insuu[i]);\n  printf(\"\\n\");\n  \n  return(0);\n}"
  },
  {
    "language": "C",
    "code": "/*\n  AOJ #3002\n  title:Factrization\n  @kankichi573\n*/\n#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n\n#define max(x,y) (((x)>(y))?(x):(y))\nchar S[1000];\nint  k[6];\nint  jisuu;\nint  insuu[6];\n\nchar delim[3]=\"+-\";\n\nint find_sign(char s[])\n{\n  char *p;\n  int ret;\n\n  for(p=s;*p;p++)\n    if(*p=='+')\n      {\n        ret=1;\n        goto END;\n      }\n    else\n      {\n        ret=-1;\n        goto END;\n      }\n  ret=0;\n END:\n  printf(\"f_s %s [%d]\\n\",s,ret);\n}\n\n\nint parse_monomial(char s[])\n{ \n  char *p1,*p2;\n  int a,b,ji;\n\n  // printf(\"Mono=%s\\n\",s);\n\n  \n  p1=strchr(s,'x');\n  p2=strchr(s,'^');\n\n  \n  if(p1 && p2 && p1!=s)\n    {\n      sscanf(s,\"%dx^%d\",&a,&b);\n      ji=b;\n      k[b]=a;\n    }\n  \n  else if(p2 && p1==s)\n    {\n      sscanf(s,\"x^%d\",&b);\n      ji=b;\n      k[b]=1;\n    }\n    \n  else if(p1 && !p2 && p1!=s)\n    {\n      sscanf(s,\"%dx\",&a);\n      ji=1;\n      k[1]=a;\n    }\n  else if(p1 && !p2 && p1==s)\n    {\n      sscanf(s,\"%dx\",&a);\n      ji=1;\n      k[1]=1;\n    }\n  else if(!p1 && !p2)\n    {\n      sscanf(s,\"%d\",&a);\n      ji=0;\n      k[0]=a;\n    }\n  return(ji);\n}\n\n\n\n\nint parse(char s[],int k[])\n{\n  char *p,*q,buf[100];\n  int jisuu,ji,t;\n  //printf(\"%s:\\n\",s);\n  ji=0;\n  t=0;\n  p=q=s;\n  while(1)\n    {\n      if(t==1)\n        p++;\n      while(*p!='+' && *p!='-' && *p)\n        p++;\n      memset(buf,0,sizeof(buf));\n      strncpy(buf,q,p-q);\n      jisuu=parse_monomial(buf);\n      ji=max(ji,jisuu);\n      q=p;\n      t=1;\n      if(!*p)\n        return(ji);\n    }\n}\nvoid dump()\n{\n  int i;\n  for(i=5;i>=0;i--)\n    printf(\"[%d],%d\\n\",i,k[i]);\n}\n\nlong long calc_poly(int k[],int n)\n{\n  long long ret;\n  ret =  k[5]*n*n*n*n*n;\n  ret += k[4]*n*n*n*n;\n  ret += k[3]*n*n*n;\n  ret += k[2]*n*n;\n  ret += k[1]*n;\n  ret += k[0];\n  return(ret);\n}\n\nint comp( const void * a , const void * b ) {\n\n  if( *( int * )a < *( int * )b ) {\n    return 1;\n  }\n  else\n    if( *( int * )a == *( int * )b ) {\n      return 0;\n    }\n  return -1;\n}\n\nvoid dump2()\n{\n  int i;\n  for(i=0;i<jisuu;i++)\n    printf(\"|%d\\n\",insuu[i]);\n}\n\nint main()\n{\n  int i,p;\n  long long llret,llret2;\n\n  scanf(\"%s\",S);\n  jisuu=parse(S,k);\n  for(i=1,p=0;i<=200000;i++)\n    if((k[0] % i)==0)\n      {\n        llret=calc_poly(k,i);\n        llret2=calc_poly(k,-i);\n        if(0==llret)\n          insuu[p++]=i;\n        if(0==llret2)\n          insuu[p++]=-i;\n      }\n\n  qsort(insuu,jisuu,sizeof(int),comp);\n  for(i=0;i<jisuu;i++)\n    if(insuu[i]>0)\n      printf(\"(x-%d)\",insuu[i]);\n    else\n      printf(\"(x+%d)\",-insuu[i]);\n  printf(\"\\n\");\n  \n  return(0);\n}"
  },
  {
    "language": "Kotlin",
    "code": "\nfun main(args:Array<String>):Unit {\n    val constant = Regex(\"\"\"(-?\\d+)$\"\"\")\n    val single = Regex(\"\"\"(-?\\d*)x[-\\+$]\"\"\")\n    val coefficient = listOf(constant, single) + (2..5).map{Regex(\"\"\"(-?\\d*)x\\^\"\"\" + it.toString())}\n    val str = readLine()!!.trim()\n    val polynomial = Polynomial(coefficient.map{it.find(str)?.let{when(it.groupValues[1]){\n        \"\", \"-\" -> it.groupValues[1] + \"1\"\n        else -> it.groupValues[1]\n    }.toInt()} ?: 0})\n    for (c in -2000 .. 2000){\n        if (polynomial[-c] == 0) print(if (c > 0) \"(x+$c)\" else \"(x$c)\")\n    }\n    println()\n}\nclass Polynomial(private val mCoefficient:List<Int>){\n    operator fun get(x:Int):Int {\n        var variable = 1\n        var res = 0\n        for (c in mCoefficient){\n            res += c * variable\n            variable *= x\n        }\n        return res\n    }\n\n    override fun toString(): String {\n        return \"${mCoefficient[5]}x^5+${mCoefficient[4]}x^4+${mCoefficient[3]}x^3+${mCoefficient[2]}x^2+${mCoefficient[1]}x+${mCoefficient[0]}\"\n    }\n}\n"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException;\nimport java.io.InputStream;\nimport java.io.PrintWriter;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.NoSuchElementException;\n\npublic class Main {\n\n  private void solve(FastScanner in, PrintWriter out) {\n    String S = \"1\" + in.next() + \"x^0\";\n    int[] e = decompose(S);\n    ArrayList<Integer> ans = new ArrayList<>();\n    while (e.length > 2) {\n      for (int i = -2000; i <= 2000; i++) {\n        if (ok(e, i)) {\n          int d = -i;\n          ans.add(d);\n          e = renew(e, d);\n          break;\n        }\n\n        if (i == 2000) {\n          throw new IllegalStateException();\n        }\n      }\n    }\n    ans.add(e[1]);\n\n    Collections.sort(ans);\n    for (int d : ans) {\n      String c = d >= 0 ? \"+\" : \"\";\n      out.print(\"(x\" + c + d + \")\");\n    }\n    out.println();\n  }\n\n  private int[] renew(int[] e, int d) {\n    int n = 1;\n    int[] next = new int[e.length - 1];\n    for (int i = 1; i < e.length; i++) {\n      next[i - 1] = n;\n      n = e[i] - d * n;\n    }\n    return next;\n  }\n\n  private boolean ok(int[] e, int x) {\n    int n = e.length - 1;\n    long sum = 0;\n    for (int i = 0; i <= n; i++) {\n      sum += (long) (Math.pow(x, n - i) * e[i]);\n    }\n    return sum == 0;\n  }\n\n\n  private int[] decompose(String S) {\n    int n = S.charAt(3) - '0';\n    int[] ret = new int[n + 1];\n\n    S = S.replaceAll(\"-\", \"+g\").replaceAll(\"g\", \"-\")\n        .replaceAll(\"x\\\\+\", \"x^1+\").replaceAll(\"x-\", \"x^1-\")\n        .replaceAll(\"\\\\+x\", \"+1x\").replaceAll(\"-x\", \"-1x\");\n\n    String[] elements = S.split(\"\\\\+\");\n    for (int i = 0; i < elements.length; i++) {\n      String[] tmp = elements[i].split(\"x\\\\^*\");\n      int pos = Integer.parseInt(tmp[1]);\n      int c = Integer.parseInt(tmp[0]);\n      ret[ret.length - 1 - pos] = c;\n    }\n\n    return ret;\n  }\n\n  public static void main(String[] args) {\n    PrintWriter out = new PrintWriter(System.out);\n    new Main().solve(new FastScanner(), out);\n    out.close();\n  }\n\n  private static class FastScanner {\n\n    private final InputStream in = System.in;\n    private final byte[] buffer = new byte[1024];\n    private int ptr = 0;\n    private int bufferLength = 0;\n\n    private boolean hasNextByte() {\n      if (ptr < bufferLength) {\n        return true;\n      } else {\n        ptr = 0;\n        try {\n          bufferLength = in.read(buffer);\n        } catch (IOException e) {\n          e.printStackTrace();\n        }\n        if (bufferLength <= 0) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    private int readByte() {\n      if (hasNextByte()) {\n        return buffer[ptr++];\n      } else {\n        return -1;\n      }\n    }\n\n    private static boolean isPrintableChar(int c) {\n      return 33 <= c && c <= 126;\n    }\n\n    private void skipUnprintable() {\n      while (hasNextByte() && !isPrintableChar(buffer[ptr])) {\n        ptr++;\n      }\n    }\n\n    boolean hasNext() {\n      skipUnprintable();\n      return hasNextByte();\n    }\n\n    public String next() {\n      if (!hasNext()) {\n        throw new NoSuchElementException();\n      }\n      StringBuilder sb = new StringBuilder();\n      int b = readByte();\n      while (isPrintableChar(b)) {\n        sb.appendCodePoint(b);\n        b = readByte();\n      }\n      return sb.toString();\n    }\n\n    long nextLong() {\n      if (!hasNext()) {\n        throw new NoSuchElementException();\n      }\n      long n = 0;\n      boolean minus = false;\n      int b = readByte();\n      if (b == '-') {\n        minus = true;\n        b = readByte();\n      }\n      if (b < '0' || '9' < b) {\n        throw new NumberFormatException();\n      }\n      while (true) {\n        if ('0' <= b && b <= '9') {\n          n *= 10;\n          n += b - '0';\n        } else if (b == -1 || !isPrintableChar(b)) {\n          return minus ? -n : n;\n        } else {\n          throw new NumberFormatException();\n        }\n        b = readByte();\n      }\n    }\n\n    double nextDouble() {\n      return Double.parseDouble(next());\n    }\n\n    double[] nextDoubleArray(int n) {\n      double[] array = new double[n];\n      for (int i = 0; i < n; i++) {\n        array[i] = nextDouble();\n      }\n      return array;\n    }\n\n    double[][] nextDoubleMap(int n, int m) {\n      double[][] map = new double[n][];\n      for (int i = 0; i < n; i++) {\n        map[i] = nextDoubleArray(m);\n      }\n      return map;\n    }\n\n    public int nextInt() {\n      return (int) nextLong();\n    }\n\n    public int[] nextIntArray(int n) {\n      int[] array = new int[n];\n      for (int i = 0; i < n; i++) {\n        array[i] = nextInt();\n      }\n      return array;\n    }\n\n    public long[] nextLongArray(int n) {\n      long[] array = new long[n];\n      for (int i = 0; i < n; i++) {\n        array[i] = nextLong();\n      }\n      return array;\n    }\n\n    public String[] nextStringArray(int n) {\n      String[] array = new String[n];\n      for (int i = 0; i < n; i++) {\n        array[i] = next();\n      }\n      return array;\n    }\n\n    public char[][] nextCharMap(int n) {\n      char[][] array = new char[n][];\n      for (int i = 0; i < n; i++) {\n        array[i] = next().toCharArray();\n      }\n      return array;\n    }\n\n    public int[][] nextIntMap(int n, int m) {\n      int[][] map = new int[n][];\n      for (int i = 0; i < n; i++) {\n        map[i] = nextIntArray(m);\n      }\n      return map;\n    }\n  }\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException;\nimport java.io.InputStream;\nimport java.io.PrintWriter;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.NoSuchElementException;\n\npublic class Main {\n\n  private void solve(FastScanner in, PrintWriter out) {\n    String S = in.next() + \"x^0\";\n    int[] e = decompose(S);\n    ArrayList<Integer> ans = new ArrayList<>();\n    while (e.length > 2) {\n      for (int i = -2000; i <= 2000; i++) {\n        if (ok(e, i)) {\n          int d = -i;\n          ans.add(d);\n          e = renew(e, d);\n          break;\n        }\n\n        if (i == 2000) {\n          throw new IllegalStateException();\n        }\n      }\n    }\n    ans.add(e[1]);\n\n    Collections.sort(ans);\n    for (int d : ans) {\n      String c = d >= 0 ? \"+\" : \"\";\n      out.print(\"(x\" + c + d + \")\");\n    }\n    out.println();\n  }\n\n  private int[] renew(int[] e, int d) {\n    int n = 1;\n    int[] next = new int[e.length - 1];\n    for (int i = 1; i < e.length; i++) {\n      next[i - 1] = n;\n      n = e[i] - d * n;\n    }\n    return next;\n  }\n\n  private boolean ok(int[] e, int x) {\n    int n = e.length - 1;\n    long sum = 0;\n    for (int i = 0; i <= n; i++) {\n      sum += (long) (Math.pow(x, n - i) * e[i]);\n    }\n    return sum == 0;\n  }\n\n\n  private int[] decompose(String S) {\n    int n = S.charAt(2) - '0';\n    int[] ret = new int[n + 1];\n\n    S = S.replaceAll(\"-\", \"+g\").replaceAll(\"g\", \"-\")\n        .replaceAll(\"x\\\\+\", \"x^1+\").replaceAll(\"x-\", \"x^1-\");\n\n    String[] elements = S.split(\"\\\\+\");\n    for (int i = 0; i < elements.length; i++) {\n      String[] tmp = elements[i].split(\"x\\\\^*\");\n      int pos = tmp[1].length() == 0 ? 0 : Integer.parseInt(tmp[1]);\n      int c = tmp[0].length() == 0 ? 1 : Integer.parseInt(tmp[0]);\n      ret[ret.length - 1 - pos] = c;\n    }\n\n    return ret;\n  }\n\n  public static void main(String[] args) {\n    PrintWriter out = new PrintWriter(System.out);\n    new Main().solve(new FastScanner(), out);\n    out.close();\n  }\n\n  private static class FastScanner {\n\n    private final InputStream in = System.in;\n    private final byte[] buffer = new byte[1024];\n    private int ptr = 0;\n    private int bufferLength = 0;\n\n    private boolean hasNextByte() {\n      if (ptr < bufferLength) {\n        return true;\n      } else {\n        ptr = 0;\n        try {\n          bufferLength = in.read(buffer);\n        } catch (IOException e) {\n          e.printStackTrace();\n        }\n        if (bufferLength <= 0) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    private int readByte() {\n      if (hasNextByte()) {\n        return buffer[ptr++];\n      } else {\n        return -1;\n      }\n    }\n\n    private static boolean isPrintableChar(int c) {\n      return 33 <= c && c <= 126;\n    }\n\n    private void skipUnprintable() {\n      while (hasNextByte() && !isPrintableChar(buffer[ptr])) {\n        ptr++;\n      }\n    }\n\n    boolean hasNext() {\n      skipUnprintable();\n      return hasNextByte();\n    }\n\n    public String next() {\n      if (!hasNext()) {\n        throw new NoSuchElementException();\n      }\n      StringBuilder sb = new StringBuilder();\n      int b = readByte();\n      while (isPrintableChar(b)) {\n        sb.appendCodePoint(b);\n        b = readByte();\n      }\n      return sb.toString();\n    }\n\n    long nextLong() {\n      if (!hasNext()) {\n        throw new NoSuchElementException();\n      }\n      long n = 0;\n      boolean minus = false;\n      int b = readByte();\n      if (b == '-') {\n        minus = true;\n        b = readByte();\n      }\n      if (b < '0' || '9' < b) {\n        throw new NumberFormatException();\n      }\n      while (true) {\n        if ('0' <= b && b <= '9') {\n          n *= 10;\n          n += b - '0';\n        } else if (b == -1 || !isPrintableChar(b)) {\n          return minus ? -n : n;\n        } else {\n          throw new NumberFormatException();\n        }\n        b = readByte();\n      }\n    }\n\n    double nextDouble() {\n      return Double.parseDouble(next());\n    }\n\n    double[] nextDoubleArray(int n) {\n      double[] array = new double[n];\n      for (int i = 0; i < n; i++) {\n        array[i] = nextDouble();\n      }\n      return array;\n    }\n\n    double[][] nextDoubleMap(int n, int m) {\n      double[][] map = new double[n][];\n      for (int i = 0; i < n; i++) {\n        map[i] = nextDoubleArray(m);\n      }\n      return map;\n    }\n\n    public int nextInt() {\n      return (int) nextLong();\n    }\n\n    public int[] nextIntArray(int n) {\n      int[] array = new int[n];\n      for (int i = 0; i < n; i++) {\n        array[i] = nextInt();\n      }\n      return array;\n    }\n\n    public long[] nextLongArray(int n) {\n      long[] array = new long[n];\n      for (int i = 0; i < n; i++) {\n        array[i] = nextLong();\n      }\n      return array;\n    }\n\n    public String[] nextStringArray(int n) {\n      String[] array = new String[n];\n      for (int i = 0; i < n; i++) {\n        array[i] = next();\n      }\n      return array;\n    }\n\n    public char[][] nextCharMap(int n) {\n      char[][] array = new char[n][];\n      for (int i = 0; i < n; i++) {\n        array[i] = next().toCharArray();\n      }\n      return array;\n    }\n\n    public int[][] nextIntMap(int n, int m) {\n      int[][] map = new int[n][];\n      for (int i = 0; i < n; i++) {\n        map[i] = nextIntArray(m);\n      }\n      return map;\n    }\n  }\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main {\n\tpublic static void main (String[] args) {\n\t\tScanner sc = new Scanner(System.in);\n\t\tchar[] arr = sc.next().toCharArray();\n\t\tint num = 0;\n\t\tboolean plus = true;\n\t\tboolean si = false;\n\t\tboolean xs = false;\n\t\tlong[] keis = new long[6];\n\t\tfor (char c : arr) {\n\t\t    if (c == '+') {\n\t\t        if (xs) {\n\t\t            if (plus) {\n\t\t                keis[1] = num;\n\t\t            } else {\n\t\t                keis[1] = -num;\n\t\t            }\n\t\t        }\n\t\t        num = 0;\n\t\t        plus = true;\n\t\t    } else if (c == '-') {\n\t\t        if (xs) {\n\t\t            if (plus) {\n\t\t                keis[1] = num;\n\t\t            } else {\n\t\t                keis[1] = -num;\n\t\t            }\n\t\t        }\n\t\t        num = 0;\n\t\t        plus = false;\n\t\t    } else if (c == '^') {\n\t\t        si = true;\n\t\t        xs = false;\n\t\t    } else if (c == 'x') {\n\t\t        if (num == 0) {\n\t\t            num = 1;\n\t\t        }\n\t\t        xs = true;\n\t\t    } else {\n\t\t        if (si) {\n\t\t            int v = c - '0';\n\t\t            if (plus) {\n\t\t                keis[v] = num;\n\t\t            } else {\n\t\t                keis[v] = -num;\n\t\t            }\n\t\t            si = false;\n\t\t        } else {\n\t\t            num = num * 10 + c - '0';\n\t\t        }\n\t\t    }\n\t\t}\n\t\tif (plus) {\n\t\t    keis[0] = num;\n\t\t} else {\n\t\t    keis[0] = -num;\n\t\t}\n\t\tint ji = 0;\n\t\tfor (int i = 5; i >= 0; i--) {\n\t\t    if (keis[i] != 0) {\n\t\t        ji = i;\n\t\t        break;\n\t\t    }\n\t\t}\n\t\tint[] ans = new int[ji];\n\t\tfor (int i = 1; i <= Math.abs(keis[0]) && ji > 0; i++) {\n\t\t    long result = 0;\n\t\t    for (int j = 0; j <= 5; j++) {\n\t\t        result += (long)Math.pow(i, j) * keis[j];\n\t\t    }\n\t\t    if (result == 0) {\n\t\t        ji--;\n\t\t        ans[ji] = -i;\n\t\t    }\n\t\t    result = 0;\n\t\t    for (int j = 0; j <= 5; j++) {\n\t\t        result += (long)Math.pow(-i, j) * keis[j];\n\t\t    }\n\t\t    if (result == 0) {\n\t\t        ji--;\n\t\t        ans[ji] = i;\n\t\t    }\n\t\t}\n\t\tArrays.sort(ans);\n\t\tStringBuilder sb = new StringBuilder();\n\t\tfor (int i = 0; i < ans.length; i++) {\n\t\t    sb.append(\"(x\");\n\t\t    if (ans[i] >= 0) {\n\t\t        sb.append(\"+\");\n\t\t    }\n\t\t    sb.append(ans[i]).append(\")\");\n\t\t}\n\t\tSystem.out.println(sb);\n\t}\n}\n\n"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.IO;\nusing System.Text;\n\nclass Program\n{\n    static void Main()\n    {\n        var s = \"1\" + Console.ReadLine();\n        s = s.Replace(\"-\", \"+-\");\n        s = s.Replace(\"x+\", \"x^1+\");\n        var ss = s.Split('+');\n        int n = int.Parse(ss[0].Replace(\"x^\", \"\"));\n        var keisu = new int[n + 1];\n        foreach (var item in ss)\n        {\n            if (item.Contains(\"x^\"))\n            {\n                var sss = item.Replace(\"x^\", \"#\").Split('#');\n                keisu[int.Parse(sss[1])] = int.Parse(sss[0]);\n            }\n            else\n            {\n                keisu[0] = int.Parse(item);\n            }\n        }\n        var ans = new List<long>();\n        for (long i = 3000; i > -3000; i--)\n        {\n            long sum = 0;\n            long xx = 1;\n            for (int j = 0; j < keisu.Length; j++)\n            {\n                sum += xx * keisu[j];\n                xx *= i;\n            }\n            if (sum == 0)\n                ans.Add(-i);\n        }\n        var ret = new StringBuilder();\n        foreach (var item in ans)\n        {\n            ret.Append(\"(x+\");\n            ret.Append(item);\n            ret.Append(\")\");\n        }\n        Console.WriteLine(ret.ToString().Replace(\"+-\", \"-\"));\n    }\n}"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.IO;\nusing System.Text;\n\nclass Program\n{\n    static void Main()\n    {\n        var s = \"1\" + Console.ReadLine();\n        s = s.Replace(\"-\", \"+-\");\n        s = s.Replace(\"x+\", \"x^1+\");\n        s = s.Replace(\"+x\", \"+1x\");\n        s = s.Replace(\"-x\", \"-1x\");\n        var ss = s.Split('+');\n        int n = int.Parse(ss[0].Replace(\"x^\", \"\"));\n        var keisu = new int[n + 1];\n        foreach (var item in ss)\n        {\n            if (item.Contains(\"x^\"))\n            {\n                var sss = item.Replace(\"x^\", \"#\").Split('#');\n                keisu[int.Parse(sss[1])] = int.Parse(sss[0]);\n            }\n            else\n            {\n                keisu[0] = int.Parse(item);\n            }\n        }\n        var ans = new List<long>();\n        for (long i = 3000; i > -3000; i--)\n        {\n            long sum = 0;\n            long xx = 1;\n            for (int j = 0; j < keisu.Length; j++)\n            {\n                sum += xx * keisu[j];\n                xx *= i;\n            }\n            if (sum == 0)\n                ans.Add(-i);\n        }\n        var ret = new StringBuilder();\n        foreach (var item in ans)\n        {\n            ret.Append(\"(x+\");\n            ret.Append(item);\n            ret.Append(\")\");\n        }\n        Console.WriteLine(ret.ToString().Replace(\"+-\", \"-\"));\n    }\n}"
  },
  {
    "language": "C#",
    "code": "using static System.Math;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System;\n\npublic class Hello\n{\n    public static void Main()\n    {\n        var s = Console.ReadLine().Trim();\n        s = s.Replace(\"+x\", \"+1x\");\n        s = s.Replace(\"-x\", \"-1x\");\n        var a = getList(s);\n        var ans = getAns(a);\n        print(ans);\n    }\n    static void print (List<int> a)\n    {\n        foreach (var x  in a.OrderByDescending(y =>y))\n        {\n            var w = (-x).ToString();\n            if (x < 0) w = \"+\" + w;\n            Console.Write(\"(x{0})\",w);\n        }\n        Console.WriteLine();\n    }\n    static List<int> getAns(List<int> a)\n    {\n        var ans = new List<int>();\n        var ac = a.Count() - 1;\n        for (int i = -2000; i <= 2000; i++)\n        {\n            var p = ac;\n            var wa = 0L;\n            foreach (var x in a)\n            {\n                wa += x * (long)Pow(i, p);\n                p--;\n            }\n            if (wa == 0)  ans.Add(i); \n            if (ans.Count() == ac) break;\n        }\n        return ans;\n    }\n    static List<int> getList(string s)\n    {\n        string[] line = s.Split('+', '-');\n        var e = new List<int>();\n        e.Add(1);\n        var pre = int.Parse(line[0][line[0].Length - 1].ToString());\n        for (int i = 1; i < line.Length -1; i++)\n        {\n            var LL = line[i].Length;\n            var ip = line[i].Substring(LL - 1);\n            int w;\n            if (!int.TryParse(ip, out w)) w = 1;\n            if (pre - w > 1) for (int j = 0; j < pre - w - 1; j++) e.Add(0);\n            var px = line[i].IndexOf('x');\n            var ww = line[i].Substring(0, px);\n            e.Add(int.Parse(ww));\n            pre = w;\n        }\n        if (s.IndexOf(\"x+\") < 0 && s.IndexOf(\"x-\") < 0) e.Add(0);\n        e.Add(int.Parse(line[line.Length - 1].ToString()));\n        var p = 1;\n        foreach (var x in s)\n        {\n            if (x == '+' | x == '-')\n            {\n                while (true)\n                    if (e[p] == 0) p++;\n                    else break;\n                if (x == '-') e[p] = -e[p];\n                p++;\n            }\n        }\n        return e;\n    }\n}\n\n"
  },
  {
    "language": "C#",
    "code": "using static System.Math;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System;\n\npublic class Hello\n{\n    public static void Main()\n    {\n        var s = Console.ReadLine().Trim();\n        var a = getList(s);\n        var ans = getAns(a);\n        print(ans);\n    }\n    static void print (List<int> a)\n    {\n        foreach (var x  in a.OrderByDescending(y =>y))\n        {\n            var w = (-x).ToString();\n            if (x < 0) w = \"+\" + w;\n            Console.Write(\"(x{0})\",w);\n        }\n        Console.WriteLine();\n    }\n    static List<int> getAns(List<int> a)\n    {\n        var ans = new List<int>();\n        var ac = a.Count() - 1;\n        for (int i = -2000; i <= 2000; i++)\n        {\n            var p = ac;\n            var wa = 0L;\n            foreach (var x in a)\n            {\n                wa += x * (long)Pow(i, p);\n                p--;\n            }\n            if (wa == 0)  ans.Add(i); \n            if (ans.Count() == ac) break;\n        }\n        return ans;\n    }\n    static List<int> getList(string s)\n    {\n        string[] line = s.Split('+', '-');\n        var e = new List<int>();\n        e.Add(1);\n        var pre = int.Parse(line[0][line[0].Length - 1].ToString());\n        for (int i = 1; i < line.Length - 1; i++)\n        {\n            var LL = line[i].Length;\n            var ip = line[i].Substring(LL - 1);\n            int w;\n            if (!int.TryParse(ip, out w)) w = 1;\n            if (pre - w > 1) for (int j = 0; j < pre - w - 1; j++) e.Add(0);\n            var px = line[i].IndexOf('x');\n            var ww = line[i].Substring(0, px);\n            e.Add(int.Parse(ww));\n            pre = w;\n        }\n        e.Add(int.Parse(line[line.Length - 1].ToString()));\n        var p = 1;\n        foreach (var x in s)\n        {\n            if (x == '+' | x == '-')\n            {\n                while (true)\n                    if (e[p] == 0) p++;\n                    else break;\n                if (x == '-') e[p] = -e[p];\n                p++;\n            }\n        }\n        return e;\n    }\n}\n\n"
  },
  {
    "language": "Python",
    "code": "S = input().replace('+x', '+1x').replace('-x', '-1x').replace('^', '**').replace('x', '*1*(x)')[1:]\nfor i in range(2000, -2001, -1):\n    if i == 0: continue\n\n    T = S.replace('x', str(i))\n    #print(T, eval(T))\n    if eval(T) == 0:\n        print('(x{:+})'.format(-i), end='')\nelse:\n    print()\n\n"
  },
  {
    "language": "Python",
    "code": "S = input()\nL = len(S)\n\ncur = 0\nP = [0]*6\ndef expr():\n    global cur\n    op = \"+\"\n    while 1:\n        term(op)\n        if cur == L:\n            break\n        op = S[cur]\n        cur += 1 # \"+\"/\"-\"\n\ndef num():\n    global cur\n    v = 0\n    while cur < L and S[cur] in \"0123456789\":\n        v = 10*v + int(S[cur])\n        cur += 1\n    return v\n\ndef term(op):\n    global cur\n    k = 1\n    if S[cur] != 'x':\n        k = num()\n    d = 0\n    if cur < L and S[cur] == \"x\":\n        cur += 1 # \"x\"\n        d = 1\n        if cur < L and S[cur] == '^':\n            cur += 1 # \"^\"\n            d = num()\n    P[d] = k if op == '+' else -k\nexpr()\n\ndef f(P, x):\n    res = 0\n    for i in range(6):\n        res += P[i]*(x**i)\n    return res\n\nd = 5\nwhile P[d] == 0:\n    d -= 1\n\nR = []\nfor x in range(2000, -2001, -1):\n    if f(P, x) == 0:\n        R.append(x)\n\nprint(\"\".join(\"(x%+d)\" % -x for x in R))\n\n"
  },
  {
    "language": "Python",
    "code": "def parse(S):\n    poly = []\n    t = []\n    for x in S.split('+'):\n        if '-' in x:\n            t = t + ['-' + a if i != 0 else a for i, a in enumerate(x.split('-'))]\n        else:\n            t.append(x)\n\n    for x in t:\n        if '^' in x:\n            t = x.split('x^')\n            if len(t[0]) == 0:\n                a = 1\n            else:\n                a = int(t[0])\n            b = int(t[1])\n        else:\n            if 'x' in x:\n                if x == 'x':\n                    a = 1\n                else:\n                    a = int(x[:-1])\n                b = 1\n            else:\n                a = int(x)\n                b = 0\n\n        poly.append((a, b))\n\n    return poly\n\ndef calc_yaku(n):\n    ret = []\n    for i in range(n + 1):\n        if i != 0 and n % i == 0:\n            ret.append(i)\n\n    return reversed(sorted(ret + [-x for x in ret]))\n\ndef calc(poly, x):\n    ret = 0\n    for p in poly:\n        ret += p[0] * x ** p[1]\n\n    return ret\n\n\ndef solve(S):\n    poly = parse(S)\n    n = abs(poly[-1][0])\n    yaku = calc_yaku(n)\n\n    ans = []\n    for x in yaku:\n        if calc(poly, x) == 0:\n            ans.append(-x)\n\n    for x in ans:\n        if x > 0:\n            print('(x+{})'.format(x), end='')\n        else:\n            print('(x{})'.format(x), end='')\n\n    print('')\n\nS=input()\nsolve(S)"
  },
  {
    "language": "Python",
    "code": "import re\n\nS = input()\nS = S.replace('x', '*({0})')\nS = S.replace('^', '**')\nS = re.sub(r'([+-])\\*', r'\\1', S)[1:]\nfor i in range(2000, -2001, -1):\n    if eval(S.format(i)) == 0:\n        print('(x{:+})'.format(-i), end='')\nelse:\n    print()\n\n"
  },
  {
    "language": "Python",
    "code": "import copy\ns = input()\nk = [0] * 6\nt = []\nwhile True:\n    i = 0\n    if \"+\" in s[1:]:\n        i = 1 + s[1:].index(\"+\")\n    if \"-\" in s[1:]:\n        if i > 0:i = min(i, 1 + s[1:].index(\"-\"))\n        else:i = 1 + s[1:].index(\"-\")\n    if i == 0:\n        k[0] = int(s)\n        break\n    j = s.index(\"x\")\n    if j + 3 == i:\n        if j == 0:k[int(s[j + 2])] = 1\n        else:k[int(s[j + 2])] = int(s[:j])\n    else:\n        if j == 0:k[1] = 1\n        elif j == 1:k[1] = int(s[0] + \"1\")\n        else:k[1] = int(s[:j])\n    s = s[i:]\nwhile True:\n    if k[-1] == 0:k.pop()\n    else:break\nwhile True:\n    i = 1\n    while i <= abs(k[0]):\n        if k[0] % i == 0:\n            j = k[0] // i\n            kn = copy.deepcopy(k)\n            for l in range(len(kn) - 1):\n                if kn[l] % j == 0:\n                    kn[l + 1] -= kn[l] // j\n                    kn[l] //= j\n                else:\n                    break\n            else:\n                if kn[-1] == 0:\n                    kn.pop()\n                    t.append(j)\n                    k = copy.deepcopy(kn)\n                    break\n            j *= -1\n            kn = copy.deepcopy(k)\n            for l in range(len(kn) - 1):\n                if kn[l] % j == 0:\n                    kn[l + 1] -= kn[l] // j\n                    kn[l] //= j\n                else:\n                    break\n            else:\n                if kn[-1] == 0:\n                    kn.pop()\n                    t.append(j)\n                    k = copy.deepcopy(kn)\n                    break\n        i += 1\n    if len(k) == 2:\n        t.append(k[0])\n        break\nt.sort()\ns = \"\"\nfor i in t:s += \"(x{})\".format(i) if i < 0 else \"(x+{})\".format(i)\nprint(s)\n"
  },
  {
    "language": "Python",
    "code": "import copy\ns = input()\nk = [0] * 6\nt = []\nwhile True:\n    i = 0\n    if \"+\" in s[1:]:\n        i = 1 + s[1:].index(\"+\")\n    if \"-\" in s[1:]:\n        if i > 0:i = min(i, 1 + s[1:].index(\"-\"))\n        else:i = 1 + s[1:].index(\"-\")\n    if i == 0:\n        k[0] = int(s)\n        break\n    j = s.index(\"x\")\n    if j + 3 == i:\n        if j == 0:k[int(s[j + 2])] = 1\n        else:k[int(s[j + 2])] = int(s[:j])\n    else:\n        if j == 0:k[1] = 1\n        else:k[1] = int(s[:j])\n    s = s[i:]\nwhile True:\n    if k[-1] == 0:k.pop()\n    else:break\nwhile True:\n    i = 1\n    while i <= abs(k[0]):\n        if k[0] % i == 0:\n            j = k[0] // i\n            kn = copy.deepcopy(k)\n            for l in range(len(kn) - 1):\n                if kn[l] % j == 0:\n                    kn[l + 1] -= kn[l] // j\n                    kn[l] //= j\n                else:\n                    break\n            else:\n                if kn[-1] == 0:\n                    kn.pop()\n                    t.append(j)\n                    k = copy.deepcopy(kn)\n                    break\n            j *= -1\n            kn = copy.deepcopy(k)\n            for l in range(len(kn) - 1):\n                if kn[l] % j == 0:\n                    kn[l + 1] -= kn[l] // j\n                    kn[l] //= j\n                else:\n                    break\n            else:\n                if kn[-1] == 0:\n                    kn.pop()\n                    t.append(j)\n                    k = copy.deepcopy(kn)\n                    break\n        i += 1\n    if len(k) == 2:\n        t.append(k[0])\n        break\nt.sort()\ns = \"\"\nfor i in t:s += \"(x{})\".format(i) if i < 0 else \"(x+{})\".format(i)\nprint(s)\n"
  },
  {
    "language": "Python",
    "code": "import copy\ns = input()\nk = [0] * 6\nt = []\nwhile True:\n    i = 0\n    if \"+\" in s[1:]:\n        i = 1 + s[1:].index(\"+\")\n    if \"-\" in s[1:]:\n        if i > 0:i = min(i, 1 + s[1:].index(\"-\"))\n        else:i = 1 + s[1:].index(\"-\")\n    if i == 0:\n        k[0] = int(s)\n        break\n    j = s.index(\"x\")\n    if j + 3 == i:\n        if j == 0:k[int(s[j + 2])] = 1\n        else:k[int(s[j + 2])] = int(s[:j])\n    else:\n        if j == 0:k[1] = 1\n        elif j == 1:k[1] = -1\n        else:k[1] = int(s[:j])\n    s = s[i:]\nwhile True:\n    if k[-1] == 0:k.pop()\n    else:break\nwhile True:\n    i = 1\n    while i <= abs(k[0]):\n        if k[0] % i == 0:\n            j = k[0] // i\n            kn = copy.deepcopy(k)\n            for l in range(len(kn) - 1):\n                if kn[l] % j == 0:\n                    kn[l + 1] -= kn[l] // j\n                    kn[l] //= j\n                else:\n                    break\n            else:\n                if kn[-1] == 0:\n                    kn.pop()\n                    t.append(j)\n                    k = copy.deepcopy(kn)\n                    break\n            j *= -1\n            kn = copy.deepcopy(k)\n            for l in range(len(kn) - 1):\n                if kn[l] % j == 0:\n                    kn[l + 1] -= kn[l] // j\n                    kn[l] //= j\n                else:\n                    break\n            else:\n                if kn[-1] == 0:\n                    kn.pop()\n                    t.append(j)\n                    k = copy.deepcopy(kn)\n                    break\n        i += 1\n    if len(k) == 2:\n        t.append(k[0])\n        break\nt.sort()\ns = \"\"\nfor i in t:s += \"(x{})\".format(i) if i < 0 else \"(x+{})\".format(i)\nprint(s)\n"
  },
  {
    "language": "Python",
    "code": "import copy\ns = input()\nk = [0] * 6\nt = []\nwhile True:\n    i = 0\n    if \"+\" in s[1:]:\n        i = 1 + s[1:].index(\"+\")\n    if \"-\" in s[1:]:\n        if i > 0:i = min(i, 1 + s[1:].index(\"-\"))\n        else:i = 1 + s[1:].index(\"-\")\n    if i == 0:\n        k[0] = int(s)\n        break\n    j = s.index(\"x\")\n    if j + 3 == i:\n        if j == 0:k[int(s[j + 2])] = 1\n        else:k[int(s[j + 2])] = int(s[:j])\n    else:\n        if j == 0:k[1] = 1\n        else:k[1] = int(s[:j])\n    s = s[i:]\nwhile True:\n    if k[-1] == 0:k.pop()\n    else:break\nwhile True:\n    i = 1\n    while i <= abs(k[0]):\n        if k[0] % i == 0:\n            j = k[0] // i\n            kn = copy.deepcopy(k)\n            for l in range(len(kn) - 1):\n                if kn[l] % j == 0:\n                    kn[l + 1] -= kn[l] // j\n                    kn[l] //= j\n                else:\n                    break\n            else:\n                if kn[-1] == 0:\n                    kn.pop()\n                    t.append(j)\n                    k = copy.deepcopy(kn)\n                    break\n            j *= -1\n            kn = copy.deepcopy(k)\n            for l in range(len(kn) - 1):\n                if kn[l] % j == 0:\n                    kn[l + 1] -= kn[l] // j\n                    kn[l] //= j\n                else:\n                    break\n            else:\n                if kn[-1] == 0:\n                    kn.pop()\n                    t.append(j)\n                    k = copy.deepcopy(kn)\n                    break\n        i += 1\n    if len(k) == 2:\n        t.append(k[1])\n        break\nt.sort()\ns = \"\"\nfor i in t:s += \"(x{})\".format(i) if i < 0 else \"(x+{})\".format(i)\nprint(s)\n"
  },
  {
    "language": "Python",
    "code": "S = input().replace('+x', '+1x').replace('^', '**').replace('x', '*1*(x)')[1:]\nfor i in range(2000, -2001, -1):\n    if i == 0: continue\n\n    T = S.replace('x', str(i))\n    #print(T, eval(T))\n    if eval(T) == 0:\n        print('(x{:+})'.format(-i), end='')\nelse:\n    print()\n\n"
  },
  {
    "language": "Python",
    "code": "#E\nimport re\ns = \"+\"+input()\nc = 0\nk = [0 for i in range(6)]\nwhile c<len(s):\n    find_1 = re.search(r'^([\\+\\-])x\\^([2-5])', s[c:])\n    if find_1:\n        k[int(find_1.group(2))] = int(str(find_1.group(1))+\"1\")\n        c += find_1.end()\n        continue\n    find_2 = re.search(r'^([\\+\\-][1-9][0-9]*)x\\^([2-5])', s[c:])\n    if find_2:\n        k[int(find_2.group(2))] = int(str(find_2.group(1)))\n        c += find_2.end()\n        continue\n    find_3 = re.search(r'^([\\+\\-][1-9][0-9]*)x', s[c:])\n    if find_3:\n        k[1] = int(str(find_3.group(1)))\n        c += find_3.end()\n        continue\n    find_4 = re.search(r'^([\\+\\-])x', s[c:])\n    if find_4:\n        k[1] = int(str(find_4.group(1))+\"1\")\n        c += find_4.end()\n        continue\n    find_5 = re.search(r'^([\\+\\-][1-9][0-9]*)', s[c:])\n    if find_5:\n        k[0] = int(str(find_5.group(1)))\n        c += find_5.end()\n        continue\n\n#print(k)\n#\nans = \"\"\nque = list(range(abs(k[0]), -abs(k[0])-1, -1))\n#print(que)\n\nwhile True:\n    buf = [0 for i in range(6)]\n    n = que[0]\n    p = 5\n    while(k[p] == 0): p-=1\n#    print(p)\n    if p==0: break\n    buf[p] = k[p]\n    while p>0:\n        p -= 1\n        buf[p] = k[p] + n * buf[p+1]\n#    print(k)\n#    print(buf)\n    if buf[0] == 0:\n        k = buf[1:]+[0]\n        if n < 0:\n            ans += \"(x+\"+str(-n)+\")\"\n        else:\n            ans += \"(x\"+str(-n)+\")\"\n    else:\n        que.pop(0)\nprint(ans)\n"
  },
  {
    "language": "Python",
    "code": "S = input().replace('^', '**').replace('x', '*1*(x)')[1:]\nfor i in range(2000, -2001, -1):\n    if i == 0: continue\n\n    T = S.replace('x', str(i))\n    #print(T, eval(T))\n    if eval(T) == 0:\n        print('(x{:+})'.format(-i), end='')\nelse:\n    print()\n\n"
  },
  {
    "language": "Python",
    "code": "def parse(S):\n    poly = []\n    t = []\n    for x in S.split('+'):\n        if '-' in x:\n            t = t + ['-' + a if i != 0 else a for i, a in enumerate(x.split('-'))]\n        else:\n            t.append(x)\n\n    for x in t:\n        if '^' in x:\n            t = x.split('x^')\n            if len(t[0]) == 0:\n                a = 1\n            else:\n                a = int(t[0])\n            b = int(t[1])\n        else:\n            if 'x' in x:\n                a = int(x[:-1])\n                b = 1\n            else:\n                a = int(x)\n                b = 0\n\n        poly.append((a, b))\n\n    return poly\n\ndef calc_yaku(n):\n    ret = []\n    for i in range(n + 1):\n        if i != 0 and n % i == 0:\n            ret.append(i)\n\n    return reversed(sorted(ret + [-x for x in ret]))\n\ndef calc(poly, x):\n    ret = 0\n    for p in poly:\n        ret += p[0] * x ** p[1]\n\n    return ret\n\n\ndef solve(S):\n    poly = parse(S)\n    n = abs(poly[-1][0])\n    yaku = calc_yaku(n)\n\n    ans = []\n    for x in yaku:\n        if calc(poly, x) == 0:\n            ans.append(-x)\n\n    for x in ans:\n        if x > 0:\n            print('(x+{})'.format(x), end='')\n        else:\n            print('(x{})'.format(x), end='')\n\n    print('')\n\nS=input()\nsolve(S)"
  },
  {
    "language": "Python",
    "code": "def parse(S):\n    poly = []\n    t = []\n    for x in S.split('+'):\n        if '-' in x:\n            t = t + ['-' + a if i != 0 else a for i, a in enumerate(x.split('-'))]\n        else:\n            t.append(x)\n\n    for x in t:\n        if '^' in x:\n            t = x.split('x^')\n            if len(t[0]) == 0:\n                a = 1\n            else:\n                a = int(t[0])\n            b = int(t[1])\n        else:\n            if 'x' in x:\n                if x == 'x':\n                    a = 1\n                elif x == '-x':\n                    a = -1\n                else:\n                    a = int(x[:-1])\n                b = 1\n            else:\n                a = int(x)\n                b = 0\n\n        poly.append((a, b))\n\n    return poly\n\ndef calc_yaku(n):\n    ret = []\n    for i in range(n + 1):\n        if i != 0 and n % i == 0:\n            ret.append(i)\n\n    return reversed(sorted(ret + [-x for x in ret]))\n\ndef calc(poly, x):\n    ret = 0\n    for p in poly:\n        ret += p[0] * x ** p[1]\n\n    return ret\n\n\ndef solve(S):\n    poly = parse(S)\n    n = abs(poly[-1][0])\n    yaku = calc_yaku(n)\n\n    ans = []\n    for x in yaku:\n        if calc(poly, x) == 0:\n            ans.append(-x)\n\n    for x in ans:\n        if x > 0:\n            print('(x+{})'.format(x), end='')\n        else:\n            print('(x{})'.format(x), end='')\n\n    print('')\n\nS=input()\nsolve(S)"
  },
  {
    "language": "Python",
    "code": "import copy\ns = input()\nk = [0] * 6\nt = []\nwhile True:\n    i = 0\n    if \"+\" in s[1:]:\n        i = 1 + s[1:].index(\"+\")\n    if \"-\" in s[1:]:\n        if i > 0:i = min(i, 1 + s[1:].index(\"-\"))\n        else:i = 1 + s[1:].index(\"-\")\n    if i == 0:\n        k[0] = int(s)\n        break\n    j = s.index(\"x\")\n    if j + 3 == i:\n        if j == 0:k[int(s[j + 2])] = 1\n        else:k[int(s[j + 2])] = int(s[:j])\n    else:\n        if j == 0:k[1] = 1\n        elif j == 1:k[1] = -1\n        else:k[1] = int(s[:j])\n    s = s[i:]\nwhile True:\n    if k[-1] == 0:k.pop()\n    else:break\nwhile True:\n    i = 1\n    while i <= abs(k[0]):\n        if k[0] % i == 0:\n            j = k[0] // i\n            kn = copy.deepcopy(k)\n            for l in range(len(kn) - 1):\n                if kn[l] % j == 0:\n                    kn[l + 1] -= kn[l] // j\n                    kn[l] //= j\n                else:\n                    break\n            else:\n                if kn[-1] == 0:\n                    kn.pop()\n                    t.append(j)\n                    k = copy.deepcopy(kn)\n                    break\n            j *= -1\n            kn = copy.deepcopy(k)\n            for l in range(len(kn) - 1):\n                if kn[l] % j == 0:\n                    kn[l + 1] -= kn[l] // j\n                    kn[l] //= j\n                else:\n                    break\n            else:\n                if kn[-1] == 0:\n                    kn.pop()\n                    t.append(j)\n                    k = copy.deepcopy(kn)\n                    break\n        i += 1\n    if len(k) == 2:\n        print(k)\n        t.append(k[0])\n        break\nt.sort()\ns = \"\"\nfor i in t:s += \"(x{})\".format(i) if i < 0 else \"(x+{})\".format(i)\nprint(s)\n"
  }
]