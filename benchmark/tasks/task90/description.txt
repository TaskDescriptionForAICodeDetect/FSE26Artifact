A researcher has discovered a mysterious caterpillar that can change its body segment colors under certain conditions. Each body segment can be red, green, or blue, and they change color when adjacent segments are of different colors. Your task is to create a program that takes the initial color configuration of the caterpillar's segments and determines the minimum time (in seconds) required for all segments to become the same color. If it's impossible for all segments to be the same color, output 'NA'. The input will consist of multiple datasets, each representing a caterpillar's segment colors as a string of 'r', 'g', and 'b', and ends with a line containing '0'.