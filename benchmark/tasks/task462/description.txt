In the game 'Everlasting -One-', you have a character with attributes that can be in light or darkness states. You can change your character's attributes by switching jobs based on specific rules and compatible attributes. Your task is to determine the number of essentially different characters that can be formed, given a list of special pairs of attributes. The output should be calculated modulo 1,000,000,007.