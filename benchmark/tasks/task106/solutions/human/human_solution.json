[
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\ntypedef unsigned int uint;\n#define MAX_N 30005\n\nint n;\nuint m;\nuint t[MAX_N];\nuint u[MAX_N];\n\nint main(){\n  while(1){\n    cin>>n>>m;\n    if(n==0&&m==0)break;\n    for(int i=1;i<=n;i++){\n      scanf(\"%u\",&t[i]);\n      t[i]%=m;\n      u[i]=(t[i]+u[i-1])%m;\n    }\n    set<uint> A;\n    set<uint> :: iterator it;\n    uint ans=0;\n    A.insert(0);\n    \n    for(int i=1;i<=n;i++){\n      it=A.upper_bound(u[i]);\n      if(it==A.end()){\n        it=A.lower_bound(0);\n        ans=max(ans,u[i]-(*it));\n      }else{\n        ans=max(ans,m+u[i]-(*it));\n      }\n      A.insert(u[i]);\n    }\n    cout<<ans<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main() {\n  int n, m;\n  while(cin >> n >> m, n | m) {\n    vector<int> scone(n);\n    for(auto& i: scone) cin >> i;\n\n    vector<int> sum = {0};\n    for(auto i: scone) sum.push_back((sum.back() + (i % m)) % m);\n\n    int answer = 0;\n    set<int> used = {m};\n    for(int j = 1; j < sum.size(); ++j) {\n      answer = max(answer, (sum[j] - *lower_bound(begin(used), end(used), sum[j]) + m + m) % m);\n      used.insert(sum[j]);\n      used.insert(sum[j] + m);\n    }\n    cout << answer << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\n#define MAX_N 30005\n\nint n;\nint m;\nint t[MAX_N];\n\nint main(){\n  while(1){\n    cin>>n>>m;\n    if(n==0&&m==0)break;\n    for(int i=1;i<=n;i++){\n      scanf(\"%d\",&t[i]);\n      t[i]=(t[i]%m+t[i-1])%m;\n    }\n    \n    set<int> A;\n    set<int> :: iterator it;\n    int ans=0;\n    A.insert(0);\n    \n    for(int i=1;i<=n;i++){\n      it=A.upper_bound(t[i]);\n      if(it==A.end()){\n        it=A.lower_bound(0);\n        ans=max(ans,t[i]-(*it));\n      }else{\n        ans=max(ans,m+t[i]-(*it));\n      }\n      A.insert(t[i]);\n    }\n    cout<<ans<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <set>\nusing namespace std;\n\nset<int> s[100000];\n \nint main() {\n   int i,n,m,p,h,g,ans;\n   unsigned int d;\n   while (cin >> n >> m && n+m>0) {\n\t   ans=0; h=0;\n\t   for (i=0;i<m;i++) s[i].clear();\n\t   for (i=0;i<n;i++) { cin >> d; h=(h+(d % m)) % m; if (h>ans) ans=h; s[h].insert(i); if (i==0) p=h;}\n\t   h=m; g=0;\n\t   for (i=0;i<m;i++) {\n\t\t p=(p+m-1) % m; h--;\n\t\t if (s[p].empty()) continue;\n\t\t if (s[p].upper_bound(g)!=s[p].end() && ans<h) ans=h;\n\t\t g=*(s[p].begin()); h=m;\n\t   }\n\t   cout << ans << endl;\t \n\t}\n\treturn 0;\n} "
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define REP(i,a,b) for(int i=a;i<(int)b;i++)\n#define rep(i,n) REP(i,0,n)\n#define all(c) (c).begin(), (c).end()\n#define zero(a) memset(a, 0, sizeof a)\n#define minus(a) memset(a, -1, sizeof a)\n#define watch(a) { cout << #a << \" = \" << a << endl; }\ntemplate<class T1, class T2> inline bool minimize(T1 &a, T2 b) { return b < a && (a = b, 1); }\ntemplate<class T1, class T2> inline bool maximize(T1 &a, T2 b) { return a < b && (a = b, 1); }\n\ntypedef long long ll;\nint const inf = 1<<29;\n\nint main() {\n\n  for(int N, M; ~scanf(\"%d%d\", &N, &M) && N;) {\n    int sum[N + 1]; sum[0] = 0;\n\n    int res = 0;\n    rep(i, N) {\n      int A; scanf(\"%d\", &A); A %= M;\n      sum[i + 1] = sum[i] + A;\n      sum[i + 1] %= M;\n      maximize(res, sum[i + 1]);\n    }\n\n    set<int> st = {M};\n\n    REP(i, 1, N + 1) {      maximize(res, sum[i] + M - *st.upper_bound(sum[i]));      st.insert(sum[i]); }\n\n    cout << res << endl;\n\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\n\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<vi> mat;\n#define FOR(i,a,b) for(int i=(a);i<(int)(b);++i)\n#define rep(i,n) FOR(i,0,n)\n#define ALL(x) (x).begin(),(x).end()\n#define mset(a,x) memset(a,x,sizeof(a))\n#define OUT(x) cout<<(x)<<\"\\n\"\n#define FASTIO cin.tie(0),ios::sync_with_stdio(0)\n\nint n, m;\n\nvoid Print(vector<ll>& v) {\n    rep(i, n) cout << v[i] << (i == n - 1 ? \"\\n\" : \" \");\n}\n\nvoid solve() {\n    vector<ll> K(n);\n    for(auto& k : K) scanf(\"%lld\", &k);\n\n    for(auto& k : K) k %= m;\n    //Print(K);\n    rep(i, n - 1) {\n        K[i + 1] += K[i];\n        K[i + 1] %= m;\n    }\n    //Print(K);\n\n    ll ans = 0;\n    rep(i, n - 1) K[i + 1] += K[i];\n    rep(i, n) {\n        ll s = 0;\n        for(int j = i; j >= 0; j--) {\n            int d = K[i] - K[j];\n            if(d >= m) break;\n            s = d;\n        }\n        if(K[i] < m) ans = K[i];\n        ans = max(ans, s);\n    }\n\n    cout << ans << \"\\n\";\n}\n\nint main() {\n    while(cin >> n >> m, n) solve();\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i, a, n) for(int i = a; i < n; i++)\n#define repp(i, n) rep(i, 0, n)\n#define repb(i, a, b) for(int i = a; i >= b; i--)\n#define all(a) a.begin(), a.end()\n#define int long long\nusing namespace std;\ntypedef pair<int, int> P;\n\nsigned main(){\n    int n, m;\n    while(1){\n        cin >> n >> m;\n        if(n + m == 0) break;\n        vector<int> d(n);\n        rep(i, 0, n){\n            cin >> d[i];\n            d[i] %= m;\n        }\n        rep(i, 1, n){\n            d[i] += d[i - 1];\n        }\n        int ans = d[0] % m;\n        rep(i, 0, n){\n            rep(j, i + 1, n){\n                int tmp = (d[j] - d[i]) % m;\n                ans = max(ans, tmp);\n            }\n        }\n        cout << ans << endl;\n        // int now = 0, ans = 0;\n        // int l = 0, r = 0;\n        // while(l <= r && r <= n - 1){\n        //     if(now + d[r] < m){\n        //         now += d[r];\n        //         r++;\n        //         ans = max(ans, now);\n        //     }else{\n        //         now -= d[l];\n        //         l++;\n        //     }\n        //     cout << l << ' ' << r << ' ' << now << endl;\n        // }\n        // cout << ans << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\n#define REP(i,s,n) for(int i=s;i<n;i++)\n#define rep(i,n) REP(i,0,n)\n\nusing namespace std;\n\nint main(){\n  int n,m;\n  while(cin >> n >> m, n|m ){\n    vector<int> arr(n); \n    rep(i,n) { cin >> arr[i]; arr[i] %= m; }\n    int maxi = 0;\n    rep(i,n) {\n      int sum = 0;\n      REP(j,i,n){\n        ( sum += arr[j] ) %= m;\n        maxi = max(maxi,sum);\n      }\n      if( maxi == m-1 ) break;\n    }\n    cout << maxi << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\n#include <vector>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef pair<int, int> pii;\n\n#define reps(i,f,n) for(int i=f; i<int(n); ++i)\n#define rep(i,n) reps(i,0,n)\n\nint func(int n, int m)\n{\n    vector<int> K(n);\n    rep(i, n){\n        cin >> K[i];\n        K[i] %= m;\n    }\n    \n    int ans = 0;\n    rep(i, n){\n        int sum = 0;\n        reps(j, i, n){\n            sum += K[j];\n            sum %= m;\n            ans = max(ans, sum);\n        }\n    }\n    \n    return ans;\n}\n    \nint main()\n{\n    int n, m;\n    while(cin >> n >> m, n){\n        cout << func(n, m) << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <cmath>\n#include <algorithm>\n#include <cfloat>\n#include <stack>\n#include <queue>\n#include <vector>\n#include <string>\n#include <iostream>\n#include <set>\n#include <map>\n#include <time.h>\ntypedef long long int ll;\ntypedef unsigned long long int ull;\n#define BIG_NUM 2000000000\n#define MOD 1000000007\n#define EPS 0.000000001\nusing namespace std;\n\n#define NUM 30001\n\n\nint N,M;\nint table[NUM];\nvector<int> V;\n\n\nvoid func(){\n\n\tV.clear();\n\n\ttable[0] = 0;\n\tint ans = 0;\n\n\tint left,right,m;\n\tint near_num;\n\n\tfor(int i = 1; i <= N; i++){\n\t\tscanf(\"%d\",&table[i]);\n\t\ttable[i] += table[i-1];\n\t\ttable[i] %= M;\n\n\t\tif(i == 1){\n\t\t\tans = table[i];\n\t\t\tV.push_back(table[i]);\n\t\t\tcontinue;\n\t\t}\n\n\t\tans = max(ans,(table[i]-V[0]+M)%M);\n\n\t\tleft = 0, right = V.size()-1,m = (left+right)/2;\n\t\tnear_num = -1;\n\n\t\twhile(left <= right){\n\t\t\tif(V[m] > table[i]){\n\t\t\t\tnear_num = V[m];\n\t\t\t\tright = m-1;\n\t\t\t}else{\n\t\t\t\tleft = m+1;\n\t\t\t}\n\t\t\tm = (left+right)/2;\n\t\t}\n\n\t\tif(near_num != -1){\n\t\t\tans = max(ans,(table[i]-near_num+M)%M);\n\t\t}\n\t\tV.push_back(table[i]);\n\t\tsort(V.begin(),V.end());\n\t\tV.erase(unique(V.begin(),V.end()),V.end());\n\t}\n\n\tprintf(\"%d\\n\",ans);\n\n}\n\n\nint main(){\n\n\twhile(true){\n\t\tscanf(\"%d %d\",&N,&M);\n\t\tif(N == 0 && M == 0)break;\n\n\t\tfunc();\n\t}\n\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n#include<unordered_map>\n#include<unordered_set>\n#pragma warning(disable:4996)\nusing namespace std;\nusing ld =long double;\nconst ld eps = 1e-9;\n\n#define Seg_Max_N (1<<18) \n\nusing Value = pair<long long int, long long int>;\nconst Value ini = (make_pair(-1e9, 1e9));\nstruct segtree {\n\tint N;\n\tvector<Value>dat;\n\n\tsegtree() {}\n\tsegtree(int n) :dat(2 * Seg_Max_N) {\n\t\tN = 1;\n\t\twhile (N < n) N *= 2;\n\t\tfor (int i = 0; i < 2 * N - 1; i++) {\n\t\t\tdat[i] = ini;\n\t\t}\n\t}\n\tValue connect(const Value&l, const Value&r) {\n\t\treturn make_pair(max(l.first, r.first), min(l.second, r.second));\n\t}\n\t// update k th element\n\tvoid update(int k, Value a) {\n\t\tk += N - 1;\n\t\tdat[k] = a;\n\n\t\twhile (k > 0) {\n\t\t\tk = (k - 1) / 2;\n\t\t\tconst Value al(dat[k * 2 + 1]);\n\t\t\tconst Value ar(dat[k * 2 + 2]);\n\t\t\tdat[k] = connect(al, ar);\n\t\t}\n\t}\n\t// min [a, b)\n\tValue  query(int a, int b) { return query(a, b, 0, 0, N); }\n\tValue  query(int a, int b, int k, int l, int r) {\n\t\tif (r <= a or b <= l) return ini;\n\t\tif (a <= l and r <= b) return dat[k];\n\t\tconst int m = (l + r) / 2;\n\t\tconst Value al(query(a, b, k * 2 + 1, l, m));\n\t\tconst Value ar(query(a, b, k * 2 + 2, m, r));\n\t\treturn connect(al, ar);\n\t}\n};\n\n\nint main()\n{\n\twhile (true) {\n\t\tint N,M;cin>>N>>M;\n\t\tif(!N)break;\n\t\tsegtree seg(M);\n\t\tseg.update(0,make_pair(0,0));\n\t\tint fin_ans=0;\n\n\t\tint sum=0;\n\t\tfor (int i = 0; i < N; ++i) {\n\t\t\tint k;cin>>k;\n\t\t\tk%=M;\n\n\t\t\tsum=(sum+k)%M;\n\t\t\tint ans;\n\t\t\tauto rp=seg.query(sum+1,M);\n\t\t\tif (rp.first <0) {\n\t\t\t\tauto lp=seg.query(0,sum+1);\n\t\t\t\tans= sum -lp.second;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tans=(sum +M)-rp.second;\n\t\t\t}\n\t\t\tseg.update(sum,make_pair(sum, sum));\n\t\t\tfin_ans=max(ans,fin_ans);\n\t\t}\n\t\tcout<<fin_ans<<endl;\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\n\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<vi> mat;\n#define FOR(i,a,b) for(int i=(a);i<(int)(b);++i)\n#define rep(i,n) FOR(i,0,n)\n#define ALL(x) (x).begin(),(x).end()\n#define mset(a,x) memset(a,x,sizeof(a))\n#define OUT(x) cout<<(x)<<\"\\n\"\n#define FASTIO cin.tie(0),ios::sync_with_stdio(0)\n\nint n, m;\n\nvoid Print(vector<ll>& v) {\n    rep(i, n) cout << v[i] << (i == n - 1 ? \"\\n\" : \" \");\n}\n\nvoid solve() {\n    vector<ll> K(n);\n    for(auto& k : K) {\n        scanf(\"%lld\", &k);\n        k %= m;\n    }\n\n    ll ans = K[0];\n    rep(i, n - 1) {\n        K[i + 1] += K[i];\n        K[i + 1] %= m;\n        if(ans < K[i + 1]) ans = K[i + 1];\n    }\n    //Print(K);\n    rep(i, n - 1) {\n        K[i + 1] += K[i];\n        K[i + 1] %= m;\n        ans = max(ans, K[i + 1]);\n    }\n    //Print(K);\n\n    vector<pair<int,int>> seg;\n    int l = 0;\n    rep(r, n) {\n        if(K[r] < K[l]) {\n            seg.push_back(make_pair(l, r));\n            l = r + 1;\n        }\n    }\n\n    for(auto& p : seg) {\n        int li = p.first, ri = p.second;\n        ans = max(ans, K[ri] - K[li]);\n    }\n\n    cout << ans << \"\\n\";\n}\n\nint main() {\n    while(cin >> n >> m, n) solve();\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\n#define REP(i,s,n) for(int i=s;i<n;i++)\n#define rep(i,n) REP(i,0,n)\n\nusing namespace std;\n\ntypedef long long ll;\nconst int MAX_N = 31000;\nconst int MAX_M = 100010; \nint n,m,arr[MAX_N],mod_sum[MAX_N];\nint bit[MAX_M];\n\nint sum(int i) {\n  ++i;\n  int s = 0;\n  while( i > 0 ){\n    s += bit[i];\n    i -= i & -i;\n  }\n  return s;\n}\n\nvoid add(int i,int x){\n  ++i;\n  while( i <= m ) {\n    bit[i] += x;\n    i += i & -i;\n  }\n}\n\nvoid print_arr(){\n  rep(i,m+1) {\n    cout << \"[\" << i << \":\" << sum(i) << \"] \";\n  } puts(\"\");\n}\n\nbool DEBUG = 0;\n\nint getMax(int L,int R){\n  int target = sum(R);\n  if( DEBUG)cout << \"target = \" << target << endl;\n  while( L + 1 < R ){\n    int M = ( L + R ) / 2;\n    if( sum(M) >= target ) R = M;\n    else                   L = M;\n  }\n  if(DEBUG)cout << \"result = \" << R << \" | \" << sum(R) << \" - \" << sum(R-1) << endl;\n  if( R == 0 || ( sum(R) - sum(R-1) ) ) return R;\n  return -1;\n}\n\ninline int convert(int value,int sub){ return ( value - sub + m ) % m; }\n\nvoid compute(){\n  int maxi = 0;\n  /*\n  rep(i,n) cout << setw(3) << arr[i] << \" \"; puts(\"\");\n  rep(i,n) cout << setw(3) << mod_sum[i] << \" \"; puts(\"\");\n  */\n  rep(i,n) add(mod_sum[i],1), maxi = max(maxi,mod_sum[i]);\n  //print_arr();\n\n  if( maxi == m-1 ) { printf(\"%d\\n\",maxi); return; }\n  int sub = 0;\n  rep(i,n) if( arr[i] ) {\n    \n    int low  = sub;\n    int high = ( m - 1 + sub ) % m;\n\n    assert( low != high );\n\n    if( low < high ) {\n      int temp = getMax(low,high);\n      if( temp != -1 ) maxi = max(maxi,convert(temp,sub));\n    } else {\n      int temp = getMax(low,m-1);\n      if( temp != -1 ) maxi = max(maxi,convert(temp,sub));\n      temp = getMax(0,high);\n      if( temp != -1 ) maxi = max(maxi,convert(temp,sub));\n    }\n    ( sub += arr[i] ) %= m;\n    add(mod_sum[i],-1);\n  }\n  printf(\"%d\\n\",maxi);\n}\n\nint main(){\n  while( scanf(\"%d %d\",&n,&m), n|m ){\n    rep(i,n) {\n      scanf(\"%d\",arr+i);\n      arr[i] %= m;\n      if( i ) mod_sum[i] = ( mod_sum[i-1] + arr[i] ) % m;\n      else    mod_sum[i] = arr[i];\n    }\n    compute();\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main() {\n  int n, m;\n  while(cin >> n >> m, n | m) {\n    vector<int> scone(n);\n    for(auto& i: scone) cin >> i;\n\n    vector<int> sum = {0};\n    for(auto i: scone) sum.push_back((sum.back() + (i % m)) % m);\n\n    int answer = 0;\n    set<int> used = {m};\n    for(int j = 1; j < sum.size(); ++j) {\n      answer = max(answer, (sum[j] - *used.lower_bound(sum[j]) + m + m) % m);\n      used.insert(sum[j]);\n      used.insert(sum[j] + m);\n    }\n    cout << answer << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define REP(i,a,b) for(int i=a;i<(int)b;i++)\n#define rep(i,n) REP(i,0,n)\n#define all(c) (c).begin(), (c).end()\n#define zero(a) memset(a, 0, sizeof a)\n#define minus(a) memset(a, -1, sizeof a)\n#define watch(a) { cout << #a << \" = \" << a << endl; }\ntemplate<class T1, class T2> inline bool minimize(T1 &a, T2 b) { return b < a && (a = b, 1); }\ntemplate<class T1, class T2> inline bool maximize(T1 &a, T2 b) { return a < b && (a = b, 1); }\n\ntypedef long long ll;\nint const inf = 1<<29;\n\nint main() {\n\n  for(int N, M; ~scanf(\"%d%d\", &N, &M) && N;) {\n    int sum[N + 1]; sum[0] = 0;\n\n    int res = 0;\n    rep(i, N) {\n      int A; scanf(\"%d\", &A); A %= M;\n      sum[i + 1] = sum[i] + A;\n      sum[i + 1] %= M;\n      maximize(res, sum[i + 1]);\n    }\n\n    set<int> st;\n\n    REP(i, 1, N - 1) {\n      maximize(res, sum[i] + M - *st.upper_bound(sum[i]));\n      st.insert(sum[i]);\n    }\n\n    cout << res << endl;\n\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\ntemplate<typename T1,typename T2> inline void chmin(T1 &a,T2 b){if(a>b) a=b;}\ntemplate<typename T1,typename T2> inline void chmax(T1 &a,T2 b){if(a<b) a=b;}\nusing Int = long long;\nsigned main(){  \n  cin.tie(0);\n  ios::sync_with_stdio(0);\n\n  Int n,m;\n  while(cin>>n>>m,n){\n    vector<Int> a(n);\n    for(Int i=0;i<n;i++) cin>>a[i];\n    Int ans=0;\n\n    set<Int> s;\n    s.emplace(0);\n    for(Int i=0;i<n;i++){\n      if(i){\n\ts.emplace(a[i-1]);\n\ta[i]+=a[i-1];\n      }\n      a[i]%=m;\n      chmax(ans,a[i]);\n      if(s.upper_bound(a[i])!=s.end()){\n\tInt k=*s.upper_bound(a[i]);\n\tchmax(ans,(a[i]+m-k)%m);\n      }\n    }\n\n    cout<<ans<<endl;\n  }\n  \n  return 0;\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\n\nint main()\n{\n    ll N, M, K;\n    while (cin >> N >> M, N) {\n        ll res = 0;\n        vector<ll> sum(N+1, 0);\n        for (int i = 0; i < N; i++) {\n            cin >> K;\n            sum[i+1] = (sum[i] + K) % M;\n            res = max(res, sum[i+1]);\n        }\n        set<ll> st;\n        for (int i = 1; i <= N; i++) {\n            st.insert(sum[i]);\n            auto x = st.upper_bound(sum[i]);\n            if (x != st.end()) {\n                res = max(res, (sum[i] - *x + M) % M);\n            }\n        }\n        cout << res << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <set>\nusing namespace std;\nint main(){\n    int n,m,now,ans;\n    set<int> s;\n    unsigned int temp;\n    while(true){\n        scanf(\"%d%d\",&n,&m);\n        if(n==0&&m==0)return 0;\n        s.clear();\n        s.insert(m);\n        now=ans=0;\n        for(int i=0;i<n;i++){\n            scanf(\"%u\",&temp);\n            now=(now+static_cast<int>(temp%m))%m;\n            ans=max(ans,(m+now-*s.upper_bound(now))%m);\n            s.insert(now);\n        }\n        printf(\"%d\\n\",ans);\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <cmath>\n#include <algorithm>\n#include <cfloat>\n#include <stack>\n#include <queue>\n#include <vector>\n#include <string>\n#include <iostream>\n#include <set>\n#include <map>\n#include <time.h>\ntypedef long long int ll;\ntypedef unsigned long long int ull;\n#define BIG_NUM 2000000000\n#define MOD 1000000007\n#define EPS 0.000000001\nusing namespace std;\n\n#define NUM 30001\n\n\nint N,M;\nint table[NUM];\nset<int> SET;\n\n\nvoid func(){\n\n\tSET.clear();\n\n\ttable[0] = 0;\n\tint ans = 0;\n\n\tfor(int i = 1; i <= N; i++){\n\t\tscanf(\"%d\",&table[i]);\n\t\ttable[i] += table[i-1];\n\t\ttable[i] %= M;\n\n\t\tif(i == 1){\n\t\t\tans = table[i];\n\t\t\tSET.insert(table[i]);\n\t\t\tcontinue;\n\t\t}\n\t\tans = max(ans,table[i]);\n\n\t\tauto it = SET.upper_bound(table[i]);\n\t\tif(it != SET.end()){\n\t\t\tans = max(ans,(table[i]-*it+M)%M);\n\t\t}\n\t\tSET.insert(table[i]);\n\t}\n\n\tprintf(\"%d\\n\",ans);\n\n}\n\n\nint main(){\n\n\twhile(true){\n\t\tscanf(\"%d %d\",&N,&M);\n\t\tif(N == 0 && M == 0)break;\n\n\t\tfunc();\n\t}\n\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\n#define REP(i,s,n) for(int i=s;i<n;i++)\n#define rep(i,n) REP(i,0,n)\n\nusing namespace std;\n\ntypedef long long ll;\nconst int MAX_N = 31000;\nconst int MAX_M = 100010; \nint n,m,arr[MAX_N],mod_sum[MAX_N];\nint bit[MAX_M];\n\nint sum(int i) {\n  ++i;\n  int s = 0;\n  while( i > 0 ){\n    s += bit[i];\n    i -= i & -i;\n  }\n  return s;\n}\n\nvoid add(int i,int x){\n  ++i;\n  while( i <= m ) {\n    bit[i] += x;\n    i += i & -i;\n  }\n}\n\nvoid print_arr(int limit=m){\n  rep(i,limit+1) {\n    cout << \"[\" << i << \":\" << sum(i) << \"] \";\n  } puts(\"\");\n}\n\nbool DEBUG = 0;\n\nint getMax(int L,int R){\n  int target = sum(R);\n\n  while( L + 1 < R ){\n    int M = ( L + R ) / 2;\n    if( sum(M) >= target ) R = M;\n    else                   L = M;\n  }\n\n  if(DEBUG)cout << \"result = \" << R << \" | \" << sum(R) << \" - \" << sum(R-1) << endl;\n  if( R == 0 && sum(R) ) return 0;\n  else if( R == 0 )      return -1;\n  if( sum(R) - sum(R-1) ) return R;\n  return -1;\n}\n\ninline int convert(int value,int sub){ return ( value - sub + m ) % m; }\n\nvoid compute(){\n  int maxi = 0;\n  /*\n  rep(i,n) cout << setw(3) << arr[i] << \" \"; puts(\"\");\n  rep(i,n) cout << setw(3) << mod_sum[i] << \" \"; puts(\"\");\n  */\n  rep(i,n) if( arr[i] ) add(mod_sum[i],1),maxi = max(maxi,arr[i]);\n  //print_arr(20);\n\n  if( maxi == m-1 ) { printf(\"%d\\n\",maxi); return; }\n  int sub = 0;\n  \n  rep(i,n) if( arr[i] ) {\n    \n    if( DEBUG ) { puts(\"\"); cout << arr[i] << \" -th\" << endl; }\n    if( DEBUG ) { print_arr(10); }\n    int low  = sub;\n    int high = ( m - 1 + sub ) % m;\n    assert( convert(low,sub) == 0 );\n    assert( convert(high,sub) == m-1 );\n    if( DEBUG ) cout << \"sub = \" << sub << endl;\n\n    if( DEBUG ) cout << low << \",\" << high << \" [\" << convert(low,sub) << \",\" << convert(high,sub) << \"]\" << endl;\n\n    assert( low != high );\n\n    if( low < high ) {\n      int temp = getMax(low,high);\n      if( DEBUG)cout << \"temp = \" << temp << \" \" << convert(temp,sub) << endl;\n      if( temp != -1 ) maxi = max(maxi,convert(temp,sub));\n    } else {\n      int temp = getMax(low,m-1);\n      if( DEBUG){\n        cout << \"search[\" << low << \",\" << m-1 << \"]\" << endl;\n        cout << \"temp = \" << temp << \" \" << convert(temp,sub) << endl;\n      }\n      if( temp != -1 ) maxi = max(maxi,convert(temp,sub));\n      temp = getMax(0,high);\n      if( DEBUG ) {\n        cout << \"search[\" << 0 << \",\" << high << \"]\" << endl;\n        cout << \"temp = \" << temp << \" \" << convert(temp,sub) << endl;\n      }\n      if( temp != -1 ) maxi = max(maxi,convert(temp,sub));\n    }\n    if( DEBUG)cout << \"maxi = \" << maxi << endl;\n    ( sub += arr[i] ) %= m;\n    add(mod_sum[i],-1);\n    if( maxi == m-1 ) break;\n  }\n  printf(\"%d\\n\",maxi);\n}\n\nint main(){\n  while( scanf(\"%d %d\",&n,&m), n|m ){\n    rep(i,n) {\n      scanf(\"%d\",arr+i);\n      arr[i] %= m;\n      if( i ) mod_sum[i] = ( mod_sum[i-1] + arr[i] ) % m;\n      else    mod_sum[i] = arr[i];\n    }\n    compute();\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nusing ll = long long;\nusing P = pair<int, int>;\n\nint main() {\n    int n, m;\n    while(cin >> n >> m, n) {\n        vector<int> a(n+1);\n        for(int i=1; i<=n; ++i) {\n            cin >> a[i];\n            a[i] %= m;\n            (a[i] += a[i-1]) %= m;\n        }\n        int res = 0;\n        set<int> s;\n        s.insert(0);\n        for(int i=1; i<=n; ++i) {\n            auto it = s.upper_bound(a[i]);\n            res = max(res, a[i]);\n            if(it != s.end()) {\n                res = max(res, (a[i] - *it + m) % m);\n            }\n            s.insert(a[i]);\n        }\n        cout << res << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\n#define REP(i,s,n) for(int i=s;i<n;i++)\n#define rep(i,n) REP(i,0,n)\n\nusing namespace std;\n\ntypedef long long ll;\nconst int MAX_N = 31000;\nconst int MAX_M = 100010; \nint n,m,arr[MAX_N],mod_sum[MAX_N];\nint bit[MAX_M];\n\nint sum(int i) {\n  ++i;\n  int s = 0;\n  while( i > 0 ){\n    s += bit[i];\n    i -= i & -i;\n  }\n  return s;\n}\n\nvoid add(int i,int x){\n  ++i;\n  while( i <= m ) {\n    bit[i] += x;\n    i += i & -i;\n  }\n}\n\nint getMax(int L,int R){\n  int target = sum(R);\n  rep(_,65){\n    int M = ( L + R ) / 2;\n    if( sum(M) >= target ) R = M;\n    else                   L = M;\n  }\n  if( L != R ) {\n    int res = -1;\n    if( sum(R) >= target ) res = R;\n    if( sum(L) >= target ) res = L;\n    assert( res != -1 );\n    R = res;\n  }\n  if( R == 0 && sum(R) ) return 0;\n  else if( R == 0 )      return -1;\n  if( sum(R) - sum(R-1) ) return R;\n  return -1;\n}\n\ninline int convert(int value,int sub){ return ( value - sub + m ) % m; }\n\nvoid compute(){\n  int maxi = 0;\n\n  rep(i,n) if( arr[i] ) add(mod_sum[i],1), maxi = max(maxi,arr[i]);\n  if( maxi == m-1 ) { printf(\"%d\\n\",maxi); return; }\n  int sub = 0;\n  \n  rep(i,n) if( arr[i] ) {\n    int low  = sub;\n    int high = ( m - 1 + sub ) % m;\n\n    if( low < high ) {\n      int temp = getMax(low,high);\n      if( temp != -1 ) maxi = max(maxi,convert(temp,sub));\n    } else {\n      int temp = getMax(low,m-1);\n      if( temp != -1 ) maxi = max(maxi,convert(temp,sub));\n      temp = getMax(0,high);\n      if( temp != -1 ) maxi = max(maxi,convert(temp,sub));\n    }\n    ( sub += arr[i] ) %= m;\n    add(mod_sum[i],-1);\n    if( maxi == m-1 ) break;\n  }\n  printf(\"%d\\n\",maxi);\n}\n\nint main(){\n  while( scanf(\"%d %d\",&n,&m), n|m ){\n    memset(bit,0,sizeof(bit));\n    rep(i,n) {\n      scanf(\"%d\",arr+i);\n      arr[i] %= m;\n      if( i ) mod_sum[i] = ( mod_sum[i-1] + arr[i] ) % m;\n      else    mod_sum[i] = arr[i];\n    }\n    compute();\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <map>\n#define int long long\nusing namespace std;\n\nsigned main(){\n\tint n,m;\n\twhile(cin >> n >> m,n){\n\t\tint a[30010] = {},ma = 0;\n\t\tmap<int,bool> mp;\n\t\tfor(int i = 1;i <= n;i++){\n\t\t\tcin >> a[i];\n\t\t\ta[i] = (a[i - 1] + a[i]) % m;\n\t\t\tauto it = mp.upper_bound(a[i]);\n\t\t\tif(it == mp.end()) ma = max(ma,a[i]);\n\t\t\telse ma = max(ma,a[i] + m - it->first);\n\t\t\tmp[a[i]] = true;\n\t\t}\n\t\tcout << ma << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define REP(i,a,b) for(int i=a;i<(int)b;i++)\n#define rep(i,n) REP(i,0,n)\n#define all(c) (c).begin(), (c).end()\n#define zero(a) memset(a, 0, sizeof a)\n#define minus(a) memset(a, -1, sizeof a)\n#define watch(a) { cout << #a << \" = \" << a << endl; }\ntemplate<class T1, class T2> inline bool minimize(T1 &a, T2 b) { return b < a && (a = b, 1); }\ntemplate<class T1, class T2> inline bool maximize(T1 &a, T2 b) { return a < b && (a = b, 1); }\n\ntypedef long long ll;\nint const inf = 1<<29;\n\nint main() {\n\n  for(int N, M; ~scanf(\"%d%d\", &N, &M) && N;) {\n    int sum[N + 1]; sum[0] = 0;\n\n    int res = 0;\n    rep(i, N) {\n      int A; scanf(\"%d\", &A); A %= M;\n      sum[i + 1] = sum[i] + A;\n      sum[i + 1] %= M;\n      maximize(res, sum[i + 1]);\n    }\n\n    set<int> st = {M};\n\n    REP(i, 1, N + 1) {\n      maximize(res, sum[i] + M - *st.upper_bound(sum[i]));\n      st.insert(sum[i]);\n    }\n\n    cout << res << endl;\n\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nconst int INF = 1 << 30;\n\nint main()\n{\n  int N, M, X[30000];\n\n  while(cin >> N >> M, N) {\n    for(int i = 0; i < N; i++) {\n      cin >> X[i];\n      X[i] %= M;\n    }\n\n\n    // vector< set< int > > used(M);\n\n    vector< int > first(M, INF), last(2 * M, -INF);\n    first[0] = -1;\n    int sum = 0;\n    for(int i = 0; i < N; i++) {\n      sum += X[i];\n      sum %= M;\n      first[sum] = min(first[sum], i);\n      last[sum] = max(last[sum], i);\n      last[M + sum] = max(last[M + sum], i);\n    }\n\n    int ret = 0;\n    for(int i = 0; i < M; i++) {\n      for(int j = i; j < i + M; j++) {\n        if(first[i] < last[j]) {\n          ret = max(ret, j - i);\n        }\n      }\n    }\n\n    cout << ret << endl;\n\n  }\n\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define REP(i,a,b) for(int i=a;i<(int)b;i++)\n#define rep(i,n) REP(i,0,n)\ntemplate<class T1, class T2> inline bool minimize(T1 &a, T2 b) { return b < a && (a = b, 1); }\ntemplate<class T1, class T2> inline bool maximize(T1 &a, T2 b) { return a < b && (a = b, 1); }\n\ntypedef long long ll;\nint const inf = 1<<29;\n\nenum Face : int { Top, Front, Right, Left, Back, Bottom };\nstruct cube {\n  int f[6];\n  unordered_map<int, string> mp;\n  cube(){}\n  /*\n            1(Top)\n    4(Left) 2(Front) 3(Right) 5(Back)\n            6(Bottom)\n  */\n  cube(vector<int> const& vs){ for(int i=0; i<6; i++) f[i] = vs[i]; }\n  cube(vector<string> const& vs) { for(int i=0; i<6; i++) mp[i+1] = vs[i]; }\n  void roll_z() { roll(1, 2, 4, 3); }\n  void roll_y() { roll(0, 2, 5, 3); }\n  void roll_x() { roll(0, 1, 5, 4); }\n  void roll(int i, int j, int k, int l) {\n    int t = f[i]; f[i] = f[j]; f[j] = f[k]; f[k] = f[l]; f[l] = t;\n  }\n\n  void roll(int k) {\n    if(k == 0) roll_y();\n    if(k == 1) roll_x();\n    if(k == 2) for(int i=0; i<3; i++) roll_y();\n    if(k == 3) for(int i=0; i<3; i++) roll_x();\n  }\n\n  bool roll_top_front(int top, int front) {\n    for(int k = 0; k < 6; (k & 1 ? roll_y() : roll_x()), k++)\n      for(int i = 0; i < 4; roll_z(), ++i)\n        if(top == f[Top] && front == f[Front]) return true;\n    return false;\n  }\n\n  bool operator== (cube const& rhs) const {\n    for(int i=0; i<6; i++)\n      if(f[i] != rhs.f[i]) return false;\n    return true;\n  }\n\n  bool isomorphic(cube rhs) const {\n    for(int k = 0; k < 6; (k & 1 ? rhs.roll_y() : rhs.roll_x()), k++)\n      for(int i = 0; i < 4; rhs.roll_z(), ++i)\n        if(operator==(rhs)) return true;\n    return false;\n  }\n\n};\n\nint main() {\n\n  int N; cin >> N;\n  vector<cube> cs(N); rep(i, N) rep(j, 6) cin >> cs[i].f[j];\n  cout << ([&]() {\n    rep(i, N) REP(j, i+1, N)\n      if(cs[i].isomorphic(cs[j])) return false;\n    return true;\n  }() ? \"Yes\\n\" : \"No\\n\");\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <algorithm>\n\nusing namespace std;\n\nint N, M;\nint pSeg[1 << 19];\n\nvoid update(int k, int x)\n{\n\tk += (1 << 18) - 1;\n\tpSeg[k] = x;\n\t\n\twhile (k){\n\t\tk = (k - 1) / 2;\n\t\tpSeg[k] = min(pSeg[k * 2 + 1], pSeg[k * 2 + 2]);\n\t}\n}\n\nint getMin(int a, int b, int k, int l, int r)\n{\n\tif (b <= l || r <= a){\n\t\treturn (1 << 30);\n\t}\n\t\n\tif (a <= l && r <= b){\n\t\treturn (pSeg[k]);\n\t}\n\tint lch = getMin(a, b, k * 2 + 1, l, (l + r) / 2);\n\tint rch = getMin(a, b, k * 2 + 2, (l + r) / 2, r);\n\t\n\treturn (min(lch, rch));\n}\n\nint main(void)\n{\n\tstatic int rSum[100000];\n\t\n\twhile (1){\n\t\tscanf(\"%d %d\", &N, &M);\n\t\t\n\t\tif (N + M == 0){\n\t\t\tbreak;\n\t\t}\n\t\t\n\t\tfor (int i = 0; i < 1 << 19; i++) pSeg[i] = M;\n\t\tmemset(rSum, 0, sizeof(rSum));\n\t\t\n\t\tfor (int i = 0; i < N; i++){\n\t\t\tint t;\n\t\t\tscanf(\"%d\", &t);\n\t\t\trSum[i + 1] = (rSum[i] + (t % M)) % M;\n\t\t}\n\t\tint ans = 0;\n\t\t\n\t\tfor (int i = 0; i < N; i++){\n\t\t\tupdate(rSum[i + 1], rSum[i + 1]);\n\t\t\tint lMin = getMin(0, rSum[i + 1], 0, 0, 1 << 18);\n\t\t\tint rMin = getMin(rSum[i + 1] + 1, M, 0, 0, 1 << 18);\n\t\t\t\n\t\t\tans = max(max(ans, rSum[i + 1]), max(rSum[i + 1] - lMin, (rSum[i + 1] - rMin + M) % M));\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\", ans);\n\t}\n\t\n\treturn (0);\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <set>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nint main() {\n\tint n, m;\n\twhile(cin >> n >> m, n || m) {\n\t\tset<int> s;\n\t\tint sum = 0, res = 0;\n\n\t\ts.insert(0);\n\t\tfor(int i = 0; i < n; i++) {\n\t\t\tunsigned int a;\n\t\t\tset<int>::iterator it;\n\t\t\tcin >> a;\n\t\t\tsum = (sum + a) % m;\n\t\t\tit = s.upper_bound(sum);\n\t\t\tif(it == s.end())\n\t\t\t\tres = max(res, sum);\n\t\t\telse\n\t\t\t\tres = max(res, (sum - *it + m) % m);\n\t\t\ts.insert(sum);\n\t\t}\n\t\tcout << res << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\n\ntypedef long long ll;\n#define FOR(i,a,b) for(int i=(a);i<(int)(b);++i)\n#define rep(i,n) FOR(i,0,n)\n\nint n, m;\n\nvoid Print(vector<ll>& v) {\n    rep(i, n) cout << v[i] << (i == n - 1 ? \"\\n\" : \" \");\n}\n\nvoid solve() {\n    vector<ll> K(n);\n    for(auto& k : K) scanf(\"%lld\", &k);\n    rep(i, n - 1) {\n        K[i + 1] += K[i];\n    }\n\n    ll ans = 0;\n    rep(i, n) {\n        ll s = K[i] % m;\n        for(int j = i - 1; j >= 0; --j) {\n            ll mod = (K[i] - K[j]) % m;\n            s = max(s, mod);\n        }\n        ans = max(ans, s);\n    }\n    cout << ans << \"\\n\";\n}\n\nint main() {\n    while(cin >> n >> m, n) solve();\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\n#include <vector>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef pair<int, int> pii;\n\n#define reps(i,f,n) for(int i=f; i<int(n); ++i)\n#define rep(i,n) reps(i,0,n)\n\nint func(int n, int m)\n{\n    vector<int> K(n);\n    rep(i, n){\n        cin >> K[i];\n        K[i] %= m;\n    }\n    \n    int ans = 0;\n    rep(i, n){\n        int sum = 0;\n        reps(j, i, n){\n            sum += K[j];\n            sum = sum - (sum >= m ? m : 0);\n            ans = max(ans, sum);\n        }\n    }\n    \n    return ans;\n}\n    \nint main()\n{\n    int n, m;\n    while(cin >> n >> m, n){\n        cout << func(n, m) << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define N 30010\nusing namespace std;\ntypedef long long ll;\nll n,m,S[N];\nll calc(int l,int r){return (S[r+1]-S[l]+m)%m;}\n\nint main(){\n  while(1){\n    cin>>n>>m;\n    if(!n&&!m)break;\n    for(int i=1;i<=n;i++) cin>>S[i],S[i]%=m;\n    for(int i=1;i<=n;i++) S[i] = (S[i]+S[i-1])%m;\n\n    ll ans = 0;\n    for(int i=0;i<n;i++)\n      for(int j=i;j<n;j++)ans=max(ans,calc(i,j));\n    cout<<ans<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing ll = long long;\n\nint main()\n{\n\tint n, m;\n\twhile (cin >> n >> m, n | m) {\n\t\tvector<int> K(n), sum(n), rsum(n);\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tll tmp;\n\t\t\tcin >> tmp;\n\t\t\tK[i] = tmp % m;\n\t\t}\n\t\tsum[0] = K[0];\n\t\trsum[0] = (m - sum[0]) % m;\n\t\tfor (int i = 1; i < n; i++) {\n\t\t\tsum[i] = (sum[i - 1] + K[i]) % m;\n\t\t\trsum[i] = (m - sum[i]) % m;\n\t\t}\n\t\tint res = sum[0];\n\t\tset<int> s;\n\t\tfor (int i = 1; i < n; i++) {\n\t\t\ts.insert(rsum[i - 1]);\n\t\t\tauto ub = s.upper_bound(rsum[i] - 1);\n\t\t\tif (ub != s.begin()) {\n\t\t\t\tub--;\n\t\t\t\tres = max(res, *ub + sum[i]);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tres = max(res, sum[i]);\n\t\t\t}\n\t\t}\n\t\tcout << res << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define REP(i,a,b) for(int i=a;i<(int)b;i++)\n#define rep(i,n) REP(i,0,n)\n#define all(c) (c).begin(), (c).end()\n#define zero(a) memset(a, 0, sizeof a)\n#define minus(a) memset(a, -1, sizeof a)\n#define watch(a) { cout << #a << \" = \" << a << endl; }\ntemplate<class T1, class T2> inline bool minimize(T1 &a, T2 b) { return b < a && (a = b, 1); }\ntemplate<class T1, class T2> inline bool maximize(T1 &a, T2 b) { return a < b && (a = b, 1); }\n\ntypedef long long ll;\nint const inf = 1<<29;\n\nint main() {\n\n  for(int N, M; ~scanf(\"%d%d\", &N, &M) && N;) {\n    int sum[N + 1]; sum[0] = 0;\n\n    int res = 0;\n    rep(i, N) {\n      int A; scanf(\"%d\", &A); A %= M;\n      sum[i + 1] = sum[i] + A;\n      sum[i + 1] %= M;\n      maximize(res, sum[i + 1]);\n    }\n\n    set<int> st;\n\n    REP(i, 1, N - 1) {\n      maximize(res, sum[i] + M - *st.upper_bound(sum[i]));\n      st.insert(sum[i]);\n    }\n\n    cout << res << endl;\n\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define REP(i,a,b) for(int i=a;i<(int)b;i++)\n#define rep(i,n) REP(i,0,n)\n#define all(c) (c).begin(), (c).end()\n\ntypedef long long ll;\nint const inf = 1<<29;\n\nint main() {\n\n  for(int N, M; ~scanf(\"%d%d\", &N, &M) && N;) {\n    int sum[N + 1]; sum[0] = 0;\n\n    int res = 0;\n    rep(i, N) {\n      int A; scanf(\"%d\", &A); A %= M;\n      sum[i + 1] = sum[i] + A;\n      sum[i + 1] %= M;\n      maximize(res, sum[i + 1]);\n    }\n\n    set<int> st = {M};\n\n    REP(i, 1, N + 1) {\n      maximize(res, sum[i] + M - *st.upper_bound(sum[i]));\n      st.insert(sum[i]);\n    }\n\n    cout << res << endl;\n\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<(int)n;i++)\n#define all(c) (c).begin(),(c).end()\n#define pb push_back\n#define dbg(...) do{cerr<<__LINE__<<\": \";dbgprint(#__VA_ARGS__, __VA_ARGS__);}while(0);\n\nusing namespace std;\n\nnamespace std{template<class S,class T>struct hash<pair<S,T>>{size_t operator()(const pair<S,T>&p)const{return ((size_t)1e9+7)*hash<S>()(p.first)+hash<T>()(p.second);}};template<class T>struct hash<vector<T>>{size_t operator()(const vector<T> &v)const{size_t h=0;for(auto i : v)h=h*((size_t)1e9+7)+hash<T>()(i)+1;return h;}};}\ntemplate<class T>ostream& operator<<(ostream &os, const vector<T> &v){os<<\"[ \";rep(i,v.size())os<<v[i]<<(i==v.size()-1?\" ]\":\", \");return os;}template<class T>ostream& operator<<(ostream &os,const set<T> &v){os<<\"{ \"; for(const auto &i:v)os<<i<<\", \";return os<<\"}\";}\ntemplate<class T,class U>ostream& operator<<(ostream &os,const map<T,U> &v){os<<\"{\";for(const auto &i:v)os<<\" \"<<i.first<<\": \"<<i.second<<\",\";return os<<\"}\";}template<class T,class U>ostream& operator<<(ostream &os,const pair<T,U> &p){return os<<\"(\"<<p.first<<\", \"<<p.second<<\")\";}\nvoid dbgprint(const string &fmt){cerr<<endl;}template<class H,class... T>void dbgprint(const string &fmt,const H &h,const T&... r){cerr<<fmt.substr(0,fmt.find(\",\"))<<\"= \"<<h<<\" \";dbgprint(fmt.substr(fmt.find(\",\")+1),r...);}\ntypedef long long ll;typedef vector<int> vi;typedef pair<int,int> pi;const int inf = (int)1e9;const double INF = 1e12, EPS = 1e-9;\n\nint main(){\n\tcin.tie(0); cin.sync_with_stdio(0);\n\tint n, m;\n\twhile(cin >> n >> m, n){\n\t\tint ans = 0, sum = 0;\n\t\tset<int> s;\n\t\ts.insert(0);\n\t\trep(i, n){\n\t\t\tint x; cin >> x; x %= m;\n\t\t\tsum = (sum + x) % m;\n\t\t\ts.insert(sum);\n\t\t\t\n\t\t\tauto it = s.upper_bound(sum);\n\t\t\tif(it != s.end()) ans = max(ans, (sum + m - *it) % m);\n\t\t\tans = max(ans, sum);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <set>\n#include <vector>\n#include <iostream>\n#include <algorithm>\nusing namespace std;\nint main() {\n\tcin.tie(0);\n\tios_base::sync_with_stdio(false);\n\tint N, M;\n\twhile (cin >> N >> M, N) {\n\t\tset<int> s; int S = 0, mn = 1 << 30, ans = 0;\n\t\tfor (int i = 0; i <= N; ++i) {\n\t\t\tlong long X;\n\t\t\tif (i >= 1) cin >> X;\n\t\t\tS = (S + X) % M;\n\t\t\tset<int>::iterator ptr = s.lower_bound(S + 1);\n\t\t\tif (ptr != s.end()) {\n\t\t\t\tans = max(ans, S - *ptr + M);\n\t\t\t}\n\t\t\tans = max(ans, S - mn);\n\t\t\tmn = min(mn, S);\n\t\t\ts.insert(S);\n\t\t}\n\t\tcout << ans << '\\n';\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define int long long\n\nsigned main(){\n\n    int n, m;\n    while(cin >> n >> m, n != 0){\n        int num = 0;\n        int a[30010];\n        int b[30010];\n\n        multiset<int> st;\n        for(int i = 0;i < n;i++){\n            cin >> a[i];\n            num += a[i];\n            num %= m;\n            b[i] = num;\n            st.insert(b[i]);\n        }\n\n        int ans = 0;\n\n        num = 0;\n        for(int i = 0;i < n;i++){\n            auto itr = st.lower_bound(num);\n            if(itr == st.begin()){\n                itr = st.end();\n                itr--;\n            }else{\n                itr--;\n            }\n\n            ans = max(ans, (m + (*itr) - num) % m);\n\n            num = b[i];\n            st.erase(st.lower_bound(num));\n        }\n        cout << ans << endl;\n\n    }\n\n    return 0;\n}\n\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\n#define REP(i,s,n) for(int i=s;i<n;i++)\n#define rep(i,n) REP(i,0,n)\n\nusing namespace std;\n\ntypedef long long ll;\nconst int MAX_N = 31000;\nconst int MAX_M = 100010; \nint n,m,arr[MAX_N],mod_sum[MAX_N];\nint bit[MAX_M];\n\nint sum(int i) {\n  ++i;\n  int s = 0;\n  while( i > 0 ){\n    s += bit[i];\n    i -= i & -i;\n  }\n  return s;\n}\n\nvoid add(int i,int x){\n  ++i;\n  while( i <= m ) {\n    bit[i] += x;\n    i += i & -i;\n  }\n}\n\nvoid print_arr(int limit=m){\n  rep(i,limit+1) {\n    cout << \"[\" << i << \":\" << sum(i) << \"] \";\n  } puts(\"\");\n}\n\nbool DEBUG = 0;\n\nint getMax(int L,int R){\n  int target = sum(R);\n  if( DEBUG)cout << \"target = \" << target << endl;\n  while( L + 1 < R ){\n    int M = ( L + R ) / 2;\n    if( sum(M) >= target ) R = M;\n    else                   L = M;\n  }\n  if(DEBUG)cout << \"result = \" << R << \" | \" << sum(R) << \" - \" << sum(R-1) << endl;\n  if( R == 0 && sum(R) ) return 0;\n  else if( R == 0 )      return -1;\n  if( sum(R) - sum(R-1) ) return R;\n  return -1;\n}\n\ninline int convert(int value,int sub){ return ( value - sub + m ) % m; }\n\nvoid compute(){\n  int maxi = 0;\n  /*\n  rep(i,n) cout << setw(3) << arr[i] << \" \"; puts(\"\");\n  rep(i,n) cout << setw(3) << mod_sum[i] << \" \"; puts(\"\");\n  */\n  rep(i,n) add(mod_sum[i],1), maxi = max(maxi,mod_sum[i]);\n  //print_arr(20);\n\n  if( maxi == m-1 ) { printf(\"%d\\n\",maxi); return; }\n  int sub = 0;\n  rep(i,n) if( arr[i] ) {\n    \n    if( DEBUG ) { puts(\"\"); cout << arr[i] << \" -th\" << endl; }\n    int low  = sub;\n    int high = ( m - 1 + sub ) % m;\n    assert( convert(low,sub) == 0 );\n    assert( convert(high,sub) == m-1 );\n    if( DEBUG)cout << low << \",\" << high << \" [\" << convert(low,sub) << \",\" << convert(high,sub) << \"]\" << endl;\n\n    assert( low != high );\n\n    if( low < high ) {\n      int temp = getMax(low,high);\n      if( DEBUG)cout << \"temp = \" << temp << \" \" << convert(temp,sub) << endl;\n      if( temp != -1 ) maxi = max(maxi,convert(temp,sub));\n    } else {\n      int temp = getMax(low,m-1);\n      if( DEBUG){\n        cout << \"search[\" << low << \",\" << m-1 << \"]\" << endl;\n        cout << \"temp = \" << temp << \" \" << convert(temp,sub) << endl;\n      }\n      if( temp != -1 ) maxi = max(maxi,convert(temp,sub));\n      temp = getMax(0,high);\n      if( DEBUG ) {\n        cout << \"search[\" << 0 << \",\" << high << \"]\" << endl;\n        cout << \"temp = \" << temp << \" \" << convert(temp,sub) << endl;\n      }\n      if( temp != -1 ) maxi = max(maxi,convert(temp,sub));\n    }\n    if( DEBUG)cout << \"maxi = \" << maxi << endl;\n    ( sub += arr[i] ) %= m;\n    add(mod_sum[i],-1);\n    if( maxi == m-1 ) break;\n  }\n  printf(\"%d\\n\",maxi);\n}\n\nint main(){\n  while( scanf(\"%d %d\",&n,&m), n|m ){\n    rep(i,n) {\n      scanf(\"%d\",arr+i);\n      if( arr[i] == 0 ) continue;\n      arr[i] %= m;\n      if( i ) mod_sum[i] = ( mod_sum[i-1] + arr[i] ) % m;\n      else    mod_sum[i] = arr[i];\n    }\n    compute();\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cstdio>\n#include <vector>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef pair<int, int> pii;\n\n#define reps(i,f,n) for(int i=f; i<int(n); ++i)\n#define rep(i,n) reps(i,0,n)\n\nint K[30000];\n\nint func(int n, int m)\n{\n    rep(i, n){\n        scanf(\"%d\", &K[i]);\n        K[i] %= m;\n    }\n    \n    int ans = 0;\n    rep(i, n){\n        int sum = 0;\n        reps(j, i, n){\n            sum += K[j];\n            sum = sum - (sum >= m ? m : 0);\n            ans = max(ans, sum);\n        }\n        \n        if(ans == m-1){\n            break;\n        }\n    }\n    \n    return ans;\n}\n    \nint main()\n{\n    int n, m;\n    while(scanf(\"%d%d\", &n, &m), n){\n        printf(\"%d\\n\", func(n, m));\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\ntemplate<typename T1,typename T2> inline void chmin(T1 &a,T2 b){if(a>b) a=b;}\ntemplate<typename T1,typename T2> inline void chmax(T1 &a,T2 b){if(a<b) a=b;}\nusing Int = long long;\nsigned main(){  \n  cin.tie(0);\n  ios::sync_with_stdio(0);\n\n  Int n,m;\n  while(cin>>n>>m,n){\n    vector<Int> a(n);\n    for(Int i=0;i<n;i++) cin>>a[i];\n    Int ans=0;\n\n    set<Int> s;\n    s.emplace(0);\n    for(Int i=0;i<n;i++){\n      if(i){\n\ts.emplace(a[i-1]);\n\ta[i]+=a[i-1];\n      }\n      a[i]%=m;\n      chmax(ans,a[i]);\n      if(s.upper_bound(a[i])!=s.end()){\n\tInt k=*s.upper_bound(a[i]);\n\tchmax(ans,(a[i]+m-k)%m);\n      }\n    }\n\n    cout<<ans<<endl;\n  }\n  \n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<set>\nusing namespace std;\nint n,m;\nmain()\n{\n\twhile(cin>>n>>m,n)\n\t{\n\t\tset<long>S;\n\t\tS.insert(0);\n\t\tlong sum=0,ans=0;\n\t\tfor(int i=0;i<n;i++)\n\t\t{\n\t\t\tlong k;cin>>k;\n\t\t\tsum=(sum+k)%m;\n\t\t\tauto it=S.upper_bound(sum);\n\t\t\tif(it==S.end())it=S.lower_bound(0);\n\t\t\tint a=*it;\n\t\t\tif(sum<a)ans=max(ans,m-a+sum);\n\t\t\telse ans=max(ans,sum-a);\n\t\t\tS.insert(sum);\n\t\t}\n\t\tcout<<ans<<endl;\n\t}\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main() {\n  int n, m;\n  while(cin >> n >> m, n | m) {\n    vector<int> sum = {0};\n    for(int i = 0; i < n; ++i) {\n      int K;\n      cin >> K;\n      sum.push_back((sum.back() + (K % m)) % m);\n    }\n    int answer = 0;\n    set<int> used = {m};\n    for(auto j: sum) {\n      answer = max(answer, (j - *used.upper_bound(j) + m) % m);\n      used.insert(j);\n    }\n    cout << answer << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define REP(i,a,b) for(int i=a;i<(int)b;i++)\n#define rep(i,n) REP(i,0,n)\n#define all(c) (c).begin(), (c).end()\n#define zero(a) memset(a, 0, sizeof a)\n#define minus(a) memset(a, -1, sizeof a)\n#define watch(a) { cout << #a << \" = \" << a << endl; }\ntemplate<class T1, class T2> inline bool minimize(T1 &a, T2 b) { return b < a && (a = b, 1); }\ntemplate<class T1, class T2> inline bool maximize(T1 &a, T2 b) { return a < b && (a = b, 1); }\n\ntypedef long long ll;\nint const inf = 1<<29;\n\nint main() {\n\n  for(int N, M; cin >> N >> M && N && M;) {\n    int sum[N + 1]; sum[0] = 0;\n\n    int res = 0;\n    rep(i, N) {\n      int A; cin >> A; A %= M;\n      sum[i + 1] = sum[i] + A;\n      sum[i + 1] %= M;\n      maximize(res, sum[i + 1]);\n    }\n\n    set<int> st;\n\n    REP(i, 1, N + 1) {\n      maximize(res, sum[i] + M - *st.upper_bound(sum[i]));\n      st.insert(sum[i]);\n    }\n\n    cout << res << endl;\n\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main() {\n  int n, m;\n  while(cin >> n >> m, n | m) {\n    vector<int> sum = {0};\n    for(int i = 0; i < n; ++i) {\n      int K;\n      cin >> K;\n      sum.push_back((sum.back() + (K % m)) % m);\n    }\n    int answer = 0;\n    set<int> used = {m};\n    for(int j = 1; j < sum.size(); ++j) {\n      answer = max(answer, (sum[j] - *used.lower_bound(sum[j]) + m + m) % m);\n      used.insert(sum[j]);\n      used.insert(sum[j] + m);\n    }\n    cout << answer << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\ntemplate<typename T1,typename T2> inline void chmin(T1 &a,T2 b){if(a>b) a=b;}\ntemplate<typename T1,typename T2> inline void chmax(T1 &a,T2 b){if(a<b) a=b;}\nusing Int = long long;\nsigned main(){  \n  cin.tie(0);\n  ios::sync_with_stdio(0);\n\n  Int n,m;\n  while(cin>>n>>m,n){\n    vector<Int> a(n);\n    for(Int i=0;i<n;i++) cin>>a[i];\n    Int ans=0;\n\n    set<Int> s;\n    s.emplace(0);\n    for(Int i=0;i<n;i++){\n      if(i){\n\ts.emplace(a[i-1]);\n\ta[i]+=a[i-1];\n      }\n      a[i]%=m;\n      chmax(ans,a[i]);\n      if(s.upper_bound(a[i])!=s.end()){\n\tInt k=*s.upper_bound(a[i]);\n\tchmax(ans,(a[i]+m-k)%m);\n      }\n    }\n\n    cout<<ans<<endl;\n  }\n  \n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n \nint a(int n,int m,int k[30000]){\nint i,j,sum,max;\n\n for(i=0;i<n;i++){\n\n            sum=0;\n            for(j=i;j<n;j++){\nif(k[j]==0) continue;\n                if(max==m-1) break;\n                sum+=k[j];\nsum%=m;\n                if(max<sum) max=sum;\n \n            }   \n                if(max==m-1) break;\n        }   \nreturn max;\n}\n\nint main()\n{\n    int n,m,i,j;\n    int k[30000];\n \n    while(scanf(\"%d%d\",&n,&m),n+m){\n \n        max=0;\n \n        for(i=0;i<n;i++){\n            scanf(\"%d\",&k[i]);\nk[i]%=m;\n        }   \n \n      \n \n        printf(\"%d\\n\",a(n,m,k));\n    }   \n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define REP(i,n) for(int i=0;i<(int)(n);++i)\n#define REPR(i,n) for (int i=(int)(n)-1;i>=0;--i)\n#define FOR(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();++i)\n#define ALL(c) (c).begin(), (c).end()\n#define valid(y,x,h,w) (0<=y&&y<h&&0<=x&&x<w)\n#define tpl(...) make_tuple(__VA_ARGS__)\nconst int INF = 0x3f3f3f3f;\nconst double EPS = 1e-8;\nconst double PI = acos(-1);\nconst int dy[] = {-1,0,1,0};\nconst int dx[] = {0,1,0,-1};\ntypedef long long ll;\ntypedef pair<int,int> pii;\ntemplate<class T>bool chmax(T &a, const T &b) { if (a<b) { a=b; return 1; } return 0; }\ntemplate<class T>bool chmin(T &a, const T &b) { if (b<a) { a=b; return 1; } return 0; }\ntemplate<typename Ch,typename Tr,typename C,typename=decltype(begin(C()))>basic_ostream<Ch,Tr>& operator<<(basic_ostream<Ch,Tr>&os,\nconst C& c){os<<'[';for(auto i=begin(c);i!=end(c);++i)os<<(i==begin(c)?\"\":\" \")<<*i;return os<<']';}\ntemplate<class S,class T>ostream&operator<<(ostream &o,const pair<S,T>&t){return o<<'('<<t.first<<','<<t.second<<')';}\ntemplate<int N,class Tp>void output(ostream&,const Tp&){}\ntemplate<int N,class Tp,class,class ...Ts>void output(ostream &o,const Tp&t){if(N)o<<',';o<<get<N>(t);output<N+1,Tp,Ts...>(o,t);}\ntemplate<class ...Ts>ostream&operator<<(ostream&o,const tuple<Ts...>&t){o<<'(';output<0,tuple<Ts...>,Ts...>(o,t);return o<<')';}\ntemplate<class T>void output(T t,char z=10){if(t<0)t=-t,putchar(45);int c[20];\nint k=0;while(t)c[k++]=t%10,t/=10;for(k||(c[k++]=0);k;)putchar(c[--k]^48);putchar(z);}\ntemplate<class T>void outputs(T t){output(t);}\ntemplate<class S,class ...T>void outputs(S a,T...t){output(a,32);outputs(t...);}\ntemplate<class T>void output(T *a,int n){REP(i,n)cout<<a[i]<<(i!=n-1?',':'\\n');}\ntemplate<class T>void output(T *a,int n,int m){REP(i,n)output(a[i],m);}\ntemplate<class T>bool input(T &t){int n=1,c;for(t=0;!isdigit(c=getchar())&&~c&&c-45;);\nif(!~c)return 0;for(c-45&&(n=0,t=c^48);isdigit(c=getchar());)t=10*t+c-48;t=n?-t:t;return 1;}\ntemplate<class S,class ...T>bool input(S&a,T&...t){input(a);return input(t...);}\ntemplate<class T>bool inputs(T *a, int n) { REP(i,n) if(!input(a[i])) return 0; return 1;}\n\nint main() {\n  int n, m;\n  while(input(n,m), n || m) {\n    set<ll> S;\n    ll sum = 0;\n    ll ans = 0;\n    REP(i,n) {\n      int a; input(a);\n      sum = (sum + a) % m;\n      if (S.size()) {\n        chmax(ans, (sum - *S.begin() + m) % m);\n        auto it = S.upper_bound(sum);\n        if (it != S.end()) {\n          chmax(ans, (sum - *it + m) % m);\n        }\n      }\n      chmax(ans, sum);\n      S.insert(sum);\n    }\n    cout << ans << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\n\nint main(){\n    ll N,M,K;\n    while(cin >> N >> M, N){\n        vector<ll> sum(N+1,0);\n        for(int i = 0 ; i < N ; i++){\n            cin >> K;\n            sum[i+1] = (sum[i] + K) % M;\n        }\n        ll res = 0;\n        set<ll> st = {0};\n        for(int i = 1 ; i <= N ; i++){\n            st.insert(sum[i]);\n            res = max(res, sum[i]%M);\n            auto x = st.upper_bound(sum[i]);\n            if(x == st.end()) continue;\n            res = max(res, (sum[i]-*x+M)%M);\n        }\n        cout << res << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\nusing namespace std;\nint main(){\n  while(1){\n    int n,m;\n    cin >> n >> m;\n    if(n==0&&m==0)break;\n    vector<int> a(n);\n    for(int i=0;i<n;i++){\n      cin >> a[i];\n      a[i]%=m;\n    }\n    vector<vector<int> >b(2,vector<int>(m,0));\n    int t=1,f=0;\n    for(int i=0;i<n;i++){\n      if(a[i]==0)continue;\n      for(int j=0;j<m;j++){\n\tif(a[i]>j){\n\t  b[f][j]=b[t][j];\n\t  continue;\n\t}\n\tif(a[i]+b[t][j-a[i]]>=m)continue;\n\tif(j-a[i]<=0)b[f][j]=max(b[t][j],a[i]);\n\telse{\n\t  b[f][j]=max(b[t][j],a[i]+b[t][j-a[i]]);\n\t}\t\n      }\n      swap(t,f);\n    }\n    cout << b[t][m-1] << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <cmath>\n#include <algorithm>\n#include <cfloat>\n#include <stack>\n#include <queue>\n#include <vector>\n#include <string>\n#include <iostream>\n#include <set>\n#include <map>\n#include <time.h>\ntypedef long long int ll;\ntypedef unsigned long long int ull;\n#define BIG_NUM 2000000000\n#define MOD 1000000007\n#define EPS 0.000000001\nusing namespace std;\n\n#define NUM 30001\n\n\nint N;\nll M;\nll table[NUM];\nset<ll> SET;\n\n\nvoid func(){\n\n\tSET.clear();\n\n\ttable[0] = 0;\n\tll ans = 0;\n\n\tfor(int i = 1; i <= N; i++){\n\t\tscanf(\"%d\",&table[i]);\n\t\ttable[i] += table[i-1];\n\t\ttable[i] %= M;\n\n\t\tif(i == 1){\n\t\t\tans = table[i];\n\t\t\tSET.insert(table[i]);\n\t\t\tcontinue;\n\t\t}\n\t\tans = max(ans,table[i]);\n\n\t\tauto it = SET.upper_bound(table[i]);\n\t\tif(it != SET.end()){\n\t\t\tans = max(ans,(table[i]-*it+M)%M);\n\t\t}\n\t\tSET.insert(table[i]);\n\t}\n\n\tprintf(\"%lld\\n\",ans);\n\n}\n\n\nint main(){\n\n\twhile(true){\n\t\tscanf(\"%d %d\",&N,&M);\n\t\tif(N == 0 && M == 0)break;\n\n\t\tfunc();\n\t}\n\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <set>\nusing namespace std;\n\nset<int> s[100000];\n \nint main() {\n   int i,n,m,p,d,h,g,ans;\n   set<int>::iterator it;\n   while (cin >> n >> m && n+m>0) {\n\t   ans=0; h=0;\n\t   for (i=0;i<m;i++) s[i].clear();\n\t   for (i=0;i<n;i++) { cin >> d; h+=d; if ((h % m)>ans) ans=h % m; s[h % m].insert(i); if (i==0) p=h % m;}\n\t   h=m; g=0;\n\t   for (i=0;i<m;i++) {\n\t\t p=(p+m-1) % m; h--;\n\t\t if (s[p].empty()) continue;\n\t\t if (s[p].upper_bound(g)!=s[p].end() && ans<h) ans=h;\n\t\t g=*(s[p].begin()); h=m;\n\t   }\n\t   cout << ans << endl;\t \n\t}\n\treturn 0;\n} "
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<algorithm>\n#include<set>\nusing namespace std;\nlong long c[31000];\nint d[31000];\nint main(){\n\tint a,b;\n\twhile(scanf(\"%d%d\",&a,&b),a){\n\t\tfor(int i=0;i<a;i++)scanf(\"%lld\",c+i);\n\t\tlong long now=0;\n\t\tfor(int i=0;i<a;i++){\n\t\t\tnow+=c[i];\n\t\t\td[i]=now%b;\n\t\t}\n\t\tset<int> S;\n\t\tS.insert(b);\n\t\tint ret=0;\n\t\tfor(int i=0;i<a;i++){\n\t\t\tint v=*(S.upper_bound(d[i]));\n\t\t\tret=max(ret,(b+d[i]-v)%b);\n\t\t\tS.insert(d[i]);\n\t\t}\n\t\tprintf(\"%d\\n\",ret);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nconst int INF = 1 << 28;\n\nstruct SegNode\n{\n  int v;\n\n  SegNode(int v) : v(v) {}\n\n  SegNode operator*(const SegNode &r) const\n  {\n    return (v > r.v ? *this : r);\n  }\n} e(-(1 << 30));\n\nstruct SegmentTree\n{\n  int sz;\n  vector< SegNode > seg;\n\n  SegmentTree(int n)\n  {\n    sz = 1;\n    while(sz < n) sz <<= 1;\n    seg.assign(2 * sz - 1, e);\n  }\n\n  void update(int k, const SegNode &x)\n  {\n    k += sz - 1;\n    seg[k] = x;\n    while(k > 0) {\n      k = (k - 1) >> 1;\n      seg[k] = seg[2 * k + 1] * seg[2 * k + 2];\n    }\n  }\n\n  SegNode query(int a, int b, int k, int l, int r)\n  {\n    if(a >= r || b <= l) return (e);\n    if(a <= l && r <= b) return (seg[k]);\n    return (query(a, b, 2 * k + 1, l, (l + r) >> 1) * query(a, b, 2 * k + 2, (l + r) >> 1, r));\n  }\n\n  SegNode query(int a, int b)\n  {\n    return (query(a, b, 0, 0, sz));\n  }\n};\n\n\nint main()\n{\n  int N, M, X[30000];\n\n  while(cin >> N >> M, N) {\n    for(int i = 0; i < N; i++) {\n      cin >> X[i];\n      X[i] %= M;\n    }\n\n    vector< int > first(M, INF), last(2 * M, -INF);\n    first[0] = -1;\n    int sum = 0;\n    for(int i = 0; i < N; i++) {\n      sum += X[i];\n      sum %= M;\n      first[sum] = min(first[sum], i);\n      last[sum] = max(last[sum], i);\n      last[M + sum] = max(last[M + sum], i);\n    }\n\n    int ret = 0;\n    SegmentTree seg(N);\n    int ptr = 0;\n    for(int i = 0; i < M; i++) {\n      while(ptr - i < M) {\n        if(last[ptr] >= 0) {\n          seg.update(last[ptr], ptr);\n        }\n        ++ptr;\n      }\n      ret = max(ret, seg.query(first[i] + 1, N).v - i);\n    }\n    cout << ret << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint n, m;\nint k[30001], s[30001];\n\nint main()\n{\n\twhile (scanf(\"%d %d\", &n, &m), n){\n\t\tset<int> T;\n\t\t\n\t\tfor (int i = 1; i <= n; i++){\n\t\t\tscanf(\"%d\", &k[i]);\n\t\t\tk[i] %= m;\n\t\t\ts[i] = (k[i] + s[i - 1]) % m;\n\t\t}\n\t\t\n\t\tint res = 0;\n\t\tfor (int i = 1; i <= n; i++){\n\t\t\tres = max(res, s[i]);\n\t\t\tset<int>::iterator il = T.lower_bound(0);\n\t\t\tset<int>::iterator ir = T.upper_bound(s[i]);\n\t\t\tint vl = 0, vr = 0;\n\t\t\tif (il != T.end()){\n\t\t\t\tvl = s[i] - *il;\n\t\t\t}\n\t\t\tif (ir != T.end()){\n\t\t\t\tvr = (s[i] - *ir + m) % m;\n\t\t\t}\n\t\t\tres = max(res, max(vl, vr));\n\t\t\tT.insert(s[i]);\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\", res);\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#include <cstdio>\n#include <iostream>\n#include <sstream>\n#include <fstream>\n#include <iomanip>\n#include <algorithm>\n#include <cmath>\n#include <complex>\n#include <string>\n#include <vector>\n#include <list>\n#include <queue>\n#include <stack>\n#include <set>\n#include <map>\n#include <bitset>\n#include <numeric>\n#include <limits>\n#include <climits>\n#include <cfloat>\n#include <functional>\n#include <iterator>\nusing namespace std;\n\nclass BinaryIndexedTree\n{\nprivate:\n    int n;\n    vector<int> data;\npublic:\n    BinaryIndexedTree(int n){ // ?????????????????????\n        this->n = n;\n        data.assign(n+1, 0);\n    }\n    void add(int k, int x){ // k?????????????´????x???????????????\n        ++ k;\n        while(k <= n){\n            data[k] += x;\n            k += k & -k;\n        }\n    }\n    int sum(int k){ // ??????[0,k]??????????????????\n        ++ k;\n        int ret = 0;\n        while(k > 0){\n            ret += data[k];\n            k -= k & -k;\n        }\n        return ret;\n    }\n    int sum(int a, int b){ // ??????[a,b]??????????????????\n        return sum(b) - sum(a-1);\n    }\n};\n\nint solve(const vector<int>& a, int m)\n{\n    int n = a.size();\n    int ans = 0;\n    int index = 0;\n    BinaryIndexedTree bit(2*m);\n\n    for(int i=0; i<n; ++i){\n        bit.add(index, 1);\n        bit.add(m+index, 1);\n        index += m - a[i];\n        index %= m;\n\n        int left = 0;\n        int right = m - 1;\n        while(left < right){\n            int mid = (left + right + 1) / 2;\n            if(bit.sum(index, index+mid-1) <= i)\n                left = mid;\n            else\n                right = mid - 1;\n        }\n        ans = max(ans, left);\n    }\n\n    return ans;\n}\n\nint main()\n{\n    for(;;){\n        int n, m;\n        cin >> n >> m;\n        if(n == 0)\n            return 0;\n\n        vector<int> a(n);\n        for(int i=0; i<n; ++i){\n            long long x;\n            cin >> x;\n            a[i] = x % m;\n        }\n\n        cout << solve(a, m) << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main(){\n\tint n, m ;\n\twhile( cin >> n >> m && n){\n\t\tset<int> tot;\n\t\ttot.insert(0);\n\t\ttot.insert(m);\n\t\tint sum = 0;\n\t\tint answer = 0;\n\t\tfor(int i = 0 ; i < n ; i++){\n\t\t\tint k; cin >> k;\n\t\t\tsum = sum + k % m;\n\t\t\tsum %= m;\n\t\t\tanswer = max( (sum-*tot.upper_bound(sum)+2*m)%m , answer );\n\t\t\ttot.insert(sum);\n\t\t}\n\t\tcout << answer << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <string>\n#include <vector>\n#include <iostream>\n#include <queue>\n#include <functional>\n#include <algorithm>\n#include <random>\n#include <cmath>\n#include <climits>\n#include <iomanip>\n#include <cfloat>\n#include <set>\nint main() {\n\tint n, m; std::cin >> n >> m;\n\twhile (n != 0) {\n\t\tstd::vector<long long int> scone(n);\n\t\tfor (auto &s : scone) std::cin >> s;\n\t\tscone[0] %= m;\n\t\tfor (auto i = 1; i < n; ++i) scone[i] = (scone[i] + scone[i - 1]) % m;\n\t\tstd::set<long long int> set;\n\t\tlong long int result = 0;\n\t\tfor (const auto s : scone) {\n\t\t\tset.insert(s);\n\t\t\tauto upper = set.upper_bound(s);\n\t\t\tif (upper != set.end()) {\n\t\t\t\tif (result < m - (*upper) + s) result = m - (*upper) + s;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (result < s) result = s;\n\t\t\t}\n\t\t}\n\t\tstd::cout << result << std::endl;\n\t\tstd::cin >> n >> m;\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main() {\n  int n, m;\n  while(cin >> n >> m, n | m) {\n    vector<int> sum = {0};\n    for(int i = 0; i < n; ++i) {\n      int K;\n      cin >> K;\n      sum.push_back((sum.back() + (K % m)) % m);\n    }\n    int answer = 0;\n    set<int> used = {m};\n    for(auto j: sum) {\n      answer = max(answer, (j - *used.upper_bound(j) + m) % m);\n      used.insert(j);\n      used.insert(j + m);\n    }\n    cout << answer << \"\\n\";\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <set>\nusing namespace std;\n#define int long long\n#define REP(i,n) for(int i=0;i<(int)(n); ++i)\nsigned main() {\n  ios::sync_with_stdio(false);\n  while(true) {\n    int N, M; cin >> N >> M;\n    if(N == 0 && M == 0) break;\n    vector<int> K(N);\n    REP(i,N) cin >> K[i];\n    vector<int> psum(N+1);\n    psum[0] = 0;\n    REP(i,N) psum[i+1] = (psum[i] + K[i]) % M;\n    int ans = 0;\n    set<int> s;\n    s.insert(0);\n    for(int i = 1; i <= N; ++i) {\n      ans = max(ans, psum[i]);\n      s.insert(psum[i]);\n      auto lb = s.upper_bound(psum[i]);\n      if(lb != s.end()) {\n        ans = max(ans, (psum[i] - *lb + M) % M);\n      }\n    }\n    cout << ans << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\n#define REP(i,s,n) for(int i=s;i<n;i++)\n#define rep(i,n) REP(i,0,n)\n\nusing namespace std;\n\ntypedef long long ll;\nconst int MAX_N = 31000;\nconst int MAX_M = 100010; \nint n,m,arr[MAX_N],mod_sum[MAX_N];\nint bit[MAX_M];\n\nint sum(int i) {\n  ++i;\n  int s = 0;\n  while( i > 0 ){\n    s += bit[i];\n    i -= i & -i;\n  }\n  return s;\n}\n\nvoid add(int i,int x){\n  ++i;\n  while( i <= m ) {\n    bit[i] += x;\n    i += i & -i;\n  }\n}\n\nvoid print_arr(){\n  rep(i,m+1) {\n    cout << \"[\" << i << \":\" << sum(i) << \"] \";\n  } puts(\"\");\n}\n\nbool DEBUG = 0;\n\nint getMax(int L,int R){\n  int target = sum(R);\n  if( DEBUG)cout << \"target = \" << target << endl;\n  while( L + 1 < R ){\n    int M = ( L + R ) / 2;\n    if( sum(M) >= target ) R = M;\n    else                   L = M;\n  }\n  if(DEBUG)cout << \"result = \" << R << \" | \" << sum(R) << \" - \" << sum(R-1) << endl;\n  if( R == 0 && sum(R) ) return 0;\n  else if( R == 0 )      return -1;\n  if( sum(R) - sum(R-1) ) return R;\n  return -1;\n}\n\ninline int convert(int value,int sub){ return ( value - sub + m ) % m; }\n\nvoid compute(){\n  int maxi = 0;\n  /*\n  rep(i,n) cout << setw(3) << arr[i] << \" \"; puts(\"\");\n  rep(i,n) cout << setw(3) << mod_sum[i] << \" \"; puts(\"\");\n  */\n  rep(i,n) add(mod_sum[i],1), maxi = max(maxi,mod_sum[i]);\n  //print_arr();\n\n  if( maxi == m-1 ) { printf(\"%d\\n\",maxi); return; }\n  int sub = 0;\n  rep(i,n) if( arr[i] ) {\n    \n    if( DEBUG ) cout << arr[i] << \" -th\" << endl;\n    int low  = sub;\n    int high = ( m - 1 + sub ) % m;\n    if( DEBUG)cout << low << \",\" << high << \" [\" << convert(low,sub) << \",\" << convert(high,sub) << \"]\" << endl;\n\n    assert( low != high );\n\n    if( low < high ) {\n      int temp = getMax(low,high);\n      if( DEBUG)cout << \"temp = \" << temp << \" \" << convert(temp,sub) << endl;\n      if( temp != -1 ) maxi = max(maxi,convert(temp,sub));\n    } else {\n      int temp = getMax(low,m-1);\n      if( DEBUG){\n        cout << \"search[\" << low << \",\" << m-1 << \"]\" << endl;\n        cout << \"temp = \" << temp << \" \" << convert(temp,sub) << endl;\n      }\n      if( temp != -1 ) maxi = max(maxi,convert(temp,sub));\n      temp = getMax(0,high);\n      if( DEBUG ) {\n        cout << \"search[\" << 0 << \",\" << high << \"]\" << endl;\n        cout << \"temp = \" << temp << \" \" << convert(temp,sub) << endl;\n      }\n      if( temp != -1 ) maxi = max(maxi,convert(temp,sub));\n    }\n    ( sub += arr[i] ) %= m;\n    add(mod_sum[i],-1);\n  }\n  printf(\"%d\\n\",maxi);\n}\n\nint main(){\n  while( scanf(\"%d %d\",&n,&m), n|m ){\n    rep(i,n) {\n      scanf(\"%d\",arr+i);\n      arr[i] %= m;\n      if( i ) mod_sum[i] = ( mod_sum[i-1] + arr[i] ) % m;\n      else    mod_sum[i] = arr[i];\n    }\n    compute();\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\n\nint main(){\n    ll N,M,K;\n    while(cin >> N >> M, N){\n        vector<ll> sum(N+1,0);\n        for(int i = 0 ; i < N ; i++){\n            cin >> K;\n            sum[i+1] = (sum[i] + K) % M;\n        }\n        ll res = 0;\n        set<ll> st = {0};\n        for(int i = 1 ; i <= N ; i++){\n            st.insert(sum[i]);\n            res = max(res, sum[i]%M);\n            auto x = st.upper_bound(sum[i]);\n            if(x == st.end()) continue;\n            res = max(res, (sum[i]-*x+M)%M);\n        }\n        cout << res << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<vector>\n#include<climits>\n#include<algorithm>\nconst int INF = INT_MAX;\nconst int NIL = -1;\nclass RangeMinimumQuery {\npublic:\n  RangeMinimumQuery(int s) {\n    size_ = 1;\n    while(size_ < s) size_ <<= 1;\n    node_ = std::vector<int>((size_ << 1) - 1, INF);\n  }\n  int find(int left, int right) const {\n    return query(left, right, 0, 0, size_ - 1);\n  }\n  void update(int index, int value) {\n    int i = index + size_ - 1;\n    node_[i] = value;\n    while((i = parent(i)) != NIL) node_[i] = std::min(node_[left_child(i)], node_[right_child(i)]);\n  }\nprivate:\n  int parent(int node) const {return node == 0 ? NIL : (node - 1) >> 1;}\n  int left_child(int node) const {return (node << 1) + 1;}\n  int right_child(int node) const {return (node << 1) + 2;}\n  int query(int a, int b, int k, int l, int r) const {\n    if(b < l || r < a) return INF;\n    if(a <= l && r <= b) return node_[k];\n    int vl = query(a, b, left_child(k), l, (l + r) / 2);\n    int vr = query(a, b, right_child(k), (l + r) / 2 + 1, r);\n    return std::min(vl, vr);\n  }\n  int size_;\n  std::vector<int> node_;\n};\n\n#include<bits/stdc++.h>\nusing namespace std;\nint main() {\n  int n, m;\n  while(cin >> n >> m, n | m) {\n    vector<int> scone(n);\n    for(auto& i: scone) cin >> i;\n\n    vector<int> sum = {0};\n    for(auto i: scone) sum.push_back((sum.back() + (i % m)) % m);\n\n    int answer = 0;\n    RangeMinimumQuery rmq(m);\n    for(int j = 0; j < sum.size(); ++j) {\n      answer = max(answer, sum[j] - rmq.find(0, sum[j]));\n      answer = max(answer, (sum[j] - rmq.find(sum[j] + 1, m) + m) % m);\n      rmq.update(sum[j], sum[j]);\n    }\n    cout << answer << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\nusing namespace std;\n\nint N, M;\nvector<int> SconeData;\nset<int> DpScone;\n\nvoid solve() {\n\tint sum, maxScone;\n\tset<int>::iterator it;\n\n\tsum = 0;\n\tfor (int i = 0; i < N; ++i) {\n\t\tsum += SconeData[i] % M;\n\t\tSconeData[i] = sum%M;\n\t}\n\n\tmaxScone = 0;\n\tfor (int i = 0; i < N; ++i) {\n\t\tit = DpScone.upper_bound(SconeData[i]);\n\t\tif (it != DpScone.end()) {\n\t\t\tmaxScone = max(maxScone, (SconeData[i] - *it + M) % M);\n\t\t}\n\t\telse {\n\t\t\tmaxScone = max(maxScone, SconeData[i]);\n\t\t}\n\t\tDpScone.insert(SconeData[i]);\n\t}\n\t\n\tcout << maxScone << endl;\n}\n\nint main() {\n\tint num;\n\n\twhile (cin >> N >> M, N) {\n\t\tSconeData.clear();\n\t\tDpScone.clear();\n\t\tfor (int i = 0; i < N; ++i) {\n\t\t\tcin >> num;\n\t\t\tSconeData.push_back(num);\n\t\t}\n\t\tsolve();\n\t}\n\t\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<(int)(n);i++)\nusing namespace std;\ntypedef pair<int,int> pii;\ntypedef vector<int> vi;\n\n//Segment Tree for Range Maximum Query\nclass SegmentTree{\n  int n;\n  vi node;\npublic:\n  SegmentTree(int n_){\n    n=1;\n    while(n<n_)n*=2;\n    node = vi(2*n-1,-1e9);\n  }\n\n  void update(int k, int v){\n    int cur = k + n-1;\n    node[cur] = v;\n    while(cur>0){\n      cur = (cur-1)/2;\n      node[cur] = max(node[cur*2+1],node[cur*2+2]);\n    }\n  }\n\n  //return maximum value in [a,b). ( [l,r) is interval in which k is.)\n  int RMQ(int a,int b,int k=0,int l=0,int r=0){\n    if(l>=r)r = n;\n    if(r<=a || b<=l)return -1e9;\n    if(a<=l && r<=b)return node[k];\n    int vl = RMQ(a,b,2*k+1,l,(l+r)/2);\n    int vr = RMQ(a,b,2*k+2,(l+r)/2,r);\n    return max(vl,vr);\n  }\n};\n\nint main(){\n  int n,m;\n  while(cin >> n >> m, n){\n    vi s(n+1,0);\n    rep(i,n){\n      cin >> s[i+1];\n      (s[i+1] += s[i]) %= m;\n    }\n    \n    vector<pii> ord(n);\n    rep(i,n){\n      ord[i] = pii(s[i+1],i);\n    }\n    sort(ord.begin(),ord.end());\n    \n    SegmentTree st(n);\n    int res = 0;\n    rep(i,n){\n      int v = ord[i].first, p = ord[i].second;\n      res = max(res, v);\n      res = max(res, st.RMQ(p+1,n) + m-v);\n      st.update(p,v);\n    }\n    cout << res << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n \nint main()\n{\n    int n,m,i,j,max;\nlong long sum;\n    int k[30000];\n \n    while(scanf(\"%d%d\",&n,&m),n+m){\n \n        max=0;\n \n        for(i=0;i<n;i++){\n            scanf(\"%d\",&k[i]);\nk[i]%=m;\n        }   \n \n        for(i=0;i<n;i++){\n\n            sum=0;\n            for(j=i;j<n;j++){\nif(k[j]==0) continue;\n                if(max==m-1) break;\n                sum+=k[j];\nsum%=m;\n                if(max<sum) max=sum;\n \n            }   \n                if(max==m-1) break;\n        }   \n \n        printf(\"%d\\n\",max);\n    }   \n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define int long long\n#define REP(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define rep(i,n) REP((i),0,(n))\n#define RREP(i,a,b) for(int i=(int)(a);i>=(int)(b);i--)\n#define rrep(i,n) RREP(i,n,0)\n#define each(it,X) for(__typeof((X).begin())  it=(X).begin();it!=(X).end();it++)\n#define all(v) ((v).begin(),(v).end())\n#define fi first\n#define se second\n#define pb push_back\ntypedef pair<int,int>pr;\ntypedef vector<int>vi;\ntypedef vector<vi>vvi;\ntypedef set<int>si;\nconst int INF=1070000000ll;\nconst int mod=1000000007ll;\n\nint N,M;\nint d[30000];\nsigned main(){\n    cin.tie(0);ios_base::sync_with_stdio(0);\n    while(cin>>N>>M,N){\n        int sum=0;\n        rep(i,N){\n            int c;cin>>c;\n            sum=(sum+c)%M;\n            d[i]=sum;\n        }\n        set<int>S;\n        S.insert(M);\n        int ans=0;\n        rep(i,N){\n            int v=*(S.upper_bound(d[i]));\n            ans=max(ans,(d[i]-v+M)%M);\n            S.insert(d[i]);\n        }\n        cout<<ans<<endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define GET_MACRO(_1,_2,_3,_4,_5,NAME,...) NAME\n#define pr(...) GET_MACRO(__VA_ARGS__,pr5,pr4,pr3,pr2,pr1)(__VA_ARGS__)\n#define pr1(a) (#a)<<\"=\"<<(a)\n#define pr2(a,b) pr1(a)<<\", \"<<pr1(b)\n#define pr3(a,b,c) pr2(a,b)<<\", \"<<pr1(c)\n#define pr4(a,b,c,d) pr3(a,b,c)<<\", \"<<pr1(d)\n#define pr5(a,b,c,d,e) pr4(a,b,c,d)<<\", \"<<pr1(e)\n#define int long long\n#define double long double\nusing namespace std;\nconst int N = 100010;\nconst int INF = 1LL<<55;\nconst int mod = (1e9)+7;\nconst double EPS = 1e-8;\nconst double PI = 6.0 * asin(0.5);\ntypedef pair<int,int> P;\ntypedef long long ll;\ntemplate<class T> T Max(T &a,T b){return a=max(a,b);}\ntemplate<class T> T Min(T &a,T b){return a=min(a,b);}\nostream& operator<<(ostream& o,P p){return o<<\"(\"<<p.first<<\",\"<<p.second<<\")\";}\nistream& operator>>(istream& i,P &p){return i>>p.first>>p.second;}\nostream& operator<<(ostream& o,vector<auto> &a){int i=0;for(auto t:a)o<<(i++?\" \":\"\")<<t;return o;}\nistream& operator>>(istream& i,vector<auto> &a){for(auto &t:a)i>>t;return i;}\nvoid prArr(auto a,string s=\" \"){int i=0;for(auto t:a)cout<<(i++?s:\"\")<<t;cout<<endl;}\n\n\nsigned main(){\n  while(1){\n    int n,mod;\n    cin>>n>>mod;\n    if(n == 0 && mod == 0) break;\n    \n    vector<int> A(n);\n    cin>>A;\n\n    multiset<int> S;\n    vector<int> Mod(n);\n    for(int i=0,s=0;i<n;i++){\n      s += A[i];\n      S.insert(s%mod);\n      S.insert(s%mod + mod);\n      Mod[i] = s%mod;\n    }\n\n    int ans = 0;\n    int ofset = 0;\n    for(int i=0;i<n;i++){\n      int num = *(--S.upper_bound(ofset + mod - 1));\n      Max(ans,num-ofset);\n      S.erase(S.find(Mod[i]));\n      S.erase(S.find(Mod[i]+mod));\n      ofset += A[i]%mod;\n\n      \n    }\n    cout<<ans<<endl;\n  }\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define GET_MACRO(_1,_2,_3,_4,_5,NAME,...) NAME\n#define pr(...) GET_MACRO(__VA_ARGS__,pr5,pr4,pr3,pr2,pr1)(__VA_ARGS__)\n#define pr1(a) (#a)<<\"=\"<<(a)\n#define pr2(a,b) pr1(a)<<\", \"<<pr1(b)\n#define pr3(a,b,c) pr2(a,b)<<\", \"<<pr1(c)\n#define pr4(a,b,c,d) pr3(a,b,c)<<\", \"<<pr1(d)\n#define pr5(a,b,c,d,e) pr4(a,b,c,d)<<\", \"<<pr1(e)\n#define int long long\n#define double long double\nusing namespace std;\nconst int N = 100010;\nconst int INF = 1LL<<55;\nconst int mod = (1e9)+7;\nconst double EPS = 1e-8;\nconst double PI = 6.0 * asin(0.5);\ntypedef pair<int,int> P;\ntypedef long long ll;\ntemplate<class T> T Max(T &a,T b){return a=max(a,b);}\ntemplate<class T> T Min(T &a,T b){return a=min(a,b);}\nostream& operator<<(ostream& o,P p){return o<<\"(\"<<p.first<<\",\"<<p.second<<\")\";}\nistream& operator>>(istream& i,P &p){return i>>p.first>>p.second;}\nostream& operator<<(ostream& o,vector<auto> &a){int i=0;for(auto t:a)o<<(i++?\" \":\"\")<<t;return o;}\nistream& operator>>(istream& i,vector<auto> &a){for(auto &t:a)i>>t;return i;}\nvoid prArr(auto a,string s=\" \"){int i=0;for(auto t:a)cout<<(i++?s:\"\")<<t;cout<<endl;}\n\n\nsigned main(){\n  while(1){\n    int n,mod;\n    cin>>n>>mod;\n    if(n == 0 && mod == 0) break;\n    \n    vector<int> A(n);\n    cin>>A;\n\n    multiset<int> S;\n    vector<int> Mod(n);\n    for(int i=0,s=0;i<n;i++){\n      s += A[i];\n      S.insert(s%mod);\n      S.insert(s%mod + mod);\n      Mod[i] = s%mod;\n    }\n\n    int ans = 0;\n    int ofset = 0;\n    for(int i=0;i<n;i++){\n      int num = *(--S.upper_bound(ofset + mod - 1));\n      Max(ans,num-ofset);\n      S.erase(S.find(Mod[i]));\n      S.erase(S.find(Mod[i]+mod));\n      ofset = (ofset + A[i])%mod;\n      \n    }\n    cout<<ans<<endl;\n  }\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\n#define REP(i,s,n) for(int i=s;i<n;i++)\n#define rep(i,n) REP(i,0,n)\n\nusing namespace std;\n\ntypedef long long ll;\nconst int MAX_N = 31000;\nconst int MAX_M = 100010; \nint n,m,arr[MAX_N],mod_sum[MAX_N];\nint bit[MAX_M];\n\nint sum(int i) {\n  ++i;\n  int s = 0;\n  while( i > 0 ){\n    s += bit[i];\n    i -= i & -i;\n  }\n  return s;\n}\n\nvoid add(int i,int x){\n  ++i;\n  while( i <= m ) {\n    bit[i] += x;\n    i += i & -i;\n  }\n}\n\nvoid print_arr(int limit=m){\n  rep(i,limit+1) {\n    cout << \"[\" << i << \":\" << sum(i) << \"] \";\n  } puts(\"\");\n}\n\nbool DEBUG = 0;\n\nint getMax(int L,int R){\n  int target = sum(R);\n  if( DEBUG)cout << \"target = \" << target << endl;\n  while( L + 1 < R ){\n    int M = ( L + R ) / 2;\n    if( sum(M) >= target ) R = M;\n    else                   L = M;\n  }\n  if(DEBUG)cout << \"result = \" << R << \" | \" << sum(R) << \" - \" << sum(R-1) << endl;\n  if( R == 0 && sum(R) ) return 0;\n  else if( R == 0 )      return -1;\n  if( sum(R) - sum(R-1) ) return R;\n  return -1;\n}\n\ninline int convert(int value,int sub){ return ( value - sub + m ) % m; }\n\nvoid compute(){\n  int maxi = 0;\n  /*\n  rep(i,n) cout << setw(3) << arr[i] << \" \"; puts(\"\");\n  rep(i,n) cout << setw(3) << mod_sum[i] << \" \"; puts(\"\");\n  */\n  rep(i,n) add(mod_sum[i],1), maxi = max(maxi,mod_sum[i]);\n  //print_arr(20);\n\n  if( maxi == m-1 ) { printf(\"%d\\n\",maxi); return; }\n  int sub = 0;\n  //rep(i,n) if( arr[i]){\n  rep(i,n) {\n    \n    if( DEBUG ) { puts(\"\"); cout << arr[i] << \" -th\" << endl; }\n    int low  = sub;\n    int high = ( m - 1 + sub ) % m;\n    assert( convert(low,sub) == 0 );\n    assert( convert(high,sub) == m-1 );\n    if( DEBUG)cout << low << \",\" << high << \" [\" << convert(low,sub) << \",\" << convert(high,sub) << \"]\" << endl;\n\n    assert( low != high );\n\n    if( low < high ) {\n      int temp = getMax(low,high);\n      if( DEBUG)cout << \"temp = \" << temp << \" \" << convert(temp,sub) << endl;\n      if( temp != -1 ) maxi = max(maxi,convert(temp,sub));\n    } else {\n      int temp = getMax(low,m-1);\n      if( DEBUG){\n        cout << \"search[\" << low << \",\" << m-1 << \"]\" << endl;\n        cout << \"temp = \" << temp << \" \" << convert(temp,sub) << endl;\n      }\n      if( temp != -1 ) maxi = max(maxi,convert(temp,sub));\n      temp = getMax(0,high);\n      if( DEBUG ) {\n        cout << \"search[\" << 0 << \",\" << high << \"]\" << endl;\n        cout << \"temp = \" << temp << \" \" << convert(temp,sub) << endl;\n      }\n      if( temp != -1 ) maxi = max(maxi,convert(temp,sub));\n    }\n    if( DEBUG)cout << \"maxi = \" << maxi << endl;\n    ( sub += arr[i] ) %= m;\n    add(mod_sum[i],-1);\n    if( maxi == m-1 ) break;\n  }\n  printf(\"%d\\n\",maxi);\n}\n\nint main(){\n  while( scanf(\"%d %d\",&n,&m), n|m ){\n    rep(i,n) {\n      scanf(\"%d\",arr+i);\n      //if( arr[i] == 0 ) continue;\n      arr[i] %= m;\n      if( i ) mod_sum[i] = ( mod_sum[i-1] + arr[i] ) % m;\n      else    mod_sum[i] = arr[i];\n    }\n    compute();\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <cmath>\n#include <algorithm>\n#include <cfloat>\n#include <stack>\n#include <queue>\n#include <vector>\n#include <string>\n#include <iostream>\n#include <set>\n#include <map>\n#include <time.h>\ntypedef long long int ll;\ntypedef unsigned long long int ull;\n#define BIG_NUM 2000000000\n#define MOD 1000000007\n#define EPS 0.000000001\nusing namespace std;\n\n#define NUM 30001\n\n\nint N;\nll M;\nll table[NUM];\n\n\nvoid func(){\n\n\ttable[0] = 0;\n\tfor(int i = 1; i <= N; i++)scanf(\"%lld\",&table[i]);\n\n\tfor(int i = 1; i <= N; i++){\n\t\ttable[i] += table[i-1];\n\t}\n\n\tll ans = 0;\n\n\tfor(int left = 1; left <= N; left++){\n\t\tfor(int right = left; right <= N; right++){\n\t\t\tans = max(ans,(table[right]-table[left-1])%M);\n\t\t}\n\t}\n\n\tprintf(\"%lld\\n\",ans);\n\n}\n\n\nint main(){\n\n\twhile(true){\n\t\tscanf(\"%d %d\",&N,&M);\n\t\tif(N == 0 && M == 0)break;\n\n\t\tfunc();\n\t}\n\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<(int)(n);i++)\nusing namespace std;\ntypedef long long ll;\ntypedef pair<ll,ll> pll;\ntypedef vector<ll> vl;\n\n//Segment Tree for Range Maximum Query\nclass SegmentTree{\n  int n;\n  vl node;\npublic:\n  SegmentTree(int n_){\n    n=1;\n    while(n<n_)n*=2;\n    node = vl(2*n-1,-1e9);\n  }\n\n  void update(int k, ll v){\n    int cur = k + n-1;\n    node[cur] = v;\n    while(cur>0){\n      cur = (cur-1)/2;\n      node[cur] = max(node[cur*2+1],node[cur*2+2]);\n    }\n  }\n\n  //return maximum value in [a,b). ( [l,r) is interval in which k is.)\n  ll RMQ(int a,int b,int k=0,int l=0,int r=0){\n    if(l>=r)r = n;\n    if(r<=a || b<=l)return -1e9;\n    if(a<=l && r<=b)return node[k];\n    ll vl = RMQ(a,b,2*k+1,l,(l+r)/2);\n    ll vr = RMQ(a,b,2*k+2,(l+r)/2,r);\n    return max(vl,vr);\n  }\n};\n\nint main(){\n  int n,m;\n  while(scanf(\"%d%d\",&n,&m), n){\n    vl s(n+1,0);\n    rep(i,n){\n      scanf(\"%lld\",&s[i+1]);\n      (s[i+1] += s[i]) %= m;\n    }\n    \n    vector<pll> ord(n);\n    rep(i,n){\n      ord[i] = pll(s[i+1],i);\n    }\n    sort(ord.begin(),ord.end());\n    \n    SegmentTree st(n);\n    ll res = 0;\n    rep(i,n){\n      ll v = ord[i].first, p = ord[i].second;\n      res = max(res, v);\n      res = max(res, st.RMQ(p+1,n) + m-v);\n      st.update(p,v);\n    }\n    printf(\"%lld\\n\",res);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\n#define REP(i,s,n) for(int i=s;i<n;i++)\n#define rep(i,n) REP(i,0,n)\n\nusing namespace std;\n\ntypedef long long ll;\nconst int MAX_N = 31000;\nconst int MAX_M = 100010; \nint n,m,arr[MAX_N],mod_sum[MAX_N];\nint bit[MAX_M];\n\nint sum(int i) {\n  ++i;\n  int s = 0;\n  while( i > 0 ){\n    s += bit[i];\n    i -= i & -i;\n  }\n  return s;\n}\n\nvoid add(int i,int x){\n  ++i;\n  while( i <= m ) {\n    bit[i] += x;\n    i += i & -i;\n  }\n}\n\nvoid print_arr(){\n  rep(i,m+1) {\n    cout << \"[\" << i << \":\" << sum(i) << \"] \";\n  } puts(\"\");\n}\n\nint getMax(int L,int R){\n  int target = sum(R);\n  while( L + 1 < R ){\n    int M = ( L + R ) / 2;\n    if( sum(M) >= target ) R = M;\n    else                   L = M;\n  }\n  if( R == 0 || ( sum(R) - sum(R-1) ) ) return R;\n  return 0;\n}\n\nvoid compute(){\n  int maxi = 0;\n  /*\n  rep(i,n) cout << setw(3) << arr[i] << \" \"; puts(\"\");\n  rep(i,n) cout << setw(3) << mod_sum[i] << \" \"; puts(\"\");\n  */\n  rep(i,n) add(mod_sum[i],1), maxi = max(maxi,mod_sum[i]);\n  //print_arr();\n\n\n  if( maxi == m-1 ) { printf(\"%d\\n\",maxi); return; }\n  int sub = 0;\n  rep(i,n) if( arr[i] ) {\n    add(arr[i],-1);\n    //puts(\"\");\n    //cout << \"arr[\" << i << \"] = \" << arr[i] << endl;\n    //print_arr();\n    int adj = ( m - sub ) % m;\n    int low  = adj;\n    int high = ( m - 1 + adj + m ) % m;\n    //int high = ( ( m - 1 - arr[i] + m ) % m + adj ) % m;\n    /*\n    cout << \"adj = \" << adj << endl;\n    cout << \"standard range = [\" << 0 << \",\" << m - 1 - arr[i] << \"]\" << endl;\n    cout << \"adjusted range = [\" << low << \",\" << high << \"]\" << endl;\n    cout << \"[\" << low << \",\" << high << \"]\" << endl;\n    */\n    assert( low != high ); // ??????????????£??????????????? arr[i] ??? m-1 ?????????????????????????????????????????£??????????????§???????????????\n    int coef = 0;\n    if( low < high ) {\n      coef = getMax(low,high);\n      //cout << \"coef = \" << coef << endl;\n      coef = ( coef - low + m ) % m;\n      //cout << \"adjusted coef = \" << coef << endl;\n    } else { // low > high\n      coef = getMax(low,m-1);\n      //cout << \"coef1 = \" << coef << endl;\n      coef = ( coef - low + m ) % m;\n      //cout << \"adjusted coef = \" << coef << endl;\n      int temp = getMax(0,high);\n      //cout << \"coef2 = \" << coef << endl;\n      temp = ( temp - low + m ) % m;\n      coef = max(coef,temp);\n    }\n    \n\n    maxi = max(maxi,coef);\n    ( sub += arr[i] ) %= m;\n  }\n  printf(\"%d\\n\",maxi);\n}\n\nint main(){\n  while( scanf(\"%d %d\",&n,&m), n|m ){\n    rep(i,n) {\n      scanf(\"%d\",arr+i);\n      arr[i] %= m;\n      if( i ) mod_sum[i] = ( mod_sum[i-1] + arr[i] ) % m;\n      else    mod_sum[i] = arr[i];\n    }\n    compute();\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\nusing namespace std;\nint main(){\n  while(1){\n    int n,m;\n    cin >> n >> m;\n    if(n==0&&m==0)break;\n    vector<int> a(n);\n    for(int i=0;i<n;i++){\n      cin >> a[i];\n      a[i]%=m;\n    }\n    vector<vector<int> >b(2,vector<int>(m,0));\n    int t=1,f=0;\n    for(int i=0;i<n;i++){\n      if(a[i]==0)continue;\n      for(int j=0;j<m;j++){\n\tif(a[i]>j){\n\t  b[f][j]=b[t][j];\n\t  continue;\n\t}\n\tif(a[i]+b[t][j-a[i]]>=m)continue;\n\tif(j-a[i]<=0)b[f][j]=max(b[t][j],a[i]);\n\telse{\n\t  b[f][j]=max(b[t][j],a[i]+b[t][j-a[i]]);\n\t}\t\n      }\n      /* for(int j=0;j<m;j++){\n\tcout <<b[f][j]<<\" \";\n       }\n       cout << endl;\n      */\n    \n      swap(t,f);\n    }\n    //swap(t,f);\n    cout << b[t][m-1] << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\n\nint main(){\n    ll N,M,K;\n    while(cin >> N >> M, N){\n        vector<ll> v(N);\n        for(int i = 0 ; i < N ; i++){\n            cin >> K;\n            v[i] = K%M;\n        }\n        ll res = 0;\n        for(int i = 0 ; i < N ; i++){\n            ll s = 0;\n            for(int j = 0 ; j < N-i ; j++){\n                s += v[i+j];\n                res = max(res,s%M);\n            }\n        }\n        cout << res << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main() {\n    int n, m;\n    while(cin >> n >> m, n) {\n        vector<int> a(n+1);\n        for(int i=1; i<=n; ++i) {\n            cin >> a[i];\n            a[i] %= m;\n            (a[i] += a[i-1]) %= m;\n        }\n        int res = 0;\n        set<int> s;\n        for(int i=1; i<=n; ++i) {\n        \t set<int>::iterator it= s.upper_bound(a[i]);\n            res = max(res, a[i]);\n            if(it != s.end()) {\n                res = max(res, (a[i] - *it + m) % m);\n            }\n            s.insert(a[i]);\n        }\n        cout << res << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nconst int INF = 1 << 28;\n\nstruct SegNode\n{\n  int v;\n\n  SegNode(int v) : v(v) {}\n\n  SegNode operator*(const SegNode &r) const\n  {\n    return (v > r.v ? *this : r);\n  }\n} e(-(1 << 30));\n\nstruct SegmentTree\n{\n  int sz;\n  vector< SegNode > seg;\n\n  SegmentTree(int n)\n  {\n    sz = 1;\n    while(sz < n) sz <<= 1;\n    seg.assign(2 * sz - 1, e);\n  }\n\n  void update(int k, const SegNode &x)\n  {\n    k += sz - 1;\n    seg[k] = x;\n    while(k > 0) {\n      k = (k - 1) >> 1;\n      seg[k] = seg[2 * k + 1] * seg[2 * k + 2];\n    }\n  }\n\n  SegNode query(int a, int b, int k, int l, int r)\n  {\n    if(a >= r || b <= l) return (e);\n    if(a <= l && r <= b) return (seg[k]);\n    return (query(a, b, 2 * k + 1, l, (l + r) >> 1) * query(a, b, 2 * k + 2, (l + r) >> 1, r));\n  }\n\n  SegNode query(int a, int b)\n  {\n    return (query(a, b, 0, 0, sz));\n  }\n};\n\n\nint main()\n{\n  int N, M, X[30000];\n\n  while(cin >> N >> M, N) {\n    for(int i = 0; i < N; i++) {\n      cin >> X[i];\n      X[i] %= M;\n    }\n    \n    vector< int > first(M, INF), last(2 * M, -INF);\n    first[0] = -1;\n    int sum = 0;\n    for(int i = 0; i < N; i++) {\n      sum += X[i];\n      sum %= M;\n      first[sum] = min(first[sum], i);\n      last[sum] = max(last[sum], i);\n      last[M + sum] = max(last[M + sum], i);\n    }\n\n    int ret = 0;\n    SegmentTree seg(N);\n    int ptr = 0;\n    for(int i = 0; i < M; i++) {\n      while(ptr - i < M) {\n        if(last[ptr] >= 0) {\n          seg.update(last[ptr], ptr);\n        }\n        ++ptr;\n      }\n      ret = max(ret, seg.query(first[i] + 1, M).v - i);\n    }\n    cout << ret << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\n#include <vector>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef pair<int, int> pii;\n\n#define reps(i,f,n) for(int i=f; i<int(n); ++i)\n#define rep(i,n) reps(i,0,n)\n\nint func(int n, int m)\n{\n    vector<int> K(n);\n    rep(i, n){\n        cin >> K[i];\n        K[i] %= m;\n    }\n    \n    int ans = 0;\n    rep(i, n){\n        int sum = 0;\n        reps(j, i, n){\n            sum += K[j];\n            sum = sum - (sum >= m ? m : 0);\n            ans = max(ans, sum);\n        }\n        if(ans == m-1) break;\n    }\n    \n    return ans;\n}\n    \nint main()\n{\n    int n, m;\n    while(cin >> n >> m, n){\n        cout << func(n, m) << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<set>\n#include<algorithm>\nusing namespace std;\ntypedef long long ll;\n\nint main(){\n    int n, m;\n    while(cin >> n >> m, n+m){\n        ll k[n];\n        for(int i = 0; i < n; i++)  cin >> k[i], k[i] %= m;\n        for(int i = 1; i < n; i++)  k[i] = (k[i]+k[i-1])%m;\n        set<ll> s;\n        s.insert(0);\n        ll ans = 0;\n        for(int i = 0; i < n; i++){\n            auto r = s.upper_bound(k[i]);\n            if(r == s.end())    r = s.begin();\n            ans = max(ans, (k[i]-(*r)+m)%m);\n            s.insert(k[i]);\n        }\n        cout << ans << endl;\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main()\n{\n\tint n, m;\n\twhile (cin >> n >> m, n || m) {\n\t\tvector<int> K(1);\n\t\tunsigned long long k;\n\t\tfor (int i = 0, siz; i < n; i++) {\n\t\t\tcin >> k;\n\t\t\tsiz = K.size();\n\t\t\tfor (int j = 0; j < siz; j++) {\n\t\t\t\tK.push_back((K[j] + k) % m);\n\t\t\t}\n\t\t\tsort(K.begin(), K.end());\n\t\t\tK.erase(unique(K.begin(), K.end()), K.end());\n\t\t}\n\t\tcout << K.back() << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <cmath>\n#include <algorithm>\n#include <cfloat>\n#include <stack>\n#include <queue>\n#include <vector>\n#include <string>\n#include <iostream>\n#include <set>\n#include <map>\n#include <time.h>\ntypedef long long int ll;\ntypedef unsigned long long int ull;\n#define BIG_NUM 2000000000\n#define MOD 1000000007\n#define EPS 0.000000001\nusing namespace std;\n\n#define NUM 30001\n\n\nint N,M;\nint table[NUM];\nset<int> SET;\n\n\nvoid func(){\n\n\tSET.clear();\n\n\ttable[0] = 0;\n\tint ans = 0;\n\n\tfor(int i = 1; i <= N; i++){\n\t\tscanf(\"%d\",&table[i]);\n\t\ttable[i] += table[i-1];\n\t\ttable[i] %= M;\n\n\t\tif(i == 1){\n\t\t\tans = table[i];\n\t\t\tSET.insert(table[i]);\n\t\t\tcontinue;\n\t\t}\n\t\tans = max(ans,table[i]);\n\n\t\tauto it = SET.upper_bound(table[i]);\n\t\tif(it != SET.end()){\n\t\t\tans = max(ans,(table[i]-*it+M)%M);\n\t\t}\n\t\tSET.insert(table[i]);\n\t}\n\n\tprintf(\"%d\\n\",ans);\n\n}\n\n\nint main(){\n\n\twhile(true){\n\t\tscanf(\"%d %d\",&N,&M);\n\t\tif(N == 0 && M == 0)break;\n\n\t\tfunc();\n\t}\n\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\n#define REP(i,s,n) for(int i=s;i<n;i++)\n#define rep(i,n) REP(i,0,n)\n\nusing namespace std;\n\ntypedef long long ll;\nconst int MAX_N = 31000;\nconst int MAX_M = 100010; \nint n,m,arr[MAX_N],mod_sum[MAX_N];\nint bit[MAX_M];\n\nint sum(int i) {\n  ++i;\n  int s = 0;\n  while( i > 0 ){\n    s += bit[i];\n    i -= i & -i;\n  }\n  return s;\n}\n\nvoid add(int i,int x){\n  ++i;\n  while( i <= m ) {\n    bit[i] += x;\n    i += i & -i;\n  }\n}\n\nvoid print_arr(){\n  rep(i,m+1) {\n    cout << \"[\" << i << \":\" << sum(i) << \"] \";\n  } puts(\"\");\n}\n\nbool DEBUG = false;\n\nint getMax(int L,int R){\n  int target = sum(R);\n  if( DEBUG)cout << \"target = \" << target << endl;\n  while( L + 1 < R ){\n    int M = ( L + R ) / 2;\n    if( sum(M) >= target ) R = M;\n    else                   L = M;\n  }\n  if(DEBUG)cout << \"result = \" << R << \" | \" << sum(R) << \" - \" << sum(R-1) << endl;\n  if( R == 0 || ( sum(R) - sum(R-1) ) ) return R;\n  return -1;\n}\n\nvoid compute(){\n  int maxi = 0;\n  /*\n  rep(i,n) cout << setw(3) << arr[i] << \" \"; puts(\"\");\n  rep(i,n) cout << setw(3) << mod_sum[i] << \" \"; puts(\"\");\n  */\n  rep(i,n) add(mod_sum[i],1), maxi = max(maxi,mod_sum[i]);\n  //print_arr();\n\n  if( maxi == m-1 ) { printf(\"%d\\n\",maxi); return; }\n  int sub = 0;\n  rep(i,n) if( arr[i] ) {\n    add(mod_sum[i],-1);\n    if(DEBUG){\n    puts(\"\");\n    cout << \"arr[\" << i << \"] = \" << arr[i] << endl;\n    }\n    //print_arr();\n    int adj = ( m - sub ) % m;\n    int low  = adj;\n    int high = ( m - 1 + adj + m ) % m;\n    //int high = ( ( m - 1 - arr[i] + m ) % m + adj ) % m;\n    if(DEBUG){\n    cout << \"adj = \" << adj << endl;\n    cout << \"standard range = [\" << 0 << \",\" << m - 1 << \"]\" << endl;\n    cout << \"adjusted range = [\" << low << \",\" << high << \"]\" << endl;\n    cout << \"[\" << low << \",\" << high << \"]\" << endl;\n    }\n    assert( low != high ); // ??????????????£??????????????? arr[i] ??? m-1 ?????????????????????????????????????????£??????????????§???????????????\n    int coef = 0;\n    if( low < high ) {\n      coef = getMax(low,high);\n      if(DEBUG)cout << \"coef = \" << coef << endl;\n      if( coef != -1 ) {\n        //coef = ( coef - low + m ) % m;\n        //coef = ( coef - low + m + adj ) % m;\n        coef = ( coef + adj ) % m;\n        if(DEBUG)cout << \"adjusted coef = \" << coef << endl;\n      }\n    } else { // low > high\n      if(DEBUG)cout << \"search[\" << low << \",\" << m-1 << \"]\" << endl;\n      coef = getMax(low,m-1);\n      if(DEBUG)cout << \"coef1 = \" << coef << endl;\n      if( coef != -1 ) {\n        //coef = ( coef - low + m ) % m;\n        //coef = ( coef - low + m + adj ) % m;\n        coef = ( coef + adj ) % m;\n        if(DEBUG)cout << \"adjusted coef = \" << coef << endl;\n      }\n      if(DEBUG)cout << \"search[\" << 0 << \",\" << high << \"]\" << endl;\n      int temp = getMax(0,high);\n      if(DEBUG)cout << \"coef2 = \" << temp << endl;\n      if( temp != -1 ) {\n        //temp = ( temp + m - high ) % m;\n        temp = ( temp + m + adj ) % m;\n        if(DEBUG)cout << \"adjusted coef = \" << temp << endl;\n      }\n      coef = max(coef,temp);\n    }\n    \n    if( coef != -1 ) maxi = max(maxi,coef);\n    ( sub += arr[i] ) %= m;\n  }\n  printf(\"%d\\n\",maxi);\n}\n\nint main(){\n  while( scanf(\"%d %d\",&n,&m), n|m ){\n    rep(i,n) {\n      scanf(\"%d\",arr+i);\n      arr[i] %= m;\n      if( i ) mod_sum[i] = ( mod_sum[i-1] + arr[i] ) % m;\n      else    mod_sum[i] = arr[i];\n    }\n    compute();\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define REP(i,a,b) for(int i=a;i<(int)b;i++)\n#define rep(i,n) REP(i,0,n)\n#define all(c) (c).begin(), (c).end()\n#define zero(a) memset(a, 0, sizeof a)\n#define minus(a) memset(a, -1, sizeof a)\n#define watch(a) { cout << #a << \" = \" << a << endl; }\ntemplate<class T1, class T2> inline bool minimize(T1 &a, T2 b) { return b < a && (a = b, 1); }\ntemplate<class T1, class T2> inline bool maximize(T1 &a, T2 b) { return a < b && (a = b, 1); }\n\ntypedef long long ll;\nint const inf = 1<<29;\n\nint main() {\n\n  for(int N, M; ~scanf(\"%d%d\", &N, &M) && N;) {\n    int sum[N + 1]; sum[0] = 0;\n\n    int res = 0;\n    rep(i, N) {\n      int A; scanf(\"%d\", &A); A %= M;\n      sum[i + 1] = sum[i] + A;\n      sum[i + 1] %= M;\n      maximize(res, sum[i + 1]);\n    }\n\n    set<int> st;\n\n    REP(i, 1, N - 1) {\n      maximize(res, sum[i] + M - *st.upper_bound(sum[i]));\n      st.insert(sum[i]);\n    }\n\n    cout << res << endl;\n\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n\nint main(){\n  int maxm,sum,n,m,s,g,nn[30005];\n  while(1){\n    cin>>n>>m;\n    if(n==0)break;\n    for(int i=0;i<30004;i++)nn[i]=0;\n    for(int i=0;i<n;i++){\n      cin>>nn[i];\n      nn[i]%=m;\n    }\n    s=0;\n    g=-1;\n    sum=0;\n    maxm=0;\n    while(1){\n      while(1){\n\tif((sum+nn[g+1])%m<sum%m||g>=n)break;\n\tsum+=nn[g+1];\n\tg++;\n      }\n      if(sum%m>maxm)maxm=sum%m;\n      s++;\n      sum-=nn[s-1];\n      if(g==s){\n\tsum+=nn[g+1];\n\tg++;\n      }\n      if(s==n)break;\n    }\n    cout<<maxm<<endl;\n\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nusing ll = long long;\nusing P = pair<int, int>;\n\nint main() {\n    int n, m;\n    while(cin >> n >> m, n) {\n        vector<int> a(n+1);\n        for(int i=1; i<=n; ++i) {\n            cin >> a[i];\n            a[i] %= m;\n            (a[i] += a[i-1]) %= m;\n        }\n        int res = 0;\n        set<int> s;\n        s.insert(0);\n        for(int i=1; i<=n; ++i) {\n            auto it = s.upper_bound(a[i]);\n            res = max(res, a[i]);\n            if(it != s.end()) {\n                res = max(res, (a[i] - *it + m) % m);\n            }\n            s.insert(a[i]);\n        }\n        cout << res << endl;\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\n#define REP(i,s,n) for(int i=s;i<n;i++)\n#define rep(i,n) REP(i,0,n)\n\nusing namespace std;\n\ntypedef long long ll;\nconst int MAX_N = 31000;\nconst int MAX_M = 100010; \nint n,m,arr[MAX_N],mod_sum[MAX_N];\nint bit[MAX_M];\n\nint sum(int i) {\n  ++i;\n  int s = 0;\n  while( i > 0 ){\n    s += bit[i];\n    i -= i & -i;\n  }\n  return s;\n}\n\nvoid add(int i,int x){\n  ++i;\n  while( i <= m ) {\n    bit[i] += x;\n    i += i & -i;\n  }\n}\n\nvoid print_arr(int limit=m){\n  rep(i,limit+1) {\n    cout << \"[\" << i << \":\" << sum(i) << \"] \";\n  } puts(\"\");\n}\n\nbool DEBUG = 0;\n\nint getMax(int L,int R){\n  int target = sum(R);\n  /*\n  while( L + 1 < R ){\n    int M = ( L + R ) / 2;\n    if( sum(M) >= target ) R = M;\n    else                   L = M;\n  }\n  */\n  rep(_,65){\n    int M = ( L + R ) / 2;\n    if( sum(M) >= target ) R = M;\n    else                   L = M;\n  }\n  if( L != R ) {\n    int res = -1;\n    if( sum(R) >= target ) res = R;\n    if( sum(L) >= target ) res = L;\n    assert( res != -1 );\n    R = res;\n  }\n  if(DEBUG)cout << \"result = \" << R << \" | \" << sum(R) << \" - \" << sum(R-1) << endl;\n  if( R == 0 && sum(R) ) return 0;\n  else if( R == 0 )      return -1;\n  if( sum(R) - sum(R-1) ) return R;\n  return -1;\n}\n\ninline int convert(int value,int sub){ return ( value - sub + m ) % m; }\n\nvoid compute(){\n  int maxi = 0;\n  /*\n  rep(i,n) cout << setw(3) << arr[i] << \" \"; puts(\"\");\n  rep(i,n) cout << setw(3) << mod_sum[i] << \" \"; puts(\"\");\n  */\n  rep(i,n) if( arr[i] ) add(mod_sum[i],1); //maxi = max(maxi,arr[i]);\n  //print_arr(20);\n\n  if( maxi == m-1 ) { printf(\"%d\\n\",maxi); return; }\n  int sub = 0;\n  \n  rep(i,n) if( arr[i] ) {\n    \n    if( DEBUG ) { puts(\"\"); cout << arr[i] << \" -th\" << endl; }\n    if( DEBUG ) { print_arr(10); }\n    int low  = sub;\n    int high = ( m - 1 + sub ) % m;\n    assert( convert(low,sub) == 0 );\n    assert( convert(high,sub) == m-1 );\n    if( DEBUG ) cout << \"sub = \" << sub << endl;\n\n    if( DEBUG ) cout << low << \",\" << high << \" [\" << convert(low,sub) << \",\" << convert(high,sub) << \"]\" << endl;\n\n    assert( low != high );\n\n    if( low < high ) {\n      int temp = getMax(low,high);\n      if( DEBUG)cout << \"temp = \" << temp << \" \" << convert(temp,sub) << endl;\n      if( temp != -1 ) maxi = max(maxi,convert(temp,sub));\n    } else {\n      int temp = getMax(low,m-1);\n      if( DEBUG){\n        cout << \"search[\" << low << \",\" << m-1 << \"]\" << endl;\n        cout << \"temp = \" << temp << \" \" << convert(temp,sub) << endl;\n      }\n      if( temp != -1 ) maxi = max(maxi,convert(temp,sub));\n      temp = getMax(0,high);\n      if( DEBUG ) {\n        cout << \"search[\" << 0 << \",\" << high << \"]\" << endl;\n        cout << \"temp = \" << temp << \" \" << convert(temp,sub) << endl;\n      }\n      if( temp != -1 ) maxi = max(maxi,convert(temp,sub));\n    }\n    if( DEBUG)cout << \"maxi = \" << maxi << endl;\n    ( sub += arr[i] ) %= m;\n    add(mod_sum[i],-1);\n    if( maxi == m-1 ) break;\n  }\n  printf(\"%d\\n\",maxi);\n}\n\nint main(){\n  while( scanf(\"%d %d\",&n,&m), n|m ){\n    memset(bit,0,sizeof(bit));\n    rep(i,n) {\n      scanf(\"%d\",arr+i);\n      arr[i] %= m;\n      if( i ) mod_sum[i] = ( mod_sum[i-1] + arr[i] ) % m;\n      else    mod_sum[i] = arr[i];\n    }\n    compute();\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main() {\n  int n, m;\n  while(cin >> n >> m, n | m) {\n    vector<int> sum = {0};\n    for(int i = 0; i < n; ++i) {\n      int K;\n      cin >> K;\n      sum.push_back((sum.back() + (K % m)) % m);\n    }\n    int answer = 0;\n    set<int> used = {m};\n    for(auto j: sum) {\n      answer = max(answer, (j - *used.lower_bound(j) + m + m) % m);\n      used.insert(j);\n      used.insert(j + m);\n    }\n    cout << answer << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define REP(i,a,b) for(int i=a;i<(int)b;i++)\n#define rep(i,n) REP(i,0,n)\n#define all(c) (c).begin(), (c).end()\n#define zero(a) memset(a, 0, sizeof a)\n#define minus(a) memset(a, -1, sizeof a)\n#define watch(a) { cout << #a << \" = \" << a << endl; }\ntemplate<class T1, class T2> inline bool minimize(T1 &a, T2 b) { return b < a && (a = b, 1); }\ntemplate<class T1, class T2> inline bool maximize(T1 &a, T2 b) { return a < b && (a = b, 1); }\n\ntypedef long long ll;\nint const inf = 1<<29;\n\nint main() {\n\n  for(int N, M; cin >> N >> M && N && M;) {\n    int sum[N + 1]; sum[0] = 0;\n\n    int res = 0;\n    rep(i, N) {\n      int A; cin >> A; A %= M;\n      sum[i + 1] = sum[i] + A;\n      sum[i + 1] %= M;\n      maximize(res, sum[i + 1]);\n    }\n\n    set<int> st;\n\n    REP(i, 1, N + 1) {\n      auto it = st.upper_bound(sum[i]);\n      if(it != st.end())\n        maximize(res, sum[i] + M - *it);\n      st.insert(sum[i]);\n    }\n\n    cout << res << endl;\n\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<(int)(n);i++)\nusing namespace std;\ntypedef long long ll;\ntypedef pair<ll,ll> pll;\ntypedef vector<ll> vl;\n\n//Segment Tree for Range Maximum Query\nclass SegmentTree{\n  int n;\n  vl node;\npublic:\n  SegmentTree(int n_){\n    n=1;\n    while(n<n_)n*=2;\n    node = vl(2*n-1,-1e9);\n  }\n\n  void update(int k, ll v){\n    int cur = k + n-1;\n    node[cur] = v;\n    while(cur>0){\n      cur = (cur-1)/2;\n      node[cur] = max(node[cur*2+1],node[cur*2+2]);\n    }\n  }\n\n  //return maximum value in [a,b). ( [l,r) is interval in which k is.)\n  ll RMQ(int a,int b,int k=0,int l=0,int r=0){\n    if(l>=r)r = n;\n    if(r<=a || b<=l)return -1e9;\n    if(a<=l && r<=b)return node[k];\n    ll vl = RMQ(a,b,2*k+1,l,(l+r)/2);\n    ll vr = RMQ(a,b,2*k+2,(l+r)/2,r);\n    return max(vl,vr);\n  }\n};\n\nint main(){\n  ll n,m;\n  while(cin >> n >> m, n){\n    vl s(n+1,0);\n    rep(i,n){\n      cin >> s[i+1];\n      (s[i+1] += s[i]) %= m;\n    }\n    \n    vector<pll> ord(n);\n    rep(i,n){\n      ord[i] = pll(s[i+1],i);\n    }\n    sort(ord.begin(),ord.end());\n    \n    SegmentTree st(n);\n    ll res = 0;\n    rep(i,n){\n      ll v = ord[i].first, p = ord[i].second;\n      res = max(res, v);\n      res = max(res, st.RMQ(p+1,n) + m-v);\n      st.update(p,v);\n    }\n    cout << res << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main()\n{\n\tint n, m;\n\tunsigned long long k;\n\twhile (cin >> n >> m, n || m) {\n\t\tvector<bool> dp(m, false), cp;\n\t\tdp[0] = true;\n\t\tfor (int i = 0;i < n; i++) {\n\t\t\tcin >> k;\n\t\t\tcp = dp;\n\t\t\tfor (int j = 0; j < m; j++) {\n\t\t\t\tif (cp[j]) {\n\t\t\t\t\tdp[(j + k) % m] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (int i = m - 1; i >= 0; i--) {\n\t\t\tif (dp[i]) {\n\t\t\t\tcout << i << endl;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\n#include <set>\n#include <vector>\n\nusing namespace std;\n\ntypedef long long ll;\n\nint main() {\n    int n, m;\n    while (cin >> n >> m, n || m) {\n        vector<ll> k(n);\n        for (int i = 0; i < n; ++i) {\n            cin >> k[i];\n            k[i] %= m;\n        }\n\n        vector<ll> sum(n + 1);\n        for (int i = 0; i < n; ++i) {\n            sum[i + 1] = (sum[i] + k[i]) % m;\n        }\n\n        ll ans = 0;\n        set<ll> s;\n        s.insert(0);\n        for (int i = 1; i <= n; ++i) {\n            auto it = s.lower_bound(sum[i] + 1);\n            if (it != s.end()) {\n                ans = max(ans, (sum[i] - (*it) + m) % m);\n            } else {\n                ans = max(ans, sum[i]);\n            }\n\n            s.insert(sum[i]);\n        }\n\n        cout << ans << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\n#define REP(i,s,n) for(int i=s;i<n;i++)\n#define rep(i,n) REP(i,0,n)\n\nusing namespace std;\n\ntypedef long long ll;\nconst int MAX_N = 31000;\nconst int MAX_M = 100010; \nint n,m,arr[MAX_N],mod_sum[MAX_N];\nint bit[MAX_M];\n\nint sum(int i) {\n  ++i;\n  int s = 0;\n  while( i > 0 ){\n    s += bit[i];\n    i -= i & -i;\n  }\n  return s;\n}\n\nvoid add(int i,int x){\n  ++i;\n  while( i <= m ) {\n    bit[i] += x;\n    i += i & -i;\n  }\n}\n\nvoid print_arr(int limit=m){\n  rep(i,limit+1) {\n    cout << \"[\" << i << \":\" << sum(i) << \"] \";\n  } puts(\"\");\n}\n\nbool DEBUG = 0;\n\nint getMax(int L,int R){\n  int target = sum(R);\n  if( DEBUG)cout << \"target = \" << target << endl;\n  while( L + 1 < R ){\n    int M = ( L + R ) / 2;\n    if( sum(M) >= target ) R = M;\n    else                   L = M;\n  }\n  if(DEBUG)cout << \"result = \" << R << \" | \" << sum(R) << \" - \" << sum(R-1) << endl;\n  if( R == 0 && sum(R) ) return 0;\n  else if( R == 0 )      return -1;\n  if( sum(R) - sum(R-1) ) return R;\n  return -1;\n}\n\ninline int convert(int value,int sub){ return ( value - sub + m ) % m; }\n\nvoid compute(){\n  int maxi = 0;\n  /*\n  rep(i,n) cout << setw(3) << arr[i] << \" \"; puts(\"\");\n  rep(i,n) cout << setw(3) << mod_sum[i] << \" \"; puts(\"\");\n  */\n  rep(i,n) if( arr[i] ) add(mod_sum[i],1), maxi = max(maxi,mod_sum[i]);\n  //print_arr(20);\n\n  if( maxi == m-1 ) { printf(\"%d\\n\",maxi); return; }\n  int sub = 0;\n  rep(i,n) if( arr[i] ) {\n    \n    if( DEBUG ) { puts(\"\"); cout << arr[i] << \" -th\" << endl; }\n    int low  = sub;\n    int high = ( m - 1 + sub ) % m;\n    assert( convert(low,sub) == 0 );\n    assert( convert(high,sub) == m-1 );\n    if( DEBUG)cout << low << \",\" << high << \" [\" << convert(low,sub) << \",\" << convert(high,sub) << \"]\" << endl;\n\n    assert( low != high );\n\n    if( low < high ) {\n      int temp = getMax(low,high);\n      if( DEBUG)cout << \"temp = \" << temp << \" \" << convert(temp,sub) << endl;\n      if( temp != -1 ) maxi = max(maxi,convert(temp,sub));\n    } else {\n      int temp = getMax(low,m-1);\n      if( DEBUG){\n        cout << \"search[\" << low << \",\" << m-1 << \"]\" << endl;\n        cout << \"temp = \" << temp << \" \" << convert(temp,sub) << endl;\n      }\n      if( temp != -1 ) maxi = max(maxi,convert(temp,sub));\n      temp = getMax(0,high);\n      if( DEBUG ) {\n        cout << \"search[\" << 0 << \",\" << high << \"]\" << endl;\n        cout << \"temp = \" << temp << \" \" << convert(temp,sub) << endl;\n      }\n      if( temp != -1 ) maxi = max(maxi,convert(temp,sub));\n    }\n    if( DEBUG)cout << \"maxi = \" << maxi << endl;\n    ( sub += arr[i] ) %= m;\n    add(mod_sum[i],-1);\n    if( maxi == m-1 ) break;\n  }\n  printf(\"%d\\n\",maxi);\n}\n\nint main(){\n  while( scanf(\"%d %d\",&n,&m), n|m ){\n    rep(i,n) {\n      scanf(\"%d\",arr+i);\n      arr[i] %= m;\n      if( i ) mod_sum[i] = ( mod_sum[i-1] + arr[i] ) % m;\n      else    mod_sum[i] = arr[i];\n    }\n    compute();\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\n\n//#define int long long\n#define DBG 1\n#define dump(o) if(DBG){cerr<<#o<<\" \"<<(o)<<\" \";}\n#define dumpl(o) if(DBG){cerr<<#o<<\" \"<<(o)<<endl;}\n#define dumpc(o) if(DBG){cerr<<#o; for(auto &e:(o))cerr<<\" \"<<e;cerr<<endl;}\n#define rep(i,a,b) for(int i=(a);i<(b);i++)\n#define rrep(i,a,b) for(int i=(b)-1;i>=(a);i--)\n#define all(c) begin(c),end(c)\nconst int INF = sizeof(int) == sizeof(long long) ? 0x3f3f3f3f3f3f3f3fLL : 0x3f3f3f3f;\nconst int MOD = (int)(1e9 + 7);\ntemplate<class T> bool chmax(T &a, const T &b) { if (a < b) { a = b; return true; } return false; }\ntemplate<class T> bool chmin(T &a, const T &b) { if (a > b) { a = b; return true; } return false; }\n\nsigned main() {\n\tfor (int n, m; cin >> n >> m&&n;) {\n\t\tvector<int> K(n); rep(i, 0, n) { cin >> K[i]; }\n\t\tvector<int> sum = K;\n\t\trep(i, 1, n) {\n\t\t\tsum[i] += sum[i - 1];\n\t\t}\n\t\tint ans = 0;\n\t\trep(i, 0, n)chmax(ans, K[i] % m);\n\t\trep(i, 0, n)rep(j, i + 1, n) {\n\t\t\tchmax(ans, (sum[j] - sum[i]) % m);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\n#include <set>\n#include <vector>\n\nusing namespace std;\n\ntypedef long long ll;\n\nint main() {\n    int n, m;\n    while (cin >> n >> m, n || m) {\n        vector<ll> k(n);\n        for (int i = 0; i < n; ++i) {\n            cin >> k[i];\n            k[i] %= m;\n        }\n\n        vector<ll> sum(n + 1);\n        for (int i = 0; i < n; ++i) {\n            sum[i + 1] = (sum[i] + k[i]) % m;\n        }\n\n        ll ans = 0;\n        set<ll> s;\n        s.insert(0);\n        for (int i = 1; i <= n; ++i) {\n            auto it = s.lower_bound(sum[i] + 1);\n            if (it != s.end()) {\n                ans = max(ans, (sum[i] + (*it)) % m);\n            } else {\n                ans = max(ans, sum[i]);\n            }\n\n            s.insert(sum[i]);\n        }\n\n        cout << ans << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define REP(i,a,b) for(int i=a;i<(int)b;i++)\n#define rep(i,n) REP(i,0,n)\n#define all(c) (c).begin(), (c).end()\n#define zero(a) memset(a, 0, sizeof a)\n#define minus(a) memset(a, -1, sizeof a)\n#define watch(a) { cout << #a << \" = \" << a << endl; }\ntemplate<class T1, class T2> inline bool minimize(T1 &a, T2 b) { return b < a && (a = b, 1); }\ntemplate<class T1, class T2> inline bool maximize(T1 &a, T2 b) { return a < b && (a = b, 1); }\n\ntypedef long long ll;\nint const inf = 1<<29;\n\nint main() {\n\n  for(int N, M; cin >> N >> M && N && M;) {\n    int sum[N + 1]; sum[0] = 0;\n\n    int res = 0;\n    rep(i, N) {\n      int A; cin >> A; A %= M;\n      sum[i + 1] = sum[i] + A;\n      sum[i + 1] %= M;\n      maximize(res, sum[i + 1]);\n    }\n\n    set<int> st = {M};\n\n    REP(i, 1, N + 1) {\n      maximize(res, sum[i] + M - *st.upper_bound(sum[i]));\n      st.insert(sum[i]);\n    }\n\n    cout << res << endl;\n\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cstdio>\n#include <set>\n#include <vector>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef pair<int, int> pii;\n\n#define reps(i,f,n) for(int i=f; i<int(n); ++i)\n#define rep(i,n) reps(i,0,n)\n\nint K[30000];\n\nint func(int n, int m)\n{\n    rep(i, n){\n        scanf(\"%d\", &K[i]);\n        K[i] %= m;\n    }\n    \n    int ans = 0;\n    int offset = 0;\n    set<int> S;\n    \n    rep(i, n){\n        S.insert((m - offset) % m);\n        offset = (offset + K[i]) % m;\n        \n        auto itr = S.lower_bound(m - offset);\n        if(itr == S.begin()) itr = S.end();\n        itr = --itr;\n        ans = max(ans, (*itr + offset) % m);\n    }\n    \n    return ans;\n}\n    \nint main()\n{\n    int n, m;\n    while(scanf(\"%d%d\", &n, &m), n){\n        printf(\"%d\\n\", func(n, m));\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define int long long\n#define double long double\nusing namespace std;\nconst int N = 100010;\nconst int INF = 1LL<<55;\nconst double EPS = 1e-8;\nconst double PI = 6.0 * asin(0.5);\ntypedef pair<int,int> P;\ntypedef long long ll;\nostream& operator<<(ostream& o,P p){\n  return o<<\"(\"<<p.first<<\",\"<<p.second<<\")\";\n}\nistream& operator>>(istream& i,P &p){return i>>p.first>>p.second;}\ntemplate<class T> istream& operator>>(istream& i,vector<T> &a){for(auto &t:a)cin>>t;return i;}\ntemplate<class T> T Max(T &a,T b){return a=max(a,b);}\ntemplate<class T> T Min(T &a,T b){return a=min(a,b);}\ntemplate<class T> void prArr(T a,string s=\" \"){int i=0;for(auto t:a)cout<<(i++?s:\"\")<<t;cout<<endl;}\n \n\nsigned main(){\n  while(1){\n    int n,mod;\n    cin>>n>>mod;\n    if(n == 0 && mod==0) return 0;\n\n    vector<int> A(n);\n    cin>>A;\n\n    multiset<int> S;\n    vector<int> Mod(n);\n    for(int i=0,s=0;i<n;i++){\n      s += A[i];\n      S.insert(s%mod);\n      S.insert(s%mod+mod);\n      Mod[i] = s%mod;\n    }\n    \n    int ofset = 0;\n    int ans = 0;\n    for(int i=0;i<n;i++){\n      int s = *(--S.upper_bound(ofset + mod-1));\n      Max(ans,s - ofset);\n      S.erase(S.find(Mod[i]));\n      S.erase(S.find(Mod[i]+mod));\n      ofset = (ofset + A[i]) %mod;\n    }\n    cout<<ans<<endl;\n    \n  }\n   \n  return 0;\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<(int)n;i++)\n#define all(c) (c).begin(),(c).end()\n#define pb push_back\n#define dbg(...) do{cerr<<__LINE__<<\": \";dbgprint(#__VA_ARGS__, __VA_ARGS__);}while(0);\n\nusing namespace std;\n\nnamespace std{template<class S,class T>struct hash<pair<S,T>>{size_t operator()(const pair<S,T>&p)const{return ((size_t)1e9+7)*hash<S>()(p.first)+hash<T>()(p.second);}};template<class T>struct hash<vector<T>>{size_t operator()(const vector<T> &v)const{size_t h=0;for(auto i : v)h=h*((size_t)1e9+7)+hash<T>()(i)+1;return h;}};}\ntemplate<class T>ostream& operator<<(ostream &os, const vector<T> &v){os<<\"[ \";rep(i,v.size())os<<v[i]<<(i==v.size()-1?\" ]\":\", \");return os;}template<class T>ostream& operator<<(ostream &os,const set<T> &v){os<<\"{ \"; for(const auto &i:v)os<<i<<\", \";return os<<\"}\";}\ntemplate<class T,class U>ostream& operator<<(ostream &os,const map<T,U> &v){os<<\"{\";for(const auto &i:v)os<<\" \"<<i.first<<\": \"<<i.second<<\",\";return os<<\"}\";}template<class T,class U>ostream& operator<<(ostream &os,const pair<T,U> &p){return os<<\"(\"<<p.first<<\", \"<<p.second<<\")\";}\nvoid dbgprint(const string &fmt){cerr<<endl;}template<class H,class... T>void dbgprint(const string &fmt,const H &h,const T&... r){cerr<<fmt.substr(0,fmt.find(\",\"))<<\"= \"<<h<<\" \";dbgprint(fmt.substr(fmt.find(\",\")+1),r...);}\ntypedef long long ll;typedef vector<int> vi;typedef pair<int,int> pi;const int inf = (int)1e9;const double INF = 1e12, EPS = 1e-9;\n\nint main(){\n\tcin.tie(0); cin.sync_with_stdio(0);\n\tint n, m;\n\twhile(cin >> n >> m, n){\n\t\tint ans = 0, sum = 0;\n\t\tset<int> s;\n\t\ts.insert(0);\n\t\trep(i, n){\n\t\t\tint x; cin >> x;\n\t\t\tsum = (sum + x) % m;\n\t\t\ts.insert(sum);\n\t\t\t\n\t\t\tauto it = s.upper_bound(sum);\n\t\t\tif(it != s.end()) ans = max(ans, (sum + m - *it) % m);\n\t\t\tans = max(ans, sum);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\n\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<vi> mat;\n#define FOR(i,a,b) for(int i=(a);i<(int)(b);++i)\n#define rep(i,n) FOR(i,0,n)\n#define ALL(x) (x).begin(),(x).end()\n#define mset(a,x) memset(a,x,sizeof(a))\n#define OUT(x) cout<<(x)<<\"\\n\"\n#define FASTIO cin.tie(0),ios::sync_with_stdio(0)\n\nint n, m;\n\nvoid Print(vector<ll>& v) {\n    rep(i, n) cout << v[i] << (i == n - 1 ? \"\\n\" : \" \");\n}\n\nvoid solve() {\n    vector<ll> K(n);\n    for(auto& k : K) scanf(\"%lld\", &k);\n\n    for(auto& k : K) k %= m;\n    //Print(K);\n    rep(i, n - 1) {\n        K[i + 1] += K[i];\n        K[i + 1] %= m;\n    }\n    //Print(K);\n\n    ll ans = 0;\n    rep(i, n - 1) K[i + 1] += K[i];\n    rep(i, n) {\n        ll s = 0;\n        for(int j = i; j >= 0; j--) {\n            int d = K[i] - K[j];\n            if(d >= m) break;\n            s = d;\n        }\n        if(K[i] < m && K[i] > s) ans = K[i];\n        ans = max(ans, s);\n    }\n\n    cout << ans << \"\\n\";\n}\n\nint main() {\n    while(cin >> n >> m, n) solve();\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i, a, n) for(int i = a; i < n; i++)\n#define repp(i, n) rep(i, 0, n)\n#define repb(i, a, b) for(int i = a; i >= b; i--)\n#define all(a) a.begin(), a.end()\n#define int long long\nusing namespace std;\ntypedef pair<int, int> P;\n\nsigned main(){\n    int n, m;\n    while(1){\n        cin >> n >> m;\n        if(n + m == 0) break;\n        vector<int> d(n);\n        rep(i, 0, n){\n            cin >> d[i];\n            d[i] %= m;\n        }\n        // rep(i, 1, n){\n        //     d[i] += d[i - 1];\n        // }\n        // int ans = d[0] % m;\n        // rep(i, 0, n){\n        //     rep(j, i + 1, n){\n        //         int tmp = (d[j] - d[i]) % m;\n        //         ans = max(ans, tmp);\n        //     }\n        // }\n        // cout << ans << endl;\n        int now = 0, ans = d[0] % m;\n        int l = 0, r = 1;\n        while(l < r && r <= n){\n            if(now + d[r] < m){\n                now += d[r];\n                r++;\n                ans = max(ans, now);\n            }else{\n                now -= d[l];\n                l++;\n            }\n            // cout << l << ' ' << r << ' ' << now << endl;\n        }\n        cout << ans << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main() {\n  int n, m;\n  set<int> used;\n  while(cin >> n >> m, n | m) {\n    vector<int> sum = {0};\n    for(int i = 0; i < n; ++i) {\n      int K;\n      cin >> K;\n      sum.push_back((sum.back() + (K % m)) % m);\n    }\n    used = {m};\n    int answer = 0;\n    for(auto j: sum) {\n      answer = max(answer, (j - *used.upper_bound(j) + m) % m);\n      used.insert(j);\n      used.insert(j + m);\n    }\n    cout << answer << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef long double ld;\ntypedef pair<ll, ll> P;\n\n#define EACH(i,a) for (auto& i : a)\n#define FOR(i,a,b) for (ll i=(a);i<(b);i++)\n#define RFOR(i,a,b) for (ll i=(b)-1;i>=(a);i--)\n#define REP(i,n) for (ll i=0;i<(n);i++)\n#define RREP(i,n) for (ll i=(n)-1;i>=0;i--)\n#define debug(x) cout<<#x<<\": \"<<x<<endl\n#define pb push_back\n#define ALL(a) (a).begin(),(a).end()\n\nconst ll linf = 1e18;\nconst int inf = 1e9;\nconst double eps = 1e-12;\nconst double pi = acos(-1);\n\ntemplate<typename T>\nistream& operator>>(istream& is, vector<T>& vec) {\n    EACH(x,vec) is >> x;\n    return is;\n}\ntemplate<typename T>\nostream& operator<<(ostream& os, vector<T>& vec) {\n    REP(i,vec.size()) {\n        if (i) os << \" \";\n        os << vec[i];\n    }\n    return os;\n}\ntemplate<typename T>\nostream& operator<<(ostream& os, vector< vector<T> >& vec) {\n    REP(i,vec.size()) {\n        if (i) os << endl;\n        os << vec[i];\n    }\n    return os;\n}\n\nint main() {\n    std::ios::sync_with_stdio(false);\n    std::cin.tie(0);\n    ll n, m;\n    while ( cin >> n >> m, n || m ) {\n        vector<ll> v(n); cin >> v;\n        REP(i, n) v[i] %= m;\n        REP(i, n-1) v[i+1] = (v[i]+v[i+1])%m;\n        set<ll> s; s.insert(0);\n        ll ans = 0;\n        REP(i, n) {\n            ans = max(ans, v[i]);\n            if ( s.upper_bound(v[i]) != s.end() ) {\n                ans = max(ans, (v[i]-*s.upper_bound(v[i])+m)%m);\n            }\n            s.insert(v[i]);\n        }\n        cout << ans << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define REP(i,a,b) for(int i=a;i<(int)b;i++)\n#define rep(i,n) REP(i,0,n)\n#define all(c) (c).begin(), (c).end()\n#define zero(a) memset(a, 0, sizeof a)\n#define minus(a) memset(a, -1, sizeof a)\n#define watch(a) { cout << #a << \" = \" << a << endl; }\ntemplate<class T1, class T2> inline bool minimize(T1 &a, T2 b) { return b < a && (a = b, 1); }\ntemplate<class T1, class T2> inline bool maximize(T1 &a, T2 b) { return a < b && (a = b, 1); }\n\ntypedef long long ll;\nint const inf = 1<<29;\n\nint main() {\n\n  for(int N, M; ~scanf(\"%d%d\", &N, &M) && N;) {\n    int sum[N + 1]; sum[0] = 0;\n\n    int res = 0;\n    rep(i, N) {\n      int A; scanf(\"%d\", &A); A %= M;\n      sum[i + 1] = sum[i] + A;\n      sum[i + 1] %= M;\n      maximize(res, sum[i + 1]);\n    }\n\n    set<int> st = {M};\n\n    REP(i, 1, N + 1) {\n      maximize(res, sum[i] + M - *st.upper_bound(sum[i]));\n      st.insert(sum[i]);\n    }\n\n    cout << res << endl;\n\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n\nint main()\n{\n  int N, M, X[30000];\n\n  while(cin >> N >> M, N) {\n    for(int i = 0; i < N; i++) {\n      cin >> X[i];\n      X[i] %= M;\n    }\n\n    int ret = 0;\n    for(int i = 0; i < N; i++) {\n      int sum = 0;\n      for(int j = i; j < N; j++) {\n        sum += X[j];\n        if(sum >= M) sum -= M;\n        ret = max(ret, sum);\n      }\n    }\n\n    cout << ret << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main() {\n  int n, m;\n  while(cin >> n >> m, n | m) {\n    vector<int> sum = {0};\n    for(int i = 0; i < n; ++i) {\n      int K;\n      cin >> K;\n      sum.push_back((sum.back() + (K % m)) % m);\n    }\n    int answer = 0;\n    set<int> used = {m};\n    for(auto j: sum) {\n      answer = max(answer, (j - *used.upper_bound(j) + m) % m);\n      used.insert(j);\n      used.insert(j + m);\n    }\n    cout << answer << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define REP(i,a,b) for(int i=a;i<(int)b;i++)\n#define rep(i,n) REP(i,0,n)\n#define all(c) (c).begin(), (c).end()\n#define zero(a) memset(a, 0, sizeof a)\n#define minus(a) memset(a, -1, sizeof a)\n#define watch(a) { cout << #a << \" = \" << a << endl; }\ntemplate<class T1, class T2> inline bool minimize(T1 &a, T2 b) { return b < a && (a = b, 1); }\ntemplate<class T1, class T2> inline bool maximize(T1 &a, T2 b) { return a < b && (a = b, 1); }\n\ntypedef long long ll;\nint const inf = 1<<29;\n\nint main() {\n\n  for(int N, M; cin >> N >> M && N && M;) {\n    int sum[N + 1]; sum[0] = 0;\n    rep(i, N) {\n      int A; cin >> A; A %= M;\n      sum[i + 1] = sum[i] + A;\n      sum[i + 1] %= M;\n    }\n\n    set<int> st;\n\n    int res = 0;\n\n    REP(i, 1, N + 1) {\n      auto it = st.upper_bound(sum[i]);\n      if(it == st.end())\n        maximize(res, sum[i]);\n      else\n        maximize(res, sum[i] + M - *it);\n      st.insert(sum[i]);\n    }\n\n    cout << res << endl;\n\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <numeric>\n#include <bitset>\n#include <cmath>\n\nstatic const int MOD = 1000000007;\nusing ll = long long;\nusing u32 = unsigned;\nusing u64 = unsigned long long;\nusing namespace std;\n\ntemplate<class T> constexpr T INF = ::numeric_limits<T>::max()/32*15+208;\n\nint main() {\n    int n, m;\n    while(cin >> n >> m, n){\n        vector<ll> v(n);\n        for (auto &&i : v) scanf(\"%lld\", &i);\n        ll S = 0;\n        set<ll> s;\n        s.emplace(0);\n        ll ans = 0;\n        for (int i = 0; i < n; ++i) {\n            (S += v[i]) %= m;\n            auto a = s.upper_bound(S);\n            if(a != s.end()){\n                ans = max(ans, (S-*a+m)%m);\n            }else {\n                ans = max(ans, S-*s.begin());\n            }\n            s.emplace(S);\n        }\n        cout << ans << \"\\n\";\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <set>\n#include <algorithm>\n\nusing namespace std;\n\ntypedef long long ll;\nint n, m;\nll k[33333];\n\nint main(void) {\n  for (;;) {\n    scanf(\"%d%d\", &n, &m); if (n+m == 0) break;\n    for (int i = 0; i < n; i++) scanf(\"%lld\", k+i);\n    \n    set<long long> t;\n    t.insert(0);\n    long long s = 0;\n    long long res = 0;\n    for (int i = 0; i < n; i++) {\n      // printf(\"%4lld\", s);\n      s = (s + k[i])%m;\n      res = max(res, (s-*t.begin()+m)%m);\n      auto it = t.upper_bound(s);\n      if (it != t.end()) res = max(res, (s-*it+m)%m);\n      t.insert(s);\n    }\n    // puts(\"\");\n    printf(\"%lld\\n\", res);\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main() {\n  int n, m;\n  while(cin >> n >> m, n | m) {\n    vector<int> sum = {0};\n    for(int i = 0; i < n; ++i) {\n      int K;\n      cin >> K;\n      sum.push_back((sum.back() + (K % m)) % m);\n    }\n    int answer = 0;\n    set<int> used = {m};\n    for(auto j: sum) {\n      answer = max(answer, (j - *used.lower_bound(j) + m) % m);\n      used.insert(j);\n      used.insert(j + m);\n    }\n    cout << answer << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n \nint main()\n{\n    int n,m,i,j,max;\nlong long sum;\n    int k[30000];\n \n    while(scanf(\"%d%d\",&n,&m),n+m){\n \n        max=0;\n \n        for(i=0;i<n;i++){\n            scanf(\"%d\",&k[i]);\nk[i]%=m;\n        }   \n \n        for(i=0;i<n;i++){\n\n            sum=0;\n   if(max==m-1) break;\n            for(j=i;j<n;j++){\nif(k[j]==0) continue;\n                if(max==m-1) break;\n                sum+=k[j];\n                if(max<sum%m) max=sum%m;\n \n            }   \n                if(max==m-1) break;\n        }   \n \n        printf(\"%d\\n\",max);\n    }   \n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <stdio.h>\n#include <string.h>\n#include <algorithm>\n#include <vector>\n#include <set>\nusing namespace std;\ntypedef long long ll;\nlong long x[30005];\nint main() {\n\twhile(1){\n\t\tint n,m; scanf(\"%d%d\",&n,&m);\n\t\tif(n+m==0) return 0;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tlong long a; scanf(\"%lld\",&a);\n\t\t\tx[i] = (x[i-1]+a)%m;\n\t\t}\n\t\tset<long long>s; s.insert(x[n]); ll r = 0;\n\t\tfor(int i=n-1;i>=0;i--){\n\t\t\tset<long long>::iterator it = s.lower_bound(x[i]);\n\t\t\tif(it != s.begin()){\n\t\t\t\tit--;\n\t\t\t\tll v = ((*it) - x[i]+m)%m;\n\t\t\t\tr = max(r,v);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tit = s.end(); it--;\n\t\t\t\tll v = ((*it) - x[i]+m)%m;\n\t\t\t\tr = max(r,v);\n\t\t\t}\n\t\t\ts.insert(x[i]);\n\t\t}\n\t\tcout << r << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\nusing namespace std;\nint main(){\n  int n,m;\n  cin >> n >> m;\n  vector<int> a(n);\n  for(int i=0;i<n;i++){\n    cin >> a[i];\n    a[i]%=m;\n  }\n  vector<vector<int> >b(2,vector<int>(m+1,0));\n  int t=1,f=0;\n  for(int i=0;i<n;i++){\n    if(a[i]==0)continue;\n    for(int j=a[i];j<=m;j++){\n      if(a[i]+b[t][j-a[i]]>=m)continue;\n      b[f][j]=max(b[t][j],a[i]+b[t][j-a[i]]);\n    }\n    swap(t,f);\n  }\n  //swap(t,f);\n  cout << b[t][m] << endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\n#define REP(i,s,n) for(int i=s;i<n;i++)\n#define rep(i,n) REP(i,0,n)\n\nusing namespace std;\n\nint main(){\n  int n,m;\n  while(cin >> n >> m, n|m ){\n    vector<int> arr(n); \n    rep(i,n) { cin >> arr[i]; arr[i] %= m; }\n    int maxi = 0;\n    rep(i,n) {\n      int sum = 0;\n      REP(j,i,n){\n        ( sum += arr[j] ) %= m;\n        maxi = max(maxi,sum);\n      }\n      if( maxi == m-1 ) break;\n    }\n    cout << maxi << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n \nint main()\n{\n    int n,m,i,j,max, sum;\n    int k[30000];\n \n    while(scanf(\"%d%d\",&n,&m),n+m){\n \n        max=0;\n \n        for(i=0;i<n;i++){\n            scanf(\"%d\",&k[i]);\nk[i]%=m;\n        }   \n \n        for(i=0;i<n;i++){\n\n            sum=0;\n            for(j=i;j<n;j++){\nif(k[j]==0) continue;\n                if(max==m-1) break;\n                sum+=k[j];\nsum%=m;\n                if(max<sum) max=sum;\n \n            }   \n                if(max==m-1) break;\n        }   \n \n        printf(\"%d\\n\",max);\n    }   \n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main() {\n    int n, m;\n    while(cin >> n >> m, n) {\n        vector<int> a(n+1);\n        for(int i=1; i<=n; ++i) {\n            cin >> a[i];\n            a[i] %= m;\n            (a[i] += a[i-1]) %= m;\n        }\n        int res = 0;\n        set<int> s;\n        for(int i=1; i<=n; ++i) {\n        \t set<int>::iterator it= s.upper_bound(a[i]);\n            res = max(res, a[i]);\n            if(it != s.end()) {\n                res = max(res, (a[i] - *it + m) % m);\n            }\n            //s.insert(a[i]);\n        }\n        cout << res << endl;\n    }\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint main(void) {\n\tint n, m;\n\t\n\twhile (scanf(\"%d%d\", &n, &m), n) {\n\t\tunsigned int k[30001] = { 0 }, max = 0, i, j;\n\t\tunsigned int c[100000] = { 0 };\n\t\t\n\t\tfor (i = 1; i <= n; ++i) {\n\t\t\tscanf(\"%u\", &k[i]);\n\t\t\tk[i] = ((unsigned long long)k[i] + k[i - 1]) % m;\n\t\t}\n\t\t\n\t\tfor (i = 0; i < n; ++i) {\n\t\t\tif (!c[k[i]]) {\n\t\t\t\tc[k[i]] = 1;\n\t\t\t\n\t\t\t\tfor (j = i + 1; j <= n; ++j) {\n\t\t\t\t\tunsigned int s = (m + k[j] - k[i]) < m ? (m + k[j] - k[i]) : (k[j] - k[i]);\n\t\t\t\t\tmax = max < s ? s : max;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\", max);\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n \nint main()\n{\n    int n,m,i,j,max;\nlong long sum;\n    int k[30000];\n \n    while(scanf(\"%d%d\",&n,&m),n+m){\n \n        max=0;\n \n        for(i=0;i<n;i++){\n            scanf(\"%d\",&k[i]);\nk[i]%=m;\n        }   \n \n        for(i=0;i<n;i++){\n            sum=0;\n            for(j=i;j<n;j++){\n                if(max==m-1) break;\n                sum+=k[j];\n                if(max<sum%m) max=sum%m;\n \n            }   \n                if(max==m-1) break;\n        }   \n \n        printf(\"%d\\n\",max);\n    }   \n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint main(void) {\n\tint n, m;\n\t\n\twhile (scanf(\"%d%d\", &n, &m), n) {\n\t\tint k[30000], i, j, max = 0;\n\t\t\n\t\tfor (i = 0; i < n; ++i) {\n\t\t\tscanf(\"%d\", &k[i]);\n\t\t\tk[i] %= m;\n\t\t}\n\t\t\n\t\tfor (i = 0; i < n; ++i) {\n\t\t\tint s = 0;\n\t\t\t\n\t\t\tfor (j = i; j < n; ++j) {\n\t\t\t\tint t = s + k[j];\n\t\t\t\ts = t - (t >= m) * m;\n\t\t\t\tmax = max < s ? s : max;\n\t\t\t}\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\", max);\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n \nint a(int n,int m,int k[30000]){\nint i,j,sum,max;\n\n for(i=0;i<n;i++){\n\n            sum=0;\n            for(j=i;j<n;j++){\nif(k[j]==0) continue;\n                if(max==m-1) break;\n                sum+=k[j];\nsum%=m;\n                if(max<sum) max=sum;\n \n            }   \n                if(max==m-1) break;\n        }   \nreturn max;\n}\n\nint main()\n{\n    int n,m,i,j;\n    int k[30000];\n \n    while(scanf(\"%d%d\",&n,&m),n+m){\n \n        max=0;\n \n        for(i=0;i<n;i++){\n            scanf(\"%d\",&k[i]);\nk[i]%=m;\n        }   \n \n      \n \n        printf(\"%d\\n\",a(n,m,k));\n    }   \n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n \nint main()\n{\n    int n,m,i,j,sum,max;\n    int k[30000];\n \n    while(scanf(\"%d%d\",&n,&m),n+m){\n \n      for(i=0;i<n;i++){\n          scanf(\"%d\",&k[i]);\n          if(i!=0)k[i]=(k[i]+k[i-1])%m;\n          else k[i]%=m;\n      }\nmax=k[0];\nfor(i=0;i<n;i++)\nprintf(\"%d\\n\",k[i]);\n \n        for(i=0;i<n;i++){\n          for(j=i;j<n;j++){\n              if(k[j]<k[i]) \n                sum=m+k[j]-k[i];\n              else\n                sum=k[j]-k[i];\n              if(sum>max) max=sum;\n          }\n        }\n \n        printf(\"%d\\n\",max);\n    }   \n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n \nint main()\n{\n    int n,m,i,j,sum,max;\n    int k[30000];\n \n    while(scanf(\"%d%d\",&n,&m),n+m){\n \n      for(i=0;i<n;i++){\n          scanf(\"%d\",&k[i]);\n          if(i!=0)k[i]=(k[i]%m+k[i-1])%m;\n          else k[i]%=m;\n      }\nmax=k[0];\nfor(i=0;i<n;i++)\nprintf(\"%d\\n\",k[i]);\n \n        for(i=0;i<n;i++){\n          for(j=i;j<n;j++){\n              if(k[j]<k[i]) \n                sum=m+k[j]-k[i];\n              else\n                sum=k[j]-k[i];\n              if(sum>max) max=sum;\n          }\n        }\n \n      \n    }   \n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint main(void) {\n\tint n, m;\n\t\n\twhile (scanf(\"%d%d\", &n, &m), n) {\n\t\tunsigned int k[30001] = { 0 }, max = 0, i, j;\n\t\t\n\t\tfor (i = 1; i <= n; ++i) {\n\t\t\tscanf(\"%u\", &k[i]);\n\t\t\tk[i] = ((unsigned long long)k[i] + k[i - 1]) % m;\n\t\t}\n\t\t\n\t\tfor (i = 0; i < n; ++i) {\n\t\t\tfor (j = i + 1; j <= n; ++j) {\n\t\t\t\tunsigned int s = (m + k[j] - k[i]) < m ? (m + k[j] - k[i]) : (k[j] - k[i]);\n\t\t\t\tmax = max < s ? s : max;\n\t\t\t\t\n\t\t\t\tif (max == m - 1) {\n\t\t\t\t\tgoto l;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tl:\n\t\t\n\t\tprintf(\"%d\\n\", max);\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\nint main()\n{\n    int n,m,i,j,max,sum;\n    int k[30000];\n\n    while(scanf(\"%d%d\",&n,&m),n+m){\n\n        max=0;\n\n        for(i=0;i<n;i++){\n            scanf(\"%d\",&k[i]);\n        }   \n\n        for(i=0;i<n;i++){\n            sum=0;\n            for(j=i;j<n;j++){\n                sum+=k[j];\n                if(max<sum%m) max=sum%m;\n            }   \n        }   \n\n        printf(\"%d\\n\",max);\n    }   \n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint main(void) {\n\tint n, m;\n\t\n\twhile (scanf(\"%d%d\", &n, &m), n) {\n\t\tint k[30000], i, j, max = 0;\n\t\t\n\t\tfor (i = 0; i < n; ++i) {\n\t\t\tscanf(\"%d\", &k[i]);\n\t\t\tk[i] %= m;\n\t\t}\n\t\t\n\t\tfor (i = 0; i < n; ++i) {\n\t\t\tint s = 0;\n\t\t\t\n\t\t\tfor (j = i; j < n; ++j) {\n\t\t\t\tint t = s + k[j];\n\t\t\t\ts = t >= m ? t - m : t;\n\t\t\t\tmax = max < s ? s : max;\n\t\t\t}\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\", max);\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n \nint main()\n{\n    int n,m,i,j,max;\nlong long sum;\n    int k[30000];\n \n    while(scanf(\"%d%d\",&n,&m),n+m){\n \n        max=0;\n \n        for(i=0;i<n;i++){\n            scanf(\"%d\",&k[i]);\nk[i]%=m;\n        }   \n \n        for(i=0;i<n;i++){\n            sum=0;\n   if(max==m-1) break;\n            for(j=i;j<n;j++){\n                if(max==m-1) break;\n                sum+=k[j];\n                if(max<sum%m) max=sum%m;\n \n            }   \n                if(max==m-1) break;\n        }   \n \n        printf(\"%d\\n\",max);\n    }   \n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\nint a(int n,int m,int k[30000]){\n    int i,j,sum,max=0;\n\n    for(i=n-1;i>=0;i--){\n\n        sum=0;\n        for(j=i;j<n;j++){\n            if(k[j]==0) continue;\n            if(max==m-1) break;\n            sum+=k[j];\n            if(sum>=m)sum%=m;\n            if(max<sum) max=sum;\n\n        }   \n        if(max==m-1) break;\n    }   \n    return max;\n}\n\nint main()\n{\n    int n,m,i,j;\n    int k[30000];\n\n    while(scanf(\"%d%d\",&n,&m),n+m){\n\n        for(i=0;i<n;i++){\n            scanf(\"%d\",&k[i]);\n            if(k[i]>=m)k[i]%=m;\n        }   \n\n        printf(\"%d\\n\",a(n,m,k));\n    }   \n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint main(void) {\n\tint n, m;\n\t\n\twhile (scanf(\"%d%d\", &n, &m), n) {\n\t\tunsigned int k[30001] = { 0 }, i, j, max = 0;\n\t\t\n\t\tfor (i = 1; i <= n; ++i) {\n\t\t\tscanf(\"%u\", &k[i]);\n\t\t\tk[i] = k[i] % m + k[i - 1];\n\t\t}\n\t\t\n\t\tfor (i = 0; i <= n; ++i) {\n\t\t\tfor (j = i + 1; j <= n; ++j) {\n\t\t\t\tmax = max < (k[j] - k[i]) % m ? (k[j] - k[i]) % m : max;\n\t\t\t}\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\", max);\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint main(void) {\n\tint n, m;\n\t\n\twhile (scanf(\"%d%d\", &n, &m), n) {\n\t\tint i, j, max = 0;\n\t\tint l[100000], r[100000];\n\t\t\n\t\tlong long s = 0;\n\t\t\n\t\tl[0] = 0;\n\t\tr[0] = 0;\n\n\t\tfor (i = 1; i < m; ++i) {\n\t\t\tl[i] = 30001; // ??????????????????\n\t\t\tr[i] = -1;    // ??????????????????\n\t\t}\n\t\t\n\t\t\n\t\tfor (i = 1; i <= n; ++i) {\n\t\t\tunsigned int t;\n\t\t\tscanf(\"%u\", &t);\n\t\t\ts = (s + t) % m;\n\t\t\t\n\t\t\tl[s] = i < l[s] ? i : l[s]; // ??????\n\t\t\tr[s] = i > r[s] ? i : r[s]; // ??????\n\t\t}\n\t\t\n\t\tfor (i = 0; i < m; ++i) {\n\t\t\tfor (j = 1; r[i] > 0 && j < m - max; ++j) {\n\t\t\t\tif (l[(i + j) % m] < r[i]) {\n\t\t\t\t\tmax = m - j;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprintf(\"%d\\n\", max);\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\nint a(int n,int m,int k[30000]){\n    int i,j,sum,max=0;\n\n    for(i=n-1;i>=0;i--){\n\n        sum=0;\n        for(j=i;j>=0;j--){\n            if(k[j]==0) continue;\n            if(max==m-1) break;\n            sum+=k[j];\n            sum%=m;\n            if(max<sum) max=sum;\n\n        }   \n        if(max==m-1) break;\n    }   \n    return max;\n}\n\nint main()\n{\n    int n,m,i,j;\n    int k[30000];\n\n    while(scanf(\"%d%d\",&n,&m),n+m){\n\n        for(i=0;i<n;i++){\n            scanf(\"%d\",&k[i]);\n            k[i]%=m;\n        }   \n\n        printf(\"%d\\n\",a(n,m,k));\n    }   \n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint main(void) {\n\tint n, m;\n\t\n\twhile (scanf(\"%d%d\", &n, &m), n) {\n\t\tint k[30000], i, j, max = 0;\n\t\t\n\t\tfor (i = 0; i < n; ++i) {\n\t\t\tscanf(\"%d\", &k[i]);\n\t\t\tk[i] %= m;\n\t\t}\n\t\t\n\t\tfor (i = 0; i < n; ++i) {\n\t\t\tint s = 0;\n\t\t\t\n\t\t\tfor (j = i; j < n; ++j) {\n\t\t\t\ts += k[j];\n\t\t\t\ts &= 0xfffff;\n\t\t\t\ts -= (s >= m) * m;\n\n\t\t\t\tmax = max < s ? s : max;\n\t\t\t}\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\", max);\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint main(void) {\n\tint n, m;\n\t\n\twhile (scanf(\"%d%d\", &n, &m), n) {\n\t\tint i, j, max = 0;\n\t\tint l[100000], r[100000];\n\t\t\n\t\tlong long s = 0;\n\t\t\n\t\tl[0] = 0;\n\t\tr[0] = 0;\n\n\t\tfor (i = 1; i < m; ++i) {\n\t\t\tl[i] = 30001; // ??????????????????\n\t\t\tr[i] = -1;    // ??????????????????\n\t\t}\n\t\t\n\t\tfor (i = 1; i <= n; ++i) {\n\t\t\tunsigned int t;\n\t\t\tscanf(\"%u\", &t);\n\t\t\ts = (s + t) % m;\n\t\t\t\n\t\t\tl[s] = i < l[s] ? i : l[s]; // ??????\n\t\t\tr[s] = i > r[s] ? i : r[s]; // ??????\n\t\t\t\n\t\t\tmax = max < s ? s : max;\n\t\t}\n\t\t\n\t\t// ????????????????????°???\n\t\tfor (i = 0; i < m; ++i) {\n\t\t\tif (max == m - 1) goto end;\n\t\t\t// ??????????????????????????´????????°???\n\t\t\tfor (j = 1; r[i] > 0 && j < m - max; ++j) {\n\t\t\t\tif (l[(i + j) % m] < r[i]) {\n\t\t\t\t\tmax = m - j;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tend:\n\t\t\n\t\tprintf(\"%d\\n\", max);\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "// Aizu 0254: Scone\n// 2017.9.12 bal4u@uu\n\n#include <stdio.h>\n#include <string.h>\n\nint s[30003], f[100002];\n\nint main()\n{\n\tint n, m, i, a, ans, min;\n\tlong long sum;\n\n\twhile (scanf(\"%d%d\", &n, &m) && n) {\n\t\tmemset(f, 0, sizeof(f));\n\t\tfor (sum = 0, min = ans = s[0] = 0, i = 1; i <= n; i++) {\n\t\t\tscanf(\"%d\", &a), sum += a; a %= m; if (a > min) min = a;\n\t\t\tif (a == m-1) ans = a;\n\t\t\tif ((s[i] = s[i-1] + a) >= m) s[i] -= m; f[s[i]] = i;\n\t\t}\n\t\tif (ans > 0) goto Done;\n\t\tif (sum < m) { ans = (int)sum; goto Done; }\n\t\tfor (ans = m-1; ans > min; ans--) {\n\t\t\tfor (i = 1; i <= n; i++) {\n\t\t\t\tif ((a = s[i] + ans) >= m) a -= m;\n\t\t\t\tif (f[a] > i) goto Done;\n\t\t\t}\n\t\t}\nDone:\tprintf(\"%d\\n\", ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint main(void) {\n\tint n, m;\n\n\twhile (scanf(\"%d%d\", &n, &m), n) {\n\t\tint k[30000], max = 0, i, j;\n\t\n\t\tfor (i = 0; i < n; ++i) {\n\t\t\tscanf(\"%d\", &k[i]);\n\t\t}\n\t\n\t\tfor (i = 0; i < n; ++i) {\n\t\t\tlong long s = 0;\n\t\t\tfor (j = i; j < n - i; ++j) {\n\t\t\t\ts += k[j];\n\t\t\t\tmax = max < s % m ? s % m : max;\n\t\t\t}\n\t\t\t\n\t\t\tfor (j = i; j < n - i; ++j) {\n\t\t\t\ts -= k[j];\n\t\t\t\tmax = max < s % m ? s % m : max;\n\t\t\t}\n\t\t}\n\t\n\t\tprintf(\"%d\\n\", max);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\nint main()\n{\n    int n,m,i,j,max,sum;\n    int k[30000];\n\n    while(scanf(\"%d%d\",&n,&m),n+m){\n\n        max=0;\n\n        for(i=0;i<n;i++){\n            scanf(\"%d\",&k[i]);\n        }   \n\n        for(i=0;i<n;i++){\n            sum=0;\n            for(j=i;j<n;j++){\n                if(max==m-1) break;\n                sum+=k[j];\n                if(max<sum%m) max=sum%m;\n\n            }   \n                if(max==m-1) break;\n        }   \n\n        printf(\"%d\\n\",max);\n    }   \n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\nint a(int n,int m,int k[30000]){\n    int i,j,sum,max=0;\n\n    for(i=n-1;i>=0;i--){\n\n        sum=0;\n        for(j=i;j<n;j++){\n            if(k[j]==0) continue;\n            if(max==m-1) break;\n            sum+=k[j]%m;\n            if(sum>=m)sum%=m;\n            if(max<sum) max=sum;\n\n        }   \n        if(max==m-1) break;\n    }   \n    return max;\n}\n\nint main()\n{\n    int n,m,i,j;\n    int k[30000];\n\n    while(scanf(\"%d%d\",&n,&m),n+m){\n\n        for(i=0;i<n;i++){\n            scanf(\"%d\",&k[i]);\n           // /*if(k[i]>=m)*/k[i]%=m;\n        }   \n\n        printf(\"%d\\n\",a(n,m,k));\n    }   \n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint main(void) {\n\tint n, m;\n\t\n\twhile (scanf(\"%d%d\", &n, &m), n) {\n\t\tint k[30000], i, j, max = 0;\n\t\t\n\t\tfor (i = 0; i < n; ++i) {\n\t\t\tscanf(\"%d\", &k[i]);\n\t\t\tk[i] %= m;\n\t\t}\n\t\t\n\t\tfor (i = 0; i < n; ++i) {\n\t\t\tint s = 0;\n\t\t\t\n\t\t\tfor (j = i; j < n; ++j) {\n\t\t\t\ts = s + k[j] >= m ? s + k[j] - m : s + k[j];\n\t\t\t\tmax = max < s ? s : max;\n\t\t\t}\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\", max);\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint main(void) {\n\tint n, m;\n\t\n\twhile (scanf(\"%d%d\", &n, &m), n) {\n\t\tint k[30000], i, j, max = 0;\n\t\t\n\t\tfor (i = 0; i < n; ++i) {\n\t\t\tscanf(\"%d\", &k[i]);\n\t\t\tk[i] %= m;\n\t\t}\n\t\t\n\t\tfor (i = 0; i < n; ++i) {\n\t\t\tint s = 0;\n\t\t\t\n\t\t\tfor (j = i; j < n; ++j) {\n\t\t\t\ts += k[j];\n\t\t\t\tmax = max < (s % m) ? (s % m) : max;\n\t\t\t}\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\", max);\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n \nint a(int n,int m,int k[30000]){\nint i,j,sum,max=0;\n\n for(i=0;i<n;i++){\n\n            sum=0;\n            for(j=i;j<n;j++){\nif(k[j]==0) continue;\n                if(max==m-1) break;\n                sum+=k[j];\nsum%=m;\n                if(max<sum) max=sum;\n \n            }   \n                if(max==m-1) break;\n        }   \nreturn max;\n}\n\nint main()\n{\n    int n,m,i,j;\n    int k[30000];\n \n    while(scanf(\"%d%d\",&n,&m),n+m){\n \n        for(i=0;i<n;i++){\n            scanf(\"%d\",&k[i]);\nk[i]%=m;\n        }   \n \n      \n \n        printf(\"%d\\n\",a(n,m,k));\n    }   \n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint main(void) {\n\tint n, m;\n\t\n\twhile (scanf(\"%d%d\", &n, &m), n) {\n\t\tint k[30000], i, j, max = 0;\n\t\t\n\t\tfor (i = 0; i < n; ++i) {\n\t\t\tscanf(\"%d\", &k[i]);\n\t\t\tk[i] %= m;\n\t\t}\n\t\t\n\t\tfor (i = 0; i < n; ++i) {\n\t\t\tint s = 0;\n\t\t\t\n\t\t\tfor (j = i; j < n; ++j) {\n\t\t\t\tint t = s + k[j];\n\t\t\t\ts = t - (t >= m) * m;\n\t\t\t\tmax = max < s ? s : max;\n\t\t\t}\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\", max);\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "// AOJ 0254: Scone\n// 2017.9.12 bal4u@uu\n// 2017.11.12\n\n#include <stdio.h>\n#include <string.h>\n\nint s[30003], f[100002];\nchar buf[330010], *p;\n\nint getint()\n{\n\tint n = 0;\n\twhile (*p >= '0') n = (n<<3) + (n<<1) + (*p++ & 0xf);\n\treturn n;\n}\n\nint main()\n{\n\tint n, m, i, a, ans, max;\n\tlong long sum;\n\n\twhile (fgets(p=buf, 20, stdin) && *p != '0') {\n\t\tn = getint(), p++, m = getint();\n\t\tmemset(f, -1, sizeof(int)*m);\n\t\tfgets(p=buf, sizeof(buf), stdin);\n\t\tfor (sum = 0, max = ans = s[0] = 0, i = 1; i <= n; i++) {\n\t\t\ta = getint(), p++;\n\t\t\tsum += a; a %= m; if (a > max) max = a;\n\t\t\tif (a == m-1) ans = a;\n\t\t\tif ((s[i] = s[i-1] + a) >= m) s[i] -= m; f[s[i]] = i;\n\t\t}\n\t\tif (ans > 0) goto Done;\n\t\tif (max == 0) { ans = 0; goto Done; }\n\t\tif (sum < m) { ans = (int)sum; goto Done; }\n\t\tfor (ans = m-1; ans > max; ans--) {\n\t\t\tfor (i = 0; i <= n; i++) {\n\t\t\t\tif ((a = s[i] + ans) >= m) a -= m;\n\t\t\t\tif (f[a] >= i) goto Done;\n\t\t\t}\n\t\t}\nDone:\tprintf(\"%d\\n\", ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n \nint a(int n,int m,int k[30000]){\nint i,j,sum,max=0;\n\n for(i=n-1;i>=0;i--){\n\n            sum=0;\n            for(j=i;j>=0;j--){\n              if(k[j]==0) continue;\n                if(max==m-1) break;\n                sum+=k[j];\nsum%=m;\n                if(max<sum) max=sum;\n \n            }   \n                if(max==m-1) break;\n        }   \nreturn max;\n}\n\nint main()\n{\n    int n,m,i,j;\n    int k[30000];\n \n    while(scanf(\"%d%d\",&n,&m),n+m){\n \n        for(i=0;i<n;i++){\n            scanf(\"%d\",&k[i]);\nk[i]%=m;\n        }   \n \n      \n \n        printf(\"%d\\n\",a(n,m,k));\n    }   \n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint main(void) {\n\tint n, m;\n\t\n\twhile (scanf(\"%d%d\", &n, &m), n) {\n\t\tint i, j, max = 0;\n\t\tint l[100000], r[100000];\n\t\t\n\t\tlong long s = 0;\n\t\t\n\t\tl[0] = 0;\n\t\tr[0] = 0;\n\n\t\tfor (i = 1; i < m; ++i) {\n\t\t\tl[i] = 30001; // ??????????????????\n\t\t\tr[i] = -1;    // ??????????????????\n\t\t}\n\t\t\n\t\tfor (i = 1; i <= n; ++i) {\n\t\t\tunsigned int t;\n\t\t\tscanf(\"%u\", &t);\n\t\t\ts = (s + t) % m;\n\t\t\t\n\t\t\tl[s] = i < l[s] ? i : l[s]; // ??????\n\t\t\tr[s] = i > r[s] ? i : r[s]; // ??????\n\t\t\t\n\t\t\tmax = max < s ? s : max;\n\t\t}\n\t\t\n\t\t// ????????????????????°???\n\t\tfor (i = 1; i < m; ++i) {\n\t\t\t// ??????????????????????????´????????°???\n\t\t\tfor (j = 1; j < m - max; ++j) {\n\t\t\t\t// ?????´????????¢???????????°OK\n\t\t\t\tif (l[i + j] < r[i]) {\n\t\t\t\t\tmax = m - j;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprintf(\"%d\\n\", max);\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n \nint main()\n{\n    int n,m,i,j,sum,max;\n    int k[30000];\n \n    while(scanf(\"%d%d\",&n,&m),n+m){\n \n      for(i=0;i<n;i++){\n          scanf(\"%d\",&k[i]);\n          if(i!=0)k[i]=(k[i]%m+k[i-1])%m;\n          else k[i]%=m;\n      }\nmax=k[0];\n\n \n        for(i=0;i<n;i++){\n          for(j=i;j<n;j++){\n              if(k[j]<k[i]) \n                sum=m+k[j]-k[i];\n              else\n                sum=k[j]-k[i];\n              if(sum>max) max=sum;\n          }\n        }\n \n        printf(\"%d\\n\",max);\n    }   \n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n \nint a(int n,int m,int k[30000]){\nint i,j,sum,max=0;\n\n for(i=n-1;i>=0;i--){\n\n            sum=0;\n            for(j=i;j>=0;j--){\n              if(k[j]==0) continue;\n                if(max==m-1) break;\n                sum+=k[j];\nsum%=m;\n                if(max<sum) max=sum;\n \n            }   \n                if(max==m-1) break;\n        }   \nreturn max;\n}\n\nint main()\n{\n    int n,m,i,j;\n    int k[30000];\n \n    while(scanf(\"%d%d\",&n,&m),n+m){\n \n        for(i=0;i<n;i++){\n            scanf(\"%d\",&k[i]);\n            k[i]%=m;\n        }\n \n        printf(\"%d\\n\",a(n,m,k));\n    }   \n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\nint main()\n{\n    int n,m,i,j,max,sum;\n    int k[30000];\n\n    while(scanf(\"%d%d\",&n,&m),n+m){\n\n        max=0;\n\n        for(i=0;i<n;i++){\n            scanf(\"%d\",&k[i]);\n        }   \n\n        for(i=0;i<n;i++){\n            sum=0;\n            for(j=i;j<n;j++){\n                if(max==m-1) break;\n                sum+=k[j];\n                if(max<sum%m) max=sum%m;\n\n            }   \n                //if(max==m-1) break;\n        }   \n\n        printf(\"%d\\n\",max);\n    }   \n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\nlong long max(long long a,long long b){\n  if(a>b){return a;}return b;\n}\n\nlong long stree[524288],ssize=262144;\n\nvoid init(){\n  long long i;\n  for(i=0;i<2*ssize;i++){stree[i]=0;}\n}\n\nvoid upd(long long p,long long x){\n  p+=ssize;\n  while(p>0){\n    stree[p]=max(stree[p],x);\n    p/=2;\n  }\n}\n\n//call : k=1\nlong long query(long long a,long long b,long long k,long long st,long long fi){\n  long long te=(st+fi)/2;\n  if(a<=st && fi<=b){return stree[k];}\n  if(b<=st || fi<=a){return -1;}\n  return max(query(a,b,2*k,st,te),query(a,b,2*k+1,te,fi));\n}\n\nint main(){\n  long long i,j,n,m,a,k,rw,res=0;\n  long long st,fi,te;\n  while(scanf(\"%lld%lld\",&n,&m),n!=0){\n    init();\n    rw=0;res=0;\n    upd(0,1);\n    upd(m,1);\n    for(i=0;i<n;i++){\n      scanf(\"%lld\",&a);\n      rw+=a;\n      k=rw%m;\n      st=k+1;fi=2*m-1;\n      while(st<=fi){\n        te=(st+fi)/2;\n        if(query(k+1,te+1,1,0,ssize)==0){\n          st=te+1;\n        }\n        else{fi=te-1;}\n      }\n      res=max(m-st+k,res);\n      upd(rw%m,1);\n      upd((rw%m)+m,1);\n    }\n    printf(\"%lld\\n\",res);\n  }\n}\n\n"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n \nint a(int n,int m,int k[30000]){\nint i,j,sum,max=0;\n\n for(i=n-1;i>=0;i--){\n\n            sum=0;\n            for(j=i;j>=0;j--){\n              if(k[j]==0) continue;\n                if(max==m-1) break;\n                sum+=k[j];\nsum%=m;\n                if(max<sum) max=sum;\n \n            }   \n                if(max==m-1) break;\n        }   \nreturn max;\n}\n\nint main()\n{\n    int n,m,i,j,sum;\n    int k[30000];\n \n    while(scanf(\"%d%d\",&n,&m),n+m){\n \n        for(i=0;i<n;i++){\n            scanf(\"%d\",&k[i]);\n            k[i]%=m;\nsum+=k[i];\nsum%=m;\nif(sum==m-1) n=-1;\n        }\nif(n==-1){\nprintf(\"%d\\n\",sum);\ncontinue;\n}\n \n        printf(\"%d\\n\",a(n,m,k));\n    }   \n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include<math.h>\n\nint a(int n,int m,int k[30000]){\n    int i,j,sum,max=0;\n\n    for(i=n-1;i>=0;i--){\n\n        sum=0;\n        for(j=i;j>=0;j--){\n            if(k[j]==0) continue;\n            if(max==m-1) break;\n            sum+=k[j];\n            sum%=m;\n            if(max<sum)max=sum;\n\n        }   \n        if(max==m-1) break;\n    }   \n    return max;\n}\n\nint main()\n{\n    int n,m,i,j;\n    int k[30000];\n\n    while(scanf(\"%d%d\",&n,&m),n+m){\n\n        for(i=0;i<n;i++){\n            scanf(\"%d\",&k[i]);\n            k[i]%=m;\n        }   \n\n        printf(\"%d\\n\",a(n,m,k));\n    }   \n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\nint main()\n{\n    int n,m,i,j,max,sum;\n    int k[30000];\n\n    while(scanf(\"%d%d\",&n,&m),n+m){\n\n        max=0;\n\n        for(i=0;i<n;i++){\n            scanf(\"%d\",&k[i]);\n        }   \n\n        for(i=0;i<n;i++){\n            sum=0;\n            for(j=i;j<n;j++){\n                sum+=k[j];\n                if(max<sum%m) max=sum%m;\n                if(max==m-1) break;\n            }   \n                if(max==m-1) break;\n        }   \n\n        printf(\"%d\\n\",max);\n    }   \n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\nint a(int n,int m,int k[30000]){\n    int i,j,sum,max=0;\n\n    for(i=n-1;i>=0;i--){\n\n        sum=0;\n        for(j=n-1;j>=i;j--){\n            if(k[j]==0) continue;\n            if(max==m-1) break;\n            sum+=k[j];\n            if(sum>=m)sum%=m;\n            if(max<sum) max=sum;\n\n        }   \n        if(max==m-1) break;\n    }   \n    return max;\n}\n\nint main()\n{\n    int n,m,i,j;\n    int k[30000];\n\n    while(scanf(\"%d%d\",&n,&m),n+m){\n\n        for(i=0;i<n;i++){\n            scanf(\"%d\",&k[i]);\n            /*if(k[i]>=m)*/k[i]%=m;\n        }   \n\n        printf(\"%d\\n\",a(n,m,k));\n    }   \n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint main(void) {\n\tint n, m;\n\t\n\twhile (scanf(\"%d%d\", &n, &m), n) {\n\t\tunsigned int i, j, max = 0;\n\t\tunsigned int c[100000];\n\t\t\n\t\tunsigned long long s = 0;\n\t\t\n\t\tfor (i = 0; i < m; ++i) {\n\t\t\tc[i] = 30001;\n\t\t}\n\t\t\n\t\tc[0] = 0;\n\t\t\n\t\tfor (i = 1; i <= n; ++i) {\n\t\t\tunsigned int t;\n\t\t\tscanf(\"%u\", &t);\n\t\t\ts = (s + t) % m;\n\n\t\t\tc[s] = i;\n\t\t}\n\t\t\n\t\tfor (i = 0; i < m; ++i) {\n\t\t\tif (c[i] > n) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tfor (j = 1; j < m - max; ++j) {\n\t\t\t\tif (c[m - i - j] < c[i]) {\n\t\t\t\t\tmax = m - j;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprintf(\"%d\\n\", max);\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint main(void) {\n\tint n, m;\n\t\n\twhile (scanf(\"%d%d\", &n, &m), n) {\n\t\tint i, j, max = 0;\n\t\tint l[100000], r[100000];\n\t\t\n\t\tlong long s = 0;\n\t\t\n\t\tl[0] = 0;\n\t\tr[0] = 0;\n\n\t\tfor (i = 1; i < m; ++i) {\n\t\t\tl[i] = 30001; // ??????????????????\n\t\t\tr[i] = -1;    // ??????????????????\n\t\t}\n\t\t\n\t\tfor (i = 1; i <= n; ++i) {\n\t\t\tunsigned int t;\n\t\t\tscanf(\"%u\", &t);\n\t\t\ts = (s + t) % m;\n\t\t\t\n\t\t\tl[s] = i < l[s] ? i : l[s]; // ??????\n\t\t\tr[s] = i > r[s] ? i : r[s]; // ??????\n\t\t\t\n\t\t\tmax = max < s ? s : max;\n\t\t}\n\t\t\n\t\t// ????????????????????°???\n\t\tfor (i = 0; i < m; ++i) {\n\t\t\t// ??????????????????????????´????????°???\n\t\t\tfor (j = 1; r[i] > 0 && j < m - max; ++j) {\n\t\t\t\tif (l[i + j] < r[i]) {\n\t\t\t\t\tmax = m - j;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprintf(\"%d\\n\", max);\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\nint a(int n,int m,int k[30000]){\n    int i,j,sum,max=0;\n\n    for(i=n-1;i>=0;i--){\n\n        sum=0;\n        for(j=i;j<n;j++){\n            if(k[j]==0) continue;\n            if(max==m-1) break;\n            sum+=k[j];\n            if(sum>=m)sum%=m;\n            if(max<sum) max=sum;\n\n        }   \n        if(max==m-1) break;\n    }   \n    return max;\n}\n\nint main()\n{\n    int n,m,i,j;\n    int k[30000];\n\n    while(scanf(\"%d%d\",&n,&m),n+m){\n\n        for(i=0;i<n;i++){\n            scanf(\"%d\",&k[i]);\n            /*if(k[i]>=m)*/k[i]%=m;\n        }   \n\n        printf(\"%d\\n\",a(n,m,k));\n    }   \n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n \nint main()\n{\n    int n,m,i,j,sum,max;\n    int k[30000];\n \n    while(scanf(\"%d%d\",&n,&m),n+m){\n \n      for(i=0;i<n;i++){\n          scanf(\"%d\",&k[i]);\n          if(i!=0)k[i]=(k[i]%m+k[i-1])%m;\n          else k[i]%=m;\n      }\nmax=k[0];\nfor(i=0;i<n;i++)\nprintf(\"%d\\n\",k[i]);\n \n        for(i=0;i<n;i++){\n          for(j=i;j<n;j++){\n              if(k[j]<k[i]) \n                sum=m+k[j]-k[i];\n              else\n                sum=k[j]-k[i];\n              if(sum>max) max=sum;\n          }\n        }\n \n        printf(\"%d\\n\",max);\n    }   \n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n \nint main(void) {\n\tint n, m;\n \n\twhile (scanf(\"%d%d\", &n, &m), n) {\n\t\tint k[30000], max = 0, i, j;\n \n\t\tfor (i = 0; i < n; ++i) {\n\t\t\tscanf(\"%d\", &k[i]);\n\t\t}\n \n\t\tfor (i = 0; i < n; ++i) {\n\t\t\tlong long s = 0;\n\t\t\tfor (j = i; j < n; ++j) {\n\t\t\t\ts = (s + k[j]) % m;\n\t\t\t\tmax = max < s ? s : max;\n\t\t\t}\n\t\t}\n \n\t\tprintf(\"%d\\n\", max);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint main(void) {\n\tint n, m;\n\t\n\twhile (scanf(\"%d%d\", &n, &m), n) {\n\t\tint k[30000], i, j, max = 0;\n\t\t\n\t\tfor (i = 0; i < n; ++i) {\n\t\t\tscanf(\"%d\", &k[i]);\n\t\t\tk[i] %= m;\n\t\t}\n\t\t\n\t\tfor (i = 0; i < n; ++i) {\n\t\t\tint s = 0;\n\t\t\t\n\t\t\tfor (j = i; j < n; ++j) {\n\t\t\t\tint t = s + k[j];\n\t\t\t\t\n\t\t\t\tif (t >= m) s = t - m;\n\t\t\t\telse\t    s = t;\n\n\t\t\t\tmax = max < s ? s : max;\n\t\t\t}\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\", max);\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "// Aizu 0254: Scone\n// 2017.9.12 bal4u@uu\n\n#include <stdio.h>\n#include <string.h>\n\nint s[30003], f[100002];\nchar buf[330002], *p;\nunsigned getInt()\n{\n\tunsigned n = 0;\n\tif (*p == ' ') p++;\n\twhile (*p >= '0') n = (n<<3) + (n<<1) + (*p++ & 0xf);\n\treturn n;\n}\n\nint main()\n{\n\tint n, m, i, a, ans, max;\n\tunsigned aa;\n\tlong long sum;\n\n\twhile (fgets(p=buf, 100, stdin) && *p != '0') {\n\t\tn = getInt(), m = getInt();\n\t\tmemset(f, -1, sizeof(int)*m);\n\t\tfgets(p=buf, 330000, stdin);\n\t\tfor (sum = 0, max = ans = s[0] = 0, i = 1; i <= n; i++) {\n\t\t\taa = getInt(), sum += aa; a = aa % m; if (a > max) max = a;\n\t\t\tif (a == m-1) ans = a;\n\t\t\tif ((s[i] = s[i-1] + a) >= m) s[i] -= m; f[s[i]] = i;\n\t\t}\n\t\tif (ans > 0) goto Done;\n\t\tif (max == 0) { ans = 0; goto Done; }\n\t\tif (sum < m) { ans = (int)sum; goto Done; }\n\t\tfor (ans = m-1; ans > max; ans--) {\n\t\t\tfor (i = 0; i <= n; i++) {\n\t\t\t\tif ((a = s[i] + ans) >= m) a -= m;\n\t\t\t\tif (f[a] >= i) goto Done;\n\t\t\t}\n\t\t}\nDone:\tprintf(\"%d\\n\", ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint main(void) {\n\tint n, m;\n\t\n\twhile (scanf(\"%d%d\", &n, &m), n) {\n\t\tint i, j, max = 0;\n\t\tint l[100000], r[100000];\n\t\t\n\t\tlong long s = 0;\n\t\t\n\t\tl[0] = 0;\n\t\tr[0] = 0;\n\n\t\tfor (i = 1; i < m; ++i) {\n\t\t\tl[i] = 30001; // ??????????????????\n\t\t\tr[i] = -1;    // ??????????????????\n\t\t}\n\t\t\n\t\tfor (i = 1; i <= n; ++i) {\n\t\t\tunsigned int t;\n\t\t\tscanf(\"%u\", &t);\n\t\t\ts = (s + t) % m;\n\t\t\t\n\t\t\tl[s] = i < l[s] ? i : l[s]; // ??????\n\t\t\tr[s] = i > r[s] ? i : r[s]; // ??????\n\t\t\t\n\t\t\tmax = max < s ? s : max;\n\t\t}\n\t\t\n\t\t// ????????????????????°???\n\t\tfor (i = 1; i < m; ++i) {\n\t\t\tif (r[i] > 0) {\n\t\t\t\t// ??????????????????????????´????????°???\n\t\t\t\tfor (j = 1; j < m - max; ++j) {\n\t\t\t\t\t// ?????´????????¢???????????°OK\n\t\t\t\t\tif (l[i + j] < r[i]) {\n\t\t\t\t\t\tmax = m - j;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprintf(\"%d\\n\", max);\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n \nint main()\n{\n    int n,m,i,j,max;\nlong long sum;\n    int k[30000];\n \n    while(scanf(\"%d%d\",&n,&m),n+m){\n \n        max=0;\n \n        for(i=0;i<n;i++){\n            scanf(\"%d\",&k[i]);\n        }   \n \n        for(i=0;i<n;i++){\n            sum=0;\n            for(j=i;j<n;j++){\n                if(max==m-1) break;\n                sum+=k[j];\n                if(max<sum%m) max=sum%m;\n \n            }   \n                if(max==m-1) break;\n        }   \n \n        printf(\"%d\\n\",max);\n    }   \n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n \nint a(int n,int m,int k[30000]){\nint i,j,sum,max=0;\n\n for(i=n-1;i>=0;i--){\n\n            sum=0;\n            for(j=i;j>=0;j--){\n              if(k[j]==0) continue;\n                if(max==m-1) break;\n                sum+=k[j];\nsum%=m;\n                if(max<sum) max=sum;\n \n            }   \n                if(max==m-1) break;\n        }   \nreturn max;\n}\n\nint main()\n{\n    int n,m,i,j;\n    int k[30000];\n \n    while(scanf(\"%d%d\",&n,&m),n+m){\n \n        for(i=0;i<n;i++){\n            scanf(\"%d\",&k[i]);\n            k[i]%=m;\nsum+=k[i];\nsum%=m;\nif(sum==m-1) n=-1;\n        }\nif(n==-1){\nprintf(\"%d\\n\",sum);\ncontinue;\n}\n \n        printf(\"%d\\n\",a(n,m,k));\n    }   \n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint main(void) {\n\tint n, m;\n\t\n\twhile (scanf(\"%d%d\", &n, &m), n) {\n\t\tint k[30000], i, j, max = 0;\n\t\t\n\t\tfor (i = 0; i < n; ++i) {\n\t\t\tscanf(\"%d\", &k[i]);\n\t\t\tk[i] %= m;\n\t\t}\n\t\t\n\t\tfor (i = 0; i < n; ++i) {\n\t\t\tint s = 0;\n\t\t\t\n\t\t\tfor (j = i; j < n - i; ++j) {\n\t\t\t\tint t = s + k[j];\n\t\t\t\t\n\t\t\t\ts = t >= m ? t - m : t;\n\t\t\t\tmax = max < s ? s : max;\n\t\t\t}\n\t\t\t\n\t\t\tfor (j = i; j < n - i; ++j) {\n\t\t\t\tint t = s - k[j];\n\t\t\t\t\n\t\t\t\ts = t >= m ? t - m : t;\n\t\t\t\tmax = max < s ? s : max;\n\t\t\t}\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\", max);\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint main(void) {\n\tint n, m;\n\t\n\twhile (scanf(\"%d%d\", &n, &m), n) {\n\t\tint k[30000], i, j, max = 0;\n\t\t\n\t\tfor (i = 0; i < n; ++i) {\n\t\t\tscanf(\"%d\", &k[i]);\n\t\t\tk[i] %= m;\n\t\t}\n\t\t\n\t\tfor (i = 0; i < n; ++i) {\n\t\t\tint s = 0;\n\t\t\t\n\t\t\tfor (j = i; j < n - i; ++j) {\n\t\t\t\tint t = s + k[j];\n\t\t\t\t\n\t\t\t\ts = t >= m ? t - m : t;\n\t\t\t\tmax = max < s ? s : max;\n\t\t\t}\n\t\t\t\n\t\t\tfor (j = i; j < n - i; ++j) {\n\t\t\t\tint t = s - k[j];\n\t\t\t\t\n\t\t\t\ts = t >= m ? t - m : t;\n\t\t\t\tmax = max < s ? s : max;\n\t\t\t}\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\", max);\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\nint main()\n{\n    int n,m,i,j,max,sum;\n    int k[30000];\n\n    while(scanf(\"%d%d\",&n,&m),n+m){\n\n        max=0;\n\n        for(i=0;i<n;i++){\n            scanf(\"%d\",&k[i]);\n        }   \n\n        for(i=0;i<n;i++){\n            sum=0;\n            for(j=i;j<n;j++){\n                sum+=k[j];\n                if(max<sum%m) max=sum%m;\n                if(max==m-1) break;\n            }   \n                if(max==m-1) break;\n        }   \n\n        printf(\"%d\\n\",max);\n    }   \n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\nint main()\n{\n    int n,m,i,j,max,sum;\n    int k[30000];\n\n    while(scanf(\"%d%d\",&n,&m),n+m){\n\n        max=0;\n\n        for(i=0;i<n;i++){\n            scanf(\"%d\",&k[i]);\n        }   \n\n        for(i=0;i<n;i++){\n            sum=0;\n            for(j=i;j<n;j++){\n                //if(max==m-1) break;\n                sum+=k[j];\n                if(max<sum%m) max=sum%m;\n\n            }   \n                //if(max==m-1) break;\n        }   \n\n        printf(\"%d\\n\",max);\n    }   \n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint main(void) {\n\tint n, m;\n\t\n\twhile (scanf(\"%d%d\", &n, &m), n) {\n\t\tint i, j, max = 0;\n\t\tint l[100000], r[100000];\n\t\t\n\t\tlong long s = 0;\n\t\t\n\t\tl[0] = 0;\n\t\tr[0] = 0;\n\n\t\tfor (i = 1; i < m; ++i) {\n\t\t\tl[i] = 30001; // ??????????????????\n\t\t\tr[i] = -1;    // ??????????????????\n\t\t}\n\t\t\n\t\tfor (i = 1; i <= n; ++i) {\n\t\t\tunsigned int t;\n\t\t\tscanf(\"%u\", &t);\n\t\t\ts = (s + t) % m;\n\t\t\t\n\t\t\tl[s] = i < l[s] ? i : l[s]; // ??????\n\t\t\tr[s] = i > r[s] ? i : r[s]; // ??????\n\t\t\t\n\t\t\tmax = max < s ? s : max;\n\t\t}\n\t\t\n\t\t// ????????????????????°???\n\t\tfor (i = 0; i < m; ++i) {\n\t\t\t// ??????????????????????????´????????°???\n\t\t\tfor (j = 1; r[i] > 0 && j < m - max; ++j) {\n\t\t\t\tif (l[(i + j) % m] < r[i]) {\n\t\t\t\t\tmax = m - j;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprintf(\"%d\\n\", max);\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint main(void) {\n\tint n, m;\n\t\n\twhile (scanf(\"%d%d\", &n, &m), n) {\n\t\tint k[30000], i, j, max = 0;\n\t\t\n\t\tfor (i = 0; i < n; ++i) {\n\t\t\tscanf(\"%d\", &k[i]);\n\t\t\tk[i] %= m;\n\t\t}\n\t\t\n\t\tfor (i = 0; i < n; ++i) {\n\t\t\tint s = 0;\n\t\t\t\n\t\t\tfor (j = i; j < n; ++j) {\n\t\t\t\ts += k[j];\n\t\t\t\ts -= m * (s >= m);\n\n\t\t\t\tmax = max < s ? s : max;\n\t\t\t}\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\", max);\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint main(void) {\n\tint n, m;\n\t\n\twhile (scanf(\"%d%d\", &n, &m), n) {\n\t\tunsigned int k[30001] = { 0 }, max = 0, i, j;\n\t\tunsigned int c[10000] = { 0 };\n\t\t\n\t\tfor (i = 1; i <= n; ++i) {\n\t\t\tscanf(\"%u\", &k[i]);\n\t\t\tk[i] = ((unsigned long long)k[i] + k[i - 1]) % m;\n\t\t}\n\t\t\n\t\tfor (i = 0; i < n; ++i) {\n\t\t\tif (!c[k[i]]) {\n\t\t\t\tc[k[i]] = 1;\n\t\t\t\n\t\t\t\tfor (j = i + 1; j <= n; ++j) {\n\t\t\t\t\tunsigned int s = (m + k[j] - k[i]) < m ? (m + k[j] - k[i]) : (k[j] - k[i]);\n\t\t\t\t\tmax = max < s ? s : max;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\", max);\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n \nint a(int n,int m,int k[30000]){\nint i,j,sum,max=0;\n\n for(i=n-1;i>=0;i--){\n\n            sum=0;\n            for(j=i;j>=0;j--){\nif(k[j]==0) continue;\n                if(max==m-1) break;\n                sum=sum+k[j];\nsum%=m;\n                if(max<sum) max=sum;\n \n            }   \n                if(max==m-1) break;\n        }   \nreturn max;\n}\n\nint main()\n{\n    int n,m,i,j;\n    int k[30000];\n \n    while(scanf(\"%d%d\",&n,&m),n+m){\n \n        for(i=0;i<n;i++){\n            scanf(\"%d\",&k[i]);\nk[i]%=m;\n        }   \n \n      \n \n        printf(\"%d\\n\",a(n,m,k));\n    }   \n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\nint a(int n,int m,int k[30000]){\n    int i,j,sum,max=0;\n\n    for(i=n-1;i>=0;i--){\n\n        sum=0;\n        for(j=i;j<n;j++){\n            if(k[j]==0) continue;\n            if(max==m-1) break;\n            sum+=k[j];\n            sum%=m;\n            if(max<sum) max=sum;\n\n        }   \n        if(max==m-1) break;\n    }   \n    return max;\n}\n\nint main()\n{\n    int n,m,i,j;\n    int k[30000];\n\n    while(scanf(\"%d%d\",&n,&m),n+m){\n\n        for(i=0;i<n;i++){\n            scanf(\"%d\",&k[i]);\n            k[i]%=m;\n        }   \n\n        printf(\"%d\\n\",a(n,m,k));\n    }   \n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\nint a(int n,int m,int k[30000]){\n    int i,j,sum,max=0;\n\n    for(i=n-1;i>=0;i--){\n\n        sum=0;\n        for(j=0;j>i;j++){\n            if(k[j]==0) continue;\n            if(max==m-1) break;\n            sum+=k[j];\n            sum%=m;\n            if(max<sum) max=sum;\n\n        }   \n        if(max==m-1) break;\n    }   \n    return max;\n}\n\nint main()\n{\n    int n,m,i,j;\n    int k[30000];\n\n    while(scanf(\"%d%d\",&n,&m),n+m){\n\n        for(i=0;i<n;i++){\n            scanf(\"%d\",&k[i]);\n            k[i]%=m;\n        }   \n\n        printf(\"%d\\n\",a(n,m,k));\n    }   \n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n \nint main()\n{\n    int n,m,i,j,sum,max;\n    int k[30000];\n \n    while(scanf(\"%d%d\",&n,&m),n+m){\n      max=0;\n      \n      for(i=0;i<n;i++){\n          scanf(\"%d\",&k[i]);\n          k[i]=(k[i]+k[i+1])%m;\n      }\n        for(j=0;j<n;j++){\n          for(i=j;i<n-1;i++){\n              if(k[i]<k[i+1]) \n                sum=m+k[i]-k[i+1];\n              else\n                sum=k[i]-k[i+1];\n              if(sum>max) max=sum;\n          }\n        }\n \n        printf(\"%d\\n\",max);\n    }   \n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n \nint a(int n,int m,int k[30000]){\nint i,j,sum,max=0;\n\n for(i=n-1;i>=0;i--){\n\n            sum=0;\n            for(j=i;j>=0;j--){\nif(k[j]==0) continue;\n                if(max==m-1) break;\n                sum+=k[j];\nsum%=m;\n                if(max<sum) max=sum;\n \n            }   \n                if(max==m-1) break;\n        }   \nreturn max;\n}\n\nint main()\n{\n    int n,m,i,j;\n    int k[30000];\n \n    while(scanf(\"%d%d\",&n,&m),n+m){\n \n        for(i=0;i<n;i++){\n            scanf(\"%d\",&k[i]);\nk[i]%=m;\n        }   \n \n      \n \n        printf(\"%d\\n\",a(n,m,k));\n    }   \n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint main(void) {\n\tint n, m;\n\t\n\twhile (scanf(\"%d%d\", &n, &m), n) {\n\t\tint i, j, max = 0;\n\t\tint l[100000], r[100000];\n\t\t\n\t\tlong long s = 0;\n\t\t\n\t\tl[0] = 0;\n\t\tr[0] = 0;\n\n\t\tfor (i = 1; i < m; ++i) {\n\t\t\tl[i] = 30001; // ??????????????????\n\t\t\tr[i] = -1;    // ??????????????????\n\t\t}\n\t\t\n\t\t\n\t\tfor (i = 1; i <= n; ++i) {\n\t\t\tunsigned int t;\n\t\t\tscanf(\"%u\", &t);\n\t\t\ts = (s + t) % m;\n\t\t\t\n\t\t\tl[s] = i < l[s] ? i : l[s]; // ??????\n\t\t\tr[s] = i > r[s] ? i : r[s]; // ??????\n\t\t}\n\t\t\n\t\t// ????????????????????°???\n\t\tfor (i = 0; i < m; ++i) {\n\t\t\t// ????????????????????°???\n\t\t\tfor (j = 1; r[i] >= 0 && j < m - max; ++j) {\n\t\t\t\tif (l[(i + j) % m] < r[i]) {\n\t\t\t\t\tmax = m - j;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprintf(\"%d\\n\", max);\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint main(void) {\n\tint n, m;\n\t\n\twhile (scanf(\"%d%d\", &n, &m), n) {\n\t\tunsigned int i, j, max = 0;\n\t\tunsigned int c[100000];\n\t\t\n\t\tunsigned long long s = 0;\n\t\t\n\t\tfor (i = 0; i < m; ++i) {\n\t\t\tc[i] = 30001;\n\t\t}\n\t\t\n\t\tc[0] = 0;\n\t\t\n\t\tfor (i = 1; i <= n; ++i) {\n\t\t\tunsigned int t;\n\t\t\tscanf(\"%u\", &t);\n\t\t\ts = (s + t) % m;\n\t\t\tif (c[s] > n)\n\t\t\t\tc[s] = i;\n\t\t}\n\t\t\n\t\tfor (i = 0; i < m; ++i) {\n\t\t\tif (c[i] > n) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tfor (j = 1; j < m - max; ++j) {\n\t\t\t\tif (c[m - i - j] < c[i]) {\n\t\t\t\t\tmax = m - j;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprintf(\"%d\\n\", max);\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint main(void) {\n\tint n, m;\n\t\n\twhile (scanf(\"%d%d\", &n, &m), n) {\n\t\tunsigned int k[30001] = { 0 }, max = 0, i, j;\n\t\t\n\t\tfor (i = 1; i <= n; ++i) {\n\t\t\tscanf(\"%u\", &k[i]);\n\t\t\tk[i] = ((unsigned long long)k[i] + k[i - 1]) % m;\n\t\t}\n\t\t\n\t\tfor (i = 0; i < n; ++i) {\n\t\t\tfor (j = i + 1; j <= n; ++j) {\n\t\t\t\tunsigned int s = (m + k[j] - k[i]) < m ? (m + k[j] - k[i]) : (k[j] - k[i]);\n\t\t\t\tmax = max < s ? s : max;\n\t\t\t}\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\", max);\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint main(void) {\n\tint n, m;\n\t\n\twhile (scanf(\"%d%d\", &n, &m), n) {\n\t\tint k[30000], i, j, max = 0;\n\t\t\n\t\tfor (i = 0; i < n; ++i) {\n\t\t\tscanf(\"%d\", &k[i]);\n\t\t\tk[i] %= m;\n\t\t}\n\t\t\n\t\tfor (i = 0; i < n; ++i) {\n\t\t\tint s = 0;\n\t\t\t\n\t\t\tfor (j = i; j < n - i; ++j) {\n\t\t\t\tint t = s + k[j];\n\t\t\t\t\n\t\t\t\ts = t >= m ? t - m : t;\n\t\t\t\tmax = max < s ? s : max;\n\t\t\t}\n\t\t\t\n\t\t\tfor (j = i; j < n - i; ++j) {\n\t\t\t\tint t = s - k[j];\n\t\t\t\t\n\t\t\t\ts = t >= m ? t - m : t;\n\t\t\t\tmax = max < s ? s : max;\n\t\t\t}\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\", max);\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint main(void) {\n\tint n, m;\n\t\n\twhile (scanf(\"%d%d\", &n, &m), n) {\n\t\tint i, j, max = 0;\n\t\tint l[100000], r[100000];\n\t\t\n\t\tlong long s = 0;\n\n\t\tl[0] = 0;\n\t\tr[0] = 0;\n\n\t\tfor (i = 1; i < m; ++i) {\n\t\t\tl[i] = 30001; // ??????????????????\n\t\t\tr[i] = -1;    // ??????????????????\n\t\t}\n\t\t\n\t\tfor (i = 1; i <= n; ++i) {\n\t\t\tunsigned int t;\n\t\t\tscanf(\"%u\", &t);\n\t\t\ts = (s + t) % m;\n\t\t\t\n\t\t\tl[s] = i < l[s] ? i : l[s]; // ??????\n\t\t\tr[s] = i > r[s] ? i : r[s]; // ??????\n\t\t\t\n\t\t\tmax = max < s ? s : max;\n\t\t}\n\t\t\n\t\t// ????????????????????°???\n\t\tfor (i = m - 1; i > 0; --i) {\n\t\t\tif (r[i] <= 0) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t\n\t\t\t// ??????????????????????????´(i+1)????????°???\n\t\t\tfor (j = 1; j < m - max; ++j) {\n\t\t\t\t// ?????´????????¢???????????°???????????´??°\n\t\t\t\tif (l[i + j] < r[i]) {\n\t\t\t\t\tmax = m - j;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprintf(\"%d\\n\", max);\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint main(void) {\n\tint n, m;\n\t\n\twhile (scanf(\"%d%d\", &n, &m), n) {\n\t\tint i, j, max = 0;\n\t\tint l[100000], r[100000];\n\t\t\n\t\tlong long s = 0;\n\t\tlong long ss = 0;\n\t\t\n\t\tl[0] = 0;\n\t\tr[0] = 0;\n\n\t\tfor (i = 1; i < m; ++i) {\n\t\t\tl[i] = 30001; // ??????????????????\n\t\t\tr[i] = -1;    // ??????????????????\n\t\t}\n\t\t\n\t\tfor (i = 1; i <= n; ++i) {\n\t\t\tunsigned int t;\n\t\t\tscanf(\"%u\", &t);\n\t\t\ts = (s + t) % m;\n\t\t\tss += t;\n\t\t\t\n\t\t\tl[s] = i < l[s] ? i : l[s]; // ??????\n\t\t\tr[s] = i > r[s] ? i : r[s]; // ??????\n\t\t\t\n\t\t\tmax = max < s ? s : max;\n\t\t}\n\t\t\n\t\tif (ss < m) {\n\t\t\tprintf(\"%d\\n\", (int)ss);\n\t\t\tcontinue;\n\t\t}\n\t\t\n\t\t// ????????????????????°???\n\t\tfor (i = 1; i < m; ++i) {\n\t\t\tif (r[i] <= 0) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t\n\t\t\t// ??????????????????????????´(i+1)????????°???\n\t\t\tfor (j = 1; j < m - max; ++j) {\n\t\t\t\t// ?????´????????¢???????????°???????????´??°\n\t\t\t\tif (l[i + j] < r[i]) {\n\t\t\t\t\tmax = m - j;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprintf(\"%d\\n\", max);\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint main(void) {\n\tint n, m;\n\t\n\twhile (scanf(\"%d%d\", &n, &m), n) {\n\t\tint i, j, max = 0;\n\t\tint l[100000], r[100000];\n\t\t\n\t\tlong long s = 0;\n\t\t\n\t\tl[0] = 0;\n\t\tr[0] = 0;\n\n\t\tfor (i = 1; i < m; ++i) {\n\t\t\tl[i] = 30001; // ??????????????????\n\t\t\tr[i] = -1;    // ??????????????????\n\t\t}\n\t\t\n\t\t\n\t\tfor (i = 1; i <= n; ++i) {\n\t\t\tunsigned int t;\n\t\t\tscanf(\"%u\", &t);\n\t\t\ts = (s + t) % m;\n\t\t\t\n\t\t\tl[s] = i < l[s] ? i : l[s]; // ??????\n\t\t\tr[s] = i > r[s] ? i : r[s]; // ??????\n\t\t}\n\t\t\n\t\tfor (i = 0; i < m; ++i) {\n\t\t\tfor (j = 1; r[i] > 0 && j < m - max; ++j) {\n\t\t\t\tif (l[(i + j) % m] < r[i]) {\n\t\t\t\t\tmax = m - j;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprintf(\"%d\\n\", max);\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n \nint a(int n,int m,int k[30000]){\nint i,j,sum,max=0;\n\n for(i=n-1;i>=0;i--){\n\n            sum=0;\n            for(j=i;j>=0;j--){\n              if(k[j]==0) continue;\n                if(max==m-1) break;\n                sum+=k[j];\nsum%=m;\n                if(max<sum) max=sum;\n \n            }   \n                if(max==m-1) break;\n        }   \nreturn max;\n}\n\nint main()\n{\n    int n,m,i,j;\n    int k[30000];\n \n    while(scanf(\"%d%d\",&n,&m),n+m){\n \n        for(i=0;i<n;i++){\n            scanf(\"%d\",&k[i]);\nk[i]%=m;\n        }   \n \n      \n \n        printf(\"%d\\n\",a(n,m,k));\n    }   \n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint main(void) {\n\tint n, m;\n\t\n\twhile (scanf(\"%d%d\", &n, &m), n) {\n\t\tint i, j, max = 0;\n\t\tint l[100000], r[100000];\n\t\t\n\t\tlong long s = 0;\n\t\tlong long ss = 0;\n\t\t\n\t\tl[0] = 0;\n\t\tr[0] = 0;\n\n\t\tfor (i = 1; i < m; ++i) {\n\t\t\tl[i] = 30001; // ??????????????????\n\t\t\tr[i] = -1;    // ??????????????????\n\t\t}\n\t\t\n\t\tfor (i = 1; i <= n; ++i) {\n\t\t\tunsigned int t;\n\t\t\tscanf(\"%u\", &t);\n\t\t\ts = (s + t) % m;\n\t\t\tss += ss + t;\n\t\t\t\n\t\t\tl[s] = i < l[s] ? i : l[s]; // ??????\n\t\t\tr[s] = i > r[s] ? i : r[s]; // ??????\n\t\t\t\n\t\t\tmax = max < s ? s : max;\n\t\t}\n\t\t\n\t\tif (ss < m) {\n\t\t\tprintf(\"%d\\n\", ss);\n\t\t\tbreak;\n\t\t}\n\t\t\n\t\t// ????????????????????°???\n\t\tfor (i = 1; i < m; ++i) {\n\t\t\tif (r[i] <= 0) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t\n\t\t\t// ??????????????????????????´(i+1)????????°???\n\t\t\tfor (j = 1; j < m - max; ++j) {\n\t\t\t\t// ?????´????????¢???????????°???????????´??°\n\t\t\t\tif (l[i + j] < r[i]) {\n\t\t\t\t\tmax = m - j;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprintf(\"%d\\n\", max);\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n \nint a(int n,int m,int k[30000]){\nint i,j,sum,max=0;\n\n for(i=n-1;i>=0;i--){\n\n            sum=0;\n            for(j=i;j>=0;j--){\n                if(max==m-1) break;\n                if(k[j]==0) continue;\n                sum+=k[j];\nsum%=m;\n                if(max<sum) max=sum;\n \n            }   \n                if(max==m-1) break;\n        }   \nreturn max;\n}\n\nint main()\n{\n    int n,m,i,j;\n    int k[30000];\n \n    while(scanf(\"%d%d\",&n,&m),n+m){\n \n        for(i=0;i<n;i++){\n            scanf(\"%d\",&k[i]);\nk[i]%=m;\n        }   \n \n      \n \n        printf(\"%d\\n\",a(n,m,k));\n    }   \n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint main(void) {\n\tint n, m, i, j, max;\n\tint l[100000], r[100000];\n\t\n\twhile (scanf(\"%d%d\", &n, &m), n) {\n\t\tlong long s = 0;\n\t\t\n\t\tl[0] = 0;\n\t\tr[0] = 0;\n\t\t\n\t\tmax = 0;\n\n\t\tfor (i = 1; i < m; ++i) {\n\t\t\tl[i] = 30001; // ??????????????????\n\t\t\tr[i] = -1;    // ??????????????????\n\t\t}\n\t\t\n\t\tfor (i = 1; i <= n; ++i) {\n\t\t\tunsigned int t;\n\t\t\tscanf(\"%u\", &t);\n\t\t\ts = (s + t) % m;\n\t\t\t\n\t\t\tl[s] = i < l[s] ? i : l[s]; // ??????\n\t\t\tr[s] = i > r[s] ? i : r[s]; // ??????\n\t\t\t\n\t\t\tmax = max < s ? s : max;\n\t\t}\n\t\t\n\t\t// ????????????????????°???\n\t\tfor (i = 0; i < m; ++i) {\n\t\t\t// ??????????????????????????´????????°???\n\t\t\tfor (j = 1; r[i] > 0 && j < m - max; ++j) {\n\t\t\t\tif (l[(i + j) % m] < r[i]) {\n\t\t\t\t\tmax = m - j;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprintf(\"%d\\n\", max);\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\nint main()\n{\n    int n,m,i,j,max,sum;\n    int k[30000];\n\n    while(scanf(\"%d%d\",&n,&m),n+m){\n\n        max=0;\n\n        for(i=0;i<n;i++){\n            scanf(\"%d\",&k[i]);\n        }   \n\n        for(i=0;i<n;i++){\n            sum=0;\n            for(j=i;j<n;j++){\n                if(max==m-1) break;\n                sum+=k[j];\n                if(max<sum%m) max=sum%m;\n\n            }   \n                //if(max==m-1) break;\n        }   \n\n        printf(\"%d\\n\",max);\n    }   \n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint main(void) {\n\tint n, m;\n\t\n\twhile (scanf(\"%d%d\", &n, &m), n) {\n\t\tint i, j, max = 0;\n\t\tint l[100000], r[100000];\n\t\t\n\t\tlong long s = 0;\n\t\tlong long ss = 0;\n\t\t\n\t\tl[0] = 0;\n\t\tr[0] = 0;\n\n\t\tfor (i = 1; i < m; ++i) {\n\t\t\tl[i] = 30001; // ??????????????????\n\t\t\tr[i] = -1;    // ??????????????????\n\t\t}\n\t\t\n\t\tfor (i = 1; i <= n; ++i) {\n\t\t\tunsigned int t;\n\t\t\tscanf(\"%u\", &t);\n\t\t\ts = (s + t) % m;\n\t\t\tss += ss + t;\n\t\t\t\n\t\t\tl[s] = i < l[s] ? i : l[s]; // ??????\n\t\t\tr[s] = i > r[s] ? i : r[s]; // ??????\n\t\t\t\n\t\t\tmax = max < s ? s : max;\n\t\t}\n\t\t\n\t\tif (ss < m) {\n\t\t\tprintf(\"%d\\n\", ss);\n\t\t\tcontinue;\n\t\t}\n\t\t\n\t\t// ????????????????????°???\n\t\tfor (i = 1; i < m; ++i) {\n\t\t\tif (r[i] <= 0) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t\n\t\t\t// ??????????????????????????´(i+1)????????°???\n\t\t\tfor (j = 1; j < m - max; ++j) {\n\t\t\t\t// ?????´????????¢???????????°???????????´??°\n\t\t\t\tif (l[i + j] < r[i]) {\n\t\t\t\t\tmax = m - j;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprintf(\"%d\\n\", max);\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint main(void) {\n\tint n, m;\n\t\n\twhile (scanf(\"%d%d\", &n, &m), n) {\n\t\tint i, j, max = 0;\n\t\tint l[100000], r[100000];\n\t\t\n\t\tlong long s = 0;\n\t\t\n\t\tfor (i = 0; i < m; ++i) {\n\t\t\tl[i] = 30001;\n\t\t\tr[i] = -1;\n\t\t}\n\t\t\n\t\tl[0] = 0;\n\t\tr[0] = 0;\n\t\t\n\t\tfor (i = 1; i <= n; ++i) {\n\t\t\tint t;\n\t\t\tscanf(\"%u\", &t);\n\t\t\ts = (s + t) % m;\n\t\t\t\n\t\t\tl[s] = i < l[s] ? i : l[s]; // ??????\n\t\t\tr[s] = i > r[s] ? i : r[s]; // ??????\n\t\t}\n\t\t\n\t\tfor (i = 0; i < m; ++i) {\n\t\t\tfor (j = 1; j < m - max; ++j) {\n\t\t\t\tif (l[(i + j) % m] < r[i]) {\n\t\t\t\t\tmax = m - j;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprintf(\"%d\\n\", max);\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint main(void) {\n\tint n, m;\n\t\n\twhile (scanf(\"%d%d\", &n, &m), n) {\n\t\tint i, j, max = 0;\n\t\tint l[100000], r[100000];\n\t\t\n\t\tlong long s = 0;\n\t\t\n\t\tl[0] = 0;\n\t\tr[0] = 0;\n\n\t\tfor (i = 1; i < m; ++i) {\n\t\t\tl[i] = 30001; // ??????????????????\n\t\t\tr[i] = -1;    // ??????????????????\n\t\t}\n\t\t\n\t\tfor (i = 1; i <= n; ++i) {\n\t\t\tunsigned int t;\n\t\t\tscanf(\"%u\", &t);\n\t\t\ts = (s + t) % m;\n\t\t\t\n\t\t\tl[s] = i < l[s] ? i : l[s]; // ??????\n\t\t\tr[s] = i > r[s] ? i : r[s]; // ??????\n\t\t\t\n\t\t\tmax = max < s ? s : max;\n\t\t}\n\t\t\n\t\t// ????????????????????°???\n\t\tfor (i = 1; i < m; ++i) {\n\t\t\tif (r[i] > 0) {\n\t\t\t\t// ??????????????????????????´????????°???\n\t\t\t\tfor (j = 1; j < m - max; ++j) {\n\t\t\t\t\t// ?????´????????¢???????????°OK\n\t\t\t\t\tif (l[i + j] < r[i]) {\n\t\t\t\t\t\tmax = m - j;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprintf(\"%d\\n\", max);\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint main(void) {\n\tint n, m;\n\t\n\twhile (scanf(\"%d%d\", &n, &m), n) {\n\t\tint i, j, max = 0;\n\t\tint l[100000], r[100000];\n\t\t\n\t\tlong long s = 0;\n\t\t\n\t\tfor (i = 0; i < m; ++i) {\n\t\t\tl[i] = 30001;\n\t\t\tr[i] = -1;\n\t\t}\n\t\t\n\t\tl[0] = 0;\n\t\tr[0] = 0;\n\t\t\n\t\tfor (i = 1; i <= n; ++i) {\n\t\t\tint t;\n\t\t\tscanf(\"%u\", &t);\n\t\t\ts = (s + t) % m;\n\t\t\t\n\t\t\tl[s] = i < l[s] ? i : l[s]; // ??????\n\t\t\tr[s] = i > r[s] ? i : r[s]; // ??????\n\t\t}\n\t\t\n\t\tfor (i = 0; i < m; ++i) {\n\t\t\tif (l[i] > n) continue;\n\n\t\t\tfor (j = 1; j < m - max; ++j) {\n\t\t\t\tif (l[(i + j) % m] < r[i]) {\n\t\t\t\t\tmax = m - j;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprintf(\"%d\\n\", max);\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\nint main()\n{\n    int n,m,i,j,max,sum;\n    int k[30000];\n\n    while(scanf(\"%d%d\",&n,&m),n+m){\n\n        max=0;\n\n        for(i=0;i<n;i++){\n            scanf(\"%d\",&k[i]);\n        }   \n\n        for(i=0;i<n;i++){\n            sum=0;\n            for(j=i;j<n;j++){\n                if(max==m-1) break;\n                sum+=k[j];\n                if(max<sum%m) max=sum%m;\n\n            }   \n                if(max==m-1) break;\n        }   \n\n        printf(\"%d\\n\",max);\n    }   \n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint main(void) {\n\tint n, m;\n\t\n\twhile (scanf(\"%d%d\", &n, &m), n) {\n\t\tint i, j, max = 0;\n\t\tint l[100000], r[100000];\n\t\t\n\t\tlong long s = 0;\n\t\t\n\t\tl[0] = 0;\n\t\tr[0] = 0;\n\n\t\tfor (i = 1; i < m; ++i) {\n\t\t\tl[i] = 30001; // ??????????????????\n\t\t\tr[i] = -1;    // ??????????????????\n\t\t}\n\t\t\n\t\tfor (i = 1; i <= n; ++i) {\n\t\t\tunsigned int t;\n\t\t\tscanf(\"%u\", &t);\n\t\t\ts = (s + t) % m;\n\t\t\t\n\t\t\tl[s] = i < l[s] ? i : l[s]; // ??????\n\t\t\tr[s] = i > r[s] ? i : r[s]; // ??????\n\t\t\t\n\t\t\tmax = max < s ? s : max;\n\t\t}\n\t\t\n\t\t// ????????????????????°???\n\t\tfor (i = 1; i < m; ++i) {\n\t\t\tif (max == m - 1) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (r[i] <= 0) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t\n\t\t\t// ??????????????????????????´????????°???\n\t\t\tfor (j = 1; j < m - max; ++j) {\n\t\t\t\t// ?????´????????¢???????????°OK\n\t\t\t\tif (l[i + j] < r[i]) {\n\t\t\t\t\tmax = m - j;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprintf(\"%d\\n\", max);\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\nint a(int n,int m,int k[30000]){\n    int i,j,sum,max=0;\n\n    for(i=n-1;i>=0;i--){\n\n        sum=0;\n        for(j=i;j<n;++j){\n            if(k[j]==0) continue;\n            if(max==m-1) break;\n            sum+=k[j];\n            if(sum>=m)sum%=m;\n            if(max<sum) max=sum;\n\n        }   \n        if(max==m-1) break;\n    }   \n    return max;\n}\n\nint main()\n{\n    int n,m,i,j;\n    int k[30000];\n\n    while(scanf(\"%d%d\",&n,&m),n+m){\n\n        for(i=0;i<n;i++){\n            scanf(\"%d\",&k[i]);\n            /*if(k[i]>=m)*/k[i]%=m;\n        }   \n\n        printf(\"%d\\n\",a(n,m,k));\n    }   \n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n \nint main()\n{\n    int n,m,i,j,max;\nlong long sum;\n    int k[30000];\n \n    while(scanf(\"%d%d\",&n,&m),n+m){\n \n        max=0;\n \n        for(i=0;i<n;i++){\n            scanf(\"%d\",&k[i]);\nk[i]%=m;\n        }   \n \n        for(i=0;i<n;i++){\n\n            sum=0;\n   if(max==m-1) break;\n            for(j=i;j<n;j++){\nif(k[j]==0) continue;\n                if(max==m-1) break;\n                sum+=k[j];\n                if(max<sum%m) max=sum%m;\n \n            }   \n                if(max==m-1) break;\n        }   \n \n        printf(\"%d\\n\",max);\n    }   \n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "// Aizu 0254: Scone\n// 2017.9.12 bal4u@uu\n\n#include <stdio.h>\n#include <string.h>\n\nint s[30003], f[100002];\n\nint main()\n{\n\tint n, m, i, a, ans, max;\n\tlong long sum;\n\n\twhile (scanf(\"%d%d\", &n, &m) && n) {\n\t\tmemset(f, -1, sizeof(int)*m);\n\t\tfor (sum = 0, max = ans = s[0] = 0, i = 1; i <= n; i++) {\n\t\t\tscanf(\"%d\", &a), sum += a; a %= m; if (a > max) max = a;\n\t\t\tif (a == m-1) ans = a;\n\t\t\tif ((s[i] = s[i-1] + a) >= m) s[i] -= m; f[s[i]] = i;\n\t\t}\n\t\tif (ans > 0) goto Done;\n\t\tif (max == 0) { ans = 0; goto Done; }\n\t\tif (sum < m) { ans = (int)sum; goto Done; }\n\t\tfor (ans = m-1; ans > max; ans--) {\n\t\t\tfor (i = 0; i <= n; i++) {\n\t\t\t\tif ((a = s[i] + ans) >= m) a -= m;\n\t\t\t\tif (f[a] >= i) goto Done;\n\t\t\t}\n\t\t}\nDone:\tprintf(\"%d\\n\", ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n \nint a(int n,int m,int k[30000]){\nint i,j,sum,max=0;\n\n for(i=n-1;i>=0;i--){\n\n            sum=0;\n            for(j=i;j>=0;j--){\n              if(k[j]==0) continue;\n                if(max==m-1) break;\n                sum+=k[j];\nsum%=m;\n                if(max<sum) max=sum;\n \n            }   \n                if(max==m-1) break;\n        }   \nreturn max;\n}\n\nint main()\n{\n    int n,m,i,j;\n    int k[30000];\n \n    while(scanf(\"%d%d\",&n,&m),n+m){\n \n        for(i=0;i<n;i++){\n            scanf(\"%d\",&k[i]);\nk[i]%=m;\n        }   \n \n      \n \n        printf(\"%d\\n\",a(n,m,k));\n    }   \n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "// Aizu 0254: Scone\n// 2017.9.12 bal4u@uu\n\n#include <stdio.h>\n#include <string.h>\n\nint s[30003], f[100002];\n\nint main()\n{\n\tint n, m, i, a, ans, min;\n\tlong long sum;\n\n\twhile (scanf(\"%d%d\", &n, &m) && n) {\n\t\tmemset(f, 0, sizeof(f));\n\t\tfor (sum = 0, min = ans = s[0] = 0, i = 1; i <= n; i++) {\n\t\t\tscanf(\"%d\", &a), sum += a; a %= m; if (a > min) min = a;\n\t\t\tif (a == m-1) ans = a;\n\t\t\tif ((s[i] = s[i-1] + a) >= m) s[i] -= m; f[s[i]] = i;\n\t\t}\n\t\tif (ans > 0) goto Done;\n\t\tif (sum < m) { ans = (int)sum; goto Done; }\n\t\tfor (ans = m-1; ans > min; ans--) {\n\t\t\tfor (i = 1; i <= n; i++) {\n\t\t\t\tif ((a = s[i] + ans) >= m) a -= m;\n\t\t\t\tif (f[a] >= i) goto Done;\n\t\t\t}\n\t\t}\nDone:\tprintf(\"%d\\n\", ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include<math.h>\n\nint a(int n,int m,int k[30000]){\n    int i,j,sum,max=0;\n\n    for(i=n-1;i>=0;i--){\n\n        sum=0;\n        for(j=i;j>=0;j--){\n            if(k[j]==0) continue;\n            if(max==m-1) break;\n            sum+=k[j];\n            sum%=m;\n            max=fmax(max,sum);\n\n        }   \n        if(max==m-1) break;\n    }   \n    return max;\n}\n\nint main()\n{\n    int n,m,i,j;\n    int k[30000];\n\n    while(scanf(\"%d%d\",&n,&m),n+m){\n\n        for(i=0;i<n;i++){\n            scanf(\"%d\",&k[i]);\n            k[i]%=m;\n        }   \n\n        printf(\"%d\\n\",a(n,m,k));\n    }   \n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n \nint a(int n,int m,int k[30000]){\nint i,j,sum,max=0;\n\n for(i=n-1;i>=0;i--){\n\n            sum=0;\n            for(j=i;j>=0;j--){\n              if(k[j]==0) continue;\n                if(max==m-1) break;\n                sum+=k[j];\nsum%=m;\n                if(max<sum) max=sum;\n \n            }   \n                if(max==m-1) break;\n        }   \nreturn max;\n}\n\nint main()\n{\n    int n,m,i,j;\n    int k[30000];\n \n    while(scanf(\"%d%d\",&n,&m),n+m){\n \n        for(i=0;i<n;i++){\n            scanf(\"%d\",&k[i]);\nk[i]%=m;\n        }   \n \n      \n \n        printf(\"%d\\n\",a(n,m,k));\n    }   \n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint main(void) {\n\tint n, m;\n\t\n\twhile (scanf(\"%d%d\", &n, &m), n) {\n\t\tint i, j, max = 0;\n\t\tint l[100000], r[100000];\n\t\t\n\t\tlong long s = 0;\n\t\t\n\t\tl[0] = 0;\n\t\tr[0] = 0;\n\n\t\tfor (i = 1; i < m; ++i) {\n\t\t\tl[i] = 30001; // ??????????????????\n\t\t\tr[i] = -1;    // ??????????????????\n\t\t}\n\t\t\n\t\tfor (i = 1; i <= n; ++i) {\n\t\t\tunsigned int t;\n\t\t\tscanf(\"%u\", &t);\n\t\t\ts = (s + t) % m;\n\t\t\t\n\t\t\tl[s] = i < l[s] ? i : l[s]; // ??????\n\t\t\tr[s] = i > r[s] ? i : r[s]; // ??????\n\t\t\t\n\t\t\tmax = max < s ? s : max;\n\t\t}\n\t\t\n\t\t// ????????????????????°???\n\t\tfor (i = 0; i < m; ++i) {\n\t\t\t// ??????????????????????????´????????°???\n\t\t\tfor (j = 1; r[i] > 0 && j < m - max; ++j) {\n\t\t\t\tl[i + j] < r[i] && (max = m - j);\n\t\t\t}\n\t\t}\n\n\t\tprintf(\"%d\\n\", max);\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\nint a(int n,int m,int k[30000]){\n    int i,j,sum,max=0;\n\n    for(i=n-1;i>=0;i--){\n\n        sum=0;\n        for(j=i;j<n;j++){\n            if(k[j]==0) continue;\n            if(max==m-1) break;\n            sum+=k[j];\n            if(sum>=m)sum%=m;\n            if(max<sum) max=sum;\n\n        }   \n        if(max==m-1) break;\n    }   \n    return max;\n}\n\nint main()\n{\n    int n,m,i,j;\n    int k[30000];\n\n    while(scanf(\"%d%d\",&n,&m),n+m){\n\n        for(i=0;i<n;i++){\n            scanf(\"%d\",&k[i]);\n            k[i]%=m;\n        }   \n\n        printf(\"%d\\n\",a(n,m,k));\n    }   \n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n \nint main()\n{\n    int n,m,i,j,sum,max;\n    int k[30000];\n \n    while(scanf(\"%d%d\",&n,&m),n+m){\n      max=0;\n      \n      for(i=0;i<n;i++){\n          scanf(\"%d\",&k[i]);\n          k[i]=(k[i]+k[i+1])%m;\n      }\n        for(j=0;j<n;j++){\n          for(i=j;i<n;i++){\n              if(k[i]<k[i+1]) \n                sum=m+k[i]-k[i+1];\n              else\n                sum=k[i]-k[i+1];\n              if(sum>max) max=sum;\n          }\n        }\n \n        printf(\"%d\\n\",max);\n    }   \n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint main(void) {\n\tint n, m;\n\t\n\twhile (scanf(\"%d%d\", &n, &m), n) {\n\t\tint k[30000], i, j, max = 0;\n\t\t\n\t\tfor (i = 0; i < n; ++i) {\n\t\t\tscanf(\"%d\", &k[i]);\n\t\t\tk[i] %= m;\n\t\t}\n\t\t\n\t\tfor (i = 0; i < n; ++i) {\n\t\t\tint s = 0;\n\t\t\t\n\t\t\tfor (j = i; j < n; ++j) {\n\t\t\t\ts = (s + k[j]) >= m ? (s + k[j] - m) : (s + k[j]);\n\t\t\t\tmax = max < s ? s : max;\n\t\t\t}\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\", max);\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\nint main()\n{\n    int n,m,i,j,max,sum;\n    int k[30000];\n\n    while(scanf(\"%d%d\",&n,&m),n+m){\n\n        max=0;\n\n        for(i=0;i<n;i++){\n            scanf(\"%d\",&k[i]);\n        }   \n\n        for(i=0;i<n;i++){\n            sum=0;\n            for(j=i;j<n;j++){\n                if(max==m-1) break;\n                sum+=k[j];\n                if(max<sum%m) max=sum%m;\n\n            }   \n                if(max==m-1) break;\n        }   \n\n        printf(\"%d\\n\",max);\n    }   \n    return 0;\n}"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections.Generic;\nusing System.IO;\nusing System.Linq;\nusing System.Text;\n\nnamespace _0254\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n\n            //var exStdIn = new System.IO.StreamReader(\"stdin.txt\");\n            //Console.SetIn(exStdIn);\n\n            while (true)\n            {\n                int[] nm = RArInt();\n                if (nm.Sum() == 0) break;\n                int m = nm[1];\n\n                long[] cumSumMod = new long[nm[0] + 1];\n                int[] ks = RArInt();\n                cumSumMod[0] = 0;\n                for (int i = 0; i < ks.Length; i++)\n                {\n                    cumSumMod[i + 1] = (cumSumMod[i] + ks[i]) % m;\n                }\n\n                long res = 0;\n                SortedList<long, long> ss = new SortedList<long, long>();\n                ss.Add(cumSumMod[0], cumSumMod[0]);\n                for (int i = 1; i < cumSumMod.Length; i++)\n                {\n                    long j = UpperBound(ss, cumSumMod[i]);\n                    res = Math.Max(res, (cumSumMod[i] - j + m) % m);\n                    if (res == m - 1) break;\n                    if(!ss.ContainsKey(cumSumMod[i])) ss.Add(cumSumMod[i], cumSumMod[i]);\n                }\n                Console.WriteLine(res);\n            }\n        }\n\n        public static long UpperBound(SortedList<long, long> arr, long value)\n        {\n            int low = 0;\n            int high = arr.Count();\n            int mid;\n            while (low < high)\n            {\n                mid = ((high - low) >> 1) + low;\n                if (arr[mid] <= value)\n                    low = mid + 1;\n                else\n                    high = mid;\n            }\n            return low != arr.Count() ? arr[low] : 0;\n        }\n\n        static string RSt() { return Console.ReadLine(); }\n        static int RInt() { return int.Parse(Console.ReadLine().Trim()); }\n        static long RLong() { return long.Parse(Console.ReadLine().Trim()); }\n        static double RDouble() { return double.Parse(Console.ReadLine()); }\n        static string[] RArSt(char sep = ' ') { return Console.ReadLine().Trim().Split(sep); }\n        static int[] RArInt(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => int.Parse(e)); }\n        static long[] RArLong(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => long.Parse(e)); }\n        static double[] RArDouble(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => double.Parse(e)); }\n        static string WAr<T>(IEnumerable<T> array, string sep = \" \") { return string.Join(sep, array.Select(x => x.ToString()).ToArray()); }\n    }\n}\n\n"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections.Generic;\nusing System.IO;\nusing System.Linq;\nusing System.Text;\n\nnamespace _0254\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n\n            //var exStdIn = new System.IO.StreamReader(\"stdin.txt\");\n            //Console.SetIn(exStdIn);\n\n            while (true)\n            {\n                int[] nm = RArInt();\n                if (nm.Sum() == 0) break;\n                int m = nm[1];\n\n                long[] cumSumMod = new long[nm[0] + 1];\n                int[] ks = RArInt();\n                cumSumMod[0] = 0;\n                for (int i = 0; i < ks.Length; i++)\n                {\n                    cumSumMod[i + 1] = (cumSumMod[i] + ks[i]) % m;\n                }\n\n                long res = 0;\n                SortedList<long, long> ss = new SortedList<long, long>();\n                ss.Add(cumSumMod[0], cumSumMod[0]);\n                for (int i = 1; i < cumSumMod.Length; i++)\n                {\n                    long j = UpperBound(ss, cumSumMod[i]);\n                    res = Math.Max(res, (cumSumMod[i] - j + m) % m);\n                    if (res == m - 1) break;\n                    if(!ss.ContainsKey(cumSumMod[i])) ss.Add(cumSumMod[i], cumSumMod[i]);\n                }\n                Console.WriteLine(res);\n            }\n        }\n\n        public static long UpperBound(SortedList<long, long> arr, long value)\n        {\n            int low = 0;\n            int high = arr.Count();\n            int mid;\n            while (low < high)\n            {\n                mid = ((high - low) >> 1) + low;\n                if (arr.Keys[mid] <= value)\n                    low = mid + 1;\n                else\n                    high = mid;\n            }\n            return low != arr.Count() ? arr.Keys[low] : 0;\n        }\n\n        static string RSt() { return Console.ReadLine(); }\n        static int RInt() { return int.Parse(Console.ReadLine().Trim()); }\n        static long RLong() { return long.Parse(Console.ReadLine().Trim()); }\n        static double RDouble() { return double.Parse(Console.ReadLine()); }\n        static string[] RArSt(char sep = ' ') { return Console.ReadLine().Trim().Split(sep); }\n        static int[] RArInt(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => int.Parse(e)); }\n        static long[] RArLong(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => long.Parse(e)); }\n        static double[] RArDouble(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => double.Parse(e)); }\n        static string WAr<T>(IEnumerable<T> array, string sep = \" \") { return string.Join(sep, array.Select(x => x.ToString()).ToArray()); }\n    }\n}\n\n"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections.Generic;\nusing System.IO;\nusing System.Linq;\nusing System.Text;\n\nnamespace _0254\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n\n            //var exStdIn = new System.IO.StreamReader(\"stdin.txt\");\n            //Console.SetIn(exStdIn);\n\n            while (true)\n            {\n                int[] nm = RArInt();\n                if (nm.Sum() == 0) break;\n                int m = nm[1];\n\n                long[] cumSumMod = new long[nm[0] + 1];\n                int[] ks = RArInt();\n                cumSumMod[0] = 0;\n                for (int i = 0; i < ks.Length; i++)\n                {\n                    cumSumMod[i + 1] = (cumSumMod[i] + ks[i]) % m;\n                }\n\n                long res = 0;\n                SortedSet<long> ss = new SortedSet<long>();\n                ss.Add(cumSumMod[0]);\n                for (int i = 1; i < cumSumMod.Length; i++)\n                {\n                    long j = UpperBound(ss, cumSumMod[i]);\n                    res = Math.Max(res, (cumSumMod[i] - j + m) % m);\n                    if (res == m - 1) break;\n                    ss.Add(cumSumMod[i]);\n                }\n                Console.WriteLine(res);\n            }\n        }\n\n        public static long UpperBound(SortedSet<long> arr, long value)\n        {\n            int low = 0;\n            int high = arr.Count();\n            int mid;\n            while (low < high)\n            {\n                mid = ((high - low) >> 1) + low;\n                if (arr.ElementAt(mid) <= value)\n                    low = mid + 1;\n                else\n                    high = mid;\n            }\n            return low != arr.Count() ? arr.ElementAt(low) : 0;\n        }\n\n        static string RSt() { return Console.ReadLine(); }\n        static int RInt() { return int.Parse(Console.ReadLine().Trim()); }\n        static long RLong() { return long.Parse(Console.ReadLine().Trim()); }\n        static double RDouble() { return double.Parse(Console.ReadLine()); }\n        static string[] RArSt(char sep = ' ') { return Console.ReadLine().Trim().Split(sep); }\n        static int[] RArInt(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => int.Parse(e)); }\n        static long[] RArLong(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => long.Parse(e)); }\n        static double[] RArDouble(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => double.Parse(e)); }\n        static string WAr<T>(IEnumerable<T> array, string sep = \" \") { return string.Join(sep, array.Select(x => x.ToString()).ToArray()); }\n    }\n}\n\n"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections.Generic;\nusing System.IO;\nusing System.Linq;\nusing System.Text;\n\nnamespace _0254\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n\n            //var exStdIn = new System.IO.StreamReader(\"stdin.txt\");\n            //Console.SetIn(exStdIn);\n\n            while (true)\n            {\n                int[] nm = RArInt();\n                if (nm.Sum() == 0) break;\n                int m = nm[1];\n\n                int[] cumSumMod = new int[nm[0] + 1];\n                int[] ks = RArInt();\n                cumSumMod[0] = 0;\n                for (int i = 0; i < ks.Length; i++)\n                {\n                    cumSumMod[i + 1] = (cumSumMod[i] + ks[i]) % m;\n                }\n\n                int res = 0;\n                SortedSet<int> ss = new SortedSet<int>();\n                ss.Add(cumSumMod[0]);\n                for (int i = 1; i < cumSumMod.Length; i++)\n                {\n                    int j = UpperBound(ss, cumSumMod[i]);\n                    res = Math.Max(res, (cumSumMod[i] - j + m) % m);\n                    if (res == m - 1) break;\n                    ss.Add(cumSumMod[i]);\n                }\n                Console.WriteLine(res);\n            }\n        }\n\n        public static int UpperBound(SortedSet<int> arr, int value)\n        {\n            int low = 0;\n            int high = arr.Count();\n            int mid;\n            while (low < high)\n            {\n                mid = ((high - low) >> 1) + low;\n                if (arr.ElementAt(mid) <= value)\n                    low = mid + 1;\n                else\n                    high = mid;\n            }\n            return low != arr.Count() ? arr.ElementAt(low) : 0;\n        }\n\n        static string RSt() { return Console.ReadLine(); }\n        static int RInt() { return int.Parse(Console.ReadLine().Trim()); }\n        static long RLong() { return long.Parse(Console.ReadLine().Trim()); }\n        static double RDouble() { return double.Parse(Console.ReadLine()); }\n        static string[] RArSt(char sep = ' ') { return Console.ReadLine().Trim().Split(sep); }\n        static int[] RArInt(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => int.Parse(e)); }\n        static long[] RArLong(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => long.Parse(e)); }\n        static double[] RArDouble(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => double.Parse(e)); }\n        static string WAr<T>(IEnumerable<T> array, string sep = \" \") { return string.Join(sep, array.Select(x => x.ToString()).ToArray()); }\n    }\n}\n\n"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections.Generic;\nusing System.IO;\nusing System.Linq;\nusing System.Text;\n\nnamespace _0254\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n\n            //var exStdIn = new System.IO.StreamReader(\"stdin.txt\");\n            //Console.SetIn(exStdIn);\n\n            while (true)\n            {\n                int[] nm = RArInt();\n                if (nm.Sum() == 0) break;\n                int m = nm[1];\n\n                long[] cumSumMod = new long[nm[0] + 1];\n                int[] ks = RArInt();\n                cumSumMod[0] = 0;\n                for (int i = 0; i < ks.Length; i++)\n                {\n                    cumSumMod[i + 1] = (cumSumMod[i] + ks[i]) % m;\n                }\n\n                long res = 0;\n                SortedList<long, long> ss = new SortedList<long, long>();\n                ss.Add(cumSumMod[0], cumSumMod[0]);\n                for (int i = 1; i < cumSumMod.Length; i++)\n                {\n                    long j = UpperBound(ss, cumSumMod[i]);\n                    res = Math.Max(res, (cumSumMod[i] - j + m) % m);\n                    if (res == m - 1) break;\n                    if(!ss.ContainsKey(cumSumMod[i])) ss.Add(cumSumMod[i], cumSumMod[i]);\n                }\n                Console.WriteLine(res);\n            }\n        }\n\n        public static long UpperBound(SortedList<long, long> arr, long value)\n        {\n            int low = 0;\n            int high = arr.Count();\n            int mid;\n            while (low < high)\n            {\n                mid = ((high - low) >> 1) + low;\n                if (arr.Keys[mid] <= value)\n                    low = mid + 1;\n                else\n                    high = mid;\n            }\n            return low != arr.Count() ? (arr.Keys[low] : 0;\n        }\n\n        static string RSt() { return Console.ReadLine(); }\n        static int RInt() { return int.Parse(Console.ReadLine().Trim()); }\n        static long RLong() { return long.Parse(Console.ReadLine().Trim()); }\n        static double RDouble() { return double.Parse(Console.ReadLine()); }\n        static string[] RArSt(char sep = ' ') { return Console.ReadLine().Trim().Split(sep); }\n        static int[] RArInt(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => int.Parse(e)); }\n        static long[] RArLong(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => long.Parse(e)); }\n        static double[] RArDouble(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => double.Parse(e)); }\n        static string WAr<T>(IEnumerable<T> array, string sep = \" \") { return string.Join(sep, array.Select(x => x.ToString()).ToArray()); }\n    }\n}\n\n"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\n\n\nclass Segtree<T>\n{\n    int n;\n    T[] tree;\n    Func<T, T, T> f;\n    T exnum;\n    public Segtree(int m, Func<T, T, T> f, T ex)\n    {\n        this.f = f;\n        this.exnum = ex;\n        n = 1;\n        while (n < m) n <<= 1;\n\n        tree = new T[(n << 1) - 1];\n        for (int i = 0; i < tree.Length; i++) tree[i] = ex;\n    }\n    public Segtree(int m, T ini, Func<T, T, T> f, T ex)\n    {\n        this.f = f;\n        this.exnum = ex;\n        n = 1;\n        while (n < m) n <<= 1;\n\n        tree = new T[(n << 1) - 1];\n        for (int i = 0; i < tree.Length; i++) tree[i] = ini;\n        for (int i = 0; i < m; ++i) update(i, ini);\n    }\n    public void update(int j, T x)\n    {\n        int i = j + n - 1;\n        tree[i] = x;\n        while (i > 0)\n        {\n            i = (i - 1) >> 1;\n            tree[i] = f(tree[(i << 1) + 1], tree[(i << 1) + 2]);\n        }\n    }\n    public T look(int i) { return tree[i + n - 1]; }\n\n    // [s, t]\n    public T run(int s, int t) { return query(s, t + 1, 0, 0, n); }\n    T query(int s, int t, int k, int l, int r)\n    {\n        if (r <= s || t <= l) return exnum;\n        if (s <= l && r <= t) return tree[k];\n\n        return f(query(s, t, (k << 1) + 1, l, (l + r) >> 1), query(s, t, (k + 1) << 1, (l + r) >> 1, r));\n    }\n}\n\nnamespace Codeforces\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            string input;\n\n            do\n            {\n                input = Console.ReadLine();\n                if (input.Equals(\"0 0\")) break;\n                string[] input_arr = input.Split(' ');\n\n                int n = int.Parse(input_arr[0]);\n                int m = int.Parse(input_arr[1]);\n                int max = 0;\n                int now = 0;\n\n                string[] dish_arr = Console.ReadLine().Split(' ');\n                int[] dish_mod_arr = new int[n];\n                for(int i = 0; i<n; i++)\n                {\n                    dish_mod_arr[i] = int.Parse(dish_arr[i]) % m;\n                }\n\n                int left = 0;\n                int right = 0;\n\n                while(left < n)\n                {\n                    now = 0;\n                    for(right = left; right < n; right++)\n                    {\n                        now += dish_mod_arr[right];\n                        if (now > m) now %= m;\n                        if (max < now) max = now;\n                        if(now == m - 1) goto found;                        \n                    }\n                    left++;\n                }\n                \n                found: Console.WriteLine(max);\n                \n            } while (input != \"0 0\");\n        }\n    }\n}"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections.Generic;\nusing System.IO;\nusing System.Linq;\nusing System.Text;\n\nnamespace _0254\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n\n            //var exStdIn = new System.IO.StreamReader(\"stdin.txt\");\n            //Console.SetIn(exStdIn);\n\n            while (true)\n            {\n                int[] nm = RArInt();\n                if (nm.Sum() == 0) break;\n                int m = nm[1];\n\n                long[] cumSumMod = new long[nm[0] + 1];\n                int[] ks = RArInt();\n                cumSumMod[0] = 0;\n                for (int i = 0; i < ks.Length; i++)\n                {\n                    cumSumMod[i + 1] = (cumSumMod[i] + ks[i]) % m;\n                }\n\n                long res = 0;\n                SortedDictionary<long, long> ss = new SortedDictionary<long, long>();\n                ss.Add(cumSumMod[0], cumSumMod[0]);\n                for (int i = 1; i < cumSumMod.Length; i++)\n                {\n                    long j = UpperBound(ss, cumSumMod[i]);\n                    res = Math.Max(res, (cumSumMod[i] - j + m) % m);\n                    if (res == m - 1) break;\n                    ss.Add(cumSumMod[i]);\n                }\n                Console.WriteLine(res);\n            }\n        }\n\n        public static long UpperBound(SortedDictionary<long, long> arr, long value)\n        {\n            int low = 0;\n            int high = arr.Count();\n            int mid;\n            while (low < high)\n            {\n                mid = ((high - low) >> 1) + low;\n                if (arr[mid] <= value)\n                    low = mid + 1;\n                else\n                    high = mid;\n            }\n            return low != arr.Count() ? arr[low] : 0;\n        }\n\n        static string RSt() { return Console.ReadLine(); }\n        static int RInt() { return int.Parse(Console.ReadLine().Trim()); }\n        static long RLong() { return long.Parse(Console.ReadLine().Trim()); }\n        static double RDouble() { return double.Parse(Console.ReadLine()); }\n        static string[] RArSt(char sep = ' ') { return Console.ReadLine().Trim().Split(sep); }\n        static int[] RArInt(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => int.Parse(e)); }\n        static long[] RArLong(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => long.Parse(e)); }\n        static double[] RArDouble(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => double.Parse(e)); }\n        static string WAr<T>(IEnumerable<T> array, string sep = \" \") { return string.Join(sep, array.Select(x => x.ToString()).ToArray()); }\n    }\n}\n\n"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections.Generic;\nusing System.IO;\nusing System.Linq;\nusing System.Text;\n\nnamespace _0254\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n\n            //var exStdIn = new System.IO.StreamReader(\"stdin.txt\");\n            //Console.SetIn(exStdIn);\n\n            while (true)\n            {\n                int[] nm = RArInt();\n                if (nm.Sum() == 0) break;\n                int m = nm[1];\n\n                int[] cumSumMod = new int[nm[0] + 1];\n                int[] ks = RArInt();\n                cumSumMod[0] = 0;\n                for (int i = 0; i < ks.Length; i++)\n                {\n                    cumSumMod[i + 1] = (cumSumMod[i] + ks[i]) % m;\n                }\n\n                int res = 0;\n                SortedSet<int> ss = new SortedSet<int>();\n                ss.Add(cumSumMod[0]);\n                for (int i = 1; i < cumSumMod.Length; i++)\n                {\n                    int j = UpperBound(ss, cumSumMod[i]);\n                    res = Math.Max(res, (cumSumMod[i] - j + m) % m);\n                    ss.Add(cumSumMod[i]);\n                }\n                Console.WriteLine(res);\n            }\n        }\n\n        public static int UpperBound(SortedSet<int> arr, int value)\n        {\n            int low = 0;\n            int high = arr.Count();\n            int mid;\n            while (low < high)\n            {\n                mid = ((high - low) >> 1) + low;\n                if (arr.ElementAt(mid) <= value)\n                    low = mid + 1;\n                else\n                    high = mid;\n            }\n            return low != arr.Count() ? arr.ElementAt(low) : 0;\n        }\n\n        static string RSt() { return Console.ReadLine(); }\n        static int RInt() { return int.Parse(Console.ReadLine().Trim()); }\n        static long RLong() { return long.Parse(Console.ReadLine().Trim()); }\n        static double RDouble() { return double.Parse(Console.ReadLine()); }\n        static string[] RArSt(char sep = ' ') { return Console.ReadLine().Trim().Split(sep); }\n        static int[] RArInt(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => int.Parse(e)); }\n        static long[] RArLong(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => long.Parse(e)); }\n        static double[] RArDouble(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => double.Parse(e)); }\n        static string WAr<T>(IEnumerable<T> array, string sep = \" \") { return string.Join(sep, array.Select(x => x.ToString()).ToArray()); }\n    }\n}\n\n"
  },
  {
    "language": "C#",
    "code": "using System;\n\npublic class hello\n{\n    public static void Main()\n    {\n        while (true)\n        {\n            string[] line = Console.ReadLine().Trim().Split(' ');\n            var n = int.Parse(line[0]);\n            var m = int.Parse(line[1]);\n            if (n == 0 && m == 0) break;\n            string[] line2 = Console.ReadLine().Trim().Split(' ');\n            var tray = Array.ConvertAll(line2, int.Parse);\n            var getmax = 0;\n            for (int i = 0; i < n; i++)\n            {\n                var temptotal = 0;\n                for (int j = i; j < n; j++)\n                {\n                    temptotal += tray[j];\n                    var gets = temptotal % m;\n                    if (gets > getmax) getmax = gets;\n                }\n            }\n            Console.WriteLine(getmax);\n        }\n    }\n}"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections.Generic;\nusing System.IO;\nusing System.Linq;\nusing System.Text;\n\nnamespace _0254\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n\n            //var exStdIn = new System.IO.StreamReader(\"stdin.txt\");\n            //Console.SetIn(exStdIn);\n\n            while (true)\n            {\n                int[] nm = RArInt();\n                if (nm.Sum() == 0) break;\n                int m = nm[1];\n\n                long[] cumSumMod = new long[nm[0] + 1];\n                int[] ks = RArInt();\n                cumSumMod[0] = 0;\n                for (int i = 0; i < ks.Length; i++)\n                {\n                    cumSumMod[i + 1] = (cumSumMod[i] + ks[i]) % m;\n                }\n\n                long res = 0;\n                SortedDictionary<long, long> ss = new SortedDictionary<long, long>();\n                ss.Add(cumSumMod[0], cumSumMod[0]);\n                for (int i = 1; i < cumSumMod.Length; i++)\n                {\n                    long j = UpperBound(ss, cumSumMod[i]);\n                    res = Math.Max(res, (cumSumMod[i] - j + m) % m);\n                    if (res == m - 1) break;\n                    ss.Add(cumSumMod[i], cumSumMod[i]);\n                }\n                Console.WriteLine(res);\n            }\n        }\n\n        public static long UpperBound(SortedDictionary<long, long> arr, long value)\n        {\n            int low = 0;\n            int high = arr.Count();\n            int mid;\n            while (low < high)\n            {\n                mid = ((high - low) >> 1) + low;\n                if (arr[mid] <= value)\n                    low = mid + 1;\n                else\n                    high = mid;\n            }\n            return low != arr.Count() ? arr[low] : 0;\n        }\n\n        static string RSt() { return Console.ReadLine(); }\n        static int RInt() { return int.Parse(Console.ReadLine().Trim()); }\n        static long RLong() { return long.Parse(Console.ReadLine().Trim()); }\n        static double RDouble() { return double.Parse(Console.ReadLine()); }\n        static string[] RArSt(char sep = ' ') { return Console.ReadLine().Trim().Split(sep); }\n        static int[] RArInt(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => int.Parse(e)); }\n        static long[] RArLong(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => long.Parse(e)); }\n        static double[] RArDouble(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => double.Parse(e)); }\n        static string WAr<T>(IEnumerable<T> array, string sep = \" \") { return string.Join(sep, array.Select(x => x.ToString()).ToArray()); }\n    }\n}\n\n"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections.Generic;\nusing System.IO;\nusing System.Linq;\nusing System.Text;\n\nnamespace _0254\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n\n            //var exStdIn = new System.IO.StreamReader(\"stdin.txt\");\n            //Console.SetIn(exStdIn);\n\n            while (true)\n            {\n                int[] nm = RArInt();\n                if (nm.Sum() == 0) break;\n                int m = nm[1];\n\n                int[] cumSumMod = new int[nm[0] + 1];\n                int[] ks = RArInt();\n                cumSumMod[0] = 0;\n                for (int i = 0; i < ks.Length; i++)\n                {\n                    cumSumMod[i + 1] = (cumSumMod[i] + ks[i]) % m;\n                }\n\n                int res = 0;\n                SortedSet<int> ss = new SortedSet<int>();\n                ss.Add(cumSumMod[0]);\n                for (int i = 1; i < cumSumMod.Length; i++)\n                {\n                    int j = UpperBound(ss, cumSumMod[i]);\n                    res = Math.Max(res, (cumSumMod[i] - (j != ss.Count() ? ss.ElementAt(j) : 0) + m) % m);\n                    ss.Add(cumSumMod[i]);\n                }\n                Console.WriteLine(res);\n            }\n        }\n\n        public static int UpperBound(SortedSet<int> arr, int value)\n        {\n            int low = 0;\n            int high = arr.Count();\n            int mid;\n            while (low < high)\n            {\n                mid = ((high - low) >> 1) + low;\n                if (arr.ElementAt(mid) <= value)\n                    low = mid + 1;\n                else\n                    high = mid;\n            }\n            return low;\n        }\n\n        static string RSt() { return Console.ReadLine(); }\n        static int RInt() { return int.Parse(Console.ReadLine().Trim()); }\n        static long RLong() { return long.Parse(Console.ReadLine().Trim()); }\n        static double RDouble() { return double.Parse(Console.ReadLine()); }\n        static string[] RArSt(char sep = ' ') { return Console.ReadLine().Trim().Split(sep); }\n        static int[] RArInt(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => int.Parse(e)); }\n        static long[] RArLong(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => long.Parse(e)); }\n        static double[] RArDouble(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => double.Parse(e)); }\n        static string WAr<T>(IEnumerable<T> array, string sep = \" \") { return string.Join(sep, array.Select(x => x.ToString()).ToArray()); }\n    }\n}\n\n"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections.Generic;\nusing System.IO;\nusing System.Linq;\nusing System.Text;\n\nnamespace _0254\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n\n            //var exStdIn = new System.IO.StreamReader(\"stdin.txt\");\n            //Console.SetIn(exStdIn);\n\n            while (true)\n            {\n                int[] nm = RArInt();\n                if (nm.Sum() == 0) break;\n                int m = nm[1];\n\n                long[] cumSumMod = new long[nm[0] + 1];\n                int[] ks = RArInt();\n                cumSumMod[0] = 0;\n                for (int i = 0; i < ks.Length; i++)\n                {\n                    cumSumMod[i + 1] = (cumSumMod[i] + ks[i]) % m;\n                }\n\n                long res = 0;\n                SortedDictionary<long, long> ss = new SortedDictionary<long, long>();\n                ss.Add(cumSumMod[0], cumSumMod[0]);\n                for (int i = 1; i < cumSumMod.Length; i++)\n                {\n                    long j = UpperBound(ss, cumSumMod[i]);\n                    res = Math.Max(res, (cumSumMod[i] - j + m) % m);\n                    if (res == m - 1) break;\n                    if(!ss.ContainsKey(cumSumMod[i])) ss.Add(cumSumMod[i], cumSumMod[i]);\n                }\n                Console.WriteLine(res);\n            }\n        }\n\n        public static long UpperBound(SortedDictionary<long, long> arr, long value)\n        {\n            int low = 0;\n            int high = arr.Count();\n            int mid;\n            while (low < high)\n            {\n                mid = ((high - low) >> 1) + low;\n                if (arr[mid] <= value)\n                    low = mid + 1;\n                else\n                    high = mid;\n            }\n            return low != arr.Count() ? arr[low] : 0;\n        }\n\n        static string RSt() { return Console.ReadLine(); }\n        static int RInt() { return int.Parse(Console.ReadLine().Trim()); }\n        static long RLong() { return long.Parse(Console.ReadLine().Trim()); }\n        static double RDouble() { return double.Parse(Console.ReadLine()); }\n        static string[] RArSt(char sep = ' ') { return Console.ReadLine().Trim().Split(sep); }\n        static int[] RArInt(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => int.Parse(e)); }\n        static long[] RArLong(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => long.Parse(e)); }\n        static double[] RArDouble(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => double.Parse(e)); }\n        static string WAr<T>(IEnumerable<T> array, string sep = \" \") { return string.Join(sep, array.Select(x => x.ToString()).ToArray()); }\n    }\n}\n\n"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections.Generic;\nusing System.IO;\nusing System.Linq;\nusing System.Text;\n\nnamespace _0254\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n\n            var exStdIn = new System.IO.StreamReader(\"stdin.txt\");\n            Console.SetIn(exStdIn);\n\n            while (true)\n            {\n                int[] nm = RArInt();\n                if (nm.Sum() == 0) break;\n                int m = nm[1];\n\n                int[] cumSumMod = new int[nm[0] + 1];\n                int[] ks = RArInt();\n                cumSumMod[0] = 0;\n                for (int i = 0; i < ks.Length; i++)\n                {\n                    cumSumMod[i + 1] = (cumSumMod[i] + ks[i]) % m;\n                }\n\n                int res = 0;\n                SortedSet<int> ss = new SortedSet<int>();\n                ss.Add(cumSumMod[0]);\n                for (int i = 1; i < cumSumMod.Length; i++)\n                {\n                    int j = UpperBound(ss, cumSumMod[i]);\n                    res = Math.Max(res, (cumSumMod[i] - (j != ss.Count() ? ss.ElementAt(j) : 0) + m) % m);\n                    ss.Add(cumSumMod[i]);\n                }\n                Console.WriteLine(res);\n            }\n        }\n\n        public static int UpperBound(SortedSet<int> arr, int value)\n        {\n            int low = 0;\n            int high = arr.Count();\n            int mid;\n            while (low < high)\n            {\n                mid = ((high - low) >> 1) + low;\n                if (arr.ElementAt(mid) <= value)\n                    low = mid + 1;\n                else\n                    high = mid;\n            }\n            return low;\n        }\n\n        static string RSt() { return Console.ReadLine(); }\n        static int RInt() { return int.Parse(Console.ReadLine().Trim()); }\n        static long RLong() { return long.Parse(Console.ReadLine().Trim()); }\n        static double RDouble() { return double.Parse(Console.ReadLine()); }\n        static string[] RArSt(char sep = ' ') { return Console.ReadLine().Trim().Split(sep); }\n        static int[] RArInt(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => int.Parse(e)); }\n        static long[] RArLong(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => long.Parse(e)); }\n        static double[] RArDouble(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => double.Parse(e)); }\n        static string WAr<T>(IEnumerable<T> array, string sep = \" \") { return string.Join(sep, array.Select(x => x.ToString()).ToArray()); }\n    }\n}\n\n"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\n\n\nclass Segtree<T>\n{\n    int n;\n    T[] tree;\n    Func<T, T, T> f;\n    T exnum;\n    public Segtree(int m, Func<T, T, T> f, T ex)\n    {\n        this.f = f;\n        this.exnum = ex;\n        n = 1;\n        while (n < m) n <<= 1;\n\n        tree = new T[(n << 1) - 1];\n        for (int i = 0; i < tree.Length; i++) tree[i] = ex;\n    }\n    public Segtree(int m, T ini, Func<T, T, T> f, T ex)\n    {\n        this.f = f;\n        this.exnum = ex;\n        n = 1;\n        while (n < m) n <<= 1;\n\n        tree = new T[(n << 1) - 1];\n        for (int i = 0; i < tree.Length; i++) tree[i] = ini;\n        for (int i = 0; i < m; ++i) update(i, ini);\n    }\n    public void update(int j, T x)\n    {\n        int i = j + n - 1;\n        tree[i] = x;\n        while (i > 0)\n        {\n            i = (i - 1) >> 1;\n            tree[i] = f(tree[(i << 1) + 1], tree[(i << 1) + 2]);\n        }\n    }\n    public T look(int i) { return tree[i + n - 1]; }\n\n    // [s, t]\n    public T run(int s, int t) { return query(s, t + 1, 0, 0, n); }\n    T query(int s, int t, int k, int l, int r)\n    {\n        if (r <= s || t <= l) return exnum;\n        if (s <= l && r <= t) return tree[k];\n\n        return f(query(s, t, (k << 1) + 1, l, (l + r) >> 1), query(s, t, (k + 1) << 1, (l + r) >> 1, r));\n    }\n}\n\nnamespace Codeforces\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            string input;\n\n            do\n            {\n                input = Console.ReadLine();\n                if (input.Equals(\"0 0\")) break;\n                string[] input_arr = input.Split(' ');\n\n                int n = int.Parse(input_arr[0]);\n                int m = int.Parse(input_arr[1]);\n                int max = 0;\n                int now = 0;\n\n                string[] dish_arr = Console.ReadLine().Split(' ');\n                int[] dish_mod_arr = new int[n];\n                for(int i = 0; i<n; i++)\n                {\n                    dish_mod_arr[i] = int.Parse(dish_arr[i]) % m;\n                }\n\n                int left = 0;\n                int right = 0;\n\n                while(left < n)\n                {\n                    now = 0;\n                    for(right = left; right < n; right++)\n                    {\n                        now += dish_mod_arr[right];\n                        if (now > m) now %= m;\n                        if (max < now) max = now;\n                        if(now == m - 1) goto found;                        \n                    }\n                    left++;\n                }\n                \n                found: Console.WriteLine(max);\n                \n            } while (input != \"0 0\");\n        }\n    }\n}"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections.Generic;\nusing System.IO;\nusing System.Linq;\nusing System.Text;\n\nnamespace _0254\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n\n            //var exStdIn = new System.IO.StreamReader(\"stdin.txt\");\n            //Console.SetIn(exStdIn);\n\n            while (true)\n            {\n                int[] nm = RArInt();\n                if (nm.Sum() == 0) break;\n                int m = nm[1];\n\n                long[] cumSumMod = new long[nm[0] + 1];\n                int[] ks = RArInt();\n                cumSumMod[0] = 0;\n                for (int i = 0; i < ks.Length; i++)\n                {\n                    cumSumMod[i + 1] = (cumSumMod[i] + ks[i]) % m;\n                }\n\n                long res = 0;\n                SortedList<long, long> ss = new SortedList<long, long>();\n                ss.Add(cumSumMod[0], 0);\n                for (int i = 1; i < cumSumMod.Length; i++)\n                {\n                    long j = UpperBound(ss, cumSumMod[i]);\n                    res = Math.Max(res, (cumSumMod[i] - j + m) % m);\n                    if (res == m - 1) break;\n                    if(!ss.ContainsKey(cumSumMod[i])) ss.Add(cumSumMod[i], cumSumMod[i]);\n                }\n                Console.WriteLine(res);\n            }\n        }\n\n        public static long UpperBound(SortedList<long, long> arr, long value)\n        {\n            int low = 0;\n            int high = arr.Count();\n            int mid;\n            while (low < high)\n            {\n                mid = ((high - low) >> 1) + low;\n                if (arr.Keys[mid] <= value)\n                    low = mid + 1;\n                else\n                    high = mid;\n            }\n            return low != arr.Count() ? arr.Keys[low] : 0;\n        }\n\n        static string RSt() { return Console.ReadLine(); }\n        static int RInt() { return int.Parse(Console.ReadLine().Trim()); }\n        static long RLong() { return long.Parse(Console.ReadLine().Trim()); }\n        static double RDouble() { return double.Parse(Console.ReadLine()); }\n        static string[] RArSt(char sep = ' ') { return Console.ReadLine().Trim().Split(sep); }\n        static int[] RArInt(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => int.Parse(e)); }\n        static long[] RArLong(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => long.Parse(e)); }\n        static double[] RArDouble(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => double.Parse(e)); }\n        static string WAr<T>(IEnumerable<T> array, string sep = \" \") { return string.Join(sep, array.Select(x => x.ToString()).ToArray()); }\n    }\n}\n\n"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections.Generic;\nusing System.IO;\nusing System.Linq;\nusing System.Text;\n\nnamespace _0254\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n\n            //var exStdIn = new System.IO.StreamReader(\"stdin.txt\");\n            //Console.SetIn(exStdIn);\n\n            while (true)\n            {\n                int[] nm = RArInt();\n                if (nm.Sum() == 0) break;\n                int m = nm[1];\n\n                int[] cumSumMod = new int[nm[0] + 1];\n                int[] ks = RArInt();\n                cumSumMod[0] = 0;\n                for (int i = 0; i < ks.Length; i++)\n                {\n                    cumSumMod[i + 1] = (cumSumMod[i] + ks[i]) % m;\n                }\n\n                int res = 0;\n                SortedSet<int> ss = new SortedSet<int>();\n                ss.Add(cumSumMod[0]);\n                for (int i = 1; i < cumSumMod.Length; i++)\n                {\n                    int j = UpperBound(ss, cumSumMod[i]);\n                    res = Math.Max(res, (cumSumMod[i] - (j != ss.Count() ? ss.ElementAt(j) : 0) + m) % m);\n                    ss.Add(cumSumMod[i]);\n                }\n                Console.WriteLine(res);\n            }\n        }\n\n        public static int UpperBound(SortedSet<int> arr, int value)\n        {\n            int low = 0;\n            int high = arr.Count();\n            int mid;\n            while (low < high)\n            {\n                mid = ((high - low) >> 1) + low;\n                if (arr.ElementAt(mid) <= value)\n                    low = mid + 1;\n                else\n                    high = mid;\n            }\n            return low;\n        }\n\n        static string RSt() { return Console.ReadLine(); }\n        static int RInt() { return int.Parse(Console.ReadLine().Trim()); }\n        static long RLong() { return long.Parse(Console.ReadLine().Trim()); }\n        static double RDouble() { return double.Parse(Console.ReadLine()); }\n        static string[] RArSt(char sep = ' ') { return Console.ReadLine().Trim().Split(sep); }\n        static int[] RArInt(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => int.Parse(e)); }\n        static long[] RArLong(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => long.Parse(e)); }\n        static double[] RArDouble(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => double.Parse(e)); }\n        static string WAr<T>(IEnumerable<T> array, string sep = \" \") { return string.Join(sep, array.Select(x => x.ToString()).ToArray()); }\n    }\n}\n\n"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections.Generic;\nusing System.IO;\nusing System.Linq;\nusing System.Text;\n\nnamespace _0254\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n\n            //var exStdIn = new System.IO.StreamReader(\"stdin.txt\");\n            //Console.SetIn(exStdIn);\n\n            while (true)\n            {\n                int[] nm = RArInt();\n                if (nm.Sum() == 0) break;\n                int m = nm[1];\n\n                int[] cumSumMod = new int[nm[0] + 1];\n                int[] ks = RArInt();\n                cumSumMod[0] = 0;\n                for (int i = 0; i < ks.Length; i++)\n                {\n                    cumSumMod[i + 1] = (cumSumMod[i] + ks[i]) % m;\n                }\n\n                int res = 0;\n                SortedSet<int> ss = new SortedSet<int>(cumSumMod.Length);\n                ss.Add(cumSumMod[0]);\n                for (int i = 1; i < cumSumMod.Length; i++)\n                {\n                    int j = UpperBound(ss, cumSumMod[i]);\n                    res = Math.Max(res, (cumSumMod[i] - (j != ss.Count() ? ss.ElementAt(j) : 0) + m) % m);\n                    ss.Add(cumSumMod[i]);\n                }\n                Console.WriteLine(res);\n            }\n        }\n\n        public static int UpperBound(SortedSet<int> arr, int value)\n        {\n            int low = 0;\n            int high = arr.Count();\n            int mid;\n            while (low < high)\n            {\n                mid = ((high - low) >> 1) + low;\n                if (arr.ElementAt(mid) <= value)\n                    low = mid + 1;\n                else\n                    high = mid;\n            }\n            return low;\n        }\n\n        static string RSt() { return Console.ReadLine(); }\n        static int RInt() { return int.Parse(Console.ReadLine().Trim()); }\n        static long RLong() { return long.Parse(Console.ReadLine().Trim()); }\n        static double RDouble() { return double.Parse(Console.ReadLine()); }\n        static string[] RArSt(char sep = ' ') { return Console.ReadLine().Trim().Split(sep); }\n        static int[] RArInt(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => int.Parse(e)); }\n        static long[] RArLong(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => long.Parse(e)); }\n        static double[] RArDouble(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => double.Parse(e)); }\n        static string WAr<T>(IEnumerable<T> array, string sep = \" \") { return string.Join(sep, array.Select(x => x.ToString()).ToArray()); }\n    }\n}\n\n"
  },
  {
    "language": "Python",
    "code": "from bisect import bisect_left as bl\n\nwhile True:\n  n, m = map(int, input().split())\n  if n == 0:\n    break\n  klst = list(map(int, input().split()))\n  cum = []\n  acc = 0\n  for k in klst:\n    acc += k\n    acc %= m\n    cum.append(acc)\n  \n  use = [0]\n  use_len = 1\n  ans = 0\n  for k in cum:\n    ind = bl(use, m - k - 1)\n    if ind < use_len:\n      if use[ind] == m - k - 1:\n        ans = max(ans, k + use[ind])\n      else:\n        ans = max(ans, k + use[ind - 1])\n    ans = max(ans, (k + use[-1]) % m)\n    use.insert(bl(use, k), k)\n    use_len += 1\n  print(ans)\n"
  },
  {
    "language": "Python",
    "code": "from bisect import bisect_left as bl\n\nwhile True:\n  n, m = map(int, input().split())\n  if n == 0:\n    break\n  klst = list(map(int, input().split()))\n  cum = []\n  acc = 0\n  for k in klst:\n    acc += k\n    acc %= m\n    cum.append(acc)\n  \n  use = [0]\n  use_len = 1\n  ans = 0\n  for k in cum:\n    ind = bl(use, k + 1)\n    if ind < use_len:\n      ans = max(ans, (k - use[ind]) % m)\n    ans = max(ans, k)\n    use.insert(bl(use, k), k)\n    use_len += 1\n  print(ans)\n"
  },
  {
    "language": "Python",
    "code": "def main():\n    while 1:\n        N, M = map(int, input().split())\n        if N == M == 0:\n            break\n        data = [0]*(M+1)\n        def add(k, x):\n            while k <= M:\n                data[k] += x\n                k += k & -k\n        def get(k):\n            s = 0\n            while k:\n                s += data[k]\n                k -= k & -k\n            return s\n        M0 = 2**(M-1).bit_length()\n        def lower_bound(x):\n            w = i = 0\n            k = M0\n            while k:\n                if i+k <= M and w + data[i+k] <= x:\n                    w += data[i+k]\n                    i += k\n                k >>= 1\n            return i+1\n        *K, = map(int, input().split())\n        su = 0\n        ans = 0\n        for k in K:\n            su = (su + k) % M\n            v = get(su+1)\n            w = lower_bound(v)-1\n            if w == M:\n                w = 0\n            ans = max(ans, (su - w) % M)\n            add(su+1, 1)\n        print(ans)\nmain()\n\n"
  },
  {
    "language": "Python",
    "code": "# AOJ 0254: Scone\n# Python3 2018.6.25 bal4u\n\ns = [0 for i in range(30001)]\nwhile True:\n\tn, m = map(int, input().split())\n\tif n == 0: break\n\tf = [-1 for i in range(m)]\n\tsum, nmax, ans = 0, 0, 0\n\ta = list(map(int, input().split()))\n\tfor i in range(n):\n\t\tsum += a[i]\n\t\ta[i] %= m\n\t\tif a[i] > nmax: nmax = a[i]\n\t\tif a[i] == m-1: ans = a[i]\n\t\ts[i+1] = s[i] + a[i]\n\t\tif s[i+1] >= m: s[i+1] -= m\n\t\tf[s[i+1]] = i+1\n\tif ans == 0:\n\t\tif nmax == 0: ans = 0\n\t\telif sum < m: ans = sum\n\t\telse:\n\t\t\tdone = False\n\t\t\tfor ans in range(m-1, nmax-1, -1):\n\t\t\t\tfor i in range(n+1):\n\t\t\t\t\tx = s[i]+ans\n\t\t\t\t\tif x >= m: x -= m\n\t\t\t\t\tif f[x] >= i:\n\t\t\t\t\t\tdone = True\n\t\t\t\t\t\tbreak\n\t\t\t\tif done: break\n\tprint(ans)\n\n"
  }
]