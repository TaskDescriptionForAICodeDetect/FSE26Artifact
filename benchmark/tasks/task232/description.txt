Write a program that calculates the minimum number of votes required to win a presidential election with a hierarchical system. The election has multiple stages, with two candidates competing. In the first stage, voters cast their votes in their electoral districts, and the candidate with a majority wins. Each subsequent stage consists of multiple sub-districts from the previous stage, and the candidate who wins the majority of sub-districts wins the stage. Given the structure of the districts and the number of eligible voters, determine the minimum votes needed to ensure a win for each provided dataset.