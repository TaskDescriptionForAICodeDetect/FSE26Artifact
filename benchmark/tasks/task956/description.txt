There is a string S of length N consisting of characters 0 and 1. You will perform M operations where for each i (1 to M), you can arbitrarily permute the characters within the substring of S starting at the l_i-th character and extending through the r_i-th character. The sequence l_i is non-decreasing. The task is to determine how many distinct values can be formed from S after the M operations, modulo 1000000007.