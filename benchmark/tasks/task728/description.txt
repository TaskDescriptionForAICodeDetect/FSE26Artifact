Snuke's mother gave him an undirected graph with N vertices (numbered 0 to N-1) and M edges. After breaking this graph, Snuke remembers Q clues about the graph structure. Each clue, represented by integers A_i, B_i, and C_i, indicates the existence of paths between vertices A_i and B_i: if C_i is 0, there was exactly one simple path; if C_i is 1, there were two or more simple paths. Your task is to determine whether a graph exists that satisfies all Q clues.