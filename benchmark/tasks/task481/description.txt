The nationwide programming championship has begun, with a regional tournament where 2n teams compete in a knockout format. Each team is assigned a number from 0 to 2n-1, and the ranking determined by the outcomes of the matches can lead to situations where teams have the same ranking in the given table. Your task is to calculate the minimum number of changes needed to correct the ranking received from the manager into a consistent ranking. A consistent ranking is one that could occur based on the outcomes of the tournament. The input consists of two integers n (the number of pairs of teams) and m (the number of segments of consecutive ranks) followed by a series of a and b values that describe the received ranks. The output should be the minimum number of teams whose ranks need to be changed to form a consistent ranking.