In the arcade game RPS Battle, a player competes against a machine in N rounds of Rock Paper Scissors. The player's score for winning is determined by the hand used: R points for Rock, S points for Scissors, and P points for Paper. The player cannot repeat the hand used in the (i-K)-th round for the i-th round, but can use any hand in the first K rounds. The machine's moves are predetermined and given as a string. The goal is to compute the maximum total score the player can achieve by strategically selecting hands in response to the machine's moves.