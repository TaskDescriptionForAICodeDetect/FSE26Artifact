[
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define range(i,a,b) for(int i = (a); i < (b); i++)\n#define rep(i,b) for(int i = 0; i < (b); i++)\n#define all(a) (a).begin(), (a).end()\n#define debug(x) cout << \"debug \" << x << endl;\nconst int INF = (1 << 29);\nusing namespace std;\n\nint dis(int a, int b){\n    return (a - b) * (a - b);\n}\n\nint solve(int c[20], int x[20001], int n, int m){\n    int dp[256][2];\n    rep(i,256) rep(j,2) dp[i][j] = INF;\n    dp[128][0] = 0;\n\n    rep(j,n){\n        rep(i,256){\n            rep(k,m){\n                int temp = i + c[k];\n                if(temp < 0) temp = 0;\n                else if(temp > 255) temp = 255;\n                dp[temp][(j + 1) % 2] = min(dp[temp][(j + 1) % 2], dp[i][j % 2] + dis(temp, x[j]));\n                /*\n                if(dp[i][(j + 1) % 2] < 0){\n                    cout << i << ' ' << j << ' ' << k << endl;\n                    cout << dp[i][(j + 1) % 2] << endl;\n                    cout << dp[temp][j % 2] + dis(i, x[j]) << endl;\n                }\n                */\n            }\n        }\n        rep(i,256) dp[i][j % 2] = INF;\n    }\n    int ret = INF;\n    rep(i,256){\n        ret = min(ret, dp[i][n % 2]);\n    }\n    return ret;\n}\n\nint main(){\n    int n, m;\n    while(cin >> n >> m,n||m){\n        int c[20], x[20001];\n        rep(i,m) cin >> c[i];\n        rep(i,n) cin >> x[i];\n        cout << solve(c,x,n,m) << endl;\n    }\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n#define MAX 1000000000;\n\nint i,j,k,n,m,c[17],N[20001],dp[256][20001],x;\n\nint main(){\n  \n  while(1){\n    cin >> n >> m;\n    if( n == 0 && m ==  0 ) break;\n  \n    for( i = 0; i < m; i++ ) cin >> c[i];\n    for( i = 0; i < n; i++ ) cin >> N[i];\n    \n    for( i = 0; i < 256; i++ ){\n      for( j = 0; j <= n; j++ ){\n\tdp[i][j] = MAX;\n      }\n    }\n    \n    dp[128][0] = 0;\n    //  int data[20000];\n      for( j = 0; j < n; j++ ){\n    for( i = 0; i <= 255; i++ ){\n\t//\tint Min = 100000;\n\tfor( k = 0; k < m; k++ ){\n\t  x = ( i + c[k] );\n\t  if( x < 0 ) x = 0;\n\t  if( x > 255 ) x = 255;\n\t  //dp[x][0] = 0;\n\t  dp[x][j+1] = min( dp[x][j+1], dp[i][j] + (x - N[j]) *( x - N[j] ) );\n\n\t  /*  if( Min > ( x - N[j] ) * ( x - N[j] ) ){\n\t    Min = ( x - N[j] ) * ( x - N[j] );\n\t    cout << \"Min\" << \" \" << Min << endl;\n\t    data[j] = x;\n\t  }\n\t  */\n\t}\n      }\n    }\n    \n      /* for( i = 0; i < 256; i++ ){\n      cout << \"i\" << \" \" << i << \" \";\n      for( j = 0; j <= n; j++ ){\n\tcout <<  dp[i][j] << \" \";\n      }\n      cout << endl;\n      }*/\n    int Min = 1000000000;\n\n     for( i = 0; i < 256; i++ ){\n       if ( Min > dp[i][n] ){\n\t Min = dp[i][n];\n\t }\n     }\n     cout << Min << endl;\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n\nusing namespace std;\n\n//typedef long long lli;\n\nconst int INF = 1<<30;\n\nint n, m, data[16], dp[2][256], in;\n\nmain(){\n  while(cin >> n >> m && (n|m)){\n    for(int i=0;i<m;i++) cin >> data[i];\n    fill(dp[0], dp[2], INF);\n    dp[0][128] = 0;\n    for(int i=0;i<n;i++){\n      for(int j=0;j<256;j++) dp[(i+1)%2][j] = INF;\n      cin >> in;\n      for(int j=0;j<256;j++){\n        if(dp[i%2][j] == INF) continue;\n        for(int k=0;k<m;k++){\n          int next = j + data[k];\n          if(next < 0) next = 0;\n          if(next > 255) next = 255;\n          dp[(i+1)%2][next] = min(dp[(i+1)%2][next], abs(in-(next)) * abs(in-(next)) + dp[i%2][j]);\n        }\n      }\n    }\n    int ans = INF;\n    for(int i=0;i<256;i++) ans = min(ans, dp[n%2][i]);\n    cout << ans << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <map>\n#include <set>\n#include <list>\n#include <cmath>\n#include <queue>\n#include <stack>\n#include <cstdio>\n#include <string>\n#include <vector>\n#include <complex>\n#include <cstdlib>\n#include <cstring>\n#include <numeric>\n#include <sstream>\n#include <iostream>\n#include <algorithm>\n#include <functional>\n\n#define mp       make_pair\n#define pb       push_back\n#define all(x)   (x).begin(),(x).end()\n#define rep(i,n) for(int i=0;i<(n);i++)\n#define repi(i,a,b) for(int i = (a); i < (b); i++)\n\nusing namespace std;\n\ntypedef    long long          ll;\ntypedef    unsigned long long ull;\ntypedef    vector<bool>       vb;\ntypedef    vector<int>        vi;\ntypedef    vector<vb>         vvb;\ntypedef    vector<vi>         vvi;\ntypedef    pair<int,int>      pii;\n\nconst int INF=1<<29;\nconst double EPS=1e-9;\n\nconst int dx[]={1,0,-1,0},dy[]={0,-1,0,1};\nint dp[20010][300];//\nint C[20];\nint X[20010];\nint n,m;\n\n\nint main(){\n\twhile(cin>>n>>m,n||m){\n\t\tmemset(dp, 0, sizeof(dp));\n\t\tmemset(C, 0, sizeof(C));\n\t\tmemset(X, 0, sizeof(X));\n\t\tfor(int i =0;i < m;i++){\n\t\t\tcin>>C[i];\n\t\t\t//cout<<C[i]<<endl;\n\t\t}\n\t\tfor(int i =0;i < n;i++){\n\t\t\tcin>>X[i];\n\t\t\t//cout <<X[i]<<endl;\n\t\t}\n\t\tmemset(dp, INF, sizeof(dp));\n\t\trep(i, n+1)rep(j,256)dp[i][j] =INF;\n\t\tdp[0][128] = 0;\n\t\tfor(int i =0;i < n;i++){\n\t\t\tfor(int j =0;j < m;j++){\n\t\t\t\tfor(int k =0;k <=255;k++){\n\t\t\t\t\tif(dp[i][k]==INF)continue;\n\t\t\t\t\tint val =k +C[j];\n\t\t\t\t\tif(val >255)val =255;\n\t\t\t\t\tif(val <0)val = 0;\n\t\t\t\t\tdp[i+1][val] =min(dp[i+1][val],dp[i][k]+(X[i]-val)*(X[i]-val));\n\t\t\t\t\t//cout <<(X[i]-val)*(X[i]-val)<<endl;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = INF;\n\t\tfor(int i =0;i <=255;i++){\n\t\t\tans =min(ans,dp[n][i]);\n\t\t}\n\t\tcout <<ans<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\nusing namespace std;\n\ntypedef struct{\n  int minv;\n  int prevv;\n}Pair;\n\nint main(){\n  int n,m;\n  Pair pair={1<<30,0};\n    while(cin>>n>>m,n+m){\n    vector<int> cn(m);\n    vector<int> xn(n);\n    for(int i=0;i<m;i++) cin>>cn[i];\n    for(int i=0;i<n;i++) cin>>xn[i];\n    vector<vector<Pair> > dp(n+1,vector<Pair>(m,pair));\n    for(int i=0;i<m;i++){\n      dp[0][i].prevv=128;\n      dp[0][i].minv=0;\n    }\n    for(int i=0;i<n;i++){\n      for(int j=0;j<m;j++){\n\tPair p=dp[i][j];\n\tfor(int k=0;k<m;k++){\n\t  int calc=p.prevv+cn[k];\n\t  if(calc < 0) calc = 0;\n\t  if(calc > 255) calc= 255;\n\t  int t=(xn[i]-calc)*(xn[i]-calc)+p.minv;\n\t  if(t < dp[i+1][k].minv){\n\t    dp[i+1][k].minv=t;\n\t    dp[i+1][k].prevv=calc;\n\t  }\n\t}\n      }\n    }\n    int _min=1<<30;\n    for(int i=0;i<m;i++){\n      _min=min(_min,dp[n][i].minv);\n    }\n    cout<<_min<<endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\nusing namespace std;\nint main(){\n  int N, M;\n  while(cin >> N >> M, N){\n    long long int C[M];\n    long long int INF = 10000000000LL;\n    for(int i = 0; i < M; ++i)\n      cin >> C[i];\n    sort(C,C+M);\n    long long int x[N];\n    for(int i = 0; i < N; ++i)\n      cin >> x[i];\n    long long int dp[N][256];\n    for(int i = 0; i < N; ++i){\n      fill(dp[i],dp[i]+256,INF);\n    }\n    for(int i = 0; i < M; ++i){\n      int t = max(min(255,128+(int)C[i]),0);\n      dp[0][t] = (x[0]-t)*(x[0]-t);\n    }\n    for(int i = 1; i < N; ++i){\n      for(int j = 0; j < 256; ++j){\n\tif(dp[i-1][j] == INF) continue;\n\tfor(int k = 0; k < M; ++k){\n\t  int t = max(min(255,j+(int)C[k]),0);\n\t  dp[i][t] = min(dp[i][t], dp[i-1][j] + (x[i]-t)*(x[i]-t));\n\t  if(j + C[k] > 255) break;\n\t}\n      }\n    }\n    long long int ans = INF;\n    for(int i = 0; i < 256; ++i){\n      ans = min(ans, dp[N-1][i]);\n    }\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <climits>\n#include <algorithm>\nusing namespace std;\n\nint main(){\n\tint C[16];\n\tint n,m;\n\twhile(cin >> n >> m){\n\t\tfor(int i = 0 ; i < m ; i++) cin >> C[i];\n\t\tunsigned int dp[2][256];\n\t\tfor(int i = 0 ; i < 2 ; i++)\n\t\t\tfor(int j = 0 ; j < 256 ; j++)\n\t\t\t\tdp[i][j] = INT_MAX;\n\t\tdp[0][128] = 0;\n\t\t\n\t\tfor(int j = 1 ; j <= n ; j++){\n\t\t\tint x; cin >> x;\n\t\t\tfor(int i = 0 ; i < 256 ; i++) dp[j&1][i] = INT_MAX;\n\t\t\tfor(int i = 0 ; i < 256 ; i++){\n\t\t\t\tfor(int k = 0 ; k < m ; k++){\n\t\t\t\t\tint y = i + C[k];\n\t\t\t\t\ty = min(y,255); y = max(0,y);\n\t\t\t\t\tdp[j&1][y] = min(dp[j&1][y],dp[j&1^1][i] + (y-x)*(y-x) );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << *min_element(dp[n&1],dp[n&1]+256) << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n\nusing namespace std;\n\nconst int INF = 1<<29;\n\nint main(){\n  int n, m;\n  while(cin >> n >> m && (n|m)){\n    vector<int> C(m);\n    for(int i=0; i<m; i++) cin >> C[i];\n    \n    vector<int> dp(256, INF);\n    dp[128] = 0;\n    while(n--) {\n      vector<int> next(256, INF);\n      int in; cin >> in;\n      for(int i=0; i<256; i++){\n\tif(dp[i] < INF) {\n\t  for(int j=0; j<m; j++){\n\t    int conv = i + C[j];\n\t    if(conv < 0)   { conv = 0;   }\n\t    if(conv > 255) { conv = 255; }\n\t    int diff = (in - conv) * (in - conv);\n\t    next[conv] = min(next[conv], dp[i] + diff );\n\t  }\n\t}\n      }\n      dp = next;\n    }\n    \n    cout << *min_element(dp.begin(), dp.end()) << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define fi first\n#define se second\n#define repl(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define rep(i,n) repl(i,0,n)\n#define each(itr,v) for(auto itr:v)\n#define pb(s) push_back(s)\n#define maxch(x,y) x=max(x,y)\n#define minch(x,y) x=min(x,y)\n#define mp(a,b) make_pair(a,b)\n#define all(x) (x).begin(),(x).end()\n#define dbg(x) cout<<#x\"=\"<<x<<endl\n#define maxch(x,y) x=max(x,y)\n#define minch(x,y) x=min(x,y)\n#define uni(x) x.erase(unique(all(x)),x.end())\ntemplate<class T,class U>inline void chmin(T &t,U f){if(t>f)t=f;}\ntemplate<class T,class U>inline void chmax(T &t,U f){if(t<f)t=f;}\n#define MAX(a, b) ((a) > (b) ? (a) : (b))\n#define MIN(a, b) ((a) > (b) ? (b) : (a))\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int, int> P;\ntypedef pair<P, int> PPI;\n\n#define INF INT_MAX/3\n#define MAX_N 1000\nll n,m;\nll dp[200001][256];\nll c[16],x[20000];\nll rec(ll p,ll y){\n  if(dp[p][y] >= 0) return dp[p][y];\n\n  if(p == n) return 0;\n\n  long ret=LONG_MAX;\n    for(ll i=0; i<m; ++i){ //??????????????????????????¨????????????????????°????????????\n        ll ny = y+c[i];\n        if(ny<0) ny=0;\n        else if(ny>255) ny=255;\n\n        ret = MIN(ret, rec(p+1,ny)+(ny-x[p])*(ny-x[p]));\n    }\n    return dp[p][y]=ret;\n}\nvoid solve(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n  while(1){\n    cin>>n>>m;\n    if(n==0) break;\n    rep(i,m) cin>>c[i];\n    rep(i,n) cin>>x[i];\n    memset(dp,-1,sizeof(dp));\n    cout<<rec(0,128)<<endl;\n  }\n\n}\nint main(){\n  solve();\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <utility>\n#include <cstring>\n#include <cmath>\n#include <queue>\nusing namespace std;\n\n#define rep(i,n) for(int i=0; i<n; i++)\n#define FOR(i,s,n) for(int i=s; i<n; i++)\n#define ALL(x) x.begin(), x.end()\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> pii;\ntypedef vector<int> vi;\n\nstruct node {\n\tll cost;\n\tint ind;\n\tll val;\n\tnode(ll c, int i, int v) {\n\t\tcost = c;\n\t\tind = i;\n\t\tval = v;\n\t}\n};\n\nbool checked[20001][256];\n\nbool operator<(const node& lhs, const node& rhs) {\n\tif( lhs.cost == rhs.cost ) {\n\t\treturn lhs.ind < rhs.ind;\n\t}\n\treturn lhs.cost > rhs.cost;\n}\n\nint main() {\n\tint n, m;\n\twhile(cin >> n >> m, n || m) {\n\t\tmemset(checked, 0, sizeof(checked));\n\t\tvector<ll> c(m), x(n);\n\t\trep(i,m) cin >> c[i];\n\t\tsort(c.begin(), c.end());\n\t\trep(i,n) cin >> x[i];\n\t\tpriority_queue<node> que;\n\t\tque.push(node(0, 0, 128));\n\t\twhile(!que.empty()) {\n\t\t\tnode nd = que.top();\n\t\t\tque.pop();\n\t\t\tif( nd.ind == n ) {\n\t\t\t\tcout << nd.cost << endl;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif( checked[nd.ind][nd.val] ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tchecked[nd.ind][nd.val] = true;\n\t\t\trep(i, m) {\n\t\t\t\tll nval = min(max(nd.val+c[i], 0LL), 255LL);\n\t\t\t\tif( !checked[nd.ind+1][nval] ) {\n\t\t\t\t\tque.push( node(nd.cost+(x[nd.ind]-nval)*(x[nd.ind]-nval), nd.ind+1, nval) );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<math.h>\n#include<cmath>\n#include<bitset>\n#include<stdio.h>\n#include<string>\n#include<map>\n#include<algorithm>\n#include<vector>\n#include<iostream>\n#include<utility>\nusing namespace std;\nint main(){\n  int INF=2000000000;\n  int i,j,k,n,m,c[20],x[20010],dp[20010][260];\n  while(1){\n  scanf(\"%d %d\\n\",&n,&m);\n    if(n==0 && m==0){\n      break;\n    }\n  for(i=0;i<m;i++){\n    scanf(\"%d\\n\",&c[i]);\n  }\n  for(i=0;i<n;i++){\n    scanf(\"%d\\n\",&x[i]);\n  }\n  for(i=0;i<=n;i++){\n    for(j=0;j<=255;j++){\n      dp[i][j]=INF;\n    }\n  }\n  dp[0][128]=0;\n  for(i=0;i<n;i++){\n    for(j=0;j<=255;j++){\n      for(k=0;k<m;k++){\n        int a;\n        if(j+c[k]<0){\n          a=0;\n        }\n        else if(j+c[k]>255){\n          a=255;\n        }\n        else{\n          a=j+c[k];\n        }\n        dp[i+1][a]=min(dp[i+1][a],dp[i][j]+(x[i]-a)*(x[i]-a));\n      }\n    }\n  }\n  int ans=2000000000;\n  for(i=0;i<=255;i++){\n    ans=min(ans,dp[n][i]);\n  }\n  printf(\"%d\\n\",ans);\n  }\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define MAX_M 16\n#define MAX_N 20000\n#define INF LLONG_MAX\n\ntypedef long long ll;\n\nint N,M,C[MAX_M],x[MAX_N];\n\nint main(){\n  while(cin >> N >> M , (N | M)){\n    for(int i = 0 ; i < M ; i++){\n      cin >> C[i];\n    }\n \n    for(int i = 0 ; i < N ; i++){\n      cin >> x[i];\n    }\n\n    ll min = INF;\n    for(int i = 0 ; i <= 255 ; i++){\n      ll value = 0, ii = i; \n      for(int j = 0 ; j < N ; j++){\n        ll min_y = INF, next;\n        for(int k = 0 ; k < M ; k++){\n          int cmp = abs(x[j] - (ii + C[k]));\n\n          if(cmp < 0){\n            cmp = 0;\n          }else if(cmp > 255){\n            cmp = 255;\n          }\n\n          if(cmp < min_y){\n            min_y = cmp;\n            next = ii + C[k];\n          }\n        }\n        value += min_y*min_y;\n        ii = next;\n      }\n      min = std::min(min,value);\n    }\n    cout << min << endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <bits/stdc++.h>\n\nusing namespace std;\nusing ll=long long;\nusing ld=long double;\nusing P=pair<ll,ll>;\n#define FOR(i,n,m) for(ll i=n; i<(ll)m;i++)\n#define FORr(i,n,m) for(ll i=n; i>(ll)m; i--)\n#define FORm(i,m) for(auto i=m.begin();i!=m.end();i++)\n#define VEC2(x,a,b) vector<vector<ll>> x = vector<vector<ll>>(a,vector<ll>(b,0))\n#define sortAl(v) sort(v.begin(),v.end())\n#define sortAlr(v) sort(v.begin(),v.end()); reverse(v.begin(),v.end())\n#define cinv(v,n,m) FOR(i,n,m) cin>>v.at(i)\n#define coutv(v,n,m) FOR(i,n,m) cout<<v.at(i) <<\" \"; cout<<endl\n#define cout(n) cout<<fixed<<setprecision(n)\nint main(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n\n  ll n,m;\n  cin>>n>>m;\n  while(n!=0){\n    //dp初期化\n    VEC2(dp,n+1,256);\n    FOR(i,0,n+1) FOR(j,0,256) dp[i][j] = 1e12;\n    dp[0][128] = 0;\n\n    vector<ll> code(m);\n    vector<ll> pls(n);\n    cinv(code,0,m);\n    cinv(pls,0,n);\n    FOR(i,0,n){\n      FOR(j,0,256){\n        FOR(k,0,code.size()){\n          ll pos = j + code[k];\n          if(pos<0) pos=0;\n          if(pos>255) pos=255;\n          ll x = dp[i][j] + ( pls[i] - pos )*( pls[i] - pos );\n          dp[i+1][pos] = min(dp[i+1][pos], x);\n\n        }\n      //cout<<\"i = \"<< i <<\"j = \"<<j-255 <<\" \" <<dp[i][j]<<endl;\n      }\n    }\n    ll res = 1e15;\n    FOR(i,0,256){\n      res = min(dp[n][i], res);\n    }\n    cout<<res<<endl;\n    cin>>n>>m;\n  }\n\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define INF (1 << 25)\n\nint dp[20001][256];\n\n\nint main()\n{\n  int N, M;\n  while(cin >> N >> M, N || M){\n    int C[16], x[20000];\n    for(int i = 0; i < M; i++) cin >> C[i];\n    for(int i = 0; i < N; i++) cin >> x[i];\n    for(int i = 0; i < 20001; i++) for(int j = 0; j < 256; j++) dp[i][j] = INF;\n    dp[0][128] = 0;\n    for(int i = 0; i < N; i++){\n      for(int j = 0; j < 256; j++){\n\tif(dp[i][j] == INF) continue;\n\tfor(int k = 0; k < M; k++){\n\t  int y = (j + C[k] < 0 ? 0 : (j + C[k] < 255 ? j + C[k] : 255));\n\t  int sqsum = (x[i] - y)*(x[i] - y);\n\t  dp[i+1][y] = min(dp[i+1][y], dp[i][j] + sqsum);\t  \n\t}\n      }\n    }\n    cout << *min_element(dp[N], dp[N] + 256) << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <iomanip>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <numeric>\n#include <bitset>\n#include <cmath>\n\nstatic const int MOD = 1000000007;\nusing ll = long long;\nusing u32 = uint32_t;\nusing namespace std;\n\ntemplate<class T> constexpr T INF = ::numeric_limits<T>::max() / 32 * 15 + 208;\n\nint main() {\n    int n, m;\n    vector<vector<int>> dp(2, vector<int>(256, INF<int>));\n    while(cin >> n >> m, n){\n        vector<int> c(m), x(n);\n        for (auto &&i : c) scanf(\"%d\", &i);\n        for (auto &&i : x) scanf(\"%d\", &i);\n        for (int i = 0; i < 2; ++i) {\n            fill(dp[i].begin(),dp[i].end(), INF<int>);\n        }\n        dp[0][128] = 0;\n        for (int i = 0; i < n; ++i) {\n            int now = i&1, nxt = now^1;\n            fill(dp[nxt].begin(),dp[nxt].end(), INF<int>);\n            for (int j = 0; j < 256; ++j) {\n                for (int k = 0; k < m; ++k) {\n                    int to = max(0, min(255,j+c[k]));\n                    dp[nxt][to] = min(dp[nxt][to], dp[now][j]+(x[i]-to)*(x[i]-to));\n                }\n            }\n        }\n        cout << *min_element(dp[n&1].begin(),dp[n&1].end()) << \"\\n\";\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<algorithm>\nusing namespace std;\nint dp[2][256];\nint c[16];\nint d[20000];\nint M(int a){return a*a;}\nint main(){\n\tint inf=999999999;\n\tint a,b;\n\twhile(scanf(\"%d%d\",&a,&b),a){\n\t\tfor(int i=0;i<b;i++)scanf(\"%d\",c+i);\n\t\tfor(int i=0;i<a;i++)scanf(\"%d\",d+i);\n\t\tfor(int i=0;i<2;i++)for(int j=0;j<256;j++)dp[i][j]=inf;\n\t\tdp[0][128]=0;\n\t\tfor(int i=0;i<a;i++){\n\t\t\tfor(int j=0;j<256;j++)dp[(i+1)%2][j]=inf;\n\t\t\tfor(int j=0;j<256;j++){\n\t\t\t\tif(dp[i&1][j]==inf)continue;\n\t\t\t\tfor(int k=0;k<b;k++)dp[!(i&1)][max(min(j+c[k],255),0)]=min(dp[!(i&1)][max(min(j+c[k],255),0)],dp[i&1][j]+M(d[i]-(max(min(j+c[k],255),0))));\n\t\t\t}\n\t\t}\n\t\tint ret=999999999;\n\t\tfor(int i=0;i<256;i++)ret=min(ret,dp[a&1][i]);printf(\"%d\\n\",ret);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <string.h>\n#define min(a,b) a > b ? b : a\n\nint main(void){\n\tint n, m, i, j, c[16], x, t;\n\tlong long int f[2][256], k;\n\twhile(1){\n\t\tscanf(\"%d%d\",&n,&m);\n\t\tif(n == 0 && m == 0)\n\t\t\tbreak;\n\t\tfor(i = 0;i < m;i++)\n\t\t\tscanf(\"%d\",&c[i]);\n\t\tmemset(f,-1,sizeof(f));\n\t\tf[0][128] = 0;\n\t\tfor(i = 0;i < n;i++){\n\t\t\tscanf(\"%d\",&x);\n\t\t\tfor(k = 0;k < 256;k++){ // 現在位置\n\t\t\t\tif(f[i % 2][k] != -1){\n\t\t\t\t\tfor(j = 0;j < m;j++){\n\t\t\t\t\t\tt = k + c[j];\n\t\t\t\t\t\tif(t < 0)\n\t\t\t\t\t\t\tt = 0;\n\t\t\t\t\t\telse if(t > 255)\n\t\t\t\t\t\t\tt = 255;\n\t\t\t\t\t\tif(f[(i + 1) % 2][t] == -1 || f[(i + 1) % 2][t] > f[i % 2][k] + (x - t) * (x - t))\n\t\t\t\t\t\t\tf[(i + 1) % 2][t] = f[i % 2][k] + (x - t) * (x - t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(j = 0;j < 256;j++)\n\t\t\t\tf[i % 2][j] = -1;\n\t\t}\n\t\tk = 0x7FFFFFFF;\n\t\tfor(i = 0;i < 256;i++){\n\t\t\tif(f[n % 2][i] != -1)\n\t\t\t\tk = min(f[n % 2][i],k);\n\t\t}\n\t\tprintf(\"%d\\n\",k);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <cstdio>\n#include <string>\n#include <cstring>\n#include <deque>\n#include <list>\n#include <queue>\n#include <stack>\n#include <vector>\n#include <utility>\n#include <algorithm>\n#include <map>\n#include <set>\n#include <complex>\n#include <cmath>\n#include <limits>\n#include <cfloat>\n#include <climits>\n#include <ctime>\n#include <cassert>\nusing namespace std;\n\n#define rep(i,a,n) for(int (i)=(a); (i)<(n); (i)++)\n#define repq(i,a,n) for(int (i)=(a); (i)<=(n); (i)++)\n#define repr(i,a,n) for(int (i)=(a); (i)>=(n); (i)--)\n#define all(v) begin(v), end(v)\n#define pb(a) push_back(a)\n#define fr first\n#define sc second\n#define INF 2000000000\n#define int long long int\n\n#define X real()\n#define Y imag()\n#define EPS (1e-10)\n#define EQ(a,b) (abs((a) - (b)) < EPS)\n#define EQV(a,b) ( EQ((a).X, (b).X) && EQ((a).Y, (b).Y) )\n#define LE(n, m) ((n) < (m) + EPS)\n#define LEQ(n, m) ((n) <= (m) + EPS)\n#define GE(n, m) ((n) + EPS > (m))\n#define GEQ(n, m) ((n) + EPS >= (m))\n\ntypedef vector<int> VI;\ntypedef vector<VI> MAT;\ntypedef pair<int, int> pii;\ntypedef long long ll;\n\ntypedef complex<double> P;\ntypedef pair<P, P> L;\ntypedef pair<P, double> C;\n\nint dx[]={1, -1, 0, 0};\nint dy[]={0, 0, 1, -1};\nint const MOD = 1000000007;\nll mod_pow(ll x, ll n) {return (!n)?1:(mod_pow((x*x)%MOD,n/2)*((n&1)?x:1))%MOD;}\nint madd(int a, int b) {return (a + b) % MOD;}\nint msub(int a, int b) {return (a - b + MOD) % MOD;}\nint mmul(int a, int b) {return (a * b) % MOD;}\nint minv(int a) {return mod_pow(a, MOD-2);}\nint mdiv(int a, int b) {return mmul(a, minv(b));}\n\nnamespace std {\n    bool operator<(const P& a, const P& b) {\n        return a.X != b.X ? a.X < b.X : a.Y < b.Y;\n    }\n}\n\nint calc(int a, int b) {\n    int d = a - b;\n    return d * d;\n}\n\nint n, m;\nint c[20], x[20010], y[20010];\nint dp[20010][300];\nsigned main() {\n    while(cin >> n >> m, n || m) {\n        repq(i,1,m) cin >> c[i];\n        repq(i,1,n) cin >> x[i];\n        rep(i,0,20010) rep(j,0,300) dp[i][j] = INF;\n        dp[0][128] = 0;\n\n        int ans = INF;\n        repq(i,1,n) repq(j,0,255) {\n            repq(k,1,m) {\n                int y = min((ll)255, max((ll)0, j + c[k]));\n                dp[i][y] = min(dp[i][y], dp[i-1][j] + calc(x[i], y));\n                if(i == n) ans = min(ans, dp[i][y]);\n            }\n        }\n        cout << ans << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdlib>\n#include <cstdio>\n#include <vector>\n#include <algorithm>\n#include <set>\n#include <cstring>\n#include <cmath>\n\n\n#define rep(i, n) for (int i = 0; i < (int)(n); i++)\n#define REP(i, k, n) for (int i = (int)(k); i < (int)(n); i++)\n#define rrep(i, n) for (int i = (int)(n)-1; i >= 0; i--)\n#define rREP(i, k, n) for (int i = (int)(n)-1; i >= k; i--)\n\n#define debug(x) cerr<<#x<<\": \"<<x<<endl;\n\n#define fi first\n#define se second\n\n#define vi vector<int>\n#define pb push_back\n#define mp make_pair\n\n#define pcnt __builtin_popcount\n\ntypedef long long ll;\nconst ll inf = 900900900100100100;\nconst int MOD = (int)1e9 + 7;\nconst double EPS = 1e-9;\nconst int MID=255;\nusing namespace std;\n\nint main(){\n    cin.tie(0);\n    ios_base::sync_with_stdio(false);\n    int n,m;\n    while(cin >> n >> m,n){\n        vector<int> c(m);\n        rep(i,m) cin >> c[i];\n        vector<int> x(n);\n        rep(i,n) cin >> x[i];\n        vector<vector<ll> > dp(20100,vector<ll> (MID*3,inf));\n        dp[0][128+MID] = 0;\n        rep(i,n){\n            REP(j,-MID,MID+1){\n                rep(k,m){\n                    int nj;\n                    if(j+c[k]>255) nj=255;\n                    else if(j+c[k]<-255) nj=-255;\n                    else nj = j+c[k];\n                    dp[i+1][nj+MID]=min<ll>(dp[i+1][nj+MID],dp[i][j+MID]+(nj-x[i])*(nj-x[i]));\n                }\n            }\n        }\n        ll ans = inf;\n        REP(i,-MID,MID+1) ans = min<ll>(dp[n][i+MID],ans);\n        cout << ans << endl;\n    }\n\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <vector>\n#include <set>\n#include <string>\n#include <queue>\n#include <algorithm>\n#include <map>\n#include <cmath>\n#include <numeric>\n#include <list>\n#include <stack>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <tuple>\n\n#define rep(i, n) for (int i = 0; i < (n); i++)\n#define rep1(i, n) for (int i = 1; i <= (n); i++)\n#define show(a, n) rep(i,n) {cout<<a[i]<<' ';} cout<<endl;\n\nusing namespace std;\ntypedef vector<int> vi;\ntypedef pair<int, int> pii;\ntypedef long long ll;\ntypedef vector<ll> vll;\ntypedef pair<long long, long long> pll;\n\nconst int INF = 1 << 30;\nconst long long INFL = 1LL << 62;\nconst int MOD = 1000000007;\nconst int MAX = 100000;\nconst int N = 100010;\n\nll calc_diff(vll& c, vll& x) {\n\tint n = x.size();\n\tint m = c.size();\n\tvector<vll> dp(n+1, vll(256, INFL));\n\tdp[0][128] = 0;\n\trep(i, n) rep(j, 256) rep(k, m) {\n\t\tint l = j + c[k];\n\t\tif(l < 0) l = 0;\n\t\telse if(l > 255) l = 255;\n\t\tdp[i+1][l] = min(dp[i][j] + (l-x[i])*(l-x[i]), dp[i+1][l]);\n\t}\n\tll ret = INFL;\n\trep(j, 256) ret = min(dp[n][j], ret);\n\treturn ret;\n}\n\nint main() {\n//\tcout << fixed << setprecision(15);\n\tvll ans, c, x;\n\twhile(true) {\n\t\tint n, m;\n\t\tcin >> n >> m;\n\t\tif(n == 0 && m == 0) break;\n\t\tc = vll(m);\n\t\trep(i, m) cin >> c[i];\n\t\tx = vll(n);\n\t\trep(i, n) cin >> x[i];\n\t\tans.push_back(calc_diff(c, x));\n\t}\n\tfor(auto i : ans) cout << i << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n#define INF 10000000\nusing namespace std;\nint main(){\n\tint n,m,x,cb[20];//now,now\n\tint temp;\n\twhile(cin>>n>>m,n||m){\n\t\tvector<int> input;\n\t\tvector<int> dp[256];\n\t\tfor(int i=0;i<m;i++){\n\t\t\tcin>>cb[i];\n\t\t}\n\t\tfor(int i=0;i<n;i++){\n\t\t\tcin>>x;\n\t\t\tinput.push_back(x);\n\t\t}\n\t\tfor(int i=0;i<=n;i++)\n\t\tfor(int j=0;j<=255;j++)\n\t\tdp[j].push_back(INF);\n\t\tdp[128][0]=0;\n\t\tfor(int i=0;i<n;i++)\n\t\tfor(int j=0;j<=255;j++){\n\t\t\t\n\t\t\t\tif(dp[j][i]!=INF){\n\t\t\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\t\t\ttemp=j+cb[k];\n\t\t\t\t\t\tif(temp>255)\n\t\t\t\t\t\ttemp=255;\n\t\t\t\t\t\telse if(temp<0)\n\t\t\t\t\t\ttemp=0;\n\t\t\t\t\t\tdp[temp][i+1]=min(dp[temp][i+1],dp[j][i]+(temp-input[i])*(temp-input[i]));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t}\n\t\tint ans=INF;\n\t\tfor(int i=0;i<=255;i++){\n\t\tif(ans>dp[i][n])\n\t\tans=dp[i][n];\n\t\t}\n\t\tcout<<ans<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <cmath>\n#include <cstdio>\n#include <functional>\n#include <numeric>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <utility>\n#include <sstream>\n#include <complex>\n\nusing namespace std;\n\n#define FOR(i,a,b) for(long long i=(a);i<(b);i++)\n#define REP(i,N) for(long long i=0;i<(N);i++)\n#define ALL(s) (s).begin(),(s).end()\n#define fi first\n#define se second\n\n#define PI acos(-1.0)\n#define INF 1000000007\n#define EPS 1e-10\n#define MAX_N 20000\n#define MAX_M 16\n\ntypedef long long ll;\ntypedef pair<ll, ll> P;\ntypedef pair<double, double> PD;\ntypedef pair<string, ll> PS;\ntypedef vector<ll> V;\ntypedef pair<P, char> PC;\n\nint n, m;\nint c[MAX_M + 1], x[MAX_N + 1];\nint dp[MAX_N + 1][256 + 1];\n\nint main(){\n\twhile (cin >> n >> m&&n + m){\n\t\tREP(i, MAX_N){\n\t\t\tREP(j, 256 + 1){\n\t\t\t\tdp[i][j] = INF;\n\t\t\t}\n\t\t}\n\t\tREP(i, m){\n\t\t\tcin >> c[i];\n\t\t}\n\t\tREP(i, n){\n\t\t\tcin >> x[i];\n\t\t}\n\t\tdp[0][128] = 0;\n\t\tREP(i, n){\n\t\t\tREP(j, m){\n\t\t\t\tREP(k, 256){\n\t\t\t\t\tint num = k + c[j];\n\t\t\t\t\tif (num < 0){\n\t\t\t\t\t\tnum = 0;\n\t\t\t\t\t}\n\t\t\t\t\tif (num > 255){\n\t\t\t\t\t\tnum = 255;\n\t\t\t\t\t}\n\t\t\t\t\tdp[i + 1][num] = min(dp[i][k] + (x[i] - num)*(x[i] - num), dp[i + 1][num]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = INF;\n\t\tREP(i, 256+1){\n\t\t\tans = min(ans, dp[n][i]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <climits>\n\nusing namespace std;\n\nint main() {\n    while(true) {\n        int n, m; cin >> n >> m;\n        if(n == 0 && m == 0) break;\n\n        vector<int> code_block;\n        vector<int> pulse_array;\n        vector<vector<int>> dp;\n        for(int i = 0; i < m; i++) {\n            int tmp; cin >> tmp;\n            code_block.push_back(tmp);\n        }\n        for(int i = 0; i < n; i++) {\n            int tmp; cin >> tmp;\n            pulse_array.push_back(tmp);\n            dp.emplace_back(256, INT_MAX);\n        }\n        int p = 128;\n        for(int code : code_block) {\n            int c = p + code;\n            if(c > 255) c = 255;\n            else if(c < 0) c = 0;\n            int diff = c - pulse_array[0];\n            dp[0][c] = diff*diff;\n        }\n        for(int i = 1; i < n; i++) {\n            for(p = 0; p < 256; p++) {\n                if(dp[i-1][p] == INT_MAX) continue;\n                for(int code : code_block) {\n                    int c = p + code;\n                    if(c > 255) c = 255;\n                    else if(c < 0) c = 0;\n                    int diff = c - pulse_array[i];\n                    if(dp[i][c] > diff*diff + dp[i-1][p]) {\n                        dp[i][c] = diff*diff + dp[i-1][p];\n                    }\n                }\n            }\n        }\n        cout << *min_element(dp[n-1].begin(), dp[n-1].end()) << endl;\n    }\n    return 0;\n}\n\n// [Problem] Differential Pulse Code Modulation\n// http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=2199&lang=jp\n"
  },
  {
    "language": "C++",
    "code": "/*\n * aoj/2199_2nd/main.cpp\n */\n\n// C++ 14\n#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <cmath>\n#include <cstring> // memset\n#include <cassert>\n\nusing namespace std;\n\n#define ll long long\n\n#define loop(__x, __start, __end) for(int __x = __start; __x < __end; __x++)\ntemplate <class T> bool chmin(T &a, T b) { if (a > b) {a = b; return true; } return false; }\ntemplate <class T> bool chmax(T &a, T b) { if (a < b) {a = b; return true; } return false; }\n\nconst ll INF = 100000000000000000;\nconst int MAX_N = 20100;\nconst int MAX_X = 256;\nll N, M;\nvector<ll> C, X;\nll dp[MAX_N][MAX_X];\n\nbool input() {\n  cin >> N >> M;\n  if (N + M==0) return false;\n  ll a;\n  C.clear(); X.clear();\n  loop(n,0,M) {\n    cin >> a;\n    C.push_back(a);\n  }\n  loop(n,0,N) {\n    cin >> a;\n    X.push_back(a);\n  }\n  return true;\n}\n\nll rec(int n = 0, int y_1 = 128) {\n  ll &cache = dp[n][y_1];\n  if (~cache) return cache;\n  if (n == N) return cache = 0;\n  int x = X[n];\n  ll min_ = INF;\n  for (auto &&c: C) {\n    int y = min(255LL, max(0LL, y_1 + c));\n    chmin(min_, (x-y)*(x-y) + rec(n+1, y));\n  }\n  return cache = min_;\n}\n\nll memo() {\n  memset(dp, -1, sizeof(dp));\n  return rec();\n}\n\nll give() {\n  loop(n,0,N+1) loop(x,0,MAX_X) dp[n][x] = INF;\n\n  for (int n=0; n<N; n++) {\n    int x = X[n];\n    if (n == 0) {\n      for (auto &&c: C) {\n        int y = min(255LL, max(0LL, 128 + c));\n        dp[n][y] = (x-y)*(x-y);\n      }\n      continue;\n    }\n\n    for (int y_1=0; y_1<=255; y_1++) {\n      for (auto &&c: C) {\n        int y = min(255LL, max(0LL, y_1 + c));\n        chmin(dp[n][y], (x-y)*(x-y) + dp[n-1][y_1]);\n      }\n    }\n  }\n\n  ll min_ = INF;\n  loop(x,0,MAX_X) chmin(min_, dp[N-1][x]);\n  return min_;\n}\n\nvoid solve() {\n  cout << give() << endl;\n}\n\nint main() {\n  // cout.precision(15);\n  while (input()) solve();\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<utility>\n#include<cmath>\n\n#define INF (1 << 29)\n\nusing namespace std;\n\nint fix(int num)\n{\n    return min(255, max( num, 0) );\n}\n\nint main()\n{\n    int N, M;\n    while(cin >> N >> M, (N))\n    {\n\n        vector<int> in_C(M);\n        for(auto& _c : in_C)\n        {\n            cin >> _c;\n        }\n\n        vector<int> in_X(N);\n        for(auto& _x : in_X)\n        {\n            cin >> _x;\n        }\n\n        int dp[2][256];\n        for(int i = 0; i < 256; i++)\n        {\n            dp[0][i] = dp[1][i] = INF;\n        }\n\n        for(int i = 0; i < M; i++)\n        {\n            int sub = fix(128 + in_C[i]);\n            dp[0][sub] = pow(in_X[0] - sub, 2.0);\n        }\n\n        for(int n = 1; n < N; n++)\n        {\n            for(int i = 0; i < 256; i++)\n            {\n                for(int j = 0; j < M; j++)\n                {\n                    int sub = fix(i + in_C[j]);\n                    int nextScore = dp[0][i] + pow( in_X[n] - sub, 2.0 );\n                    dp[1][sub] = min(dp[1][sub], nextScore);\n                    /*\n                    cout << sub << endl;\n                    cout << dp[0][sub] << endl;\n                    cout << pow( in_X[n] - sub, 2.0 ) << endl;\n                    cout << endl;\n                    //*/\n                }\n            }\n            for(int i = 0; i < 256; i++)\n            {\n                dp[0][i] = dp[1][i];\n                dp[1][i] = INF;\n            }\n        }\n\n        int ans = INF;\n        for(int i = 0; i < 256; i++)\n        {\n            ans = min(ans, dp[0][i]);\n            //cout << i << \" : \"<< ans << endl;\n        }\n        cout << ans << endl;\n\n    }\n\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nconst int INF = 1e8;\n\nint main(){\n  int n,m;\n  while(cin >> n >> m, n){\n    vector<int> c(m);\n    for(int i=0;i<m;i++)cin >> c[i];\n    vector<int> x(n);\n    for(int i=0;i<n;i++)cin >> x[i];\n\n    vector<int> cur(256,INF), nxt(256);\n    cur[128] = 0;\n\n    for(int i=0;i<n;i++){\n      for(int j=0;j<256;j++)nxt[j] = INF;\n\n      for(int j=0;j<256;j++){\n\tfor(int k=0;k<m;k++){\n\t  int nj = min(255, max(0,j + c[k]) );\n\t  int dif = nj-x[i];\n\t  nxt[nj] = min(nxt[nj], cur[j] + dif*dif);\n\t}\n      }\n      swap(cur, nxt);\n    }\n\n    cout << *min_element(cur.begin(),cur.end()) << endl;\n  }\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define int long long\n\nint sq_er(int x, int y){\n    return (x-y)*(x-y);\n}\n\nsigned main(){\n    // cout << fixed << setprecision(10) << flush;\n\n    int n, m;\n    cin >> n >> m;\n\n    vector<int> ans;\n\n    while(n != 0 && m != 0){\n\n        vector<int> c(m);\n        for(int i=0; i<m; i++){\n            cin >> c[i];\n        }\n        vector<int> x(n);\n        for(int i=0; i<n; i++){\n            cin >> x[i];\n        }\n\n        // dp[i][j] は i 番目が j のときのそこまでの二乗誤差の最小値\n        int INF = 1<<30;\n        INF = INF<<30;\n        // n=20000 はでかすぎ？\n        vector<vector<int>> dp(n, vector<int>(256, INF));\n        for(int i=0; i<m; i++){\n            int ny = 128 + c[i];\n            if(ny < 0) ny = 0;\n            if(ny > 255) ny = 255;\n            dp[0][ny] = sq_er(ny, x[0]);\n        }\n\n        for(int i=1; i<n; i++){\n            for(int j=0; j<m; j++){\n                for(int y=0; y<256; y++){\n                    int ny = y + c[j];\n                    if(ny < 0) ny = 0;\n                    if(ny > 255) ny = 255;\n                    dp[i][ny] = ((dp[i][ny] > dp[i-1][y] + sq_er(ny, x[i]))? dp[i-1][y] + sq_er(ny, x[i]) : dp[i][ny]);\n                }\n            }\n        }\n\n        int min_sq_er = INF;\n        for(int y=0; y<256; y++){\n            min_sq_er = ((min_sq_er > dp[n-1][y])? dp[n-1][y] : min_sq_er);\n        }\n        ans.push_back(min_sq_er);\n\n        cin >> n >> m;    \n    }\n\n    for(int i=0; i<ans.size(); i++){\n        cout << ans[i] << endl;\n    }\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n#define INF 10000000\nusing namespace std;\nint main(){\n\tint n,m,x,cb[20];//now,now\n\tint temp;\n\twhile(cin>>n>>m,n||m){\n\t\tvector<int> input;\n\t\tvector<int> dp[256];\n\t\tfor(int i=0;i<m;i++){\n\t\t\tcin>>cb[i];\n\t\t}\n\t\tfor(int i=0;i<n;i++){\n\t\t\tcin>>x;\n\t\t\tinput.push_back(x);\n\t\t}cout<<8888888<<endl;\n\t\tfor(int i=0;i<=n;i++)\n\t\tfor(int j=0;j<=255;j++)\n\t\tdp[j].push_back(INF);\n\t\tdp[128][0]=0;\n\t\tfor(int i=0;i<n;i++)\n\t\tfor(int j=0;j<=255;j++){\n\t\t\t\n\t\t\t\tif(dp[j][i]!=INF){\n\t\t\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\t\t\ttemp=j+cb[k];\n\t\t\t\t\t\tif(temp>255)\n\t\t\t\t\t\ttemp=255;\n\t\t\t\t\t\telse if(temp<0)\n\t\t\t\t\t\ttemp=0;\n\t\t\t\t\t\tdp[temp][i+1]=min(dp[temp][i+1],dp[j][i]+(temp-input[i])*(temp-input[i]));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t}\n\t\tint ans=INF;\n\t\tfor(int i=0;i<=255;i++){\n\t\tif(ans>dp[i][n])\n\t\tans=dp[i][n];\n\t\t}\n\t\tcout<<ans<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\n#define N 20000\n#define M 256\n#define INF (1e9)\nusing namespace std;\nint n,m,c[N],x[N],d[N][M],ny,t,ans;\n\nint main(){\n  while(1){\n    cin>>n>>m;\n    if(!n&&!m) break;\n    for(int i=0;i<m;i++) cin>>c[i];\n    for(int i=0;i<n;i++) cin>>x[i];\n    for(int i=0;i<n;i++)\n      for(int j=0;j<M;j++) d[i][j]=INF;\n    for(int i=0;i<m;i++){\n      ny=128+c[i];\n      if(ny>255) ny=255;\n      if(ny<0) ny=0;\n      int t=x[0]-ny;\n      d[0][ny]=t*t;\n    }\n    for(int i=0;i<n-1;i++)\n      for(int j=0;j<M;j++){\n\tif(d[i][j]==INF) continue;\n\tfor(int k=0;k<m;k++){\n\t  ny=j+c[k];\n\t  if(ny>255) ny=255;\n\t  if(ny<0) ny=0;\n\t  t=x[i+1]-ny;\n\t  d[i+1][ny]=min(d[i+1][ny],d[i][j]+t*t);\n\t}\n      }\n    ans=INF;\n    for(int i=0;i<M;i++) ans=min(ans,d[n-1][i]);\n    cout<<ans<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<cmath>\n\nint INFI = 1e9;\n\nusing namespace std;\n\nint main() {\n\tint n, m;\n\twhile (1) {\n\t\tcin >> n >> m;\n\t\tif (n == 0)break;\n\t\tint *c = new int[m];\n\t\tint* x = new int[n];\n\t\tfor (int i = 0;i < m;i++) {\n\t\t\tcin >> c[i];\n\t\t}\n\t\tfor (int i = 0;i < n;i++) {\n\t\t\tcin >> x[i];\n\t\t}\n\t\tint** gosa = new int*[n];\n\t\tfor (int i = 0;i < n;i++) {\n\t\t\tgosa[i] = new int[256];\n\t\t\tfor (int j = 0;j < 256;j++) {\n\t\t\t\tgosa[i][j] = INFI;\n\t\t\t}\n\t\t}\n\t\tfor (int i = 0;i < m;i++) {\n\t\t\tif (128 + c[i] >= 255) {\n\t\t\t\tgosa[0][255] = min(gosa[0][255],(int)pow(255 - x[0], 2));\n\t\t\t}\n\t\t\telse if (128 + c[i] <= 0) {\n\t\t\t\tgosa[0][0] = min(gosa[0][0],(int)pow(x[0], 2));\n\t\t\t}\n\t\t\telse {\n\t\t\t\tgosa[0][128 + c[i]] = pow(x[0]-128-c[i], 2);\n\t\t\t}\n\t\t}\n\t\tfor (int i = 1;i < n;i++) {\n\t\t\tfor (int j = 0;j < 256;j++) {\n\t\t\t\tif (j == 0) {\n\t\t\t\t\tfor (int k = 0;k < m;k++) {\n\t\t\t\t\t\tif (c[k] > 0)continue;\n\t\t\t\t\t\tfor (int l = -c[k];l >= 0;l--) {\n\t\t\t\t\t\t\tgosa[i][0] = min(gosa[i][0], gosa[i - 1][l] + (int)pow(x[i], 2));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (j == 255) {\n\t\t\t\t\tfor (int k = 0;k < m;k++) {\n\t\t\t\t\t\tif (c[k] < 0)continue;\n\t\t\t\t\t\tfor (int l = 255 - c[k];l < 256;l++) {\n\t\t\t\t\t\t\tgosa[i][255] = min(gosa[i][255], gosa[i - 1][l] + (int)pow(255 - x[i], 2));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tfor (int k = 0;k < m;k++) {\n\t\t\t\t\t\tif (j - c[k] < 0 || j - c[k]>255)continue;\n\t\t\t\t\t\tgosa[i][j] = min(gosa[i][j], gosa[i - 1][j - c[k]] + (int)pow(j - x[i], 2));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = gosa[n-1][0];\n\t\tfor (int i = 1;i < 256;i++) {\n\t\t\tans = min(ans, gosa[n - 1][i]);\n\t\t}\n\n\t\tcout << ans << endl;\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#define INF (1<<30)\nusing namespace std;\n\nint pow(int a){\n    return a*a;\n}\n\nint main(){\n    int N,M;\n    vector< vector<int> > dp(1<<8,vector<int>(20001,INF));\n    vector<int> C(1<<4,0),X(20001,0);\n    cin >> N >> M;\n    while(N!=0 && M!=0){\n        dp.at(128).at(0)=0;\n        for(int i=0;i<M;i++) cin >> C.at(i);\n        for(int i=1;i<=N;i++) cin >> X.at(i);\n        for(int j=0;j<N;j++){\n            for(int l=0;l<M;l++){\n                int k=C.at(l);\n                for(int i=0;i<256;i++){\n                    int next=min(i+k,255);\n                    next=max(next,0);\n                    int cur = dp.at(next).at(j+1);\n                    dp.at(next).at(j+1)\n                    =min(cur,dp.at(i).at(j)+pow(X.at(j+1)-next));\n                    //cout << i << \" \" << next<< \" \" << X.at(j+1) << endl;\n                }\n            }\n        }\n        int ans=INF;\n        for(int i=0;i<256;i++){\n            ans=min(ans,dp.at(i).at(N));\n        }\n        cout << ans << endl;\n        /*\n        cout << \"aaaaaaaaaaaa\" << endl;\n        for(int j=0;j<=N;j++){\n            for(int i=0;i<256;i++){\n                cout << dp.at(i).at(j) << \" \";\n            }\n            cout << endl;\n        }\n        cout << \"bbbbbbbbbbbbb\" << endl;\n        */\n        cin >> N >> M;\n        for(int i=0;i<M;i++) C.at(i)=0;\n        for(int i=1;i<=N;i++) X.at(i)=0;\n        for(int i=0;i<256;i++){\n            for(int j=0;j<=N;j++){\n                dp.at(i).at(j)=INF;\n            }\n        }\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <cstring>\n#include <algorithm>\n\n#define REP(i,k,n) for(int i=k;i<n;i++)\n#define rep(i,n) for(int i=0;i<n;i++)\n#define INF 1<<30\n\nusing namespace std;\ntypedef long long ll;\n\nint dp[200005][300];\n\nint main()\n{\n    int n,m;\n    while(cin >> n >> m) {\n        if(n == 0 && m == 0) break;\n\n        vector<int> c(m);\n        rep(i,m) cin >> c[i];\n\n        vector<int> x(n);\n        rep(i,n) cin >> x[i];\n\n        rep(i,n+1) rep(j,300) dp[i][j] = INF;\n\n        dp[0][128] = 0;\n\n        REP(i,1,n+1) {\n            rep(j,256) {\n                if(dp[i-1][j] == INF) continue;\n\n                rep(k,m) {\n                    int to = j + c[k];\n                    to = max(to,0);\n                    to = min(to,255);\n\n                    int ret = (x[i-1]-to) * (x[i-1]-to);\n                    dp[i][to] = min(dp[i][j],dp[i-1][j] + ret);\n                }\n            }\n        }\n\n        int ans = INF;\n        rep(i,300) ans = min(ans,dp[n][i]);\n\n        cout << ans << endl;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "// AOJ2199\n#include <bits/stdc++.h>\n#define endl \"\\n\"\n#define rep(i,n) for(int i=0;i<int(n);i++)\n#define SZ(x) ((int)(x).size())\n#define all(x) (x).begin(),(x).end()\nusing namespace std;\ntypedef long long ll;\ntypedef long double ld;\ntypedef pair<int,int> ipair;\ntypedef pair<ll,ll> lpair;\ntemplate <class T>ostream &operator<<(ostream &o,const vector<T>&v) //vectorの中身を見る\n{o<<\"{\";for(int i=0;i<(int)v.size();i++)o<<(i>0?\", \":\"\")<<v[i];o<<\"}\";return o;}\n\nint main() {\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    cout << fixed << setprecision(12);\n\n    int n,m;\n    while(cin>>n>>m){\n        if(n==0&&m==0) break;\n        vector<int> code(m+1,0);\n        vector<ll> num(n+1,0);\n        rep(i,m) cin>>code[i+1];\n        rep(i,n) cin>>num[i+1];\n        ll max_=pow(10,12);\n        vector<vector<ll>> dp(n+5,vector<ll>(260,max_));\n        for(int i=1;i<=m;i++){\n            int cy=min(255,128+code[i]);\n            cy=max(0,cy);\n            dp[1][cy]=(num[1]-cy)*(num[1]-cy);\n        }\n        for(int i=1;i<=n-1;i++){\n            for(int j=0;j<=255;j++){ //遷移前のyの値\n                if(dp[i][j]==max_) continue;\n                for(int k=1;k<=m;k++){ // 遷移する際のコード番号\n                    int ny=min(255,j+code[k]);\n                    ny=max(0,ny);\n                    dp[i+1][ny]=min(dp[i][j]+(num[i+1]-ny)*(num[i+1]-ny),dp[i+1][ny]);\n                }\n            }\n        }\n        ll ans=max_;\n        for(int i=0;i<=255;i++) ans=min(ans,dp[n][i]);\n        cout<<ans<<endl;\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n\nusing namespace std;\n\ninline int adj(int x) {\n  return min(max(x, 0), 255);\n}\n#define SQ(x) ((x)*(x))\nint main() {\n  int N, M, INF=1<<28;\n  while(cin >> N >> M && (N|M)) {\n    int C[M];\n    for(int i=0; i<M; i++) cin >> C[i];\n    int dp[2][256]; fill(dp[0], dp[0]+512, INF);\n    dp[0][128] = 0;\n    for(int k=0; k<N; k++) {\n      for(int i=0; i<256; i++) dp[(k+1)%2][i] = INF;\n      int in; cin >> in;\n      for(int i=0; i<256; i++) {\n        if(dp[i]>=INF) continue;\n        for(int j=0; j<M; j++) {\n          dp[(k+1)%2][adj(i+C[j])] = min(dp[(k+1)%2][adj(i+C[j])], dp[k%2][i]+SQ(in-adj(i+C[j])));\n        }\n      }\n    }\n    cout << *min_element(dp[N%2], dp[(N%2)+1]) << endl;\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<cstdio>\n#include<cmath>\n#include<cctype>\n#include<math.h>\n#include<string>\n#include<string.h>\n#include<stack>\n#include<queue>\n#include<vector>\n#include<utility>\n#include<set>\n#include<map>\n#include<stdlib.h>\n#include<iomanip>\n\nusing namespace std;\n\n#define ll long long\n#define ld long double\n#define EPS 0.0000000001\n#define INF 1e9\n#define MOD 1000000007\n#define rep(i,n) for(i=0;i<(n);i++)\n#define loop(i,a,n) for(i=a;i<(n);i++)\n#define all(in) in.begin(),in.end()\n#define shosu(x) fixed<<setprecision(x)\n\ntypedef vector<int> vi;\ntypedef vector<string> vs;\ntypedef pair<int,int> pii;\n\nll dp[20005][256];\n\nint main(void) {\n    int i,j;\n    int n, m;\n    while(cin >> n >> m, n+m){\n        vi c(m),x(n);\n        rep(i,m) cin >> c[i];\n        rep(i,n) cin >> x[i];\n        rep(i,n+1)rep(j,256)\n            dp[i][j] = (ll)INF*INF;\n        dp[0][128] = 0;\n        int k;\n        rep(i,n)rep(j,256)rep(k,m){\n            ll t = j + c[k];\n            if(t < 0) t = 0;\n            if(t > 255) t = 255;\n            dp[i+1][t] = min(dp[i+1][t], dp[i][j] + (t-x[i])*(t-x[i]));\n        }\n        ll ans = (ll)INF*INF;\n        rep(i,256)\n            ans = min(ans, dp[n][i]);\n        cout << ans << endl;\n    }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define rep(i,n) for (int (i)=(0);(i)<(int)(n);++(i))\nusing ll = long long;\n\nint n, m;\nint c[16], x[20001];\n\nll dp[20001][256];\n\nll rec(int p, int y) {\n    if (dp[p][y] >= 0) return dp[p][y];\n\n    if (p == n) return 0;\n\n    ll ret=1e10;\n    for (int i=0; i<m; ++i) {\n        int ny=y+c[i];\n        if (ny<0) ny=0;\n        else if (ny>255) ny=255;\n        ret = min(ret, rec(p+1, ny)+(ny-x[p])*(ny-x[p]));\n    }\n\n    return dp[p][y] = ret;\n}\n\nint main() {\n    while (cin >> n >> m and (n or m)) {\n        rep(i,m) cin >> c[i];\n        rep(i,n) cin >> x[i];\n        fill(dp[0], dp[20001], -1);\n        cout << rec(0, 128) << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nvoid solve(int n,int m){\n    int c[m];\n    for(int i=0;i<m;i++)scanf(\"%d\",&c[i]);\n    vector<long long> dp(256,1e18);\n    dp[128]=0;\n    for(int i=0;i<n;i++){\n        int x;scanf(\"%d\",&x);\n        vector<long long> ndp(256,1e18);\n        for(int j=0;j<256;j++){\n            if(dp[j]==1e18)continue;\n            for(int k=0;k<m;k++){\n                int p=min(255,max(0,j+c[k]));\n                ndp[p]=min(ndp[p],dp[j]+(x-p)*(x-p));\n            }\n        }\n        dp=ndp;\n    }\n    long long ans=1e18;\n    for(int i=0;i<256;i++){\n        ans=min(ans,dp[i]);\n    }\n    printf(\"%lld\\n\",ans);\n}\nint main(){\n    while(true){\n        int n,m;scanf(\"%d%d\",&n,&m);\n        if(n==0 and m==0)break;\n        solve(n,m);\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n#define MAX 100000000;\n\nint i,j,k,n,m,c[17],N[20001],dp[256][20001],x;\n\nint main(){\n  \n  while(1){\n    cin >> n >> m;\n    if( n == 0 && m ==  0 ) break;\n  \n    for( i = 0; i < m; i++ ) cin >> c[i];\n    for( i = 0; i < n; i++ ) cin >> N[i];\n    \n    for( i = 0; i < 256; i++ ){\n      for( j = 0; j <= n; j++ ){\n\tdp[i][j] = MAX;\n      }\n    }\n    \n    dp[128][0] = 0;\n    //  int data[20000];\n      for( j = 0; j < n; j++ ){\n    for( i = 0; i <= 255; i++ ){\n\t//\tint Min = 100000;\n\tfor( k = 0; k < m; k++ ){\n\t  x = ( i + c[k] );\n\t  if( x < 0 ) x = 0;\n\t  if( x > 255 ) x = 255;\n\t  //dp[x][0] = 0;\n\t  dp[x][j+1] = min( dp[x][j+1], dp[i][j] + (x - N[j]) *( x - N[j] ) );\n\n\t  /*  if( Min > ( x - N[j] ) * ( x - N[j] ) ){\n\t    Min = ( x - N[j] ) * ( x - N[j] );\n\t    cout << \"Min\" << \" \" << Min << endl;\n\t    data[j] = x;\n\t  }\n\t  */\n\t}\n      }\n    }\n    \n      /* for( i = 0; i < 256; i++ ){\n      cout << \"i\" << \" \" << i << \" \";\n      for( j = 0; j <= n; j++ ){\n\tcout <<  dp[i][j] << \" \";\n      }\n      cout << endl;\n      }*/\n    int Min = 1000000;\n\n     for( i = 0; i < 256; i++ ){\n       if ( Min > dp[i][n] ){\n\t Min = dp[i][n];\n\t }\n     }\n     cout << Min << endl;\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n#define MAX 100000000;\n\nint main(){\n  int i,j,k,n,m,c[17],N[20001],dp[256][17],x;\n  \n  while(1){\n    cin >> n >> m;\n    if( n == 0 && m ==  0 ) break;\n  \n    for( i = 0; i < m; i++ ) cin >> c[i];\n    for( i = 0; i < n; i++ ) cin >> N[i];\n    \n    for( i = 0; i < 256; i++ ){\n      for( j = 0; j <= n; j++ ){\n\tdp[i][j] = MAX;\n      }\n    }\n    \n    dp[128][0] = 0;\n    //  int data[20000];\n      for( j = 0; j < n; j++ ){\n    for( i = 0; i <= 255; i++ ){\n\t//\tint Min = 100000;\n\tfor( k = 0; k < m; k++ ){\n\t  x = ( i + c[k] );\n\t  if( x < 0 ) x = 0;\n\t  if( x > 255 ) x = 255;\n\t  //dp[x][0] = 0;\n\t  dp[x][j+1] = min( dp[x][j+1], dp[i][j] + (x - N[j]) *( x - N[j] ) );\n\n\t  /*  if( Min > ( x - N[j] ) * ( x - N[j] ) ){\n\t    Min = ( x - N[j] ) * ( x - N[j] );\n\t    cout << \"Min\" << \" \" << Min << endl;\n\t    data[j] = x;\n\t  }\n\t  */\n\t}\n      }\n    }\n    \n      /* for( i = 0; i < 256; i++ ){\n      cout << \"i\" << \" \" << i << \" \";\n      for( j = 0; j <= n; j++ ){\n\tcout <<  dp[i][j] << \" \";\n      }\n      cout << endl;\n      }*/\n    int Min = 1000000;\n\n     for( i = 0; i < 256; i++ ){\n       if ( Min > dp[i][n] ){\n\t Min = dp[i][n];\n\t }\n     }\n     cout << Min << endl;\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <queue>\nusing namespace std; typedef long long ll; int an=0; const ll INF = 1e18; const ll MOD = 1e9+7;\ntypedef pair<int,int> P; const int xx[4]={1,-1,0,0}, yy[4]={0,0,1,-1};\nint a[90][90]; int n,m; struct tlp {int x,y,cs;};\n\nint main(){\n  while(true) {\n    int n,m; cin>>n>>m; if (n==0) break;\n    ll c[m], x[n];\n    for(int i=0;i<m;i++) cin>>c[i];\n    for(int i=0;i<n;i++) cin>>x[i];\n    ll p[2][256]; fill(p[0],p[2],INF); p[0][128]=0;\n    for(int i=0;i<n;i++) {\n      int bb=i%2, aa=(i+1)%2;\n      for(int j=0;j<256;j++) p[aa][j]=INF;\n      for(ll j=0;j<256;j++) {\n        if (p[bb][j] == INF) continue;\n        for(int k=0;k<m;k++) {\n          int pc = max(0LL,min(255LL,j+c[k])); //cout<<pc<<endl;\n          p[aa][pc] = min(p[aa][pc], p[bb][j]);\n        }\n      }\n      /*\n      for(int j=0;j<256;j++) {\n        if (p[aa][j]!=INF) cout<<\"(\"<<j<<\":\"<<p[aa][j]<<\") \"<<endl;\n      }*/\n      for(ll j=0;j<256;j++) {\n        if (p[aa][j] != INF) p[aa][j] += (x[i]-j) * (x[i]-j);\n      }\n    }\n    ll an=INF;\n    for(int j=0;j<256;j++) {\n      //if (p[n%2][j]!=INF) cout<<\"(\"<<j<<\":\"<<p[n%2][j]<<\") \"<<endl;\n      an = min(p[n%2][j],an);\n    }\n    cout<<an<<endl;\n  }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n) for(int i = 0;i<n;i++)\nusing namespace std;\ntypedef pair<int,int> P;\ntypedef long long ll;\ntemplate<class T> inline bool chmax(T& a, T b) { if (a < b) { a = b; return 1; } return 0;}\ntemplate<class T> inline bool chmin(T& a, T b) { if (a > b) { a = b; return 1; } return 0;}\n\nconst int INF = 1001001001;\n\nint main() {\n    while(true) {\n        int n,m;\n        cin >> n >> m;\n        if(n==0 && m == 0) break;\n        vector<int>c(m),x(n);\n        rep(i,m) cin >> c[i];\n        rep(i,n) cin >> x[i];\n        vector<vector<int>>dp(n+1,vector<int>(256,INF));\n        dp[0][128] = 0;\n        for(int i = 0;i<n;i++) {\n            for(int j = 0;j<=255;j++) {\n                for(int k = 0;k<m;k++) {\n                    int d = c[k] + j;\n                    if(d<0) d = 0;\n                    if(d > 255) d=255;\n                    chmin(dp[i+1][d], dp[i][j]+(d-x[i])*(d-x[i]));\n                }\n            }\n        }\n        int ans = INF;\n        for(int i = 0;i<=255;i++) {\n            chmin(ans,dp[n][i]);\n        }\n        cout << ans << endl;\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "// clang-format off\n#include <bits/stdc++.h>\nusing namespace std;\n#define int long long\n#define main signed main()\n#define loop(i, a, n) for (int i = (a); i < (n); i++)\n#define rep(i, n) loop(i, 0, n)\n#define all(v) (v).begin(), (v).end()\n#define rall(v) (v).rbegin(), (v).rend()\n#define prec(n) fixed << setprecision(n)\nconstexpr int INF = sizeof(int) == sizeof(long long) ? 1000000000000000000LL : 1000000000;\nconstexpr int MOD = 1000000007;\nconstexpr double PI = 3.14159265358979;\ntemplate<typename A, typename B> bool cmin(A &a, const B &b) { return a > b ? (a = b, true) : false; }\ntemplate<typename A, typename B> bool cmax(A &a, const B &b) { return a < b ? (a = b, true) : false; }\nbool odd(const int &n) { return n & 1; }\nbool even(const int &n) { return ~n & 1; }\ntemplate<typename T = int> T in() { T x; cin >> x; return x; }\ntemplate<typename T = int> T in(T &&x) { T z(forward<T>(x)); cin >> z; return z; }\ntemplate<typename T> istream &operator>>(istream &is, vector<T> &v) { for (T &x : v) is >> x; return is; }\ntemplate<typename A, typename B> istream &operator>>(istream &is, pair<A, B> &p) { return is >> p.first >> p.second; }\ntemplate<typename T> ostream &operator<<(ostream &os, const vector<vector<T>> &v) { int n = v.size(); rep(i, n) os << v[i] << (i == n - 1 ? \"\" : \"\\n\"); return os; }\ntemplate<typename T> ostream &operator<<(ostream &os, const vector<T> &v) { int n = v.size(); rep(i, n) os << v[i] << (i == n - 1 ? \"\" : \" \"); return os; }\ntemplate<typename A, typename B> ostream &operator<<(ostream &os, const pair<A, B> &p) { return os << p.first << ' ' << p.second; }\ntemplate<typename Head, typename Value> auto vectors(const Head &head, const Value &v) { return vector<Value>(head, v); }\ntemplate<typename Head, typename... Tail> auto vectors(Head x, Tail... tail) { auto inner = vectors(tail...); return vector<decltype(inner)>(x, inner); }\n// clang-format on\n\nmain {\n  int n, m;\n  while (cin >> n >> m, n) {\n    vector<int> c(m), x(n);\n    cin >> c >> x;\n    auto dp = vectors(n + 1, 256, INF);\n    dp[0][128] = 0;\n    rep(i, n) rep(j, 256) rep(k, m) {\n      int y = min(255LL, max(0LL, j + c[k]));\n      cmin(dp[i + 1][y], dp[i][j] + (x[i] - y) * (x[i] - y));\n    }\n    cout << *min_element(all(dp[n])) << endl;\n  }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nint main(){\n  int i,j,k,n,m;\n  while(cin >> n >> m && n && m){\n    vector<int> C,x;\n    for(i=0;i<m;i++){\n      int a;\n      cin >> a;\n      C.push_back(a);\n    }\n    for(i=0;i<n;i++){\n      int a;\n      cin >> a;\n      x.push_back(a);\n    }\n    sort(C.begin(),C.end());\n\n    long long y[256][2];\n    for(i=0;i<256;i++) y[i][0] = y[i][1] = -1;\n    y[128][0] = 0;\n\n    for(i=0;i<n;i++){\n      for(j=0;j<m;j++){\n\tfor(k=0;k<256;k++){\n\t  if(y[k][0] != -1){\n\t    int a = k + C[j];\n\t    if(a < 0) a = 0;\n\t    else if(a > 255) a = 255;\n\t    if(y[a][1] == -1) y[a][1] = y[k][0]+(x[i]-a)*(x[i]-a);\n\t    else y[a][1] = min(y[a][1],y[k][0]+(x[i]-a)*(x[i]-a));\n\t  }\n\t}\n      }\n      for(j=0;j<256;j++){\n\ty[j][0] = y[j][1];\n\ty[j][1] = -1;\n      }\n    }\n\n    long long ans = -1;\n    for(i=1;i<256;i++){\n      if(y[i][0] != -1){\n\tif(ans == -1) ans = y[i][0];\n\telse ans = min(ans,y[i][0]);\n      }\n    }\n\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n\nint a[20001][256];\n\nint main(void){\n\nint i,j,k;\nint n,m,dummy;\nint min;\nint c[17];\nint x[20001];\n\n\n\nwhile(1){\nmin = 2000000000;\nscanf(\"%d %d\",&n,&m);\nif(n == 0 && m == 0){\nreturn 0;\n}\n\nfor(i = 0; i < m; i++){\nscanf(\"%d\",&c[i]);\n}\nfor(i = 0; i < n; i++){\nscanf(\"%d\",&x[i]);\n}\n\nfor(i = 0; i < n + 1; i++){\nfor(j = 0; j < 256; j++){\na[i][j] = 2000000000;\n}\n}\n\na[0][128] = 0;\n\nfor(i = 0; i < n; i++){\nfor(j = 0; j < 256; j++){\nif(a[i][j] != 2000000000){\nfor(k = 0; k < m; k++){\ndummy = j + c[k];\nif(dummy < 0){\ndummy = 0;\n}else if(dummy > 255){\ndummy = 255;\n}\nif(a[i+1][dummy] > a[i][j] + (dummy - x[i])*(dummy - x[i])){\na[i+1][dummy] = a[i][j] + (dummy - x[i])*(dummy - x[i]);\n}\n}\n}\n}\n}\n\nfor(j = 0; j < 256; j++){\nif(a[n][j] > -1){\nif(min > a[n][j]){\nmin = a[n][j];\n}\n}\n}\n\nprintf(\"%d\\n\",min);\n\n}\nreturn 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\ntypedef long long lli;\n\nconst int MAX_N = 20001;\nconst int MAX_M = 16;\nconst int MAX_V = 256;\nconst lli INF = 1LL<<60;\n\nlli T[MAX_N][MAX_V];\nint N, M;\nlli C[MAX_M];\nlli x[MAX_N];\n\nlli solve() {\n  fill(T[0], T[N+1], INF);\n  T[0][128] = 0LL;\n  for(int i = 1; i <= N; ++i) {\n    for(int j = 0; j <= 255; ++j) {\n      for(int k = 0; k < M; ++k) {\n\tlli value = j + C[k];\n\tif(value < 0LL) value = 0LL;\n\tif(value > 255LL) value = 255LL;\n\tT[i][value] = min(T[i][value], T[i-1][j] + (x[i]-value)*(x[i]-value));\n      }\n    }\n  }\n  lli res = INF;\n  for(int i = 1; i <= 255; ++i) {\n    res = min(res, T[N][i]);\n  }\n  return res;\n}\n\nint main() {\n  while(cin >> N >> M && (N || M)) {\n    for(int i = 0; i < M; ++i) {\n      cin >> C[i];\n    }\n    for(int i = 1; i <= N; ++i) {\n      cin >> x[i];\n    }\n    cout << solve() << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n\nusing namespace std;\n\nconst int MAX_N = 20000;\nconst int MAX_M = 16;\nconst int INF = 1e8;\nconst int y0 = 128;\nint N, M;\nint C[MAX_M + 1], x[MAX_N + 1];\nint dp[MAX_N + 10][260];\n\nint main()\n{\n    while (cin >> N >> M, N || M) {\n        // Input\n        for (int i = 0; i < M; ++i)\n            cin >> C[i];\n        for (int i = 0; i < N; ++i)\n            cin >> x[i];\n\n        // Init\n        for (int i = 0; i <= N; ++i)\n            fill(dp[i], dp[i] + 259, INF);\n        dp[0][128] = 0;\n\n        // Solve\n        for (int n = 0; n < N; ++n) {\n            for (int y = 0; y <= 255; ++y) {\n                for (int i = 0; i < M; ++i) {\n                    int next_y = y + C[i];\n                    if (next_y < 0)\n                        next_y = 0;\n                    else if (next_y > 255)\n                        next_y = 255;\n\n                    dp[n + 1][next_y] = min(dp[n + 1][next_y],\n                                            dp[n][y] + (x[n] - next_y) * (x[n] - next_y));\n                }\n            }\n        }\n\n        int ans = INF;\n        for (int i = 0; i <= 255; ++i)\n            ans = min(ans, dp[N][i]);\n\n        cout << ans << endl;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define rep(i, n) for (int i = 0; i < (int)(n); i++)\n\ninline int in() { int x; std::scanf(\"%d\", &x); return x; }\ninline void pr(int x, char c=10){ std::printf(\"%d%c\", x, c); }\n\nusing ll = long long;\n\nusing namespace std;\n\nint C[20];\nint X[20200];\nll dp[20200][256];\nint N, M;\n\nll inf = 1e18;\n\nsigned main() {\n    while (N = in(), M = in()) {\n        rep(i, M) C[i] = in();\n        rep(i, N) X[i] = in();\n        rep(i, N + 1) rep(j, 256) dp[i][j] = inf;\n        dp[0][128] = 0;\n        rep(i, N) rep(j, 256) {\n            if (dp[i][j] == inf) continue;\n            rep(k, M) {\n                const int nxt = max(min(255, j + C[k]), 0);\n                ll& d = dp[i + 1][nxt];\n                int c = (X[i] - nxt);\n                if (dp[i][j] + c * c < d) {\n                    d = dp[i][j] + c * c;\n                }\n            }\n        }\n        pr(*min_element(dp[N], dp[N] + 256));\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": " \n#include <bits/stdc++.h>\nusing namespace std;\nusing vi=vector<int>;\nusing vvi=vector<vi>;\nusing vs=vector<string>;\nusing msi=map<string,int>;\nusing mii=map<int,int>;\nusing pii=pair<int,int>;\nusing vlai=valarray<int>;\nusing ll=long long;\n#define rep(i,n) for(int i=0;i<n;i++)\n#define range(i,s,n) for(int i=s;i<n;i++)\n#define all(a) a.begin(),a.end()\n#define rall(a) a.rbegin(),a.rend()\n#define fs first\n#define sc second\n#define pb push_back\n#define eb emplace_back\n#define mp make_pair\n#define INF 1e9\n#define EPS 1e-9\n\nint main(){\n\tint n,m;\n\twhile(cin>>n>>m,n){\n        vi code(m);\n        rep(i,m)cin>>code[i];\n        vvi dp(2,vi(256,INF));\n        dp[0][128]=0;\n        range(i,1,n+1){\n            int num; cin>>num;\n            fill(all(dp[i%2]),INF);\n            rep(j,256){\n                rep(k,m){\n                    int next=min(max(j+code[k],0),255);\n                    int diff=num-next;\n                    dp[i%2][next]=min(dp[i%2][next],dp[1-i%2][j]+diff*diff);\n                }\n            }\n        }\n        cout<<*min_element(all(dp[n%2]))<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define rep(i,n) for(int i = 0; i < (n) ; i++)\n#define rrep(i,n) for(int i = n-1; i >= 0 ; i--)\nconstexpr auto INF = 2147483647;\ntypedef long long ll;\n\n  int n, m;\n  int DP[20005][256], codebook[16], inp[20005];\n\nint main(){\n  while(true){\n    cin >> n >> m;\n    if(n==0) break;\n    rep(i,m) cin >> codebook[i];\n    rep(i,n) cin >> inp[i];\n    rep(i,n+1)rep(j,256) DP[i][j] = INF;\n    DP[0][128] = 0;\n    rep(i,n)rep(j,256){\n      if(DP[i][j] == INF)continue;\n      rep(k,m){\n        int next = j+codebook[k];\n        next = min(255,max(0,next));\n        int diff = (next - inp[i])*(next - inp[i]);\n        DP[i+1][next] = min(DP[i+1][next],DP[i][j]+diff);\n      }\n    }\n    int ans = INF;\n\n    rep(i,256) ans = min(ans, DP[n][i]);\n    cout << ans << endl;\n  }\n\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define REP(i,n) for(int i=0;i<n;i++)\n#define rep(i,n) for(int i=0;i<n;i++)\n#define INF INT_MAX/3\n#define LINF LLONG_MAX/3\n#define MP make_pair\n#define PB push_back\n#define EB emplace_back\n#define ALL(v) (v).begin(),(v).end()\n#define debug(x) cout<<#x<<\":\"<<x<<endl\n#define debug2(x,y) cout<<#x<<\",\"<<#y\":\"<<x<<\",\"<<y<<endl\ntemplate<typename T> ostream& operator<<(ostream& os,const vector<T>& vec){ os << \"[\"; for(const auto& v : vec){ os << v << \",\"; } os << \"]\"; return os; }\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> pii;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\n\n#define MAXN 20000\n\nll dp[MAXN+10][256+10];\n\nint add(int y,int diff){\n    int ny = y+diff;\n    if(ny<0) ny=0;\n    if(ny>255) ny=255;\n    return ny;\n}\n\nvoid solve(int N,int M){\n    vector<int> c(M),x(N);\n    rep(i,M) cin>>c[i];\n    rep(i,N) cin>>x[i];\n\n    rep(i,MAXN) rep(j,256) dp[i][j]=LINF;\n\n    dp[0][128]=0;\n\n    for(int i=0;i<N;i++){\n        for(int j=0;j<256;j++){\n            for(int k=0;k<M;k++){       // c[k]????????¨\n                ll nx = add(j,c[k]);\n                ll dif = x[i] - nx;\n                dp[i+1][add(j,c[k])] = min(dp[i+1][add(j,c[k])],dp[i][j]+dif*dif);\n            }\n        }\n    }\n\n    ll ans = LINF;\n    for(int i=0;i<256;i++){\n        ans = min(ans,dp[N][i]);\n    }\n\n\n\n//    for(int i=0;i<256;i++){\n//        cout << dp[N][i] << endl;\n//    }\n\n    cout << ans << endl;\n}\n\nint main(){\n    int n,m;\n    while(cin>>n>>m){\n        if(n==0 and m==0) break;\n        solve(n,m);\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <fstream>\n#include <iomanip>\n#include <utility>\n#include <cmath>\n#include <random>\n#include <vector>\n#include <map>\n#include <set>\n#include <deque>\n#include <queue>\n#include <stack>\n#include <string>\n#include <algorithm>\nusing namespace std;\n\n#define rep(i,n) for(int i = 0; i<n; ++i)\n#define REP(i,n) for(int i = 1; i<=n; ++i)\n#define all(x) begin(x),end(x)\ntypedef long long ll;\ntypedef pair<int,int> ip;\ntypedef pair<ll,ll> lp;\nconst int inf = 1001001000;\nconst ll INF = 1LL<<60;\nconst int MOD = (int)1e9 + 7;\n\ntemplate<class T> inline bool chmin(T& a, T b) {if (a > b) { a = b; return true; } return false;}\ntemplate<class T> inline bool chmax(T& a, T b) {if (a < b) { a = b; return true; } return false;}\n\nint point(int base, int sub){\n\tint ans = base+sub;\n\tif(ans>255)return 255;\n\telse if(ans <0)return 0;\n\telse return ans;\n}\n\nint x2(int a, int b){\n\treturn (a-b)*(a-b);\n}\n\nint main(){\n\tint N,M;\n\tofstream outputfile(\"ans.txt\");\n\twhile(true){\n\t\tcin>>N>>M;\n\t\tif(!N && !M)break;\n\t\tvector<int> C(M);\n\t\tvector<int> Y(N);\n\t\trep(i,M)cin>>C[i];\n\t\trep(i,N)cin>>Y[i];\n\t\tvector<vector<int>> dp(N, vector<int>(256,inf));\n\t\trep(i,M){\n\t\t\tint p = point(128, C[i]);\n\t\t\tdp[0][p] = x2(p, Y[0]);\n\t\t}\n\t\tfor(int i = 0; i<N-1; ++i){\n\t\t\trep(j,256){\n\t\t\t\tif(dp[i][j] == inf)continue;\n\t\t\t\t// printf(\"[%d] -> %d\\n\", j, dp[i][j]);\n\t\t\t\t// cout<<\"----\"<<j<<\"----\"<<endl;\n\t\t\t\trep(k,M){\n\t\t\t\t\tint p = point(j, C[k]);\n\t\t\t\t\t// cout<<p<<endl;\n\t\t\t\t\tchmin(dp[i+1][p], dp[i][j] + x2(p,Y[i+1]));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = inf;\n\t\trep(i,256)chmin(ans, dp[N-1][i]);\n\t\t// cout<<\"---------\"<<endl;\n\t\tcout<<ans<<endl;\n\t\t// cout<<\"---------\"<<endl;\n\t\toutputfile<<ans<<'\\n';\n\t}\n\toutputfile.close();\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n\nusing namespace std;\n\ninline int adj(int x) {\n  return min(max(x, 0), 255);\n}\n#define SQ(x) ((x)*(x))\nint main() {\n  int N, M, INF=1<<28;\n  while(cin >> N >> M && (N|M)) {\n    int C[M];\n    for(int i=0; i<M; i++) cin >> C[i];\n    int dp[2][256]; fill(dp[0], dp[0]+512, INF);\n    dp[128] = 0;\n    for(int k=0; k<N; k++) {\n      for(int i=0; i<256; i++) dp[(k+1)%2][i] = INF;\n      int in; cin >> in;\n      for(int i=0; i<256; i++) {\n        if(dp[i]>=INF) continue;\n        for(int j=0; j<M; j++) {\n          dp[(k+1)%2][adj(i+C[j])] = min(dp[(k+1)%2][adj(i+C[j])], dp[k%2][i]+SQ(in-adj(i+C[j])));\n        }\n      }\n    }\n    cout << *min_element(dp[N%2], dp[(N%2)+1]) << endl;\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<(n);i++)\nusing namespace std;\nint N,M;\nint C[20];\nint X[20004];\nconst long long INF = 1000000000000;\nlong long dp[20004][130];\nlong long dfs(int i_,int y_) {\n    if(i_ == N) return dp[i_][y_] = 0;\n    if(dp[i_][y_]!=INF) return dp[i_][y_];\n\n    long long ret = INF;\n\n    rep(i,M) {\n        int y = y_ + C[i];\n        y = max(y,0);\n        y = min(y,255);\n        //cout<<y<<\",\"<<X[i_]<<endl;\n        ret = min(ret,dfs(i_+1,y)+(X[i_]-y)*(X[i_]-y));\n\n    }\n    //cout<<i_<<\",\"<<y_<<\",\"<<ret<<endl;\n    return dp[i_][y_] = ret;\n\n}\nvoid solve() {\n    rep(i,20004) rep(j,130) dp[i][j] = INF;\n    rep(i,M) cin>>C[i];\n    rep(i,N) cin>>X[i];\n    long long ans = INF;\n    ans = min(ans,dfs(0,128));\n    rep(j,130) {\n        ans = min(ans,dp[0][j]);\n    }\n    cout<<ans<<endl;\n    rep(i,M) C[i] = 0;\n    rep(i,N) X[i] = 0;\n\n}\nint main() {\n    while(cin>>N>>M) {\n        if(N+M==0) return 0;\n        solve();\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <cmath>\n#include <cstdio>\n#include <functional>\n#include <numeric>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <utility>\n#include <sstream>\n#include <complex>\n\nusing namespace std;\n\n#define FOR(i,a,b) for(long long i=(a);i<(b);i++)\n#define REP(i,N) for(long long i=0;i<(N);i++)\n#define ALL(s) (s).begin(),(s).end()\n#define fi first\n#define se second\n\n#define PI acos(-1.0)\n#define INF 1000000007\n#define EPS 1e-10\n\ntypedef long long ll;\ntypedef pair<ll, ll> P;\ntypedef pair<double, double> PD;\ntypedef pair<string, ll> PS;\ntypedef vector<ll> V;\ntypedef pair<P, char> PC;\n\nint n, m;\nint c[100], x[20010];\nint dp[20][300];\n\nint main(){\n\twhile (cin >> n >> m&&n + m){\n\t\tREP(i, 20)REP(j, 300)dp[i][j] = INF;\n\t\tREP(i, m)cin >> c[i];\n\t\tREP(i, n)cin >> x[i];\n\t\tdp[0][128] = 0;\n\t\tREP(i, n){\n\t\t\tREP(j, m){\n\t\t\t\tREP(k, 256){\n\t\t\t\t\tint num = k + c[j];\n\t\t\t\t\tif (num < 0)num = 0;\n\t\t\t\t\tif (num > 255)num = 255;\n\t\t\t\t\tdp[i + 1][num] = min(dp[i][k] + (x[i] - (num))*(x[i] - (num)), dp[i + 1][num]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = INF;\n\t\tREP(i, 300){\n\t\t\tans = min(ans, dp[n][i]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <cmath>\n#include <ctype.h>\n#include <string> \n#include <cstring>\n#include <sstream>\n#include <iostream>\n#include <algorithm>\n#include <cstdlib>\n#include <map>\n#include <queue>\n#include <utility>\n#include <vector>\n#include <set>\n#include <iomanip>\n#include <stack>\n  \nusing namespace std;\n\n#define pi 3.141592653589793\n\nint result[20001][256];\n\nint main()\n{\n\tint n, m;\n\twhile(1){\n\t\tcin >> n >> m;\n\t\tif(n == 0 && m == 0) break;\n\t\tfor(int i = 0; i < n + 1; i++){\n\t\t\tfor(int j = 0; j < 256; j++){\n\t\t\t\tresult[i][j] = 100000000;\n\t\t\t}\n\t\t}\n\t\tresult[0][128] = 0;\n\t\tint c[17], x[20001];\n\t\tfor(int i = 1; i < m + 1; i++){\n\t\t\tcin >> c[i];\n\t\t}\n\t\tfor(int i = 1; i < n + 1; i++){\n\t\t\tcin >> x[i];\n\t\t}\n\t\tfor(int i = 1; i < n + 1; i++){\n\t\t\tfor(int j = 0; j < 256; j++){\n\t\t\t\tfor(int k = 1; k < m + 1; k++){\n\t\t\t\t\tint nexty = j + c[k];\n\t\t\t\t\tif(nexty < 0) nexty = 0;\n\t\t\t\t\telse if(nexty > 255) nexty = 255;\n\t\t\t\t\tresult[i][nexty] = min(result[i][nexty], result[i - 1][j] + (x[i] - nexty) * (x[i] - nexty));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = 10000000;\n\t\tfor(int i = 1; i < 256; i++) ans = min(ans, result[n][i]);\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n\nusing namespace std;\n\nconst int INFTY = 1000000000;\n\nint main() {\n    int N, M;\n    cin >> N >> M;\n    while(N!= 0){\n        vector<int> cvect(M),xvect(N);\n        for(int i=0; i< M ;i++){\n            cin >> cvect[i];\n        }\n        for(int i=0; i< N ; i++){\n            cin >> xvect[i];\n        }\n        vector<int> dp(256, INFTY), dp_old(256, INFTY);\n        dp_old[128]=0;\n        int tmp;\n        for(int i=0; i<N; i++){\n            vector<bool> check(256, false);\n            for(int j=0; j<256 ; j++){\n                dp[j] = INFTY;\n            }\n            for(int j=0; j<256 ; j++){\n                for(int k=0; k< M; k++){\n                    tmp = min(max(0, j+cvect[k]),255);\n                    if(check[tmp]){\n                        dp[tmp] = min(dp[tmp], dp_old[j] + (tmp-xvect[i])*(tmp-xvect[i]));\n                    }else{\n                        dp[tmp] = dp_old[j] + (tmp-xvect[i])*(tmp-xvect[i]);\n                        check[tmp] = true;\n                    }\n                }\n            }\n            swap(dp,dp_old);\n        }\n        int ans=INFTY;\n        for(int i=0; i<256 ; i++){\n            ans= min(ans, dp_old[i]);\n        }\n        cout << ans << endl;\n        cin >> N >> M;\n    }\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <cmath>\nusing namespace std;\n\nint main(){\n  int i,j,k,n,m;\n  while(cin >> n >> m && n && m){\n    vector<int> C,x;\n    for(i=0;i<m;i++){\n      int a;\n      cin >> a;\n      C.push_back(a);\n    }\n    for(i=0;i<n;i++){\n      int a;\n      cin >> a;\n      x.push_back(a);\n    }\n\n    unsigned long long y[256][2];\n    bool f[256][2];\n    for(i=0;i<256;i++){\n      y[i][0] = y[i][1] = 0;\n      f[i][0] = f[i][1] = false;\n    }\n    f[128][0] = true;\n\n    for(i=0;i<n;i++){\n      for(j=0;j<m;j++){\n\tfor(k=0;k<256;k++){\n\t  if(f[k][0]){\n\t    int a = k + C[j];\n\t    if(a < 0) a = 0;\n\t    else if(a > 255) a = 255;\n\n\t    if(y[k][0] >= (unsigned long long)(2*pow(2.0,63))-1) continue;\n\n\t    if(!f[a][1]) y[a][1] = y[k][0]+(x[i]-a)*(x[i]-a);\n\t    else y[a][1] = min(y[a][1],y[k][0]+(x[i]-a)*(x[i]-a));\n\t    f[a][1] = true;\n\t  }\n\t}\n      }\n      for(j=0;j<256;j++){\n\ty[j][0] = y[j][1];\n\ty[j][1] = 0;\n\tf[j][0] = f[j][1];\n\tf[j][1] = false;\n      }\n    }\n\n    unsigned long long ans = 0;\n    bool f2 = false;\n    for(i=1;i<256;i++){\n      if(f[i][0]){\n\tif(!f2){\n\t  ans = y[i][0];\n\t  f2 = true;\n\t}\n\telse ans = min(ans,y[i][0]);\n      }\n    }\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nint foo(int huga){\n\tif(huga <= 0) return 0;\n\telse if(huga >= 255) return 255;\n\treturn huga;\n}\n\nint main(){\n  int N, M, C[16], x, y = 128, i, j, k, l, mi;\n  \twhile(1){\n\t\tint  temp[20004][256] = {}, temp2[2][256] = {};\n\t\ttemp2[0][128] = 1;\n\t    cin>>N>>M;\n\tif(N == 0 && M ==0)break;\n    \tfor(i = 0; i < M; i++){\n\t\t\tcin>>C[i];\n\t\t\ttemp2[1][foo(C[i] + 128)] = 1;\n\t\t}\t\n\t\tfor(i = 1; i <= N; i++){\n\t\t\tcin>>x;\n\t\t\tfor(j = 0; j < 256; j++){\n\t\t\t\tif(!temp2[1][j])continue;\n\t\t\t\tmi = 2147483647;\n\t\t\t\tfor(k = 0; k < M; k++){\n\t\t\t\t\tif(foo(j - C[k]) == 0){\n\t\t\t\t\t\tfor(l = 255 - C[k]; l <= 255; l++){\n\t\t\t\t\t\t\tif(temp2[0][l]){\n\t\t\t\t\t\t\t\tmi = min(temp[i-1][l], mi);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (foo(j - C[k]) == 255){\n\t\t\t\t\t\tfor(l = 0; l <= - C[k]; l++){\n\t\t\t\t\t\t\tif(temp2[0][l]){mi = min(temp[i-1][l], mi);}\n\t\t\t\t\t\t}\n\t\t\t\t\t}else {\n\t\t\t\t\t\tif(!temp2[0][foo(j - C[k])]){continue;}\n\t\t\t\t\t\tmi = min(temp[i-1][foo(j - C[k])], mi);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttemp[i][j] = mi + (x - j) * (x - j);\n\t\t\t}\n\t\t\tfor(j = 0; j < 256; j++){\n\t\t\t\ttemp2[0][j] = temp2[1][j];\n\t\t\t\ttemp2[1][j] = 0;\n\t\t\t}\n\t\t\tfor(j = 0; j < 256; j++){\n\t\t\t\tif(!temp2[0][j])continue;\n\t\t\t\t for(k = 0; k < M; k++){\n\t\t\t\t\ttemp2[1][foo(C[k] + j)] = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tmi = 2147483647;\n\t\tfor(i = 0; i < 256; i++){\n\t\t\tif(!temp2[0][i])continue;\n\t\t\tmi = min(mi, temp[N][i]);\n\t\t}\n\t\tcout<<mi<<endl;\n\t}\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cmath>\n#include <cstring>\n#include <algorithm>\nusing namespace std;\n\n#define INF (1<<31-1)\nint dp[20001][256];\n\nint tw(int n, int c)\n{\n\treturn (n-c)*(n-c);\n}\nint ck(int n)\n{\n\tif(n<=0) return 0;\n\tif(n>=255) return 255;\n\t\n\treturn n;\t\n}\n\nint main()\n{\n\tint N,M, c[16];\n\twhile(cin >> N >> M, (N||M))\n\t{\n\t\tint Lv;\n\t\tfor(int i=0; i<M; i++)\n\t\tcin >> c[i];\n\t\t\n\t\tfor(int i=0; i<=N; i++)\n\t\tfor(int j=0; j<256; j++)\n\t\t{\n\t\t\tdp[i][j] = INF;\n\t\t}\n\t\t\n\t\tdp[0][128] = 0;\n\t\tfor(int i=0; i<N; i++)\n\t\t{\n\t\t\tcin >> Lv;\n\t\t\t\n\t\t\tfor(int j=0; j<256; j++)\n\t\t\t{\n\t\t\t\tif(dp[i][j]!=INF)\n\t\t\t\t{\n\t\t\t\t\tfor(int k=0; k<M; k++)\n\t\t\t\t\t{\n\t\t\t\t\t\tint nc = ck(j+c[k]);\n\t\t\t\t\t\tdp[i+1][nc] = min(dp[i+1][nc], dp[i][j]+tw(nc,Lv));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tint m = INF;\n\t\tfor(int i=0; i<256; i++)\n\t\t{\n\t\t\tm=min(m,dp[N][i]);\n\t\t}\n\t\tcout << m << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <string.h>\n#include <climits>\n\n#define N 50000\n#define M 20\n#define lengthof(x) (sizeof(x)/sizeof(*(x)))\n\nint c[M];\nint x[N];\nint y[N][M];\nint sum[N][M];\n\nusing namespace std;\n\nint dif(int a,int b)\n{\n\treturn (a-b)*(a-b);\n}\n\nint main(void)\n{\n\tint n,m;\n\tint i1,i2,i3;\n\tint minn;\n\tint temp;\n\tint i;\n\n\twhile(1){\n\t\tcin>>n>>m;\n\t\tif(n+m==0) break;\n\n\t\tmemset(y,0,sizeof(y));\n\t\tfill((int*)sum,(int*)(sum+lengthof(sum)),INT_MAX);\n\n\t\tfor(i1=0;i1<m;i1++){\n\t\t\tcin>>c[i1];\n\t\t\ty[0][i1]=128;\n\t\t\tsum[0][i1]=0;\n\t\t}\n\t\tfor(i1=0;i1<n;i1++){\n\t\t\tcin>>x[i1];\n\t\t\t\n\t\t}\n\n\t\t\n\t\tfor(i1=1;i1<=n;i1++){\n\t\t\tfor(i2=0;i2<m;i2++){\n\t\t\t\tminn=INT_MAX;\n\t\t\t\tfor(i3=0;i3<m;i3++){\n\t\t\t\t\ttemp=y[i1-1][i3]+c[i2];\n\t\t\t\t\tif(temp<0) temp=0;\n\t\t\t\t\tif(255<temp) temp=255;\n\t\t\t\t\t\n\t\t\t\t\tif(minn>=dif(x[i1-1],temp)) {\n\t\t\t\t\t\tminn=dif(x[i1-1],temp);\n\t\t\t\t\t\ty[i1][i2]=temp;\n\t\t\t\t\t\tsum[i1][i2]=min(sum[i1][i2],sum[i1-1][i3]+minn);\n\t\t\t\t\t\t//cout<<i1<<\" \"<<i2<<\" \"<<i3<<\" \"<<sum[i1][i2]<<\" \"<<endl;\n\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t}\n\n\t\tminn=sum[n][0];\n\t\tfor(i1=0;i1<m;i1++){\n\t\t\tif(minn>sum[n][i1]) minn=sum[n][i1];\n\t\t}\n\n\t\tcout<<minn<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\n#define mod 1000000007\n#define all(c) begin(c),end(c)\ntemplate <typename T> T &chmin(T &a, const T &b) { return a = min(a, b); }\ntemplate <typename T> T &chmax(T &a, const T &b) { return a = max(a, b); }\nusing ll = long long;\nint dd[] = { 0, 1, 0, -1, 0 }; //→↓←↑\n\nvoid solve()\n{\n\tint N, M;\n\tvector<int> C;\n\tvector<vector<ll>> dp;\n\twhile (true)\n\t{\n\t\tcin >> N >> M;\n\t\tif (N == 0 && M == 0)break;\n\t\tC = vector<int>(M);\n\t\tfor (int i = 0; i < M; i++)\n\t\t{\n\t\t\tcin >> C[i];\n\t\t}\n\t\tdp = vector<vector<ll>>(N + 1, vector<ll>(256, LLONG_MAX / 3));\n\t\tdp[0][128] = 0;\n\t\tint x;\n\t\tfor (int i = 0; i < N; i++)\n\t\t{\n\t\t\tcin >> x;\n\t\t\tfor (int j = 0; j < 256; j++)\n\t\t\t{\n\t\t\t\tfor (int k = 0; k < M; k++)\n\t\t\t\t{\n\t\t\t\t\tint l = min(max(j + C[k], 0), 255);\n\t\t\t\t\tchmin(dp[i + 1][l], dp[i][j] + (x - l) * (x - l));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tll ans = LLONG_MAX;\n\t\tfor (int i = 0; i < 256; i++)\n\t\t{\n\t\t\tchmin(ans, dp[N][i]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}\n\nint main()\n{\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\tsolve();\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define LL long long\n#define REP(i,n) for(int i=0;i<(n);++i)\n#define REPA(i,n) for(int i=1;i<(n);++i)\n#define PII pair<int,int>\n#define PLI pair<long long, int>\n#define PLL pair<long long, long long>\n#define MOD ((int)1e9 + 7)\n#define INF ((int)2e9)\n#define INFLL ((LL)1e18)\n#define ALL(x) (x).begin(),(x).end()\n#define CTOI(x) (x - 'A') \n#define ctoi(x) (x - 'a')\n#define BIT(x) (1 << (x))\nusing namespace std;\n\nLL modinv(LL a){\n    LL b = MOD, u = 1, v = 0;\n    while(b){\n        LL t = a / b;\n        a -= t * b;swap(a, b);\n        u -= t * v;swap(u, v);\n    }\n    u%=MOD;\n    if(u < 0) u += MOD;\n    return u;\n}\n\nLL exp(LL a, LL b){\n    LL res = 1;\n    LL sum = a;\n    while(b){\n        if(b&1)res = (res * sum) % MOD;\n        sum = (sum * sum) % MOD;\n        b>>=1;\n    }\n    return res;\n}\n\nint count(int x){\n    int res = 0;\n    while(x){\n        res += x & 1;\n        x>>=1;\n    }\n    return res;\n}\n\nvector<int> getsosu(int N){\n    vector<int> res;\n    vector<int> check(N+1, true);\n    for(int i=2;i<=N;++i){\n        if(check[i]){\n            res.push_back(i);\n            for(int j=i*2;j<=N;j+=i){\n                check[j]=false;\n            }\n        }\n    }\n    return res;\n}\n\nvector<int>y;\nvector<int> C;\nint N, M;\n\nint main(){\n    while(cin >> N >> M && N){\n        C = vector<int>(M);\n        REP(i, M)cin>>C[i];\n        y = vector<int>(N);\n        REP(i, N)cin>>y[i];\n        vector<vector<int> > dp(N+1, vector<int>(256, INF));\n        dp[0][128] = 0;\n        REP(i, N){\n            REP(j, 256){\n                REP(k, M){\n                    int d = max(0, min(255, j + C[k]));\n                    dp[i+1][d] = min(dp[i+1][d], (y[i]-d) * (y[i]-d) + dp[i][j]);\n                }\n            }\n        }\n        int ans = INF;\n        REP(i, 256){\n            ans = min(ans, dp.back()[i]);\n        }\n        cout << ans << endl;\n    }\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nint main(){\n  int n,m;\n  while(cin>>n>>m,n){\n    int dp[n+1][256];\n    for(int i=0;i<=n;i++)\n      for(int j=0;j<256;j++)\n\tdp[i][j]=1<<30;\n    dp[0][128]=0;\n    int c[m],x[n];\n    for(int i=0;i<m;i++)cin>>c[i];\n    for(int i=0;i<n;i++)cin>>x[i];\n    \n    for(int i=0;i<n;i++){\n      for(int j=0;j<256;j++){\n\tfor(int k=0;k<m;k++){\n\t  if(j+c[k]<0){\n\t    dp[i+1][0]=min(dp[i+1][0],dp[i][j] + x[i]*x[i]);\n\t  }else if(j+c[k]>255){\n\t    dp[i+1][255]=min(dp[i+1][255],dp[i][j] + (x[i]-255)*(x[i]-255));\n\t  }else{\n\t    dp[i+1][j+c[k]]=min(dp[i+1][j+c[k]],dp[i][j] + (x[i]-j-c[k])*(x[i]-j-c[k]));\n\t  }\n\t}\n      }\n    }\n    // for(int j=0;j<256;j++){\n    //   for(int i=0;i<n;i++){\n    // \tcout << dp[i][j] << \" \";\n    //   }\n    //   cout << endl;\n    // }\n\n    int res=1<<30;\n    for(int i=0;i<256;i++)res=min(res,dp[n][i]);\n    cout << res << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n\nint n, m, c[16], x[20000], table[20001][256];\nconst int INF = 2147483647;\n\nint min(int a, int b){\n    return a < b ? a : b;\n}\n\nint main(){\n    cin >> n >> m;\n    while( n != 0 || m != 0 ){\n        int i;\n        for(i = 0; i < m; i++){\n            cin >> c[i];\n        }\n        for(i = 0; i < n; i++){\n            cin >> x[i];\n        }\n        //dp\n        for(i = 0; i <= n; i++){\n            for(int j = 0; j < 256; j++){\n                table[i][j] = INF;\n            }\n        }\n        table[0][128] = 0;\n        for(i = 0; i < n; i++){\n            for(int j = 0; j < m; j++){\n                for(int k = 0; k <= 255; k++){\n                    if( table[i][k] < INF ){\n                        int t = k + c[j];\n                        if( t < 0 ) t = 0;\n                        if( t > 255 ) t = 255;\n                        int s = (t - x[i])*(t - x[i]);\n                        table[i+1][t] = min(table[i][k] + s, table[i+1][t]);\n                    }\n                }\n            }\n            /*\n            for(int j = 0; j < 256; j++){\n                if( table[i][j] == INF){\n                    cout << \"INF \";\n                }else{\n                    cout << table[i][j] << ' ';\n                }\n            }\n            */\n        }\n        int ans = INF;\n        for(int i = 0; i <= 255; i++){\n            ans = min(table[n][i], ans);\n        }\n        cout << ans << endl;\n        cin >> n >> m;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<string>\n#include <vector>\n#include <stack>\n#include <map>\n#include<iostream>\n#include <algorithm>\n#include <functional>\n\nusing namespace std;\nint n;\nint m;\nint price;\nint a;\nint b;\n\nstruct G{\n\tstring name;\n\tdouble value;\n};\nbool operator>(const G& left, const G& right)\n{\n\tif(left.value>right.value){\n\t\treturn true;\n\t}else if(left.value<right.value){\n\t\treturn false; \n\t}else{\n\t\treturn left.name<right.name;\n\t}\n}\n\nbool operator<(const G& left, const G& right)\n{\n  \tif(left.value>right.value){\n\t\treturn false;\n\t}else if(left.value<right.value){\n\t\treturn true; \n\t}else{\n\t\treturn left.name>right.name;\n\t}\n}\n\n\n\nint main(){\n\twhile(true){\n\t\tcin >>n;\n\t\tcin >>m;\n\n\t\tif(n==0){\n\t\t\tbreak;\n\t\t}\n\t\tvector<int> codebook;\n\t\tvector<int> data;\n\t\tfor(int i=0;i<m;i++){\n\t\t\tcin >> a;\n\t\t\tcodebook.push_back(a);\n\t\t}\n\t\tfor(int i=0;i<n;i++){\n\t\t\tcin >> a;\n\t\t\tdata.push_back(a);\n\t\t}\n\t\t//値,誤差値でハッシュ。\n\t\tmap<int,int> hash;\n\t\thash[128]=0;\n\n\t\tfor(int i=0;i<n;i++){\n\t\t\tint d=data[i];//次のデータ\n\t\t\tmap<int,int>::iterator it = hash.begin();\t\t\n\t\t\tmap<int,int> next_hash;\n\t\t\twhile( it != hash.end() )\n\t\t\t{\n\t\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\t\tint f=max(min((*it).first+codebook[k],255),0);\n\t\t\t\t\tint div=f-d;\n\t\t\t\t\tint s=(*it).second+div*div;\n\t\t\t\t\tif(next_hash.find(f)!= next_hash.end()){\n\t\t\t\t\t\tnext_hash[f]=min(next_hash[f],s);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tnext_hash[f]=s;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t++it;\n\t\t\t}\n\t\t\thash=next_hash;\n\t\t}\n\t\tint mi=2147483657;\n\t\tmap<int,int>::iterator it = hash.begin();\n\t\twhile( it != hash.end() )\n\t\t{\n\t\t\tmi=min((*it).second,mi);\n\t\t\tit++;\n\t\t}\n\t\tcout << mi <<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n\nusing namespace std;\n\ninline int normalize(int y) {\n    return min(255, max(0, y));\n}\n\ninline int get_error(int y, int y0) {\n    y -= y0;\n    return y * y;\n}\n\nint errors[20001][256];\nint solve(int n, int m, int c[], int x[]) {\n    int min_error = -1;\n    for (int t = 0; t <= n; ++t) {\n        for (int y = 0; y < 256; ++y) {\n            errors[t][y] = -1;\n        }\n    }\n    errors[0][128] = 0;\n    for (int t = 0; t < n; ++t) {\n        for (int y = 0; y < 256; ++y) {\n            if (errors[t][y] < 0) {\n                continue;\n            }\n            for (int i = 0; i < m; ++i) {\n                int yn = normalize(y + c[i]);\n                int e = errors[t][y] + get_error(yn, x[t]);\n                if (errors[t + 1][yn] < 0 || e < errors[t + 1][yn]) {\n                    errors[t + 1][yn] = e;\n                }\n            }\n        }\n    }\n    for (int y = 0; y < 256; ++y) {\n        if (errors[n][y] < 0) {\n            continue;\n        }\n        if (min_error < 0 || errors[n][y] < min_error) {\n            min_error = errors[n][y];\n        }\n    }\n    return min_error;\n}\n\nint main() {\n    int n, m;\n    int c[16], x[20000];\n    while (true) {\n        cin >> n >> m;\n        if (n == 0) {\n            return 0;\n        }\n        for (int i = 0; i < m; ++i) {\n            cin >> c[i];\n        }\n        for (int i = 0; i < n; ++i) {\n            cin >> x[i];\n        }\n        cout << solve(n, m, c, x) << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "\n#include<iostream>\n#include<algorithm>\n#include<vector>\n#include<stack>\n#include<map>\n#include<set>\n#include<queue>\n#include<cstdio>\n#include<climits>\n#include<cmath>\n#include<cstring>\n#include<string>\n#include<sstream>\n#include<numeric>\n#include<cassert>\n\n#define f first\n#define s second\n#define mp make_pair\n\n#define REP(i,n) for(int i=0; i<(int)(n); i++)\n#define rep(i,s,n) for(int i=(s); i<(int)(n); i++)\n#define FOR(i,c) for(__typeof((c).begin()) i=(c).begin(); i!=(c).end(); i++)\n#define ALL(c) (c).begin(), (c).end()\n#define IN(x,s,g) ((x) >= (s) && (x) < (g))\n#define ISIN(x,y,w,h) (IN((x),0,(w)) && IN((y),0,(h)))\n#define print(x) printf(\"%d\\n\",x)\n\nusing namespace std;\n\ntypedef unsigned int uint;\ntypedef long long ll;\n\nconst int _dx[] = {0,1,0,-1};\nconst int _dy[] = {-1,0,1,0};\n\nint getInt(){\n  int ret = 0,c;\n  c = getchar();\n  while(!isdigit(c)) c = getchar();\n  while(isdigit(c)){\n    ret *= 10;\n    ret += c - '0';\n    c = getchar();\n  }\n  return ret;\n}\n\nint c[16];\nint x[20000];\nint n,m;\n\nint memo[20000][256];\n\nint solve(int now, int prev, int kabe){\n  if(now == n) return 0;\n  if(memo[now][prev]!=-1) return memo[now][prev];\n\n  int ret = INT_MAX;\n  REP(i,m){\n    int t = min(255,max(0,prev + c[i]));\n    int g = (t - x[now]) * (t - x[now]);\n    if(true || kabe - g > 0){\n      int s = solve(now+1, t, kabe-g);\n      if(s == INT_MAX) continue;\n      ret = min(ret, g+s);\n      kabe = min(kabe,ret);\n    }\n  }\n  return memo[now][prev] = ret;\n}\n\nint main(){\n  while(scanf(\"%d%d\",&n,&m), n+m){\n    REP(i,m) scanf(\"%d\",c+i);\n    REP(i,n) scanf(\"%d\",x+i);\n    memset(memo,-1,sizeof(int)*256*n);\n    printf(\"%d\\n\",solve(0,128,INT_MAX));\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<deque>\n#include<list>\n#include<map>\n#include<queue>\n#include<set>\n#include<stack>\n#include<vector>\n#include<algorithm>\n#include<string>\n#include<iostream>\n#include<sstream>\n#include<cmath>\n#include<cstdio>\n#include<cstring>\nusing namespace std;\nint a[16],b[20000],c[20001][256],n,m;\nint fi(int p,int q){\n  int i;\n  if(c[p][q]>=0)\n    return c[p][q];\n  int mn=1<<30;\n  for(i=0;i<m;++i){\n    int r=min(max(0,q+a[i]),255),s=(b[p]-r)*(b[p]-r);\n    if(0){\n    }else if(mn>fi(p+1,r)+s){\n      mn=c[p+1][r]+s;\n    }else if(mn<c[p+1][r]+s){\n      break;\n    }\n  }\n  return c[p][q]=mn;\n}\nint main(){\n  int i;\n  //int n,m;\n  while(cin>>n>>m,n||m){\n    //int a[16],b[20000];\n    for(i=0;i<m;++i)\n      cin>>a[i];\n    sort(a,a+m);\n    for(i=0;i<n;++i)\n      cin>>b[i];\n    memset(c,-1,n*256*sizeof(int));\n    memset(c[n],0,256*sizeof(int));\n    cout<<fi(0,128)<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <cctype>\n#include <limits.h>\n#include <math.h>\n#include <complex>\n#include <bitset>\n#include <vector>\n#include <map>\n#include <set>\n#include <stack>\n#include <queue>\n#include <cstring>\n#include <string>\n#include <sstream>\n#include <algorithm>\n#include <iomanip>\n#include <iostream>\n\n#define VARIABLE(x) cerr << #x << \"=\" << x << endl\n#define BINARY(x) static_cast<bitset<16> >(x)\n#define rep(i,n) for(int i=0;i<(int)(n);i++)\n#define REP(i,m,n) for (int i=m;i<(int)(n);i++)\n#define if_range(x, y, w, h) if (0<=(int)(x) && (int)(x)<(int)(w) && 0<=(int)(y) && (int)(y)<(int)(h))\n#define ALL(a) (a).begin(),(a).end()\nint dx[4]={0, -1, 1, 0}, dy[4]={-1, 0, 0, 1};\nusing namespace std;\ntypedef long long ll;\ntypedef pair<ll, int> P;\ntypedef vector<vector<int> > VVI;\nconst int INF = 1e9;\nconst double EPS = 1e-6;\n\nint round(int y)\n{\n\ty = min(y, 255);\n\ty = max(y, 0);\n\treturn y;\n}\n\nint sq(int x)\n{\n\treturn x*x;\n}\n\nint dp[20000][256];\n\nint main()\n{\n\tint N, M;\n\twhile (cin>>N>>M, N) {\n\t\tvector<int> C(M), x(N);\n\t\trep(i, M) cin>>C[i];\n\t\trep(i, N) cin>>x[i];\n\t\t\n\t\t\n\t\tfill(dp[0], dp[0]+20000*16, INF);\n\t\t\n\t\tfor (int k=0; k<M; k++) {\n\t\t\tint y = round(128 + C[k]);\n\t\t\tdp[0][y] = sq(x[0]-y);\n\t\t}\n\t\t\n\t\tfor (int i=1; i<N; i++) {\n\t\t\tfor (int j=0; j<256; j++) {\n\t\t\t\tif (dp[i-1][j] >= INF) continue;\n\t\t\t\tfor (int k=0; k<M; k++) {\n\t\t\t\t\tint y = round(j+C[k]);\n\t\t\t\t\tdp[i][y] = min(dp[i][y], dp[i-1][j]+sq(x[i]-y));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tint ans=INF;\n\t\tfor (int j=0; j<256; j++) {\n\t\t\tans = min(dp[N-1][j], ans);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "2 7\n4\n2\n1\n0\n-1\n-2\n-4\n131\n137\n2 7\n4\n2\n1\n0\n-1\n-2\n-4\n131\n123\n10 7\n-4\n-2\n-1\n0\n1\n2\n4\n132\n134\n135\n134\n132\n128\n124\n122\n121\n122\n5 1\n255\n0\n0\n0\n0\n0\n4 1\n0\n255\n0\n255\n0\n0 0"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <string.h>\n#define min(a,b) a > b ? b : a\n\nint main(void){\n\tint n, m, i, j, c[16], x, t;\n\tlong long int f[2][256], k;\n\twhile(1){\n\t\tscanf(\"%d%d\",&n,&m);\n\t\tif(n == 0 && m == 0)\n\t\t\tbreak;\n\t\tfor(i = 0;i < m;i++)\n\t\t\tscanf(\"%d\",&c[i]);\n\t\tmemset(f,-1,sizeof(f));\n\t\tf[0][128] = 0;\n\t\tfor(i = 0;i < n;i++){\n\t\t\tscanf(\"%d\",&x);\n\t\t\tfor(k = 0;k < 256;k++){ // 現在位置\n\t\t\t\tif(f[i % 2][k] != -1){\n\t\t\t\t\tfor(j = 0;j < m;j++){\n\t\t\t\t\t\tt = k + c[j];\n\t\t\t\t\t\tif(t < 0)\n\t\t\t\t\t\t\tt = 0;\n\t\t\t\t\t\telse if(t > 255)\n\t\t\t\t\t\t\tt = 255;\n\t\t\t\t\t\tif(f[(i + 1) % 2][t] == -1 || f[(i + 1) % 2][t] > f[i % 2][k] + (x - t) * (x - t))\n\t\t\t\t\t\t\tf[(i + 1) % 2][t] = f[i % 2][k] + (x - t) * (x - t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(j = 0;j < 256;j++)\n\t\t\t\tf[i % 2][j] = -1;\n\t\t}\n\t\tk = 0x7FFFFFFF;\n\t\tfor(i = 0;i < 256;i++){\n\t\t\tif(f[n % 2][i] != -1)\n\t\t\t\tk = min(f[n % 2][i],k);\n\t\t}\n\t\tprintf(\"☆%d\\n\",k);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define rep(i, n) for (int i = 0; i < (int)(n); i++)\n#define P pair<int,int>\n#define int long long\n\nconst int INF = 1e9;\nconst int N = 20020;\nconst int M = 260;\nconst int S = 128;\nint dp[N][M];\n\nsigned main() {\n    while(true) {\n        int n, m;\n        cin >> n >> m;\n        if (n == 0 && m == 0) {\n            break;\n        }\n\n        rep(i,N) rep(j,M) dp[i][j] = INF;\n        vector<int> code(m);\n        vector<int> a(n);\n        rep(i, m) cin >> code[i];\n        rep(i, n) cin >> a[i];\n\n        for(int i = 0; i < m; i++){\n            int x = code[i] + S;\n            if(x >= 255) x = 255;\n            if(x <= 0) x = 0;\n            dp[0][x] = (x - a[0]) * (x - a[0]);\n        }\n\n        for(int i = 1; i < n; i++){\n            for(int j = 0; j < M; j++){\n                for(int k = 0; k < m; k++){\n                    int x = j + code[k];\n                    if(x >= 255) x = 255;\n                    if(x <= 0) x = 0;\n                    int sq = (x - a[i]) * (x - a[i]);\n                    dp[i][x] = min(dp[i][x], dp[i-1][j] + sq);\n                }\n            }\n        }\n\n        int ans = INF;\n        for(int i = 0; i < M; i++) ans = min(ans,dp[n-1][i]);\n        cout << ans << endl;\n    }\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#line 1 \"../lib/template.hpp\"\n\n\n#include <bits/stdc++.h>\n#define REP(i, n) for (int i = 0; i < n; i++)\n#define FOR(i, m, n) for (int i = m; i < n; i++)\n#define ALL(v) (v).begin(), (v).end()\n#define coutd(n) cout << fixed << setprecision(n)\n#define ll long long int\n#define vl vector<ll>\n#define vi vector<int>\n\nusing namespace std;\n\n#line 2 \"tmp.cpp\"\n\nint main() {\n  while (true) {\n    int n, m;\n    cin >> n >> m;\n    if (n == 0 && m == 0)\n      break;\n    vector<vl> dp(n + 1, vl(256, 1e12));\n    vl c(m);\n    REP(i, m) { cin >> c[i]; }\n    vl x(n);\n    REP(i, n) { cin >> x[i]; }\n\n    REP(j, 256) { dp[0][j] = 0LL; }\n    FOR(i, 1, n + 1) {\n      REP(j, 256) {\n        REP(k, m) {\n          ll ny = min(255LL, max(0LL, (i == 1 ? 128 + c[k] : j + c[k])));\n          dp[i][ny] = min(dp[i][ny], dp[i - 1][j] + (ny - x[i - 1]) * (ny - x[i - 1]));\n        }\n      }\n    }\n    ll ans = 1e12;\n    REP(j, 256) { ans = min(ans, dp[n][j]); }\n    cout << ans << endl;\n  }\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <stack>\n#include <cstring>\n#include <queue>\n\n#define rep(i,n) for(int i = 0; i < (n); i++)\n#define all(v) (v).begin(), (v).end()\n#define MP make_pair\nusing namespace std;\n\ntypedef vector<int> vi;\ntypedef pair<int, int> P;\ntypedef long long ll;\n\nint dp[20000][256];\n\nint main(){\n\t//freopen(\"test.txt\", \"r\", stdin);\n\tint n, m;\n\twhile(cin >> n >> m, n|m){\n\t\tvector<int> C(m);\n\t\trep(i, m) cin >> C[i];\n\t\tvector<int> x(n);\n\t\trep(i, n) cin >> x[i];\n\n\t\trep(i, 20000) rep(j, 256) dp[i][j] = 2<<29;\n\n\t\trep(i, m){\n\t\t\tint val = 128+C[i];\n\t\t\tif(val < 0) val = 0;\n\t\t\tif(val > 255) val = 255;\n\t\t\tdp[0][val] = (x[0]-val)*(x[0]-val);\n\t\t}\n\t\trep(i, n-1){\n\t\t\trep(j, 256){\n\t\t\t\tif(dp[i][j] == 2<<29) continue;\n\t\t\t\trep(k, m){\n\t\t\t\t\tint val = j+C[k];\n\t\t\t\t\tif(val < 0) val = 0;\n\t\t\t\t\tif(val > 255) val = 255;\n\t\t\t\t\tint d = (x[i+1]-val)*(x[i+1]-val);\n\t\t\t\t\tdp[i+1][val] = min(dp[i+1][val], dp[i][j]+d);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = 2<<29;\n\t\trep(i, 256){\n\t\t\tans = min(ans, dp[n-1][i]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#define INF 100000000\nusing namespace std;\nint main(){\n\tint n,m,dp[20][260],cb[20],input[20001];//now,now\n\tint temp;\n\twhile(cin>>n>>m,n||m){\n\t\tmemset(dp,-1,sizeof(dp));\n\t\tfor(int i=0;i<m;i++)\n\t\t\tcin>>cb[i];\n\t\tfor(int i=0;i<n;i++){\n\t\t\tcin>>input[i];\n\t\t}\n\t\tfor(int i=0;i<=n;i++)\n\t\t\tfill(dp[i],dp[i]+256,INF);\n\t\tdp[0][128]=0;\n\t\tfor(int i=0;i<n;i++)\n\t\tfor(int j=0;j<=255;j++){\n\t\t\t\tif(dp[i][j]!=INF){\n\t\t\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\t\t\ttemp=j+cb[k];\n\t\t\t\t\t\tif(temp>255)\n\t\t\t\t\t\ttemp=255;\n\t\t\t\t\t\telse if(temp<0)\n\t\t\t\t\t\ttemp=0;\n\t\t\t\t\t\tdp[i+1][temp]=min(dp[i+1][temp],dp[i][j]+(temp-input[i])*(temp-input[i]));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t}\n\t\tint ans=INF;\n\t\tfor(int i=0;i<=255;i++){\n\t\tif(ans>dp[n][i])\n\t\tans=dp[n][i];\n\t\t}\n\t\tcout<<ans<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nint sqr(int x) { return x*x; }\n\nint main()\n{\n  int N, M;\n  while (scanf(\"%d %d\", &N, &M) != EOF && N != 0) {\n    vector<int> cs(M);\n    for (int i = 0; i < M; i++) {\n      scanf(\"%d\", &cs[i]);\n    }\n\n    static int dp[20000+1][256];\n    static const int INF = 10000000;\n    fill_n(dp[0], 256, INF);\n    dp[0][128] = 0;\n    for (int i = 1; i <= N; i++) {\n      int x;\n      scanf(\"%d\", &x);\n      fill_n(dp[i], 256, INF);\n      for (int j = 0; j < 256; j++) {\n        for (int k = 0; k < M; k++) {\n          int y = j + cs[k];\n          if (y < 0) {\n            y = 0;\n          } else if (y > 255) {\n            y = 255;\n          }\n          dp[i][y] = min(dp[i][y], dp[i-1][j] + sqr(y - x));\n        }\n      }\n    }\n    printf(\"%d\\n\", *min_element(dp[N], dp[N]+256));\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long int ll;\ntypedef pair<ll,ll> mp;\nll inf =  1e9;\n\n\nint main(){\n while(1){\n  ll n,m;\n  cin>>n>>m;\n  if(n == 0 ) break;\n  vector<ll> c(m),x(n);\n  for(ll i=0;i<m;i++)cin>>c[i];\n  for(ll i=0;i<n;i++)cin>>x[i];\n  vector<vector<ll> > dp(n+1,vector<ll>(256,inf) );\n  dp[0][128] = 0;\n //cout<<\"OK\"<<endl;\n  for(ll i=0;i<n;i++){\n   for(ll j=0;j<256;j++){\n    if( dp[i][j] == inf ) continue;\n    for(ll k=0;k<m;k++){\n     //if( 0<= j+c[k] && j + c[k] < 256 ){\n      ll next = min(max(0ll,j+c[k]),255ll);\n      dp[i+1][next] = min( dp[i+1][next] , dp[i][j] + ( next - x[i] )*( next - x[i] ) );\n     //}\n /*    if( j - c[k] >= 0 ){\n      dp[i+1][j-c[k]] = min( dp[i+1][j-c[k]] , dp[i][j] + ( j-c[k] - x[i] )*( j-c[k] - x[i] ) );\n     }*/\n    }\n\n   }\n  }\n  ll res = inf;\n  for(ll i=0;i<256;i++) res = min( res , dp[n][i] );\n  cout<<res<<endl;\n\n }\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\ntypedef long long int ll;\ntypedef pair<int, int> P;\ntypedef pair<ll, ll> Pll;\ntypedef vector<int> Vi;\ntypedef tuple<int, int, int> T;\n#define FOR(i,s,x) for(int i=s;i<(int)(x);i++)\n#define REP(i,x) FOR(i,0,x)\n#define ALL(c) c.begin(), c.end()\n#define MP make_pair\n#define DUMP( x ) cerr << #x << \" = \" << ( x ) << endl\n#define fst first\n#define snd second\n\n#define INF 1300500000\n\nll dp[2][256];\nll sample[20010];\n\n\nint main() {\n  cin.tie(0);\n  ios_base::sync_with_stdio(false);\n\n  while (1) {\n    int N, M, code[16];\n    cin >> N >> M;\n    if (N == 0 && M == 0) break;\n    REP(i, M) cin >> code[i];\n    REP(i, N) cin >> sample[i];\n\n    fill(dp[0], dp[0]+256, INF);\n    dp[0][128] = 0;\n\n    REP(i, N) {\n      fill(dp[(i+1)%2], dp[(i+1)%2]+256, INF);\n      REP(j, 256) {\n\tREP(k, M) {\n\t  int next = max(0, min(255, j + code[k]));\n\t  ll diff = sample[i] - next;\n\t  dp[(i+1)%2][next] = min(dp[(i+1)%2][next], dp[i%2][j] + diff * diff);\n\t}\n      }\n    }\n    ll ans = INF;\n    REP(i, 256) ans = min(ans, dp[N%2][i]);\n    cout << ans << endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <cmath>\n#include <climits>\nusing namespace std;\n#define FOR(i,a,n) for(int i=a;i<n;i++)\n#define REP(i,n) FOR(i,0,n)\ntypedef vector<int> vi;\ntypedef vector<vi> vii;\n\nint main(){\n\tint n,m;\n\twhile(cin>>n>>m,n&&m){\n\t\tvi c(m),x(n);\n\t\tREP(i,m){\n\t\t\tcin>>c[i];\n\t\t}\n\t\tREP(i,n){\n\t\t\tcin>>x[i];\n\t\t}\n\n\t\tvii dp(n+1,vi(256,INT_MAX));\n\t\tdp[0][128]=0;\n\t\tREP(i,n){\n\t\t\tREP(j,256){\n\t\t\t\tif(dp[i][j]==INT_MAX)continue;\n\t\t\t\tREP(k,m){\n\t\t\t\t\tint y=j+c[k];\n\t\t\t\t\tif(y<0)y=0;\n\t\t\t\t\tif(y>255)y=255;\n\t\t\t\t\tdp[i+1][y]=min(dp[i+1][y],dp[i][j]+(int)pow((double)y-x[i],2));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans=INT_MAX;\n\t\tREP(i,256){\n\t\t\tans=min(ans,dp[n][i]);\n\t\t}\n\t\tcout<<ans<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstring>\n#include <iostream>\n#include <algorithm>\n\nusing namespace std;\n\nint main()\n{\n\tfor(int n,m;cin>>n>>m,n|m;){\n\t\tint cs[m],xs[n];\n\t\tfor(int i=0;i<m;i++) cin>>cs[i];\n\t\tfor(int i=0;i<n;i++) cin>>xs[i];\n\t\t\n\t\tstatic int dp[20001][256];\n\t\tmemset(dp,0x7f,sizeof dp);\n\t\tdp[0][128]=0;\n\t\tfor(int i=0;i<n;i++) for(int j=0;j<256;j++){\n\t\t\tif(dp[i][j]==0x7f7f7f7f) continue;\n\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\tint l=max(min(j+cs[k],255),0);\n\t\t\t\tdp[i+1][l]=min(dp[i+1][l],dp[i][j]+(l-xs[i])*(l-xs[i]));\n\t\t\t}\n\t\t}\n\t\t\n\t\tcout<<*min_element(dp[n],dp[n]+256)<<endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "/*\nhttp://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=2199&lang=jp\n*/\n\n#include <bits/stdc++.h>\n#define rep(i,n) for (int i = 0; i < (n); ++i)\nusing namespace std;\nusing ll = long long;\nusing P = pair<int,int>;\n\nconst int INF = 1901001001;\n\nint dp[20001][256];\n\nvoid init(){\n    rep(i,20001) rep(j,256) dp[i][j]=INF;\n    \n    dp[0][128]=0;\n}\n\nint main(){\n    vector<int> ans;\n    while(1){\n        int n,m;\n        cin >> n >> m;\n\n        if(n==0) {\n            break;\n        }    \n\n        vector<int> c(m);\n        rep(i,m) cin>>c[i];\n        vector<int> y(n);\n        rep(i,n){\n            cin >> y[i];\n        }\n\n        init();\n\n        rep(i,n){\n            vector<int> temp(256,INF);\n            rep(j,256){\n                rep(k,m){\n                    int after = j+c[k];\n                    if(after>255) after=255;\n                    if(after<0) after=0;\n                    \n                    temp[after]=min(dp[i][j]+(y[i]-after)*(y[i]-after),temp[after]);\n            }\n        }\n        rep(j,256) dp[i+1][j] = temp[j];\n    }\n    int res = INF;\n    rep(i,256){\n        res = min(dp[n][i],res);\n    }\n    //cout << \"rep\" << endl;\n    ans.push_back(res);\n}\n\n    rep(i,ans.size()) cout << ans[i] << endl;\n    \n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\n\nint main() {\n\twhile (1) {\n\t\tint n, m; cin >> n >> m;\n\t\tif (n==0 && m==0) return 0;\n\t\tvector<ll> c(m); for (int i=0; i<m; i++) cin >> c[i];\n\t\tvector<ll> x(n); for (int i=0; i<n; i++) cin >> x[i];\n\t\tvector<vector<ll> > dp(n+1, vector<ll>(256, 1000000000000));\n\t\tdp[0][128] = 0;\n\t\tfor (int i = 0; i < n; ++i)\n\t\t{\n\t\t\tfor (int j = 0; j < 256; ++j)\n\t\t\t{\n\t\t\t\tfor (int k = 0; k < m; ++k)\n\t\t\t\t{\n\t\t\t\t\tif (j+c[k] < 0) dp[i+1][0] = min(dp[i+1][0], dp[i][j]+x[i]*x[i]);\n\t\t\t\t\telse if (j+c[k] > 255) dp[i+1][255] = min(dp[i+1][255], dp[i][j]+(255-x[i])*(255-x[i]));\n\t\t\t\t\telse dp[i+1][j+c[k]] = min(dp[i+1][j+c[k]], dp[i][j]+(x[i]-(j+c[k]))*(x[i]-(j+c[k])));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tll ans = 1000000000000;\n\t\tfor (int j = 0; j < 256; ++j)\n\t\t{\n\t\t\tans = min(ans, dp[n][j]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<vector>\n#include<cstdio>\n#include<sstream>\n#include<algorithm>\n#include<cmath>\n#include<map>\n#include<functional>\n#include<queue>\n#include<stack>\n#include<set>\nusing namespace std;\nint ta[20],c[25000];\nint dp[20000][256];\nconst int INF=1800000000;\nint main(){\n\tint n,m;\n\twhile(cin>>n>>m,n+m){\n\tfor(int i=0;i<m;i++)cin>>ta[i];\n\tfor(int j=0;j<n;j++)cin>>c[j];\n\t\n\tfor(int i=0;i<20000;i++)fill(dp[i],dp[i]+256,INF);\n\tdp[0][128]=0;\n\tfor(int i=0;i<n;i++){\n\t\tfor(int j=0;j<256;j++){\n\t\t\tif(dp[i][j]!=INF){\n\t\t\t\tint tmp=j;\n\t\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\t\tif(j+ta[k]<0)tmp=0;\n\t\t\t\t\telse if(j+ta[k]>255)tmp=255;\n\t\t\t\t\telse tmp=j+ta[k];\n\t\t\t\t\tdp[i+1][tmp]=min( dp[i+1][tmp] ,dp[i][j]+ (c[i]-tmp)*(c[i]-tmp) );\n\t\t\t\t}\n\t\t\t}//endif\n\t\t}\n\t}\n\t/*for(int i=0;i<=n;i++){\n\t\tfor(int j=120;j<=140;j++){\n\t\tcout<<dp[i][j]<<\" \";\n\t\t}\n\t\tcout<<\"\\n\";\n\t}*/\n\tint ans=INF;\n\tfor(int i=0;i<256;i++)ans=min(ans,dp[n][i]);\n\tcout<<ans<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <map>\n#include <algorithm>\nusing namespace std;\n\nconst int INF = 1e+8;\nconst int MAX_M = 16;\nconst int MAX_N = 20000;\n\n// dp[i][y] := i 番目までの差分の総和\nint dp[2000][256];\n\nint main(){\n\tint N, M;\n\twhile( cin >> N >> M, N || M ){\n\t\tint C[MAX_M] = {0};\n\t\t\n\t\tfor(int i=0 ; i < M ; i++ ){\n\t\t\tcin >> C[i];\n\t\t}\n\t\t\n\t\t// 初期化\n\t\tfor(int i=0 ; i <= N ; i++ ){\n\t\t\tfor(int j=0 ; j < 256 ; j++ ){\n\t\t\t\tdp[i][j] = INF;\n\t\t\t}\n\t\t}\n\t\tdp[0][128] = 0;\n\t\t\n\t\tfor(int i=1 ; i <= N ; i++ ){\n\t\t\tint x;\n\t\t\tcin >> x;\n\t\t\tfor(int prev=0 ; prev < 256 ; prev++ ){\n\t\t\t\tfor(int m=0 ; m < M ; m++ ){\n\t\t\t\t\tint next = prev + C[m];\n\t\t\t\t\tif( next < 0 ) next = 0;\n\t\t\t\t\tif( next > 255 ) next = 255;\n\t\t\t\t\tint diff = (next - x) * (next - x);\n\t\t\t\t\tdp[i][next] = min( dp[i][next] , dp[i-1][prev] + diff );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = INF;\n\t\tfor(int i=0 ; i < 256 ; i++ ){\n\t\t\tans = min( ans , dp[N][i] );\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n\n#define REP(i,num) for(ll i=0;i<(num);++i)\n#define LOOP(i) while(i--)\n#define ALL(c) c.begin(),c.end()\n#define PRINTALL(c) for(auto pitr=c.begin();pitr!=c.end();++pitr){cout<<*pitr;if(next(pitr,1)!=c.end())cout<<' ';}cout<<endl;\n#define PAIRCOMP(c,comp) [](const pair<ll,ll>& lhs,const pair<ll,ll>& rhs){return lhs.c comp rhs.c;}\n\nusing namespace std;\nusing ll = long long;\nusing vll = vector<ll>;\nusing vvll = vector<vector<ll>>;\n\nconstexpr ll atcoder_mod = 1e9+7;\n\ntemplate<typename T=ll>\nT in(){T x; cin >> x; return (x);}\ntemplate<typename T=ll,typename C=vector<T>>\nC vecin(int N){C x(N);REP(i,N){x[i]=in<T>();}return move(x);}\n\nvoid vout(){cout << endl;}\ntemplate<typename Head,typename... Tail>\nvoid vout(Head&& h,Tail&&... t){cout << ' ' << h;vout(forward<Tail>(t)...);}\nvoid out(){cout << endl;}\ntemplate<typename Head,typename... Tail>\nvoid out(Head&& h,Tail&&... t){cout << h;vout(forward<Tail>(t)...);}\n\ntemplate<typename T>\nbool chmax(T& a,T b){if(a<b){a=b;return true;}return false;}\ntemplate<typename T>\nbool chmin(T& a,T b){if(a>b){a=b;return true;}return false;}\n\nint main(){\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\tcout<<fixed<<setprecision(10);\n\n\twhile(true){\n\t\tint N=in(),M=in();\n\t\tif(!N && !M) break;\n\t\tvll C=vecin(M);\n\t\tvll X=vecin(N);\n\t\t\n\t\tvvll dp(N+1,vll(256,1ll<<60));\n\t\tdp[0][128]=0;\n\t\tREP(i,N){\n\t\t\tREP(j,256){\n\t\t\t\tREP(k,M){\n\t\t\t\t\tint next = max<int>(min<int>(j+C[k],255),0);\n\t\t\t\t\tchmin(dp[i+1][next],dp[i][j]+(next-X[i])*(next-X[i]));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tout(*min_element(ALL(dp[N])));\n\t}\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nconst long long int INF = 1e9;\n\nint dp[20010][260];\nint c[20], x[20010];\n\nint main() {\n    int n, m;\n\n    while (true)\n    {\n        cin >> n >> m;\n        if(n + m == 0) break;\n        for(int i = 0; i < m; i++) cin >> c[i];\n        for(int i = 0; i < n; i++) cin >> x[i];\n        for(int i = 0; i < n+1; i++)\n        {\n            for (int j = 0; j < 257; j++)\n            {\n                dp[i][j] = INF;\n            }\n        }\n        dp[0][128] = 0;\n\n        for (int i = 0; i < n; i++)\n        {\n            for (int j = 0; j < 256; j++)\n            {\n                for (int k = 0; k < m; k++)\n                {\n                    int ne = j + c[k];\n                    ne = max(ne, 0);\n                    ne = min(ne, 255);\n                    dp[i+1][ne] = min(dp[i+1][ne], dp[i][j] + (x[i] - ne) * (x[i] - ne));\n                }\n            }\n        }\n\n        int ans = INF;\n        for (int i = 0; i < 256; i++)\n        {\n            ans = min(ans, dp[n][i]);\n        }\n\n        cout << ans << endl;\n    }\n\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <unordered_map>\nint square(int x){\n\treturn x * x;\n}\nint main()\n{\n\tusing namespace std;\n\tint N, M, i, j, c, k, v, y, sub_sq, min;\n\tvector <int> C, x;\n\tunordered_map <int, int> :: iterator it;\n\twhile (true) \n\t{\n\t\tcin >> N >> M;\n\t\tif (N == 0 and M == 0) break;\n\t\tC.resize(M); x.resize(N);\n\t\tfor (i=0;i<M;i++) cin >> C[i];\n\t\tfor (i=0;i<N;i++) cin >> x[i];\n\t\tunordered_map <int, int> dp;\n\t\tdp[128] = 0;\n\t\tfor(i = 0; i < N; i++)\n\t\t{\n\t\t\tunordered_map <int, int> tmpdp;\n\t\t\tfor (it = dp.begin();it != dp.end(); it++)\n\t\t\t{\n\t\t\t\tk = it->first; v = it->second;\n\t\t\t\tfor(j = 0; j < M; j++)\n\t\t\t\t{\n\t\t\t\t\tc = C[j];\n\t\t\t\t\tif (k + c > 255) y = 255;\n\t\t\t\t\telse if (k + c < 0) y = 0;\n\t\t\t\t\telse y = k + c;\n\t\t\t\t\tsub_sq = square(x[i]-y);\n\t\t\t\t\tif(not(tmpdp.count(y) != 0 and v + sub_sq >= tmpdp[y])) \n\t\t\t\t\t\ttmpdp[y] = v + sub_sq;\n\t\t\t\t}\n\t\t\t}\n\t\t\tdp = tmpdp;\n\t\t}\n\t\tit = dp.begin();\n\t\tmin = it -> second;\n\t\tit++;\n\t\tfor(;it != dp.end();it++) min = min < it -> second ? min : it -> second;  \n\t\tcout << min << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define rep(i,n) for(int i = 0; i < (int)(n); i++)\n\nint dp[20001][256];\nconst int inf = 1e9;\n\nint main(){\n    int n, m;\n    while (cin >> n >> m && n){\n        vector<int> c(m);\n        rep(i,m) cin >> c[i];\n        rep(i,n+1) rep(j,256) dp[i][j] = inf;\n        dp[0][128] = 0;\n        rep(i,n){\n            int x; cin >> x;\n            rep(j,256){\n                rep(k,m){\n                    int y = j + c[k];\n                    if(y > 255) y = 255;\n                    if(y < 0) y = 0;\n                    int d = x - y;\n                    dp[i+1][y] = min(dp[i+1][y], dp[i][j]+d*d);\n                }\n            }\n        }\n        cout << *min_element(dp[n], dp[n+1]) << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<utility>\n#include<cmath>\n\n#define INF (1 << 29)\n\nusing namespace std;\n\nint fix(int num)\n{\n    return min(255, max( num, 0) );\n}\n\nint main()\n{\n    int N, M;\n    while(cin >> N >> M, (N))\n    {\n\n        vector<int> in_C(M);\n        for(auto& _c : in_C)\n        {\n            cin >> _c;\n        }\n\n        vector<int> in_X(N);\n        for(auto& _x : in_X)\n        {\n            cin >> _x;\n        }\n\n        int dp[2][256];\n        for(int i = 0; i < 256; i++)\n        {\n            dp[0][i] = dp[1][i] = INF;\n        }\n\n        for(int i = 0; i < M; i++)\n        {\n            int sub = fix(128 + in_C[i]);\n            dp[0][sub] = pow(in_X[0] - sub, 2.0);\n        }\n\n        for(int n = 1; n < N; n++)\n        {\n            for(int i = 0; i < 256; i++)\n            {\n                if(dp[0][i] == INF)continue;\n                for(int j = 0; j < M; j++)\n                {\n                    int sub = fix(i + in_C[j]);\n                    int nextScore = dp[0][i] + pow( in_X[n] - sub, 2.0 );\n                    dp[1][sub] = min(dp[1][sub], nextScore);\n                    /*\n                    cout << sub << endl;\n                    cout << dp[0][sub] << endl;\n                    cout << pow( in_X[n] - sub, 2.0 ) << endl;\n                    cout << endl;\n                    //*/\n                }\n            }\n            for(int i = 0; i < 256; i++)\n            {\n                dp[0][i] = dp[1][i];\n                dp[1][i] = INF;\n            }\n        }\n\n        int ans = INF;\n        for(int i = 0; i < 256; i++)\n        {\n            ans = min(ans, dp[0][i]);\n            //cout << i << \" : \"<< ans << endl;\n        }\n        cout << ans << endl;\n\n    }\n\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\n#include<stack>\n#include<map>\n#include<set>\n#include<queue>\n#include<cstdio>\n#include<climits>\n#include<cmath>\n#include<cstring>\n#include<string>\n#include<sstream>\n#include<numeric>\n#include<cassert>\n\n#define f first\n#define s second\n#define mp make_pair\n\n#define REP(i,n) for(int i=0; i<(int)(n); i++)\n#define rep(i,s,n) for(int i=(s); i<(int)(n); i++)\n#define FOR(i,c) for(__typeof((c).begin()) i=(c).begin(); i!=(c).end(); i++)\n#define ALL(c) (c).begin(), (c).end()\n#define IN(x,s,g) ((x) >= (s) && (x) < (g))\n#define ISIN(x,y,w,h) (IN((x),0,(w)) && IN((y),0,(h)))\n#define print(x) printf(\"%d\\n\",x)\n\nusing namespace std;\n\ntypedef unsigned int uint;\ntypedef long long ll;\n\nconst int _dx[] = {0,1,0,-1};\nconst int _dy[] = {-1,0,1,0};\n\nint getInt(){\n  int ret = 0,c;\n  c = getchar();\n  while(!isdigit(c)) c = getchar();\n  while(isdigit(c)){\n    ret *= 10;\n    ret += c - '0';\n    c = getchar();\n  }\n  return ret;\n}\n\nint c[16];\nint x[20000];\nint n,m;\n\nint memo[20000][256];\n\nint solve(int now, int prev, int kabe){\n  if(now == n) return 0;\n  if(memo[now][prev]!=-1) return memo[now][prev];\n\n  int ret = INT_MAX;\n  REP(i,m){\n    int t = min(255,max(0,prev + c[i]));\n    int g = (t - x[now]) * (t - x[now]);\n    if(kabe - g > 0){\n      int s = solve(now+1, t, kabe-g);\n      if(s == INT_MAX) continue;\n      ret = min(ret, g+s);\n      kabe = min(kabe,ret);\n    }\n  }\n  return memo[now][prev] = ret;\n}\n\nint main(){\n  while(scanf(\"%d%d\",&n,&m), n+m){\n    REP(i,m) scanf(\"%d\",c+i);\n    REP(i,n) scanf(\"%d\",x+i);\n    memset(memo,-1,sizeof(int)*256*n);\n    printf(\"%d\\n\",solve(0,128,INT_MAX));\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define rep(i, n) for (int i = 0; i < (int)(n); i++)\n#define FOR(i, s, e) for (int i = (int)(s); i <= (int)(e); i++)\n#define printYesNo(is_ok) puts(is_ok ? \"Yes\" : \"No\");\n#define SORT(v) sort(v.begin(), v.end());\n#define RSORT(v) sort(v.rbegin(), v.rend());\n#define REVERSE(v) reverse(v.begin(), v.end());\n\nint solve(int N, int M)\n{\n  vector<int> C(M), x(N);\n  rep(i, M)\n  {\n    cin >> C[i];\n  }\n  rep(i, N)\n  {\n    cin >> x[i];\n  }\n  vector<vector<int>> dp(N + 1, vector<int>(256, INT32_MAX));\n  dp[0][128] = 0;\n  rep(i, N) rep(j, 256)\n  {\n    if(dp[i][j] != INT32_MAX)\n    {\n      rep(k, M)\n      {\n        int nj = j + C[k];\n\n        if(nj < 0)\n          nj = 0;          \n\n        if(nj > 255)\n          nj = 255;\n        int dist = pow(nj - x[i], 2);\n        dp[i + 1][nj] = min(dp[i + 1][nj], dist + dp[i][j]);\n      }\n    }\n  }\n  int dst = INT32_MAX;\n  rep(i, 256)\n  {\n    dst = min(dst, dp[N][i]);\n  }\n  return dst;\n}\n\nint main()\n{\n  while(true)\n  {\n    int N, M;\n    cin >> N >> M;\n    if(N != 0 || M != 0)\n      cout << solve(N, M) << endl;\n    else\n      break;\n  }\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main()\n{\nvector<int> C,x;vector<vector<int>> dp;\nint N,M,num,ans=1000000000,i,j,l;scanf(\"%d %d\",&N,&M);\nwhile(N!=0&&M!=0)\n{\nC.resize(0);x.resize(0);dp.resize(0);\nC.resize(M),x.resize(N),dp.resize(N+1);for(i=0;i<N+1;i++)dp[i].resize(256,-1);dp[0][128]=0;\nfor(i=0;i<M;i++)scanf(\"%d\",&C[i]);\nfor(i=0;i<N;i++)scanf(\"%d\",&x[i]);\nfor(i=0;i<N;i++)for(j=0;j<256;j++)for(l=0;l<M;l++)\n{\nif(dp[i][j]==-1)break;\nnum=j+C[l];\nif(num<0)num=0;else if(num>255)num=255;\nif(dp[i+1][num]==-1)dp[i+1][num]=dp[i][j]+(x[i]-num)*(x[i]-num);\nelse dp[i+1][num]=min(dp[i][j]+(x[i]-num)*(x[i]-num),dp[i+1][num]);\n}\nfor(i=0;i<256;i++){if(dp[N][i]==-1)continue;ans=min(ans,dp[N][i]);}\nprintf(\"%d\\n\",ans);ans=1000000000;\nscanf(\"%d %d\",&N,&M);\n}\n}\n\n\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cmath>\n#include<algorithm>\n#include<string>\n#include<vector>\n#include<stack>\n#include<queue>\n#include<set>\n#include<map>\n#include<iomanip>\n#include<bitset>\nusing namespace std;\ntypedef long long ll;\ntypedef pair<ll,ll> P;\ntypedef pair<ll,P> P1;\ntypedef pair<P,P> P2;\n#define pu push\n#define pb push_back\n#define mp make_pair\n#define eps 1e-7\n#define INF 1000000000\n#define fi first\n#define sc second\n#define rep(i,x) for(ll i=0;i<x;i++)\n#define repn(i,x) for(ll i=1;i<=x;i++)\n#define SORT(x) sort(x.begin(),x.end())\n#define ERASE(x) x.erase(unique(x.begin(),x.end()),x.end())\n#define POSL(x,v) (lower_bound(x.begin(),x.end(),v)-x.begin())\n#define POSU(x,v) (upper_bound(x.begin(),x.end(),v)-x.begin())\n\nconst int MAX = 21000;\nconst int MOD = 1000000007;\n\nll dp[MAX][260];\n// dp[i][j] は i個までみた時 現在 j の最小値\n\nint main(){\n  vector<ll> ans;\n  while(1){\n    ll N ,M; cin >> N >> M;\n    if(N == 0 and M == 0) break;\n    vector<ll> c(M); rep(i,M) cin >> c[i];\n    vector<ll> x(N); rep(i,N) cin >> x[i];\n    // dp table 初期化\n    rep(i,MAX) rep(j,260) dp[i][j] = INF;\n    dp[0][128] = 0;\n    rep(i,N){\n      rep(j,256){\n        rep(k,M){\n          // from j to j + c[k]をそれぞれ追っていく\n          if(j + c[k] < 0){\n            dp[i + 1][0] = min(dp[i + 1][0] , dp[i][j] + x[i] * x[i]);\n          }\n          else if(j + c[k] > 255){\n            dp[i + 1][255] = min(dp[i + 1][255] , dp[i][j] + (255 - x[i]) * (255 - x[i]) );\n          }\n          else{\n            dp[i + 1][j + c[k]] = min(dp[i + 1][j + c[k]] , dp[i][j] + (j + c[k] - x[i]) * (j + c[k] - x[i]) );\n          }\n        }\n      }\n    }\n    // rep(i,N + 1) for(ll j = 255; j < 256; j++) cout << i << \" \" << j << \" \" <<  dp[i][j] << endl;\n\n    ll tmp = INF;\n    rep(j,256) tmp = min(tmp , dp[N][j]);\n    ans.pb(tmp);\n  }\n  rep(i,ans.size()) cout << ans[i] << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <queue>\n#include <stack>\n#include <algorithm>\n#include <list>\n#include <vector>\n#include <complex>\n#include <utility>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <climits>\n#include <bitset>\n#include <ctime>\n#include <map>\n#include <unordered_map>\n#include <set>\n#include <unordered_set>\n#include <cassert>\n#include <cstddef>\n#include <iomanip>\n#include <numeric>\n#include <tuple>\n#include <sstream>\n#include <fstream>\n\nusing namespace std;\n#define REP(i, n) for (int (i) = 0; (i) < (n); (i)++)\n#define FOR(i, a, b) for (int (i) = (a); (i) < (b); (i)++)\n#define RREP(i, a) for(int (i) = (a) - 1; (i) >= 0; (i)--)\n#define FORR(i, a, b) for(int (i) = (a) - 1; (i) >= (b); (i)--)\n#define DEBUG(C) cerr << #C << \" = \" << C << endl;\nusing LL = long long;\nusing VI = vector<int>;\nusing VVI = vector<VI>;\nusing VL = vector<LL>;\nusing VVL = vector<VL>;\nusing VD = vector<double>;\nusing VVD = vector<VD>;\nusing PII = pair<int, int>;\nusing PDD = pair<double, double>;\nusing PLL = pair<LL, LL>;\nusing VPII = vector<PII>;\ntemplate<typename T> using VT = vector<T>;\n#define ALL(a) begin((a)), end((a))\n#define RALL(a) rbegin((a)), rend((a))\n#define SORT(a) sort(ALL((a)))\n#define RSORT(a) sort(RALL((a)))\n#define REVERSE(a) reverse(ALL((a)))\n#define MP make_pair\n#define FORE(a, b) for (auto &&a : (b))\n#define FIND(s, e) ((s).find(e) != (s).end())\n#define EB emplace_back\ntemplate<typename T>inline bool chmax(T &a,T b){if(a<b){a=b;return true;}return false;}\ntemplate<typename T>inline bool chmin(T &a,T b){if(a>b){a=b;return true;}return false;}\n\nconst int INF = 1e9;\nconst int MOD = INF + 7;\nconst LL LLINF = 1e18;\n\nvoid init();\nvoid last();\n\nvoid init() {\n\n}\n\nconst int MAX_M = 20;\nconst int MAX_N = 20010;\nint C[MAX_M], x[MAX_N];\nint dp[MAX_N][256];\n\nvoid solve(int n, int m) {\n    for (int i = 0; i < m; i++) {\n        scanf(\"%d\", C + i);\n    }\n    for (int i = 0; i < n; i++) {\n        scanf(\"%d\", x + i);\n    }\n    for (int i = 0; i < MAX_N; i++) {\n        for (int j = 0; j < 256; j++) {\n            dp[i][j] = INF;\n        }\n    }\n    dp[0][128] = 0;\n    for (int i = 0; i < n; i++) {\n        for (int j = 0; j < 256; j++) {\n            if (dp[i][j] == INF) continue;\n            for (int k = 0; k < m; k++) {\n                int jj = max(min(j + C[k], 255), 0);\n                chmin(dp[i + 1][jj], dp[i][j] + (int)pow(jj - x[i], 2));\n            }\n        }\n    }\n    printf(\"%d\\n\", *min_element(begin(dp[n]), end(dp[n])));\n}\n\nvoid last() {\n    exit(0);\n}\n\nint main(void) {\n\tint a, b, c, x, y, z, n, m, p;\n\tstring s;\n\twhile (cin >> n >> m, n) {\n\t\tsolve(n, m);\n\t\t//break;\n\t}\n    last();\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <map>\n#include <algorithm>\nusing namespace std;\n\nconst int INF = 1e+8;\nconst int MAX_M = 16;\nconst int MAX_N = 20001;\n\n// dp[i][y] := i 番目までの差分の総和\nint dp[MAX_N][256];\n\nint main(){\n\tint N, M;\n\twhile( cin >> N >> M, N || M ){\n\t\tint C[MAX_M] = {0};\n\t\t\n\t\tfor(int i=0 ; i < M ; i++ ){\n\t\t\tcin >> C[i];\n\t\t}\n\t\t\n\t\t// 初期化\n\t\tfor(int i=0 ; i <= MAX_N ; i++ ){\n\t\t\tfor(int j=0 ; j < MAX_M ; j++ ){\n\t\t\t\tdp[i][j] = INF;\n\t\t\t}\n\t\t}\n\t\tdp[0][128] = 0;\n\t\t\n\t\tfor(int i=1 ; i <= N ; i++ ){\n\t\t\tint x;\n\t\t\tcin >> x;\n\t\t\tfor(int prev=0 ; prev < 256 ; prev++ ){\n\t\t\t\tfor(int m=0 ; m < M ; m++ ){\n\t\t\t\t\tint next = prev + C[m];\n\t\t\t\t\tif( next < 0 ) next = 0;\n\t\t\t\t\tif( next > 255 ) next = 255;\n\t\t\t\t\tint diff = (next - x) * (next - x);\n\t\t\t\t\tdp[i][next] = min( dp[i][next] , dp[i-1][prev] + diff );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = INF;\n\t\tfor(int i=0 ; i < 256 ; i++ ){\n\t\t\tans = min( ans , dp[N][i] );\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <climits>\n#include <algorithm>\nusing namespace std;\n\nint main(){\n\tint C[16];\n\tint n,m;\n\twhile(cin >> n >> m && n){\n\t\tfor(int i = 0 ; i < m ; i++) cin >> C[i];\n\t\tunsigned int dp[2][256];\n\t\tfor(int i = 0 ; i < 2 ; i++)\n\t\t\tfor(int j = 0 ; j < 256 ; j++)\n\t\t\t\tdp[i][j] = INT_MAX;\n\t\tdp[0][128] = 0;\n\t\t\n\t\tfor(int j = 1 ; j <= n ; j++){\n\t\t\tint x; cin >> x;\n\t\t\tfor(int i = 0 ; i < 256 ; i++) dp[j&1][i] = INT_MAX;\n\t\t\tfor(int i = 0 ; i < 256 ; i++){\n\t\t\t\tfor(int k = 0 ; k < m ; k++){\n\t\t\t\t\tint y = i + C[k];\n\t\t\t\t\ty = min(y,255); y = max(0,y);\n\t\t\t\t\tdp[j&1][y] = min(dp[j&1][y],dp[j&1^1][i] + (y-x)*(y-x) );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << *min_element(dp[n&1],dp[n&1]+256) << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define ALL(a)  (a).begin(),(a).end()\n#define rep(i,n) for(int (i)=0;(i)<(n);(i)++)\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int, int> P;\ntypedef pair<long long, long long> Pll;\ntypedef vector<int> vi;\ntypedef vector<vector<int>> vvi;\ntypedef vector<long long> vll;\ntypedef vector<vector<long long>> vvll;\ntemplate <typename T> inline bool chmax(T& a, T b) { if (a < b) { a = b; return 1; } return 0; }\ntemplate <typename T> inline bool chmin(T& a, T b) { if (a > b) { a = b; return 1; } return 0; }\nconst long long INF = 1LL << 60;\nconst int INT_INF = 1LL << 30;\n\nint main(){\nwhile(true){\n  int N, M;\n  cin >> N >> M;\n  if(N==0 && M == 0) break;\n  vi C(M), x(N+1);\n  for(int i = 0; i < M; i++){\n    cin >> C.at(i);\n  }\n  for(int i = 1; i <= N; i++){\n    cin >> x.at(i);\n  }\n\n  vvi dp(N+1, vi(256, INT_INF));\n  dp.at(0).at(128) = 0;\n  for(int i = 0; i < N; i++){\n    for(int j = 0; j < 256; j++){\n      if(dp.at(i).at(j) == INF) continue;\n      for(int k = 0; k < M; k++){\n        int nextj = j+C.at(k);\n        if(nextj < 0) nextj = 0;\n        if(nextj > 255) nextj = 255;\n        chmin(dp.at(i+1).at(nextj), dp.at(i).at(j) + (nextj-x.at(i+1))*(nextj-x.at(i+1)));\n      }\n    }\n  }\n  int result = INT_INF;\n  for(int i = 0; i < 256; i++){\n    chmin(result, dp.at(N).at(i));\n  }\n  cout << result << endl;\n}\n}\n"
  },
  {
    "language": "C++",
    "code": "\n#include <cstdio>\n#include <iostream>\n#include <vector>\n#include <map>\n#include <set>\n#include <string>\n#include <cstring>\n#include <sstream>\n#include <algorithm>\n#include <functional>\n#include <queue>\n#include <stack>\n#include <cmath>\n#include <iomanip>\n \nusing namespace std;\n\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n)  FOR(i,0,n)\n#define CLR(a) memset((a), 0 ,sizeof(a))\n#define MCLR(a) memset((a), -1 ,sizeof(a))\n#define SZ(a) (sizeof(a))\n#define FILL(a,v) fill((int*)a,(int*)(a+(SZ(a)/SZ(*(a)))),v)\n\nbool cheak(int x,int y,int xMax,int yMax)\n{return x >= 0 && y >= 0 && xMax > x && yMax > y;}\nconst int dx[4]={-1,0,1,0},dy[4]={0,1,0,-1};\nconst int INF = 2147483648/3;\ntypedef pair<int,int> P;\ntypedef long long ll;\ntypedef unsigned long long ull;\n\nconst int MAX = 20010;\nint dp[MAX][256];\n\nint main()\n{\n\tint n,m;\n\twhile(cin >> n >> m && (n || m))\n\t{\n\t\tint c[20],x[MAX];\n\t\tREP(i,m)cin >> c[i];\n\t\tREP(i,n)cin >> x[i];\n\t\t\n\t\tFILL(dp,INF);\n\t\tdp[0][128] = 0;\n\n\t\tREP(i,n)\n\t\tREP(j,256)\n\t\tif(dp[i][j] != INF)\n\t\tREP(k,m)\n\t\t{\n\t\t\tint tmp = j+c[k];\n\t\t\tint oldval = dp[i][j];\n\n\t\t\tif(tmp < 0)\n\t\t\t\ttmp = 0;\n\t\t\tif(tmp >= 256)\n\t\t\t\ttmp = 255;\n\t\t\t\n\t\t\tint val = pow(x[i]-tmp,2);\n\t\t\tif(val < dp[i+1][tmp])\n\t\t\t\tdp[i+1][tmp] = val+oldval;\n\t\t}\n\n\t\tint ans = INF;\n\t\tREP(j,256)\n\t\t{\n\t\t\tans = min(dp[n][j],ans);\n\t\t}\n\n\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#ifdef _DEBUG\n#include \"debug.hpp\"\n#else\n#define debug(...)\n#endif\n#define REP(i, m, n) for(int (i) = (m); (i) < (n); ++i)\n#define rep(i, n) REP(i, 0, n)\nusing namespace std;\ntypedef long long ll;\ntypedef pair<ll, ll> P;\nconst int INF = 1e9 + 7;\nconst ll LINF = 1LL << 60;\ntemplate<class T, class U> inline bool chmax(T &a, const U &b) { if(a < b) { a = b; return true; } return false; }\ntemplate<class T, class U> inline bool chmin(T &a, const U &b) { if(a > b) { a = b; return true; } return false; }\n\nll dp[20100][256];\n\nll add(const ll &a) {\n  if(a > 255) return 255;\n  else if(a < 0) return 0;\n  else return a;\n}\n\nint main() {\n  cin.tie(0); ios::sync_with_stdio(false);\n  for(;;) {\n    int n, m;\n    cin >> n >> m;\n    if(n == 0 && m == 0) break;\n    vector<int> c(m), x(n);\n    rep(i,m) cin >> c[i];\n    rep(i,n) cin >> x[i];\n    rep(i,20100) rep(j,256) dp[i][j] = LINF;\n    dp[0][128] = 0;\n    rep(i,n) rep(j,256) {\n      if(dp[i][j] == LINF) continue;\n      rep(k,m) {\n        chmin(dp[i+1][add(j+c[k])], dp[i][j]+(add(j+c[k])-x[i])*(add(j+c[k])-x[i]));\n      }\n    }\n    ll ans = LINF;\n    rep(j,256) chmin(ans, dp[n][j]);\n    cout << ans << '\\n';\n  }\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <cmath>\n#include <cstdio>\n#include <functional>\n#include <numeric>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <utility>\n#include <sstream>\n#include <complex>\n\nusing namespace std;\n\n#define FOR(i,a,b) for(long long i=(a);i<(b);i++)\n#define REP(i,N) for(long long i=0;i<(N);i++)\n#define ALL(s) (s).begin(),(s).end()\n#define fi first\n#define se second\n\n#define PI acos(-1.0)\n#define INF 1000000007\n#define EPS 1e-10\n#define MAX_N 20000\n#define MAX_M 16\n\ntypedef long long ll;\ntypedef pair<ll, ll> P;\ntypedef pair<double, double> PD;\ntypedef pair<string, ll> PS;\ntypedef vector<ll> V;\ntypedef pair<P, char> PC;\n\nint n, m;\nint c[MAX_M + 1], x[MAX_N + 1];\nint dp[MAX_N + 1][256 + 1];\n\nint POW(int num){\n\treturn num*num;\n}\n\nint main(){\n\twhile (cin >> n >> m&&n + m){\n\t\tREP(i, MAX_N + 1){\n\t\t\tREP(j, 256 + 1){\n\t\t\t\tdp[i][j] = INF;\n\t\t\t}\n\t\t}\n\t\tREP(i, m) cin >> c[i];\n\t\tREP(i, n) cin >> x[i];\n\t\tdp[0][128] = 0;\n\t\tREP(i, n){\n\t\t\tREP(j, 256){\n\t\t\t\tif (dp[i][j] == INF)continue;\n\t\t\t\tREP(k, m){\n\t\t\t\t\tint num = j + c[k];\n\t\t\t\t\tif (num < 0) num = 0;\n\t\t\t\t\tif (num > 255) num = 255;\n\t\t\t\t\tdp[i + 1][num] = min(dp[i][j] + POW(x[i] - num), dp[i + 1][num]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = INF;\n\t\tREP(i, 256){\n\t\t\tans = min(ans, dp[n][i]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n\nusing namespace std;\n\nconst int INF = 1<<30;\n\nint n, m, data[16], dp[2][256], in;\n\nmain(){\n  while(cin >> n >> m && (n|m)){\n    for(int i=0;i<m;i++) cin >> data[i];\n    fill(dp[0], dp[2], INF);\n    dp[0][128] = 0;\n    for(int i=0;i<n;i++){\n      cin >> in;\n      for(int j=0;j<256;j++) dp[(i+1)%2][j] = INF;\n      for(int j=0;j<256;j++){\n        if(dp[i%2][j] == INF) continue;\n        for(int k=0;k<m;k++){\n          int next = j + data[k];\n          if(next < 0) next = 0;\n          if(next > 255) next = 255;\n          dp[(i+1)%2][next] = min(dp[(i+1)%2][next], abs(in-(next)) * abs(in-(next)) + dp[i%2][j]);\n        }\n      }\n    }\n    int ans = INF;\n    for(int i=0;i<256;i++) ans = min(ans, dp[n%2][i]);\n    cout << ans << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define fi first\n#define se second\n#define repl(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define rep(i,n) repl(i,0,n)\n#define each(itr,v) for(auto itr:v)\n#define pb(s) push_back(s)\n#define maxch(x,y) x=max(x,y)\n#define minch(x,y) x=min(x,y)\n#define mp(a,b) make_pair(a,b)\n#define all(x) (x).begin(),(x).end()\n#define dbg(x) cout<<#x\"=\"<<x<<endl\n#define maxch(x,y) x=max(x,y)\n#define minch(x,y) x=min(x,y)\n#define uni(x) x.erase(unique(all(x)),x.end())\ntemplate<class T,class U>inline void chmin(T &t,U f){if(t>f)t=f;}\ntemplate<class T,class U>inline void chmax(T &t,U f){if(t<f)t=f;}\n#define MAX(a, b) ((a) > (b) ? (a) : (b))\n#define MIN(a, b) ((a) > (b) ? (b) : (a))\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int, int> P;\ntypedef pair<P, int> PPI;\n\n#define INF INT_MAX/3\n#define MAX_N 1000\nll n,m;\nll dp[20001][256];\nll c[16],x[20000];\nll rec(ll p,ll y){\n  if(dp[p][y] >= 0) return dp[p][y];\n\n  if(p == n) return 0;\n\n  long ret=LONG_MAX;\n    for(ll i=0; i<m; ++i){ //??????????????????????????¨????????????????????°????????????\n        ll ny = y+c[i];\n        if(ny<0) ny=0;\n        else if(ny>255) ny=255;\n\n        ret = MIN(ret, rec(p+1,ny)+(ny-x[p])*(ny-x[p]));\n    }\n    return dp[p][y]=ret;\n}\nvoid solve(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n  while(1){\n    cin>>n>>m;\n    if(n==0) break;\n    rep(i,m) cin>>c[i];\n    rep(i,n) cin>>x[i];\n    memset(dp,-1,sizeof(dp));\n    printf(\"%lld\\n\",rec(0,128));\n  }\n\n}\nint main(){\n  solve();\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nint main()\n{\n    int n, m;\n    \n    while (scanf(\"%d %d\", &n, &m) && n){\n        int C[16];\n        long long dp[2][256];\n        \n        for (int i = 0; i < m; i++) scanf(\"%d\", C + i);\n        \n        fill (dp[0], dp[0] + 256, 1000000000000000000ll);\n        fill (dp[1], dp[1] + 256, 1000000000000000000ll);\n        \n        dp[0][128] = 0;\n        \n        int t = 0;\n        for (int i = 0; i < n; i++){\n            int x;\n            scanf(\"%d\", &x);\n            \n            fill(dp[1 - t], dp[1 - t] + 256, 1000000000000000000ll);\n            for (int j = 0; j < m; j++){\n                for (int k = 0; k < 256; k++){\n                    int y = max(0, min(255, k + C[j]));\n                    dp[1 - t][y] = min(dp[1 - t][y], dp[t][k] + (x - y) * (x - y));\n                }\n            }\n            t = 1 - t;\n        }\n        \n        printf(\"%lld\\n\", *min_element(dp[t], dp[t] + 256));\n    }\n    \n    return (0);\n}"
  },
  {
    "language": "C++",
    "code": "///\n// File:  2199.cpp\n// Author: ymiyamoto\n//\n// Created on Sat Dec  9 23:16:36 2017\n//\n\n#include <cstdint>\n#include <iostream>\n#include <vector>\n\n#define MAX (1 << 31)\n\nusing namespace std;\n\nint32_t main()\n{\n  while (true) {\n    uint32_t N, M;\n    cin >> N >> M;\n    if (N == 0 && M == 0) break;\n\n    vector<int32_t> C(M);\n    vector<int32_t> x(N + 1);\n\n    for (uint32_t i = 0; i < M; i++) {\n      cin >> C[i];\n    }\n\n    for (uint32_t i = 1; i <= N; i++) {\n      cin >> x[i];\n    }\n\n    vector<vector<int64_t>> dp(N + 1, vector<int64_t>(256, MAX));\n    dp[0][128] = 0;\n\n    for (uint32_t i = 0; i < N; i++) {\n      for (int32_t j = 0; j < 256; j++) {\n        if (dp[i][j] == MAX) continue;\n        for (uint32_t k = 0; k < C.size(); k++) {\n          int32_t val = min(max(0, j + C[k]), 255);\n          int32_t diff = (x[i + 1] - val);\n          dp[i + 1][val] = min(dp[i + 1][val], dp[i][j] + diff * diff);\n        }\n      }\n    }\n\n    int64_t minval = MAX;\n    for (int32_t i = 0; i < 256; i++) {\n      minval = min(minval, dp[N][i]);\n    }\n\n    cout << minval << endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n\nusing namespace std;\n\n#define MAX_M 16\n#define MAX_N 20000\n#define INF 1e8\n\nint N, M, C[MAX_M], x[MAX_N];\nint dp[MAX_N][256];\n\nint main(){\n  while(cin >> N >> M , (N | M)){\n    for(int i = 0 ; i < M ; i++){\n      cin >> C[i];\n    }\n \n    for(int i = 1 ; i <= N ; i++){\n      cin >> x[i];\n    }\n    int ans = INF;\n    fill(dp[0], dp[MAX_N], INF);\n    dp[0][128] = 0;\n    for(int i = 1 ; i <= N ; i++){\n      for(int j = 0 ; j <= 255 ; j++){\n        for(int k = 0 ; k < M ; k++){\n          int t = j + C[k];\n          if(t < 0) t = 0;\n          if(t > 255) t = 255;\n          dp[i][t] = min(dp[i][t], dp[i-1][j] + (t-x[i])*(t-x[i]));\n        }\n      }\n    }\n    for(int i = 0 ; i <= 255 ; i++){\n      ans = min(ans, dp[N][i]);\n    } \n    cout << ans << endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cstdio>\n#include <iostream>\n#include <map>\n#include <cmath>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <vector>\n#include <stdlib.h>\n#include <stdio.h>\n#include <bitset>\n#include <cstring>\nusing namespace std;\n#define FOR(I,A,B) for(int I = (A); I < (B); ++I)\n#define CLR(mat) memset(mat, 0, sizeof(mat))\ntypedef long long ll;\nint main()\n{\n  ios::sync_with_stdio(false);\n  cin.tie(0);\n  int N, M;\n  while(cin>>N>>M,N||M) {\n    int c[M]; FOR(i,0,M) cin >> c[i];\n    int x[N]; FOR(i,0,N) cin >> x[i];\n    ll dp[N+1][256]; FOR(i,0,N+1) FOR(j,0,256) dp[i][j] = 1e18;\n    dp[0][128] = 0;\n    FOR(i,0,N) {\n      FOR(j,0,256) {\n        if(dp[i][j] == 1e15) continue;\n        FOR(k,0,M) {\n          int y = max(0, min(255, j + c[k]));\n          dp[i+1][y] = min(dp[i+1][y], dp[i][j] + (ll)(x[i]-y) * (ll)(x[i]-y));\n        }\n      }\n    }\n    ll ans = 1e18;\n    FOR(i,0,256) ans = min(ans, dp[N][i]);\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n\nusing namespace std;\n\nlong long int N,M,K,L,R,H,W;\n\nconst long long int MOD=1000000007;\n\n\n\nint main(){\n\t\n\twhile(cin>>N>>M,N){\n\t\tvector<int>v(M);\n\t\tfor(auto &i:v)cin>>i;\n\t\tvector<int>w(N+1);\n\t\tfor(int i=1;i<=N;i++)cin>>w[i];\n\t\tvector<vector<int>>dp(N+1,vector<int>(256,MOD));\n\t\tdp[0][128]=0;\n\t\tfor(int i=0;i<N;i++){\n\t\t\tfor(int j=0;j<256;j++){\n\t\t\t\tfor(auto k:v){\n\t\t\t\t\tint nx=max(0,min(255,j+k));\n\t\t\t\t\tdp[i+1][nx]=min(dp[i+1][nx],dp[i][j]+abs(nx-w[i+1])*abs(nx-w[i+1]));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout<<*min_element(dp.back().begin(),dp.back().end())<<endl;\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define r(i,n) for(int i=0;i<n;i++)\n#define INF 100000000\nint dp[20001][256];\n main(){\n  int n,m;\n  while(cin>>n>>m,n){\n    int b[m];int a[n+1];\n    r(i,m)cin>>b[i];\n    r(i,n)cin>>a[i+1];\n    r(i,20001)r(j,256)dp[i][j]=INF;\n    dp[0][128]=1;\n    r(i,n)r(j,256)\n        if(dp[i][j]!=INF)r(k,m){\n          int p=j+b[k];\n          if(p>255)p=255;\n          if(p<0)p=0;\n          dp[i+1][p]=min(dp[i+1][p],dp[i][j]+(a[i+1]-p)*(a[i+1]-p));\n        }\n    int p=100000000;\n    r(i,256)if(dp[n][i]!=INF)\n      p=min(p,dp[n][i]);\n    cout<<p-1<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nint main()\n{\n  int N,M,C[16],x[20001],y,mi;\n  pair<int,int> P[20001][16];\n\n  while(1){\n    cin>>N>>M;\n    if(N==0 && M==0)break;\n    for(int i=0;i<M;i++)cin>>C[i];\n    for(int i=1;i<=N;i++)cin>>x[i];\n    for(int i=0;i<M;i++){\n      P[0][i].first=0;\n      P[0][i].second=128;\n    }\n    for(int i=1;i<=N;i++){\n      for(int j=0;j<M;j++){\n        P[i][j].first=10000000;\n        P[i][j].second=0;\n      }\n    }\n    for(int i=1;i<=N;i++){\n      for(int j=0;j<M;j++){\n\tfor(int k=0;k<M;k++){\n\t  y=(P[i-1][k].second+C[j]);\n          if(y<0)y=0;\n\t  if(y>255)y=255;\n\t  if(P[i][j].first>P[i-1][k].first+(x[i]-y)*(x[i]-y)){\n\t    P[i][j].first=P[i-1][k].first+(x[i]-y)*(x[i]-y);\n            P[i][j].second=y;\n\t  }\n\t}\n      }\n    }\n    mi=10000000;\n    for(int i=0;i<M;i++)mi=min(mi,P[N][i].first);\n    cout<<mi<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cmath>\nusing namespace std;\nint dp[20000][256];\nint main(){\n  for(int n,m;cin>>n>>m,n;){\n    int c[20000],x[20];\n    for(int i=0;i<n;i++) fill(dp[i],dp[i]+256,(int)1e9);\n    for(int i=0;i<m;i++) cin>>x[i];\n    for(int i=0;i<n;i++) cin>>c[i];\n    for(int i=0;i<m;i++) dp[0][x[i]+128]=pow(x[i]+128-c[0],2);\n    for(int i=1;i<n;i++){\n      for(int j=0;j<256;j++){\n\tif(dp[i-1][j]!=1e9){\n\t  for(int k=0;k<m;k++){\n\t    int num=j+x[k];\n\t    if(num<0) num=0;\n\t    if(num>255) num=255;\n\t    dp[i][num]=min(dp[i][num],dp[i-1][j]+(int)pow(c[i]-num,2));\n\t  }\n\t}\n      }\n    }\n    /*\n      for(int i=0;i<n;i++){\n      for(int j=0;j<256;j++) cout<<(dp[i][j]!=1e9?dp[i][j]:-1)<<\" \";\n      cout<<endl;\n      }*/\n    int sm=1e9;\n    for(int i=0;i<256;i++) sm=min(sm,dp[n-1][i]);\n    cout<<sm<<endl;\n  }\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <vector>\n#include <set>\n#include <map>\n#include <queue>\n#include <deque>\n#include <stack>\n#include <algorithm>\n#include <cstring>\n#include <functional>\n#include <cmath>\nusing namespace std;\n#define rep(i,n) for(int i=0;i<(n);++i)\n#define rep1(i,n) for(int i=1;i<=(n);++i)\n#define all(c) (c).begin(),(c).end()\n#define fs first\n#define sc second\n#define pb push_back\n#define show(x) cout << #x << \" \" << x << endl\n#define miz(x,y) x=min(x,y)\ntypedef long long ll;\nll inf=1e16;\nll dp[20001][256];\nint main(){\n\twhile(true){\n\t\tint N,M,c[16],x[20000];\n\t\tcin>>N>>M;\n\t\tif(N==0) break;\n\t\trep(i,M) cin>>c[i];\n\t\trep(i,N) cin>>x[i];\n\t\trep(i,N+1) rep(j,256) dp[i][j]=inf;\n\t\tdp[0][128]=0;\n\t\trep(i,N){\n\t\t\trep(j,256) if(dp[i][j]!=inf){\n\t\t\t\trep(k,M){\n\t\t\t\t\tint s=min(255,max(0,j+c[k]));\n\t\t\t\t\tmiz(dp[i+1][s],dp[i][j]+(s-x[i])*(s-x[i]));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tll ans=inf;\n\t\trep(j,256) miz(ans,dp[N][j]);\n\t\tcout<<ans<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nconst int INF = 1 << 28;\nint rnd(int v){\n\tif (v < 0) return 0;\n\tif (v > 255) return 255;\n\treturn v;\n}\nint diff(int a, int b){\n\treturn (a - b) * (a - b);\n}\n\nint n, m;\nint c[16];\nint x[20000];\nint dp[20001][256];\n\nint main()\n{\n\twhile (scanf(\"%d %d\", &n, &m), n){\n\t\tfill((int*)dp, (int*)dp + sizeof(dp) / sizeof(int), INF);\n\t\t\n\t\tfor (int i = 0; i < m; i++){\n\t\t\tscanf(\"%d\", &c[i]);\n\t\t}\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tscanf(\"%d\", &x[i]);\n\t\t}\n\t\t\n\t\tdp[0][128] = 0;\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tfor (int j = 0; j < 256; j++){\n\t\t\t\tfor (int k = 0; k < m; k++){\n\t\t\t\t\tint to = rnd(j + c[k]);\n\t\t\t\t\tdp[i + 1][to] = min(dp[i + 1][to], dp[i][j] + diff(to, x[i]));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tint mini = INF;\n\t\tfor (int i = 0; i < 256; i++){\n\t\t\tmini = min(mini, dp[n][i]);\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\", mini);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <climits>\n#include <algorithm>\nusing namespace std;\n\n#define p(x) (x)*(x)\n\nint round(int x)\n{\n  if(x > 255) return 255;\n  else if(x < 0) return 0;\n  else return x;\n}\n\nint main()\n{\n  while(1){\n    int N, M;\n    cin >> N >> M;\n    if(N == 0 && M == 0) break;\n    int C[M], x[N];\n    for(int i = 0; i < M; i++)\n      cin >> C[i];\n    for(int i = 0; i < N; i++)\n      cin >> x[i];\n    int a[256];\n    fill(a,a+256,INT_MAX);\n    for(int i = 0; i < M; i++){\n      int n = round(128+C[i]);\n      a[n] = p(n-x[0]);\n    }\n    int b[256];\n    for(int t = 1; t < N; t++){\n      fill(b,b+256,INT_MAX);\n      for(int i = 0; i < 256; i++){\n        if(a[i] == INT_MAX) continue;\n        for(int j = 0; j < M; j++){\n          int n = round(i+C[j]);\n          b[n] = min(b[n],a[i]+p(n-x[t]));\n        }\n      }\n      copy(b,b+256,a);\n    }\n    cout << *min_element(a,a+256) << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\n\nusing namespace std;\n\nconst long long inf=1LL<<60;\nlong long memo[256],memo2[256];\n\nint main()\n{\n\tfor(int n,m;scanf(\"%d%d\",&n,&m),n;){\n\t\tint c[16];\n\t\tstatic int x[20001];\n\t\tfor(int i=0;i<m;i++)\tscanf(\"%d\",c+i);\n\t\tfor(int i=0;i<n;i++)\tscanf(\"%d\",x+i);\n\n\t\tfor(int j=0;j<256;j++)\tmemo[j]=memo2[j]=inf;\n\n\t\tmemo[128]=0;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tfor(int j=0;j<256;j++){\n\t\t\t\tif(memo[j]==inf)\tcontinue;\n\t\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\t\tint next=min(255,max(0,j+c[k]));\n\t\t\t\t\tmemo2[next]=min(memo2[next],memo[j]+(next-x[i])*(next-x[i]));\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(int j=0;j<256;j++)\tmemo[j]=memo2[j],memo2[j]=inf;\n\t\t}\n\n\t\tlong long emin=inf;\n\t\tfor(int j=0;j<256;j++)\temin=min(emin,memo[j]);\n\t\tprintf(\"%lld\\n\",emin);\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <climits>\n#include <algorithm>\nusing namespace std;\n#define INF (1ll<<50)\nint main(){\n\tint C[16];\n\tint n,m;\n\twhile(cin >> n >> m && n){\n\t\tfor(int i = 0 ; i < m ; i++) cin >> C[i];\n\t\tlong long dp[2][256];\n\t\tfor(int i = 0 ; i < 2 ; i++)\n\t\t\tfor(int j = 0 ; j < 256 ; j++)\n\t\t\t\tdp[i][j] = INF;\n\t\tdp[0][128] = 0;\n\t\t\n\t\tfor(int j = 1 ; j <= n ; j++){\n\t\t\tint x; cin >> x;\n\t\t\tfor(int i = 0 ; i < 256 ; i++) dp[j&1][i] = INF;\n\t\t\tfor(int i = 0 ; i < 256 ; i++){\n\t\t\t\tfor(int k = 0 ; k < m ; k++){\n\t\t\t\t\tint y = i + C[k];\n\t\t\t\t\ty = min(y,255); y = max(0,y);\n\t\t\t\t\tdp[j&1][y] = min(dp[j&1][y],dp[j&1^1][i] + (y-x)*(y-x) );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << *min_element(dp[n&1],dp[n&1]+256) << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <iostream>\n\nint main() {\n  while (true) {\n    int N, M;\n    std::cin >> N >> M;\n    if (N == 0 && M == 0) {\n      break;\n    }\n    std::vector<int> C, X;\n    for (int i = 0; i < M; i++) {\n      int c;\n      std::cin >> c;\n      C.push_back(c);\n    }\n    for (int i = 0; i < N; i++) {\n      int x;\n      std::cin >> x;\n      X.push_back(x);\n    }\n    const int kMaxErr = 255 * 255 * N;\n    std::vector<int> dp(256, kMaxErr);\n    dp[128] = 0;\n    for (int x : X) {\n      std::vector<int> new_dp(256, kMaxErr);\n      for (int i = 0; i < 256; i++) {\n        for (int c: C) {\n          int new_val = std::max(0, std::min(255, i + c));\n          int err = (new_val - x) * (new_val - x);\n          new_dp[new_val] = std::min(new_dp[new_val], dp[i] + err);\n        }\n      }\n      dp = std::move(new_dp);\n    }\n    int ans = kMaxErr;\n    for (int err : dp) {\n      ans = std::min(ans, err);\n    }\n    std::cout << ans << std::endl;\n  }\n}\n\n\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <set>\n#include <vector>\n#include <algorithm>\nusing namespace std;\nconst int INF = 1 << 22;\nvoid db_print(int line[]){\n  for(int i = 100; i < 200; ++i){\n    cout << i << \"[\" << line[i] << \"]\" << endl;\n  }\n  cout << endl;\n}\nint main(){\n  int N, M;\n  while(true){\n    cin >> N >> M;\n    if((N|M) == 0){\n      break;\n    }\n    int book[M];\n    for(int i = 0; i < M; ++i){\n      cin >> book[i];\n    }\n    int x[N];\n    for(int i = 0; i < N; ++i){\n      cin >> x[i];\n    }\n    int table[N+1][256];\n    fill_n((int *) table, (N+1) * 256, INF);\n    table[0][128] = 0;\n    for(int i = 0; i < N; ++i){\n      //db_print(table[i]);\n      for(int j = 0; j < 256; ++j){\n\tfor(int b = 0; b < M; ++b){\t  \n\t  int d = book[b];\n\t  if(0 <= j+d && j+d <= 255){\n\t    int t = (x[i] - (j+d)) * (x[i] - (j+d));\n\t    table[i+1][j+d] = min(table[i+1][j+d], table[i][j]+t);\n\t  }\n\t  if(j+d < 0){\n\t    int t = (x[i] - 0) * (x[i] - 0);\n\t    table[i+1][0] = min(table[i+1][0], table[i][j]+t);\n\t  }\n\t  if(j+d > 255){\n\t    int t = (x[i] - 255) * (x[i] - 255);\n\t    table[i+1][255] = min(table[i+1][255], table[i][j]+t);\n\t  }\n\t}\n      }\n    }\n    //db_print(table[N]);\n    int ans = INF;\n    for(int i = 0; i < 256; ++i){\n      ans = min(ans, table[N][i]);\n    }\n    cout << ans << endl;\n  }    \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "// テ・ツ淞コテヲツ慊ャテ」ツδ?」ツδウテ」ツδ療」ツδャテ」ツδシテ」ツδ?(テァツクツョテ・ツーツ湘ァツ可?\n\n#include <bits/stdc++.h>\nusing namespace std;\n#define rep(i,a,n) for(int (i)=(a); (i)<(n); (i)++)\n#define repq(i,a,n) for(int (i)=(a); (i)<=(n); (i)++)\n#define repr(i,a,n) for(int (i)=(a); (i)>=(n); (i)--)\n#define int long long\ntemplate<typename T> void chmax(T &a, T b) {a = max(a, b);}\ntemplate<typename T> void chmin(T &a, T b) {a = min(a, b);}\ntemplate<typename T> void chadd(T &a, T b) {a = a + b;}\ntypedef pair<int, int> pii;\ntypedef long long ll;\nconstexpr ll INF = 1001001001001001LL;\nconstexpr ll MOD = 1000000007LL;\n\nint N, M, C[20], x[20010];\nint dp[2][300];\n\nsigned main() {\n    while(cin >> N >> M, N || M) {\n        rep(i,0,M) cin >> C[i];\n        rep(i,0,N) cin >> x[i];\n        rep(i,0,2) rep(j,0,300) dp[i][j] = INF;\n        dp[0][128] = 0;\n\n        rep(i,0,N) {\n            int mo = i%2;\n            rep(j,0,256) {\n                if(dp[mo][j] == INF) continue;\n                rep(k,0,M) {\n                    int nx = max(0LL, min(255LL, j + C[k]));\n                    int diff = (x[i] - nx) * (x[i] - nx);\n                    chmin(dp[mo^1][nx], dp[mo][j] + diff);\n                }\n                dp[mo][j] = INF;\n            }\n        }\n\n        int ans = INF;\n        rep(i,0,256) chmin(ans, dp[N%2][i]);\n        cout << ans << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#define NUM 256\nusing namespace std;\n\nint main(){\n  int n,m;\n  while(cin>>n>>m,n){\n    int dp[3000][NUM];\n    for(int i=0;i<=n;i++)\n      for(int j=0;j<NUM;j++)\n\tdp[i][j]=1<<30;\n    dp[0][128]=0;\n    int c[20],x[3000];\n    for(int i=0;i<m;i++)cin>>c[i];\n    for(int i=0;i<n;i++)cin>>x[i];\n    \n    for(int i=0;i<n;i++){\n      for(int j=0;j<NUM;j++){\n\tfor(int k=0;k<m;k++){\n\t  if(j+c[k]<0){\n\t    dp[i+1][0]=min(dp[i+1][0],dp[i][j] + x[i]*x[i]);\n\t  }else if(j+c[k]>255){\n\t    dp[i+1][255]=min(dp[i+1][255],dp[i][j] + (x[i]-255)*(x[i]-255));\n\t  }else{\n\t    dp[i+1][j+c[k]]=min(dp[i+1][j+c[k]],dp[i][j] + (x[i]-j-c[k])*(x[i]-j-c[k]));\n\t  }\n\t}\n      }\n    }\n    // for(int j=0;j<256;j++){\n    //   for(int i=0;i<n;i++){\n    // \tcout << dp[i][j] << \" \";\n    //   }\n    //   cout << endl;\n    // }\n\n    int res=1<<30;\n    for(int i=0;i<NUM;i++)res=min(res,dp[n][i]);\n    cout << res << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\n#include<set>\n#include<map>\n#include<vector>\n#include<stack>\n#include<queue>\n#include<cmath>\n#include<numeric>\n#include<cstdlib>\n#include<cassert>\n#include<random>\nusing namespace std;\n\nconst int e=1e9+7;\n\nint cut(int n){\n    if(n>255){n=255;}\n    if(n<0){n=0;}\n    return n;\n}\n\nint dp[25000][256];\n\n\nint main(){\n    while(1){\n    \n        \n        \n    int n,m;\n    fill(&dp[0][0],&dp[24999][256],e);\n    vector<int> in,c;\n    cin>>n>>m;\n        if(n==0 && m==0){break;}\n    for(int i=0;i<m;i++){\n        int d;\n        cin>>d;\n        c.push_back(d);\n    }\n    for(int i=0;i<n;i++){\n        int d;\n        cin>>d;\n        in.push_back(d);\n    }\n    dp[0][128]=0;\n    \n    for(int i=0;i<n;i++){\n        for(int t=0;t<256;t++){\n            for(int h=0;h<c.size();h++){\n                if(dp[i][t]!=e){\n                    dp[i+1][cut(t+c[h])]=min(dp[i+1][cut(t+c[h])],dp[i][t]+(int)pow((in[i]-cut(t+c[h])),2));\n                }\n            }\n        }\n    }\n    int ans=e;\n    for(int i=0;i<256;i++){\n        ans=min(ans,dp[n][i]);\n    }\n    cout<<ans<<endl;\n    \n        \n        \n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define all(vec) vec.begin(),vec.end()\nusing namespace std;\ntypedef long long ll;\ntypedef pair<ll,ll> P;\nconst ll MOD=998244353;\nconst ll INF=1000000000;\nconst ll LINF=1000000000000000010;\nint dx[8]={0,0,1,1,1,-1,-1,-1};\nint dy[8]={1,-1,1,-1,0,1,-1,0};\nint n,m;\nint c[20],x[20010];\nll dp[20010][256];\nll dfs(int now,int pre){\n    if(dp[now][pre]!=-1)return dp[now][pre];\n    ll res=LINF;\n    for(int i=0;i<m;i++){\n        int to=min(255,max(0,pre+c[i]));\n        ll s=(to-x[now])*(to-x[now]);\n        if(now+1<n)s+=dfs(now+1,to);\n        res=min(res,s);\n    }\n    return dp[now][pre]=res;\n}\nint main(){\n    while(cin>>n>>m,n+m){\n        for(int i=0;i<m;i++)cin>>c[i];\n        for(int i=0;i<n;i++)cin>>x[i];\n        memset(dp,-1,sizeof(dp));\n        cout<<dfs(0,128)<<endl;\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\n\nint c[30],x[30000];\nint dp[300000][256];\n\nint sq(int x) {\n    return x*x;\n}\nint add(int x, int y) {\n    return max(0, min(255, x+y));\n}\nint main(void) {\n    while(1) {\n        int n,m;\n        scanf(\"%d%d\",&n,&m);\n        if(!n) break;\n        memset(dp, 0x6F, sizeof(dp));\n\n        for(int i=0; i<m; i++)\n            scanf(\"%d\",&c[i]);\n        for(int i=0; i<n; i++)\n            scanf(\"%d\",&x[i]);\n\n        for(int i=0; i<256; i++)\n            dp[0][i] = 0xFFFFFF;\n        dp[0][128] = 0;\n\n        for(int i=0; i<n; i++)\n            for(int j=0; j<256; j++)\n                for(int k=0; k<m; k++)\n                    dp[i+1][add(j,c[k])] = min(dp[i+1][add(j,c[k])], dp[i][j] + sq(x[i]-add(j,c[k])));\n\n        int res=0xFFFFFF;\n        for(int j=0; j<256; j++)\n            res = min(res, dp[n][j]);\n\n        printf(\"%d\\n\", res);\n\n    }\n    return 0;\n}\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\n\nint c[30],x[30000];\nint dp[300000][256];\n\nint sq(int x) {\n    return x*x;\n}\nint add(int x, int y) {\n    return max(0, min(255, x+y));\n}\nint main(void) {\n    while(1) {\n        int n,m;\n        scanf(\"%d%d\",&n,&m);\n        if(!n) break;\n        memset(dp, 0x6F, sizeof(dp));\n\n        for(int i=0; i<m; i++)\n            scanf(\"%d\",&c[i]);\n        for(int i=0; i<n; i++)\n            scanf(\"%d\",&x[i]);\n\n        for(int i=0; i<256; i++)\n            dp[0][i] = 0xFFFFFF;\n        dp[0][128] = 0;\n\n        for(int i=0; i<n; i++)\n            for(int j=0; j<256; j++)\n                for(int k=0; k<m; k++)\n                    dp[i+1][add(j,c[k])] = min(dp[i+1][add(j,c[k])], dp[i][j] + sq(x[i]-add(j,c[k])));\n\n        int res=0xFFFFFF;\n        for(int j=0; j<256; j++)\n            res = min(res, dp[n][j]);\n\n        printf(\"%d\\n\", res);\n\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "// Header {{{\n// includes {{{\n#include <algorithm>\n#include <cassert>\n#include <cctype>\n#include <climits>\n#include <cmath>\n#include <complex>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <ctime>\n#include <iostream>\n#include <iterator>\n#include <limits>\n#include <list>\n#include <map>\n#include <numeric>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <sys/time.h>\n#include <unistd.h>\n#include <vector>\n// }}}\nusing namespace std;\n// consts {{{\nstatic const int INF = 1e9;\nstatic const double PI = acos(-1.0);\nstatic const double EPS = 1e-10;\n// }}}\n// typedefs {{{\ntypedef long long int LL;\ntypedef unsigned long long int ULL;\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<LL> VLL;\ntypedef vector<VLL> VVLL;\ntypedef vector<ULL> VULL;\ntypedef vector<VULL> VVULL;\ntypedef vector<double> VD;\ntypedef vector<VD> VVD;\ntypedef vector<bool> VB;\ntypedef vector<VB> VVB;\ntypedef vector<char> VC;\ntypedef vector<VC> VVC;\ntypedef vector<string> VS;\ntypedef vector<VS> VVS;\ntypedef pair<int, int> PII;\ntypedef complex<int> P;\n// }}}\n// macros & inline functions {{{\n// syntax sugars {{{\n#define FOR(i, b, e) for (typeof(e) i = (b); i < (e); ++i)\n#define FORI(i, b, e) for (typeof(e) i = (b); i <= (e); ++i)\n#define REP(i, n) FOR(i, 0, n)\n#define REPI(i, n) FORI(i, 0, n)\n#define OPOVER(_op, _type) inline bool operator _op (const _type &t) const\n// }}}\n// conversion {{{\ninline int toInt(string s) { int v; istringstream sin(s); sin>>v; return v; }\ntemplate<class T> inline string toString(T x) { ostringstream sout; sout<<x; return sout.str(); }\n// }}}\n// array and STL {{{\n#define ARRSIZE(a) ( sizeof(a) / sizeof(a[0]) )\n#define ZERO(a, v) ( assert(v == 0 || v == -1), memset(a, v, sizeof(a)) )\n#define F first\n#define S second\n#define MP(a, b) make_pair(a, b)\n#define SIZE(a) ((LL)a.size())\n#define PB(e) push_back(e)\n#define SORT(v) sort((v).begin(), (v).end())\n#define RSORT(v) sort((v).rbegin(), (v).rend())\n#define ALL(a) (a).begin(), (a).end()\n#define RALL(a) (a).rbegin(), (a).rend()\n#define EACH(c, it) for(typeof((c).begin()) it=(c).begin(); it!=(c).end(); ++it)\n#define REACH(c, it) for(typeof((c).rbegin()) it=(c).rbegin(); it!=(c).rend(); ++it)\n#define EXIST(s, e) ((s).find(e) != (s).end())\n// }}}\n// bit manipulation {{{\n// singed integers are not for bitwise operations, specifically arithmetic shifts ('>>', and maybe not good for '<<' too)\n#define IS_UNSIGNED(n) (!numeric_limits<typeof(n)>::is_signed)\n#define BIT(n) (assert(IS_UNSIGNED(n)), assert(n < 64), (1ULL << (n)))\n#define BITOF(n, m) (assert(IS_UNSIGNED(n)), assert(m < 64), ((ULL)(n) >> (m) & 1))\ninline int BITS_COUNT(ULL b) { int c = 0; while(b != 0) { c += (b & 1); b >>= 1; } return c; }\ninline int MSB(ULL b) { int c = 0; while(b != 0) { ++c; b >>= 1; } return c-1; }\ninline int MAKE_MASK(ULL upper, ULL lower) { assert(lower < 64 && upper < 64 && lower <= upper); return (BIT(upper) - 1) ^ (BIT(lower) - 1); }\n// }}}\n// for readable code {{{\n#define EVEN(n) (n % 2 == 0)\n#define ODD(n) (!EVEN(n))\n// }}}\n// debug {{{\n#define arrsz(a) ( sizeof(a) / sizeof(a[0]) )\n#define dprt(fmt, ...) if (opt_debug) { fprintf(stderr, fmt, ##__VA_ARGS__); }\n#define darr(a) if (opt_debug) { copy( (a), (a) + arrsz(a), ostream_iterator<int>(cerr, \" \") ); cerr << endl; }\n#define darr_range(a, f, t) if (opt_debug) { copy( (a) + (f), (a) + (t), ostream_iterator<int>(cerr, \" \") ); cerr << endl; }\n#define dvec(v) if (opt_debug) { copy( ALL(v), ostream_iterator<int>(cerr, \" \") ); cerr << endl; }\n#define darr2(a) if (opt_debug) { FOR(__i, 0, (arrsz(a))){ darr( (a)[__i] ); } }\n#define WAIT() if (opt_debug) { string _wait_; cerr << \"(hit return to continue)\" << endl; getline(cin, _wait_); }\n#define dump(x) if (opt_debug) { cerr << \" [L\" << __LINE__ << \"] \" << #x << endl << (x) << endl; }\n#define dumpf() if (opt_debug) { cerr << __PRETTY_FUNCTION__ << endl; }\n#define where() if (opt_debug) { cerr << __FILE__ << \": \" << __PRETTY_FUNCTION__ << \" [L: \" << __LINE__ << \"]\" << endl; }\n#define show_bits(b, s) if(opt_debug) { REP(i, s) { cerr << BITOF(b, s-1-i); if(i%4 == 3) cerr << ' '; } cerr << endl; }\n\n// ostreams {{{\n// complex\ntemplate<typename T> ostream& operator<<(ostream& s, const complex<T>& d) {return s << \"(\" << d.real() << \", \" << d.imag() << \")\";}\n// pair\ntemplate<typename T1, typename T2> ostream& operator<<(ostream& s, const pair<T1, T2>& d) {return s << \"(\" << d.first << \", \" << d.second << \")\";}\n// vector\ntemplate<typename T> ostream& operator<<(ostream& s, const vector<T>& d) {\n\tint len = d.size();\n\tREP (i, len) {\n\t\ts << d[i]; if (i < len - 1) s << \"\\t\";\n\t}\n\treturn s;\n}\n// 2 dimentional vector\ntemplate<typename T> ostream& operator<<(ostream& s, const vector< vector<T> >& d) {\n\tint len = d.size();\n\tREP (i, len) {\n\t\ts << d[i] << endl;\n\t}\n\treturn s;\n}\n// }}}\n// }}}\n// }}}\n// time {{{\ninline double now(){ struct timeval tv; gettimeofday(&tv, NULL); return (static_cast<double>(tv.tv_sec) + static_cast<double>(tv.tv_usec) * 1e-6); }\n// }}}\n// string manipulation {{{\ninline VS split(string s, char delimiter) { VS v; string t; REP(i, s.length()) { if(s[i] == delimiter) v.PB(t), t = \"\"; else t += s[i]; } v.PB(t); return v; }\ninline string join(VS s, string j) { string t; REP(i, s.size()) { t += s[i] + j; } return t; }\n// }}}\n// geometry {{{\n#define Y real()\n#define X imag()\n// }}}\n// 2 dimentional array {{{\nP dydx4[4] = { P(-1, 0), P(0, 1), P(1, 0), P(0, -1) };\nP dydx8[8] = { P(-1, 0), P(0, 1), P(1, 0), P(0, -1), P(-1, 1), P(1, 1), P(1, -1), P(-1, -1) };\nint g_height, g_width;\nbool in_field(P p) {\n\treturn (0 <= p.Y && p.Y < g_height) && (0 <= p.X && p.X < g_width);\n}\n// }}}\n// }}}\nbool opt_debug = false;\n\nint main(int argc, char** argv) {\n\tstd::ios_base::sync_with_stdio(false);\n\t// set options {{{\n\tint __c;\n\twhile ( (__c = getopt(argc, argv, \"d\")) != -1 ) {\n\t\tswitch (__c) {\n\t\t\tcase 'd':\n\t\t\t\topt_debug = true;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tabort();\n\t\t}\n\t}\n\t// }}}\n\n\tint N, M;\n\twhile(cin >> N >> M, N | M) {\n\t\tVI C(M);\n\t\tREP (i, M) {\n\t\t\tcin >> C[i];\n\t\t}\n\t\tVI x(N+1);\n\t\tx[0] = 128;\n\t\tREP (i, N) {\n\t\t\tcin >> x[i+1];\n\t\t}\n\n\t\tVVI dp(N+1, VI(256, INF));\n\t\tdp[0][128] = 0;\n\t\tREP (i, N) {\n\t\t\tEACH (C, _c) {\n\t\t\t\tint &c = *_c;\n\t\t\t\tREP (j, 256) {\n\t\t\t\t\tif (dp[i][j] == INF) { continue; }\n\t\t\t\t\tint y = j + c;\n\t\t\t\t\ty = max(0, y);\n\t\t\t\t\ty = min(255, y);\n\t\t\t\t\tdp[i+1][y] = min(dp[i+1][y], dp[i][j] + (x[i+1] - y) * (x[i+1] - y));\n\t\t\t\t\tdprt(\"y[%d] = %d -- %d --> y[%d] = %d, dp[%d][%d] = %d, dp[%d][%d] = %d\\n\", i, j, c, i+1, y, i, j, dp[i][j], i+1, y, dp[i+1][y]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = INF;\n\t\tREP (i, 256) {\n\t\t\tans = min(ans, dp[N][i]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n}\n\n// vim: foldmethod=marker"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nconst long long INF = (1LL << 60);\n\nint main(){\n\n  while(true){\n    int N, M;\n    cin >> N >> M;\n\n    if(N == 0){\n      break;\n    }\n\n    vector<int> C(M);\n    for(int i = 0; i < M; i++){\n      cin >> C[i];\n    }\n\n    vector<int> x(N);\n    for(int i = 0; i < N; i++){\n      cin >> x[i];\n    }\n\n    vector<vector<long long>> minCost(N + 1, vector<long long>(256, INF));\n    minCost[0][128] = 0;\n    for(int i = 0; i < N; i++){\n      for(int j = 0; j < 256; j++){\n\tlong long cost = minCost[i][j];\n\tif(cost == INF){\n\t  continue;\n\t}\n\tfor(int k = 0; k < M; k++){\n\t  int nextState = j + C[k];\n\t  nextState = min(nextState, 255);\n\t  nextState = max(nextState, 0);\n\t  int diff = nextState - x[i];\n\t  long long nextCost = cost + diff * diff;\n\t  \t  \n\t  minCost[i + 1][nextState] = min(minCost[i + 1][nextState], nextCost);\n\t}\n      }\n    }\n\n    long long ans = INF;\n    for(int i = 0; i < 256; i++){\n      ans = min(ans, minCost[N][i]);\n    }\n\n    cout << ans << endl;\n  }\n  \n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n\nusing namespace std;\n\nint dp[20010][256];\nint book[20];\nint input[20010];\nint N, M;\n\nstatic const int MAX = 10000000;\n\nvoid init() {\n  fill(&dp[0][0], &dp[20009][256], MAX);\n}\n\nvoid solve() {\n  dp[0][128] = 0;\n\n  for (int i = 0; i < N; i++) {\n    for (int j = 0; j < 256; j++) {\n      for (int k = 0; k < M; k++) {\n        int tar = j + book[k];\n        if (tar < 0) {\n          tar = 0;\n        } else if (tar > 255) {\n          tar = 255;\n        }\n        int sub = tar - input[i];\n        sub *= sub;\n        dp[i + 1][tar] = min(dp[i + 1][tar], dp[i][j] + sub);\n      }\n    }\n  }\n\n  int mn = MAX;\n  for (int i = 0; i < 256; i++) {\n    mn = min(mn, dp[N][i]);\n  }\n  printf(\"%d\\n\", mn);\n}\n\nint main() {\n    while (true) {\n      scanf(\"%d %d \", &N, &M);\n      if (N == 0 && M == 0) {\n        break;\n      }\n      init();\n      for (int i = 0; i < M; i++) {\n        scanf(\"%d \", &book[i]);\n      }\n      for (int i = 0; i < N; i++) {\n        scanf(\"%d \", &input[i]);\n      }\n      solve();\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n \nusing namespace std;\n \n#define INF 1001000100010001000\n#define MOD 1000000007\n#define EPS 1e-10\n#define int long long\n#define rep(i, N) for (int i = 0; i < N; i++)\n#define Rep(i, N) for (int i = 1; i < N; i++)\n#define For(i, a, b) for (int i = (a); i < (b); i++)\n#define pb push_back\n#define mp make_pair\n#define i_i pair<int, int>\n#define vi vector<int>\n#define vvi vector<vi >\n#define vb vector<bool>\n#define vvb vector<vb >\n#define vp vector< i_i >\n#define all(a) (a).begin(), (a).end()\n#define Int(x) int x; scanf(\"%lld\", &x);\n \n//int dxy[5] = {0, 1, 0, -1, 0};\n// assign\n \nsigned main()\n{\n    Int(n);\n    Int(m);\n\n    while (m) {\n        vi code(m);\n        rep(i, m) {\n            cin >> code[i];\n        }\n        vi x(n);\n        rep(i, n) {\n            cin >> x[i];\n        }\n        vvi dp(n, vi(256, INF));\n        int st = 128;\n        rep(i, m) {\n            int tmp = st + code[i];\n            tmp = (tmp < 0) ? 0 : tmp;\n            tmp = (tmp > 255) ? 255 : tmp;\n            dp[0][tmp] = min(dp[0][tmp], (x[0] - tmp) * (x[0] - tmp));\n        }\n        rep(i, n-1) {\n            rep(j, 256) {\n                if (dp[i][j] != INF) {\n                    st = j;\n                } else {\n                    continue;\n                }\n                rep(k, m) {\n                    int tmp = st + code[k];\n                    tmp = (tmp < 0) ? 0 : tmp;\n                    tmp = (tmp > 255) ? 255 : tmp;\n                    dp[i+1][tmp] = min(dp[i+1][tmp], \n                            dp[i][j] + (x[i+1] - tmp) * (x[i+1] - tmp));\n                }\n            }\n        }\n        int ret = INF;\n        rep(i, 256) {\n            ret = min(ret, dp[n-1][i]);\n        }\n        cout << ret << endl;\n        cin >> n >> m;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <cmath>\n#define INF 100000000\n\nusing namespace std;\n\nint main(void) {\n\tint N,M;\n\twhile (cin >> N >> M, N) {\n\t\tvector<int> C(M);\n\t\tfor (int i = 0; i < M; ++i) {\n\t\t\tcin >> C[i];\n\t\t}\n\t\tvector<int> x(N);\n\t\tfor (int i = 0; i < N; ++i) {\n\t\t\tcin >> x[i];\n\t\t}\n\n\t\tvector< vector<int> > dp(256,vector<int>(N+1));\n\t\tfor (int i = 0; i < 256; ++i) {\n\t\t\tfor (int j = 0; j < N+1; ++j) {\n\t\t\t\tdp[i][j] = INF;\n\t\t\t}\n\t\t}\n\t\tdp[128][0] = 0;\n\n\t\tfor (int j = 0; j < N; ++j) {\n\t\t\tfor (int i = 0; i < 256; ++i) {\n\t\t\t\tif (dp[i][j] != INF) {\n\t\t\t\t\tfor (int k = 0; k < M; ++k) {\n\t\t\t\t\t\tif (C[k]+i > 255) {\n\t\t\t\t\t\t\tdp[255][j+1] = min(dp[255][j+1],dp[i][j]+(int)pow(x[j]-255,2));\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (C[k]+i < 0) {\n\t\t\t\t\t\t\tdp[0][j+1] = min(dp[0][j+1],dp[i][j]+(int)pow(x[j]-0,2));\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tdp[C[k]+i][j+1] = min(dp[C[k]+i][j+1],dp[i][j]+(int)pow(x[j]-C[k]-i,2));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tint res = INF;\n\t\tfor (int i = 0; i < 256; ++i) {\n\t\t\tif (dp[i][N] < res) {\n\t\t\t\tres = dp[i][N];\n\t\t\t}\n\t\t}\n\t\tcout << res << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <climits>\nusing namespace std;\npair <long long,int> dp[16][20001];\nint c[16];\nint x[20000];\n\n\nint main (){\n  int n,m;\n  while(cin>>n>>m &&(n||m)){\n    for(int i=0;i<m;i++) cin>>c[i];\n    for(int i=0;i<n;i++) cin>>x[i];\n    \n    for(int i=0;i<m;i++)\n      for(int j=0;j<=n;j++) dp[i][j] = make_pair(LONG_MAX,255);\n      \n    for(int i=0;i<m;i++) dp[i][0] = make_pair(0,128);\n\n    for(int i=0;i<n;i++){\n      for(int j=0;j<m;j++){\n\tfor(int k=0;k<m;k++){\n\t  long long u=dp[j][i].second+c[k];\n\t  if(u<0) u=0;\n\t  if(u>255) u=255;\n\t  dp[k][i+1]=min(dp[k][i+1],make_pair(dp[j][i].first+(x[i]-u)*(x[i]-u),(int)u));\n\t}\n      }\n    }\n    long long res=LONG_MAX;\n    for(int i=0;i<m;i++) res = min(dp[i][n].first,res);\n    cout<<res<<endl;\n  }\n\n    \n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define syosu(x) fixed<<setprecision(x)\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned int uint;\ntypedef unsigned long long ull;\ntypedef pair<int,int> P;\ntypedef pair<double,double> pdd;\ntypedef pair<ll,ll> pll;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<double> vd;\ntypedef vector<vd> vvd;\ntypedef vector<ll> vl;\ntypedef vector<vl> vvl;\ntypedef vector<string> vs;\ntypedef vector<P> vp;\ntypedef vector<vp> vvp;\ntypedef vector<pll> vpll;\ntypedef pair<int,P> pip;\ntypedef vector<pip> vip;\nconst int inf=1<<29;\nconst ll INF=1ll<<60;\nconst double pi=acos(-1);\nconst double eps=1e-11;\nconst ll mod=1e9+7;\nconst int dx[4]={-1,0,1,0},dy[4]={0,-1,0,1};\n\nint main(){\n\twhile(1){\n\t\tint n,m;\n\t\tcin>>n>>m;\n\t\tif(n==0) break;\n\t\tvi a(m);\n\t\tfor(auto &i:a) cin>>i;\n\t\tvi dp(256,inf);\n\t\tdp[128]=0;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tint x;\n\t\t\tcin>>x;\n\t\t\tvi DP(256,inf);\n\t\t\tfor(int j=0;j<256;j++) if(dp[j]<inf){\n\t\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\t\tint t=j+a[k];\n\t\t\t\t\tif(t<0) t=0;\n\t\t\t\t\tif(t>=256) t=255;\n\t\t\t\t\tDP[t]=min(DP[t],dp[j]+(t-x)*(t-x));\n\t\t\t\t}\n\t\t\t}\n\t\t\tdp=DP;\n\t\t}\n\t\tint res=inf;\n\t\tfor(auto i:dp) res=min(res,i);\n\t\tcout<<res<<endl;\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\n#define INF 1e9\n#define llINF 1e18\n#define MOD 1e9+7\n#define pb push_back\n#define mp make_pair \n#define F first\n#define S second\n#define ll long long\n#define sqr(x) (x)*(x)\nusing namespace std;\nvector<int>C(5000);\nvector<int>x(100000);\nint ans=0;\nint n,m;\nint main(){\n  while(cin>>n>>m,n){\n    ans=INF;\n    int dp[n+20][530]={};\n    for(int i=0;i<n+2;i++)\n      for(int j=0;j<520;j++)\n\tdp[i][j]=INF;\n    for(int i=0;i<m;i++)\n      cin>>C[i];\n    for(int i=0;i<n;i++){\n      cin>>x[i];\n      x[i]+=260;\n    }\n\n    dp[0][128+260]=0;\n    for(int i=1;i<=n;i++){\n      for(int j=5;j<=515;j++){\n\tif(dp[i-1][j]!=INF){\n\t  for(int k=0;k<m;k++){\n\t    int num=j+C[k];\n\t    if(num>=515)num=515;\n\t    else if(num<=5)num=5;\n\t    //cout<<i<<\" \"<<\n\t    dp[i][num]=min(dp[i-1][j]+((num-x[i-1])*(num-x[i-1])),dp[i][num]);\n\t  }\n\t}\n      }\n    }\n    for(int i=0;i<520;i++){\n      ans=min(dp[n][i],ans);\n    }\n    cout<<ans<<endl;\n  }\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main()\n{\n    while (1)\n    {\n        int N, M;\n        cin >> N >> M;\n        if (N == 0 || M == 0)\n        {\n            break;\n        }\n        long long C[M];\n        for (int i = 0; i < M; i++)\n        {\n            cin >> C[i];\n        }\n        long long x[N];\n        for (int i = 0; i < N; i++)\n        {\n            cin >> x[i];\n        }\n        vector<vector<long long>> dp(N + 1, vector<long long>(256, 100000000000));\n        dp[0][128] = 0;\n        for (int i = 0; i < N; i++)\n        {\n            for (int j = 0; j <= 255; j++)\n            {\n                for (int k = 0; k < M; k++)\n                {\n                    long long tmp = x[i] - j - C[k];\n                    if (j + C[k] < 0)\n                    {\n                        tmp = x[i];\n                        dp[i + 1][0] = min(dp[i + 1][0], dp[i][j] + tmp * tmp);\n                    }\n                    else if (j + C[k] > 255)\n                    {\n                        tmp = x[i] - 255;\n                        dp[i + 1][255] = min(dp[i + 1][255], dp[i][j] + tmp * tmp);\n                    }\n                    else\n                    {\n                        dp[i + 1][j + C[k]] = min(dp[i + 1][j + C[k]], dp[i][j] + tmp * tmp);\n                    }\n                }\n            }\n        }\n        long long ans = 100000000000;\n        for (int i = 0; i <= 255; i++)\n        {\n            ans = min(ans, dp[N][i]);\n        }\n        cout << ans << endl;\n    }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <cmath>\n\nusing namespace std;\n \nint main() {\n int n,m;\n while(cin >> n >> m, n) {\n  vector<int> code(m), value(n);\n  for (int i = 0; i < m; i++)\n   cin >> code[i];\n  for (int i = 0; i < n; i++)\n   cin >> value[i];\n  vector<vector<int> > dp(n+1, vector<int>(256, 1000000000));\n  dp[0][128] = 0;\n  for (int i = 0; i < n; i++) {\n   for (int j = 0; j < 256; j++) {\n    for (int k = 0; k < m; k++) {\n     int val = min(255,max(0,j+code[k]));\n     dp[i+1][val] = min(dp[i+1][val], dp[i][j] + (val -value[i]) * (val - value[i]));\n    }\n   }\n  }\n  int ans = 1000000000;\n  for (int i = 0; i < 256; i++) {\n   ans = min(ans, dp[n][i]);\n  }\n  cout << ans << endl;\n }\n return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n\nusing namespace std;\ntypedef long long ll;\n\nll c[20000], x[16];\n\nll dp[21][256];\n\nint main() {\n\twhile (1) {\n\t\tint n, m;\n\t\tcin >> n >> m;\n\t\tif (n + m == 0)break;\n\t\tfor (int i = 0; i < m; i++)cin >> c[i];\n\t\tfor (int i = 0; i < n; i++)cin >> x[i];\n\n\t\tfor (int i = 0; i < 21; i++)for (int j = 0; j < 256; j++)dp[i][j] = 1e18;\n\t\tdp[0][128] = 0;\n\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tfor (int j = 0; j <= 255; j++) {\n\t\t\t\tfor (int k = 0; k < m; k++) {\n\t\t\t\t\tint nxt = 0;\n\t\t\t\t\tif (j + c[k] < 0)nxt = 0;\n\t\t\t\t\tif (j + c[k] > 255)nxt = 255;\n\t\t\t\t\tnxt = j + c[k];\n\t\t\t\t\tdp[i + 1][nxt] = min(dp[i + 1][nxt], dp[i][j] + (x[i] - nxt) * (x[i] - nxt));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tll ans = 1e18;\n\n\t\tfor (int i = 0; i < 256; i++) {\n\t\t\tans = min(ans, dp[n][i]);\n\t\t}\n\t\tcout << ans << endl;\n\n\t}\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define lp(i,n) for(int i=0;i<n;i++)\n#define lpin(a,i,n) for(int i=0;i<n;i++){cin>>a[i];}\nint dp[25000][300];\nint  main(){\n  while(1){\n    int n,m;\n    cin>>n>>m;\n    int c[20],x[25000];\n    if(n==0&& m==0) break;\n    lp(i,25000){\n      lp(j,300){\n\tdp[i][j]=-1;\n      }\n    }\n    lpin(c,i,m);\n    lpin(x,i,n);\n    dp[0][128]=0;\n    for(int i=1;i<=n;i++){\n      lp(j,256){\n\tif(dp[i-1][j]!=-1){\n\t  lp(k,m){\n\t    if(dp[i][max(min(j+c[k],255),0)]==-1){\n\t      dp[i][max(min(j+c[k],255),0)]=dp[i-1][j]+(max(min(j+c[k],255),0)-x[i-1])*(max(min(j+c[k],255),0)-x[i-1]);\n\t    }\n\t    else\n\t    dp[i][max(min(j+c[k],255),0)]=min(dp[i-1][j]+(max(min(j+c[k],255),0)-x[i-1])*(max(min(j+c[k],255),0)-x[i-1]),dp[i][max(min(j+c[k],255),0)]);\n\t  }\n\t}\n      }\n    }\n    int ans=-1;\n    lp(i,300){\n      if(dp[n][i]!=-1){\n\tif(ans==-1)\n\t  ans=dp[n][i];\n\telse ans=min(ans,dp[n][i]);\n      }\n    }\n    cout<<ans<<endl;\n  }\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define INF 0x3f3f3f3f\n#define rep(i,n)for(int i=0;i<(n);i++)\nusing namespace std;\n\nint c[16], x[20001];\nint dp[20001][256];\nint d(int a) {\n\tif (a < 0)return 0;\n\tif (a > 255)return 255;\n\treturn a;\n}\nint diff(int i, int a) {\n\treturn (x[i] - a)*(x[i] - a);\n}\nint main() {\n\tint n, m;\n\twhile (scanf(\"%d%d\", &n, &m), n) {\n\t\trep(i, m)scanf(\"%d\", &c[i]);\n\t\trep(i, n)scanf(\"%d\", &x[i]);\n\t\tmemset(dp, 0x3f, sizeof(dp));\n\t\tdp[0][128] = 0;\n\t\trep(i, n)rep(j, 256) {\n\t\t\tif (dp[i][j] == INF)continue;\n\t\t\trep(k, m) {\n\t\t\t\tint a = d(j + c[k]);\n\t\t\t\tdp[i + 1][a] = min(dp[i + 1][a], dp[i][j] + diff(i, a));\n\t\t\t}\n\t\t}\n\t\tint Min = INF;\n\t\trep(j, 256)Min = min(Min, dp[n][j]);\n\t\tprintf(\"%d\\n\", Min);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define REP(i, n) for(int i=0;i<int(n);++i)\n#define FOR(i, a, b) for(int i=int(a);i<int(b);++i)\n\nint dp[2][256];\n\ntemplate <typename T> inline void assign_min(T& x, T v) { if (v < x) x = v; }\ntemplate <typename T> inline T square(T x) { return x*x; }\n\nint main() {\n    cin.tie(0); ios_base::sync_with_stdio(false);\n\n    int N, M;\n    while (cin >> N >> M, N | M) {\n        vector<int> codebook(M);\n        vector<int> signals(N+1);\n        REP(i, M) cin >> codebook[i];\n        REP(i, N) cin >> signals[i+1];\n\n        REP(v, 256) dp[0][v] = 1e8;\n        dp[0][128] = 0;\n\n        REP(i, N) {\n            int curr = i%2;\n            int next = (i+1)%2;\n            REP(v, 256) dp[next][v] = 1e8;\n            REP(v, 256) {\n                REP(j, M) {\n                    int value = min(max(v + codebook[j], 0), 255);\n                    int diff = value - signals[i+1];\n                    assign_min(dp[next][value], dp[curr][v] + square(diff));\n                }\n            }\n        }\n\n        cout << *min_element(dp[N%2], dp[N%2]+256) << '\\n';\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<(n);i++)\nusing namespace std;\nint N,M;\nint C[20];\nint X[20004];\nconst long long INF = 1000000000000;\nlong long dp[20004][130];\nlong long dfs(int i_,int y_) {\n    if(i_ == N) return 0;\n    if(dp[i_][y_]!=-1) return dp[i_][y_];\n\n    long long ret = INF;\n\n    rep(i,M) {\n        int y = y_ + C[i];\n        y = max(y,0);\n        y = min(y,255);\n        //cout<<y<<\",\"<<X[i_]<<endl;\n        ret = min(ret,dfs(i_+1,y)+(X[i_]-y)*(X[i_]-y));\n\n    }\n    return dp[i_][y_]=ret;\n\n}\nvoid solve() {\n    rep(i,20004) rep(j,130) dp[i][j] = -1;\n    rep(i,M) cin>>C[i];\n    rep(i,N) cin>>X[i];\n    long long ans = INF;\n    ans = min(ans,dfs(0,128));\n    cout<<ans<<endl;\n\n}\nint main() {\n    while(cin>>N>>M) {\n        if(N+M==0) return 0;\n        solve();\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n\nusing namespace std;\n\ntypedef int ll;\n\nll dp[20010][256];\nint book[20];\nint input[20010];\nint N, M;\n\nstatic const ll MAX = 100000000;\n\nvoid init() {\n  fill(&dp[0][0], &dp[20009][256], MAX);\n}\n\nvoid solve() {\n  dp[0][128] = 0;\n\n  for (int i = 0; i < N; i++) {\n    for (int j = 0; j < 256; j++) {\n      for (int k = 0; k < M; k++) {\n        int tar = j + book[k];\n        if (tar < 0) {\n          tar = 0;\n        } else if (tar > 255) {\n          tar = 255;\n        }\n        ll sub = tar - input[i];\n        sub *= sub;\n        dp[i + 1][tar] = min(dp[i + 1][tar], dp[i][j] + sub);\n      }\n    }\n  }\n\n  ll mn = MAX;\n  for (int i = 0; i < 256; i++) {\n    mn = min(mn, dp[N][i]);\n  }\n  printf(\"%ld\\n\", mn);\n}\n\nint main() {\n    while (true) {\n      scanf(\"%d %d \", &N, &M);\n      if (N == 0 && M == 0) {\n        break;\n      }\n      init();\n      for (int i = 0; i < M; i++) {\n        scanf(\"%d \", &book[i]);\n      }\n      for (int i = 0; i < N; i++) {\n        scanf(\"%d \", &input[i]);\n      }\n      solve();\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#define REP(i, a, n) for(int i = ((int) a); i < ((int) n); i++)\n#define INF 100000000\nusing namespace std;\ntypedef long long ll;\n\nint N, M, C[16], X[20000];\nll dp[20001][256];\n\nint main(void) {\n  while(cin >> N >> M, N || M) {\n    REP(i, 0, M) cin >> C[i];\n    REP(i, 0, N) cin >> X[i];\n\n    REP(i, 0, N + 1) REP(j, 0, 256) dp[i][j] = INF;\n    dp[0][128] = 0;\n\n    REP(i, 0, N) REP(j, 0, 256) if(dp[i][j] < INF) REP(k, 0, M) {\n      ll y = max(0, min(255, j + C[k]));\n      dp[i + 1][y] = min(dp[i + 1][y], dp[i][j] + (y - X[i]) * (y - X[i]));\n    }\n\n    ll ans = INF;\n    REP(i, 0, 256) ans = min(ans, dp[N][i]);\n    cout << ans << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#define INF (1<<21)\nusing namespace std;\n\nint main(){\n  int i,j,k,n,m;\n  while(cin >> n >> m && n && m){\n    vector<int> C,x;\n    for(i=0;i<m;i++){\n      int a;\n      cin >> a;\n      C.push_back(a);\n    }\n    for(i=0;i<n;i++){\n      int a;\n      cin >> a;\n      x.push_back(a);\n    }\n    sort(C.begin(),C.end());\n\n    int y[256][2];\n    for(i=0;i<256;i++) y[i][0] = y[i][1] = INF;\n    y[128][0] = 0;\n    for(i=0;i<n;i++){\n      for(j=0;j<m;j++){\n\tfor(k=0;k<256;k++){\n\t  if(y[k][0] != INF){\n\t    int a = k + C[j];\n\t    if(a < 0) a = 0;\n\t    else if(a > 255) a = 255;\n\t    y[a][1] = min(y[a][1],y[k][0]+(x[i]-a)*(x[i]-a));\n\t  }\n\t}\n      }\n      for(j=0;j<256;j++){\n\ty[j][0] = y[j][1];\n\ty[j][1] = INF;\n      }\n    }\n\n    int ans = INF;\n    for(i=0;i<256;i++) ans = min(ans,y[i][0]);\n\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <algorithm>\n#include <cmath>\n#include <vector>\n#include <queue>\n#include <sstream>\n\nusing namespace std;\n\nlong long int DP[20001][256];\n\nint main(){\n\t\n\tint N, M;\n\t\n\twhile(true){\n\t\tcin >> N >> M;\n\t\tif(N == 0){\n\t\t\tbreak;\n\t\t}\n\t\t\n\t\tint C[20];\n\t\t\n\t\tfor(int i = 0; i < M; i++){\n\t\t\tcin >> C[i];\n\t\t}\n\t\t\n\t\tlong long int x[20001];\n\t\t\n\t\tfor(int i = 0; i < N; i++){\n\t\t\tcin >> x[i];\n\t\t}\n\t\t\n\t\tfor(int i = 0; i <= N; i++){\n\t\t\tfor(int j = 0; j < 256; j++){\n\t\t\t\tDP[i][j] = 100000000000;\n\t\t\t}\n\t\t}\n\t\t\n\t\tDP[0][128] = 0;\n\t\t\n\t\tfor(int i = 0; i < N; i++){\n\t\t\tfor(int j = 0; j < M; j++){\n\t\t\t\tfor(int k = 0; k < 256; k++){\n\t\t\t\t\tint index = max(0, min(255, k + C[j]));\n\t\t\t\t\tDP[i + 1][index] = min(DP[i + 1][index], DP[i][k] + (x[i] - index) * (x[i] - index));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tlong long int ans = 100000000000;\n\t\t\n\t\tfor(int i = 0; i < 256; i++){\n\t\t\tans = min(ans, DP[N][i]);\n\t\t}\n\t\t\n\t\tcout << ans << endl;\n\t\t\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <map>\n#include <algorithm>\nusing namespace std;\n\nconst int INF = 1e+8;\nconst int MAX_M = 16;\nconst int MAX_N = 20000;\n\n// dp[i][y] := i 番目までの差分の総和\nint dp[MAX_N][256];\n\nint main(){\n\tint N, M;\n\twhile( cin >> N >> M, N || M ){\n\t\tint C[MAX_M] = {0};\n\t\t\n\t\tfor(int i=0 ; i < M ; i++ ){\n\t\t\tcin >> C[i];\n\t\t}\n\t\t\n\t\t// 初期化\n\t\tfor(int i=0 ; i <= N ; i++ ){\n\t\t\tfor(int j=0 ; j < 256 ; j++ ){\n\t\t\t\tdp[i][j] = INF;\n\t\t\t}\n\t\t}\n\t\tdp[0][128] = 0;\n\t\t\n\t\tfor(int i=1 ; i <= N ; i++ ){\n\t\t\tint x;\n\t\t\tcin >> x;\n\t\t\tfor(int prev=0 ; prev < 256 ; prev++ ){\n\t\t\t\tfor(int m=0 ; m < M ; m++ ){\n\t\t\t\t\tint next = prev + C[m];\n\t\t\t\t\tif( next < 0 ) next = 0;\n\t\t\t\t\tif( next > 255 ) next = 255;\n\t\t\t\t\tint diff = (next - x) * (next - x);\n\t\t\t\t\tdp[i][next] = min( dp[i][next] , dp[i-1][prev] + diff );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = INF;\n\t\tfor(int i=0 ; i < 256 ; i++ ){\n\t\t\tans = min( ans , dp[N][i] );\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> P;\ntypedef vector<int> VI;\n \ntemplate<class T> bool chmax(T &a, const T &b) { if (a<b) { a=b; return 1; } return 0; }\ntemplate<class T> bool chmin(T &a, const T &b) { if (a>b) { a=b; return 1; } return 0; }\n#define _overload3(_1,_2,_3,name,...) name\n#define _rep(i,n) repi(i,0,n)\n#define repi(i,a,b) for(int i=int(a);i<int(b);++i)\n#define rep(...) _overload3(__VA_ARGS__,repi,_rep,)(__VA_ARGS__)\n#define all(x) (x).begin(),(x).end()\nconst int mod=1e9+7;\n\nint round255(int x){\n    if(x>255)return 255;\n    if(x<0)return 0;\n    return x;\n}\n\nint main(){\n    while(true){\n        int n,m;cin>>n>>m;if(!n)break;\n        int c[m];rep(i,m)cin>>c[i];\n        int x[n];rep(i,n)cin>>x[i];\n        int dp[n+1][256];\n        rep(i,n+1) rep(j,256) dp[i][j]=mod;\n        dp[0][128]=0;\n        rep(i,n){\n            rep(j,256){\n                if(dp[i][j]==mod)continue;\n                rep(k,m){\n                    chmin(dp[i+1][round255(j+c[k])],dp[i][j]+abs(x[i]-round255(j+c[k]))*abs(x[i]-round255(j+c[k])));\n                }\n            }\n        }\n        int ans=mod;\n        rep(i,256)chmin(ans,dp[n][i]);\n        cout<<ans<<endl;\n    }\n}\n                \n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <map>\n#include <vector>\n#include <algorithm>\n#include <sstream>\n#include <cstdio>\n\nusing namespace std;\n\n#define REP(i,k,n) for(int i=k;i<n;i++)\n#define rep(i,n) for(int i=0;i<n;i++)\n\n#define all(v) v.begin(),v.end()\n#define INF 1<<30\n#define mp\n#define pb push_back\n\n#define fi first\n#define se second\n\n#define each(it,c) for(auto it=(c).begin();it!=(c).end();it++)\n\ntypedef vector<int> vi;\ntypedef vector<vi> vii;\ntypedef pair<int,int> pii;\ntypedef vector<pair<int, int> > vp;\ntypedef vector<string> vs;\n\ntypedef long long ll;\n\nint main(){\n  while(1){\n    int n,m; cin>>n>>m;\n    if(n==0) break;\n    vii dp(n+1,vi(256,INF));\n    vi c(m); rep(i,m) cin>>c[i];\n    vi x(n); rep(i,n) cin>>x[i];\n    dp[0][128] = 0;\n    rep(i,n){\n      rep(j,256){\n        if(dp[i][j]==INF) continue;\n        rep(k,m){\n          int y = max(0,min(255,j+c[k]));\n          dp[i+1][y] = min(dp[i+1][y],dp[i][j]+(x[i]-y)*(x[i]-y));\n        }\n      }\n    }\n    int ans = INF;\n    rep(i,256) ans = min(ans,dp[n][i]);\n    cout<<ans<<endl;;\n  }\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#define N 20001\n#define M 256\n#define INF 1000000000\n\nusing namespace std;\n\nint n, m;\nint c[16];\nint dp[N][M];\n\nvoid init(){\n  for(int i=0; i<N; ++i){\n    for(int j=0; j<M; ++j){\n      dp[i][j] = INF;\n    }\n  }\n  dp[0][128] = 0;\n}\n\nint code(int k){\n  if(k < 0) return 0;\n  if(k >= M) return M-1;\n  return k;\n}\n\nvoid solve(int& x, int& u, int& v){\n  for(int i=0; i<m; ++i){\n    int j = code(v + c[i]);\n    dp[u][j] = min(dp[u][j], (x-j)*(x-j) + dp[u-1][v]);\n  }\n}\n\nint main(){\n  int x;\n  while(1){\n    cin >> n >> m;\n    if(!n && !m) break;\n    init();\n    for(int i=0; i<m; ++i) cin >> c[i];\n    for(int i=1; i<=n; ++i){\n      cin >> x;\n      for(int j=0; j<M; ++j){\n\tif(dp[i-1][j] != INF) solve(x, i, j);\n      }\n    }\n    int ans=INF;\n    for(int j=0; j<M; ++j) ans = min(ans, dp[n][j]);\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n \nusing namespace std;\n \n//conversion\n//------------------------------------------\ninline int toInt(string s) {int v; istringstream sin(s);sin>>v;return v;}\ntemplate<class T> inline string toString(T x) {ostringstream sout;sout<<x;return sout.str();}\n \n//math\n//-------------------------------------------\ntemplate<class T> inline T sqr(T x) {return x*x;}\n \n//typedef\n//------------------------------------------\ntypedef pair<int, int> PII;\ntypedef pair<long, long> PLL;\ntypedef long long LL;\n//container util\n//------------------------------------------\n#define ALL(a)  (a).begin(),(a).end()\n#define RALL(a) (a).rbegin(), (a).rend()\n#define PB push_back\n#define MP make_pair\n#define SZ(a) int((a).size())\n#define SORT(c) sort((c).begin(),(c).end())\n \n//repetition\n//------------------------------------------\n#define FOR(i,a,b) for(LL i=(a);i<(b);++i)\n#define REP(i,n)  FOR(i,0,n)\n \n//constant\n//--------------------------------------------\nconst double EPS = 1e-10;\nconst double PI  = acos(-1.0);\nconst int INF=INT_MAX;\n//clear memory\n#define CLR(a) memset((a), 0 ,sizeof(a))\n\nint rd(int num){\n\treturn min(255,max(0,num));\n}\n\nint dp[20002][256];\nint main(){\n\tint N,M;\n\twhile(cin>>N>>M){\n\t\tif(N==0)return 0;\n\t\tvector<int>C(M),x(N);\n\t\tREP(i,M)cin>>C[i];\n\t\tREP(i,N){\n\t\t\tcin>>x[i];\n\t\t}\n\t\tREP(i,20002)REP(j,256)dp[i][j]=INT_MAX;\n\t\tdp[0][128]=0;\n\t\tREP(i,N){\n\t\t\tREP(j,256){\n\t\t\t\tif(dp[i][j]==INT_MAX)continue;\n\t\t\t\tREP(k,M){\n\t\t\t\t\tint yn=rd(C[k]+j);\n\t\t\t\t\t//cout<<yn<<endl;\n\t\t\t\t\tint sum2=(x[i]-yn)*(x[i]-yn);\n\t\t\t\t\tdp[i+1][yn]=min(dp[i+1][yn],dp[i][j]+sum2);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint res=INT_MAX;\n\t\tREP(i,256)res=min(res,dp[N][i]);\n\t\tcout<<res<<endl;\n\t}\n\treturn 0;\n}\n/*\n1 -100 4\n-1,1,2\n*/"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <cstring>\n#include <string>\n#include <algorithm>\n#include <iomanip>\nusing namespace std;\n\ntypedef long long ll;\nconst ll INF = 1LL << 50;\nll dp[20010][260];\nll c[16];\nll x[20000];\n\nint main() {\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\n\tint n, m;\n\twhile(cin >> n >> m, n) {\n\t\tfor(int i = 0; i < m; i++) {\n\t\t\tcin >> c[i];\n\t\t}\n\t\tfor(int i = 0; i < n; i++) {\n\t\t\tcin >> x[i];\n\t\t}\n\n\t\tfill((ll*)begin(dp), (ll*)end(dp), INF);\n\t\tdp[0][128] = 0;\n\n\t\tfor(int i = 0; i < n; i++) {\n\t\t\tfor(int j = 0; j <= 255; j++) {\n\t\t\t\tfor(int k = 0; k < m; k++) {\n\t\t\t\t\tint nj = max(min(j + c[k], 255LL), 0LL);\n\t\t\t\t\tdp[i + 1][nj] = min(dp[i + 1][nj], dp[i][j] + (x[i] - nj) * (x[i] - nj));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tll ans = INF;\n\t\tfor(int j = 0; j <= 255; j++) {\n\t\t\tans = min(ans, dp[n][j]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\nusing namespace std;\nusing ll=long long;\n\nll dp[20][256];\n\nll dfs(int i,int y,vector<int>&c,vector<int>&x){\n    if(i>=x.size())return 0;\n    if(y<0)y=0;\n    if(y>255)y=255;\n    if(dp[i][y]!=-1)return dp[i][y];\n    ll res=999999999999;\n    for(int j=0;j<c.size();++j){\n        res=min(res,dfs(i+1,y+c[j],c,x)+(y-x[i])*(y-x[i]));\n    }\n    return dp[i][y]=res;\n}\n\nint main(){\n    int n,m;\n    while(cin>>n>>m,n){\n        for(int i=0;i<20;++i){\n            for(int j=0;j<256;++j)dp[i][j]=-1;\n        }\n        vector<int>c(m),x(n+1);\n        for(int i=0;i<m;++i){\n            cin>>c[i];\n        }\n        x[0]=128;\n        for(int i=1;i<n+1;++i){\n            cin>>x[i];\n        }\n        cout<<dfs(0,128,c,x)<<endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<string.h>\n#include<math.h>\n#define min(a,b) (a>b?b:a)\nint N,M,C[20],x[20005];\nlong long res,dp[20005][20][2]={0};\nint main()\n{\n\tfor(;scanf(\"%d%d\",&N,&M),N+M;)\n\t{\n\t\tres=100000000000000;\n\t\tmemset(dp,0x7f,sizeof(dp));\n\t\tfor(int i=0;i<M;i++)scanf(\"%d\",&C[i]);\n\t\tfor(int j=1;j<=N;j++)scanf(\"%d\",&x[j]);\n\t\tfor(int i=0;i<M;i++)\n\t\t{\n\t\t\tdp[0][i][0]=128;\n\t\t\tdp[0][i][1]=0;\n\t\t}\n\t\tfor(int i=1;i<=N;i++)\n\t\t{\n\t\t\tfor(int k=0;k<M;k++)\n\t\t\t\tfor(int j=0;j<M;j++)\n\t\t\t\t{\n\t\t\t\t\tint p=dp[i-1][k][0]+C[j];\n\t\t\t\t\tif(p>255)p=255;\n\t\t\t\t\tif(p<0)p=0;\n\t\t\t\t\tint a=x[i]-p;\n\t\t\t\t\tint tmp=a*a;\n\t\t\t\t\tif(dp[i-1][k][1]+tmp<dp[i][j][1])\n\t\t\t\t\t{\n\t\t\t\t\t\tdp[i][j][1]=dp[i-1][k][1]+tmp;\n\t\t\t\t\t\tdp[i][j][0]=p;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t}\n\t\tfor(int i=0;i<M;i++)\n\t\t\tres=min(res,dp[N][i][1]);\n\t\tprintf(\"%lld\\n\",res);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "/*\nHokudai Practice Contest 2014\nF - Differential Pulse Code Modulation\n\nティツァツ」テヲツウツ陛ッツシツ咼P\ny_iテ」ツつ津」ツ?づ」ツつ凝・ツ?、pテ」ツ?ォテァツャツヲテ・ツ渉キテ・ツ個姪」ツ?凖」ツつ凝」ツ?ィテ」ツ?催」ツ?ョテ」ツつウテ」ツつケテ」ツδ暗」ツ?ッテ」ツ?【_{i-1}テ」ツつ津」ツ?ゥテ」ツ?ョテ・ツ?、テ」ツ?ォテァツャツヲテ・ツ渉キテ・ツ個姪」ツ?療」ツ?淌」ツ?凝」ツ??\nテ」ツ?ォテ」ツ?療」ツ?凝、ツセツ敕・ツュツ佚」ツ?療」ツ?ヲテ」ツ??」ツ?ェテ」ツ??」ツ?づ」ツつ暗」ツ?」テ」ツ?ヲテ」ツ??\nテ」ツ??P[i][p] := y_iテ」ツつ恥テ」ツ?ォテァツャツヲテ・ツ渉キテ・ツ個姪」ツ?療」ツ?淌」ツ?ィテ」ツ?催」ツ?ョテ」ツ?（テ」ツ?セテ」ツ?ァテ」ツ?ョテヲツ慊?・ツーツ湘、ツコツ古、ツケツ療・ツ陳?\nテ」ツ?ィテ」ツ?凖」ツつ凝」ツ?ィテ」ツ??\n  DP[i][p] := min{ DP[i-1][p-c_j] + (p-c_j)^2 | 0<=j<m}\nテ」ツ?ィテヲツシツクテ・ツ個姪・ツシツ湘」ツ?古ァツォツ凝」ツ?ヲテ」ツつ嘉」ツつ古」ツつ凝」ツ??テヲツュツ」テァツ「ツコテ」ツ?ォテ」ツ?ッテ」ツ??テ」ツつ?55テ」ツ?ァテ」ツ?ョテ、ツクツクテ」ツつ?」ツつづィツ?εヲツ?ョテ」ツ?凖」ツつ凝・ツソツ?ィツヲツ?」ツ?古」ツ?づ」ツつ?\n\nDPテ」ツδ?」ツδシテ」ツδ姪」ツδォテ」ツ?ョNテδ?56テ」ツ?ョテ」ツ?敕」ツつ古」ツ?榲」ツつ古」ツ?ョテァツ環カテヲツ?凝」ツ?ォテ」ツ?、テ」ツ??」ツ?ヲテ」ツ??\nテ」ツ?ゥテ」ツ?ョテ」ツつウテ」ツδシテ」ツδ嘉」ツδ姪」ツδε」ツつッテ」ツつ津ァツ板ィテ」ツ??」ツつ凝」ツ?ョテ」ツ?凝」ツつ津」ツ?凖」ツ?ケテ」ツ?ヲティツゥツヲテ」ツ?崚」ツ?ーテ」ツつ暗」ツ??」ツ?淌」ツつ?」ツ??\nテヲツ卍づゥツ鳴禿ィツィツ暗ァツョツ療ゥツ?湘」ツ?ッ256*N*Mテ」ツ?ァテヲツ環妥」ツ?暗」ツつ嘉」ツつ古」ツつ凝」ツ??\n*/\n\n#include<iostream>\n#include<cstring>\nusing namespace std;\n//テァツュツ氾」ツ?暗」ツ?ョテァツ青?ィツォツ姪ヲツ慊?ヲツつェテ・ツ?、テ」ツ?栗NT_MAXテ」ツ?ォティツソツ妥」ツ?湘ヲツ?ェテ」ツ?療」ツ??」ツ?淌」ツつ?」ツ??・ツソツオテ」ツ?ョテ」ツ?淌」ツつ〕ong longテ」ツつ津ァツ板ィテ」ツ??」ツつ?\ntypedef long long ll;\n\nll dp[20001][256];\nll code[20], x[20000];\nconst ll INF = 1e15;\n\nint main(){\n  int n,m;\n  while(cin >> n >> m, n){\n    for(int i=0;i<m;i++)cin >> code[i];\n    for(int i=0;i<n;i++)cin >> x[i];\n\n    //テ・ツ按敕ヲツ慊淌・ツ個?\n    for(int i=0;i<=n;i++){\n      for(int j=0;j<256;j++)dp[i][j] = INF;\n    }\n    dp[0][128] = 0;\n\n    //DP\n    for(int i=0;i<n;i++){\n      for(int j=0;j<256;j++){\n\tfor(int k=0;k<m;k++){\n\t  //テ・ツ可催」ツ?ョテ・ツ?、テ」ツ?桂テ」ツ?ァテ」ツ?づ」ツつ甘」ツ?〔テァツ閉ェテァツ崢ョテ」ツ?ョテ」ツつウテ」ツδシテ」ツδ嘉」ツδ姪」ツδε」ツつッテ」ツつ津、ツスツソテ」ツ??・ツ?エテ・ツ青暗」ツ?ョテ・ツ?、nxtテ」ツつ津ヲツアツづ」ツつ?」ツつ?\n\t  ll nxt = j+code[k];\n\t  if(nxt<0)nxt = 0;\n\t  if(nxt>255)nxt = 255;\n\n\t  //テ、ツコツ古、ツケツ療ィツェツ、テ・ツキツョテ」ツつ津ヲツアツづ」ツつ?」ツつ?\n\t  ll cost = (x[i]-nxt)*(x[i]-nxt);\n\n\t  //テヲツシツクテ・ツ個姪・ツシツ湘」ツ?ォテ・ツ淞コテ」ツ?・テ」ツ??」ツ?淌ィツィツ暗ァツョツ療」ツつ津ィツ。ツ古」ツ??\n\t  dp[i+1][nxt] = min(dp[i+1][nxt], dp[i][j] + cost);\n\t}\n      }\n    }\n\n    ll ans = INF;\n    //テヲツ慊?・ツセツ古」ツ?ョテ・ツ?、テ」ツ?ッテ」ツ??」ツ?湘」ツつ嘉」ツ?ァテ」ツ?づ」ツ?」テ」ツ?ヲテ」ツつづ」ツつ暗」ツ??」ツ?ョテ」ツ?ァテ」ツ??」ツ?凖」ツ?ケテ」ツ?ヲテ」ツ?ョテ、ツクツュテ」ツ?ョテヲツ慊?・ツーツ湘・ツ?、テ」ツつ津ヲツアツづ」ツつ?」ツつ?\n    for(int i=0;i<256;i++)ans = min(ans, dp[n][i]);\n    cout << ans << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <cmath>\nusing namespace std;\n#define FOR(i,a,n) for(int i=a;i<n;i++)\n#define REP(i,n) FOR(i,0,n)\ntypedef vector<int> vi;\ntypedef vector<vi> vii;\n\nint main(){\n\tint n,m;\n\twhile(cin>>n>>m,n&&m){\n\t\tvi c(m),x(n);\n\t\tREP(i,m){\n\t\t\tcin>>c[i];\n\t\t}\n\t\tREP(i,n){\n\t\t\tcin>>x[i];\n\t\t}\n\n\t\tvii dp(n+1,vi(256,INT_MAX));\n\t\tdp[0][128]=0;\n\t\tREP(i,n){\n\t\t\tREP(j,256){\n\t\t\t\tif(dp[i][j]==INT_MAX)continue;\n\t\t\t\tREP(k,m){\n\t\t\t\t\tint y=j+c[k];\n\t\t\t\t\tif(y<0)y=0;\n\t\t\t\t\tif(y>255)y=255;\n\t\t\t\t\tdp[i+1][y]=min(dp[i+1][y],dp[i][j]+(int)pow((double)y-x[i],2));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans=INT_MAX;\n\t\tREP(i,256){\n\t\t\tans=min(ans,dp[n][i]);\n\t\t}\n\t\tcout<<ans<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstdlib>\n#include<cstring>\n#include<cmath>\n#include<cassert>\n#include<iostream>\n#include<sstream>\n#include<string>\n#include<vector>\n#include<queue>\n#include<set>\n#include<map>\n#include<utility>\n#include<numeric>\n#include<algorithm>\n#include<bitset>\n#include<complex>\n\nusing namespace std;\n\ntypedef long long Int;\ntypedef vector<int> vint;\ntypedef pair<int,int> pint;\n#define mp make_pair\n\ntemplate<class T> void pv(T a, T b) { for (T i = a; i != b; ++i) cout << *i << \" \"; cout << endl; }\ntemplate<class T> void chmin(T &t, T f) { if (t > f) t = f; }\ntemplate<class T> void chmax(T &t, T f) { if (t < f) t = f; }\nint in() { int x; scanf(\"%d\", &x); return x; }\n\nInt dp[2][300];\nint c[20];\nint x[20010];\n\nint main() {\n\tint n,m;\n\twhile(cin>>n>>m,n){\n\t\tint i,j,k;\n\t\tfor(i=0;i<m;i++){\n\t\t\tcin>>c[i];\n\t\t}\n\t\tfor(i=0;i<n;i++){\n\t\t\tcin>>x[i];\n\t\t}\n\t\tmemset(dp,-1,sizeof(dp));\n\t\tdp[0][128]=0;\n\t\tint next;\n\t\tfor(i=0;i<n;i++){\n\t\t\tfor(j=0;j<256;j++){\n\t\t\t\tif(dp[0][j]==-1)continue;\n\t\t\t\tfor(k=0;k<m;k++){\n\t\t\t\t\tnext=j+c[k];\n\t\t\t\t\tif(next<0)next=0;\n\t\t\t\t\tif(next>=256)next=255;\n\t\t\t\t\tif(dp[1][next]==-1||dp[1][next]>dp[0][j]+(next-x[i])*(next-x[i]))dp[1][next]=dp[0][j]+(next-x[i])*(next-x[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(j=0;j<256;j++){\n\t\t\t\tdp[0][j]=dp[1][j];\n\t\t\t\tdp[1][j]=-1;\n\t\t\t}\n\t\t}\n\t\tInt mn=-1;\n\t\tfor(j=0;j<256;j++){\n\t\t\tif(dp[0][j]!=-1){\n\t\t\t\tif(mn==-1||mn>dp[0][j])mn=dp[0][j];\n\t\t\t}\n\t\t}\n\t\tcout<<mn<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <memory>\n#include <memory.h>\n#include <cmath>\n#include <fstream>\n#include <cmath>\n#include <numeric>\n#include <vector>\n#include <stack>\n#include <string>\n#include <queue>\n#include <sstream>\n#include <cstdlib>\n#include <cassert>\n#include <cstdio>\n#include <map>\n#include <iomanip>\n#include <list>\n#include <cctype>\n#include <algorithm>\n#include <complex>\n#define USE_MATH_DEFINES\nusing namespace std;\n\ntypedef complex<double> xy_t;\ntypedef pair<xy_t, xy_t> line;\ntypedef long long ll;\ntypedef pair<int, int> P;\ntypedef pair<int, P> PP;\ntypedef pair<int, PP> PPP;\nconst int INF = 1 << 29;\nconst double EPS = 1E-10;\n\nnamespace std{\n\tbool operator < (const xy_t &a, const xy_t &b){\n\t\treturn real(a) != real(b) ? real(a) < real(b) : imag(a) < imag(b);\n\t}\n}\n\ndouble cross(const xy_t &a, const xy_t &b){\n\treturn imag(conj(a) * b);\n}\n\ndouble dot(const xy_t &a, const xy_t &b){\n\treturn real(conj(a)*b);\n}\n\nint ccw(xy_t a, xy_t b, xy_t c){\n\tb -= a; c -= a;\n\tif(cross(b, c) > 0) return 1;\n\tif(cross(b, c) < 0) return -1;\n\tif(dot(b, c) < 0) return +2;\n\tif(norm(b) < norm(c) ) return -2;\n\treturn 0;\n}\n\nbool intersectSS(const line &s, const line &t){\n\treturn ccw(s.first, s.second, t.first) * ccw(s.first, s.second, t.second) <= 0 &&\n\t\tccw(t.first, t.second, s.first) * ccw(t.first, t.second, s.second) <= 0;\n}\n\nxy_t crosspoint(const line &l, const line &m){\n\tdouble a = cross(l.second - l.first, m.second - m.first);\n\tdouble b = cross(l.second - l.first, l.second - m.first);\n\tif(abs(a) < EPS && abs(b) < EPS) return m.first;\n\tif(abs(a) < EPS) assert(false);\n\treturn m.first + b / a * (m.second - m.first);\n}\n\ntypedef pair<double, string> data;\ndata dat[200];\nbool comp(const data &d1, const data &d2){\n\treturn abs(d1.first - d2.first) > EPS ? d1.first < d2.first : d1.second  > d2.second;\n}\n\nint dp[20001][256];\nint C[20];\nint X[20001];\nint pow(int n){\n\treturn n * n;\n}\n\nint main(){\n\tint n, m;\n\twhile(cin >>n >> m && (n || m)){\n\t\tfill(&dp[0][0], &dp[20000][255] + 1, INF);\n\t\tfor(int i = 0; i < m; i++){\n\t\t\tcin >> C[i];\n\t\t}\n\t\tfor(int i = 1; i <= n; i++){\n\t\t\tcin >> X[i];\n\t\t}\n\t\tdp[0][128] = 0;\n\t\tfor(int i = 1; i <= n; i++){\n\t\t\tfor(int j = 0; j < 256; j++){\n\t\t\t\tif(dp[i-1][j] == INF) continue;\n\t\t\t\tfor(int k = 0; k < m; k++){\n\t\t\t\t\tif(C[k] < 0){\n\t\t\t\t\t\tdp[i][max(0, j+C[k])] = min(dp[i][max(0, j+C[k])], dp[i-1][j] + pow(X[i] - max(0, j+C[k])));\n\t\t\t\t\t}else{\n\t\t\t\t\t\tdp[i][min(255, j+C[k])] = min(dp[i][min(255, j+C[k])], dp[i-1][j] + pow(X[i] - min(255, j+C[k])));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint res = INF;\n\t\tfor(int i = 0; i < 256; i++) res = min(res, dp[n][i]);\n\t\tcout << res << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define INF 1e10\n\nusing namespace std;\ntypedef long long int ll;\n\nint main()\n{\n    ll N,M;\n    while(cin >> N >> M)\n    {\n        if(N == 0 && M == 0) break;\n        vector<ll>C(M),X(N);\n        for(int i = 0; i < M; i++) cin >> C[i];\n        for(int i = 0; i < N; i++) cin >> X[i];\n        sort(C.begin(),C.end());\n        vector<vector<ll>>dp(N+1,vector<ll>(256,INF));\n        vector<vector<bool>>f(N+1,vector<bool>(256,false));\n        dp[0][128] = 0;\n        f[0][128] = true;\n        for(int i = 0; i < N; i++)\n        {\n            for(int j = 0; j <= 255; j++)\n            {\n                if(f[i][j] == false) continue;\n                for(int k = 0; k < M; k++)\n                {\n                    if(j+C[k] > 255) dp[i+1][255] = min(dp[i+1][255],dp[i][j] + (X[i]-255)*(X[i]-255)),f[i+1][255] = true;\n                    if(j+C[k] < 0) dp[i+1][0] = min(dp[i+1][0], dp[i][j] + X[i]*X[i]),f[i+1][0] = true;\n                    if(j+C[k] >= 0 && j+C[k] <= 255) dp[i+1][j+C[k]] =min(dp[i+1][j+C[k]],dp[i][j] + (X[i]-(j+C[k]))*(X[i]-(j+C[k]))),f[i+1][j+C[k]] = true;\n                }\n            }\n        }\n        ll S = INF;\n        for(int i = 0; i <= 255; i++) if(f[N][i]) S = min(S,dp[N][i]); \n        cout << S << endl;\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <climits>\n#include <cfloat>\n#include <ctime>\n#include <cassert>\n#include <map>\n#include <utility>\n#include <set>\n#include <iostream>\n#include <memory>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <functional>\n#include <sstream>\n#include <complex>\n#include <stack>\n#include <queue>\n#include <numeric>\n#include <list>\n\n\nusing namespace std;\n\n#ifdef _MSC_VER\n#define __typeof__ decltype\ntemplate <class T> int __builtin_popcount(T n) { return n ? 1 + __builtin_popcount(n & (n - 1)) : 0; }\n#endif\n\n#define foreach(it, c) for (__typeof__((c).begin()) it=(c).begin(); it != (c).end(); ++it)\n#define all(c) (c).begin(), (c).end()\n#define rall(c) (c).rbegin(), (c).rend()\n#define CLEAR(arr, val) memset(arr, val, sizeof(arr))\n\n#define rep(i, n) for (int i = 0; i < n; ++i)\n\ntemplate <class T> void max_swap(T& a, const T& b) { a = max(a, b); }\ntemplate <class T> void min_swap(T& a, const T& b) { a = min(a, b); }\n\ntypedef long long ll;\ntypedef pair<int, int> pint;\n\nconst double EPS = 1e-8;\nconst double PI = acos(-1.0);\nconst int dx[] = { 0, 1, 0, -1 };\nconst int dy[] = { 1, 0, -1, 0 };\n\n\n\nint main()\n{\n\tint n, m, c[32], x[21919];\n\twhile (cin >> n >> m, n)\n\t{\n\t\tfor (int i = 0; i < m; ++i)\n\t\t\tcin >> c[i];\n\t\tfor (int i = 0; i < n; ++i)\n\t\t\tcin >> x[i];\n\n\t\tstatic ll dp[21919][256];\n\t\tconst ll INF = 1LL << 55;\n\t\tfor (int i = 0; i <= n; ++i)\n\t\t\tfor (int j = 0; j <= 255; ++j)\n\t\t\t\tdp[i][j] = INF;\n\n\t\tdp[0][128] = 0;\n\t\tfor (int i = 0; i < n; ++i)\n\t\t{\n\t\t\tfor (int j = 0; j <= 255; ++j)\n\t\t\t{\n\t\t\t\tfor (int k = 0; k < m; ++k)\n\t\t\t\t{\n\t\t\t\t\tint y = max(0, min(255, j + c[k]));\n\t\t\t\t\tint s = x[i] - y;\n\t\t\t\t\tmin_swap(dp[i + 1][y], dp[i][j] + s * s);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << *min_element(dp[n], dp[n] + 256) << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n\nusing namespace std;\n\nconst int INF = 1000000000;\n\nint clamp(int x){\n\tif(x < 0){ return 0; }\n\tif(x >= 256){ return 255; }\n\treturn x;\n}\n\nint pow2(int x){ return x * x; }\n\nint main(){\n\twhile(true){\n\t\tint n, m;\n\t\tcin >> n >> m;\n\t\tif(n == 0 && m == 0){ break; }\n\t\tvector<int> c(m), x(n);\n\t\tfor(int i = 0; i < m; ++i){ cin >> c[i]; }\n\t\tfor(int i = 0; i < n; ++i){ cin >> x[i]; }\n\t\tvector< vector<int> > dp(n + 1, vector<int>(256, INF));\n\t\tdp[0][128] = 0;\n\t\tfor(int i = 0; i < n; ++i){\n\t\t\tfor(int j = 0; j < 256; ++j){\n\t\t\t\tif(dp[i][j] >= INF){ continue; }\n\t\t\t\tfor(int k = 0; k < m; ++k){\n\t\t\t\t\tint y = clamp(j + c[k]);\n\t\t\t\t\tdp[i + 1][y] = min(\n\t\t\t\t\t\tdp[i + 1][y], dp[i][j] + pow2(y - x[i]));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint answer = INF;\n\t\tfor(int i = 0; i < 256; ++i){\n\t\t\tanswer = min(answer, dp[n][i]);\n\t\t}\n\t\tcout << answer << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<string>\n#include <vector>\n#include <stack>\n#include <map>\n#include<iostream>\n#include <algorithm>\n#include <limits.h> \n#include <functional>\n\nusing namespace std;\nint n;\nint m;\nint price;\nint a;\nint b;\n\nstruct G{\n\tstring name;\n\tdouble value;\n};\nbool operator>(const G& left, const G& right)\n{\n\tif(left.value>right.value){\n\t\treturn true;\n\t}else if(left.value<right.value){\n\t\treturn false; \n\t}else{\n\t\treturn left.name<right.name;\n\t}\n}\n\nbool operator<(const G& left, const G& right)\n{\n  \tif(left.value>right.value){\n\t\treturn false;\n\t}else if(left.value<right.value){\n\t\treturn true; \n\t}else{\n\t\treturn left.name>right.name;\n\t}\n}\n\n\n\nint main(){\n\twhile(true){\n\t\tcin >>n;\n\t\tif(n==0){\n\t\t\tbreak;\n\t\t}\n\t\tcin >>m;\n\t\tif(m==0){\n\t\t\tbreak;\n\t\t}\n\t\tvector<int> codebook;\n\t\tvector<int> data;\n\t\tfor(int i=0;i<m;i++){\n\t\t\tcin >> a;\n\t\t\tcodebook.push_back(a);\n\t\t}\n\t\tfor(int i=0;i<n;i++){\n\t\t\tcin >> a;\n\t\t\tdata.push_back(a);\n\t\t}\n\t\t//値,誤差値でハッシュ。\n\t\tmap<int,int> hash;\n\t\thash[128]=0;\n\n\t\tfor(int i=0;i<n;i++){\n\t\t\tint d=data[i];//次のデータ\n\t\t\tmap<int,int>::iterator it = hash.begin();\t\t\n\t\t\tmap<int,int> next_hash;\n\t\t\twhile( it != hash.end() )\n\t\t\t{\n\t\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\t\tint f=max(min((*it).first+codebook[k],255),0);\n\t\t\t\t\tint div=f-d;\n\t\t\t\t\tint s=(*it).second+div*div;\n\t\t\t\t\tif(next_hash.find(f)!= next_hash.end()){\n\t\t\t\t\t\tnext_hash[f]=min(next_hash[f],s);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tnext_hash[f]=s;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t++it;\n\t\t\t}\n\t\t\thash=next_hash;\n\t\t}\n\t\tint mi=INT_MAX;\n\t\tmap<int,int>::iterator it = hash.begin();\n\t\twhile( it != hash.end() )\n\t\t{\n\t\t\tmi=min((*it).second,mi);\n\t\t\tit++;\n\t\t}\n\t\tcout << mi <<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#define INF 1000000000;\nusing namespace std;\n\nint code[20001];\nint num[17];\nint N,M;\nint minn;\nint count = 0;\n\nvoid saiki(int y,int sum,int kai){\n  count++;\n  //  cout <<\"y=\"<< y <<\" sum=\" << sum << \" kai=\"<< kai<< endl;\n  if(kai == N && sum < minn) minn = sum;\n\n  else if(kai < N && sum < minn ) {\n    for(int i=0;i<M;i++) {\n      int yn = y+code[i];\n      if(yn < 0) yn = 0;\n      if(yn > 255) yn = 255;\n      saiki(yn,sum+(num[kai]-yn)*(num[kai]-yn),kai+1);\n    }\n  }\n}\n\nint main() {\n  \n  while(1) {   \n    cin >> N >> M;\n  if(N == 0 && M == 0) break;\n  for(int i=0;i<M;i++) cin >> code[i];\n  for(int i=0;i<N;i++) cin >> num[i];\n  \n  minn = INF;\n  saiki(128,0,0);\n  cout << minn << endl;\n  //  cout << count << endl;\n  }\n  return 0;\n  \n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <algorithm>\n#include <string>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <cstring>\n#include <vector>\n#include <list>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n\n#define INF (int)1e09\n\nusing std::cin;\nusing std::cout;\nusing std::endl;\nusing std::setprecision;\nusing std::fixed;\nusing std::pair;\nusing std::make_pair;\nusing std::min;\nusing std::max;\nusing std::string;\nusing std::vector;\nusing std::list;\nusing std::map;\nusing std::set; // insert erase find count\nusing std::queue;\nusing std::priority_queue;\nusing std::stack;\n\ntemplate <typename T> using Vec = vector<T>; // c++11\ntypedef pair<int, int> PII;\ntypedef pair<int, pair<int, int> > PIII;\n\nint main(void) {\n    while (1) {\n        int n;\n        int m;\n        cin >> n >> m;\n        if (n == 0 && m == 0) {\n            break;\n        }\n        Vec<int> c(m);\n        Vec<int> x(n + 1);\n        for (int i = 0; i < m; i++) {\n            cin >> c[i];\n        }\n        for (int j = 1; j <= n; j++) {\n            cin >> x[j];\n        }\n        \n        Vec<Vec<int> > dp(n + 1, Vec<int>(256));\n        for (int i = 1; i <= n; i++) {\n            for (int j = 0; j < 256; j++) {\n                dp[i][j] = INF;\n            }\n        }\n\n        for (int i = 1; i <= n; i++) {\n            for (int j = 0; j < 256; j++) {\n                for (int k = 0; k < m; k++) {\n                    int div = j + c[k];\n                    if (div > 255) {\n                        div = 255;\n                    } else if (div < 0) {\n                        div = 0;\n                    }\n                    int cost = (x[i] - div) * (x[i] - div);\n                    dp[i][div] = min(dp[i][div], dp[i - 1][j] + cost);\n                }\n            }\n        }\n        int ans = dp[n][0];\n        for (int j = 1; j < 256; j++) {\n            ans = min(ans, dp[n][j]);\n        }\n        cout << ans << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <sstream>\n#include <string>\n#include <algorithm>\n#include <vector>\n#include <stack>\n#include <queue>\n#include <set>\n#include <map>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <cassert>\n\nusing namespace std;\n\n#define FOR(i,k,n) for(int i=(k); i<(int)n; ++i)\n#define REP(i,n) FOR(i,0,n)\n#define FORIT(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();++i)\n\ntemplate<class T> void debug(T begin, T end){ for(T i = begin; i != end; ++i) cout<<*i<<\" \"; cout<<endl; }\n\ntypedef long long ll;\nconst int INF = 100000000;\nconst double EPS = 1e-8;\nconst int MOD = 1000000007;\ninline int sq(int n){\n  return n * n;\n}\n\nint dp[20001][256];\nint main(){\n  int N, M;\n  while(cin>>N>>M && N){\n    vector<int> code(M);\n    REP(i,M)cin>>code[i];\n    vector<int> X(N);\n    REP(i,N)cin>>X[i];\n    REP(i,20001)fill(dp[i], dp[i] + 256, INF);\n    dp[0][128] = 0;\n    REP(i,N)REP(j,256)if(dp[i][j]!=INF){\n      int t = dp[i][j];\n      REP(k, M){\n        int Y = j + code[k];\n        if(Y > 255) Y = 255;\n        if(Y < 0) Y = 0;\n        dp[i+1][Y] = min(dp[i+1][Y], t + sq(X[i] - Y));\n      }\n    }\n    int ans = INF;\n    REP(j, 256) ans = min(ans, dp[N][j]);\n    cout<<ans<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstring>\n#include <climits>\n\nusing namespace std;\n\nint N, M;\nint C[20];\nint X[20020];\n\nint INF = 1300500001;\nint dp[20020][300];\n\nvoid solve() {\n\tfor (int i=0; i<20020; i++) fill(dp[i], dp[i]+300, INF);\n\t\n\tdp[0][128] = 0;\n\tfor (int i=0; i<N; i++) {\n\t\t\n\t\tfor (int j=0; j<=255; j++) {\n\t\t\n\t\t\tfor (int k=0; k<M; k++) {\n\t\t\t\tint jck = j+C[k];\n\t\t\t\tif (jck < 0) jck = 0;\n\t\t\t\tif (jck > 255) jck = 255;\n\t\t\t\tif (dp[i][j] == INF) continue;\n\t\t\t\tdp[i+1][jck] = min(dp[i+1][jck], dp[i][j] + (jck-X[i])*(jck-X[i]) );\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n\t\n\tint ans = INF;\n\tfor (int i=0; i<=255; i++) ans = min(ans, dp[N][i]);\n\tcout << ans << endl;\t\n}\n\nint main() {\n\n\twhile(1) {\n\t\tcin >> N >> M; if (N==0 && M==0) break;\n\t\tfor (int i=0; i<M; i++) cin >> C[i];\n\t\tfor (int i=0; i<N; i++) cin >> X[i];\n\t\t\n\t\tsolve();\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define INF 0x3f3f3f3f\n#define rep(i,n)for(int i=0;i<(n);i++)\nusing namespace std;\n\nint c[16], x[16];\nint dp[70001][256];\nint d(int a) {\n\tif (a < 0)return 0;\n\tif (a > 255)return 255;\n\treturn a;\n}\nint diff(int i, int a) {\n\treturn (x[i] - a)*(x[i] - a);\n}\nint main() {\n\tint n, m;\n\twhile (scanf(\"%d%d\", &n, &m), n) {\n\t\trep(i, m)scanf(\"%d\", &c[i]);\n\t\trep(i, n)scanf(\"%d\", &x[i]);\n\t\tmemset(dp, 0x3f, sizeof(dp));\n\t\tdp[0][128] = 0;\n\t\trep(i, n)rep(j, 256) {\n\t\t\tif (dp[i][j] == INF)continue;\n\t\t\trep(k, m) {\n\t\t\t\tint a = d(j + c[k]);\n\t\t\t\tif (i + 1 >= 20001)return 0;\n\t\t\t\tdp[i + 1][a] = min(dp[i + 1][a], dp[i][j] + diff(i, a));\n\t\t\t}\n\t\t}\n\t\tint Min = INF;\n\t\trep(j, 256)Min = min(Min, dp[n][j]);\n\t\tprintf(\"%d\\n\", Min);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\ntypedef long long int ll;\ntypedef pair<int, int> P;\ntypedef pair<ll, ll> Pll;\ntypedef vector<int> Vi;\ntypedef tuple<int, int, int> T;\n#define FOR(i,s,x) for(int i=s;i<(int)(x);i++)\n#define REP(i,x) FOR(i,0,x)\n#define ALL(c) c.begin(), c.end()\n#define MP make_pair\n#define DUMP( x ) cerr << #x << \" = \" << ( x ) << endl\n#define fst first\n#define snd second\n\n#define INF 1300500000\n\nint dp[2][256];\nint sample[20010];\n\n\nint main() {\n  cin.tie(0);\n  ios_base::sync_with_stdio(false);\n\n  while (1) {\n    int N, M, code[16];\n    cin >> N >> M;\n    if (N == 0 && M == 0) break;\n    REP(i, M) cin >> code[i];\n    REP(i, N) cin >> sample[i];\n\n    fill(dp[0], dp[0]+256, -1);\n    dp[0][128] = 0;\n\n    REP(i, N) {\n      fill(dp[(i+1)%2], dp[(i+1)%2]+256, -1);\n      REP(j, 256) {\n\tif (dp[i%2][j] == -1) continue;\n\tREP(k, M) {\n\t  int next = max(0, min(255, j + code[k]));\n\t  int diff = sample[i] - next;\n\t  if (dp[(i+1)%2][next] == -1 || dp[i%2][j] + diff * diff < dp[(i+1)%2][next]) {\n\t  dp[(i+1)%2][next] = dp[i%2][j] + diff * diff;\n\t  }\n\t}\n      }\n    }\n    int ans = -1;\n    REP(i, 256) {\n      if (ans == -1 || (dp[N%2][i] != -1 && dp[N%2][i] < ans))\n\tans = dp[N%2][i];\n    }\n    cout << ans << endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define INF 0x3f3f3f3f\n#define rep(i,n)for(int i=0;i<(n);i++)\nusing namespace std;\n\nint c[16], x[16];\nint dp[20001][256];\nint d(int a) {\n\tif (a < 0)return 0;\n\tif (a > 255)return 255;\n\treturn a;\n}\nint diff(int i, int a) {\n\treturn (x[i] - a)*(x[i] - a);\n}\nint main() {\n\tint n, m;\n\twhile (scanf(\"%d%d\", &n, &m), n) {\n\t\trep(i, m)scanf(\"%d\", &c[i]);\n\t\trep(i, n)scanf(\"%d\", &x[i]);\n\t\tmemset(dp, 0x3f, sizeof(dp));\n\t\tdp[0][128] = 0;\n\t\trep(i, n)rep(j, 256) {\n\t\t\tif (dp[i][j] == INF)continue;\n\t\t\trep(k, m) {\n\t\t\t\tint a = d(j + c[k]);\n\t\t\t\tdp[i + 1][a] = min(dp[i + 1][a], dp[i][j] + diff(i, a));\n\t\t\t}\n\t\t}\n\t\tint Min = INF;\n\t\trep(j, 256)Min = min(Min, dp[n][j]);\n\t\tprintf(\"%d\\n\", Min);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nconst int INF = 1 << 30;\n\nint main(){\n  int N, M, C[16], x[20000];\n  int dp[2][256];\n  \n  while(scanf(\"%d %d\", &N, &M), N){\n    for(int i = 0; i < M; i++){\n      scanf(\"%d\", &C[i]);\n    }\n    for(int i = 0; i < N; i++){\n      scanf(\"%d\", &x[i]);\n    }\n    fill_n( dp[1], 256, INF);\n    dp[0][128] = 0;\n    for(int i = 0; i < N; i++){\n      for(int j = 0; j < 256; j++){\n        if(dp[i & 1][j] == INF) continue;\n        for(int k = 0; k < M; k++){\n          int value = min( 255, max( 0, j + C[k]));\n          dp[(i + 1) & 1][value] = min( dp[(i + 1) & 1][value], dp[i & 1][j] + (x[i] - value) * (x[i] - value));\n        }\n      }\n      for(int j = 0; j < 256; j++) dp[i & 1][j] = INF;\n    }\n    int ret = INF;\n    for(int i = 0; i < 256; i++){\n      ret = min( ret, dp[N & 1][i]);\n    }\n    printf(\"%d\\n\", ret);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> pii;\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\nconst double PI = 3.14159265358979323846;\nconst double EPS = 1e-12;\nconst int INF = numeric_limits<int>::max() / 2;\nconst int NEG_INF = numeric_limits<int>::min() / 2;\n\nint main(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n\n  while(true){\n      int n,m;cin>>n>>m;\n      if(n==0 && m==0) break;\n      std::vector<int> c(m),x(n+1);\n      for(int i=0;i<m;i++) cin>>c[i];\n      for(int i=1;i<=n;i++) cin>>x[i];\n      ll dp[n+1][256];\n      for(int i=0;i<n+1;i++)for(int j=0;j<256;j++)dp[i][j]=INF;\n      dp[0][128]=0;\n      for(int i=0;i<n;i++)for(int j=0;j<256;j++){\n          for(int k=0;k<m;k++){\n              if(j+c[k]>255) dp[i+1][255]=min(dp[i+1][255],dp[i][j]+(255-x[i+1])*(255-x[i+1]));\n              else if(j+c[k]<0) dp[i+1][0]=min(dp[i+1][0],dp[i][j]+(x[i+1])*(x[i+1]));\n              else dp[i+1][j+c[k]]=min(dp[i+1][j+c[k]],dp[i][j]+(j+c[k]-x[i+1])*(j+c[k]-x[i+1]));\n          }\n      }\n      ll res=INF;\n      for(int i=0;i<256;i++) res=min(res,dp[n][i]);\n      cout<<res<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <queue>\n#include <cstring>\n#include <string>\n#include <cstdlib>\nusing namespace std;\n\n\nclass DP{\npublic:\n\tint cost, n, x;\n\t\n\tDP(){}\n\tDP(int xx, int nn, int cc){\n\t\tcost = cc;x=xx;n=nn;\n\t}\n\t\n\tbool operator< (const DP &opp) const {\n\t\treturn cost>opp.cost;\n\t}\n};\nint C[20];\nint x[20001];\nbool visit[20001][256];\nint N, M;\nmain(){\n\tint i,j;\n\twhile(cin >> N >> M, N){\n\t\tmemset(visit, 0, sizeof(visit));\n\t\tfor(i=0;i<M;i++) cin >> C[i];\n\t\tfor(i=0;i<N;i++) cin >> x[i];\n\t\tpriority_queue<DP> dp;\n\t\tDP S;\n\t\tdp.push(DP(128, 0, 0));\n\t\twhile(!dp.empty()){\n\t\t\tS = dp.top();\n\t\t\tdp.pop();\n\n\t\t\tif(S.n == N) break;\n\t\t\tfor(i=0;i<M;i++){\n\t\t\t\tDP T=S;\n\t\t\t\tT.x += C[i];\n\t\t\t\tif(T.x > 255) T.x = 255;\n\t\t\t\tif(T.x < 0) T.x = 0;\n\t\t\t\t\n\t\t\t\tT.cost += (x[T.n]-T.x)*(x[T.n]-T.x);\n\t\t\t\tT.n ++;\n\t\t\t\tif(visit[T.n][T.x]) continue;\n\t\t\t\tvisit[T.n][T.x] = true;\n\t\t\t\tdp.push(T);\n\t\t\t}\n\t\t}\n\t\tcout << S.cost << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "//Yattazo! Watashiha-Yosen-tsuukashita! It's 460points/600points! OHO!!!!!\n#include<iostream>\n#include<algorithm>\n#include<cmath>\nusing namespace std;\nint x[63000][260],n,m,y[63000],z[63000],d,minx;\nint main(){\n\twhile(true){\n\t\tminx=2000000000;\n\t\tfor(int i=0;i<65536;i++){for(int j=0;j<256;j++){x[i][j]=2000000000;}}\n\t\tcin>>n>>m;if(!n){break;}\n\t\tfor(int i=0;i<m;i++){cin>>y[i];}\n\t\tfor(int i=1;i<=n;i++){cin>>z[i];}\n\t\tx[0][128]=0;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tfor(int j=0;j<256;j++){\n\t\t\t\tif(x[i-1][j]<1000000000){\n\t\t\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\t\t\td=y[k]+j;\n\t\t\t\t\t\tif(d<0){d=0;}\n\t\t\t\t\t\tif(d>255){d=255;}\n\t\t\t\t\t\tx[i][d]=min(x[i][d],x[i-1][j]+(int)pow(1.0*(z[i]-d),2));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor(int i=0;i<256;i++){minx=min(minx,x[n][i]);}\n\t\tcout<<minx<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n \n#define _overload(_1,_2,_3,name,...) name\n#define _rep(i,n) _range(i,0,n)\n#define _range(i,a,b) for(int i=(int)(a);i<(int)(b);++i)\n#define rep(...) _overload(__VA_ARGS__,_range,_rep,)(__VA_ARGS__)\n \n#define _rrep(i,n) _rrange(i,n,0)\n#define _rrange(i,a,b) for(int i=(int)(a)-1;i>=(int)(b);--i)\n#define rrep(...) _overload(__VA_ARGS__,_rrange,_rrep,)(__VA_ARGS__)\n \n#define _all(arg) begin(arg),end(arg)\n#define uniq(arg) sort(_all(arg)),(arg).erase(unique(_all(arg)),end(arg))\n#define getidx(ary,key) lower_bound(_all(ary),key)-begin(ary)\n#define clr(a,b) memset((a),(b),sizeof(a))\n#define bit(n) (1LL<<(n))\n \n// #define DEBUG\n \n#ifdef DEBUG\n    #define dump(...) fprintf(stderr, __VA_ARGS__)\n#else\n    #define dump(...)\n#endif\n \ntemplate<class T>bool chmax(T &a, const T &b) { return (a<b)?(a=b,1):0;}\ntemplate<class T>bool chmin(T &a, const T &b) { return (b<a)?(a=b,1):0;}\n \nusing namespace std;\nusing ll=long long;\nusing vi=vector<int>;\nusing vll=vector<ll>;\n \nconst double EPS = 1e-10;\nconst double PI = acos(-1.0);\nconst int inf =1 << 30;\nconst ll mod=1000000007LL;\nconst int dx[4]={1,0,-1,0};\nconst int dy[4]={0,1,0,-1};\n \n \nll extgcd(ll a,ll b,ll& x,ll& y){x=1,y=0;ll g=a;if(b!=0) g=extgcd(b,a%b,y,x),y-=a/b*x;return g;}\nll ADD(const ll &a, const ll &b,const ll &mod) { return (a+b)%mod;}\nll SUB(const ll &a, const ll &b,const ll &mod) { return (a-b+mod)%mod;}\nll MUL(const ll &a, const ll &b,const ll &mod) { return (1LL*a*b)%mod;}\nll DIV(const ll &a, const ll &b,const ll &mod) {ll x,y; extgcd(b,mod,x,y);return MUL(a,(x+mod)%mod,mod);}\n \nrandom_device rd;\nmt19937 mt(rd());\nuniform_int_distribution<int> dice(1,6);\nuniform_real_distribution<double> score(0.0,10.0);\n\nconst int N = 256;\n\ninline int round(int x){\n    chmin(x, N - 1);\n    chmax(x, 0);\n    return x;\n}\n\nint main(void){\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n\n    for(int n, m; cin >> n >> m, n;){\n        vi C(m); for(auto& e : C) cin >> e;\n        vi x(n); for(auto& e : x) cin >> e;\n\n        vector<vi> dp(n + 1, vi(N, inf));\n        dp[0][128] = 0;\n\n        rep(i, n){\n            rep(j, N + 1){\n                int cur = dp[i][j];\n\n                if(dp[i][j] == inf) continue;\n                for(auto& c : C){\n                    int nj = round(j + c);\n                    chmin(dp[i + 1][nj], cur + (int)pow(nj - x[i], 2));\n                }\n            }\n        }\n\n        cout << *min_element(_all(dp[n])) << endl;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _CRT_SECURE_NO_WARNINGS\n#pragma warning(disable: 4244) // 最悪をします\n#include <iostream>\n#include <cmath>\n#include <algorithm>\n#include <vector>\n#include <numeric>\n#include <queue>\n#include <stack>\n#include <map> \n#include <set>\n#include <string>\n#include <functional>\n#include <list>\n#include <random>\n#include <time.h>\n#include <iomanip>\n#include <assert.h>\n#include <numeric>\n#include <sstream>\n#define BIT(nr) (1UL << (nr))\n#define int long long\n//#define ll long long\n#define double long double\n#define mod 1000000007\n#define MAXN (int)1e+5 * 2+1\n#define LL_MAX 9223372036854775807\t//ない環境用\n#define LL_HALFMAX 9223372036854775807 / 2\t//ない環境用\n#define MIN -(9223372036854775807 / 2)\n#define REP(i,a,n) for(int i=(a); i<(int)(n); i++)\n#define rep(i,n) REP(i,0,n)\n#define FOR(it,c) for(__typeof((c).begin()) it=(c).begin(); it!=(c).end(); ++it)\n#define ALLOF(c) (c).begin(), (c).end()\n#define REPS(i,x) for(int i=1;i<=(int)(x);i++)\n#define RREP(i,x) for(int i=((int)(x)-1);i>=0;i--)\n#define RREPS(i,x) for(int i=((int)(x));i>0;i--)\n#define repl(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define mp make_pair\ntemplate<typename T1, typename T2> inline void chmin(T1 & a, T2 b) { if (a > b) a = b; }\ntemplate<typename T1, typename T2> inline void chmax(T1& a, T2 b) { if (a < b) a = b; }\n\n\nusing namespace std;\n\n//デバッグ用カッコの有無\n#ifdef DEBUG\ntemplate <class T>ostream &operator<<(ostream &o, const vector<T>&v)\n{\n\to << \"{\"; for (int i = 0; i<(int)v.size(); i++)o << (i>0 ? \", \" : \"\") << v[i]; o << \"}\"; return o;\n}\n#endif // DEBUG\n\ntemplate <class T>ostream &operator<<(ostream &o, const vector<T>&v)\n{\n\tfor (int i = 0; i<(int)v.size(); i++)o << (i>0 ? \" \" : \"\") << v[i]; return o;\n}\n\nint dx[4] = { 0, 1, 0, -1 }; // x軸方向への変位\nint dy[4] = { 1, 0, -1, 0 }; // y軸方向への変位\n\nint dxp[4] = { 0, 1 }; // x軸方向への変位(正のみ)\nint dyp[4] = { 1, 0 }; // y軸方向への変位(負のみ)\n\nusing Weight = int;\nusing Flow = int;\nstruct Edge {\n\tint src, dst;\n\n\t// libalgo のものに追加、メンバを追加するだけなので互換性は崩さないはず、逆辺のG[e.dstの]インデックスを保持\n\tint rev;\n\tWeight weight;\n\tFlow cap;\n\tEdge() : src(0), dst(0), weight(0) {}\n\tEdge(int s, int d, Weight w) : src(s), dst(d), weight(w) {}\n};\nusing Edges = std::vector<Edge>;\nusing Graph = std::vector<Edges>;\nusing Array = std::vector<Weight>;\nusing Matrix = std::vector<Array>;\n\nvoid add_edge(Graph& g, int a, int b, Weight w = 1) {\n\tg[a].emplace_back(a, b, w);\n\tg[b].emplace_back(b, a, w);\n}\nvoid add_arc(Graph& g, int a, int b, Weight w = 1) { g[a].emplace_back(a, b, w); }\n\nbool solve() {\n\tint N, M;\n\tcin >> N >> M;\n\tif (N == 0 && M == 0) {\n\t\treturn false;\n\t}\n\n\tvector<int> C(M), x(N + 1, 0);\n\trep(i, M) {\n\t\tcin >> C[i];\n\t}\n\tREPS(i, N) {\n\t\tcin >> x[i];\n\t}\n\n\tvector<vector<int>> dp(N + 1, vector<int>(256, LL_HALFMAX));\n\n\tdp[0][128] = 0;\n\n\trep(i, N) {\n\t\trep(j, 256) {\n\t\t\trep(k, M) {\n\t\t\t\tint nxt = j + C[k];\n\t\t\t\tchmax(nxt, 0);\n\t\t\t\tchmin(nxt, 255);\n\n\t\t\t\tint sqCost = abs(x[i + 1] - nxt);\n\t\t\t\tint cost = sqCost * sqCost;\n\n\t\t\t\tchmin(dp[i + 1][nxt], dp[i][j] + cost);\n\t\t\t}\n\t\t}\n\t}\n\n\tint ans = LL_HALFMAX;\n\trep(i, 256) {\n\t\tchmin(ans, dp[N][i]);\n\t}\n\n\tcout << ans << \"\\n\";\n\n\treturn true;\n}\n\nsigned main() {\n\twhile(solve()){}\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n\nusing namespace std;\n\n#define MAX_M 16\n#define MAX_N 20000\n#define INF 1e8\n\nint N, M, C[MAX_M], x[MAX_N];\nint dp[MAX_N][256];\n\nint main(){\n  while(cin >> N >> M , (N | M)){\n    for(int i = 0 ; i < M ; i++){\n      cin >> C[i];\n    }\n \n    for(int i = 0 ; i < N ; i++){\n      cin >> x[i];\n    }\n    int ans = INF;\n    fill(dp[0], dp[MAX_N], INF);\n    for(int i = 0 ; i <= 255 ; i++){\n      dp[0][i] = 0;\n    }\n    for(int i = 0 ; i < N ; i++){\n      for(int j = 0 ; j <= 255 ; j++){\n        for(int k = 0 ; k < M ; k++){\n          int t = j + C[k];\n          if(t < 0) t = 0;\n          if(t > 255) t = 255;\n          dp[i+1][t] = min(dp[i+1][t], dp[i][j] + (t-x[i])*(t-x[i]));\n        }\n      }\n    }\n    for(int i = 0 ; i <= 255 ; i++){\n      ans = min(ans, dp[N][i]);\n    } \n    cout << ans << endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<vector>\n#include<cstdio>\n#include<sstream>\n#include<algorithm>\n#include<cmath>\n#include<map>\n#include<functional>\n#include<queue>\n#include<stack>\n#include<set>\nusing namespace std;\nint ta[20],c[25000];\nint dp[20000][256];\nconst int INF=1500000000;\nint main(){\n\tint n,m;\n\twhile(cin>>n>>m,n+m){\n\tfor(int i=0;i<m;i++)cin>>ta[i];\n\tfor(int j=0;j<n;j++)cin>>c[j];\n\t\n\tfor(int i=0;i<20000;i++)fill(dp[i],dp[i]+256,INF);\n\tdp[0][128]=0;\n\tfor(int i=0;i<n;i++){\n\t\tfor(int j=0;j<256;j++){\n\t\t\tif(dp[i][j]!=INF){\n\t\t\t\tint tmp=j;\n\t\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\t\tif(j+ta[k]<0)tmp=0;\n\t\t\t\t\telse if(j+ta[k]>255)tmp=255;\n\t\t\t\t\telse tmp=j+ta[k];\n\t\t\t\t\tdp[i+1][tmp]=min( dp[i+1][tmp] ,dp[i][j]+ (c[i]-tmp)*(c[i]-tmp) );\n\t\t\t\t}\n\t\t\t}//endif\n\t\t}\n\t}\n\t/*for(int i=0;i<=n;i++){\n\t\tfor(int j=120;j<=140;j++){\n\t\tcout<<dp[i][j]<<\" \";\n\t\t}\n\t\tcout<<\"\\n\";\n\t}*/\n\tint ans=INF;\n\tfor(int i=0;i<256;i++)ans=min(ans,dp[n][i]);\n\tcout<<ans<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "\n#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <climits>\n#include <cfloat>\n#include <cstring>\n#include <map>\n#include <utility>\n#include <set>\n#include <iostream>\n#include <memory>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <functional>\n#include <sstream>\n#include <complex>\n#include <stack>\n#include <queue>\n#include <unordered_set>\n#include <unordered_map>\n#include <array>\nusing namespace std;\n\nconst int INF = 987654321;\n\nint main(void)\n{\n\tfor (;;)\n\t{\n\t\tint n, m;\n\t\tcin >> n >> m;\n\t\tif (!n)break;\n\t\tvector<int>c;\n\t\tfor (int i = 0; i < m; ++i)\n\t\t{\n\t\t\tint cc; cin >> cc;\n\t\t\tc.push_back(cc);\n\t\t}\n\t\tarray<int, 256>dp;\n\t\tfill(dp.begin(), dp.end(), INF);\n\t\tdp[128] = 0;\n\t\tfor (int i = 1; i <= n; ++i)\n\t\t{\n\t\t\tarray<int, 256>ndp;\n\t\t\tfill(ndp.begin(), ndp.end(), INF);\n\t\t\tint x;\n\t\t\tcin >> x;\n\t\t\tfor (int val = 0; val < 256; ++val)\n\t\t\t{\n\t\t\t\tif (val == 0)\n\t\t\t\t{\n\t\t\t\t\tint gap = -1;\n\t\t\t\t\tfor (int ck : c)gap = max(gap, -ck);\n\t\t\t\t\tfor (int old = 0; old <= gap; ++old)\n\t\t\t\t\t{\n\t\t\t\t\t\tndp[val] = min(ndp[val], dp[old] + (x - val) * (x - val));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (val == 255)\n\t\t\t\t{\n\t\t\t\t\tint gap = -1;\n\t\t\t\t\tfor (int ck : c)gap = max(gap, ck);\n\t\t\t\t\tfor (int old = 255 - gap; old < 256; ++old)\n\t\t\t\t\t{\n\t\t\t\t\t\tndp[val] = min(ndp[val], dp[old] + (x - val) * (x - val));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tfor (int ck : c)\n\t\t\t\t\t{\n\t\t\t\t\t\tint old = val - ck;\n\t\t\t\t\t\tif (old < 0)old = 0;\n\t\t\t\t\t\tif (old >= 256)old = 255;\n\t\t\t\t\t\tndp[val] = min(ndp[val], dp[old] + (x - val) * (x - val));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tdp = ndp;\n\t\t}\n\t\tint ans = INF;\n\t\tfor (int can : dp)\n\t\t{\n\t\t\tans = min(ans, can);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing ll=long long;\nusing vb=vector<bool>;\nusing vvb=vector<vb>;\nusing vd=vector<double>;\nusing vvd=vector<vd>;\nusing vi=vector<int>;\nusing vvi=vector<vi>;\nusing vl=vector<ll>;\nusing vvl=vector<vl>;\nusing pii=pair<int,int>;\nusing pll=pair<ll,ll>;\nusing tll=tuple<ll,ll>;\nusing tlll=tuple<ll,ll,ll>;\nusing vs=vector<string>;\n\n#define all(a) a.begin(),a.end()\n#define rall(a) a.rbegin(),a.rend()\n#define rep(i,n) range(i,0,n)\n#define rrep(i,n) for(int i=(n)-1;i>=0;i--)\n#define range(i,a,n) for(int i=(a);i<(n);i++)\n\n#define LINF ((ll)1ll<<60)\n#define INF ((int)1<<30)\n#define EPS (1e-9)\n#define MOD (1000000007ll)\n#define fcout(a) cout<<setprecision(a)<<fixed\n#define fs first\n#define sc second\n#define PI 3.1415926535897932384\n\nint dx[]={1,0,-1,0,1,-1,-1,1},dy[]={0,1,0,-1,1,1,-1,-1};\n\ntemplate<class T>bool chmax(T&a,T b){if(a<b){a=b; return true;}return false;}\ntemplate<class T>bool chmin(T&a,T b){if(a>b){a=b; return true;}return false;}\ntemplate<class S>S acm(vector<S>&a){return accumulate(all(a),S());}\ntemplate<class S>S max(vector<S>&a){return *max_element(all(a));}\ntemplate<class S>S min(vector<S>&a){return *min_element(all(a));}\nvoid YN(bool b){cout<<(b?\"YES\":\"NO\")<<\"\\n\";}\nvoid Yn(bool b){cout<<(b?\"Yes\":\"No\")<<\"\\n\";}\nvoid yn(bool b){cout<<(b?\"yes\":\"no\")<<\"\\n\";}\n\nll max(int a,ll b){return max((ll)a,b);} ll max(ll a,int b){return max(a,(ll)b);}\ntemplate<class T>void puta(T&&t){cout<<t<<\"\\n\";}\ntemplate<class H,class...T>void puta(H&&h,T&&...t){cout<<h<<' ';puta(t...);}\ntemplate<class S,class T>ostream&operator<<(ostream&os,pair<S,T>p){os<<\"[\"<<p.first<<\", \"<<p.second<<\"]\";return os;};\ntemplate<class S>auto&operator<<(ostream&os,vector<S>t){bool a=1; for(auto s:t){os<<(a?\"\":\" \")<<s;a=0;} return os;}\n\nvoid solve(int n,int m){\n\tvvl dp(256,vl(n+1,LINF));\n\tvl c(m),x(n);\n\trep(i,m)cin>>c[i];\n\trep(i,n)cin>>x[i];dp[128][0]=0;\n\trep(i,n){\n\t\trep(j,256){\n\t\t\trep(k,m){\n\t\t\t\tint next=max(0,min(255,j+(int)c[k]));\n\t\t\t\tchmin(dp[next][i+1],dp[j][i]+(next-x[i])*(next-x[i]));\n\t\t\t}\n\t\t}\n\t}\n\tll ans=LINF;\n\trep(i,256)chmin(ans,dp[i][n]);\n\tcout<<ans<<endl;\n}\n\nint main(){\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\tint n,m;\n\twhile(cin>>n>>m,n)solve(n,m);\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\n\nint c[30],x[30000];\nint dp[300000][256];\n\nint sq(int x) {\n    return x*x;\n}\nint add(int x, int y) {\n    return max(0, min(255, x+y));\n}\nint main(void) {\n    while(1) {\n        int n,m;\n        scanf(\"%d%d\",&n,&m);\n        if(!n) break;\n        memset(dp, 0x6F, sizeof(dp));\n\n        for(int i=0; i<m; i++)\n            scanf(\"%d\",&c[i]);\n        for(int i=0; i<n; i++)\n            scanf(\"%d\",&x[i]);\n\n        for(int i=0; i<256; i++)\n            dp[0][i] = 0xFFFFFF;\n        dp[0][128] = 0;\n\n        for(int i=0; i<n; i++)\n            for(int j=0; j<256; j++)\n                for(int k=0; k<m; k++)\n                    dp[i+1][add(j,c[k])] = min(dp[i+1][add(j,c[k])], dp[i][j] + sq(x[i]-add(j,c[k])));\n\n        int res=0xFFFFFF;\n        for(int j=0; j<256; j++)\n            res = min(res, dp[n][j]);\n\n        printf(\"%d\\n\", res);\n\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<string>\n#include <vector>\n#include <stack>\n#include <map>\n#include<iostream>\n#include <algorithm>\n#include <limits.h> \n#include <functional>\n\nusing namespace std;\nint n;\nint m;\nint price;\nint a;\nint b;\n\nstruct G{\n\tstring name;\n\tdouble value;\n};\nbool operator>(const G& left, const G& right)\n{\n\tif(left.value>right.value){\n\t\treturn true;\n\t}else if(left.value<right.value){\n\t\treturn false; \n\t}else{\n\t\treturn left.name<right.name;\n\t}\n}\n\nbool operator<(const G& left, const G& right)\n{\n\tif(left.value>right.value){\n\t\treturn false;\n\t}else if(left.value<right.value){\n\t\treturn true; \n\t}else{\n\t\treturn left.name>right.name;\n\t}\n}\n\n\n\nint main(){\n\twhile(true){\n\t\tcin >>n;\n\t\tif(n==0){\n\t\t\tbreak;\n\t\t}\n\t\tcin >>m;\n\t\tif(m==0){\n\t\t\tbreak;\n\t\t}\n\t\tvector<int> codebook;\n\t\tvector<int> data;\n\t\tfor(int i=0;i<m;i++){\n\t\t\tcin >> a;\n\t\t\tcodebook.push_back(a);\n\t\t}\n\t\tfor(int i=0;i<n;i++){\n\t\t\tcin >> a;\n\t\t\tdata.push_back(a);\n\t\t}\n\t\t//値,誤差値でハッシュ。\n\t\tmap<int,int> hash;\n\t\thash[128]=0;\n\n\t\tint _mi;int _mindex=-1;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tint d=data[i];//次のデータ\n\t\t\tmap<int,int>::iterator it = hash.begin();\t\t\n\t\t\tmap<int,int> next_hash;\n\t\t\tmap<int,int>::iterator next_hash_end=next_hash.end();\n\t\t\t//最小値とdの間のみ保存。\n\t\t\twhile( it != hash.end() )\n\t\t\t{\n\t\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\t\tint f=max(min((*it).first+codebook[k],255),0);\n\t\t\t\t\tint div=f-d;\n\t\t\t\t\tint s=(*it).second+div*div;\n\t\t\t\t\tif(_mindex==-1 || min(_mindex,d)<=f && f<=max(_mindex,d)){\n\t\t\t\t\t\tif(next_hash.find(f)!= next_hash_end){\n\t\t\t\t\t\t\tnext_hash[f]=min(next_hash[f],s);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tnext_hash[f]=s;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t++it;\n\t\t\t}\n\n\n\t\t\thash=next_hash;\n\n\t\t\t_mi=INT_MAX;\n\t\t\tmap<int,int>::iterator _it = hash.begin();\n\t\t\twhile( _it != hash.end() )\n\t\t\t{\n\t\t\t\tif((*_it).second<=_mi){\t\t\t\t\n\t\t\t\t\t_mi=(*_it).second;\n\t\t\t\t\t_mindex=(*_it).first;\n\t\t\t\t}\n\t\t\t\t_it++;\n\t\t\t}\n\n\t\t}\n\t\tint mi=INT_MAX;\n\t\tmap<int,int>::iterator it = hash.begin();\n\t\twhile( it != hash.end() )\n\t\t{\n\t\t\tmi=min((*it).second,mi);\n\t\t\tit++;\n\t\t}\n\t\tcout << mi <<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define int             long long\n#define rep(i, n)       for(int i=0; i<(n); ++i)\n#define REP(i, d, n)    for(int i=(d); i<(n); ++i)\n#define all(v)          v.begin(), v.end()\nusing P = pair<int, int>;\n\nconstexpr int INF = 1LL << 60;\n\ntemplate<class T> \ninline bool chmax(T &a, const T &b){\n    if(a < b){\n        a = b;\n        return true;\n    }\n    return false;\n}\n\ntemplate<class T> \ninline bool chmin(T &a, const T &b){\n    if(a > b){\n        a = b;\n        return true;\n    }\n    return 0;\n}\n\nsigned main() {\n\n    int n, m;\n    while(true){\n        cin >> n >> m;\n        if(n == 0 && m == 0){\n            break;\n        }\n        \n        vector<int> c(m);\n        rep(i, m){\n            cin >> c[i];\n        }\n        vector<int> x(n);\n        rep(i, n){\n            cin >> x[i];\n        }\n\n        vector<vector<int>> dp(n+1, vector<int>(256, INF));\n        dp[0][128] = 0;\n        for(int i=0; i<n; i++){\n            for(int j=0; j<=255; j++){\n                if(dp[i][j] == INF){\n                    continue;\n                }\n                for(int k=0; k<m; k++){\n                    if(c[k] < 0){\n                        chmin(dp[i+1][max(0LL,c[k]+j)], dp[i][j]+(max(0LL,c[k]+j)-x[i])*(max(0LL,c[k]+j)-x[i]));\n                    }\n                    else{\n                        chmin(dp[i+1][min(255LL,c[k]+j)], dp[i][j]+(min(255LL,c[k]+j)-x[i])*(min(255LL,c[k]+j)-x[i]));\n                    }\n                }\n            }\n        }\n        \n        int ans = INF;\n        for(int i=0; i<=255; i++){\n            if(dp[n][i] == INF) continue;\n            chmin(ans,dp[n][i]);\n        }\n        cout << ans << endl;\n    }\n    \n    \n    return 0;\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "//=================================\n// Created on: 2018/07/03 05:20:29\n//=================================\n#include <bits/stdc++.h>\nusing namespace std;\nint main()\n{\n    for (int N, M;;) {\n        cin >> N >> M;\n        if (N == 0 and M == 0) { break; }\n        vector<int> C(M), x(N);\n        for (int i = 0; i < M; i++) { cin >> C[i]; }\n        for (int i = 0; i < N; i++) { cin >> x[i]; }\n        constexpr int INF = 1 << 30;\n        vector<int> dp(256, INF);\n        dp[128] = 0;\n        for (int i = 0; i < N; i++) {\n            vector<int> tmp(256, INF);\n            for (int j = 0; j < 256; j++) {\n                if (dp[j] == INF) { continue; }\n                for (int k = 0; k < M; k++) {\n                    const int next = max(0, min(255, j + C[k]));\n                    tmp[next] = min(tmp[next], dp[j] + (next - x[i]) * (next - x[i]));\n                }\n            }\n            dp = tmp;\n        }\n        cout << *min_element(dp.begin(), dp.end()) << endl;\n    }\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n\nusing namespace std;\n\nconst int INF = 1<<29;\n\nint main(){\n  int n, m;\n  while(cin >> n >> m && (n|m)){\n    vector<int> C(m);\n    for(int i=0; i<m; i++) cin >> C[i];\n    \n    vector<int> dp(256, INF);\n    dp[128] = 0;\n    while(n--) {\n      vector<int> next(256, INF);\n      int in; cin >> in;\n      for(int i=0; i<=255; i++){\n\tif(dp[i] < INF) {\n\t  for(int j=0; j<m; j++){\n\t    int now = i + C[j];\n\t    if(now < 0)   { now = 0;   }\n\t    if(now > 255) { now = 255; }\n\t    int diff = (in - now) * (in - now);\n\t    next[now] = min(next[now], dp[i] + diff );\n\t  }\n\t}\n      }\n      dp = next;\n    }\n    \n    cout << *min_element(dp.begin(), dp.end()) << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n\nusing namespace std;\n\nconst int INF = 1<<29;\n\nint main(){\n  int n, m;\n  while(cin >> n >> m && (n|m)){\n    vector<int> C(m);\n    for(int i=0; i<m; i++) cin >> C[i];\n    \n    vector<int> dp(256, INF);\n    dp[128] = 0;\n    while(n--) {\n      vector<int> next(256, INF);\n      int in; cin >> in;\n      for(int i=0; i<256; i++){\n\tif(dp[i] < INF) {\n\t  for(int j=0; j<m; j++){\n\t    int conv = i + C[j];\n\t    if(conv < 0)   { conv = 0;   }\n\t    if(conv > 255) { conv = 255; }\n\t    int diff = (in - conv) * (in - conv);\n\t    next[conv] = min(next[conv], dp[i] + diff );\n\t  }\n\t}\n      }\n      dp = next;\n    }\n    \n    cout << *min_element(dp.begin(), dp.end()) << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nconst int INF = 1 << 28;\nint rnd(int v){\n\tif (v < 0) return 0;\n\tif (v > 255) return 255;\n\treturn v;\n}\nint diff(int a, int b){\n\treturn (a - b) * (a - b);\n}\n\nint n, m;\nint c[16];\nint x[20000];\nint dp[20001][256];\n\nint main()\n{\n\twhile (scanf(\"%d %d\", &n, &m), n){\n\t\tfill((int*)dp, (int*)dp + sizeof(dp) / sizeof(int), INF);\n\t\t\n\t\tfor (int i = 0; i < m; i++){\n\t\t\tscanf(\"%d\", &c[i]);\n\t\t}\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tscanf(\"%d\", &x[i]);\n\t\t}\n\t\t\n\t\tdp[0][128] = 0;\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tfor (int j = 0; j < 256; j++){\n\t\t\t\tfor (int k = 0; k < m; k++){\n\t\t\t\t\tint to = rnd(j + c[k]);\n\t\t\t\t\tdp[i + 1][to] = min(dp[i + 1][to], dp[i][j] + diff(to, x[i]));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tint mini = INF;\n\t\tfor (int i = 0; i < 256; i++){\n\t\t\tmini = min(mini, dp[n][i]);\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\", mini);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "//#include <bits/stdc++.h>\n//#include <stdio.h>\n#include<iostream>\n#include<cstdio>\n#include<bitset>\n#include<algorithm>\n#include<vector>\n#include<list>\n#include<queue>\n#include<stack>\n#include<string>\n#include<string.h>\n#include<cmath>\n#include<utility>\n#include<functional>\n#include<map>\n#include<set>\n#include<cctype>\n#include<fstream>\n\n\n#define FOR(i, a, b) for( int i=(a);i<=(b);i++)\n#define RFOR(i, a, b) for( int i=(a);i>=(b);i--)\n#define LFOR(i, a, b) for( long long int i=(a);i<=(b);i++)\n#define LRFOR(i, a, b) for(long long int i=(a);i>=(b);i--)\n#define MOD 1000000007\n#define INF 1000000000 //2000000000\n#define LINF 1000000000000000000 //9000000000000000000\n#define PI 3.14159265358979\n#define MAXI 7500000\n\nusing namespace std;\ntypedef long long int ll;\ntypedef pair< long long int, long long  int> P;\n\nint dy[5] = { 0,0,1,-1,0 };\nint dx[5] = { 1,-1,0,0,0 };\n\n\nint main(void) {\n\t\n\twhile (1) {\n\t\tlong long int n, m;\n\n\t\tcin >> n >> m;\n\t\tif (n == 0 && m == 0) {\n\t\t\tbreak;\n\t\t}\n\n\t\tvector< vector<long long int> > dp(256, vector<long long int>(n + 1, LINF));\n\t\tvector<long long int > c(m + 1);\n\t\tvector<long long int> x(n + 1);\n\n\t\tFOR(i, 1, m) {\n\t\t\tcin >> c[i];\n\t\t}\n\t\tFOR(i, 1, n) {\n\t\t\tcin >> x[i];\n\t\t}\n\n\t\tdp[128][0] = 0;\n\n\t\tlong long int now;\n\n\t\tlong long int mini = LINF;\n\n\t\tLFOR(i, 1, n) {\n\t\t\tLFOR(k, 0, 255) {\n\t\t\t\tif (dp[k][i - 1] != LINF) {\n\t\t\t\t\tLFOR(j, 1, m) {\n\t\t\t\t\t\tif (k + c[j] > 255) {\n\t\t\t\t\t\t\tnow = 255;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (k + c[j] < 0) {\n\t\t\t\t\t\t\tnow = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tnow = k + c[j];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tdp[now][i] = min(dp[now][i],dp[k][i - 1] + (now - x[i])*(now - x[i]));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\n\t\tFOR(i, 0, 255) {\n\t\t\tmini = min(mini, dp[i][n]);\n\t\t}\n\n\t\tcout << mini << endl;\n\n\n\n\t}\n\n\n\n\t\n\t\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define rep(i,n) for(int i=0;i<int(n);++i)\n#define all(a) a.begin(),a.end()\n#define INF 2e9\n#define updmin(dp,x) (dp = min(dp,x))\n\nint main(void){\n    int n,m;\n    while(cin>>n>>m, n|m){\n        vector<int> c(m);\n        rep(i,m) cin>>c[i];\n        vector<int> x(n);\n        rep(i,n) cin>>x[i];\n        vector<vector<int>> dp(n+1,vector<int>(256,INF));\n        dp[0][128] = 0;\n        rep(i,n)rep(y,256)rep(k,m){\n            int ny = max(0,min(255,y+c[k]));\n            updmin(dp[i+1][ny], dp[i][y]+(int)pow(x[i]-ny,2));\n        }\n        cout<<*min_element(all(dp[n]))<<endl;\n    }\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define int long long\n#define INF 0x3f3f3f3f3f3f3f3f\n#define rep(i,n)for(int i=0;i<(n);i++)\nusing namespace std;\n\nint c[16], x[16];\nint dp[20001][256];\nint d(int a) {\n\tif (a < 0)return 0;\n\tif (a > 255)return 255;\n\treturn a;\n}\nint diff(int i, int a) {\n\treturn (x[i] - a)*(x[i] - a);\n}\nsigned main() {\n\tint n, m;\n\twhile (scanf(\"%lld%lld\", &n, &m), n) {\n\t\trep(i, m)scanf(\"%lld\", &c[i]);\n\t\trep(i, n)scanf(\"%lld\", &x[i]);\n\t\tmemset(dp, 0x3f, sizeof(dp));\n\t\tdp[0][128] = 0;\n\t\trep(i, n)rep(j, 256) {\n\t\t\tif (dp[i][j] == INF)continue;\n\t\t\trep(k, m) {\n\t\t\t\tint a = d(j + c[k]);\n\t\t\t\tdp[i + 1][a] = min(dp[i + 1][a], dp[i][j] + diff(i, a));\n\t\t\t}\n\t\t}\n\t\tint Min = INF;\n\t\trep(j, 256)Min = min(Min, dp[n][j]);\n\t\tprintf(\"%lld\\n\", Min);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<string>\n#include<vector>\n#include<cmath>\n#include<algorithm>\n#include<functional>\n#include<iomanip>\n#include<queue>\n#include<ciso646>\n#include<random>\n#include<map>\n#include<set>\nusing namespace std;\ntypedef long long ll;\nconst ll MOD = 1000000007;\nconst ll INF = (ll)1000000007 * 1000000007;\nconst double EPS = 1e-9;\ntypedef pair<int, int> P;\ntypedef unsigned int ui;\n#define stop char nyaa;cin>>nyaa;\n#define rep(i,n) for(int i=0;i<n;i++)\n#define Rep(i,sta,n) for(int i=sta;i<n;i++)\n#define rep1(i,n) for(int i=1;i<=n;i++)\n#define per1(i,n) for(int i=n;i>=1;i--)\nint main() {\n\tint n, m;\n\twhile (cin >> n >> m, n) {\n\t\tint c[16];\n\t\trep(i, m) {\n\t\t\tcin >> c[i];\n\t\t}\n\t\tll x[20001];\n\t\trep1(i, n) {\n\t\t\tcin >> x[i];\n\t\t}\n\t\tll dp[20001][256];\n\t\trep(j, 256) {\n\t\t\trep(i, 20001) {\n\t\t\t\tdp[i][j] = INF;\n\t\t\t}\n\t\t}\n\t\tdp[0][128] = 0;\n\t\trep1(i, n) {\n\t\t\trep(k, m) {\n\t\t\t\trep(j, 256) {\n\t\t\t\t\tint r = j + c[k];\n\t\t\t\t\tif (r < 0)r = 0;\n\t\t\t\t\tif (r > 255)r = 255;\n\t\t\t\t\tdp[i][r] = min(dp[i][r],dp[i - 1][j]+(ll)(r-x[i])*(r-x[i]));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tll out=INF;\n\t\trep(i, 256) {\n\t\t\tout = min(out, dp[n][i]);\n\t\t}\n\t\tcout << out << endl;\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n)for(int i=0;i<(n);i++)\nusing namespace std;\n\nint c[16], x[16];\nint dp[20001][256];\nint d(int a) {\n\tif (a < 0)return 0;\n\tif (a > 255)return 255;\n\treturn a;\n}\nint diff(int i, int a) {\n\treturn (x[i] - a)*(x[i] - a);\n}\nint main() {\n\tint n, m;\n\twhile (scanf(\"%d%d\", &n, &m), n) {\n\t\trep(i, m)scanf(\"%d\", &c[i]);\n\t\trep(i, n)scanf(\"%d\", &x[i]);\n\t\tmemset(dp, 0x3f, sizeof(dp));\n\t\tdp[0][128] = 0;\n\t\trep(i, n)rep(j, 256)rep(k, m) {\n\t\t\tint a = d(j + c[k]);\n\t\t\tdp[i + 1][a] = min(dp[i + 1][a], dp[i][j] + diff(i, a));\n\t\t}\n\t\tint Min = INT_MAX;\n\t\trep(j, 256)Min = min(Min, dp[n][j]);\n\t\tprintf(\"%d\\n\", Min);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n\n#define REP(i, n ,N) for(ll i = (n); i < (N); i++)\n#define p(s) cout<<(s)<<endl\n#define p2(a, b) cout<<(a)<<\" \"<<(b)<<endl\nusing namespace std;\ntypedef long long ll;\nll MOD = 1e9+7;\nll inf = 1e18;\n\n\nll N, M;\nll dp[20010][256];\nint main() {\n\twhile (cin >> N >> M && N > 0) {\n\t\tll C[20];\n\t\tll x[20010];\n\t\tREP(i,0,20010){\n\t\t\tREP(j,0,256){\n\t\t\t\tdp[i][j] = inf;\n\t\t\t}\n\t\t}\n\t\tdp[0][128] = 0;\n\t\tREP(i,0,M) cin >> C[i];\n\t\tREP(j,0,N) cin >> x[j];\n\t\tREP(i,0,N){\n\t\t\tREP(y,0,256){\n\t\t\t\tREP(k,0,M){\n\t\t\t\t\tll next_y = max(min(y + C[k], 255LL), 0LL);\n\t\t\t\t\tdp[i+1][next_y] = min(dp[i+1][next_y], dp[i][y] + (x[i] - next_y)*(x[i] - next_y));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tll ans = inf;\n\t\tREP(y,0,256){\n\t\t\tans = min(ans, dp[N][y]);\n\t\t}\n\t\tp(ans);\n\t}\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n\nusing namespace std;\n\ninline int normalize(int y) {\n    return min(255, max(0, y));\n}\n\ninline int get_error(int y, int y0) {\n    y -= y0;\n    return y * y;\n}\n\nint solve(int n, int m, int c[], int x[]) {\n    int min_error = -1;\n    int errors[n + 1][256];\n    for (int t = 0; t <= n; ++t) {\n        for (int y = 0; y < 256; ++y) {\n            errors[t][y] = -1;\n        }\n    }\n    errors[0][128] = 0;\n    for (int t = 0; t < n; ++t) {\n        for (int y = 0; y < 256; ++y) {\n            if (errors[t][y] < 0) {\n                continue;\n            }\n            for (int i = 0; i < m; ++i) {\n                int yn = normalize(y + c[i]);\n                int e = errors[t][y] + get_error(yn, x[t]);\n                if (errors[t + 1][yn] < 0 || e < errors[t + 1][yn]) {\n                    errors[t + 1][yn] = e;\n                }\n            }\n        }\n    }\n    for (int y = 0; y < 256; ++y) {\n        if (errors[n][y] < 0) {\n            continue;\n        }\n        if (min_error < 0 || errors[n][y] < min_error) {\n            min_error = errors[n][y];\n        }\n    }\n    return min_error;\n}\n\nint main() {\n    int n, m;\n    int c[16], x[20000];\n    while (true) {\n        cin >> n >> m;\n        if (n == 0) {\n            return 0;\n        }\n        for (int i = 0; i < m; ++i) {\n            cin >> c[i];\n        }\n        for (int i = 0; i < n; ++i) {\n            cin >> x[i];\n        }\n        cout << solve(n, m, c, x) << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n\n#define INF (1 << 29)\n\nusing namespace std;\n\nint fix(int num)\n{\n    return min(255, max( num, 0) );\n}\n\nint main()\n{\n    int N, M;\n    while(cin >> N >> M, (N))\n    {\n\n        vector<int> in_C(M);\n        for(auto& _c : in_C)\n        {\n            cin >> _c;\n        }\n\n        vector<int> in_X(N);\n        for(auto& _x : in_X)\n        {\n            cin >> _x;\n        }\n\n        int dp[2][256];\n        for(int i = 0; i < 256; i++)\n        {\n            dp[0][i] = dp[1][i] = INF;\n        }\n\n        for(int i = 0; i < M; i++)\n        {\n            int sub = fix(128 + in_C[i]);\n            dp[0][sub] = (in_X[0] - sub) * (in_X[0] - sub);\n        }\n\n        for(int n = 1; n < N; n++)\n        {\n            for(int i = 0; i < 256; i++)\n            {\n                if(dp[0][i] == INF)continue;\n                for(int j = 0; j < M; j++)\n                {\n                    int sub = fix(i + in_C[j]);\n                    int nextScore = dp[0][i] + (in_X[n] - sub) * (in_X[n] - sub);\n                    dp[1][sub] = min(dp[1][sub], nextScore);\n                    /*\n                    cout << sub << endl;\n                    cout << dp[0][sub] << endl;\n                    cout << pow( in_X[n] - sub, 2.0 ) << endl;\n                    cout << endl;\n                    //*/\n                }\n            }\n            for(int i = 0; i < 256; i++)\n            {\n                dp[0][i] = dp[1][i];\n                dp[1][i] = INF;\n            }\n        }\n\n        int ans = INF;\n        for(int i = 0; i < 256; i++)\n        {\n            ans = min(ans, dp[0][i]);\n        }\n        cout << ans << endl;\n\n    }\n\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nusing ll = long long;\nusing VI = vector<ll>;\nusing VV = vector<VI>;\nusing VS = vector<string>;\nusing PII = pair<ll, ll>;\n\n// tourist set\ntemplate <typename A, typename B>\nstring to_string(pair<A, B> p);\n\ntemplate <typename A, typename B, typename C>\nstring to_string(tuple<A, B, C> p);\n\ntemplate <typename A, typename B, typename C, typename D>\nstring to_string(tuple<A, B, C, D> p);\n\nstring to_string(const string& s) {\n  return '\"' + s + '\"';\n}\n\nstring to_string(const char* s) {\n  return to_string((string) s);\n}\n\nstring to_string(bool b) {\n  return (b ? \"true\" : \"false\");\n}\n\nstring to_string(vector<bool> v) {\n  bool first = true;\n  string res = \"{\";\n  for (int i = 0; i < static_cast<int>(v.size()); i++) {\n    if (!first) {\n      res += \", \";\n    }\n    first = false;\n    res += to_string(v[i]);\n  }\n  res += \"}\";\n  return res;\n}\n\ntemplate <size_t N>\nstring to_string(bitset<N> v) {\n  string res = \"\";\n  for (size_t i = 0; i < N; i++) {\n    res += static_cast<char>('0' + v[i]);\n  }\n  return res;\n}\n\ntemplate <typename A>\nstring to_string(A v) {\n  bool first = true;\n  string res = \"{\";\n  for (const auto &x : v) {\n    if (!first) {\n      res += \", \";\n    }\n    first = false;\n    res += to_string(x);\n  }\n  res += \"}\";\n  return res;\n}\n\ntemplate <typename A, typename B>\nstring to_string(pair<A, B> p) {\n  return \"(\" + to_string(p.first) + \", \" + to_string(p.second) + \")\";\n}\n\ntemplate <typename A, typename B, typename C>\nstring to_string(tuple<A, B, C> p) {\n  return \"(\" + to_string(get<0>(p)) + \", \" + to_string(get<1>(p)) + \", \" + to_string(get<2>(p)) + \")\";\n}\n\ntemplate <typename A, typename B, typename C, typename D>\nstring to_string(tuple<A, B, C, D> p) {\n  return \"(\" + to_string(get<0>(p)) + \", \" + to_string(get<1>(p)) + \", \" + to_string(get<2>(p)) + \", \" + to_string(get<3>(p)) + \")\";\n}\n\nvoid debug_out() { cerr << '\\n'; }\n\ntemplate <typename Head, typename... Tail>\nvoid debug_out(Head H, Tail... T) {\n  cerr << \" \" << to_string(H);\n  debug_out(T...);\n}\n\n#ifdef LOCAL\n#define debug(...) cerr << \"[\" << #__VA_ARGS__ << \"]:\", debug_out(__VA_ARGS__)\n#else\n#define debug(...) 42\n#endif\n// tourist set end\n\ntemplate<class T>bool chmax(T &a, const T &b) { if (a<b) { a=b; return 1; } return 0; }\ntemplate<class T>bool chmin(T &a, const T &b) { if (b<a) { a=b; return 1; } return 0; }\n\n#define FOR(i,a,b) for(ll i=(a);i<(b);++i)\n#define rep(i,b) FOR(i, 0, b)\n#define ALL(v) (v).begin(), (v).end()\n#define p(s) cout<<(s)<<'\\n'\n#define p2(s, t) cout << (s) << \" \" << (t) << '\\n'\n#define br() p(\"\")\n#define pn(s) cout << (#s) << \" \" << (s) << '\\n'\n#define p_yes() p(\"YES\")\n#define p_no() p(\"NO\")\n#define SZ(x) ((int)(x).size())\n#define SORT(A) sort(ALL(A))\n#define RSORT(A) sort(ALL(A), greater<ll>())\n#define MP make_pair\n\nvoid no(){p_no(); exit(0);}\nvoid yes(){p_yes(); exit(0);}\n\nconst ll mod = 1e9 + 7;\nconst ll inf = 1e18;\nconst double PI = acos(-1);\n\nll round(ll v){\n  if(v>255){\n    return  255;\n  }\n  else if(v<0){\n    return 0;\n  }\n  else{\n    return v;\n  }\n}\n\nll dp[2][256];\nvoid reset(){\n  rep(i, 2){\n    rep(j, 256){\n      dp[i][j] = inf;\n    }\n  }\n}\n\nll f(ll a, ll b){\n  a = round(a);\n  b = round(b);\n  ll diff = a-b;\n  return diff*diff;\n}\n\nint main(){\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n\n    // input\n    ll N, M;\n\n    while(cin>>N>>M){\n      if(N==0) return 0;\n\n      reset();\n      VI book(M);\n      rep(i, M){\n        cin>>book[i];\n      }\n\n      VI A(N);\n      rep(i, N) cin>>A[i];\n\n      dp[0][128] = 0;\n\n      rep(i, N){\n        rep(now, 256){\n          for(auto b : book){\n            // chmin(dp[i+1][round(now+b)], dp[i][now] + f(A[i], now+b));\n            chmin(dp[1][round(now+b)], dp[0][now] + f(A[i], now+b)); \n          }\n        }\n\n        // メモリ再利用\n        rep(v, 256){\n          dp[0][v] = dp[1][v];\n          dp[1][v] = inf;\n        }\n      }\n\n      ll mi = inf;\n      rep(i, 256){\n        chmin(mi, dp[0][i]);\n      }\n      p(mi);\n\n    }\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\nusing namespace std;\n\nint main(){\n    int n, m;\n    while(cin >> n >> m, n+m){\n        vector<vector<int>> dp(256, vector<int>(n+1, 1<<30));\n        dp[128][0] = 0;\n        vector<int> c(m);\n        for(int i = 0; i < m; i++)  cin >> c[i];\n        for(int i = 0; i < n; i++){\n            int x;  cin >> x;\n            for(int j = 0; j < 256; j++){\n                for(int k = 0; k < m; k++){\n                    int next = j + c[k];\n                    if(next < 0)    next = 0;\n                    if(next > 255)  next = 255;\n                    dp[next][i+1] = min(dp[next][i+1], dp[j][i]+(next-x)*(next-x));\n                }\n            }\n        }\n        int ans = 1<<30;\n        for(int j = 0; j < 256; j++)    ans = min(ans, dp[j][n]);\n        cout << ans << endl;\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n\nusing namespace std;\nint N,M;\nvector<int> C,X;\n\nvoid input(){\n  C.resize(M);\n  X.resize(N);\n  for(int i = 0; i < M; i++) cin >> C[i];\n  for(int i = 0; i < N; i++) cin >> X[i];\n}\n\nvoid solve(){\n  const int Row = 2;\n  const int Col = 256;\n  const long long INF = (1LL<<50);\n  \n  long long dp[Row][Col];\n  fill(dp[0],dp[0]+Row*Col,INF);\n\n  dp[0][128] = 0;\n\n  for(int i = 0; i < N; i++){\n    for(int pos = 0; pos < Col; pos++) dp[(i+1)%2][pos] = INF;\n\n    for(int j = 0; j < Col; j++){\n      if(dp[i%2][j] == INF) continue;\n      for(int k = 0; k < M; k++){\n\tint nex = j+C[k];\n\tnex = min(255,nex);\n\tnex = max(0,nex);\n\tdp[(i+1)%2][nex] = min(dp[(i+1)%2][nex],dp[i%2][j]+(X[i]-nex)*(X[i]-nex));\n      }\n    }\n  }\n\n  long long ans = INF;\n\n  for(int i = 0; i < Col; i++) ans = min(ans,dp[N%2][i]);;\n  cout << ans << endl;\n}\n\nint main(){\n  while(cin >> N >> M && N+M){\n    input();\n    solve();\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n\nusing namespace std;\n\nconst int INF = 1e8;\n\n\nvoid debug(vector<int> c, vector<int> x){\n\tfor(int i=0;i<c.size();i++) cout<< \" \"<< c[i]; cout<< endl;\n\tfor(int i=0;i<x.size();i++) cout<< \" \"<< x[i]; cout<< endl;\n}\n\nvoid debug(vector<vector<int>>& dp){\n\tcerr<< \" -- debug -- \"<< endl;\n\tfor(int i=0;i<dp.size();i++){\n\t\tfor(int j=0;j<dp[i].size();j++){\n\t\t\tif(dp[i][j] != INF) cerr<< \"(\"<< i<< \",\"<< j<< \")\"<< dp[i][j]<< \" \";\n\t\t}\n\t\tcerr<< endl;\n\t}\n}\n\nint norm(int a, int b){\n\treturn (a - b) * (a - b);\n}\n\nbool solve(){\n\tint n, m;\n\tcin>> n>> m;\n\tif(!n && !m) return false;\n\n\tvector<int> c(m), x(n+1);\n\tfor(int i=0;i<m;i++) cin>> c[i];\n\tfor(int i=0;i<n;i++) cin>> x[i];\n\t//debug(c, x);\n\n\tvector<vector<int>> dp(n+1, vector<int>(256, INF));\n\tdp[0][128] = 0;\n\tfor(int i=0;i<dp.size()-1;i++){\n\t\tfor(int j=0;j<dp[i].size();j++){\n\t\t\tif(dp[i][j] == INF) continue;\n\t\t\tfor(int k=0;k<c.size();k++){\n\t\t\t\tint jj = j + c[k];\n\t\t\t\tjj = min(jj, 255); jj = max(jj, 0);\n\t\t\t\tdp[i+1][jj] = min(dp[i+1][jj], dp[i][j] + norm(x[i], jj));\n\t\t\t}\n\t\t}\n\t}\n\t//debug(dp);\n\n\tint ans = INF;\n\tfor(int i=0;i<dp[n].size();i++) ans = min(ans, dp[n][i]);\n\tcout<< ans<< endl;\n\treturn true;\n}\n\nint main(){\n\tcout.setf(ios::fixed); cout.precision(10);\n\twhile(solve());\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\n#define N 20000\n#define M 256\n#define INF (1e9)\nusing namespace std;\nint n,m,c[N],x[N],y,d[N][M],ans;\n\nint main(){\n  \n  while(1){\n    cin>>n>>m;\n    if(!n&&!m) break;\n    for(int i=0;i<m;i++) cin>>c[i];\n    for(int i=0;i<n;i++) cin>>x[i];\n    for(int i=0;i<n;i++)\n      for(int j=0;j<M;j++) d[i][j]=INF;\n    y=128;\n    for(int i=0;i<m;i++){\n      int next=y+c[i];\n      if(next>255) next=255;\n      if(next<0) next=0;\n      d[0][next]=(x[0]-(next))*(x[0]-(next));\n    }\n    for(int i=0;i<n-1;i++){\n      for(int j=0;j<M;j++){\n\tif(d[i][j]==INF) continue;\n\tfor(int k=0;k<m;k++){\n\t  int next=j+c[k];\n\t  if(next>255) next=255;\n\t  if(next<0) next=0;\n\t  d[i+1][next]=min(d[i+1][next],d[i][j]+(x[i+1]-(next))*(x[i+1]-(next)));\n\t}\n      }\n    }\n    ans=INF;\n    for(int i=0;i<M;i++) ans=min(ans,d[n-1][i]);\n    cout<<ans<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <climits>\nusing namespace std;\n\n#define INF 1 << 24\n#define SQUARE(n) ((n)*(n))\ntypedef long INT;\ntypedef vector <int> VI;\ntypedef vector <VI> VVI;\n\nint main( void )\n{\n\tint n, m; // N: üÍM, M: R[hubNÌ·³\n\twhile ( cin >> n >> m && n && m )\n\t{\n\t\t// üÍ\n\t\tVI C(m);\n\t\tfor ( int i = 0; i < m; i++ )\n\t\t{\n\t\t\tcin >> C[i];\n\t\t}\n\t\tVI x(n+1);\n\t\tx[0] = 0;\n\t\tfor ( int i = 0; i < n; i++ )\n\t\t{\n\t\t\tcin >> x[i+1];\n\t\t}\n\n\t\tVVI  dp = VVI( n+1, VI( 256, INF ) );\n\t\tdp[0][128] = 0;\n\n\t\tfor ( int k = 1; k <= n; k++ )\n\t\t{\n\t\t\tfor ( int i = 0; i < 256; i++ )\n\t\t\t{\n\t\t\t\tfor ( int j = 0; j < m; j++ )\n\t\t\t\t{\n\t\t\t\t\tint next = i + C[j];\n\t\t\t\t\tnext = next < 0 ? 0 : next;\n\t\t\t\t\tnext = next > 255 ? 255 : next;\n\t\t\t\t\tdp[k][next] = min( dp[k][next], dp[k-1][i] + SQUARE( next - x[k] ) );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tint answer = INF;\n\t\tfor ( int i = 0; i < 256; i++ ) answer = min( answer, dp[n][i] );\n\t\tcout << answer << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define int long long\n#define rep(i, n) for(int i = 0; i < n; i++)\n#define all(a) a.begin(), a.end()\n#define P pair<int, int>\n#define F first\n#define S second\n#define prime 1000000007\n#define INF 40000000000000000\nint dx8[8] = {-1, 0, 1, 1, 1, 0, -1, -1};\nint dy8[8] = {1, 1, 1, 0, -1, -1, -1, 0};\nint dx4[4] = {-1, 0, 1, 0};\nint dy4[4] = {0, -1, 0, 1};\nsigned main(void) {\n    while(true) {\n        int N, M;\n        cin >> N >> M;\n        if(N == 0 && M == 0) break;\n        int Code[M], X[N];\n        rep(i, M) cin >> Code[i];\n        rep(i, N) cin >> X[i];\n        vector<vector<int>> dp(20010, vector<int>(256, INF));\n        dp[0][128] = 0;\n        rep(i, N) rep(j, 256) {\n            rep(k, M) {\n                int next = j + Code[k];\n                next = max(next, (int)0);\n                next = min(next, (int)255);\n                dp[i + 1][next] = min(dp[i + 1][next], dp[i][j] + (next - X[i]) * (next - X[i]));\n            }\n        }\n        int ans = INF;\n        rep(i, 256) ans = min(ans, dp[N][i]);\n        cout << ans << endl;\n    }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <stdio.h>\n#include <algorithm>\n#include <vector>\n#include <queue>\n#include <numeric>\n#include <string>\n#include <string.h>\n#include <map>\n#include <set>\n#include <functional>\n#include <complex>\n#include <stack>\n#include <tuple>\n\n#define ll long long int\n\nusing namespace std;\n\nconst int INF = (1<<30) - 1;\n\n\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    \n    int N, M;\n    while(cin>>N>>M, N|M){\n        vector<int> code_book(M);\n        vector<int> data(N);\n        for(auto &c: code_book)\n            cin >> c;\n        for(auto &d: data)\n            cin >> d;\n        \n        vector<vector<int>> dp(N+1, vector<int>(256, INF));\n        dp[0][128] = 0;\n        for(int i=0; i<N; i++){\n            for(int j=0; j<256; j++){\n                for(auto c: code_book){\n                    int ni = min(255, max(0, j+c));\n                    auto &next = dp[i+1][ni];\n                    int error = (ni-data[i])*(ni-data[i]);\n                    next = min(next, dp[i][j]+error);\n                }\n            }\n        }\n        \n        int ans = INF;\n        for(auto &t: dp[N])\n            ans = min(ans, t);\n        cout << ans << endl;\n    }\n    \n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <string.h>\n\n\nint main(void){\n\tint n, m, c[16], x, y, p[2][256], ans, i, j, k;\n\twhile(1){\n\t\tscanf(\"%d%d\",&n,&m);\n\t\tif(n == 0 && m == 0) return 0;\n\t\tfor(i = 0;i < m;i++)\n\t\t\tscanf(\"%d\",&c[i]);\n\t\tmemset(p,-1,sizeof(p));\n\t\tp[0][128] = 0;\n\t\tfor(i = 0;i < n;i++){\n\t\t\tscanf(\"%d\",&x);\n\t\t\tfor(j = 0;j < 256;j++) p[(i + 1) % 2][j] = -1;\n\t\t\tfor(j = 0;j < 256;j++){\n\t\t\t\tif(p[i % 2][j] != -1){\n\t\t\t\t\tfor(k = 0;k < m;k++){\n\t\t\t\t\t\ty = j + c[k];\n\t\t\t\t\t\tif(y > 255) y = 255;\n\t\t\t\t\t\telse if(y < 0) y = 0;\n\t\t\t\t\t\tif(p[(i + 1) % 2][y] == -1 || p[(i + 1) % 2][y] > p[i % 2][j] + (y - x) * (y - x))\n\t\t\t\t\t\t\tp[(i + 1) % 2][y] = p[i % 2][j] + (y - x) * (y - x);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tans = -1;\n\t\tfor(j = 0;j < 256;j++)\n\t\t\tif(p[i % 2][j] != -1 && (ans == -1 || ans > p[i % 2][j])) ans = p[i % 2][j];\n\t\tprintf(\"%d\\n\",ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main(){\n  int n,m,c[16],x[20001];\n  int dp1[256],dp2[256];\n\n  while(cin>>n>>m,n|m){\n\n  for(int i=0;i<m;i++) cin>>c[i];\n  for(int i=1;i<n+1;i++) cin>>x[i];\n  for(int j=0;j<256;j++) dp1[j]=1145141919;\n  for(int j=0;j<256;j++) dp2[j]=1145141919;\n  dp1[128]=0;\n  \n  for(int i=0;i<n;i++){\n    for(int j=0;j<256;j++){\n      if(dp1[j]!=1145141919){\n        for(int k=0;k<m;k++){\n          int tmp=j+c[k];\n          if(tmp<0) tmp=0;\n          if(tmp>255) tmp=255;\n          dp2[tmp]=min(dp2[tmp],dp1[j]+(int)pow(x[i+1]-tmp,2));\n        }\n      }\n    }\n    for(int j=0;j<256;j++){\n      dp1[j]=dp2[j];\n      dp2[j]=1145141919;\n    }\n  }\n  for(int i=1;i<256;i++) dp1[i]=min(dp1[i],dp1[i-1]);\n  cout<<dp1[255]<<endl;\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <cmath>\n#include <cstdio>\n#include <functional>\n#include <numeric>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <utility>\n#include <sstream>\n#include <complex>\n\nusing namespace std;\n\n#define FOR(i,a,b) for(long long i=(a);i<(b);i++)\n#define REP(i,N) for(long long i=0;i<(N);i++)\n#define ALL(s) (s).begin(),(s).end()\n#define fi first\n#define se second\n\n#define PI acos(-1.0)\n#define INF 1000000007\n#define EPS 1e-10\n#define MAX_N 20000\n#define MAX_M 16\n\ntypedef long long ll;\ntypedef pair<ll, ll> P;\ntypedef pair<double, double> PD;\ntypedef pair<string, ll> PS;\ntypedef vector<ll> V;\ntypedef pair<P, char> PC;\n\nint n, m;\nint c[MAX_M + 1], x[MAX_N + 1];\nint dp[MAX_N + 1][256 + 1];\n\nint main(){\n\twhile (cin >> n >> m&&n + m){\n\t\tREP(i, MAX_N){\n\t\t\tREP(j, 256 + 1){\n\t\t\t\tdp[i][j] = INF;\n\t\t\t}\n\t\t}\n\t\tREP(i, m){\n\t\t\tcin >> c[i];\n\t\t}\n\t\tREP(i, n){\n\t\t\tcin >> x[i];\n\t\t}\n\t\tdp[0][128] = 0;\n\t\tREP(i, n){\n\t\t\tREP(j, 256){\n\t\t\t\tif (dp[i][j] == INF)continue;\n\t\t\t\tREP(k, m){\n\t\t\t\t\tint num = j + c[k];\n\t\t\t\t\tif (num < 0) num = 0;\n\t\t\t\t\tif (num > 255) num = 255;\n\t\t\t\t\tdp[i + 1][num] = min(dp[i][j] + (x[i] - num)*(x[i] - num), dp[i + 1][num]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t//REP(i, n+1){\n\t\t//\tFOR(j, 120, 140){\n\t\t//\t\tcout << dp[i][j] << \" \";\n\t\t//\t}\n\t\t//\tcout << endl;\n\t\t//}\n\t\tint ans = INF;\n\t\tREP(i, 256+1){\n\t\t\tans = min(ans, dp[n][i]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <climits>\n#include <cfloat>\n#include <ctime>\n#include <cassert>\n#include <map>\n#include <utility>\n#include <set>\n#include <iostream>\n#include <memory>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <functional>\n#include <sstream>\n#include <complex>\n#include <stack>\n#include <queue>\n#include <numeric>\n#include <list>\n\n\nusing namespace std;\n\n#ifdef _MSC_VER\n#define __typeof__ decltype\ntemplate <class T> int __builtin_popcount(T n) { return n ? 1 + __builtin_popcount(n & (n - 1)) : 0; }\n#endif\n\n#define foreach(it, c) for (__typeof__((c).begin()) it=(c).begin(); it != (c).end(); ++it)\n#define all(c) (c).begin(), (c).end()\n#define rall(c) (c).rbegin(), (c).rend()\n#define CLEAR(arr, val) memset(arr, val, sizeof(arr))\n\n#define rep(i, n) for (int i = 0; i < n; ++i)\n\ntemplate <class T> void max_swap(T& a, const T& b) { a = max(a, b); }\ntemplate <class T> void min_swap(T& a, const T& b) { a = min(a, b); }\n\ntypedef long long ll;\ntypedef pair<int, int> pint;\n\nconst double EPS = 1e-8;\nconst double PI = acos(-1.0);\nconst int dx[] = { 0, 1, 0, -1 };\nconst int dy[] = { 1, 0, -1, 0 };\n\n\n\nint main()\n{\n\tint n, m, c[32], x[21919];\n\twhile (scanf(\"%d%d\", &n, &m), n)\n\t{\n\t\tfor (int i = 0; i < m; ++i)\n\t\t\tscanf(\"%d\", c + i);\n\t\tfor (int i = 0; i < n; ++i)\n\t\t\tscanf(\"%d\", x + i);\n\n\t\tstatic ll dp[21919][256];\n\t\tconst ll INF = 1LL << 55;\n\t\tfor (int i = 0; i <= n; ++i)\n\t\t\tfor (int j = 0; j <= 255; ++j)\n\t\t\t\tdp[i][j] = INF;\n\n\t\tdp[0][128] = 0;\n\t\tfor (int i = 0; i < n; ++i)\n\t\t{\n\t\t\tfor (int j = 0; j <= 255; ++j)\n\t\t\t{\n\t\t\t\tfor (int k = 0; k < m; ++k)\n\t\t\t\t{\n\t\t\t\t\tint y = max(0, min(255, j + c[k]));\n\t\t\t\t\tint s = x[i] - y;\n\t\t\t\t\tmin_swap(dp[i + 1][y], dp[i][j] + s * s);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tprintf(\"%lld\\n\", *min_element(dp[n], dp[n] + 256));\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <climits>\n#include <algorithm>\n#define MAX_N 20000\n#define MAX_M 16\n#define MAX_X 256\n#define INIT 128\nusing namespace std;\n\nlong long dp[MAX_N + 1][MAX_X];\nint c[MAX_M];\nint x[MAX_N + 1];\nint n, m;\n\nvoid solve() {\n  dp[0][128] = 0;\n  for (int i = 0; i + 1 <= n; i++) {\n    for (int j = 0; j < MAX_X; j++) {\n      if (dp[i][j] == LONG_MAX) continue;\n\n      for (int k = 0; k < m; k++) {\n\tint t = j + c[k];\n\tif (t < 0) t = 0;\n\tif (t > 255) t = 255;\n\tint s = (t - x[i + 1]) * (t - x[i + 1]);\n\tdp[i + 1][t] = min(dp[i][j] + s, dp[i + 1][t]);\n      }\n    }\n  }\n  long long ans = LONG_MAX;\n  for (int i = 0; i < MAX_X; i++)\n    ans = min(ans, dp[n][i]);\n  cout << ans << endl;\n}\n\nvoid init() {\n  for (int i = 0; i < MAX_N; i++)\n    for (int j = 0; j < MAX_X; j++)\n      dp[i][j] = LONG_MAX;\n}\n\nint main() {\n  while (true) {\n    cin >> n >> m;\n    if (n == 0 && m == 0) return 0;\n\n    init();\n    for (int i = 0; i < m; i++)\n      cin >> c[i];\n    for (int i = 1; i <= n; i++)\n      cin >> x[i];\n\n    solve();\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#define NUM 256\nusing namespace std;\n\nint dp[20001][NUM];\n\nint main(){\n  int n,m;\n  while(cin>>n>>m,n){\n    for(int i=0;i<=n;i++)\n      for(int j=0;j<NUM;j++)\n\tdp[i][j]=1<<30;\n    dp[0][128]=0;\n    int c[m],x[n];\n    for(int i=0;i<m;i++)cin>>c[i];\n    for(int i=0;i<n;i++)cin>>x[i];\n    for(int i=0;i<n;i++){\n      for(int j=0;j<NUM;j++){\n\tfor(int k=0;k<m;k++){\n\t  if(j+c[k]<=0){\n\t    dp[i+1][0]=min(dp[i+1][0],dp[i][j] + x[i]*x[i]);\n\t  }else if(j+c[k]>=255){\n\t    dp[i+1][255]=min(dp[i+1][255],dp[i][j] + (x[i]-255)*(x[i]-255));\n\t  }else{\n\t    dp[i+1][j+c[k]]=min(dp[i+1][j+c[k]],dp[i][j] + (x[i]-j-c[k])*(x[i]-j-c[k]));\n\t  }\n\t}\n      }\n    }\n    // for(int j=0;j<256;j++){\n    //   for(int i=0;i<n;i++){\n    // \tcout << dp[i][j] << \" \";\n    //   }\n    //   cout << endl;\n    // }\n\n    int res=1<<30;\n    for(int i=0;i<NUM;i++)res=min(res,dp[n][i]);\n    cout << res << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\n#include<numeric>\n#include<string>\n#include<cmath>\n#include<set>\n#include<queue>\n#include<bitset>\n#include<iomanip>\n#include<cctype>\n#include<map>\n\n#define rep(i,n) for(int (i)=0;(i)<(n);(i)++)\n#define rep2(i,a,b) for (int (i)=a;(i)<(b);(i)++)\n#define all(x) (x).begin(),(x).end()\n\nusing namespace std;\nconst int inf = 1001001000;\n\nvoid print(vector<vector<int>> a){\n\tfor (int i=0;i<a.size();i++){\n\t\tfor (int j=0;j<a[i].size();j++){\n\t\t\tcout << a[i][j] << \" \";\n\t\t}\n\t\tcout << endl;\n\t}\n}\n\nvoid print(vector<vector<long long int>> a){\n\tfor (int i=0;i<a.size();i++){\n\t\tfor (int j=0;j<a[i].size();j++){\n\t\t\tcout << a[i][j] << \" \";\n\t\t}\n\t\tcout << endl;\n\t}\n}\n\nvoid print(vector<int> a){\n    int n = a.size();\n    for (int j=0;j<n;j++) {\n        if (j != n-1) cout << a[j] << \" \";\n        else cout << a[j] << endl;\n    }\n}\n\nint main(){\n\twhile (true){\n\t\tint n, m;\n\t\tcin >> n >> m;\n\t\tif (n == 0 && m == 0)\n\t\t\tbreak;\n\t\tvector<int> c(m);\n\t\tvector<int> y(n);\n\t\trep(i, m) cin >> c[i];\n\t\trep(i, n) cin >> y[i];\n\t\tvector<vector<int>> dp(n + 1, vector<int>(256, inf));\n\t\tdp[0][128] = 0;\n\t\trep(i, n)\n\t\t{\n\t\t\trep(j,256){\n\t\t\t\tif (dp[i][j] == inf){\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\trep(k,m){\n\t\t\t\t\tif (j + c[k] < 0) dp[i + 1][0] = min(dp[i + 1][0], dp[i][j] + (0 - y[i]) * (0 - y[i]));\n\t\t\t\t\telse if (j + c[k] > 255) dp[i + 1][255] = min(dp[i + 1][255], dp[i][j] + (255 - y[i]) * (255 - y[i]));\n\t\t\t\t\telse dp[i + 1][j + c[k]] = min(dp[i + 1][j + c[k]], dp[i][j] + (j + c[k] - y[i]) * (j + c[k] - y[i]));\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t\tint ans = inf;\n\t\trep(i, 256) ans = min(ans, dp[n][i]);\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\n#include<set>\n#include<map>\n#include<vector>\n#include<stack>\n#include<queue>\n#include<cmath>\n#include<numeric>\n#include<cstdlib>\n#include<cassert>\n#include<random>\nusing namespace std;\n\nconst int e=1e9+7;\n\nint cut(int n){\n    if(n>255){n=255;}\n    if(n<0){n=0;}\n    return n;\n}\n\nint dp[25000][256];\n\n\nint main(){\n    while(1){\n    \n        \n        \n    int n,m;\n    fill(&dp[0][0],&dp[24999][256],e);\n    vector<int> in,c;\n    cin>>n>>m;\n        if(n==0 && m==0){break;}\n    for(int i=0;i<m;i++){\n        int d;\n        cin>>d;\n        c.push_back(d);\n    }\n    for(int i=0;i<n;i++){\n        int d;\n        cin>>d;\n        in.push_back(d);\n    }\n    dp[0][128]=0;\n    \n    for(int i=0;i<n;i++){\n        for(int t=0;t<256;t++){\n            for(int h=0;h<c.size();h++){\n                if(dp[i][t]!=e){\n                    dp[i+1][cut(t+c[h])]=min(dp[i+1][cut(t+c[h])],dp[i][t]+(int)pow((in[i]-cut(t+c[h])),2));\n                }\n            }\n        }\n    }\n    int ans=e;\n    for(int i=0;i<256;i++){\n        ans=min(ans,dp[n][i]);\n    }\n    cout<<ans<<endl;\n    \n        \n        \n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n#define REP(i,b,n) for(int i=b;i<n;i++)\n#define rep(i,n)   REP(i,0,n)\n\nconst int inf = ( 1 << 28);\n\nint dp[20001][256];\nint solve(int n,int m,int *cbook,int *in){\n  rep(i,n+1)rep(j,256)dp[i][j]=inf;\n  dp[0][128]=0;\n\n  rep(i,n){\n    rep(j,256){\n      if (dp[i][j] == inf)continue;\n      rep(k,m){\n\tint next=j+cbook[k];\n\tif (next<0)next=0;\n\telse if (next>255)next=255;\n\tdp[i+1][next]=min(dp[i+1][next],dp[i][j]+(next-in[i])*(next-in[i]));\n      }\n    }\n  }\n  \n  int ans = inf;\n  rep(i,256)ans=min(ans,dp[n][i]);\n  return ans;\n}\n\n\nmain(){\n  int n,m;\n  int in[20000],cbook[200];\n  while(scanf(\"%d%d\",&n,&m) && n){\n    rep(i,m)scanf(\"%d\",&cbook[i]);\n    rep(i,n)scanf(\"%d\",&in[i]);\n    cout << solve(n,m,cbook,in) << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n\nint n, m, c[16], x[20000], table[20000][256];\nconst int INF = 2147483647;\n\nint min(int a, int b){\n    return a < b ? a : b;\n}\n\nint main(){\n    cin >> n >> m;\n    while( n != 0 || m != 0 ){\n        int i;\n        for(i = 0; i < m; i++){\n            cin >> c[i];\n        }\n        for(i = 0; i < n; i++){\n            cin >> x[i];\n        }\n        //dp\n        for(i = 0; i <= n; i++){\n            for(int j = 0; j < 256; j++){\n                table[i][j] = INF;\n            }\n        }\n        table[0][128] = 0;\n        for(i = 0; i < n; i++){\n            for(int j = 0; j < m; j++){\n                for(int k = 0; k <= 255; k++){\n                    if( table[i][k] < INF ){\n                        int t = k + c[j];\n                        if( t < 0 ) t = 0;\n                        if( t > 255 ) t = 255;\n                        int s = (t - x[i])*(t - x[i]);\n                        table[i+1][t] = min(table[i][k] + s, table[i+1][t]);\n                    }\n                }\n            }\n            /*\n            for(int j = 0; j < 256; j++){\n                if( table[i][j] == INF){\n                    cout << \"INF \";\n                }else{\n                    cout << table[i][j] << ' ';\n                }\n            }\n            */\n        }\n        int ans = INF;\n        for(int i = 0; i <= 255; i++){\n            if( table[n][i] >= INF ) continue;\n            if( ans < 0 ) ans = table[n][i];\n            ans = min(table[n][i], ans);\n        }\n        cout << ans << endl;\n        cin >> n >> m;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "\n#include <cstdio>\n#include <iostream>\n#include <vector>\n#include <map>\n#include <set>\n#include <string>\n#include <cstring>\n#include <sstream>\n#include <algorithm>\n#include <functional>\n#include <queue>\n#include <stack>\n#include <cmath>\n#include <iomanip>\n \nusing namespace std;\n\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n)  FOR(i,0,n)\n#define CLR(a) memset((a), 0 ,sizeof(a))\n#define MCLR(a) memset((a), -1 ,sizeof(a))\n#define SZ(a) (sizeof(a))\n#define FILL(a,v) fill((int*)a,(int*)(a+(SZ(a)/SZ(*(a)))),v)\n\nbool cheak(int x,int y,int xMax,int yMax)\n{return x >= 0 && y >= 0 && xMax > x && yMax > y;}\nconst int dx[4]={-1,0,1,0},dy[4]={0,1,0,-1};\nconst int INF = 2147483647;\ntypedef pair<int,int> P;\ntypedef long long ll;\ntypedef unsigned long long ull;\n\nconst int MAX = 20020;\nint dp[MAX][256];\n\nint main()\n{\n\tint n,m;\n\twhile(cin >> n >> m && n)\n\t{\n\t\tint c[20],x[MAX];\n\t\tREP(i,m)cin >> c[i];\n\t\tREP(i,n)cin >> x[i];\n\t\t\n\t\tFILL(dp,INF);\n\t\tdp[0][128] = 0;\n\n\t\tREP(i,n)\n\t\tREP(j,256)\n\t\tif(dp[i][j] != INF)\n\t\tREP(k,m)\n\t\t{\n\t\t\tint tmp = j+c[k];\n\t\t\tif(tmp < 0)\n\t\t\t\ttmp = 0;\n\t\t\tif(tmp > 255)\n\t\t\t\ttmp = 255;\n\t\t\t\n\t\t\tint val = pow(x[i]-tmp,2);\n\t\t\tif(val+dp[i][j] < dp[i+1][tmp])\n\t\t\t\tdp[i+1][tmp] = val+dp[i][j];\n\t\t}\n\n\t\tint ans = INF;\n\t\tREP(j,256)\n\t\tans = min(dp[n][j],ans);\n\t\t\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <algorithm>\n#include <vector>\n\nusing namespace std;\n\nconst int INF = (int)10e9;\n\nint main(){\n  int n, m;\n  while(scanf(\"%d%d\", &n, &m) && (n|m)){\n    vector<int> C(m);\n    for(int i=0; i<m; i++) scanf(\"%d\", &C[i]);\n    \n    vector<int> dp(256, INF);\n    dp[128] = 0;\n    while(n--) {\n      vector<int> next(256, INF);\n      int in; scanf(\"%d\", &in);\n      for(int i=0; i<256; i++){\n\tif(dp[i] == INF) continue;\n\tfor(int j=0; j<m; j++){\n\t  int conv = i + C[j];\n\t  conv = min(max(conv, 0), 255);\n\t  int diff = (in - conv) * (in - conv);\n\t  next[conv] = min(next[conv], dp[i] + diff);\n\t}\n      }\n      dp = next;\n    }\n    \n    printf(\"%d\\n\", *min_element(dp.begin(), dp.end()));\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#pragma GCC optimize (\"O3\")\n#include <iostream>\n#include <iomanip>\n#include <istream>\n#include <ostream>\n#include <sstream>\n#include <iterator>\n#include <vector>\n#include <algorithm>\n#include <queue>\n#include <deque>\n#include <list>\n#include <stack>\n#include <map>\n#include <unordered_map>\n#include <set>\n#include <bitset>\n#include <utility>\n#include <cmath>\n#include <cstdio>\n#include <cstring>\n#include <string>\n#include <ctime>\n#include <cctype>\n#include <cstdlib>\n#define IINF 10e8\n#define INF 1<<30\n#define MOD 1000000007\n#define mod 998244353\n#define REP(i, a, n) for (ll i = a; i < (ll)(n); i++)\n#define REPE(i, a, n) for (ll i = a; i <= (ll)(n); i++)\n#define Endl endl\n#define fi first\n#define se second\n#define pb push_back\n#define mp make_pair\n#define mt make_tuple\n#define eb emplace_back\n#define mmax(x,y)(x>y?x:y)\n#define mmin(x,y)(x<y?x:y)\n#define chmax(x,y) x=mmax(x,y)\n#define chmin(x,y) x=mmin(x,y)\n#define all(x) (x).begin(),(x).end()\n#define siz(x) (ll)(x).size()\n#define PI acos(-1.0)\nusing namespace std;\ntypedef long long int ll;\ntypedef unsigned long long int ull;\ntypedef long double ld;\ntypedef pair<int,int>Pin;\ntypedef pair<ll,ll>Pll;\ntemplate<class T> using V=vector<T>;\nlong long GCD(long long a, long long b) {return b?GCD(b,a%b):a;}\nlong long LCM(long long a, long long b) {return a/GCD(a,b)*b;}\nint dx[4]={-1,0,1,0};\nint dy[4]={0,-1,0,1};\nint ddx[8]={-1,0,1,0,1,1,-1,-1};\nint ddy[8]={0,-1,0,1,1,-1,1,-1};\nll cmp(pair<ll,ll>a,pair<ll,ll> b){\n        if(a.se!=b.se)\n        return a.se<b.se;\n        else\n        return a.fi<b.fi;\n}\n//----------------------------------------------------------------------\nint n,m;\nint c[17];\nint x[20020];\nint dp[20020][256];\n//map<tuple<int,int,int>,int>M;\n\n//----------------------------------------------------------------------\nint main(){\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    //-------------------------------  \n    //ll begin_time=clock();\n    //-------------------------------\n    cin>>n>>m;\n    while(n&&m){\n        memset(x,0,sizeof(x));\n        memset(c,0,sizeof(c));\n        memset(dp,0,sizeof(dp));\n        for(int i=1;i<=m;i++)cin>>c[i];\n        for(int i=0;i<n;i++)cin>>x[i];\n        for(int i=0;i<20020;i++)for(int j=0;j<256;j++)dp[i][j]=IINF;\n        dp[0][128]=0;\n\n        \n        for(int i=0;i<n;i++){\n            for(int j=0;j<=255;j++){\n                if(dp[i][j]==IINF)continue;\n                for(int k=1;k<=m;k++){\n                    int y=j+c[k];\n                    if(y>255)y=255;\n                    else if(y<0)y=0;\n                    int tmp=(x[i]-y)*(x[i]-y);\n                    chmin(dp[i+1][y],dp[i][j]+tmp);\n                }\n            }\n        }\n\n        int ans=IINF;\n        for(int j=0;j<=255;j++)chmin(ans,dp[n][j]);\n\n        cout<<ans<<Endl;\n\n        cin>>n>>m;\n    }\n    //-------------------------------  \n    //ll end_time=clock();cout<<\"time=\"<<end_time-begin_time<<\"ms\"<<endl;\n    //-------------------------------\n    return 0;\n}\n//----------------------------------------------------------------------\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n\nusing namespace std;\ntypedef long long ll;\n\nll c[16], x[20000];\n\nll dp[20001][256];\n\nint main() {\n\twhile (1) {\n\t\tint n, m;\n\t\tcin >> n >> m;\n\t\tif (n + m == 0)break;\n\t\tfor (int i = 0; i < m; i++)cin >> c[i];\n\t\tfor (int i = 0; i < n; i++)cin >> x[i];\n\n\t\tfor (int i = 0; i < 21; i++)for (int j = 0; j < 256; j++)dp[i][j] = 1e18;\n\t\tdp[0][128] = 0;\n\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tfor (int j = 0; j <= 255; j++) {\n\t\t\t\tfor (int k = 0; k < m; k++) {\n\t\t\t\t\tint nxt = 0;\n\t\t\t\t\tnxt = j + c[k];\n\t\t\t\t\tif (nxt < 0)nxt = 0;\n\t\t\t\t\tif (nxt > 255)nxt = 255;\n\t\t\t\t\t\n\t\t\t\t\tdp[i + 1][nxt] = min(dp[i + 1][nxt], dp[i][j] + (x[i] - nxt) * (x[i] - nxt));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tll ans = 1e18;\n\n\t\tfor (int i = 0; i < 256; i++) {\n\t\t\tans = min(ans, dp[n][i]);\n\t\t}\n\t\tcout << ans << endl;\n\n\t}\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nusing ll = long long;\n#define REP(i,n) for(int i=0; i < (n); ++i)\n#define REPR(i,n) for(int i=(n); i >= 0; --i)\n#define FOR(i, m, n) for(int i = (m); i < (n); ++i)\n// #define INF 1e9\nconst ll INF = 1LL << 60;\nll square(ll x){\n  return x * x;\n}\nll dp[20005][300];\n\nint main(){\n  while(true){\n    int N, M;\n    cin >> N >> M;\n    if(N == 0 && M == 0) break;\n    vector<int> C(M), x(N);\n    REP(i, M){\n      cin >> C[i];\n    }\n    REP(i, N){\n      cin >> x[i];\n    }\n    REP(i, 20005){\n      REP(j, 258){\n        dp[i][j] = INF;\n      }\n    }\n    dp[0][128] = 0;\n    REP(i, N){\n      REP(j, 256){\n        if(dp[i][j] == INF) continue;\n        REP(k, M){\n          int nx = max(0, min(255, j+C[k]));\n          dp[i+1][nx] = min(dp[i+1][nx], dp[i][j] + square(x[i]-nx));\n        }\n      }\n    }\n    ll ans = INF;\n    REP(i, 256){\n      ans = min(ans, dp[N][i]);\n    }\n    cout << ans << endl;\n  }\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing ll = long long;\nconst ll MOD = 1e9 + 7;\nconst ll INF = 1LL << 40;\n#define rep(i, n) for (ll i = 0; i < (n); i++)\n#define debug(x) cerr << #x << \": \" << x << endl;\ntemplate<typename T1,typename T2> inline void chmin(T1 &a,T2 b){if(a>b) a=b;}\ntemplate<typename T1,typename T2> inline void chmax(T1 &a,T2 b){if(a<b) a=b;}\n\nll dp[22000][300];\n\nint main() {\n    ll N, M;\n    while(cin >> N >> M) {\n        if(N == 0 && M == 0) return 0;\n\n        vector<ll> C(M), x(N);\n        rep(i, M) cin >> C[i];\n        rep(i, N) cin >> x[i];\n\n        rep(i, 22000) rep(j, 300) dp[i][j] = INF;\n        dp[0][128] = 0;\n\n        rep(i, N) rep(j, 256) {\n            rep(k, M) {\n                if(j + C[k] < 0) chmin(dp[i+1][0], dp[i][j] + x[i]*x[i]);\n                else if(j + C[k] > 255) chmin(dp[i+1][255], dp[i][j] + (255-x[i])*(255-x[i]));\n                else chmin(dp[i+1][j+C[k]], dp[i][j] + (j+C[k]-x[i])*(j+C[k]-x[i]));\n            }\n        }\n        ll ans = INF;\n        rep(j, 256) chmin(ans, dp[N][j]);\n        cout << ans << endl;\n    }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <utility>\n#include <queue>\n\nint solve(int N, int M) {\n  std::vector<int> data(N);\n  std::vector<int> codes(M);\n  for (int i = 0; i < M; i++) {\n    std::cin >> codes[i];\n  }\n  for (int i = 0; i < N; i++) {\n    std::cin >> data[i];\n  }\n\n  struct Traverse {\n    int n;\n    int y;\n    int diff;\n  };\n  auto compare = [](Traverse const& lhs, Traverse const& rhs) {\n    return lhs.diff > rhs.diff;\n  };\n  std::priority_queue<Traverse, std::vector<Traverse>, decltype(compare)> queue(compare);\n  queue.push(Traverse{0, 128, 0});\n\n  while(!queue.empty()) {\n    auto node = queue.top();\n    queue.pop();\n    if (node.n == N) {\n      return node.diff;\n    }\n    for (auto code : codes) {\n      int new_y = node.y + code;\n      new_y = new_y < 0 ? 0 : new_y > 255 ? 255 : new_y;\n      int diff = (new_y - data[node.n]) * (new_y - data[node.n]);\n      queue.push(Traverse{node.n + 1, new_y, node.diff + diff});\n    }\n  }\n}\n\nint main() {\n  int N, M;\n  while (std::cin >> N >> M) {\n    if (N == 0 && M == 0) {\n      break;\n    }\n    std::cout << solve(N, M) << std::endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdlib>\n#include <cmath>\n#include <climits>\n#include <cfloat>\n#include <map>\n//#include <utility>\n#include <set>\n#include <iostream>\n//#include <memory>\n#include <string>\n#include <vector>\n#include <algorithm>\n//#include <functional>\n#include <sstream>\n//#include <deque>\n#include <complex>\n#include <stack>\n#include <queue>\n#include <cstdio>\n//#include <cctype>\n#include <cstring>\n//#include <ctime>\n#include <iterator>\n#include <bitset>\n//#include <numeric>\n//#include <list>\n//#include <iomanip>\n\n#if __cplusplus >= 201103L\n#include <array>\n#include <tuple>\n#include <initializer_list>\n#include <unordered_set>\n#include <unordered_map>\n#include <forward_list>\n\n#define cauto const auto&\n#else\n\n#endif\n\nusing namespace std;\n\n\nnamespace{\ntypedef long long ll;\ntypedef pair<int,int> pii;\ntypedef pair<ll,ll> pll;\n\ntypedef vector<int> vint;\ntypedef vector<vector<int> > vvint;\ntypedef vector<long long> vll, vLL;\ntypedef vector<vector<long long> > vvll, vvLL;\n\n#define VV(T) vector<vector< T > >\n\ntemplate <class T>\nvoid initvv(vector<vector<T> > &v, int a, int b, const T &t = T()){\n    v.assign(a, vector<T>(b, t));\n}\n\ntemplate <class F, class T>\nvoid convert(const F &f, T &t){\n    stringstream ss;\n    ss << f;\n    ss >> t;\n}\n\n\n#define reep(i,a,b) for(int i=(a);i<(b);++i)\n#define rep(i,n) reep((i),0,(n))\n#define ALL(v) (v).begin(),(v).end()\n#define PB push_back\n#define F first\n#define S second\n#define mkp make_pair\n#define RALL(v) (v).rbegin(),(v).rend()\n\n\n#define MOD 1000000007LL\n#define EPS 1e-8\nstatic const int INF=1<<24;\n/*\n2\n8\n0\n325125\n65026\n*/\nvint dp(256,0);\nvoid mainmain(){\n\tint n,m;\n\twhile(cin>>n>>m,n||m){\n\t\tvint c(m),x(n);\n\t\trep(i,m) cin>>c[i];\n\t\trep(i,n) cin>>x[i];\n\t\trep(i,256) dp[i]=INF;\n\t\tdp[128]=0;\n\t\trep(i,n){\n\t\t\tvint tmp(256,INF);\n\t\t\trep(j,m){\n\t\t\t\trep(k,256){\n\t\t\t\t\tint t=k+c[j];\n\t\t\t\t\tif(t<0) tmp[0]=min(tmp[0],dp[k]);\n\t\t\t\t\telse if(t>255) tmp[255]=min(tmp[255],dp[k]);\n\t\t\t\t\telse tmp[t]=min(tmp[t],dp[k]);\n\t\t\t\t}\n\t\t\t}\n\t\t\trep(j,256){\n\t\t\t\tif(tmp[j]==INF) continue;\n\t\t\t\ttmp[j]+=(j-x[i])*(j-x[i]);\n\t\t\t}\n\t\t\tdp=tmp;\n\t\t\t// rep(i,256) cout<<i<<\" \"<<dp[i]<<endl;\n\t\t\t// cout<<endl;\n\t\t}\n\t\tint ans=INF;\n\t\trep(i,256){\n\t\t\tans=min(ans,dp[i]);\n\t\t}\n\t\tcout<<ans<<endl;\n\t}\n}\n\n\n\n}\nmain() try{\n    mainmain();\n}\ncatch(...){\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\nconst int inf=1e8;\n\nvoid hoge(int N, int M){\n\n   int c[M];\n   for(int i=0; i<M; i++) cin>> c[i];\n   int x[N];\n   for(int i=0; i<N; i++) cin>> x[i];\n   int memo[N+1][256];\n   for(int i=0; i<N+1; i++){\n      for(int j=0; j<256; j++){\n         memo[i][j]=inf;\n      }\n   }\n\n   memo[0][128]=0;\n   for(int i=0; i<N; i++){\n      for(int j=0; j<256; j++){\n         for(int k=0; k<M; k++){\n            int p=max(0, min(255, j+c[k]));\n            memo[i+1][p]=min(memo[i][j]+(p-x[i])*(p-x[i]), memo[i+1][p]);\n         }\n      }\n   }\n   int mi=1e8;\n   for(int j=0; j<256; j++) mi=min(mi, memo[N][j]);\n   cout<< mi<< endl;\n\n}\n\n\nint main(){\n\n   while(1){\n      int N, M;\n      cin>> N>> M;\n      if(!(N||M)) break;\n      hoge(N, M);\n   }\n   return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<cmath>\n#define inf (1<<29)\n#define REP(i,s,n) for(int i=s;i<n;i++)\n#define rep(i,n) REP(i,0,n)\nusing namespace std;\nint N,M;\nint C[17];\nint x[20010];\nint dp[20010][256];\n\nint main()\n{\n  while(cin >> N >> M,N|M)\n    {\n      REP(i,1,M+1)cin >> C[i];\n      REP(i,1,N+1)cin >> x[i];\n      rep(i,20010)rep(j,256)dp[i][j] = inf;\n      dp[0][128] = 0;\n\n      rep(i,N+1)\n\t{\n\t  REP(j,1,M+1)\n\t    {\n\t      rep(k,256)\n\t\t{\n\t\t  if(dp[i][k] == inf)continue;\n\t\t  int value = k+C[j];\n\t\t  if(value < 0)value = 0;\n\t\t  else if(value > 255)value = 255;\n\t\t  dp[i+1][value] = min(dp[i+1][value],\n\t\t\t\t       dp[i][k]+(x[i+1]-value)*(x[i+1]-value));\n\t\t}\n\t    }\n\t}\n\n      int men = inf;\n      rep(i,256)men = min(men,dp[N][i]);\n      cout << men << endl;\n    }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n\nusing namespace std;\n\nconst int MAX_N = 20000;\nconst int MAX_M = 16;\nconst int INF = 1e9;\nconst int y0 = 128;\nint N, M;\nint C[MAX_M + 1], x[MAX_N + 1];\nint dp[MAX_N + 10][260];\n\nint main()\n{\n    while (cin >> N >> M, N || M) {\n        // Input\n        for (int i = 0; i < M; ++i)\n            cin >> C[i];\n        for (int i = 0; i < N; ++i)\n            cin >> x[i];\n\n        // Init\n        for (int i = 0; i <= N; ++i)\n            fill(dp[i], dp[i] + 260, INF);\n        for (int i = 0; i <= 255; ++i)\n            dp[0][i] = 0;\n\n        // Solve\n        for (int n = 0; n < N; ++n) {\n            for (int y = 0; y <= 255; ++y) {\n                for (int i = 0; i < M; ++i) {\n                    int next_y = y + C[i];\n                    if (next_y < 0)\n                        next_y = 0;\n                    else if (next_y > 255)\n                        next_y = 255;\n\n                    dp[n + 1][next_y] = min(dp[n + 1][next_y],\n                                            dp[n][y] + (x[n] - next_y) * (x[n] - next_y));\n                }\n            }\n        }\n\n        int ans = INF;\n        for (int i = 0; i <= 255; ++i)\n            ans = min(ans, dp[N][i]);\n\n        cout << ans << endl;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n\n#define IF 3040401\n#define lengthof(x) (sizeof(x) / sizeof(*(x)))\n\nusing namespace std;\n\nint main(int argc, char const *argv[])\n{\n\tint n,m;\n\tint dp[1<<8][2];\n\tint min_;\n\n\twhile(1){\n\t\tcin>>n>>m;\n\t\tif(n+m==0) break;\n\n\t\tvector<int> cb(m);\n\t\tvector<int> x(n);\n\t\tfor(int i1=0;i1<m;i1++){\n\t\t\tcin>>cb[i1];\n\t\t}\n\n\t\tfor(int i1=0;i1<n;i1++){\n\t\t\tcin>>x[i1];\n\t\t}\n\n\t\tfill((int*)dp,(int *)(dp+lengthof(dp)),IF);\n\n\t\tdp[128][0]=0;\n\t\tfor(int i1=0;i1<n;i1++){\n\t\t\tfor(int i2=0;i2<(1<<8);i2++){\n\t\t\t\tif(dp[i2][i1%2]!=IF){\n\n\t\t\t\t\tfor(int i3=0;i3<m;i3++){\n\t\t\t\t\t\tint temp=i2+cb[i3];\n\t\t\t\t\t\tif(temp<0) temp=0;\n\t\t\t\t\t\tif(temp>255) temp=255;\n\t\t\t\t\t\tdp[temp][(i1+1)%2]=min(dp[temp][(i1+1)%2],dp[i2][i1%2]+(temp-x[i1])*(temp-x[i1]));\n\t\t\t\t\t}\n\t\t\t\t\tdp[i2][i1%2]=IF;\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\t\tmin_=IF;\n\t\tfor(int i1=0;i1<(1<<8);i1++){\n\t\t\tmin_=min(min_,dp[i1][n%2]);\n\t\t}\n\n\t\tcout<<min_<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <climits>\nusing namespace std;\n\n#define INF 1 << 24\n#define SQUARE(n) ((n)*(n))\ntypedef long INT;\ntypedef vector <int> VI;\ntypedef vector <VI> VVI;\n\nint main( void )\n{\n\tint n, m; // N: üÍM, M: R[hubNÌ·³\n\twhile ( cin >> n >> m && n && m )\n\t{\n\t\t// üÍ\n\t\tVI C(m);\n\t\tfor ( int i = 0; i < m; i++ )\n\t\t{\n\t\t\tcin >> C[i];\n\t\t}\n\t\tVI x(n);\n\t\tfor ( int i = 0; i < n; i++ )\n\t\t{\n\t\t\tcin >> x[i];\n\t\t}\n\n\t\tVVI  dp = VVI( n+1, VI( 256, INF ) );\n\t\tdp[0][128] = 0;\n\n\t\tfor ( int k = 1; k <= n; k++ )\n\t\t{\n\t\t\tfor ( int i = 0; i < 256; i++ )\n\t\t\t{\n\t\t\t\tfor ( int j = 0; j < m; j++ )\n\t\t\t\t{\n\t\t\t\t\tint next = i + C[j];\n\t\t\t\t\tnext = next < 0 ? 0 : next;\n\t\t\t\t\tnext = next > 255 ? 255 : next;\n\t\t\t\t\tdp[k][next] = min( dp[k][next], dp[k-1][i] + SQUARE( next - x[k-1] ) );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tint answer = INF;\n\t\tfor ( int i = 0; i < 256; i++ ) answer = min( answer, dp[n][i] );\n\t\tcout << answer << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define rep(n) for(int i=0;i<n;i++)\n#define repp(j, n) for(int j=0;j<n;j++)\n#define reppp(i, m, n) for(int i=m;i<n;i++)\n#define all(c) c.begin(), c.end()\n#define rall(c) c.rbegin(), c.rend()\n#define debug(x) cerr << #x << \": \" << x << endl\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<ll, ll> Pll;\ntypedef pair<int, int> Pii;\nstruct Edge{int from, to; ll cost;};\n\nconst ll MOD = 1000000007;\nconst long double EPS = 10e-10;\n\n\nint main(){\n    int n,m;\n    while(scanf(\"%d%d\", &n, &m) && n){\n        ll x[n+1], c[m], dp[n+2][256];\n        rep(m) scanf(\"%lld\", &c[i]);\n        x[0] = 128;\n        rep(n) scanf(\"%lld\", &x[i+1]);\n\n        fill(dp[0], dp[n+2], LLONG_MAX);\n        dp[0][128] = 0LL;\n        rep(n){\n            repp(j, 256){\n                if(dp[i][j] == LLONG_MAX) continue;\n                repp(k, m){\n                    ll jj = max(0LL, min(255LL, j+c[k]));\n                    ll diff = jj - x[i+1];\n                    dp[i+1][jj] = min(dp[i+1][jj], dp[i][j] + diff*diff);\n                }\n            }\n        }\n\n        ll ans = LLONG_MAX;\n        repp(j, 256) ans = min(ans, dp[n][j]);\n        printf(\"%lld\\n\", ans);\n    }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nconst long long INF = 1e10;\n\nint main() {\n    int N, M;\n    while (cin >> N >> M, N) {\n        vector<int> C(M);\n        for (int i=0; i<M; ++i) cin >> C[i];\n        vector<int> x(N);\n        for (int i=0; i<N; ++i) cin >> x[i];\n\n        vector<long long> cost(256, INF);\n        cost[128] = 0;\n        for (int i=0; i<N; ++i) {\n            vector<long long> cost2(256, INF);\n            for (int cd: C) {\n                for (int k=0; k<256; ++k) {\n                    int kk = max(min(k+cd, 255), 0);\n                    cost2[kk] = min(cost2[kk], cost[k] + (kk - x[i]) * (kk - x[i]));\n                }\n            }\n            cost = cost2;\n        }\n\n        long long ans = *min_element(cost.begin(), cost.end());\n        cout << ans << endl;\n    }\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define rep(i,n) REP(i,0,n)\n#define REP(i,s,e) for(int i=(s); i<(int)(e); i++)\n#define repr(i, n) REPR(i, n, 0)\n#define REPR(i, s, e) for(int i=(int)(s-1); i>=(int)(e); i--)\n#define pb push_back\n#define all(r) r.begin(),r.end()\n#define rall(r) r.rbegin(),r.rend()\n#define fi first\n#define se second\n\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<ll> vl;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\n\nconst ll INF = 1e18;\nconst ll MOD = 1e9 + 7;\nconst double EPS = 1e-8;\n\ntemplate<typename T> T chmax(T& a, const T& b){return a = (a > b ? a : b);}\ntemplate<typename T> T chmin(T& a, const T& b){return a = (a < b ? a : b);}\n\nvoid solve() {\n    int n, m;\n    cin >> n >> m;\n    if(n == 0 && m == 0) exit(0);\n    vi c(m);\n    rep(i, m) cin >> c[i];\n    vi x(n);\n    rep(i, n) cin >> x[i];\n    vl cur(256, INF);\n    cur[128] = 0;\n    rep(i, n) {\n        vl nxt(cur.size(), INF);\n        rep(j, 256) rep(k, m) {\n            int y = j + c[k];\n            if(y < 0) y = 0;\n            if(y > 255) y = 255;\n            chmin(nxt[y], cur[j] + (x[i] - y)*(x[i] - y));\n        }\n        swap(cur, nxt);\n    }\n    cout << *min_element(all(cur)) << endl;\n}\n\nint main(){\n    while(1) solve();\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n\n#define INF (1 << 29)\n\n#define MAX_N 20000\n#define MAX_M 16\n\nusing namespace std;\n\nint N, M, C[MAX_M], X, dp[MAX_N + 1][256];\n\nint main()\n{\n\twhile (true)\n\t{\n\t\tfor (int i = 0; i < MAX_N + 1; i++)\n\t\t{\n\t\t\tfor (int j = 0; j < 256; j++)\n\t\t\t{\n\t\t\t\tdp[i][j] = INF;\n\t\t\t}\n\t\t}\n\n\t\tdp[0][128] = 0;\n\n\t\tcin >> N >> M;\n\n\t\tif (N == 0 && M == 0) { break; }\n\n\t\tfor (int i = 0; i < M; i++) { cin >> C[i]; }\n\n\t\tfor (int i = 1; i <= N; i++)\n\t\t{\n\t\t\tcin >> X;\n\n\t\t\tfor (int j = 0; j < 256; j++)\n\t\t\t{\n\t\t\t\tint sabun = (X - j) * (X - j);\n\n\t\t\t\tfor (int k = 0; k < M; k++)\n\t\t\t\t{\n\t\t\t\t\tint ptr = j - C[k];\n\n\t\t\t\t\tif (ptr < 0) { ptr = 0; }\n\t\t\t\t\tif (ptr > 255) { ptr = 255; }\n\n\t\t\t\t\tdp[i][j] = min(dp[i][j], dp[i - 1][ptr] + sabun);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcout << *min_element(dp[N], dp[N] + 256) << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\n// macro\n#define rep(i,n) for(i=0;i<n;i++)\n#define ll long long\n#define all(v) v.begin(), v.end()\n\n// code starts\n#define INF 1876543210\n\nint main()\n{\n  int n,m;cin>>n>>m;\n  while(n!=0&&m!=0)\n  {\n    vector<int> c(m);\n    vector<int> x(n);\n    int i,j,k;\n    rep(i,m)cin>>c[i];\n    rep(i,n)cin>>x[i];\n    vector<vector<int>> dp(n+1,vector<int>(256,INF));\n    dp[0][128]=0;\n    rep(i,n)rep(j,256)rep(k,m)\n    {\n      int aft=j+c[k];\n      if(aft>255)aft=255;\n      if(aft<0)aft=0;\n      int add=(x[i]-aft);\n      dp[i+1][aft]=min(dp[i+1][aft],dp[i][j]+add*add);\n    }\n    int ans=INF;\n    rep(i,256)ans=min(ans,dp[n][i]);\n    cout<<ans<<endl;\n    cin>>n>>m;\n  }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n\nusing namespace std;\n\n#define MAX_M 16\n#define MAX_N 20000\n#define INF 1e8\n\nint N, M, C[MAX_M], x[MAX_N];\nint dp[MAX_N][256];\n\nint main(){\n  while(cin >> N >> M , (N | M)){\n    for(int i = 0 ; i < M ; i++){\n      cin >> C[i];\n    }\n \n    for(int i = 0 ; i < N ; i++){\n      cin >> x[i];\n    }\n    int ans = INF;\n    fill(dp[0], dp[MAX_N], INF);\n    dp[0][128] = 0;\n    for(int i = 0 ; i < N ; i++){\n      for(int j = 0 ; j <= 255 ; j++){\n        for(int k = 0 ; k < M ; k++){\n          int t = j + C[k];\n          if(t < 0) t = 0;\n          if(t > 255) t = 255;\n          dp[i+1][t] = min(dp[i+1][t], dp[i][j] + (t-x[i])*(t-x[i]));\n        }\n      }\n    }\n    for(int i = 0 ; i <= 255 ; i++){\n      ans = min(ans, dp[N][i]);\n    } \n    cout << ans << endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n \nusing namespace std;\n \n#define MAX_M 16\n#define MAX_N 20010\n#define INF 1e8\n \nint N, M, C[MAX_M], x[MAX_N];\nint dp[MAX_N][256];\n \nint main(){\n    while(cin >> N >> M , (N | M)){\n\tfor(int i = 0 ; i < M ; i++){\n\t    cin >> C[i];\n\t}\n  \n\tfor(int i = 1 ; i <= N ; i++){\n\t    cin >> x[i];\n\t}\n\tint ans = INF;\n\tfill(dp[0], dp[MAX_N], INF);\n\tdp[0][128] = 0;\n\tfor(int i = 1 ; i <= N ; i++){\n\t    for(int j = 0 ; j <= 255 ; j++){\n\t\tfor(int k = 0 ; k < M ; k++){\n\t\t    int t = j + C[k];\n\t\t    if(t < 0) t = 0;\n\t\t    if(t > 255) t = 255;\n\t\t    dp[i][t] = min(dp[i][t], dp[i-1][j] + (t-x[i])*(t-x[i]));\n\t\t}\n\t    }\n\t}\n\tfor(int i = 0 ; i <= 255 ; i++){\n\t    ans = min(ans, dp[N][i]);\n\t} \n\tcout << ans << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "//include\n//------------------------------------------\n#include <vector>\n#include <list>\n#include <map>\n#include <set>\n#include <deque>\n#include <stack>\n#include <bitset>\n#include <algorithm>\n#include <functional>\n#include <numeric>\n#include <utility>\n#include <sstream>\n#include <iostream>\n#include <iomanip>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <cctype>\n#include <string>\n#include <cstring>\n#include <ctime>\n#include <climits>\n#include <queue>\n\nusing namespace std;\n\n//typedef\n//------------------------------------------\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<string> VS;\ntypedef pair<int, int> PII;\ntypedef long long LL;\n\n//container util\n//------------------------------------------\n#define ALL(a)  (a).begin(),(a).end()\n#define RALL(a) (a).rbegin(), (a).rend()\n#define PB push_back\n#define MP make_pair\n#define SZ(a) int((a).size())\n#define EACH(i,c) for(typeof((c).begin()) i=(c).begin(); i!=(c).end(); ++i)\n#define EXIST(s,e) ((s).find(e)!=(s).end())\n#define SORT(c) sort((c).begin(),(c).end())\n\n//repetition\n//------------------------------------------\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n)  FOR(i,0,n)\n\n//constant\n//--------------------------------------------\nconst double EPS = 1e-10;\nconst double PI  = acos(-1.0);\n\nint main(){\n  cin.tie(0);\n  ios_base::sync_with_stdio(false);\n\n  int N, M;\n  while(cin>>N>>M,N){\n\tVI C(M); REP(i,M)cin>>C[i];\n\tint t = 0;\n\tvector< vector<LL> > calc(2, vector<LL>(256, 1234567890));\n\tcalc[t][128] = 0;\n\tREP(i,N){\n\t  int x; cin >> x;\n\t  fill(ALL(calc[1-t]), 1234567890);\n\t  REP(j,M){\n\t\tREP(b,256){\n\t\t  int d = max(0, min(255, b+C[j]));\n\t\t  calc[1-t][d] = min(calc[1-t][d], calc[t][b] + (x-d)*(x-d));\n\t\t}\n\t  }\n\t  t = 1-t;\n\t}\n\tLL ans = 1234567890;\n\tREP(i,256)\n\t  ans = min(ans, calc[t][i]);\n\tcout << ans << endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define inf 1e9\n#define ll long long\n#define ull unsigned long long\n#define M 1000000007\n#define P pair<int,int>\n#define PLL pair<ll,ll>\n#define FOR(i,m,n) for(int i=m;i<n;i++)\n#define RFOR(i,m,n) for(int i=m;i>=n;i--)\n#define rep(i,n) FOR(i,0,n)\n#define rrep(i,n) RFOR(i,n,0)\n#define all(a) a.begin(),a.end()\nconst int vx[4] = {0,1,0,-1};\nconst int vy[4] = {1,0,-1,0};\n#define PI 3.14159265\n\n\n\nvoid f(int n,int m){\n  int c[1000000];\n  \n  rep(i,m){\n    cin>>c[i];\n  }\n\n  int dp[21000][300]={};\n  rep(i,21000){\n    rep(j,300){\n      dp[i][j]=inf;\n    }\n  }\n\n  dp[0][128]=0;\n\n  FOR(i,1,n+1){\n    int x;\n    cin>>x;\n    rep(j,256){\n      rep(k,m){\n        int a = j+c[k];\n        a = min(a,255);\n        a = max(a,0);\n        dp[i][a]=min(dp[i][a],dp[i-1][j]+(x-a)*(x-a));\n      }\n    }\n  }\n  int ans = inf;\n  rep(i,256){\n    ans = min(ans,dp[n][i]);\n  }\n\n  cout<<ans<<endl;\n}\n\n\nint main(){\n  int n,m;\n  while(1){\n    cin>>n>>m;\n    if(n==0) break;\n    f(n,m);\n  }\n\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define inf 1e9\n#define ll long long\n#define ull unsigned long long\n#define M 1000000007\n#define P pair<int,int>\n#define PLL pair<ll,ll>\n#define FOR(i,m,n) for(int i=m;i<n;i++)\n#define RFOR(i,m,n) for(int i=m;i>=n;i--)\n#define rep(i,n) FOR(i,0,n)\n#define rrep(i,n) RFOR(i,n,0)\n#define all(a) a.begin(),a.end()\nconst int vx[4] = {0,1,0,-1};\nconst int vy[4] = {1,0,-1,0};\n#define PI 3.14159265\n\nint dp[21000][300];\n\nvoid f(int n,int m){\n\n  rep(i,n+1){\n    rep(j,300){\n      dp[i][j] = inf;\n    }\n  }\n  int c[1000];\n  rep(i,m){\n    cin>>c[i];\n  }\n\n  dp[0][128]=0;\n\n  FOR(i,1,n+1){\n    int x;\n    cin>>x;\n    rep(j,256){\n      rep(k,m){\n        int a = j+c[k];\n        a = min(255,a);\n        a = max(0,a);\n        int d = (a-x)*(a-x);\n        dp[i][a] = min(dp[i][a],dp[i-1][j]+d);\n      }\n    }\n\n  }\n  int ans = inf;\n  rep(i,256){\n    ans = min(ans,dp[n][i]);\n  }\n\n  cout<<ans<<endl;\n\n}\n\nint main(){\n  while(1){\n    int n,m;\n    cin>>n>>m;\n    if(n==0&&m==0) break;\n    f(n,m);\n  }\n\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <stdio.h>\n#include <algorithm>\nusing namespace std;\n//方針：DP\nint min(int p, int q){\n\tif (p < q) return p;\n\treturn q;\n}\nint rss(int p, int q){\n\treturn (p - q)*(p - q);\n}\nint limit(int i) {\n\tif (i > 255) return 255;\n\tif (i < 0) return 0;\n\treturn i;\n}\nint main(void){\n//\tFILE* fp_in = freopen(\"data.txt\", \"r\", stdin);\n \n\tvector< vector< int > > dp;\n\tvector<int> dpp;\n\tfor (int i = 0; i < 20001; i++)\n\t\tdpp.push_back(1 << 30);\n\tfor (int i = 0; i < 257; i++)\n\t\tdp.push_back(dpp);\n \n\twhile (1){\n\t\tint N, M;\n\t\tvector<int> c, x;\n\t\tscanf(\"%d%d\", &N, &M);\n\t\tif (N == 0 && M == 0) break;\n\t\tfor (int i = 0; i < M; i++) {\n\t\t\tint tmp;\n\t\t\tscanf(\"%d\",&tmp);\n\t\t\tc.push_back(tmp);\n\t\t}\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\tint tmp;\n\t\t\tscanf(\"%d\",&tmp);\n\t\t\tx.push_back(tmp);\n\t\t}\n\t\t\n\t\tfor (int i = 0; i < 256; i++)\n\t\t\tfor (int j = 0; j < 20001; j++)\n\t\t\t\tdp[i][j] = 1 << 30;\n  \n\t\tfor (int i = 0; i < M; i++) {\n\t\t\tdp[limit(128 + c[i])][1] = rss(limit(128+c[i]), x[0]);\n\t\t}\n\n\t\tfor (int i = 1; i < N; i++)\n\t\t\tfor (int j = 0; j < M; j++)\n\t\t\t\tfor(int k = 0; k < 256; k++)\n\t\t\t\t\tdp[limit(k + c[j])][i+1] = min( dp[k][i] + rss(limit(k+c[j]), x[i]) , dp[limit(k+c[j])][i+1]);\n\n\t\tint ans = 1 << 30;\n\t\tfor (int i = 0; i < 256; i++)\n\t\t\tif (dp[i][N] < ans) ans = dp[i][N];\n   \n\t\tcout << ans << endl;\n }\n \n// while (1){}\n return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\n#include<stack>\n#include<map>\n#include<set>\n#include<queue>\n#include<cstdio>\n#include<climits>\n#include<cmath>\n#include<cstring>\n#include<string>\n#include<sstream>\n#include<numeric>\n#include<cassert>\n\n#define f first\n#define s second\n#define mp make_pair\n\n#define REP(i,n) for(int i=0; i<(int)(n); i++)\n#define rep(i,s,n) for(int i=(s); i<(int)(n); i++)\n#define FOR(i,c) for(__typeof((c).begin()) i=(c).begin(); i!=(c).end(); i++)\n#define ALL(c) (c).begin(), (c).end()\n#define IN(x,s,g) ((x) >= (s) && (x) < (g))\n#define ISIN(x,y,w,h) (IN((x),0,(w)) && IN((y),0,(h)))\n#define print(x) printf(\"%d\\n\",x)\n\nusing namespace std;\n\ntypedef unsigned int uint;\ntypedef long long ll;\n\nconst int _dx[] = {0,1,0,-1};\nconst int _dy[] = {-1,0,1,0};\n\nint getInt(){\n  int ret = 0,c;\n  c = getchar();\n  while(!isdigit(c)) c = getchar();\n  while(isdigit(c)){\n    ret *= 10;\n    ret += c - '0';\n    c = getchar();\n  }\n  return ret;\n}\n\nint c[16];\nint x[20000];\nint n,m;\n\nint memo[20000][256];\n\nint solve(int now, int prev, int kabe){\n  if(now == n) return 0;\n  if(memo[now][prev]!=-1) return memo[now][prev];\n\n  int ret = INT_MAX;\n  REP(i,m){\n    int t = min(255,max(0,prev + c[i]));\n    int g = (t - x[now]) * (t - x[now]);\n    if(kabe - g > 0){\n      ret = min(ret, g + solve(now+1, t, kabe - g));\n    }\n  }\n  return memo[now][prev] = ret;\n}\n\nint main(){\n  while(scanf(\"%d%d\",&n,&m), n+m){\n    REP(i,m) scanf(\"%d\",c+i);\n    REP(i,n) scanf(\"%d\",x+i);\n    memset(memo,-1,sizeof(memo));\n    printf(\"%d\\n\",solve(0,128,INT_MAX));\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#define rep(i, n) for(i = 0; i < n; i++)\n#define int long long\nusing namespace std;\n\nvoid chmin(int &a, int b) { a = min(a, b); }\n\nint INF = 1e+15;\nint n, m;\nint c[16];\nint x[20000];\nint dp[20001][256];\n\nsigned main() {\n\tint i, j, k;\n\t\n\twhile (cin >> n >> m) {\n\t\tif (!n) break;\n\t\trep(i, m) cin >> c[i];\n\t\trep(i, n) cin >> x[i];\n\t\t\n\t\trep(i, n + 1) rep(j, 256) dp[i][j] = INF;\n\t\tdp[0][128] = 0;\n\t\t\n\t\trep(i, n) {\n\t\t\trep(j, 256) {\n\t\t\t\trep(k, m) {\n\t\t\t\t\tint y = j + c[k];\n\t\t\t\t\tif (y < 0) y = 0;\n\t\t\t\t\tif (y > 255) y = 255;\n\t\t\t\t\tchmin(dp[i + 1][y], dp[i][j] + (x[i] - y) * (x[i] - y));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tint ans = INF;\n\t\trep(i, 256) chmin(ans, dp[n][i]);\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define int long long\n#define ll long long\n#define fi first\n#define se second\n#define pb push_back\n#define rep(i, s, n) for (int i = s; i < n; i++)\n#define rrep(i, s, n) for (int i = (n)-1; i >= (s); i--)\n#define REP(i,n) for(int i = 0;i < n; i++)\n#define all(a) a.begin(),a.end()\ntypedef pair<int,int>pint;\ntypedef vector<int>vint;\ntypedef vector<pint>vpint;\nconst long long MOD = 1000000007, INF = 1e18;\n \n#define endl '\\n'\n#define IOS() ios_base::sync_with_stdio(0);cin.tie(0)\n \ntemplate<class T>inline bool chmax(T& a,T b){if(a<b){a=b;return true;}return false;}\ntemplate<class T>inline bool chmin(T& a,T b){if(a>b){a=b;return true;}return false;}\ntemplate<typename T>vector<T>\nmake_v(size_t a){return vector<T>(a);}\ntemplate<typename T,typename... Ts>\nauto make_v(size_t a,Ts... ts){\n\treturn vector<decltype(make_v<T>(ts...))>(a,make_v<T>(ts...));\n}\n \ntemplate<typename T,typename V>\ntypename enable_if<is_class<T>::value==0>::type\nfill_v(T &t,const V &v){t=v;}\n \ntemplate<typename T,typename V>\ntypename enable_if<is_class<T>::value!=0>::type\nfill_v(T &t,const V &v){\n\tfor(auto &e:t) fill_v(e,v);\n}\n\n/*bool operator<(const data &d)const{\n\treturn hoge;\n}*/\n \nconst int dx[]={0,1,1,-1,-1,0};\nconst int dy[]={1,1,0,0,-1,-1};\nset<char>vowel={'a','i','u','e','o'};\n\nint marume(int x){\n\tif(x>255)return 255;\n\tif(x<=0)return 0;\n\treturn x;\n}\n \nsigned main(){\n\tIOS();\n\tint N,M;\n\tvector<int>ans;\n\twhile(cin>>N>>M,N||M){\n\t\tvector<int>c(M),x(N);\n\t\tREP(i,M)cin>>c[i];\n\t\tREP(i,N)cin>>x[i];\n\t\tvector<int>dp(256,INF);\n\t\tdp[128] = 0;\n\t\trep(i,0,N){\n\t\t\tvector<int>ndp(256,INF);\n\t\t\trep(j,0,256){\n\t\t\t\tif(dp[j]==INF)continue;\n\t\t\t\trep(k,0,M){\n\t\t\t\t\tint t =max(0ll,min(255ll,j+c[k]));\n\t\t\t\t\tchmin(ndp[t],dp[j]+(t-x[i])*(t-x[i]));\n\t\t\t\t}\n\t\t\t}\n\t\t\tswap(dp,ndp);\n\t\t}\n\t\tans.push_back(*min_element(all(dp)));\n\t}\n\tfor(auto e:ans){\n\t\tcout<<e<<endl;\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<climits>\n#include<algorithm>\nusing namespace std;\n\nint main()\n{\n    int n, m;\n    while(cin>>n>>m, n|m) {\n        vector<long long int> c(m), x(n);\n        for(int i=0; i<m; i++) cin>>c[i];\n        for(int i=0; i<n; i++) cin>>x[i];\n        vector< vector<long long int> > dp(n+1, vector<long long int>(255+1, LONG_LONG_MAX/2));\n        dp[0][128] = 0;\n        for(int i=0; i<n; i++) {\n            for(int j=0; j<=255; j++) {\n                for(int k=0; k<m; k++) {\n                    int l = j+c[k];\n                    if(l < 0) l = 0;\n                    if(255 < l) l = 255;\n                    dp[i+1][l] = min(dp[i+1][l], dp[i][j]+(x[i]-l)*(x[i]-l));\n                }\n            }\n        }\n        cout<<*(min_element(dp[n].begin(), dp[n].end()))<<endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n\n#define IF 3040401\n#define lengthof(x) (sizeof(x) / sizeof(*(x)))\n\nusing namespace std;\n\nint main(int argc, char const *argv[])\n{\n\tint n,m;\n\tint dp[1<<8][2];\n\tint min_;\n\n\twhile(1){\n\t\tcin>>n>>m;\n\t\tif(n+m==0) break;\n\n\t\tvector<int> cb(m);\n\t\tvector<int> x(n);\n\t\tfor(int i1=0;i1<m;i1++){\n\t\t\tcin>>cb[i1];\n\t\t}\n\n\t\tfor(int i1=0;i1<n;i1++){\n\t\t\tcin>>x[i1];\n\t\t}\n\n\t\tfill((int*)dp,(int *)(dp+lengthof(dp)),IF);\n\n\t\tdp[128][0]=0;\n\t\tfor(int i1=0;i1<n;i1++){\n\t\t\tfor(int i2=0;i2<(1<<8);i2++){\n\t\t\t\tif(dp[i2][i1%2]!=IF){\n\n\t\t\t\t\tfor(int i3=0;i3<m;i3++){\n\t\t\t\t\t\tint temp=i2+cb[i3];\n\t\t\t\t\t\tif(temp<0) temp=0;\n\t\t\t\t\t\tif(temp>255) temp=255;\n\t\t\t\t\t\tdp[temp][(i1+1)%2]=min(dp[temp][(i1+1)%2],dp[i2][i1%2]+(temp-x[i1])*(temp-x[i1]));\n\t\t\t\t\t}\n\t\t\t\t\tdp[i2][i1%2]=IF;\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\t\tmin_=IF;\n\t\tfor(int i1=0;i1<(1<<8);i1++){\n\t\t\tmin_=min(min_,dp[i1][n%2]);\n\t\t}\n\n\t\tcout<<min_<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nstatic const int MAX_N = 20000;\nstatic const int MAX_M = 16;\nstatic const int MAX_Y = 256;\nstatic const int INF = 1 << 30;\n\nint N, M;\nint C[MAX_M], x[MAX_N];\n\nint memo[MAX_Y][MAX_N + 1];\n\nint main(){\n\tfor(;;){\n\t\tscanf(\"%d %d\", &N, &M);\n\t\tif(N == 0 && M == 0) break;\n\t\tfor(int i = 0; i < M; i++) scanf(\"%d\", &C[i]);\n\t\tfor(int i = 0; i < N; i++) scanf(\"%d\", &x[i]);\n\t\tfill(memo[0], memo[MAX_Y], INF);\n\t\tmemo[128][0] = 0;\n\t\tfor(int i = 0; i < N; i++){\n\t\t\tfor(int j = 0; j < MAX_Y; j++){\n\t\t\t\tif(memo[j][i] == INF) continue;\n\t\t\t\tfor(int k = 0; k < M; k++){\n\t\t\t\t\tint num = min(255, max(0, j + C[k]));\n\t\t\t\t\tmemo[num][i + 1] = min(memo[num][i + 1], memo[j][i] + (num - x[i]) * (num - x[i]));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint res = INF;\n\t\tfor(int i = 0; i < MAX_Y; i++) res = min(res, memo[i][N]);\n\t\tprintf(\"%d\\n\", res);\n\t}\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <cmath>\n#include <ctype.h>\n#include <string> \n#include <cstring>\n#include <sstream>\n#include <iostream>\n#include <algorithm>\n#include <cstdlib>\n#include <map>\n#include <queue>\n#include <utility>\n#include <vector>\n#include <set>\n#include <iomanip>\n#include <stack>\n  \nusing namespace std;\n\n#define pi 3.141592653589793\n\nint main()\n{\n\tint n, m;\n\twhile(1){\n\t\tcin >> n >> m;\n\t\tif(n == 0 && m == 0) break;\n\t\tint result[255][20001];\n\t\tfor(int i = 0; i < 255; i++){\n\t\t\tfor(int j = 0; j < 20001; j++){\n\t\t\t\tresult[i][j] = 0;\n\t\t\t}\n\t\t}\n\t\tbreak;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cmath>\nusing namespace std;\nint dp[20000][256];\nsigned main(){\n  for(int n,m;cin>>n>>m,n;){\n    int c[20000],x[20];\n    for(int i=0;i<n;i++) fill(dp[i],dp[i]+256,(int)1e9);\n    for(int i=0;i<m;i++) cin>>x[i];\n    for(int i=0;i<n;i++) cin>>c[i];\n    for(int i=0;i<m;i++){\n      int num=128+x[i];\n      if(num<0) num=0;\n      if(num>255) num=255;\n      dp[0][num]=(int)pow(num-c[0],2);\n    }\n    for(int i=1;i<n;i++){\n      for(int j=0;j<256;j++){\n\tif(dp[i-1][j]!=(int)1e9){\n\t  for(int k=0;k<m;k++){\n\t    int num=j+x[k];\n\t    if(num<0) num=0;\n\t    if(num>255) num=255;\n\t    dp[i][num]=min(dp[i][num],dp[i-1][j]+(int)pow(c[i]-num,2));\n\t  }\n\t}\n      }\n    }\n    /*\n      for(int i=0;i<n;i++){\n      for(int j=0;j<256;j++) cout<<(dp[i][j]!=1e9?dp[i][j]:-1)<<\" \";\n      cout<<endl;\n      }*/\n    int sm=1e9;\n    for(int i=0;i<256;i++) sm=min(sm,dp[n-1][i]);\n    cout<<sm<<endl;\n  }\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define ll long long\nusing namespace std;\n\nconst int INF = 1e9;\n\nint main() {\n    int n, m;\n    while (cin >> n >> m, n | m) {\n        vector<int> c(m, 0), x(n, 0);\n        for (int i = 0; i < m; i++) cin >> c[i];\n        for (int i = 0; i < n; i++) cin >> x[i];\n        // dp[i][j] := i個目の信号まででyがjのときの最小値\n        vector<vector<int> > dp(20005, vector<int>(256, INF));\n        dp[0][128] = 0;\n        for (int i = 0; i < n; i++) {\n            for (int j = 0; j < 256; j++) {\n                if (dp[i][j] == INF) continue;\n                for (int k = 0; k < m; k++) {\n                    int y = max(0, min(255, j + c[k]));\n                    dp[i + 1][y] = min(dp[i + 1][y], dp[i][j] + (x[i] - y) * (x[i] - y));\n                }\n            }\n        }\n        int ans = 1e9;\n        for (int i = 0; i < 256; i++) ans = min(ans, dp[n][i]);\n        cout << ans << endl;\n    }\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\nusing namespace std;\n\nint main(){\n    int N,M;\n    while(cin>>N>>M,N){\n        vector<int> C(M);\n        for(int i=0;i<M;i++){\n            cin>>C[i];\n        }\n        int error[2][256];\n        fill(error[0],error[2],1000000000);\n        error[0][128]=0;\n        for(int i=1;i<=N;i++){\n            int x;\n            cin>>x;\n            for(int j=0;j<256;j++) error[i&1][j]=1000000000;\n            for(int j=0;j<256;j++){\n                if(error[i&1^1][j]!=1000000000){\n                    for(int k=0;k<M;k++){\n                        int jk=j+C[k];\n                        jk=max(jk,0);\n                        jk=min(jk,255);\n                        error[i&1][jk]=min(error[i&1][jk],error[i&1^1][j]+(x-jk)*(x-jk));\n                    }\n                }\n            }\n        }\n        int ans = 1000000000;\n        for(int j=0;j<256;j++){\n            ans=min(ans,error[N&1][j]);\n        }\n        cout<<ans<<endl;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<string.h>\n#include<math.h>\n#define min(a,b) (a>b?b:a)\nint N,M,C[20],x[20005],f,s;\nlong long res,dp[2][300];\nint main()\n{\n\tfor(;scanf(\"%d%d\",&N,&M),N+M;)\n\t{\n\t\tres=100000000000;\n\t\tmemset(dp,0x7f,sizeof(dp));\n\t\tfor(int i=0;i<M;i++)scanf(\"%d\",&C[i]);\n\t\tfor(int j=1;j<=N;j++)scanf(\"%d\",&x[j]);\n\t\tf=0,s=1;\n\t\tdp[f][128]=0;\n\t\tfor(int i=1;i<=N;i++)\n\t\t{\n\t\t\tmemset(dp[s],0x7f,sizeof(long long[300]));\n\t\t\tfor(int j=0;j<=255;j++)\n\t\t\t\tfor(int k=0;k<M;k++)\n\t\t\t\t{\n\t\t\t\t\tint np=j+C[k],t;\n\t\t\t\t\t\n\t\t\t\t\tif(np>255)np=255;\n\t\t\t\t\tif(np<0)np=0;\n\t\t\t\t\tt=(x[i]-np);t*=t;\n\t\t\t\t\tdp[s][np]=min(dp[s][np],dp[f][j]+t);\n\t\t\t\t}\n\t\t\tf=!f;s=!f;\n\t\t}\n\t\tfor(int i=0;i<=255;i++)res=min(res,dp[f][i]);\n\t\tprintf(\"%lld\\n\",res);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\n#define rep(i, n) for(ll i = 0, i##_len = (n); i < i##_len; i++)\n#define reps(i, s, n) for(ll i = (s), i##_len = (n); i < i##_len; i++)\n#define rrep(i, n) for(ll i = (n) - 1; i >= 0; i--)\n#define rreps(i, e, n) for(ll i = (n) - 1; i >= (e); i--)\n#define all(x) (x).begin(), (x).end()\n#define sz(x) ((ll)(x).size())\n#define len(x) ((ll)(x).length())\n\nvoid solve(ll n, ll m) {\n    const ll inf = LONG_LONG_MAX / 2 - 1;\n    vector<ll> c(m), x(n);\n    rep(i, m) cin >> c[i];\n    rep(i, n) cin >> x[i];\n    vector<vector<ll>> dp(n + 1, vector<ll>(256, inf));\n    dp[0][128] = 0;\n    rep(i, n) {\n        rep(j, 256) {\n            if (dp[i][j] == inf) continue;\n            rep(k, m) {\n                ll idx = j + c[k];\n                idx = max(idx, 0LL);\n                idx = min(idx, 255LL);\n                ll val = dp[i][j] + (x[i] - idx) * (x[i] - idx);\n                dp[i + 1][idx] = min(dp[i + 1][idx], val);\n            }\n        }\n    }\n    ll ans = LONG_LONG_MAX;\n    rep(i, 256) ans = min(ans, dp[n][i]);\n    cout << ans << endl;\n}\n\nint main() {\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    // ifstream in(\"input.txt\");\n    // cin.rdbuf(in.rdbuf());\n    while(true) {\n        ll n, m;\n        cin >> n >> m;\n        if ((n == 0) && (m == 0)) break;\n        solve(n, m);\n    }\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#define NUM 256\nusing namespace std;\n\nint main(){\n  int n,m;\n  while(cin>>n>>m,n){\n    int dp[3000][NUM];\n    for(int i=0;i<=n;i++)\n      for(int j=0;j<NUM;j++)\n\tdp[i][j]=1<<30;\n    dp[0][128]=0;\n    int c[m],x[n];\n    for(int i=0;i<m;i++)cin>>c[i];\n    for(int i=0;i<n;i++)cin>>x[i];\n    \n    for(int i=0;i<n;i++){\n      for(int j=0;j<NUM;j++){\n\tfor(int k=0;k<m;k++){\n\t  if(j+c[k]<0){\n\t    dp[i+1][0]=min(dp[i+1][0],dp[i][j] + x[i]*x[i]);\n\t  }else if(j+c[k]>255){\n\t    dp[i+1][255]=min(dp[i+1][255],dp[i][j] + (x[i]-255)*(x[i]-255));\n\t  }else{\n\t    dp[i+1][j+c[k]]=min(dp[i+1][j+c[k]],dp[i][j] + (x[i]-j-c[k])*(x[i]-j-c[k]));\n\t  }\n\t}\n      }\n    }\n    // for(int j=0;j<256;j++){\n    //   for(int i=0;i<n;i++){\n    // \tcout << dp[i][j] << \" \";\n    //   }\n    //   cout << endl;\n    // }\n\n    int res=1<<30;\n    for(int i=0;i<NUM;i++)res=min(res,dp[n][i]);\n    cout << res << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define int long long\n#define double long double\n#define rep(i, a, n) for(int i = (int)(a);(i) < (int)(n);++(i))\n#define repe(i, a, n) for(int i = (int)(a);(i) <= (int)(n);++(i))\n#define repif(i, a, x) for(int i = (int)(a);(x);++(i))\n#define repr(i, a, n) for(int i = ((int)(a)-1);(i) >= (int)(n);--(i))\n#define reper(i, a, n) for(int i = (int)(a);(i) >= (int)(n);--(i))\n#define SZ(x) ((int)(x).size())\n#define ALL(x) begin(x), end(x)\n#define CEIL(x) ((int)ceil(((double)x)))\n#define POW(x, y) ((int)pow(x, y))\n#define UNIQUE(x) (x).erase(unique(ALL((x))), end(x))\n#define gcd(x, y) __gcd(x, y)\n#define lcm(x, y) ((x)/gcd(x,y)*(y))\n#define isin(x, l, r) ((l) <= (x) and (x) < (r))\n#define fcout(n) cout << fixed << setprecision(n)\n#define rcout(n) cout << right << setw(n)\n#define pb push_back\n#define eb emplace_back\n#define lb lower_bound\n#define ub upper_bound\n#define PI (acosl(-1))\n#define EPS (1e-10)\n#define INF LLONG_MAX\n#define INF32 INT32_MAX\n#define MOD 1000000007LL\nusing namespace std;\nusing VI = vector<int>;\nusing PII = pair<int, int>;\nusing TIII = tuple<int, int, int>;\nusing VPII = vector<PII>;\nusing VTIII = vector<TIII>;\nusing Complex = complex<double>;\ntemplate<typename T, template<typename> typename C = less> using PQ = priority_queue<T, vector<T>, C<T>>;\ntemplate<typename T> inline bool chmax(T& a, const T& b, bool t = false){ if(a<b or (t and a == b)){ a=b; return true; } return false; }\ntemplate<typename T> inline bool chmin(T& a, const T& b, bool t = false){ if(a>b or (t and a == b)){ a=b; return true; } return false; }\n\n\nsigned main(){\n    int N, M;\n    while(cin >> N >> M, N+M){\n        VI C(M), x(N);\n        rep(i, 0, M) cin >> C[i];\n        rep(i, 0, N) cin >> x[i];\n        vector<VI> dp(N+1, VI(300, INF32));\n        dp[0][128] = 0;\n        rep(i, 0, N) repe(j, 0, 255) rep(k, 0, M){\n            int y = j+C[k];\n            if(y < 0) y = 0;\n            else if(y > 255) y = 255;\n            chmin(dp[i+1][y], dp[i][j]+(y-x[i])*(y-x[i]));\n        }\n        cout << *min_element(begin(dp[N]), end(dp[N])) << endl;\n    }\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<map>\n#include<vector>\n#include<algorithm>\n#include<cmath>\n#include<climits>\n#include<ctime>\n#include<cstring>\n#include<numeric>\n\n#define ALL(v) (v).begin(),(v).end()\n#define REP(i,p,n) for(int i=p;i<(int)(n);++i)\n#define rep(i,n) REP(i,0,n)\n#define dump(a) (cerr << #a << \"=\" << (a) << endl)\n#define DUMP(list) cout << \"{ \"; for(auto nth : list){ cout << nth << \" \"; } cout << \"}\" << endl;\n\nusing namespace std;\n\nconst int MAX = INT_MAX;\n\nint N,M;\nint dp[20001][256];\n\nvector<int> C;\nvector<int> x;\n\nint round255(int n)\n{\n\tif(n > 255){ return 255; }\n\telse if(n < 0){ return 0;}\n\telse{ return n; }\n}\n\nint main()\n{\n\twhile(cin >> N >> M && N)\n\t{\n\t\tC.resize(M);\n\t\tx.resize(N);\n\t\tfill_n((int *)dp, sizeof(dp)/sizeof(int), MAX);\n\n\t\trep(i,M){ cin >> C[i]; }\n\t\trep(i,N){ cin >> x[i]; }\n\n\t\tdp[0][128] = 0;\n\n\t\trep(i,N)\n\t\t{\n\t\t\trep(j,256)\n\t\t\t{\n\t\t\t\tif(dp[i][j] == MAX){ continue; }\t\n\t\t\t\trep(k,M)\n\t\t\t\t{\n\t\t\t\t\tint yn = j + C[k];\n\t\t\t\t\tyn = round255(yn);\n\t\t\t\t\tint sum2 = (x[i] - yn)*(x[i] - yn);\n\t\t\t\t\tdp[i+1][yn] = min(dp[i+1][yn], dp[i][j]+sum2);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcout << *min_element(dp[N],dp[N]+256) << endl;\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n\nusing namespace std;\n\n//typedef long long lli;\n\nconst int INF = 1<<30;\n\nint n, m, data[16], dp[2][256], in;\n\nmain(){\n  while(cin >> n >> m && (n|m)){\n    for(int i=0;i<m;i++) cin >> data[i];\n    fill(dp[0], dp[2], INF);\n    dp[0][128] = 0;\n    for(int i=0;i<n;i++){\n      for(int j=0;j<256;j++) dp[(i+1)%2][j] = INF;\n      cin >> in;\n      for(int j=0;j<256;j++){\n        if(dp[i][j] == INF) continue;\n        for(int k=0;k<m;k++){\n          int next = j + data[k];\n          if(next < 0) next = 0;\n          if(next > 255) next = 255;\n          dp[(i+1)%2][next] = min(dp[(i+1)%2][next], abs(in-(next)) * abs(in-(next)) + dp[i%2][j]);\n        }\n      }\n    }\n    int ans = INF;\n    for(int i=0;i<256;i++) ans = min(ans, dp[n%2][i]);\n    cout << ans << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\nint sq(int n){return n*n;}\nint main(){\n  int n,m;\n  int i,j,k;\n  cin >> n >> m;\n  while(n!=0){\n    int inf = 1 << 30;\n    int c[16]={},x[20001]={};\n    for(i=0;i<m;i++) cin >> c[i];\n    for(i=0;i<n;i++) cin >> x[i];\n    \n    int dp[256]={};\n    int pre[256]={};\n    fill(dp,dp+256,inf);\n    fill(pre,pre+256,inf);\n    \n    int p;\n    for(i=0;i<m;i++){\n      p= 128+c[i];   \n      if(p<0) p=0;\n      if(p>255) p=255;\n      dp[p]=sq(x[0]-p);\n    }\n    \n    for(i=1;i<n;i++){\n      for(j=0;j<256;j++) pre[j]=dp[j];\n      fill(dp,dp+256,inf);\n      for(j=0;j<256;j++){\n\tfor(k=0;k<m;k++){\n\t  p=j+c[k];\n\t  if(p<0) p=0;\n\t  if(p>255) p=255;\n\t  dp[p]=min(dp[p],pre[j]+sq(x[i]-p));\n\t}\n      }\n    }\n    \n    int o=inf;\n    for(i=0;i<256;i++) o=min(o,dp[i]);\n    cout << o << endl;\n    \n    cin >> n >> m;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing ll=long long;\n\n#define itn long long\n#define rep(i,n) for(int i=0;i<(int)n;++i)\n#define rrep(i,n) for(int i=(int)(n);i>=0;--i)\n#define debug(x) cout << #x << \"=\" << (x) << endl;\nconst ll MOD=1e9+7;\n\ntemplate<class T> inline bool chmin(T& a,T b){if(a>b){a=b;return true;}return false;}\ntemplate<class T> inline bool chmax(T& a,T b){if(a<b){a=b;return true;}return false;}\ntemplate<typename T> void fail(T v){cout << v << endl;exit(0);}\n//template end\n\nvoid solve(){\n  while(1){\n    int N,M;\n    cin>>N>>M;\n    if(!(N|M))return;\n    vector<int> dp(256,1<<29);\n    dp[128]=0;\n    vector<int> C(M);\n    rep(i,M) cin >> C[i];\n    \n    rep(i,N){\n      int x;\n      cin>>x;\n      vector<int> newdp(256,1<<29);\n      rep(j,256){\n        if(dp[j]==(1<<29))continue;\n        for(int k=0;k<M;k++){\n          int a=min(255,j+C[k]);chmax(a,0);\n          chmin(newdp[a],dp[j]+(a-x)*(a-x));\n        }\n      }\n      dp=newdp;\n    }\n    int res=1<<29;\n    rep(i,256)\n      chmin(res,dp[i]);\n    cout<<res<<endl;\n  }\n}\n\nint main(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n  cout << fixed << setprecision(20);\n  solve();\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\n#define rep(i,n) for(int i = 0; i < (n); i++)\n#define rrep(i,n) for(int i = (n)-1; i >= 0; i--)\n#define rep1(i,n) for(int i = 1; i <= (n); i++)\n#define rrep1(i,n) for(int i = (n); i > 0; i--)\n\n#define ll long long\n#define pi pair<int, int>\n#define pll pair<ll, ll>\n\n#define MOD 1000000007\n#define INF 1000000000000000LL\n\nusing namespace std;\n\n#define MAXM 16\n\nll dp[2][256];\n\nll makein(ll n){\n  if(n<0)return 0;\n  if(n>255)return 255;\n  return n;\n}\n\nvoid solve(ll n, ll m){\n  ll *now=dp[0];\n  ll *nex=dp[1];\n  \n  rep(i, 256)nex[i]=now[i]=INF;\n  now[128]=0;\n\n  vector<ll> c(m);\n  rep(i, m)cin>>c[i];\n\n  vector<ll> x(n);\n  rep(i, n)cin>>x[i];\n\n  rep(i, n){\n    rep(i, 256)nex[i]=INF;\n\n    rep(from, 256)for(auto code: c){\n      ll coded = makein(from+code);\n      ll sq = (coded - x[i])*(coded - x[i]);\n      nex[coded]=min(nex[coded],now[from]+sq);\n    }\n    swap(nex, now);\n  }\n  ll result = INF;\n  rep(i, 256)result = min(result, now[i]);\n  cout<<result<<endl;\n}\n\nint main(){\n  while(true){\n    ll n,m;cin>>n>>m;\n    if(n==0)break;\n    solve(n, m);\n  }\n\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n \n#define loop(n, i) for(int i=0;i<n;i++)\n#define all(v) v.begin(),v.end()\n\nusing namespace std;\ntypedef long long ll;\nint dp[20010][260];\n\nint main()\n{\n    while (1) {\n        int n, m; cin >> n >> m;\n        if (!n) break;\n        vector<int> C(m), x(n+1, 128);\n        loop (m, i) cin >> C[i];\n        loop (n, i) cin >> x[i+1];\n        fill(dp[0], dp[20009]+260, 1<<29);\n        loop (256, i) dp[n+1][i] = 0;\n\n        for (int i = n; i >= 0; i--) {\n            for (int j = 0; j < 256; j++) {\n                int d = (x[i] - j) * (x[i] - j);\n                for (int c : C) {\n                    int k = j + c;\n                    k = max(k, 0);\n                    k = min(k, 255);\n                    dp[i][j] = min(dp[i][j], dp[i+1][k] + d);\n                }\n            }\n        }\n        cout << dp[0][128] << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\ntypedef long long ll;\nusing namespace std;\nll MOD = 1000000007;\n\n#define vec                vector<int>\n#define vecll              vector<ll>\n#define vecd               vector<double>\n#define vecst              vector<string>\n#define vecb               vector<bool>\n#define vec2(var, n, m)    vector<vector<int>>  var(n, vector<int>(m, INF))\n#define vecb2(var, n, m)   vector<vector<bool>> var(n, vector<bool>(m, false))\n#define vecll2(var, n, m)  vector<vector<ll>>   var(n, vector<ll>(m, INF))\n\n#define rep(i,n)         for(ll i=(ll)0; i<(ll)n; i++)\n#define REP(i,m,n)       for(ll i=(ll)m; i<(ll)n; i++)\n#define arr(var, n)      vec var(n); rep(i,n){cin >> var[i];}\n#define arrll(var, n)    vecll var(n); rep(i,n){cin >> var[i];}\n#define arrst(var, n)    vecst var(n); rep(i,n){cin >> var[i];}\n#define all(var)         (var).begin(), (var).end()\n#define sortall(var)     sort(all(var))\n#define uniqueall(v)     v.erase(unique(v.begin(), v.end()), v.end());\n#define f_sum(var)       accumulate(all(var), 0)\n#define f_sumll(var)     accumulate(all(var), 0LL)\n#define chmin(v1, v2)    v1 = min(v1, v2)\n#define chmax(v1, v2)    v1 = max(v1, v2)\n#define pb(var)          push_back(var)\n#define prt(var)         cout << (var) << \"\\n\"\n#define prtd(n, var)     cout << fixed << setprecision(n) << (var) << \"\\n\"\n#define prtfill(n, var)  cout << setw(n) << setfill('0') << (var);\n#define prt2(v1, v2)     cout << (v1) << \" \" << (v2) << \"\\n\"\n#define prt3(v1, v2, v3) cout << (v1) << \" \" << (v2) << \" \" << (v3) << \"\\n\"\n#define prtall(v)        rep(i,v.size()){cout<<v[i]<<(i!=v.size()-1?\" \":\"\\n\");}\nvoid prtok(bool ok){prt(ok ? \"Yes\" : \"No\");}\n//----------------------------------------------------------------\n\nint main(void) {\n  while(1){\n    int n, m;\n    cin >> n >> m;\n    if(n==0){break;}\n    arr(c,m);\n    arr(x,n);\n\n    ll INF = 1e18;\n    vecll2(dp, 20001, 256);\n\n    dp[0][128]=0;\n\n    rep(i,n){\n      rep(j,256){\n        if(dp[i][j]==INF) continue;\n        rep(k,m){\n          int yn = j + c[k];\n          if(yn>255) yn=255;\n          if(yn<0) yn=0;\n          int tmp=(x[i]-yn)*(x[i]-yn);\n          chmin(dp[i+1][yn], dp[i][j]+tmp);\n        }\n      }\n    }\n\n    ll ans=INF;\n    rep(i,256){\n      chmin(ans, dp[n][i]);\n    }\n    prt(ans);\n  }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\n#define rep(i,n) for(ll i=0;i<ll(n);++i)\n#define FOR(i,a,b) for(ll i=(a);i<ll(b);++i)\n\nint main(){\n  ll n,m;\n  ll inf = ll(1)<<50;\n  while(cin>>n>>m,n){\n    vector<ll> c(m);\n    rep(i,m) cin>>c[i];\n    vector<ll> x(n);\n    rep(i,n) cin>>x[i];\n\n    vector<vector<ll>> dp(n+1,vector<ll>(256,inf));\n    dp[0][128] = 0;\n\n    rep(i,n){\n      rep(j,256){\n\trep(k,m){\n\t  ll nj = j + c[k];\n\t  if(nj < 0) nj = 0;\n\t  else if(255 < nj) nj = 255;\n\t  dp[i+1][nj] = min(dp[i+1][nj], dp[i][j]+(x[i]-nj)*(x[i]-nj));\n\t}\n      }\n    }\n\n    ll ans = inf;\n    rep(j,256) ans = min(ans, dp[n][j]);\n    cout << ans << endl;\n  }\n}\n\t\n      \n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing ll=long long;\n//const ll MOD=(ll)1e9+7;\nconst ll MOD=(ll)998244353;\nconst ll INF=(ll)1e18+10;\nconst double PI=acos(-1);\n\ntemplate<class T> bool chmax(T &a, const T &b) { if (a<b) { a=b; return 1; } return 0; }\ntemplate<class T> bool chmin(T &a, const T &b) { if (a>b) { a=b; return 1; } return 0; }\nint dy[]={-1,1,0,0};\nint dx[]={0,0,-1,1};\n\nvoid solve(int ca){\n    while(true){\n        int N,M; cin>>N>>M;\n        if(N==0&&M==0) break;\n        vector<int> c(M),x(N);\n        for (int i = 0; i < M; ++i) {\n            cin>>c[i];\n        }\n        for (int i = 0; i < N; ++i) {\n            cin>>x[i];\n        }\n        vector<vector<ll>> dp(N+1,vector<ll>(256,INF));\n        dp[0][128]=0ll;\n        for (int i = 0; i < N; ++i) {\n            for (int j = 0; j < 256; ++j) {\n                for (int k = 0; k < M; ++k) {\n                    int val=j+c[k];\n                    if(val<0) val=0;\n                    if(val>255) val=255;\n                    chmin(dp[i+1][val],dp[i][j]+(x[i]-val)*(x[i]-val));\n                }\n            }\n        }\n        ll ans=INF;\n        for (int i = 0; i < 256; ++i) {\n            chmin(ans,dp[N][i]);\n        }\n        cout<<ans<<endl;\n    }\n}\n\n//#define MULTI\nint main() {\n    //ios::sync_with_stdio(false);\n    //cin.tie(nullptr);\n#ifdef MULTI\n    int N; cin>>N;\n    for (int i = 0; i < N; ++i) {\n        solve(i+1);\n    }\n#else\n    solve(1);\n#endif\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <vector>\n#include <map>\n#include <set>\n#include <iostream>\n#include <string>\n#include <algorithm>\n#include <assert.h>\nusing namespace std;\ntypedef long long ll;\n\n#define REP(j,n) for (int (j)=0; j<(int)(n); ++j)\n#define FOR(j,k,n) for (int (j)=(k); j<(int)(n); ++j)\n#define FOREQ(j,k,n) for (int (j)=(k); j<=(int)(n); ++j)\n\n#define MEMSET(z,val) memset(z,val,sizeof(z))\n\nint n, m;\nint x[30000];\nint c[100];\nll memo[30000][300];\n\ninline ll square(ll x) { return x * x; }\n\nll calc(int depth, int color) {\n    assert(0 <= color && color <= 255);\n    if (memo[depth][color] != -1) { return memo[depth][color]; }\n    if (depth == n) { return memo[depth][color] = 0; }\n    ll ret = 1LL << 60;\n    REP(i, m) {\n        int ncolor = color + c[i];\n        ncolor = max(0, min(255, ncolor));\n        int cost = square(abs(x[depth + 1] - ncolor));\n        ret = min(ret, calc(depth + 1, ncolor) + cost);\n    }\n    return memo[depth][color] = ret;\n}\n\nint main() {\n    while (scanf(\"%d %d\", &n, &m), n|m) {\n        MEMSET(memo, -1);\n        REP(i, m) {\n            scanf(\"%d\", &c[i]);\n        }\n        REP(i, n) {\n            scanf(\"%d\", &x[i + 1]);\n        }\n        printf(\"%lld\\n\", calc(0, 128));\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n#include<string>\n#include<queue>\n#include<cmath>\n#include<cstdio>\n#include<tuple>\n#include<bitset>\n#include<map>\n\nusing namespace std;\n#define rep(i,n) for(int i=0;i<n;++i)\n#define rep1(i,n) for(int i=1;i<=n;++i)\n#define ALL(x) x.begin(),x.end()\n#define ll long long\ntypedef pair<int,int> P;\nconst int inf=1000000007;\nconst int MOD=1000000007;\nint solve(int n,int m){\n    vector<int> c(m);\n    rep(i,m)cin>>c[i];\n    vector<int> x(n+1,0);\n    rep1(i,n)cin>>x[i];\n    vector<vector<int>> dp(n+1,vector<int>(256,inf));\n    dp[0][128]=0;\n    rep1(i,n){\n        rep(j,256){\n            rep(k,m){\n                int buf=j+c[k];\n                buf=min(255,buf);buf=max(0,buf);\n                int S=(buf-x[i])*(buf-x[i]);\n                dp[i][buf]=min(dp[i][buf],S+dp[i-1][j]);\n            }\n        }\n    }\n    int res=inf;\n    rep(i,256){\n        res=min(res,dp[n][i]);\n    }\n    return res;\n}\nsigned main(){\n    vector<int> res;\n    while(1){\n        int n,m;cin>>n>>m;\n        if(n==0&&m==0)break;\n        res.push_back(solve(n,m));\n    }\n    for(auto& val:res){\n        cout<<val<<endl;\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<string>\n#include <vector>\n#include <stack>\n#include <map>\n#include<iostream>\n#include <algorithm>\n#include <functional>\n\nusing namespace std;\nint n;\nint m;\nint price;\nint a;\nint b;\n\nstruct G{\n\tstring name;\n\tdouble value;\n};\nbool operator>(const G& left, const G& right)\n{\n\tif(left.value>right.value){\n\t\treturn true;\n\t}else if(left.value<right.value){\n\t\treturn false; \n\t}else{\n\t\treturn left.name<right.name;\n\t}\n}\n\nbool operator<(const G& left, const G& right)\n{\n  \tif(left.value>right.value){\n\t\treturn false;\n\t}else if(left.value<right.value){\n\t\treturn true; \n\t}else{\n\t\treturn left.name>right.name;\n\t}\n}\n\n\n\nint main(){\n\twhile(true){\n\t\tcin >>n;\n\t\tcin >>m;\n\n\t\tif(n==0){\n\t\t\tbreak;\n\t\t}\n\t\tvector<int> codebook;\n\t\tvector<int> data;\n\t\tfor(int i=0;i<m;i++){\n\t\t\tcin >> a;\n\t\t\tcodebook.push_back(a);\n\t\t}\n\t\tfor(int i=0;i<n;i++){\n\t\t\tcin >> a;\n\t\t\tdata.push_back(a);\n\t\t}\n\t\t//値,誤差値でハッシュ。\n\t\tmap<int,int> hash;\n\t\thash[128]=0;\n\n\t\tfor(int i=0;i<n;i++){\n\t\t\tint d=data[i];//次のデータ\n\t\t\tmap<int,int>::iterator it = hash.begin();\t\t\n\t\t\tmap<int,int> next_hash;\n\t\t\twhile( it != hash.end() )\n\t\t\t{\n\t\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\t\tint f=max(min((*it).first+codebook[k],255),0);\n\t\t\t\t\tint div=f-d;\n\t\t\t\t\tint s=(*it).second+div*div;\n\t\t\t\t\tif(next_hash.find(f)!= next_hash.end()){\n\t\t\t\t\t\tnext_hash[f]=min(next_hash[f],s);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tnext_hash[f]=s;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t++it;\n\t\t\t}\n\t\t\thash=next_hash;\n\t\t}\n\t\tint mi=INT_MAX;\n\t\tmap<int,int>::iterator it = hash.begin();\n\t\twhile( it != hash.end() )\n\t\t{\n\t\t\tmi=min((*it).second,mi);\n\t\t\tit++;\n\t\t}\n\t\tcout << mi <<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "\n//http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=2199\n\n#include<iostream>\n#include<map>\n#include<vector>\n#include<algorithm>\n#include<cmath>\n#include<climits>\n#include<ctime>\n#include<cstring>\n#include<numeric>\n\n#define ALL(v) (v).begin(),(v).end()\n#define REP(i,p,n) for(int i=p;i<(int)(n);++i)\n#define rep(i,n) REP(i,0,n)\n#define dump(a) (cerr << #a << \"=\" << (a) << endl)\n#define DUMP(list) cout << \"{ \"; for(auto nth : list){ cout << nth << \" \"; } cout << \"}\" << endl;\n\nusing namespace std;\n\nconst int MAX = INT_MAX;\n\nint N,M;\nint dp[20001][256];\n\nvector<int> C;\nvector<int> x;\n\nint round255(int n)\n{\n\tif(n > 255){ return 255; }\n\telse if(n < 0){ return 0;}\n\telse{ return n; }\n}\n\nint main()\n{\n\twhile(cin >> N >> M && N)\n\t{\n\t\tC.resize(M);\n\t\tx.resize(N);\n\t\tfill_n((int *)dp, sizeof(dp)/sizeof(int), MAX);\n\n\t\trep(i,M){ cin >> C[i]; }\n\t\trep(i,N){ cin >> x[i]; }\n\n\t\tdp[0][128] = 0;\n\n\t\trep(i,N)\n\t\t{\n\t\t\trep(j,256)\n\t\t\t{\n\t\t\t\tif(dp[i][j] == MAX){ continue; }\t\n\t\t\t\trep(k,M)\n\t\t\t\t{\n\t\t\t\t\tint yn = j + C[k];\n\t\t\t\t\tyn = round255(yn);\n\t\t\t\t\tint sum2 = (x[i] - yn)*(x[i] - yn);\n\t\t\t\t\tdp[i+1][yn] = min(dp[i+1][yn], dp[i][j]+sum2);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcout << *min_element(dp[N],dp[N]+256) << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <algorithm>\nusing namespace std;\n//方針：DP\nint min(int p, int q){\n\tif (p < q) return p;\n\treturn q;\n}\nint rss(int p, int q){\n\treturn (p - q)*(p - q);\n}\nint limit(int i) {\n\tif (i > 255) return 255;\n\tif (i < 0) return 0;\n\treturn i;\n}\nint main(void){\n\t//FILE* fp_in = freopen(\"data.txt\", \"r\", stdin);\n \n\tvector< vector< int > > dp;\n\tvector<int> dpp;\n\tfor (int i = 0; i < 10000; i++)\n\t\tdpp.push_back(1 << 30);\n\tfor (int i = 0; i < 256; i++)\n\t\tdp.push_back(dpp);\n \n\twhile (1){\n\tint N, M;\n\tvector<int> c, x;\n\tcin >> N >> M;\n\tif (N == 0 && M == 0) break;\n\tfor (int i = 0; i < M; i++) {\n\t\tint tmp;\n\t\tcin >> tmp;\n\t\tc.push_back(tmp);\n\t}\n  for (int i = 0; i < N; i++) {\n   int tmp;\n   cin >> tmp;\n   x.push_back(tmp);\n  }\n  for (int i = 0; i < 256; i++)\n   for (int j = 0; j < 10000; j++)\n    dp[i][j] = 1 << 30;\n  \n  for (int i = 0; i < 256; i++)\n   dp[i][0] = 0;\n  for (int i = 0; i < M; i++) {\n   dp[limit(128 + c[i])][1] = rss(limit(128+c[i]), x[0]);\n  }\n  for (int i = 2; i <= N; i++) {\n   for (int j = 0; j < M; j++) {\n    for (int k = 0; k < 256; k++) {\n     dp[k][i] = min(dp[limit(k-c[j])][i-1] + rss(k,x[i-1]), dp[k][i]);\n\t if(k == 255 && c[j] > 0 ) dp[k][i] = min(dp[limit(k)][i-1] + rss(k,x[i-1]), dp[k][i]);\n\t if(k == 0 && c[j] < 0 ) dp[k][i] = min(dp[limit(k)][i-1] + rss(k,x[i-1]), dp[k][i]);\n    }\n   }\n  }\n  int ans = 1 << 30;\n  for (int i = 0; i < 256; i++) {\n   if (dp[i][N] < ans) ans = dp[i][N];\n  }\n   \n\n  cout << ans << endl;\n }\n \n// while (1){}\n return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nconstexpr int inf = 1e9;\n\nint main() {\n    int n, m;\n    while(cin >> n >> m, n) {\n        vector<int> c(m), x(n);\n        for(int i = 0; i < m; ++i) {\n            cin >> c[i];\n        }\n        for(int i = 0; i < n; ++i) {\n            cin >> x[i];\n        }\n\n        vector<int> dp(256, inf);\n        dp[128] = 0;\n        for(int i = 0; i < n; ++i) {\n            vector<int> nxt(256, inf);\n            for(int j = 0; j <= 255; ++j) {\n                for(int k = 0; k < m; ++k) {\n                    int nc = max(0, min(255, j + c[k]));\n                    nxt[nc] = min(nxt[nc], dp[j] + (x[i] - nc) * (x[i] - nc));\n                }\n            }\n            dp = move(nxt);\n        }\n\n        cout << *min_element(begin(dp), end(dp)) << endl;\n    }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define INF_LL (int64)1e18\n#define INF (int32)1e9\n#define REP(i, n) for(int i = 0;i < (n);i++)\n#define FOR(i, a, b) for(int i = (a);i < (b);i++)\n#define all(x) x.begin(),x.end()\n#define fs first\n#define sc second\n\nusing int32 = int_fast32_t;\nusing uint32 = uint_fast32_t;\nusing int64 = int_fast64_t;\nusing uint64 = uint_fast64_t;\nusing PII = pair<int32, int32>;\nusing PLL = pair<int64, int64>;\n\nconst double eps = 1e-6;\n\ntemplate<typename A, typename B>inline void chmin(A &a, B b){if(a > b) a = b;}\ntemplate<typename A, typename B>inline void chmax(A &a, B b){if(a < b) a = b;}\n\nconst int64 mod = 1e9+7;\n\nint main(void){\n\tint32 N, M;\n\twhile(cin >> N >> M && N+M){\n\t\tvector<int64> C(M), x(N);\n\t\tREP(i, M) cin >> C[i];\n\t\tREP(i, N) cin >> x[i];\n\t\tvector<int64> dp(300, INF_LL);\n\t\tdp[128] = 0;\n\t\tREP(i, N){\n\t\t\tvector<int64> dp2(300, INF_LL);\n\t\t\tREP(j, 256){\n\t\t\t\tREP(k, M){\n\t\t\t\t\tint64 nxt = min((int64)255, max((int64)0, j+C[k]));\n\t\t\t\t\tchmin(dp2[nxt], dp[j]+(nxt-x[i])*(nxt-x[i]));\n\t\t\t\t}\n\t\t\t}\n\t\t\tswap(dp, dp2);\n\t\t}\n\t\tcout << *min_element(all(dp)) << endl;\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing lint = long long;\ntemplate<class T = int> using V = vector<T>;\ntemplate<class T = int> using VV = V< V<T> >;\ntemplate<class T, class U> void assign(V<T>& v, int n, const U& a) { v.assign(n, a); }\ntemplate<class T, class... Args> void assign(V<T>& v, int n, const Args&... args) { v.resize(n); for (auto&& e : v) assign(e, args...); }\n\n\nint main() {\n  cin.tie(nullptr); ios_base::sync_with_stdio(false);\n  auto clamp = [](int x) -> int {\n    return min(max(x, 0), 255);\n  };\n  while (true) {\n    int n, m; cin >> n >> m;\n    if (n == 0) break;\n    V<> c(m);\n    for (auto&& e : c) cin >> e;\n    V<> x(n);\n    for (auto&& e : x) cin >> e;\n    VV<> dp(n + 1, V<>(256, 2e9));\n    dp[0][128] = 0;\n    for (int i = 0; i < n; ++i) {\n      for (int p = 0; p < 256; ++p) {\n        for (int j = 0; j < m; ++j) {\n          int q = clamp(p + c[j]);\n          dp[i + 1][q] = min(dp[i + 1][q], dp[i][p] + (x[i] - q) * (x[i] - q));\n        }\n      }\n    }\n    int res = *min_element(begin(dp[n]), end(dp[n]));\n    cout << res << '\\n';\n  }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <list>\n#include <map>\n#include <set>\n#include <deque>\n#include <stack>\n#include <bitset>\n#include <algorithm>\n#include <functional>\n#include <numeric>\n#include <utility>\n#include <sstream>\n#include <iostream>\n#include <iomanip>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <cctype>\n#include <string>\n#include <cstring>\n#include <ctime>\n\nusing namespace std;\n\ninline int toInt(string s) {int v; istringstream sin(s);sin>>v;return v;}\ntemplate<class T> inline string toString(T x) {ostringstream sout;sout<<x;return sout.str();}\ntemplate<class T> inline T sqr(T x) {return x*x;}\n\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<string> vs;\ntypedef pair<int, int> pii;\ntypedef long long ll;\n\n#define all(a)  (a).begin(),(a).end()\n#define rall(a) (a).rbegin(), (a).rend()\n#define pb push_back\n#define mp make_pair\n#define each(i,c) for(typeof((c).begin()) i=(c).begin(); i!=(c).end(); ++i)\n#define exist(s,e) ((s).find(e)!=(s).end())\n#define range(i,a,b) for(int i=(a);i<(b);++i)\n#define rep(i,n)  range(i,0,n)\n#define clr(a,b) memset((a), (b) ,sizeof(a))\n#define dump(x)  cerr << #x << \" = \" << (x) << endl;\n#define debug(x) cerr << #x << \" = \" << (x) << \" (L\" << __LINE__ << \")\" << \" \" << __FILE__ << endl;\n\nconst double eps = 1e-10;\nconst double pi  = acos(-1.0);\nconst ll inf =1LL << 62;\n\n\nint main(void){\n\tpii dp[2][16];\n\tint tar[20000];\n\tint d[16];\n\tint n,m;\n\tpii INF;\n\tINF.first=1 << 29;INF.second=1 << 29;\n\twhile(cin >> n >> m,n|m){\n\t\trep(i,m)\n\t\t\tcin >> d[i];\n\t\trep(i,n)\n\t\t\tcin >> tar[i];\n\t\tpii init;\n\t\tinit.first=128;init.second=0;\n\t\trep(i,m){\n\t\t\tdp[0][i]=init;\n\t\t\tdp[1][i]=INF;\n\t\t}\n\t\trep(i,n){\n\t\t\trep(j,m)rep(k,m){\n\t\t\t\tpii tmp=dp[0][j];\n\t\t\t\ttmp.first+=d[k];\n\t\t\t\ttmp.first=max(tmp.first,0);\n\t\t\t\ttmp.first=min(tmp.first,255);\n\t\t//\t\tcout << tmp.first << endl;\n\t\t\t\ttmp.second+=(tmp.first-tar[i])*(tmp.first-tar[i]);\n\t\t\t\tif(tmp.second<dp[1][k].second)\n\t\t\t\t\tdp[1][k]=tmp;\n\t\t\t\telse if(tmp.second==dp[1][k].second&&abs(tmp.first-tar[i+1])<abs(dp[1][k].first-tar[i+1]))\n\t\t\t\t\tdp[1][k]=tmp;\n\t\t\t}\n\t\t\trep(j,m){\n\t\t\t\tdp[0][j]=dp[1][j];\n\t\t\t\tdp[1][j]=INF;\n\t\t\t}\n\t\t}\n\t\tint ans= 1 << 29;\n\t\trep(i,m)\n\t\t\tans=min(ans,dp[0][i].second);\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": " \n#include <bits/stdc++.h>\nusing namespace std;\nusing vi=vector<int>;\nusing vvi=vector<vi>;\nusing vs=vector<string>;\nusing msi=map<string,int>;\nusing mii=map<int,int>;\nusing pii=pair<int,int>;\nusing vlai=valarray<int>;\nusing ll=long long;\n#define rep(i,n) for(int i=0;i<n;i++)\n#define range(i,s,n) for(int i=s;i<n;i++)\n#define all(a) a.begin(),a.end()\n#define rall(a) a.rbegin(),a.rend()\n#define fs first\n#define sc second\n#define pb push_back\n#define eb emplace_back\n#define mp make_pair\n#define INF 1e9\n#define EPS 1e-9\n\nint main(){\n\tint n,m;\n\twhile(cin>>n>>m,n){\n        vi code(m);\n        rep(i,m)cin>>code[i];\n        vector<vector<pii>> dp(n+1,vector<pii>(m,mp(INF,0)));\n        fill(all(dp[0]),mp(0,128));\n        range(i,1,n+1){\n            int num; cin>>num;\n            rep(j,m){//j??????\n                rep(k,m){  //min??¨\n                    int next=min(max(dp[i-1][k].second+code[j],0),255);\n                    int diff=num-next; diff*=diff;\n                    if(dp[i][j].first>dp[i-1][k].first+diff){\n                        dp[i][j]=mp(dp[i-1][k].first+diff,next);\n                    }\n                }\n            }\n        }\n        int ans=INF;\n        rep(i,m) ans=min(ans,dp[n][i].first);\n        cout<<ans<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\nusing namespace std;\ntypedef long long LL;\ntypedef vector<LL> VLL;\ntypedef vector<VLL> VVLL;\ntypedef vector<int> VI;\ntypedef vector<VI> VVII;\nconst LL INF = (LL)1e9 *(LL)1e9;\nusing namespace std;\n\nint main(){\n\twhile (1){\n\t\tint N, M;\n\t\tcin >> N >> M;\n\t\tif (N + M == 0)return 0;\n\t\tVI x(N+1),C(M+1);\n\t\tfor (int i = 0; i < M; i++){\n\t\t\tcin >> C[i];\n\t\t}\n\t\tfor (int i = 1; i < N+1; i++){\n\t\t\tcin >> x[i];\n\t\t}\n\t\tVVLL dp(N + 1, VLL(256, INF));\n\t\tdp[0][128] = 0;\n\t\tfor (int n = 0; n < N; n++){\n\t\t\tfor (int i = 0; i < 256; i++){\n\t\t\t\tfor (int j = 0; j < M; j++){\n\t\t\t\t\tint r = i + C[j];\n\t\t\t\t\tif (r>255)r = 255;\n\t\t\t\t\telse if (r < 0)r = 0;\n\t\t\t\t\tdp[n + 1][r] = min(dp[n+1][r],dp[n][i] + (x[n + 1] - r)*(x[n + 1] - r));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tLL res = INF;\n\t\tfor (int i = 0; i < 256; i++){\n\t\t\tres = min(res, dp[N][i]);\n\t\t}\n\t\tcout << res << endl;\n\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <utility>\n#include <cstring>\n#include <cmath>\n#include <queue>\nusing namespace std;\n\n#define rep(i,n) for(int i=0; i<n; i++)\n#define FOR(i,s,n) for(int i=s; i<n; i++)\n#define ALL(x) x.begin(), x.end()\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> pii;\ntypedef vector<int> vi;\n\nll dp[20001][256];\n\nconst ll INF = 1e14;\n\nint main() {\n\tint n, m;\n\twhile(cin >> n >> m, n || m) {\n\t\trep(i,20001) rep(j,256) dp[i][j] = INF;\n\t\tvector<int> c(m);\n\t\tvector<ll> x(n);\n\t\trep(i,m) cin >> c[i];\n\t\trep(i,n) cin >> x[i];\n\n\t\tdp[0][128] = 0;\n\t\tfor(int i=0; i<n; i++) {\n\t\t\tfor(int j=0; j<m; j++) {\n\t\t\t\tfor(int k=0; k<256; k++) {\n\t\t\t\t\tif( dp[i][k] == INF ) continue;\n\t\t\t\t\tint z = k + c[j];\n\t\t\t\t\tif(z < 0) z = 0;\n\t\t\t\t\telse if(256 <= z) z = 255;\n\t\t\t\t\tdp[i+1][z] = min(dp[i+1][z], dp[i][k] + (x[i]-z)*(x[i]-z));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tll res = INF;\n\t\tfor(int i=0; i<256; i++) {\n\t\t\tres = min(res, dp[n][i]);\n\t\t}\n\t\tcout << res << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nint sqr(int x) { return x*x; }\n\nint main()\n{\n  int N, M;\n  while (scanf(\"%d %d\", &N, &M) != EOF && N != 0) {\n    vector<int> cs(M);\n    for (int i = 0; i < M; i++) {\n      scanf(\"%d\", &cs[i]);\n    }\n\n    static long long dp[20000+1][256];\n    static const long long INF = 1LL<<50;\n    fill_n(dp[0], 256, INF);\n    dp[0][128] = 0;\n    for (int i = 1; i <= N; i++) {\n      int x;\n      scanf(\"%d\", &x);\n      fill_n(dp[i], 256, INF);\n      for (int j = 0; j < 256; j++) {\n        for (int k = 0; k < M; k++) {\n          int y = j + cs[k];\n          if (y < 0) {\n            y = 0;\n          } else if (y > 255) {\n            y = 255;\n          }\n          dp[i][y] = min(dp[i][y], dp[i-1][j] + sqr(y - x));\n        }\n      }\n    }\n    printf(\"%lld\\n\", *min_element(dp[N], dp[N]+256));\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#define INF 1e+18\n#define int long long\nusing namespace std;\n\nint dp[20001][256];\n\nsigned main(){\n\tint n,m,c[16];\n\twhile(cin >> n >> m,n){\n\t\tfor(int i = 0;i <= n;i++){\n\t\t\tfor(int j = 0;j < 256;j++) {\n\t\t\t\tif(i == 0 && j == 128) dp[i][j] = 0;\n\t\t\t\telse dp[i][j] = INF;\n\t\t\t}\n\t\t}\n\t\tfor(int i = 0;i < m;i++) cin >> c[i];\n\t\tfor(int i = 0;i < n;i++){\n\t\t\tint x;\n\t\t\tcin >> x;\n\t\t\tfor(int j = 0;j < 256;j++){\n\t\t\t\tfor(int k = 0;k < m;k++){\n\t\t\t\t\tint d = j + c[k];\n\t\t\t\t\tif(d < 0) d = 0;\n\t\t\t\t\telse if(d > 255) d = 255;\n\t\t\t\t\tdp[i + 1][d] = min(dp[i + 1][d],dp[i][j] + (x - d) * (x - d));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint mi = INF;\n\t\tfor(int i = 0;i < 256;i++) mi = min(mi,dp[n][i]);\n\t\tcout << mi << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\ntypedef long long int lli;\nconst lli inf = 1e18;\n\nint lplus(int n, int m){\n    if(n+m < 0) return 0;\n    if(n+m > 255) return 255;\n    return n+m;\n}\n\nint main(){\n    while(1){\n        int n,m;\n        cin >> n >> m;\n        if(n==0) break;\n\n        vector<int> c(m), x(n+1);\n        for(int i=0; i<m; i++) cin >> c[i];\n        for(int i=1; i<=n; i++) cin >> x[i];\n        vector<vector<lli> > dp(n+1, vector<lli>(256, inf));\n        dp[0][128] = 0;\n        \n        for(int i=0; i<n; i++){\n            for(int j=0; j<256; j++){\n                for(int k=0; k<m; k++){\n                    lli diff = x[i+1] -lplus(j,c[k]);\n                    if(dp[i][j] +diff*diff < dp[i+1][lplus(j,c[k])]){\n                        dp[i+1][lplus(j,c[k])] = dp[i][j]+diff*diff;\n                    }\n                }\n            }\n        }\n\n        lli ans=inf;\n        for(int i=0; i<256; i++) ans=min(ans, dp[n][i]);\n        cout << ans << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "//Yattazo! Watashiha-Yosen-tsuukashita! It's 460points/600points! OHO!!!!!\n#include<iostream>\n#include<algorithm>\n#include<cmath>\nusing namespace std;\nint x[64000][256],n,m,y[64000],z[64000],d,minx;\nint main(){\n\twhile(true){\n\t\tminx=2000000000;\n\t\tfor(int i=0;i<64000;i++){for(int j=0;j<256;j++){x[i][j]=2000000000;}}\n\t\tcin>>n>>m;if(!n){break;}\n\t\tfor(int i=0;i<m;i++){cin>>y[i];}\n\t\tfor(int i=1;i<=n;i++){cin>>z[i];}\n\t\tx[0][128]=0;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tfor(int j=0;j<256;j++){\n\t\t\t\tif(x[i-1][j]<1000000000){\n\t\t\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\t\t\td=y[k]+j;\n\t\t\t\t\t\tif(d<0){d=0;}\n\t\t\t\t\t\tif(d>255){d=255;}\n\t\t\t\t\t\tx[i][d]=min(x[i][d],x[i-1][j]+(int)pow(1.0*(z[i]-d),2));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor(int i=0;i<256;i++){minx=min(minx,x[n][i]);}\n\t\tcout<<minx<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <fstream>\n#include <cstdio>\n#include <cmath>\n#include <vector>\n#include <string>\n#include <set>\n#include <map>\n#include <stack>\n#include <queue>\n#include <deque>\n#include <bitset>\n#include <algorithm>\n#include <complex>\n#include <array>\n#include <iomanip>\nusing namespace std;\n\n#define REP(i,n) for(int i=0; i<n; ++i)\n#define FOR(i,a,b) for(int i=a; i<=b; ++i)\n#define FORR(i,a,b) for (int i=a; i>=b; --i)\n#define ALL(c) (c).begin(), (c).end()\n\ntypedef long long ll;\ntypedef vector<int> VI;\ntypedef vector<ll> VL;\ntypedef vector<long double> VD;\ntypedef vector<VI> VVI;\ntypedef vector<VL> VVL;\ntypedef vector<VD> VVD;\ntypedef pair<int,int> P;\ntypedef pair<ll,ll> PL;\n\ntemplate<typename T> void chmin(T &a, T b) { if (a > b) a = b; }\ntemplate<typename T> void chmax(T &a, T b) { if (a < b) a = b; }\n\nint in() { int x; scanf(\"%d\", &x); return x; }\nll lin() { ll x; scanf(\"%lld\", &x); return x; }\n#define INF 1LL<<60\n\nint main() {\n    while(true) {\n        int N, M;\n        cin >> N >> M;\n        if(N == 0 && M == 0) break;\n        vector<ll> C(M), x(N+1);\n        REP(i, M) cin >> C[i];\n        REP(i, N) cin >> x[i+1];\n        vector< vector<ll> > dp(N+1, vector<ll>(256, 1e18));\n\n        dp[0][128] = 0;\n\n        FOR(i, 1, N) {\n            REP(j, M) {\n                REP(k, 256) {\n                    int y_next = min(max(0ll, k + C[j]), 255ll);\n                    if(dp[i][y_next] > dp[i-1][k] + (y_next - x[i]) * (y_next - x[i])) {\n                        dp[i][y_next] = dp[i-1][k] + (y_next - x[i]) * (y_next - x[i]);\n                    }\n                }\n            }\n        }\n\n        ll ans = 1e9;\n        REP(i, 256) if(ans > dp[N][i]) ans = dp[N][i];\n\n        cout << ans << endl;\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#include <bits/stdc++.h>\nusing namespace std;\nsigned main() {\n  ios::sync_with_stdio(false); cin.tie(0);\n  while (true) {\n    int n, m;\n    cin >> n >> m;\n    if (n == 0 && m == 0) return 0;\n    vector<int> c(m);\n    for (int i = 0; i < m; i++) {\n      cin >> c[i];\n    }\n    vector<int> x(n);\n    for (int i = 0; i < n; i++) {\n      cin >> x[i];\n    }\n    long long inf = 1LL << 60;\n    vector<vector<long long>> dp(n + 1, vector<long long>(256, inf));\n    dp[0][128] = 0;\n    for (int i = 0; i < n; i++) {\n      for (int j = 0; j <= 255; j++) {\n        if (dp[i][j] == inf) continue;\n        for (int k = 0; k < m; k++) {\n          int s = min(255, max(0, j + c[k]));\n          dp[i + 1][s] = min(dp[i + 1][s], dp[i][j] + 1LL * (s - x[i]) * (s - x[i]));\n        }\n      }\n    }\n    long long ans = inf;\n    for (int i = 0; i <= 255; i++) {\n      ans = min(ans, dp[n][i]);\n    }\n    cout << ans << '\\n';\n  }\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <utility>\n#include <cctype>\n#include <vector>\n#include <climits>\n#include <algorithm>\nusing namespace std;\n\n#ifdef __linux\n#define _U(s) s##_unlocked\n#else\n#define _U(s) _##s##_nolock\n#define _CRT_DISABLE_PERFCRIT_LOCKS\n#endif\n#define gcu _U(getchar)\n#define pcu _U(putchar)\n#define _DEF(r, n, ...) inline r n(__VA_ARGS__) noexcept\n#define _T template <typename T>\n#define _HT template <typename H,typename... T>\n#define _OP(t) inline operator t()\nstruct _in {\n#ifdef _GLIBCXX_STRING\n\t_OP(string){string s;char c;while(isspace(c = gcu()));do{s+=c;}while(c=gcu(),c!=' '&&c!='\\n'&&c!=EOF);return s;}\n#define _S\n#endif\n\t_OP(char){char c=gcu();gcu();return c;}\n\t_OP(double){double d; scanf(\"%lf\",&d); gcu();return d;}\n\t_T _OP(T){T n{},m{1},c;while(isspace(c = gcu()));if(c=='-')m=-1,c=gcu();do{n=10*n+(c-'0'),c=gcu();}while(c>='0'&&c<='9');return m*n;}\n} in;\n#define _SCAN(...) _DEF(bool,scan,__VA_ARGS__)\n#ifdef _S\n_SCAN(string &o) {int c{gcu()};if(c==EOF)return false;else{ungetc(c,stdin);string t=move(in);o=t;return true;}}\n#endif\n_T _SCAN(T &o) {int c{gcu()};return c==EOF?false:(ungetc(c,stdin),o=in,true);}\n_HT _SCAN(H &h,T&&... t){return scan(h)&&scan(t...);}\n#define _OUT(...) _DEF(void,out,__VA_ARGS__)\n#define _OUTL(...) _DEF(void,outl,__VA_ARGS__)\n_OUT(bool b){pcu('0'+b);}\n_OUT(const char *s){while(*s)pcu(*s++);}\n_OUT(char c){pcu(c);}\n#ifdef _S\n_OUT(string &s){for(char c:s)pcu(c);}\n#endif\n_T _OUT(T n){static char b[20];char *p=b;T m=n<0?pcu('-'),-1:1;\n\tif(!n)*p++='0';else while(n)*p++=(char)(n%10*m+'0'),n/=10;while(p!=b)pcu(*--p);}\n_OUTL(){out('\\n');}\n#ifdef _GLIBCXX_VECTOR\n\t_T _OUT(vector<T> &v){for(T &x:v)out(&x == &v[0]?\"\":\" \"),out(x);}\n#endif\n_HT _OUT(H &&h, T... t){out(h);out(t...);}\ntemplate <typename... T> _OUTL(T... t){out(t...);outl();}\nstruct range{\n\tint e,b=0,s=1;range(int _b,int _e,int _s):e(_e),b(_b),s(_s){} range(int _b,int _e): e(_e), b(_b){} range(int _e):e(_e){}\n\tstruct it{int v,s; it(int _v,int _s):v(_v),s(_s){} operator int()const{return v;} operator int&(){return v;}int operator*()const{return v;}\n\t\tit& operator++(){v+=s;return *this;} }; it begin(){return {b,s};} it end(){return {e,s};}};\n#define times(i,n) for(int i=n;i;i--)\n\ntemplate <typename T>\nusing V = vector<T>;\n\nint main() {\n\tfor (int N, M; N = in, M = in;) {\n\t\tV<int> C(M);\n\t\tfor (int &i: C)\n\t\t\ti = in;\n\t\tV<V<int>> D(N + 1, V<int>(256, INT_MAX)), T (M, V<int>(256));\n\t\tfor (int i: range(M))\n\t\t\tfor (int j: range(256))\n\t\t\t\tT[i][j] = min(max(C[i] + j, 0), 255);\n\t\tD[0][128] = 0;\n\t\tfor(int i: range(N)) {\n\t\t\tint x {in};\n\t\t\tfor (int j : range(256))\n\t\t\t\tif (D[i][j] != INT_MAX)\n\t\t\t\t\tfor (int k: range(M)) {\n\t\t\t\t\t\tint n = T[k][j];\n\t\t\t\t\t\tD[i + 1][n] = min(D[i + 1][n], D[i][j] + (x - n) * (x - n));\n\t\t\t\t\t}\n\t\t}\n\t\toutl(*min_element(begin(D[N]), end(D[N])));\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define REP(i,s,e) for(int i=(s); i<(e);i++)\n#define rep(i,n) REP(i,0,n)\n#define rep1(i,n) REP(i,1,n)\n#define repe(i,n) for(auto &&i:n)\n#define all(v) (v).begin(),(v).end()\n#define decimal fixed<<setprecision(20)\n#define fastcin() cin.tie(0);ios::sync_with_stdio(false)\nusing namespace std;\nusing LL = long long;\ntemplate<class T> inline bool chmax(T& a, T b) { if (a < b) { a = b; return 1; } return 0; }\ntemplate<class T> inline bool chmin(T& a, T b) { if (a > b) { a = b; return 1; } return 0; }\nconst int INF = 1e9;\nconst LL LLINF = 1e16;\n\nLL dp[2][260];\nvector<int> c, x;\n\nint main(){\n    fastcin();\n\n    int n, m;\n    cin >> n >> m;\n    while(n > 0){\n        c.resize(m);\n        x.resize(n);\n        rep(i, m) cin >> c[i];\n        rep(i, n) cin >> x[i];\n        rep(i, 2)rep(j, 256) dp[i][j] = LLINF;\n        dp[0][128] = 0;\n        rep(i, n){\n            rep(j, 256) dp[(i+1)%2][j] = LLINF;\n            rep(j, 256)if(dp[i%2][j] < LLINF){\n                rep(k, m){\n                    int nxt = max(0, min(255, j+c[k]));\n                    int df = nxt-x[i];\n                    chmin(dp[(i+1)%2][nxt], dp[i%2][j]+df*df);\n                }\n            }\n        }\n        // rep(i, n){\n        //     rep(j, 256) cout << dp[i+1][j] << \" \";\n        //     cout << endl;\n        // }\n        LL ans = LLINF;\n        rep(i, 256){\n            chmin(ans, dp[n%2][i]);\n        }\n        cout << ans << endl;\n        cin >> n >> m;\n    }\n\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n#define REP(i,b,n) for(int i=b;i<n;i++)\n#define rep(i,n)   REP(i,0,n)\n\nconst int inf = ( 1 << 28);\n\nint dp[20001][256];\nint solve(int n,int m,int *cbook,int *in){\n  rep(i,n+1)rep(j,256)dp[i][j]=inf;\n  dp[0][128]=0;\n\n  rep(i,n){\n    rep(j,256){\n      rep(k,m){\n\tint next=j+cbook[k];\n\tif (next<0)next=0;\n\telse if (next>255)next=255;\n\tdp[i+1][next]=min(dp[i+1][next],dp[i][j]+(next-in[i])*(next-in[i]));\n      }\n    }\n  }\n  \n  int ans = inf;\n  rep(i,256)ans=min(ans,dp[n][i]);\n  return ans;\n}\n\n\nmain(){\n  int n,m;\n  int in[20000],cbook[200];\n  while(scanf(\"%d%d\",&n,&m) && n){\n    rep(i,m)scanf(\"%d\",&cbook[i]);\n    rep(i,n)scanf(\"%d\",&in[i]);\n    cout << solve(n,m,cbook,in) << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\n#define REP(i,n) for(int i=0; i<(n); i++)\n#define REP2(i,x,n) for(int i=x; i<(n); i++)\n#define PRINT(x) cout<<(x)<<endl\n#define INF 1000000000000 // 10^12\n#define MOD 1000000007 // 10^9+7\n#define PB push_back\n#define MP make_pair\n\nint main() {\n    while (true) {\n        int N, M; cin >> N >> M;\n        if (N == 0 && M == 0) break;\n        vector<int> C(M), x(N);\n        REP(i, M) cin >> C[i];\n        REP(i, N) cin >> x[i];\n\n        vector<vector<int>> dp(N+1, vector<int>(256, MOD));\n        dp[0][128] = 0;\n\n        REP(i, N) {\n            REP(j, 256) {\n                REP(k, M) {\n                    int a = j + C[k];\n                    if (a < 0) a = 0;\n                    if (a >= 256) a = 255;\n                    dp[i+1][a] = min(dp[i+1][a], dp[i][j] + (int)pow(a - x[i], 2));\n                }\n            }\n        }\n\n        int min_sum = MOD;\n        REP(i, 256) min_sum = min(min_sum, dp[N][i]);\n        PRINT(min_sum);\n\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n\nusing namespace std;\n\nconst int MAX_N = 20000;\nconst int MAX_M = 16;\nconst int y0 = 128;\nint N, M;\nint C[MAX_M + 1], x[MAX_N + 1];\nint ans = 1e9;\n\nvoid Rec(int index, int sum, int y)\n{\n    if (index == N) {\n        ans = min(ans, sum);\n        return ;\n    }\n\n    for (int i = 0; i < M; ++i) {\n        int y_n = y + C[i];\n        if (y_n < 0)\n            y_n = 0;\n        else if (y_n > 255)\n            y_n = 255;\n\n        int sum_n = sum + (x[index] - y_n) * (x[index] - y_n);\n        if (sum_n < ans)\n            Rec(index + 1, sum_n, y_n);\n    }\n}\n\nint main()\n{\n    while (cin >> N >> M, N || M) {\n        // Input\n        for (int i = 0; i < M; ++i)\n            cin >> C[i];\n        for (int i = 0; i < N; ++i)\n            cin >> x[i];\n        ans = 1e9;\n\n        Rec(0, 0, y0);\n        cout << ans << endl;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <climits>\n#include <cstdio>\n#include <cstring>\n#include <iostream>\nusing namespace std;\n\nint n,m;\nint c[16],x[20000];\n\nlong dp[20001][256];\n\nlong rec(int p, int y){ //?????¨p???????????¨???????????????????????????????????????y???x[n]??¨????????????????????????\n\tif(dp[p][y]>=0) return dp[p][y];\n\t\n\tif(p==n) return 0;\n\t\n\tlong ret=LONG_MAX;\n\tfor(int i=0; i<m; ++i){ //??????????????????????????¨????????????????????°????????????\n\t\tint ny = y+c[i];\n\t\tif(ny<0) ny=0;\n\t\telse if(ny>255) ny=255;\n\t\t\n\t\tret = min(ret, rec(p+1,ny)+(ny-x[p])*(ny-x[p]));\n\t}\n\t\n\treturn dp[p][y]=ret;\n}\n\nint main(){\n\twhile(1){\t\t\n\t\t//input\n\t\tscanf(\" %d %d\", &n, &m);\n\t\tif(n==0) break;\n\t\t\n\t\tfor(int i=0; i<m; ++i) scanf(\" %d\", &c[i]);\n\t\tfor(int i=0; i<n; ++i) scanf(\" %d\", &x[i]);\t\n\t\t\n\t\tmemset(dp,-1,sizeof(dp));\n\t\tprintf(\"%ld\\n\", rec(0,128));\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <climits>\n#include <algorithm>\n#define MAX_N 20000\n#define MAX_M 16\n#define MAX_X 255\n#define INIT 128\nusing namespace std;\n\ntypedef pair<int, int> P;\n\nlong long int dp[MAX_N][MAX_X + 1];\nint c[MAX_M], x[MAX_N];\nint n, m;\n\nlong long int solve(int back, int depth, int k) {\n  if (depth == n) return 0;\n  int t = back + c[k];\n  if (t < 0) t = 0;\n  else if (t > 255) t = 255;\n\n  if (dp[depth][t] < LONG_MAX) return dp[depth][t];\n\n  long long int thismin = LONG_MAX;\n  for (int i = 0; i < m; i++) {\n    thismin = min(thismin, solve(t, depth + 1, i));\n  }\n\n  int a = x[depth] - t;\n  int b = thismin + a * a;\n  dp[depth][t] = b;\n  return dp[depth][t];\n}\n\nvoid init() {\n  for (int i = 0; i < MAX_M; i++)\n    for (int j = 0; j < MAX_X + 1; j++)\n      dp[i][j] = LONG_MAX;\n}\n\nint main() {\n  while (true) {\n    cin >> n >> m;\n    if (n == 0 && m == 0) return 0;\n\n    for (int i = 0; i < m; i++)\n      cin >> c[i];\n    for (int i = 0; i < n; i++)\n      cin >> x[i];\n\n    init();\n    long long int thismin = LONG_MAX;\n    for (int i = 0; i < m; i++) {\n      thismin = min(thismin, solve(INIT, 0, i));\n    }\n    cout << thismin << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <climits>\n\nint c[16];\nint x[20001];\nint dp[256][20001];\n\nint main() {\n\tint n, m;\n\twhile (std::cin >> n >> m && (n || m)) {\n\t\tstd::memset(dp, 0xff, sizeof(dp));\n\t\tfor (int i = 0; i < m; i++) std::cin >> c[i];\n\t\tfor (int i = 0; i < n; i++) std::cin >> x[i + 1];\n\n\t\tdp[128][0] = 0;\n\t\tfor (int i = 1; i <= n; i++) { //????????????????????????\n\t\t\tfor (int j = 0; j < 256; j++) { //?????????0~255??¨???????????????\n\t\t\t\tif (dp[j][i - 1] < 0) continue; //??????????????????\n\t\t\t\tfor (int k = 0; k < m; k++) { //??¨?????????????????????????????????????????????\n\t\t\t\t\tint ny = j + c[k];\n\t\t\t\t\tif (ny < 0) ny = 0;\n\t\t\t\t\telse if (ny > 255) ny = 255;\n\n\t\t\t\t\tint v = (x[i] - ny) * (x[i] - ny);\n\t\t\t\t\tif (dp[ny][i] < 0) dp[ny][i] = dp[j][i - 1] + v;\n\t\t\t\t\telse {\n\t\t\t\t\t\tdp[ny][i] = std::min(dp[j][i - 1] + v, dp[ny][i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint min = INT_MAX;\n\t\tfor (int i = 0; i < 256; i++) if (dp[i][n] >= 0) min = std::min(dp[i][n], min);\n\t\tstd::cout << min << std::endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <sstream>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <climits>\n#include <cfloat>\n#include <vector>\n#include <string>\n#include <stack>\n#include <queue>\n#include <set>\n#include <map>\n#include <algorithm>\n#include <functional>\n#include <utility>\n#include <numeric>\n#include <iterator>\n\nusing namespace std;\n\ntypedef long long LL;\ntypedef unsigned long long ULL;\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<string> VS;\ntypedef pair<int,int> PII;\ntypedef vector<PII> VPII;\ntypedef istringstream ISS;\ntypedef ostringstream OSS;\n\n#define REP( i, m, n ) for ( int i = (int)( m ); i < (int)( n ); ++i )\n#define FOR( v, c ) for ( auto &v : c )\n#define EACH( it, c ) for ( auto it = c.begin(); it != c.end(); ++it )\n#define ALL( c ) (c).begin(), (c).end()\n#define DRANGE( c, p ) (c).begin(), (c).begin() + p, (c).end()\n\n#define PB( n ) push_back( n )\n#define MP( a, b ) make_pair( ( a ), ( b ) )\n#define EXIST( c, e ) ( (c).find( e ) != (c).end() )\n\n#define fst first\n#define snd second\n\n#define DUMP( x ) cerr << #x << \" = \" << ( x ) << endl\n#define DEBUG( x ) cerr << __FILE__ << \":\" << __LINE__ << \": \" << #x << \" = \" << ( x ) << endl\n\nint main()\n{\n\tcin.tie( 0 );\n\tios::sync_with_stdio( false );\n\n\tfor ( int n, m; cin >> n >> m, n | m; )\n\t{\n\t\tVI cs( m ), xs( n );\n\t\tFOR( c, cs )\n\t\t{\n\t\t\tcin >> c;\n\t\t}\n\t\tFOR( x, xs )\n\t\t{\n\t\t\tcin >> x;\n\t\t}\n\n\t\tVVI dp( n + 1, VI( 256, INT_MAX / 2 ) );\n\t\tdp[0][128] = 0;\n\n\t\tREP( i, 0, n )\n\t\t{\n\t\t\tREP( j, 0, 256 )\n\t\t\t{\n\t\t\t\tREP( k, 0, m )\n\t\t\t\t{\n\t\t\t\t\tint nextx = j + cs[k];\n\t\t\t\t\tnextx = min( nextx, 255 );\n\t\t\t\t\tnextx = max( nextx, 0 );\n\t\t\t\t\tdp[ i + 1 ][ nextx ] = min( dp[ i + 1 ][ nextx ], dp[i][j] + ( xs[i] - nextx ) * ( xs[i] - nextx ) );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcout << *min_element( ALL( dp.back() ) ) << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nint main(){\n  int n,m;\n  while(cin>>n>>m,n){\n    vector<int> c(m);\n    for(int i=0;i<m;i++) cin>>c[i];\n    vector<int> x(n);\n    for(int i=0;i<n;i++) cin>>x[i];\n\n    const int INF=1e9;\n    vector<vector<int>> dp(n+1,vector<int>(256,INF));\n    dp[0][128]=0;\n\n    auto isrange=[](int x){return 0<=x && x<256;};\n    auto square=[](int x){return x*x;};\n    \n    for(int i=0;i<n;i++){\n      for(int j=0;j<256;j++){\n\t//renew dp[i+1][j];\n\tfor(int k=0;k<m;k++){\n\t  if(isrange(j-c[k])) dp[i+1][j]=min(dp[i+1][j],dp[i][j-c[k]]+square(x[i]-j));\n\t  if(j==255){\n\t    for(int r=0;r<c[k];r++) dp[i+1][j]=min(dp[i+1][j],dp[i][j-r]+square(x[i]-j));\n\t  }\n\t  if(j==0){\n\t    for(int r=0;r<-c[k];r++) dp[i+1][j]=min(dp[i+1][j],dp[i][r]+square(x[i]-j));\n\t  }\n\t}\n      }\n    }\n    cout<<*min_element(dp[n].begin(),dp[n].end())<<endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing ll = long long;\nusing namespace std;\n#define rep(i,n) for(int i=0, i##_len=(int)(n); i<i##_len; i++)\n#define reps(i,n) for(int i=1 , i##_len=(int)(n);i<=i##_len;i++)\n#define rrep(i,n) for(int i=((int)(n)-1);i>=0;i--)\n#define rreps(i,n) for(int i=((int)(n));i>0;i--)\n#define all(x) (x).begin(), (x).end()\n#define F first\n#define S second\n#define mp make_pair\n#define pb push_back\n#define solve(a) ((a)?\"Yes\":\"No\")\ntypedef vector<long long> V;\ntypedef vector<V> VV;\ntypedef pair<long long , long long> P;\ntypedef vector<P> VP;\ntemplate<class T> inline bool chmax(T& a, T b) { if (a < b) { a = b; return 1;} return 0;}\ntemplate<class T> inline bool chmin(T& a, T b) { if (a > b) { a = b; return 1;} return 0;}\nconst long long INFLL = 1LL<<60;\nconst int INF = 1<<30;\nconst double PI=acos(-1);\nint fash(int a){\n\treturn(max(0,min(255,a)));\n}\nll twox(ll a){\n\treturn a*a;\n}\nint main(){\n\tint n,m;\n\tVV dp(20010,V(260));\n\tvector<int> c(20);\n\tvector<int> x(20010);\n\tll ans=INFLL;\nwhile(1){\n\tcin >>n>>m;\n\tif(n==0 and m==0)return 0;\n\tans=INFLL;\n\trep(i,20010){\n\t\trep(j,260){\n\t\t\tdp[i][j]=INFLL;\n\t\t}\n\t}\n\trep(i,m){\n\t\tcin>>c[i];\n\t}\n\trep(i,n){\n\t\tcin>>x[i];\n\t}\n\tdp[0][128]=0LL;\n\trep(i,n){\n\t\trep(j,256){\n\t\t\trep(at,m){\n\t\t\t\tchmin(dp[i + 1][fash(j + c[at])], dp[i][j] + twox(fash(j + c[at])-x[i]));\n\t\t\t}\n\t\t}\n\t}\n\trep(i,256){\n\t\tchmin(ans,dp[n][i]);\n\t}\n\tcout<<ans<<endl;\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <ctime>\n#include <iostream>\n#include <algorithm>\n#include <sstream>\n#include <string>\n#include <vector>\n#include <queue>\n#include <stack>\n#include <map>\n#include <set>\n#include <utility>\n#include <cctype>\n#include <numeric>\nusing namespace std;\n\n#define rep(i,n) for(int (i)=0; (i)<(int)(n); ++(i))\n#define foreach(c,i) for(__typeof((c).begin()) i=(c).begin();i!=(c).end();i++)\n\nint N, M, C[30], x[20010];\nint dp[2][300];\nconst int kInf = 1 << 28;\n\nvoid init() {\n  rep(i,M) scanf(\"%d\", C+i);\n  rep(i,N) scanf(\"%d\", x+i);\n}\n\ninline int pow(int v) {\n  return v * v;\n}\n\nvoid run() {\n  rep(i,2) fill(dp[i], dp[i] + 300, kInf);\n  dp[0][128] = 0;\n  int *prv = dp[0], *nxt = dp[1];\n  \n  rep(i,N) {\n    fill(nxt, nxt + 300, kInf);\n    rep(j,256) {\n      rep(k,M) {\n        int cur = j, next = j + C[k];\n        if (prv[cur] == kInf) continue;\n        if (next < 0) next = 0;\n        if (next > 255) next = 255;\n        int diff = pow(next - x[i]);\n        // printf(\"cur %d : C %d : next %d : diff %d : nxt[next] %d : prv[cur]+diff %d\\n\",\n        //        cur, C[k], next, diff, nxt[next], prv[cur]+diff);\n        nxt[next] = min(nxt[next], prv[cur] + diff);\n        // if (nxt[next] > prv[cur] + diff) {\n        //   printf(\"cur %d : C %d : next %d : diff : %d\\n\", cur, C[k], next, diff);\n        // }\n      }\n    }\n    swap(prv, nxt);\n  }\n  printf(\"%d\\n\", *min_element(prv, prv + 256));\n}\n\nint main() {\n  while (scanf(\"%d%d\", &N, &M), N | M) {\n    init();\n    run();\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <cmath>\n#include <ctype.h>\n#include <string> \n#include <cstring>\n#include <sstream>\n#include <iostream>\n#include <algorithm>\n#include <cstdlib>\n#include <map>\n#include <queue>\n#include <utility>\n#include <vector>\n#include <set>\n#include <iomanip>\n#include <stack>\n  \nusing namespace std;\n\n#define pi 3.141592653589793\n\nint result[20001][256];\n\nint main()\n{\n\tint n, m;\n\twhile(1){\n\t\tcin >> n >> m;\n\t\tif(n == 0 && m == 0) break;\n\t\tfor(int i = 0; i < n + 1; i++){\n\t\t\tfor(int j = 0; j < 256; j++){\n\t\t\t\tresult[i][j] = 10000000;\n\t\t\t}\n\t\t}\n\t\tresult[0][128] = 0;\n\t\tint c[17], x[20001];\n\t\tfor(int i = 1; i < m + 1; i++){\n\t\t\tcin >> c[i];\n\t\t}\n\t\tfor(int i = 1; i < n + 1; i++){\n\t\t\tcin >> x[i];\n\t\t}\n\t\tfor(int i = 1; i < n + 1; i++){\n\t\t\tfor(int j = 0; j < 256; j++){\n\t\t\t\tfor(int k = 1; k < m + 1; k++){\n\t\t\t\t\tint nexty = j + c[k];\n\t\t\t\t\tif(nexty < 0) nexty = 0;\n\t\t\t\t\telse if(nexty > 255) nexty = 255;\n\t\t\t\t\tresult[i][nexty] = min(result[i][nexty], result[i - 1][j] + (x[i] - nexty) * (x[i] - nexty));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = 1000000;\n\t\tfor(int i = 1; i < 256; i++) ans = min(ans, result[n][i]);\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#include <bits/stdc++.h>\n// #define USE_INT_LONG_LONG\n#ifdef USE_INT_LONG_LONG\n#define int long long\n    #define inf (1ll<<60)\n#else\n    #define inf (1<<30)\n#endif\n#define rep(i,n) for(int i=0;i<n;i++)\n#define Rep(i,a,b) for(int i=a;i<b;i++)\n#define REP(i,a,b) for(int i=a;i<=b;i++)\n#define rev(i,n) for(int i=(n)-1;i>=0;i--)\n#define vi vector<int>\n#define vvi vector<vi>\n#define pb push_back\n#define pi pair<int,int>\n#define vp vector<pair<int,int>>\n#define mp make_pair\n#define all(v) (v).begin(),(v).end()\n#define fi first\n#define se second\n#define MEMSET(a) memset(a,0,sizeof(a))\n#define Yes(f) cout<<(f?\"Yes\":\"No\")<<endl\n#define yes(f) cout<<(f?\"yes\":\"no\")<<endl\n#define YES(f) cout<<(f?\"YES\":\"NO\")<<endl\n#define SORT(v) sort(all(v))\n#define RSORT(v) sort(all(v), greater<int>())\n\nusing namespace std;\n\nconst int mod=1e9+7;\nconst string sp=\" \";\n\nvoid run();\n\nvoid init() {\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    cout<<fixed<<setprecision(12);\n}\n\nsigned main(){\n    init();\n    run();\n    return 0;\n}\n\nvoid run(){\n    int n,m;\n    cin>>n>>m;\n    if(!n)return;\n    vi c(m);\n    rep(i,m)cin>>c[i];\n    vi x(n);\n    rep(i,n)cin>>x[i];\n    vvi dp(n+1,vi(256));\n    rep(i,n+1)rep(j,256)dp[i][j]=inf;\n    dp[0][128]=0;\n    REP(i,1,n){\n        rep(j,256){\n            if(dp[i-1][j]==inf)continue;\n            rep(k,m){\n                int t=min(255,max(0,j+c[k]));\n                dp[i][t]=min(dp[i][t],dp[i-1][j]+(x[i-1]-t)*(x[i-1]-t));\n            }\n        }\n    }\n    int ans=inf;\n    rep(i,256)ans=min(ans,dp[n][i]);\n    cout<<ans<<endl;\n    run();\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#include <math.h>\n\nusing namespace std;\n\nlong long inf=1000000007;\n\nlong long modpow(long long n,long long p,long long mod);\n\nint main(){\n\tlong long n,m;\n\tcin>>n>>m;\n\twhile(n!=0 && m!=0){\n\t\tvector<long long> c(m),x(n);\n\t\tfor(long long i=0;i<m;i++) cin>>c.at(i);\n\t\tfor(long long i=0;i<n;i++) cin>>x.at(i);\n\n\t\tvector<vector<long long>> dp(n+1,vector<long long>(256,inf));\n\t\tdp.at(0).at(128)=0;\n\t\tlong long ans=inf;\n\n\t\tfor(long long i=0;i<n;i++){\n\t\t\tfor(long long j=0;j<=255;j++){\n\t\t\t\tfor(auto book:c){\n\t\t\t\t\tlong long next=j+book;\n\t\t\t\t\tif(next>255) next=255;\n\t\t\t\t\tif(next<0) next=0;\n\n\t\t\t\t\tdp.at(i+1).at(next)=min(dp.at(i+1).at(next),dp.at(i).at(j)+(next-x.at(i))*(next-x.at(i)));\n\n\t\t\t\t\tif(i==n-1) ans=min(ans,dp.at(i+1).at(next));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcout<<ans<<endl;\n\t\tcin>>n>>m;\n\t}\n\n\treturn 0;\n}\n\nlong long modpow(long long n,long long p,long long mod){\n\tif(p==0) return 1;\n\tif(p%2==0) return (modpow(n,p/2,mod)*modpow(n,p/2,mod))%mod;\n\tif(p%2==1) return (modpow(n,p-1,mod)*n)%mod;\n\tcerr<<\"ERROR\"<<endl;\n\treturn 1;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <bitset>\n#include <complex>\n#include <deque>\n#include <exception>\n#include <fstream>\n#include <functional>\n#include <iomanip>\n#include <ios>\n#include <iosfwd>\n#include <iostream>\n#include <istream>\n#include <iterator>\n#include <limits>\n#include <list>\n#include <locale>\n#include <map>\n#include <memory>\n#include <new>\n#include <numeric>\n#include <ostream>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <stdexcept>\n#include <streambuf>\n#include <string>\n#include <typeinfo>\n#include <utility>\n#include <valarray>\n#include <vector>\n#include <climits>\n\n#define rep(i, m, n) for(int i=int(m);i<int(n);i++)\n//#define EACH(i, c) for (auto &(i): c)\n#define all(c) begin(c),end(c)\n//#define EXIST(s, e) ((s).find(e)!=(s).end())\n//#define SORT(c) sort(begin(c),end(c))\n//#define pb emplace_back\n//#define MP make_pair\n//#define SZ(a) int((a).size())\n\n//#define LOCAL 0\n//#ifdef LOCAL\n//#define DEBUG(s) cout << (s) << endl\n//#define dump(x)  cerr << #x << \" = \" << (x) << endl\n//#define BR cout << endl;\n//#else\n//#define DEBUG(s) do{}while(0)\n//#define dump(x) do{}while(0)\n//#define BR\n//#endif\n\n\n//改造\ntypedef long long int ll;\nusing namespace std;\n#define INF (1 << 30) - 1\n#define INFl (ll)5e15\n#define DEBUG 0 //デバッグする時1にしてね\n#define dump(x)  cerr << #x << \" = \" << (x) << endl\n#define MOD 1000000007\n//ここから編集する\n\n\nbool solve() {\n    int N, M;\n    cin >> N >> M;\n    if (N == 0 && M == 0) {\n        return false;\n    }\n\n    vector<ll> C(M), x(N + 1);\n\n    rep(i, 0, M) cin >> C[i];\n    rep(i, 1, N + 1) cin >> x[i];\n\n    vector<vector<ll> > dp(N + 1, vector<ll>(256, INFl));\n    dp[0][128] = 0;\n\n    rep(i, 0, N) {\n//            ll bef = dp[i + 1][j];\n        rep(j, 0, M) {\n            rep(k, 0, 256) {\n//                dp[i + 1][k] = min(dp[i + 1][k], dp[i][k] + (ll) round(pow(x[i + 1] - k, 2)));\n                ll nexk = max(0LL, min(k + C[j], 255LL));\n                ll next = dp[i][k] + (ll) round(pow((nexk - x[i + 1]), 2));\n                dp[i + 1][nexk] = min(dp[i + 1][nexk], next);\n            }\n        }\n    }\n\n    ll ans = INFl;\n    rep(i, 0, 256) {\n        ans = min(ans, dp[N][i]);\n    }\n\n    cout << ans << endl;\n\n\n    return true;\n}\n\nint main() {\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n\n    while (solve()) {\n\n    }\n\n\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "//Yattazo! Watashiha-Yosen-tsuukashita! It's 460points/600points! OHO!!!!!\n#include<iostream>\n#include<algorithm>\n#include<cmath>\nusing namespace std;\nint x[30000][256],n,m,y[64000],z[64000],d,minx;\nint main(){\n\twhile(true){\n\t\tminx=2000000000;\n\t\tfor(int i=0;i<65536;i++){for(int j=0;j<256;j++){x[i][j]=2000000000;}}\n\t\tcin>>n>>m;if(!n){break;}\n\t\tfor(int i=0;i<m;i++){cin>>y[i];}\n\t\tfor(int i=1;i<=n;i++){cin>>z[i];}\n\t\tx[0][128]=0;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tfor(int j=0;j<256;j++){\n\t\t\t\tif(x[i-1][j]<1000000000){\n\t\t\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\t\t\td=y[k]+j;\n\t\t\t\t\t\tif(d<0){d=0;}\n\t\t\t\t\t\tif(d>255){d=255;}\n\t\t\t\t\t\tx[i][d]=min(x[i][d],x[i-1][j]+(int)pow(1.0*(z[i]-d),2));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor(int i=0;i<256;i++){minx=min(minx,x[n][i]);}\n\t\tcout<<minx<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\n#include<set>\n#include<map>\n#include<vector>\n#include<stack>\n#include<queue>\n#include<cmath>\n#include<numeric>\n#include<cstdlib>\n#include<cassert>\n#include<random>\nusing namespace std;\n\nconst int e=1e9+7;\n\nint cut(int n){\n    if(n>255){n=255;}\n    if(n<0){n=0;}\n    return n;\n}\n\nint dp[25000][256];\n\n\nint main(){\n    while(1){\n    \n        \n        \n    int n,m;\n    fill(&dp[0][0],&dp[24999][256],e);\n    vector<int> in,c;\n    cin>>n>>m;\n        if(n==0 && m==0){break;}\n    for(int i=0;i<m;i++){\n        int d;\n        cin>>d;\n        c.push_back(d);\n    }\n    for(int i=0;i<n;i++){\n        int d;\n        cin>>d;\n        in.push_back(d);\n    }\n    dp[0][128]=0;\n    \n    for(int i=0;i<n;i++){\n        for(int t=0;t<256;t++){\n            for(int h=0;h<c.size();h++){\n                if(dp[i][t]!=e){\n                    dp[i+1][cut(t+c[h])]=min(dp[i+1][cut(t+c[h])],dp[i][t]+(int)pow((in[i]-cut(t+c[h])),2));\n                }\n            }\n        }\n    }\n    int ans=e;\n    for(int i=0;i<256;i++){\n        ans=min(ans,dp[n][i]);\n    }\n    cout<<ans<<endl;\n    \n        \n        \n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cmath>\n#include <vector>\n#include <map>\n#include <stack>\n#include <queue>\n#include <algorithm>\n#include <set>\n\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define REP(i,j) FOR(i,0,j)\n#define mp std::make_pair\n\nconst int INF = 1 << 30;\nconst int dx[8] = {0, 0, 1, -1, 1, 1, -1, -1}, dy[8] = {1, -1, 0, 0, 1, -1, 1, -1};\n\ntypedef unsigned long long ull;\ntypedef std::pair<int,int> P;\n\n\n\nint N, M;\nint C[16], X[20000];\nint dp[20001][256];\n\nint main(){\n    while(std::cin >> N >> M, N){\n        REP(i, M){\n            std::cin >> C[i];\n        }\n    \n        FOR(i, 1, N+1){\n            std::cin >> X[i];\n        }\n\n        REP(i, N+1){\n            REP(y, 256){\n                dp[i][y] = INF;\n            }\n        }\n        dp[0][128] = 0;\n\n        FOR(i, 0, N){\n            REP(y, 256){\n                REP(j, M){\n                    int ny = y+C[j];\n                    if(ny < 0){ny = 0;}\n                    else if(ny > 255){ny = 255;}\n\n                    dp[i+1][ny] = std::min(dp[i+1][ny], dp[i][y] + (X[i+1]-ny) * (X[i+1]-ny));\n                }\n            }\n        }\n\n        // FOR(i, 1, N+1){\n        //     REP(y, 256){\n        //         printf(\"%d, \", dp[i][y]);\n        //     }\n        //     puts(\"\");\n        // }\n\n        int min_sum = INF;\n        REP(i, 256){\n            min_sum = std::min(min_sum, dp[N][i]);\n        }\n\n        std::cout << min_sum << std::endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cstdlib>\n#include <iostream>\n#include <vector>\nusing namespace std;\n\ntemplate<class T> inline void chmin(T& a, const T& b) { if(b < a) a = b; }\n\nint main() {\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\n\tconst int INF = 0xfffffff;\n\n\tfor(int n, m; cin >> n >> m, n;) {\n\t\tvector<int> c(m);\n\t\tfor(int i = 0; i < m; ++i)\n\t\t\tcin >> c[i];\n\n\t\tvector<int> dp(256, INF);\n\t\tdp[128] = 0;\n\t\tfor(int i = 0; i < n; ++i) {\n\t\t\tint x;\n\t\t\tcin >> x;\n\n\t\t\tvector<int> tmp(256, INF);\n\t\t\tfor(int j = 0; j < 256; ++j) {\n\t\t\t\tfor(int k = 0; k < m; ++k) {\n\t\t\t\t\tconst int next = max(0, min(255, j + c[k]));\n\t\t\t\t\tconst int diff = x - next;\n\t\t\t\t\tchmin(tmp[next], dp[j] + diff * diff);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tdp.swap(tmp);\n\t\t}\n\n\t\tcout << *min_element(dp.begin(), dp.end()) << endl;\n\t}\n\n\treturn EXIT_SUCCESS;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define reps(i,j,k) for(int i = j; i < k; ++i)\n#define rep(i,j) reps(i,0,j)\n#define pb push_back\n#define fr first\n#define fs fr\n#define sc second\nusing namespace std;\ntypedef vector<int> vi;\ntypedef pair<int,int> Pii;\ntypedef pair<int,int> pii;\ntypedef long long ll;\n\n/*\ntemplate<class T> &ostream<<(ostream &out, const vecotr<T> &v){\n\tout << \"{\";\n\trep(i,v.size()) out << v[i] << \", \";\n\treturn out << \"}\" << endl;\n}\n*/\nstruct data{\n\tvi base;\n\tint val;\n\tdata(){}\n\tdata(vi base,int val){\n\t\tthis->base = base;\n\t\tthis->val = val;\n\t}\n};\nint main(){\n\tint N,M;\n\twhile(cin >> N >> M,(N|M)){\n\t\tvi C(M);\n\t\tvi X(N+1);\n\n\t\trep(i,M){\n\t\t\tcin >> C[i];\n\t\t}\n\n\t\treps(i,1,N+1){\n\t\t\tcin >> X[i];\n\t\t}\n\n\t\tdata dp[20010][17];\n\t\tvi a;\n\t\ta.pb(128);\n\t\trep(j,M){\n\t\t\tdp[0][j] = data(a,0);\n\t\t}\n\t\ta.clear();\n\t\treps(i,1,N+1){\n\t\t\trep(j,M){\n\t\t\t\tdp[i][j] = data(a,1e9);\n\t\t\t}\n\t\t}\n\n\t\treps(i,1,N+1){\n\t\t\trep(j,M){\n\t\t\t\tint b = -1;\n\t\t\t\tint v = 1e9;\n\t\t\t\trep(k,M){\n\t\t\t\t\trep(q,dp[i-1][j].base.size()){\n\t\t\t\t\t\tint s = dp[i-1][j].base[q]+C[k];\n\t\t\t\t\t\tif(s < 0)s = 0;\n\t\t\t\t\t\tif(s > 255)s = 255;\n\t\t\t\t\t\tint tmp = (X[i]-s)*(X[i]-s);\n\t\t\t\t\t\tif(dp[i][k].val > dp[i-1][j].val+tmp){\n\t\t\t\t\t\t\tv = tmp + dp[i-1][j].val;\n\t\t\t\t\t\t\tvi t;\n\t\t\t\t\t\t\tt.pb(s);\n\t\t\t\t\t\t\tdp[i][k] = data(t,v);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if(dp[i][k].val == dp[i-1][j].val+tmp){\n\t\t\t\t\t\t\tdp[i][k].base.pb(s);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = 1e9;\n\t\trep(j,M){\n\t\t\tans = min(ans,dp[N][j].val);\n\t\t}\n\n\t\tcout << ans << endl;\n\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "// clang-format off\n#include <bits/stdc++.h>\nusing namespace std;\n#define int long long\n#define main signed main()\n#define loop(i, a, n) for (int i = (a); i < (n); i++)\n#define rep(i, n) loop(i, 0, n)\n#define all(v) (v).begin(), (v).end()\n#define rall(v) (v).rbegin(), (v).rend()\n#define prec(n) fixed << setprecision(n)\nconstexpr int INF = sizeof(int) == sizeof(long long) ? 1000000000000000000LL : 1000000000;\nconstexpr int MOD = 1000000007;\nconstexpr double PI = 3.14159265358979;\ntemplate<typename A, typename B> bool cmin(A &a, const B &b) { return a > b ? (a = b, true) : false; }\ntemplate<typename A, typename B> bool cmax(A &a, const B &b) { return a < b ? (a = b, true) : false; }\nbool odd(const int &n) { return n & 1; }\nbool even(const int &n) { return ~n & 1; }\ntemplate<typename T = int> T in() { T x; cin >> x; return x; }\ntemplate<typename T = int> T in(T &&x) { T z(forward<T>(x)); cin >> z; return z; }\ntemplate<typename T> istream &operator>>(istream &is, vector<T> &v) { for (T &x : v) is >> x; return is; }\ntemplate<typename A, typename B> istream &operator>>(istream &is, pair<A, B> &p) { return is >> p.first >> p.second; }\ntemplate<typename T> ostream &operator<<(ostream &os, const vector<vector<T>> &v) { int n = v.size(); rep(i, n) os << v[i] << (i == n - 1 ? \"\" : \"\\n\"); return os; }\ntemplate<typename T> ostream &operator<<(ostream &os, const vector<T> &v) { int n = v.size(); rep(i, n) os << v[i] << (i == n - 1 ? \"\" : \" \"); return os; }\ntemplate<typename A, typename B> ostream &operator<<(ostream &os, const pair<A, B> &p) { return os << p.first << ' ' << p.second; }\ntemplate<typename Head, typename Value> auto vectors(const Head &head, const Value &v) { return vector<Value>(head, v); }\ntemplate<typename Head, typename... Tail> auto vectors(Head x, Tail... tail) { auto inner = vectors(tail...); return vector<decltype(inner)>(x, inner); }\n// clang-format on\n\nmain {\n  while (true) {\n    int n, m;\n    cin >> n >> m;\n    if (n == 0 && m == 0) break;\n    vector<int> c(m), x(n);\n    cin >> c >> x;\n    auto dp = vectors(n + 1, 256, INF);\n    dp[0][128] = 0;\n    rep(i, n) rep(j, 256) {\n      if (dp[i][j] == INF) continue;\n      rep(k, m) {\n        int y = max(0LL, min(255LL, j + c[k]));\n        cmin(dp[i + 1][y], dp[i][j] + (x[i] - y) * (x[i] - y));\n      }\n    }\n    cout << *min_element(all(dp[n])) << endl;\n  }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define r(i,n) for(int i=0;i<n;i++)\n#define INF 100000000\nint dp[20001][256],n,m;\nmain(){\n  while(cin>>n>>m,n){\n    int b[m];int a[n+1];\n    r(i,m)cin>>b[i];\n    r(i,n)cin>>a[i+1];\n    r(i,n+1)r(j,256)if(dp[i][j]!=INF)dp[i][j]=INF;\n    dp[0][128]=1;\n    r(i,n)r(j,256)\n        if(dp[i][j]!=INF)r(k,m){\n          int p=j+b[k];\n          if(p>255)p=255;\n          if(p<0)p=0;\n          dp[i+1][p]=min(dp[i+1][p],dp[i][j]+(a[i+1]-p)*(a[i+1]-p));\n        }\n    int p=100000000;\n    r(i,256)if(dp[n][i]!=INF)\n      p=min(p,dp[n][i]);\n    cout<<p-1<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <bits/stdc++.h>\n#include <climits>\n#include <cmath>\n#include <complex>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <iostream>\n#include <list>\n#include <map>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <vector>\nusing namespace std;\n\n#define rep(X, S, E) for (int(X) = (S); (X) < (E); ++(X))\n#define rrep(X, S, E) for (int(X) = (E)-1; (X) >= (S); --(X))\n#define arep(X, Y) for (auto(X) : Y)\n#define all(X) (X).begin(), (X).end()\n#define pb push_back\n#define mp make_pair\n#define fi first\n#define sc second\n#define print(x) cout << x << endl\n#define printDouble(x) cout << fixed << setprecision(13) << x << endl\n#define chmin(x, y) x = min(x, y)\n#define chmax(x, y) x = max(x, y)\n\nusing ll = long long;\nusing pii = pair<int, int>;\nusing pll = pair<ll, ll>;\nusing vi = vector<int>;\nusing vl = vector<ll>;\n\nusing decendingQueue = priority_queue<ll, vl>;              //降順\nusing ascendingQueue = priority_queue<ll, vl, greater<ll>>; //昇順\n\nconst int dx[4] = {1, 0, -1, 0}, dy[4] = {0, 1, 0, -1};\nconst int INT_INF = 1e9;\nconst ll LL_INF = 1e18;\nconst int mod = 1000000007;\n\ntemplate <class T> void mySort(vector<T> &X, bool isAscending) {\n  // 昇順\n  if (isAscending) {\n    sort(all(X));\n  } else {\n    // 降順\n    sort(all(X), greater<T>());\n  }\n}\n\nlong long gcd(long long m, long long n) {\n  if (m < n)\n    return gcd(n, m);\n  if (n == 0)\n    return m;\n  return gcd(n, m % n);\n}\n\nlong long lcm(long long m, long long n) {\n  // m * nでlong型のオーバフローを発生させないため、先に割り算から行う\n  return m * (n / gcd(m, n));\n}\n\n// auto mod int\n// https://youtu.be/L8grWxBlIZ4?t=9858\n// https://youtu.be/ERZuLAxZffQ?t=4807 : optimize\n// https://youtu.be/8uowVvQ_-Mo?t=1329 : division\nstruct mint {\n  ll x; // typedef long long ll;\n  mint(ll x = 0) : x((x % mod + mod) % mod) {}\n  mint &operator+=(const mint a) {\n    if ((x += a.x) >= mod)\n      x -= mod;\n    return *this;\n  }\n  mint &operator-=(const mint a) {\n    if ((x += mod - a.x) >= mod)\n      x -= mod;\n    return *this;\n  }\n  mint &operator*=(const mint a) {\n    (x *= a.x) %= mod;\n    return *this;\n  }\n  mint operator+(const mint a) const {\n    mint res(*this);\n    return res += a;\n  }\n  mint operator-(const mint a) const {\n    mint res(*this);\n    return res -= a;\n  }\n  mint operator*(const mint a) const {\n    mint res(*this);\n    return res *= a;\n  }\n  mint pow(ll t) const {\n    if (!t)\n      return 1;\n    mint a = pow(t >> 1);\n    a *= a;\n    if (t & 1)\n      a *= *this;\n    return a;\n  }\n\n  // for prime mod\n  mint inv() const { return pow(mod - 2); }\n  mint &operator/=(const mint a) { return (*this) *= a.inv(); }\n  mint operator/(const mint a) const {\n    mint res(*this);\n    return res /= a;\n  }\n};\n\n// combination mod prime\n// https://www.youtube.com/watch?v=8uowVvQ_-Mo&feature=youtu.be&t=1619\nstruct combination {\n  vector<mint> fact, ifact;\n  combination(int n) : fact(n + 1), ifact(n + 1) {\n    assert(n < mod);\n    fact[0] = 1;\n    for (int i = 1; i <= n; ++i)\n      fact[i] = fact[i - 1] * i;\n    ifact[n] = fact[n].inv();\n    for (int i = n; i >= 1; --i)\n      ifact[i - 1] = ifact[i] * i;\n  }\n  mint operator()(int n, int k) {\n    if (k < 0 || k > n)\n      return 0;\n    return fact[n] * ifact[k] * ifact[n - k];\n  }\n};\n\nvector<long long> SieveOfEratosthenes(int max) {\n  vector<long long> sieve;\n  vector<long long> primes;\n\n  for (int i = 1; i < max + 1; ++i) {\n    sieve.push_back(i);\n  }\n\n  sieve[0] = 0;\n  for (int i = 2; i < max + 1; ++i) {\n    if (sieve[i - 1] != 0) {\n      primes.push_back(sieve[i - 1]);\n      for (int j = 2 * sieve[i - 1]; j < max + 1; j += sieve[i - 1]) {\n        sieve[j - 1] = 0;\n      }\n    }\n  }\n  return primes;\n}\n\nclass UnionFindTree {\nprivate:\n  vector<int> par;\n  vector<int> rnk;\n  vector<int> siz;\n\npublic:\n  UnionFindTree(int n) {\n    par.assign(n, -1);\n    rnk.assign(n, -1);\n    siz.assign(n, -1);\n\n    for (int i = 0; i < n; ++i) {\n      par[i] = i;\n      rnk[i] = 0;\n      siz[i] = 1;\n    }\n  }\n\n  int find(int x) {\n    if (par[x] == x)\n      return x;\n    else\n      return par[x] = find(par[x]);\n  }\n\n  bool same(int x, int y) { return find(x) == find(y); }\n\n  void unite(int x, int y) {\n    x = find(x);\n    y = find(y);\n    if (x == y)\n      return;\n    if (rnk[x] < rnk[y]) {\n      par[x] = y;\n      siz[y] += siz[x];\n    } else {\n      par[y] = x;\n      siz[x] += siz[y];\n      if (rnk[x] == rnk[y])\n        ++rnk[x];\n    }\n  }\n\n  int size(int x) {\n    x = find(x);\n    return siz[x];\n  }\n};\n\nclass Edge {\npublic:\n  ll from;\n  ll to;\n  ll cost;\n\n  Edge() {}\n  Edge(ll from, ll to, ll cost) {\n    this->from = from;\n    this->to = to;\n    this->cost = cost;\n  }\n\n  bool operator<(const Edge &edge) const {\n    return cost < edge.cost; //昇順\n  }\n};\n\nclass Graph {\npublic:\n  ll nodes; // ノード数\n  vector<Edge> edges;\n\n  Graph() {}\n  Graph(ll nodes) { this->nodes = nodes; }\n  void addEdge(ll from, ll to, ll cost) {\n    this->edges.push_back(Edge(from, to, cost));\n  }\n};\n\n// クラスカル法\n// 連結グラフの最小全域木を求める\nclass Kruskal {\nprivate:\n  Graph graph;\n  vector<Edge> MinimumSpanningTree;\n  ll minimumCost;\n  void searchMinimumSpanningTree() {\n    UnionFindTree uf(graph.nodes);\n    sort(all(graph.edges));\n    for (auto edge : graph.edges) {\n      if (!uf.same(edge.from, edge.to)) {\n        uf.unite(edge.from, edge.to);\n        MinimumSpanningTree.push_back(edge);\n      }\n    }\n  }\n\npublic:\n  Kruskal(Graph graph) { this->graph = graph; }\n  ll getMinimumSpanningTreeCost() {\n    searchMinimumSpanningTree();\n    ll cost = 0;\n    for (auto tr : MinimumSpanningTree) {\n      cost += tr.cost;\n    }\n    return cost;\n  }\n};\n\n// ダイクストラ法 O((E+V)logV)\n// 最小経路問題を解くためのアルゴリズム。辺の重みに負数を含む場合は利用不可\n// 無向グラフの場合はコメントアウト箇所をコメントイン\nclass Dijkstra {\nprivate:\n  Graph graph;\n  map<ll, vector<Edge>> fromPaths;\n  vl distances;\n  vl srcs;\n\npublic:\n  Dijkstra(Graph graph) {\n    this->graph = graph;\n    for (auto edge : graph.edges) {\n      fromPaths[edge.from].push_back(edge);\n      // fromPaths[edge->to].push_back(Edge(edge->to, edge->from, edge->cost));\n    }\n  }\n  void searchMinimumPathFrom(ll src) {\n    // 複数回呼ばれる度に計算する\n    distances = vl(graph.nodes + 1, LL_INF);\n    srcs = vl(graph.nodes + 1, LL_INF);\n\n    // 距離が近い順番に捜査していく\n    priority_queue<pll, vector<pll>, greater<pll>> pq;\n    distances[src] = 0;\n    srcs[src] = -1;\n\n    pq.push(mp(0ll, src));\n    while (!pq.empty()) {\n      int u = pq.top().second;\n      double uw = pq.top().first;\n      pq.pop();\n\n      if (distances[u] < uw) {\n        continue;\n      };\n\n      for (auto edge : fromPaths[u]) {\n        int v = edge.to;\n        ll w = edge.cost;\n        if (distances[v] > distances[u] + w) {\n          distances[v] = distances[u] + w;\n          srcs[v] = u;\n          pq.push(mp(distances[v], v));\n        }\n      }\n    }\n  };\n  ll getDistance(ll n) { return distances[n]; }\n  ll getFrom(ll n) { return srcs[n]; }\n};\n\n// ベルマンフォード O(|V||E|)\n// 負コストが含まれていても最短経路問題を解くためのアルゴリズム。閉路の検出も可能\n// 有向グラフ\nclass BellmanFord {\nprivate:\n  Graph graph;\n  // 閉路が含まれるかは個々のノードごとに管理する必要あり\n  vector<bool> hasNegativeCycles;\n  vector<ll> distances;\n  vl srcs;\n\npublic:\n  BellmanFord(Graph graph) {\n    ll nodes = graph.nodes + 1;\n\n    this->graph = graph;\n    distances = vector<ll>(nodes, LL_INF);\n    hasNegativeCycles = vector<bool>(nodes, false);\n  }\n  void searchMinimumPathFrom(ll src) {\n    distances[src] = 0;\n\n    for (ll i = 0; i < graph.nodes - 1; i++) {\n      for (auto edge : graph.edges) {\n        ll u = edge.from;\n        ll v = edge.to;\n        ll w = edge.cost;\n        if (distances[u] != LL_INF) {\n          chmin(distances[v], distances[u] + w);\n        }\n      }\n    }\n\n    for (auto edge : graph.edges) {\n      ll u = edge.from;\n      ll v = edge.to;\n      ll w = edge.cost;\n      if (distances[u] == LL_INF) {\n        continue;\n      }\n      if (distances[u] + w < distances[v]) {\n        hasNegativeCycles[v] = true;\n      }\n    }\n\n    for (ll i = 0; i < graph.nodes; i++) {\n      for (auto edge : graph.edges) {\n        ll u = edge.from;\n        ll v = edge.to;\n        ll w = edge.cost;\n        if (distances[u] == LL_INF) {\n          continue;\n        }\n        chmin(distances[v], distances[u] + w);\n        if (hasNegativeCycles[u] == true) {\n          hasNegativeCycles[v] = true;\n        }\n      }\n    }\n  }\n  ll getDistance(ll n) { return distances[n]; }\n  bool hasNegativeCycle(ll n) { return hasNegativeCycles[n]; }\n  ll getFrom(ll n) { return srcs[n]; }\n};\n\n// O(V^3) 有向グラフ\nclass WarshallFloyd {\nprivate:\n  Graph graph;\n  int nodes = this->graph.nodes + 1;\n  vector<vector<ll>> distances;\n\npublic:\n  WarshallFloyd(Graph graph) {\n    this->graph = graph;\n    nodes = this->graph.nodes + 1;\n    this->distances = vector<vector<ll>>(nodes, vector<ll>(nodes, LL_INF));\n    for (auto edge : graph.edges) {\n      int from = edge.from;\n      int to = edge.to;\n      int cost = edge.cost;\n      distances[from][to] = cost;\n    }\n  }\n  void searchMinimumPath() {\n    for (int k = 0; k < nodes; k++) {\n      for (int i = 0; i < nodes; i++) {\n        for (int j = 0; j < nodes; j++) {\n          if (distances[i][k] == LL_INF || distances[k][j] == LL_INF) {\n            continue;\n          }\n          if (distances[i][k] + distances[k][j] < distances[i][j]) {\n            distances[i][j] = distances[i][k] + distances[k][j];\n          }\n        }\n      }\n    }\n  }\n  ll getDistance(int from, int to) { return distances[from][to]; }\n};\n\ntemplate <typename T> class SegmentTree {\n  int n = 1; // 最下段のノード数. ただし、2の冪乗\n  vector<T> data;\n\n  T init;                      // 初期値\n  function<T(T, T)> mergeFunc; // 子ノードのmerge方法\n\npublic:\n  SegmentTree(int N, function<T(T, T)> _mergeFunc, T _init) {\n    mergeFunc = _mergeFunc;\n    init = _init;\n\n    while (n < N) {\n      n *= 2;\n    }\n\n    data = vector<T>(n * 2 - 1, _init); // 2の冪乗で確保が必要\n  }\n\n  // i番目の値(0-indexed)をxに変更\n  // O(logN)\n  void update(int i, T v) {\n    // 葉のノード\n    i += n - 1;\n    data[i] = v;\n\n    // 親も更新\n    while (i > 0) {\n      i = (i - 1) / 2; //親のindex\n      data[i] =\n          mergeFunc(data[i * 2 + 1], data[i * 2 + 2]); //親から見た子のindex\n    }\n  }\n\n  // i番目の値を返却\n  T get(int i) { return data[i + n - 1]; }\n\n  // [a, b)のmergeFuncを求めるクエリ\n  // ノードk（空間[l, r)が担当）が答える. ノード0の根から探索する\n  // 呼び出しはquery(a, b). その他の引数は再帰処理のため\n  // O(logN)\n  T query(int a, int b, int k = 0, int l = 0, int r = -1) {\n    // 最初の呼び出し\n    if (r < 0) {\n      return query(a, b, k, l, n);\n    }\n\n    // 区間が被らない場合\n    if (r <= a || b <= l) {\n      return init;\n    }\n\n    // 完全に含む場合\n    if (a <= l && r <= b) {\n      return data[k];\n    }\n\n    // 部分的に含む場合. 子ノードに聞く\n    T left = query(a, b, k * 2 + 1, l, (l + r) / 2);\n    T right = query(a, b, k * 2 + 2, (l + r) / 2, r);\n\n    return mergeFunc(left, right);\n  }\n};\n\nint main() {\n  while (true) {\n    int N, M;\n    cin >> N >> M;\n    if (N == 0 && M == 0) {\n      break;\n    }\n    vi C(M);\n    vi x(N);\n    rep(i, 0, M) { cin >> C[i]; }\n    rep(i, 0, N) { cin >> x[i]; }\n\n    // i番目まで見たときにmになるときの最小二乗和\n    vector<vi> dp(N + 1, vi(260, INT_INF));\n    dp[0][128] = 0;\n    rep(i, 0, N) {\n      rep(j, 0, 256) {\n        rep(m, 0, M) {\n          int nj = max(0, min(j + C[m], 255));\n          chmin(dp[i + 1][nj], dp[i][j] + (x[i] - nj) * (x[i] - nj));\n        }\n      }\n    }\n\n    int ans = INT_INF;\n    rep(j, 0, 256) { chmin(ans, dp[N][j]); }\n    print(ans);\n  }\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <vector>\n#include <complex>\n#include <algorithm>\n#include <set>\n#include <map>\n#include <queue>\n#include <string>\n#include <cstring>\n#include <stack>\n#include <cmath>\n#include <iomanip>\n#include <sstream>\n#include <cassert>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef ll li;\ntypedef pair<int,int> PI;\n#define EPS (1e-10L)\n#define rep(i,n) for(int i=0;i<(int)(n);++i)\n#define F first\n#define S second\n#define mp(a,b) make_pair(a,b)\n#define pb(a) push_back(a)\n#define SZ(a) (int)((a).size())\n#define ALL(a) a.begin(),a.end()\n#define FOR(it,a) for(__typeof(a.begin())it=a.begin();it!=a.end();++it)\nvoid pkuassert(bool t){t=1/t;};\nint dx[]={0,1,0,-1,1,1,-1,-1};\nint dy[]={1,0,-1,0,-1,1,1,-1};\n\nint n,m;\nint c[16];\n\n\nbool vis[256][20000];\n\nvoid solve(){\n  rep(i,m) cin >> c[i];\n  int x[n];\n  rep(i,n) cin >> x[i];\n  priority_queue<pair<int,PI> > q;\n  q.push(mp(0,mp(0,128)));\n  memset(vis,0,sizeof(vis));\n  while(!q.empty()){\n    int cc=-q.top().F;\n    int ne=q.top().S.F;\n    int cv=q.top().S.S;\n    q.pop();\n    if(vis[cv][ne]) continue;\n    vis[cv][ne]=true;\n    if(ne==n){\n      cout << cc << endl;\n      return;\n    }\n    rep(j,m){\n      ll nv=cv+c[j];\n      nv=max(nv,0LL);\n      nv=min(nv,255LL);\n      q.push(mp(-cc-(nv-x[ne])*(nv-x[ne]),mp(ne+1,nv)));\n    }\n  }\n}\n\nint main(int argc, char *argv[])\n{\n  while(cin >> n >> m && n) solve();\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define PB push_back\n#define MP make_pair\n#define REP(i,n) for (int i=0;i<(n);i++)\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define ALL(a) (a).begin(),(a).end()\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> P;\nconst int INF=2e9;\ndouble EPS=1e-10;\nint main(){\n      int n,m;\n      while(cin>>n>>m&&(n||m)){\n            int a[n],b[m];\n            ll ans=1e18;\n            REP(i,m)cin>>b[i];\n            REP(i,n)cin>>a[i];\n            REP(i,m){\n                  int now=128;\n                  ll res=0;\n                  REP(j,n){\n                        now+=b[i];\n                        now=min(255,max(0,now));\n                        res+=(a[j]-now)*(a[j]-now);\n                  }\n                  ans=min(ans,res);\n            }\n            cout<<ans<<endl;\n      }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <cmath>\n\nusing namespace std;\n\nint main() {\n\tint n, m;\n\twhile (cin >> n >> m) {\n\t\tif (n == 0 && m == 0) {\n\t\t\tbreak;\n\t\t}\n\t\tvector<long long int> code(m);\n\t\tfor (int i = 0; i < m; i++) {\n\t\t\tcin >> code[i];\n\t\t}\n\t\tvector<long long int> x(n);\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tcin >> x[i];\n\t\t}\n\t\tvector< vector<long long int> > dp(n, vector<long long int>(256, -1));\n\t\tfor (int i = 0; i < m; i++) {\n\t\t\tlong long int a = 128+code[i];\n\t\t\tif (a < 0) {\n\t\t\t\ta = 0;\n\t\t\t} else if (a > 255) {\n\t\t\t\ta = 255;\n\t\t\t}\n\t\t\tdp[0][a] = (x[0]-a)*(x[0]-a);\n\t\t\t//cout << a << ' ' << dp[0][a] << endl;\n\t\t}\n\t\tfor (int i = 0; i < n-1; i++) {\n\t\t\tfor (int j = 0; j < 256; j++) {\n\t\t\t\tfor (int k = 0; k < m; k++) {\n\t\t\t\t\tlong long int a = j+code[k];\n\t\t\t\t\tif (a < 0) {\n\t\t\t\t\t\ta = 0;\n\t\t\t\t\t} else if (a > 255) {\n\t\t\t\t\t\ta = 255;\n\t\t\t\t\t}\n\t\t\t\t\tif (dp[i][j] != -1) {\n\t\t\t\t\t\tif (dp[i+1][a] == -1) {\n\t\t\t\t\t\t\tdp[i+1][a] = dp[i][j]+(x[i+1]-a)*(x[i+1]-a);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdp[i+1][a] = min(dp[i+1][a], dp[i][j]+(x[i+1]-a)*(x[i+1]-a));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t//cout << dp[i][255] << endl;\n\t\t}\n\t\tlong long int MIN = -1;\n\t\tfor (int i = 0; i < 256; i++) {\n\t\t\tif (MIN == -1) {\n\t\t\t\tMIN = dp[n-1][i];\n\t\t\t} else if (dp[n-1][i] != -1){\n\t\t\t\tMIN = min(MIN, dp[n-1][i]);\n\t\t\t}\n\t\t}\n\t\tcout << MIN << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <tuple>\n#include <queue>\n#include <set>\n#include <cstdio>\n#include <climits>\n#include <cmath>\n#include <array>\n#include <functional>\n#include <sstream>\n#include <list>\n#include <set>\nconst int MOD=1000000007;\nconst int INF=1000000000;\nusing namespace std;\ntypedef long long ll;\ntypedef vector<int> vi;\nconst double eps=1e-9;\nconst int inf=1e9;\ntypedef pair<int,int> P;\nstruct Point\n{\n  double x,y;\n  Point(){x=0;y=0;}\n  Point(double d_x,double d_y){x=d_x,y=d_y;}\n  double operator*(Point obj){return obj.x*x+obj.y*y;}\n  double operator%(Point obj){return obj.y*x-obj.x*y;}\n  Point operator*(double b){Point tmp;tmp.x=x*b;tmp.y=y*b;return tmp;}\n  Point operator/(double b){Point tmp;tmp.x=x/b;tmp.y=y/b;return tmp;}\n  Point operator+(Point obj){Point tmp;tmp.x=x+obj.x;tmp.y=y+obj.y;return tmp;}\n  Point operator-(){Point tmp;tmp.x=-x;tmp.y=-y;return tmp;}\n  Point operator-(Point obj){Point tmp;tmp.x=x-obj.x;tmp.y=y-obj.y;return tmp;}\n  Point operator-=(Point obj){x-=obj.x;y-=obj.y;return *this;}\n  Point operator+=(Point obj){x+=obj.x;y+=obj.y;return *this;}\n  Point operator/=(double b){x=x/b;y=y/b;return *this;}\n  Point operator*=(double b){x=x*b;y=y*b;return *this;}\n  double size(){return hypot(x,y);}\n  Point unit(){return Point(x/size(),y/size());}\n  Point normal(){return Point(y,-x);}\n  double atan(){return atan2(y,x);}\n};\n\nbool operator<(Point a,Point b){return a.x!=b.x?a.x<b.x:a.y<b.y;}\nbool operator>(Point a,Point b){return b<a;}\nbool operator<=(Point a,Point b){return !(b<a);}\nbool operator>=(Point a,Point b){return !(a<b);}\nbool operator==(Point a,Point b){return (a-b).size()<eps;}\nbool operator!=(Point a,Point b){return !(a==b);}\n\nbool equal(double a,double b){return abs(a-b)<eps;}\ndouble cross(Point a,Point b){return a%b;}\ndouble dot(Point a,Point b){return a*b;}\n\nint ccw(Point a,Point b,Point c)\n{\n  b=b-a;\n  c=c-a;\n  if(b%c>0) return +1;\n  else if(b%c<0)return -1;\n  else if(b*c<0) return +2;\n  else if(b.size()<c.size()) return -2;\n  else return 0;\n}\n\nint n,m;\nint dp[200005][256];\n\nint main(int argc,char const* argv[])\n{\n  int n,m;\n  \n  while(1)\n    {\n      cin >> n >> m;\n      if(!n) break;\n      vi C(m);\n      vi x(n);\n      fill_n((int *)dp,sizeof(dp)/sizeof(int),inf);\n      for(int i=0;i<m;i++)\n\t{\n\t  cin >> C[i];\n\t}\n      for(int i=0;i<n;i++)\n\t{\n\t  cin >> x[i];\n\t}\n      dp[0][128]=0;\n      for(int i=0;i<n;i++)\n\t{\n\t  for(int j=0;j<256;j++)\n\t    {\n\t      if(dp[i][j]==inf){continue;}\n\t      for(int k=0;k<m;k++)\n\t\t{\n\t\t  int yn=j+C[k];\n\t\t  if(yn>255) yn=255;\n\t\t  else if(yn<0) yn=0;\n\t\t  int err=(x[i]-yn)*(x[i]-yn);\n\t\t  dp[i+1][yn]=min(dp[i+1][yn],dp[i][j]+err);\n\t\t}\n\t    }\n\t}\n      cout << *min_element(dp[n],dp[n]+256) << endl;\n    }\n  return 0;\n}\n      \n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <cstdio>\n#include <vector>\n#include <string>\n#include <deque>\n#include <memory.h>\n\n#define rep(idx, max)\t\t\tfor(int idx = 0, idx##Max = (max); idx < idx##Max; idx ++)\n#define rrep(idx, min, max)\tfor(int idx = (min), idx##Max = max; idx < idx##Max; idx ++)\n#define erep(idx, min, max)\tfor(int idx = (min), idx##Max = max; idx <= idx##Max; idx ++)\n#define rev(idx, max)\t\t\tfor(int idx = (max) - 1; idx >= 0; idx --)\n#define rrev(idx, min, max)\tfor(int idx = (max) - 1, idx##Min = (min); idx >= idx##Min; idx --)\n#define erev(idx, min, max)\tfor(int idx = (max), idx##Min = (min); idx >= idx##Min; idx --)\n#define foreach(it, obj)\tfor(auto it = obj.begin(), it##End = obj.end(); it >= it##End; it ++)\n#define CLIP(x, min_, max_)\tstd::max(min_, std::min(max_, x))\n\nusing namespace\tstd;\n\ntypedef std::vector<int>\tVEC;\n\nVEC\tg_signal;\nVEC\tg_codeBook;\n\n#define\tMAX_SIG_LEN\t32768\n#define\tMAX_CB_LEN\t32\n#define\tMAX_MOD_VAL\t256\n\ninline int Pow2i(int x)\t{\treturn(x * x);\t}\nint\tSolve()\n{\n\tstatic\tint\tcache[MAX_SIG_LEN][MAX_MOD_VAL];\n\t\n\t::memset(cache, 0x7F, sizeof(cache));\t// Fill chache with '0x7F', thus all element of 'cache' will be 0x7F7F7F7F.\n\tcache[0][128]\t= 0;\n\t\n\trep(i, g_signal.size())\n\t{\n\t\trep(y, MAX_MOD_VAL)\n\t\t{\n\t\t\tif(cache[i][y] == 0x7F7F7F7F)\t{\tcontinue;\t}\n\t\t\trep(k, g_codeBook.size())\n\t\t\t{\n\t\t\t\tint yn = CLIP(y + g_codeBook[k], 0, 255);\n\t\t\t\tcache[i + 1][yn]\t= min(cache[i + 1][yn], cache[i][y] + ::Pow2i(g_signal[i] - yn));\n\t\t\t//\t::printf(\"y: %d, cb: %d, yn: %d, c_{i}: %d, c_{i+1}: %d\\n\", y, g_codeBook[k], yn, cache[i][y], cache[i + 1][yn]);\n\t\t\t}\n\t\t\t//::puts(\"\");\n\t\t}\n\t}\n\treturn(*min_element(cache[g_signal.size()], cache[g_signal.size()] + MAX_MOD_VAL));\n}\n\nint main()\n{\n\tint sigLen, cbLen;\n\twhile(cin >> sigLen >> cbLen, sigLen)\n\t{\n\t\tg_codeBook.resize(cbLen);\n\t\tg_signal.resize(sigLen);\n\t\trep(i, g_codeBook.size())\t{\tcin >> g_codeBook[i];\t}\n\t\trep(i, g_signal.size())\t{\tcin >> g_signal[i];\t}\n\t\t::printf(\"%d\\n\", ::Solve());\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <utility>\n#include <vector>\n#include <list>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <string>\n#include <sstream>\n#include <cstring>\n#include <cstdlib>\n\nusing namespace std;\n\n#define ALL(c) c.begin(),c.end()\n#define RALL(c) c.rbegin(),c.rend()\n#define SORT(x) sort((x).begin(),(x).end())\n#define REP(i,x,y) for(int i=(x);i<(y);++i)\n#define MP(a,b) make_pair((a),(b))\n#define F_ first\n#define S_ second\n#define debug(x) #x << \"=\" << (x)\n \n#ifdef DEBUG\n#define _GLIBCXX_DEBUG\n#define dump(x) std::cerr << debug(x) << \" (L:\" << __LINE__ << \")\" << std::endl\n#else\n#define dump(x)\n#endif\n\ntypedef long long int lli;\ntypedef pair<int,int> pii;\n\nconst int INF=1<<30;\nconst long long int INF_=1LL<<58;\nconst double EPS=1e-9;\nconst int dx[]={1,0,-1,0},dy[]={0,1,0,-1};\n\ntemplate <typename T> ostream &operator<<(ostream &os, const vector<T> &vec){\n\tos << \"[\";\n\tfor (const auto &v : vec) {\n\t\tos << v << \",\";\n\t}\n\tos << \"]\";\n\treturn os;\n}\n\nint main(){\n\tstd::ios::sync_with_stdio(false);\n\tstd::cin.tie(0);\n\tint N,M;\n\twhile(true){\n\t\tcin >> N >> M;\n\t\tif(!N&&!M) break;\n\t\tvector<lli> C(M),x(N+1);\n\t\tREP(i,0,M) cin >> C[i];\n\t\tREP(i,1,N+1) cin >> x[i];\n\t\tvector<vector<lli>> dp(N+1,vector<lli>(256,INF_));\n\t\tdp[0][128]=0;\n\t\tlli ans=INF_;\n\t\tREP(i,1,N+1){\n\t\t\tREP(j,0,256){\n\t\t\t\tREP(k,0,M){\n\t\t\t\t\tlli v=j-C[k];\n\t\t\t\t\tif(v<0) v=0;\n\t\t\t\t\tif(v>256) v=255;\n\t\t\t\t\tdp[i][j]=min(dp[i][j],dp[i-1][v]+(j-x[i])*(j-x[i]));\n\t\t\t\t}\n\t\t\t\tif(i==N) ans=min(ans,dp[i][j]);\n\t\t\t}\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n\nusing namespace std;\n\n#define chmin(a, b) (a=a<b?a:b);\n\nconst int inf = 1e9;\n\nint N, M;\nint c[16], x[20001];\n\nint dp[20001][256];\n\nsigned main()\n{\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n\n    while (cin >> N >> M, N) {\n        for (int i = 0; i <= 20000; ++i) for (int j = 0; j < 256; ++j) dp[i][j] = inf;\n\n        for (int i = 0; i < M; ++i) cin >> c[i];\n        for (int i = 1; i <= N; ++i) cin >> x[i];\n\n        dp[0][128] = 0;\n\n        for (int i = 1; i <= N; ++i) {\n            for (int j = 0; j < 256; ++j) {\n                if (dp[i - 1][j] != inf) {\n                    for (int k = 0; k < M; ++k) {\n                        int v = (c[k] < 0 ? max(j + c[k], 0) : min(j + c[k], 255));\n                        int w = abs(v - x[i]);\n                        chmin(dp[i][v], dp[i - 1][j] + w * w);\n                    }\n                }\n            }\n        }\n\n        cout << *min_element(dp[N], dp[N] + 256) << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define fi first\n#define se second\n#define repl(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define repr(i,n) for(int i=(int)(n-1);i>=0;i--)\n#define rep(i,n) repl(i,0,n)\n#define each(itr,v) for(auto itr:v)\n#define pb(s) push_back(s)\n#define all(x) (x).begin(),(x).end()\n#define dbg(x) cout << #x\" = \" << x << endl\n#define print(x) cout << x << endl\n#define maxch(x,y) x=max(x,y)\n#define minch(x,y) x=min(x,y)\n#define uni(x) x.erase(unique(all(x)),x.end())\n#define exist(x,y) (find(all(x),y)!=x.end())\n#define bcnt(x) bitset<32>(x).count()\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int, int> P;\ntypedef pair<P, int> PPI;\ntypedef pair<int, P> PIP;\ntypedef pair<ll, ll> PL;\ntypedef pair<P, ll> PPL;\ntypedef set<int> S;\n\n#define INF INT_MAX/3\n#define MAX_N 1000000001\n\n\nint main(){\n  cin.sync_with_stdio(false);\n  int n, m;\n  while(cin >> n >> m, n | m) {\n    vector<int> c(m), x(n);\n    rep(i, m) cin >> c[i];\n    rep(i, n) cin >> x[i];\n\n    int dp[n + 1][256];\n    rep(i, n + 1)rep(j, 256) dp[i][j] = INF;\n    dp[0][128] = 0;\n    rep(i, n) {\n      rep(j, 256) {\n        if (dp[i][j] < INF) {\n          rep(k, m) {\n            int tmp = j + c[k];\n            if (tmp > 255) tmp = 255;\n            else if (tmp < 0) tmp = 0;\n            minch(dp[i + 1][tmp], dp[i][j] + (x[i] - tmp) * (x[i] - tmp));\n          }\n        }\n      }\n    }\n\n    int ans = INF;\n    rep(i, 256) minch(ans, dp[n][i]);\n\n    cout << ans << endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nconstexpr int INF = 1e9;\n\nint main() {\n    int N, M;\n    while(cin >> N >> M, N) {\n        vector<int> C(M), x(N);\n        for(int i=0; i<M; ++i) {\n            cin >> C[i];\n        }\n        for(int i=0; i<N; ++i) {\n            cin >> x[i];\n        }\n        vector<vector<int>> dp(N+1, vector<int>(256, INF));\n        dp[0][128] = 0;\n        for(int i=0; i<N; ++i) {\n            for(int j=0; j<256; ++j) {\n                for(int k=0; k<M; ++k) {\n                    int next = min(255, max(0, j+C[k]));\n                    dp[i+1][next] = min(dp[i+1][next], dp[i][j] + (x[i] - next) * (x[i] - next));\n                }\n            }\n        }\n        cout << *min_element(dp[N].begin(), dp[N].end()) << endl;\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "/**\n * \n */\n\n// header {{{\n#include <bits/stdc++.h>\nusing namespace std;\n\n#define CPP_STR(x) CPP_STR_I(x)\n#define CPP_CAT(x,y) CPP_CAT_I(x,y)\n#define CPP_STR_I(args...) #args\n#define CPP_CAT_I(x,y) x ## y\n\n#define SFINAE(pred...) std::enable_if_t<(pred), std::nullptr_t> = nullptr\n\n#define ASSERT(expr...) assert((expr))\n\nusing i8  = int8_t;\nusing u8  = uint8_t;\nusing i16 = int16_t;\nusing u16 = uint16_t;\nusing i32 = int32_t;\nusing u32 = uint32_t;\nusing i64 = int64_t;\nusing u64 = uint64_t;\n\nusing f32 = float;\nusing f64 = double;\nusing f80 = __float80;\n// }}}\n\nconstexpr i64 INF  = INT64_C(1'010'000'000'000'000'017);\nconstexpr f64 FINF = 1e100;\n\nconstexpr i64 MOD = INT64_C(1'000'000'007);\n//constexpr i64 MOD = INT64_C(998'244'353);\n\nconstexpr f64 EPS = 1e-12;\n\nconstexpr f64 PI = 3.14159265358979323846;\n\n// util {{{\n#define FOR(i, start, end) for(i64 i = (start), CPP_CAT(i,xxxx_end)=(end); i < CPP_CAT(i,xxxx_end); ++i)\n#define REP(i, n) FOR(i, 0, n)\n\n#define ALL(f,c,...) (([&](decltype((c)) cccc) { return (f)(std::begin(cccc), std::end(cccc), ## __VA_ARGS__); })(c))\n\n#define LIFT(f) ([](auto&&... args) -> decltype(auto) { return (f)(std::forward<decltype(args)>(args)...); })\n\ntemplate<typename C>\nconstexpr i64 SIZE(const C& c) noexcept { return static_cast<i64>(c.size()); }\n\ntemplate<typename T, size_t N>\nconstexpr i64 SIZE(const T (&)[N]) noexcept { return static_cast<i64>(N); }\n\ntemplate<typename T, SFINAE(is_signed<T>::value)>\nconstexpr T ABS(T x) noexcept {\n    return x < 0 ? -x : x;\n}\n\ntemplate<typename T>\nconstexpr i64 CMP(T x, T y) noexcept { return (y<x) - (x<y); }\n\ntemplate<typename T>\nconstexpr i64 SGN(T x) noexcept { return CMP(x,T(0)); }\n\ntemplate<typename T, typename U, typename Comp=less<>>\nconstexpr bool chmax(T& xmax, const U& x, Comp comp={}) noexcept {\n    if(comp(xmax, x)) {\n        xmax = x;\n        return true;\n    }\n    return false;\n}\n\ntemplate<typename T, typename U, typename Comp=less<>>\nconstexpr bool chmin(T& xmin, const U& x, Comp comp={}) noexcept {\n    if(comp(x, xmin)) {\n        xmin = x;\n        return true;\n    }\n    return false;\n}\n\ntemplate<typename BinaryFunc, typename UnaryFunc>\nauto ON(BinaryFunc&& bf, UnaryFunc&& uf) {\n    return [bf=forward<BinaryFunc>(bf),uf=forward<UnaryFunc>(uf)](const auto& x, const auto& y) {\n        return bf(uf(x), uf(y));\n    };\n}\n\ntemplate<typename F>\nauto LT_ON(F&& f) {\n    return ON(less<>{}, forward<F>(f));\n}\n\ntemplate<typename F>\nauto GT_ON(F&& f) {\n    return ON(greater<>{}, forward<F>(f));\n}\n\ntemplate<typename F>\nauto EQ_ON(F&& f) {\n    return ON(equal_to<>{}, forward<F>(f));\n}\n\ntemplate<typename F>\nauto NE_ON(F&& f) {\n    return ON(not_equal_to<>{}, forward<F>(f));\n}\n\n// tuple {{{\ntemplate<i64 I=0, typename F, typename... TS, SFINAE(sizeof...(TS) == I)>\nvoid tuple_enumerate(tuple<TS...>&, F&&) {}\n\ntemplate<i64 I=0, typename F, typename... TS, SFINAE(sizeof...(TS) > I)>\nvoid tuple_enumerate(tuple<TS...>& t, F&& f) {\n    f(I, get<I>(t));\n    tuple_enumerate<I+1>(t, forward<F>(f));\n}\n\ntemplate<i64 I=0, typename F, typename... TS, SFINAE(sizeof...(TS) == I)>\nvoid tuple_enumerate(const tuple<TS...>&, F&&) {}\n\ntemplate<i64 I=0, typename F, typename... TS, SFINAE(sizeof...(TS) > I)>\nvoid tuple_enumerate(const tuple<TS...>& t, F&& f) {\n    f(I, get<I>(t));\n    tuple_enumerate<I+1>(t, forward<F>(f));\n}\n// }}}\n\n// container {{{\ntemplate<typename T> struct is_container : false_type {};\ntemplate<typename T, size_t N> struct is_container<array<T,N>> : true_type {};\ntemplate<typename... Args> struct is_container<vector<Args...>> : true_type {};\ntemplate<typename... Args> struct is_container<deque<Args...>> : true_type {};\ntemplate<typename... Args> struct is_container<list<Args...>> : true_type {};\ntemplate<typename... Args> struct is_container<forward_list<Args...>> : true_type {};\ntemplate<typename... Args> struct is_container<set<Args...>> : true_type {};\ntemplate<typename... Args> struct is_container<multiset<Args...>> : true_type {};\ntemplate<typename... Args> struct is_container<unordered_set<Args...>> : true_type {};\ntemplate<typename... Args> struct is_container<unordered_multiset<Args...>> : true_type {};\ntemplate<typename... Args> struct is_container<map<Args...>> : true_type {};\ntemplate<typename... Args> struct is_container<multimap<Args...>> : true_type {};\ntemplate<typename... Args> struct is_container<unordered_map<Args...>> : true_type {};\ntemplate<typename... Args> struct is_container<unordered_multimap<Args...>> : true_type {};\n\ntemplate<typename T, typename Enable=void>\nstruct ProconHash {\n    size_t operator()(const T& x) const noexcept {\n        return hash<T>{}(x);\n    }\n};\n\ntemplate<typename T>\nsize_t procon_hash_value(const T& x) noexcept {\n    return ProconHash<T>{}(x);\n}\n\nsize_t procon_hash_combine(size_t h1, size_t h2) noexcept {\n    constexpr size_t M = UINT64_C(0xc6a4a7935bd1e995);\n    constexpr int    R = 47;\n\n    h2 *= M;\n    h2 ^= h2 >> R;\n    h2 *= M;\n\n    h1 ^= h2;\n    h1 *= M;\n\n    h1 += 0xe6546b64;\n\n    return h1;\n}\n\ntemplate<typename T1, typename T2>\nstruct ProconHash<pair<T1,T2>> {\n    size_t operator()(const pair<T1,T2>& p) const noexcept {\n        size_t h1 = procon_hash_value(p.first);\n        size_t h2 = procon_hash_value(p.second);\n        return procon_hash_combine(h1, h2);\n    }\n};\n\ntemplate<typename... TS>\nstruct ProconHash<tuple<TS...>> {\n    size_t operator()(const tuple<TS...>& t) const noexcept {\n        size_t h = 0;\n        tuple_enumerate(t, [&h](i64, const auto& e) {\n            h = procon_hash_combine(h, procon_hash_value(e));\n        });\n        return h;\n    }\n};\n\ntemplate<typename C>\nstruct ProconHash<C,enable_if_t<is_container<C>::value>> {\n    size_t operator()(const C& c) const noexcept {\n        size_t h = 0;\n        for(const auto& e : c)\n            h = procon_hash_combine(h, procon_hash_value(e));\n        return h;\n    }\n};\n\ntemplate<typename T, typename Hash=ProconHash<T>, typename Eq=equal_to<T>>\nusing HashSet = unordered_set<T,Hash,Eq>;\ntemplate<typename K, typename V, typename Hash=ProconHash<K>, typename Eq=equal_to<K>>\nusing HashMap = unordered_map<K,V,Hash,Eq>;\ntemplate<typename T, typename Hash=ProconHash<T>, typename Eq=equal_to<T>>\nusing HashMultiset = unordered_multiset<T,Hash,Eq>;\ntemplate<typename K, typename V, typename Hash=ProconHash<K>, typename Eq=equal_to<K>>\nusing HashMultimap = unordered_multimap<K,V,Hash,Eq>;\n\ntemplate<typename T>\nauto vec_make(i64 n, T x) {\n    return vector<T>(n, x);\n}\n\ntemplate<typename T, typename... Args, SFINAE(sizeof...(Args) >= 2)>\nauto vec_make(i64 n, Args... args) {\n    auto inner = vec_make<T>(args...);\n    return vector<decltype(inner)>(n, inner);\n}\n\ntemplate<typename T>\nauto vec_reserve(i64 cap) {\n    vector<T> res;\n    res.reserve(cap);\n    return res;\n}\n\ntemplate<typename T=i64>\nauto vec_iota(i64 n, T init={}) {\n    vector<i64> res(n);\n    ALL(iota, res, init);\n    return res;\n}\n\ntemplate<typename T, typename Comp, typename Cont=vector<T>>\nauto priority_queue_make(const Comp& comp, Cont&& cont={}) {\n    return priority_queue<T,remove_reference_t<Cont>,Comp>(comp, forward<Cont>(cont));\n}\n\ntemplate<typename T, typename Comp>\nauto priority_queue_reserve(const Comp& comp, i64 cap) {\n    return priority_queue<T,vector<T>,Comp>(comp, vec_reserve<T>(cap));\n}\n\ntemplate<typename T, size_t N, size_t... NS>\nstruct ArrayType {\n    using type = array<typename ArrayType<T,NS...>::type,N>;\n};\n\ntemplate<typename T, size_t N>\nstruct ArrayType<T,N> {\n    using type = array<T,N>;\n};\n\ntemplate<typename T, size_t... NS>\nusing Array = typename ArrayType<T,NS...>::type;\n\ntemplate<typename T, size_t N>\nT& array_at(Array<T,N>& ary, i64 i) {\n    return ary[i];\n}\n\ntemplate<typename T, size_t N, size_t... NS, typename... Args>\nT& array_at(Array<T,N,NS...>& ary, i64 i, Args... args) {\n    return array_at<T,NS...>(ary[i], args...);\n}\n\ntemplate<typename T, size_t N>\nconst T& array_at(const Array<T,N>& ary, i64 i) {\n    return ary[i];\n}\n\ntemplate<typename T, size_t N, size_t... NS, typename... Args>\nconst T& array_at(const Array<T,N,NS...>& ary, i64 i, Args... args) {\n    return array_at<T,NS...>(ary[i], args...);\n}\n\ntemplate<typename T, typename C>\nT POP(stack<T,C>& stk) {\n    T x = stk.top(); stk.pop();\n    return x;\n}\n\ntemplate<typename T, typename C>\nT POP(queue<T,C>& que) {\n    T x = que.front(); que.pop();\n    return x;\n}\n\ntemplate<typename T, typename C, typename Comp>\nT POP(priority_queue<T,C,Comp>& que) {\n    T x = que.top(); que.pop();\n    return x;\n}\n// }}}\n\n// fixpoint {{{\ntemplate<typename F>\nclass FixPoint {\npublic:\n    explicit constexpr FixPoint(F&& f) : f_(forward<F>(f)) {}\n\n    template<typename... Args>\n    constexpr decltype(auto) operator()(Args&&... args) const {\n        return f_(*this, forward<Args>(args)...);\n    }\n\nprivate:\n    F f_;\n};\n\ntemplate<typename F>\nconstexpr decltype(auto) FIX(F&& f) {\n    return FixPoint<F>(forward<F>(f));\n}\n\ntemplate<typename F, size_t... NS>\nclass FixPointMemo {\npublic:\n    explicit FixPointMemo(F&& f) : f_(forward<F>(f)) {}\n\n    template<typename... Args>\n    decltype(auto) operator()(Args... args) const {\n        using R = decltype(f_(*this,args...));\n        static Array<bool,NS...> done {};\n        static Array<R,NS...>    memo;\n\n        if(!array_at<bool,NS...>(done,args...)) {\n            array_at<R,NS...>(memo,args...) = f_(*this,args...);\n            array_at<bool,NS...>(done,args...) = true;\n        }\n        return array_at<R,NS...>(memo,args...);\n    }\n\nprivate:\n    F f_;\n};\n\ntemplate<size_t... NS, typename F>\ndecltype(auto) FIXMEMO(F&& f) {\n    return FixPointMemo<F,NS...>(forward<F>(f));\n}\n// }}}\n\n// math {{{\n/*constexpr*/ i64 GCD(i64 a, i64 b) noexcept {\n    /*constexpr*/ auto f_gcd = FIX([](auto&& self, i64 aa, i64 bb) {\n        if(bb == 0) return aa;\n        return self(bb, aa%bb);\n    });\n    return f_gcd(ABS(a), ABS(b));\n}\n\n/*constexpr*/ i64 LCM(i64 a, i64 b) noexcept {\n    ASSERT(a != 0 && b != 0);\n    /*constexpr*/ auto f_gcd = FIX([](auto&& self, i64 aa, i64 bb) {\n        if(bb == 0) return aa;\n        return self(bb, aa%bb);\n    });\n    a = ABS(a);\n    b = ABS(b);\n    return a / f_gcd(a,b) * b;\n}\n\n/*constexpr*/ tuple<i64,i64,i64> EXTGCD(i64 a, i64 b) noexcept {\n    /*constexpr*/ auto impl = FIX([](auto&& self, i64 aa, i64 bb) -> tuple<i64,i64,i64> {\n        if(bb == 0) return make_tuple(aa, 1, 0);\n        i64 g,x,y; tie(g,x,y) = self(bb, aa%bb);\n        return make_tuple(g, y, x-(aa/bb)*y);\n    });\n    i64 g,x,y; tie(g,x,y) = impl(ABS(a), ABS(b));\n    x *= SGN(a);\n    y *= SGN(b);\n    return make_tuple(g, x, y);\n}\n// }}}\n\n// string {{{\nauto str_reserve(i64 cap) {\n    string res;\n    res.reserve(cap);\n    return res;\n}\n// }}}\n\n// input {{{\ntemplate<typename T, typename Enable=void>\nstruct Scan {\n    static T scan(istream& in) {\n        T res;\n        in >> res;\n        return res;\n    }\n};\n\ntemplate<typename T, typename Enable=void>\nstruct Scan1;\n\ntemplate<typename T>\nstruct Scan1<T,enable_if_t<is_integral<T>::value && !is_same<T,bool>::value>> {\n    static T scan1(istream& in) {\n        return Scan<T>::scan(in) - 1;\n    }\n};\n\ntemplate<typename T1, typename T2>\nstruct Scan<pair<T1,T2>> {\n    static pair<T1,T2> scan(istream& in) {\n        T1 x = Scan<T1>::scan(in);\n        T2 y = Scan<T2>::scan(in);\n        return {x,y};\n    }\n};\n\ntemplate<typename T1, typename T2>\nstruct Scan1<pair<T1,T2>> {\n    static pair<T1,T2> scan1(istream& in) {\n        T1 x = Scan1<T1>::scan1(in);\n        T2 y = Scan1<T2>::scan1(in);\n        return {x,y};\n    }\n};\n\ntemplate<typename... TS>\nstruct Scan<tuple<TS...>> {\n    static tuple<TS...> scan(istream& in) {\n        return scan_impl<0>(in);\n    }\nprivate:\n    template<i64 I, SFINAE(sizeof...(TS) == I)>\n    static auto scan_impl(istream&) {\n        return make_tuple();\n    }\n    template<i64 I, SFINAE(sizeof...(TS) > I)>\n    static auto scan_impl(istream& in) {\n        using T = tuple_element_t<I,tuple<TS...>>;\n        auto head = make_tuple(Scan<T>::scan(in));\n        return tuple_cat(head, scan_impl<I+1>(in));\n    }\n};\n\ntemplate<typename... TS>\nstruct Scan1<tuple<TS...>> {\n    static tuple<TS...> scan1(istream& in) {\n        return scan1_impl<0>(in);\n    }\nprivate:\n    template<i64 I, SFINAE(sizeof...(TS) == I)>\n    static auto scan1_impl(istream&) {\n        return make_tuple();\n    }\n    template<i64 I, SFINAE(sizeof...(TS) > I)>\n    static auto scan1_impl(istream& in) {\n        using T = tuple_element_t<I,tuple<TS...>>;\n        auto head = make_tuple(Scan1<T>::scan1(in));\n        return tuple_cat(head, scan1_impl<I+1>(in));\n    }\n};\n\ntemplate<typename T=i64>\nT RD() {\n    return Scan<T>::scan(cin);\n}\n\ntemplate<typename T=i64>\nT RD1() {\n    return Scan1<T>::scan1(cin);\n}\n\ntemplate<typename T=i64>\nauto RD_VEC(i64 n) {\n    auto res = vec_reserve<T>(n);\n    REP(_, n) {\n        res.emplace_back(RD<T>());\n    }\n    return res;\n}\n\ntemplate<typename T=i64>\nauto RD1_VEC(i64 n) {\n    auto res = vec_reserve<T>(n);\n    REP(_, n) {\n        res.emplace_back(RD1<T>());\n    }\n    return res;\n}\n\ntemplate<typename T=i64>\nauto RD_VEC2(i64 h, i64 w) {\n    auto res = vec_reserve<vector<T>>(h);\n    REP(_, h) {\n        res.emplace_back(RD_VEC<T>(w));\n    }\n    return res;\n}\n\ntemplate<typename T=i64>\nauto RD1_VEC2(i64 h, i64 w) {\n    auto res = vec_reserve<vector<T>>(h);\n    REP(_, h) {\n        res.emplace_back(RD1_VEC<T>(w));\n    }\n    return res;\n}\n// }}}\n\n// output {{{\ntemplate<typename T, typename Enable=void>\nstruct Fmt {\n    static void fmt(ostream& out, const T& x) { out << x; }\n};\n\ntemplate<typename T>\nvoid fmt_write(ostream& out, const T& x) {\n    Fmt<T>::fmt(out, x);\n}\n\ntemplate<typename... TS>\nstruct Fmt<tuple<TS...>> {\n    static void fmt(ostream& out, const tuple<TS...>& t) {\n        tuple_enumerate(t, [&out](i64 i, const auto& e) {\n            if(i != 0) out << ' ';\n            fmt_write(out, e);\n        });\n    }\n};\n\ntemplate<typename T1, typename T2>\nstruct Fmt<pair<T1,T2>> {\n    static void fmt(ostream& out, const pair<T1,T2>& p) {\n        return fmt_write(out, make_tuple(p.first,p.second));\n    }\n};\n\ntemplate<typename C>\nstruct Fmt<C,enable_if_t<is_container<C>::value>> {\n    static void fmt(ostream& out, const C& c) {\n        for(auto it = begin(c); it != end(c); ++it) {\n            if(it != begin(c)) out << ' ';\n            fmt_write(out, *it);\n        }\n    }\n};\n\nvoid PRINT() {}\n\ntemplate<typename T, typename... TS>\nvoid PRINT(const T& x, const TS&... args) {\n    fmt_write(cout, x);\n    if(sizeof...(args) > 0) {\n        cout << ' ';\n        PRINT(args...);\n    }\n}\n\ntemplate<typename... TS>\nvoid PRINTLN(const TS&... args) {\n    PRINT(args...);\n    cout << '\\n';\n}\n// }}}\n\n// debug {{{\ntemplate<typename T, typename Enable=void>\nstruct Dbg {\n    static void dbg(ostream& out, const T& x) { out << x; }\n};\n\ntemplate<typename T>\nvoid dbg_write(ostream& out, const T& x) {\n    return Dbg<T>::dbg(out, x);\n}\n\ntemplate<>\nstruct Dbg<i64> {\n    static void dbg(ostream& out, i64 x) {\n        if(x == INF)\n            out << \"INF\";\n        else if(x == -INF)\n            out << \"-INF\";\n        else\n            out << x;\n    }\n};\n\ntemplate<>\nstruct Dbg<f64> {\n    static void dbg(ostream& out, f64 x) {\n#pragma GCC diagnostic push\n#pragma GCC diagnostic ignored \"-Wfloat-equal\"\n        if(x == FINF)\n            out << \"FINF\";\n        else if(x == -FINF)\n            out << \"-FINF\";\n        else\n            out << x;\n#pragma GCC diagnostic pop\n    }\n};\n\ntemplate<typename T, size_t N>\nstruct Dbg<T[N]> {\n    static void dbg(ostream& out, const T (&ary)[N]) {\n        out << \"[\";\n        REP(i, N) {\n            if(i != 0) out << \",\";\n            dbg_write(out, ary[i]);\n        }\n        out << \"]\";\n    }\n};\n\ntemplate<typename... TS>\nstruct Dbg<tuple<TS...>> {\n    static void dbg(ostream& out, const tuple<TS...>& t) {\n        out << \"(\";\n        tuple_enumerate(t, [&out](i64 i, const auto& e) {\n            if(i != 0) out << \",\";\n            dbg_write(out, e);\n        });\n        out << \")\";\n    }\n};\n\ntemplate<typename T1, typename T2>\nstruct Dbg<pair<T1,T2>> {\n    static void dbg(ostream& out, const pair<T1,T2>& p) {\n        return dbg_write(out, make_tuple(p.first,p.second));\n    }\n};\n\ntemplate<typename C>\nstruct Dbg<C,enable_if_t<is_container<C>::value>> {\n    static void dbg(ostream& out, const C& c) {\n        out << \"[\";\n        for(auto it = begin(c); it != end(c); ++it) {\n            if(it != begin(c)) out << \",\";\n            dbg_write(out, *it);\n        }\n        out << \"]\";\n    }\n};\n\ntemplate<typename T, typename C>\nstruct Dbg<stack<T,C>> {\n    static void dbg(ostream& out, stack<T,C> stk) {\n        out << \"[\";\n        while(!stk.empty()) {\n            dbg_write(out,stk.top()); stk.pop();\n            if(!stk.empty()) out << \",\";\n        }\n        out << \"]\";\n    }\n};\n\ntemplate<typename T, typename C>\nstruct Dbg<queue<T,C>> {\n    static void dbg(ostream& out, queue<T,C> que) {\n        out << \"[\";\n        while(!que.empty()) {\n            dbg_write(out,que.front()); que.pop();\n            if(!que.empty()) out << \",\";\n        }\n        out << \"]\";\n    }\n};\n\ntemplate<typename T, typename C, typename Comp>\nstruct Dbg<priority_queue<T,C,Comp>> {\n    static void dbg(ostream& out, priority_queue<T,C,Comp> que) {\n        out << \"[\";\n        while(!que.empty()) {\n            dbg_write(out,que.top()); que.pop();\n            if(!que.empty()) out << \",\";\n        }\n        out << \"]\";\n    }\n};\n\ntemplate<typename T>\nvoid DBG_IMPL(i64 line, const char* expr, const T& value) {\n    cerr << \"[L \" << line << \"]: \";\n    cerr << expr << \" = \";\n    dbg_write(cerr, value);\n    cerr << \"\\n\";\n}\n\nvoid DBG_IMPL_HELPER() {}\n\ntemplate<typename T, typename... TS>\nvoid DBG_IMPL_HELPER(const T& x, const TS&... args) {\n    dbg_write(cerr, x);\n    if(sizeof...(args) > 0) {\n        cerr << \",\";\n        DBG_IMPL_HELPER(args...);\n    }\n}\n\ntemplate<typename... TS>\nvoid DBG_IMPL(i64 line, const char* expr, const TS&... value) {\n    cerr << \"[L \" << line << \"]: \";\n    cerr << \"(\" << expr << \") = (\";\n    DBG_IMPL_HELPER(value...);\n    cerr << \")\\n\";\n}\n\ntemplate<size_t N, typename T, SFINAE(rank<T>::value == 0)>\nvoid DBG_DP_IMPL_HELPER(ostream& out, const T& x, const array<i64,N>&, const array<i64,N>&) {\n    dbg_write(out, x);\n}\n\ntemplate<size_t N, typename T, SFINAE(rank<T>::value > 0)>\nvoid DBG_DP_IMPL_HELPER(ostream& out, const T& x, const array<i64,N>& sizes, const array<i64,N>& offs) {\n    i64 k   = N - rank<T>::value;\n    i64 off = offs[k];\n    i64 siz = sizes[k];\n    if(siz == 0) siz = extent<T>::value - off;\n\n    out << \"[\";\n    FOR(i, off, off+siz) {\n        if(i != off) out << \",\";\n        DBG_DP_IMPL_HELPER(out, x[i], sizes, offs);\n    }\n    out << \"]\";\n}\n\ntemplate<typename T, SFINAE(rank<T>::value > 0)>\nvoid DBG_DP_IMPL(i64 line, const char* expr, const T& dp,\n                 const array<i64,rank<T>::value>& sizes={},\n                 const array<i64,rank<T>::value>& offs={})\n{\n    cerr << \"[L \" << line << \"]: \";\n    cerr << expr << \" = \";\n    DBG_DP_IMPL_HELPER<rank<T>::value>(cerr, dp, sizes, offs);\n    cerr << \"\\n\";\n}\n\ntemplate<typename T>\nvoid DBG_GRID_IMPL(i64 line, const char* expr, const vector<T>& grid) {\n    cerr << \"[L \" << line << \"]: \";\n    cerr << expr << \":\\n\";\n    for(const auto& row : grid) {\n        dbg_write(cerr, row);\n        cerr << \"\\n\";\n    }\n    cerr << \"\\n\";\n}\n\n#ifdef PROCON_LOCAL\n    #define DBG(args...) DBG_IMPL(__LINE__, CPP_STR_I(args), args)\n    #define DBG_DP(args...) DBG_DP_IMPL(__LINE__, CPP_STR_I(args), args)\n    #define DBG_GRID(args...) DBG_GRID_IMPL(__LINE__, CPP_STR_I(args), args)\n#else\n    #define DBG(args...)\n    #define DBG_DP(args...)\n    #define DBG_GRID(args...)\n#endif\n// }}}\n\n// modint {{{\ntemplate<i64 M>\nstruct ModIntT {\n    static_assert(M >= 2, \"\");\n    i64 v_;  // [0,M)\n\n    ModIntT() : v_(0) {}\n    ModIntT(i64 v) {\n        i64 r = v % M;\n        v_ = r >= 0 ? r : r+M;\n    }\n\n    ModIntT operator-() const {\n        return ModIntT(-v_);\n    }\n    ModIntT& operator+=(ModIntT rhs) {\n        v_ += rhs.v_;\n        v_ %= M;\n        return *this;\n    }\n    ModIntT& operator-=(ModIntT rhs) {\n        v_ += M;\n        v_ -= rhs.v_;\n        v_ %= M;\n        return *this;\n    }\n    ModIntT& operator*=(ModIntT rhs) {\n        v_ *= rhs.v_;\n        v_ %= M;\n        return *this;\n    }\n\n    ModIntT& operator++() {\n        return *this += 1;\n    }\n    ModIntT& operator--() {\n        return *this -= 1;\n    }\n    ModIntT operator++(int) {\n        return exchange(*this, *this+1);\n    }\n    ModIntT operator--(int) {\n        return exchange(*this, *this-1);\n    }\n\n    explicit operator i64() const { return v_; }\n\n    ModIntT inv() const {\n        i64 g,x; tie(g,x,ignore) = EXTGCD(v_, M);\n        ASSERT(g == 1);\n        return ModIntT(x);\n    }\n};\n\ntemplate<i64 M>\nModIntT<M> operator+(ModIntT<M> lhs, ModIntT<M> rhs) { return ModIntT<M>(lhs) += rhs; }\ntemplate<i64 M>\nModIntT<M> operator+(ModIntT<M> lhs, i64 rhs) { return ModIntT<M>(lhs) += rhs; }\ntemplate<i64 M>\nModIntT<M> operator+(i64 lhs, ModIntT<M> rhs) { return ModIntT<M>(rhs) += lhs; }\ntemplate<i64 M>\nModIntT<M> operator-(ModIntT<M> lhs, ModIntT<M> rhs) { return ModIntT<M>(lhs) -= rhs; }\ntemplate<i64 M>\nModIntT<M> operator-(ModIntT<M> lhs, i64 rhs) { return ModIntT<M>(lhs) -= rhs; }\ntemplate<i64 M>\nModIntT<M> operator-(i64 lhs, ModIntT<M> rhs) { return ModIntT<M>(rhs) -= lhs; }\ntemplate<i64 M>\nModIntT<M> operator*(ModIntT<M> lhs, ModIntT<M> rhs) { return ModIntT<M>(lhs) *= rhs; }\ntemplate<i64 M>\nModIntT<M> operator*(ModIntT<M> lhs, i64 rhs) { return ModIntT<M>(lhs) *= rhs; }\ntemplate<i64 M>\nModIntT<M> operator*(i64 lhs, ModIntT<M> rhs) { return ModIntT<M>(rhs) *= lhs; }\n\ntemplate<i64 M>\nbool operator==(ModIntT<M> lhs, ModIntT<M> rhs) { return lhs.v_ == rhs.v_; }\ntemplate<i64 M>\nbool operator==(ModIntT<M> lhs, i64 rhs) { return lhs == ModIntT<M>(rhs); }\ntemplate<i64 M>\nbool operator==(i64 lhs, ModIntT<M> rhs) { return ModIntT<M>(lhs) == rhs; }\ntemplate<i64 M>\nbool operator!=(ModIntT<M> lhs, ModIntT<M> rhs) { return !(lhs == rhs); }\ntemplate<i64 M>\nbool operator!=(ModIntT<M> lhs, i64 rhs) { return !(lhs == rhs); }\ntemplate<i64 M>\nbool operator!=(i64 lhs, ModIntT<M> rhs) { return !(lhs == rhs); }\n\ntemplate<i64 M>\nstruct Scan<ModIntT<M>> {\n    static ModIntT<M> scan(istream& in) {\n        return Scan<i64>::scan(in);\n    }\n};\n\ntemplate<i64 M>\nstruct Fmt<ModIntT<M>> {\n    static void fmt(ostream& out, ModIntT<M> x) {\n        fmt_write(out, x.v_);\n    }\n};\n\ntemplate<i64 M>\nstruct Dbg<ModIntT<M>> {\n    static void dbg(ostream& out, ModIntT<M> x) {\n        dbg_write(out, x.v_);\n    }\n};\n\nusing ModInt = ModIntT<MOD>;\n// }}}\n// }}}\n\n// init {{{\nstruct ProconInit {\n    static constexpr int IOS_PREC = 15;\n    static constexpr bool AUTOFLUSH = false;\n\n    ProconInit() {\n        cin.tie(nullptr);\n        ios::sync_with_stdio(false);\n        cin.exceptions(ios::failbit | ios::badbit);\n        cout << fixed << setprecision(IOS_PREC);\n#ifdef PROCON_LOCAL\n        cerr << fixed << setprecision(2);\n#endif\n        if(AUTOFLUSH)\n            cout << unitbuf;\n    }\n} PROCON_INIT;\n// }}}\n\n//--------------------------------------------------------------------\n\ni64 saturate_add(i64 lhs, i64 rhs) {\n    i64 res = lhs + rhs;\n    if(res < 0) res = 0;\n    if(255 < res) res = 255;\n    return res;\n}\n\nvoid solve(i64 N, i64 M) {\n    auto C = RD_VEC(M);\n    auto X = RD_VEC(N);\n\n    // i個目がjとなるときの最小コスト\n    auto dp = vec_make<i64>(N+1,256, INF);\n    dp[0][128] = 0;\n\n    // 配るDP\n    REP(i, N) REP(j, 256) {\n        if(dp[i][j] == INF) continue;\n\n        i64 x = X[i];\n\n        for(i64 c : C) {\n            i64 k = saturate_add(j,c);\n            chmin(dp[i+1][k], (x-k)*(x-k) + dp[i][j]);\n        }\n    }\n\n    i64 ans = INF;\n    REP(j, 256) {\n        chmin(ans, dp[N][j]);\n    }\n\n    PRINTLN(ans);\n}\n\nsigned main() {\n    for(;;) {\n        i64 N = RD();\n        i64 M = RD();\n        if(N == 0 && M == 0) break;\n        solve(N,M);\n    }\n\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nconst int INF = 1 << 28;\n\nint main ()\n{\n    int n, m;\n    while (cin >> n >> m, n || m) {\n        vector<vector<int> > dp(n + 1, vector<int>(256, INF));\n\n        vector<int> c(m);\n        vector<int> x(n);\n\n        for (auto &i : c) cin >> i;\n        for (auto &i : x) cin >> i;\n\n        dp[0][128] = 0;\n\n        for (int i = 1; i <= n; i++) {\n            for (int j = 0; j < 256; j++) {\n                for (int k = 0; k < m; k++) {\n                    int pre = j + c[k];\n                    if (pre > 255) pre = 255;\n                    if (pre < 0) pre = 0;\n\n                    dp[i][pre] = min(dp[i][pre], dp[i-1][j] + (pre - x[i-1]) * (pre - x[i-1]));\n                }\n            }\n        }\n\n        int res = INF;\n        for (int i = 0; i < 256; i++) {\n            res = min(res, dp[n][i]);\n        }\n\n        cout << res << endl;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n#define INF 1<<30\nusing namespace std;\n\nint main(){\n  int n,m;\n  while(cin>>n>>m,n+m){\n    vector<int> cn(m);\n    vector<int> xn(n);\n    for(int i=0;i<m;i++) cin>>cn[i];\n    for(int i=0;i<n;i++) cin>>xn[i];\n    vector<vector<int> > dp(n+1,vector<int>(256,INF));\n    dp[0][128]=0;\n    for(int i=0;i<n;i++){\n      for(int j=0;j<256;j++){\n\tif(dp[i][j] == INF) continue;\n\tfor(int k=0;k<m;k++){\n\t  int calc=j+cn[k];\n\t  if(calc < 0) calc = 0;\n\t  if(calc > 255) calc= 255;\n\t  int t=(xn[i]-calc)*(xn[i]-calc)+dp[i][j];\n\t  dp[i+1][calc]=min(dp[i+1][calc],t);\n\t}\n      }\n    }\n    int _min=1<<30;\n    for(int i=0;i<256;i++){\n      _min=min(_min,dp[n][i]);\n    }\n    cout<<_min<<endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "# define _CRT_SECURE_NO_WARNINGS 1\n# include <iostream>\n# include <numeric>\n# include <string>\n# include <bitset>\n# include <vector>\n# include <algorithm>\n# include <cstdlib>\n# include <cstdio>\n# include <cstring>\n# include <cstdlib>\n# include <iomanip>\n# include <queue>\n# include <sstream>\n# include <climits>\n# include <cmath>\n# include <list>\n# include <functional>\n# include <string>\n# include <ctime>\n# include <set>\n# include <forward_list>\n# include <map>\n# include <stack>\nusing namespace std;\n\n# define INF ((int)(1<<30))\n# define REP(i,n) for(int i=0;i<(int)n;i++)\n# define FOR(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();i++)\n# define TORAD 2.0*M_PI/360.0\n# define INT(x) int x;cin>>x;\n# define ALL(x) (x).begin(),(x).end()\n# define DEBUG(x) cout<<#x<<\" :\"<<x<<endl;\n# define EPS 1e-12\n\ntemplate<class T> void debug(T a) { for (auto i : a)cout << i << endl; }\n\ntypedef vector<int> vi;\ntypedef vector<string> vs;\ntypedef pair<int, int> pii;\ntypedef pair<int, pii> piii;\nint dx[4] = { 0,-1,1,0 }, dy[4] = { 1,0,0,-1 };\n\nint clamp(int a, int mi, int ma)\n{\n\treturn max(mi, min(a, ma));\n}\n\nint n, m;\nint c[17];\nint a[20002];\nint memo[20002][256];\n\nint dp(int now,int o)\n{\n\tif (now > n)return 0;\n\tif (memo[now][o] != -1)return memo[now][o];\n\tint ans = INT_MAX;\n\tfor (int i = 0; i < m; i++)\n\t{\n\t\tans = min(ans, dp(now + 1, clamp(o + c[i], 0, 255)));\n\t}\n\tans += (o - a[now])*(o - a[now]);\n\treturn memo[now][o] = ans;\n}\n\nint main()\n{\n\t\n\twhile (cin >> n >> m&&n)\n\t{\n\t\tmemset(memo, -1, sizeof memo);\n\t\tREP(i, m)cin >> c[i];\n\t\tREP(i, n)cin >> a[i+1];\n\t\ta[0] = 128;\n\t\tcout << dp(0,128) << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#define INF 1000000000\nusing namespace std;\n\nint code[18];\nint num[20001];\nint N,M;\nint minn;\nint count = 0;\nint nm[20001][256];\nvoid saiki(int y,int sum,int kai){\n  count++;\n  //  cout <<\"count=\" << count << endl;\n  //cout <<\"y=\"<< y <<\" sum=\" << sum << \" kai=\"<< kai<< endl;\n\n  if(kai == N && y != -1) nm[N][y] = 0;//,printf(\"N,nm[%d][%d] = %d\\n\",kai,y,nm[kai][y]);\n  \n   if(kai < N && sum < minn && nm[kai][y] == INF) {\n     for(int i=0;i<M;i++) {\n       int yn = y+code[i];\n       if(yn < 0) yn = 0;\n       if(yn > 255) yn = 255;\n      saiki(yn,sum+(num[kai]-yn)*(num[kai]-yn),kai+1);\n      if(nm[kai+1][yn] + (num[kai]-yn)*(num[kai]-yn) < nm[kai][y]) nm[kai][y] = nm[kai+1][yn] + (num[kai]-yn)*(num[kai]-yn);\n      //  printf(\"nm[%d][%d] = %d\\n\",kai,y,nm[kai][y]);\n     }\n\n   } else if(kai < N)saiki(-1,nm[kai][y]+sum,N);\n   \n  \n}\n\nint main() {\n\n  while(1) {\n    cin >> N >> M;\n   \n  if(N == 0 && M == 0) break;\n  for(int i=0;i<M;i++) cin >> code[i];\n  for(int i=0;i<N;i++) cin >> num[i] ;\n  \n  minn = INF;\n  for(int i=0;i<=N;i++)\n    for(int j=0;j<=255;j++)\n      nm[i][j] = INF;\n  \n  saiki(128,0,0);\n\n  cout << nm[0][128] << endl;\n  \n  //cout << minn << endl;\n  //cout << count << endl;\n  }\n  return 0;\n  \n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n\nusing namespace std;\n\nlong long int ans;\n\nint min(int a,int b){\n\tif(a>=b)return b;\n\telse return a;\n}\n\nint main(){\n\n\tint n,m;\n\tlong long int dp[256];\n\tlong long int nextDp[256];\n\tint next;\n\n\twhile(cin>>n>>m){\n\t\tans = 1000000000000;\n\t\tif(n==0 && m==0){\n\t\t\tbreak;\n\t\t}\n\t\tint *c;\n\t\tint *x;\n\t\tc = new int[m];\n\t\tx = new int[n];\n\n\t\tfor(int i=0;i<m;i++){\n\t\t\tcin>>c[i];\n\t\t}\n\t\tfor(int i=0;i<n;i++){\n\t\t\tcin>>x[i];\n\t\t}\n\t\tfor(int i=0;i<256;i++){\n\t\t\tdp[i]=ans;\n\t\t\tnextDp[i]=ans;\n\t\t}\n\n\t\tfor(int i=0;i<m;i++){\n\t\t\tnext = 128+c[i];\n\t\t\tif(next>=255)next=255;\n\t\t\tif(next<=0)next = 0;\n\t\t\tdp[next] = (x[0]-next)*(x[0]-next);\n\t\t}\n\t\t/*\n\t\tfor(int i=0;i<256;i++){\n\t\t\tcout<<dp[0][i]<<\" \";\n\t\t}\n\t\tcout<<endl;\n\t\t*/\n\t\tfor(int i=1;i<n;i++){\n\t\t\tfor(int j=0;j<256;j++){\n\t\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\t\tnext = j+c[k];\n\t\t\t\t\tif(next>=255)next=255;\n\t\t\t\t\tif(next<=0)next = 0;\n\t\t\t\t\t//dp[next] = min(dp[next],dp[j]+(x[i]-next)*(x[i]-next));\n\t\t\t\t\tnextDp[next] = min(nextDp[next],dp[j]+(x[i]-next)*(x[i]-next));\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(int j=0;j<256;j++){\n\t\t\t\tdp[j]=nextDp[j];\n\t\t\t\tnextDp[j]=ans;\n\t\t\t}\n\t\t}\n\t\tfor(int i=0;i<256;i++){\n\t\t\tans = min(ans,dp[i]);\n\t\t}\n\n\n\t\tcout<<ans<<endl;\n\n\t}\n\n\treturn 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cstdio>\n#include <iostream>\n#include <map>\n#include <cmath>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <vector>\n#include <stdlib.h>\n#include <stdio.h>\n#include <bitset>\n#include <cstring>\nusing namespace std;\n#define FOR(I,A,B) for(int I = (A); I < (B); ++I)\n#define CLR(mat) memset(mat, 0, sizeof(mat))\ntypedef long long ll;\nint main()\n{\n  ios::sync_with_stdio(false);\n  cin.tie(0);\n  int N, M;\n  while(cin>>N>>M,N||M) {\n    int c[M]; FOR(i,0,M) cin >> c[i];\n    int x[N]; FOR(i,0,N) cin >> x[i];\n    ll dp[N+1][256]; FOR(i,0,N+1) FOR(j,0,256) dp[i][j] = 1e15;\n    dp[0][128] = 0;\n    FOR(i,0,N) {\n      FOR(j,0,256) {\n        if(dp[i][j] == 1e15) continue;\n        FOR(k,0,M) {\n          int y = max(0, min(255, j + c[k]));\n          dp[i+1][y] = min(dp[i+1][y], dp[i][j] + (ll)(x[i]-y) * (x[i]-y));\n        }\n      }\n    }\n    ll ans = 1e15;\n    FOR(i,0,256) ans = min(ans, dp[N][i]);\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <cmath>\n#include <cstdio>\n#include <functional>\n#include <numeric>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <utility>\n#include <sstream>\n#include <complex>\n\nusing namespace std;\n\n#define FOR(i,a,b) for(long long i=(a);i<(b);i++)\n#define REP(i,N) for(long long i=0;i<(N);i++)\n#define ALL(s) (s).begin(),(s).end()\n#define fi first\n#define se second\n\n#define PI acos(-1.0)\n#define INF 1000000007\n#define EPS 1e-10\n\ntypedef long long ll;\ntypedef pair<ll, ll> P;\ntypedef pair<double, double> PD;\ntypedef pair<string, ll> PS;\ntypedef vector<ll> V;\ntypedef pair<P, char> PC;\n\nint n, m;\nint c[160], x[20010];\nint dp[20011][256+1];\n\nint main(){\n\twhile (cin >> n >> m&&n + m){\n\t\tREP(i, 160){\n\t\t\tREP(j, 2560){\n\t\t\t\tdp[i][j] = INF;\n\t\t\t}\n\t\t}\n\t\tREP(i, m){\n\t\t\tcin >> c[i];\n\t\t}\n\t\tREP(i, n){\n\t\t\tcin >> x[i];\n\t\t}\n\t\tdp[0][128] = 0;\n\t\tREP(i, n){\n\t\t\tREP(j, m){\n\t\t\t\tREP(k, 256){\n\t\t\t\t\tint num = k + c[j];\n\t\t\t\t\tif (num <= 0){\n\t\t\t\t\t\tnum = 0;\n\t\t\t\t\t}\n\t\t\t\t\telse if (num >= 255){\n\t\t\t\t\t\tnum = 255;\n\t\t\t\t\t}\n\t\t\t\t\tdp[i + 1][num] = min(dp[i][k] + (x[i] - num)*(x[i] - num), dp[i + 1][num]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = INF;\n\t\tREP(i, 2560){\n\t\t\tans = min(ans, dp[n][i]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define INF 0x3f3f3f3f\n#define rep(i,n)for(int i=0;i<(n);i++)\nusing namespace std;\n\nint c[16], x[16];\nint dp[200001][256];\nint d(int a) {\n\tif (a < 0)return 0;\n\tif (a > 255)return 255;\n\treturn a;\n}\nint diff(int i, int a) {\n\treturn (x[i] - a)*(x[i] - a);\n}\nint main() {\n\tint n, m;\n\twhile (scanf(\"%d%d\", &n, &m), n) {\n\t\trep(i, m)scanf(\"%d\", &c[i]);\n\t\trep(i, n)scanf(\"%d\", &x[i]);\n\t\tmemset(dp, 0x3f, sizeof(dp));\n\t\tdp[0][128] = 0;\n\t\trep(i, n)rep(j, 256) {\n\t\t\tif (dp[i][j] == INF)continue;\n\t\t\trep(k, m) {\n\t\t\t\tint a = d(j + c[k]);\n\t\t\t\tif (i + 1 >= 20001)return 0;\n\t\t\t\tdp[i + 1][a] = min(dp[i + 1][a], dp[i][j] + diff(i, a));\n\t\t\t}\n\t\t}\n\t\tint Min = INF;\n\t\trep(j, 256)Min = min(Min, dp[n][j]);\n\t\tprintf(\"%d\\n\", Min);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <cmath>\n#include <algorithm>\n#include <stack>\n#include <queue>\n#include <vector>\ntypedef long long int ll;\n\n#define BIG_NUM 2000000000\n\nusing namespace std;\n\nint N,M;\nint** dp;\n\nvoid func(){\n\tint codeTable[M];\n\n\tfor(int i = 0; i < M; i++){\n\t\tscanf(\"%d\",&codeTable[i]);\n\t}\n\n\tint num;//初期化\n\tdp[0][128] = 0;\n\n\tfor(int count = 1; count <= N; count++){\n\t\tscanf(\"%d\",&num);\n\n\t\tfor(int i = 0; i <= 255; i++){\n\t\t\tif(dp[count-1][i] != BIG_NUM){\n\t\t\t\tfor(int k = 0; k < M; k++){\n                    int now;\n                    now = i + codeTable[k];\n\t\t\t\t\tif(now > 255){\n\t\t\t\t\t\tdp[count][255] = min(dp[count][255],dp[count-1][i]+(num-255)*(num-255));\n\t\t\t\t\t}else if(now < 0){\n\t\t\t\t\t\tdp[count][0]  = min(dp[count][0],dp[count-1][i]+(num)*(num));\n\t\t\t\t\t}else{\n\t\t\t\t\t\tdp[count][now] = min(dp[count][now],dp[count-1][i] + (num-now)*(num-now));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tint minimum = BIG_NUM;\n\n\tfor(int i = 0; i <= 255; i++){\n\t\tminimum = min(minimum,dp[N][i]);\n\t}\n\n\tprintf(\"%d\\n\",minimum);\n\n}\n\nint main(){\n\n\tdp = new int*[20001];\n\tfor(int i = 0; i <= 20000; i++){\n\t\tdp[i] = new int[256];\n\t}\n\n\twhile(true){\n\t\tscanf(\"%d %d\",&N,&M);\n\t\tif(N == 0 && M == 0)break;\n\n\t\tfor(int i = 0; i <= N; i++){\n\t\t\tfor(int k = 0; k <= 255; k++)dp[i][k] = BIG_NUM;\n\t\t}\n\n\t\tfunc();\n\t}\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nconstexpr int INF = (1<<30)-1;\n\nbool solve() {\n    int N, M;\n    int C[16];\n\n    cin >> N >> M;\n    if (N == 0) return (false);\n    for (int i = 0; i < M; i++) cin >> C[i];\n\n    vector<vector<int>> dp(20005, vector<int>(256, INF));\n    dp[0][128] = 0;\n    for (int i = 0; i < N; i++) {\n        int v;\n        cin >> v;\n        for (int j = 0; j < 256; j++) {\n            for (int k = 0; k < M; k++) {\n                int nn = max(0, min(255, j + C[k]));\n                int &next = dp[i + 1][nn];\n                next = min(next, dp[i][j] + (nn-v)*(nn-v));\n            }\n        }\n    }\n    cout << *min_element(begin(dp[N]), end(dp[N])) << endl;\n    return (true);\n}\nint main() {\n    while (solve());\n    return (0);\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define trace1(a)                    cout<<#a<<\": \"<<a<<endl\n#define trace2(a,b)                  cout<<#a<<\": \"<<a<<\" | \", trace1(b)\n#define trace3(a,b,c)                cout<<#a<<\": \"<<a<<\" | \", trace2(b,c)\n#define trace4(a,b,c,d)              cout<<#a<<\": \"<<a<<\" | \", trace3(b,c,d)\n#define trace5(a,b,c,d,e)            cout<<#a<<\": \"<<a<<\" | \", trace4(b,c,d,e)\n#define trace6(a,b,c,d,e,f)          cout<<#a<<\": \"<<a<<\" | \", trace5(b,c,d,e,f)\n#define trace7(a,b,c,d,e,f,g)        cout<<#a<<\": \"<<a<<\" | \", trace6(b,c,d,e,f,g)\n#define trace8(a,b,c,d,e,f,g,h)      cout<<#a<<\": \"<<a<<\" | \", trace7(b,c,d,e,f,g,h)\n#define trace9(a,b,c,d,e,f,g,h,i)    cout<<#a<<\": \"<<a<<\" | \", trace8(b,c,d,e,f,g,h,i)\n#define trace10(a,b,c,d,e,f,g,h,i,j) cout<<#a<<\": \"<<a<<\" | \", trace9(b,c,d,e,f,g,h,i,j)\n#define rep(i,a,b)      for(int (i)=(int)(a);(i)<(int)(b); ++(i))\n#define reps(i,a,b,c)   for(int (i)=(int)(a);(i)<(int)(b); (i)+=(c))\n#define rrep(i,a,b)     for(int (i)=(int)(a);(i)>=(int)(b);--(i))\n#define rreps(i,a,b,c)  for(int (i)=(int)(a);(i)>=(int)(b);(i)-=(c))\n#define fore(x,a)       for(auto &x:a)\n#define foreach(i,a)    for(auto i=(a).begin(); i!=(a).end(); ++i)\n#define rforeach(i,a)   for(auto i=(a).rbegin();i!=(a).rend();++i)\n#define all(a)  (a).begin(), (a).end()\n#define rall(a) (a).rbegin(),(a).rend()\n#define isin(i,a,b) ((a) <= (i) && (i) <= (b))\n#define uni(a) (a).erase(unique(all(a)),(a).end())\n#define dup(x,y) (((x)+(y)-1)/(y))\n#define fi first\n#define se second\n#define pb push_back\n#define eb emplace_back\n#define sz(a) ((long long)(a).size())\n#define v(T) vector<T>\n#define vv(T) v(v(T))\nusing namespace std;\nusing ll  = long long;          using vi  = vector<int>;\nusing ld  = long double;        using vl  = vector<ll>;\nusing unit= unsigned;           using vvi = vector<vi>;\nusing ull = unsigned long long; using vvl = vector<vl>;\nusing pii = pair<int,int>;      using vpii= vector<pii>;\nusing pil = pair<int,ll>;       using vpil= vector<pil>;\nusing pli = pair<ll,int>;       using vpli= vector<pli>;\nusing pll = pair<ll,ll>;        using vpll= vector<pll>;\nvoid _main(); int main(){ cin.tie(0); ios::sync_with_stdio(false); _main(); }\ntemplate<class T>string join(const v(T)&v){ stringstream s; rep(i,0,sz(v))s<<' '<<v[i]; return s.str().substr(1); }\ntemplate<class T>istream &operator>>(istream&i, v(T)&v){ fore(x,v){ i >> v; } return i; }\ntemplate<class T>ostream &operator<<(ostream&o, const v(T)&v){ o<<\"[\"; fore(x,v)o<<x<<\",\"; o<<\"]\"; return o; }\ntemplate<class T>ostream &operator<<(ostream&o, const deque<T>&v){ o<<\"deq[\"; fore(x,v)o<<x<<\",\"; o<<\"]\"; return o; }\ntemplate<class T>ostream &operator<<(ostream&o, const set<T>&v){ o<<\"{\"; fore(x,v)o<<x<<\",\"; o<<\"}\"; return o; }\ntemplate<class T>ostream &operator<<(ostream&o, const unordered_set<T>&v){ o<<\"{\"; fore(x,v)o<<x<<\",\"; o<<\"}\"; return o; }\ntemplate<class T>ostream &operator<<(ostream&o, const multiset<T>&v){ o<<\"{\"; fore(x,v)o<<x<<\",\"; o<<\"}\"; return o; }\ntemplate<class T>ostream &operator<<(ostream&o, const unordered_multiset<T>&v){ o<<\"{\"; fore(x,v)o<<x<<\",\"; o<<\"}\"; return o; }\ntemplate<class T1,class T2>ostream &operator<<(ostream &o, const pair<T1,T2>&p){ o<<\"(\"<<p.fi<<\",\"<<p.se<<\")\"; return o; }\ntemplate<class TK,class TV>ostream &operator<<(ostream &o, const map<TK,TV>&m){ o<<\"{\"; fore(x,m)o<<x.fi<<\"=>\"<<x.se<<\",\"; o<<\"}\"; return o; }\ntemplate<class TK,class TV>ostream &operator<<(ostream &o, const unordered_map<TK,TV>&m){ o<<\"{\"; fore(x,m)o<<x.fi<<\"=>\"<<x.se<<\",\"; o<<\"}\"; return o; }\ntemplate<class T>void YES(T c){ if(c) cout<<\"YES\"<<endl; else cout<<\"NO\"<<endl; }\ntemplate<class T>void Yes(T c){ if(c) cout<<\"Yes\"<< endl; else cout<<\"No\"<<endl; }\ntemplate<class T>void POSS(T c){ if(c) cout<<\"POSSIBLE\"<<endl; else cout<<\"IMPOSSIBLE\"<<endl; }\ntemplate<class T>void Poss(T c){ if(c) cout<<\"Possible\"<<endl; else cout<<\"Impossible\"<<endl; }\ntemplate<class T>bool chmax(T &a,const T &b){ return a<b?(a=b,true):false; }\ntemplate<class T>bool chmin(T &a,const T &b){ return a>b?(a=b,true):false; }\ntemplate<class T>T gcd(T a,T b){ return b?gcd(b,a%b):a; }\ntemplate<class T>T lcm(T a,T b){ return a/gcd(a,b)*b; }\nconst double  EPS = 1e-10;\nconst double  PI  = acos(-1.0);\nconst int     INF = 1001002003;\nconst ll      LINF= 1001002003004005006LL;\nconst int DX[] = { -1, 0, 1, 0 , -1,-1, 1, 1 };\nconst int DY[] = {  0, 1, 0,-1 , -1, 1,-1, 1 };\n\nconstexpr int N = 20000;\nconstexpr int M = 16;\nconstexpr int MAX = 255;\n\nvoid _main() {\n  vi ans;\n  while (true) {\n    int n, m;\n    cin >> n >> m;\n    if (n == 0 && m == 0) break;\n    vi C(m), X(n);\n    fore(x,C) cin >> x;\n    fore(x,X) cin >> x;\n    vi dp(MAX+1,INF), pre(MAX+1,INF);\n\n    rep(i,0,m) {\n      int p = 128 + C[i];\n      chmax(p, 0);\n      chmin(p, MAX);\n      dp[p] = (X[0]-p) * (X[0]-p);\n    }\n    rep(i,1,n) {\n      rep(j,0,MAX+1) pre[j] = dp[j];\n      fill(all(dp), INF);\n      rep(j,0,MAX+1) {\n        rep(k,0,m) {\n          int p = j + C[k];\n          chmax(p, 0);\n          chmin(p, MAX);\n          chmin(dp[p], pre[j] + (X[i]-p) * (X[i]-p));\n        }\n      }\n    }\n    int tmp = INF;\n    rep(i,0,MAX+1) chmin(tmp,dp[i]);\n    ans.pb(tmp);\n  }\n  fore(x,ans) cout << x << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define int ll\n#define rep(i,n) for(int i=0,i##_cond=(n);i<i##_cond;++i)\n#define all(a) (a).begin(),(a).end()\nusing ll  = long long;\nusing vi  = vector<int>;\nusing vvi = vector<vi>;\nconstexpr ll inf = 1ll<<30;\ntemplate<class T>bool chmin(T &a, const T &b){if(a>b){a=b; return true;} return false;}\n\nsigned main(){\n  int n, m;\n  while(cin >> n >> m, n){\n    vi c(m); rep(i,m) cin >> c[i];\n    vi x(n); rep(i,n) cin >> x[i];\n    vvi dp(n+1, vi(256,inf)); // dp[i][j] : yi番目がjの時の最小コスト\n    dp[0][128] = 0;\n    rep(i,n) rep(j,256) rep(k,m){ // dp[i][j]からc[k]を使った時\n      int next = j + c[k];\n      if(next < 0) next = 0;\n      else if(255 < next) next = 255;\n      chmin(dp[i+1][next], dp[i][j] + (x[i] - next)*(x[i]-next));\n    }\n    cout << *min_element(all(dp[n])) << endl;\n  }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\nusing namespace std;\nusing ll=long long;\n\nll dp[20][256];\n\nll dfs(int i,int y,vector<int>&c,vector<int>&x){\n    if(i>=x.size())return 0;\n    if(y<0)y=0;\n    if(y>255)y=255;\n    if(dp[i][y]!=-1)return dp[i][y];\n    ll res=999999999999;\n    for(int j=0;j<c.size();++j){\n        res=min(res,dfs(i+1,y+c[j],c,x)+(y-x[i])*(y-x[i]));\n    }\n    return dp[i][y]=res;\n}\n\nint main(){\n    int n,m;\n    while(cin>>n>>m,n){\n        for(int i=0;i<20;++i){\n            for(int j=0;j<256;++j)dp[i][j]=-1;\n        }\n        vector<int>c(m),x(n+1);\n        for(int i=0;i<m;++i){\n            cin>>c[i];\n        }\n        x[0]=128;\n        for(int i=1;i<n+1;++i){\n            cin>>x[i];\n        }\n        cout<<dfs(0,128,c,x)<<endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <array>\n#include <cassert>\n#include <cmath>\n#include <iomanip>\n#include <iostream>\n#include <limits>\n#include <map>\n#include <numeric>\n#include <queue>\n#include <sstream>\n#include <string>\n#include <utility>\n#include <vector>\n#define FOR(i,a,b) for (int i=(a),for_##i##_max=(b);i<=(for_##i##_max);++i)\n#define RFOR(i,a,b) for (int i=(a),rfor_##i##_min=(b);i>=(rfor_##i##_min);--i)\n#define REP(i,n) for (int i=0,rep_##i##_len=(n);i<(rep_##i##_len);++i)\n#define RREP(i,n) for (int i=(n)-1;i>=0;--i)\n\nnamespace { // Basics\n\ntemplate<typename T>\nvoid chmin(T &x, T y) {\n  x = std::min(x, y);\n}\n\ntemplate<typename T>\nvoid chmax(T &x, T y) {\n  x = std::max(x, y);\n}\n\ntemplate<typename T>\n__attribute__((unused))\nconst auto minimum = static_cast<T const &(*)(T const &, T const &)>(std::min);\n\ntemplate<typename T>\n__attribute__((unused))\nconst auto maximum = static_cast<T const &(*)(T const &, T const &)>(std::max);\n\ntemplate<typename T>\n__attribute__((unused))\nT constexpr infty = std::numeric_limits<T>::max / 3;\ntemplate<>\n__attribute__((unused))\nauto constexpr infty<int> = 1'100'100'100;\ntemplate<>\n__attribute__((unused))\nauto constexpr infty<long long int> = 100'500'400'300'200'100LL;\n\nusing lli = long long int;\nusing ld = long double;\n\n} // namespace\n\nusing namespace std;\n\nlli square(lli x) {\n  return x * x;\n}\n\nvoid solve(vector<lli> const &code, vector<lli> const &sig) {\n  int const len = sig.size();\n  vector<vector<lli>> dp(sig.size(), vector<lli>(256, infty<lli>));\n  for (auto &&c : code) {\n    int v = min(255LL, max(0LL, 128 + c));\n    chmin(dp[0][v], square(v-sig[0]));\n  }\n\n  for(int i = 1; i < len; ++i) {\n    for (auto &&c : code) {\n      for (int v = 0; v < 256; ++v) {\n        int w = min(255LL, max(0LL, v + c));\n        chmin(dp[i][w], dp[i-1][v] + square(w-sig[i]));\n      }\n    }\n  }\n  // cout << accumulate(begin(dp.back()), end(dp.back()), infty<lli>, minimum<lli>) << \"\\n\";\n  lli ans = infty<lli>;\n  for (auto &&x : dp.back()) {\n    chmin(ans, x);\n  }\n  cout << ans << \"\\n\";\n}\n\nint main() {\n  // cout << fixed << setprecision(10);\n\n  int N, M;\n  while (cin >> N >> M && N) {\n    vector<lli> code, sig;\n    REP(i, M) {\n      lli C; cin >> C;\n      code.push_back(C);\n    }\n    REP(i, N) {\n      lli X; cin >> X;\n      sig.push_back(X);\n    }\n    solve(code, sig);\n  }\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdlib>\nusing namespace std;\n\nint main()\n{\n  int N,M,C[16],x[20002];\n  long long DP[2][256];\n  long long mi,a,b,y,ans;\n\n  while(1){\n    cin>>N>>M;\n    if(N==0 && M==0)break;\n    for(int i=0;i<M;i++)cin>>C[i];\n    for(int i=1;i<N+1;i++)cin>>x[i];\n    for(int i=0;i<256;i++)DP[0][i]=1000000000;\n    DP[0][128]=0;\n    for(int i=1;i<N+1;i++){\n      for(int j=0;j<256;j++)DP[i%2][j]=1000000000;\n      for(int j=0;j<256;j++){\n\tif(DP[(i-1)%2][j]!=1000000000){\n\t  for(int k=0;k<M;k++){\n\t    a=j+C[k];\n\t    if(a<0)a=0;\n\t    if(a>255)a=255;\n\t    b=DP[(i-1)%2][j]+(a-x[i])*(a-x[i]);\n\t    DP[i%2][a]=min(DP[i%2][a],b);\n\t  }\n\t}\n      }\n    }\n    ans=1000000000;\n    for(int i=0;i<256;i++)ans=min(ans,DP[N%2][i]);\n    cout<<ans<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nint N, M;\nint C[17], x[20001];\nint dp[256][20001];\n\nint rec(int now, int cnt) {\n  if ( cnt == N ) return 0;\n  if ( dp[now][cnt] != -1 ) return dp[now][cnt];\n\n  int ret = 1e8;\n  for ( int i = 0; i < M; i++ ) {\n    int tmp = max(0, min(255, now + C[i]));\n    ret = min(ret, rec(tmp, cnt + 1) + (x[cnt] - tmp) * (x[cnt] - tmp));\n  }\n\n  return dp[now][cnt] = ret;\n}\n\nint main()\n{\n  while ( cin >> N >> M, N | M ) {\n    for ( int i = 0; i < M; i++ ) cin >> C[i];\n    for ( int i = 0; i < N; i++ ) cin >> x[i];\n    \n    fill_n(*dp, 256 * 20001, -1);\n    \n    cout << rec(128, 0) << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\n#define ll long long\n#define INF (1LL << 60)\n//http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=2199&lang=jp\n\n#define ll long long\n\nint main() {\n\tcin.tie(0); ios::sync_with_stdio(false);\n\tint N, M;\n\twhile (cin >> N >> M) {\n\t\tif (N == 0 && M == 0) break;\n\t\t// dp[i][j] := i??????????????????,?????????j?????????????????????????°????\n\t\tvector<vector<ll>> dp(N + 1, vector<ll>(256, INF));\n\t\tvector<int> C(M + 1);\n\t\tfor (int i = 0; i < M;i++) cin >> C[i];\n\t\tvector<int> x(N + 1);\n\t\tfor (int i = 0;i < N;i++) cin >> x[i];\n\n\t\t//????????¶???\n\t\tdp[0][128] = 0;\n\n\t\tfor (int i = 0; i < N;i++) {\n\t\t\tfor (int j = 0; j <= 255;j++) {\n\t\t\t\tif (dp[i][j] == INF) continue;\n\t\t\t\tfor (int k = 0; k < M;k++) {\n\t\t\t\t\tint J = max(0, min(255, j + C[k]));\n\t\t\t\t\tint cost = pow(x[i] - J, 2);\n\t\t\t\t\tdp[i + 1][J] = min(dp[i + 1][J], dp[i][j] + cost);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tll ans = INF;\n\t\tfor (int j = 0; j <= 255;j++) {\n\t\t\t//if (dp[N][j] != INF) cout << dp[N][j] << endl;\n\t\t\tans = min(ans, dp[N][j]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <cmath>\n#include <cstdio>\n#include <functional>\n#include <numeric>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <utility>\n#include <sstream>\n#include <complex>\n\nusing namespace std;\n\n#define FOR(i,a,b) for(long long i=(a);i<(b);i++)\n#define REP(i,N) for(long long i=0;i<(N);i++)\n#define ALL(s) (s).begin(),(s).end()\n#define fi first\n#define se second\n\n#define PI acos(-1.0)\n#define INF 1000000007\n#define EPS 1e-10\n\ntypedef long long ll;\ntypedef pair<ll, ll> P;\ntypedef pair<double, double> PD;\ntypedef pair<string, ll> PS;\ntypedef vector<ll> V;\ntypedef pair<P, char> PC;\n\nll n, m;\nll c[100], x[20010];\nll dp[20][300];\n\nint main(){\n\twhile (cin >> n >> m&&n + m){\n\t\tREP(i, 20)REP(j, 300)dp[i][j] = INF;\n\t\tREP(i, m)cin >> c[i];\n\t\tREP(i, n)cin >> x[i];\n\t\tdp[0][128] = 0;\n\t\tREP(i, n){\n\t\t\tREP(j, m){\n\t\t\t\tREP(k, 256){\n\t\t\t\t\tint num = k + c[j];\n\t\t\t\t\tif (num < 0)num = 0;\n\t\t\t\t\tif (num > 255)num = 255;\n\t\t\t\t\tdp[i + 1][num] = min(dp[i][k] + (x[i] - (num))*(x[i] - (num)), dp[i + 1][num]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tll ans = INF;\n\t\t//REP(i, n + 1){\n\t\t//\tcout << i << endl;\n\t\t//\tFOR(j, 120, 140){\n\t\t//\t\tcout << dp[i][j] << \" \";\n\t\t//\t}\n\t\t//\tcout << endl;\n\t\t//}\n\t\tREP(i, 300){\n\t\t\tans = min(ans, dp[n][i]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <map>\n#include <algorithm>\n#include <queue>\n#include <string>\n#include <cmath>\n#define REP(i,a,b) for (int i = a; i < (b); i++)\n#define sz(t) int(t.size())\n#define INF 1000000000\nconst int DIV = 1000000000 + 7;\nusing namespace std;\ntypedef long long ll;\n\n#define MOD 10007\n\nint main(void) {\n    for (;;) {\n        int n, m;\n        cin >> n >> m;\n        if (n == 0 && m == 0) {\n            break;\n        }\n        vector<int> C;\n        vector<int> X;\n        REP(i, 0, m) {\n            int c;\n            cin >> c;\n            C.push_back(c);\n        }\n        REP(i, 0, n) {\n            int x;\n            cin >> x;\n            X.push_back(x);\n        }\n\n        vector<int> dp(256, INF);\n        dp[128] = 0;\n        REP(i, 0, n) {\n            vector<int> new_dp(256, INF);\n            REP(y, 0, 256) {\n                for (auto c : C) {\n                    int target = y + c;\n                    if (target > 255) {\n                        target = 255;\n                    } else if (target < 0) {\n                        target = 0;\n                    }\n                    new_dp[target] = min(new_dp[target], (int)(dp[y] + pow(X[i] - target, 2)));\n                }\n            }\n            dp = new_dp;\n        }\n        int ans = INF;\n        REP(i, 0, 256) {\n            ans = min(ans, dp[i]); \n        }\n        cout << ans << endl;\n    }\n}\n\n// while True:\n//     N, M = map(int, input().split())\n//     if N == 0 and M == 0:\n//         break\n\n//     C = [0] * M\n//     for i in range(M):\n//         C[i] = int(input())\n//     X = [0] * N\n//     for i in range(N):\n//         X[i] = int(input())\n\n//     dp = [INF] * 256 \n//     dp[128] = 0\n//     for i in range(N):\n//         new_dp = [INF] * 256\n//         for val in range(0, 256):\n//             for c in C:\n//                 target = val + c\n//                 if target > 255:\n//                     target = 255\n//                 elif target < 0:\n//                     target = 0\n//                 new_dp[target] = min(new_dp[target], dp[val] + (target - X[i]) ** 2)\n//         dp = new_dp\n//     print(min(dp))\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <cmath>\n#include <ctype.h>\n#include <string> \n#include <cstring>\n#include <sstream>\n#include <iostream>\n#include <algorithm>\n#include <cstdlib>\n#include <map>\n#include <queue>\n#include <utility>\n#include <vector>\n#include <set>\n#include <iomanip>\n#include <stack>\n  \nusing namespace std;\n\n#define pi 3.141592653589793\n\nint result[20001][256];\n\nint main()\n{\n\tint n, m;\n\twhile(1){\n\t\tcin >> n >> m;\n\t\tif(n == 0 && m == 0) break;\n\t\tfor(int i = 0; i < n + 1; i++){\n\t\t\tfor(int j = 0; j < 256; j++){\n\t\t\t\tresult[i][j] = 1000000000;\n\t\t\t}\n\t\t}\n\t\tresult[0][128] = 0;\n\t\tint c[17], x[20001];\n\t\tfor(int i = 1; i < m + 1; i++){\n\t\t\tcin >> c[i];\n\t\t}\n\t\tfor(int i = 1; i < n + 1; i++){\n\t\t\tcin >> x[i];\n\t\t}\n\t\tfor(int i = 1; i < n + 1; i++){\n\t\t\tfor(int j = 0; j < 256; j++){\n\t\t\t\tfor(int k = 1; k < m + 1; k++){\n\t\t\t\t\tint nexty = j + c[k];\n\t\t\t\t\tif(nexty < 0) nexty = 0;\n\t\t\t\t\telse if(nexty > 255) nexty = 255;\n\t\t\t\t\tresult[i][nexty] = min(result[i][nexty], result[i - 1][j] + ((x[i] - nexty) * (x[i] - nexty)));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = 1000000000;\n\t\tfor(int i = 0; i < 256; i++) ans = min(ans, result[n][i]);\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define REP(i,n) for(int i=0;i<(int)(n);i++)\n#define ALL(x) (x).begin(), (x).end()\n\nusing namespace std;\n\ntemplate <typename T> T &chmin(T &a, const T &b) {return a = min(a, b);}\ntemplate <typename T> T &chmax(T &a, const T &b) {return a = max(a, b);}\n\nusing ll = long long;\nusing ld = long double;\n\nconst int INF = 1e9;\nconst ld eps = 1e-9, pi = acos(-1.0);\n\nint N, M;\nvector<int> code(16);\nvector<int> sig(20000);\nint score[20005][16];\nint val[20005][16];\n\nint main(){\n\twhile(cin >> N >> M and N + M){\n\t\tREP(i, M) code[i] = 0;\n\t\tREP(i, N) sig[i] = 0;\n\t\tREP(i, N+1) REP(j, M) score[i][j] = INF;\n\t\tREP(j, M) score[0][j] = 0;\n\t\tREP(i, M) cin >> code[i];\n\t\tREP(i, N) cin >> sig[i];\n\t\tREP(i, M) val[0][i] = 128;\n\t\tREP(i, N){\n\t\t\tREP(j, M) REP(k, M) {\n\t\t\t\tint tgt = min(255, max(0,  val[i][j] + code[k]));\n\t\t\t\tif (score[i+1][k] > score[i][j] + (sig[i] - tgt) * (sig[i] - tgt)){\n\t\t\t\t\tscore[i+1][k] = score[i][j] + (sig[i] - tgt) * (sig[i] - tgt);\n\t\t\t\t\tval[i+1][k] = tgt;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint minim = INF;\n\t\tREP(i, M) chmin(minim, score[N][i]);\n\t\tcout << minim << endl;\n\t}\t\t\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<math.h>\n#include<string>\n#include<algorithm>\n#include<functional>\n#include<vector>\n#include<set>\n#include<map>\n#define INF 999999999999\n#define EPS 1.0e-6\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int, int> P;\ntypedef pair<int, P> PP;\n\nint n, m;\nint c[20];\nll x[21000];\nll d[21000][260];\n\nint main()\n{\n\twhile (cin >> n >> m) {\n\t\tif (n == 0 && m == 0)return 0;\n\t\tfor (int i = 0; i < m; i++) {\n\t\t\tcin >> c[i];\n\t\t}\n\n\t\tfor (int i = 1; i <= n; i++) {\n\t\t\tcin >> x[i];\n\t\t}\n\t\tfor (int i = 0; i <= n; i++) {\n\t\t\tfor (int j = 0; j <= 256; j++) {\n\t\t\t\td[i][j] = INF;\n\t\t\t}\n\t\t}\n\t\td[0][128] = 0;\n\n\t\tfor (int i = 0; i < n ; i++) {\n\t\t\tfor (int j = 0; j <= 255; j++) {\n\t\t\t\tif (d[i][j] != INF) {\n\t\t\t\t\tfor (int k = 0; k < m; k++) {\n\t\t\t\t\t\tint l = j + c[k];\n\t\t\t\t\t\t//cout << l << endl;\n\t\t\t\t\t\tif (l < 0)d[i + 1][0] = min(d[i + 1][0], d[i][j]+x[i + 1] * x[i + 1]);\n\t\t\t\t\t\telse if (l > 255) {\n\t\t\t\t\t\t\td[i + 1][255] = min(d[i + 1][256], d[i][j]+(x[i + 1] - 255)*(x[i + 1] - 255));\n\t\t\t\t\t\t\t//cout << d[i + 1][256] << endl;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\td[i+1][l]= min(d[i + 1][l], d[i][j] + (x[i + 1] - l)*(x[i + 1] - l));\n\t\t\t\t\t\t\t//cout << i + 1 << \" \" << j << \" \" << l << \" \" << d[i + 1][l];\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//cout << i + 1 << \" \" << j << \" \" << l << \" \" << d[i + 1][l]<<endl;\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t/*\n\t\t\tfor (int j = 0; j <= 256; j++) {\n\t\t\t\tcout << i<< \"j:\" <<j<<\" \"<<d[i][j] << endl;\n\n\t\t\t}\n\t\t\tcout << endl;\n\t\t\t*/\n\t\t\t\n\t\t}\n\t\tll ans = INF;\n\t\tfor (int i = 0; i <= 255; i++) {\n\t\t\t//cout <<\"d[n-1][i]:\"<< d[n][i] << endl;\n\t\t\tans = min(ans, d[n][i]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <sstream>\n#include <string>\n#include <vector>\n#include <map>\n#include <algorithm>\n#include <iostream>\n#include <utility>\n#include <set>\n#include <cctype>\n#include <queue>\n#include <stack>\n#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <functional>\n\nusing namespace std;\n\n#define INF 1000000000\n#define EPS 1e-9\n#define PI (atan(1.0) * 4.0)\n\ntypedef pair<int, int> P;\ntypedef long long ll;\n\n#define MAX_M 16\n#define MAX_N 20000\n\nint N, M;\nint C[MAX_M];\nint x[MAX_N];\n\nll dp[MAX_N+1][256];\n\nvector<int> ans_list;\n\nint main(){\n\n\twhile (true){\n\n\t\tcin >> N >> M;\n\n\t\tif (N == 0 && M == 0)\n\t\t\tbreak;\n\n\t\tfor (int i = 0; i < M; i++){\n\t\t\tcin >> C[i];\n\t\t}\n\n\t\tfor (int i = 0; i < N; i++){\n\t\t\tcin >> x[i];\n\t\t}\n\n\t\tfor (int i = 0; i < N + 1; i++){\n\t\t\tfor (int j = 0; j <= 255; j++){\n\t\t\t\tdp[i][j] = INF;\n\t\t\t}\n\t\t}\n\n\t\tdp[0][128] = 0;\n\n\t\tfor (int i = 0; i < N; i++){\n\t\t\tfor (int j = 0; j <= 255; j++){\n\t\t\t\tif (dp[i][j] == INF)\n\t\t\t\t\tcontinue;\n\t\t\t\tfor (int m = 0; m < M; m++){\n\t\t\t\t\tif (j + C[m] < 0){\n\t\t\t\t\t\tdp[i + 1][0] = min(dp[i + 1][0], dp[i][j] + (0 - x[i])*(0 - x[i]));\n\t\t\t\t\t}\n\t\t\t\t\telse if (j + C[m] > 255){\n\t\t\t\t\t\tdp[i + 1][255] = min(dp[i + 1][255], dp[i][j] + (255 - x[i])*(255 - x[i]));\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\tdp[i + 1][j + C[m]] = min(dp[i + 1][j + C[m]], dp[i][j] + (j + C[m] - x[i])*(j + C[m] - x[i]));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tll ans = INF;\n\t\tfor (int i = 0; i <= 255; i++){\n\t\t\tans = min(ans, dp[N][i]);\n\t\t}\n\n\t\tans_list.push_back(ans);\n\n\t}\n\n\tfor (int i = 0; i < ans_list.size(); i++){\n\t\tcout << ans_list[i] << endl;\n\t}\n\n\treturn 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <string.h>\n#include <queue>\n\nusing namespace std;\n\nint main(void){\n\tint n, m, i, j, c[16], x, t;\n\tlong long int f[17][256], k;\n\tqueue<int> que1, que2;\n\twhile(1){\n\t\tscanf(\"%d%d\",&n,&m);\n\t\tif(n == 0 && m == 0)\n\t\t\tbreak;\n\t\tfor(i = 0;i < m;i++)\n\t\t\tscanf(\"%d\",&c[i]);\n\t\tmemset(f,-1,sizeof(f));\n\t\tque1.push(128);\n\t\tf[0][128] = 0;\n\t\tfor(i = 0;i < n;i++){\n\t\t\tscanf(\"%d\",&x);\n\t\t\tfor(k = 0;k < 256;k++){ // 現在位置\n\t\t\t\tif(f[i][k] != -1){\n\t\t\t\t\tfor(j = 0;j < m;j++){\n\t\t\t\t\t\tt = k + c[j];\n\t\t\t\t\t\tif(t < 0)\n\t\t\t\t\t\t\tt = 0;\n\t\t\t\t\t\telse if(t > 255)\n\t\t\t\t\t\t\tt = 255;\n\t\t\t\t\t\tif(f[i + 1][t] == -1 || f[i + 1][t] > f[i][k] + (x - t) * (x - t))\n\t\t\t\t\t\t\tf[i + 1][t] = f[i][k] + (x - t) * (x - t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tk = 0x7FFFFFFF;\n\t\tfor(i = 0;i < 256;i++){\n\t\t\tif(f[n][i] != -1)\n\t\t\t\tk = min(f[n][i],k);\n\t\t}\n\t\tprintf(\"☆%d\\n\",k);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nint N,M;\nint C[20];\nint X[20001];\n\nint dp[20001][257];\n\n#define INF (1<<30)\n\nint main(){\n  while(  cin >> N >> M && (N||M) ){\n    for(int i=0;i<M;i++) cin >> C[i];\n    for(int i=0;i<N;i++) cin >> X[i];\n    \n    fill(dp[0],dp[20001],INF);\n    dp[0][128] = 0;\n    for(int i=0;i<N;i++){\n      for(int j=0;j<256;j++){\n\tif( dp[i][j] == INF ) continue;\n\tfor(int k=0;k<M;k++){\n\t  int nd = max ( 0 , min( 255, j + C[k]) );\n\t  dp[i+1][nd] = min( dp[i+1][nd],\n\t\t\t     dp[i][j] + (nd-X[i])*(nd-X[i]) );\n\t}\n      }\n    }\n    int res = INF;\n    for(int i=0;i<256;i++) res = min( res ,dp[N][i] );\n    cout << res << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#define inf 1e9\n\nusing namespace std;\n\nint n, m;\nint c[20], x[20005];\nint dp[20005][300];\n\nint main(void)\n{\n  while(cin >> n >> m, n&&m){\n    for(int i = 1; i <= m; i++) cin >> c[i];\n    for(int i = 1; i <= n; i++) cin >> x[i];\n\n    for(int i = 0; i <= n; i++){\n      for(int j = 0; j < 256; j++){\n        dp[i][j] = inf;\n      }\n    }\n    dp[0][128] = 0;\n\n    for(int i = 0; i < n; i++){\n      for(int j = 0; j < 256; j++){\n        for(int k = 1; k <= m; k++){\n          int nj = j + c[k];\n          nj = min(nj, 255), nj = max(0, nj);\n          dp[i+1][nj] = min(dp[i+1][nj], dp[i][j] + (x[i+1]-nj)*(x[i+1]-nj));\n        }\n      }\n    }\n\n    int ans = inf;\n    for(int i = 0; i < 256; i++) ans = min(ans, dp[n][i]);\n    cout << ans << endl;\n  }\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n#define INF 100000000\nusing namespace std;\nint main(){\n\tint n,m,x,cb[20];//now,now\n\tint temp;\n\twhile(cin>>n>>m,n||m){\n\t\tvector<int> input;\n\t\tvector<int> dp[256];\n\t\tfor(int i=0;i<m;i++){\n\t\t\tcin>>cb[i];\n\t\t}\n\t\tfor(int i=0;i<n;i++){\n\t\t\tcin>>x;\n\t\t\tinput.push_back(x);\n\t\t}\n\t\tfor(int i=0;i<=n;i++)\n\t\tfor(int j=0;j<=255;j++)\n\t\tdp[j].push_back(INF);\n\t\tdp[128][0]=0;\n\t\tfor(int i=0;i<n;i++)\n\t\tfor(int j=0;j<=255;j++){\n\t\t\t\n\t\t\t\tif(dp[j][i]!=INF){\n\t\t\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\t\t\ttemp=j+cb[k];\n\t\t\t\t\t\tif(temp>255)\n\t\t\t\t\t\ttemp=255;\n\t\t\t\t\t\telse if(temp<0)\n\t\t\t\t\t\ttemp=0;\n\t\t\t\t\t\tdp[temp][i+1]=min(dp[temp][i+1],dp[j][i]+(temp-input[i])*(temp-input[i]));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t}\n\t\tint ans=INF;\n\t\tfor(int i=0;i<=255;i++){\n\t\tif(ans>dp[i][n])\n\t\tans=dp[i][n];\n\t\t}\n\t\tcout<<ans<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <cmath>\n#include <algorithm>\n#include <cstdlib>\n#include <ctime>\n#include <cstdio>\n#include <functional>\n#include <set>\n#include <sstream>\n#include <map>\n#include <queue>\n#include <stack>\n \nusing namespace std;\n \nint main()\n{\n\tlong long n;\n\tint m;\n\twhile(cin>>n>>m,n){\n\t\tvector<int> c(m),x(n);\n\t\tfor(int i=0;i<m;i++) cin>>c[i];\n\t\tfor(long long i=0;i<n;i++) cin>>x[i];\n\n\t\tvector<vector<long long> > dp(n+1,vector<long long>(256,100000000LL));\n\n\t\tdp[0][128]=0;\n\n\t\tfor(long i=0;i<n;i++){\n\t\t\tfor(int j=0;j<256;j++){\n\t\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\t\tint tmp=j+c[k];\n\t\t\t\t\ttmp=min(tmp,255);\n\t\t\t\t\ttmp=max(tmp,0);\n\t\t\t\t\tdp[i+1][tmp]=min(dp[i+1][tmp],dp[i][j]+(tmp-x[i])*(tmp-x[i]));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tlong long res=dp[n][0];\n\t\tfor(int i=1;i<256;i++) res=min(res,dp[n][i]);\n\t\tcout<<res<<endl;\n\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <list>\n#include <map>\n#include <set>\n#include <deque>\n#include <stack>\n#include <bitset>\n#include <algorithm>\n#include <functional>\n#include <numeric>\n#include <utility>\n#include <sstream>\n#include <iostream>\n#include <iomanip>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <cctype>\n#include <string>\n#include <cstring>\n#include <ctime>\n\nusing namespace std;\n\ninline int toInt(string s) {int v; istringstream sin(s);sin>>v;return v;}\ntemplate<class T> inline string toString(T x) {ostringstream sout;sout<<x;return sout.str();}\ntemplate<class T> inline T sqr(T x) {return x*x;}\n\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<string> vs;\ntypedef pair<int, int> pii;\ntypedef long long ll;\n\n#define all(a)  (a).begin(),(a).end()\n#define rall(a) (a).rbegin(), (a).rend()\n#define pb push_back\n#define mp make_pair\n#define each(i,c) for(typeof((c).begin()) i=(c).begin(); i!=(c).end(); ++i)\n#define exist(s,e) ((s).find(e)!=(s).end())\n#define range(i,a,b) for(int i=(a);i<(b);++i)\n#define rep(i,n)  range(i,0,n)\n#define clr(a,b) memset((a), (b) ,sizeof(a))\n#define dump(x)  cerr << #x << \" = \" << (x) << endl;\n#define debug(x) cerr << #x << \" = \" << (x) << \" (L\" << __LINE__ << \")\" << \" \" << __FILE__ << endl;\n\nconst double eps = 1e-10;\nconst double pi  = acos(-1.0);\nconst ll inf =1LL << 62;\n\n\nint main(void){\n\tint dp[2][256];\n\tint tar[20000];\n\tint d[16];\n\tconst int  INF = 1 << 30;\n\tint n,m;\n\t\twhile(cin >> n >> m,n|m){\n\t\trep(i,m)\n\t\t\tcin >> d[i];\n\t\trep(i,n)\n\t\t\tcin >> tar[i];\n\t\trep(i,256){\n\t\t\tdp[0][i]=INF;\n\t\t\tdp[1][i]=INF;\n\t\t}\n\t\tdp[0][128]=0;\n\t\trep(i,n){\n\t\t\trep(j,256)rep(k,m){\n\t\t\t\tint next=j+d[k];\n\t\t\t\tnext=max(next,0);\n\t\t\t\tnext=min(next,255);\n\t\t\t\tint cost=(next-tar[i])*(next-tar[i]);\n\t\t\t\tdp[1][next]=min(dp[1][next],dp[0][j]+cost);\n\t\t\t}\n\t\t\trep(j,256){\n\t\t\t\tdp[0][j]=dp[1][j];\n\t\t\t\tdp[1][j]=INF;\n\t\t\t}\n\t\t}\n\t\tint ans=INF;\n\t\trep(i,256)\n\t\t\tans=min(ans,dp[0][i]);\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <vector>\n#include <complex>\n#include <algorithm>\n#include <set>\n#include <map>\n#include <queue>\n#include <string>\n#include <cstring>\n#include <stack>\n#include <cmath>\n#include <iomanip>\n#include <sstream>\n#include <cassert>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef ll li;\ntypedef pair<int,int> PI;\n#define EPS (1e-10L)\n#define rep(i,n) for(int i=0;i<(int)(n);++i)\n#define F first\n#define S second\n#define mp(a,b) make_pair(a,b)\n#define pb(a) push_back(a)\n#define SZ(a) (int)((a).size())\n#define ALL(a) a.begin(),a.end()\n#define FOR(it,a) for(__typeof(a.begin())it=a.begin();it!=a.end();++it)\nvoid pkuassert(bool t){t=1/t;};\nint dx[]={0,1,0,-1,1,1,-1,-1};\nint dy[]={1,0,-1,0,-1,1,1,-1};\n\nint n,m;\nint c[16];\n\n\nbool vis[256][20001];\n\nvoid solve(){\n  rep(i,m) cin >> c[i];\n  int x[n];\n  rep(i,n) cin >> x[i];\n  priority_queue<pair<ll,PI> > q;\n  q.push(mp(0,mp(0,128)));\n  memset(vis,0,sizeof(vis));\n  ll tans=0;\n  int y0=128;\n  rep(i,n){\n    int mini=0;\n    int minv=1000000000;\n    rep(j,m){\n      int nv=y0+c[j];\n      nv=max(nv,0);\n      nv=min(nv,255);\n      if(minv>abs(nv-x[j])){\n        mini=j;\n        minv=abs(nv-x[j]);\n      }\n    }\n    int nv=y0+c[mini];\n    nv=max(nv,0);\n    nv=min(nv,255);\n    tans+=(nv-x[i])*(nv-x[i]);\n  }\n  while(!q.empty()){\n    ll cc=-q.top().F;\n    int ne=q.top().S.F;\n    int cv=q.top().S.S;\n    q.pop();\n    if(ne==n){\n      cout << cc << endl;\n      return;\n    }\n    if(tans<=cc) continue;\n    if(vis[cv][ne]) continue;\n    vis[cv][ne]=true;\n    rep(j,m){\n      int nv=cv+c[j];\n      nv=max(nv,0);\n      nv=min(nv,255);\n      if(vis[nv][ne+1]) continue;\n      q.push(mp(-cc-(nv-x[ne])*(nv-x[ne]),mp(ne+1,nv)));\n    }\n  }\n  cout << tans << endl;\n}\n\nint main(int argc, char *argv[])\n{\n  while(cin >> n >> m && n) solve();\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "//Yattazo! Watashiha-Yosen-tsuukashita! It's 460points/600points! OHO!!!!!\n#include<iostream>\n#include<algorithm>\n#include<cmath>\nusing namespace std;\nint x[64000][256],n,m,y[64000],z[64000],d,minx;\nint main(){\n\twhile(true){\n\t\tminx=2000000000;\n\t\tfor(int i=0;i<65536;i++){for(int j=0;j<256;j++){x[i][j]=2000000000;}}\n\t\tcin>>n>>m;if(!n){break;}\n\t\tfor(int i=0;i<m;i++){cin>>y[i];}\n\t\tfor(int i=1;i<=n;i++){cin>>z[i];}\n\t\tx[0][128]=0;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tfor(int j=0;j<256;j++){\n\t\t\t\tif(x[i-1][j]<1000000000){\n\t\t\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\t\t\td=y[k]+j;\n\t\t\t\t\t\tif(d<0){d=0;}\n\t\t\t\t\t\tif(d>255){d=255;}\n\t\t\t\t\t\tx[i][d]=min(x[i][d],x[i-1][j]+(int)pow(1.0*(z[i]-d),2));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor(int i=0;i<256;i++){minx=min(minx,x[n][i]);}\n\t\tcout<<minx<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define repd(i,a,b) for (int i=(a);i<(b);i++)\n#define rep(i,n) repd(i,0,n)\n#define all(x) (x).begin(),(x).end()\ntemplate<class T> inline bool chmin(T& a, T b) { if (a > b) { a = b; return true; } return false; }\ntemplate<class T> inline bool chmax(T& a, T b) { if (a < b) { a = b; return true; } return false; }\ntypedef long long ll;\nconst long long INF = 1LL << 60;\ntypedef pair<int, int> P;\nint main()\n{\n    while (1) {\n        int N, M;\n        cin >> N >> M;\n        if (N == 0 && M == 0) break;\n        vector<int> C(M), x(N);\n        rep(i, M) cin >> C[i];\n        rep(i, N) cin >> x[i];\n\n        vector<vector<int>> dp(N + 1, vector<int>(256, 1e9));\n        dp[0][128] = 0;\n        rep(i, N) {\n            rep(j, 256) {\n                if (dp[i][j] == 1e9) continue;\n                rep(k, M) {\n                    int to = j + C[k];\n                    if (to < 0) to = 0;\n                    else if (to > 255) to = 255;\n                    chmin(dp[i + 1][to], dp[i][j] + (to - x[i]) * (to - x[i]));\n                }\n            }\n        }\n\n        int ans = 1e9;\n        rep(i, 256) {\n            chmin(ans, dp[N][i]);\n        }\n\n        cout << ans << endl;\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\nint n,m;\nint dp[20100][300];\nint x[20100],c[20];\n\nint main(){\n  while(cin >> n >> m, n||m){\n    for(int i=0;i<m;i++)cin >> c[i];\n    for(int i=0;i<n;i++)cin >> x[i];\n\n    for(int i=0;i<=n;i++){\n      for(int j=0;j<256;j++)dp[i][j] = 1000000000;\n    }\n\n    dp[0][128] = 0;\n\n    for(int i=0;i<n;i++){\n      for(int j=0;j<256;j++){\n\tfor(int k=0;k<m;k++){\n\t  int tmp = j + c[k];\n\t  if(tmp<0)tmp = 0;\n\t  if(255<tmp)tmp = 255;\n\t  int sq = (x[i]-tmp)*(x[i]-tmp);\n\t  dp[i+1][tmp] = min(dp[i+1][tmp],dp[i][j]+sq);\n\t}\n      }\n    }\n\n    int ans = 1000000000;\n    for(int i=0;i<256;i++)ans = min(ans,dp[n][i]);\n    cout << ans << endl;\n  }\n}\n    "
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <utility>\n#include <cstring>\n#include <cmath>\n#include <queue>\nusing namespace std;\n\n#define rep(i,n) for(int i=0; i<n; i++)\n#define FOR(i,s,n) for(int i=s; i<n; i++)\n#define ALL(x) x.begin(), x.end()\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> pii;\ntypedef vector<int> vi;\n\nstruct node {\n\tint cost;\n\tint ind;\n\tint val;\n\tnode(int c, int i, int v) {\n\t\tcost = c;\n\t\tind = i;\n\t\tval = v;\n\t}\n};\n\nbool checked[20001][256];\n\nbool operator<(const node& lhs, const node& rhs) {\n\tif( lhs.cost == rhs.cost ) {\n\t\treturn lhs.ind < rhs.ind;\n\t}\n\treturn lhs.cost > rhs.cost;\n}\n\nint main() {\n\tint n, m;\n\twhile(cin >> n >> m, n || m) {\n\t\tmemset(checked, 0, sizeof(checked));\n\t\tvector<int> c(m+1), x(n+1);\n\t\trep(i,m) cin >> c[i];\n\t\trep(i,n) cin >> x[i];\n\t\tpriority_queue<node> que;\n\t\tque.push(node(0, 0, 128));\n\t\twhile(!que.empty()) {\n\t\t\tnode nd = que.top();\n\t\t\tque.pop();\n\t\t\tif( nd.ind == n ) {\n\t\t\t\tcout << nd.cost << endl;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif( checked[nd.ind][nd.val] ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tchecked[nd.ind][nd.val] = true;\n\t\t\trep(i, m) {\n\t\t\t\tint nval = min(max(nd.val+c[i], 0), 255);\n\t\t\t\tif( !checked[nd.ind+1][nval] ) {\n\t\t\t\t\tque.push( node(nd.cost+(x[nd.ind]-nval)*(x[nd.ind]-nval), nd.ind+1, nval) );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n#define INF 100000000\nusing namespace std;\nint main(){\n\tint n,m,x,dp[20][260],cb[20];//now,now\n\tint temp;\n\twhile(cin>>n>>m,n||m){\n\t\tvector<int> input;\n\t\tfor(int i=0;i<m;i++)\n\t\t\tcin>>cb[i];\n\t\tfor(int i=0;i<n;i++){\n\t\t\tcin>>x;\n\t\t\tinput.push_back(x);\n\t\t}\n\t\tfor(int i=0;i<=n;i++)\n\t\t\tfill(dp[i],dp[i]+256,INF);\n\t\tdp[0][128]=0;\n\t\tfor(int i=0;i<n;i++)\n\t\tfor(int j=0;j<=255;j++){\n\t\t\t\tif(dp[i][j]!=INF){\n\t\t\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\t\t\ttemp=j+cb[k];\n\t\t\t\t\t\tif(temp>255)\n\t\t\t\t\t\ttemp=255;\n\t\t\t\t\t\telse if(temp<0)\n\t\t\t\t\t\ttemp=0;\n\t\t\t\t\t\tdp[i+1][temp]=min(dp[i+1][temp],dp[i][j]+(temp-input[i])*(temp-input[i]));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t}\n\t\tint ans=INF;\n\t\tfor(int i=0;i<=255;i++){\n\t\tif(ans>dp[n][i])\n\t\tans=dp[n][i];\n\t\t}\n\t\tcout<<ans<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<math.h>\n#include<algorithm>\n#include<utility>\n#include<queue>\n#include<string.h>\n#include<string>\n#include<set>\n#include<map>\n#include<vector>\nusing namespace std;\ntypedef long long LL;\ntypedef pair<int, int> P;\nconst int INF=2e9;\n\nint N,M;\nint C[20];\nint x[20010];\nint dp[20010][260]={};\nint main(){\n    while(cin>>N>>M,N!=0){\n        for(int i=1;i<=M;i++){\n            cin>>C[i];\n        }\n        for(int i=1;i<=N;i++){\n            cin>>x[i];\n        }\n        for(int i=0;i<=N;i++){\n            for(int j=0;j<=255;j++){\n                dp[i][j]=INF;\n            }\n        }\n        dp[0][128]=0;\n        for(int i=0;i<N;i++){\n            for(int j=0;j<=255;j++){\n                //if(dp[i][j]!=INF){\n                    for(int k=1;k<=M;k++){\n                        int sig=j+C[k];\n                        if(sig<0){\n                            sig=0;\n                        }else if(sig>255){\n                            sig=255;\n                        }\n                        dp[i+1][sig]=min(dp[i+1][sig],dp[i][j]+(x[i+1]-sig)*(x[i+1]-sig));\n                    }\n                //}\n            }\n        }\n        int ans=INF;\n        for(int i=0;i<=255;i++){\n            ans=min(ans,dp[N][i]);\n        }\n        cout<<ans<<endl;\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<(n);i++)\nusing namespace std;\nint N,M;\nint C[20];\nint X[20004];\nconst long long INF = 1000000000000;\nlong long dp[20004][130];\nlong long dfs(int i_,int y_) {\n    if(i_ == N) return 0;\n    if(dp[i_][y_]!=-1) return dp[i_][y_];\n\n    long long ret = INF;\n\n    rep(i,M) {\n        int y = y_ + C[i];\n        y = max(y,0);\n        y = min(y,255);\n        //cout<<y<<\",\"<<X[i_]<<endl;\n        ret = min(ret,dfs(i_+1,y)+(X[i_]-y)*(X[i_]-y));\n\n    }\n    return dp[i_][y_]=ret;\n\n}\nvoid solve() {\n    rep(i,20004) rep(j,130) dp[i][j] = -1;\n    rep(i,M) cin>>C[i];\n    rep(i,N) cin>>X[i];\n    long long ans = INF;\n    ans = min(ans,dfs(0,128));\n    cout<<ans<<endl;\n    rep(i,M) C[i] = 0;\n    rep(i,N) X[i] = 0;\n\n}\nint main() {\n    while(cin>>N>>M) {\n        if(N+M==0) return 0;\n        solve();\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define ll long long\ntypedef pair<ll,ll> P;\ntypedef pair<ll,P> PP;\nconst ll MOD = 1e9+7;\nconst ll INF = 1e18;\nll dp[20010][300];\n\nint main(){\n  ll n,m;\n  while(cin>>n>>m,n){\n\tll c[22],x[20010];\n\tfor(int i=0;i<m;i++)cin>>c[i];\n\tfor(int i=0;i<n;i++)cin>>x[i];\n  \n\tfill_n(*dp,20010*300,INF);\n\n\tdp[0][128]=0;\n\tfor(int i=0;i<n;i++){\n\t  for(int j=0;j<256;j++){\n\t\tif(dp[i][j]==INF)continue;\n\t\tfor(int k=0;k<m;k++){\n\t\t  int nj=j+c[k];\n\t\t  nj=min(nj,255);\n\t\t  nj=max(nj,0);\n\t\t  dp[i+1][nj]=min(dp[i+1][nj],dp[i][j]+(nj-x[i])*(nj-x[i]));\n\t\t}\n\t  }\n\t}\n\n\tll ans=INF;\n\tfor(int i=0;i<256;i++){\n\t  ans=min(ans,dp[n][i]);\n\t}\n\tcout<<ans<<endl;\n  }\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cmath>\n#include <vector>\n#include <map>\n#include <stack>\n#include <queue>\n#include <algorithm>\n#include <set>\n\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define REP(i,j) FOR(i,0,j)\n#define mp std::make_pair\n\nconst int INF = 1310720000;\nconst int dx[8] = {0, 0, 1, -1, 1, 1, -1, -1}, dy[8] = {1, -1, 0, 0, 1, -1, 1, -1};\n\ntypedef unsigned long long ull;\ntypedef std::pair<int,int> P;\n\nint N, M;\nint C[16], X[20000];\nint dp[20001][256];\n\nint main(){\n    while(std::cin >> N >> M, N){\n        REP(i, M){\n            std::cin >> C[i];\n        }\n    \n        FOR(i, 1, N+1){\n            std::cin >> X[i];\n        }\n\n        REP(i, N+1){\n            REP(y, 256){\n                dp[i][y] = INF;\n            }\n        }\n        dp[0][128] = 0;\n\n        FOR(i, 0, N){\n            REP(y, 256){\n                REP(j, M){\n                    int ny = y+C[j];\n                    if(ny < 0){ny = 0;}\n                    else if(ny > 255){ny = 255;}\n\n                    dp[i+1][ny] = std::min(dp[i+1][ny], dp[i][y] + (X[i+1]-ny) * (X[i+1]-ny));\n                }\n            }\n        }\n\n        // FOR(i, 1, N+1){\n        //     REP(y, 256){\n        //         printf(\"%d, \", dp[i][y]);\n        //     }\n        //     puts(\"\");\n        // }\n\n        //printf(\"%d\\n\", dp[2][136]);\n\n        int min_sum = INF;\n        REP(i, 256){\n            min_sum = std::min(min_sum, dp[N][i]);\n        }\n\n        std::cout << min_sum << std::endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <cassert>\n#include <iostream>\n#include <sstream>\n#include <vector>\n#include <queue>\n#include <set>\n#include <map>\n#include <utility>\n#include <numeric>\n#include <algorithm>\n#include <bitset>\n#include <complex>\n\nusing namespace std;\n\n#define P(a) (a) * (a)\n\ntypedef unsigned uint;\ntypedef long long Int;\n\nconst int INF = 1001001001;\nconst Int INFLL = 1001001001001001001LL;\n\ntemplate<typename T> void pv(T a, T b) { for (T i = a; i != b; ++i) cout << *i << \" \"; cout << endl; }\ntemplate<typename T> void chmin(T& a, T b) { if (a > b) a = b; }\ntemplate<typename T> void chmax(T& a, T b) { if (a < b) a = b; }\n\nint c[20], x[20500];\nint dp[20500][256];\n// dp[x][y]\n\nint main()\n{\n\tint n, m;\n\twhile (cin >> n >> m, n && m){\n\t\tfor (int i = 0; i < m; i++){\n\t\t\tcin >> c[i];\n\t\t}\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tcin >> x[i];\n\t\t}\n\t\tmemset(dp, INF, sizeof(dp));\n\n\t\tdp[0][128] = 0;\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tfor (int j = 0; j < 256; j++){\n\t\t\t\tif (dp[i][j] == INF) continue;\n\t\t\t\tfor (int k = 0; k < m; k++){\n\t\t\t\t\tint next = j + c[k];\n\t\t\t\t\tnext = min(next, 255);\n\t\t\t\t\tnext = max(next, 0);\n\t\t\t\t\tdp[i + 1][next] = min(dp[i + 1][next], dp[i][j] + P(x[i] - next));\n\t\t\t\t\t// cout << dp[i+1][next] << \" \";\n\t\t\t\t}\n\t\t\t\t// puts(\"\");\n\t\t\t}\n\t\t}\n\n\t\tint ret = INF;\n\t\tfor (int j = 0; j < 256; j++){\n\t\t\tret = min(ret, dp[n][j]);\n\t\t}\n\t\tcout << ret << endl;\n\t}\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\n#include<stack>\n#include<map>\n#include<set>\n#include<queue>\n#include<cstdio>\n#include<climits>\n#include<cmath>\n#include<cstring>\n#include<string>\n#include<sstream>\n#include<numeric>\n#include<cassert>\n\n#define f first\n#define s second\n#define mp make_pair\n\n#define REP(i,n) for(int i=0; i<(int)(n); i++)\n#define rep(i,s,n) for(int i=(s); i<(int)(n); i++)\n#define FOR(i,c) for(__typeof((c).begin()) i=(c).begin(); i!=(c).end(); i++)\n#define ALL(c) (c).begin(), (c).end()\n#define IN(x,s,g) ((x) >= (s) && (x) < (g))\n#define ISIN(x,y,w,h) (IN((x),0,(w)) && IN((y),0,(h)))\n#define print(x) printf(\"%d\\n\",x)\n\nusing namespace std;\n\ntypedef unsigned int uint;\ntypedef long long ll;\n\nconst int _dx[] = {0,1,0,-1};\nconst int _dy[] = {-1,0,1,0};\n\nint getInt(){\n  int ret = 0,c;\n  c = getchar();\n  while(!isdigit(c)) c = getchar();\n  while(isdigit(c)){\n    ret *= 10;\n    ret += c - '0';\n    c = getchar();\n  }\n  return ret;\n}\n\nint c[16];\nint x[20000];\nint n,m;\n\nlong long memo[256][20000];\n\nlong long solve(int now, int prev){\n  if(now == n) return 0;\n  if(memo[now][prev]!=-1) return memo[now][prev];\n\n  long long ret = 1ll << 60;\n  REP(i,m){\n    int t = min(255,max(0,prev + c[i]));\n\n    int g = (t - x[now]) * (t - x[now]);\n    ret = min(ret, g + solve(now+1, t));\n  }\n  return memo[now][prev] = ret;\n}\n\nint main(){\n  while(scanf(\"%d%d\",&n,&m), n+m){\n    REP(i,m) scanf(\"%d\",c+i);\n    REP(i,n) scanf(\"%d\",x+i);\n    memset(memo,-1,sizeof(memo));\n    print((int)solve(0,128));\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <map>\n#include <set>\n#include <list>\n#include <cstdio>\n#include <cmath>\n#include <deque>\n#include <queue>\n#include <stack>\n#include <bitset>\n#include <cctype>\n#include <string>\n#include <vector>\n#include <cstdlib>\n#include <cstring>\n#include <iomanip>\n#include <sstream>\n#include <iostream>\n#include <algorithm>\n#include <functional>\n\nusing namespace std;\n\n#define fr first\n#define sc second\n#define mp make_pair\n\ntypedef long long int64;\ntypedef pair< int, int > iP;\ntypedef pair< iP, int > iiP;\n\nconst int INF = 2 << 28;\nconst double EPS = 1e-10;\n\nint N, M, dp[20001][256];\nvector< int > c ,x;\n\nint rec(int idx, int prev) {\n    if(idx == N) return 0;\n    if(~dp[idx][prev]) return dp[idx][prev];\n    int ret = INF;\n    for(int i = 0; i < M; i++) {\n        int y = prev + c[i];\n        y = max(y, 0);\n        y = min(y, 255);\n        ret = min(ret, rec(idx + 1, y) + (int)pow(y - x[idx], 2));\n    }\n    return dp[idx][prev] = ret;\n}\n\nint main() {\n    while(cin >> N >> M, N) {\n        memset(dp, -1, sizeof(dp));\n        c.resize(M);\n        x.resize(N);\n        for(int i = 0; i < M; i++)\n            cin >> c[i];\n        for(int i = 0; i < N; i++)\n            cin >> x[i];\n\n        cout << rec(0, 128) << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <cmath>\n#include <cstdio>\n#include <functional>\n#include <numeric>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <utility>\n#include <sstream>\n#include <complex>\n\nusing namespace std;\n\n#define FOR(i,a,b) for(long long i=(a);i<(b);i++)\n#define REP(i,N) for(long long i=0;i<(N);i++)\n#define ALL(s) (s).begin(),(s).end()\n#define fi first\n#define se second\n\n#define PI acos(-1.0)\n#define INF 10000007\n#define EPS 1e-10\n\ntypedef long long ll;\ntypedef pair<ll, ll> P;\ntypedef pair<double, double> PD;\ntypedef pair<string, ll> PS;\ntypedef vector<ll> V;\ntypedef pair<P, char> PC;\n\nint n, m;\nint c[100], x[20000];\nint dp[20][300];\n\nint main(){\n\twhile (cin >> n >> m&&n + m){\n\t\tREP(i, 20)REP(j, 300)dp[i][j] = INF;\n\t\tREP(i, m)cin >> c[i];\n\t\tREP(i, n)cin >> x[i];\n\t\tdp[0][128] = 0;\n\t\tREP(i, n){\n\t\t\tREP(j, m){\n\t\t\t\tREP(k, 256){\n\t\t\t\t\tint num = k + c[j];\n\t\t\t\t\tif (num < 0)num = 0;\n\t\t\t\t\tif (num > 255)num = 255;\n\t\t\t\t\tdp[i + 1][num] = min(dp[i][k] + (x[i] - num)*(x[i] - num), dp[i + 1][num]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = INF;\n\t\tREP(i, 300){\n\t\t\tans = min(ans, dp[n][i]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <cmath>\n#define INF (1<<21)\n\nusing namespace std;\n\nint main(void) {\n\tint N,M;\n\twhile (cin >> N >> M, N) {\n\t\tvector<int> C(M);\n\t\tfor (int i = 0; i < M; ++i) {\n\t\t\tcin >> C[i];\n\t\t}\n\t\tvector<int> x(N);\n\t\tfor (int i = 0; i < N; ++i) {\n\t\t\tcin >> x[i];\n\t\t}\n\n\t\tvector< vector<int> > dp(256,vector<int>(N+1));\n\t\tfor (int i = 0; i < 256; ++i) {\n\t\t\tfor (int j = 0; j < N+1; ++j) {\n\t\t\t\tdp[i][j] = INF;\n\t\t\t}\n\t\t}\n\t\tdp[128][0] = 0;\n\n\t\tfor (int j = 0; j < N; ++j) {\n\t\t\tfor (int i = 0; i < 256; ++i) {\n\t\t\t\tif (dp[i][j] != INF) {\n\t\t\t\t\tfor (int k = 0; k < M; ++k) {\n\t\t\t\t\t\tif (C[k]+i > 255) {\n\t\t\t\t\t\t\tdp[255][j+1] = min(dp[255][j+1],dp[i][j]+(int)pow(x[j]-255,2));\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (C[k]+i < 0) {\n\t\t\t\t\t\t\tdp[0][j+1] = min(dp[0][j+1],dp[i][j]+(int)pow(x[j]-0,2));\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tdp[C[k]+i][j+1] = min(dp[C[k]+i][j+1],dp[i][j]+(int)pow(x[j]-C[k]-i,2));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tint res = INF;\n\t\tfor (int i = 0; i < 256; ++i) {\n\t\t\tif (dp[i][N] < res) {\n\t\t\t\tres = dp[i][N];\n\t\t\t}\n\t\t}\n\t\tcout << res << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\n#include<stack>\n#include<map>\n#include<set>\n#include<queue>\n#include<cstdio>\n#include<climits>\n#include<cmath>\n#include<cstring>\n#include<string>\n#include<sstream>\n#include<numeric>\n#include<cassert>\n\n#define f first\n#define s second\n#define mp make_pair\n\n#define REP(i,n) for(int i=0; i<(int)(n); i++)\n#define rep(i,s,n) for(int i=(s); i<(int)(n); i++)\n#define FOR(i,c) for(__typeof((c).begin()) i=(c).begin(); i!=(c).end(); i++)\n#define ALL(c) (c).begin(), (c).end()\n#define IN(x,s,g) ((x) >= (s) && (x) < (g))\n#define ISIN(x,y,w,h) (IN((x),0,(w)) && IN((y),0,(h)))\n#define print(x) printf(\"%d\\n\",x)\n\nusing namespace std;\n\ntypedef unsigned int uint;\ntypedef long long ll;\n\nconst int _dx[] = {0,1,0,-1};\nconst int _dy[] = {-1,0,1,0};\n\nint getInt(){\n  int ret = 0,c;\n  c = getchar();\n  while(!isdigit(c)) c = getchar();\n  while(isdigit(c)){\n    ret *= 10;\n    ret += c - '0';\n    c = getchar();\n  }\n  return ret;\n}\n\nint c[16];\nint x[20000];\nint n,m;\n\nuint memo[20000][256];\n\nuint solve(int now, int prev){\n  if(now == n) return 0;\n  if(memo[now][prev]!=0xFFFFFFFF) return memo[now][prev];\n\n  uint ret = 0xFFFFFFFF;\n  REP(i,m){\n    int t = min(255,max(0,prev + c[i]));\n    uint g = (uint)(t - x[now]) * (t - x[now]);\n    ret = min(ret, g + solve(now+1, t));\n  }\n  return memo[now][prev] = ret;\n}\n\nint main(){\n  while(scanf(\"%d%d\",&n,&m), n+m){\n    REP(i,m) scanf(\"%d\",c+i);\n    REP(i,n) scanf(\"%d\",x+i);\n    memset(memo,0xFF,sizeof(memo));\n    printf(\"%u\\n\",solve(0,128));\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define int long long\n#define INF 0x3f3f3f3f3f3f3f3f\n#define rep(i,n)for(int i=0;i<(n);i++)\nusing namespace std;\n\nint c[16], x[16];\nint dp[200001][256];\nint d(int a) {\n\tif (a < 0)return 0;\n\tif (a > 255)return 255;\n\treturn a;\n}\nint diff(int i, int a) {\n\treturn (x[i] - a)*(x[i] - a);\n}\nsigned main() {\n\tint n, m;\n\twhile (scanf(\"%lld%lld\", &n, &m), n) {\n\t\trep(i, m)scanf(\"%lld\", &c[i]);\n\t\trep(i, n)scanf(\"%lld\", &x[i]);\n\t\tmemset(dp, 0x3f, sizeof(dp));\n\t\tdp[0][128] = 0;\n\t\trep(i, n)rep(j, 256) {\n\t\t\tif (dp[i][j] == INF)continue;\n\t\t\trep(k, m) {\n\t\t\t\tint a = d(j + c[k]);\n\t\t\t\tdp[i + 1][a] = min(dp[i + 1][a], dp[i][j] + diff(i, a));\n\t\t\t}\n\t\t}\n\t\tint Min = INF;\n\t\trep(j, 256)Min = min(Min, dp[n][j]);\n\t\tprintf(\"%lld\\n\", Min);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define pb push_back\n#define mp make_pair\n#define fi first\n#define se second\n#define FOR(i, a, b) for(int i=(a);i<(b);i++)\n#define REP(i, n) FOR(i, 0, n)\n#define RFOR(i, a, b) for(int i=(a);i>=(b);i--)\n#define RREP(i, n) RFOR(i, n, 0)\n#define MFOR(i, m) for(auto i=(m).begin();i!=(m).end();i++)\n#define ALL(a) (a).begin(), (a).end()\n#define SZ(x) ((int)(x).size())\n\ntypedef long long int ll;\ntypedef pair<int, int> P;\ntypedef pair<ll, ll> Pll;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<ll> vll;\ntypedef vector<vll> vvll;\n\nconst double eps = 1e-10;\nconst int MOD = 1000000007;\nconst int INF = 1000000000;\nconst ll LINF = 1ll<<50;\n\ntemplate<typename T>\nvoid printv(vector<T> const& s) {\n  REP(i, SZ(s)) {\n    cout << s[i] << \" \";\n  }\n  cout << endl;\n}\n\n\nint main () {\n  cin.tie(0);\n  cout << setprecision(10);\n\n  while(1) {\n    int n, m; cin >> n >> m;\n    if(n == 0 && m == 0) break;\n    vi c(m), x(n+1);\n    REP(i, m) {\n      cin >> c[i];\n    }\n    REP(i, n) {\n      cin >> x[i+1];\n    }\n\n    vector<vector<ll>> dp(n+1, vector<ll>(256, LINF));\n    REP(i, 256) {\n      dp[0][i] = 0;\n    }\n\n    FOR(i, 1, n+1) {\n      REP(j, 256) {\n        REP(k, m) {\n          ll next = min(255, max(0, j+c[k]));\n          dp[i][next] = min(dp[i][next], dp[i-1][j] + (x[i] - next) * (x[i] - next));\n        }\n      }\n    }\n\n    ll ans = LINF;\n    REP(i, 256) {\n      ans = min(ans, dp[n][i]);\n    }\n    cout << ans << endl;\n  }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <fstream>\n#include <cstdio>\n#include <cmath>\n#include <vector>\n#include <cstring>\n#include <string>\n#include <set>\n#include <map>\n#include <stack>\n#include <queue>\n#include <algorithm>\nusing namespace std;\n \n#define REP(i,n) for(int i=0; i<n; ++i)\n#define FOR(i,a,b) for(int i=a; i<=b; ++i)\n#define FORR(i,a,b) for (int i=a; i>=b; --i)\n#define pi M_PI\n \ntypedef long long ll;\ntypedef vector<int> VI;\ntypedef vector<ll> VL;\ntypedef vector<VI> VVI;\ntypedef pair<int,int> P;\ntypedef pair<ll,ll> PL;\n\nconst ll INF = 1e18;\nll dp[20001][256];\n\nint main() {\n    int n, m;\n    while (cin >> n >> m && n){\n        VI c(m), x(n);\n        REP(i,m) cin >> c[i];\n        REP(i,n) cin >> x[i];\n        REP(i,n+1) REP(j,256) dp[i][j] = INF;\n        dp[0][128] = 0;\n        REP(i,n) REP(j,256){\n            REP(k,m){\n                int a = j + c[k];\n                a = max(0, min(255, a));\n                dp[i+1][a] = min(dp[i+1][a], dp[i][j]+(x[i]-a)*(x[i]-a));\n            }\n        }\n        ll ans = INF;\n        REP(j,256) ans = min(ans, dp[n][j]);\n        cout << ans << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <cstdio>\n\nusing namespace std;\n\nconst int INF = 1<<30;\n\nint n, m, data[16], dp[2][256], in;\n\nmain(){\n  while(1){\n    scanf(\"%d%d\", &n, &m);\n    if(!n && !m) break;\n    for(int i=0;i<m;i++) scanf(\"%d\", &data[i]);\n    fill(dp[0], dp[2], INF);\n    dp[0][128] = 0;\n    for(int i=0;i<n;i++){\n      for(int j=0;j<256;j++) dp[(i+1)%2][j] = INF;\n      scanf(\"%d\", &in);\n      for(int j=0;j<256;j++){\n        if(dp[i%2][j] == INF) continue;\n        for(int k=0;k<m;k++){\n          int next = j + data[k];\n          if(next < 0) next = 0;\n          if(next > 255) next = 255;\n          dp[(i+1)%2][next] = min(dp[(i+1)%2][next], abs(in-(next)) * abs(in-(next)) + dp[i%2][j]);\n        }\n      }\n    }\n    int ans = INF;\n    for(int i=0;i<256;i++) ans = min(ans, dp[n%2][i]);\n    printf(\"%d\\n\", ans);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint r(int a) {\n\treturn max(0, min(255, a));\n}\n\nint main() {\n\tint n, m;\n\twhile (cin >> n >> m, n) {\n\t\tint c[16], x[20000];\n\t\tfor (int i = 0; i < m; i++) {\n\t\t\tcin >> c[i];\n\t\t}\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tcin >> x[i];\n\t\t}\n\t\tstatic int a[20000][16], e[20000][16];\n\t\tfor (int j = 0; j < m; j++) {\n\t\t\ta[0][j] = r(128 + c[j]);\n\t\t\te[0][j] = (x[0] - a[0][j]) * (x[0] - a[0][j]);\n\t\t}\n\t\tfor (int i = 1; i < n; i++) {\n\t\t\tfor (int j = 0; j < m; j++) {\n\t\t\t\te[i][j] = 1000000000;\n\t\t\t\tfor (int k = 0; k < m; k++) {\n\t\t\t\t\tint at = r(a[i - 1][k] + c[j]);\n\t\t\t\t\tint et = e[i - 1][k] + (x[i] - at) * (x[i] - at);\n\t\t\t\t\tif (et < e[i][j]) {\n\t\t\t\t\t\ta[i][j] = at;\n\t\t\t\t\t\te[i][j] = et;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint em = 1000000000;\n\t\tfor (int j = 0; j < m; j++) {\n\t\t\tem = min(em, e[n - 1][j]);\n\t\t}\n\t\tcout << em << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i, n) for (int i=0; i<(n); i++)\n#define ll long long\nusing namespace std;\n\nconst ll INF=1e18+7;\n\nint f(int x) { return max(0, min(x, 255)); }\n\nint main() {\n  int n,m; \n\n  while (1) {\n    cin>>n>>m;\n    if (n==0&&m==0) break;\n    vector<int> c(m),x(n);\n    rep(i, m) cin>>c[i];\n    rep(i, n) cin>>x[i];\n\n    vector<vector<ll>> dp(n+1, vector<ll>(256, INF));\n    dp[0][128]=0;\n    rep(i, n) {\n      rep(j, 256) {\n        if (dp[i][j]==INF) continue;\n          rep(k, m) {\n          int y=f(j+c[k]);\n          dp[i+1][y]=min(dp[i+1][y], dp[i][j]+(ll)(x[i]-y)*(ll)(x[i]-y));\n        }\n      }\n    }\n    ll res=INF;\n    rep(i, 256) res=min(res, dp[n][i]);\n    cout<<res<<endl;\n  }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n\nusing namespace std;\n\nconst int INF = 100000000;\n#define P(x) (x) * (x)\n\nint dp[20050][260];\n\nint main(void)\n{\n\tint n, m;\n\twhile (cin >> n >> m, n && m){\n\t\tint c[20];\n\t\tint x[20050];\n\t\tfor (int i = 0; i < m; i++){\n\t\t\tcin >> c[i];\n\t\t}\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tcin >> x[i];\n\t\t}\n\n\t\t// memset(dp, INF, sizeof(dp));\n\t\tfor (int i = 0; i < 20050; i++){\n\t\t\tfor (int j = 0; j < 260; j++){\n\t\t\t\tdp[i][j] = INF;\n\t\t\t}\n\t\t}\n\n\t\tdp[0][128] = 0;\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tfor (int j = 0; j < 256; j++){\n\t\t\t\tif (dp[i][j] == INF) continue;\n\t\t\t\tfor (int k = 0; k < m; k++){\n\t\t\t\t\tint now = j + c[k];\n\t\t\t\t\tif (now < 0) now = 0;\n\t\t\t\t\tif (255 < now) now = 255;\n\t\t\t\t\tdp[i + 1][now] = min(dp[i + 1][now], dp[i][j] + P(x[i] - now));\n\t\t\t\t\t// cout << P(c[i + 1] - now) << \" \";\n\t\t\t\t\t// printf(\"dp[%d][%d] = %d\\n\", i+1, now, dp[i+1][now]);\n\t\t\t\t}\n\t\t\t\t// puts(\"\");\n\t\t\t}\n\t\t}\n\n\t\tint ret = INF;\n\t\tfor (int i = 0; i < 256; i++){\n\t\t\tret = min(ret, dp[n][i]);\n\t\t}\n\n\t\tcout << ret << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n\nusing namespace std;\n\n#define MAX_M 16\n#define MAX_N 20010\n#define INF 1e8\n\nint N, M, C[MAX_M], x[MAX_N];\nint dp[MAX_N][256];\n\nint main(){\n  while(cin >> N >> M , (N | M)){\n    for(int i = 0 ; i < M ; i++){\n      cin >> C[i];\n    }\n \n    for(int i = 1 ; i <= N ; i++){\n      cin >> x[i];\n    }\n    int ans = INF;\n    fill(dp[0], dp[MAX_N], INF);\n    dp[0][128] = 0;\n    for(int i = 1 ; i <= N ; i++){\n      for(int j = 0 ; j <= 255 ; j++){\n        for(int k = 0 ; k < M ; k++){\n          int t = j + C[k];\n          if(t < 0) t = 0;\n          if(t > 255) t = 255;\n          dp[i][t] = min(dp[i][t], dp[i-1][j] + (t-x[i])*(t-x[i]));\n        }\n      }\n    }\n    for(int i = 0 ; i <= 255 ; i++){\n      ans = min(ans, dp[N][i]);\n    } \n    cout << ans << endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <string>\n#include <sstream>\n#include <stack>\n#include <algorithm>\n#include <cmath>\n#include <queue>\n#include <map>\n#include <set>\n#include <cstdlib>\n#include <bitset>\n#include <tuple>\n#include <assert.h>\n#include <deque>\n#include <bitset>\n#include <iomanip>\n#include <limits>\n#include <chrono>\n#include <random>\n#include <array>\n#include <unordered_map>\n#include <functional>\n#include <complex>\n#include <numeric>\n#include <cctype>\n\ntemplate<class T> inline bool chmax(T& a, T b) { if (a < b) { a = b; return 1; } return 0; }\ntemplate<class T> inline bool chmin(T& a, T b) { if (a > b) { a = b; return 1; } return 0; }\n\nconst long long MAX = 5100000;\nconst long long INF = 1LL << 60;\nconst long long mod = 1000000007LL;\n//const long long mod = 998244353LL;\n\nusing namespace std;\ntypedef unsigned long long ull;\ntypedef long long ll;\n\nll C[20];\nll x[25000];\nll dp[25000][260];\nint main()\n{\n\t/*\n\tcin.tie(nullptr);\n\tios::sync_with_stdio(false);\n\t*/\n\twhile (1) {\n\t\tll N, M; scanf(\"%lld %lld\", &N, &M);\n\t\tif (N == 0 && M == 0) break;\n\t\tfor (ll i = 0; i < M; i++) scanf(\"%lld\", &C[i]);\n\t\tfor (ll i = 0; i < N; i++) scanf(\"%lld\", &x[i]);\n\t\tfor (ll i = 0; i <= N + 1; i++) for (ll j = 0; j < 260; j++) dp[i][j] = INF;\n\t\tdp[0][128] = 0;\n\t\tfor (ll i = 0; i < N; i++) {\n\t\t\tfor (ll j = 0; j <= 255; j++) {\n\t\t\t\tif (dp[i][j] == INF) continue;\n\t\t\t\tfor (ll k = 0; k < M; k++) {\n\t\t\t\t\tll next = j + C[k];\n\t\t\t\t\tchmin(next, 255LL);\n\t\t\t\t\tchmax(next, 0LL);\n\t\t\t\t\tchmin(dp[i + 1][next], dp[i][j] + (x[i] - next) * (x[i] - next));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tll res = INF;\n\t\tfor (ll i = 0; i <= 255; i++) chmin(res, dp[N][i]);\n\t\tprintf(\"%lld\\n\", res);\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\n#include<vector>\nusing namespace std;\nvector<int>c,x;\nconst int MA =99999999;\nconst int MAX_X=300;\nint dp[20000][MAX_X];\nint main(){\n    int n,m,f,ans;\n    int te=0;\n    while(cin >>  n >>m&& n){\n        te++;\n        \n        for(int i=0;i<20000;i++)\n            for(int j=0;j<MAX_X;j++)\n                dp[i][j]=MA;\n        c.clear();\n        x.clear();\n        ans=MA;\n        for(int i=0;i<m;i++){\n            cin>>f;\n            c.push_back(f);\n            //cout<<\"c[i]: \"<<c[i]<<endl;\n        }\n        for(int i=0;i<n;i++){\n            cin>>f;\n            x.push_back(f);\n            //cout<<\"x[i]:\"<<x[i]<<endl;\n        }\n//        if(te==7){\n//            cout<<\"her\"<<endl;\n//        }\n        dp[0][128]=0;\n        for(int i=0;i<n;i++){\n            for(int j=0;j<256;j++){\n                if(dp[i][j]==MA)\n                    continue;\n                for(int k=0;k<m;k++){\n                    \n                    int nex = j+c[k];\n                    if(nex<0)nex=0;\n                    if(nex>255)nex=255;\n                    dp[i+1][nex]=min(dp[i+1][nex],dp[i][j] +(x[i]-nex)*(x[i]-nex));\n                    // cout<<\"i: \"<<i<<\"     j:\"<<j<<\"      k: \"<<k<<\"      c[k]: \"<<c[k]<<\"      dp[i][j]: \"<<dp[i][j]<<\"         x[i+1]: \"<<x[i+1]<<\"       i+1: \"<<i+1<<\"        nex:\"<<nex<<\"       dp[i+1][nex]:\"<<dp[i+1][nex]<<endl;\n                }\n            }\n        }\n        for(int j=0;j<256;j++)ans=min(ans,dp[n][j]);\n        cout<<ans<<endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <cmath>\n#include <cstdio>\n#include <functional>\n#include <numeric>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <utility>\n#include <sstream>\n#include <complex>\n\nusing namespace std;\n\n#define FOR(i,a,b) for(long long i=(a);i<(b);i++)\n#define REP(i,N) for(long long i=0;i<(N);i++)\n#define ALL(s) (s).begin(),(s).end()\n#define fi first\n#define se second\n\n#define PI acos(-1.0)\n#define INF 1000000007\n#define EPS 1e-10\n\ntypedef long long ll;\ntypedef pair<ll, ll> P;\ntypedef pair<double, double> PD;\ntypedef pair<string, ll> PS;\ntypedef vector<ll> V;\ntypedef pair<P, char> PC;\n\nint n, m;\nint c[160], x[200100];\nint dp[200000][256+1];\n\nint main(){\n\twhile (cin >> n >> m&&n + m){\n\t\tREP(i, 160){\n\t\t\tREP(j, 2560){\n\t\t\t\tdp[i][j] = INF;\n\t\t\t}\n\t\t}\n\t\tREP(i, m){\n\t\t\tcin >> c[i];\n\t\t}\n\t\tREP(i, n){\n\t\t\tcin >> x[i];\n\t\t}\n\t\tdp[0][128] = 0;\n\t\tREP(i, n){\n\t\t\tREP(j, m){\n\t\t\t\tREP(k, 256){\n\t\t\t\t\tint num = k + c[j];\n\t\t\t\t\tif (num <= 0){\n\t\t\t\t\t\tnum = 0;\n\t\t\t\t\t}\n\t\t\t\t\tif (num >= 255){\n\t\t\t\t\t\tnum = 255;\n\t\t\t\t\t}\n\t\t\t\t\tdp[i + 1][num] = min(dp[i][k] + (x[i] - num)*(x[i] - num), dp[i + 1][num]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = INF;\n\t\tREP(i, 2560){\n\t\t\tans = min(ans, dp[n][i]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n \nusing namespace std;\n\nusing usize = ::std::size_t;\n//using u64 = ::std::uint_least64_t;\nusing u64 = long long;\n\n\nint main(int argc, char *argv[])\n{\n    \n \n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    \n    static constexpr u64 Inf = ::std::numeric_limits<u64>::max() / 2;\n    \n    u64 N, M;\n    \n    while (cin >> N >> M, N >0 && M>0) {\n        \n        vector<vector<u64>> dp(N + 1, vector<u64>(256, Inf));\n        vector<u64> c(M+1), x(N+1);\n        \n        for (int i = 1; i <= M; i++) {\n            cin >> c[i];\n        }\n        for (int i = 1; i <= N; i++) {\n            cin >> x[i];\n        }\n        dp[0][128] = 0;\n        \n        \n        for (int i = 1; i <= N; i++) {\n            for (int j = 0; j <= 255; j++) {\n                for (int k = 1; k <= M; k++) {\n                    if (j == 0) {\n                        for (int jj = 0; jj <= -c[k]; jj++) {\n                            if (dp[i - 1][jj] == Inf) {\n                                continue;\n                            }\n                            dp[i][j] = min(dp[i][j], dp[i - 1][jj] + (x[i] - j)*(x[i] - j));\n                        }\n                    } else if (j == 255){\n                        for (u64 jj = 255 - c[k]; jj <= 255; jj++) {\n                            if (dp[i - 1][jj] == Inf) {\n                                continue;\n                            }\n                            dp[i][j] = min(dp[i][j], dp[i - 1][jj] + (x[i] - j)*(x[i] - j));\n                        }\n                    } else if (j - c[k] >= 0 && j - c[k] <= 255) {\n                        u64 jj = j - c[k];\n                        if (dp[i - 1][jj] == Inf) {\n                            continue;\n                        }\n                        dp[i][j] = min(dp[i][j], dp[i - 1][jj] + (x[i] - j)*(x[i] - j));\n                    }\n                }\n            }\n        }\n        \n        u64 min_dif = Inf;\n        for (int i = 0; i <= 255; i++) {\n            min_dif = min(min_dif, dp[N][i]);\n        }\n        cout << min_dif << endl;\n    }\n    \n    \n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <vector>\n#include <algorithm>\n#include <complex>\n#include <queue>\n#include <map>\n#include <set>\n#include <cstring>\n#include <cstdlib>\n#include <string>\n#include <cmath>\nusing namespace std;\n\n#define REP(i,n) for(int i=0;i<(int)n;++i)\n#define FOR(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();++i)\n#define ALL(c) (c).begin(), (c).end()\nconst int INF = 1<<29;\n\nint main() {\n  int n,m;\n  while(cin>>n>>m,n) {\n    int c[m];\n    REP(i,m)\n      cin >> c[i];\n    int x[n];\n    REP(i,n)\n      cin >> x[i];\n    long long dp[256];\n    REP(i,256) dp[i] = INF;\n    dp[128] = 0;\n    \n    REP(i,n) {\n      long long next[256];\n      REP(j,256) next[j] = INF;\n      REP(j,256) {\n        if (dp[j]==INF) continue;\n        REP(k,m) {\n          long long hoge = max(min(j+c[k], 255), 0);\n          next[hoge] = min(next[hoge], dp[j] + (hoge-x[i])*(hoge-x[i]));\n        }\n      }\n      // REP(j,256){\n      //   if (next[j]!=INF)\n      //     printf(\"%d,%d \",j,next[j]);\n      // }\n      // cout << endl;\n      memcpy(dp, next, sizeof(next));\n    }\n    cout << *min_element(dp, dp+256) << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nconst int MAXN = 20001;\nconst int MAXM = 16;\nconst int MAXX = 256;\nconst int INF = 1<<28;\n\nint N, M;\nint C[MAXM], x[MAXN];\nint dp[2][MAXX];\n\nint main() {\n  while(cin >> N >> M && (N|M)) {\n    for(int i = 0; i < M; ++i) cin >> C[i];\n    for(int i = 0; i < N; ++i) cin >> x[i];\n    fill(dp[0], dp[2], INF);\n    dp[0][128] = 0;\n    for(int i = 0; i < N; ++i) {\n      const int now = i & 1, next = 1 - now;\n      for(int j = 0; j < MAXX; ++j) dp[next][j] = INF;\n      for(int j = 0; j < MAXX; ++j) {\n        for(int k = 0; k < M; ++k) {\n          int nj = min(MAXX - 1, j + C[k]);\n          dp[next][nj] = min(dp[next][nj],\n                             dp[now][j] + (x[i] - nj) * (x[i] - nj));\n        }\n      }\n    }\n    int res = INF;\n    for(int j = 0; j < MAXX; ++j) {\n      res = min(res, dp[N&1][j]);\n    }\n    cout << res << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <algorithm>\n#include <string>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <cstring>\n#include <vector>\n#include <list>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n\n#define INF (int)1e09\n\nusing std::cin;\nusing std::cout;\nusing std::endl;\nusing std::setprecision;\nusing std::fixed;\nusing std::pair;\nusing std::make_pair;\nusing std::min;\nusing std::max;\nusing std::string;\nusing std::vector;\nusing std::list;\nusing std::map;\nusing std::set; // insert erase find count\nusing std::queue;\nusing std::priority_queue;\nusing std::stack;\n\ntemplate <typename T> using Vec = vector<T>; // c++11\ntypedef pair<int, int> PII;\ntypedef pair<int, pair<int, int> > PIII;\n\nint main(void) {\n    while (1) {\n        int n;\n        int m;\n        cin >> n >> m;\n        if (n == 0 && m == 0) {\n            break;\n        }\n        Vec<int> c(m);\n        Vec<int> x(n + 1);\n        for (int i = 0; i < m; i++) {\n            cin >> c[i];\n        }\n        for (int j = 1; j <= n; j++) {\n            cin >> x[j];\n        }\n        Vec<Vec<long long int> > dp(m, Vec<long long int>(n + 1, 0));\n\n        Vec<int> now(m, 128);\n        Vec<int> upd(m, 0);\n        for (int j = 1; j <= n; j++) {\n            for (int i = 0; i < m; i++) {\n                for (int k = 0; k < m; k++) {\n                    long long int sum = now[k] + c[i];\n                    if (sum > 255) {\n                        sum = 255;\n                    } else if (sum < 0) {\n                        sum = 0;\n                    }\n\n                    long long int div = x[j] - sum;\n                    if (k == 0 || dp[i][j] > dp[k][j - 1] + div * div) {\n                        dp[i][j] = dp[k][j - 1] + div * div;\n                        upd[i] = sum;\n                    }\n                }\n            }\n            for (int i = 0; i < m; i++) {\n                now[i] = upd[i];\n            }\n        }\n\n        long long int ans;\n        for (int i = 0; i < m; i++) {\n            if (i == 0 || ans > dp[i][n]) {\n                ans = dp[i][n];\n            }\n        }\n        cout << ans << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <cmath>\n#include <cstdio>\n#include <functional>\n#include <numeric>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <utility>\n#include <sstream>\n#include <complex>\n\nusing namespace std;\n\n#define FOR(i,a,b) for(long long i=(a);i<(b);i++)\n#define REP(i,N) for(long long i=0;i<(N);i++)\n#define ALL(s) (s).begin(),(s).end()\n#define fi first\n#define se second\n\n#define PI acos(-1.0)\n#define INF 1000000007\n#define EPS 1e-10\n\ntypedef long long ll;\ntypedef pair<ll, ll> P;\ntypedef pair<double, double> PD;\ntypedef pair<string, ll> PS;\ntypedef vector<ll> V;\ntypedef pair<P, char> PC;\n\nint n, m;\nint c[160], x[200000];\nint dp[20011][256];\n\nint main(){\n\twhile (cin >> n >> m&&n + m){\n\t\tREP(i, 160){\n\t\t\tREP(j, 2560){\n\t\t\t\tdp[i][j] = INF;\n\t\t\t}\n\t\t}\n\t\tREP(i, m){\n\t\t\tcin >> c[i];\n\t\t}\n\t\tREP(i, n){\n\t\t\tcin >> x[i];\n\t\t}\n\t\tdp[0][128] = 0;\n\t\tREP(i, n){\n\t\t\tREP(j, m){\n\t\t\t\tREP(k, 256){\n\t\t\t\t\tint num = k + c[j];\n\t\t\t\t\tif (num <= 0){\n\t\t\t\t\t\tnum = 0;\n\t\t\t\t\t}\n\t\t\t\t\telse if (num >= 255){\n\t\t\t\t\t\tnum = 255;\n\t\t\t\t\t}\n\t\t\t\t\tdp[i + 1][num] = min(dp[i][k] + (x[i] - num)*(x[i] - num), dp[i + 1][num]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = INF;\n\t\tREP(i, 2560){\n\t\t\tans = min(ans, dp[n][i]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define INF 1000000000\n\nint main()\n{\n    while (true)\n    {\n        int n,m;cin >> n >> m;\n        if (n==0 && m==0) break;\n        vector<int> code(m);\n        for (int i=0;i<m;i++) cin >> code[i];\n        vector<int> sound(n);\n        for (int i=0;i<n;i++) cin >> sound[i];\n        vector<vector<int>> dp(n+1,vector<int> (256,INF));\n        dp[0][128]=0;\n        for (int i=0;i<n;i++)\n        {\n            for (int j=0;j<256;j++)\n            {\n                for (int k :code)\n                {\n                    if (j+k<256 && j+k>=0) dp[i+1][j+k]=min(dp[i+1][j+k],dp[i][j]+(sound[i]-j-k)*(sound[i]-j-k));\n                    else\n                    {\n                        if (j+k>=0) dp[i+1][255]=min(dp[i+1][255],dp[i][j]+(sound[i]-255)*(sound[i]-255));\n                        else dp[i+1][0]=min(dp[i+1][0],dp[i][j]+(sound[i])*(sound[i]));\n                    }\n                    \n                }\n            }\n        }\n        int ans=INF;\n        for (int i=0;i<256;i++)\n        {\n            ans=min(ans,dp[n][i]);\n        }\n        cout << ans << endl;\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing ll = long long;\n\nint main() {\n  int n, m;\n  while (cin >> n >> m, n) {\n    vector<int> cs(m), x(n);\n    for (int i = 0; i < m; i++) cin >> cs[i];\n    for (int i = 0; i < n; i++) cin >> x[i];\n    vector<vector<ll>> dp(n + 1, vector<ll>(256, 1e15));\n    dp[0][128] = 0;\n    for (int i = 0; i < n; i++) {\n      for (int j = 0; j < 256; j++) {\n        for (auto c : cs) {\n          int v = min(255, max(0, j + c));\n          dp[i + 1][v] = min(dp[i + 1][v], dp[i][j] + (x[i] - v) * (x[i] - v));\n        }\n      }\n    }\n    ll ans = *min_element(begin(dp[n]), end(dp[n]));\n    cout << ans << endl;\n  }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <vector>\n#include <algorithm>\n#include <complex>\n#include <queue>\n#include <map>\n#include <set>\n#include <cstring>\n#include <cstdlib>\n#include <string>\n#include <cmath>\nusing namespace std;\n\n#define REP(i,n) for(int i=0;i<(int)n;++i)\n#define FOR(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();++i)\n#define ALL(c) (c).begin(), (c).end()\nconst int INF = 1<<29;\n\nint main() {\n  int n,m;\n  while(cin>>n>>m,n) {\n    int c[m];\n    REP(i,m)\n      cin >> c[i];\n    int x[m];\n    REP(i,n)\n      cin >> x[i];\n    int dp[256];\n    REP(i,256) dp[i] = INF;\n    dp[128] = 0;\n    \n    REP(i,n) {\n      int next[256];\n      REP(j,256) next[j] = INF;\n      REP(j,256) {\n        REP(k,m) {\n          int hoge = max(min(j+c[k], 255), 0);\n          next[hoge] = min(next[hoge], dp[j] + (hoge-x[i])*(hoge-x[i]));\n        }\n      }\n      // REP(j,256){\n      //   if (next[j]!=INF)\n      //     printf(\"%d,%d \",j,next[j]);\n      // }\n      // cout << endl;\n      memcpy(dp, next, sizeof(next));\n    }\n    cout << *min_element(dp, dp+256) << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nint main(){\n    int n,m;\n    while(cin>>n>>m){\n        if(n==0 && m==0 ) break;\n        long long c[m],x[n+1];\n        for(int i=0;i<m;i++){\n            cin>>c[i];\n        }\n        for(int i=1;i<=n;i++){\n            cin>>x[i];\n        }\n        long long dp[n+1][256]={};\n        long long INF=1e9;\n        for(int j=0;j<=n;j++)for(int i=0;i<256;i++){\n            dp[j][i]=INF;\n        }\n        dp[0][128]=0;\n        for(int i=1;i<=n;i++){\n            for(int j=0;j<256;j++){\n                for(int k=0;k<m;k++){\n                    if(j+c[k]>=0 && j+c[k]<256) dp[i][j+c[k]]=min(dp[i][j+c[k]],dp[i-1][j]+(x[i]-j-c[k])*(x[i]-j-c[k]));\n                    else if(j+c[k]<0) dp[i][0]=min(dp[i][0],dp[i-1][j]+x[i]*x[i]);\n                    else dp[i][255]=min(dp[i][255],dp[i-1][j]+(x[i]-255)*(x[i]-255));\n                }\n            }\n        }\n        long long ans=1e18;\n        for(int i=0;i<256;i++) ans=min(ans,dp[n][i]);\n        cout<<ans<<endl;\n    }\n    \n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <climits>\n#include <iostream>\n#include <vector>\n#include <string>\n#include <sstream>\n#include <algorithm>\n#include <utility>\n#include <set>\n#include <map>\n#include <stack>\n#include <queue>\n#include <deque>\n#include <functional>\n\nusing namespace std;\n\n#define fst first\n#define scd second\n#define PB push_back\n#define MP make_pair\n#define int long long\n#define all(a) a.begin(),a.end()\n#define rall(a) a.rbegin(),a.rend()\n#define omajinai ios::sync_with_stdio(false);cin.tie(0)\n\ntypedef long long ll;\ntypedef long double ld;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef pair<int, int> pii;\ntypedef vector<pii> vpii;\n\ntemplate<typename T>T& max(T&a,T&b){if(a>=b)return a;return b;}\ntemplate<typename T>T& min(T&a,T&b){if(a<b)return a;return b;}\ntemplate<typename T>bool chmax(T&a,T b){if(a<b){a=b;return true;}return false;}\ntemplate<typename T>bool chmin(T&a,T b){if(a>b){a=b;return true;}return false;}\ntemplate<typename T>T get(){T a;cin>>a;return a;}\ntemplate<typename T>T rev(T a){reverse(all(a));return a;}\ntemplate<typename T>vector<T>&sort(vector<T>&a){sort(all(a));return a;}\n\nconst int inf = 1e9;\nconst ll linf = 3e18;\nconst double eps = 1e-9;\n\nint N, M;\nint c[16], x[20001];\n\nint dp[20001][256];\n\nsigned main()\n{\n    for (int i = 0; i <= 20000; ++i) for (int j = 0; j < 256; ++j) dp[i][j] = inf;\n\n    cin >> N >> M;\n\n    for (int i = 0; i < M; ++i) cin >> c[i];\n    for (int i = 1; i <= N; ++i) cin >> x[i];\n\n    dp[0][128] = 0;\n\n    for (int i = 1; i <= N; ++i) {\n        for (int j = 0; j < 256; ++j) {\n            if (dp[i - 1][j] != inf) {\n                for (int k = 0; k < M; ++k) {\n                    int v = (c[k] < 0 ? max(j + c[k], 0ll) : min(j + c[k], 255ll));\n                    int w = abs(v - x[i]);\n                    chmin(dp[i][v], dp[i - 1][j] + w * w);\n                }\n            }\n        }\n    }\n\n    cout << *min_element(dp[N],dp[N]+256) << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n \nusing namespace std;\n \nint main() {\n int n,m;\n while(cin >> n >> m, n) {\n  vector<int> code(m), value(n);\n  for (int i = 0; i < m; i++)\n   cin >> code[i];\n  for (int i = 0; i < n; i++)\n   cin >> value[i];\n  vector<vector<int> > dp(256, vector<int>(n + 1, 1000000000));\n  dp[0][128] = 0;\n  for (int i = 0; i < n; i++) {\n   for (int j = 0; j < 256; j++) {\n    for (int k = 0; k < m; k++) {\n     int val = min(255,max(0,j+code[k]));\n     dp[i+1][val] = min(dp[i+1][val], dp[i][j] + (val -value[i]) * (val - value[i]));\n    }\n   }\n  }\n  int ans = 1000000000;\n  for (int i = 0; i < 256; i++) {\n   ans = min(ans, dp[n][val]);\n  }\n  cout << ans << endl;\n }\n return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n\n#define N 20001\n#define M 17\n#define V 256\n\nusing namespace std;\n\nconst int infty = 1<<29;\n\nint correct(int i){\n  return min( max( i, 0 ), V-1 );\n}\n\nint solve(int n, int m, int codebook[], int decode[]){\n  int ret = infty;\n  int **dp = new int*[N+1];\n  for(int i = 0; i < N+1; ++i){\n    dp[i] = new int[V];\n  }\n  \n  for(int i = 0; i < N + 1; ++i){\n    for(int j = 0; j < V; ++j){\n      dp[i][j] = infty;\n    }\n  }\n  \n  dp[0][128] = 0;\n  for(int i = 1; i <= n; ++i){\n    for(int j = 0; j < V; ++j){\n      if(dp[i-1][j]<infty){\n\tfor(int k = 0; k < m; ++k){\n\t  int nextj = correct( j+codebook[k] );\n\t  //cout << \" I : \" << i << \" NEXT J \" << nextj << endl;\n\t  dp[i][nextj] = min( dp[i][nextj], dp[i-1][j] + ( decode[i-1] - nextj ) * ( decode[i-1] - nextj ) );\n\t  //cout << \" DP : \" << dp[i][nextj] << endl;\n\t}\n      }\n    }\n  }\n  for(int i = 0; i < V; ++i){\n    ret = min( ret, dp[n][i] );\n  }\n  for(int i = 0; i < N+1; ++i){\n    delete [] dp[i];\n  }\n  delete [] dp;\n  return ret;\n}\n\nint main(){\n  while(true){\n    int n,m;\n    int codebook[M];\n    int decode[N];\n    cin >> n >> m;\n    if( n == 0 && m == 0 ) break;\n    for(int i = 0; i < m; ++i){\n      cin >> codebook[i];\n    }\n    for(int i = 0; i < n; ++i){\n      cin >> decode[i];\n    }\n    cout << solve(n,m,codebook,decode) << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define rep(i,n) for(i = 0;i < n;++i)\n#define all(v) v.begin(), v.end()\nusing ll = long long;\n\nint main()\n{\n    ll i,j,k;\n    while(true){\n        ll n,m;\n        cin >> n >> m;\n        if(n == 0 && m == 0) return 0;\n        vector<ll> c(m);\n        vector<ll> x(n);\n        for(i = 0;i < m;++i){\n            cin >> c.at(i);\n        }\n        for(i = 0;i < n;++i){\n            cin >> x.at(i);\n        }\n        vector<vector<ll>> dp(n+1,vector<ll>(256,1e9));\n        dp.at(0).at(128) = 0;\n        for(i = 1;i <= n;++i){\n            rep(j,256){\n                rep(k,m){\n                    ll tmp = j + c.at(k);\n                    if(j + c.at(k) < 0) tmp = 0;\n                    else if(j + c.at(k) > 255) tmp = 255;\n                    dp.at(i).at(tmp) = min(dp.at(i).at(tmp), dp.at(i-1).at(j) + (tmp - x.at(i-1))*(tmp - x.at(i-1)));\n                }\n            }\n        }\n        ll ans = 1e9;\n        for(i = 0;i < 256;++i){\n            ans = min(ans, dp.at(n).at(i));\n        }\n        cout << ans << endl;\n    }\n    \n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#define INF 100000000\nusing namespace std;\nint main(){\n\tint n,m,dp[20][260],cb[20],input[20001];//now,now\n\tint temp;\n\twhile(cin>>n>>m,n||m){\n\t\t\n\t\tfor(int i=0;i<m;i++)\n\t\t\tcin>>cb[i];\n\t\tfor(int i=0;i<n;i++){\n\t\t\tcin>>input[i];\n\t\t}\n\t\tfor(int i=0;i<=n;i++)\n\t\t\tfill(dp[i],dp[i]+256,INF);\n\t\tdp[0][128]=0;\n\t\tfor(int i=0;i<n;i++)\n\t\tfor(int j=0;j<=255;j++){\n\t\t\t\tif(dp[i][j]!=INF){\n\t\t\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\t\t\ttemp=j+cb[k];\n\t\t\t\t\t\tif(temp>255)\n\t\t\t\t\t\ttemp=255;\n\t\t\t\t\t\telse if(temp<0)\n\t\t\t\t\t\ttemp=0;\n\t\t\t\t\t\tdp[i+1][temp]=min(dp[i+1][temp],dp[i][j]+(temp-input[i])*(temp-input[i]));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t}\n\t\tint ans=INF;\n\t\tfor(int i=0;i<=255;i++){\n\t\tif(ans>dp[n][i])\n\t\tans=dp[n][i];\n\t\t}\n\t\tcout<<ans<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\n#include <functional>\n#include <vector>\n#include <utility>\n#include <cstring>\n#include <iomanip>\n#include <numeric>\n#include <cmath>\n#include <cassert>\nusing namespace std;\nusing ll = long long;\nconst int INF = 1<<30;\nconst int MOD = (int)1e9 + 7;\nconst int MAX_N = (int)1e5 + 5;\n#define debug(x) cout << #x << \": \" << x << endl\ntemplate<typename T>\nostream &operator<<(ostream &os, const vector<T> &v) { for(int i = 0; i < (int) v.size(); i++) os << v[i] << (i + 1 != v.size() ? \" \" : \"\"); return os; }\nint N, M;\nvector<int> C, x;\nint dp[20010][260];\nint dfs(int pos, int py)\n{\n    if(pos >= N) return 0;\n    if(dp[pos][py]) return dp[pos][py];\n    int res = INF;\n    for(int i = 0; i < M; i++)\n    {\n        int y = py + C[i];\n        if(y < 0) y = 0;\n        if(y > 255) y = 255;\n        res = min(res, dfs(pos + 1, y) + (x[pos] - y) * (x[pos] - y));\n    }\n    return dp[pos][py] = res;\n}\nsigned main(void)\n{\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    while(cin >> N >> M, N or M)\n    {\n        memset(dp, 0, sizeof(dp));\n        C.resize(M);\n        x.resize(N);\n        for(int i = 0; i < M; i++) cin >> C[i];\n        for(int i = 0; i < N; i++) cin >> x[i];\n        cout << dfs(0, 128) << endl;\n    }\n    return 0;\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<math.h>\n\nusing namespace std;\n\n#define REP(i, n) for(int i=0; i<n; i++)\n\nint INF = 10e8;\nint sig[20001];\nint code[16];\nint dp[20001][256];\n\nint cut(int i){\n    if(i>=255){\n        return 255;\n    } else if(i<=0){\n        return 0;\n    } else {\n        return i;\n    }\n}\n\nint main(){\n    while(1){\n        int n, m;\n        cin >> n >> m;\n        if(n==0) break;\n\n        REP(i, m){\n            int c;\n            cin >> c;\n            code[i] = c;\n        }\n\n        REP(i, n){\n            int s;\n            cin >> s;\n            sig[i+1] = s;\n        }\n\n        REP(i, n+1){\n            REP(j, 256){\n                dp[i][j] = INF;\n            }\n        }\n        dp[0][128] = 0;\n\n        REP(i, n){\n            REP(j, 256){\n                if(dp[i][j] != INF){\n                    REP(k, m){\n                        int tmpsig = cut(j+code[k]);\n                        int sd = dp[i][j] + pow(tmpsig - sig[i+1], 2);\n                        if(sd < dp[i+1][tmpsig]){\n                            dp[i+1][tmpsig] = sd;\n                        }\n                    }\n                }\n            }\n        }\n\n        /*\n        REP(i, 256){\n            REP(j, n){\n                cout << dp[j][i] << \" \";\n            }\n            cout << endl;\n        }\n        */\n\n        int output = INF;\n        REP(i, 256){\n            if(dp[n][i] < output){\n                output = dp[n][i];\n            }\n        }\n        cout << output << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<ll, ll> P;\ntypedef complex<double> Point;\n\n#define PI acos(-1.0)\n#define EPS 1e-10\nconst ll INF = 1e16;\nconst ll MOD = 1e9 + 7;\n\n#define FOR(i,a,b) for(ll i=(a);i<(b);i++)\n#define rep(i,N) for(ll i=0;i<(N);i++)\n#define ALL(s) (s).begin(),(s).end()\n#define EQ(a,b) (abs((a)-(b))<EPS)\n#define EQV(a,b) ( EQ((a).real(), (b).real()) && EQ((a).imag(), (b).imag()) )\n#define fi first\n#define se second\n#define N_SIZE (1LL << 20)\n#define NIL -1\n\n#define SIZE 20010\nconst int inf = 1e9;\n\nint n,m;\nvector<int> c,x;\nint dp[SIZE][256];\nbool vis[SIZE][256];\n\nint solve(int p, int y){\n    if(p == n)return 0;\n    if(vis[p][y])return dp[p][y];\n    vis[p][y] = true;\n    int res = inf;\n    rep(i,m){\n        int nxt = y + c[i];\n        nxt = min(nxt, 255);\n        nxt = max(nxt, 0);\n        res = min(res, solve(p+1, nxt) + (nxt-x[p])*(nxt-x[p]));\n    }\n    return dp[p][y] = res;\n}\n\nint main(){\n    while(cin >> n >> m, n){\n        rep(i,SIZE)rep(j,256)vis[i][j]=false;\n        c.resize(m);\n        rep(i,m)cin>>c[i];\n        x.resize(n);\n        rep(i,n)cin>>x[i];\n        cout << solve(0, 128) << endl;\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nint main()\n{\n  int N,M,C[16],x[20001],y;\n  pair<long long,int> P[20001][16];\n  long long mi;\n  while(1){\n    cin>>N>>M;\n    if(N==0 && M==0)break;\n    for(int i=0;i<M;i++)cin>>C[i];\n    for(int i=1;i<=N;i++)cin>>x[i];\n    for(int i=0;i<M;i++){\n      P[0][i].first=0;\n      P[0][i].second=128;\n    }\n    for(int i=1;i<=N;i++){\n      for(int j=0;j<M;j++){\n        P[i][j].first=100000000;\n        P[i][j].second=0;\n      }\n    }\n    for(int i=1;i<=N;i++){\n      for(int j=0;j<M;j++){\n\tfor(int k=0;k<M;k++){\n\t  y=(P[i-1][k].second+C[j]);\n          if(y<0)y=0;\n\t  if(y>255)y=255;\n\t  if(P[i][j].first>P[i-1][k].first+(x[i]-y)*(x[i]-y)){\n\t    P[i][j].first=P[i-1][k].first+(x[i]-y)*(x[i]-y);\n            P[i][j].second=y;\n\t  }\n\t}\n      }\n    }\n    mi=100000000;\n    for(int i=0;i<M;i++)mi=min(mi,P[N][i].first);\n    cout<<mi<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<string>\n#include <vector>\n#include <stack>\n#include <map>\n#include<iostream>\n#include <algorithm>\n#include <limits.h> \n#include <functional>\n\nusing namespace std;\nint n;\nint m;\nint price;\nint a;\nint b;\n\nstruct G{\n\tstring name;\n\tdouble value;\n};\nbool operator>(const G& left, const G& right)\n{\n\tif(left.value>right.value){\n\t\treturn true;\n\t}else if(left.value<right.value){\n\t\treturn false; \n\t}else{\n\t\treturn left.name<right.name;\n\t}\n}\n\nbool operator<(const G& left, const G& right)\n{\n\tif(left.value>right.value){\n\t\treturn false;\n\t}else if(left.value<right.value){\n\t\treturn true; \n\t}else{\n\t\treturn left.name>right.name;\n\t}\n}\n\n\n\nint main(){\n\twhile(true){\n\t\tcin >>n;\n\t\tif(n==0){\n\t\t\tbreak;\n\t\t}\n\t\tcin >>m;\n\t\tif(m==0){\n\t\t\tbreak;\n\t\t}\n\t\tvector<int> codebook;\n\t\tvector<int> data;\n\t\tfor(int i=0;i<m;i++){\n\t\t\tcin >> a;\n\t\t\tcodebook.push_back(a);\n\t\t}\n\t\tfor(int i=0;i<n;i++){\n\t\t\tcin >> a;\n\t\t\tdata.push_back(a);\n\t\t}\n\t\t//値,誤差値でハッシュ。\n\t\tmap<int,int> hash;\n\t\thash[128]=0;\n\n\t\tfor(int i=0;i<n;i++){\n\t\t\tint d=data[i];//次のデータ\n\t\t\tmap<int,int>::iterator it = hash.begin();\t\t\n\t\t\tmap<int,int> next_hash;\n\t\t\tmap<int,int>::iterator next_hash_end=next_hash.end();\n\t\t\twhile( it != hash.end() )\n\t\t\t{\n\t\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\t\tint f=max(min((*it).first+codebook[k],255),0);\n\t\t\t\t\tint div=f-d;\n\t\t\t\t\tint s=(*it).second+div*div;\n\t\t\t\t\tif(next_hash.find(f)!= next_hash_end){\n\t\t\t\t\t\tnext_hash[f]=min(next_hash[f],s);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tnext_hash[f]=s;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t++it;\n\t\t\t}\n\t\t\t\n\t\t\thash=next_hash;\n\t\t}\n\t\tint mi=INT_MAX;\n\t\tmap<int,int>::iterator it = hash.begin();\n\t\twhile( it != hash.end() )\n\t\t{\n\t\t\tmi=min((*it).second,mi);\n\t\t\tit++;\n\t\t}\n\t\tcout << mi <<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <map>\n#include <algorithm>\n\n#define REP(i,n) for(int i=0;i<(int)(n);i++)\n\nusing namespace std;\n\nint main() {\n  while(1){\n    int n,m;\n    cin>>n>>m;\n    if(!n)break;\n    vector<int> codes(m);\n    REP(i,m)cin>>codes[i];\n    vector<int> data(n);\n    REP(i,n)cin>>data[i];\n    vector<int64_t> dp(256,INT64_C(1000000000000000));\n    dp[128] = 0;\n    REP(i,n){\n      vector<int64_t> tmp(256,INT64_C(1000000000000000));\n      REP(j,256){\n        REP(k,m){\n          int newv = min(255, max(0, j+codes[k]));\n          int diff = data[i] - newv;\n          int sqd = diff*diff;\n          tmp[newv] = min(tmp[newv], dp[j] + sqd);\n        }\n      }\n      dp.swap(tmp);\n    }\n    cout << *min_element(begin(dp),end(dp)) << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nconst int MAXN = 20001;\nconst int MAXM = 16;\nconst int MAXX = 256;\nconst int INF = 1<<28;\n\nint N, M;\nint C[MAXM], x[MAXN];\nint dp[2][MAXX];\n\nint main() {\n  while(cin >> N >> M && (N|M)) {\n    for(int i = 0; i < M; ++i) cin >> C[i];\n    for(int i = 0; i < N; ++i) cin >> x[i];\n    fill(dp[0], dp[2], INF);\n    dp[0][128] = 0;\n    for(int i = 0; i < N; ++i) {\n      const int now = i & 1, next = 1 - now;\n      for(int j = 0; j < MAXX; ++j) dp[next][j] = INF;\n      for(int j = 0; j < MAXX; ++j) {\n        for(int k = 0; k < M; ++k) {\n          int nj = max(0, min(MAXX - 1, j + C[k]));\n          dp[next][nj] = min(dp[next][nj],\n                             dp[now][j] + (x[i] - nj) * (x[i] - nj));\n        }\n      }\n    }\n    cout << *min_element(dp[N&1], dp[N&1] + MAXX) << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\nusing namespace std;\nconst int MAX = 255;\nconst unsigned int INF = 1<< 29;\nint cal(int f,int s){\n  return (f-s)*(f-s);\n}\nint solve(vector<vector<int> > dp){\n  int ans = INF;\n  for(int i = 0;i < dp.size();i++){\n    ans = min(ans,dp[i][dp[0].size()-1]);\n  }\n  return ans;   \n}\nint main(){\n  int n,m;\n  while(cin >> n >> m,n && m){\n    vector<int> c(m,0);\n    vector<int> x(n,0);\n    for(int i = 0;i < m;i++){\n      cin >> c[i];\n    }\n    for(int i = 0;i < n;i++){\n      cin >> x[i];\n    }\n    vector<vector<int> > dp(MAX+1,vector<int>(n+1,INF));\n    dp[128][0] = 0;\n    for(int i = 0;i < n;i++){\n      for(int j = 0;j <= 255;j++){\n\tfor(int k = 0;k < m;k++){\n\t  int plus = j+c[k];\n\t  if(plus < 0)plus = 0;\n\t  else if(plus > 255)plus = 255;\n\t  dp[plus][i+1] = min(dp[plus][i+1],dp[j][i]+cal(plus,x[i]));\n\t}\n      }\n    }\n    /*    for(int j = 0;j <= n;j++){\n      for(int i = 118;i <= 136;i++){\n\tcout << dp[i][j] << \" \";\n      }\n      cout << endl;\n      }*/\n    cout << solve(dp) << endl;\n    \n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> pii;\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\nconst double PI = 3.14159265358979323846;\nconst double EPS = 1e-12;\nconst int INF = numeric_limits<int>::max() / 2;\nconst int NEG_INF = numeric_limits<int>::min() / 2;\n\nint main(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n\n  while(true){\n      int n,m;cin>>n>>m;\n      if(n==0 && m==0) break;\n      std::vector<int> c(m),x(n+1);\n      for(int i=0;i<m;i++) cin>>c[i];\n      for(int i=1;i<=n;i++) cin>>x[i];\n      ll dp[n+1][256];\n      for(int i=0;i<n+1;i++)for(int j=0;j<256;j++)dp[i][j]=INF;\n      dp[0][128]=0;\n      for(int i=0;i<n;i++)for(int j=0;j<256;j++){\n          for(int k=0;k<m;k++){\n              if(j+c[k]>255) dp[i+1][255]=min(dp[i+1][255],dp[i][j]+(255-x[i+1])*(255-x[i+1]));\n              else if(j+c[k]<0) dp[i+1][0]=min(dp[i+1][0],dp[i][j]+(x[i+1])*(x[i+1]));\n              else dp[i+1][j+c[k]]=min(dp[i+1][j+c[k]],dp[i][j]+(j+c[k]-x[i+1])*(j+c[k]-x[i+1]));\n          }\n      }\n      ll res=INF;\n      for(int i=0;i<256;i++) res=min(res,dp[n][i]);\n      cout<<res<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define FOR(i,a,b) for(int i= (a); i<((int)b); ++i)\n#define RFOR(i,a) for(int i=(a); i >= 0; --i)\n#define FOE(i,a) for(auto i : a)\n#define ALL(c) (c).begin(), (c).end()\n#define RALL(c) (c).rbegin(), (c).rend()\n#define DUMP(x)  cerr << #x << \" = \" << (x) << endl;\n#define SUM(x) std::accumulate(ALL(x), 0LL)\n#define MIN(v) *std::min_element(v.begin(), v.end())\n#define MAX(v) *std::max_element(v.begin(), v.end())\n#define EXIST(v,x) (std::find(v.begin(), v.end(), x) != v.end())\n#define BIT(n) (1LL<<(n))\n#define UNIQUE(v) v.erase(unique(v.begin(), v.end()), v.end());\n\ntypedef long long LL;\ntemplate<typename T> using V = std::vector<T>;\ntemplate<typename T> using VV = std::vector<std::vector<T>>;\ntemplate<typename T> using VVV = std::vector<std::vector<std::vector<T>>>;\n\ntemplate<class T> inline T ceil(T a, T b) { return (a + b - 1) / b; }\ntemplate<class T> inline void print(T x) { std::cout << x << std::endl; }\ntemplate<class T> inline void print_vec(const std::vector<T> &v) { for (int i = 0; i < v.size(); ++i) {  if (i != 0) {std::cout << \" \";} std::cout << v[i];} std::cout << \"\\n\"; }\ntemplate<class T> inline bool inside(T y, T x, T H, T W) {return 0 <= y and y < H and 0 <= x and x < W; }\ntemplate<class T> inline double euclidean_distance(T y1, T x1, T y2, T x2) { return sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2)); }\ntemplate<class T> inline double manhattan_distance(T y1, T x1, T y2, T x2) { return abs(x1 - x2) + abs(y1 - y2); }\n\nconst int INF = 1L << 30;\nconst double EPS = 1e-9;\nconst std::string YES = \"YES\", Yes = \"Yes\", NO = \"NO\", No = \"No\";\nconst std::vector<int> dy4 = { 0, 1, 0, -1 }, dx4 = { 1, 0, -1, 0 };    // 4近傍（右, 下, 左, 上）\nconst std::vector<int> dy8 = { 0, -1, 0, 1, 1, -1, -1, 1 }, dx8 = { 1, 0, -1, 0, 1, 1, -1, -1 };\n\nusing namespace std;\n\n\n\nint main() {\n    cin.tie(0);\n\tios::sync_with_stdio(false);\n\n    while (true) {\n        int M, N;\n        cin >> N >> M;\n\n        if (M == 0 or N == 0) {\n            break;\n        }\n        vector<int> C(M);\n        FOR(i, 0, M) {\n            cin >> C[i];\n        }\n        vector<int> X(N);\n        FOR(i, 0, N) {\n            cin >> X[i];\n        }\n\n        vector<vector<int>> dp(N + 1, vector<int>(256, INF));\n        dp[0][128] = 0;\n\n        FOR(i, 0, N) {\n            FOR(j, 0, dp[0].size()) {\n                if (dp[i][j] == INF) {\n                    continue;\n                }\n                FOR(k, 0, M) {\n                    int v = min(max(0, j + C[k]), 255);\n                    int d = X[i] - v;\n                    dp[i + 1][v] = min(dp[i + 1][v], dp[i][j] + d * d);\n                }\n            }\n        }\n\n        int ans = INF;\n        FOR(i, 0, 256) {\n            ans = min(ans, dp[N][i]);\n        }\n        print(ans);\n    }\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\ntypedef long long lli;\n\nconst int MAX_N = 20001;\nconst int MAX_M = 16;\nconst int MAX_V = 256;\nconst lli INF = 1LL<<60;\n\nlli T[MAX_N][MAX_V];\nint N, M;\nlli C[MAX_M];\nlli x[MAX_N];\n\nlli solve() {\n  fill(T[0], T[N+1], INF);\n  T[0][128] = 0LL;\n  for(int i = 1; i <= N; ++i) {\n    for(int j = 0; j <= 255; ++j) {\n      for(int k = 0; k < M; ++k) {\n\tlli value = j + C[k];\n\tif(value < 0LL) value = 0LL;\n\tif(value > 255LL) value = 255LL;\n\tT[i][value] = min(T[i][value], T[i-1][j] + (x[i]-value)*(x[i]-value));\n      }\n    }\n  }\n  lli res = INF;\n  for(int i = 0; i <= 255; ++i) {\n    res = min(res, T[N][i]);\n  }\n  return res;\n}\n\nint main() {\n  while(cin >> N >> M && (N || M)) {\n    for(int i = 0; i < M; ++i) {\n      cin >> C[i];\n    }\n    for(int i = 1; i <= N; ++i) {\n      cin >> x[i];\n    }\n    cout << solve() << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <cstdlib>\n#include <cmath>\n#include <vector>\n#include <map>\n#include <set>\n#include <algorithm>\n#include <ctime>\n#include <queue>\n#include <stack>\n#include <functional>\n#include <bitset>\n#include <assert.h>\nusing namespace std;\ntypedef long long ll;\ntypedef vector<ll> vl;\ntypedef vector<vl> vvl;\ntypedef vector<char> vc;\ntypedef vector<string> vs;\ntypedef vector<bool> vb;\ntypedef vector<double> vd;\ntypedef pair<ll,ll> P;\ntypedef vector<P> vpl;\ntypedef tuple<ll,ll,ll> tapu;\n#define rep(i,n) for(ll i=0; i<(n); i++)\n#define REP(i,a,b) for(int i=(a); i<(b); i++)\n#define all(x) (x).begin(), (x).end()\n#define rall(x) (x).rbegin(), (x).rend()\nconst int inf = 1<<30;\nconst ll linf = 1LL<<62;\nconst int MAX = 510000;\nll dy[8] = {0,1,0,-1,1,-1,1,-1};\nll dx[8] = {1,0,-1,0,1,-1,-1,1};\nconst double pi = acos(-1);\nconst double eps = 1e-7;\ntemplate<typename T1,typename T2> inline bool chmin(T1 &a,T2 b){\n\tif(a>b){\n\t\ta = b; return true;\n\t}\n\telse return false;\n}\ntemplate<typename T1,typename T2> inline bool chmax(T1 &a,T2 b){\n\tif(a<b){\n\t\ta = b; return true;\n\t}\n\telse return false;\n}\ntemplate<typename T> inline void print(T &a){\n    rep(i,a.size()) cout << a[i] << \" \";\n    cout << \"\\n\";\n}\ntemplate<typename T1,typename T2> inline void print2(T1 a, T2 b){cout << a << \" \" << b << \"\\n\";}\ntemplate<typename T1,typename T2,typename T3> inline void print3(T1 a, T2 b, T3 c){\n\tcout << a << \" \" << b << \" \" << c << \"\\n\";\n}\n//const int mod = 1e9 + 7;\nconst int mod = 998244353;\n\nint main(){\n\twhile(1){\n\t\tll m,n; cin >> m >> n;\n\t\tif(n+m == 0) break;\n\t\tvl c(m),x(n);\n\t\trep(i,n) cin >> x[i];\n\t\trep(i,m) cin >> c[i];\n\t\tvvl dp(m+1,vl(300,linf));\n\t\tdp[0][128] = 0;\n\t\trep(i,m){\n\t\t\trep(j,256){\n\t\t\t\tif(dp[i][j] == linf) continue;\n\t\t\t\trep(k,n){\n\t\t\t\t\tll nxt = min(255LL, max(0LL, j+x[k]));\n\t\t\t\t\tchmin(dp[i+1][nxt], dp[i][j] + (nxt-c[i]) * (nxt-c[i]));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tll ans = linf;\n\t\trep(i,256) chmin(ans, dp[m][i]);\n\t\tcout << ans << \"\\n\";\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\n#define INF 1 << 29;\nint dp[20002][256];\n\nint main(int argc, const char * argv[]) {\n    while(1){\n        int N, M; cin >> N >> M;\n        if(!N && !M) break;\n        \n        vector<int> c(M);\n        for(int i = 0; i < M; i++) cin >> c[i];\n        for(int i = 0; i < 256; i++) dp[0][i] = INF;\n        dp[0][128] = 0;\n        \n        for(int i = 1; i <= N; i++){\n            int x; cin >> x;\n            for(int j = 0; j < 256; j++) dp[i][j] = INF;\n            \n            for(int pre = 0; pre < 256; pre++){\n                for(int j = 0; j < M; j++){\n                    int nx = pre + c[j];\n                    if(nx >= 256) nx = 255;\n                    else if(nx < 0) nx = 0;\n                    \n                    dp[i][nx] = min(dp[i][nx], dp[i-1][pre] + (nx-x)*(nx-x));\n                }\n            }\n        }\n        \n        int ans = INF;\n        for(int i = 0; i < 256; i++){\n            ans = min(ans, dp[N][i]);\n        }\n        cout << ans<< endl;\n        \n    }\n}"
  },
  {
    "language": "C++",
    "code": "#define _CRT_SECURE_NO_WARNINGS\n#define _USE_MATH_DEFINES\n#include \"bits/stdc++.h\"\n#define rep(i, n) for(int i=0; i<(n); ++i)\n#define FOR(i, m, n) for(int i=(m); i<(n); ++i)\n#define rrep(i, n) for(int i=(n)-1; i>=0; --i)\n#define rfor(i, m, n) for(int i=(m); i>=(n); --i)\n#define sz(x) ((int)(x).size())\n#define all(x) (x).begin(),(x).end()\n#define rall(x) (x).rbegin(),(x).rend()\n\nusing namespace std;\nusing LL = long long;\t\tusing ld = long double;\nusing VB = vector<bool>;\tusing VVB = vector<VB>;\nusing VI = vector<int>;\t\tusing VVI = vector<VI>;\nusing VL = vector<LL>;\t\tusing VVL = vector<VL>;\nusing VS = vector<string>;\tusing VD = vector<double>;\nusing PII = pair<int, int>;\tusing VP = vector<PII>;\nusing PLL = pair<LL, LL>;\tusing VPL = vector<PLL>;\ntemplate<class T>using Grid = vector<vector<T>>;\ntemplate<class T>using PQ = priority_queue<T>;\ntemplate<class T>using PQS = priority_queue<T, vector<T>, greater<T>>;\nconstexpr int inf = (int)1e9;\nconstexpr LL inf_ll = (LL)1e18, MOD = 1000000007;\nconstexpr ld PI = M_PI, EPS = 1e-12;\n\ntemplate<class T>inline void Sort(T& a)noexcept { sort(all(a)); }\ntemplate<class T>inline void RSort(T& a)noexcept { sort(rall(a)); }\ntemplate<class T>inline void Reverse(T& a)noexcept { reverse(all(a)); }\ntemplate<class T>inline void Unique(T& a)noexcept { a.erase(unique(all(a)), a.end()); }\ntemplate<class T>inline T Sorted(T a)noexcept { Sort(a); return a; }\ntemplate<class T>inline T RSorted(T a)noexcept { RSort(a); return a; }\ntemplate<class T>inline T Reversed(T a)noexcept { Reverse(a); return a; }\ntemplate<class T>inline T Uniqued(T a)noexcept { Unique(a); return a; }\ntemplate<class T>inline auto Max(const T& a)noexcept { return *max_element(all(a)); }\ntemplate<class T>inline auto Min(const T& a)noexcept { return *min_element(all(a)); }\ntemplate<class T>inline int MaxPos(const T& a)noexcept { return max_element(all(a)) - a.begin(); }\ntemplate<class T>inline int MinPos(const T& a)noexcept { return min_element(all(a)) - a.begin(); }\ntemplate<class T, class U>inline int Count(const T& a, const  U& v)noexcept { return count(all(a), v); }\ntemplate<class T, class U>inline int Find(const T& a, const U& v)noexcept { auto pos = find(all(a), v); return pos == a.end() ? -1 : pos - a.begin(); }\ntemplate<class T, class U>inline U Sum(const T& a, const U& v)noexcept { return accumulate(all(a), v); }\ntemplate<class T, class U>inline int Lower(const T& a, const U& v)noexcept { return lower_bound(all(a), v) - a.begin(); }\ntemplate<class T, class U>inline int Upper(const T& a, const U& v)noexcept { return upper_bound(all(a), v) - a.begin(); }\ntemplate<class T, class P>inline void RemoveIf(T& a, P f)noexcept { a.erase(remove_if(all(a), f), a.end()); }\ntemplate<class T>inline T Age(T n, T m)noexcept { return (n + m - 1) / m; }\ntemplate<class T>inline T Age2(T n, T m)noexcept { return Age(n, m) * m; }\ntemplate<class T>inline T Tri(T n)noexcept { return (n & 1) ? (n + 1) / 2 * n : n / 2 * (n + 1); }\ntemplate<class T = long long>inline T BIT(int b)noexcept { return T{ 1 } << b; }\ntemplate<class T>inline T Gcd(T n, T m)noexcept { return m ? Gcd(m, n % m) : n; }\ntemplate<class T>inline T Lcm(T n, T m)noexcept { return n / Gcd(n, m) * m; }\ntemplate<class T>inline T Pow(T a, T n)noexcept { T r = 1; while (n > 0) { if (n & 1)r *= a; a *= a; n /= 2; }return r; }\ntemplate<class T>inline T Powmod(T a, T n, T m = MOD)noexcept { T r = 1; while (n > 0) { if (n & 1)r = r * a % m, n--; else a = a * a % m, n /= 2; }return r; }\ntemplate<class T>inline bool chmax(T& a, const T& b)noexcept { if (a < b) { a = b; return true; } return false; }\ntemplate<class T>inline bool chmin(T& a, const T& b)noexcept { if (a > b) { a = b; return true; } return false; }\ntemplate<class T>inline bool inRange(const T& v, const T& min, const T& max)noexcept { return min <= v && v <= max; }\ninline string operator*(string s, int n)noexcept { string ret; rep(i, n)ret += s; return ret; }\n\n// --- input --- //\n#if defined(_WIN32) || defined(ONLINE_JUDGE)\n#define getchar_unlocked _getchar_nolock\n#define putchar_unlocked _putchar_nolock\n#endif\ninline int gc()noexcept { return getchar_unlocked(); }\ntemplate<class T>inline void InputF(T& v)noexcept { cin >> v; }\ninline void InputF(char& v)noexcept { while (isspace(v = gc())); }\ninline void InputF(string& v)noexcept {\n\tchar c; for (InputF(c); !isspace(c); c = gc())v += c;\n}\ninline void InputF(int& v)noexcept {\n\tbool neg = false; v = 0; char c; InputF(c);\n\tif (c == '-') { neg = true; c = gc(); }\n\tfor (; isdigit(c); c = gc())v = v * 10 + (c - '0');\n\tif (neg)v = -v;\n}\ninline void InputF(long long& v)noexcept {\n\tbool neg = false; v = 0; char c; InputF(c);\n\tif (c == '-') { neg = true; c = gc(); }\n\tfor (; isdigit(c); c = gc())v = v * 10 + (LL)(c - '0');\n\tif (neg)v = -v;\n}\ninline void InputF(double& v)noexcept {\n\tdouble dp = 1; bool neg = false, adp = false; v = 0; char c; InputF(c);\n\tif (c == '-') { neg = true; c = gc(); }\n\tfor (; isdigit(c) || c == '.'; c = gc()) {\n\t\tif (c == '.')adp = true;\n\t\telse if (adp)v += (c - '0') * (dp *= 0.1);\n\t\telse v = v * 10 + (c - '0');\n\t}\n\tif (neg)v = -v;\n}\ntemplate<class T, class U>inline void InputF(pair<T, U>& v)noexcept {\n\tInputF(v.first); InputF(v.second);\n}\ntemplate<class T>inline void InputF(vector<T>& v)noexcept {\n\tfor (auto& e : v)InputF(e);\n}\ntemplate<class T>inline T input() { T v; InputF(v); return v; }\nstruct InputV {\n\tint n, m;\n\tInputV(int N) :n(N), m(0) {}\n\tInputV(pair<int, int> N) :n(N.first), m(N.second) {}\n\ttemplate<class T>operator vector<T>()noexcept {\n\t\tvector<T> v(n); InputF(v); return v;\n\t}\n\ttemplate<class T>operator vector<vector<T>>()noexcept {\n\t\tvector<vector<T>> v(n, vector<T>(m)); InputF(v); return v;\n\t}\n};\nstruct Input {\n\ttemplate<class T>operator T()noexcept { return input<T>(); }\n\tint operator--(int) { int v; InputF(v); v--; return v; }\n\tInputV operator[](int n)noexcept { return InputV(n); }\n\tInputV operator[](pair<int, int> n)noexcept { return InputV(n); }\n\tvoid operator()() {}\n\ttemplate<class H, class...T>void operator()(H&& h, T&& ...t) {\n\t\tInputF(h); operator()(forward<T>(t)...);\n\t}\n\ttemplate<class T, size_t W>array<vector<T>, W> get(int H) {\n\t\tarray<vector<T>, W> ret;\n\t\trep(i, H)rep(j, W) { T x = *this; ret[j].push_back(x); }\n\t\treturn ret;\n\t}\n}in;\n\n// --- output --- //\nstruct BoolStr {\n\tconst char* t, * f; BoolStr(const char* _t, const char* _f) :t(_t), f(_f) {}\n}Yes(\"Yes\", \"No\"), yes(\"yes\", \"no\"), YES(\"YES\", \"NO\"), Int(\"1\", \"0\");\nstruct DivStr {\n\tconst char* d, * l; DivStr(const char* _d, const char* _l) :d(_d), l(_l) {}\n}spc(\" \", \"\\n\"), no_spc(\"\", \"\\n\"), end_line(\"\\n\", \"\\n\"), comma(\",\", \"\\n\"), no_endl(\" \", \"\");\nclass Output {\n\tBoolStr B{ Yes }; DivStr D{ spc }; bool isPrint = true;\n\tvoid p(double v) { printf(\"%.20f\", v); } void p(long double v) { printf(\"%.20Lf\", v); }\n\tvoid p(int v) { printf(\"%d\", v); }\tvoid p(LL v) { printf(\"%lld\", v); }\n\tvoid p(char v) { putchar(v); }\t\tvoid p(bool v) { printf(\"%s\", v ? B.t : B.f); }\n\ttemplate<class T>void p(const T& v) { cout << v; }\n\ttemplate<class T, class U>void p(const pair<T, U>& v) { p(v.first); printf(\"%s\", D.d); p(v.second); }\n\ttemplate<class T>void p(const vector<T>& v) { rep(i, sz(v)) { if (i)printf(\"%s\", D.d); p(v[i]); } }\n\ttemplate<class T>void p(const vector<vector<T>>& v) { rep(i, sz(v)) { if (i)printf(\"%s\", D.l); p(v[i]); } }\n\tvoid p(const BoolStr& v) { B = v; isPrint = false; } void p(const DivStr& v) { D = v; isPrint = false; }\npublic:\n\tvoid operator()() { printf(\"%s\", D.l); }\n\ttemplate<class H>void operator()(H&& h) {\n\t\tp(h); if (isPrint)printf(\"%s\", D.l); isPrint = true;\n\t}\n\ttemplate<class H, class...T>void operator()(H&& h, T&& ...t) {\n\t\tp(h); if (isPrint)printf(\"%s\", D.d); isPrint = true; operator()(forward<T>(t)...);\n\t}\n\ttemplate<class...T>void exit(T&& ...t) {\n\t\toperator()(forward<T>(t)...); std::exit(EXIT_SUCCESS);\n\t}\n}out;\n\n// --- dump --- //\n#if __has_include(\"dump.hpp\")\n#include \"dump.hpp\"\n#else\n#define dump(...) (void(0))\n#endif\n\n// ---------------------------------------------------------------- //\n\ninline int plas(int x, int y) {\n\treturn min(max(x + y, 0), 255);\n}\n\nvoid solve(int n, int m) {\n\tVL c = in[m], x = in[n];\n\n\tVL dp(256, inf_ll);\n\tdp[128] = 0;\n\trep(i, n) {\n\t\tVL dp2(256, inf_ll);\n\t\trep(j, 256)if (dp[j] != inf_ll) {\n\t\t\trep(k, m) {\n\t\t\t\tint next = plas(j, c[k]);\n\t\t\t\tchmin(dp2[next], dp[j] + LL(next - x[i]) * (next - x[i]));\n\t\t\t}\n\t\t}\n\t\tdp = dp2;\n\t}\n\tout(Min(dp));\n}\n\nint main() {\n\tint n, m;\n\twhile (cin >> n >> m && n) {\n\t\tsolve(n, m);\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <cmath>\n#include <cstdio>\n#include <functional>\n#include <numeric>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <utility>\n#include <sstream>\n#include <complex>\n\nusing namespace std;\n\n#define FOR(i,a,b) for(long long i=(a);i<(b);i++)\n#define REP(i,N) for(long long i=0;i<(N);i++)\n#define ALL(s) (s).begin(),(s).end()\n#define fi first\n#define se second\n\n#define PI acos(-1.0)\n#define INF 1000000007\n#define EPS 1e-10\n\ntypedef long long ll;\ntypedef pair<ll, ll> P;\ntypedef pair<double, double> PD;\ntypedef pair<string, ll> PS;\ntypedef vector<ll> V;\ntypedef pair<P, char> PC;\n\nll n, m;\nll c[100], x[20010];\nll dp[20][30000];\n\nint main(){\n\twhile (cin >> n >> m&&n + m){\n\t\tREP(i, 20)REP(j, 300)dp[i][j] = INF;\n\t\tREP(i, m)cin >> c[i];\n\t\tREP(i, n)cin >> x[i];\n\t\tdp[0][128] = 0;\n\t\tREP(i, n){\n\t\t\tREP(j, m){\n\t\t\t\tREP(k, 256){\n\t\t\t\t\tint num = k + c[j];\n\t\t\t\t\tif (num < 0)num = 0;\n\t\t\t\t\tif (num > 255)num = 255;\n\t\t\t\t\tdp[i + 1][num] = min(dp[i][k] + (x[i] - (num))*(x[i] - (num)), dp[i + 1][num]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tll ans = INF;\n\t\t//REP(i, n + 1){\n\t\t//\tcout << i << endl;\n\t\t//\tFOR(j, 120, 140){\n\t\t//\t\tcout << dp[i][j] << \" \";\n\t\t//\t}\n\t\t//\tcout << endl;\n\t\t//}\n\t\tREP(i, 300){\n\t\t\tans = min(ans, dp[n][i]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <set>\n#include <vector>\n#include <algorithm>\nusing namespace std;\nconst int INF = 1 << 22;\nconst int MAX_N = 21000;\nconst int MAX_M = 20;\nint table[MAX_N+1][256];\nint x[MAX_N];\nint book[MAX_M];\nvoid db_print(int line[]){\n  for(int i = 100; i < 200; ++i){\n    cout << i << \"[\" << line[i] << \"]\" << endl;\n  }\n  cout << endl;\n}\nint main(){\n  int N, M;\n  while(true){\n    cin >> N >> M;\n    if((N|M) == 0){\n      break;\n    }\n    for(int i = 0; i < M; ++i){\n      cin >> book[i];\n    }\n    for(int i = 0; i < N; ++i){\n      cin >> x[i];\n    }\n    fill_n((int *) table, (N+1) * 256, INF);\n    table[0][128] = 0;\n    for(int i = 0; i < N; ++i){\n      //db_print(table[i]);\n      for(int j = 0; j < 256; ++j){\n\tfor(int b = 0; b < M; ++b){\t  \n\t  int d = book[b];\n\t  if(0 <= j+d && j+d <= 255){\n\t    int t = (x[i] - (j+d)) * (x[i] - (j+d));\n\t    table[i+1][j+d] = min(table[i+1][j+d], table[i][j]+t);\n\t  }\n\t  if(j+d < 0){\n\t    int t = (x[i] - 0) * (x[i] - 0);\n\t    table[i+1][0] = min(table[i+1][0], table[i][j]+t);\n\t  }\n\t  if(j+d > 255){\n\t    int t = (x[i] - 255) * (x[i] - 255);\n\t    table[i+1][255] = min(table[i+1][255], table[i][j]+t);\n\t  }\n\t}\n      }\n    }\n    //db_print(table[N]);\n    int ans = INF;\n    for(int i = 0; i < 256; ++i){\n      ans = min(ans, table[N][i]);\n    }\n    cout << ans << endl;\n  }    \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#define int long long\n\nusing namespace std;\n\nsigned main() {\n  int n, m;\n  while(cin >> n >> m, n != 0) {\n    vector<int> cs(m);\n    for (int i = 0; i < m; i++) {\n      cin >> cs[i];\n    }\n    vector<int> y(n);\n    for (int i = 0; i < n; i++) {\n      cin >> y[i];\n    }\n    const int inf = 10000000000ll;\n    vector<vector<int>> dp(n+1, vector<int>(256, inf));\n    dp[0][128] = 0;\n    for (int i=0; i<n; i++){\n      for (int k=0; k < 256; k++) {\n        for (auto c : cs) {\n          int to = k + c;\n          to = (to < 0) ? 0 :\n               (to > 255) ? 255 :\n               to;\n          int cost = (to - y[i]) * (to - y[i]);\n          dp[i+1][to] = min(dp[i+1][to], dp[i][k] + cost);\n        }\n      }\n    }\n    int res = inf;\n    for (int k=0; k < 256; k++) {\n      res = min(res, dp[n][k]);\n    }\n    cout << res << endl;\n  }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#define INF 1<<30\nusing namespace std;\n\nint N,M;\nint c[17];\nint dp[20002][256];\nint main(){\n\tint num,cost;\n\twhile(cin >> N >> M){\n\t\tif(N == 0)break;\n\t\tfor(int i = 0;i < M;i++){\n\t\t\tcin >> c[i];\n\t\t}\n\t\tfor(int i = 0;i <= N;i++){\n\t\t\tfor(int j = 0;j < 256;j++){\n\t\t\t\tdp[i][j] = INF;\n\t\t\t}\n\t\t}\n\t\t\tdp[0][128] = 0;\n\t\tfor(int i = 0;i < N;i++){\n\t\t\tcin >> num;\n\t\t\tfor(int j = 0;j <= 255;j++){\n\t\t\t\tif(dp[i][j] == INF)continue;\n\t\t\t\tfor(int m = 0;m < M;m++){\n\t\t\t\t\tint x = j + c[m];\n\t\t\t\t\tif(x > 255)x = 255;\n\t\t\t\t\telse if(x < 0)x = 0;\n\t\t\t\t\tcost = (num-x)*(num-x);\n\t\t\t\t\tdp[i+1][x] = min(dp[i+1][x],dp[i][j] + cost);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcost = INF;\n\t\tfor(int i = 0;i <= 255;i++){\n\t\t\tcost = min(cost,dp[N][i]);\n\t\t}\n\t\tcout << cost <<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nconst int INF = 1 << 30;\n\nint main(){\n  int N, M, C[16], x[20000];\n  int dp[2][256];\n  \n  while(scanf(\"%d %d\", &N, &M), N){\n    for(int i = 0; i < M; i++){\n      scanf(\"%d\", &C[i]);\n    }\n    for(int i = 0; i < N; i++){\n      scanf(\"%d\", &x[i]);\n    }\n    fill_n( *dp, 2 * 256, INF);\n    dp[0][128] = 0;\n    for(int i = 0; i < N; i++){\n      for(int j = 0; j < 256; j++){\n        if(dp[i & 1][j] == INF) continue;\n        for(int k = 0; k < M; k++){\n          int value = min( 255, max( 0, j + C[k]));\n          dp[(i + 1) & 1][value] = min( dp[(i + 1) & 1][value], dp[i & 1][j] + (x[i] - value) * (x[i] - value));\n        }\n      }\n      for(int j = 0; j < 256; j++) dp[i & 1][j] = INF;\n    }\n    int ret = INF;\n    for(int i = 0; i < 256; i++){\n      ret = min( ret, dp[N & 1][i]);\n    }\n    cout << ret << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n\nusing namespace std;\ntypedef long long ll;\n\nll c[16], x[20000];\n\nll dp[20001][256];\n\nint main() {\n\twhile (1) {\n\t\tint n, m;\n\t\tcin >> n >> m;\n\t\tif (n + m == 0)break;\n\t\tfor (int i = 0; i < m; i++)cin >> c[i];\n\t\tfor (int i = 0; i < n; i++)cin >> x[i];\n\n\t\tfor (int i = 0; i < n; i++)for (int j = 0; j < 256; j++)dp[i][j] = 1e18;\n\t\tdp[0][128] = 0;\n\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tfor (int j = 0; j <= 255; j++) {\n\t\t\t\tfor (int k = 0; k < m; k++) {\n\t\t\t\t\tll nxt = 0;\n\t\t\t\t\tnxt = j + c[k];\n\t\t\t\t\tif (nxt < 0)nxt = 0;\n\t\t\t\t\tif (nxt > 255)nxt = 255;\n\t\t\t\t\t\n\t\t\t\t\tdp[i + 1][nxt] = min(dp[i + 1][nxt], dp[i][j] + (x[i] - nxt) * (x[i] - nxt));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tll ans = 1e18;\n\n\t\tfor (int i = 0; i < 256; i++) {\n\t\t\tans = min(ans, dp[n][i]);\n\t\t}\n\t\tcout << ans << endl;\n\n\t}\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <cstring>\n#include <cstdlib>\n\nusing namespace std;\n\nconst int INF=1000000000;\n\nint n,m;\nint dp[256][20001];\nint codeBook[20];\nint input[20001];\n\nint dfs(int lastNum,int idx){\n    if(idx==n)\n        return 0;\n    if(dp[lastNum][idx]!=INF)\n        return dp[lastNum][idx];\n    int minSum=INF;\n    for(int i = 0; i < m; i++){\n        int nextNum=min(255,max(0,lastNum+codeBook[i]));\n        minSum=min(minSum,dfs(nextNum,idx+1)+(nextNum-input[idx])*(nextNum-input[idx]));\n    }\n    return dp[lastNum][idx]=minSum;\n}\n\nint main(){\n\n    while(cin>>n>>m&&!(n==0&&m==0)){\n        for(int i = 0; i < 256; i++)\n            for(int j = 0; j < 20001; j++)\n                dp[i][j]=INF;\n        for(int i = 0; i < m; i++)\n            cin>>codeBook[i];\n        for(int i = 0; i < n; i++)\n            cin>>input[i];\n        int res=dfs(128,0);\n        cout<<res<<endl;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n\nusing namespace std;\n\nint square(int x) {\n\treturn x * x;\n}\n\nint main() {\n\tint n, m; \n\twhile (cin >> n >> m, n) {\n\t\tvector<int> c(m), x(n);\n\t\tfor (int i = 0; i < m; ++i) cin >> c[i];\n\t\tfor (int i = 0; i < n; ++i) cin >> x[i];\n\t\tvector<vector<int> > dp(n + 1, vector<int>(256, 1e9));\n\t\tdp[0][128] = 0;\n\t\tfor (int i = 0; i < n; ++i) {\n\t\t\tfor (int j = 0; j < m; ++j) {\n\t\t\t\tfor (int k = 0; k <= 255; ++k) {\n\t\t\t\t\tint next = min(255, max(0, k + c[j]));\n\t\t\t\t\tdp[i + 1][next] = min(dp[i + 1][next], dp[i][k] + square(next - x[i]));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = 1e9;\n\t\tfor (int i = 0; i <= 255; ++i) ans = min(ans, dp[n][i]);\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define r(i,n) for(int i=0;i<n;i++)\n#define INF 100000000\nint dp[20001][256],n,m,b[17],a[20001];\nmain(){\n  while(cin>>n>>m,n){\n    r(i,m)cin>>b[i];\n    r(i,n)cin>>a[i+1];\n    r(i,n+1)r(j,256)if(dp[i][j]!=INF)dp[i][j]=INF;\n    dp[0][128]=1;\n    r(i,n)r(j,256)\n        if(dp[i][j]!=INF)r(k,m){\n          int p=j+b[k];\n          if(p>255)p=255;\n          if(p<0)p=0;\n          dp[i+1][p]=min(dp[i+1][p],dp[i][j]+(a[i+1]-p)*(a[i+1]-p));\n        }\n    int p=100000000;\n    r(i,256)if(dp[n][i]!=INF)\n      p=min(p,dp[n][i]);\n    cout<<p-1<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n \n#define _overload(_1,_2,_3,name,...) name\n#define _rep(i,n) _range(i,0,n)\n#define _range(i,a,b) for(int i=(int)(a);i<(int)(b);++i)\n#define rep(...) _overload(__VA_ARGS__,_range,_rep,)(__VA_ARGS__)\n \n#define _rrep(i,n) _rrange(i,n,0)\n#define _rrange(i,a,b) for(int i=(int)(a)-1;i>=(int)(b);--i)\n#define rrep(...) _overload(__VA_ARGS__,_rrange,_rrep,)(__VA_ARGS__)\n \n#define _all(arg) begin(arg),end(arg)\n#define uniq(arg) sort(_all(arg)),(arg).erase(unique(_all(arg)),end(arg))\n#define getidx(ary,key) lower_bound(_all(ary),key)-begin(ary)\n#define clr(a,b) memset((a),(b),sizeof(a))\n#define bit(n) (1LL<<(n))\n \n// #define DEBUG\n \n#ifdef DEBUG\n    #define dump(...) fprintf(stderr, __VA_ARGS__)\n#else\n    #define dump(...)\n#endif\n \ntemplate<class T>bool chmax(T &a, const T &b) { return (a<b)?(a=b,1):0;}\ntemplate<class T>bool chmin(T &a, const T &b) { return (b<a)?(a=b,1):0;}\n \nusing namespace std;\nusing ll=long long;\nusing vi=vector<int>;\nusing vll=vector<ll>;\n \nconst double EPS = 1e-10;\nconst double PI = acos(-1.0);\nconst ll inf =1LL << 60;\nconst ll mod=1000000007LL;\nconst int dx[4]={1,0,-1,0};\nconst int dy[4]={0,1,0,-1};\n \n \nll extgcd(ll a,ll b,ll& x,ll& y){x=1,y=0;ll g=a;if(b!=0) g=extgcd(b,a%b,y,x),y-=a/b*x;return g;}\nll ADD(const ll &a, const ll &b,const ll &mod) { return (a+b)%mod;}\nll SUB(const ll &a, const ll &b,const ll &mod) { return (a-b+mod)%mod;}\nll MUL(const ll &a, const ll &b,const ll &mod) { return (1LL*a*b)%mod;}\nll DIV(const ll &a, const ll &b,const ll &mod) {ll x,y; extgcd(b,mod,x,y);return MUL(a,(x+mod)%mod,mod);}\n \nrandom_device rd;\nmt19937 mt(rd());\nuniform_int_distribution<int> dice(1,6);\nuniform_real_distribution<double> score(0.0,10.0);\n\nconst int N = 256;\n\ninline int round(int x){\n    chmin(x, N - 1);\n    chmax(x, 0);\n    return x;\n}\n\nint main(void){\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n\n    for(int n, m; cin >> n >> m, n;){\n        vi C(m); for(auto& e : C) cin >> e;\n        vi x(n); for(auto& e : x) cin >> e;\n\n        vector<vll> dp(n + 1, vll(N, inf));\n        dp[0][128] = 0;\n\n        rep(i, n){\n            rep(j, N){\n                ll cur = dp[i][j];\n\n                if(dp[i][j] == inf) continue;\n                for(auto& c : C){\n                    int nj = round(j + c);\n                    chmin(dp[i + 1][nj], cur + (int)pow(nj - x[i], 2));\n                }\n            }\n        }\n\n        cout << *min_element(_all(dp[n])) << endl;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <cmath>\nusing namespace std;\n\nunsigned int errorSum[2][256];\nbool concerning[2][256];\n\nshort samples[20001];\nint codeBook[16];\n\nint main() {\n\tint n, m;\n\twhile(true) {\n\n\t\tcin >> n >> m;\n\n\t\tif (n == 0 && m == 0) {\n\t\t\tbreak;\n\t\t}\n\n\t\tfor (int i = 0; i < m; i++) {\n\t\t\tcin >> codeBook[i];\n\t\t}\n\t\tfor (int i = 1; i <= n; i++) {\n\t\t\tcin >> samples[i];\n\t\t}\n\n\t\tfor (int i = 0; i < 256; i++) {\n\t\t\terrorSum[0][i] = errorSum[1][i] = INT32_MAX;\n\t\t\tconcerning[0][i] = concerning[1][i] = false;\n\t\t}\n\t\tconcerning[0][128] = true;\n\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tfor (int j = 0; j < 256; j++) {\n\t\t\t\tif(concerning[i % 2][j]) {\n\t\t\t\t\tconcerning[i % 2][j] = false;\n\t\t\t\t\tfor (int k = 0; k < m; k++) {\n\t\t\t\t\t\tint next = min(max(0, j + codeBook[k]), 255);\n\t\t\t\t\t\tunsigned int error = (errorSum[i % 2][j] == INT32_MAX ?\n\t\t\t\t\t\t\t\t0 : errorSum[i % 2][j])\n\t\t\t\t\t\t\t\t+ (next - samples[i+1]) * (next - samples[i+1]);\n\n\t\t\t\t\t\tif(error <= errorSum[(i+1) % 2][next]) {\n\t\t\t\t\t\t\tconcerning[(i+1) % 2][next] = true;\n\t\t\t\t\t\t\terrorSum[(i+1) % 2][next] = error;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\terrorSum[i % 2][j] = INT32_MAX;\n\t\t\t}\n\t\t}\n\n\t\tunsigned int minError = INT32_MAX;\n\t\tint lastIndex = n % 2;\n\t\tfor (int i = 0; i < 256; i++) {\n\t\t\tif(concerning[lastIndex][i]\n\t\t\t        && errorSum[lastIndex][i] < minError) {\n\t\t\t\tminError = errorSum[lastIndex][i];\n\t\t\t}\n\t\t}\n\t\tcout << minError << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n#define rep(i, n) for ( int i = 0; i < n; i++ )\n#define NMAX 20001\n#define MMAX 16\n#define INFTY (1<<25)\nint N, M, C[MMAX], X[NMAX], T[256][NMAX];\n\nint compute(){\n    rep(i, 256) rep(j, N+1) T[i][j] = INFTY;\n    T[128][0] = 0;\n    rep(j, N){\n\trep(i,256){\n\t    if ( T[i][j] == INFTY ) continue;\n\t    rep(k, M){\n\t\tint p = i + C[k];\n\t\tif ( p > 255 ) p = 255;\n\t\tif ( p < 0 ) p = 0;\n\t\tT[p][j+1] = min(T[p][j+1], T[i][j] + (X[j+1]-p)*(X[j+1]-p));\n\t    }\n\t}\n    }\n    int minv = INFTY;\n    rep(i, 256) minv = min(minv, T[i][N]);\n    return minv;\n}\n\nmain(){\n    while(cin >> N >> M && N ){\n\trep(i, M) cin >> C[i];\n\trep(i, N) cin >> X[i+1];\n\tcout << compute() << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <cstring>\n#include <algorithm>\n\n#define REP(i,k,n) for(int i=k;i<n;i++)\n#define rep(i,n) for(int i=0;i<n;i++)\n#define INF 1<<30\n\nusing namespace std;\ntypedef long long ll;\n\nint dp[200005][300];\n\nint main()\n{\n    int n,m;\n    while(cin >> n >> m) {\n        if(n == 0 && m == 0) break;\n\n        vector<int> c(m);\n        rep(i,m) cin >> c[i];\n\n        vector<int> x(n);\n        rep(i,n) cin >> x[i];\n\n        rep(i,n+1) rep(j,300) dp[i][j] = INF;\n\n        dp[0][128] = 0;\n\n        REP(i,1,n+1) {\n            rep(j,256) {\n                if(dp[i-1][j] == INF) continue;\n\n                rep(k,m) {\n                    int to = j + c[k];\n                    to = max(to,0);\n                    to = min(to,255);\n\n                    int ret = (x[i-1]-to) * (x[i-1]-to);\n                    dp[i][to] = min(dp[i][to],dp[i-1][j] + ret);\n                }\n            }\n        }\n\n        int ans = INF;\n        rep(i,300) ans = min(ans,dp[n][i]);\n\n        cout << ans << endl;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 0x3f3f3f3f\n\n#include <iostream>\n#include <cstdio>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n  \nusing namespace std;\n  \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P> PP;\n  \nstatic const double EPS = 1e-8;\n  \nstatic const int tx[] = {0,1,0,-1};\nstatic const int ty[] = {-1,0,1,0};\n\n\nint main(){\n  int signal_num,code_num;\n  while(~scanf(\"%d %d\",&signal_num,&code_num)){\n    if(signal_num == 0 && code_num == 0) break;\n\n    int code[16];\n    for(int i=0;i<code_num;i++){\n      scanf(\"%d\",code+i);\n    }\n    int input_signal[20000];\n    for(int i=0;i<signal_num;i++){\n      scanf(\"%d\",input_signal+i);\n    }\n\n    int prev[256],next[256];\n    memset(prev,0x3f,sizeof(prev));\n    memset(next,0x3f,sizeof(next));\n\n    prev[128] = 0;\n    for(int step=0;step<signal_num;step++){\n      for(int from = 0; from < 256;from++){\n\tfor(int code_idx=0;code_idx<code_num;code_idx++){\n\t  int to = from + code[code_idx];\n\t  if(to < 0) to = 0;\n\t  if(to >= 256) to = 255;\n\n\t  next[to] = min(next[to],\n\t\t\t prev[from] \n\t\t\t + (to - input_signal[step]) * (to - input_signal[step]));\n\t  \n\t}\n      }\n      memcpy(prev,next,sizeof(int)*256);\n      memset(next,0x3f,sizeof(next));\n    }\n\n    int min_v = INF;\n    for(int i=0;i<256;i++){\n      min_v = min(min_v,prev[i]);\n    }\n    printf(\"%d\\n\",min_v);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\n#define rep(i,n) for(int i=0;i<(n);i++)\n#define rep2(i,n) for(int i=1;i<=(n);i++)\n#define rep3(i,i0,n) for(int i=i0;i<(n);i++)\n#define pb push_back\n#define mod 1000000007\nconst ll INF = 1LL << 60;\ntemplate<class T>bool chmax(T &a, const T &b) { if (a<b) { a=b; return 1; } return 0; }\ntemplate<class T>bool chmin(T &a, const T &b) { if (b<a) { a=b; return 1; } return 0; }\nll gcd(ll a, ll b) {return b?gcd(b,a%b):a;}\nll lcm(ll a, ll b) {return a/gcd(a,b)*b;}\n#define all(x) x.begin(), x.end()\n#define mp make_pair\nbool compare(pair<int, int> a, pair<int, int> b) {\n    if(a.first != b.first){\n        return a.first < b.first;\n        \n    }else{\n        return a.second < b.second;\n    }\n}\n\n\nbool In_map(ll y,ll x,ll h,ll w){\n    if(y<0 || x<0 || y>=h || x>=w){\n        return 0;\n    }else{\n        return 1;\n    }\n}\nconst vector<ll> dx{1,0,-1,0};\nconst vector<ll> dy{0,1,0,-1};\nint main() {\n    while(1){\n        ll N,M;\n        cin >>N>>M;\n        if(N == 0 && M == 0) break;\n        vector<ll> C(M);\n        vector<ll> x(N);\n        rep(i,M){\n            cin >> C[i];\n        }\n\n        rep(i,N){\n            cin >> x[i];\n        }\n\n        vector<vector<ll>> dp(N+2,vector<ll>(256,INF));\n        dp[0][128] = 0;\n        rep(i,N+1){\n            rep(g,256){\n                rep(j,M){\n                    if(g+C[j] <= 255 && g+C[j] >= 0){\n                        chmin(dp[i+1][g+C[j]],dp[i][g]+(g+C[j]-x[i])*(g+C[j]-x[i]));\n                    }else if(g+C[j] > 255 ){\n                        chmin(dp[i+1][255],dp[i][g]+(255-x[i])*(255-x[i]));\n                    }else if(g+C[j] < 0){\n                        chmin(dp[i+1][0],dp[i][g]+(0-x[i])*(0-x[i]));\n                    }\n                }\n            }\n        }\n        ll ans = INF;\n        rep(i,256){\n            chmin(ans,dp[N][i]);\n        }\n        cout << ans << endl;\n    }\n\n\n\n    return 0;\n    \n\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\n#include<stdio.h>\n#include<cstring>\n#include<math.h>\n#include<map>\n#include<bitset>\n#include<iomanip>\n#include<queue>\nusing namespace std;\n\n#define rep(i, n) for (int i = 0; i < (int)(n); ++i)\n\nint N, M;\nint C[16], x[20000];\nint dp[20001][256];\nconst int INF = 1000000000;\n\nint main() {\n  while(true) {\n    cin >> N >> M;\n    if(N == 0 && M == 0) break;\n    rep(i, M) {\n      cin >> C[i];\n    }\n    rep(i, N) {\n      cin >> x[i];\n    }\n    rep(i, N+1) {\n      rep(j, 256) {\n        dp[i][j] = INF;\n      }\n    }\n    dp[0][128] = 0;\n    for(int i = 0; i < N; i++) {\n      for(int j = 0; j <= 255; j++) {\n        for(int k = 0; k < M; k++) {\n          int next = j + C[k];\n          if(next < 0) next = 0;\n          if(next > 255) next = 255;\n          dp[i+1][next] = min(dp[i+1][next], dp[i][j] + (x[i] - next) * (x[i] - next));\n        }\n      }\n    }\n    int ans = INF;\n    rep(i, 256) {\n      ans = min(ans, dp[N][i]);\n    }\n    cout << ans << endl;\n\n  }\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> pii;\n#define rep(i,n) for(ll i=0;i<(ll)(n);i++)\n#define all(a)  (a).begin(),(a).end()\n#define pb push_back\n#define INF 1LL<<50\n\n\nint main(){\n    int n,m;\n    while(cin>>n>>m){\n        if(n==0&&m==0)break;\n        vector<int> c,x;\n        rep(i,m){\n            int a;\n            cin>>a;\n            c.pb(a);\n        }\n        rep(i,n){\n            int a;\n            cin>>a;\n            x.pb(a);\n        }\n        \n        \n        static ll dp[30000][300];\n        rep(i,30000)rep(j,300)dp[i][j]=INF;\n        dp[0][128]=0;\n        \n        for(int i=0;i<n;i++){\n            rep(j,256){\n                rep(k,m){\n                    int val = j+c[k];\n                    if(val>255)val=255;\n                    if(val<0)val=0;\n                    int pow2 = (x[i]-val)*(x[i]-val);\n                    dp[i+1][val] = min(dp[i+1][val] , dp[i][j]+pow2);\n//                    if(j-c[k]>=0 && j-c[k]<=255)dp[i][j] = min(dp[i][j],dp[i-1][j-c[k]]+pow2);\n                }\n            }\n        }\n        ll mini=INF;\n        rep(i,256){\n            mini = min(mini,dp[n][i]);\n        }\n        cout<<mini<<endl;\n        \n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define M_PI       3.14159265358979323846   // pi\n\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef vector<ll> VI;\ntypedef pair<ll, ll> P;\ntypedef tuple<ll, ll, ll> t3;\ntypedef tuple<ll, ll, ll, ll> t4;\ntypedef tuple<ll, ll, ll, ll, ll> t5;\n\n#define rep(a,n) for(ll a = 0;a < n;a++)\n#define repi(a,b,n) for(ll a = b;a < n;a++)\n\nusing namespace std;\n\nstatic const ll INF = 1e15;\n\n\nint main() {\n    while (true) {\n        ll n, m;\n        cin >> n >> m;\n        if (n == 0 && m == 0) return 0;\n        vector<ll> cs(m);\n        rep(i, m) cin >> cs[i];\n        vector<ll> xs(n);\n        rep(i, n) cin >> xs[i];\n\n        vector<vector<ll>> dp(n + 1, vector<ll>(256, INF));\n        dp[0][128] = 0;\n        rep(i, n) {\n            rep(j, 256) {\n                if (dp[i][j] == INF) continue;\n                rep(a, m) {\n                    int diff = cs[a];\n                    int next = max(0, min(255, (int)j + diff));\n                    ll dx = next - xs[i];\n                    dx *= dx;\n                    dp[i + 1][next] = min(dp[i + 1][next], dx + dp[i][j]);\n                }\n            }\n        }\n        ll u = INF;\n        rep(j, 256) {\n            u = min(u, dp[n][j]);\n        }\n        cout << u << endl;\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdlib>\n#include <cstdio>\n#include <vector>\n#include <algorithm>\n#include <set>\n#include <cstring>\n#include <cmath>\n\n\n#define rep(i, n) for (int i = 0; i < (int)(n); i++)\n#define REP(i, k, n) for (int i = (int)(k); i < (int)(n); i++)\n#define rrep(i, n) for (int i = (int)(n)-1; i >= 0; i--)\n#define rREP(i, k, n) for (int i = (int)(n)-1; i >= k; i--)\n\n#define debug(x) cerr<<#x<<\": \"<<x<<endl;\n\n#define fi first\n#define se second\n\n#define vi vector<int>\n#define pb push_back\n#define mp make_pair\n\n#define pcnt __builtin_popcount\n\ntypedef long long ll;\nconst ll inf = 900900900100100100;\nconst int MOD = (int)1e9 + 7;\nconst double EPS = 1e-9;\nconst int MID=255;\nusing namespace std;\n\nint main(){\n    cin.tie(0);\n    ios_base::sync_with_stdio(false);\n    int n,m;\n    while(cin >> n >> m,n){\n        vector<int> c(m);\n        rep(i,m) cin >> c[i];\n        vector<int> x(n);\n        rep(i,n) cin >> x[i];\n        vector<vector<ll> > dp(20100,vector<ll> (MID*3,inf));\n        dp[0][128+MID] = 0;\n        rep(i,n){\n            REP(j,0,MID+1){\n                rep(k,m){\n                    int nj;\n                    if(j+c[k]>255) nj=255;\n                    else if(j+c[k]<0) nj=0;\n                    else nj = j+c[k];\n                    dp[i+1][nj+MID]=min<ll>(dp[i+1][nj+MID],dp[i][j+MID]+(nj-x[i])*(nj-x[i]));\n                }\n            }\n        }\n        ll ans = inf;\n        REP(i,-MID,MID+1) ans = min<ll>(dp[n][i+MID],ans);\n        cout << ans << endl;\n    }\n\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<string>\n#include <vector>\n#include <stack>\n#include <map>\n#include<iostream>\n#include <algorithm>\n#include <limits.h> \n#include <functional>\n\nusing namespace std;\nint n;\nint m;\nint a;\n\nint main(){\n\twhile(true){\n\t\tcin >>n;\n\t\tif(n==0){\n\t\t\tbreak;\n\t\t}\n\t\tcin >>m;\n\t\tif(m==0){\n\t\t\tbreak;\n\t\t}\n\n\t\tvector<int> codebook;\n\t\tvector<int> data;\n\t\tfor(int i=0;i<m;i++){\n\t\t\tcin >> a;\n\t\t\tcodebook.push_back(a);\n\t\t}\n\t\tfor(int i=0;i<n;i++){\n\t\t\tcin >> a;\n\t\t\tdata.push_back(a);\n\t\t}\n\t\t//一個前のハッシュ値による最小誤差でハッシュ。\n\t\t\n\t\t//map<int,int> hash;\n\t\tint hash[256];\n\t\tfor(int i=0;i<256;i++){\n\t\t\thash[i]=INT_MAX;\n\t\t}\n\t\thash[128]=0;\n\n\t\tint _mi;int _mindex=-1;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tint d=data[i];//次のデータ\t\t\n\t\t\tint next_hash[256];\n\t\t\tfor(int j=0;j<256;j++){\n\t\t\t\tnext_hash[j]=INT_MAX;\n\t\t\t}\n\t\t\t//最小値とdの間のみ保存。\n\t\t\tfor(int j=0;j<256;j++)\n\t\t\t{\n\t\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\t\tif(hash[j]!=INT_MAX){\n\t\t\t\t\t\tint f=max(min(j+codebook[k],255),0);\n\t\t\t\t\t\tint div=f-d;\n\t\t\t\t\t\tint s=hash[j]+div*div;\n\t\t\t\t\t\tnext_hash[f]=min(next_hash[f],s);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(int j=0;j<256;j++){\n\t\t\t\thash[j]=next_hash[j];\n\t\t\t}\n\t\t}\n\t\tint mi=INT_MAX;\n\t\tfor(int i=0;i<256;i++){\n\t\t\tmi=min(hash[i],mi);\n\t\t}\n\t\tcout << mi <<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing ll = long long;\nusing P = pair<int, int>;\n\nconst ll INF = 1001001001001001;\n\nll dp[20202][300];\n\nint main() {\n    int n, m;\n    while (cin >> n >> m && !(n == 0 && m == 0)) {\n        int c[m], x[n];\n        for (int i = 0; i < m; i++) cin >> c[i];\n        for (int i = 0; i < n; i++) cin >> x[i];\n        for (int i = 0; i < 20202; i++) {\n            for (int j = 0; j < 300; j++) {\n                dp[i][j] = INF;\n            }\n        }\n        dp[0][128] = 0;\n        for (int i = 0; i < n; i++) {\n            for (int j = 0; j < m; j++) {\n                for (int k = 0; k < 300; k++) {\n                    if (dp[i][k] == INF) continue;\n                    ll idx = min(255, max(0, c[j] + k));\n                    dp[i + 1][idx] =  min(dp[i + 1][idx], dp[i][k] + (x[i] - idx) * (x[i] - idx));\n                }\n            }\n        }\n        ll ans = INF;\n        for (int k = 0; k < 300; k++) {\n            ans = min(ans, dp[n][k]);\n        }\n        cout << ans << endl;\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <algorithm>\n#include <string>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <cstring>\n#include <vector>\n#include <list>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n\n#define INF (int)1e09\n\nusing std::cin;\nusing std::cout;\nusing std::endl;\nusing std::setprecision;\nusing std::fixed;\nusing std::pair;\nusing std::make_pair;\nusing std::min;\nusing std::max;\nusing std::string;\nusing std::vector;\nusing std::list;\nusing std::map;\nusing std::set; // insert erase find count\nusing std::queue;\nusing std::priority_queue;\nusing std::stack;\n\ntemplate <typename T> using Vec = vector<T>; // c++11\ntypedef pair<int, int> PII;\ntypedef pair<int, pair<int, int> > PIII;\n\nint main(void) {\n    while (1) {\n        int n;\n        int m;\n        cin >> n >> m;\n        if (n == 0 && m == 0) {\n            break;\n        }\n        Vec<int> c(m);\n        Vec<int> x(n + 1);\n        for (int i = 0; i < m; i++) {\n            cin >> c[i];\n        }\n        for (int j = 1; j <= n; j++) {\n            cin >> x[j];\n        }\n        Vec<Vec<long long int> > dp(m, Vec<long long int>(n + 1, 0));\n\n        Vec<int> now(m, 128);\n        Vec<int> upd(m, 0);\n        for (int j = 1; j <= n; j++) {\n            for (int i = 0; i < m; i++) {\n                for (int k = 0; k < m; k++) {\n                    long long int sum = now[k] + c[i];\n                    if (sum > 255) {\n                        sum = 255;\n                    } else if (sum < 0) {\n                        sum = 0;\n                    }\n\n                    long long int div = x[j] - sum;\n                    if (k == 0 || dp[i][j] > dp[k][j - 1] + div * div) {\n                        dp[i][j] = dp[k][j - 1] + div * div;\n                        upd[i] = sum;\n                    }\n                }\n            }\n            for (int i = 0; i < m; i++) {\n                now[i] = upd[i];\n            }\n        }\n\n        long long int ans;\n        for (int i = 0; i < m; i++) {\n            if (i == 0 || ans > dp[i][n]) {\n                ans = dp[i][n];\n            }\n        }\n        cout << ans << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n#include<utility>\n#include<string>\n#include<cmath>\n#include<cstring>\n#include<queue>\n#include<map>\n#include<climits>\n#include<set>\n\n#define REP(i, n) for(int i = 0;i < n;i++)\n#define REPR(i, n) for(int i = n;i >= 0;i--)\n#define FOR(i, m, n) for(int i = m;i < n;i++)\n#define FORR(i, m, n) for(int i = m;i >= n;i--)\n#define SORT(v, n) sort(v, v+n);\n#define VSORT(v) sort(v.begin(), v.end());\n#define llong long long\n#define pb(a) push_back(a)\nusing namespace std;\ntypedef pair<int, int> pii;\ntypedef long long int ll;\ntypedef pair<ll, ll> pll;\nint dx[4] = { 1,0,0,-1 };\nint dy[4] = { 0,1,-1,0 };\n#define MOD 1000000007\n#define ARRAY_MAX 100005\n\nconst int INF = 1e9 + 7;\n\n\nint dp[20005][300];//dp[i][j]:=i番目までのみて信号の値がjの場合の二乗和の最小値\n\nint main() {\n\n\t\n\tint n, m;\n\tios::sync_with_stdio(false);\n\tcin.tie(0);\n\n\twhile (cin >> n >> m, n | m)\n\t{\n\t\tvector<int> C(m + 10);\n\t\tvector<int> x(n + 10);\n\t\tfor (int i = 1; i <= m; i++)\n\t\t{\n\t\t\tcin >> C[i];\n\t\t}\n\t\tfor (int i = 0; i < n; i++)\n\t\t{\n\t\t\tcin >> x[i];\n\t\t}\n\t\tint mini = INF;\n\n\t\tmemset(dp, INF, sizeof(dp));\n\t\tdp[0][128] = 0;\n\n\t\tfor (int i = 0; i < n; i++)\n\t\t{\n\t\t\tfor (int j = 0; j < 256; j++)\n\t\t\t{\n\t\t\t\tif (dp[i][j] == INF)\n\t\t\t\t{\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tfor (int k = 1; k <= m; k++)\n\t\t\t\t{\n\t\t\t\t\tint code = max(0, min(255,j + C[k]));//次のコード\n\n\t\t\t\t\tdp[i + 1][code] = min(dp[i+1][code], dp[i][j] + (x[i]-code)*(x[i]-code));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = INF;\n\t\t\n\t\tfor (int i = 0; i <= 256; i++)\n\t\t{\n\t\t\tans = min(ans, dp[n][i]);\n\t\t}\n\t\tcout << ans << endl;\t\n\n\t}\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <utility>\n#include <vector>\n#include <list>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <string>\n#include <sstream>\n#include <cstring>\n#include <cstdlib>\n\nusing namespace std;\n\n#define ALL(c) c.begin(),c.end()\n#define RALL(c) c.rbegin(),c.rend()\n#define SORT(x) sort((x).begin(),(x).end())\n#define REP(i,x,y) for(int i=(x);i<(y);++i)\n#define MP(a,b) make_pair((a),(b))\n#define F_ first\n#define S_ second\n#define debug(x) #x << \"=\" << (x)\n \n#ifdef DEBUG\n#define _GLIBCXX_DEBUG\n#define dump(x) std::cerr << debug(x) << \" (L:\" << __LINE__ << \")\" << std::endl\n#else\n#define dump(x)\n#endif\n\ntypedef long long int lli;\ntypedef pair<int,int> pii;\n\nconst int INF=1<<30;\nconst long long int INF_=1LL<<58;\nconst double EPS=1e-9;\nconst int dx[]={1,0,-1,0},dy[]={0,1,0,-1};\n\ntemplate <typename T> ostream &operator<<(ostream &os, const vector<T> &vec){\n\tos << \"[\";\n\tfor (const auto &v : vec) {\n\t\tos << v << \",\";\n\t}\n\tos << \"]\";\n\treturn os;\n}\n\nint main(){\n\tstd::ios::sync_with_stdio(false);\n\tstd::cin.tie(0);\n\tint N,M;\n\twhile(true){\n\t\tcin >> N >> M;\n\t\tif(!N&&!M) break;\n\t\tvector<lli> C(M),x(N+1);\n\t\tREP(i,0,M) cin >> C[i];\n\t\tREP(i,1,N+1) cin >> x[i];\n\t\tvector<vector<lli>> dp(N+1,vector<lli>(256,INF_));\n\t\tdp[0][128]=0;\n\t\tlli ans=INF_;\n\t\tREP(i,0,N+1){\n\t\t\tREP(j,0,256){\n\t\t\t\tif(i!=N){\n\t\t\t\t\tREP(k,0,M){\n\t\t\t\t\t\tlli v=j+C[k];\n\t\t\t\t\t\tif(v<0) v=0;\n\t\t\t\t\t\tif(v>256) v=255;\n\t\t\t\t\t\tdp[i+1][v]=min(dp[i+1][v],dp[i][j]+(v-x[i+1])*(v-x[i+1]));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(i==N) ans=min(ans,dp[i][j]);\n\t\t\t}\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define INF 1e18\n#define int long long\n#define Rep(i, a, n) for (int i = (a); i < (n); i++)\n#define Repr(i, n, a) for (int i = (n); i >= (a); i--)\n#define rep(i, n) Rep(i, 0, n)\n#define repr(i, n) Repr(i, n, 0)\n#define all(a) (a).begin(), (a).end()\nusing namespace std;\ntypedef pair<int, int> P;\ntypedef pair<int, P> PP;\nconst int mod = 1000000007;\n\n#define MAX_N 20001\n#define MAX_Y 256\n\nint N, M;\nvector<int> C, X;\nint dp[MAX_Y][MAX_N];\nbool vis[MAX_Y][MAX_N];\n\nint solve(int y, int n)\n{\n    if (vis[y][n])\n        return dp[y][n];\n    vis[y][n] = true;\n    if (n == N)\n        return dp[y][n] = 0;\n    int res = INF;\n    rep(i, M)\n    {\n        int nxt = y + C[i];\n        nxt = max(nxt, 0LL);\n        nxt = min(nxt, 255LL);\n        int d = nxt - X[n];\n        res = min(res, solve(nxt, n + 1) + d * d);\n    }\n    return dp[y][n] = res;\n}\n\nsigned main()\n{\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n\n    while (1)\n    {\n        cin >> N >> M;\n        if (N == 0)\n            break;\n        C.resize(M);\n        rep(i, M) cin >> C[i];\n        X.resize(N);\n        rep(i, N) cin >> X[i];\n        rep(i, MAX_Y) rep(j, MAX_N) vis[i][j] = false;\n        cout << solve(128, 0) << endl;\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint DP[20010][256];\nint N, M;\nint B[17];\nint X[20010];\nint intMax = 1000000000;\n\nint solve() {\n\t\n\tfor(int i = 0; i <= N; i++) for(int j = 0; j <= 255; j++) DP[i][j] = intMax;\n\tfor (int m = 0; m < M; m++) {\n\t\tcin >> B[m];\n\t}\n\tfor (int n = 1; n <= N; n++) {\n\t\tcin >> X[n];\n\t}\n\tDP[0][128] = 0;\n\tfor (int n = 0; n < N; n++) {\n\t\tfor (int i = 0; i <= 255; i++) {\n\t\t\tfor (int m = 0; m < M; m++) {\n\t\t\t\tint c = min(255, max(i + B[m], 0));\n\t\t\t\tint s = X[n + 1] - c;\n\t\t\t\ts = s * s;\n\t\t\t\tDP[n + 1][c] = min(DP[n][i] + s, DP[n + 1][c]);\n\t\t\t}\n\t\t}\n\t}\n\tint ans = intMax;\n\tfor(int i = 0; i <= 255; i++) {\n\t\tans = min(ans, DP[N][i]) ;\n\t}\n\tcout << ans << endl;\n}\n\nint main() {\n\tcin >> N >> M;\n\twhile(N) {\n\t\tsolve();\n\t\tcin >> N >> M;\n\t}\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string.h>\nusing namespace std;\n\nint cut(int n){\n\tif(n<0) return 0;\n\tif(n>255) return 255;\n\treturn n;\n}\n\n\t\tint dp[20001][256];\nint main()\n{\n\tint N,M;\n\twhile(cin>>N>>M && N!=0){\n\t\tint book[16],signal[20000];\n\t\tmemset(book,-1,sizeof(bool));\n\t\tmemset(signal,-1,sizeof(signal));\n\n\t\tfor(int i=0;i<M;i++)\n\t\t\tcin>>book[i];\n\t\tfor(int i=0;i<N;i++)\n\t\t\tcin>>signal[i];\n\n\n\t\tmemset(dp,-1,sizeof(dp));\n\t\tdp[0][128]=0;\n\n\t\tfor(int i=0;i<N;i++){\n\t\t\tfor(int j=0;j<=255;j++){\n\t\t\t\tif(dp[i][j]<0) continue;\n\t\t\t\tfor(int k=0;k<M;k++){\n\t\t\t\t\tif(dp[i+1][cut(j+book[k])]<0)\n\t\t\t\t\t\tdp[i+1][cut(j+book[k])]=dp[i][j]+(signal[i]-cut(j+book[k]))*(signal[i]-cut(j+book[k]));\n\t\t\t\t\telse min(dp[i+1][cut(j+book[k])],dp[i][j]+(signal[i]-cut(j+book[k]))*(signal[i]-cut(j+book[k])));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans=100000000;\n\n\n\t\tfor(int i=0;i<=255;i++){\n\t\t\tif(dp[N][i]>=0)\n\t\t\t\tans=min(ans,dp[N][i]);\n\t\t}\n\t\tcout<<ans<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <cmath>\nusing namespace std;\n\nint main(){\n  int i,j,k,n,m;\n  while(cin >> n >> m && n && m){\n    vector<int> C,x;\n    for(i=0;i<m;i++){\n      int a;\n      cin >> a;\n      C.push_back(a);\n    }\n    for(i=0;i<n;i++){\n      int a;\n      cin >> a;\n      x.push_back(a);\n    }\n\n    long long y[256][2];\n    for(i=0;i<256;i++) y[i][0] = y[i][1] = -1;\n    y[128][0] = 0;\n\n    for(i=0;i<n;i++){\n      for(j=0;j<m;j++){\n\tfor(k=0;k<256;k++){\n\t  if(y[k][0] != -1){\n\t    int a = k + C[j];\n\t    if(a < 0) a = 0;\n\t    else if(a > 255) a = 255;\n\n\t    if(y[k][0] > (long long)(pow(10.0,18))) continue;\n\n\t    if(y[a][1] == -1) y[a][1] = y[k][0]+(x[i]-a)*(x[i]-a);\n\t    else y[a][1] = min(y[a][1],y[k][0]+(x[i]-a)*(x[i]-a));\n\t  }\n\t}\n      }\n      for(j=0;j<256;j++){\n\ty[j][0] = y[j][1];\n\ty[j][1] = -1;\n      }\n    }\n\n    long long ans = -1;\n    for(i=1;i<256;i++){\n      if(y[i][0] != -1){\n\tif(ans == -1) ans = y[i][0];\n\telse ans = min(ans,y[i][0]);\n      }\n    }\n\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define pb push_back\n#define mp make_pair\n#define fi first\n#define se second\n#define FOR(i, a, b) for(int i=(a);i<(b);i++)\n#define REP(i, n) FOR(i, 0, n)\n#define RFOR(i, a, b) for(int i=(a);i>=(b);i--)\n#define RREP(i, n) RFOR(i, n, 0)\n#define MFOR(i, m) for(auto i=(m).begin();i!=(m).end();i++)\n#define ALL(a) (a).begin(), (a).end()\n#define SZ(x) ((int)(x).size())\n\ntypedef long long int ll;\ntypedef pair<int, int> P;\ntypedef pair<ll, ll> Pll;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<ll> vll;\ntypedef vector<vll> vvll;\n\nconst double eps = 1e-10;\nconst int MOD = 1000000007;\nconst int INF = 1000000000;\nconst ll LINF = 1ll<<50;\n\ntemplate<typename T>\nvoid printv(vector<T> const& s) {\n  REP(i, SZ(s)) {\n    cout << s[i] << \" \";\n  }\n  cout << endl;\n}\n\n\nint main () {\n  cin.tie(0);\n  cout << setprecision(10);\n\n  while(1) {\n    int n, m; cin >> n >> m;\n    if(n == 0 && m == 0) break;\n    vi c(m), x(n+1);\n    REP(i, m) {\n      cin >> c[i];\n    }\n    REP(i, n) {\n      cin >> x[i+1];\n    }\n\n    vector<vector<ll>> dp(n+1, vector<ll>(256, LINF));\n    dp[0][128] = 0;\n\n    FOR(i, 1, n+1) {\n      REP(j, 256) {\n        REP(k, m) {\n          int next = min(255, max(0, j+c[k]));\n          dp[i][next] = min(dp[i][next], dp[i-1][j] + (x[i] - next) * (x[i] - next));\n        }\n      }\n    }\n\n\n/*     REP(i, n) {\n      printv(dp[i]);\n    } */\n\n    ll ans = LINF;\n    REP(i, 256) {\n      ans = min(ans, dp[n][i]);\n    }\n    cout << ans << endl;\n  }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i,n) for (int i = (0); i < (n); ++i)\n#define rrep(i,n) for(int i = 1; i <= (n); ++i)\n#define drep(i,n) for(int i = (n)-1; i >= 0; --i)\n#define srep(i,s,t) for (int i = s; i < t; ++i)\n#define all(x) (x).begin(),(x).end()\n#define rall(x) (x).rbegin(),(x).rend()\n#define limit(x,l,r) max(l,min(x,r))\n#define lims(x,l,r) (x = max(l,min(x,r)))\n#define isin(x,l,r) ((l) <= (x) && (x) < (r))\n#define show(x) cout << #x << \" = \" << (x) << endl\n#define show2(x,y) cout << #x << \" = \" << (x) << \", \" << #y << \" = \" << (y) << endl\n#define show3(x,y,z) cout << #x << \" = \" << (x) << \", \" << #y << \" = \" << (y) <<  \", \" << #z << \" = \" << (z) << endl\n#define showv(v) rep(i,v.size()) printf(\"%d%c\", v[i], i==v.size()-1?'\\n':' ')\n#define showv2(v) rep(j,v.size()) showv(v[j])\n#define showt(t,n) rep(i,n) printf(\"%d%c\", t[i], i==n-1?'\\n':' ')\n#define showt2(t,r,c) rep(j,r) showt(t[j],c)\n#define showvp(p) rep(i,p.size()) printf(\"%d %d\\n\", p[i].first, p[i].second)\n#define printv(v) rep(i,v.size()) printf(\"%d\\n\", v[i])\n#define printt(t,n) rep(i,n) printf(\"%d\\n\", t[i])\n#define incl(v,x) (find(all(v),x)!=v.end())\n#define incls(s,c) (s.find(c)!=string::npos)\n#define lb(a,x) distance((a).begin(),lower_bound(all(a),(x)))\n#define ub(a,x) distance((a).begin(),upper_bound(all(a),(x)))\n#define fi first\n#define se second\n#define pb push_back\n#define eb emplace_back\n#define sz(x) (int)(x).size()\n#define pcnt __builtin_popcountll\n#define bit(n,k) ((n>>k)&1) // nのk bit目\n#define bn(x) ((1<<x)-1)\n#define dup(x,y) (((x)+(y)-1)/(y))\n#define newline puts(\"\")\n#define uni(x) x.erase(unique(all(x)),x.end())\n#define SP << \" \" <<\nusing namespace std;\nusing ll = long long;\nusing ld = long double;\nusing vi = vector<int>;\nusing vvi = vector<vi>;\nusing vl = vector<ll>;\nusing vvl = vector<vl>;\nusing vc = vector<char>;\nusing vvc = vector<vc>;\nusing vs = vector<string>;\nusing vb = vector<bool>;\nusing vvb = vector<vb>;\nusing P = pair<int, int>;\nusing T = tuple<int, int, int>;\nusing vp = vector<P>;\nusing vt = vector<T>;\nconst int mod = 1000000007;\nconst double EPS = 1e-9;\n//const long double EPS = 1e-14;\nconst int INF = (1<<30)-1;\nconst ll LINF = (1LL<<62)-1;\n#define dame { puts(\"No\"); return 0;}\n#define yn {puts(\"Yes\");}else{puts(\"No\");}\ninline int in() { int x; cin >> x; return x;}\ninline ll lin() { ll x; cin >> x; return x;}\ninline char chin() { char x; cin >> x; return x;}\ninline string stin() { string x; cin >> x; return x;}\ninline double din() { double x; cin >> x; return x;}\n//template<class T = int> inline T in() { T x; cin >> x; return (x);}\ntemplate<typename T>inline ll suma(const vector<T>& a) { ll res(0); for (auto&& x : a) res += x; return res;}\ntemplate<class T> inline bool chmax(T& a, T b) { if (a < b) { a = b; return true; } return false; }\ntemplate<class T> inline bool chmin(T& a, T b) { if (a > b) { a = b; return true; } return false; }\nchar itoa(int n) { return n + '0';}\nll gcd(ll a, ll b) { return b?gcd(b,a%b):a;}\nll lcm(ll a, ll b) { return a/gcd(a,b)*b;}\nconst int dx[4] = {1, 0,-1, 0};\nconst int dy[4] = {0, 1, 0,-1};\n\nint n, m;\nvi c, x;\nint dp[20005][256];\n\nvoid solve() {\n  c = vi(m);\n  rep(i,m) cin >> c[i];\n  x = vi(n);\n  rep(i,n) cin >> x[i];\n  rep(i,20005)rep(j,256) dp[i][j] = INF;\n  dp[0][128] = 0;\n  rep(i,n)rep(j,256) {\n    rep(k,m) {\n      int nj = limit(j+c[k],0,255);\n      int d = x[i] - nj;\n      chmin(dp[i+1][nj], dp[i][j] + d*d);\n    }\n  }\n  int ans = INF;\n  rep(j,256) chmin(ans, dp[n][j]);\n  printf(\"%d\\n\", ans); \n}\n\nint main () {\n  while (true) {\n    cin >> n >> m;\n    if (n == 0 && m == 0) break;\n    solve();\n  }\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define LOG(...) fprintf(stderr, __VA_ARGS__)\n//#define LOG(...)\n#define FOR(i, a, b) for (int i = (int)(a); i < (int)(b); ++i)\n#define RFOR(i, a, b) for (int i = (int)(b - 1); i >= (int)(a); --i)\n#define REP(i, n) for (int i = 0; i < (int)(n); ++i)\n#define RREP(i, n) for (int i = (int)(n - 1); i >= 0; --i)\n#define ALL(a) (a).begin(), (a).end()\n#define RALL(a) (a).rbegin(), (a).rend()\n#define EXIST(s, e) ((s).find(e) != (s).end())\n#define SORT(c) sort(ALL(c))\n#define RSORT(c) sort(RALL(c))\n#define SZ(a) ((int)(a).size())\n#define BIT(x, i) (((x) >> (i)) & 1)\n#define SQ(x) ((x) * (x))\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef vector<bool> vb;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\ntypedef vector<vb> vvb;\ntypedef vector<vi> vvi;\ntypedef vector<vll> vvll;\ntypedef vector<char> vc;\ntypedef vector<vc> vvc;\ntypedef vector<string> vs;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\n\n#define INF 100000000\n\nint main() {\n    int N, M;\n    while (cin >> N >> M, N|M) {\n        vi c(M), x(N);\n        REP(i, M) cin >> c[i];\n        REP(i, N) cin >> x[i];\n\n        vvi dp(N+1, vi(256, INF));\n        dp[0][128] = 0;\n        FOR(i, 1, N+1) {\n            REP(y, 256) {\n                if (dp[i-1][y] == INF) continue;\n                REP(j, M) {\n                    int yy = max(0, min(y + c[j], 255));\n                    dp[i][yy] = min(dp[i][yy], dp[i-1][y] + SQ(x[i-1] - yy));\n                }\n            }\n        }\n        cout << *min_element(ALL(dp[N])) << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define max(a,b) ((a)>(b)?(a):(b))\n#define min(a,b) ((a)<(b)?(a):(b))\n#define abs(a) max((a),-(a))\n#define rep(i,n) for(int i=0;i<(int)(n);i++)\n#define repe(i,n) rep(i,(n)+1)\n#define per(i,n) for(int i=(int)(n)-1;i>=0;i--)\n#define pere(i,n) rep(i,(n)+1)\n#define all(x) (x).begin(),(x).end()\n#define SP <<\" \"<<\n#define RET return 0\n#define MOD 1000000007\n#define INF 1000000000\n\ntypedef long long LL;\ntypedef long double LD;\n\nint main(){\n  while(1){\n    int n,m;\n    cin >> n >> m;\n    if(n==0) return 0;\n    vector<int> c(m),x(n);\n    for(int i=0;i<m;i++) cin >> c[i];\n    for(int i=0;i<n;i++) cin >> x[i];\n    vector<vector<int>> dp(n+1,vector<int>(256,INF));\n    dp[0][128]=0;\n    for(int i=0;i<n;i++){\n      for(int j=0;j<256;j++){\n        for(int k=0;k<m;k++){\n          dp[i+1][min(max(j+c[k],0),255)]=min(dp[i+1][min(max(j+c[k],0),255)],dp[i][j]+(x[i]-min(max(j+c[k],0),255))*(x[i]-min(max(j+c[k],0),255)));\n        }\n      }\n    }\n    int ans=INF;\n    for(int i=0;i<256;i++) ans=min(ans,dp[n][i]);\n    cout << ans << endl;\n  }\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <list>\n#include <map>\n#include <set>\n#include <deque>\n#include <stack>\n#include <bitset>\n#include <algorithm>\n#include <functional>\n#include <numeric>\n#include <utility>\n#include <sstream>\n#include <iostream>\n#include <iomanip>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <cctype>\n#include <string>\n#include <cstring>\n#include <ctime>\n#include <fstream>\n#include <queue>\n\n#pragma warning( disable: 4996 )\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int, int> P;\n\n\n#define INF 1000000000\n#define EPS 1e-10\n\n#define MAX_N 20000\n#define MAX_M 16\n\nint N, M;\nint C[MAX_M];\nint x[MAX_N];\n\nll dp[MAX_N + 1][256];\n\nvector<ll> ans_list;\n\nint main() {\n\n\twhile (true){\n\t\tcin >> N >> M;\n\t\tif (N == 0 && M == 0)\n\t\t\tbreak;\n\n\t\tfor (int i = 0; i < M; i++){\n\t\t\tcin >> C[i];\n\t\t}\n\n\t\tfor (int i = 0; i < N; i++){\n\t\t\tcin >> x[i];\n\t\t}\n\n\t\tfor (int i = 0; i < N + 1; i++){\n\t\t\tfor (int j = 0; j <= 255; j++){\n\t\t\t\tdp[i][j] = INF;\n\t\t\t}\n\t\t}\n\n\t\tdp[0][128] = 0;\n\n\t\tfor (int i = 0; i < N; i++){\n\t\t\tfor (int j = 0; j <= 255; j++){\n\t\t\t\tfor (int k = 0; k < M; k++){\n\t\t\t\t\tint num = j + C[k];\n\t\t\t\t\tif (num < 0)\n\t\t\t\t\t\tnum = 0;\n\t\t\t\t\tif (num > 255)\n\t\t\t\t\t\tnum = 255;\n\t\t\t\t\tdp[i+1][num] = min(dp[i+1][num], (x[i] - num) * (x[i] - num) + dp[i][j]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tll ans = INF;\n\n\t\tfor (int i = 0; i <= 255; i++){\n\t\t\tans = min(ans, dp[N][i]);\n\t\t}\n\n\t\tans_list.push_back(ans);\n\n\t}\n\t\n\tfor (int i = 0; i < ans_list.size(); i++){\n\t\tcout << ans_list[i] << endl;\n\t}\n\t\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<math.h>\n#include<string>\n#include<algorithm>\n#include<functional>\n#include<vector>\n#include<set>\n#include<map>\n#define INF 999999999999\n#define EPS 1.0e-6\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int, int> P;\ntypedef pair<int, P> PP;\n\nint n, m;\nint c[20];\nll x[21000];\nll d[21000][260];\n\nint main()\n{\n\twhile (cin >> n >> m) {\n\t\tif (n == 0 && m == 0)return 0;\n\t\tfor (int i = 0; i < m; i++) {\n\t\t\tcin >> c[i];\n\t\t}\n\n\t\tfor (int i = 1; i <= n; i++) {\n\t\t\tcin >> x[i];\n\t\t}\n\t\tfor (int i = 0; i <= n; i++) {\n\t\t\tfor (int j = 0; j <= 256; j++) {\n\t\t\t\td[i][j] = INF;\n\t\t\t}\n\t\t}\n\t\td[0][128] = 0;\n\n\t\tfor (int i = 0; i < n ; i++) {\n\t\t\tfor (int j = 0; j <= 255; j++) {\n\t\t\t\tif (d[i][j] != INF) {\n\t\t\t\t\tfor (int k = 0; k < m; k++) {\n\t\t\t\t\t\tint l = j + c[k];\n\t\t\t\t\t\t//cout << l << endl;\n\t\t\t\t\t\tif (l < 0)d[i + 1][0] = min(d[i + 1][0], x[i + 1] * x[i + 1]);\n\t\t\t\t\t\telse if (l > 255) {\n\t\t\t\t\t\t\td[i + 1][255] = min(d[i + 1][256], d[i][j]+(x[i + 1] - 255)*(x[i + 1] - 255));\n\t\t\t\t\t\t\t//cout << d[i + 1][256] << endl;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\td[i+1][l]= min(d[i + 1][l], d[i][j] + (x[i + 1] - l)*(x[i + 1] - l));\n\t\t\t\t\t\t\t//cout << i + 1 << \" \" << j << \" \" << l << \" \" << d[i + 1][l];\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//cout << i + 1 << \" \" << j << \" \" << l << \" \" << d[i + 1][l]<<endl;\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t/*\n\t\t\tfor (int j = 0; j <= 256; j++) {\n\t\t\t\tcout << i<< \"j:\" <<j<<\" \"<<d[i][j] << endl;\n\n\t\t\t}\n\t\t\tcout << endl;\n\t\t\t*/\n\t\t\t\n\t\t}\n\t\tll ans = INF;\n\t\tfor (int i = 0; i <= 255; i++) {\n\t\t\t//cout <<\"d[n-1][i]:\"<< d[n][i] << endl;\n\t\t\tans = min(ans, d[n][i]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\nconst int INF = 1e9;\nconst ll LINF = 1e18;\ntemplate<class S,class T> ostream& operator << (ostream& out,const pair<S,T>& o){ out << \"(\" << o.first << \",\" << o.second << \")\"; return out; }\ntemplate<class T> ostream& operator << (ostream& out,const vector<T> V){ for(int i = 0; i < V.size(); i++){ out << V[i]; if(i!=V.size()-1) out << \" \";} return out; }\ntemplate<class T> ostream& operator << (ostream& out,const vector<vector<T> > Mat){ for(int i = 0; i < Mat.size(); i++) { if(i != 0) out << endl; out << Mat[i];} return out; }\ntemplate<class S,class T> ostream& operator << (ostream& out,const map<S,T> mp){ out << \"{ \"; for(auto it = mp.begin(); it != mp.end(); it++){ out << it->first << \":\" << it->second; if(mp.size()-1 != distance(mp.begin(),it)) out << \", \"; } out << \" }\"; return out; }\n\n/*\n <url:http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=2199&lang=jp>\n 問題文============================================================\n =================================================================\n 解説=============================================================\n ================================================================\n */\n\nint N,M;\nll solve(){\n    vector<ll> C(M),x(N);\n    for(auto& in:C) cin >> in;\n    for(auto& in:x) cin >> in;\n    vector<vector<ll>> dp(N+1,vector<ll>(256,LINF));\n    dp[0][128] = 0;\n    for(int i = 0; i < N;i++){\n        for(int j = 0; j < 256;j++){\n            if(dp[i][j] == LINF) continue;\n            for(int k = 0; k < M;k++){\n                ll y = j + C[k];\n                y = max(0LL,y); y = min(255LL,y);\n                dp[i+1][y] = min(dp[i+1][y],dp[i][j] + (ll)pow(y-x[i],2));\n            }\n        }\n    }\n    return *min_element(dp[N].begin(),dp[N].end());\n}\nint main(void) {\n    cin.tie(0); ios_base::sync_with_stdio(false);\n    while(cin >> N >> M,N|M){\n        cout << solve() << endl;\n    }\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#ifdef DEBUG\n#include \"../utils.cpp\"\n#endif\n#include <bits/stdc++.h>\n/*\nProblem\n\n\nCategory\nDP\n \nURL:\n\n\n考察:\n\n\n\nDate: 2020/06/01\n*/\n \n\nusing namespace std;\nusing ll = int64_t;\n#define int int64_t\n#define INF 10e9\n\n \n/* ==== declarations ====== */\n// functions\nvoid solve();\nvoid getInput();\n \n// global variables\nint N, M;\nvector<int> C;\nvector<int> X;\nvector<vector<int>> dp;\n\n//2254\n/* ======================== */\n\n\nvoid getInput() {\n    cin>>N>>M;\n    C=vector<int>(M, 0);\n    X=vector<int>(N+1, 0);\n    dp  =vector<vector<int>>(N+1, vector<int>(256, INF));\n    for(int i=0; i<M; ++i) {\n        cin>>C[i];\n    }\n    for(int i=0; i<N; ++i) {\n        cin>>X[i];\n    }\n}\n \n\nvoid solve() {\n    // print(C, X);\n    // print(dp);\n    dp[0][128]=0;\n\n    for(int i=0; i<N; ++i) {\n        for(int j=0; j<256; ++j) {\n            if (dp[i][j] == INF) continue;\n\n            for(int k=0; k<M; ++k) {\n                int nextValue = j + C[k];\n                nextValue = nextValue < 0 ? 0 : nextValue;\n                nextValue = nextValue > 255 ? 255 : nextValue;\n                int loss = pow(X[i] - nextValue, 2);\n                // print(\"loss of \", nextValue, \"is\", loss, X[i]);\n                dp[i+1][nextValue] = min(dp[i+1][nextValue], dp[i][j] + loss);\n            }\n        }\n    }\n    // print(dp);\n    int ans = INF;\n    for(auto a: dp[N]) {\n        ans = min(ans, a);\n    }\n    // print(dp);\n    cout<<ans<<endl;\n}\n \n \nsigned main(){\n    while(true){\n        getInput();\n        if (N==0 and M==0) break;\n        solve();\n    }\n    return 0;\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n\n#define INF (1 << 29)\n\n#define MAX_N 20000\n#define MAX_M 16\n\nusing namespace std;\n\nint N, M, C[MAX_M], X, dp[MAX_N + 1][256];\n\nint main()\n{\n\tfor (int i = 0; i < MAX_N + 1; i++)\n\t{\n\t\tfor (int j = 0; j < 256; j++)\n\t\t{\n\t\t\tdp[i][j] = INF;\n\t\t}\n\t}\n\n\tdp[0][128] = 0;\n\n\tcin >> N >> M;\n\n\tfor (int i = 0; i < M; i++) { cin >> C[i]; }\n\n\tfor (int i = 1; i <= N; i++)\n\t{\n\t\tcin >> X;\n\n\t\tfor (int j = 0; j < 256; j++)\n\t\t{\n\t\t\tint sabun = (X - j) * (X - j);\n\n\t\t\tfor (int k = 0; k < M; k++)\n\t\t\t{\n\t\t\t\tint ptr = j - C[k];\n\n\t\t\t\tif (ptr < 0) { ptr = 0; }\n\t\t\t\tif (ptr > 255) { ptr = 255; }\n\n\t\t\t\tdp[i][j] = min(dp[i][j], dp[i - 1][ptr] + sabun);\n\t\t\t}\n\t\t}\n\t}\n\n\tcout << *min_element(dp[N], dp[N] + 256) << endl;\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cassert>\n#include <cmath>\n#include <cstdio>\n#include <deque>\n#include <iomanip>\n#include <iostream>\n#include <map>\n#include <queue>\n#include <set>\n#include <stack>\n#include <unordered_map>\n#include <unordered_set>\n#include <utility>\n#include <vector>\nusing std::cerr;\nusing std::cin;\nusing std::cout;\nusing std::endl;\n\nint64_t Diff(int64_t a, int64_t b) {\n  // cerr << \"\\033[93m\" << a << \" \" << b << \"\\033[m\" << endl;\n  return (a - b) * (a - b);\n}\n\nint64_t Solve(int64_t n, int64_t m) {\n  std::vector<int> code(m);\n  std::vector<int> input(n);\n  for (int i = 0; i < m; i++) {\n    cin >> code[i];\n  }\n  for (int i = 0; i < n; i++) {\n    cin >> input[i];\n  }\n\n  int64_t dp[20000][256];\n  for (int i = 0; i < n; i++) {\n    for (int j = 0; j < 256; j++) {\n      dp[i][j] = INT64_MAX;\n    }\n  }\n  // init\n  for (auto c : code) {\n    int output = 128 + c;\n    if (output < 0) {\n      output = 0;\n    } else if (255 < output) {\n      output = 255;\n    }\n\n    dp[0][output] = Diff(input[0], output);\n    // cerr << \"\\033[93m\" << c << \" \" << dp[0][output] << \"\\033[m\" << endl;\n  }\n\n  for (int t = 1; t < n; t++) {\n    for (int prev_l = 0; prev_l < 256; prev_l++) {\n      if (dp[t - 1][prev_l] == INT64_MAX) continue;\n      for (auto c : code) {\n        int curr_l = prev_l + c;\n        if (curr_l < 0)\n          curr_l = 0;\n        else if (255 < curr_l)\n          curr_l = 255;\n        dp[t][curr_l] =\n            std::min(dp[t][curr_l], dp[t - 1][prev_l] + Diff(input[t], curr_l));\n      }\n    }\n  }\n\n  int64_t result = INT64_MAX;\n  for (int i = 0; i < 256; i++) {\n    result = std::min(result, dp[n - 1][i]);\n  }\n  return result;\n}\n\nint main(void) {\n  cout << std::fixed << std::setprecision(10);\n  cin.tie(0);\n  std::ios::sync_with_stdio(false);\n\n  while (1) {\n    int n, m;\n    cin >> n >> m;\n    if (n == 0 && m == 0) {\n      break;\n    }\n    cout << Solve(n, m) << endl;\n  }\n\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "\n#include <cstdio>\n#include <iostream>\n#include <vector>\n#include <map>\n#include <set>\n#include <string>\n#include <cstring>\n#include <sstream>\n#include <algorithm>\n#include <functional>\n#include <queue>\n#include <stack>\n#include <cmath>\n#include <iomanip>\n \nusing namespace std;\n\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n)  FOR(i,0,n)\n#define CLR(a) memset((a), 0 ,sizeof(a))\n#define MCLR(a) memset((a), -1 ,sizeof(a))\n#define SZ(a) (sizeof(a))\n#define FILL(a,v) fill((int*)a,(int*)(a+(SZ(a)/SZ(*(a)))),v)\n\nbool cheak(int x,int y,int xMax,int yMax)\n{return x >= 0 && y >= 0 && xMax > x && yMax > y;}\nconst int dx[4]={-1,0,1,0},dy[4]={0,1,0,-1};\nconst int INF = 2147483648/3;\ntypedef pair<int,int> P;\ntypedef long long ll;\ntypedef unsigned long long ull;\n\nconst int MAX = 20020;\nll dp[MAX][256];\n\nint main()\n{\n\tint n,m;\n\twhile(cin >> n >> m && (n || m))\n\t{\n\t\tint c[20],x[MAX];\n\t\tREP(i,m)cin >> c[i];\n\t\tREP(i,n)cin >> x[i];\n\t\t\n\t\tMCLR(dp);\n\t\tdp[0][128] = 0;\n\n\t\tREP(i,n)\n\t\tREP(j,256)\n\t\tif(dp[i][j] != -1)\n\t\tREP(k,m)\n\t\t{\n\t\t\tint tmp = j+c[k];\n\t\t\tif(tmp < 0)\n\t\t\t\ttmp = 0;\n\t\t\tif(tmp >= 256)\n\t\t\t\ttmp = 255;\n\t\t\t\n\t\t\tll val = pow(x[i]-tmp,2);\n\t\t\tif(dp[i+1][tmp] == -1 || val < dp[i+1][tmp])\n\t\t\t\tdp[i+1][tmp] = val+dp[i][j];\n\t\t}\n\n\t\tll ans = INF;\n\t\tREP(j,256)\n\t\tif(dp[n][j] != -1)\n\t\tans = min(dp[n][j],ans);\n\t\t\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <queue>\n#include <tuple>\n#include <limits>\n\nusing namespace std;\n\nint main()\n{\n\tfor(int n,m;cin>>n>>m,n|m;){\n\t\tint cs[m],xs[n];\n\t\tfor(int i=0;i<m;i++) cin>>cs[i];\n\t\tfor(int i=0;i<n;i++) cin>>xs[i];\n\t\t\n\t\tqueue<tuple<int,int,int>> q; // (index,value,sqrsum)\n\t\tq.emplace(0,128,0);\n\t\t\n\t\tint dp[n+1][256];\n\t\tfor(int i=0;i<=n;i++)\n\t\t\tfill(dp[i],dp[i]+256,numeric_limits<int>::max());\n\t\t\n\t\twhile(!q.empty()){\n\t\t\tauto cur=q.front(); q.pop();\n\t\t\tint ci=get<0>(cur),cval=get<1>(cur),csum=get<2>(cur);\n\t\t\t\n\t\t\tif(dp[ci][cval]<=csum)\n\t\t\t\tcontinue;\n\t\t\tdp[ci][cval]=csum;\n\t\t\t\n\t\t\tif(ci==n)\n\t\t\t\tcontinue;\n\t\t\t\n\t\t\tfor(int i=0;i<m;i++){\n\t\t\t\tint nval=max(min(cval+cs[i],255),0);\n\t\t\t\tint nsum=csum+(nval-xs[ci])*(nval-xs[ci]);\n\t\t\t\tq.emplace(ci+1,nval,nsum);\n\t\t\t}\n\t\t}\n\t\t\n\t\tcout<<*min_element(dp[n],dp[n]+256)<<endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define rep(i,n) for(ll i=0;i<n;i++)\n#define repl(i,l,r) for(ll i=(l);i<(r);i++)\n#define per(i,n) for(ll i=n-1;i>=0;i--)\n#define lper(i,r,l) for(ll i=r-1;i>=l;i--)\n#define fi first\n#define se second\n#define mp make_pair\n#define pb push_back\n#define ins insert\n#define pqueue(x) priority_queue<x,vector<x>,greater<x>>\n#define all(x) (x).begin(),(x).end()\n#define CST(x) cout<<fixed<<setprecision(x)\n#define vtpl(x,y,z) vector<tuple<x,y,z>>\n#define at(x,i) get<i>(x);\n#define rev(x) reverse(x);\nusing ll=long long;\nusing vl=vector<ll>;\nusing vvl=vector<vector<ll>>;\nusing pl=pair<ll,ll>;\nusing vpl=vector<pl>;\nusing vvpl=vector<vpl>;\nconst ll MOD=1000000007;\nconst ll MOD9=998244353;\nconst int inf=1e9+10;\nconst ll INF=4e18;\nconst ll dy[8]={1,0,-1,0,1,1,-1,-1};\nconst ll dx[8]={0,-1,0,1,1,-1,1,-1};\nll modfac(ll a){\n    ll ans=1;\n    while(a>1){\n        ans*=a;\n        ans%=1000000007;\n        a--;\n    }\n    return ans;\n}\nll modinv(ll a,ll m) {\n    ll b = m, u = 1, v = 0;\n    while (b) {\n        ll t = a / b;\n        a -= t * b; swap(a, b);\n        u -= t * v; swap(u, v);\n    }\n    u %= m; \n    if (u < 0) u += m;\n    return u;\n}\nstruct UnionFind {\n    vector<int> par;\n    \n    UnionFind(int n) : par(n, -1) {}\n\n    int root(int x) {\n        if (par[x] < 0) return x;\n        else return par[x] = root(par[x]);\n    }\n    \n    bool same(int x, int y) {\n        return root(x) == root(y);\n    }\n    \n    bool merge(int x, int y) {\n        x = root(x); y = root(y);\n        if (x == y) return false;\n        if (par[x] > par[y]) swap(x, y);\n        par[x] += par[y];\n        par[y] = x;\n        return true;\n    }\n    \n    int size(int x) {\n        return -par[root(x)];\n    }\n};\nll modpow(ll a, ll n, ll mod) {\n    ll res = 1;\n    while (n > 0) {\n        if (n & 1) res = res * a % mod;\n        a = a * a % mod;\n        n >>= 1;\n    }\n    return res;\n}\ntemplate<class T> inline bool chmin(T& a, T b) {\n    if (a > b) {\n        a = b;\n        return true;\n    }\n    return false;\n}\ntemplate<class T> inline bool chmax(T& a, T b) {\n    if (a < b) {\n        a = b;\n        return true;\n    }\n    return false;\n}\nint main(){\n    while(true){\n        ll n,m;cin >> n >>m;\n        if(n==0)break;\n        vl c(m),x(n);\n        rep(i,m)cin >> c[i];\n        rep(i,n)cin >> x[i];\n        vvl dp(n+1,vl(256,inf));\n        dp[0][128]=0;\n        rep(i,n){\n            rep(j,256){\n                rep(k,m){\n                    if(j+c[k]>255){\n                        chmin(dp[i+1][255],dp[i][j]+(255-x[i])*(255-x[i]));\n                        continue;\n                    }\n                     if(j+c[k]<0){\n                        chmin(dp[i+1][0],dp[i][j]+(0-x[i])*(0-x[i]));\n                        continue;\n                    }\n                    chmin(dp[i+1][j+c[k]],dp[i][j]+(j+c[k]-x[i])*(j+c[k]-x[i]));\n                }\n            }\n        }\n        ll ans=inf;\n        rep(i,256){\n            chmin(ans,dp[n][i]);\n        }\n        cout << ans <<endl;\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#define NUM 256\nusing namespace std;\n\nint main(){\n  int n,m;\n  cout << \"hello world\" << endl;\n  while(cin>>n>>m,n){\n    int dp[n+1][NUM];\n    for(int i=0;i<=n;i++)\n      for(int j=0;j<NUM;j++)\n\tdp[i][j]=1<<30;\n    dp[0][128]=0;\n    int c[20],x[n+1];\n    for(int i=0;i<m;i++)cin>>c[i];\n    for(int i=0;i<n;i++)cin>>x[i];\n    \n    for(int i=0;i<n;i++){\n      for(int j=0;j<NUM;j++){\n\tfor(int k=0;k<m;k++){\n\t  if(j+c[k]<0){\n\t    dp[i+1][0]=min(dp[i+1][0],dp[i][j] + x[i]*x[i]);\n\t  }else if(j+c[k]>255){\n\t    dp[i+1][255]=min(dp[i+1][255],dp[i][j] + (x[i]-255)*(x[i]-255));\n\t  }else{\n\t    dp[i+1][j+c[k]]=min(dp[i+1][j+c[k]],dp[i][j] + (x[i]-j-c[k])*(x[i]-j-c[k]));\n\t  }\n\t}\n      }\n    }\n    // for(int j=0;j<256;j++){\n    //   for(int i=0;i<n;i++){\n    // \tcout << dp[i][j] << \" \";\n    //   }\n    //   cout << endl;\n    // }\n\n    int res=1<<30;\n    for(int i=0;i<NUM;i++)res=min(res,dp[n][i]);\n    cout << res << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define dump(x) cout << (x) << '\\n'\n#define Int int64_t\n#define fi first\n#define se second\n#define all(x) (x).begin(), (x).end()\n\nInt INF = 1e18;\nint inf = 1e9;\nInt mod = 1e9+7;\n\nInt dp[20005][256];\n\nint main() {\n    vector<Int> res;\n    Int n, m;\n    while (cin >> n >> m and n) {\n        vector<Int> c(m);\n        for (Int i = 0; i < m; i++) {\n            cin >> c[i];\n        }\n        vector<Int> x(n);\n        for (Int i = 0; i < n; i++) {\n            cin >> x[i];\n        }\n        for (Int i = 0; i <= 20000; i++) {\n            for (Int j = 0; j < 256; j++) {\n                dp[i][j] = INF;\n            }\n        }\n        dp[0][128] = 0;\n        for (Int i = 0; i < n; i++) {\n            for (Int j = 0; j < 256; j++) {\n                for (Int k = 0; k < m; k++) {\n                    Int to = j + c[k];\n                    if (to < 0) to = 0;\n                    if (255 < to) to = 255;\n                    Int add = (x[i] - to) * (x[i] - to);\n                    dp[i + 1][to] = min(dp[i + 1][to], dp[i][j] + add);\n                }\n            }\n        }\n        Int mi = INF;\n        for (Int i = 0; i < 256; i++) {\n            mi = min(mi, dp[n][i]);\n        }\n        res.push_back(mi);\n    }\n    for (Int i = 0; i < (Int)res.size(); i++) {\n        dump(res[i]);\n    }\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cmath>\n#define int long long\nusing namespace std;\nint dp[20000][256];\nsigned main(){\n  for(int n,m;cin>>n>>m,n;){\n    int c[20000],x[20];\n    for(int i=0;i<n;i++) fill(dp[i],dp[i]+256,(int)1e9);\n    for(int i=0;i<m;i++) cin>>x[i];\n    for(int i=0;i<n;i++) cin>>c[i];\n    for(int i=0;i<m;i++) dp[0][x[i]+128]=(int)pow(x[i]+128-c[0],2);\n    for(int i=1;i<n;i++){\n      for(int j=0;j<256;j++){\n\tif(dp[i-1][j]!=(int)1e9){\n\t  for(int k=0;k<m;k++){\n\t    int num=j+x[k];\n\t    if(num<0) num=0;\n\t    if(num>255) num=255;\n\t    dp[i][num]=min(dp[i][num],dp[i-1][j]+(int)pow(c[i]-num,2));\n\t  }\n\t}\n      }\n    }\n    /*\n      for(int i=0;i<n;i++){\n      for(int j=0;j<256;j++) cout<<(dp[i][j]!=1e9?dp[i][j]:-1)<<\" \";\n      cout<<endl;\n      }*/\n    int sm=1e9;\n    for(int i=0;i<256;i++) sm=min(sm,dp[n-1][i]);\n    cout<<sm<<endl;\n  }\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n#define INF (1<<28)\nint N,M;\nint t[20000];\nint u[20000];\nint dp[20000][256];\n\nvoid init(){\n  for(int i=0;i<20000;i++)\n    for(int j=0;j<256;j++)\n      dp[i][j]=INF;\n}\n\nint calc(int a,int b){\n  if(a+b<0)return 0;\n  if(a+b>=256)return 255;\n  return a+b;\n}\n\nint dist(int a,int b){\n  return (a-b)*(a-b);\n}\n\nint main(){\n  while(1){\n    cin>>N>>M;\n    if(N==0&&M==0)break;\n    init();\n    for(int i=0;i<M;i++)cin>>t[i];\n    for(int i=0;i<N;i++)cin>>u[i];\n    for(int i=0;i<M;i++)dp[0][calc(128,t[i])]=dist(calc(128,t[i]),u[0]);\n\n    for(int i=0;i+1<N;i++){\n      for(int j=0;j<256;j++){\n\tif(dp[i][j]==INF)continue;\n\t//cout<<i<<' '<<j<<' '<<dp[i][j]<<endl;\n\tfor(int k=0;k<M;k++){\n\t  int A=calc(j,t[k]);\n\t  //cout<<A<<endl;\n\t  dp[i+1][A]=min(dp[i+1][A],dp[i][j]+dist(A,u[i+1]));\n\t  \n\t}\n      }\n    }\n    int ans=INF;\n    for(int i=0;i<256;i++)\n      ans=min(ans,dp[N-1][i]);\n    cout<<ans<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\n#include<cmath>\n#include<algorithm>\n\n#define INF 255*255*20000\nint n,m;\nint c[17],x[30000];\nint dp[20001][256];\nint main(void){\n\twhile(1){\n\t\tscanf(\"%d %d\",&n,&m);\n\t\tif(n+m==0)break;\n\t\tfor(int i=0;i<m;i++){\n\t\t\tscanf(\"%d\",&c[i]);\n\t\t}\n\t\tfor(int i=0;i<n;i++){\n\t\t\tscanf(\"%d\",&x[i]);\n\t\t}\n\t\tmemset(dp,-1,sizeof(dp));\n\t\tdp[0][128]=0;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tfor(int j=0;j<256;j++){\n\t\t\t\tif(dp[i][j]>=0){\n\t\t\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\t\t\tint nx=j+c[k];\n\t\t\t\t\t\tif(nx<0)nx=0;\n\t\t\t\t\t\tif(nx>255)nx=255;\n\t\t\t\t\t\tint np=pow(nx-x[i],2);\n\t\t\t\t\t\tif(dp[i+1][nx]>np+dp[i][j] || dp[i+1][nx]==-1){\n\t\t\t\t\t\t\tdp[i+1][nx]=np+dp[i][j];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint res=INF;\n\t\tfor(int i=0;i<256;i++){\n\t\t\tif(dp[n][i]>=0)res=std::min(res,dp[n][i]);\n\t\t}\n\t\tprintf(\"%d\\n\",res);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint\tmain()\n{\n\tint\tN, M;\n\twhile (cin >> N >> M) {\n\t\tif (N == 0 && M == 0) break;\n\t\tvector<vector<int>>\tcost(N + 1, vector<int>(256, -1));\n\t\tcost[0][128] = 0;\n\t\tvector<int>\tC_vec(M), x_vec(N);\n\t\tfor (int i = 0; i < M; ++i)\n\t\t\tcin >> C_vec.at(i);\n\t\tfor (int i = 0; i < N; ++i)\n\t\t\tcin >> x_vec.at(i);\n\t\tint\tmin_cost = -1;\n\t\tfor (int i = 0; i < N; ++i) {\n\t\t\tfor (int j = 0; j < 256; ++j) {\n\t\t\t\tif (cost[i][j] == -1) continue;\n\t\t\t\tfor (int k = 0; k < M; ++k) {\n\t\t\t\t\tint\tl = j + C_vec.at(k);\n\t\t\t\t\tif (l < 0) l = 0;\n\t\t\t\t\tif (l > 255) l = 255;\n\t\t\t\t\tint\tcost_l = (l - x_vec.at(i)) * (l - x_vec.at(i));\n\t\t\t\t\tcost_l += cost[i][j];\n\t\t\t\t\tif (cost[i + 1][l] == -1 || cost[i + 1][l] > cost_l) {\n\t\t\t\t\t\tcost[i + 1][l] = cost_l;\n\t\t\t\t\t\tif (i + 1 == N) {\n\t\t\t\t\t\t\tif (min_cost == -1 || min_cost > cost_l)\n\t\t\t\t\t\t\t\tmin_cost = cost_l;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << min_cost << endl;\n\t}\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\nconst int inf=1e8;\nint memo[20000+1][256];\n\nvoid hoge(int N, int M){\n\n   int c[M];\n   for(int i=0; i<M; i++) cin>> c[i];\n   int x[N];\n   for(int i=0; i<N; i++) cin>> x[i];\n   for(int i=0; i<N+1; i++){\n      for(int j=0; j<256; j++){\n         memo[i][j]=inf;\n      }\n   }\n\n   memo[0][128]=0;\n   for(int i=0; i<N; i++){\n      for(int j=0; j<256; j++){\n         //if(memo[i][j]==inf) continue;\n         for(int k=0; k<M; k++){\n            int p=max(0, min(255, j+c[k]));\n            memo[i+1][p]=min(memo[i][j]+(p-x[i])*(p-x[i]), memo[i+1][p]);\n         }\n      }\n   }\n   int mi=1e8;\n   for(int j=0; j<256; j++) mi=min(mi, memo[N][j]);\n   cout<< mi<< endl;\n\n}\n\n\nint main(){\n\n   while(1){\n      int N, M;\n      cin>> N>> M;\n      if(!(N||M)) break;\n      hoge(N, M);\n   }\n   return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<iomanip>\n#include<cmath>\n#include<string>\n#include<vector>\n#include<algorithm>\n#include<map>\n#include<set>\n#include<queue>\n#include<stack>\nusing namespace std;\ntypedef long long ll;\n#define fi first\n#define se second\n#define mp make_pair\nconst int inf=1e9+7;\nconst ll mod=1e9+7;\n\nint DP[256][20005];\n\nint main() {\n    int N, M;\n    vector<int> ansarr;\n    while(true){\n        cin>>N>>M;\n        if((N==0) & (M==0)) break;\n        for(int i=0;i<256;++i){\n            for(int j=0;j<20005;++j){\n                DP[i][j] = inf;\n            }\n        }\n        vector<int> C(M);\n        for(int i=0;i<M;++i){\n            cin>>C[i];\n        }\n        vector<int> x(N);\n        for(int i=0;i<N;++i){\n            cin>>x[i];\n        }\n        for(int i=0;i<M;++i){\n            if(128 + C[i] <= 0){\n                DP[0][0] = x[0] * x[0];\n            }\n            else if(128 + C[i] >= 255){\n                DP[255][0] = (255 - x[0]) * (255 - x[0]);\n            }\n            else {\n                DP[128+C[i]][0] = (128+C[i]-x[0])*(128+C[i]-x[0]);\n            }\n        }\n        for(int i=0;i<N-1;++i){\n            for(int j=0;j<256;++j){\n                for(int k=0;k<M;++k){\n                    if(j+C[k]<=0) {\n                        DP[0][i+1] = min(DP[0][i+1], DP[j][i] + x[i+1] * x[i+1]);\n                    }\n                    else if(j+C[k]>=255) {\n                        DP[255][i+1] = min(DP[255][i+1], DP[j][i] + (255 - x[i+1]) * (255 - x[i+1]));\n                    }\n                    else {\n                        DP[j+C[k]][i+1] = min(DP[j+C[k]][i+1], DP[j][i] + (j + C[k] - x[i+1]) * (j + C[k] - x[i+1]));\n                    }\n                }\n            }\n        }\n        /**\n        for(int i=0;i<256;++i){\n            for(int j=0;j<N;++j){\n                cout<<DP[i][j]<<\" \";\n            }\n            cout<<endl;\n        }\n        cout<<endl;\n        **/\n        int ans = inf;\n        for(int i=0;i<256;++i){\n            ans = min(ans, DP[i][N-1]);\n        }\n        ansarr.push_back(ans);\n    }\n    for(int i=0;i<ansarr.size();++i){\n        cout<<ansarr[i]<<endl;\n    }\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <climits>\nint square(int x){\n\treturn x * x;\n}\nint main()\n{\n\tusing namespace std;\n\tint N, M, i, j, c, k, v, y, sub_sq, min;\n\tvector <int> C, x;\n\twhile (true)\n\t{\n\t\tcin >> N >> M;\n\t\tif (N == 0 and M == 0) break;\n\t\tvector < vector<int> > dp(N+1);\n\t\tC.resize(M); x.resize(N);\n\t\tfor (i=0;i<=N;i++){dp[i].resize(256); for (j=0;j<256;j++) dp[i][j] = INT_MAX;}\n\t\tfor (i=0;i<M;i++) cin >> C[i];\n\t\tfor (i=0;i<N;i++) cin >> x[i];\n\t\tdp[0][128] = 0;\n\t\tfor(i = 0; i < N; i++)\n\t\t{\n\t\t\tfor (k = 0; k < 256; k++)\n\t\t\t{\n\t\t\t\tv = dp[i][k];\n\t\t\t\tif (v == INT_MAX) continue; \n\t\t\t\tfor(j = 0; j < M; j++)\n\t\t\t\t{\n\t\t\t\t\tc = C[j];\n\t\t\t\t\tif (k + c > 255) y = 255; else if (k + c < 0) y = 0; else y = k + c;\n\t\t\t\t\tsub_sq = square(x[i]-y);\n\t\t\t\t\tif(v + sub_sq < dp[i+1][y]) dp[i+1][y] = v + sub_sq;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tmin = INT_MAX;\n\t\tfor(k = 0; k < 256; k++) min = min <= dp[N][k] ? min : dp[N][k];  \n\t\tcout << min << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n#define rep(i, n) for ( int i = 0; i < n; i++ )\n#define NMAX 20001\n#define MMAX 16\n#define INFTY (1<<21)\nint N, M, C[MMAX], X[NMAX], T[256][NMAX];\n\nint compute(){\n    rep(i, 256) rep(j, N+1) T[i][j] = INFTY;\n    T[128][0] = 0;\n    rep(j, N){\n\trep(i,256){\n\t    if ( T[i][j] == INFTY ) continue;\n\t    rep(k, M){\n\t\tint p = i + C[k];\n\t\tif ( p > 255 ) p = 255;\n\t\tif ( p < 0 ) p = 0;\n\t\tT[p][j+1] = min(T[p][j+1], T[i][j] + (X[j+1]-p)*(X[j+1]-p));\n\t    }\n\t}\n    }\n    int minv = INFTY;\n    rep(i, 256) minv = min(minv, T[i][N]);\n    return minv;\n}\n\nmain(){\n    while(cin >> N >> M && N ){\n\trep(i, M) cin >> C[i];\n\trep(i, N) cin >> X[i+1];\n\tcout << compute() << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing ll = long long;\nusing P = pair<int, int>;\n\n#define rep(i, n) for (int i = 0; i < n; ++i)\n#pragma region Debug\ntemplate <typename T>\nvoid view(const std::vector<T> &v)\n{\n    for (const auto &e : v)\n    {\n        std::cout << e << \" \";\n    }\n    std::cout << std::endl;\n}\ntemplate <typename T>\nvoid view(const std::vector<std::vector<T>> &vv)\n{\n    for (const auto &v : vv)\n    {\n        view(v);\n    }\n}\n#pragma endregion\n#pragma region chminmax\ntemplate <typename T>\ninline bool chmin(T &a, T b)\n{\n    if (a > b)\n    {\n        a = b;\n        return true;\n    }\n    return false;\n}\ntemplate <typename T>\ninline bool chmax(T &a, T b)\n{\n    if (a < b)\n    {\n        a = b;\n        return true;\n    }\n    return false;\n}\n#pragma endregion\n\nint main()\n{\n    int n, m;\n    cin >> n >> m;\n    do\n    {\n        vector<int> c(m);\n        rep(i, m) cin >> c[i];\n        vector<int> x(n);\n        rep(i, n) cin >> x[i];\n\n        vector<vector<ll>> dp(n + 1, vector<ll>(256, INT32_MAX));\n        dp[0][128] = 0;\n        rep(i, n) rep(j, m) rep(k, 256)\n        {\n            int p = min(255, max(0, k + c[j]));\n            ll d = x[i] - p;\n\n            chmin(dp[i + 1][p], dp[i][k] + d * d);\n        }\n\n        ll ans = min_element(dp[n].begin(), dp[n].end())[0];\n\n        cout << ans << endl;\n        cin >> n >> m;\n    } while (n != 0 && m != 0);\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\n\nint c[30],x[30000];\nint dp[300000][256];\n\nint sq(int x) {\n    return x*x;\n}\nint add(int x, int y) {\n    return max(0, min(255, x+y));\n}\nint main(void) {\n    while(1) {\n        int n,m;\n        scanf(\"%d%d\",&n,&m);\n        if(!n) break;\n        memset(dp, 0x6F, sizeof(dp));\n\n        for(int i=0; i<m; i++)\n            scanf(\"%d\",&c[i]);\n        for(int i=0; i<n; i++)\n            scanf(\"%d\",&x[i]);\n\n        for(int i=0; i<256; i++)\n            dp[0][i] = 0xFFFFFF;\n        dp[0][128] = 0;\n\n        for(int i=0; i<n; i++)\n            for(int j=0; j<256; j++)\n                for(int k=0; k<m; k++)\n                    dp[i+1][add(j,c[k])] = min(dp[i+1][add(j,c[k])], dp[i][j] + sq(x[i]-add(j,c[k])));\n\n        int res=0xFFFFFF;\n        for(int j=0; j<256; j++)\n            res = min(res, dp[n][j]);\n\n        printf(\"%d\\n\", res);\n\n    }\n    return 0;\n}\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\n\nint c[30],x[30000];\nint dp[300000][256];\n\nint sq(int x) {\n    return x*x;\n}\nint add(int x, int y) {\n    return max(0, min(255, x+y));\n}\nint main(void) {\n    while(1) {\n        int n,m;\n        scanf(\"%d%d\",&n,&m);\n        if(!n) break;\n        memset(dp, 0x6F, sizeof(dp));\n\n        for(int i=0; i<m; i++)\n            scanf(\"%d\",&c[i]);\n        for(int i=0; i<n; i++)\n            scanf(\"%d\",&x[i]);\n\n        for(int i=0; i<256; i++)\n            dp[0][i] = 0xFFFFFF;\n        dp[0][128] = 0;\n\n        for(int i=0; i<n; i++)\n            for(int j=0; j<256; j++)\n                for(int k=0; k<m; k++)\n                    dp[i+1][add(j,c[k])] = min(dp[i+1][add(j,c[k])], dp[i][j] + sq(x[i]-add(j,c[k])));\n\n        int res=0xFFFFFF;\n        for(int j=0; j<256; j++)\n            res = min(res, dp[n][j]);\n\n        printf(\"%d\\n\", res);\n\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "//Yattazo! Watashiha-Yosen-tsuukashita! It's 460points/600points! OHO!!!!!\n#include<iostream>\n#include<algorithm>\n#include<cmath>\nusing namespace std;\nint x[64000][256],n,m,y[64000],z[64000],d,minx;\nint main(){\n\twhile(true){\n\t\tminx=2000000000;\n\t\tfor(int i=0;i<64000;i++){for(int j=0;j<256;j++){x[i][j]=2000000000;}}\n\t\tcin>>n>>m;if(!n){break;}\n\t\tfor(int i=0;i<m;i++){cin>>y[i];}\n\t\tfor(int i=1;i<=n;i++){cin>>z[i];}\n\t\tx[0][128]=0;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tfor(int j=0;j<256;j++){\n\t\t\t\tif(x[i-1][j]<1000000000){\n\t\t\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\t\t\td=y[k]+j;\n\t\t\t\t\t\tif(d<0){d=0;}\n\t\t\t\t\t\tif(d>255){d=255;}\n\t\t\t\t\t\tx[i][d]=min(x[i][d],x[i-1][j]+(int)pow(1.0*(z[i]-d),2));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor(int i=0;i<256;i++){minx=min(minx,x[n][i]);}\n\t\tcout<<minx<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "\n#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <climits>\n#include <cfloat>\n#include <cstring>\n#include <map>\n#include <utility>\n#include <set>\n#include <iostream>\n#include <memory>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <functional>\n#include <sstream>\n#include <complex>\n#include <stack>\n#include <queue>\n#include <unordered_set>\n#include <unordered_map>\n#include <array>\nusing namespace std;\n\nconst int INF = 987654321;\n\nint main(void)\n{\n\tfor (;;)\n\t{\n\t\tint n, m;\n\t\tcin >> n >> m;\n\t\tif (!n)break;\n\t\tvector<int>c;\n\t\tfor (int i = 0; i < m; ++i)\n\t\t{\n\t\t\tint cc; cin >> cc;\n\t\t\tc.push_back(cc);\n\t\t}\n\t\tarray<int, 256>dp;\n\t\tfill(dp.begin(), dp.end(), INF);\n\t\tdp[128] = 0;\n\t\tfor (int i = 1; i <= n; ++i)\n\t\t{\n\t\t\tarray<int, 256>ndp;\n\t\t\tfill(ndp.begin(), ndp.end(), INF);\n\t\t\tint x;\n\t\t\tcin >> x;\n\t\t\tfor (int val = 0; val < 256; ++val)\n\t\t\t{\n\t\t\t\tif (val == 0)\n\t\t\t\t{\n\t\t\t\t\tint gap = -1;\n\t\t\t\t\tfor (int ck : c)gap = max(gap, -ck);\n\t\t\t\t\tfor (int old = 0; old <= gap; ++old)\n\t\t\t\t\t{\n\t\t\t\t\t\tndp[val] = min(ndp[val], dp[old] + (x - val) * (x - val));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (val == 255)\n\t\t\t\t{\n\t\t\t\t\tint gap = -1;\n\t\t\t\t\tfor (int ck : c)gap = max(gap, ck);\n\t\t\t\t\tfor (int old = 255 - gap; old < 256; ++old)\n\t\t\t\t\t{\n\t\t\t\t\t\tndp[val] = min(ndp[val], dp[old] + (x - val) * (x - val));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor (int ck : c)\n\t\t\t\t{\n\t\t\t\t\tint old = val - ck;\n\t\t\t\t\tif (old < 0)old = 0;\n\t\t\t\t\tif (old >= 256)old = 255;\n\t\t\t\t\tndp[val] = min(ndp[val], dp[old] + (x - val) * (x - val));\n\t\t\t\t}\n\t\t\t}\n\t\t\tdp = ndp;\n\t\t}\n\t\tint ans = INF;\n\t\tfor (int can : dp)\n\t\t{\n\t\t\tans = min(ans, can);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <iostream>\n#include <utility>\n#include <algorithm>\n#include <string>\n#include <deque>\n#include <queue>\n#include <tuple>\n#include <queue>\n#include <functional>\n#include <cmath>\n#include <iomanip>\n#include <map>\n#include <set>\n#include <numeric>\n#include <unordered_map>\n#include <unordered_set>\n#include <complex>\n#include <iterator>\n#include <array>\n#include <memory>\n//cin.sync_with_stdio(false);\n//streambuf\nusing namespace std;\ntypedef long long ll;\ntypedef long double ld;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\ntypedef pair<double, double> pdd;\nusing vi = vector<int>;\nusing vll = vector<ll>;\nusing vpii = vector<pii>;\nusing vpll = vector<pll>;\nusing ti3 = tuple<int, int, int>;\nusing vti3 = vector<ti3>;\ntemplate<class T, int s>using va = vector<array<T, s>>;\ntemplate<class T, class T2> using umap = unordered_map<T, T2>;\ntemplate<class T> using uset = unordered_set<T>;\ntemplate<class T, class S> void cmin(T &a, const S &b) { if (a > b)a = b; }\ntemplate<class T, class S> void cmax(T &a, const S &b) { if (a < b)a = b; }\n#define ALL(a) a.begin(),a.end()\n#define rep(i,a) for(int i=0;i<a;i++)\n#define rep1(i,a) for(int i=1;i<=a;i++)\n#define rrep(i,a) for(int i=(a)-1;i>=0;i--)\n#define rrep1(i,a) for(int i=a;i;i--)\nconst ll mod = 1000000007;\n#define REP rep\ntemplate<class T>using heap = priority_queue<T, vector<T>, greater<T>>;\ntemplate<class T>using pque = priority_queue<T, vector<T>, function<T(T, T)>>;\ntemplate <class T>\ninline void hash_combine(size_t & seed, const T & v) {\n\thash<T> hasher;\n\tseed ^= hasher(v) + 0x9e3779b9 + (seed << 6) + (seed >> 2);\n}\nnamespace std {\n\ttemplate<typename S, typename T> struct hash<pair<S, T>> {\n\t\tinline size_t operator()(const pair<S, T> & v) const {\n\t\t\tsize_t seed = 0;\n\t\t\thash_combine(seed, v.first);\n\t\t\thash_combine(seed, v.second);\n\t\t\treturn seed;\n\t\t}\n\t};\n\t// Recursive template code derived from Matthieu M.\n\ttemplate <class Tuple, size_t Index = std::tuple_size<Tuple>::value - 1>\n\tstruct HashValueImpl{\n\t\tstatic void apply(size_t& seed, Tuple const& tuple){\n\t\t\tHashValueImpl<Tuple, Index - 1>::apply(seed, tuple);\n\t\t\thash_combine(seed, std::get<Index>(tuple));\n\t\t}\n\t};\n\ttemplate <class Tuple>\n\tstruct HashValueImpl<Tuple, 0>{\n\t\tstatic void apply(size_t& seed, Tuple const& tuple){\n\t\t\thash_combine(seed, std::get<0>(tuple));\n\t\t}\n\t};\n\ttemplate <typename ... TT>\n\tstruct hash<std::tuple<TT...>>{\n\t\tsize_t operator()(std::tuple<TT...> const& tt) const{\n\t\t\tsize_t seed = 0;\n\t\t\tHashValueImpl<std::tuple<TT...> >::apply(seed, tt);\n\t\t\treturn seed;\n\t\t}\n\t};\n}\ntemplate<class T>int id(vector<T> &a, T b) {\n\treturn lower_bound(ALL(a), b) - a.begin();\n}\nll pow(ll base, ll i, ll mod) {\n\tll a = 1;\n\twhile (i) {\n\t\tif (i & 1) {\n\t\t\ta *= base;\n\t\t\ta %= mod;\n\t\t}\n\t\tbase *= base;\n\t\tbase %= mod;\n\t\ti /= 2;\n\t}\n\treturn a;\n}\nll gcd(ll a, ll b) {\n\twhile (b) {\n\t\tll c = a%b;\n\t\ta = b;\n\t\tb = c;\n\t}\n\treturn a;\n}\nll lcm(ll a, ll b) {\n\treturn a / gcd(a, b)*b;\n}\nint popcnt(unsigned long long a) {\n\ta = (a & 0x5555555555555555) + (a >> 1 & 0x5555555555555555);\n\ta = (a & 0x3333333333333333) + (a >> 2 & 0x3333333333333333);\n\ta = (a & 0x0f0f0f0f0f0f0f0f) + (a >> 4 & 0x0f0f0f0f0f0f0f0f);\n\ta = (a & 0x00ff00ff00ff00ff) + (a >> 8 & 0x00ff00ff00ff00ff);\n\ta = (a & 0x0000ffff0000ffff) + (a >> 16 & 0x0000ffff0000ffff);\n\treturn (a & 0xffffffff) + (a >> 32);\n}\nclass unionfind {\n\tvector<int> par, rank, size_;//????????§??????????????¢???????????????????????????rank???????????????size?????????\npublic:\n\tunionfind(int n) :par(n), rank(n), size_(n, 1) {\n\t\tiota(ALL(par), 0);\n\t}\n\tint find(int x) {\n\t\tif (par[x] == x)return x;\n\t\treturn par[x] = find(par[x]);\n\t}\n\tvoid unite(int x, int y) {\n\t\tx = find(x), y = find(y);\n\t\tif (x == y)return;\n\t\tif (rank[x] < rank[y])swap(x, y);\n\t\tpar[y] = x;\n\t\tsize_[x] += size_[y];\n\t\tif (rank[x] == rank[y])rank[x]++;\n\t}\n\tbool same(int x, int y) {\n\t\treturn find(x) == find(y);\n\t}\n\tint size(int x) {\n\t\treturn size_[find(x)];\n\t}\n};\ntemplate<class T, class Func = function<T(T, T)>>\nclass segtree {\n\tvector<T> obj;\n\tint offset;\n\tFunc updater;\n\tT e;\n\tint bufsize(int num) {\n\t\tint i = 1;\n\t\tfor (; num >i; i <<= 1);\n\t\toffset = i - 1;\n\t\treturn (i << 1) - 1;\n\t}\n\tT query(int a, int b, int k, int l, int r) {\n\t\tif (r <= a || b <= l)return e;\n\t\tif (a <= l && r <= b)return obj[k];\n\t\telse return updater(query(a, b, k * 2 + 1, l, (l + r) / 2), query(a, b, k * 2 + 2, (l + r) / 2, r));\n\t}\n\ttemplate<class QF = function<T(T, T)>>\n\tauto query(int a, int b, int k, int l, int r,QF qf) {\n\t\tif (r <= a || b <= l)return e;\n\t\tif (a <= l && r <= b)return obj[k];\n\t\telse return qf(query(a, b, k * 2 + 1, l, (l + r) / 2, qf), query(a, b, k * 2 + 2, (l + r) / 2, r, qf));\n\t}\npublic:\n\tT query(int a, int b) {//[a,b)\n\t\treturn query(a, b, 0, 0, offset + 1);\n\t}\n\ttemplate<class QF = function<T(T, T)>>\n\tauto query(int a, int b,QF &&qf) {//[a,b)\n\t\treturn query(a, b, 0, 0, offset + 1,qf);\n\t}\n\tvoid updateall(int l = 0, int r = -1) {\n\t\tif (r < 0)r = offset + 1;\n\t\tl += offset, r += offset;\n\t\tdo {\n\t\t\tl = l - 1 >> 1, r = r - 1 >> 1;\n\t\t\tfor (int i = l; i < r; i++)obj[i] = updater(obj[i * 2 + 1], obj[i * 2 + 2]);\n\t\t} while (l);\n\t}\n\tvoid update(int k, T &a) {\n\t\tk += offset;\n\t\tobj[k] = a;\n\t\twhile (k) {\n\t\t\tk = k - 1 >> 1;\n\t\t\tobj[k] = updater(obj[k * 2 + 1], obj[k * 2 + 2]);\n\t\t}\n\t}\n\tsegtree(int n, T e, const Func &updater = Func()) :obj(bufsize(n), e), e(e), updater(updater) {}\n\tsegtree(vector<T> &vec, T e, const Func &updater = Func()) :obj(bufsize(vec.size()), e), e(e), updater(updater) {\n\t\tcopy(vec.begin(), vec.end(), obj.begin() + offset);\n\t\tupdateall();\n\t}\n\ttypename vector<T>::reference operator[](int n) {\n\t\treturn obj[n + offset];\n\t}\n};\ntemplate<class T = int>\nclass BIT {//????¬????BIT????????????????????????????????°??????????????????\n\tvector<T> bit;\n\tint n;\npublic:\n\tBIT(int n) :bit(n + 1, 0) {}\n\tvoid add(int i, T x) {\n\t\ti++;\n\t\twhile (i <= n) {\n\t\t\tbit[i] += x;\n\t\t\ti += i&-i;\n\t\t}\n\t}\n\tT sum(int i) {\n\t\tT s = 0;\n\t\ti++;\n\t\twhile (i) {\n\t\t\ts += bit[i];\n\t\t\ti &= i - 1;\n\t\t}\n\t\treturn s;\n\t}\n};\ntemplate<class T = int>\nclass rangeadd {\n\tBIT<T> b0, b1;\npublic:\n\trangeadd(int n) :b0(n), b1(n) {};\n\tvoid add(int l, int r, T x) {//[l,r)\n\t\tb0.add(l, -x*(l - 1));\n\t\tb1.add(l, x);\n\t\tb0.add(r, x*r);\n\t\tb1.add(r, -x);\n\t}\n\tT sum(int i) {\n\t\tif (i < 0)return 0;\n\t\treturn b0.sum(i) + b1.sum(i)*i;\n\t}\n\tT sum(int l,int r) {\n\t\treturn sum(r - 1) - sum(l - 1);\n\t}\n};\n//end of lib\n//template<class S=void,int ptr_num, class T = char>class trie {\n//\tumap<T, trie<S, ptr_num, T> next;\n//public:\n//\tS key;\n//\ttrie<S, ptr_num, T>* ptr[ptr_num] = {};\n//\ttrie(S &&data) :key(data) {}\n//\ttrie(const S &data) :key(data) {}\n//\tvoid add(T x,S data) {\n//\t\tif (!next.find(x))next.insert(x, data);\n//\t}\n//\ttrie& operator[](T x) {\n//\t\treturn next[x];\n//\t}\n//\tbool find(T x) {\n//\t\tretun next.find(x);\n//\t}\n//};\n//template<class T=char>class AhoCorasick {\n//\ttrie<pair<bool,int>, 2, T> tree;\n//\tAhoCorasick(vector<string> p) {\n//\t\tint num = 0;\n//\t\tvector<decltype(&tree)> que(p.size(),&tree);\n//\t\tfor (int i = 0;; i++) {\n//\t\t\tbool end = 1;\n//\t\t\tint i = 0;\n//\t\t\tfor (auto a : p) {\n//\t\t\t\tif (i >= a.size())break;\n//\t\t\t\tend = ;0\n//\t\t\t\tque[i] = (*que[i])[a[i]];\n//\t\t\t\ti++;\n//\t\t\t}\n//\t\t\tif (end)break;\n//\t\t}\n//\t}\n//};\nint main() {\n\tint n, m;\n\twhile (cin >> n >> m, n) {\n\t\tvi c(m), x(n);\n\t\trep(i, m)cin >> c[i];\n\t\trep(i, n)cin >> x[i];\n\t\tvector<vi> dp(2, vi(256, 2e9));\n\t\tdp[0][128] = 0;\n\t\trep(i, n){\n\t\t\tfill(ALL(dp[(i + 1) & 1]), 2e9);\n\t\t\trep(j, m)rep(k, 256) {\n\t\t\t\tint a = min(255, max(0, k + c[j]));\n\t\t\t\tcmin(dp[(i + 1) & 1][a], dp[i & 1][k] + (a - x[i])*(a - x[i]));\n\t\t\t}\n\t\t}\n\t\tcout << *min_element(ALL(dp[n & 1])) << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\n#include<vector>\n#include<deque>\n#include<string>\n#include<iostream>\nusing namespace std;\n//AOJ2199\nbool solve(void){//?????°???????????????????????????\n\tint N,M,i,j,k,q;\n\tconst long long int big=1919114514;// >20000*256*256\n\tlong long int ans=big;\n\tvector<int>cod;\n\tlong long int dp[256];\n\tlong long int ddp[256];\n\tfor(i=0;i<=127;i++){dp[i]=big;}\n\tdp[128]=0;\n\tfor(i=129;i<256;i++){dp[i]=big;}\n\tscanf(\"%d %d\",&N,&M);\n\tif(N*M==0){return false;}\n\tfor(i=0;i<M;i++){\n\t\tscanf(\"%d\",&q);\n\t\tcod.push_back(q);\n\t}\n\tfor(i=0;i<N;i++){\n\t\tscanf(\"%d\",&q);\n\t\tfor(j=0;j<256;j++){\n\t\t\tfor(k=0;k<cod.size();k++){\n\t\t\t\tddp[min(255,max(j+cod[k],0))]=min(ddp[min(255,max(j+cod[k],0))],dp[j]);\n\t\t\t}\n\t\t}\n\t\tfor(j=0;j<256;j++){\n\t\t\tdp[j]=ddp[j]+(q-j)*(q-j);\n\t\t\tddp[j]=big;\n\t\t}\n\t}\n\tfor(j=0;j<256;j++){\n\t\tans=min(ans,dp[j]);\n\t}\n\tprintf(\"%lld\\n\",ans);\n\treturn true;\n}\nint main(void){while(solve()){}return 0;}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n\n#define NMAX 20000\n#define MMAX 16\n#define INF 100000000000000\nusing namespace std;\n\nint N,M;\nint cb[MMAX];\nint sa[NMAX];\nlong long dp[NMAX][256];\n\nlong long dfs(long long n,long long d,long long k){\n\tif(dp[d][k]!=-1&&dp[d][k]<=n) return dp[d][k];\n\tif(d==N) return n;\n\tlong long a=INF;\n\tint kk;\n\tfor(int i=0;i<M;i++){\n\t\tkk=k+cb[i];\n\t\tif(kk>255) kk=255;\n\t\tif(kk<0) kk=0;\n\t\ta=min(a,dfs(n+(kk-sa[d])*(kk-sa[d]),d+1,k+cb[i]));\n\t}\n\tif(dp[d][k]!=-1) dp[d][k]=min(a,dp[d][k]);\n\telse dp[d][k]=a;\n\treturn a;\n}\n\nint main(void){\n\n\tstd::ios_base::sync_with_stdio();\n\n\twhile(1){\n\n\t\tcin>>N>>M;\n\t\tif(N==0&&M==0) break;\n\n\t\tfor(int i=0;i<M;i++){\n\t\t\tcin>>cb[i];\n\t\t}\n\t\tfor(int i=0;i<N;i++){\n\t\t\tcin>>sa[i];\n\t\t}\n\t\tfor(int i=0;i<NMAX;i++){\n\t\t\tfor(int j=0;j<256;j++){\n\t\t\t\tdp[i][j]=-1;\n\t\t\t}\n\t\t}\n\t\tcout<<dfs(0,0,128)<<endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <map>\n#include <set>\n#include <stack>\n#include <queue>\n#include <algorithm>\n#include <utility>\n#include <functional>\n#include <sstream>\n#include <iostream>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <cctype>\n#include <string>\n#include <cstring>\n#include <ctime>\n#include <climits>\nusing namespace std;\ninline int toInt(string s) { int v; istringstream sin(s); sin >> v; return v;}\ntemplate<class T> inline string toString(T x) { ostringstream sout; sout << x; return sout.str();}\ntypedef vector<int> vi;\ntypedef vector<vi>  vvi;\ntypedef vector<string> vs;\ntypedef pair<int, int> pii;\ntypedef long long ll;\n#define ALL(a) (a).begin(),(a).end()\n#define RALL(a) (a).rbegin(),(a).rend()\n#define EACH(t,i,c) for(t::iretator i=(c).begin(); i!=(c).end(); ++i)\n#define EXIST(s,e) ((s).find(e)!=(s).end())\n#define FOR(i,a,b) for(int i=(a);i<=(b);++i)\n#define REP(i,n) FOR(i,0,(n)-1)\nconst double EPS = 1e-12;\nconst double PI = acos(-1.0);\n\nconst int INF = INT_MAX/10;\n\nint main() {\n\tint N, M;\n\twhile(cin >> N >> M, N) {\n\t\tvi C(M);\n\t\tREP(i, M) {\n\t\t\tcin >> C[i];\n\t\t}\n\n\t\tvvi dp(N+1, vi(256, INF));\n\t\tdp[0][128] = 0;\n\t\tint x;\n\t\tFOR(i, 1, N) {\n\t\t\tcin >> x;\n\t\t\tREP(j, 256) {\n\t\t\t\tREP(k, M) {\n\t\t\t\t\tint nx = j + C[k];\n\t\t\t\t\tnx = min(nx, 255);\n\t\t\t\t\tnx = max(0, nx);\n\t\t\t\t\tdp[i][nx] = min(dp[i][nx], dp[i-1][j] + (nx-x)*(nx-x));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tint ans = INF;\n\t\tREP(i, 256) {\n\t\t\tans = min(ans, dp[N][i]);\n\t\t}\n\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\nusing ll    =long long;    using dd   =double;        using pll    =pair<ll, ll>;  using tll    =tuple<ll,ll,ll>;\nusing vll   =vector<ll>;   using vdd  =vector<dd>;    using vpll   =vector<pll>;   using vtll   =vector<tll>;\nusing vvll  =vector<vll>;  using vvdd =vector<vdd>;   using vvpll  =vector<vpll>;  using vvtll  =vector<vtll>;\nusing vvvll =vector<vvll>; using vvvdd=vector<vvdd>;  using vvvpll =vector<vvpll>; using vvvtll =vector<vvtll>;\nusing vvvvll=vector<vvvll>;using vvvvdd=vector<vvvdd>;using vvvvpll=vector<vvvpll>;using vvvvtll=vector<vvvtll>;\n\nconstexpr ll INF = 1LL << 60;\nconstexpr dd EPS = 1e-11;\n\n//cin,cout高速化のおまじない＋桁数指定\nstruct Fast{\n\tFast(){\n\t\tcin.tie(0);\n\t\tios::sync_with_stdio(false);\n\t\tcout << fixed << setprecision(std::numeric_limits<double>::max_digits10);\n\t}\n} fast;\n\n#define REPS(i, S, E) for (ll i = (S); i <= (E); i++)\n#define rep(i, S, E) REPS(i, S, E)\n#define REP(i, N) REPS(i, 0, (N)-1)\n#define DEPS(i, S, E) for (ll i = (E); i >= (S); i--)\n#define dep(i, S, E) DEPS(i, S, E)\n#define DEP(i, N) DEPS(i, 0, (N)-1)\n#define EACH(e, v) for (auto&& e : v)\n\ntemplate<class T> inline bool chmax(T &a, T b) { if (a < b) { a = b; return true; }return false; }\ntemplate<class T> inline bool chmin(T &a, T b) { if (a > b) { a = b; return true; }return false; }\ntemplate<class T> inline T MaxE(vector<T>&v,ll S,ll E){T m=v[S]; REPS(i,S,E)chmax(m,v[i]); return m;}//v[S]～v[E]の最大値\ntemplate<class T> inline T MinE(vector<T>&v,ll S,ll E){T m=v[S]; REPS(i,S,E)chmin(m,v[i]); return m;}//v[S]～v[E]の最小値\ntemplate<class T> inline T MaxE(vector<T> &v, ll N) { return MaxE(v, 0, N - 1); } //先頭N個中の最大値\ntemplate<class T> inline T MinE(vector<T> &v, ll N) { return MinE(v, 0, N - 1); }\ntemplate<class T> inline T MaxE(vector<T> &v) { return MaxE(v, (ll)v.size()); }\ntemplate<class T> inline T MinE(vector<T> &v) { return MinE(v, (ll)v.size()); }\ntemplate<class T> inline ll MaxI(vector<T>&v,ll S,ll E){ll m=S; REPS(i,S,E){if(v[i]>v[m])m=i;} return m;}\ntemplate<class T> inline ll MinI(vector<T>&v,ll S,ll E){ll m=S; REPS(i,S,E){if(v[i]<v[m])m=i;} return m;}\ntemplate<class T> inline ll MaxI(vector<T> &v, ll N) { return MaxI(v, 0, N - 1); }\ntemplate<class T> inline ll MinI(vector<T> &v, ll N) { return MinI(v, 0, N - 1); }\ntemplate<class T> inline ll MaxI(vector<T> &v) { return MaxI(v, (ll)v.size()); }\ntemplate<class T> inline ll MinI(vector<T> &v) { return MinI(v, (ll)v.size()); }\ntemplate<class T> inline T Sum(vector<T> &v, ll S,ll E){ T s=v[S]; REPS(i,S+1,E)s+=v[i]; return s; }\ntemplate<class T> inline T Sum(vector<T> &v, ll N) { return Sum(v, 0, N - 1); }\ntemplate<class T> inline T Sum(vector<T> &v) { return Sum(v, v.size()); }\ntemplate<class T> inline T POW(T a, ll n){ T r=1; for (; n>0; n>>=1, a*=a){ if (n&1)r*=a; } return r; }\ninline ll POW(int a, ll n){ return POW((ll)a, n); }\ninline ll MSB(ll a){for(ll o=63,x=-1;;){ll m=(o+x)/2; if(a<(1LL<<m))o=m; else x=m; if(o-x==1)return x;}}\ninline ll CEIL(ll a, ll b){ return (a+b-1)/b; }\nll Gcd(ll a, ll b){ return (b==0) ? a : Gcd(b, a%b); }\nll Lcm(ll a, ll b){ return a * b / Gcd(a, b); }\ninline vll Mask2Idx(ll m){vll v; for(ll i=0;m;m>>=1,i++) if(m&1)v.push_back(i); return move(v);}\ninline ll BitNum(ll m){ for (ll c=0;; m>>=1){ c+=m&1; if (!m)return c; } }\ninline ll Bit(ll s, ll i){ return (s>>i)&1; } //sの第ibit i=0-63\ninline ll BitOn(ll s, ll i){ return s|(1LL<<i); } //sの第ibitON i=0-63\ninline ll BitOff(ll s, ll i){ return s&~(1LL<<i); } //sの第ibitOFF i=0-63\ntemplate<class T> inline ll UnderNumOf(vector<T> &v, T x){ //sort済vのx以下の個数を得る\n\treturn upper_bound(v.begin(), v.end(), x) - v.begin(); }\ntemplate<class T, class Pr> inline ll UnderNumOf(vector<T> &v, T x, Pr pred){ //x以下個数\n\treturn upper_bound(v.begin(), v.end(), x, pred) - v.begin(); }\ntemplate<class T> inline ll OverNumOf(vector<T> &v, T x){ //sort済vのx以上の個数を得る\n\treturn (ll)v.size() - (lower_bound(v.begin(), v.end(), x) - v.begin()); }\ntemplate<class T, class Pr> inline ll OverNumOf(vector<T> &v, T x, Pr pred){ //x以上の個数\n\treturn (ll)v.size() - (lower_bound(v.begin(), v.end(), x, pred) - v.begin()); }\n\ntemplate<class T=ll> inline vector<T> cinv(ll N){ vector<T> v(N); REP(i, N)cin>>v[i]; return move(v);}\ntemplate<class T=ll, class S=ll> inline vector<pair<T, S>> cinv2(ll N){\n\tvector<pair<T, S>> v(N); REP(i,N){cin>>v[i].first>>v[i].second;} return move(v); }\ntemplate<class T=ll,class S=ll,class R=ll> inline vector<tuple<T, S, R>> cinv3(ll N){\n\tvector<tuple<T,S,R>> v(N); REP(i,N){cin>>get<0>(v[i])>>get<1>(v[i])>>get<2>(v[i]);} return move(v);}\ntemplate<class T=ll,class S=ll,class R=ll,class Q=ll> inline vector<tuple<T,S,R,Q>> cinv4(ll N){\n\tvector<tuple<T,S,R,Q>> v(N); REP(i,N){cin>>get<0>(v[i])>>get<1>(v[i])>>get<2>(v[i])>>get<3>(v[i]);} return move(v);}\ntemplate<class T=ll> inline vector<vector<T>> cinvv(ll N, ll M){\n\tvector<vector<T>> vv(N); REP(i, N) vv[i] = cinv(M); return move(vv);}\ntemplate<class T> inline void coutv(vector<T> &v, char deli=' '){\n\tll N=(ll)v.size(); REP(i,N){cout << v[i] << ((i==N-1)?'\\n':deli);} }\ntemplate<class T> void bye(T a){cout << a << '\\n'; exit(0);}\n\n#if defined(_DEBUG)\ntemplate<class T> void Dump(vector<T> &v){\n\tREP(i, (ll)v.size()) { cerr << ((i==0)?\"[\":\" \") << setw(5) << v[i]; }  cerr << \"]\";\n}\nvoid Dump(vll &v){\n\tREP(i, (ll)v.size()) {\n\t\tcerr << ((i==0)?\"[\":\" \") << setw(4);\n\t\tif       (v[i] == INF) cerr << \"INF\";\n\t\telse if (v[i] == -INF) cerr << \"-INF\";\n\t\telse                   cerr << v[i];\n\t}  cerr << \"]\";\n}\ntemplate<class T> void Dump(vector<vector<T>> &v){\n\tll N=(ll)v.size();  string d[2][2]={{\" \", \"[\"},  {\"\\n\", \"]\\n\"}};\n\tREP(i, N) { cerr << d[0][i==0];  Dump(v[i]);  cerr << d[1][i==N-1]; }\n}\ntemplate<class T> void Dump(vector<vector<vector<T>>> &v){\n\tll N=(ll)v.size();  string d[2]={\"  <\", \"[ <\"};\n\tREP(i, N) { cerr << d[i==0] << i << \">\\n\"; Dump(v[i]); }  cerr << \"]\\n\";\n}\ntemplate<class T> void Dump(vector<vector<vector<vector<T>>>> &v){\n\tll N=(ll)v.size();  string d[2]={\"  ---<\", \"[ ---<\"};\n\tREP(i, N) { cerr << d[i==0] << i << \">---\\n\"; Dump(v[i]); }  cerr << \"]\\n\";\n}\ntemplate<class T> void Dump(vector<vector<vector<vector<vector<T>>>>> &v){\n\tll N=(ll)v.size();  string d[2]={\"  ======<\", \"[ ======<\"};\n\tREP(i, N) { cerr << d[i==0] << i << \">======\\n\"; Dump(v[i]); }  cerr << \"]\\n\";\n}\n#else\ntemplate<class T> void Dump(vector<T> &v){}\ntemplate<class T> void Dump(vector<vector<T>> &v){}\ntemplate<class T> void Dump(vector<vector<vector<T>>> &v){}\ntemplate<class T> void Dump(vector<vector<vector<vector<T>>>> &v){}\ntemplate<class T> void Dump(vector<vector<vector<vector<vector<T>>>>> &v){}\n#endif\n\nstruct mll{\n\tstatic ll MOD;\n\tll val;\n\tmll(ll v = 0): val(v % MOD){ if (val < 0) val += MOD; }\n\tmll operator - () const { return -val; }\n\tmll operator + (const mll &b) const { return val + b.val; }\n\tmll operator - (const mll &b) const { return val - b.val; }\n\tmll operator * (const mll &b) const { return val * b.val; }\n\tmll operator / (const mll &b) const { return mll(*this) /= b; }\n\tmll operator + (ll b) const { return *this + mll(b); }\n\tmll operator - (ll b) const { return *this - mll(b); }\n\tmll operator * (ll b) const { return *this * mll(b); }\n\tfriend mll operator + (ll a, const mll &b) { return b + a; }\n\tfriend mll operator - (ll a, const mll &b) { return -b + a; }\n\tfriend mll operator * (ll a, const mll &b) { return b * a; }\n\tfriend mll operator / (ll a, const mll &b) { return mll(a)/b; }\n\tmll &operator += (const mll &b) { val=(val+b.val)%MOD; return *this; }\n\tmll &operator -= (const mll &b) { val=(val+MOD-b.val)%MOD; return *this; }\n\tmll &operator *= (const mll &b) { val=(val*b.val)%MOD; return *this; }\n\tmll &operator /= (const mll &b) {\n\t\tll c=b.val, d=MOD, u=1, v=0;\n\t\twhile (d){\n\t\t\tll t = c / d;\n\t\t\tc -= t * d; swap(c, d);\n\t\t\tu -= t * v; swap(u, v);\n\t\t}\n\t\tval = val * u % MOD;\n\t\tif (val < 0) val += MOD;\n\t\treturn *this;\n\t}\n\tmll &operator += (ll b) { return *this += mll(b); }\n\tmll &operator -= (ll b) { return *this -= mll(b); }\n\tmll &operator *= (ll b) { return *this *= mll(b); }\n\tmll &operator /= (ll b) { return *this /= mll(b); }\n\tbool operator == (const mll &b) { return val == b.val; }\n\tbool operator != (const mll &b) { return val != b.val; }\n\tbool operator == (ll b) { return *this == mll(b); }\n\tbool operator != (ll b) { return *this != mll(b); }\n\tfriend bool operator == (ll a, const mll &b) { return mll(a) == b.val; }\n\tfriend bool operator != (ll a, const mll &b) { return mll(a) != b.val; }\n\tfriend ostream &operator << (ostream &os, const mll &a) { return os << a.val; }\n\tfriend istream &operator >> (istream &is, mll &a) { return is >> a.val; }\n\tstatic mll Combination(ll a, ll b){\n\t\tchmin(b, a-b);\n\t\tif (b<0) return mll(0);\n\t\tmll c = 1;\n\t\tREP(i, b) c *= a-i;\n\t\tREP(i, b) c /= i+1;\n\t\treturn c;\n\t}\n};\nll mll::MOD = 2099999999LL;// 998244353LL;//1000000007LL;\nusing vmll = std::vector<mll>;\nusing vvmll = std::vector<vmll>;\nusing vvvmll = std::vector<vvmll>;\nusing vvvvmll = std::vector<vvvmll>;\nusing vvvvvmll = std::vector<vvvvmll>;\n\n\n\nvoid solve()\n{\n\twhile (true){\n\t\tll N, M;  cin >> N >> M;\n\t\tif (N==0 && M==0) break;\n\n\t\tvll C = cinv(M);\n\t\tvll x = cinv(N);\n\n\t\tvvll dp(N+1, vll(256,INF));\n\t\tauto Dp = [&](ll i, ll j)->ll&{\n\t\t\treturn dp[i+1][j];\n\t\t};\n\t\tDp(-1, 128) = 0;\n\n\t\trep(ii, -1, N-2){\n\t\t\tll i = ii+1;\n\t\t\trep(jj, 0, 255){\n\t\t\t\tREP(k, M){\n\t\t\t\t\tll j = jj+C[k];\n\t\t\t\t\tif (j<0) j=0;\n\t\t\t\t\tif (j>255) j=255;\n\t\t\t\t\tchmin( Dp(i, j), Dp(ii, jj) + (x[i]-j)*(x[i]-j));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tll ans = MinE(dp[N]);\n\t\tcout << ans << '\\n';\n\t}\n}\n\n\nint main(){\n\tsolve();\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,N) for(int i=0;i<(N);i++)\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\nusing namespace std;\nconst long long MOD = 1e9 + 7;\nconst long long INF = 1e12;\nconst int inf = 1e9;\ntypedef long long ll;\ntypedef pair<ll,int> P;\ntypedef set<int> S;\nint n,m;\nvector<int> c(20,0),x(20010,0),v;\nint dp[20010][260];\nint main(){\n    while(1){\n        cin>>n>>m;\n        if(n==0 && m==0) break;\n        v.clear();\n        for(int i=0;i<m;i++) cin>>c[i];\n        for(int i=0;i<n;i++) cin>>x[i];\n        for(int i=0;i<20010;i++){\n            for(int j=0;j<260;j++){\n                dp[i][j]=inf;\n            }\n        }\n        dp[0][128]=0;\n        for(int i=0;i<n;i++){\n            for(int j=0;j<256;j++){\n                for(int k=0;k<m;k++){\n                    if(j+c[k]>255){\n                        int next=255;\n                        dp[i+1][next]=min(dp[i+1][next],dp[i][j]+(next-x[i])*(next-x[i]));\n                    }\n                    else if(j+c[k]<0){\n                        int next=0;\n                        dp[i+1][next]=min(dp[i+1][next],dp[i][j]+(next-x[i])*(next-x[i]));\n                    }\n                    else{\n                        int next=j+c[k];\n                        dp[i+1][next]=min(dp[i+1][next],dp[i][j]+(next-x[i])*(next-x[i]));\n                    }\n                }\n            }\n        }\n        int min=inf;\n        for(int j=0;j<256;j++){\n            if(dp[n][j]<min) min=dp[n][j];\n        }\n        cout<<min<<endl;\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n#define Rep(i,n) for(int i=0;i<(int)(n);i++)\n#define For(i,n1,n2) for(int i=(int)(n1);i<(int)(n2);i++)\n#define REP(i,n) for(ll i=0;i<(ll)(n);i++)\n#define RREP(i,n) for(ll i=((ll)(n)-1);i>=0;i--)\n#define FOR(i,n1,n2) for(ll i=(ll)(n1);i<(ll)(n2);i++)\n#define RFOR(i,n1,n2) for(ll i=((ll)(n1)-1);i>=(ll)(n2);i--)\n#define all(a)  (a).begin(),(a).end()\n#define IOS std::cin.tie(0),std::ios::sync_with_stdio(false)\n\nnamespace idaten {\n\n\tusing namespace std;\n\tusing ll = int_fast64_t;\n\tusing ull = uint_fast64_t;\n\tusing P = std::pair<int64_t, int64_t>;\n\ttemplate<typename T1, typename T2> inline bool chmin(T1& a, T2 b) { if (a > b) { a = b; return 1; }return 0; }\n\ttemplate<typename T1, typename T2> inline bool chmax(T1& a, T2 b) { if (a < b) { a = b; return 1; }return 0; }\n\ttemplate<class Type>struct is_vector : std::false_type {};\n\ttemplate<class ValueType, class Alloc>struct is_vector<std::vector<ValueType, Alloc>> : std::true_type {};\n\ttemplate <typename T> inline std::ostream& operator << (std::ostream& out, const std::vector<T>& v) {\n\t\tif (v.empty())return out;\n\t\tconstexpr bool is_vector_v = is_vector<T>::value;\n\t\tif (is_vector_v)for (auto itr = v.begin(); itr != v.end();)out << (*itr), out << ((++itr != v.end()) ? \"\\n\" : \"\");\n\t\telse for (auto itr = v.begin(); itr != v.end();)out << (*itr), out << ((++itr != v.end()) ? \" \" : \"\");\n\t\treturn out;\n\t}\n\tinline void put() {}\n\ttemplate<class T> inline void put(const T& first) { std::cout << first << \"\\n\"; }\n\ttemplate<class T, class... N> inline void put(const T& first, const N& ... rest) { std::cout << first << \" \"; put(rest...); }\n\tinline void putn() {}\n\ttemplate<class T, class... N> inline void putn(const T& first, const N& ... rest) { std::cout << first << \"\\n\"; putn(rest...); }\n\n\tvoid solve() {\n\t\tIOS;\n\t\tint n, m;\n\t\tcin >> n >> m;\n\t\twhile (n + m != 0) {\n\t\t\tvector<int> c(m), x(n);\n\t\t\tREP(i, m) {\n\t\t\t\tcin >> c[i];\n\t\t\t}\n\t\t\tREP(i, n) {\n\t\t\t\tcin >> x[i];\n\t\t\t}\n\t\t\tvector<vector<ll>> dp(n + 1, vector<ll>(256, LLONG_MAX));\n\t\t\tdp[0][128] = 0;\n\t\t\tREP(i, n) {\n\t\t\t\tREP(j, 256) {\n\t\t\t\t\tif (dp[i][j] != LLONG_MAX) {\n\t\t\t\t\t\tREP(k, m) {\n\t\t\t\t\t\t\tint t = j + c[k];\n\t\t\t\t\t\t\tif (t < 0)t = 0;\n\t\t\t\t\t\t\tif (255 < t)t = 255;\n\t\t\t\t\t\t\tchmin(dp[i + 1][t], dp[i][j] + (x[i] - t) * (x[i] - t));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tll res = LLONG_MAX;\n\t\t\tREP(j, 256) {\n\t\t\t\tchmin(res, dp[n][j]);\n\t\t\t}\n\t\t\tput(res);\n\t\t\tcin >> n >> m;\n\t\t}\n\t\t\n\t}\n} // namespace idaten\n\nint main() {\n\tidaten::solve();\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <cstdio>\n#include <string>\n#include <cstring>\n#include <deque>\n#include <list>\n#include <queue>\n#include <stack>\n#include <vector>\n#include <utility>\n#include <algorithm>\n#include <map>\n#include <set>\n#include <complex>\n#include <cmath>\n#include <limits>\n#include <cfloat>\n#include <climits>\n#include <ctime>\n#include <cassert>\n#include <numeric>\n#include <fstream>\n#include <functional>\n#include <bitset>\n#define chmin(a, b) ((a)=min((a), (b)))\n#define chmax(a, b) ((a)=max((a), (b)))\n#define fs first\n#define sc second\n#define eb emplace_back\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int, int> P;\ntypedef tuple<int, int, int> T;\n\nconst ll MOD=1e9+7;\nconst ll INF=1e18;\nconst double pi=acos(-1);\nconst double eps=1e-10;\n\nint dx[]={1, 0, -1, 0};\nint dy[]={0, -1, 0, 1};\n\nint main(){\n    while(1){\n        int n, m; cin>>n>>m;\n        if(n == 0) return 0;\n        vector<int> c(m), x(n);\n        for(int i=0; i<m; i++) cin>>c[i];\n        for(int i=0; i<n; i++) cin>>x[i];\n\n        vector<vector<int>> dp(n+10, vector<int>(300, 1e9));\n        dp[0][128] = 0;\n\n        for(int i=0; i<n; i++){\n            for(int j=0; j<=255; j++){\n                for(int k=0; k<m; k++){\n                    if(256 <= j + c[k]){\n                        dp[i+1][255] = min(dp[i+1][255], dp[i][j] + (x[i] - 255) * (x[i] - 255));\n                    }\n                    else if(j + c[k] < 0){\n                        dp[i+1][0] = min(dp[i+1][0], dp[i][j] + x[i] * x[i]);\n                    }\n                    else{\n                        dp[i+1][j+c[k]] = min(dp[i+1][j+c[k]], dp[i][j] + (x[i] - (j + c[k])) * (x[i] - (j + c[k])));\n                    }\n                }\n            }\n        }\n\n        int ans=1e9;\n        for(int i=0; i<=255; i++){\n            chmin(ans, dp[n][i]);\n        }\n\n        cout << ans << endl;\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <functional>\n\nusing namespace std;\n\nconst int INF = 1<<29;\n\nint main(){\n  int n, m;\n  while(cin >> n >> m && (n|m)){\n    vector<int> C(m);\n    for(int i=0; i<m; i++) cin >> C[i];\n    \n    vector<int> dp(256, INF);\n    dp[128] = 0;\n    while(n--) {\n      vector<int> next(256, INF);\n      int in; cin >> in;\n      for(int i=0; i<=255; i++){\n\tif(dp[i] < INF) {\n\t  for(int j=0; j<m; j++){\n\t    int now = i + C[j];\n\t    if(now < 0)   { now = 0;   }\n\t    if(now > 255) { now = 255; }\n\t    int diff = (in - now) * (in - now);\n\t    next[now] = min(next[now], dp[i] + diff );\n\t  }\n\t}\n      }\n      dp = next;\n    }\n    \n    cout << *min_element(dp.begin(), dp.end()) << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nlong long INF = 1000000000000;\nint main(){\n  while (1){\n    int N, M;\n    cin >> N >> M;\n    if (N == 0 && M == 0){\n      break;\n    }\n    vector<int> C(M);\n    for (int i = 0; i < M; i++){\n      cin >> C[i];\n    }\n    vector<int> x(N);\n    for (int i = 0; i < N; i++){\n      cin >> x[i];\n    }\n    vector<vector<long long>> dp(N + 1, vector<long long>(256, INF));\n    dp[0][128] = 0;\n    for (int i = 0; i < N; i++){\n      for (int j = 0; j < 256; j++){\n        for (int k = 0; k < M; k++){\n          int next = min(max(j + C[k], 0), 255);\n          dp[i + 1][next] = min(dp[i + 1][next], dp[i][j] + abs(next - x[i]) * abs(next - x[i]));\n        }\n      }\n    }\n    long long ans = INF;\n    for (int i = 0; i < 256; i++){\n      ans = min(ans, dp[N][i]);\n    }\n    cout << ans << endl;\n  }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <map>\n#include <set>\n#include <list>\n#include <cmath>\n#include <queue>\n#include <stack>\n#include <cstdio>\n#include <string>\n#include <vector>\n#include <complex>\n#include <cstdlib>\n#include <cstring>\n#include <numeric>\n#include <sstream>\n#include <iostream>\n#include <algorithm>\n#include <functional>\n\n#define mp       make_pair\n#define pb       push_back\n#define all(x)   (x).begin(),(x).end()\n#define rep(i,n) for(int i=0;i<(n);i++)\n#define repi(i,a,b) for(int i = (a); i < (b); i++)\n\nusing namespace std;\n\ntypedef    long long          ll;\ntypedef    unsigned long long ull;\ntypedef    vector<bool>       vb;\ntypedef    vector<int>        vi;\ntypedef    vector<vb>         vvb;\ntypedef    vector<vi>         vvi;\ntypedef    pair<int,int>      pii;\n\nconst int INF=1<<29;\nconst double EPS=1e-9;\n\nconst int dx[]={1,0,-1,0},dy[]={0,-1,0,1};\nint dp[20010][300];//\nint C[20];\nint X[20010];\nint n,m;\n\n\nint main(){\n\twhile(cin>>n>>m,n||m){\n\t\tmemset(dp, 0, sizeof(dp));\n\t\tmemset(C, 0, sizeof(C));\n\t\tmemset(X, 0, sizeof(X));\n\t\tfor(int i =0;i < m;i++){\n\t\t\tcin>>C[i];\n\t\t\t//cout<<C[i]<<endl;\n\t\t}\n\t\tfor(int i =0;i < n;i++){\n\t\t\tcin>>X[i];\n\t\t\t//cout <<X[i]<<endl;\n\t\t}\n\t\tmemset(dp, INF, sizeof(dp));\n\t\t//rep(i, n+1)rep(j,256)dp[i][j] =INF;\n\t\tdp[0][128] = 0;\n\t\tfor(int i =0;i < n;i++){\n\t\t\tfor(int j =0;j < m;j++){\n\t\t\t\tfor(int k =0;k <=255;k++){\n\t\t\t\t\tif(dp[i][k]==INF)continue;\n\t\t\t\t\tint val =k +C[j];\n\t\t\t\t\tif(val >255)val =255;\n\t\t\t\t\tif(val <0)val = 0;\n\t\t\t\t\tdp[i+1][val] =min(dp[i+1][val],dp[i][k]+(X[i]-val)*(X[i]-val));\n\t\t\t\t\t//cout <<(X[i]-val)*(X[i]-val)<<endl;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = INF;\n\t\tfor(int i =0;i <=255;i++){\n\t\t\tans =min(ans,dp[n][i]);\n\t\t}\n\t\tcout <<ans<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nint main()\n{\n  int N,M,C[17],x[20002],y;\n  pair<long long,int> P[20002][17];\n  long long mi;\n  while(1){\n    cin>>N>>M;\n    if(N==0 && M==0)break;\n    for(int i=0;i<M;i++)cin>>C[i];\n    for(int i=1;i<=N;i++)cin>>x[i];\n    for(int i=0;i<M;i++){\n      P[0][i].first=0;\n      P[0][i].second=128;\n    }\n    for(int i=1;i<=N;i++){\n      for(int j=0;j<M;j++){\n        P[i][j].first=100000000;\n        P[i][j].second=0;\n      }\n    }\n    for(int i=1;i<=N;i++){\n      for(int j=0;j<M;j++){\n\tfor(int k=0;k<M;k++){\n\t  y=(P[i-1][k].second+C[j]);\n          if(y<0)y=0;\n\t  if(y>255)y=255;\n\t  if(P[i][j].first>P[i-1][k].first+(x[i]-y)*(x[i]-y)){\n\t    P[i][j].first=P[i-1][k].first+(x[i]-y)*(x[i]-y);\n            P[i][j].second=y;\n\t  }\n\t}\n      }\n    }\n    mi=100000000;\n    for(int i=0;i<M;i++)mi=min(mi,P[N][i].first);\n    cout<<mi<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <algorithm>\n#include <string>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <cstring>\n#include <vector>\n#include <list>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n\n#define INF (long long int)1e18\n\nusing std::cin;\nusing std::cout;\nusing std::endl;\nusing std::setprecision;\nusing std::fixed;\nusing std::pair;\nusing std::make_pair;\nusing std::min;\nusing std::max;\nusing std::string;\nusing std::vector;\nusing std::list;\nusing std::map;\nusing std::set; // insert erase find count\nusing std::queue;\nusing std::priority_queue;\nusing std::stack;\n\ntemplate <typename T> using Vec = vector<T>; // c++11\ntypedef pair<int, int> PII;\ntypedef pair<int, pair<int, int> > PIII;\n\nint main(void) {\n    while (1) {\n        int n;\n        int m;\n        cin >> n >> m;\n        if (n == 0 && m == 0) {\n            break;\n        }\n        Vec<int> c(m);\n        Vec<int> x(n + 1);\n        for (int i = 0; i < m; i++) {\n            cin >> c[i];\n        }\n        for (int j = 1; j <= n; j++) {\n            cin >> x[j];\n        }\n        \n        Vec<Vec<long long int> > dp(n + 1, Vec<long long int>(256));\n        for (int i = 0; i <= n; i++) {\n            for (int j = 0; j < 256; j++) {\n                dp[i][j] = INF;\n            }\n        }\n        dp[0][128] = 0;\n\n        for (int i = 1; i <= n; i++) {\n            for (int j = 0; j < 256; j++) {\n                for (int k = 0; k < m; k++) {\n                    long long int div = j + c[k];\n                    if (div > 255) {\n                        div = 255;\n                    } else if (div < 0) {\n                        div = 0;\n                    }\n                    long long int cost = (x[i] - div) * (x[i] - div);\n                    dp[i][div] = min(dp[i][div], dp[i - 1][j] + cost);\n                }\n            }\n        }\n        long long int ans = dp[n][0];\n        for (int j = 1; j < 256; j++) {\n            ans = min(ans, dp[n][j]);\n        }\n        cout << ans << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdlib>\nusing namespace std;\n\nint main()\n{\n  int N,M,C[17],x[20002],y,a,b;\n  pair<long long,int> DP[2][256];\n  long long mi;\n\n  while(1){\n    cin>>N>>M;\n    if(N==0 && M==0)break;\n    for(int i=0;i<M;i++)cin>>C[i];\n    for(int i=1;i<N+1;i++)cin>>x[i];\n    for(int i=0;i<256;i++){\n      DP[0][i].first=0;\n      DP[0][i].second=128;\n    }\n\n    for(int i=1;i<N+1;i++){\n      for(int j=0;j<M;j++){\n\tfor(int n=0;n<M;n++){\n\t  mi=100000001;\n\t  for(int m=0;m<M;m++){\n\t    b=C[j]+DP[(i-1)%2][n*M+m].second;\n\t    if(b<0)b=0;\n\t    if(b>255)b=255;\n\t    a=x[i]-b;\n\t    a=a*a;\n\t    a+=DP[(i-1)%2][n*M+m].first;\n\t    if(mi>a){\n\t      mi=a;\n\t      y=b;\n\t    }\n\t  }\n\t  DP[i%2][j*M+n].first=mi;\n\t  DP[i%2][j*M+n].second=y;\n\t}\n      }\n    }\n    for(int i=0;i<M*M;i++){\n      if(N%2==0)mi=min(mi,DP[0][i].first);\n      else mi=min(mi,DP[1][i].first);\n    }\n    cout<<mi<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define REP(i,n) for(int i=0;i < (n);i++)\n#define ALL(obj) (obj).begin(),(obj).end()\nusing namespace std;\n\nconst long long INF = 1LL << 60;\nconst int MOD = (int)1e9 + 7;\ntypedef long long ll;\n//約数列挙\nvector<long long> divisor(long long n) {\n    vector<long long> ret;\n    for (long long i = 1; i * i <= n; i++) {\n        if (n % i == 0) {\n            ret.push_back(i);\n            if (i * i != n) ret.push_back(n / i);\n        }\n    }\n    //sort(ret.begin(), ret.end()); // 昇順に並べる\n    return ret;\n}\nvector<int> dx={1,0,-1,0};vector<int> dy={0,-1,0,1};\n\nsigned main () {\n    int n,m;scanf(\"%d %d\",&n,&m);\n    while(n!=0 && m!=0){\n        vector<int> cb(m);\n        REP(i,m){\n            int tmp;scanf(\"%d\",&tmp);\n            cb[i]=tmp;\n        }\n        vector<int> list(n);\n        REP(i,n){\n            int tmp;scanf(\"%d\",&tmp);\n            list[i] = tmp;\n        }\n        vector<vector<ll>> dp(n+1,vector<ll>(256,INF));\n        dp[0][128]=0;\n        REP(i,n){\n            REP(j,256){\n                if(dp[i][j]==INF)continue;\n                REP(l,m){\n                    int y = j+cb[l];\n                    if(y<0)y = 0;\n                    if(y>255)y = 255;\n                    int sum = (list[i]-y)*(list[i]-y);\n                    dp[i+1][y]=min(dp[i+1][y], dp[i][j] + sum );\n                }\n            }\n        }\n        cout << *min_element(dp[n].begin(),dp[n].end()) << endl;\n        scanf(\"%d %d\",&n,&m);\n    }\n\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nint main() {\n    for(;;) {\n        int n, m;\n        std::cin >> n >> m;\n        if (n == 0 && m == 0) {\n            break;\n        }\n        std::vector<int> cs(m);\n        for(int i = 0; i < m; ++i) {\n            std::cin >> cs[i];\n        }\n        std::vector<int> xs(n);\n        for(int i = 0; i < n; ++i) {\n            std::cin >> xs[i];\n        }\n        long inf = 1LL << 50;\n        std::vector<long> dp(256, inf);\n        dp[128] = 0;\n        for(int i = 0; i < n; ++i) {\n            std::vector<long> dp2(256, inf);\n            for(int v = 0; v < 256; ++v) {\n                for(int c : cs) {\n                    int new_v = std::max(0, std::min(v + c, 255));\n                    long diff = new_v - xs[i];\n                    dp2[new_v] = std::min(dp2[new_v], dp[v] + diff * diff);\n                }\n            }\n            dp = dp2;\n        }\n        long res = inf;\n        for(int v = 0; v < 256; ++v) {\n            res = std::min(res, dp[v]);\n        }\n        printf(\"%ld\\n\", res);\n    }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n\n#define INF (1 << 29)\n\n#define MAX_N 20000\n#define MAX_M 16\n\nusing namespace std;\n\nint N, M, C[MAX_M], X, dp[MAX_N + 1][256];\n\nint main()\n{\n\twhile (true)\n\t{\n\t\tfor (int i = 0; i < MAX_N + 1; i++)\n\t\t{\n\t\t\tfor (int j = 0; j < 256; j++)\n\t\t\t{\n\t\t\t\tdp[i][j] = INF;\n\t\t\t}\n\t\t}\n\n\t\tdp[0][128] = 0;\n\n\t\tcin >> N >> M;\n\n\t\tif (N == 0 && M == 0) { break; }\n\n\t\tfor (int i = 0; i < M; i++) { cin >> C[i]; }\n\n\t\tfor (int i = 0; i < N; i++)\n\t\t{\n\t\t\tcin >> X;\n\n\t\t\tfor (int j = 0; j < 256; j++)\n\t\t\t{\n\t\t\t\tfor (int k = 0; k < M; k++)\n\t\t\t\t{\n\t\t\t\t\tint ptr = j + C[k];\n\n\t\t\t\t\tif (ptr < 0) { ptr = 0; }\n\t\t\t\t\tif (ptr > 255) { ptr = 255; }\n\n\t\t\t\t\tint sabun = (X - ptr) * (X - ptr);\n\n\t\t\t\t\tdp[i + 1][ptr] = min(dp[i + 1][ptr], dp[i][j] + sabun);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcout << *min_element(dp[N], dp[N] + 256) << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define INF 2000000000\n\nint dp[20010][260];\nint c[20],x[20010];\n\nint main(){\n\n    int n,m;\n\n    while(true){\n        cin >> n >> m;\n        if(n + m == 0)break;\n        for(int i = 0;i < m;i++)cin >> c[i];\n        for(int i = 0;i < n;i++)cin >> x[i];\n        for(int i = 0;i < n+1;i++){\n            for(int j = 0;j < 257;j++){\n                dp[i][j] = INF;\n            }\n        }       \n        dp[0][128] = 0;\n\n        for(int i = 0;i < n;i++){\n            for(int j = 0;j <= 255;j++){\n                for(int k = 0;k < m;k++){\n                    int ne = j + c[k];\n                    ne = max(ne,0);\n                    ne = min(255,ne);\n                    dp[i+1][ne] = min(dp[i+1][ne], dp[i][j] + (x[i]-ne)*(x[i]-ne) );\n                //    if(dp[i+1][ne] != INF)printf(\"dp[%d][%d] = %d\\n\",i+1,ne,dp[i+1][ne]);\n                    \n                }\n            }\n        }\n        int ans = INF;\n        for(int i = 0;i <= 255;i++) ans = min(ans,dp[n][i]);\n        cout << ans << endl;\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nint main() {\n\n\twhile (1) {\n\t\tint n, m;\n\t\tcin >> n >> m;\n\n\t\tif (n == 0 && m == 0) { return 0; }\n\n\t\tvector<int> c(m + 1);\n\t\tfor (int i = 1; i <= m; i++) {\n\t\t\tcin >> c[i];\n\t\t}\n\t\tvector<int> x(n + 1);\n\t\tfor (int i = 1; i <= n; i++) {\n\t\t\tcin >> x[i];\n\t\t}\n\n\t\tvector<vector<long long>> dp(n + 1, vector<long long>(256, 2000000000000));\n\n\t\t\tfor (int j = 1; j <= m; j++) {\n\t\t\t\tdp[0][128] = 0;\n\t\t\t}\n//\t\tdp[1][128] = 1000000000;\n\t\tfor (int i = 1; i <= n; i++) {\n\t\t\tfor (int j = 0; j <= 255; j++) {\n\n\t\t\t\tfor (int k = 1; k <= m; k++) {\n\n\t\t\t\t\tif (dp[i - 1][j] > 2000000000) { continue; }\n\n\t\t\t\t\tint tmp = j + c[k];\n\t\t\t\t\tif (tmp < 0) { tmp = 0; }\n\t\t\t\t\tif (tmp > 255) { tmp = 255; }\n\n\t\t\t\t\tdp[i][tmp] = min(dp[i][tmp], dp[i - 1][j] + (x[i] - tmp)*(x[i] - tmp));\n\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tlong long res = 2000000000000;\n\t\tfor (int i = 0; i <= 255; i++) {\n\t\t\tif (dp[n][i] < 2000000000) {\n\t\t\t\tres = min(res, dp[n][i]);\n\t\t\t}\n\t\t}\n\t\tcout << res << endl;\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n \nusing namespace std;\n \nint main() {\n int n,m;\n while(cin >> n >> m, n) {\n  vector<int> code(m), value(n);\n  for (int i = 0; i < m; i++)\n   cin >> code[i];\n  for (int i = 0; i < n; i++)\n   cin >> value[i];\n  vector<vector<int> > dp(256, vector<int>(n + 1, 1000000000));\n  dp[0][128] = 0;\n  for (int i = 0; i < n; i++) {\n   for (int j = 0; j < 256; j++) {\n    for (int k = 0; k < m; k++) {\n     int val = min(255,max(0,j+code[k]));\n     dp[i+1][val] = min(dp[i+1][val], dp[i][j] + (val -value[i]) * (val - value[i]));\n    }\n   }\n  }\n  int ans = 1000000000;\n  for (int i = 0; i < 256; i++) {\n   ans = min(ans, dp[n][val]);\n  }\n  cout << ans << endl;\n }\n return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n\nusing namespace std;\nusing ll = long long;\n\nconst ll mx = 1LL << 62;\nll dp[20002][256];\n\nint main() {\n    while (1) {\n        int n, m;\n        cin >> n >> m;\n\n        if (n == 0 && m == 0) break;\n\n        vector<int> c;\n        vector<int> x;\n\n        for (int i = 0; i < m; ++i) {\n            int ci;\n            cin >> ci;\n            c.push_back(ci);\n        }\n\n        for (int i = 0; i < n; ++i) {\n            int xi;\n            cin >> xi;\n            x.push_back(xi);\n        }\n\n        int y = 128;\n\n        for (int i = 0; i <= n + 1; ++i) {\n            for (int j = 0; j < 256; ++j) {\n                dp[i][j] = -1;\n            }\n        }\n        dp[0][128] = 0;\n        \n        for (int i = 0; i < n; ++i) {\n            int next = x[i];\n            for (int j = 0; j < m; ++j) {\n                int cj = c[j];\n                for (int k = 0; k < 256; ++k) {\n                    if (dp[i][k] == -1) continue;\n                    int high = max(min(255, k + cj), 0);\n                    int cost = (high - next) * (high - next);\n                    dp[i + 1][high] = min((dp[i+ 1][high] == -1 ? mx : dp[i+ 1][high]), dp[i][k] + cost);\n                }\n            }\n            // for (int k = 128; k < 256; ++k) {\n            //     cout << dp[i + 1][k] << \" \";\n            // }\n            //cout << endl;\n        }\n\n        ll mincost = mx;\n        for (int i = 0; i < 256; ++i) {\n            if (dp[n][i] < mincost && dp[n][i] != -1) mincost = dp[n][i];\n        }\n        cout << mincost << endl;\n\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\n#include<vector>\n#include<cstdio>\n#include<cstring>\nusing namespace std;\n\n#define rep(i,n) for(int i=0;i<n;i++)\n#define REP(n) rep(i,n)\n#define all(n) n.begin(),n.end()\n\nconst int MAXN = 20000, MAXM = 16, MAXS = 255;\nint dp[MAXS + 10][MAXN + 10];\nint c[MAXM + 1], x[MAXN + 10];\nint main()\n{\n\n    int n, m;\n    while(cin >> n >> m && n)\n    {\n        memset(dp, -1, sizeof(dp));\n        REP(m) cin >> c[i];\n        REP(n) cin >> x[i];\n\n        dp[128][0] = 0;\n\n        for(int i =0; i < n; i++)\n        {\n            for(int s = 0; s <= 255; s++)if(dp[s][i] != -1)\n            {\n                for(int j = 0; j < m; j++)\n                {\n                    int nexty = s + c[j];\n                    if(nexty < 0) nexty = 0;\n                    if(nexty > MAXS) nexty = MAXS;\n                    \n                    if(dp[nexty][i + 1] ==-1)\n                        dp[nexty][i + 1] = dp[s][i] + (nexty - x[i]) * (nexty - x[i]);\n                    else\n                        dp[nexty][i + 1] = min(dp[nexty][i + 1],\n                                dp[s][i] + (nexty - x[i]) * (nexty - x[i]) );\n                }\n            }\n        }\n        //rep(i, 255) cout << dp[i][n] << endl;\n\n        int ans = (1 << 30);\n        REP(MAXS + 1)if(dp[i][n] != -1) ans = min(ans, dp[i][n]);\n        cout << ans << endl;\n\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cmath>\n#include <climits>\n#include <cstdio>\n#include <cstring>\n#include <fstream>\n#include <iostream>\n#include <list>\n#include <map>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <vector>\n \nusing namespace std;\n \n#define LOG(...) printf(__VA_ARGS__)\n//#define LOG(...)\n#define FOR(i,a,b) for(int i=(a);i<=(b);++i)\n#define REP(i,n) for(int i=0;i<(int)(n);++i)\n#define ALL(a) (a).begin(),(a).end()\n#define EXIST(s,e) ((s).find(e)!=(s).end())\n#define SORT(c) sort((c).begin(),(c).end())\n \ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef vector<bool> vb;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\ntypedef vector<vb> vvb;\ntypedef vector<vi> vvi;\ntypedef vector<vll> vvll;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\n\n#define MAX_N 256\n#define INF INT_MAX\n\nint nlist[MAX_N];\nint plist[MAX_N];\nint N,M,x;\n \nint sq(int n){\n\treturn n*n;\n}\n\nint main() {\n\twhile(cin >> N >> M, N|M){\n\t\tfill_n(nlist, MAX_N, INF);\n\t\tvi C(M);\n\t\tREP(i, M){\n\t\t\tcin >> C[i];\n\t\t}\n\t\tnlist[128]=0;\n\t\tint res=INF;\n\t\tREP(i, N){\n\t\t\tfill_n(plist, MAX_N, INF);\n\t\t\tcin >> x;\n\t\t\tREP(j, MAX_N){\n\t\t\t\tif(nlist[j]!=INF){\n\t\t\t\t\tREP(k, M){\n\t\t\t\t\t\tint l=max(0,min(j+C[k],MAX_N-1));\n\t\t\t\t\t\tplist[l]=min(plist[l],nlist[j]+sq(x-l));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemcpy(nlist, plist, sizeof(plist[0])*MAX_N);\n\t\t}\n\t\tsort(nlist, nlist+MAX_N);\n\t\tcout << nlist[0] << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define int long long\n#define rep(i,a,b) for(int i = a; i < b; i++)\nconst int mod = 1e9 + 7;\nconst int inf = 1e16;\n\nsigned main() {\n    while (true) {\n        int N,M;\n        cin >> N >> M;\n        if (N == 0 and M == 0) break;\n        int C[M];\n        rep(i,0,M) cin >> C[i];\n        int X[N];\n        rep(i,0,N) cin >> X[i];\n        int dp[N+1][256];\n        rep(i,0,N+1)rep(j,0,256) dp[i][j] = inf;\n        dp[0][128] = 0;\n        rep(i,1,N+1) {\n            rep(j,0,256) {\n                for(int c: C) {\n                    int k = j + c;\n                    k = min(k,255LL);\n                    k = max(k,0LL);\n                    dp[i][k] = min(dp[i][k], dp[i-1][j] + (X[i-1] - k)*(X[i-1] - k));\n                }\n            }\n        }\n        int ans = inf;\n        rep(j,0,256) ans = min(ans, dp[N][j]);\n        cout << ans << endl;\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define fi first\n#define se second\n#define repl(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define repr(i,n) for(int i=(int)(n-1);i>=0;i--)\n#define rep(i,n) repl(i,0,n)\n#define each(itr,v) for(auto itr:v)\n#define pb(s) push_back(s)\n#define all(x) (x).begin(),(x).end()\n#define dbg(x) cout << #x\" = \" << x << endl\n#define print(x) cout << x << endl\n#define maxch(x,y) x=max(x,y)\n#define minch(x,y) x=min(x,y)\n#define uni(x) x.erase(unique(all(x)),x.end())\n#define exist(x,y) (find(all(x),y)!=x.end())\n#define bcnt(x) bitset<32>(x).count()\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int, int> P;\ntypedef pair<P, int> PPI;\ntypedef pair<int, P> PIP;\ntypedef pair<ll, ll> PL;\ntypedef pair<P, ll> PPL;\ntypedef set<int> S;\n\n#define INF INT_MAX/3\n#define MAX_N 1000000001\n\nll dp[20001][256];\n\nint main(){\n  cin.sync_with_stdio(false);\n  int n, m;\n  while(cin >> n >> m, n | m) {\n    vector<int> c(m), x(n);\n    rep(i, m) cin >> c[i];\n    rep(i, n) cin >> x[i];\n\n    rep(i, n + 1)rep(j, 256) dp[i][j] = INF;\n    dp[0][128] = 0;\n    rep(i, n) {\n      rep(j, 256) {\n        if (dp[i][j] < INF) {\n          rep(k, m) {\n            int tmp = j + c[k];\n            if (tmp > 255) tmp = 255;\n            else if (tmp < 0) tmp = 0;\n            minch(dp[i + 1][tmp], dp[i][j] + (x[i] - tmp) * (x[i] - tmp));\n          }\n        }\n      }\n    }\n\n    ll ans = INF;\n    rep(i, 256) minch(ans, dp[n][i]);\n\n    cout << ans << endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define ll long long int\n\nusing namespace std;\n\nconst ll mod=1000000007;\nconst ll inf=1e18;\n\nint main(){\n\n  ll n,m;\n  cin >> n>> m;\n\n  vector<ll> ans={};\n\n  while(n!=0 || m!=0){\n    ll c[m],x[n];\n    for(int i=0;i<m;i++)cin >> c[i];\n    for(int j=0;j<n;j++)cin >> x[j];\n  \n    //y_{i+1}をjにしたときの最小\n    ll dp[n][256];\n    for(int i=0;i<n;i++){\n      for(int j=0;j<256;j++)dp[i][j]=inf;\n    }\n\n    ll y=128;\n    for(int i=0;i<m;i++){\n      if(y+c[i]>=255)dp[0][255]=(255-x[0])*(255-x[0]);\n      else if(y+c[i]<=0)dp[0][0]=x[0]*x[0];\n      else dp[0][y+c[i]]=(x[0]-y-c[i])*(x[0]-y-c[i]);\n    }\n\n\n    for(int i=1;i<n;i++){\n      for(int k=0;k<256;k++){\n        for(int j=0;j<m;j++){\n          if(k+c[j]>=255)dp[i][255]=min(dp[i-1][k]+(255-x[i])*(255-x[i]),dp[i][255]);\n          else if(k+c[j]<=0)dp[i][0]=min(dp[i-1][k]+x[i]*x[i],dp[i][0]);\n          else dp[i][k+c[j]]=min(dp[i-1][k]+(k+c[j]-x[i])*(k+c[j]-x[i]),dp[i][k+c[j]]);\n        }\n      }\n    }\n\n    ll mi=10000000000;\n    for(int i=0;i<256;i++)mi=min(mi,dp[n-1][i]);\n\n    //cout << mi << endl;\n    ans.push_back(mi);\n\n    cin >> n >> m;\n  }\n\n  for(int i=0;i<ans.size();i++)cout << ans[i] <<endl;\n\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define debug(x) cout <<\"DEBUG\"<<\" \"<< #x << \":\" << x << '\\n'\n\n// n回繰り返し\n#define rep(i,n) for(int i = 0; i < ((int)(n)); i++)   // 0-indexed昇順\n#define rep1(i,n) for(int i = 1; i <= ((int)(n)); i++) // 1-indexed昇順\n#define rrep(i,n) for(int i = ((int)(n)-1); i >= 0; i--)  // 0-indexed降順\n#define rrep1(i,n) for(int i = ((int)(n)); i >= 1; i--)   // 1-indexed降順\n#define all(x) (x).begin(),(x).end()\n\ntypedef long long ll;\ntypedef long double ld;\ntypedef vector<int> vi;\ntypedef vector<vi> vii;  // 2次元配列\ntypedef vector<ll> vll;\ntypedef vector<double> vd;\ntypedef pair<int, int> PII;\n\ntemplate<typename T>\nusing vec = vector<T>;\ntemplate<class T>\nusing maxheap = std::priority_queue<T>;\ntemplate<class T>\nusing minheap = std::priority_queue<T, std::vector<T>, std::greater<T>>;\n\ntemplate<class T,class U> inline bool chmax(T &a, const U &b){if(a<b){a=b;return 1;}return 0;}\ntemplate<class T,class U> inline bool chmin(T &a, const U &b){if(a>b){a=b;return 1;}return 0;}\n\nconst ld Pi = std::acos(-1.0L);\nconst ll infll = (1LL<<62)-1;\nconst int inf = (1<<30)-1;\nconst int mod = 1000000007;\n// const int mod = 998244353;\n\n\n/*FUNCs=================================================*/\n\n\n/*MAIN==================================================*/\nsigned main(){\n    int _StartTime_ = clock();\n    cin.tie(nullptr);\n    ios::sync_with_stdio(false);   //cin cout 高速化\n    // cout << fixed << setprecision(15);\n\n    int n,m;\n    while(cin >> n >> m) {\n        if(!(n|m)) break;\n        vi c(m);\n        rep(i, m) cin >> c[i];\n        vi x(n);\n        rep(i, n) cin >> x[i];\n\n        vii dp(n + 1, vi(256, inf));\n        dp[0][128] = 0;\n\n        for (int i = 0; i < n; ++i) {\n            for (int j = 0; j < 256; ++j) {\n                if (dp[i][j] == inf) continue;\n                rep(k, m) {\n                    int x_ = j + c[k];\n                    chmax(x_, 0);\n                    chmin(x_, 255);\n\n                    chmin(dp[i + 1][x_], dp[i][j] + (x[i] - x_) * (x[i] - x_));\n                }\n            }\n        }\n\n        //    rep(i,n+1)rep(j,256) cout << dp[i][j] << (j==255 ? '\\n' : ' ');\n\n        int ans = inf;\n        for (int j = 0; j < 256; ++j) {\n            chmin(ans, dp[n][j]);\n        }\n        cout << ans << '\\n';\n    }\n\n    // printf(\"ExcutionTime: %d /ms\\n\",1000*(int)((clock()-_StartTime_)/CLOCKS_PER_SEC));\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <cmath>\n#include <cstdio>\n#include <functional>\n#include <numeric>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <utility>\n#include <sstream>\n#include <complex>\n\nusing namespace std;\n\n#define FOR(i,a,b) for(long long i=(a);i<(b);i++)\n#define REP(i,N) for(long long i=0;i<(N);i++)\n#define ALL(s) (s).begin(),(s).end()\n#define fi first\n#define se second\n\n#define PI acos(-1.0)\n#define INF 1000000007\n#define EPS 1e-10\n\ntypedef long long ll;\ntypedef pair<ll, ll> P;\ntypedef pair<double, double> PD;\ntypedef pair<string, ll> PS;\ntypedef vector<ll> V;\ntypedef pair<P, char> PC;\n\nint n, m;\nint c[100], x[20010];\nint dp[20][300];\n\nint main(){\n\twhile (cin >> n >> m&&n + m){\n\t\tREP(i, 20)REP(j, 300)dp[i][j] = INF;\n\t\tREP(i, m)cin >> c[i];\n\t\tREP(i, n)cin >> x[i];\n\t\tdp[0][128] = 0;\n\t\tREP(i, n){\n\t\t\tREP(j, m){\n\t\t\t\tREP(k, 256){\n\t\t\t\t\tint num = k + c[j];\n\t\t\t\t\tif (num < 0)num = 0;\n\t\t\t\t\tif (num > 255)num = 255;\n\t\t\t\t\tdp[i + 1][num] = min(dp[i][k] + (x[i] - (num))*(x[i] - (num)), dp[i + 1][num]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = INF;\n\t\t//REP(i, n + 1){\n\t\t//\tcout << i << endl;\n\t\t//\tFOR(j, 120, 140){\n\t\t//\t\tcout << dp[i][j] << \" \";\n\t\t//\t}\n\t\t//\tcout << endl;\n\t\t//}\n\t\tREP(i, 300){\n\t\t\tans = min(ans, dp[n][i]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i, n) for (int i = 0; i < (n); i++)\n#define loop(i, x, n) for (int i = (x); i < (n); i++)\n#define all(v) (v).begin(), (v).end()\n#define int long long\n#define INF 1e9\nusing namespace std;\ntemplate<typename T> void cmin(T &a, T b) { a = min(a, b); }\ntemplate<typename T> void cmax(T &a, T b) { a = max(a, b); }\n\nint dp[20005][256];\n\nsigned main() {\n  int n, m;\n  while (cin >> n >> m) {\n    if (n == 0 && m == 0) break;\n    rep(i, 20005) rep(j, 256) dp[i][j] = INF;\n    vector<int> C(m), x(n);\n    rep(i, m) cin >> C[i];\n    rep(i, n) cin >> x[i];\n    dp[0][128] = 0;\n    rep(i, n) {\n      rep(j, 256) {\n        if (dp[i][j] == INF) continue;\n        rep(k, m) {\n          int y = j + C[k];\n          cmin(y, 255LL);\n          cmax(y, 0LL);\n          int t = abs(y - x[i]);\n          dp[i + 1][y] = min(dp[i + 1][y], dp[i][j] + t * t);\n        }\n      }\n    }\n    int ans = INF;\n    rep(i, 256) cmin(ans, dp[n][i]);\n    cout << ans << endl;\n  }\n\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n\nusing namespace std;\n\nint main() {\n int n,m;\n while(cin >> n >> m, n) {\n  vector<int> code(m), value(n);\n  for (int i = 0; i < m; i++)\n   cin >> code[i];\n  for (int i = 0; i < n; i++)\n   cin >> value[i];\n  vector<vector<int> > dp(256, vector<int>(n + 1, 1000000000));\n  dp[0][128] = 0;\n  for (int i = 0; i < n; i++) {\n   for (int j = 0; j < 256; j++) {\n    for (int k = 0; k < m; k++) {\n     int val = min(255,max(0,j+code[k]));\n     dp[i+1][val] = min(dp[i+1][val], dp[i][j] + (val -value[i]) * (val - value[i]));\n    }\n   }\n  }\n  int ans = 1000000000;\n  for (int i = 0; i < 256; i++) {\n   ans = min(ans, dp[n][val]);\n  }\n  cout << ans << endl;\n }\n return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n\nusing namespace std;\n\ninline int normalize(int y) {\n    return min(255, max(0, y));\n}\n\ninline int get_error(int y, int y0) {\n    y -= y0;\n    return y * y;\n}\n\nint errors[20001][256];\nint solve(int n, int m, int c[], int x[]) {\n    int min_error = -1;\n    for (int t = 0; t <= n; ++t) {\n        for (int y = 0; y < 256; ++y) {\n            errors[t][y] = -1;\n        }\n    }\n    errors[0][128] = 0;\n    for (int t = 0; t < n; ++t) {\n        for (int y = 0; y < 256; ++y) {\n            if (errors[t][y] < 0) {\n                continue;\n            }\n            for (int i = 0; i < m; ++i) {\n                int yn = normalize(y + c[i]);\n                int e = errors[t][y] + get_error(yn, x[t]);\n                if (errors[t + 1][yn] < 0 || e < errors[t + 1][yn]) {\n                    errors[t + 1][yn] = e;\n                }\n            }\n        }\n    }\n    for (int y = 0; y < 256; ++y) {\n        if (errors[n][y] < 0) {\n            continue;\n        }\n        if (min_error < 0 || errors[n][y] < min_error) {\n            min_error = errors[n][y];\n        }\n    }\n    return min_error;\n}\n\nint main() {\n    int n, m;\n    int c[16], x[20000];\n    while (true) {\n        cin >> n >> m;\n        if (n == 0) {\n            return 0;\n        }\n        for (int i = 0; i < m; ++i) {\n            cin >> c[i];\n        }\n        for (int i = 0; i < n; ++i) {\n            cin >> x[i];\n        }\n        cout << solve(n, m, c, x) << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<(n);i++)\nusing namespace std;\nint N,M;\nint C[20];\nint X[20004];\nconst long long INF = 1000000000000;\nlong long dp[20004][260];\nlong long dfs(int i_,int y_) {\n    if(i_ == N) return dp[i_][y_] = 0;\n    if(dp[i_][y_]!=INF) return dp[i_][y_];\n\n    long long ret = INF;\n\n    rep(i,M) {\n        int y = y_ + C[i];\n        y = max(y,0);\n        y = min(y,255);\n        //cout<<y<<\",\"<<X[i_]<<endl;\n        ret = min(ret,dfs(i_+1,y)+(X[i_]-y)*(X[i_]-y));\n\n    }\n    //cout<<i_<<\",\"<<y_<<\",\"<<ret<<endl;\n    return dp[i_][y_] = ret;\n\n}\nvoid solve() {\n    rep(i,M) cin>>C[i];\n    rep(i,N) cin>>X[i];\n    /*\n    ans = min(ans,dfs(0,128));\n    */\n\n    long long ans = INF;\n    rep(i,20004) rep(j,260) dp[i][j] = INF;\n    dp[0][128] = 0;\n    rep(i,N) {\n        rep(j,260) {\n            rep(k,M) {\n                int y = j + C[k];\n                y = max(y,0);\n                y = min(y,255);\n                dp[i+1][y] = min(dp[i+1][y],dp[i][j]+(X[i]-y)*(X[i]-y));\n            }\n        }\n    }\n    rep(i,260) ans=min(ans,dp[N][i]);\n    cout<<ans<<endl;\n\n    rep(i,M) C[i] = 0;\n    rep(i,N) X[i] = 0;\n\n}\nint main() {\n    while(cin>>N>>M) {\n        if(N+M==0) return 0;\n        solve();\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <cstdio>\n#include <vector>\n#include <string>\n#include <deque>\n#include <memory.h>\n\n#define rep(idx, max)\t\t\tfor(int idx = 0, idx##Max = (max); idx < idx##Max; idx ++)\n#define rrep(idx, min, max)\tfor(int idx = (min), idx##Max = max; idx < idx##Max; idx ++)\n#define erep(idx, min, max)\tfor(int idx = (min), idx##Max = max; idx <= idx##Max; idx ++)\n#define rev(idx, max)\t\t\tfor(int idx = (max) - 1; idx >= 0; idx --)\n#define rrev(idx, min, max)\tfor(int idx = (max) - 1, idx##Min = (min); idx >= idx##Min; idx --)\n#define erev(idx, min, max)\tfor(int idx = (max), idx##Min = (min); idx >= idx##Min; idx --)\n#define foreach(it, obj)\tfor(auto it = obj.begin(), it##End = obj.end(); it >= it##End; it ++)\n#define CLIP(x, min_, max_)\tstd::max(min_, std::min(max_, x))\n\nusing namespace\tstd;\n\ntypedef std::vector<int>\tVEC;\n\nVEC\tg_signal;\nVEC\tg_codeBook;\n\n#define\tMAX_SIG_LEN\t32768\n#define\tMAX_CB_LEN\t32\n#define\tMAX_MOD_VAL\t256\n\ninline int Pow2i(int x)\t{\treturn(x * x);\t}\nint\tSolve()\n{\n\tstatic\tint\tcache[MAX_SIG_LEN][MAX_MOD_VAL];\n\t\n\t::memset(cache, 0x7F, sizeof(cache));\t// Fill chache with '0x7F', thus all element of 'cache' will be 0x7F7F7F7F.\n\tcache[0][128]\t= 0;\n\t\n\trep(i, g_signal.size())\n\t{\n\t\trep(y, MAX_MOD_VAL)\n\t\t{\n\t\t\tif(cache[i][y] == 0x7F7F7F7F)\t{\tcontinue;\t}\n\t\t\trep(k, g_codeBook.size())\n\t\t\t{\n\t\t\t\tint yn = CLIP(y + g_codeBook[k], 0, 255);\n\t\t\t\tcache[i + 1][yn]\t= min(cache[i + 1][yn], cache[i][y] + ::Pow2i(g_signal[i] - yn));\n\t\t\t//\t::printf(\"y: %d, cb: %d, yn: %d, c_{i}: %d, c_{i+1}: %d\\n\", y, g_codeBook[k], yn, cache[i][y], cache[i + 1][yn]);\n\t\t\t}\n\t\t\t//::puts(\"\");\n\t\t}\n\t}\n\treturn(*min_element(cache[g_signal.size()], cache[g_signal.size()] + MAX_MOD_VAL));\n}\n\nint main()\n{\n\tint sigLen, cbLen;\n\twhile(cin >> sigLen >> cbLen, sigLen)\n\t{\n\t\tg_codeBook.resize(cbLen);\n\t\tg_signal.resize(sigLen);\n\t\trep(i, g_codeBook.size())\t{\tcin >> g_codeBook[i];\t}\n\t\trep(i, g_signal.size())\t{\tcin >> g_signal[i];\t}\n\t\t::printf(\"%d\\n\", ::Solve());\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <utility>\n#include <queue>\n\nint solve(int N, int M) {\n  std::vector<int> data(N);\n  std::vector<int> codes(M);\n  for (int i = 0; i < M; i++) {\n    std::cin >> codes[i];\n  }\n  for (int i = 0; i < N; i++) {\n    std::cin >> data[i];\n  }\n\n  struct Traverse {\n    int n;\n    int y;\n    int diff;\n  };\n  auto compare = [](Traverse const& lhs, Traverse const& rhs) {\n    return lhs.diff > rhs.diff;\n  };\n  std::priority_queue<Traverse, std::vector<Traverse>, decltype(compare)> queue(compare);\n  queue.push(Traverse{0, 128, 0});\n\n  while(!queue.empty()) {\n    auto node = queue.top();\n    queue.pop();\n    if (node.n == N) {\n      return node.diff;\n    }\n    for (auto code : codes) {\n      int new_y = node.y + code;\n      new_y = new_y < 0 ? 0 : new_y > 255 ? 255 : new_y;\n      int diff = (new_y - data[node.n]) * (new_y - data[node.n]);\n      queue.push(Traverse{node.n + 1, new_y, node.diff + diff});\n    }\n  }\n}\n\nint main() {\n  int N, M;\n  while (std::cin >> N >> M) {\n    if (N == 0 && M == 0) {\n      break;\n    }\n    std::cout << solve(N, M) << std::endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define fi first\n#define se second\n#define repl(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define repr(i,n) for(int i=(int)(n-1);i>=0;i--)\n#define rep(i,n) repl(i,0,n)\n#define each(itr,v) for(auto itr:v)\n#define pb(s) push_back(s)\n#define all(x) (x).begin(),(x).end()\n#define dbg(x) cout << #x\" = \" << x << endl\n#define print(x) cout << x << endl\n#define maxch(x,y) x=max(x,y)\n#define minch(x,y) x=min(x,y)\n#define uni(x) x.erase(unique(all(x)),x.end())\n#define exist(x,y) (find(all(x),y)!=x.end())\n#define bcnt(x) bitset<32>(x).count()\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int, int> P;\ntypedef pair<P, int> PPI;\ntypedef pair<int, P> PIP;\ntypedef pair<ll, ll> PL;\ntypedef pair<P, ll> PPL;\ntypedef set<int> S;\n\n#define INF INT_MAX/3\n#define MAX_N 1000000001\n\n\nint main(){\n  cin.sync_with_stdio(false);\n  int n, m;\n  ll dp[20001][256];\n  while(cin >> n >> m, n | m) {\n    vector<int> c(m), x(n);\n    rep(i, m) cin >> c[i];\n    rep(i, n) cin >> x[i];\n\n    rep(i, n + 1)rep(j, 256) dp[i][j] = INF;\n    dp[0][128] = 0;\n    rep(i, n) {\n      rep(j, 256) {\n        if (dp[i][j] < INF) {\n          rep(k, m) {\n            int tmp = j + c[k];\n            if (tmp > 255) tmp = 255;\n            else if (tmp < 0) tmp = 0;\n            minch(dp[i + 1][tmp], dp[i][j] + (x[i] - tmp) * (x[i] - tmp));\n          }\n        }\n      }\n    }\n\n    ll ans = INF;\n    rep(i, 256) minch(ans, dp[n][i]);\n\n    cout << ans << endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <vector>\n#include <map>\n#include <set>\n#include <iostream>\n#include <string>\n#include <algorithm>\n#include <assert.h>\nusing namespace std;\ntypedef long long ll;\n\n#define REP(j,n) for (int (j)=0; j<(int)(n); ++j)\n#define FOR(j,k,n) for (int (j)=(k); j<(int)(n); ++j)\n#define FOREQ(j,k,n) for (int (j)=(k); j<=(int)(n); ++j)\n\n#define MEMSET(z,val) memset(z,val,sizeof(z))\n\nint n, m;\nint x[30000];\nint c[100];\nint memo[20010][260];\n\ninline ll square(ll x) { return x * x; }\n\nll calc(int depth, int color) {\n    assert(0 <= color && color <= 255);\n    if (memo[depth][color] != -1) { return memo[depth][color]; }\n    if (depth == n) { return memo[depth][color] = 0; }\n    ll ret = 1LL << 60;\n    REP(i, m) {\n        int ncolor = color + c[i];\n        ncolor = max(0, min(255, ncolor));\n        int cost = square(abs(x[depth + 1] - ncolor));\n        ret = min(ret, calc(depth + 1, ncolor) + cost);\n    }\n    return memo[depth][color] = ret;\n}\n\nint main() {\n    while (scanf(\"%d %d\", &n, &m), n|m) {\n        MEMSET(memo, -1);\n        REP(i, m) {\n            scanf(\"%d\", &c[i]);\n        }\n        REP(i, n) {\n            scanf(\"%d\", &x[i + 1]);\n        }\n        printf(\"%lld\\n\", calc(0, 128));\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <cstdio>\n#include <string>\n#include <cstring>\n#include <cctype>\n#include <cstdlib>\n#include <cmath>\n#include <vector>\n#include <set>\n#include <queue>\n#include <stack>\n#include <map>\n#include <numeric>\nusing namespace std;\n \n#define REP(i, s, e) for (int i = (s); i < (e); i++)\n#define REPI(i, s, e) for (int i = (s); i <= (e); i++)\n#define rep(i, n) REP(i, 0, n)\n#define repi(i, n) REPI(i, 0, n)\n#define ALL(v) (v).begin(), (v).end()\n \n#define dump(x) (cout << #x << \" = \" << x << endl)\n#define dump2(x, y) (cout << \"(\" << #x << \", \" << #y << \") = (\" << x << \", \" << y << \")\" << endl)\n#define dump3(x, y, z) (cout << \"(\" << #x << \", \" << #y << \", \" << #z << \") = (\" << x << \", \" << y << \", \"<< z << \")\" << endl)\n \ntypedef long long ll;\ntypedef pair<int, int> pii;\n\nint N, M;\nvector<int> cs, xs;\n\nconst int INF = 1<<29;\n\nconst int MAX_N = 20010;\n\nint dp[MAX_N][256];\n\ninline int dbl(int n) { return n*n; }\n\nint main()\n{\n\twhile (cin >> N >> M, N|M) {\n\t\tcs = vector<int>(M);\n\t\txs = vector<int>(N);\n\n\t\trep(i, M) cin >> cs[i];\n\t\trep(i, N) cin >> xs[i];\n\n\t\trep(i, MAX_N) rep(j, 256) dp[i][j] = INF;\n\t\tdp[0][128] = 0;\n\t\tfor (int i = 1; i <= N; i++) {\n\t\t\tfor (int u = 0; u <= 255; u++) {\n\t\t\t\tif (dp[i-1][u] == INF) continue;\n\t\t\t\tfor (int j = 0; j < M; j++) {\n\t\t\t\t\tint t = u + cs[j];\n\t\t\t\t\tt = t<0?0:t>255?255:t;\n\t\t\t\t\tdp[i][t] = min(dp[i][t], dp[i-1][u]+dbl(t-xs[i-1]));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << *min_element(dp[N], dp[N]+256) << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "\n#include <cstdio>\n#include <iostream>\n#include <vector>\n#include <map>\n#include <set>\n#include <string>\n#include <cstring>\n#include <sstream>\n#include <algorithm>\n#include <functional>\n#include <queue>\n#include <stack>\n#include <cmath>\n#include <iomanip>\n \nusing namespace std;\n\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n)  FOR(i,0,n)\n#define CLR(a) memset((a), 0 ,sizeof(a))\n#define MCLR(a) memset((a), -1 ,sizeof(a))\n#define SZ(a) (sizeof(a))\n#define FILL(a,v) fill((int*)a,(int*)(a+(SZ(a)/SZ(*(a)))),v)\n\nbool cheak(int x,int y,int xMax,int yMax)\n{return x >= 0 && y >= 0 && xMax > x && yMax > y;}\nconst int dx[4]={-1,0,1,0},dy[4]={0,1,0,-1};\nconst int INF = 2147483647;\ntypedef pair<int,int> P;\ntypedef long long ll;\ntypedef unsigned long long ull;\n\nconst int MAX = 20020;\nint dp[MAX][256];\n\nint main()\n{\n\tint n,m;\n\twhile(cin >> n >> m && n)\n\t{\n\t\tint c[20],x[MAX];\n\t\tREP(i,m)cin >> c[i];\n\t\tREP(i,n)cin >> x[i];\n\t\t\n\t\tFILL(dp,INF);\n\t\tdp[0][128] = 0;\n\n\t\tREP(i,n)\n\t\tREP(j,256)\n\t\tif(dp[i][j] != INF)\n\t\tREP(k,m)\n\t\t{\n\t\t\tint tmp = j+c[k];\n\t\t\tif(tmp < 0)\n\t\t\t\ttmp = 0;\n\t\t\tif(tmp >= 256)\n\t\t\t\ttmp = 255;\n\t\t\t\n\t\t\tint val = pow(x[i]-tmp,2);\n\t\t\tif(val < dp[i+1][tmp])\n\t\t\t\tdp[i+1][tmp] = val+dp[i][j];\n\t\t}\n\n\t\tint ans = INF;\n\t\tREP(j,256)\n\t\tans = min(dp[n][j],ans);\n\t\t\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n\nusing namespace std;\n\nlong long dp[20010][256];\nint book[20];\nint input[20010];\nint N, M;\n\nstatic const long long MAX = 10000000000;\n\nvoid init() {\n  fill(&dp[0][0], &dp[20009][256], MAX);\n}\n\nvoid solve() {\n  dp[0][128] = 0;\n\n  for (int i = 0; i < N; i++) {\n    for (int j = 0; j < 256; j++) {\n      for (int k = 0; k < M; k++) {\n        int tar = j + book[k];\n        if (tar < 0) {\n          tar = 0;\n        } else if (tar > 255) {\n          tar = 255;\n        }\n        long long sub = tar - input[i];\n        sub *= sub;\n        dp[i + 1][tar] = min(dp[i + 1][tar], dp[i][j] + sub);\n      }\n    }\n  }\n\n  long long mn = MAX;\n  for (int i = 0; i < 256; i++) {\n    mn = min(mn, dp[N][i]);\n  }\n  printf(\"%ld\\n\", mn);\n}\n\nint main() {\n    while (true) {\n      scanf(\"%d %d \", &N, &M);\n      if (N == 0 && M == 0) {\n        break;\n      }\n      init();\n      for (int i = 0; i < M; i++) {\n        scanf(\"%d \", &book[i]);\n      }\n      for (int i = 0; i < N; i++) {\n        scanf(\"%d \", &input[i]);\n      }\n      solve();\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i,n) for(int i=0; i < (n);++i)\nusing namespace std;\ntemplate <class _t> inline bool chmax (_t& a,_t b){if(a<b){a=b;return true;}return false;} template <class _t> inline bool chmin (_t& a,_t b){if(a>b){a=b;return true;}return false;}\n\nconst long long inf = 1ll << 60;\nconst long long mod = 1000000007;\n\nint dx[4] = {1,0,-1,0};int dy[4] = {0,-1,0,1};\n\nint main() {\n    while(1){\n\tint n,m;cin >>n>> m;\n\tif(n==0 && m==0) return 0;\n\tvector<long long> C(m),v(n);\n\tfor(int i=0;i<m;i++) cin >> C[i];\n\tfor(int i=0;i<n;i++) cin >> v[i];\n\tvector<vector<long long> > dp(n+1,vector<long long>(256));\n\trep(i,n+1)rep(j,256) dp[i][j] = inf;\n\tdp[0][128] = 0;\n\tfor(int i=0;i<n;i++){\n\t    for(int j=0;j<=255;j++){\n\t\tfor(int k=0;k<C.size();k++){\n\t\t    if(dp[i][j] == inf) continue;\n\t\t    if((j+C[k])<0){\n\t\t\tchmin(dp[i+1][0],dp[i][j]+v[i]*v[i]);\n\t\t    }else if((j+C[k])<256){ chmin(dp[i+1][j+C[k]],dp[i][j]+(v[i]-(j+C[k]))*(v[i]-(j+C[k])));\n\t\t\t/*\n\t\t\tif(i==0){\n\t\t\tcout << \"j=\" <<j << endl;\n\t\t\tcout << \"dp[i][j]=\" << dp[i][j] << endl;\n\t\t\tcout << \"dp[i][j]+(v[i]-(j+C[k]))*(v[i]-(j+C[k])) =\" << dp[i][j]+(v[i]-(j+C[k]))*(v[i]-(j+C[k])) << endl;\n\t\t    \n\t\t\t}\n\t\t\t*/\n\t\t    }else chmin(dp[i+1][255],dp[i][j]+(v[i]-255)*(v[i]-255));\n\t\t}\t\n\t    }\n\t}\n\t/*\n\tfor(int i=0;i<=n;i++){\n\t    for(int j=0;j<=255;j++){\n\t\tcout << dp[2][j] << \" \" ;\n\t    }\n\t    cout << endl;\n\t}\n\t*/\n\tlong long  ans = inf;\n\tfor(int i=0;i<256;i++) chmin(ans,dp[n][i]);\n\tcout << ans << endl;\n    }\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define all(c) (c).begin(),(c).end()\n#define rrep(i,n) for(int i=(int)(n)-1;i>=0;i--)\n#define REP(i,m,n) for(int i=(int)(m);i<(int)(n);i++)\n#define rep(i,n) REP(i,0,n)\n#define iter(c) __typeof((c).begin())\n#define tr(it,c) for(iter(c) it=(c).begin();it!=(c).end();it++)\n#define mem(a) memset(a,0,sizeof(a))\n#define pd(a) printf(\"%.10f\\n\",a)\n#define pb(a) push_back(a)\n#define in(a) insert(a)\n#define pi M_PI\n#define R cin>>\n#define F first\n#define S second\n#define C class\n#define ll long long\n#define ln cout<<'\\n'\n#define _(_1,_2,_3,N,...)N\n#define pr(...) _(__VA_ARGS__,pr3,pr2,pr1)(__VA_ARGS__)\ntemplate<C T>void pr1(T a){cout<<a;ln;}\ntemplate<C T,C T2>void pr2(T a,T2 b){cout<<a<<' '<<b;ln;}\ntemplate<C T,C T2,C T3>void pr3(T a,T2 b,T3 c){cout<<a<<' '<<b<<' '<<c;ln;}\ntemplate<C T>void PR(T a,int n){rep(i,n){if(i)cout<<' ';cout<<a[i];}ln;}\nbool check(int n,int m,int x,int y){return x>=0&&x<n&&y>=0&&y<m;}\nconst ll MAX=1000000007,MAXL=1LL<<60,dx[4]={-1,0,1,0},dy[4]={0,1,0,-1};\ntypedef pair<int,int> P;\n\nvoid Main() {\n  int n,m;\n  while(cin >> n >> m && n) {\n    int c[m],a[n];\n    rep(i,m) R c[i];\n    rep(i,n) R a[i];\n    int dp[2][500];\n    rep(i,2)rep(j,500)dp[i][j]=MAX;\n    dp[0][128]=0;\n    rep(i,n) {\n      rep(j,500) {\n        if(dp[0][j]!=MAX) {\n          rep(k,m) {\n            int x=j+c[k];\n            if(x<0) x=0;\n            if(x>255) x=255;\n            dp[1][x]=min(dp[1][x],dp[0][j]+(a[i]-x)*(a[i]-x));\n          }\n        }\n      }\n      rep(j,500) {\n        dp[0][j]=dp[1][j];\n        dp[1][j]=MAX;\n      }\n    }\n    int ans=MAX;\n    rep(i,500) ans=min(ans,dp[0][i]);\n    pr(ans);\n  }\n}\n\nint main() {\n  ios::sync_with_stdio(0);cin.tie(0);\n  Main();return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\nusing namespace std;\nusing ll=long long;\n\nll dp[20003][256];\n\nll dfs(int i,int y,vector<int>&c,vector<int>&x){\n    if(i>=x.size())return 0;\n    if(y<0)y=0;\n    if(y>255)y=255;\n    if(dp[i][y]!=-1)return dp[i][y];\n    ll res=999999999999;\n    for(int j=0;j<c.size();++j){\n        res=min(res,dfs(i+1,y+c[j],c,x));\n    }\n    return dp[i][y]=res+(y-x[i])*(y-x[i]);\n}\n\nint main(){\n    int n,m;\n    while(cin>>n>>m,n){\n        for(int i=0;i<20003;++i){\n            for(int j=0;j<256;++j)dp[i][j]=-1;\n        }\n        vector<int>c(m),x(n+1);\n        for(int i=0;i<m;++i){\n            cin>>c[i];\n        }\n        x[0]=128;\n        for(int i=1;i<n+1;++i){\n            cin>>x[i];\n        }\n        cout<<dfs(0,128,c,x)<<endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <cstring>\n#include <string>\n#include <algorithm>\n#include <iomanip>\nusing namespace std;\n\ntypedef long long ll;\nconst ll INF = 1LL << 50;\nll dp[20010][260];\nll c[16];\nll x[20000];\n\nint main() {\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\n\tint n, m;\n\twhile(cin >> n >> m, n) {\n\t\tfor(int i = 0; i < m; i++) {\n\t\t\tcin >> c[i];\n\t\t}\n\t\tfor(int i = 0; i < n; i++) {\n\t\t\tcin >> x[i];\n\t\t}\n\n\t\tfill((ll*)begin(dp), (ll*)end(dp), INF);\n\t\tdp[0][128] = 0;\n\n\t\tfor(int i = 0; i < n; i++) {\n\t\t\tfor(int j = 0; j <= 255; j++) {\n\t\t\t\tfor(int k = 0; k < m; k++) {\n\t\t\t\t\tint nj = max(min(j + c[k], 255LL), 0LL);\n\t\t\t\t\tdp[i + 1][nj] = min(dp[i + 1][nj], dp[i][j] + (x[i] - nj) * (x[i] - nj));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tll ans = INF;\n\t\tfor(int j = 0; j <= 255; j++) {\n\t\t\tans = min(ans, dp[n][j]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#define REP(i,a,b) for(int i = (a); i < (b); i++)\n#define rep(i,a) REP(i,0,a)\nusing namespace std;\nconst int R = 20010;\nint N,M,C[16],x[R],dp[R][256], inf = 1 << 28;\n\nint main(void){\n    while (1) {\n        cin >> N >> M;\n        if (N == 0) break;\n        rep(i,R) rep(j,256) dp[i][j] = inf;\n        rep(i,M) cin >> C[i];\n        rep(i,N) cin >> x[i];\n        \n        dp[0][128] = 0;\n        rep(i,N) rep(j,256) rep(k,M) {\n                    int nxt = max(0, min(255,j+C[k]));\n                    int cost = (x[i]-nxt)*(x[i]-nxt);\n                    dp[i+1][nxt] = min(dp[i+1][nxt], dp[i][j]+cost);\n        }\n        \n        int ans = inf;\n        rep(i,256) ans = min(ans, dp[N][i]);\n        cout << ans << endl;\n    }\n    return 0;    \n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n\nusing namespace std;\n\n#define REP(i,n) for(int i=0;i<(n);i++)\n#define REPR(i,n) for(int i=(n)-1;i>=0;i--)\n\n#define FOR(i,m,n) for(int i=(m);i<(n);i++)\n#define int long long\n#define ALL(x) (x).begin(),(x).end()\ntypedef pair<int, int> pii;\n\nint dp[20020][400];//i番目までで、y[i]=jとしたときの誤差の二乗和の最小値\n\nvoid solve() {\n\tint N, M; cin >> N >> M;\n\tif (N == 0)exit(0);\n\tvector<int>C(M);\n\tREP(i, M)cin >> C[i];\n\tvector<int>X(N);\n\tREP(i, N) {\n\t\tcin >> X[i];\n\t}\n\tREP(i, N + 1) {\n\t\tREP(j, 300)dp[i][j] = 1e18;\n\t}\n\tdp[0][128] = 0;\n\tREP(i, N) {\n\t\tREP(j, 256) {\n\t\t\tfor (int c : C) {\n\t\t\t\tint nxt = j + c;\n\t\t\t\tif (nxt < 0)nxt = 0;\n\t\t\t\tif (nxt > 255)nxt = 255;\n\t\t\t\tint dif = X[i] - nxt;\n\t\t\t\tdif *= dif;\n\t\t\t\tdp[i + 1][nxt] = min(dp[i + 1][nxt], dp[i][j] + dif);\n\t\t\t}\n\t\t}\n\t}\n\tint ans = 1e18;\n\tREP(j, 256) {\n\t\tans = min(ans, dp[N][j]);\n\t}\n\tcout << ans << endl;\n}\n\nsigned main() {\n\twhile(true)solve();\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntemplate<class T>\nbool chmax(T& a, const T& b) {\n    if (a < b) { a = b; return true; }\n    return false;\n}\ntemplate<class T>\nbool chmin(T& a, const T& b) {\n    if (b < a) { a = b; return true; }\n    return false;\n}\n\n// std::vector Declaration\ntemplate<typename T>\nvector<T> make_v(size_t a) { return vector<T>(a); }\ntemplate<typename T, typename... Ts>\nauto make_v(size_t a, Ts... ts) {\n    return vector<decltype(make_v<T>(ts...))>(a, make_v<T>(ts...));\n}\n\n// std::vector Declaration and Initialization\ntemplate<typename T>\nvector<T> make_vector(size_t a, T x) { return vector<T>(a, x); }\ntemplate<typename T, typename U, typename... Ts>\nauto make_vector(size_t a, U b, Ts... ts) {\n    return vector<decltype(make_vector<T>(b,ts...))>(a, make_vector<T>(b, ts...));\n}\n\n// std::vector Input\ntemplate<typename T>\nistream& operator>>(istream& is, vector<T>& v) {\n    for (auto &e : v) is >> e;\n    return is;\n}\n\n// std::vector Debug\ntemplate<typename T>\nostream& operator<<(ostream& os, const vector<T>& v) {\n    os << \"[\";\n    bool a = 1;\n    for (auto e : v) {\n        os << (a ? \"\" : \" \");\n        os << e;\n        a = 0;\n    }\n    os << \"]\";\n    return os;\n}\n\n// std::array Debug\ntemplate<typename T, size_t n>\nostream& operator<<(ostream& os, const array<T, n>& v) {\n    os << \"[\";\n    bool a = 1;\n    for (auto e : v) {\n        os << (a ? \"\" : \" \");\n        os << e;\n        a = 0;\n    }\n    os << \"]\";\n    return os;\n}\n\n// std::deque Debug\ntemplate<typename T>\nostream& operator<<(ostream& os, const deque<T>& d) {\n    os << \"[\";\n    bool a = 1;\n    for (auto e : d) {\n        os << (a ? \"\" : \" \");\n        os << e;\n        a = 0;\n    }\n    os << \"]\";\n    return os;\n}\n\n// std::pair Debug\ntemplate<typename T, typename U>\nostream& operator<<(ostream& os, const pair<T, U>& p) {\n    os << \"(\" << p.first << \" \" << p.second << \")\";\n    return os;\n}\n\n// std::set Debug\ntemplate<typename T>\nostream& operator<<(ostream& os, const set<T>& st) {\n    os << \"{\";\n    bool a = 1;\n    for (auto e : st) {\n        os << (a ? \"\" : \" \");\n        os << e;\n        a = 0;\n    }\n    os << \"}\";\n    return os;\n}\n\n// std::multiset Debug\ntemplate<typename T>\nostream& operator<<(ostream& os, const multiset<T>& st) {\n    os << \"{\";\n    bool a = 1;\n    for (auto e : st) {\n        os << (a ? \"\" : \" \");\n        os << e;\n        a = 0;\n    }\n    os << \"}\";\n    return os;\n}\n\n// std::map Debug\ntemplate<typename T, typename U>\nostream& operator<<(ostream& os, const map<T, U>& mp) {\n    os << \"{\";\n    bool a = 1;\n    for (auto e : mp) {\n        os << (a ? \"\" : \" \");\n        os << e.first << \":\" << e.second;\n        a = 0;\n    }\n    os << \"}\";\n    return os;\n}\n\n// std::tuple Debug\ntemplate<int N, class Tuple>\nvoid out(ostream& os, const Tuple& t){}\ntemplate<int N, class Tuple, class H, class ...Ts>\nvoid out(ostream& os, const Tuple& t) {\n    if (N) os << \" \";\n    os << get<N>(t);\n    out<N+1,Tuple,Ts...>(os, t);\n}\ntemplate<class ...Ts>\nostream& operator<<(ostream& os, const tuple<Ts...>& t) {\n    os << \"(\";\n    out<0,tuple<Ts...>,Ts...>(os, t);\n    os << \")\";\n    return os;\n}\n\n// Debug\n#define DUMP(x) cerr<<#x<<\" = \"<<(x)<<endl\n\n// Weighted edge\ntemplate<typename T>\nstruct edge {\n    int src, to;\n    T cost;\n\n    edge(int to, T cost) : src(-1), to(to), cost(cost) {}\n    edge(int src, int to, T cost) : src(src), to(to), cost(cost) {}\n\n    friend ostream& operator<<(ostream& os, const edge& e) {\n        return os << \"(\" << e.src << \"->\" << e.to << \":\" << e.cost << \")\";\n    }\n};\n\nusing LL = long long;\n\n#define fs first\n#define sc second\n\nconst LL MOD = 1e9+7;\n\n\nint main()\n{\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    cout << fixed << setprecision(10);\n\n    while (true)\n    {\n        int n, m; cin >> n >> m;\n        if (n == 0 && m == 0) {\n            break;\n        }\n\n        vector<int> c(m), x(n);\n        cin >> c >> x;\n\n\n        const int INF = numeric_limits<int>::max();\n        auto dp = make_vector<int>(n+1, 256, INF);\n        dp[0][128] = 0;\n\n        for (int i = 0; i < n; ++i) {\n            for (int a = 0; a < 256; ++a) {\n                if (dp[i][a] == INF) continue;\n\n                for (int j = 0; j < m; ++j) {\n                    int next = min(max( a + c[j], 0),255);\n                    chmin(\n                            dp[i+1][next],\n                            dp[i][a] + (next - x[i]) * (next - x[i])\n                         );\n                }\n            }\n        }\n\n\n        int ans = *min_element(dp[n].begin(), dp[n].end());\n        cout << ans << endl;\n    }\n\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n \n#define _overload(_1,_2,_3,name,...) name\n#define _rep(i,n) _range(i,0,n)\n#define _range(i,a,b) for(int i=(int)(a);i<(int)(b);++i)\n#define rep(...) _overload(__VA_ARGS__,_range,_rep,)(__VA_ARGS__)\n \n#define _rrep(i,n) _rrange(i,n,0)\n#define _rrange(i,a,b) for(int i=(int)(a)-1;i>=(int)(b);--i)\n#define rrep(...) _overload(__VA_ARGS__,_rrange,_rrep,)(__VA_ARGS__)\n \n#define _all(arg) begin(arg),end(arg)\n#define uniq(arg) sort(_all(arg)),(arg).erase(unique(_all(arg)),end(arg))\n#define getidx(ary,key) lower_bound(_all(ary),key)-begin(ary)\n#define clr(a,b) memset((a),(b),sizeof(a))\n#define bit(n) (1LL<<(n))\n \n// #define DEBUG\n \n#ifdef DEBUG\n    #define dump(...) fprintf(stderr, __VA_ARGS__)\n#else\n    #define dump(...)\n#endif\n \ntemplate<class T>bool chmax(T &a, const T &b) { return (a<b)?(a=b,1):0;}\ntemplate<class T>bool chmin(T &a, const T &b) { return (b<a)?(a=b,1):0;}\n \nusing namespace std;\nusing ll=long long;\nusing vi=vector<int>;\nusing vll=vector<ll>;\n \nconst double EPS = 1e-10;\nconst double PI = acos(-1.0);\nconst ll inf =1LL << 60;\nconst ll mod=1000000007LL;\nconst int dx[4]={1,0,-1,0};\nconst int dy[4]={0,1,0,-1};\n \n \nll extgcd(ll a,ll b,ll& x,ll& y){x=1,y=0;ll g=a;if(b!=0) g=extgcd(b,a%b,y,x),y-=a/b*x;return g;}\nll ADD(const ll &a, const ll &b,const ll &mod) { return (a+b)%mod;}\nll SUB(const ll &a, const ll &b,const ll &mod) { return (a-b+mod)%mod;}\nll MUL(const ll &a, const ll &b,const ll &mod) { return (1LL*a*b)%mod;}\nll DIV(const ll &a, const ll &b,const ll &mod) {ll x,y; extgcd(b,mod,x,y);return MUL(a,(x+mod)%mod,mod);}\n \nrandom_device rd;\nmt19937 mt(rd());\nuniform_int_distribution<int> dice(1,6);\nuniform_real_distribution<double> score(0.0,10.0);\n\nconst int N = 256;\n\ninline int round(int x){\n    chmin(x, N - 1);\n    chmax(x, 0);\n    return x;\n}\n\nint main(void){\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n\n    for(int n, m; cin >> n >> m, n;){\n        vi C(m); for(auto& e : C) cin >> e;\n        vi x(n); for(auto& e : x) cin >> e;\n\n        vector<vll> dp(n + 1, vll(N, inf));\n        dp[0][128] = 0;\n\n        rep(i, n){\n            rep(j, N + 1){\n                ll cur = dp[i][j];\n\n                if(dp[i][j] == inf) continue;\n                for(auto& c : C){\n                    int nj = round(j + c);\n                    chmin(dp[i + 1][nj], cur + (int)pow(nj - x[i], 2));\n                }\n            }\n        }\n\n        cout << *min_element(_all(dp[n])) << endl;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define fi first\n#define se second\n#define repl(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define rep(i,n) repl(i,0,n)\n#define each(itr,v) for(auto itr:v)\n#define pb(s) push_back(s)\n#define maxch(x,y) x=max(x,y)\n#define minch(x,y) x=min(x,y)\n#define mp(a,b) make_pair(a,b)\n#define all(x) (x).begin(),(x).end()\n#define dbg(x) cout<<#x\"=\"<<x<<endl\n#define maxch(x,y) x=max(x,y)\n#define minch(x,y) x=min(x,y)\n#define uni(x) x.erase(unique(all(x)),x.end())\ntemplate<class T,class U>inline void chmin(T &t,U f){if(t>f)t=f;}\ntemplate<class T,class U>inline void chmax(T &t,U f){if(t<f)t=f;}\n#define MAX(a, b) ((a) > (b) ? (a) : (b))\n#define MIN(a, b) ((a) > (b) ? (b) : (a))\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int, int> P;\ntypedef pair<P, int> PPI;\n\n#define INF INT_MAX/3\n#define MAX_N 1000\nll n,m;\nll dp[200001][256];\nll c[16],x[20000];\nll rec(ll p,ll y){\n  if(dp[p][y] >= 0) return dp[p][y];\n\n  if(p == n) return 0;\n\n  long ret=LONG_MAX;\n    for(ll i=0; i<m; ++i){ //??????????????????????????¨????????????????????°????????????\n        ll ny = y+c[i];\n        if(ny<0) ny=0;\n        else if(ny>255) ny=255;\n\n        ret = MIN(ret, rec(p+1,ny)+(ny-x[p])*(ny-x[p]));\n    }\n    return dp[p][y]=ret;\n}\nvoid solve(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n  while(1){\n    cin>>n>>m;\n    if(n==0) break;\n    rep(i,m) cin>>c[i];\n    rep(i,n) cin>>x[i];\n    memset(dp,-1,sizeof(dp));\n    printf(\"%lld\\n\",rec(0,128));\n  }\n\n}\nint main(){\n  solve();\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing ll = long long;\n#define FOR(i,a,b) for(ll i=a;i<=b;i++)\n#define FORD(i,a,b) for(int i=a;i>=b;i--)\n#define ALL(a)  (a).begin(),(a).end()\n#define SZ(a) int((a).size())\n#define SORT(c) sort((c).begin(),(c).end())\n#define MEMSET(v, h) memset((v), h, sizeof(v))\n#define sqr(x) ((x) * (x))\n#define bit(n) (1LL<<(n))\n#define pcnt(x) __builtin_popcountll(x)\n#define PB push_back\n#define MP make_pair\n#define endl \"\\n\"\nusing Edge = pair<int,int>;\nusing Graph = vector<vector<Edge>>;\ntemplate<class T> inline bool chmax(T& a, T b) { if (a < b) { a = b; return 1; } return 0; }\ntemplate<class T> inline bool chmin(T& a, T b) { if (a > b) { a = b; return 1; } return 0; }\n// ll gcd(ll a,ll b){return b?gcd(b,a%b):a;}\n// ll lcm(ll a,ll b){return a/gcd(a,b)*b;}\n\nint dp[20100][256];\nconst int MAX = 1001001001;\n\nint main() {\n  while(1){\n    int n,m; cin >> n >> m;\n    if(n==0 && m==0) break;\n\n    FOR(i,0,n){\n      FOR(j,0,255){\n        dp[i][j] = MAX;\n      }\n    }\n\n    int c[m],x[n];\n    FOR(i,0,m-1) cin >> c[i];\n    FOR(i,0,n-1) cin >> x[i];\n    dp[0][128] = 0;\n\n    FOR(i,0,n-1){\n      FOR(j,0,255){\n        if(dp[i][j]==MAX) continue;\n        FOR(k,0,m-1){\n          int to = j + c[k];\n          // cout << i << \" \" << to << \"\\n\";\n          chmax(to,0);\n          chmin(to,255);\n          chmin(dp[i+1][to], dp[i][j] + (x[i]-to) * (x[i]-to));\n        }\n      }\n    }\n\n    int ans = 1001001001;\n    FOR(i,0,255) chmin(ans,dp[n][i]);\n    cout << ans << \"\\n\";\n  }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <cstdio>\n\nusing namespace std;\n\nconst int INF = 1<<30;\n\nint n, m, data[16], dp[2][256], in;\n\nmain(){\n  while(1){\n    scanf(\"%d%d\", &n, &m);\n    if(!n && !m) break;\n    for(int i=0;i<m;i++) scanf(\"%d\", &data[i]);\n    for(int i=0;i<256;i++) dp[0][i] = INF;\n    dp[0][128] = 0;\n    for(int i=0;i<n;i++){\n      for(int j=0;j<256;j++) dp[(i+1)%2][j] = INF;\n      scanf(\"%d\", &in);\n      for(int j=0;j<256;j++){\n        if(dp[i%2][j] == INF) continue;\n        for(int k=0;k<m;k++){\n          int next = j + data[k];\n          if(next < 0) next = 0;\n          if(next > 255) next = 255;\n          dp[(i+1)%2][next] = min(dp[(i+1)%2][next], abs(in-(next)) * abs(in-(next)) + dp[i%2][j]);\n        }\n      }\n    }\n    int ans = INF;\n    for(int i=0;i<256;i++) ans = min(ans, dp[n%2][i]);\n    printf(\"%d\\n\", ans);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\n#include<stack>\n#include<map>\n#include<set>\n#include<queue>\n#include<cstdio>\n#include<climits>\n#include<cmath>\n#include<cstring>\n#include<string>\n#include<sstream>\n#include<numeric>\n#include<cassert>\n\n#define f first\n#define s second\n#define mp make_pair\n\n#define REP(i,n) for(int i=0; i<(int)(n); i++)\n#define rep(i,s,n) for(int i=(s); i<(int)(n); i++)\n#define FOR(i,c) for(__typeof((c).begin()) i=(c).begin(); i!=(c).end(); i++)\n#define ALL(c) (c).begin(), (c).end()\n#define IN(x,s,g) ((x) >= (s) && (x) < (g))\n#define ISIN(x,y,w,h) (IN((x),0,(w)) && IN((y),0,(h)))\n#define print(x) printf(\"%d\\n\",x)\n\nusing namespace std;\n\ntypedef unsigned int uint;\ntypedef long long ll;\n\nconst int _dx[] = {0,1,0,-1};\nconst int _dy[] = {-1,0,1,0};\n\nint getInt(){\n  int ret = 0,c;\n  c = getchar();\n  while(!isdigit(c)) c = getchar();\n  while(isdigit(c)){\n    ret *= 10;\n    ret += c - '0';\n    c = getchar();\n  }\n  return ret;\n}\n\nint c[16];\nint x[20000];\nint n,m;\n\nint memo[256][20000];\n\nint solve(int now, int prev){\n  if(now == n) return 0;\n  if(memo[now][prev]!=-1) return memo[now][prev];\n\n  int ret = INT_MAX;\n  REP(i,m){\n    int t = min(255,max(0,prev + c[i]));\n\n    int g = (t - x[now]) * (t - x[now]);\n    ret = min(ret, g + solve(now+1, t));\n  }\n  return memo[now][prev] = ret;\n}\n\nint main(){\n  while(scanf(\"%d%d\",&n,&m), n+m){\n    REP(i,m) scanf(\"%d\",c+i);\n    REP(i,n) scanf(\"%d\",x+i);\n    memset(memo,-1,sizeof(memo));\n    print(solve(0,128));\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint rnd(int n){\n    return (n>255)?255:(n<0)?0:n;\n}\n\nint main(void){\n    int n,m;\n    while(cin>>n>>m,n){\n        vector<vector<int>> dp(2,vector<int>(256,999999999));\n        vector<int> c_data(m),x(n);\n        for(int i=0;i<m;i++) cin>>c_data[i];\n        for(int i=0;i<n;i++) cin>>x[i];\n        dp[0][128]=0;\n        for(int i=1;i<n+1;i++){\n            dp[i%2]=vector<int>(256,999999999);\n            for(int j=0;j<256;j++){\n                if(dp[(i+1)%2][j]==999999999) continue;\n                for(auto c:c_data){\n                    dp[i%2][rnd(j+c)]=min(dp[i%2][rnd(j+c)],\n                                        dp[(i+1)%2][j]+(rnd(j+c)-x[i-1])*(rnd(j+c)-x[i-1]));\n                }\n            }\n        }\n        cout<<*min_element(dp[n%2].begin(),dp[n%2].end())<<endl;\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include <iostream>\n#include <math.h>\n#include <numeric>\n#include <vector>\n#include <map>\n#include <functional>\n#include <stdio.h>\n#include <array>\n#include <algorithm>\n#include <string>\n#include <string.h>\n#include <assert.h>\n#include <stdio.h>\n#include <queue>\n#include<iomanip>\n#include<bitset>\n#include<stack>\n#include<set>\n#include<limits>\n#include <complex>\n#include<cstdlib>\nusing namespace std;\n\nbool isso(long long int a) {\n\tif (a == 1||a==0)return false;\n\tfor (long long int i = 2; i*i <= a; ++i) {\n\t\tif ((a%i)) {\n\t\t}\n\t\telse {\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n}\n\nstruct edge {\n\tint from;\n\tint to;\n\tlong double time;\n};\nstruct aa {\n\tint now;\n\tlong double time;\n\tbitset<8>tickets;\n};\n\nclass Compare {\npublic:\n\t//keiroが昇順に並ぶ\n\tbool operator()(const aa&l, const aa&r) {\n\t\treturn l.time> r.time;\n\t}\n};\n\nlong long int powint(long long int a, long long int b) {\n\tassert(b >= 0);\n\tif (b == 0)return 1;\n\tif (b == 1)return a;\n\tlong long int ans = 1;\n\tlong long int aa = powint(a, b / 2);\n\tans *= aa*aa;\n\tif (b % 2)ans *= a;\n\treturn ans;\n}\n\nint fizznum[15] = { 0,0,1,1,1,2,2,2,3,3,3,4,4,4,4 };\nint buzznum[15] = { 0,0,0,0,1,1,1,1,1,2,2,2,2,2,2 };\nint fibunum[15] = { 0,0,0,0,0,0,0,0,0,0,0,0,0,0,1 };\nlong long int memo[18];\n\nstring makefb(long long int num) {\n\tstring st;\n\tif (!(num % 3)) {\n\t\tst+=(\"Fizz\");\n\t}\n\tif (!(num % 5)) {\n\t\tst+=(\"Buzz\");\n\t}\n\tif (st.size() == 0) {\n\t\tst = to_string(num);\n\t}\n\treturn st;\n}\n\nstring getans(long long int rest, long long int from) {\n\tstring ans;\n\tlong long int now(from);\n\twhile (1) {\n\t\tstring ast(makefb(now));\n\t\tif (rest <= ast.size()) {\n\t\t\tans+=(ast.substr(rest, int(ast.size() - rest)));\n\t\t\trest = 0;\n\t\t}\n\t\telse {\n\t\t\trest -= ast.size();\n\t\t}\n\t\tnow++;\n\t\tif (ans.size() >= 20) {\n\t\t\treturn ans.substr(0, 20);\n\t\t}\n\t}\n}\n\nlong long int dp[20001][256];\nint main() {\n\twhile (1) {\n\t\tmemset(dp, 9999999, sizeof(dp));\n\t\tint N, M; cin >> N >> M;\n\t\tif (!N)break;\n\t\tset<int>changes;\n\t\tfor (int i = 0; i < M; ++i) {\n\t\t\tint c; cin >> c;\n\t\t\tchanges.emplace(c);\n\t\t}\n\t\tvector<int>nums;\n\t\tfor (int i = 0; i < N; ++i) {\n\t\t\tint x; cin >> x;\n\t\t\tnums.emplace_back(x);\n\t\t}\n\t\t\n\t\tdp[0][128] = 0;\n\t\tfor (int i = 0; i < N; ++i) {\n\t\t\tfor (int j = 0; j < 256; ++j) {\n\t\t\t\tfor (auto it = changes.begin(); it != changes.end(); ++it) {\n\t\t\t\t\tlong long int nextnum = max(0,min(255, j + (*it)));\n\t\t\t\t\tdp[i + 1][nextnum] = min(dp[i+1][nextnum],dp[i][j]+(nextnum - nums[i])*(nextnum - nums[i]));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tlong long int ans = 1e16;\n\t\tfor (int j = 0; j < 256; ++j) {\n\t\t\tans = min(ans, dp[N][j]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing ll=long long;\nusing vb=vector<bool>;\nusing vvb=vector<vb>;\nusing vd=vector<double>;\nusing vvd=vector<vd>;\nusing vi=vector<int>;\nusing vvi=vector<vi>;\nusing vl=vector<ll>;\nusing vvl=vector<vl>;\nusing pii=pair<int,int>;\nusing pll=pair<ll,ll>;\nusing tll=tuple<ll,ll>;\nusing tlll=tuple<ll,ll,ll>;\nusing vs=vector<string>;\n\n#define all(a) a.begin(),a.end()\n#define rall(a) a.rbegin(),a.rend()\n#define rep(i,n) range(i,0,n)\n#define rrep(i,n) for(int i=(n)-1;i>=0;i--)\n#define range(i,a,n) for(int i=(a);i<(n);i++)\n\n#define LINF ((ll)1ll<<60)\n#define INF ((int)1<<30)\n#define EPS (1e-9)\n#define MOD (1000000007ll)\n#define fcout(a) cout<<setprecision(a)<<fixed\n#define fs first\n#define sc second\n#define PI 3.1415926535897932384\n\nint dx[]={1,0,-1,0,1,-1,-1,1},dy[]={0,1,0,-1,1,1,-1,-1};\n\ntemplate<class T>bool chmax(T&a,T b){if(a<b){a=b; return true;}return false;}\ntemplate<class T>bool chmin(T&a,T b){if(a>b){a=b; return true;}return false;}\ntemplate<class S>S acm(vector<S>&a){return accumulate(all(a),S());}\ntemplate<class S>S max(vector<S>&a){return *max_element(all(a));}\ntemplate<class S>S min(vector<S>&a){return *min_element(all(a));}\nvoid YN(bool b){cout<<(b?\"YES\":\"NO\")<<\"\\n\";}\nvoid Yn(bool b){cout<<(b?\"Yes\":\"No\")<<\"\\n\";}\nvoid yn(bool b){cout<<(b?\"yes\":\"no\")<<\"\\n\";}\n\nll max(int a,ll b){return max((ll)a,b);} ll max(ll a,int b){return max(a,(ll)b);}\ntemplate<class T>void puta(T&&t){cout<<t<<\"\\n\";}\ntemplate<class H,class...T>void puta(H&&h,T&&...t){cout<<h<<' ';puta(t...);}\ntemplate<class S,class T>ostream&operator<<(ostream&os,pair<S,T>p){os<<\"[\"<<p.first<<\", \"<<p.second<<\"]\";return os;};\ntemplate<class S>auto&operator<<(ostream&os,vector<S>t){bool a=1; for(auto s:t){os<<(a?\"\":\" \")<<s;a=0;} return os;}\n\nvoid solve(int n,int m){\n\tvvl dp(256,vl(n+1,LINF));\n\tvl c(m),x(n);\n\trep(i,m)cin>>c[i];\n\trep(i,n)cin>>x[i];\n\trep(i,256)dp[i][0]=0;\n\trep(i,n){\n\t\trep(j,256){\n\t\t\trep(k,m){\n\t\t\t\tint next=max(0,min(255,j+(int)c[k]));\n\t\t\t\tchmin(dp[next][i+1],dp[j][i]+(next-x[i])*(next-x[i]));\n\t\t\t}\n\t\t}\n\t}\n\tll ans=LINF;\n\trep(i,256)chmin(ans,dp[i][n]);\n\tcout<<ans<<endl;\n}\n\nint main(){\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\tint n,m;\n\twhile(cin>>n>>m,n)solve(n,m);\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <map>\n#include <algorithm>\nusing namespace std;\n\nconst int INF = 1e+8;\nconst int MAX_M = 16;\nconst int MAX_N = 20001;\n\n// dp[i][y] := i 番目までの差分の総和\nint dp[MAX_N][256];\n\nint main(){\n\tint N, M;\n\twhile( cin >> N >> M, N || M ){\n\t\tint C[MAX_M] = {0};\n\t\t\n\t\tfor(int i=0 ; i < M ; i++ ){\n\t\t\tcin >> C[i];\n\t\t}\n\t\t\n\t\t// 初期化\n\t\tfor(int i=0 ; i <= MAX_N ; i++ ){\n\t\t\tfor(int j=0 ; j < 256 ; j++ ){\n\t\t\t\tdp[i][j] = INF;\n\t\t\t}\n\t\t}\n\t\tdp[0][128] = 0;\n\t\t\n\t\tfor(int i=1 ; i <= N ; i++ ){\n\t\t\tint x;\n\t\t\tcin >> x;\n\t\t\tfor(int prev=0 ; prev < 256 ; prev++ ){\n\t\t\t\tfor(int m=0 ; m < M ; m++ ){\n\t\t\t\t\tint next = prev + C[m];\n\t\t\t\t\tif( next < 0 ) next = 0;\n\t\t\t\t\tif( next > 255 ) next = 255;\n\t\t\t\t\tint diff = (next - x) * (next - x);\n\t\t\t\t\tdp[i][next] = min( dp[i][next] , dp[i-1][prev] + diff );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = INF;\n\t\tfor(int i=0 ; i < 256 ; i++ ){\n\t\t\tans = min( ans , dp[N][i] );\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define inf 1e9\n#define ll long long\n#define ull unsigned long long\n#define M 1000000007\n#define P pair<int,int>\n#define PLL pair<ll,ll>\n#define FOR(i,m,n) for(int i=m;i<n;i++)\n#define RFOR(i,m,n) for(int i=m;i>=n;i--)\n#define rep(i,n) FOR(i,0,n)\n#define rrep(i,n) RFOR(i,n,0)\n#define all(a) a.begin(),a.end()\nconst int vx[4] = {0,1,0,-1};\nconst int vy[4] = {1,0,-1,0};\n#define PI 3.14159265\n\nint dp[21000][300];\n\nvoid f(int n,int m){\n\n  FOR(i,1,n+1){\n    rep(j,300){\n      dp[i][j] = inf;\n    }\n  }\n  int c[1000];\n  rep(i,m){\n    cin>>c[i];\n  }\n\n  FOR(i,1,n+1){\n    int x;\n    cin>>x;\n    rep(j,256){\n      rep(k,m){\n        int a = j+c[k];\n        a = min(255,a);\n        a = max(0,a);\n        int d = (a-x)*(a-x);\n        dp[i][a] = min(dp[i][a],dp[i-1][j]+d);\n      }\n    }\n\n  }\n  int ans = inf;\n  rep(i,256){\n    ans = min(ans,dp[n][i]);\n  }\n\n  cout<<ans<<endl;\n\n}\n\nint main(){\n  while(1){\n    int n,m;\n    cin>>n>>m;\n    if(n==0&&m==0) break;\n    f(n,m);\n  }\n\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "//Differential Pulse Code Modulation\n#include<bits/stdc++.h>\nusing namespace std;\n\n#define INF 1000000000\nint N, M;\nint C[16], x[20000];\nint dp[20000][257]; //dp[p] := i???????????°?????\\????????\\???????????¨?????????????????????????????¨?????????????????????????°????\n\n//p:?????? w:?????¨?????????\nint solve(int p, int w){\n  if(p==N)return 0;\n  if(dp[p][w]!=-1)return dp[p][w];\n\n  int mn=INF;\n  for(int i=0; i<M; i++){\n    int nw = w+C[i];\n    if(nw<0)nw=0;\n    if(nw>255)nw=255;\n    int tmp=solve(p+1, nw)+(nw-x[p])*(nw-x[p]);\n    if(mn>tmp)mn=tmp;\n  }\n  return dp[p][w]=mn;\n}\n\nint main(){\n  while(cin >> N >> M, !(N==0 && M==0)){\n    //??\\???\n    for(int i=0; i<M; i++)\n      cin >> C[i];\n    for(int i=0; i<N; i++)\n      cin >> x[i];\n\n    memset(dp, -1, sizeof(dp));\n\n    cout << solve(0, 128) << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n\nusing namespace std;\n\nconst int INF = 1e8;\n\n\nvoid debug(vector<int> c, vector<int> x){\n\tfor(int i=0;i<c.size();i++) cout<< \" \"<< c[i]; cout<< endl;\n\tfor(int i=0;i<x.size();i++) cout<< \" \"<< x[i]; cout<< endl;\n}\n\nvoid debug(vector<vector<int>>& dp){\n\tcerr<< \" -- debug -- \"<< endl;\n\tfor(int i=0;i<dp.size();i++){\n\t\tfor(int j=0;j<dp[i].size();j++){\n\t\t\tif(dp[i][j] != INF) cerr<< \"(\"<< i<< \",\"<< j<< \")\"<< dp[i][j]<< \" \";\n\t\t}\n\t\tcerr<< endl;\n\t}\n}\n\nint norm(int a, int b){\n\treturn (a - b) * (a - b);\n}\n\nbool solve(){\n\tint n, m;\n\tcin>> n>> m;\n\tif(!n && !m) return false;\n\n\tvector<int> c(m), x(n+1);\n\tfor(int i=0;i<m;i++) cin>> c[i];\n\tx[0] = 128;\n\tfor(int i=0;i<n;i++) cin>> x[i+1];\n\t//debug(c, x);\n\n\tvector<vector<int>> dp(n+1, vector<int>(256, INF));\n\tdp[0][128] = 0;\n\tfor(int i=0;i<dp.size()-1;i++){\n\t\tfor(int j=0;j<dp[i].size();j++){\n\t\t\tif(dp[i][j] == INF) continue;\n\t\t\tfor(int k=0;k<c.size();k++){\n\t\t\t\tint jj = j + c[k];\n\t\t\t\tjj = min(jj, 255); jj = max(jj, 0);\n\t\t\t\tdp[i+1][jj] = min(dp[i+1][jj], dp[i][j] + norm(x[i+1], jj));\n\t\t\t}\n\t\t}\n\t}\n\t//debug(dp);\n\n\tint ans = INF;\n\tfor(int i=0;i<dp[n].size();i++) ans = min(ans, dp[n][i]);\n\tcout<< ans<< endl;\n\treturn true;\n}\n\nint main(){\n\tcout.setf(ios::fixed); cout.precision(10);\n\twhile(solve());\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\n#define INF 1e9\n#define llINF 1e18\n#define MOD 1e9+7\n#define pb push_back\n#define mp make_pair \n#define F first\n#define S second\n#define ll long long\n#define sqr(x) (x)*(x)\nusing namespace std;\nvector<int>C(5000);\nvector<int>x(100000);\nint ans=0;\nint n,m;\nint main(){\n  while(cin>>n>>m,n){\n    ans=INF;\n    int dp[n+20][530]={};\n    for(int i=0;i<n+2;i++)\n      for(int j=0;j<530;j++)\n\tdp[i][j]=INF;\n    for(int i=0;i<m;i++)\n      cin>>C[i];\n    for(int i=0;i<n;i++){\n      cin>>x[i];\n      x[i]+=260;\n    }\n\n    dp[0][128+260]=0;\n    for(int i=1;i<=n;i++){\n      for(int j=0;j<530;j++){\n\tif(dp[i-1][j]!=INF){\n\t  for(int k=0;k<m;k++){\n\t    int num=j+C[k];\n\t    if(num>=515)num=515;\n\t    else if(num<=5)num=5;\n\t    //cout<<i<<\" \"<<\n\t    dp[i][num]=min(dp[i-1][j]+((num-x[i-1])*(num-x[i-1])),dp[i][num]);\n\t  }\n\t}\n      }\n    }\n    for(int i=0;i<530;i++){\n      ans=min(dp[n][i],ans);\n    }\n    cout<<ans<<endl;\n  }\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define REP(i,n) for(int i=0;i<n;i++)\n#define rep(i,n) for(int i=0;i<n;i++)\n#define INF INT_MAX/3\n#define LINF LLONG_MAX/3\n#define MP make_pair\n#define PB push_back\n#define EB emplace_back\n#define ALL(v) (v).begin(),(v).end()\n#define debug(x) cout<<#x<<\":\"<<x<<endl\n#define debug2(x,y) cout<<#x<<\",\"<<#y\":\"<<x<<\",\"<<y<<endl\ntemplate<typename T> ostream& operator<<(ostream& os,const vector<T>& vec){ os << \"[\"; for(const auto& v : vec){ os << v << \",\"; } os << \"]\"; return os; }\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> pii;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\n\n#define MAXN 20000\n\nll dp[MAXN+10][256+10];\n\nint add(int y,int diff){\n    int ny = y+diff;\n    if(ny<0) ny=0;\n    if(ny>255) ny=255;\n    return ny;\n}\n\nvoid solve(int N,int M){\n    vector<int> c(M),x(N);\n    rep(i,M) cin>>c[i];\n    rep(i,N) cin>>x[i];\n\n    rep(i,MAXN+10) rep(j,256) dp[i][j]=LINF;\n\n    dp[0][128]=0;\n\n    for(int i=0;i<N;i++){\n        for(int j=0;j<256;j++){\n            for(int k=0;k<M;k++){       // c[k]????????¨\n                ll nx = add(j,c[k]);\n                ll dif = x[i] - nx;\n                dp[i+1][add(j,c[k])] = min(dp[i+1][add(j,c[k])],dp[i][j]+dif*dif);\n            }\n        }\n    }\n\n    ll ans = LINF;\n    for(int i=0;i<256;i++){\n        ans = min(ans,dp[N][i]);\n    }\n\n\n\n//    for(int i=0;i<256;i++){\n//        cout << dp[N][i] << endl;\n//    }\n\n    cout << ans << endl;\n}\n\nint main(){\n    int n,m;\n    while(cin>>n>>m){\n        if(n==0 and m==0) break;\n        solve(n,m);\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nconst int INF = 1 << 30;\n\nint main(){\n  int N, M, C[16], x[20000];\n  int dp[2][256];\n  \n  while(scanf(\"%d %d\", &N, &M), N){\n    for(int i = 0; i < M; i++){\n      scanf(\"%d\", &C[i]);\n    }\n    for(int i = 0; i < N; i++){\n      scanf(\"%d\", &x[i]);\n    }\n    fill_n( *dp, 2 * 256, INF);\n    dp[0][128] = 0;\n    for(int i = 0; i < N; i++){\n      for(int j = 0; j < 256; j++){\n        if(dp[i & 1][j] == INF) continue;\n        for(int k = 0; k < M; k++){\n          int value = min( 255, max( 0, j + C[k]));\n          dp[(i + 1) & 1][value] = min( dp[(i + 1) & 1][value], dp[i & 1][j] + (x[i] - value) * (x[i] - value));\n        }\n      }\n      for(int j = 0; j < 256; j++) dp[i & 1][j] = INF;\n    }\n    int ret = INF;\n    for(int i = 0; i < 256; i++){\n      ret = min( ret, dp[N & 1][i]);\n    }\n    printf(\"%d\\n\", ret);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nconst int INF = (1 << 29);\n\nint input(int num)\n{\n  if (num < 0)\n  {\n    return 0;\n  }\n  if (num > 255)\n  {\n    return 255;\n  }\n  else\n  {\n    return num;\n  }\n}\n\nint main()\n{\n  while (1)\n  {\n    int N, M;\n    cin >> N >> M;\n    if (N == 0 && M == 0)\n    {\n      break;\n    }\n    vector<int> C(M), X(N);\n    for (int j = 0; j < M; j++)\n    {\n      cin >> C.at(j);\n    }\n    for (int i = 0; i < N; i++)\n    {\n      cin >> X.at(i);\n    }\n    vector<vector<int>> dp(N, vector<int>(256, INF));\n    for (int j = 0; j < M; j++)\n    {\n      dp.at(0).at(input(128 + C.at(j))) = (int)pow(input(128 + C.at(j)) - X.at(0), 2);\n    }\n    for (int i = 1; i < N; i++)\n    {\n      for (int y = 0; y < 256; y++)\n      {\n        for (int j = 0; j < M; j++)\n        {\n          dp.at(i).at(input(y + C.at(j))) = min(dp.at(i).at(input(y + C.at(j))), dp.at(i - 1).at(y) + (int)pow(input(y + C.at(j)) - X.at(i), 2));\n        }\n      }\n    }\n    int ans = INF;\n    for (int y = 0; y < 256; y++)\n    {\n      ans = min(ans, dp.at(N - 1).at(y));\n    }\n    cout << ans << endl;\n  }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<vector>\nusing namespace std;\n\n#define REP(i,n) for(int i=0;i<(int)(n);++i)\n\nint main() {\n  for(int N, M; cin >> N >> M, (N || M); ) {\n    int C[M]; REP(i, M) scanf(\"%d\", &C[i]);\n    int dp[2][256] = {};\n\n    const int inf = 987654321;\n    REP(i, 256) dp[0][i] = inf;\n    dp[0][128] = 0;\n    for(int n = 1; n <= N; n++) {\n      int x; scanf(\"%d\", &x);\n      int cur = n & 1;\n      int prev = 1 - cur;\n      REP(i, 256) dp[cur][i] = inf;\n      REP(i, 256) {\n        REP(m, M) {\n          int j = i + C[m];\n          if( j < 0 ) j = 0;\n          if( j > 255 ) j = 255;\n          dp[cur][j] = min(dp[cur][j], dp[prev][i] + (x - j) * (x - j));\n        }\n      }\n    }\n    int best = inf;\n    REP(i, 256) best = min(best, dp[N & 1][i] );\n    cout << best << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n\nusing namespace std;\n\nusing ll = long long;\n\ntemplate<typename T> using V = std::vector<T>;\nusing Vi = V<int>;\nusing VVi = V<V<int>>;\nusing Vl = V<ll>;\nusing VVl = V<V<ll>>;\nusing Vs = V<string>;\n\ntemplate<typename T1, typename T2> using P = std::pair<T1, T2>;\nusing Pii = P<int, int>;\nusing Pll = P<ll, ll>;\nusing Pdd = P<double, double>;\n\ntemplate<typename T1, typename T2> using M = std::map<T1, T2>;\nusing Mii = M<int, int>;\nusing Msi = M<string, int>;\n\n#define REP(i,n) for(int i=0;i<(int)(n);++i)\n#define REP2(i,s,e) for(int i=(int)(s);i<(int)(e);++i)\n#define RREP(i,s,e) for(int i=(int)(s);i>=(int)(e);--i)\n#define FOR(i,c) for(__typeof((c).begin())i=(c).begin(),ie=(c).end();i!=ie;++i)\n#define ALL(c) (c).begin(), (c).end()\n\nconst double PI = acos(-1);\nconst ll MOD = 1e9+7;\n\nint n, m;\nstring s;\n\nint main() {\n    while (true) {\n        cin >> n >> m;\n        if (n == 0 && m == 0) break;\n        Vi cs(m);\n        REP(i, m) cin >> cs[i];\n        Vi x(n);\n        REP(i, n) cin >> x[i];\n\n        VVl dp(n+1, Vl(256, 1e18));\n        dp[0][128] = 0;\n        REP2(i, 1, n+1) {\n            REP(j, m) {\n                int c = cs[j];\n                REP(k, 256) {\n                    int l = k+c;\n                    l = l >= 256 ? 255 : l;\n                    l = l < 0 ? 0 : l;\n                    dp[i][l] = min(dp[i][l], dp[i-1][k] + (ll)pow(x[i-1] - l, 2));\n                }\n            }\n        }\n        std::cout << *min_element(ALL(dp[n])) << '\\n';\n    }\n\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int, int> pii;\ntypedef vector<ll> VI;\ntypedef vector<VI> VVI;\nconst double PI = 3.14159265358979323846;\nconst double EPS = 1e-12;\nconst int INF = numeric_limits<int>::max() / 2;\nconst int NEG_INF = numeric_limits<int>::min() / 2;\n\nint main()\n{\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n\n    while (true)\n    {\n        int n, m;\n        cin >> n >> m;\n        if (n == 0 && m == 0)\n            break;\n        VVI dp(n + 1, vector<ll>(256, INF));\n        std::vector<int> c(m), x(n + 1);\n        for (int i = 0; i < m; i++)\n            cin >> c[i];\n        for (int i = 1; i <= n; i++)\n            cin >> x[i];\n        //ll dp[n+1][256];\n        for (int i = 0; i < n + 1; i++)\n            for (int j = 0; j < 256; j++)\n                dp[i][j] = INF;\n        dp[0][128] = 0;\n        for (int i = 0; i < n; i++)\n            for (int j = 0; j < 256; j++)\n            {\n                for (int k = 0; k < m; k++)\n                {\n                    if (j + c[k] > 255)\n                        dp[i + 1][255] = min(dp[i + 1][255], dp[i][j] + (255 - x[i + 1]) * (255 - x[i + 1]));\n                    else if (j + c[k] < 0)\n                        dp[i + 1][0] = min(dp[i + 1][0], dp[i][j] + (x[i + 1]) * (x[i + 1]));\n                    else\n                        dp[i + 1][j + c[k]] = min(dp[i + 1][j + c[k]], dp[i][j] + (j + c[k] - x[i + 1]) * (j + c[k] - x[i + 1]));\n                }\n            }\n        ll res = INF;\n        for (int i = 0; i < 256; i++)\n            res = min(res, dp[n][i]);\n        cout << res << endl;\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define REP(i, n) for(int i = 0; i < n; i++)\n#define REPR(i, n) for(int i = n; i >= 0; i--)\n#define FOR(i, m, n) for(int i = m; i < n; i++)\n#define ALL(obj) (obj).begin(), (obj).end()\n#define INF 1e9\ntypedef long long ll;\n\n\nint main() {\n    while(1){\n        int N,M;\n        cin >> N >> M;\n\n        if (N==0 && M==0)break;\n\n        vector<int>C(M);\n        REP(i,M){\n            cin >> C[i];\n        }\n        vector<int>x(N);\n        REP(i,N){\n            cin >> x[i];\n        }\n\n        vector<vector<ll>> dp(256, vector<ll>(N+1,INF));\n        dp[128][0] = 0;\n\n        REP(i,N){\n            REP(j,256){\n                REP(k,M){\n                    if (j+C[k]>=255){\n                        dp[255][i+1] = min(dp[255][i+1], dp[j][i] + (int)pow(x[i]-255, 2));\n                    }else if (j+C[k]<=0){\n                        dp[0][i+1] = min(dp[0][i+1], dp[j][i] + (int)pow(x[i], 2));\n                    }else{\n                        dp[j+C[k]][i+1] = min(dp[j+C[k]][i+1], dp[j][i] + (int)pow(x[i]-j-C[k], 2));\n                    }\n                    \n                    \n                }\n            }\n        }\n\n\n        ll ans = INF;\n\n        REP(i,256){\n            ans = min(ans, dp[i][N]);\n        }\n\n        cout << ans << endl;\n    }\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n\nint dp[20001][256];\nint C[17];\n\nint main() {\n    int n, m;\n    while(cin>>n>>m, n) {\n        for(int i=0; i<20000; ++i)\n          for(int j=0; j<256; ++j) dp[i][j] = 1e+9;\n        dp[0][128] = 0;\n        for(int i=0; i<16; ++i) C[i] = 0;\n        for(int i=0; i<m; ++i) cin >> C[i];\n        for(int i=1; i<=n; ++i) {\n            int x;\n            cin >> x;\n            for(int j=0; j<256; ++j) {\n                for(int k=0; k<m; ++k) {\n                    int x2 = j + C[k];\n                    if(255<=x2) x2=255;\n                    if(x2<=0) x2=0;\n                    int diff = (x2-x) * (x2-x);\n                    dp[i][x2] = min(dp[i][x2], dp[i-1][j]+diff);\n                }\n            }\n        }\n\n        int ans = 1e+9;\n        for(int i=0; i<256; ++i) ans = min(ans, dp[n][i]);\n        cout << ans << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nint dp[20001][256];\n\nint main(){\n\n  int n,m,c[16],x[20000];\n\n  while(cin>>n>>m,n){\n\n    for(int i=0;i<m;i++)cin>>c[i];\n  \n    for(int i=0;i<n;i++)cin>>x[i];\n  \n    for(int i=0;i<20001;i++)\n      for(int j=0;j<256;j++)dp[i][j]=1e9;\n\n    dp[0][128]=0;\n\n    for(int i=0;i<n;i++)\n      for(int j=0;j<256;j++)\n\tfor(int k=0;k<m;k++){\n\t  int y=min(255,max(0,j+c[k]));\n\t  dp[i+1][y]=min(dp[i][j]+(y-x[i])*(y-x[i]),dp[i+1][y]);\n\t}\n  \n    int ans=1e9;\n    for(int i=0;i<256;i++)ans=min(ans,dp[n][i]);\n\n    cout<<ans<<endl;\n  \n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <climits>\n#include <vector>\n#include <string>\n#include <queue>\n#include <deque>\n#include <list>\n#include <stack>\n#include <set>\n#include <map>\n#include <algorithm>\n\n#define int long long\n#define MOD7 1000000007\n#define MOD9 1000000009\n\n#define rep(i, n) for (int i = 0; i < (n); i++)\n#define REP(i, a, n) for (int i = (a); i <= (n); i++)\n#define all(a) (a).begin(), (a).end()\n\nusing namespace std;\n\nint dx[4] = { 1, 0, -1, 0 };\nint dy[4] = { 0, -1, 0, 1 };\n\nint nextInt() {int a; cin >> a; return a;}\nchar nextChar() {char a; cin >> a; return a;}\ndouble nextDouble() {double a; cin >> a; return a;}\nstring nextString() {string a; cin >> a; return a;}\n\nvoid inputVector(vector<int> &v, int &n) {rep(i,n){v.push_back(nextInt());}}\nvoid inputVector(vector<double> &v, int &n) {rep(i,n){v.push_back(nextDouble());}}\nvoid inputVector(vector<string> &v, int &n) {rep(i,n){v.push_back(nextString());}}\n\nint dp[20002][256];\n\nsigned main() {\n    int N, M;\n    while (cin >> N >> M) {\n\tif (N == 0) break;\n\n\tvector<int> C, x;\n\tinputVector(C, M);\n\tinputVector(x, N);\n\n\trep(i, N + 1) rep(j, 256) dp[i][j] = INT_MAX;\n\tdp[0][128] = 0;\n\trep(i, N) {\n\t    rep(j, 256) {\n\t\tif (dp[i][j] >= INT_MAX) continue;\n\t\trep(k, M) {\n\t\t    int val = j + C[k];\n\t\t    if (val > 255) val = 255;\n\t\t    else if (val < 0) val = 0;\n\t\t    int dif = (x[i] - val) * (x[i] - val);\n\t\t    dp[i + 1][val] = min(dp[i + 1][val], dp[i][j] + dif);\n\t\t}\n\t    }\n\t}\n\tint ret = INT_MAX;\n\trep(i, 256) {\n\t    ret = min(ret, dp[N][i]);\n\t}\n\tcout << ret << endl;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <string>\n#include <sstream>\n#include <algorithm>\n#include <vector>\n#include <utility>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <functional>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <cassert>\n \nusing namespace std;\n \n#define REP(i,s,e) for(int i=(s); i<(int)(e); i++)\n#define rep(i,n) REP(i, 0, n)\n#define pb push_back\n#define mp make_pair\n#define all(r) (r).begin(),(r).end()\n#define rall(r) (r).rbegin(),(r).rend()\n#define fi first\n#define se second\n \ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<vi> vii;\ntypedef vector<ll> vl;\ntypedef vector<vl> vll;\ntypedef pair<int, int> pii;\ntypedef pair<double, int> pdi;\ntypedef pair<ll, ll> pll;\n \n\n \nconst int INF = 1000000;\nconst double EPS = 1e-8;\nconst int mod = 1e9 + 7;\nconst ll LINF = 1e18;\n\nll dp[20010][256];\n\nint main(){\n\tint n, m;\n\tint nxt;\n\twhile(cin>>n>>m && n && m){\n\t\tvi c(m), x(n);\n\t\trep(i, m) cin>>c[i];\n\t\trep(i, n) cin>>x[i];\n\t\trep(i, 20010) rep(j, 256) dp[i][j] = LINF;\n\n\t\tfor(int i = 0; i < m; i++){\n\t\t\tnxt = 128+c[i];\n\t\t\tnxt = max(nxt, 0);\n\t\t\tnxt = min(nxt, 255);\n\t\t\tdp[0][nxt]=min(dp[0][nxt], (ll)(x[0]-nxt)*(x[0]-nxt));\n\t\t}\n\t\tfor(int i = 1; i < n; i++){\n\t\t\tfor(int j = 0; j < 256; j++){\n\t\t\t\tfor(int k = 0; k < m; k++){\n\t\t\t\t\tnxt = j + c[k];\n\t\t\t\t\tnxt = max(nxt, 0);\n\t\t\t\t\tnxt = min(nxt, 255);\n\t\t\t\t\tdp[i][nxt] = min(dp[i][nxt], dp[i-1][j]+(x[i]-nxt)*(x[i]-nxt));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tll ans = LINF;\n\t\tfor(int i = 0; i < 256; i++){\n\t\t\tans = min(dp[n-1][i], ans);\n\t\t}\n\t\tcout<<ans<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define rep(i,n) for (int i=0;i<(n);i++)\n#define rep2(i,a,b) for (int i=(a);i<(b);i++)\n#define rrep(i,n) for (int i=(n)-1;i>=0;i--)\n#define rrep2(i,a,b) for (int i=(b)-1;i>=(a);i--)\n#define all(a) (a).begin(),(a).end()\n\ntypedef long long ll;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\ntypedef vector<int> vi;\ntypedef vector<pll> vp;\ntypedef vector<ll> vll;\n\nconst ll inf = 1e15;\nll dp[20001][256];\n\nsigned main() {\n    std::ios::sync_with_stdio(false);\n    std::cin.tie(0);\n\n    int N, M;\n    while (cin >> N >> M && N) {\n        vi C(M);\n        rep(i, M) cin >> C[i];\n        vi x(N);\n        rep(i, N) cin >> x[i];\n\n        rep(i, N + 1) rep(j, 256) dp[i][j] = inf;\n        dp[0][128] = 0;\n        rep(i, N) {\n            rep(j, 256) {\n                if (dp[i][j] == inf) continue;\n                rep(k, M) {\n                    int nxtj = j + C[k];\n                    if (nxtj < 0) nxtj = 0;\n                    if (nxtj > 255) nxtj = 255;\n                    dp[i + 1][nxtj] = min(dp[i + 1][nxtj], dp[i][j] + (x[i] - nxtj) * (x[i] - nxtj));\n                }\n            }\n        }\n\n        ll ans = inf;\n        rep(j, 256) ans = min(ans, dp[N][j]);\n        cout << ans << endl;\n\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\n#include<vector>\nusing namespace std;\nvector<int>c,x;\n#define MA 99999999\nint dp[20002][20002];\nint main(){\n    int n,m,f,ans;\n    \n    while(true){\n        cin >> n>>m;\n        if(n==0)break;\n        for(int i=0;i<20;i++)\n            for(int j=0;j<20002;j++)\n                dp[i][j]=MA;\n        c.clear();\n        x.clear();\n        ans=MA;\n        for(int i=0;i<m;i++){\n            cin>>f;\n            c.push_back(f);\n        }\n        for(int i=0;i<n;i++){\n            cin>>f;\n            x.push_back(f);\n        }\n        dp[0][128]=0;\n        for(int i=0;i<m;i++){\n        \n            for(int j=0;j<256;j++){\n                if(dp[i][j]==MA)\n                    continue;\n                for(int k=0;k<n;k++){\n                    \n                    int nex = j+c[k];\n                    if(nex<0)nex=0;\n                    if(nex>255)nex=255;\n                    dp[i+1][nex]=min(dp[i+1][nex],dp[i][j] +(x[i]-nex)*(x[i]-nex));\n                   \n                }\n            }\n        }\n        for(int j=0;j<256;j++)ans=min(ans,dp[n][j]);\n        cout<<ans<<endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <iostream>\n#include <utility>\n#include <cmath>\n\nusing namespace std;\n\nconst long long INF = 1e15;\nconst long long Y = 128;\nint main(){\n\tlong long n,m;\n\twhile(cin>>n>>m,n){\n\t\tvector<long long> cod(m),signal(n);\n\t\tfor(int i=0;i<m;i++){//code input\n\t\t\tcin >> cod[i];\n\t\t}\n\t\tfor(int i=0;i<n;i++){//signal input\n\t\t\tcin >> signal[i];\n\t\t}\n\t\tvector<vector<long long>> dp(n+1,vector<long long>(256,INF));\n\t\tfor(int i=0;i<m;i++){\n\t\t\tint next_j = Y + cod[i];\n\t\t\tif(next_j>255)next_j = 255;\n\t\t\telse if(next_j<0)next_j = 0;\n\t\t\tdp[0][next_j] = (signal[0] - (next_j))*(signal[0] - (next_j));\n\t\t}\n\t\tfor(int i=0;i<n-1;i++){\n\t\t\tfor(int j=0;j<256;j++){\n\t\t\t\tif(dp[i][j] == INF)continue;\n\t\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\t\tint next_j = j + cod[k];\n\t\t\t\t\tif(next_j>255)next_j = 255;\n\t\t\t\t\telse if(next_j<0)next_j = 0;\n\t\t\t\t\tint zip_square = (signal[i+1] - next_j)*(signal[i+1] - next_j);\n\t\t\t\t\tdp[i+1][next_j] = min(dp[i+1][next_j],dp[i][j] + zip_square);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tlong long ans = INF;\n\t\tfor(int i = 0;i<256;i++)\n\t\t\tans = min(ans,dp[n-1][i]);\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _GLIBCXX_DEBUG\n#include <bits/stdc++.h>\nusing namespace std;\n#define rep(i, n) for (int i = 0; i < (int)(n); i++)\n#define rep2(i, s, n) for (int i = s; i < (int)(n); i++)\n#define rep3(i, s, n) for (int i = s; i > (int)(n); i--)\n#define all(obj) obj.begin(), obj.end()\n#define from1(obj) obj.begin() + 1, obj.end()\n#define db(x) cerr << #x << \":\" << x << \" \"\n#define dbl(x) cerr << #x << \":\" << x << \"\\n\"\n#define dbp(p) cerr << #p << \":(\" << p.first << \", \" << p.second << \") \"\n#define dbpl(p) cerr << #p << \":(\" << p.first << \", \" << p.second << \")\\n\"\n#define dbt3(t3) cerr << #t3 << \":(\" << get<0>(t3) << \", \" << get<1>(t3) << \", \" << get<2>(t3) << \") \"\n#define dbt3l(t3) cerr << #t3 << \":(\" << get<0>(t3) << \", \" << get<1>(t3) << \", \" << get<2>(t3) << \")\\n\"\n#define dbt4(t4) cerr << #t4 << \":(\" << get<0>(t4) << \", \" << get<1>(t4) << \", \" << get<2>(t4) << \", \" << get<3>(t4) << \") \"\n#define dbt4l(t4) cerr << #t4 << \":(\" << get<0>(t4) << \", \" << get<1>(t4) << \", \" << get<2>(t4) << \", \" << get<3>(t4) << \")\\n\"\n#define dbv(vec) cerr << #vec << \":{ \"; for (auto e : vec) cerr << e << \", \"; cerr << \"}\\n\"\n#define dbvv(vv) cerr << #vv << \":{\\n\"; for (auto vec : vv) { cerr << \"{ \"; for (auto e : vec) cerr << e << \", \"; cerr << \"}\\n\"; } cerr << \"}\\n\"\n#define dbm(map) cerr << #map << \":{ \"; for (auto p : map) cerr << \"(\" << p.first << \", \" << p.second << \"), \"; cerr << \"}\\n\"\n#define YN(f) cout << (f ? \"YES\" : \"NO\") << \"\\n\"\n#define Yn(f) cout << (f ? \"Yes\" : \"No\") << \"\\n\"\n#define yn(f) cout << (f ? \"yes\" : \"no\") << \"\\n\"\nusing ll = long long;\nusing vi = vector<int>; using vl = vector<ll>; using vs = vector<string>; using vb = vector<bool>;\nusing vvi = vector<vi>; using vvl = vector<vl>; using vvb = vector<vb>;\nusing pii = pair<int, int>; using pil = pair<int, ll> ; using pll = pair<ll, ll>; using pli = pair<ll, int>;\nusing vpii = vector<pii>; using vpll = vector<pll>;\nusing ti3 = tuple<int, int, int>; using tl3 = tuple<ll, ll, ll>;\nusing ti4 = tuple<int, int, int, int>; using tl4 = tuple<ll, ll, ll, ll>;\nusing mii = map<int, int>; using mil = map<int, ll>; using mll = map<ll, ll>; using mli = map<ll, int>;\n\nint main() {\n\tconst int MAX = 255, INF = 1e9;\n\twhile(true) {\n\t\tint N, M; cin >> N >> M;\n\t\tif (N == 0 and M == 0) break;\n\t\t// コードブック中の値の番号 k は0-ind( k = 0 ~ M-1 )\n\t\tvector<int> C(M); rep(k, M) cin >> C[k];\n\t\t// 信号及び復号化後の値の番号 i は1-ind( i = 1 ~ N )\n\t\tvector<int> x(N + 1); rep2(i, 1, N + 1) cin >> x[i]; // 1-ind\n\t\t// dbv(C); dbv(x);\n\t\tvvi dp(N + 1, vi(MAX + 1, INF)); // dp[i][j]:y[0]=128からy[i]までの列で，y[i]=jであるようなものの差y[i]-x[i]の二乗和の最小値\n\t\tdp[0][128] = 0;\n\t\t// 遷移:現在の値 j = y[i] に値 C[k] を加え，丸めた値を nj = min(max(j + C[k], 0), MAX) とする。\n\t\t// dp[i+1][nj] = min(dp[i+1][nj], dp[i][j] + (nj - x[i+1])^2) である。\n\t\t// rep(j, MAX + 1) if (dp[0][j] != INF) { dbp(pii(0, j)); dbl(dp[0][j]); }\n\t\trep(i, N) { // i = 0 ~ N\n\t\t\trep(j, MAX + 1) { // j = 0 ~ MAX(255)\n\t\t\t\tif (dp[i][j] == MAX) continue;\n\t\t\t\trep(k, M) { // k = 0 ~ M - 1\n\t\t\t\t\tint nj = min(max(j + C[k], 0), MAX);\n\t\t\t\t\tdp[i + 1][nj] = min(dp[i + 1][nj], dp[i][j] + (nj - x[i + 1]) * (nj - x[i + 1]));\n\t\t\t\t}\t\t\t\t\n\t\t\t}\n\t\t\t// rep(j, MAX + 1) if (dp[i + 1][j] != INF) { dbp(pii(i + 1, j)); dbl(dp[i + 1][j]); }\n\t\t}\t\t\n\t\tcout << *min_element(all(dp[N])) << endl;\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nint main(){\n  int n,m;\n  int dp[256][256];\n  while(cin>>n>>m,n){\n    for(int i=0;i<256;i++)\n      for(int j=0;j<256;j++)\n\tdp[i][j]=1<<30;\n    dp[0][128]=0;\n    int c[m],x[n];\n    for(int i=0;i<m;i++)cin>>c[i];\n    for(int i=0;i<n;i++)cin>>x[i];\n    \n    for(int i=0;i<n;i++){\n      for(int j=0;j<256;j++){\n\tfor(int k=0;k<m;k++){\n\t  if(j+c[k]<0){\n\t    dp[i+1][0]=min(dp[i+1][0],dp[i][j] + x[i]*x[i]);\n\t  }else if(j+c[k]>255){\n\t    dp[i+1][255]=min(dp[i+1][255],dp[i][j] + (x[i]-255)*(x[i]-255));\n\t  }else{\n\t    dp[i+1][j+c[k]]=min(dp[i+1][j+c[k]],dp[i][j] + (x[i]-j-c[k])*(x[i]-j-c[k]));\n\t  }\n\t}\n      }\n    }\n    // for(int j=0;j<256;j++){\n    //   for(int i=0;i<n;i++){\n    // \tcout << dp[i][j] << \" \";\n    //   }\n    //   cout << endl;\n    // }\n\n    int res=1<<30;\n    for(int i=0;i<256;i++)res=min(res,dp[n][i]);\n    cout << res << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <stack>\n#include <cstring>\n#include <queue>\n\n#define rep(i,n) for(int i = 0; i < (n); i++)\n#define all(v) (v).begin(), (v).end()\n#define MP make_pair\nusing namespace std;\n\ntypedef vector<int> vi;\ntypedef pair<int, int> P;\ntypedef long long ll;\n\nint dp[20000][256];\n\nint main(){\n\t//freopen(\"test.txt\", \"r\", stdin);\n\tint n, m;\n\twhile(cin >> n >> m, n|m){\n\t\tvector<int> C(m);\n\t\trep(i, m) cin >> C[i];\n\t\tvector<int> x(n);\n\t\trep(i, n) cin >> x[i];\n\n\t\trep(i, 20000) rep(j, 256) dp[i][j] = 2<<29;\n\n\t\trep(i, m){\n\t\t\tint val = 128+C[i];\n\t\t\tif(val < 0) val = 0;\n\t\t\tif(val > 255) val = 255;\n\t\t\tdp[0][val] = (x[0]-val)*(x[0]-val);\n\t\t}\n\t\trep(i, n-1){\n\t\t\trep(j, 256){\n\t\t\t\tif(dp[i][j] == -1) continue;\n\t\t\t\trep(k, m){\n\t\t\t\t\tint val = j+C[k];\n\t\t\t\t\tif(val < 0) val = 0;\n\t\t\t\t\tif(val > 255) val = 255;\n\t\t\t\t\tint d = (x[i+1]-val)*(x[i+1]-val);\n\t\t\t\t\tdp[i+1][val] = min(dp[i+1][val], dp[i][j]+d);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = 2<<29;\n\t\trep(i, 256){\n\t\t\tans = min(ans, dp[n-1][i]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\nint n,m,a,b,dp[20001][256],s[20000],t[16],ans,L;\nvoid ini(void){\n    for(int i=0;i<=20000;i++){\n        for(int j=0;j<256;j++){\n            dp[i][j]=1e9;\n        }\n    }\n}\nint main(void){\n    while(1){\n    cin>>n>>m;\n    if(n==0&&m==0)return 0;\n    ans=1e9;\n    ini();\n    for(int i=0;i<m;i++){\n        cin>>t[i];\n    }\n    for(int i=0;i<n;i++)cin>>s[i];\n    dp[0][128]=0;\n    for(int i=0;i<n;i++){\n        for(int j=0;j<=255;j++){\n            if(dp[i][j]==1e9)continue;\n            for(int k=0;k<m;k++){\n                L=j+t[k];\n                L=min(255,L);\n                L=max(0,L);\n                dp[i+1][L]=min(dp[i+1][L],dp[i][j]+(L-s[i])*(L-s[i]));\n            }\n        }\n    }\n    for(int i=0;i<256;i++){\n        //cout<<dp[n][i]<<endl;\n        ans=min(ans,dp[n][i]);\n    }\n    cout<<ans<<endl;\n    }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#pragma GCC optimize (\"O3\")\n#pragma GCC target (\"avx\")\n#include \"bits/stdc++.h\"\n\nusing namespace std;\nusing ll = long long int;\n\n#define debug(v) {printf(\"L%d %s > \",__LINE__,#v);cout<<(v)<<endl;}\n#define debugv(v) {printf(\"L%d %s > \",__LINE__,#v);for(auto e:(v)){cout<<e<<\" \";}cout<<endl;}\n#define debuga(m,w) {printf(\"L%d %s > \",__LINE__,#m);for(int x=0;x<(w);x++){cout<<(m)[x]<<\" \";}cout<<endl;}\n#define debugaa(m,h,w) {printf(\"L%d %s >\\n\",__LINE__,#m);for(int y=0;y<(h);y++){for(int x=0;x<(w);x++){cout<<(m)[y][x]<<\" \";}cout<<endl;}}\n#define ALL(v) (v).begin(),(v).end()\n#define repeat(cnt,l) for(remove_const<decltype(l)>::type cnt=0;(cnt)<(l);++(cnt))\n#define rrepeat(cnt,l) for(auto cnt=(l)-1;0<=(cnt);--(cnt))\n#define iterate(cnt,b,e) for(auto cnt=(b);(cnt)!=(e);++(cnt))\n#define diterate(cnt,b,e) for(auto cnt=(b);(cnt)!=(e);--(cnt))\nconst ll MD = 1000000007ll; const long double PI = 3.1415926535897932384626433832795L;\ntemplate<typename T1, typename T2> inline void assert_equal(T1 expected, T2 actual) { if (!(expected == actual)) { cerr << \"assertion fault: expected=\" << expected << \" actual=\" << actual << endl; abort(); } }\ntemplate<typename T1, typename T2> inline void assert_less(T1 actual, T2 threshold) { if (!(actual < threshold)) { cerr << \"assertion fault: \" << actual << \" < (const)\" << threshold << endl; abort(); } }\ntemplate<typename T1, typename T2> inline void assert_eqless(T1 actual, T2 threshold) { if (!(actual <= threshold)) { cerr << \"assertion fault: \" << actual << \" <= (const)\" << threshold << endl; abort(); } }\ntemplate<typename T1, typename T2> inline ostream& operator <<(ostream &o, const pair<T1, T2> p) { o << '(' << p.first << ':' << p.second << ')'; return o; }\ntemplate<typename Vec> inline ostream& _ostream_vecprint(ostream &o, const Vec& p) { o << '['; for (auto& e : p) o << e << ','; o << ']'; return o; }\ntemplate<typename T> inline ostream& operator<<(ostream& o, const vector<T>& v) { return _ostream_vecprint(o, v); }\ntemplate<typename T, size_t S> inline ostream& operator<<(ostream& o, const array<T, S>& v) { return _ostream_vecprint(o, v); }\ntemplate<typename T> inline T& maxset(T& to, const T& val) { return to = max(to, val); }\ntemplate<typename T> inline T& minset(T& to, const T& val) { return to = min(to, val); }\nvoid bye(string s, int code = 0) { cout << s << endl; exit(code); }\nmt19937_64 randdev(8901016);\ntemplate<typename T> inline T rand(T l, T h) { return uniform_int_distribution<T>(l, h)(randdev); }\ntemplate<> inline double rand<double>(double l, double h) { return uniform_real_distribution<double>(l, h)(randdev); }\ntemplate<> inline float rand<float>(float l, float h) { return uniform_real_distribution<float>(l, h)(randdev); }\n\n#if defined(_WIN32) || defined(_WIN64)\n#define getchar_unlocked _getchar_nolock\n#define putchar_unlocked _putchar_nolock\n#elif defined(__GNUC__)\n#else\n#define getchar_unlocked getchar\n#define putchar_unlocked putchar\n#endif\nnamespace {\n#define isvisiblechar(c) (0x21<=(c)&&(c)<=0x7E)\n    class MaiScanner {\n    public:\n        template<typename T> void input_integer(T& var) {\n            var = 0; T sign = 1;\n            int cc = getchar_unlocked();\n            for (; cc<'0' || '9'<cc; cc = getchar_unlocked())\n                if (cc == '-') sign = -1;\n            for (; '0' <= cc && cc <= '9'; cc = getchar_unlocked())\n                var = (var << 3) + (var << 1) + cc - '0';\n            var = var * sign;\n        }\n        inline int c() { return getchar_unlocked(); }\n        inline MaiScanner& operator>>(int& var) { input_integer<int>(var); return *this; }\n        inline MaiScanner& operator>>(long long& var) { input_integer<long long>(var); return *this; }\n        inline MaiScanner& operator>>(string& var) {\n            int cc = getchar_unlocked();\n            for (; !isvisiblechar(cc); cc = getchar_unlocked());\n            for (; isvisiblechar(cc); cc = getchar_unlocked())\n                var.push_back(cc);\n            return *this;\n        }\n        template<typename IT> void in(IT begin, IT end) { for (auto it = begin; it != end; ++it) *this >> *it; }\n    };\n    class MaiPrinter {\n    public:\n        template<typename T>\n        void output_integer(T var) {\n            if (var == 0) { putchar_unlocked('0'); return; }\n            if (var < 0)\n                putchar_unlocked('-'),\n                var = -var;\n            char stack[32]; int stack_p = 0;\n            while (var)\n                stack[stack_p++] = '0' + (var % 10),\n                var /= 10;\n            while (stack_p)\n                putchar_unlocked(stack[--stack_p]);\n        }\n        inline MaiPrinter& operator<<(char c) { putchar_unlocked(c); return *this; }\n        inline MaiPrinter& operator<<(int var) { output_integer<int>(var); return *this; }\n        inline MaiPrinter& operator<<(long long var) { output_integer<long long>(var); return *this; }\n        inline MaiPrinter& operator<<(char* str_p) { while (*str_p) putchar_unlocked(*(str_p++)); return *this; }\n        inline MaiPrinter& operator<<(const string& str) {\n            const char* p = str.c_str();\n            const char* l = p + str.size();\n            while (p < l) putchar_unlocked(*p++);\n            return *this;\n        }\n        template<typename IT> void join(IT begin, IT end, char sep = '\\n') { for (auto it = begin; it != end; ++it) *this << *it << sep; }\n    };\n}\nMaiScanner scanner;\nMaiPrinter printer;\n\n\nll inp[20010], code[20];\n\ninline ll limit(ll x, ll low, ll high) { return x < low ? low : x > high ? high : x; }\n\nvoid solve(int N, int M) {\n\n    scanner.in(code, code + M);\n    scanner.in(inp, inp + N);\n\n    vector<pair<ll, ll>> curr(M, make_pair(0, 128ll)), next(M);\n\n    repeat(i, N) {\n        fill(ALL(next), pair<ll, ll>(1e18, 0));\n        repeat(j, M) {\n            repeat(k, M) {\n                ll t = limit(curr[j].second + code[k], 0, 255);\n                minset(next[k], make_pair(curr[j].first + (t - inp[i])*(t - inp[i]), t));\n            }\n        }\n        curr.swap(next);\n    }\n    ll best = 1e18;\n    for (auto p : curr)\n        minset(best, p.first);\n\n    printer << best << '\\n';\n}\n\n\n\nint main() {\n    int n, m;\n    while (scanner >> n >> m, n > 0 && m > 0)\n        solve(n, m);\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\n#define mod 1000000007\n#define all(c) begin(c),end(c)\ntemplate <typename T> T &chmin(T &a, const T &b) { return a = min(a, b); }\ntemplate <typename T> T &chmax(T &a, const T &b) { return a = max(a, b); }\nusing ll = long long;\nint dd[] = { 0, 1, 0, -1, 0 }; //→↓←↑\n\nvoid solve()\n{\n\tint N, M;\n\twhile (true)\n\t{\n\t\tcin >> N >> M;\n\t\tif (N == 0 && M == 0)break;\n\t\tvector<int> C = vector<int>(M);\n\t\tfor (int i = 0; i < M; i++)\n\t\t{\n\t\t\tcin >> C[i];\n\t\t}\n\t\tvector<vector<ll>> dp = vector<vector<ll>>(N + 1, vector<ll>(256, LLONG_MAX / 3));\n\t\tdp[0][128] = 0;\n\t\tint x;\n\t\tfor (int i = 0; i < N; i++)\n\t\t{\n\t\t\tcin >> x;\n\t\t\tfor (int j = 0; j < 256; j++)\n\t\t\t{\n\t\t\t\tfor (int k = 0; k < M; k++)\n\t\t\t\t{\n\t\t\t\t\tint l = min(max(j + C[k], 0), 255);\n\t\t\t\t\tchmin(dp[i + 1][l], dp[i][j] + (x - l) * (x - l));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tll ans = LLONG_MAX;\n\t\tfor (int i = 0; i < 256; i++)\n\t\t{\n\t\t\tchmin(ans, dp[N][i]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}\n\nint main()\n{\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\tsolve();\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <tuple>\n#include <queue>\n#include <set>\n#include <cstdio>\n#include <climits>\n#include <cmath>\n#include <array>\n#include <functional>\n#include <sstream>\n#include <list>\n#include <set>\nconst int MOD=1000000007;\nconst int INF=1000000000;\nusing namespace std;\ntypedef long long ll;\ntypedef vector<int> vi;\nconst double eps=1e-9;\nconst int inf=1e9;\ntypedef pair<int,int> P;\nstruct Point\n{\n  double x,y;\n  Point(){x=0;y=0;}\n  Point(double d_x,double d_y){x=d_x,y=d_y;}\n  double operator*(Point obj){return obj.x*x+obj.y*y;}\n  double operator%(Point obj){return obj.y*x-obj.x*y;}\n  Point operator*(double b){Point tmp;tmp.x=x*b;tmp.y=y*b;return tmp;}\n  Point operator/(double b){Point tmp;tmp.x=x/b;tmp.y=y/b;return tmp;}\n  Point operator+(Point obj){Point tmp;tmp.x=x+obj.x;tmp.y=y+obj.y;return tmp;}\n  Point operator-(){Point tmp;tmp.x=-x;tmp.y=-y;return tmp;}\n  Point operator-(Point obj){Point tmp;tmp.x=x-obj.x;tmp.y=y-obj.y;return tmp;}\n  Point operator-=(Point obj){x-=obj.x;y-=obj.y;return *this;}\n  Point operator+=(Point obj){x+=obj.x;y+=obj.y;return *this;}\n  Point operator/=(double b){x=x/b;y=y/b;return *this;}\n  Point operator*=(double b){x=x*b;y=y*b;return *this;}\n  double size(){return hypot(x,y);}\n  Point unit(){return Point(x/size(),y/size());}\n  Point normal(){return Point(y,-x);}\n  double atan(){return atan2(y,x);}\n};\n\nbool operator<(Point a,Point b){return a.x!=b.x?a.x<b.x:a.y<b.y;}\nbool operator>(Point a,Point b){return b<a;}\nbool operator<=(Point a,Point b){return !(b<a);}\nbool operator>=(Point a,Point b){return !(a<b);}\nbool operator==(Point a,Point b){return (a-b).size()<eps;}\nbool operator!=(Point a,Point b){return !(a==b);}\n\nbool equal(double a,double b){return abs(a-b)<eps;}\ndouble cross(Point a,Point b){return a%b;}\ndouble dot(Point a,Point b){return a*b;}\n\nint ccw(Point a,Point b,Point c)\n{\n  b=b-a;\n  c=c-a;\n  if(b%c>0) return +1;\n  else if(b%c<0)return -1;\n  else if(b*c<0) return +2;\n  else if(b.size()<c.size()) return -2;\n  else return 0;\n}\n\nint n,m;\nint dp[20005][256];\n\nint main(int argc,char const* argv[])\n{\n  int n,m;\n  \n  while(1)\n    {\n      cin >> n >> m;\n      if(!n) break;\n      vi C(m);\n      vi x(n);\n      fill_n((int *)dp,sizeof(dp)/sizeof(int),inf);\n      for(int i=0;i<m;i++)\n\t{\n\t  cin >> C[i];\n\t}\n      for(int i=0;i<n;i++)\n\t{\n\t  cin >> x[i];\n\t}\n      dp[0][128]=0;\n      for(int i=0;i<n;i++)\n\t{\n\t  for(int j=0;j<256;j++)\n\t    {\n\t      if(dp[i][j]==inf){continue;}\n\t      for(int k=0;k<m;k++)\n\t\t{\n\t\t  int yn=j+C[k];\n\t\t  if(yn>255) yn=255;\n\t\t  else if(yn<0) yn=0;\n\t\t  int err=(x[i]-yn)*(x[i]-yn);\n\t\t  dp[i+1][yn]=min(dp[i+1][yn],dp[i][j]+err);\n\t\t}\n\t    }\n\t}\n      cout << *min_element(dp[n],dp[n]+256) << endl;\n    }\n  return 0;\n}\n      \n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nint foo(int huga){\n\tif(huga <= 0) return 0;\n\telse if(huga >= 255) return 255;\n\treturn huga;\n}\n\nint main(){\n  int N, M, C[16], x, y = 128, i, j, k, l, mi, z;\n  \twhile(1){\n\t\tint  temp[20003][256] = {}, temp3[3][256] = {}, count0 = 0, count1 = 0, count2 = 0;\n\t\ttemp[0][128] = 0;\n\t\tfor(i = 0; i < 3; i++)for(j = 0; j < 256; j++) temp3[i][j] = -1;\n\t\ttemp3[0][count0++] = 128;\n\t    cin>>N>>M;\n\tif(N == 0 && M ==0)break;\n    \tfor(i = 0; i < M; i++){\n\t\t\tcin>>C[i];\n\t\t}\n\t\tfor(i = 1; i <= N; i++){\n\t\t\tcin>>x;\n\t\t\tfor(j = 0; j < 256; j++)temp[i][j] = -1;\n\t\t\tfor(j = 0; j < count0; j++){\n\t\t\t\tfor(k = 0; k < M; k++){\n\t\t\t\t\tz = foo(C[k] + temp3[0][j]);\n\t\t\t\t\tif(temp[i][z] == -1){\n\t\t\t\t\t\ttemp[i][z] = temp[i - 1][temp3[0][j]] + (x - z) * (x - z);\n\t\t\t\t\t\ttemp3[1][count1] = z;\n\t\t\t\t\t\tcount1++;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttemp[i][z] = min(temp[i][z], temp[i - 1][temp3[0][j]] + (x - z) * (x - z));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(j = 0; j < count1; j++){\n\t\t\t\ttemp3[0][j] = temp3[1][j];\n\t\t\t}\n\t\t\tcount0 = count1;\n\t\t\tcount1 = 0;\n\t\t}\n\t\t\n\t\tmi = temp[N][temp3[0][0]];\n\t\tfor(j = 1; j < count0; j++){\n\t\t\tmi = min(temp[N][temp3[0][j]], mi);\n\t\t}\n\t\t\n\t\tcout<<mi<<endl;\n\t\t\t\n\t\t\n\t}\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n\nusing namespace std;\n\nlong long int ans;\n\nint min(int a,int b){\n\tif(a>=b)return b;\n\telse return a;\n}\n\nint main(){\n\n\tint n,m;\n\tlong long int dp[20010][256];\n\tint next;\n\n\twhile(cin>>n>>m){\n\t\tans = 1000000000000;\n\t\tif(n==0 && m==0){\n\t\t\tbreak;\n\t\t}\n\t\tint *c;\n\t\tint *x;\n\t\tc = new int[m];\n\t\tx = new int[n];\n\n\t\tfor(int i=0;i<m;i++){\n\t\t\tcin>>c[i];\n\t\t}\n\t\tfor(int i=0;i<n;i++){\n\t\t\tcin>>x[i];\n\t\t}\n\t\tfor(int i=0;i<n;i++){\n\t\t\tfor(int j=0;j<256;j++){\n\t\t\t\tdp[i][j]=10000000000;\n\t\t\t}\n\t\t}\n\n\t\tfor(int i=0;i<m;i++){\n\t\t\tnext = 128+c[i];\n\t\t\tif(next>=255)next=255;\n\t\t\tif(next<=0)next = 0;\n\t\t\tdp[0][next] = (x[0]-next)*(x[0]-next);\n\t\t}\n\t\t/*\n\t\tfor(int i=0;i<256;i++){\n\t\t\tcout<<dp[0][i]<<\" \";\n\t\t}\n\t\tcout<<endl;\n\t\t*/\n\t\tfor(int i=1;i<n;i++){\n\t\t\tfor(int j=0;j<256;j++){\n\t\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\t\tnext = j+c[k];\n\t\t\t\t\tif(next>=255)next=255;\n\t\t\t\t\tif(next<=0)next = 0;\n\t\t\t\t\t//dp[next] = min(dp[next],dp[j]+(x[i]-next)*(x[i]-next));\n\t\t\t\t\tdp[i][next] = min(dp[i][next],dp[i-1][j]+(x[i]-next)*(x[i]-next));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor(int i=0;i<256;i++){\n\t\t\tans = min(ans,dp[n-1][i]);\n\t\t}\n\n\n\t\tcout<<ans<<endl;\n\n\t}\n\n\treturn 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <numeric>\n#include <algorithm>\n#include <map>\n#include <queue>\n#include <stack>\n#include <math.h>\n#include <stdio.h>\n#include <string.h>\n\nusing namespace std;\n#define LL long long\nusing VS = vector<string>;\nusing VI = vector<int>;\nusing VL = vector<LL>;\nusing VVI = vector<VI>;\nusing VVL = vector<VL>;\n#define FOR(i,s,e) for(i = s; i < e; i++)\n#define FORR(i,s,e) for(i = e-1; i >= s; i--)\nconst LL INF = (LL)1e16;\nconst LL MOD = (LL)1e9 + 7;\n\nint main(){\n  LL n,m,i,j,l,k,cost,d,ma = 256;\n  while (1){\n    cin >> n >> m;\n    if (n == 0){\n      return 0;\n    }\n    LL c[m],x[n];\n    FOR(i,0,m) cin >> c[i];\n    FOR(i,0,n) cin >> x[i];\n    LL dp[n+1][ma];\n    FOR(i,0,n+1)FOR(j,0,ma)dp[i][j] = -1;\n    dp[0][128] = 0;\n    FOR(i,0,n){\n      FOR(j,0,ma){\n        if (dp[i][j] < 0)continue;\n        FOR(k,0,m){\n          l = j+c[k];\n          if (l < 0)l = 0;\n          else if (l >= ma)l = 255;\n          cost = (l-x[i])*(l-x[i]);\n          d = dp[i][j]+cost;\n          if (dp[i+1][l] < 0)dp[i+1][l] = d;\n          else if (dp[i+1][l] > d) dp[i+1][l] = d;\n        }\n      }\n    }\n    LL ans = INF;\n    FOR(i,0,ma){\n      if (dp[n][i] >= 0 && dp[n][i] < ans) ans = dp[n][i];\n    }\n    cout << ans << endl;\n  }\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define int long long\n#define rep(i, a, b) for (int i = (a); i < (int)(b); ++i)\n#define rrep(i, a, b) for (int i = ((int)a) - 1; i >= ((int)a); --i)\n#define all(x) x.begin(), x.end()\n#define sz(x) ((int)x.size())\nusing pii = pair<int, int>;\nusing vi = vector<int>;\nusing vvi = vector<vi>;\n\nvoid dump_impl(string s) {}\ntemplate <class H, class... T>\nvoid dump_impl(string s, H head, T... tail) {\n    int p = 0;\n    rep(i, 0, sz(s)) {\n        char x = s[i];\n        if (p == 0 && x == ',') {\n            cerr << \"=\" << head << \", \";\n            dump_impl(s.substr(i + 1), tail...);\n            return;\n        } else {\n            cerr << x;\n            if (x == '(') p++;\n            if (x == ')') p--;\n        }\n    }\n}\n#ifdef LOCAL\n#define dump(...) do { cerr << \"\\x1b[33;1m\"; dump_impl(#__VA_ARGS__ \",\", __VA_ARGS__); cerr << \"\\x1b[0m\" << endl; } while (0) \n#else\n#define dump(...)\n#endif\n\nconstexpr int DY[8] = {-1, 0, 1, 0, -1, 1, 1, -1};\nconstexpr int DX[8] = {0, 1, 0, -1, 1, 1, -1, -1};\n\nvoid solve(int N, int M) {\n    vi C(M);\n    rep(i, 0, M) cin >> C[i];\n    vi X(N);\n    rep(i, 0, N) cin >> X[i];\n\n    vvi dp(N + 1, vi(256, 1e9));\n    dp[0][128] = 0;\n    rep(i, 0, N) {\n        rep(j, 0, 256) {\n            rep(k, 0, M) {\n                int jj = j + C[k];\n                jj = max(jj, 0LL);\n                jj = min(jj, 255LL);\n                dp[i + 1][jj] = min(dp[i + 1][jj], dp[i][j] + (jj - X[i]) * (jj - X[i]));\n            }\n        }\n    }\n    int ans = 1e9;\n    rep(i, 0, 256) {\n        ans = min(ans, dp[N][i]);\n    }\n    cout << ans << endl;\n}\n\nsigned main() {\n    while (1) {\n        int N, M;\n        cin >> N >> M;\n        if (N == 0 && M ==0) break;\n        solve(N, M);\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iomanip>\n#include<limits>\n#include<thread>\n#include<utility>\n#include<iostream>\n#include<string>\n#include<algorithm>\n#include<set>\n#include<map>\n#include<vector>\n#include<stack>\n#include<queue>\n#include<cmath>\n#include<numeric>\n#include<cassert>\n#include<random>\n#include<chrono>\n#include<unordered_set>\n#include<unordered_map>\n#include<fstream>\n#include<list>\n#include<functional>\n#include<bitset>\n#include<complex>\n#include<tuple>\nusing namespace std;\ntypedef unsigned long long int ull;\ntypedef long long int ll;\ntypedef pair<ll,ll> pll;\ntypedef long double D;\ntypedef complex<D> P;\n#define F first\n#define S second\nconst ll E=1e18+7;\nconst ll MOD=1000000007;\n\n\ntemplate<typename T,typename U>istream & operator >> (istream &i,pair<T,U> &A){i>>A.F>>A.S; return i;}\ntemplate<typename T>istream & operator >> (istream &i,vector<T> &A){for(auto &I:A){i>>I;} return i;}\ntemplate<typename T,typename U>ostream & operator << (ostream &o,pair<T,U> &A){o<<A.F<<\" \"<<A.S; return o;}\ntemplate<typename T>ostream & operator << (ostream &o,vector<T> &A){ll i=A.size(); for(auto &I:A){o<<I<<(--i?\" \":\"\");} return o;}\ntemplate<typename T>vector<T> & cset(vector<T> &A,T e=T()){for(auto &I:A){I=e;} return A;}\n\n\n\nint main(){\n    const ll MX=256;\n    ll n,m;\n    while(cin>>n>>m,n){\n        vector<ll> C(m);\n        cin>>C;\n        vector<ll> X(n);\n        cin>>X;\n        vector<vector<ll>> dp(n+1,vector<ll>(MX,1e15));\n        dp[0][MX/2]=0;\n        for(int i=0;i<n;i++){\n            for(int j=0;j<MX;j++){\n                for(int k=0;k<m;k++){\n                    ll nx=j+C[k];\n                    nx=max(min(nx,MX-1),0LL);\n                    dp[i+1][nx]=min(dp[i+1][nx],dp[i][j]+(nx-X[i])*(nx-X[i]));\n                }\n            }\n        }\n        ll ans=E;\n        for(auto &I:dp.back()){ans=min(ans,I);}\n        cout<<ans<<endl;\n    }\n    \n    \n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\n#define all(x) (x).begin(),(x).end()\nconst int mod=1000000007,MAX=20005,INF=1<<30;\nint dp[MAX][256];\n\n\nint main(){\n    \n    std::ifstream in(\"text.txt\");\n    std::cin.rdbuf(in.rdbuf());\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    \n    while(1){\n        int N,M;cin>>N>>M;\n        if(N+M==0) break;\n        \n        vector<int> A(M),B(N);\n        for(int i=0;i<M;i++) cin>>A[i];\n        for(int i=0;i<N;i++) cin>>B[i];\n        \n        for(int i=0;i<MAX;i++){\n            for(int j=0;j<256;j++){\n                dp[i][j]=INF;\n            }\n        }\n        dp[0][128]=0;\n        \n        for(int i=0;i<N;i++){\n            for(int j=0;j<256;j++){\n                for(int k=0;k<M;k++){\n                    int to=j+A[k];\n                    if(to>255) to=255;\n                    if(to<0) to=0;\n                    \n                    dp[i+1][to]=min(dp[i+1][to],dp[i][j]+(to-B[i])*(to-B[i]));\n                }\n            }\n        }\n        \n        int ans=INF;\n        \n        for(int j=0;j<256;j++){\n            ans=min(ans,dp[N][j]);\n        }\n        \n        cout<<ans<<endl;\n    }\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <cmath>\nusing namespace std;\n\nint main(){\n  int i,j,k,n,m;\n  while(cin >> n >> m && n && m){\n    vector<int> C,x;\n    for(i=0;i<m;i++){\n      int a;\n      cin >> a;\n      C.push_back(a);\n    }\n    for(i=0;i<n;i++){\n      int a;\n      cin >> a;\n      x.push_back(a);\n    }\n\n    unsigned long long y[256][2];\n    bool f[256][2];\n    for(i=0;i<256;i++){\n      y[i][0] = y[i][1] = 0;\n      f[i][0] = f[i][1] = false;\n    }\n    f[128][0] = true;\n\n    for(i=0;i<n;i++){\n      for(j=0;j<m;j++){\n\tfor(k=0;k<256;k++){\n\t  if(f[k][0]){\n\t    int a = k + C[j];\n\t    if(a < 0) a = 0;\n\t    else if(a > 255) a = 255;\n\n\t    if(y[k][0] >= (unsigned long long)(2*pow(2.0,63))-1) continue;\n\n\t    if(!f[a][1]) y[a][1] = y[k][0]+(x[i]-a)*(x[i]-a);\n\t    else y[a][1] = min(y[a][1],y[k][0]+(x[i]-a)*(x[i]-a));\n\t    f[a][1] = true;\n\t  }\n\t}\n      }\n      for(j=0;j<256;j++){\n\ty[j][0] = y[j][1];\n\ty[j][1] = 0;\n\tf[j][0] = f[j][1];\n\tf[j][1] = false;\n      }\n    }\n\n    unsigned long long ans = 0;\n    bool f2 = false;\n    for(i=0;i<256;i++){\n      if(f[i][0]){\n\tif(!f2){\n\t  ans = y[i][0];\n\t  f2 = true;\n\t}\n\telse ans = min(ans,y[i][0]);\n      }\n    }\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <functional>\n#include <iomanip>\n#include <stdlib.h>\n#include <string.h>\n#include <cstring>\n#include <cmath>\n#include <map>\n#include <queue>\n#include <deque>\n#include <stack>\n#include <set>\n#include <stdio.h>\n#include <tuple>\n#include <bitset>\n#include <cfloat>\n#include <fstream>\n#include <limits.h>\n#include <list>\n#include <math.h>\n#include <random>\n#include <unordered_map>\n#include <unordered_set>\n#include <bitset>\n#include <numeric>\n#include <utility>\n#include <sstream>\n#include <cassert>\ntemplate<class T> inline bool chmin(T& a, T b) {\n\tif (a > b) {\n\t\ta = b;\n\t\treturn true;\n\t}\n\treturn false;\n}\ntemplate<class T> inline bool chmax(T& a, T b) {\n\tif (a < b) {\n\t\ta = b;\n\t\treturn true;\n\t}\n\treturn false;\n}\nusing namespace std;\n#define int long long\n#define ll long long\n#define rep(i, n) for (ll i = 0; i < (n); i++)\n#define P pair<ll, ll>\n#define sz(x) (ll)x.size()\n#define ALL(x) (x).begin(),(x).end()\n#define ALLR(x) (x).rbegin(),(x).rend()\n#define VE vector<ll>\n#define COUT(x) cout<<(x)<<endl\n#define MA map<ll,ll>\n#define SE set<ll>\n#define PQ priority_queue<ll>\n#define PQR priority_queue<ll,VE,greater<ll>>\n#define YES(n) cout << ((n) ? \"YES\" : \"NO\"  ) << endl\n#define Yes(n) cout << ((n) ? \"Yes\" : \"No\"  ) << endl\n#define EPS (1e-14)\n#define pb push_back\nlong long MOD = 1000000007;\n//const long long MOD = 998244353;\nconst long long INF = 1LL << 60;\nconst double PI = acos(-1.0);\nusing Graph = vector<VE>;\nstruct mint {\n\tll x; // typedef long long ll;\n\tmint(ll x = 0) :x((x%MOD + MOD) % MOD) {}\n\tmint operator-() const { return mint(-x); }\n\tmint& operator+=(const mint a) {\n\t\tif ((x += a.x) >= MOD) x -= MOD;\n\t\treturn *this;\n\t}\n\tmint& operator-=(const mint a) {\n\t\tif ((x += MOD - a.x) >= MOD) x -= MOD;\n\t\treturn *this;\n\t}\n\tmint& operator*=(const mint a) {\n\t\t(x *= a.x) %= MOD;\n\t\treturn *this;\n\t}\n\tmint operator+(const mint a) const {\n\t\tmint res(*this);\n\t\treturn res += a;\n\t}\n\tmint operator-(const mint a) const {\n\t\tmint res(*this);\n\t\treturn res -= a;\n\t}\n\tmint operator*(const mint a) const {\n\t\tmint res(*this);\n\t\treturn res *= a;\n\t}\n\tmint pow(ll t) const {\n\t\tif (!t) return 1;\n\t\tmint a = pow(t >> 1);\n\t\ta *= a;\n\t\tif (t & 1) a *= *this;\n\t\treturn a;\n\t}\n\n\t// for prime MOD\n\tmint inv() const {\n\t\treturn pow(MOD - 2);\n\t}\n\tmint& operator/=(const mint a) {\n\t\treturn (*this) *= a.inv();\n\t}\n\tmint operator/(const mint a) const {\n\t\tmint res(*this);\n\t\treturn res /= a;\n\t}\n\tfriend ostream& operator<<(ostream& os, const mint& m) {\n\t\tos << m.x;\n\t\treturn os;\n\t}\n};\nstruct combination {\n\tvector<mint> fact, ifact;\n\tcombination(int n) :fact(n + 1), ifact(n + 1) {\n\t\t//assert(n < MOD);\n\t\tfact[0] = 1;\n\t\tfor (int i = 1; i <= n; ++i) fact[i] = fact[i - 1] * i;\n\t\tifact[n] = fact[n].inv();\n\t\tfor (int i = n; i >= 1; --i) ifact[i - 1] = ifact[i] * i;\n\t}\n\tmint operator()(int n, int k) {\n\t\tif (k < 0 || k > n) return 0;\n\t\treturn fact[n] * ifact[k] * ifact[n - k];\n\t}\n}com(10);\nstruct Sieve {\n\tint n;\n\tvector<int> f, primes;\n\t\n\tSieve(int n = 1) :n(n), f(n + 1) {\n\t\tf[0] = f[1] = -1;\n\t\tfor (ll i = 2; i <= n; ++i) {\n\t\t\tif (f[i]) continue;\n\t\t\tprimes.push_back(i);\n\t\t\tf[i] = i;\n\t\t\tfor (ll j = i * i; j <= n; j += i) {\n\t\t\t\tif (!f[j]) f[j] = i;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tbool isPrime(int x) { return f[x] == x; }\n\t\n\tvector<int> factorList(int x) {\n\t\tvector<int> res;\n\t\twhile (x != 1) {\n\t\t\tres.push_back(f[x]);\n\t\t\tx /= f[x];\n\t\t}\n\t\treturn res;\n\t}\n\t\n\tvector<P> factor(int x) {\n\t\tvector<int> fl = factorList(x);\n\t\tif (fl.size() == 0) return {};\n\t\tvector<P> res(1, P(fl[0], 0));\n\t\tfor (int p : fl) {\n\t\t\tif (res.back().first == p) {\n\t\t\t\tres.back().second++;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tres.emplace_back(p, 1);\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t}\n};\nclass UnionFind {\npublic:\n\tvector <ll> par; \n\tvector <ll> siz; \n\n\t// Constructor\n\tUnionFind(ll sz_) : par(sz_), siz(sz_, 1) {\n\t\tfor (ll i = 0; i < sz_; ++i) par[i] = i; \n\t}\n\tvoid init(ll sz_) {\n\t\tpar.resize(sz_);\n\t\tsiz.resize(sz_, 1);\n\t\tfor (ll i = 0; i < sz_; ++i) par[i] = i; \n\t}\n\n\t// Member Function\n\t// Find\n\tll root(ll x) { \n\t\twhile (par[x] != x) {\n\t\t\tx = par[x] = par[par[x]]; \n\t\t}\n\t\treturn x;\n\t}\n\n\t// Union(Unite, Merge)\n\tbool merge(ll x, ll y) {\n\t\tx = root(x);\n\t\ty = root(y);\n\t\tif (x == y) return false;\n\t\t\n\t\tif (siz[x] < siz[y]) swap(x, y);\n\t\tsiz[x] += siz[y];\n\t\tpar[y] = x;\n\t\treturn true;\n\t}\n\n\tbool issame(ll x, ll y) {\n\t\treturn root(x) == root(y);\n\t}\n\n\tll size(ll x) {\n\t\treturn siz[root(x)];\n\t}\n};\ntemplate<class t> t gcd(t a, t b) { return b != 0 ? gcd(b, a % b) : a; }\nll lcm(ll a, ll b) {\n\tll g = gcd(a, b);\n\treturn a * b / g;\n}\nbool prime(ll n) {\n\tfor (ll i = 2; i <= sqrt(n); i++) {\n\t\tif (n%i == 0)return false;\n\t}\n\treturn n != 1;\n}\nmap<ll, ll> prime_factor(ll n) {\n\tmap<ll, ll> ret;\n\tfor (ll i = 2; i * i <= n; i++) {\n\t\twhile (n % i == 0) {\n\t\t\tret[i]++;\n\t\t\tn /= i;\n\t\t}\n\t}\n\tif (n != 1) ret[n] = 1;\n\treturn ret;\n}\nll modinv(ll a, ll m) {\n\tll b = m, u = 1, v = 0;\n\twhile (b) {\n\t\tll t = a / b;\n\t\ta -= t * b; swap(a, b);\n\t\tu -= t * v; swap(u, v);\n\t}\n\tu %= m;\n\tif (u < 0) u += m;\n\treturn u;\n}\nvector<pair<char, int>> RunLength(string s) {\n\tif (s.size() == 0)return {};\n\tvector<pair<char, int>>res(1, pair<char, int>(s[0], 0));\n\tfor (char p : s) {\n\t\tif (res.back().first == p) {\n\t\t\tres.back().second++;\n\t\t}\n\t\telse {\n\t\t\tres.emplace_back(p, 1);\n\t\t}\n\t}\n\treturn res;\n}\n// Digit Count\nint GetDigit(int num) {\n\treturn log10(num) + 1;\n}\n// bit calculation[how many \"1\"] (= __builtin_popcount())\nint bit_count(int n) {\n\tint cnt = 0;\n\twhile (n > 0) {\n\t\tif (n % 2 == 1)cnt++;\n\t\tn /= 2;\n\t}\n\treturn cnt;\n}\nmint POW(mint n, int p) {\n\tif (p == 0)return 1;\n\tif (p % 2 == 0) {\n\t\tmint t = POW(n, p / 2);\n\t\treturn t * t;\n\t}\n\treturn n * POW(n, p - 1);\n}\n\nconst ll dx[4] = { 1,0,-1,0 };\nconst ll dy[4] = { 0,1,0,-1 };\nstruct edge { ll to, cost; };\ntypedef long double ld;\nint dp[20010][300];\nsigned main() {\n\tios_base::sync_with_stdio(0);\n\tcin.tie(0);\n\tcout.tie(0);\n\t//cout << fixed << setprecision(15);\n\tint n, m;\n\twhile (cin >> n >> m) {\n\t\tif (n == 0 && m == 0)break;\n\t\tVE c(m), x(n);\n\t\trep(i, m)cin >> c[i];\n\t\trep(i, n)cin >> x[i];\n\t\trep(i, 20010)rep(j, 300)dp[i][j] = INF;\n\t\tdp[0][128] = 0;\n\t\trep(i, n)rep(j, 256) {\n\t\t\tif (dp[i][j] == INF)continue;\n\t\t\trep(k, m) {\n\t\t\t\tint now = j + c[k];\n\t\t\t\tif (now > 255)now = 255;\n\t\t\t\telse if (now < 0)now = 0;\n\t\t\t\tchmin(dp[i + 1][now], dp[i][j] + (x[i] - now)*(x[i] - now));\n\t\t\t}\n\t\t}\n\t\tcout << *min_element(dp[n], dp[n] + 256) << endl;\n\t}\n\treturn 0;\n\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nconstexpr int inf = 1e9;\n\nint main() {\n    int n, m;\n    while(cin >> n >> m, n) {\n        vector<int> c(m), x(n);\n        for(int i = 0; i < m; ++i) {\n            cin >> c[i];\n        }\n        for(int i = 0; i < n; ++i) {\n            cin >> x[i];\n        }\n\n        vector<int> dp(256, inf);\n        dp[128] = 0;\n        for(int i = 0; i < n; ++i) {\n            vector<int> nxt(256, inf);\n            for(int j = 0; j <= 255; ++j) {\n                for(int k = 0; k < m; ++k) {\n                    int nc = max(0, min(255, j + c[k]));\n                    nxt[nc] = min(nxt[nc], dp[j] + (x[i] - nc) * (x[i] - nc));\n                }\n            }\n            dp = move(nxt);\n        }\n\n        cout << *min_element(begin(dp), end(dp)) << endl;\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\n#define rep(i,x,y) for(int (i)=(x);i<(y);(i)++)\n#define INF 1000000000\n\nint main()\n{\n  while(true){\n    int N,M;\n    cin>>N>>M;\n    if(N==0&&M==0){\n      break;\n    }\n\n    vector<int> C,x;\n    int temp;\n    rep(i,0,M){\n      cin>>temp;\n      C.push_back(temp);\n    }\n    rep(i,0,N){\n      cin>>temp;\n      x.push_back(temp);\n    }\n\n    vector<vector<int>> dp(N+1,vector<int>(256,INF));\n    dp[0][128]=0;\n    rep(i,0,N){\n      rep(j,0,256){\n        if(dp[i][j]==INF){\n          continue;\n        }\n        rep(k,0,M){\n          int yn=j+C[k];\n          yn=min(255,yn);\n          yn=max(0,yn);\n          int sum=(x[i]-yn)*(x[i]-yn);\n          dp[i+1][yn]=min(dp[i+1][yn],dp[i][j]+sum);\n        }\n      }\n    }\n\n    int ans=dp[N][0];\n    rep(i,0,256){\n      ans=min(ans,dp[N][i]);\n    }\n    cout<<ans<<endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <cmath>\n#include <cstdio>\n#include <functional>\n#include <numeric>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <utility>\n#include <sstream>\n#include <complex>\n\nusing namespace std;\n\n#define FOR(i,a,b) for(long long i=(a);i<(b);i++)\n#define REP(i,N) for(long long i=0;i<(N);i++)\n#define ALL(s) (s).begin(),(s).end()\n#define fi first\n#define se second\n\n#define PI acos(-1.0)\n#define INF 1000000007\n#define EPS 1e-10\n\ntypedef long long ll;\ntypedef pair<ll, ll> P;\ntypedef pair<double, double> PD;\ntypedef pair<string, ll> PS;\ntypedef vector<ll> V;\ntypedef pair<P, char> PC;\n\nint n, m;\nint c[160], x[200000];\nint dp[160][2560];\n\nint main(){\n\twhile (cin >> n >> m&&n + m){\n\t\tREP(i, 160){\n\t\t\tREP(j, 2560){\n\t\t\t\tdp[i][j] = INF;\n\t\t\t}\n\t\t}\n\t\tREP(i, m){\n\t\t\tcin >> c[i];\n\t\t}\n\t\tREP(i, n){\n\t\t\tcin >> x[i];\n\t\t}\n\t\tdp[0][128] = 0;\n\t\tREP(i, n){\n\t\t\tREP(j, m){\n\t\t\t\tREP(k, 256){\n\t\t\t\t\tint num = k + c[j];\n\t\t\t\t\tif (num < 0)num = 0;\n\t\t\t\t\tif (num > 255)num = 255;\n\t\t\t\t\tdp[i + 1][num] = min(dp[i][k] + (x[i] - num)*(x[i] - num), dp[i + 1][num]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = INF;\n\t\tREP(i, 2560){\n\t\t\tans = min(ans, dp[n][i]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing ll = long long;\nusing P = pair<ll, ll>;\n\nint main() {\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n\n    while (true) {\n        int N, M;\n        cin >> N >> M;\n        if (N == 0 && M == 0) break;\n        vector<int> C(M), x(N);\n        for (auto &c : C) cin >> c;\n        for (auto &p : x) cin >> p;\n\n        vector<vector<ll> > dp(N + 1, vector<ll>(256, LLONG_MAX));\n        dp.at(0).at(128) = 0;\n        for (int i = 0; i < N; ++i) {\n            for (int j = 0; j <= 255; ++j) {\n                if (dp.at(i).at(j) == LLONG_MAX) continue;\n                for (auto &c : C) {\n                    int y = j + c;\n                    if (y > 255) y = 255;\n                    if (y < 0) y = 0;\n                    dp.at(i + 1).at(y) = min(dp.at(i + 1).at(y), dp.at(i).at(j) + (ll)pow(y - x.at(i), 2));\n                }\n            }\n        }\n\n        ll ans = LLONG_MAX;\n        for (int j = 0; j <= 255; ++j) {\n            ans = min(ans, dp.at(N).at(j));\n        }\n        cout << ans << endl;\n    }\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n#define rep(i, n) for ( int i = 0; i < n; i++ )\n#define NMAX 20001\n#define MMAX 16\n#define INFTY (1<<30)\nint N, M, C[MMAX], X[NMAX];\nunsigned long  T[256][NMAX];\n\nunsigned long  compute(){\n    rep(i, 256) rep(j, N+1) T[i][j] = INFTY;\n    T[128][0] = 0;\n    rep(j, N){\n\trep(i,256){\n\t    if ( T[i][j] == INFTY ) continue;\n\t    rep(k, M){\n\t\tint p = i + C[k];\n\t\tif ( p > 255 ) p = 255;\n\t\tif ( p < 0 ) p = 0;\n\t\tT[p][j+1] = min(T[p][j+1], T[i][j] + (X[j+1]-p)*(X[j+1]-p));\n\t    }\n\t}\n    }\n    unsigned long minv = INFTY;\n    rep(i, 256) minv = min(minv, T[i][N]);\n    return minv;\n}\n\nmain(){\n    while(cin >> N >> M && N ){\n\trep(i, M) cin >> C[i];\n\trep(i, N) cin >> X[i+1];\n\tcout << compute() << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\nusing namespace std;\n#define INF (1<<29)\nint cb[16];\n\nint main(){\n\tint n,m;\n\twhile(cin>>n>>m,n|m){\n\t\tfor(int i=0;i<m;i++)cin>>cb[i];\n\t\tint dp[2*256];\n\t\tint *cur=dp,*next=dp+256;\n\t\tfor(int i=0;i<256;i++)cur[i]=INF;\n\t\tcur[128]=0;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tint x;\n\t\t\tcin>>x;\n\t\t\tfor(int j=0;j<256;j++)next[j]=INF;\n\t\t\tfor(int j=0;j<256;j++){\n\t\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\t\tint a = j+cb[k];\n\t\t\t\t\tif(a<0)a=0;\n\t\t\t\t\telse if(255<a)a=255;\n\t\t\t\t\tnext[a] = min(next[a],cur[j]+(a-x)*(a-x));\n\t\t\t\t}\n\t\t\t}\n\t\t\tswap(cur,next);\n\t\t}\n\t\tcout<<*min_element(cur,cur+256)<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\n\nint c[30],x[30000];\nint dp[30000][256];\n\nint sq(int x) {\n    return x*x;\n}\nint add(int x, int y) {\n    return max(0, min(255, x+y));\n}\nint main(void) {\n    while(1) {\n        int n,m;\n        scanf(\"%d%d\",&n,&m);\n        if(!n) break;\n        memset(dp, 0x6F, sizeof(dp));\n\n        for(int i=0; i<m; i++)\n            scanf(\"%d\",&c[i]);\n        for(int i=0; i<n; i++)\n            scanf(\"%d\",&x[i]);\n\n        for(int i=0; i<256; i++)\n            dp[0][i] = 0xFFFFFF;\n        dp[0][128] = 0;\n\n        for(int i=0; i<n; i++)\n            for(int j=0; j<256; j++)\n                for(int k=0; k<m; k++)\n                    dp[i+1][add(j,c[k])] = min(dp[i+1][add(j,c[k])], dp[i][j] + sq(x[i]-add(j,c[k])));\n\n        int res=0xFFFFFF;\n        for(int j=0; j<256; j++)\n            res = min(res, dp[n][j]);\n\n        printf(\"%d\\n\", res);\n\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n\nint a[20001][256];\n\nint main(void){\n\nint i,j,k;\nint n,m,dummy;\nint min = 2000000000;\nint c[17];\nint x[20001];\n\n\n\nwhile(1){\nscanf(\"%d %d\",&n,&m);\nif(n == 0 && m == 0){\nreturn 0;\n}\n\nfor(i = 0; i < m; i++){\nscanf(\"%d\",&c[i]);\n}\nfor(i = 0; i < n; i++){\nscanf(\"%d\",&x[i]);\n}\n\nfor(i = 0; i < n + 1; i++){\nfor(j = 0; j < 256; j++){\na[i][j] = 2000000000;\n}\n}\n\na[0][128] = 0;\n\nfor(i = 0; i < n; i++){\nfor(j = 0; j < 256; j++){\nif(a[i][j] != 2000000000){\nfor(k = 0; k < m; k++){\ndummy = j + c[k];\nif(dummy < 0){\ndummy = 0;\n}else if(dummy > 255){\ndummy = 255;\n}\nif(a[i+1][dummy] > a[i][j] + (dummy - x[i])*(dummy - x[i])){\na[i+1][dummy] = a[i][j] + (dummy - x[i])*(dummy - x[i]);\n}\n}\n}\n}\n}\n\nfor(j = 0; j < 256; j++){\nif(a[n][j] > -1){\nif(min > a[n][j]){\nmin = a[n][j];\n}\n}\n}\n\nprintf(\"%d\\n\",min);\n\n}\nreturn 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n\nusing namespace std;\n\nusing i64 = long long;\n\nconst i64 MOD = 1e9 + 7;\nconst i64 INF = i64(1e18) + 7;\n\n\ntemplate <typename T>\nbool chmin(T& x, T y){\n    if(x > y){\n        x = y;\n        return true;\n    }\n    return false;\n}\n\ntemplate <typename T>\nbool chmax(T& x, T y){\n    if(x < y){\n        x = y;\n        return true;\n    }\n    return false;\n}\n\n\nbool solve(){\n    int n, m;\n    cin >> n >> m;\n    if(!n)\n        return false;\n    vector<int> c(m);\n    vector<int> x(n);\n    for(int i = 0; i < m; ++i)\n        cin >> c[i];\n    for(int i = 0; i < n; ++i)\n        cin >> x[i];\n\n    vector<i64> dp(256, INF);\n    dp[128] = 0;\n    for(int i = 0; i < n; ++i){\n        vector<i64> nex(256, INF);\n        for(int j = 0; j < 256; ++j){\n            for(auto p : c){\n                int k = min(max(0, j + p), 255);\n                chmin(nex[k], dp[j] + (x[i] - k) * (x[i] - k));\n            }\n\n        }\n        dp = move(nex);\n    }\n    cout << *min_element(dp.begin(), dp.end()) << endl;\n    return true;\n}\n\nsigned main(){\n    while(solve());\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<math.h>\n#include<string>\n#include<algorithm>\n#include<functional>\n#include<vector>\n#include<set>\n#include<map>\n#define INF 999999999\n#define EPS 1.0e-6\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int, int> P;\ntypedef pair<int, P> PP;\n\nint n, m;\nint c[20];\nll x[21000];\nll d[21000][260];\n\nint main()\n{\n\twhile (cin >> n >> m) {\n\t\tif (n == 0 && m == 0)return 0;\n\t\tfor (int i = 0; i < m; i++) {\n\t\t\tcin >> c[i];\n\t\t}\n\n\t\tfor (int i = 1; i <= n; i++) {\n\t\t\tcin >> x[i];\n\t\t}\n\t\tfor (int i = 0; i <= n; i++) {\n\t\t\tfor (int j = 0; j <= 256; j++) {\n\t\t\t\td[i][j] = INF;\n\t\t\t}\n\t\t}\n\t\td[0][128] = 0;\n\n\t\tfor (int i = 0; i < n ; i++) {\n\t\t\tfor (int j = 0; j <= 255; j++) {\n\t\t\t\tif (d[i][j] != INF) {\n\t\t\t\t\tfor (int k = 0; k < m; k++) {\n\t\t\t\t\t\tint l = j + c[k];\n\t\t\t\t\t\t//cout << l << endl;\n\t\t\t\t\t\tif (l < 0)d[i + 1][0] = min(d[i + 1][0], x[i + 1] * x[i + 1]);\n\t\t\t\t\t\telse if (l > 255) {\n\t\t\t\t\t\t\td[i + 1][255] = min(d[i + 1][256], d[i][j]+(x[i + 1] - 255)*(x[i + 1] - 255));\n\t\t\t\t\t\t\t//cout << d[i + 1][256] << endl;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\td[i+1][l]= min(d[i + 1][l], d[i][j] + (x[i + 1] - l)*(x[i + 1] - l));\n\t\t\t\t\t\t\t//cout << i + 1 << \" \" << j << \" \" << l << \" \" << d[i + 1][l];\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//cout << i + 1 << \" \" << j << \" \" << l << \" \" << d[i + 1][l]<<endl;\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t/*\n\t\t\tfor (int j = 0; j <= 256; j++) {\n\t\t\t\tcout << i<< \"j:\" <<j<<\" \"<<d[i][j] << endl;\n\n\t\t\t}\n\t\t\tcout << endl;\n\t\t\t*/\n\t\t\t\n\t\t}\n\t\tll ans = INF;\n\t\tfor (int i = 0; i <= 255; i++) {\n\t\t\t//cout <<\"d[n-1][i]:\"<< d[n][i] << endl;\n\t\t\tans = min(ans, d[n][i]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> pii;\n#define rep(i,n) for(ll i=0;i<(ll)(n);i++)\n#define all(a)  (a).begin(),(a).end()\n#define pb push_back\n#define INF 1LL<<50\n\n\nint main(){\n    int n,m;\n    while(cin>>n>>m){\n        if(n==0&&m==0)break;\n        vector<int> c,x;\n        rep(i,m){\n            int a;\n            cin>>a;\n            c.pb(a);\n        }\n        rep(i,n){\n            int a;\n            cin>>a;\n            x.pb(a);\n        }\n        \n        \n        static ll dp[20100][260];\n        rep(i,20100)rep(j,260)dp[i][j]=INF;\n        dp[0][128]=0;\n        \n        for(int i=0;i<n;i++){\n            rep(j,256){\n                rep(k,m){\n                    int val = j+c[k];\n                    if(val>255)val=255;\n                    if(val<0)val=0;\n                    int pow2 = (x[i]-val)*(x[i]-val);\n                    dp[i+1][val] = min(dp[i+1][val] , dp[i][j]+pow2);\n//                    if(j-c[k]>=0 && j-c[k]<=255)dp[i][j] = min(dp[i][j],dp[i-1][j-c[k]]+pow2);\n                }\n            }\n        }\n        ll mini=INF;\n        rep(i,256){\n            mini = min(mini,dp[n][i]);\n        }\n        cout<<mini<<endl;\n        \n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#define REP(i, a, n) for(int i = ((int) a); i < ((int) n); i++)\n#define INF 100000000\nusing namespace std;\ntypedef long long ll;\n\nint N, M, C[16], X[20000];\nll dp[20000][256];\n\nint main(void) {\n  while(cin >> N >> M, N || M) {\n    REP(i, 0, M) cin >> C[i];\n    REP(i, 0, N) cin >> X[i];\n\n    REP(i, 0, N + 1) REP(j, 0, 256) dp[i][j] = INF;\n    dp[0][128] = 0;\n\n    REP(i, 0, N) REP(j, 0, 256) if(dp[i][j] < INF) REP(k, 0, M) {\n      ll y = max(0, min(255, j + C[k]));\n      dp[i + 1][y] = min(dp[i + 1][y], dp[i][j] + (y - X[i]) * (y - X[i]));\n    }\n\n    ll ans = INF;\n    REP(i, 0, 256) ans = min(ans, dp[N][i]);\n    cout << ans << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <fstream>\n#include <algorithm>\n#include <cassert>\n#include <cctype>\n#include <complex>\n#include <cstdio>\n#include <map>\n#include <math.h>\n#include <queue>\n#include <set>\n#include <stack>\n#include <string>\n#include <vector>\nusing namespace std;\n\n#define INF 2e9\n#define rep(i,n) for(int i=0;i<n;i++)\n\nint N,M,c[16],dp[256];\n\nint main(){\n\twhile(cin>>N>>M&&N){\n\t\tfill(dp,dp+256,0);\n\t\trep(i,M)cin>>c[i];\n\t\trep(i,N){\n\t\t\tint m,dp2[256];\n\t\t\tfill(dp2,dp2+256,INF);\n\t\t\tcin>>m;\n\t\t\trep(j,256)rep(k,M){\n\t\t\t\tint n=j+c[k];\n\t\t\t\tif(n<0)n=0;\n\t\t\t\tif(n>255)n=255;\n\t\t\t\tdp2[n]=min(dp2[n],dp[j]+(m-n)*(m-n));\n\t\t\t}\n\t\t\trep(j,256)dp[j]=dp2[j];\n\t\t}\n\t\tint ans=INF;\n\t\trep(i,256)ans=min(ans,dp[i]);\n\t\tcout<<ans<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <climits>\n#include <cstdio>\n#include <cstring>\n#include <iostream>\nusing namespace std;\n\nint n,m;\nint c[16],x[20000];\n\nlong dp[20000][256];\n\nlong rec(int p, int y){ //?????¨p???????????¨???????????????????????????????????????y???x[n]??¨????????????????????????\n\tif(dp[p][y]>=0) return dp[p][y];\n\t\n\tif(p==n) return 0;\n\t\n\tlong ret=LONG_MAX;\n\tfor(int i=0; i<m; ++i){ //??????????????????????????¨????????????????????°????????????\n\t\tint ny = y+c[i];\n\t\tif(ny<0) ny=0;\n\t\telse if(ny>255) ny=255;\n\t\t\n\t\tret = min(ret, rec(p+1,ny)+(ny-x[p])*(ny-x[p]));\n\t}\n\t\n\treturn dp[p][y]=ret;\n}\n\nint main(){\n\twhile(1){\t\t\n\t\t//input\n\t\tscanf(\" %d %d\", &n, &m);\n\t\tif(n==0) break;\n\t\t\n\t\tfor(int i=0; i<m; ++i) scanf(\" %d\", &c[i]);\n\t\tfor(int i=0; i<n; ++i) scanf(\" %d\", &x[i]);\t\n\t\t\n\t\tmemset(dp,-1,sizeof(dp));\n\t\tprintf(\"%ld\\n\", rec(0,128));\n\t}\n}"
  },
  {
    "language": "C++",
    "code": " \n#include <bits/stdc++.h>\nusing namespace std;\nusing vi=vector<int>;\nusing vvi=vector<vi>;\nusing vs=vector<string>;\nusing msi=map<string,int>;\nusing mii=map<int,int>;\nusing pii=pair<int,int>;\nusing vlai=valarray<int>;\nusing ll=long long;\n#define rep(i,n) for(int i=0;i<n;i++)\n#define range(i,s,n) for(int i=s;i<n;i++)\n#define all(a) a.begin(),a.end()\n#define rall(a) a.rbegin(),a.rend()\n#define fs first\n#define sc second\n#define pb push_back\n#define eb emplace_back\n#define mp make_pair\n#define INF 1e9\n#define EPS 1e-9\n\nint main(){\n\tint n,m;\n\twhile(cin>>n>>m,n){\n        vi code(m);\n        rep(i,m)cin>>code[i];\n        vvi dp(n+1,vi(256,INF));\n        dp[0][128]=0;\n        range(i,1,n+1){\n            int num; cin>>num;\n            rep(j,256){\n                rep(k,m){\n                    int next=min(max(j+code[k],0),255);\n                    int diff=num-next;\n                    dp[i][next]=min(dp[i][next],dp[i-1][j]+diff*diff);\n                }\n            }\n        }\n        cout<<*min_element(all(dp[n]))<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "// ------------------\n// author: MatsuTaku\n// date  : 27/02/2020\n// ------------------\n\n#include <bits/stdc++.h>\n\nusing namespace std;\nusing ll = long long;\n\nint main() {\n  cin.tie(nullptr); ios::sync_with_stdio(false);\n\n  constexpr ll INF = 1e18;\n  int n,m;\n  while (cin>>n>>m and (n!=0 or m!=0)) {\n    vector<int> code(m); for(auto&v:code) cin >> v;\n    vector<array<ll, 256>> dp(n+1);\n    for (int j = 0; j < n+1; j++) for (int i = 0; i < 256; i++)\n      dp[j][i] = INF;\n    dp[0][128] = 0;\n    for (int i = 0; i < n; i++) {\n      ll v; cin>>v;\n      for (int f = 0; f < 256; f++) {\n        if (dp[i][f]==INF) continue;\n        for (auto c:code) {\n          ll t = max(min(f+c, 255), 0);\n          dp[i+1][t] = min(dp[i+1][t], dp[i][f]+(v-t)*(v-t));\n        }\n      }\n    }\n    cout << *min_element(dp[n].begin(), dp[n].end()) << endl;\n  }\n\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <cmath>\n#include <cstdio>\n#include <functional>\n#include <numeric>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <utility>\n#include <sstream>\n#include <complex>\n\nusing namespace std;\n\n#define FOR(i,a,b) for(long long i=(a);i<(b);i++)\n#define REP(i,N) for(long long i=0;i<(N);i++)\n#define ALL(s) (s).begin(),(s).end()\n#define fi first\n#define se second\n\n#define PI acos(-1.0)\n#define INF 1000000007\n#define EPS 1e-10\n#define MAX_N 20000\n#define MAX_M 16\n\ntypedef long long ll;\ntypedef pair<ll, ll> P;\ntypedef pair<double, double> PD;\ntypedef pair<string, ll> PS;\ntypedef vector<ll> V;\ntypedef pair<P, char> PC;\n\nint n, m;\nint c[MAX_M + 1], x[MAX_N + 1];\nint dp[MAX_N + 1][256 + 1];\n\nint main(){\n\twhile (cin >> n >> m&&n + m){\n\t\tREP(i, MAX_N){\n\t\t\tREP(j, 256 + 1){\n\t\t\t\tdp[i][j] = INF;\n\t\t\t}\n\t\t}\n\t\tREP(i, m){\n\t\t\tcin >> c[i];\n\t\t}\n\t\tREP(i, n){\n\t\t\tcin >> x[i];\n\t\t}\n\t\tdp[0][128] = 0;\n\t\tREP(i, n){\n\t\t\tREP(j, 256){\n\t\t\t\tif (dp[i][j] == INF)continue;\n\t\t\t\tREP(k, m){\n\t\t\t\t\tint num = j + c[k];\n\t\t\t\t\tif (num < 0) num = 0;\n\t\t\t\t\tif (num > 255) num = 255;\n\t\t\t\t\tdp[i + 1][num] = min(dp[i][j] + (x[i] - num)*(x[i] - num), dp[i + 1][num]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = INF;\n\t\tREP(i, 256){\n\t\t\tans = min(ans, dp[n][i]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n#include \"math.h\"\n \nusing namespace std;\ntypedef long long ll;\ntypedef vector<ll> vll;\ntypedef vector<vll> vvll;\ntypedef vector<bool> vb;\ntypedef vector<vb> vvb;\ntypedef vector<int> vin;\ntypedef vector<vin> vvin;\ntypedef pair<ll,ll> P;\ntypedef vector<P> vp;\n#define rep(i,a,b) for(ll i=(a);i<(b);++i)\n#define drep(i,a,b) for(ll i=(a);i>=(b);--i)\n#define SIZE(a) int((a).size())\nconst int MOD=1e9+7;\n\nint main(){\n\n  ll n=1,m=1;\n  while(n!=0){\n  cin>>n>>m;ll ans=MOD;\n  if(n==0&&m==0){break;}\n  vll c(m),x(n);\n  vvll dp(n+1,vll(256,MOD));\n  rep(i,0,m){cin>>c[i];}\n  rep(i,0,n){cin>>x[i];}\n  dp[0][128]=0;\n  rep(i,0,n){\n    rep(j,0,256){\n      rep(k,0,m){\n        int yn=j+c[k];\n        if(yn>=255){yn=255;}\n        if(yn<=0){yn=0;}\n        dp[i+1][yn]=min(dp[i+1][yn],dp[i][j]+(yn-x[i])*(yn-x[i]));\n      }\n    }\n  }\n  rep(i,0,256){\n    ans=min(dp[n][i],ans);\n  }\n  cout<<ans<<endl;\n  }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nconst int Val=256;\n\nlong long int square(long long int val){return val*val;}\n\nint main(){\n  int n,m;\n  while(cin>>n>>m,n){\n    vector<int> c(m);\n    for(int i=0;i<m;i++) cin>>c[i];\n    vector<int> x(n);\n    for(int i=0;i<n;i++) cin>>x[i];\n    vector<vector<long long int>> dp(n+1,vector<long long int>(Val,(long long int)(1e13)));\n    dp[0][128]=0;\n    for(int i=0;i<n;i++){\n      for(int j=0;j<Val;j++){\n\t//renew dp[i+1][j]\n\tfor(int k=0;k<m;k++){\n\t  if(0<=j-c[k] && j-c[k]<Val) {dp[i+1][j]=min(dp[i+1][j],dp[i][j-c[k]]+square(x[i]-j));}\n\t  if(j==0){\n\t    for(int r=0;r<=-c[k];r++){\n\t      dp[i+1][j]=min(dp[i+1][j],dp[i][r]+square(x[i]-j));\n\t    }\n\n\t  }\n\t  if(j==Val-1){\n\t    for(int r=Val-1;r>=Val-1-c[k];r--){\n\t      dp[i+1][j]=min(dp[i+1][j],dp[i][r]+square(x[i]-j));\n\t    }\n\t  }\n\t}\n      }\n    }\n    cout<<*min_element(dp[n].begin(),dp[n].end())<<endl;\n\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\n#include<stack>\n#include<map>\n#include<set>\n#include<queue>\n#include<cstdio>\n#include<climits>\n#include<cmath>\n#include<cstring>\n#include<string>\n#include<sstream>\n#include<numeric>\n#include<cassert>\n\n#define f first\n#define s second\n#define mp make_pair\n\n#define REP(i,n) for(int i=0; i<(int)(n); i++)\n#define rep(i,s,n) for(int i=(s); i<(int)(n); i++)\n#define FOR(i,c) for(__typeof((c).begin()) i=(c).begin(); i!=(c).end(); i++)\n#define ALL(c) (c).begin(), (c).end()\n#define IN(x,s,g) ((x) >= (s) && (x) < (g))\n#define ISIN(x,y,w,h) (IN((x),0,(w)) && IN((y),0,(h)))\n#define print(x) printf(\"%d\\n\",x)\n\nusing namespace std;\n\ntypedef unsigned int uint;\ntypedef long long ll;\n\nconst int _dx[] = {0,1,0,-1};\nconst int _dy[] = {-1,0,1,0};\n\nint getInt(){\n  int ret = 0,c;\n  c = getchar();\n  while(!isdigit(c)) c = getchar();\n  while(isdigit(c)){\n    ret *= 10;\n    ret += c - '0';\n    c = getchar();\n  }\n  return ret;\n}\n\nint c[16];\nint x[20000];\nint n,m;\n\nuint memo[256][20000];\n\nuint solve(int now, int prev){\n  if(now == n) return 0;\n  if(memo[now][prev]!=0xFFFFFFFF) return memo[now][prev];\n\n  uint ret = 0xFFFFFFFF;\n  REP(i,m){\n    int t = min(255,max(0,prev + c[i]));\n\n    uint g = (uint)(t - x[now]) * (t - x[now]);\n    ret = min(ret, g + solve(now+1, t));\n  }\n  return memo[now][prev] = ret;\n}\n\nint main(){\n  while(scanf(\"%d%d\",&n,&m), n+m){\n    REP(i,m) scanf(\"%d\",c+i);\n    REP(i,n) scanf(\"%d\",x+i);\n    memset(memo,0xFF,sizeof(memo));\n    printf(\"%u\\n\",solve(0,128));\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\n\n//#define int long long\n#define DBG 1\n#define dump(o) if(DBG){cerr<<#o<<\" \"<<o<<endl;}\n#define dumpc(o) if(DBG){cerr<<#o; for(auto &e:(o))cerr<<\" \"<<e;cerr<<endl;}\n#define rep(i,a,b) for(int i=(a);i<(b);i++)\n#define rrep(i,a,b) for(int i=(b)-1;i>=(a);i--)\n#define each(it,c) for(auto it=(c).begin();it!=(c).end();it++)\n#define all(c) c.begin(),c.end()\nconst int INF = sizeof(int) == sizeof(long long) ? 0x3f3f3f3f3f3f3f3fLL : 0x3f3f3f3f;\nconst int MOD = (int)(1e9 + 7);\n\n#define MAX_N 20010\n\nint f(int x) {\n\treturn max(0, min(255, x));\n}\n\nsigned main() {\n\tstatic int dp[MAX_N][256] = {};\n\tfor (int N, M; cin >> N >> M&&N;) {\n\t\tmemset(dp, 0x3f, sizeof(dp));\n\t\tdp[0][128] = 0;\n\t\tvector<int> C(M); rep(i, 0, M) { cin >> C[i]; }\n\t\trep(i, 0, N) {\n\t\t\tint x; cin >> x;\n\t\t\trep(j, 0, 256) {\n\t\t\t\tif (dp[i][j] == INF)continue;\n\t\t\t\trep(k, 0, M) {\n\t\t\t\t\tint y = f(j + C[k]);\n\t\t\t\t\tdp[i + 1][y] = min(dp[i + 1][y], dp[i][j] + (y - x)*(y - x));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = INF;\n\t\trep(i, 0, 256) {\n\t\t\tans = min(ans, dp[N][i]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <numeric>\n\nusing namespace std;\n\nconst int INF = 1<<29;\n\nint main(){\n  int n, m;\n  while(cin >> n >> m && (n|m)){\n    vector<int> C(m);\n    for(int i=0; i<m; i++) cin >> C[i];\n    \n    vector<int> dp(256, INF);\n    dp[128] = 0;\n    while(n--) {\n      vector<int> next(256, INF);\n      int in; cin >> in;\n      for(int i=0; i<=255; i++){\n\tif(dp[i] < INF) {\n\t  for(int j=0; j<m; j++){\n\t    int now = i + C[j];\n\t    if(now < 0)   { now = 0;   }\n\t    if(now > 255) { now = 255; }\n\t    int diff = (in - now) * (in - now);\n\t    next[now] = min(next[now], dp[i] + diff );\n\t  }\n\t}\n      }\n      dp = next;\n    }\n    \n    cout << *min_element(dp.begin(), dp.end()) << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\n#define INF 1e9\n#define llINF 1e18\n#define MOD 1e9+7\n#define pb push_back\n#define mp make_pair \n#define F first\n#define S second\n#define ll long long\n#define sqr(x) (x)*(x)\nusing namespace std;\nvector<int>C(5000);\nvector<int>x(100000);\nint ans=0;\nint n,m;\nint main(){\n  while(cin>>n>>m,n){\n    ans=llINF;\n    int dp[n+20][530]={};\n    for(int i=0;i<n+2;i++)\n      for(int j=0;j<520;j++)\n\tdp[i][j]=llINF;\n    for(int i=0;i<m;i++)\n      cin>>C[i];\n    for(int i=0;i<n;i++){\n      cin>>x[i];\n      x[i]+=260;\n    }\n\n    dp[0][128+260]=0;\n    for(int i=1;i<=n;i++){\n      for(int j=5;j<=515;j++){\n\tif(dp[i-1][j]!=llINF){\n\t  for(int k=0;k<m;k++){\n\t    int num=j+C[k];\n\t    if(num>=515)num=515;\n\t    else if(num<=5)num=5;\n\t    //cout<<i<<\" \"<<\n\t    dp[i][num]=min(dp[i-1][j]+((num-x[i-1])*(num-x[i-1])),dp[i][num]);\n\t  }\n\t}\n      }\n    }\n    for(int i=0;i<520;i++){\n      ans=min(dp[n][i],ans);\n    }\n    cout<<ans<<endl;\n  }\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <climits>\n#include <cstdio>\n#include <cstring>\n#include <iostream>\nusing namespace std;\n\nint n,m;\nint c[16],x[20000];\n\nlong dp[20000][256];\n\nlong rec(int p, int y){ //?????¨p???????????¨???????????????????????????????????????y???x[n]??¨????????????????????????\n\tif(dp[p][y]>=0) return dp[p][y];\n\t\n\tif(p==n) return 0;\n\t\n\tlong ret=LONG_MAX;\n\tfor(int i=0; i<m; ++i){ //??????????????????????????¨????????????????????°????????????\n\t\tint ny = y+c[i];\n\t\tif(ny<0) ny=0;\n\t\telse if(ny>255) ny=255;\n\t\t\n\t\tret = min(ret, rec(p+1,ny)+(ny-x[p])*(ny-x[p]));\n\t}\n\t\n\treturn dp[p][y]=ret;\n}\n\nint main(){\n\twhile(1){\t\t\n\t\t//input\n\t\tscanf(\" %d %d\", &n, &m);\n\t\tif(n==0) break;\n\t\t\n\t\tfor(int i=0; i<m; ++i) scanf(\" %d\", &c[i]);\n\t\tfor(int i=0; i<n; ++i) scanf(\" %d\", &x[i]);\t\n\t\t\n\t\tmemset(dp,-1,sizeof(dp));\n\t\tprintf(\"%ld\\n\", rec(0,128));\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "// #define _GLIBCXX_DEBUG // for STL debug (optional)\n#include <iostream>\n#include <iomanip>\n#include <cstdio>\n#include <string>\n#include <cstring>\n#include <deque>\n#include <list>\n#include <queue>\n#include <stack>\n#include <vector>\n#include <utility>\n#include <algorithm>\n#include <map>\n#include <set>\n#include <complex>\n#include <cmath>\n#include <limits>\n#include <cfloat>\n#include <climits>\n#include <ctime>\n#include <cassert>\n#include <numeric>\n#include <fstream>\n#include <functional>\n#include <bitset>\nusing namespace std;\nusing ll = long long int;\nusing int64 = long long int;\n \ntemplate<typename T> void chmax(T &a, T b) {a = max(a, b);}\ntemplate<typename T> void chmin(T &a, T b) {a = min(a, b);}\ntemplate<typename T> void chadd(T &a, T b) {a = a + b;}\n \nint dx[] = {0, 0, 1, -1};\nint dy[] = {1, -1, 0, 0};\nconst int INF = 1LL << 29;\nconst ll LONGINF = 1LL << 60;\nconst ll MOD = 1000000007LL;\n\nint dp[20010][256];\nint solve_testcase() {\n    int N, M; scanf(\"%d%d\", &N, &M);\n    if(N == 0 and M == 0) return 1;\n\n    vector<int> C(M), X(N);\n    for(int i=0; i<M; i++) scanf(\"%d\", &C[i]);\n    for(int i=0; i<N; i++) scanf(\"%d\", &X[i]);\n\n    fill(dp[0], dp[N+1], INF);\n    dp[0][128] = 0;\n    for(int i=0; i<N; i++) {\n        for(int j=0; j<256; j++) {\n            for(int k=0; k<M; k++) {\n                int nj = j + C[k];\n                if(nj < 0) nj = 0;\n                if(nj > 255) nj = 255;\n                int diff = (X[i] - nj);\n                chmin(dp[i+1][nj], dp[i][j] + diff*diff);\n            }\n        }\n    }\n\n    int ans = INF;\n    for(int i=0; i<256; i++) chmin(ans, dp[N][i]);\n    printf(\"%d\\n\", ans);\n    return 0;\n}\n\nint main() {\n    while(!solve_testcase());\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\nusing LL = long long;\nusing P = pair<int, int>;\nusing Tapris = tuple<int, int, int>;\n\n#define REP(i, n) for(LL i = 0; i < n; ++i)\n#define FOR(i, a, n) for(LL i = a; i < n; ++i)\n#define pb(a) push_back(a)\n#define all(x) (x).begin(),(x).end()\n\nconst int INF = (int)1e9;\nconst LL INFL = (LL)1e15;\nconst int MOD = 1e9 + 7;\n\nint dy[]={0, 0, 1, -1, 0};\nint dx[]={1, -1, 0, 0, 0};\n\n//#define int long long\n\n/*************** using variables ***************/\nint n, m;\nvector<int> c, x;\nLL dp[20005][550];\n/**********************************************/\n\nsigned main(){\n    while(cin >> n >> m, n != 0 || m != 0){\n        c.resize(m);\n        x.resize(n);\n        REP(i, m) cin >> c[i];\n        REP(i, n) cin >> x[i];\n\n        REP(i, 20005) REP(j, 550) dp[i][j] = INF;\n        dp[0][128 + 255] = 0;\n        FOR(i, 1, n+1){\n            for(int j = -255; j <= 255; j++){\n                bool flag = false;\n                if(j == -255){\n                    REP(k, m){\n                        for(int z = -255 - c[k]; z >= -255; z--){\n                            if(dp[i-1][z + 255] != INF){\n                                dp[i][-255 + 255] = min(dp[i][-255 + 255], dp[i-1][z + 255] + (LL)pow(abs(x[i-1] - (-255)), 2));\n                            }\n                        }\n                    }\n                }else if(j == 255){\n                    REP(k, m){\n                        for(int z = 255 - c[k]; z <= 255; z++){\n                            if(dp[i-1][z + 255] != INF){\n                                dp[i][255 + 255] = min(dp[i][255 + 255], dp[i-1][z + 255] + (LL)pow(abs(x[i-1] - (255)), 2));\n                            }\n                        }\n                    }\n                }else{\n                    REP(k, m) flag |= dp[i-1][j-c[k] + 255] != INF;\n                    if(flag){\n                        REP(k, m){\n                            if(j-c[k] >= 0 && j-c[k] <= 255 && dp[i-1][j-c[k] + 255] != INF){\n                                dp[i][j + 255] = min(dp[i][j + 255], dp[i-1][j-c[k] + 255] + (LL)pow(abs(x[i-1] - j), 2));\n                                //cout << i << \" \" << dp[i][j + 255] << \" \" << x[i-1] << \" \" << j-c[k] << endl;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n\n        LL ans = INF;\n        for(int i = -255; i <= 255; i++) ans = min(ans, dp[n][i + 255]);\n        cout << ans << endl;\n    }\n\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n\nusing namespace std;\n\ntypedef long long ll;\n\nconst int MAX_N = 20000;\nconst int MAX_M = 16;\nconst ll INF = 1e18;\nconst int y0 = 128;\nint N, M;\nint C[MAX_M + 1], x[MAX_N + 1];\nll dp[MAX_N + 10][260];\n\nint main()\n{\n    while (cin >> N >> M, N || M) {\n        // Input\n        for (int i = 0; i < M; ++i)\n            cin >> C[i];\n        for (int i = 0; i < N; ++i)\n            cin >> x[i];\n\n        // Init\n        for (int i = 0; i <= N; ++i)\n            fill(dp[i], dp[i] + 259, INF);\n        for (int i = 0; i <= 255; ++i)\n            dp[0][i] = 0;\n\n        // Solve\n        for (int n = 0; n < N; ++n) {\n            for (int y = 0; y <= 255; ++y) {\n                for (int i = 0; i < M; ++i) {\n                    int next_y = y + C[i];\n                    if (next_y < 0)\n                        next_y = 0;\n                    else if (next_y > 255)\n                        next_y = 255;\n\n                    dp[n + 1][next_y] = min(dp[n + 1][next_y],\n                                            dp[n][y] + (x[n] - next_y) * (x[n] - next_y));\n                }\n            }\n        }\n\n        ll ans = INF;\n        for (int i = 0; i <= 255; ++i)\n            ans = min(ans, dp[N][i]);\n\n        cout << ans << endl;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <cmath>\n#include <ctype.h>\n#include <string> \n#include <cstring>\n#include <sstream>\n#include <iostream>\n#include <algorithm>\n#include <cstdlib>\n#include <map>\n#include <queue>\n#include <utility>\n#include <vector>\n#include <set>\n#include <iomanip>\n#include <stack>\n  \nusing namespace std;\n\n#define pi 3.141592653589793\n\nint main()\n{\n\tint n, m;\n\twhile(1){\n\t\tcin >> n >> m;\n\t\tif(n == 0 && m == 0) break;\n\t\tint result[20001][256];\n\t\tfor(int i = 0; i < n + 1; i++){\n\t\t\tfor(int j = 0; j < 256; j++){\n\t\t\t\tresult[i][j] = 10000000;\n\t\t\t}\n\t\t}\n\t\tresult[0][128] = 0;\n\t\tint c[17], x[20001];\n\t\tfor(int i = 1; i < m + 1; i++){\n\t\t\tcin >> c[i];\n\t\t}\n\t\tfor(int i = 1; i < n + 1; i++){\n\t\t\tcin >> x[i];\n\t\t}\n\t\tfor(int i = 1; i < n + 1; i++){\n\t\t\tfor(int j = 0; j < 256; j++){\n\t\t\t\tfor(int k = 1; k < m + 1; k++){\n\t\t\t\t\tint nexty = j + c[k];\n\t\t\t\t\tif(nexty < 0) nexty = 0;\n\t\t\t\t\telse if(nexty > 255) nexty = 255;\n\t\t\t\t\tresult[i][nexty] = min(result[i][nexty], result[i - 1][j] + (x[i] - nexty) * (x[i] - nexty));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = 1000000;\n\t\tfor(int i = 1; i < 256; i++) ans = min(ans, result[n][i]);\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n\nusing namespace std;\ntypedef long long ll;\n\nll c[16], x[20000];\n\nll dp[20001][256];\n\nint main() {\n\twhile (1) {\n\t\tint n, m;\n\t\tcin >> n >> m;\n\t\tif (n + m == 0)break;\n\t\tfor (int i = 0; i < m; i++)cin >> c[i];\n\t\tfor (int i = 0; i < n; i++)cin >> x[i];\n\n\t\tfor (int i = 0; i < 21; i++)for (int j = 0; j < 256; j++)dp[i][j] = 1e18;\n\t\tdp[0][128] = 0;\n\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tfor (int j = 0; j <= 255; j++) {\n\t\t\t\tfor (int k = 0; k < m; k++) {\n\t\t\t\t\tint nxt = 0;\n\t\t\t\t\tnxt = j + c[k];\n\t\t\t\t\tif (j + c[k] < 0)nxt = 0;\n\t\t\t\t\tif (j + c[k] > 255)nxt = 255;\n\t\t\t\t\t\n\t\t\t\t\tdp[i + 1][nxt] = min(dp[i + 1][nxt], dp[i][j] + (x[i] - nxt) * (x[i] - nxt));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tll ans = 1e18;\n\n\t\tfor (int i = 0; i < 256; i++) {\n\t\t\tans = min(ans, dp[n][i]);\n\t\t}\n\t\tcout << ans << endl;\n\n\t}\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "///\n// File:  2199.cpp\n// Author: ymiyamoto\n//\n// Created on Sat Dec  9 23:16:36 2017\n//\n\n#include <cstdint>\n#include <iostream>\n#include <vector>\n\n#define MAX UINT32_MAX\n\nusing namespace std;\n\nint32_t main()\n{\n  while (true) {\n    uint32_t N, M;\n    cin >> N >> M;\n    if (N == 0 && M == 0) break;\n\n    vector<int32_t> C(M);\n    vector<int32_t> x(N + 1);\n\n    for (uint32_t i = 0; i < M; i++) {\n      cin >> C[i];\n    }\n\n    for (uint32_t i = 1; i <= N; i++) {\n      cin >> x[i];\n    }\n\n    vector<vector<uint64_t>> dp(N + 1, vector<uint64_t>(256, MAX));\n    dp[0][128] = 0;\n\n    for (uint32_t i = 0; i < N; i++) {\n      for (int32_t j = 0; j < 256; j++) {\n        if (dp[i][j] == MAX) continue;\n        for (uint32_t k = 0; k < C.size(); k++) {\n          int32_t val = min(max(0, j + C[k]), 255);\n          int32_t diff = (x[i + 1] - val);\n          dp[i + 1][val] = min(dp[i + 1][val], dp[i][j] + diff * diff);\n        }\n      }\n    }\n\n    uint64_t minval = MAX;\n    for (int32_t i = 0; i < 256; i++) {\n      minval = min(minval, dp[N][i]);\n    }\n\n    cout << minval << endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <string>\n#include <cstring>\n#include <cmath>\n#define rep(i, n) for(int i = 0; i < n; i++)\nusing namespace std;\ntypedef long long ll;\n\nll dp[20000][256];\n\nint round_255(int x) {\n    if(x < 0) return 0;\n    else if(x <= 255) return x;\n    else return 255;\n}\n\nint main(void)\n{   \n    while(1) {\n        int n, m;\n        cin >> n >> m;\n        if(n == 0 and m == 0) break;\n        vector<int> x(n), c(m);\n        rep(i, m) cin >> c[i];\n        rep(i, n) cin >> x[i];\n\n        rep(i, n)rep(j, 256) dp[i][j] = 1L<<60;\n\n        rep(i, m) {\n            int y = round_255(128 + c[i]);\n            dp[0][y] = (x[0] - y)*(x[0] - y);\n        }\n    \n        rep(i, n) {\n            if(i == 0) continue;\n            rep(j, 256) {\n                rep(k, m) {\n                    int y = round_255(j + c[k]);\n                    dp[i][y] = min(dp[i][y], dp[i-1][j] + (x[i] - y)*(x[i] - y));\n                }\n            }\n        }\n\n        ll ans = 1L<<60;\n        rep(i, 256) {\n            ans = min(ans, dp[n-1][i]);\n        }\n        cout << ans << endl;\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define LL long long\n#define VI vector<int>\n#define VVI vector<vector<int>>\n#define VVVI vector<vector<vector<int>>>\n#define VL vector<LL>\n#define VVL vector<vector<LL>>\n#define VVVL vector<vector<vector<LL>>>\n#define VB vector<bool>\n#define FOR(i,a,b) for(int i= (a); i<((int)b); ++i)\n#define RFOR(i,a) for(int i=(a); i >= 0; --i)\n#define FOE(i,a) for(auto i : a)\n#define ALL(c) (c).begin(), (c).end()\n#define RALL(c) (c).rbegin(), (c).rend()\n#define DUMP(x)  cerr << #x << \" = \" << (x) << endl;\n#define SUM(x) std::accumulate(ALL(x), 0LL)\n#define MIN(v) *std::min_element(v.begin(), v.end())\n#define MAX(v) *std::max_element(v.begin(), v.end())\n#define EXIST(v,x) (std::find(v.begin(), v.end(), x) != v.end())\n#define BIT(n) (1LL<<(n))\n#define UNIQUE(v) v.erase(unique(v.begin(), v.end()), v.end());\n#define EPS 1e-14\n\ntemplate<class T> T ceil(T a, T b) { return (a + b - 1) / b; }\ntemplate<class T> void print(T x) { std::cout << x << std::endl; }\n\nconst std::string YES = \"YES\", Yes = \"Yes\", NO = \"NO\", No = \"No\";\nconst std::vector<int> dy = { 0, -1, 0, 1 }, dx = { 1, 0, -1, 0 };    // 4近傍（右, 下, 左, 上）\n\nusing namespace std;\n\nint main() {\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n\n    while (true) {\n        int N, M;\n        cin >> N >> M;\n        if (N == 0 and M == 0) { break; }\n\n        vector<int> C(M), X(N + 1);\n        X[0] = 128;\n        FOR(i, 0, M) {\n            cin >> C[i];\n        }\n        FOR(i, 0, N) {\n            cin >> X[i + 1];\n        }\n\n        VVL dp(N + 2, VL(256, LONG_LONG_MAX));\n        dp[0][128] = 0;\n\n        FOR(i, 0, X.size() - 1) {\n            int x = X[i + 1];\n\n            FOR(j, 0, dp[0].size()) {\n                if (dp[i][j] == LONG_LONG_MAX) { continue; }\n                FOE(c, C) {\n                    int v = min(max(0, j + c), 255);\n                    dp[i + 1][v] = min(dp[i + 1][v], dp[i][j] + (x - v) * (x - v));\n                }\n            }\n        }\n        LL ans = LLONG_MAX;\n        FOR(j, 0, dp[0].size()) {\n            ans = min(ans, dp[N][j]);\n        }\n        print(ans);\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define PB push_back\n#define MP make_pair\n#define REP(i,n) for (int i=0;i<(n);i++)\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define ALL(a) (a).begin(),(a).end()\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> P;\nconst int INF=2e9;\ndouble EPS=1e-10;\nint main(){\n      int n,m;\n      while(cin>>n>>m&&(n||m)){\n            int a[n],b[m];\n            ll dp[2][256];\n            REP(i,m)cin>>b[i];\n            REP(i,n)cin>>a[i];\n            memset(dp,-1,sizeof(dp));\n            dp[0][128]=0;\n            REP(i,n){\n                  int l=i&1;\n                  REP(j,256)dp[l^1][j]=-1;\n                  REP(j,256){\n                        if(dp[l][j]==-1)continue;\n                        REP(k,m){\n                              int nxt=j+b[k];\n                              nxt=max(0,min(255,nxt));\n                              if(dp[l^1][nxt]==-1)dp[l^1][nxt]=dp[l][j]+(a[i]-nxt)*(a[i]-nxt);\n                              else dp[l^1][nxt]=min(dp[l^1][nxt],dp[l][j]+(a[i]-nxt)*(a[i]-nxt));\n                        }\n                  }\n            }\n            ll ans=-1;\n            REP(i,256)if(dp[n&1][i]!=-1){\n                  if(ans==-1)ans=dp[n&1][i];\n                  else ans=min(ans,dp[n&1][i]);\n            }\n            cout<<ans<<endl;\n      }\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\n\n#define ASC(vec) vec.begin(), vec.end()\t\t// 昇順ソート 例：sort(ASC(vec));\n#define DESC(vec) vec.rbegin(), vec.rend()\t// 降順ソート 例:sort(DESC(vec));\n#define rep(i, n) for(int i = 0; i < (n); i++)\n#define Rep(i, n) for(int i = 1; i < n; i++)\n\nconst int mod = 1000000007;\nconst int inf = (int)1e9 + 7;\nconst long long INF = 1LL << 60;\n\nusing ii = pair<int, int>;\nusing ll = long long;\nusing vi = vector<int>;\nusing vd = vector<double>;\nusing vb = vector<bool>;\nusing vl = vector<ll>;\nusing vs = vector<string>;\nusing vvi = vector<vector<int>>;\nusing vvl = vector<vector<ll>>;\nusing vvb = vector<vector<bool>>;\nusing vii = vector<pair<int, int>>;\n\ntemplate<class T> inline bool chmin(T& a, T b) { if (a > b) { a = b; return true; } return false; }\ntemplate<class T> inline bool chmax(T& a, T b) { if (a < b) { a = b; return true; } return false; }\n\nll GCD(ll a, ll b) { return b ? GCD(b, a % b) : a; }\nll LCM(ll a, ll b) { return (a * b) / GCD(a, b); }\nint round_int(int a, int b) { return (a + (b - 1)) / b; }\n\n// 素因数分解; 返り値は(素数, 乗数)のvector配列\nvector<pair<ll, int>> factorize(ll n) {\n\tvector<pair<ll, int>> res;\n\tfor (ll i = 2; i * i <= n; ++i) {\n\t\tif (n % i) continue;\n\t\tres.emplace_back(i, 0);\n\t\twhile (n % i == 0) {\n\t\t\tn /= i;\n\t\t\tres.back().second++;\n\t\t}\n\t}\n\tif (n != 1) res.emplace_back(n, 1);\n\treturn res;\n}\n\nconstexpr array<int, 9> dx = { 0, 1, 0, -1, -1, 1, 1, -1, 0 };\nconstexpr array<int, 9> dy = { 1, 0, -1, 0, 1, 1, -1, -1, 0 };\n//constexpr auto MAX = 100000;\n\n// ──────────────────────────────────────────────────────────────────\n\nint dp[20001][256];\n\nint main() {\n\tvi ans;\n\n\twhile (true) {\n\n\t\tint n, m;\n\t\tcin >> n >> m;\n\n\t\tif (!n && !m) break;\n\n\t\tvi c(m), x(n);\n\t\trep(i, m) cin >> c[i];\n\t\trep(i, n) cin >> x[i];\n\n\t\tmemset(dp, inf, sizeof(dp));\n\t\tdp[0][128] = 0;\n\n\t\tRep(i, n + 1) {\n\t\t\trep(j, 256) {\n\t\t\t\trep(k, m) {\n\t\t\t\t\tif (dp[i][j] == inf) continue;\n\n\t\t\t\t\tint a = j + c[k];\n\n\t\t\t\t\tif (a < 0) a = 0;\n\t\t\t\t\telse if (a > 255) a = 255;\n\n\t\t\t\t\tint b = (x[i - 1] - a) * (x[i - 1] - a);\n\n\t\t\t\t\tchmin(dp[i][a], dp[i - 1][j] + b);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tans.push_back(*min_element(dp[n], dp[n] + 256));\n\t}\n\trep(i, ans.size()) cout << ans[i] << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint dp[20005][300];\n\nint solve(int N, int M) {\n    vector<int> C(M);\n    for (int i = 0; i < M; i++) {\n        cin >> C[i];\n    }\n    vector<int> X(N);\n    for (int i = 0; i < N; i++) {\n        cin >> X[i];\n    }\n    \n    const int INF = 100000000;\n    for (int i = 0; i < 20005; i++) {\n        for (int j = 0; j < 300; j++) {\n            dp[i][j] = INF;\n        }\n    }\n    \n    dp[0][128] = 0;\n    for (int i = 0; i < N; i++) {\n        for (int j = 0; j < 300; j++) {\n            if (dp[i][j] == INF) continue;\n            for (int k = 0; k < M; k++) {\n                int nj = j + C[k];\n                nj = min(255, nj);\n                nj = max(0, nj);\n                dp[i+1][nj] = min((X[i] - nj)*(X[i] - nj) + dp[i][j], dp[i+1][nj]);\n            }\n        }\n    }\n    \n    int ret = INF;\n    for (int i = 0; i < 256; i++) {\n        ret = min(ret, dp[N][i]);\n    }\n    return ret;\n}\n\nint main(void){\n    // Your code here!\n    int N, M;\n    vector<int> ans;\n    while (1) {\n        cin >> N >> M;\n        if (!N && !M) break;\n        ans.push_back(solve(N, M));\n    }\n    for (auto &i : ans) {\n        cout << i << endl;\n    }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <iomanip>\n#include <vector>\n#include <map>\n#include <set>\n#include <queue>\n#include <bitset>\n#include <stack>\n#include <utility>\n#include <numeric>\n#include <algorithm>\n#include <functional>\n#include <cctype>\n#include <complex>\n#include <string>\n#include <sstream>\n\nusing namespace std;\n\n#define all(c) c.begin(),c.end()\n#define rall(c) c.rbegin(),c.rend()\n#define mp(a,b) make_pair((a),(b))\n#define eq ==\n\ntypedef long long ll;\ntypedef complex<double> point;\ntypedef pair<int,int> pii;\n\n// →↑←↓\nconst int dx[] = {1,0,-1,0};\nconst int dy[] = {0,-1,0,1};\n\n\nconst double EPS = 1e-9;\n\n\nconst int INF = 1 << 29;\nint main(){\n    while(true){\n        int N,M;\n        cin >> N >> M;\n        if(N == 0 and M == 0) break;\n\n        vector<int> C(M);\n        for(int i=0;i<M;i++) cin >> C[i];\n\n        vector<int> DP(256,INF);\n        DP[128] = 0;\n        for(int ind_n=0;ind_n<N;ind_n++){\n            vector<int> NEX(256,INF);\n            int x;\n            cin >> x;\n            for(int j=0;j<=255;j++){\n                for(int i=0;i<M;i++){\n                    if(DP[j] != INF){\n                        int now = j + C[i];\n                        if(now < 0) now = 0;\n                        else if(now > 255) now = 255;\n                        NEX[now] = min(NEX[now],DP[j]+(now-x)*(now-x));\n                    }\n                }\n            }\n            DP = NEX;\n        }\n\n        int mix = INF;\n        for(int i=0;i<=255;i++){\n            mix = min(DP[i],mix);\n        }\n        cout << mix << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nusing i64 = int64_t;\n\n#define rep(i, x, y) for (i64 i = i64(x), i##_max_for_repmacro = i64(y); i < i##_max_for_repmacro; ++i)\n#define debug(x) #x << \"=\" << (x)\n\n#ifdef DEBUG\n#define _GLIBCXX_DEBUG\n#define print(x) std::cerr << debug(x) << \" (L:\" << __LINE__ << \")\" << std::endl\n#else\n#define print(x)\n#endif\n\ntemplate <i64 p>\nclass fp {\n    public:\n    i64 x;\n    fp() : x(0) {}\n    fp(i64 x_) : x((x_ % p + p) % p) {}\n    fp operator+() const { return fp(x); }\n    fp operator-() const { return fp(-x); }\n    fp& operator+=(const fp& y) {\n        x += y.x;\n        if (x >= p) x -= p;\n        return *this;\n    }\n    fp& operator-=(const fp& y) { return *this += -y; }\n    fp& operator*=(const fp& y) {\n        x = x * y.x % p;\n        return *this;\n    }\n    fp& operator/=(const fp& y) { return *this *= fp(inverse(y.x)); }\n    fp operator+(const fp& y) const { return fp(x) += y; }\n    fp operator-(const fp& y) const { return fp(x) -= y; }\n    fp operator*(const fp& y) const { return fp(x) *= y; }\n    fp operator/(const fp& y) const { return fp(x) /= y; }\n    bool operator==(const fp& y) const { return x == y.x; }\n    bool operator!=(const fp& y) const { return !(*this == y); }\n    i64 extgcd(i64 a, i64 b, i64& x, i64& y) {\n        i64 d = a;\n        if (b != 0) {\n            d = extgcd(b, a % b, y, x);\n            y -= (a / b) * x;\n        } else {\n            x = 1;\n            y = 0;\n        }\n        return d;\n    }\n    i64 inverse(i64 a) {\n        i64 x, y;\n        extgcd(a, p, x, y);\n        return (x % p + p) % p;\n    }\n};\n\ntemplate <i64 p>\ni64 abs(const fp<p>& x) { return x.x; }\n\ntemplate <i64 p>\nistream& operator>>(istream& is, fp<p>& x) {\n    is >> x.x;\n    return is;\n}\n\ntemplate <i64 p>\nostream& operator<<(ostream& os, const fp<p>& x) {\n    os << x.x;\n    return os;\n}\n\ntemplate <typename T, typename U>\nostream& operator<<(ostream& os, const pair<T, U>& p) {\n    os << \"(\" << p.first << \", \" << p.second << \")\";\n    return os;\n}\n\ntemplate <typename T>\nostream& operator<<(ostream& os, const vector<T>& vec) {\n    os << \"[\";\n    for (const auto& v : vec) {\n        os << v << \",\";\n    }\n    os << \"]\";\n    return os;\n}\n\ntemplate <typename T>\nbool chmin(T& a, const T& b) {\n    if (a > b) {\n        a = b;\n        return true;\n    }\n    return false;\n}\n\ntemplate <typename T>\nbool chmax(T& a, const T& b) {\n    if (a < b) {\n        a = b;\n        return true;\n    }\n    return false;\n}\n\ntemplate <typename A, typename T, size_t size>\nvoid fill(A (&ary)[size], const T& val) {\n    fill((T*)ary, (T*)(ary + size), val);\n}\n\n// x未満の要素の個数を返す\ntemplate <typename T>\ni64 count_less(const vector<T>& v, T x) {\n    return lower_bound(begin(v), end(v), x) - begin(v);\n}\n\n// x以下の要素の個数を返す\ntemplate <typename T>\ni64 count_less_or_equal(const vector<T>& v, T x) {\n    return upper_bound(begin(v), end(v), x) - begin(v);\n}\n\n// xより大きい要素の個数を返す\ntemplate <typename T>\ni64 count_greater(const vector<T>& v, T x) {\n    return end(v) - upper_bound(begin(v), end(v), x);\n}\n\n// x以上の要素の個数を返す\ntemplate <typename T>\ni64 count_greater_or_equal(const vector<T>& v, T x) {\n    return end(v) - lower_bound(begin(v), end(v), x);\n}\n\n// x未満の要素のうち最大のものを返す\ntemplate <typename T>\nT max_less(const vector<T>& v, T x) {\n    return *(lower_bound(begin(v), end(v), x) - 1);\n}\n\n// x以下の要素のうち最大のものを返す\ntemplate <typename T>\nT max_less_or_equal(const vector<T>& v, T x) {\n    return *(upper_bound(begin(v), end(v), x) - 1);\n}\n\n// xより大きい要素のうち最小のものを返す\ntemplate <typename T>\nT min_greater(const vector<T>& v, T x) {\n    return *upper_bound(begin(v), end(v), x);\n}\n\n// x以上の要素のうち最小のものを返す\ntemplate <typename T>\nT min_greater_or_equal(const vector<T>& v, T x) {\n    return *lower_bound(begin(v), end(v), x);\n}\n\nconstexpr int inf = 1.01e9;\nconstexpr i64 inf64 = 4.01e18;\nconstexpr long double eps = 1e-9;\n\n// 実数値のn分探索のループ回数の上限(2分探索なら50でも十分かもしれない)\nconstexpr i64 max_loop = 100;\n\nlong double tolerance(const long double& a, const long double& b, const long double& epsilon = eps) {\n    return epsilon * max({1.l, abs(a), abs(b)});\n}\n\n// a<0なら-1, a==0なら0, a>0なら1\nint sgn(const long double a, const long double& epsilon = eps) {\n    return (a > epsilon) - (a < -epsilon);\n}\n\n// a<bなら-1, a==bなら0, a>bなら1\nint compare(const long double& a, const long double& b, const long double& epsilon = eps, bool is_relative = true) {\n    return sgn(a - b, is_relative ? tolerance(a, b, epsilon) : epsilon);\n}\n\n// a==bか?\nbool is_equal(const long double& a, const long double& b, const long double& epsilon = eps, bool is_relative = true) {\n    return compare(a, b, epsilon, is_relative) == 0;\n}\n\n// a<bか?\nbool is_less(const long double& a, const long double& b, const long double& epsilon = eps, bool is_relative = true) {\n    return compare(a, b, epsilon, is_relative) == -1;\n}\n\n// a<=bか?\nbool is_less_or_equal(const long double& a, const long double& b, const long double& epsilon = eps, bool is_relative = true) {\n    return compare(a, b, epsilon, is_relative) <= 0;\n}\n\n// a>bか?\nbool is_greater(const long double& a, const long double& b, const long double& epsilon = eps, bool is_relative = true) {\n    return compare(a, b, epsilon, is_relative) == 1;\n}\n\n// a>=bか?\nbool is_greater_or_equal(const long double& a, const long double& b, const long double& epsilon = eps, bool is_relative = true) {\n    return compare(a, b, epsilon, is_relative) >= 0;\n}\n\nvoid solve(i64 N,i64 M) {\n    //constexpr i64 mod = 1'000'000'007;\n    vector<i64> C(M);\n    rep(i,0,M) cin >> C[i];\n\n    vector<i64> x(N+1);\n    rep(i,1,N+1) cin >> x[i];\n\n    constexpr i64 maxn=20001,maxm=16,maxy=256;\n    static i64 dp[maxn][maxy];\n    fill(dp,inf64);\n    dp[0][128]=0;\n\n    rep(i,1,N+1){\n        rep(pre,0,maxy){\n            for(i64 c:C){\n                i64 cur=pre+c;\n                if(cur<0) cur=0;\n                if(cur>255) cur=255;\n                chmin(dp[i][cur],dp[i-1][pre]+(x[i]-cur)*(x[i]-cur));\n            }\n        }\n    }\n\n    cout << *min_element(dp[N],dp[N]+maxy) << endl;\n}\n\nint main() {\n    std::cin.tie(0);\n    std::ios::sync_with_stdio(false);\n    cout.setf(ios::fixed);\n    cout.precision(16);\n    while(true){\n        i64 N,M;\n        cin >> N >> M;\n        if(N==0 and M==0) break;\n        solve(N,M);\n    }\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n\n#define rep(i,n) for(int i=0; i<(n); i++)\n\nusing namespace std;\n\nconst int INF = 0x3fffffff;\n\nint C[20], dp[20005][300];\nint main(){\n\tint N, M;\n\twhile(cin >> N >> M, N|M){\n\t\trep(i,M) cin >> C[i];\n\t\tfill( (int*)dp[0], (int*)dp[20005], INF );\n\t\tdp[0][128] = 0;\n\t\trep(i,N){\n\t\t\tint x;\n\t\t\tcin >> x;\n\t\t\trep(j,256) rep(k,M){\n\t\t\t\tint nx = j + C[k];\n\t\t\t\tnx = max( nx, 0 );\n\t\t\t\tnx = min( nx, 255 );\n\t\t\t\tint df = abs( nx - x );\n\t\t\t\tdp[i+1][nx] = min( dp[i+1][nx], dp[i][j] + (df * df) );\n\t\t\t}\n\t\t}\n\t\tint ans = INF;\n\t\trep(i,256){\n\t\t\tans = min( ans, dp[N][i] );\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nconst int INF = 1 << 28;\nint res;\n\nvector<int> c;\nvector<int> x;\n\nvoid dfs (int y, int n, int sum) {\n    if (res < sum) return;\n    if (n == x.size()) {\n        res = min(res, sum);\n        return;\n    }\n\n    for (auto i : c) {\n        int yn = y + i;\n        if (yn > 255) yn = 255;\n        if (yn < 0) yn = 0;\n        dfs(yn, n + 1, sum + ((yn - x[n]) * (yn - x[n])));\n    }\n}\n\nint main ()\n{\n    int n, m;\n    while (cin >> n >> m, n || m) {\n        res = INF;\n\n        c.resize(m);\n        x.resize(n);\n\n        for (auto &i : c) cin >> i;\n        for (auto &i : x) cin >> i;\n\n        dfs(128, 0, 0);\n\n        cout << res << endl;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define INF 0x3f3f3f3f\n#define rep(i,n)for(int i=0;i<(n);i++)\nusing namespace std;\n\nint c[16], x[16];\nint dp[20001][256];\nint d(int a) {\n\tif (a < 0)return 0;\n\tif (a > 255)return 255;\n\treturn a;\n}\nint diff(int i, int a) {\n\treturn (x[i] - a)*(x[i] - a);\n}\nsigned main() {\n\tint n, m;\n\twhile (scanf(\"%d%d\", &n, &m), n) {\n\t\trep(i, m)scanf(\"%d\", &c[i]);\n\t\trep(i, n)scanf(\"%d\", &x[i]);\n\t\tmemset(dp, 0x3f, sizeof(dp));\n\t\tdp[0][128] = 0;\n\t\trep(i, n)rep(j, 256) {\n\t\t\tif (dp[i][j] == INF)continue;\n\t\t\trep(k, m) {\n\t\t\t\tint a = d(j + c[k]);\n\t\t\t\tif (a > 255 || a < 0) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t\tdp[i + 1][a] = min(dp[i + 1][a], dp[i][j] + diff(i, a));\n\t\t\t}\n\t\t}\n\t\tint Min = INF;\n\t\trep(j, 256)Min = min(Min, dp[n][j]);\n\t\tprintf(\"%d\\n\", Min);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <sstream>\n#include <cstdio>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <ctime>\n#include <vector>\n#include <string>\n#include <map>\n#include <set>\n#include <deque>\n#include <queue>\n#include <stack>\n#include <functional>\n#include <algorithm>\n\nusing namespace std;\n\n#define rep(i,j) REP((i), 0, (j))\n#define REP(i,j,k) for(int i=(j);(i)<(k);++i)\n#define BW(a,x,b) ((a)<=(x)&&(x)<=(b))\n#define ALL(v) (v).begin(), (v).end()\n#define LENGTHOF(x) (sizeof(x) / sizeof(*(x)))\n#define AFILL(a, b) fill((int*)a, (int*)(a + LENGTHOF(a)), b)\n#define SQ(x) ((x)*(x))\n#define Mod(x, mod) (((x)+(mod)%(mod))\n#define MP make_pair\n#define PB push_back\n#define Fi first\n#define Se second\n#define INF (1<<29)\n#define EPS 1e-10\n#define MOD 1000000007\n\ntypedef pair<int, int> pi;\ntypedef pair<int, pi> pii;\ntypedef vector<int> vi;\ntypedef queue<int> qi;\ntypedef long long ll;\n\nint N,M,C[16],x[20010];\nint dp[20010][256];\n\nvoid solve(){\n  rep(i,20010) fill(dp[i], dp[i]+256, INF);\n  dp[0][128] = 0;\n\n  rep(i,N){\n    rep(j,256){\n      if(dp[i][j]==INF) continue;\n      rep(k,M){\n\tint next = max(0, min(j+C[k], 255));\n\tdp[i+1][next] = min(dp[i+1][next], dp[i][j] + SQ(x[i]-next));\n      }\n    }\n  }\n  int res = INF;\n  rep(i,256) res = min(res, dp[N][i]);\n  printf(\"%d\\n\", res);\n}\n\nint main(){\n  while(scanf(\"%d%d\", &N,&M) && N||M){\n    rep(i,M) scanf(\"%d\",&C[i]);\n    rep(i,N) scanf(\"%d\",&x[i]);\n    \n    solve();\t\t   \n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n\nusing namespace std;\n\ntypedef long long ll;\n\nconst int MAX_N = 20000;\nconst int MAX_M = 16;\nconst ll INF = 1e12;\nconst int y0 = 128;\nint N, M;\nint C[MAX_M + 1], x[MAX_N + 1];\nll dp[MAX_N + 10][260];\n\nint main()\n{\n    while (cin >> N >> M, N || M) {\n        // Input\n        for (int i = 0; i < M; ++i)\n            cin >> C[i];\n        for (int i = 0; i < N; ++i)\n            cin >> x[i];\n\n        // Init\n        for (int i = 0; i <= N; ++i)\n            fill(dp[i], dp[i] + 259, INF);\n        dp[0][128] = 0;\n\n        // Solve\n        for (int n = 0; n < N; ++n) {\n            for (int y = 0; y <= 255; ++y) {\n                for (int i = 0; i < M; ++i) {\n                    int next_y = y + C[i];\n                    if (next_y < 0)\n                        next_y = 0;\n                    else if (next_y > 255)\n                        next_y = 255;\n\n                    dp[n + 1][next_y] = min(dp[n + 1][next_y],\n                                            dp[n][y] + (x[n] - next_y) * (x[n] - next_y));\n                }\n            }\n        }\n\n        ll ans = INF;\n        for (int i = 0; i <= 255; ++i)\n            ans = min(ans, dp[N][i]);\n\n        cout << ans << endl;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "// 小数点以下の桁数を指定\n// cout << fixed << setprecision(8);\n\n#include <stdio.h>\n#include <cctype>\n#include <limits.h>\n#include <math.h>\n#include <complex>\n#include <bitset>\n#include <vector>\n#include <map>\n#include <set>\n#include <stack>\n#include <queue>\n#include <cstring>\n#include <string>\n#include <sstream>\n#include <algorithm>\n#include <iomanip>\n#include <iostream>\n\n#define VARIABLE(x) cerr << #x << \"=\" << x << endl\n#define BINARY(x) static_cast<bitset<16> >(x)\n#define rep(i,n) for(int i=0;i<(int)(n);i++)\n#define REP(i,m,n) for (int i=m;i<(int)(n);i++)\n#define if_range(x, y, w, h) if (0<=(int)(x) && (int)(x)<(int)(w) && 0<=(int)(y) && (int)(y)<(int)(h))\n#define ALL(a) (a).begin(),(a).end()\nint dx[4]={0, -1, 1, 0}, dy[4]={-1, 0, 0, 1};\nusing namespace std;\ntypedef long long ll;\ntypedef pair<ll, int> P;\ntypedef vector<vector<int> > VVI;\nconst int INF = 1e9;\nconst double EPS = 1e-6;\n\nint round(int y)\n{\n\ty = min(y, 255);\n\ty = max(y, 0);\n\treturn y;\n}\n\nint sq(int x)\n{\n\treturn x*x;\n}\n\nint dp[20001][256];\n\nint main()\n{\n\tint N, M;\n\twhile (cin>>N>>M, N) {\n\t\tvector<int> C(M), x(N);\n\t\trep(i, M) cin>>C[i];\n\t\trep(i, N) cin>>x[i];\n\t\t\n\t\t\n\t\tfill(dp[0], dp[0]+20001*256, INF);\n\t\t\n\t\tfor (int k=0; k<M; k++) {\n\t\t\tint y = round(128 + C[k]);\n\t\t\tdp[0][y] = sq(x[0]-y);\n\t\t}\n\t\t\n\t\tfor (int i=1; i<N; i++) {\n\t\t\tfor (int j=0; j<256; j++) {\n\t\t\t\tif (dp[i-1][j] >= INF) continue;\n\t\t\t\tfor (int k=0; k<M; k++) {\n\t\t\t\t\tint y = round(j+C[k]);\n\t\t\t\t\tdp[i][y] = min(dp[i][y], dp[i-1][j]+sq(x[i]-y));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tint ans=INF;\n\t\tfor (int j=0; j<256; j++) {\n\t\t\tans = min(dp[N-1][j], ans);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n\nusing namespace std;\n\ninline int adj(int x) {\n  return min(max(x, 0), 255);\n}\n#define SQ(x) ((x)*(x))\nint dp[2][256];\nint main() {\n  int N, M, INF=1<<28;\n  while(cin >> N >> M && (N|M)) {\n    int C[M];\n    for(int i=0; i<M; i++) cin >> C[i];\n    fill(dp[0], dp[0]+512, INF);\n    dp[0][128] = 0;\n    for(int k=0; k<N; k++) {\n      for(int i=0; i<256; i++) dp[(k+1)%2][i] = INF;\n      int in; cin >> in;\n      for(int i=0; i<256; i++) {\n        if(dp[k%2][i]>=INF) continue;\n        for(int j=0; j<M; j++) {\n          dp[(k+1)%2][adj(i+C[j])] = min(dp[(k+1)%2][adj(i+C[j])], dp[k%2][i]+SQ(in-adj(i+C[j])));\n        }\n      }\n    }\n    cout << *min_element(dp[N%2], dp[(N%2)+1]) << endl;\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define INF 0x3f3f3f3f\n#define rep(i,n)for(int i=0;i<(n);i++)\nusing namespace std;\n\nint c[16], x[16];\nint dp[20001][256];\nint d(int a) {\n\tif (a < 0)return 0;\n\tif (a > 255)return 255;\n\treturn a;\n}\nint diff(int i, int a) {\n\treturn (x[i] - a)*(x[i] - a);\n}\nint main() {\n\tint n, m;\n\twhile (scanf(\"%d%d\", &n, &m), n) {\n\t\trep(i, m)scanf(\"%d\", &c[i]);\n\t\trep(i, n)scanf(\"%d\", &x[i]);\n\t\tmemset(dp, 0x3f, sizeof(dp));\n\t\tdp[0][128] = 0;\n\t\trep(i, n)rep(j, 256) {\n\t\t\tif (dp[i][j] == INF)continue;\n\t\t\trep(k, m) {\n\t\t\t\tint a = d(j + c[k]);\n\t\t\t\tif (i + 1 >= 20001)return 0;\n\t\t\t\tdp[i + 1][a] = min(dp[i + 1][a], dp[i][j] + diff(i, a));\n\t\t\t}\n\t\t}\n\t\tint Min = INF;\n\t\trep(j, 256)Min = min(Min, dp[n][j]);\n\t\tprintf(\"%d\\n\", Min);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define INF 0x3f3f3f3f\n#define rep(i,n)for(int i=0;i<(n);i++)\nusing namespace std;\n\nint c[16], x[20001];\nint dp[20001][256];\nint main() {\n\tint n, m;\n\twhile (scanf(\"%d%d\", &n, &m), n) {\n\t\trep(i, m)scanf(\"%d\", &c[i]);\n\t\trep(i, n)scanf(\"%d\", &x[i]);\n\t\tmemset(dp, 0x3f, sizeof(dp));\n\t\tdp[0][128] = 0;\n\t\trep(i, n)rep(j, 256) {\n\t\t\tif (dp[i][j] == INF)continue;\n\t\t\trep(k, m) {\n\t\t\t\tint a = min(255, max(0, j + c[k]));\n\t\t\t\tdp[i + 1][a] = min(dp[i + 1][a], dp[i][j] + (x[i] - a)*(x[i] - a));\n\t\t\t}\n\t\t}\n\t\tint Min = INF;\n\t\trep(j, 256)Min = min(Min, dp[n][j]);\n\t\tprintf(\"%d\\n\", Min);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\nusing namespace std;\nint main(){\n  int N, M;\n  while(cin >> N >> M, N){\n    long long int C[M];\n    long long int INF = 10000000000LL;\n    for(int i = 0; i < M; ++i)\n      cin >> C[i];\n    sort(C,C+M);\n    long long int x[N];\n    for(int i = 0; i < N; ++i)\n      cin >> x[i];\n    long long int dp[N][256];\n    for(int i = 0; i < N; ++i){\n      fill(dp[i],dp[i]+256,INF);\n    }\n    for(int i = 0; i < M; ++i){\n      long long int t = max(min(255LL,128LL+C[i]),0LL);\n      dp[0][t] = (x[0]-t)*(x[0]-t);\n    }\n    for(int i = 1; i < N; ++i){\n      for(int j = 0; j < 256; ++j){\n\tif(dp[i-1][j] == INF) continue;\n\tfor(int k = 0; k < M; ++k){\n\t  long long int t = max(min(255LL,(long long int)j+C[k]),0LL);\n\t  dp[i][t] = min(dp[i][t],dp[i-1][j] + (x[i]-t)*(x[i]-t));\n\t  if(j + (int)C[k] > 255) break;\n\t}\n      }\n    }\n    long long int ans = INF;\n    for(int i = 0; i < 256; ++i){\n      ans = min(ans, dp[N-1][i]);\n    }\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\nusing namespace std;\nint main(){\n\tint N,M;\n\tconst int INF=(1<<28);\n\twhile(cin >> N >> M, (N|M)){\n\t\tint c[M];\n\t\tfor(int i=0; i<M; ++i)\tcin >> c[i];\n\t\tvector<vector<int> > dp(N+1, vector<int>(256, INF));\n\t\tdp[0][128]=0;\n\t\tint x;\n\t\tfor(int i=0; i<N; ++i){\n\t\t\tcin >> x;\n\t\t\tfor(int j=0; j<=255; ++j)for(int k=0; k<M; ++k){\n\t\t\t\tint next=max(0,min(255, j+c[k]));\n\t\t\t\tdp[i+1][next]=min(dp[i+1][next], dp[i][j]+((x-next)*(x-next)));\n\t\t\t}\n\t\t}\n\t\tint ans=INF;\n\t\tfor(int i=0; i<=255; ++i)\tans=min(ans, dp[N][i]);\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing ll = long long;\nconst ll INF = 1e9+7;\nll dp[260][20005];\n\nsigned\nmain(){\n\tint N,M;\n\twhile(cin >> N >> M)\n\t{\n\t\tif(N==0) break;\n\t\tfor(int i=0;i<260;i++)\n\t\t\tfor(int j=0;j<20005;j++)\n\t\t\t\tdp[i][j] = INF;\n\t\t\n\t\tvector<int> c(M);\n\t\tfor(int i=0;i<M;i++) cin >> c[i];\n\t\t\n\t\tdp[128][0] = 0;\n\t\tfor(int i=0;i<N;i++)\n\t\t{\n\t\t\tint x;\n\t\t\tcin >> x;\n\t\t\tfor(int k=0;k<256;k++)\n\t\t\t{\n\t\t\t\tif(dp[k][i]==INF) continue;\n\t\t\t\tfor(int j=0;j<M;j++)\n\t\t\t\t{\n\t\t\t\t\tint tmp = k+c[j];\n\t\t\t\t\tif(tmp >= 255) tmp = 255;\n\t\t\t\t\telse if(tmp < 0) tmp = 0;\n\t\t\t\t\tdp[tmp][i+1] = min( dp[tmp][i+1], dp[k][i]+(tmp-x)*(tmp-x) );\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\t\tint ans = INF;\n\t\tfor(int k=0;k<256;k++)\n\t\t\tif(ans > dp[k][N])\n\t\t\t\tans = dp[k][N];\n\n\t\tcout << ans << endl;\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\nusing LL = long long;\nusing P = pair<int, int>;\nusing Tapris = tuple<int, int, int>;\n\n#define REP(i, n) for(LL i = 0; i < n; ++i)\n#define FOR(i, a, n) for(LL i = a; i < n; ++i)\n#define pb(a) push_back(a)\n#define all(x) (x).begin(),(x).end()\n\nconst int INF = (int)1e9;\nconst LL INFL = (LL)1e15;\nconst int MOD = 1e9 + 7;\n\nint dy[]={0, 0, 1, -1, 0};\nint dx[]={1, -1, 0, 0, 0};\n\n//#define int long long\n\n/*************** using variables ***************/\nint n, m;\nvector<int> c, x;\nLL dp[20005][550];\n/**********************************************/\n\nsigned main(){\n    while(cin >> n >> m, n != 0 || m != 0){\n        c.resize(m);\n        x.resize(n);\n        REP(i, m) cin >> c[i];\n        REP(i, n) cin >> x[i];\n\n        REP(i, 20005) REP(j, 550) dp[i][j] = INF;\n        dp[0][128 + 255] = 0;\n        FOR(i, 1, n+1){\n            for(int j = 0; j <= 255; j++){\n                bool flag = false;\n                if(j == 0){\n                    REP(k, m){\n                        for(int z = 0 - c[k]; z >= 0; z--){\n                            if(dp[i-1][z + 255] != INF){\n                                dp[i][0 + 255] = min(dp[i][0 + 255], dp[i-1][z + 255] + (LL)pow(abs(x[i-1] - (0)), 2));\n                            }\n                        }\n                    }\n                }else if(j == 255){\n                    REP(k, m){\n                        for(int z = 255 - c[k]; z <= 255; z++){\n                            if(dp[i-1][z + 255] != INF){\n                                dp[i][255 + 255] = min(dp[i][255 + 255], dp[i-1][z + 255] + (LL)pow(abs(x[i-1] - (255)), 2));\n                            }\n                        }\n                    }\n                }else{\n                    REP(k, m) flag |= dp[i-1][j-c[k] + 255] != INF;\n                    if(flag){\n                        REP(k, m){\n                            if(j-c[k] >= 0 && j-c[k] <= 255 && dp[i-1][j-c[k] + 255] != INF){\n                                dp[i][j + 255] = min(dp[i][j + 255], dp[i-1][j-c[k] + 255] + (LL)pow(abs(x[i-1] - j), 2));\n                                //cout << i << \" \" << dp[i][j + 255] << \" \" << x[i-1] << \" \" << j-c[k] << endl;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n\n        LL ans = INF;\n        for(int i = 0; i <= 255; i++) ans = min(ans, dp[n][i + 255]);\n        cout << ans << endl;\n    }\n\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\n#include<vector>\nusing namespace std;\nvector<int>c,x;\n#define MA 99999999\nint dp[20][20002];\nint main(){\n    int n,m,f,ans;\n    \n    while(cin >>  n >>m&& n){\n        for(int i=0;i<20;i++)\n            for(int j=0;j<20002;j++)\n                dp[i][j]=MA;\n        c.clear();\n        x.clear();\n        ans=MA;\n        for(int i=0;i<m;i++){\n            cin>>f;\n            c.push_back(f);\n            //cout<<\"c[i]: \"<<c[i]<<endl;\n        }\n        for(int i=0;i<n;i++){\n            cin>>f;\n            x.push_back(f);\n            //cout<<\"x[i]:\"<<x[i]<<endl;\n        }\n        dp[0][128]=0;\n        for(int i=0;i<n;i++){\n            for(int j=0;j<256;j++){\n                if(dp[i][j]==MA)\n                    continue;\n                for(int k=0;k<m;k++){\n                    \n                    int nex = j+c[k];\n                    if(nex<0)nex=0;\n                    if(nex>255)nex=255;\n                    dp[i+1][nex]=min(dp[i+1][nex],dp[i][j] +(x[i]-nex)*(x[i]-nex));\n                   // cout<<\"i: \"<<i<<\"     j:\"<<j<<\"      k: \"<<k<<\"      c[k]: \"<<c[k]<<\"      dp[i][j]: \"<<dp[i][j]<<\"         x[i+1]: \"<<x[i+1]<<\"       i+1: \"<<i+1<<\"        nex:\"<<nex<<\"       dp[i+1][nex]:\"<<dp[i+1][nex]<<endl;\n                }\n            }\n        }\n        for(int j=0;j<256;j++)ans=min(ans,dp[n][j]);\n        cout<<ans<<endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#pragma GCC optimize (\"O3\")\n#pragma GCC target (\"avx\")\n#include \"bits/stdc++.h\"\n\nusing namespace std;\nusing ll = long long int;\n\n#define debug(v) {printf(\"L%d %s > \",__LINE__,#v);cout<<(v)<<endl;}\n#define debugv(v) {printf(\"L%d %s > \",__LINE__,#v);for(auto e:(v)){cout<<e<<\" \";}cout<<endl;}\n#define debuga(m,w) {printf(\"L%d %s > \",__LINE__,#m);for(int x=0;x<(w);x++){cout<<(m)[x]<<\" \";}cout<<endl;}\n#define debugaa(m,h,w) {printf(\"L%d %s >\\n\",__LINE__,#m);for(int y=0;y<(h);y++){for(int x=0;x<(w);x++){cout<<(m)[y][x]<<\" \";}cout<<endl;}}\n#define ALL(v) (v).begin(),(v).end()\n#define repeat(cnt,l) for(remove_const<decltype(l)>::type cnt=0;(cnt)<(l);++(cnt))\n#define rrepeat(cnt,l) for(auto cnt=(l)-1;0<=(cnt);--(cnt))\n#define iterate(cnt,b,e) for(auto cnt=(b);(cnt)!=(e);++(cnt))\n#define diterate(cnt,b,e) for(auto cnt=(b);(cnt)!=(e);--(cnt))\nconst ll MD = 1000000007ll; const long double PI = 3.1415926535897932384626433832795L;\ntemplate<typename T1, typename T2> inline void assert_equal(T1 expected, T2 actual) { if (!(expected == actual)) { cerr << \"assertion fault: expected=\" << expected << \" actual=\" << actual << endl; abort(); } }\ntemplate<typename T1, typename T2> inline void assert_less(T1 actual, T2 threshold) { if (!(actual < threshold)) { cerr << \"assertion fault: \" << actual << \" < (const)\" << threshold << endl; abort(); } }\ntemplate<typename T1, typename T2> inline void assert_eqless(T1 actual, T2 threshold) { if (!(actual <= threshold)) { cerr << \"assertion fault: \" << actual << \" <= (const)\" << threshold << endl; abort(); } }\ntemplate<typename T1, typename T2> inline ostream& operator <<(ostream &o, const pair<T1, T2> p) { o << '(' << p.first << ':' << p.second << ')'; return o; }\ntemplate<typename Vec> inline ostream& _ostream_vecprint(ostream &o, const Vec& p) { o << '['; for (auto& e : p) o << e << ','; o << ']'; return o; }\ntemplate<typename T> inline ostream& operator<<(ostream& o, const vector<T>& v) { return _ostream_vecprint(o, v); }\ntemplate<typename T, size_t S> inline ostream& operator<<(ostream& o, const array<T, S>& v) { return _ostream_vecprint(o, v); }\ntemplate<typename T> inline T& maxset(T& to, const T& val) { return to = max(to, val); }\ntemplate<typename T> inline T& minset(T& to, const T& val) { return to = min(to, val); }\nvoid bye(string s, int code = 0) { cout << s << endl; exit(code); }\nmt19937_64 randdev(8901016);\ntemplate<typename T> inline T rand(T l, T h) { return uniform_int_distribution<T>(l, h)(randdev); }\ntemplate<> inline double rand<double>(double l, double h) { return uniform_real_distribution<double>(l, h)(randdev); }\ntemplate<> inline float rand<float>(float l, float h) { return uniform_real_distribution<float>(l, h)(randdev); }\n\n#if defined(_WIN32) || defined(_WIN64)\n#define getchar_unlocked _getchar_nolock\n#define putchar_unlocked _putchar_nolock\n#elif defined(__GNUC__)\n#else\n#define getchar_unlocked getchar\n#define putchar_unlocked putchar\n#endif\nnamespace {\n#define isvisiblechar(c) (0x21<=(c)&&(c)<=0x7E)\n    class MaiScanner {\n    public:\n        template<typename T> void input_integer(T& var) {\n            var = 0; T sign = 1;\n            int cc = getchar_unlocked();\n            for (; cc<'0' || '9'<cc; cc = getchar_unlocked())\n                if (cc == '-') sign = -1;\n            for (; '0' <= cc && cc <= '9'; cc = getchar_unlocked())\n                var = (var << 3) + (var << 1) + cc - '0';\n            var = var * sign;\n        }\n        inline int c() { return getchar_unlocked(); }\n        inline MaiScanner& operator>>(int& var) { input_integer<int>(var); return *this; }\n        inline MaiScanner& operator>>(long long& var) { input_integer<long long>(var); return *this; }\n        inline MaiScanner& operator>>(string& var) {\n            int cc = getchar_unlocked();\n            for (; !isvisiblechar(cc); cc = getchar_unlocked());\n            for (; isvisiblechar(cc); cc = getchar_unlocked())\n                var.push_back(cc);\n            return *this;\n        }\n        template<typename IT> void in(IT begin, IT end) { for (auto it = begin; it != end; ++it) *this >> *it; }\n    };\n    class MaiPrinter {\n    public:\n        template<typename T>\n        void output_integer(T var) {\n            if (var == 0) { putchar_unlocked('0'); return; }\n            if (var < 0)\n                putchar_unlocked('-'),\n                var = -var;\n            char stack[32]; int stack_p = 0;\n            while (var)\n                stack[stack_p++] = '0' + (var % 10),\n                var /= 10;\n            while (stack_p)\n                putchar_unlocked(stack[--stack_p]);\n        }\n        inline MaiPrinter& operator<<(char c) { putchar_unlocked(c); return *this; }\n        inline MaiPrinter& operator<<(int var) { output_integer<int>(var); return *this; }\n        inline MaiPrinter& operator<<(long long var) { output_integer<long long>(var); return *this; }\n        inline MaiPrinter& operator<<(char* str_p) { while (*str_p) putchar_unlocked(*(str_p++)); return *this; }\n        inline MaiPrinter& operator<<(const string& str) {\n            const char* p = str.c_str();\n            const char* l = p + str.size();\n            while (p < l) putchar_unlocked(*p++);\n            return *this;\n        }\n        template<typename IT> void join(IT begin, IT end, char sep = '\\n') { for (auto it = begin; it != end; ++it) *this << *it << sep; }\n    };\n}\nMaiScanner scanner;\nMaiPrinter printer;\n\n\nll inp[20010], code[20];\n\ninline ll limit(ll x, ll low, ll high) { return x < low ? low : x > high ? high : x; }\n\nvoid solve(int N, int M) {\n\n    scanner.in(code, code + M);\n    scanner.in(inp, inp + N);\n\n    vector<pair<ll, ll>> curr(M, make_pair(0, 128ll)), next(M);\n\n    repeat(i, N) {\n        fill(ALL(next), pair<ll, ll>(1e18, 0));\n        repeat(j, M) {\n            repeat(k, M) {\n                ll t = limit(curr[j].second + code[k], 0, 255);\n                minset(next[k], make_pair(curr[j].first + (t - inp[i])*(t - inp[i]), t));\n            }\n        }\n        curr.swap(next);\n    }\n    ll best = 1e18;\n    for (auto p : curr)\n        minset(best, p.first);\n\n    printer << best << '\\n';\n}\n\n\n\nint main() {\n    int n, m;\n    while (scanner >> n >> m, n > 0 && m > 0)\n        solve(n, m);\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define INF 0x3f3f3f3f\n#define rep(i,n)for(int i=0;i<(n);i++)\nusing namespace std;\n\nint c[16], x[20001];\nint dp[20001][256];\nint main() {\n\tint n, m;\n\twhile (scanf(\"%d%d\", &n, &m), n) {\n\t\trep(i, m)scanf(\"%d\", &c[i]);\n\t\trep(i, n)scanf(\"%d\", &x[i]);\n\t\tmemset(dp, 0x3f, sizeof(dp));\n\t\tdp[0][128] = 0;\n\t\trep(i, n)rep(j, 256) {\n\t\t\tif (dp[i][j] == INF)continue;\n\t\t\trep(k, m) {\n\t\t\t\tint a = min(255, max(0, j + c[k]));\n\t\t\t\tdp[i + 1][a] = min(dp[i + 1][a], dp[i][j] + (x[i] - a)*(x[i] - a));\n\t\t\t}\n\t\t}\n\t\tint Min = INF;\n\t\trep(j, 256)Min = min(Min, dp[n][j]);\n\t\tprintf(\"%d\\n\", Min);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std; // 575\nconst int INF = 1073741823; // 10^30-1、使わない辺とかに用いる\n\nint square(int N) { // 2乗を返すだけ\n\treturn N * N;\n}\n\nint main() {\n\tint N, M;\n\twhile (true) {\n\t\tcin >> N >> M;\n\t\tif (N == 0) break;\n\t\tint dp[20001][256]; // dp[i][j]は第i番目まで見てy[i]=jになってる時の最小誤差\n\t\tfor (int i = 0;i < 20001;++ i) for (int j = 0;j < 256;++ j) dp[i][j] = INF;\n\t\tdp[0][128] = 0;\n\t\tint C[16], x[20000];\n\t\tfor (int i = 0;i < M;++ i) cin >> C[i];\n\t\tfor (int i = 0;i < N;++ i) cin >> x[i];\n\t\t\n\t\tfor (int i = 0;i < N;++ i) {\n\t\t\tfor (int j = 0;j < 256;++ j) {\n\t\t\t\tfor (int k = 0;k < M;++ k) {\n\t\t\t\t\tint next = max(0, min(255, j + C[k])); // 次にC[k]を選んだ時の遷移先\n\t\t\t\t\tdp[i + 1][next] = min(dp[i + 1][next], dp[i][j] + square(x[i] - next));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = dp[N][0]; // 最悪ケース: 誤差255が全部=1300500500、intに入る\n\t\tfor (int j = 1;j < 256;++ j) ans = min(ans, dp[N][j]);\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n\nusing namespace std;\n\nlong long int ans;\n\nvoid function(int y,int index,int *c,int *x,int n,int m,int now){\n\n\t//cout<<y<<\" \"<<index<<\" \"<<n<<\" \"<<m<<\" \"<<now<<endl;\n\n\tif(now>=ans){\n\t\treturn;\n\t}\n\tif(index>=n){\n\t\tif(ans>=now){\n\t\t\tans = now;\n\t\t}\n\t\treturn;\n\t}\n\tfor(int i=0;i<m;i++){\n\t\tint nextY = y+c[i];\n\t\tif(nextY>=255)nextY=255;\n\t\telse if(nextY<=0)nextY=0;\n\t\tfunction(nextY,index+1,c,x,n,m,now+(nextY-x[index])*(nextY-x[index]));\n\t}\n}\n\nint min(int a,int b){\n\tif(a>=b)return b;\n\telse return a;\n}\n\nint main(){\n\n\tint n,m;\n\tlong long int dp[20][256];\n\tint next;\n\n\twhile(cin>>n>>m){\n\t\tans = 1000000000000000;\n\t\tif(n==0 && m==0){\n\t\t\tbreak;\n\t\t}\n\t\tint *c;\n\t\tint *x;\n\t\tc = new int[m];\n\t\tx = new int[n];\n\n\t\tfor(int i=0;i<m;i++){\n\t\t\tcin>>c[i];\n\t\t}\n\t\tfor(int i=0;i<n;i++){\n\t\t\tcin>>x[i];\n\t\t}\n\t\tfor(int i=0;i<n;i++){\n\t\t\tfor(int j=0;j<256;j++){\n\t\t\t\tdp[i][j]=10000000000;\n\t\t\t}\n\t\t}\n\n\t\tfor(int i=0;i<m;i++){\n\t\t\tnext = 128+c[i];\n\t\t\tif(next>=255)next=255;\n\t\t\tif(next<=0)next = 0;\n\t\t\tdp[0][next] = (x[0]-next)*(x[0]-next);\n\t\t}\n\t\t/*\n\t\tfor(int i=0;i<256;i++){\n\t\t\tcout<<dp[0][i]<<\" \";\n\t\t}\n\t\tcout<<endl;\n\t\t*/\n\t\tfor(int i=1;i<n;i++){\n\t\t\tfor(int j=0;j<256;j++){\n\t\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\t\tnext = j+c[k];\n\t\t\t\t\tif(next>=255)next=255;\n\t\t\t\t\tif(next<=0)next = 0;\n\t\t\t\t\t//dp[next] = min(dp[next],dp[j]+(x[i]-next)*(x[i]-next));\n\t\t\t\t\tdp[i][next] = min(dp[i][next],dp[i-1][j]+(x[i]-next)*(x[i]-next));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor(int i=0;i<256;i++){\n\t\t\tans = min(ans,dp[n-1][i]);\n\t\t}\n\n\n\t\tcout<<ans<<endl;\n\n\t}\n\n\treturn 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <cmath>\n#include <cstdio>\n#include <functional>\n#include <numeric>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <utility>\n#include <sstream>\n#include <complex>\n\nusing namespace std;\n\n#define FOR(i,a,b) for(long long i=(a);i<(b);i++)\n#define REP(i,N) for(long long i=0;i<(N);i++)\n#define ALL(s) (s).begin(),(s).end()\n#define fi first\n#define se second\n\n#define PI acos(-1.0)\n#define INF 1000000007\n#define EPS 1e-10\n\ntypedef long long ll;\ntypedef pair<ll, ll> P;\ntypedef pair<double, double> PD;\ntypedef pair<string, ll> PS;\ntypedef vector<ll> V;\ntypedef pair<P, char> PC;\n\nll n, m;\nll c[100], x[20010];\nll dp[20][30000];\n\nint main(){\n\twhile (cin >> n >> m&&n + m){\n\t\tREP(i, 20)REP(j, 300)dp[i][j] = INF;\n\t\tREP(i, m)cin >> c[i];\n\t\tREP(i, n)cin >> x[i];\n\t\tdp[0][128] = 0;\n\t\tREP(i, n){\n\t\t\tREP(j, m){\n\t\t\t\tREP(k, 256){\n\t\t\t\t\tint num = k + c[j];\n\t\t\t\t\tif (num < 0)num = 0;\n\t\t\t\t\tif (num > 255)num = 255;\n\t\t\t\t\tdp[i + 1][num] = min(dp[i][k] + (x[i] - (num))*(x[i] - (num)), dp[i + 1][num]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tll ans = INF;\n\t\t//REP(i, n + 1){\n\t\t//\tcout << i << endl;\n\t\t//\tFOR(j, 120, 140){\n\t\t//\t\tcout << dp[i][j] << \" \";\n\t\t//\t}\n\t\t//\tcout << endl;\n\t\t//}\n\t\tREP(i, 300){\n\t\t\tans = min(ans, dp[n][i]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define fi first\n#define se second\n#define repl(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define repr(i,n) for(int i=(int)(n-1);i>=0;i--)\n#define rep(i,n) repl(i,0,n)\n#define each(itr,v) for(auto itr:v)\n#define pb(s) push_back(s)\n#define all(x) (x).begin(),(x).end()\n#define dbg(x) cout << #x\" = \" << x << endl\n#define print(x) cout << x << endl\n#define maxch(x,y) x=max(x,y)\n#define minch(x,y) x=min(x,y)\n#define uni(x) x.erase(unique(all(x)),x.end())\n#define exist(x,y) (find(all(x),y)!=x.end())\n#define bcnt(x) bitset<32>(x).count()\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int, int> P;\ntypedef pair<P, int> PPI;\ntypedef pair<int, P> PIP;\ntypedef pair<ll, ll> PL;\ntypedef pair<P, ll> PPL;\ntypedef set<int> S;\n\n#define INF INT_MAX/3\n#define MAX_N 1000000001\n\n\nint main(){\n  cin.sync_with_stdio(false);\n  int n, m;\n  while(cin >> n >> m, n | m) {\n    vector<int> c(m), x(n);\n    rep(i, m) cin >> c[i];\n    rep(i, n) cin >> x[i];\n\n    ll dp[n + 1][256];\n    rep(i, n + 1)rep(j, 256) dp[i][j] = INF;\n    dp[0][128] = 0;\n    rep(i, n) {\n      rep(j, 256) {\n        if (dp[i][j] < INF) {\n          rep(k, m) {\n            int tmp = j + c[k];\n            if (tmp > 255) tmp = 255;\n            else if (tmp < 0) tmp = 0;\n            minch(dp[i + 1][tmp], dp[i][j] + (x[i] - tmp) * (x[i] - tmp));\n          }\n        }\n      }\n    }\n\n    ll ans = INF;\n    rep(i, 256) minch(ans, dp[n][i]);\n\n    cout << ans << endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n\nint a[20001][256];\n\nint main(void){\n\nint i,j,k;\nint n,m,dummy;\nint min = 2000000000;\nint c[17];\nint x[20001];\n\n\n\nwhile(1){\nscanf(\"%d %d\",&n,&m);\nif(n == 0 && m == 0){\nreturn 0;\n}\n\nfor(i = 0; i < m; i++){\nscanf(\"%d\",&c[i]);\n}\nfor(i = 0; i < n; i++){\nscanf(\"%d\",&x[i]);\n}\n\nfor(i = 0; i < n + 1; i++){\nfor(j = 0; j < 255; j++){\na[i][j] = -1;\n}\n}\n\na[0][128] = 0;\n\nfor(i = 0; i < n; i++){\nfor(j = 0; j < 255; j++){\nif(a[i][j] != -1){\nfor(k = 0; k < m; k++){\ndummy = j + c[k];\nif(dummy < 0){\ndummy = 0;\n}else if(dummy > 255){\ndummy = 255;\n}\nif(a[i+1][dummy] = a[i][j] + (dummy - x[i])*(dummy - x[i])){\na[i+1][dummy] = a[i][j] + (dummy - x[i])*(dummy - x[i]);\n}\n}\n}\n}\n}\n\nfor(j = 0; j < 255; j++){\nif(a[n\n][j] > -1){\nif(min > a[n][j]){\nmin = a[n][j];\n}\n}\n}\n\nprintf(\"%d\\n\",min);\n\n}\nreturn 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n// region template\n#define rep(i, a, b) for (int i = (a); i < (b); ++i)\n#define trav(a, x) for (auto &a : x)\n#define all(x) begin(x), end(x)\n#define sz(x) (int)(x).size()\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int, int> pii;\ntypedef vector<int> vi;\n\nll gcd(ll a, ll b) { return __gcd(a, b); }\n\nll euclid(ll a, ll b, ll &x, ll &y) {\n    if (b) { ll d = euclid(b, a % b, y, x);\n        return y -= a/b * x, d; }\n    return x = 1, y = 0, a;\n}\n\ntypedef unsigned long long ull;\ntypedef long double ld;\null mod_mul(ull a, ull b, ull M) {\n    ll ret = a * b - M * ull(ld(a) * ld(b) / ld(M));\n    return ret + M * (ret < 0) - M * (ret >= (ll)M);\n}\null mod_pow(ull b, ull e, ull mod) {\n    ull ans = 1;\n    for (; e; b = mod_mul(b, b, mod), e /= 2)\n        if (e & 1) ans = mod_mul(ans, b, mod);\n    return ans;\n}\n\nconst ll mod = 1000000007;\nstruct Mod {\n    ll x;\n    Mod(ll xx) : x(xx) {}\n    Mod operator+(Mod b) { return Mod((x + b.x) % mod); }\n    Mod operator-(Mod b) { return Mod((x - b.x) % mod); }\n    Mod operator*(Mod b) { return Mod((x * b.x) % mod); }\n    Mod operator/(Mod b) { return *this * invert(b); }\n    Mod invert(Mod a) {\n        ll x, y, g = euclid(a.x, mod, x, y);\n        assert(g == 1); return Mod((x + mod) % mod);\n    }\n    Mod operator^(ll e) {\n        if (!e) return Mod(1);\n        Mod r = *this ^ (e / 2); r = r * r;\n        return e & 1 ? *this * r : r;\n    }\n};\n// endregion\n\nll dp[20005][256];\n\nll sqr(ll x) { return x * x; }\n\nint main() {\n    rep(i, 0, 256) dp[0][i] = 0x3f3f3f3f3f3f3f3fll;\n    dp[0][128] = 0;\n    for (;;) {\n        int n, m; cin >> n >> m; if (!n) break;\n        // reset dp matrix\n        rep(i, 1, n + 1) rep(j, 0, 256) dp[i][j] = 0x3f3f3f3f3f3f3f3fll;\n        vector<int> sig(n + 1);\n        vector<int> diff(m);\n        rep(i, 0, m) cin >> diff[i];\n        rep(i, 1, n + 1) cin >> sig[i];\n        rep(i, 1, n + 1) {\n            rep(j, 0, m) {\n                rep(k, 0, 256) {\n                    int nv = k + diff[j];\n                    if (nv < 0) nv = 0;\n                    if (nv > 255) nv = 255;\n                    dp[i][nv] = min(dp[i][nv], dp[i - 1][k] + sqr(nv - sig[i]));\n                }\n            }\n        }\n        ll ans = 0x3f3f3f3f3f3f3f3fll;\n        rep(i, 0, 256) ans = min(ans, dp[n][i]);\n        cout << ans << endl;\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<vector>\n#include<cstdio>\n#include<sstream>\n#include<algorithm>\n#include<cmath>\n#include<map>\n#include<functional>\n#include<queue>\n#include<stack>\n#include<set>\nusing namespace std;\n #define ll long long\nint ta[20],c[25000];\nll dp[20000][256];\nconst int INF=180000000000;\nint main(){\n\tint n,m;\n\twhile(cin>>n>>m,n+m){\n\tfor(int i=0;i<m;i++)cin>>ta[i];\n\tfor(int j=0;j<n;j++)cin>>c[j];\n\t\n\tfor(int i=0;i<20000;i++)fill(dp[i],dp[i]+256,INF);\n\tdp[0][128]=0;\n\tfor(int i=0;i<n;i++){\n\t\tfor(int j=0;j<256;j++){\n\t\t\tif(dp[i][j]!=INF){\n\t\t\t\tint tmp=j;\n\t\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\t\tif(j+ta[k]<0)tmp=0;\n\t\t\t\t\telse if(j+ta[k]>255)tmp=255;\n\t\t\t\t\telse tmp=j+ta[k];\n\t\t\t\t\tdp[i+1][tmp]=min( dp[i+1][tmp] ,dp[i][j]+ (c[i]-tmp)*(c[i]-tmp));\n\t\t\t\t}\n\t\t\t}//endif\n\t\t}\n\t}\n\t/*for(int i=0;i<=n;i++){\n\t\tfor(int j=120;j<=140;j++){\n\t\tcout<<dp[i][j]<<\" \";\n\t\t}\n\t\tcout<<\"\\n\";\n\t}*/\n\tll ans=INF;\n\tfor(int i=0;i<256;i++)ans=min(ans,dp[n][i]);\n\tcout<<ans<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n#define rep(i, n) for ( int i = 0; i < n; i++ )\n#define NMAX 20001\n#define MMAX 16\n#define INFTY (1<<30)\nint N, M, C[MMAX], X[NMAX];\nlong long T[256][NMAX];\n\nlong long compute(){\n    rep(i, 256) rep(j, N+1) T[i][j] = INFTY;\n    T[128][0] = 0;\n    rep(j, N){\n\trep(i,256){\n\t    if ( T[i][j] == INFTY ) continue;\n\t    rep(k, M){\n\t\tint p = i + C[k];\n\t\tif ( p > 255 ) p = 255;\n\t\tif ( p < 0 ) p = 0;\n\t\tT[p][j+1] = min(T[p][j+1], T[i][j] + (X[j+1]-p)*(X[j+1]-p));\n\t    }\n\t}\n    }\n    long long minv = INFTY;\n    rep(i, 256) minv = min(minv, T[i][N]);\n    return minv;\n}\n\nmain(){\n    while(cin >> N >> M && N ){\n\trep(i, M) cin >> C[i];\n\trep(i, N) cin >> X[i+1];\n\tcout << compute() << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\nusing ll=long long;\n#define print(n) cout<<n<<endl\n#define rep(i,a,n) for(int i=a;i<n;i++)\n#define ALL(s) s.begin(),s.end()\n#define P pair<ll,ll>\n#define vl vector<ll>\n#define vi vector<int>\n#define vvl vector<vector<ll>>\n#define vvi vector<vector<int>>\nconst int M=100111;\nconst int inf=1000000007;\nconst long long INF=1e18;\nint dx[4]={-1,0,1,0},dy[4]={0,-1,0,1};\nint ddx[8]={1,-1,0,0,1,-1,-1,1},ddy[8]={0,0,1,-1,1,-1,1,-1};\n\nint main(){\n\twhile(1){\n\t\tint n,m,c[20],x;\n\t\tcin>>n>>m;\n\t\tif(n==0&&m==0)break;\n\t\trep(i,0,m)cin>>c[i];\n\t\tll dp[20020][256];//dp[i][j]: n=iの時にyi=jを選んだ最小値.\n\t\trep(i,0,20020)rep(j,0,256)dp[i][j]=INF;\n\t\tdp[0][128]=0;\n\t\trep(i,0,n){\n\t\t\tcin>>x;\n\t\t\trep(j,0,256){\n\t\t\t\trep(k,0,m){\n\t\t\t\t\tint y=min(255,max(0,j+c[k]));\n\t\t\t\t\tdp[i+1][y]=min(dp[i+1][y],dp[i][j]+(y-x)*(y-x));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tll ans=INF;\n\t\trep(i,0,256)ans=min(ans,dp[n][i]);\n\t\tprint(ans);\n\t}\n\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<math.h>\n#include<algorithm>\nusing namespace std ;\n#define INF 1300500100\n\nint table[520][20010] ;\n\nmain()\n{\n\tint n , m ;\n\tint c[20] , p[20010] ;\n\t\n\twhile( cin >> n >> m , n  )\n\t{\n\t\tfor( int i=0 ; i<m ; i++ ) cin >> c[i] ;\n\t\tfor( int i=1 ; i<=n ; i++ ) cin >> p[i] ;\n\t\t\n\t\tfor( int i=0 ; i<520 ; i++ )\n\t\t\tfor( int j=0 ; j<20010 ; j++ )\n\t\t\t\ttable[i][j] = INF ;\n\t\t\n\t\ttable[255+128][0] = 0 ;\n\t\t\n\t\tfor( int i=1 ; i<=n ; i++ )\n\t\t{\n\t\t\tfor( int j=0 ; j<=510 ; j++ )\n\t\t\t{\n\t\t\t\tif( table[j][i-1] != INF )\n\t\t\t\t{\n\t\t\t\t\tfor( int k=0 ; k<m ; k++ ){\n\t\t\t\t\t\tint y = j-255+c[k] ;\n\t\t\t\t\t\tif( y > 255 ) y = 255 ;\n\t\t\t\t\t\telse if( y < 0 ) y = 0 ;\n\t\t\t\t\t\t\n\t\t\t\t\t\ttable[y+255][i] = min( table[y+255][i] , table[j][i-1]+(p[i]-y)*(p[i]-y) ) ;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tint ans = INF ;\n\t\tfor( int i=0 ; i<=510 ; i++ ) ans = min( ans , table[i][n] ) ;\n\t\tcout << ans << endl ;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\nint dp[256][20001];\nmain()\n{\n\tint n,m;\n\twhile(cin>>n>>m,n)\n\t{\n\t\tint c[16];\n\t\tfor(int i=0;i<m;i++)cin>>c[i];\n\t\tfor(int i=0;i<256;i++)for(int j=0;j<=n;j++)dp[i][j]=1<<28;\n\t\tdp[128][0]=0;\n\t\tfor(int i=1;i<=n;i++)\n\t\t{\n\t\t\tint a;cin>>a;\n\t\t\tfor(int j=0;j<256;j++)\n\t\t\t{\n\t\t\t\tfor(int k=0;k<m;k++)\n\t\t\t\t{\n\t\t\t\t\tint u=j+c[k];\n\t\t\t\t\tif(u<0)u=0;\n\t\t\t\t\tif(u>=256)u=255;\n\t\t\t\t\tdp[u][i]=min(dp[u][i],(a-u)*(a-u)+dp[j][i-1]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint mindp=1<<28;\n\t\tfor(int i=0;i<256;i++)mindp=min(mindp,dp[i][n]);\n\t\tcout<<mindp<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n\nusing namespace std;\ntypedef long long ll;\n\nll c[16], x[20000];\n\nll dp[20001][256];\n\nint main() {\n\twhile (1) {\n\t\tint n, m;\n\t\tcin >> n >> m;\n\t\tif (n + m == 0)break;\n\t\tfor (int i = 0; i < m; i++)cin >> c[i];\n\t\tfor (int i = 0; i < n; i++)cin >> x[i];\n\n\t\tfor (int i = 0; i < 21; i++)for (int j = 0; j < 256; j++)dp[i][j] = 1e18;\n\t\tdp[0][128] = 0;\n\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tfor (int j = 0; j <= 255; j++) {\n\t\t\t\tfor (int k = 0; k < m; k++) {\n\t\t\t\t\tint nxt = 0;\n\t\t\t\t\tif (j + c[k] < 0)nxt = 0;\n\t\t\t\t\tif (j + c[k] > 255)nxt = 255;\n\t\t\t\t\tnxt = j + c[k];\n\t\t\t\t\tdp[i + 1][nxt] = min(dp[i + 1][nxt], dp[i][j] + (x[i] - nxt) * (x[i] - nxt));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tll ans = 1e18;\n\n\t\tfor (int i = 0; i < 256; i++) {\n\t\t\tans = min(ans, dp[n][i]);\n\t\t}\n\t\tcout << ans << endl;\n\n\t}\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdlib>\n#include <cstdio>\n#include <vector>\n#include <algorithm>\n#include <set>\n#include <cstring>\n#include <cmath>\n\n\n#define rep(i, n) for (int i = 0; i < (int)(n); i++)\n#define REP(i, k, n) for (int i = (int)(k); i < (int)(n); i++)\n#define rrep(i, n) for (int i = (int)(n)-1; i >= 0; i--)\n#define rREP(i, k, n) for (int i = (int)(n)-1; i >= k; i--)\n\n#define debug(x) cerr<<#x<<\": \"<<x<<endl;\n\n#define fi first\n#define se second\n\n#define vi vector<int>\n#define pb push_back\n#define mp make_pair\n\n#define pcnt __builtin_popcount\n\ntypedef long long ll;\nconst ll inf = 900900900100100100;\nconst int MOD = (int)1e9 + 7;\nconst double EPS = 1e-9;\nconst int MID=255;\nusing namespace std;\n\nint main(){\n    cin.tie(0);\n    ios_base::sync_with_stdio(false);\n    int n,m;\n    while(cin >> n >> m,n){\n        vector<int> c(m);\n        rep(i,m) cin >> c[i];\n        vector<int> x(n+1);\n        rep(i,n) cin >> x[i+1];\n        x[0] = 128;\n        vector<vector<ll> > dp(20100,vector<ll> (MID*3,inf));\n        REP(j,-MID,MID+1) dp[0][j+MID] = 0;\n        rep(i,n+1){\n            REP(j,-MID,MID+1){\n                rep(k,m){\n                    int nj;\n                    if(j+c[k]>255) nj=255;\n                    else if(j+c[k]<-255) nj=-255;\n                    else nj = j+c[k];\n                    dp[i+1][nj+MID]=min<ll>(dp[i+1][nj+MID],dp[i][j+MID]+(nj-x[i])*(nj-x[i]));\n                }\n            }\n        }\n        ll ans = inf;\n        REP(i,-MID,MID+1) ans = min<ll>(dp[n+1][i+MID],ans);\n        cout << ans << endl;\n    }\n\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define int long long \n#define REP(i, s, e) for(int i = (int)(s); i < (int)(e); ++i)\n#define rep(i, n) REP(i, 0, n)\nusing ll = int;\nconst int INF = 1e9;\nll SQ(ll x) {return x*x;}\n\nsigned main() {\n  int n, m;\n  while(cin >> n >> m) {\n    if(n == 0 && m == 0) break;\n    vector<int> c(m), x(n);\n    rep(i, m) cin >> c[i];\n    rep(i, n) cin >> x[i];\n    vector<int> cur(256, INF);\n    cur[128] = 0;\n    rep(i, n) {\n      vector<int> nxt(256, INF);\n      rep(j, m) {\n\trep(k, 256) {\n\t  int tmp = k + c[j];\n\t  if(tmp < 0) tmp = 0;\n\t  if(tmp > 255) tmp = 255;\n\t  nxt[tmp] = min((ll)nxt[tmp], cur[k]+SQ(x[i] - tmp));\n\t}\n      }\n      swap(cur, nxt);\n    }\n    int ans = INF;\n    for(auto& x : cur) ans = min(ans, x);\n    cout << ans << endl;\n  }\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <cmath>\n\nusing namespace std;\n\nusing ll = long long;\n\n#define REP(i,n) for(ll i=0;i<(ll)(n);i++)\n#define REPD(i,n) for(ll i=n-1;i>=0;i--)\n#define FOR(i,a,b) for(ll i=a;i<=(ll)(b);i++)\n#define FORD(i,a,b) for(ll i=a;i>=(ll)(b);i--)\n\n#define input(...) __VA_ARGS__; in(__VA_ARGS__)\n\ntemplate<class T>\nvoid print(vector<T> a) {\n  cout << \"[ \";\n  REP(i, a.size()) cout << a[i] << \" \";\n  cout << \"]\" << endl;\n}\n\nvoid print() {\n  std::cout << std::endl;\n}\n\ntemplate <class Head, class... Tail>\nvoid print(Head&& head, Tail&&... tail) {\n  std::cout << head << \" \";\n  print(std::forward<Tail>(tail)...);\n}\n\nvoid in() { }\n\ntemplate <class Head, class... Tail>\nvoid in(Head&& head, Tail&&... tail) {\n  cin >> head;\n  in(std::forward<Tail>(tail)...);\n}\n\nll n, m;\nvector<ll> c;\nvector<ll> x;\nvector<vector<ll>> table;\n\nll clip(ll x, ll minv, ll maxv) {\n  return min(max(x, minv), maxv);\n}\n\nll dfs(ll i, ll y=128) {\n  if (table[i][y] != -1) return table[i][y];\n\n  if (i == n) return table[i][y] = 0;\n\n  ll minv = 1ll << 60;\n  for (auto v: c) {\n    ll value = clip(y + v, 0, 255);\n    ll diff = value - x[i];\n    minv = min(minv, dfs(i + 1, value) + diff * diff);\n  }\n  return table[i][y] = minv;\n}\n\nbool solve() {\n  cin >> n >> m;\n  if (n == 0 && m == 0) return false;\n\n  c = vector<ll>(m);\n  x = vector<ll>(n);\n  REP(i, m) cin >> c[i];\n  REP(i, n) cin >> x[i];\n  table = vector<vector<ll>>(n + 1, vector<ll>(256, -1));\n\n  cout << dfs(0) << endl;\n  return true;\n}\n\nint main() {\n  while(solve());\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define _ ios_base::sync_with_stdio(0);cin.tie(0);\n#define REP(i,n) for(int i=0;i<(int)(n);i++)\n\nusing namespace std;\ntypedef long long int ll;\n\nconst int MAX_C=16;\nconst int MAX_Y=256;\nconst int MAX_N=20000;\nconst ll INF=(ll)MAX_Y*MAX_Y*MAX_N;\nll c[MAX_C];\nll x[MAX_N];\nll dp[MAX_Y][MAX_N+1];\nint n,m;\n\nll sq(ll a){return a*a;}\nvoid solve(){\n  REP(i,MAX_Y) dp[i][n]=0;\n  for(int j=n-1;j>=0;j--){\n    REP(i,MAX_Y){\n      dp[i][j]=INF;\n      REP(k,m){\n\tint yn1 = i+c[k]; yn1=min(max(yn1,0),MAX_Y-1);\n\tdp[i][j]=min(dp[i][j],dp[yn1][j+1]+sq(i-x[j]));\n      }\n    }\n  }\n  ll result=INF;\n  REP(k,m){\n    int yn1=128+c[k]; yn1=min(max(yn1,0),MAX_Y-1);\n    result=min(result,dp[yn1][0]);\n  }\n  cout<<result<<endl;\n}\n\n\nint main(){ _;\n  while(cin>>n>>m,(n|m)!=0){\n    REP(i,m) cin>>c[i];\n    REP(i,n) cin>>x[i];\n    solve();\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <set>\n#include <vector>\n#include <algorithm>\nusing namespace std;\ntypedef long long int lli;\nconst lli INF = 1 << 30;\nconst int MAX_N = 21000;\nconst int MAX_M = 20;\nlli table[MAX_N+1][256];\nint x[MAX_N];\nint book[MAX_M];\nvoid db_print(int line[]){\n  for(int i = 100; i < 200; ++i){\n    cout << i << \"[\" << line[i] << \"]\" << endl;\n  }\n  cout << endl;\n}\nint main(){\n  int N, M;\n  while(true){\n    cin >> N >> M;\n    if((N|M) == 0){\n      break;\n    }\n    for(int i = 0; i < M; ++i){\n      cin >> book[i];\n    }\n    for(int i = 0; i < N; ++i){\n      cin >> x[i];\n    }\n    for(int i = 0; i < N+1; ++i){\n      for(int j = 0; j < 256; ++j){\n\ttable[i][j] = INF;\n      }\n    }\n    //fill_n((int *) table, (N+1) * 256, INF);\n    table[0][128] = 0;\n    for(int i = 0; i < N; ++i){\n      //db_print(table[i]);\n      for(int j = 0; j < 256; ++j){\n\tfor(int b = 0; b < M; ++b){\t  \n\t  int d = book[b];\n\t  if(0 <= j+d && j+d <= 255){\n\t    int t = (x[i] - (j+d)) * (x[i] - (j+d));\n\t    table[i+1][j+d] = min(table[i+1][j+d], table[i][j]+t);\n\t  }\n\t  if(j+d < 0){\n\t    int t = (x[i] - 0) * (x[i] - 0);\n\t    table[i+1][0] = min(table[i+1][0], table[i][j]+t);\n\t  }\n\t  if(j+d > 255){\n\t    int t = (x[i] - 255) * (x[i] - 255);\n\t    table[i+1][255] = min(table[i+1][255], table[i][j]+t);\n\t  }\n\t}\n      }\n    }\n    //db_print(table[N]);\n    lli ans = INF;\n    for(int i = 0; i < 256; ++i){\n      ans = min(ans, table[N][i]);\n    }\n    cout << ans << endl;\n  }    \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <utility>\n#include <vector>\n#include <list>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <string>\n#include <sstream>\n#include <cstring>\n#include <cstdlib>\n\nusing namespace std;\n\n#define ALL(c) c.begin(),c.end()\n#define RALL(c) c.rbegin(),c.rend()\n#define SORT(x) sort((x).begin(),(x).end())\n#define REP(i,x,y) for(int i=(x);i<(y);++i)\n#define MP(a,b) make_pair((a),(b))\n#define F_ first\n#define S_ second\n#define debug(x) #x << \"=\" << (x)\n \n#ifdef DEBUG\n#define _GLIBCXX_DEBUG\n#define dump(x) std::cerr << debug(x) << \" (L:\" << __LINE__ << \")\" << std::endl\n#else\n#define dump(x)\n#endif\n\ntypedef long long int lli;\ntypedef pair<int,int> pii;\n\nconst int INF=1<<30;\nconst long long int INF_=1LL<<58;\nconst double EPS=1e-9;\nconst int dx[]={1,0,-1,0},dy[]={0,1,0,-1};\n\ntemplate <typename T> ostream &operator<<(ostream &os, const vector<T> &vec){\n\tos << \"[\";\n\tfor (const auto &v : vec) {\n\t\tos << v << \",\";\n\t}\n\tos << \"]\";\n\treturn os;\n}\n\nint main(){\n\tstd::ios::sync_with_stdio(false);\n\tstd::cin.tie(0);\n\tint N,M;\n\twhile(true){\n\t\tcin >> N >> M;\n\t\tif(!N&&!M) break;\n\t\tvector<lli> C(M),x(N+1);\n\t\tREP(i,0,M) cin >> C[i];\n\t\tREP(i,1,N+1) cin >> x[i];\n\t\tvector<vector<lli>> dp(N+1,vector<lli>(256,INF_));\n\t\tdp[0][128]=0;\n\t\tlli ans=INF_;\n\t\tREP(i,0,N+1){\n\t\t\tREP(j,0,256){\n\t\t\t\tif(i!=N){\n\t\t\t\t\tREP(k,0,M){\n\t\t\t\t\t\tlli v=j+C[k];\n\t\t\t\t\t\tif(v<0) v=0;\n\t\t\t\t\t\tif(v>=256) v=255;\n\t\t\t\t\t\tdp[i+1][v]=min(dp[i+1][v],dp[i][j]+(v-x[i+1])*(v-x[i+1]));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(i==N) ans=min(ans,dp[i][j]);\n\t\t\t}\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\ntypedef long long LL;\n#define SORT(c) sort((c).begin(),(c).end())\n\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n)  FOR(i,0,n)\n\nusing namespace std;\nLL dp[256][2];\nint d(int v){\n  return v*v;\n}\nint ran(int v){\n  if(v<0) return 0;\n  return min(255,v);\n}\nint main(void)\n{\n  for(;;){\n    int n,m;\n    cin >> n >> m;\n    if(!n&&!m) return 0;\n    vector<int> alt;\n    alt.resize(m);\n    REP(i,m) cin >> alt[i];\n    REP(i,256) dp[i][0]=2147483647;\n    dp[128][0]=0;\n    REP(i,n){\n      int x;\n      cin >> x;\n      REP(j,256) dp[j][(i+1)%2]=2147483647;\n      REP(j,256){\n\tREP(k,m) dp[ran(j+alt[k])][(i+1)%2]=min(dp[ran(j+alt[k])][(i+1)%2],dp[j][i]+d(ran(j+alt[k])-x));\n      }\n      //REP(j,256) if(dp[j][(i+1)%2]<100000) cout << j << ' ' << i << ' ' << dp[j][(i+1)%2] << endl;\n    }\n    LL answer=2147483647;\n    //REP(i,256) cout << dp[i][n%2] << endl;;\n    REP(i,256) answer=min(answer,dp[i][n%2]);\n    cout << answer << endl;\n    \n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <algorithm>\n#include <cmath>\n#include <vector>\n#include <list>\n#include <set>\n#include <map>\n#include <queue>\n#include <stack>\n#include <cctype>\n#include <climits>\n#include <string>\n#include <bitset>\nusing namespace std;\ntypedef long double ld;\ntypedef long long int ll;\ntypedef unsigned long long int ull;\ntypedef vector<int> vi;\ntypedef vector<char> vc;\ntypedef vector<string> vs;\ntypedef vector<ll> vll;\ntypedef vector<pair<int,int> > vpii;\ntypedef vector<vector<int> > vvi;\ntypedef vector<vector<char> > vvc;\ntypedef vector<vector<string> > vvs;\ntypedef vector<vector<ll> > vvll;\n#define rep(i,n) for(int i = 0; i < (n); ++i)\n#define rrep(i,n) for(int i = 1; i <= (n); ++i)\n#define drep(i,n) for(int i = (n)-1; i >= 0; --i)\n#define fin(ans) cout<<(ans)<<endl\n#define STI(s) atoi(s.c_str())\n#define mp(p,q) make_pair(p,q)\n#define pb(n) push_back(n)\n#define Sort(a) sort(a.begin(),a.end())\n#define Rort(a) sort(a.rbegin(),a.rend())\ntemplate<class T> inline bool chmax(T& a,T b){if(a<b){a=b;return 1;}return 0;}\ntemplate<class T> inline bool chmin(T& a,T b){if(a>b){a=b;return 1;}return 0;}\nconst int P = 1000000007;\nconst int INF = INT_MAX;\nconst long long LLINF = 1LL<<60;\n//g++ -std=c++1z temp.cpp\n//./a.out\n\n\nint main(void){ios::sync_with_stdio(false);cin.tie(0);\n//////////////////////////////////////////////////////\n\tint m,n;\n    \n    while(1){\n        cin>>n>>m;\n        if(n==0||m==0)break;\n        vvll dp(n+1,vll (256,INF));\n        dp[0][128]=0;\n\n        vi c(m),x(n);\n        rep(i,m)cin>>c[i];\n        rep(i,n)cin>>x[i];\n\n        for(int i=1;i<=n;i++){\n            int nowx=x[i-1];\n            for(int from=0;from<256;from++){\n                for(int j=0;j<m;j++){\n                    int p=from+c[j];\n                    p=max(p,0);\n                    p=min(p,255);\n                    int cost=(nowx-p)*(nowx-p);\n                    dp[i][p]=min(dp[i][p],dp[i-1][from]+cost);\n                }\n            }\n        }\n        sort(dp[n].begin(),dp[n].end());\n        cout<<dp[n][0]<<endl;\n    }\n\n/////////////////////////////////////////////////////\nreturn 0;}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <utility>\n#include <cstring>\n#include <cmath>\n#include <queue>\nusing namespace std;\n\n#define rep(i,n) for(int i=0; i<n; i++)\n#define FOR(i,s,n) for(int i=s; i<n; i++)\n#define ALL(x) x.begin(), x.end()\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> pii;\ntypedef vector<int> vi;\n\nstruct node {\n\tint cost;\n\tint ind;\n\tint val;\n\tnode(int c, int i, int v) {\n\t\tcost = c;\n\t\tind = i;\n\t\tval = v;\n\t}\n};\n\nbool operator<(const node& lhs, const node& rhs) {\n\tif( lhs.cost == rhs.cost ) {\n\t\treturn lhs.ind < rhs.ind;\n\t}\n\treturn lhs.cost > rhs.cost;\n}\n\nint main() {\n\tint n, m;\n\twhile(cin >> n >> m, n || m) {\n\t\tvector<int> c(m), x(n);\n\t\trep(i,m) cin >> c[i];\n\t\trep(i,n) cin >> x[i];\n\t\tpriority_queue<node> que;\n\t\tque.push(node(0, 0, 128));\n\t\twhile(!que.empty()) {\n\t\t\tnode nd = que.top();\n\t\t\tque.pop();\n\t\t\tif( nd.ind == n ) {\n\t\t\t\tcout << nd.cost << endl;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\trep(i, m) {\n\t\t\t\tint nval = min(max(nd.val+c[i], 0), 255);\n\t\t\t\tque.push(node(nd.cost+(x[nd.ind]-nval)*(x[nd.ind]-nval), nd.ind+1, nval));\n\t\t\t}\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> pii;\n#define rep(i,n) for(ll i=0;i<(ll)(n);i++)\n#define all(a)  (a).begin(),(a).end()\n#define pb push_back\n#define INF 1LL<<50\n\n\nint main(){\n    int n,m;\n    while(cin>>n>>m){\n        if(n==0&&m==0)break;\n        vector<int> c,x;\n        rep(i,m){\n            int a;\n            cin>>a;\n            c.pb(a);\n        }\n        rep(i,n){\n            int a;\n            cin>>a;\n            x.pb(a);\n        }\n        \n        \n        static ll dp[20100][260];\n        rep(i,30000)rep(j,300)dp[i][j]=INF;\n        dp[0][128]=0;\n        \n        for(int i=0;i<n;i++){\n            rep(j,256){\n                rep(k,m){\n                    int val = j+c[k];\n                    if(val>255)val=255;\n                    if(val<0)val=0;\n                    int pow2 = (x[i]-val)*(x[i]-val);\n                    dp[i+1][val] = min(dp[i+1][val] , dp[i][j]+pow2);\n//                    if(j-c[k]>=0 && j-c[k]<=255)dp[i][j] = min(dp[i][j],dp[i-1][j-c[k]]+pow2);\n                }\n            }\n        }\n        ll mini=INF;\n        rep(i,256){\n            mini = min(mini,dp[n][i]);\n        }\n        cout<<mini<<endl;\n        \n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <climits>\n#include <vector>\n#include <string>\n#include <queue>\n#include <deque>\n#include <list>\n#include <stack>\n#include <set>\n#include <map>\n#include <algorithm>\n\n#define int long long\n#define MOD7 1000000007\n#define MOD9 1000000009\n\n#define rep(i, n) for (int i = 0; i < (n); i++)\n#define REP(i, a, n) for (int i = (a); i <= (n); i++)\n#define all(a) (a).begin(), (a).end()\n\nusing namespace std;\n\nint dx[4] = { 1, 0, -1, 0 };\nint dy[4] = { 0, -1, 0, 1 };\n\nint nextInt() {int a; cin >> a; return a;}\nchar nextChar() {char a; cin >> a; return a;}\ndouble nextDouble() {double a; cin >> a; return a;}\nstring nextString() {string a; cin >> a; return a;}\n\nvoid inputVector(vector<int> &v, int &n) {rep(i,n){v.push_back(nextInt());}}\nvoid inputVector(vector<double> &v, int &n) {rep(i,n){v.push_back(nextDouble());}}\nvoid inputVector(vector<string> &v, int &n) {rep(i,n){v.push_back(nextString());}}\n\nstruct Info {\n    int val;\n    int sum;\n    Info() {}\n    Info(int v, int s) {\n\tval = v;\n\tsum = s;\n    }\n    bool operator< (const Info &a) const {\n\treturn sum < a.sum;\n    }\n};\n\nsigned main() {\n    int N, M;\n    while (cin >> N >> M) {\n\tif (N == 0) break;\n\n\tvector<int> C, x;\n\tinputVector(C, M);\n\tinputVector(x, N);\n\n\tvector<Info> v, w;\n\tv.push_back(Info(128, 0));\n\trep(i, N) {\n\t    w.clear();\n\t    rep(j, v.size()) {\n\t\trep(k, M) {\n\t\t    Info info = v[j];\n\t\t    info.val += C[k];\n\t\t    if (info.val > 255) info.val = 255;\n\t\t    else if (info.val < 0) info.val = 0;\n\t\t    info.sum += (x[i] - info.val) * (x[i] - info.val);\n\t\t    w.push_back(info);\n\t\t}\n\t    }\n\t    sort(all(w));\n\t    if (w.size() > 300) w.resize(300);\n\t    swap(v, w);\n\t}\n\tcout << v[0].sum << endl;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#ifdef ENABLE_DEBUG_OUTPUT\n#define DEBUG_LOG(s) cout << s << endl;\n#else\n#define DEBUG_LOG(s) void();\n#endif\n\nint main(){\n    while(true) {\n        int n, m;\n        cin >> n >> m;\n\n        if(n == 0 and m == 0) break;\n\n        vector<int> c(m), x(n);\n        for (auto i = 0; i < m; i++) cin >> c[i];\n        for (auto i = 0; i < n; i++) cin >> x[i];\n\n        vector<vector<int64_t>> dp(n + 1, vector<int64_t>(256, INT64_MAX));\n        dp[0][128] = 0;\n        for (auto i = 0; i < n; i++) {\n            for (auto j = 0; j < 256; j++) {\n                for (auto k = 0; k < m; k++) {\n                    if(dp[i][j] == INT64_MAX) continue;\n                    auto y = max(min(j + c[k], 255), 0);\n                    auto sum = (y - x[i]) * (y - x[i]);\n                    dp[i + 1][y] = min(dp[i + 1][y], sum + dp[i][j]);\n                }\n            }\n        }\n\n//        for (auto i = 0; i <= n; i++) {\n//            cout << i << \" \";\n//            for (auto j = 0; j < 256; j++) {\n//                if(dp[i][j] != INT64_MAX) cout << j << \" \" << dp[i][j] << \" \";\n//            }\n//            cout << endl;\n//        }\n\n        int64_t ans = INT64_MAX;\n        for (auto i = 0; i < 256; i++) ans = min(ans, dp[n][i]);\n\n        cout << ans << endl;\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\n#define rep(i,x,y) for(int (i)=(x);i<(y);(i)++)\n#define INF 10000000\n\nint main()\n{\n  while(true){\n    int N,M;\n    cin>>N>>M;\n    if(N==0&&M==0){\n      break;\n    }\n\n    vector<int> C,x;\n    int temp;\n    rep(i,0,M){\n      cin>>temp;\n      C.push_back(temp);\n    }\n    rep(i,0,N){\n      cin>>temp;\n      x.push_back(temp);\n    }\n\n    vector<vector<int>> dp(N+1,vector<int>(256,INF));\n    dp[0][128]=0;\n    rep(i,0,N){\n      rep(j,0,256){\n        if(dp[i][j]==INF){\n          continue;\n        }\n        rep(k,0,M){\n          int yn=j+C[k];\n          yn=min(255,yn);\n          yn=max(0,yn);\n          int sum=(x[i]-yn)*(x[i]-yn);\n          dp[i+1][yn]=min(dp[i+1][yn],dp[i][j]+sum);\n        }\n      }\n    }\n\n    int ans=dp[N][0];\n    rep(i,0,256){\n      ans=min(ans,dp[N][i]);\n    }\n    cout<<ans<<endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\n#include <functional>\n#include <vector>\n#include <utility>\n#include <cstring>\n#include <iomanip>\n#include <numeric>\n#include <cmath>\n#include <cassert>\n#include <complex>\n#define repi(i, x, n) for(int i = x; i < n; i++)\n#define rep(i, n) repi(i, 0, n)\n#define endl \"\\n\"\n#define ing long long\nusing namespace std;\nconst int INF = 1<<30;\nconst int MOD = (int)1e9 + 7;\nconst int MAX_N = (int)1e5 + 5;\n#define debug(x) cout << #x << \": \" << x << endl\n\n#define MAX 255\nsigned main(void)\n{\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n\n    while(true){\n        int N, M;\n        vector<int> C, x;\n        vector<vector<int>> dp;\n        int ans = INF;\n        \n        cin>>N>>M;\n\n        if(!N && !M) break;\n\n        C.resize(M);\n        x.resize(N);\n        \n        dp.resize(N+3, vector<int>(MAX+10, INF));\n        \n        for(int i = 0; i < M; i++){\n            cin>>C[i];\n        }\n\n        for(int i = 0; i < N; i++){\n            cin>>x[i];\n        }\n\n        dp[0][128] = 0;\n        \n        for(int i = 0; i < N; i++){\n            for(int j = 0; j <= MAX; j++){\n                if(dp[i][j] >= INF) continue;\n                for(int k = 0; k < M; k++){\n                    int num = j + C[k];\n\n                    \n                    if(num >= 0 && num <= MAX){\n                        dp[i+1][num] = min(dp[i][j] + (num-x[i])*(num-x[i]),dp[i+1][num]);\n                    } else if(num < 0){\n                        num = 0;\n                        dp[i+1][num] = min(dp[i][j] + (num-x[i])*(num-x[i]),dp[i+1][num]);\n                    } else {\n                        num = MAX;\n                        dp[i+1][num] = min(dp[i][j] + (num-x[i])*(num-x[i]),dp[i+1][num]);\n                    }\n                }\n            }\n        }\n        for(int i = 0; i <= MAX; i++){\n            ans = min(ans, dp[N][i]);\n        }\n\n        cout<<ans<<endl;\n    }\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <cstring>\n\nusing namespace std;\n\n#define loop(i,a,b) for(int i=(a);i<int(b);i++)\n#define rep(i,b) loop(i,0,b)\n\nint C[20];\n\n// i番目の値をjにする時の誤差のmin\nint dp[20001][256];\n\ninline int round(int x){\n    int res = x;\n    res = min(res, 255);\n    res = max(res, 0);\n    return res;\n}\n\nint main(){\n    int n, m;\n    int const inf = 1 << 28;\n    while (cin >> n >> m && n | m){\n        rep(i, m)cin >> C[i];\n        rep(i, 20001)rep(j, 256)dp[i][j] = inf;\n        dp[0][128] = 0;\n        rep(i, n){\n            int x; cin >> x;\n            rep(j, 256){\n                rep(k, m){\n                    int next = round(j + C[k]);\n                    int diff = x - next;\n                    dp[i + 1][next] = min(dp[i + 1][next], dp[i][j] + diff*diff);\n                }\n            }\n        }\n        int res = inf;\n        rep(i, 256){\n            res = min(res, dp[n][i]);\n        }\n        cout << res << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n#define rep(i, n) for ( int i = 0; i < n; i++ )\n#define NMAX 20001\n#define MMAX 16\n#define INFTY (1<<30)\nint N, M, C[MMAX], X[NMAX];\nunsigned long long T[256][NMAX];\n\nunsigned long long compute(){\n    rep(i, 256) rep(j, N+1) T[i][j] = INFTY;\n    T[128][0] = 0;\n    rep(j, N){\n\trep(i,256){\n\t    if ( T[i][j] == INFTY ) continue;\n\t    rep(k, M){\n\t\tint p = i + C[k];\n\t\tif ( p > 255 ) p = 255;\n\t\tif ( p < 0 ) p = 0;\n\t\tT[p][j+1] = min(T[p][j+1], T[i][j] + (X[j+1]-p)*(X[j+1]-p));\n\t    }\n\t}\n    }\n    unsigned long long minv = INFTY;\n    rep(i, 256) minv = min(minv, T[i][N]);\n    return minv;\n}\n\nmain(){\n    while(cin >> N >> M && N ){\n\trep(i, M) cin >> C[i];\n\trep(i, N) cin >> X[i+1];\n\tcout << compute() << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "/* monkukui 競技プログラミング用のテンプレート  (ここから) */\n#include <iostream>\n#include <cstdio>\n#include <string>\n#include <cstring>\n#include <deque>\n#include <list>\n#include <queue>\n#include <stack>\n#include <vector>\n#include <utility>\n#include <algorithm>\n#include <map>\n#include <set>\n#include <complex>\n#include <cmath>\n#include <limits>\n#include <climits>\n#include <ctime>\n#include <cassert>\n#include <numeric>\n#include <functional>\n#include <bitset>\n\nusing namespace std;\nusing lint = long long int;\nusing ll = long long int;\nusing lnt = long long int;\nusing Graph = vector<vector<int>>;\nusing Wgraph = vector<vector<pair<int, long long int>>>;\nconstexpr long long int INF = 1001001001001001LL;\nconstexpr long long int MOD = 1000000007LL;\nconstexpr double PI = 3.1415926535897932;\nconstexpr long long int di[] = {-1, 0, 1, 0, -1, 1, 1, -1};\nconstexpr long long int dj[] = {0, 1, 0, -1, 1, 1, -1, -1};\n\ntemplate<typename T1,typename T2> inline void chmin(T1 &a,T2 b){if(a>b) a=b;}\ntemplate<typename T1,typename T2> inline void chmax(T1 &a,T2 b){if(a<b) a=b;}\ninline void yes(){ cout << \"yes\" << endl; }\ninline void Yes(){ cout << \"Yes\" << endl; }\ninline void YES(){ cout << \"YES\" << endl; }\ninline void no(){ cout << \"no\" << endl; }\ninline void No(){ cout << \"No\" << endl; }\ninline void NO(){ cout << \"NO\" << endl; }\ninline void possible(){ cout << \"possible\" << endl; }\ninline void Possible(){ cout << \"Possible\" << endl; }\ninline void POSSIBLE(){ cout << \"POSSIBLE\" << endl; }\ninline void impossible(){ cout << \"impossible\" << endl; }\ninline void Impossible(){ cout << \"Impossible\" << endl; }\ninline void IMPOSSIBLE(){ cout << \"IMPOSSIBLE\" << endl; }\n\n#define REP(i,n) for(int i = 0; i < (n); i++)\n#define RREP(i,n) for(int i = 1; i <= (n); i++)\n#define DREP(i,n) for(int i = (n)-1; i >= 0; i--)\n#define SREP(i,s,t) for(int i = s; i < t; i++)\n#define ALL(a) a.begin(),a.end()\n#define RALL(a) a.rbegin(),a.rend()\n#define PB push_back\n\n/* monkukui 競技プログラミング用のテンプレート (ここまで)*/\n\nint main(){\n  \n  while(1) {\n    int n, m; cin >> n >> m;\n    if(n == 0) break;\n    vector<lnt> c(m);\n    for(int i = 0; i < m; i++) cin >> c[i];\n    vector<lnt> x(n);\n    for(int i = 0; i < n; i++) cin >> x[i];\n\n    // DP \n    vector<vector<lnt>> dp(n + 1, vector<lnt> (256, INF));\n    dp[0][128] = 0;\n    for(int i = 0; i < n; i++) {\n      for(int j = 0; j < 256; j++) {\n        if(dp[i][j] == INF) continue;\n\n        lnt val = j;\n        for(int k = 0; k < m; k++) {\n          int nxtVal = val + c[k];\n          if(nxtVal < 0) nxtVal = 0;\n          if(nxtVal > 255) nxtVal = 255;\n          dp[i + 1][nxtVal] = min(dp[i + 1][nxtVal], dp[i][val] + (nxtVal - x[i]) * (nxtVal - x[i]));\n        }\n      }\n    }\n    \n    lnt ans = INF;\n    for(int j = 0; j < 256; j++) ans = min(ans, dp[n][j]);\n    cout << ans << endl;\n\n    \n  }\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\nusing namespace std;\n\nlong long int dp[20001][256] = {};\n\nint main() {\n\n  while( true ) {\n\n    long long int n, m;\n    cin >> n >> m;\n    if ( n == 0 ) break;\n\n    vector< long long int > c;\n\n    for ( long long int i = 0; i < m; i++ ) {\n\n      long long int in;\n      cin >> in;\n      c.push_back( in );\n\n    }\n\n    for ( long long int i = 0; i <= n; i++ ) {\n      for ( long long int j = 0; j < 256; j++ ) {\n\tdp[i][j] = 0;\n      }\n    }\n    dp[0][128] = 1;\n\n    for ( long long int i = 1; i <= n; i++ ) {\n\n      long long int in;\n      cin >> in;\n      for ( long long int j = 0; j < 256; j++ ) {\n\n\tif ( dp[i-1][j] > 0 ) {\n\n\t  for ( long long int k = 0; k < m; k++ ) {\n\n\t    long long int y = j + c[k];\n\t    if ( y < 0 ) y = 0;\n\t    if ( y > 255 ) y = 255;\n\t    long long int d = y - in;\n\t    d *= d;\n\t    d += dp[i-1][j];\n\t    if ( dp[i][y] == 0 || dp[i][y] > d ) dp[i][y] = d;\n\n\t  }\n\n\t}\n\n      }\n\n    }\n\n    long long int ans = -1;\n\n    for ( long long int i = 0; i < 256; i++ ) {\n\n      if ( dp[n][i] > 0 ) {\n\n\tif ( ans == -1 || ans > dp[n][i] ) ans = dp[n][i];\n\n      }\n\n    }\n\n    cout << ans-1 << endl;\n\n  }\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <cmath>\n#define INF 100000000\n\nusing namespace std;\n\nint main(void) {\n\tint N,M;\n\twhile (cin >> N >> M, N) {\n\t\tvector<int> C(M);\n\t\tfor (int i = 0; i < M; ++i) {\n\t\t\tcin >> C[i];\n\t\t}\n\t\tvector<int> x(N);\n\t\tfor (int i = 0; i < N; ++i) {\n\t\t\tcin >> x[i];\n\t\t}\n\n\t\tvector< vector<int> > dp(256,vector<int>(N+1));\n\t\tfor (int i = 0; i < 256; ++i) {\n\t\t\tfor (int j = 0; j < N+1; ++j) {\n\t\t\t\tdp[i][j] = INF;\n\t\t\t}\n\t\t}\n\t\tdp[128][0] = 0;\n\n\t\tfor (int j = 0; j < N; ++j) {\n\t\t\tfor (int i = 0; i < 256; ++i) {\n\t\t\t\tif (dp[i][j] != INF) {\n\t\t\t\t\tfor (int k = 0; k < M; ++k) {\n\t\t\t\t\t\tif (C[k]+i > 255) {\n\t\t\t\t\t\t\tdp[255][j+1] = min(dp[255][j+1],dp[i][j]+(int)pow(x[j]-255,2));\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (C[k]+i < 0) {\n\t\t\t\t\t\t\tdp[0][j+1] = min(dp[0][j+1],dp[i][j]+(int)pow(x[j]-0,2));\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tdp[C[k]+i][j+1] = min(dp[C[k]+i][j+1],dp[i][j]+(int)pow(x[j]-C[k]-i,2));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tint res = INF;\n\t\tfor (int i = 0; i < 256; ++i) {\n\t\t\tif (dp[i][N] < res) {\n\t\t\t\tres = dp[i][N];\n\t\t\t}\n\t\t}\n\t\tcout << res << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <complex>\n#include <cstdlib>\n#include <ctime>\n#include <iomanip>\n#include <iostream>\n#include <map>\n#include <math.h>\n#include <queue>\n#include <random>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <vector>\n\nusing namespace std;\n#define SAY_YES cout << \"YES\" << endl;\n#define SAY_Yes cout << \"Yes\" << endl;\n#define SAY_NO cout << \"NO\" << endl;\n#define SAY_No cout << \"No\" << endl;\n#define IFYES(TRUE_OR_FALSE)   \\\n    if (TRUE_OR_FALSE)         \\\n    {                          \\\n        cout << \"YES\" << endl; \\\n    }                          \\\n    else                       \\\n    {                          \\\n        cout << \"NO\" << endl;  \\\n    }\n#define IFYes(TRUE_OR_FALSE)   \\\n    if (TRUE_OR_FALSE)         \\\n    {                          \\\n        cout << \"Yes\" << endl; \\\n    }                          \\\n    else                       \\\n    {                          \\\n        cout << \"No\" << endl;  \\\n    }\n#define IFyes(TRUE_OR_FALSE)   \\\n    if (TRUE_OR_FALSE)         \\\n    {                          \\\n        cout << \"yes\" << endl; \\\n    }                          \\\n    else                       \\\n    {                          \\\n        cout << \"no\" << endl;  \\\n    }\n#define DEBUG_OUTPUT_ARRAY(XXX, ONE)                            \\\n    for (int i = 0; i < (ONE); i++)                             \\\n    {                                                           \\\n        cout << \"DEBUG: i = \" << i << \" -> \" << XXX[i] << endl; \\\n    }\n#define DEBUG_OUTPUT_ARRAY2(XXX, ONE, TWO)                             \\\n    for (int i = 0; i < (ONE); i++)                                    \\\n    {                                                                  \\\n        cout << \"<<< i = \" << i << \" >>>\" << endl;                     \\\n        for (int j = 0; j < (TWO); j++)                                \\\n        {                                                              \\\n            cout << \"DEBUG: j = \" << j << \" -> \" << XXX[i][j] << endl; \\\n        }                                                              \\\n    }\n#define DEBUG_OUTPUT_ARRAY2_BOX(XXX, ONE, TWO) \\\n    for (int i = 0; i < (ONE); i++)            \\\n    {                                          \\\n        cout << i << \"  \";                     \\\n        for (int j = 0; j < (TWO); j++)        \\\n        {                                      \\\n            cout << XXX[i][j] << \" \";          \\\n        }                                      \\\n        cout << endl;                          \\\n    }\n\ntypedef pair<long long int, long long int> pll;\n\n\nconst long long int mod = 1000000007;\nconst long long int INF = 19999999999999;\n\nlong long int N,M,P,X[200],sum=0,C[200050],x[200050],dp[20050][260]={};\nint main()\n{\n    cout << fixed << setprecision(18);\n    cin>>N>>M;\n    while(N!=0){\n        for(long long int i = 1; i <= M; i++){\n            cin>>C[i];\n        }\n        for(long long int i = 1; i <= N; i++){\n            cin>>x[i];\n        }\n        for(long long int i = 0; i <= 255; i++){\n            for(long long int k = 0; k <= N; k++){\n                dp[k][i]=INF;\n            }\n        }\n        dp[0][128]=0;\n        for(long long int i = 1; i <= N; i++){\n            for(long long int j = 1; j <= M; j++){\n                for(long long int k = 0; k <= 255; k++){\n                    long long int tmp=min(max(0LL,k+C[j]),255LL);\n                    dp[i][tmp]=min(dp[i][tmp],dp[i-1][k]+(tmp-x[i])*(tmp-x[i]));\n                }\n            }\n        }\n        \n        long long int res=INF;\n        for(long long int k = 0; k <= 255; k++){\n            res=min(dp[N][k],res);\n        }\n        cout<<res<<endl;\n        cin>>N>>M;\n    }\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\ntypedef long long ll;\n\nconst ll INF = 1LL << 50;\n\nll C[22], X[20202];\nll dp[20202][256];\n\nvoid solve(int n, int m) {\n    for (int i = 0; i < m; i++) cin >> C[i];\n    for (int i = 1; i <= n; i++) cin >> X[i];\n    for (int i = 0; i <= n; i++) {\n        for (int j = 0; j <= 255; j++) dp[i][j] = INF;\n    }\n    dp[0][128] = 0;\n    for (int i = 0; i < n; i++) {\n        for (ll j = 0; j <= 255; j++) {\n            if (dp[i][j] == INF) continue;\n            for (int k = 0; k < m; k++) {\n                ll next_num = min(max(j + C[k], 0LL), 255LL);\n                dp[i + 1][next_num] = min(dp[i][j] + (X[i + 1] - next_num) * (X[i + 1] - next_num), dp[i + 1][next_num]);\n            }\n        }\n    }\n    ll ans = INF;\n    for (ll i = 0; i <= 255; i++) {\n        ans = min(ans, dp[n][i]);\n    }\n    cout << ans << endl;\n}\n\nint main() {\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    int N, M;\n    while (true) {\n        cin >> N >> M;\n        if (N == 0 && M == 0) break;\n        solve(N, M);\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#define REP(i,n) for(int i=0;i<(n);++i)\nusing namespace std;\n\nint main(){\n  while(true) {\n    int N, M, C[16];\n    cin >> N >> M;\n    if(N == 0 && M == 0) break;\n    REP(i, M) {\n      cin >> C[i];\n    }\n    int sum[256], nsum[256];\n    REP(i, 256) {\n      sum[i] = i == 128 ? 0 : (1 << 30);\n    }\n    REP(i, N) { \n      int ty;\n      cin >> ty;\n      REP(j, 256) {\n        nsum[j] = 9999999999;\n      }\n      REP(y, 256) {\n        REP(k, M) {\n          int ny = y + C[k];\n          if(ny < 0) ny = 0;\n          if(ny > 255) ny = 255;\n          int d = ny - ty;\n          int tsum = sum[y] + d * d;\n          if(tsum < nsum[ny]) nsum[ny] = tsum;\n        }\n      }\n      REP(j, 256) {\n        sum[j] = nsum[j];\n      }\n    }\n    int minsum = 999999999;\n    REP(i, 256) {\n      if(minsum > sum[i]) minsum = sum[i];\n    }\n    cout << minsum << endl;\n  }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <queue>\n#include <map>\n#include <cmath>\n#include <set>\n#include <algorithm>\n\ntypedef long long ll;\nconst ll MOD = 1e9 + 7;\nconst long long INF = 1LL<<60;\nconst double PI=3.14159265358979323846;\nconst int NMAX=100005;\nusing namespace std;\n\nll dp[20001][256];\n\nvector<int> c,x;\n\nvoid solve(ll n, ll m){\n    for(int i = 0; i <= n; i++){\n        for(int j = 0; j <= 255; j++){\n            dp[i][j] = INF;\n        }\n    }\n    dp[0][128] = 0;\n    for(int i = 0; i < n; i++){\n        for(int j = 0; j < m; j++){\n            for(int k = 0; k <= 255; k++){\n                int cc = k+c[j];\n                if(cc < 0) cc = 0;\n                else if(cc > 255) cc = 255;\n                dp[i+1][cc] = min(dp[i+1][cc], dp[i][k]+abs(x[i]-cc)*abs(x[i]-cc));\n            }\n        }\n    }\n    ll ans = INF;\n    for(int i = 0; i <= 255; i++){\n        ans = min(ans, dp[n][i]);\n    }\n    cout << ans << endl;\n}\n\nint main(){\n    while(true){\n        c.clear();\n        x.clear();\n        ll n, m;\n        cin >> n >> m;\n        if(n == 0 && m == 0) break;\n        for(int i = 0; i < m; i++){\n            int tmp;\n            cin >> tmp;\n            c.push_back(tmp);\n        }\n        for(int i = 0; i < n; i++){\n            int tmp;\n            cin >> tmp;\n            x.push_back(tmp);\n        }\n        solve(n, m);\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\nusing namespace std;\nint main(){\n  int N, M;\n  while(cin >> N >> M, N){\n    long long int C[M];\n    long long int INF = 10000000000LL;\n    for(int i = 0; i < M; ++i)\n      cin >> C[i];\n    sort(C,C+M);\n    long long int x[N];\n    for(int i = 0; i < N; ++i)\n      cin >> x[i];\n    long long int dp[N][256];\n    for(int i = 0; i < N; ++i){\n      fill(dp[i],dp[i]+256,INF);\n    }\n    for(int i = 0; i < M; ++i){\n      long long int t = max(min(255LL,128LL+C[i]),0LL);\n      dp[0][t] = (x[0]-t)*(x[0]-t);\n    }\n    for(int i = 1; i < N; ++i){\n      for(int j = 0; j < 256; ++j){\n\tif(dp[i-1][j] == INF) continue;\n\tfor(int k = 0; k < M; ++k){\n\t  long long int t = max(min(255LL,(long long int)j+C[k]),0LL);\n\t  dp[i][t] = min(dp[i][t], dp[i-1][j] + (x[i]-t)*(x[i]-t));\n\t  if(j + C[k] > 255) break;\n\t}\n      }\n    }\n    long long int ans = INF;\n    for(int i = 0; i < 256; ++i){\n      ans = min(ans, dp[N-1][i]);\n    }\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdlib>\n#include <cmath>\n#include <climits>\n#include <cfloat>\n#include <map>\n//#include <utility>\n#include <set>\n#include <iostream>\n//#include <memory>\n#include <string>\n#include <vector>\n#include <algorithm>\n//#include <functional>\n#include <sstream>\n//#include <deque>\n#include <complex>\n#include <stack>\n#include <queue>\n#include <cstdio>\n//#include <cctype>\n#include <cstring>\n//#include <ctime>\n#include <iterator>\n#include <bitset>\n//#include <numeric>\n//#include <list>\n//#include <iomanip>\n\n#if __cplusplus >= 201103L\n#include <array>\n#include <tuple>\n#include <initializer_list>\n#include <unordered_set>\n#include <unordered_map>\n#include <forward_list>\n\n#define cauto const auto&\n#else\n\n#endif\n\nusing namespace std;\n#define int long long\n\nnamespace{\ntypedef long long ll;\ntypedef pair<int,int> pii;\ntypedef pair<ll,ll> pll;\n\ntypedef vector<int> vint;\ntypedef vector<vector<int> > vvint;\ntypedef vector<long long> vll, vLL;\ntypedef vector<vector<long long> > vvll, vvLL;\n\n#define VV(T) vector<vector< T > >\n\ntemplate <class T>\nvoid initvv(vector<vector<T> > &v, int a, int b, const T &t = T()){\n    v.assign(a, vector<T>(b, t));\n}\n\ntemplate <class F, class T>\nvoid convert(const F &f, T &t){\n    stringstream ss;\n    ss << f;\n    ss >> t;\n}\n\n\n#define reep(i,a,b) for(int i=(a);i<(b);++i)\n#define rep(i,n) reep((i),0,(n))\n#define ALL(v) (v).begin(),(v).end()\n#define PB push_back\n#define F first\n#define S second\n#define mkp make_pair\n#define RALL(v) (v).rbegin(),(v).rend()\n\n\n#define MOD 1000000007LL\n#define EPS 1e-8\nstatic const ll INF=LLONG_MAX;\n/*\n2\n8\n0\n325125\n65026\n*/\nvint dp(256,0);\nvoid mainmain(){\n\tint n,m;\n\twhile(cin>>n>>m,n||m){\n\t\tvint c(m),x(n);\n\t\trep(i,m) cin>>c[i];\n\t\trep(i,n) cin>>x[i];\n\t\trep(i,256) dp[i]=INF;\n\t\tdp[128]=0;\n\t\trep(i,n){\n\t\t\tvint tmp(256,INF);\n\t\t\trep(j,m){\n\t\t\t\trep(k,256){\n\t\t\t\t\tint t=k+c[j];\n\t\t\t\t\tif(t<0) tmp[0]=min(tmp[0],dp[k]);\n\t\t\t\t\telse if(t>255) tmp[255]=min(tmp[255],dp[k]);\n\t\t\t\t\telse tmp[t]=min(tmp[t],dp[k]);\n\t\t\t\t}\n\t\t\t}\n\t\t\trep(j,256){\n\t\t\t\tif(tmp[j]==INF) continue;\n\t\t\t\ttmp[j]+=(j-x[i])*(j-x[i]);\n\t\t\t}\n\t\t\tdp=tmp;\n\t\t\t// rep(i,256) cout<<i<<\" \"<<dp[i]<<endl;\n\t\t\t// cout<<endl;\n\t\t}\n\t\tint ans=INF;\n\t\trep(i,256){\n\t\t\tans=min(ans,dp[i]);\n\t\t}\n\t\tcout<<ans<<endl;\n\t}\n}\n\n\n\n}\nmain() try{\n    mainmain();\n}\ncatch(...){\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i,a,n) for(int i=a;i<n;i++)\n#define repb(i,a,b) for(int i=a;i>=b;i--)\n#define all(a) a.begin(),a.end()\n#define o(a) cout<<a<<endl\n#define int long long\n#define fi first\n#define se second\nusing namespace std;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef pair<int,int> pii;\n\nint dp[20010][256];\nconst int INF=1e12;\n\nsigned main(){\n   int n,m;\n   \twhile(1){\n\t   \tcin>>n>>m;\n\t   \tif(n+m==0) break;\n\t   \tvi c(m),x(n);\n\t   \trep(i,0,m) cin>>c[i];\n\t   \trep(i,0,n) cin>>x[i];\n\t   \trep(i,0,n+10){\n\t   \t\trep(j,0,256){\n\t   \t\t\tdp[i][j]=INF;\n\t   \t\t}\n\t    }\n\t    dp[0][128]=0;\n\t    rep(i,0,n){\n\t    \trep(j,0,256){\n\t    \t\tif(dp[i][j]==INF) continue;\n\t    \t\trep(k,0,m){\n\t    \t\t\tint tmp=j+c[k];\n\t    \t\t\ttmp=max((int)0,tmp);\n\t    \t\t\ttmp=min((int)255,tmp);\n\t    \t\t\tint diff=pow(abs(tmp-x[i]),(int)2);\n\t    \t\t\tdp[i+1][tmp]=min(dp[i+1][tmp],dp[i][j]+diff);\n\t    \t\t}\n\t    \t}\n\t    }\n\t    int MIN=INF;\n\t    rep(i,0,256){\n\t    \tMIN=min(MIN,dp[n][i]);\n\t    }\n\t    cout<<MIN<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n//----***やべーやつら***----\nusing namespace std;\n#define int long long\n\n//----***型定義***----\nusing ll = long long;\nusing P = pair<int,int>;\n\n//----***Like a Pythonista***----\n#define REP(ii,jj,nn) for (ll ii=jj;ii<(nn);ii++)\n#define RREP(ii,nn,jj) for (ll ii = nn; jj<ii;ii--)\n#define each(i,...) for (auto&& i:__VA_ARGS__)\n#define ALL(vec) (vec).begin(),(vec).end()\n#define sum(...) accumulate(ALL(__VA_ARGS__),0LL)\n#define dsum(...) accumulate(ALL(__VA_ARGS__),0.0)\n#define vec(type,name,...) vector<type> name(__VA_ARGS__)\ntemplate<class T> inline auto max(const T& a){ return *max_element(ALL(a)); }\ntemplate<class T> inline auto min(const T& a){ return *min_element(ALL(a)); }\ninline ll gcd(ll a,ll b){if(b == 0) return a;return  gcd(b,a%b);}\ninline ll lcm(ll a,ll b){ll g = gcd(a,b);return a / g * b;}\n\n//----***定数***----\n#define MOD 1000000007\n#define INF 100000000000000000\n#define EPS 1e-9\nconst vector<vector<int>> DXY={{-1,0},{1,0},{0,-1},{0,1}};\n\n//----***パーツ***----\n#define fr first\n#define se second\n#define pb push_back\n\n//----***入出力***---\n#define print(out) cout<< out  << \"\\n\";\n#define debug(var)  do{std::cerr << #var << \" ↓ \"<<\"\\n\";view(var);}while(0);\n#define dbg cerr<<\"🥺🥺🥺🥺🥺🥺\"<<endl;\ntemplate<typename T> void view(T e){std::cout << e << std::endl;}\ntemplate<typename T> void view(const std::vector<T>& v){for(const auto& e : v){ std::cout << e << \" \"; } std::cout << std::endl;}\ntemplate<typename T> void view(const std::vector<std::vector<T> >& vv){ for(const auto& v : vv){ view(v); } }\n\n//----***初期時読み込み***----\nstruct initial{initial(){cin.tie(0); ios::sync_with_stdio(0); cout<<fixed<<setprecision(15);};}initial_;\n\nvector<vector<int>>dp(30,vector<int>(500,0));\n\nsigned main(){\n  int N,M;\n  while(true){\n    cin>>N>>M;\n    if(N==0&&M==0)break;\n    vector<int> C(M),Y(N);\n    REP(i,0,M)cin>>C[i];\n    REP(i,0,N)cin>>Y[i];\n    vector<vector<int>> dp(256,vector<int>(N+1,INF));\n    dp[128][0]=0;\n    REP(i,0,N){\n      REP(j,0,256){\n        REP(k,0,M){\n          int idx=C[k];\n          idx=max(0LL,min(idx+j,255LL));\n          dp[idx][i+1]=min(dp[idx][i+1],(Y[i]-idx)*(Y[i]-idx)+dp[j][i]);\n        }\n      }\n    }\n    int ans=INF+1;\n    REP(i,0,256)ans=min(ans,dp[i][N]);\n    print(ans)\n  }\n\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nint main(){\n  int n,m;\n  int dp[2001][256];\n  while(cin>>n>>m,n){\n    for(int i=0;i<256;i++)\n      for(int j=0;j<256;j++)\n\tdp[i][j]=1<<30;\n    dp[0][128]=0;\n    int c[m],x[n];\n    for(int i=0;i<m;i++)cin>>c[i];\n    for(int i=0;i<n;i++)cin>>x[i];\n    \n    for(int i=0;i<n;i++){\n      for(int j=0;j<256;j++){\n\tfor(int k=0;k<m;k++){\n\t  if(j+c[k]<0){\n\t    dp[i+1][0]=min(dp[i+1][0],dp[i][j] + x[i]*x[i]);\n\t  }else if(j+c[k]>255){\n\t    dp[i+1][255]=min(dp[i+1][255],dp[i][j] + (x[i]-255)*(x[i]-255));\n\t  }else{\n\t    dp[i+1][j+c[k]]=min(dp[i+1][j+c[k]],dp[i][j] + (x[i]-j-c[k])*(x[i]-j-c[k]));\n\t  }\n\t}\n      }\n    }\n    // for(int j=0;j<256;j++){\n    //   for(int i=0;i<n;i++){\n    // \tcout << dp[i][j] << \" \";\n    //   }\n    //   cout << endl;\n    // }\n\n    int res=1<<30;\n    for(int i=0;i<256;i++)res=min(res,dp[n][i]);\n    cout << res << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <cmath>\n#include <cstdio>\n#include <functional>\n#include <numeric>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <utility>\n#include <sstream>\n#include <complex>\n\nusing namespace std;\n\n#define FOR(i,a,b) for(long long i=(a);i<(b);i++)\n#define REP(i,N) for(long long i=0;i<(N);i++)\n#define ALL(s) (s).begin(),(s).end()\n#define fi first\n#define se second\n\n#define PI acos(-1.0)\n#define INF 1000000007\n#define EPS 1e-10\n#define MAX_N 20000\n#define MAX_M 16\n\ntypedef long long ll;\ntypedef pair<ll, ll> P;\ntypedef pair<double, double> PD;\ntypedef pair<string, ll> PS;\ntypedef vector<ll> V;\ntypedef pair<P, char> PC;\n\nint n, m;\nint c[MAX_M + 1], x[MAX_N + 1];\nint dp[MAX_N + 1][256 + 1];\n\nint POW(int num){\n\treturn num*num;\n}\n\nint main(){\n\twhile (cin >> n >> m&&n + m){\n\t\tREP(i, MAX_N + 1){\n\t\t\tREP(j, 256 + 1){\n\t\t\t\tdp[i][j] = INF;\n\t\t\t}\n\t\t}\n\t\tREP(i, m) cin >> c[i];\n\t\tREP(i, n) cin >> x[i];\n\t\tdp[0][128] = 0;\n\t\tREP(i, n){\n\t\t\tREP(j, 256){\n\t\t\t\tif (dp[i][j] == INF)continue;\n\t\t\t\tREP(k, m){\n\t\t\t\t\tint num = j + c[k];\n\t\t\t\t\tif (num < 0) num = 0;\n\t\t\t\t\tif (num > 255) num = 255;\n\t\t\t\t\tdp[i + 1][num] = min(dp[i][j] + POW(x[i] - num), dp[i + 1][num]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = INF;\n\t\tREP(i, 256){\n\t\t\tans = min(ans, dp[n][i]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <climits>\nusing namespace std;\n\n#define INF 1 << 28\n#define SQUARE(n) ((n)*(n))\ntypedef long INT;\ntypedef vector <int> VI;\ntypedef vector <VI> VVI;\n\nint main( void )\n{\n\tint n, m; // N: üÍM, M: R[hubNÌ·³\n\twhile ( cin >> n >> m && n && m )\n\t{\n\t\t// üÍ\n\t\tVI C(m);\n\t\tfor ( int i = 0; i < m; i++ )\n\t\t{\n\t\t\tcin >> C[i];\n\t\t}\n\t\tVI x(n);\n\t\tfor ( int i = 0; i < n; i++ )\n\t\t{\n\t\t\tcin >> x[i];\n\t\t}\n\n\t\tVVI  dp = VVI( n+1, VI( 256, INF ) );\n\t\tdp[0][128] = 0;\n\n\t\tfor ( int k = 1; k <= n; k++ )\n\t\t{\n\t\t\tfor ( int i = 0; i < 256; i++ )\n\t\t\t{\n\t\t\t\tfor ( int j = 0; j < m; j++ )\n\t\t\t\t{\n\t\t\t\t\tint next = i + C[j];\n\t\t\t\t\tnext = next < 0 ? 0 : next;\n\t\t\t\t\tnext = next > 255 ? 255 : next;\n\t\t\t\t\tdp[k][next] = min( dp[k][next], dp[k-1][i] + SQUARE( next - x[k-1] ) );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tint answer = INF;\n\t\tfor ( int i = 0; i < 256; i++ ) answer = min( answer, dp[n][i] );\n\t\tcout << answer << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <cmath>\n\nusing namespace std;\n \nint main() {\n int n,m;\n while(cin >> n >> m, n) {\n  vector<int> code(m), value(n);\n  for (int i = 0; i < m; i++)\n   cin >> code[i];\n  for (int i = 0; i < n; i++)\n   cin >> value[i];\n  vector<vector<int> > dp(256, vector<int>(n + 1, 1000000000));\n  dp[0][128] = 0;\n  for (int i = 0; i < n; i++) {\n   for (int j = 0; j < 256; j++) {\n    for (int k = 0; k < m; k++) {\n     int val = min(255,max(0,j+code[k]));\n     dp[i+1][val] = min(dp[i+1][val], dp[i][j] + (val -value[i]) * (val - value[i]));\n    }\n   }\n  }\n  int ans = 1000000000;\n  for (int i = 0; i < 256; i++) {\n   ans = min(ans, dp[n][i]);\n  }\n  cout << ans << endl;\n }\n return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define rep(i, n) for (int i = 0; i < (int)(n); i++)\n#define rrep(i, n) for (int i = (int)(n - 1); i >= 0; i--)\n#define all(x) (x).begin(), (x).end()\n#define sz(x) int(x.size())\n#define get_unique(x) x.erase(unique(all(x)), x.end());\ntypedef long long ll;\ntypedef complex<double> Complex;\nconst int INF = 1e9;\nconst ll MOD = 1e9 + 7;\nconst ll LINF = 1e18;\ntemplate <class T>\nbool chmax(T& a, const T& b) {\n    if (a < b) {\n        a = b;\n        return 1;\n    }\n    return 0;\n}\ntemplate <class T>\nbool chmin(T& a, const T& b) {\n    if (b < a) {\n        a = b;\n        return 1;\n    }\n    return 0;\n}\ntemplate <class T>\nvector<T> make_vec(size_t a) {\n    return vector<T>(a);\n}\ntemplate <class T, class... Ts>\nauto make_vec(size_t a, Ts... ts) {\n    return vector<decltype(make_vec<T>(ts...))>(a, make_vec<T>(ts...));\n}\nint main() {\n    while (1) {\n        int n, m;\n        cin >> n >> m;\n        if (n == 0 && m == 0) break;\n        vector<ll> c(m), x(n);\n        rep(i, m) cin >> c[i];\n        rep(i, n) cin >> x[i];\n\n        auto dp = make_vec<ll>(n + 10, 256);\n        rep(i, n + 10) rep(j, 256) dp[i][j] = LINF;\n        dp[0][128] = 0;\n        rep(i, n) {\n            rep(j, 256) {\n                rep(k, m) {\n                    int nxt = min(255ll, max(0ll, j + c[k]));\n                    chmin(dp[i + 1][nxt],\n                          dp[i][j] + (x[i] - nxt) * (x[i] - nxt));\n                }\n            }\n        }\n        ll ans = LINF;\n        rep(j, 256) chmin(ans, dp[n][j]);\n        cout << ans << endl;\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <numeric>\n#include <set>\n#include <map>\n#include <string>\n#include <stack>\n#include <queue>\n#include <cmath>\n#include <cstdio>\n#include <istream>\n#include <sstream>\n#include <iomanip>\n#include <iterator>\n#include <climits>\nusing namespace std;\n\ntypedef ostringstream OSS;\ntypedef istringstream ISS;\n\ntypedef vector<int> VI;\ntypedef vector< VI > VVI;\n\ntypedef long long LL;\n\ntypedef pair<int, int> PII;\ntypedef vector<PII> VPII;\n\n#define X first\n#define Y second\n\nconst LL MOD = 1000000007;\n\ntemplate<typename T>\nvoid dump(T a, int n) { for (int i = 0; i < n; i++) cout << a[i] << (i == n - 1 ? '\\n' : ' '); }\n\ntemplate<typename T>\nvoid dump(T a) { dump<T>(a, a.size()); }\n\nconstexpr int INF = INT_MAX;\n\nint main(void) {\n\tfor (int N, M; cin >> N >> M, N;) {\n\t\tVI C(M), X(N);\n\t\tfor (auto &c : C) { cin >> c; }\n\t\tfor (auto &x : X) { cin >> x; }\n\n\t\t// \n\t\tVVI dp(N + 1, VI(256, INF));\n\t\tdp[0][128] = 0;\n\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\tfor (int j = 0; j < 256; j++) if(dp[i][j] != INF) {\n\t\t\t\tfor (auto c : C) {\n\t\t\t\t\tint y = max(0, min(255, j + c));\n\t\t\t\t\tint sq = (X[i] - y) * (X[i] - y);\n\t\t\t\t\tdp[i + 1][y] = min(dp[i + 1][y], dp[i][j] + sq);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcout << *min_element(dp[N].begin(), dp[N].end()) << endl;\n\t\t\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\ntypedef long long lli;\n\nconst int MAX_N = 20001;\nconst int MAX_M = 16;\nconst int MAX_V = 256;\nconst int INF = 1<<24;\n\nlli T[MAX_N][MAX_V];\nint N, M;\nlli C[MAX_M];\nlli x[MAX_N];\n\nlli solve() {\n  fill(T[0], T[N+1], INF);\n  T[0][128] = 0LL;\n  for(int i = 1; i <= N; ++i) {\n    for(int j = 0; j <= 255; ++j) {\n      for(int k = 0; k < M; ++k) {\n\tlli value = j + C[k];\n\tif(value < 0LL) value = 0LL;\n\tif(value > 255LL) value = 255LL;\n\tT[i][value] = min(T[i][value], T[i-1][j] + (x[i]-value)*(x[i]-value));\n      }\n    }\n  }\n  lli res = INF;\n  for(int i = 0; i <= 255; ++i) {\n    res = min(res, T[N][i]);\n  }\n  return res;\n}\n\nint main() {\n  while(cin >> N >> M && (N || M)) {\n    for(int i = 0; i < M; ++i) {\n      cin >> C[i];\n    }\n    for(int i = 1; i <= N; ++i) {\n      cin >> x[i];\n    }\n    cout << solve() << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n\nusing namespace std;\n\nconst int MAX_N = 20000;\nconst int MAX_M = 16;\nconst int INF = 1 << 29;\n\nint C[MAX_M];\nint X[MAX_N];\nint dp[2][256];\n\nint sub_pow ( int a, int b )\n{\n\tint c = a - b;\n\treturn c * c;\n}\n\nint main ( void )\n{\n\tint n, m;\n\twhile (cin >> n >> m, n|m) {\n\t\tfor (int i = 0; i < 2; ++i) {\n\t\t\tfill(dp[i], dp[i]+256, INF);\n\t\t}\n\t\tfor (int i = 0; i < m; ++i) {\n\t\t\tcin >> C[i];\n\t\t}\n\t\tfor (int i = 0; i < n; ++i) {\n\t\t\tcin >> X[i];\n\t\t}\n\t\tdp[0][128] = 0;\n\t\tfor (int i = 0; i < n; ++i) {\n\t\t\tint a = i & 1, b = (i + 1) & 1;\n\t\t\tfill(dp[b], dp[b]+256, INF);\n\t\t\tfor (int j = 0; j < 256; ++j) {\n\t\t\t\tif (dp[a][j] == INF) { continue; }\n\t\t\t\tfor (int k = 0; k < m; ++k) {\n\t\t\t\t\tint x = min(max(0, j + C[k]), 255);\n\t\t\t\t\tdp[b][x] = min(dp[b][x], dp[a][j] + sub_pow(x, X[i]));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = INF;\n\t\tfor (int i = 0; i < 256; ++i) {\n\t\t\tans = min(ans, dp[n & 1][i]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n \n#define rep(i,n) for(ll i=0;i<n;++i)\n#define ALL(a) (a).begin(),(a).end()\n \nusing namespace std;\nusing ll  = long long;\nusing pll = pair<ll, ll>;\nusing pdd = pair<double, double>;\n \nconst ll MOD  = 1e9+7;\nconst ll LINF = 1LL << 60;\nconst int INF = 1e9 + 7;\n\nint main(){\n    int n, m;\n    \n    while(cin >> n >> m, n+m != 0){\n        int c[m];\n        rep(i, m)cin >> c[i];\n\n        int x[n];\n        rep(i, n)cin >> x[i];\n\n        //dp[i][j] : 列iのyがjであるときの二乗和の最小数\n        ll dp[n+1][256];\n        rep(i, n+1)rep(j, 256)dp[i][j] = INF;\n\n        dp[0][128] = 0;\n        rep(i, n)rep(j, 256)rep(k, m){\n            if(dp[i][j] >= INF)continue;\n\n            int next = max(0, (int)j + c[k]); \n            next = min(next, 255);\n\n            ll dif = pow(x[i] - next, 2);\n\n            dp[i+1][next] = min(dp[i+1][next], dp[i][j] + dif);\n        }\n\n        ll ans = INF;\n        rep(i, 256)ans = min(ans, dp[n][i]);\n\n        cout << ans << endl;\n    }\n\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\n\nconstexpr int inf = 1e9;\n\nint main(){\n    int n, m;\n    while(cin >> n >> m, n+m){\n        vector<vector<int>> dp(256, vector<int>(n+1, 1<<30));\n        dp[128][0] = 0;\n        vector<int> c(m);\n        for(int i = 0; i < m; i++)  cin >> c[i];\n        for(int i = 0; i < n; i++){\n            int x;  cin >> x;\n            for(int j = 0; j < 256; j++){\n                for(int k = 0; k < m; k++){\n                    int next = j + c[k];\n                    if(next < 0)    next = 0;\n                    if(next > 255)  next = 255;\n                    dp[next][i+1] = min(dp[next][i+1], dp[j][i]+(next-x)*(next-x));\n                }\n            }\n        }\n        int ans = 1<<30;\n        for(int j = 0; j < 256; j++)    ans = min(ans, dp[j][n]);\n        cout << ans << endl;\n    }\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <complex>\n#include <string>\n#include <sstream>\n#include <algorithm>\n#include <vector>\n#include <queue>\n#include <stack>\n#include <functional>\n#include <iostream>\n#include <map>\n#include <set>\nusing namespace std;\ntypedef pair<int,int> P;\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\n#define pu push\n#define pb push_back\n#define mp make_pair\n#define eps 1e-9\n#define INF 2000000000\n#define LLINF 1000000000000000ll\n#define sz(x) ((int)(x).size())\n#define sq(x) ((x)*(x))\n#define fi first\n#define sec second\n#define SORT(x) sort((x).begin(),(x).end())\n#define all(x) (x).begin(),(x).end()\nint N,M;\nint C[20];\nint x[20010];\nll dp[20010][256];\nint solve(){\n    scanf(\"%d %d\",&N,&M);\n    if(N==0&&M==0)return 1;\n    for(int i=0;i<M;i++)scanf(\"%d\",&C[i]);\n    for(int i=0;i<N;i++)scanf(\"%d\",&x[i]);\n    for(int i=0;i<=N;i++){\n        for(int j=0;j<256;j++){\n            dp[i][j]=LLINF;\n        }\n    }\n    dp[0][128]=0;\n    for(int i=0;i<N;i++){\n        for(int j=0;j<256;j++){\n            if(dp[i][j]==LLINF)continue;\n            for(int k=0;k<M;k++){\n                int nxt = j+C[k];\n                nxt = max(0,nxt);\n                nxt = min(255,nxt);\n                dp[i+1][nxt]=min(dp[i+1][nxt],(ll)(dp[i][j]+sq(abs(nxt-x[i]))));\n            }\n        }\n    }\n    ll ans = LLINF;\n    for(int i=0;i<256;i++)ans = min(ans,dp[N][i]);\n    cout << ans << endl;\n    return 0;\n}\nint main(){\n    while(1){\n        if(solve())return 0;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\ntypedef long long LL;\n#define SORT(c) sort((c).begin(),(c).end())\n\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n)  FOR(i,0,n)\n\nusing namespace std;\nLL dp[256][2];\nint d(int v){\n  return v*v;\n}\nint ran(int v){\n  if(v<0) return 0;\n  return min(255,v);\n}\nint main(void)\n{\n  for(;;){\n    int n,m;\n    cin >> n >> m;\n    if(!n&&!m) return 0;\n    vector<int> alt;\n    alt.resize(m);\n    REP(i,m) cin >> alt[i];\n    REP(i,256) dp[i][0]=1147483647;\n    dp[128][0]=0;\n    REP(i,n){\n      int x;\n      cin >> x;\n      REP(j,256) dp[j][(i+1)%2]=2147483647;\n      REP(j,256){\n\tREP(k,m){\n\t  int nv=ran(j+alt[k]);\n\t  dp[nv][(i+1)%2]=min(dp[nv][(i+1)%2],dp[j][i%2]+d(nv-x));\n\t}\n      }\n    }\n    LL answer=2147483647;\n    REP(i,256) answer=min(answer,dp[i][n%2]);\n    cout << answer << endl;\n    \n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <algorithm>\n#include <string>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <cstring>\n#include <vector>\n#include <list>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n\n#define INF (int)1e09\n\nusing std::cin;\nusing std::cout;\nusing std::endl;\nusing std::setprecision;\nusing std::fixed;\nusing std::pair;\nusing std::make_pair;\nusing std::min;\nusing std::max;\nusing std::string;\nusing std::vector;\nusing std::list;\nusing std::map;\nusing std::set; // insert erase find count\nusing std::queue;\nusing std::priority_queue;\nusing std::stack;\n\ntemplate <typename T> using Vec = vector<T>; // c++11\ntypedef pair<int, int> PII;\ntypedef pair<int, pair<int, int> > PIII;\n\nint main(void) {\n    while (1) {\n        int n;\n        int m;\n        cin >> n >> m;\n        if (n == 0 && m == 0) {\n            break;\n        }\n        Vec<int> c(m);\n        Vec<int> x(n + 1);\n        for (int i = 0; i < m; i++) {\n            cin >> c[i];\n        }\n        for (int j = 1; j <= n; j++) {\n            cin >> x[j];\n        }\n        Vec<Vec<int> > dp(m, Vec<int>(n + 1));\n        for (int j = 0; j <= n; j++) {\n            for (int i = 0; i < m; i++) {\n                dp[i][j] = 0;\n            }\n        }\n\n        Vec<int> now(m, 128);\n        Vec<int> upd(m);\n\n        for (int j = 1; j <= n; j++) {\n            for (int i = 0; i < m; i++) {\n                for (int k = 0; k < m; k++) {\n                    int div = now[k] + c[i];\n                    if (div > 255) {\n                        div = 255;\n                    } else if (div < 0) {\n                        div = 0;\n                    }\n                    div = x[j] - div;\n\n                    if (k == 0 || dp[i][j] > dp[k][j - 1] + div * div) {\n                        dp[i][j] = dp[k][j - 1] + div * div;\n                        upd[i] = -div + x[j];\n                    }\n                }\n            }\n            for (int i = 0; i < m; i++) {\n                now[i] = upd[i];\n            }\n        }\n\n        int ans;\n        for (int i = 0; i < m; i++) {\n            if (i == 0 || ans > dp[i][n]) {\n                ans = dp[i][n];\n            }\n        }\n        cout << ans << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h> \n\n#define int long long\n#define double long double\n\n#define REP(i, b) for(int i = 0; i < (b); i++)\n#define REPS(i, b) for(int i = 1; i <= (b); i++)\n#define ALL(v) (v).begin(), (v).end()\n\n#define fi first\n#define se second\n#define pb push_back\n#define mp make_pair\n\nusing namespace std;\n\nusing pi = pair<int, int>;\nusing vi = vector<int>;\nusing vd = vector<double>;\nusing vs = vector<string>;\nusing vb = vector<bool>;\nusing vpi = vector<pi>;\nusing vvi = vector<vi>;\nusing vvb = vector<vb>;\n\nconst int INF = 1e16;\nconst int MOD = 1e9+7;\n\ntemplate<class T> inline bool chmax(T& a, T b) { if (a < b) { a = b; return true; } return false; }\ntemplate<class T> inline bool chmin(T& a, T b) { if (a > b) { a = b; return true; } return false; }\n\nsigned main()\n{\n    cin.tie(nullptr);\n    ios_base::sync_with_stdio(false);\n    cout << fixed << setprecision(10);\n\n    while(true)\n    {\n        int N, M; cin >> N >> M;\n        if(N == 0 && M == 0) break;\n        vi C(M); REP(i, M) cin >> C[i];\n        vi x(N); REP(i, N) cin >> x[i];\n        vvi dp(N+1, vi(256, INF)); // dp[i+1][j] := i番目の複合信号がjのときの最小値\n        REP(i, M) dp[0][128] = 0;\n        REP(i, N)\n        {\n            REP(j, 256)\n            {\n                if(dp[i][j] != INF)\n                {\n                    REP(k, M)\n                    {\n                        int t;\n                        if(j+C[k] > 255) t = 255;\n                        else if(j+C[k] < 0) t = 0;\n                        else t = j+C[k];\n                        chmin(dp[i+1][t], dp[i][j]+(t-x[i])*(t-x[i]));\n                    }\n                }\n            }\n        }\n        cout << *min_element(ALL(dp[N])) << endl;\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define rep(n) for(int i=0;i<n;i++)\n\nusing namespace std;\n\ntypedef long long ll;\n\nint n,m;\nll ans = LLONG_MAX;\nll c[16], x[200001];\n\nvoid dfs(int index, ll score, ll prev){\n    if(index == n){\n        ans = min(ans, score);\n        return;\n    }\n    rep(m){\n        ll now = min(255LL, max(0LL, prev+c[i]));\n        ll diff = x[index]-now;\n        dfs(index+1, score+diff*diff, now);\n    }\n}\n\nint main(){\n    while(scanf(\"%d%d\", &n, &m) && n){\n        rep(m) scanf(\"%lld\", &c[i]);\n        rep(n) scanf(\"%lld\", &x[i]);\n        dfs(0, 0LL, 128LL);\n        printf(\"%lld\\n\", ans);\n    }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n\nusing namespace std;\n\ntypedef long long ll;\n\nll dp[20010][256];\nint book[20];\nint input[20010];\nint N, M;\n\nstatic const ll MAX = 10000000000;\n\nvoid init() {\n  fill(&dp[0][0], &dp[20009][256], MAX);\n}\n\nvoid solve() {\n  dp[0][128] = 0;\n\n  for (int i = 0; i < N; i++) {\n    for (int j = 0; j < 256; j++) {\n      for (int k = 0; k < M; k++) {\n        int tar = j + book[k];\n        if (tar < 0) {\n          tar = 0;\n        } else if (tar > 255) {\n          tar = 255;\n        }\n        ll sub = tar - input[i];\n        sub *= sub;\n        dp[i + 1][tar] = min(dp[i + 1][tar], dp[i][j] + sub);\n      }\n    }\n  }\n\n  ll mn = MAX;\n  for (int i = 0; i < 256; i++) {\n    mn = min(mn, dp[N][i]);\n  }\n  printf(\"%ld\\n\", mn);\n}\n\nint main() {\n    while (true) {\n      scanf(\"%d %d \", &N, &M);\n      if (N == 0 && M == 0) {\n        break;\n      }\n      init();\n      for (int i = 0; i < M; i++) {\n        scanf(\"%d \", &book[i]);\n      }\n      for (int i = 0; i < N; i++) {\n        scanf(\"%d \", &input[i]);\n      }\n      solve();\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define INF (1 << 30)\n\nint dp[20001][256];\n\n\nint main()\n{\n  int N, M;\n  while(cin >> N >> M, N || M){\n    int C[16], x[20000];\n    for(int i = 0; i < M; i++) cin >> C[i];\n    for(int i = 0; i < N; i++) cin >> x[i];\n    for(int i = 0; i < 20001; i++){\n      for(int j = 0; j < 256; j++) dp[i][j] = INF;\n    }\n    dp[0][128] = 0;\n    for(int i = 0; i < N; i++){\n      for(int j = 0; j < 256; j++){\n\tif(dp[i][j] == INF) continue;\n\tfor(int k = 0; k < M; k++){\n\t  int y = j + C[k];\n\t  if(y < 0) y = 0;\n\t  else if(y > 255) y = 255;\n\t  int sqsum = (x[i] - y)*(x[i] - y);\n\t  dp[i+1][y] = min(dp[i+1][y], dp[i][j] + sqsum);\t  \n\t}\n      }\n    }\n    cout << *min_element(dp[N], dp[N] + 256) << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define all(x) (x).begin(), (x).end()\ntypedef long long ll;\n#define MOD 1000000007\nusing namespace std;\nint main() {\n    while(true) {\n        int n, m;\n        cin >> n >> m;\n        if(n == 0 && m == 0) {\n            return 0;\n        }\n        vector<int> c(m), x(n);\n        for(int i = 0; i < m; i++) {\n            cin >> c[i];\n        }\n        for(int i = 0; i < n; i++) {\n            cin >> x[i];\n        }\n        vector<vector<ll> > dp(n + 1, vector<ll>(256, LLONG_MAX / 3));\n        dp[0][128] = 0;\n        for(int i = 0; i < n; i++) {\n            for(int j = 0; j < 256; j++) {\n                for(int l = 0; l < m; l++) {\n                    ll next = min(max(j + c[l], 0), 255);\n                    dp[i + 1][next] =\n                        min(dp[i + 1][next],\n                            dp[i][j] + (next - x[i]) * (next - x[i]));\n                }\n            }\n        }\n        // cout << dp[1][132] << endl;\n        cout << *min_element(all(dp[n])) << endl;\n    }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <climits>\n#include <cstring>\n\nint c[16];\nint x[20001];\nint dp[256][20001];\n\nint main() {\n\tint n, m;\n\twhile (std::cin >> n >> m && (n || m)) {\n\t\tstd::memset(dp, 0xff, sizeof(dp));\n\t\tfor (int i = 0; i < m; i++) std::cin >> c[i];\n\t\tfor (int i = 0; i < n; i++) std::cin >> x[i + 1];\n\n\t\tdp[128][0] = 0;\n\t\tfor (int i = 1; i <= n; i++) { //????????????????????????\n\t\t\tfor (int j = 0; j < 256; j++) { //?????????0~255??¨???????????????\n\t\t\t\tif (dp[j][i - 1] < 0) continue; //??????????????????\n\t\t\t\tfor (int k = 0; k < m; k++) { //??¨?????????????????????????????????????????????\n\t\t\t\t\tint ny = j + c[k];\n\t\t\t\t\tif (ny < 0) ny = 0;\n\t\t\t\t\telse if (ny > 255) ny = 255;\n\n\t\t\t\t\tint v = (x[i] - ny) * (x[i] - ny);\n\t\t\t\t\tif (dp[ny][i] < 0) dp[ny][i] = dp[j][i - 1] + v;\n\t\t\t\t\telse {\n\t\t\t\t\t\tdp[ny][i] = std::min(dp[j][i - 1] + v, dp[ny][i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint min = INT_MAX;\n\t\tfor (int i = 0; i < 256; i++) if (dp[i][n] >= 0) min = std::min(dp[i][n], min);\n\t\tstd::cout << min << std::endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "//Yattazo! Watashiha-Yosen-tsuukashita! It's 460points/600points! OHO!!!!!\n#include<iostream>\n#include<algorithm>\n#include<cmath>\nusing namespace std;\nint x[21000][256],n,m,y[64000],z[64000],d,minx;\nint main(){\n\twhile(true){\n\t\tminx=2000000000;\n\t\tfor(int i=0;i<21000;i++){for(int j=0;j<256;j++){x[i][j]=2000000000;}}\n\t\tcin>>n>>m;if(!n){break;}\n\t\tfor(int i=0;i<m;i++){cin>>y[i];}\n\t\tfor(int i=1;i<=n;i++){cin>>z[i];}\n\t\tx[0][128]=0;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tfor(int j=0;j<256;j++){\n\t\t\t\tif(x[i-1][j]<1000000000){\n\t\t\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\t\t\td=y[k]+j;\n\t\t\t\t\t\tif(d<0){d=0;}\n\t\t\t\t\t\tif(d>255){d=255;}\n\t\t\t\t\t\tx[i][d]=min(x[i][d],x[i-1][j]+(int)pow(1.0*(z[i]-d),2));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor(int i=0;i<256;i++){minx=min(minx,x[n][i]);}\n\t\tcout<<minx<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\n#define rep(i,x,y) for(int (i)=(x);i<(y);(i)++)\n#define INF 1000000\n\nint main()\n{\n  while(true){\n    int N,M;\n    cin>>N>>M;\n    if(N==0&&M==0){\n      break;\n    }\n\n    vector<int> C,x;\n    int temp;\n    rep(i,0,M){\n      cin>>temp;\n      C.push_back(temp);\n    }\n    rep(i,0,N){\n      cin>>temp;\n      x.push_back(temp);\n    }\n\n    vector<vector<int>> dp(N+1,vector<int>(256,INF));\n    dp[0][128]=0;\n    rep(i,0,N){\n      rep(j,0,256){\n        if(dp[i][j]==INF){\n          continue;\n        }\n        rep(k,0,M){\n          int yn=j+C[k];\n          yn=min(255,yn);\n          yn=max(0,yn);\n          int sum=(x[i]-yn)*(x[i]-yn);\n          dp[i+1][yn]=min(dp[i+1][yn],dp[i][j]+sum);\n        }\n      }\n    }\n\n    int ans=dp[N][0];\n    rep(i,0,256){\n      ans=min(ans,dp[N][i]);\n    }\n    cout<<ans<<endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <cmath>\nusing namespace std;\n\nunsigned int errorSum[2][256];\nbool concerning[2][256];\n\nshort samples[20001];\nint codeBook[16];\n\nconst unsigned int MAX = (1 << 32) - 1;\n\nint main() {\n\tint n, m;\n\twhile(true) {\n\n\t\tcin >> n >> m;\n\n\t\tif (n == 0 && m == 0) {\n\t\t\tbreak;\n\t\t}\n\n\t\tfor (int i = 0; i < m; i++) {\n\t\t\tcin >> codeBook[i];\n\t\t}\n\t\tfor (int i = 1; i <= n; i++) {\n\t\t\tcin >> samples[i];\n\t\t}\n\n\t\tfor (int i = 0; i < 256; i++) {\n\t\t\terrorSum[0][i] = errorSum[1][i] = MAX;\n\t\t\tconcerning[0][i] = concerning[1][i] = false;\n\t\t}\n\t\tconcerning[0][128] = true;\n\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tfor (int j = 0; j < 256; j++) {\n\t\t\t\tif(concerning[i % 2][j]) {\n\t\t\t\t\tconcerning[i % 2][j] = false;\n\t\t\t\t\tfor (int k = 0; k < m; k++) {\n\t\t\t\t\t\tint next = min(max(0, j + codeBook[k]), 255);\n\t\t\t\t\t\tunsigned int error = (errorSum[i % 2][j] == MAX ?\n\t\t\t\t\t\t\t\t0 : errorSum[i % 2][j])\n\t\t\t\t\t\t\t\t+ (next - samples[i+1]) * (next - samples[i+1]);\n\n\t\t\t\t\t\tif(error <= errorSum[(i+1) % 2][next]) {\n\t\t\t\t\t\t\tconcerning[(i+1) % 2][next] = true;\n\t\t\t\t\t\t\terrorSum[(i+1) % 2][next] = error;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\terrorSum[i % 2][j] = MAX;\n\t\t\t}\n\t\t}\n\n\t\tunsigned int minError = MAX;\n\t\tint lastIndex = n % 2;\n\t\tfor (int i = 0; i < 256; i++) {\n\t\t\tif(concerning[lastIndex][i]\n\t\t\t        && errorSum[lastIndex][i] < minError) {\n\t\t\t\tminError = errorSum[lastIndex][i];\n\t\t\t}\n\t\t}\n\t\tcout << minError << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <cmath>\n#include <cstdio>\n#include <functional>\n#include <numeric>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <utility>\n#include <sstream>\n#include <complex>\n\nusing namespace std;\n\n#define FOR(i,a,b) for(long long i=(a);i<(b);i++)\n#define REP(i,N) for(long long i=0;i<(N);i++)\n#define ALL(s) (s).begin(),(s).end()\n#define fi first\n#define se second\n\n#define PI acos(-1.0)\n#define INF 10000007\n#define EPS 1e-10\n\ntypedef long long ll;\ntypedef pair<ll, ll> P;\ntypedef pair<double, double> PD;\ntypedef pair<string, ll> PS;\ntypedef vector<ll> V;\ntypedef pair<P, char> PC;\n\nint n, m;\nint c[100], x[20000];\nint dp[20][300];\n\nint main(){\n\twhile (cin >> n >> m&&n + m){\n\t\tREP(i, 20)REP(j, 300)dp[i][j] = INF;\n\t\tREP(i, m)cin >> c[i];\n\t\tREP(i, n)cin >> x[i];\n\t\tdp[0][128] = 0;\n\t\tREP(i, n){\n\t\t\tREP(j, m){\n\t\t\t\tREP(k, 256){\n\t\t\t\t\tint num = k + c[j];\n\t\t\t\t\tif (num < 0)num = 0;\n\t\t\t\t\tif (num > 255)num = 255;\n\t\t\t\t\tdp[i + 1][num] = min(dp[i][k] + (x[i] - num)*(x[i] - num), dp[i + 1][num]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = INF;\n\t\tREP(i, 300){\n\t\t\tans = min(ans, dp[n][i]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <iostream>\n#include <utility>\n#include <algorithm>\n#include <string>\n#include <deque>\n#include <queue>\n#include <tuple>\n#include <queue>\n#include <functional>\n#include <cmath>\n#include <iomanip>\n#include <map>\n#include <set>\n#include <numeric>\n#include <unordered_map>\n#include <unordered_set>\n#include <complex>\n#include <iterator>\n#include <array>\n#include <memory>\n//cin.sync_with_stdio(false);\n//streambuf\nusing namespace std;\ntypedef long long ll;\ntypedef long double ld;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\ntypedef pair<double, double> pdd;\nusing vi = vector<int>;\nusing vll = vector<ll>;\nusing vpii = vector<pii>;\nusing vpll = vector<pll>;\nusing ti3 = tuple<int, int, int>;\nusing vti3 = vector<ti3>;\ntemplate<class T, int s>using va = vector<array<T, s>>;\ntemplate<class T, class T2> using umap = unordered_map<T, T2>;\ntemplate<class T> using uset = unordered_set<T>;\ntemplate<class T, class S> void cmin(T &a, const S &b) { if (a > b)a = b; }\ntemplate<class T, class S> void cmax(T &a, const S &b) { if (a < b)a = b; }\n#define ALL(a) a.begin(),a.end()\n#define rep(i,a) for(int i=0;i<a;i++)\n#define rep1(i,a) for(int i=1;i<=a;i++)\n#define rrep(i,a) for(int i=(a)-1;i>=0;i--)\n#define rrep1(i,a) for(int i=a;i;i--)\nconst ll mod = 1000000007;\n#define REP rep\ntemplate<class T>using heap = priority_queue<T, vector<T>, greater<T>>;\ntemplate<class T>using pque = priority_queue<T, vector<T>, function<T(T, T)>>;\ntemplate <class T>\ninline void hash_combine(size_t & seed, const T & v) {\n\thash<T> hasher;\n\tseed ^= hasher(v) + 0x9e3779b9 + (seed << 6) + (seed >> 2);\n}\nnamespace std {\n\ttemplate<typename S, typename T> struct hash<pair<S, T>> {\n\t\tinline size_t operator()(const pair<S, T> & v) const {\n\t\t\tsize_t seed = 0;\n\t\t\thash_combine(seed, v.first);\n\t\t\thash_combine(seed, v.second);\n\t\t\treturn seed;\n\t\t}\n\t};\n\t// Recursive template code derived from Matthieu M.\n\ttemplate <class Tuple, size_t Index = std::tuple_size<Tuple>::value - 1>\n\tstruct HashValueImpl{\n\t\tstatic void apply(size_t& seed, Tuple const& tuple){\n\t\t\tHashValueImpl<Tuple, Index - 1>::apply(seed, tuple);\n\t\t\thash_combine(seed, std::get<Index>(tuple));\n\t\t}\n\t};\n\ttemplate <class Tuple>\n\tstruct HashValueImpl<Tuple, 0>{\n\t\tstatic void apply(size_t& seed, Tuple const& tuple){\n\t\t\thash_combine(seed, std::get<0>(tuple));\n\t\t}\n\t};\n\ttemplate <typename ... TT>\n\tstruct hash<std::tuple<TT...>>{\n\t\tsize_t operator()(std::tuple<TT...> const& tt) const{\n\t\t\tsize_t seed = 0;\n\t\t\tHashValueImpl<std::tuple<TT...> >::apply(seed, tt);\n\t\t\treturn seed;\n\t\t}\n\t};\n}\ntemplate<class T>int id(vector<T> &a, T b) {\n\treturn lower_bound(ALL(a), b) - a.begin();\n}\nll pow(ll base, ll i, ll mod) {\n\tll a = 1;\n\twhile (i) {\n\t\tif (i & 1) {\n\t\t\ta *= base;\n\t\t\ta %= mod;\n\t\t}\n\t\tbase *= base;\n\t\tbase %= mod;\n\t\ti /= 2;\n\t}\n\treturn a;\n}\nll gcd(ll a, ll b) {\n\twhile (b) {\n\t\tll c = a%b;\n\t\ta = b;\n\t\tb = c;\n\t}\n\treturn a;\n}\nll lcm(ll a, ll b) {\n\treturn a / gcd(a, b)*b;\n}\nint popcnt(unsigned long long a) {\n\ta = (a & 0x5555555555555555) + (a >> 1 & 0x5555555555555555);\n\ta = (a & 0x3333333333333333) + (a >> 2 & 0x3333333333333333);\n\ta = (a & 0x0f0f0f0f0f0f0f0f) + (a >> 4 & 0x0f0f0f0f0f0f0f0f);\n\ta = (a & 0x00ff00ff00ff00ff) + (a >> 8 & 0x00ff00ff00ff00ff);\n\ta = (a & 0x0000ffff0000ffff) + (a >> 16 & 0x0000ffff0000ffff);\n\treturn (a & 0xffffffff) + (a >> 32);\n}\nclass unionfind {\n\tvector<int> par, rank, size_;//テゥツ?淌・ツコツヲテ」ツ?ァテ」ツ?ッテ」ツ?ェテ」ツ?湘」ツδ。テ」ツδ「テ」ツδェテ・ツ環ケテァツ篠?」ツつ津ィツ?ε」ツ?暗」ツつ凝」ツ?ェテ」ツつ詠ankテ」ツ?ョテ」ツ?凝」ツつ湘」ツつ甘」ツ?ォsizeテ」ツつ津、ツスツソテ」ツ??\npublic:\n\tunionfind(int n) :par(n), rank(n), size_(n, 1) {\n\t\tiota(ALL(par), 0);\n\t}\n\tint find(int x) {\n\t\tif (par[x] == x)return x;\n\t\treturn par[x] = find(par[x]);\n\t}\n\tvoid unite(int x, int y) {\n\t\tx = find(x), y = find(y);\n\t\tif (x == y)return;\n\t\tif (rank[x] < rank[y])swap(x, y);\n\t\tpar[y] = x;\n\t\tsize_[x] += size_[y];\n\t\tif (rank[x] == rank[y])rank[x]++;\n\t}\n\tbool same(int x, int y) {\n\t\treturn find(x) == find(y);\n\t}\n\tint size(int x) {\n\t\treturn size_[find(x)];\n\t}\n};\ntemplate<class T, class Func = function<T(T, T)>>\nclass segtree {\n\tvector<T> obj;\n\tint offset;\n\tFunc updater;\n\tT e;\n\tint bufsize(int num) {\n\t\tint i = 1;\n\t\tfor (; num >i; i <<= 1);\n\t\toffset = i - 1;\n\t\treturn (i << 1) - 1;\n\t}\n\tT query(int a, int b, int k, int l, int r) {\n\t\tif (r <= a || b <= l)return e;\n\t\tif (a <= l && r <= b)return obj[k];\n\t\telse return updater(query(a, b, k * 2 + 1, l, (l + r) / 2), query(a, b, k * 2 + 2, (l + r) / 2, r));\n\t}\n\t/*\n\ttemplate<class QF = function<T(T, T)>>\n\tauto query(int a, int b, int k, int l, int r,QF qf) {\n\t\tif (r <= a || b <= l)return e;\n\t\tif (a <= l && r <= b)return obj[k];\n\t\telse return qf(query(a, b, k * 2 + 1, l, (l + r) / 2, qf), query(a, b, k * 2 + 2, (l + r) / 2, r, qf));\n\t}*/\npublic:\n\tT query(int a, int b) {//[a,b)\n\t\treturn query(a, b, 0, 0, offset + 1);\n\t}/*\n\ttemplate<class QF = function<T(T, T)>>\n\tauto query(int a, int b,QF &&qf) {//[a,b)\n\t\treturn query(a, b, 0, 0, offset + 1,qf);\n\t}*/\n\tvoid updateall(int l = 0, int r = -1) {\n\t\tif (r < 0)r = offset + 1;\n\t\tl += offset, r += offset;\n\t\tdo {\n\t\t\tl = l - 1 >> 1, r = r - 1 >> 1;\n\t\t\tfor (int i = l; i < r; i++)obj[i] = updater(obj[i * 2 + 1], obj[i * 2 + 2]);\n\t\t} while (l);\n\t}\n\tvoid update(int k, T &a) {\n\t\tk += offset;\n\t\tobj[k] = a;\n\t\twhile (k) {\n\t\t\tk = k - 1 >> 1;\n\t\t\tobj[k] = updater(obj[k * 2 + 1], obj[k * 2 + 2]);\n\t\t}\n\t}\n\tsegtree(int n, T e, const Func &updater = Func()) :obj(bufsize(n), e), e(e), updater(updater) {}\n\tsegtree(vector<T> &vec, T e, const Func &updater = Func()) :obj(bufsize(vec.size()), e), e(e), updater(updater) {\n\t\tcopy(vec.begin(), vec.end(), obj.begin() + offset);\n\t\tupdateall();\n\t}\n\ttypename vector<T>::reference operator[](int n) {\n\t\treturn obj[n + offset];\n\t}\n};\ntemplate<class T = int>\nclass BIT {//テ・ツ、ツ堙ヲツャツ。テ・ツ?ィITテ」ツ?ッテ」ツδォテ」ツδシテ」ツδ療」ツつ津」ツδ催」ツつケテ」ツδ暗」ツ?凖」ツつ古」ツ?ーテ」ツ??」ツ??」ツつ嘉」ツ?療」ツ??」ツ??\n\tvector<T> bit;\n\tint n;\npublic:\n\tBIT(int n) :bit(n + 1, 0) {}\n\tvoid add(int i, T x) {\n\t\ti++;\n\t\twhile (i <= n) {\n\t\t\tbit[i] += x;\n\t\t\ti += i&-i;\n\t\t}\n\t}\n\tT sum(int i) {\n\t\tT s = 0;\n\t\ti++;\n\t\twhile (i) {\n\t\t\ts += bit[i];\n\t\t\ti &= i - 1;\n\t\t}\n\t\treturn s;\n\t}\n};\ntemplate<class T = int>\nclass rangeadd {\n\tBIT<T> b0, b1;\npublic:\n\trangeadd(int n) :b0(n), b1(n) {};\n\tvoid add(int l, int r, T x) {//[l,r)\n\t\tb0.add(l, -x*(l - 1));\n\t\tb1.add(l, x);\n\t\tb0.add(r, x*r);\n\t\tb1.add(r, -x);\n\t}\n\tT sum(int i) {\n\t\tif (i < 0)return 0;\n\t\treturn b0.sum(i) + b1.sum(i)*i;\n\t}\n\tT sum(int l,int r) {\n\t\treturn sum(r - 1) - sum(l - 1);\n\t}\n};\n//end of lib\n//template<class S=void,int ptr_num, class T = char>class trie {\n//\tumap<T, trie<S, ptr_num, T> next;\n//public:\n//\tS key;\n//\ttrie<S, ptr_num, T>* ptr[ptr_num] = {};\n//\ttrie(S &&data) :key(data) {}\n//\ttrie(const S &data) :key(data) {}\n//\tvoid add(T x,S data) {\n//\t\tif (!next.find(x))next.insert(x, data);\n//\t}\n//\ttrie& operator[](T x) {\n//\t\treturn next[x];\n//\t}\n//\tbool find(T x) {\n//\t\tretun next.find(x);\n//\t}\n//};\n//template<class T=char>class AhoCorasick {\n//\ttrie<pair<bool,int>, 2, T> tree;\n//\tAhoCorasick(vector<string> p) {\n//\t\tint num = 0;\n//\t\tvector<decltype(&tree)> que(p.size(),&tree);\n//\t\tfor (int i = 0;; i++) {\n//\t\t\tbool end = 1;\n//\t\t\tint i = 0;\n//\t\t\tfor (auto a : p) {\n//\t\t\t\tif (i >= a.size())break;\n//\t\t\t\tend = ;0\n//\t\t\t\tque[i] = (*que[i])[a[i]];\n//\t\t\t\ti++;\n//\t\t\t}\n//\t\t\tif (end)break;\n//\t\t}\n//\t}\n//};\nint main() {\n    int n, m;\n    while (cin >> n >> m, n) {\n        vi c(m), x(n);\n        rep(i, m)cin >> c[i];\n        rep(i, n)cin >> x[i];\n        vector<vi> dp(2, vi(256, 2e9));\n        dp[0][128] = 0;\n        rep(i, n){\n            fill(ALL(dp[(i + 1) & 1]), 2e9);\n            rep(j, m)rep(k, 256) {\n                int a = min(255, max(0, k + c[j]));\n                cmin(dp[(i + 1) & 1][a], dp[i & 1][k] + (a - x[i])*(a - x[i]));\n            }\n        }\n        cout << *min_element(ALL(dp[n & 1])) << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <cstring>\n#include <cmath>\n#include <limits>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <functional>\n#include <iomanip>\n\nusing namespace std;\n\n#ifdef LOCAL\n#define eprintf(...) fprintf(stderr, __VA_ARGS__)\n#else\n#define eprintf(...) 42\n#endif\nusing ll = long long;\nusing vll = std::vector<ll>;\nusing vvll = std::vector<vll>;\nusing vvvll = std::vector<vvll>;\n#define reps(i, S, E) for (ll i = (S); i <= (E); i++)\n#define rep(i, N) reps(i, 0, N-1)\n#define deps(i, E, S) for (ll i = (E); i >= (S); i--)\n#define dep(i, N) deps(i, N-1, 0)\nconst ll INF = 1LL << 60;\nconst int INF_INT = 1 << 30;\n\ntemplate<class T> inline bool chmax(T &a, T b) { if (a < b) { a = b; return true; }return false; }\ntemplate<class T> inline bool chmin(T &a, T b) { if (a > b) { a = b; return true; }return false; }\nstruct mll {\n\tstatic ll MOD;\n\tll val;\n\tmll(ll v = 0) : val(v % MOD) { if (val < 0) val += MOD; }\n\tmll operator - () const { return -val; }\n\tmll operator + (const mll &b) const { return val + b.val; }\n\tmll operator - (const mll &b) const { return val - b.val; }\n\tmll operator * (const mll &b) const { return val * b.val; }\n\tmll operator / (const mll &b) const { return mll(*this) /= b; }\n\tmll operator + (ll b) const { return *this + mll(b); }\n\tmll operator - (ll b) const { return *this - mll(b); }\n\tmll operator * (ll b) const { return *this * mll(b); }\n\tfriend mll operator + (ll a, const mll &b) { return b + a; }\n\tfriend mll operator - (ll a, const mll &b) { return -b + a; }\n\tfriend mll operator * (ll a, const mll &b) { return b * a; }\n\tmll &operator += (const mll &b) { val = (val + b.val) % MOD; return *this; }\n\tmll &operator -= (const mll &b) { val = (val + MOD - b.val) % MOD; return *this; }\n\tmll &operator *= (const mll &b) { val = (val*b.val) % MOD; return *this; }\n\tmll &operator /= (const mll &b) {\n\t\tll c = b.val, d = MOD, u = 1, v = 0;\n\t\twhile (d) {\n\t\t\tll t = c / d;\n\t\t\tc -= t * d; swap(c, d);\n\t\t\tu -= t * v; swap(u, v);\n\t\t}\n\t\tval = val * u % MOD;\n\t\tif (val < 0) val += MOD;\n\t\treturn *this;\n\t}\n\tmll &operator += (ll b) { return *this += mll(b); }\n\tmll &operator -= (ll b) { return *this -= mll(b); }\n\tmll &operator *= (ll b) { return *this *= mll(b); }\n\tmll &operator /= (ll b) { return *this /= mll(b); }\n\tbool operator == (const mll &b) { return val == b.val; }\n\tbool operator != (const mll &b) { return val != b.val; }\n\tbool operator == (ll b) { return *this == mll(b); }\n\tbool operator != (ll b) { return *this != mll(b); }\n\tfriend bool operator == (ll a, const mll &b) { return mll(a) == b.val; }\n\tfriend bool operator != (ll a, const mll &b) { return mll(a) != b.val; }\n\tfriend ostream &operator << (ostream &os, const mll &a) { return os << a.val; }\n\tfriend istream &operator >> (istream &is, mll &a) { return is >> a.val; }\n\tstatic mll Combination(ll a, ll b) {\n\t\tchmin(b, a - b);\n\t\tif (b < 0) return mll(0);\n\t\tmll c = 1;\n\t\trep(i, b) c *= a - i;\n\t\trep(i, b) c /= i + 1;\n\t\treturn c;\n\t}\n};\nusing vmll = std::vector<mll>;\nusing vvmll = std::vector<vmll>;\nusing vvvmll = std::vector<vvmll>;\nusing vvvvmll = std::vector<vvvmll>;\n\nstruct Fast {\n\tFast() {\n\t\tcin.tie(0);\n\t\tios::sync_with_stdio(false);\n\t\tcout << fixed << setprecision(std::numeric_limits<double>::max_digits10);\n\t}\n} fast; //cin,cout高速化のおまじない＋桁数指定\n\nll mll::MOD = (ll)(1e9 + 7);// 998244353ll;\n\n\nint main() {\n\twhile (true) {\n\t\tll N;\n\t\tcin >> N;\n\t\tll M;\n\t\tcin >> M;\n\n\t\tif (N == 0 && M == 0) {\n\t\t\tbreak;\n\t\t}\n\n\t\tvector<ll> C(M);\n\t\trep(i, M) {\n\t\t\tcin >> C[i];\n\t\t}\n\t\tvector<ll> X(N);\n\t\trep(i, N) {\n\t\t\tcin >> X[i];\n\t\t}\n\n\t\tvvll dp(N + 1, vll(256, INF)); //[iまで考えた][圧縮後の数値]=二乗誤差累計の最小値\n\t\tdp[0][128] = 0;\n\n\t\trep(i, N) {\n\t\t\trep(j, 256) {\n\t\t\t\tif (dp[i][j] == INF) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\trep(k, M) {\n\t\t\t\t\tll next = j + C[k];\n\t\t\t\t\tchmax(next, 0ll);\n\t\t\t\t\tchmin(next, 255ll);\n\t\t\t\t\tll err = (next - X[i]) * (next - X[i]);\n\t\t\t\t\tchmin(dp[i + 1][next], dp[i][j] + err);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tll result = INF;\n\t\trep(j, 256) {\n\t\t\tchmin(result, dp[N][j]);\n\t\t}\n\n\t\tcout << result << endl;\n\t}\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main(void){\n\tint n, m;\n\twhile(1){\n\t\tcin >> n >> m;\n\t\tif(!n&&!m) break;\n\t\tvector<int> c(m), x(n);\n\t\tfor(int i = 0; i < m; ++i){\n\t\t\tcin >> c[i];\n\t\t}\n\t\tfor(int i = 0; i < n; ++i){\n\t\t\tcin >> x[i];\n\t\t}\n\t\tvector<vector <int>> dp(n+2);\n\t\tfor(int i = 0; i < n+2; ++i){\n\t\t\tdp[i].resize(256);\n\t\t\tfor(int j = 0; j < 256; ++j){\n\t\t\t\tdp[i][j] = INT_MAX;\n\t\t\t}\n\t\t}\n\t\tdp[0][128]=0;\n\t\tfor(int i = 1; i <= n; ++i){\n\t\t\tfor(int j = 0; j < m; ++j){\n\t\t\t\tfor(int k = 0; k < 256; ++k){\n\t\t\t\t\tif(dp[i-1][k]==INT_MAX) continue;\n\t\t\t\t\tint next = k+c[j];\n\t\t\t\t\tif(next > 255) next = 255;\n\t\t\t\t\tif(next < 0) next = 0;\n\t\t\t\t\tdp[i][next] = min(dp[i][next], dp[i-1][k] + (int)pow(x[i-1]-next,2));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = INT_MAX;\n\t\tfor(int i = 0; i < 256; ++i){\n\t\t\tans = min(ans, dp[n][i]);\n\t\t\t//cout << dp[n][i] << \" \";\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<stdio.h>\n#include<vector>\n#include<algorithm>\n#include<set>\n#include<string>\n#include<map>\n#include<string.h>\n#include<complex>\n#include<math.h>\n#include<queue>\n#include <functional>\n#include<time.h>\n#include<iomanip>\nusing namespace std;\ntypedef long long int llint;\ntypedef pair<int, int> pint;\ntypedef pair<llint, llint> pllint;\ntypedef vector<int> vint;\ntypedef vector<llint> vllint;\ntypedef vector<pint> vpint;\ntypedef vector<string> vstring;\ntypedef vector<pair<llint, llint>> vpllint;\ntypedef vector<vector<int>> vvint;\ntypedef vector<vector<llint>> vvllint;\ntypedef vector<vector<pint>> vvpint;\ntypedef vector<bool> vbool;\ntypedef vector<vbool> vvbool;\n#define rep(i,n) for(int i=0;i<n;i++)\n#define drep(i,n) for(int i=n-1;0<=i;i--)\n#define yes(ans) if(ans)cout<<\"yes\"<<endl;else cout<<\"no\"<<endl;\n#define Yes(ans) if(ans)cout<<\"Yes\"<<endl;else cout<<\"No\"<<endl;\n#define YES(ans) if(ans)cout<<\"YES\"<<endl;else cout<<\"NO\"<<endl;\n#define POSSIBLE(ans) if(ans)cout<<\"POSSIBLE\"<<endl;else cout<<\"IMPOSSIBLE\"<<endl;\n#define Pi 3.1415926535897932384626\n#define mod llint(1e9+7)\n#define Inf 2147483647\n#define llInf 9223372036854775807\n#define all(x) x.begin(),x.end()\n#define pb push_back\n#define isin(n,i) 0<=i&&i<n\n\nclass UnionFind {\npublic:\n\t//親の番号を格納する。親だった場合は-(その集合のサイズ)\n\tvector<int> Parent;\n\n\t//作るときはParentの値を全て-1にする\n\t//こうすると全てバラバラになる\n\tUnionFind(int N) {\n\t\tParent = vector<int>(N, -1);\n\t}\n\n\t//Aがどのグループに属しているか調べる\n\tint root(int A) {\n\t\tif (Parent[A] < 0) return A;\n\t\treturn Parent[A] = root(Parent[A]);\n\t}\n\n\t//自分のいるグループの頂点数を調べる\n\tint size(int A) {\n\t\treturn -Parent[root(A)];//親をとってきたい\n\t}\n\n\t//AとBをくっ付ける\n\tbool connect(int A, int B) {\n\t\t//AとBを直接つなぐのではなく、root(A)にroot(B)をくっつける\n\t\tA = root(A);\n\t\tB = root(B);\n\t\tif (A == B) {\n\t\t\t//すでにくっついてるからくっ付けない\n\t\t\treturn false;\n\t\t}\n\n\t\t//大きい方(A)に小さいほう(B)をくっ付けたい\n\t\t//大小が逆だったらひっくり返しちゃう。\n\t\tif (size(A) < size(B)) swap(A, B);\n\n\t\t//Aのサイズを更新する\n\t\tParent[A] += Parent[B];\n\t\t//Bの親をAに変更する\n\t\tParent[B] = A;\n\n\t\treturn true;\n\t}\n};\n\n//セグ木・0-indexed・非再帰・(大きさ・単位元)で初期化\ntemplate<typename T>\nstruct SegTree {\n\t//比較関数の型\n\tusing F = function<T(T, T)>;\n\t//二分木を配列で表したもの\n\tvector<T>seg;\n\t//木の半分の大きさ\n\tint siz;\n\t//単位元\n\tconst T unit;\n\t//比較する関数\n\tconst F f;\n\n\t//大きさn、unit(単位元)でsegtreeを初期化する\n\tSegTree(int n, const T unit, const F f) : unit(unit), f(f) {\n\t\tsiz = 1;\n\t\twhile (siz < n)siz <<= 1;\n\t\tseg.assign(siz * 2 - 1, unit);\n\t\tsiz--;\n\t}\n\n\t//k番目にtを入力\n\tvoid set(int k, const T& t) {\n\t\tseg[k + siz] = t;\n\t}\n\n\t//fによって木を構築する\n\tvoid build() {\n\t\tfor (int i = siz - 1; 0 <= i; i--) {\n\t\t\tseg[i] = f(seg[i * 2 + 1], seg[i * 2 + 2]);\n\t\t}\n\t}\n\n\tT operator[](const int i) {\n\t\treturn seg[i + siz];\n\t}\n\n\t//k番目をxに更新する\n\tvoid update(int k, T x) {\n\t\tk += siz;\n\t\tseg[k] = x;\n\t\twhile (0 < k) {\n\t\t\tk = (k - 1) >> 1;\n\t\t\tseg[k] = f(seg[k * 2 + 1], seg[k * 2 + 2]);\n\t\t}\n\t}\n\n\t//[a,b)について、fした結果を返す\n\t//半開区域のためa以上b未満の位置を指す\n\tT query(int a, int b) {\n\t\tT l = unit, r = unit;\n\t\tfor (a += siz, b += siz; a < b; a >>= 1, b >>= 1) {\n\t\t\tif (!(a & 1))l = f(seg[a++], l);\n\t\t\tif (!(b & 1))r = f(seg[--b], r);\n\t\t}\n\t\treturn f(l, r);\n\t}\n};\n\n//aとbの最大公約数を求めるよ\nlong long GCD(long long a, long long b) {\n\tif (b == 0) return a;\n\telse return GCD(b, a % b);\n}\n\n// 返り値: a と b の最大公約数\n// ax + by = gcd(a, b) を満たす (x, y) が格納される\nlong long extGCD(long long a, long long b, long long& x, long long& y) {\n\tif (b == 0) {\n\t\tx = 1;\n\t\ty = 0;\n\t\treturn a;\n\t}\n\tlong long d = extGCD(b, a % b, y, x);\n\ty -= a / b * x;\n\treturn d;\n}\n\n// mod. m での a の逆元 a^{-1} を計算する\nlong long modinv(long long a, long long m) {\n\tlong long b = m, u = 1, v = 0;\n\twhile (b) {\n\t\tlong long t = a / b;\n\t\ta -= t * b; swap(a, b);\n\t\tu -= t * v; swap(u, v);\n\t}\n\tu %= m;\n\tif (u < 0) u += m;\n\treturn u;\n}\n\n//nCrを1000000007で割った余りを求める\nllint nCr(llint n, llint r) {\n\tllint ans = 1;\n\tfor (llint i = 0; i < r; i++) {\n\t\tans *= n - i;\n\t\tans %= 1000000007;\n\t}\n\tfor (llint i = 1; i <= r; i++) {\n\t\tans *= modinv(i, 1000000007);\n\t\tans %= 1000000007;\n\t}\n\treturn ans;\n}\n\n//aのb乗をmodで割った余りを求める\nllint power(llint a, llint b) {\n\tif (b == 1)return a;\n\tif (b == 0)return 1;\n\tllint tmp = power(a, (llint)b / 2);\n\ttmp *= tmp;\n\ttmp %= mod;\n\tif (b % 2 == 1) {\n\t\ttmp *= a;\n\t\ttmp %= mod;\n\t}\n\treturn tmp;\n}\n\nbool next_combination(llint& sub, int length) {\n\tllint x = sub & -sub, y = sub + x;\n\tsub = (((sub & ~y) / x) >> 1) | y;\n\treturn sub < (llint)(1 << (llint)length);\n}\n\nint main() {\n\tvint ans;\n\twhile (1) {\n\t\tint n, m;\n\t\tcin >> n >> m;\n\t\tif (n == 0 && m == 0)break;\n\t\tvint c(m);\n\t\trep(i, m)cin >> c[i];\n\t\tvint x(n);\n\t\trep(i, n)cin >> x[i];\n\t\tvvllint dp(n + 1, vllint(256, llInf));\n\t\tdp[0][128] = 0;\n\t\trep(i, n) {\n\t\t\trep(j, 256) {\n\t\t\t\tif (dp[i][j] == llInf)continue;\n\t\t\t\trep(k, m) {\n\t\t\t\t\tint next = j + c[k];\n\t\t\t\t\tif (next < 0)next = 0;\n\t\t\t\t\tif (255 < next)next = 255;\n\t\t\t\t\tdp[i + 1][next] = min(dp[i + 1][next], dp[i][j] + (llint)pow(x[i] - next, 2));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tllint tmp = llInf;\n\t\trep(i, 256) {\n\t\t\ttmp = min(tmp, dp[n][i]);\n\t\t}\n\t\tans.pb(tmp);\n\t}\n\trep(i, ans.size())cout << ans[i] << endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n\nusing namespace std;\ntypedef long long ll;\n\nll c[16], x[20000];\n\nll dp[20001][256];\n\nint main() {\n\twhile (1) {\n\t\tint n, m;\n\t\tcin >> n >> m;\n\t\tif (n + m == 0)break;\n\t\tfor (int i = 0; i < m; i++)cin >> c[i];\n\t\tfor (int i = 0; i < n; i++)cin >> x[i];\n\n\t\tfor (int i = 0; i <= 20000; i++)for (int j = 0; j < 256; j++)dp[i][j] = 1e18;\n\t\tdp[0][128] = 0;\n\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tfor (int j = 0; j <= 255; j++) {\n\t\t\t\tfor (int k = 0; k < m; k++) {\n\t\t\t\t\tll nxt = 0;\n\t\t\t\t\tnxt = j + c[k];\n\t\t\t\t\tif (nxt < 0)nxt = 0;\n\t\t\t\t\tif (nxt > 255)nxt = 255;\n\t\t\t\t\t\n\t\t\t\t\tdp[i + 1][nxt] = min(dp[i + 1][nxt], dp[i][j] + (x[i] - nxt) * (x[i] - nxt));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tll ans = 1e18;\n\n\t\tfor (int i = 0; i < 256; i++) {\n\t\t\tans = min(ans, dp[n][i]);\n\t\t}\n\t\tcout << ans << endl;\n\n\t}\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nconst int MAXN = 20001;\nconst int MAXM = 16;\nconst int MAXX = 256;\nconst int INF = 1<<28;\n\nint N, M;\nint C[MAXM], x[MAXN];\nint dp[2][MAXX];\n\nint main() {\n  while(cin >> N >> M && (N|M)) {\n    for(int i = 0; i < M; ++i) cin >> C[i];\n    for(int i = 0; i < N; ++i) cin >> x[i];\n    fill(dp[0], dp[2], INF);\n    dp[0][128] = 0;\n    for(int i = 0; i < N; ++i) {\n      const int now = i & 1, next = 1 - now;\n      for(int j = 0; j < MAXX; ++j) dp[next][j] = INF;\n      for(int j = 0; j < MAXX; ++j) {\n        for(int k = 0; k < M; ++k) {\n          int nj = min(MAXX - 1, j + C[k]);\n          dp[next][nj] = min(dp[next][nj],\n                             dp[now][j] + (x[i] - nj) * (x[i] - nj));\n        }\n      }\n    }\n    cout << *min_element(dp[N&1], dp[N&1] + MAXX) << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n \nusing namespace std;\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<VVI> VVVI;\ntypedef vector<string> VS;\ntypedef pair<int, int> PII;\ntypedef vector<PII> VPII;\ntypedef long long LL;\ntypedef priority_queue<int> PQ_DESC;\ntypedef priority_queue<int, vector<int>, greater<int>> PQ_ASC;\ntypedef priority_queue<PII> PQ_DESC_PII;\ntypedef priority_queue<PII, vector<PII>, greater<PII>> PQ_ASC_PII;\ntypedef vector<LL> VLL;\ntypedef vector<VLL> VVLL;\ntypedef vector<VVLL> VVVLL;\n\n#define SORT_ASC(c) sort((c).begin(), (c).end())\n#define SORT_DESC(c) sort((c).begin(), (c).end(), greater<typeof((c).begin())>())\n \n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n)  FOR(i,0,n)\n#define FORL(i,a,b) for(LL i=(a);i<(b);++i)\n#define REPL(i,n)  FORL(i,0,n)\n#define SIZE(a) int((a).size())\n#define ALL(a) (a).begin(),(a).end()\n \nconst double EPS = 1e-10;\nconst double PI  = acos(-1.0);\n\n //debug func\ntemplate<typename T>\nvoid vprint(vector<T> v) {\n    for(auto x : v) {\n        cerr << x << \" \";\n    }\n    cerr << endl;\n}\n \ntemplate<typename T>\nvoid vvprint(vector<vector<T>> vv) {\n    REP(i, SIZE(vv)) {\n        REP(j, SIZE(vv[i])) {\n            cerr << vv[i][j] << \" \";\n        }\n        cerr << endl;\n    }\n}\n\ntemplate <typename Iterator>\ninline bool next_combination(const Iterator first, Iterator k, const Iterator last)\n{\n   /* Credits: Thomas Draper */\n   if ((first == last) || (first == k) || (last == k))\n      return false;\n   Iterator itr1 = first;\n   Iterator itr2 = last;\n   ++itr1;\n   if (last == itr1)\n      return false;\n   itr1 = last;\n   --itr1;\n   itr1 = k;\n   --itr2;\n   while (first != itr1)\n   {\n      if (*--itr1 < *itr2)\n      {\n         Iterator j = k;\n         while (!(*itr1 < *j)) ++j;\n         iter_swap(itr1,j);\n         ++itr1;\n         ++j;\n         itr2 = k;\n         rotate(itr1,j,last);\n         while (last != j)\n         {\n            ++j;\n            ++itr2;\n         }\n         rotate(k,itr2,last);\n         return true;\n      }\n   }\n   rotate(first,k,last);\n   return false;\n}\n\ninline double get_time_sec(void){\n    return static_cast<double>(chrono::duration_cast<chrono::nanoseconds>(chrono::steady_clock::now().time_since_epoch()).count())/1000000000;\n}\n\ntemplate<typename T>\nT gcd(T a, T b) {\n    if(a > b) swap(a, b);\n    if(a == 0) return b;\n    else return gcd(b%a, a);\n}\n\ntemplate<typename T>\nT lcm(T a, T b) {\n    return (a / gcd(a, b)) * b;\n}\n\ntemplate<typename T>\nmap<T, T> prime_list(T n) {\n    map<T, T> ret;\n    for(T i = 2; i*i <= n; i++) {\n        if(n % i == 0) {\n            ret[i] = 0;\n            while(n % i == 0) {\n                n /= i;\n                ret[i]++;\n            }\n        }\n    }\n    if(n != 1) ret[n]++;\n    return ret;\n}\n\n#define MOD 1000000007\n\nLL mypow(LL a, LL n) {\n    if(n == 1) return a % MOD;\n    if(n % 2 == 1) return (a * mypow(a, n-1)) % MOD;\n    LL t = mypow(a, n/2);\n    return (t * t) % MOD; \n}\n\nLL mycomb(LL n, LL k) {\n    if(n == 0 || n == k) return 1;\n    LL x = 1, y = 1;\n    REP(i, k) {\n        x = x * (n-i) % MOD;\n        y = y * (i+1) % MOD;\n    }\n    return x * mypow(y, MOD - 2) % MOD;\n}\n\nint main(void) {\n    while(1) {\n        int n, m;\n        cin >> n >> m;\n        if(n == 0 && m == 0) return 0;\n        VI c(m), x(n);\n        REP(i, m) cin >> c[i];\n        REP(i, n) cin >> x[i];\n        VVI dp(n+1, VI(256, 1e9));\n        dp[0][128] = 0;\n        REP(i, n) {\n            REP(j, 256) {\n                REP(k, m) {\n                    int idx = j + c[k];\n                    if(idx < 0) idx = 0;\n                    if(idx > 255) idx = 255;\n                    dp[i+1][idx] = min(dp[i+1][idx], dp[i][j] + (x[i] - idx) * (x[i] - idx));\n                }\n            }\n        }\n        // vvprint(dp);\n        int ans = INT_MAX;\n        REP(i, 256) ans = min(ans, dp[n][i]);\n        cout << ans << endl;\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cmath>\n#include<cstdio>\n#include<algorithm>\n#include<vector>\n#include<cstring>\n#include<queue>\n#include<stack>\n\nusing namespace std;\n\n#define INF 999999999\n#define REP(i,n) for(int i=0; i<(int)(n); i++)\n\nlong long int dp[2][256];\n\nint main(){\n\tint i, j, m, n, c[16], x;\n\tlong long int ans;\n\twhile(1){\n\t\tcin >> n >> m;\n\t\tif(!n) break;\n\t\tans = INF;\n\t\tREP(a,2)REP(b,256) dp[a][b] = INF;\n\t\tdp[0][128]=0;\n\t\tREP(a,m) cin >> c[a];\n\t\tREP(a,n){\n\t\t\tcin >> x;\n\t\t\tREP(y,256){\n\t\t\t\tif(dp[0][y]!=INF){\n\t\t\t\t\tREP(z,m){\n\t\t\t\t\t\tif(y+c[z]<=0){\n\t\t\t\t\t\t\tif(dp[1][0]>=dp[0][y]+pow(x-0,2)){\n\t\t\t\t\t\t\t\tdp[1][0]=dp[0][y]+pow(x-0,2);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if(y+c[z]>=255){\n\t\t\t\t\t\t\tif(dp[1][255]>=dp[0][y]+pow(x-255,2)){\n\t\t\t\t\t\t\t\tdp[1][255]=dp[0][y]+pow(x-255,2);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tif(dp[1][y+c[z]]>=dp[0][y]+pow(x-y-c[z],2)){\n\t\t\t\t\t\t\t\tdp[1][y+c[z]]=dp[0][y]+pow(x-y-c[z],2);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tREP(b,256){\n\t\t\t\tdp[0][b]=dp[1][b];\n\t\t\t\tdp[1][b]=INF;\n\t\t\t}\n\t\t}\n\t\tREP(a,256)if(dp[0][a]<ans) ans = dp[0][a];\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\n#define GETA 256\n#define INF 1e18\n\nint err(int a, int b){ return (a - b) * (a - b); }\n\nint main(void){\n  while(true){\n    int n, m;\n    cin >> n >> m;\n    if(n == 0 && m == 0){ break; }\n\n    int input;\n    vector<bool> c(256 + GETA, false);\n    for(int i = 0; i < m; i++){\n      cin >> input;\n      c[input + GETA] = true;\n    }\n\n    vector<bool> lower_c(256 + GETA, false);\n    vector<bool> upper_c(256 + GETA, false);\n    for(int i = 1; i < 256 + GETA; i++){ lower_c[i] = c[i - 1] | lower_c[i - 1]; }\n    for(int i = 256 + GETA - 2; i >= 0; i--){ upper_c[i] = c[i + 1] | upper_c[i + 1]; }\n\n    vector<int> x(n + 1);\n    for(int i = 1; i <= n; i++){ cin >> x[i]; }\n    \n    vector<vector<long long int> > dp(n + 1, vector<long long int>(255 + 1, INF));\n    dp[0][128] = 0;\n    for(int i = 1; i <= n; i++){\n      for(int j = 0; j <= 255; j++){\n        for(int k = 0; k <= 255; k++){\n          int diff = j - k + GETA;\n          if(c[diff] || (j == 255 && upper_c[diff]) || (j == 0 && lower_c[diff])){\n            dp[i][j] = min(dp[i][j], dp[i - 1][k] + err(j, x[i]));\n          }\n        }\n      }\n    }\n\n    long long int ans = INF;\n    for(int i = 0; i <= 255; i++){ ans = min(ans, dp[n][i]); }\n    cout << ans << endl;\n  }\n    \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\ntypedef long long ll;\ntypedef long int li;\ntypedef long double lb;\n#define rep(i,j,n) for (ll i = j; i < (n); i++)\n#define repr(i,j,n) for(ll i = j; i >= (n); i--)\n#define all(x) (x).begin(),(x).end()\n#define CLR(mat,f) memset(mat, f, sizeof(mat))\n#define IN(a, b, x) (a<=x&&x<b)\n#define out(ans) cout << ans << endl\ntemplate<class T> inline bool chmax(T& a, T b) { if (a < b) { a = b; return 1; } return 0; }\ntemplate<class T> inline bool chmin(T& a, T b) { if (a > b) { a = b; return 1; } return 0; }\ntemplate<typename A, size_t N, typename T>\nvoid Fill(A (&array)[N], const T &val){\n    std::fill( (T*)array, (T*)(array+N), val );\n}\ntypedef pair<ll,ll>P;\nconst ll mod=1e9+7;\nconst ll INF = 1LL<<60;\n// const ll m=1LL<<32;\n\nint main(){\n\n  ll n,m;\n  while(cin>>n>>m){\n    if(n==m&&m==0)break;\n    ll c[m];rep(i,0,m)cin>>c[i];\n    ll x[n];rep(i,0,n)cin>>x[i];\n    ll dp[n+1][256];\n    rep(i,0,n+1)rep(j,0,256)dp[i][j]=INF;\n    dp[0][128]=0;\n    rep(i,1,n+1){\n      rep(j,0,m){\n        rep(k,0,256){\n          if(dp[i-1][k]!=INF){\n            ll p=k+c[j];\n            if(p<0)p=0;\n            if(p>255)p=255;\n            ll num=abs(p-x[i-1]);\n            chmin(dp[i][p],dp[i-1][k]+num*num);\n          }\n        }\n      }\n    }\n    ll ans=INF;\n    rep(i,0,256){\n      chmin(ans,dp[n][i]);\n    }\n\n    out(ans);\n  }\n\n\n\n\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef vector<ll> vl;\ntypedef vector<vl> vvl;\ntypedef pair<ll,ll> pl;\ntypedef vector<pl> vp;\n#define fore(i,a,b) for(ll i=(a);i<=(b);++i)\n#define rep(i,n) fore(i,0,(n)-1)\n#define rfore(i,a,b) for(ll i=(b);i>=(a);--i)\n#define rrep(i,n) rfore(i,0,(n)-1)\n#define all(x) (x).begin(),(x).end()\nconst ll INF=1001001001;\nconst ll LINF=1001001001001001001;\nconst ll D4[]={0,1,0,-1,0};\nconst ll D8[]={0,1,1,0,-1,-1,1,-1,0};\ntemplate<class T>\nbool chmax(T &a,const T &b){if(a<b){a=b;return 1;}return 0;}\ntemplate<class T>\nbool chmin(T &a,const T &b){if(b<a){a=b;return 1;}return 0;}\n\n#define N 1000005\nll dp[N][256];\nvoid solve(){\n    while(1){\n        ll n,m;cin>>n>>m;\n        if(n==0&&m==0)return;\n        vl c(m);rep(i,m)cin>>c[i];\n        vl x(n);rep(i,n)cin>>x[i];\n\n        rep(i,n+1)rep(j,256)dp[i][j]=LINF;\n        dp[0][128]=0;\n        rep(i,n){\n            rep(j,256){\n                rep(k,m){\n                    ll to=max(0LL,min(j+c[k],255LL));\n                    chmin(dp[i+1][to],dp[i][j]+(to-x[i])*(to-x[i]));\n                }\n            }\n        }\n        ll ans=LINF;\n        rep(i,256)chmin(ans,dp[n][i]);\n        cout<<ans<<endl;\n    }\n}\n\nint main(){\n    cin.tie(0);\n    ios::sync_with_stdio(0);\n    solve();\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\nconst int inf=1e8;\n\nvoid hoge(int N, int M){\n\n   int c[M];\n   for(int i=0; i<M; i++) cin>> c[i];\n   int x[N];\n   for(int i=0; i<N; i++) cin>> x[i];\n   int memo[N+1][256];\n   for(int i=0; i<N+1; i++){\n      for(int j=0; j<256; j++){\n         memo[i][j]=inf;\n      }\n   }\n\n   memo[0][128]=0;\n   for(int i=0; i<N; i++){\n      for(int j=0; j<256; j++){\n         if(memo[i][j]==inf) continue;\n         for(int k=0; k<M; k++){\n            int p=max(0, min(255, j+c[k]));\n            memo[i+1][p]=min(memo[i][j]+(p-x[i])*(p-x[i]), memo[i+1][p]);\n         }\n      }\n   }\n   int mi=1e8;\n   for(int j=0; j<256; j++) mi=min(mi, memo[N][j]);\n   cout<< mi<< endl;\n\n}\n\n\nint main(){\n\n   while(1){\n      int N, M;\n      cin>> N>> M;\n      if(!(N||M)) break;\n      hoge(N, M);\n   }\n   return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\nusing namespace std;\nint main(){\n  int N, M;\n  while(cin >> N >> M, N){\n    long long int C[M];\n    long long int INF = 10000000000LL;\n    for(int i = 0; i < M; ++i)\n      cin >> C[i];\n    sort(C,C+M);\n    long long int x[N];\n    for(int i = 0; i < N; ++i)\n      cin >> x[i];\n    long long int dp[N][256];\n    for(int i = 0; i < N; ++i){\n      fill(dp[i],dp[i]+256,INF);\n    }\n    for(int i = 0; i < M; ++i){\n      long long int t = max(min(255LL,128LL+C[i]),0LL);\n      dp[0][t] = (x[0]-t)*(x[0]-t);\n    }\n    for(int i = 1; i < N; ++i){\n      for(int j = 0; j < 256; ++j){\n\tif(dp[i-1][j] == INF) continue;\n\tfor(int k = 0; k < M; ++k){\n\t  long long int t = max(min(255LL,(long long)j+C[k]),0LL);\n\t  dp[i][t] = min(dp[i][t],dp[i-1][j] + (x[i]-t)*(x[i]-t));\n\t  if(j + (int)C[k] > 255) break;\n\t}\n      }\n    }\n    long long int ans = INF;\n    for(int i = 0; i < 256; ++i){\n      ans = min(ans, dp[N-1][i]);\n    }\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <cmath>\n#include <ctype.h>\n#include <string> \n#include <sstream>\n#include <iostream>\n#include <algorithm>\n#include <cstdlib>\n#include <map>\n#include <queue>\n#include <utility>\n#include <vector>\n#include <set>\n#include <list>\n#include <cstring>\n#include <stack>\n   \nusing namespace std;\n\nint result[20001][256];\n\nint main()\n{\n    int n, m;\n    while(1){\n        cin >> n >> m;\n        if(n == 0 && m == 0) break;\n        int c[17];\n        int x[20001];\n        for(int i = 0; i < m; i++){\n            cin >> c[i];\n        }\n        for(int j = 0; j < n; j++){\n            cin >> x[j];\n        }\n        \n        // result[i][j] : i???????????????j?????£?????¨?????????????????§???????????±?????????????°????\n        for(int i = 0; i < n + 1; i++){\n            for(int j = 0; j < 256; j++){\n                result[i][j] = -1;\n            }\n        }\n        for(int i = 0; i < m; i++){\n            int tmp = 128 + c[i];\n            if(tmp > 255) tmp = 255;\n            if(tmp < 0) tmp = 0;\n            result[0][tmp] = (tmp - x[0]) * (tmp - x[0]);\n        }\n        for(int i = 1; i < n; i++){\n            for(int j = 0; j < 256; j++){\n                if(result[i - 1][j] == -1) continue;\n                for(int k = 0; k < m; k++){\n                    int tmp = j + c[k];\n                    if(tmp > 255) tmp = 255;\n                    if(tmp < 0) tmp = 0;\n                    if(result[i][tmp] == -1 || result[i][tmp] > result[i - 1][j] + (tmp - x[i]) * (tmp - x[i])){\n                        result[i][tmp] = result[i - 1][j] + (tmp - x[i]) * (tmp - x[i]);\n                    }\n                }\n            }\n        }\n        // for(int i = 0; i < n; i++){\n        //     for(int j = 0; j < 256; j++){\n        //         cout << result[i][j] << \" \";\n        //     }\n        //     cout << endl;\n        // }\n        int ans = 100000000;\n        for(int i = 0; i < 256; i++){\n            if(result[n - 1][i] != -1) ans = min(ans, result[n - 1][i]);\n        }\n        cout << ans << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <queue>\n#include <cstring>\n#include <string>\n#include <cstdlib>\nusing namespace std;\n\n\nclass DP{\npublic:\n\tint cost, n, x;\n\tint Map[22*22];\n\t\n\tDP(){}\n\tDP(int xx, int nn, int cc){\n\t\tcost = cc;x=xx;n=nn;\n\t}\n\t\n\tbool operator< (const DP &opp) const {\n\t\treturn cost>opp.cost;\n\t}\n};\nint C[20];\nint x[20001];\nint visit[20001][256];\nint N, M;\nmain(){\n\tint i,j;\n\twhile(cin >> N >> M, N){\n\t\tmemset(visit, 0, sizeof(visit));\n\t\tfor(i=0;i<M;i++) cin >> C[i];\n\t\tfor(i=0;i<N;i++) cin >> x[i];\n\t\tpriority_queue<DP> dp;\n\t\tDP S;\n\t\tdp.push(DP(128, 0, 0));\n\t\twhile(!dp.empty()){\n\t\t\tS = dp.top();\n\t\t\tdp.pop();\n\t\t\tif(visit[S.n][S.x]) continue;\n\t\t\tvisit[S.n][S.x] ++;\n\n\t\t\tif(S.n == N) break;\n\t\t\tfor(i=0;i<M;i++){\n\t\t\t\tDP T=S;\n\t\t\t\tT.x += C[i];\n\t\t\t\tif(T.x > 255) T.x = 255;\n\t\t\t\tif(T.x < 0) T.x = 0;\n\t\t\t\t\n\t\t\t\tT.cost += (x[T.n]-T.x)*(x[T.n]-T.x);\n\t\t\t\tT.n ++;\n\t\t\t\tdp.push(T);\n\t\t\t}\n\t\t}\n\t\tcout << S.cost << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef long double ld;\ntemplate<class T>bool chmax(T &a, const T &b) { if (a<b) { a=b; return 1; } return 0; }\ntemplate<class T>bool chmin(T &a, const T &b) { if (b<a) { a=b; return 1; } return 0; }\nconst ll INF=1LL<<60;\nconst int inf=1<<30;\nconst int mod=1e9+7;\nint main(){\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    int n,m;\n    while(cin >> n >> m){\n        if(n==0&&m==0){\n            return 0;\n        }\n        vector<int> c(m),x(n);\n        for(int i=0;i<m;i++){\n            cin >> c[i];\n        }\n        for(int i=0;i<n;i++){\n            cin >> x[i];\n        }\n        vector<vector<int>> dp(n+1,vector<int>(256,inf));\n        dp[0][128]=0;\n        for(int i=0;i<n;i++){\n            for(int j=0;j<=255;j++){\n                if(dp[i][j]==inf){\n                    continue;\n                }\n                for(int k=0;k<m;k++){\n                    int t=max(0,min(255,j+c[k]));\n                    chmin(dp[i+1][t],dp[i][j]+(t-x[i])*(t-x[i]));\n                }\n            }\n        }\n        int ans=inf;\n        for(int i=0;i<=255;i++){\n            chmin(ans,dp[n][i]);\n        }\n        cout << ans << endl;\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cmath>\n#define int long long\nusing namespace std;\nint dp[20000][256];\nsigned main(){\n  for(int n,m;cin>>n>>m,n;){\n    int c[20000],x[20];\n    for(int i=0;i<n;i++) fill(dp[i],dp[i]+256,(int)1e9);\n    for(int i=0;i<m;i++) cin>>x[i];\n    for(int i=0;i<n;i++) cin>>c[i];\n    for(int i=0;i<m;i++) dp[0][x[i]+128]=(int)pow(x[i]+128-c[0],2);\n    for(int i=1;i<n;i++){\n      for(int j=0;j<256;j++){\n\tif(dp[i-1][j]!=(int)1e9){\n\t  for(int k=0;k<m;k++){\n\t    int num=j+x[k];\n\t    if(num<0) num=0;\n\t    if(num>255) num=255;\n\t    dp[i][num]=min(dp[i][num],dp[i-1][j]+(int)pow(c[i]-num,2));\n\t  }\n\t}\n      }\n    }\n    /*\n      for(int i=0;i<n;i++){\n      for(int j=0;j<256;j++) cout<<(dp[i][j]!=1e9?dp[i][j]:-1)<<\" \";\n      cout<<endl;\n      }*/\n    int sm=1e9;\n    for(int i=0;i<256;i++) sm=min(sm,dp[n-1][i]);\n    cout<<sm<<endl;\n  }\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <cmath>\n#include <algorithm>\n#include <stack>\n#include <queue>\n#include <vector>\ntypedef long long int ll;\n\n#define BIG_NUM 2000000000\n\nusing namespace std;\n\nint N,M;\nint** dp;\n\nvoid func(){\n\tint codeTable[M];\n\n\tfor(int i = 0; i < M; i++){\n\t\tscanf(\"%d\",&codeTable[i]);\n\t}\n\n\tint num;\n\tdp[0][128] = 0;\n\n\tfor(int count = 1; count <= N; count++){\n\t\tscanf(\"%d\",&num);\n\n\t\tfor(int i = 0; i <= 255; i++){\n\t\t\tif(dp[count-1][i] != BIG_NUM){\n\t\t\t\tfor(int k = 0; k < M; k++){\n\t\t\t\t\tif(i+codeTable[k] > 255){\n\t\t\t\t\t\tdp[count][255] = min(dp[count][255],dp[count-1][i]+(num-255)*(num-255));\n\t\t\t\t\t}else if(i+codeTable[k] < 0){\n\t\t\t\t\t\tdp[count][0]  = min(dp[count][0],dp[count-1][i]+(num)*(num));\n\t\t\t\t\t}else{\n\t\t\t\t\t\tdp[count][i+codeTable[k]] = min(dp[count][i+codeTable[k]],dp[count-1][i] + (num-(i+codeTable[k]))*(num-(i+codeTable[k])));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tint minimum = BIG_NUM;\n\n\tfor(int i = 0; i <= 255; i++){\n\t\tminimum = min(minimum,dp[N][i]);\n\t}\n\n\tprintf(\"%d\\n\",minimum);\n\n}\n\nint main(){\n\n\tdp = new int*[20001];\n\tfor(int i = 0; i <= 20000; i++){\n\t\tdp[i] = new int[256];\n\t}\n\n\twhile(true){\n\t\tscanf(\"%d %d\",&N,&M);\n\t\tif(N == 0 && M == 0)break;\n\n\t\tfor(int i = 0; i <= N; i++){\n\t\t\tfor(int k = 0; k <= 255; k++)dp[i][k] = BIG_NUM;\n\t\t}\n\n\t\tfunc();\n\t}\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <queue>\n#include <map>\n#include <set>\n#include <bitset>\n#include <math.h>\n#include <stack>\nusing namespace std;\ntypedef long long ll;\n\nint dp[20020][256];\n\nint main(){\n\tcin.tie(nullptr);\n\tios::sync_with_stdio(false);\n\twhile(1){\n\t\tint n,m; cin >> n >> m;\n\t\tif(n==0&&m==0)break;\n\t\tvector<int> c(m),x(n);\n\t\tfor(int i=0;i<m;i++){\n\t\t\tcin >> c[i];\n\t\t}\n\t\tfor(int i=0;i<n;i++){\n\t\t\tcin >> x[i];\n\t\t}\n\t\tfor(int i=0;i<=n;i++){\n\t\t\tfor(int j=0;j<256;j++){\n\t\t\t\tdp[i][j]=1e9;\n\t\t\t}\n\t\t}\n\t\tdp[0][128]=0;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tfor(int j=0;j<256;j++){\n\t\t\t\tif(dp[i][j]==1e9)continue;\n\t\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\t\tint now=j+c[k];\n\t\t\t\t\tnow=max(now,0);\n\t\t\t\t\tnow=min(now,255);\n\t\t\t\t\tdp[i+1][now]=min(dp[i+1][now],dp[i][j]+(x[i]-now)*(x[i]-now));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << *min_element(dp[n],dp[n]+256) << endl;\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "//#include \"bits/stdc++.h\"\n\n#include <iostream>\n#include <vector>\n// #include <map>\n// #include <string>\n#include <algorithm>\n// #include <numeric>\n// #include <limits>\n\nusing namespace std;\n\nint n;\nint m;\nuint x;\nvector<int> c;\nbool bef = 0;\nbool aft = 1;\nconst int size = 255 + 1;\nvector<vector<uint>> vec(2, vector<uint>(size, -1));\n\ninline uint mse(uint a, uint b) {\n\tuint diff = (a > b) ? (a - b) : (b - a);\n\treturn diff * diff;\n}\n\nuint calcBefMin(int i) {\n\tuint min_val = -1;\n\tfor (auto v : c) {\n\t\tint key = i - v;\n\t\tif (key < 0 or key > 255) {\n\t\t\tcontinue;\n\t\t}\n\t\tmin_val = min(min_val, vec[bef][key]);\n\t}\n\treturn min_val;\n}\n\ninline uint myplus(uint a, uint b) {\n\tuint m = -1;\n\tif (b <= m - a) { // check overflow\n\t\treturn a + b;\n\t}\n\treturn -1;\n\n}\n\nvoid solve() {\n\tc.resize(m);\n\tfor (int i = 0; i < m; i++) {\n\t\tcin >> c[i];\n\t}\n\tint c_max = *std::max_element(begin(c), end(c));\n\tint c_min = *std::min_element(begin(c), end(c));\n\tfor (int i = 0; i <= 255; i++) {\n\t\tvec[bef][i] = -1;\n\t}\n\tvec[bef][128] = 0;\n\tfor (int i = 0; i < n; i++) {\n\t\tcin >> x;\n\t\tint bef_key;\n\t\t// do\n\t\tfor (bef_key = 1; bef_key <= 254; bef_key++) {\n\t\t\tvec[aft][bef_key] = myplus(calcBefMin(bef_key), mse(bef_key, x));\n\t\t}\n\t\t// do for 255\n\t\tbef_key = 255;\n\t\tuint min_val = -1;\n\t\tfor (int key = bef_key - c_max; key <= 255; key++) {\n\t\t\tmin_val = min(min_val, vec[bef][key]);\n\t\t}\n\t\tvec[aft][bef_key] = myplus(min_val, mse(bef_key, x));\n\t\t// do for 0\n\t\tbef_key = 0;\n\t\tmin_val = -1;\n\t\tfor (int key = bef_key - c_min; key >= 0; key--) {\n\t\t\tmin_val = min(min_val, vec[bef][key]);\n\t\t}\n\t\tvec[aft][bef_key] = myplus(min_val, mse(bef_key, x));\n\t\t// for next\n\t\tbef = !bef;\n\t\taft = !aft;\n\t}\n\tcout << *std::min_element(begin(vec[bef]), end(vec[bef])) << endl; // bef is correct, because swaped\n}\n\nint main() {\n\n\n\twhile (true) {\n\t\tcin >> n >> m;\n\t\tif (n == 0 and m == 0) {\n\t\t\tbreak;\n\t\t}\n\t\tsolve();\n\t}\n\n\t//std::cout << \"\\e[38;5;0m\\e[48;5;40m --- end ---  \\e[m\" << std::endl; // debug\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "/*\n    Problem 45\n    https://onlinejudge.u-aizu.ac.jp/problems/2199\n*/\n#include <bits/stdc++.h>\nusing namespace std;\n/* typedef */\ntypedef long long ll;\ntypedef pair<int, int> pii;\n/* constant */\nconst ll LINF = 1LL << 50;\nconst int YMAX = 256;\nconst int YMIN = 0;\nconst int NMAX = 20004;\nconst int MMAX = 20;\n/* global variables */\nvector<ll> input(NMAX);\nvector<int> code(MMAX);\nvector<vector<ll>> dp(NMAX, vector<ll>(YMAX, LINF));\n/* function */\nvoid calc(int N, int M) {\n    for (int i = 0; i < M; i++) cin >> code[i];\n    for (int i = 0; i < N; i++) cin >> input[i];\n\n    // init\n    for (int i = 0; i <= N; i++) for (int j = YMIN; j < YMAX; j++) dp[i][j] = LINF;\n    dp[0][128] = 0;  // y0 = 128\n    // calc\n    // dp[i][j]\n    // iこ目のinpuまで圧縮して, yi == jである時の最小値\n    for (int i = 1; i <= N; i++) {  // 1 ~ Nこのinputを圧縮\n        for (int ypre = 0; ypre < YMAX; ypre++) {  // 前のyは\n            for (int j = 0; j < M; j++) {  // 何番目のcode\n                // 次のyi\n                ll yi = max(0, min(YMAX - 1, ypre + code[j]));  // 0 <= yi <= 255\n                ll cost = pow(yi - input[i-1], 2);\n                // dp[i][yi] <- dp[i-1][ypre]の遷移\n                dp[i][yi] = min(dp[i][yi], dp[i-1][ypre] + cost);\n            }\n        }\n    }\n\n    ll ans = *min_element(dp[N].begin(), dp[N].end());\n    cout << ans << '\\n';\n}\n/* main */\nint main(){\n    while (true) {\n        int N, M;\n        cin >> N >> M;\n        if (N + M == 0) return 0;\n        calc(N, M);\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<deque>\n#include<list>\n#include<map>\n#include<queue>\n#include<set>\n#include<stack>\n#include<vector>\n#include<algorithm>\n#include<string>\n#include<iostream>\n#include<sstream>\n#include<cmath>\n#include<cstdio>\n#include<cstring>\nusing namespace std;\nint a[16],b[20000],c[20001][256],n,m;\nint fi(int p,int q){\n  int i;\n  if(c[p][q]>=0)\n    return c[p][q];  \n  int mn=1<<30;\n  for(i=0;i<m;++i){\n    int r=min(max(0,q+a[i]),255);\n    mn=min(mn,fi(p+1,r)+(b[p]-r)*(b[p]-r));\n  }\n  return c[p][q]=mn;\n}\nint main(){\n  int i;\n  //int n,m;\n  while(cin>>n>>m,n||m){\n    //int a[16],b[20000];\n    for(i=0;i<m;++i)\n      cin>>a[i];\n    for(i=0;i<n;++i)\n      cin>>b[i];\n    memset(c,-1,n*256*sizeof(int));\n    memset(c[n],0,256*sizeof(int));\n    cout<<fi(0,128)<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i, n) for(int i = 0; i < (n); i++)\nusing namespace std;\nusing ll = long long;\nusing pii = pair<int, int>;\n\ntemplate<class T> inline bool chmin(T &a, T b) {\n\tif (a > b) { a = b; return true; }\n\telse return false;\n}\n\nconst ll INF = 1e18;\n\nint main() {\n\tint n, m;\n\twhile (cin >> n >> m) {\n\t\tif (n == 0 && m == 0) break;\n\t\tvector<int> c(m);\n\t\trep(i, m) cin >> c[i];\n\t\tvector<int> x(n);\n\t\trep(i, n) cin >> x[i];\n\t\t\n\t\tvector<vector<ll>> dp(n + 1, vector<ll>(256, INF));\n\t\tdp[0][128] = 0;\n\t\t\n\t\trep(i, n) {\n\t\t\trep(j, 256) {\n\t\t\t\tif (dp[i][j] == INF) continue;\n\t\t\t\trep(k, m) {\n\t\t\t\t\tint y = max(0, min(255, j + c[k]));\n\t\t\t\t\tll p = pow(y - x[i], 2);\n\t\t\t\t\tchmin(dp[i + 1][y], dp[i][j] + p);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tll ans = INF;\n\t\trep(i, 256) chmin(ans, dp[n][i]);\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#define  _CRT_SECURE_NO_WARNINGS\n#pragma comment (linker, \"/STACK:526000000\")\n\n#include \"bits/stdc++.h\"\n\nusing namespace std;\ntypedef string::const_iterator State;\n#define eps 1e-11L\n#define MAX_MOD 1000000007LL\n#define GYAKU 500000004LL\n\n#define MOD 998244353LL\n#define seg_size 262144*2LL\n#define pb push_back\n#define mp make_pair\ntypedef long long ll;\n#define REP(a,b) for(long long (a) = 0;(a) < (b);++(a))\n#define ALL(x) (x).begin(),(x).end()\n\nunsigned long xor128() {\n\tstatic unsigned long x = 123456789, y = 362436069, z = 521288629, w = time(NULL);\n\tunsigned long t = (x ^ (x << 11));\n\tx = y; y = z; z = w;\n\treturn (w = (w ^ (w >> 19)) ^ (t ^ (t >> 8)));\n}\n\nvoid init() {\n\tiostream::sync_with_stdio(false);\n\tcout << fixed << setprecision(20);\n}\n\n#define int ll\nint dp[30000][256] = {};\nvoid solve() {\n\twhile (true) {\n\t\tint n, m;\n\t\tcin >> n >> m;\n\t\tif (n == 0) return;\n\t\tREP(i, n + 1) {\n\t\t\tREP(q, 256) {\n\t\t\t\tdp[i][q] = 1e18;\n\t\t\t}\n\t\t}\n\t\tvector<int> inputs;\n\t\tREP(i, m) {\n\t\t\tint a;\n\t\t\tcin >> a;\n\t\t\tinputs.push_back(a);\n\t\t}\n\t\tdp[0][128] = 0;\n\t\tREP(i, n) {\n\t\t\tint a;\n\t\t\tcin >> a;\n\t\t\tREP(q, 256) {\n\t\t\t\tREP(t, inputs.size()) {\n\t\t\t\t\tint next = q + inputs[t];\n\t\t\t\t\tnext = min(next, 255LL);\n\t\t\t\t\tnext = max(next, 0LL);\n\t\t\t\t\tdp[i + 1][next] = min(dp[i + 1][next], dp[i][q] + (long long)pow(next - a, 2));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = 1e18;\n\t\tREP(i, 256) {\n\t\t\tans = min(ans, dp[n][i]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}\n\n#undef int\nint main() {\n\tinit();\n\tsolve();\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <queue>\n#include <stack>\n#include <string>\n#include <functional>\n#include <algorithm>\n#include <cmath>\nusing namespace std;\n\ntypedef long long ll;\n\nconst int MAX_N = 20000, MAX_M = 16;\nconst int INF = 1 << 30;\nint code_book[MAX_M];\nint dp[MAX_N + 1][256];\nint y[MAX_N + 1];\n\nint main()\n{\n    int N, M;\n    while(cin >> N >> M && N && M) {\n        for(int i = 0; i < M; i++) \n            cin >> code_book[i];\n        \n        for(int i = 1; i <= N; i++) \n            cin >> y[i];\n\n        for(int i = 0; i <= N; i++) \n            for(int j = 0; j <= 255; j++) \n                dp[i][j] = INF;\n        \n        dp[0][128] = 0;\n        for(int i = 0; i < N; i++) {\n            for(int j = 0; j <= 255; j++) {\n                for(int k = 0; k < M; k++) {\n                    int yn = j + code_book[k];\n                    if(yn > 255)\n                        yn = 255;\n                    else if(yn < 0)\n                        yn = 0;\n                    dp[i + 1][yn] = min(dp[i + 1][yn], dp[i][j] + (yn - y[i + 1]) * (yn - y[i + 1]));\n\n                }\n            }\n        }\n        \n        int ans = INF;\n        for(int j = 0; j <= 255; j++)\n            ans = min(ans, dp[N][j]);\n\n        cout << ans << endl;\n                      \n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <queue>\n#include <map>\n#include <cmath>\n#include <algorithm>\n#include <queue>\n#include <cstdarg>\n#include <set>\n#include <limits>\n#include <iomanip>\n\nusing namespace std;\n#define INF 2e9 + 9\n#define MOD 1000000007\n#define ALL(v) v.begin() , v.end()\n#define Int int64_t\n#define pll pair<Int,Int>\ntemplate<class T> using pql = priority_queue<T, vector<T>>;\ntemplate<class T> using pq = priority_queue<T, vector<T>, greater<T>>;\n#define ll(n) Int n; cin >> n;\n#define LL(...) Int __VA_ARGS___; cin >> __VA_ARGS___;\n#define OUT(...) cout << __VA_ARGS___;\n#define RP(n, i, s) for(Int i = s ;i < n ;i++)\n#define REP(n, i) for (Int i = 0; i < n; i++)\n#define REPe(n, i) for (Int i = 1; i <= n; i++)\n#define RPe(n, i, s) for (Int i = s; i <= n; i++)\n#define upd_max(maxer, updater) if (maxer < updater) maxer = updater;\n\nvoid ansYes(bool flag) {\n    if (flag) cout << \"Yes\" << endl; else cout << \"No\" << endl;\n}\n\nvoid ansYES(bool flag) {\n    if (flag) cout << \"YES\" << endl; else cout << \"NO\" << endl;\n}\n\nstruct node {\n    Int to;\n    Int length;\n};\n\n\nvector<Int> divisor(Int n) {\n    vector<Int> ret;\n    for (Int i = 1; i * i <= n; i++) {\n        if (n % i == 0) {\n            ret.push_back(i);\n            if (i * i != n) ret.push_back(n / i);\n        }\n    }\n    return (ret);\n}\n\n/*\nvector<vector<int>> to;\nvector<int> flag;\nvector<int> c;\n\n\nInt dfs(int from, int mae) {\n    flag[from] = 1;\n    Int mini = 0;\n    for (auto next : to[from]) {\n        if (next == mae) continue;\n        if (flag[next] == 1) {\n            return -1;\n        } else {\n            mini = min(mini, dfs(next, from));\n        }\n    }\n    return mini;\n}*/\n\nint dx8[8] = {0, -1, -1, -1, 0, 1, 1, 1};\nint dy8[8] = {-1, -1, 0, 1, 1, 1, 0, -1};\n\nint dx[4] = {0, -1, 0, 1};\nint dy[4] = {-1, 0, 1, 0};\n\nstruct datas {\n    Int max;\n    Int size;\n};\n\nclass ContainChecker {\nprotected:\n    Int minx, miny, maxx, maxy;\npublic:\n    ContainChecker(Int minx, Int miny, Int maxx, Int maxy) : minx(minx), miny(miny), maxx(maxx), maxy(maxy) {};\n\n    bool in(Int x, Int y) {\n        return (minx <= x && miny <= y && x <= maxx && y <= maxy);\n    }\n};\n\n\nint main(void) {\n    while(1) {\n        Int n, m;\n        cin >> n >> m;\n        if (n == 0) break;\n        vector<Int> code(m);\n        vector<Int> in(n);\n        vector<vector<Int>> dp(20001,vector<Int>(520,1e15));\n        REP(m, i) {\n            cin >> code.at(i);\n        }\n\n        REP(n, i) {\n            cin >> in.at(i);\n        }\n        dp[0][128+255] = 0;\n        REP(n, i) {\n            for (Int k = -255; k <= 255; k++) {\n                Int indexedk = k + 255;\n                if (dp[i][indexedk] != 1e15) {\n                    REP(m, p) {\n                        Int nextm = min(max(k + code.at(p),(Int)0),(Int)255);\n                        Int indexedm = nextm+255;\n                        Int nextwa = dp[i][indexedk] + pow((nextm - in.at(i)),2);\n                        if (dp[i+1][indexedm] > dp[i][indexedk] + (nextm - in.at(i)) * (nextm - in.at(i))) {\n                            dp[i+1][indexedm] = dp[i][indexedk] + (nextm - in.at(i)) * (nextm - in.at(i));\n                        }\n                    }\n                }\n            }\n        }\n        Int maxer = 1e15;\n        for (Int i = 0; i <= 510; i++){\n            if (dp[n][i] != 1e15) maxer = min(maxer,dp[n][i]);\n        }\n/*        for(Int k = 0; k <= 510; k++){\n\n            cout << k -255 << \" : \";\n            REP(n + 1, i){\n                cout << dp[i][k] << \" \";\n            }\n            cout << endl;\n        }*/\n\n        cout << maxer << endl;\n    }\n\n}\n\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\ntypedef long long ll;\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<ll> VL;\ntypedef vector<VL> VVL;\ntypedef pair<int, int> PII;\n\n#define FOR(i, a, n) for (ll i = (ll)a; i < (ll)n; ++i)\n#define REP(i, n) FOR(i, 0, n)\n#define ALL(x) x.begin(), x.end()\n#define MP make_pair\n#define PB push_back\n#define MOD 1000000007\n#define INF (1LL<<30)\n#define LLINF (1LL<<60)\n#define PI 3.14159265359\n#define EPS 1e-12\n#define int ll\n\nint c[16], x[20010], dp[20010][300];\nsigned main(void)\n{\n  while(true) {\n    int n, m;\n    cin >> n >> m;\n    if(!n && !m) break;\n    REP(i, m) cin >> c[i];\n    REP(i, n) cin >> x[i];\n\n    REP(i, n+1) REP(j, 256) dp[i][j] = INF;\n    dp[0][128] = 0;\n    REP(i, n) REP(j, 256) {\n      if(dp[i][j] != INF) {\n        REP(k, m) {\n          int tmp = j+c[k];\n          tmp = max(tmp, (ll)0);\n          tmp = min(tmp, (ll)255);\n          dp[i+1][tmp] = min(dp[i+1][tmp], dp[i][j] + (x[i]-tmp)*(x[i]-tmp));\n        }\n      }\n    }\n    /*\n    REP(j, n+1) {\n      FOR(i, 125, 140) {\n        if(dp[j][i] == INF) cout << -1 << \" \";\n        else cout << dp[j][i] << \" \";\n      }\n      cout << endl;\n    }*/\n\n    int ret = INF;\n    REP(i, 256) ret = min(ret, dp[n][i]);\n    cout << ret << endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define enld '\\n'\n#define rep(i,n) for(int i=0; i<(n); i++)\nusing namespace std;\nusing ll = long long;\nusing P = pair<int,int>;\n#pragma GCC target(\"sse,sse2,sse3,ssse3,sse4,popcnt,abm,mmx,avx,tune=native\")\n#pragma GCC optimize(\"Ofast\")\nconstexpr ll INF = 1e18;\nconstexpr int inf = 1e9;\nconstexpr double INFD = 1e100;\nconstexpr ll mod = 1000000007;\nconstexpr ll mod2 = 998244353;\nconst double PI = 3.1415926535897932384626433832795028841971;\nconst int dx[4] = {1, 0, -1, 0};\nconst int dy[4] = {0, 1, 0, -1};\ntemplate<class T> inline bool chmax(T& a, T b) { if (a < b) { a = b; return 1; } return 0; }\ntemplate<class T> inline bool chmin(T& a, T b) { if (a > b) { a = b; return 1; } return 0; }\n// ios::sync_with_stdio(false);\n// cin.tie(nullptr);\n// ---------------------------------------------------------------------------\n\n\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(nullptr);\n    int N,M;\n    cin >> N >> M;\n    while(N != 0){\n        vector<ll> C(M);\n        for(int i=0; i<M; i++){\n            cin >> C[i];\n        }\n        vector<ll> X(N);\n        for(int i=0; i<N; i++){\n            cin >> X[i];\n        }\n        vector<vector<ll>> dp(N+1, vector<ll> (256,INF));\n        dp[0][128] = 0;\n        for(int i=0; i<N; i++){\n            for(int j=0; j<=255; j++){\n                if(dp[i][j] == INF) continue;\n                for(int k=0; k<M; k++){\n                    if(C[k] < 0){\n                        chmin(dp[i+1][max(0LL,C[k]+j)],dp[i][j]+(max(0LL,C[k]+j)-X[i])*(max(0LL,C[k]+j)-X[i]));\n                    }else{\n                        chmin(dp[i+1][min(255LL,C[k]+j)],dp[i][j]+(min(255LL,C[k]+j)-X[i])*(min(255LL,C[k]+j)-X[i]));\n                    }\n                }\n            }\n        }\n        ll ans = INF;\n        for(int i=0; i<=255; i++){\n            if(dp[N][i] == INF) continue;\n            chmin(ans,dp[N][i]);\n        }\n        cout << ans << enld;\n        cin >> N >> M;\n    }\n\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n\nusing namespace std;\ntypedef long long ll;\n\nll c[16], x[20000];\n\nll dp[20001][256];\n\nint main() {\n\twhile (1) {\n\t\tint n, m;\n\t\tcin >> n >> m;\n\t\tif (n + m == 0)break;\n\t\tfor (int i = 0; i < m; i++)cin >> c[i];\n\t\tfor (int i = 0; i < n; i++)cin >> x[i];\n\n\t\tfor (int i = 0; i < 21; i++)for (int j = 0; j < 256; j++)dp[i][j] = 1e18;\n\t\tdp[0][128] = 0;\n\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tfor (int j = 0; j <= 255; j++) {\n\t\t\t\tfor (int k = 0; k < m; k++) {\n\t\t\t\t\tll nxt = 0;\n\t\t\t\t\tnxt = j + c[k];\n\t\t\t\t\tif (nxt < 0)nxt = 0;\n\t\t\t\t\tif (nxt > 255)nxt = 255;\n\t\t\t\t\t\n\t\t\t\t\tdp[i + 1][nxt] = min(dp[i + 1][nxt], dp[i][j] + (x[i] - nxt) * (x[i] - nxt));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tll ans = 1e18;\n\n\t\tfor (int i = 0; i < 256; i++) {\n\t\t\tans = min(ans, dp[n][i]);\n\t\t}\n\t\tcout << ans << endl;\n\n\t}\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#define MAX 2000000000\nusing namespace std;\nstatic int C[20000];\nstatic int x[20000];\nstatic int dp[20000][256];\nint main()\n{\n\tint N, M;\n\t\n\twhile (cin >> N >> M && N != 0 || M != 0)\n\t{\n\n\t\tfor (int i = 0; i < M; i++)\n\t\t{\n\t\t\tcin >> C[i];\n\t\t}\n\t\tfor (int i = 0; i < N; i++)\n\t\t{\n\t\t\tcin >> x[i];\n\t\t}\n\n\t\tfor (int i = 0; i < N + 1; i++)\n\t\t{\n\t\t\tfor (int j = 0; j < 256; j++)\n\t\t\t{\n\t\t\t\tif(i == 0)dp[i][j] = 0;\n\t\t\t\telse dp[i][j] = MAX;\n\t\t\t}\n\t\t}\n\t\tfor (int i = 0; i < N; i++)\n\t\t{\n\t\t\tif (i == 0)\n\t\t\t{\n\t\t\t\tfor (int k = 0; k < M; k++)\n\t\t\t\t{\n\t\t\t\t\tint y = 128 + C[k];\n\t\t\t\t\tif (y < 0)y = 0;\n\t\t\t\t\telse if (y > 255)y = 255;\n\t\t\t\t\tint next = y - x[i];\n\t\t\t\t\tdp[i + 1][y] = min(dp[i + 1][y], dp[i][128] + next * next);\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tfor (int j = 0; j < 256; j++)\n\t\t\t{\n\t\t\t\tif (dp[i][j] == MAX)continue;\n\t\t\t\tfor (int k = 0; k < M; k++)\n\t\t\t\t{\n\t\t\t\t\tint y = j + C[k];\n\t\t\t\t\tif (y < 0)y = 0;\n\t\t\t\t\telse if (y > 255)y = 255;\n\t\t\t\t\tint next = (y - x[i]);\n\t\t\t\t\tdp[i + 1][y] = min(dp[i + 1][y], dp[i][j] + next * next);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tint ans = MAX;\n\t\tfor (int i = 0; i < 256; i++)\n\t\t{\n\t\t\tans = min(ans, dp[N][i]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <bitset>\n#include <cassert>\n#include <cmath>\n#include <functional>\n#include <iomanip>\n#include <iostream>\n#include <map>\n#include <numeric>\n#include <queue>\n#include <unordered_map>\n#include <vector>\n#include <string.h>\n#include <set>\n#include <stack>\n\nusing namespace std;\n\n#define COUT(x) cout << #x << \" = \" << (x) << \" (L\" << __LINE__ << \")\" << endl\n\ntemplate<class T> void printvec(const vector<T>& v) {\n  for (auto x : v) { cout << x << \" \"; }\n  cout << endl;\n}\ntemplate<class T> void printtree(const vector< vector<T> >& tree) {\n  for (long long i = 0; i < tree.size(); ++i) {\n    cout << i + 1 << \": \"; printvec(tree[i]);\n  }\n}\ntemplate<class T, class U> void printmap(const map<T, U>& mp) {\n  for (auto x : mp) { cout << x.first << \"=>\" << x.second << endl; }\n}\n\ntemplate<class T> inline bool chmax(T& a, T b) { if (a < b) { a = b; return true; } return false; }\ntemplate<class T> inline bool chmin(T& a, T b) { if (a > b) { a = b; return true; } return false; }\n\n#define rep(i, n) for(ll i = 0; i < n; ++i)\n#define all(s) s.begin(), s.end()\n#define sz(x) (ll)(x).size()\n#define fr first\n#define sc second\n#define mp make_pair\n#define pb push_back\n#define eb emplace_back\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<ll, ll> P;\ntypedef tuple<ll, ll, ll> triple;\ntypedef double D;\ntypedef vector<ll> vl;\ntypedef vector<P> vp;\n\nconst ll INF = 1e15;\nconst ll MOD = 1000000007;  // 1e9 + 7\n\nint main(int argc, char** argv) {\n  cin.tie(NULL);\n  cout.tie(NULL);\n  ios_base::sync_with_stdio(false);\n  //cout << setprecision(10) << fixed;\n\n  while (true) {\n    ll n,m;\n    cin >> n >> m;\n    if (n == 0 && m == 0) { break; }\n    vector<ll> c(m);\n    rep(i,m) {\n      cin >> c[i];\n    }\n    vector<ll> x(n);\n    rep(i,n) {\n      cin >> x[i];\n    }\n\n    // dp[i][j] .. min cost using [0,i), select j as prev. j is in [0,255]\n    vector<vector<ll>> dp(n+1,vector<ll>(256, INF));\n    dp[0][128] = 0;\n    rep(i,n) {\n      rep(j,256) { // prev value\n        if (dp[i][j] == INF) { continue; }\n        // cout << \"dp[i][j]: \" << dp[i][j] << endl;\n        rep(k,m) {\n          ll now = j + c[k];\n          chmax(now, 0ll);\n          chmin(now, 255ll);\n          ll cost = (x[i]-now)*(x[i]-now); // when select k, cost is (x[i]-now)^2\n          chmin(dp[i+1][now], dp[i][j] + cost);\n        }\n      }\n    }\n\n    ll ans = INF;\n    rep(i,256) {\n      chmin(ans, dp[n][i]);\n    }\n    cout << ans << endl;\n  }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <climits>\nusing namespace std;\ntypedef long INT;\n\nint main( void )\n{\n\tint n, m; // N: üÍM, M: R[hubNÌ·³\n\twhile ( cin >> n >> m && n && m )\n\t{\n\t\t// üÍ\n\t\tvector <int> C(m);\n\t\tfor ( int i = 0; i < m; i++ )\n\t\t{\n\t\t\tcin >> C[i];\n\t\t}\n\t\tvector <int> x(n+1);\n\t\tx[0] = 0;\n\t\tfor ( int i = 0; i < n; i++ )\n\t\t{\n\t\t\tcin >> x[i+1];\n\t\t}\n\n\t\t// 3d[vµÄÝé\n\t\tvector <int> y(n+1);\n\t\ty[0] = 128;\n\t\tfor ( int p = 1; p <= n; p++ )\n\t\t{\n\t\t\tint prev_x = x[p];\n\t\t\tINT good = INT_MAX;\n\t\t\tint good_i = 0;\n\t\t\tfor ( int i = 0; i < m; i++ )\n\t\t\t{\n\t\t\t\t// left\n\t\t\t\tint prev_y = y[p-1] + C[i];\n\t\t\t\tfor ( int j = 0; j < m; j++ )\n\t\t\t\t{\n\t\t\t\t\t// right\n\t\t\t\t\tint next_x = p<n ? x[p+1] : 0;\n\t\t\t\t\tint next_y = p<n ? prev_y + C[j] : 0;\n\n\t\t\t\t\tif ( next_y < 0 ) next_y = 0;\n\t\t\t\t\tif ( next_y > 255 ) next_y = 255;\n\n\t\t\t\t\t// for debugging\n\t\t\t\t\t// cout << prev_x << \" \" << prev_y << \" - \" << next_x << \" \" << next_y << endl;\n\n\t\t\t\t\tINT sum = (prev_x-prev_y)*(prev_x-prev_y) + (next_x-next_y)*(next_x-next_y);\n\t\t\t\t\tif ( sum < good )\n\t\t\t\t\t{\n\t\t\t\t\t\tgood = sum;\n\t\t\t\t\t\tgood_i = i;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// for debugging\n\t\t\t// cout << good << \" \" << good_i << endl;\n\t\t\ty[p] = y[p-1] + C[good_i];\n\t\t\tif ( y[p] < 0 ) y[p] = 0;\n\t\t\tif ( y[p] > 255 ) y[p] = 255;\n\t\t}\n\n\t\tINT answer = 0;\n\t\tfor ( int p = 1; p <= n; p++ )\n\t\t{\n\t\t\tanswer += (x[p]-y[p])*(x[p]-y[p]);\n\t\t}\n\t\t\n\t\tcout << answer << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define r(i,n) for(int i=0;i<n;i++)\n#define INF 100000000\nint dp[20001][256];\n main(){\n  int n,m;\n  while(cin>>n>>m,n){\n    int b[m];int a[n+1];\n    r(i,m)cin>>b[i];\n    r(i,n)cin>>a[i+1];\n    r(i,n+1)r(j,256)dp[i][j]=INF;\n    dp[0][128]=1;\n    r(i,n)r(j,256)\n        if(dp[i][j]!=INF)r(k,m){\n          int p=j+b[k];\n          if(p>255)p=255;\n          if(p<0)p=0;\n          dp[i+1][p]=min(dp[i+1][p],dp[i][j]+(a[i+1]-p)*(a[i+1]-p));\n        }\n    int p=100000000;\n    r(i,256)if(dp[n][i]!=INF)\n      p=min(p,dp[n][i]);\n    cout<<p-1<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define PB push_back\n#define MP make_pair\n#define REP(i,n) for (int i=0;i<(n);i++)\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define ALL(a) (a).begin(),(a).end()\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> P;\nconst int INF=2e9;\ndouble EPS=1e-10;\nint main(){\n      int n,m;\n      while(cin>>n>>m&&(n||m)){\n            int a[n],b[m];\n            int dp[n+1][256];\n            REP(i,m)cin>>b[i];\n            REP(i,n)cin>>a[i];\n            REP(i,n+1)REP(j,256)dp[i][j]=-1;\n            dp[0][128]=0;\n            REP(i,n){\n                  REP(j,256){\n                        if(dp[i][j]==-1)continue;\n                        REP(k,m){\n                              int nxt=j+b[k];\n                              nxt=max(0,min(255,nxt));\n                              if(dp[i+1][nxt]==-1)dp[i+1][nxt]=dp[i][j]+(a[i]-nxt)*(a[i]-nxt);\n                              else dp[i+1][nxt]=min(dp[i+1][nxt],dp[i][j]+(a[i]-nxt)*(a[i]-nxt));\n                        }\n                  }\n            }\n            int ans=-1;\n            REP(i,256)if(dp[n][i]!=-1){\n                  if(ans==-1)ans=dp[n][i];\n                  else ans=min(ans,dp[n][i]);\n            }\n            cout<<ans<<endl;\n      }\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\n#include <vector>\nusing namespace std;\nint main(){\n  int N, M;\n  while(cin >> N >> M, N){\n    int C[M];\n    long long int INF = 10000000000LL;\n    for(int i = 0; i < M; ++i)\n      cin >> C[i];\n    sort(C,C+M);\n    int x[N];\n    for(int i = 0; i < N; ++i)\n      cin >> x[i];\n    vector< vector<long long int> > dp(N, vector<long long int>(256,INF));\n    for(int i = 0; i < M; ++i){\n      int t = max(min(255,128+C[i]),0);\n      dp[0][t] = (long long int)(x[0]-t)*(x[0]-t);\n    }\n    for(int i = 1; i < N; ++i){\n      for(int j = 0; j < 256; ++j){\n\tif(dp[i-1][j] == INF) continue;\n\tfor(int k = 0; k < M; ++k){\n\t  int t = max(min(255,j+C[k]),0);\n\t  dp[i][t] = min(dp[i][t], dp[i-1][j] + (long long int)(x[i]-t)*(x[i]-t));\n\t  if(j + C[k] > 255) break;\n\t}\n      }\n    }\n\n    long long int ans = INF;\n    for(int i = 0; i < 256; ++i){\n      ans = min(ans, dp[N-1][i]);\n    }\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n\nusing namespace std;\n\nconst int inf=1<<28;\n\n#define rep(i,n) for(int (i)=0;(i)<(n);(i)++)\n\nint n,m;\nint c[16];\nint x[20010];\nint dp[20010][256];\n\n\nint main(void){\n\t\n\twhile(cin >> n >> m,n|m){\n\t\trep(i,n+1)rep(j,256) dp[i][j]=inf;\n\t\trep(i,m) cin >> c[i];\n\t\trep(i,n) cin >> x[i];\n\t\tdp[0][128]=0;\t\t\t\n\t\trep(i,n)rep(j,256)rep(k,m){\n\t\t\tint next=j+c[k];\n\t\t\tif(next<0)next=0;\n\t\t\tif(next>255) next=255;\n\t\t\tdp[i+1][next]=min(dp[i+1][next],dp[i][j]+(next-x[i])*(next-x[i]));\n\t\t}\n\t\tint ans=inf;\n\t\trep(i,256) ans=min(ans,dp[n][i]);\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <cmath>\n#include <algorithm>\n#include <stack>\n#include <queue>\n#include <vector>\ntypedef long long int ll;\n\n#define BIG_NUM 2000000000\n\nusing namespace std;\n\nint N,M;\nint** dp;\n\nvoid func(){\n\tint codeTable[M];\n\n\tfor(int i = 0; i < M; i++){\n\t\tscanf(\"%d\",&codeTable[i]);\n\t}\n\n\tint num;\n\tdp[0][128] = 0;\n\n\tfor(int count = 1; count <= N; count++){\n\t\tscanf(\"%d\",&num);\n\n\t\tfor(int i = 0; i <= 255; i++){\n\t\t\tif(dp[count-1][i] != BIG_NUM){\n\t\t\t\tfor(int k = 0; k < M; k++){\n\t\t\t\t\tif(i+codeTable[k] > 255){\n\t\t\t\t\t\tdp[count][255] = min(dp[count][255],dp[count-1][i]+(num-255)*(num-255));\n\t\t\t\t\t}else if(i+codeTable[k] < 0){\n\t\t\t\t\t\tdp[count][0]  = min(dp[count][0],dp[count-1][i]+(num)*(num));\n\t\t\t\t\t}else{\n\t\t\t\t\t\tdp[count][i+codeTable[k]] = min(dp[count][i+codeTable[k]],dp[count-1][i] + (num-(i+codeTable[k]))*(num-(i+codeTable[k])));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tint minimum = BIG_NUM;\n\n\tfor(int i = 0; i <= 255; i++){\n\t\tminimum = min(minimum,dp[N][i]);\n\t}\n\n\tprintf(\"%d\\n\",minimum);\n\n}\n\nint main(){\n\n\tdp = new int*[20001];\n\tfor(int i = 0; i <= 20000; i++){\n\t\tdp[i] = new int[256];\n\t}\n\n\twhile(true){\n\t\tscanf(\"%d %d\",&N,&M);\n\t\tif(N == 0 && M == 0)break;\n\n\t\tfor(int i = 0; i <= N; i++){\n\t\t\tfor(int k = 0; k <= 255; k++)dp[i][k] = BIG_NUM;\n\t\t}\n\n\t\tfunc();\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <utility>\n#include <queue>\n#include <climits>\n#include <cstddef>\n\nuint64_t dp[20001][256];\n//     ^???????????????????????????i\n//            ^y_i??????\n\nint round(int x) {\n  if (x < 0) {\n    return 0;\n  }\n  if (x > 255) {\n    return 255;\n  }\n  return x;\n}\n\nint main() {\n  int N, M;\n  while (std::cin >> N >> M) {\n    if (N == 0 && M == 0) {\n      break;\n    }\n    std::vector<int> x(N);\n    std::vector<int> C(M);\n    for (int i = 0; i < M; i++) {\n      std::cin >> C[i];\n    }\n    for (int i = 0; i < N; i++) {\n      std::cin >> x[i];\n    }\n\n    uint64_t inf = 1ull << 30;\n    for(int i = 0; i < N + 1; i++) {\n      for (int j = 0; j < 256; j++) {\n        dp[i][j] = inf;\n      }\n    }\n    dp[0][128] = 0;\n\n    for (int i = 0; i < N; i++) {\n      for (int j = 0; j < 256; j++) {\n        if (dp[i][j] == inf) {\n          continue;\n        }\n\n        for(auto c : C) {\n          int y = round(j + c);\n          int diff = x[i] - y;\n          int new_value = dp[i][j] + diff * diff;\n          if (new_value < dp[i + 1][y]) {\n            dp[i + 1][y] = new_value;\n          }\n        }\n      }\n    }\n\n    int min = inf;\n    for (int j = 0; j < 256; j++) {\n      if (dp[N][j] < min) {\n        min = dp[N][j];\n      }\n    }\n    std::cout << min << std::endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\n\nll dp[20202][256];\n\nint main(){\n    for(ll N, M; cin >> N >> M, N;){\n        vector<ll>C(M), X(N);\n        for(ll i = 0; i < M; i++)cin >> C[i];\n        for(ll i = 0; i < N; i++)cin >> X[i];\n        for(ll i = 0; i <= N; i++){\n            for(ll j = 0; j < 256; j++)dp[i][j] = 1145141919;\n        }\n        dp[0][128] = 0;\n        for(ll i = 0; i < N; i++){\n            for(ll j = 0; j < 256; j++){\n                if(dp[i][j] == 1145141919)continue;\n                for(ll k = 0; k < M; k++){\n                    ll nxt = j + C[k];\n                    if(nxt < 0)nxt = 0;\n                    if(nxt > 255)nxt = 255;\n                    dp[i + 1][nxt] = min(dp[i + 1][nxt], dp[i][j] + (nxt - X[i])*(nxt - X[i]));\n                }\n            }\n        }\n        ll ans = dp[N][0];\n        for(ll i = 0; i < 256; i++)ans = min(ans, dp[N][i]);\n        cout << ans << endl;\n    }\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "//Yattazo! Watashiha-Yosen-tsuukashita! It's 460points/600points! OHO!!!!!\n#include<iostream>\n#include<algorithm>\n#include<cmath>\nusing namespace std;\nint x[65600][256],n,m,y[65600],z[65600],d,minx;\nint main(){\n\twhile(true){\n\t\tminx=2000000000;\n\t\tfor(int i=0;i<65536;i++){for(int j=0;j<256;j++){x[i][j]=2000000000;}}\n\t\tcin>>n>>m;if(!n){break;}\n\t\tfor(int i=0;i<m;i++){cin>>y[i];}\n\t\tfor(int i=1;i<=n;i++){cin>>z[i];}\n\t\tx[0][128]=0;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tfor(int j=0;j<256;j++){\n\t\t\t\tif(x[i-1][j]<1000000000){\n\t\t\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\t\t\td=y[k]+j;\n\t\t\t\t\t\tif(d<0){d=0;}\n\t\t\t\t\t\tif(d>255){d=255;}\n\t\t\t\t\t\tx[i][d]=min(x[i][d],x[i-1][j]+(int)pow(1.0*(z[i]-d),2));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor(int i=0;i<256;i++){minx=min(minx,x[n][i]);}\n\t\tcout<<minx<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long int ll;\nconst int INF = 1000000000;\n#define REP(i,s,n) for(int i=(int)(s);i<(int)(n);i++)\n#define rep(i,n) REP(i, 0, n)\nint square(int x){\n    return x * x;\n}\nint compress(int x){\n    if(x >= 256) return 255;\n    if(x < 0) return 0;\n    return x;\n}\nint main(){\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    int N, M;\n    while(cin >> N >> M && N){\n        vector<int> c(M), x(N);\n        rep(i, M) cin >> c[i];\n        rep(i, N) cin >> x[i];\n        vector<vector<int> > dp(2, vector<int>(256, INF));\n        //dp[i][j] := i???????????§???????????????j?????¨??????????????????????°????\n        int crr = 0, nxt = 1;\n        dp[crr][128] = 0;\n        rep(k, N){\n            rep(i, 256) dp[nxt][i] = INF;\n            rep(i, 256) rep(j, M){\n                int it = compress(i + c[j]);\n                dp[nxt][it] = min(dp[nxt][it], dp[crr][i] + square(it - x[k]));\n            }\n            swap(crr, nxt);\n        }\n        int ans = INF;\n        rep(i, 256) ans = min(ans, dp[crr][i]);\n        cout << ans << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "\n#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <climits>\n#include <cfloat>\n#include <cstring>\n#include <map>\n#include <utility>\n#include <set>\n#include <iostream>\n#include <memory>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <functional>\n#include <sstream>\n#include <complex>\n#include <stack>\n#include <queue>\n#include <unordered_set>\n#include <unordered_map>\n#include <array>\nusing namespace std;\n\nconst int INF = 987654321;\n\nint main(void)\n{\n\tfor (;;)\n\t{\n\t\tint n, m;\n\t\tcin >> n >> m;\n\t\tif (!n)break;\n\t\tvector<int>c;\n\t\tfor (int i = 0; i < m; ++i)\n\t\t{\n\t\t\tint cc; cin >> cc;\n\t\t\tc.push_back(cc);\n\t\t}\n\t\tarray<int, 256>dp;\n\t\tfill(dp.begin(), dp.end(), INF);\n\t\tdp[128] = 0;\n\t\tfor (int i = 1; i <= n; ++i)\n\t\t{\n\t\t\tarray<int, 256>ndp;\n\t\t\tfill(ndp.begin(), ndp.end(), INF);\n\t\t\tint x;\n\t\t\tcin >> x;\n\t\t\tfor (int val = 0; val < 256; ++val)\n\t\t\t{\n\t\t\t\tif (val == 0)\n\t\t\t\t{\n\t\t\t\t\tint gap = -1;\n\t\t\t\t\tfor (int ck : c)gap = max(gap, -ck);\n\t\t\t\t\tfor (int old = 0; old <= gap; ++old)\n\t\t\t\t\t{\n\t\t\t\t\t\tndp[val] = min(ndp[val], dp[old] + (x - val) * (x - val));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (val == 255)\n\t\t\t\t{\n\t\t\t\t\tint gap = 0;\n\t\t\t\t\tfor (int ck : c)gap = max(gap, ck);\n\t\t\t\t\tfor (int old = 255 - gap; old < 256; ++old)\n\t\t\t\t\t{\n\t\t\t\t\t\tndp[val] = min(ndp[val], dp[old] + (x - val) * (x - val));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tfor (int ck : c)\n\t\t\t\t\t{\n\t\t\t\t\t\tint old = val - ck;\n\t\t\t\t\t\tif (old < 0)old = 0;\n\t\t\t\t\t\tif (old >= 256)old = 255;\n\t\t\t\t\t\tndp[val] = min(ndp[val], dp[old] + (x - val) * (x - val));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tdp = ndp;\n\t\t}\n\t\tint ans = INF;\n\t\tfor (int can : dp)\n\t\t{\n\t\t\tans = min(ans, can);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<(n);i++)\nusing namespace std;\nint N,M;\nint C[20];\nint X[20004];\nconst long long INF = 1000000000000;\nlong long dp[20004][260];\nlong long dfs(int i_,int y_) {\n    if(i_ == N) return dp[i_][y_] = 0;\n    if(dp[i_][y_]!=INF) return dp[i_][y_];\n\n    long long ret = INF;\n\n    rep(i,M) {\n        int y = y_ + C[i];\n        y = max(y,0);\n        y = min(y,255);\n        //cout<<y<<\",\"<<X[i_]<<endl;\n        ret = min(ret,dfs(i_+1,y)+(X[i_]-y)*(X[i_]-y));\n\n    }\n    //cout<<i_<<\",\"<<y_<<\",\"<<ret<<endl;\n    return dp[i_][y_] = ret;\n\n}\nvoid solve() {\n    rep(i,20004) rep(j,260) dp[i][j] = INF;\n    rep(i,M) cin>>C[i];\n    rep(i,N) cin>>X[i];\n    long long ans = INF;\n    ans = min(ans,dfs(0,128));\n    cout<<ans<<endl;\n    rep(i,M) C[i] = 0;\n    rep(i,N) X[i] = 0;\n\n}\nint main() {\n    while(cin>>N>>M) {\n        if(N+M==0) return 0;\n        solve();\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<vector>\n#include<cstdio>\n#include<sstream>\n#include<algorithm>\n#include<cmath>\n#include<map>\n#include<functional>\n#include<queue>\n#include<stack>\n#include<set>\nusing namespace std;\n\nint ta[20],c[25000];\nint dp[20003][256];\nconst int INF=1800000000;\nint main(){\n\tint n,m;\n\twhile(cin>>n>>m,n+m){\n\tfor(int i=0;i<m;i++)cin>>ta[i];\n\tfor(int j=0;j<n;j++)cin>>c[j];\n\t\n\tfor(int i=0;i<20003;i++)fill(dp[i],dp[i]+256,INF);\n\tdp[0][128]=0;\n\tfor(int i=0;i<n;i++){\n\t\tfor(int j=0;j<256;j++){\n\t\t\tif(dp[i][j]!=INF){\n\t\t\t\tint tmp=j;\n\t\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\t\tif(j+ta[k]<0)tmp=0;\n\t\t\t\t\telse if(j+ta[k]>255)tmp=255;\n\t\t\t\t\telse tmp=j+ta[k];\n\t\t\t\t\tdp[i+1][tmp]=min( dp[i+1][tmp] ,dp[i][j]+ (c[i]-tmp)*(c[i]-tmp) );\n\t\t\t\t}\n\t\t\t}//endif\n\t\t}\n\t}\n\t/*for(int i=0;i<=n;i++){\n\t\tfor(int j=120;j<=140;j++){\n\t\tcout<<dp[i][j]<<\" \";\n\t\t}\n\t\tcout<<\"\\n\";\n\t}*/\n\tint ans=INF;\n\tfor(int i=0;i<256;i++)ans=min(ans,dp[n][i]);\n\tcout<<ans<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#define NUM 255\nusing namespace std;\ntypedef long long ll;\n#define int ll\nint min(int a,int b){\n  return (a<b)?a:b;\n}\nsigned main(){\n  int n,m,y,num,ma_c,mi_c;\n  cin >> n >> m;\n  while(n!=0){\n   int c[m],x[n],low=100000000; \n   ma_c=-300,mi_c=300;\n   vector<int> dp[20001];\n    for(int i=0;i<m;i++){\n      cin >> c[i];\n      ma_c=(ma_c<c[i])?c[i]:ma_c;\n      mi_c=(mi_c>c[i])?c[i]:mi_c;\n    }\n    for(int i=0;i<n;i++){\n      cin >> x[i];\n    }\n    for(int i=0;i<=n;i++){\n      for(int j=0;j<=NUM;j++){\n        dp[i].push_back(-1);\n      }\n    }\n    dp[0][128]=0;\n    for(int i=1;i<=n;i++){\n      for(int j=NUM-ma_c;j<=NUM;j++){\n        if(dp[i-1][j]!=-1){\n          if(dp[i][NUM]==-1)dp[i][NUM]=dp[i-1][j]+(x[i-1]-NUM)*(x[i-1]-NUM);\n          else dp[i][NUM] = min(dp[i-1][j]+(x[i-1]-NUM)*(x[i-1]-NUM),dp[i][NUM]);\n        } \n      }\n      for(int j=-mi_c;j>=0;j--){\n        if(dp[i-1][j]!=-1){\n          if(dp[i][0]==-1)dp[i][0]=dp[i-1][j]+(x[i-1])*(x[i-1]);\n          else dp[i][0] = min(dp[i-1][j]+(x[i-1])*(x[i-1]),dp[i][0]);\n        } \n      }\n      for(int j=0;j<=NUM;j++){\n        for(int k=0;k<m;k++){\n          num=j-c[k];\n          if(num<0) continue;\n          else if(num>NUM)continue;\n          if(dp[i-1][num]!=-1){\n            if(dp[i][j]==-1) dp[i][j]=dp[i-1][num]+(x[i-1]-j)*(x[i-1]-j);\n            else dp[i][j]=min(dp[i-1][num]+(x[i-1]-j)*(x[i-1]-j),dp[i][j]);\n          }\n        }\n//        cout << i<<\" \"<<j<<\" \"<<dp[i][j]<<endl;\n      }\n    }\n//    for(int i=0;i<=n;i++){for(int j=0;j<=NUM;j++)cout <<dp[i][j]<<\" \";cout << endl;}\n    for(int i=0;i<=NUM;i++){\n      if(dp[n][i]!=-1){\n        low=min(low,dp[n][i]);\n      }\n    }\n    cout << low<<endl;\n    cin >> n >> m;\n  }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef pair<ll,ll> pll;\n\nll inf=1e18;\n\nint main() {\n  while(1) {\n    ll n,m;\n    ll mx=255,mi=0;\n    cin >> n >> m;\n    if(n==0&&m==0) break;\n    vector<ll> code(m);\n    for(ll i=0;i<m;i++) {\n      cin >> code[i];\n    }\n    vector<ll> a(n);\n    for(ll i=0;i<n;i++) {\n      cin >> a[i];\n    }\n    vector<vector<ll>> dp(n+1,vector<ll> (256,inf));\n    dp[0][128]=0;\n    for(ll i=0;i<n;i++) {\n      for(ll j=0;j<256;j++) {\n        for(ll k=0;k<m;k++) {\n          ll temp=j+code[k];\n          temp=max(mi,min(mx,temp));\n          dp[i+1][temp]=min(dp[i+1][temp],dp[i][j]+(a[i]-temp)*(a[i]-temp));\n        }\n      }\n    }\n    ll ans=inf;\n    for(ll i=0;i<256;i++) {\n      ans=min(dp[n][i],ans);\n    }\n    cout << ans << endl;\n  }\n}\n"
  },
  {
    "language": "C++",
    "code": "#pragma GCC optimize(\"Ofast\")\n#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\n#define EPS (1e-7)\n#define INF (1e9)\n#define rep(i, n) for(int i = 0; i < (int)(n); i++)\n#define all(x) (x).begin(),(x).end()\nconst double PI = acos(-1);\nconst ll MOD = 1000000007;\ntemplate<class T>\ninline bool chmax(T &a, T b) {\n    if(a < b) {\n        a = b;\n        return true;\n    }\n    return false;\n}\n \ntemplate<class T>\ninline bool chmin(T &a, T b) {\n    if(a > b) {\n        a = b;\n        return true;\n    }\n    return false;\n}\n///////////////////////////////////////////////////////////////\n\nvector<ll> h;\n\nll N,A,B;\n\nbool f(ll x) {\n  ll count = 0;\n  rep(i,N) {\n    ll k = max(0LL,h[i] - x * B);\n    count += ((k + A - B - 1) / (A-B));\n  }\n  if (count <= x) return true;\n  else return false;\n}\n\nint main() {\n  ios::sync_with_stdio(false); cin.tie(nullptr); //入出力高速化\n  while (true) {\n    int N,M; cin >> N >> M;\n    if (N == 0 && M == 0)break;\n    vector<ll> C(M),x(N);\n    rep(i,M) cin >> C[i];\n    rep(i,N) cin >> x[i];\n\n    vector<vector<ll>> dp(N+1, vector<ll>(256,1e18));\n    dp[0][128] = 0;\n    rep(i,N) {\n      rep(j,256) {\n        if (dp[i][j] == 1e18) continue;\n        rep(k,M) {\n          int y = j + C[k];\n          if (y < 0) y = 0;\n          if (y > 255) y = 255;\n          chmin(dp[i+1][y],dp[i][j] + (y - x[i]) * (y - x[i]));\n        }\n      }\n    }\n    ll ans = 1e18;\n    rep(i,256) chmin(ans,dp[N][i]);\n\n    cout << ans << endl;\n  }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\nint INF = 1e9;\nint main(){\n    while(1){\n        int N, M;\n        std::cin >> N >> M;\n        if(N == 0 && M == 0)break;\n        std::vector<int> C(M), x(N);\n        for(int i = 0; i < M; i++) std::cin >> C[i];\n        for(int i = 0; i < N; i++) std::cin >> x[i];\n        int dp[N + 1][256];\n        for(int i = 0; i < N + 1; i++) for(int k = 0; k < 256; k++) dp[i][k] = INF;\n        dp[0][128] = 0;\n        for(int i = 0; i < N; i++){\n            for(int j = 0; j < M; j++){\n                for(int k = 0; k < 256; k++){\n                    if(k + C[j] > 255) dp[i + 1][255] = std::min(dp[i + 1][255], dp[i][k] + std::abs(255 - x[i])*std::abs(255 - x[i]));\n                    else if(k + C[j] < 0) dp[i + 1][0] = std::min(dp[i + 1][0], dp[i][k] + std::abs(0 - x[i])*std::abs(0 - x[i]));\n                    else dp[i + 1][k + C[j]] = std::min(dp[i + 1][k + C[j]], dp[i][k] + std::abs(k + C[j] - x[i])*std::abs(k + C[j] - x[i]));\n                }\n            }\n        }\n        int ans = INF;\n        for(int j = 0; j < 256; j++) ans = std::min(ans, dp[N][j]);\n        std::cout << ans << std::endl;\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <set>\n#include <vector>\n#include <algorithm>\nusing namespace std;\nconst int INF = 1 << 22;\nconst int MAX_N = 21000;\nconst int MAX_M = 20;\nint table[MAX_N+1][256];\nint x[MAX_N];\nint book[MAX_M];\nvoid db_print(int line[]){\n  for(int i = 100; i < 200; ++i){\n    cout << i << \"[\" << line[i] << \"]\" << endl;\n  }\n  cout << endl;\n}\nint main(){\n  int N, M;\n  while(true){\n    cin >> N >> M;\n    if((N|M) == 0){\n      break;\n    }\n    for(int i = 0; i < M; ++i){\n      cin >> book[i];\n    }\n    for(int i = 0; i < N; ++i){\n      cin >> x[i];\n    }\n    for(int i = 0; i < N+1; ++i){\n      for(int j = 0; j < 256; ++j){\n\ttable[i][j] = INF;\n      }\n    }\n    //fill_n((int *) table, (N+1) * 256, INF);\n    table[0][128] = 0;\n    for(int i = 0; i < N; ++i){\n      //db_print(table[i]);\n      for(int j = 0; j < 256; ++j){\n\tfor(int b = 0; b < M; ++b){\t  \n\t  int d = book[b];\n\t  if(0 <= j+d && j+d <= 255){\n\t    int t = (x[i] - (j+d)) * (x[i] - (j+d));\n\t    table[i+1][j+d] = min(table[i+1][j+d], table[i][j]+t);\n\t  }\n\t  if(j+d < 0){\n\t    int t = (x[i] - 0) * (x[i] - 0);\n\t    table[i+1][0] = min(table[i+1][0], table[i][j]+t);\n\t  }\n\t  if(j+d > 255){\n\t    int t = (x[i] - 255) * (x[i] - 255);\n\t    table[i+1][255] = min(table[i+1][255], table[i][j]+t);\n\t  }\n\t}\n      }\n    }\n    //db_print(table[N]);\n    int ans = INF;\n    for(int i = 0; i < 256; ++i){\n      ans = min(ans, table[N][i]);\n    }\n    cout << ans << endl;\n  }    \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define PB push_back\n#define MP make_pair\n#define REP(i,n) for (int i=0;i<(n);i++)\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define ALL(a) (a).begin(),(a).end()\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> P;\nconst int INF=2e9;\ndouble EPS=1e-10;\nint main(){\n      int n,m;\n      while(cin>>n>>m&&(n||m)){\n            int a[n],b[m];\n            ll dp[n+1][256];\n            REP(i,m)cin>>b[i];\n            REP(i,n)cin>>a[i];\n            REP(i,n+1)REP(j,256)dp[i][j]=-1;\n            dp[0][128]=0;\n            REP(i,n){\n                  REP(j,256){\n                        if(dp[i][j]==-1)continue;\n                        REP(k,m){\n                              int nxt=j+b[k];\n                              nxt=max(0,min(255,nxt));\n                              if(dp[i+1][nxt]==-1)dp[i+1][nxt]=dp[i][j]+(a[i]-nxt)*(a[i]-nxt);\n                              else dp[i+1][nxt]=min(dp[i+1][nxt],dp[i][j]+(a[i]-nxt)*(a[i]-nxt));\n                        }\n                  }\n            }\n            ll ans=-1;\n            REP(i,256)if(dp[n][i]!=-1){\n                  if(ans==-1)ans=dp[n][i];\n                  else ans=min(ans,dp[n][i]);\n            }\n            cout<<ans<<endl;\n      }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define int long long \n#define pint pair<int,int>\n\nint C[20];\nint x[20100];\n\nint dp[20100][300];\n\nconst int inf = 1LL << 60;\n\nvoid calib(int &a){\n  if( a < 0 ){ a = 0;}\n  if( a > 255){ a = 255;}\n  return;\n}\n\nvoid chmin(int &a, int b){ if ( a > b ){ swap(a,b);} return;}\n\nsigned main(void){\n  int n,m; \n  while(cin >> n >> m){\n    if( n == 0 && m == 0 ){ return 0;}\n    \n    for(int i = 1; i <= m; i++){ cin >> C[i];}\n    for(int i = 1; i <= n; i++){ cin >> x[i];}\n    \n    for(int i = 0; i < 20100; i++){\n      for(int j = 0; j < 300; j++){ \n        dp[i][j] = inf;\n      }\n    }\n    \n    dp[0][128] = 0;\n   \n    for(int i = 1; i <= n; i++){ \n      // i-1個目からi個目にかけての遷移を見る\n      for(int val = 0; val <= 255; val++){ \n        if( dp[i-1][val] == inf ){ continue;}\n        for(int k = 1; k <= m; k++){ //どの系列を選ぶか\n         int res = val+C[k];\n         calib(res);\n         chmin( dp[i][res], dp[i-1][val]+(x[i]-res)*(x[i]-res) );\n          \n        }\n      }\n    }\n    \n    int ans = inf;\n    \n    for(int i = 0; i <= 255; i++){ \n      chmin(ans,dp[n][i]);\n      \n    }\n    \n    cout << ans << endl;\n    \n  }//while\n  \n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#define N 20001\n#define M 256\n#define INF N*M\n\nusing namespace std;\n\nint n, m;\nint c[16];\nint dp[N][M];\n\nvoid init(){\n  for(int i=0; i<N; ++i){\n    for(int j=0; j<M; ++j){\n      dp[i][j] = INF;\n    }\n  }\n  dp[0][128] = 0;\n}\n\nint code(int k){\n  if(k < 0) return 0;\n  if(k >= M) return M-1;\n  return k;\n}\n\nvoid solve(int& x, int& u, int& v){\n  for(int i=0; i<m; ++i){\n    int j = code(v + c[i]);\n    dp[u][j] = min(dp[u][j], (x-j)*(x-j) + dp[u-1][v]);\n  }\n}\n\nint main(){\n  int x;\n  while(1){\n    cin >> n >> m;\n    if(!n && !m) break;\n    init();\n    for(int i=0; i<m; ++i) cin >> c[i];\n    for(int i=1; i<=n; ++i){\n      cin >> x;\n      for(int j=0; j<M; ++j){\n\tif(dp[i-1][j] != INF) solve(x, i, j);\n      }\n    }\n    int ans=INF;\n    for(int j=0; j<M; ++j) ans = min(ans, dp[n][j]);\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "\n#include <cstdio>\n#include <iostream>\n#include <vector>\n#include <map>\n#include <set>\n#include <string>\n#include <cstring>\n#include <sstream>\n#include <algorithm>\n#include <functional>\n#include <queue>\n#include <stack>\n#include <cmath>\n#include <iomanip>\n \nusing namespace std;\n\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n)  FOR(i,0,n)\n#define CLR(a) memset((a), 0 ,sizeof(a))\n#define MCLR(a) memset((a), -1 ,sizeof(a))\n#define SZ(a) (sizeof(a))\n#define FILL(a,v) fill((int*)a,(int*)(a+(SZ(a)/SZ(*(a)))),v)\n\nbool cheak(int x,int y,int xMax,int yMax)\n{return x >= 0 && y >= 0 && xMax > x && yMax > y;}\nconst int dx[4]={-1,0,1,0},dy[4]={0,1,0,-1};\nconst int INF = 2147483648/3;\ntypedef pair<int,int> P;\ntypedef long long ll;\ntypedef unsigned long long ull;\n\nconst int MAX = 20010;\nint dp[MAX][256];\n\nint main()\n{\n\tint n,m;\n\twhile(cin >> n >> m && (n || m))\n\t{\n\t\tint c[20],x[MAX];\n\t\tREP(i,m)cin >> c[i];\n\t\tREP(i,n)cin >> x[i];\n\t\t\n\t\tFILL(dp,INF);\n\t\tdp[0][128] = 0;\n\n\t\tREP(i,n)\n\t\tREP(j,256)\n\t\tif(dp[i][j] != INF)\n\t\tREP(k,m)\n\t\t{\n\t\t\tint tmp = j+c[k];\n\t\t\tint oldval = dp[i][j];\n\n\t\t\tif(tmp < 0)\n\t\t\t\ttmp = 0;\n\t\t\tif(tmp >= 256)\n\t\t\t\ttmp = 255;\n\t\t\t\n\t\t\tint val = pow(x[i]-tmp,2);\n\t\t\tif(val < dp[i+1][tmp])\n\t\t\t\tdp[i+1][tmp] = val+oldval;\n\t\t}\n\n\t\tint ans = INF;\n\t\tREP(j,256)\n\t\t{\n\t\t\tans = min(dp[n][j],ans);\n\t\t}\n\n\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <vector>\n\nusing namespace std;\n\nconst int inf = 1e9;\n\nint r(int a, int b) {\n    if ((a+b) >= 255) return 255;\n    else if ((a+b) <= 0) return 0;\n    else return a+b;\n}\n\nint main(void){\n    int n,m;\n    while (cin>>n>>m && n) {\n        vector<int> a(n);\n        vector<int> code(m);\n        for (int i = 0; i < m; i++) cin >> code[i];\n        for (int i = 0; i < n; i++) cin >> a[i];\n        \n        vector<vector<int> > dp(256, vector<int>(n+1, inf) );\n        dp[128][0] = 0;\n        for (int i = 0; i < n; i++) {\n            for (int j = 0; j < 256; j++) {\n                if (dp[j][i] == inf) continue;\n                \n                int x, p;\n                for (int k = 0; k < m; k++) {\n                    x = r(j, code[k]);\n                    p = (a[i]-x) * (a[i]-x);\n                    dp[x][i+1] = min(dp[x][i+1], dp[j][i]+p);\n                }\n            }\n        }\n        int ans = inf;\n        for (int i = 0; i < 256; i++) ans = min(ans, dp[i][n]);\n        cout << ans << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <climits>\n#include <algorithm>\n#define MAX_N 20001\n#define MAX_M 16\n#define MAX_X 256\n#define INIT 128\nusing namespace std;\n\nlong long dp[MAX_N][MAX_X];\nint c[MAX_M];\nint x[MAX_N];\nint n, m;\n\nvoid solve() {\n  dp[0][128] = 0;\n  for (int i = 0; i + 1 <= n; i++) {\n    for (int j = 0; j < MAX_X; j++) {\n      if (dp[i][j] == LONG_MAX) continue;\n\n      for (int k = 0; k < m; k++) {\n\tint t = j + c[k];\n\tif (t < 0) t = 0;\n\tif (t > 255) t = 255;\n\tint s = (t - x[i + 1]) * (t - x[i + 1]);\n\tdp[i + 1][t] = min(dp[i][j] + s, dp[i + 1][t]);\n      }\n    }\n  }\n  long long ans = LONG_MAX;\n  for (int i = 0; i < MAX_X; i++)\n    ans = min(ans, dp[n][i]);\n  cout << ans << endl;\n}\n\nvoid init() {\n  for (int i = 0; i < MAX_N; i++)\n    for (int j = 0; j < MAX_X; j++)\n      dp[i][j] = LONG_MAX;\n\n  for (int i = 0; i < MAX_M; i++)\n    c[i] = 0;\n  for (int i = 0; i < MAX_N; i++)\n    x[i] = 0;\n}\n\nint main() {\n  while (true) {\n    cin >> n >> m;\n    if (n == 0 && m == 0) return 0;\n\n    init();\n    for (int i = 0; i < m; i++)\n      cin >> c[i];\n    for (int i = 1; i <= n; i++)\n      cin >> x[i];\n\n    solve();\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\n#define INF 1e9\n#define llINF 1e18\n#define MOD 1e9+7\n#define pb push_back\n#define mp make_pair \n#define F first\n#define S second\n#define ll long long\n#define sqr(x) (x)*(x)\nusing namespace std;\nvector<int>C(5000);\nvector<int>x(100000);\nint ans=0;\nint n,m;\nint main(){\n  while(cin>>n>>m,n){\n    ans=INF;\n    int dp[n+20][260]={};\n    for(int i=0;i<n+2;i++)\n      for(int j=0;j<260;j++)\n\tdp[i][j]=INF;\n    for(int i=0;i<m;i++)\n      cin>>C[i];\n    for(int i=0;i<n;i++){\n      cin>>x[i];\n    }\n\n    dp[0][128]=0;\n    for(int i=1;i<=n;i++){\n      for(int j=0;j<260;j++){\n\tif(dp[i-1][j]!=INF){\n\t  for(int k=0;k<m;k++){\n\t    int num=j+C[k];\n\t    if(num>=255)num=255;\n\t    else if(num<0)num=0;\n\t    //cout<<i<<\" \"<<\n\t    dp[i][num]=min(dp[i-1][j]+((num-x[i-1])*(num-x[i-1])),dp[i][num]);\n\t  }\n\t}\n      }\n    }\n    for(int i=0;i<260;i++){\n      ans=min(dp[n][i],ans);\n    }\n    cout<<ans<<endl;\n  }\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nconst int inf = 1000000000;\n\nint main() {\n\tint n, m;\n\twhile (cin >> n >> m, n) {\n\t\tint c[16], x[20000];\n\t\tfor (int i = 0; i < m; i++) {\n\t\t\tcin >> c[i];\n\t\t}\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tcin >> x[i];\n\t\t}\n\t\tvector<vector<int>> dp(n + 1, vector<int>(256, inf));\n\t\tdp[0][128] = 0;\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tfor (int j = 0; j < 256; j++) {\n\t\t\t\tif (dp[i][j] != inf) {\n\t\t\t\t\tfor (int k = 0; k < m; k++) {\n\t\t\t\t\t\tint j2 = max(0, min(255, j + c[k]));\n\t\t\t\t\t\tdp[i + 1][j2] = min(dp[i + 1][j2], dp[i][j] + (x[i] - j2) * (x[i] - j2));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint r = inf;\n\t\tfor (int i = 0; i < 256; i++) {\n\t\t\tr = min(r, dp[n][i]);\n\t\t}\n\t\tcout << r << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <algorithm>\n#include <vector>\n\nusing namespace std;\n\nconst int INF = (int)10e9;\n\nint main(){\n  int n, m;\n  while(scanf(\"%d%d\", &n, &m) && (n|m)){\n    vector<int> C(m);\n    for(int i=0; i<m; i++) scanf(\"%d\", &C[i]);\n    \n    vector<int> dp(256, INF);\n    vector<int> next(256);\n    dp[128] = 0;\n    while(n--) {\n      fill(next.begin(), next.end(), INF);\n      int in; scanf(\"%d\", &in);\n      for(int i=0; i<256; i++){\n\tif(dp[i] == INF) continue;\n\tfor(int j=0; j<m; j++){\n\t  int conv = i + C[j];\n\t  conv = min(max(conv, 0), 255);\n\t  int diff = (in - conv) * (in - conv);\n\t  next[conv] = min(next[conv], dp[i] + diff);\n\t}\n      }\n      dp = next;\n    }\n    \n    printf(\"%d\\n\", *min_element(dp.begin(), dp.end()));\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "///\n// File:  2199.cpp\n// Author: ymiyamoto\n//\n// Created on Sat Dec  9 23:16:36 2017\n//\n\n#include <cstdint>\n#include <iostream>\n#include <vector>\n\n#define MAX 1 << 25\n\nusing namespace std;\n\nint32_t main()\n{\n  while (true) {\n    uint32_t N, M;\n    cin >> N >> M;\n    if (N == 0 && M == 0) break;\n\n    vector<int32_t> C(M);\n    vector<int32_t> x(N + 1);\n\n    for (uint32_t i = 0; i < M; i++) {\n      cin >> C[i];\n    }\n\n    for (uint32_t i = 1; i <= N; i++) {\n      cin >> x[i];\n    }\n\n    vector<vector<int32_t>> dp(N + 1, vector<int32_t>(256, MAX));\n    dp[0][128] = 0;\n\n    for (uint32_t i = 0; i < N; i++) {\n      for (int32_t j = 0; j < 256; j++) {\n        if (dp[i][j] == MAX) continue;\n        for (uint32_t k = 0; k < C.size(); k++) {\n          int32_t val = min(max(0, j + C[k]), 255);\n          int32_t diff = (x[i + 1] - val);\n          dp[i + 1][val] = min(dp[i + 1][val], dp[i][j] + diff * diff);\n        }\n      }\n    }\n\n    int32_t minval = MAX;\n    for (int32_t i = 0; i < 256; i++) {\n      minval = min(minval, dp[N][i]);\n    }\n\n    cout << minval << endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#define INF 1e+18\n#define int long long\nusing namespace std;\n\nint dp[20001][256];\n\nsigned main(){\n\tint n,m,c[16];\n\twhile(cin >> n >> m,n){\n\t\tfor(int i = 0;i <= n;i++){\n\t\t\tfor(int j = 0;j < 256;j++) \n\t\t\tif(i) dp[i][j] = INF;\n\t\t\telse dp[i][j] = 0;\n\t\t}\n\t\tfor(int i = 0;i < m;i++) cin >> c[i];\n\t\tfor(int i = 0;i < n;i++){\n\t\t\tint x;\n\t\t\tcin >> x;\n\t\t\tfor(int j = 0;j < 256;j++){\n\t\t\t\tfor(int k = 0;k < m;k++){\n\t\t\t\t\tint d = j + c[k];\n\t\t\t\t\tif(d < 0) d = 0;\n\t\t\t\t\telse if(d > 255) d = 255;\n\t\t\t\t\tdp[i + 1][d] = min(dp[i + 1][d],dp[i][j] + (x - d) * (x - d));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint mi = INF;\n\t\tfor(int i = 0;i < 256;i++) mi = min(mi,dp[n][i]);\n\t\tcout << mi << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\nint C[16];\nint x[20001];\nint dp[20001][256];\nconst int INF = 1 << 30;\nint main() {\n\tint N, M;\n\twhile (cin >> N >> M, N) {\n\t\tfor (int i = 0; i < M; i++) {\n\t\t\tcin >> C[i];\n\t\t}\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\tcin >> x[i];\n\t\t}\n\t\tfor (int i = 0; i <= N; i++) {\n\t\t\tfor (int j = 0; j < 256; j++) dp[i][j] = INF;\n\t\t}\n\t\tdp[0][128] = 0;\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\tfor (int j = 0; j < 256; j++) {\n\t\t\t\tif (dp[i][j] == INF) continue;\n\t\t\t\tfor (int k = 0; k < M; k++) {\n\t\t\t\t\tint nj = j + C[k];\n\t\t\t\t\tif (0 > nj) nj = 0;\n\t\t\t\t\tif (nj > 255) nj = 255;\n\t\t\t\t\tint tmp = (nj - x[i])*(nj - x[i]);\n\t\t\t\t\tif (dp[i][j] + tmp < dp[i+1][nj]) {\n\t\t\t\t\t\tdp[i+1][nj] = dp[i][j] + tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = INF;\n\t\tfor (int i = 0; i < 256; i++) {\n\t\t\tans = min(ans, dp[N][i]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\t\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\nint main(){\n  int n,m;\n  while(cin>>n>>m,n){\n    int dp[n+1][256];\n    for(int i=0;i<=n;i++)\n      for(int j=0;j<256;j++)\n\tdp[i][j]=1<<30;\n    dp[0][128]=0;\n    int c[m],x[n];\n    for(int i=0;i<m;i++)cin>>c[i];\n    for(int i=0;i<n;i++)cin>>x[i];\n    \n    for(int i=0;i<n;i++){\n      for(int j=0;j<256;j++){\n\tfor(int k=0;k<m;k++){\n\t  if(j+c[k]<0){\n\t    dp[i+1][0]=min(dp[i+1][0],dp[i][j] + x[i]*x[i]);\n\t  }else if(j+c[k]>255){\n\t    dp[i+1][255]=min(dp[i+1][255],dp[i][j] + (x[i]-255)*(x[i]-255));\n\t  }else{\n\t    dp[i+1][j+c[k]]=min(dp[i+1][j+c[k]],dp[i][j] + (x[i]-j-c[k])*(x[i]-j-c[k]));\n\t  }\n\t}\n      }\n    }\n    // for(int j=0;j<256;j++){\n    //   for(int i=0;i<n;i++){\n    // \tcout << dp[i][j] << \" \";\n    //   }\n    //   cout << endl;\n    // }\n\n    int res=1<<30;\n    for(int i=0;i<256;i++)res=min(res,dp[n][i]);\n    cout << res << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<math.h>\n#include<string>\n#include<algorithm>\n#include<functional>\n#include<vector>\n#include<set>\n#include<map>\n#define INF 999999999\n#define EPS 1.0e-6\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int, int> P;\ntypedef pair<int, P> PP;\n\nint n, m;\nint c[20];\nll x[21000];\nll d[1000][260];\n\nint main()\n{\n\twhile (cin >> n >> m) {\n\t\tif (n == 0 && m == 0)return 0;\n\t\tfor (int i = 0; i < m; i++) {\n\t\t\tcin >> c[i];\n\t\t}\n\n\t\tfor (int i = 1; i <= n; i++) {\n\t\t\tcin >> x[i];\n\t\t}\n\t\tfor (int i = 0; i <= n; i++) {\n\t\t\tfor (int j = 0; j <= 256; j++) {\n\t\t\t\td[i][j] = INF;\n\t\t\t}\n\t\t}\n\t\td[0][128] = 0;\n\n\t\tfor (int i = 0; i < n ; i++) {\n\t\t\tfor (int j = 0; j <= 255; j++) {\n\t\t\t\tif (d[i][j] != INF) {\n\t\t\t\t\tfor (int k = 0; k < m; k++) {\n\t\t\t\t\t\tint l = j + c[k];\n\t\t\t\t\t\t//cout << l << endl;\n\t\t\t\t\t\tif (l < 0)d[i + 1][0] = min(d[i + 1][0], x[i + 1] * x[i + 1]);\n\t\t\t\t\t\telse if (l > 255) {\n\t\t\t\t\t\t\td[i + 1][255] = min(d[i + 1][256], d[i][j]+(x[i + 1] - 255)*(x[i + 1] - 255));\n\t\t\t\t\t\t\t//cout << d[i + 1][256] << endl;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\td[i+1][l]= min(d[i + 1][l], d[i][j] + (x[i + 1] - l)*(x[i + 1] - l));\n\t\t\t\t\t\t\t//cout << i + 1 << \" \" << j << \" \" << l << \" \" << d[i + 1][l];\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//cout << i + 1 << \" \" << j << \" \" << l << \" \" << d[i + 1][l]<<endl;\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t/*\n\t\t\tfor (int j = 0; j <= 256; j++) {\n\t\t\t\tcout << i<< \"j:\" <<j<<\" \"<<d[i][j] << endl;\n\n\t\t\t}\n\t\t\tcout << endl;\n\t\t\t*/\n\t\t\t\n\t\t}\n\t\tll ans = INF;\n\t\tfor (int i = 0; i <= 255; i++) {\n\t\t\t//cout <<\"d[n-1][i]:\"<< d[n][i] << endl;\n\t\t\tans = min(ans, d[n][i]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define INF 0x3f3f3f3f\n#define rep(i,n)for(int i=0;i<(n);i++)\nusing namespace std;\n\nint c[16], x[20001];\nint dp[20001][256];\nint diff(int i, int a) {\n\treturn (x[i] - a)*(x[i] - a);\n}\nint main() {\n\tint n, m;\n\twhile (scanf(\"%d%d\", &n, &m), n) {\n\t\trep(i, m)scanf(\"%d\", &c[i]);\n\t\trep(i, n)scanf(\"%d\", &x[i]);\n\t\tmemset(dp, 0x3f, sizeof(dp));\n\t\tdp[0][128] = 0;\n\t\trep(i, n)rep(j, 256) {\n\t\t\tif (dp[i][j] == INF)continue;\n\t\t\trep(k, m) {\n\t\t\t\tint a = min(255, max(0, j + c[k]));\n\t\t\t\tdp[i + 1][a] = min(dp[i + 1][a], dp[i][j] + diff(i, a));\n\t\t\t}\n\t\t}\n\t\tint Min = INF;\n\t\trep(j, 256)Min = min(Min, dp[n][j]);\n\t\tprintf(\"%d\\n\", Min);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n\nusing namespace std;\n\ntypedef long long ll;\n\nll dp[20010][256];\nint book[20];\nint input[20010];\nint N, M;\n\nstatic const ll MAX = 1000000000;\n\nvoid init() {\n  fill(&dp[0][0], &dp[20009][256], MAX);\n}\n\nvoid solve() {\n  dp[0][128] = 0;\n\n  for (int i = 0; i < N; i++) {\n    for (int j = 0; j < 256; j++) {\n      for (int k = 0; k < M; k++) {\n        int tar = j + book[k];\n        if (tar < 0) {\n          tar = 0;\n        } else if (tar > 255) {\n          tar = 255;\n        }\n        ll sub = tar - input[i];\n        sub *= sub;\n        dp[i + 1][tar] = min(dp[i + 1][tar], dp[i][j] + sub);\n      }\n    }\n  }\n\n  ll mn = MAX;\n  for (int i = 0; i < 256; i++) {\n    mn = min(mn, dp[N][i]);\n  }\n  printf(\"%ld\\n\", mn);\n}\n\nint main() {\n    while (true) {\n      scanf(\"%d %d \", &N, &M);\n      if (N == 0 && M == 0) {\n        break;\n      }\n      init();\n      for (int i = 0; i < M; i++) {\n        scanf(\"%d \", &book[i]);\n      }\n      for (int i = 0; i < N; i++) {\n        scanf(\"%d \", &input[i]);\n      }\n      solve();\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <cmath>\n#include <cstdio>\n#include <functional>\n#include <numeric>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <utility>\n#include <sstream>\n#include <complex>\n\nusing namespace std;\n\n#define FOR(i,a,b) for(long long i=(a);i<(b);i++)\n#define REP(i,N) for(long long i=0;i<(N);i++)\n#define ALL(s) (s).begin(),(s).end()\n#define fi first\n#define se second\n\n#define PI acos(-1.0)\n#define INF 10000007\n#define EPS 1e-10\n\ntypedef long long ll;\ntypedef pair<ll, ll> P;\ntypedef pair<double, double> PD;\ntypedef pair<string, ll> PS;\ntypedef vector<ll> V;\ntypedef pair<P, char> PC;\n\nint n, m;\nint c[16 + 1], x[20000 + 1];\nint dp[16 + 1][256 + 1];\n\nint main(){\n\twhile (cin >> n >> m&&n + m){\n\t\tREP(i, 20){\n\t\t\tREP(j, 300){\n\t\t\t\tdp[i][j] = INF;\n\t\t\t}\n\t\t}\n\t\tREP(i, m){\n\t\t\tcin >> c[i];\n\t\t}\n\t\tREP(i, n){\n\t\t\tcin >> x[i];\n\t\t}\n\t\tdp[0][128] = 0;\n\t\tREP(i, n){\n\t\t\tREP(j, m){\n\t\t\t\tREP(k, 256){\n\t\t\t\t\tint num = k + c[j];\n\t\t\t\t\tif (num < 0)num = 0;\n\t\t\t\t\tif (num > 255)num = 255;\n\t\t\t\t\tdp[i + 1][num] = min(dp[i][k] + (x[i] - num)*(x[i] - num), dp[i + 1][num]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = INF;\n\t\tREP(i, 300){\n\t\t\tans = min(ans, dp[n][i]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "//Yattazo! Watashiha-Yosen-tsuukashita! It's 460points/600points! OHO!!!!!\n#include<iostream>\n#include<algorithm>\n#include<cmath>\nusing namespace std;\nint x[21000][256],n,m,y[64000],z[64000],d,minx;\nint main(){\n\twhile(true){\n\t\tminx=2000000000;\n\t\tfor(int i=0;i<21000;i++){for(int j=0;j<256;j++){x[i][j]=2000000000;}}\n\t\tcin>>n>>m;if(!n){break;}\n\t\tfor(int i=0;i<m;i++){cin>>y[i];}\n\t\tfor(int i=1;i<=n;i++){cin>>z[i];}\n\t\tx[0][128]=0;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tfor(int j=0;j<256;j++){\n\t\t\t\tif(x[i-1][j]<1000000000){\n\t\t\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\t\t\td=y[k]+j;\n\t\t\t\t\t\tif(d<0){d=0;}\n\t\t\t\t\t\tif(d>255){d=255;}\n\t\t\t\t\t\tx[i][d]=min(x[i][d],x[i-1][j]+(int)pow(1.0*(z[i]-d),2));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor(int i=0;i<256;i++){minx=min(minx,x[n][i]);}\n\t\tcout<<minx<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n\nusing namespace std;\n\nconst int MAX_N = 20000;\nconst int MAX_M = 16;\nconst int y0 = 128;\nint N, M;\nint C[MAX_M + 1], x[MAX_N + 1];\nint ans;\n\nvoid Rec(int index, int sum, int y)\n{\n    if (index == N) {\n        ans = min(ans, sum);\n        return ;\n    }\n\n    for (int i = 0; i < M; ++i) {\n        int y_n = y + C[i];\n        if (y_n < 0)\n            y_n = 0;\n        else if (y_n > 255)\n            y_n = 255;\n\n        int sum_n = sum + (x[index] - y_n) * (x[index] - y_n);\n        if (sum_n < ans)\n            Rec(index + 1, sum_n, y_n);\n    }\n}\n\nint main()\n{\n    while (cin >> N >> M, N || M) {\n        // Input\n        for (int i = 0; i < M; ++i)\n            cin >> C[i];\n        for (int i = 0; i < N; ++i)\n            cin >> x[i];\n\n        int y = 128;\n        ans = 0;\n        for (int i = 0; i < N; ++i) {\n            y += C[M - 1];\n            if (y < 0)\n                y = 0;\n            else if (y > 255)\n                y = 255;\n            ans += (x[i] - y) * (x[i] - y);\n        }\n\n        Rec(0, 0, y0);\n        cout << ans << endl;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<math.h>\n#include<string>\n#include<algorithm>\n#include<functional>\n#include<vector>\n#include<set>\n#include<map>\n#define INF 999999999999\n#define EPS 1.0e-6\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int, int> P;\ntypedef pair<int, P> PP;\n\nint n, m;\nint c[20];\nll x[21000];\nll d[21000][260];\n\nint main()\n{\n\twhile (cin >> n >> m) {\n\t\tif (n == 0 && m == 0)return 0;\n\t\tfor (int i = 0; i < m; i++) {\n\t\t\tcin >> c[i];\n\t\t}\n\n\t\tfor (int i = 1; i <= n; i++) {\n\t\t\tcin >> x[i];\n\t\t}\n\t\tfor (int i = 0; i <= n; i++) {\n\t\t\tfor (int j = 0; j <= 256; j++) {\n\t\t\t\td[i][j] = INF;\n\t\t\t}\n\t\t}\n\t\td[0][128] = 0;\n\n\t\tfor (int i = 0; i < n ; i++) {\n\t\t\tfor (int j = 0; j <= 255; j++) {\n\t\t\t\tif (d[i][j] != INF) {\n\t\t\t\t\tfor (int k = 0; k < m; k++) {\n\t\t\t\t\t\tint l = j + c[k];\n\t\t\t\t\t\t//cout << l << endl;\n\t\t\t\t\t\tif (l < 0)d[i + 1][0] = min(d[i + 1][0], d[i][j]+x[i + 1] * x[i + 1]);\n\t\t\t\t\t\telse if (l > 255) {\n\t\t\t\t\t\t\td[i + 1][255] = min(d[i + 1][255], d[i][j]+(x[i + 1] - 255)*(x[i + 1] - 255));\n\t\t\t\t\t\t\t//cout << d[i + 1][256] << endl;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\td[i+1][l]= min(d[i + 1][l], d[i][j] + (x[i + 1] - l)*(x[i + 1] - l));\n\t\t\t\t\t\t\t//cout << i + 1 << \" \" << j << \" \" << l << \" \" << d[i + 1][l];\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//cout << i + 1 << \" \" << j << \" \" << l << \" \" << d[i + 1][l]<<endl;\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t/*\n\t\t\tfor (int j = 0; j <= 256; j++) {\n\t\t\t\tcout << i<< \"j:\" <<j<<\" \"<<d[i][j] << endl;\n\n\t\t\t}\n\t\t\tcout << endl;\n\t\t\t*/\n\t\t\t\n\t\t}\n\t\tll ans = INF;\n\t\tfor (int i = 0; i <= 255; i++) {\n\t\t\t//cout <<\"d[n-1][i]:\"<< d[n][i] << endl;\n\t\t\tans = min(ans, d[n][i]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\n\nll dp[20001][256];\n\nint main(){\n\n  ll n,m,c[16],x[20000];\n\n  while(cin>>n>>m,n){\n\n    for(ll i=0;i<m;i++)cin>>c[i];\n  \n    for(ll i=0;i<n;i++)cin>>x[i];\n  \n    for(ll i=0;i<20001;i++)\n      for(ll j=0;j<256;j++)dp[i][j]=1e15;\n\n    dp[0][128]=0;\n\n    for(ll i=0;i<n;i++)\n      for(ll j=0;j<256;j++)\n\tfor(ll k=0;k<m;k++){\n\t  ll y=min(255LL,max(0LL,j+c[k]));\n\t  dp[i+1][y]=min(dp[i][j]+(y-x[i])*(y-x[i]),dp[i+1][y]);\n\t}\n  \n    ll ans=1e15;\n    for(ll i=0;i<256;i++)ans=min(ans,dp[n][i]);\n\n    cout<<ans<<endl;\n  \n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string.h>\n#include<vector>\nusing namespace std;\n\nint table[256],ttable[256];\nconst int inf = 100000000;\n\nint main() {\n\n  int n,m,t,next;\n  while(1) {\n    vector<int> C;\n    cin>>n>>m;\n    if(!n && !m) break;\n\n    for(int l=0; l<256; l++)\n      table[l] = -1;\n    table[128] = 0;\n\n    for(int i=0; i<m; i++) {\n      cin>>t;\n      C.push_back(t);\n    }\n\n    for(int i=0; i<n; i++) {\n      for(int l=0; l<256; l++)\n\tttable[l] = inf;\n      cin>>t;\n\n      for(int j=0; j<256; j++) {\n\tif(table[j] != -1) {\n\t  for(int k=0; k<C.size(); k++) {\n\t    next = j+C[k];\n\t    if(next < 0) next = 0;\n\t    if(next > 255) next = 255;\n\t    ttable[next] = min(ttable[next], table[j]+(t-next)*(t-next));\n\t  }\n\t}\n      }\n\n      for(int l=0; l<256; l++) {\n\ttable[l] = -1;\n\tif(ttable[l] < inf) table[l] = ttable[l];\n      }\n    }\n\n    int ans = inf;\n    for(int i=0; i<256; i++)\n      if( table[i] != -1 && table[i] < ans ) {\n\tans = table[i];\n\t//cout<<i<<endl;\n      }\n    cout<<ans<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <iostream>\n#include <utility>\n#include <cmath>\n\nusing namespace std;\n\nconst long long INF = 1e15;\nconst long long Y = 128;\nint main(){\n\tlong long n,m;\n\twhile(cin>>n>>m,n){\n\t\tvector<long long> cod(m),signal(n+1);\n\t\tvector<vector<pair<long long,long long>>> dp(n+1,vector<pair<long long,long long>>(m,make_pair(INF,INF)));\n\t\tdouble ave_signal = 0;\n\t\tfor(int i=0;i<m;i++){//code input\n\t\t\tcin >> cod[i];\n\t\t}\n\t\tfor(int i=1;i<n+1;i++){//signal input\n\t\t\tcin >> signal[i];\n\t\t\tave_signal += signal[i];\n\t\t}\n\t\tave_signal /= n;\n\t\t\n\t\tfor(int i=0;i<m;i++){//?????????input\n\t\t\tdp[0][i].first = Y;\n\t\t\tdp[0][i].second = 0;\n\t\t\t//cout << \"(\" << dp[0][i].first << \", \" << dp[0][i].second << \")\";\n\t\t}\n\t\t\t//cout << endl;\n\n\t\tfor(int i=1;i<n+1;i++){//dp\n\t\t\tfor(int j=0;j<m;j++){//??\\????????±???\n\t\t\t\tint min_line = ave_signal;\n\t\t\t\tint max_line = signal[i];\n\t\t\t\tif(ave_signal > signal[i]) swap(min_line,max_line); \n\t\t\t\t\tbool is_bad = true;\n\t\t\t\tfor(int k=0;k<m;k++){//?????¶??±\n\t\t\t\t\tint tmp_signal = dp[i-1][k].first + cod[j];\n\t\t\t\t\tif(tmp_signal>255)tmp_signal = 255;\n\t\t\t\t\telse if(tmp_signal<0)tmp_signal = 0;\n\t\t\t\t\tif(max_line + 1 >= tmp_signal && min_line - 1 <= tmp_signal){\n\t\t\t\t\t\tif(dp[i-1][k].second + (signal[i]  - tmp_signal)*(signal[i]  - tmp_signal) < dp[i][j].second){\n\t\t\t\t\t\t\tis_bad = false;\n\t\t\t\t\t\t\tdp[i][j].second = dp[i-1][k].second + (signal[i]  - tmp_signal)*(signal[i]  - tmp_signal);\n\t\t\t\t\t\t\tdp[i][j].first = tmp_signal;\n\t\t\t\t\t\t}\n\t\t\t\t\t}else if(is_bad){\n\t\t\t\t\t\tdp[i][j].second = dp[i-1][k].second + (signal[i]  - tmp_signal)*(signal[i]  - tmp_signal);\n\t\t\t\t\t\tdp[i][j].first = tmp_signal;\n\t\t\t\t\t}\n\t\t\t\t}\n//\t\t\t\tcout << \"(\" << dp[i][j].first << \", \" << dp[i][j].second << \")\";\n\t\t\t}\n\t\t\t//cout << endl;\n\t\t}\n\t\tlong long ans = INF;\n\t\tfor(int i=0;i<m;i++)\n\t\t\tans = min(ans,dp[n][i].second);\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\nusing LL = long long;\nusing P = pair<int, int>;\nusing Tapris = tuple<int, int, int>;\n\n#define REP(i, n) for(LL i = 0; i < n; ++i)\n#define FOR(i, a, n) for(LL i = a; i < n; ++i)\n#define pb(a) push_back(a)\n#define all(x) (x).begin(),(x).end()\n\nconst int INF = (int)1e9;\nconst LL INFL = (LL)1e15;\nconst int MOD = 1e9 + 7;\n\nint dy[]={0, 0, 1, -1, 0};\nint dx[]={1, -1, 0, 0, 0};\n\n//#define int long long\n\n/*************** using variables ***************/\nint n, m;\nvector<int> c, x;\nLL dp[20005][256];\n/**********************************************/\n\nsigned main(){\n    while(cin >> n >> m, n != 0 || m != 0){\n        c.resize(m);\n        x.resize(n);\n        REP(i, m) cin >> c[i];\n        REP(i, n) cin >> x[i];\n\n        REP(i, 20005) REP(j, 256) dp[i][j] = INF;\n        dp[0][128] = 0;\n        FOR(i, 1, n+1){\n            for(int j = 0; j <= 255; j++){\n                bool flag = false;\n                if(j == 0){\n                    REP(k, m){\n                        for(int z = 0 - c[k]; z >= 0; z--){\n                            if(dp[i-1][z] != INF){\n                                dp[i][0] = min(dp[i][0], dp[i-1][z] + (LL)pow(abs(x[i-1] - (0)), 2));\n                            }\n                        }\n                    }\n                }else if(j == 255){\n                    REP(k, m){\n                        for(int z = 255 - c[k]; z <= 255; z++){\n                            if(dp[i-1][z] != INF){\n                                dp[i][255] = min(dp[i][255], dp[i-1][z] + (LL)pow(abs(x[i-1] - (255)), 2));\n                            }\n                        }\n                    }\n                }else{\n                    REP(k, m) flag |= dp[i-1][j-c[k]] != INF;\n                    if(flag){\n                        REP(k, m){\n                            if(j-c[k] >= 0 && j-c[k] <= 255 && dp[i-1][j-c[k]] != INF){\n                                dp[i][j] = min(dp[i][j], dp[i-1][j-c[k]] + (LL)pow(abs(x[i-1] - j), 2));\n                                //cout << i << \" \" << dp[i][j] << \" \" << x[i-1] << \" \" << j-c[k] << endl;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n\n        LL ans = INF;\n        for(int i = 0; i <= 255; i++) ans = min(ans, dp[n][i]);\n        cout << ans << endl;\n    }\n\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n\nusing namespace std;\n\ninline int adj(int x) {\n  return min(max(x, 0), 255);\n}\n#define SQ(x) ((x)*(x))\nint main() {\n  int N, M, INF=1<<28;\n  while(cin >> N >> M && (N|M)) {\n    int C[M];\n    for(int i=0; i<M; i++) cin >> C[i];\n    int dp[2][256]; fill(dp[0], dp[0]+512, INF);\n    dp[0][128] = 0;\n    for(int k=0; k<N; k++) {\n      for(int i=0; i<256; i++) dp[(k+1)%2][i] = INF;\n      int in; cin >> in;\n      for(int i=0; i<256; i++) {\n        if(dp[k%2][i]>=INF) continue;\n        for(int j=0; j<M; j++) {\n          dp[(k+1)%2][adj(i+C[j])] = min(dp[(k+1)%2][adj(i+C[j])], dp[k%2][i]+SQ(in-adj(i+C[j])));\n        }\n      }\n    }\n    cout << *min_element(dp[N%2], dp[(N%2)+1]) << endl;\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\n#include<vector>\nusing namespace std;\nvector<int>c,x;\n#define MA 99999999\nint dp[20000][20002];\nint main(){\n    int n,m,f,ans;\n    \n    while(cin >>  n >>m&& n){\n        for(int i=0;i<20;i++)\n            for(int j=0;j<20002;j++)\n                dp[i][j]=MA;\n        c.clear();\n        x.clear();\n        ans=MA;\n        for(int i=0;i<m;i++){\n            cin>>f;\n            c.push_back(f);\n            //cout<<\"c[i]: \"<<c[i]<<endl;\n        }\n        for(int i=0;i<n;i++){\n            cin>>f;\n            x.push_back(f);\n            //cout<<\"x[i]:\"<<x[i]<<endl;\n        }\n        dp[0][128]=0;\n        for(int i=0;i<n;i++){\n            for(int j=0;j<256;j++){\n                if(dp[i][j]==MA)\n                    continue;\n                for(int k=0;k<m;k++){\n                    \n                    int nex = j+c[k];\n                    if(nex<0)nex=0;\n                    if(nex>255)nex=255;\n                    dp[i+1][nex]=min(dp[i+1][nex],dp[i][j] +(x[i]-nex)*(x[i]-nex));\n                    // cout<<\"i: \"<<i<<\"     j:\"<<j<<\"      k: \"<<k<<\"      c[k]: \"<<c[k]<<\"      dp[i][j]: \"<<dp[i][j]<<\"         x[i+1]: \"<<x[i+1]<<\"       i+1: \"<<i+1<<\"        nex:\"<<nex<<\"       dp[i+1][nex]:\"<<dp[i+1][nex]<<endl;\n                }\n            }\n        }\n        for(int j=0;j<256;j++)ans=min(ans,dp[n][j]);\n        cout<<ans<<endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef long double ld;\ntypedef pair<ll, ll> P;\n\n#define EACH(i,a) for (auto& i : a)\n#define FOR(i,a,b) for (ll i=(a);i<(b);i++)\n#define RFOR(i,a,b) for (ll i=(b)-1;i>=(a);i--)\n#define REP(i,n) for (ll i=0;i<(n);i++)\n#define RREP(i,n) for (ll i=(n)-1;i>=0;i--)\n#define debug(x) cout<<#x<<\": \"<<x<<endl\n#define pb push_back\n#define ALL(a) (a).begin(),(a).end()\n\nconst ll linf = 1e18;\nconst int inf = 1e9;\nconst double eps = 1e-12;\nconst double pi = acos(-1);\n\ntemplate<typename T>\nistream& operator>>(istream& is, vector<T>& vec) {\n\tEACH(x,vec) is >> x;\n\treturn is;\n}\n/*\ntemplate<class... T>\nostream& operator<<(ostream& os, tuple<T...>& t) {\n\tfor (size_t i = 0; i < tuple_size< tuple<T...> >::value; ++i) {\n\t\tif (i) os << \" \";\n\t\tos << get<0>(t);\n\t}\n\treturn os;\n}\n*/\ntemplate<typename T>\nostream& operator<<(ostream& os, vector<T>& vec) {\n\tREP(i,vec.size()) {\n\t\tif (i) os << \" \";\n\t\tos << vec[i];\n\t}\n\treturn os;\n}\ntemplate<typename T>\nostream& operator<<(ostream& os, vector< vector<T> >& vec) {\n\tREP(i,vec.size()) {\n\t\tif (i) os << endl;\n\t\tos << vec[i];\n\t}\n\treturn os;\n}\n\nll dp[20001][256];\nll f(ll x, ll y) {\n\treturn (x - y) * (x - y);\n}\nint main() {\n\tstd::ios::sync_with_stdio(false);\n\tstd::cin.tie(0);\n\tint N, M;\n\twhile ( cin >> N >> M, N || M ) {\n\t\tfill(dp[0], dp[20001], linf);\n\t\tvector<int> C(M); cin >> C;\n\t\tvector<int> x(N); cin >> x;\n\t\tdp[0][128] = 0;\n\t\tREP(i, N) {\n\t\t\tREP(j, 256) {\n\t\t\t\tif (dp[i][j] == linf) continue;\n\t\t\t\tREP(k, M) {\n\t\t\t\t\tint nj = max(0LL, min(255LL, j + C[k]));\n\t\t\t\t\tdp[i+1][nj] = min(dp[i+1][nj], dp[i][j] + f(nj, x[i]));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tll ans = linf;\n\t\tREP(i, 256) ans = min(ans, dp[N][i]);\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <vector>\n#include <complex>\n#include <algorithm>\n#include <set>\n#include <map>\n#include <queue>\n#include <string>\n#include <cstring>\n#include <stack>\n#include <cmath>\n#include <iomanip>\n#include <sstream>\n#include <cassert>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef ll li;\ntypedef pair<int,int> PI;\n#define EPS (1e-10L)\n#define rep(i,n) for(int i=0;i<(int)(n);++i)\n#define F first\n#define S second\n#define mp(a,b) make_pair(a,b)\n#define pb(a) push_back(a)\n#define SZ(a) (int)((a).size())\n#define ALL(a) a.begin(),a.end()\n#define FOR(it,a) for(__typeof(a.begin())it=a.begin();it!=a.end();++it)\nvoid pkuassert(bool t){t=1/t;};\nint dx[]={0,1,0,-1,1,1,-1,-1};\nint dy[]={1,0,-1,0,-1,1,1,-1};\n\nint n,m;\nint c[16];\n\n\nbool vis[256][20001];\n\nvoid solve(){\n  rep(i,m) cin >> c[i];\n  int x[n];\n  rep(i,n) cin >> x[i];\n  priority_queue<pair<int,PI> > q;\n  q.push(mp(0,mp(0,128)));\n  memset(vis,0,sizeof(vis));\n  while(!q.empty()){\n    int cc=-q.top().F;\n    int ne=q.top().S.F;\n    int cv=q.top().S.S;\n    q.pop();\n    if(ne==n){\n      cout << cc << endl;\n      return;\n    }\n    \n    if(vis[cv][ne]) continue;\n    vis[cv][ne]=true;\n    rep(j,m){\n      ll nv=cv+c[j];\n      nv=max(nv,0LL);\n      nv=min(nv,255LL);\n      if(vis[nv][ne+1]) continue;\n      q.push(mp(-cc-(nv-x[ne])*(nv-x[ne]),mp(ne+1,nv)));\n    }\n  }\n}\n\nint main(int argc, char *argv[])\n{\n  while(cin >> n >> m && n) solve();\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdlib>\n#include<algorithm>\n\nusing namespace std;\n\nconst long long inf=1LL<<60;\nlong long memo[20000][256];\n\nint main()\n{\n\tfor(int n,m;scanf(\"%d%d\",&n,&m),n;){\n\t\tint c[16];\n\t\tstatic int x[20001];\n\t\tfor(int i=0;i<m;i++)\tscanf(\"%d\",c+i);\n\t\tfor(int i=0;i<n;i++)\tscanf(\"%d\",x+i);\n\n\t\tfor(int i=0;i<=n;i++)for(int j=0;j<256;j++)\tmemo[i][j]=inf;\n\n\t\tmemo[0][128]=0;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tfor(int j=0;j<256;j++){\n\t\t\t\tif(memo[i-1][j]==inf)\tcontinue;\n\t\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\t\tint next=min(255,max(0,j+c[k]));\n\t\t\t\t\tmemo[i][next]=min(memo[i][next],\n\t\t\t\t\t\tmemo[i-1][j]+(next-x[i-1])*(next-x[i-1]));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tlong long emin=inf;\n\t\tfor(int j=0;j<256;j++)\temin=min(emin,memo[n][j]);\n\t\tprintf(\"%lld\\n\",emin);\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n\nusing namespace std;\n\ntypedef long long lli;\n\nconst lli INF = 1LL<<31;\n\nlli n, m, data[16], dp[2][256], in;\n\nmain(){\n  while(cin >> n >> m && (n|m)){\n    for(int i=0;i<m;i++) cin >> data[i];\n    fill(dp[0], dp[2], INF);\n    dp[0][128] = 0;\n    for(int i=0;i<n;i++){\n      for(int j=0;j<256;j++) dp[(i+1)%2][j] = INF;\n      cin >> in;\n      for(int j=0;j<256;j++){\n        if(dp[i][j] == INF) continue;\n        for(int k=0;k<m;k++){\n          lli next = j + data[k];\n          if(next < 0) next = 0;\n          if(next > 255) next = 255;\n          dp[(i+1)%2][next] = min(dp[(i+1)%2][next], abs(in-(next)) * abs(in-(next)) + dp[i%2][j]);\n        }\n      }\n    }\n    lli ans = INF;\n    for(int i=0;i<256;i++) ans = min(ans, dp[n%2][i]);\n    cout << ans << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <cmath>\n#include <cstdio>\n#include <functional>\n#include <numeric>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <utility>\n#include <sstream>\n#include <complex>\n\nusing namespace std;\n\n#define FOR(i,a,b) for(long long i=(a);i<(b);i++)\n#define REP(i,N) for(long long i=0;i<(N);i++)\n#define ALL(s) (s).begin(),(s).end()\n#define fi first\n#define se second\n\n#define PI acos(-1.0)\n#define INF 10000007\n#define EPS 1e-10\n\ntypedef long long ll;\ntypedef pair<ll, ll> P;\ntypedef pair<double, double> PD;\ntypedef pair<string, ll> PS;\ntypedef vector<ll> V;\ntypedef pair<P, char> PC;\n\nint n, m;\nint c[16 + 1], x[20000 + 1];\nint dp[1][256 + 1];\n\nint main(){\n\twhile (cin >> n >> m&&n + m){\n\t\tREP(i, 20){\n\t\t\tREP(j, 300){\n\t\t\t\tdp[i][j] = INF;\n\t\t\t}\n\t\t}\n\t\tREP(i, m){\n\t\t\tcin >> c[i];\n\t\t}\n\t\tREP(i, n){\n\t\t\tcin >> x[i];\n\t\t}\n\t\tdp[0][128] = 0;\n\t\tREP(i, n){\n\t\t\tREP(j, m){\n\t\t\t\tREP(k, 256){\n\t\t\t\t\tint num = k + c[j];\n\t\t\t\t\tif (num < 0)num = 0;\n\t\t\t\t\tif (num > 255)num = 255;\n\t\t\t\t\tdp[i + 1][num] = min(dp[i][k] + (x[i] - num)*(x[i] - num), dp[i + 1][num]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = INF;\n\t\tREP(i, 300){\n\t\t\tans = min(ans, dp[n][i]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\n#define INF 1e9\n#define llINF 1e18\n#define MOD 1e9+7\n#define pb push_back\n#define mp make_pair \n#define F first\n#define S second\n#define ll long long\n#define sqr(x) (x)*(x)\nusing namespace std;\nvector<int>C(5000);\nvector<int>x(100000);\nll ans=0;\nint n,m;\nint main(){\n  while(cin>>n>>m,n){\n    ans=llINF;\n    ll dp[n+20][530]={};\n    for(int i=0;i<n+2;i++)\n      for(int j=0;j<520;j++)\n\tdp[i][j]=llINF;\n    for(int i=0;i<m;i++)\n      cin>>C[i];\n    for(int i=0;i<n;i++){\n      cin>>x[i];\n      x[i]+=260;\n    }\n\n    dp[0][128+260]=0;\n    for(int i=1;i<=n;i++){\n      for(int j=5;j<=515;j++){\n\tif(dp[i-1][j]!=llINF){\n\t  for(int k=0;k<m;k++){\n\t    int num=j+C[k];\n\t    if(num>=515)num=515;\n\t    else if(num<=5)num=5;\n\t    //cout<<i<<\" \"<<\n\t    dp[i][num]=min(dp[i-1][j]+sqr((num-x[i-1])),dp[i][num]);\n\t  }\n\t}\n      }\n    }\n    for(int i=0;i<520;i++){\n      ans=min(dp[n][i],ans);\n    }\n    cout<<ans<<endl;\n  }\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define FOR(i,k,n) for(int i = (k); i < (n); i++)\n#define REP(i,n) FOR(i,0,n)\n#define INF 114514810\n#define MOD 1000000007\n#define ALL(a) (a).begin(),(a).end()\n#define ms(m,v) memset(m,v,sizeof(m))\n#define D10  fixed<<setprecision(10) \ntypedef vector<int> vi;\ntypedef vector<string> vs;\ntypedef pair<int, int> P;\ntypedef long long ll;\nstruct edge{ int from, to, cost; };\n\nint n, m;\nint c[20]; int x[20005];\nint memo[20005][300];\n\nint dp(int y, int i)\n{\n\tif (i == n) return 0;\n\tif (memo[y][i] != INF) return memo[y][i];\n\tint res = INF;\n\tREP(j, m)\n\t{\n\t\tint tmp = y;\n\t\ttmp += c[j];\n\t\tif (tmp > 255) tmp = 255;\n\t\tif (tmp < 0) tmp = 0;\n\t\tres = min(res, dp(tmp,i+1)+(tmp-x[i])*(tmp-x[i]));\n\t}\n\treturn memo[y][i] = res;\n}\n\nint main()\n{\n\twhile (cin >> n >> m, n)\n\t{\n\t\tREP(i, 20005)REP(j, 300) memo[i][j] = INF;\n\t\tREP(i, m) cin >> c[i];\n\t\tREP(i, n) cin >> x[i];\n\t\tcout << dp(128, 0) << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<(n);i++)\nusing namespace std;\nint N,M;\nint C[20];\nint X[20004];\nconst long long INF = 1000000000000;\nlong long dp[20004][260];\nlong long dfs(int i_,int y_) {\n    if(i_ == N) return dp[i_][y_] = 0;\n    if(dp[i_][y_]!=INF) return dp[i_][y_];\n\n    long long ret = INF;\n\n    rep(i,M) {\n        int y = y_ + C[i];\n        y = max(y,0);\n        y = min(y,255);\n        //cout<<y<<\",\"<<X[i_]<<endl;\n        ret = min(ret,dfs(i_+1,y)+(X[i_]-y)*(X[i_]-y));\n\n    }\n    //cout<<i_<<\",\"<<y_<<\",\"<<ret<<endl;\n    return dp[i_][y_] = ret;\n\n}\nvoid solve() {\n    rep(i,20004) rep(j,260) dp[i][j] = INF;\n    rep(i,M) cin>>C[i];\n    rep(i,N) cin>>X[i];\n    long long ans = INF;\n    ans = min(ans,dfs(0,128));\n    rep(j,260) {\n        ans = min(ans,dp[0][j]);\n    }\n    cout<<ans<<endl;\n    rep(i,M) C[i] = 0;\n    rep(i,N) X[i] = 0;\n\n}\nint main() {\n    while(cin>>N>>M) {\n        if(N+M==0) return 0;\n        solve();\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define INF 1000000000\n\nint main()\n{\n    int N, M;\n    while (true)\n    {\n      cin >> N >> M;\n      if (N == 0 && M == 0)\n      {\n        break;\n      }\n      vector<int> C(M);\n      vector<int> X(N);\n      for (int i = 0; i < M; ++i)\n      {\n        cin >> C.at(i);\n      }\n      for (int i = 0; i < N; ++i)\n      {\n        cin >> X.at(i);\n      }\n\n      vector<vector<int>> dp(N + 1, vector<int>(256, INF));\n      dp.at(0).at(128) = 0;\n      for (int i = 0; i < N; ++i)\n      {\n        for (int j = 0; j < 256; ++j)\n        {\n          if (dp.at(i).at(j) == INF)\n          {\n            continue;\n          }\n          int dp_ij = dp.at(i).at(j);\n          for (int k = 0; k < M; ++k)\n          {\n            int next_j = max(0, min(j + C.at(k), 255));\n            dp.at(i + 1).at(next_j) = min(dp.at(i + 1).at(next_j), dp.at(i).at(j) + int(pow(X.at(i) - next_j, 2.0)));\n          }\n        }\n      }\n      int ans = INF;\n      for (int i = 0; i < 256; ++i)\n      {\n        if (dp.at(N).at(i) == INF)\n        {\n          continue;\n        }\n        ans = min(dp.at(N).at(i), ans);\n      }\n      cout << ans << endl;\n    }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <stack>\n#include <queue>\n#include <deque>\n#include <map>\n#include <set>\n#include <tuple>\n#include <bitset>\n#include <memory>\n#include <cmath>\n#include <algorithm>\n#include <functional>\n#include <iomanip>\n#include <numeric>\n#include <climits>\n#include <cfloat>\nvoid change_to_min(int& target, const int suspect) {\n\tif (target > suspect) target = suspect;\n}\nint square(const int value) { return value * value; }\nint cal_min_diff(const std::vector<int>& signal, const std::vector<int>&code, const int current_pos, const int prev_value, std::vector<std::vector<int>>& memo) {\n\tif (current_pos == signal.size()) return 0;\n\tif (memo[current_pos][prev_value] >= 0) return memo[current_pos][prev_value];\n\tmemo[current_pos][prev_value] = INT_MAX;\n\tfor (const auto c : code) {\n\t\tif (prev_value + c < 0) change_to_min(memo[current_pos][prev_value], cal_min_diff(signal, code, current_pos + 1, 0, memo) + square(signal[current_pos]));\n\t\telse if (255 < prev_value + c) change_to_min(memo[current_pos][prev_value], cal_min_diff(signal, code, current_pos + 1, 255, memo) + square(255 - signal[current_pos]));\n\t\telse change_to_min(memo[current_pos][prev_value], cal_min_diff(signal, code, current_pos + 1, prev_value + c, memo) + square(signal[current_pos] - prev_value - c));\n\t}\n\treturn memo[current_pos][prev_value];\n}\nint main() {\n\twhile (true) {\n\t\tint n, m; std::cin >> n >> m; if (n == 0 && m == 0) return 0;\n\t\tstd::vector<int> code_book(m); for (auto& c : code_book) std::cin >> c;\n\t\tstd::vector<int> signal(n); for (auto& s : signal) std::cin >> s;\n\t\tstd::vector<std::vector<int>>memo(n, std::vector<int>(256, -1));\n\t\tstd::cout << cal_min_diff(signal, code_book, 0, 128, memo) << std::endl;\n\t}\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nconst int MAX_N=2e4+10,MAX_M=20,MAX=256,INF=1e9;\n\nint N,M,nxt,ans;\nint C[MAX_M],x[MAX_N];\nint dp[MAX_N][MAX];\n\nvoid solve(){\n    for (int i=0;i<MAX_N;++i)\n        for (int j=0;j<MAX;++j)\n            dp[i][j]=INF;\n    dp[0][128]=0;\n    for (int i=0;i<N;++i){\n        for (int j=0;j<MAX;++j){\n            for (int k=0;k<M;++k){\n                nxt=max(0,min(MAX-1,j+C[k]));\n                dp[i+1][nxt]=min(dp[i+1][nxt],dp[i][j]+(x[i]-nxt)*(x[i]-nxt));\n            }\n        }\n    }\n    ans=INF;\n    for (int j=0;j<MAX;++j) ans=min(ans,dp[N][j]);\n    cout << ans << '\\n';\n}\n\nint main(){\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    while(cin >> N >> M,N){\n        for (int i=0;i<M;++i) cin >> C[i];\n        for (int i=0;i<N;++i) cin >> x[i];\n        solve();\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n\nusing namespace std;\n\nconst int INF = 1<<30;\n\nint n, m, data[16], dp[2][256], in;\n\nmain(){\n  while(cin >> n >> m && (n|m)){\n    for(int i=0;i<m;i++) cin >> data[i];\n    fill(dp[0], dp[2], INF);\n    dp[0][128] = 0;\n    for(int i=0;i<n;i++){\n      for(int j=0;j<256;j++) dp[(i+1)%2][j] = INF;\n      cin >> in;\n      for(int j=0;j<256;j++){\n        if(dp[i%2][j] == INF) continue;\n        for(int k=0;k<m;k++){\n          int next = j + data[k];\n          if(next < 0) next = 0;\n          if(next > 255) next = 255;\n          dp[(i+1)%2][next] = min(dp[(i+1)%2][next], abs(in-(next)) * abs(in-(next)) + dp[i%2][j]);\n        }\n      }\n    }\n    int ans = INF;\n    for(int i=0;i<256;i++) ans = min(ans, dp[n%2][i]);\n    cout << ans << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <cmath>\n#include <cstdio>\n#include <functional>\n#include <numeric>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <utility>\n#include <sstream>\n#include <complex>\n\nusing namespace std;\n\n#define FOR(i,a,b) for(long long i=(a);i<(b);i++)\n#define REP(i,N) for(long long i=0;i<(N);i++)\n#define ALL(s) (s).begin(),(s).end()\n#define fi first\n#define se second\n\n#define PI acos(-1.0)\n#define INF 1000000007\n#define EPS 1e-10\n\ntypedef long long ll;\ntypedef pair<ll, ll> P;\ntypedef pair<double, double> PD;\ntypedef pair<string, ll> PS;\ntypedef vector<ll> V;\ntypedef pair<P, char> PC;\n\nint n, m;\nint c[16], x[20000];\nint dp[20][300];\n\nint main(){\n\twhile (cin >> n >> m&&n + m){\n\t\tREP(i, 20)REP(j, 300)dp[i][j] = INF;\n\t\tREP(i, m)cin >> c[i];\n\t\tREP(i, n)cin >> x[i];\n\t\tdp[0][128] = 0;\n\t\tREP(i, n){\n\t\t\tREP(j, m){\n\t\t\t\tREP(k, 256){\n\t\t\t\t\tint num = k + c[j];\n\t\t\t\t\tif (num < 0)num = 0;\n\t\t\t\t\tif (num > 255)num = 255;\n\t\t\t\t\tdp[i + 1][num] = min(dp[i][k] + (x[i] - (num))*(x[i] - (num)), dp[i + 1][num]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = INF;\n\t\tREP(i, 300){\n\t\t\tans = min(ans, dp[n][i]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <unordered_map>\nint square(int x){\n\treturn x * x;\n}\nint main()\n{\n\tusing namespace std;\n\tint N, M, i, j, c, k, v, y, sub_sq, min;\n\tvector <int> C, x;\n\tunordered_map <int, int> :: iterator it;\n\twhile (true) \n\t{\n\t\tcin >> N >> M;\n\t\tif (N == 0 and M == 0) break;\n\t\tC.resize(M); x.resize(N);\n\t\tfor (i=0;i<M;i++) cin >> C[i];\n\t\tfor (i=0;i<N;i++) cin >> x[i];\n\t\tunordered_map <int, int> dp;\n\t\tdp[128] = 0;\n\t\tfor(i = 0; i < N; i++)\n\t\t{\n\t\t\tunordered_map <int, int> tmpdp;\n\t\t\tfor (it = dp.begin();it != dp.end(); it++)\n\t\t\t{\n\t\t\t\tk = it->first; v = it->second;\n\t\t\t\tfor(j = 0; j < M; j++)\n\t\t\t\t{\n\t\t\t\t\tc = C[j];\n\t\t\t\t\tif (k + c > 255) y = 255;\n\t\t\t\t\telse if (k + c < 0) y = 0;\n\t\t\t\t\telse y = k + c;\n\t\t\t\t\tsub_sq = square(x[i]-y);\n\t\t\t\t\tif(not(tmpdp.count(y) != 0 and v + sub_sq >= tmpdp[y])) \n\t\t\t\t\t\ttmpdp[y] = v + sub_sq;\n\t\t\t\t}\n\t\t\t}\n\t\t\tdp = tmpdp;\n\t\t}\n\t\tit = dp.begin();\n\t\tmin = it -> second;\n\t\tit++;\n\t\tfor(;it != dp.end();it++) min = min < it -> second ? min : it -> second;  \n\t\tcout << min << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "//#include <bits/stdc++.h>\n#include<iostream>\n#include<stdio.h>\n#include<bitset>\n#include<algorithm>\n#include<vector>\n#include<list>\n#include<queue>\n#include<stack>\n#include<string>\n#include<string.h>\n#include<cmath>\n#include<utility>\n#include<functional>\n#include<map>\n#include<set>\n\n\n#define FOR(i, a, b) for( int i=(a);i<=(b);i++)\n#define RFOR(i, a, b) for( int i=(a);i>=(b);i--)\n#define LFOR(i, a, b) for( long long int i=(a);i<=(b);i++)\n#define LRFOR(i, a, b) for(long long int i=(a);i>=(b);i--)\n#define MOD 1000000007\n#define INF 1000000000 //2000000000\n#define LLINF 1000000000000000000 //9000000000000000000\n#define PI 3.14159265358979\n#define MAXI 7500000\n\nusing namespace std;\ntypedef long long int ll;\ntypedef pair< long long int, long long  int> P;\n\n\nint main(void) {\n\t\n\twhile (1) {\n\t\tint n, m;\n\t\tint mini = INF;\n\n\t\tcin >> n >> m;\n\t\tif (n == 0) {\n\t\t\tbreak;\n\t\t}\n\t\tvector<int> c(m + 1,0);\n\t\tvector<int> x(n + 1,0);\n\t\tvector< vector<int> > dp(n + 1, vector<int>(256, INF));\n\n\t\tFOR(i, 1, m) {\n\t\t\tcin >> c[i];\n\t\t}\n\t\tFOR(i, 1, n) {\n\t\t\tcin >> x[i];\n\t\t}\n\n\t\tdp[0][128] = 0;\n\n\t\tFOR(i, 1, n) {\n\t\t\tFOR(k, 0, 255) {\n\t\t\t\tFOR(j, 1, m) {\n\t\t\t\t\t//cout << i << \" \" << j << \" \" << k << endl;//1 3 128\n\t\t\t\t\t\n\t\t\t\t\tif (dp[i - 1][k] != INF) {\n\t\t\t\t\t\tint p;\n\t\t\t\t\t\tif (k + c[j] >= 255) {\n\t\t\t\t\t\t\tp = 255;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (k + c[j] <= 0) {\n\t\t\t\t\t\t\tp = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tp = k + c[j];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdp[i][p] = min(dp[i][p], dp[i - 1][k] + (abs(x[i] - p))*(abs(x[i] - p)));\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tFOR(i, 0, 255) {\n\t\t\t//cout << i << \" \" << dp[n][i] << endl;\n\t\t\tif (dp[n][i] < mini) {\n\t\t\t\tmini = dp[n][i];\n\t\t\t}\n\t\t}\n\t\t\n\t\tcout << mini << endl;\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\nusing namespace std;\nint main(){\n\tint N,M;\n\tconst int INF=(1<<28);\n\twhile(cin >> N >> M, (N|M)){\n\t\tint c[M];\n\t\tfor(int i=0; i<M; ++i)\tcin >> c[i];\n\t\tint x[N];\n\t\tfor(int i=0; i<N; ++i)\tcin >> x[i];\n\t\tvector<vector<int> > dp(N+1, vector<int>(256, INF));\n\t\tdp[0][128]=0;\n\t\tfor(int i=0; i<N; ++i)for(int j=0; j<=255; ++j)for(int k=0; k<M; ++k){\n\t\t\tint next=max(0,min(255, j+c[k]));\n\t\t\tdp[i+1][next]=min(dp[i+1][next], dp[i][j]+((x[i]-next)*(x[i]-next)));\n\t\t}\n\t\tint ans=INF;\n\t\tfor(int i=0; i<=255; ++i)\tans=min(ans, dp[N][i]);\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n\n#define IF 1300500010\n#define lengthof(x) (sizeof(x) / sizeof(*(x)))\n\nusing namespace std;\n\nint main(int argc, char const *argv[])\n{\n\tint n,m;\n\tlong long dp[1<<8][2];\n\tlong long min_;\n\n\twhile(1){\n\t\tcin>>n>>m;\n\t\tif(n+m==0) break;\n\n\t\tvector<long long> cb(m);\n\t\tvector<long long> x(n);\n\t\tfor(int i1=0;i1<m;i1++){\n\t\t\tcin>>cb[i1];\n\t\t}\n\n\t\tfor(int i1=0;i1<n;i1++){\n\t\t\tcin>>x[i1];\n\t\t}\n\n\t\tfill((long long*)dp,(long long *)(dp+lengthof(dp)),IF);\n\n\t\tdp[128][0]=0;\n\t\tfor(int i1=0;i1<n;i1++){\n\t\t\tfor(int i2=0;i2<(1<<8);i2++){\n\t\t\t\tif(dp[i2][i1%2]!=IF){\n\n\t\t\t\t\tfor(int i3=0;i3<m;i3++){\n\t\t\t\t\t\tint temp=i2+cb[i3];\n\t\t\t\t\t\tif(temp<0) temp=0;\n\t\t\t\t\t\tif(temp>255) temp=255;\n\t\t\t\t\t\tdp[temp][(i1+1)%2]=min(dp[temp][(i1+1)%2],dp[i2][i1%2]+(temp-x[i1])*(temp-x[i1]));\n\t\t\t\t\t}\n\t\t\t\t\tdp[i2][i1%2]=IF;\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\t\tmin_=IF;\n\t\tfor(int i1=0;i1<(1<<8);i1++){\n\t\t\tmin_=min(min_,dp[i1][n%2]);\n\t\t}\n\n\t\tcout<<min_<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define INF (1 << 25)\n\nint dp[20001][256];\n\n\nint main()\n{\n  int N, M;\n  while(cin >> N >> M, N || M){\n    int C[16], x[20000];\n    for(int i = 0; i < M; i++) cin >> C[i];\n    for(int i = 0; i < N; i++) cin >> x[i];\n    for(int i = 0; i < 20001; i++) for(int j = 0; j < 256; j++) dp[i][j] = INF;\n    dp[0][128] = 0;\n    for(int i = 0; i < N; i++){\n      for(int j = 0; j < 256; j++){\n\tif(dp[i][j] == INF) continue;\n\tfor(int k = 0; k < M; k++){\n\t  int y = j + C[k];\n\t  if(y < 0) y = 0;\n\t  else if(y > 255) y = 255;\n\t  int sqsum = (x[i] - y)*(x[i] - y);\n\t  dp[i+1][y] = min(dp[i+1][y], dp[i][j] + sqsum);\t  \n\t}\n      }\n    }\n    cout << *min_element(dp[N], dp[N] + 256) << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define INF 1e9\n\nint main(){\n    while(1){\n        int n, m; cin >> n >> m;\n        if(!n) break;\n        vector<int> c(m);\n        vector<int> x(n);\n        for(int i = 0; i < m; i++) cin >> c[i];\n        for(int i = 0; i < n; i++) cin >> x[i];\n        vector<vector<int> > dp(256, vector<int> (n + 1, INF));\n        for(int i = 0; i <= 255; i++) dp[i][n] = 0;\n        for(int j = n - 1; j >= 0; j--){\n            for(int i = 0; i <= 255; i++){\n                for(int k = 0; k < m; k++){\n                    int t = i + c[k];\n                    if(t < 0) t = 0;\n                    if(t > 255) t = 255;\n                    dp[i][j] = min(dp[i][j], (t - x[j]) * (t - x[j]) + dp[t][j + 1]);\n                }\n            }\n        }\n\n        cout << dp[128][0] << endl;\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\n#include <math.h>\n#include <stdio.h>\n#include <string>\n#include <sstream>\n#include <vector>\n#include <set>\n#include <stack>\n#include <map>\n#include <cmath>\n#include <queue>\n#define rep(i, n) for(int i = 0; i < (int)(n); i++)\nusing namespace std;\ntypedef unsigned long ll;\n#define MAX_N 20001\n#define MAX_X 256\n#define INF 2000000000\n\nint dp[MAX_N][MAX_X];\n\nvoid init(){\n\trep(i,MAX_N){\n\t\trep(j,MAX_X) dp[i][j] = INF;\n\t}\n}\n\n\nint main()\n{\n\tint N,M;\n\tcin>>N>>M;\n\twhile( !(N == 0 && M == 0)){\n\t\tinit();\n\t\tint *codeBook = new int[M];\n\t\tint *x = new int[N];\n\t\trep(i,M) cin>>codeBook[i];\n\t\trep(i,N) cin>>x[i];\n\t\tdp[0][128] = 0;\n\t\tfor(int i = 0; i < N; i++){\n\t\t\tfor(int j = 0; j <= 255; j++){\n\t\t\t\tif( dp[i][j] == INF) continue;\n\t\t\t\tfor(int k = 0; k < M; k++){\n\t\t\t\t\tint next = j + codeBook[k];\n\t\t\t\t\tif(next <= 0){\n\t\t\t\t\t\tnext = 0;\n\t\t\t\t\t}else if(next >= 255){\n\t\t\t\t\t\tnext = 255;\n\t\t\t\t\t}\n\t\t\t\t\tdp[i+1][next] = min(dp[i+1][next], dp[i][j] + (next-x[i])*(next-x[i]));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = INF;\n\t\trep(i,256){\n\t\t\tans = min(ans,dp[N][i]);\n\t\t}\n\t\tcout<<ans<<endl;\n\t\tcin>>N>>M;\n\t}\n\treturn 0;\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define inf 1e9\n#define ll long long\n#define ull unsigned long long\n#define M 1000000007\n#define P pair<int,int>\n#define PLL pair<ll,ll>\n#define FOR(i,m,n) for(int i=m;i<n;i++)\n#define RFOR(i,m,n) for(int i=m;i>=n;i--)\n#define rep(i,n) FOR(i,0,n)\n#define rrep(i,n) RFOR(i,n,0)\n#define all(a) a.begin(),a.end()\nconst int vx[4] = {0,1,0,-1};\nconst int vy[4] = {1,0,-1,0};\n#define PI 3.14159265\n\nint dp[21000][300];\n\nvoid f(int n,int m){\n\n  FOR(i,1,n+1){\n    rep(j,300){\n      dp[i][j] = inf;\n    }\n  }\n  int c[1000];\n  rep(i,m){\n    cin>>c[i];\n  }\n\n  FOR(i,1,n+1){\n    int x;\n    cin>>x;\n    rep(j,256){\n      rep(k,m){\n        int a = j+c[k];\n        a = min(255,a);\n        a = max(0,a);\n        int d = (a-x)*(a-x);\n        dp[i][a] = min(dp[i][a],dp[i-1][j]+d);\n      }\n    }\n  }\n  int ans = inf;\n  rep(i,256){\n    ans = min(ans,dp[n][i]);\n  }\n\n  cout<<ans<<endl;\n\n}\n\nint main(){\n  while(1){\n    int n,m;\n    cin>>n>>m;\n    if(n==0&&m==0) break;\n    f(n,m);\n  }\n\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main() {\n    int N, M;\n    while (cin >> N >> M, N) {\n        vector<int> C(M), x(N);\n        for (int i = 0; i < M; ++i) cin >> C[i];\n        for (int i = 0; i < N; ++i) cin >> x[i];\n        const int INF = 1 << 30;\n        vector<vector<int>> dp(N + 1, vector<int>(256, INF));\n        dp[0][128] = 0;\n        for (int i = 0; i < N; ++i) for (int j = 0; j < 256; ++j) if (dp[i][j] != INF) {\n            for (int k = 0; k < M; ++k) {\n                int nj = max(0, min(255, j + C[k]));\n                dp[i + 1][nj] = min(dp[i + 1][nj], dp[i][j] + (nj - x[i]) * (nj - x[i]));\n            }\n        }\n        int ans = INF;\n        for (int i = 0; i < 256; ++i) {\n            ans = min(ans, dp[N][i]);\n        }\n        cout << ans << endl;\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define inf 1e9\n#define ll long long\n#define ull unsigned long long\n#define M 1000000007\n#define P pair<int,int>\n#define PLL pair<ll,ll>\n#define FOR(i,m,n) for(int i=m;i<n;i++)\n#define RFOR(i,m,n) for(int i=m;i>=n;i--)\n#define rep(i,n) FOR(i,0,n)\n#define rrep(i,n) RFOR(i,n,0)\n#define all(a) a.begin(),a.end()\nconst int vx[4] = {0,1,0,-1};\nconst int vy[4] = {1,0,-1,0};\n#define PI 3.14159265\n\nint dp[21000][300];\n\nvoid f(int n,int m){\n\n  FOR(i,1,n+1){\n    rep(j,300){\n      dp[i][j] = inf;\n    }\n  }\n  int c[1000];\n  rep(i,m){\n    cin>>c[i];\n  }\n\n  FOR(i,1,n+1){\n    int x;\n    cin>>x;\n    rep(j,256){\n      rep(k,m){\n        int a = j+c[k];\n        a = min(255,a);\n        a = max(0,a);\n        int d = (a-x)*(a-x);\n        dp[i][a] = min(dp[i][a],dp[i-1][j]+d);\n      }\n    }\n  }\n  int ans = inf;\n  rep(i,300){\n    ans = min(ans,dp[n][i]);\n  }\n\n  cout<<ans<<endl;\n\n}\n\nint main(){\n  while(1){\n    int n,m;\n    cin>>n>>m;\n    if(n==0&&m==0) break;\n    f(n,m);\n  }\n\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define rep(i, n) for (int i = 0; i < (int)(n); i++)\n#define all(v) v.begin(),v.end()\n#define _GLIBCXX_DEBUG\n\nusing ll = long long;\nusing vi = vector<int>;\nusing vll = vector<ll>;\nusing vd = vector<double>;\nusing vvi = vector<vi>;\nusing vvll = vector<vll>;\nusing vvd = vector<vd>;\nusing vvvi = vector<vvi>;\nusing vvvll = vector<vvll>;\nusing vvvd = vector<vvd>;\n\nconst double pi=acos(-1);\nconst ll MOD=1e9+7;\nconst ll INF=(1LL<<60);\n\nint n,m;\nint c[17],x[20010];\nint dp[20010][256];\n\nint main() {\n    while (1){\n        cin>>n>>m;\n        if (n==0 && m==0)return 0;\n        memset(c,0,sizeof(c));\n        memset(x,0,sizeof(x));\n        rep(i,m)cin>>c[i];\n        rep(i,n)cin>>x[i+1];\n        vvi dp(n+1,vi(256,1e9*2));\n        //cout<<dp[1][1]<<endl;\n        dp[0][128]=0;\n        for (int i=0;i<n;i++){\n            for (int j=0;j<256;j++){\n                if (dp[i][j]==1e12*2)continue;\n                else {\n                    rep(k,m){\n                        int num=j+c[k];\n                        if (num<0)num=0;\n                        if (num>255)num=255;\n                        int dx=num-x[i+1];\n                        dp[i+1][num]=min(dp[i+1][num],dp[i][j]+dx*dx);\n                    }\n                }\n            }\n        }\n        int ans=1e9*2;\n        rep(i,256)ans=min(ans,dp[n][i]);\n        cout<<ans<<endl;\n\n    }\n    \n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\nint C[16];\nint x[2001];\nint dp[2001][256];\nconst int INF = 1 << 30;\nint main() {\n\tint N, M;\n\twhile (cin >> N >> M, N) {\n\t\tfor (int i = 0; i < M; i++) {\n\t\t\tcin >> C[i];\n\t\t}\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\tcin >> x[i];\n\t\t}\n\t\tfor (int i = 0; i <= N; i++) {\n\t\t\tfor (int j = 0; j < 256; j++) dp[i][j] = INF;\n\t\t}\n\t\tdp[0][128] = 0;\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\tfor (int j = 0; j < 256; j++) {\n\t\t\t\tif (dp[i][j] == INF) continue;\n\t\t\t\tfor (int k = 0; k < M; k++) {\n\t\t\t\t\tint nj = j + C[k];\n\t\t\t\t\tif (0 > nj) nj = 0;\n\t\t\t\t\tif (nj > 255) nj = 255;\n\t\t\t\t\tint tmp = (nj - x[i])*(nj - x[i]);\n\t\t\t\t\tif (dp[i][j] + tmp < dp[i+1][nj]) {\n\t\t\t\t\t\tdp[i+1][nj] = dp[i][j] + tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = INF;\n\t\tfor (int i = 0; i < 256; i++) {\n\t\t\tans = min(ans, dp[N][i]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\t\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing ll = long long;\nconst ll INF = 2000000000;\n\nint main()\n{\n\tll N, M;\n\twhile (cin >> N >> M, N | M) {\n\t\tvector<ll> C(M), x(N);\n\t\tfor (int i = 0; i < M; i++) {\n\t\t\tcin >> C[i];\n\t\t}\n\t\tsort(C.begin(), C.end());\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\tcin >> x[i];\n\t\t}\n\t\tvector<vector<ll>> dp(N + 1, vector<ll>(256, INF));\n\t\tdp[0][128] = 0;\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\tfor (int j = 0; j < 256; j++) {\n\t\t\t\tfor (int k = 0; k < M; k++) {\n\t\t\t\t\tll id = min(255ll, max(0ll, j + C[k])), d = id - x[i]; d *= d;\n\t\t\t\t\tdp[i + 1][id] = min(dp[i + 1][id], dp[i][j] + d);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tll res = INF;\n\t\tfor (int i = 0; i < 256; i++) {\n\t\t\tres = min(res, dp[N][i]);\n\t\t}\n\t\tcout << res << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define reps(i,j,k) for(int i = j; i < k; ++i)\n#define rep(i,j) reps(i,0,j)\n#define pb push_back\n#define fr first\n#define fs fr\n#define sc second\nusing namespace std;\ntypedef vector<int> vi;\ntypedef pair<int,int> Pii;\ntypedef pair<int,int> pii;\ntypedef long long ll;\n\n/*\ntemplate<class T> &ostream<<(ostream &out, const vecotr<T> &v){\n\tout << \"{\";\n\trep(i,v.size()) out << v[i] << \", \";\n\treturn out << \"}\" << endl;\n}\n*/\nstruct data{\n\tint base;\n\tint val;\n\tdata(){}\n\tdata(int base,int val){\n\t\tthis->base = base;\n\t\tthis->val = val;\n\t}\n};\nint main(){\n\tint N,M;\n\twhile(cin >> N >> M,(N|M)){\n\t\tvi C(M);\n\t\tvi X(N+1);\n\n\t\trep(i,M){\n\t\t\tcin >> C[i];\n\t\t}\n\n\t\treps(i,1,N+1){\n\t\t\tcin >> X[i];\n\t\t}\n\n\t\tdata dp[20010][17];\n\n\t\trep(j,M){\n\t\t\tdp[0][j] = data(128,0);\n\t\t}\n\t\treps(i,1,N+1){\n\t\t\trep(j,M){\n\t\t\t\tdp[i][j] = data(-1,1e9);\n\t\t\t}\n\t\t}\n\n\t\treps(i,1,N+1){\n\t\t\trep(j,M){\n\t\t\t\tint b = -1;\n\t\t\t\tint v = 1e9;\n\t\t\t\trep(k,M){\n\t\t\t\t\tint s = dp[i-1][j].base+C[k];\n\t\t\t\t\tif(s < 0)s = 0;\n\t\t\t\t\tif(s > 255)s = 255;\n\t\t\t\t\tint tmp = (X[i]-s)*(X[i]-s);\n\t\t\t\t\tif(dp[i][k].val > dp[i-1][j].val+tmp){\n\t\t\t\t\t\tv = tmp + dp[i-1][j].val;\n\t\t\t\t\t\tb = s;\n\t\t\t\t\t\tdp[i][k] = data(b,v);\n\t\t\t\t\t}\t\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = 1e9;\n\t\trep(j,M){\n\t\t\tans = min(ans,dp[N][j].val);\n\t\t}\n\n\t\tcout << ans << endl;\n\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "/* main code starts from line 155. */\n\n/* ---------- STL Libraries ---------- */\n\n// IO library\n#include <cstdio>\n#include <iomanip>\n#include <ios>\n#include <iostream>\n\n// algorithm library\n#include <algorithm>\n#include <cmath>\n#include <numeric>\n\n// container library\n#include <array>\n#include <bitset>\n#include <map>\n#include <queue>\n#include <set>\n#include <string>\n#include <vector>\n\n/* ---------- Namespace ---------- */\n\nusing namespace std;\n\n/* ---------- Type Abbreviation ---------- */\n\ntemplate <typename T>\nusing V = vector<T>;\ntemplate <typename T, typename U>\nusing P = pair<T, U>;\ntemplate <typename T>\nusing PQ = priority_queue<T>;\ntemplate <typename T>\nusing GPQ = priority_queue<T, vector<T>, greater<T>>;\n\nusing ll = long long;\n\n#define fst first\n#define snd second\n#define pb push_back\n#define mp make_pair\n#define mt make_tuple\n\n/* ---------- conversion ---------- */\n\n#define INT(c) static_cast<int>(c)\n#define CHAR(n) static_cast<char>(n)\n#define LL(n) static_cast<ll>(n)\n#define DOUBLE(n) static_cast<double>(n)\n\n/* ---------- container ---------- */\n\n#define ALL(v) (v).begin(), (v).end()\n#define SIZE(v) (LL((v).size()))\n\n#define FIND(v, k) (v).find(k) != (v).end()\n#define VFIND(v, k) find(ALL(v), k) != (v).end()\n\n#define SORT(v) sort(ALL(v))\n#define GSORT(v) sort(ALL(v), greater<decltype((v).front())>())\n\n/* ---------- repetition ---------- */\n\n#define FOR(i, a, b) for (ll i = (a); i <= (b); i++)\n#define RFOR(i, a, b) for (ll i = (a); i >= (b); i--)\n\n/* ---------- Short Functions ---------- */\n\ntemplate <typename T>\nT sq(T a) {\n    return a * a;\n}\n\ntemplate <typename T>\nT gcd(T a, T b) {\n    if (a > b) return gcd(b, a);\n    return a == 0 ? b : gcd(b % a, a);\n}\n\ntemplate <typename T>\nT mypow(T b, T n) {\n    if (n == 0) return 1;\n    if (n == 1) return n;\n    if (n % 2 == 0) {\n        return mypow(sq(b), n / 2);\n    } else {\n        return mypow(b, n - 1) * b;\n    }\n}\n\n/* --------------------\ntemplate <typename T>\nT mypow(T b, T n) {\n    if (n == 0) return 1;\n    if (n == 1) return n % MOD;\n    if (n % 2 == 0) {\n        return mypow(sq(b) % MOD, n / 2);\n    } else {\n        return mypow(b, n - 1) * b % MOD;\n    }\n}\n-------------------- */\n\n#define fcout cout << fixed << setprecision(10)\n\n/* ----------- debug ---------- */\n\ntemplate <typename T, typename U>\nvoid testP2(T a, U b) {\n    cout << \"(\" << a << \", \" << b << \")\" << endl;\n    return;\n}\n\ntemplate <typename T>\nvoid testV(T v) {\n    cout << \"[\";\n    for (auto i : v) {\n        cout << i << \", \";\n    }\n    cout << \"\\b\\b]\" << endl;\n    return;\n}\n\ntemplate <typename T>\nvoid testV2(T v) {\n    for (auto sv : v) {\n        testV(sv);\n    }\n    cout << endl;\n    return;\n}\n\n#define GET_VAR_NAME(variable) #variable\n#define test(x) cout << GET_VAR_NAME(x) << \" = \" << x << endl;\n#define testP(p)                      \\\n    cout << GET_VAR_NAME(p) << \" = \"; \\\n    testP2(p.fst, p.snd);\n\n/* ---------- Constants ---------- */\n\n// const ll MOD = 1e9 + 7;\n// const int INF = 1 << 25;\nconst ll INF = 1LL << 50;\n// const double PI = acos(-1);\n// const double EPS = 1e-10;\n// const ll dx[4] = {0, -1, 1, 0};\n// const ll dy[4] = {-1, 0, 0, 1};\n// const ll dx[8] = {-1, 0, 1, -1, 1, -1, 0, 1};\n// const ll dy[8] = {-1, -1, -1, 0, 0, 1, 1, 1};\n\n/* v-v-v-v-v-v-v-v-v Main Part v-v-v-v-v-v-v-v-v */\n\n/* ---------- Type Definition ----------- */\n\n\n/* ---------- Global Variance ----------- */\n\n\n/* ------------- Functions -------------- */\n\nll comp(ll y) {\n    if (y < 0) return 0;\n    if (y > 255) return 255;\n    return y;\n}\n\n/* ----------- Main Function ------------ */\n\nint main() {\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n\n    while (true) {\n        ll N, M;\n        cin >> N >> M;\n        if (N == 0) break;\n\n        ll x[N], c[M];\n        FOR(i, 0, M - 1) {\n            cin >> c[i];\n        }\n        FOR(i, 0, N - 1) {\n            cin >> x[i];\n        }\n\n        ll dp[N + 10][300];\n        fill(dp[0], dp[N + 2], -1);\n        dp[0][128] = 0;\n\n        FOR(i, 0, N - 1) {\n            FOR(j, 0, 255) {\n                if (dp[i][j] < 0) continue;\n\n                FOR(k, 0, M - 1) {\n                    ll y = comp(j + c[k]);\n                    ll diff = sq(y - x[i]);\n                    if (dp[i + 1][y] < 0) {\n                        dp[i + 1][y] = dp[i][j] + diff;\n                    } else {\n                        dp[i + 1][y] = min(dp[i + 1][y], dp[i][j] + diff);\n                    }\n                }\n            }\n        }\n        ll ans = INF;\n        FOR(j, 0, 255) {\n            if (dp[N][j] >= 0) {\n                ans = min(ans, dp[N][j]);\n            }\n        }\n        cout << ans << endl;\n    }\n\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define LOOP(n) for (int _i = 0; _i < (n); _i++)\n#define REP(i, n) for (int i = 0; i < (n); ++i)\n#define RREP(i, n) for (int i = (n); i >= 0; --i)\n#define FOR(i, r, n) for (int i = (r); i < (n); ++i)\n#define ALL(obj) begin(obj), end(obj)\nusing namespace std;\nusing ll = long long;\nusing ull = unsigned long long;\nusing P = pair<int, int>;\nusing Graph = vector<vector<int>>;\n\nconst int INF = 2100100100;\nconst int MOD = 1e9 + 7;\n\n// 多次元 vector 生成\ntemplate <class T>\nvector<T> make_vec(size_t a) {\n    return vector<T>(a);\n}\ntemplate <class T, class... Ts>\nauto make_vec(size_t a, Ts... ts) {\n    return vector<decltype(make_vec<T>(ts...))>(a, make_vec<T>(ts...));\n}\ntemplate <class T>\nbool chmax(T &a, const T &b) {\n    if (a < b) {\n        a = b;\n        return 1;\n    }\n    return 0;\n}\ntemplate <class T>\nbool chmin(T &a, const T &b) {\n    if (b < a) {\n        a = b;\n        return 1;\n    }\n    return 0;\n}\n\nint N, M, K, Q, W, H, R, C;\nint dp[21000][300];\n\nint main() {\n    // cin.tie(0);\n    // ios::sync_with_stdio(false);\n\n    vector<int> ans;\n    while (true) {\n        cin >> N >> M;\n        if (N == 0 && M == 0) break;\n        vector<int> C(M), x(N);\n        REP(i, M) cin >> C.at(i);\n        REP(i, N) cin >> x.at(i);\n\n        REP(i, N + 2) {\n            REP(j, 300) { dp[i][j] = INF; }\n        }\n        dp[0][128] = 0;\n\n        REP(i, N) {\n            REP(j, 256) {\n                REP(k, M) {\n                    int v = j + C[k];\n                    if (v < 0) {\n                        v = 0;\n                    } else if (255 < v) {\n                        v = 255;\n                    }\n                    chmin(dp[i + 1][v], dp[i][j] + (x[i] - v) * (x[i] - v));\n                }\n            }\n        }\n        int sum = INF;\n        REP(i, 256) { chmin(sum, dp[N][i]); }\n        ans.push_back(sum);\n    }\n    for (auto i : ans) {\n        cout << i << endl;\n    }\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "// http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=2199\n\n#include <iostream>\n#include <algorithm>\n\nusing namespace std;\n\nlong long DP[20010][256]; // DP[i][j] = y_i=jである場合のi文字目までの最小コスト\nint C[20];\nint X[20010];\n\nconst long long infty = 1e12;\n\nint main() {\n  int N, M;\n  while (cin >> N >> M && N) {\n    for (int i=0; i<M; i++) {\n      cin >> C[i];\n    }\n    for (int i=0; i<N; i++) {\n      cin >> X[i];\n    }\n    fill(&DP[0][0], &DP[0][0]+20010*256, infty);\n    DP[0][128] = 0;\n    for (int i=0; i<N; i++) {\n      for (int j=0; j<256; j++) {\n\tif (DP[i][j] < infty) {\n\t  for (int k=0; k<M; k++) {\n\t    int y = j + C[k];\n\t    if (y > 255) y = 255;\n\t    if (y < 0) y = 0;\n\t    long long cost = DP[i][j] + (X[i] - y) * (X[i] - y);\n\t    if (DP[i+1][y] > cost) {\n\t      DP[i+1][y] = cost;\n\t    } \n\t  }\n\t}\n      }\n    }\n    long long ans = infty;\n    for (int j=0; j<256; j++) {\n      if (ans > DP[N][j]) {\n\tans = DP[N][j];\n      }\n    }\n    cout << ans << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\nconst int inf=1e8;\nint memo[20000+1][256];\n\nvoid hoge(int N, int M){\n\n   int c[M];\n   for(int i=0; i<M; i++) cin>> c[i];\n   int x[N];\n   for(int i=0; i<N; i++) cin>> x[i];\n   for(int i=0; i<N+1; i++){\n      for(int j=0; j<256; j++){\n         memo[i][j]=inf;\n      }\n   }\n\n   memo[0][128]=0;\n   for(int i=0; i<N; i++){\n      for(int j=0; j<256; j++){\n         if(memo[i][j]==inf) continue;\n         for(int k=0; k<M; k++){\n            int p=max(0, min(255, j+c[k]));\n            memo[i+1][p]=min(memo[i][j]+(p-x[i])*(p-x[i]), memo[i+1][p]);\n         }\n      }\n   }\n   int mi=1e8;\n   for(int j=0; j<256; j++) mi=min(mi, memo[N][j]);\n   cout<< mi<< endl;\n\n}\n\n\nint main(){\n\n   while(1){\n      int N, M;\n      cin>> N>> M;\n      if(!(N||M)) break;\n      hoge(N, M);\n   }\n   return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cstdio>\n\n#define int long long\n#define dotimes(i, n) for (int i : range(n))\n\nusing namespace std;\n\nclass range {\n  class iterator {\n    int i, s;\n  public:\n    iterator(int i, int s): i(i), s(s) {}\n    int& operator*() {\n      return i;\n    }\n    void operator++() {\n      i += s;\n    }\n    bool operator!=(iterator const& that) {\n      return i < that.i;\n    }\n  };\n  iterator b, e;\npublic:\n  range(int e): b({0, 1}), e({e, 1}) {}\n  range(int b, int e): b({b, 1}), e({e, 1}) {}\n  range(int b, int e, int s): b({b, s}), e({e, s}) {}\n  iterator begin() {\n    return b;\n  }\n  iterator end() {\n    return e;\n  }\n};\n\nint rint() {\n  int n;\n  scanf(\"%lld\", &n);\n  return n;\n}\n\nvoid wint(int n) {\n  printf(\"%lld\\n\", n);\n}\n\ntemplate<typename T>\ninline int size(T container) {\n  return static_cast<int>(container.size());\n}\n\ntemplate<typename T>\ninline bool maxs(T& a, T const& b) {\n  if (a < b) {\n    a = b;\n    return true;\n  }\n  return false;\n}\n\ntemplate<typename T>\ninline bool mins(T& a, T const& b) {\n  if (a > b) {\n    a = b;\n    return true;\n  }\n  return false;\n}\n\ninline int sq(int x) {\n  return x * x;\n}\n\nsigned main() {\n  for (;;) {\n    int N = rint();\n    int M = rint();\n    if (!N && !M)\n      break;\n    int C[M];\n    dotimes(i, M)\n      C[i] = rint();\n    const int inf = 1LL << 61;\n    int dp[2][256];\n    dotimes(y, 256)\n      dp[0][y] = inf;\n    dp[0][128] = 0;\n    dotimes(i, N) {\n      int x = rint();\n      dotimes(y, 256)\n        dp[(i+1)%2][y] = inf;\n      dotimes(y, 256) dotimes(j, M) {\n        int z = max(0LL, min(255LL, y + C[j]));\n        mins(dp[(i+1)%2][z], dp[i%2][y] + sq(z - x));\n      }\n    }\n    int r = inf;\n    dotimes(y, 256)\n      mins(r, dp[N%2][y]);\n    wint(r);\n  }\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <climits>\n#include <algorithm>\nusing namespace std;\n\nint main(){\n\tint C[16];\n\tint n,m;\n\twhile(cin >> n >> m && n){\n\t\tfor(int i = 0 ; i < m ; i++) cin >> C[i];\n\t\tint dp[2][256];\n\t\tfor(int i = 0 ; i < 2 ; i++)\n\t\t\tfor(int j = 0 ; j < 256 ; j++)\n\t\t\t\tdp[i][j] = INT_MAX;\n\t\tdp[0][128] = 0;\n\t\t\n\t\tfor(int j = 1 ; j <= n ; j++){\n\t\t\tint x; cin >> x;\n\t\t\tfor(int i = 0 ; i < 256 ; i++) dp[j&1][i] = INT_MAX;\n\t\t\tfor(int i = 0 ; i < 256 ; i++){\n\t\t\t\tfor(int k = 0 ; k < m ; k++){\n\t\t\t\t\tint y = i + C[k];\n\t\t\t\t\ty = min(y,255); y = max(0,y);\n\t\t\t\t\tdp[j&1][y] = min(dp[j&1][y],dp[j&1^1][i] + (y-x)*(y-x) );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << *min_element(dp[n&1],dp[n&1]+256) << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main() {\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    int INF = 1000000007;\n\n    while (1) {\n        int N, M;\n        cin >> N >> M;\n        if (!N & !M) break;\n        vector<long long> codeBook(M, 0);\n        vector<long long> inputSignal(N, 0);\n        for (int i = 0; i < M; i++) {\n            cin >> codeBook[i];\n        }\n        for (int i = 0; i < N; i++) {\n            cin >> inputSignal[i];\n        }\n        vector<vector<long long>> dp(256, vector<long long>(N + 10, INF));\n        dp[128][0] = 0;\n        for (int i = 0; i < N; i++) {\n            for (int start = 0; start < 256; start++) {\n                if (dp[start][i] == INF) continue;\n                for (auto c : codeBook) {\n                    int next = start + c;\n                    next = next > 255 ? 255 : next;\n                    next = next < 0 ? 0 : next;\n                    dp[next][i + 1] =\n                        min(dp[start][i] + (next - inputSignal[i]) * (next - inputSignal[i]),\n                            dp[next][i + 1]);\n                }\n            }\n        }\n        long long ans = INF;\n        for (int i = 0; i < 256; i++) {\n            ans = min(dp[i][N], ans);\n        }\n        cout << ans << endl;\n    }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#define rep(i, n) for (int i = 0; i < (int)(n); i++)\n#define ALL(v) v.begin(), v.end()\ntypedef long long ll;\n\n#include <bits/stdc++.h>\nusing namespace std;\n\nint main() { \n  ll n,m;\n  while(cin>>n>>m){\n    if(n==0 && m==0) return 0;\n  \n    vector<ll> C(m),X(n+1);\n    rep(i,m) cin>>C[i];\n    rep(i,n) cin>>X[i+1];\n    \n    ll dp[20001][256];\n    rep(i,20001){\n      rep(j,256) dp[i][j]=1e9;\n    }\n    dp[0][128]=0;\n    \n    for(int i=0;i<n;i++){\n      for(int j=0;j<=255;j++){\n        for(int k=0;k<m;k++){\n          if(dp[i][j]==1e9) continue;\n          if(j+C[k]>255) dp[i+1][255]=min(dp[i+1][255],dp[i][j]+(255-X[i+1])*(255-X[i+1]));\n          else if(j+C[k]<0) dp[i+1][0]=min(dp[i+1][0],dp[i][j]+X[i+1]*X[i+1]);\n          else dp[i+1][j+C[k]]=min(dp[i+1][j+C[k]],dp[i][j]+(j+C[k]-X[i+1])*(j+C[k]-X[i+1]));\n        }\n      }\n    }\n    \n    ll ans=1e9;\n    for(int j=0;j<=255;j++) ans=min(ans,dp[n][j]);\n    cout<<ans<<endl;\n  }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <queue>\n#include <cstring>\n#include <string>\n#include <cstdlib>\nusing namespace std;\n\n\nclass DP{\npublic:\n\tint cost, n, x;\n\tint Map[22*22];\n\t\n\tDP(){}\n\tDP(int xx, int nn, int cc){\n\t\tcost = cc;x=xx;n=nn;\n\t}\n\t\n\tbool operator< (const DP &opp) const {\n\t\treturn cost>opp.cost;\n\t}\n};\nint C[20];\nint x[20001];\nbool visit[20001][256];\nint N, M;\nmain(){\n\tint i,j;\n\twhile(cin >> N >> M, N){\n\t\tmemset(visit, 0, sizeof(visit));\n\t\tfor(i=0;i<M;i++) cin >> C[i];\n\t\tfor(i=0;i<N;i++) cin >> x[i];\n\t\tpriority_queue<DP> dp;\n\t\tDP S;\n\t\tdp.push(DP(128, 0, 0));\n\t\twhile(!dp.empty()){\n\t\t\tS = dp.top();\n\t\t\tdp.pop();\n\n\t\t\tif(S.n == N) break;\n\t\t\tfor(i=0;i<M;i++){\n\t\t\t\tDP T=S;\n\t\t\t\tT.x += C[i];\n\t\t\t\tif(T.x > 255) T.x = 255;\n\t\t\t\tif(T.x < 0) T.x = 0;\n\t\t\t\t\n\t\t\t\tT.cost += (x[T.n]-T.x)*(x[T.n]-T.x);\n\t\t\t\tT.n ++;\n\t\t\t\tif(visit[T.n][T.x]) continue;\n\t\t\t\tvisit[T.n][T.x] ++;\n\t\t\t\tdp.push(T);\n\t\t\t}\n\t\t}\n\t\tcout << S.cost << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <cassert>\n#include <functional>\n#include <algorithm>\n#include <iostream>\n#include <iomanip>\n#include <vector>\n#include <map>\n#include <iterator>\n#include <queue>\n#include <utility>\n\nusing namespace std;\n\nint N, M;\n#define MN 20000\n#define MM 16\nint C[MN];\nint X[MM];\nbool input() {\n    cin >> N >> M;\n    if (N == 0 && M == 0) return false;\n    for (int i = 0; i < M; i++) cin >> X[i];\n    for (int i = 0; i < N; i++) cin >> C[i];\n    return true;\n}\n\n#define INF (1<<28)\n#define SQ(x) ((x) * (x))\n\nint F(int x) {\n    if (x < 0) return 0;\n    if (x > 255) return 255;\n    return x;\n}\n\nint Cache[MN][256];\nint dfs(int index, int x) {\n    if (index == N) return 0;\n    if (Cache[index][x] >= 0) return Cache[index][x];\n    int Ret = INF;\n    for (int i = 0; i < M; i++) {\n        Ret = min(Ret, dfs(index + 1, F(x + X[i])) + SQ(C[index] - x));\n    }\n    return Cache[index][x] = Ret;\n}\n\nvoid solve() {\n    memset(Cache, -1, sizeof(Cache));\n    int Ans = INF;\n    for (int i = 0; i < M; i++) {\n        Ans = min(Ans, dfs(0, F(128 + X[i])));\n    }\n    cout << Ans << endl;\n}\n\nint main() {\n    while (input()) solve();\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\n#define INF 1e9\n#define llINF 1e18\n#define MOD 1e9+7\n#define pb push_back\n#define mp make_pair \n#define F first\n#define S second\n#define ll long long\n#define sqr(x) (x)*(x)\nusing namespace std;\nvector<int>C(20);\nvector<int>x(50000);\nll ans=0;\nint n,m;\nint main(){\n  while(cin>>n>>m,n){\n    ans=llINF;\n    ll dp[n+2][530]={};\n    for(int i=0;i<n+2;i++)\n      for(int j=0;j<520;j++)\n\tdp[i][j]=llINF;\n    for(int i=0;i<m;i++)\n      cin>>C[i];\n    for(int i=0;i<n;i++){\n      cin>>x[i];\n      x[i]+=260;\n    }\n\n    dp[0][128+260]=0;\n    for(int i=1;i<=n;i++){\n      for(int j=5;j<=515;j++){\n\tif(dp[i-1][j]!=llINF){\n\t  for(int k=0;k<m;k++){\n\t    int num=j+C[k];\n\t    if(num>=515)num=515;\n\t    else if(num<=5)num=5;\n\t    //cout<<i<<\" \"<<\n\t    dp[i][num]=min(dp[i-1][j]+sqr((num-x[i-1])),dp[i][num]);\n\t  }\n\t}\n      }\n    }\n    for(int i=0;i<520;i++){\n      ans=min(dp[n][i],ans);\n    }\n    cout<<ans<<endl;\n  }\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define INF 0x3f3f3f3f\n#define rep(i,n)for(int i=0;i<(n);i++)\nusing namespace std;\n\nint c[16], x[16];\nint dp[40001][256];\nint d(int a) {\n\tif (a < 0)return 0;\n\tif (a > 255)return 255;\n\treturn a;\n}\nint diff(int i, int a) {\n\treturn (x[i] - a)*(x[i] - a);\n}\nint main() {\n\tint n, m;\n\twhile (scanf(\"%d%d\", &n, &m), n) {\n\t\trep(i, m)scanf(\"%d\", &c[i]);\n\t\trep(i, n)scanf(\"%d\", &x[i]);\n\t\tmemset(dp, 0x3f, sizeof(dp));\n\t\tdp[0][128] = 0;\n\t\trep(i, n)rep(j, 256) {\n\t\t\tif (dp[i][j] == INF)continue;\n\t\t\trep(k, m) {\n\t\t\t\tint a = d(j + c[k]);\n\t\t\t\tif (i + 1 >= 20001)return 0;\n\t\t\t\tdp[i + 1][a] = min(dp[i + 1][a], dp[i][j] + diff(i, a));\n\t\t\t}\n\t\t}\n\t\tint Min = INF;\n\t\trep(j, 256)Min = min(Min, dp[n][j]);\n\t\tprintf(\"%d\\n\", Min);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define fi first\n#define se second\n#define show(x) cerr<<#x<<\"=\"<<x<<\"\\n\"\ntypedef long long ll;\nusing namespace std;\n//const ll MOD=(ll)1e9+7;\nconst ll inf=(ll)1e18;\nconst int dy[]={1,0,-1};\nconst int dx[]={1,0,-1};\nint n,m,h,w;\nll dp[20021][300];\n\nint main(){\n  ios::sync_with_stdio(false);\n  cin.tie(0);\n  cout.precision(10);\n  cout<<fixed;\n#ifdef LOCAL_DEFINE\n  FILE *stream1;\n  //FILE *stream2;\n  stream1=freopen(\"in\",\"r\",stdin);\n  //stream2=freopen(\"out\",\"w\",stdout);\n  if(stream1==NULL)return 0;\n  //if(stream2==NULL)return 0;\n#endif\n  while(cin>>n>>m,n){\n    int c[20];\n    int a[20011];\n    for(int i=0;i<m;i++)cin>>c[i];\n    a[0]=128;\n    for(int j=1;j<=n;j++)cin>>a[j];\n    for(int i=0;i<=n+1;i++)for(int j=0;j<=255;j++)dp[i][j]=inf;\n    dp[0][128]=0;\n    for(int i=0;i<=n;i++){\n      for(int j=0;j<=255;j++){\n        if(dp[i][j]==inf)continue;\n        for(int k=0;k<m;k++){\n          int tmp;\n          if(j+c[k]<0)tmp=0;\n          else if(j+c[k]>255)tmp=255;\n          else tmp=j+c[k];\n          dp[i+1][tmp]=min(dp[i+1][tmp],dp[i][j]+(a[i+1]-tmp)*(a[i+1]-tmp));\n        }\n      }\n    }\n    ll ans=inf;\n    for(int i=0;i<256;i++){\n      ans=min(ans,dp[n][i]);\n    }\n    cout<<ans<<endl;\n  }\n#ifdef LOCAL_DEFINE\n  cerr<<\"Time elapsed: \"<<1.0*clock()/CLOCKS_PER_SEC<<\"s.\\n\";\n  fclose(stream1);\n  //fclose(stream2);\n#endif\n  return 0;\n}\n\n\n\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <cmath>\n#include <queue>\n#include <string>\n#include <map>\n#include <set>\n#include <stack>\n#include <tuple>\n#include <deque>\n#include <numeric>\n#include <bitset>\n#include <iomanip>\n#include <cassert>\n#include <chrono>\n#include <random>\n#include <limits>\n#include <iterator>\n#include <functional>\n#include <sstream>\n#include <complex>\nusing namespace std;\n\nusing ll = long long;\nusing ull = uint64_t;\nusing P = pair<int, int>;\nconstexpr double EPS = 1e-9;\nconstexpr int INF = 1501001001;\nconstexpr int mod = 1000000007;\n// constexpr int mod = 998244353;\n\ntemplate<class T>\ninline bool chmax(T& x, T y){\n    if(x < y){\n        x = y;\n        return true;\n    }\n    return false;\n}\ntemplate<class T>\ninline bool chmin(T& x, T y){\n    if(x > y){\n        x = y;\n        return true;\n    }\n    return false;\n}\n\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(nullptr);\n\n    for(;;){\n        int N, M;\n        cin >> N >> M;\n        if(N == 0 && M == 0)    return 0;\n        vector<int> C(M);\n        for(int i = 0; i < M; ++i)  cin >> C[i];\n        vector<vector<int>> dp(N + 1, vector<int>(256, INF));\n        dp[0][128] = 0;\n        for(int i = 0; i < N; ++i){\n            int x;\n            cin >> x;\n            for(int j = 0; j <= 255; ++j){\n                if(dp[i][j] == INF) continue;\n                for(int k = 0; k < M; ++k){\n                    int nj = j + C[k];\n                    if(nj > 255)    nj = 255;\n                    if(nj < 0)  nj = 0;\n                    int cost = abs(x - nj) * abs(x - nj);\n                    chmin(dp[i + 1][nj], dp[i][j] + cost);\n                }\n            }\n        }\n        cout << *min_element(dp[N].begin(), dp[N].end()) << '\\n';\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing ll = long long;\n\nint main(){\n    while(1){\n        int n, m;\n        cin >> n >> m;\n        if(n == 0 && m == 0) break;\n        vector<int> sample(n), c(m);\n        for(int i = 0; i < m; i++) cin >> c[i];\n        for(int i = 0; i < n; i++) cin >> sample[i];\n        vector<vector<ll>> dp(n+1, vector<ll>(256, -1));\n        dp[0][128] = 0;\n        for(int i = 0; i < n; i++){\n            for(int j = 0; j <=255; j++){\n                if(dp[i][j] != -1){\n                    for(int k = 0; k < m; k++){\n                        int idx = j+c[k];\n                        idx = min(255, idx);\n                        idx = max(0, idx);\n                        if(dp[i+1][idx] == -1) dp[i+1][idx] = dp[i][j] + (idx-sample[i])*(idx-sample[i]);\n                        else dp[i+1][idx] = min(dp[i+1][idx], dp[i][j]+(idx-sample[i])*(idx-sample[i]));\n                    }\n                }\n            }\n        }\n\n        ll ans = 1e9;\n        for(int i = 0; i <= 255; i++){\n            if(dp[n][i] != -1) ans = min(ans, dp[n][i]);\n        }\n        cout << ans << endl;\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing Int = int_fast64_t;\n\nInt solve(Int n, Int m){\n\tvector<Int> a(m), b(n);\n\tfor(auto &i:a) cin >> i;\n\tfor(auto &i:b) cin >> i;\n\tvector<vector<Int>> dp(n+1, vector<Int>(256, 1e10));\n\tdp[0][128] = 0;\n\tfor(Int i=0; i<n; ++i){\n\t\tfor(Int j=0; j<256; ++j){\n\t\t\tfor(Int k=0; k<m; ++k){\n\t\t\t\tInt l = j + a[k];\n\t\t\t\tif(l < 0) l = 0;\n\t\t\t\tif(l > 255) l = 255;\n\t\t\t\tdp[i+1][l] = min(dp[i+1][l], dp[i][j] + (l-b[i])*(l-b[i]));\n\t\t\t}\n\t\t}\n\t}\n\tInt ans = 1e10;\n\tfor(Int i=0; i<256; ++i) ans = min(ans, dp[n][i]);\n\treturn ans;\n}\n\nint main(){\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\twhile(1){\n\t\tInt n, m; cin >> n >> m;\n\t\tif(n == 0) break;\n\t\tcout << solve(n, m) << \"\\n\";\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define ll long long\n\nint main(void){\n\tint n, m;\n\twhile(1){\n\t\tcin >> n >> m;\n\t\tif(!n&&!m) break;\n\t\tvector<int> c(m), x(n);\n\t\tfor(int i = 0; i < m; ++i){\n\t\t\tcin >> c[i];\n\t\t}\n\t\tfor(int i = 0; i < n; ++i){\n\t\t\tcin >> x[i];\n\t\t}\n\t\tvector<vector <ll>> dp(n+2);\n\t\tfor(int i = 0; i < n+2; ++i){\n\t\t\tdp[i].resize(256);\n\t\t\tfor(int j = 0; j < 256; ++j){\n\t\t\t\tdp[i][j] = LONG_MAX;\n\t\t\t}\n\t\t}\n\t\tdp[0][128]=1;\n\t\tfor(int i = 1; i <= n; ++i){\n\t\t\tfor(int j = 0; j < m; ++j){\n\t\t\t\tfor(int k = 0; k < 256; ++k){\n\t\t\t\t\tif(dp[i-1][k]==LONG_MAX) continue;\n\t\t\t\t\tint next = k+c[j];\n\t\t\t\t\tif(next > 256) next = 255;\n\t\t\t\t\tif(next < 0) next = 0;\n\t\t\t\t\tdp[i][next] = min(dp[i][next], dp[i-1][k] + (int)pow(x[i-1]-next,2));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tll ans = LONG_MAX;\n\t\tfor(int i = 0; i < 256; ++i){\n\t\t\tans = min(ans, (dp[n][i]!=0?dp[n][i]:LONG_MAX));\n\t\t\t//cout << dp[n][i] << \" \";\n\t\t}\n\t\tcout << ans-1 << endl;\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#define INF 1145141919\nusing namespace std;\nint n,m;\nint dp[2][256],c[16];\nint main(){\n\twhile(cin>>n>>m&&n+m){\n\tfor(int i=0;i<m;i++)cin>>c[i];\n\tfor(int i=0;i<256;i++)dp[0][i]=INF,dp[1][i]=INF;\n\tdp[0][128]=0;\n\tfor(int i=0;i<n;i++){\n\t\tint x;cin>>x;bool t=i%2;\n\t\tfor(int j=0;j<256;j++){\n\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\tint y=j+c[k];if(y<0)y=0;if(y>255)y=255;\n\t\t\t\tint z=(x-y)*(x-y)+dp[t][j];\n\t\t\t\tdp[1-t][y]=min(dp[1-t][y],z);\n\t\t\t}\n\t\t}\n\t\tfor(int j=0;j<256;j++)dp[t][j]=INF;\n\t}\n\tint ans=INF;\n\tfor(int i=0;i<256;i++){\n\t\tans=min(ans,dp[n%2][i]);\n\t}\n\tcout<<ans<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\ntypedef long long int ll;\ntypedef pair<int, int> P;\ntypedef pair<ll, ll> Pll;\ntypedef vector<int> Vi;\ntypedef tuple<int, int, int> T;\n#define FOR(i,s,x) for(int i=s;i<(int)(x);i++)\n#define REP(i,x) FOR(i,0,x)\n#define ALL(c) c.begin(), c.end()\n#define MP make_pair\n#define DUMP( x ) cerr << #x << \" = \" << ( x ) << endl\n#define fst first\n#define snd second\n\n#define INF 1300500000\n\nll dp[2][16][2];\nll sample[20010];\n\nint main() {\n  cin.tie(0);\n  ios_base::sync_with_stdio(false);\n\n  while (1) {\n    ll N, M, code[16];\n    cin >> N >> M;\n    if (N == 0 && M == 0) break;\n    REP(i, M) cin >> code[i];\n    REP(i, N) cin >> sample[i];\n\n    REP(i, M) {\n      dp[0][i][0] = 0;\n      dp[0][i][1] = 128;\n    }\n\n    REP(i, N) {\n      REP(j, M) {\n\tdp[(i+1)%2][j][0] = INF;\n\tREP(k, M) {\n\t  ll now = max(0LL, min(255LL, dp[i%2][k][1] + code[j]));\n\t  ll diff = sample[i] - now;\n\t  if (dp[i%2][k][0] + diff * diff < dp[(i+1)%2][j][0]) {\n\t    dp[(i+1)%2][j][0] = dp[i%2][k][0] + diff * diff;\n\t    dp[(i+1)%2][j][1] = now;\n\t  }\n\t}\n      }\n    }\n    ll ans = INF;\n    REP(i, M) ans = min(ans, dp[N%2][i][0]);\n    cout << ans << endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing ll = long long;\n\ntemplate<class T>\nvoid chmin(T &a, T b) {if (a > b) a=b;}\n\nconstexpr ll INF = 1ll<<60;\nll N, M;\nll C[20], X[20010];\nll dp[20010][270];\n\nvoid init()\n{\n\tfor (ll i = 0; i < 20010; ++i)\n\t\tfor (ll j = 0; j < 270; ++j)\n\t\t\tdp[i][j] = INF;\n}\n\nll round(ll a)\n{\n\tif (a < 0) return 0;\n\telse if (a > 255) return 255;\n\telse return a;\n}\n\nll dist(ll a, ll b)\n{\n\treturn pow(a-b, 2);\n}\n\nint main(int argc, char **argv)\n{\n\twhile (true)\n\t{\n\t\tcin >> N >> M;\n\t\tif (N == 0 && M == 0) break;\n\t\tfor (ll i = 0; i < M; ++i) cin >> C[i];\n\t\tfor (ll i = 0; i < N; ++i) cin >> X[i];\n\t\tinit();\n\t\tfor (ll i = 0; i < M; ++i) dp[0][round(128+C[i])] = dist(round(128+C[i]), X[0]);\n\n\t\tfor (ll n = 0; n < N; ++n)\n\t\t{\n\t\t\tfor (ll a = 0; a <= 255; ++a)\n\t\t\t{\n\t\t\t\tfor (ll m = 0; m < M; ++m)\n\t\t\t\t{\n\t\t\t\t\tll tmp = round(a+C[m]);\n\t\t\t\t\tchmin(dp[n+1][tmp], dp[n][a]+dist(tmp, X[n+1]));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tll res{INF};\n\t\tfor (ll i = 0; i <= 255; ++i) chmin(res, dp[N-1][i]);\n\t\tstd::cout << res << std::endl;\n\t\t\n\t}\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string.h>\n#include <algorithm>\n#include <climits>\n\n#define M 20\n#define lengthof(x) (sizeof(x)/sizeof(*(x)))\n\nint c[M];\nint sum[256];\nint bsum[256];\n\nusing namespace std;\n\nint main(void)\n{\n\tint n,m;\n\tint x;\n\tint i1,i2,i3;\n\tint minn;\n\tint temp;\n\n\twhile(1){\n\t\tcin>>n>>m;\n\t\tif(n+m==0) break;\n\n\t\tmemset(bsum,-1,sizeof(bsum));\n\t\tbsum[128]=0;\n\n\t\tfor(i1=0;i1<m;i1++){\n\t\t\tcin>>c[i1];\n\t\t}\n\n\t\tfor(i1=0;i1<n;i1++){\n\t\t\tcin>>x;\n\t\t\tfill((int*)sum,(int*)(sum+lengthof(sum)),INT_MAX);\n\t\t\tfor(i2=0;i2<256;i2++){\n\t\t\t\tif(bsum[i2]!=-1){\n\t\t\t\t\tfor(i3=0;i3<m;i3++){\n\t\t\t\t\t\ttemp=i2+c[i3];\n\t\t\t\t\t\tif(temp<0) temp=0;\n\t\t\t\t\t\tif(255<temp) temp=255;\n\n\t\t\t\t\t\tsum[temp]=min(sum[temp],bsum[i2]+(temp-x)*(temp-x));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor(i2=0;i2<256;i2++){\n\t\t\t\tif(sum[i2]<INT_MAX) bsum[i2]=sum[i2];\n\t\t\t\telse bsum[i2]=-1;\n\t\t\t}\n\t\t}\n\n\t\tminn=sum[0];\n\t\tfor(i1=0;i1<256;i1++){\n\t\t\tif(minn>sum[i1]) minn=sum[i1];\n\t\t}\n\n\t\tcout<<minn<<endl;\n\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#pragma GCC optimize (\"O3\")\n#pragma GCC target (\"avx\")\n#include \"bits/stdc++.h\"\n\nusing namespace std;\nusing ll = long long int;\n\n#define debug(v) {printf(\"L%d %s > \",__LINE__,#v);cout<<(v)<<endl;}\n#define debugv(v) {printf(\"L%d %s > \",__LINE__,#v);for(auto e:(v)){cout<<e<<\" \";}cout<<endl;}\n#define debuga(m,w) {printf(\"L%d %s > \",__LINE__,#m);for(int x=0;x<(w);x++){cout<<(m)[x]<<\" \";}cout<<endl;}\n#define debugaa(m,h,w) {printf(\"L%d %s >\\n\",__LINE__,#m);for(int y=0;y<(h);y++){for(int x=0;x<(w);x++){cout<<(m)[y][x]<<\" \";}cout<<endl;}}\n#define ALL(v) (v).begin(),(v).end()\n#define repeat(cnt,l) for(remove_const<decltype(l)>::type cnt=0;(cnt)<(l);++(cnt))\n#define rrepeat(cnt,l) for(auto cnt=(l)-1;0<=(cnt);--(cnt))\n#define iterate(cnt,b,e) for(auto cnt=(b);(cnt)!=(e);++(cnt))\n#define diterate(cnt,b,e) for(auto cnt=(b);(cnt)!=(e);--(cnt))\nconst ll MD = 1000000007ll; const long double PI = 3.1415926535897932384626433832795L;\ntemplate<typename T1, typename T2> inline void assert_equal(T1 expected, T2 actual) { if (!(expected == actual)) { cerr << \"assertion fault: expected=\" << expected << \" actual=\" << actual << endl; abort(); } }\ntemplate<typename T1, typename T2> inline void assert_less(T1 actual, T2 threshold) { if (!(actual < threshold)) { cerr << \"assertion fault: \" << actual << \" < (const)\" << threshold << endl; abort(); } }\ntemplate<typename T1, typename T2> inline void assert_eqless(T1 actual, T2 threshold) { if (!(actual <= threshold)) { cerr << \"assertion fault: \" << actual << \" <= (const)\" << threshold << endl; abort(); } }\ntemplate<typename T1, typename T2> inline ostream& operator <<(ostream &o, const pair<T1, T2> p) { o << '(' << p.first << ':' << p.second << ')'; return o; }\ntemplate<typename Vec> inline ostream& _ostream_vecprint(ostream &o, const Vec& p) { o << '['; for (auto& e : p) o << e << ','; o << ']'; return o; }\ntemplate<typename T> inline ostream& operator<<(ostream& o, const vector<T>& v) { return _ostream_vecprint(o, v); }\ntemplate<typename T, size_t S> inline ostream& operator<<(ostream& o, const array<T, S>& v) { return _ostream_vecprint(o, v); }\ntemplate<typename T> inline T& maxset(T& to, const T& val) { return to = max(to, val); }\ntemplate<typename T> inline T& minset(T& to, const T& val) { return to = min(to, val); }\nvoid bye(string s, int code = 0) { cout << s << endl; exit(code); }\nmt19937_64 randdev(8901016);\ntemplate<typename T> inline T rand(T l, T h) { return uniform_int_distribution<T>(l, h)(randdev); }\ntemplate<> inline double rand<double>(double l, double h) { return uniform_real_distribution<double>(l, h)(randdev); }\ntemplate<> inline float rand<float>(float l, float h) { return uniform_real_distribution<float>(l, h)(randdev); }\n\n#if defined(_WIN32) || defined(_WIN64)\n#define getchar_unlocked _getchar_nolock\n#define putchar_unlocked _putchar_nolock\n#elif defined(__GNUC__)\n#else\n#define getchar_unlocked getchar\n#define putchar_unlocked putchar\n#endif\nnamespace {\n#define isvisiblechar(c) (0x21<=(c)&&(c)<=0x7E)\n    class MaiScanner {\n    public:\n        template<typename T> void input_integer(T& var) {\n            var = 0; T sign = 1;\n            int cc = getchar_unlocked();\n            for (; cc<'0' || '9'<cc; cc = getchar_unlocked())\n                if (cc == '-') sign = -1;\n            for (; '0' <= cc && cc <= '9'; cc = getchar_unlocked())\n                var = (var << 3) + (var << 1) + cc - '0';\n            var = var * sign;\n        }\n        inline int c() { return getchar_unlocked(); }\n        inline MaiScanner& operator>>(int& var) { input_integer<int>(var); return *this; }\n        inline MaiScanner& operator>>(long long& var) { input_integer<long long>(var); return *this; }\n        inline MaiScanner& operator>>(string& var) {\n            int cc = getchar_unlocked();\n            for (; !isvisiblechar(cc); cc = getchar_unlocked());\n            for (; isvisiblechar(cc); cc = getchar_unlocked())\n                var.push_back(cc);\n            return *this;\n        }\n        template<typename IT> void in(IT begin, IT end) { for (auto it = begin; it != end; ++it) *this >> *it; }\n    };\n    class MaiPrinter {\n    public:\n        template<typename T>\n        void output_integer(T var) {\n            if (var == 0) { putchar_unlocked('0'); return; }\n            if (var < 0)\n                putchar_unlocked('-'),\n                var = -var;\n            char stack[32]; int stack_p = 0;\n            while (var)\n                stack[stack_p++] = '0' + (var % 10),\n                var /= 10;\n            while (stack_p)\n                putchar_unlocked(stack[--stack_p]);\n        }\n        inline MaiPrinter& operator<<(char c) { putchar_unlocked(c); return *this; }\n        inline MaiPrinter& operator<<(int var) { output_integer<int>(var); return *this; }\n        inline MaiPrinter& operator<<(long long var) { output_integer<long long>(var); return *this; }\n        inline MaiPrinter& operator<<(char* str_p) { while (*str_p) putchar_unlocked(*(str_p++)); return *this; }\n        inline MaiPrinter& operator<<(const string& str) {\n            const char* p = str.c_str();\n            const char* l = p + str.size();\n            while (p < l) putchar_unlocked(*p++);\n            return *this;\n        }\n        template<typename IT> void join(IT begin, IT end, char sep = '\\n') { for (auto it = begin; it != end; ++it) *this << *it << sep; }\n    };\n}\nMaiScanner scanner;\nMaiPrinter printer;\n\n\nll inp[20010], code[20];\n\ninline int limit(int x, int low, int high) { return x < low ? low : x > high ? high : x; }\n\nvoid solve(int N, int M) {\n\n    scanner.in(code, code + M);\n    scanner.in(inp, inp + N);\n\n    vector<ll> curr(256, -1), next(256);\n\n    curr[128] = 0;\n\n    repeat(i, N) {\n        fill(ALL(next), -1);\n        repeat(v, 256) {\n            if (curr[v] < 0) continue;\n            repeat(j, M) {\n                int p = limit(v + code[j], 0, 255);\n                ll d = curr[v] + (p - inp[i])*(p - inp[i]);\n                next[p] = next[p] >= 0 ? min(next[p], d) : d;\n            }\n        }\n        curr.swap(next);\n    }\n    ll best = 1e18;\n    for (auto p : curr)\n        if (p >= 0)\n            minset(best, p);\n\n    printer << best << '\\n';\n}\n\n\n\nint main() {\n    int n, m;\n    while (scanner >> n >> m, n > 0 && m > 0)\n        solve(n, m);\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n#define REP(i,b,n) for(int i=b;i<n;i++)\n#define rep(i,n)   REP(i,0,n)\n\nconst int inf = ( 1 << 28);\n\nint dp[20001][256];\nint solve(int n,int m,int *cbook,int *in){\n  rep(i,n+1)rep(j,256)dp[i][j]=inf;\n  dp[0][128]=0;\n\n  rep(i,n){\n    rep(j,256){\n      rep(k,m){\n\tint next=j+cbook[k];\n\tif (next<0)next=0;\n\telse if (next>255)next=255;\n\tdp[i+1][next]=min(dp[i+1][next],dp[i][j]+(next-in[i])*(next-in[i]));\n      }\n    }\n  }\n  \n  int ans = inf;\n  rep(i,256)ans=min(ans,dp[n][i]);\n  return ans;\n}\n\n\nmain(){\n  int n,m;\n  int in[20000],cbook[200];\n  while(cin>>n>>m && n){\n    rep(i,m)cin>>cbook[i];\n    rep(i,n)cin>>in[i];\n    cout << solve(n,m,cbook,in) << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "//#include \"bits/stdc++.h\"\n\n#include <iostream>\n#include <cassert>\n#include <vector>\n// #include <map>\n#include <string>\n#include <set>\n#include <queue>\n// #include <algorithm>\n// #include <numeric>\n// #include <limits>\n\nusing namespace std;\n\nstruct Node;\nstruct Seeker;\n\nconst int first_signal_log = 128;\nint n;\nint m;\nvector<short> book; // code book // TODO short\nvector<short> seq; // sequence // TODO short\npriority_queue<Seeker> que;\nset<Node> close_list;\n\ntemplate <class T>\nvoid print(const vector<T>& vec) {\n\tfor (auto v : vec) {\n\t\tcout << \" \" << v;\n\t}\n\tcout << endl;\n}\n\nstruct Node {\n\tstring k = \"\";\n\tvoid push_back(int key) {\n\t\tassert(0 <= key);\n\t\tassert(key <= 16);\n\t\tk.push_back((char) key + 65);\n\t}\n\n\tvoid print() const {\n\t\tcout << \"(\";\n\t\tfor (auto c : k) {\n\t\t\tcout << (int) c - 65 << \" \";\n\t\t}\n\t\tcout << k;\n\t\tcout << \") \";\n\t}\n};\n\nbool operator < (const Node& a, const Node& b) {\n\treturn a.k < b.k;\n}\n\nbool operator == (const Node& a, const Node& b) {\n\treturn a.k == b.k;\n}\n\nstruct Seeker {\n\tNode node;\n\tuint cost = 0; // square sum\n\tint y = first_signal_log; // TODO short\n\n\tSeeker(Node _node) : node(_node) {\n\t}\n\n\tvoid print() const {\n\t\tnode.print();\n\t\tcout << y << \" \" << cost << endl;\n\t}\n\n\tvoid change(int code) {\n\t\ty += code;\n\t\ty = max(0, y);\n\t\ty = min(y, 255);\n\t}\n\n};\n\nbool operator < (const Seeker& a, const Seeker& b) {\n\treturn a.cost > b.cost;\n}\n\nvoid seek(Seeker s, size_t key) {\n\ts.node.push_back(key);\n\tif (close_list.count(s.node) > 0) {\n\t\treturn;\n\t}\n\tclose_list.insert(s.node);\n\tsize_t time = s.node.k.size();\n\tauto code = book[key];\n\ts.change(code); // s.y += code;\n\tauto diff = s.y - seq[time];\n\ts.cost += diff * diff;\n\tque.push(s);\n\t// cout << \"seek s \"; s.print(); // debug\n}\n\nbool isGoal(const Seeker& s) {\n\tint time = s.node.k.size();\n\treturn n == time;\n}\n\nuint solve() {\n\tNode start_node;\n\tSeeker start(start_node);\n\tque.push(start);\n\twhile (que.empty() == false) {\n\t\tSeeker s = que.top();\n\t\t// cout << \"top s print \"; s.print(); // debug\n\t\tif (isGoal(s)) {\n\t\t\treturn s.cost;\n\t\t}\n\t\tque.pop();\n\t\tfor (size_t key = 0; key < book.size(); key++ ) {\n\t\t\tseek(s, key);\n\t\t}\n\t}\n\treturn -1;\n}\t\n\nvoid clearQue() {\n\twhile (que.empty() == false) {\n\t\tque.pop();\n\t}\n}\n\nvoid input() {\n\tclearQue();\n\tclose_list.clear();\n\tbook.resize(m);\n\tfor (auto& val : book) {\n\t\tcin >> val;\n\t}\n\tseq.resize(n + 1);\n\tseq[0] = first_signal_log;\n\tfor (int i = 1; i < n + 1; i++) {\n\t\tcin >> seq[i];\n\t}\n\t// std::cout << \"debug book\"; print(book);\n\t// std::cout << \"debug seq\"; print(seq);\n}\n\nint main() {\n\twhile (true) {\n\t\tcin >> n >> m;\n\t\tif (n == 0 and m == 0) {\n\t\t\tbreak;\n\t\t}\n\t\tinput();\n\t\tcout << solve() << endl;\n\n\t}\n\n\t// std::cout << \"\\e[38;5;0m\\e[48;5;40m --- end ---  \\e[m\" << std::endl; // debug\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <sstream>\n#include <iomanip>\n#include <algorithm>\n#include <cmath>\n#include <string>\n#include <vector>\n#include <list>\n#include <queue>\n#include <stack>\n#include <set>\n#include <map>\n#include <bitset>\n#include <numeric>\n#include <climits>\n#include <cfloat>\nusing namespace std;\n\nconst int INF = INT_MAX / 4 * 3;\n\nint main()\n{\n    for(;;){\n        int n, m;\n        cin >> n >> m;\n        if(n == 0)\n            return 0;\n\n        vector<int> c(m), x(n);\n        for(int i=0; i<m; ++i)\n            cin >> c[i];\n        for(int i=0; i<n; ++i)\n            cin >> x[i];\n\n        vector<int> dp(256, INF);\n        dp[128] = 0;\n        for(int i=0; i<n; ++i){\n            vector<int> next(256, INF);\n            for(int j=0; j<256; ++j){\n                for(int k=0; k<m; ++k){\n                    int a = max(0, min(255, j + c[k]));\n                    next[a] = min(next[a], dp[j] + (x[i] - a) * (x[i] - a));\n                }\n            }\n            dp.swap(next);\n        }\n\n        cout << *min_element(dp.begin(), dp.end()) << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n\nusing namespace std;\n\n#define rep(i, n) for(int i=0; i<(n); ++i)\n#define all(c) (c).begin(), (c).end()\nconst int inf = 1 << 28;\n\ntemplate<typename T> inline void chmin(T& t, T f){if(t > f)t = f;}\ntemplate<typename T> inline T sqr(T x){return x * x;}\n\nint N, M;\n\nint solve(vector<int>& Cs, vector<int>& xs){\n    vector<int> dp(256, inf); dp[128] = 0;\n    rep(i, N){\n        vector<int> nxt(256, inf);\n        rep(y, 256)if(dp[y] != inf){\n            rep(j, M){\n                int ny = max(0, min(y + Cs[j], 255));\n                chmin(nxt[ny], dp[y] + sqr(xs[i] - ny));\n            }\n        }\n        dp.swap(nxt);\n    }\n    return *min_element(all(dp));\n}\n\nint main(){\n    while(cin >> N >> M, N|M){\n        vector<int> Cs(M), xs(N);\n        rep(i, M)cin >> Cs[i];\n        rep(i, N)cin >> xs[i];\n        cout << solve(Cs, xs) << '\\n';\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define lp(i,n) for(int i=0;i<n;i++)\n#define lpin(a,i,n) for(int i=0;i<n;i++){cin>>a[i];}\nint dp[25000][300];\nint  main(){\n  while(1){\n    int n,m;\n    cin>>n>>m;\n    int c[20],x[25000];\n    if(n==0&& m==0) break;\n    lp(i,25000){\n      lp(j,300){\n\tdp[i][j]=1000000;\n      }\n    }\n    lpin(c,i,m);\n    lpin(x,i,n);\n    dp[0][128]=0;\n    for(int i=1;i<=n;i++){\n      lp(j,255){\n\tif(dp[i-1][j]!=1000000){\n\t  lp(k,m){\n\t    dp[i][max(min(j+c[k],255),0)]=min(dp[i-1][j]+(max(min(j+c[k],255),0)-x[i-1])*(max(min(j+c[k],255),0)-x[i-1]),dp[i][max(min(j+c[k],255),0)]);\n\t  }\n\t}\n      }\n    }\n    int ans=1000000;\n    lp(i,300){\n      if(dp[n][i]!=-1)\n      ans=min(ans,dp[n][i]);\n    }\n    cout<<ans<<endl;\n  }\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> pii;\ntypedef vector<ll> VI;\ntypedef vector<VI> VVI;\nconst double PI = 3.14159265358979323846;\nconst double EPS = 1e-12;\nconst int INF = numeric_limits<int>::max() / 2;\nconst int NEG_INF = numeric_limits<int>::min() / 2;\n\nint main(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n\n  while(true){\n      int n,m;cin>>n>>m;\n      if(n==0 && m==0) break;\n      VVI dp(n+1,vector<ll>(256,INF));\n      std::vector<int> c(m),x(n+1);\n      for(int i=0;i<m;i++) cin>>c[i];\n      for(int i=1;i<=n;i++) cin>>x[i];\n      //ll dp[n+1][256];\n      for(int i=0;i<n+1;i++)for(int j=0;j<256;j++)dp[i][j]=INF;\n      dp[0][128]=0;\n      for(int i=0;i<n;i++)for(int j=0;j<256;j++){\n          for(int k=0;k<m;k++){\n              if(j+c[k]>255) dp[i+1][255]=min(dp[i+1][255],dp[i][j]+(255-x[i+1])*(255-x[i+1]));\n              else if(j+c[k]<0) dp[i+1][0]=min(dp[i+1][0],dp[i][j]+(x[i+1])*(x[i+1]));\n              else dp[i+1][j+c[k]]=min(dp[i+1][j+c[k]],dp[i][j]+(j+c[k]-x[i+1])*(j+c[k]-x[i+1]));\n          }\n      }\n      ll res=INF;\n      for(int i=0;i<256;i++) res=min(res,dp[n][i]);\n      cout<<res<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#define int long long\nusing namespace std;\n\nint n, m;\nint c[16];\nint x[20000];\nint dp[20001][256];\n\nsigned main() {\n\tint i, j, k;\n\t\n\twhile (cin >> n >> m) {\n\t\tif (!n) break;\n\t\tfor (i = 0; i < m; i++) cin >> c[i];\n\t\tfor (i = 0; i < n; i++) cin >> x[i];\n\t\tfor (i = 0; i <= n; i++) for (j = 0; j < 256; j++) dp[i][j] = 1145141919810;\n\t\t\n\t\tdp[0][128] = 0;\n\t\tfor (i = 0; i < n; i++) {\n\t\t\tfor (j = 0; j < 256; j++) {\n\t\t\t\tfor (k = 0; k < m; k++) {\n\t\t\t\t\tint ny = max(0LL, min(255LL, j + c[k]));\n\t\t\t\t\tdp[i + 1][ny] = min(dp[i + 1][ny], dp[i][j] + (x[i] - ny) * (x[i] - ny));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tint ans = 1145141919810;\n\t\tfor (i = 0; i < 256; i++) ans = min(ans, dp[n][i]);\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std ;\n\n#define pb(n) push_back(n)\n#define fi first\n#define se second\n#define all(r) (r).begin(),(r).end()\n#define gsort(st,en) sort((st),(en),greater<int>())\n#define vmax(ary) *max_element(all(ary))\n#define vmin(ary) *min_element(all(ary))\n#define debug(x) cout<<#x<<\": \"<<x<<endl\n#define fcout(n) cout<<fixed<<setprecision((n))\n#define scout(n) cout<<setw(n)\n#define vary(type,name,size,init) vector< type> name(size,init)\n\n#define rep(i,n) for(int i = 0; i < (int)(n);++i)\n#define REP(i,a,b) for(int i = (a);i < (int)(b);++i)\n#define repi(it,array) for(auto it = array.begin(),end = array.end(); it != end;++it)\n#define repa(n,array) for(auto &n :(array))\n\nusing ll = long long;\nusing vi = vector<int>;\nusing vl = vector<ll>;\nusing dict = map<string,int>;\nusing pii = pair<int,int> ;\nusing pll = pair<ll,ll> ;\n\nconst int mod = 1000000007;\nconstexpr int imax = ((1<<30)-1)*2+1 ;\nconstexpr int inf = 100000000;\nconstexpr double PI = acos(-1.0) ;\ndouble eps = 1e-10 ;\nconst int dy[] = {-1,0,1,0};\nconst int dx[] = {0,-1,0,1};\n\ninline bool value(int x,int y,int w,int h){\n  return (x >= 0 && x < w && y >= 0 && y < h);\n}\n\ntemplate<typename T>\nvoid Unique(vector<T> &v){\n  sort(all(v));\n  v.erase(unique(all(v)),v.end());\n}\n\ntemplate<typename T>\nT ston(string& str, T n){\n  istringstream sin(str) ;\n  T num ;\n  sin >> num ;\n  return num ;\n}\n\nvoid Ans(bool f){\n  if(f) cout << \"YES\"<<endl;\n  else cout << \"NO\"<<endl;\n}\n\nint main(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n  ll n,m;\n  while(cin >> n >> m&&n && m){\n    vary(ll,c,m,0);\n    vary(ll,x,n+1,0);\n    rep(i,m){\n      cin >> c[i];\n    }\n    rep(j,n){\n      cin >> x[j+1];\n    }\n    vector<vector<ll>> dp(n+1 ,vector<ll>(260,inf));\n    dp[0][128] = 0;\n    REP(i,1,n+1){\n      rep(j,256){\n        rep(k,m){\n          ll C = j+c[k];\n          if(C > 255) C = 255;\n          if(C < 0) C = 0;\n          dp[i][C] = min(dp[i][C], dp[i-1][j]+(ll)pow(x[i] - C,2));\n        }\n      }\n    }\n    ll ans = inf;\n    rep(i,256){\n      ans = min(ans,dp[n][i]);\n    }\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n\n#define IF 1040401\n#define lengthof(x) (sizeof(x) / sizeof(*(x)))\n\nusing namespace std;\n\nint main(int argc, char const *argv[])\n{\n\tint n,m;\n\tint dp[1<<8][2];\n\tint min_;\n\n\twhile(1){\n\t\tcin>>n>>m;\n\t\tif(n+m==0) break;\n\n\t\tvector<int> cb(m);\n\t\tvector<int> x(n);\n\t\tfor(int i1=0;i1<m;i1++){\n\t\t\tcin>>cb[i1];\n\t\t}\n\n\t\tfor(int i1=0;i1<n;i1++){\n\t\t\tcin>>x[i1];\n\t\t}\n\n\t\tfill((int*)dp,(int *)(dp+lengthof(dp)),IF);\n\n\t\tdp[128][0]=0;\n\t\tfor(int i1=0;i1<n;i1++){\n\t\t\tfor(int i2=0;i2<(1<<8);i2++){\n\t\t\t\tif(dp[i2][i1%2]!=IF){\n\n\t\t\t\t\tfor(int i3=0;i3<m;i3++){\n\t\t\t\t\t\tint temp=i2+cb[i3];\n\t\t\t\t\t\tif(temp<0) temp=0;\n\t\t\t\t\t\tif(temp>255) temp=255;\n\t\t\t\t\t\tdp[temp][(i1+1)%2]=min(dp[temp][(i1+1)%2],dp[i2][i1%2]+(temp-x[i1])*(temp-x[i1]));\n\t\t\t\t\t}\n\t\t\t\t\tdp[i2][i1%2]=IF;\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\t\tmin_=IF;\n\t\tfor(int i1=0;i1<(1<<8);i1++){\n\t\t\tmin_=min(min_,dp[i1][n%2]);\n\t\t}\n\n\t\tcout<<min_<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ninline int toInt(string s) {int v; istringstream sin(s);sin>>v;return v;}\ntemplate<class T> inline string toString(T x) {ostringstream sout;sout<<x;return sout.str();}\n\ntypedef long long ll;\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<string> VS;\ntypedef pair<int, int> P;\ntypedef tuple<int,int,int> tpl;\n\n#define ALL(a)  (a).begin(),(a).end()\n#define RALL(a) (a).rbegin(), (a).rend()\n#define SORT(c) sort((c).begin(),(c).end())\n#define REVERSE(c) reverse((c).begin(),(c).end())\n#define LB(a,x) lower_bound((a).begin(), (a).end(), x) - (a).begin()\n#define UB(a,x) upper_bound((a).begin(), (a).end(), x) - (a).begin()\n\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n)  FOR(i,0,n)\n#define RFOR(i,a,b) for(int i=(a)-1;i>=(b);--i)\n#define RREP(i,n) RFOR(i,n,0)\n\n#define en \"\\n\"\n\nconst double EPS = 1e-9;\nconst double PI  = acos(-1.0);\nconst int INT_INF = 2147483647;\nconst long long LL_INF = 1LL<<60;\nconst long long MOD = 1000000007;\n\n#define CLR(a) memset((a), 0, sizeof(a))\n\n#define dump(x)  cerr << #x << \" = \" << (x) << endl;\n#define debug(x) cerr << #x << \" = \" << (x) << \" (L\" << __LINE__ << \")\" << \" \" << __FILE__ << endl;\n\ntemplate<class T> inline bool chmax(T& a, T b) { if (a < b) { a = b; return true; } return false; }\ntemplate<class T> inline bool chmin(T& a, T b) { if (a > b) { a = b; return true; } return false; }\n\nll f(ll x){\n    return max((ll)0,min((ll)255,x));\n}\n\nint main(void){\n    ll N,M;\n    cin >> N >> M;\n    while(N!=0 || M!=0){\n        vector<ll> C(M); REP(i,M) cin >> C[i];\n\n        vector<ll> x(N); REP(i,N) cin >> x[i];\n        ll dp[2][256]; REP(i,256) dp[0][i] = LL_INF;\n        dp[0][128] = 0;\n\n        REP(i,N){\n            int a,b;\n            if(i%2 == 0){\n                a = 1;\n                b = 0;\n            }\n            else{\n                a = 0;\n                b = 1;\n            }\n            REP(j,256) dp[a][j] = LL_INF;\n            REP(j,256){\n                if(dp[b][j] == LL_INF) continue;\n                REP(k,M){\n                    ll t = f(j + C[k]);\n                    chmin(dp[a][t], dp[b][j] + (t-x[i])*(t-x[i]));\n                }\n            }\n        }\n\n        ll ans = LL_INF;\n        int a; if(N%2 == 0) a = 0; else a = 1;\n        REP(i,256) chmin(ans, dp[a][i]);\n        cout << ans << en;\n        cin >> N >> M;\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#pragma GCC optimize (\"O3\")\n#pragma GCC target (\"avx\")\n#include \"bits/stdc++.h\"\n\nusing namespace std;\nusing ll = long long int;\n\n#define debug(v) {printf(\"L%d %s > \",__LINE__,#v);cout<<(v)<<endl;}\n#define debugv(v) {printf(\"L%d %s > \",__LINE__,#v);for(auto e:(v)){cout<<e<<\" \";}cout<<endl;}\n#define debuga(m,w) {printf(\"L%d %s > \",__LINE__,#m);for(int x=0;x<(w);x++){cout<<(m)[x]<<\" \";}cout<<endl;}\n#define debugaa(m,h,w) {printf(\"L%d %s >\\n\",__LINE__,#m);for(int y=0;y<(h);y++){for(int x=0;x<(w);x++){cout<<(m)[y][x]<<\" \";}cout<<endl;}}\n#define ALL(v) (v).begin(),(v).end()\n#define repeat(cnt,l) for(remove_const<decltype(l)>::type cnt=0;(cnt)<(l);++(cnt))\n#define rrepeat(cnt,l) for(auto cnt=(l)-1;0<=(cnt);--(cnt))\n#define iterate(cnt,b,e) for(auto cnt=(b);(cnt)!=(e);++(cnt))\n#define diterate(cnt,b,e) for(auto cnt=(b);(cnt)!=(e);--(cnt))\nconst ll MD = 1000000007ll; const long double PI = 3.1415926535897932384626433832795L;\ntemplate<typename T1, typename T2> inline void assert_equal(T1 expected, T2 actual) { if (!(expected == actual)) { cerr << \"assertion fault: expected=\" << expected << \" actual=\" << actual << endl; abort(); } }\ntemplate<typename T1, typename T2> inline void assert_less(T1 actual, T2 threshold) { if (!(actual < threshold)) { cerr << \"assertion fault: \" << actual << \" < (const)\" << threshold << endl; abort(); } }\ntemplate<typename T1, typename T2> inline void assert_eqless(T1 actual, T2 threshold) { if (!(actual <= threshold)) { cerr << \"assertion fault: \" << actual << \" <= (const)\" << threshold << endl; abort(); } }\ntemplate<typename T1, typename T2> inline ostream& operator <<(ostream &o, const pair<T1, T2> p) { o << '(' << p.first << ':' << p.second << ')'; return o; }\ntemplate<typename Vec> inline ostream& _ostream_vecprint(ostream &o, const Vec& p) { o << '['; for (auto& e : p) o << e << ','; o << ']'; return o; }\ntemplate<typename T> inline ostream& operator<<(ostream& o, const vector<T>& v) { return _ostream_vecprint(o, v); }\ntemplate<typename T, size_t S> inline ostream& operator<<(ostream& o, const array<T, S>& v) { return _ostream_vecprint(o, v); }\ntemplate<typename T> inline T& maxset(T& to, const T& val) { return to = max(to, val); }\ntemplate<typename T> inline T& minset(T& to, const T& val) { return to = min(to, val); }\nvoid bye(string s, int code = 0) { cout << s << endl; exit(code); }\nmt19937_64 randdev(8901016);\ntemplate<typename T> inline T rand(T l, T h) { return uniform_int_distribution<T>(l, h)(randdev); }\ntemplate<> inline double rand<double>(double l, double h) { return uniform_real_distribution<double>(l, h)(randdev); }\ntemplate<> inline float rand<float>(float l, float h) { return uniform_real_distribution<float>(l, h)(randdev); }\n\n#if defined(_WIN32) || defined(_WIN64)\n#define getchar_unlocked _getchar_nolock\n#define putchar_unlocked _putchar_nolock\n#elif defined(__GNUC__)\n#else\n#define getchar_unlocked getchar\n#define putchar_unlocked putchar\n#endif\nnamespace {\n#define isvisiblechar(c) (0x21<=(c)&&(c)<=0x7E)\n    class MaiScanner {\n    public:\n        template<typename T> void input_integer(T& var) {\n            var = 0; T sign = 1;\n            int cc = getchar_unlocked();\n            for (; cc<'0' || '9'<cc; cc = getchar_unlocked())\n                if (cc == '-') sign = -1;\n            for (; '0' <= cc && cc <= '9'; cc = getchar_unlocked())\n                var = (var << 3) + (var << 1) + cc - '0';\n            var = var * sign;\n        }\n        inline int c() { return getchar_unlocked(); }\n        inline MaiScanner& operator>>(int& var) { input_integer<int>(var); return *this; }\n        inline MaiScanner& operator>>(long long& var) { input_integer<long long>(var); return *this; }\n        inline MaiScanner& operator>>(string& var) {\n            int cc = getchar_unlocked();\n            for (; !isvisiblechar(cc); cc = getchar_unlocked());\n            for (; isvisiblechar(cc); cc = getchar_unlocked())\n                var.push_back(cc);\n            return *this;\n        }\n        template<typename IT> void in(IT begin, IT end) { for (auto it = begin; it != end; ++it) *this >> *it; }\n    };\n    class MaiPrinter {\n    public:\n        template<typename T>\n        void output_integer(T var) {\n            if (var == 0) { putchar_unlocked('0'); return; }\n            if (var < 0)\n                putchar_unlocked('-'),\n                var = -var;\n            char stack[32]; int stack_p = 0;\n            while (var)\n                stack[stack_p++] = '0' + (var % 10),\n                var /= 10;\n            while (stack_p)\n                putchar_unlocked(stack[--stack_p]);\n        }\n        inline MaiPrinter& operator<<(char c) { putchar_unlocked(c); return *this; }\n        inline MaiPrinter& operator<<(int var) { output_integer<int>(var); return *this; }\n        inline MaiPrinter& operator<<(long long var) { output_integer<long long>(var); return *this; }\n        inline MaiPrinter& operator<<(char* str_p) { while (*str_p) putchar_unlocked(*(str_p++)); return *this; }\n        inline MaiPrinter& operator<<(const string& str) {\n            const char* p = str.c_str();\n            const char* l = p + str.size();\n            while (p < l) putchar_unlocked(*p++);\n            return *this;\n        }\n        template<typename IT> void join(IT begin, IT end, char sep = '\\n') { for (auto it = begin; it != end; ++it) *this << *it << sep; }\n    };\n}\nMaiScanner scanner;\nMaiPrinter printer;\n\n\nll inp[20010], code[20];\n\ninline ll limit(ll x, ll low, ll high) { return x < low ? low : x > high ? high : x; }\n\nvoid solve(int N, int M) {\n\n    scanner.in(code, code + M);\n    scanner.in(inp, inp + N);\n\n    vector<pair<ll, ll>> curr(M, make_pair(0, 128ll)), next(M);\n\n    repeat(i, N) {\n        fill(ALL(next), pair<ll, ll>(numeric_limits<ll>::max(), 0));\n        repeat(j, M) {\n            repeat(k, M) {\n                ll t = limit(curr[j].second + code[k], 0, 255);\n                minset(next[k], make_pair(curr[j].first + (t - inp[i])*(t - inp[i]), t));\n            }\n        }\n        curr.swap(next);\n    }\n    ll best = 1e18;\n    for (auto p : curr)\n        minset(best, p.first);\n\n    printer << best << '\\n';\n}\n\n\n\nint main() {\n    int n, m;\n    while (scanner >> n >> m, n > 0 && m > 0)\n        solve(n, m);\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cmath>\nusing namespace std;\nint dp[20000][256];\nint main(){\n  for(int n,m;cin>>n>>m,n;){\n    int c[20000],x[20];\n    for(int i=0;i<n;i++) fill(dp[i],dp[i]+256,(int)1e9);\n    for(int i=0;i<m;i++) cin>>x[i];\n    for(int i=0;i<n;i++) cin>>c[i];\n    for(int i=0;i<m;i++) dp[0][x[i]+128]=pow(x[i]+128-c[0],2);\n    for(int i=1;i<n;i++){\n      for(int j=0;j<256;j++){\n\tif(dp[i-1][j]!=(int)1e9){\n\t  for(int k=0;k<m;k++){\n\t    int num=j+x[k];\n\t    if(num<0) num=0;\n\t    if(num>255) num=255;\n\t    dp[i][num]=min(dp[i][num],dp[i-1][j]+(int)pow(c[i]-num,2));\n\t  }\n\t}\n      }\n    }\n    /*\n      for(int i=0;i<n;i++){\n      for(int j=0;j<256;j++) cout<<(dp[i][j]!=1e9?dp[i][j]:-1)<<\" \";\n      cout<<endl;\n      }*/\n    int sm=1e9;\n    for(int i=0;i<256;i++) sm=min(sm,dp[n-1][i]);\n    cout<<sm<<endl;\n  }\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<math.h>\n#include<algorithm>\n#include<vector>\n\nusing namespace std;\n\n#define INF 1000000007\nint n,m;\nlong long dp[20001][256];\nint c[16];\nint x[20001];\n\nlong long dfs(int k){\n  if(k > n){\n    long long t = INF;\n    for(int i = 0; i < 256; i++){\n      t = t > dp[n][i] ? dp[n][i] : t;\n    }\n    return t;\n  }\n  for(int i = 0 ; i < 256; i++){\n    if(dp[k-1][i] == INF) continue;\n    for(int j = 0; j < m ; j++){\n      long long t = i + c[j];\n      if(t > 255) t = 255;\n      if(t < 0) t = 0;\n      dp[k][t] = dp[k][t] > dp[k-1][i] + (x[k] - t)*(x[k] - t) ? dp[k-1][i] + (x[k] - t)*(x[k] - t) : dp[k][t];\n    }\n  }\n  return dfs(k+1);\n}\n\nint main(){\n  while(cin >> n >> m && n != 0){\n    for(int i = 0; i < 20001; i++){\n      for(int j = 0; j < 256; j++){\n        if(i == 0 && j == 128) dp[i][j] = 0;\n        else dp[i][j] = INF;\n      }\n    }\n    for(int i = 0; i < m; i++){\n      cin >> c[i];\n    }\n    x[0] = 128;\n    for(int i = 0; i < n ; i++){\n      cin >> x[i+1];\n    }\n    cout << dfs(1) << endl;\n  }\n\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\n#include<map>\n#include<set>\n#include<cstring>\n#include<queue>\n#include<stack>\n#include<cstdio>\n#include<iomanip>\n#define pb push_back\n#define all(in) in.begin(),in.end()\n#define shosu(x) fixed<<setprecision(x)\n#define loop(i,a,b) for(int i=a;i<b;i++)\n#define rep(i,a) loop(i,0,a)\nusing namespace std;\ntypedef long long ll;\ntypedef int Def;\ntypedef pair<Def,Def> pii;\ntypedef vector<Def> vi;\ntypedef vector<vi> vvi;\ntypedef vector<pii> vp;\ntypedef vector<string> vs;\nDef inf = sizeof(Def) == sizeof(ll) ? 2e18:1e9+10;\nint main(){\n\tint n,m;\n\twhile(cin>>n>>m,n||m){\n\t\tvi c(m);\n\t\trep(i,m)cin>>c[i];\n\t\tvi x(n);\n\t\trep(i,n)cin>>x[i];\n\t\tvvi dp(n+1,vi(256,inf));\n\t\tdp[0][128]=0;\n\t\trep(i,n)rep(j,256)if(dp[i][j]!=inf){\n\t\t\trep(k,m){\n\t\t\t\tint ne=j+c[k];\n\t\t\t\tne=max(ne,0);\n\t\t\t\tne=min(ne,255);\n\t\t\t\tdp[i+1][ne]=min(dp[i+1][ne],dp[i][j]+(ne-x[i])*(ne-x[i]));\n\t\t\t}\n\t\t}\n\t\tint out=inf;\n\t\trep(i,256)out=min(out,dp[n][i]);\n\t\tcout<<out<<endl;\n\t\t\n\t}\n}\n\n\n\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define lp(i,n) for(int i=0;i<n;i++)\n#define lpin(a,i,n) for(int i=0;i<n;i++){cin>>a[i];}\nint dp[25000][300];\nint  main(){\n  while(1){\n    int n,m;\n    cin>>n>>m;\n    int c[20],x[25000];\n    if(n==0&& m==0) break;\n    lp(i,25000){\n      lp(j,300){\n\tdp[i][j]=-1;\n      }\n    }\n    lpin(c,i,m);\n    lpin(x,i,n);\n    dp[0][128]=0;\n    for(int i=1;i<=n;i++){\n      lp(j,256){\n\tif(dp[i-1][j]!=-1){\n\t  lp(k,m){\n\t    if(dp[i][max(min(j+c[k],255),0)]==-1){\n\t      dp[i][max(min(j+c[k],255),0)]=dp[i-1][j]+(max(min(j+c[k],255),0)-x[i-1])*(max(min(j+c[k],255),0)-x[i-1]);\n\t    }\n\t    else\n\t    dp[i][max(min(j+c[k],255),0)]=min(dp[i-1][j]+(max(min(j+c[k],255),0)-x[i-1])*(max(min(j+c[k],255),0)-x[i-1]),dp[i][max(min(j+c[k],255),0)]);\n\t  }\n\t}\n      }\n    }\n    int ans=10000000;\n    lp(i,300){\n      if(dp[n][i]!=-1)\n      ans=min(ans,dp[n][i]);\n    }\n    cout<<ans<<endl;\n  }\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <cmath>\nusing namespace std;\n\nint main(){\n  int i,j,k,n,m;\n  while(cin >> n >> m && n && m){\n    vector<int> C,x;\n    for(i=0;i<m;i++){\n      int a;\n      cin >> a;\n      C.push_back(a);\n    }\n    for(i=0;i<n;i++){\n      int a;\n      cin >> a;\n      x.push_back(a);\n    }\n\n    unsigned long long y[256][2];\n    bool f[256][2];\n    for(i=0;i<256;i++){\n      y[i][0] = y[i][1] = 0;\n      f[i][0] = f[i][1] = false;\n    }\n    f[128][0] = true;\n\n    for(i=0;i<n;i++){\n      for(j=0;j<m;j++){\n\tfor(k=0;k<256;k++){\n\t  if(f[k][0]){\n\t    int a = k + C[j];\n\t    if(a < 0) a = 0;\n\t    else if(a > 255) a = 255;\n\n\t    if(!f[a][1]) y[a][1] = y[k][0]+(x[i]-a)*(x[i]-a);\n\t    else y[a][1] = min(y[a][1],y[k][0]+(x[i]-a)*(x[i]-a));\n\t    f[a][1] = true;\n\t  }\n\t}\n      }\n      for(j=0;j<256;j++){\n\ty[j][0] = y[j][1];\n\ty[j][1] = 0;\n\tf[j][0] = f[j][1];\n\tf[j][1] = false;\n      }\n    }\n\n    unsigned long long ans = 0;\n    bool f2 = false;\n    for(i=1;i<256;i++){\n      if(f[i][0]){\n\tif(!f2){\n\t  ans = y[i][0];\n\t  f2 = true;\n\t}\n\telse ans = min(ans,y[i][0]);\n      }\n    }\n\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std ;\n\nint table[20001][20][2] ;\n\nmain()\n{\n\tint n,m,c[20],p[20001] ;\n\t\n\twhile( cin >> n >> m , n )\n\t{\n\t\tfor( int i=0 ; i<m ; i++ ) cin >> c[i] ;\n\t\tfor( int i=0 ; i<n ; i++ ) cin >> p[i] ;\n\t\t\n\t\tfor( int i=0 ; i<m ; i++ )\n\t\t{\n\t\t\tint y = 128 + c[i] ;\n\t\t\tif( y < 0 ) y = 0 ;\n\t\t\telse if( y > 255 ) y = 255 ;\n\t\t\ttable[0][i][0] = y ;\n\t\t\ttable[0][i][1] = pow( p[0]-table[0][i][0] , 2 ) ;\n\t\t}\n\t\t\n\t\tfor( int i=1 ; i<n ; i++ )\n\t\t{\n\t\t\tfor( int j=0 ; j<m ; j++ )\n\t\t\t{\n\t\t\t\tint y = table[i-1][j][0] + c[j] ;\n\t\t\t\tif( y < 0 ) y = 0 ;\n\t\t\t\telse if( y > 255 ) y = 255 ;\n\t\t\t\t\n\t\t\t\tint x = table[i-1][j][1] + pow( p[i]-y , 2 ) ;\n\t\t\t\tint y2 = y ;\n\t\t\t\tfor( int k=0 ; k<m ; k++ )\n\t\t\t\t{\n\t\t\t\t\tif( j==k ) continue ;\n\t\t\t\t\t\n\t\t\t\t\ty = table[i-1][k][0] + c[j] ;\n\t\t\t\t\tif( y < 0 ) y = 0 ;\n\t\t\t\t\telse if( y > 255 ) y = 255 ;\n\t\t\t\t\t\n\t\t\t\t\tif( x > table[i-1][k][1] + pow( p[i]-y , 2 ) )\n\t\t\t\t\t{\n\t\t\t\t\t\ty2 = y ;\n\t\t\t\t\t\tx = table[i-1][k][1] + pow( p[i]-y2 , 2 ) ;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttable[i][j][0] = y2 ;\n\t\t\t\ttable[i][j][1] = x ;\n\t\t\t}\n\t\t}\n\t\t\n\t\tint ans = table[n-1][0][1] ;\n\t\tfor( int i=1 ; i<m ; i++ )\n\t\t{\n\t\t\tif( ans > table[n-1][i][1] ) ans = table[n-1][i][1] ;\n\t\t}\n\t\t\n\t\tcout << ans << endl ;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int, int> P;\nconst ll MOD = 1000000007;\nconst int IINF = INT_MAX;\nconst ll LLINF = LLONG_MAX;\nconst int MAX_N = int(2e4 + 5);\n#define REP(i, n) for (int i = 0; i < n; i++)\n\nint n, m, c[16], x[MAX_N], dp[MAX_N][256];  // iまでみて信号をjにしたときの最小\n\nint main() {\n    while(cin >> n >> m, n){\n        REP(i,m) cin >> c[i];\n        REP(i,n) cin >> x[i];\n\n        REP(i,n+1)fill(dp[i],dp[i]+256,IINF/2);\n        dp[0][128] = 0;\n\n        REP(i,n){\n            REP(j,256){\n                REP(k,m){\n                    int y = max(0,min(255,j+c[k]));\n                    dp[i+1][y] = min(dp[i+1][y], dp[i][j]+int(pow(x[i]-y,2)));\n                }\n            }\n        }\n        int ans = IINF;\n        REP(i,256) ans = min(ans, dp[n][i]);\n        cout << ans << endl;\n    }\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <array>\n#include <algorithm>\n#include <vector>\n#include <bitset>\n#include <set>\n#include <unordered_set>\n#include <cmath>\n#include <complex>\n#include <deque>\n#include <iterator>\n#include <numeric>\n#include <map>\n#include <unordered_map>\n#include <queue>\n#include <stack>\n#include <string>\n#include <tuple>\n#include <utility>\n#include <limits>\n#include <iomanip>\n#include <functional>\n#include <cassert>\nusing namespace std;\n\nusing ll=long long;\ntemplate<class T> using V = vector<T>;\ntemplate<class T, class U> using P = pair<T, U>;\nusing vll = V<ll>;\nusing vvll = V<vll>;\n#define rep(i, k, n) for (ll i=k; i<(ll)n; ++i)\n#define REP(i, n) rep(i, 0, n)\n#define ALL(v) v.begin(),v.end()\ntemplate < class T > inline bool chmax(T& a, T b) {if (a < b) { a=b; return true; } return false; }\ntemplate < class T > inline bool chmin(T& a, T b) {if (a > b) { a=b; return true; } return false; }\n#define DEBUG_VLL(vec) REP(sz, vec.size()) std::cerr<<vec[sz]<<(sz==vec.size()-1?'\\n':' ');\n\nconst long long MOD = 1000000007;\nconst long long HIGHINF = (long long)1e18;\nconst int INF = (int)1e9;\n\nint main() {\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    while (true) {\n        ll n, m; cin >> n >> m;\n        if (n == 0 && m == 0) break;\n        vll cb(m);\n        for (ll i = 0; i < m; i++) cin >> cb[i];\n        vvll dp(256, vll(n + 1, HIGHINF));\n        dp[128][0] = 0;\n        ll x;\n        for (ll i = 0; i < n; i++) {\n            cin >> x;\n            for (ll j = 0; j < 256; j++) {\n                for (ll k = 0; k < m; k++) {\n                    ll nxt = min(max(0LL, j + cb[k]), 255LL);\n                    chmin(dp[nxt][i + 1], dp[j][i] + (x - nxt) * (x - nxt));\n                }\n            }\n        }\n        \n        ll ans = HIGHINF;\n        for (ll i = 0; i < 256; i++) chmin(ans, dp[i][n]);\n        cout << ans << '\\n';\n    }\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n#define REP(i,b,n) for(int i=b;i<n;i++)\n#define rep(i,n)   REP(i,0,n)\n\nconst int inf = ( 1 << 28);\n\nint dp[20001][256];\nint solve(int n,int m,int *cbook,int *in){\n  rep(i,n+1)rep(j,256)dp[i][j]=inf;\n  dp[0][128]=0;\n\n  rep(i,n){\n    rep(j,256){\n      if (dp[i][j] == inf)continue;\n      rep(k,m){\n\tint next=j+cbook[k];\n\tif (next<0)next=0;\n\telse if (next>255)next=255;\n\tdp[i+1][next]=min(dp[i+1][next],dp[i][j]+(next-in[i])*(next-in[i]));\n      }\n    }\n  }\n  \n  int ans = inf;\n  rep(i,256)ans=min(ans,dp[n][i]);\n  return ans;\n}\n\n\nmain(){\n  int n,m;\n  int in[20000],cbook[200];\n  while(cin>>n>>m && n){\n    rep(i,m)cin>>cbook[i];\n    rep(i,n)cin>>in[i];\n    cout << solve(n,m,cbook,in) << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "//tempaa\n//#pragma GCC optimize (\"-O3\")\n#ifdef _DEBUG\n#include<cassert>\n#include \"bits_stdc++.h\"\n#else\n#include <bits/stdc++.h>\n#endif\n\n#define r_ return\n#define v_ vector\n#define t_T template<class T>\n\nusing namespace std;\n//@起動時\nstruct initon {\n    initon() {\n        cin.tie(0);\n        ios::sync_with_stdio(false);\n        cout.setf(ios::fixed);\n        cout.precision(16);\n        srand((unsigned) clock() + (unsigned) time(NULL));\n    };\n} __initon;\n//衝突対策\n#define ws ___ws\n#define over4(o1, o2, o3, o4, name, ...) name\n\n#define int long long\n#define ll long long\n#define double long double\n#define ull unsigned long long\nusing dou = double;\nusing itn = int;\nusing str = string;\nusing bo= bool;\n#define au auto\nusing P = pair<ll, ll>;\n\n#define fi first\n#define se second\n#define vec v_\n#define beg begin\n#define rbeg rbegin\n#define con continue\n#define bre break\n#define brk break\n#define is ==\nusing vi = v_<ll>;\nusing vb = v_<bool>;\nusing vs = v_<string>;\nusing vd = v_<double>;\nusing vc = v_<char>;\nusing vp = v_<P>;\n\n//#define V v_\n#define vvt0(t) v_<v_<t>>\n#define vvt1(t, a) v_<v_<t>>a\n#define vvt2(t, a, b) v_<v_<t>>a(b)\n#define vvt3(t, a, b, c) v_<v_<t>> a(b,v_<t>(c))\n#define vvt4(t, a, b, c, d) v_<v_<t>> a(b,v_<t>(c,d))\n\n#define vvi(...) over4(__VA_ARGS__,vvt4,vvt3,vvt2 ,vvt1,vvt0)(ll,__VA_ARGS__)\n#define vvb(...) over4(__VA_ARGS__,vvt4,vvt3,vvt2 ,vvt1,vvt0)(bool,__VA_ARGS__)\n#define vvs(...) over4(__VA_ARGS__,vvt4,vvt3,vvt2 ,vvt1,vvt0)(string,__VA_ARGS__)\n#define vvd(...) over4(__VA_ARGS__,vvt4,vvt3,vvt2 ,vvt1,vvt0)(double,__VA_ARGS__)\n#define vvc(...) over4(__VA_ARGS__,vvt4,vvt3,vvt2 ,vvt1,vvt0)(char,__VA_ARGS__)\n#define vvp(...) over4(__VA_ARGS__,vvt4,vvt3,vvt2 ,vvt1,vvt0)(P,__VA_ARGS__)\n\n\n#define v3i(a, b, c, d) v_<v_<vi>> a(b, v_<vi>(c, vi(d)))\n#define v3d(a, b, c, d) v_<v_<vd>> a(b, v_<vd>(c, vd(d)))\n#define v3m(a, b, c, d) v_<v_<vm>> a(b, v_<vm>(c, vm(d)))\n\n\n#define PQ priority_queue<ll, v_<ll>, greater<ll> >\n#define tos to_string\nusing mapi = map<int, int>;\nusing mapd = map<dou, int>;\nusing mapc = map<char, int>;\nusing maps = map<str, int>;\nusing seti = set<int>;\nusing setd = set<dou>;\nusing setc = set<char>;\nusing sets = set<str>;\nusing qui = queue<int>;\n#define bset bitset\n#define uset unordered_set\n#define mset multiset\n#define umap unordered_map\n#define umapi unordered_map<int,int>\n#define umapp unordered_map<P,int>\n#define mmap multimap\n\n//マクロ 繰り返し\n#define _overloadrep(_1, _2, _3, _4, name, ...) name\n# define _rep(i, n) for(int i = 0,_lim=n; i < _lim ; i++)\n#define repi(i, m, n) for(int i = m,_lim=n; i < _lim ; i++)\n#define repadd(i, m, n, ad) for(int i = m,_lim=n; i < _lim ; i+= ad)\n#define rep(...) _overloadrep(__VA_ARGS__,repadd,repi,_rep,)(__VA_ARGS__)\n#define _rer(i, n) for(int i = n; i >= 0 ; i--)\n#define reri(i, m, n) for(int i = m,_lim=n; i >= _lim ; i--)\n#define rerdec(i, m, n, dec) for(int i = m,_lim=n; i >= _lim ; i-=dec)\n#define rer(...) _overloadrep(__VA_ARGS__,rerdec,reri,_rer,)(__VA_ARGS__)\n#define fora(a, b) for(auto&& a : b)\n\n//マクロ 定数\n#define k3 1010\n#define k4 10101\n#define k5 101010\n#define k6 1010101\n#define k7 10101010\n\nt_T T MAX() { r_ numeric_limits<T>::max(); }\nt_T T MIN() { r_ numeric_limits<T>::min(); }\nconst int inf = (int) 1e9 + 100;\nconst ll linf = (ll) 1e18 + 100;\nt_T T INF() { r_ MAX<T>() / 2; }\ntemplate<> signed INF() { r_ inf; }\ntemplate<> ll INF() { r_ linf; }\ntemplate<> double INF() { r_ (double) linf * linf; }\n\nconst double eps = 1e-9;\nconst double PI = 3.1415926535897932384626433832795029L;\nll ma = numeric_limits<ll>::min();\nll mi = numeric_limits<ll>::max();\nconst int y4[] = {-1, 1, 0, 0};\nconst int x4[] = {0, 0, -1, 1};\nconst int y8[] = {0, 1, 0, -1, -1, 1, 1, -1};\nconst int x8[] = {1, 0, -1, 0, 1, -1, 1, -1};\n\n//マクロ省略形 関数等\n#define sz(a) ((int)(a).size())\n#define rs resize\n#define mp make_pair\n#define pb push_back\n#define pf push_front\n#define eb emplace_back\n#define all(a) (a).begin(),(a).end()\n#define rall(a) (a).rbegin(),(a).rend()\n\n/*@formatter:off*/\ninline void sort(string &a) { sort(all(a)); }\nt_T inline void sort(v_<T> &a) { sort(all(a)); };\nt_T inline void rsort(v_<T> &a) { sort(all(a), greater<T>()); };\ntemplate<class U> inline void sortp(v_<U> &a, v_<U> &b) {    vp c;    int n = sz(a);    assert(n == sz(b));    rep(i, n)c.eb(a[i], b[i]);    sort(c);    rep(i, n) {        a[i] = c[i].first;        b[i] = c[i].second;;    }};//F = T<T>\n//例えばr_ p.fi + p.se;\ntemplate<class U> inline void rsortp(v_<U> &a, v_<U> &b) {    vp c;    int n = sz(a);    assert(n == sz(b));    rep(i, n)c.eb(a[i], b[i]);    rsort(c);    rep(i, n) {        a[i] = c[i].first;        b[i] = c[i].second;    }};\ntemplate<typename V, typename T>\nvoid fill(V &xx, const T vall) {xx = vall;}\ntemplate<typename V, typename T>\nvoid fill(v_<V> &vecc, const T vall) {for (auto &&vx: vecc) fill(vx, vall);}\n\n//@汎用便利関数 入力\ntemplate<typename T = int> T _in() {T x;cin >> x;r_ (x);}\n#define _overloadin(_1, _2, _3, _4, name, ...) name\n#define in0() _in()\n#define in1(a) cin>>a\n#define in2(a, b) cin>>a>>b\n#define in3(a, b, c) cin>>a>>b>>c\n#define in4(a, b, c, d) cin>>a>>b>>c>>d\n#define in(...) _overloadin(__VA_ARGS__,in4,in3,in2 ,in1,in0)(__VA_ARGS__)\n\n#define _overloaddin(_1, _2, _3, _4, name, ...) name\n#define din1(a) int a;cin>>a\n#define din2(a, b) int a,b;cin>>a>>b\n#define din3(a, b, c) int a,b,c;cin>>a>>b>>c\n#define din4(a, b, c, d) int a,b,c,d;cin>>a>>b>>c>>d\n#define din(...) _overloadin(__VA_ARGS__,din4,din3,din2 ,din1)(__VA_ARGS__)\n\n#define _overloaddind(_1, _2, _3, _4, name, ...) name\n#define din1d(a) int a;cin>>a;a--\n#define din2d(a, b) int a,b;cin>>a>>b;a--,b--\n#define din3d(a, b, c) int a,b,c;cin>>a>>b>>c;a--,b--,c--\n#define din4d(a, b, c, d) int a,b,c,d;cin>>a>>b>>c>>d;;a--,b--,c--,d--\n#define dind(...) _overloaddind(__VA_ARGS__,din4d,din3d,din2d ,din1d)(__VA_ARGS__)\ntemplate<typename W, typename H> void resize(W &vec_, const H head) { vec_.resize(head); }\ntemplate<typename W, typename H, typename ... T> void resize(W &vec_, const H &head, const T ... tail) {vec_.resize(head);for (auto &v: vec_)resize(v, tail...);}\n\n\nstring sin() { r_ _in<string>(); }\nll lin() { r_ _in<ll>(); }\nt_T void na(v_<T> &a, ll n) {a.resize(n);rep(i, n)cin >> a[i];}\n#define dna(a, n) vi a; na(a, n);/*nを複数使うと n==in()の時バグる事に注意*/\n#define dnad(a, n) vi a; nad(a, n);\nt_T void nad(v_<T> &a, ll n) {a.resize(n);rep(i, n)cin >> a[i], a[i]--;}\ntemplate<class T, class U> void na2(v_<T> &a, v_<U> &b, ll n) {a.resize(n);b.resize(n);rep(i, n)cin >> a[i] >> b[i];}\n#define dna2(a, b, n) vi a,b; na2(a,b,n);\ntemplate<class T, class U, class W> void na3(v_<T> &a, v_<U> &b, v_<W> &c, ll n) {a.resize(n);b.resize(n);c.resize(n);rep(i, n)cin >> a[i] >> b[i] >> c[i];}\n#define nt(a, h, w) resize(a,h,w);rep(nthi,h)rep(ntwi,w) cin >> a[nthi][ntwi];\n#define ntd(a, h, w) resize(a,h,w);rep(ntdhi,h)rep(ntdwi,w) cin >> a[ntdhi][ntdwi], a[ntdhi][ntdwi]--;\n#define ntp(a, h, w) resize(a,h+2,w+2);fill(a,'#');rep(ntphi,1,h+1)rep(ntpwi,1,w+1) cin >> a[ntphi][ntpwi];\n#define dnt(S, h, w) vvi(S,h,w);nt(S,h,w);\n#define dntc(S, h, w) vvc(S,h,w);nt(S,h,w);\n#define dnts(S, h, w) vvs(S,h,w);nt(S,h,w);\n\n//デバッグ\n#define sp << \" \" <<\nt_T string out_m2(v_<T> &a, ll W = inf) {    stringstream ss;    if (W == inf)W = min(sz(a), 20ll);    if (sz(a) == 0)r_ ss.str();    rep(i, W) {        ss << a[i];        if (typeid(a[i]) == typeid(P)) { ss << endl; } else { ss << \" \"; }    }    r_ ss.str();}\nt_T string out_m2(v_<v_<T> > &a, vi H, vi W, int key = -1) {    stringstream ss;    ss << endl;    vi lens(sz(W));    fora(h, H) {        rep(wi, sz(W)) {            int v = a[h][W[wi]];            str s = tos(v);            if (abs(v) == inf || abs(v) == INF<T>())s = \"e\";            lens[wi] = max(lens[wi], sz(s) + 1);            lens[wi] = max(lens[wi], sz(tos(W[wi])) + 1);        }    }    if (key == -1)ss << \" *|\"; else ss << \" \" << key << \"|\";    int wi = 0;    fora(w, W) {        ss << std::right << std::setw(lens[wi]) << w;        wi++;    }    ss << \"\" << endl;    rep(i, sz(W))rep(_, lens[i]) ss << \"_\";    rep(i, 3)ss << \"_\";    ss << \"\" << endl;    fora(h, H) {        ss << std::right << std::setw(2) << h << \"|\";        int wi = 0;        fora(w, W) {            str s = tos(a[h][w]);            if (abs(a[h][w]) == inf || abs(a[h][w]) == INF<T>())s = \"e\";            ss << std::right << std::setw(lens[wi]) << s;            wi++;        }        ss << \"\" << endl;    }    r_ ss.str();}\nt_T string out_m2(v_<v_<T> > &a, ll H = inf, ll W = inf, int key = -1) {    H = (H != inf) ? H : min({H, sz(a), 12ll});    W = min({W, sz(a[0]), 12ll});    vi hs, ws;    rep(h, H) { hs.push_back(h); }    rep(w, W) { ws.push_back(w); }    r_ out_m2(a, hs, ws, key);}\nt_T string out_m2(v_<v_<v_<T> > > &a, ll H = inf, ll W = inf, ll U = inf) {    stringstream ss;    if (H == inf)H = 12;    H = min(H, sz(a));    rep(i, H) {        ss << endl;        ss << out_m2(a[i], W, U, i);    }    r_ ss.str();}\nstring out_m2(int a) {    stringstream ss;    ss << a;    r_ ss.str();}\nt_T string out_m2(T &a) {    stringstream ss;    ss << a;    r_ ss.str();}\n\n#define debugName(VariableName) # VariableName\n\n#define _deb1(x) cerr <<  debugName(x)<<\" = \"<<out_m2(x) << endl\n#define _deb2(x, y) cerr <<  debugName(x)<<\" = \"<<out_m2(x)<<\", \"<< debugName(y)<<\" = \"<<out_m2(y)<< endl\n#define _deb3(x, y, z) cerr <<  debugName(x)<<\" = \"<<out_m2(x)  << \", \" <<  debugName(y)<<\" = \"<<out_m2(y) <<\", \" debugName(z)<<\" = \"<<out_m2(z) <<endl\n#define _deb4(x, y, z, a) cerr <<  debugName(x)<<\" = \"<<out_m2(x) <<\", \" <<   debugName(y)<<\" = \"<<out_m2(y) <<\", \" <<  debugName(z)<<\" = \"<<out_m2(z) <<\", \" <<  debugName(a)<<\" = \"<<out_m2(a)<<endl\n#define _deb5(x, y, z, a, b) cerr <<  debugName(x)<<\" = \"<<out_m2(x) <<\", \" <<   debugName(y)<<\" = \"<<out_m2(y) <<\", \" <<  debugName(z)<<\" = \"<<out_m2(z) <<\", \" <<  debugName(a)<<\" = \"<<out_m2(a)<<\", \" <<  debugName(b)<<\" = \"<<out_m2(b)<<endl\n\n\n#define _overloadebug(_1, _2, _3, _4, _5, name, ...) name\n#define debug(...) _overloadebug(__VA_ARGS__,_deb5,_deb4,_deb3,_deb2,_deb1)(__VA_ARGS__)\n#ifdef _DEBUG\n#define deb(...) _overloadebug(__VA_ARGS__,_deb5,_deb4,_deb3,_deb2,_deb1)(__VA_ARGS__)\n#else\n#define deb(...) ;\n#endif\n\n\n#define debugline(x) cerr << x << \" \" << \"(L:\" << __LINE__ << \")\" << '\\n'\n\n\nll gcd(ll a, ll b) { r_ b ? gcd(b, a % b) : a; }\nll gcd(vi b) {ll res = b[0];for (auto &&v :b)res = gcd(v, res);r_ res;}\nll lcm(ll a, ll b) { r_ a / gcd(a, b) * b; }\nll rev(ll a) {    ll res = 0;    while (a) {        res *= 10;        res += a % 10;        a /= 10;    }    r_ res;}\nt_T v_<T> rev(v_<T> &a) {    auto b = a;    reverse(all(b));    r_ b;}\nstr rev(str &a) {str s = a;reverse(all(s));r_ s;}\nll ceil(ll a, ll b) {if (b == 0) {cerr<<\"ceil\"<<endl;exit(1);r_ -1;} else r_ (a + b - 1) / b;}\nll sqrt(ll a) {    if (a < 0) {        cerr<<\"sqrt\"<<endl;        exit(1);    }    ll res = (ll) std::sqrt(a);    while (res * res < a)res++;    r_ res;}\ndouble log(double e, double x) { r_ log(x) / log(e); }\nll sig(ll t) { r_ (1 + t) * t / 2; }\nll sig(ll s, ll t) { r_ (s + t) * (t - s + 1) / 2; }\n\nvi divisors(int v) {    vi res;    double lim = std::sqrt(v);    rep(i, 1, lim+1){        if (v % i == 0) {            res.pb(i);            if (i != v / i)res.pb(v / i);        }    }    r_ res;}\nvb isPrime;\nvi primes;\n\nvoid setPrime() {    int len = 4010101;    isPrime.resize(4010101);    fill(isPrime, true);    isPrime[0] = isPrime[1] = false;    for (int i = 2; i <= sqrt(len) + 5; ++i) {        if (!isPrime[i])continue;        for (int j = 2; i * j < len; ++j) {            isPrime[i * j] = false;        }    }    rep(i, len)if (isPrime[i])primes.pb(i);}\n\nvi factorization(int v) {    int tv = v;    vi res;    if (isPrime.size() == 0)setPrime();    for (auto &&p :primes) {        if (v % p == 0)res.push_back(p);        while (v % p == 0) {            v /= p;        }        if (v == 1 || p * p > tv)break;    }    if (v > 1)res.pb(v);    r_ res;}\ninline bool inside(int h, int w, int H, int W) { r_ h >= 0 && w >= 0 && h < H && w < W; }\ninline bool inside(int v, int l, int r) { r_ l <= v && v < r; }\n\n\nt_T v_<T> ruiv(v_<T> &a) {    v_<T> ret(a.size() + 1);    rep(i, a.size())ret[i + 1] = ret[i] + a[i];    r_ ret;}\n//imoは0-indexed\n//ruiは1-indexed\nt_T v_<T> imo(v_<T> &v) {    v_<T> ret = v;    rep(i, sz(ret) - 1)ret[i + 1] += ret[i];    r_ ret;}\n\n#define ins inside\nll u0(ll a) { r_ a < 0 ? 0 : a; }\nt_T v_<T> u(const v_<T> &a) {\n    v_<T> ret = a;fora(v, ret)v = u0(v);r_ ret;}\n#define MIN(a) numeric_limits<a>::min()\n#define MAX(a) numeric_limits<a>::max()\n\nvoid yn(bool a) {\n    if (a)cout << \"yes\" << endl;\n    else cout << \"no\" << endl;\n}\nvoid Yn(bool a) {\n    if (a)cout << \"Yes\" << endl;\n    else cout << \"No\" << endl;\n}\nvoid YN(bool a) {\n    if (a)cout << \"YES\" << endl;\n    else cout << \"NO\" << endl;\n}\nvoid fyn(bool a) {\n    if (a)cout << \"yes\" << endl;\n    else cout << \"no\" << endl;\n    exit(0);\n}\nvoid fYn(bool a) {\n    if (a)cout << \"Yes\" << endl;\n    else cout << \"No\" << endl;\n    exit(0);\n}\nvoid fYN(bool a) {\n    if (a)cout << \"YES\" << endl;\n    else cout << \"NO\" << endl;\n    exit(0);\n}\nvoid Possible(bool a) {\n    if (a)cout << \"Possible\" << endl;\n    else cout << \"Impossible\" << endl;\n    exit(0);\n}\nvoid POSSIBLE(bool a) {\n    if (a)cout << \"POSSIBLE\" << endl;\n    else cout << \"IMPOSSIBLE\" << endl;\n    exit(0);\n}\ntemplate<class T, class U> set<T> &operator+=(set<T> &a, U v) {\n    a.insert(v);\n    r_ a;\n}\ntemplate<class T, class U> v_<T> &operator+=(v_<T> &a, U v) {\n    a.pb(v);\n    r_ a;\n}\nt_T T sum(v_<T> &v, int s = 0, int t = inf) {    T ret = 0;    rep(i, s, min(sz(v), t))ret += v[i];    r_ ret;}\nvoid mod(int &a, int m) { a = (a % m + m) % m; }\ntemplate<class F> inline int mgr(int ok, int ng, F f) {\n#define _mgrbody int mid = (ok + ng) / 2; if (f(mid))ok = mid; else ng = mid;\n    if (ok < ng)while (ng - ok > 1) { _mgrbody } else while (ok - ng > 1) { _mgrbody }\n    r_ ok;\n}\n\ntemplate<class F> inline int mgr(int ok, int ng, int second, F f) {\n#define _mgrbody2 int mid = (ok + ng) / 2; if (f(mid, second))ok = mid; else ng = mid;\n    if (ok < ng) while (ng - ok > 1) { _mgrbody2 } else while (ok - ng > 1) { _mgrbody2 }\n    r_ ok;\n}\ntemplate<typename T> ostream &operator<<(ostream &os, v_<T> &m) {    for (auto &&v:m) os << v << \" \";    r_ os;}\nconstexpr bool bget(ll m, int keta) { r_ (m >> keta) & 1; }\nint bget(ll m, int keta, int sinsuu) {m /= (ll) pow(sinsuu, keta);r_ m % sinsuu;}\nll bit(int n) { r_ (1LL << (n)); }\nll bit(int n, int sinsuu) { r_ (ll) pow(sinsuu, n); }\nint mask(int n) { r_ (1ll << n) - 1; }\n#define bcou __builtin_popcountll\ntemplate<class T, class U> inline bool chma(T &a, const U &b) {if (a < b) {a = b;r_ true;}r_ false;}\ntemplate<class U> inline bool chma(const U &b) { r_ chma(ma, b); }\ntemplate<class T, class U> inline bool chmi(T &a, const U &b) {    if (b < a) {        a = b;        r_ true;    }    r_ false;}\ntemplate<class U> inline bool chmi(const U &b) { r_ chmi(mi, b); }\n#define unique(v) v.erase( unique(v.begin(), v.end()), v.end() );\nint max(vi &a) {    int res = a[0];    fora(v, a) {        res = max(res, v);    }    r_ res;}\nint min(vi &a) {    int res = a[0];    fora(v, a) {        res = min(res, v);    }    r_ res;}\ntemplate<typename T> class fixed_point        : T {public:    explicit constexpr fixed_point(T &&t) noexcept: T(std::forward<T>(t)) {}    template<typename... Args> constexpr decltype(auto) operator()(Args &&... args) const { r_ T::operator()(*this, std::forward<Args>(args)...); }};template<typename T> static inline constexpr decltype(auto) fix(T &&t) noexcept { r_ fixed_point<T>{std::forward<T>(t)}; }\nconstexpr ll h4[] = {1, -1, 0, 0};\nconstexpr ll w4[] = {0, 0, -1, 1};\nconstexpr ll h8[] = {0, 1, 0, -1, -1, 1, 1, -1};\nconstexpr ll w8[] = {1, 0, -1, 0, 1, -1, 1, -1};\nint mei_inc(int h, int w, int H, int W, int i) {while (++i < 4) { if (inside(h + h4[i], w + w4[i], H, W))r_ i; }r_ i;}\n#define mei(nh, nw, h, w) for (int i = mei_inc(h, w, H, W, -1), nh = i<4? h + h4[i] : 0, nw = i<4? w + w4[i] : 0; i < 4; i=mei_inc(h,w,H,W,i), nh = h+h4[i], nw = w+w4[i])\nint mei_inc8(int h, int w, int H, int W, int i) {    while (++i < 8) {        if (inside(h + h8[i], w + w8[i], H, W))r_ i;    }    r_ i;}\n#define mei8(nh, nw, h, w) for (int i = mei_inc8(h, w, H, W, -1), nh = i<8? h + h8[i] : 0, nw = i<8? w + w8[i] : 0; i < 8; i=mei_inc8(h,w,H,W,i), nh = h+h8[i], nw = w+w8[i])\nint mei_incv(int h, int w, int H, int W, int i, vp &p) {    while (++i < sz(p)) { if (inside(h + p[i].fi, w + p[i].se, H, W))r_ i; }    r_ i;}\n#define meiv(nh, nw, h, w, p) for (int i = mei_incv(h, w, H, W, -1, p), nh = i<sz(p)? h + p[i].fi : 0, nw = i<sz(p)? w + p[i].se : 0; i < sz(p); i=mei_incv(h,w,H,W,i,p), nh = h+p[i].fi, nw = w+p[i].se)\n\nt_T void out2(T head) {    cout << head;}\ntemplate<class T, class... U> void out2(T head, U ... tail) {    cout << head << \" \";      out2(tail...);}\ntemplate<class T, class... U> void out(T head, U ... tail) {    cout << head << \" \";        out2(tail...);    cout << \"\" << endl;}\nt_T void out(T head) {    cout << head << endl; }\nvoid out() { cout << \"\" << endl; }\n\n\n/*@formatter:on*/\nint N, M, H, W;\nvi A, B, C;\n\n\nvoid solve() {\n    while (1) {\n        int xn,cn;\n        in(xn, cn);\n        if(xn==0 && cn==0)break;\n        vi C, X;\n        na(C, cn);\n        na(X, xn);\n        //回数,\n        vvi(dp, xn+1, 256, linf);\n        auto mo =[&](int a){\n            if(a<0)return 0ll;\n            else if(a > 255)return 255ll;\n            else return a;\n        };\n        dp[0][128] = 0;\n        rep(i, xn){\n            rep(v, 256) {\n                fora(c, C) {\n                    int nv = mo(v + c);\n                    int dsco = abs(nv - X[i]) * abs(nv - X[i]);\n                    chmi(dp[i+1][nv], dp[i][v] + dsco);\n                }\n            }\n        }\n        deb(dp);\n        out(min(dp[xn]));\n    }\n}\n\n\nsigned main() {\n    solve();\n    r_ 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define min(a,b) ((a)<(b)?(a):(b))\n#define max(a,b) ((a)>(b)?(a):(b))\n#define REP(i,n) for(int i=0;i<n;i++)\n#define FOR(i,n1,n2) for(int i=n1;i<n2;i++)\n#define bFOR(i,n1,n2) for(int i=n1;i>=n2;i--)\n#define speed_up    ios_base::sync_with_stdio(false); cin.tie(0); cout.tie(0);\n\ntypedef long long int ll;\ntypedef pair<ll,ll> Pi;\nconst int INF=(ll)(1LL<<30)-1;\nconst double INFd=100000000000.0;\nconst ll INFl=(ll)9223372036854775807;\nconst int MAX=10000;\nconst ll MOD=(ll)1e9+7;\nll gcd(ll a,ll b){return b?gcd(b,a%b):a;}\nll lcm(ll a,ll b){return a/gcd(a, b)*b;}\nint dx[4]={0,-1,0,1},dy[4]={-1,0,1,0};\nint ddx[6]={0,1,0,-1,1,-1},ddy[6]={-1,0,1,0,1,-1};\n\ntemplate<typename A, size_t N, typename T>\nvoid Fill(A (&array)[N], const T &val){\n    std::fill( (T*)array, (T*)(array+N), val );\n}\n\nint n,m;\nint c[20];\nint dp[20010][256];\nint main(){\n\twhile(1){\n\t\tcin>>n>>m;\n\t\tif(n==0&&m==0)break;\n\t\tREP(i,20010)\n\t\t\tREP(j,256)\n\t\t\tdp[i][j]=1e8;\n\t\tREP(i,m)cin>>c[i];\n\t\tdp[0][128]=0;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tint x;\n\t\t\tcin>>x;\n\t\t\tfor(int j=0;j<=255;j++){\n\t\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\t\tif(dp[i-1][j]==1e8)continue;\n\t\t\t\t\tint nl=j+c[k];\n\t\t\t\t\tif(nl>255)nl=255;\n\t\t\t\t\tif(nl<0)nl=0;\n\t\t\t\t\tdp[i][nl]=min(dp[i-1][j]+(x-nl)*(x-nl),dp[i][nl]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans=1e8;\n\t\tfor(int i=0;i<256;i++){\n\t\t\tans=min(ans,dp[n][i]);\n\t\t}\n\t\tcout<<ans<<endl;\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\n#include<queue>\n#include<string>\n#include<sstream>\n#include<map>\n#include<cmath>\nusing namespace std;\n#define rep(i,n) for(int i = 0;i < n;i++)\n#define req(i,n) for(int i = 1;i <=n;i++)\n#define rrep(i,n) for(int i = n -1;i >= 0;i--)\ntypedef long long ll;\ntypedef long double ld;\nconst ll MOD =  1000000007;\nint n,m,x;\nint main() {\n    while (cin >> n >> m, n) {\n        vector<int> c(m);\n        vector<vector<int>> dp(256, vector<int>(n + 1, MOD));\n        // dp[Ynの値][i番目のサンプル数]\n        dp[128][0] = 0; // Y0 = 128\n        rep(i, m) cin >> c[i];\n        req(i, n) {// DPテーブルが0の時に処理を行ってしまうと、最小値になる\n            cin >> x;\n            rep(j, 256) {\n                rep(k, m) {\n                    int u = max(min(j + c[k],255),0);\n                    dp[u][i] = min(dp[u][i],(x - u)*(x - u) + dp[j][i - 1]);\n                }\n            }\n        }\n        int ans = 1 << 30;\n        rep(i, 256) ans = min(ans, dp[i][n]);\n        cout << ans << endl;\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <climits>\n#include <vector>\n#include <string>\n#include <queue>\n#include <deque>\n#include <list>\n#include <stack>\n#include <set>\n#include <map>\n#include <algorithm>\n\n#define int long long\n#define MOD7 1000000007\n#define MOD9 1000000009\n\n#define rep(i, n) for (int i = 0; i < (n); i++)\n#define REP(i, a, n) for (int i = (a); i <= (n); i++)\n#define all(a) (a).begin(), (a).end()\n\nusing namespace std;\n\nint dx[4] = { 1, 0, -1, 0 };\nint dy[4] = { 0, -1, 0, 1 };\n\nint nextInt() {int a; cin >> a; return a;}\nchar nextChar() {char a; cin >> a; return a;}\ndouble nextDouble() {double a; cin >> a; return a;}\nstring nextString() {string a; cin >> a; return a;}\n\nvoid inputVector(vector<int> &v, int &n) {rep(i,n){v.push_back(nextInt());}}\nvoid inputVector(vector<double> &v, int &n) {rep(i,n){v.push_back(nextDouble());}}\nvoid inputVector(vector<string> &v, int &n) {rep(i,n){v.push_back(nextString());}}\n\nstruct Info {\n    int val;\n    int sum;\n    Info() {}\n    Info(int v, int s) {\n\tval = v;\n\tsum = s;\n    }\n    bool operator< (const Info &a) const {\n\treturn sum < a.sum;\n    }\n};\n\nsigned main() {\n    int N, M;\n    while (cin >> N >> M) {\n\tif (N == 0) break;\n\n\tvector<int> C, x;\n\tinputVector(C, M);\n\tinputVector(x, N);\n\n\tvector<Info> v, w;\n\tv.push_back(Info(128, 0));\n\trep(i, N) {\n\t    w.clear();\n\t    rep(j, v.size()) {\n\t\trep(k, M) {\n\t\t    Info info = v[j];\n\t\t    info.val += C[k];\n\t\t    if (info.val > 255) info.val = 255;\n\t\t    else if (info.val < 0) info.val = 0;\n\t\t    info.sum += (x[i] - info.val) * (x[i] - info.val);\n\t\t    w.push_back(info);\n\t\t}\n\t    }\n\t    sort(all(w));\n\t    if (w.size() > 100) w.resize(100);\n\t    swap(v, w);\n\t}\n\tcout << v[0].sum << endl;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <cmath>\n#include <cstdio>\n#include <functional>\n#include <numeric>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <utility>\n#include <sstream>\n#include <complex>\n\nusing namespace std;\n\n#define FOR(i,a,b) for(long long i=(a);i<(b);i++)\n#define REP(i,N) for(long long i=0;i<(N);i++)\n#define ALL(s) (s).begin(),(s).end()\n#define fi first\n#define se second\n\n#define PI acos(-1.0)\n#define INF 10000007\n#define EPS 1e-10\n\ntypedef long long ll;\ntypedef pair<ll, ll> P;\ntypedef pair<double, double> PD;\ntypedef pair<string, ll> PS;\ntypedef vector<ll> V;\ntypedef pair<P, char> PC;\n\nint n, m;\nint c[16 + 1], x[20000 + 1];\nint dp[16 + 1][256 + 1];\n\nint main(){\n\twhile (cin >> n >> m&&n + m){\n\t\tREP(i, 16 + 1){\n\t\t\tREP(j, 256 + 1){\n\t\t\t\tdp[i][j] = INF;\n\t\t\t}\n\t\t}\n\t\tREP(i, m){\n\t\t\tcin >> c[i];\n\t\t}\n\t\tREP(i, n){\n\t\t\tcin >> x[i];\n\t\t}\n\t\tdp[0][128] = 0;\n\t\tREP(i, n){\n\t\t\tREP(j, m){\n\t\t\t\tREP(k, 256){\n\t\t\t\t\tint num = k + c[j];\n\t\t\t\t\tif (num < 0)num = 0;\n\t\t\t\t\tif (num > 255)num = 255;\n\t\t\t\t\tdp[i + 1][num] = min(dp[i][k] + (x[i] - num)*(x[i] - num), dp[i + 1][num]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = INF;\n\t\tREP(i, 256 + 1){\n\t\t\tans = min(ans, dp[n][i]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cmath>\n#include <climits>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <fstream>\n#include <iostream>\n#include <list>\n#include <map>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <vector>\n#include <cassert>\n#include <functional>\n\nusing namespace std;\n\n#define LOG(...) printf(__VA_ARGS__)\n//#define LOG(...)\n#define FOR(i,a,b) for(int i=(int)(a);i<(int)(b);++i)\n#define REP(i,n) for(int i=0;i<(int)(n);++i)\n#define ALL(a) (a).begin(),(a).end()\n#define RALL(a) (a).rbegin(),(a).rend()\n#define EXIST(s,e) ((s).find(e)!=(s).end())\n#define SORT(c) sort((c).begin(),(c).end())\n#define RSORT(c) sort((c).rbegin(),(c).rend())\n#define CLR(a) memset((a), 0 ,sizeof(a))\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef vector<bool> vb;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\ntypedef vector<vb> vvb;\ntypedef vector<vi> vvi;\ntypedef vector<vll> vvll;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\n\nconst int dx[] = { -1, 0, 1, 0 }; const int dy[] = { 0, 1, 0, -1 };\n\nstruct UnionFind {\n\tvector<int> v;\n\tUnionFind(int n) : v(n)  { for (int i = 0; i < n; i++) v[i] = i; }\n\tint  find(int x)         { return v[x] == x ? x : v[x] = find(v[x]); }\n\tvoid unite(int x, int y) { v[find(x)] = find(y); }\n};\n\nint main() {\n\tint n, m;\n\twhile (cin>>n>>m,n) {\n\t\tvi cb(m);\n\t\tREP(i, m)\n\t\t\tcin >> cb[i];\n\t\tvi os(n);\n\t\tREP(i, n)\n\t\t\tcin >> os[i];\n\t\tvi memo(256,1000000000);\n\t\tmemo[128] = 0;\n\t\tREP(i, n) {\n\t\t\tvi copy(256, 1000000000);\n\t\t\tREP(j, 256) {\n\t\t\t\tif (memo[j] != 1000000000) {\n\t\t\t\t\tREP(k, m) {\n\t\t\t\t\t\tcopy[min(255, max(0, j + cb[k]))] = memo[j] + (os[i] - min(255, max(0, j + cb[k])))*(os[i] - min(255, max(0, j + cb[k])));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo = copy;\n\t\t}\n\t\tint ans = 1e9;\n\t\tREP(i, 256)\n\t\t\tans = min(ans, memo[i]);\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long int ll;\ntypedef long double ld;\n#define MOD 998244353\ntemplate<class T>inline bool chmax(T& a,T b){if (a<b){a=b;return 1;}return 0;}\ntemplate<class T>inline bool chmin(T& a,T b){if (a>b){a=b;return 1;}return 0;}\nconst long long INF = 1LL << 60;\nbool pairCompare(const pair<double,ll>& firstElof, const pair<double,ll>& secondElof){\n    return firstElof.first < secondElof.first;\n}\nbool pairCompareSecond(const pair<double,ll>& firstElof, const pair<double,ll>& secondElof){\n    return firstElof.second < secondElof.second;\n}\n//四方向への移動ベクトル\nconst int dx[4] = {1, 0, -1, 0};\nconst int dy[4] = {0, 1, 0, -1};\n\nstruct edge{//グラフに使うヤツ\n    ll from,to,cost;\n};\n\ntypedef vector<vector<edge> > G;\nll gcd(ll a,ll b){\n    if (a%b==0)return(b);\n    else return(gcd(b,a%b));\n}\n\nint main() {\n    while(true){\n        ll n,m;\n        cin >> n >> m;\n        if (n+m==0)break;\n        ll c[m],x[n];\n        for (ll i=0;i<m;i++){\n            cin >> c[i];\n        }\n        for (ll i=0;i<n;i++){\n            cin >> x[i];\n        }\n        ll dp[n+1][260];\n        for (ll i=0;i<=n;i++){\n            fill(dp[i],dp[i]+260,INF);\n        }\n        dp[0][128]=0;\n        for (ll i=1;i<=n;i++){\n            for (ll j=0;j<=255;j++){\n                for (ll k=0;k<m;k++){\n                    ll num=max(0LL,min(255LL,j+c[k]));\n                    dp[i][num]=min(dp[i][num],dp[i-1][j]+(x[i-1]-num)*(x[i-1]-num));\n                }\n            }\n        }\n        ll ans=INF;\n        for (ll i=0;i<=255;i++){\n            ans=min(dp[n][i],ans);\n        }\n        cout << ans << endl;\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\n\n//#define int int64_t\n\n#define CHOOSE(a) CHOOSE2 a\n#define CHOOSE2(a0,a1,a2,a3,x,...) x\n#define REP1(i, s, cond, cal) for (signed i = signed(s); i cond; i cal)\n#define REP2(i, s, n) REP1(i, s, < signed(n), ++)\n#define REP3(i, n) REP2(i, 0, n)\n#define rep(...) CHOOSE((__VA_ARGS__,REP1,REP2,REP3))(__VA_ARGS__)\n\n#define all(c) begin(c), end(c)\n#define maxup(ans, x) (ans = (ans < x ? x : ans))\n#define minup(ans, x) (ans = (ans > x ? x : ans))\n\n#define breakif(cond) if(cond) break; else\n\ntemplate<typename T>\ninline void input(vector<T>& v) { for (auto& x : v) cin >> x; }\n\nusing VV = vector<vector<int>>;\nusing V = vector<int>;\nusing P = pair<int, int>;\nusing IP = pair<int, P>;\n\nconst int INF = 1 << 29;\n\nsigned main() {\n\tint n;\n\twhile (cin >> n && n) {\n\t\tint m; cin >> m;\n\t\tV cs(m); input(cs);\n\t\tV xs(n); input(xs);\n\t\tVV dp(n + 1, V(256, INF));\n\n\t\tdp[0][128] = 0;\n\t\trep(i, n) {\n\t\t\tint x = xs[i];\n\t\t\trep(j, 256) {\n\t\t\t\trep(k, m) {\n\t\t\t\t\tint c = cs[k];\n\t\t\t\t\tint val = max(0, min(j + c, 255));\n\t\t\t\t\tminup(dp[i + 1][val], dp[i][j] + pow(x - val, 2));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << *min_element(all(dp[n])) << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<cmath>\n#define inf (1<<29)\n#define REP(i,s,n) for(int i=s;i<n;i++)\n#define rep(i,n) REP(i,0,n)\nusing namespace std;\nint N,M;\nint C[17];\nint x[20010];\nint dp[20010][256];\n\nint main()\n{\n  while(cin >> N >> M,N|M)\n    {\n      REP(i,1,M+1)cin >> C[i];\n      REP(i,1,N+1)cin >> x[i];\n      rep(i,20010)rep(j,256)dp[i][j] = inf;\n      dp[0][128] = 0;\n\n      rep(i,N+1)\n\t{\n\t  REP(j,1,M+1)\n\t    {\n\t      rep(k,256)\n\t\t{\n\t\t  if(dp[i][k] == inf)continue;\n\t\t  int value = k+C[j];\n\t\t  if(value < 0)value = 0;\n\t\t  else if(value > 255)value = 255;\n\t\t  dp[i+1][value] = min(dp[i+1][value],\n\t\t\t\t       dp[i][k]+(x[i+1]-value)*(x[i+1]-value));\n\t\t}\n\t    }\n\t}\n\n      int men = inf;\n      rep(i,256)men = min(men,dp[N][i]);\n      cout << men << endl;\n    }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "//#include \"bits/stdc++.h\"\n\n#include <iostream>\n#include <vector>\n// #include <map>\n// #include <string>\n#include <algorithm>\n// #include <numeric>\n// #include <limits>\n\nusing namespace std;\n\nint n;\nint m;\nuint x;\nvector<int> c;\nbool bef = 0;\nbool aft = 1;\nconst int size = 255 + 1;\nvector<vector<uint>> vec(2, vector<uint>(size, -1));\n\ninline uint mse(uint a, uint b) {\n\tuint diff = (a > b) ? (a - b) : (b - a);\n\treturn diff * diff;\n}\n\nuint calcBefMin(int i) {\n\tuint min_val = -1;\n\tfor (auto v : c) {\n\t\tint key = i - v;\n\t\tif (key < 0 or key > 255) {\n\t\t\tcontinue;\n\t\t}\n\t\tmin_val = min(min_val, vec[bef][key]);\n\t}\n\treturn min_val;\n}\n\ninline uint myplus(uint a, uint b) {\n\tuint m = -1;\n\tif (b <= m - a) { // check overflow\n\t\treturn a + b;\n\t}\n\treturn -1;\n\n}\n\nvoid solve() {\n\tc.resize(m);\n\tfor (int i = 0; i < m; i++) {\n\t\tcin >> c[i];\n\t}\n\tint c_max = *std::max_element(begin(c), end(c));\n\tint c_min = *std::min_element(begin(c), end(c));\n\tfor (int i = 0; i <= 255; i++) {\n\t\tvec[bef][i] = mse(128, i);\n\t}\n\tfor (int i = 0; i < n; i++) {\n\t\tcin >> x;\n\t\tint bef_key;\n\t\t// do\n\t\tfor (bef_key = 1; bef_key <= 254; bef_key++) {\n\t\t\tvec[aft][bef_key] = myplus(calcBefMin(bef_key), mse(bef_key, x));\n\t\t}\n\t\t// do for 255\n\t\tbef_key = 255;\n\t\tuint min_val = -1;\n\t\tfor (int key = bef_key - c_max; key <= 255; key++) {\n\t\t\tmin_val = min(min_val, vec[bef][key]);\n\t\t}\n\t\tvec[aft][bef_key] = myplus(min_val, mse(bef_key, x));\n\t\t// do for 0\n\t\tbef_key = 0;\n\t\tmin_val = -1;\n\t\tfor (int key = bef_key - c_min; key >= 0; key--) {\n\t\t\tmin_val = min(min_val, vec[bef][key]);\n\t\t}\n\t\tvec[aft][bef_key] = myplus(min_val, mse(bef_key, x));\n\t\t// for next\n\t\tbef = !bef;\n\t\taft = !aft;\n\t}\n\tcout << *std::min_element(begin(vec[bef]), end(vec[bef])) << endl; // bef is correct, because swaped\n}\n\nint main() {\n\n\n\twhile (true) {\n\t\tcin >> n >> m;\n\t\tif (n == 0 and m == 0) {\n\t\t\tbreak;\n\t\t}\n\t\tsolve();\n\t}\n\n\t//std::cout << \"\\e[38;5;0m\\e[48;5;40m --- end ---  \\e[m\" << std::endl; // debug\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\n#include<map>\n#include<set>\n#include<utility>\n#include<vector>\n#include<cmath>\n#include<cstring>\n#include<cstdio>\n#include<time.h>\n#define loop(i,a,b) for(int i=a;i<b;i++) \n#define rep(i,a) loop(i,0,a)\n#define pb push_back\n#define mp make_pair\n#define all(in) in.begin(),in.end()\nconst double PI=acos(-1);\nconst double EPS=1e-10;\nconst int inf=1e8;\nusing namespace std;\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\nint main(){\n\tint n,m;\n\twhile(cin>>n>>m,n+m){\n\t\tvi in(n),tmp(m);\n\t\trep(i,m)cin>>tmp[i];\n\t\trep(i,n)cin>>in[i];\n\t\tvvi dp(n+1,vi(260));//sa \n\t\trep(i,n+1)rep(j,260)dp[i][j]=inf;\n\t\tdp[0][128]=0;\n\t\t\n\t\trep(i,n){\n\t\t\trep(j,260){\n\t\t\t\tif(dp[i][j]==inf)continue;\n\t\t\t\trep(k,m){\n\t\t\t\t\tint d=j+tmp[k];\n\t\t\t\t\tif(d<0)d=0;\n\t\t\t\t\tif(d>255)d=255;\n\t\t\t\t\tdp[i+1][d]=min(dp[i+1][d],dp[i][j]+(d-in[i])*(d-in[i]));\n\t\t\t\t}\n\t\t\t}\t\n\t\t}\n\t\tint mi=inf;\n\t\trep(i,260)mi=min(mi,dp[n][i]);\n\t\tcout<<mi<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<string.h>\n#include<math.h>\n#define min(a,b) (a>b?b:a)\nint N,M,C[20],x[20005];\nlong long res,dp[20005][20][2]={0};\nint main()\n{\n\tfor(;scanf(\"%d%d\",&N,&M),N+M;)\n\t{\n\t\tres=100000000000000;\n\t\tmemset(dp,0x7f,sizeof(dp));\n\t\tfor(int i=0;i<M;i++)scanf(\"%d\",&C[i]);\n\t\tfor(int j=1;j<=N;j++)scanf(\"%d\",&x[j]);\n\t\tfor(int i=0;i<M;i++)\n\t\t{\n\t\t\tdp[0][i][0]=128;\n\t\t\tdp[0][i][1]=0;\n\t\t}\n\t\tfor(int i=1;i<=N;i++)\n\t\t{\n\t\t\tfor(int k=0;k<M;k++)\n\t\t\t\tfor(int j=0;j<M;j++)\n\t\t\t\t{\n\t\t\t\t\tlong long p=dp[i-1][k][0]+C[j];\n\t\t\t\t\tif(p>255)p=255;\n\t\t\t\t\tif(p<0)p=0;\n\t\t\t\t\tint a=x[i]-p;\n\t\t\t\t\tint tmp=a*a;\n\t\t\t\t\tif(dp[i-1][k][1]+tmp<dp[i][j][1])\n\t\t\t\t\t{\n\t\t\t\t\t\tdp[i][j][1]=dp[i-1][k][1]+tmp;\n\t\t\t\t\t\tdp[i][j][0]=p;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t}\n\t\tfor(int i=0;i<M;i++)\n\t\t\tres=min(res,dp[N][i][1]);\n\t\tprintf(\"%lld\\n\",res);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <algorithm>\nusing namespace std;\n//方針：DP\nint min(int p, int q){\n\tif (p < q) return p;\n\treturn q;\n}\nint rss(int p, int q){\n\treturn (p - q)*(p - q);\n}\nint limit(int i) {\n\tif (i > 255) return 255;\n\tif (i < 0) return 0;\n\treturn i;\n}\nint main(void){\n\t//FILE* fp_in = freopen(\"data.txt\", \"r\", stdin);\n \n\tvector< vector< int > > dp;\n\tvector<int> dpp;\n\tfor (int i = 0; i < 20001; i++)\n\t\tdpp.push_back(1 << 30);\n\tfor (int i = 0; i < 257; i++)\n\t\tdp.push_back(dpp);\n \n\twhile (1){\n\t\tint N, M;\n\t\tvector<int> c, x;\n\t\tcin >> N >> M;\n\t\tif (N == 0 && M == 0) break;\n\t\tfor (int i = 0; i < M; i++) {\n\t\t\tint tmp;\n\t\t\tcin >> tmp;\n\t\t\tc.push_back(tmp);\n\t\t}\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\tint tmp;\n\t\t\tcin >> tmp;\n\t\t\tx.push_back(tmp);\n\t\t}\n\t\tfor (int i = 0; i < 256; i++)\n\t\t\tfor (int j = 0; j < 10000; j++)\n\t\t\t\tdp[i][j] = 1 << 30;\n  \n\t\tfor (int i = 0; i < 256; i++)\n\t\t\tdp[i][0] = 0;\n\t\tfor (int i = 0; i < M; i++) {\n\t\t\tdp[limit(128 + c[i])][1] = rss(limit(128+c[i]), x[0]);\n\t\t}\n\n\t\tfor (int i = 1; i < N; i++)\n\t\t\tfor (int j = 0; j < M; j++)\n\t\t\t\tfor(int k = 0; k < 256; k++)\n\t\t\t\t\tdp[limit(k + c[j])][i+1] = min( dp[k][i] + rss(limit(k+c[j]), x[i]) , dp[limit(k+c[j])][i+1]);\n\n\t\tint ans = 1 << 30;\n\t\tfor (int i = 0; i < 256; i++)\n\t\t\tif (dp[i][N] < ans) ans = dp[i][N];\n   \n\n\tcout << ans << endl;\n }\n \n //while (1){}\n return 0;\n}"
  },
  {
    "language": "C++",
    "code": "// #Sazaの1日1AC\n#include <bits/stdc++.h>\nusing namespace std;\nconst long long mod = 1e9+7;\nconst long long INF = 9e18;\nconst double PI = 3.14159265358979323846;\n\n//マクロ\n//型エイリアス\nusing ll = long long;\nusing P = pair<long long, long long>;\nusing vl = vector<long long>;\nusing vvl = vector<vector<long long>>;\nusing vP = vector<pair<long long, long long>>;\n//ショートカット\n#define rep(i, n) for (int i = 0; i < n; i++)\n#define rep2(i, k, n) for (int i = k; i < n; i++) //半開区間\n#define all(v) v.begin(), v.end()\n#define rall(v) v.rbegin(), v.rend()\n#define pb push_back\n#define mkp make_pair\n//入力\n#define vin(v, N) for (long long i = 0; i < N; i++) cin >> v.at(i)\n#define lin(n)long long n;cin >> n\n#define chin(x)char x;cin >> x;\n#define sin(s)string s;cin >> s;\n#define vlin(v, N)vector<long long> v(N);for (long long i = 0; i < N; i++)cin >> v.at(i)\n#define max(a, b) max((ll)a, (ll)b)\n#define min(a, b) min((ll)a, (ll)b)\n\n//関数\n//最大公約数\nlong long gcd(long long m, long long n){\n  long long a = max(m, n);\n  long long b = min(m, n);\n  long long r = a % b;\n  while (r != 0){\n    a = b;\n    b = r;\n    r = a % b;\n  }\n  return b;\n}\n// 最小公倍数\nlong long lcd(long long m, long long n){\n  return m * n / gcd(m, n);\n}\n//xのn乗\nlong long power(long long x, long long N){\n  long long ret = 1;\n  for (long long i = 0; i < N; i++)\n    ret *= x;\n  return ret;\n}\n//繰り返し二乗法\nlong long repeat_squaring(long long x, long long n){\n  if (n == 0)\n    return 1;\n  else if (n % 2 == 0)\n  {\n    long long t = repeat_squaring(x, n / 2);\n    return t * t % mod;\n  }\n  else\n    return x * repeat_squaring(x, n - 1);\n}\n//素因数分解(mapで返す)\nmap<long long, long long> factor(long long p){\n  ll p1 = p;\n  map<long long, long long> ret;\n  for (long long i = 2; i * i <= p1; i++)\n  {\n    while (p % i == 0)\n    {\n      ret[i]++;\n      p /= i;\n    }\n  }\n  if (p != 1)\n    ret[p]++;\n  return ret;\n}\n//素数判定\nbool is_prime(long long N){\n  for (long long i = 2; i * i <= N; i++)\n  {\n    if (N % i == 0)\n      return false;\n  }\n  return true;\n}\n//最大値更新\nvoid chmax(long long &a, long long b){\n  a = max(a, b);\n}\n//最小値更新\nvoid chmin(long long &a, long long b){\n  a = min(a, b);\n}\n\n//構造体\n//Union-Find木\nstruct UnionFind\n{\n  //メンバ変数\n  vector<long long> par; //par[i]:=頂点iの親\n  vector<long long> s;   //s[i]:=頂点iが属する集合の個数(iが根のとき)\n\n  //コンストラクタ\n  UnionFind(long long N) : par(N), s(N){\n    for (long long i = 0; i < N; i++)\n    {\n      par[i] = i; //最初はすべてが根として初期化\n      s[i] = 1;\n    }\n  }\n  //メンバ関数\n  //root(i):=頂点iの根\n  long long root(long long i){\n    if (par[i] == i)\n      return i;\n    par[i] = root(par[i]); //経路圧縮\n    return root(par[i]);   //再帰\n  }\n  //size[i]:=iが属する集合の個数\n  long long size(long long i){\n    return s[root(i)];\n  }\n  //same(x,y) xとyが同じ根を持つか(同じ集合に含まれるか)\n  bool same(long long x, long long y){\n    return root(x) == root(y);\n  }\n  //unite(x,y) xの根をyの根に繋げる(集合を合併)\n  void unite(long long x, long long y){\n    if (!same(x, y)){\n      long long rx = root(x);\n      long long ry = root(y);\n      par[rx] = par[ry];\n      s[ry] = s[rx] + s[ry];\n    }\n  }\n};\n//Binary Indexed Tree\nstruct BIT{\n  vector<long long> bit;\n  long long N;\n\n  BIT(long long n){\n    N = n;\n    bit.resize(N + 1);\n  }\n\n  void add(long long i, long long w){\n    for (long long x = i; x <= N; x += x & -x){\n      bit[x] += w;\n    }\n  }\n  long long sum(long long i){\n    long long ret = 0;\n    for (long long x = i; x > 0; x -= x & -x){\n      ret += bit[x];\n    }\n    return ret;\n  }\n};\n/////////////////⊂('ω'⊂ )))Σ≡GO!/////////////////\n\n\nint main(){\n  //doubleの桁数\n  cout << fixed << setprecision(10);\n\n  while(1){\n    lin(N);lin(M);\n    if(N == 0) break;\n    vlin(c,M);\n    vlin(x,N);\n    vvl dp(N+1,vl(256,INF));\n    dp[0][128] = 0;\n    rep(i,N){\n      rep(j,256){\n        rep(k,M){\n          ll next = max(0, min(255, j + c[k]));\n          chmin(dp[i+1][next], dp[i][j] + power(x[i] - next, 2));\n        }\n      }\n    }\n    ll res = INF;\n    rep(i, 256) chmin(res, dp[N][i]);\n    cout << res << endl;\n  }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n\nusing namespace std;\nusing ll = long long;\n\nconst ll mx = 1LL << 62;\nll dp[20002][256];\n\nint main() {\n    while (1) {\n        int n, m;\n        cin >> n >> m;\n\n        if (n == 0 && m == 0) break;\n\n        vector<int> c;\n        vector<int> x;\n\n        for (int i = 0; i < m; ++i) {\n            int ci;\n            cin >> ci;\n            c.push_back(ci);\n        }\n\n        for (int i = 0; i < n; ++i) {\n            int xi;\n            cin >> xi;\n            x.push_back(xi);\n        }\n\n        int y = 128;\n\n        for (int i = 0; i <= n + 1; ++i) {\n            for (int j = 0; j < 256; ++j) {\n                dp[i][j] = -1;\n            }\n        }\n        dp[0][128] = 0;\n        \n        for (int i = 0; i < n; ++i) {\n            int next = x[i];\n            for (int j = 0; j < m; ++j) {\n                int cj = c[j];\n                for (int k = 0; k < 256; ++k) {\n                    if (dp[i][k] == -1) continue;\n                    //int low = max(0, k - cj);\n                    int high = min(255, k + cj);\n\n                    //dp[i + 1][low] = min((dp[i+ 1][low] == -1 ? mx : dp[i+ 1][low]), dp[i][k] + (low - next) * (low - next));\n                    dp[i + 1][high] = min((dp[i+ 1][high] == -1 ? mx : dp[i+ 1][high]), dp[i][k] + (high - next) * (high - next));\n                }\n            }\n            // for (int k = 128; k < 256; ++k) {\n            //     cout << dp[i + 1][k] << \" \";\n            // }\n            //cout << endl;\n        }\n\n        ll mincost = mx;\n        for (int i = 0; i < 256; ++i) {\n            if (dp[n][i] < mincost && dp[n][i] != -1) mincost = dp[n][i];\n        }\n        cout << mincost << endl;\n\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nusing ll = long long;\nusing P = pair<ll, ll>;\nusing Graph = vector<vector<ll>>;\n#define rep(i, n) for(ll i=0;i<(ll)(n);i++)\n#define rep2(i, m, n) for(ll i=m;i<(ll)(n);i++)\n#define rrep(i, n, m) for(ll i=n;i>=(ll)(m);i--)\nconst int dx[4] = {1, 0, -1, 0};\nconst int dy[4] = {0, 1, 0, -1};\nconst int ddx[8] = {0, 1, 1, 1, 0, -1, -1, -1};\nconst int ddy[8] = {1, 1, 0, -1, -1, -1, 0, 1};\nconst ll MOD = 1000000007;\nconst ll INF = 1000000000000000000L;\n#ifdef __DEBUG\n\n/**\n * For DEBUG\n * https://github.com/ta7uw/cpp-pyprint\n */\n#include \"cpp-pyprint/pyprint.h\"\n\n#endif\n\nvoid solve() {\n    while (true) {\n        ll N, M;\n        cin >> N >> M;\n        if (N == 0 && M == 0)\n            return;\n        vector<ll> C(M), X(N);\n        rep(i, M) cin >> C[i];\n        rep(i, N) cin >> X[i];\n        vector<vector<ll>> dp(N + 1, vector<ll>(256, INF));\n        dp[0][128] = 0;\n        rep(i, N) {\n            ll x = X[i];\n            rep(j, 256) {\n                rep(m, M) {\n                    ll c = C[m];\n                    ll next = max(0LL, min(255LL, j + c));\n                    ll y = abs(x - next);\n                    dp[i + 1][next] = min(dp[i + 1][next], dp[i][j] + y * y);\n                }\n            }\n        }\n        ll ans = INF;\n        rep(i, 256) {\n            ans = min(ans, dp[N][i]);\n        }\n        cout << ans << '\\n';\n    }\n}\n\nint main() {\n    cin.tie(nullptr);\n    ios::sync_with_stdio(false);\n    cout << fixed << setprecision(15);\n    solve();\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n#define rep(i,n) for(int i=0;i<n;i++)\nusing namespace std;\n\nusing ll = long long;\n\nint main() {\n    // dp[i][j] y_i=jであるときの二乗和の最小値\n    int N, M;\n    cin >> N >> M;\n    while (N != 0) {\n        vector<int> C(M), x(N);\n        rep(i, M) cin >> C[i];\n        rep(i, N) cin >> x[i];\n        vector<vector<int>> dp(N + 1, vector<int>(256, 1e9));\n        dp[0][128] = 0;\n        rep(i, N) {\n            rep(j, 256) {\n                rep(k, M) {\n                    int y = j + C[k];\n                    if (y < 0) y = 0;\n                    if (y > 255) y = 255;\n                    dp[i + 1][y] = min(dp[i + 1][y], dp[i][j] + (x[i] - y) * (x[i] - y));\n                    /*\n                    if (dp[i + 1][y] < 1e9) {\n                        cout << \"dp[\" << i + 1 << \"][\" << y << \"]=\" << dp[i + 1][y] << \"\\n\";\n                    }\n                    */\n                }\n            }\n        }\n        int ans = 1e9;\n        rep(j, 256) {\n            ans = min(ans, dp[N][j]);\n        }\n        cout << ans << \"\\n\";\n        cin >> N >> M;\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <sstream>\n#include <string>\n#include <vector>\n#include <map>\n#include <algorithm>\n#include <iostream>\n#include <utility>\n#include <set>\n#include <cctype>\n#include <queue>\n#include <stack>\n#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <functional>\n\nusing namespace std;\n\n#define INF 1000000000\n#define EPS 1e-9\n#define PI (atan(1.0) * 4.0)\n\ntypedef pair<int, int> P;\ntypedef long long ll;\n\n#define MAX_M 16\n#define MAX_N 20000\n\nint N, M;\nint C[MAX_M];\nint x[MAX_N];\n\nll dp[MAX_N+1][256];\n\nvector<int> ans_list;\n\nint main(){\n\n\twhile (true){\n\n\t\tcin >> N >> M;\n\n\t\tif (N == 0 && M == 0)\n\t\t\tbreak;\n\n\t\tfor (int i = 0; i < M; i++){\n\t\t\tcin >> C[i];\n\t\t}\n\n\t\tfor (int i = 0; i < N; i++){\n\t\t\tcin >> x[i];\n\t\t}\n\n\t\tfor (int i = 0; i < N + 1; i++){\n\t\t\tfor (int j = 0; j <= 255; j++){\n\t\t\t\tdp[i][j] = INF;\n\t\t\t}\n\t\t}\n\n\t\tdp[0][128] = 0;\n\n\t\tfor (int i = 0; i < N; i++){\n\t\t\tfor (int j = 0; j <= 255; j++){\n\t\t\t\tfor (int m = 0; m < M; m++){\n\t\t\t\t\tif (j + C[m] < 0){\n\t\t\t\t\t\tdp[i + 1][0] = min(dp[i + 1][0], dp[i][j] + (0 - x[i])*(0 - x[i]));\n\t\t\t\t\t}\n\t\t\t\t\telse if (j + C[m] > 255){\n\t\t\t\t\t\tdp[i + 1][255] = min(dp[i + 1][255], dp[i][j] + (255 - x[i])*(255 - x[i]));\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\tdp[i + 1][j + C[m]] = min(dp[i + 1][j + C[m]], dp[i][j] + (j + C[m] - x[i])*(j + C[m] - x[i]));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tll ans = INF;\n\t\tfor (int i = 0; i <= 255; i++){\n\t\t\tans = min(ans, dp[N][i]);\n\t\t}\n\n\t\tans_list.push_back(ans);\n\n\t}\n\n\tfor (int i = 0; i < ans_list.size(); i++){\n\t\tcout << ans_list[i] << endl;\n\t}\n\n\treturn 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\n#define _GLIBCXX_DEBUG\n#define all(v) (v).begin(),(v).end()\n\nusing namespace std;\n\nusing ll=long long;\nusing pii=pair<int, int>;\nusing vi=vector<int>;\n\nconst ll LINF=(1LL<<60);\nconst int INF=1<<29;\nconst int MOD=1e9+7;\n\ntemplate <typename T>\nbool chmin(T &a, const T &b){\n    if(a > b){\n        a=b;\n        return true;\n    }\n    return false;\n}\n\nvector<vector<ll>> dp;\n\nint main(){\n    int N, M; \n    while(cin >> N >> M){\n        if(N == 0 && M == 0) break;\n        vi C(M);\n        for(auto &y : C) cin >> y;\n        vi x(N);\n        for(auto &y : x) cin >> y;\n        dp.assign(N+1, vector<ll>(256, LINF));\n        dp[0][128]=0;\n        for(int i=0; i<N; i++){\n            for(int j=0; j<M; j++){\n                for(int k=0; k<256; k++){\n                    int val=max(0, k+C[j]);\n                    val=min(255, val);\n                    chmin(dp[i+1][val], dp[i][k]+(x[i]-val)*(x[i]-val));\n                }\n            }\n        }\n        ll res=LINF;\n        for(int i=0; i<256; i++) chmin(res, dp[N][i]);\n        printf(\"%lld\\n\", res);\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n\nusing namespace std;\n\nlong long int ans;\n\nint min(int a,int b){\n\tif(a>=b)return b;\n\telse return a;\n}\n\nint main(){\n\n\tint n,m;\n\tlong long int dp[20][256];\n\tint next;\n\n\twhile(cin>>n>>m){\n\t\tans = 1000000000000;\n\t\tif(n==0 && m==0){\n\t\t\tbreak;\n\t\t}\n\t\tint *c;\n\t\tint *x;\n\t\tc = new int[m];\n\t\tx = new int[n];\n\n\t\tfor(int i=0;i<m;i++){\n\t\t\tcin>>c[i];\n\t\t}\n\t\tfor(int i=0;i<n;i++){\n\t\t\tcin>>x[i];\n\t\t}\n\t\tfor(int i=0;i<n;i++){\n\t\t\tfor(int j=0;j<256;j++){\n\t\t\t\tdp[i][j]=10000000000;\n\t\t\t}\n\t\t}\n\n\t\tfor(int i=0;i<m;i++){\n\t\t\tnext = 128+c[i];\n\t\t\tif(next>=255)next=255;\n\t\t\tif(next<=0)next = 0;\n\t\t\tdp[0][next] = (x[0]-next)*(x[0]-next);\n\t\t}\n\t\t/*\n\t\tfor(int i=0;i<256;i++){\n\t\t\tcout<<dp[0][i]<<\" \";\n\t\t}\n\t\tcout<<endl;\n\t\t*/\n\t\tfor(int i=1;i<n;i++){\n\t\t\tfor(int j=0;j<256;j++){\n\t\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\t\tnext = j+c[k];\n\t\t\t\t\tif(next>=255)next=255;\n\t\t\t\t\tif(next<=0)next = 0;\n\t\t\t\t\t//dp[next] = min(dp[next],dp[j]+(x[i]-next)*(x[i]-next));\n\t\t\t\t\tdp[i][next] = min(dp[i][next],dp[i-1][j]+(x[i]-next)*(x[i]-next));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor(int i=0;i<256;i++){\n\t\t\tans = min(ans,dp[n-1][i]);\n\t\t}\n\n\n\t\tcout<<ans<<endl;\n\n\t}\n\n\treturn 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\nusing namespace std;\n\nint main(){\n    int inf = 1e9;\n    int N,M;\n    while(cin >> N >> M && N){\n        vector<int> C(M+1),X(N+1);\n        vector<vector<int>> dp(N+1,vector<int>(256,inf));\n        dp[0][128] = 0;\n        for(int i=1;i<=M;i++) cin >> C[i];\n        for(int i=1;i<=N;i++) cin >> X[i];\n        for(int i=0;i<N;i++) for(int j=0;j<=255;j++){\n            for(int k=1;k<=M;k++){\n                int ne = j+C[k];\n                if(ne>255) ne = 255;\n                if(ne<0) ne = 0;\n                dp[i+1][ne] = min(dp[i+1][ne],dp[i][j]+(X[i+1]-ne)*(X[i+1]-ne));\n            }\n        }\n        int ans = inf;\n        for(int i=0;i<=255;i++) ans = min(ans,dp[N][i]);\n        cout << ans << endl;\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define int long long\n#define INF 0x3f3f3f3f3f3f3f3f\n#define rep(i,n)for(int i=0;i<(n);i++)\nusing namespace std;\n\nint c[16], x[16];\nint dp[20001][256];\nint d(int a) {\n\tif (a < 0)return 0;\n\tif (a > 255)return 255;\n\treturn a;\n}\nint diff(int i, int a) {\n\treturn (x[i] - a)*(x[i] - a);\n}\nsigned main() {\n\tint n, m;\n\twhile (scanf(\"%lld%lld\", &n, &m), n) {\n\t\trep(i, m)scanf(\"%lld\", &c[i]);\n\t\trep(i, n)scanf(\"%lld\", &x[i]);\n\t\tmemset(dp, 0x3f, sizeof(dp));\n\t\tdp[0][128] = 0;\n\t\trep(i, n)rep(j, 256) {\n\t\t\tif (dp[i][j] == INF)continue;\n\t\t\trep(k, m) {\n\t\t\t\tint a = d(j + c[k]);\n\t\t\t\tdp[i + 1][a] = min(dp[i + 1][a], dp[i][j] + diff(i, a));\n\t\t\t}\n\t\t}\n\t\tint Min = INF;\n\t\trep(j, 256)Min = min(Min, dp[n][j]);\n\t\tprintf(\"%lld\\n\", Min);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cmath>\n#include <climits>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <fstream>\n#include <iostream>\n#include <list>\n#include <map>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <vector>\n#include <cassert>\n#include <functional>\n\nusing namespace std;\n\n#define LOG(...) printf(__VA_ARGS__)\n//#define LOG(...)\n#define FOR(i,a,b) for(int i=(int)(a);i<(int)(b);++i)\n#define REP(i,n) for(int i=0;i<(int)(n);++i)\n#define ALL(a) (a).begin(),(a).end()\n#define RALL(a) (a).rbegin(),(a).rend()\n#define EXIST(s,e) ((s).find(e)!=(s).end())\n#define SORT(c) sort((c).begin(),(c).end())\n#define RSORT(c) sort((c).rbegin(),(c).rend())\n#define CLR(a) memset((a), 0 ,sizeof(a))\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef vector<bool> vb;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\ntypedef vector<vb> vvb;\ntypedef vector<vi> vvi;\ntypedef vector<vll> vvll;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\n\nconst int dx[] = { -1, 0, 1, 0 }; const int dy[] = { 0, 1, 0, -1 };\n\nstruct UnionFind {\n\tvector<int> v;\n\tUnionFind(int n) : v(n)  { for (int i = 0; i < n; i++) v[i] = i; }\n\tint  find(int x)         { return v[x] == x ? x : v[x] = find(v[x]); }\n\tvoid unite(int x, int y) { v[find(x)] = find(y); }\n};\n\nint main() {\n\tint n, m;\n\twhile (cin>>n>>m,n) {\n\t\tvi cb(m);\n\t\tREP(i, m)\n\t\t\tcin >> cb[i];\n\t\tvi os(n);\n\t\tREP(i, n)\n\t\t\tcin >> os[i];\n\t\tvi memo(256,1000000000);\n\t\tmemo[128] = 0;\n\t\tREP(i, n) {\n\t\t\tvi copy(256, 1000000000);\n\t\t\tREP(j, 256) {\n\t\t\t\tif (memo[j] != 1000000000) {\n\t\t\t\t\tREP(k, m) {\n\t\t\t\t\t\tcopy[min(255, max(0, j + cb[k]))] =min(copy[min(255, max(0, j + cb[k]))], memo[j] + (os[i] - min(255, max(0, j + cb[k])))*(os[i] - min(255, max(0, j + cb[k]))));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo = copy;\n\t\t}\n\t\tint ans = 1e9;\n\t\tREP(i, 256)\n\t\t\tans = min(ans, memo[i]);\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nconst int INF = 1 << 29;\n\nint clamp(int n, int mi, int ma) {\n    return max(mi, min(ma, n));\n}\n\nint dp[20010][256];\nint solve_testcase() {\n    int N, M; cin >> N >> M;\n    if(N == 0 and M == 0) return 1;\n\n    vector<int> C(M);\n    for(int i=0; i<M; i++) cin >> C[i];\n\n    vector<int> x(N);\n    for(int i=0; i<N; i++) cin >> x[i];\n\n    const int mi = 0, ma = 255;\n    fill(dp[0], dp[N+1], INF);\n    dp[0][128] = 0;\n    for(int i=0; i<N; i++) {\n        for(int j=0; j<256; j++) {\n            for(int k=0; k<M; k++) {\n                int nj = clamp(j + C[k], mi, ma);\n                int er = (nj - x[i]) * (nj - x[i]);\n                dp[i+1][nj] = min(dp[i+1][nj], dp[i][j] + er);\n            }\n        }\n    }\n\n    cout << *min_element(dp[N], dp[N] + 256) << endl;\n    return 0;\n}\n\nint main() {\n    while(!solve_testcase());\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nconst int INF = 1e9;\nconst int MOD = 1e9+7;\nconst long long LINF = 1e18;\n#define dump(x)  cout << 'x' << ' = ' << (x) << ` `;\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n) for(int i=0;i<(n);++i)\n#define REPR(i,n) for(int i=n;i>=0;i--)\n#define FOREACH(x,a) for(auto& (x) : (a) )\ntypedef long long ll;\nusing namespace std;\n\nint dp[21000][256], c[64000], x[64000];\n\nint sum_of_square(int d, int i) {\n    int ret = (int)pow(abs(x[i]-d), 2);\n    return ret;\n}\n\nint main(int argc, char const *argv[]) {\n    while (true) {\n        int n, m;\n        cin >> n >> m;\n        if (n == 0&&m == 0) break;\n        REP(i,21000) REP(j,256) dp[i][j] = INF*2;\n        REP(i,m) cin >> c[i];\n        for (int i = 1; i <= n; ++i) cin >> x[i];\n        dp[0][128] = 0;\n        for (int i = 1; i <= n; ++i) {\n            for (int j = 0; j < 256; ++j) {\n                if (dp[i-1][j] == INF) continue;\n                REP(k,m) {\n                    int next = c[k]+j;\n                    if (next < 0) {\n                        next = 0;\n                    }\n                    else if (next > 255) {\n                        next = 255;\n                    }\n                    dp[i][next] = min(dp[i][next], dp[i-1][j]+sum_of_square(next, i));\n                }\n            }\n        }\n        int ans = INF*2;\n        REP(i,256) {\n            ans = min(ans, dp[n][i]);\n        }\n        cout << ans << endl;\n    }\n    \n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef pair<ll, ll> l_l;\ntypedef pair<int, int> i_i;\n\n#define EPS (1e-7)\n#define INF (1e9)\n#define PI (acos(-1))\n//const ll mod = 1000000007;\nll C[20];\nll x[100500];\nll dp[100500][300];\n\nvoid chmin(ll &a, ll b) {\n    a = min(a, b);\n}\nvoid chmax(ll &a, ll b) {\n    a = max(a, b);\n}\nint main() {\n    //cout.precision(10);\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    while(true) {\n        ll N, M;\n        cin >> N >> M;\n        if(N == 0) break;\n        for(int i = 1; i <= M; i++) cin >> C[i];\n        for(int i = 1; i <= N; i++) cin >> x[i];\n        for(int i = 0; i <= N; i++) {\n            for(int val = 0; val <= 255; val++) dp[i][val] = 1e18;\n        }\n        //for(int val = 0; val <= 255; val++) dp[0][val] = 0;\n        dp[0][128] = 0;\n        for(int i = 0; i < N; i++) {\n            for(int before = 0; before <= 255; before++) {\n                for(int j = 1; j <= M; j++) {\n                    ll newval = before + C[j];\n                    chmax(newval, 0);\n                    chmin(newval, 255);\n                    chmin(dp[i+1][newval], dp[i][before] + (x[i+1] - newval) * (x[i+1]-newval));\n                }\n            }\n        }\n        ll ans = 1e18;\n        for(int i = 0; i <= 255; i++) chmin(ans, dp[N][i]);\n        cout << ans << endl;\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n\nusing namespace std;\ntypedef long long ll;\n\nll c[16], x[20000];\n\nll dp[20001][256];\n\nint main() {\n\twhile (1) {\n\t\tint n, m;\n\t\tcin >> n >> m;\n\t\tif (n + m == 0)break;\n\t\tfor (int i = 0; i < m; i++)cin >> c[i];\n\t\tfor (int i = 0; i < n; i++)cin >> x[i];\n\n\t\tfor (int i = 0; i < n; i++)for (int j = 0; j < 256; j++)dp[i][j] = 1e18;\n\t\tdp[0][128] = 0;\n\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tfor (int j = 0; j <= 255; j++) {\n\t\t\t\tfor (int k = 0; k < m; k++) {\n\t\t\t\t\tll nxt = 0;\n\t\t\t\t\tnxt = j + c[k];\n\t\t\t\t\tif (nxt < 0)nxt = 0;\n\t\t\t\t\tif (nxt > 255)nxt = 255;\n\t\t\t\t\t\n\t\t\t\t\tdp[i + 1][nxt] = min(dp[i + 1][nxt], dp[i][j] + (x[i] - nxt) * (x[i] - nxt));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tll ans = 1e18;\n\n\t\tfor (int i = 0; i < 256; i++) {\n\t\t\tans = min(ans, dp[n][i]);\n\t\t}\n\t\tcout << ans << endl;\n\n\t}\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define FOR(i,k,n) for(int i = (k); i < (n); i++)\n#define REP(i,n) FOR(i,0,n)\n#define INF 114514810\n#define MOD 1000000007\n#define ALL(a) (a).begin(),(a).end()\n#define ms(m,v) memset(m,v,sizeof(m))\n#define D10  fixed<<setprecision(10) \ntypedef vector<int> vi;\ntypedef vector<string> vs;\ntypedef pair<int, int> P;\ntypedef long long ll;\nstruct edge{ int from, to, cost; };\n\nint n, m;\nint c[20]; int x[20005];\nint memo[20005][300];\n\nint dp(int y, int i)\n{\n\tif (i == n) return 0;\n\tif (memo[i][y] != INF) return memo[i][y];\n\tint res = INF;\n\tREP(j, m)\n\t{\n\t\tint tmp = y;\n\t\ttmp += c[j];\n\t\tif (tmp > 255) tmp = 255;\n\t\tif (tmp < 0) tmp = 0;\n\t\tres = min(res, dp(tmp,i+1)+(tmp-x[i])*(tmp-x[i]));\n\t}\n\treturn memo[y][i] = res;\n}\n\nint main()\n{\n\twhile (cin >> n >> m, n)\n\t{\n\t\tREP(i, 20005)REP(j, 300) memo[i][j] = INF;\n\t\tREP(i, m) cin >> c[i];\n\t\tREP(i, n) cin >> x[i];\n\t\tcout << dp(128, 0) << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define FOR(i,k,n) for(int i = (k); i < (n); i++)\n#define REP(i,n) FOR(i,0,n)\n#define INF 114514810\n#define MOD 1000000007\n#define ALL(a) (a).begin(),(a).end()\n#define ms(m,v) memset(m,v,sizeof(m))\n#define D10  fixed<<setprecision(10) \ntypedef vector<int> vi;\ntypedef vector<string> vs;\ntypedef pair<int, int> P;\ntypedef long long ll;\nstruct edge{ int from, to, cost; };\n\nint n, m;\nint c[20]; int x[20005];\nint memo[20005][300];\n\nint dp(int y, int i)\n{\n\tif (i == n) return 0;\n\tif (memo[i][y] != INF) return memo[i][y];\n\tint res = INF;\n\tREP(j, m)\n\t{\n\t\tint tmp = y;\n\t\ttmp += c[j];\n\t\tif (tmp > 255) tmp = 255;\n\t\tif (tmp < 0) tmp = 0;\n\t\tres = min(res, dp(tmp,i+1)+(tmp-x[i])*(tmp-x[i]));\n\t}\n\treturn memo[i][y] = res;\n}\n\nint main()\n{\n\twhile (cin >> n >> m, n)\n\t{\n\t\tREP(i, 20005)REP(j, 300) memo[i][j] = INF;\n\t\tREP(i, m) cin >> c[i];\n\t\tREP(i, n) cin >> x[i];\n\t\tcout << dp(128, 0) << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define _GLIBCXX_DEBUG\n#define rep(i, n) for (int i = 0; i < (n); ++i)\n#define rep1(i, n) for (int i = 1; i < (n); ++i)\nusing namespace std;\ntypedef long long ll;\n\nint clip(int i){\n    return max(0, min(255, i));\n}\n\nint main() {\n    cin.tie(nullptr);\n    ios::sync_with_stdio(false);\n\n    while(1){\n        int n, m;\n        cin >> n >> m;\n\n        if(n == 0) break;\n\n        vector<int> c(m);\n        rep(i, m) cin >> c[i];\n\n        vector<int> x(n);\n        rep(i, n) cin >> x[i];\n\n        const int INF = 1001001001;\n        vector<vector<int>> dp(n, vector<int>(256, INF));\n        rep(i, m) dp[0][clip(128 + c[i])] = pow(clip(128+c[i])-x[0], 2);\n\n        rep(i, n-1){\n            rep(j, 256){\n                if(dp[i][j] == INF) continue;\n                rep(k, m){\n                    dp[i+1][clip(j+c[k])] = min(dp[i+1][clip(j+c[k])], dp[i][j] + (int)pow(clip(j+c[k])-x[i+1], 2));\n                }\n            }\n        }\n\n        int res = INF;\n        rep(i, 256) res = min(res, dp[n-1][i]);\n\n        cout << res << \"\\n\";\n\n    }\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\n\ntypedef long long int lli;\nint c[30],x[30000];\nlli dp[30000][256];\n\nint sq(int x) {\n    return x*x;\n}\nint add(int x, int y) {\n    return max(0, min(255, x+y));\n}\nint main(void) {\n    while(1) {\n        int n,m;\n        scanf(\"%d%d\",&n,&m);\n        if(!n) break;\n        memset(dp, 0x3F, sizeof(dp));\n\n        for(int i=0; i<m; i++)\n            scanf(\"%d\",&c[i]);\n        for(int i=0; i<n; i++)\n            scanf(\"%d\",&x[i]);\n\n        dp[0][128] = 0;\n\n        for(int i=0; i<n; i++)\n            for(int j=0; j<256; j++)\n                for(int k=0; k<m; k++)\n                    dp[i+1][add(j,c[k])] = min(dp[i+1][add(j,c[k])], dp[i][j] + sq(x[i]-add(j,c[k])));\n\n        lli res=0xFFFFFFFFFFFF;\n        for(int j=0; j<256; j++)\n            res = min(res, dp[n][j]);\n\n        printf(\"%lld\\n\", res);\n\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n\nusing namespace std;\n\ntypedef long long lli;\n\nconst lli INF = (1<<30)-1;\n\nlli n, m, data[16], dp[2][256], in;\n\nmain(){\n  while(cin >> n >> m && (n|m)){\n    for(int i=0;i<m;i++) cin >> data[i];\n    fill(dp[0], dp[2], INF);\n    dp[0][128] = 0;\n    for(int i=0;i<n;i++){\n      for(int j=0;j<256;j++) dp[(i+1)%2][j] = INF;\n      cin >> in;\n      for(int j=0;j<256;j++){\n        if(dp[i][j] == INF) continue;\n        for(int k=0;k<m;k++){\n          lli next = j + data[k];\n          if(next < 0) next = 0;\n          if(next > 255) next = 255;\n          dp[(i+1)%2][next] = min(dp[(i+1)%2][next], abs(in-(next)) * abs(in-(next)) + dp[i%2][j]);\n        }\n      }\n    }\n    lli ans = INF;\n    for(int i=0;i<256;i++) ans = min(ans, dp[n%2][i]);\n    cout << ans << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n//typedef\n//-------------------------#include <bits/stdc++.h>\n \n#define M_PI       3.14159265358979323846\n \nusing namespace std;\n \n//conversion\n//------------------------------------------\ninline int toInt(string s) { int v; istringstream sin(s); sin >> v; return v; }\ntemplate<class T> inline string toString(T x) { ostringstream sout; sout << x; return sout.str(); }\ninline int readInt() { int x; scanf(\"%d\", &x); return x; }\n \n//typedef\n//------------------------------------------\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<string> VS;\ntypedef pair<int, int> PII;\ntypedef pair<long long, long long> PLL;\ntypedef pair<int, PII> TIII;\ntypedef long long LL;\ntypedef unsigned long long ULL;\ntypedef vector<LL> VLL;\ntypedef vector<VLL> VVLL;\n \n \n//container util\n \n//------------------------------------------\n#define ALL(a)  (a).begin(),(a).end()\n#define RALL(a) (a).rbegin(), (a).rend()\n#define PB push_back\n#define MP make_pair\n#define SZ(a) int((a).size())\n#define SQ(a) ((a)*(a))\n#define EACH(i,c) for(typeof((c).begin()) i=(c).begin(); i!=(c).end(); ++i)\n#define EXIST(s,e) ((s).find(e)!=(s).end())\n#define SORT(c) sort((c).begin(),(c).end())\n \n//repetition\n//------------------------------------------\n#define FOR(i,s,n) for(int i=s;i<(int)n;++i)\n#define REP(i,n) FOR(i,0,n)\n#define MOD 1000000007\n \n#define rep(i, a, b) for(int i = a; i < (b); ++i)\n#define trav(a, x) for(auto& a : x)\n#define all(x) x.begin(), x.end()\n#define sz(x) (int)(x).size()\n \ntypedef long long ll;\ntypedef pair<int, int> pii;\ntypedef vector<int> vi;\nconst double EPS = 1E-8;\n \n#define chmin(x,y) x=min(x,y)\n#define chmax(x,y) x=max(x,y)\n \nclass UnionFind {\npublic:\n    vector <ll> par; \n    vector <ll> siz; \n    \n    vector <ll> maxv;\n    UnionFind(ll sz_): par(sz_), siz(sz_, 1LL) {\n        for (ll i = 0; i < sz_; ++i) par[i] = i;\n    }\n    void init(ll sz_) {\n        par.resize(sz_);\n        siz.assign(sz_, 1LL);\n        for (ll i = 0; i < sz_; ++i) par[i] = i;\n    }\n \n    ll root(ll x) { \n        while (par[x] != x) {\n            x = par[x] = par[par[x]];\n        }\n        return x;\n    }\n \n    bool merge(ll x, ll y) {\n        x = root(x);\n        y = root(y);\n        if (x == y) return false;\n        if (siz[x] < siz[y]) swap(x, y);\n        siz[x] += siz[y];\n        par[y] = x;\n        return true;\n    }\n \n    bool issame(ll x, ll y) { \n        return root(x) == root(y);\n    }\n \n    ll size(ll x) { \n        return siz[root(x)];\n    }\n};\n \n \nll mod_pow(ll x, ll n, ll mod){\n    ll res = 1;\n    while(n){\n        if(n&1) res = (res * x)%mod;\n \n        res %= mod;\n        x = x * x %mod;\n        n >>= 1;\n    }\n    return res;\n}\n \n#define SIEVE_SIZE 5000000+10\nbool sieve[SIEVE_SIZE];\nvoid make_sieve(){\n    for(int i=0; i<SIEVE_SIZE; ++i) sieve[i] = true;\n    sieve[0] = sieve[1] = false;\n    for(int i=2; i*i<SIEVE_SIZE; ++i) if(sieve[i]) for(int j=2; i*j<SIEVE_SIZE; ++j) sieve[i*j] = false;\n}\n \nbool isprime(ll n){\n    if(n == 0 || n == 1) return false;\n    for(ll i=2; i*i<=n; ++i) if(n%i==0) return false;\n    return true;\n}\n \nconst int MAX = 2000010;\nlong long fac[MAX], finv[MAX], inv[MAX];\n \n// テーブルを作る前処理\nvoid COMinit() {\n    fac[0] = fac[1] = 1;\n    finv[0] = finv[1] = 1;\n    inv[1] = 1;\n    for (int i = 2; i < MAX; i++){\n        fac[i] = fac[i - 1] * i % MOD;\n        inv[i] = MOD - inv[MOD%i] * (MOD / i) % MOD;\n        finv[i] = finv[i - 1] * inv[i] % MOD;\n    }\n}\n \n// 二項係数計算\nlong long COM(int n, int k){\n    if (n < k) return 0;\n    if (n < 0 || k < 0) return 0;\n    return fac[n] * (finv[k] * finv[n - k] % MOD) % MOD;\n}\n \nlong long extGCD(long long a, long long b, long long &x, long long &y) {\n    if (b == 0) {\n        x = 1;\n        y = 0;\n        return a;\n    }\n    long long d = extGCD(b, a%b, y, x);\n    y -= a/b * x;\n    return d;\n}\n// 負の数にも対応した mod (a = -11 とかでも OK) \ninline long long mod(long long a, long long m) {\n    return (a % m + m) % m;\n}\n \n// 逆元計算 (ここでは a と m が互いに素であることが必要)\nlong long modinv(long long a, long long m) {\n    long long x, y;\n    extGCD(a, m, x, y);\n    return mod(x, m); // 気持ち的には x % m だが、x が負かもしれないので\n}\nll GCD(ll a, ll b){\n    \n    if(b == 0) return a;\n    return GCD(b, a%b);\n}\n \n \n \nstruct LazySegmentTree {\nprivate:\n    int n;\n    vector<ll> node, lazy;\n \npublic:\n    LazySegmentTree(vector<ll> v) {\n        int sz = (int)v.size();\n        n = 1; while(n < sz) n *= 2;\n        node.resize(2*n-1);\n        lazy.resize(2*n-1, 0);\n \n        for(int i=0; i<sz; i++) node[i+n-1] = v[i];\n        for(int i=n-2; i>=0; i--) node[i] = node[i*2+1] + node[i*2+2];\n    }\n \n    void eval(int k, int l, int r) {\n        if(lazy[k] != 0) {\n            node[k] += lazy[k];\n            if(r - l > 1) {\n                lazy[2*k+1] += lazy[k] / 2;\n                lazy[2*k+2] += lazy[k] / 2;\n            }\n            lazy[k] = 0;\n        }\n    }\n \n    void add(int a, int b, ll x, int k=0, int l=0, int r=-1) {\n        if(r < 0) r = n;\n        eval(k, l, r);\n        if(b <= l || r <= a) return;\n        if(a <= l && r <= b) {\n            lazy[k] += (r - l) * x;\n            eval(k, l, r);\n        }\n        else {\n            add(a, b, x, 2*k+1, l, (l+r)/2);\n            add(a, b, x, 2*k+2, (l+r)/2, r);\n            node[k] = node[2*k+1] + node[2*k+2];\n        }\n    }\n \n    ll getsum(int a, int b, int k=0, int l=0, int r=-1) {\n        if(r < 0) r = n;\n        eval(k, l, r);\n        if(b <= l || r <= a) return 0;\n        if(a <= l && r <= b) return node[k];\n        ll vl = getsum(a, b, 2*k+1, l, (l+r)/2);\n        ll vr = getsum(a, b, 2*k+2, (l+r)/2, r);\n        return vl + vr;\n    }\n};\n\nint const INF = INT_MAX;\n\nstruct SegmentTree {\nprivate:\n    int n;\n    vector<int> node;\n\npublic:\n    SegmentTree(vector<int> v) {\n        int sz = v.size();\n        n = 1; while(n < sz) n *= 2;\n        node.resize(2*n-1, INF);\n        for(int i=0; i<sz; i++) node[i+n-1] = v[i];\n        for(int i=n-2; i>=0; i--) node[i] = min(node[2*i+1], node[2*i+2]);\n    }\n\n    void update(int x, int val) {\n        x += (n - 1);\n        node[x] = val;\n        while(x > 0) {\n            x = (x - 1) / 2;\n            node[x] = min(node[2*x+1], node[2*x+2]);\n        }\n    }\n\n    int getmin(int a, int b, int k=0, int l=0, int r=-1) {\n        if(r < 0) r = n;\n        if(r <= a || b <= l) return INF;\n        if(a <= l && r <= b) return node[k];\n\n        int vl = getmin(a, b, 2*k+1, l, (l+r)/2);\n        int vr = getmin(a, b, 2*k+2, (l+r)/2, r);\n        return min(vl, vr);\n    }\n};\nusing Weight = int;\nusing Flow = int;\nstruct Edge {\n    int src, dst;\n    Weight weight;\n    Flow cap;\n    Edge() : src(0), dst(0), weight(0) {}\n    Edge(int s, int d, Weight w) : src(s), dst(d), weight(w) {}\n};\nusing Edges = std::vector<Edge>;\nusing Graph = std::vector<Edges>;\nusing Array = std::vector<Weight>;\nusing Matrix = std::vector<Array>;\n \nvoid add_edge(Graph &g, int a, int b, Weight w = 1) {\n    g[a].emplace_back(a, b, w);\n    g[b].emplace_back(b, a, w);\n}\nvoid add_arc(Graph &g, int a, int b, Weight w = 1) { g[a].emplace_back(a, b, w); }\n\n// template<typename T> class basic_stopwatch: T {\n//     typedef typename T BaseTimer;\n\n// public:\n//     explicit basic_stopwatch(bool start);\n//     explicit basic_stopwatch(char const* activity = \"Stopwatch\", bool start = true);\n//     basic_stopwatch(std::ostream& log, char const* activity = \"Stopwatch\", bool start = true);\n//     basic_stopwatch();\n//     unsigned LapGet() const;\n//     bool IsStarted() const;\n//     unsigned Show(char const* event = \"show\");\n//     unsigned Start(char const* event_name = \"start\");\n//     unsigned Stop(char const* event_name = \"stop\");\n// private:\n//     char const*     m_activity;\n//     unsigned        m_lap;\n//     std::ostream&   m_log;\n// };\n\n// #include <chrono>\n// using namespace std::chrono;\n// class TimerBase {\n// public: \n\n//     // タイマをクリアする\n//     TimerBase(): m_start(system_clock::time_point::min()) {}\n\n//     void Clear(){\n//         m_start = system_clock::time_point::min();\n//     }\n\n//     bool IsStarted() const {\n//         return (m_start.time_since_epoch() != system_clock::duration(0));\n//     }\n\n//     void Start() {\n//         m_start = system_clock::now();\n//     }\n\n//     unsigned long GetMs(){\n//         if(IsStarted()) {\n//             system_clock::duration diff;\n//             diff = system_clock::now() - m_start;\n//             return (unsigned)(duration_cast<milliseconds>(diff).const();\n//         }\n//         return 0;\n//     }\n// private:\n//     system_clock::time_point m_start;\n// };\n\n\nint main() {\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    cout << fixed << setprecision(15);\n    \n    \n    int n, m; \n    vector<ll> res;\n    while(cin >> n >> m, n&&m){\n        vector<int> C(m),x(n);\n        REP(i,m) cin >> C[i];\n        REP(i,n) cin >> x[i];\n\n        ll dp[n+10][256];\n        REP(i,n+1) REP(j,256) dp[i][j]=(1LL<<60);\n\n        dp[0][128] = 0;\n        for(int i=1; i<=n; i++){\n            for(int j=0; j<=255; j++){\n                for(int k=0; k<m; k++){\n                    int nx = j+C[k];\n                    nx = max(0, min(255,nx));\n                    dp[i][nx] = min(dp[i][nx], dp[i-1][j] + (x[i-1]-nx)*(x[i-1]-nx));\n                    \n                }\n            }\n        }\n\n        ll ans = (1LL<<60);\n        for(int i=0; i<=255; i++){\n            ans = min(ans, dp[n][i]);\n        }\n        res.push_back(ans);\n    }\n\n    for(auto e: res){\n        cout << e << endl;\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <cmath>\n#include <ctype.h>\n#include <string> \n#include <cstring>\n#include <sstream>\n#include <iostream>\n#include <algorithm>\n#include <cstdlib>\n#include <map>\n#include <queue>\n#include <utility>\n#include <vector>\n#include <set>\n#include <iomanip>\n#include <stack>\n  \nusing namespace std;\n\n#define pi 3.141592653589793\n\nint main()\n{\n\tint n, m;\n\twhile(1){\n\t\tcin >> n >> m;\n\t\tif(n == 0 && m == 0) break;\n\t\tint result[20001][256];\n\t\tfor(int i = 0; i < n + 1; i++){\n\t\t\tfor(int j = 0; j < 256; j++){\n\t\t\t\tresult[i][j] = 10000000;\n\t\t\t}\n\t\t}\n\t\tresult[0][128] = 0;\n\t\tint c[17], x[20001];\n\t\tfor(int i = 1; i < m + 1; i++){\n\t\t\tcin >> c[i];\n\t\t}\n\t\tfor(int i = 1; i < n + 1; i++){\n\t\t\tcin >> x[i];\n\t\t}\n\t\tfor(int i = 1; i < n + 1; i++){\n\t\t\tfor(int j = 0; j < 256; j++){\n\t\t\t\tint nexty = j + c[i];\n\t\t\t\tif(nexty < 0) nexty = 0;\n\t\t\t\telse if(nexty > 255) nexty = 255;\n\t\t\t\tresult[i][nexty] = min(result[i][nexty], result[i - 1][j] + (x[i] - nexty) * (x[i] - nexty));\n\t\t\t}\n\t\t}\n\t\tint ans = 1000000;\n\t\tfor(int i = 1; i < 256; i++) ans = min(ans, result[n][i]);\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#include <iostream>\n#include <string>\n#include <utility>\n#include <stack>\n#include <vector>\n#include <queue>\n#include <algorithm>\n#include <map>\n#include <climits>\n#include <set>\n#include <cmath>\n#include <numeric>\n#include <iomanip>\n\nusing namespace std;\nint C[16];\nint x[20000];\nint dp[20000][256];\nint main(void){\n  int N;\n  int M;\n  while(true){\n    cin >> N >> M;\n    if(N == 0 && M == 0){\n      break;\n    }\n    for(int i = 0; i < M; i++){\n      cin >> C[i];\n    }\n    for(int i = 0; i < N; i++){\n      cin >> x[i];\n    }\n\n    for(int i = 0; i < N; i++){\n      for(int j = 0; j < 256; j++){\n        dp[i][j] = INT_MAX;\n      }\n    }\n\n    for(int i = 0; i < M; i++){\n      int next_y = max(0, min(C[i] + 128, 255));\n      dp[0][next_y] = min(dp[0][next_y], (next_y - x[0]) * (next_y - x[0]));\n    }\n    for(int i = 0; i < N - 1; i++){\n      for(int j = 0; j < 256; j++){\n        if(dp[i][j] != INT_MAX){\n          for(int k = 0; k < M; k++){\n            int next_y = max(0, min(C[k] + j, 255));\n            dp[i + 1][next_y] = min(dp[i + 1][next_y], dp[i][j] + (next_y - x[i + 1]) * (next_y - x[i + 1]));\n          }\n        }\n      }\n    }\n    int ans = INT_MAX;\n    for(int i = 0; i < 256; i++){\n      ans = min(ans, dp[N - 1][i]);\n    }\n    cout << ans << endl;\n    }\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef unsigned __int128 HASH;\ntypedef pair<int,int> pii;\ntypedef pair<ll, ll> pll;\ntypedef pair<ull, ull> pullull;\ntypedef pair<ll,int> plli;\ntypedef pair<double, int> pdbi;\ntypedef pair<int,pii> pipii;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\ntypedef vector<vi> vvi;\ntypedef vector<vvi> vvvi;\ntypedef vector<pii> vpii;\ntypedef vector<vector<int>> mat;\n\n#define rep(i,n) for (int i=0;i<(n);i++)\n#define rep2(i,a,b) for (int i=(a);i<(b);i++)\n#define rrep(i,n) for (int i=(n);i>0;i--)\n#define rrep2(i,a,b) for (int i=(a);i>b;i--)\n#define pb push_back\n#define fi first\n#define se second\n#define all(a) (a).begin(),(a).end()\n#define rall(a) (a).rbegin(),(a).rend()\n\nconst ll hmod1 = 999999937;\nconst ll hmod2 = 1000000000 + 9;\nconst ll INF = 1<<30;\nconst ll mod = 10000 + 7;\nconst int dx4[4] = {1, 0, -1, 0};\nconst int dy4[4] = {0, 1, 0, -1};\nconst int dx8[8] = {1, 1, 1, 0, 0, -1, -1, -1};\nconst int dy8[8] = {0, 1, -1, 1, -1, 0, 1, -1};\nconst double pi = 3.141592653589793;\n\n//#define int long long\n#define addm(X, Y) (X) = ((X) + ((Y) % mod) + mod) % mod\n\nint dp[20000 + 5][256];\n\nsigned main(){\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    while (true) {\n        int n, m;\n        cin >> n >> m;\n        if (n == 0) break;\n        int c[m] = {}, x[n] = {};\n        rep(i, m) cin >> c[i];\n        rep(i, n) cin >> x[i];\n        rep(i, n + 1)rep(j, 256) dp[i][j] = INF;\n        dp[0][128] = 0;\n        rep(i, n) {\n            rep(j, 256) {\n                rep(k, m) {\n                    if (j + c[k] < 0) {\n                        dp[i + 1][0] = min(dp[i + 1][0], dp[i][j] + x[i] * x[i]);\n                        continue;\n                    }\n                    else if (j + c[k] > 255) {\n                        dp[i + 1][255] = min(dp[i + 1][255], dp[i][j] + (255 - x[i]) * (255 - x[i]));\n                        continue;\n                    }\n                    dp[i + 1][j + c[k]] = min(dp[i + 1][j + c[k]], dp[i][j] + (j + c[k] - x[i]) * (j + c[k] - x[i]));\n                }\n            }\n        }\n        int ans = INF;\n        rep(j, 256) ans = min(ans, dp[n][j]);\n        cout << ans << endl;\n\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n\n#define REP(i,n) for(ll i=0;i<n;++i)\n#define RREP(i,n) for(ll i=n-1;i>=0;--i)\n#define FOR(i,m,n) for(ll i=m;i<n;++i)\n#define RFOR(i,m,n) for(ll i=n-1;i>=m;--i)\n#define ALL(v) (v).begin(),(v).end()\n#define PB(a) push_back(a)\n#define UNIQUE(v) v.erase(unique(ALL(v)),v.end());\n#define DUMP(v) REP(aa, (v).size()) { cout << v[a]; if (a != v.size() - 1)cout << \" \"; else cout << endl; }\n#define INF 1000000001ll\n#define MOD 1000000007ll\n#define EPS 1e-9\n\nconst int dx[8] = { 1,1,0,-1,-1,-1,0,1 };\nconst int dy[8] = { 0,1,1,1,0,-1,-1,-1 };\n\n\nusing namespace std;\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<ll> vl;\ntypedef vector<vi> vvi;\ntypedef vector<vl> vvl;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\nll max(ll a, int b) { return max(a, ll(b)); }\nll max(int a, ll b) { return max(ll(a), b); }\nll min(ll a, int b) { return min(a, ll(b)); }\nll min(int a, ll b) { return min(ll(a), b); }\n///(?´????????`)(?´????????`)(?´????????`)(?´????????`)(?´????????`)(?´????????`)///\nint n, m;\nint dfs(vvi &dp, const vi &c, const vi &x, int i,int j) {\n\tif (i == n)return 0;\n\tif (dp[i][j] != -1)return dp[i][j];\n\tint ret = INF;\n\tREP(k, m) {\n\t\tint tmp = j + c[k];\n\t\tif (tmp > 255)tmp = 255;\n\t\tif (tmp < 0)tmp = 0;\n\t\tret = min(ret, (tmp - x[i])*(tmp - x[i]) + dfs(dp, c, x, i + 1, tmp));\n\t}\n\treturn dp[i][j] = ret;\n}\nint main() {\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\twhile (1) {\n\t\n\t\tcin >> n >> m;\n\t\tif (!n)break;\n\t\tvi c(m), x(n);\n\t\tREP(i, m)cin >> c[i];\n\t\tREP(i, n)cin >> x[i];\n\t\tvvi dp(n, vi(256, -1));\n\t\tcout << dfs(dp, c, x, 0, 128) << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<utility>\n#include<cmath>\n\n#define INF (1 << 29)\n\nusing namespace std;\n\nstruct DP{\n    int first, second;\n};\n\nint fix(int num)\n{\n    return min(255, max( num, 0) );\n}\n\nint main()\n{\n    int N, M;\n    while(cin >> N >> M, (N))\n    {\n\n        vector<int> in_C(M);\n        for(auto& _c : in_C)\n        {\n            cin >> _c;\n        }\n\n        vector<int> in_X(N);\n        for(auto& _x : in_X)\n        {\n            cin >> _x;\n        }\n\n        DP dp[2][16];\n        //*\n        for(int i = 0; i < M; i++)\n        {\n            int score, nextX;\n            nextX = fix(128 + in_C[i]);\n            score = pow( abs(in_X[0] - nextX), 2.0);\n\n            dp[0][i] = DP{ score, nextX };\n            //cout << (int)dp[0][i].first << \" \" << (int)dp[0][i].second << endl;\n        }\n\n        for(int n = 1; n < N; n++)\n        {\n            for(int i = 0; i < M; i++)\n            {\n                int nextScore = INF;\n                int nextX = 0;\n                for(int j = 0; j < M; j++)\n                {\n                    int tmpScore = (int)dp[0][i].first + pow( fix(abs( (int)dp[0][i].second + in_C[j] - in_X[n] )), 2.0 );\n                    /*\n                    cout << (int)dp[0][i].first << endl;\n                    cout << (int)dp[0][i].second << endl;\n                    cout << in_C[j] << endl;\n                    cout << in_X[n] << endl;\n                    cout << (int)dp[0][i].second + in_C[j] - in_X[1] << endl;\n                    cout << (fix((int)dp[0][i].second + in_C[j] - in_X[1])) << endl;\n                    cout << tmpScore << endl;\n                    cout << endl;\n                    //*/\n                    if((int)tmpScore < (int)nextScore)\n                    {\n                        nextScore = tmpScore;\n                        nextX = fix((int)dp[0][i].second + in_C[j]);\n                    }\n                }\n                dp[1][i] = DP{ (int)nextScore, nextX };\n            }\n            for(int i = 0; i < M; i++)\n                dp[0][i] = dp[1][i];\n        }\n\n        int ans = INF;\n        for(int i = 0; i < M; i++)\n        {\n            if( dp[0][i].first < ans) ans = dp[0][i].first;\n        }\n        cout << ans << endl;\n        //*/\n\n\n    }\n\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define INF (1 << 25)\n\nint dp[20001][256];\n\n\nint main()\n{\n  int N, M;\n  while(cin >> N >> M, N || M){\n    int C[16], x[20000];\n    for(int i = 0; i < M; i++) cin >> C[i];\n    for(int i = 0; i < N; i++) cin >> x[i];\n    for(int i = 0; i < 20001; i++){\n      for(int j = 0; j < 256; j++) dp[i][j] = INF;\n    }\n    dp[0][128] = 0;\n    for(int i = 0; i < N; i++){\n      for(int j = 0; j < 256; j++){\n\tif(dp[i][j] == INF) continue;\n\tfor(int k = 0; k < M; k++){\n\t  int y = j + C[k];\n\t  if(y < 0) y = 0;\n\t  else if(y > 255) y = 255;\n\t  int sqsum = (x[i] - y)*(x[i] - y);\n\t  dp[i+1][y] = min(dp[i+1][y], dp[i][j] + sqsum);\t  \n\t}\n      }\n    }\n    cout << *min_element(dp[N], dp[N] + 256) << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <map>\n#include <set>\n#include <list>\n#include <queue>\n#include <deque>\n#include <stack>\n#include <vector>\n#include <algorithm>\n#include <functional>\n#include <cstring>\n#include <string>\n#include <sstream>\n#include <bitset>\nusing namespace std;\n#define INF\t1000000000000\n#define MOD 1000000007\n#define pb push_back\n#define mp make_pair\n#define fi first\n#define sec second\n#define lb lower_bound\n#define ub upper_bound\n#define SS stringstream\n#define rep(i,n) for(int i = 0; i < n; i++)\n#define SORT(x) sort((x).begin(), (x).end())\n#define clr(a,b) memset((a),(b),sizeof(a))\ntypedef long long int ll;\ntypedef pair<int, int> P;\ntypedef vector<int> Vi;\ntypedef vector<ll> Vll;\ntypedef vector<P> Vp;\ntypedef priority_queue<P, vector<P>, greater<P> > PQ;\n\nll dp[20001][256];\nint c[16];\nint x[20000];\n\nint main(){\n\tint n,m;\n\twhile(scanf(\"%d%d\", &n, &m),n||m){\n\t\trep(i,20001) rep(j,256) dp[i][j] = INF;\n\t\tdp[0][128] = 0;\n\t\trep(i,m) scanf(\"%d\", &c[i]);\n\t\trep(i,n) scanf(\"%d\", &x[i]);\n\t\tfor(int i = 1; i <= n; i++){\n\t\t\tfor(int j = 0; j < 256; j++){\n\t\t\t\tfor(int k = 0; k < m; k++){\n\t\t\t\t\tif(0 > j+c[k]) dp[i][0] = min(dp[i][0],dp[i-1][j]+x[i-1]*x[i-1]);\n\t\t\t\t\telse if(j+c[k] >= 256) dp[i][255] = min(dp[i][255],dp[i-1][j]+(255-x[i-1])*(255-x[i-1]));\n\t\t\t\t\telse dp[i][j+c[k]] = min(dp[i][j+c[k]],dp[i-1][j]+(j+c[k]-x[i-1])*(j+c[k]-x[i-1]));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tll ans = INF;\n\t\trep(i,256){\n\t\t\tans = min(ans,dp[n][i]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define inf 2000000000\nusing namespace std;\n\nint n, m;\nint c[20] = {0};\nint x[20005] = {0};\n// dp[i][j][k] x[i], use c[j] minans\nint dp[20005][300] = {0};\n\nint solve();\n\nint main() {\n  int i, j, k;\n  while(1) {\n    cin >> n >> m;\n    if(n + m == 0) break;\n    for(i = 0; i < m; ++i) cin >> c[i];\n    for(i = 0; i < n; ++i) cin >> x[i];\n    for(i = 0; i < 300; ++i)\n      for(j = 0; j < n; ++j) dp[j][i] = inf;\n    cout << solve() << endl;\n  }\n  return 0;\n}\n\nint solve() {\n  int i, j, k, now, ans = inf, bf;\n  for(i = 0; i < n; ++i) {\n    for(j = 1; j < 255; ++j)\n      for(k = 0; k < m; ++k) {\n        now = j - c[k];\n        if(now < 0 || now > 255 ||\n           (i != 0 && dp[i - 1][now] == inf) ||\n           (i == 0 && now != 128))\n          continue;\n        if(i == 0)\n          bf = 0;\n        else\n          bf = dp[i - 1][now];\n        dp[i][j] =\n            min(dp[i][j], bf + (j - x[i]) * (j - x[i]));\n        if(i == n - 1) ans = min(ans, dp[i][j]);\n      }\n    for(k = 0; k < m; ++k)\n      for(j = 0; j < 256; ++j) {\n        now = j + c[k];\n        if(now <= 0) {\n          if(i == 0 && j != 128) continue;\n          if(i == 0)\n            bf = 0;\n          else\n            bf = dp[i - 1][j];\n          dp[i][0] = min(dp[i][0], bf + x[i] * x[i]);\n          if(i == n - 1) ans = min(dp[i][0], ans);\n        }\n        else if(now >= 255) {\n          if(i == 0 && j != 128) continue;\n          if(i == 0)\n            bf = 0;\n          else\n            bf = dp[i - 1][j];\n          dp[i][255] = min(\n              dp[i][255], bf + (255 - x[i]) * (255 - x[i]));\n          if(i == n - 1) ans = min(ans, dp[i][255]);\n        }\n      }\n  }\n\n  return ans;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n\nusing namespace std;\n\nlong long int ans;\n\nvoid function(int y,int index,int *c,int *x,int n,int m,int now){\n\n\t//cout<<y<<\" \"<<index<<\" \"<<n<<\" \"<<m<<\" \"<<now<<endl;\n\n\tif(now>=ans){\n\t\treturn;\n\t}\n\tif(index>=n){\n\t\tif(ans>=now){\n\t\t\tans = now;\n\t\t}\n\t\treturn;\n\t}\n\tfor(int i=0;i<m;i++){\n\t\tint nextY = y+c[i];\n\t\tif(nextY>=255)nextY=255;\n\t\telse if(nextY<=0)nextY=0;\n\t\tfunction(nextY,index+1,c,x,n,m,now+(nextY-x[index])*(nextY-x[index]));\n\t}\n}\n\nint main(){\n\n\tint n,m;\n\tans = 1000000000000000;\n\n\twhile(cin>>n>>m){\n\t\tans = 1000000000000000;\n\t\tif(n==0 && m==0){\n\t\t\tbreak;\n\t\t}\n\t\tint *c;\n\t\tint *x;\n\t\tc = new int[m];\n\t\tx = new int[n];\n\n\t\tfor(int i=0;i<m;i++){\n\t\t\tcin>>c[i];\n\t\t}\n\t\tfor(int i=0;i<n;i++){\n\t\t\tcin>>x[i];\n\t\t}\n\t\tfunction(128,0,c,x,n,m,0);\n\t\tcout<<ans<<endl;\n\n\t}\n\n\treturn 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define REP(i,n) for(int i=0;i<(int)(n);i++)\n#define ALL(x) (x).begin(), (x).end()\n\nusing namespace std;\n\ntemplate <typename T> T &chmin(T &a, const T &b) {return a = min(a, b);}\ntemplate <typename T> T &chmax(T &a, const T &b) {return a = max(a, b);}\n\nusing ll = long long;\nusing ld = long double;\n\nconst int INF = 1e9;\nconst ld eps = 1e-9, pi = acos(-1.0);\n\ntypedef pair<int, int> pii;\n\nint N, M;\nvector<int> code(16);\nvector<int> sig(20000);\nint score[20005][256];\nint val[20005][256];\n\nint main(){\n\twhile(cin >> N >> M and N + M){\n\t\tREP(i, M) code[i] = 0;\n\t\tREP(i, N) sig[i] = 0;\n\t\tREP(i, N+1) REP(j, 256) score[i][j] = INF;\n\t\tscore[0][128] = 0;\n\t\tval[0][128] = 128;\n\t\tREP(i, M) cin >> code[i];\n\t\tREP(i, N) cin >> sig[i];\n\t\tREP(i, N) REP(j, 256){\n\t\t\tif(score[i][j] == INF) continue;\n\t\t\tREP(k, M){\n\t\t\t\tint tmp = min(255, max(0, val[i][j] + code[k]));\n\t\t\t\tif(score[i+1][tmp] > score[i][val[i][j]] + (sig[i] - tmp) * (sig[i] - tmp)) {\n\t\t\t\t\tscore[i+1][tmp] = score[i][val[i][j]] + (sig[i] - tmp) * (sig[i] - tmp);\n\t\t\t\t\tval[i+1][tmp] = tmp;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint minim = INF;\n\t\tREP(i, 256) chmin(minim, score[N][i]);\n\t\tcout << minim << endl;\n\t}\t\t\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <queue>\n#include <tuple>\n#include <limits>\n\nusing namespace std;\n\nint main()\n{\n\tfor(int n,m;cin>>n>>m,n|m;){\n\t\tint cs[m],xs[n];\n\t\tfor(int& c:cs) cin>>c;\n\t\tfor(int& x:xs) cin>>x;\n\t\t\n\t\tqueue<tuple<int,int,int>> q; // (index,value,sqrsum)\n\t\tq.emplace(0,128,0);\n\t\t\n\t\tint dp[n+1][256];\n\t\tfor(int i=0;i<=n;i++)\n\t\t\tfill(dp[i],dp[i]+256,numeric_limits<int>::max());\n\t\t\n\t\twhile(!q.empty()){\n\t\t\tauto cur=q.front(); q.pop();\n\t\t\tint ci=get<0>(cur),cval=get<1>(cur),csum=get<2>(cur);\n\t\t\t\n\t\t\tif(dp[ci][cval]<=csum)\n\t\t\t\tcontinue;\n\t\t\tdp[ci][cval]=csum;\n\t\t\t\n\t\t\tif(ci==n)\n\t\t\t\tcontinue;\n\t\t\t\n\t\t\tfor(int c:cs){\n\t\t\t\tint nval=max(min(cval+c,255),0);\n\t\t\t\tint nsum=csum+(nval-xs[ci])*(nval-xs[ci]);\n\t\t\t\tq.emplace(ci+1,nval,nsum);\n\t\t\t}\n\t\t}\n\t\t\n\t\tcout<<*min_element(dp[n],dp[n]+256)<<endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <queue>\nusing namespace std;\n#define mp make_pair\n#define pb push_back\n#define rep(i,n) for(int i=0;i<n;i++)\n#define repn(i,n) for(int i=1;i<=n;i++)\ntypedef long long ll;\n\nll dp[300][20005];\nint n,m,c[305],x[20005];\n\nint main(){\n    while(1){\n        cin>>n>>m;\n        if(n==0 && m==0) return 0;\n        for(int i=1;i<=m;i++) cin>>c[i];\n        for(int i=1;i<=n;i++) cin>>x[i];\n        rep(i,300) rep(j,20005){\n            dp[i][j] = 1e18;\n        }\n        dp[128][0] = 0;\n        for(int j=0;j<n;j++){\n            for(int i=0;i<300;i++){\n                if(dp[i][j] > 1e17) continue;\n                repn(k,m){\n                    int nxt = i+c[k];\n                    nxt = max(nxt,0);\n                    nxt = min(nxt,255);\n                    dp[nxt][j+1] = min(dp[nxt][j+1],dp[i][j]+1LL*(nxt-x[j+1])*(nxt-x[j+1]));\n                }\n            }\n        }\n        ll ans = 1e18;\n        rep(i,300) ans = min(ans,dp[i][n]);\n        cout << ans << endl;\n    }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n\nusing namespace std;\n\n#define rep(i,n) for(int i=0;i<n;i++)\n#define SQ(n) ((n)*(n))\nconst int inf=1<<28;\n\nint n,m,code[16],in[20000];\nint dp[2][256];\n\nint func(int n)\n{\n\tif(n<0)return 0;\n\treturn min(255,n);\n}\n\nint main(){\n\twhile(cin>>n>>m,n)\n\t{\n\t\trep(i,m)cin>>code[i];\n\t\trep(i,n)cin>>in[i];\n\t\t\n\t\tfill_n(dp[0],256,inf);\n\t\tdp[0][128]=0;\n\t\t\n\t\tint cur=0,next=1;\n\t\tfor(int i=1;i<=n;i++)\n\t\t{\n\t\t\tfill_n(dp[next],256,inf);\n\t\t\trep(j,256)rep(k,m)dp[next][func(j+code[k])]=min(\n\t\t\t\tdp[next][func(j+code[k])],dp[cur][j]+\n\t\t\t\tSQ(func(j+code[k])-in[i-1])\n\t\t\t);\n\t\t\tswap(cur,next);\n\t\t}\n\t\t\n\t\tcout<<*min_element(dp[cur],dp[cur]+256)<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <vector>\n#include <complex>\n#include <algorithm>\n#include <set>\n#include <map>\n#include <queue>\n#include <string>\n#include <cstring>\n#include <stack>\n#include <cmath>\n#include <iomanip>\n#include <sstream>\n#include <cassert>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef ll li;\ntypedef pair<int,int> PI;\n#define EPS (1e-10L)\n#define rep(i,n) for(int i=0;i<(int)(n);++i)\n#define F first\n#define S second\n#define mp(a,b) make_pair(a,b)\n#define pb(a) push_back(a)\n#define SZ(a) (int)((a).size())\n#define ALL(a) a.begin(),a.end()\n#define FOR(it,a) for(__typeof(a.begin())it=a.begin();it!=a.end();++it)\nvoid pkuassert(bool t){t=1/t;};\nint dx[]={0,1,0,-1,1,1,-1,-1};\nint dy[]={1,0,-1,0,-1,1,1,-1};\n\nint n,m;\nint c[16];\n\n\nbool vis[256][20001];\n\nvoid solve(){\n  rep(i,m) cin >> c[i];\n  int x[n];\n  rep(i,n) cin >> x[i];\n  priority_queue<pair<int,PI> > q;\n  q.push(mp(0,mp(0,128)));\n  memset(vis,0,sizeof(vis));\n  while(!q.empty()){\n    int cc=-q.top().F;\n    int ne=q.top().S.F;\n    int cv=q.top().S.S;\n    q.pop();\n    if(ne==n){\n      cout << cc << endl;\n      return;\n    }\n    \n    if(vis[cv][ne]) continue;\n    vis[cv][ne]=true;\n    rep(j,m){\n      ll nv=cv+c[j];\n      nv=max(nv,0LL);\n      nv=min(nv,255LL);\n      if(vis[ne+1][nv]) continue;\n      q.push(mp(-cc-(nv-x[ne])*(nv-x[ne]),mp(ne+1,nv)));\n    }\n  }\n}\n\nint main(int argc, char *argv[])\n{\n  while(cin >> n >> m && n) solve();\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <vector>\n#include <complex>\n#include <algorithm>\n#include <set>\n#include <map>\n#include <queue>\n#include <string>\n#include <cstring>\n#include <stack>\n#include <cmath>\n#include <iomanip>\n#include <sstream>\n#include <cassert>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef ll li;\ntypedef pair<int,int> PI;\n#define EPS (1e-10L)\n#define rep(i,n) for(int i=0;i<(int)(n);++i)\n#define F first\n#define S second\n#define mp(a,b) make_pair(a,b)\n#define pb(a) push_back(a)\n#define SZ(a) (int)((a).size())\n#define ALL(a) a.begin(),a.end()\n#define FOR(it,a) for(__typeof(a.begin())it=a.begin();it!=a.end();++it)\nvoid pkuassert(bool t){t=1/t;};\nint dx[]={0,1,0,-1,1,1,-1,-1};\nint dy[]={1,0,-1,0,-1,1,1,-1};\n\nll dp[2][256];\nint C[16];\nint x[20000];\nint N,M;\n\nvoid solve(){\n  rep(i,M) cin >> C[i];\n  rep(i,N) cin >> x[i];\n  memset(dp,-1,sizeof(dp));\n  dp[0][128]=0;\n  rep(i,N){\n    int cu=i&1;\n    int ne=(i+1)&1;\n\n    rep(j,256){\n      if(dp[cu][j]==-1) continue;\n      //cout << i << ' ' << dp[cu][j] << endl;\n      rep(k,M){\n        int nx=j+C[k];\n        nx=min(nx,255);\n        nx=max(nx,0);\n        int di=nx-x[i];\n        if(dp[ne][nx]==-1 || dp[ne][nx]>dp[cu][j]+di*di)\n          dp[ne][nx]=dp[cu][j]+di*di;\n      }\n      dp[cu][j]=-1;\n    }\n  }\n  \n  ll ans=1LL<<50LL;\n  rep(i,256) if(dp[N&1][i]!=-1) ans=min(ans,dp[N&1][i]);\n  cout << ans << endl;\n}\n\nint main(int argc, char *argv[])\n{\n  while(cin >> N >> M && N && M) solve();\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<vector>\n#include<algorithm>\n#include<map>\n#include<set>\n#include<cstdio>\n#include<cmath>\n#include<deque>\n#include<numeric>\n#include<queue>\n#include<stack>\n#include<cstring>\n#include<limits>\n#include<functional>\n#include<unordered_set>\n#include<iomanip>\n#include<cassert>\n#include<regex>\n#include<bitset>\n#include<complex>\n#include<chrono>\n#include<random>\n#define rep(i,a) for(int i=(int)0;i<(int)a;++i)\n#define rrep(i,a) for(int i=(int)a-1;i>=0;--i)\n#define REP(i,a,b) for(int i=(int)a;i<(int)b;++i)\n#define RREP(i,a,b) for(int i=(int)a-1;i>=b;--i)\n#define pb push_back\n#define eb emplace_back\n#define all(x) x.begin(),x.end()\nusing ll=long long;\nconstexpr ll mod = 1e9 + 7;\nconstexpr ll INF = 1LL << 60;\n\nll gcd(ll n, ll m) {\n\tll tmp;\n\twhile (m!=0) {\n\t\ttmp = n % m;\n\t\tn = m;\n\t\tm = tmp;\n\t}\n\treturn n;\n}\n\nll lcm(ll n, ll m) {\n\treturn abs(n) / gcd(n, m)*abs(m);//gl=xy\n}\n \ntemplate<class T> inline bool chmin(T& a, T b) {\n    if (a > b) {\n        a = b;\n        return true;\n    }\n    return false;\n}\ntemplate<class T> inline bool chmax(T& a, T b) {\n    if (a < b) {\n        a = b;\n        return true;\n    }\n    return false;\n}\n \nusing namespace std;\n\nint n,m;\n\nvoid solve(){\n  vector<int>c(m);\n  rep(i,m)cin>>c[i];\n  vector<int>x(n);\n  rep(i,n)cin>>x[i];\n  vector<vector<int>>dp(n+1,vector<int>(300,1e9));\n  dp[0][128]=0;\n  rep(i,n){\n    rep(j,256){\n      rep(k,m){\n        chmin(dp[i+1][min(255,max(0,j+c[k]))],dp[i][j]+(x[i]-min(255,max(0,(j+c[k]))))*(x[i]-min(255,max(0,(j+c[k])))));\n      }\n    }\n  }\n  int ans=1e9;\n  rep(i,256){\n    chmin(ans,dp[n][i]);\n  }\n  //cout<<dp[n][255]<<endl;\n  cout<<ans<<\"\\n\";\n}\n\nint main(){\n\tios::sync_with_stdio(false);\n  cin.tie(0);\n\tcout<<fixed<<setprecision(15);\n  while(1){\n    cin>>n>>m;\n    if(n==0&&m==0)return 0;\n    solve();\n  }\n  //solve();\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <cmath>\n#include <ctype.h>\n#include <string> \n#include <cstring>\n#include <sstream>\n#include <iostream>\n#include <algorithm>\n#include <cstdlib>\n#include <map>\n#include <queue>\n#include <utility>\n#include <vector>\n#include <set>\n#include <iomanip>\n#include <stack>\n  \nusing namespace std;\n\n#define pi 3.141592653589793\n\nint main()\n{\n\tint n, m;\n\twhile(1){\n\t\tcin >> n >> m;\n\t\tif(n == 0 && m == 0) break;\n\t\tint result[256][20001];\n\t\tfor(int i = 0; i < 256; i++){\n\t\t\tfor(int j = 0; j < 20001; j++){\n\t\t\t\tresult[i][j] = 10000000;\n\t\t\t}\n\t\t}\n\t\tresult[128][0] = 1;\n\t\tint c[17], x[20001];\n\t\tfor(int i = 1; i < m + 1; i++){\n\t\t\tcin >> c[i];\n\t\t}\n\t\tfor(int i = 1; i < n + 1; i++){\n\t\t\tcin >> x[i];\n\t\t}\n\t\tfor(int i = 1; i < n + 1; i++){\n\t\t\tfor(int j = 0; j < 256; j++){\n\t\t\t\tint nexty = j + c[i];\n\t\t\t\tif(nexty < 0) nexty = 0;\n\t\t\t\telse if(nexty > 255) nexty = 255;\n\t\t\t\tresult[i][nexty] = min(result[i][nexty], result[i - 1][j] + (x[i] - nexty) * (x[i] - nexty));\n\t\t\t}\n\t\t}\n\t\tint ans = 1000000;\n\t\tfor(int i = 1; i < 256; i++) ans = min(ans, result[i][n]);\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstdlib>\n#include<cstring>\n#include<cmath>\n#include<iostream>\n#include<string>\n#include<vector>\n#include<map>\n#include<set>\n#include<list>\n#include<queue>\n#include<deque>\n#include<algorithm>\n#include<numeric>\n#include<utility>\n#include<complex>\n#include<functional>\n \nusing namespace std;\n\n/* constant */\n\nconst int MAX_N = 20000;\nconst int MAX_M = 16;\nconst int MAX_C = 256;\n\nconst int INF = 1 << 30;\n\n/* typedef */\n\n/* global variables */\n\nint n, m;\nint cs[MAX_M], xs[MAX_N];\nint dp[2][MAX_C];\n\n/* subroutines */\n\ninline int diff2(int d) { return d * d; }\n\n/* main */\n\nint main() {\n  for (;;) {\n    cin >> n >> m;\n    if (n == 0) break;\n\n    for (int i = 0; i < m; i++) cin >> cs[i];\n    for (int i = 0; i < n; i++) cin >> xs[i];\n\n    int cur = 0, nxt = 1;\n    for (int c = 0; c < MAX_C; c++) dp[cur][c] = INF;\n    dp[cur][128] = 0;\n\n    for (int i = 0; i < n; i++) {\n      for (int c = 0; c < MAX_C; c++) dp[nxt][c] = INF;\n\n      for (int c = 0; c < MAX_C; c++) {\n\tif (dp[cur][c] < INF)\n\t  for (int j = 0; j < m; j++) {\n\t    int nc = c + cs[j];\n\t    if (nc < 0) nc = 0;\n\t    else if (nc >= MAX_C) nc = MAX_C - 1;\n\t    int d2 = diff2(xs[i] - nc);\n\t    int ndp = dp[cur][c] + d2;\n\t    if (dp[nxt][nc] > ndp) dp[nxt][nc] = ndp;\n\t  }\n      }\n\n      cur ^= 1;\n      nxt ^= 1;\n    }\n\n    int min_d = INF;\n    for (int c = 0; c < MAX_C; c++)\n      if (min_d > dp[cur][c]) min_d = dp[cur][c];\n    cout << min_d << endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\ntypedef long long ll;\nusing namespace std;\n#define repr(i,a,b) for(int i=a;i<b;i++)\n#define rep(i,n) for(int i=0;i<n;i++)\n#define invrepr(i,a,b) for(int i=b-1;i>=a;i--)\n#define invrep(i,n) invrepr(i,0,n)\n#define repitr(itr,a) for(auto itr=a.begin();itr!=a.end();++itr)\nconst ll MOD=1e9+7;\n\nint main() {\n    ios_base::sync_with_stdio(false);\n\n    while (1) {\n        int n,m;\n        cin >> n >> m;\n        if (n==0 && m==0) break;\n        vector<int> c(m),x(n);\n        rep(i,m) cin >> c[i];\n        rep(i,n) cin >> x[i];\n        sort(c.begin(),c.end());\n        vector<vector<int>> dp(n+1,vector<int>(256,1e9));\n        dp[0][128]=0;\n        rep(i,n) {\n            rep(j,256) {\n                if (dp[i][j]<1e9) {\n                    rep(k,m) {\n                        int nx=j+c[k];\n                        if (nx<0) nx=0;\n                        if (nx>255) nx=255;\n                        dp[i+1][nx]=min(dp[i+1][nx],dp[i][j]+(x[i]-nx)*(x[i]-nx));\n                    }\n                }\n            }\n        }\n        int ans=1e9;\n        rep(i,256) ans=min(ans,dp[n][i]);\n        cout << ans << endl;\n    }\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "// g++ -std=c++11 temp.cpp\n#include <bits/stdc++.h>\nusing namespace std;\n\n#define For(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define Rep(i,n) For(i,0,n)\n#define Each(itr,v) for(auto itr:v)\n#define pb(s) push_back(s)\n#define mp(a,b) make_pair(a,b)\n#define all(x) (x).begin(),(x).end()\n#define dbg(x) cout<<#x\"=\"<<x<<endl\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int, int> P;\ntypedef pair<P, int> PPI;\n\n#define INF INT_MAX/3\n\n#define MAX_M 16\n#define MAX_N 20000\n\nint N, M;\nint C[MAX_M], x[MAX_N];\nint dp[MAX_N+1][256];\n\n/*\nbool sorter(const A& x, const A& y){\n\treturn x.a < y.a;\n}\n\nint gcd(int a, int b){\n\tif(b == 0) return a;\n\treturn gcd(b, a%b);\n}\n\nint lcm(int a, int b){\n\tif(a == 0 || b == 0) return 0;\n\treturn a*b/gcd(a,b);\n}\n*/\n\nvoid solve() {\n\tRep(i,MAX_N+1)Rep(j,256) dp[i][j] = INF;\n\tdp[0][128] = 0;\n\tRep(i,N)Rep(j,256)Rep(k,M){\n\t\tint xx = j + C[k];\n\t\tif(xx < 0) xx = 0;\n\t\tif(xx > 255) xx = 255;\n\t\tint cost = (x[i]-xx)*(x[i]-xx);\n\t\tdp[i+1][xx] = min(dp[i+1][xx], dp[i][j]+cost);\n\t}\n\tint res = INF;\n\tRep(i,256) res = min(res, dp[N][i]);\n\tprintf(\"%d\\n\", res);\n}\n\nint main(){\n\twhile(1){\n\t\tscanf(\"%d %d\", &N, &M);\n\t\tif(N == 0) break;\n\t\tRep(i,M){\n\t\t\tscanf(\"%d\", &C[i]);\n\t\t}\n\t\tRep(i,N) scanf(\"%d\", &x[i]);\n\t\tsolve();\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n\n\nusing namespace std;\n\n#define rep(i, n) for (int i = 0; i < n; i++)\n#define vec vector\n\nint main(void)\n{\n\twhile(1) {\n\t\tint n, m;\n\t\tcin >> n >> m;\n\t\tif (n == 0 && m == 0) break;\n\t\tvec<int> c(m), x(n + 1);\n\t\tx[0] = 128;\n\t\trep(i, m) cin >> c[i];\n\t\trep(i, n) cin >> x[i + 1];\n\t\t// cout << \"finish input\" << endl;\n\n\t\tvec<vec<int>> dp(n + 1, vec<int>(256, - 1));\n\t\tdp[0][128] = 0;\n\t\trep(i, n) {\n\t\t\t// cout << i << endl;\n\t\t\trep(j, 256) {\n\t\t\t\tif (dp[i][j] < 0) continue;\n\t\t\t\t// cout << j << endl;\n\t\t\t\trep(k, m) {\n\t\t\t\t\tint l = j + c[k];\n\t\t\t\t\tif (l < 0) l = 0;\n\t\t\t\t\telse if (l > 255) l = 255;\n\t\t\t\t\tint keep = dp[i][j] + (l - x[i + 1]) * (l - x[i + 1]);\n\t\t\t\t\t// cout << \"keep = \" << keep << endl;\n\t\t\t\t\t\n\t\t\t\t\tif (dp[i + 1][l] < 0 || dp[i + 1][l] > keep) dp[i + 1][l] = keep;\n\t\t\t\t\t// cout << \"dp = \" << dp[i + 1][l] << endl;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t// cout << \"out\" << endl;\n\n\t\tint min = 1000000000;\n\t\trep(i, 256) {\n\t\t\tif (dp[n][i] < 0) continue;\n\t\t\tif (min > dp[n][i]) min = dp[n][i];\n\t\t}\n\n\t\tcout << min << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <limits>\nusing namespace std;\n\ninline int f(int n)\n{\n  return max(0, min(255, n));\n}\n\nint main()\n{\n  int N, M;\n  while (cin >> N >> M && N != 0) {\n    vector<int> cs(M);\n    for (int i = 0; i < M; i++) {\n      cin >> cs[i];\n    }\n    vector<int> xs(N);\n    for (int i = 0; i < N; i++) {\n      cin >> xs[i];\n    }\n\n    vector<vector<int> > dp(N+1, vector<int>(256, 100000000));\n    dp[0][128] = 0;\n    for (int i = 0; i < N; i++) {\n      for (int j = 0; j <= 255; j++) {\n        for (int k = 0; k < M; k++) {\n          const int y = f(j+cs[k]);\n          dp[i+1][y] = min(dp[i+1][y], dp[i][j] + (xs[i]-y)*(xs[i]-y));\n        }\n      }\n    }\n    int ans = numeric_limits<int>::max();\n    for (int i = 0; i <= 255; i++) {\n      ans = min(ans, dp[N][i]);\n    }\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\n#include <set>\n#include <vector>\n#include <cstring>\n#include <climits>\n#include <queue>\n#include <map>\n#include <sstream>\nusing namespace std;\n\n#define REP(i,a,n) for(int i=(a); i<(int)(n); i++)\n#define rep(i,n) REP(i,0,n)\n#define EPS 1e-9\n\nint pulse[20000];\nint dp[2][256];\n\nint main(){\n\tint n,m;\n\tint book[16];\n\twhile(scanf(\"%d%d\",&n,&m),n|m){\n\t\trep(i,m)scanf(\"%d\",&book[i]);\n\t\trep(i,n)scanf(\"%d\",&pulse[i]);\n\t\trep(i,256)dp[0][i]=dp[1][i]=INT_MAX;\n\t\t\n\t\tdp[0][128] = 0;\n\t\trep(i,n){\n\t\t\tint cur = i%2;\n\t\t\tint next = (i+1)%2;\n\t\t\trep(j,256)if( dp[cur][j]!=INT_MAX ){\n\t\t\t\trep(k,m){\n\t\t\t\t\tint d = j+book[k];\n\t\t\t\t\tif( d<0 )d=0;\n\t\t\t\t\tif( d>255 )d=255;\n\t\t\t\t\tdp[next][d] = min(dp[next][d], dp[cur][j]+(pulse[i]-d)*(pulse[i]-d));\n\t\t\t\t}\n\t\t\t}\n\t\t\trep(j,256)dp[cur][j]=INT_MAX;\n\t\t}\n\t\tint ans = INT_MAX;\n\t\trep(i,256)ans=min(ans,dp[n%2][i]);\n\t\tprintf(\"%d\\n\",ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nint N, M;\nint C[17], x[20001];\nint dp[256][20001];\n\nint rec(int now, int cnt) {\n  if ( cnt == N ) return 0;\n  if ( dp[now][cnt] != -1 ) return dp[now][cnt];\n\n  int ret = 1e8;\n  for ( int i = 0; i < M; i++ ) {\n    int tmp = max(0, min(255, now + C[i]));\n    ret = min(ret, rec(tmp, cnt + 1) + (x[cnt] - tmp) * (x[cnt] - tmp));\n  }\n\n  return dp[now][cnt] = ret;\n}\n\nint main()\n{\n  while ( cin >> N >> M, N | M ) {\n    for ( int i = 0; i < M; i++ ) cin >> C[i];\n    for ( int i = 0; i < N; i++ ) cin >> x[i];\n    \n    fill_n(*dp, 256 * 20001, -1);\n    \n    cout << rec(128, 0) << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "// includes\n#include <bits/stdc++.h>\nusing namespace std;\n\n// macros\n#define pb emplace_back\n#define mk make_pair\n#define FOR(i, a, b) for(int i=(a);i<(b);++i)\n#define rep(i, n) FOR(i, 0, n)\n#define rrep(i, n) for(int i=((int)(n)-1);i>=0;i--)\n#define irep(itr, st) for(auto itr = (st).begin(); itr != (st).end(); ++itr)\n#define irrep(itr, st) for(auto itr = (st).rbegin(); itr != (st).rend(); ++itr)\n#define whole(x) (x).begin(),(x).end()\n#define sz(x) ((int)(x).size())\n#define bit(n) (1LL<<(n))\n// functions\ntemplate <typename T> void unique(T& c){c.erase(std::unique(c.begin(), c.end()), c.end());}\ntemplate <class T>bool chmax(T &a, const T &b){if(a < b){a = b; return 1;} return 0;}\ntemplate <class T>bool chmin(T &a, const T &b){if(a > b){a = b; return 1;} return 0;}\ntemplate <typename T> istream &operator>>(istream &is, vector<T> &vec){for(auto &v: vec)is >> v; return is;}\ntemplate <typename T> ostream &operator<<(ostream &os, const vector<T>& vec){for(int i = 0; i < vec.size(); i++){ os << vec[i]; if(i + 1 != vec.size())os << \" \";} return os;}\ntemplate <typename T> ostream &operator<<(ostream &os, const set<T>& st){for(auto itr = st.begin(); itr != st.end(); ++itr){ os << *itr; auto titr = itr; if(++titr != st.end())os << \" \";} return os;}\ntemplate <typename T> ostream &operator<<(ostream &os, const unordered_set<T>& st){for(auto itr = st.begin(); itr != st.end(); ++itr){ os << *itr; auto titr = itr; if(++titr != st.end())os << \" \";} return os;}\ntemplate <typename T> ostream &operator<<(ostream &os, const multiset<T>& st){for(auto itr = st.begin(); itr != st.end(); ++itr){ os << *itr; auto titr = itr; if(++titr != st.end())os << \" \";} return os;}\ntemplate <typename T> ostream &operator<<(ostream &os, const unordered_multiset<T>& st){for(auto itr = st.begin(); itr != st.end(); ++itr){ os << *itr; auto titr = itr; if(++titr != st.end())os << \" \";} return os;}\ntemplate <typename T1, typename T2> ostream &operator<<(ostream &os, const pair<T1, T2> &p){os << \"(\" << p.first << \", \" << p.second << \")\"; return os;}\ntemplate <typename T1, typename T2> ostream &operator<<(ostream &os, const map<T1, T2> &mp){for(auto itr = mp.begin(); itr != mp.end(); ++itr){ os << \"(\" << itr->first << \", \" << itr->second << \")\"; auto titr = itr; if(++titr != mp.end())os << \" \"; } return os;}\ntemplate <typename T1, typename T2> ostream &operator<<(ostream &os, const unordered_map<T1, T2> &mp){for(auto itr = mp.begin(); itr != mp.end(); ++itr){ os << \"(\" << itr->first << \", \" << itr->second << \")\"; auto titr = itr; if(++titr != mp.end())os << \" \"; } return os;}\n//  types\nusing ll = long long int;\nusing P = pair<int, int>;\n// constants\nconst int inf = 1e9;\nconst ll linf = 1LL << 50;\nconst double EPS = 1e-10;\nconst int mod = 1000000007;\nconst int dx[4] = {-1, 0, 1, 0};\nconst int dy[4] = {0, -1, 0, 1};\n// io\nstruct fast_io{\n  fast_io(){ios_base::sync_with_stdio(false); cin.tie(nullptr); cout << fixed << setprecision(20);}\n} fast_io_;\n\nll dp[20010][256];\n\nint main(int argc, char const* argv[])\n{\n  int n, m;\n  while(true){\n    cin >> n >> m;\n    if(n == 0 && m == 0)break;\n    vector<ll> c(m); cin >> c;\n    vector<ll> x(n); cin >> x;\n    rep(i, n + 1){\n      rep(j, 256)dp[i][j] = inf;\n    }\n    dp[0][128] = 0;\n    rep(i, n){\n      rep(j, 256){\n        rep(k, m){\n          int l = max(min(255LL, j + c[k]), 0LL);\n          chmin(dp[i+1][l], dp[i][j] + (l-x[i]) * (l-x[i]));\n        }\n      }\n    }\n    ll res = linf;\n    rep(i, 256){\n      chmin(res, dp[n][i]);\n    }\n    cout << res << endl;\n  }\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "////////////////////////////////////////\n///  tu3 pro-con template            ///\n////////////////////////////////////////\n#include <cassert>\n#include <cstdio>\n#include <cstring>\n#include <cmath>\n#include <iostream>\n#include <sstream>\n#include <algorithm>\n#include <numeric>\n#include <functional>\n#include <vector>\n#include <queue>\n#include <string>\n#include <complex>\n#include <stack>\n#include <set>\n#include <map>\n#include <list>\n#include <unordered_map>\n#include <unordered_set>\n#include <bitset>\n#include <regex>\nusing namespace std;\n\n//// MACRO ////\n#define countof(a) (sizeof(a)/sizeof(a[0]))\n\n#define REP(i,n) for (int i = 0; i < (n); i++)\n#define RREP(i,n) for (int i = (n)-1; i >= 0; i--)\n#define FOR(i,s,n) for (int i = (s); i < (n); i++)\n#define RFOR(i,s,n) for (int i = (n)-1; i >= (s); i--)\n#define pos(c,i) c.being() + (i)\n#define allof(c) c.begin(), c.end()\n#define aallof(a) a, countof(a)\n#define partof(c,i,n) c.begin() + (i), c.begin() + (i) + (n)\n#define apartof(a,i,n) a + (i), a + (i) + (n)\n#define long long long\n\n#define EPS 1e-9\n#define INF (1L << 30)\n#define LINF (1LL << 60)\n\n#define PREDICATE(t,a,exp) [&](const t & a) -> bool { return exp; }\n#define COMPARISON_T(t) bool(*)(const t &, const t &)\n#define COMPARISON(t,a,b,exp) [&](const t & a, const t & b) -> bool { return exp; }\n#define CONVERTER(TSrc,t,TDest,exp) [&](const TSrc &t)->TDest { return exp; }\n\ninline int sign(double x) { return (abs(x) < EPS ? 0 : x > 0 ? 1 : -1); }\n\n//// i/o helper ////\n\nstruct _Reader { template <class T> _Reader operator ,(T &rhs) { cin >> rhs; return *this; } };\nstruct _Writer { bool f; _Writer() : f(false) { } template <class T> _Writer operator ,(const T &rhs) { cout << (f ? \" \" : \"\") << rhs; f = true; return *this; } };\n#define READ(t,...) t __VA_ARGS__; _Reader(), __VA_ARGS__\n#define WRITE(...) _Writer(), __VA_ARGS__; cout << endl\n\ntemplate <class T> struct vevector : public vector<vector<T>> { vevector(int n = 0, int m = 0, const T &initial = T()) : vector<vector<T>>(n, vector<T>(m, initial)) { } };\ntemplate <class T> struct vevevector : public vector<vevector<T>> { vevevector(int n = 0, int m = 0, int l = 0, const T &initial = T()) : vector<vevector<T>>(n, vevector<T>(m, l, initial)) { } };\ntemplate <class T> struct vevevevector : public vector<vevevector<T>> { vevevevector(int n = 0, int m = 0, int l = 0, int k = 0, const T &initial = T()) : vector<vevevector<T>>(n, vevevector<T>(m, l, k, initial)) { } };\ntemplate <class T> T read() { T t; cin >> t; return t; }\ntemplate <class T> vector<T> read(int n) { vector<T> v; REP(i, n) { v.push_back(read<T>()); } return v; }\ntemplate <class T> vevector<T> read(int n, int m) { vevector<T> v; REP(i, n) v.push_back(read<T>(m)); return v; }\ntemplate <class T> vevector<T> readjag() { return read<T>(read<int>()); }\ntemplate <class T> vevector<T> readjag(int n) { vevector<T> v; REP(i, n) v.push_back(readjag<T>()); return v; }\n\ntemplate <class T1, class T2> inline istream & operator >> (istream & in, pair<T1, T2> &p) { in >> p.first >> p.second; return in; }\ntemplate <class T1, class T2> inline ostream & operator << (ostream &out, pair<T1, T2> &p) { out << p.first << p.second; return out; }\ntemplate <class T> inline ostream & operator << (ostream &out, vector<T> &v)\n{\n\tostringstream ss;\n\tfor (auto x : v) ss << x << ' ';\n\tauto s = ss.str();\n\tout << s.substr(0, s.length() - 1) << endl;\n\treturn out;\n}\n\n\n//// start up ////\nvoid solve();\nint main()\n{\n\tsolve();\n\treturn 0;\n}\n\n\n////////////////////\n/// template end ///\n////////////////////\n\nvoid solve()\n{\n\tint cases = INF;\n\tREP(_, cases)\n\t{\n\t\tREAD(int, N, M);\n\t\tif (!N) { break; }\n\n\t\tauto C = read<int>(M);\n\t\tauto X = read<int>(N);\n\n\t\tvevector<int> y(N + 1, 256, INF);\n\t\ty[0][128] = 0;\n\t\tREP(i, N)\n\t\t{\n\t\t\tREP(k, 256)\n\t\t\t{\n\t\t\t\tif (y[i][k] == INF) continue;\n\t\t\t\tREP(j, M)\n\t\t\t\t{\n\t\t\t\t\tint v = min(max(k + C[j], 0), 255);\n\t\t\t\t\tint d = v - X[i];\n\t\t\t\t\ty[i + 1][v] = min(y[i + 1][v], y[i][k] + d * d);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tWRITE(*min_element(allof(y[N])));\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define inf 1e9\n#define ll long long\n#define ull unsigned long long\n#define M 1000000007\n#define P pair<int,int>\n#define PLL pair<ll,ll>\n#define FOR(i,m,n) for(int i=m;i<n;i++)\n#define RFOR(i,m,n) for(int i=m;i>=n;i--)\n#define rep(i,n) FOR(i,0,n)\n#define rrep(i,n) RFOR(i,n,0)\n#define all(a) a.begin(),a.end()\nconst int vx[4] = {0,1,0,-1};\nconst int vy[4] = {1,0,-1,0};\n#define PI 3.14159265\n\n\n\nvoid f(int n,int m){\n  int c[1000000];\n  \n  rep(i,m){\n    cin>>c[i];\n  }\n\n  int dp[20][300]={};\n  rep(i,20){\n    rep(j,300){\n      dp[i][j]=inf;\n    }\n  }\n\n  dp[0][128]=0;\n\n  FOR(i,1,n+1){\n    int x;\n    cin>>x;\n    rep(j,256){\n      rep(k,m){\n        int a = j+c[k];\n        a = min(a,255);\n        a = max(a,0);\n        dp[i][a]=min(dp[i][a],dp[i-1][j]+(x-a)*(x-a));\n      }\n    }\n  }\n  int ans = inf;\n  rep(i,256){\n    ans = min(ans,dp[n][i]);\n  }\n\n  cout<<ans<<endl;\n}\n\n\nint main(){\n  int n,m;\n  while(1){\n    cin>>n>>m;\n    if(n==0) break;\n    f(n,m);\n  }\n\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#pragma GCC optimize(\"Ofast\")\n#include <bits/stdc++.h>\nusing namespace std;\n\n#define INF 1LL << 61\n#define MAX (1LL << 31) -1\n#define MOD 1000000007\n\ntypedef long long ll;\ntypedef pair<int,int> pi;\n//typedef pair<pair<int,int>,ll> p;\n#define bit(n, k) ((n >> k) & 1) /*nのk bit目*/\n#define rad_to_deg(rad) (((rad) / 2 / M_PI) * 360)\ntemplate<class T,class U>bool inline chmin(T&a,const U&b){if(a<=b)return false;a=b;return true;}\ntemplate<class T,class U>bool inline chmax(T&a,const U&b){if(a>=b)return false;a=b;return true;}\n//__builtin_popcount(S);\n//C.erase(unique(C.begin(),C.end()),C.end());\n//#define int ll\nint dx[]={1,-1,0,0},dy[]={0,0,-1,1};\n\nsigned main(){\n    while(true){\n        int N,M;\n        cin>>N>>M;\n        if(N==0 && M==0) return 0;\n\n        vector<int> C(M);\n        for(int i=0;i<M;i++) cin>>C[i];\n        vector<int> x(N);\n        for(int i=0;i<N;i++) cin>>x[i];\n        vector<vector<ll>> dp(N+1,vector<ll>(256,INF));\n        dp[0][128]=0;\n        for(int i=0;i<N;i++){\n            for(int j=0;j<256;j++){\n                if(dp[i][j]==INF) continue;\n                for(int k=0;k<M;k++){\n                    int jj=j+C[k];\n                    if(jj<0) jj=0;\n                    else if(jj>255) jj=255;\n                    chmin(dp[i+1][jj],dp[i][j]+(ll)(x[i]-jj)*(x[i]-jj));\n                }\n            }\n        }\n        ll ans=INF;\n        for(int i=0;i<256;i++){\n            chmin(ans,dp[N][i]);\n        }\n        cout<<ans<<endl;\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include \"algorithm\"\n#include \"cmath\"\n#include \"iostream\"\n#include \"map\"\n#include \"string\"\n#include \"unordered_map\"\n#include \"vector\"\n\nconstexpr int MOD           = 1e9 + 7;\nconstexpr int long long INF = 1e18;\nusing namespace std;\n\nint long long dp[20000 + 10][256];\nint C[16], X[20000 + 10];\nint main() {\n  int N, M;\n  cin >> N >> M;\n  while (N != 0 || M != 0) {\n    for (auto &i : dp) {\n      for (auto &j : i) {\n        j = INF;\n      }\n    }\n    for (int i = 0; i < M; i++) {\n      cin >> C[i];\n    }\n    for (int i = 0; i < N; i++) {\n      cin >> X[i];\n    }\n    dp[0][128] = 0;\n    for (int i = 0; i < N; i++) {\n      for (int j = 0; j < 256; j++) {\n        for (int k = 0; k < M; k++) {\n          if (j + C[k] < 0) {\n            dp[i + 1][0] = min(dp[i + 1][0], dp[i][j] + X[i] * X[i]);\n          } else if (j + C[k] > 255) {\n            dp[i + 1][255] = min(dp[i + 1][255], dp[i][j] + (X[i] - 255) * (X[i] - 255));\n          } else {\n            dp[i + 1][j + C[k]] = min(dp[i + 1][j + C[k]], dp[i][j] + (X[i] - (j + C[k])) * (X[i] - (j + C[k])));\n          }\n        }\n      }\n    }\n    cout << *min_element(dp[N], dp[N] + 256) << endl;\n    cin >> N >> M;\n  }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cmath>\n#include <vector>\n#include <map>\n#include <stack>\n#include <queue>\n#include <algorithm>\n#include <set>\n\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define REP(i,j) FOR(i,0,j)\n#define mp std::make_pair\n\nconst int INF = 1310720000;\nconst int dx[8] = {0, 0, 1, -1, 1, 1, -1, -1}, dy[8] = {1, -1, 0, 0, 1, -1, 1, -1};\n\ntypedef unsigned long long ull;\ntypedef std::pair<int,int> P;\n\nint N, M;\nint C[16], X[20001];\nint dp[20001][256];\n\nint main(){\n    while(std::cin >> N >> M, N){\n        REP(i, M){\n            std::cin >> C[i];\n        }\n    \n        FOR(i, 1, N+1){\n            std::cin >> X[i];\n        }\n\n        REP(i, N+1){\n            REP(y, 256){\n                dp[i][y] = INF;\n            }\n        }\n        dp[0][128] = 0;\n\n        REP(i, N){\n            REP(y, 256){\n                REP(j, M){\n                    int ny = y+C[j];\n                    ny = std::max(ny, 0);\n                    ny = std::min(ny, 255);\n\n                    dp[i+1][ny] = std::min(dp[i+1][ny], dp[i][y] + (X[i+1]-ny) * (X[i+1]-ny));\n                }\n            }\n        }\n\n        // FOR(i, 1, N+1){\n        //     REP(y, 256){\n        //         printf(\"%d, \", dp[i][y]);\n        //     }\n        //     puts(\"\");\n        // }\n\n        //printf(\"%d\\n\", dp[2][136]);\n\n        int min_sum = INF;\n        REP(i, 256){\n            min_sum = std::min(min_sum, dp[N][i]);\n        }\n\n        std::cout << min_sum << std::endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "//Yattazo! Watashiha-Yosen-tsuukashita! It's 460points/600points! OHO!!!!!\n#include<iostream>\n#include<algorithm>\n#include<cmath>\nusing namespace std;\nint x[65600][260],n,m,y[65600],z[65600],d,minx;\nint main(){\n\twhile(true){\n\t\tminx=2000000000;\n\t\tfor(int i=0;i<65536;i++){for(int j=0;j<256;j++){x[i][j]=2000000000;}}\n\t\tcin>>n>>m;if(!n){break;}\n\t\tfor(int i=0;i<m;i++){cin>>y[i];}\n\t\tfor(int i=1;i<=n;i++){cin>>z[i];}\n\t\tx[0][128]=0;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tfor(int j=0;j<256;j++){\n\t\t\t\tif(x[i-1][j]<1000000000){\n\t\t\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\t\t\td=y[k]+j;\n\t\t\t\t\t\tif(d<0){d=0;}\n\t\t\t\t\t\tif(d>255){d=255;}\n\t\t\t\t\t\tx[i][d]=min(x[i][d],x[i-1][j]+(int)pow(1.0*(z[i]-d),2));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor(int i=0;i<256;i++){minx=min(minx,x[n][i]);}\n\t\tcout<<minx<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include \"iostream\"\n#include \"climits\"\n#include \"list\"\n#include \"queue\"\n#include \"stack\"\n#include \"set\"\n#include \"functional\"\n#include \"algorithm\"\n#include \"string\"\n#include \"map\"\n#include \"unordered_map\"\n#include \"unordered_set\"\n#include \"iomanip\"\n#include \"cmath\"\n#include \"random\"\n#include \"bitset\"\n#include \"cstdio\"\n\nusing namespace std;\n\nconst long long int MOD = 1000000007;\n\n\nlong long int N, M, K, H, W, L, R;\n\nint main() {\n\tios::sync_with_stdio(false);\n\tcin.tie(0);\n\n\tvector<string>ans;\n\tcin >> N >> M;\n\twhile (N) {\n\t\tvector<int>v(N + 1);\n\t\tvector<int>s(M);\n\t\tfor (int i = 0; i < M; i++) {\n\t\t\tcin >> s[i];\n\t\t}\n\t\tfor (int i = 1; i <= N; i++) {\n\t\t\tcin >> v[i];\n\t\t}\n\t\tvector<vector<int>>dp(N + 1, vector<int>(256, MOD));\n\t\tdp[0][128] = 0;\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\tfor (int j = 0; j < 256; j++) {\n\t\t\t\tfor (auto k : s) {\n\t\t\t\t\tint nx = min(255, max(j + k, 0));\n\t\t\t\t\tdp[i + 1][nx] = min(dp[i + 1][nx], dp[i][j] + abs(nx - v[i + 1])*abs(nx - v[i + 1]));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = MOD;\n\t\tfor (int i = 0; i < 256; i++) {\n\t\t\tans = min(ans, dp[N][i]);\n\t\t}\n\t\tcout << ans << endl;\n\t\tcin >> N >> M;\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "//55\n#include<iostream>\n#include<algorithm>\n\nusing namespace std;\n\nint main(){\n  for(int n,m;cin>>n>>m,n|m;){\n    int c[16];\n    for(int i=0;i<m;i++){\n      cin>>c[i];\n    }\n    static int ls[20001][256];\n    fill(ls[0],ls[20001],1<<30);\n    ls[0][128]=0;\n    for(int i=0;i<n;i++){\n      int x;\n      cin>>x;\n      for(int j=0;j<256;j++){\n\tfor(int k=0;k<m;k++){\n\t  int n=min(255,max(0,j+c[k]));\n\t  ls[i+1][n]=min(ls[i+1][n],ls[i][j]+(x-n)*(x-n));\n\t}\n      }\n    }\n    cout<<*min_element(ls[n],ls[n+1])<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define _sel(_1, _2, x, ...) x\n#define repn(i, n) for (ll i = 0; i < (n); i++)\n#define reps(i, a, b) for (ll i = (a); i < (b); i++)\n#define rep(i, ...) _sel(__VA_ARGS__, reps, repn)(i, __VA_ARGS__)\n#define reppn(i, n) for (ll i = 1; i <= (n); i++)\n#define repps(i, a, b) for (ll i = (a); i <= (b); i++)\n#define repp(i, ...) _sel(__VA_ARGS__, repps, reppn)(i, __VA_ARGS__)\n#define rrepn(i, n) for (ll i = (n) - 1; i >= 0; i--)\n#define rreps(i, a, b) for (ll i = (b) - 1; i >= (a); i--)\n#define rrep(i, ...) _sel(__VA_ARGS__, rreps, rrepn)(i, __VA_ARGS__)\n#define rreppn(i, n) for (ll i = (n); i >= 1; i--)\n#define rrepps(i, a, b) for (ll i = (b); i >= (a); i--)\n#define rrepp(i, ...) _sel(__VA_ARGS__, rrepps, rreppn)(i, __VA_ARGS__)\n\n#define pb push_back\n#define mp make_pair\n#define mt make_tuple\n#define fi first\n#define se second\n#define rng(v) (v).begin(), (v).end()\n#define rrng(v) (v).rbegin(), (v).rend()\n#define _shwv(v) for (auto _t1 : v) cerr << _t1 << \" \"; cerr << endl;\n#define dbg(x) cerr << #x << \": \" << (x) << endl;\n#define dbgv(v) cerr << #v << \": \"; _shwv(v);\n#define dbgm(m) cerr << #m << \":\" << endl; for (auto _t2 : m) { _shwv(_t2); }\n\nusing namespace std;\nusing ll = long long int;\nusing ld = long double;\nusing pii = pair<int, int>;\nusing vi = vector<int>;\nusing vl = vector<ll>;\nusing vb = vector<bool>;\nusing vc = vector<char>;\nusing vs = vector<string>;\nusing vvi = vector<vector<int>>;\nusing vvl = vector<vector<ll>>;\nusing vvb = vector<vector<bool>>;\nusing vvc = vector<vector<char>>;\nusing vvs = vector<vector<string>>;\n\nconst int INF = 1e9;\nconst ll LINF = 1e18;\nconst ll MOD = 1e9 + 7;\nconst int DX[4] = {1, 0, -1, 0};\nconst int DY[4] = {0, 1, 0, -1};\n\ntemplate<typename T> inline void prt(T x) { cout << x << endl; }\ntemplate<typename T> inline void getv(T& v) { for (auto& t : v) cin >> t; }\ntemplate<typename T> inline int siz(T& x) { return x.size(); }\ntemplate<typename T> inline ll pow2(T n) { return 1ll << n; }\ntemplate<typename T, typename U> inline int bit(T x, U n) { return x >> n & 1; }\ntemplate<typename T, typename U>\ninline bool umax(T& m, U x) { if (m < x) { m = x; return true; } return false; }\ntemplate<typename T, typename U>\ninline bool umin(T& m, U x) { if (m > x) { m = x; return true; } return false; }\n\n\nint main() {\n    while (true) {\n        int n, m; cin >> n >> m;\n        if (n == 0 && m == 0) break;\n        vi c(m); getv(c);\n        vi x(n); getv(x);\n        vvi dp(n + 1, vi(256, INF));\n        dp[0][128] = 0;\n        rep(i, n) {\n            rep(j, 256) {\n                if (dp[i][j] == INF) continue;\n                rep(k, m) {\n                    int t = j + c[k];\n                    if (t < 0) t = 0;\n                    if (t > 255) t = 255;\n                    umin(dp[i + 1][t], dp[i][j] + pow(x[i] - t, 2));\n                }\n            }\n        }\n        int ans = INF;\n        rep(i, 256) umin(ans, dp[n][i]);\n        prt(ans);\n    }\n\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define FOR(i,s,t) for(int i = s; i < t ; i++)\nusing LL = long long; using VL = vector<LL>;\ntemplate<class T> using V = vector<T>; template<class T> using VV = V<V<T>>;\nconst LL LINF = 1e18;\n\nLL dist[20004][260];\ninline int cha(int s) {\n\tif (s >= 255)return 255;\n\tif (s <= 0)return 0;\n\treturn s;\n}\ninline LL cost(int y,int x) {\n\treturn (y - x)*(y - x);\n}\nvoid init() {\n\tfill(*dist, *dist + 20004 * 260, LINF);\n}\nvoid solve() {\n\tint N, M;\n\twhile (cin >> N >> M, N) {\n\t\tinit();\n\t\tV<int> c(M);\n\t\tFOR(i, 0, M) {\n\t\t\tcin >> c[i];\n\t\t}\n\t\tV<int>x(N);\n\t\tFOR(i, 0, N) {\n\t\t\tcin >> x[i];\n\t\t}\n\t\t// dpとかdijkstraっぽく\n\t\tdist[0][128] = 0;\n\t\tFOR(i, 0, N) {\n\t\t\tFOR(j, 0, M) {\n\t\t\t\tFOR(p, 0, 260) {\n\t\t\t\t\tdist[i + 1][cha(p + c[j])] = min(\n\t\t\t\t\t\tdist[i + 1][cha(p + c[j])],\n\t\t\t\t\t\tdist[i][cha(p)] + cost(x[i] , cha(p+c[j])));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tLL ans = LINF;\n\t\tFOR(i, 0, 260) {\n\t\t\tans = min(ans, dist[N][i]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\t\n\n\n}\n\nint main() {\n\tcin.tie(0);\n\tios_base::sync_with_stdio(false);\n\n\tsolve();\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define For(i, a, b) for(int (i)=(int)(a); (i)<(int)(b); ++(i))\n#define rFor(i, a, b) for(int (i)=(int)(a)-1; (i)>=(int)(b); --(i))\n#define rep(i, n) For((i), 0, (n))\n#define rrep(i, n) rFor((i), (n), 0)\n#define fi first\n#define se second\nusing namespace std;\ntypedef long long lint;\ntypedef unsigned long long ulint;\ntypedef pair<int, int> pii;\ntypedef pair<int, lint> pil;\ntypedef pair<lint, lint> pll;\ntemplate<class T> bool chmax(T &a, const T &b){if(a<b){a=b; return true;} return false;}\ntemplate<class T> bool chmin(T &a, const T &b){if(a>b){a=b; return true;} return false;}\ntemplate<class T> T div_floor(const T a, const T b){return a>=0 ? a/b : (a+1)/b-1;}\ntemplate<class T> T div_ceil(const T a, const T b){return a>=0 ? (a-1)/b+1 : a/b;}\n\nconstexpr lint mod = 1e9+7;\nconstexpr lint INF = mod*mod;\nconstexpr int MAX = 100010;\n\nint main(){\n    int n, m;\n    while(scanf(\"%d%d\", &n, &m) && n){\n        int c[m];\n        lint x[n+1];\n        rep(i, m) scanf(\"%d\", &c[i]);\n        rep(i, n) scanf(\"%lld\", &x[i+1]);\n        lint dp[n+1][256];\n        rep(i, n+1)rep(j, 256) dp[i][j] = INF;\n        dp[0][128] = 0;\n        rep(i, n)rep(j, 256)if(dp[i][j] < INF){\n            rep(k, m){\n                int y = min(255, max(0, j + c[k]));\n                chmin(dp[i+1][y], dp[i][j] + (y-x[i+1])*(y-x[i+1]));\n            }\n        }\n        lint ans = INF;\n        rep(j, 256) chmin(ans, dp[n][j]);\n        printf(\"%lld\\n\", ans);\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <iostream>\n#include <utility>\n#include <cmath>\n\nusing namespace std;\n\nconst long long INF = 1e15;\nconst long long Y = 128;\nint main(){\n\tlong long n,m;\n\twhile(cin>>n>>m,n){\n\t\tvector<long long> cod(m),signal(n+1);\n\t\tvector<vector<pair<long long,long long>>> dp(n+1,vector<pair<long long,long long>>(m,make_pair(INF,INF)));\n\t\tdouble ave_signal = 0;\n\t\tfor(int i=0;i<m;i++){//code input\n\t\t\tcin >> cod[i];\n\t\t}\n\t\tfor(int i=1;i<n+1;i++){//signal input\n\t\t\tcin >> signal[i];\n\t\t\tave_signal += signal[i];\n\t\t}\n\t\tave_signal /= n;\n\t\t\n\t\tfor(int i=0;i<m;i++){//?????????input\n\t\t\tdp[0][i].first = Y;\n\t\t\tdp[0][i].second = 0;\n\t\t\t//cout << \"(\" << dp[0][i].first << \", \" << dp[0][i].second << \")\";\n\t\t}\n\t\t\t//cout << endl;\n\n\t\tfor(int i=1;i<n+1;i++){//dp\n\t\t\tfor(int j=0;j<m;j++){//??\\????????±???\n\t\t\t\tint min_line = ave_signal;\n\t\t\t\tint max_line = signal[i];\n\t\t\t\tif(ave_signal > signal[i]) swap(min_line,max_line); \n\t\t\t\t\tbool is_bad = true;\n\t\t\t\tfor(int k=0;k<m;k++){//?????¶??±\n\t\t\t\t\tint tmp_signal = dp[i-1][k].first + cod[j];\n\t\t\t\t\tif(tmp_signal>255)tmp_signal = 255;\n\t\t\t\t\telse if(tmp_signal<0)tmp_signal = 0;\n\n\t\t\t\t\t\tif(dp[i-1][k].second + (signal[i]  - tmp_signal)*(signal[i]  - tmp_signal) < dp[i][j].second){\n\t\t\t\t\t\t\tis_bad = false;\n\t\t\t\t\t\t\tdp[i][j].second = dp[i-1][k].second + (signal[i]  - tmp_signal)*(signal[i]  - tmp_signal);\n\t\t\t\t\t\t\tdp[i][j].first = tmp_signal;\n\t\t\t\t\t\t\n\t\t\t\t\t}else if(is_bad){\n\t\t\t\t\t\tdp[i][j].second = dp[i-1][k].second + (signal[i]  - tmp_signal)*(signal[i]  - tmp_signal);\n\t\t\t\t\t\tdp[i][j].first = tmp_signal;\n\t\t\t\t\t}\n\t\t\t\t}\n//\t\t\t\tcout << \"(\" << dp[i][j].first << \", \" << dp[i][j].second << \")\";\n\t\t\t}\n\t\t\t//cout << endl;\n\t\t}\n\t\tlong long ans = INF;\n\t\tfor(int i=0;i<m;i++)\n\t\t\tans = min(ans,dp[n][i].second);\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <cmath>\n#define INF INT32_MAX\n\nusing namespace std;\n\nint main(void) {\n\tcout << INF << endl;\n\tint N,M;\n\twhile (cin >> N >> M, N) {\n\t\tvector<int> C(M);\n\t\tfor (int i = 0; i < M; ++i) {\n\t\t\tcin >> C[i];\n\t\t}\n\t\tvector<int> x(N);\n\t\tfor (int i = 0; i < N; ++i) {\n\t\t\tcin >> x[i];\n\t\t}\n\n\t\tvector< vector<int> > dp(256,vector<int>(N+1));\n\t\tfor (int i = 0; i < 256; ++i) {\n\t\t\tfor (int j = 0; j < N+1; ++j) {\n\t\t\t\tdp[i][j] = INF;\n\t\t\t}\n\t\t}\n\t\tdp[128][0] = 0;\n\n\t\tfor (int j = 0; j < N; ++j) {\n\t\t\tfor (int i = 0; i < 256; ++i) {\n\t\t\t\tif (dp[i][j] != INF) {\n\t\t\t\t\tfor (int k = 0; k < M; ++k) {\n\t\t\t\t\t\tif (C[k]+i > 255) {\n\t\t\t\t\t\t\tdp[255][j+1] = min(dp[255][j+1],dp[i][j]+(int)pow(x[j]-255,2));\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (C[k]+i < 0) {\n\t\t\t\t\t\t\tdp[0][j+1] = min(dp[0][j+1],dp[i][j]+(int)pow(x[j]-0,2));\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tdp[C[k]+i][j+1] = min(dp[C[k]+i][j+1],dp[i][j]+(int)pow(x[j]-C[k]-i,2));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tint res = INF;\n\t\tfor (int i = 0; i < 256; ++i) {\n\t\t\tif (dp[i][N] < res) {\n\t\t\t\tres = dp[i][N];\n\t\t\t}\n\t\t}\n\t\tcout << res << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string.h>\n#include <algorithm>\n\n#define N 50000\n#define M 20\n#define lengthof(x) (sizeof(x)/sizeof(*(x)))\n\nint c[M];\nint sum[256];\nint bsum[256];\n\nusing namespace std;\n\nint main(void)\n{\n\tint n,m;\n\tint x;\n\tint i1,i2,i3;\n\tint minn;\n\tint temp;\n\n\twhile(1){\n\t\tcin>>n>>m;\n\t\tif(n+m==0) break;\n\n\t\tmemset(bsum,-1,sizeof(bsum));\n\t\tbsum[128]=0;\n\n\t\tfor(i1=0;i1<m;i1++){\n\t\t\tcin>>c[i1];\n\t\t}\n\n\t\tfor(i1=0;i1<n;i1++){\n\t\t\tcin>>x;\n\t\t\tfill((int*)sum,(int*)(sum+lengthof(sum)),INT_MAX);\n\t\t\tfor(i2=0;i2<256;i2++){\n\t\t\t\tif(bsum[i2]!=-1){\n\t\t\t\t\tfor(i3=0;i3<m;i3++){\n\t\t\t\t\t\ttemp=i2+c[i3];\n\t\t\t\t\t\tif(temp<0) temp=0;\n\t\t\t\t\t\tif(255<temp) temp=255;\n\n\t\t\t\t\t\tsum[temp]=min(sum[temp],bsum[i2]+(temp-x)*(temp-x));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor(i2=0;i2<256;i2++){\n\t\t\t\tif(sum[i2]<INT_MAX) bsum[i2]=sum[i2];\n\t\t\t\telse bsum[i2]=-1;\n\t\t\t}\n\t\t}\n\n\t\tminn=sum[0];\n\t\tfor(i1=0;i1<256;i1++){\n\t\t\tif(minn>sum[i1]) minn=sum[i1];\n\t\t}\n\n\t\tcout<<minn<<endl;\n\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n\nusing namespace std;\n\nconst int INF = 1<<29;\n\nint main(){\n  int n, m;\n  while(cin >> n >> m && (n|m)){\n    vector<int> C(m);\n    for(int i=0; i<m; i++) cin >> C[i];\n    \n    vector<int> dp(256, INF);\n    dp[128] = 0;\n    while(n--) {\n      vector<int> next(256, INF);\n      int in; cin >> in;\n      for(int i=0; i<256; i++){\n\tif(dp[i] < INF) {\n\t  for(int j=0; j<m; j++){\n\t    int conv = i + C[j];\n\t    if(conv < 0)   { conv = 0;   }\n\t    if(conv > 255) { conv = 255; }\n\t    int diff = (in - conv) * (in - conv);\n\t    next[conv] = min(next[conv], dp[i] + diff );\n\t  }\n\t}\n      }\n      dp = next;\n    }\n    \n    cout << *min_element(dp.begin(), dp.end()) << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <limits.h>\n#include <math.h>\n#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n\n#include <algorithm>\n#include <cassert>\n#include <cfloat>\n#include <complex>\n#include <functional>\n#include <iostream>\n#include <map>\n#include <queue>\n#include <set>\n#include <stack>\n#include <string>\n#include <unordered_map>\n#include <vector>\n\nusing namespace std;\n\n#define chmax(x, y) x = max(x, y)\n#define chmin(x, y) x = min(x, y)\n#define rep(i, n) for (ll i = 0; i < (n); ++i)\n#define Sort(v) sort(v.begin(), v.end())\n#define Reverse(v) reverse(v.begin(), v.end())\n#define Lower_bound(v, x) \\\n  distance(v.begin(), lower_bound(v.begin(), v.end(), x))\n#define Upper_bound(v, x) \\\n  distance(v.begin(), upper_bound(v.begin(), v.end(), x))\n\nusing ll = long long;\nusing ull = unsigned long long;\nusing P = pair<ll, ll>;\nusing T = tuple<ll, ll, ll>;\nusing vll = vector<ll>;\nusing vP = vector<P>;\nusing vT = vector<T>;\nusing vvll = vector<vector<ll>>;\nusing vvP = vector<vector<P>>;\nusing dqll = deque<ll>;\n\nll dx[9] = {-1, 1, 0, 0, -1, -1, 1, 1, 0};\nll dy[9] = {0, 0, -1, 1, -1, 1, -1, 1, 0};\n\nconst ll INF = 1LL << 50;\n\nconst ll mod = 1e9 + 7;\n\nint main() {\n  while (true) {\n    ll n, m;\n    cin >> n >> m;\n    if (n == 0 && m == 0) break;\n\n    vll cs(m);\n    rep(i, m) cin >> cs[i];\n    vll xs(n);\n    rep(i, n) cin >> xs[i];\n\n    auto dis = [](ll x, ll y) { return (x - y) * (x - y); };\n\n    vvll dp(n + 1, vll(256, INF));\n    dp[0][128] = 0;\n    rep(i, n){\n      rep(j, 256){\n        rep(k, m) { ll nj = j + cs[k];\n          chmin(nj, 255LL);\n          chmax(nj, 0LL);\n          ll cst = dis(nj, xs[i]);\n          chmin(dp[i + 1][nj], dp[i][j] + cst);\n        }  // k\n      } // j\n    } // i\n    ll ans = INF;\n    rep(j, 256) chmin(ans, dp[n][j]);\n    cout << ans << endl;\n  }  // while\n\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main(void){\n\tint n, m;\n\twhile(1){\n\t\tcin >> n >> m;\n\t\tif(!n&&!m) break;\n\t\tvector<int> c(m), x(n);\n\t\tfor(int i = 0; i < m; ++i){\n\t\t\tcin >> c[i];\n\t\t}\n\t\tfor(int i = 0; i < n; ++i){\n\t\t\tcin >> x[i];\n\t\t}\n\t\tvector<vector <int>> dp(n+2);\n\t\tfor(int i = 0; i < n+2; ++i){\n\t\t\tdp[i].resize(256);\n\t\t\tfor(int j = 0; j < 256; ++j){\n\t\t\t\tdp[i][j] = INT_MAX;\n\t\t\t}\n\t\t}\n\t\tdp[0][128]=0;\n\t\tfor(int i = 1; i <= n; ++i){\n\t\t\tfor(int j = 0; j < m; ++j){\n\t\t\t\tfor(int k = 0; k < 256; ++k){\n\t\t\t\t\tif(dp[i-1][k]==INT_MAX) continue;\n\t\t\t\t\tint next = k+c[j];\n\t\t\t\t\tif(next > 255) next = 255;\n\t\t\t\t\tif(next < 0) next = 0;\n\t\t\t\t\tdp[i][next] = min(dp[i][next], dp[i-1][k] + (int)pow(x[i-1]-next,2));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = INT_MAX;\n\t\tfor(int i = 0; i < 256; ++i){\n\t\t\tans = min(ans, dp[n][i]);\n\t\t\t//cout << dp[n][i] << \" \";\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\nusing namespace std;\n\n#define rep(i,n) for(int i=0;i<(n);++i)\n#define out(S) cout<<(S)<<endl;\n#define ShowAll(collection) for(auto i:collection){out(i);}\n#define beginend(v) v.begin(),v.end()\n#define Foreach(item,collection) for(auto item : collection)\n\nusing pii=pair<int,int>;\nusing vb=vector<bool>;\nusing ll=long long;\nusing ull=unsigned long long;\nusing vi=vector<int>;\nusing vvi=vector<vi>;\nusing vvc=vector<vector<char>>;\nusing ti3=tuple<int,int,int>;\ntemplate<typename T> void removeAt(vector<T>& v, int index) { v.erase(v.begin() + index); }\n#define OCB(c) (c&1)|(c&2)<<2|(c&4)<<4|(c&8)<<6|(c&16)<<8|(c&32)<<10|(c&64)<<12|(c&128)<<14\n\nint dp[20001][256]; //dp[i][j]=i番目のサンプルをjにできる最小の差分\n\nint solve(int n, int m){\n  vi c(m,0),x(n,0);\n  rep(i,m) cin>>c[i];\n  rep(i,n) cin>>x[i];\n\n  rep(i,n+1)rep(j,256) dp[i][j]=INT_MAX; \n  dp[0][128]=0;\n\n  rep(i,n) rep(j,256) {\n    if(dp[i][j]==INT_MAX) continue;\n    Foreach(item,c){\n      auto yi=j+item;\n      if(yi<0) yi=0;\n      if(yi>255) yi=255;\n      auto diff=x[i]-yi;\n      diff=diff*diff;\n      dp[i+1][yi]=min(dp[i+1][yi],dp[i][j]+diff);\n    }\n  }\n\n  return *min_element(dp[n],dp[n]+256);\n}\n\nint main(){\n  int n,m;\n  while(cin>>n>>m,n|m){\n    out(solve(n,m));\n  }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <utility>\n#include <cstring>\n#include <cmath>\n#include <queue>\nusing namespace std;\n\n#define rep(i,n) for(int i=0; i<n; i++)\n#define FOR(i,s,n) for(int i=s; i<n; i++)\n#define ALL(x) x.begin(), x.end()\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> pii;\ntypedef vector<int> vi;\n\nstruct node {\n\tint cost;\n\tint ind;\n\tint val;\n\tnode(int c, int i, int v) {\n\t\tcost = c;\n\t\tind = i;\n\t\tval = v;\n\t}\n};\n\nbool checked[20001][256];\n\nbool operator<(const node& lhs, const node& rhs) {\n\tif( lhs.cost == rhs.cost ) {\n\t\treturn lhs.ind < rhs.ind;\n\t}\n\treturn lhs.cost > rhs.cost;\n}\n\nint main() {\n\tint n, m;\n\twhile(cin >> n >> m, n || m) {\n\t\tmemset(checked, 0, sizeof(checked));\n\t\tvector<int> c(m+1), x(n+1);\n\t\trep(i,m) cin >> c[i];\n\t\trep(i,n) cin >> x[i];\n\t\tpriority_queue<node> que;\n\t\tque.push(node(0, 0, 128));\n\t\twhile(!que.empty()) {\n\t\t\tnode nd = que.top();\n\t\t\tque.pop();\n\t\t\tif( checked[nd.ind][nd.val] ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tchecked[nd.ind][nd.val] = true;\n\t\t\tif( nd.ind == n ) {\n\t\t\t\tcout << nd.cost << endl;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\trep(i, m) {\n\t\t\t\tint nval = min(max(nd.val+c[i], 0), 255);\n\t\t\t\tque.push(node(nd.cost+(x[nd.ind]-nval)*(x[nd.ind]-nval), nd.ind+1, nval));\n\t\t\t}\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "\n#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <climits>\n#include <cfloat>\n#include <cstring>\n#include <map>\n#include <utility>\n#include <set>\n#include <iostream>\n#include <memory>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <functional>\n#include <sstream>\n#include <complex>\n#include <stack>\n#include <queue>\n#include <unordered_set>\n#include <unordered_map>\n#include <array>\nusing namespace std;\n\nconst int INF = 1087654321;\n\nint main(void)\n{\n\tfor (;;)\n\t{\n\t\tint n, m;\n\t\tcin >> n >> m;\n\t\tif (!n)break;\n\t\tvector<int>c;\n\t\tfor (int i = 0; i < m; ++i)\n\t\t{\n\t\t\tint cc; cin >> cc;\n\t\t\tc.push_back(cc);\n\t\t}\n\t\tarray<int, 256>dp;\n\t\tfill(dp.begin(), dp.end(), INF);\n\t\tdp[128] = 0;\n\t\tfor (int i = 1; i <= n; ++i)\n\t\t{\n\t\t\tarray<int, 256>ndp;\n\t\t\tfill(ndp.begin(), ndp.end(), INF);\n\t\t\tint x;\n\t\t\tcin >> x;\n\t\t\tfor (int val = 0; val < 256; ++val)\n\t\t\t{\n\t\t\t\t/*\n\t\t\t\tif (val == 0)\n\t\t\t\t{\n\t\t\t\t\tint gap = -1;\n\t\t\t\t\tfor (int ck : c)gap = max(gap, -ck);\n\t\t\t\t\tfor (int old = 0; old <= gap; ++old)\n\t\t\t\t\t{\n\t\t\t\t\t\tndp[val] = min(ndp[val], dp[old]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (val == 255)\n\t\t\t\t{\n\t\t\t\t\tint gap = -1;\n\t\t\t\t\tfor (int ck : c)gap = max(gap, ck);\n\t\t\t\t\tfor (int old = 255 - gap; old < 256; ++old)\n\t\t\t\t\t{\n\t\t\t\t\t\tndp[val] = min(ndp[val], dp[old]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t//*/\n\t\t\t\tfor (int ck : c)\n\t\t\t\t{\n\t\t\t\t\t/*\n\t\t\t\t\tint old = val - ck;\n\t\t\t\t\tif (old < 0)old = 0;\n\t\t\t\t\tif (old >= 256)old = 255;\n\t\t\t\t\tndp[val] = min(ndp[val], dp[old]);\n\t\t\t\t\t//*/\n\t\t\t\t\tndp[min(255, max(val + ck, 0))] = min(ndp[min(255, max(val + ck, 0))], dp[val]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (int i = 0; i < 256; ++i)\n\t\t\t{\n\t\t\t\tdp[i] = ndp[i] + (x - i) * (x - i);\n\t\t\t}\n\t\t}\n\t\tint ans = INF;\n\t\tfor (int can : dp)\n\t\t{\n\t\t\tans = min(ans, can);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <stdio.h>\n#include <string>\n#include <vector>\n#include <set>\n#include <cmath>\n#include <algorithm>\n#include <cstdio>\n#include <queue>\n#include <map>\n#include <climits>\nusing namespace std;\n#define mod (1000000007)\n#define ll long long int\n\nint main(void){\n  while(true){\n    int N,M;\n    cin >> N >> M;\n    if(N==0){\n      break;\n    }\n\n    vector<int> cc,xx;\n    ll tmp;\n    for (size_t i = 0; i < M; i++) {\n      cin >> tmp;\n      cc.push_back(tmp);\n    }\n    for (size_t i = 0; i < N; i++) {\n      cin >> tmp;\n      xx.push_back(tmp);\n    }\n\n    vector<vector<ll>> dp;\n    dp.assign(N+1, vector<ll>(256, LLONG_MAX/100));\n    dp[0][128] = 0;\n\n    for (int i = 0; i < N; i++){\n      for (int k = 0; k <= 255 ; k++){\n        for (int c: cc){\n          if(k+c>=255){\n            tmp = 255;\n          }else if(k+c <=0){\n            tmp = 0;\n          }else{\n            tmp = k+c;\n          }\n          //cout << dp[i][k] << ',' << k+c << endl;\n          dp[i+1][tmp] = min(dp[i+1][tmp],dp[i][k] + (tmp-xx[i])*(tmp-xx[i]));\n        }\n        //cout << dp[i][k] << endl;\n      }\n    }\n\n    ll ans = LLONG_MAX;\n    for(auto t: dp[N]){\n      ans = min(ans,t);\n    }\n\n    cout << ans << endl;\n  }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<utility>\n#include<complex>\n\n#define INF (1 << 29)\n\nusing namespace std;\n\nint main()\n{\n    int N, M;\n    while(cin >> N >> M, (N))\n    {\n\n        vector<int> in_C(M);\n        for(auto& _c : in_C)\n        {\n            cin >> _c;\n        }\n\n        vector<int> in_X(N);\n        for(auto& _x : in_X)\n        {\n            cin >> _x;\n        }\n        exit(514);\n\n        pair<int, int> dp[20000][16];\n        for(int i = 0; i < M; i++)\n        {\n            int score, nextX;\n            nextX = in_X[0] + in_C[i];\n            score = (128 - nextX) * (128 - nextX);\n\n            dp[0][i] = make_pair(score, nextX);\n        }\n        exit(114);\n\n        for(int n = 1; n < N; n++)\n        {\n            for(int i = 0; i < M; i++)\n            {\n                int nextScore = INF;\n                int nextX = 0;\n                for(int j = 0; j < M; j++)\n                {\n                    int tmpScore = dp[n - 1][i].first + pow( ( dp[n - 1][i].second + in_C[i] - in_X[n]), 2.0 );\n                    if(tmpScore < nextScore)\n                    {\n                        nextScore = tmpScore;\n                        nextX = dp[n - 1][i].second + in_C[i];\n                    }\n                }\n                dp[n][i] = make_pair(nextScore, nextX);\n            }\n        }\n\n        int ans = INF;\n        for(int i = 0; i < M; i++)\n        {\n            if( dp[N - 1][i].first < ans) ans = dp[N - 1][i].first;\n        }\n        cout << ans << endl;\n\n\n\n    }\n\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <climits>\n#include <iostream>\n#include <vector>\n#include <string>\n#include <sstream>\n#include <algorithm>\n#include <utility>\n#include <set>\n#include <map>\n#include <stack>\n#include <queue>\n#include <deque>\n#include <functional>\n\nusing namespace std;\n\n#define fst first\n#define scd second\n#define PB push_back\n#define MP make_pair\n#define int long long\n#define all(a) a.begin(),a.end()\n#define rall(a) a.rbegin(),a.rend()\n#define omajinai ios::sync_with_stdio(false);cin.tie(0)\n\ntypedef long long ll;\ntypedef long double ld;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef pair<int, int> pii;\ntypedef vector<pii> vpii;\n\ntemplate<typename T>T& max(T&a,T&b){if(a>=b)return a;return b;}\ntemplate<typename T>T& min(T&a,T&b){if(a<b)return a;return b;}\ntemplate<typename T>bool chmax(T&a,T b){if(a<b){a=b;return true;}return false;}\ntemplate<typename T>bool chmin(T&a,T b){if(a>b){a=b;return true;}return false;}\ntemplate<typename T>T get(){T a;cin>>a;return a;}\ntemplate<typename T>T rev(T a){reverse(all(a));return a;}\ntemplate<typename T>vector<T>&sort(vector<T>&a){sort(all(a));return a;}\n\nconst int inf = 1e9;\nconst ll linf = 3e18;\nconst double eps = 1e-9;\n\nint N, M;\nint c[16], x[20001];\n\nint dp[20001][256];\n\nsigned main()\n{\n    while (cin >> N >> M, N) {\n        for (int i = 0; i <= 20000; ++i) for (int j = 0; j < 256; ++j) dp[i][j] = inf;\n\n        for (int i = 0; i < M; ++i) cin >> c[i];\n        for (int i = 1; i <= N; ++i) cin >> x[i];\n\n        dp[0][128] = 0;\n\n        for (int i = 1; i <= N; ++i) {\n            for (int j = 0; j < 256; ++j) {\n                if (dp[i - 1][j] != inf) {\n                    for (int k = 0; k < M; ++k) {\n                        int v = (c[k] < 0 ? max(j + c[k], 0ll) : min(j + c[k], 255ll));\n                        int w = abs(v - x[i]);\n                        chmin(dp[i][v], dp[i - 1][j] + w * w);\n                    }\n                }\n            }\n        }\n\n        cout << *min_element(dp[N], dp[N] + 256) << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\n\nusing namespace std;\n\nconst long long inf=1LL<<60;\nlong long memo[20000][256];\n\nint main()\n{\n\tfor(int n,m;scanf(\"%d%d\",&n,&m),n;){\n\t\tint c[16];\n\t\tstatic int x[20001];\n\t\tfor(int i=0;i<m;i++)\tscanf(\"%d\",c+i);\n\t\tfor(int i=0;i<n;i++)\tscanf(\"%d\",x+i);\n\n\t\tfor(int i=0;i<=n;i++)for(int j=0;j<256;j++)\tmemo[i][j]=inf;\n\n\t\tmemo[0][128]=0;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tfor(int j=0;j<256;j++){\n\t\t\t\tif(memo[i-1][j]==inf)\tcontinue;\n\t\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\t\tint next=min(255,max(0,j+c[k]));\n\t\t\t\t\tmemo[i][next]=min(memo[i][next],\n\t\t\t\t\t\tmemo[i-1][j]+(next-x[i-1])*(next-x[i-1]));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tlong long emin=inf;\n\t\tfor(int j=0;j<256;j++)\temin=min(emin,memo[n][j]);\n\t\tprintf(\"%lld\\n\",emin);\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "// C++11\n#include \"bits/stdc++.h\"\n#include <sys/time.h>\n#include <emmintrin.h>\n#include <string>\n#include <sstream>\n#include <fstream>\n#include <random>\n#include <bitset>\n\nusing namespace std;\n\ninline long long GetTSC() {\n  long long lo, hi;\n  asm volatile (\"rdtsc\": \"=a\"(lo), \"=d\"(hi));\n  return lo + (hi << 32);\n}\ninline double GetSeconds() {\n  return GetTSC() / 2.8e9;\n}\n\nconst int M = 256;\nconst int XM = 20000;\nconst int CM = 16;\nconst long inf = pow(10,15);\nlong d[M];\nlong nd[M];\nint xs[XM];\nint cs[CM];\n\nvoid solve(){\n  double starttime = GetSeconds();\n  while(1){\n    int n,m;\n    cin >> n >> m;\n    if(n==0 && m==0) break;\n    for(int i=0; i<m; i++){\n      cin >> cs[i];\n    }\n    for(int i=0; i<n; i++){\n      cin >> xs[i];\n    }\n\n    for(int i=0; i<M; i++){\n      d[i] = inf;\n    }\n    d[128] = 0;\n    for(int i=0; i<n; i++){\n      int x = xs[i];\n      for(int j=0; j<M; j++){\n        nd[j] = inf;\n      }\n      for(int k=0; k<256; k++){\n        long v = d[k];\n        for(int j=0; j<m; j++){\n          int c = cs[j];\n          int nk = max(min(k+c,255),0);\n          if(nd[nk] > v + pow(x-nk, 2)){\n            nd[nk] = v + pow(x-nk, 2);\n          }\n        }\n      }\n      for(int j=0; j<M; j++){\n        d[j] = nd[j];\n      }\n    }\n    long t = inf;\n    for(int j=0; j<M; j++){\n      t = min(t, d[j]);\n    }\n\n    cout << t << endl;\n  }\n\n  return;\n}\n\nint main() {\n  solve();\n  return 0;\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "\n//http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=2199\n\n#include<iostream>\n#include<map>\n#include<vector>\n#include<algorithm>\n#include<cmath>\n#include<climits>\n#include<ctime>\n#include<cstring>\n#include<numeric>\n\n#define ALL(v) (v).begin(),(v).end()\n#define REP(i,p,n) for(int i=p;i<(int)(n);++i)\n#define rep(i,n) REP(i,0,n)\n#define dump(a) (cerr << #a << \"=\" << (a) << endl)\n#define DUMP(list) cout << \"{ \"; for(auto nth : list){ cout << nth << \" \"; } cout << \"}\" << endl;\n\nusing namespace std;\n\nconst int MAX = 20001*256;\n\nint N,M;\nint dp[20001][256];\n\nvector<int> C;\nvector<int> x;\n\nint round255(int n)\n{\n\tif(n > 255){ return 255; }\n\telse if(n < 0){ return 0;}\n\telse{ return n; }\n}\n\nint main()\n{\n\twhile(cin >> N >> M && N)\n\t{\n\t\tC.resize(M);\n\t\tx.resize(N);\n\t\tfill_n((int *)dp, sizeof(dp)/sizeof(int), MAX);\n\n\t\trep(i,M){ cin >> C[i]; }\n\t\trep(i,N){ cin >> x[i]; }\n\n\t\tdp[0][128] = 0;\n\n\t\trep(i,N)\n\t\t{\n\t\t\trep(j,256)\n\t\t\t{\n\t\t\t\tif(dp[i][j] == MAX){ continue; }\t\n\t\t\t\trep(k,M)\n\t\t\t\t{\n\t\t\t\t\tint yn = j + C[k];\n\t\t\t\t\tyn = round255(yn);\n\t\t\t\t\tint sum2 = (x[i] - yn)*(x[i] - yn);\n\t\t\t\t\tdp[i+1][yn] = min(dp[i+1][yn], dp[i][j]+sum2);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcout << *min_element(dp[N],dp[N]+256) << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "// >>> TEMPLATES\n#include <bits/stdc++.h>\nusing namespace std;\nusing ll = long long;\nusing ld = long double;\nusing i32 = int32_t;\nusing i64 = int64_t;\nusing u32 = uint32_t;\nusing u64 = uint64_t;\n#define int ll\n#define double ld\n#define rep(i,n) for (int i = 0; i < (int)(n); i++)\n#define rep1(i,n) for (int i = 1; i <= (int)(n); i++)\n#define repR(i,n) for (int i = (int)(n)-1; i >= 0; i--)\n#define rep1R(i,n) for (int i = (int)(n); i >= 1; i--)\n#define loop(i,a,B) for (int i = a; i B; i++)\n#define loopR(i,a,B) for (int i = a; i B; i--)\n#define all(x) (x).begin(), (x).end()\n#define allR(x) (x).rbegin(), (x).rend()\n#define pb push_back\n#define eb emplace_back\n#define mp make_pair\n#define fst first\n#define snd second\ntemplate <class Int> auto constexpr inf = numeric_limits<Int>::max()/2-1;\nauto constexpr INF32 = inf<int32_t>;\nauto constexpr INF64 = inf<int64_t>;\nauto constexpr INF   = inf<int>;\n#ifdef LOCAL\n#include \"debug.hpp\"\n#else\n#define dump(...) (void)(0)\n#define say(x) (void)(0)\n#define debug if (0)\n#endif\ntemplate <class T> using pque_max = priority_queue<T>;\ntemplate <class T> using pque_min = priority_queue<T, vector<T>, greater<T> >;\ntemplate <class T, class = typename T::iterator, class = typename enable_if<!is_same<T, string>::value>::type>\nostream& operator<<(ostream& os, T const& v) { bool f = true; for (auto const& x : v) os << (f ? \"\" : \" \") << x, f = false; return os; }\ntemplate <class T, class = typename T::iterator, class = typename enable_if<!is_same<T, string>::value>::type>\nistream& operator>>(istream& is, T &v) { for (auto& x : v) is >> x; return is; }\ntemplate <class T, class S> ostream& operator<<(ostream& os, pair<T,S> const& p) { return os << \"(\" << p.first << \", \" << p.second << \")\"; }\ntemplate <class T, class S> istream& operator>>(istream& is, pair<T,S>& p) { return is >> p.first >> p.second; }\nstruct IOSetup { IOSetup() { cin.tie(nullptr); ios::sync_with_stdio(false); cout << fixed << setprecision(15); } } iosetup;\ntemplate <class F> struct FixPoint : private F {\n    constexpr FixPoint(F&& f) : F(forward<F>(f)) {}\n    template <class... T> constexpr auto operator()(T&&... x) const { return F::operator()(*this, forward<T>(x)...); }\n};\nstruct MakeFixPoint {\n    template <class F> constexpr auto operator|(F&& f) const { return FixPoint<F>(forward<F>(f)); }\n};\n#define MFP MakeFixPoint()|\n#define def(name, ...) auto name = MFP [&](auto &&name, __VA_ARGS__)\ntemplate <class T, size_t d> struct vec_impl {\n    using type = vector<typename vec_impl<T,d-1>::type>;\n    template <class... U> static type make_v(size_t n, U&&... x) { return type(n, vec_impl<T,d-1>::make_v(forward<U>(x)...)); }\n};\ntemplate <class T> struct vec_impl<T,0> { using type = T; static type make_v(T const& x = {}) { return x; } };\ntemplate <class T, size_t d = 1> using vec = typename vec_impl<T,d>::type;\ntemplate <class T, size_t d = 1, class... Args> auto make_v(Args&&... args) { return vec_impl<T,d>::make_v(forward<Args>(args)...); }\ntemplate <class T> void quit(T const& x) { cout << x << endl; exit(0); }\ntemplate <class T, class U> constexpr bool chmin(T& x, U const& y) { if (x > y) { x = y; return true; } return false; }\ntemplate <class T, class U> constexpr bool chmax(T& x, U const& y) { if (x < y) { x = y; return true; } return false; }\ntemplate <class It> constexpr auto sumof(It b, It e) { return accumulate(b,e,typename iterator_traits<It>::value_type{}); }\ntemplate <class T> int sz(T const& x) { return x.size(); }\ntemplate <class C, class T> int lbd(C const& v, T const& x) {\n    return lower_bound(v.begin(), v.end(), x)-v.begin();\n}\ntemplate <class C, class T> int ubd(C const& v, T const& x) {\n    return upper_bound(v.begin(), v.end(), x)-v.begin();\n}\ntemplate <class C, class F> int ppt(C const& v, F f) {\n    return partition_point(v.begin(), v.end(), f)-v.begin();\n}\n// <<<\n\nint32_t main() {\n    while (true) {\n        int n,m; cin >> n >> m;\n        if (n == 0 && m == 0) break;\n        vector<int> c(m),x(n); cin >> c >> x;\n\n        const int M = 256;\n        auto dp = make_v<int,2>(n+1,M,INF);\n        dp[0][128] = 0;\n        rep (i,n) rep (j,M) rep (k,m) {\n            int nj = j+c[k];\n            if (nj < 0) nj = 0;\n            if (nj >= M) nj = M-1;\n            int diff = nj - x[i];\n            chmin(dp[i+1][nj], dp[i][j] + diff*diff);\n        }\n\n        cout << *min_element(all(dp[n])) << \"\\n\";\n\n    }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#define INF 1e+18\n#define int long long\nusing namespace std;\n\nint dp[20001][256];\n\nsigned main(){\n\tint n,m,c[16];\n\twhile(cin >> n >> m,n){\n\t\tfor(int i = 0;i <= n;i++){\n\t\t\tfor(int j = 0;j < 256;j++) {\n\t\t\t\tif(i) dp[i][j] = INF;\n\t\t\t\telse dp[i][j] = 0;\n\t\t\t}\n\t\t}\n\t\tfor(int i = 0;i < m;i++) cin >> c[i];\n\t\tfor(int i = 0;i < n;i++){\n\t\t\tint x;\n\t\t\tcin >> x;\n\t\t\tfor(int j = 0;j < 256;j++){\n\t\t\t\tfor(int k = 0;k < m;k++){\n\t\t\t\t\tint d = j + c[k];\n\t\t\t\t\tif(d < 0) d = 0;\n\t\t\t\t\telse if(d > 255) d = 255;\n\t\t\t\t\tdp[i + 1][d] = min(dp[i + 1][d],dp[i][j] + (x - d) * (x - d));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint mi = INF;\n\t\tfor(int i = 0;i < 256;i++) mi = min(mi,dp[n][i]);\n\t\tcout << mi << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nconst int MOD=1000000007;\n#define INF 1LL<<30\n#define rep(i,n) for (int i = 0; i < (n); ++i)\n#define all(x) (x).begin(),(x).end()\n\nint dp[20010][256];\n\nint main() {\n    while(1){\n        int n,m;\n        cin>>n>>m;\n        if(n==0 && m==0) break;\n        int c[m],x[n];\n        rep(i,m) cin>>c[i];\n        rep(i,n) cin>>x[i];\n\n        rep(i,20010) rep(j,256) dp[i][j]=INF;\n        dp[0][128]=0;\n\n        rep(i,n){\n            rep(j,256){\n                if(dp[i][j]==INF) continue;\n                rep(k,m){\n                    int y=j+c[k];\n                    if(y<0) y=0;\n                    if(y>255) y=255;\n                    int sum2=(x[i]-y)*(x[i]-y);\n                    dp[i+1][y]=min(dp[i+1][y],dp[i][j]+sum2);\n                }\n            }\n        }\n        int ans=INF;\n        rep(j,256){\n            //cout<<dp[n][j]<<endl;\n            ans=min(ans,dp[n][j]);\n        }\n\n        cout<<ans<<endl;\n    }\n\n    return 0;\n\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstdlib>\n#include<cstring>\n#include<cmath>\n#include<cassert>\n#include<iostream>\n#include<sstream>\n#include<string>\n#include<vector>\n#include<queue>\n#include<set>\n#include<map>\n#include<utility>\n#include<numeric>\n#include<algorithm>\n#include<bitset>\n#include<complex>\n\nusing namespace std;\n\ntypedef long long Int;\ntypedef vector<int> vint;\ntypedef pair<int,int> pint;\n#define mp make_pair\n\ntemplate<class T> void pv(T a, T b) { for (T i = a; i != b; ++i) cout << *i << \" \"; cout << endl; }\ntemplate<class T> void chmin(T &t, T f) { if (t > f) t = f; }\ntemplate<class T> void chmax(T &t, T f) { if (t < f) t = f; }\nint in() { int x; scanf(\"%d\", &x); return x; }\n\nInt dp[20010][300];\nint c[20];\nint x[20010];\n\nint main() {\n\tint n,m;\n\twhile(cin>>n>>m,n){\n\t\tint i,j,k;\n\t\tfor(i=0;i<m;i++){\n\t\t\tcin>>c[i];\n\t\t}\n\t\tfor(i=0;i<n;i++){\n\t\t\tcin>>x[i];\n\t\t}\n\t\tmemset(dp,-1,sizeof(dp));\n\t\tdp[0][128]=0;\n\t\tint next;\n\t\tfor(i=0;i<n;i++){\n\t\t\tfor(j=0;j<256;j++){\n\t\t\t\tif(dp[i][j]==-1)continue;\n\t\t\t\tfor(k=0;k<m;k++){\n\t\t\t\t\tnext=j+c[k];\n\t\t\t\t\tif(next<0)next=0;\n\t\t\t\t\tif(next>=256)next=255;\n\t\t\t\t\tif(dp[i+1][next]==-1||dp[i+1][next]>dp[i][j]+(next-x[i])*(next-x[i]))dp[i+1][next]=dp[i][j]+(next-x[i])*(next-x[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tInt mn=-1;\n\t\tfor(j=0;j<256;j++){\n\t\t\tif(dp[n][j]!=-1){\n\t\t\t\tif(mn==-1||mn>dp[n][j])mn=dp[n][j];\n\t\t\t}\n\t\t}\n\t\tcout<<mn<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n\n#define INF (1 << 29)\n\n#define MAX_N 20000\n#define MAX_M 16\n\nusing namespace std;\n\nint N, M, C[MAX_M], X, dp[MAX_N + 1][256];\n\nint main()\n{\n\twhile (true)\n\t{\n\t\tfor (int i = 0; i < MAX_N + 1; i++)\n\t\t{\n\t\t\tfor (int j = 0; j < 256; j++)\n\t\t\t{\n\t\t\t\tdp[i][j] = INF;\n\t\t\t}\n\t\t}\n\n\t\tdp[0][128] = 0;\n\n\t\tcin >> N >> M;\n\n\t\tif (N == 0 && M == 0) { break; }\n\n\t\tfor (int i = 0; i < M; i++) { cin >> C[i]; }\n\n\t\tfor (int i = 0; i < N; i++)\n\t\t{\n\t\t\tcin >> X;\n\n\t\t\tfor (int j = 0; j < 256; j++)\n\t\t\t{\n\t\t\t\tfor (int k = 0; k < M; k++)\n\t\t\t\t{\n\t\t\t\t\tint ptr = max(j + C[k], 0);\n\n\t\t\t\t\tptr = min(ptr, 255);\n\n\t\t\t\t\tint sabun = (X - ptr) * (X - ptr);\n\n\t\t\t\t\tdp[i + 1][ptr] = min(dp[i + 1][ptr], dp[i][j] + sabun);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcout << *min_element(dp[N], dp[N] + 256) << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#pragma GCC optimize (\"O3\")\n\n#include <bits/stdc++.h>\n\nusing namespace std;\n\n#ifdef LOCAL\n#include <prettyprint.hpp>\n#define debug(...)  cerr << \"[\" << #__VA_ARGS__ << \"]: \", d_err(__VA_ARGS__);\n#else\n#define debug(...) 83;\n#endif\n\nvoid d_err() {\n    cerr << endl;\n}\n\ntemplate <typename H, typename... T>\nvoid d_err(H h, T... t) {\n    cerr << h << \" \";\n    d_err(t...);\n}\n\ntemplate <typename T>\nvoid print(T x) {\n    cout << x << \"\\n\";\n}\n\n#define ALL(x) (x).begin(), (x).end()\n#define FOR(i, m, n) for (int i = (m); i < (n); ++i)\n#define REVFOR(i, m, n) for (int i = (n - 1); i >= (m); --i)\n#define REP(i, n) FOR(i, 0, n)\n#define REVREP(i, n) REVFOR(i, 0, n)\n#define fi first\n#define se second\n#define pb push_back\n#define mp make_pair\n#define eb emplace_back\n#define bcnt __builtin_popcountll\n\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\ntypedef pair<ll,ll> Pll;\ntypedef pair<int,int> Pin;\n\nll INF = 1e16;\nint inf = 1e9;\nll MOD = 1e9+7;\n\n\nint main() {\n    cin.tie(0);\n    ios_base::sync_with_stdio(false);\n    cout << fixed << setprecision(20);\n\n    while (1) {\n        int n, m; cin >> n >> m;\n\n        if (n == 0 && m == 0) break;\n\n        vi c(m); REP(i, m) cin >> c[i];\n        vi x(n); REP(i, n) cin >> x[i];\n\n        vll cur(256, INF);\n        cur[128] = 0;\n\n        auto round = [](int x) -> int {\n            if (x < 0) return 0;\n            if (x > 255) return 255;\n            return x;\n        };\n\n        REP(i, n) {\n            vll nxt(256, INF);\n            REP(j, 256) {\n                REP(k, m) {\n                    int y = round(j + c[k]);\n                    nxt[y] = min(nxt[y], cur[j] + (x[i] - y) * (x[i] - y));\n                }\n            }\n\n            swap(cur, nxt);\n        }\n\n        ll ans = INF;\n        for(auto &e: cur) ans = min(ans, e);\n\n        print(ans);\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\ntypedef long long ll;\n\nll dp[20001][256];\nint c[16];\nll x[20000];\nint main()\n{\n\twhile(1)\n\t{\n\t\tfill(dp[0],dp[20001],1e15-1);\n\t\tint n,m;\n\t\tcin>>n>>m;\n\t\tif(n==0)\n\t\t\tbreak;\n\t\tfor(int i=0;i<m;i++)\n\t\t\tcin>>c[i];\n\t\tfor(int i=0;i<n;i++)\n\t\t\tcin>>x[i];\n\t\tdp[0][128]=0;\n\t\tfor(int i=1;i<n+1;i++)\n\t\t{\n\t\t\tfor(int j=0;j<256;j++)\n\t\t\t{\n\t\t\t\tif(dp[i-1][j]!=1e8-1)\n\t\t\t\t{\n\t\t\t\t\tfor(int k=0;k<m;k++)\n\t\t\t\t\t{\n\t\t\t\t\t\tll tmp=j+c[k];\n\t\t\t\t\t\ttmp=max(0LL,tmp);\n\t\t\t\t\t\ttmp=min(255LL,tmp);\n\t\t\t\t\t\tdp[i][tmp]=min(dp[i][tmp],dp[i-1][j]+(x[i-1]-tmp)*(x[i-1]-tmp));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tll ans=dp[n][0];\n\t\tfor(int i=0;i<256;i++)\n\t\t\tans=min(ans,dp[n][i]);\n\t\tcout<<ans<<endl;\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define rep(i,n) for (int (i)=(0);(i)<(int)(n);++(i))\nusing ll = long long;\n\nint n, m;\nint c[16], x[20001];\n\n\n// dp[i][j] := X_i ?????¨??????y=j?????¨??????????????????????°?????\nll dp[20001][256];\n\nll rec(int p, int y) {\n    if (dp[p][y] >= 0) return dp[p][y];\n\n    if (p == n) return 0;\n\n    ll ret=1e10;\n    for (int i=0; i<m; ++i) {\n        int ny=y+c[i];\n        if (ny<0) ny=0;\n        else if (ny>255) ny=255;\n        ret = min(ret, rec(p+1, ny)+(ny-x[p])*(ny-x[p]));\n    }\n\n    return dp[p][y] = ret;\n}\n\nint main() {\n    while (cin >> n >> m and (n or m)) {\n        rep(i,m) cin >> c[i];\n        rep(i,n) cin >> x[i];\n        fill(dp[0], dp[20001], 1e10);\n\n        dp[0][128] = 0;\n        for (int p=0; p<n; ++p) {\n            for (int y=0; y<256; ++y) {\n                if (dp[p][y] != 1e10) {\n                    for (int j=0; j<m; ++j) {\n                        int yy = y + c[j];\n                        if (yy > 255) yy = 255;\n                        if (yy < 0) yy = 0;\n                        dp[p+1][yy] = min(dp[p+1][yy], dp[p][y] + (x[p]-yy)*(x[p]-yy));\n                    }\n                }\n            }\n        }\n\n        ll res = 1e10;\n        rep(i, 256) {\n            res = min(res, dp[n][i]);\n        }\n\n        cout << res << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\n#include <functional>\n#include <vector>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> pint;\ntypedef vector<int> vint;\ntypedef vector<pint> vpint;\n#define mp make_pair\n#define fi first\n#define se second\n#define all(v) (v).begin(),(v).end()\n#define rep(i,n) for(int i=0;i<(n);i++)\n#define reps(i,f,n) for(int i=(f);i<(n);i++)\n\nint INF = 100000000;\nint dp[20001][256];\n\nvoid slove(int n, int m){\n\tvint c(m);\n\trep(i, m) scanf(\"%d\", &c[i]);\n\tvint x(n);\n\trep(i, n) scanf(\"%d\", &x[i]);\n\n\trep(i, 20001) rep(j, 256) dp[i][j] = INF;\n\n\tdp[0][128] = 0;\n\trep(i, n){\n\t\trep(j, 256){\n\t\t\tif(dp[i][j] == INF) continue;\n\t\t\trep(k, m){\n\t\t\t\tint now = j + c[k];\n\t\t\t\tif(now < 0) now = 0;\n\t\t\t\tif(now > 255) now = 255;\n\t\t\t\t//dp[?????????????????????????????? 20000][????£°???????????? ??? 255] = ????????????????°????\n\t\t\t\tdp[i + 1][now] = min(dp[i + 1][now], dp[i][j] + (x[i] - now) * (x[i] - now));\n\t\t\t}\n\t\t}\n\t}\n\tint ans = 100000000;\n\t//?????????dp[n][]\n\trep(i, 256){\n\t\tans = min(ans, dp[n][i]);\n\t}\n\tprintf(\"%d\\n\", ans);\n\treturn;\n}\n\nint main(void){\n\tint n, m;\n\twhile(1){\n\t\tscanf(\"%d %d\", &n, &m);\n\t\tif(n == 0) break;\n\t\tslove(n, m);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<string>\n#include<algorithm>\t\n#include<map>\n#include<set>\n#include<utility>\n#include<cmath>\n#include<cstring>\n#include<queue>\n#include<cstdio>\n#include<sstream>\n#include<iomanip>\n#define loop(i,a,b) for(int i=a;i<b;i++) \n#define rep(i,a) loop(i,0,a)\n#define pb push_back\n#define mp make_pair\n#define all(in) in.begin(),in.end()\n#define shosu(x) fixed<<setprecision(x)\nusing namespace std;\n//kaewasuretyuui\ntypedef long long ll;\ntypedef pair<int,int> pii;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<pii> vp;\ntypedef vector<vp> vvp;\ntypedef pair<int,pii> pip;\ntypedef vector<pip>vip;\nconst double PI=acos(-1);\nconst double EPS=1e-8;\nconst int inf=1<<30;\nint main(){\n\tint n,m;\n\twhile(cin>>n>>m,n+m){\n\t\tvi in(m),s(n);\n\t\trep(i,m)cin>>in[i];\n\t\trep(i,n)cin>>s[i];\n\t\tvvi dp(n+1,vi(256,inf));\n\t\tdp[0][128]=0;\n\t\trep(i,n)rep(j,256)if(dp[i][j]!=inf)rep(k,m){\n\t\t\tint I=i+1,J=j+in[k];\n\t\t\tif(J<0)J=0;\n\t\t\tif(J>255)J=255;\n\t\t\tdp[I][J]=min(dp[I][J],dp[i][j]+(s[i]-J)*(s[i]-J));\n\t\t}\n\t\tint out=inf;\n\t\trep(i,256)out=min(out,dp[n][i]);\n\t\tcout<<out<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define rep(i, n) for(int i = 0; i < n; i++)\nusing namespace std;\n\ntypedef long long ll;\n\nconst int INF = 1 << 30;\nconst ll LLINF = 1LL << 62;\n\nint mod = 1000000007;\n\nint dp[20001][256];\n\nvoid init(int N){\n    rep(i, N+1) rep(j, 256) dp[i][j] = mod;\n}\n\nint main(void){\n    ios::sync_with_stdio(false);\n    cin.tie(nullptr);\n    vector<int> ans;\n    while(true){\n        int N, M; cin >> N >> M;\n        if(N == 0) break;\n        vector<int> code(M); rep(i, M) cin >> code[i];\n        vector<int> X(N); rep(i, N) cin >> X[i];\n        init(N);\n\n        dp[0][128] = 0;\n        rep(i, N){\n            rep(j, 256){\n                if(dp[i][j] != mod){\n                    rep(k, M){\n                        int to = j + code[k];\n                        if(to < 0) to = 0; if(to > 255) to = 255;\n                        dp[i+1][to] = min(dp[i+1][to], dp[i][j] + (X[i]-to)*(X[i]-to));\n                    }\n                }\n            }\n        }\n        int res = mod;\n        rep(j, 256) res = min(res, dp[N][j]);\n        ans.push_back(res);\n    }\n    rep(i, ans.size()) cout << ans[i] << endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n\nusing namespace std;\n\nconst long INF = 1e15;\n\nvoid solve(void)\n{\n\tint n, m;\n\tconst int s = 256;\n\twhile(cin >> n >> m)\n\t{\n\t\tif (!n && !m) break;\n\t\tvector<int> cs(m);\n\t\tfor (int& c : cs) cin >> c;\n\t\tvector<long> dp(s, INF);\n\t\tdp[128] = 0;\n\t\tfor (int i = 0; i < n; i++)\n\t\t{\n\t\t\tint x;\n\t\t\tcin >> x;\n\t\t\tvector<long> nx(s, INF);\n\t\t\tfor (int j = 0; j < s; j++)\n\t\t\t{\n\t\t\t\tif (dp[j] == INF) continue;\n\t\t\t\tfor (int c : cs)\n\t\t\t\t{\n\t\t\t\t\tint k = j + c;\n\t\t\t\t\tif (k < 0) k = 0;\n\t\t\t\t\tif (k >= s) k = s-1;\n\t\t\t\t\tnx[k] = min(nx[k], dp[j] + (x-k)*(x-k));\n\t\t\t\t}\n\t\t\t}\n\t\t\tswap(dp, nx);\n\t\t}\n\t\tcout << *min_element(dp.begin(), dp.end()) << '\\n';\n\t}\n}\n\nint main()\n{\n\tsolve();\n\t//cout << \"yui(*-v・)yui\" << endl;\n\treturn 0;\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string.h>\nusing namespace std;\n\nint cut(int n){\n\tif(n<0) return 0;\n\tif(n>255) return 255;\n\treturn n;\n}\n\n\t\tint dp[20001][256];\nint main()\n{\n\tint N,M;\n\twhile(cin>>N>>M && N!=0){\n\t\tint book[16],signal[20000];\n\t\tmemset(book,-1,sizeof(bool));\n\t\tmemset(signal,-1,sizeof(signal));\n\n\t\tfor(int i=0;i<M;i++)\n\t\t\tcin>>book[i];\n\t\tfor(int i=0;i<N;i++)\n\t\t\tcin>>signal[i];\n\n\n\t\tmemset(dp,-1,sizeof(dp));\n\t\tdp[0][128]=0;\n\n\t\tfor(int i=0;i<N;i++){\n\t\t\tfor(int j=0;j<=255;j++){\n\t\t\t\tif(dp[i][j]<0) continue;\n\t\t\t\tfor(int k=0;k<M;k++){\n\t\t\t\t\tif(dp[i+1][cut(j+book[k])]<0)\n\t\t\t\t\t\tdp[i+1][cut(j+book[k])]=dp[i][j]+(signal[i]-cut(j+book[k]))*(signal[i]-cut(j+book[k]));\n\t\t\t\t\telse dp[i+1][cut(j+book[k])]=min(dp[i+1][cut(j+book[k])],dp[i][j]+(signal[i]-cut(j+book[k]))*(signal[i]-cut(j+book[k])));\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans=100000000;\n\n\t\tfor(int i=0;i<=255;i++){\n\t\t\tif(dp[N][i]>=0)\n\t\t\t\tans=min(ans,dp[N][i]);\n\t\t}\n\t\tcout<<ans<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "//#include <bits/stdc++.h>\n#include <iostream>\n#include <fstream>\n#include <vector>\n#include <string>\n#include <cmath>\n#include <algorithm>\n#include <map>\n#include <iomanip>\n#include <stdlib.h>\n#include <stdio.h>\n#include <queue>\n#include <deque>\n#include <set>\n#include <stack>\n#include <time.h>\n \nusing namespace std;\n \ntypedef long long ll;\ntypedef long double ld;\ntypedef pair<int, int> Pii;\ntypedef pair<int, ll> Pil;\ntypedef pair<ll, ll> Pll;\ntypedef pair<ll, int> Pli;\n\n#define fi first\n#define se second\n#define mp make_pair\n \nconst ll MOD = 1e9 + 7;\nconst ll MOD2 = 998244353;\nconst ll INF = 1ll << 60;\nconst double PI = 2 * asin(1);\n\nvoid yes() {printf(\"yes\\n\");}\nvoid no() {printf(\"no\\n\");}\nvoid Yes() {printf(\"Yes\\n\");}\nvoid No() {printf(\"No\\n\");}\nvoid YES() {printf(\"YES\\n\");}\nvoid NO() {printf(\"NO\\n\");}\n\nll N, M, C[16], X[int(2e4 + 5)];\nll DP[int(2e4 + 5)][256];\n\nint Solve(){\n  fill((ll*)DP, (ll*)(DP + N + 1), 1e18);\n  DP[0][128] = 0;\n\n  for (int i = 0; i < M; i++) cin >> C[i];\n  for (int i = 1; i <= N; i++) cin >> X[i];\n\n  for (int i = 1; i <= N; i++){\n    for (int j = 0; j < 256; j++){\n      for (int k = 0; k < M; k++){\n        int Y = j + C[k];\n        if (Y < 0) Y = 0;\n        if (Y > 255) Y = 255;\n        DP[i][Y] = min(DP[i][Y], DP[i - 1][j] + (X[i] - Y) * (X[i] - Y));\n      }\n    }\n  }\n  \n  ll ans = 1e18;\n  for (int j = 0; j < 256; j++) ans = min(ans, DP[N][j]);\n  cout << ans << endl;\n  \n  return 0;\n}\n\nint main(){\n  while (cin >> N >> M){\n    if (N == 0 && M == 0) return 0;\n    Solve();\n  }\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#define rep(i, n) for(int i = 0; i < n; i++)\nusing namespace std;\n\nconst int big = 100000000;\nint main(){\n  while(1){\n    int n, m;\n    cin >> n >> m;\n    if (n == 0 && m == 0) break;\n    vector<int> c(m);\n    vector<int> x(n);\n    rep(i, m) cin >> c[i];\n    rep(i, n) cin >> x[i];\n    vector<vector<int>> dp(n+1, vector<int>(256, big));\n    dp[0][128] = 0;\n    int y;\n    rep(i, n)rep(j, 256)rep(k, m){\n      y = j + c[k];\n      if (y < 0) y = 0;\n      if (y > 255) y = 255;\n      dp[i+1][y] = min(dp[i+1][y], dp[i][j] + (y - x[i]) * (y - x[i]));\n    }\n    int ans = big;\n    rep(i, 256) if(ans > dp[n][i]) ans = dp[n][i];\n    cout << ans << endl;\n  }\n  \n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n\n#define int long long\n\nint dp[20001][256];\nint C[17];\n\nsigned main() {\n    int n, m;\n    while(cin>>n>>m, n) {\n        for(int i=0; i<20001; ++i)\n          for(int j=0; j<256; ++j) dp[i][j] = 1e+9;\n        dp[0][128] = 0;\n        for(int i=0; i<16; ++i) C[i] = 0;\n        for(int i=0; i<m; ++i) cin >> C[i];\n        for(int i=1; i<=n; ++i) {\n            int x;\n            cin >> x;\n            for(int j=0; j<256; ++j) {\n                for(int k=0; k<m; ++k) {\n                    int x2 = j + C[k];\n                    if(255<=x2) x2=255;\n                    if(x2<=0) x2=0;\n                    int diff = (x2-x) * (x2-x);\n                    dp[i][x2] = min(dp[i][x2], dp[i-1][j]+diff);\n                }\n            }\n        }\n\n        int ans = 1e+9;\n        for(int i=0; i<256; ++i) ans = min(ans, dp[n][i]);\n        cout << ans << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <cmath>\n#include <ctype.h>\n#include <string> \n#include <cstring>\n#include <sstream>\n#include <iostream>\n#include <algorithm>\n#include <cstdlib>\n#include <map>\n#include <queue>\n#include <utility>\n#include <vector>\n#include <set>\n#include <iomanip>\n#include <stack>\n  \nusing namespace std;\n\n#define pi 3.141592653589793\n\nint result[20001][256];\n\nint main()\n{\n\tint n, m;\n\twhile(1){\n\t\tcin >> n >> m;\n\t\tif(n == 0 && m == 0) break;\n\t\tfor(int i = 0; i < n + 1; i++){\n\t\t\tfor(int j = 0; j < 256; j++){\n\t\t\t\tresult[i][j] = 100000000;\n\t\t\t}\n\t\t}\n\t\tresult[0][128] = 0;\n\t\tint c[17], x[20001];\n\t\tfor(int i = 1; i < m + 1; i++){\n\t\t\tcin >> c[i];\n\t\t}\n\t\tfor(int i = 1; i < n + 1; i++){\n\t\t\tcin >> x[i];\n\t\t}\n\t\tfor(int i = 1; i < n + 1; i++){\n\t\t\tfor(int j = 0; j < 256; j++){\n\t\t\t\tfor(int k = 1; k < m + 1; k++){\n\t\t\t\t\tint nexty = j + c[k];\n\t\t\t\t\tif(nexty < 0) nexty = 0;\n\t\t\t\t\telse if(nexty > 255) nexty = 255;\n\t\t\t\t\tresult[i][nexty] = min(result[i][nexty], result[i - 1][j] + (x[i] - nexty) * (x[i] - nexty));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = 100000000;\n\t\tfor(int i = 1; i < 256; i++) ans = min(ans, result[n][i]);\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n// #define int long long // intで書いたけど心配なときにlong longに変換する\nstruct Fast {Fast(){std::cin.tie(0);ios::sync_with_stdio(false);}} fast;\n\n/* short */\n#define pb push_back\n#define eb emplace_back\n#define mp make_pair\n#define Fi first\n#define Se second\n#define ALL(v) begin(v), end(v)\n#define RALL(v) rbegin(v), rend(v)\n#define X real()\n#define Y imag()\n\n/* REPmacro */\n#define REPS(i, a, n) for (ll i = (a); i < (ll)(n); ++i)\n#define REP(i, n) REPS(i, 0, n)\n#define RREP(i, n) REPS(i, 1, n + 1)\n#define DEPS(i, a, n) for (ll i = (a); i >= (ll)(n); --i)\n#define DEP(i, n) DEPS(i, n, 0)\n#define EACH(i, n) for (auto&& i : n)\n\n/* debug */\n#define debug(x) cerr << x << \" \" << \"(L:\" << __LINE__ << \")\" << '\\n';\n\n/* alias */\nusing ll = long long;\nusing ull = unsigned long long;\nusing vi = vector<int>;\nusing vvi = vector<vi>;\nusing vvvi = vector<vvi>;\nusing pii = pair<int, int>;\nusing D = double;\nusing P = complex<D>;\nusing vs = vector<string>;\ntemplate <typename T> using PQ = priority_queue<T>;\ntemplate <typename T> using minPQ = priority_queue<T, vector<T>, greater<T>>;\n\n/* const */\nconst int INF = 1001001001;\nconst ll LINF = 1001001001001001001ll;\nconst int MOD = 1e9 + 7;\nconst D EPS = 1e-9;\nconst int dx[] = {0, 1, 0, -1, 1, -1, 1, -1}, dy[] = {1, 0, -1, 0, 1, -1, -1, 1};\n\n/* func */\ninline bool inside(int y, int x, int H, int W) {return y >= 0 && x >= 0 && y < H && x < W;}\ninline int in() {int x; cin >> x; return x;}\ninline ll IN() {ll x; cin >> x; return x;}\ninline vs split(const string& t, char c) {vs v; stringstream s(t); string b; while(getline(s, b, c)) v.eb(b); return v;}\ntemplate <typename T> inline bool chmin(T& a, const T& b) {if (a > b) a = b; return a > b;}\ntemplate <typename T> inline bool chmax(T& a, const T& b) {if (a < b) a = b; return a < b;}\ntemplate <typename T, typename S> inline void print(const pair<T, S>& p) {cout << p.first << \" \" << p.second << endl;}\ntemplate <typename T> inline void print(const T& x) {cout << x << '\\n';}\ntemplate <typename T, typename S> inline void print(const vector<pair<T, S>>& v) {for (auto&& p : v) print(p);}\ntemplate <typename T> inline void print(const vector<T>& v, string s = \" \") {REP(i, v.size()) cout << v[i] << (i != (ll)v.size() - 1 ? s : \"\\n\");}\n\nint C[20];\nint x[20001];\nll DP[20001][256];\n\nint nvalue(int val, int d) {\n    return max(0, min(255, val+d));\n}\n\nll diffsquare(ll val1, ll val2) {\n    return (val2-val1) * (val2-val1);\n}\n\nvoid solve(int N, int M) {\n    REP(i, M) cin >> C[i];\n    REP(i, N) cin >> x[i];\n\n    REP(i, N) REP(j, 256) DP[i][j] = LINF;\n\n    int nval;\n    REP(i, N) {\n        REP(k, M) {\n            if(i == 0) {\n                nval = nvalue(128, C[k]);\n                DP[i][nval] = min(DP[i][nval], diffsquare(x[i], nval));\n                continue;\n            }\n            REP(j, 256) {\n                nval = nvalue(j, C[k]);\n                DP[i][nval] = min(DP[i][nval], DP[i-1][j] + diffsquare(x[i], nval));\n            }\n        }\n    }\n\n    ll ans = LINF;\n    REP(j, 256) chmin(ans, DP[N-1][j]);\n    print(ans);\n}\n\nsigned main() {\n    int N, M;\n    while(true) {\n        cin >> N >> M;\n        if (N == 0 && M == 0) {\n            break;\n        } else {\n            solve(N, M);\n        }\n    }\n\n    return 0;\n}\n\n// https://github.com/kurokoji/.cpp-Template/wiki テンプレートについて\n// http://www.creativ.xyz/dump-cpp-652 dump()について\n// https://gist.github.com/rigibun/7905920 色々\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<utility>\n#include<cmath>\n\n#define INF (1 << 29)\n\nusing namespace std;\n\nint fix(int num)\n{\n    return min(255, max( num, 0) );\n}\n\nint main()\n{\n    int N, M;\n    while(cin >> N >> M, (N))\n    {\n\n        vector<int> in_C(M);\n        for(auto& _c : in_C)\n        {\n            cin >> _c;\n        }\n\n        vector<int> in_X(N);\n        for(auto& _x : in_X)\n        {\n            cin >> _x;\n        }\n\n        int dp[2][256];\n        for(int i = 0; i < 256; i++)\n        {\n            dp[0][i] = dp[1][i] = INF;\n        }\n\n        for(int i = 0; i < M; i++)\n        {\n            int sub = fix(128 + in_C[i]);\n            dp[0][sub] = (in_X[0] - sub) * (in_X[0] - sub);\n        }\n\n        for(int n = 1; n < N; n++)\n        {\n            for(int i = 0; i < 256; i++)\n            {\n                if(dp[0][i] == INF)continue;\n                for(int j = 0; j < M; j++)\n                {\n                    int sub = fix(i + in_C[j]);\n                    int nextScore = dp[0][i] + (in_X[n] - sub) * (in_X[n] - sub);\n                    dp[1][sub] = min(dp[1][sub], nextScore);\n                    /*\n                    cout << sub << endl;\n                    cout << dp[0][sub] << endl;\n                    cout << pow( in_X[n] - sub, 2.0 ) << endl;\n                    cout << endl;\n                    //*/\n                }\n            }\n            for(int i = 0; i < 256; i++)\n            {\n                dp[0][i] = dp[1][i];\n                dp[1][i] = INF;\n            }\n        }\n\n        int ans = INF;\n        for(int i = 0; i < 256; i++)\n        {\n            ans = min(ans, dp[0][i]);\n        }\n        cout << ans << endl;\n\n    }\n\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <fstream>\n#include <algorithm>\n#include <cassert>\n#include <cctype>\n#include <complex>\n#include <cstdio>\n#include <map>\n#include <math.h>\n#include <queue>\n#include <set>\n#include <stack>\n#include <string>\n#include <vector>\nusing namespace std;\n\n#define INF 2e9\n#define rep(i,n) for(int i=0;i<n;i++)\n\nint N,M,c[16],dp[256];\n\nint main(){\n\twhile(cin>>N>>M&&N){\n\t\tfill(dp,dp+256,INF);\n\t\tdp[128]=0;\n\t\trep(i,M)cin>>c[i];\n\t\trep(i,N){\n\t\t\tint m,dp2[256];\n\t\t\tfill(dp2,dp2+256,INF);\n\t\t\tcin>>m;\n\t\t\trep(j,256)rep(k,M){\n\t\t\t\tint n=j+c[k];\n\t\t\t\tif(n<0)n=0;\n\t\t\t\tif(n>255)n=255;\n\t\t\t\tdp2[n]=min(dp2[n],dp[j]+(m-n)*(m-n));\n\t\t\t}\n\t\t\trep(j,256)dp[j]=dp2[j];\n\t\t}\n\t\tint ans=INF;\n\t\trep(i,256)ans=min(ans,dp[i]);\n\t\tcout<<ans<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#include <algorithm>\n#include <cstdio>\n#include <functional>\n#include <iostream>\n#include <cfloat>\n#include <climits>\n#include <cstring>\n#include <cmath>\n#include <map>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <time.h>\n#include <vector>\nusing namespace std;\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int, int> i_i;\ntypedef pair<ll, int> ll_i;\ntypedef pair<double, int> d_i;\ntypedef pair<ll, ll> ll_ll;\ntypedef pair<double, double> d_d;\nstruct edge { int u, v; ll w; };\n\nll MOD = 1000000007;\nll _MOD = 1000000009;\ndouble EPS = 1e-10;\n\nint foo(int x) {\n\tif (x < 0) return 0;\n\telse if (x > 255) return 255;\n\telse return x;\n}\n\nint main() {\n\tfor (;;) {\n\t\tint N, M; cin >> N >> M;\n\t\tif (N == 0 && M == 0) break;\n\t\tvector<int> C(M);\n\t\tfor (int j = 0; j < M; j++) cin >> C[j];\n\t\tvector<int> x(N);\n\t\tfor (int i = 0; i < N; i++) cin >> x[i];\n\t\tvector<int> dp(256, INT_MAX);\n\t\tdp[128] = 0;\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\tvector<int> _dp(256, INT_MAX);\n\t\t\tfor (int k = 0; k < 256; k++) {\n\t\t\t\tif (dp[k] == INT_MAX) continue;\n\t\t\t\tfor (int j = 0; j < M; j++) {\n\t\t\t\t\tint _k = foo(k + C[j]);\n\t\t\t\t\t_dp[_k] = min(_dp[_k], dp[k] + (x[i] - _k) * (x[i] - _k));\n\t\t\t\t}\n\t\t\t}\n\t\t\tdp = _dp;\n\t\t}\n\t\tint mini = INT_MAX;\n\t\tfor (int k = 0; k < 256; k++)\n\t\t\tmini = min(mini, dp[k]);\n\t\tcout << mini << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n\nusing namespace std;\n#define INF (1<<29)\nint n, m, x;\nint c[20];\nint dp[21600][256];\nbool solve(){\n\tcin >> n >> m;\n\tif(n == 0 && m == 0)return false;\n\tfor(int i = 0;i < m;i++){\n\t\tcin >> c[i];\n\t}\n\tfor(int i = 0;i < 21600;i++){\n\t\tfor(int j = 0;j < 256;j++){\n\t\t\tdp[i][j] = INF;\n\t\t}\n\t}\n\tdp[0][128] = 0;\n\tfor(int i = 0;i < n;i++){\n\t\tcin >> x;\n\t\tfor(int j = 0;j < 256;j++){\n\t\t\tfor(int k = 0;k < m;k++){\n\t\t\t\tint nxt = max(0, min(255, j + c[k]));\n\t\t\t\tdp[i+1][nxt] = min(dp[i+1][nxt], dp[i][j] + (x - nxt)*(x - nxt));\n\t\t\t}\n\t\t}\n\t}\n\tint res = INF;\n\tfor(int i = 0;i < 256;i++)res = min(res, dp[n][i]);\n\tcout << res << endl;\n\treturn true;\n}\n\nint main(){\n\twhile(solve());\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <cstdio>\nusing namespace std;\n\nint main()\n{\n  int N, M;\n  while (cin >> N >> M) {\n    if (N == 0 && M == 0)\n      break;\n\n    vector<int> C(M);\n    for (int i = 0; i < M; ++i)\n      scanf(\"%d\", &C[i]);\n\n    vector<int> X(N);\n    for (int i = 0; i < N; ++i)\n      scanf(\"%d\", &X[i]);\n\n    const int INF = 1 << 30;\n    static int dp[20000+1][256];\n    for (int i = 0; i < 20000+1; ++i) {\n      for (int j = 0; j < 256; ++j)\n\tdp[i][j] = INF;\n    }\n    dp[0][128] = 0;\n\n    for (unsigned int i = 0; i < X.size(); ++i) {\n      for (int j = 0; j < 256; ++j) {\n\tfor (unsigned int k = 0; k < C.size(); ++k) {\n\t  int XX = j+C[k];\n\t  if (XX < 0)\n\t    XX = 0;\n\t  if (XX > 255)\n\t    XX = 255;\n\t  dp[i+1][XX] = min(dp[i+1][XX], dp[i][j] + (X[i]-XX)*(X[i]-XX));\n\t}\n      }\n    }\n\n    int ans = INF;\n    for (int i = 0; i < 256; ++i)\n      ans = min(ans, dp[N][i]);\n\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <map>\n#include <algorithm>\n\n#define REP(i,n) for(int i=0;i<(int)(n);i++)\n\nusing namespace std;\n\nint main() {\n  while(1){\n    int n,m;\n    cin>>n>>m;\n    if(!n)break;\n    vector<int> codes(m);\n    REP(i,m)cin>>codes[i];\n    vector<int> data(n);\n    REP(i,n)cin>>data[i];\n    vector<int64_t> dp(256,0);\n    REP(i,n){\n      vector<int64_t> tmp(256,INT64_C(1000000000000000));\n      REP(j,256){\n        REP(k,m){\n          int newv = min(255, max(0, j+codes[k]));\n          int diff = data[i] - newv;\n          int sqd = diff*diff;\n          tmp[newv] = min(tmp[newv], dp[j] + sqd);\n        }\n      }\n      dp.swap(tmp);\n    }\n    cout << *min_element(begin(dp),end(dp)) << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <utility>\n#include <cstring>\n#include <cmath>\n#include <queue>\nusing namespace std;\n\n#define rep(i,n) for(int i=0; i<n; i++)\n#define FOR(i,s,n) for(int i=s; i<n; i++)\n#define ALL(x) x.begin(), x.end()\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> pii;\ntypedef vector<int> vi;\n\nstruct node {\n\tint cost;\n\tint ind;\n\tint val;\n\tnode(int c, int i, int v) {\n\t\tcost = c;\n\t\tind = i;\n\t\tval = v;\n\t}\n};\n\nbool operator<(const node& lhs, const node& rhs) {\n\treturn lhs.cost > rhs.cost;\n}\n\nint main() {\n\tint n, m;\n\twhile(cin >> n >> m, n || m) {\n\t\tvector<int> c(m), x(n);\n\t\trep(i,m) cin >> c[i];\n\t\trep(i,n) cin >> x[i];\n\t\tpriority_queue<node> que;\n\t\tque.push(node(0, 0, 128));\n\t\twhile(!que.empty()) {\n\t\t\tnode nd = que.top();\n\t\t\tque.pop();\n\t\t\tif( nd.ind == n ) {\n\t\t\t\tcout << nd.cost << endl;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\trep(i, m) {\n\t\t\t\tint nval = min(max(nd.val+c[i], 1), 255);\n\t\t\t\tque.push(node(nd.cost+(x[nd.ind]-nval)*(x[nd.ind]-nval), nd.ind+1, nval));\n\t\t\t}\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint dp[2][256];\nconst int INF=1e9;\nint N,M;\nint val[20000],c[16];\n\ninline int conv(int v){\n    return max(min(v,255),0);\n}\n\nvoid solve(){\n    fill_n(*dp,2*256,INF);\n    dp[0][128]=0;\n    int *prev=dp[0],*next=dp[1];\n\n    for(int i=0;i<N;i++){\n        for(int j=0;j<256;j++){\n            if(prev[j]==INF)continue;\n            for(int k=0;k<M;k++){\n                int t=conv(j+c[k]);\n                int v=(t-val[i])*(t-val[i]);\n\n                next[t]=min(next[t],prev[j]+v);\n            }\n            prev[j]=INF;\n        }\n        swap(prev,next);\n    }\n\n    printf(\"%d\\n\",*min_element(dp[N&1],dp[N&1]+256));\n\n}\n\nint main(){\n    while(scanf(\"%d%d\",&N,&M),N||M){\n        for(int i=0;i<M;i++)scanf(\"%d\",&c[i]);\n        for(int i=0;i<N;i++)scanf(\"%d\",&val[i]);\n        solve();\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "// g++ -std=c++11 temp.cpp\n#include <bits/stdc++.h>\nusing namespace std;\n\n#define For(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define Rep(i,n) For(i,0,n)\n#define Each(itr,v) for(auto itr:v)\n#define pb(s) push_back(s)\n#define mp(a,b) make_pair(a,b)\n#define all(x) (x).begin(),(x).end()\n#define dbg(x) cout<<#x\"=\"<<x<<endl\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int, int> P;\ntypedef pair<P, int> PPI;\n\n#define INF INT_MAX/3\n\n#define MAX_M 16\n#define MAX_N 20000\n\nint N, M;\nint C[MAX_M], x[MAX_N];\nint dp[MAX_N][256];\n\n/*\nbool sorter(const A& x, const A& y){\n\treturn x.a < y.a;\n}\n\nint gcd(int a, int b){\n\tif(b == 0) return a;\n\treturn gcd(b, a%b);\n}\n\nint lcm(int a, int b){\n\tif(a == 0 || b == 0) return 0;\n\treturn a*b/gcd(a,b);\n}\n*/\n\nvoid solve() {\n\tRep(i,MAX_N)Rep(j,256) dp[i][j] = INF;\n\tdp[0][128] = 0;\n\tRep(i,N)Rep(j,256)Rep(k,M){\n\t\tint xx = j + C[k];\n\t\tif(xx < 0) xx = 0;\n\t\tif(xx > 255) xx = 255;\n\t\tint cost = (x[i]-xx)*(x[i]-xx);\n\t\tdp[i+1][xx] = min(dp[i+1][xx], dp[i][j]+cost);\n\t}\n\tint res = INF;\n\tRep(i,256) res = min(res, dp[N][i]);\n\tprintf(\"%d\\n\", res);\n}\n\nint main(){\n\twhile(1){\n\t\tscanf(\"%d %d\", &N, &M);\n\t\tif(N == 0) break;\n\t\tRep(i,M){\n\t\t\tscanf(\"%d\", &C[i]);\n\t\t}\n\t\tRep(i,N) scanf(\"%d\", &x[i]);\n\t\tsolve();\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "//http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=2199&lang=jp\n//Differential Pulse Code Modulation\n#include <bits/stdc++.h>\n#if LOCAL\n#include \"dump.hpp\"\n#else\n#define dump(...)\n#endif\nusing namespace std;\nusing ll=long long;\n#define FOR(i,a,b) for(ll i=(a);i<(b);++i)\n#define REP(i,n) FOR(i,0,n)\ntemplate<class T>bool chmax(T &a, const T &b) {if (a<b) { a=b; return 1; } return 0;}\ntemplate<class T>bool chmin(T &a, const T &b) {if (b<a) { a=b; return 1; } return 0;}\nint solve(){\n\tll N,M; cin>>N>>M;\n\tif (N==0&&M==0) return -1;\n\tvector<ll> cm(M);\n\tfor(auto&& c:cm){\n\t\tcin>>c;\n\t}\n\n\tvector<int> xn(N);\n\tfor(auto&& x:xn) cin>>x;\n\n\tconstexpr ll INF=2LL<<60;\n\tvector<vector<ll>> dp(N+1,vector<ll>(256,INF));\n\tdp[0][128]=0;\n\tFOR(i,0,N){\n\t\tauto x=xn.at(i);\n\t\tFOR(v,0,256){ //FIXME:0->\n\t\t\tFOR(c,0,cm.size()){\n\t\t\t\tll cv= cm.at(c);\n\t\t\t\tll next_v=v+cv;\n\t\t\t\tif (next_v<0) next_v=0;\n\t\t\t\tif (next_v>=255) next_v=255;\n\t\t\t\tll ad=(next_v-x);\n\t\t\t\tif (dp[i][v]<INF) chmin(dp[i+1][next_v],dp[i][v]+ad*ad);\n\t\t\t}\n\t\t}\n\t}\n\n\tll ret=INF;\n\tFOR(v,0,256){\n\t\tchmin(ret,dp[N][v]);\n\t}\n\n\treturn ret;\n}\nint main() {\n#if LOCAL&01\n\tstd::ifstream in(\"./test/sample-1.in\");\n\t//std::ifstream in(\"./input.txt\");\n\tstd::cin.rdbuf(in.rdbuf());\n#else\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n#endif\n\twhile(true){\n\t\tll r=solve();\n\t\tif(r<0)break;\n\t\tcout<<r<<endl;\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <vector>\n#include <map>\n#include <set>\n#include <iostream>\n#include <string>\n#include <algorithm>\n#include <assert.h>\nusing namespace std;\ntypedef long long ll;\n\n#define REP(j,n) for (int (j)=0; j<(int)(n); ++j)\n#define FOR(j,k,n) for (int (j)=(k); j<(int)(n); ++j)\n#define FOREQ(j,k,n) for (int (j)=(k); j<=(int)(n); ++j)\n\n#define MEMSET(z,val) memset(z,val,sizeof(z))\n\nint n, m;\nint x[30000];\nint c[100];\nint memo[30000][300];\n\ninline ll square(ll x) { return x * x; }\n\nll calc(int depth, int color) {\n    assert(0 <= color && color <= 255);\n    if (memo[depth][color] != -1) { return memo[depth][color]; }\n    if (depth == n) { return memo[depth][color] = 0; }\n    ll ret = 1LL << 60;\n    REP(i, m) {\n        int ncolor = color + c[i];\n        ncolor = max(0, min(255, ncolor));\n        int cost = square(abs(x[depth + 1] - ncolor));\n        ret = min(ret, calc(depth + 1, ncolor) + cost);\n    }\n    return memo[depth][color] = ret;\n}\n\nint main() {\n    while (scanf(\"%d %d\", &n, &m), n|m) {\n        MEMSET(memo, -1);\n        REP(i, m) {\n            scanf(\"%d\", &c[i]);\n        }\n        REP(i, n) {\n            scanf(\"%d\", &x[i + 1]);\n        }\n        printf(\"%lld\\n\", calc(0, 128));\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define inf 2000000000\nusing namespace std;\n\nint n, m;\nint c[20] = {0};\nint x[20005] = {0};\n// dp[i][j][k] x[i], use c[j], k:0 = nownum, 1 = sum\nint dp[20005][20][2] = {0};\n\nint solve();\n\nint main() {\n  int i, j, k;\n  while(1) {\n    cin >> n >> m;\n    if(n + m == 0) break;\n    for(i = 0; i < m; ++i) cin >> c[i];\n    for(i = 0; i < n; ++i) cin >> x[i];\n    for(i = 0; i < m; ++i)\n      for(j = 0; j < n; ++j)\n        for(k = 0; k < 2; ++k) dp[j][i][k] = inf;\n    cout << solve() << endl;\n  }\n  return 0;\n}\n\nint solve() {\n  int i, j, k, ans = inf;\n  for(i = 0; i < n; ++i) {\n    for(j = 0; j < m; ++j) {\n      for(k = 0; k < m; ++k) {\n        int now = 128, bf = 0;\n        if(i != 0) {\n          now = dp[i - 1][k][0];\n          bf = dp[i - 1][k][1];\n        }\n        now += c[j];\n        now = min(now, 255);\n        now = max(now, 0);\n        bf += (now - x[i]) * (now - x[i]);\n        if(dp[i][j][1] > bf) {\n          dp[i][j][1] = bf;\n          dp[i][j][0] = now;\n        }\n        if(i == n - 1) ans = min(ans, dp[i][j][1]);\n      }\n    }\n  }\n  return ans;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define INF 1e+9\n    int dp[700][20100];\nint main(){\n\n  while(1){\n    int N,M;\n    cin >> N >> M;\n    if(!N and !M) break;\n\n    vector<int> c(M);\n    for(int i=0; i<M; i++)\n      cin >> c[i];\n  \n    vector<int> x(N+1);\n    x[0] = 128;\n    for(int i=1; i<=N; i++)\n      cin >> x[i];\n\n    // DP\n\n    for(int i=0; i<600; i++)\n      for(int j=0; j<20100; j++)\n\tdp[i][j] = INF;\n\n    dp[128][0] = 0;\n    \n    for(int i=0; i<N; i++){\n      for(int j=0; j<=255; j++){\n\tif(dp[j][i] != INF){\n\t  for(int dy : c){\n\t    int ny = j+dy;\n\t    if(ny < 0) ny = 0;\n\t    if(ny > 255) ny = 255;\n\t    dp[ny][i+1] = min(dp[ny][i+1],dp[j][i] + (x[i+1]-ny)*(x[i+1]-ny));\n\t  }\n\t}\n      }\n    }\n  \n    int ans = INF;\n    for(int j=0; j<=255; j++){\n      ans = min(dp[j][N],ans);\n    }\n    cout << ans << endl;\n\n  }\n\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\n#include <vector>\n#include <math.h>\n#include <set>\n#include <map>\n#include <string>\n#include <stack>\n#include <queue>\n#include <iomanip>\n#include <numeric>\n#include <tuple>\n#include <bitset>\n#include <complex>\n#include <unistd.h>\n#include <cassert>\n#include <cctype>\n#include <random>\n#define _USE_MATH_DEFINES\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> plglg;\ntypedef tuple<int, int, int> tiii;\ntypedef tuple<ll, ll, ll> tlglglg;\ntypedef complex<double> xy_t;\nint dx[4] = {1, 0, -1, 0};\nint dy[4] = {0, 1, 0, -1};\ndouble pi = 3.141592653589793;\nll mod = 1000000007;\nint intmax = 2147483647;\nint intmin = -2147483648;\nll llmax = 9223372036854775807;\nll llmin = -9223372036854775807;\nll inf = llmax / 2;\ndouble eps = 1e-11;\n\nll dp[20010][260];\n\nint main() {\n    while (1) {\n        int N, M;\n        cin >> N >> M;\n        if (N == 0) {\n            break;\n        }\n        int c[M];\n        for (int i = 0; i < M; i++) {\n            cin >> c[i];\n        }\n        int x[N];\n        for (int i = 0; i < N; i++) {\n            cin >> x[i];\n        }\n        for (int i = 0; i < N + 10; i++) {\n            fill(dp[i], dp[i] + 260, inf);\n        }\n        dp[0][128] = 0;\n        for (int i = 0; i < N; i++) {\n            for (int j = 0; j <=255; j++) {\n                if (dp[i][j] != inf) {\n                    for (int k = 0; k < M; k++) {\n                        int num = j + c[k];\n                        num = min(num, 255);\n                        num = max(num, 0);\n                        dp[i + 1][num] = min(dp[i + 1][num], dp[i][j] + (num - x[i]) * (num - x[i]));\n                    }\n                }\n            }\n        }\n        ll ans = inf;\n        for (int i = 0; i <= 255; i++) {\n            ans = min(ans, dp[N][i]);\n        }\n        cout << ans << endl;\n    }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n#define INF (1<<28)\nint N,M;\nint t[20000];\nint u[20000];\nint dp[20000][256];\n \nvoid init(){\n  for(int i=0;i<20000;i++)\n    for(int j=0;j<256;j++)\n      dp[i][j]=INF;\n}\n \nint calc(int a,int b){\n  if(a+b<0)return 0;\n  if(a+b>=256)return 255;\n  return a+b;\n}\n \nint dist(int a,int b){\n  return (a-b)*(a-b);\n}\n \nint main(){\n  while(1){\n    cin>>N>>M;\n    if(N==0&&M==0)break;\n    init();\n    for(int i=0;i<M;i++)cin>>t[i];\n    for(int i=0;i<N;i++)cin>>u[i];\n    for(int i=0;i<M;i++)dp[0][calc(128,t[i])]=dist(calc(128,t[i]),u[0]);\n \n    for(int i=0;i+1<N;i++){\n      for(int j=0;j<256;j++){\n    if(dp[i][j]==INF)continue;\n    //cout<<i<<' '<<j<<' '<<dp[i][j]<<endl;\n    for(int k=0;k<M;k++){\n      int A=calc(j,t[k]);\n      //cout<<A<<endl;\n      dp[i+1][A]=min(dp[i+1][A],dp[i][j]+dist(A,u[i+1]));\n       \n    }\n      }\n    }\n    int ans=INF;\n    for(int i=0;i<256;i++)\n      ans=min(ans,dp[N-1][i]);\n    cout<<ans<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cstdio>\n#include <iostream>\n#include <map>\n#include <cmath>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <vector>\n#include <stdlib.h>\n#include <stdio.h>\n#include <bitset>\n#include <cstring>\nusing namespace std;\n#define FOR(I,A,B) for(int I = (A); I < (B); ++I)\n#define CLR(mat) memset(mat, 0, sizeof(mat))\ntypedef long long ll;\nll dp[20004][256]; \nint main()\n{\n  ios::sync_with_stdio(false);\n  cin.tie(0);\n  int N, M;\n  while(cin>>N>>M,N||M) {\n    int c[M]; FOR(i,0,M) cin >> c[i];\n    int x[N]; FOR(i,0,N) cin >> x[i];\n    FOR(i,0,N+1) FOR(j,0,256) dp[i][j] = 1e18;\n    dp[0][128] = 0;\n    FOR(i,0,N) {\n      FOR(j,0,256) {\n        if(dp[i][j] == 1e15) continue;\n        FOR(k,0,M) {\n          int y = max(0, min(255, j + c[k]));\n          dp[i+1][y] = min(dp[i+1][y], dp[i][j] + (ll)(x[i]-y) * (ll)(x[i]-y));\n        }\n      }\n    }\n    ll ans = 1e18;\n    FOR(i,0,256) ans = min(ans, dp[N][i]);\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n\nusing namespace std;\n\nlong long int ans;\n\nvoid function(int y,int index,int *c,int *x,int n,int m,int now){\n\n\t//cout<<y<<\" \"<<index<<\" \"<<n<<\" \"<<m<<\" \"<<now<<endl;\n\n\tif(now>=ans){\n\t\treturn;\n\t}\n\tif(index>=n){\n\t\tif(ans>=now){\n\t\t\tans = now;\n\t\t}\n\t\treturn;\n\t}\n\tfor(int i=0;i<m;i++){\n\t\tfunction(y+c[i],index+1,c,x,n,m,now+(y+c[i]-x[index])*(y+c[i]-x[index]));\n\t}\n}\n\nint main(){\n\n\tint n,m;\n\tans = 1000000000000000;\n\n\twhile(cin>>n>>m){\n\t\tans = 1000000000000000;\n\t\tif(n==0 && m==0){\n\t\t\tbreak;\n\t\t}\n\t\tint *c;\n\t\tint *x;\n\t\tc = new int[m];\n\t\tx = new int[n];\n\n\t\tfor(int i=0;i<m;i++){\n\t\t\tcin>>c[i];\n\t\t}\n\t\tfor(int i=0;i<n;i++){\n\t\t\tcin>>x[i];\n\t\t}\n\t\tfunction(128,0,c,x,n,m,0);\n\t\tcout<<ans<<endl;\n\n\t}\n\n\treturn 0;\n\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\n#define INF 1000000000\n\ntypedef struct{\n\tint val;\n\tint sum;\n} data;\n\ndata dp[16][2000];\n\nint main(void){\n\tint n,m,i,j,k,c[16],x[2000],min;\n\tdata tmp;\n\twhile(scanf(\"%d %d\",&n,&m)!=0 && n!=0 && m!=0){\n\t\tfor(i=0;i<m;i++){\n\t\t\tscanf(\"%d\",&c[i]);\n\t\t}\n\t\tfor(i=0;i<n;i++){\n\t\t\tscanf(\"%d\",&x[i]);\n\t\t}\n\t\tfor(i=0;i<n;i++){\n\t\t\tfor(j=0;j<m;j++){\n\t\t\t\tdp[i][j].sum=INF;\n\t\t\t}\n\t\t}\n\t\tfor(i=0;i<m;i++){\n\t\t\tdp[0][i].val=128+c[i];\n\t\t\tif(dp[0][i].val<0){\n\t\t\t\tdp[0][i].val=0;\n\t\t\t}\n\t\t\tif(dp[0][i].val>255){\n\t\t\t\tdp[0][i].val=255;\n\t\t\t}\n\t\t\tdp[0][i].sum=(dp[0][i].val-x[0])*(dp[0][i].val-x[0]);\n\t\t}\n\t\tfor(i=1;i<n;i++){\n\t\t\tfor(j=0;j<m;j++){\n\t\t\t\tfor(k=0;k<m;k++){\t\n\t\t\t\t\ttmp.val=dp[i-1][j].val+c[k];\n\t\t\t\t\tif(tmp.val<0){\n\t\t\t\t\t\ttmp.val=0;\n\t\t\t\t\t}\n\t\t\t\t\tif(tmp.val>255){\n\t\t\t\t\t\ttmp.val=255;\n\t\t\t\t\t}\n\t\t\t\t\ttmp.sum=dp[i-1][j].sum+((tmp.val-x[i])*(tmp.val-x[i]));\n\t\t\t\t\tif(tmp.sum<dp[i][j].sum){\n\t\t\t\t\t\tdp[i][j].val=tmp.val;\n\t\t\t\t\t\tdp[i][j].sum=tmp.sum;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tmin=INF;\n\t\tif(n==0){\n\t\t\tmin=0;\n\t\t}\n\t\tfor(i=0;i<m && n!=0;i++){\n\t\t\tif(dp[n-1][i].sum<min){\n\t\t\t\tmin=dp[n-1][i].sum;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",min);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\n#define INF 1000000000\n\ntypedef struct{\n\tint val;\n\tint sum;\n} data;\n\ndata dp[20000][16];\n\nint main(void){\n\tint n,m,i,j,k,c[16],x[20000],min;\n\tdata tmp;\n\twhile(scanf(\"%d %d\",&n,&m)!=0 && n!=0 && m!=0){\n\t\tfor(i=0;i<m;i++){\n\t\t\tscanf(\"%d\",&c[i]);\n\t\t}\n\t\tfor(i=0;i<n;i++){\n\t\t\tscanf(\"%d\",&x[i]);\n\t\t}\n\t\tfor(i=0;i<n;i++){\n\t\t\tfor(j=0;j<m;j++){\n\t\t\t\tdp[i][j].sum=INF;\n\t\t\t}\n\t\t}\n\t\tfor(i=0;i<m;i++){\n\t\t\tdp[0][i].val=128+c[i];\n\t\t\tif(dp[0][i].val<0){\n\t\t\t\tdp[0][i].val=0;\n\t\t\t}\n\t\t\tif(dp[0][i].val>255){\n\t\t\t\tdp[0][i].val=255;\n\t\t\t}\n\t\t\tdp[0][i].sum=(dp[0][i].val-x[0])*(dp[0][i].val-x[0]);\n\t\t}\n\t\tfor(i=1;i<n;i++){\n\t\t\tfor(j=0;j<m;j++){\n\t\t\t\tfor(k=0;k<m;k++){\t\n\t\t\t\t\ttmp.val=dp[i-1][j].val+c[k];\n\t\t\t\t\tif(tmp.val<0){\n\t\t\t\t\t\ttmp.val=0;\n\t\t\t\t\t}\n\t\t\t\t\tif(tmp.val>255){\n\t\t\t\t\t\ttmp.val=255;\n\t\t\t\t\t}\n\t\t\t\t\ttmp.sum=dp[i-1][j].sum+((tmp.val-x[i])*(tmp.val-x[i]));\n\t\t\t\t\tif(tmp.sum<dp[i][j].sum){\n\t\t\t\t\t\tdp[i][j].val=tmp.val;\n\t\t\t\t\t\tdp[i][j].sum=tmp.sum;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tmin=INF;\n\t\tif(n==0){\n\t\t\tmin=0;\n\t\t}\n\t\tfor(i=0;i<m && n!=0;i++){\n\t\t\tif(dp[n-1][i].sum<min){\n\t\t\t\tmin=dp[n-1][i].sum;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",min);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\n#define INF 1000000000\n\ntypedef struct{\n\tint val;\n\tint sum;\n} data;\n\ndata dp[20000][16];\n\nint main(void){\n\tint n,m,i,j,k,c[16],x[20000],min;\n\tdata tmp;\n\twhile(scanf(\"%d %d\",&n,&m)!=0 && n!=0 && m!=0){\n\t\tfor(i=0;i<m;i++){\n\t\t\tscanf(\"%d\",&c[i]);\n\t\t}\n\t\tfor(i=0;i<n;i++){\n\t\t\tscanf(\"%d\",&x[i]);\n\t\t}\n\t\tfor(i=0;i<n;i++){\n\t\t\tfor(j=0;j<m;j++){\n\t\t\t\tdp[i][j].sum=INF;\n\t\t\t}\n\t\t}\n\t\tfor(i=0;i<m;i++){\n\t\t\tdp[0][i].val=128+c[i];\n\t\t\tif(dp[0][i].val<0){\n\t\t\t\tdp[0][i].val=0;\n\t\t\t}\n\t\t\tif(dp[0][i].val>255){\n\t\t\t\tdp[0][i].val=255;\n\t\t\t}\n\t\t\tdp[0][i].sum=(dp[0][i].val-x[0])*(dp[0][i].val-x[0]);\n\t\t}\n\t\tfor(i=1;i<n;i++){\n\t\t\tfor(j=0;j<m;j++){\n\t\t\t\tfor(k=0;k<m;k++){\t\n\t\t\t\t\ttmp.val=dp[i-1][j].val+c[k];\n\t\t\t\t\tif(tmp.val<0){\n\t\t\t\t\t\ttmp.val=0;\n\t\t\t\t\t}\n\t\t\t\t\tif(tmp.val>255){\n\t\t\t\t\t\ttmp.val=255;\n\t\t\t\t\t}\n\t\t\t\t\ttmp.sum=dp[i-1][j].sum+((tmp.val-x[i])*(tmp.val-x[i]));\n\t\t\t\t\tif(tmp.sum<dp[i][j].sum){\n\t\t\t\t\t\tdp[i][j].val=tmp.val;\n\t\t\t\t\t\tdp[i][j].sum=tmp.sum;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tmin=INF;\n\t\tif(n==0){\n\t\t\tmin=0;\n\t\t}\n\t\tfor(i=0;i<m && n!=0;i++){\n\t\t\tif(dp[n-1][i].sum<min){\n\t\t\t\tmin=dp[n-1][i].sum;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",min);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include<stdlib.h>\n\nint main(void)\n{\n\n\tint i,j,k;\n\tint n,m;\n\tint x[20001],c[16];\n\tint **dp;\n\tint tmp1,tmp2;\n\tint min;\n\n\n\t\tdp = (int **)malloc(sizeof(int)*(20001));\n\t\t\n\t\tfor(i=0;i<=n;i++){\n\t\t\tdp[i] = (int *)malloc(sizeof(int)*256);\n\t\t}\n\n\twhile(1)\n\t{\n\t\tscanf(\"%d %d \",&n,&m);\n\t\tif(n==0 && m==0)break;\n\t\t\n\n\t\t\n\t\tfor(i=0;i<m;i++){\n\t\t\tscanf(\"%d \",&c[i]);\n\t\t}\n\t\t\n\t\tfor(i=1;i<=n;i++){\n\t\t\tfor(j=0;j<256;j++){\n\t\t\t\tdp[i][j] = -1;\n\t\t\t}\n\t\t}\n\t\t\n\t\tfor(i=1;i<=n;i++){\n\t\t\tscanf(\"%d \",&x[i]);\n\t\t\tif(i==1){\n\t\t\t\tfor(k=0;k<m;k++){\n\t\t\t\t\ttmp1 = 128 + c[k];\n\t\t\t\t\tif(tmp1<0)tmp1=0;\n\t\t\t\t\tif(tmp1>255)tmp1=255;\n\t\t\t\t\ttmp2 = (tmp1 - x[i]) * (tmp1 - x[i]);\n\t\t\t\t\tdp[i][tmp1] = tmp2;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tfor(j=0;j<256;j++){\n\t\t\t\t\tif(dp[i-1][j] >= 0){\n\t\t\t\t\t\tfor(k=0;k<m;k++){\n\t\t\t\t\t\t\ttmp1 = j + c[k];\n\t\t\t\t\t\t\tif(tmp1<0)tmp1=0;\n\t\t\t\t\t\t\tif(tmp1>255)tmp1=255;\n\t\t\t\t\t\t\ttmp2 = (tmp1 - x[i]) * (tmp1 - x[i]);\n\t\t\t\t\t\t\tif(dp[i][tmp1] <0)dp[i][tmp1] = dp[i-1][j] +\ttmp2;\n\t\t\t\t\t\t\tif(dp[i][tmp1] > dp[i-1][j] + tmp2)dp[i][tmp1] = dp[i-1][j] + tmp2;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tmin=2000000000;\n\t\tfor(i=0;i<256;i++){\n\t\t\tif(min > dp[n][i] && dp[n][i] >= 0)min = dp[n][i];\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\",min);\n\t}\n\treturn 0;\n}\n\n\t\t\t\n\t\t\t"
  },
  {
    "language": "C",
    "code": "// Aizu 2199: Differential Pulse Code Modulation\n// 2017.9.21 bal4u@uu\n// 2017.12.10\n\n#include <stdio.h>\n#include <string.h>\n\n#define INF   0x7fffff\nint code[18];\t\t\t\t// code book\nint dp[20001][257];\t\t\t// Sum of Squares\n\nchar buf[15], *p;\nint getsint()\n{\n\tint n = 0;\n\tif (*p == '-') {\n\t\tp++; while (*p >= '0') n = (n<<3) + (n<<1) + (*p++ & 0xf);\n\t\treturn -n;\n\t}\n\twhile (*p >= '0') n = (n<<3) + (n<<1) + (*p++ & 0xf);\n\treturn n;\n}\n\nint getint()\n{\n\tint n = 0;\n\twhile (*p >= '0') n = (n<<3) + (n<<1) + (*p++ & 0xf);\n\treturn n;\n}\n\nint main()\n{\n\tint n, m, i, j, k, x, s, t, ans;\n\n\twhile (fgets(p=buf, 15, stdin) && *p != '0') {\n\t\tn = getint(), p++, m = getint();\n\t\tfor (j = 0; j < m; j++) fgets(p=buf, 10, stdin), code[j] = getsint();\n\n\t\tmemset(dp, 0x33, sizeof(dp));\n\t\tdp[0][128] = 0;\n\n\t\tfor (k = 0; k < n; k++) {\n\t\t\tfgets(p=buf, 10, stdin), x = getint();\n\t\t\tfor (i = 0; i < 256; i++) {\n\t\t\t\tif (dp[k][i] > INF) continue;\n\t\t\t\tfor (j = 0; j < m; j++) {\n\t\t\t\t\tt = i + code[j];\n\t\t\t\t\tif (t < 0) t = 0;\n\t\t\t\t\tif (t >= 256) t = 255;\n\t\t\t\t\ts = (t-x)*(t-x) + dp[k][i];\n\t\t\t\t\tif (s < dp[k+1][t]) dp[k+1][t] = s;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (ans = INF, i = 0; i < 256; i++) \n\t\t\tif (dp[n][i] < ans) {\n\t\t\t\tans = dp[n][i]; if (ans == 0) break;\n\t\t\t}\n\t\tprintf(\"%d\\n\", ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include<string.h>\n#define min(a,b) (a<=b?a:b)\n#define max(a,b) (a<=b?b:a)\n#define lim(a) (min(max(a,0),255))\n\nint N,M,S[17],I[20001],i,j,k,R,e;\nint dp[20001][256];\nint main()\n{\n\tfor(;scanf(\"%d%d\",&N,&M),N;)\n\t{\n\t\tfor(i=0;i<M;i++)scanf(\"%d\",&S[i]);\n\t\tfor(i=1;i<=N;i++)scanf(\"%d\",&I[i]);\n\t\tmemset(dp,-1,sizeof(dp));\n\t\tdp[0][128]=0;\n\t\tfor(i=0;i<=N;i++)\n\t\t\tfor(j=0;j<=255;j++)\n\t\t\t{\n\t\t\t\tif(dp[i][j]!=-1)\n\t\t\t\t\tfor(k=0;k<M;k++)\n\t\t\t\t\t{\n\t\t\t\t\t\te=min(j+S[k],255)-I[i+1];\n\t\t\t\t\t\tif(dp[i+1][j+S[k]]==-1||dp[i+1][lim(j+S[k])]>dp[i][j]+e*e)\n\t\t\t\t\t\t\tdp[i+1][lim(j+S[k])]=dp[i][j]+e*e;\n\t\t\t\t\t}\n\t\t\t}\n\t\tfor(i=0,R=-1;i<=255;i++)\n\t\t\tif(dp[N][i]!=-1&&(R==-1||R>dp[N][i]))\n\t\t\t\tR=dp[N][i];\n\t\tprintf(\"%d\\n\",R);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <string.h>\n\nint N,M;\nint C[16];\nint x[20000];\n\n/* [now position][prev value] */\nint memo[20000][256];\n\nint tansaku(int now_pos,int prev_value) {\n\tint result=0x7fffffff;\n\tint i;\n\tif(now_pos>=N)return 0;\n\tif(memo[now_pos][prev_value]>0)return memo[now_pos][prev_value]-1;\n\tfor(i=0;i<M;i++) {\n\t\tint now_result;\n\t\tint now_sample=prev_value+C[i];\n\t\tif(now_sample<0)now_sample=0;\n\t\tif(now_sample>255)now_sample=255;\n\t\tnow_result=(now_sample-x[now_pos])*(now_sample-x[now_pos]);\n\t\tnow_result+=tansaku(now_pos+1,now_sample);\n\t\tif(now_result<result)result=now_result;\n\t}\n\tmemo[now_pos][prev_value]=result+1;\n\treturn result;\n}\n\nint main(void) {\n\twhile(scanf(\"%d%d\",&N,&M)==2 && (N|M)!=0) {\n\t\tint i;\n\t\tfor(i=0;i<M;i++)scanf(\"%d\",&C[i]);\n\t\tfor(i=0;i<N;i++)scanf(\"%d\",&x[i]);\n\t\tmemset(memo,0,sizeof(memo));\n\t\tprintf(\"%d\\n\",tansaku(0,128));\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "// AOJ 2199: Differential Pulse Code Modulation\n// 2017.9.21 bal4u@uu\n// 2017.11.22\n\n#include <stdio.h>\n#include <string.h>\n\nint code[18];\t\t\t// code book\nchar y[2][260];\t\t\t// signal\nlong long ss[2][260];\t// Sum of Squares\n\nchar buf[20], *p;\nint getint()\n{\n\tint n = 0;\n\tif (*p == '-') {\n\t\tp++;\n\t\twhile (*p >= '0') n = (n<<3) + (n<<1) + (*p++ & 0xf);\n\t\treturn -n;\n\t}\n\twhile (*p >= '0') n = (n<<3) + (n<<1) + (*p++ & 0xf);\n\treturn n;\n}\nint main()\n{\n\tint n, m, i, j, k, x, k1, k2;\n\tlong long ans, s;\n\n\twhile (fgets(p=buf, 20, stdin) && *p != '0') {\n\t\tn = getint(), p++, m = getint();\n\t\tfor (j = 0; j < m; j++) {\n\t\t\tfgets(p=buf, 10, stdin);\n\t\t\tcode[j] = getint();\n\t\t}\n\t\tmemset(ss, -1, sizeof(ss)), memset(y, 0, sizeof(y)); y[0][128] = 1, ss[0][128] = 0;\n\t\tfor (k1 = 0, k2 = 1, k = 0; k < n; k++, k1 = k2, k2 = !k2) {\n\t\t\tfor (i = 0; i < 256; i++) y[k2][i] = 0, ss[k2][i] = -1LL;\n\t\t\tfgets(p=buf, 10, stdin);\n\t\t\tx = getint();\n\t\t\tfor (i = 0; i < 256; i++) {\n\t\t\t\tif (!y[k1][i]) continue;\n\t\t\t\tfor (j = 0; j < m; j++) {\n\t\t\t\t\tint t = i + code[j];\n\t\t\t\t\tif (t < 0) t = 0;\n\t\t\t\t\tif (t >= 256) t = 255;\n\t\t\t\t\ty[k2][t] = 1;\n\t\t\t\t\ts = (t-x)*(t-x) + ss[k1][i];\n\t\t\t\t\tif (ss[k2][t] < 0 || s < ss[k2][t])\tss[k2][t] = s;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (ans = 1LL << 60, i = 0; i < 256; i++) \n\t\t\tif (ss[k1][i] >= 0 && ss[k1][i] < ans) {\n\t\t\t\tans = ss[k1][i]; if (ans == 0) break;\n\t\t\t}\n\t\tprintf(\"%lld\\n\", ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "// Aizu 2199: Differential Pulse Code Modulation\n// 2017.9.21 bal4u@uu\n// 2017.12.10\n\n#include <stdio.h>\n#include <string.h>\n\n#define INF   0x1fffffff\nint code[18];\t\t\t\t// code book\nint dp[20001][257];\t\t\t// Sum of Squares\n\nchar buf[15], *p;\nint getsint()\n{\n\tint n = 0;\n\tif (*p == '-') {\n\t\tp++; while (*p >= '0') n = (n<<3) + (n<<1) + (*p++ & 0xf);\n\t\treturn -n;\n\t}\n\twhile (*p >= '0') n = (n<<3) + (n<<1) + (*p++ & 0xf);\n\treturn n;\n}\n\nint getint()\n{\n\tint n = 0;\n\twhile (*p >= '0') n = (n<<3) + (n<<1) + (*p++ & 0xf);\n\treturn n;\n}\n\nint main()\n{\n\tint n, m, i, j, k, x, s, t, ans;\n\n\twhile (fgets(p=buf, 15, stdin) && *p != '0') {\n\t\tn = getint(), p++, m = getint();\n\t\tfor (j = 0; j < m; j++) fgets(p=buf, 10, stdin), code[j] = getsint();\n\n\t\tmemset(dp, 0x33, sizeof(dp));\n\t\tdp[0][128] = 0;\n\n\t\tfor (k = 0; k < n; k++) {\n\t\t\tfgets(p=buf, 10, stdin), x = getint();\n\t\t\tfor (i = 0; i < 256; i++) {\n\t\t\t\tif (dp[k][i] > INF) continue;\n\t\t\t\tfor (j = 0; j < m; j++) {\n\t\t\t\t\tt = i + code[j];\n\t\t\t\t\tif (t < 0) t = 0;\n\t\t\t\t\tif (t >= 256) t = 255;\n\t\t\t\t\ts = (t-x)*(t-x) + dp[k][i];\n\t\t\t\t\tif (s < dp[k+1][t]) dp[k+1][t] = s;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (ans = INF, i = 0; i < 256; i++) \n\t\t\tif (dp[n][i] < ans) {\n\t\t\t\tans = dp[n][i]; if (ans == 0) break;\n\t\t\t}\n\t\tprintf(\"%d\\n\", ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include<string.h>\n#define min(a,b) (a<=b?a:b)\n#define max(a,b) (a<=b?b:a)\n#define lim(a) (min(max(a,0),255))\n\nint N,M,S[17],I[20005],i,j,k,R,e;\nint dp[20005][256];\nint main()\n{\n\tfor(;scanf(\"%d%d\",&N,&M),N;)\n\t{\n\t\tfor(i=0;i<M;i++)scanf(\"%d\",&S[i]);\n\t\tfor(i=1;i<=N;i++)scanf(\"%d\",&I[i]);\n\t\tmemset(dp,-1,sizeof(dp));\n\t\tdp[0][128]=0;\n\t\tfor(i=0;i<=N;i++)\n\t\t\tfor(j=0;j<=255;j++)\n\t\t\t{\n\t\t\t\tif(dp[i][j]!=-1)\n\t\t\t\t\tfor(k=0;k<M;k++)\n\t\t\t\t\t{\n\t\t\t\t\t\te=lim(j+S[k])-I[i+1];\n\t\t\t\t\t\tif(dp[i+1][lim(j+S[k])]==-1||dp[i+1][lim(j+S[k])]>dp[i][j]+e*e)\n\t\t\t\t\t\t\tdp[i+1][lim(j+S[k])]=dp[i][j]+e*e;\n\t\t\t\t\t}\n\t\t\t}\n\t\tfor(i=0,R=-1;i<=255;i++)\n\t\t\tif(dp[N][i]!=-1&&(R==-1||R>dp[N][i]))\n\t\t\t\tR=dp[N][i];\n\t\tprintf(\"%d\\n\",R);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <string.h>\n#include <stdlib.h>\n\n#define BUF_SIZE 20\n\nint get_int(void) {\n  int num;\n#ifdef BUF_SIZE\n  char line[BUF_SIZE];\n  if(!fgets(line, BUF_SIZE, stdin)) return 0;\n  sscanf(line, \"%d\", &num);\n#else\n#error\n#endif\n  return num;\n}\n\nint get_int2(int *a1, int *a2) {\n#ifdef BUF_SIZE\n  char line[BUF_SIZE];\n  if(!fgets(line, BUF_SIZE, stdin)) return -1;\n  sscanf(line, \"%d %d\", a1, a2);\n#else\n#error\n#endif\n  return 0;\n}\n\n#define SET_MAX 16\n#define VAL_MAX 255\n#define SAMPLE_MAX 20000\n#define ANS_MAX 10000\n#define INIT_SAMPLE 128\n#define min(a,b) ((a) > (b) ? (b) : (a))\n// 522133279\n// This is within INT_MAX condidering the worst case;\n// // (N: 20000) * (diff_max: 255)*diff_max = 20000 * 65535 <= 1400000000\n#define INF 0x1f1f1f1f\n#include <limits.h>\n\nint main(void) {\n    int ss, ts;\n    int ans[ANS_MAX];\n    int ans_idx = 0;\n    int i, j;\n    static int dp[SAMPLE_MAX+1][VAL_MAX+1];\n    while(1) {\n        get_int2(&ss, &ts);\n        if(ss+ts == 0) break;\n        int table[SET_MAX];\n        int samples[SAMPLE_MAX+1];\n        for(i = 0; i < ts; i++) {\n            table[i] = get_int();\n        }\n        for(i = 1; i <= ss; i++) {\n            samples[i] = get_int();\n        }\n\n        // initialization\n        memset(dp, 0x1f, (SAMPLE_MAX+1)*(VAL_MAX+1)*sizeof(int));\n        dp[0][128] = 0;\n        int prev;\n        for(i = 1; i <= ss; i++) {\n            int target = samples[i];\n            for(j = 0; j < ts; j++) {\n                int code = table[j];\n                for(prev = 0; prev <= VAL_MAX; prev++) {\n                    int cur = prev+code;\n                    if(cur < 0) cur = 0;\n                    if(cur > VAL_MAX) cur = VAL_MAX;\n                    int diff2 = (target - cur)*(target-cur);\n                    dp[i][cur] = min(dp[i-1][prev] + diff2, dp[i][cur]);\n                }\n            }\n        }\n        int res = INT_MAX;\n        for(i = 0; i <= VAL_MAX; i++) {\n            res = min(res, dp[ss][i]);\n        }\n        ans[ans_idx++] = res;\n    }\n    for(i = 0; i < ans_idx; i++) {\n        printf(\"%d\\n\", ans[i]);\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint MIN(int a,int b){return a<b?a:b;}\nint d[20010][300];\nint main(){\n  int n,m,b[20],min,i,j,k,a,c;\n  while(scanf(\"%d %d\",&n,&m),n||m){\n    for(i=0;i<n*300+300;i++)d[i/300][i%300]=1e8;\n    for(i=0;i<m;i++)scanf(\"%d\",&b[i]);\n    d[0][128]=0;\n    for(i=1;i<=n;i++){\n      scanf(\"%d\",&a);\n      for(j=0;j<256;j++){\n\tfor(k=0;k<m;k++){\n\t  c=MIN(255,j+b[k]);\n\t  if(c<0)c=0;\t  \n\t  d[i][c]=MIN(d[i][c],d[i-1][j]+(c-a)*(c-a));\n\t}\n      }\n    }\n    /*for(j=0;j<3;j++){\n      for(i=120;i<140;i++)printf(\"%10d \",d[j][i]);\n      printf(\"\\n\");\n      }//*/\n    min=1e8;\n    for(i=0;i<256;i++)min=MIN(min,d[n][i]);\n    printf(\"%d\\n\",min);\n  }\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "// Aizu 2199: Differential Pulse Code Modulation\n// 2017.9.21 bal4u@uu\n// 2017.12.10\n\n#include <stdio.h>\n#include <string.h>\n\n#define INF   0x1fffffff\nint code[16];\t\t\t\t// code book\nint dp[20001][257];\t\t\t// Sum of Squares\n\nint x2[256][256];\nint tbl[256][16];\n\nchar buf[15], *p;\nint getsint()\n{\n\tint n = 0;\n\tif (*p == '-') {\n\t\tp++; while (*p >= '0') n = (n<<3) + (n<<1) + (*p++ & 0xf);\n\t\treturn -n;\n\t}\n\twhile (*p >= '0') n = (n<<3) + (n<<1) + (*p++ & 0xf);\n\treturn n;\n}\n\nint getint()\n{\n\tint n = 0;\n\twhile (*p >= '0') n = (n<<3) + (n<<1) + (*p++ & 0xf);\n\treturn n;\n}\n\nint main()\n{\n\tint n, m, i, j, k, x, s, t, ans;\n\n\tfor (i = 0; i < 256; i++) for (j = i+1; j < 256; j++) x2[i][j] = x2[j][i] = (i-j)*(i-j);\n\n\twhile (fgets(p=buf, 15, stdin) && *p != '0') {\n\t\tn = getint(), p++, m = getint();\n\n\t\tfor (j = 0; j < m; j++) fgets(p=buf, 10, stdin), code[j] = getsint();\n\t\tfor (i = 0; i < 256; i++) for (j = 0; j < m; j++) {\n\t\t\tt = i + code[j];\n\t\t\tif (t < 0) t = 0;\n\t\t\telse if (t >= 256) t = 255;\n\t\t\ttbl[i][j] = t;\n\t\t}\n\n\t\tmemset(dp, 0x33, sizeof(dp));\n\t\tdp[0][128] = 0;\n\n\t\tfor (k = 0; k < n; k++) {\n\t\t\tfgets(p=buf, 10, stdin), x = getint();\n\t\t\tfor (i = 0; i < 256; i++) {\n\t\t\t\tif (dp[k][i] > INF) continue;\n\t\t\t\tfor (j = 0; j < m; j++) {\n\t\t\t\t\tt = tbl[i][j], s = x2[t][x] + dp[k][i];\n\t\t\t\t\tif (s < dp[k+1][t]) dp[k+1][t] = s;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (ans = INF, i = 0; i < 256; i++) if (dp[n][i] < ans) ans = dp[n][i];\n\t\tprintf(\"%d\\n\", ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include<stdlib.h>\n\nint main(void)\n{\n\n\tint i,j,k;\n\tint n,m;\n\tint x[20001],c[16];\n\tint **dp;\n\tint tmp1,tmp2;\n\tint min;\n\n\n\t\tdp = (int **)malloc(sizeof(int)*(20001));\n\t\t\n\t\tfor(i=0;i<=n;i++){\n\t\t\tdp[i] = (int *)malloc(sizeof(int)*256);\n\t\t}\n\n\twhile(1)\n\t{\n\t\tscanf(\"%d %d \",&n,&m);\n\t\tif(n==0 && m==0)break;\n\t\t\n\n\t\t\n\t\tfor(i=0;i<m;i++){\n\t\t\tscanf(\"%d \",&c[i]);\n\t\t}\n\t\t\n\t\tfor(i=1;i<=n;i++){\n\t\t\tfor(j=0;j<256;j++){\n\t\t\t\tdp[i][j] = 2000000000;\n\t\t\t}\n\t\t}\n\t\t\n\t\tscanf(\"%d \",&x[i]);\n\t\t\n\t\tfor(k=0;k<m;k++){\n\t\t\ttmp1 = 128 + c[k];\n\t\t\tif(tmp1<0)tmp1=0;\n\t\t\tif(tmp1>255)tmp1=255;\n\t\t\ttmp2 = (tmp1 - x[1]) * (tmp1 - x[1]);\n\t\t\tdp[1][tmp1] = tmp2;\n\t\t}\n\t\t\n\t\tfor(i=2;i<=n;i++){\n\t\t\tfor(j=0;j<256;j++){\n\t\t\t\tif(dp[i-1][j] >= 0){\n\t\t\t\t\tfor(k=0;k<m;k++){\n\t\t\t\t\t\ttmp1 = j + c[k];\n\t\t\t\t\t\tif(tmp1<0)tmp1=0;\n\t\t\t\t\t\tif(tmp1>255)tmp1=255;\n\t\t\t\t\t\ttmp2 = (tmp1 - x[i]) * (tmp1 - x[i]);\n\t\t\t\t\t\tif(dp[i][tmp1] > dp[i-1][j] + tmp2)dp[i][tmp1] = dp[i-1][j] + tmp2;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tmin=2000000000;\n\t\tfor(i=0;i<256;i++){\n\t\t\tif(min > dp[n][i])min = dp[n][i];\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\",min);\n\t}\n\treturn 0;\n}\n\n\t\t\t\n\t\t\t"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\n#define INF 1000000000\n\ntypedef struct{\n\tint val;\n\tint sum;\n} data;\n\ndata dp[16][20000];\n\nint main(void){\n\tint n,m,i,j,k,c[16],x[20000],min;\n\tdata tmp;\n\twhile(scanf(\"%d %d\",&n,&m)!=0 && n!=0 && m!=0){\n\t\tfor(i=0;i<m;i++){\n\t\t\tscanf(\"%d\",&c[i]);\n\t\t}\n\t\tfor(i=0;i<n;i++){\n\t\t\tscanf(\"%d\",&x[i]);\n\t\t}\n\t\tfor(i=0;i<n;i++){\n\t\t\tfor(j=0;j<m;j++){\n\t\t\t\tdp[i][j].sum=INF;\n\t\t\t}\n\t\t}\n\t\tfor(i=0;i<m;i++){\n\t\t\tdp[0][i].val=128+c[i];\n\t\t\tif(dp[0][i].val<0){\n\t\t\t\tdp[0][i].val=0;\n\t\t\t}\n\t\t\tif(dp[0][i].val>255){\n\t\t\t\tdp[0][i].val=255;\n\t\t\t}\n\t\t\tdp[0][i].sum=(dp[0][i].val-x[0])*(dp[0][i].val-x[0]);\n\t\t}\n\t\tfor(i=1;i<n;i++){\n\t\t\tfor(j=0;j<m;j++){\n\t\t\t\tfor(k=0;k<m;k++){\t\n\t\t\t\t\ttmp.val=dp[i-1][j].val+c[k];\n\t\t\t\t\tif(tmp.val<0){\n\t\t\t\t\t\ttmp.val=0;\n\t\t\t\t\t}\n\t\t\t\t\tif(tmp.val>255){\n\t\t\t\t\t\ttmp.val=255;\n\t\t\t\t\t}\n\t\t\t\t\ttmp.sum=dp[i-1][j].sum+((tmp.val-x[i])*(tmp.val-x[i]));\n\t\t\t\t\tif(tmp.sum<dp[i][j].sum){\n\t\t\t\t\t\tdp[i][j].val=tmp.val;\n\t\t\t\t\t\tdp[i][j].sum=tmp.sum;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tmin=INF;\n\t\tif(n==0){\n\t\t\tmin=0;\n\t\t}\n\t\tfor(i=0;i<m && n!=0;i++){\n\t\t\tif(dp[n-1][i].sum<min){\n\t\t\t\tmin=dp[n-1][i].sum;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",min);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "include<stdio.h>\n\n#define INF 1000000000\n\ntypedef struct{\n\tint val;\n\tint sum;\n} data;\n\ndata dp[16][20000];\n\nint main(void){\n\tint n,m,i,j,k,c[16],x[20000],min;\n\tdata tmp;\n\twhile(scanf(\"%d %d\",&n,&m)!=0 && n!=0 && m!=0){\n\t\tfor(i=0;i<m;i++){\n\t\t\tscanf(\"%d\",&c[i]);\n\t\t}\n\t\tfor(i=0;i<n;i++){\n\t\t\tscanf(\"%d\",&x[i]);\n\t\t}\n\t\tfor(i=0;i<n;i++){\n\t\t\tfor(j=0;j<m;j++){\n\t\t\t\tdp[i][j].sum=INF;\n\t\t\t}\n\t\t}\n\t\tfor(i=0;i<m;i++){\n\t\t\tdp[0][i].val=128+c[i];\n\t\t\tif(dp[0][i].val<0){\n\t\t\t\tdp[0][i].val=0;\n\t\t\t}\n\t\t\tif(dp[0][i].val>255){\n\t\t\t\tdp[0][i].val=255;\n\t\t\t}\n\t\t\tdp[0][i].sum=(dp[0][i].val-x[0])*(dp[0][i].val-x[0]);\n\t\t}\n\t\tfor(i=1;i<n;i++){\n\t\t\tfor(j=0;j<m;j++){\n\t\t\t\tfor(k=0;k<m;k++){\t\n\t\t\t\t\ttmp.val=dp[i-1][j].val+c[k];\n\t\t\t\t\tif(tmp.val<0){\n\t\t\t\t\t\ttmp.val=0;\n\t\t\t\t\t}\n\t\t\t\t\tif(tmp.val>255){\n\t\t\t\t\t\ttmp.val=255;\n\t\t\t\t\t}\n\t\t\t\t\ttmp.sum=dp[i-1][j].sum+((tmp.val-x[i])*(tmp.val-x[i]));\n\t\t\t\t\tif(tmp.sum<dp[i][j].sum){\n\t\t\t\t\t\tdp[i][j].val=tmp.val;\n\t\t\t\t\t\tdp[i][j].sum=tmp.sum;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tmin=INF;\n\t\tif(n==0){\n\t\t\tmin=0;\n\t\t}\n\t\tfor(i=0;i<m && n!=0;i++){\n\t\t\tif(dp[n-1][i].sum<min){\n\t\t\t\tmin=dp[n-1][i].sum;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",min);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "// Aizu 2199: Differential Pulse Code Modulation\n// 2017.9.21 bal4u@uu\n// 2017.12.10\n\n#include <stdio.h>\n#include <string.h>\n\n#define INF   0x1fffffff\nint code[18];\t\t\t\t// code book\nint dp[20001][257];\t\t\t// Sum of Squares\nint x2[256][256];\n\nchar buf[15], *p;\nint getsint()\n{\n\tint n = 0;\n\tif (*p == '-') {\n\t\tp++; while (*p >= '0') n = (n<<3) + (n<<1) + (*p++ & 0xf);\n\t\treturn -n;\n\t}\n\twhile (*p >= '0') n = (n<<3) + (n<<1) + (*p++ & 0xf);\n\treturn n;\n}\n\nint getint()\n{\n\tint n = 0;\n\twhile (*p >= '0') n = (n<<3) + (n<<1) + (*p++ & 0xf);\n\treturn n;\n}\n\nint main()\n{\n\tint n, m, i, j, k, x, s, t, ans;\n\n\tfor (i = 0; i < 256; i++) for (j = 0; j < 256; j++) x2[i][j] = (i-j)*(i-j);\n\n\twhile (fgets(p=buf, 15, stdin) && *p != '0') {\n\t\tn = getint(), p++, m = getint();\n\n\t\tfor (j = 0; j < m; j++) fgets(p=buf, 10, stdin), code[j] = getsint();\n\n\t\tmemset(dp, 0x33, sizeof(dp));\n\t\tdp[0][128] = 0;\n\n\t\tfor (k = 0; k < n; k++) {\n\t\t\tfgets(p=buf, 10, stdin), x = getint();\n\t\t\tfor (i = 0; i < 256; i++) {\n\t\t\t\tif (dp[k][i] > INF) continue;\n\t\t\t\tfor (j = 0; j < m; j++) {\n\t\t\t\t\tt = i + code[j];\n\t\t\t\t\tif (t < 0) t = 0;\n\t\t\t\t\tif (t >= 256) t = 255;\n\t\t\t\t\ts = x2[t][x] + dp[k][i];\n\t\t\t\t\tif (s < dp[k+1][t]) dp[k+1][t] = s;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (ans = INF, i = 0; i < 256; i++) if (dp[n][i] < ans) ans = dp[n][i];\n\t\tprintf(\"%d\\n\", ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "// AOJ 2199: Differential Pulse Code Modulation\n// 2017.9.21 bal4u@uu\n// 2017.11.22\n\n#include <stdio.h>\n#include <string.h>\n\n#define INF 1152921504606846976LL\nint code[18];\t\t\t// code book\nchar y[2][260];\t\t\t// signal\nlong long ss[2][260];\t// Sum of Squares\nint t2[256];\n\nchar buf[20], *p;\nint getint()\n{\n\tint n = 0;\n\tif (*p == '-') {\n\t\tp++;\n\t\twhile (*p >= '0') n = (n<<3) + (n<<1) + (*p++ & 0xf);\n\t\treturn -n;\n\t}\n\twhile (*p >= '0') n = (n<<3) + (n<<1) + (*p++ & 0xf);\n\treturn n;\n}\nint main()\n{\n\tint n, m, i, j, k, x, tt, k1, k2;\n\tlong long ans, s;\n\n\tfor (i = 0; i < 256; i++) t2[i] = i*i;\n\n\twhile (fgets(p=buf, 20, stdin) && *p != '0') {\n\t\tn = getint(), p++, m = getint();\n\t\tfor (j = 0; j < m; j++) {\n\t\t\tfgets(p=buf, 10, stdin);\n\t\t\tcode[j] = getint();\n\t\t}\n\t\tmemset(ss, 0x55, sizeof(ss)), memset(y, 0, sizeof(y)); y[0][128] = 1, ss[0][128] = 0;\n\t\tfor (k1 = 0, k2 = 1, k = 0; k < n; k++, k1 = k2, k2 = !k2) {\n\t\t\tmemset(y[k2], 0, sizeof(y[k2]));\n\t\t\tmemset(ss[k2], 0x55, sizeof(ss[k2]));\n//\t\t\tfor (i = 0; i < 256; i++) y[k2][i] = 0, ss[k2][i] = INF;\n\t\t\tfgets(p=buf, 10, stdin), x = getint();\n\t\t\tfor (i = 0; i < 256; i++) if (y[k1][i]) {\n\t\t\t\tfor (j = 0; j < m; j++) {\n\t\t\t\t\tint t = i + code[j];\n\t\t\t\t\tif (t < 0) t = 0;\n\t\t\t\t\tif (t >= 256) t = 255;\n\t\t\t\t\ty[k2][t] = 1;\n\t\t\t\t\ttt = t-x; if (tt < 0) tt = -tt;\n\t\t\t\t\ts = t2[tt] + ss[k1][i];\n\t\t\t\t\tif (s < ss[k2][t])\tss[k2][t] = s;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (ans = 1LL << 60, i = 0; i < 256; i++) \n\t\t\tif (ss[k1][i] < ans) {\n\t\t\t\tans = ss[k1][i]; if (ans == 0) break;\n\t\t\t}\n\t\tprintf(\"%lld\\n\", ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include<stdlib.h>\n\nint main(void)\n{\n\n\tint i,j,k;\n\tint n,m;\n\tint x[20001],c[16];\n\tint **dp;\n\tint tmp1,tmp2;\n\tint min;\n\n\twhile(1)\n\t{\n\t\tscanf(\"%d %d \",&n,&m);\n\t\tif(n==0 && m==0)break;\n\t\t\n\t\tdp = (int **)malloc(sizeof(int)*(n+1));\n\t\t\n\t\tfor(i=0;i<=n;i++){\n\t\t\tdp[i] = (int *)malloc(sizeof(int)*256);\n\t\t}\n\t\t\n\t\tfor(i=0;i<m;i++){\n\t\t\tscanf(\"%d \",&c[i]);\n\t\t}\n\t\t\n\t\tfor(i=1;i<=n;i++){\n\t\t\tfor(j=0;j<256;j++){\n\t\t\t\tdp[i][j] = -1;\n\t\t\t}\n\t\t}\n\t\t\n\t\tfor(i=1;i<=n;i++){\n\t\t\tscanf(\"%d \",&x[i]);\n\t\t\tif(i==1){\n\t\t\t\tfor(k=0;k<m;k++){\n\t\t\t\t\ttmp1 = 128 + c[k];\n\t\t\t\t\tif(tmp1<0)tmp1=0;\n\t\t\t\t\tif(tmp1>255)tmp1=255;\n\t\t\t\t\ttmp2 = (tmp1 - x[i]) * (tmp1 - x[i]);\n\t\t\t\t\tdp[i][tmp1] = tmp2;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tfor(j=0;j<256;j++){\n\t\t\t\t\tif(dp[i-1][j] >= 0){\n\t\t\t\t\t\tfor(k=0;k<m;k++){\n\t\t\t\t\t\t\ttmp1 = j + c[k];\n\t\t\t\t\t\t\tif(tmp1<0)tmp1=0;\n\t\t\t\t\t\t\tif(tmp1>255)tmp1=255;\n\t\t\t\t\t\t\ttmp2 = (tmp1 - x[i]) * (tmp1 - x[i]);\n\t\t\t\t\t\t\tif(dp[i][tmp1] <0)dp[i][tmp1] = dp[i-1][j] +\ttmp2;\n\t\t\t\t\t\t\tif(dp[i][tmp1] > dp[i-1][j] + tmp2)dp[i][tmp1] = dp[i-1][j] + tmp2;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tmin=2000000000;\n\t\tfor(i=0;i<256;i++){\n\t\t\tif(min > dp[n][i] && dp[n][i] >= 0)min = dp[n][i];\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\",min);\n\t}\n\treturn 0;\n}\n\n\t\t\t\n\t\t\t"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nlong long zMIN(long long a,long long b){\n  if(b==0)return a;\n  if(a==0||a>b)return b;\n  return a;\n}\nint main(){\n  int n,m,i,j,k,s[20],a,nj;\n  while(scanf(\"%d %d\",&n,&m),n||m){\n    long long min,d[2][256]={0};\t      \n    for(i=0;i<m;i++)scanf(\"%d\",&s[i]);\n    d[0][128]=1;\n    for(i=0;i<n;i++){\n      scanf(\"%d\",&a);\n      for(j=0;j<256;j++)d[1-i%2][j]=0;\n      for(j=0;j<256;j++){\n\tif(d[i%2][j]==0)continue;//printf(\"%d %d\\n\",j,d[i%2][j]);\n\tfor(k=0;k<m;k++){\n\t  nj=j+s[k];\n\t  if(nj<0)nj=0;\n\t  if(nj>255)nj=255;\n\t  d[1-i%2][nj]=zMIN(d[1-i%2][nj],d[i%2][j]+(a-nj)*(a-nj));\n\t  //printf(\"%d %d\\n\",d[1-i%2][nj],nj);\n\t}//printf(\"\\n\");\n      }\n    }\n    for(j=min=0;j<256;j++)min=zMIN(d[i%2][j],min);\n    printf(\"%lld\\n\",min-1);\n  }\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <string.h>\n\n#define min(X, Y) ((X)<(Y)?(X):(Y))\n#define max(X, Y) ((X)>(Y)?(X):(Y))\n#define f(X, Y) (((X)-(Y))*((X)-(Y)))\nunsigned dp[20001][256];\nint C[16];\nconst unsigned inf=1u<<30;\n\nint main(void)\n{\n    int n, m;\n    while (scanf(\"%d%d\", &n, &m), n) {\n        int i;\n        unsigned *prev, *curr, res;\n        for(i=0;i<m;++i) scanf(\"%d\", C+i);\n        memset(dp, -1, sizeof(dp));\n        dp[0][128]=0;\n        for(i=0;i<n;++i) {\n            int x, j, k;\n            scanf(\"%d\", &x);\n            prev=dp[i], curr=dp[i+1];\n            for(j=0;j<256;++j) if (prev[j]<inf) {\n                for(k=0;k<m;++k) {\n                    int t=min(255, max(0, j+C[k]));\n                    unsigned y=prev[j]+f(x, t);\n                    curr[t]=min(curr[t], y);\n                }\n            }\n        }\n        res=inf;\n        for(i=0;i<256;++i) res=min(res, curr[i]);\n        printf(\"%u\\n\", res);\n    }\n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\n#define INF 1000000000\n\ntypedef struct{\n\tint val;\n\tint sum;\n} data;\n\ndata dp[16][2000];\n\nint main(void){\n\tint n,m,i,j,k,c[16],x[2000],min;\n\tdata tmp;\n\twhile(scanf(\"%d %d\",&n,&m)!=0 && n!=0 && m!=0){\n\t\tfor(i=0;i<m;i++){\n\t\t\tscanf(\"%d\",&c[i]);\n\t\t}\n\t\tfor(i=0;i<n;i++){\n\t\t\tscanf(\"%d\",&x[i]);\n\t\t}\n\t\tfor(i=0;i<n;i++){\n\t\t\tfor(j=0;j<m;j++){\n\t\t\t\tdp[i][j].sum=INF;\n\t\t\t}\n\t\t}\n\t\tfor(i=0;i<m;i++){\n\t\t\tdp[0][i].val=128+c[i];\n\t\t\tif(dp[0][i].val<0){\n\t\t\t\tdp[0][i].val=0;\n\t\t\t}\n\t\t\tif(dp[0][i].val>255){\n\t\t\t\tdp[0][i].val=255;\n\t\t\t}\n\t\t\tdp[0][i].sum=(dp[0][i].val-x[0])*(dp[0][i].val-x[0]);\n\t\t}\n\t\tfor(i=1;i<n;i++){\n\t\t\tfor(j=0;j<m;j++){\n\t\t\t\tfor(k=0;k<m;k++){\t\n\t\t\t\t\ttmp.val=dp[i-1][j].val+c[k];\n\t\t\t\t\tif(tmp.val<0){\n\t\t\t\t\t\ttmp.val=0;\n\t\t\t\t\t}\n\t\t\t\t\tif(tmp.val>255){\n\t\t\t\t\t\ttmp.val=255;\n\t\t\t\t\t}\n\t\t\t\t\ttmp.sum=dp[i-1][j].sum+((tmp.val-x[i])*(tmp.val-x[i]));\n\t\t\t\t\tif(tmp.sum<dp[i][j].sum){\n\t\t\t\t\t\tdp[i][j].val=tmp.val;\n\t\t\t\t\t\tdp[i][j].sum=tmp.sum;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tmin=INF;\n\t\tfor(i=0;i<m;i++){\n\t\t\tif(dp[n-1][i].sum<min){\n\t\t\t\tmin=dp[n-1][i].sum;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",min);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\n#define INF 1000000000\n\ntypedef struct{\n\tint val;\n\tint sum;\n} data;\n\ndata dp[16][2000];\n\nint main(void){\n\tint n,m,i,j,k,c[16],x[2000],min;\n\tdata tmp;\n\twhile(scanf(\"%d %d\",&n,&m)!=0 && n!=0 && m!=0){\n\t\tfor(i=0;i<m;i++){\n\t\t\tscanf(\"%d\",&c[i]);\n\t\t}\n\t\tfor(i=0;i<n;i++){\n\t\t\tscanf(\"%d\",&x[i]);\n\t\t}\n\t\tfor(i=0;i<n;i++){\n\t\t\tfor(j=0;j<m;j++){\n\t\t\t\tdp[i][j].sum=INF;\n\t\t\t}\n\t\t}\n\t\tfor(i=0;i<m;i++){\n\t\t\tdp[0][i].val=128+c[i];\n\t\t\tif(dp[0][i].val<0){\n\t\t\t\tdp[0][i].val=0;\n\t\t\t}\n\t\t\tif(dp[0][i].val>255){\n\t\t\t\tdp[0][i].val=255;\n\t\t\t}\n\t\t\tdp[0][i].sum=(dp[0][i].val-x[0])*(dp[0][i].val-x[0]);\n\t\t}\n\t\tfor(i=1;i<n;i++){\n\t\t\tfor(j=0;j<m;j++){\n\t\t\t\tfor(k=0;k<m;k++){\t\n\t\t\t\t\ttmp.val=dp[i-1][j].val+c[k];\n\t\t\t\t\tif(tmp.val<0){\n\t\t\t\t\t\ttmp.val=0;\n\t\t\t\t\t}\n\t\t\t\t\tif(tmp.val>255){\n\t\t\t\t\t\ttmp.val=255;\n\t\t\t\t\t}\n\t\t\t\t\ttmp.sum=dp[i-1][j].sum+((tmp.val-x[i])*(tmp.val-x[i]));\n\t\t\t\t\tif(tmp.sum<dp[i][j].sum){\n\t\t\t\t\t\tdp[i][j].val=tmp.val;\n\t\t\t\t\t\tdp[i][j].sum=tmp.sum;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tmin=INF;\n\t\tfor(i=0;i<m;i++){\n\t\t\tif(dp[n-1][i].sum<min){\n\t\t\t\tmin=dp[n-1][i].sum;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",min);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "/*\nAizuOnline A2199\nTitle Differential Pulse Code Modulation\n@kankichi573\n*/\n#include <stdio.h>\n#include <string.h>\n#include <limits.h>\n#define min(x,y) (((x)<(y))?(x):(y))\n\nint N,M;\nint C[16];\nint x[20001];\nint old_sum_sqr_dif[256];\nint new_sum_sqr_dif[256];\n//\nint find_min(int array[])\n{\n        int i,min_;\n        min_=INT_MAX;\n        for(i=0;i<=255;i++)\n                if(array[i]!=-1 && array[i]<min_)\n                {\n                        //printf(\"Ia=%d %d\",i,array[i]);\n                        min_=array[i];\n                }\n        return(min_);\n}\nsolve()\n{\n        int i,j,k,s,idx,newval;\n        for(i=1;i<=N;i++)\n        {\n                for(j=0;j<=255;j++)\n                {\n                        s=old_sum_sqr_dif[j];\n                        //printf(\"IJS=%d:%d:%d\\n\",i,j,s);\n\n                        if(s!=-1)\n                        {\n                                for(k=0;k<M;k++)\n                                {\n                                        idx=j+C[k];\n                                        if(idx>255)\n                                                idx=255;\n                                        else if(idx<0)\n                                                idx=0;\n                                        //printf(\"Idx=%d\\n\",idx);\n\n                                                                                newval=s+(idx-x[i])*(idx-x[i]);\n                                        if(new_sum_sqr_dif[idx]==-1)\n                                                new_sum_sqr_dif[idx]=newval;\n                                        else\n                                                new_sum_sqr_dif[idx]=min(newval,new_sum_sqr_dif[idx]);\n\n                                        //printf(\"%d::%d:%d\\n\",i,idx,newval);\n\n                                }\n                        }\n\n                }\n                memcpy(old_sum_sqr_dif,new_sum_sqr_dif,256*4);\n                memset(new_sum_sqr_dif,-1,256*4);\n        }\n        return(find_min(old_sum_sqr_dif));\n}\n\nmain()\n{\n        int i,ret;\n\n        while(EOF!=scanf(\"%d %d\",&N,&M) && (N||M))\n        {\n\n                for(i=0;i<M;i++)\n                        scanf(\"%d\",&C[i]);\n                for(i=1;i<=N;i++)\n                        scanf(\"%d\",&x[i]);\n\n                memset(old_sum_sqr_dif,-1,256*4);\n                memset(new_sum_sqr_dif,-1,256*4);\n                old_sum_sqr_dif[128]=0;  //開始点\n\n                ret=solve();\n\n                printf(\"%d\\n\",ret);\n\n        }\n        return(0);\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <string.h>\n\n#define min(a, b) (((a) < (b)) ? (a) : (b))\n#define max(a, b) (((a) > (b)) ? (a) : (b))\n#define sq(x) ((x) * (x))\n\n#define INF 1000000000\n\nint dp[20001][256];\n\nint main(void) {\n\tint i, j, k;\n\tint n, m;\n\n\twhile (scanf(\"%d %d\", &n, &m), n) {\n\t\tint c[16];\n\t\tint min;\n\n\t\tfor (i = 0; i < n + 1; i++)\n\t\t\tfor (j = 0; j < 256; j++)\n\t\t\t\tdp[i][j] = INF;\n\n\t\tfor (i = 0; i < m; i++)\n\t\t\tscanf(\"%d\", c + i);\n\n\t\tdp[0][128] = 0;\n\t\tfor (i = 0; i < n; i++) {\n\t\t\tint x;\n\t\t\tscanf(\"%d\", &x);\n\t\t\tfor (j = 0; j < 256; j++)\n\t\t\t\tfor (k = 0; k < m; k++) {\n\t\t\t\t\tint idx = max(0, min(255, j + c[k]));\n\t\t\t\t\tdp[i + 1][idx] = min(dp[i + 1][idx], dp[i][j] + sq(idx - x));\n\t\t\t\t}\n\t\t}\n\n\t\tmin = INF;\n\t\tfor (i = 0; i < 256; i++)\n\t\t\tmin = min(min, dp[n][i]);\n\n\t\tprintf(\"%d\\n\", min);\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint zMIN(int a,int b){\n  if(b==0)return a;\n  if(a==0||a>b)return b;\n  return a;\n}\nint main(){\n  int n,m,i,j,k,min,s[20],a,nj;\n  while(scanf(\"%d %d\",&n,&m),n||m){\n    int d[2][256]={0};\t      \n    for(i=0;i<m;i++)scanf(\"%d\",&s[i]);\n    d[0][128]=1;\n    for(i=0;i<n;i++){\n      scanf(\"%d\",&a);\n      for(j=0;j<256;j++)d[1-i%2][j]=0;\n      for(j=0;j<256;j++){\n\tif(d[i%2][j]==0)continue;//printf(\"%d %d\\n\",j,d[i%2][j]);\n\tfor(k=0;k<m;k++){\n\t  nj=j+s[k];\n\t  if(nj<0)nj=0;\n\t  if(nj>255)nj=255;\n\t  d[1-i%2][nj]=zMIN(d[1-i%2][nj],d[i%2][j]+(a-nj)*(a-nj));\n\t  //printf(\"%d %d\\n\",d[1-i%2][nj],nj);\n\t}//printf(\"\\n\");\n      }\n    }\n    min=21000000;\n    for(j=0;j<256;j++)min=zMIN(min,d[i%2][j]);\n    printf(\"%d\\n\",min-1);\n  }\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#define _USE_MATH_DEFINES\n#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n#include <math.h>\n#include <ctype.h>\n#include <limits.h>\n#define EPS 1e-10\n#define sq(n) ((n)*(n))\n#define rep(i,n) for(i=0;i<n;i++)\n#define rev(i,n) for(i=n-1;i>=0;i--)\n#define sort(a,n) qsort(a,n,sizeof(TYPE),cmp)\n#define sort_r(a,n) qsort(a,n,sizeof(TYPE),cmp_r);\n#define chsort(s,n) qsort(s,n,sizeof(char),cmp)\n#define chsort_r(s,n) qsort(s,n,sizeof(char),char_cmp_r);\n#define TYPE long long\n#define MEMSET(a) memset(a,0,sizeof(a))\nlong long mod=(long long)1e09+7;\nint inf=1<<30;\n\nint in(void){\n    int i;scanf(\"%d\",&i);\n    return i;\n}\nlong long llin(void){\n    long long i;scanf(\"%lld\",&i);\n    return i;\n}\ndouble din(void){\n    double i;scanf(\"%lf\",&i);\n    return i;\n}\nvoid chin(char s[]){\n    scanf(\"%s\",s);\n}\nvoid print(int a){\n    printf(\"%d\\n\",a);\n}\nvoid llprint(long long a){\n    printf(\"%lld\\n\",a);\n}\nvoid dprint(double a){\n    printf(\"%.10f\\n\",a);\n}\nvoid print2(int a,int b){\n    printf(\"%d %d\\n\",a,b);\n}\nlong long max(long long a,long long b){\n    return a>b?a:b;\n}\nlong long min(long long a,long long b){\n    return a<b?a:b;\n}\nint cmp(const void *a,const void *b){\n    return *(TYPE *)a-*(TYPE *)b;\n}\nint cmp_r(const void *a,const void *b){\n    return *(TYPE *)b-*(TYPE *)a;\n}\nint char_cmp(const void *a,const void *b){\n    return strcmp((char *)a,(char *)b);\n}\nint char_cmp_r(const void *a,const void *b){\n    return strcmp((char *)b,(char *)a);\n}\nvoid swap(int *a,int *b){\n    int t=*a;\n    *a=*b;\n    *b=t;\n}\nlong long gcd(long long x,long long y){\n    return x%y?gcd(y,x%y):y;\n}\nlong long lcm(long long x,long long y){\n    return x/gcd(x,y)*y;\n}\n\n// write codes below this\n// when you use 'sort',\n// make sure TYPE macro is correct\nint dp[20001][256];\n\nint main(void){\n    int n,m,c[16],x[20001],i,j,k,t,ans;\n    while(n=in()){\n        m=in();\n        rep(i,m)c[i]=in();\n        rep(i,n)x[i+1]=in();\n        rep(i,n+1)rep(j,256)dp[i][j]=inf;\n        dp[0][128]=0;\n        for(i=1;i<=n;i++){\n            rep(j,256){\n                if(dp[i-1][j]==inf)continue;\n                rep(k,m){\n                    t=min(255,max(0,j+c[k]));\n                    dp[i][t]=min(dp[i][t],dp[i-1][j]+sq(t-x[i]));\n                }\n            }\n        }\n        ans=inf;\n        rep(i,256)ans=min(ans,dp[n][i]);\n        print(ans);\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C",
    "code": "// Aizu 2199: Differential Pulse Code Modulation\n// 2017.9.21 bal4u@uu\n\n#include <stdio.h>\n#include <string.h>\n\nint code[18];\t\t\t// code book\nchar y[2][260];\t\t\t// signal\nlong long ss[2][260];\t// Sum of Squares\n\nint main()\n{\n\tint n, m, i, j, k, x, k1, k2;\n\tlong long ans, s;\n\n\twhile (scanf(\"%d%d\", &n, &m) && n) {\n\t\tfor (j = 0; j < m; j++) scanf(\"%d\", code+j);\n\t\tmemset(ss, -1, sizeof(ss)), memset(y, 0, sizeof(y)); y[0][128] = 1, ss[0][128] = 0;\n\t\tfor (k1 = 0, k2 = 1, k = 0; k < n; k++, k1 = k2, k2 = !k2) {\n\t\t\tfor (i = 0; i < 256; i++) y[k2][i] = 0, ss[k2][i] = -1LL;\n\t\t\tscanf(\"%d\", &x);\n\t\t\tfor (i = 0; i < 256; i++) {\n\t\t\t\tif (!y[k1][i]) continue;\n\t\t\t\tfor (j = 0; j < m; j++) {\n\t\t\t\t\tint t = i + code[j];\n\t\t\t\t\tif (t < 0) t = 0;\n\t\t\t\t\tif (t >= 256) t = 255;\n\t\t\t\t\ty[k2][t] = 1;\n\t\t\t\t\ts = (t-x)*(t-x) + ss[k1][i];\n\t\t\t\t\tif (ss[k2][t] < 0 || s < ss[k2][t])\tss[k2][t] = s;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (ans = 1LL << 60, i = 0; i < 256; i++) \n\t\t\tif (ss[k1][i] >= 0 && ss[k1][i] < ans) {\n\t\t\t\tans = ss[k1][i]; if (ans == 0) break;\n\t\t\t}\n\t\tprintf(\"%lld\\n\", ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\n#define INF 1000000000\n\ntypedef struct{\n\tint val;\n\tint sum;\n} data;\n\ndata dp[16][2000];\n\nint main(void){\n\tint n,m,i,j,k,c[16],x[2000],min;\n\tdata tmp;\n\twhile(scanf(\"%d %d\",&n,&m)!=0 && n!=0 && m!=0){\n\t\tfor(i=0;i<m;i++){\n\t\t\tscanf(\"%d\",&c[i]);\n\t\t}\n\t\tfor(i=0;i<n;i++){\n\t\t\tscanf(\"%d\",&x[i]);\n\t\t}\n\t\tfor(i=0;i<n;i++){\n\t\t\tfor(j=0;j<m;j++){\n\t\t\t\tdp[i][j].sum=INF;\n\t\t\t}\n\t\t}\n\t\tfor(i=0;i<m;i++){\n\t\t\tdp[0][i].val=128+c[i];\n\t\t\tif(tmp.val<0){\n\t\t\t\ttmp.val=0;\n\t\t\t}\n\t\t\tif(tmp.val>255){\n\t\t\t\ttmp.val=255;\n\t\t\t}\n\t\t\tdp[0][i].sum=(dp[0][i].val-x[0])*(dp[0][i].val-x[0]);\n\t\t}\n\t\tfor(i=1;i<n;i++){\n\t\t\tfor(j=0;j<m;j++){\n\t\t\t\tfor(k=0;k<m;k++){\t\n\t\t\t\t\ttmp.val=dp[i-1][j].val+c[k];\n\t\t\t\t\tif(tmp.val<0){\n\t\t\t\t\t\ttmp.val=0;\n\t\t\t\t\t}\n\t\t\t\t\tif(tmp.val>255){\n\t\t\t\t\t\ttmp.val=255;\n\t\t\t\t\t}\n\t\t\t\t\ttmp.sum=dp[i-1][j].sum+((tmp.val-x[i])*(tmp.val-x[i]));\n\t\t\t\t\tif(tmp.sum<dp[i][j].sum){\n\t\t\t\t\t\tdp[i][j].val=tmp.val;\n\t\t\t\t\t\tdp[i][j].sum=tmp.sum;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tmin=INF;\n\t\tfor(i=0;i<m;i++){\n\t\t\tif(dp[n-1][i].sum<min){\n\t\t\t\tmin=dp[n-1][i].sum;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",min);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nlong long zMIN(long long a,long long b){\n  if(b==0)return a;\n  if(a==0||a>b)return b;\n  return a;\n}\nint main(){\n  int n,m,i,j,k,min,s[20],a,nj;\n  while(scanf(\"%d %d\",&n,&m),n||m){\n    long long d[2][256]={0};\t      \n    for(i=0;i<m;i++)scanf(\"%d\",&s[i]);\n    d[0][128]=1;\n    for(i=0;i<n;i++){\n      scanf(\"%d\",&a);\n      for(j=0;j<256;j++)d[1-i%2][j]=0;\n      for(j=0;j<256;j++){\n\tif(d[i%2][j]==0)continue;//printf(\"%d %d\\n\",j,d[i%2][j]);\n\tfor(k=0;k<m;k++){\n\t  nj=j+s[k];\n\t  if(nj<0)nj=0;\n\t  if(nj>255)nj=255;\n\t  d[1-i%2][nj]=zMIN(d[1-i%2][nj],d[i%2][j]+(a-nj)*(a-nj));\n\t  //printf(\"%d %d\\n\",d[1-i%2][nj],nj);\n\t}//printf(\"\\n\");\n      }\n    }\n    min=21000000;\n    for(j=0;j<256;j++)min=zMIN(min,d[i%2][j]);\n    printf(\"%d\\n\",min-1);\n  }\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "// Aizu 2199: Differential Pulse Code Modulation\n// 2017.9.21 bal4u@uu\n// 2017.12.10\n\n#include <stdio.h>\n#include <string.h>\n\n#define INF   0x1fffffff\nint code[16];\t\t\t\t// code book\nint dp[20001][257];\t\t\t// Sum of Squares\nint tbl[256][16];\n\nchar buf[15], *p;\nint getsint()\n{\n\tint n = 0;\n\tif (*p == '-') {\n\t\tp++; while (*p >= '0') n = (n<<3) + (n<<1) + (*p++ & 0xf);\n\t\treturn -n;\n\t}\n\twhile (*p >= '0') n = (n<<3) + (n<<1) + (*p++ & 0xf);\n\treturn n;\n}\n\nint getint()\n{\n\tint n = 0;\n\twhile (*p >= '0') n = (n<<3) + (n<<1) + (*p++ & 0xf);\n\treturn n;\n}\n\nint main()\n{\n\tint n, m, i, j, k, x, s, t, ans;\n\n\twhile (fgets(p=buf, 15, stdin) && *p != '0') {\n\t\tn = getint(), p++, m = getint();\n\n\t\tfor (i = 0; i < m; i++) fgets(p=buf, 10, stdin), code[i] = getsint();\n\n\t\tfor (i = 0; i < 256; i++) for (j = 0; j < m; j++) {\n\t\t\tt = i + code[j];\n\t\t\tif (t < 0) t = 0;\n\t\t\telse if (t >= 256) t = 255;\n\t\t\ttbl[i][j] = t;\n\t\t}\n\n\t\tmemset(dp, 0x33, sizeof(dp));\n\t\tdp[0][128] = 0;\n\n\t\tfor (k = 0; k < n; k++) {\n\t\t\tfgets(p=buf, 10, stdin), x = getint();\n\t\t\tfor (i = 0; i < 256; i++) {\n\t\t\t\tif (dp[k][i] > INF) continue;\n\t\t\t\tfor (j = 0; j < m; j++) {\n\t\t\t\t\tt = tbl[i][j], s = (t-x)*(t-x) + dp[k][i];\n\t\t\t\t\tif (s < dp[k+1][t]) dp[k+1][t] = s;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (ans = INF, i = 0; i < 256; i++) if (dp[n][i] < ans) ans = dp[n][i];\n\t\tprintf(\"%d\\n\", ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <string.h>\n#define ll long long\n#define rep(i,l,r)for(ll i=(l);i<(r);i++)\n#define repp(i,l,r,k)for(ll i=(l);i<(r);i+=(k))\n#define INF ((1LL<<62)-(1LL<<31))\n#define max(p,q)((p)>(q)?(p):(q))\n#define min(p,q)((p)<(q)?(p):(q))\n#define bit(n,m)((n>>m)&1)\nint upll(const void*a, const void*b){return*(ll*)a<*(ll*)b?-1:*(ll*)a>*(ll*)b?1:0;}\nint downll(const void*a, const void*b){return*(ll*)a<*(ll*)b?1:*(ll*)a>*(ll*)b?-1:0;}\nvoid sortup(ll*a,int n){qsort(a,n,sizeof(ll),upll);}\nvoid sortdown(ll*a,int n){qsort(a,n,sizeof(ll),downll);}\n\nll dddd[2][300],*dp1=dddd[0],*dp2=dddd[1],*temp;\nll c[20];\nll x[20010];\nint main(){\n\tll n,m;\n\twhile(scanf(\"%lld%lld\\n\",&n,&m),n){\n\t\trep(i,0,m)scanf(\"%lld\",c+i);\n\t\trep(i,0,n)scanf(\"%lld\",x+i);\n\t\trep(i,0,256)dp1[i]=INF;\n\t\tdp1[128]=0;\n\t\trep(nnnn,0,n){\n\t\t\trep(i,0,256)dp2[i]=INF;\t\t\n\t\t\t//配るDP\n\t\t\trep(i,0,256)rep(j,0,m){\n\t\t\t\tll nxt=min(255,max(0,i+c[j]));\n\t\t\t\tdp2[nxt]=min(dp2[nxt],dp1[i]+(nxt-x[nnnn])*(nxt-x[nnnn]));\n\t\t\t}\n\t\t\ttemp=dp1;dp1=dp2;dp2=temp;\n\t\t}\n\t\tll ans=INF;\n\t\trep(i,0,256)ans=min(ans,dp1[i]);\n\t\tprintf(\"%lld\\n\",ans);\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include<stdlib.h>\n\nint main(void)\n{\n\n\tint i,j,k;\n\tint n,m;\n\tint x[20001],c[16];\n\tint *dp[20001];\n\tint tmp1,tmp2;\n\tint min;\n\t\t\n\tfor(i=0;i<=20001;i++){\n\t\tdp[i] = (int *)malloc(sizeof(int)*256);\n\t}\n\n\twhile(1)\n\t{\n\t\tscanf(\"%d %d \",&n,&m);\n\t\tif(n==0 && m==0)break;\n\t\t\n\t\tfor(i=0;i<m;i++){\n\t\t\tscanf(\"%d \",&c[i]);\n\t\t}\n\t\t\n\t\tfor(i=1;i<=n;i++){\n\t\t\tfor(j=0;j<256;j++){\n\t\t\t\tdp[i][j] = 2000000000;\n\t\t\t}\n\t\t}\n\t\t\n\t\tscanf(\"%d \",&x[1]);\n\t\t\n\t\tfor(k=0;k<m;k++){\n\t\t\ttmp1 = 128 + c[k];\n\t\t\tif(tmp1<0)tmp1=0;\n\t\t\tif(tmp1>255)tmp1=255;\n\t\t\ttmp2 = (tmp1 - x[1]) * (tmp1 - x[1]);\n\t\t\tdp[1][tmp1] = tmp2;\n\t\t}\n\t\t\n\t\tfor(i=2;i<=n;i++){\n\t\t\tscanf(\"%d \",&x[i]);\n\t\t\tfor(j=0;j<256;j++){\n\t\t\t\tif(dp[i-1][j] >= 0){\n\t\t\t\t\tfor(k=0;k<m;k++){\n\t\t\t\t\t\ttmp1 = j + c[k];\n\t\t\t\t\t\tif(tmp1<0)tmp1=0;\n\t\t\t\t\t\tif(tmp1>255)tmp1=255;\n\t\t\t\t\t\ttmp2 = (tmp1 - x[i]) * (tmp1 - x[i]);\n\t\t\t\t\t\tif(dp[i][tmp1] > dp[i-1][j] + tmp2)dp[i][tmp1] = dp[i-1][j] + tmp2;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tmin=2000000000;\n\t\tfor(i=0;i<256;i++){\n\t\t\tif(min > dp[n][i])min = dp[n][i];\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\",min);\n\t}\n\treturn 0;\n}\n\n\t\t\t\n\t\t\t"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include<string.h>\n#define min(x,y) ((x)<(y)?(x):(y))\n\nint n,m;\nint c[16],x[20000];\n\nlong dp[20001][256];\n\nlong rec(int p, int y){ //現在p番目に注目しており、その手前の値はy。x[n]との差の二乗を返す\n    if(dp[p][y]>=0) return dp[p][y];\n    \n    //終条件\n    if(p==n) return 0;\n    \n    long ret=10000000000;\n    for(int i=0; i<m; ++i){ //コードブックの値全てに対して再帰をかける\n        //次のyの値(丸めが発生することを考慮)\n        int ny = y+c[i];\n        if(ny<0) ny=0;\n        else if(ny>255) ny=255;\n        \n        //コードブックの選んだ値の中で、二乗和が最小になるよう選ぶ\n        ret = min(ret, rec(p+1,ny)+(ny-x[p])*(ny-x[p]));\n    }\n    \n    return dp[p][y]=ret;\n}\n\nint main(){\n    while(1){\n        //input\n        scanf(\" %d %d\", &n, &m);\n        if(n==0) break;\n        for(int i=0; i<m; ++i) scanf(\" %d\", &c[i]);\n        for(int i=0; i<n; ++i) scanf(\" %d\", &x[i]);\n        //solve\n        memset(dp,-1,sizeof(dp));\n        //最初はy_0=128\n        printf(\"%ld\\n\", rec(0,128));\n    }\n}\n\n"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <string.h>\n\n#define min(X, Y) ((X)<(Y)?(X):(Y))\n#define max(X, Y) ((X)>(Y)?(X):(Y))\n#define f(X, Y) (((X)-(Y))*((X)-(Y)))\nint dp[20001][256], C[16];\n\nint main(void)\n{\n    int n, m;\n    while (scanf(\"%d%d\", &n, &m), n) {\n        int i, *prev, *curr, res;\n        for(i=0;i<m;++i) scanf(\"%d\", C+i);\n        memset(dp, -1, sizeof(dp));\n        dp[0][128]=0;\n        for(i=0;i<n;++i) {\n            int x, j, k;\n            scanf(\"%d\", &x);\n            prev=dp[i], curr=dp[i+1];\n            for(j=0;j<256;++j) if (prev[j]>=0) {\n                for(k=0;k<m;++k) {\n                    int t=min(255, max(0, j+C[k]));\n                    int y=prev[j]+f(x, t);\n                    curr[t]=curr[t]<0 ? y : min(curr[t], y);\n                }\n            }\n        }\n        res=1<<30;\n        for(i=0;i<256;++i) if (curr[i]>=0) res=min(res, curr[i]);\n        printf(\"%d\\n\", res);\n    }\n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include<string.h>\n#define min(a,b) (a<=b?a:b)\n#define max(a,b) (a<=b?b:a)\n#define lim(a) (min(max(a,0),255))\n\nint N,M,S[17],I[20005],i,j,k,R,e;\nint dp[20005][256];\nint main()\n{\n\tfor(;scanf(\"%d%d\",&N,&M),N;)\n\t{\n\t\tfor(i=0;i<M;i++)scanf(\"%d\",&S[i]);\n\t\tfor(i=1;i<=N;i++)scanf(\"%d\",&I[i]);\n\t\tmemset(dp,-1,sizeof(dp));\n\t\tdp[0][128]=0;\n\t\tfor(i=0;i<=N;i++)\n\t\t\tfor(j=0;j<=255;j++)\n\t\t\t{\n\t\t\t\tif(dp[i][j]!=-1)\n\t\t\t\t\tfor(k=0;k<M;k++)\n\t\t\t\t\t{\n\t\t\t\t\t\te=lim(j+S[k])-I[i+1];\n\t\t\t\t\t\tif(dp[i+1][j+S[k]]==-1||dp[i+1][lim(j+S[k])]>dp[i][j]+e*e)\n\t\t\t\t\t\t\tdp[i+1][lim(j+S[k])]=dp[i][j]+e*e;\n\t\t\t\t\t}\n\t\t\t}\n\t\tfor(i=0,R=-1;i<=255;i++)\n\t\t\tif(dp[N][i]!=-1&&(R==-1||R>dp[N][i]))\n\t\t\t\tR=dp[N][i];\n\t\tprintf(\"%d\\n\",R);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main {\n\tfinal int INF = 1 << 24;\n\tprivate void doit(){\n\t\tScanner sc = new Scanner(System.in);\n\t\twhile(true){\n\t\t\tint n = sc.nextInt();\n\t\t\tint m = sc.nextInt();\n\t\t\tif(n == 0 && m == 0) break;\n\t\t\tint [] nlist = new int[n];\n\t\t\tint [] mlist = new int[m];\n\t\t\tfor(int i=0; i < m; i++){\n\t\t\t\tmlist[i] = sc.nextInt();\n\t\t\t}\n\t\t\tfor(int i = 0; i < n; i++){\n\t\t\t\tnlist[i] = sc.nextInt();\n\t\t\t}\n\t\t\tint [][] dp = new int[n+1][256];\n\t\t\tfor(int i=0; i <= n; i++){\n\t\t\t\tArrays.fill(dp[i], INF);\n\t\t\t}\n\t\t\tdp[0][128] = 0;\n\t\t\tfor(int i=0; i < n; i++){\n\t\t\t\tfor(int j=0; j < 256;j++){\n\t\t\t\t\tif(dp[i][j] >= INF) continue;\n\t\t\t\t\t\n\t\t\t\t\tfor(int k=0; k < m; k++){\n\t\t\t\t\t\tint ind = j +mlist[k];\n\t\t\t\t\t\tif(ind < 0) ind = 0;\n\t\t\t\t\t\telse if(ind > 255) ind = 255;\n\t\t\t\t\t\tint value = dp[i][j] + (nlist[i] - ind) * (nlist[i] - ind);\n\t\t\t\t\t\tdp[i+1][ind] = Math.min(dp[i+1][ind], value);\n\t\t\t\t\t\t//System.out.println(\"dp=\" + dp[i+1][ind] + \" \" + (i+1));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n//\t\t\tfor(int i=0; i <= n; i++){\n//\t\t\t\tfor(int j=0; j < 255; j++){\n//\t\t\t\t\tif(dp[i][j] == INF){\n//\t\t\t\t\t\tSystem.out.print(\"INF \");\n//\t\t\t\t\t}\n//\t\t\t\t\telse{\n//\t\t\t\t\t\tSystem.out.print(dp[i][j] + \" \");\n//\t\t\t\t\t}\n//\t\t\t\t\t\n//\t\t\t\t}\n//\t\t\t\tSystem.out.println();\n//\t\t\t}\n\t\t\tint ans = INF;\n\t\t\tfor(int i=0; i < 256; i++){\n\t\t\t\tans = Math.min(ans, dp[n][i]);\n\t\t\t}\n\t\t\tSystem.out.println(ans);\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tMain obj = new Main();\n\t\tobj.doit();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\n\npublic class Main {\n\tpublic static final int MAX = Integer.MAX_VALUE - 90000;\n\tpublic static void main(String[] args){\n\t\tScanner in = new Scanner(System.in);\n\t\twhile(true){\n\t\t\tint N = in.nextInt();\n\t\t\tint M = in.nextInt();\n\t\t\tif(N==0 && M==0) break;\n\t\t\tint[] C = new int[M];\n\t\t\tfor(int i=0;i<M;i++){\n\t\t\t\tC[i] = in.nextInt();\n\t\t\t}\n\t\t\tint[] x = new int[N+1];\n\t\t\tfor(int i=1;i<N+1;i++){\n\t\t\t\tx[i] = in.nextInt();\n\t\t\t}\n\t\t\t\n\t\t\tint[][] dp = new int[N+1][256];\n\t\t\tfor(int i=0;i<N+1;i++){\n\t\t\t\tfor(int j=0;j<256;j++){\n\t\t\t\t\tdp[i][j] = MAX;\n\t\t\t\t}\n\t\t\t}\n\t\t\tdp[0][128] = 0;\n \t\t\tfor(int i=0;i<N;i++){\n \t\t\t\tfor(int j=0;j<256;j++){\n \t\t\t\t\tfor(int k=0;k<C.length;k++){\n \t\t\t\t\t\tint trg = Math.min(255,Math.max(0,j+C[k]));\n \t\t\t\t\t\tdp[i+1][trg] = (int)Math.min(dp[i+1][trg],\n \t\t\t\t\t\t\t\tdp[i][j]+Math.pow(x[i+1]-trg,2));\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t}\n \t\t\tint ans=MAX;\n \t\t\tfor(int i=0;i<256;i++){\n \t\t\t\tans = Math.min(ans,dp[N][i]);\n \t\t\t}\n \t\t\tSystem.out.println(ans);\n \t\t\tSystem.gc();\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main {\n\tfinal int INF = 1 << 24;\n\tprivate void doit(){\n\t\tScanner sc = new Scanner(System.in);\n\t\twhile(true){\n\t\t\tint n = sc.nextInt();\n\t\t\tint m = sc.nextInt();\n\t\t\tif(n == 0 && m == 0) break;\n\t\t\tint [] nlist = new int[n];\n\t\t\tint [] mlist = new int[m];\n\t\t\tfor(int i=0; i < m; i++){\n\t\t\t\tmlist[i] = sc.nextInt();\n\t\t\t}\n\t\t\tfor(int i = 0; i < n; i++){\n\t\t\t\tnlist[i] = sc.nextInt();\n\t\t\t}\n\t\t\tint [][] dp = new int[n+1][256];\n\t\t\tfor(int i=0; i <= n; i++){\n\t\t\t\tArrays.fill(dp[i], INF);\n\t\t\t}\n\t\t\tdp[0][128] = 0;\n\t\t\tfor(int i=0; i < n; i++){\n\t\t\t\tfor(int j=0; j < 256;j++){\n\t\t\t\t\t//if(dp[i][j] >= INF) continue;\n\t\t\t\t\t\n\t\t\t\t\tfor(int k=0; k < m; k++){\n\t\t\t\t\t\tint ind = j +mlist[k];\n\t\t\t\t\t\tif(ind < 0) ind = 0;\n\t\t\t\t\t\telse if(ind > 255) ind = 255;\n\t\t\t\t\t\tint value = dp[i][j] + (nlist[i] - ind) * (nlist[i] - ind);\n\t\t\t\t\t\tdp[i+1][ind] = Math.min(dp[i+1][ind], value);\n\t\t\t\t\t\t//System.out.println(\"dp=\" + dp[i+1][ind] + \" \" + (i+1));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n//\t\t\tfor(int i=0; i <= n; i++){\n//\t\t\t\tfor(int j=0; j < 255; j++){\n//\t\t\t\t\tif(dp[i][j] == INF){\n//\t\t\t\t\t\tSystem.out.print(\"INF \");\n//\t\t\t\t\t}\n//\t\t\t\t\telse{\n//\t\t\t\t\t\tSystem.out.print(dp[i][j] + \" \");\n//\t\t\t\t\t}\n//\t\t\t\t\t\n//\t\t\t\t}\n//\t\t\t\tSystem.out.println();\n//\t\t\t}\n\t\t\tint ans = INF;\n\t\t\tfor(int i=0; i < 256; i++){\n\t\t\t\tans = Math.min(ans, dp[n][i]);\n\t\t\t}\n\t\t\tSystem.out.println(ans);\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tMain obj = new Main();\n\t\tobj.doit();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.*;\nimport java.util.*;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\nimport java.lang.ArrayIndexOutOfBoundsException;\nimport java.math.BigInteger;\n\nimport javax.script.AbstractScriptEngine;\n\n\n/**\n * @author yoshikyoto\n */\nclass Main{\n\t// public static Graph g;\n\tstatic int[][] dp = new int[2][256];\n\tstatic int inf = 1<<28;\n\n\tpublic static void main(String[] args) throws Exception{\n\t\tBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n\t\twhile(true){\n\t\t\tString[] in = br.readLine().split(\" \");\n\t\t\tint n = Integer.parseInt(in[0]);\n\t\t\tint m = Integer.parseInt(in[1]);\n\t\t\tif(n == 0 && m == 0) break;\n\n\t\t\tint[] c = new int[m];\n\t\t\tint[] x = new int[n];\n\t\t\tfor (int i = 0; i < m; i++) {\n\t\t\t\tc[i] = Integer.parseInt(br.readLine());\n\t\t\t}\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\tx[i] = Integer.parseInt(br.readLine());\n\t\t\t}\n\t\t\t\n\t\t\t// dpテーブルの初期化\n\t\t\tfor(int j = 0; j < 256; j++){\n\t\t\t\tdp[0][j] = inf;\n\t\t\t\tdp[1][j] = inf;\n\t\t\t}\n\t\t\tdp[0][128] = 0;\n\t\t\tfor(int i = 1; i <= n; i++){\n\t\t\t\t// System.out.println(\"for1 \" + i);\n\t\t\t\t// DPテーブルの初期化\n\t\t\t\tfor(int j = 0; j < 256; j++){\n\t\t\t\t\t\tdp[i%2][j] = inf;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// 探索\n\t\t\t\tfor(int j = 0; j < 256; j++){\n\t\t\t\t\tint sum = dp[(i-1)%2][j];\n\t\t\t\t\tif(sum == inf) continue;\n\t\t\t\t\tfor(int k = 0; k < m; k++){\n\t\t\t\t\t\t// 次の値\n\t\t\t\t\t\tint next_j = j + c[k];\n\t\t\t\t\t\tnext_j = Math.max(0, Math.min(255, next_j));\n\t\t\t\t\t\t// System.out.println(\"next value \" + next_j);\n\t\t\t\t\t\t// 二乗誤差を足す\n\t\t\t\t\t\tint next_sum = sum + sq(next_j - x[i-1]);\n\t\t\t\t\t\t// System.out.println(\"next sum \" + next_sum);\n\t\t\t\t\t\tdp[i%2][next_j] = Math.min(dp[i%2][next_j], next_sum);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tint ans = inf;\n\t\t\tfor(int i = 0; i < 256; i++){\n\t\t\t\tans = Math.min(ans, dp[n%2][i]);\n\t\t\t}\n\t\t\tSystem.out.println(ans);\n\t\t}\n\t}\n\n\tpublic static int sq(int i) {\n\t\treturn i * i;\n\t}\n\n\tpublic static double sq(double d) {\n\t\treturn d * d;\n\t}\n}\n\nclass Arg{\n\tint time, val, sum;\n\tArg(int t, int v, int s){\n\t\ttime = t;\n\t\tval = v;\n\t\tsum = s;\n\t}\n\tpublic void print(){\n\t\tSystem.out.println(time + \" \" + val + \" \" + sum);\n\t}\n}\n\n\n\n\n// --- ここから下はライブラリ ----------\n/**\n * MyUtil\n * @author yoshikyoto\n */\nclass MyUtil {\n\tpublic static int[] cp(int[] a){\n\t\tint[] b = new int[a.length];\n\t\tfor(int i = 0; i < a.length; i++) b[i] = a[i];\n\t\treturn b;\n\t}\n\tpublic static int toInt(boolean[] a){\n\t\tint pow = 1, ret = 0, l = a.length;\n\t\tfor(int i = 0; i < l; i++){\n\t\t\tif(a[i]) ret += pow;\n\t\t\tpow *= 2;\n\t\t}\n\t\treturn ret;\n\t}\n\tstatic BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n\tpublic static int ins[];\n\tpublic static int[] readIntMap() throws IOException{return parseInt(readLine().split(\" \"));}\n\tpublic static int readIntMap(int i) throws Exception{\n\t\tif(i == 0) ins = readIntMap();\n\t\treturn ins[i];\n\t}\n\tpublic static int[][] readIntMap(int n, int m) throws IOException{\n\t\tint[][] ret = new int[n][];\n\t\tfor(int i = 0; i < n; i++) ret[i] = readIntMap();\n\t\treturn ret;\n\t}\n\tpublic static int[] readIntToMap(int n) throws IOException{\n\t\tint[] ret = new int[n];\n\t\tfor(int i = 0; i < n; i++) ret[i] = readInt();\n\t\treturn ret;\n\t}\n\tpublic static int[] readNoDistIntMap() throws IOException{\n\t\tString[] strs = readLine().split(\"\");\n\t\tint l = strs.length;\n\t\tint[] ret = new int[l-1];\n\t\tfor(int i = 1; i < l; i++)\n\t\t\tret[i-1] = parseInt(strs[i]);\n\t\treturn ret;\n\t}\n\tpublic static String readLine() throws IOException{return br.readLine();}\n\tpublic static int readInt() throws IOException{return Integer.parseInt(br.readLine());}\n\tpublic static int[] parseInt(String[] arr){\n\t\tint[] res = new int[arr.length];\n\t\tfor(int i = 0; i < arr.length; i++)res[i] = Integer.parseInt(arr[i]);\n\t\treturn res;\n\t}\n\tpublic static double[] parseDouble(String[] arr){\n\t\tdouble[] res = new double[arr.length];\n\t\tfor(int i = 0; i < arr.length; i++)res[i] = Double.parseDouble(arr[i]);\n\t\treturn res;\n\t}\n\tpublic static boolean[] parseBool(String[] arr){\n\t\tint[] t = parseInt(arr);\n\t\tboolean[] res = new boolean[t.length];\n\t\tfor(int i = 0; i < t.length; i++){\n\t\t\tif(t[i] == 1){res[i] = true;\n\t\t\t}else{res[i] = false;}\n\t\t}\n\t\treturn res;\n\t}\n\tpublic static int parseInt(Object o){\n\t\treturn Integer.parseInt(o.toString());\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.ArrayDeque;\nimport java.util.Scanner;\n\n\npublic class Main {\n    static Scanner sc = new Scanner(System.in);\n    \n    public static void main(String[] args) {\n        while (true){\n            int N = sc.nextInt();\n            int M = sc.nextInt();\n            if(N==0 && M==0) break;\n\n            int min = Integer.MAX_VALUE;\n            ArrayDeque<int[]> stack = new ArrayDeque<int[]>();\n\n            int[] Cm = new int[M];\n            for (int i=0; i<M;i++){\n                Cm[i] = sc.nextInt();\n            }\n            int[] x = new int[N];\n            for (int i=0; i<N ;i++){\n                x[i]=sc.nextInt();\n            }\n\n            stack.offer(new int[]{0,128,0});\n\n            while (!stack.isEmpty()){\n                int[] current = stack.poll();\n\n                if(current[2]>min) continue;\n                if (current[0]==N){\n                    if(current[2]<min) min=current[2];\n                    continue;\n                }\n\n                for (int i=0;i<M;i++){\n                    int thisValue = current[1]+Cm[i];\n                    if(thisValue<0) thisValue=0;\n                    else if (thisValue>255) thisValue=255;\n\n                    int dif=Math.abs(x[current[0]]-thisValue);\n                    stack.push(new int[]{current[0]+1,thisValue,current[2]+(dif*dif)});\n                }\n            }\n\n            System.out.println(min);\n\n        }\n    }\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\npublic class Main {\n\tScanner in = new Scanner(System.in);\n\tpublic static void main(String[] args) {\n\t\tnew Main();\n\t}\n\n\tpublic Main() {\n\t\tnew AOJ2199().doIt();\n\t}\n\t\n\tclass AOJ2199{\n\t\tint n,m;\n\t\tint[] x,c;\n\t\tHashMap<String, Integer> map;\n\t\tint dfs(int y,int sum,int fase){\n\t\t\tif(fase==n)return sum;\n\t\t\tif(map.containsKey(y+\" \"+sum+\" \"+fase))return map.get(y+\" \"+sum+\" \"+fase); \n\t\t\tint result = Integer.MAX_VALUE;\n\t\t\tfor(int i=0;i<m;i++){\n\t\t\t\tint a = y+c[i];\n\t\t\t\tif(a<0)a=0;\n\t\t\t\tif(a>255)a=255;\n\t\t\t\tsum += ((x[fase]-a)*(x[fase]-a));\n\t\t\t\tresult = Math.min(result, dfs(a,sum,fase+1));\n\t\t\t\tsum -= ((x[fase]-a)*(x[fase]-a));\n\t\t\t}\n\t\t\tmap.put(y+\" \"+sum+\" \"+fase,result);\n\t\t\treturn result;\n\t\t}\n\t\t\n\t\tvoid solve(){\n\t\t\tmap = new HashMap<String, Integer>();\n\t\t\tSystem.out.println(dfs(128,0,0));\n\t\t}\n\t\t\n\t\tvoid doIt(){\n\t\t\twhile(in.hasNext()){\n\t\t\t\tn = in.nextInt();\n\t\t\t\tm = in.nextInt();\n\t\t\t\tif(n+m==0)break;\n\t\t\t\tc = new int[m];\n\t\t\t\tx = new int[n];\n\t\t\t\tfor(int i=0;i<m;i++)c[i] = in.nextInt();\n\t\t\t\tfor(int i=0;i<n;i++)x[i] = in.nextInt();\n\t\t\t\tsolve();\n\t\t\t}\n\t\t}\n\t}\n\t\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main {\n\tfinal int INF = Integer.MAX_VALUE / 2;\n\tprivate void doit(){\n\t\tScanner sc = new Scanner(System.in);\n\t\twhile(true){\n\t\t\tint n = sc.nextInt();\n\t\t\tint m = sc.nextInt();\n\t\t\tif(n == 0 && m == 0) break;\n\t\t\tint [] nlist = new int[n];\n\t\t\tint [] mlist = new int[m];\n\t\t\tfor(int i=0; i < m; i++){\n\t\t\t\tmlist[i] = sc.nextInt();\n\t\t\t}\n\t\t\tfor(int i = 0; i < n; i++){\n\t\t\t\tnlist[i] = sc.nextInt();\n\t\t\t}\n\t\t\tint [][] dp = new int[n+1][256];\n\t\t\tfor(int i=0; i <= n; i++){\n\t\t\t\tfor(int j=0; j < 256; j++){\n\t\t\t\tdp[i][j] = INF;\n\t\t\t\t}\n\t\t\t}\n\t\t\tdp[0][128] = 0;\n\t\t\tfor(int i=0; i < n; i++){\n\t\t\t\tfor(int j=0; j < 256;j++){\n\t\t\t\t\tif(dp[i][j] == INF) continue;\n\t\t\t\t\t\n\t\t\t\t\tfor(int k=0; k < m; k++){\n\t\t\t\t\t\tint ind = j +mlist[k];\n\t\t\t\t\t\tif(ind < 0) ind = 0;\n\t\t\t\t\t\tif(ind > 255) ind = 255;\n\t\t\t\t\t\t\n\t\t\t\t\t\tint diff = ind - nlist[i];\n\t\t\t\t\t\tint value = dp[i][j] + (diff * diff);\n\t\t\t\t\t\tdp[i+1][ind] = Math.min(dp[i+1][ind], value);\n\t\t\t\t\t\t//System.out.println(\"dp=\" + dp[i+1][ind] + \" \" + (i+1));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n//\t\t\tfor(int i=0; i <= n; i++){\n//\t\t\t\tfor(int j=0; j < 255; j++){\n//\t\t\t\t\tif(dp[i][j] == INF){\n//\t\t\t\t\t\tSystem.out.print(\"INF \");\n//\t\t\t\t\t}\n//\t\t\t\t\telse{\n//\t\t\t\t\t\tSystem.out.print(dp[i][j] + \" \");\n//\t\t\t\t\t}\n//\t\t\t\t\t\n//\t\t\t\t}\n//\t\t\t\tSystem.out.println();\n//\t\t\t}\n\t\t\tint ans = INF;\n\t\t\tfor(int i=0; i < 256; i++){\n\t\t\t\tans = Math.min(ans, dp[n][i]);\n\t\t\t}\n\t\t\tSystem.out.println(ans);\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tMain obj = new Main();\n\t\tobj.doit();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Main {\n\n\tScanner sc = new Scanner(System.in);\n\tpublic void run() {\n\t\twhile(sc.hasNext()){\n\t\t\tint n = sc.nextInt();\n\t\t\tint m = sc.nextInt();\n\t\t\tif(n == 0 && m == 0)break;\n\t\t\telse calc(n, m);\n\t\t\t\n\t\t}\n\t}\n\tpublic void calc(int n, int m){\n\t\tcode = new int[m];\n\t\txs = new int[n];\n\t\t memo = new int[n][256];\n\t\t for(int i = 0; i < n; i++){\n\t\t\t Arrays.fill(memo[i], Integer.MAX_VALUE); \n\t\t }\n\t\tfor(int i = 0; i < m; i++){\n\t\t\tcode[i] = sc.nextInt();\n\t\t}\n\t\tfor(int i = 0; i < n; i++){\n\t\t\txs[i] = sc.nextInt();\n\t\t}\n\t\t\n\t\tint t = iter(128, 0, n, m);\n\t\tSystem.out.println(t);\n\t\t\n\t}\n\tint[] code;\n\tint[] xs;\n\tint[][] memo;\n\t\n\tpublic int iter(int y, int i, int n, int m){\n\t\tif(i == n) \n\t\t\treturn 0;\n\t\telse if(memo[i][y] != Integer.MAX_VALUE) \n\t\t\treturn memo[i][y];\n\t\telse{\n\t\t\tint ans = Integer.MAX_VALUE;\n\t\t\tfor(int j = 0; j < m; j++){\n\t\t\t\tint t = y + code[j];\n\t\t\t\tif(t > 255) t = 255;\n\t\t\t\tif(t < 0) t = 0;\n\t\t\t\tans = Math.min(ans, (xs[i] - t)*(xs[i] - t) + iter(t, i+1, n,m));\n\t\t\t}\n\t\t\tmemo[i][y] = ans;\n\t\t\treturn ans;\n\t\t}\n\t}\n\t\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "\nimport java.util.*;\nimport static java.lang.Math.*;\nimport static java.util.Arrays.*;\n\npublic class Main {\n\n\tint INF = 1 << 28;\n\n\tvoid run() {\n\t\tScanner sc = new Scanner(System.in);\n\t\tfor(;;) {\n\t\t\tint n = sc.nextInt(), m = sc.nextInt();\n\t\t\tif((n|m) == 0) break;\n\t\t\tint[] ys = new int[n];\n\t\t\tint[] cs = new int[m];\n\t\t\tfor(int i=0;i<m;i++) cs[i] = sc.nextInt();\n\t\t\tfor(int i=0;i<n;i++) ys[i] = sc.nextInt();\n\t\t\tint[][] dp = new int[n+1][256];\n\t\t\tfor(int[] a: dp) fill(a, INF);\n\t\t\tdp[0][128] = 0;\n\t\t\tfor(int i=0;i<n;i++) for(int j=0;j<m;j++) for(int y=0;y<256;y++) {\n\t\t\t\tint tmp = max(0, min(255, y+cs[j]));\n\t\t\t\tdp[i+1][tmp] \n\t\t\t\t  = min(dp[i+1][tmp], dp[i][y] + (tmp - ys[i]) * (tmp - ys[i]) );\n//\t\t\t\tif(y==255) debug(dp[i+1]);\n\t\t\t}\n\t\t\tint ans = INF;\n\t\t\tfor(int i=0;i<256;i++) ans = min(ans, dp[n][i]);\n\t\t\tSystem.out.println(ans);\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n\n\tvoid debug(Object... os) {\n\t\tSystem.err.println(Arrays.deepToString(os));\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\nimport static java.lang.System.*;\n\npublic class Main {\n\n\tScanner sc = new Scanner(in);\n\tfinal int MAX = Integer.MAX_VALUE;\n\t\n\tvoid run() {\n\t\twhile (true) {\n\t\t\tint n = sc.nextInt(), m = sc.nextInt();\n\t\t\tif (n == 0 && m == 0) break;\n\t\t\t\n\t\t\tint[] c = new int[m];\n\t\t\tint[] x = new int[n];\n\t\t\tfor (int i = 0; i < m; i++)\n\t\t\t\tc[i] = sc.nextInt();\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\tx[i] = sc.nextInt();\n\t\t\t\n\t\t\tint[][] dp = new int[n+1][256];\n\t\t\tfor (int i = 0; i <= n; i++)\n\t\t\t\tfor (int j = 0; j < 256; j++)\n\t\t\t\t\tdp[i][j] = MAX;\n\t\t\tdp[0][128] = 0;\n\t\t\t\n\t\t\tfor (int i = 1; i <= n; i++) {\n\t\t\t\tfor (int j = 0; j < 256; j++) {\n\t\t\t\t\tif (dp[i-1][j] < MAX) {\n\t\t\t\t\t\tfor (int k = 0; k < m; k++) {\n\t\t\t\t\t\t\tint t;\n\t\t\t\t\t\t\tif (c[k] > 0)\n\t\t\t\t\t\t\t\tt = Math.min(j+c[k], 255);\n\t\t\t\t\t\t\telse \n\t\t\t\t\t\t\t\tt = Math.max(j+c[k], 0);\n\t\t\t\t\t\t\tdp[i][t] = Math.min(dp[i][t], dp[i-1][j] + (x[i-1] - t)*(x[i-1] - t));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tArrays.sort(dp[n]);\n\t\t\tout.println(dp[n][0]);\n\t\t}\n\t}\n\t\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Main {\n\n\tstatic Scanner sc = new Scanner(System.in);\n\n\tpublic static void main(String[] args) {\n\t\twhile (true) {\n\t\t\tint N = sc.nextInt();\n\t\t\tif (N == 0) break;\n\t\t\tint M = sc.nextInt();\n\t\t\tint[] C = new int[M];\n\t\t\tfor (int i = 0; i < M; ++i) {\n\t\t\t\tC[i] = sc.nextInt();\n\t\t\t}\n\t\t\tint[] X = new int[N];\n\t\t\tfor (int i = 0; i < N; ++i) {\n\t\t\t\tX[i] = sc.nextInt();\n\t\t\t}\n\t\t\tint[][] dp = new int[2][256];\n\t\t\tArrays.fill(dp[0], 1 << 30);\n\t\t\tdp[0][128] = 0;\n\t\t\tint t = 0;\n\t\t\tfor (int i = 0; i < N; ++i) {\n\t\t\t\tArrays.fill(dp[1 - t], 1 << 30);\n\t\t\t\tfor (int j = 0; j < 256; ++j) {\n\t\t\t\t\tfor (int k = 0; k < M; ++k) {\n\t\t\t\t\t\tint next = j + C[k];\n\t\t\t\t\t\tif (next < 0) next = 0;\n\t\t\t\t\t\tif (next > 255) next = 255;\n\t\t\t\t\t\tdp[1 - t][next] = Math.min(dp[1 - t][next], dp[t][j] + (X[i] - next) * (X[i] - next));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tt = 1 - t;\n\t\t\t}\n\t\t\tint ans = Integer.MAX_VALUE;\n\t\t\tfor (int i = 0; i < 256; ++i) {\n\t\t\t\tans = Math.min(ans, dp[t][i]);\n\t\t\t}\n\t\t\tSystem.out.println(ans);\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.BitSet;\nimport java.util.HashMap;\nimport java.util.Scanner;\n\nimport static java.util.Arrays.*;\nimport static java.lang.Math.*;\npublic class Main{\n\t\n\t// teight_meight ??????????????????????????????\n\t// ??????????????¨\n\t\n\t\n\tpublic static void main(String[] args){\n\t\tScanner in = new Scanner(System.in);\n\t\twhile(true){\n\n            int n = in.nextInt();\n            int m = in.nextInt();\n            if (n + m == 0) break;\n \n            int[] c = new int[m];\n            for (int i=0; i<m; i++) {\n                c[i] = in.nextInt();\n            }\n \n            int[] dp = new int[256];\n            fill(dp,Integer.MAX_VALUE);\n            dp[128] = 0;\n \n            for (int k=0; k<n; k++) {\n                int x = in.nextInt();\n                int[] temp = new int[256];\n                fill(temp,Integer.MAX_VALUE);\n                for (int i=0; i<256; i++) {\n                    if (dp[i] == Integer.MAX_VALUE) continue;\n                    for (int j=0; j<m; j++) {\n                        int cur = i + c[j];\n                        if (cur < 0) cur = 0;\n                        else if (255 < cur) cur = 255;\n                        temp[cur] = min(temp[cur],dp[i] + (cur-x)*(cur-x));\n                    }\n                }\n                dp = temp;\n            }\n \n            int min = Integer.MAX_VALUE;\n            for (int i=0; i<256; i++) {\n                min = min(min, dp[i]);\n            }\n \n            System.out.println(min);\n\t\t}\n\t}\n\t\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Main {\n\n\tstatic int[][] map;\n\tstatic int[][] directions8 = { { -1, -1 }, { -1, 0 }, { -1, 1 }, { 0, -1 }, { 0, 1 }, { 1, -1 }, { 1, 0 },\n\t\t\t{ 1, 1 } };\n\tstatic int[][] directions4 = { { -1, 0 }, { 1, 0 }, { 0, -1 }, { 0, 1 } };\n\tstatic long ans;\n\tstatic int N;\n\tstatic int M;\n\tstatic int[] C;\n\tstatic int[] x;\n\n\tpublic static void main(String[] args) {\n\n\t\tScanner sc = new Scanner(System.in);\n\n\t\twhile (true) {\n\n\t\t\tN = sc.nextInt();\n\t\t\tM = sc.nextInt();\n\n\t\t\tif ((N | M) == 0) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tC = new int[M];\n\t\t\tx = new int[N];\n\t\t\tans = Long.MAX_VALUE;\n\n\t\t\tfor (int i = 0; i < M; i++) {\n\t\t\t\tC[i] = sc.nextInt();\n\t\t\t}\n\n\t\t\tfor (int i = 0; i < N; i++) {\n\t\t\t\tx[i] = sc.nextInt();\n\t\t\t}\n\n\t\t\t// solve(128, 0, 0);\n\n\t\t\tlong[][] dp = new long[20001][256];\n\t\t\tfor (int j = 0; j < 20001; j++) {\n\t\t\t\tArrays.fill(dp[j], Long.MAX_VALUE);\n\t\t\t}\n\n\t\t\tdp[0][128] = 0;\n\n\t\t\tfor (int i = 0; i < N; i++) {\n\t\t\t\tfor (int j = 0; j < 256; j++) {\n\t\t\t\t\tif (dp[i][j] == Long.MAX_VALUE) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tfor (int k = 0; k < M; k++) {\n\t\t\t\t\t\tint nextPulse = j + C[k];\n\t\t\t\t\t\tif (nextPulse > 255) {\n\t\t\t\t\t\t\tnextPulse = 255;\n\t\t\t\t\t\t} else if (nextPulse < 0) {\n\t\t\t\t\t\t\tnextPulse = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tint plus = (nextPulse - x[i]) * (nextPulse - x[i]);\n\t\t\t\t\t\tdp[i + 1][nextPulse] = Long.min(dp[i + 1][nextPulse], dp[i][j] + plus);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tans = Long.MAX_VALUE;\n\t\t\tfor (int j = 0; j < 256; j++) {\n\t\t\t\tif (dp[N][j] < ans) {\n\t\t\t\t\tans = dp[N][j];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tSystem.out.println(ans);\n\t\t}\n\t}\n\n\t// static void solve(int preNum, int idx, long tmpAns) {\n\t// if (tmpAns >= ans) {\n\t// return;\n\t// }\n\n\t// if (idx == N) {\n\t// ans = tmpAns;\n\t// return;\n\t// } else {\n\t// for (int i = 0; i < M; i++) {\n\t// if (idx == 0) {\n\t// tmpAns = 0;\n\t// }\n\t// int thisNum = (preNum + C[i]);\n\t// if (thisNum > 255) {\n\t// thisNum = 255;\n\t// } else if (thisNum < 0) {\n\t// thisNum = 0;\n\t// }\n\t// solve(thisNum, idx + 1, tmpAns + (thisNum - x[idx]) * (thisNum - x[idx]));\n\t// }\n\t// }\n\t// }\n\n\t// BFS用に二つの配列を足し算する\n\tstatic int[] addArrayElms(int[] a, int[] b) {\n\t\tint[] c = new int[a.length];\n\t\tfor (int i = 0; i < a.length; i++) {\n\t\t\tc[i] = a[i] + b[i];\n\t\t}\n\t\treturn c;\n\t}\n\n\t// //二分探索\n\t// k <= num となる最小の配列要素kのインデックスを返す\n\tstatic private int binarySearch(long num, long[] orderedArray) {\n\t\tint lowerBorder = -1;\n\t\tint upperBorder = orderedArray.length;\n\t\tint mid;\n\n\t\twhile (upperBorder - lowerBorder > 1) {\n\t\t\tmid = (upperBorder + lowerBorder) / 2;\n\t\t\tif (orderedArray[mid] <= num) {\n\t\t\t\tlowerBorder = mid;\n\t\t\t} else {\n\t\t\t\tupperBorder = mid;\n\t\t\t}\n\t\t}\n\t\treturn lowerBorder;\n\t}\n\n\t// 二分探索\n\t// k <= num となる最小のList要素kのインデックスを返す\n\tstatic private int binarySearch(long num, ArrayList<Long> orderedList) {\n\t\tint lowerBorder = -1;\n\t\tint upperBorder = orderedList.size();\n\t\tint mid;\n\n\t\twhile (upperBorder - lowerBorder > 1) {\n\t\t\tmid = (upperBorder + lowerBorder) / 2;\n\t\t\tif (orderedList.get(mid) <= num) {\n\t\t\t\tlowerBorder = mid;\n\t\t\t} else {\n\t\t\t\tupperBorder = mid;\n\t\t\t}\n\t\t}\n\t\treturn lowerBorder;\n\t}\n\n\t// aとbの最小公倍数を求める\n\tpublic static int gcd(int a, int b) {\n\t\treturn b == 0 ? a : gcd(b, a % b);\n\t}\n\n\tpublic static long gcd(long a, long b) {\n\t\treturn b == 0 ? a : gcd(b, a % b);\n\t}\n}\n\n"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main {\n\tfinal int INF = 1 << 24;\n\tprivate void doit(){\n\t\tScanner sc = new Scanner(System.in);\n\t\twhile(true){\n\t\t\tint n = sc.nextInt();\n\t\t\tint m = sc.nextInt();\n\t\t\tif(n == 0 && m == 0) break;\n\t\t\tint [] nlist = new int[n];\n\t\t\tint [] mlist = new int[m];\n\t\t\tfor(int i=0; i < m; i++){\n\t\t\t\tmlist[i] = sc.nextInt();\n\t\t\t}\n\t\t\tfor(int i = 0; i < n; i++){\n\t\t\t\tnlist[i] = sc.nextInt();\n\t\t\t}\n\t\t\tint [][] dp = new int[n+1][256];\n\t\t\tfor(int i=0; i <= n; i++){\n\t\t\t\tfor(int j=0; j < 256; j++){\n\t\t\t\tdp[i][j] = INF;\n\t\t\t\t}\n\t\t\t}\n\t\t\tdp[0][128] = 0;\n\t\t\tfor(int i=0; i < n; i++){\n\t\t\t\tfor(int j=0; j < 256;j++){\n\t\t\t\t\t//if(dp[i][j] == INF) continue;\n\t\t\t\t\t\n\t\t\t\t\tfor(int k=0; k < m; k++){\n\t\t\t\t\t\tint ind = j +mlist[k];\n\t\t\t\t\t\tif(ind < 0) ind = 0;\n\t\t\t\t\t\tif(ind > 255) ind = 255;\n\t\t\t\t\t\t\n\t\t\t\t\t\tint diff = ind - nlist[i];\n\t\t\t\t\t\tint value = dp[i][j] + (diff * diff);\n\t\t\t\t\t\tdp[i+1][ind] = Math.min(dp[i+1][ind], value);\n\t\t\t\t\t\t//System.out.println(\"dp=\" + dp[i+1][ind] + \" \" + (i+1));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n//\t\t\tfor(int i=0; i <= n; i++){\n//\t\t\t\tfor(int j=0; j < 255; j++){\n//\t\t\t\t\tif(dp[i][j] == INF){\n//\t\t\t\t\t\tSystem.out.print(\"INF \");\n//\t\t\t\t\t}\n//\t\t\t\t\telse{\n//\t\t\t\t\t\tSystem.out.print(dp[i][j] + \" \");\n//\t\t\t\t\t}\n//\t\t\t\t\t\n//\t\t\t\t}\n//\t\t\t\tSystem.out.println();\n//\t\t\t}\n\t\t\tint ans = INF;\n\t\t\tfor(int i=0; i < 256; i++){\n\t\t\t\tans = Math.min(ans, dp[n][i]);\n\t\t\t}\n\t\t\tSystem.out.println(ans);\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tMain obj = new Main();\n\t\tobj.doit();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main {\n\tfinal int INF = 1 << 24;\n\tprivate void doit(){\n\t\tScanner sc = new Scanner(System.in);\n\t\twhile(true){\n\t\t\tint n = sc.nextInt();\n\t\t\tint m = sc.nextInt();\n\t\t\tif(n == 0 && m == 0) break;\n\t\t\tint [] nlist = new int[n];\n\t\t\tint [] mlist = new int[m];\n\t\t\tfor(int i=0; i < m; i++){\n\t\t\t\tmlist[i] = sc.nextInt();\n\t\t\t}\n\t\t\tfor(int i = 0; i < n; i++){\n\t\t\t\tnlist[i] = sc.nextInt();\n\t\t\t}\n\t\t\tint [][] dp = new int[n+1][256];\n\t\t\tfor(int i=0; i <= n; i++){\n\t\t\t\tArrays.fill(dp[i], INF);\n\t\t\t}\n\t\t\tdp[0][128] = 0;\n\t\t\tfor(int i=0; i < n; i++){\n\t\t\t\tfor(int j=0; j < 256;j++){\n\t\t\t\t\t//if(dp[i][j] == INF) continue;\n\t\t\t\t\t\n\t\t\t\t\tfor(int k=0; k < m; k++){\n\t\t\t\t\t\tint ind = j +mlist[k];\n\t\t\t\t\t\tif(ind < 0) ind = 0;\n\t\t\t\t\t\tif(ind > 255) ind = 255;\n\t\t\t\t\t\t\n\t\t\t\t\t\tint diff = ind - nlist[i];\n\t\t\t\t\t\tint value = dp[i][j] + (diff * diff);\n\t\t\t\t\t\tdp[i+1][ind] = Math.min(dp[i+1][ind], value);\n\t\t\t\t\t\t//System.out.println(\"dp=\" + dp[i+1][ind] + \" \" + (i+1));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n//\t\t\tfor(int i=0; i <= n; i++){\n//\t\t\t\tfor(int j=0; j < 255; j++){\n//\t\t\t\t\tif(dp[i][j] == INF){\n//\t\t\t\t\t\tSystem.out.print(\"INF \");\n//\t\t\t\t\t}\n//\t\t\t\t\telse{\n//\t\t\t\t\t\tSystem.out.print(dp[i][j] + \" \");\n//\t\t\t\t\t}\n//\t\t\t\t\t\n//\t\t\t\t}\n//\t\t\t\tSystem.out.println();\n//\t\t\t}\n\t\t\tint ans = INF;\n\t\t\tfor(int i=0; i < 256; i++){\n\t\t\t\tans = Math.min(ans, dp[n][i]);\n\t\t\t}\n\t\t\tSystem.out.println(ans);\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tMain obj = new Main();\n\t\tobj.doit();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "\n\nimport java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Main {\n\n\tpublic static final void main(String[] args) {\n\t\tnew Main();\n\t}\n\n\tint n;\n\tint m;\n\tint[] c;\n\tint[] x;\n\t\n\tpublic Main() {\n\t\tScanner sc = new Scanner(System.in);\n\t\twhile(true){\n\t\t\tn = sc.nextInt();\n\t\t\tm = sc.nextInt();\n\t\t\n\t\t\tif(n==0 && m==0)\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tc = new int[m];\n\t\t\tx = new int[n];\n\t\t\tfor(int i=0;i<m;i++)\n\t\t\t\tc[i] = sc.nextInt();\n\t\t\tfor(int i=0;i<n;i++)\n\t\t\t\tx[i] = sc.nextInt();\n\t\t\t\n\t\t\tsolve();\n\t\t}\n\t\t\n\t}\n\n\tprivate void solve() {\n\t\tint[][] dp = new int[n+1][255+1];\n\t\tfor(int i=0;i<dp.length;i++)\n\t\t\tArrays.fill(dp[i], Integer.MAX_VALUE);\n\t\t\n\t\tdp[0][128] = 0;\n\t\tint ny = 0;\n\t\tfor(int i=0;i<dp.length-1;i++){\n\t\t\tfor(int j=0;j<dp[i].length;j++){\n\t\t\t\tif(dp[i][j]==Integer.MAX_VALUE)\n\t\t\t\t\tcontinue;\n\t\t\t\tfor(int k=0;k<c.length;k++){\n\t\t\t\t\tny = Math.max(0, j + c[k]);\n\t\t\t\t\tny = Math.min(ny, 255);\n\t\t\t\t\tdp[i+1][ny] = Math.min(dp[i+1][ny], dp[i][j] + (x[i]-ny)*(x[i]-ny));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint res = Integer.MAX_VALUE;\n\t\tfor(int i=0;i<dp[n].length;i++)\n\t\t\tres = Math.min(res, dp[n][i]);\n\t\tSystem.out.println(res);\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException;\nimport java.util.Arrays;\nimport java.util.InputMismatchException;\n\npublic class Main {\n\tint n, m;\n\tint[] c, x;\n\tint[][] dp;\n\n\tint dp(int k, int pre) {\n\t\tif (n <= k) return 0;\n\t\tif (0 <= dp[k][pre]) return dp[k][pre];\n\n\t\tint res = 1 << 20;\n\n\t\tfor (int i = 0; i < m; i++) {\n\t\t\tint y = pre + c[i];\n\t\t\tif (255 < y) {\n\t\t\t\ty = 255;\n\t\t\t}\n\t\t\tif (y < 0) {\n\t\t\t\ty = 0;\n\t\t\t}\n\t\t\tint diff = Math.abs(x[k] - y);\n\t\t\tres = Math.min(res, dp(k + 1, y) + diff*diff);\n\t\t}\n\n\t\treturn dp[k][pre] = res;\n\t}\n\n\tvoid run() {\n\t\tMyScanner sc = new MyScanner();\n\n\t\twhile (true) {\n\t\t\tn = sc.nextInt();\n\t\t\tm = sc.nextInt();\n\t\t\tif ((n | m) == 0) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tc = sc.nextIntArray(m);\n\t\t\tx = sc.nextIntArray(n);\n\t\t\tdp = new int[n][300];\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\tArrays.fill(dp[i], -1);\n\t\t\t}\n\n\t\t\t/*\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\tfor (int j = 0; j < 256; j++) {\n\t\t\t\t\tfor (int k = 0; k < m; k++) {\n\t\t\t\t\t\tdp[i][j] = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t */\n\n\t\t\tfor (int i = 255; 0 <= i; i--) {\n\t\t\t\tfor (int j = n - 1; 0 <= j; j--) {\n\t\t\t\t\tdp(j, i);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tSystem.out.println(dp(0, 128));\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n\n\tpublic void mapDebug(int[][] a) {\n\t\tSystem.out.println(\"--------map display---------\");\n\t\tfor (int i = 0; i < a.length; i++) {\n\t\t\tfor (int j = 0; j < a[i].length; j++) {\n\t\t\t\tSystem.out.printf(\"%3d \", a[i][j]);\n\t\t\t}\n\t\t\tSystem.out.println();\n\t\t}\n\t\tSystem.out.println(\"----------------------------\" + '\\n');\n\t}\n\n\tclass MyScanner {\n\t\tint read() {\n\t\t\ttry {\n\t\t\t\treturn System.in.read();\n\t\t\t} catch (IOException e) {\n\t\t\t\tthrow new InputMismatchException();\n\t\t\t}\n\t\t}\n\n\t\tboolean isSpaceChar(int c) {\n\t\t\treturn c == ' ' || c == '\\n' || c == '\\r' || c == '\\t' || c == -1;\n\t\t}\n\n\t\tboolean isEndline(int c) {\n\t\t\treturn c == '\\n' || c == '\\r' || c == -1;\n\t\t}\n\n\t\tint nextInt() {\n\t\t\treturn Integer.parseInt(next());\n\t\t}\n\n\t\tint[] nextIntArray(int n) {\n\t\t\tint[] array = new int[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\tarray[i] = nextInt();\n\t\t\treturn array;\n\t\t}\n\n\t\tlong nextLong() {\n\t\t\treturn Long.parseLong(next());\n\t\t}\n\n\t\tlong[] nextLongArray(int n) {\n\t\t\tlong[] array = new long[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\tarray[i] = nextLong();\n\t\t\treturn array;\n\t\t}\n\n\t\tdouble nextDouble() {\n\t\t\treturn Double.parseDouble(next());\n\t\t}\n\n\t\tdouble[] nextDoubleArray(int n) {\n\t\t\tdouble[] array = new double[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\tarray[i] = nextDouble();\n\t\t\treturn array;\n\t\t}\n\n\t\tString next() {\n\t\t\tint c = read();\n\t\t\twhile (isSpaceChar(c))\n\t\t\t\tc = read();\n\t\t\tStringBuilder res = new StringBuilder();\n\t\t\tdo {\n\t\t\t\tres.appendCodePoint(c);\n\t\t\t\tc = read();\n\t\t\t} while (!isSpaceChar(c));\n\t\t\treturn res.toString();\n\t\t}\n\n\t\tString[] nextStringArray(int n) {\n\t\t\tString[] array = new String[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\tarray[i] = next();\n\n\t\t\treturn array;\n\t\t}\n\n\t\tString nextLine() {\n\t\t\tint c = read();\n\t\t\twhile (isEndline(c))\n\t\t\t\tc = read();\n\t\t\tStringBuilder res = new StringBuilder();\n\t\t\tdo {\n\t\t\t\tres.appendCodePoint(c);\n\t\t\t\tc = read();\n\t\t\t} while (!isEndline(c));\n\t\t\treturn res.toString();\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.*;\nimport java.util.*;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\nimport java.lang.ArrayIndexOutOfBoundsException;\nimport java.math.BigInteger;\n\nimport javax.script.AbstractScriptEngine;\n\n\n/**\n * @author yoshikyoto\n */\nclass Main{\n\t// public static Graph g;\n\tstatic int[][] dp = new int[2][520];\n\tstatic int inf = 1<<28;\n\n\tpublic static void main(String[] args) throws Exception{\n\t\tBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n\t\twhile(true){\n\t\t\tString[] in = br.readLine().split(\" \");\n\t\t\tint n = Integer.parseInt(in[0]);\n\t\t\tint m = Integer.parseInt(in[1]);\n\t\t\tif(n == 0 && m == 0) break;\n\n\t\t\tint[] c = new int[m];\n\t\t\tint[] x = new int[n];\n\t\t\tfor (int i = 0; i < m; i++) {\n\t\t\t\tc[i] = Integer.parseInt(br.readLine());\n\t\t\t}\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\tx[i] = 256 + Integer.parseInt(br.readLine());\n\t\t\t}\n\t\t\t\n\t\t\t// dpテーブルの初期化\n\t\t\tfor(int j = 0; j < 520; j++){\n\t\t\t\tdp[0][j] = inf;\n\t\t\t\tdp[1][j] = inf;\n\t\t\t}\n\t\t\tdp[0][256 + 128] = 0;\n\t\t\tfor(int i = 1; i <= n; i++){\n\t\t\t\t// System.out.println(\"for1 \" + i);\n\t\t\t\t// DPテーブルの初期化\n\t\t\t\tfor(int j = 0; j < 520; j++){\n\t\t\t\t\t\tdp[i%2][j] = inf;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// 探索\n\t\t\t\tfor(int j = 0; j < 520; j++){\n\t\t\t\t\tint sum = dp[(i-1)%2][j];\n\t\t\t\t\tif(sum == inf) continue;\n\t\t\t\t\tfor(int k = 0; k < m; k++){\n\t\t\t\t\t\t// 次の値\n\t\t\t\t\t\tint next_j = j + c[k];\n\t\t\t\t\t\tnext_j = Math.max(256-255, Math.min(256+255, next_j));\n\t\t\t\t\t\t// System.out.println(\"next value \" + next_j);\n\t\t\t\t\t\t// 二乗誤差を足す\n\t\t\t\t\t\tint next_sum = sum + sq(next_j - x[i-1]);\n\t\t\t\t\t\t// System.out.println(\"next sum \" + next_sum);\n\t\t\t\t\t\tdp[i%2][next_j] = Math.min(dp[i%2][next_j], next_sum);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tint ans = inf;\n\t\t\tfor(int i = 0; i < 520; i++){\n\t\t\t\tans = Math.min(ans, dp[n%2][i]);\n\t\t\t}\n\t\t\tSystem.out.println(ans);\n\t\t}\n\t}\n\n\tpublic static int sq(int i) {\n\t\treturn i * i;\n\t}\n\n\tpublic static double sq(double d) {\n\t\treturn d * d;\n\t}\n}\n\nclass Arg{\n\tint time, val, sum;\n\tArg(int t, int v, int s){\n\t\ttime = t;\n\t\tval = v;\n\t\tsum = s;\n\t}\n\tpublic void print(){\n\t\tSystem.out.println(time + \" \" + val + \" \" + sum);\n\t}\n}\n\n\n\n\n// --- ここから下はライブラリ ----------\n/**\n * MyUtil\n * @author yoshikyoto\n */\nclass MyUtil {\n\tpublic static int[] cp(int[] a){\n\t\tint[] b = new int[a.length];\n\t\tfor(int i = 0; i < a.length; i++) b[i] = a[i];\n\t\treturn b;\n\t}\n\tpublic static int toInt(boolean[] a){\n\t\tint pow = 1, ret = 0, l = a.length;\n\t\tfor(int i = 0; i < l; i++){\n\t\t\tif(a[i]) ret += pow;\n\t\t\tpow *= 2;\n\t\t}\n\t\treturn ret;\n\t}\n\tstatic BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n\tpublic static int ins[];\n\tpublic static int[] readIntMap() throws IOException{return parseInt(readLine().split(\" \"));}\n\tpublic static int readIntMap(int i) throws Exception{\n\t\tif(i == 0) ins = readIntMap();\n\t\treturn ins[i];\n\t}\n\tpublic static int[][] readIntMap(int n, int m) throws IOException{\n\t\tint[][] ret = new int[n][];\n\t\tfor(int i = 0; i < n; i++) ret[i] = readIntMap();\n\t\treturn ret;\n\t}\n\tpublic static int[] readIntToMap(int n) throws IOException{\n\t\tint[] ret = new int[n];\n\t\tfor(int i = 0; i < n; i++) ret[i] = readInt();\n\t\treturn ret;\n\t}\n\tpublic static int[] readNoDistIntMap() throws IOException{\n\t\tString[] strs = readLine().split(\"\");\n\t\tint l = strs.length;\n\t\tint[] ret = new int[l-1];\n\t\tfor(int i = 1; i < l; i++)\n\t\t\tret[i-1] = parseInt(strs[i]);\n\t\treturn ret;\n\t}\n\tpublic static String readLine() throws IOException{return br.readLine();}\n\tpublic static int readInt() throws IOException{return Integer.parseInt(br.readLine());}\n\tpublic static int[] parseInt(String[] arr){\n\t\tint[] res = new int[arr.length];\n\t\tfor(int i = 0; i < arr.length; i++)res[i] = Integer.parseInt(arr[i]);\n\t\treturn res;\n\t}\n\tpublic static double[] parseDouble(String[] arr){\n\t\tdouble[] res = new double[arr.length];\n\t\tfor(int i = 0; i < arr.length; i++)res[i] = Double.parseDouble(arr[i]);\n\t\treturn res;\n\t}\n\tpublic static boolean[] parseBool(String[] arr){\n\t\tint[] t = parseInt(arr);\n\t\tboolean[] res = new boolean[t.length];\n\t\tfor(int i = 0; i < t.length; i++){\n\t\t\tif(t[i] == 1){res[i] = true;\n\t\t\t}else{res[i] = false;}\n\t\t}\n\t\treturn res;\n\t}\n\tpublic static int parseInt(Object o){\n\t\treturn Integer.parseInt(o.toString());\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException;\nimport java.util.Arrays;\nimport java.util.InputMismatchException;\n\npublic class Main {\n\tint n, m;\n\tint[] c, x;\n\tint[][] dp;\n\n\tint dp(int k, int pre) {\n\t\tif (n <= k) return 0;\n\t\tif (0 <= dp[k][pre]) return dp[k][pre];\n\n\t\tint res = 1 << 30;\n\n\t\tfor (int i = 0; i < m; i++) {\n\t\t\tint y = pre + c[i];\n\t\t\tif (255 < y) {\n\t\t\t\ty = 255;\n\t\t\t}\n\t\t\tif (y < 0) {\n\t\t\t\ty = 0;\n\t\t\t}\n\t\t\tint diff = Math.abs(x[k] - y);\n\t\t\tres = Math.min(res, dp(k + 1, y) + diff*diff);\n\t\t}\n\n\t\treturn dp[k][pre] = res;\n\t}\n\n\tvoid run() {\n\t\tMyScanner sc = new MyScanner();\n\n\t\twhile (true) {\n\t\t\tn = sc.nextInt();\n\t\t\tm = sc.nextInt();\n\t\t\tif ((n | m) == 0) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tc = sc.nextIntArray(m);\n\t\t\tx = sc.nextIntArray(n);\n\t\t\tdp = new int[n][300];\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\tArrays.fill(dp[i], -1);\n\t\t\t}\n\n\t\t\t/*\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\tfor (int j = 0; j < 256; j++) {\n\t\t\t\t\tfor (int k = 0; k < m; k++) {\n\t\t\t\t\t\tdp[i][j] = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t */\n\n\t\t\tfor (int i = 255; 0 <= i; i--) {\n\t\t\t\tfor (int j = n - 1; 0 <= j; j--) {\n\t\t\t\t\tdp(j, i);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tSystem.out.println(dp(0, 128));\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n\n\tpublic void mapDebug(int[][] a) {\n\t\tSystem.out.println(\"--------map display---------\");\n\t\tfor (int i = 0; i < a.length; i++) {\n\t\t\tfor (int j = 0; j < a[i].length; j++) {\n\t\t\t\tSystem.out.printf(\"%3d \", a[i][j]);\n\t\t\t}\n\t\t\tSystem.out.println();\n\t\t}\n\t\tSystem.out.println(\"----------------------------\" + '\\n');\n\t}\n\n\tclass MyScanner {\n\t\tint read() {\n\t\t\ttry {\n\t\t\t\treturn System.in.read();\n\t\t\t} catch (IOException e) {\n\t\t\t\tthrow new InputMismatchException();\n\t\t\t}\n\t\t}\n\n\t\tboolean isSpaceChar(int c) {\n\t\t\treturn c == ' ' || c == '\\n' || c == '\\r' || c == '\\t' || c == -1;\n\t\t}\n\n\t\tboolean isEndline(int c) {\n\t\t\treturn c == '\\n' || c == '\\r' || c == -1;\n\t\t}\n\n\t\tint nextInt() {\n\t\t\treturn Integer.parseInt(next());\n\t\t}\n\n\t\tint[] nextIntArray(int n) {\n\t\t\tint[] array = new int[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\tarray[i] = nextInt();\n\t\t\treturn array;\n\t\t}\n\n\t\tlong nextLong() {\n\t\t\treturn Long.parseLong(next());\n\t\t}\n\n\t\tlong[] nextLongArray(int n) {\n\t\t\tlong[] array = new long[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\tarray[i] = nextLong();\n\t\t\treturn array;\n\t\t}\n\n\t\tdouble nextDouble() {\n\t\t\treturn Double.parseDouble(next());\n\t\t}\n\n\t\tdouble[] nextDoubleArray(int n) {\n\t\t\tdouble[] array = new double[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\tarray[i] = nextDouble();\n\t\t\treturn array;\n\t\t}\n\n\t\tString next() {\n\t\t\tint c = read();\n\t\t\twhile (isSpaceChar(c))\n\t\t\t\tc = read();\n\t\t\tStringBuilder res = new StringBuilder();\n\t\t\tdo {\n\t\t\t\tres.appendCodePoint(c);\n\t\t\t\tc = read();\n\t\t\t} while (!isSpaceChar(c));\n\t\t\treturn res.toString();\n\t\t}\n\n\t\tString[] nextStringArray(int n) {\n\t\t\tString[] array = new String[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\tarray[i] = next();\n\n\t\t\treturn array;\n\t\t}\n\n\t\tString nextLine() {\n\t\t\tint c = read();\n\t\t\twhile (isEndline(c))\n\t\t\t\tc = read();\n\t\t\tStringBuilder res = new StringBuilder();\n\t\t\tdo {\n\t\t\t\tres.appendCodePoint(c);\n\t\t\t\tc = read();\n\t\t\t} while (!isEndline(c));\n\t\t\treturn res.toString();\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Main {\n\t\n\tpublic static int INF = (int) 1e9;\n\tpublic static void main(String[] args) {\n\n\t\tScanner sc = new Scanner(System.in);\n\t\twhile(true) {\n\t\t\tint n = sc.nextInt();\n\t\t\tint m = sc.nextInt();\n\t\t\tif (n == 0 && m == 0) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tint[] c = new int[m];\n\t\t\tfor(int i=0;i<m;i++) {\n\t\t\t\tc[i] = sc.nextInt();\n\t\t\t}\n\t\t\tint[] x = new int[n];\n\t\t\tfor(int i=0;i<n;i++) {\n\t\t\t\tx[i] = sc.nextInt();\n\t\t\t}\n\t\t\tint[][] dp = new int[n+1][256];\n\t\t\tfor(int i=0;i<=n;i++) {\n\t\t\t\tArrays.fill(dp[i], INF);\n\t\t\t}\n\t\t\tdp[0][128] = 0;\n\t\t\tfor(int i=0;i<n;i++) {\n\t\t\t\tfor(int j=0;j<256;j++) {\n\t\t\t\t\tif (dp[i][j] >= INF) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tfor(int k=0;k<m;k++) {\n\t\t\t\t\t\tint to = j + c[k];\n\t\t\t\t\t\tif (to < 0) {\n\t\t\t\t\t\t\tto = 0;\n\t\t\t\t\t\t}else if(to >= 256) {\n\t\t\t\t\t\t\tto = 255;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tint diff = (x[i] - to) * (x[i] - to);\n\t\t\t\t\t\tdp[i+1][to] = Math.min(dp[i+1][to],dp[i][j] + diff);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tint min = INF;\n\t\t\tfor(int i=0;i<256;i++) {\n\t\t\t\tmin = Math.min(min,dp[n][i]);\n\t\t\t}\n\t\t\tSystem.out.println(min);\n\t\t}\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main{\n\n    void solve(){\n\tScanner sc = new Scanner(System.in);\n\n\twhile(true){\n\t    int n = sc.nextInt();\n\t    int m = sc.nextInt();\n\t    if(n==0 && m==0) break;\n\t    int[] c = new int[m];\n\t    int[] x = new int[n];\n\t    for(int i=0; i<m; i++) c[i] = sc.nextInt();\n\t    for(int i=0; i<n; i++) x[i] = sc.nextInt();\n\t    \n\t    int INF = 20000000;\n\t    int[][] dp = new int[256][n+1];\n\t    for(int i=0; i<256; i++) Arrays.fill(dp[i], INF);\n\t    dp[128][0] = 0;\n\t    \n\t    for(int i=1; i<=n; i++){\n\t\tfor(int j=0; j<256; j++){\n\t\t    if(dp[j][i-1]==INF) continue;\n\t\t    for(int k=0; k<m; k++){\n\t\t\tint newY = j+c[k];\n\t\t\tif(newY<0) newY = 0;\n\t\t\telse if(newY>255) newY = 255;\n\t\t\tdp[newY][i] = Math.min(dp[newY][i], dp[j][i-1]+(newY-x[i-1])*(newY-x[i-1]));\n\t\t    }\n\t\t}\n\t    }\n\t    \n\t    int min = INF;\n\t    for(int i=0; i<256; i++) min = Math.min(min, dp[i][n]);\n\t    \n\t    System.out.println(min);\n\t}\n    }\n\n    public static void main(String[] args){\n\tnew Main().solve();\n    }\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.util.Arrays;\n\n\npublic class Main {\n\n\t/**\n\t * @param args\n\t * @throws IOException \n\t */\n\tpublic static void main(String[] args) throws IOException {\n\t\t// TODO Auto-generated method stub\n\t\tBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n\t\t\n\t\twhile(true){\n\t\t\tString[] tmpArray = br.readLine().split(\" \");\n\t\t\t\n\t\t\tint n = Integer.parseInt(tmpArray[0]);\n\t\t\tint m = Integer.parseInt(tmpArray[1]);\n\t\t\t\n\t\t\tif(n == 0 && m == 0){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\tint[] code = new int[m];\n\t\t\t\n\t\t\tfor(int i = 0; i < m; i++){\n\t\t\t\tcode[i] = Integer.parseInt(br.readLine());\n\t\t\t}\n\t\t\t\n\t\t\tint[] signal = new int[n];\n\t\t\t\n\t\t\tfor(int i = 0; i < n; i++){\n\t\t\t\tsignal[i] = Integer.parseInt(br.readLine());\n\t\t\t}\n\t\t\t\n\t\t\tint[][] dp = new int[256][n + 1];\n\t\t\t//init\n\t\t\tfor(int i = 0; i <= 255; i++){\n\t\t\t\tArrays.fill(dp[i], Integer.MAX_VALUE);\n\t\t\t}\n\t\t\t\n\t\t\t//1つ目のシグナルについて初期化\n\t\t\tdp[128][0] = 0;\n\t\t\t\n\t\t\tfor(int i = 1; i <= n; i++){\n\t\t\t\tfor(int j = 0; j <= 255; j++){\n\t\t\t\t\tif(dp[j][i - 1] == Integer.MAX_VALUE){\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tfor(int k = 0; k < m ; k++){\n//\t\t\t\t\t\tSystem.out.println(i+\" \"+j+\" \"+k);\n\t\t\t\t\t\tint tmpValue = Math.min(255, Math.max(0, j + code[k]));\n//\t\t\t\t\t\tSystem.out.println(\"new signal \"+ tmpValue);\n\t\t\t\t\t\tdp[tmpValue][i] = Math.min(dp[tmpValue][i], dp[j][i - 1] + (int)Math.pow((tmpValue - signal[i - 1]), 2));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t//debug\n\t\t\t\n//\t\t\tfor(int i = 1; i <= n; i++){\n//\t\t\t\tint tmp = Integer.MAX_VALUE;\n//\t\t\t\tfor(int j = 0; j <= 255; j++){\n//\t\t\t\t\ttmp = Math.min(tmp, dp[j][i]);\n//\t\t\t\t}\n//\t\t\t\t\n//\t\t\t\tSystem.out.print(tmp+\" \");\n//\t\t\t}\n//\t\t\tSystem.out.println();\n\t\t\t\n\t\t\tint result = Integer.MAX_VALUE;\n\t\t\t\n\t\t\tfor(int i = 0; i <= 255 ; i++){\n\t\t\t\tresult = Math.min(result, dp[i][n]);\n//\t\t\t\tSystem.out.println(\"i = \"+i+\" dp = \"+dp[i][n]);\n\t\t\t}\n\t\t\t\n\t\t\tSystem.out.println(result);\n\t\t}\n\t}\n\n}\n\n"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\nimport java.util.Stack;\n\n\npublic class Main {\n    static Scanner sc = new Scanner(System.in);\n\n    static class Value{\n        int num;\n        int value;\n        int ans;\n\n        public Value(int num, int value,int ans) {\n            this.num = num;\n            this.value = value;\n            this.ans = ans;\n        }\n    }\n\n    public static void main(String[] args) {\n\n        while (true){\n            int N = sc.nextInt();\n            int M = sc.nextInt();\n            if(N==0 && M==0) break;\n\n            int min = Integer.MAX_VALUE;\n            Stack stack = new Stack();\n\n            int[] Cm = new int[M];\n            for (int i=0; i<M;i++){\n                Cm[i] = sc.nextInt();\n            }\n            int[] x = new int[N];\n            for (int i=0; i<N ;i++){\n                x[i]=sc.nextInt();\n            }\n\n            stack.push(new Value(0,128,0));\n\n            while (!stack.empty()){\n                Value current = (Value) stack.pop();\n\n                if(current.ans>min) continue;\n                if (current.num==N){\n                    if(current.ans<min) min=current.ans;\n                    continue;\n                }\n\n                for (int i=0;i<M;i++){\n                    int thisValue = current.value+Cm[i];\n                    if(thisValue<0) thisValue=0;\n                    else if (thisValue>255) thisValue=255;\n\n                    int dif=Math.abs(x[current.num]-thisValue);\n                    stack.push(new Value(current.num+1,thisValue,current.ans+(dif*dif)));\n                }\n            }\n\n            System.out.println(min);\n\n        }\n    }\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main {\n\tpublic static void main(String[] args) {\n\t\tScanner sc = new Scanner(System.in);\n\t\twhile (true) {\n\t\t\tint n = sc.nextInt();\n\t\t\tint m = sc.nextInt();\n\t\t\tif (n == 0 && m == 0)\n\t\t\t\tbreak;\n\t\t\tint[][] dp = new int[n][256];\n\t\t\tboolean[][] dpb = new boolean[n][256];\n\t\t\tint[] sample = new int[n];\n\t\t\tint[] code = new int[m];\n\t\t\tfor (int i = 0; i < m; i++)\n\t\t\t\tcode[i] = sc.nextInt();\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\tsample[i] = sc.nextInt();\n\t\t\t\tfor (int j = 0; j < 256; j++)\n\t\t\t\t\tdpb[i][j] = false;\n\t\t\t}\n\t\t\tfor (int i = 0; i < m; i++) {\n\t\t\t\tint d = addComp(128, code[i]);\n\t\t\t\tdp[0][d] = (int) Math.pow(d - sample[0], 2);\n\t\t\t\tdpb[0][d] = true;\n\t\t\t}\n\t\t\tfor (int i = 0; i < n - 1; i++) {\n\t\t\t\tfor (int j = 0; j < 256; j++) {\n\t\t\t\t\tif (dpb[i][j]) {\n\t\t\t\t\t\tfor (int k = 0; k < m; k++) {\n\t\t\t\t\t\t\tint d = addComp(j, code[k]);\n\t\t\t\t\t\t\tif (dpb[i + 1][d])\n\t\t\t\t\t\t\t\tdp[i + 1][d] = Math.min(dp[i + 1][d], dp[i][j]\n\t\t\t\t\t\t\t\t\t\t+ (int) Math.pow(d - sample[i + 1], 2));\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tdp[i + 1][d] = dp[i][j]\n\t\t\t\t\t\t\t\t\t\t+ (int) Math.pow(d - sample[i + 1], 2);\n\t\t\t\t\t\t\tdpb[i + 1][d] = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tint result = Integer.MAX_VALUE;\n\t\t\tfor (int i = 0; i < 256; i++)\n\t\t\t\tif (dpb[n - 1][i])\n\t\t\t\t\tresult = Math.min(result, dp[n - 1][i]);\n\t\t\tSystem.out.println(result);\n\t\t}\n\t\tsc.close();\n\t}\n\n\tstatic int addComp(int a, int b) {\n\t\tint r = a + b;\n\t\tr = Math.max(r, 0);\n\t\tr = Math.min(r, 255);\n\t\treturn r;\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main{\n\tpublic static void main(String[] args){\n\t\tScanner sc = new Scanner(System.in);\n\n\t\twhile(true){\n\t\t\tint N = sc.nextInt(), M = sc.nextInt();\n\t\t\tif(N == 0 && M == 0) break;\n\n\t\t\tint[] c = new int[M];\n\t\t\tint[][] dp = new int[N+1][256];\n\n\t\t\tfor(int i=0;i<M;i++) c[i] = sc.nextInt();\n\t\t\tfor(int[] tmp : dp) Arrays.fill(tmp,Integer.MAX_VALUE);\n\n\t\t\tdp[0][128] = 0;\n\n\t\t\tfor(int n=1;n<=N;n++){\n\t\t\t\tint x = sc.nextInt();\n\t\t\t\tfor(int y=0;y<256;y++){\n\t\t\t\t\tfor(int k=0;k<M;k++){\n\t\t\t\t\t\tint ny = y + c[k];\n\t\t\t\t\t\tif(255 < ny) ny = 255;\n\t\t\t\t\t\telse if(ny < 0) ny = 0;\n\t\t\t\t\t\tint cost = (ny - x) * (ny - x);\n\t\t\t\t\t\tint sum = dp[n-1][y] == Integer.MAX_VALUE ? Integer.MAX_VALUE : dp[n-1][y] + cost;\n\t\t\t\t\t\tdp[n][ny] = Math.min(dp[n][ny], sum);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tint ans = Integer.MAX_VALUE;\n\t\t\tfor(int tmp : dp[N]) ans = Math.min(ans,tmp);\n\n\t\t\tSystem.out.println(ans);\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "\nimport java.util.*;\nimport static java.lang.Math.*;\nimport static java.util.Arrays.*;\n\npublic class Main {\n\n\tint INF = 1 << 28;\n\n\tvoid run() {\n\t\tScanner sc = new Scanner(System.in);\n\t\tfor(;;) {\n\t\t\tint n = sc.nextInt(), m = sc.nextInt();\n\t\t\tif((n|m) == 0) break;\n\t\t\tint[] ys = new int[n];\n\t\t\tint[] cs = new int[m];\n\t\t\tfor(int i=0;i<m;i++) cs[i] = sc.nextInt();\n\t\t\tfor(int i=0;i<n;i++) ys[i] = sc.nextInt();\n\t\t\tint[][] dp = new int[n+1][256];\n\t\t\tfor(int[] a: dp) fill(a, INF);\n\t\t\tfill(dp[0], 0);\n\t\t\tfor(int i=0;i<n;i++) for(int j=0;j<m;j++) for(int y=0;y<256;y++) {\n\t\t\t\tint tmp = max(0, min(255, y+cs[j]));\n\t\t\t\tdp[i+1][tmp] \n\t\t\t\t  = min(dp[i+1][tmp], dp[i][y] + (tmp - ys[i]) * (tmp - ys[i]) );\n//\t\t\t\tif(y==255) debug(dp[i+1]);\n\t\t\t}\n\t\t\tint ans = INF;\n\t\t\tfor(int i=0;i<256;i++) ans = min(ans, dp[n][i]);\n\t\t\tSystem.out.println(ans);\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n\n\tvoid debug(Object... os) {\n\t\tSystem.err.println(Arrays.deepToString(os));\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main{\n\n    void solve(){\n\tScanner sc = new Scanner(System.in);\n\n\twhile(true){\n\t    int n = sc.nextInt();\n\t    int m = sc.nextInt();\n\t    if(n==0 && m==0) break;\n\t    int[] c = new int[m];\n\t    int[] x = new int[n];\n\t    for(int i=0; i<m; i++) c[i] = sc.nextInt();\n\t    for(int i=0; i<n; i++) x[i] = sc.nextInt();\n\t    \n\t    int INF = 100000000;\n\t    int[][] dp = new int[256][n+1];\n\t    for(int i=0; i<256; i++) Arrays.fill(dp[i], INF);\n\t    dp[128][0] = 0;\n\t    \n\t    for(int i=1; i<=n; i++){\n\t\tfor(int j=0; j<256; j++){\n\t\t    if(dp[j][i-1]==INF) continue;\n\t\t    for(int k=0; k<m; k++){\n\t\t\tint newY = j+c[k];\n\t\t\tif(newY<0) newY = 0;\n\t\t\telse if(newY>255) newY = 255;\n\t\t\tdp[newY][i] = Math.min(dp[newY][i], dp[j][i-1]+(newY-x[i-1])*(newY-x[i-1]));\n\t\t    }\n\t\t}\n\t    }\n\t    \n\t    int min = INF;\n\t    for(int i=0; i<256; i++) min = Math.min(min, dp[i][n]);\n\t    \n\t    System.out.println(min);\n\t}\n    }\n\n    public static void main(String[] args){\n\tnew Main().solve();\n    }\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.BitSet;\nimport java.util.HashMap;\nimport java.util.Scanner;\n\npublic class Main{\n\tpublic static void main(String[] args){\n\t\tScanner in = new Scanner(System.in);\n\t\twhile(true){\n\t\t\tint n = in.nextInt();\n\t\t\tint m = in.nextInt();\n\t\t\tif(n == 0) break;\n\t\t\tint[] c = new int[m];\n\t\t\tint[] x = new int[n];\n\t\t\tfor(int i=0; i<m; i++){\n\t\t\t\tc[i] = in.nextInt();\n\t\t\t}\n\t\t\tfor(int i=0; i<n; i++){\n\t\t\t\tx[i] = in.nextInt();\n\t\t\t}\n\t\t\tlong[] dp = new long[256];\n\t\t\tBitSet used = new BitSet(256);\n\t\t\tlong[] next = new long[256];\n\t\t\tBitSet nused = new BitSet(256);\n\t\t\tused.set(128);\n\t\t\tfor(int i=0; i<n; i++){\n\t\t\t\tmemset(next, 1L<<60);\n\t\t\t\tnused.clear(0, 256);\n\t\t\t\tfor(int j=used.nextSetBit(0)\n\t\t\t\t\t\t; j!=-1\n\t\t\t\t\t\t; j=used.nextSetBit(j+1)){\n\t\t\t\t\tfor(int k=0; k<m; k++){\n\t\t\t\t\t\tint nh = j + c[k];\n\t\t\t\t\t\tif(nh > 255) nh = 255;\n\t\t\t\t\t\telse if(nh < 0) nh = 0;\n\t\t\t\t\t\tnused.set(nh);\n\t\t\t\t\t\tlong val = dp[j] + sq(nh-x[i]);\n\t\t\t\t\t\tif(val < next[nh])\n\t\t\t\t\t\t\tnext[nh] = val;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tmemcpy(dp, next);\n\t\t\t\tmemcpy(used, nused, 256);\n\t\t\t}\n\t\t\tlong res = 1L<<60;\n\t\t\tfor(int i=used.nextSetBit(0)\n\t\t\t\t\t; i!=-1\n\t\t\t\t\t; i=used.nextSetBit(i+1)){\n\t\t\t\tres = Math.min(res, dp[i]);\n\t\t\t}\n\t\t\tSystem.out.println(res);\n\t\t}\n\t}\n\t\n\tpublic static void memset(long[] a, long val){\n\t\tfor(int i=0; i<a.length; i++){\n\t\t\ta[i] = val;\n\t\t}\n\t}\n\t\n\tpublic static void memcpy(long[] a, long[] b){\n\t\tfor(int i=0; i<a.length; i++){\n\t\t\ta[i] = b[i];\n\t\t}\n\t}\n\t\n\tpublic static void memcpy(BitSet a, BitSet b, int len){\n\t\ta.clear(0, len);\n\t\ta.or(b);\n\t}\n\t\n\tpublic static int sq(int a){\n\t\treturn a*a;\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.*;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Scanner;\npublic class Main {\n\tstatic int[][] dp;\n\tstatic int n;\n\tstatic int m;\n\tstatic int[] c;\n\tstatic int[] x;\n\tpublic static void main(String[] args) {\n\t\tScanner stdIn = new Scanner(System.in);\n\t\twhile(true) {\n\t\t\tn = stdIn.nextInt();\n\t\t\tm = stdIn.nextInt();\n\t\t\tif(n == 0 && m == 0) break;\n\t\t\tc = new int[m];\n\t\t\tfor(int i = 0; i < m; i++) {\n\t\t\t\tc[i] = stdIn.nextInt();\n\t\t\t}\n\t\t\tx = new int[n];\n\t\t\tfor(int i = 0; i < n; i++) {\n\t\t\t\tx[i] = stdIn.nextInt();\n\t\t\t}\n\t\t\t\n\t\t\tSystem.out.println(dp());\n\t\t}\n\t}\n\tstatic int INF = 2 << 28;\n\tpublic static int dp() {\n\t\tdp = new int[n+1][256];\n\t\t\n\t\tfor(int i = 0; i < n+1; i++) {\n\t\t\tArrays.fill(dp[i], INF);\n\t\t}\n\t\tdp[0][128] = 0;\n\t\tint ans = INF;\n\t\tfor(int i = 0; i < n; i++) {\n\t\t\tfor(int j = 0; j < 256; j++) {\n\t\t\t\tif(dp[i][j] == INF) continue;\n\t\t\t\tfor(int k = 0; k < m; k++) {\n\t\t\t\t\tint tmp = Math.max(0, Math.min(255, j + c[k]));\n\t\t\t\t\tdp[i+1][tmp] = Math.min(dp[i+1][tmp], dp[i][j] + (tmp-x[i])*(tmp-x[i]) );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor(int i = 0; i < 256; i++) {\n\t\t\tans = Math.min(ans, dp[n][i]);\n\t\t}\n\t\treturn ans;\n\t\t\n\t\t\n\t}\n}\n\t"
  },
  {
    "language": "Java",
    "code": "import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Scanner;\n\npublic class Main {\n\tpublic static void main(String[] args) {\n\t\ttry(Scanner sc = new Scanner(System.in)){\n\t\t\twhile(sc.hasNext()) {\n\t\t\t\tint inf=100000000;//とにかく大きい数\n\t\t\t\t\n\t\t\t\tint n=sc.nextInt();//圧縮する入力信号の数\n\t\t\t\tint m=sc.nextInt();//コードブックに含まれる値の個数\n\t\t\t\tif(n+m==0) break;\n\t\t\t\tint[] c=new int[m+1];//コードブックの値\n\t\t\t\tint[] x=new int[n+1];//入力信号の値\n\t\t\t\tfor(int i=0; i<m; i++) {\n\t\t\t\t\tc[i]=sc.nextInt();\n\t\t\t\t}\n\t\t\t\tfor(int i=0; i<n; i++) {\n\t\t\t\t\tx[i]=sc.nextInt();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tint[][] dp=new int[n+1][256];\n\t\t\t\tfor(int i=0; i<256; i++) {\n\t\t\t\t\tfor(int j=0; j<=n; j++) {\n\t\t\t\t\t\tdp[j][i]=inf;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tdp[0][128]=0;\n\t\t\t\tArrayList<Integer> list=new ArrayList<>();\n\t\t\t\tfor(int i=0; i<n; i++) {\n\t\t\t\t\tfor(int j=0; j<256; j++) {\n\t\t\t\t\t\tif(dp[i][j]==inf) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor(int k=0; k<m; k++) {\n\t\t\t\t\t\t\tint yn=j+c[k];\n\t\t\t\t\t\t\tif(yn>255) yn=255;\n\t\t\t\t\t\t\telse if(yn<0) yn=0;\n\t\t\t\t\t\t\tint sum=(x[i]-yn)*(x[i]-yn);\n\t\t\t\t\t\t\tdp[i+1][yn]=Math.min(dp[i+1][yn], dp[i][j]+sum);\n\t\t\t\t\t\t\t//System.out.println(\"dp[\"+(i+1)+\"][\"+yn+\"]=\"+dp[i+1][yn]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tfor(int j=0; j<256; j++) {\n\t\t\t\t\tif(dp[n][j]!=inf) {\n\t\t\t\t\t\tlist.add(dp[n][j]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tCollections.sort(list);\n\t\t\t\tSystem.out.println(list.get(0));\n\t\t\t\t\n\t\t\t}\n\n\n\t\t}\n\t}\n}\n"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException;\nimport java.io.InputStream;\nimport java.util.ArrayDeque;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Deque;\nimport java.util.List;\nimport java.util.NoSuchElementException;\nimport java.util.Random;\nimport java.util.Scanner;\n\nclass UnionFind{\n\tint Parent[];\n\tUnionFind(int n){//Initialize by -1\n\t\tParent=new int[n];\n\t\tArrays.fill(Parent, -1);\n\t}\n\tint root(int A) {//In which tree is A?\n\t\tif(Parent[A]<0)return A;\n\t\treturn Parent[A]=root(Parent[A]);\n    }\n\tint size(int A) {//size of tree which is include A\n\t\treturn -Parent[root(A)];\n\t}\n\tboolean connect(int A,int B) {//Connect A and B\n\t\tA=root(A);\n\t\tB=root(B);\n\t\tif(A==B) return false;\n\t\tif(size(A)<size(B)) {int C=0;C=B;B=A;A=C;}//SWAP\n\t\tParent[A]+=Parent[B];\n\t\tParent[B]=A;\n\t\treturn true;\n\t}\n}\nclass Pair<T,E>{\n\tpublic T first;\n\tpublic E second;\n\tvoid set(T x,E y){\n\t\tfirst=x;\n\t\tsecond=y;\n\t}\n}\nclass Pint{\n\tpublic int first;\n\tpublic int second;\n\tPint(int x,int y){\n\t\tfirst=x;\n\t\tsecond=y;\n\t}\n\tvoid set(int x,int y){\n\t\tfirst=x;\n\t\tsecond=y;\n\t}\n}\nclass Tpair{\n\tpublic int first;\n\tpublic int second;\n\tpublic long third;\n\tTpair(int x,int y,long z){\n\t\tfirst=x;\n\t\tsecond=y;\n\t\tthird=z;\n\t}\n\tvoid set(int x,int y,long z){\n\t\tfirst=x;\n\t\tsecond=y;\n\t\tthird=z;\n    }\n}\npublic class Main {\n\tstatic FastScanner scan=new FastScanner();\n\tstatic Scanner scanner=new Scanner(System.in);\n\tstatic Random rand=new Random();\n\tstatic long mod=1000000007;\n\tstatic double eps=1.0E-14;\n\tstatic int big=Integer.MAX_VALUE;\n\tstatic double PI=3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632788659361533818279682303019520353018529689957736225994138912497217752834791315155748572424541506959508295331168617278558890750983817546374649393192550604009277016711390098488240128583616035637076601047101819429555961989467678374494482553797747268471040475346462080466842590694912933136770289891521047521620569660240580381501935112533824300355876402474964732639141992726042699227967823547816360093417216412199245863150302861829745557067498385054945885869269956909272107975093029553211653449872027559602364806654991198818347977535663698074265425278625518184175746728909777727938000816470600161452491921732172147723501414419735685481613611573525521334757418494684385233239073941433345477624168625189835694855620992192221842725502542568876717904946016534668049886272327917860857843838279679766814541009538837863609506800642251252051173929848960841284886269456042419652850222106611863067442786220391949450471237137869609563643719172874677646575739624138908658326459958133904780275900994657640789512694683983525957098258226205224894077267194782684826014769909026401363944374553050682034962524517493996514314298091906592509372216964615157098583874105978859597729754989301617539284681382686838689427741559918559252459539594310499725246808459872736446958486538367362226260991246080512438843904512441365497627807977156914359977001296160894416948685558484063534220722258284886481584560285060168427394522674676788952521385225499546667278239864565961163548862305774564980355936345681743241125150760694794510965960940252288797108931456691368672287489405601015033086179286809208747609178249385890097149096759852613655497818931297848216829989487226588048575640142704775551323796414515237462343645428584447952658678210511413547357395231134271661021359695362314429524849371871101457654035902799344037420073105785390621983874478084784896833214457138687519435064302184531910484810053706146806749192781911979399520614196634287544406437451237181921799983910159195618146751426912397489409071864942319615679452080951465502252316038819301420937621378559566389377870830390697920773467221825625996615014215030680384477345492026054146659252014974428507325186660021324340881907104863317346496514539057962685610055081066587969981635747363840525714591028970641401109712062804390397595156771577004203378699360072305587631763594218731251471205329281918261861258673215791984148488291644706095752706957220917567116722910981690915280173506712748583222871835209353965725121083579151369882091444210067510334671103141267111369908658516398315019701651511685171437657618351556508849099898599823873455283316355076479185358932261854896321329330898570642046752590709154814165498594616371802709819943099244889575712828905923233260972997120844335732654893823911932597463667305836041428138830320382490375898524374417029132765618093773444030707469211201913020330380197621101100449293215160842444859637669838952286847831235526582131449576857262433441893039686426243410773226978028073189154411010446823252716201052652272111660396665573092547110557853763466820653109896526918620564769312570586356620185581007293606598764861179104533488503461136576867532494416680396265797877185560845529654126654085306143444318586769751456614068007002378776591344017127494704205622305389945613140711270004078547332699390814546646458807972708266830634328587856983052358089330657574067954571637752542021149557615814002501262285941302164715509792592309907965473761255176567513575178296664547791745011299614890304639947132962107340437518957359614589019389713111790429782856475032031986915140287080859904801094121472213179476477726224142548545403321571853061422881375850430633217518297986622371721591607716692547487389866549494501146540628433663937900397692656721463853067360965712091807638327166416274888800786925602902284721040317211860820419000422966171196377921337575114959501566049631862947265473642523081770367515906735023507283540567040386743513622224771589150495309844489333096340878076932599397805419341447377441842631298608099888687413260472156951623965864573021631598193195167353812974167729478672422924654366800980676928238280689964004824354037014163149658979409243237896907069779422362508221688957383798623001593776471651228935786015881617557829735233446042815126272037343146531977774160319906655418763979293344195215413418994854447345673831624993419131814809277771038638773431772075456545322077709212019051660962804909263601975988281613323166636528619326686336062735676303544776280350450777235547105859548702790814356240145171806246436267945612753181340783303362542327839449753824372058353114771199260638133467768796959703098339130771098704085913374641442822772634659470474587847787201927715280731767907707157213444730605700733492436931138350493163128404251219256517980694113528013147013047816437885185290928545201165839341965621349143415956258658655705526904965209858033850722426482939728584783163057777560688876446248246857926039535277348030480290058760758251047470916439613626760449256274204208320856611906254543372131535958450687724602901618766795240616342522577195429162991930645537799140373404328752628889639958794757291746426357455254079091451357111369410911939325191076020825202618798531887705842972591677813149699009019211697173727847684726860849003377024242916513005005168323364350389517029893922334517220138128069650117844087451960121228599371623130171144484640903890644954440061986907548516026327505298349187407866808818338510228334508504860825039302133219715518430635455007668282949304137765527939751754613953984683393638304746119966538581538420568533862186725233402830871123282789212507712629463229563989898935821167456270102183564622013496715188190973038119800497340723961036854066431939509790190699639552453005450580685501956730229219139339185680344903982059551002263535361920419947455385938102343955449597783779023742161727111723643435439478221818528624085140066604433258885698670543154706965747458550332323342107301545940516553790686627333799585115625784322988273723198987571415957811196358330059408730681216028764962867446047746491599505497374256269010490377819868359381465741268049256487985561453723478673303904688383436346553794986419270563872931748723320837601123029911367938627089438799362016295154133714248928307220126901475466847653576164773794675200490757155527819653621323926406160136358155907422020203187277605277219005561484255518792530343513984425322341576233610642506390497500865627109535919465897514131034822769306247435363256916078154781811528436679570611086153315044521274739245449454236828860613408414863776700961207151249140430272538607648236341433462351897576645216413767969031495019108575984423919862916421939949072362346468441173940326591840443780513338945257423995082965912285085558215725031071257012668302402929525220118726767562204154205161841634847565169998116141010029960783869092916030288400269104140792886215078424516709087000699282120660418371806535567252532567532861291042487761825829765157959847035622262934860034158722980534989650226291748788202734209222245339856264766914905562842503912757710284027998066365825488926488025456610172967026640765590429099456815065265305371829412703369313785178609040708667114965583434347693385781711386455873678123014587687126603489139095620099393610310291616152881384379099042317473363948045759314931405297634757481193567091101377517210080315590248530906692037671922033229094334676851422144773793937517034436619910403375111735471918550464490263655128162288244625759163330391072253837421821408835086573917715096828874782656995995744906617583441375223970968340800535598491754173818839994469748676265516582765848358845314277568790029095170283529716344562129640435231176006651012412006597558512761785838292041974844236080071930457618932349229279650198751872127267507981255470958904556357921221033346697499235630254947802490114195212382815309114079073860251522742995818072471625916685451333123948049470791191532673430282441860414263639548000448002670496248201792896476697583183271314251702969234889627668440323260927524960357996469256504936818360900323809293459588970695365349406034021665443755890045632882250545255640564482465151875471196218443965825337543885690941130315095261793780029741207665147939425902989695946995565761218656196733786236256125216320862869222103274889218654364802296780705765615144632046927906821207388377814233562823608963208068222468012248261177185896381409183903673672220888321513755600372798394004152970028783076670944474560134556417254370906979396122571429894671543578468788614445812314593571984922528471605049221242470141214780573455105008019086996033027634787081081754501193071412233908663938339529425786905076431006383519834389341596131854347546495569781038293097164651438407007073604112373599843452251610507027056235266012764848308407611830130527932054274628654036036745328651057065874882256981579367897669742205750596834408697350201410206723585020072452256326513410559240190274216248439140359989535394590944070469120914093870012645600162374288021092764579310657922955249887275846101264836999892256959688159205600101655256375678;\n\tstatic long modlcm(long a,long b) {return a*b*modinv(GCD(a,b),mod);}\n\tstatic long GCD (long a, long b) {return b>0?GCD(b,a%b):a;}\n\tstatic long lcm (long a, long b) {return a*b/GCD(a,b);}\n\tstatic int min(int a,int b) {return a<b?a:b;}\n\tstatic long factorial(int i) {return i==1?1:i*factorial(i-1);}\n\tstatic int max(int ...i) {int x=i[0];for(int e:i)x=Math.max(x,e);return x;}\n\tstatic int min(int ...i) {int x=i[0];for(int e:i)x=Math.min(x,e);return x;}\n\tstatic long gcd(long ...i) {long x=i[0];for(long e:i)x=GCD(x,e);return x;}\n\tstatic long lmax(long ...i) {long x=i[0];for(long e:i)x=Math.max(x,e);return x;}\n\tstatic long lmin(long ...i) {long x=i[0];for(long e:i)x=Math.min(x,e);return x;}\n\tpublic static void main(String[]$) throws IOException{\n\t\twhile(true) {\n\t\t\tint n=scan.nextInt();\n\t\t\tint m=scan.nextInt();\n\t\t\tif(n==0&&m==0)break;\n\t\t\tint dp[][]=new int[n][256];\n\t\t\tint c[]=setArray(m);\n\t\t\tint x[]=setArray(n);\n\t\t\tfor(int i=0;i<n;i++) {\n\t\t\t\tArrays.fill(dp[i], Integer.MAX_VALUE);\n\t\t\t}\n\t\t\tfor(int k=0;k<m;k++) {\n\t\t\t\tif(128+c[k]<0) {\n\t\t\t\t\tdp[0][0]=pals(0,x[0]);\n\t\t\t\t}\n\t\t\t\telse if(128+c[k]>=255) {\n\t\t\t\t\tdp[0][255]=pals(255,x[0]);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tdp[0][128+c[k]]=pals(128+c[k],x[0]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(int i=0;i<n-1;i++) {\n\t\t\t\tfor(int j=0;j<=255;j++) {\n\t\t\t\t\tif(dp[i][j]!=Integer.MAX_VALUE) {\n\t\t\t\t\t\tfor(int k=0;k<m;k++) {\n\t\t\t\t\t\t\tif(j+c[k]<=0) {\n\t\t\t\t\t\t\t\tdp[i+1][0]=min(dp[i+1][0],dp[i][j]+pals(x[i+1],0));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if(j+c[k]>=255) {\n\t\t\t\t\t\t\t\tdp[i+1][255]=min(dp[i+1][255],dp[i][j]+pals(x[i+1],255));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tdp[i+1][j+c[k]]=min(dp[i+1][j+c[k]],dp[i][j]+pals(x[i+1],j+c[k]));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\tlong ans=Long.MAX_VALUE;\n\t\t\t\tfor(long i:dp[n-1]) {\n\t\t\t\tans=lmin(ans,i);\n\t\t\t\t}\n\t\t\t\tSystem.out.println(ans);\n\t\t}\n\t}\n\tstatic int pals(int x,int y) {\n\t\treturn Math.abs(x-y)*Math.abs(x-y);\n\t}\n\tstatic long nCr(long n,long r,long m) {\n\t\tlong ans=1;\n\t\tfor(long i=0;i<r;i++) {\n\t\t\tans*=(n-i);\n\t\t\tans%=m;\n\t\t}\n\t\tfor(long i=0;i<=r;i++) {\n\t\t\tans*=modinv(i,m);\n\t\t\tans%=mod;\n\t\t}\n\t\treturn ans;\n\t}\n\tstatic int lower_bound(int a[],int key) {\n\t\tint ok=a.length;\n\t\tint ng=-1;\n\t\twhile(Math.abs(ok-ng)>1) {\n\t\t\tint mid=(ok+ng)/2;\n\t\t\tif(a[mid]>=key)ok=mid;\n\t\t\telse ng=mid;\n\t\t}\n\t\treturn ok;\n\t}\n\tstatic int upper_bound(int a[],int key) {\n\t\tint ok=a.length;\n\t\tint ng=-1;\n\t\twhile(Math.abs(ok-ng)>1) {\n\t\t\tint mid=(ok+ng)/2;\n\t\t\tif(a[mid]>key)ok=mid;\n\t\t\telse ng=mid;\n\t\t}\n\t\treturn ok;\n\t}\n\tstatic boolean isPrime (long n) {\n\t\tif (n==2) return true;\n\t\tif (n<2 || n%2==0) return false;\n\t\tdouble d = Math.sqrt(n);\n\t\tfor (int i=3; i<=d; i+=2)if(n%i==0){return false;}\n\t\treturn true;\n\t}\n\tstatic int upper_division(int a,int b) {\n\t\tif(a%b==0) {\n\t\t\treturn a/b;\n\t\t}\n\t\telse {\n\t\t\treturn a/b+1;\n\t\t}\n\t}\n\tstatic long lupper_division(long a,long b) {\n\t\tif(a%b==0) {\n\t\t\treturn a/b;\n\t\t}\n\t\telse {\n\t\t\treturn a/b+1;\n\t\t}\n\t}\n\tstatic int[] setArray(int a) {\n\t\tint b[]=new int[a];\n\t\tfor(int i=0;i<a;i++) {\n\t\t\tb[i]=scan.nextInt();\n\t\t}\n\t\treturn b;\n\t}\n\tstatic long[] lsetArray(int a) {\n\t\tlong b[]=new long[a];\n\t\tfor(int i=0;i<a;i++) {\n\t\t\tb[i]=scan.nextLong();\n\t\t}\n\t\treturn b;\n\t}\n\tstatic String reverse(String str) {\n\t\tchar ch[]=new char[str.length()];\n\t\tchar chch[]=str.toCharArray();\n\t\tint a=str.length();\n\t\tfor(int i=0;i<upper_division(a,2);i++) {\n\t\t\tch[i]=chch[ch.length-i-1];\n\t\t\tch[ch.length-1-i]=chch[i];\n\t\t}\n\t\treturn String.valueOf(ch);\n\t}\n\tpublic static void printArray(int[] que) {\n\t\tfor(int i=0;i<que.length-1;i++) {\n\t\t\tSystem.out.print(que[i]+\" \");\n\t\t}\n\t\tSystem.out.println(que[que.length-1]);\n\t}\n\tpublic static void lprintArray(long[] que) {\n\t\tfor(int i=0;i<que.length-1;i++) {\n\t\t\tSystem.out.print(que[i]+\" \");\n\t\t}\n\t\tSystem.out.println(que[que.length-1]);\n\t}\n\tpublic static int[][] doublesort(int[][]a) {\n\t\tArrays.sort(a,(x,y)->Integer.compare(x[0],y[0]));\n\t\treturn a;\n\t}\n\tpublic static long[][] ldoublesort(long[][]a) {\n\t\tArrays.sort(a,(x,y)->Long.compare(x[0],y[0]));\n\t\treturn a;\n\t}\n\tstatic long modpow(long x,long n,long mo) {\n\t        long sum=1;\n\t        while(n>0) {\n\t            if((n&1)==1) {\n\t                sum=sum*x%mo;\n\t            }\n\t            x=x*x%mo;\n\t            n>>=1;\n\t        }\n\t        return sum;\n\t    }\n\tpublic static char[] revch(char ch[]) {\n\t\tchar ret[]=new char[ch.length];\n\t\tfor(int i=ch.length-1,j=0;i>=0;i--,j++) {\n\t\t\tret[j]=ch[i];\n\t\t}\n\t\treturn ret;\n\t}\n\tpublic static int[] revint(int ch[]) {\n\t\tint ret[]=new int[ch.length];\n\t\tfor(int i=ch.length-1,j=0;i>=0;i--,j++) {\n\t\t\tret[j]=ch[i];\n\t\t}\n\t\treturn ret;\n\t}\n\tpublic static int[][] warshall_floyd(int v[][],int n) {\n\t\tfor(int k=0;k<n;k++)\n\t\t\tfor(int i=0;i<n;i++)\n\t\t\t\tfor(int j=0;j<n;j++)\n\t\t\t\t\tv[i][j]=min(v[i][j],v[i][k]+v[k][j]);\n\t\treturn v;\n\t}\n\tpublic static long modinv(long a,long m) {\n\t\tlong b=m,u=1,v=0;\n\t\twhile(b!=0) {\n\t\t\tlong t=a/b;\n\t\t\ta-=t*b;\n\t\t\tlong x=a;\n\t\t\ta=b;\n\t\t\tb=x;\n\n\t\t\tu-=t*v;\n\t\t\tx=u;\n\t\t\tu=v;\n\t\t\tv=x;\n\t\t}\n\t\tu%=m;\n\t\tif(u<0)u+=m;\n\t\treturn u;\n\t}\n}\nclass FastScanner {\n\tprivate final InputStream in = System.in;\n\tprivate final byte[] buffer = new byte[1024];\n\tprivate int ptr = 0;\n\tprivate int buflen = 0;\n\tprivate boolean hasNextByte() {\n\t\tif (ptr < buflen) {\n\t\t\treturn true;\n\t\t}else{\n\t\t\tptr = 0;\n\t\t\ttry {\n\t\t\t\tbuflen = in.read(buffer);\n\t\t\t} catch (IOException e) {\n\t\t\t\te.printStackTrace();\n\t\t\t}\n\t\t\tif (buflen <= 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\tprivate int readByte() { if (hasNextByte()) return buffer[ptr++]; else return -1;}\n\tprivate static boolean isPrintableChar(int c) { return 33 <= c && c <= 126;}\n\tpublic boolean hasNext() { while(hasNextByte() && !isPrintableChar(buffer[ptr])) ptr++; return hasNextByte();}\n\tpublic String next() {\n\t\tif (!hasNext()) throw new NoSuchElementException();\n\t\tStringBuilder sb = new StringBuilder();\n\t\tint b = readByte();\n\t\twhile(isPrintableChar(b)) {\n\t\t\tsb.appendCodePoint(b);\n\t\t\tb = readByte();\n\t\t}\n\t\treturn sb.toString();\n\t}\n\tpublic long nextLong() {\n\t\tif (!hasNext()) throw new NoSuchElementException();\n\t\tlong n = 0;\n\t\tboolean minus = false;\n\t\tint b = readByte();\n\t\tif (b == '-') {\n\t\t\tminus = true;\n\t\t\tb = readByte();\n\t\t}\n\t\tif (b < '0' || '9' < b) {\n\t\t\tthrow new NumberFormatException();\n\t\t}\n\t\twhile(true){\n\t\t\tif ('0' <= b && b <= '9') {\n\t\t\t\tn *= 10;\n\t\t\t\tn += b - '0';\n\t\t\t}else if(b == -1 || !isPrintableChar(b)){\n\t\t\t\treturn minus ? -n : n;\n\t\t\t}else{\n\t\t\t\tthrow new NumberFormatException();\n\t\t\t}\n\t\t\tb = readByte();\n\t\t}\n\t}\n\tpublic int nextInt() {\n\t\tlong nl = nextLong();\n\t\tif (nl < Integer.MIN_VALUE || nl > Integer.MAX_VALUE) throw new NumberFormatException();\n\t\treturn (int) nl;\n\t}\n\tpublic double nextDouble() { return Double.parseDouble(next());}\n\tpublic char nextchar() {return next().charAt(0);}\n}\n"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException;\nimport java.util.Arrays;\nimport java.util.InputMismatchException;\n\npublic class Main {\n\tint n, m;\n\tint[] c, x;\n\tint[][] dp;\n\n\tint dp(int k, int pre) {\n\t\tif (n <= k) return 0;\n\t\tif (0 <= dp[k][pre]) return dp[k][pre];\n\n\t\tint res = 1 << 20;\n\n\t\tfor (int i = 0; i < m; i++) {\n\t\t\tint y = pre + c[i];\n\t\t\tif (255 < y) {\n\t\t\t\ty = 255;\n\t\t\t}\n\t\t\tif (y < 0) {\n\t\t\t\ty = 0;\n\t\t\t}\n\t\t\tint diff = Math.abs(x[k] - y);\n\t\t\tres = Math.min(res, dp(k + 1, y) + diff*diff);\n\t\t}\n\n\t\treturn dp[k][pre] = res;\n\t}\n\n\tvoid run() {\n\t\tMyScanner sc = new MyScanner();\n\n\t\twhile (true) {\n\t\t\tn = sc.nextInt();\n\t\t\tm = sc.nextInt();\n\t\t\tif ((n | m) == 0) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tc = sc.nextIntArray(m);\n\t\t\tx = sc.nextIntArray(n);\n\t\t\tdp = new int[n][300];\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\tArrays.fill(dp[i], -1);\n\t\t\t}\n\n\t\t\tSystem.out.println(dp(0, 128));\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n\n\tpublic void mapDebug(int[][] a) {\n\t\tSystem.out.println(\"--------map display---------\");\n\t\tfor (int i = 0; i < a.length; i++) {\n\t\t\tfor (int j = 0; j < a[i].length; j++) {\n\t\t\t\tSystem.out.printf(\"%3d \", a[i][j]);\n\t\t\t}\n\t\t\tSystem.out.println();\n\t\t}\n\t\tSystem.out.println(\"----------------------------\" + '\\n');\n\t}\n\n\tclass MyScanner {\n\t\tint read() {\n\t\t\ttry {\n\t\t\t\treturn System.in.read();\n\t\t\t} catch (IOException e) {\n\t\t\t\tthrow new InputMismatchException();\n\t\t\t}\n\t\t}\n\n\t\tboolean isSpaceChar(int c) {\n\t\t\treturn c == ' ' || c == '\\n' || c == '\\r' || c == '\\t' || c == -1;\n\t\t}\n\n\t\tboolean isEndline(int c) {\n\t\t\treturn c == '\\n' || c == '\\r' || c == -1;\n\t\t}\n\n\t\tint nextInt() {\n\t\t\treturn Integer.parseInt(next());\n\t\t}\n\n\t\tint[] nextIntArray(int n) {\n\t\t\tint[] array = new int[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\tarray[i] = nextInt();\n\t\t\treturn array;\n\t\t}\n\n\t\tlong nextLong() {\n\t\t\treturn Long.parseLong(next());\n\t\t}\n\n\t\tlong[] nextLongArray(int n) {\n\t\t\tlong[] array = new long[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\tarray[i] = nextLong();\n\t\t\treturn array;\n\t\t}\n\n\t\tdouble nextDouble() {\n\t\t\treturn Double.parseDouble(next());\n\t\t}\n\n\t\tdouble[] nextDoubleArray(int n) {\n\t\t\tdouble[] array = new double[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\tarray[i] = nextDouble();\n\t\t\treturn array;\n\t\t}\n\n\t\tString next() {\n\t\t\tint c = read();\n\t\t\twhile (isSpaceChar(c))\n\t\t\t\tc = read();\n\t\t\tStringBuilder res = new StringBuilder();\n\t\t\tdo {\n\t\t\t\tres.appendCodePoint(c);\n\t\t\t\tc = read();\n\t\t\t} while (!isSpaceChar(c));\n\t\t\treturn res.toString();\n\t\t}\n\n\t\tString[] nextStringArray(int n) {\n\t\t\tString[] array = new String[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\tarray[i] = next();\n\n\t\t\treturn array;\n\t\t}\n\n\t\tString nextLine() {\n\t\t\tint c = read();\n\t\t\twhile (isEndline(c))\n\t\t\t\tc = read();\n\t\t\tStringBuilder res = new StringBuilder();\n\t\t\tdo {\n\t\t\t\tres.appendCodePoint(c);\n\t\t\t\tc = read();\n\t\t\t} while (!isEndline(c));\n\t\t\treturn res.toString();\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\npublic class Main\n{\n\tint N,M;\n\tint[] C,x;\n\tint[][] dp;\n\tpublic int dfs(int now,int prev)\n\t{\n\t\tif(now >= N)return 0;\n\t\tif(dp[now][prev] != Integer.MIN_VALUE)return dp[now][prev];\n\t\tint ret = Integer.MAX_VALUE;\n\t\tfor(int i = 0;i < M;i++)\n\t\t{\n\t\t\tint next = prev + C[i];\n\t\t\tif(next < 0)next = 0;\n\t\t\tif(next > 255)next = 255;\n\t\t\tret = Math.min(ret,dfs(now + 1,next) + (x[now] - next)*(x[now] - next));\n\t\t}\n\t\tdp[now][prev] = ret;\n\t\treturn dp[now][prev];\n\t}\n\tpublic void solve()\n\t{\n\t\tScanner cin = new Scanner(System.in);\n\t\twhile(true)\n\t\t{\n\t\t\tN = cin.nextInt();\n\t\t\tM = cin.nextInt();\n\t\t\tif(N == 0 && M == 0)break;\n\t\t\tC = new int[M];\n\t\t\tx = new int[N];\n\t\t\tdp = new int[N + 1][256];\n\t\t\tfor(int i = 0;i < M;i++)C[i] = cin.nextInt();\n\t\t\tfor(int i = 0;i < N;i++)x[i] = cin.nextInt();\n\t\t\tfor(int i = 0;i <= N;i++)for(int j =0;j < 256;j++)dp[i][j] = Integer.MIN_VALUE;\n\t\t\tSystem.out.println(dfs(0,128));\n\t\t}\n\t\t\n\t\t\n\t}\n\tpublic static void main(String[] args)\n\t{\n\t\tnew Main().solve();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\npublic class Main {\n\tScanner in = new Scanner(System.in);\n\tpublic static void main(String[] args) {\n\t\tnew Main();\n\t}\n\n\tpublic Main() {\n\t\tnew AOJ2199().doIt();\n\t}\n\t\n\tclass AOJ2199{\n\t\tint[] c;\n\t\tint[] x;\n\t\tint n,m;\n\t\tdouble avr;\n\t\tvoid solve(){\n\t\t\tavr = 0;\n\t\t\tfor(int i=0;i<n;i++)avr += x[i];\n\t\t\tavr = avr/n;\n//\t\t\tSystem.out.println(avr);\n\t\t\tint result = 0;\n\t\t\tint before = 128;\n\t\t\tfor(int i=0;i<n;i++){\n\t\t\t\tint min = Integer.MAX_VALUE/2;\n\t\t\t\tint memo = -1;\n\t\t\t\tfor(int s=0;s<m;s++){\n\t\t\t\t\tint a = before + c[s];\n\t\t\t\t\tif(a>255)a = 255;\n\t\t\t\t\telse if(a<0)a=0;\n\t\t\t\t\tif(min>Math.abs(x[i]-a)){\n\t\t\t\t\t\tmemo = a;\n\t\t\t\t\t\tmin = (int) Math.abs(x[i]-a);\n\t\t\t\t\t}\n\t\t\t\t}\n//\t\t\t\tSystem.out.println(memo);\n\t\t\t\tbefore = memo;\n\t\t\t\tresult += ((x[i]-memo)*(x[i]-memo));\n\t\t\t}\n\t\t\tSystem.out.println(result);\n\t\t}\n\t\t\n\t\tvoid doIt(){\n\t\t\twhile(in.hasNext()){\n\t\t\t\tn = in.nextInt();\n\t\t\t\tm = in.nextInt();\n\t\t\t\tif(n==0&&m==0)break;\n\t\t\t\tc = new int[m];x = new int[n];\n\t\t\t\tfor(int i=0;i<m;i++)c[i] = in.nextInt();\n\t\t\t\tfor(int i=0;i<n;i++)x[i] = in.nextInt();\n\t\t\t\tsolve();\n\t\t\t}\n\t\t}\n\t}\n\t\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\n\npublic class Main {\n\n\t/**\n\t * @param args\n\t */\n\tpublic static int[] codeBook = null;\n\tpublic static int[] input = null;\n\t//size of codeBook\n\tpublic static int m = 0;\n\t//size of input\n\tpublic static int n = 0;\n\tpublic static final int max = (255*2)*(255*2)*20000;\n\n\tpublic static void main(String[] args) {\n\t\tdoIt();\n\t}\n\tpublic static void doIt(){\n\t\tScanner sc = new Scanner(System.in);\n\t\tn = sc.nextInt();\n\t\tm = sc.nextInt();\n\t\twhile(n != 0){\n\t\t\tcodeBook = new int[m];\n\t\t\tfor(int i = 0; i < m; i++){\n\t\t\t\tcodeBook[i] = sc.nextInt();\n\t\t\t}\n\t\t\tinput = new int[n];\n\t\t\tfor(int i = 0; i < n; i++){\n\t\t\t\tinput[i] = sc.nextInt();\n\t\t\t}\n\t\t\tint result = DP(0, 0, max, 128);\n\t\t\tSystem.out.println(result);\n\n\t\t\tn = sc.nextInt();\n\t\t\tm = sc.nextInt();\n\t\t}\n\n\t}\n\n\tpublic static int DP(int count, int sum, int min, int y){\n\t\t//System.out.println(\"count = \" + count + \" , sum = \" + sum+ \" , min = \" + min+ \" , y = \" + y);\n\t\tint minimum = min;\n\t\tint Yn = 0;\n\t\tif(count == n - 1){\n\t\t\tfor(int i = 0; i < m; i++){\n\t\t\t\tYn = y + codeBook[i];\n\t\t\t\tif(Yn < 0){\n\t\t\t\t\tYn = 0;\n\t\t\t\t}\n\t\t\t\telse if(Yn > 255){\n\t\t\t\t\tYn = 255;\n\t\t\t\t}\n\t\t\t\tint dif = input[count] - Yn;\n\t\t\t\tint res = dif*dif;\n\t\t\t\tif(res < minimum){\n\t\t\t\t\tminimum = res;\n\t\t\t\t}\n\t\t\t}\n\t\t\tminimum += sum;\n\t\t}\n\t\telse{\n\t\t\tfor(int i = 0; i < m; i++){\n\t\t\t\tYn = y + codeBook[i];\n\t\t\t\tif(Yn < 0){\n\t\t\t\t\tYn = 0;\n\t\t\t\t}\n\t\t\t\telse if(Yn > 255){\n\t\t\t\t\tYn = 255;\n\t\t\t\t}\n\t\t\t\tint dif = input[count] - Yn;\n\t\t\t\tint newSum = sum + dif*dif;\n\t\t\t\tif(newSum < minimum){\n\t\t\t\t\tint tmp = DP(count+1, newSum, minimum,Yn);\n\t\t\t\t\tif(tmp < minimum){\n\t\t\t\t\t\tminimum = tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn minimum;\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.BitSet;\nimport java.util.PriorityQueue;\nimport java.util.Queue;\nimport java.util.Scanner;\n\npublic class Main{\n\tpublic static void main(String[] args){\n\t\tScanner in = new Scanner(System.in);\n\t\twhile(true){\n\t\t\tint n = in.nextInt();\n\t\t\tint m = in.nextInt();\n\t\t\tif(n == 0) return;\n\t\t\tint[] c = new int[m];\n\t\t\tfor(int i=0; i<m; i++){\n\t\t\t\tc[i] = in.nextInt();\n\t\t\t}\n\t\t\tint[] x = new int[n];\n\t\t\tfor(int i=0; i<n; i++){\n\t\t\t\tx[i] = in.nextInt();\n\t\t\t}\n\t\t\tQueue<Node> qu = new PriorityQueue<Node>();\n\t\t\tBitSet used = new BitSet(n*600);\n\t\t\tqu.add(new Node(0, 128, 0));\n//\t\t\tint bestX = 0;\n//\t\t\tlong bestCost = 1L<<60; \n\t\t\twhile(!qu.isEmpty()){\n\t\t\t\tNode nd = qu.poll();\n\t\t\t\tif(used.get(nd.id)) continue;\n\t\t\t\tif(nd.x == n){\n\t\t\t\t\tSystem.out.println(nd.cost);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n//\t\t\t\tif(nd.x > bestX){\n//\t\t\t\t\tbestX = nd.x;\n//\t\t\t\t\tbestCost = nd.cost;\n//\t\t\t\t}else if(nd.x == bestX){\n//\t\t\t\t\tbestCost = Math.min(bestCost, nd.cost);\n//\t\t\t\t}\n\t\t\t\tused.set(nd.id);\n\t\t\t\tfor(int i=0; i<m; i++){\n\t\t\t\t\tint nh = nd.h + c[i];\n\t\t\t\t\tif(nh > 255) nh = 255;\n\t\t\t\t\telse if(nh < 0) nh = 0;\n\t\t\t\t\tqu.add(new Node(nd.x+1, nh, nd.cost + sq(x[nd.x]-nh)));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tpublic static int sq(int a){\n\t\treturn a*a;\n\t}\n}\n\nclass Node implements Comparable<Node>{\n\tint x;\n\tint id;\n\tint h;\n\tlong cost;\n\tpublic Node(int x, int h, long cost) {\n\t\tthis.x = x;\n\t\tthis.h = h;\n\t\tid = x*256+h;\n\t\tthis.cost = cost;\n\t}\n\t\n\t@Override\n\tpublic int compareTo(Node o) {\n\t\tlong sign = cost - o.cost;\n\t\t// AOJ??§compare???????????????????????§??????\n//\t\treturn Long.compare(cost, o.cost);\n\t\treturn sign < 0 ? -1 : sign == 0 ? 0 : 1;\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.BitSet;\nimport java.util.PriorityQueue;\nimport java.util.Queue;\nimport java.util.Scanner;\n\npublic class Main{\n\tpublic static void main(String[] args){\n\t\tScanner in = new Scanner(System.in);\n\t\twhile(true){\n\t\t\tint n = in.nextInt();\n\t\t\tint m = in.nextInt();\n\t\t\tif(n == 0) return;\n\t\t\tint[] c = new int[m];\n\t\t\tfor(int i=0; i<m; i++){\n\t\t\t\tc[i] = in.nextInt();\n\t\t\t}\n\t\t\tint[] x = new int[n];\n\t\t\tfor(int i=0; i<n; i++){\n\t\t\t\tx[i] = in.nextInt();\n\t\t\t}\n\t\t\tQueue<Node> qu = new PriorityQueue<Node>();\n\t\t\tBitSet used = new BitSet(n*600);\n\t\t\tqu.add(new Node(0, 128, 0));\n\t\t\twhile(!qu.isEmpty()){\n\t\t\t\tNode nd = qu.poll();\n\t\t\t\tif(used.get(nd.id)) continue;\n\t\t\t\tif(nd.x == n){\n\t\t\t\t\tSystem.out.println(nd.cost);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tused.set(nd.id);\n\t\t\t\tfor(int i=0; i<m; i++){\n\t\t\t\t\tint nh = nd.h + c[i];\n\t\t\t\t\tif(nh > 255) nh = 255;\n\t\t\t\t\telse if(nh < -255) nh = -255;\n\t\t\t\t\tqu.add(new Node(nd.x+1, nh, nd.cost + sq(x[nd.x]-nh)));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tpublic static int sq(int a){\n\t\treturn a*a;\n\t}\n}\n\nclass Node implements Comparable<Node>{\n\tint x;\n\tint id;\n\tint h;\n\tint cost;\n\tpublic Node(int x, int h, int cost) {\n\t\tthis.x = x;\n\t\tthis.h = h;\n\t\tid = x*520+h+255;\n\t\tthis.cost = cost;\n\t}\n\t\n\t@Override\n\tpublic int compareTo(Node o) {\n\t\treturn cost-o.cost;\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.*;\nimport java.util.*;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\nimport java.lang.ArrayIndexOutOfBoundsException;\nimport java.math.BigInteger;\n\nimport javax.script.AbstractScriptEngine;\n\n\n/**\n * @author yoshikyoto\n */\nclass Main{\n\t// public static Graph g;\n\tstatic int[][] dp = new int[20000][520];\n\tstatic int inf = 1<<28;\n\n\tpublic static void main(String[] args) throws Exception{\n\t\tBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n\t\twhile(true){\n\t\t\tString[] in = br.readLine().split(\" \");\n\t\t\tint n = Integer.parseInt(in[0]);\n\t\t\tint m = Integer.parseInt(in[1]);\n\t\t\tif(n == 0 && m == 0) break;\n\n\t\t\t// dpテーブルの初期化\n\t\t\tfor(int i = 0; i < n; i++){\n\t\t\t\tfor(int j = 0; j < 520; j++){\n\t\t\t\t\tdp[i][j] = inf;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tint[] c = new int[m];\n\t\t\tint[] x = new int[n];\n\t\t\tfor (int i = 0; i < m; i++) {\n\t\t\t\tc[i] = Integer.parseInt(br.readLine());\n\t\t\t}\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\tx[i] = Integer.parseInt(br.readLine());\n\t\t\t}\n\n\t\t\tArrayDeque<Arg> q = new ArrayDeque<Arg>();\n\t\t\tq.addLast(new Arg(-1, 128, 0));\n\n\t\t\tint ans = inf;\n\n\t\t\twhile(q.size() > 0){\n\t\t\t\tArg a = q.pollFirst();\n\t\t\t\t// a.print();\n\t\t\t\t// if(a.time != -1) System.out.println(\"dp: \" + dp[a.time][a.val + 256]);\n\t\t\t\tif(a.time >= 0 && dp[a.time][a.val + 256] < a.sum) continue;\n\t\t\t\tfor(int i = 0; i < m; i++){\n\t\t\t\t\tint time = a.time + 1;\n\t\t\t\t\t// 次の値\n\t\t\t\t\tint val = a.val + c[i];\n\t\t\t\t\tval = Math.max(val, -255);\n\t\t\t\t\tval = Math.min(val, 255);\n\t\t\t\t\t// 誤差\n\t\t\t\t\tint d = sq(val - x[time]);\n\t\t\t\t\tint sum = a.sum + d;\n\n\t\t\t\t\t// System.out.println(time + \" \" + n);\n\t\t\t\t\tif(time < n - 1){\n\t\t\t\t\t\tArg next = new Arg(time, val, sum);\n\t\t\t\t\t\tdp[time][val + 256] = Math.min(dp[time][val + 256], sum);\n\t\t\t\t\t\t// System.out.print(\"push: \");\n\t\t\t\t\t\t// next.print();\n\t\t\t\t\t\tq.addLast(next);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tans = Math.min(ans, sum);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(ans);\n\t\t}\n\t}\n\n\tpublic static int sq(int i) {\n\t\treturn i * i;\n\t}\n\n\tpublic static double sq(double d) {\n\t\treturn d * d;\n\t}\n}\n\nclass Arg{\n\tint time, val, sum;\n\tArg(int t, int v, int s){\n\t\ttime = t;\n\t\tval = v;\n\t\tsum = s;\n\t}\n\tpublic void print(){\n\t\tSystem.out.println(time + \" \" + val + \" \" + sum);\n\t}\n}\n\n\n\n\n// --- ここから下はライブラリ ----------\n/**\n * MyUtil\n * @author yoshikyoto\n */\nclass MyUtil {\n\tpublic static int[] cp(int[] a){\n\t\tint[] b = new int[a.length];\n\t\tfor(int i = 0; i < a.length; i++) b[i] = a[i];\n\t\treturn b;\n\t}\n\tpublic static int toInt(boolean[] a){\n\t\tint pow = 1, ret = 0, l = a.length;\n\t\tfor(int i = 0; i < l; i++){\n\t\t\tif(a[i]) ret += pow;\n\t\t\tpow *= 2;\n\t\t}\n\t\treturn ret;\n\t}\n\tstatic BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n\tpublic static int ins[];\n\tpublic static int[] readIntMap() throws IOException{return parseInt(readLine().split(\" \"));}\n\tpublic static int readIntMap(int i) throws Exception{\n\t\tif(i == 0) ins = readIntMap();\n\t\treturn ins[i];\n\t}\n\tpublic static int[][] readIntMap(int n, int m) throws IOException{\n\t\tint[][] ret = new int[n][];\n\t\tfor(int i = 0; i < n; i++) ret[i] = readIntMap();\n\t\treturn ret;\n\t}\n\tpublic static int[] readIntToMap(int n) throws IOException{\n\t\tint[] ret = new int[n];\n\t\tfor(int i = 0; i < n; i++) ret[i] = readInt();\n\t\treturn ret;\n\t}\n\tpublic static int[] readNoDistIntMap() throws IOException{\n\t\tString[] strs = readLine().split(\"\");\n\t\tint l = strs.length;\n\t\tint[] ret = new int[l-1];\n\t\tfor(int i = 1; i < l; i++)\n\t\t\tret[i-1] = parseInt(strs[i]);\n\t\treturn ret;\n\t}\n\tpublic static String readLine() throws IOException{return br.readLine();}\n\tpublic static int readInt() throws IOException{return Integer.parseInt(br.readLine());}\n\tpublic static int[] parseInt(String[] arr){\n\t\tint[] res = new int[arr.length];\n\t\tfor(int i = 0; i < arr.length; i++)res[i] = Integer.parseInt(arr[i]);\n\t\treturn res;\n\t}\n\tpublic static double[] parseDouble(String[] arr){\n\t\tdouble[] res = new double[arr.length];\n\t\tfor(int i = 0; i < arr.length; i++)res[i] = Double.parseDouble(arr[i]);\n\t\treturn res;\n\t}\n\tpublic static boolean[] parseBool(String[] arr){\n\t\tint[] t = parseInt(arr);\n\t\tboolean[] res = new boolean[t.length];\n\t\tfor(int i = 0; i < t.length; i++){\n\t\t\tif(t[i] == 1){res[i] = true;\n\t\t\t}else{res[i] = false;}\n\t\t}\n\t\treturn res;\n\t}\n\tpublic static int parseInt(Object o){\n\t\treturn Integer.parseInt(o.toString());\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\npublic class Main\n{\n\tint N,M;\n\tint[] C,x;\n\tint[][] dp;\n\tpublic int dfs(int now,int prev)\n\t{\n\t\tif(now >= N)return 0;\n\t\tif(dp[now][prev + 255] != Integer.MIN_VALUE)return dp[now][prev + 255];\n\t\tint ret = Integer.MAX_VALUE;\n\t\tfor(int i = 0;i < M;i++)\n\t\t{\n\t\t\tint next = prev + C[i];\n\t\t\tif(next < 0)next = 0;\n\t\t\tif(next > 255)next = 255;\n\t\t\tret = Math.min(ret,dfs(now + 1,next) + (x[now] - next)*(x[now] - next));\n\t\t}\n\t\tdp[now][prev + 255] = ret;\n\t\treturn dp[now][prev + 255];\n\t}\n\tpublic void solve()\n\t{\n\t\tScanner cin = new Scanner(System.in);\n\t\twhile(true)\n\t\t{\n\t\t\tN = cin.nextInt();\n\t\t\tM = cin.nextInt();\n\t\t\tif(N == 0 && M == 0)break;\n\t\t\tC = new int[M];\n\t\t\tx = new int[N];\n\t\t\tdp = new int[N + 1][600];\n\t\t\tfor(int i = 0;i < M;i++)C[i] = cin.nextInt();\n\t\t\tfor(int i = 0;i < N;i++)x[i] = cin.nextInt();\n\t\t\tfor(int i = 0;i <= N;i++)\n\t\t\t{\n\t\t\t\tfor(int j =0;j < 600;j++)\n\t\t\t\t{\n\t\t\t\t\tdp[i][j] = Integer.MIN_VALUE;\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(dfs(0,128));\n\t\t}\n\t\t\n\t\t\n\t}\n\tpublic static void main(String[] args)\n\t{\n\t\tnew Main().solve();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main {\n\tpublic static void main(String args[]){\n\t\tScanner in = new Scanner(System.in);\n\t\tint dp[][] = new int[20010][256];\n\t\twhile(true){\n\t\t\tint n = in.nextInt(), m = in.nextInt();\n\t\t\tif(n==0 && m==0) return ;\n\t\t\tint cs[] = new int[m], xs[] = new int[n];\n\t\t\tfor(int i=0; i<m; i++){\n\t\t\t\tcs[i] = in.nextInt();\n\t\t\t}\n\t\t\tfor(int i=0; i<n; i++){\n\t\t\t\txs[i] = in.nextInt();\n\t\t\t}\n\t\t\tfor(int i=0; i<n+1; i++)\n\t\t\t\tfor(int j=0; j<256; j++)\n\t\t\t\t\tdp[i][j] = 1<<30;\n\t\t\tdp[0][128] = 0;\n\t\t\tfor(int i=0; i<n; i++){\n\t\t\t\tfor(int j=0; j<256; j++){\n\t\t\t\t\tfor(int k=0; k<m; k++){\n\t\t\t\t\t\tint next = round(j+cs[k]);\n\t\t\t\t\t\tdp[i+1][next] = Math.min(dp[i+1][next], dp[i][j] + sq(xs[i]-next));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tint ans = 1<<30;\n\t\t\tfor(int i=0; i<256; i++)\n\t\t\t\tans = Math.min(ans, dp[n][i]);\n\t\t\tSystem.out.println(ans);\n\t\t}\n\t}\n\t\n\tprivate static int round(int x){\n\t\treturn x>255?255:x<0?0:x;\n\t}\n\t\n\tprivate static int sq(int x){\n\t\treturn x*x;\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\npublic class Main\n{\n\tint N,M;\n\tint[] C,x;\n\tint[][] dp;\n\tpublic void solve()\n\t{\n\t\tScanner cin = new Scanner(System.in);\n\t\twhile(true)\n\t\t{\n\t\t\tN = cin.nextInt();\n\t\t\tM = cin.nextInt();\n\t\t\tif(N == 0 && M == 0)break;\n\t\t\tC = new int[M];\n\t\t\tx = new int[N];\n\t\t\tdp = new int[N + 1][600];\n\t\t\tfor(int i = 0;i < M;i++)C[i] = cin.nextInt();\n\t\t\tfor(int i = 0;i < N;i++)x[i] = cin.nextInt();\n\t\t\tfor(int i = 0;i < N + 1;i++)\n\t\t\t{\n\t\t\t\tfor(int j =0;j < 600;j++)\n\t\t\t\t{\n\t\t\t\t\tif(i == 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tdp[i][j] = 0;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tdp[i][j] = Integer.MAX_VALUE;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(int i = 0;i < N;i++)\n\t\t\t{\n\t\t\t\tif(i == 0)\n\t\t\t\t{\n\t\t\t\t\tfor(int k = 0;k < M;k++)\n\t\t\t\t\t{\n\t\t\t\t\t\tint next = 128 + C[k];\n\t\t\t\t\t\tif(128 + C[k] <= 0)next = 0;\n\t\t\t\t\t\telse if(128 + C[k] >= 255)next = 255;\n\t\t\t\t\t\tdp[i + 1][next] = \n\t\t\t\t\t\t\tMath.min(dp[i + 1][next],dp[i][128] + (x[i] - next) * (x[i] - next));\n\t\t\t\t\t}\n\t\t\t\t}else\n\t\t\t\t{\n\t\t\t\t\tfor(int j = 0; j<= 255;j++)\n\t\t\t\t\t{\n\t\t\t\t\t\tif(dp[i][j] == Integer.MAX_VALUE)continue;\n\t\t\t\t\t\tfor(int k = 0;k < M;k++)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tint next = j + C[k];\n\t\t\t\t\t\t\tif(next <= 0) next = 0;\n\t\t\t\t\t\t\telse if(next >= 255) next = 255;\n\t\t\t\t\t\t\tdp[i + 1][next] = \n\t\t\t\t\t\t\t\tMath.min(dp[i + 1][next],dp[i][j] + (x[i] - next) * (x[i] - next));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tint ans = Integer.MAX_VALUE;\n\t\t\tfor(int i = 0;i <= 255;i++)\n\t\t\t{\n\t\t\t\t//System.out.println(i + \" : \" + dp[N][i]);\n\t\t\t\tans = Math.min(ans,dp[N][i]);\n\t\t\t}\n\t\t\tSystem.out.println(ans);\n\t\t\t//System.out.println(dfs(0,128));\n\t\t}\n\t\t\n\t\t\n\t}\n\tpublic static void main(String[] args)\n\t{\n\t\tnew Main().solve();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Arrays;\nimport java.util.Scanner;\npublic class Main {\n\t\n\tpublic static void main(String[] args) {\n\t\ttry(Scanner sc = new Scanner(System.in)) {\n\t\t\twhile(sc.hasNext()) {\n\t\t\t\tint n = sc.nextInt();\n\t\t\t\tint m = sc.nextInt();\n\t\t\t\tif(n+m == 0) break;\n\t\t\t\t\n\t\t\t\tint[] x = new int[n];\n\t\t\t\tint[] c = new int[m];\n\t\t\t\tfor(int i=0; i<m; i++) {\n\t\t\t\t\tc[i] = sc.nextInt();\n\t\t\t\t}\n\t\t\t\tfor(int i=0; i<n; i++) {\n\t\t\t\t\tx[i] = sc.nextInt();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tint[][] dp = new int[2][256];\n\t\t\t\tArrays.fill(dp[0], 1<<30);\n\t\t\t\tdp[0][128] = 0;\n\t\t\t\tint t = 0;\n\t\t\t\tfor(int i=0; i<n; i++) {\n\t\t\t\t\tArrays.fill(dp[1-t], 1<<30);\n\t\t\t\t\tfor(int j=0; j<256; j++) {\n\t\t\t\t\t\tfor(int k=0; k<m; k++) {\n\t\t\t\t\t\t\tint next = j + c[k];\n\t\t\t\t\t\t\tif(next < 0) next = 0;\n\t\t\t\t\t\t\tif(next > 255) next = 255;\n\t\t\t\t\t\t\tdp[1-t][next] = Math.min(dp[1-t][next], dp[t][j] + (x[i]-next) * (x[i]-next));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tt = 1 - t;\n\t\t\t\t}\n\t\t\t\tint min = Integer.MAX_VALUE;\n\t\t\t\tfor(int i=0; i<256; i++) {\n\t\t\t\t\tmin = Math.min(min, dp[t][i]);\n\t\t\t\t}\n\t\t\t\tSystem.out.println(min);\n\t\t\t}\n\t\t}\n\t}\n}\n\n"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException;\nimport java.io.InputStream;\nimport java.io.PrintWriter;\nimport java.math.BigDecimal;\nimport java.math.RoundingMode;\nimport java.util.*;\n\n\npublic class Main {\n\tstatic final long MOD=1000000007;\n\tpublic static void main(String[] args){\n\t\tPrintWriter out = new PrintWriter(System.out);\n\t\tInputReader sc=new InputReader(System.in);\n\t\twhile (true) {\n\t\t\tint N=sc.nextInt();\n\t\t\tint M=sc.nextInt();\n\t\t\tif (N==0&&M==0) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tint[] C=sc.nextIntArray(M);\n\t\t\tint[] x=sc.nextIntArray(N);\n\t\t\tlong[][] dp=new long[N+1][256];\n\t\t\tfor (int i = 0; i < dp.length; i++) {\n\t\t\t\tArrays.fill(dp[i], Long.MAX_VALUE/2);\n\t\t\t}\n\t\t\tdp[0][128]=0;\n\t\t\tfor (int i = 0; i < dp.length-1; i++) {\n\t\t\t\tfor (int j = 0; j <= 255; j++) {\n\t\t\t\t\tfor (int j2 = 0; j2 < M; j2++) {\n\t\t\t\t\t\tint k=j+C[j2];\n\t\t\t\t\t\tif (k<0) {\n\t\t\t\t\t\t\tk=0;\n\t\t\t\t\t\t}else if (k>=256) {\n\t\t\t\t\t\t\tk=255;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdp[i+1][k]=Math.min(dp[i+1][k], dp[i][j]+(long)Math.pow(x[i]-(k), 2));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tlong min=Long.MAX_VALUE;\n\t\t\tfor (int i = 0; i < 256; i++) {\n\t\t\t\tmin=Math.min(min, dp[N][i]);\n\t\t\t}\n\t\t\tout.println(min);\n\t\t}\n\t\tout.flush();\n\t}\n\n\tstatic class InputReader { \n\t\tprivate InputStream in;\n\t\tprivate byte[] buffer = new byte[1024];\n\t\tprivate int curbuf;\n\t\tprivate int lenbuf;\n\t\tpublic InputReader(InputStream in) {\n\t\t\tthis.in = in;\n\t\t\tthis.curbuf = this.lenbuf = 0;\n\t\t}\n \n\t\tpublic boolean hasNextByte() {\n\t\t\tif (curbuf >= lenbuf) {\n\t\t\t\tcurbuf = 0;\n\t\t\t\ttry {\n\t\t\t\t\tlenbuf = in.read(buffer);\n\t\t\t\t} catch (IOException e) {\n\t\t\t\t\tthrow new InputMismatchException();\n\t\t\t\t}\n\t\t\t\tif (lenbuf <= 0)\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n \n\t\tprivate int readByte() {\n\t\t\tif (hasNextByte())\n\t\t\t\treturn buffer[curbuf++];\n\t\t\telse\n\t\t\t\treturn -1;\n\t\t}\n \n\t\tprivate boolean isSpaceChar(int c) {\n\t\t\treturn !(c >= 33 && c <= 126);\n\t\t}\n \n\t\tprivate void skip() {\n\t\t\twhile (hasNextByte() && isSpaceChar(buffer[curbuf]))\n\t\t\t\tcurbuf++;\n\t\t}\n \n\t\tpublic boolean hasNext() {\n\t\t\tskip();\n\t\t\treturn hasNextByte();\n\t\t}\n \n\t\tpublic String next() {\n\t\t\tif (!hasNext())\n\t\t\t\tthrow new NoSuchElementException();\n\t\t\tStringBuilder sb = new StringBuilder();\n\t\t\tint b = readByte();\n\t\t\twhile (!isSpaceChar(b)) {\n\t\t\t\tsb.appendCodePoint(b);\n\t\t\t\tb = readByte();\n\t\t\t}\n\t\t\treturn sb.toString();\n\t\t}\n \n\t\tpublic int nextInt() {\n\t\t\tif (!hasNext())\n\t\t\t\tthrow new NoSuchElementException();\n\t\t\tint c = readByte();\n\t\t\twhile (isSpaceChar(c))\n\t\t\t\tc = readByte();\n\t\t\tboolean minus = false;\n\t\t\tif (c == '-') {\n\t\t\t\tminus = true;\n\t\t\t\tc = readByte();\n\t\t\t}\n\t\t\tint res = 0;\n\t\t\tdo {\n\t\t\t\tif (c < '0' || c > '9')\n\t\t\t\t\tthrow new InputMismatchException();\n\t\t\t\tres = res * 10 + c - '0';\n\t\t\t\tc = readByte();\n\t\t\t} while (!isSpaceChar(c));\n\t\t\treturn (minus) ? -res : res;\n\t\t}\n \n\t\tpublic long nextLong() {\n\t\t\tif (!hasNext())\n\t\t\t\tthrow new NoSuchElementException();\n\t\t\tint c = readByte();\n\t\t\twhile (isSpaceChar(c))\n\t\t\t\tc = readByte();\n\t\t\tboolean minus = false;\n\t\t\tif (c == '-') {\n\t\t\t\tminus = true;\n\t\t\t\tc = readByte();\n\t\t\t}\n\t\t\tlong res = 0;\n\t\t\tdo {\n\t\t\t\tif (c < '0' || c > '9')\n\t\t\t\t\tthrow new InputMismatchException();\n\t\t\t\tres = res * 10 + c - '0';\n\t\t\t\tc = readByte();\n\t\t\t} while (!isSpaceChar(c));\n\t\t\treturn (minus) ? -res : res;\n\t\t}\n \n\t\tpublic double nextDouble() {\n\t\t\treturn Double.parseDouble(next());\n\t\t}\n \n\t\tpublic int[] nextIntArray(int n) {\n\t\t\tint[] a = new int[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\ta[i] = nextInt();\n\t\t\treturn a;\n\t\t}\n \n\t\tpublic long[] nextLongArray(int n) {\n\t\t\tlong[] a = new long[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\ta[i] = nextLong();\n\t\t\treturn a;\n\t\t}\n \n\t\tpublic char[][] nextCharMap(int n, int m) {\n\t\t\tchar[][] map = new char[n][m];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\tmap[i] = next().toCharArray();\n\t\t\treturn map;\n\t\t}\n\t}\n}\n\n"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\nimport java.io.*;\nimport java.awt.geom.*;\nimport java.math.*;\n\npublic class Main {\n\n\tstatic final Scanner in = new Scanner(System.in);\n\tstatic final PrintWriter out = new PrintWriter(System.out,false);\n\tstatic boolean debug = false;\n\n\tstatic int round(int x) {\n\t\tif (x < 0) x = 0;\n\t\telse if (255 < x) x = 255;\n\t\treturn x;\n\t}\n\n\tstatic boolean solve() {\n\t\tint n = in.nextInt();\n\t\tint m = in.nextInt();\n\t\tif (n + m == 0) return false;\n\n\t\tint[] c = new int[m];\n\t\tfor (int i=0; i<m; i++) {\n\t\t\tc[i] = in.nextInt();\n\t\t}\n\n\t\tint[] x = new int[n];\n\t\tfor (int i=0; i<n; i++) {\n\t\t\tx[i] = in.nextInt();\n\t\t}\n\n\t\tint INF = 1<<30;\n\t\tint[][] dp = new int[n+1][256];\n\t\tfor (int i=0; i<=n; i++) {\n\t\t\tArrays.fill(dp[i], INF);\n\t\t}\n\t\tdp[0][128] = 0;\n\t\tfor (int i=0; i<n; i++) {\n\t\t\tfor (int j=0; j<256; j++) {\n\t\t\t\tif (dp[i][j] == INF) continue;\n\n\t\t\t\tfor (int k=0; k<m; k++) {\n\t\t\t\t\tint y = round(j + c[k]);\n\t\t\t\t\tint d = x[i] - y;\n\t\t\t\t\tdp[i+1][y] = Math.min(dp[i+1][y], dp[i][j] + d*d);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tint min = INF;\n\t\tfor (int i=0; i<256; i++) {\n\t\t\tmin = Math.min(min, dp[n][i]);\n\t\t}\n\n\t\tout.println(min);\n\n\t\treturn true;\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tdebug = args.length > 0;\n\t\tlong start = System.nanoTime();\n\n\t\twhile(solve());\n\t\tout.flush();\n\n\t\tlong end = System.nanoTime();\n\t\tdump((end - start) / 1000000 + \" ms\");\n\t\tin.close();\n\t\tout.close();\n\t}\n\n\tstatic void dump(Object... o) { if (debug) System.err.println(Arrays.deepToString(o)); }\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main{\n\n    void solve(){\n\tScanner sc = new Scanner(System.in);\n\n\twhile(true){\n\t    int n = sc.nextInt();\n\t    int m = sc.nextInt();\n\t    if(n==0 && m==0) break;\n\t    int[] c = new int[m];\n\t    int[] x = new int[n];\n\t    for(int i=0; i<m; i++) c[i] = sc.nextInt();\n\t    for(int i=0; i<n; i++) x[i] = sc.nextInt();\n\t    \n\t    long[][] dp = new long[256][n+1];\n\t    for(int i=0; i<256; i++) Arrays.fill(dp[i], Integer.MAX_VALUE);\n\t    dp[128][0] = 0;\n\t    \n\t    for(int i=1; i<=n; i++){\n\t\tfor(int j=0; j<256; j++){\n\t\t    if(dp[j][i-1]==Integer.MAX_VALUE) continue;\n\t\t    for(int k=0; k<m; k++){\n\t\t\tint newY = j+c[k];\n\t\t\tif(newY<0) newY = 0;\n\t\t\telse if(newY>255) newY = 255;\n\t\t\tdp[newY][i] = Math.min(dp[newY][i], dp[j][i-1]+(newY-x[i-1])*(newY-x[i-1]));\n\t\t    }\n\t\t}\n\t    }\n\t    \n\t    long min = Long.MAX_VALUE;\n\t    for(int i=0; i<256; i++) min = Math.min(min, dp[i][n]);\n\t    \n\t    System.out.println(min);\n\t}\n    }\n\n    public static void main(String[] args){\n\tnew Main().solve();\n    }\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main {\n\tfinal int INF = 1 << 24;\n\tprivate void doit(){\n\t\tScanner sc = new Scanner(System.in);\n\t\twhile(true){\n\t\t\tint n = sc.nextInt();\n\t\t\tint m = sc.nextInt();\n\t\t\tif(n == 0 && m == 0) break;\n\t\t\tint [] nlist = new int[n];\n\t\t\tint [] mlist = new int[m];\n\t\t\tfor(int i=0; i < m; i++){\n\t\t\t\tmlist[i] = sc.nextInt();\n\t\t\t}\n\t\t\tfor(int i = 0; i < n; i++){\n\t\t\t\tnlist[i] = sc.nextInt();\n\t\t\t}\n\t\t\tint [][] dp = new int[n+1][256];\n\t\t\tfor(int i=0; i <= n; i++){\n\t\t\t\tArrays.fill(dp[i], INF);\n\t\t\t}\n\t\t\tdp[0][128] = 0;\n\t\t\tfor(int i=0; i < n; i++){\n\t\t\t\tfor(int j=0; j < 256;j++){\n\t\t\t\t\tif(dp[i][j] == INF) continue;\n\t\t\t\t\t\n\t\t\t\t\tfor(int k=0; k < m; k++){\n\t\t\t\t\t\tint ind = j +mlist[k];\n\t\t\t\t\t\tif(ind < 0) ind = 0;\n\t\t\t\t\t\tif(ind > 255) ind = 255;\n\t\t\t\t\t\tint value = dp[i][j] + (nlist[i] - ind) * (nlist[i] - ind);\n\t\t\t\t\t\tdp[i+1][ind] = Math.min(dp[i+1][ind], value);\n\t\t\t\t\t\t//System.out.println(\"dp=\" + dp[i+1][ind] + \" \" + (i+1));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n//\t\t\tfor(int i=0; i <= n; i++){\n//\t\t\t\tfor(int j=0; j < 255; j++){\n//\t\t\t\t\tif(dp[i][j] == INF){\n//\t\t\t\t\t\tSystem.out.print(\"INF \");\n//\t\t\t\t\t}\n//\t\t\t\t\telse{\n//\t\t\t\t\t\tSystem.out.print(dp[i][j] + \" \");\n//\t\t\t\t\t}\n//\t\t\t\t\t\n//\t\t\t\t}\n//\t\t\t\tSystem.out.println();\n//\t\t\t}\n\t\t\tint ans = INF;\n\t\t\tfor(int i=0; i < 256; i++){\n\t\t\t\tans = Math.min(ans, dp[n][i]);\n\t\t\t}\n\t\t\tSystem.out.println(ans);\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tMain obj = new Main();\n\t\tobj.doit();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "\nimport java.io.*;\nimport java.util.*;\n\npublic class Main {\n\tFastScanner in = new FastScanner(System.in);\n\tPrintWriter out = new PrintWriter(System.out);\n\n\tlong[][] dp = new long[20001][256];\n\n\tpublic void run() {\n\t\twhile (true) {\n\t\t\tint N = in.nextInt(), M = in.nextInt();\n\t\t\tif (N == 0 && M == 0) break;\n\t\t\tint[] C = new int[M], x = new int[N];\n\t\t\t\n\t\t\tfor (int i = 0; i < M; i++)\n\t\t\t\tC[i] = in.nextInt();\n\t\t\tfor (int i = 0; i < N; i++)\n\t\t\t\tx[i] = in.nextInt();\n\t\t\t\n\t\t\tfor (int i = 0; i < dp.length; i++) {\n\t\t\t\tArrays.fill(dp[i], Long.MAX_VALUE);\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\tdp[0][128] = 0;\n\t\t\tfor (int i = 0; i < N; i++) {\n\t\t\t\tfor (int j = 0; j <= 255; j++) {\n\t\t\t\t\tfor (int k = 0; k < M; k++) {\n\t\t\t\t\t\tint idx = j + C[k];\n\t\t\t\t\t\tidx = Math.max(idx, 0);\n\t\t\t\t\t\tidx = Math.min(idx, 255);\n\t\t\t\t\t\tdp[i+1][idx] = (long) Math.min(dp[i+1][idx], dp[i][j] + Math.pow(idx - x[i], 2));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tlong res = Long.MAX_VALUE;\n\t\t\tfor (int i = 0; i <= 255; i++) {\n\t\t\t\tres = Math.min(res, dp[N][i]);\n\t\t\t}\n\t\t\tSystem.out.println(res);\n\t\t\t\n\t\t}\n\t\tout.close();\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n\n\tpublic void mapDebug(int[][] a) {\n\t\tSystem.out.println(\"--------map display---------\");\n\n\t\tfor (int i = 0; i < a.length; i++) {\n\t\t\tfor (int j = 0; j < a[i].length; j++) {\n\t\t\t\tSystem.out.printf(\"%3d \", a[i][j]);\n\t\t\t}\n\t\t\tSystem.out.println();\n\t\t}\n\n\t\tSystem.out.println(\"----------------------------\");\n\t\tSystem.out.println();\n\t}\n\n\tpublic void debug(Object... obj) {\n\t\tSystem.out.println(Arrays.deepToString(obj));\n\t}\n\n\tclass FastScanner {\n\t\tprivate InputStream stream;\n\t\tprivate byte[] buf = new byte[1024];\n\t\tprivate int curChar;\n\t\tprivate int numChars;\n\n\t\tpublic FastScanner(InputStream stream) {\n\t\t\tthis.stream = stream;\n\t\t\t//stream = new FileInputStream(new File(\"dec.in\"));\n\n\t\t}\n\n\t\tint read() {\n\t\t\tif (numChars == -1)\n\t\t\t\tthrow new InputMismatchException();\n\t\t\tif (curChar >= numChars) {\n\t\t\t\tcurChar = 0;\n\t\t\t\ttry {\n\t\t\t\t\tnumChars = stream.read(buf);\n\t\t\t\t} catch (IOException e) {\n\t\t\t\t\tthrow new InputMismatchException();\n\t\t\t\t}\n\t\t\t\tif (numChars <= 0)\n\t\t\t\t\treturn -1;\n\t\t\t}\n\t\t\treturn buf[curChar++];\n\t\t}\n\n\t\tboolean isSpaceChar(int c) {\n\t\t\treturn c == ' ' || c == '\\n' || c == '\\r' || c == '\\t' || c == -1;\n\t\t}\n\n\t\tboolean isEndline(int c) {\n\t\t\treturn c == '\\n' || c == '\\r' || c == -1;\n\t\t}\n\n\t\tint nextInt() {\n\t\t\treturn Integer.parseInt(next());\n\t\t}\n\n\t\tlong nextLong() {\n\t\t\treturn Long.parseLong(next());\n\t\t}\n\n\t\tdouble nextDouble() {\n\t\t\treturn Double.parseDouble(next());\n\t\t}\n\n\t\tString next() {\n\t\t\tint c = read();\n\t\t\twhile (isSpaceChar(c))\n\t\t\t\tc = read();\n\t\t\tStringBuilder res = new StringBuilder();\n\t\t\tdo {\n\t\t\t\tres.appendCodePoint(c);\n\t\t\t\tc = read();\n\t\t\t} while (!isSpaceChar(c));\n\t\t\treturn res.toString();\n\t\t}\n\n\t\tString nextLine() {\n\t\t\tint c = read();\n\t\t\twhile (isEndline(c))\n\t\t\t\tc = read();\n\t\t\tStringBuilder res = new StringBuilder();\n\t\t\tdo {\n\t\t\t\tres.appendCodePoint(c);\n\t\t\t\tc = read();\n\t\t\t} while (!isEndline(c));\n\t\t\treturn res.toString();\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.BitSet;\nimport java.util.PriorityQueue;\nimport java.util.Queue;\nimport java.util.Scanner;\n\npublic class Main{\n\tpublic static void main(String[] args){\n\t\tScanner in = new Scanner(System.in);\n\t\twhile(true){\n\t\t\tint n = in.nextInt();\n\t\t\tint m = in.nextInt();\n\t\t\tif(n == 0) return;\n\t\t\tint[] c = new int[m];\n\t\t\tfor(int i=0; i<m; i++){\n\t\t\t\tc[i] = in.nextInt();\n\t\t\t}\n\t\t\tint[] x = new int[n];\n\t\t\tfor(int i=0; i<n; i++){\n\t\t\t\tx[i] = in.nextInt();\n\t\t\t}\n\t\t\tQueue<Node> qu = new PriorityQueue<Node>();\n\t\t\tBitSet used = new BitSet(n*600);\n\t\t\tqu.add(new Node(0, 128, 0));\n//\t\t\tint bestX = 0;\n//\t\t\tlong bestCost = 1L<<60; \n\t\t\twhile(!qu.isEmpty()){\n\t\t\t\tNode nd = qu.poll();\n\t\t\t\tif(used.get(nd.id)) continue;\n\t\t\t\tif(nd.x == n){\n\t\t\t\t\tSystem.out.println(nd.cost);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n//\t\t\t\tif(nd.x > bestX){\n//\t\t\t\t\tbestX = nd.x;\n//\t\t\t\t\tbestCost = nd.cost;\n//\t\t\t\t}else if(nd.x == bestX){\n//\t\t\t\t\tbestCost = Math.min(bestCost, nd.cost);\n//\t\t\t\t}\n\t\t\t\tused.set(nd.id);\n\t\t\t\tfor(int i=0; i<m; i++){\n\t\t\t\t\tint nh = nd.h + c[i];\n\t\t\t\t\tif(nh > 255) nh = 255;\n\t\t\t\t\telse if(nh < 0) nh = 0;\n\t\t\t\t\tqu.add(new Node(nd.x+1, nh, nd.cost + sq(x[nd.x]-nh)));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tpublic static int sq(int a){\n\t\treturn a*a;\n\t}\n}\n\nclass Node implements Comparable<Node>{\n\tint x;\n\tint id;\n\tint h;\n\tlong cost;\n\tpublic Node(int x, int h, long cost) {\n\t\tthis.x = x;\n\t\tthis.h = h;\n\t\tid = x*256+h;\n\t\tthis.cost = cost;\n\t}\n\t\n\t@Override\n\tpublic int compareTo(Node o) {\n\t\treturn Long.compare(cost, o.cost);\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.util.Arrays;\n\nimport static java.lang.Integer.parseInt;\n\n/**\n * Differential Pulse Code Modulation\n */\npublic class Main {\n\n\tstatic final int INF = 1 << 29;\n\n\tpublic static void main(String[] args) throws IOException {\n\t\tBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n\t\tString line;\n\t\tString[] words;\n\n\t\twhile ((line = br.readLine()) != null && !line.isEmpty()) {\n\n\t\t\tint N, M;\n\t\t\tN = parseInt(line.substring(0, line.indexOf(' ')));\n\t\t\tM = parseInt(line.substring(line.indexOf(' ') + 1));\n\t\t\tif ((N | M) == 0) break;\n\n\t\t\tint[] C = new int[M];\n\t\t\tfor (int i = 0; i < M; i++) C[i] = parseInt(br.readLine());\n\n\t\t\t//\n\t\t\tint[][] dp = new int[N + 1][256];\n\t\t\tfor (int i = 0; i < dp.length; i++) {\n\t\t\t\tArrays.fill(dp[i], INF);\n\t\t\t}\n\n\t\t\tdp[0][128] = 0;\n\n\t\t\tfor (int n = 1; n <= N; n++) {\n\t\t\t\tint x = parseInt(br.readLine());\n\t\t\t\tfor (int i = 0; i < 256; i++) {\n\t\t\t\t\tfor (int m = 0; m < M; m++) {\n\t\t\t\t\t\tint _x = i + C[m];\n\t\t\t\t\t\tif (255 < _x) _x = 255;\n\t\t\t\t\t\tif (_x < 0) _x = 0;\n\t\t\t\t\t\tint cost = (_x - x) * (_x - x);\n\t\t\t\t\t\tdp[n][_x] = Math.min(dp[n][_x], dp[n - 1][i] + cost);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tint min = INF;\n\n\t\t\tfor (int i = 0; i < 256; i++) {\n\t\t\t\tmin = Math.min(min, dp[N][i]);\n\t\t\t}\n\n\t\t\tSystem.out.println(min);\n\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\n\npublic class Main {\n\tScanner in = new Scanner(System.in);\n\n\tpublic Main() {\n\t\twhile (true) {\n\t\t\tint N = in.nextInt();\n\t\t\tint M = in.nextInt();\n\t\t\tif (N == 0 && M == 0) break;\n\t\t\tint[][] dp = new int[N+1][256];\n\t\t\tint[] c = new int[M];\n\t\t\t\n\t\t\tfor (int i = 0; i < M; i++) {\n\t\t\t\tc[i] = in.nextInt();\n\t\t\t}\n\t\t\t\n\t\t\tfor (int i = 0; i < dp.length; i++) \n\t\t\t\tfor (int j = 0; j < dp[i].length; j++) \n\t\t\t\t\tdp[i][j] = Integer.MAX_VALUE;\n\t\t\t\n\t\t\tdp[0][128] = 0;\n\t\t\t\n\t\t\tfor (int i = 0; i < N; i++) {\n\t\t\t\tint next = in.nextInt();\n\t\t\t\tfor (int j = 0; j < 256; j++) {\n\t\t\t\t\tif (dp[i][j] != Integer.MAX_VALUE) {\n\t\t\t\t\t\tfor (int k = 0; k < c.length; k++) {\n\t\t\t\t\t\t\tint dif = j + c[k];\n\t\t\t\t\t\t\tif (dif < 0) dif = 0;\n\t\t\t\t\t\t\telse if (dif >= 256) dif = 255;\t\t\t\t\t\t\n\t\t\t\t\t\t\tint x = (next - dif) * (next - dif);\n\t\t\t\t\t\t\tdp[i+1][dif] = Math.min(dp[i+1][dif], dp[i][j] + x);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tint ans = Integer.MAX_VALUE;\n\t\t\tfor (int i = 0; i < 256; i++) {\n\t\t\t\tans = Math.min(ans, dp[N][i]);\n\t\t\t}\n\t\t\tSystem.out.println(ans);\n\t\t\t\n\t\t}\n \t}\n\t\n\tpublic static void main(String[] args) {\n\t\tnew Main();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException;\nimport java.io.InputStream;\nimport java.io.PrintWriter;\nimport java.util.Arrays;\nimport java.util.InputMismatchException;\nimport java.util.NoSuchElementException;\n\npublic class Main {\n\n\tstatic PrintWriter out;\n    \tstatic InputReader ir;\n        static final int INF=(int)1e9;\n\n\tstatic void solve() {\n\t    while(true){\n\t\tint n=ir.nextInt();\n\t\tint m=ir.nextInt();\n\t\tif(n==0)\n\t\t    return;\n\t\tint[] c=ir.nextIntArray(m);\n\t\tint[] x=ir.nextIntArray(n);\n\t        int[][] dp=new int[2][256];\n\t\tfor(int i=0;i<2;i++)\n\t\t    Arrays.fill(dp[i],INF);\n\t\tdp[0][128]=0;\n\t\tfor(int i=0;i<n;i++){\n\t\t    for(int j=0;j<256;j++){\n\t\t\tif(dp[i&1][j]!=INF){\n\t\t\t    for(int k=0;k<m;k++){\n\t\t\t\tint p=Math.max(0,Math.min(j+c[k],255));\n\t\t\t       \tdp[(i&1)^1][p]=(int)Math.min(dp[(i&1)^1][p],dp[i&1][j]+Math.pow(p-x[i],2));\n\t\t\t    }\n\t\t\t}\n\t\t    }\n\t\t    Arrays.fill(dp[i&1],INF);\n\t\t}\n\t\tint ret=INF;\n\t\tfor(int i=0;i<256;i++)\n\t\t    ret=(int)Math.min(ret,dp[n&1][i]);\n\t\tout.println(ret);\n\t    }\n\t}\n\n\tpublic static void main(String[] args) throws Exception {\n\t\tir = new InputReader(System.in);\n\t\tout = new PrintWriter(System.out);\n\t\tsolve();\n\t\tout.flush();\n\t}\n\n\tstatic class InputReader {\n\n\t\tprivate InputStream in;\n\t\tprivate byte[] buffer = new byte[1024];\n\t\tprivate int curbuf;\n\t\tprivate int lenbuf;\n\n\t\tpublic InputReader(InputStream in) {\n\t\t\tthis.in = in;\n\t\t\tthis.curbuf = this.lenbuf = 0;\n\t\t}\n\n\t\tpublic boolean hasNextByte() {\n\t\t\tif (curbuf >= lenbuf) {\n\t\t\t\tcurbuf = 0;\n\t\t\t\ttry {\n\t\t\t\t\tlenbuf = in.read(buffer);\n\t\t\t\t} catch (IOException e) {\n\t\t\t\t\tthrow new InputMismatchException();\n\t\t\t\t}\n\t\t\t\tif (lenbuf <= 0)\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tprivate int readByte() {\n\t\t\tif (hasNextByte())\n\t\t\t\treturn buffer[curbuf++];\n\t\t\telse\n\t\t\t\treturn -1;\n\t\t}\n\n\t\tprivate boolean isSpaceChar(int c) {\n\t\t\treturn !(c >= 33 && c <= 126);\n\t\t}\n\n\t\tprivate void skip() {\n\t\t\twhile (hasNextByte() && isSpaceChar(buffer[curbuf]))\n\t\t\t\tcurbuf++;\n\t\t}\n\n\t\tpublic boolean hasNext() {\n\t\t\tskip();\n\t\t\treturn hasNextByte();\n\t\t}\n\n\t\tpublic String next() {\n\t\t\tif (!hasNext())\n\t\t\t\tthrow new NoSuchElementException();\n\t\t\tStringBuilder sb = new StringBuilder();\n\t\t\tint b = readByte();\n\t\t\twhile (!isSpaceChar(b)) {\n\t\t\t\tsb.appendCodePoint(b);\n\t\t\t\tb = readByte();\n\t\t\t}\n\t\t\treturn sb.toString();\n\t\t}\n\n\t\tpublic int nextInt() {\n\t\t\tif (!hasNext())\n\t\t\t\tthrow new NoSuchElementException();\n\t\t\tint c = readByte();\n\t\t\twhile (isSpaceChar(c))\n\t\t\t\tc = readByte();\n\t\t\tboolean minus = false;\n\t\t\tif (c == '-') {\n\t\t\t\tminus = true;\n\t\t\t\tc = readByte();\n\t\t\t}\n\t\t\tint res = 0;\n\t\t\tdo {\n\t\t\t\tif (c < '0' || c > '9')\n\t\t\t\t\tthrow new InputMismatchException();\n\t\t\t\tres = res * 10 + c - '0';\n\t\t\t\tc = readByte();\n\t\t\t} while (!isSpaceChar(c));\n\t\t\treturn (minus) ? -res : res;\n\t\t}\n\n\t\tpublic long nextLong() {\n\t\t\tif (!hasNext())\n\t\t\t\tthrow new NoSuchElementException();\n\t\t\tint c = readByte();\n\t\t\twhile (isSpaceChar(c))\n\t\t\t\tc = readByte();\n\t\t\tboolean minus = false;\n\t\t\tif (c == '-') {\n\t\t\t\tminus = true;\n\t\t\t\tc = readByte();\n\t\t\t}\n\t\t\tlong res = 0;\n\t\t\tdo {\n\t\t\t\tif (c < '0' || c > '9')\n\t\t\t\t\tthrow new InputMismatchException();\n\t\t\t\tres = res * 10 + c - '0';\n\t\t\t\tc = readByte();\n\t\t\t} while (!isSpaceChar(c));\n\t\t\treturn (minus) ? -res : res;\n\t\t}\n\n\t\tpublic double nextDouble() {\n\t\t\treturn Double.parseDouble(next());\n\t\t}\n\n\t\tpublic int[] nextIntArray(int n) {\n\t\t\tint[] a = new int[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\ta[i] = nextInt();\n\t\t\treturn a;\n\t\t}\n\n\t\tpublic long[] nextLongArray(int n) {\n\t\t\tlong[] a = new long[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\ta[i] = nextLong();\n\t\t\treturn a;\n\t\t}\n\n\t\tpublic char[][] nextCharMap(int n, int m) {\n\t\t\tchar[][] map = new char[n][m];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\tmap[i] = next().toCharArray();\n\t\t\treturn map;\n\t\t}\n\t}\n}\n\n"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\nclass Main{\n\n    void solve(){\n        Scanner sc = new Scanner(System.in);\n\n        long INF = Long.MAX_VALUE;\n\n        while(true){\n            int n = sc.nextInt(), m = sc.nextInt();\n            if(n==0 && m==0) break;\n\n            int[] c = new int[m];\n            for(int i=0; i<m; i++) c[i] = sc.nextInt();\n\n            int[] x = new int[n];\n            for(int i=0; i<n; i++) x[i] = sc.nextInt();\n\n            long[][] dp = new long[n+1][256];\n            for(int i=0; i<=n; i++) Arrays.fill(dp[i], INF);\n            dp[0][128] = 0;\n\n            for(int i=1; i<=n; i++){\n                for(int j=0; j<=255; j++){\n                    if(dp[i-1][j]==INF) continue;\n                    for(int k=0; k<m; k++){\n                        int idx = j+c[k];\n                        if(idx<0) idx = 0;\n                        if(idx>255) idx = 255;\n                        dp[i][idx] = Math.min(dp[i][idx], dp[i-1][j] + (long)Math.pow((x[i-1]-idx), 2));\n                    }\n                }\n            }\n\n            long min = INF;\n            for(int i=0; i<=255; i++) min = Math.min(min, dp[n][i]);\n            System.out.println(min);\n        }\n    }\n\n    public static void main(String[] args){\n        new Main().solve();\n    }\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n  \npublic class Main {\n    Scanner sc = new Scanner(System.in);\n  \n    public static void main(String[] args) {\n        new Main(); \n    }\n  \n    public Main() {\n        new aoj2199().doIt();\n    }\n    class aoj2199{\n    \tint dp[][] = new int[20001][256];\n    \tint C[] = new int[16];\n    \tint x[] = new int[20001];\n    \tint MAX = 200000000;\n    \tvoid set(int N,int M){\n    \t\tfor(int i = 0;i <= N;i++){\n    \t\t\tfor(int j = 0;j < 256;j++){\n    \t\t\t\tdp[i][j] = MAX;\n    \t\t\t}\n    \t\t}\n    \t\tfor(int i = 0;i < M;i++)C[i] = sc.nextInt();\n    \t\tfor(int i = 0;i < N;i++)x[i] = sc.nextInt();\n    \t}\n    \tint dp_table(int N,int M){\n    \t\tdp[0][128] = 0;\n    \t\tfor(int i = 0;i < N;i++){\n    \t\t\tfor(int j = 0;j < 256;j++){\n    \t\t\t\tif(dp[i][j] == MAX)continue;\n    \t\t\t\tfor(int k = 0;k < M;k++){\n    \t\t\t\t\tint y = j + C[k];\n    \t\t\t\t\tif(y > 255)y = 255;\n    \t\t\t\t\telse if(y < 0)y = 0;\n    \t\t\t\t\tdp[i+1][y] = Math.min(dp[i+1][y],dp[i][j] + (x[i] - y)*(x[i] - y));\n    \t\t\t\t}\n    \t\t\t}\n    \t\t}\n    \t\tint min = MAX;\n    \t\tfor(int i = 0;i < 256;i++)min = Math.min(min,dp[N][i]);\n    \t\treturn min;\n    \t}\n    \tvoid doIt(){\n    \t\twhile(true){\n    \t\t\tint N = sc.nextInt();\n    \t\t\tint M = sc.nextInt();\n    \t\t\tif(N + M == 0)break;\n    \t\t\tset(N,M);\n    \t\t\tSystem.out.println(dp_table(N,M));\n    \t\t}\n    \t}\n    }\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\n\npublic class Main {\n\n\t/**\n\t * @param args\n\t */\n\t//コードの最大値 + 1\n\tpublic static final int MAX = 256;\n\n\tpublic static void main(String[] args) {\n\t\t// TODO 自動生成されたメソッド・スタブ\n\t\tdoIt();\n\t}\n\tpublic static void doIt(){\n\t\tScanner sc = new Scanner(System.in);\n\t\t//size of input\n\t\tint n = sc.nextInt();\n\t\t//size of codeBook\n\t\tint m = sc.nextInt();\n\t\twhile(n != 0){\n\t\t\tint[] codeBook = new int[m];\n\t\t\tfor(int i = 0; i < m; i++){\n\t\t\t\tcodeBook[i] = sc.nextInt();\n\t\t\t}\n\t\t\tint []input = new int[n];\n\t\t\tfor(int i = 0; i < n; i++){\n\t\t\t\tinput[i] = sc.nextInt();\n\t\t\t}\n//\t\t\tint result = DP(0, 0, max, 128);\n//\t\t\tSystem.out.println(result);\n\t\t\tint[][] dp = new int[2][MAX];\n\t\t\tint using = 0;\n\t\t\tint used = 1;\n\t\t\tfor(int j = 0; j < MAX; j++){\n\t\t\t\tdp[used][j] = -1;\n\t\t\t}\n\t\t\tdp[used][128] = 0;\n\t\t\tfor(int i = 0; i < n; i++){\n\t\t\t\t//まず、使う配列の初期化\n\t\t\t\tfor(int j = 0; j < MAX; j++){\n\t\t\t\t\tdp[using][j] = -1;\n\t\t\t\t}\n\t\t\t\tfor(int j = 0; j < MAX; j++){\n\t\t\t\t\tif(dp[used][j] != -1){\n\t\t\t\t\t\tfor(int k = 0; k < m; k++){\n\t\t\t\t\t\t\tint tar = j + codeBook[k];\n\t\t\t\t\t\t\tif(0 > tar){\n\t\t\t\t\t\t\t\ttar = 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if(tar >= MAX){\n\t\t\t\t\t\t\t\ttar = MAX - 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tint tmp = tar - input[i];\n\t\t\t\t\t\t\tint temp = dp[used][j] + tmp*tmp;\n\t\t\t\t\t\t\t//System.out.println(\"tmp = \" + tmp + \", temp = \" + temp);\n\t\t\t\t\t\t\tif(dp[using][tar] == -1 || dp[using][tar] > temp){\n\t\t\t\t\t\t\t\tdp[using][tar] = temp;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t//usedとusingの入れ替え\n\t\t\t\tint tmp = using;\n\t\t\t\tusing = used;\n\t\t\t\tused = tmp;\n\t\t\t}\n\t\t\tint min = (255*2)*(255*2)*20000;\n\t\t\tfor(int j = 0; j < MAX; j++){\n\t\t\t\tif(dp[used][j] != -1 && min > dp[used][j]){\n\t\t\t\t\tmin = dp[used][j];\n\t\t\t\t}\n\t\t\t}\n\t\t\t//minimumは？\n\t\t\t//結果はdp[used][n]?\n\t\t\tSystem.out.println(min);\n\n\t\t\tn = sc.nextInt();\n\t\t\tm = sc.nextInt();\n\t\t}\n\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Main {\n\n\tScanner sc = new Scanner(System.in);\n\tpublic void run() {\n\t\twhile(sc.hasNext()){\n\t\t\tint n = sc.nextInt();\n\t\t\tint m = sc.nextInt();\n\t\t\tif(n == 0 && m == 0)break;\n\t\t\telse calc(n, m);\n\t\t\t\n\t\t}\n\t}\n\tpublic void calc(int n, int m){\n\t\tcode = new int[m];\n\t\txs = new int[n];\n\t\t memo = new int[n][256];\n\t\t for(int i = 0; i < n; i++){\n\t\t\t Arrays.fill(memo[i], Integer.MAX_VALUE); \n\t\t }\n\t\tfor(int i = 0; i < m; i++){\n\t\t\tcode[i] = sc.nextInt();\n\t\t}\n\t\tfor(int i = 0; i < n; i++){\n\t\t\txs[i] = sc.nextInt();\n\t\t}\n\t\t\n\t\tint t = iter(128, 0, n, m);\n\t\tSystem.out.println(t);\n\t\t\n\t}\n\tint[] code;\n\tint[] xs;\n\tint[][] memo;\n\t\n\tpublic int iter(int y, int i, int n, int m){\n\t\tif(i >= n) \n\t\t\treturn 0;\n\t\telse if(memo[i][y] != Integer.MAX_VALUE) \n\t\t\treturn memo[i][y];\n\t\telse{\n\t\t\tint ans = Integer.MAX_VALUE;\n\t\t\tfor(int j = 0; j < m; j++){\n\t\t\t\tint t = y + code[j];\n\t\t\t\tif(t > 255) t = 255;\n\t\t\t\tif(t < 0) t = 0;\n\t\t\t\tans = Math.min(ans, (xs[i] - t)*(xs[i] - t) + iter(t, i+1, n,m));\n\t\t\t}\n\t\t\tmemo[i][y] = ans;\n\t\t\treturn ans;\n\t\t}\n\t}\n\t\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Main {\n\t\n\tpublic static int[][] DP = new int[20001][256];\n\t\n\tpublic static void main(String[] args) {\n\t\tScanner sc = new Scanner(System.in);\n\n\t\twhile(true){\n\t\t\tfinal int N = sc.nextInt();\n\t\t\tfinal int M = sc.nextInt();\n\t\t\t\n\t\t\tif(N == 0 && M == 0){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\tshort[] data = new short[N];\n\t\t\tshort[] code = new short[M];\n\t\t\t\n\t\t\tfor(int i = 0; i < M; i++){\n\t\t\t\tcode[i] = sc.nextShort();\n\t\t\t}\n\t\t\t\n\t\t\tfor(int i = 0; i < N; i++){\n\t\t\t\tdata[i] = sc.nextShort();\n\t\t\t}\n\t\t\t\n\t\t\tfor(int i = 0; i <= N; i++){\n\t\t\t\tArrays.fill(DP[i], Integer.MAX_VALUE);\n\t\t\t}\n\t\t\t\n\t\t\tDP[0][128] = 0;\n\t\t\tfor(int i = 0; i < N; i++){\n\t\t\t\tfor(int j = 0; j < 256; j++){\n\t\t\t\t\tif(DP[i][j] != Integer.MAX_VALUE){\n\t\t\t\t\t\tfor(int c = 0; c < M; c++){\n\t\t\t\t\t\t\tfinal int next = Math.max(0, Math.min(j + code[c], 255));\n\t\t\t\t\t\t\tfinal int diff = (data[i] - next) * (data[i] - next);\n\t\t\t\t\t\t\tDP[i+1][next] = Math.min(DP[i+1][next], DP[i][j] + diff);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tint min = Integer.MAX_VALUE;\n\t\t\tfor(int i = 0; i < 256; i++){\n\t\t\t\tmin = Math.min(min, DP[N][i]);\n\t\t\t}\n\t\t\t\n\t\t\tSystem.out.println(min);\n\t\t}\n\t\t\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main{\n\n    void solve(){\n\tScanner sc = new Scanner(System.in);\n\n\twhile(true){\n\t    int n = sc.nextInt();\n\t    int m = sc.nextInt();\n\t    if(n==0 && m==0) break;\n\t    int[] c = new int[m];\n\t    for(int i=0; i<m; i++) c[i] = sc.nextInt();\n\t    \n\t    int INF = 1500000000;\n\t    int[][] dp = new int[256][n+1];\n\t    for(int i=0; i<256; i++) Arrays.fill(dp[i], INF);\n\t    dp[128][0] = 0;\n\t    \n\t    for(int i=1; i<=n; i++){\n\t\tint x = sc.nextInt();\n\t\tfor(int j=0; j<256; j++){\n\t\t    if(dp[j][i-1]==INF) continue;\n\t\t    for(int k=0; k<m; k++){\n\t\t\tint newY = j+c[k];\n\t\t\tif(newY<0) newY = 0;\n\t\t\telse if(newY>255) newY = 255;\n\t\t\tdp[newY][i] = Math.min(dp[newY][i], dp[j][i-1]+(newY-x)*(newY-x));\n\t\t    }\n\t\t}\n\t    }\n\t    \n\t    int min = INF;\n\t    for(int i=0; i<256; i++) min = Math.min(min, dp[i][n]);\n\t    \n\t    System.out.println(min);\n\t}\n    }\n\n    public static void main(String[] args){\n\tnew Main().solve();\n    }\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\nimport static java.lang.Math.*;\npublic class Main {\n\tfinal Scanner sc = new Scanner(System.in);\n\tpublic static void main(String[] args) {\n\t\tnew Main().init();\n\t}\n\tvoid init(){\n\t\tnew AOJ2199();\n\t}\n\tfinal int INF=1<<28;\n\t\n\tclass AOJ2199{\n\t\tAOJ2199(){\n\t\t\twhile(sc.hasNext()){\n\t\t\t\tN=sc.nextInt();\n\t\t\t\tM=sc.nextInt();\n\t\t\t\tif((N|M)==0)\tbreak;\n\t\t\t\tsolve();\n\t\t\t}\n\t\t}\n\t\tint N,M;\n\t\tvoid solve(){\n\t\t\tint[] c=new int[M];\n\t\t\tfor(int i=0; i<M; ++i)\tc[i]=sc.nextInt();\n\t\t\tint[] x=new int[N];\n\t\t\tfor(int i=0; i<N; ++i)\tx[i]=sc.nextInt();\n\t\t\t\n\t\t\tint[][] dp=new int[N+1][256];\n\t\t\tfor(int i=0; i<=N; ++i)for(int j=0; j<=255; ++j)\tdp[i][j]=INF;\n\t\t\tdp[0][128]=0;\n\t\t\tfor(int i=1; i<=N; ++i)for(int j=0; j<=255; ++j)for(int k=0; k<M; ++k){\n\t\t\t\tint tmp=max(0, min(255, j+c[k]));\n\t\t\t\tdp[i][tmp]=min(dp[i][tmp], dp[i-1][j]+(x[i-1]-(tmp))*(x[i-1]-(tmp)));\n\t\t\t}\n\t\t\tint ans=INF;\n\t\t\tfor(int i=0; i<=255; ++i)\tans=min(ans, dp[N][i]);\n\t\t\tSystem.out.println(ans);\n\t\t}\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\n\npublic class Main {\n\tpublic static void main(String[] args) {\n\t\ttry {\n\t\t\tScanner sc = new Scanner(System.in);\n\t\t\twhile(true){\n\t\t\t\tint n = sc.nextInt(), m = sc.nextInt();\n\n\t\t\t\tif(n==0 && m==0){\n\t\t\t\t\tsc.close();\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tint[] c = new int[m];\n\t\t\t\tfor (int i=0;i<m;i++){\n\t\t\t\t\tc[i] = sc.nextInt();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tint[] dp = new int[256];\n\t\t\t\tArrays.fill(dp, Integer.MAX_VALUE);\n\t\t\t\tdp[128] = 0;\n\t\t\t\t\n\t\t\t\tfor (int i=0;i<n;i++){\n\t\t\t\t\tint xx = sc.nextInt();\n\t\t\t\t\tint[] dp2 = new int[256];\n\t\t\t\t\tArrays.fill(dp2,Integer.MAX_VALUE);\n\t\t\t\t\tfor (int j=0;j<256;j++){\n\t\t\t\t\t\tif (dp[j] == Integer.MAX_VALUE){\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor (int k=0;k<m;k++){\n\t\t\t\t\t\t\tint next = j + c[k];\n\t\t\t\t\t\t\tif (next > 255) {\n\t\t\t\t\t\t\t\tnext = 255;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (next < 0){\n\t\t\t\t\t\t\t\tnext = 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tint x = dp[j] + (next - xx) * (next - xx);\n\t\t\t\t\t\t\tdp2[next] = Math.min(dp2[next], x);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdp = dp2;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tint min = Integer.MAX_VALUE;\n\t\t\t\tfor (int v : dp) {\n\t\t\t\t\tmin = Math.min(min,v);\n\t\t\t\t}\n\t\t\t\tSystem.out.println(min);\n\t\t\t}\n\t\t\tsc.close();\n\t\t} catch (Exception e) {\n\t\t\te.printStackTrace();\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\npublic class Main {\n\tScanner in = new Scanner(System.in);\n\tpublic static void main(String[] args) {\n\t\tnew Main();\n\t}\n\n\tpublic Main() {\n\t\tnew AOJ2199().doIt();\n\t}\n\t\n\tclass AOJ2199{\n\t\tint n,m;\n\t\tint[] x,c;\n\t\tHashMap<String, Integer> map;\n\t\tint dfs(int y,int sum,int fase){\n\t\t\tif(fase==n)return sum;\n\t\t\tif(map.containsKey(y+\" \"+sum))return map.get(y+\" \"+sum); \n\t\t\tint result = Integer.MAX_VALUE;\n\t\t\tfor(int i=0;i<m;i++){\n\t\t\t\tint a = y+c[i];\n\t\t\t\tif(a<0)a=0;\n\t\t\t\tif(a>255)a=255;\n\t\t\t\tsum += ((x[fase]-a)*(x[fase]-a));\n\t\t\t\tresult = Math.min(result, dfs(a,sum,fase+1));\n\t\t\t\tsum -= ((x[fase]-a)*(x[fase]-a));\n\t\t\t}\n\t\t\tmap.put(y+\" \"+sum,result);\n\t\t\treturn result;\n\t\t}\n\t\t\n\t\tvoid solve(){\n\t\t\tmap = new HashMap<String, Integer>();\n\t\t\tSystem.out.println(dfs(128,0,0));\n\t\t}\n\t\t\n\t\tvoid doIt(){\n\t\t\twhile(in.hasNext()){\n\t\t\t\tn = in.nextInt();\n\t\t\t\tm = in.nextInt();\n\t\t\t\tif(n+m==0)break;\n\t\t\t\tc = new int[m];\n\t\t\t\tx = new int[n];\n\t\t\t\tfor(int i=0;i<m;i++)c[i] = in.nextInt();\n\t\t\t\tfor(int i=0;i<n;i++)x[i] = in.nextInt();\n\t\t\t\tsolve();\n\t\t\t}\n\t\t}\n\t}\n\t\n}"
  },
  {
    "language": "Java",
    "code": "\nimport java.util.*;\nimport java.io.*;\nimport static java.util.Arrays.*;\nimport static java.util.Collections.*;\nimport static java.lang.Math.*;\n\npublic class Main {\n\n\tint INF = 1 << 29;\n\t//long INF = 1L << 62;\n\tdouble EPS = 1e-10;\n\n\tvoid run() {\n\t\tScanner sc = new Scanner(System.in);\n\t\tfor (;;) {\n\t\t\tint n = sc.nextInt(), m = sc.nextInt();\n\t\t\tif ((n|m) == 0) break;\n\t\t\t\n\t\t\tint[] c = new int[m], x = new int[n];\n\t\t\tfor (int i=0;i<m;i++) c[i] = sc.nextInt();\n\t\t\tfor (int i=0;i<n;i++) x[i] = sc.nextInt();\n\t\t\t\n\t\t\tint[][] dp = new int[n+1][256];\n\t\t\tfor (int[] a : dp) fill(a, INF);\n\t\t\t\n\t\t\tdp[0][128] = 0;\n\t\t\t\n\t\t\tfor (int i=0;i<n;i++) for (int j=0;j<256;j++) {\n\t\t\t\tfor (int k=0;k<m;k++) {\n\t\t\t\t\tint next = j + c[k];\n\t\t\t\t\tif (next < 0) next = 0;\n\t\t\t\t\tif (next > 255) next = 255;\n\t\t\t\t\tdp[i+1][next] = min(dp[i+1][next], dp[i][j] + (next - x[i]) * (next - x[i]));\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tint min = INF;\n\t\t\tfor (int i=0;i<256;i++) min = min(min, dp[n][i]);\n\t\t\tSystem.out.println(min);\n\t\t}\n\n\t}\n\n\tvoid debug(Object... os) {\n\t\tSystem.err.println(Arrays.deepToString(os));\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n  \npublic class Main {\n    Scanner sc = new Scanner(System.in);\n  \n    public static void main(String[] args) {\n        new Main(); \n    }\n  \n    public Main() {\n        new aoj2199().doIt();\n    }\n    class aoj2199{\n    \tint dp[][] = new int[20001][256];\n    \tint C[] = new int[16];\n    \tint x[] = new int[20001];\n    \tint MAX = 10000000;\n    \tvoid set(int N,int M){\n    \t\tfor(int i = 0;i <= N;i++){\n    \t\t\tfor(int j = 0;j < 256;j++){\n    \t\t\t\tdp[i][j] = MAX;\n    \t\t\t}\n    \t\t}\n    \t\tfor(int i = 0;i < M;i++)C[i] = sc.nextInt();\n    \t\tfor(int i = 0;i < N;i++)x[i] = sc.nextInt();\n    \t}\n    \tint dp_table(int N,int M){\n    \t\tdp[0][128] = 0;\n    \t\tfor(int i = 0;i < N;i++){\n    \t\t\tfor(int j = 0;j < 256;j++){\n    \t\t\t\tif(dp[i][j] == MAX)continue;\n    \t\t\t\tfor(int k = 0;k < M;k++){\n    \t\t\t\t\tint y = j + C[k];\n    \t\t\t\t\tif(y > 255)y = 255;\n    \t\t\t\t\telse if(y < 0)y = 0;\n    \t\t\t\t\tdp[i+1][y] = Math.min(dp[i+1][y],dp[i][j] + (x[i] - y)*(x[i] - y));\n    \t\t\t\t}\n    \t\t\t}\n    \t\t}\n    \t\tint min = MAX;\n    \t\tfor(int i = 0;i < 256;i++)min = Math.min(min,dp[N][i]);\n    \t\treturn min;\n    \t}\n    \tvoid doIt(){\n    \t\twhile(true){\n    \t\t\tint N = sc.nextInt();\n    \t\t\tint M = sc.nextInt();\n    \t\t\tif(N + M == 0)break;\n    \t\t\tset(N,M);\n    \t\t\tSystem.out.println(dp_table(N,M));\n    \t\t}\n    \t}\n    }\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Arrays;\nimport java.util.Scanner;\n\n//Differential Pulse Code Modulation\npublic class Main{\n\n\tvoid run(){\n\t\tScanner sc = new Scanner(System.in);\n\t\tint INF = 255*255*20000;\n\t\tfor(;;){\n\t\t\tint n = sc.nextInt(), m = sc.nextInt();\n\t\t\tif((n|m)==0)break;\n\t\t\tint[] x = new int[n], c = new int[m];\n\t\t\tfor(int i=0;i<m;i++)c[i]=sc.nextInt();\n\t\t\tfor(int i=0;i<n;i++)x[i]=sc.nextInt();\n\t\t\tint[] dp = new int[256];\n\t\t\tArrays.fill(dp, INF);\n\t\t\tdp[128] = 0;\n\t\t\tfor(int i=0;i<n;i++){\n\t\t\t\tint[] next = new int[256];\n\t\t\t\tArrays.fill(next, INF);\n\t\t\t\tfor(int y=0;y<256;y++){\n\t\t\t\t\tif(dp[y]==INF)continue;\n\t\t\t\t\tfor(int j=0;j<m;j++){\n\t\t\t\t\t\tint nx = y+c[j];\n\t\t\t\t\t\tif(nx<0)nx=0;\n\t\t\t\t\t\tif(255<nx)nx=255;\n\t\t\t\t\t\tint v = dp[y]+(x[i]-nx)*(x[i]-nx);\n\t\t\t\t\t\tnext[nx] = Math.min(next[nx], v);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tdp = next;\n\t\t\t}\n\t\t\tint res = INF;\n\t\t\tfor(int i=0;i<256;i++)res = Math.min(res, dp[i]);\n\t\t\tSystem.out.println(res);\n\t\t}\n\t}\n\t\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException;\nimport java.util.Arrays;\n\npublic class Main {\n\n\tpublic static void main(String[] args) throws IOException {\n\t\twhile (true) {\n\t\t\tint N = nextInt();\n\t\t\tif (N == 0) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tint M = nextInt();\n\n\t\t\tint[] codebook = new int[M];\n\t\t\tfor (int i = 0; i < codebook.length; i++) {\n\t\t\t\tcodebook[i] = nextInt();\n\t\t\t}\n\n\t\t\tint[][] dp = new int[N + 1][256];// i個目の音でy=jになった時の最小値\n\t\t\tfor (int i = 0; i < dp.length; i++) {\n\t\t\t\tArrays.fill(dp[i], Integer.MAX_VALUE);// 全部最大で埋めておく\n\t\t\t}\n\t\t\tdp[0][128] = 0;\n\n\t\t\tfor (int i = 0; i < N; i++) {\n\t\t\t\tint x = nextInt();\n\t\t\t\tfor (int j = 0; j < dp[i].length; j++) {\n\t\t\t\t\tif (dp[i][j] < Integer.MAX_VALUE) {\n\t\t\t\t\t\tint y = j;\n\t\t\t\t\t\tfor (int k = 0; k < codebook.length; k++) {\n\t\t\t\t\t\t\tint nextY = y + codebook[k];\n\t\t\t\t\t\t\tif (nextY < 0) {\n\t\t\t\t\t\t\t\tnextY = 0;\n\t\t\t\t\t\t\t} else if (nextY > 255) {\n\t\t\t\t\t\t\t\tnextY = 255;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdp[i + 1][nextY] = Math.min(\n\t\t\t\t\t\t\t\t\tdp[i][j] + (int) Math.pow(x - nextY, 2),\n\t\t\t\t\t\t\t\t\tdp[i + 1][nextY]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tint ans = Integer.MAX_VALUE;\n\t\t\tfor (int i = 0; i < dp[N].length; i++) {\n\t\t\t\tans = Math.min(ans, dp[N][i]);\n\t\t\t}\n\n\t\t\tSystem.out.println(ans);\n\t\t}\n\n\t}\n\n\tstatic int nextInt() {\n\t\tint c;\n\t\ttry {\n\t\t\tc = System.in.read();\n\t\t\twhile (c != '-' && (c < '0' || c > '9'))\n\t\t\t\tc = System.in.read();\n\t\t\tif (c == '-')\n\t\t\t\treturn -nextInt();\n\t\t\tint res = 0;\n\t\t\twhile (c >= '0' && c <= '9') {\n\t\t\t\tres = res * 10 + c - '0';\n\t\t\t\tc = System.in.read();\n\t\t\t}\n\t\t\treturn res;\n\t\t} catch (IOException e) {\n\t\t\te.printStackTrace();\n\t\t}\n\t\treturn -1;\n\t}\n\n\tstatic char nextChar() {\n\t\ttry {\n\t\t\tint b = System.in.read();\n\t\t\twhile (b != -1 && (b == ' ' || b == '\\r' || b == '\\n'))\n\t\t\t\t;\n\t\t\tif (b == -1)\n\t\t\t\treturn 0;\n\t\t\treturn (char) b;\n\t\t} catch (IOException e) {\n\t\t}\n\t\treturn 0;\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main {\n\tfinal int INF = 1 << 24;\n\tprivate void doit(){\n\t\tScanner sc = new Scanner(System.in);\n\t\twhile(true){\n\t\t\tint n = sc.nextInt();\n\t\t\tint m = sc.nextInt();\n\t\t\tif(n == 0 && m == 0) break;\n\t\t\tint [] nlist = new int[n];\n\t\t\tint [] mlist = new int[m];\n\t\t\tfor(int i=0; i < m; i++){\n\t\t\t\tmlist[i] = sc.nextInt();\n\t\t\t}\n\t\t\tfor(int i = 0; i < n; i++){\n\t\t\t\tnlist[i] = sc.nextInt();\n\t\t\t}\n\t\t\tlong [][] dp = new long[n+1][256];\n\t\t\tfor(int i=0; i <= n; i++){\n\t\t\t\tArrays.fill(dp[i], INF);\n\t\t\t}\n\t\t\tdp[0][128] = 0;\n\t\t\tfor(int i=0; i < n; i++){\n\t\t\t\tfor(int j=0; j < 256;j++){\n\t\t\t\t\tif(dp[i][j] >= INF) continue;\n\t\t\t\t\t\n\t\t\t\t\tfor(int k=0; k < m; k++){\n\t\t\t\t\t\tint ind = j +mlist[k];\n\t\t\t\t\t\tif(ind < 0) ind = 0;\n\t\t\t\t\t\telse if(ind > 255) ind = 255;\n\t\t\t\t\t\tlong value = dp[i][j] + (nlist[i] - ind) * (nlist[i] - ind);\n\t\t\t\t\t\tdp[i+1][ind] = Math.min(dp[i+1][ind], value);\n\t\t\t\t\t\t//System.out.println(\"dp=\" + dp[i+1][ind] + \" \" + (i+1));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n//\t\t\tfor(int i=0; i <= n; i++){\n//\t\t\t\tfor(int j=0; j < 255; j++){\n//\t\t\t\t\tif(dp[i][j] == INF){\n//\t\t\t\t\t\tSystem.out.print(\"INF \");\n//\t\t\t\t\t}\n//\t\t\t\t\telse{\n//\t\t\t\t\t\tSystem.out.print(dp[i][j] + \" \");\n//\t\t\t\t\t}\n//\t\t\t\t\t\n//\t\t\t\t}\n//\t\t\t\tSystem.out.println();\n//\t\t\t}\n\t\t\tlong ans = INF;\n\t\t\tfor(int i=0; i < 256; i++){\n\t\t\t\tans = Math.min(ans, dp[n][i]);\n\t\t\t}\n\t\t\tSystem.out.println(ans);\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tMain obj = new Main();\n\t\tobj.doit();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main {\n\tfinal int INF = Integer.MAX_VALUE / 2;\n\tprivate void doit(){\n\t\tScanner sc = new Scanner(System.in);\n\t\twhile(true){\n\t\t\tint n = sc.nextInt();\n\t\t\tint m = sc.nextInt();\n\t\t\tif(n == 0 && m == 0) break;\n\t\t\tint [] nlist = new int[n];\n\t\t\tint [] mlist = new int[m];\n\t\t\tfor(int i=0; i < m; i++){\n\t\t\t\tmlist[i] = sc.nextInt();\n\t\t\t}\n\t\t\tfor(int i = 0; i < n; i++){\n\t\t\t\tnlist[i] = sc.nextInt();\n\t\t\t}\n\t\t\tint [][] dp = new int[n+1][256];\n\t\t\tfor(int i=0; i <= n; i++){\n\t\t\t\tfor(int j=0; j < 256; j++){\n\t\t\t\tdp[i][j] = INF;\n\t\t\t\t}\n\t\t\t}\n\t\t\tdp[0][128] = 0;\n\t\t\tfor(int i=0; i < n; i++){\n\t\t\t\tfor(int j=0; j < 256;j++){\n\t\t\t\t\t//if(dp[i][j] == INF) continue;\n\t\t\t\t\t\n\t\t\t\t\tfor(int k=0; k < m; k++){\n\t\t\t\t\t\tint ind = j +mlist[k];\n\t\t\t\t\t\tif(ind < 0) ind = 0;\n\t\t\t\t\t\tif(ind > 255) ind = 255;\n\t\t\t\t\t\t\n\t\t\t\t\t\tint diff = ind - nlist[i];\n\t\t\t\t\t\tint value = dp[i][j] + (diff * diff);\n\t\t\t\t\t\tdp[i+1][ind] = Math.min(dp[i+1][ind], value);\n\t\t\t\t\t\t//System.out.println(\"dp=\" + dp[i+1][ind] + \" \" + (i+1));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n//\t\t\tfor(int i=0; i <= n; i++){\n//\t\t\t\tfor(int j=0; j < 255; j++){\n//\t\t\t\t\tif(dp[i][j] == INF){\n//\t\t\t\t\t\tSystem.out.print(\"INF \");\n//\t\t\t\t\t}\n//\t\t\t\t\telse{\n//\t\t\t\t\t\tSystem.out.print(dp[i][j] + \" \");\n//\t\t\t\t\t}\n//\t\t\t\t\t\n//\t\t\t\t}\n//\t\t\t\tSystem.out.println();\n//\t\t\t}\n\t\t\tint ans = INF;\n\t\t\tfor(int i=0; i < 256; i++){\n\t\t\t\tans = Math.min(ans, dp[n][i]);\n\t\t\t}\n\t\t\tSystem.out.println(ans);\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tMain obj = new Main();\n\t\tobj.doit();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.BitSet;\nimport java.util.PriorityQueue;\nimport java.util.Queue;\nimport java.util.Scanner;\n\npublic class Main{\n\tpublic static void main(String[] args){\n\t\tScanner in = new Scanner(System.in);\n\t\twhile(true){\n\t\t\tint n = in.nextInt();\n\t\t\tint m = in.nextInt();\n\t\t\tif(n == 0) return;\n\t\t\tint[] c = new int[m];\n\t\t\tfor(int i=0; i<m; i++){\n\t\t\t\tc[i] = in.nextInt();\n\t\t\t}\n\t\t\tint[] x = new int[n];\n\t\t\tfor(int i=0; i<n; i++){\n\t\t\t\tx[i] = in.nextInt();\n\t\t\t}\n\t\t\tQueue<Node> qu = new PriorityQueue<Node>();\n\t\t\tBitSet used = new BitSet(n*600);\n\t\t\tqu.add(new Node(0, 128, 0));\n//\t\t\tint bestX = 0;\n//\t\t\tlong bestCost = 1L<<60; \n\t\t\twhile(!qu.isEmpty()){\n\t\t\t\tNode nd = qu.poll();\n\t\t\t\tif(used.get(nd.id)) continue;\n\t\t\t\tif(nd.x == n){\n\t\t\t\t\tSystem.out.println(nd.cost);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n//\t\t\t\tif(nd.x > bestX){\n//\t\t\t\t\tbestX = nd.x;\n//\t\t\t\t\tbestCost = nd.cost;\n//\t\t\t\t}else if(nd.x == bestX){\n//\t\t\t\t\tbestCost = Math.min(bestCost, nd.cost);\n//\t\t\t\t}\n\t\t\t\tused.set(nd.id);\n\t\t\t\tfor(int i=0; i<m; i++){\n\t\t\t\t\tint nh = nd.h + c[i];\n\t\t\t\t\tif(nh > 255) nh = 255;\n\t\t\t\t\telse if(nh < 0) nh = 0;\n\t\t\t\t\tqu.add(new Node(nd.x+1, nh, nd.cost + sq(x[nd.x]-nh)));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tpublic static int sq(int a){\n\t\treturn a*a;\n\t}\n}\n\nclass Node implements Comparable<Node>{\n\tint x;\n\tint id;\n\tint h;\n\tlong cost;\n\tpublic Node(int x, int h, long cost) {\n\t\tthis.x = x;\n\t\tthis.h = h;\n\t\tid = x*256+h;\n\t\tthis.cost = cost;\n\t}\n\t\n\t@Override\n\tpublic int compareTo(Node o) {\n\t\tlong sign = cost - o.cost;\n\t\t// AOJ??§compare???????????????????????§??????\n//\t\treturn Long.compare(cost, o.cost);\n\t\treturn x != o.x ? x - o.x : sign < 0 ? -1 : sign == 0 ? 0 : 1;\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.ArrayDeque;\nimport java.util.Scanner;\n\n\n\npublic class Main{\n    static Scanner sc = new Scanner(System.in);\n\n    static class Value{\n        int num;\n        int value;\n        int ans;\n        public Value(int num, int value,int ans) {\n            this.num = num;\n            this.value = value;\n            this.ans = ans;\n        }\n    }\n\n    public static void main(String[] args) {\n        while (true){\n            int N = sc.nextInt();\n            int M = sc.nextInt();\n            if(N==0 && M==0) break;\n\n            int min = Integer.MAX_VALUE;\n\n            ArrayDeque<Value> stack = new ArrayDeque<Value>();\n\n            int[] Cm = new int[M];\n            for (int i=0; i<M;i++){\n                Cm[i] = sc.nextInt();\n            }\n            int[] x = new int[N];\n            for (int i=0; i<N ;i++){\n                x[i]=sc.nextInt();\n            }\n\n            stack.offer(new Value(0,128,0));\n\n            while (!stack.isEmpty()){\n                Value current = stack.poll();\n\n                if(current.ans>min) continue;\n                if (current.num==N){\n                    if(current.ans<min) min=current.ans;\n                    continue;\n                }\n\n                for (int i=0;i<M;i++){\n                    int thisValue = current.value+Cm[i];\n                    if(thisValue<0) thisValue=0;\n                    else if (thisValue>255) thisValue=255;\n\n                    int dif=Math.abs(x[current.num]-thisValue);\n                    stack.push(new Value(current.num+1,thisValue,current.ans+(dif*dif)));\n                }\n            }\n\n            System.out.println(min);\n\n        }\n    }\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Main {\n\n\tScanner sc = new Scanner(System.in);\n\tpublic void run() {\n\t\twhile(sc.hasNext()){\n\t\t\tn = sc.nextInt();\n\t\t\tm = sc.nextInt();\n\t\t\tif(n == 0 && m == 0)break;\n\t\t\telse calc(n, m);\n\t\t\t\n\t\t}\n\t}\n\tpublic void calc(int n, int m){\n\t\tcode = new int[m];\n\t\txs = new int[n+1];\n\t\t memo = new int[n+1][256];\n\t\t for(int i = 0; i < n+1; i++){\n\t\t\t Arrays.fill(memo[i], Integer.MAX_VALUE); \n\t\t }\n\t\tfor(int i = 0; i < m; i++){\n\t\t\tcode[i] = sc.nextInt();\n\t\t}\n\t\tfor(int i = 1; i < n+1; i++){\n\t\t\txs[i] = sc.nextInt();\n\t\t}\n\t\t\n\t\tmemo[0][128] = 0;\n\t\tfor(int i = 1; i < n+1; i++){\n\t\t\tfor(int y = 0; y < 256; y++){\n\t\t\t\tif(memo[i-1][y] != Integer.MAX_VALUE){\n\t\t\t\t\tfor(int j = 0; j < m; j++){\n\t\t\t\t\t\tint t = y + code[j];\n\t\t\t\t\t\tif(t > 256) t = 255;\n\t\t\t\t\t\tif(t < 0) t = 0;\n\t\t\t\t\t\tint me1= memo[i][t];\n\t\t\t\t\t\tint me2 = memo[i-1][y] + (xs[i] - t) * (xs[i] - t);\n\t\t\t\t\t\tmemo[i][t] = Math.min(me1, me2);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = Integer.MAX_VALUE;\n\t\tfor(int y = 0; y < 256; y++){\n\t\t\tans = Math.min(ans, memo[n][y]);\n\t\t}\n\t\tSystem.out.println(ans);\n\t\t\n\t}\n\tint n;\n\tint m;\n\tint[] code;\n\tint[] xs;\n\tint[][] memo;\n\t\n\t/*public int iter(int y, int i){\n\t\tif(i >= n) \n\t\t\treturn 0;\n\t\telse if(memo[i][y] != Integer.MAX_VALUE) \n\t\t\treturn memo[i][y];\n\t\telse{\n\t\t\tfor(int j = 0; j < m; j++){\n\t\t\t\tint t = y + code[j];\n\t\t\t\tif(t > 255) t = 255;\n\t\t\t\tif(t < 0) t = 0;\n\t\t\t\tmemo[i][y] = Math.min(memo[i][y], (xs[i] - t)*(xs[i] - t) + iter(t, i+1));\n\t\t\t}\n\t\t\treturn memo[i][y];\n\t\t}\n\t}*/\n\t\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\npublic class Main\n{\n\tint N,M;\n\tint[] C,x;\n\tint[][] dp;\n\tpublic int dfs(int now,int prev)\n\t{\n\t\tif(now >= N)return 0;\n\t\tif(dp[now][prev + 255] != Integer.MIN_VALUE)return dp[now][prev + 255];\n\t\tint ret = Integer.MAX_VALUE;\n\t\tfor(int i = 0;i < M;i++)\n\t\t{\n\t\t\tint next = prev + C[i];\n\t\t\tif(next < 0)next = 0;\n\t\t\tif(next > 255)next = 255;\n\t\t\tret = Math.min(ret,dfs(now + 1,next) + (x[now] - next)*(x[now] - next));\n\t\t}\n\t\tdp[now][prev + 255] = ret;\n\t\treturn dp[now][prev + 255];\n\t}\n\tpublic void solve()\n\t{\n\t\tScanner cin = new Scanner(System.in);\n\t\twhile(true)\n\t\t{\n\t\t\tN = cin.nextInt();\n\t\t\tM = cin.nextInt();\n\t\t\tif(N == 0 && M == 0)break;\n\t\t\tC = new int[M];\n\t\t\tx = new int[N];\n\t\t\tdp = new int[N + 1][520];\n\t\t\tfor(int i = 0;i < M;i++)C[i] = cin.nextInt();\n\t\t\tfor(int i = 0;i < N;i++)x[i] = cin.nextInt();\n\t\t\tfor(int i = 0;i <= N;i++)for(int j =0;j < 520;j++)dp[i][j] = Integer.MIN_VALUE;\n\t\t\tSystem.out.println(dfs(0,128));\n\t\t}\n\t\t\n\t\t\n\t}\n\tpublic static void main(String[] args)\n\t{\n\t\tnew Main().solve();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.*;\nimport java.util.*;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\nimport java.lang.ArrayIndexOutOfBoundsException;\nimport java.math.BigInteger;\n\nimport javax.script.AbstractScriptEngine;\n\n\n/**\n * @author yoshikyoto\n */\nclass Main{\n\t// public static Graph g;\n\tstatic int[][] dp = new int[20000][520];\n\tstatic int inf = 1<<28;\n\n\tpublic static void main(String[] args) throws Exception{\n\t\tBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n\t\twhile(true){\n\t\t\tString[] in = br.readLine().split(\" \");\n\t\t\tint n = Integer.parseInt(in[0]);\n\t\t\tint m = Integer.parseInt(in[1]);\n\t\t\tif(n == 0 && m == 0) break;\n\n\t\t\t// dpテーブルの初期化\n\t\t\tfor(int i = 0; i < m; i++){\n\t\t\t\tfor(int j = 0; j < 520; j++){\n\t\t\t\t\tdp[i][j] = inf;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tint[] c = new int[m];\n\t\t\tint[] x = new int[n];\n\t\t\tfor (int i = 0; i < m; i++) {\n\t\t\t\tc[i] = Integer.parseInt(br.readLine());\n\t\t\t}\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\tx[i] = Integer.parseInt(br.readLine());\n\t\t\t}\n\n\t\t\tArrayDeque<Arg> q = new ArrayDeque<Arg>();\n\t\t\tq.addLast(new Arg(-1, 128, 0));\n\n\t\t\tint ans = inf;\n\n\t\t\twhile(q.size() > 0){\n\t\t\t\tArg a = q.pollFirst();\n\t\t\t\tif(a.time != -1 && dp[a.time][a.val] < a.sum) continue;\n\t\t\t\tfor(int i = 0; i < m; i++){\n\t\t\t\t\tint time = a.time + 1;\n\t\t\t\t\t// 次の値\n\t\t\t\t\tint val = a.val + c[i];\n\t\t\t\t\tval = Math.max(val, -255);\n\t\t\t\t\tval = Math.min(val, 255);\n\t\t\t\t\t// 誤差\n\t\t\t\t\tint d = sq(val - x[a.time+1]);\n\t\t\t\t\tint sum = a.sum + d;\n\n\t\t\t\t\tif(a.time + 1 < n - 1){\n\t\t\t\t\t\tArg next = new Arg(time, val, sum);\n\t\t\t\t\t\tdp[time][val] = Math.min(dp[time][val], sum);\n\t\t\t\t\t\tq.addLast(next);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tans = Math.min(ans, sum);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(ans);\n\t\t}\n\t}\n\n\tpublic static int sq(int i) {\n\t\treturn i * i;\n\t}\n\n\tpublic static double sq(double d) {\n\t\treturn d * d;\n\t}\n}\n\nclass Arg{\n\tint time, val, sum;\n\tArg(int t, int v, int s){\n\t\ttime = t;\n\t\tval = v;\n\t\tsum = s;\n\t}\n\tpublic void print(){\n\t\tSystem.out.println(time + \" \" + val + \" \" + sum);\n\t}\n}\n\n\n\n\n// --- ここから下はライブラリ ----------\n/**\n * MyUtil\n * @author yoshikyoto\n */\nclass MyUtil {\n\tpublic static int[] cp(int[] a){\n\t\tint[] b = new int[a.length];\n\t\tfor(int i = 0; i < a.length; i++) b[i] = a[i];\n\t\treturn b;\n\t}\n\tpublic static int toInt(boolean[] a){\n\t\tint pow = 1, ret = 0, l = a.length;\n\t\tfor(int i = 0; i < l; i++){\n\t\t\tif(a[i]) ret += pow;\n\t\t\tpow *= 2;\n\t\t}\n\t\treturn ret;\n\t}\n\tstatic BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n\tpublic static int ins[];\n\tpublic static int[] readIntMap() throws IOException{return parseInt(readLine().split(\" \"));}\n\tpublic static int readIntMap(int i) throws Exception{\n\t\tif(i == 0) ins = readIntMap();\n\t\treturn ins[i];\n\t}\n\tpublic static int[][] readIntMap(int n, int m) throws IOException{\n\t\tint[][] ret = new int[n][];\n\t\tfor(int i = 0; i < n; i++) ret[i] = readIntMap();\n\t\treturn ret;\n\t}\n\tpublic static int[] readIntToMap(int n) throws IOException{\n\t\tint[] ret = new int[n];\n\t\tfor(int i = 0; i < n; i++) ret[i] = readInt();\n\t\treturn ret;\n\t}\n\tpublic static int[] readNoDistIntMap() throws IOException{\n\t\tString[] strs = readLine().split(\"\");\n\t\tint l = strs.length;\n\t\tint[] ret = new int[l-1];\n\t\tfor(int i = 1; i < l; i++)\n\t\t\tret[i-1] = parseInt(strs[i]);\n\t\treturn ret;\n\t}\n\tpublic static String readLine() throws IOException{return br.readLine();}\n\tpublic static int readInt() throws IOException{return Integer.parseInt(br.readLine());}\n\tpublic static int[] parseInt(String[] arr){\n\t\tint[] res = new int[arr.length];\n\t\tfor(int i = 0; i < arr.length; i++)res[i] = Integer.parseInt(arr[i]);\n\t\treturn res;\n\t}\n\tpublic static double[] parseDouble(String[] arr){\n\t\tdouble[] res = new double[arr.length];\n\t\tfor(int i = 0; i < arr.length; i++)res[i] = Double.parseDouble(arr[i]);\n\t\treturn res;\n\t}\n\tpublic static boolean[] parseBool(String[] arr){\n\t\tint[] t = parseInt(arr);\n\t\tboolean[] res = new boolean[t.length];\n\t\tfor(int i = 0; i < t.length; i++){\n\t\t\tif(t[i] == 1){res[i] = true;\n\t\t\t}else{res[i] = false;}\n\t\t}\n\t\treturn res;\n\t}\n\tpublic static int parseInt(Object o){\n\t\treturn Integer.parseInt(o.toString());\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class Main {\n\n\tScanner sc = new Scanner(System.in);\n\tpublic void run() {\n\t\twhile(sc.hasNext()){\n\t\t\tint n = sc.nextInt();\n\t\t\tint m = sc.nextInt();\n\t\t\tif(n == 0 && m == 0)break;\n\t\t\telse calc(n, m);\n\t\t\t\n\t\t}\n\t}\n\tpublic void calc(int n, int m){\n\t\tcode = new int[m];\n\t\txs = new int[n];\n\t\tfor(int i = 0; i < m; i++){\n\t\t\tcode[i] = sc.nextInt();\n\t\t}\n\t\tfor(int i = 0; i < n; i++){\n\t\t\txs[i] = sc.nextInt();\n\t\t}\n\t\tmin = Integer.MAX_VALUE;\n\t\titer(128, 0, n, m, 0);\n\t\tSystem.out.println(min);\n\t}\n\tint[] code;\n\tint[] xs;\n\tint min;\n\n\tpublic void iter(int y, int i, int n, int m, int sum){\n\t\tif(i == n){\n\t\t\tif(min > sum) min = sum;\n\t\t}\n\t\telse {\n\t\t\tfor(int j = 0; j < m; j++){\n\t\t\t\tint t = y + code[j];\n\t\t\t\tif(t < 0) t = 0;\n\t\t\t\tif(t > 255) t = 255;\n\t\t\t\tint s = sum + (xs[i] - t) * (xs[i] - t);\n\t\t\t\titer(t, i+1, n, m, s);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.awt.geom.Point2D;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.*;\nimport java.util.function.BiFunction;\nimport java.util.function.Function;\nimport java.util.function.Supplier;\n\npublic class Main {\n  final static int INF = 1 << 28;\n  final static long MOD = 1_000_000_007;\n  final static double GOLDEN_RATIO = (1.0 + Math.sqrt(5)) / 2.0;\n  Scanner sc = new Scanner(System.in);\n\n  public static void main(String[] args) {\n    new Main().run();\n  }\n\n  long pow2(long diff) {\n    return diff * diff;\n  }\n\n  void run() {\n    for (; ; ) {\n      int n = ni();\n      int m = ni();\n      if (n == 0) {\n        break;\n      }\n      int[] c = new int[m];\n      for (int i = 0; i < m; ++i) {\n        c[i] = ni();\n      }\n      int[] x = new int[n];\n      for (int i = 0; i < n; ++i) {\n        x[i] = ni();\n      }\n      boolean[][] done = new boolean[n + 1][256];\n      long[][] dp = new long[n + 1][256];\n      for (int i = 0; i <= n; ++i) {\n        Arrays.fill(dp[i], Long.MAX_VALUE);\n      }\n      done[0][128] = true;\n      dp[0][128] = 0;\n      for (int i = 0; i < n; ++i) {\n        for (int j = 0; j < 256; ++j) {\n          if (!done[i][j]) {\n            continue;\n          }\n          for (int k = 0; k < m; ++k) {\n            int next = j + c[k];\n            next = Math.max(next, 0);\n            next = Math.min(next, 255);\n            long diff = pow2(x[i] - next);\n            done[i + 1][next] = true;\n            dp[i + 1][next] = Math.min(dp[i + 1][next], dp[i][j] + diff);\n          }\n        }\n      }\n      long min = Long.MAX_VALUE;\n      for (int i = 0; i < 256; ++i) {\n        min = Math.min(min, dp[n][i]);\n      }\n\n      System.out.println(min);\n    }\n  }\n\n  int ni() {\n    return Integer.parseInt(sc.next());\n  }\n\n  void debug(Object... os) {\n    System.err.println(Arrays.deepToString(os));\n  }\n\n  /**\n   * ??????????????????????????????\n   *\n   * @return a ??¨ b ????????§??¬?´???°\n   */\n  long gcd(long a, long b) {\n    if (b == 0) {\n      return a;\n    }\n    return gcd(b, a % b);\n  }\n\n  /**\n   * ????????????????????????????????????\n   *\n   * @return mx + ny = gcd(m, n)??¨???????????????(x, y)?????????\n   */\n  Pair<Long, Long> gcd_ex(long m, long n) {\n    long[][] mat = _gcd_ex(m, n);\n    return new Pair<>(mat[0][0], mat[0][1]);\n  }\n\n  long[][] _gcd_ex(long m, long n) {\n    if (n == 0) {\n      return new long[][]{{1, 0}, {0, 1}};\n    }\n    long k = m / n;\n    long[][] K = new long[][]{{0, 1}, {1, -k}};\n    long[][] r = _gcd_ex(n, m % n);\n    long[][] dst = new long[2][2];\n    for (int y = 0; y < 2; ++y)\n      for (int x = 0; x < 2; ++x)\n        for (int i = 0; i < 2; ++i)\n          dst[y][x] += r[y][i] * K[i][x];\n    return dst;\n  }\n\n  /**\n   * ??°?????????2???????????¨??????????????????????£?\n   *\n   * @return a^r (mod 1,000,000,007)\n   */\n  long pow(long a, long r) {\n    long sum = 1;\n    while (r > 0) {\n      if ((r & 1) == 1) {\n        sum *= a;\n        sum %= MOD;\n      }\n      a *= a;\n      a %= MOD;\n      r >>= 1;\n    }\n    return sum;\n  }\n\n  /**\n   * ???????????????\n   * O(n)\n   *\n   * @return {}_nC_r\n   */\n  long C(int n, int r) {\n    long sum = 1;\n    for (int i = n; 0 < i; --i) {\n      sum *= i;\n      sum %= MOD;\n    }\n    long s = 1;\n    for (int i = r; 0 < i; --i) {\n      s *= i;\n      s %= MOD;\n    }\n    sum *= pow(s, MOD - 2);\n    sum %= MOD;\n\n    long t = 1;\n    for (int i = n - r; 0 < i; --i) {\n      t *= i;\n      t %= MOD;\n    }\n    sum *= pow(t, MOD - 2);\n    sum %= MOD;\n\n    return sum;\n  }\n\n  /**\n   * ??????????????¢?´¢\n   *\n   * @param left  ??????\n   * @param right ??????\n   * @param f     ??¢?´¢????????¢??°\n   * @param comp  ??????????????¢??°?????¢?´¢????????¨?????????Comparator.comparingDouble(Double::doubleValue)\n   *              ??????????????¢??°?????¢?´¢????????¨?????????Comparator.comparingDouble(Double::doubleValue).reversed()\n   * @return ?\\?????????§?¨?x\n   */\n  double goldenSectionSearch(double left, double right, Function<Double, Double> f, Comparator<Double> comp) {\n    double c1 = divideInternally(left, right, 1, GOLDEN_RATIO);\n    double c2 = divideInternally(left, right, GOLDEN_RATIO, 1);\n    double d1 = f.apply(c1);\n    double d2 = f.apply(c2);\n    while (right - left > 1e-9) {\n      if (comp.compare(d1, d2) > 0) {\n        right = c2;\n        c2 = c1;\n        d2 = d1;\n        c1 = divideInternally(left, right, 1, GOLDEN_RATIO);\n        d1 = f.apply(c1);\n      } else {\n        left = c1;\n        c1 = c2;\n        d1 = d2;\n        c2 = divideInternally(left, right, GOLDEN_RATIO, 1);\n        d2 = f.apply(c2);\n      }\n    }\n    return right;\n  }\n\n  /**\n   * [a,b]???m:n???????????????????????????\n   */\n  double divideInternally(double a, double b, double m, double n) {\n    return (n * a + m * b) / (m + n);\n  }\n\n  /**\n   * http://alexbowe.com/popcount-permutations/\n   * bit????????£???????????°????°?????????????????????????????????¨???????????????\n   * ex)\n   * <pre>\n   * for (int i = 0; i < 25; ++i) {\n   *   int bits = (1 << i) - 1;\n   *   long m = C(25, num);\n   *   for (j = 0; j < m; ++j) {\n   *     ...(25???????????????i???bit????????£?????????)\n   *     if (bits != 0)\n   *       bits = next_perm(bits);\n   *   }\n   * }\n   * </pre>\n   *\n   * @param v ?????¨???bit???\n   * @return ?¬????bit???\n   */\n  int next_perm(int v) {\n    int t = (v | (v - 1)) + 1;\n    return t | ((((t & -t) / (v & -v)) >> 1) - 1);\n  }\n\n  /**\n   * from http://gihyo.jp/dev/serial/01/geometry part 6\n   */\n  static class Line {\n    double a;\n    double b;\n    double c;\n\n    /**\n     * ?????¬??¢??????????????????????????´??????????????????\n     *\n     * @param a x????????°\n     * @param b y????????°\n     * @param c ?????°???\n     */\n    Line(double a, double b, double c) {\n      this.a = a;\n      this.b = b;\n      this.c = c;\n    }\n\n    /**\n     * 2???(x1, y1), (x2, y2)???????????´??????????????????\n     *\n     * @param x1 1?????????x??§?¨?\n     * @param y1 1?????????y??§?¨?\n     * @param x2 2?????????x??§?¨?\n     * @param y2 2?????????y??§?¨?\n     * @return ??´???\n     */\n    static Line fromPoints(double x1, double y1, double x2, double y2) {\n      double dx = x2 - x1;\n      double dy = y2 - y1;\n      return new Line(dy, -dx, dx * y1 - dy * x1);\n    }\n\n    /**\n     * ?????????????????´?????¨??????????????????\n     *\n     * @param l ??´???\n     * @return ?????????2??´?????????????????´??????null\n     */\n    Point2D getIntersectionPoint(Line l) {\n      double d = a * l.b - l.a * b;\n      if (d == 0.0) {\n        return null;\n      }\n      double x = (b * l.c - l.b * c) / d;\n      double y = (l.a * c - a * l.c) / d;\n      return new Point2D.Double(x, y);\n    }\n\n    @Override\n    public String toString() {\n      return \"a = \" + a + \", b = \" + b + \", c = \" + c;\n    }\n  }\n\n  /**\n   * from http://gihyo.jp/dev/serial/01/geometry part 6\n   */\n  static public class LineSegment {\n    double x1;\n    double y1;\n    double x2;\n    double y2;\n\n    LineSegment(double x1, double y1, double x2, double y2) {\n      this.x1 = x1;\n      this.y1 = y1;\n      this.x2 = x2;\n      this.y2 = y2;\n    }\n\n    Line toLine() {\n      return Line.fromPoints(x1, y1, x2, y2);\n    }\n\n    boolean intersects(Line l) {\n      double t1 = l.a * x1 + l.b * y1 + l.c;\n      double t2 = l.a * x2 + l.b * y2 + l.c;\n      return t1 * t2 <= 0;\n    }\n\n    boolean intersects(LineSegment s) {\n      return bothSides(s) && s.bothSides(this);\n    }\n\n    // s???????????????????????´????????????????????????????????????\n    private boolean bothSides(LineSegment s) {\n      double ccw1 = GeomUtils.ccw(x1, y1, s.x1, s.y1, x2, y2);\n      double ccw2 = GeomUtils.ccw(x1, y1, s.x2, s.y2, x2, y2);\n      if (ccw1 == 0 && ccw2 == 0) { // s??¨?????????????????´?????????????????´???\n        // s???????????????1???????????????????????????????????????????????°???s??????????????¨??±?????¨?????????????????§\n        // true?????????\n        return internal(s.x1, s.y1) || internal(s.x2, s.y2);\n      } else { // ????????\\????????´???\n        // CCW???????¬?????????°????????´??????true?????????\n        return ccw1 * ccw2 <= 0;\n      }\n    }\n\n    // (x, y)?????????????????????????????????????????????????????????\n    private boolean internal(double x, double y) {\n      // (x, y)????????????????????????????????????????????????????????\\?????§????????°????????¨?????????\n      return GeomUtils.dot(x1 - x, y1 - y, x2 - x, y2 - y) <= 0;\n    }\n\n    public Point2D getIntersectionPoint(Line l) {\n      if (!intersects(l)) {\n        return null; // ?????????????????´??????null?????????\n      }\n      return l.getIntersectionPoint(toLine());\n    }\n\n    public Point2D getIntersectionPoint(LineSegment s) {\n      if (!intersects(s)) {\n        return null; // ?????????????????´??????null?????????\n      }\n      return s.toLine().getIntersectionPoint(toLine());\n    }\n\n    @Override\n    public String toString() {\n      return \"(\" + x1 + \", \" + y1 + \") - (\" + x2 + \", \" + y2 + \")\";\n    }\n  }\n\n  /**\n   * from http://gihyo.jp/dev/serial/01/geometry part 6\n   */\n  static class GeomUtils {\n    static double cross(double x1, double y1, double x2, double y2) {\n      return x1 * y2 - x2 * y1;\n    }\n\n    static double dot(double x1, double y1, double x2, double y2) {\n      return x1 * x2 + y1 * y2;\n    }\n\n    // (x1, y1) -> (x2, y2) -> (x3, y3) ??¨?????????????????????????¨????????????´????????£?????????\n    // ????¨????????????´???????????????????????´???????????´?????????????????????\n    static double ccw(double x1, double y1, double x2, double y2,\n                      double x3, double y3) {\n      return cross(x2 - x1, y2 - y1, x3 - x2, y3 - y2);\n    }\n\n    static double ccw(Point2D p1, Point2D p2, Point2D p3) {\n      return ccw(p1.getX(), p1.getY(), p2.getX(), p2.getY(), p3.getX(), p3.getY());\n    }\n  }\n\n  /**\n   * http://qiita.com/p_shiki37/items/65c18f88f4d24b2c528b\n   */\n  static class FastScanner {\n    private final InputStream in;\n    private final byte[] buffer = new byte[1024];\n    private int ptr = 0;\n    private int buflen = 0;\n\n    public FastScanner(InputStream in) {\n      this.in = in;\n    }\n\n    private static boolean isPrintableChar(int c) {\n      return 33 <= c && c <= 126;\n    }\n\n    private boolean hasNextByte() {\n      if (ptr < buflen) {\n        return true;\n      } else {\n        ptr = 0;\n        try {\n          buflen = in.read(buffer);\n        } catch (IOException e) {\n          e.printStackTrace();\n        }\n        if (buflen <= 0) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    private int readByte() {\n      if (hasNextByte()) return buffer[ptr++];\n      else return -1;\n    }\n\n    private void skipUnprintable() {\n      while (hasNextByte() && !isPrintableChar(buffer[ptr])) ptr++;\n    }\n\n    public boolean hasNext() {\n      skipUnprintable();\n      return hasNextByte();\n    }\n\n    public String next() {\n      if (!hasNext()) throw new NoSuchElementException();\n      StringBuilder sb = new StringBuilder();\n      int b = readByte();\n      while (isPrintableChar(b)) {\n        sb.appendCodePoint(b);\n        b = readByte();\n      }\n      return sb.toString();\n    }\n\n    public long nextLong() {\n      if (!hasNext()) throw new NoSuchElementException();\n      long n = 0;\n      boolean minus = false;\n      int b = readByte();\n      if (b == '-') {\n        minus = true;\n        b = readByte();\n      }\n      if (b < '0' || '9' < b) {\n        throw new NumberFormatException();\n      }\n      while (true) {\n        if ('0' <= b && b <= '9') {\n          n *= 10;\n          n += b - '0';\n        } else if (b == -1 || !isPrintableChar(b)) {\n          return minus ? -n : n;\n        } else {\n          throw new NumberFormatException();\n        }\n        b = readByte();\n      }\n    }\n  }\n\n  static class Pair<F extends Comparable<F>, S extends Comparable<S>> implements Comparable<Pair<F, S>> {\n    F f;\n    S s;\n\n    Pair() {\n    }\n\n    Pair(F f, S s) {\n      this.f = f;\n      this.s = s;\n    }\n\n    Pair(Pair<F, S> p) {\n      f = p.f;\n      s = p.s;\n    }\n\n    @Override\n    public int compareTo(Pair<F, S> p) {\n      if (f.compareTo(p.f) != 0) {\n        return f.compareTo(p.f);\n      }\n      return s.compareTo(p.s);\n    }\n\n    @Override\n    public int hashCode() {\n      return f.hashCode() ^ s.hashCode();\n    }\n\n    @Override\n    public boolean equals(Object o) {\n      if (this == o) {\n        return true;\n      }\n      if (o == null || this.f == null || this.s == null) {\n        return false;\n      }\n      if (this.getClass() != o.getClass()) {\n        return false;\n      }\n      Pair p = (Pair) o;\n      return this.f.equals(p.f) && this.s.equals(p.s);\n    }\n\n    @Override\n    public String toString() {\n      return \"{\" + f.toString() + \", \" + s.toString() + \"}\";\n    }\n  }\n\n  class BIT<T> {\n    int n;\n    ArrayList<T> bit;\n    BiFunction<T, T, T> bif;\n\n    /**\n     * 1-indexed ???Binary Indexed Tree????§??????????\n     *\n     * @param n   ??????\n     * @param bif ?????¨???????????¢??°\n     * @param sup ?????????\n     */\n    BIT(int n, BiFunction<T, T, T> bif, Supplier<T> sup) {\n      this.n = n;\n      bit = new ArrayList<>(n + 1);\n      for (int i = 0; i < n + 1; ++i) {\n        bit.add(sup.get());\n      }\n      this.bif = bif;\n    }\n\n    /**\n     * i??????????????????v??§??´??°??????\n     *\n     * @param i index\n     * @param v ??°?????????\n     */\n    void set(int i, T v) {\n      for (int x = i; x <= n; x += x & -x) {\n        bit.set(x, bif.apply(bit.get(x), v));\n      }\n    }\n\n    /**\n     * ?????¨??????\n     *\n     * @param defaultValue ?????????\n     * @param i            index\n     * @return [1, i]?????§f????????¨????????????\n     */\n    T reduce(T defaultValue, int i) {\n      T ret = defaultValue;\n      for (int x = i; x > 0; x -= x & -x) {\n        ret = bif.apply(ret, bit.get(x));\n      }\n      return ret;\n    }\n  }\n\n  class SegmentTree<T> {\n    int n;\n    ArrayList<T> dat;\n    BiFunction<T, T, T> bif;\n    Supplier<T> sup;\n\n    /**\n     * 0-indexed ???Segment Tree????§??????????\n     *\n     * @param n_  ????±???????\n     * @param bif ?????¨???????????¢??°\n     * @param sup ?????????\n     */\n    SegmentTree(int n_, BiFunction<T, T, T> bif, Supplier<T> sup) {\n      n = 1;\n      while (n < n_) n *= 2;\n\n      dat = new ArrayList<>(2 * n - 1);\n      for (int i = 0; i < 2 * n - 1; ++i) {\n        dat.add(sup.get());\n      }\n      this.bif = bif;\n      this.sup = sup;\n    }\n\n    /**\n     * k??????????????????v??§??´??°??????\n     *\n     * @param k index\n     * @param v ??°?????????\n     */\n    void set(int k, T v) {\n      k += n - 1;\n      dat.set(k, v);\n      while (k > 0) {\n        k = (k - 1) / 2;\n        dat.set(k, bif.apply(dat.get(k * 2 + 1), dat.get(k * 2 + 2)));\n      }\n    }\n\n    /**\n     * ?????¨??????\n     *\n     * @param l ?????????\n     * @param r ?????????\n     * @return [l, r)??§?????????bif????????¨?????????????????????\n     */\n    T reduce(int l, int r) {\n      return _reduce(l, r, 0, 0, n);\n    }\n\n    T _reduce(int a, int b, int k, int l, int r) {\n      if (r <= a || b <= l) return sup.get();\n      if (a <= l && r <= b) return dat.get(k);\n      T vl = _reduce(a, b, k * 2 + 1, l, (l + r) / 2);\n      T vr = _reduce(a, b, k * 2 + 2, (l + r) / 2, r);\n      return bif.apply(vl, vr);\n    }\n  }\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\n\npublic class Main {\n\n\tpublic static void main(String[] args) {\n\t\tScanner sc = new Scanner(System.in);\n\t\t\n\t\twhile(true){\n\t\t\tint n = sc.nextInt();\n\t\t\tint m = sc.nextInt();\n\t\t\tif(n==0 && m==0) break;\n\t\t\t\n\t\t\tint[] c = new int[m];\n\t\t\tint[] x = new int[n];\n\t\t\tfor(int i=0;i<m;i++) c[i] = sc.nextInt();\n\t\t\tfor(int i=0;i<n;i++) x[i] = sc.nextInt();\n\t\t\t\n\t\t\tint[][] dp = new int[n+1][256];\n\t\t\tfor(int i=0;i<=n;i++){\n\t\t\t\tfor(int j=0;j<256;j++){\n\t\t\t\t\tdp[i][j] = Integer.MAX_VALUE;\n\t\t\t\t}\n\t\t\t}\n\t\t\tdp[0][128] = 0;\n\t\t\t\n\t\t\tfor(int i=1;i<=n;i++){\n\t\t\t\tfor(int j=0;j<256;j++){\n\t\t\t\t\tif(dp[i-1][j]==Integer.MAX_VALUE) continue;\n\t\t\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\t\t\tint num = j + c[k];\n\t\t\t\t\t\tif(num<0) num = 0;\n\t\t\t\t\t\tif(num>255) num = 255;\n\t\t\t\t\t\tint v = dp[i-1][j] + (x[i-1]-num) * (x[i-1]-num);\n\t\t\t\t\t\tdp[i][num] = Math.min(dp[i][num], v);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tint min = Integer.MAX_VALUE;\n\t\t\tfor(int i=0;i<256;i++){\n\t\t\t\tmin = Math.min(min, dp[n][i]);\n\t\t\t}\n\t\t\tSystem.out.println(min);\n\t\t}\n\t\t\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\n\npublic class Main {\n\n\t/**\n\t * @param args\n\t */\n\tpublic static int[] codeBook;\n\tpublic static int[] input;\n\t//size of codeBook\n\tpublic static int m;\n\t//size of input\n\tpublic static int n;\n\t//差分の最大値\n\tpublic static final int max = (255*2)*(255*2)*20000;\n\t\n\tpublic static void main(String[] args) {\n\t\t// TODO 自動生成されたメソッド・スタブ\n\t\tdoIt();\n\t}\n\tpublic static void doIt(){\n\t\tScanner sc = new Scanner(System.in);\n\t\tn = sc.nextInt();\n\t\tm = sc.nextInt();\n\t\twhile(n != 0){\n\t\t\tcodeBook = new int[m];\n\t\t\tfor(int i = 0; i < m; i++){\n\t\t\t\tcodeBook[i] = sc.nextInt();\n\t\t\t}\n\t\t\tinput = new int[n];\n\t\t\tfor(int i = 0; i < n; i++){\n\t\t\t\tinput[i] = sc.nextInt();\n\t\t\t}\n\t\t\tint result = DP(0, 0, max, 128);\n\t\t\tSystem.out.println(result);\n\t\t\t\n\t\t\tn = sc.nextInt();\n\t\t\tm = sc.nextInt();\n\t\t}\n\t\t\n\t}\n\t\n\t//y[count-1]までが既にうまっている場合にその先を決めてその中の最小数を返す関数。\n\t//sum : ここまでの差分の合計値\tmin : 現状分かっている最小値\ty： ひとつ前のy(Yn-1)\n\tpublic static int DP(int count, int sum, int min, int y){\n\t\t//System.out.println(\"count = \" + count + \" , sum = \" + sum+ \" , min = \" + min+ \" , y = \" + y);\n\t\tint minimum = min;\n\t\tint Yn = 0;\n\t\t//最後の場合は一番小さくなるやつを返す\n\t\tif(count == n - 1){\n\t\t\tfor(int i = 0; i < m; i++){\n\t\t\t\tYn = y + codeBook[i];\n\t\t\t\tif(Yn < 0){\n\t\t\t\t\tYn = 0;\n\t\t\t\t}\n\t\t\t\telse if(Yn > 255){\n\t\t\t\t\tYn = 255;\n\t\t\t\t}\n\t\t\t\tint dif = input[count] - Yn;\n\t\t\t\tint res = dif*dif;\n\t\t\t\tif(res < minimum){\n\t\t\t\t\tminimum = res;\n\t\t\t\t}\n\t\t\t}\n\t\t\tminimum += sum;\n\t\t}\n\t\telse{\n\t\t\tfor(int i = 0; i < m; i++){\n\t\t\t\tYn = y + codeBook[i];\n\t\t\t\tif(Yn < 0){\n\t\t\t\t\tYn = 0;\n\t\t\t\t}\n\t\t\t\telse if(Yn > 255){\n\t\t\t\t\tYn = 255;\n\t\t\t\t}\n\t\t\t\tint dif = input[count] - Yn;\n\t\t\t\tint newSum = sum + dif*dif;\n\t\t\t\tif(newSum < minimum){\n\t\t\t\t\tint tmp = DP(count+1, newSum, minimum,Yn);\n\t\t\t\t\tif(tmp < minimum){\n\t\t\t\t\t\tminimum = tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn minimum;\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Main {\n\n\tScanner sc = new Scanner(System.in);\n\tpublic void run() {\n\t\twhile(sc.hasNext()){\n\t\t\tn = sc.nextInt();\n\t\t\tm = sc.nextInt();\n\t\t\tif(n == 0 && m == 0)break;\n\t\t\telse calc(n, m);\n\t\t\t\n\t\t}\n\t}\n\tpublic void calc(int n, int m){\n\t\tcode = new int[m];\n\t\txs = new int[n+1];\n\t\t memo = new int[n+1][256];\n\t\t for(int i = 0; i < n+1; i++){\n\t\t\t Arrays.fill(memo[i], Integer.MAX_VALUE); \n\t\t }\n\t\tfor(int i = 0; i < m; i++){\n\t\t\tcode[i] = sc.nextInt();\n\t\t}\n\t\tfor(int i = 1; i < n+1; i++){\n\t\t\txs[i] = sc.nextInt();\n\t\t}\n\t\t\n\t\tmemo[0][128] = 0;\n\t\tfor(int i = 1; i < n+1; i++){\n\t\t\tfor(int y = 0; y < 256; y++){\n\t\t\t\tif(memo[i-1][y] != Integer.MAX_VALUE){\n\t\t\t\t\tfor(int j = 0; j < m; j++){\n\t\t\t\t\t\tint t = y + code[j];\n\t\t\t\t\t\tif(t > 255) t = 255;\n\t\t\t\t\t\tif(t < 0) t = 0;\n\t\t\t\t\t\tint me1= memo[i][t];\n\t\t\t\t\t\tint me2 = memo[i-1][y] + (xs[i] - t) * (xs[i] - t);\n\t\t\t\t\t\tmemo[i][t] = Math.min(me1, me2);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = Integer.MAX_VALUE;\n\t\tfor(int y = 0; y < 256; y++){\n\t\t\tans = Math.min(ans, memo[n][y]);\n\t\t}\n\t\tSystem.out.println(ans);\n\t\t\n\t}\n\tint n;\n\tint m;\n\tint[] code;\n\tint[] xs;\n\tint[][] memo;\n\t\n\t/*public int iter(int y, int i){\n\t\tif(i >= n) \n\t\t\treturn 0;\n\t\telse if(memo[i][y] != Integer.MAX_VALUE) \n\t\t\treturn memo[i][y];\n\t\telse{\n\t\t\tfor(int j = 0; j < m; j++){\n\t\t\t\tint t = y + code[j];\n\t\t\t\tif(t > 255) t = 255;\n\t\t\t\tif(t < 0) t = 0;\n\t\t\t\tmemo[i][y] = Math.min(memo[i][y], (xs[i] - t)*(xs[i] - t) + iter(t, i+1));\n\t\t\t}\n\t\t\treturn memo[i][y];\n\t\t}\n\t}*/\n\t\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Arrays;\nimport java.util.Scanner;\npublic class Main {\n\t\n\tpublic static void main(String[] args) {\n\t\ttry(Scanner sc = new Scanner(System.in)) {\n\t\t\tint a = 255*255*20000;\n\t\t\twhile(sc.hasNext()) {\n\t\t\t\tint n = sc.nextInt();\n\t\t\t\tint m = sc.nextInt();\n\t\t\t\tif(n+m == 0) break;\n\t\t\t\t\n\t\t\t\tint[] x = new int[n];\n\t\t\t\tint[] c = new int[m];\n\t\t\t\tfor(int i=0; i<m; i++) {\n\t\t\t\t\tc[i] = sc.nextInt();\n\t\t\t\t}\n\t\t\t\tfor(int i=0; i<n; i++) {\n\t\t\t\t\tx[i] = sc.nextInt();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tint[] dp = new int[256];\n\t\t\t\tArrays.fill(dp, a);\n\t\t\t\tdp[128] = 0;\n\t\t\t\tfor(int i=0; i<n; i++) {\n\t\t\t\t\tint[] next = new int[256];\n\t\t\t\t\tArrays.fill(next, a);\n\t\t\t\t\tfor(int y=0; y<256; y++) {\n\t\t\t\t\t\tif(dp[y] != a) break;\n\t\t\t\t\t\tfor(int j=0; j<m; j++) {\n\t\t\t\t\t\t\tint nx = y + c[j];\n\t\t\t\t\t\t\tif(nx < 0) nx = 0;\n\t\t\t\t\t\t\tif(255 < nx) nx = 255;\n\t\t\t\t\t\t\tint z = dp[y] + (x[i]-nx) * (x[i]-nx);\n\t\t\t\t\t\t\tnext[nx] = Math.min(next[nx], z);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdp = next;\n\t\t\t\t}\n\t\t\t\tint min = a;\n\t\t\t\tfor(int i=0; i<256; i++) {\n\t\t\t\t\tmin = Math.min(min, dp[i]);\n\t\t\t\t}\n\t\t\t\tSystem.out.println(min);\n\t\t\t}\n\t\t}\n\t}\n}\n\n"
  },
  {
    "language": "C#",
    "code": "using static System.Math;\nusing static System.Console;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\n\nnamespace Aizu\n{\n\tclass Program\n\t{\n\t\tstatic void Main(string[] args)\n\t\t{\n\t\t\tvar answers = new List<long>();\n\t\t\twhile (true)\n\t\t\t{\n\t\t\t\tvar firstLine = ReadLine().Split(' ').Select(value => int.Parse(value)).ToArray();\n\t\t\t\tvar n = firstLine[0];\n\t\t\t\tvar m = firstLine[1];\n\n\t\t\t\tif(n == 0 && m == 0)\n\t\t\t\t{\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tvar codes = new int[m];\n\t\t\t\tfor (var i = 0; i < m; i++)\n\t\t\t\t{\n\t\t\t\t\tcodes[i] = int.Parse(ReadLine());\n\t\t\t\t}\n\n\t\t\t\tvar signals = new int[n];\n\t\t\t\tfor (var i = 0; i < n; i++)\n\t\t\t\t{\n\t\t\t\t\tsignals[i] = int.Parse(ReadLine());\n\t\t\t\t}\n\n\t\t\t\tvar sums = new long[n + 1, 256];\n\t\t\t\tfor (var i = 0; i <= n; i++)\n\t\t\t\t{\n\t\t\t\t\tfor (var j = 0; j < 256; j++)\n\t\t\t\t\t{\n\t\t\t\t\t\tsums[i, j] = long.MaxValue - 255 * 255;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tsums[0, 128] = 0;\n\n\t\t\t\tfor (var i = 1; i <= n; i++)\n\t\t\t\t{\n\t\t\t\t\tfor (var j = 0; j < 256; j++)\n\t\t\t\t\t{\n\t\t\t\t\t\tforeach (var code in codes)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvar outputSignal = j + code;\n\t\t\t\t\t\t\tif (outputSignal < 0)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\toutputSignal = 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (outputSignal > 255)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\toutputSignal = 255;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tsums[i, outputSignal] = Min(sums[i, outputSignal], sums[i - 1, j] + (long)Pow(outputSignal - signals[i - 1], 2));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar min = long.MaxValue;\n\t\t\t\tfor (var i = 0; i < 256; i++)\n\t\t\t\t{\n\t\t\t\t\tmin = Min(min, sums[n, i]);\n\t\t\t\t}\n\t\t\t\tanswers.Add(min);\n\t\t\t}\n\n\t\t\tanswers.ForEach(value => WriteLine(value));\n\t\t}\n\t}\n}\n\n"
  },
  {
    "language": "C#",
    "code": "using static System.Math;\nusing System;\n\npublic class hello\n{\n    public static void Main()\n    {\n        while (true)\n        {\n            string[] line = Console.ReadLine().Trim().Split(' ');\n            var n = int.Parse(line[0]);\n            var m = int.Parse(line[1]);\n            if (n == 0 && m == 0) break;\n            var c = new int[m];\n            for (int i = 0; i < m; i++) c[i] = int.Parse(Console.ReadLine().Trim());\n            var dp = setDp(n, m, c);\n            getAns(n, m, c, dp);\n        }\n    }\n    static long[,] setDp(int n, int m, int[] c)\n    {\n        var dp = new long[n, 256];\n        for (int i = 0; i < n; i++)\n            for (int j = 0; j < 256; j++)\n                dp[i, j] = long.MaxValue;\n        var x1 = int.Parse(Console.ReadLine().Trim());\n        for (int i = 0; i < m; i++)\n        {\n            var t = 128 + c[i];\n            t = Max(t, 0);\n            t = Min(t, 255);\n            dp[0, t] = (x1 - t) * (x1 - t);\n        }\n        return dp;\n    }\n    static void getAns(int n, int m, int[] c, long[,] dp)\n    {\n        for (int i = 1; i < n; i++)\n        {\n            var x = int.Parse(Console.ReadLine().Trim());\n            for (int j = 0; j < 256; j++)\n                for (int k = 0; k < m; k++)\n                {\n                    var nx = j + c[k];\n                    nx = Max(nx, 0);\n                    nx = Min(nx, 255);\n                    var def2 = (nx - x) * (nx - x);\n                    if (dp[i - 1, j] != long.MaxValue) dp[i, nx] = Min(dp[i, nx], dp[i - 1, j] + def2);\n                }\n        }\n        var ans = long.MaxValue;\n        for (int i = 0; i < 256; i++)\n        {\n            if (dp[n-1, i] != long.MaxValue) ans = Min(ans, dp[n-1, i]);\n        }\n        Console.WriteLine(ans);\n    }\n}\n\n"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\n\nnamespace _2199 {\n    class Program {\n        static void Main(string[] args) {\n            int yNum = 256;\n            int MAX_VAL = (int)Math.Pow(10.0, 6);\n            while(true) {\n                var nm = Console.In.ReadLine().Split(' ').Select(int.Parse).ToArray();\n                var n = nm[0];\n                var m = nm[1];\n                if(n == 0 && m == 0) { break; }\n                var c = new List<int>();\n                var x = new List<int>();\n                x.Add(128);\n                for(int i = 0; i < m; i++) {\n                    c.Add(int.Parse(Console.In.ReadLine()));\n                }\n                for(int i = 0; i < n; i++) {\n                    x.Add(int.Parse(Console.In.ReadLine()));\n                }\n                //var values = new int[n + 1, yNum];\n                var values = new int[n + 1][];\n                for(int i=0; i<values.Length; ++i) { values[i] = new int[yNum]; }\n                for(int i = 0; i < n + 1; i++) {\n                    for(int j = 0; j < yNum; j++) {\n                        values[i][j] = MAX_VAL;\n                    }\n                }\n                values[0][128] = 0;\n                for(int i = 0; i < n; i++) {\n                    for(int j = 0; j < yNum; j++) {\n                        for(int k = 0; k < m; k++) {\n                            if((0 <= j + c[k]) && (j + c[k] <= 255)) {\n                                values[i + 1][j + c[k]] = Math.Min(values[i + 1][j + c[k]], values[i][j] + (j + c[k] - x[i + 1]) * (j + c[k] - x[i + 1]));\n                            }\n                            else if(0 > j + c[k]) {\n                                values[i + 1][0] = Math.Min(values[i + 1][0], values[i][j] + (0 - x[i + 1]) * (0 - x[i + 1]));\n                            }\n                            else {\n                                values[i + 1][255] = Math.Min(values[i + 1][255], values[i][j] + (255 - x[i + 1]) * (255 - x[i + 1]));\n                            }\n                        }\n                    }\n                }\n                Console.Out.WriteLine(values[n].Min());\n            }\n        }\n    }\n}"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\n\nclass TEST{\n\tstatic void Main(){\n\t\tSol mySol =new Sol();\n\t\tmySol.Solve();\n\t}\n}\n\nclass Sol{\n\tpublic void Solve(){\n\t\t\n\t\twhile(true){\n\t\t\tvar d = ria();\n\t\t\tN = d[0]; M = d[1];\n\t\t\tif(N == 0 && M == 0) return;\n\t\t\tC = new int[M];\n\t\t\tfor(int i=0;i<M;i++) C[i] = ri();\n\t\t\tX = new int[N];\n\t\t\tfor(int i=0;i<N;i++) X[i] = ri();\n\t\t\t\n\t\t\tlong Inf = (long) 1e18;\n\t\t\tlong[] dp = new long[256];\n\t\t\tfor(int i=0;i<256;i++) dp[i] = Inf;\n\t\t\tdp[128] = 0;\n\t\t\tfor(int i=0;i<N;i++){\n\t\t\t\tlong[] nxt = new long[256];\n\t\t\t\tfor(int j=0;j<256;j++) nxt[j] = Inf;\n\t\t\t\tfor(int y=0;y<256;y++){\n\t\t\t\t\tif(dp[y] == Inf) continue;\n\t\t\t\t\tforeach(var c in C){\n\t\t\t\t\t\tint ny = y + c;\n\t\t\t\t\t\tif(ny < 0) ny = 0;\n\t\t\t\t\t\tif(ny > 255) ny = 255;\n\t\t\t\t\t\tnxt[ny] = Math.Min(nxt[ny], (X[i] - ny) * (X[i] - ny) + dp[y]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tdp = nxt;\n\t\t\t}\n\t\t\t\n\t\t\tConsole.WriteLine(dp.Min());\n\t\t\t\n\t\t}\n\t}\n\t\n\tint N,M;\n\tint[] C;\n\tint[] X;\n\t\n\t\n\tpublic Sol(){\n\t\t\n\t}\n\n\tstatic String rs(){return Console.ReadLine();}\n\tstatic int ri(){return int.Parse(Console.ReadLine());}\n\tstatic long rl(){return long.Parse(Console.ReadLine());}\n\tstatic double rd(){return double.Parse(Console.ReadLine());}\n\tstatic String[] rsa(char sep=' '){return Console.ReadLine().Split(sep);}\n\tstatic int[] ria(char sep=' '){return Array.ConvertAll(Console.ReadLine().Split(sep),e=>int.Parse(e));}\n\tstatic long[] rla(char sep=' '){return Array.ConvertAll(Console.ReadLine().Split(sep),e=>long.Parse(e));}\n\tstatic double[] rda(char sep=' '){return Array.ConvertAll(Console.ReadLine().Split(sep),e=>double.Parse(e));}\n}"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text.RegularExpressions;\nusing Library;\nusing static Library.Input;\n\nnamespace AtCoderTemplate {\n    class ProgramF {\n        static void Main () {\n            while (true)\n            {\n                int N = NextInt, M = NextInt;\n                if (N == 0 && M == 0) return;\n                var codebook = TakeLine(M).Select(l => (int)l[0]).ToArray();\n                var input = TakeLine(N).Select(l => (int)l[0]).ToArray();\n\n                var dp = Enumerable.Range(0, N + 1).Select(_ => Enumerable.Repeat(int.MaxValue, 256).ToArray()).ToArray();\n                dp[0][128] = 0;\n\n                for (int i = 0; i < N; i++)\n                {\n                    for (int j = 0; j < 256; j++)\n                    {\n                        for (int k = 0; k < codebook.Length && dp[i][j] != int.MaxValue; k++)\n                        {\n                            int to = Math.Max(0, Math.Min(255, j + codebook[k]));\n                            dp[i + 1][to] = Math.Min(dp[i + 1][to], dp[i][j] + (input[i] - to) * (input[i] - to));\n                        }\n                    }\n                }\n\n                System.Console.WriteLine(dp[N].Min());\n            }\n        }\n    }\n\n}\n\nnamespace Library {\n    class Input {\n        static IEnumerator<string> enumerator = new string[] { }.AsEnumerable ().GetEnumerator ();\n\n        public static string Line => Console.ReadLine ();\n\n        public static string[] StrArr => Line.Split (' ');\n\n        public static int NextInt => int.Parse (NextWord ());\n\n        public static long NextLong => long.Parse (NextWord ());\n\n        public static List<int> IntList => StrArr.Select (int.Parse).ToList ();\n\n        public static List<long> LongList => StrArr.Select (long.Parse).ToList ();\n\n        public static IEnumerable<long[]> TakeLine (int N) {\n            return Enumerable.Repeat (0, N).Select (_ => Console.ReadLine ().Split (' ').Select (long.Parse).ToArray ());\n        }\n\n        public static string NextWord () {\n            while (!enumerator.MoveNext ()) {\n                enumerator = StrArr.AsEnumerable ().GetEnumerator ();\n            }\n            return enumerator.Current;\n        }\n    }\n}\n\nnamespace Library {\n    \n    class Modular {\n        public const int mod = 1000000007;\n        public readonly long value;\n        public Modular (long value) { this.value = value; }\n        public static implicit operator Modular (long a) {\n            var m = a % mod;\n            return new Modular ((m < 0) ? m + mod : m);\n        }\n        public static Modular operator + (Modular a, Modular b) {\n            return a.value + b.value;\n        }\n        public static Modular operator - (Modular a, Modular b) {\n            return a.value - b.value;\n        }\n        public static Modular operator * (Modular a, Modular b) {\n            return a.value * b.value;\n        }\n        public static Modular Pow (Modular a, int n) {\n            switch (n) {\n                case 0:\n                    return 1;\n                case 1:\n                    return a;\n                default:\n                    var p = Pow (a, n / 2);\n                    return p * p * Pow (a, n % 2);\n            }\n        }\n        public static Modular operator / (Modular a, Modular b) {\n            return a * Pow (b, mod - 2);\n        }\n        private static readonly List<int> facs = new List<int> { 1 };\n        private static Modular Fac (int n) {\n            for (int i = facs.Count; i <= n; ++i) {\n                facs.Add ((int) (Math.BigMul (facs.Last (), i) % mod));\n            }\n            return facs[n];\n        }\n        public static Modular Ncr (int n, int r) {\n            return (n < r) ? 0 :\n                (n == r) ? 1 :\n                Fac (n) / (Fac (r) * Fac (n - r));\n        }\n        public static explicit operator int (Modular a) {\n            return (int) a.value;\n        }\n    }\n\n}\nnamespace Library {\n    class MyMath {\n        public static long Gcd (long a, long b) {\n            return b == 0 ? a : Gcd (b, a % b);\n        }\n\n        public static long Sqrt (long n) {\n            if (n < 0) return 0;\n            long a = 0, tmp = 0, b = 0;\n            for (int i = 62; i >= 0; i -= 2) {\n                tmp = (b << 1) + 1 <= (n >> i) ? 1 : 0;\n                a = a << 1 | tmp;\n                n -= (((b << 1) + 1) * tmp) << i;\n                b = (b << 1) + tmp + tmp;\n            }\n            return a;\n        }\n\n        public static long Nck (int n, int k) {\n            if (k == 0) return 1;\n            if (n == 0) return 0;\n            return n * Nck (n - 1, k - 1) / k;\n        }\n    }\n}\n\nnamespace Library {\n        public class PriorityQueue<T> {\n\n        readonly List<T> _heap = new List<T> ();\n        readonly Comparison<T> _comparison;\n\n        public PriorityQueue (Comparison<T> comparison) {\n            _comparison = comparison;\n        }\n\n        public PriorityQueue () : this (Comparer<T>.Default.Compare) { }\n\n        public PriorityQueue (IComparer<T> comparer) : this (comparer.Compare) { }\n\n        public void Enqueue (T item) {\n            _heap.Add (item);\n\n            int childID = _heap.Count - 1;\n            int parentID = (childID - 1) / 2;\n\n            while (childID > 0 && _comparison (_heap[parentID], _heap[childID]) > 0) {\n                Swap (parentID, childID);\n                childID = parentID;\n                parentID = (parentID - 1) / 2;\n            }\n        }\n\n        public T Dequeue () {\n            var first = _heap.First ();\n            _heap[0] = _heap.Last ();\n            _heap.RemoveAt (_heap.Count - 1);\n\n            int parentID = 0;\n            int childID = parentID * 2 + 2;\n            if (childID >= _heap.Count || _comparison (_heap[childID], _heap[childID - 1]) > 0) childID--;\n\n            while (childID < _heap.Count && _comparison (_heap[parentID], _heap[childID]) > 0) {\n                Swap (parentID, childID);\n                parentID = childID;\n                childID = parentID * 2 + 2;\n                if (childID >= _heap.Count || _comparison (_heap[childID], _heap[childID - 1]) > 0) childID--;\n            }\n\n            return first;\n        }\n\n        void Swap (int parent, int child) {\n            var tmp = _heap[parent];\n            _heap[parent] = _heap[child];\n            _heap[child] = tmp;\n        }\n\n        public T Peek () { return _heap[0]; }\n        public int Count => _heap.Count;\n        public bool Any () { return _heap.Any (); }\n        public List<T> Data => _heap;\n    }\n}\n\nnamespace Library {\n    \n    public class UnionFind {\n        public int[] Parents { get; set; }\n        public UnionFind (int size) {\n            Parents = Enumerable.Repeat (-1, size).ToArray ();\n        }\n\n        public int Find (int num) {\n            if (Parents[num] < 0) return num;\n\n            Parents[num] = Find (Parents[num]);\n            return Parents[num];\n        }\n\n        public int Size (int num) {\n            return -Parents[Find (num)];\n        }\n\n        public bool Same (int a, int b) {\n            return Find (a) == Find (b);\n        }\n\n        public void Unite (int a, int b) {\n            int x = Find (a), y = Find (b);\n\n            if (Size (x) > Size (y)) {\n                Parents[x] += Parents[y];\n                Parents[y] = x;\n            } else {\n                Parents[y] += Parents[x];\n                Parents[x] = y;\n            }\n        }\n    }\n}\n\n"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Linq;\n\nnamespace _2199\n{\n\tclass Program\n\t{\n\t\tstatic void Main(string[] args)\n\t\t{\n\t\t\twhile (true)\n\t\t\t{\n\t\t\t\tint[] x = Console.ReadLine().Split().Select(int.Parse).ToArray();\n\t\t\t\tif (x.Max() == 0) break;\n\t\t\t\tint[] plus = new int[x[1]];\n\t\t\t\tfor (int i = 0; i < x[1]; i++) plus[i] = int.Parse(Console.ReadLine());\n\t\t\t\tlong[] adp = new long[256];\n\t\t\t\tfor (int i = 0; i < 256; i++) if (i != 128) adp[i] = (long)Math.Pow(10, 16);\n\n\t\t\t\tfor (int i = 0; i < x[0]; i++)\n\t\t\t\t{\n\t\t\t\t\tlong[] bdp = new long[256];\n\t\t\t\t\tfor (int j = 0; j < 256; j++) bdp[j] = (long)Math.Pow(10, 16);\n\t\t\t\t\tlong terget = long.Parse(Console.ReadLine());\n\t\t\t\t\tfor (int j = 0; j < 256; j++)\n\t\t\t\t\t{\n\t\t\t\t\t\tfor (int k = 0; k < x[1]; k++)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tint changed = Math.Max(0, Math.Min(j + plus[k], 255));\n\t\t\t\t\t\t\tbdp[changed] = Math.Min(bdp[changed], adp[j] + (long)Math.Pow(changed - terget, 2));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tadp = bdp;\n\t\t\t\t}\n\t\t\t\tConsole.WriteLine(adp.Min());\n\t\t\t}\n\t\t}\n\t}\n}\n"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Linq;\n\nnamespace _2199 {\n    class Program {\n        static void Main(string[] args) {\n            int yNum = 256;\n            int MAX_VAL = (int)Math.Pow(10.0, 6);\n            while(true) {\n                var nm = Console.In.ReadLine().Split(' ').Select(int.Parse).ToArray();\n                var n = nm[0];\n                var m = nm[1];\n                if(n == 0 && m == 0) { break; }\n                var c = new List<int>();\n                var x = new List<int>();\n                x.Add(128);\n                for(int i = 0; i < m; i++) {\n                    c.Add(int.Parse(Console.In.ReadLine()));\n                }\n                for(int i = 0; i < n; i++) {\n                    x.Add(int.Parse(Console.In.ReadLine()));\n                }\n                //var values = new int[n + 1, yNum];\n                var values = new int[n + 1][];\n                for(int i=0; i<values.Length; ++i) { values[i] = new int[yNum]; }\n                for(int i = 0; i < n + 1; i++) {\n                    for(int j = 0; j < yNum; j++) {\n                        values[i][j] = MAX_VAL;\n                    }\n                }\n                values[0][128] = 0;\n                for(int i = 0; i < n; i++) {\n                    for(int j = 0; j < yNum; j++) {\n                        for(int k = 0; k < m; k++) {\n                            if((0 <= j + c[k]) && (j + c[k] <= 255)) {\n                                values[i + 1][j + c[k]] = Math.Min(values[i + 1][j + c[k]], values[i][j] + (j + c[k] - x[i + 1]) * (j + c[k] - x[i + 1]));\n                            }\n                            else if(0 > j + c[k]) {\n                                values[i + 1][0] = Math.Min(values[i + 1][0], values[i][j] + (0 - x[i + 1]) * (0 - x[i + 1]));\n                            }\n                            else {\n                                values[i + 1][255] = Math.Min(values[i + 1][255], values[i][j] + (255 - x[i + 1]) * (255 - x[i + 1]));\n                            }\n                        }\n                    }\n                }\n                Console.Out.WriteLine(values[n].Min());\n            }\n        }\n    }\n}"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections.Generic;\nusing System.Linq;\n\nnamespace AOJVolume21_2199\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            List<int> anss = new List<int>();\n            while (true)\n            {\n                var NM = ReadInt();\n                int N = NM[0];\n                int M = NM[1];\n                if (N == 0) break;\n\n                int[] C = new int[M];\n                int[] X = new int[N + 1];\n                for (int i = 0; i < M; i++)\n                {\n                    C[i] = int.Parse(Console.ReadLine());\n                }\n                for (int i = 0; i < N; i++)\n                {\n                    X[i + 1] = int.Parse(Console.ReadLine());\n                }\n\n                int[,] dp = new int[256, N + 1];\n                for (int i = 0; i < N + 1; i++)\n                {\n                    for (int j = 0; j < 256; j++)\n                    {\n                        dp[j, i] = int.MaxValue / 2;\n                    }\n                }\n                dp[128, 0] = 0;\n\n                for (int j = 0; j < N; j++)\n                {\n                    for (int i = 0; i < 256; i++)\n                    {\n                        for (int k = 0; k < M; k++)\n                        {\n                            int nexti = i + C[k];\n                            if (nexti < 0) nexti = 0;\n                            else if (nexti > 255) nexti = 255;\n\n                            int cand = dp[i, j] + (int)Math.Pow(nexti - X[j + 1], 2);\n                            dp[nexti, j + 1] = Math.Min(dp[nexti, j + 1], cand);\n                        }\n                    }\n                }\n\n                int ans = int.MaxValue;\n                for (int i = 0; i < 256; i++)\n                {\n                    ans = Math.Min(ans, dp[i, N]);\n                }\n\n                anss.Add(ans);\n            }\n\n            foreach (var a in anss)\n            {\n                Console.WriteLine(a);\n            }\n            Console.ReadKey();\n        }\n\n        static int[] ReadInt()\n        {\n            int[] ret = Console.ReadLine().Split().Select(int.Parse).ToArray();\n            return ret;\n        }\n        static long[] ReadLong()\n        {\n            long[] ret = Console.ReadLine().Split().Select(long.Parse).ToArray();\n            return ret;\n        }\n    }\n}\n\n"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\n\nnamespace _2199 {\n    class Program {\n        static void Main(string[] args) {\n            int yNum = 256;\n            int MAX_VAL = int.MaxValue/10;\n            while(true) {\n                var nm = Console.In.ReadLine().Split(' ').Select(int.Parse).ToArray();\n                var n = nm[0];\n                var m = nm[1];\n                if(n == 0 && m == 0) { break; }\n                var c = new List<int>();\n                var x = new List<int>();\n                x.Add(128);\n                for(int i = 0; i < m; i++) {\n                    c.Add(int.Parse(Console.In.ReadLine()));\n                }\n                for(int i = 0; i < n; i++) {\n                    x.Add(int.Parse(Console.In.ReadLine()));\n                }\n                //var values = new int[n + 1, yNum];\n                var values = new int[2][];\n                for(int i=0; i<values.Length; ++i) { values[i] = new int[yNum]; }\n                for(int i = 0; i < 2; i++) {\n                    for(int j = 0; j < yNum; j++) {\n                        values[i][j] = MAX_VAL;\n                    }\n                }\n                values[0][128] = 0;\n                for(int i = 0; i < n; i++) {\n                    for(int j = 0; j < yNum; j++) {\n                        for(int k = 0; k < m; k++) {\n                            if((0 <= j + c[k]) && (j + c[k] <= 255)) {\n                                values[1][j + c[k]] = Math.Min(values[1][j + c[k]], values[0][j] + (j + c[k] - x[i+1]) * (j + c[k] - x[i+1]));\n                            }\n                            else if(0 > j + c[k]) {\n                                values[1][0] = Math.Min(values[1][0], values[0][j] + (0 - x[i+1]) * (0 - x[i+1]));\n                            }\n                            else {\n                                values[1][255] = Math.Min(values[1][255], values[0][j] + (255 - x[i+1]) * (255 - x[i+1]));\n                            }\n                        }\n                    }\n                    for(int j=0; j<yNum; j++) {\n                        values[0][j] = values[1][j];\n                        values[1][j] = MAX_VAL;\n                    }\n                }\n                Console.Out.WriteLine(values[0].Min());\n            }\n        }\n    }\n}"
  },
  {
    "language": "C#",
    "code": "using static System.Math;using static System.Console;using System.Collections.Generic;using System.Linq;using System;using System.Collections;\nusing System.Runtime.Serialization;\nusing System.Collections.Specialized;\nusing System.Security.Cryptography;\nusing System.Globalization;\n\nclass Program\n{\n    #region Reader\n    static string ReadStr => Console.ReadLine();\n    static string[] ReadStrs => Console.ReadLine().Split(' ');\n    static int ReadInt => Convert.ToInt32(Console.ReadLine());\n    static int[] ReadInts => Console.ReadLine().Split(' ').Select(s => Convert.ToInt32(s)).ToArray();\n    static long ReadLong => Convert.ToInt64(Console.ReadLine());\n    static long[] ReadLongs => Console.ReadLine().Split(' ').Select(s => Convert.ToInt64(s)).ToArray();\n    #endregion\n    #region Method\n    static int mod = (int)Pow(10, 9) + 7;\n    public static int Mod(int a,int mod) { return a % mod >= 0 ? a % mod : a % mod + mod; }\n    public static long Mod(long a, int mod) { return a % mod >= 0 ? a % mod : a % mod + mod; }\n    #endregion\n\n\n\n\n\n    static void Main()\n    {\n        List<long> anses = new List<long>();\n        while (true)\n        {\n            int[] NM = ReadInts;\n            int N = NM[0];\n            int M = NM[1];\n\n            if (N == 0 && M == 0)\n            {\n                break;\n            }\n            long infty = 10000000000000000;\n\n            int[] codeBook = new int[M];\n            for (int i = 0; i < M; i++)\n            {\n                codeBook[i] = ReadInt;\n            }\n\n            int[] signals = new int[N];\n            for (int i = 0; i < N; i++)\n            {\n                signals[i] = ReadInt;\n            }\n\n            //分散dp[考える信号,エンコード後][分散,エンコード後]\n            long[,] dp = new long[N + 1, 256];\n\n            for (int i = 0; i < N + 1; i++)\n            {\n                for (int s = 0; s < 256; s++)\n                {\n                    dp[i, s] = infty;\n                }\n            }\n\n            dp[0, 128] = 0;\n\n            for (int n = 1; n < N + 1; n++)\n            {\n                for (int s = 0; s < 256; s++)\n                {\n                    for (int m = 0; m < M; m++)\n                    {\n                        long temp_sig = s + codeBook[m];\n                        if (temp_sig < 0)\n                        {\n                            temp_sig = 0;\n                        }\n                        else if (temp_sig > 255)\n                        {\n                            temp_sig = 255;\n                        }\n\n                        long temp_d = dp[n - 1, s] + (long)Pow(signals[n - 1] - temp_sig, 2);\n\n                        if(dp[n, temp_sig] > temp_d)\n                        {\n                            dp[n, temp_sig] = temp_d;\n                        }\n                    }\n                }\n            }\n\n            long ans = infty;\n            for (int i = 0; i < 256; i++)\n            {\n                long l = dp[N, i];\n                ans = Min(ans, dp[N, i]);\n            }\n            anses.Add(ans);\n\n        }\n        WriteLine(string.Join(\"\\n\", anses));\n\n    }\n\n}\n\n"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\n\nnamespace _2199 {\n    class Program {\n        static void Main(string[] args) {\n            int yNum = 256;\n            int MAX_VAL = 65536*20000;\n            while(true) {\n                var nm = Console.In.ReadLine().Split(' ').Select(int.Parse).ToArray();\n                var n = nm[0];\n                var m = nm[1];\n                if(n == 0 && m == 0) { break; }\n                var c = new List<int>();\n                var x = new List<int>();\n                x.Add(128);\n                for(int i = 0; i < m; i++) {\n                    c.Add(int.Parse(Console.In.ReadLine()));\n                }\n                for(int i = 0; i < n; i++) {\n                    x.Add(int.Parse(Console.In.ReadLine()));\n                }\n                //var values = new int[n + 1, yNum];\n                var values = new int[n + 1][];\n                for(int i=0; i<values.Length; ++i) { values[i] = new int[yNum]; }\n                for(int i = 0; i < n + 1; i++) {\n                    for(int j = 0; j < yNum; j++) {\n                        values[i][j] = MAX_VAL;\n                    }\n                }\n                values[0][128] = 0;\n                for(int i = 0; i < n; i++) {\n                    for(int j = 0; j < yNum; j++) {\n                        for(int k = 0; k < m; k++) {\n                            if((0 <= j + c[k]) && (j + c[k] <= 255)) {\n                                values[i + 1][j + c[k]] = Math.Min(values[i + 1][j + c[k]], values[i][j] + (j + c[k] - x[i + 1]) * (j + c[k] - x[i + 1]));\n                            }\n                            else if(0 > j + c[k]) {\n                                values[i + 1][0] = Math.Min(values[i + 1][0], values[i][j] + (0 - x[i + 1]) * (0 - x[i + 1]));\n                            }\n                            else {\n                                values[i + 1][255] = Math.Min(values[i + 1][255], values[i][j] + (255 - x[i + 1]) * (255 - x[i + 1]));\n                            }\n                        }\n                    }\n                }\n                Console.Out.WriteLine(values[n].Min());\n            }\n        }\n    }\n}"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\n\nnamespace _2199 {\n    class Program {\n        static void Main(string[] args) {\n            int yNum = 256;\n            int MAX_VAL = int.MaxValue/10;\n            while (true) {\n                var nm = Console.In.ReadLine().Split(' ').Select(int.Parse).ToArray();\n                var n = nm[0];\n                var m = nm[1];\n                if (n == 0 && m == 0) { break; }\n                var c = new List<int>();\n                var x = new List<int>();\n                x.Add(128);\n                for (int i = 0; i < m; i++) {\n                    c.Add(int.Parse(Console.In.ReadLine()));\n                }\n                for (int i = 0; i < n; i++) {\n                    x.Add(int.Parse(Console.In.ReadLine()));\n                }\n                //var values = new int[n + 1, yNum];\n                var values = new int[2][];\n                for (int i=0; i<values.Length; ++i) { values[i] = new int[yNum]; }\n                for (int i = 0; i < 2; i++) {\n                    for (int j = 0; j < yNum; j++) {\n                        values[i][j] = MAX_VAL;\n                    }\n                }\n                values[0][128] = 0;\n                for (int i = 0; i < n; i++) {\n                    for (int j = 0; j < yNum; j++) {\n                        if (values[0][j] != MAX_VAL) {\n                            for (int k = 0; k < m; k++) {\n                                if ((0 <= j + c[k]) && (j + c[k] <= 255)) {\n                                    values[1][j + c[k]] = Math.Min(values[1][j + c[k]], values[0][j] + (j + c[k] - x[i+1]) * (j + c[k] - x[i+1]));\n                                }\n                                else if (0 > j + c[k]) {\n                                    values[1][0] = Math.Min(values[1][0], values[0][j] + (0 - x[i+1]) * (0 - x[i+1]));\n                                }\n                                else {\n                                    values[1][255] = Math.Min(values[1][255], values[0][j] + (255 - x[i+1]) * (255 - x[i+1]));\n                                }\n                            }\n                        }\n                    }\n                    for (int j=0; j<yNum; j++) {\n                        values[0][j] = values[1][j];\n                        values[1][j] = MAX_VAL;\n                    }\n                }\n                Console.Out.WriteLine(values[0].Min());\n            }\n        }\n    }\n}"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.IO;\nusing static System.Console;\nusing static System.Math;\n \npublic class Solve{\n    static public int mod = 1000000007;\n    static public string al = \"abcdefghijklmnopqrstuvwxyz\";\n    public static void Main(){\n        // 方針\n        //\n        while(true){\n            var n = inta();\n            if(n[0] == 0 && n[1] == 0) break;\n            var c = new long[n[1]];\n            var x = new long[n[0]];\n            for(int i=0;i<n[1];i++){\n                c[i] = rlong();\n            }\n            for(int i=0;i<n[0];i++){\n                x[i] = rlong();\n            }\n            var y = new long[n[0]+1,256];\n            for(int i=0;i<=n[0];i++){\n                for(int j=0;j<256;j++){\n                    y[i,j] = 999999999;\n                }\n            }\n            y[0,128] = 0;\n            var totalgap = new long[n[0],n[1]];\n            \n            for(int i=0;i<n[0];i++){\n                for(int j=0;j<256;j++){\n                    for(int k=0;k<n[1];k++){\n                        var changey = j+c[k];\n                        if(0 > changey) changey = 0;\n                        if(255 < changey) changey = 255;\n                        y[i+1,changey] = Min(y[i+1,changey],y[i,j]+(changey-x[i])*(changey-x[i]));\n                    }\n                }\n            }\n            long ans = 999999999;\n            for(int i=0;i<256;i++){\n                ans = Min(ans,y[n[0],i]);\n            }\n            WriteLine(ans);\n        }\n        \n\t\n\t\n    }\n    public static void swap(ref int a,ref int b){int temp = a;a= b;b = temp;}\n    static void charswap(ref char a,ref char b){char temp = a;a= b;b = temp;}\n    static int ncr(int n,int r){if(n<r)return 0;r = Min(r,n-r);long nn = 1;for(int i=n-r+1;i<=n;i++){nn = nn*i%mod;}long rr = 1;for(int i=1;i<=r;i++){rr = rr*i%mod;}rr = square((int)rr,mod-2);nn = nn * rr %mod;return (int)nn;}\n    // a^b mod\n    static int square(int a,int b){string binary = Convert.ToString(b,2);int bileng = binary.Length;long a_power = a;long value = 1;for(int i=bileng-1;i>=0;i--){if(binary[i] == '1'){value = value*a_power%mod;}a_power = a_power*a_power%mod;}return (int)value;}\n    static int square2(int a,int b){long output = 1;var list = new List<long>();int sh = 1;long n = a;list.Add(a);while(sh < b){sh *= 2;n = n*n%mod;list.Add(n);}for(int i=list.Count-1;i>=0;i--){if(b > sh){b -= sh;sh /= 2;output = output*list[i]%mod;}}return (int)output;}\n    //各種読取\n    static string rstr(){ return ReadLine(); }\n    static int rint(){ return int.Parse(ReadLine()); }\n    static long rlong(){ return long.Parse(ReadLine()); }\n    static string[] stra(){ return ReadLine().Split(' '); }\n    static char[] chara(){ string[] a=stra();string b=\"\";for(int i=0;i<a.Length;i++){b+=a[i];}return b.ToCharArray();}\n    static int[] inta(){ string[] read_str_array = ReadLine().Split(' '); int[] return_int_array = new int[read_str_array.Length]; for(int countup_i=0;countup_i<read_str_array.Length;countup_i++){ return_int_array[countup_i] = int.Parse(read_str_array[countup_i]); } return return_int_array; }\n    static int[,] inta2(int num_array,int in_array){ int[,] int_array2 = new int[num_array,in_array]; for(int i=0;i<num_array;i++){ int[] temp_array = inta(); for(int j=0;j<in_array;j++){ int_array2[i,j] = temp_array[j]; } } return int_array2; }\n    static long[] longa(){ string[] read_str_array = ReadLine().Split(' '); long[] return_long_array = new long[read_str_array.Length]; for(long countup_i=0;countup_i<read_str_array.Length;countup_i++){ return_long_array[countup_i] = long.Parse(read_str_array[countup_i]); } return return_long_array; }\n    static double[] doublea(){ string[] read_str_array = ReadLine().Split(' '); double[] return_double_array = new double[read_str_array.Length]; for(long countup_i=0;countup_i<read_str_array.Length;countup_i++){ return_double_array[countup_i] = long.Parse(read_str_array[countup_i]); } return return_double_array; }\n    // -----------------------------\n    static long divideup(long divided,long divid){ long temp_divide = divided/divid; if(divided % divid > 0){ temp_divide++; } return temp_divide; }\n    static long GCD(long a,long b){ if(a < b){ long temp = a; a = b; b = temp; } if(a % b == 0){ return b; } else{ long temp = b; b = a%b; a = temp; return GCD(a,b); } }\n    static long LCM(long a,long b){ return a * b / GCD(a,b); }\n    static void WriteArray(int[,] a,int b,int c){for(int i=0;i<b;i++){for(int j=0;j<c;j++){if(j!=0) Write(\" \");Write(a[i,j]);}WriteLine();}}\n}\n"
  },
  {
    "language": "JavaScript",
    "code": "var input = require('fs').readFileSync('/dev/stdin', 'utf8');\nvar arr=input.trim().split(\"\\n\");\nwhile(true){\n   var nm=arr.shift().split(\" \");\n   if(nm.join(\" \")==\"0 0\")break;\n   var n=nm[0];\n   var m=nm[1];\n   var M=[];\n   for(var i=0;i<m;i++)M.push(arr.shift()-0);\n   var N=[];\n   for(var i=0;i<n;i++)N.push(arr.shift()-0);\n   var dp=[];\n   for(var i=0;i<=n;i++){\n      dp[i]=[];\n      for(var j=0;j<=255;j++){\n         dp[i][j]=-1;\n      }\n   }\n   dp[0][128]=0;\n   for(var i=1;i<=n;i++){\n      for(var j=0;j<=255;j++){\n         for(var k=0;k<m;k++){\n            var jm=j+M[k];\n            if(jm<0)jm=0;\n            if(jm>255)jm=255;\n            if(dp[i-1][j]!=-1){\n               if(dp[i][jm]!=-1)dp[i][jm]=Math.min(dp[i][jm],dp[i-1][j]+Math.pow(N[i-1]-jm,2));\n               else dp[i][jm]=dp[i-1][j]+Math.pow(N[i-1]-jm,2);\n            }\n         }\n      }\n   }\n   var min=Infinity;\n   dp[n].forEach(function(v){\n      if(v!=-1)min=Math.min(min,v);\n   });\n   console.log(min);\n}"
  },
  {
    "language": "JavaScript",
    "code": "var input = require('fs').readFileSync('/dev/stdin', 'utf8');\nvar arr=input.trim().split(\"\\n\");\nwhile(true){\n   var nm=arr.shift().split(\" \");\n   if(nm.join(\" \")==\"0 0\")break;\n   var n=nm[0];\n   var m=nm[1];\n   var M=[];\n   for(var i=0;i<m;i++)M.push(arr.shift()-0);\n   var N=[];\n   for(var i=0;i<n;i++)N.push(arr.shift()-0);\n   var dp=[];\n   for(var i=0;i<=n;i++){\n      dp[i]=[];\n      for(var j=0;j<=255;j++){\n         dp[i][j]=Infinity;\n      }\n   }\n   dp[0][128]=0;\n   for(var i=1;i<=n;i++){\n      for(var j=0;j<=255;j++){\n         for(var k=0;k<m;k++){\n            var jm=j+M[k];\n            if(jm<0)jm=0;\n            if(jm>255)jm=255;\n            if(dp[i-1][j]!=Infinity){\n               dp[i][jm]=Math.min(dp[i][jm],dp[i-1][j]+Math.pow(N[i-1]-jm,2));\n            }\n         }\n      }\n   }\n   var min=Infinity;\n   dp[n].forEach(function(v){\n      min=Math.min(min,v);\n   });\n   console.log(min);\n}"
  },
  {
    "language": "JavaScript",
    "code": "var input = require('fs').readFileSync('/dev/stdin', 'utf8');\nvar arr=input.trim().split(\"\\n\");\nwhile(true){\n   var nm=arr.shift().split(\" \");\n   if(nm.join(\" \")==\"0 0\")break;\n   var n=nm[0];\n   var m=nm[1];\n   var M=[];\n   for(var i=0;i<m;i++)M.push(arr.shift()-0);\n   var N=[];\n   for(var i=0;i<n;i++)N.push(arr.shift()-0);\n   var dp=[];\n   for(var i=0;i<=n;i++){\n      dp[i]=[];\n      for(var j=0;j<=255;j++){\n         dp[i][j]=Infinity;\n      }\n   }\n   dp[0][128]=0;\n   for(var i=1;i<=n;i++){\n      for(var j=0;j<=255;j++){\n         if(dp[i-1][j]!=Infinity){\n            for(var k=0;k<m;k++){\n               var jm=j+M[k];\n               if(jm<0)jm=0;\n               if(jm>255)jm=255;\n               dp[i][jm]=Math.min(dp[i][jm],dp[i-1][j]+Math.pow(N[i-1]-jm,2));\n            }\n         }\n      }\n   }\n   var min=Infinity;\n   dp[n].forEach(function(v){\n      min=Math.min(min,v);\n   });\n   console.log(min);\n}"
  },
  {
    "language": "JavaScript",
    "code": "var input = require('fs').readFileSync('/dev/stdin', 'utf8');\nvar arr=input.trim().split(\"\\n\");\nwhile(true){\n   var nm=arr.shift().split(\" \");\n   if(nm.join(\" \")==\"0 0\")break;\n   var n=nm[0];\n   var m=nm[1];\n   var M=[];\n   for(var i=0;i<m;i++)M.push(arr.shift()-0);\n   var N=[];\n   for(var i=0;i<n;i++)N.push(arr.shift()-0);\n   var dp=[];\n   for(var i=0;i<=n;i++){\n      dp[i]=[];\n      for(var j=0;j<=255;j++){\n         dp[i][j]=-1;\n      }\n   }\n   dp[0][128]=0;\n   for(var i=1;i<=n;i++){\n      for(var j=0;j<=255;j++){\n         for(var k=0;k<m;k++){\n            var jm=j+M[k];\n            if(jm<0)jm=0;\n            if(jm>255)jm=255;\n            if(dp[i-1][j]!=-1){\n               if(dp[i][jm]!=-1)dp[i][jm]=Math.min(dp[i][jm],dp[i-1][j]+Math.pow(N[i-1]-jm,2));\n               else dp[i][jm]=dp[i-1][j]+Math.pow(N[i-1]-jm,2);\n            }\n         }\n      }\n   }\n   var min=Infinity;\n   dp[n].forEach(function(v){\n      min=Math.min(min,v);\n   });\n   console.log(min);\n}"
  },
  {
    "language": "JavaScript",
    "code": "function Main(input){\n    input = input.split(\"\\n\");\n    var l = 0;\n    var dp = new Array(20001);\n    for(var i = 0;i <= 20000;i++)\n        dp[i] = new Array(256);\n    while(1){\n        input[l] = input[l].split(\" \");\n        var n = parseInt(input[l][0],10);\n        var m = parseInt(input[l++][1],10);\n        if(n == 0 && m == 0)\n            break;\n\n        var c = [],x = [];\n\n        for(var i = 1;i <= m;i++)\n            c[i] = parseInt(input[l++],10);\n\n        for(var i = 1;i <= n;i++)\n            x[i] = parseInt(input[l++],10);\n        for(var i = 0;i <= 20000;i++)\n            for(var j = 0;j < 256;j++)\n                dp[i][j] = 1000000000000;\n        dp[0][128] = 0;\n\n        for(var i = 0;i < n;i++){\n            for(var j = 0;j < 256;j++){\n                for(var k = 1;k <= m;k++){\n                    var a = j + c[k];\n                    if(a < 0)\n                        a = 0;\n                    if(a > 255)\n                        a = 255;\n                    var b = dp[i][j] + (a - x[i + 1]) * (a - x[i + 1]);\n                    if(dp[i + 1][a] > b)\n                        dp[i + 1][a] = b;\n                }\n            }\n        }\n\n        var min = 1000000000000;\n\n        for(var i = 0;i < 256;i++)\n            if(min > dp[n][i])\n                min = dp[n][i];\n\n        console.log(min);\n    }\n}\nMain(require(\"fs\").readFileSync(\"/dev/stdin\",\"utf8\"));"
  },
  {
    "language": "JavaScript",
    "code": "var input = require('fs').readFileSync('/dev/stdin', 'utf8');\nvar arr=input.trim().split(\"\\n\");\nwhile(true){\n   var nm=arr.shift().split(\" \");\n   if(nm.join(\" \")==\"0 0\")break;\n   var n=nm[0];\n   var m=nm[1];\n   var M=[];\n   for(var i=0;i<m;i++)M.push(arr.shift()-0);\n   var N=[];\n   for(var i=0;i<n;i++)N.push(arr.shift()-0);\n   var dp=[];\n   for(var i=0;i<=n;i++){\n      dp[i]=[];\n      for(var j=0;j<=255;j++){\n         dp[i][j]=-1;\n      }\n   }\n   dp[0][128]=0;\n   for(var i=1;i<=n;i++){\n      for(var j=0;j<=255;j++){\n         for(var k=0;k<m;k++){\n            var jm=j+M[k];\n            if(jm<0)jm=0;\n            if(jm>255)jm=255;\n            if(dp[i-1][j]!=-1){\n               dp[i][jm]=Math.min(dp[i][jm],dp[i-1][j]+Math.pow(N[i-1]-jm,2));\n            }\n         }\n      }\n   }\n   var min=Infinity;\n   dp[n].forEach(function(v){\n      min=Math.min(min,v);\n   });\n   console.log(min);\n}"
  },
  {
    "language": "JavaScript",
    "code": "var main=function(){\n\tvar INF=1<<30;\n\tvar arg;\n\tfor(;(arg=readline().split(' ').map(Number))[0];){\n\t\tvar n=arg[0],m=arg[1];\n\t\tvar c=[];\n\t\tfor(var i=0;i<m;i++)c[i]=Number(readline());\n\t\tvar prev=[];\n\t\tfor(var i=0;i<256;i++)prev[i]=INF;\n\t\tprev[128]=0;\n\t\tvar cur=[];\n\t\tfor(var i=0;i<n;i++){\n\t\t\tvar x=Number(readline());\n\t\t\tfor(var j=0;j<256;j++)cur[j]=INF;\n\t\t\tfor(var j=0;j<256;j++)if(prev[j]<INF){\n\t\t\t\tfor(var k=0;k<m;k++){\n\t\t\t\t\tvar t=Math.min(255,Math.max(0,j+c[k]));\n\t\t\t\t\tvar y=prev[j]+(x-t)*(x-t);\n\t\t\t\t\tcur[t]=Math.min(cur[t],y);\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar t=prev;prev=cur;cur=t;\n\t\t}\n\t\tprint(Math.min.apply(null,prev));\n\t}\n};\n\n/// IO ///\nif(typeof process!=='undefined'){\n\t//node.js\n\tvar print=function(x){\n\t\tconsole.log(x);\n\t}\n\tvar readline=(function(){\n\t\tvar T=[],cnt=0;\n\t\tvar stdin = process.openStdin();\n\t\tstdin.setEncoding('utf8');\n\n\t\tvar input_fragment=\"\";\n\t\tstdin.on('data', function(input) {\n\t\t\tvar ref=(input_fragment+input).split(\"\\n\");\n\t\t\tinput_fragment=ref.pop();\n\t\t\tfor(var i=0;i<ref.length;i++){\n\t\t\t\tif(ref[i]=='')continue;\n\t\t\t\tT.push(ref[i]);\n\t\t\t}\n\t\t});\n\t\tstdin.on('end', function(z) {\n\t\t\tif(input_fragment){\n\t\t\t\tvar ref=(input_fragment+\"\\n\").split(\"\\n\");\n\t\t\t\tinput_fragment=ref.pop();\n\t\t\t\tfor(var i=0;i<ref.length;i++){\n\t\t\t\t\tif(ref[i]=='')continue;\n\t\t\t\t\tT.push(ref[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tmain();\n\t\t});\n\n\t\treturn function(){\n\t\t\tif(T.length<=cnt)return null;\n\t\t\treturn T[cnt++];\n\t\t};\n\t})();\n}else{\n\t//v8\n\tmain();\n}"
  },
  {
    "language": "JavaScript",
    "code": "var input = require('fs').readFileSync('/dev/stdin', 'utf8');\nvar arr=input.trim().split(\"\\n\");\nwhile(true){\n   var nm=arr.shift().split(\" \");\n   if(nm.join(\" \")==\"0 0\")break;\n   var n=nm[0];\n   var m=nm[1];\n   var M=[];\n   for(var i=0;i<m;i++)M.push(arr.shift()-0);\n   var N=[];\n   for(var i=0;i<n;i++)N.push(arr.shift()-0);\ncontinue;\n   var dp=[];\n   for(var i=0;i<=n;i++){\n      dp[i]=[];\n      for(var j=0;j<=255;j++){\n         dp[i][j]=Infinity;\n      }\n   }\n   dp[0][128]=0;\n   for(var i=1;i<=n;i++){\n      for(var j=0;j<=255;j++){\n         if(dp[i-1][j]!=Infinity){\n            for(var k=0;k<m;k++){\n               var jm=j+M[k];\n               if(jm<0)jm=0;\n               if(jm>255)jm=255;\n               dp[i][jm]=Math.min(dp[i][jm],dp[i-1][j]+Math.pow(N[i-1]-jm,2));\n            }\n         }\n      }\n   }\n   var min=Infinity;\n   dp[n].forEach(function(v){\n      min=Math.min(min,v);\n   });\n   console.log(min);\n}"
  },
  {
    "language": "Ruby",
    "code": "loop do\n    n, m = gets.split.map &:to_i\n    break if n == 0\n    codes = (1..m).map { gets.to_i }\n    xs = (1..n).map { gets.to_i }\n\n    table = [Float::INFINITY] * 256\n    table[128] = 0\n    xs.each do |x|\n        new_table = [Float::INFINITY] * 256\n        (0..255).each do |y0|\n            d0 = table[y0]\n            codes.each do |c|\n                y =  y0 + c\n                y = 0 if y < 0\n                y = 255 if y > 255\n                d = d0 + (x - y) ** 2\n                new_table[y] = d if d < new_table[y]\n            end\n        end\n        table = new_table\n    end\n    p table.min\nend"
  },
  {
    "language": "Ruby",
    "code": "def solve(i,cur,c,x,dp)\n    return dp if i == x.size\n    c.each do |cc|\n        num = cur + cc\n        num = 0 if num < 0\n        num = 255 if num > 255\n        if dp[[i,cur]] + (x[i] - num)**2 <= dp[[i+1,num]]\n            dp[[i+1,num]] = dp[[i,cur]] + (x[i] - num)**2 \n            dp = solve(i+1,num,c,x,dp)\n        end\n    end\n    return dp\nend\n\nloop do\n    n, m = gets.split.map(&:to_i)\n    break if n == 0 && m == 0\n    c = m.times.map{gets.to_i}\n    x = n.times.map{gets.to_i}\n    dp = Hash.new(Float::INFINITY)\n    dp[[0,128]] = 0\n    dp = solve(0,128,c,x,dp)\n    p dp.select{|k,v| k[0] == n}.values.min\nend"
  },
  {
    "language": "Ruby",
    "code": "loop do\n    n, m = gets.split.map(&:to_i)\n    break if n == 0 && m == 0\n    c = m.times.map{gets.to_i}\n    x = n.times.map{gets.to_i}\n    dp = Hash.new(Float::INFINITY)\n    dp[128] = 0\n    x.each_with_index do |xx,i|\n        dp2 = Hash.new(Float::INFINITY)\n        dp.each do |k,v|\n            c.each do |cc|\n                num = k + cc\n                num = 0 if num < 0\n                num = 255 if num > 255\n                dp2[num] = v + (num - xx)**2 if v + (num - xx)**2 < dp2[num]\n            end\n        end\n        dp = dp2\n    end\n    puts dp.values.min\nend"
  },
  {
    "language": "Ruby",
    "code": "STDOUT.sync = true\nInf = 256 * 256 * 20000\n$dp = [Array.new(256,Inf), Array.new(256,Inf)]\nwhile line = STDIN.gets\n  $N, $M = line.split(\" \").map{|s| s.to_i}\n  break if $N == 0\n  $C = []\n  (1..$M).each { $C << STDIN.gets.to_i }\n  $dp[0].fill(Inf)\n  $dp[0][128] = 0\n  for i in 1..$N\n    x = STDIN.gets.to_i\n    a = $dp[1-i%2]\n    b = $dp[i%2]\n    b.fill(Inf)\n    for prev in 0...(a.size)\n      next if a[prev] >= Inf\n      for j in 0...($C.size)\n        t = prev + $C[j]\n        t = 255 if t > 255 # t = [t,255].min は遅い\n        t = 0 if t < 0\n        cost = (x-t)*(x-t) + a[prev]\n        b[t] = cost if b[t] > cost\n      end\n    end\n  end\n  puts $dp[$N%2].min\nend"
  },
  {
    "language": "Ruby",
    "code": "while (n, m = gets.split.map(&:to_i)).inject(:+) != 0 do\n  c = Array.new\n  m.times do\n    c.push(gets.to_i)\n  end\n  x = Array.new\n  n.times do\n    x.push(gets.to_i)\n  end\n  p [n,m]\n  dp = Array.new(n+1) {Array.new(255+1, (1e10).to_i)}\n  dp[0][128] = 0\n  for i in 0...n do\n    for j in 0..255 do\n      for k in 0...m do\n        l = [j+c[k], 255].min\n        dp[i+1][l] = [dp[i+1][l], dp[i][j]+(x[i]-l)**2].min\n      end\n    end\n  end\n  puts dp[n].min\nend"
  },
  {
    "language": "Ruby",
    "code": "while (n, m = gets.split.map(&:to_i)).inject(:+) != 0 do\n  c = Array.new\n  m.times do\n    c.push(gets.to_i)\n  end\n  x = Array.new\n  n.times do\n    x.push(gets.to_i)\n  end\n  dp = Array.new(n+1) {Array.new(255+1, (1e10).to_i)}\n  dp[0][128] = 0\n  for i in 0...n do\n    for j in 0..255 do\n      for k in 0...m do\n        l = [j+c[k], 255].min\n        dp[i+1][l] = [dp[i+1][l], dp[i][j]+(x[i]-l)**2].min\n      end\n    end\n  end\n  puts dp[n].min\nend"
  },
  {
    "language": "Ruby",
    "code": "while (n, m = gets.split.map(&:to_i)).inject(:+) != 0 do\n  c = Array.new\n  m.times do\n    c.push(gets.to_i)\n  end\n  x = Array.new\n  n.times do\n    x.push(gets.to_i)\n  end\n  dp = Array.new(n+1) {Array.new(255+1, (1e10).to_i)}\n  dp[0][128] = 0\n  for i in 0...n do\n    for j in 0..255 do\n      for k in 0...m do\n        l = [j+c[k], 255].min\n        l = [0, l].max\n        dp[i+1][l] = [dp[i+1][l], dp[i][j]+(x[i]-l)**2].min\n      end\n    end\n  end\n  puts dp[n].min\nend"
  },
  {
    "language": "Ruby",
    "code": "while(n,m=gets.split.map(&:to_i))!=[0,0]\n\tc=m.times.map{gets.to_i}\n\tprev=[-1]*256\n\tprev[128]=0\n\tn.times{\n\t\tcur=[-1]*256\n\t\tx=gets.to_i\n\t\t256.times{|j|\n\t\t\tif prev[j]>=0\n\t\t\t\tm.times{|k|\n\t\t\t\t\tt=[255,[0,j+c[k]].max].min\n\t\t\t\t\ty=prev[j]+(x-t)**2\n\t\t\t\t\tcur[t]=cur[t]<0 ? y : [cur[t],y].min\n\t\t\t\t}\n\t\t\tend\n\t\t}\n\t\tprev=cur\n\t}\n\tp prev.select{|e|e>=0}.min\nend"
  },
  {
    "language": "Ruby",
    "code": "INF=1>>30\nwhile(n,m=gets.split.map(&:to_i))!=[0,0]\n\tc=m.times.map{gets.to_i}\n\tprev=[INF]*256\n\tprev[128]=0\n\tn.times{\n\t\tcur=[INF]*256\n\t\tx=gets.to_i\n\t\t256.times{|j|\n\t\t\tif prev[j]>=0\n\t\t\t\tm.times{|k|\n\t\t\t\t\tt=[255,[0,j+c[k]].max].min\n\t\t\t\t\ty=prev[j]+(x-t)**2\n\t\t\t\t\tcur[t]=[cur[t],y].min\n\t\t\t\t}\n\t\t\tend\n\t\t}\n\t\tprev=cur\n\t}\n\tp prev.min\nend"
  },
  {
    "language": "Ruby",
    "code": "STDOUT.sync = true\nInf = 256 * 256 * 20000\n$dp = [Array.new(256,Inf), Array.new(256,Inf)]\nwhile line = STDIN.gets\n  $N, $M = line.split(\" \").map{|s| s.to_i}\n  break if $N == 0\n  $C = []\n  (1..$M).each { $C << STDIN.gets.to_i }\n  $dp[0].fill(Inf)\n  $dp[0][128] = 0\n  (1..$N).each { |i|\n    x = STDIN.gets.to_i\n    a = $dp[1-i%2]\n    b = $dp[i%2]\n    b.fill(Inf)\n    a.each_index { |prev|\n      next if a[prev] >= Inf\n      $C.each { |c|\n        t = prev + c\n        t = 255 if t > 255 # t = [t,255].min は遅い\n        t = 0 if t < 0\n        cost = (x-t)*(x-t) + a[prev]\n        b[t] = cost if b[t] > cost\n      }\n    }\n  }\n  puts $dp[$N%2].min\nend"
  },
  {
    "language": "Ruby",
    "code": "loop do\n    n, m = gets.split.map(&:to_i)\n    break if n == 0\n    codes = (1..m).map { gets.to_i }.sort\n    valid_codes = (0..255).map do |x| \n        a = codes.dup\n        t = nil \n        t = a.shift until a.empty? || x + a[0] >= 0\n        a.unshift t if t\n        t = a.pop until a.empty? || x + a[-1] <= 255 \n        a << t if t\n        a.map{|c| x + c < 0 ? -x : c}.map{|c| x + c > 255 ? 255 - x : c}.uniq\n    end \n    xs = (1..n).map { gets.to_i }\n    costs = [Float::INFINITY] * 256 \n    costs[128] = 0 \n    xs.each do |x| \n        new_costs = [Float::INFINITY] * 256 \n        (0..255).each do |y0|\n            valid_codes[y0].each do |code|  \n                y1 = y0 + code\n                c = costs[y0] + (y1 - x) ** 2\n                new_costs[y1] = c if c < new_costs[y1]\n            end\n        end\n        costs = new_costs\n    end \n    p costs.min\nend"
  },
  {
    "language": "Ruby",
    "code": "def rec(step, x)\n  return 0 if step == $n\n  return $memo[step][x] if $memo[step][x]\n  candidate = Array.new\n  $m.times do |i|\n    nx = x+$c[i]\n    nx = [0, nx].max\n    nx = [nx, 255].min\n    candidate.push(rec(step+1, nx) + (nx - $x[step])**2)\n  end\n  $memo[step][x] = candidate.min\nend\n\nwhile ($n, $m = gets.split.map(&:to_i)).inject(:+) != 0 do\n  $c = Array.new\n  $memo = Array.new($n) {Array.new(256)}\n  $m.times do\n    $c.push(gets.to_i)\n  end\n  $x = Array.new\n  $n.times do\n    $x.push(gets.to_i)\n  end\n  p rec(0, 128)\nend"
  },
  {
    "language": "Ruby",
    "code": "STDOUT.sync = true\nInf = 256 * 256 * 20000\n$dp = [Array.new(256,Inf), Array.new(256,Inf)]\nwhile line = STDIN.gets\n  $N, $M = line.split(\" \").map{|s| s.to_i}\n  break if $N == 0\n  $C = []\n  $M.times { $C << STDIN.gets.to_i }\n  $dp[0].fill(Inf)\n  $dp[0][128] = 0\n  i = 1\n  while i <= $N do\n    x = STDIN.gets.to_i\n    a = $dp[1-i%2]\n    b = $dp[i%2]\n    b.fill(Inf)\n    prev = 0\n    while prev < a.size do\n      if a[prev] >= Inf\n        prev += 1\n        next\n      end\n      j = 0\n      while j < $C.size do\n        t = prev + $C[j]\n        t = 255 if t > 255 # t = [t,255].min は遅い\n        t = 0 if t < 0\n        cost = (x-t)*(x-t) + a[prev]\n        b[t] = cost if b[t] > cost\n        j += 1\n      end\n      prev += 1\n    end\n    i += 1\n  end\n  puts $dp[$N%2].min\nend"
  },
  {
    "language": "Ruby",
    "code": "STDOUT.sync = true\nInf = 256 * 256 * 20000\n$dp = [Array.new(256,Inf), Array.new(256,Inf)]\nwhile line = STDIN.gets\n  $N, $M = line.split(\" \").map{|s| s.to_i}\n  break if $N == 0\n  $C = []\n  (1..$M).each { $C << STDIN.gets.to_i }\n  $dp[0].fill(Inf)\n  $dp[0][128] = 0\n  (1..$N).each { |i|\n    x = STDIN.gets.to_i\n    a = $dp[1-i%2]\n    b = $dp[i%2]\n    b.fill(Inf)\n    a.each_index { |prev|\n      next if a[prev] >= Inf\n      $C.each { |c|\n        t = prev + c\n        t = 255 if t > 255 # t = [t,255].min は遅い\n        t = 0 if t < 0\n        cost = (x-t)*(x-t) + a[prev]\n        b[t] = cost if b[t] > cost\n      }\n    }\n  }\n  puts $dp[$N%2].min\nend"
  },
  {
    "language": "Go",
    "code": "package main\n\nimport (\n\t\"bufio\"\n\t_ \"container/heap\"\n\t\"fmt\"\n\t\"os\"\n\t_ \"sort\"\n\t\"strconv\"\n)\n\n// I/O\ntype Scanner struct {\n\tsc *bufio.Scanner\n}\n\nfunc NewScanner() *Scanner {\n\tsc := bufio.NewScanner(os.Stdin)\n\tsc.Split(bufio.ScanWords)\n\tsc.Buffer(make([]byte, 1024), int(1e+9))\n\treturn &Scanner{sc}\n}\n\nfunc (s *Scanner) nextStr() string {\n\ts.sc.Scan()\n\treturn s.sc.Text()\n}\n\nfunc (s *Scanner) nextInt() int {\n\ti, e := strconv.Atoi(s.nextStr())\n\tif e != nil {\n\t\tpanic(e)\n\t}\n\treturn i\n}\n\nfunc (s *Scanner) nextFloat() float64 {\n\tf, e := strconv.ParseFloat(s.nextStr(), 64)\n\tif e != nil {\n\t\tpanic(e)\n\t}\n\treturn f\n}\n\nfunc (s *Scanner) nextRuneSlice() []rune {\n\treturn []rune(s.nextStr())\n}\n\nfunc (s *Scanner) nextIntSlice(n int) []int {\n\tres := make([]int, n)\n\tfor i := 0; i < n; i++ {\n\t\tres[i] = s.nextInt()\n\t}\n\treturn res\n}\n\nfunc (s *Scanner) nextFloatSlice(n int) []float64 {\n\tres := make([]float64, n)\n\tfor i := 0; i < n; i++ {\n\t\tres[i] = s.nextFloat()\n\t}\n\treturn res\n}\n\n// Arithmetic\nfunc max(nums ...int) int {\n\tm := nums[0]\n\tfor _, i := range nums {\n\t\tif m < i {\n\t\t\tm = i\n\t\t}\n\t}\n\treturn m\n}\n\nfunc min(nums ...int) int {\n\tm := nums[0]\n\tfor _, i := range nums {\n\t\tif m > i {\n\t\t\tm = i\n\t\t}\n\t}\n\treturn m\n}\n\nfunc abs(x int) int {\n\tif x > 0 {\n\t\treturn x\n\t}\n\treturn -x\n}\n\nfunc pow(x, y int) int {\n\tres := 1\n\tfor i := 0; i < y; i++ {\n\t\tres *= x\n\t}\n\treturn res\n}\n\nfunc ceil(a, b int) int {\n\tif a%b == 0 {\n\t\treturn a / b\n\t} else {\n\t\treturn a/b + 1\n\t}\n}\n\nfunc gcd(a, b int) int {\n\tif b == 0 {\n\t\treturn a\n\t}\n\treturn gcd(b, a%b)\n}\n\nfunc lcm(a, b int) int {\n\treturn a / gcd(a, b) * b\n}\n\n// Sort\ntype RuneSlice []rune\n\nfunc (a RuneSlice) Len() int           { return len(a) }\nfunc (a RuneSlice) Less(i, j int) bool { return a[i] < a[j] }\nfunc (a RuneSlice) Swap(i, j int)      { a[i], a[j] = a[j], a[i] }\n\n// Main\nconst MOD = int(1e+9) + 7\nconst INF = 1 << 60\n\nfunc main() {\n\tsc := NewScanner()\n\twtr := bufio.NewWriter(os.Stdout)\n\tdefer wtr.Flush()\n\tfor true {\n\t\tN, M := sc.nextInt(), sc.nextInt()\n\t\tif N == 0 && M == 0 {\n\t\t\tbreak\n\t\t}\n\t\tC := sc.nextIntSlice(M)\n\t\tX := sc.nextIntSlice(N)\n\t\tdp := make([][256]int, N+1)\n\t\tfor i := 0; i < N+1; i++ {\n\t\t\tfor j := 0; j < 256; j++ {\n\t\t\t\tdp[i][j] = INF\n\t\t\t}\n\t\t}\n\t\tdp[0][128] = 0\n\t\tfor i := 0; i < N; i++ {\n\t\t\tfor j := 0; j < 256; j++ {\n\t\t\t\tif dp[i][j] == INF {\n\t\t\t\t\tcontinue\n\t\t\t\t}\n\t\t\t\tfor k := 0; k < M; k++ {\n\t\t\t\t\tnex := j + C[k]\n\t\t\t\t\tif nex < 0 {\n\t\t\t\t\t\tnex = 0\n\t\t\t\t\t}\n\t\t\t\t\tif nex > 255 {\n\t\t\t\t\t\tnex = 255\n\t\t\t\t\t}\n\t\t\t\t\tdp[i+1][nex] = min(dp[i+1][nex], dp[i][j]+pow(X[i]-nex, 2))\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tans := INF\n\t\tfor i := 0; i < 256; i++ {\n\t\t\tans = min(ans, dp[N][i])\n\t\t}\n\t\tfmt.Fprintln(wtr, ans)\n\t}\n}\n\n"
  },
  {
    "language": "OCaml",
    "code": "let dbg = Printf.printf \"[debug]%s\"\n\nlet max_num = 1_000_000_000\n\nlet id = fun x -> x\nlet tuple2 x y = (x,y)\nlet succ x = x + 1\nlet pred x = x - 1\n\nlet (++) n m =\n  let rec aux i =\n    if i = m then [m]\n    else i :: aux (i+1) in\n  if n > m then [] else aux n\n\nlet (++^) n m = n ++ (m-1)\n\nlet scan fmt f = Scanf.sscanf (read_line ()) fmt f\n\nlet scan_lines n fmt f =\n  List.map (fun _ -> scan fmt f) (0++^n)\n\nlet scan_matrix n m e conv =\n  let arr = Array.make_matrix n m e in\n  Array.iteri (fun i line ->\n      let s = Scanf.Scanning.from_string @@ read_line () in\n      Array.iteri (fun j _ ->\n          arr.(i).(j) <- Scanf.bscanf s \" %s\" conv;\n        ) line) arr; arr\n\nlet between n x m = n <= x && x < m\n\nlet string_to_list s =\n  List.map (String.get s) (0 ++^ String.length s)\n\nlet solve n _ codes samples =\n  let dp = Array.make_matrix (n+1) 256 max_int in\n  dp.(0).(128) <- 0;\n  List.iteri (fun i s ->\n      List.iter (fun j ->\n          List.iter (fun c ->\n              let m = if j+c > 255 then 255\n                else if j+c < 0 then 0\n                else j+c in\n              dp.(i+1).(m) <-\n                min dp.(i+1).(m) (if dp.(i).(j) <> max_int then dp.(i).(j) + (m-s) *(m-s) else max_int)\n            ) codes\n        ) (0 ++ 255)\n    ) samples;\n  Array.fold_left min max_int dp.(n)\n\nlet () =\n  let rec aux () =\n    let (n, m) = scan \"%d %d\" tuple2 in\n    if n = 0 && m = 0 then ()\n    else\n      begin\n        let codes = scan_lines m \"%d\" id in\n        let samples = scan_lines n \"%d\" id in\n        Printf.printf \"%d\\n\" @@ solve n m codes samples;\n        aux ()\n      end\n  in\n  aux ()\n\n"
  },
  {
    "language": "D",
    "code": "import std.stdio, std.string, std.conv, std.range;\nimport std.algorithm, std.array, std.typecons, std.container;\nimport std.math, std.numeric, std.random, core.bitop;\n\nenum inf = 1_001_001_001;\nenum infl = 1_001_001_001_001_001_001L;\nenum mod = 1_000_000_007L;\n\n\nvoid main() {\n    while (true) {\n        int N, M;\n        scan(N, M);\n\n        if (N == 0 && M == 0) return;\n\n        auto c = iota(M).map!(i => readln.chomp.to!int).array;\n        auto x = iota(N).map!(i => readln.chomp.to!int).array;\n\n        auto ans = solve(N, M, c, x);\n        writeln(ans);\n    }\n\n}\n\n\nint solve(int N, int M, int[] c, int[] x) {\n    auto dp = new int[][](N + 1, 256);\n    fillAll(dp, inf);\n    dp[0][128] = 0;\n\n    foreach (i ; 0 .. N) {\n        foreach (j ; 0 .. 256) {\n            foreach (k ; 0 .. M) {\n                int y = clamp(j + c[k], 0, 255);\n                chmin(dp[i + 1][y], dp[i][j] + (y - x[i])^^2);\n            }\n        }\n    }\n\n    debug {\n        //writefln(\"%(%s\\n%)\", dp);\n    }\n\n    int ans = int.max;\n    foreach (j ; 0 .. 256) {\n        chmin(ans, dp[N][j]);\n    }\n    return ans;\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\nvoid scan(T...)(ref T args) {\n    import std.stdio : readln;\n    import std.algorithm : splitter;\n    import std.conv : to;\n    import std.range.primitives;\n\n    auto line = readln().splitter();\n    foreach (ref arg; args) {\n        arg = line.front.to!(typeof(arg));\n        line.popFront();\n    }\n    assert(line.empty);\n}\n\nvoid fillAll(R, T)(ref R arr, T value) {\n    static if (is(typeof(arr[] = value))) {\n        arr[] = value;\n    }\n    else {\n        foreach (ref e; arr) {\n            fillAll(e, value);\n        }\n    }\n}\n\nbool chmin(T, U...)(ref T x, U args) {\n    bool isChanged;\n\n    foreach (arg; args) {\n        if (x > arg) {\n            x = arg;\n            isChanged = true;\n        }\n    }\n\n    return isChanged;\n}\n\nbool chmax(T, U...)(ref T x, U args) {\n    bool isChanged;\n\n    foreach (arg; args) {\n        if (x < arg) {\n            x = arg;\n            isChanged = true;\n        }\n    }\n\n    return isChanged;\n}\n\n"
  },
  {
    "language": "D",
    "code": "import std.stdio, std.conv, std.string, std.format, std.algorithm;\n\nvoid main()\n{\n  long[][] dp = new long[][]( 20001, 256 );\n  int[] cs = new int[]( 16 );\n  int[] xs = new int[]( 20000 );\n  immutable long INF = 1UL << 62;\n  while ( true ) {\n\tstring input = readln;\n\tint N, M;\n\tformattedRead( input, \"%d %d\\n\", &N, &M );\n\tif ( N == 0 && M == 0 ) break;\n\n\tforeach ( i; 0 .. M ) {\n\t  cs[ i ] = to!int( strip( readln ) );\n\t}\n\tforeach ( i; 0 .. N ) {\n\t  xs[ i ] = to!int( strip( readln ) );\n\t}\n\t\n\tforeach ( ary; dp[ 0 .. N + 1 ] ) ary[] = INF;\n\tdp[ 0 ][ 128 ] = 0;\n\tforeach ( i; 0 .. N ) {\n\t  foreach ( j; 0 .. 256 ) {\n\t\tforeach ( c; cs[ 0 .. M ] ) {\n\t\t  immutable int next = min( 255, max( 0, j + c ) );\n\t\t  dp[ i + 1 ][ next ] = min( dp[ i + 1 ][ next ], dp[ i ][ j ] + ( xs[ i ] - next ) ^^ 2 );\n\t\t}\n\t  }\n\t}\n\twriteln( reduce!min( dp[ N ] ) );\n  }  \n}"
  },
  {
    "language": "D",
    "code": "import std.stdio, std.conv, std.string, std.format, std.algorithm;\n\nvoid main()\n{\n  int[][] dp = new int[][]( 20001, 256 );\n  int[] cs = new int[]( 16 );\n  int[] xs = new int[]( 20000 );\n  immutable int INF = 1UL << 30;\n  while ( true ) {\n\tstring input = readln;\n\tint N, M;\n\tformattedRead( input, \"%d %d\\n\", &N, &M );\n\tif ( N == 0 && M == 0 ) break;\n\n\tforeach ( i; 0 .. M ) {\n\t  cs[ i ] = to!int( strip( readln ) );\n\t}\n\tforeach ( i; 0 .. N ) {\n\t  xs[ i ] = to!int( strip( readln ) );\n\t}\n\t\n\tforeach ( ary; dp[ 0 .. N + 1 ] ) ary[] = INF;\n\tdp[ 0 ][ 128 ] = 0;\n\tforeach ( i; 0 .. N ) {\n\t  foreach ( j; 0 .. 256 ) {\n\t\tforeach ( c; cs[ 0 .. M ] ) {\n\t\t  immutable int next = min( 255, max( 0, j + c ) );\n\t\t  dp[ i + 1 ][ next ] = min( dp[ i + 1 ][ next ], dp[ i ][ j ] + ( xs[ i ] - next ) ^^ 2 );\n\t\t}\n\t  }\n\t}\n\twriteln( reduce!min( dp[ N ] ) );\n  }  \n}"
  },
  {
    "language": "D",
    "code": "import std.stdio, std.algorithm, std.conv, std.array, std.string, std.math, std.typecons, std.numeric;\n\nvoid main()\n{\n    long[] CS, xs;\n    CS.length = 16;\n    xs.length = 20000;\n    auto DP = new long[][](20000, 256);\n\n    for (;;) {\n        auto nm = readln.split.to!(int[]);\n        auto N = nm[0];\n        auto M = nm[1];\n\n        if (N == 0 && M == 0) return;\n        foreach (i; 0..M) CS[i] = readln.chomp.to!long;\n        foreach (i; 0..N) xs[i] = readln.chomp.to!long;\n\n        foreach (ref dp; DP) dp[] = -1;\n        long solve(int i, long n) {\n            if (i == N) return 0;\n            if (DP[i][n] == -1) {\n                auto r = long.max/3;\n                foreach (c; CS[0..M]) {\n                    auto m = max(0, min(255, n+c));\n                    r = min(r, solve(i+1, m) + (xs[i] - m)^^2);\n                }\n                DP[i][n] = r;\n            }\n            return DP[i][n];\n        }\n        writeln(solve(0, 128));\n    }\n}\n"
  },
  {
    "language": "D",
    "code": "import std.stdio, std.conv, std.string, std.format, std.algorithm;\n\nvoid main()\n{\n  long[][] dp = new long[][]( 20001, 256 );\n  immutable long INF = 1UL << 62;\n  while ( true ) {\n\tstring input = readln;\n\tint N, M;\n\tformattedRead( input, \"%d %d\\n\", &N, &M );\n\tif ( N == 0 && M == 0 ) break;\n\n\tint[] cs = new int[]( M );\n\tforeach ( i; 0 .. M ) {\n\t  cs[ i ] = to!int( strip( readln ) );\n\t}\n\tint[] xs = new int[]( N );\n\tforeach ( i; 0 .. N ) {\n\t  xs[ i ] = to!int( strip( readln ) );\n\t}\n\t\n\tforeach ( ary; dp[ 0 .. N + 1 ] ) ary[] = INF;\n\tdp[ 0 ][ 128 ] = 0;\n\tforeach ( i; 0 .. N ) {\n\t  foreach ( j; 0 .. 256 ) {\n\t\tforeach ( c; cs ) {\n\t\t  immutable int next = min( 255, max( 0, j + c ) );\n\t\t  dp[ i + 1 ][ next ] = min( dp[ i + 1 ][ next ], dp[ i ][ j ] + ( xs[ i ] - next ) ^^ 2 );\n\t\t}\n\t  }\n\t}\n\twriteln( reduce!min( dp[ N ] ) );\n  }  \n}"
  },
  {
    "language": "D",
    "code": "import std.stdio, std.conv, std.string, std.format, std.algorithm;\n\nvoid main()\n{\n  immutable long INF = 1UL << 62;\n  while ( true ) {\n\tstring input = readln;\n\tint N, M;\n\tformattedRead( input, \"%d %d\\n\", &N, &M );\n\tif ( N == 0 && M == 0 ) break;\n\n\tint[] cs = new int[]( M );\n\tforeach ( i; 0 .. M ) {\n\t  cs[ i ] = to!int( strip( readln ) );\n\t}\n\tint[] xs = new int[]( N );\n\tforeach ( i; 0 .. N ) {\n\t  xs[ i ] = to!int( strip( readln ) );\n\t}\n\t\n\tlong[][] dp = new long[][]( N + 1, 256 );\n\tforeach ( ary; dp ) ary[] = INF;\n\tdp[ 0 ][ 128 ] = 0;\n\tforeach ( i; 0 .. N ) {\n\t  foreach ( j; 0 .. 256 ) {\n\t\tforeach ( c; cs ) {\n\t\t  immutable int next = min( 255, max( 0, j + c ) );\n\t\t  dp[ i + 1 ][ next ] = min( dp[ i + 1 ][ next ], dp[ i ][ j ] + ( xs[ i ] - next ) ^^ 2 );\n\t\t}\n\t  }\n\t}\n\twriteln( reduce!min( dp[ N ] ) );\n  }  \n}"
  },
  {
    "language": "Python",
    "code": "\ndef solve():\n    from sys import stdin\n    INF = float('inf')\n    input = stdin\n\n    while True:\n        N, M = map(int, input.readline().split())\n        if N == 0:\n            break\n\n        C = tuple(int(input.readline()) for i in range(M))\n\n        # decode table\n        tbl_1 = tuple(tuple(255 if i + c > 255 else 0 if i + c < 0\n                            else i + c for c in C) for i in range(256))\n        # print(tbl_1)\n        # tabale of squared difference\n        tbl_2 = tuple(tuple((i - j) ** 2 for j in range(256))\n                      for i in range(256))\n        # print(tbl_2)\n        dp1 = [INF] * 256\n        dp2 = [INF] * 256\n        dp1[128] = 0\n\n        for i in range(N):\n            x = int(input.readline())\n            tbl_2_x = tbl_2[x]\n            for signal, pre_cost in enumerate(dp1):\n                for decoded in tbl_1[signal]:\n                    new_cost = pre_cost + tbl_2_x[decoded]\n                    if new_cost < dp2[decoded]:\n                        dp2[decoded] = new_cost\n            dp1 = dp2[:]\n            dp2 = [INF] * 256\n        # print(dp1)\n        print(min(dp1))\n\n\nsolve()\n\n"
  },
  {
    "language": "Python",
    "code": "while 1:\n\tN, M = map(int,raw_input().split(\" \"))\n\tif M == N == 0 :\n\t\tbreak\n\ty0 = 128\n\tC = [int(raw_input()) for _ in range(M)]\n\tx = [int(raw_input()) for _ in range(N)]\n\tdp = {y0:0}\n\tfor i in range(N):\n\t\ttmpdp = dict()\n\t\tfor k,v in dp.iteritems():\n\t\t\tfor c in C:\n\t\t\t\tif k + c > 255:\n\t\t\t\t\ty = 255\n\t\t\t\telif k + c < 0:\n\t\t\t\t\ty = 0\n\t\t\t\telse :\n\t\t\t\t\ty = k + c\n\t\t\t\tsub_sq = (x[i]-y)**2\n\t\t\t\tif not(y in tmpdp and v + sub_sq >= tmpdp[y]):\n\t\t\t\t\ttmpdp[y] = v + sub_sq\n\t\tdp = tmpdp\n\tprint sorted(dp.values())[0]"
  },
  {
    "language": "Python",
    "code": "import sys\nR = lambda:map(int,raw_input().split())\nyNum = 256\nMAX_VAL = 10**6\nwhile 1:\n    n,m = R()\n    if not (n or m): break\n    c = []\n    x = [128]\n    for i in xrange(m):\n        c.append(int(raw_input()))\n    for i in xrange(n):\n        x.append(int(raw_input()))\n##    sub = [[0 for j in xrange(yNum)] for i in xrange(n+1)]\n##    for i in xrange(1,n+1):\n##        for j in xrange(yNum):\n##            sub[i][j] = (j-x[i])**2\n    values = [[MAX_VAL for j in xrange(yNum)] for i in xrange(n+1)]\n    values[0][128] = 0\n    for i in xrange(n):\n        for j in xrange(yNum):\n            for k in xrange(m):\n                if 0 <= j+c[k] <= 255:\n                    values[i+1][j+c[k]] = min(values[i+1][j+c[k]], values[i][j]+(j+c[k]-x[i+1])**2)\n                elif 0 > j+c[k]:\n                    values[i+1][0] = min(values[i+1][0], values[i][j]+(0-x[i+1])**2)\n                else:\n                    values[i+1][255] = min(values[i+1][255], values[i][j]+(255-x[i+1])**2)\n                #if values[i][j] < 10**5: print values[i][j]\n    print min(values[n])"
  },
  {
    "language": "Python",
    "code": "import math,string,itertools,fractions,heapq,collections,re,array,bisect,sys,random,time,copy,functools\n\nsys.setrecursionlimit(10**7)\ninf = 10**20\neps = 1.0 / 10**10\nmod = 10**9+7\ndd = [(-1,0),(0,1),(1,0),(0,-1)]\nddn = [(-1,0),(-1,1),(0,1),(1,1),(1,0),(1,-1),(0,-1),(-1,-1)]\n\ndef LI(): return [int(x) for x in sys.stdin.readline().split()]\ndef LI_(): return [int(x)-1 for x in sys.stdin.readline().split()]\ndef LF(): return [float(x) for x in sys.stdin.readline().split()]\ndef LS(): return sys.stdin.readline().split()\ndef I(): return int(sys.stdin.readline())\ndef F(): return float(sys.stdin.readline())\ndef S(): return input()\ndef pf(s): return print(s, flush=True)\n\n\ndef main():\n    rr = []\n    M = 256\n\n    def f(m, n):\n        cs = [I() for _ in range(m)]\n        xs = [I() for _ in range(n)]\n        d = [inf] * M\n        d[128] = 0\n        for i in range(n):\n            x = xs[i]\n            nd = [inf] * M\n            for k in range(M):\n                v = d[k]\n                for j in range(m):\n                    c = cs[j]\n                    nk = max(min(k+c,255),0)\n                    if nd[nk] > v + pow(x-nk, 2):\n                        nd[nk] = v + pow(x-nk, 2)\n            d = nd\n        return min(d)\n\n    while True:\n        n,m = LI()\n        if m == 0 and n == 0:\n            break\n        rr.append(f(m,n))\n\n    return '\\n'.join(map(str,rr))\n\n\n\n\nprint(main())\n\n"
  },
  {
    "language": "Python",
    "code": "# AOJ 2199 - 差分パルス符号変調\n# 配るDP\nimport sys\n\n\ndef main():\n    inf = float('inf')\n    error_list = tuple(tuple((i - j) ** 2 for i in range(256)) for j in range(256))\n\n    while True:\n        N, M = map(int, sys.stdin.readline().strip().split())\n\n        if N == 0:\n            break\n\n        C = tuple(int(sys.stdin.readline()) for _ in range(M))\n\n        decode_list = tuple(tuple(255 if j + c > 255 else 0 if j + c < 0 else j + c for c in C) for j in range(256))\n\n        # dp 初期化 ---------------------------------------------------------\n        dp1 = [inf] * 256\n        dp1[128] = 0\n\n        # dp 計算 ---------------------------------------------------------\n        for _ in range(N):\n            x = int(sys.stdin.readline())\n            error_list_x = error_list[x]\n            dp2 = [inf] * 256\n\n            for decode_list_j, dp1_j in zip(decode_list, dp1):\n                for x_decode in decode_list_j:\n\n                    new_sum_error = dp1_j + error_list_x[x_decode]\n\n                    if new_sum_error < dp2[x_decode]:\n                        dp2[x_decode] = new_sum_error\n\n            dp1 = dp2[:]\n\n        print(min(dp1))\n\n\nif __name__ == '__main__':\n    main()\n\n\n"
  },
  {
    "language": "Python",
    "code": "import sys\nfrom itertools import product\ninput = sys.stdin.readline\n\n\ndef inpl():\n    return list(map(int, input().split()))\n\n\ndef solve(N, M):\n    C = [int(input()) for _ in range(M)]\n    X = [int(input()) for _ in range(N)]\n\n    ret = [float('inf')] * 256\n    ret[128] = 0\n    cor = set((max(min(i + c, 255), 0), i) for c, i in product(C, list(range(256))))\n    xt = tuple(tuple((x - t)**2 for x in range(256)) for t in range(256))\n    for x in X:\n        tmp = [float('inf')] * 256\n        xt_now = xt[x]\n        for t, i in cor:\n            v = ret[i]\n            if v + xt_now[t] < tmp[t]:\n                tmp[t] = v + xt_now[t]\n        ret = tmp[:]\n\n    return min(ret)\n\n\ndef main():\n    ans = []\n    while True:\n        N, M = inpl()\n        if N == M == 0:\n            break\n        ans.append(solve(N, M))\n    for a in ans:\n        print(a)\n    return\n\nmain()\n\n"
  },
  {
    "language": "Python",
    "code": "import math,string,itertools,fractions,heapq,collections,re,array,bisect,sys,random,time,copy,functools\n\nsys.setrecursionlimit(10**7)\ninf = 10**20\neps = 1.0 / 10**10\nmod = 10**9+7\ndd = [(-1,0),(0,1),(1,0),(0,-1)]\nddn = [(-1,0),(-1,1),(0,1),(1,1),(1,0),(1,-1),(0,-1),(-1,-1)]\n\ndef LI(): return [int(x) for x in sys.stdin.readline().split()]\ndef LI_(): return [int(x)-1 for x in sys.stdin.readline().split()]\ndef LF(): return [float(x) for x in sys.stdin.readline().split()]\ndef LS(): return sys.stdin.readline().split()\ndef I(): return int(sys.stdin.readline())\ndef F(): return float(sys.stdin.readline())\ndef S(): return input()\ndef pf(s): return print(s, flush=True)\n\n\ndef main():\n    rr = []\n    M = 256\n    sq = [i**2 for i in range(M)]\n    nkss = [[sq[abs(x-nk)] for nk in range(M)] for x in range(M)]\n    ML = list(range(M))\n\n    def f(m, n):\n        cs = [I() for _ in range(m)]\n        xs = [I() for _ in range(n)]\n        ml = list(range(m))\n        d = [inf] * M\n        nd = [inf] * M\n        d[128] = 0\n        ckl = list(map(lambda x: (max(min(x[0]+x[1], 255), 0), x[1]), (itertools.product(cs, ML))))\n        for i in range(n):\n            nd = [inf] * M\n            for nk,k in ckl:\n                if nd[nk] > d[k]:\n                    nd[nk] = d[k]\n            d = [nn + kk for nn,kk in zip(nd, nkss[xs[i]])]\n        return min(d)\n\n    while True:\n        n,m = LI()\n        if m == 0 and n == 0:\n            break\n        rr.append(f(m,n))\n\n    return '\\n'.join(map(str,rr))\n\n\n\n\nprint(main())\n\n"
  },
  {
    "language": "Python",
    "code": "import sys\nfrom itertools import product\ninput = sys.stdin.readline\n\n\ndef inpl():\n    return list(map(int, input().split()))\n\n\ndef solve(N, M):\n    C = [int(input()) for _ in range(M)]\n    X = [int(input()) for _ in range(N)]\n\n    ret = [float('inf')] * 256\n    ret[128] = 0\n    cor = set((max(min(i + c, 255), 0), i) for c, i in product(C, list(range(256))))\n    xt = tuple(tuple((x - t)**2 for x in range(256)) for t in range(256))\n    for x in X:\n        tmp = [float('inf')] * 256\n        xt_now = xt[x]\n        for t, i in cor:\n            v = ret[i]\n            if v + xt_now[t] < tmp[t]:\n                tmp[t] = v + xt_now[t]\n        ret = tmp[:]\n\n    return min(ret)\n\n\ndef main():\n    ans = []\n    while True:\n        N, M = inpl()\n        if N == M == 0:\n            break\n        ans.append(solve(N, M))\n    for a in ans:\n        print(a)\n    return\n\n\nmain()\n\n\n"
  },
  {
    "language": "Python",
    "code": "import sys\nR = lambda:map(int,raw_input().split())\nyNum = 256\nMAX_VAL = 10**6\nwhile 1:\n    n,m = R()\n    if not (n or m): break\n    c = []\n    x = [128]\n    for i in xrange(m):\n        c.append(int(raw_input()))\n    for i in xrange(n):\n        x.append(int(raw_input()))\n    sub = [[0 for j in xrange(yNum)] for i in xrange(n+1)]\n    for i in xrange(1,n+1):\n        for j in xrange(yNum):\n            sub[i][j] = (j-x[i])**2\n    values = [[MAX_VAL for j in xrange(yNum)] for i in xrange(n+1)]\n    values[0][128] = 0\n    for i in xrange(n):\n        for j in xrange(yNum):\n            for k in xrange(m):\n                if 0 <= j+c[k] <= 255:\n                    values[i+1][j+c[k]] = min(values[i+1][j+c[k]], values[i][j]+sub[i+1][j+c[k]])\n                elif 0 > j+c[k]:\n                    values[i+1][0] = min(values[i+1][0], values[i][j]+sub[i+1][0])\n                else:\n                    values[i+1][255] = min(values[i+1][255], values[i][j]+sub[i+1][255])\n                #if values[i][j] < 10**5: print values[i][j]\n    print min(values[n])"
  },
  {
    "language": "Python",
    "code": "INF = float(\"inf\")\nwhile 1:\n\tN, M = map(int,raw_input().split(\" \"))\n\tif M == N == 0 :\n\t\tbreak\n\ty0 = 128\n\tC = [int(raw_input()) for _ in range(M)]\n\tx = [int(raw_input()) for _ in range(N)]\n\tdp = [[INF for _ in range(256)] for _ in range(N+1)]\n\tdp[0][128] = 0\n\tfor i in range(N):\n\t\tfor k in range(256):\n\t\t\tv = dp[i][k] \n\t\t\tif v == INF : continue\n\t\t\tfor c in C:\n\t\t\t\tif k + c > 255: y = 255\n\t\t\t\telif k + c < 0: y = 0\n\t\t\t\telse :          y = k + c\n\t\t\t\tsub_sq = (x[i]-y)**2\n\t\t\t\tif  v + sub_sq < dp[i+1][y]: \n\t\t\t\t\tdp[i+1][y] = v + sub_sq\n\tprint sorted(dp[N])[0]"
  },
  {
    "language": "Python",
    "code": "import math,string,itertools,fractions,heapq,collections,re,array,bisect,sys,random,time,copy,functools\n\nsys.setrecursionlimit(10**7)\ninf = 10**20\neps = 1.0 / 10**10\nmod = 998244353\n\ndef LI(): return [int(x) for x in sys.stdin.readline().split()]\ndef LI_(): return [int(x)-1 for x in sys.stdin.readline().split()]\ndef LF(): return [float(x) for x in sys.stdin.readline().split()]\ndef LS(): return sys.stdin.readline().split()\ndef I(): return int(sys.stdin.readline())\ndef F(): return float(sys.stdin.readline())\ndef S(): return input()\ndef pf(s): return print(s, flush=True)\n\n\ndef main():\n    rr = []\n\n    while True:\n        n,m = LI()\n        if n == 0 and m == 0:\n            break\n\n        cs = [I() for _ in range(m)]\n        xs = [I() for _ in range(n)]\n        d = collections.defaultdict(int)\n        d[128] = 0\n        for x in xs:\n            n = collections.defaultdict(lambda: inf)\n            for k,v in d.items():\n                for c in cs:\n                    nk = max(min(k+c,255),0)\n                    if n[nk] > v + (x-nk) ** 2:\n                        n[nk] = v + (x-nk) ** 2\n            d = n\n\n        rr.append(min(d.values()))\n\n\n    return '\\n'.join(map(str, rr))\n\n\nprint(main())\n\n\n"
  },
  {
    "language": "Python",
    "code": "#先人の方々の知恵を借りて、workの評価式と<(x-x_r)^2>のテーブルを使ってみる\n#clst、xlst、tableをタプル化してパフォーマンスを向上\n#比較的重いtb1へのアクセスをsetにする\n\n\ndef main():\n    inf=float(\"inf\")\n\n    while 1 :\n        n,m=map(int,input().split())\n        if (n,m)==(0,0) : break\n        clst=tuple(int(input()) for _ in range(m))\n        xlst=tuple(int(input()) for _ in range(n))\n\n        #tb1=tuple(tuple(255 if i+work>255 else 0 if i+work<0 else i+work for work in clst) for i in range(256))\n        tb1=set((max(0,min(255,i+work)),i) for work in clst for i in range(256))\n        #ij成分が(i-j)^2に対応する行列\n        tb2=tuple(tuple((i-j)**2 for j in range(256)) for i in range(256))\n\n        dp_new=[inf]*256\n        dp_new[128]=0\n        for val in xlst:\n            dp_old=dp_new[:]\n            dp_new=[inf]*256\n            xlst_tb=tb2[val]\n            for j,i in tb1:\n                error=dp_old[i]+xlst_tb[j]\n                if error<dp_new[j] :\n                    dp_new[j]=error\n        \n        print(min(dp_new))\n\nmain()\n"
  },
  {
    "language": "Python",
    "code": "# -*- coding: utf-8 -*-\ndef inpl(): return list(map(int, input().split()))\n\ndef main():\n    N, M = inpl()\n    INF = 10**9\n    while N:\n        C = [int(input()) for _ in range(M)]\n        X = [int(input()) for _ in range(N)]\n        Y = [[INF]*256 for i in range(N+1)]\n    \n        for i in range(256):\n            Y[0][i] = 0\n    \n        for i, x in enumerate(X):\n            for j in range(256):\n                if Y[i][j] == INF:\n                    continue\n                for c in C:\n                    k = min(255, max(0, j+c))\n                    Y[i+1][k] = min(Y[i+1][k], Y[i][j] + (x - k)**2)\n    \n        print(min(Y[-1]))\n        N, M = inpl()\n\nif __name__ == \"__main__\":\n    main()\n"
  },
  {
    "language": "Python",
    "code": "import math,string,itertools,fractions,heapq,collections,re,array,bisect,sys,random,time,copy,functools\n\nsys.setrecursionlimit(10**7)\ninf = 10**20\neps = 1.0 / 10**10\nmod = 10**9+7\ndd = [(-1,0),(0,1),(1,0),(0,-1)]\nddn = [(-1,0),(-1,1),(0,1),(1,1),(1,0),(1,-1),(0,-1),(-1,-1)]\n\ndef LI(): return [int(x) for x in sys.stdin.readline().split()]\ndef LI_(): return [int(x)-1 for x in sys.stdin.readline().split()]\ndef LF(): return [float(x) for x in sys.stdin.readline().split()]\ndef LS(): return sys.stdin.readline().split()\ndef I(): return int(sys.stdin.readline())\ndef F(): return float(sys.stdin.readline())\ndef S(): return input()\ndef pf(s): return print(s, flush=True)\n\n\ndef main():\n    rr = []\n    M = 256\n    sq = [i**2 for i in range(M)]\n    nkss = [[sq[abs(x-nk)] for nk in range(M)] for x in range(M)]\n    ML = list(range(M))\n\n    def f(m, n):\n        cs = [I() for _ in range(m)]\n        xs = [I() for _ in range(n)]\n        ml = list(range(m))\n        d = [inf] * M\n        nd = [inf] * M\n        d[128] = 0\n        for i in range(n):\n            nd = [inf] * M\n            nks = nkss[xs[i]]\n            for j in ml:\n                c = cs[j]\n                for k in ML:\n                    nk = k+c\n                    if nk < 0:\n                        nk = 0\n                    elif nk > 255:\n                        nk = 255\n                    if nd[nk] > d[k]:\n                        nd[nk] = d[k]\n            for nk in ML:\n                nd[nk] += nks[nk]\n            d = nd\n        return min(d)\n\n    while True:\n        n,m = LI()\n        if m == 0 and n == 0:\n            break\n        rr.append(f(m,n))\n\n    return '\\n'.join(map(str,rr))\n\n\n\n\nprint(main())\n\n"
  },
  {
    "language": "Python",
    "code": "def solve():\n    from sys import stdin\n    INF = float('inf')\n    f_i = stdin\n    \n    while True:\n        N, M = map(int, f_i.readline().split())\n        if N == 0:\n            break\n        \n        C = tuple(int(f_i.readline()) for i in range(M))\n        \n        # decode table\n        tbl_1 = tuple(tuple(255 if i + c > 255 else 0 if i + c < 0 \\\n                            else i + c for c in C) for i in range(256))\n        \n        # tabale of squared difference\n        tbl_2 = tuple(tuple((i - j) ** 2 for j in range(256)) \\\n                      for i in range(256))\n        \n        dp1 = [INF] * 256\n        dp2 = [INF] * 256\n        dp1[128] = 0\n        \n        for i in range(N):\n            x = int(f_i.readline())\n            tbl_2_x = tbl_2[x]\n            for signal, pre_cost in enumerate(dp1):\n                for decoded in tbl_1[signal]:\n                    new_cost = pre_cost + tbl_2_x[decoded]\n                    if new_cost < dp2[decoded]:\n                        dp2[decoded] = new_cost\n            dp1 = dp2[:]\n            dp2 = [INF] * 256\n        \n        print(min(dp1))\n\nsolve()\n"
  },
  {
    "language": "Python",
    "code": "import sys\nR = lambda:map(int,raw_input().split())\nyNum = 256\nMAX_VAL = 10**6\nwhile 1:\n    n,m = R()\n    if not (n or m): break\n    c = []\n    x = [128]\n    for i in xrange(m):\n        c.append(int(raw_input()))\n    for i in xrange(n):\n        x.append(int(raw_input()))\n    sub = [[0 for j in xrange(yNum)] for i in xrange(n+1)]\n    for i in xrange(1,n+1):\n        for j in xrange(yNum):\n            sub[i][j] = (j-x[i])**2\n    values = [[MAX_VAL for j in xrange(yNum)] for i in xrange(n+1)]\n    values[0][128] = 0\n    for i in xrange(n):\n        for j in xrange(yNum):\n            for k in xrange(m):\n                if 0 <= j+c[k] <= 255:\n                    values[i+1][j+c[k]] = min(values[i+1][j+c[k]], values[i][j]+sub[i+1][j+c[k]])\n                elif 0 > j+c[k]:\n                    values[i+1][0] = min(values[i+1][0], values[i][j]+sub[i+1][0])\n                else:\n                    values[i+1][255] = min(values[i+1][255], values[i][j]+sub[i+1][255])\n                #if values[i][j] < 10**5: print values[i][j]\n    print min(values[n])"
  },
  {
    "language": "Python",
    "code": "# import copy\n# answers = []\n\nfrom sys import stdin\ninput = stdin\ndef solve():\n    while True:\n        n, m = map(int,input.readline().split())\n        if n == 0 and m == 0:\n            break\n        # c = []\n        # x = [128]\n        INF = float('inf')\n        # for i in range(m):\n        #     c.append(int(input()))\n        c = tuple(int(input.readline()) for i in range(m))\n        tb1 = tuple(tuple((i-j)**2 for i in range(256)) for j in range(256))\n        tb2 = tuple(tuple(255 if i+ci>255 else 0 if i+ci<0 else i+ci for ci in c) for i in range(256))\n        # for j in range(n):\n        #     x.append(int(input()))\n        # dp = [[INF]*(256) for _ in range(n+1)] #dp[i][j]は信号の大きさj入力した時のi番目の信号との二乗誤差の合計\n        dp1 = [INF]*256\n        dp2 = [INF]*256\n        # prev = set([128])\n        # dp[0][128] = 0\n        dp1[128] = 0\n        for i in range(n):\n            x = int(input.readline())\n            # nexts = set([])\n            # print(prev)\n            tb1_x = tb1[x]\n            # for j in range(256):\n            for j,precost in enumerate(dp1):\n                for a in tb2[j]:\n                    # a = j + c[k]\n                    # a = tb2[j][k]\n                    # nexts.add(a)\n                    # print(dp2[a],dp1[j] + tb1[a][x])\n                    # dp[i+1][a] = min(dp[i+1][a],dp[i][j] + tb1[a][x])\n                    newcost = precost+tb1_x[a]\n                    if newcost<dp2[a]:\n                        dp2[a] = newcost\n                    # dp2[a] = min(dp2[a], dp1[j] + tb1_x[a] )\n            # prev = nexts\n            dp1 = dp2[:]\n            dp2 = [INF]*256\n        # for i in range(n+1):\n        #     print(x[i],\"→\",*dp[i][120:256])\n        print(min(dp1))\nsolve()\n# for ans in answers:\n#     print(ans)\n"
  },
  {
    "language": "Python",
    "code": "def resolve():\n    import sys\n    input = lambda: sys.stdin.readline().rstrip() \n    INF = 10**12\n\n    sq_diff = tuple(tuple((i-j)**2 for j in range(256)) for i in range(256))\n    while True:\n        N, M = map(int, input().split())\n        C = tuple(int(input()) for _ in range(M))\n        x = tuple(int(input()) for _ in range(N))\n        if N==M==0:\n            break\n        else:\n            normalize = tuple(tuple(255 if i+c>255 else 0 if i+c<0\n                    else i+c for c in C) for i in range(256))\n            dp_cur = [INF]*256\n            dp_cur[128] = 0\n            dp_next = [INF]*256\n            for i in x:\n                sq_diff_x = sq_diff[i]\n                for j, cost_cur in enumerate(dp_cur):\n                    normalize_j = normalize[j]\n                    for l in normalize_j:\n                        cost_next = cost_cur + sq_diff_x[l]\n                        if cost_next < dp_next[l]:\n                            dp_next[l] = cost_next\n\n                dp_cur = dp_next[:]\n                dp_next = [INF]*256\n\n            print(min(dp_cur))\n\nif __name__ == '__main__':\n    resolve()\n"
  },
  {
    "language": "Python",
    "code": "import sys\nfrom itertools import product\ninput = sys.stdin.readline\n\n\ndef inpl():\n    return list(map(int, input().split()))\n\n\ndef solve(N, M):\n    C = [int(input()) for _ in range(M)]\n    X = [int(input()) for _ in range(N)]\n\n    ret = [float('inf')] * 256\n    ret[128] = 0\n    cor = set((max(min(i + c, 255), 0), i) for c, i in product(C, list(range(256))))\n    xt = tuple(tuple((x - t)**2 for x in range(256)) for t in range(256))\n    for x in X:\n        tmp = [float('inf')] * 256\n        xt_now = xt[x]\n        for t, i in cor:\n            v = ret[i]\n            if v + xt_now[t] < tmp[t]:\n                tmp[t] = v + xt_now[t]\n        ret = tmp[:]\n\n    return min(ret)\n\n\ndef main():\n    ans = []\n    while True:\n        N, M = inpl()\n        if N == M == 0:\n            break\n        ans.append(solve(N, M))\n    for a in ans:\n        print(a)\n    return\n\n\nmain()\n\n"
  },
  {
    "language": "Rust",
    "code": "use std::cmp::*;\nuse std::collections::*;\nuse std::fmt::Debug;\nuse std::io::{stdin, Read};\nuse std::str::FromStr;\n\n//mod lib;\n\nfn read<T: FromStr>() -> T {\n    let stdin = stdin();\n    let stdin = stdin.lock();\n    let token: String = stdin\n        .bytes()\n        .map(|c| c.expect(\"failed to read char\") as char)\n        .skip_while(|c| c.is_whitespace())\n        .take_while(|c| !c.is_whitespace())\n        .collect();\n\n    return token.parse().ok().expect(\"failed to parse token\");\n}\n\nstatic MOD: i64 = 1_000_000_007;\n\nfn read_vec1<T: FromStr>(n: usize) -> Vec<T> {\n    return (0..n).map(|_| read()).collect();\n}\n\nfn read_vec2<T: FromStr>(n: usize, m: usize) -> Vec<Vec<T>> {\n    return (0..n).map(|_| read_vec1(m)).collect();\n}\n\n#[derive(Eq, PartialEq, Clone, Debug)]\npub struct Rev<T>(pub T);\n\nimpl<T: PartialOrd> PartialOrd for Rev<T> {\n    fn partial_cmp(&self, other: &Rev<T>) -> Option<Ordering> {\n        other.0.partial_cmp(&self.0)\n    }\n}\n\nimpl<T: Ord> Ord for Rev<T> {\n    fn cmp(&self, other: &Rev<T>) -> Ordering {\n        other.0.cmp(&self.0)\n    }\n}\n\nfn add_by_mod(a: &i64, b: &i64) -> i64 {\n    return (a % MOD + b % MOD) % MOD;\n}\n\nfn solve(n: usize, m: usize) -> i64 {\n    let c: Vec<i64> = read_vec1(m);\n    let x: Vec<i64> = read_vec1(n);\n\n    let mut dp = vec![vec![1e18 as i64; 256]; 20010];\n    dp[0][128] = 0;\n    for i in 0..n {\n        for j in 0..256 {\n            if dp[i][j] == 1e18 as i64 { continue; } \n            for cc in c.iter() {\n                let next = max(0, min(255, (j as i64 + *cc))) as usize;\n                dp[i + 1][next] = min(dp[i + 1][next], dp[i][j] + (x[i] - next as i64).pow(2));\n            }\n        }\n    }\n\n    return *dp[n].iter().min().unwrap();\n}\n\nfn main() {\n    let mut n: usize = read();\n    let mut m: usize = read();\n\n    while n != 0 && m != 0 {\n        println!(\"{}\", solve(n, m));\n        n = read();\n        m = read();\n    }\n}\n\n"
  },
  {
    "language": "Rust",
    "code": "use std::cmp::min;\n\nconst INF: i64 = std::i64::MAX;\n\nfn main() {\n    let mut ns = vec![];\n    let mut ms = vec![];\n    let mut xs = vec![];\n    let mut cs = vec![];\n    loop {\n        let mut buf = String::new();\n        std::io::stdin().read_line(&mut buf).unwrap();\n        let mut s = buf.split_whitespace();\n        let n: usize = s.next().unwrap().parse().unwrap();\n        let m: usize = s.next().unwrap().parse().unwrap();\n        if n == 0 && m == 0 { break; }\n        let mut c = vec![];\n        for _ in 0..m {\n            let mut ims = String::new();\n            std::io::stdin().read_line(&mut ims).unwrap();\n            let i: i64 = ims.trim().parse().unwrap();\n            c.push(i)\n        }\n        let mut x = vec![];\n        for _ in 0..n {\n            let mut ins = String::new();\n            std::io::stdin().read_line(&mut ins).unwrap();\n            let i: i64 = ins.trim().parse().unwrap();\n            x.push(i)\n        }\n        ns.push(n);\n        ms.push(m);\n        xs.push(x);\n        cs.push(c);\n    }\n    for i in 0..ns.len() {\n        let (n, m, x, c) = (ns[i], ms[i], &xs[i], &cs[i]);\n        let mut dp = vec![vec![INF; 256]; n + 1];\n        dp[0][128] = 0;\n        for i in 0..n {\n            for j in 0..256 {\n                for k in 0..m {\n                    if dp[i][j] < INF {\n                        let mut nx = j as i64 + c[k];\n                        nx = if nx < 0 { 0 } else if nx > 255 { 255 } else { nx };\n                        dp[i + 1][nx as usize] = min(dp[i + 1][nx as usize],\n                                           dp[i][j] + (nx - x[i]).pow(2));\n                    }\n                }\n            }\n        }\n        let ans = dp[n].iter().min().unwrap();\n        println!(\"{}\", ans);\n    }\n}\n\n\n"
  },
  {
    "language": "Rust",
    "code": "#![allow(non_snake_case)]\n#![allow(dead_code)]\n#![allow(unused_macros)]\n#![allow(unused_imports)]\n\nuse std::str::FromStr;\nuse std::io::*;\nuse std::collections::*;\nuse std::cmp::*;\n\nstruct Scanner<I: Iterator<Item = char>> {\n    iter: std::iter::Peekable<I>,\n}\n\nmacro_rules! exit {\n    () => {{\n        exit!(0)\n    }};\n    ($code:expr) => {{\n        if cfg!(local) {\n            writeln!(std::io::stderr(), \"===== Terminated =====\")\n                .expect(\"failed printing to stderr\");\n        }\n        std::process::exit($code);\n    }}\n}\n\nimpl<I: Iterator<Item = char>> Scanner<I> {\n    pub fn new(iter: I) -> Scanner<I> {\n        Scanner {\n            iter: iter.peekable(),\n        }\n    }\n\n    pub fn safe_get_token(&mut self) -> Option<String> {\n        let token = self.iter\n            .by_ref()\n            .skip_while(|c| c.is_whitespace())\n            .take_while(|c| !c.is_whitespace())\n            .collect::<String>();\n        if token.is_empty() {\n            None\n        } else {\n            Some(token)\n        }\n    }\n\n    pub fn token(&mut self) -> String {\n        self.safe_get_token().unwrap_or_else(|| exit!())\n    }\n\n    pub fn get<T: FromStr>(&mut self) -> T {\n        self.token().parse::<T>().unwrap_or_else(|_| exit!())\n    }\n\n    pub fn vec<T: FromStr>(&mut self, len: usize) -> Vec<T> {\n        (0..len).map(|_| self.get()).collect()\n    }\n\n    pub fn mat<T: FromStr>(&mut self, row: usize, col: usize) -> Vec<Vec<T>> {\n        (0..row).map(|_| self.vec(col)).collect()\n    }\n\n    pub fn char(&mut self) -> char {\n        self.iter.next().unwrap_or_else(|| exit!())\n    }\n\n    pub fn chars(&mut self) -> Vec<char> {\n        self.get::<String>().chars().collect()\n    }\n\n    pub fn mat_chars(&mut self, row: usize) -> Vec<Vec<char>> {\n        (0..row).map(|_| self.chars()).collect()\n    }\n\n    pub fn line(&mut self) -> String {\n        if self.peek().is_some() {\n            self.iter\n                .by_ref()\n                .take_while(|&c| !(c == '\\n' || c == '\\r'))\n                .collect::<String>()\n        } else {\n            exit!();\n        }\n    }\n\n    pub fn peek(&mut self) -> Option<&char> {\n        self.iter.peek()\n    }\n}\n\nconst INF: i64 = 1 << 60;\nconst MAX: usize = 255;\n\nfn main() {\n    let cin = stdin();\n    let cin = cin.lock();\n    let mut sc = Scanner::new(cin.bytes().map(|c| c.unwrap() as char));\n    loop {\n        let N: usize = sc.get();\n        let M: usize = sc.get();\n        let C: Vec<i64> = sc.vec(M);\n        let x: Vec<i64> = sc.vec(N);\n        if N == 0 && M == 0 {\n            break;\n        }\n        let mut dp = vec![vec![INF; MAX+1]; N+1];\n        dp[0][128] = 0;\n        for i in 0..N {\n            for y in 0..MAX+1 {\n                for j in 0..M {\n                    let mut ny = y as i64 + C[j] as i64;\n                    ny = max(0, min(255, ny));\n                    dp[i+1][ny as usize] = min(dp[i+1][ny as usize], dp[i][y] + (x[i] - ny) * (x[i] - ny));\n                }\n            }\n        }\n        let mut ans = INF;\n        for y in 0..MAX+1 {\n            ans = min(ans, dp[N][y]);\n        }\n        println!(\"{}\", ans);\n    }\n}\n\n"
  },
  {
    "language": "Rust",
    "code": "#![allow(unused_imports)]\n#![allow(non_snake_case)]\nuse std::cmp::*;\nuse std::collections::*;\nuse std::io::Write;\n\n#[allow(unused_macros)]\nmacro_rules! debug {\n    ($($e:expr),*) => {\n        #[cfg(debug_assertions)]\n        $({\n            let (e, mut err) = (stringify!($e), std::io::stderr());\n            writeln!(err, \"{} = {:?}\", e, $e).unwrap()\n        })*\n    };\n}\n\nfn main() {\n    loop {\n        let v = read_vec::<usize>();\n        let (n, m) = (v[0], v[1]);\n        if n == 0 && m == 0 {\n            return;\n        }\n        let mut c = vec![0; m];\n        for i in 0..m {\n            c[i] = read::<i64>();\n        }\n        let mut x = vec![0; n];\n        for i in 0..n {\n            x[i] = read::<i64>();\n        }\n\n        let mut dp = vec![vec![std::i64::MAX; 256]; n + 1];\n        dp[0][128] = 0;\n        for i in 0..n {\n            for prev_y in 0..256 {\n                if dp[i][prev_y] == std::i64::MAX {\n                    continue;\n                }\n                for &cnum in c.iter() {\n                    let cur_y = min(max(prev_y as i64 + cnum, 0), 255) as usize;\n                    dp[i + 1][cur_y] = min(\n                        dp[i + 1][cur_y],\n                        dp[i][prev_y] + (cur_y as i64 - x[i]) * (cur_y as i64 - x[i]),\n                    );\n                }\n            }\n        }\n        println!(\"{}\", dp[n].iter().min().unwrap());\n    }\n}\n\nfn read<T: std::str::FromStr>() -> T {\n    let mut s = String::new();\n    std::io::stdin().read_line(&mut s).ok();\n    s.trim().parse().ok().unwrap()\n}\n\nfn read_vec<T: std::str::FromStr>() -> Vec<T> {\n    read::<String>()\n        .split_whitespace()\n        .map(|e| e.parse().ok().unwrap())\n        .collect()\n}\n\n"
  },
  {
    "language": "Rust",
    "code": "#[allow(unused_macros)]\nmacro_rules! input {\n    (source = $s:expr, $($r:tt)*) => {\n        let mut iter = $s.split_whitespace();\n        let mut next = || { iter.next().unwrap() };\n        input_inner!{next, $($r)*}\n    };\n    ($($r:tt)*) => {\n        let stdin = std::io::stdin();\n        let mut bytes = std::io::Read::bytes(std::io::BufReader::new(stdin.lock()));\n        let mut next = move || -> String{\n            bytes\n                .by_ref()\n                .map(|r|r.unwrap() as char)\n                .skip_while(|c|c.is_whitespace())\n                .take_while(|c|!c.is_whitespace())\n                .collect()\n        };\n        input_inner!{next, $($r)*}\n    };\n}\n \n#[allow(unused_macros)]\nmacro_rules! input_inner {\n    ($next:expr) => {};\n    ($next:expr, ) => {};\n \n    ($next:expr, $var:ident : $t:tt $($r:tt)*) => {\n        let $var = read_value!($next, $t);\n        input_inner!{$next $($r)*}\n    };\n}\n \n#[allow(unused_macros)]\nmacro_rules! read_value {\n    ($next:expr, ( $($t:tt),* )) => {\n        ( $(read_value!($next, $t)),* )\n    };\n \n    ($next:expr, [ $t:tt ; $len:expr ]) => {\n        (0..$len).map(|_| read_value!($next, $t)).collect::<Vec<_>>()\n    };\n \n    ($next:expr, chars) => {\n        read_value!($next, String).chars().collect::<Vec<char>>()\n    };\n \n    ($next:expr, bytes) => {\n        read_value!($next, String).into_bytes()\n    };\n \n    ($next:expr, usize1) => {\n        read_value!($next, usize) - 1\n    };\n \n    ($next:expr, $t:ty) => {\n        $next().parse::<$t>().expect(\"Parse error\")\n    };\n}\n \nuse std::cmp::Ordering;\nuse std::cmp;\nuse std::collections::BTreeMap;\nuse std::process;\nuse std::cmp::Ord;\nuse std::collections::HashMap;\nuse std::collections::HashSet;\nuse std::collections::VecDeque;\nuse std::collections::BTreeSet;\nuse std::mem;\nuse std::collections::BinaryHeap;\n/// Equivalent to std::lowerbound and std::upperbound in c++\npub struct Scanner<R> {\n    stdin: R,\n}\n \nimpl<R: std::io::Read> Scanner<R> {\n    pub fn read<T: std::str::FromStr>(&mut self) -> T {\n        use std::io::Read;\n        let buf = self\n            .stdin\n            .by_ref()\n            .bytes()\n            .map(|b| b.unwrap())\n            .skip_while(|&b| b == b' ' || b == b'\\n' || b == b'\\r')\n            .take_while(|&b| b != b' ' && b != b'\\n' && b != b'\\r')\n            .collect::<Vec<_>>();\n        unsafe { std::str::from_utf8_unchecked(&buf) }\n            .parse()\n            .ok()\n            .expect(\"Parse error.\")\n    }\n    pub fn vec<T: std::str::FromStr>(&mut self, n: usize) -> Vec<T> {\n        (0..n).map(|_| self.read()).collect()\n    }\n    pub fn chars(&mut self) -> Vec<char> {\n        self.read::<String>().chars().collect()\n    }\n}\nfn main(){\n    let mut c = 0;\n    let sssss = std::io::stdin();\n    let mut sc = Scanner { stdin: sssss.lock() };\n    while(true){\n        let mut N:usize = sc.read();\n        let mut M:usize = sc.read();\n        if N==0&&M==0{\n            break;\n        }\n        let mut C = vec![];\n        let mut x = vec![];\n        for i in 0..M{\n            let mut t:i64 = sc.read();\n            C.push(t);\n        }\n        for i in 0..N{\n            let mut t:i64 = sc.read();\n            x.push(t);\n        }\n        let mut dp = vec![vec![INF;256];N+1];\n        dp[0][128] = 0;\n        let mut res = INF;\n        for i in 0..N{\n            for j in 0..256{\n                for k in 0..M{\n                    let mut nxt = cmp::min(255, cmp::max(0, j as i64 + C[k])) as usize;\n                    dp[i+1][nxt] = cmp::min(dp[i+1][nxt], dp[i][j] + (x[i] - nxt as i64)*(x[i] - nxt as i64));\n                    if i == N-1{\n                        res = cmp::min(res, dp[i+1][nxt]);\n                    }\n                }\n            }\n        }\n        println!(\"{}\", res);\n    }\n}\n\npub static MOD:i64 = 1000000007;\npub static MODu:usize = 1000000007;\npub static eps:f64 = 1e-8;\nconst INF: i64 = 1 << 60;\n\n\n\n\n"
  }
]