We have a pyramid with N steps, built with blocks. The steps are numbered 1 through N from top to bottom. For each i from 1 to N, step i consists of 2i-1 blocks aligned horizontally. The pyramid is constructed such that the blocks at the centers of the steps are aligned vertically. Snuke wrote a permutation of (1, 2, ..., 2N-1) into the blocks of step N. Then, he wrote integers into all remaining blocks, following the rule that the integer in a block must be equal to the median of the integers in the three blocks directly below it, or the lower left and lower right blocks. After erasing all integers, he remembers only the permutation written in step N. The task is to find the integer written into the block of step 1.