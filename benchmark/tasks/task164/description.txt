Snake JOI is trapped in a large mansion and must escape before being found by the residents. There are N rooms numbered from 1 to N and M corridors connecting these rooms. The corridors can be traveled in either direction and take a certain time to cross. The room temperatures are categorized as too cold, comfortable, or too hot for JOI. JOI cannot enter a too hot room within X minutes of leaving a too cold room and vice versa. JOI starts in room 1 (which is too cold) and needs to reach room N to escape. The task is to determine the minimum time it takes for JOI to escape the mansion.