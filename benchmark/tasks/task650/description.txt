Takahashi will play a game using a piece on an array of squares numbered from 1 to N. Each square i has an integer C_i inscribed on it. He is provided with a permutation of numbers from 1 to N, denoted as P_1, P_2, ..., P_N. Takahashi starts on any square and can make up to K moves. In each move, if the piece is currently on square i, he can move it to square P_i and his score increases by C_{P_i}. The goal is to determine the maximum possible score he can achieve at the end of the game, starting with a score of 0.