Given an undirected graph with positive values at its vertices, where each vertex is numbered from 1 to N and the i-th vertex has a value w_i, you start from vertex 1 and can move through the graph under the constraint that you cannot traverse the edge you just came from. At each vertex, you only gain points equal to the value of that vertex the first time you visit it. Your task is to determine the maximum total score that can be obtained.