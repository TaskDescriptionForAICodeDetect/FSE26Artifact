[
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <algorithm>\n#include <vector>\n#include <queue>\n#include <functional>\n#include <bitset>\n#include <string>\n#include <stack>\n#include <cmath>\n#include <set>\n#include <map>\n#include <list>\n#include <deque>\nusing namespace std;\n#define INF 10000000\n#define LLINF 100000000000000\ntypedef pair<int, int> P;\ntypedef long long ll;\n#define pb push_back\n#define rep(i, n) for(int i = 0; i < (int)(n); i++)\n#define all(x) (x).begin(),(x).end()\n#define VSORT(v) sort(v.begin(), v.end());\n#define fi first\n#define se second\n#define out(x) cout << x << endl;\nint dx[] = { 1, 0, -1, 0 }, dy[] = { 0,1,0,-1 };\nll MOD = 1000000007;\nstruct edge {\n\tll from, to, cost;\n};\n\nint C, n;\nint co[1005][1005] = { 0 };\nint a[505][505][4] = { 0 };\nint sa[505][505] = { 0 };\nint res = 0;\nint cnt = 0;//違う総数\n\nint main() {\n\tcin >> C >> n;\n\tfor (int i = 1; i <= n; i++) {\n\t\tstring s;\n\t\tcin >> s;\n\t\tfor (int j = 1; j <= n; j++) {\n\t\t\tco[i][j] = s[j - 1] - '0';\n\t\t\tif (co[i][j] == 0) co[i][j] = -1;\n\t\t}\n\t}\n\tfor (int i = 1; i <= n / 2; i++) {\n\t\tfor (int j = 1; j <= n / 2; j++) {\n\t\t\ta[i][j][0] = co[i][j];\n\t\t\ta[i][j][1] = co[i][n - j + 1];\n\t\t\ta[i][j][2] = co[n - i + 1][j];\n\t\t\ta[i][j][3] = co[n - i + 1][n - j + 1];\n\t\t\tbool f = false;\n\t\t\tfor (int k = 0; k < 4; k++) {\n\t\t\t\tif (a[i][j][0] != a[i][j][k]) f = true;\n\t\t\t}\n\t\t\tif (f) {\n\t\t\t\tcnt++;\n\t\t\t\tsa[i][j] = -1;\n\t\t\t}\n\t\t\telse sa[i][j] = 1;\n\t\t}\n\t}\n\tif (cnt == 0) res++;\n\t//cout << \"cnt:\" << cnt << endl;\n\tfor (int i = 1; i <= C - 1; i++) {\n\t\tint d;\n\t\tcin >> d;\n\t\tfor (int i = 0; i < d; i++) {\n\t\t\tint r, c;\n\t\t\tcin >> r >> c;\n\t\t\tif (r <= n / 2 && c <= n / 2) {\n\t\t\t\ta[r][c][0] *= -1;\n\t\t\t\tbool f = false;\n\t\t\t\tfor (int j = 0; j < 4; j++) {\n\t\t\t\t\tif (a[r][c][0] != a[r][c][j]) f = true;\n\t\t\t\t}\n\t\t\t\tif (!f) {\n\t\t\t\t\tcnt--;\n\t\t\t\t\tsa[r][c] = 1;\n\t\t\t\t}\n\t\t\t\tif (f) {\n\t\t\t\t\tif (sa[r][c] == 1) cnt++;\n\t\t\t\t\tsa[r][c] = -1;\n\t\t\t\t}\n\t\t\t\t//cout << \"cnt0:\" << cnt << endl;\n\t\t\t}\n\t\t\telse if (r <= n / 2 && c >= n / 2) {\n\t\t\t\ta[r][n - c + 1][1] *= -1;\n\t\t\t\tbool f = false;\n\t\t\t\tfor (int j = 0; j < 4; j++) {\n\t\t\t\t\tif (a[r][n - c + 1][0] != a[r][n - c + 1][j]) f = true;\n\t\t\t\t}\n\t\t\t\tif (!f) {\n\t\t\t\t\tcnt--;\n\t\t\t\t\tsa[r][n-c+1] = 1;\n\t\t\t\t}\n\t\t\t\tif (f) {\n\t\t\t\t\tif (sa[r][n-c+1] == 1) cnt++;\n\t\t\t\t\tsa[r][n-c+1] = -1;\n\t\t\t\t}\n\t\t\t\t//cout << \"cnt1:\" << cnt << endl;\n\t\t\t}\n\t\t\telse if (r >= n / 2 && c <= n / 2) {\n\t\t\t\ta[n + 1 - r][c][2] *= -1;\n\t\t\t\tbool f = false;\n\t\t\t\tfor (int j = 0; j < 4; j++) {\n\t\t\t\t\tif (a[n-r+1][c][0] != a[n-r+1][c][j]) f = true;\n\t\t\t\t}\n\t\t\t\tif (!f) {\n\t\t\t\t\tcnt--;\n\t\t\t\t\tsa[n-r+1][c] = 1;\n\t\t\t\t}\n\t\t\t\tif (f) {\n\t\t\t\t\tif (sa[n-r+1][c] == 1) cnt++;\n\t\t\t\t\tsa[n-r+1][c] = -1;\n\t\t\t\t}\n\t\t\t\t//cout << \"cnt2:\" << cnt << endl;\n\t\t\t}\n\t\t\telse {\n\t\t\t\ta[n + 1 - r][n + 1 - c][3] *= -1;\n\t\t\t\tbool f = false;\n\t\t\t\tfor (int j = 0; j < 4; j++) {\n\t\t\t\t\tif (a[n - r + 1][n+1-c][0] != a[n - r + 1][n+1-c][j]) f = true;\n\t\t\t\t}\n\t\t\t\tif (!f) {\n\t\t\t\t\tcnt--;\n\t\t\t\t\tsa[n - r + 1][n+1-c] = 1;\n\t\t\t\t}\n\t\t\t\tif (f) {\n\t\t\t\t\tif (sa[n - r + 1][n+1-c] == 1) cnt++;\n\t\t\t\t\tsa[n - r + 1][n+1-c] = -1;\n\t\t\t\t}\n\t\t\t\t//cout << \"cnt3:\" << cnt << endl;\n\t\t\t}\n\t\t}\n\t\tif (cnt == 0) res++;\n\t\t//cout << \"cnt:\" << cnt << endl;\n\t\t//cout << endl;\n\t}\n\tout(res);\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint c, n, m;\nint ans;\nint s[1010][1010];\nint t[1010][1010][4];\n\nvector<pair<int, int> > v;\n\nint conversion(int &y, int &x) {\n  int ret = ((y >= m) << 1) + (x >= m);\n  if ((ret >> 1) & 1) {\n    y = n - y - 1;\n  }\n  if (ret & 1) {\n    x = n - x - 1;\n  }\n  return ret;\n}\n\nbool is_same(int y, int x) {\n  bool f = true;\n  for (int i = 1; i < 4; ++i) {\n    if (t[y][x][i] != t[y][x][i - 1]) f = false;\n  }\n  return f;\n}\n\nbool solver() {\n  vector<pair<int, int> > u;\n  sort(v.begin(), v.end());\n  v.erase(unique(v.begin(), v.end()), v.end());\n\n  for (int i = 0; i < v.size(); ++i) {\n    if (!is_same(v[i].first, v[i].second)) u.push_back(v[i]);\n  }\n\n  v = u;\n\n  return v.size() == 0;\n}\n\nvoid debug() {\n  for (int i = 0; i < m; ++i) {\n    for (int j = 0; j < m; ++j) {\n      cout << is_same(i, j) << (j == m - 1 ? \"\\n\" : \" \");\n    }\n  }\n\n  puts(\"\");\n}\n\nint main() {\n  cin >> c >> n;\n  for (int i = 0; i < n; ++i) {\n    for (int j = 0; j < n; ++j) {\n      scanf(\"%1d\", &s[i][j]);\n    }\n  }\n\n  // for (int i = 0; i < n; ++i) {\n  //   for (int j = 0; j < n; ++j) {\n  //     cout << s[i][j] << (j == n - 1 ? \"\\n\" : \" \");\n  //   }\n  // }\n\n  m = n / 2;\n  for (int i = 0; i < n; ++i) {\n    for (int j = 0; j < n; ++j) {\n      int y = i, x = j;\n      int p = conversion(y, x);\n      t[y][x][p] = s[i][j];\n    }\n  }\n\n  // debug();\n\n  for (int i = 0; i < m; ++i) {\n    for (int j = 0; j < m; ++j) {\n      if (!is_same(i, j)) v.push_back(make_pair(i, j));\n    }\n  }\n\n  if (v.size() == 0) ans++;\n\n  while (--c) {\n    int d;\n    int x, y;\n\n    cin >> d;\n    while (d--) {\n      cin >> y >> x;\n      y--; x--;\n      // printf(\"(%d, %d) ->\", x, y);\n      int p = conversion(y, x);\n      t[y][x][p] = !t[y][x][p];\n      v.push_back(make_pair(y, x));\n\n      // printf(\"(%d, %d)\\n\", x, y);\n    }\n\n    if (solver()) ans++;\n\n    // debug();\n  }\n\n  cout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <set>\n#include <utility>\nusing namespace std;\nconst int N=1e3+10;\nint main(){\n    int q,n,mid,ans=0,a,b,t,m;\n    char c[N][N];\n    set<pair<int,int>> l,r;\n    scanf(\"%d%d\",&q,&n);\n    mid=n/2;\n    for(int i=0;i<n;i++)scanf(\"%s\",c[i]);\n    for(int i=0;i<n;i++){\n        for(int j=0;j<mid;j++){\n            if(c[i][j]!=c[i][n-j-1])l.insert({i,j});\n            if(c[j][i]!=c[n-j-1][i])r.insert({j,i});\n        }\n    }\n    if(l.empty()&&r.empty())ans++;\n    q--;\n    while(q--){\n        scanf(\"%d\",&m);\n        while(m--){\n            scanf(\"%d%d\",&a,&b);\n            a--;\n            b--;\n            if(b>=mid)t=n-1-b;\n            else t=b;\n            if(l.find({a,t})!=l.end())l.erase({a,t});\n            else l.insert({a,t});\n            if(a>=mid)t=n-1-a;\n            else t=a;\n            if(r.find({t,b})==r.end())r.insert({t,b});\n            else r.erase({t,b});\n        }\n        if(l.empty()&&r.empty())ans++;\n    }\n    printf(\"%d\\n\",ans);\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\nusing namespace std;\nint C,N;\nint num=0;\nbool p[1001][1001];\n\nbool Dis(){\n    int cnt=0;\n    for(int i=1;i<=N/2;i++){\n        for(int j=1;j<=N/2;j++){\n            if(!(p[i][j]^p[N+1-i][j])) cnt++;\n            if(!(p[i][j]^p[i][N+1-j])) cnt++;\n            if(!(p[i][j]^p[N+1-i][N+1-j])) cnt++;\n        }\n    }\n    return (cnt==N*N*3/4);\n}\n\nint main(){\n    \n    cin>>C>>N;\n    for(int i=1;i<=N;i++){\n        string S;\n        cin>>S;\n        for(int j=1;j<=N;j++){\n            p[i][j]=S[j-1]-'0';\n        }\n    }\n    \n    num+=Dis();\n    int sum=0;\n    for(int i=1;i<=C-1;i++){\n        int D;\n        cin>>D;\n        sum+=D;\n        for(int j=1;j<=D;j++){\n            int r,c;\n            cin>>r>>c;\n            p[r][c]^=1;\n        }\n        if(sum%4==0) num+=Dis();\n    }\n\n    cout<<num<<endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nconst double eps=1e-9;\ntypedef vector<int> vi;\ntypedef long long ll;\nstring board[1005];\nbool sym[1005][1005];\nint C,N;\nint ans=0;\nint miss=0;\nunordered_set<int> rowdif;\nunordered_set<int> coldif;\nvector<set<int> > rowdifset(1005);\nvector<set<int> > coldifset(1005);\nvoid judge()\n{\n    for(int i=0;i<N/2;i++)\n    {\n        for(int j=0;j<N;j++)\n        {\n            if(board[i][j]!=board[N-1-i][j])\n            {\n                if(i<N/2)\n                {\n                    rowdifset[j].insert(i);\n                }\n                else\n                {\n                    rowdifset[j].insert(N-1-i);\n                }\n            }\n        }\n    }\n    for(int i=0;i<N/2;i++)\n    {\n        for(int j=0;j<N;j++)\n        {\n            if(board[j][i]!=board[j][N-1-i])\n            {\n                if(i<N/2)\n                {\n                    coldifset[j].insert(i);\n                }\n                else\n                {\n                    coldifset[j].insert(N-1-i);\n                }\n            }\n        }\n    }\n\n    for (int i = 0; i < N; ++i) {\n        if(!rowdifset[i].empty())rowdif.insert(i);\n        if(!coldifset[i].empty())coldif.insert(i);\n    }\n}\n\nint main(void)\n{\n    cin >> C >> N;\n    for(int i=0;i<N;i++)\n    {\n        cin >> board[i];\n    }\n    judge();\n    if(rowdif.empty() && coldif.empty()) ans++;\n    for(int i=0;i<C-1;i++)\n    {\n        int change;\n        cin >> change;\n        for(int j=0;j<change;j++)\n        {\n            int row,col;\n            cin >> row >> col;\n            row--,col--;\n            int trow=row,tcol=col;\n            if(row>=(N/2)) trow=N-1-row;\n            if(col>=(N/2)) tcol=N-1-col;\n            auto it=rowdifset[col].find(trow);\n            if(it==rowdifset[col].end())\n            {\n                rowdifset[col].insert(trow);\n                rowdif.insert(col);\n            }\n            else\n            {\n                rowdifset[col].erase(trow);\n                if(rowdifset[col].empty())\n                {\n                    rowdif.erase(col);\n                }\n            }\n            it=coldifset[row].find(tcol);\n            if(it==coldifset[row].end())\n            {\n                coldifset[row].insert(tcol);\n                coldif.insert(row);\n            }\n            else\n            {\n                coldifset[row].erase(tcol);\n                if(coldifset[row].empty())\n                {\n                    coldif.erase(row);\n                }\n            }\n        }\n        if(rowdif.empty() && coldif.empty())\n        {\n            //cout << \"Now Tile No. \" << i+2 << endl;\n            ans++;\n        }\n    }\n    cout << ans << endl;\n    return 0;\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "// 2017/08/01 Tazoe\n\n#include <iostream>\nusing namespace std;\n\nbool check(bool P[1000][1000], int N)\n{\n\tfor(int y=0; y<N/2; y++){\n\t\tfor(int x=0; x<N/2; x++){\n\t\t\tif(P[y][x]==P[y][N-1-x]\n\t\t\t&& P[y][x]==P[N-1-y][x]\n\t\t\t&& P[y][x]==P[N-1-y][N-1-x])\n\t\t\t\tcontinue;\n\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n\n\nint main()\n{\n\tint C, N;\n\tcin >> C >> N;\n\n\tbool P[1000][1000];\n\tfor(int y=0; y<N; y++){\n\t\tfor(int x=0; x<N; x++){\n\t\t\tchar p;\n\t\t\tcin >> p;\n\n\t\t\tP[y][x] = (bool)(p-'0');\n\t\t}\n\t}\n/*\n\tfor(int y=0; y<N; y++){\n\t\tfor(int x=0; x<N; x++){\n\t\t\tcout << (int)P[y][x];\n\t\t}\n\t\tcout << endl;\n\t}\n*/\n\n\tint cnt = 0;\n\n\tif(check(P, N)){\n\t\tcnt++;\n\t}\n\n\tfor(int i=1; i<C; i++){\n\t\tint D;\n\t\tcin >> D;\n\n\t\tfor(int j=0; j<D; j++){\n\t\t\tint r, c;\n\t\t\tcin >> r >> c;\n\n\t\t\tP[r-1][c-1] = !P[r-1][c-1];\n\t\t}\n\n\t\tif(check(P, N)){\n\t\t\tcnt++;\n\t\t}\n\t}\n\n\tcout << cnt << endl;\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <queue>\n#include <set>\n#include <bitset>\n#include <cmath>\n#include <string>\n#define FI first\n#define SE second\n#define PF push_front\n#define PB push_back\n#define POF pop_front\n#define POB pop_back\n#define MA make_pair\n#define ll long long\n#define PA pair<int,int>\n#define VE vector<int>\n#define VP vector<PA>\n#define FOR(i,a,b) for(int i=a;i<b;i++)\n#define ROF(i,a,b) for(int i=b-1;i>=a;i--)\n#define YES(i) cout<<(i?\"YES\":\"NO\")<<endl\n#define Yes(i) cout<<(i?\"Yes\":\"No\")<<endl\nusing namespace std;\n//\nconst int INF=1e9+7;\nconst int mod=1e9+7;\n//\nstruct pol{\n\tint X;int Y;int Z;\n  bool operator<(const pol&R)const{\n\t\treturn X==R.X ? Y==R.Y ? Z<R.Z : Y<R.Y : X<R.X;\n\t}\n};\n//\nchar P[1000][1000];\nint main(){\n\tint C,N;\n\tcin>>C>>N;\n\tFOR(i,0,N){\n\t\tFOR(j,0,N){\n\t\t\tcin>>P[i][j];\n\t\t}\n\t}\n\tint ans=0;\n\tset<int> S;\n\tFOR(i,0,C){\n\t\tif(i==0){\n\t\t\tFOR(j,0,N/2){\n\t\t\t\tFOR(k,0,N/2){\n\t\t\t\t\tif(P[j][k]==P[j][N-k-1]&&P[j][k]==P[N-j-1][k]&&P[j][k]==P[N-j-1][N-k-1]){\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tS.insert(j*N+k);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}else{\n\t\t\tint D;\n\t\t\tcin>>D;\n\t\t\tFOR(j,0,D){\n\t\t\t\tint r,c;\n\t\t\t\tcin>>r>>c;\n\t\t\t\tr--;c--;\n\t\t\t\tP[r][c]=(P[r][c]=='0'?'1':'0');\n\t\t\t\tif(r>=N/2){\n\t\t\t\t\tr=N/2-r%(N/2)-1;\n\t\t\t\t}\n\t\t\t\tif(c>=N/2){\n\t\t\t\t\tc=N/2-c%(N/2)-1;\n\t\t\t\t}\n\t\t\t\tif(S.find(r*N+c)==S.end()){\n\t\t\t\t\tS.insert(r*N+c);\n\t\t\t\t}else{\n\t\t\t\t\tif(P[r][c]==P[r][N-c-1]&&P[r][c]==P[N-r-1][c]&&P[r][c]==P[N-r-1][N-c-1]){\n\t\t\t\t\t\tset<int>::iterator it=S.find(r*N+c);\n\t\t\t\t\t\tS.erase(it);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif((int)S.size()==0){\n\t\t\tans++;\n\t\t}\n  }\n\tcout<<ans<<endl;\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "//品質管理\n\n#include<iostream>\n#include<utility>\n#include<string>\n#include<vector>\n#include<algorithm>\n#include<deque>\n#include<queue>\n#include<set>\n#include<map>\n\nusing namespace std;\n#define LL long long\n\nint C, N, p[1003][1003], ans = 0, mir;\n\nint main() {\n\tcin >> C >> N;\n\tmir = 0;\n\tfor (int i = 0; i < N; i++) {\n\t\tstring tmp; cin >> tmp;\n\t\tfor (int j = 0; j < N; j++) p[i][j] = tmp[j]-'0';\n\t}\n\tfor (int i = 0; i < N; i++) {\n\t\tfor (int j = 0; j < N; j++) {\n\t\t\tif (i < N / 2)//縦\n\t\t\t\tif (p[i][j] == p[N - 1 - i][j])mir++;\n\t\t\tif (j < N / 2)//横\n\t\t\t\tif (p[i][j] == p[i][N - 1 - j])mir++;;\n\t\t}\n\t}\n\tif (mir == N * N)ans++;\n\tfor (int i = 1; i < C; i++) {\n\t\tint D;\n\t\tcin >> D;\n\t\tfor (int j = 0; j < D; j++) {\n\t\t\tint _i, _j;\n\t\t\tcin >> _i >> _j; _i--; _j--;\n\t\t\tbool t = (p[_i][_j] == p[N - 1 - _i][_j]),\n\t\t\t\ty = (p[_i][_j] == p[_i][N - 1 - _j]);\n\t\t\tmir += (t ? -1 : 1) + (y ? -1 : 1);\n\t\t\tp[_i][_j] = p[_i][_j] ? 0 : 1;\n\t\t}\n\t\tif (mir == N * N)ans++;\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": " #include<bits/stdc++.h>\nusing namespace std;\n#define int long long\nint c,n;\nstring s[1111];\nint calc(int i,int j){\n  int tmp=0;\n  tmp+=s[i][j]=='1';\n  tmp+=s[n-1-i][j]=='1';\n  tmp+=s[i][n-1-j]=='1';\n  tmp+=s[n-1-i][n-1-j]=='1';\n  return tmp;\n}\nsigned main(){\n  cin>>c>>n;\n  for(int i=0;i<n;i++) cin>>s[i];\n  int cnt=0;\n  for(int i=0;i<n/2;i++){\n    for(int j=0;j<n/2;j++){\n      if(calc(i,j)==0||calc(i,j)==4) cnt++;\n    }\n  }\n  c--;\n  int ans=cnt==n*n/4;\n  while(c--){\n    int d;\n    cin>>d;\n    for(int k=0;k<d;k++){\n      int i,j;\n      cin>>i>>j;\n      i--;j--;\n      if(calc(i,j)==0||calc(i,j)==4) cnt--;\n      if(s[i][j]=='1') s[i][j]='0';\n      else s[i][j]='1';\n      if(calc(i,j)==0||calc(i,j)==4) cnt++;\n    }\n    ans+=cnt==n*n/4;\n  }\n  cout<<ans<<endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nshort table[1000][1000];\n\n\n\nint main(){\n\n    int c,n,ans=0,N,count=0;\n    char cha;\n\n    cin >> c >> n;\n\n    N = n-1;\n\n    for(int i=0; i<n; i++){\n      for(int j=0; j<n; j++){\n          cin >> cha;\n          table[i][j] = (cha=='0') ? 0 : 1;\n      }\n    }\n\n    for(int i=0; i<n/2; i++){\n      for(int j=0; j<n/2; j++){\n          /*int tmp = (table[i][j] + table[i][N-j] + table[N-i][j] + table[N-i][N-j]);\n          cout << tmp << endl;*/\n          if( (table[i][j] + table[i][N-j] + table[N-i][j] + table[N-i][N-j]) % 4 != 0){\n            count++;\n          }\n      }\n    }\n\n    if(count==0){\n      ans++;\n    }\n\n    int d,w,h;\n\n    while(--c){\n\n      bool beforeok;\n\n      cin >> d;\n\n      if(d!=0){\n\n        for(int i=0;i<d;i++){\n          cin >> w >> h;\n          w--;\n          h--;\n          /*cout << w*N+h << endl;\n          cout << w*N+(N-h) << endl;\n          cout << (N-w)*N+h << endl;\n          cout << (N-w)*N+(N-h) << endl;*/\n          /*cout << table[w][h] << endl;\n          cout << table[w][N-h] << endl;\n          cout << table[N-w][h] << endl;\n          cout << table[N-w][N-h] << endl;    */\n          //cout << (table[w][h] + table[w][N-h] + table[N-w][h] + table[N-w][N-h]) % 4 << endl;\n          if( (table[w][h] + table[w][N-h] + table[N-w][h] + table[N-w][N-h]) % 4 != 0){\n            beforeok = false;\n          }else{\n            beforeok = true;\n          }\n          table[w][h] = (table[w][h] == 0) ? 1 : 0;\n\n          if( (table[w][h] + table[w][N-h] + table[N-w][h] + table[N-w][N-h]) % 4 != 0){\n            if(beforeok){\n              count++;\n            }\n          }else{\n            count--;\n          }\n\n        }\n\n\n      }\n\n      cout << \"count = \" << count << endl;\n\n      if(count==0){\n        //cout << \"ok\" << endl;\n        ans++;\n      }\n\n      /*for(int i=0; i<n; i++){\n        for(int j=0; j<n; j++){\n            cout << table[i][j];\n        }\n        cout << endl;\n      }*/\n\n    }\n\n    cout << ans << endl;\n\n\n\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <iomanip>\nusing namespace std;\n\nclass Coster {\npublic:\n\tCoster(int n);\n\t~Coster();\n\tvoid diff(const int& r, const int& c);\n\tint SymmetryNum();\n\tvoid SymCalc();\n\tbool pixel[1000][1000];\nprivate:\n\tint symmetry;\n\tint N;\n};\nCoster::Coster(int n) {\n\tN = n;\n\tfor (int i = 0; i < 1000; i++)\n\t\tfor (int j = 0; j < 1000; j++)\n\t\t\tpixel[i][j] = 0;\n}\nCoster::~Coster() {\n\tdelete[] pixel;\n}\nvoid Coster::diff(const int& r, const int& c) {\n\n\tpixel[r-1][c-1] = !pixel[r-1][c-1];\n}\nint Coster::SymmetryNum() {\n\treturn symmetry;\n}\nvoid Coster::SymCalc() {\n\tchar same = 0;\n\tfor (int r = 0; r < N / 2; r++) {\n\t\tfor (int c = 0; c < N / 2; c++) {\n\t\t\tsame  = pixel[r][c];\n\t\t\tsame |= pixel[r][N - c - 1] << 1;\n\t\t\tsame |= pixel[N - r - 1][c] << 2;\n\t\t\tsame |= pixel[N - r - 1][N - c - 1] << 3;\n\t\t\tif (!(same == 0x0f || same == 0x00))\n\t\t\t\treturn;\n\t\t}\t\t\n\t}\n\tsymmetry++;\n}\n\nint main()\n{\n\tint C,N;\n\tcin >> C >> N;\n\tCoster coster(N);\n\tchar n;\n\tfor (int i = 0; i < N; i++) {\n\t\tfor (int j = 0; j < N; j++) {\n\t\t\tcin >> n;\n\t\t\tcoster.pixel[i][j] = (bool)(n - '0');\n\t\t}\n\t}\n\t\n\tcoster.SymCalc();\n\n\tfor (int I = 0; I < C-1; I++) {\n\t\tint D;\n\t\tcin >> D;\n\t\tfor (int i = 0; i < D; i++) {\n\t\t\tint r, c;\n\t\t\tcin >> r >> c;\n\t\t\tcoster.diff(r, c);\n\t\t}\n\t\tcoster.SymCalc();\n\t}\n\n\tcout <<coster.SymmetryNum() << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\nchar G[1000][1000];\nint N;\n\nint next(int i){ return ((N-i-1)+N)%N;}\n\nbool getState(int i, int j){\n  return  G[i][j] == G[i][next(j)] &&\n    G[i][j] == G[next(i)][j] &&\n    G[i][j] == G[next(i)][next(j)];\n}\n\nint getInit(){\n  int dcnt = 0;\n  for ( int i = 0; i < N/2; i++ ){\n    for ( int j = 0; j < N/2; j++ ){\n      if (!getState(i, j)) dcnt++;\n    }\n  }\n  return dcnt;\n}\n\nint main(){\n  int C, dcnt, ans = 0;\n  cin >> C >> N;\n  for ( int i = 0; i < N; i++ ){\n    for ( int j = 0; j < N; j++ ){\n      cin >> G[i][j];\n    }\n  }\n  \n  dcnt = getInit();\n  if (dcnt == 0 ) ans++;\n  for ( int i = 0; i < C-1; i++ ){\n    int k, r, c; cin >> k;\n    for ( int j = 0; j < k; j++ ){\n      cin >> r >> c; r--; c--;\n      bool pre = getState(r, c);\n      G[r][c] = G[r][c]=='1'?'0':'1';\n      bool post = getState(r, c);\n      if ( !pre && post ) dcnt--;\n      else if ( pre && !post ) dcnt++;\n    }\n    if ( dcnt == 0 ) ans++;\n  }\n  \n  cout << ans << endl;\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <iostream>\n#define TRUE 1\n#define FALSE 0\nusing namespace std;\nint main()\n{\n\tint C,N,i,j,k,a,b,ans=0;\n\tstatic int tate[500][1000],yoko[1000][500];\n\tstatic char cost[1000][1000];\n\tstatic int r[10000][100],c[10000][100];\n\tint D[10000];\n\tbool taisho1,taisho2;\n\tcin>>C>>N;\n\tfor (i=0;i<N;i++)\n\t{\n\t\tcin>>cost[i];\n\t}\n\tfor (i=0;i<N/2;i++)\n\t{\n\t\tfor (j=0;j<N;j++)\n\t\t{\n\t\t\tif (cost[i][j]==cost[N-i-1][j])\n\t\t\t{\n\t\t\t\ttate[i][j]=TRUE;\n\t\t\t\t//cout<<'T';\n\t\t\t} else {\n\t\t\t\t//cout<<'F';\n\t\t\t}\n\t\t}\n\t\t//putchar('\\n');\n\t}\n\tfor (i=0;i<N;i++)\n\t{\n\t\tfor (j=0;j<N/2;j++)\n\t\t{\n\t\t\tif (cost[i][j]==cost[i][N-j-1])\n\t\t\t{\n\t\t\t\tyoko[i][j]=TRUE;\n\t\t\t\t//cout<<'T';\n\t\t\t} else {\n\t\t\t\t//cout<<'F';\n\t\t\t}\n\t\t}\n\t\t//putchar('\\n');\n\t}\n\t//一枚目が対象かどうか\n\ttaisho1=taisho2=true;\n\tfor (i=0;i<N/2;i++)\n\t{\n\t\tfor (j=0;j<N;j++)\n\t\t{\n\t\t\tif (!tate[i][j])\n\t\t\t{\n\t\t\t\ttaisho1=false;\n\t\t\t}\n\t\t}\n\t}\n\tfor (i=0;i<N;i++)\n\t{\n\t\tfor (j=0;j<N/2;j++)\n\t\t{\n\t\t\tif (!yoko[i][j])\n\t\t\t{\n\t\t\t\ttaisho2=false;\n\t\t\t}\n\t\t}\n\t}\n\tif (taisho1&&taisho2)\n\t{\n\t\t//printf(\"1枚目対称\\n\");\n\t\tans++;\n\t} else {\n\t\t//printf(\"1枚目対称でない\\n\");\n\t}\n\t//1\n\tif (C==1)\n\t{\n\t\t//1枚だけ\n\t\tif (taisho1&&taisho2)\n\t\t{\n\t\t\tcout<<'1'<<endl;\n\t\t} else {\n\t\t\tcout<<'0'<<endl;\n\t\t}\n\t\treturn 0;\n\t}\n\t//Cは1でない\n\tfor (k=0;k<C-1;k++){\n\tcin>>D[k];\n\tfor (i=0;i<D[k];i++)\n\t{\n\t\tcin>>a>>b;\n\t\ta--;b--;\n\t\t/*\n\t\tr[0][i]=a;\n\t\tc[0][i]=b;\n\t\t*/\n\t\tif (a>=N/2)//入力されたx座標が半分超える\n\t\t{\n\t\t\ttate[N-1-a][b]=!tate[N-1-a][b];\n\t\t} else {\n\t\t\ttate[a][b]=!tate[a][b];\n\t\t}\n\t\tif (b>=N/2)//入力されたy座標が半分超える\n\t\t{\n\t\t\tyoko[a][N-1-b]=!yoko[a][N-1-b];\n\t\t} else {\n\t\t\tyoko[a][b]=!yoko[a][b];\n\t\t}\n\t}\n\t//print\n\ttaisho1=taisho2=true;\n\tfor (i=0;i<N/2;i++)\n\t{\n\t\tfor (j=0;j<N;j++)\n\t\t{\n\t\t\tif (tate[i][j])\n\t\t\t{\n\t\t\t\t//cout<<'T';\n\t\t\t} else {\n\t\t\t\ttaisho1=false;\n\t\t\t\t//cout<<'F';\n\t\t\t}\n\t\t}\n\t\t//putchar('\\n');\n\t}\n\tfor (i=0;i<N;i++)\n\t{\n\t\tfor (j=0;j<N/2;j++)\n\t\t{\n\t\t\tif (yoko[i][j])\n\t\t\t{\n\t\t\t\t//cout<<'T';\n\t\t\t} else {\n\t\t\t\ttaisho2=false;\n\t\t\t\t//cout<<'F';\n\t\t\t}\n\t\t}\n\t\t//putchar('\\n');\n\t}\n\tif (taisho1&&taisho2)\n\t{\n\t\t//printf(\"%d:対称\\n\",k+2);\n\t\tans++;\n\t} else {\n\t\t//printf(\"%d:対称でない\\n\",k+2);\n\t}\n\t}\n\tcout<<ans<<endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define int long long\n#define rep(i, n) for(int i = 0; i < n; i++)\n#define all(a) a.begin(), a.end()\n#define mod 1000000007\n#define MOD 998244353\n#define INF 40000000000000000\nint dx8[8] = {-1, 0, 1, 1, 1, 0, -1, -1};\nint dy8[8] = {1, 1, 1, 0, -1, -1, -1, 0};\nint dx4[4] = {-1, 0, 1, 0};\nint dy4[4] = {0, -1, 0, 1};\ntemplate <class T>\ninline bool chmax(T &a, T b) {\n    if(a < b) {\n        a = b;\n        return 1;\n    }\n    return 0;\n}\ntemplate <class T>\ninline bool chmin(T &a, T b) {\n    if(a > b) {\n        a = b;\n        return 1;\n    }\n    return 0;\n}\nint N;\nvector<vector<int>>G(1005,vector<int>(1005));\nbool judge(int i,int j){\n    bool res=true;\n    int now=G[i][j];\n    res&=(now==G[N-i-1][j]);\n    res&=(now==G[i][N-1-j]);\n    res&=(now==G[N-1-i][N-j-1]);\n    return res;\n}\nsigned main(){\n    int C;\n    cin>>C>>N;\n    rep(i,N){\n        string s;cin>>s;\n        rep(j,N){\n            if(s[j]=='0')G[i][j]=0;\n            else G[i][j]=1;\n        }\n    }\n    int count=0;\n    rep(i,N/2)rep(j,N/2){\n        if(!judge(i,j))count++;\n    }\n    int ans=0;\n    if(count==0)ans++;\n    rep(qoo,C-1){\n        int D;cin>>D;\n        rep(popo,D){\n            int i,j;cin>>i>>j;\n            i--;j--;\n            bool past=judge(i,j);\n            G[i][j]=(1-G[i][j]);\n            bool now=judge(i,j);\n            if(past&&(!now))count++;\n            if((!past)&&now)count--;\n        }\n        if(count==0)ans++;\n    }\n    cout<<ans<<endl;\n\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "clude <bits/stdc++.h>\nusing namespace std;\nconst double eps=1e-9;\ntypedef vector<int> vi;\ntypedef long long ll;\nstring board[1005];\nbool sym[1005][1005];\nint C,N;\nint ans=0;\nint miss=0;\nunordered_set<int> rowdif;\nunordered_set<int> coldif;\nvector<set<int> > rowdifset(1005);\nvector<set<int> > coldifset(1005);\nvoid judge()\n{\n  for(int i=0;i<N/2;i++)\n    {\n      for(int j=0;j<N;j++)\n\t{\n\t  if(board[i][j]!=board[N-1-i][j]) \n\t    {\n\t      rowdif.insert(i);\n\t      if(j<N/2)\n\t\t{\n\t\t  rowdifset[i].insert(j);\n\t\t}\n\t      else\n\t\t{\n\t\t  rowdifset[i].insert(N-1-j);\n\t\t}\n\t    }\n\t}\n    }\n  for(int i=0;i<N/2;i++)\n    {\n      for(int j=0;j<N;j++)\n\t{\n\t  if(board[j][i]!=board[j][N-1-i]) \n\t    {\n\t      coldif.insert(i);\n\t      if(j<N/2)\n\t\t{\n\t\t  coldifset[i].insert(j);\n\t\t}\n\t      else\n\t\t{\n\t\t  coldifset[i].insert(N-1-j);\n\t\t}\n\t    }\n\t}\n    }\n}\n\nint main(void)\n{\n  cin >> C >> N;\n  for(int i=0;i<N;i++)\n    {\n      cin >> board[i];\n    }\n  judge();\n  if(rowdif.empty() && coldif.empty()) ans++;\n  for(int i=0;i<C-1;i++)\n    {\n      int change;\n      cin >> change;\n      for(int j=0;j<change;j++)\n\t{\n\t  int row,col;\n\t  cin >> row >> col;\n\t  row--,col--;\n\t  if(row>=(N/2)) row=N-1-row;\n\t  if(col>=(N/2)) col=N-1-col;\n\t  auto it=rowdifset[row].find(col);\n\t  if(it==rowdifset[row].end())\n\t    {\n\t      rowdifset[row].insert(col);\n\t      rowdif.insert(row);\n\t    }\n\t  else\n\t    {\n\t      rowdifset[row].erase(col);\n\t      if(rowdifset[row].empty())\n\t\t{\n\t\t  rowdif.erase(row);\n\t\t}\n\t    }\n\t  it=coldifset[col].find(row);\n\t  if(it==coldifset[col].end())\n\t    {\n\t      coldifset[col].insert(row);\n\t      coldif.insert(col);\n\t    }\n\t  else\n\t    {\n\t      coldifset[col].erase(row);\n\t      if(coldifset[col].empty())\n\t\t{\n\t\t  coldif.erase(col);\n\t\t}\n\t    }\n\t}\n      if(rowdif.empty() && coldif.empty()) \n\t{\n\t  cout << \"Now Tile No. \" << i+2 << endl;\n\t  ans++;\n\t}\n    }\n  cout << ans << endl;\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <iomanip>\nusing namespace std;\n\nclass Coster {\npublic:\n\tCoster(int n);\n\t~Coster();\n\tvoid diff(const int& r, const int& c);\n\tint SymmetryNum();\n\tvoid SymCalc();\n\tbool** pixel;\nprivate:\n\tint symmetry;\n\tint N;\n};\nCoster::Coster(int n) {\n\tN = n;\n\tpixel = new bool*[n];\n\tfor (int i = 0; i < n; i++)\n\t\tpixel[i] = new bool[n];\n}\nCoster::~Coster() {\n\tdelete[] pixel;\n}\nvoid Coster::diff(const int& r, const int& c) {\n\n\tpixel[r][c] = !pixel[r][c];\n}\nint Coster::SymmetryNum() {\n\treturn symmetry;\n}\nvoid Coster::SymCalc() {\n\tchar same = 0;\n\tfor (int r = 0; r < N / 2; r++) {\n\t\tfor (int c = 0; c < N / 2; c++) {\n\t\t\tsame  = pixel[r][c];\n\t\t\tsame |= pixel[r][N - c - 1] << 1;\n\t\t\tsame |= pixel[N - r - 1][c] << 2;\n\t\t\tsame |= pixel[N - r - 1][N - c - 1] << 3;\n\t\t\tif (!(same == 0x0f || same == 0x00))\n\t\t\t\treturn;\n\t\t}\t\t\n\t}\n\tsymmetry++;\n}\n\nint main()\n{\n\tint C,N;\n\tcin >> C >> N;\n\tCoster coster(N);\n\tchar n;\n\tfor (int i = 0; i < N; i++) {\n\t\tfor (int j = 0; j < N; j++) {\n\t\t\tcin >> n;\n\t\t\tcoster.pixel[i][j] = (bool)(n - '0');\n\t\t}\n\t}\n\tcout << endl;\n\tfor (int i = 0; i < N; i++) {\n\t\tfor (int j = 0; j < N; j++)\n\t\t\tcout << coster.pixel[i][j];\n\t\tcout << endl;\n\t}\n\n\tfor (int I = 1; I < C; I++) {\n\t\tint D;\n\t\tcin >> D;\n\t\tfor (int i = 0; i < D; i++) {\n\t\t\tint r, c;\n\t\t\tcin >> r >> c;\n\t\t\tcoster.diff(r, c);\n\t\t}\n\t\tcoster.SymCalc();\n\t}\n\n\tcout <<\"the coster \"<< coster.SymmetryNum() << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nint p[1000][1000]={0,0};\n\nbool Symmetry(int P[1000][1000],int n)\n{\n\tfor(int i=0;i<=n/2;i++){\n\t\tfor(int j=0;j<=n/2;j++){\n\t\t\tif(P[i][j]!=P[n-i][j]||\n\t\t\t   P[i][j]!=P[i][n-j]||\n\t\t\t   P[i][j]!=P[n-i][n-j]){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\t\n\treturn true;\n}\t\n\n\nint main()\n{\n\tint C,N;\n\tcin>>C>>N;\n\t\n\tchar tmp;\n\t\n\tfor(int i=0;i<N;i++){\n\t\tfor(int j=0;j<N;j++){\n\t\t\tcin>>tmp;\n\t\t\tif(tmp=='0'){\n\t\t\t\tp[i][j]=0;\n\t\t\t}\n\t\t\telse if(tmp=='1'){\n\t\t\t\tp[i][j]=1;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tint count=0;\n\t\n\tif(Symmetry(p,N-1)){\n\t\tcount++;\n\t}\n\t\n\tint D,r,c;\n\n\tfor(int i=1;i<C;i++){\n\t\tcin>>D;\n\t\tfor(int j=0;j<D;j++){\n\t\t\tcin>>r>>c;\n\t\t\tp[r-1][c-1]=!p[r-1][c-1];\n\n\t\t}\n\t\tif(Symmetry(p,N-1)){\n\t\t\tcount++;\n\t\t}\n\t}\n\t\n\tcout<<count<<endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nint p[1000][1000]={0,0};\n\nbool Symmetry(int P[1000][1000],int n)\n{\n\tfor(int i=0;i<=n/2;i++){\n\t\tfor(int j=0;j<=n/2;j++){\n\t\t\tif(P[i][j]==P[n-i][j]==P[i][n-j]==P[n-i][n-j]){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\t\n\treturn false;\n}\t\n\n\nint main()\n{\n\tint C,N;\n\tcin>>C>>N;\n\t\n\tchar tmp;\n\t\n\tfor(int i=0;i<N;i++){\n\t\tfor(int j=0;j<N;j++){\n\t\t\tcin>>tmp;\n\t\t\tif(tmp=='0'){\n\t\t\t\tp[i][j]=0;\n\t\t\t}\n\t\t\telse if(tmp=='1'){\n\t\t\t\tp[i][j]=1;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tint count=0;\n\t\n\tif(Symmetry(p,N-1)){\n\t\tcount++;\n\t}\n\t\n\tint D,r,c;\n\n\tfor(int i=1;i<C;i++){\n\t\tcin>>D;\n\t\tfor(int j=0;j<D;j++){\n\t\t\tcin>>r>>c;\n\t\t\tp[r-1][c-1]=!p[r-1][c-1];\n\n\t\t}\n\t\tif(Symmetry(p,N-1)){\n\t\t\tcount++;\n\t\t}\n\t}\n\t\n\tcout<<count<<endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<stdio.h>\n#include<math.h>\n#include<string>\n#include<algorithm>\n#include<utility>\n#include<vector>\nusing namespace std;\nint main(){\n    char corster[1001][1001],ch;\n    pair<int,int> at;\n    int ans=0;\n    int n,m,a,d;\n    bool bo=false;\n    cin>>m>>n;\n    for(int i=0;i<n;++i){\n        for(int j=0;j<n;++j){\n            cin>>ch;\n            if(a)corster[i][j]=true;\n            else corster[i][j]=false;\n        }\n    }\n    for(int k=0;k<n;++k){\n            for(int l=0;l<n/2;++l){\n                if(corster[k][l]!=corster[k][n-l-1]||corster[k][l]!=corster[n-l-1][k]){\n                    bo=true;\n                    break;\n                }\n            }\n            if(bo)break;\n    }\n    if(!bo)ans++;\n    bo=false;\n    for(int i=0;i<m-1;++i){\n        cin>>d;\n        for(int j=0;j<d;++j){\n            cin>>at.first>>at.second;\n            if( corster[at.first-1][at.second-1]) corster[at.first-1][at.second-1]=false;\n            else  corster[at.first-1][at.second-1]=true;\n        }\n        for(int k=0;k<n;++k){\n            for(int l=0;l<n/2;++l){\n                if(corster[k][l]!=corster[k][n-l-1]||corster[k][l]!=corster[n-l-1][k]){\n                    bo=true;\n                    break;\n                }\n            }\n            if(bo)break;\n        }\n        if(!bo)ans++;\n    }\n    cout<<ans<<endl;\n    \n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main(){\n    int c,n;\n    int m[1000][1000];\n    cin>>c>>n;\n    for(int i=0;i<n;i++){\n        for(int j=0;j<n;j++){\n            char c;\n            cin>>c;\n            m[i][j]=(c=='0'?0:1);\n        }\n    }\n    bool f=true;\n    int ans=0;\n    for(int i=0;i<(n+1)/2;i++){\n        for(int j=0;j<(n+1)/2;j++){\n            if(m[i][j]^m[n-1-i][j]^m[n-1-i][n-1-j]^m[i][n-1-j]){\n                f=false;\n                break;\n            }\n        }\n        if(!f){\n            break;\n        }\n    }\n    if(f){\n        ans++;\n    }\n    c--;\n    while(c--){\n        int d;\n        cin>>d;\n        for(int i=0;i<d;i++){\n            int r,c;\n            cin>>r>>c;\n            r--;c--;\n            m[r][c]^=1;\n        }\n        f=true;\n        for(int i=0;i<(n+1)/2;i++){\n            for(int j=0;j<(n+1)/2;j++){\n                if(m[i][j]^m[n-1-i][j]^m[n-1-i][n-1-j]^m[i][n-1-j]){\n                    f=false;\n                    break;\n                }\n            }\n            if(!f){\n                break;\n            }\n        }\n        if(f){\n            ans++;\n        }\n    }\n    cout<<ans<<endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <set>\n#include <utility>\n#define rep(i, n) for(int i = 0; i < n; ++i)\nusing namespace std;\n\nint main(void) {\n  int n, i, j, k, c, ans = 0;\n  scanf(\"%d%d\", &c, &n);\n  int m = n / 2;\n  int now[m][m];\n  char p[n][n + 10];\n  set<pair<int, int>> s;\n  rep(i, n) scanf(\"%s\", p[i]);\n  rep(i, n) rep(j, n) p[i][j] -= '0';\n  rep(i, m) rep(j, m) now[i][j] = 0;\n  rep(i, m) rep(j, m) {\n    if(p[i][j]) ++now[i][j];\n    if(p[n - 1 - i][j]) ++now[i][j];\n    if(p[i][n - 1 - j]) ++now[i][j];\n    if(p[n - 1 - i][n - 1 - j]) ++now[i][j];\n    pair<int, int> a = make_pair(i, j);\n    if(!(!now[i][j] || now[i][j] == 4)) s.insert(a);\n  }\n  /*rep(i, m) {\n    rep(j, m) printf(\"%d \", now[i][j]);\n    printf(\"\\n\");\n  }*/\n  /*for(auto it = s.begin(); it != s.end(); ++it) printf(\"%d %d\\n\", (*it).first, (*it).second);*/\n  if(s.empty()) ans++;\n  rep(i, c) {\n    int dn;\n    scanf(\"%d\", &dn);\n    rep(j, dn) {\n      int x, y;\n      scanf(\"%d%d\", &x, &y);\n      x--, y--;\n      //return 0;\n      if(p[x][y]) {\n        p[x][y] = 0;\n        if(x >= m) x = n - 1 - x;\n        if(y >= m) y = n - 1 - y;\n        now[x][y]--;\n      } else  {\n        p[x][y] = 1;\n        if(x >= m) x = n - 1 - x;\n        if(y >= m) y = n - 1 - y;\n        now[x][y]++;\n      }\n      //return 0;\n      pair<int, int> p = make_pair(x, y);\n      //return 0;\n      if(!(!now[x][y] || now[x][y] == 4)) {\n        auto it = s.find(p);\n        //return 0;\n        if(it == s.end()) s.insert(p);\n        //return 0;\n      } else {\n        //return 0;\n        auto it = s.find(p);\n        //return 0;\n        if(it != s.end()) s.erase(p);\n      }\n      //return 0;\n    }\n    if(s.empty()) ++ans;\n  }\n  printf(\"%d\\n\", ans);\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <string>\n#include <vector>\n#include <iostream>\n#include <algorithm>\n#include <functional>\nusing namespace std;\nint main() {\n\tcin.tie(0);\n\tios_base::sync_with_stdio(false);\n\tint C, N;\n\tcin >> C >> N;\n\tvector<string> S(N);\n\tfor (int i = 0; i < N; ++i) {\n\t\tcin >> S[i];\n\t}\n\tfunction<bool(int, int)> judge = [&](int i, int j) {\n\t\tif (S[i][j] == S[N - i - 1][j] && S[i][j] == S[i][N - j - 1] && S[i][j] == S[N - i - 1][N - j - 1]) return true;\n\t\treturn false;\n\t};\n\tint cnt = 0;\n\tfor (int i = 0; i < N; ++i) {\n\t\tfor (int j = 0; j < N; ++j) {\n\t\t\tint x = min(i, N - i - 1), y = min(j, N - j - 1);\n\t\t\tif (x == i && y == j) {\n\t\t\t\tif (!judge(x, y)) ++cnt;\n\t\t\t}\n\t\t}\n\t}\n\tint ans = 0;\n\tif (cnt == 0) ++ans;\n\tfor (int i = 1; i < C; ++i) {\n\t\tint D;\n\t\tcin >> D;\n\t\tfor (int j = 0; j < D; ++j) {\n\t\t\tint x, y;\n\t\t\tcin >> x >> y; --x, --y;\n\t\t\tint tx = min(x, N - x - 1), ty = min(y, N - y - 1);\n\t\t\tif (!judge(tx, ty)) --cnt;\n\t\t\tS[x][y] = (S[x][y] == '0' ? '1' : '0');\n\t\t\tif (!judge(tx, ty)) ++cnt;\n\t\t}\n\t\tif (cnt == 0) ++ans;\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main(){\n    int c,n;\n    int m[1000][1000];\n    cin>>c>>n;\n    for(int i=0;i<n;i++){\n        for(int j=0;j<n;j++){\n            cin>>m[i][j];\n        }\n    }\n    bool f=true;\n    int ans=0;\n    for(int i=0;i<=n/2+1;i++){\n        for(int j=0;j<=n/2+1;j++){\n            if(m[i][j]!=m[n-1-i][j]||m[i][j]!=m[n-1-i][n-1-j]||m[i][j]!=m[i][n-1-j]){\n                f=false;\n                break;\n            }\n        }\n    }\n    if(f){\n        ans++;\n    }\n    c--;\n    while(c--){\n        int d;\n        cin>>d;\n        for(int i=0;i<d;i++){\n            int r,c;\n            cin>>r>>c;\n            r--;c--;\n            m[r][c]^=1;\n        }\n        f=true;\n        for(int i=0;i<=n/2+1;i++){\n            for(int j=0;j<=n/2+1;j++){\n                if(m[i][j]!=m[n-1-i][j]||m[i][j]!=m[n-1-i][n-1-j]||m[i][j]!=m[i][n-1-j]){\n                    if(f){\n                        ans++;\n                    }\n                }\n            }\n        }\n        f=false;\n    }\n    cout<<ans<<endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\n#include<functional>\nusing namespace std;\nchar tate[1000][500],yoko[500][1000];\nchar co[1000][1001];\nint main(void)\n{\n\tint i,j,c,n,d,dr,dc,cnt,tc,yc,d2;\n\tscanf(\"%d %d\",&c,&n);\n\tfor(i=0;i<n;i++)\t{\n\t\tscanf(\" %s\",co[i]);\n\t}\n//\tfor(i=0;i<n;i++)\tprintf(\"%s\\n\",co[i]);\n\ttc=0;\n\tfor(i=0;i<n;i++)\t{\n\t\tfor(j=0;j<n/2;j++)\t{\n\t\t\tif(co[i][j]==co[i][n-j-1])\t{\n\t\t\t\ttate[i][j]=0;\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttate[i][j]=1;\n\t\t\t\ttc++;\n\t\t\t}\n\t\t}\n\t}\n\tyc=0;\n\tfor(j=0;j<n;j++)\t{\n\t\tfor(i=0;i<n/2;i++)\t{\n\t\t\tif(co[i][j]==co[n-i-1][j])\t{\n\t\t\t\tyoko[i][j]=0;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tyoko[i][j]=1;\n\t\t\t\tyc++;\n\t\t\t}\n\t\t}\n\t}\n\tif(yc==0 && tc==0)\tcnt=1;\n\telse cnt=0;\n\tfor(i=1;i<c;i++)\t{\n\t\tscanf(\"%d\",&d);\n\t\tfor(j=0;j<d;j++)\t{\n\t\t\tscanf(\"%d %d\",&dr,&dc);\n\t\t\tdr--;\tdc--;\n//\t\t\tprintf(\"  %d %d\\n\",dr,dc);\n\t\t\tif(dc>=n/2)\td2=n-dc-1;\n\t\t\telse d2=dc;\n//\t\t\tprintf(\" dr=%d d2=%d\\n\",dr,d2);\n\t\t\tif(tate[dr][d2]==1)\t{\n\t\t\t\ttate[dr][d2]=0;\n\t\t\t\ttc--;\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttate[dr][d2]=1;\n\t\t\t\ttc++;\n\t\t\t}\n\t\t\tif(dr>=n/2)\td2=n-dr-1;\n\t\t\telse d2=dr;\n\t\t\tif(yoko[d2][dc]==1)\t{\n\t\t\t\tyoko[d2][dc]=0;\n\t\t\t\tyc--;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tyoko[d2][dc]=1;\n\t\t\t\tyc++;\n\t\t\t}\t\t\n//\t\t\tprintf(\"tc=%d yc=%d\\n\",tc,yc);\n\t\t}\n\t\tif(tc==0 && yc==0)\tcnt++;\n\t}\n\tprintf(\"%d\\n\",cnt);\n\treturn 0;\n}\n\t\n"
  },
  {
    "language": "C++",
    "code": "# include <iostream>\n# include <algorithm>\n# include <vector>\n# include <string>\n# include <set>\n# include <map>\n# include <cmath>\n# include <iomanip>\n# include <functional>\n# include <utility>\n# include <stack>\n# include <queue>\n# include <list>\n# include <tuple>\n# include <unordered_map>\n# include <numeric>\n# include <complex>\n# include <bitset>\n# include <random>\n# include <chrono>\n# include <cstdlib>\n# include <tuple>\n# include <array>\nusing namespace std;\nusing LL = long long;\nusing ULL = unsigned long long;\nusing D = double;\nconstexpr int INF = 2147483647;\nconstexpr int HINF = INF / 2;\nconstexpr double DINF = 100000000000000000.0;\nconstexpr double HDINF = 50000000000000000.0;\nconstexpr long long LINF = 9223372036854775807;\nconstexpr long long HLINF = 4500000000000000000;\nconst double PI = acos(-1);\ntemplate <typename T_char>T_char TL(T_char cX) { return tolower(cX); };\ntemplate <typename T_char>T_char TU(T_char cX) { return toupper(cX); };\ntypedef pair<LL, LL> pii;\nconst int vy[] = { -1, -1, -1, 0, 1, 1, 1, 0 }, vx[] = { -1, 0, 1, 1, 1, 0, -1, -1 };\nconst int dx[4] = { 0,1,0,-1 }, dy[4] = { 1,0,-1,0 };\nint popcnt(unsigned long long n) { int cnt = 0; for (int i = 0; i < 64; i++)if ((n >> i) & 1)cnt++; return cnt; }\nint d_sum(LL n) { int ret = 0; while (n > 0) { ret += n % 10; n /= 10; }return ret; }\nint d_num(LL n) { int ret = 0; while (n > 0) { ret++; n /= 10; }return ret; }\nLL gcd(LL a, LL b) { if (b == 0)return a; return gcd(b, a%b); };\nLL lcm(LL a, LL b) { LL g = gcd(a, b); return a / g*b; };\n# define ALL(qpqpq)           (qpqpq).begin(),(qpqpq).end()\n# define RALL(qpqpq)           (qpqpq).rbegin(),(qpqpq).rend()\n# define UNIQUE(wpwpw)        sort(ALL((wpwpw)));(wpwpw).erase(unique(ALL((wpwpw))),(wpwpw).end())\n# define LOWER(epepe)         transform(ALL((epepe)),(epepe).begin(),TL<char>)\n# define UPPER(rprpr)         transform(ALL((rprpr)),(rprpr).begin(),TU<char>)\n# define FOR(i,tptpt,ypypy)   for(LL i=(tptpt);i<(ypypy);i++)\n# define RFOR(i,tptpt,ypypy)  for(LL i=(tptpt);i>=(ypypy);i--)\n# define REP(i,upupu)         FOR(i,0,upupu)\n# define INIT                 std::ios::sync_with_stdio(false);std::cin.tie(0)\n\nint c, n;\nstring s[101010];\nint cnt[1010][1010];\n\nint calc(int pos) {\n\tif (pos < n / 2)return pos;\n\treturn n - pos - 1;\n}\n\nint main() {\n\tcin >> c >> n;\n\tREP(i, n) {\n\t\tcin >> s[i];\n\t}\n\tREP(i, n)REP(j, n) {\n\t\tif(s[i][j]=='1')cnt[calc(i)][calc(j)]++;\n\t}\n\tint ngcnt = 0;\n\tREP(i, n / 2)REP(j, n / 2) {\n\t\tif (cnt[i][j] % 4 != 0)ngcnt++;\n\t}\n\tint ans = 0;\n\tif (ngcnt == 0)ans++;\n\tREP(ccc, c - 1) {\n\t\tint d;\n\t\tcin >> d;\n\t\tREP(i, d) {\n\t\t\tint r, c;\n\t\t\tcin >> r >> c;\n\t\t\tr--, c--;\n\t\t\tif (s[r][c] == '1') {\n\t\t\t\ts[r][c] = '0';\n\t\t\t\tcnt[calc(r)][calc(c)]--;\n\t\t\t\tif (cnt[calc(r)][calc(c)] % 4 == 0)ngcnt--;\n\t\t\t\telse if (cnt[calc(r)][calc(c)] % 4 == 3)ngcnt++;\n\t\t\t}\n\t\t\telse {\n\t\t\t\ts[r][c] = '1';\n\t\t\t\tcnt[calc(r)][calc(c)]++;\n\t\t\t\tif (cnt[calc(r)][calc(c)] % 4 == 0)ngcnt--;\n\t\t\t\telse if (cnt[calc(r)][calc(c)] % 4 == 1)ngcnt++;\n\t\t\t}\n\t\t}\n\t\n\t\tif (ngcnt == 0) {\n\t\t\tans++;\n\t\t}\n\t}\n\tcout << ans << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<iostream>\n#include<algorithm>\n#include<string>\n#include<queue>\n#include<vector>\n#include<functional>\n#include<cmath>\n#include<map>\n#include<stack>\n#include<set>\n#include<numeric>\n#include<limits>\n#include<iterator>\n\n#define all(x) (x).begin(),(x).end()\n#define rall(x) (x).rbegin(),(x).rend()\n\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int, int> pi;\ntypedef pair<ll, ll> pl;\ntypedef pair<ll, char> plc;\n\nint c, n;\nint field[1010][1010];\n\nbool check() {\n\tfor (int i = 0; i < n/2; i++) {\n\t\tfor (int j = 0; j < n; j++) {\n\t\t\tif ((field[i][j] != field[n - i - 1][j])||\n\t\t\t\t(field[j][i] != field[j][n-i-1])){\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t}\n\treturn 1;\n}\n\nint main()\n{\n\tcin >> c >> n;\n\tint ans = 0;\n\n\tfor (int i = 0; i < n; i++) {\n\t\tfor (int j = 0; j < n; j++) \n\t\t\tscanf_s(\"%1d\",&field[i][j]);\n\t}\n\n\tif (check())ans++;\n\tfor (int i = 0; i < c-1; i++) {\n\t\tint m; cin >> m;\n\t\tfor (int j = 0; j < m; j++) {\n\t\t\tint x, y;\n\t\t\tcin >> x >> y;\n\t\t\tx--, y--;\n\t\t\tif (field[x][y])field[x][y] = 0;\n\t\t\telse field[x][y] = 1;\n\t\t}\n\t\tif (check())ans++;\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nbool Symmetry(int P[1000][1000],int n)\n{\n\tfor(int i=0;i<=n/2;i++){\n\t\tfor(int j=0;j<n;j++){\n\t\t\tif(P[i][j]!=P[n-i][n-j]){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\t\n\treturn true;\n}\t\n\nint main()\n{\n\tint C,N;\n\tcin>>C>>N;\n\t\n\tint p[1000][1000]={0,0};\n\t\n\tfor(int i=0;i<N;i++){\n\t\tfor(int j=0;j<N;j++){\n\t\t\tcin>>p[i][j];\n\t\t}\n\t}\n\t\n\tint D,r,c;\n\tint count=0;\n\t\n\tfor(int i=0;i<C;i++){\n\t\tcin>>D;\n\t\tfor(int j=0;j<D;j++){\n\t\t\tcin>>r>>c;\n\t\t\tp[r][c]=~p[r][c];\n\t\t}\n\t\tif(Symmetry(p,N)){\n\t\t\tcount++;\n\t\t}\n\t}\n\t\n\tcout<<count<<endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef string str;\n#define down_queue(x) priority_queue<x>\n#define up_queue(x) priority_queue<x, vector<x>, greater<x>>\n#define vec(x) vector<x>\nll gcd(ll a,ll b){while(b){ll tmp = a % b;a = b;b = tmp;}return a;}\nll lcm(ll a,ll b){return a / gcd(a,b) * b;}\n#define rep(x, y) for(int x = 0; x < (y); x++)\n#define rrep(x, y) for(int x = (y); x >= 0; x--)\n#define REP(x, z, y) for(int x = (z); x < (y); x++)\n#define RREP(x, z, y) for(int x = (y); x >= (z); x--)\n#define all(x) x.begin(), x.end()\n#define split_str(str, sp_word) istringstream stream(str); string res; for(int cnt = 0; getline(stream,res,sp_word); cnt++)\n#define digit(x) ((int)log10((double)(x)) + 1)\n#define mp(x,y) make_pair(x,y)\n#define pb(x) push_back(x)\n#define pf(x) push_front(x)\n#define out(x) for(auto i : x) cout << i << \" \"; cout << endl;\n#define outln(x) for(auto i : x) cout << i << \" \" << endl;\n#define vec_cpy(to,from) copy(all(to),back_inserter(from))\n#define ary_cpy(to,from) memcpy(to, from, sizeof from)\n#define MOD = 1000000007; \n#ifdef DEBUG\n#define debug_echo(e) cout << \"|\" << __LINE__ << \"| \" << e << endl\n#define debug_var(e) cout << \"|\" << __LINE__ << \"| \" << #e << \": \" << e << endl\n#define debug_echo_dp(dp, N) { cout << \"[ \"; rep(cnt, N) cout << dp[cnt] << \" \";  cout << \"]\" << endl; }\n#else\n#define debug_echo(e)\n#define debug_var(e)\n#define debug_echo_dp(dp, N)\n#endif\n\nint main(){\n  int C,n,d,r,c,ans = 0; cin >> C >> n;\n  int harf = n / 2;\n  int h_cnt = 0;\n  int w_cnt = 0;\n  vec(bool) h[harf],w[n],h_goal(n,true),w_goal(harf,true);\n  str p[n];\n\n  rep(i,n) cin >> p[i];\n\n  //????????????????????¨\n  rep(i,harf)\n    rep(j,n){\n      h[i].pb(p[i][j] == p[n - i - 1][j]);\n      if(p[i][j] != p[n - i - 1][j]) h_cnt++;\n    }\n\n  //?¨??????????????????¨\n  rep(i,n)\n    rep(j,harf){\n      w[i].pb(p[i][j] == p[i][n - j - 1]);\n      if(p[i][j] != p[i][n - j - 1]) w_cnt++;\n    }\n\n  if(w_cnt == 0 && h_cnt == 0) ans++;\n\n  rep(i,C - 1){\n    cin >> d;\n    rep(i,d){\n      cin >> r >> c;\n      r--; c--;\n\n      if(h[(r >= harf ? n - r - 1 : r)][c]) h_cnt++;\n      else h_cnt--;\n\n      if(w[r][(c >= harf ? n - c - 1 : c)]) w_cnt++;\n      else w_cnt--;\n\n      //????????¨???????????????????????¢\n      h[(r >= harf ? n - r - 1 : r)][c] = !h[(r >= harf ? n - r - 1 : r)][c];\n      w[r][(c >= harf ? n - c - 1 : c)] = !w[r][(c >= harf ? n - c - 1 : c)];\n    } \n\n    if(h_cnt == 0 && w_cnt == 0) ans++;\n  }\n\n  cout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\nusing namespace std;\n\nint p[10000][10000]={0,0};\n\nbool Symmetry(int P[10000][10000],int n)\n{\n\tfor(int i=0;i<=n/2;i++){\n\t\tfor(int j=0;j<=n;j++){\n\t\t\tif(P[i][j]!=P[n-i][j]){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfor(int i=0;i<=n;i++){\n\t\tfor(int j=0;j<=n/2;j++){\n\t\t\tif(P[i][j]!=P[i][n-j]){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\t\n\treturn true;\n}\t\n\nint main()\n{\n\tint C,N;\n\tcin>>C>>N;\n\t\n\t\n\t\n\tchar tmp;\n\t\n\tfor(int i=0;i<N;i++){\n\t\tfor(int j=0;j<N;j++){\n\t\t\tcin>>tmp;\n\t\t\tif(tmp=='0'){\n\t\t\t\tp[i][j]=0;\n\t\t\t}\n\t\t\telse if(tmp=='1'){\n\t\t\t\tp[i][j]=1;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tint count=0;\n\t\n\tif(Symmetry(p,N-1)){\n\t\tcount++;\n\t}\n\t\n\tint D,r,c;\n\n\tfor(int i=1;i<C;i++){\n\t\tcin>>D;\n\t\tfor(int j=0;j<D;j++){\n\t\t\tcin>>r>>c;\n\t\t\tp[r-1][c-1]=!p[r-1][c-1];\n\n\t\t}\n\t\tif(Symmetry(p,N-1)){\n\t\t\tcount++;\n\t\t}\n\t}\n\t\n\tcout<<count<<endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nusing ll = long long;\n\nconstexpr ll inf = 1e18;\n\nstruct edge {\n    int to;\n    ll c1, c2;\n};\n\nusing edges = vector<edge>;\nusing graph = vector<edges>;\n\nint main() {\n    int n, p;\n    cin >> n >> p;\n    graph g(n);\n    for(int i = 0; i < p; ++i) {\n        int s, e;\n        ll t1, t2;\n        cin >> s >> e >> t1 >> t2;\n        g[s - 1].push_back(edge{e - 1, t1, t2});\n    }\n\n    vector<int> topo(n, -1);\n    int idx = 0;\n    function<void(int)> calc_topo = [&] (int v) {\n        if(topo[v] != -1) return;\n        for(auto& e : g[v]) {\n            calc_topo(e.to);\n        }\n        topo[v] = idx++;\n    };\n    calc_topo(0);\n\n    vector<vector<ll>> dist(n, vector<ll>(n, inf));\n    dist[0][0] = 0;\n    using state = tuple<ll, int, int>;\n    priority_queue<state, vector<state>, greater<state>> que;\n    que.emplace(0, 0, 0);\n    while(!que.empty()) {\n        ll cur_c;\n        int fst_v, sec_v;\n        tie(cur_c, fst_v, sec_v) = que.top();\n        que.pop();\n        if(fst_v == sec_v) {\n            for(auto& e : g[fst_v]) {\n                ll nxt_c = cur_c + e.c1 + e.c2;\n                if(dist[e.to][e.to] > nxt_c) {\n                    dist[e.to][e.to] = nxt_c;\n                    que.emplace(nxt_c, e.to, e.to);\n                }\n            }\n\n            for(auto& e1 : g[fst_v]) {\n                for(auto& e2 : g[sec_v]) {\n                    if(e1.to == e2.to) continue;\n                    ll nxt_c = cur_c + e1.c1 + e2.c1;\n                    if(dist[e1.to][e2.to] > nxt_c) {\n                        dist[e1.to][e2.to] = nxt_c;\n                        que.emplace(nxt_c, e1.to, e2.to);\n                    }\n                }\n            }\n        } else {\n            if(topo[fst_v] > topo[sec_v]) {\n                for(auto& e : g[fst_v]) {\n                    if(topo[e.to] > topo[sec_v]) continue;\n                    ll nxt_c = cur_c + e.c1;\n                    if(dist[e.to][sec_v] > nxt_c) {\n                        dist[e.to][sec_v] = nxt_c;\n                        que.emplace(nxt_c, e.to, sec_v);\n                    }\n                }\n            } else {\n                for(auto& e : g[sec_v]) {\n                    if(topo[e.to] > topo[fst_v]) continue;\n                    ll nxt_c = cur_c + e.c1;\n                    if(dist[fst_v][e.to] > nxt_c) {\n                        dist[fst_v][e.to] = nxt_c;\n                        que.emplace(nxt_c, fst_v, e.to);\n                    }\n                }\n            }\n        }\n    }\n\n    cout << dist[n - 1][n - 1] << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define syosu(x) fixed<<setprecision(x)\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> P;\ntypedef pair<double,double> pdd;\ntypedef pair<ll,ll> pll;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<double> vd;\ntypedef vector<vd> vvd;\ntypedef vector<ll> vl;\ntypedef vector<vl> vvl;\ntypedef vector<string> vs;\ntypedef vector<P> vp;\ntypedef vector<vp> vvp;\ntypedef vector<pll> vpll;\ntypedef pair<int,P> pip;\ntypedef vector<pip> vip;\nconst int inf=1<<30;\nconst ll INF=1ll<<60;\nconst double pi=acos(-1);\nconst double eps=1e-8;\nconst ll mod=1e9+7;\nconst int dx[4]={-1,0,1,0},dy[4]={0,-1,0,1};\n\nint n,m;\nvvi a;\n\nint main(){\n\tcin>>m>>n;\n\ta=vvi(n,vi(n));\n\tfor(int i=0;i<n;i++) for(int j=0;j<n;j++){\n\t\tchar c;\n\t\tcin>>c;\n\t\tif(c=='1') a[i][j]++;\n\t}\n\tint t=0,N=n/2,res=0;\n\tfor(int i=0;i<N;i++) for(int j=0;j<N;j++){\n\t\tint sum=a[i][j]+a[n-i-1][j]+a[i][n-j-1]+a[n-i-1][n-j-1];\n\t\tif(0<sum&&sum<4) t++;\n\t}\n\tif(!t) res++;\n\tfor(int i=1;i<m;i++){\n\t\tint A;\n\t\tcin>>A;\n\t\tfor(int j=0;j<A;j++){\n\t\t\tint x,y;\n\t\t\tcin>>x>>y;\n\t\t\tx--;y--;\n\t\t\tint sum=a[x][y]+a[n-x-1][y]+a[x][n-y-1]+a[n-x-1][n-y-1];\n\t\t\tif(0<sum&&sum<4) t--;\n\t\t\ta[x][y]^=1;\n\t\t\tsum=a[x][y]+a[n-x-1][y]+a[x][n-y-1]+a[n-x-1][n-y-1];\n\t\t\tif(0<sum&&sum<4) t++;\n\t\t}\n\t\tif(!t) res++;\n\t}\n\tcout<<res<<endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nstruct Point{\n\tint x,y;\n};\ntypedef vector<Point>V_Point;\nchar box[1001][1002];\nint box1[1001][1001];\nint flg[1000][1000]={0};\nint main(void){\n\tint q,n,m;\n\tint w,h;\n\tint x,y;\n\tint a1,b1,a2,b2,a3,b3;\n\tint flag,flag2;\n\tint cnt;\n\tint mis;\n\tint i,j;\n\tPoint pp;\n\tV_Point v;\n\tcin>>q>>m;\n\t// printf(\"q=%d m=%d\\n\",q,m);\n\tw=m;\th=m;\n\tfor(i=0;i<h;i++){\n\t\tfor(j=0;j<w;j++){\n\t\t\tcin>>box[i][j];\n\t\t}\n\t}\n\tfor(i=0;i<h;i++){\n\t\tfor(j=0;j<w;j++){\n\t\t\tbox1[i+1][j+1]=box[i][j]-'0';\n\t\t}\n\t}\n\t// for(i=1;i<=h;i++){\n\t\t// for(j=1;j<=w;j++){\n\t\t\t// cout<<box[i][j];\n\t\t// }\n\t\t// cout<<endl;\n\t// }\n\tmis=0;\n\tfor(i=1;i<=h/2;i++){\n\t\tfor(j=1;j<=w/2;j++){\n\t\t\tflag=0;\t\n\t\t\ta1=i;\t\tb1=w+1-j;\n\t\t\ta2=h+1-i;\tb2=w+1-j;\n\t\t\ta3=h+1-i;\tb3=j;\n\t\t\tif(box1[i][j]!=box1[a1][b1])\t\tflag=1;\n\t\t\tif(box1[i][j]!=box1[a2][b2])\t\tflag=1;\n\t\t\tif(box1[i][j]!=box1[a3][b3])\t\tflag=1;\n\t\t\tif(flag==1){\n\t\t\t\tflg[i][j]=1;\n\t\t\t\tflg[a1][b1]=1;\n\t\t\t\tflg[a2][b2]=1;\n\t\t\t\tflg[a3][b3]=1;\n\t\t\t\t// printf(\"i=%d j=%d\\n\",i,j);\n\t\t\t\tmis++;\n\t\t\t}\n\t\t\t// if(i==1&&j==3||i==4&&j==3){\n\t\t\t\t// printf(\"left_up    y=%d x=%d\\n\",i,j);\n\t\t\t\t// printf(\"right_up   y=%d x=%d\\n\",a1,b1);\n\t\t\t\t// printf(\"right_down y=%d x=%d\\n\",a2,b2);\n\t\t\t\t// printf(\"left_down  y=%d x=%d\\n\",a3,b3);\n\t\t\t// }\n\t\t}\n\t}\n\t// printf(\"mistake=%d\\n\",mis);\n\tcnt=0;\n\tif(mis==0)\tcnt++;\n\t// printf(\"cnt_now=%d\\n\",cnt);\n\tfor(i=0;i<q-1;i++){\n\t\t// printf(\"cloth_now=%d\\n\",i+2);\n\t\t// printf(\"mistake_now=%d\\n\",mis);\n\t\tcin>>n;\n\t\t// printf(\"n=%d\\n\",n);\n\t\tv.clear();\n\t\tfor(j=0;j<n;j++){\n\t\t\tcin>>y>>x;\n\t\t\t// printf(\"y=%d x=%d\\n\",y,x);\n\t\t\tif(box1[y][x]==0)\tbox1[y][x]=1;\n\t\t\telse\t\t\t\tbox1[y][x]=0;\n\t\t\tpp.y=y;\tpp.x=x;\n\t\t\tv.push_back(pp);\n\t\t}\n\t\t// printf(\"check2\\n\");\n\t\tfor(j=0;j<(int)v.size();j++){\n\t\t\tflag=0;\n\t\t\tpp=v[j];\n\t\t\ta1=pp.y;\t\tb1=w+1-pp.x;\n\t\t\ta2=h+1-pp.y;\tb2=w+1-pp.x;\n\t\t\ta3=h+1-pp.y;\tb3=pp.x;\n\t\t\t// printf(\"y=%d x=%d map=%c flg=%d\\n\",pp.y,pp.x,box[pp,y][pp.x],flg[pp.y][pp.x]);\n\t\t\t// printf(\"y=%d x=%d map=%c\\n\",a1,b1,box[a1][b1]);\n\t\t\t// printf(\"y=%d x=%d map=%c\\n\",a2,b2,box[a2][b2]);\n\t\t\t// printf(\"y=%d x=%d map=%c\\n\",a3,b3,box[a3][b3]);\n\t\t\t// printf(\"\\n\");\n\t\t\tif(flg[pp.y][pp.x]==1){\n\t\t\t\tif(box1[pp.y][pp.x]==box1[a1][b1]&&box1[a1][b1]==box1[a2][b2]&&box1[a2][b2]==box1[a3][b3]){\n\t\t\t\t\tmis--;\n\t\t\t\t\tflg[pp.y][pp.x]=0;\n\t\t\t\t\tflg[a1][b1]=0;\n\t\t\t\t\tflg[a2][b2]=0;\n\t\t\t\t\tflg[a3][b3]=0;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif(!(box1[pp.y][pp.x]==box1[a1][b1]&&box1[a1][b1]==box1[a2][b2]&&box1[a2][b2]==box1[a3][b3])){\n\t\t\t\t\tmis++;\n\t\t\t\t\tflg[pp.y][pp.x]=1;\n\t\t\t\t\tflg[a1][b1]=1;\n\t\t\t\t\tflg[a2][b2]=1;\n\t\t\t\t\tflg[a3][b3]=1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t// printf(\"mistake_next=%d\\n\",mis);\n\t\tif(mis==0){\n\t\t\tcnt++;\n\t\t\t// printf(\"i=%d cnt_now=%d\\n\",i+2,cnt);\n\t\t}\n\t}\n\tcout<<cnt<<endl;\n\treturn 0;\n}\n\t\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\nusing namespace std;\n\nint main(){\n\n    int c,n,d,x,y,count;\n\n    count = 0;\n\n    cin >> c >> n;\n\n    bool table[n][n];\n\n    char cha;\n\n     for(int i=0; i<n; i++){\n       for(int j=0; j<n; j++){\n           cin >> cha;\n           table[i][j] = cha=='0' ? 0 : 1;\n       }\n     }\n\n     bool flag=true;\n\n     for(int i=0; i<n/2; i++){\n       for(int j=0; j<n/2; j++){\n           if( (table[i][j] + table[i][N-j] + table[N-i][j] + table[N-i][N-j]) % 4 != 0){\n             flag = false;\n             break;\n           }\n       }\n       if(!flag){\n         break;\n       }\n     }\n\n     if(flag){\n       count++;\n     }\n\n     for(int k=0;k<c-1;k++){\n\n       cin >> d;\n\n       for(int i=0;i<d;i++){\n         cin >> x >> y;\n         table[x-1][y-1] = !table[x-1][y-1];\n       }\n\n       flag=true;\n\n       for(int i=0; i<n/2; i++){\n         for(int j=0; j<n/2; j++){\n             if( (table[i][j] + table[i][N-j] + table[N-i][j] + table[N-i][N-j]) % 4 != 0){\n               flag = false;\n               break;\n             }\n         }\n         if(!flag){\n           break;\n         }\n       }\n\n       if(flag){\n         count++;\n       }\n     }\n\n     cout << count << endl;\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long int ll;\n\n// template {{{  0 \n// using {{{ 1\nusing ll = long long int;\nusing pii = pair<int,int>;\nusing pll = pair<ll,ll>;\nusing vi = vector<int>;\nusing vl = vector<ll>;\nusing vii = vector<pii>;\nusing vll = vector<pll>;\n// }}} 1\n// definition {{{ 1\n// scaning {{{ 2\n#define Scd(x) scanf(\"%d\", &x)\n#define Scd2(x,y) scanf(\"%d%d\", &x, &y)\n#define Scd3(x,y,z) scanf(\"%d%d%d\", &x, &y, &z)\n#define Scll(x) scanf(\"%lld\", &x)\n#define Scll2(x,y) scanf(\"%lld%lld\", &x, &y)\n#define Scll3(x,y,z) scanf(\"%lld%lld%lld\", &x, &y, &z)\n#define Scc(c) scanf(\"%c\", &c);\n#define Scs(s) scanf(\"%s\", s);\n#define Scstr(s) scanf(\"%s\", &s);\n// }}} 2\n// constants {{{ 2\n#define EPS (1e-7)\n#define INF (2e9)\n#define PI (acos(-1))\n// }}} 2\n// systems {{{ 2\n#define Repe(x,y,z) for(ll x = z; x < y; x++)\n#define Rep(x,y) Repe(x,y,0)\n#define RRepe(x,y,z) for(ll x = y-z-1; x >= 0; x--)\n#define RRep(x,y) RRepe(x,y,0)\n// }}} 2\n// output {{{ 2\n#define YesNo(a) (a)?printf(\"Yes\\n\"):printf(\"No\\n\")\n#define YESNO(a) (a)?printf(\"YES\\n\"):printf(\"NO\\n\")\n// }}} 2\n// }}} 1\n// input {{{ 1\n// }}} 1\n// }}} 0\n\nint main() {\n\n    int C,N;\n    Scd2(C,N);\n    int n = N/2;\n\n    static char p[1111][1111];\n    Rep(i,N){\n        Scs(p[i]);\n    }\n\n    int sym = 0;\n    int ans = 0;\n\n    vector<vi> d(n,vi(n,0));\n    Rep(i,n){\n        Rep(j,n){\n            d[i][j] |= ( p[i][j] == '1'     ) << 0;\n            d[i][j] |= ( p[N-i-1][j] == '1'   ) << 1;\n            d[i][j] |= ( p[i][N-j-1] == '1'   ) << 2;\n            d[i][j] |= ( p[N-i-1][N-j-1] == '1' ) << 3;\n            if( d[i][j] == 0 || d[i][j] == 15 ) sym++;\n        }\n    }\n    if( sym == n*n ) ans++;\n\n    C--;\n    int D;\n    int r,c;\n    int sh;\n    Rep(i,C){\n        Scd(D);\n        Rep(i,D){\n            Scd2(r,c);\n            r--,c--; sh = 0;\n            if( r >= n ) sh+=1, r=N-r-1;\n            if( c >= n ) sh+=2, c=N-c-1;\n            if( d[r][c] == 0 || d[r][c] == 15 ) sym--;\n            d[r][c] ^= 1 << sh;\n            if( d[r][c] == 0 || d[r][c] == 15 ) sym++;\n        }\n        if( sym == n*n ) ans++;\n    }\n\n    printf (\"%d\\n\", ans );\n\n    return 0;\n}\n\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define N 1005\nusing namespace std;\ntypedef pair<int,int> P;\n\nint c, n;\nstring p[N];\nbool a[N][N];\n\nP point_lu(int y,int x){\n  \n  int resy=y,resx=x;\n  \n  if(resy>=n/2) resy=n-resy-1;\n  \n  if(resx>=n/2) resx=n-resx-1;\n\n  return P(resy,resx);\n}\n\nbool check(int y,int x){\n\n  P A=point_lu(y,x);\n  \n  y=A.first; x=A.second;\n\n  char a1=p[y][x];\n  char a2=p[n-y-1][x];\n  char a3=p[y][n-x-1];\n  char a4=p[n-y-1][n-x-1];\n  \n  return a1==a2&&a2==a3&&a3==a4;\n}\n\nint main(){\n\n  cin>>c>>n;\n\n  for(int i=0;i<n;i++) cin>>p[i];\n  \n  int cnt=0;\n  \n  for(int i=0;i<n/2;i++)\n    for(int j=0;j<n/2;j++)\n      if(!check(i,j)) cnt++;\n      else a[i][j]=true;\n  \n  int ans=0;\n\n  if(!cnt) ans++;\n  \n  for(int i=0;i<c-1;i++){\n    \n    int d;\n    cin>>d;\n\n    for(int j=0;j<d;j++){\n      \n      int y,x;\n\n\n      cin>>y>>x;\n      y--, x--;\n\n      P R=point_lu(y,x);\n      \n      bool f=a[R.first][R.second];\n      \n      if(p[y][x]=='0') p[y][x]='1';\n      else if(p[y][x]=='1') p[y][x]='0';\n      \n      if(check(y,x)){\n\ta[R.first][R.second]=true;\n\tif(!f) cnt--;\n      }\n      else if(f){\n\ta[R.first][R.second]=false;\n\tcnt++;\n      }\n      \n    }\n\n    if(!cnt) ans++;\n  }\n  \n  cout<<ans<<endl;\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int, int> P;\n\n#define pb push_back\n#define rep(i, a, n) for(int i = (a); i < (n); i++)\n#define dep(i, a, n) for(int i = (a); i >= (n); i--)\n#define mod 1e9+7\n\n__attribute__((constructor))\nvoid initial() {\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n}\n\nstruct T {\n  int a;\n  int t;\n};\n\nint main() {\n  int c, n;\n  cin >> c >> n;\n\n  T g[n][n] = {};\n  rep(i, 0, n) {\n    string s;\n    cin >> s;\n    rep(j, 0, n) g[i][j].a = s[j] == '1' ? 1 : 0;\n  }\n  int y = 0;\n  rep(i, 0, n / 2) {\n    rep(j, 0, n / 2) {\n      if(g[i][j].a != g[n - i - 1][j].a) continue;\n      if(g[i][j].a != g[i][n - j - 1].a) continue;\n      if(g[i][j].a != g[n - i - 1][n - j - 1].a) continue;\n      y++;\n      g[i][j].t = true, g[n - i - 1][j].t = true;\n      g[i][n - j - 1].t = true, g[n - i - 1][n - j - 1].t = true;\n    }\n  }\n\n  int ans = 0;\n  if(y == (n * n) / 4) ans++;\n\n  rep(i, 0, c - 1) {\n    int nn;\n    cin >> nn;\n    rep(j, 0, nn) {\n      int a, b;\n      cin >> a >> b;\n      a--, b--;\n      int f = 1;\n      g[a][b].a = !g[a][b].a;\n      if(g[a][b].a != g[n - a - 1][b].a) f = false;\n      if(g[a][b].a != g[a][n - b - 1].a) f = false;\n      if(g[a][b].a != g[n - a - 1][n - b - 1].a) f = false;\n\n      if(g[a][b].t) {\n        g[a][b].t = false;\n        g[n - a - 1][b].t = false;\n        g[a][n - b - 1].t = false;\n        g[n - a - 1][n - b - 1].t = false;\n        y--;\n      }else if(f) {\n        g[a][b].t = true;\n        g[n - a - 1][b].t = true;\n        g[a][n - b - 1].t = true;\n        g[n - a - 1][n - b - 1].t = true;\n        y++;\n      }\n    }\n    if(y == (n * n) / 4) ans++;\n  }\n\n  cout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\n\nvector<vector<int>>coaster;\nvector < vector<pair<int, int>>>difs;\nint main() {\n\tint C, N; cin >> C >> N;\n\tmap<pair<int, int>, vector<int>>mp;\n\t{\n\t\tvector<vector<int>>field(N, vector<int>(N));\n\t\tfor (int y = 0; y< N; ++y) {\n\t\t\tstring st; cin >> st;\n\t\t\tfor (int x = 0; x < N; ++x) {\n\t\t\t\tfield[y][x]=st[x]-'0';\n\t\t\t}\n\t\t}\n\t\tcoaster = field;\n\t\tdifs.resize(C-1);\n\t\tfor (int i = 0; i < C-1; ++i) {\n\t\t\tint D; cin >> D;\n\t\t\twhile (D--) {\n\t\t\t\tint y, x; cin >> y >> x; y--; x--;\n\t\t\t\tdifs[i].push_back(make_pair(y, x));\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t}\n\tvector<vector<vector<int>>>vs(N / 2, \n\t\tvector<vector<int>>(N / 2,vector<int>( 4)));\n\tint sum = 0;\n\tfor (int y = 0; y < N; ++y) {\n\t\tfor (int x = 0; x < N; ++x) {\n\t\t\tif (y >= N / 2 && x >= N / 2)vs[N - y - 1][N - x - 1][3] = coaster[y][x];\n\t\t\tif (y >= N / 2 && x < N / 2)vs[N - y - 1][x][2] = coaster[y][x];\n\t\t\tif (y < N / 2 && x >= N / 2)vs[y][N - x - 1][1] = coaster[y][x];\n\t\t\tif (y < N / 2 && x < N / 2)vs[y][x][0] = coaster[y][x];\n\n\t\t}\n\t}\n\tfor (int y = 0; y < N / 2; ++y) {\n\t\tfor (int x = 0; x < N / 2; ++x) {\n\t\t\tsum+= 1-(all_of(vs[y][x].begin(), vs[y][x].end(), [=](const int a) {return a == vs[y][x][0]; }));\n\t\t}\n\t}\n\tint ans = 0;\n\tif (!sum)ans++;\n\tfor (int i = 0; i < C-1; ++i) {\n\t\tfor (auto dif : difs[i]) {\n\t\t\tint y = dif.first;\n\t\t\tint x = dif.second;\n\t\t\tcoaster[y][x] = !coaster[y][x];\n\t\t\tint ay = y >= N / 2 ? N - y - 1 : y;\n\t\t\tint ax = x >= N / 2 ? N - x - 1 : x;\n\t\t\tsum-= 1-(all_of(vs[ay][ax].begin(), vs[ay][ax].end(), [=](const int a) {return a == vs[ay][ax][0]; }));\n\t\t\tif (y >= N / 2 && x >= N / 2)vs[N - y - 1][N - x - 1][3] = coaster[y][x];\n\t\t\tif (y >= N / 2 && x < N / 2)vs[N - y - 1][x][2] = coaster[y][x];\n\t\t\tif (y < N / 2 && x >= N / 2)vs[y][N - x - 1][1] = coaster[y][x];\n\t\t\tif (y < N / 2 && x < N / 2)vs[y][x][0] = coaster[y][x];\n\t\t\tsum += 1-(all_of(vs[ay][ax].begin(), vs[ay][ax].end(), [=](const int a) {return a == vs[ay][ax][0]; }));\n\n\t\t}\n\t\tif (!sum)ans++;\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint c,n;\nint con=0;\nbool coa[1001][1001];\nbool cc[101];\nbool coacheck(){\n  if(con==0)return true;\n  else return false;\n}\nint main(){\n  cin >>c>>n;\n  for(int i=1;i<=n;i++){\n    string coaster;\n    cin >> coaster;\n    for(int j=1;j<=n;j++){\n      int kari =coaster[j-1]-48;\n      coa[i][j]=kari;\n    }\n  }\n\n  for(int i=1;i<=n/2;i++){\n    for(int j=1;j<=n/2;j++){\n      if((coa[i][j]==coa[i][n-j+1])\n      &&(coa[i][j]==coa[n-i+1][j])\n      &&(coa[i][j]==coa[n-i+1][n-j+1])){\n      }else{\n        con++;\n      }\n    }\n  }\n\n  int coacon =0;\n  if(coacheck())coacon++;\n  for(int i=1;i<c;i++){\n    int numcon =0;\n    int num;\n    cin >>num;\n    int a[202];\n    for(int j=1;j<=num*2;j++){\n      cin >>a[j];\n    }\n    for(int j=1;j<=num;j++){\n    bool check1;\n    if((coa[a[j*2-1]][a[j*2]]==coa[a[j*2-1]][n+1-a[j*2]])\n    &&(coa[a[j*2-1]][a[j*2]]==coa[n-a[j*2-1]+1][a[j*2]])\n    &&(coa[a[j*2-1]][a[j*2]]==coa[n-a[j*2-1]+1][n-a[j*2]+1])){\n      check1 =true;\n    }else{\n      check1 =false;\n    }\n    if(coa[a[j*2-1]][a[j*2]]==true)coa[a[j*2-1]][a[j*2]]=false;\n      else coa[a[j*2-1]][a[j*2]]=true;\n    bool check2;\n    if((coa[a[j*2-1]][a[j*2]]==coa[a[j*2-1]][n+1-a[j*2]])\n    &&(coa[a[j*2-1]][a[j*2]]==coa[n-a[j*2-1]+1][a[j*2]])\n    &&(coa[a[j*2-1]][a[j*2]]==coa[n-a[j*2-1]+1][n-a[j*2]+1])){\n      check2 =true;\n    }else{\n      check2 =false;\n    }\n    if((check1==true)&&(check2==false))con++;\n    else if((check1==false)&&(check2==true))con--;\n  }\n    if(coacheck())coacon++;\n  }\n  cout << coacon <<endl;\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\nint ok[500][500];\nint m[1000][1000];\nint main(){\n    int c,n;\n    cin>>c>>n;\n    memset(ok,0,sizeof(ok));\n    for(int i=0;i<n;i++){\n        for(int j=0;j<n;j++){\n            char ch;\n            cin>>ch;\n            m[j][i]=ch-'0';\n        }\n    }\n    int ans=0,cnt=0;\n    for(int i=0;i<n/2;i++)for(int j=0;j<n/2;j++){\n        ok[i][j]=m[i][j]+m[n-i-1][j]+m[n-i-1][n-j-1]+m[i][n-j-1];\n        if(ok[i][j]%4==0)cnt++;\n    }\n    if(cnt==(n/2)*(n/2))ans++;\n    c--;\n    while(c--){\n        int d;\n        cin>>d;\n        while(d--){\n            int a,b;\n            cin>>a>>b;a--;b--;\n            if(m[b][a]){\n            \n                m[b][a]=0;\n                a=a>=n/2?n-a-1:a;\n                b=b>=n/2?n-b-1:b;\n                ok[b][a]--;\n                if(ok[b][a]==3)cnt--;\n                if(ok[b][a]==0)cnt++;\n            }else{\n                m[b][a]=1;\n                a=a>=n/2?n-a-1:a;\n                b=b>=n/2?n-b-1:b;\n                ok[b][a]++;\n                if(ok[b][a]==1)cnt--;\n                if(ok[b][a]==4)cnt++;\n            }\n        }\n        if(cnt==(n/2)*(n/2))ans++;\n    }\n    cout<<ans<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n\nusing namespace std;\n\nint main()\n{\n    int C, N;\n    cin>>C>>N;\n    vector<vector<int>> H(N, vector<int>(N/2));\n    vector<vector<int>> V(N/2, vector<int>(N));\n    for (int y=0; y<N; y++)\n    {\n        string l;\n        cin>>l;\n        for (int x=0; x<N; x++)\n        {\n            if (l[x] == '1')\n            {\n                H[y][x<N/2 ? x : N-x-1] ^= 1;\n                V[y<N/2 ? y : N-y-1][x] ^= 1;\n            }\n        }\n    }\n\n//    for (int y=0; y<N; y++)\n//    {\n//        for (int x=0; x<N/2; x++)\n//            cout<<H[y][x];\n//        cout<<endl;\n//    }\n\n    int Hc = 0;\n    for (int y=0; y<N; y++)\n    for (int x=0; x<N/2; x++)\n        Hc += H[y][x];\n    int Vc = 0;\n    for (int y=0; y<N/2; y++)\n    for (int x=0; x<N; x++)\n        Vc += V[y][x];\n    int ans = Hc==0 && Vc==0 ? 1 : 0;\n    for (int i=0; i<C-1; i++)\n    {\n        int D;\n        cin>>D;\n        for (int j=0; j<D; j++)\n        {\n            int x, y;\n            cin>>y>>x;\n            x--, y--;\n            H[y][x<N/2 ? x : N-x-1] ^= 1;\n            if (H[y][x<N/2 ? x : N-x-1] == 1)\n                Hc++;\n            else\n                Hc--;\n            V[y<N/2 ? y : N-y-1][x] ^= 1;\n            if (V[y<N/2 ? y : N-y-1][x] == 1)\n                Vc++;\n            else\n                Vc--;\n        }\n        //cout<<Hc<<\" \"<<Vc<<endl;\n        if (Hc==0 && Vc==0)\n            ans++;\n    }\n    cout<<ans<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint n,m;\nstring s[1000];\nbool same(int x, int y) {\n  return s[x][y]==s[n-x-1][y] && s[x][y]==s[x][n-y-1] && s[x][y]==s[n-x-1][n-y-1];\n}\n\nint main() {\n  cin >> m >> n;\n  for(int i=0; i<n; i++) cin >> s[i];\n  int c=0,ans=0;\n  for(int i=0; i<n/2+n%2; i++) {\n    for(int j=0; j<n/2+n%2; j++) {\n      if(!same(i,j)) c++;\n    }\n  }\n  if(!c) ans++;\n  m--;\n  while(m--) {\n    int k,x,y;\n    cin >> k;\n    while(k--) {\n      cin >> x >> y;\n      x--,y--;\n      bool f=0;\n      if(same(x,y)) f=1;\n      s[x][y]=(s[x][y]=='1')?'0':'1';\n      x=min(x,n-x-1);\n      y=min(y,n-y-1);\n      if(same(x,y)) c--;\n      else if(f) c++;\n    }\n    if(!c) ans++;\n  }\n  cout << ans << endl;\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nbool table[1000][1000];\n\nint main() {\n\n    int c,n;\n\n    int count = 0;\n\n    int ans = 0;\n\n    cin >> c >> n;\n\n    char ch;\n\n    for(int i=0;i<n;i++){\n        for(int j=0;j<n;j++){\n            scanf(\" %c\",&ch);\n            if(ch=='0'){\n                table[i][j] = false;\n            }\n            else{\n                table[i][j] = true;\n            }\n        }\n    }\n\n    for(int i=0;i<n/2;i++){\n        for(int j=0;j<n/2;j++){\n            if(table[i][j] != table[i][n-1-j] || table[i][j] != table[n-1-i][j] || table[i][j] != table[n-1-i][n-1-j]){\n                count++;\n            }\n        }\n    }\n\n    if(count == 0){\n        ans++;\n    }\n\n    for(int i=0;i<c-1;i++){\n        int d;\n        scanf(\" %d\",&d);\n\n        for(int j=0;j<d;j++){\n            int r,x;\n            scanf(\" %d %d\",&r,&x);\n            r--;x--;\n            bool check = true;\n            if(table[r][x] != table[r][n-1-x] || table[r][x] != table[n-1-r][x] || table[r][x] != table[n-1-r][n-1-x]){\n                check = false;\n            }\n            table[r][x] = !table[r][x];\n            if(table[r][x] != table[r][n-1-x] || table[r][x] != table[n-1-r][x] || table[r][x] != table[n-1-r][n-1-x]){\n                if(check){\n                    count++;\n                }\n            }\n            else{\n                count--;\n            }\n        }\n        if(count == 0){\n            ans++;\n        }\n\n    }\n\n    cout << ans << endl;\n\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<stdio.h>\n#include<math.h>\n#include<string>\n#include<algorithm>\n#include<utility>\n#include<vector>\nusing namespace std;\nint main(){\n    char corster[1001][1001],ch;\n    pair<int,int> at;\n    int ans=0;\n    int n,m,a,d;\n    bool bo=false;\n    cin>>m>>n;\n    for(int i=0;i<n;++i){\n        for(int j=0;j<n;++j){\n            cin>>ch;\n            if(ch=='1')corster[i][j]=true;\n            else corster[i][j]=false;\n        }\n    }\n    for(int k=0;k<n;++k){\n            for(int l=0;l<n/2;++l){\n                if(corster[k][l]!=corster[k][n-l-1]||corster[k][l]!=corster[n-k-1][l]){\n                    bo=true;\n                    break;\n                }\n            }\n            if(bo)break;\n    }\n    if(!bo)ans++;\n    bo=false;\n    for(int i=0;i<m-1;++i){\n        cin>>d;\n        for(int j=0;j<d;++j){\n            cin>>at.first>>at.second;\n            if( corster[at.first-1][at.second-1]) corster[at.first-1][at.second-1]=false;\n            else  corster[at.first-1][at.second-1]=true;\n        }\n        for(int k=0;k<n;++k){\n            for(int l=0;l<n/2;++l){\n                if(corster[k][l]!=corster[k][n-l-1]||corster[k][l]!=corster[n-k-1][l]){\n                    bo=true;\n                    break;\n                }\n            }\n            if(bo)break;\n        }\n        if(!bo)ans++;\n        bo=false;\n    }\n    cout<<ans<<endl;\n    \n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n\nusing namespace std;\nusing ll = long long;\nusing ull = unsigned long long;\n\ntypedef pair<int, int>pi;\ntypedef pair<ll, ll> P;\ntypedef pair<ll, P> PP;\ntypedef pair<P, P> PPP;\n\nconst ll MOD = 1e9 + 7;\nconst ll INF = 9e18;\nconst double DINF = 5e14;\nconst double eps = 1e-10;\nconst int di[4] = { 1,0,-1,0 }, dj[4] = { 0,1,0,-1 };\n\n#define ALL(x) (x).begin(),(x).end()\n#define ALLR(x) (x).rbegin(),(x).rend()\n#define pb push_back\n#define eb emplace_back\n#define fr first\n#define sc second\n\nint C, n, diff, x, y, dif1, dif2, ans;\nchar c[1010][1010];\n\nint main() {\n\tcin >> C >> n;\n\tfor (int i = 1;i <= n;i++) {\n\t\tfor (int j = 1;j <= n;j++) {\n\t\t\tcin >> c[i][j];\n\t\t}\n\t}\n\tfor (int i = 1;i <= n;i++) {\n\t\tfor (int j = 1;j <= n;j++) {\n\t\t\tif (c[i][j] != c[i][n - j + 1])dif1++;\n\t\t\tif (c[i][j] != c[n - i + 1][j])dif2++;\n\t\t}\n\t}\n\tfor (int i = 0;i < C;i++) {\n\t\tif (!dif1 && !dif2)ans++;\n\t\tcin >> diff;\n\t\tfor (int j = 0;j < diff;j++) {\n\t\t\tcin >> x >> y;\n\t\t\tbool fl1 = 0, fl2 = 0;\n\t\t\tif (c[x][y] != c[x][n - y + 1])fl1 = 1;\n\t\t\tif (c[x][y] != c[n - x + 1][y])fl2 = 1;\n\t\t\tif (c[x][y] == '1')c[x][y] = '0';\n\t\t\telse c[x][y] = '1';\n\t\t\tif (c[x][y] == c[x][n - y + 1]&&fl1)dif1-=2;\n\t\t\telse if (c[x][y] != c[x][n - y + 1] && !fl1)dif1+=2;\n\t\t\tif (c[x][y] == c[n - x + 1][y])dif2 -= 2;\n\t\t\telse if (c[x][y] != c[n - x + 1][y] && !fl2)dif2 += 2;\n\t\t}\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nbool Symmetry(int P[1000][1000],int n)\n{\n\tfor(int i=0;i<=n/2;i++){\n\t\tfor(int j=0;j<n;j++){\n\t\t\tif(P[i][j]!=P[n-i][j]){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\t\n\treturn true;\n}\t\n\nint main()\n{\n\tint C,N;\n\tcin>>C>>N;\n\t\n\tint p[1000][1000]={0};\n\t\n\tfor(int i=0;i<N;i++){\n\t\tfor(int j=0;j<N;j++){\n\t\t\tcin>>p[i][j];\n\t\t}\n\t}\n\t\n\tint count=0;\n\t\n\tif(Symmetry(p,N)){\n\t\tcount++;\n\t}\n\t\n\tint D,r,c;\n\n\tfor(int i=1;i<C;i++){\n\t\tcin>>D;\n\t\tfor(int j=0;j<D;j++){\n\t\t\tcin>>r>>c;\n\t\t\tp[r][c]=!p[r][c];\n\t\t\tcout<<p[r][c]<<endl;\n\t\t}\n\t\tif(Symmetry(p,N)){\n\t\t\tcount++;\n\t\t}\n\t}\n\t\n\tcout<<count<<endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <set>\n#include <cstdio>\nusing namespace std;\n#define F first\n#define S second\ntypedef long long ll;\ntypedef pair<ll,ll> P;\nint c,n,ans,s;\nint p[2005][2005];\nbool v[1005][1005];\nint main(void){\n    cin>>c>>n;\n    for(int i=0;i<n;i++){\n        char f[1005];\n        cin>>f;\n        for(int j=0;j<n;j++)if(f[j]=='1')p[i][j]=1;\n    }\n    for(int i=0;i<n/2;i++){\n        for(int j=0;j<n/2;j++){\n            int x=n-1-i,y=n-1-j;\n            if(p[i][j]==p[x][j]&&p[x][j]==p[i][y]&&p[i][y]==p[x][y])v[i][j]=true;\n            if(!v[i][j])ans++;\n        }\n    }\n    if(ans==0)s++;\n    c--;\n    while(c){\n        int d;\n        cin>>d;\n        for(int i=0;i<d;i++){\n            int x,y,z,w;\n            cin>>x>>y;\n            x--;y--;\n            z=n-1-x;\n            w=n-1-y;\n            p[x][y]=(p[x][y]+1)%2;\n            bool q=false;\n            if(p[x][y]==p[x][w]&&p[x][w]==p[z][y]&&p[z][y]==p[z][w])q=true;\n            bool u=v[min(x,z)][min(y,w)];\n            if(u&&!q)ans++;\n            if(!u&&q)ans--;\n            v[min(x,z)][min(y,w)]=q;\n        }\n        if(ans==0)s++;\n        c--;\n    }\n    cout<<s<<endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\nusing namespace std;\n\nchar p[1100][1100];\n\nint main(){\n\n\tint C=0;//布の枚数\n\tint N=0;//横＆縦の行数\n\t\n\tint D=0;\n\tint Y=0;//r\n\tint X=0;//c\n\tint henkou=0;\n\tint kioku=0; //対象かどうかを見るときに一時的に格納する変数\n\tint out=0;//対象になっていないことを記憶\n\tint aout=0;//内容変更によって対称かを記憶する\n\tint error=0;//対象になってない組の個数\n\t\n\tint G[100];//変更するX座標\n\tint H[100];//変更するY座標\n\t\n\tint i=0;\n\tint j=0;\n\tint d=0;\n\tint in=0;\n\tint A=0;\n\tint x=0;\n\tint y=0;\n                \n    cin>>C;\n\tcin>>N;\t\n\tfor(i=0;i<N;i++){\n\t\tcin>>p[i];\n\t}\t\n\t/*\n\tfor(y=0;y<N;y++){\n\t    for(x=0;x<N;x++){\n\t        cout<<p[y][x];\n\t    }\n\t    cout<<endl;\n\t}\n\t*/\n\t\n\t/////////一週目の処理/////////////////\n\tfor(Y=0;Y<N/2;Y++){\n\t\tfor(X=0;X<N/2;X++){\n\t\t\tout=0;\n\t\t\tkioku=p[Y][X];\n\t\t\t\tif(p[Y][N-1-X]!=kioku){\n\t\t\t\t\tout=1;\n\t\t\t\t}//左右対称かを見る\n\t\t\t\t\n\t\t\t\tif(p[N-1-Y][X]!=kioku){\n\t\t\t\t\tout=1;\n\t\t\t\t}//上下が対称か見る\n\t\t\t\t\n\t\t\t\tif(p[N-1-Y][N-1-X]!=kioku){\n\t\t\t\t\tout=1;\n\t\t\t\t}//斜めに対称か見る\n\t\t\t\t\t\t\n\t\t\tif(out==1){\n\t\t\t\terror=error+1;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//cout<<error<<endl;\n\t\n\t//-----------------------------------------------------------\n\tif(error==0){\n\t\tA=A+1;    //一枚目対称象だった\n\t}\n\n        //////////////////// ////////////////////////////////////////////////////\n\n\t//////二週目以降（ループ）変更点のみを計算//////\n\t\n\tfor(i=0;i<C-1;i++){\n//\t\tcout<<\"/////////////////\"<<endl; \n\t\t\t\n\t\t///変更///\n\t\tcin>>D;     \n\t\tfor(j=0;j<D;j++){\n\t\t\tcin>>H[j]>>G[j];\n\t\t                                  \n\t    \tout=0;\n\t    \taout=0;\n\t\t\t///////////要変更/////////////////////\n\t\t    kioku=p[H[j]-1][G[j]-1];                          \n\t\t\tif(kioku!=p[H[j]-1][N-G[j]] || kioku!=p[N-H[j]][G[j]-1] || kioku!=p[N-H[j]][N-G[j]]){//--------------------\n                //左右反転座標              //上下反転座標              //上下左右反転座標\n\t\t\t\tout=1;//完全対称になっていない\n\t\t\t}\n\t\t\t/*if(kioku==p[H[j]-1][N-G[j]] && kioku==p[N-H[j]][G[j]-1] && kioku==p[G[j]-1][H[j]-1]){\n\t\t\t\tout=0;\n\t\t\t}\n\t\t\t*/\n\t\t\t/////////////////////////////////////////\n\t\t\t\n\t\t\t//内容の変更//\n\t\t\tif(p[H[j]-1][G[j]-1]=='0'){\n\t\t\t\tp[H[j]-1][G[j]-1]='1';\n\t\t\t\t//cout<<\"ok\";\n\t\t\t\t//cout<<p[H[j]-1][G[j]-1]<<endl;\n\t\t\t}else{\n\t\t\t\tp[H[j]-1][G[j]-1]='0';\n\t\t\t    //cout<<\"ok\";\n\t\t\t    //cout<<p[H[j]-1][G[j]-1]<<endl;\n\t\t\t}\n\t\t\t\n\t\t\t\n//\t\t\t\tcout<<p[0];\n\t\t\t\n////////////////////////\n\t\t\t\n\t\t\t///////\n\t\t\t\n\t\t\t///要変更///////////////////////////////////\n\t\t\tkioku=p[H[j]-1][G[j]-1];\t\t\t\n\t\t\tif(kioku!=p[H[j]-1][N-G[j]] || kioku!=p[N-H[j]][G[j]-1] || kioku!=p[N-H[j]][N-G[j]]){//--------------------\n                                      //左右反転座標              //上下反転座標                                            //上下左右反転座標\n\t\t\t\taout=1;//完全対称になっていない\n\t\t\t\t//cout<<\"非対称\"<<endl;\n\t\t\t}/*\n\t\t\tif(kioku==p[H[j]-1][N-G[j]] && kioku==p[N-H[j]][G[j]-1] && kioku==p[N-H[j]][N-G[j]]){\n\t\t\t\taout=0;\n\t\t\t}*/\n\t\t\t\n\t\t\t/////////////////////////////////////////////\n\t\t\t\n\t\t\tif(out==0 && aout==1){//対称が崩れたとき\n\t\t\t\terror=error+1;\n\t\t//\t\tcout<<\"崩れた\"<<endl;\n\t\t\t}\n\t\t\tif(out==1 && aout==0){//対称になったとき\n\t\t\t\terror=error-1;\n\t\t//\t\tcout<<\"対称になった\"<<endl;\n\t\t\t}\n\t\t\t/*\n\t\t\tfor(d=0;d<N;d++){\n\t\t\t    cout<<p[d]<<endl;\n\t\t\t}\n\t\t\tcout<<endl;\n\t\t\t*/\n\t\t}\n\t\t\n\t\t//out<<error<<endl;\n\t\t\n\t\tif(error==0){\n\t\t\tA=A+1;\n\t\t}\n\t\t//cout<<A<<endl;\t\t\n\t\t//////\n\t\t//cout<<\"-----------------\"<<endl;\n\n    }\n\ncout<<A<<endl;\n\n\n\n\n                 \n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define r(i,n) for(int i=0;i<n;i++)\nusing namespace std;\nstring s[1001];\nint n,c,x,y,p,ans;\nbool ch(){\n  char t[1001][1001];\n  r(i,n)r(j,n)t[i][j]=s[n-i-1][n-j-1];\n  r(i,n)r(j,n)if(t[i][j]!=s[i][j])return 0;\n  return 1;\n}\nint main(){\n  cin>>c>>n;\n  r(i,n)cin>>s[i];\n  if(ch())ans++;\n  r(i,c-1){\n    cin>>p;\n    r(i,p){\n      cin>>y>>x;x--;y--;\n      if(s[y][x]=='0')s[y][x]='1';\n      else s[y][x]='0';\n    }\n    if(ch())ans++;\n  }\n  cout<<ans<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\n\nint p[1000][1000]{};\nint N;\n\nbool check(int i, int j) {\n    if (i >= N / 2) i = N - i - 1;\n    if (j >= N / 2) j = N - j - 1;\n    if (p[i][j] != p[N - i - 1][j]) return false;\n    if (p[i][j] != p[i][N - j - 1]) return false;\n    if (p[i][j] != p[N - i - 1][N - j - 1]) return false;\n    return true;\n}\n\nint to_index(int r, int c) {\n    if (r >= N / 2) r = N - r - 1;\n    if (c >= N / 2) c = N - c - 1;\n    return (N - 1) * r + c;\n}\n\nint main() {\n    int C;\n    cin >> C >> N;\n    int D[C - 1];\n    for (int i = 0; i < N; i++) {\n        string s;\n        cin >> s;\n        for (int j = 0; j < N; j++) {\n            p[i][j] = s[j] - '0';\n        }\n    }\n    \n    vector<pair<int, int>> q[C - 1];\n    for (int i = 0; i < C - 1; i++) {\n        cin >> D[i];\n        for (int j = 0; j < D[i]; j++) {\n            int r, c;\n            cin >> r >> c;\n            r--;\n            c--;\n            q[i].push_back(make_pair(r, c));\n        }\n    }\n    int ans = 0;\n    int c[N][N]{};\n    set<int> s;\n    for (int i = 0; i < N / 2; i++) {\n        for (int j = 0; j < N / 2; j++) {\n            if (!check(i, j)) s.insert(to_index(i, j));\n        }\n    }\n    if (s.size() == 0) ans = 1;\n\n    for (int i = 0; i < C - 1; i++) {\n        for (int j = 0; j < D[i]; j++) {\n            int r = q[i][j].first;\n            int c = q[i][j].second;\n            (p[r][c] == 1) ? p[r][c] = 0 : p[r][c] = 1;\n            if (!check(r, c)) {\n                s.insert(to_index(r, c));\n            } else {\n                if (s.count(to_index(r, c)) == 1) {\n                    s.erase(to_index(r, c));\n                }\n            }\n        }\n        if (s.size() == 0) ans++;\n    }\n    cout << ans << \"\\n\";\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <iostream>\n#define TRUE 1\n#define FALSE 0\nusing namespace std;\nint main()\n{\n\tint C,N,i,j,k,a,b,ans=0;\n\tstatic int tate[500][1000],yoko[1000][500];\n\tstatic char cost[1000][1000];\n\tstatic int r[10000][100],c[10000][100];\n\tint D[10000];\n\tbool taisho1,taisho2;\n\tcin>>C>>N;\n\tfor (i=0;i<N;i++)\n\t{\n\t\tcin>>cost[i];\n\t}\n\tfor (i=0;i<N/2;i++)\n\t{\n\t\tfor (j=0;j<N;j++)\n\t\t{\n\t\t\tif (cost[i][j]==cost[N-i-1][j])\n\t\t\t{\n\t\t\t\ttate[i][j]=TRUE;\n\t\t\t\t//cout<<'T';\n\t\t\t} else {\n\t\t\t\t//cout<<'F';\n\t\t\t}\n\t\t}\n\t\t//putchar('\\n');\n\t}\n\tfor (i=0;i<N;i++)\n\t{\n\t\tfor (j=0;j<N/2;j++)\n\t\t{\n\t\t\tif (cost[i][j]==cost[i][N-j-1])\n\t\t\t{\n\t\t\t\tyoko[i][j]=TRUE;\n\t\t\t\t//cout<<'T';\n\t\t\t} else {\n\t\t\t\t//cout<<'F';\n\t\t\t}\n\t\t}\n\t\t//putchar('\\n');\n\t}\n\t//一枚目が対象かどうか\n\ttaisho1=taisho2=true;\n\tfor (i=0;i<N/2;i++)\n\t{\n\t\tfor (j=0;j<N;j++)\n\t\t{\n\t\t\tif (!tate[i][j])\n\t\t\t{\n\t\t\t\ttaisho1=false;\n\t\t\t}\n\t\t}\n\t}\n\tfor (i=0;i<N;i++)\n\t{\n\t\tfor (j=0;j<N/2;j++)\n\t\t{\n\t\t\tif (!yoko[i][j])\n\t\t\t{\n\t\t\t\ttaisho2=false;\n\t\t\t}\n\t\t}\n\t}\n\tif (taisho1&&taisho2)\n\t{\n\t\t//printf(\"1枚目対称\\n\");\n\t\tans++;\n\t} else {\n\t\t//printf(\"1枚目対称でない\\n\");\n\t}\n\t//1\n\tif (C==1)\n\t{\n\t\t//1枚だけ\n\t\tif (taisho1&&taisho2)\n\t\t{\n\t\t\tcout<<'1'<<endl;\n\t\t} else {\n\t\t\tcout<<'0'<<endl;\n\t\t}\n\t\treturn 0;\n\t}\n\t//Cは1でない\n\tfor (k=0;k<C-1;k++){\n\tcin>>D[k];\n\tfor (i=0;i<D[k];i++)\n\t{\n\t\tcin>>a>>b;\n\t\ta--;b--;\n\t\t/*\n\t\tr[0][i]=a;\n\t\tc[0][i]=b;\n\t\t*/\n\t\tif (a>=N/2)//入力されたx座標が半分超える\n\t\t{\n\t\t\ttate[N-1-a][b]=!tate[N-1-a][b];\n\t\t} else {\n\t\t\ttate[a][b]=!tate[a][b];\n\t\t}\n\t\tif (b>=N/2)//入力されたy座標が半分超える\n\t\t{\n\t\t\tyoko[a][N-1-b]=!yoko[a][N-1-b];\n\t\t} else {\n\t\t\tyoko[a][b]=!yoko[a][b];\n\t\t}\n\t}\n\t//print\n\ttaisho1=taisho2=true;\n\tfor (i=0;i<N/2;i++)\n\t{\n\t\tfor (j=0;j<N;j++)\n\t\t{\n\t\t\tif (tate[i][j])\n\t\t\t{\n\t\t\t\t//cout<<'T';\n\t\t\t} else {\n\t\t\t\ttaisho1=false;\n\t\t\t\t//cout<<'F';\n\t\t\t}\n\t\t}\n\t\t//putchar('\\n');\n\t}\n\tfor (i=0;i<N;i++)\n\t{\n\t\tfor (j=0;j<N/2;j++)\n\t\t{\n\t\t\tif (yoko[i][j])\n\t\t\t{\n\t\t\t\t//cout<<'T';\n\t\t\t} else {\n\t\t\t\ttaisho2=false;\n\t\t\t\t//cout<<'F';\n\t\t\t}\n\t\t}\n\t\t//putchar('\\n');\n\t}\n\tif (taisho1&&taisho2)\n\t{\n\t\t//printf(\"%d:対称\\n\",k+2);\n\t\tans++;\n\t} else {\n\t\t//printf(\"%d:対称でない\\n\",k+2);\n\t}\n\t}\n\tcout<<ans<<endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main(){\n    int c,n;\n    int m[1000][1000];\n    cin>>c>>n;\n    for(int i=0;i<n;i++){\n        for(int j=0;j<n;j++){\n            cin<<m[i][j];\n        }\n    }\n    bool f=true;\n    int ans=0;\n    for(int i=0;i<=n/2+1;i++){\n        for(int j=0;j<=n/2+1;j++){\n            if(m[i][j]!=m[n-1-i][j]||m[i][j]!=m[n-1-i][n-1-j]||m[i][j]!=m[i][n-1-j]){\n                f=false;\n                break;\n            }\n        }\n    }\n    if(f){\n        ans++;\n    c--;\n    while(c--){\n        int d;\n        cin>>d;\n        for(int i=0;i<d;i++){\n            int r,c;\n            cin>>r>>c;\n            r--;c--;\n            m[r][c]^=1;\n        }\n        f=true;\n        for(int i=0;i<=n/2+1;i++){\n            for(int j=0;j<=n/2+1;j++){\n                if(m[i][j]!=m[n-1-i][j]||m[i][j]!=m[n-1-i][n-1-j]||m[i][j]!=m[i][n-1-j]){\n                    if(f){\n                        ans++;\n                    }\n                }\n            }\n        }\n        f=false;\n    }\n    cout<<ans<<endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\nusing namespace std;\n\nint main(){\n\n    int c,n,d,x,y,count;\n\n    count = 0;\n\n    cin >> c >> n;\n\n    bool table[n][n];\n    string s[n];\n\n     for(int i=0;i<n;i++){\n         cin >> s[i];\n     }\n\n     for(int i=0;i<n;i++){\n       for(int j=0;j<n;j++){\n         if(s[i][j] == '0'){\n           table[i][j] =false;\n         }\n         else{\n           table[i][j] = true;\n         }\n       }\n     }\n\n     bool flag=true;\n\n     for(int i=0;i<n;i++){\n       for(int j=0;j<n/2;j++){\n         if(table[i][j] != table[i][n-j-1]){\n           flag = false;\n           break;\n         }\n       }\n       if(!flag){\n         break;\n       }\n     }\n\n\n     if(flag){\n       for(int i=0;i<n/2;i++){\n         for(int j=0;j<n;j++){\n           if(table[i][j] != table[n-i-1][j]){\n             flag = false;\n             break;\n           }\n         }\n         if(!flag){\n           break;\n         }\n       }\n     }\n\n     if(flag){\n       count++;\n     }\n\n     for(int k=0;k<c-1;k++){\n\n       cin >> d;\n\n       for(int i=0;i<d;i++){\n         cin >> x >> y;\n         table[x-1][y-1] = !table[x-1][y-1];\n       }\n\n       flag=true;\n\n       for(int i=0;i<n;i++){\n         for(int j=0;j<n/2;j++){\n           if(table[i][j] != table[i][n-j-1]){\n             flag = false;\n             break;\n           }\n         }\n         if(!flag){\n           break;\n         }\n       }\n\n       if(flag){\n         for(int i=0;i<n/2;i++){\n           for(int j=0;j<n;j++){\n             if(table[i][j] != table[n-i-1][j]){\n               flag = false;\n               break;\n             }\n           }\n           if(!flag){\n             break;\n           }\n         }\n       }\n\n       if(flag){\n         count++;\n       }\n     }\n\n     cout << count << endl;\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <cmath>\n#include <algorithm>\n#include <stack>\n#include <queue>\n#include <vector>\ntypedef long long int ll;\n#define BIG_NUM 2000000000\n#define MOD 1000000007\nusing namespace std;\n\nstruct Info{\n\tInfo(int arg_row,int arg_col){\n\t\trow = arg_row;\n\t\tcol = arg_col;\n\t}\n\tint row,col;\n};\n\n int main(){\n\n\t int C,N,count = 0,not_num,not_num_work,D,tmp_row,tmp_col;\n\t scanf(\"%d %d\",&C,&N);\n\n\t char** base_table = new char*[N];\n\t bool** check = new bool*[N/2];\n\n\t for(int i = 0; i < N; i++){\n\t\t base_table[i] = new char[N+1];\n\t }\n\n\t for(int i = 0; i < N/2; i++){\n\t\t check[i] = new bool[N/2];\n\t }\n\n\t for(int i = 0; i < N; i++){\n\t\t scanf(\"%s\",base_table[i]);\n\t }\n\n\t not_num = 0;\n\t for(int row_div = 0; row_div <= (N/2)-1;row_div++){\n\t\t for(int col_div = 0; col_div <= (N/2)-1;col_div++){\n\t\t\t if(base_table[row_div][col_div] == base_table[row_div][N-1-col_div] &&\n\t\t\t\tbase_table[row_div][col_div] == base_table[N-1-row_div][col_div] &&\n\t\t\t\tbase_table[row_div][col_div] == base_table[N-1-row_div][N-1-col_div]){\n\t\t\t\t check[row_div][col_div] = true;\n\t\t\t }else{\n\t\t\t\t check[row_div][col_div] = false;\n\t\t\t\t not_num++;\n\t\t\t }\n\t\t }\n\t }\n\n\t if(not_num == 0)count++;\n\n\t if(C == 1){\n\t\t printf(\"%d\\n\",count);\n\t\t return 0;\n\t }\n\n\t stack<Info> ChangeLog;\n\n\t for(int loop = 1; loop <= C-1; loop++){\n\n\t\t while(!ChangeLog.empty()){\n\n\t\t\t if(base_table[ChangeLog.top().row-1][ChangeLog.top().col-1] == '1'){\n\t\t\t\t base_table[ChangeLog.top().row-1][ChangeLog.top().col-1] = '0';\n\t\t\t }else{\n\t\t\t\t base_table[ChangeLog.top().row-1][ChangeLog.top().col-1] = '1';\n\t\t\t }\n\t\t\t if(ChangeLog.top().row-1 >= N/2){\n\t\t\t\t if(ChangeLog.top().col-1 >= N/2){\n\t\t\t\t\t if(check[N-1-(ChangeLog.top().row-1)][N-1-(ChangeLog.top().col-1)] == true){\n\t\t\t\t\t\t check[N-1-(ChangeLog.top().row-1)][N-1-(ChangeLog.top().col-1)] = false;\n\t\t\t\t\t }else{\n\t\t\t\t\t\t if(base_table[N-1-(ChangeLog.top().row-1)][N-1-(ChangeLog.top().col-1)] == base_table[N-1-(ChangeLog.top().row-1)][N-1-(N-1-(ChangeLog.top().col-1))] &&\n\t\t\t\t\t\t\tbase_table[N-1-(ChangeLog.top().row-1)][N-1-(ChangeLog.top().col-1)] == base_table[N-1-(N-1-(ChangeLog.top().row-1))][N-1-(ChangeLog.top().col-1)] &&\n\t\t\t\t\t\t\tbase_table[N-1-(ChangeLog.top().row-1)][N-1-(ChangeLog.top().col-1)] == base_table[N-1-(N-1-(ChangeLog.top().row-1))][N-1-(N-1-(ChangeLog.top().col-1))]){\n\t\t\t\t\t\t\t check[N-1-(ChangeLog.top().row-1)][N-1-(ChangeLog.top().col-1)] = true;\n\t\t\t\t\t\t }else{\n\t\t\t\t\t\t\t //Do nothing\n\t\t\t\t\t\t }\n\t\t\t\t\t }\n\t\t\t\t }else{ //??????\n\t\t\t\t\t if(check[N-1-(ChangeLog.top().row-1)][ChangeLog.top().col-1] == true){\n\t\t\t\t\t\t check[N-1-(ChangeLog.top().row-1)][ChangeLog.top().col-1] = false;\n\t\t\t\t\t }else{\n\t\t\t\t\t\t if(base_table[N-1-(ChangeLog.top().row-1)][ChangeLog.top().col-1] == base_table[N-1-(ChangeLog.top().row-1)][N-1-(ChangeLog.top().col-1)] &&\n\t\t\t\t\t\t\tbase_table[N-1-(ChangeLog.top().row-1)][ChangeLog.top().col-1] == base_table[N-1-(N-1-(ChangeLog.top().row-1))][ChangeLog.top().col-1] &&\n\t\t\t\t\t\t\tbase_table[N-1-(ChangeLog.top().row-1)][ChangeLog.top().col-1] == base_table[N-1-(N-1-(ChangeLog.top().row-1))][N-1-(ChangeLog.top().col-1)]){\n\t\t\t\t\t\t\t check[N-1-(ChangeLog.top().row-1)][ChangeLog.top().col-1] = true;\n\t\t\t\t\t\t }else{\n\t\t\t\t\t\t\t //Do nothing\n\t\t\t\t\t\t }\n\t\t\t\t\t }\n\t\t\t\t }\n\t\t\t }else{\n\t\t\t\t if(ChangeLog.top().col-1 >= N/2){\n\t\t\t\t\t if(check[ChangeLog.top().row-1][N-1-(ChangeLog.top().col-1)] == true){\n\t\t\t\t\t\t check[ChangeLog.top().row-1][N-1-(ChangeLog.top().col-1)] = false;\n\t\t\t\t\t }else{\n\t\t\t\t\t\t if(base_table[ChangeLog.top().row-1][N-1-(ChangeLog.top().col-1)] == base_table[ChangeLog.top().row-1][N-1-(N-1-(ChangeLog.top().col-1))] &&\n\t\t\t\t\t\t\tbase_table[ChangeLog.top().row-1][N-1-(ChangeLog.top().col-1)] == base_table[N-1-(ChangeLog.top().row-1)][N-1-(ChangeLog.top().col-1)] &&\n\t\t\t\t\t\t\tbase_table[ChangeLog.top().row-1][N-1-(ChangeLog.top().col-1)] == base_table[N-1-(ChangeLog.top().row-1)][N-1-(N-1-(ChangeLog.top().col-1))]){\n\t\t\t\t\t\t\t check[ChangeLog.top().row-1][N-1-(ChangeLog.top().col-1)] = true;\n\t\t\t\t\t\t }else{\n\t\t\t\t\t\t\t //Do nothing\n\t\t\t\t\t\t }\n\t\t\t\t\t }\n\t\t\t\t }else{\n\t\t\t\t\t if(check[ChangeLog.top().row-1][ChangeLog.top().col-1] == true){\n\t\t\t\t\t\t check[ChangeLog.top().row-1][ChangeLog.top().col-1] = false;\n\t\t\t\t\t }else{\n\t\t\t\t\t\t if(base_table[ChangeLog.top().row-1][ChangeLog.top().col-1] == base_table[ChangeLog.top().row-1][N-1-(ChangeLog.top().col-1)] &&\n\t\t\t\t\t\t\tbase_table[ChangeLog.top().row-1][ChangeLog.top().col-1] == base_table[N-1-(ChangeLog.top().row-1)][ChangeLog.top().col-1] &&\n\t\t\t\t\t\t\tbase_table[ChangeLog.top().row-1][ChangeLog.top().col-1] == base_table[N-1-(ChangeLog.top().row-1)][N-1-(ChangeLog.top().col-1)]){\n\t\t\t\t\t\t\t check[ChangeLog.top().row-1][ChangeLog.top().col-1] = true;\n\t\t\t\t\t\t }else{\n\t\t\t\t\t\t\t //Do nothing\n\t\t\t\t\t\t }\n\t\t\t\t\t }\n\t\t\t\t }\n\t\t\t }\n\n\t\t\t ChangeLog.pop();\n\t\t }\n\n\t\t not_num_work = not_num;\n\n\t\t scanf(\"%d\",&D);\n\n\t\t for(int i = 0; i < D; i++){\n\t\t\t scanf(\"%d %d\",&tmp_row,&tmp_col);\n\t\t\t ChangeLog.push(Info(tmp_row,tmp_col));\n\n\t\t\t if(base_table[ChangeLog.top().row-1][ChangeLog.top().col-1] == '1'){\n\t\t\t\t base_table[ChangeLog.top().row-1][ChangeLog.top().col-1] = '0';\n\t\t\t }else{\n\t\t\t\t base_table[ChangeLog.top().row-1][ChangeLog.top().col-1] = '1';\n\t\t\t }\n\n\t\t\t if(ChangeLog.top().row-1 >= N/2){\n\t\t\t\t if(ChangeLog.top().col-1 >= N/2){\n\t\t\t\t\t if(check[N-1-(ChangeLog.top().row-1)][N-1-(ChangeLog.top().col-1)] == true){\n\t\t\t\t\t\t check[N-1-(ChangeLog.top().row-1)][N-1-(ChangeLog.top().col-1)] = false;\n\t\t\t\t\t\t not_num_work++;\n\t\t\t\t\t }else{\n\t\t\t\t\t\t if(base_table[N-1-(ChangeLog.top().row-1)][N-1-(ChangeLog.top().col-1)] == base_table[N-1-(ChangeLog.top().row-1)][N-1-(N-1-(ChangeLog.top().col-1))] &&\n\t\t\t\t\t\t\tbase_table[N-1-(ChangeLog.top().row-1)][N-1-(ChangeLog.top().col-1)] == base_table[N-1-(N-1-(ChangeLog.top().row-1))][N-1-(ChangeLog.top().col-1)] &&\n\t\t\t\t\t\t\tbase_table[N-1-(ChangeLog.top().row-1)][N-1-(ChangeLog.top().col-1)] == base_table[N-1-(N-1-(ChangeLog.top().row-1))][N-1-(N-1-(ChangeLog.top().col-1))]){\n\t\t\t\t\t\t\t check[N-1-(ChangeLog.top().row-1)][N-1-(ChangeLog.top().col-1)] = true;\n\t\t\t\t\t\t\t not_num_work--;\n\t\t\t\t\t\t\t if(not_num_work == 0)count++;\n\t\t\t\t\t\t }else{\n\t\t\t\t\t\t\t //Do nothing\n\t\t\t\t\t\t }\n\t\t\t\t\t }\n\t\t\t\t }else{\n\t\t\t\t\t if(check[N-1-(ChangeLog.top().row-1)][ChangeLog.top().col-1] == true){\n\t\t\t\t\t\t check[N-1-(ChangeLog.top().row-1)][ChangeLog.top().col-1] = false;\n\t\t\t\t\t\t not_num_work++;\n\t\t\t\t\t }else{\n\t\t\t\t\t\t if(base_table[N-1-(ChangeLog.top().row-1)][ChangeLog.top().col-1] == base_table[N-1-(ChangeLog.top().row-1)][N-1-(ChangeLog.top().col-1)] &&\n\t\t\t\t\t\t\tbase_table[N-1-(ChangeLog.top().row-1)][ChangeLog.top().col-1] == base_table[N-1-(N-1-(ChangeLog.top().row-1))][ChangeLog.top().col-1] &&\n\t\t\t\t\t\t\tbase_table[N-1-(ChangeLog.top().row-1)][ChangeLog.top().col-1] == base_table[N-1-(N-1-(ChangeLog.top().row-1))][N-1-(ChangeLog.top().col-1)]){\n\t\t\t\t\t\t\t check[N-1-(ChangeLog.top().row-1)][ChangeLog.top().col-1] = true;\n\t\t\t\t\t\t\t not_num_work--;\n\t\t\t\t\t\t\t if(not_num_work == 0)count++;\n\t\t\t\t\t\t }else{\n\t\t\t\t\t\t\t //Do nothing\n\t\t\t\t\t\t }\n\t\t\t\t\t }\n\t\t\t\t }\n\t\t\t }else{\n\t\t\t\t if(ChangeLog.top().col-1 >= N/2){\n\t\t\t\t\t if(check[ChangeLog.top().row-1][N-1-(ChangeLog.top().col-1)] == true){\n\t\t\t\t\t\t check[ChangeLog.top().row-1][N-1-(ChangeLog.top().col-1)] = false;\n\t\t\t\t\t\t not_num_work++;\n\t\t\t\t\t }else{\n\t\t\t\t\t\t if(base_table[ChangeLog.top().row-1][N-1-(ChangeLog.top().col-1)] == base_table[ChangeLog.top().row-1][N-1-(N-1-(ChangeLog.top().col-1))] &&\n\t\t\t\t\t\t\tbase_table[ChangeLog.top().row-1][N-1-(ChangeLog.top().col-1)] == base_table[N-1-(ChangeLog.top().row-1)][N-1-(ChangeLog.top().col-1)] &&\n\t\t\t\t\t\t\tbase_table[ChangeLog.top().row-1][N-1-(ChangeLog.top().col-1)] == base_table[N-1-(ChangeLog.top().row-1)][N-1-(N-1-(ChangeLog.top().col-1))]){\n\t\t\t\t\t\t\t check[ChangeLog.top().row-1][N-1-(ChangeLog.top().col-1)] = true;\n\t\t\t\t\t\t\t not_num_work--;\n\t\t\t\t\t\t\t if(not_num_work == 0)count++;\n\t\t\t\t\t\t }else{\n\t\t\t\t\t\t\t //Do nothing\n\t\t\t\t\t\t }\n\t\t\t\t\t }\n\t\t\t\t }else{\n\t\t\t\t\t if(check[ChangeLog.top().row-1][ChangeLog.top().col-1] == true){\n\t\t\t\t\t\t check[ChangeLog.top().row-1][ChangeLog.top().col-1] = false;\n\t\t\t\t\t\t not_num_work++;\n\t\t\t\t\t }else{\n\t\t\t\t\t\t if(base_table[ChangeLog.top().row-1][ChangeLog.top().col-1] == base_table[ChangeLog.top().row-1][N-1-(ChangeLog.top().col-1)] &&\n\t\t\t\t\t\t\tbase_table[ChangeLog.top().row-1][ChangeLog.top().col-1] == base_table[N-1-(ChangeLog.top().row-1)][ChangeLog.top().col-1] &&\n\t\t\t\t\t\t\tbase_table[ChangeLog.top().row-1][ChangeLog.top().col-1] == base_table[N-1-(ChangeLog.top().row-1)][N-1-(ChangeLog.top().col-1)]){\n\t\t\t\t\t\t\t check[ChangeLog.top().row-1][ChangeLog.top().col-1] = true;\n\t\t\t\t\t\t\t not_num_work--;\n\t\t\t\t\t\t\t if(not_num_work==0)count++;\n\t\t\t\t\t\t }else{\n\t\t\t\t\t\t\t //Do nothing\n\t\t\t\t\t\t }\n\t\t\t\t\t }\n\t\t\t\t }\n\t\t\t }\n\t\t }\n\t }\n\n\t printf(\"%d\\n\",count);\n\n\n\t return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing ll = long long;\n#define rep(i,n) for(int (i)=0;(i)<(int)(n);++(i))\n#define all(x) (x).begin(),(x).end()\n#define pb push_back\n#define fi first\n#define se second\n#define dbg(x) cout<<#x\" = \"<<((x))<<endl\ntemplate<class T,class U> ostream& operator<<(ostream& o, const pair<T,U> &p){o<<\"(\"<<p.fi<<\",\"<<p.se<<\")\";return o;}\ntemplate<class T> ostream& operator<<(ostream& o, const vector<T> &v){o<<\"[\";for(T t:v){o<<t<<\",\";}o<<\"]\";return o;}\n\nusing pi = pair<int,int>;\n\npi normalize(int y, int x, int n)\n{\n    if(y>=n/2) y = n-1-y;\n    if(x>=n/2) x = n-1-x;\n    return {y,x};\n}\n\nint main()\n{\n    int C,n;\n    cin >>C >>n;\n    --C;\n\n    vector<vector<int>> p(n,vector<int>(n));\n    rep(i,n)\n    {\n        string tmp;\n        cin >>tmp;\n        rep(j,n) p[i][j] = tmp[j]-'0';\n    }\n\n    set<pi> s;\n\n    vector<vector<int>> ct(n/2,vector<int>(n/2));\n    rep(i,n/2)rep(j,n/2)\n    {\n        ct[i][j] += p[i][j];\n        ct[i][j] += p[i][n-1-j];\n        ct[i][j] += p[n-1-i][j];\n        ct[i][j] += p[n-1-i][n-1-j];\n\n        if(ct[i][j]!=0 && ct[i][j]!=4) s.insert({i,j});\n    }\n\n    int ans = 0;\n    if(s.empty()) ++ans;\n\n    while(C--)\n    {\n        // dbg(vector<pi>(all(s)));\n        int D;\n        cin >>D;\n        while(D--)\n        {\n            int r,c;\n            cin >>r >>c;\n            --r;\n            --c;\n\n            pi pos = normalize(r,c,n);\n\n            if(p[r][c]==0) ++ct[pos.fi][pos.se];\n            else --ct[pos.fi][pos.se];\n            p[r][c] = !p[r][c];\n\n            if(ct[pos.fi][pos.se]==0 || ct[pos.fi][pos.se]==4) s.erase(pos);\n            else s.insert(pos);\n        }\n\n        if(s.empty()) ++ans;\n    }\n\n    cout << ans << endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\ntypedef pair<int,int> PA;\nchar p[1005][1005];\nint main(){\n  int c,n,d,a,b;\n  scanf(\"%d %d\",&c,&n);\n  for(int i=0;i<n;i++){\n    scanf(\"%s\",p[i]);\n  }\n  \n  int joge=0,sayu=0;\n  for(int i=0;i<n/2;i++){\n    for(int j=0;j<n;j++){\n      if(p[i][j] != p[n-1-i][j]) joge++;\n    }\n  }\n  \n  for(int i=0;i<n;i++){\n    for(int j=0;j<n/2;j++){\n      if(p[i][j] != p[i][n-1-j]) sayu++;\n    }\n  }\n  \n  int sum = 0;\n  if(joge == 0 && sayu == 0) sum++;\n\n  for(int i=0;i<c-1;i++){\n    scanf(\"%d\",&d);\n    for(int j=0;j<d;j++){\n      scanf(\"%d %d\",&a,&b);\n      a--;\n      b--;\n      if(p[a][b] == '0') p[a][b] = '1';\n      else if(p[a][b] == '1') p[a][b] = '0';\n      \n      if(p[a][b] == p[n-1-a][b]) joge--;\n      else if(p[a][b] != p[n-1-a][b]) joge++;\n      \n      if(p[a][b] == p[a][n-1-b]) sayu--;\n      else if(p[a][b] != p[a][n-1-b]) sayu++;\n      \n    }\n    if(joge == 0 && sayu == 0) sum++;\n  }\n  printf(\"%d\\n\",sum);\n  return(0);\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint c,n;\nbool coa[1001][1001];\nbool coacheck(){\n  int count =0;\n  for(int i=1;i<=n/2;i++){\n    for(int j=1;j<=n/2;j++){\n      if((coa[i][j]==coa[i][n-j+1])&&(coa[i][j]==coa[n-i+1][j])&&(coa[i][j]==coa[n-i+1][n-j+1])){\n        count++;\n      }\n    }\n  }\n  if(count==(n*n)/4)return true;\n  else return false;\n}\nint main(){\n  cin >>c>>n;\n  for(int i=1;i<=n;i++){\n    string coaster;\n    cin >> coaster;\n    for(int j=1;j<=n;j++){\n      coa[i][j]= coaster[j-1];\n    }\n  }\n  int coacount =0;\n  if(coacheck())coacount++;\n  for(int i=1;i<c;i++){\n    int num;\n    cin >>num;\n    int a[num*2];\n    for(int j=0;j<num*2;j++){\n      cin >>a[j];\n    }\n    for(int j=0;j<num;j++){\n      if(coa[a[j*2]][a[j*2+1]]==true)coa[a[j*2]][a[j*2+1]]=false;\n      else coa[a[j*2]][a[j*2+1]]=true;\n    }\n    if(coacheck())coacount++;\n  }\n  cout << coacount <<endl;\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main(){\n    int c,n;\n    cin>>c>>n;\n    int m[1000][1000];\n    for(int i=0;i<n;i++){\n        for(int j=0;j<n;j++){\n            char c;\n            cin>>c;m[i][j]=(c=='0'?0:1);\n        }\n    }\n    set<int> s;\n    for(int i=0;i<(n+1)/2;i++){\n        for(int j=0;j<(n+1)/2;j++){\n            if(m[i][j]!=m[n-1-i][j]||m[i][j]!=m[n-1-i][n-1-j]||m[i][j]!=m[i][n-1-j]){\n                s.insert(i*n+j);\n            }\n        }\n    }\n    int ans=0;\n    if(s.empty()){\n        ans++;\n    }\n    c--;\n    while(c--){\n        int d;\n        cin>>d;\n        set<int> e;\n        for(int i=0;i<d;i++){\n            int r,c;\n            cin>>r>>c;\n            r--;c--;\n            m[r][c]^=1;\n            e.insert(min(r,n-1-r)*n+min(c,n-1-c));\n        }\n        for(set<int>::iterator i=e.begin();i!=e.end();i++){\n            int h=*i;\n            int x=h/n,y=h%n;\n            if(m[x][y]==m[x][n-1-y]&&m[x][y]==m[n-1-x][y]&&m[x][y]==m[n-1-x][n-1-y]){\n                s.erase(h);\n            }else{\n                s.insert(h);\n            }\n        }\n        if(s.empty()){\n            ans++;\n        }\n    }\n    cout<<ans<<endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <vector>\n#define _USE_MATH_DEFINES\n#include <math.h>\n#include <cstring>\n#include <numeric>\n#include <algorithm>\n#include <stdlib.h>\n#include <functional>\n#include <string>\n#include <array>\n#include <map>\n#include <queue>\n#include <limits.h>\n#include <set>\n#include <stack>\n#include <random>\n#include <complex>\n#include <unordered_map>\n#include <nmmintrin.h>\n#include <chrono>\n#define rep(i,s,n) for(int i = (s); (n) > i; i++)\n#define REP(i,n) rep(i,0,n)\n#define RANGE(x,a,b) ((a) <= (x) && (x) <= (b))\n#define DUPLE(a,b,c,d) (RANGE(a,c,d) || RANGE(b,c,d) || RANGE(c,a,b) || RANGE(d,a,b))\n#define INCLU(a,b,c,d) (RANGE(a,c,d) && (b,c,d))\n#define PW(x) ((x)*(x))\n#define ALL(x) (x).begin(), (x).end()\n#define MODU 1000000007\n#define bitcheck(a,b)   ((a >> b) & 1)\n#define bitset(a,b)      ( a |= (1 << b))\n#define bitunset(a,b)    (a &= ~(1 << b))\n#define MP(a,b) make_pair((a),(b))\n#define Manh(a,b) (abs((a).first-(b).first) + abs((a).second - ((b).second))\n#define pritnf printf\n#define scnaf scanf\n#define itn int\n#ifdef _MSC_VER\n#define __builtin_popcount _mm_popcnt_u32\n#define __builtin_popcountll _mm_popcnt_u64\n#endif\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\nll gcd(ll a, ll b) {\n\tif (b == 0) return a;\n\treturn gcd(b, a%b);\n}\ntemplate<typename A, size_t N, typename T>\nvoid Fill(A(&array)[N], const T &val) {\n\tstd::fill((T*)array, (T*)(array + N), val);\n}\n\nint c, n;\n\npii getza(int cx, int cy){\n\tif (cx >= n / 2)\n\t\tcx = n - cx - 1;\n\tif (cy >= n / 2)\n\t\tcy = n - cy - 1;\n\treturn{ cx, cy };\n}\n\nint nanm(int cx, int cy){\n\tint ret = 0;\n\tif (cx >= n / 2)\n\t\tret += 1;\n\tif (cy >= n / 2)\n\t\tret+= 2;\n\treturn ret;\n}\n\nsigned main() {\n\tcin >> c >> n;\n\tint mp[501][501][4] = {};\n\n\tint wr = 0;\n\n\tREP(i, n){\n\t\tchar ch;\n\t\tscnaf(\"%c\", &ch);\n\t\tREP(j, n){\n\t\t\tpii cc = getza(i, j);\n\t\t\tscnaf(\"%c\",&ch);\n\t\t\tmp[cc.first][cc.second][nanm(i,j)] = ch - '0';\n\t\t}\n\t}\n\n\tREP(i, n/2){\n\t\tREP(j, n/2){\n\t\t\tpii cc = getza(i, j);\n\t\t\tint cs = mp[cc.first][cc.second][0] + mp[cc.first][cc.second][1] + mp[cc.first][cc.second][2] + mp[cc.first][cc.second][3];\n\t\t\tif (cs < 4 && cs > 0)\n\t\t\t\twr++;\n\t\t}\n\t}\n\n\tint ans = 0;\n\n\tif (!wr)\n\t\tans++;\n\n\tREP(i, c-1){\n\t\tint m;\n\t\tcin >> m;\n\t\tREP(i, m){\n\t\t\tint x, y;\n\t\t\tcin >> x >> y;\n\t\t\tx--, y--;\n\t\t\tpii cc = getza(x, y);\n\t\t\tint bef = mp[cc.first][cc.second][0] + mp[cc.first][cc.second][1] + mp[cc.first][cc.second][2] + mp[cc.first][cc.second][3];\n\n\t\t\tmp[cc.first][cc.second][nanm(x, y)] = 1 - mp[cc.first][cc.second][nanm(x, y)];\n\n\t\t\tint cur = mp[cc.first][cc.second][0] + mp[cc.first][cc.second][1] + mp[cc.first][cc.second][2] + mp[cc.first][cc.second][3];\n\n\t\t\tif ((bef == 4 ||bef == 0) && (cur > 0 && cur < 4)){\n\t\t\t\twr++;\n\t\t\t}\n\n\t\t\tif ((cur == 4 || cur == 0) && (bef > 0 && bef < 4)){\n\t\t\t\twr--;\n\t\t\t}\n\t\t}\n\n\t\tif (!wr)\n\t\t\tans++;\n\t}\n\n\tprintf(\"%d\\n\", ans);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define int long long \n#define INF 1e9\n#define LINF 1e18\n\ntypedef unsigned long long ull;\ntypedef pair<int, int> P;\ntypedef pair<int, P> Pi;\ntypedef pair<P, P> PP;\n\nconst int MOD = 1e9 + 7;\nconst int dy[] = { 0, 0, 1, -1 };\nconst int dx[] = { 1, -1, 0, 0 };\n\ntemplate <class T> void chmin(T& a, const T& b) { a = min(a, b); }\ntemplate <class T> void chmax(T& a, const T& b) { a = max(a, b); }\n\nint C, N;\nstring s[1001];\nbool flag[500][500];\n\nbool check(int y, int x) {\n    return (s[y][x] == s[N - y - 1][x] && s[y][x] == s[y][N - x - 1] && s[y][x] == s[N - y - 1][N - x - 1]);\n}\n\nsigned main() {\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n\n    cin >> C >> N;\n    for(int i  = 0; i < N; ++i) cin >> s[i];\n    int res = 0, cnt = 0;\n    for(int i = 0; i < N / 2; ++i) {\n        for(int j = 0; j < N / 2; ++j) {\n            if(!check(i, j)) ++cnt;\n            else flag[i][j] = true;\n        }\n    }\n    if(cnt == 0) ++res;\n    for(int i = 0; i < C - 1; ++i) {\n        int d;\n        cin >> d;\n        for(int j = 0; j < d; ++j) {\n            int y, x;\n            cin >> y >> x;\n            --y; --x;\n            s[y][x] = (s[y][x] == '0') ? '1' : '0';\n            if(y >= N / 2) y = N - y - 1;\n            if(x >= N / 2) x = N - x - 1;\n            if(check(y, x) && !flag[y][x]) {\n                flag[y][x] = true;\n                --cnt;\n            }\n            else if(!check(y, x) && flag[y][x]) {\n                flag[y][x] = false;\n                ++cnt;\n            }\n        }\n        if(cnt == 0) ++res;\n    }\n    cout << res << endl;\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nusing ll = long long;\n\n\n\nint h, w;\nint t[1000][1000];\nstring s[1000];\nint cnt = 0;\nbool f(int y, int x) {\n  return t[y][x]==t[h-1-y][x]&&\n  t[y][x]==t[y][w-1-x]&&\n  t[y][x]==t[h-1-y][w-1-x];\n}\nvoid change(int y, int x) {\n  int yy = y, xx = x;\n  int bf = f(yy, xx);\n  cnt-=!bf;\n  t[y][x]^=1;\n  int af = f(yy, xx);\n  cnt+=!af;\n}\n\nint main() {\n  std::ios::sync_with_stdio(false), std::cin.tie(0);\n  int n, q;\n  cin >> q >> n;\n  h = w = n;\n  for(int i = 0; i < h; i++) {\n    cin >> s[i];\n    for(int j = 0; j < w; j++) {\n      if(s[i][j] == '1') change(i, j);\n    }\n  }\n  // cout << cnt << endl;\n  int ans = 0;\n  ans+=cnt==0;\n  q--;\n  while(q--){\n    int d; cin >> d;\n    while(d--){\n      int y, x;\n      cin >> y >> x;\n      y--; x--;\n      change(y, x);\n    }\n    ans+=cnt==0;\n  }\n  cout << ans << endl;\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<set>\n#include<string>\n#include<algorithm>\n#include<utility>\nusing namespace std;\n\nclass Point{\npublic:\n  int x;\n  int y;\n  bool bin;\n  friend ostream& operator<<(ostream& os,const Point& p){\n    os << p.x << \" \" << p.y << \" \" << p.bin;\n    return os;\n  }\n};\n\nbool operator<(const Point& lp,const Point& rp){\n  return (lp.x + lp.y) < (rp.x + rp.y);\n}\n\nclass FourPoint{\npublic:\n  Point lu;\n  Point ru;\n  Point ld;\n  Point rd;\n  friend ostream& operator<<(ostream& os,const FourPoint& fp){\n    os << fp.lu << endl;\n    os << fp.ru << endl;\n    os << fp.ld << endl;\n    os << fp.rd << endl;\n\n    return os;\n  }\n  friend bool operator==(const FourPoint& lfp,const FourPoint& rfp){\n    return (lfp.lu.x == rfp.lu.x) && (lfp.lu.y == rfp.lu.y) && (lfp.ru.x == rfp.ru.x) && (lfp.ru.y == rfp.ru.y) && (lfp.ld.x == rfp.ld.x) && (lfp.ld.y == rfp.ld.y) && (lfp.rd.x == rfp.rd.x) && (lfp.rd.y == rfp.rd.y);\n  }\n};\n\nbool operator<(const FourPoint& lfp,const FourPoint& rfp){\n  return (lfp.lu.x < rfp.lu.x);// && (lfp.lu.y < rfp.lu.y) && (lfp.ru.x < rfp.ru.x) && (lfp.ru.y < rfp.ru.y) && (lfp.ld.x < rfp.ld.x) && (lfp.ld.y < rfp.ld.y) && (lfp.rd.x < rfp.rd.x) && (lfp.rd.y < rfp.rd.y);\n}\n\n\n\nint main(){\n\n    int c,n,d,x,y,count;\n\n    set<FourPoint> st;\n\n    set<FourPoint>::iterator itr;\n\n    Point ptmp[4];\n\n    FourPoint fptmp;\n\n    count = 0;\n\n    cin >> c >> n;\n\n    bool table[n][n];\n    string s[n];\n\n     for(int i=0;i<n;i++){\n         cin >> s[i];\n     }\n\n     for(int i=0;i<n;i++){\n       for(int j=0;j<n;j++){\n         if(s[i][j] == '0'){\n           table[i][j] =false;\n         }\n         else{\n           table[i][j] = true;\n         }\n       }\n     }\n\n     for(int i=0;i<n;i++){\n       for(int j=0;j<n/2;j++){\n         if(table[i][j] != table[i][n-j-1]){\n\n           ptmp[0].x = i; ptmp[0].y = j; ptmp[0].bin = table[i][j];\n           ptmp[1].x = n-i-1; ptmp[1].y = j; ptmp[1].bin = table[n-i-1][j];\n           ptmp[2].x = i; ptmp[2].y = n-j-1; ptmp[2].bin = table[i][n-j-1];\n           ptmp[3].x = n-i-1; ptmp[3].y = n-j-1; ptmp[3].bin = table[n-i-1][n-j-1];\n\n           sort(ptmp,ptmp+4);\n\n           fptmp.lu = ptmp[0];\n           if(ptmp[1].y < ptmp[2].y){\n             fptmp.ru = ptmp[1];\n             fptmp.ld = ptmp[2];\n           }\n           else{\n             fptmp.ru = ptmp[2];\n             fptmp.ld = ptmp[1];\n           }\n\n           fptmp.rd = ptmp[3];\n\n           st.insert(fptmp);\n         }\n       }\n     }\n\n\n     for(int i=0;i<n/2;i++){\n       for(int j=0;j<n;j++){\n         if(table[i][j] != table[n-i-1][j]){\n           ptmp[0].x = i; ptmp[0].y = j; ptmp[0].bin = table[i][j];\n           ptmp[1].x = n-i-1; ptmp[1].y = j; ptmp[1].bin = table[n-i-1][j];\n           ptmp[2].x = i; ptmp[2].y = n-j-1; ptmp[2].bin = table[i][n-j-1];\n           ptmp[3].x = n-i-1; ptmp[3].y = n-j-1; ptmp[3].bin = table[n-i-1][n-j-1];\n\n           sort(ptmp,ptmp+4);\n\n           fptmp.lu = ptmp[0];\n           if(ptmp[1].y < ptmp[2].y){\n             fptmp.ru = ptmp[1];\n             fptmp.ld = ptmp[2];\n           }\n           else{\n             fptmp.ru = ptmp[2];\n             fptmp.ld = ptmp[1];\n           }\n\n           fptmp.rd = ptmp[3];\n\n           st.insert(fptmp);\n         }\n       }\n     }\n\n     /*for(itr = st.begin(); itr != st.end(); ++itr) {\n        cout << \"testtest \" << *itr << \"\\n\";      // ????????¬???????????????????????????????????¨???\n     }*/\n\n\n     if(st.size() == 0){\n       count++;\n     }\n\n     for(int k=0;k<c-1;k++){\n\n       /*for(itr = st.begin(); itr != st.end(); ++itr) {\n          cout << k << \" test \" << *itr << \"\\n\";      // ????????¬???????????????????????????????????¨???\n      }*/\n\n       cin >> d;\n\n      for(int i=0;i<d;i++){\n\n         cin >> x >> y;\n         table[x-1][y-1] = !table[x-1][y-1];\n         //cout << \"unsigned \" << tmps << endl;\n\n         ptmp[0].x = x-1; ptmp[0].y = y-1; ptmp[0].bin = table[x-1][y-1];\n         ptmp[1].x = n-x; ptmp[1].y = y-1; ptmp[1].bin = table[n-x][y-1];\n         ptmp[2].x = x-1; ptmp[2].y = n-y; ptmp[2].bin = table[x-1][n-y];\n         ptmp[3].x = n-x; ptmp[3].y = n-y; ptmp[3].bin = table[n-x][n-y];\n\n         sort(ptmp,ptmp+4);\n\n\n         fptmp.lu = ptmp[0];\n\n         if(ptmp[1].y < ptmp[2].y){\n           fptmp.ru = ptmp[1];\n           fptmp.ld = ptmp[2];\n         }\n\n         else{\n           fptmp.ru = ptmp[2];\n           fptmp.ld = ptmp[1];\n         }\n\n         /*for(int g=0;g<4;g++){\n           cout << \"ptmp\"  << g << \"= \"<< ptmp[g] << endl;\n         }*/\n\n         fptmp.rd = ptmp[3];\n\n        //cout << \"fptmp =  \" << endl << fptmp << endl;\n\n         //itr = st.find(fptmp);\n\n         itr = st.begin();\n\n         while(itr != st.end()){\n           if(*itr == fptmp){\n             break;\n           }\n           itr++;\n         }\n\n         pair<set<FourPoint>::iterator,bool> afd;\n\n         if(itr != st.end()){\n           //cout << \"ok \" << endl;\n           /*cout << \"fptmp =  \" << endl << fptmp << endl;\n           cout << \"*itr =  \" << endl << *itr << endl;*/\n           if(fptmp.lu.bin == fptmp.ru.bin && fptmp.ru.bin == fptmp.ld.bin && fptmp.ld.bin == fptmp.rd.bin && fptmp.rd.bin == fptmp.lu.bin){\n            // cout << \"ok\" << endl;\n             st.erase(itr);\n           }\n         }\n         else{\n           /*afd = */st.insert(fptmp);\n           //cout << \"is_insert? \" << afd.second << endl;\n         }\n\n        /* for(itr = st.begin(); itr != st.end(); ++itr) {\n            cout << \"test \" << *itr << \"\\n\";      // ????????¬???????????????????????????????????¨???\n         }*/\n\n       }\n\n\n\n\n\n\n\n       if(st.size() == 0){\n         //cout << \"f1d2a \" << k+2 << endl;\n         count++;\n       }\n\n     }\n\n\n\n     /*for(int i=0;i<n;i++){\n       for(int j=0;j<n;j++){\n         if(table[i][j] == '0'){\n           cout << '0';\n         }\n         else{\n           cout << '1';\n         }\n       }\n       cout << endl;\n     }*/\n\n     cout << count << endl;\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdlib>\n#include <iostream>\n#include <string>\n#include <typeinfo>\n#include <algorithm>\nusing namespace std;\n\nint ctoi(char c) {\n\tswitch (c) {\n\tcase '0': return 0;\n\tcase '1': return 1;\n\tcase '2': return 2;\n\tcase '3': return 3;\n\tcase '4': return 4;\n\tcase '5': return 5;\n\tcase '6': return 6;\n\tcase '7': return 7;\n\tcase '8': return 8;\n\tcase '9': return 9;\n\tdefault: return -1;\n\t}\n}\n\nbool symmetry(char **coster ,int n) {\n\tfor (int i = 0; i < n / 2; i++) {\n\t\tfor (int j = 0; j < n / 2; j++) {\n\t\t\tint val = ctoi(coster[i][j]) + ctoi(coster[n - i - 1][j]) + ctoi(coster[i][n - j - 1]) + ctoi(coster[n - i - 1][n - j - 1]);\n\t\t\tif (val != 0 && val != 4) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\treturn true;\n}\nint main() {\n\tint C, N;\n\tint sym_coster = 0;\n\tcin >> C >> N; \n\tchar **coster = new char*[N];\n\tfor (int i = 0; i < N; i++)\n\t\tcoster[i] = new char[N];\n\n\tfor (int i = 0; i < N; i++)\n\t\tfor (int j = 0; j < N; j++)\n\t\t\tcin >> coster[i][j];\n\n\tsym_coster += symmetry(coster, N);\n\tint D,r,c;\n\tfor (int I = 0; I < C; I++) {\n\t\tcin >> D;\n\t\tfor (int i = 0; i < D; i++) {\n\t\t\tcin >> r >> c;\n\t\t\tif (coster[r-1][c-1] == '0')\n\t\t\t\tcoster[r-1][c-1] = '1';\n\t\t\telse\n\t\t\t\tcoster[r-1][c-1] = '0';\n\t\t}\n\t\tsym_coster += symmetry(coster, N);\n\t}\n\tcout << sym_coster << endl;\n\tdelete[] coster;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define r(i,n) for(int i=0;i<n;i++)\nusing namespace std;\nstring s[101];\nint n,c,x,y,p,ans;\nbool ch(){\n  r(i,n/2)r(j,n)if(s[n-i-1][j]!=s[i][j])return 0;\n  r(i,n)r(j,n/2)if(s[i][n-j-1]!=s[i][j])return 0;\n  return 1;\n}\nint main(){\n  cin>>c>>n;\n  r(i,n)cin>>s[i];\n  if(ch())ans++;\n  r(i,c-1){\n    cin>>p;\n    r(i,p){\n      cin>>y>>x;x--;y--;\n      if(s[y][x]=='0')s[y][x]='1';\n      else s[y][x]='0';\n    }\n    if(ch())ans++;\n  }\n  cout<<ans<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n\nstd::pair<int, int> get_point(int i, int j, int d, int N)\n{\n    std::pair<int, int> p[] = {\n        {i, N - j - 1},\n        {N - i - 1, j},\n        {N - i - 1, N - j - 1}\n    };\n    return p[d];\n}\n\nint main()\n{\n    int C, N;\n    std::cin >> C >> N;\n    \n    int count = 0;\n    std::vector<std::vector<int>> p(N, std::vector<int>(N));\n    \n    for (int i = 0; i < N; i++) {\n        std::string in;\n        std::cin >> in;\n        for (int j = 0; j < N; j++) {\n            p[i][j] = in[j] - '0';\n            count += 6;\n        }\n    }\n\n    for (int i = 0; i < N; i++) {\n        for (int j = 0; j < N; j++) {\n            for (int k = 0; k < 3; k++) {\n                auto np = get_point(i, j, k, N);\n                int ni = np.first, nj = np.second;\n                if (p[i][j] == p[ni][nj]) {\n                    count -= 2;\n                }\n            }\n        }\n    }\n\n    int res = count == 0;\n    for (int i = 0; i < C - 1; i++) {\n        int D;\n        std::cin >> D;\n        for (int j = 0; j < D; j++) {\n            int r, c;\n            std::cin >> r >> c;\n            r--; c--;\n            p[r][c] = p[r][c] ^ 1;\n            for (int k = 0; k < 3; k++) {\n                auto np = get_point(r, c, k, N);\n                int ni = np.first, nj = np.second;\n                if (p[r][c] == p[ni][nj]) {\n                    count -= 4;\n                } else {\n                    count += 4;\n                }\n            }            \n        }\n\n        if (count == 0) {\n            res++;\n        }\n    }\n\n    std::cout << res << std::endl;\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing i64 = long long;\n#define rep(i,s,e) for(int (i) = (s);(i) <= (e);(i)++)\n#define all(x) x.begin(),x.end()\n\nint C,N;\n\nint p[1010][1010];\n\nint calc(){\n  rep(i,0,N -1){\n    rep(j,0,N - 1){\n      if(p[i][j] == p[i][N - j - 1]){\n      }\n      else{\n        return 0;\n      }\n      if(p[N - i - 1][j] == p[i][j]){\n      }\n      else{\n        return 0;\n      }\n    }\n  }\n  return 1;\n}\n\nint main(){\n  cin >> C >> N;\n  rep(i,0,N - 1){\n    string s;\n    cin >> s;\n    rep(j,0,N - 1){\n      p[i][j] = s[j] == '1';\n    }\n  }\n  int ans = calc();\n  rep(q,0,C - 2){\n    int D;\n    cin >> D;\n    rep(d,0,D - 1){\n      int r,c;\n      cin >> r >> c;\n      r--;\n      c--;\n      p[r][c] ^= 1;\n    }\n    ans += calc();\n  }\n  cout << ans << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<set>\n#include<algorithm>\nusing namespace std;\n\nclass Point{\npublic:\n  int x;\n  int y;\n  bool bin;\n};\n\nbool operator<(const Point& lp,const Point& rp){\n  return (lp.x + lp.y) < (rp.x + rp.y);\n}\n\nclass FourPoint{\npublic:\n  Point lu;\n  Point ru;\n  Point ld;\n  Point rd;\n  friend ostream& operator<<(ostream& os,const FourPoint& fp){\n    os << fp.lu.x << \" \" << fp.lu.y;\n    return os;\n  }\n};\n\nbool operator<(const FourPoint& lfp,const FourPoint& rfp){\n  return lfp.lu.x < rfp.lu.x;\n}\n\nint main(){\n\n    int c,n,d,x,y,count;\n\n    set<FourPoint> st;\n\n    set<FourPoint>::iterator itr;\n\n    Point ptmp[4];\n\n    FourPoint fptmp;\n\n    count = 0;\n\n    cin >> c >> n;\n\n    bool table[n][n];\n    string s[n];\n\n     for(int i=0;i<n;i++){\n         cin >> s[i];\n     }\n\n     for(int i=0;i<n;i++){\n       for(int j=0;j<n;j++){\n         if(s[i][j] == '0'){\n           table[i][j] =false;\n         }\n         else{\n           table[i][j] = true;\n         }\n       }\n     }\n\n     bool is_delete =true;\n\n     for(int i=0;i<n;i++){\n       for(int j=0;j<n/2;j++){\n         if(table[i][j] != table[i][n-j-1]){\n\n           ptmp[0].x = i; ptmp[0].y = j; ptmp[0].bin = table[i][j];\n           ptmp[1].x = n-i-1; ptmp[1].y = j; ptmp[1].bin = table[n-i-1][j];\n           ptmp[2].x = i; ptmp[2].y = n-j-1; ptmp[2].bin = table[i][n-j-1];\n           ptmp[3].x = n-i-1; ptmp[3].y = n-j-1; ptmp[3].bin = table[n-i-1][n-j-1];\n\n           sort(ptmp,ptmp+4);\n\n           fptmp.lu = ptmp[0];\n           if(ptmp[1].y < ptmp[2].y){\n             fptmp.ru = ptmp[1];\n             fptmp.ld = ptmp[2];\n           }\n           else{\n             fptmp.ru = ptmp[2];\n             fptmp.ld = ptmp[1];\n           }\n\n           fptmp.rd = ptmp[3];\n\n           st.insert(fptmp);\n\n\n         }\n       }\n     }\n\n\n     for(int i=0;i<n/2;i++){\n       for(int j=0;j<n;j++){\n         if(table[i][j] != table[n-i-1][j]){\n           ptmp[0].x = i; ptmp[0].y = j; ptmp[0].bin = table[i][j];\n           ptmp[1].x = n-i-1; ptmp[1].y = j; ptmp[1].bin = table[n-i-1][j];\n           ptmp[2].x = i; ptmp[2].y = n-j-1; ptmp[2].bin = table[i][n-j-1];\n           ptmp[3].x = n-i-1; ptmp[3].y = n-j-1; ptmp[3].bin = table[n-i-1][n-j-1];\n\n           sort(ptmp,ptmp+4);\n\n           fptmp.lu = ptmp[0];\n           if(ptmp[1].y < ptmp[2].y){\n             fptmp.ru = ptmp[1];\n             fptmp.ld = ptmp[2];\n           }\n           else{\n             fptmp.ru = ptmp[2];\n             fptmp.ld = ptmp[1];\n           }\n\n           fptmp.rd = ptmp[3];\n\n           st.insert(fptmp);\n         }\n       }\n     }\n\n    /* for(itr = st.begin(); itr != st.end(); ++itr) {\n        cout << *itr << \"\\n\";      // ????????¬???????????????????????????????????¨???\n    }*/\n\n\n     if(st.size() == 0){\n       count++;\n     }\n\n     for(int k=0;k<c-1;k++){\n\n      /* for(itr = st.begin(); itr != st.end(); ++itr) {\n       std::cout << \"key = \" << itr->first           // ???????????¨???\n                     << \", val = \" << itr->second << \"\\n\";    // ????????¨???\n       }*/\n\n       cin >> d;\n\n       /*for(int i=0;i<d;i++){\n\n         cout << i << endl;\n\n         for(int a=0;a<n;a++){\n           for(int b=0;b<n;b++){\n             if(table[a][b] == false){\n               cout << '0';\n             }\n             else{\n               cout << '1';\n             }\n             cout << ' ';\n           }\n           cout << endl;\n         }*/\n\n      for(int i=0;i<d;i++){\n\n\n\n         is_delete = false;\n         cin >> x >> y;\n         table[x-1][y-1] = !table[x-1][y-1];\n         //cout << \"unsigned \" << tmps << endl;\n\n         ptmp[0].x = x-1; ptmp[0].y = y-1; ptmp[0].bin = table[x-1][y-1];\n         ptmp[1].x = n-x; ptmp[1].y = y-1; ptmp[1].bin = table[n-x][y-1];\n         ptmp[2].x = x-1; ptmp[2].y = n-y; ptmp[2].bin = table[x-1][n-y];\n         ptmp[3].x = n-x; ptmp[3].y = n-y; ptmp[3].bin = table[n-x][n-y];\n\n         sort(ptmp,ptmp+4);\n\n         fptmp.lu = ptmp[0];\n         if(ptmp[1].y < ptmp[2].y){\n           fptmp.ru = ptmp[1];\n           fptmp.ld = ptmp[2];\n         }\n         else{\n           fptmp.ru = ptmp[2];\n           fptmp.ld = ptmp[1];\n         }\n\n         fptmp.rd = ptmp[3];\n\n         itr = st.find(fptmp);\n\n         if(itr != st.end()){\n           if(fptmp.lu.bin == fptmp.ru.bin && fptmp.ru.bin == fptmp.ld.bin && fptmp.ld.bin == fptmp.rd.bin){\n             st.erase(itr);\n           }\n         }\n         else{\n           st.insert(fptmp);\n         }\n\n       }\n\n\n\n\n\n\n\n       if(st.size() == 0){\n         count++;\n       }\n\n     }\n\n     cout << count << endl;\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nbool Symmetry(int P[1000][1000],int n)\n{\n\tfor(int i=0;i<=n/2;i++){\n\t\tfor(int j=0;j<=n;j++){\n\t\t\tif(P[i][j]!=P[n-i][j]){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\t\n\treturn true;\n}\t\n\nint main()\n{\n\tint C,N;\n\tcin>>C>>N;\n\t\n\tint p[1000][1000]={0,0};\n\t\n\tfor(int i=0;i<N;i++){\n\t\tfor(int j=0;j<N;j++){\n\t\t\tcin>>p[i][j];\n\t\t}\n\t}\n\t\n\tint count=0;\n\t\n\tif(Symmetry(p,N-1)){\n\t\tcount++;\n\t}\n\t\n\tint D,r,c;\n\n\tfor(int i=1;i<C;i++){\n\t\tcin>>D;\n\t\tfor(int j=0;j<D;j++){\n\t\t\tcin>>r>>c;\n\t\t\tp[r-1][c-1]=!p[r-1][c-1];\n\n\t\t}\n\t\tif(Symmetry(p,N-1)){\n\t\t\tcount++;\n\t\t}\n\t}\n\t\n\tcout<<count<<endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <set>\n#include <cstdio>\nusing namespace std;\n#define F first\n#define S second\ntypedef long long ll;\ntypedef pair<ll,ll> P;\nint c,n,ans,s;\nint p[2005][2005];\nbool v[1005][1005];\nint main(void){\n    cin>>c>>n;\n    for(int i=0;i<n;i++){\n        char f[1005];\n        cin>>f;\n        for(int j=0;j<n;j++)if(f[j]=='1')p[i][j]=1;\n    }\n    for(int i=0;i<n/2;i++){\n        for(int j=0;j<n/2;j++){\n            int x=n-1-i,y=n-1-j;\n            if(p[i][j]==p[x][j]&&p[x][j]==p[i][y]&&p[i][y]==p[x][y])v[i][j]=true;\n        }\n    }\n    c--;\n    while(c){\n        int d;\n        cin>>d;\n        for(int i=0;i<d;i++){\n            int x,y,z,w;\n            cin>>x>>y;\n            x--;y--;\n            z=n-1-x;\n            w=n-1-y;\n            p[x][y]=(p[x][y]+1)%2;\n            bool q=false;\n            if(p[x][y]==p[x][w]&&p[x][w]==p[z][y]&&p[z][y]==p[z][w])q=true;\n            bool u=v[min(x,z)][min(y,w)];\n            if(u&&!q)ans++;\n            if(!u&&q)ans--;\n            v[min(x,z)][min(y,w)]=q;\n        }\n        if(ans==0)s++;\n        c--;\n    }\n    cout<<s<<endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <iomanip>\nusing namespace std;\n\nclass Coster {\npublic:\n\tCoster(int n);\n\t~Coster();\n\tvoid diff(const int& r, const int& c);\n\tint SymmetryNum();\n\tvoid FirstSym();\n\tvoid SymCalc(int r, int c);\n\tbool** pixel;\nprivate:\n\tint symmetry;\n\tint N;\n};\nCoster::Coster(int n) {\n\tN = n;\n\tpixel = new bool*[n];\n\tfor (int i = 0; i < n; i++)\n\t\tpixel[i] = new bool[n];\n}\nCoster::~Coster() {\n\tdelete[] pixel;\n}\nvoid Coster::diff(const int& r, const int& c) {\n\n\tpixel[r-1][c-1] = !pixel[r-1][c-1];\n}\nint Coster::SymmetryNum() {\n\treturn symmetry;\n}\nvoid Coster::FirstSym() {\n\tchar same = 0;\n\tfor (int r = 0; r < N / 2; r++) {\n\t\tfor (int c = 0; c < N / 2; c++) {\n\t\t\tsame = pixel[r][c];\n\t\t\tsame |= pixel[r][N - c - 1] << 1;\n\t\t\tsame |= pixel[N - r - 1][c] << 2;\n\t\t\tsame |= pixel[N - r - 1][N - c - 1] << 3;\n\t\t\tif (!(same == 0x0f || same == 0x00))\n\t\t\t\treturn;\n\t\t}\n\t}\n\tsymmetry++;\n}\nvoid Coster::SymCalc(int r, int c) {\n\tchar same = 0;\n\tsame = pixel[r][c];\n\tsame |= pixel[r][N - c - 1] << 1;\n\tsame |= pixel[N - r - 1][c] << 2;\n\tsame |= pixel[N - r - 1][N - c - 1] << 3;\n\tif (same == 0x0f || same == 0x00)\n\t\tsymmetry++;\n}\n\nint main()\n{\n\tint C,N;\n\tcin >> C >> N;\n\tCoster coster(N);\n\tchar n;\n\tfor (int i = 0; i < N; i++) {\n\t\tfor (int j = 0; j < N; j++) {\n\t\t\tcin >> n;\n\t\t\tcoster.pixel[i][j] = (bool)(n - '0');\n\t\t}\n\t}\n\t\n\tcoster.FirstSym();\n\n\tfor (int I = 0; I < C-1; I++) {\n\t\tint D;\n\t\tcin >> D;\n\t\tfor (int i = 0; i < D; i++) {\n\t\t\tint r, c;\n\t\t\tcin >> r >> c;\n\t\t\tcoster.diff(r, c);\n\t\t}\n\t\tcoster.SymCalc(r,c);\n\t}\n\n\tcout << coster.SymmetryNum() << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\nusing namespace std;\n\nbool Symmetry(int P[100][100],int n)\n{\n\tfor(int i=0;i<=n/2;i++){\n\t\tfor(int j=0;j<=n;j++){\n\t\t\tif(P[i][j]!=P[n-i][j]){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\t\n\treturn true;\n}\t\n\nint main()\n{\n\tint C,N;\n\tcin>>C>>N;\n\t\n\tint p[100][100]={0,0};\n\t\n\tchar tmp;\n\t\n\tfor(int i=0;i<N;i++){\n\t\tfor(int j=0;j<N;j++){\n\t\t\tcin>>tmp;\n\t\t\tif(tmp=='0'){\n\t\t\t\tp[i][j]=0;\n\t\t\t}\n\t\t\telse if(tmp=='1'){\n\t\t\t\tp[i][j]=1;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tint count=0;\n\t\n\tif(Symmetry(p,N-1)){\n\t\tcount++;\n\t}\n\t\n\tint D,r,c;\n\n\tfor(int i=1;i<C;i++){\n\t\tcin>>D;\n\t\tfor(int j=0;j<D;j++){\n\t\t\tcin>>r>>c;\n\t\t\tp[r-1][c-1]=!p[r-1][c-1];\n\n\t\t}\n\t\tif(Symmetry(p,N-1)){\n\t\t\tcount++;\n\t\t}\n\t}\n\t\n\tcout<<count<<endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\nint main(void){\n\tint c,n,d,r,C,i,j,x=0,y=0,z;\n\tchar p[1000][1000];\n\tscanf(\"%d%d\",&C,&n);\n\tfor(i=0;i<n;i++){\n\t\tscanf(\"%s\",&p[i]);\n\t}\n\tfor(i=0;i<n;i++){\n\t\tfor(j=0;j<n/2;j++){\n\t\t\tif(p[i][j]==p[i][n-1-j]){\n\t\t\t\tx++;\n\t\t\t}\n\t\t}\n\t}\n\tfor(j=0;j<n;j++){\n\t\tfor(i=0;i<n/2;i++){\n\t\t\tif(p[i][j]==p[n-1-i][j]){\n\t\t\t\tx++;\n\t\t\t}\n\t\t}\n\t}\n\tif(x==n*n){\n\t\ty++;\n\t}\n\tfor(z=1;z<C;z++){\n\t\tscanf(\"%d\",&d);\n\t\tfor(i=0;i<d;i++){\n\t\t\tscanf(\"%d%d\",&r,&c);\n\t\t\tif(p[r-1][c-1]=='0'){\n\t\t\t\tp[r-1][c-1]='1';\n\t\t\t}\n\t\t\telse{\n\t\t\t\tp[r-1][c-1]='0';\n\t\t\t}\n\t\t}\n\t\tx=0;\n\t\tfor(i=0;i<n;i++){\n\t\t\tfor(j=0;j<n/2;j++){\n\t\t\t\tif(p[i][j]==p[i][n-1-j]){\n\t\t\t\t\tx++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor(j=0;j<n;j++){\n\t\t\tfor(i=0;i<n/2;i++){\n\t\t\t\tif(p[i][j]==p[n-1-i][j]){\n\t\t\t\tx++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\tif(x==n*n){\n\t\ty++;\n\t\t}\n\t}\n\tprintf(\"%d\\n\",y);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\n#include<vector>\n#include<deque>\n#include<stack>\n#include<queue>\n#include<string>\n#include<iostream>\n#include<tuple>\n#include<utility>\n#include<set>\n#include<queue>\n#include<iomanip>\n#include<iterator>\n//#include<chrono>\n//cout<<setprecision(12)\n//fixed\n#include<random>\nusing namespace std;\ntypedef long long int llint;\ntypedef long double lldo;\nconst int big=1e9+100000;\nconst int mod=1e9+7;\nconst lldo eps=1e-9;\nconst long double pai=3.141592653589793238462643;\n#define mt make_tuple\n#define mp make_pair\n#define fir first\n#define sec second\n#define pub push_back\n#define puf push_front\n#define pob pop_back\n#define pof pop_front\n#define res resize\n#define ins insert\n#define era erase\ntemplate <class T,class U>void mineq(T& a,U b){if(a>b){a=b;}}\ntemplate <class T,class U>void maxeq(T& a,U b){if(a<b){a=b;}}\nint main(void){\n\tint i,j,c,n,gosa=0,ans=0;cin>>c>>n;\n\tvector<vector<char>>kor(n);//?????????????????????\n\tfor(i=0;i<n;i++){\n\t\tkor[i].res(n);\n\t\tfor(j=0;j<n;j++){cin>>kor[i][j];}\n\t}\n\tgosa=n*n/4;\n\tfor(i=0;i<n/2;i++){\n\t\tfor(j=0;j<n/2;j++){\n\t\t\tif(kor[i][j]==kor[n-i-1][j]&&kor[i][j]==kor[i][n-j-1]&&kor[i][j]==kor[n-i-1][n-j-1]){gosa--;}\n\t\t}\n\t}\n\tif(gosa==0){ans++;}\n\tfor(i=0;i<c-1;i++){\n\t\tint d;cin>>d;\n\t\twhile(d--){\n\t\t\tint x,y;cin>>y>>x;x--;y--;\n\t\t\tif(kor[y][x]==kor[n-y-1][x]&&kor[y][x]==kor[y][n-x-1]&&kor[y][x]==kor[n-y-1][n-x-1]){gosa++;}\n\t\t\tkor[y][x]='0'+'1'-kor[y][x];\n\t\t\tif(kor[y][x]==kor[n-y-1][x]&&kor[y][x]==kor[y][n-x-1]&&kor[y][x]==kor[n-y-1][n-x-1]){gosa--;}\n\t\t}\n\t\tif(gosa==0){ans++;}\n\t}\n\tcout<<ans<<endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main(){\n    int c,n;\n    int m[1000][1000];\n    cin>>c>>n;\n    for(int i=0;i<n;i++){\n        for(int j=0;j<n;j++){\n            char c;\n            cin>>c;\n            m[i][j]=(c=='0'?0:1);\n        }\n    }\n    bool f=true;\n    int ans=0;\n    for(int i=0;i<(n+1)/2;i++){\n        for(int j=0;j<(n+1)/2;j++){\n            if(m[i][j]!=m[n-1-i][j]||m[i][j]!=m[n-1-i][n-1-j]||m[i][j]!=m[i][n-1-j]){\n                f=false;\n                break;\n            }\n        }\n        if(!f){\n            break;\n        }\n    }\n    if(f){\n        ans++;\n    }\n    c--;\n    while(c--){\n        int d;\n        cin>>d;\n        for(int i=0;i<d;i++){\n            int r,c;\n            cin>>r>>c;\n            r--;c--;\n            m[r][c]^=1;\n        }\n        f=true;\n        for(int i=0;i<(n+1)/2;i++){\n            for(int j=0;j<(n+1)/2;j++){\n                if(m[i][j]!=m[n-1-i][j]||m[i][j]!=m[n-1-i][n-1-j]||m[i][j]!=m[i][n-1-j]){\n                    f=false;\n                    break;\n                }\n            }\n            if(!f){\n                break;\n            }\n        }\n        if(f){\n            ans++;\n        }\n    }\n    cout<<ans<<endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint c,n;\nbool coa[1001][1001];\nint count=0;\nint onecount=1;\nstruct onepos{\n  int i;\n  int j;\n};\nonepos p[250001];\nbool coacheck(){\n\n  for(int i=1;i<=onecount;i++){\n      if((coa[p[i].i][p[i].j]==coa[p[i].i][n-p[i].j+1])&&(coa[p[i].i][p[i].j]==coa[n-p[i].i+1][p[i].j])&&(coa[p[i].i][p[i].j]==coa[n-p[i].i+1][n-p[i].j+1])){\n      }else{\n        return false;\n      }\n    }\n    return true;\n  }\nint main(){\n  cin >>c>>n;\n  for(int i=1;i<=n;i++){\n    string coaster;\n    cin >> coaster;\n    for(int j=1;j<=n;j++){\n      int kari =coaster[j-1]-48;\n      coa[i][j]=kari;\n    }\n  }\n  for(int i=1;i<=n/2;i++){\n    for(int j=1;j<=n/2;j++){\n      if(coa[i][j]==true){\n        p[onecount].i=i;\n        p[onecount].j=j;\n      }\n    }\n  }\n  int coacount =0;\n  if(coacheck())coacount++;\n  for(int i=1;i<c;i++){\n    int num;\n    cin >>num;\n    int a[num*2];\n    for(int j=0;j<num*2;j++){\n      cin >>a[j];\n    }\n    for(int j=0;j<num;j++){\n      if(coa[a[j*2]][a[j*2+1]]==true){\n        coa[a[j*2]][a[j*2+1]]=false;\n        for(int k=1;k<=onecount;k++){\n          if((p[k].i==a[j*2])&&(p[k].j==a[j*2+1])){\n            p[k].i=p[onecount].i;\n            p[k].j=p[onecount].j;\n            break;\n          }\n        }\n        onecount--;\n      }\n      else coa[a[j*2]][a[j*2+1]]=true;\n      p[onecount+1].i=a[j*2];\n      p[onecount+1].j=a[j*2+1];\n      onecount++;\n    }\n    if(coacheck())coacount++;\n  }\n  cout << coacount <<endl;\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<map>\n#include<sstream>\nusing namespace std;\n\nint main(){\n\n    int c,n,d,x,y,count;\n\n    stringstream ss;\n\n    string tmps;\n\n    map<string,bool> mp;\n\n    map<string,bool>::iterator itr;\n\n    count = 0;\n\n    cin >> c >> n;\n\n    bool table[n][n];\n    string s[n];\n\n     for(int i=0;i<n;i++){\n         cin >> s[i];\n     }\n\n     for(int i=0;i<n;i++){\n       for(int j=0;j<n;j++){\n         if(s[i][j] == '0'){\n           table[i][j] =false;\n         }\n         else{\n           table[i][j] = true;\n         }\n       }\n     }\n\n     bool is_delete =true;\n\n     for(int i=0;i<n;i++){\n       for(int j=0;j<n/2;j++){\n         if(table[i][j] != table[i][n-j-1]){\n           ss.str(\"\");\n           ss.clear(stringstream::goodbit);\n           ss << i << j;\n           ss >> tmps;\n           //cout << \"test \" << tmps << endl;\n           mp[tmps] = table[i][j];\n           /*ss << i << (n-j-1);\n           ss >> tmps;\n           mp[tmp] = table[i][n-j-1];*/\n         }\n       }\n     }\n\n\n     for(int i=0;i<n/2;i++){\n       for(int j=0;j<n;j++){\n         if(table[i][j] != table[n-i-1][j]){\n           ss.str(\"\");\n           ss.clear(stringstream::goodbit);\n           ss << i << j;\n           ss >> tmps;\n           //cout << \"test \" << tmps << endl;\n           mp[tmps] = table[i][j];\n          /* ss << n-i-1 << j;\n           ss >> tmps;\n           mp[tmp] = table[n-i-1][j];*/\n         }\n       }\n     }\n\n\n     if(mp.size() == 0){\n       count++;\n     }\n\n     for(int k=0;k<c-1;k++){\n\n\n       cin >> d;\n\n       for(int i=0;i<d;i++){\n\n\n         is_delete = false;\n         cin >> x >> y;\n         table[x-1][y-1] = !table[x-1][y-1];\n         ss.str(\"\");\n         ss.clear(stringstream::goodbit);\n         ss << x-1 << y-1;\n         ss >> tmps;\n           //cout << \"unsigned \" << tmps << endl;\n         itr = mp.find(tmps);\n\n         if(itr != mp.end()){\n           is_delete = true;\n           mp.erase(tmps);\n\n           ss.str(\"\");\n           ss.clear(stringstream::goodbit);\n           ss << n-x << y-1;\n           ss >> tmps;\n           itr = mp.find(tmps);\n           if(itr != mp.end() && table[x-1][y-1] == table[n-x][y-1] && table[x-1][y-1] == table[x-1][n-y]){\n             mp.erase(tmps);\n           }\n\n           ss.str(\"\");\n           ss.clear(stringstream::goodbit);\n           ss << x-1 << n-y;\n           ss >> tmps;\n           itr = mp.find(tmps);\n           if(itr != mp.end() && table[x-1][y-1] == table[x-1][n-y] && table[x-1][y-1] == table[n-x][y-1]){\n             mp.erase(tmps);\n           }\n\n         }\n\n         else{\n\n           ss.str(\"\");\n           ss.clear(stringstream::goodbit);\n           ss << n-x << y-1;\n           ss >> tmps;\n           itr = mp.find(tmps);\n           if(itr != mp.end() && table[n-x][y-1] == table[x-1][y-1] && table[n-x][y-1] == table[n-x][n-y]){\n             is_delete = true;\n             mp.erase(tmps);\n\n             ss.str(\"\");\n             ss.clear(stringstream::goodbit);\n             ss << n-x << n-y;\n             ss >> tmps;\n             itr = mp.find(tmps);\n             if(itr != mp.end() && table[n-x][y-1] == table[n-x][n-y]){\n               mp.erase(tmps);\n             }\n\n           }\n\n           ss.str(\"\");\n           ss.clear(stringstream::goodbit);\n           ss << x-1 << n-y;\n           ss >> tmps;\n           itr = mp.find(tmps);\n\n           if(itr != mp.end() && table[x-1][n-y] == table[x-1][y-1] && table[x-1][n-y] == table[x-1][y-1]){\n\n             is_delete = true;\n             mp.erase(tmps);\n\n             ss.str(\"\");\n             ss.clear(stringstream::goodbit);\n             ss << n-x << n-y;\n             ss >> tmps;\n             itr = mp.find(tmps);\n             if(itr != mp.end() && table[n-x][y-1] == table[n-x][n-y]){\n               mp.erase(tmps);\n             }\n           }\n\n         }\n\n         if(!is_delete){\n           cout << \"through \" << x-1 << \" \" << y-1 << endl;\n           ss.str(\"\");\n           ss.clear(stringstream::goodbit);\n           ss << x-1 << y-1;\n           ss >> tmps;\n           mp[tmps] = table[x-1][y-1];\n         }\n\n       }\n/*\n       flag=true;\n\n       for(int i=0;i<n;i++){\n         for(int j=0;j<n/2;j++){\n           if(table[i][j] != table[i][n-j-1]){\n             flag = false;\n             break;\n           }\n         }\n         if(!flag){\n           break;\n         }\n       }\n\n       if(flag){\n         for(int i=0;i<n/2;i++){\n           for(int j=0;j<n;j++){\n             if(table[i][j] != table[n-i-1][j]){\n               flag = false;\n               break;\n             }\n           }\n           if(!flag){\n             break;\n           }\n         }\n       }\n*/\n\n\n\n\n       if(mp.size() == 0){\n         cout << \"is_count\" << k << endl;\n         count++;\n       }\n\n     }\n\n     cout << count << endl;\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\nusing namespace std;\n\nbool Symmetry(int P[1000][1000],int n)\n{\n\tfor(int i=0;i<=n/2;i++){\n\t\tfor(int j=0;j<=n;j++){\n\t\t\tif(P[i][j]!=P[n-i][j]){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfor(int i=0;i<=n;i++){\n\t\tfor(int j=0;j<=n/2;j++){\n\t\t\tif(P[i][j]!=P[i][n-j]){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\t\n\treturn true;\n}\t\n\nint main()\n{\n\tint C,N;\n\tcin>>C>>N;\n\t\n\tint p[1000][1000]={0,0};\n\t\n\tchar tmp;\n\t\n\tfor(int i=0;i<N;i++){\n\t\tfor(int j=0;j<N;j++){\n\t\t\tcin>>tmp;\n\t\t\tif(tmp=='0'){\n\t\t\t\tp[i][j]=0;\n\t\t\t}\n\t\t\telse if(tmp=='1'){\n\t\t\t\tp[i][j]=1;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tint count=0;\n\t\n\tif(Symmetry(p,N-1)){\n\t\tcount++;\n\t}\n\t\n\tint D,r,c;\n\n\tfor(int i=1;i<C;i++){\n\t\tcin>>D;\n\t\tfor(int j=0;j<D;j++){\n\t\t\tcin>>r>>c;\n\t\t\tp[r-1][c-1]=!p[r-1][c-1];\n\n\t\t}\n\t\tif(Symmetry(p,N-1)){\n\t\t\tcount++;\n\t\t}\n\t}\n\t\n\tcout<<count<<endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main(){\n    int c,n;\n    int m[1000][1000];\n    cin>>c>>n;\n    for(int i=0;i<n;i++){\n        for(int j=0;j<n;j++){\n            char c;\n            cin>>c;\n            m[i][j]=(c=='0'?0:1);\n        }\n    }\n    bool f=true;\n    int ans=0;\n    for(int i=0;i<(n+1)/2;i++){\n        for(int j=0;j<(n+1)/2;j++){\n            if(m[i][j]!=m[n-1-i][j]||m[i][j]!=m[n-1-i][n-1-j]||m[i][j]!=m[i][n-1-j]){\n                f=false;\n                break;\n            }\n        }\n        if(!f){\n            break;\n        }\n    }\n    if(f){\n        ans++;\n    }\n    c--;\n    while(c--){\n        int d;\n        cin>>d;\n        for(int i=0;i<d;i++){\n            int r,c;\n            cin>>r>>c;\n            r--;c--;\n            m[r][c]^=1;\n        }\n        if(f&&d==0){\n            ans++;continue;\n        }\n        if(f&&d!=0){\n            f=false;continue;\n        }\n        f=true;\n        for(int i=0;i<(n+1)/2;i++){\n            for(int j=0;j<(n+1)/2;j++){\n                if(m[i][j]!=m[n-1-i][j]||m[i][j]!=m[n-1-i][n-1-j]||m[i][j]!=m[i][n-1-j]){\n                    f=false;\n                    break;\n                }\n            }\n            if(!f){\n                break;\n            }\n        }\n        if(f){\n            ans++;\n        }\n    }\n    cout<<ans<<endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n\n\nint main(void){\n    // Your code here!\n\n    int C, N;\n    cin >> C >> N;\n    \n    bool table[N][N];\n\n    for(int i = 0; i < N; i++) {\n        string s;\n        cin >> s;\n        for(int j = 0; j < N; j++) {\n            table[i][j] = s[j] == '1' ? true : false;\n        }\n    }\n    \n    int cnt = 0;\n    \n    bool flag = true;\n    for(int i = 0; i < N; i++) {\n        for(int j = 0; j < N; j++) {\n            if(table[i][j] != table[N-1-i][j] || table[i][j] != table[i][N-1-j]){\n                flag = false;\n                break;\n            }\n            if(!flag) break;\n        }        \n    }\n    if(flag) cnt++;\n\n    for(int l = 0; l < C-1; l++) {\n        int n;\n        cin >> n;\n        for(int m = 0; m < n; m++) {\n            int x, y;\n            cin >> x >> y;\n            table[x-1][y-1] = !table[x-1][y-1];\n        }\n\n        flag = true;\n        for(int i = 0; i < N; i++) {\n            for(int j = 0; j < N; j++) {\n                if(table[i][j] != table[N-1-i][j] || table[i][j] != table[i][N-1-j]){\n                    flag = false;\n                    break;\n                }\n                if(!flag) break;\n            }        \n        }\n        if(flag) cnt++;\n    }\n    \n\n    cout << cnt << endl;        \n\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint N, C, ans, D, cnt;\nbool p[1000][1000];\nstring s[1000];\nint main()\n{\n\tcin >> C >> N;\n\tfor(int i = 0; i < N; i++)\n\t\tcin >> s[i];\n\tfor(int i = 0; i < N; i++)\n\t\tfor(int j = 0; j < N; j++)\n\t\t\tp[i][j] = s[i][j] - '0';\n\tfor(int i = 0; i < N / 2; i++)\n\t{\n\t\tfor(int j = 0; j < N / 2; j++)\n\t\t{\n\t\t\tif(p[i][j] != p[N - i - 1][j] || p[i][j] != p[i][N - j - 1] || p[i][j] != p[N - i - 1][N - j - 1])\n\t\t\t{\n\t\t\t\tcnt++;\n\t\t\t}\n\t\t}\n\t}\n\tif(!cnt)\n\t\tans++;\n\tfor(int i = 0; i < C - 1; i++)\n\t{\n\t\tcin >> D;\n\t\tfor(int j = 0; j < D; j++)\n\t\t{\n\t\t\tint r2, c2, r, c;\n\t\t\tbool boo = 0;\n\t\t\tcin >> r2 >> c2;\n\t\t\tr2--; c2--;\n\t\t\tr = r2; c= c2;\n\t\t\tif(r >= N / 2)\n\t\t\t{\n\t\t\t\tr += -N + 1;\n\t\t\t\tr *= -1;\n\t\t\t}\n\t\t\tif(c >= N / 2)\n\t\t\t{\n\t\t\t\tc += -N + 1;\n\t\t\t\tc *= -1;\n\t\t\t}\n\n\t\t\tif(p[r][c] != p[N - r - 1][c] || p[r][c] != p[r][N - c - 1] || p[r][c] != p[N - r - 1][N - c - 1])\n\t\t\t{\n\t\t\t\tboo = 1;\n\t\t\t}\n\t\t\tp[r2][c2] ^= 1;\n\t\t\tif(p[r][c] == p[N - r - 1][c] && p[r][c] == p[r][N - c - 1] && p[r][c] == p[N - r - 1][N - c - 1])\n\t\t\t{\n\t\t\t\tcnt--;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif(!boo)\n\t\t\t\t\tcnt++;\n\t\t\t}\n\t\t}\n\t\tif(!cnt)\n\t\t\tans++;\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\nusing namespace std;\n\n#define rep(i,j) for(int (i) = 0;(i) < (j); ++(i))\nvector<string> P;\nint C,N;\nbool same(int i,int j){\n    return P[i][j] == P[i][N-1-j] && P[i][j] == P[N-1-i][j] && P[i][j] == P[N-1-i][N-1-j];\n}\n\nint main(){\n    cin>>C>>N;\n    P.resize(N);\n    rep(i,N) cin>>P[i];\n\n    int cnt = 0;\n    rep(i,N/2){rep(j,N/2){if(same(i,j)) ++cnt;}}\n    int ans = (cnt == N*N/4); \n\n    rep(i,C-1){\n        int d; cin>>d;\n        rep(j,d){\n            int r,c;cin>>r>>c;--r;--c;\n            if(same(r,c)) --cnt;\n            P[r][c] = (P[r][c] == '1'?'0':'1');\n            if(same(r,c)) ++cnt;\n        } \n        ans += (cnt == N*N/4);\n    }\n    cout<<ans<<endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include<vector>\nusing namespace std;\n\ntypedef struct place{\n\t\n\tint x;\n\tint y;\n}PLACE;\n\n#define N 110\n\nvector<string> rotate90(vector<string> &a) {\n\tvector<string> ret;\n\tint h,w;\n\th = w = a.size();\n\tfor(int i=0;i<h;++i) ret[i].resize(w);\n\tfor(int y=0;y<ret.size();++y) {\n\t\tfor(int x=0;x<ret[0].size();++x) {\n\t\t\tret[y][x] = ret[ret[0].size()-1-x][y];\n\t\t}\n\t}\n\treturn ret;\n}\n\nbool check(vector<string> a,vector<string> b) {\n\t/*for(int i = 0;i < sizeof(a);i++){\n\t\tcout << a[i];\n\t}*/\n\t/*for(int i = 0;i < sizeof(b);i++){\n\t\tcout << b[i];\n\t}*/\n\t\n\tfor(int _=0;_<4;++_) {\n\t\tif( a != b ) return false;\n\t\tb = rotate90(b);\n\t}\n\treturn true;\n}\n\nint main() {\n\t\n\tint num = 0;//テヲツ楪堙ヲツ閉ー\n\tlong long int large = 0;\n\tPLACE array[N];//テ」ツδ氾」ツつッテ」ツつサテ」ツδォ\n\t\n\t\n\tcin >> num >> large;//テヲツ楪堙ヲツ閉ーテ」ツ?ィテァツ板サテァツエツ?\n\t//cout << num << large << endl;\n\tint pic[large][large] ={0};\n\t\n\tfor(int i = 0;i < large;i++){\n\t\tstring s;\n\t\tcin >> s;\n\t\tfor(int j = 0;j < large;j++){\n\t\t\tpic[i][j] = ((s[j]=='0')?0:1);\n\t\t}\n\t}\n\t\n\t/*for(int i = 0;i < large;i++){\n\t\tfor(int j = 0;j < large;j++){\n\t\t\tprintf(\"%d \",pic[i][j]);\n\t\t}\n\t//\tcout << endl;\n\t}*/\n\t\n\tint ans = 0;\n\twhile(num--){\n\t\t\n\t//\tcout << num << endl;\n\t\tint sum;\n\t\tcin >> sum;\n\t\t//cout << sum;\n\t\tvector<string> va,vb;\n        for(int i=0;i<large;++i) {\n        \tstring s;\n        \tfor(int j=0;j<large;++j) {\n        \t\tif( pic[i][j] == 0 ) s += \"0\";\n        \t\telse                 s += \"1\";\n        \t}\n        \tva.push_back(s);\n        }\n      //  puts(\"--\");\n\t\tfor(int i = 0;i < sum;i++){\n\t\t\tcin >> array[i].x >> array[i].y;\n\t\t\tpic[array[i].x-1][array[i].y-1] = !pic[array[i].x-1][array[i].y-1];//0テ」ツ?ィ1テ」ツ?ョテ・ツ渉催ィツサツ「\n\t\t}\n\t\t//puts(\"---\");\n\t   for(int i=0;i<large;++i) {\n        \tstring s;\n        \tfor(int j=0;j<large;++j) {\n        \t\tif( pic[i][j] == 0 ) s += \"0\";\n        \t\telse                 s += \"1\";\n        \t}\n        \tvb.push_back(s);\n        }\n\t\t//puts(\"----\");\n\t\t\n\t\tif( check(va,vb) ) ++ans;\n\t\t//puts(\"000\");\n\t\t\n\t\t//cout << num << endl;\n\t}\n\t\n\tcout << ans << endl;\n\t\n\t\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "/*\nこのコード、と～おれ!\nBe accepted!\n∧＿∧　\n（｡･ω･｡)つ━☆・*。\n⊂　　 ノ 　　　・゜+.\n　しーＪ　　　°。+ *´¨)\n 　　　　　　　　　.· ´¸.·*´¨) ¸.·*¨)\n\t\t  　　　　　　　　　　(¸.·´ (¸.·'* ☆\n*/\n\n#include <cstdio>\n#include <algorithm>\n#include <string>\n#include <cmath>\n#include <cstring>\n#include <vector>\n#include <numeric>\n#include <iostream>\n#include <random>\n#include <map>\n#include <unordered_map>\n#include <queue>\n#include <regex>\n#include <functional>\n#include <complex>\n#include <list>\n#include <cassert>\n#include <iomanip>\n#include <set>\n#include <stack>\n#include <bitset>\n\n////多倍長整数, cpp_intで宣言\n//#include <boost/multiprecision/cpp_int.hpp>\n//using namespace boost::multiprecision;\n\n//#pragma gcc target (\"avx2\")\n//#pragma gcc optimization (\"Ofast\")\n//#pragma gcc optimization (\"unroll-loops\")\n#define rep(i, n) for(int i = 0; i < (n); ++i)\n#define rep1(i, n) for(int i = 1; i <= (n); ++i)\n#define rep2(i, n) for(int i = 2; i < (n); ++i)\n#define repr(i, n) for(int i = n; i >= 0; --i)\n#define reprm(i, n) for(int i = n - 1; i >= 0; --i)\n#define printynl(a) printf(a ? \"yes\\n\" : \"no\\n\")\n#define printyn(a) printf(a ? \"Yes\\n\" : \"No\\n\")\n#define printYN(a) printf(a ? \"YES\\n\" : \"NO\\n\")\n#define printim(a) printf(a ? \"possible\\n\" : \"imposible\\n\")\n#define printdb(a) printf(\"%.50lf\\n\", a) //少数出力\n#define printLdb(a) printf(\"%.50Lf\\n\", a) //少数出力\n#define printdbd(a) printf(\"%.16lf\\n\", a) //少数出力(桁少なめ)\n#define prints(s) printf(\"%s\\n\", s.c_str()) //string出力\n#define all(x) (x).begin(), (x).end()\n#define deg_to_rad(deg) (((deg)/360.0L)*2.0L*PI)\n#define rad_to_deg(rad) (((rad)/2.0L/PI)*360.0L)\n#define Please return\n#define AC 0\n#define manhattan_dist(a, b, c, d) (abs(a - c) + abs(b - d)) /*(a, b) から (c, d) のマンハッタン距離 */\n#define inf numeric_limits<double>::infinity();\n#define linf numeric_limits<long double>::infinity()\n\nusing ll = long long;\nusing ull = unsigned long long;\n\nconstexpr int INF = 1073741823;\nconstexpr int MINF = -1073741823;\nconstexpr ll LINF = ll(4661686018427387903);\nconstexpr ll MOD = 1e9 + 7;\nconstexpr long double eps = 1e-6;\nconst long double PI = acosl(-1.0L);\n\nusing namespace std;\n\nvoid scans(string & str) {\n\tchar c;\n\tstr = \"\";\n\tscanf(\"%c\", &c);\n\tif (c == '\\n')scanf(\"%c\", &c);\n\twhile (c != '\\n' && c != -1 && c != ' ') {\n\t\tstr += c;\n\t\tscanf(\"%c\", &c);\n\t}\n}\n\nvoid scanc(char& str) {\n\tchar c;\n\tscanf(\"%c\", &c);\n\tif (c == -1)return;\n\twhile (c == '\\n') {\n\t\tscanf(\"%c\", &c);\n\t}\n\tstr = c;\n}\n\ndouble acot(double x) {\n\treturn PI / 2 - atan(x);\n}\n\nll LSB(ll n) { return (n & (-n)); }\n\n/*-----------------------------------------ここからコード-----------------------------------------*/\n\n\n\nint main() {\n\n\tint q, n;\n\tscanf(\"%d%d%*c\", &q, &n);\n\tvector<vector<int>> p(n / 2, vector<int>(n / 2));\n\tvector<string> s(n);\n\trep(i, n) {\n\t\trep(j, n) {\n\t\t\tint h = i, w = j;\n\t\t\tif (h >= n / 2)h = n - h - 1;\n\t\t\tif (w >= n / 2)w = n - w - 1;\n\t\t\tchar c;\n\t\t\tscanf(\"%c\", &c);\n\t\t\tif (c == '1')++p[h][w];\n\t\t\ts[i] += c;\n\t\t}\n\t\tscanf(\"%*c\");\n\t}\n\tset<pair<int, int>> ng;\n\trep(i, n / 2) {\n\t\trep(j, n / 2) {\n\t\t\tif (p[i][j] % 4)ng.insert({ i, j });\n\t\t}\n\t}\n\tint ans = ng.empty();\n\twhile (--q) {\n\t\tint d;\n\t\tscanf(\"%d\", &d);\n\t\tif (d == 0) {\n\t\t\tans += ng.empty();\n\t\t\tcontinue;\n\t\t}\n\t\twhile (d--) {\n\t\t\tint r, c;\n\t\t\tscanf(\"%d%d\", &r, &c);\n\t\t\t--r, --c;\n\t\t\tif (s[r][c] == '1') {\n\t\t\t\ts[r][c] = '0';\n\t\t\t\tif (r >= n / 2)r = n - r - 1;\n\t\t\t\tif (c >= n / 2)c = n - c - 1;\n\t\t\t\t--p[r][c];\n\t\t\t\tif (p[r][c] % 4 == 0)ng.erase({ r, c });\n\t\t\t\telse if (p[r][c] == 3)ng.insert({ r, c });\n\t\t\t}\n\t\t\telse if (s[r][c] == '0') {\n\t\t\t\ts[r][c] = '1';\n\t\t\t\tif (r >= n / 2)r = n - r - 1;\n\t\t\t\tif (c >= n / 2)c = n - c - 1;\n\t\t\t\t++p[r][c];\n\t\t\t\tif (p[r][c] % 4 == 0)ng.erase({ r, c });\n\t\t\t\telse if (p[r][c] == 1)ng.insert({ r, c });\n\t\t\t}\n\t\t}\n\t\tans += ng.empty();\n\t}\n\tprintf(\"%d\\n\", ans);\n\n\tPlease AC;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint c, n, m;\nbool p[1010][1010];\n\nbool is_same(int y, int x) {\n  if (y >= m) y = n - y - 1;\n  if (x >= m) x = n - x - 1;\n  int xx = n - x - 1;\n  int yy = n - y - 1;\n  return p[y][x] == p[yy][x] &&\n         p[y][x] == p[y][xx] &&\n         p[y][x] == p[yy][xx];\n}\n\nint main() {\n  int ans = 0;\n\n  cin >> c >> n;\n  m = n / 2;\n\n  for (int i = 0; i < n; ++i) {\n    for (int j = 0; j < n; ++j) {\n      scanf(\"%1d\", &p[i][j]);\n    }\n  }\n\n  int cnt = 0;\n  for (int i = 0; i < m; ++i) {\n    for (int j = 0; j < m; ++j) {\n      if (!is_same(i, j)) cnt++;\n    }\n  }\n\n  if (cnt == 0) ans++;\n\n  while (--c) {\n    int d;\n    cin >> d;\n\n    for (int i = 0; i < d; ++i) {\n      int y, x;\n\n      cin >> y >> x;\n      y--; x--;\n\n      bool pre = is_same(y, x);\n      p[y][x] ^= 1;\n      if (pre != is_same(y, x)) {\n        if (pre) {\n          cnt++;\n        } else {\n          cnt--;\n        }\n      }\n    }\n\n    if (cnt == 0) ans++;\n  }\n\n  cout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main(){\n    int c,n;\n    int m[1000][1000];\n    cin>>c>>n;\n    for(int i=0;i<n;i++){\n        for(int j=0;j<n;j++){\n            cin>>m[i][j];\n        }\n    }\n    bool f=true;\n    int ans=0;\n    for(int i=0;i<=(n+1)/2;i++){\n        for(int j=0;j<=(n+1)/2;j++){\n            if(m[i][j]!=m[n-1-i][j]||m[i][j]!=m[n-1-i][n-1-j]||m[i][j]!=m[i][n-1-j]){\n                f=false;\n                break;\n            }\n        }\n        if(!f){\n            break;\n        }\n    }\n    if(f){\n        ans++;\n    }\n    c--;\n    while(c--){\n        int d;\n        cin>>d;\n        for(int i=0;i<d;i++){\n            int r,c;\n            cin>>r>>c;\n            r--;c--;\n            m[r][c]^=1;\n        }\n        f=true;\n        for(int i=0;i<=(n+1)/2;i++){\n            for(int j=0;j<=(n+1)/2;j++){\n                if(m[i][j]!=m[n-1-i][j]||m[i][j]!=m[n-1-i][n-1-j]||m[i][j]!=m[i][n-1-j]){\n                    f=false;\n                    break;\n                }\n            }\n            if(!f){\n                break;\n            }\n        }\n        if(f){\n            ans++;\n        }\n    }\n    cout<<ans<<endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <string.h>\n#include <vector>\n#include <algorithm>\n#include <cmath>\n#include <set>\n#include<list>\n#include <map>\n#define rep(i, n) for(int i = 0; i < n; i++)\n#define REP(i, m, n) for(int i = m; i < n; i++)\n#define ALL(v) v.begin(),v.end()\n#define RALL(v) v.rbegin(),v.rend()\n#define check(v) rep(i,v.size()) cout << v[i] << \" \";\\\ncout << endl\n#define INF 1e9\ntypedef long long ll;\nusing namespace std;\n\nint main() {\n    int k, n;\n    cin >> k >> n;\n    char** bitmap;\n    char** bitmap_r;\n    char** bitmap_c;\n    bitmap = new char*[n];\n    bitmap_r = new char*[n];\n    bitmap_c = new char*[n];\n    rep(i, n){\n        bitmap[i] = new char[n];\n        bitmap_r[n-1-i] = new char[n];\n        bitmap_c[n-1-i] = new char[n];\n        string p;\n        cin >> p;\n        rep(j, n){\n            bitmap[i][j] = p[j];\n            bitmap_c[n-1-i][j] = p[j];\n            bitmap_r[n-1-i][n-1-j] = p[j];\n        }\n    }\n\n    int ans = 0;\n    bool flag_t = false;\n        rep(j, n){\n            if(memcmp(bitmap[j], bitmap_r[j], sizeof(char)*n)){\n                flag_t = true;\n                break;\n            }else if(memcmp(bitmap[j], bitmap_c[j], sizeof(char)*n)){\n                flag_t = true;\n                break;\n            }\n        }\n        if(!flag_t){\n            ++ans;\n        }\n\n    rep(i, k-1){\n        int d, r, c;\n        cin >> d;\n        rep(j, d){\n            cin >> r >> c;\n            --r;\n            --c;\n            bitmap[r][c] = bitmap[r][c]^1;\n            bitmap_r[n-1-r][n-1-c] = bitmap[r][c];\n            bitmap_c[n-1-r][c] = bitmap[r][c];\n        }\n\n        bool flag = false;\n        rep(j, n){\n            if(memcmp(bitmap[j], bitmap_r[j], sizeof(char)*n)){\n                flag = true;\n                break;\n            }else if(memcmp(bitmap[j], bitmap_c[j], sizeof(char)*n)){\n                flag = true;\n                break;\n            }\n        }\n        if(!flag){\n            ++ans;\n        }\n    }\n\n    cout << ans << \"\\n\";\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<string>\n#include<vector>\n#include<math.h>\n#include<queue>\n\nusing namespace std;\n\n\n//品質管理\n\nint main() {\n\tint C, N;\n\tstring S[1000];\n\tbool ok[500][500];\n\tcin >> C >> N;\n\tfor (int i = 0; i < N; i++) {\n\t\tcin >> S[i];\n\t}\n\n\tint ans = 0;\n\tint wrong = 0;\n\tvector<pair<int, int>> X;\n\tfor (int i = 0; i < N/2; i++) {\n\t\tfor (int j = 0; j < N/2; j++) {\n\t\t\tif (!(S[i][j] == S[i][N - j - 1] && S[i][j] == S[N - i - 1][j] && S[i][j] == S[N - i - 1][N - j - 1])) {\n\t\t\t\twrong++;\n\t\t\t\tok[i][j] = false;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tok[i][j] = true;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (wrong == 0)\n\t\tans++;\n\n\tfor (int i = 0; i < C-1; i++) {\n\t\tint D;\n\t\tcin >> D;\n\t\tfor (int j = 0; j < D; j++) {\n\t\t\tint r, c;\n\t\t\tcin >> r >> c;\n\t\t\tr--;\n\t\t\tc--;\n\t\t\tif (S[r][c] == '0')\n\t\t\t\tS[r][c] = '1';\n\t\t\telse if (S[r][c] == '1')\n\t\t\t\tS[r][c] = '0';\n\n\t\t\tif (r >= N / 2) r = N - r - 1;\n\t\t\tif (c >= N / 2) c = N - c - 1;\n\n\t\t\tif (!(S[r][c] == S[r][N - c - 1] && S[r][c] == S[N - r - 1][c] && S[r][c] == S[N - r - 1][N - c - 1])) {\n\t\t\t\tif (ok[r][c]) {\n\t\t\t\t\tok[r][c] = false;\n\t\t\t\t\twrong++;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (!ok[r][c]) {\n\t\t\t\t\tok[r][c] = true;\n\t\t\t\t\twrong--;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (wrong == 0) ans++;\n\t}\n\n\tcout << ans << endl;\n\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main(){\n    int c,n;\n    int m[1000][1000];\n    cin>>c>>n;\n    for(int i=0;i<n;i++){\n        for(int j=0;j<n;j++){\n            cin>>m[i][j];\n        }\n    }\n    bool f=true;\n    int ans=0;\n    for(int i=0;i<=n/2+1;i++){\n        for(int j=0;j<=n/2+1;j++){\n            if(m[i][j]!=m[n-1-i][j]||m[i][j]!=m[n-1-i][n-1-j]||m[i][j]!=m[i][n-1-j]){\n                f=false;\n                break;\n            }\n        }\n    }\n    if(f){\n        ans++;\n    c--;\n    while(c--){\n        int d;\n        cin>>d;\n        for(int i=0;i<d;i++){\n            int r,c;\n            cin>>r>>c;\n            r--;c--;\n            m[r][c]^=1;\n        }\n        f=true;\n        for(int i=0;i<=n/2+1;i++){\n            for(int j=0;j<=n/2+1;j++){\n                if(m[i][j]!=m[n-1-i][j]||m[i][j]!=m[n-1-i][n-1-j]||m[i][j]!=m[i][n-1-j]){\n                    if(f){\n                        ans++;\n                    }\n                }\n            }\n        }\n        f=false;\n    }\n    cout<<ans<<endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> P;\nint main(){\n  int i,j,c,n,a[1010][1010];\n  scanf(\"%d %d\\n\",&c,&n);\n  for(i=0;i<n;i++){\n    for(j=0;j<n;j++){\n      char s;\n      scanf(\"%c\",&s);\n      if(s=='0'){\n        a[i][j]=0;\n      }\n      else{\n        a[i][j]=1;\n      }\n    }\n    scanf(\"\\n\");\n  }\n  int sum=0,ans=0;\n  for(i=0;i<n;i++){\n    for(j=0;j<n;j++){\n      if(a[i][j]!=a[n-i-1][j]){\n        sum++;\n      }\n      if(a[i][j]!=a[i][n-j-1]){\n        sum++;\n      }\n    }\n  }\n  sum=sum/2;\n  if(sum==0){\n    ans++;\n  }\n  int d,r,b;\n  for(i=0;i<c-1;i++){\n    cin >> d;\n    for(j=0;j<d;j++){\n      scanf(\"%d %d\\n\",&r,&b);\n      r--,b--;\n      if(a[r][b]==a[r][n-b-1]){\n        sum++;\n      }\n      else{\n        sum--;\n      }\n      if(a[r][b]==a[n-r-1][b]){\n        sum++;\n      }\n      else{\n        sum--;\n      }\n      if(a[r][b]==0){\n        a[r][b]=1;\n      }\n      else{\n        a[r][b]=0;\n      }\n    }\n    if(sum==0){\n      ans++;\n    }\n  }\n  cout << ans << endl;\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\nint c, n, p[10005][1005], res = 0;\n\nvoid solve() {\n\tbool bo = true;\n\tfor (int i = 1; i <= n; i++) {\n\t\tfor (int j = 1; j <= n / 2; j++) {\n\t\t\tif (p[i][j] != p[i][n - j + 1]) {\n\t\t\t\tbo = false;\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t}\n\tfor (int j = 1; j <= n; j++) {\n\t\tfor (int i = 1; i <= n / 2; i++) {\n\t\t\tif (p[i][j] != p[n - i + 1][j]) {\n\t\t\t\tbo = false;\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t}\n\tif (bo) res++;\n\treturn;\n}\n\nint main() {\n\tcin >> c >> n;\n\tfor (int i = 1; i <= n; i++) {\n\t\tfor (int j = 1; j <= n; j++) {\n\t\t\tcin >> p[i][j];\n\t\t}\n\t}\n\tsolve();\n\tfor (int k = 1; k <= c-1; k++) {\n\t\tint d;\n\t\tcin >> d;\n\t\tfor (int i = 1; i <= d; i++) {\n\t\t\tint r, c;\n\t\t\tcin >> r >> c;\n\t\t\tp[r][c] = (p[r][c] + 1) % 2;\n\t\t}\n\t\tsolve();\n\t}\n\tcout << res << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <set>\n#include <utility>\n#define rep(i, n) for(int i = 0; i < n; ++i)\nusing namespace std;\n\nint main(void) {\n  int c, n, i, j, k, ans = 0;\n  scanf(\"%d%d\", &c, &n);\n  int m = n / 2;\n  set< pair<int, int> > s;\n  char p[n][n + 10], num[m][m];\n  rep(i, n) scanf(\"%s\", p[i]);\n  rep(i, n) rep(j, n) p[i][j] -= '0';\n  rep(i, m) rep(j, m) num[i][j] = 0;\n  rep(i, n) rep(j, n){\n    if(p[i][j]) {\n      int t = i, r = j;\n      if(i >= m) t = n - i - 1;\n      if(j >= m) r = n - j - 1;\n      num[t][r]++;\n    }\n  }\n  rep(i, m) rep(j, m) if(num[i][j] && num[i][j] != 4) {\n    pair<int,int> p = make_pair(i, j);\n    s.insert(p);\n  }\n  if(s.empty()) ans++;\n  rep(i, c - 1) {\n    int d;\n    scanf(\"%d\", &d);\n    rep(j, d) {\n      int r, c, ss = 0;\n      scanf(\"%d%d\", &r, &c);\n      r--, c--;\n      if(p[r][c]) {\n        ss = 1;\n        p[r][c] = 0;\n      } else {\n        p[r][c] = 1;\n      }\n      if(r >= m) r = n - r - 1;\n      if(c >= m) c = n - c - 1;\n      pair<int, int> p = make_pair(r, c);\n      if(ss) {\n        num[r][c]--;\n      } else {\n        num[r][c]++;\n      }\n      set< pair<int, int> >::iterator it = s.find(p);\n      if(num[r][c] && num[r][c] != 4) {\n        if(it == s.end()) s.insert(p);\n      } else {\n        if(it != s.end()) s.erase(it);\n      }\n    }\n    if(s.empty()) ++ans;\n  }\n  printf(\"%d\\n\", ans);\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef string str;\n#define down_queue(x) priority_queue<x>\n#define up_queue(x) priority_queue<x, vector<x>, greater<x>>\n#define vec(x) vector<x>\nll gcd(ll a,ll b){while(b){ll tmp = a % b;a = b;b = tmp;}return a;}\nll lcm(ll a,ll b){return a / gcd(a,b) * b;}\n#define rep(x, y) for(int x = 0; x < (y); x++)\n#define rrep(x, y) for(int x = (y); x >= 0; x--)\n#define REP(x, z, y) for(int x = (z); x < (y); x++)\n#define RREP(x, z, y) for(int x = (y); x >= (z); x--)\n#define all(x) x.begin(), x.end()\n#define split_str(str, sp_word) istringstream stream(str); string res; for(int cnt = 0; getline(stream,res,sp_word); cnt++)\n#define digit(x) ((int)log10((double)(x)) + 1)\n#define mp(x,y) make_pair(x,y)\n#define pb(x) push_back(x)\n#define pf(x) push_front(x)\n#define out(x) for(auto i : x) cout << i << \" \"; cout << endl;\n#define outln(x) for(auto i : x) cout << i << \" \" << endl;\n#define vec_cpy(to,from) copy(all(to),back_inserter(from))\n#define ary_cpy(to,from) memcpy(to, from, sizeof from)\n#define MOD = 1000000007; \n#ifdef DEBUG\n#define debug_echo(e) cout << \"|\" << __LINE__ << \"| \" << e << endl\n#define debug_var(e) cout << \"|\" << __LINE__ << \"| \" << #e << \": \" << e << endl\n#define debug_echo_dp(dp, N) { cout << \"[ \"; rep(cnt, N) cout << dp[cnt] << \" \";  cout << \"]\" << endl; }\n#else\n#define debug_echo(e)\n#define debug_var(e)\n#define debug_echo_dp(dp, N)\n#endif\n\nint main(){\n  int C,n,d,r,c,ans = 0; cin >> C >> n;\n  int harf = n / 2;\n  int h_cnt = 0;\n  int w_cnt = 0;\n  vec(bool) h[harf],w[n],h_goal(n,true),w_goal(harf,true);\n  str p[n];\n\n  rep(i,n) cin >> p[i];\n\n  //????????????????????¨\n  rep(i,harf)\n    rep(j,n){\n      h[i].pb(p[i][j] == p[n - i - 1][j]);\n      if(p[i][j] != p[n - i - 1][j]) h_cnt++;\n    }\n\n  //?¨??????????????????¨\n  rep(i,n)\n    rep(j,harf){\n      w[i].pb(p[i][j] == p[i][n - j - 1]);\n      if(p[i][j] != p[i][n - j - 1]) w_cnt++;\n    }\n\n  debug_var(h_cnt);\n  debug_var(w_cnt);\n  if(w_cnt == 0 && h_cnt == 0) ans++;\n\n  rep(i,C - 1){\n    cin >> d;\n    rep(i,d){\n      cin >> r >> c;\n      r--; c--;\n\n      if(h[(r >= harf ? n - r - 1 : r)][c]) h_cnt++;\n      else h_cnt--;\n\n      if(w[r][(c >= harf ? n - c - 1 : c)]) w_cnt++;\n      else w_cnt--;\n\n      //????????¨???????????????????????¢\n      h[(r >= harf ? n - r - 1 : r)][c] = !h[(r >= harf ? n - r - 1 : r)][c];\n      w[r][(c >= harf ? n - c - 1 : c)] = !w[r][(c >= harf ? n - c - 1 : c)];\n    } \n\n    debug_var(h_cnt);\n    debug_var(w_cnt);\n    if(h_cnt == 0 && w_cnt == 0) ans++;\n  }\n\n  "
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main() {\n    int c, n;\n    cin >> c >> n;\n    vector<string> p(n);\n    for(int i = 0; i < n; ++i) {\n        cin >> p[i];\n    }\n    int incorrect = 0;\n    for(int i = 0; i < n / 2; ++i) {\n        for(int j = 0; j < n / 2; ++j) {\n            incorrect += p[i][j] != p[i][n - j - 1] || p[i][j] != p[n - i - 1][j];\n        }\n    }\n\n    int ans = incorrect == 0;\n    for(int i = 0; i < c - 1; ++i) {\n        int d; cin >> d;\n        for(int j = 0; j < d; ++j) {\n            int r, c; cin >> r >> c;\n            r--; c--;\n            if(p[n - r - 1][c] == p[r][c] && p[r][c] == p[r][n - c - 1]) incorrect += 1;\n            p[r][c] = (p[r][c] == '0') ? '1' : '0';\n            if(p[n - r - 1][c] == p[r][c] && p[r][c] == p[r][n - c - 1]) incorrect -= 1;\n        }\n        ans += incorrect == 0;\n    }\n\n    cout << ans << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<set>\n#include<string>\n#include<algorithm>\nusing namespace std;\n\nclass Point{\npublic:\n  int x;\n  int y;\n  bool bin;\n};\n\nbool operator<(const Point& lp,const Point& rp){\n  return (lp.x + lp.y) < (rp.x + rp.y);\n}\n\nclass FourPoint{\npublic:\n  Point lu;\n  Point ru;\n  Point ld;\n  Point rd;\n  friend ostream& operator<<(ostream& os,const FourPoint& fp){\n    os << fp.lu.x << \" \" << fp.lu.y;\n    return os;\n  }\n};\n\nbool operator<(const FourPoint& lfp,const FourPoint& rfp){\n  return (lfp.lu.x < rfp.lu.x);// && (lfp.lu.y < rfp.lu.y) && (lfp.ru.x < rfp.ru.x) && (lfp.ru.y < rfp.ru.y) && (lfp.ld.x < rfp.ld.x) && (lfp.ld.y < rfp.ld.y) && (lfp.rd.x < rfp.rd.x) && (lfp.rd.y < rfp.rd.y);\n}\n\nint main(){\n\n    int c,n,d,x,y,count;\n\n    set<FourPoint> st;\n\n    set<FourPoint>::iterator itr;\n\n    Point ptmp[4];\n\n    FourPoint fptmp;\n\n    count = 0;\n\n    cin >> c >> n;\n\n    bool table[n][n];\n    string s[n];\n\n     for(int i=0;i<n;i++){\n         cin >> s[i];\n     }\n\n     for(int i=0;i<n;i++){\n       for(int j=0;j<n;j++){\n         if(s[i][j] == '0'){\n           table[i][j] =false;\n         }\n         else{\n           table[i][j] = true;\n         }\n       }\n     }\n\n     for(int i=0;i<n;i++){\n       for(int j=0;j<n/2;j++){\n         if(table[i][j] != table[i][n-j-1]){\n\n           ptmp[0].x = i; ptmp[0].y = j; ptmp[0].bin = table[i][j];\n           ptmp[1].x = n-i-1; ptmp[1].y = j; ptmp[1].bin = table[n-i-1][j];\n           ptmp[2].x = i; ptmp[2].y = n-j-1; ptmp[2].bin = table[i][n-j-1];\n           ptmp[3].x = n-i-1; ptmp[3].y = n-j-1; ptmp[3].bin = table[n-i-1][n-j-1];\n\n           sort(ptmp,ptmp+4);\n\n           fptmp.lu = ptmp[0];\n           if(ptmp[1].y < ptmp[2].y){\n             fptmp.ru = ptmp[1];\n             fptmp.ld = ptmp[2];\n           }\n           else{\n             fptmp.ru = ptmp[2];\n             fptmp.ld = ptmp[1];\n           }\n\n           fptmp.rd = ptmp[3];\n\n           st.insert(fptmp);\n         }\n       }\n     }\n\n\n     for(int i=0;i<n/2;i++){\n       for(int j=0;j<n;j++){\n         if(table[i][j] != table[n-i-1][j]){\n           ptmp[0].x = i; ptmp[0].y = j; ptmp[0].bin = table[i][j];\n           ptmp[1].x = n-i-1; ptmp[1].y = j; ptmp[1].bin = table[n-i-1][j];\n           ptmp[2].x = i; ptmp[2].y = n-j-1; ptmp[2].bin = table[i][n-j-1];\n           ptmp[3].x = n-i-1; ptmp[3].y = n-j-1; ptmp[3].bin = table[n-i-1][n-j-1];\n\n           sort(ptmp,ptmp+4);\n\n           fptmp.lu = ptmp[0];\n           if(ptmp[1].y < ptmp[2].y){\n             fptmp.ru = ptmp[1];\n             fptmp.ld = ptmp[2];\n           }\n           else{\n             fptmp.ru = ptmp[2];\n             fptmp.ld = ptmp[1];\n           }\n\n           fptmp.rd = ptmp[3];\n\n           st.insert(fptmp);\n         }\n       }\n     }\n\n    /* for(itr = st.begin(); itr != st.end(); ++itr) {\n        cout << *itr << \"\\n\";      // ????????¬???????????????????????????????????¨???\n    }*/\n\n\n     if(st.size() == 0){\n       count++;\n     }\n\n     for(int k=0;k<c-1;k++){\n\n      /* for(itr = st.begin(); itr != st.end(); ++itr) {\n       std::cout << \"key = \" << itr->first           // ???????????¨???\n                     << \", val = \" << itr->second << \"\\n\";    // ????????¨???\n       }*/\n\n       cin >> d;\n\n       /*for(int i=0;i<d;i++){\n\n         cout << i << endl;\n\n         for(int a=0;a<n;a++){\n           for(int b=0;b<n;b++){\n             if(table[a][b] == false){\n               cout << '0';\n             }\n             else{\n               cout << '1';\n             }\n             cout << ' ';\n           }\n           cout << endl;\n         }*/\n\n      for(int i=0;i<d;i++){\n\n         cin >> x >> y;\n         table[x-1][y-1] = !table[x-1][y-1];\n         //cout << \"unsigned \" << tmps << endl;\n\n         ptmp[0].x = x-1; ptmp[0].y = y-1; ptmp[0].bin = table[x-1][y-1];\n         ptmp[1].x = n-x; ptmp[1].y = y-1; ptmp[1].bin = table[n-x][y-1];\n         ptmp[2].x = x-1; ptmp[2].y = n-y; ptmp[2].bin = table[x-1][n-y];\n         ptmp[3].x = n-x; ptmp[3].y = n-y; ptmp[3].bin = table[n-x][n-y];\n\n         sort(ptmp,ptmp+4);\n\n         fptmp.lu = ptmp[0];\n         if(ptmp[1].y < ptmp[2].y){\n           fptmp.ru = ptmp[1];\n           fptmp.ld = ptmp[2];\n         }\n\n         else{\n           fptmp.ru = ptmp[2];\n           fptmp.ld = ptmp[1];\n         }\n\n         fptmp.rd = ptmp[3];\n\n         itr = st.find(fptmp);\n\n         if(itr != st.end()){\n           if(fptmp.lu.bin == fptmp.ru.bin && fptmp.ru.bin == fptmp.ld.bin && fptmp.ld.bin == fptmp.rd.bin){\n             st.erase(itr);\n           }\n         }\n         else{\n           st.insert(fptmp);\n         }\n\n       }\n\n\n\n\n\n\n\n       if(st.size() == 0){\n         //cout << \"f1d2a \" << k+2 << endl;\n         count++;\n       }\n\n     }\n\n     cout << count << endl;\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\n\nvector<vector<int>>coaster;\nvector < vector<pair<int, int>>>difs;\nint main() {\n\tint C, N; cin >> C >> N;\n\t{\n\t\tvector<vector<int>>field(N, vector<int>(N));\n\t\tfor (int y = 0; y< N; ++y) {\n\t\t\tstring st; cin >> st;\n\t\t\tfor (int x = 0; x < N; ++x) {\n\t\t\t\tfield[y][x]=st[x]-'0';\n\t\t\t}\n\t\t}\n\t\tcoaster = field;\n\t\tdifs.resize(C-1);\n\t\tfor (int i = 0; i < C-1; ++i) {\n\t\t\tint D; cin >> D;\n\t\t\twhile (D--) {\n\t\t\t\tint y, x; scanf(\"%d %d\", &y, &x); y--; x--;\n\t\t\t\tdifs[i].push_back(make_pair(y, x));\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t}\n\tvector<vector<vector<int>>>vs(N / 2, \n\t\tvector<vector<int>>(N / 2,vector<int>( 4)));\n\tint sum = 0;\n\tfor (int y = 0; y < N; ++y) {\n\t\tfor (int x = 0; x < N; ++x) {\n\t\t\tif (y >= N / 2 && x >= N / 2)vs[N - y - 1][N - x - 1][3] = coaster[y][x];\n\t\t\tif (y >= N / 2 && x < N / 2)vs[N - y - 1][x][2] = coaster[y][x];\n\t\t\tif (y < N / 2 && x >= N / 2)vs[y][N - x - 1][1] = coaster[y][x];\n\t\t\tif (y < N / 2 && x < N / 2)vs[y][x][0] = coaster[y][x];\n\n\t\t}\n\t}\n\tfor (int y = 0; y < N / 2; ++y) {\n\t\tfor (int x = 0; x < N / 2; ++x) {\n\t\t\tsum+= 1-(all_of(vs[y][x].begin(), vs[y][x].end(), [=](const int a) {return a == vs[y][x][0]; }));\n\t\t}\n\t}\n\tint ans = 0;\n\tif (!sum)ans++;\n\tfor (int i = 0; i < C-1; ++i) {\n\t\tfor (auto dif : difs[i]) {\n\t\t\tint y = dif.first;\n\t\t\tint x = dif.second;\n\t\t\tcoaster[y][x] = !coaster[y][x];\n\t\t\tint ay = y >= N / 2 ? N - y - 1 : y;\n\t\t\tint ax = x >= N / 2 ? N - x - 1 : x;\n\t\t\tsum-= 1-(all_of(vs[ay][ax].begin(), vs[ay][ax].end(), [=](const int a) {return a == vs[ay][ax][0]; }));\n\t\t\tif (y >= N / 2 && x >= N / 2)vs[N - y - 1][N - x - 1][3] = coaster[y][x];\n\t\t\tif (y >= N / 2 && x < N / 2)vs[N - y - 1][x][2] = coaster[y][x];\n\t\t\tif (y < N / 2 && x >= N / 2)vs[y][N - x - 1][1] = coaster[y][x];\n\t\t\tif (y < N / 2 && x < N / 2)vs[y][x][0] = coaster[y][x];\n\t\t\tsum += 1-(all_of(vs[ay][ax].begin(), vs[ay][ax].end(), [=](const int a) {return a == vs[ay][ax][0]; }));\n\n\t\t}\n\t\tif (!sum)ans++;\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nshort table[1000][1000];\n\n\n\nint main(){\n\n    int c,n,ans=0,N,count=0;\n    char cha;\n    bool flag;\n\n    cin >> c >> n;\n\n    N = n-1;\n\n    for(int i=0; i<n; i++){\n      for(int j=0; j<n; j++){\n          cin >> cha;\n          table[i][j] = cha=='0' ? 0 : 1;\n      }\n    }\n\n    flag = true;\n\n    for(int i=0; i<n/2; i++){\n      for(int j=0; j<n/2; j++){\n          /*int tmp = (table[i][j] + table[i][N-j] + table[N-i][j] + table[N-i][N-j]);\n          cout << tmp << endl;*/\n          if( (table[i][j] + table[i][N-j] + table[N-i][j] + table[N-i][N-j]) % 4 != 0){\n            count++;\n          }\n      }\n    }\n\n    if(count==0){\n      ans++;\n    }\n\n    int d,w,h;\n\n    while(--c){\n\n      map<int,bool> m;\n\n      cin >> d;\n\n      if(d!=0){\n\n        int wid[d];\n        int hei[d];\n        bool beforeok[d];\n\n        for(int i=0;i<d;i++){\n          cin >> w >> h;\n          w--;\n          h--;\n          wid[i] = w;\n          hei[i] = h;\n          /*cout << w*N+h << endl;\n          cout << w*N+(N-h) << endl;\n          cout << (N-w)*N+h << endl;\n          cout << (N-w)*N+(N-h) << endl;*/\n          /*cout << table[w][h] << endl;\n          cout << table[w][N-h] << endl;\n          cout << table[N-w][h] << endl;\n          cout << table[N-w][N-h] << endl;    */\n          cout << (table[w][h] + table[w][N-h] + table[N-w][h] + table[N-w][N-h]) % 4 << endl;\n          if( (table[w][h] + table[w][N-h] + table[N-w][h] + table[N-w][N-h]) % 4 != 0){\n            beforeok[i] = false;\n          }else{\n            beforeok[i] = true;\n          }\n          table[w][h] = (table[w][h] == 0) ? 1 : 0;\n          m[w*N+h] = false;\n          m[w*N+(N-h)] = false;\n          m[(N-w)*N+h] = false;\n          m[(N-w)*N+(N-h)] = false;\n        }\n\n\n        for(int i=0;i<d;i++){\n          int tmpw = wid[i],tmph = hei[i];\n\n          /*cout << tmpw*N+tmph << endl;\n          cout << tmpw*N+(N-tmph) << endl;\n          cout << (N-tmpw)*N+tmph << endl;\n          cout << (N-tmpw)*N+(N-tmph) << endl;*/\n\n          if(!m[tmpw*N+tmph]){\n            if( (table[tmpw][tmph] + table[tmpw][N-tmph] + table[N-tmpw][tmph] + table[N-tmpw][N-tmph]) % 4 != 0){\n              //cout << \"better\" << endl;\n              if(beforeok[i]){\n                //cout << \"best\" << endl;\n                count++;\n              }\n            }\n            else{\n              //cout << \"worse\" << endl;\n              if(!beforeok[i]){\n                //cout << \"worst\" << endl;\n                count--;\n              }\n            }\n            m[tmpw*N+tmph] = true;\n            m[tmpw*N+(N-tmph)] = true;\n            m[(N-tmpw)*N+tmph] = true;\n            m[(N-tmpw)*N+(N-tmph)] = true;\n          }\n\n        }\n\n      }\n\n      //cout << \"count = \" << count << endl;\n\n      if(count==0){\n        //cout << \"ok\" << endl;\n        ans++;\n      }\n\n      /*for(int i=0; i<n; i++){\n        for(int j=0; j<n; j++){\n            cout << table[i][j];\n        }\n        cout << endl;\n      }*/\n\n    }\n\n    cout << ans << endl;\n\n\n\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std::literals::string_literals;\nusing i64 = long long;\nusing std::cout;\nusing std::endl;\nusing std::cin;\n\ntemplate<typename T>\nstd::vector<T> make_v(size_t a){return std::vector<T>(a);}\n\ntemplate<typename T,typename... Ts>\nauto make_v(size_t a,Ts... ts){\n  return std::vector<decltype(make_v<T>(ts...))>(a,make_v<T>(ts...));\n}\n\nint main() {\n\tint q, n; scanf(\"%d%d\", &q, &n);\n\tstd::vector<std::string> s(n);\n\tfor(int i = 0; i < n; i++) cin >> s[i];\n\t\n\tint sum = 0;\n\tstd::vector<int> X(n), Y(n);\n\tfor(int i = 0; i < n; i++) {\n\t\tfor(int j = 0; j < n / 2; j++) {\n\t\t\tif(s[i][j] != s[i][n - j - 1]) X[i]++;\n\t\t\tif(s[j][i] != s[n - j - 1][i]) Y[i]++;\n\t\t}\n\t\tsum += X[i] + Y[i];\n\t}\n\t\n\tint ans = (sum == 0);\n\tfor(int i = 0; i < q - 1; i++) {\n\t\tint k; scanf(\"%d\", &k);\n\t\twhile(k--) {\n\t\t\tint x, y; scanf(\"%d%d\", &x, &y); x--; y--;\n\t\t\t\n\t\t\t{ // X\n\t\t\t\tint before = (s[x][y] != s[x][n - y - 1]);\n\t\t\t\tint after  = 1 - before;\n\t\t\t\tX[x] += after - before;\n\t\t\t\tsum += after - before;\n\t\t\t}\n\t\t\t{ // Y\n\t\t\t\tint before = (s[x][y] != s[n - x - 1][y]);\n\t\t\t\tint after  = 1 - before;\n\t\t\t\tY[y] += after - before;\n\t\t\t\tsum += after - before;\n\t\t\t}\n\t\t\tif(s[x][y] == '1') s[x][y] = '0';\n\t\t\telse s[x][y] = '1';\n\t\t}\n\t\tans += (sum == 0);\n\t}\n\tprintf(\"%d\\n\", ans);\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<string>\n#include<cmath>\n#include<vector>\n#include<functional>\n#include<stack>\n#include<set>\n\nusing namespace std;\nset<int> memo;\nint main() {\n\tint c, n, ans = 0;\n\tcin >> c >> n;\n\tvector<string> a(n);\n\tfor (int i = 0; i < n; i++)cin >> a[i];\n\tfor (int i = 0; i < n / 2; i++) {\n\t\tfor (int j = 0; j < n / 2; j++) {\n\t\t\tif (a[i][j] == a[i][n - 1 - j] && a[i][j] == a[n - 1 - i][j] && a[i][j] == a[n - 1 - i][n - 1 - j]);\n\t\t\telse {\n\t\t\t\tmemo.insert(i*n + j);\n\t\t\t}\n\t\t}\n\t}\n\tif (memo.size() == 0)ans++;\n\tfor (int h = 1; h < c; h++) {\n\t\tint d, dx[101], dy[101];\n\t\tcin >> d;\n\t\tfor (int i = 0; i < d; i++) {\n\t\t\tcin >> dx[i] >> dy[i];\n\t\t\tdx[i]--; dy[i]--;\n\t\t\tif (a[dx[i]][dy[i]] == '0')a[dx[i]][dy[i]] = '1';\n\t\t\telse a[dx[i]][dy[i]] = '0';\n\t\t\tif (dx[i] >= n / 2)dx[i] = n - 1 - dx[i];\n\t\t\tif (dy[i] >= n / 2)dy[i] = n - 1 - dy[i];\n\t\t}\n\t\tfor (int i = 0; i < d; i++) {\n\t\t\tif (a[dx[i]][dy[i]] == a[dx[i]][n - 1 - dy[i]] && a[dx[i]][dy[i]] == a[n - 1 - dx[i]][dy[i]] && a[dx[i]][dy[i]] == a[n - 1 - dx[i]][n - 1 - dy[i]]) {\n\t\t\t\tmemo.erase(dx[i] * n + dy[i]);\n\t\t\t\tmemo.erase((n - 1 - dx[i])*n + dy[i]);\n\t\t\t\tmemo.erase(dx[i] * n + n - 1 - dy[i]);\n\t\t\t\tmemo.erase((n - 1 - dx[i])*n + n - 1 - dy[i]);\n\t\t\t}\n\t\t\telse memo.insert(dx[i]*n+dy[i]);\n\t\t}\n\t\tif (memo.size() == 0)ans++;\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main(){\n    int c,n;\n    int m[1000][1000];\n    cin>>c>>n;\n    for(int i=0;i<n;i++){\n        for(int j=0;j<n;j++){\n            cin>>m[i][j];\n        }\n    }\n    bool f=true;\n    int ans=0;\n    for(int i=0;i<=n/2+1;i++){\n        for(int j=0;j<=n/2+1;j++){\n            if(m[i][j]!=m[n-1-i][j]||m[i][j]!=m[n-1-i][n-1-j]||m[i][j]!=m[i][n-1-j]){\n                f=false;\n                break;\n            }\n        }\n        if(!f){\n            break;\n        }\n    }\n    if(f){\n        ans++;\n    }\n    c--;\n    while(c--){\n        int d;\n        cin>>d;\n        for(int i=0;i<d;i++){\n            int r,c;\n            cin>>r>>c;\n            r--;c--;\n            m[r][c]^=1;\n        }\n        f=true;\n        for(int i=0;i<=n/2+1;i++){\n            for(int j=0;j<=n/2+1;j++){\n                if(m[i][j]!=m[n-1-i][j]||m[i][j]!=m[n-1-i][n-1-j]||m[i][j]!=m[i][n-1-j]){\n                    f=false;\n                    break;\n                }\n            }\n            if(!f){\n                break;\n            }\n        }\n        if(f){\n            ans++;\n        }\n    }\n    cout<<ans<<endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <set>\n#include <cstdio>\nusing namespace std;\n#define F first\n#define S second\ntypedef long long ll;\ntypedef pair<ll,ll> P;\nint c,n,ans,s;\nint p[2005][2005];\nbool v[1005][1005];\nint main(void){\n    cin>>c>>n;\n    for(int i=0;i<n/2;i++)for(int j=0;j<n/2;j++)v[i][j]=true;\n    for(int i=0;i<n;i++){\n        char f[1005];\n        cin>>f;\n        for(int j=0;j<n;j++)if(f[j]=='1')p[i][j]=1;\n    }\n    while(c){\n        int d;\n        cin>>d;\n        for(int i=0;i<d;i++){\n            int x,y,z,w;\n            cin>>x>>y;\n            x--;y--;\n            z=n-1-x;\n            w=n-1-y;\n            p[x][y]=(p[x][y]+1)%2;\n            bool q=false;\n            if(p[x][y]==p[x][w]&&p[x][w]==p[z][y]&&p[z][y]==p[z][w])q=true;\n            bool u=v[min(x,z)][min(y,w)];\n            if(u&&!q)ans++;\n            if(!u&&q)ans--;\n            v[min(x,z)][min(y,w)]=q;\n        }\n        if(ans==0)s++;\n        c--;\n    }\n    cout<<s<<endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <iomanip>\nusing namespace std;\n\nclass Coster {\npublic:\n\tCoster(int n);\n\t~Coster();\n\tvoid diff(const int& r, const int& c);\n\tint SymmetryNum();\n\tvoid SymCalc();\n\tbool** pixel;\nprivate:\n\tint symmetry;\n\tint N;\n};\nCoster::Coster(int n) {\n\tN = n;\n\tpixel = new bool*[n];\n\tfor (int i = 0; i < n; i++)\n\t\tpixel[i] = new bool[n];\n}\nCoster::~Coster() {\n\tdelete[] pixel;\n}\nvoid Coster::diff(const int& r, const int& c) {\n\n\tpixel[r][c] = !pixel[r][c];\n}\nint Coster::SymmetryNum() {\n\treturn symmetry;\n}\nvoid Coster::SymCalc() {\n\tchar same = 0;\n\tfor (int r = 0; r < N / 2; r++) {\n\t\tfor (int c = 0; c < N / 2; c++) {\n\t\t\tsame  = pixel[r][c];\n\t\t\tsame |= pixel[r][N - c - 1] << 1;\n\t\t\tsame |= pixel[N - r - 1][c] << 2;\n\t\t\tsame |= pixel[N - r - 1][N - c - 1] << 3;\n\t\t\tif (!(same == 0x0f || same == 0x00))\n\t\t\t\treturn;\n\t\t}\t\t\n\t}\n\tsymmetry++;\n}\n\nint main()\n{\n\tint C,N;\n\tcin >> C >> N;\n\tCoster coster(N);\n\tchar n;\n\tfor (int i = 0; i < N; i++) {\n\t\tfor (int j = 0; j < N; j++) {\n\t\t\tcin >> n;\n\t\t\tcoster.pixel[i][j] = (bool)(n - '0');\n\t\t}\n\t}\n\n\tfor (int I = 1; I < C; I++) {\n\t\tint D;\n\t\tcin >> D;\n\t\tfor (int i = 0; i < D; i++) {\n\t\t\tint r, c;\n\t\t\tcin >> r >> c;\n\t\t\tcoster.diff(r, c);\n\t\t}\n\t\tcoster.SymCalc();\n\t}\n\n\tcout << coster.SymmetryNum() << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n\nusing namespace std;\nusing ll = long long;\nusing ull = unsigned long long;\n\ntypedef pair<int, int>pi;\ntypedef pair<ll, ll> P;\ntypedef pair<ll, P> PP;\ntypedef pair<P, P> PPP;\n\nconst ll MOD = 1e9 + 7;\nconst ll INF = 9e18;\nconst double DINF = 5e14;\nconst double eps = 1e-10;\nconst int di[4] = { 1,0,-1,0 }, dj[4] = { 0,1,0,-1 };\n\n#define ALL(x) (x).begin(),(x).end()\n#define ALLR(x) (x).rbegin(),(x).rend()\n#define pb push_back\n#define eb emplace_back\n#define fr first\n#define sc second\n\nint C, n, diff, x, y, dif1, dif2, ans;\nchar c[1010][1010];\n\nint main() {\n\tcin >> C >> n;\n\tfor (int i = 1;i <= n;i++) {\n\t\tfor (int j = 1;j <= n;j++) {\n\t\t\tcin >> c[i][j];\n\t\t}\n\t}\n\tfor (int i = 1;i <= n;i++) {\n\t\tfor (int j = 1;j <= n;j++) {\n\t\t\tif (c[i][j] != c[i][n - j + 1])dif1++;\n\t\t\tif (c[i][j] != c[n - i + 1][j])dif2++;\n\t\t}\n\t}\n\tfor (int i = 0;i < C;i++) {\n\t\tcin >> diff;\n\t\tfor (int j = 0;j < diff;j++) {\n\t\t\tcin >> x >> y;\n\t\t\tbool fl1 = 0, fl2 = 0;\n\t\t\tif (c[x][y] != c[x][n - y + 1])fl1 = 1;\n\t\t\tif (c[x][y] != c[n - x + 1][y])fl2 = 1;\n\t\t\tif (c[x][y] == '1')c[x][y] = '0';\n\t\t\telse c[x][y] = '1';\n\t\t\tif (c[x][y] == c[x][n - y + 1]&&fl1)dif1-=2;\n\t\t\telse if (c[x][y] != c[x][n - y + 1] && !fl1)dif1+=2;\n\t\t\tif (c[x][y] == c[n - x + 1][y])dif2 -= 2;\n\t\t\telse if (c[x][y] != c[n - x + 1][y] && !fl2)dif2 += 2;\n\t\t}\n\t\tif (!dif1 && !dif2)ans++;\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nbool Symmetry(int P[1000][1000],int n)\n{\n\tfor(int i=0;i<=n/2;i++){\n\t\tfor(int j=0;j<=n/2;j++){\n\t\t\tif(P[i][j]!=P[n-i][j]||\n\t\t\t   P[i][j]!=P[i][n-j]||\n\t\t\t   P[i][j]!=P[n-i][n-j]){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\t\n\treturn true;\n}\t\n\n\nint main()\n{\nint p[1000][1000]={0,0};\n\n\tint C,N;\n\tcin>>C>>N;\n\t\n\tchar tmp;\n\t\n\tfor(int i=0;i<N;i++){\n\t\tfor(int j=0;j<N;j++){\n\t\t\tcin>>tmp;\n\t\t\tif(tmp=='0'){\n\t\t\t\tp[i][j]=0;\n\t\t\t}\n\t\t\telse if(tmp=='1'){\n\t\t\t\tp[i][j]=1;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tint count=0;\n\t\n\tif(Symmetry(p,N-1)){\n\t\tcount++;\n\t}\n\t\n\tint D,r,c;\n\n\tfor(int i=1;i<C;i++){\n\t\tcin>>D;\n\t\tfor(int j=0;j<D;j++){\n\t\t\tcin>>r>>c;\n\t\t\tp[r-1][c-1]=!p[r-1][c-1];\n\n\t\t}\n\t\tif(Symmetry(p,N-1)){\n\t\t\tcount++;\n\t\t}\n\t}\n\t\n\tcout<<count<<endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<iostream>\nusing namespace std;\nint flgt[500][1000],flgl[1000][500];\nint main(void){\n\tint c,n,d,r,f,rt,fl,cnt,i,j,ans;\n\tchar p[1000][1001];\n\tcin>>c>>n;\n\tfor(i=0;i<n;i++) cin>>p[i];\n\tcnt=0;\n\tfor(i=0;i<n;i++){\n\t\tfor(j=0;j<n/2;j++){\n\t\t\tflgl[i][j]=0;\n\t\t\tif(p[i][j]!=p[i][n-1-j]){\n\t\t\t\tflgl[i][j]=1;\n\t\t\t\tcnt++;\n\t\t\t}\n\t\t}\n\t}\n\tfor(i=0;i<n/2;i++){\n\t\tfor(j=0;j<n;j++){\n\t\t\tflgt[i][j]=0;\n\t\t\tif(p[i][j]!=p[n-1-i][j]){\n\t\t\t\tflgt[i][j]=1;\n\t\t\t\tcnt++;\n\t\t\t}\n\t\t}\n\t}\n//\tcout<<cnt<<endl;\n\tans=0;\n\tif(cnt==0) ans++;\n\tfor(i=1;i<c;i++){\n\t\tcin>>d;\n\t\tfor(j=0;j<d;j++){\n\t\t\tcin>>r>>f;\n\t\t\tif(r>n/2) rt=n-r;\n\t\t\telse rt=r-1;\n\t\t\tif(f>n/2) fl=n-f;\n\t\t\telse fl=f-1;\n\t\t\tr-=1; f-=1;\n//\t\t\tcout<<r<<':'<<f<<' '<<rt<<':'<<fl<<endl;\n\t\t\tif(flgl[r][fl]==0){\n\t\t\t\tflgl[r][fl]=1;\n\t\t\t\tcnt++;\n\t\t\t}\n\t\t\telse if(flgl[r][fl]==1){\n\t\t\t\tflgl[r][fl]=0;\n\t\t\t\tcnt--;\n\t\t\t}\n\t\t\tif(flgt[rt][f]==0){\n\t\t\t\tflgt[rt][f]=1;\n\t\t\t\tcnt++;\n\t\t\t}\n\t\t\telse if(flgt[rt][f]==1){\n\t\t\t\tflgt[rt][f]=0;\n\t\t\t\tcnt--;\n\t\t\t}\n\t\t}\n//\t\tcout<<cnt<<endl;\n\t\tif(cnt==0) ans++;\n\t}\n\tcout<<ans<<endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\nusing namespace std;\n\nint p[1000][1000];\n\nbool Symmetry(int P[1000][1000],int n)\n{\n\tfor(int i=0;i<=n;i++){\n\t\tfor(int j=0;j<=n;j++){\n\t\t\tif(P[i][j]!=P[n-i][j]||P[i][j]!=P[i][n-j]){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\t\n\treturn true;\n}\t\n\nint main()\n{\n\tint C,N;\n\tcin>>C>>N;\n\t\n\tchar tmp;\n\t\n\tfor(int i=0;i<N;i++){\n\t\tfor(int j=0;j<N;j++){\n\t\t\tcin>>tmp;\n\t\t\tif(tmp=='0'){\n\t\t\t\tp[i][j]=0;\n\t\t\t}\n\t\t\telse if(tmp=='1'){\n\t\t\t\tp[i][j]=1;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tint count=0;\n\t\n\tif(Symmetry(p,N-1)){\n\t\tcount++;\n\t}\n\t\n\tint D,r,c;\n\n\tfor(int i=1;i<C;i++){\n\t\tcin>>D;\n\t\tfor(int j=0;j<D;j++){\n\t\t\tcin>>r>>c;\n\t\t\tp[r-1][c-1]=!p[r-1][c-1];\n\n\t\t}\n\t\tif(Symmetry(p,N-1)){\n\t\t\tcount++;\n\t\t}\n\t}\n\t\n\tcout<<count<<endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<ll, ll> P;\n\n#define pb push_back\n#define rep(i, n) for(int i = 0; i < (n); i++)\n#define dep(i, a, n) for(int i = a; i >= (n); i--)\n#define FOR(i, a, n) for(int i = a; i < (n); i++)\n#define mod (ll)(1e9+7)\n#define int ll\n#define INF 100000000\n\n__attribute__((constructor))\nvoid initial() {\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n}\n\nll c, n, w, x, y, result = 0;\nchar p[1001][1001];\nll d[1001][1001];\nbool a[1001][1001];\n\nbool ch(int x, int y) {\n  if(d[x][y] == d[n-1-x][y] && d[x][y] == d[x][n-1-y] && d[x][y] == d[n-1-x][n-1-y]) return true;\n  return false;\n}\n\nsigned main() {\n\tcin >> c >> n;\n  rep(i, n) rep(j, n) cin >> p[i][j];\n  ll tmp = 0;\n  rep(i, n) rep(j, n) d[i][j] = p[i][j] - '0';\n  rep(i, n / 2) rep(j, n / 2) {\n    if(ch(i, j)) a[i][j] = true;\n    else {\n      a[i][j] = false;\n      tmp++;\n    }\n  }\n  if(tmp == 0) result++;\n  rep(i, c - 1) {\n    cin >> w;\n    rep(j, w) {\n      cin >> x >> y;\n      x--, y--;\n      if(d[x][y] == 1) d[x][y] = 0;\n      else d[x][y] = 1;\n      if(x >= n / 2) x = n - 1 - x;\n      if(y >= n / 2) y = n - 1 - y;\n      if(ch(x, y) != a[x][y]) {\n        if(ch(x, y)) tmp--;\n        else tmp++;\n      }\n      a[x][y] = ch(x, y);\n    }\n    if(tmp == 0) result++;\n  }\n  cout << result << endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main(){\n    int c,n;\n    int m[1000][1000];\n    cin>>c>>n;\n    for(int i=0;i<n;i++){\n        for(int j=0;j<n;j++){\n            char c;\n            cin>>c;\n            m[i][j]=(c==‘0’?0:1);\n        }\n    }\n    bool f=true;\n    int ans=0;\n    for(int i=0;i<(n+1)/2;i++){\n        for(int j=0;j<(n+1)/2;j++){\n            if(m[i][j]!=m[n-1-i][j]||m[i][j]!=m[n-1-i][n-1-j]||m[i][j]!=m[i][n-1-j]){\n                f=false;\n                break;\n            }\n        }\n        if(!f){\n            break;\n        }\n    }\n    if(f){\n        ans++;\n    }\n    c--;\n    while(c--){\n        int d;\n        cin>>d;\n        for(int i=0;i<d;i++){\n            int r,c;\n            cin>>r>>c;\n            r--;c--;\n            m[r][c]^=1;\n        }\n        f=true;\n        for(int i=0;i<(n+1)/2;i++){\n            for(int j=0;j<(n+1)/2;j++){\n                if(m[i][j]!=m[n-1-i][j]||m[i][j]!=m[n-1-i][n-1-j]||m[i][j]!=m[i][n-1-j]){\n                    f=false;\n                    break;\n                }\n            }\n            if(!f){\n                break;\n            }\n        }\n        if(f){\n            ans++;\n        }\n    }\n    cout<<ans<<endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint c,n;\nbool coa[1001][1001];\nbool coacheck(){\n  int count =0;\n  for(int i=1;i<=n/2;i++){\n    for(int j=1;j<=n/2;j++){\n      if((coa[i][j]==coa[i][n-j+1])&&(coa[i][j]==coa[n-i+1][j])&&(coa[i][j]==coa[n-i+1][n-j+1])){\n      }else{\n        return false;\n      }\n    }\n  }\n}\nint main(){\n  cin >>c>>n;\n  for(int i=1;i<=n;i++){\n    string coaster;\n    cin >> coaster;\n    for(int j=1;j<=n;j++){\n      int kari =coaster[j-1]-48;\n      coa[i][j]=kari;\n    }\n  }\n  int coacount =0;\n  if(coacheck())coacount++;\n  for(int i=1;i<c;i++){\n    int num;\n    cin >>num;\n    int a[num*2];\n    for(int j=0;j<num*2;j++){\n      cin >>a[j];\n    }\n    for(int j=0;j<num;j++){\n      if(coa[a[j*2]][a[j*2+1]]==true)coa[a[j*2]][a[j*2+1]]=false;\n      else coa[a[j*2]][a[j*2+1]]=true;\n    }\n    if(coacheck())coacount++;\n  }\n  cout << coacount <<endl;\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<set>\n#include<algorithm>\nusing namespace std;\n\nclass Point{\npublic:\n  int x;\n  int y;\n  bool bin;\n};\n\nbool operator<(const Point& lp,const Point& rp){\n  return (lp.x + lp.y) < (rp.x + rp.y);\n}\n\nclass FourPoint{\npublic:\n  Point lu;\n  Point ru;\n  Point ld;\n  Point rd;\n  friend ostream& operator<<(ostream& os,const FourPoint& fp){\n    os << fp.lu.x << \" \" << fp.lu.y;\n    return os;\n  }\n};\n\nbool operator<(const FourPoint& lfp,const FourPoint& rfp){\n  return (lfp.lu.x < rfp.lu.x) && (lfp.lu.y < rfp.lu.y) && (lfp.ru.x < rfp.ru.x) && (lfp.ru.y < rfp.ru.y) && (lfp.ld.x < rfp.ld.x) && (lfp.ld.y < rfp.ld.y) && (lfp.rd.x < rfp.rd.x) && (lfp.rd.y < rfp.rd.y);\n}\n\nint main(){\n\n    int c,n,d,x,y,count;\n\n    set<FourPoint> st;\n\n    set<FourPoint>::iterator itr;\n\n    Point ptmp[4];\n\n    FourPoint fptmp;\n\n    count = 0;\n\n    cin >> c >> n;\n\n    bool table[n][n];\n    string s[n];\n\n     for(int i=0;i<n;i++){\n         cin >> s[i];\n     }\n\n     for(int i=0;i<n;i++){\n       for(int j=0;j<n;j++){\n         if(s[i][j] == '0'){\n           table[i][j] =false;\n         }\n         else{\n           table[i][j] = true;\n         }\n       }\n     }\n\n     for(int i=0;i<n;i++){\n       for(int j=0;j<n/2;j++){\n         if(table[i][j] != table[i][n-j-1]){\n\n           ptmp[0].x = i; ptmp[0].y = j; ptmp[0].bin = table[i][j];\n           ptmp[1].x = n-i-1; ptmp[1].y = j; ptmp[1].bin = table[n-i-1][j];\n           ptmp[2].x = i; ptmp[2].y = n-j-1; ptmp[2].bin = table[i][n-j-1];\n           ptmp[3].x = n-i-1; ptmp[3].y = n-j-1; ptmp[3].bin = table[n-i-1][n-j-1];\n\n           sort(ptmp,ptmp+4);\n\n           fptmp.lu = ptmp[0];\n           if(ptmp[1].y < ptmp[2].y){\n             fptmp.ru = ptmp[1];\n             fptmp.ld = ptmp[2];\n           }\n           else{\n             fptmp.ru = ptmp[2];\n             fptmp.ld = ptmp[1];\n           }\n\n           fptmp.rd = ptmp[3];\n\n           st.insert(fptmp);\n         }\n       }\n     }\n\n\n     for(int i=0;i<n/2;i++){\n       for(int j=0;j<n;j++){\n         if(table[i][j] != table[n-i-1][j]){\n           ptmp[0].x = i; ptmp[0].y = j; ptmp[0].bin = table[i][j];\n           ptmp[1].x = n-i-1; ptmp[1].y = j; ptmp[1].bin = table[n-i-1][j];\n           ptmp[2].x = i; ptmp[2].y = n-j-1; ptmp[2].bin = table[i][n-j-1];\n           ptmp[3].x = n-i-1; ptmp[3].y = n-j-1; ptmp[3].bin = table[n-i-1][n-j-1];\n\n           sort(ptmp,ptmp+4);\n\n           fptmp.lu = ptmp[0];\n           if(ptmp[1].y < ptmp[2].y){\n             fptmp.ru = ptmp[1];\n             fptmp.ld = ptmp[2];\n           }\n           else{\n             fptmp.ru = ptmp[2];\n             fptmp.ld = ptmp[1];\n           }\n\n           fptmp.rd = ptmp[3];\n\n           st.insert(fptmp);\n         }\n       }\n     }\n\n    /* for(itr = st.begin(); itr != st.end(); ++itr) {\n        cout << *itr << \"\\n\";      // ????????¬???????????????????????????????????¨???\n    }*/\n\n\n     if(st.size() == 0){\n       count++;\n     }\n\n     for(int k=0;k<c-1;k++){\n\n      /* for(itr = st.begin(); itr != st.end(); ++itr) {\n       std::cout << \"key = \" << itr->first           // ???????????¨???\n                     << \", val = \" << itr->second << \"\\n\";    // ????????¨???\n       }*/\n\n       cin >> d;\n\n       /*for(int i=0;i<d;i++){\n\n         cout << i << endl;\n\n         for(int a=0;a<n;a++){\n           for(int b=0;b<n;b++){\n             if(table[a][b] == false){\n               cout << '0';\n             }\n             else{\n               cout << '1';\n             }\n             cout << ' ';\n           }\n           cout << endl;\n         }*/\n\n      for(int i=0;i<d;i++){\n\n         cin >> x >> y;\n         table[x-1][y-1] = !table[x-1][y-1];\n         //cout << \"unsigned \" << tmps << endl;\n\n         ptmp[0].x = x-1; ptmp[0].y = y-1; ptmp[0].bin = table[x-1][y-1];\n         ptmp[1].x = n-x; ptmp[1].y = y-1; ptmp[1].bin = table[n-x][y-1];\n         ptmp[2].x = x-1; ptmp[2].y = n-y; ptmp[2].bin = table[x-1][n-y];\n         ptmp[3].x = n-x; ptmp[3].y = n-y; ptmp[3].bin = table[n-x][n-y];\n\n         sort(ptmp,ptmp+4);\n\n         fptmp.lu = ptmp[0];\n         if(ptmp[1].y < ptmp[2].y){\n           fptmp.ru = ptmp[1];\n           fptmp.ld = ptmp[2];\n         }\n\n         else{\n           fptmp.ru = ptmp[2];\n           fptmp.ld = ptmp[1];\n         }\n\n         fptmp.rd = ptmp[3];\n\n         itr = st.find(fptmp);\n\n         if(itr != st.end()){\n           if(fptmp.lu.bin == fptmp.ru.bin && fptmp.ru.bin == fptmp.ld.bin && fptmp.ld.bin == fptmp.rd.bin){\n             st.erase(itr);\n           }\n         }\n         else{\n           st.insert(fptmp);\n         }\n\n       }\n\n\n\n\n\n\n\n       if(st.size() == 0){\n         //cout << \"f1d2a \" << k+2 << endl;\n         count++;\n       }\n\n     }\n\n     cout << count << endl;\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\nusing namespace std;\nvector<vector<char > > box;\nint check(int,int);\nint N;\nint main(){\n    int C;\n    cin>>C>>N;\n    box.resize(N);\n    for(int i=0;i<N;++i){\n        box[i].resize(N);\n    }\n    for(int y=0;y<N;++y){\n        for(int x=0;x<N;++x){\n            cin>>box[x][y];\n            box[x][y]-='0';\n        }\n    }\n    int num=0;\n    for(int y=0;y<N;++y){\n        for(int x=0;x<N;++x){\n            num+=check(x,y);\n        }\n    }\n    int ans=num==0?1:0;\n    for(int i=0;i<C-1;++i){\n        int time;\n        cin>>time;\n        for(int j=0;j<time;++j){\n            int x,y;\n            cin>>y>>x;\n            --x;\n            --y;\n            num-=check(x,y)*2;\n            box[x][y]=!box[x][y];\n            num+=check(x,y)*2;\n        }\n        if(num==0){\n            ++ans;\n        }\n    }\n    cout<<ans<<endl;\n    return 0;\n}\n\nint check(int x,int y){\n    int res=0;\n    if(box[x][y]!=box[N-x-1][y]){\n        ++res;\n    }\n    if(box[x][y]!=box[x][N-y-1]){\n        ++res;\n    }\n    return res;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef string str;\n#define down_queue(x) priority_queue<x>\n#define up_queue(x) priority_queue<x, vector<x>, greater<x>>\n#define vec(x) vector<x>\nll gcd(ll a,ll b){while(b){ll tmp = a % b;a = b;b = tmp;}return a;}\nll lcm(ll a,ll b){return a / gcd(a,b) * b;}\n#define rep(x, y) for(int x = 0; x < (y); x++)\n#define rrep(x, y) for(int x = (y); x >= 0; x--)\n#define REP(x, z, y) for(int x = (z); x < (y); x++)\n#define RREP(x, z, y) for(int x = (y); x >= (z); x--)\n#define all(x) x.begin(), x.end()\n#define split_str(str, sp_word) istringstream stream(str); string res; for(int cnt = 0; getline(stream,res,sp_word); cnt++)\n#define digit(x) ((int)log10((double)(x)) + 1)\n#define mp(x,y) make_pair(x,y)\n#define pb(x) push_back(x)\n#define pf(x) push_front(x)\n#define out(x) for(auto i : x) cout << i << \" \"; cout << endl;\n#define outln(x) for(auto i : x) cout << i << \" \" << endl;\n#define vec_cpy(to,from) copy(all(to),back_inserter(from))\n#define ary_cpy(to,from) memcpy(to, from, sizeof from)\n#define MOD = 1000000007; \n#ifdef DEBUG\n#define debug_echo(e) cout << \"|\" << __LINE__ << \"| \" << e << endl\n#define debug_var(e) cout << \"|\" << __LINE__ << \"| \" << #e << \": \" << e << endl\n#define debug_echo_dp(dp, N) { cout << \"[ \"; rep(cnt, N) cout << dp[cnt] << \" \";  cout << \"]\" << endl; }\n#else\n#define debug_echo(e)\n#define debug_var(e)\n#define debug_echo_dp(dp, N)\n#endif\n\nint main(){\n  int C,n,d,r,c,ans = 0; cin >> C >> n;\n  int harf = n / 2;\n  debug_var(harf);\n  vec(bool) h[harf],w[n];\n  rep(i,harf) h[i].resize(n);\n  rep(i,n) w[i].resize(harf);\n  str p[n];\n\n  rep(i,n) cin >> p[i];\n\n  function<bool(vec(bool)*, vec(bool)*)> is_match = [&](vec(bool)* h, vec(bool)* w) {\n    int sum = 0;\n    rep(i,harf) sum += count(all(h[i]), true);\n    rep(i,n) sum += count(all(w[i]), true);\n    debug_var(sum);\n    return sum == n * n - (n % 2 != 0 ? n : 0);\n  };\n\n  //????????????????????¨\n  rep(i,harf){\n    rep(j,n) h[i][j] = (p[i][j] == p[n - i - 1][j]);\n    debug_echo_dp(h[i],h[i].size());\n  }\n\n  //?¨??????????????????¨\n  rep(i,n){\n    rep(j,harf) w[i][j] = (p[i][j] == p[i][n - j - 1]);\n    debug_echo_dp(w[i],w[i].size());\n  }\n\n  if(is_match(h,w)) ans++;\n\n  rep(i,C - 1){\n    cin >> d;\n    rep(i,d){\n      cin >> r >> c;\n      r--;c--;\n      debug_echo(r << \" - \" << c);\n      debug_echo(\"h \" << (r >= harf ? n - r - 1 : r) << \" : \" << c << \" in \" << !h[(r >= harf ? n - r - 1 : r)][c]);\n      h[(r >= harf ? n - r - 1 : r)][c] = !h[(r >= harf ? n - r - 1 : r)][c];\n      debug_echo(\"w \" << r << \" : \" << (c >= harf ? n - c - 1 : c) << \" \" << !w[r][(c >= harf ? n - c - 1 : c)]);\n      w[r][(c >= harf ? n - c - 1 : c)] = !w[r][(c >= harf ? n - c - 1 : c)];\n    } \n\n    rep(i,harf)\n      debug_echo_dp(h[i],h[i].size());\n\n    rep(i,n)\n     debug_echo_dp(w[i],w[i].size());\n\n    if(is_match(h,w)) ans++;\n  }\n\n  cout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<iostream>\n#include<algorithm>\n#include<string>\n#include<queue>\n#include<vector>\n#include<functional>\n#include<cmath>\n#include<map>\n#include<stack>\n#include<set>\n#include<numeric>\n#include<limits>\n#include<iterator>\n\n#define all(x) (x).begin(),(x).end()\n#define rall(x) (x).rbegin(),(x).rend()\n\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int, int> pi;\ntypedef pair<ll, ll> pl;\ntypedef pair<ll, char> plc;\n\nint c, n;\nint field[1010][1010];\n\nbool check() {\n\tfor (int i = 0; i < n/2; i++) {\n\t\tfor (int j = 0; j < n; j++) {\n\t\t\tif ((field[i][j] != field[n - i - 1][j])||\n\t\t\t\t(field[j][i] != field[j][n-i-1])){\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t}\n\treturn 1;\n}\n\nint main()\n{\n\tcin >> c >> n;\n\tint ans = 0;\n\n\tfor (int i = 0; i < n; i++) {\n\t\tfor (int j = 0; j < n; j++) \n\t\t\tscanf(\"%1d\",&field[i][j]);\n\t}\n\n\tif (check())ans++;\n\tfor (int i = 0; i < c-1; i++) {\n\t\tint m; cin >> m;\n\t\tfor (int j = 0; j < m; j++) {\n\t\t\tint x, y;\n\t\t\tcin >> x >> y;\n\t\t\tx--, y--;\n\t\t\tif (field[x][y])field[x][y] = 0;\n\t\t\telse field[x][y] = 1;\n\t\t}\n\t\tif (check())ans++;\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\nusing namespace std;\n\nbool is_symmetry(const vector<string> &P){\n  int N = P.size();\n  for(int i = 0; i < N; ++i){\n    for(int j = 0; j < N; ++j){\n      if(P[i][j] != P[i][N-1-j]) return false;\n      if(P[i][j] != P[N-1-i][j]) return false;\n    }\n  }\n  return true;\n}\n\nint main(){\n  int C, N;\n  cin >> C >> N;\n  vector<string> P(N);\n  for(int i = 0; i < N; ++i){\n    cin >> P[i];\n  }\n  int ans = is_symmetry(P);\n  for(int i = 0; i < C-1; ++i){\n    int D;\n    cin >> D;\n    for(int j = 0; j < D; ++j){\n      int r, c;\n      cin >> r >> c;\n      --r,--c;\n      P[r][c] = '0' + '1' - P[r][c];\n    }\n    ans += is_symmetry(P);\n  }\n  cout << ans << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n#define in std::cin\n#define out std::cout\n#define rep(i,N) for(int i=0;i<N;++i)\ntypedef long long int LL;\n\nint C, N, asum, bsum, ans;\n\nint main()\n{\n\tin >> C >> N;\n\tstd::vector<std::vector<int>>p(N, std::vector<int>(N));\n\tstd::vector<std::vector<int>>A(N, std::vector<int>(N / 2));\n\tstd::vector<std::vector<int>>B(N / 2, std::vector<int>(N));\n\trep(i, N)\n\t{\n\t\tstd::string temp;\n\t\tin >> temp;\n\t\trep(j, N) p[i][j] = temp[j] - '0';\n\t}\n\trep(i, N) rep(j, N) A[i][std::min(j, N - j - 1)] ^= p[i][j];\n\trep(i, N) rep(j, N) B[std::min(i, N - i - 1)][j] ^= p[i][j];\n\trep(i, N) rep(j, N / 2) asum += A[i][j];\n\trep(i, N / 2) rep(j, N) bsum += B[i][j];\n\tif (asum == 0 && bsum == 0) ++ans;\n\trep(loop, C - 1)\n\t{\n\t\tint num, x, y;\n\t\tin >> num;\n\t\trep(i, num)\n\t\t{\n\t\t\tin >> x >> y;\n\t\t\t--x; --y;\n\t\t\tA[x][std::min(y, N - y - 1)] ^= 1;\n\t\t\tB[std::min(x, N - x - 1)][y] ^= 1;\n\t\t\tif (A[x][std::min(y, N - y - 1)] == 0) --asum;\n\t\t\telse ++asum;\n\t\t\tif (B[std::min(x, N - x - 1)][y] == 0) --bsum;\n\t\t\telse ++bsum;\n\t\t}\n\t\tif (asum == 0 && bsum == 0) ++ans;\n\t}\n\tout << ans << std::endl;\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <set>\n#include <utility>\n#define rep(i, n) for(int i = 0; i < n; ++i)\nusing namespace std;\n\nint main(void) {\n  int n, i, j, k, c, ans = 0;\n  scanf(\"%d%d\", &c, &n);\n  int m = n / 2;\n  int now[m][m];\n  char p[n][n + 10];\n  set<pair<int, int>> s;\n  rep(i, n) scanf(\"%s\", p[i]);\n  rep(i, n) rep(j, n) p[i][j] -= '0';\n  rep(i, m) rep(j, m) now[i][j] = 0;\n  rep(i, m) rep(j, m) {\n    if(p[i][j]) ++now[i][j];\n    if(p[n - 1 - i][j]) ++now[i][j];\n    if(p[i][n - 1 - j]) ++now[i][j];\n    if(p[n - 1 - i][n - 1 - j]) ++now[i][j];\n    pair<int, int> a = make_pair(i, j);\n    if(!(!now[i][j] || now[i][j] == 4)) s.insert(a);\n  }\n  /*rep(i, m) {\n    rep(j, m) printf(\"%d \", now[i][j]);\n    printf(\"\\n\");\n  }*/\n  /*for(auto it = s.begin(); it != s.end(); ++it) printf(\"%d %d\\n\", (*it).first, (*it).second);*/\n  if(s.empty()) ans++;\n  rep(i, c) {\n    int dn;\n    scanf(\"%d\", &dn);\n    rep(j, dn) {\n      int x, y;\n      scanf(\"%d%d\", &x, &y);\n      x--, y--;\n      //return 0;\n      if(p[x][y]) {\n        p[x][y] = 0;\n        if(x >= m) x = n - 1 - x;\n        if(y >= m) y = n - 1 - y;\n        now[x][y]--;\n      } else  {\n        p[x][y] = 1;\n        if(x >= m) x = n - 1 - x;\n        if(y >= m) y = n - 1 - y;\n        now[x][y]++;\n      }\n      //return 0;\n      pair<int, int> p = make_pair(x, y);\n      //return 0;\n      if(!(!now[x][y] || now[x][y] == 4)) {\n        auto it = s.find(p);\n        //return 0;\n        if(it == s.end()) s.insert(p);\n        //return 0;\n      } else {\n        //return 0;\n        auto it = s.find(p);\n        //return 0;\n        if(it != s.end()) s.erase(p);\n      }\n      //return 0;\n    }\n    if(s.empty()) ++ans;\n  }\n  printf(\"%d\\n\", ans);\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint c,n;\nbool coa[1001][1001];\nbool coacheck(){\n\n  for(int i=1;i<=n/2;i++){\n    for(int j=1;j<=n/2;j++){\n      if((coa[i][j]==coa[i][n-j+1])&&(coa[i][j]==coa[n-i+1][j])&&(coa[i][j]==coa[n-i+1][n-j+1])){\n      }else{\n        return false;\n      }\n    }\n  }\n  return true;\n}\nint main(){\n  cin >>c>>n;\n  for(int i=1;i<=n;i++){\n    string coaster;\n    cin >> coaster;\n    for(int j=1;j<=n;j++){\n      int kari =coaster[j-1]-48;\n      coa[i][j]=kari;\n    }\n  }\n  int coacount =0;\n  if(coacheck())coacount++;\n  for(int i=1;i<c;i++){\n    int num;\n    cin >>num;\n    int a[num*2];\n    for(int j=0;j<num*2;j++){\n      cin >>a[j];\n    }\n    for(int j=0;j<num;j++){\n      if(coa[a[j*2]][a[j*2+1]]==true)coa[a[j*2]][a[j*2+1]]=false;\n      else coa[a[j*2]][a[j*2+1]]=true;\n    }\n    if(coacheck())coacount++;\n  }\n  cout << coacount <<endl;\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\nusing namespace std;\n\nint p[1000][1000];\n\nbool Symmetry(int P[1000][1000],int n)\n{\n\tfor(int i=0;i<=n/2;i++){\n\t\tfor(int j=0;j<=n/2;j++){\n\t\t\tif(P[i][j]!=P[n-i][j]||P[i][j]!=P[i][n-j]){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\t\n\treturn true;\n}\t\n\nint main()\n{\n\tint C,N;\n\tcin>>C>>N;\n\t\n\tchar tmp;\n\t\n\tfor(int i=0;i<N;i++){\n\t\tfor(int j=0;j<N;j++){\n\t\t\tcin>>tmp;\n\t\t\tif(tmp=='0'){\n\t\t\t\tp[i][j]=0;\n\t\t\t}\n\t\t\telse if(tmp=='1'){\n\t\t\t\tp[i][j]=1;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tint count=0;\n\t\n\tif(Symmetry(p,N-1)){\n\t\tcount++;\n\t}\n\t\n\tint D,r,c;\n\n\tfor(int i=1;i<C;i++){\n\t\tcin>>D;\n\t\tfor(int j=0;j<D;j++){\n\t\t\tcin>>r>>c;\n\t\t\tp[r-1][c-1]=!p[r-1][c-1];\n\n\t\t}\n\t\tif(Symmetry(p,N-1)){\n\t\t\tcount++;\n\t\t}\n\t}\n\t\n\tcout<<count<<endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\nusing namespace std;\n\nint main(){\n\n    int c,n,d,x,y,count,N;\n\n    count = 0;\n\n    cin >> c >> n;\n\n    N = n-1;\n\n    bool table[n][n];\n\n    char cha;\n\n     for(int i=0; i<n; i++){\n       for(int j=0; j<n; j++){\n           cin >> cha;\n           table[i][j] = cha=='0' ? 0 : 1;\n       }\n     }\n\n     bool flag=true;\n\n     for(int i=0; i<n/2; i++){\n       for(int j=0; j<n/2; j++){\n           if( (table[i][j] + table[i][N-j] + table[N-i][j] + table[N-i][N-j]) % 4 != 0){\n             flag = false;\n             break;\n           }\n       }\n       if(!flag){\n         break;\n       }\n     }\n\n     if(flag){\n       count++;\n     }\n\n     for(int k=0;k<c-1;k++){\n\n       cin >> d;\n\n       for(int i=0;i<d;i++){\n         cin >> x >> y;\n         table[x-1][y-1] = !table[x-1][y-1];\n       }\n\n       flag=true;\n\n       for(int i=0; i<n/2; i++){\n         for(int j=0; j<n/2; j++){\n             if( (table[i][j] + table[i][N-j] + table[N-i][j] + table[N-i][N-j]) % 4 != 0){\n               flag = false;\n               break;\n             }\n         }\n         if(!flag){\n           break;\n         }\n       }\n\n       if(flag){\n         count++;\n       }\n     }\n\n     cout << count << endl;\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint n,m,i,j,k,d[10000],x,y,g,h;\nint mp[1001][1001],bd[1001][1001],a[10000][100],b[10000][100];\nchar s[1001][1001];\nint main(void)\n{\n\tcin>>n>>m;\n\tfor(i=1;i<=m;i++) cin>>s[i];\n\tfor(i=0;i<n-1;i++){\n\t\tcin>>d[i];\n\t\tfor(j=0;j<d[i];j++) scanf(\"%d %d\",&a[i][j],&b[i][j]);\n\t}\n\tfor(i=1;i<=m;i++){\n\t\tfor(j=0;j<m;j++){\n\t\t\tif(s[i][j]=='1') mp[i][j+1]=1;\n\t\t\telse mp[i][j+1]=0;\n\t\t}\n\t}\n\tk=0;\n\tfor(i=1;i<=m;i++) for(j=1;j<=m;j++) bd[i][j]=0;\n\tfor(i=1;i<=m/2;i++){\n\t\tfor(j=1;j<=m/2;j++){\n\t\t\tif(mp[i][j]!=mp[m-i+1][j]||\n\t\t\t\tmp[i][j]!=mp[i][m-j+1]||\n\t\t\t\tmp[i][j]!=mp[m-i+1][m-j+1]){\n\t\t\t\t\tbd[i][j]=1;\n\t\t\t\t\tbd[m-i+1][j]=1;\n\t\t\t\t\tbd[i][m-j+1]=1;\n\t\t\t\t\tbd[m-i+1][m-j+1]=1;\n\t\t\t\t\tk++;\n\t\t\t\t}\n\t\t}\n\t}/*\n\tfor(g=1;g<=m;g++){\n\t\tfor(h=1;h<=m;h++) cout<<bd[g][h];\n\t\tcout<<endl;\n\t}\n\tcout<<endl;*/\n\tint sum=0;\n\tif(k==0) sum=1;\n\tfor(i=0;i<n-1;i++){\n\t\tfor(j=0;j<d[i];j++){\n\t\t\tx=a[i][j]; y=b[i][j];\n\t\t\tif(mp[x][y]==0) mp[x][y]=1;\n\t\t\telse mp[x][y]=0;\n\t\t\tif(m/2<x) x=m-x+1;\n\t\t\tif(m/2<y) y=m-y+1;\n\t\t\tif(mp[x][y]!=mp[m-x+1][y]||\n\t\t\t\tmp[x][y]!=mp[x][m-y+1]||\n\t\t\t\tmp[x][y]!=mp[m-x+1][m-y+1]){\n\t\t\t\t\tif(bd[x][y]==0) k++;\n\t\t\t\t\tbd[x][y]=1;\n\t\t\t\t\tbd[m-x+1][y]=1;\n\t\t\t\t\tbd[x][m-y+1]=1;\n\t\t\t\t\tbd[m-x+1][m-y+1]=1;\n\t\t\t\t}\n\t\t\telse {\n\t\t\t\tif(bd[x][y]==1) k--;\n\t\t\t\tbd[x][y]=0;\n\t\t\t\tbd[m-x+1][y]=0;\n\t\t\t\tbd[x][m-y+1]=0;\n\t\t\t\tbd[m-x+1][m-y+1]=0;\n\t\t\t}\n\t\t}/*\n\t\tfor(g=1;g<=m;g++){\n\t\t\tfor(h=1;h<=m;h++) cout<<bd[g][h];\n\t\t\tcout<<endl;\n\t\t}\n\t\tcout<<endl;*/\n\t\tif(k==0) sum++;\n\t}\n\tcout<<sum<<endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint c,n;\nbool coa[1001][1001];\nbool coacheck(){\n  int count =0;\n  for(int i=1;i<=n/2;i++){\n    for(int j=1;j<=n/2;j++){\n      if((coa[i][j]==coa[i][n-j+1])&&(coa[i][j]==coa[n-i+1][j])&&(coa[i][j]==coa[n-i+1][n-j+1])){\n        count++;\n      }\n    }\n  }\n  if(count==(n*n)/4)return true;\n  else return false;\n}\nint main(){\n  cin >>c>>n;\n  for(int i=1;i<=n;i++){\n    for(int j=1;j<=n;j++){\n      cin >> coa[i][j];\n    }\n  }\n  int coacount =0;\n  if(coacheck())coacount++;\n  for(int i=1;i<c;i++){\n    int num;\n    cin >>num;\n    int a[num*2];\n    for(int j=0;j<num*2;j++){\n      cin >>a[j];\n    }\n    for(int j=0;j<num;j++){\n      if(coa[a[j*2]][a[j*2+1]]==true)coa[a[j*2]][a[j*2+1]]=false;\n      else coa[a[j*2]][a[j*2+1]]=true;\n    }\n    if(coacheck())coacount++;\n  }\n  cout << coacount <<endl;\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<set>\n#include<string>\n#include<algorithm>\n#include<utility>\nusing namespace std;\n\nclass Point{\npublic:\n  int x;\n  int y;\n  bool bin;\n  friend ostream& operator<<(ostream& os,const Point& p){\n    os << p.x << \" \" << p.y << \" \" << p.bin;\n    return os;\n  }\n};\n\nbool operator<(const Point& lp,const Point& rp){\n  return (lp.x + lp.y) < (rp.x + rp.y);\n}\n\nclass FourPoint{\npublic:\n  Point lu;\n  Point ru;\n  Point ld;\n  Point rd;\n  friend ostream& operator<<(ostream& os,const FourPoint& fp){\n    os << fp.lu << endl;\n    os << fp.ru << endl;\n    os << fp.ld << endl;\n    os << fp.rd << endl;\n\n    return os;\n  }\n  friend bool operator==(const FourPoint& lfp,const FourPoint& rfp){\n    return (lfp.lu.x == rfp.lu.x) && (lfp.lu.y == rfp.lu.y) && (lfp.ru.x == rfp.ru.x) && (lfp.ru.y == rfp.ru.y) && (lfp.ld.x == rfp.ld.x) && (lfp.ld.y == rfp.ld.y) && (lfp.rd.x == rfp.rd.x) && (lfp.rd.y == rfp.rd.y);\n  }\n};\n\nbool operator<(const FourPoint& lfp,const FourPoint& rfp){\n  return (lfp.lu.x < rfp.lu.x);// && (lfp.lu.y < rfp.lu.y) && (lfp.ru.x < rfp.ru.x) && (lfp.ru.y < rfp.ru.y) && (lfp.ld.x < rfp.ld.x) && (lfp.ld.y < rfp.ld.y) && (lfp.rd.x < rfp.rd.x) && (lfp.rd.y < rfp.rd.y);\n}\n\n\n\nint main(){\n\n    int c,n,d,x,y,count;\n\n    set<FourPoint> st;\n\n    set<FourPoint>::iterator itr;\n\n    Point ptmp[4];\n\n    FourPoint fptmp;\n\n    count = 0;\n\n    cin >> c >> n;\n\n    bool table[n][n];\n    string s[n];\n\n     for(int i=0;i<n;i++){\n         cin >> s[i];\n     }\n\n     for(int i=0;i<n;i++){\n       for(int j=0;j<n;j++){\n         if(s[i][j] == '0'){\n           table[i][j] =false;\n         }\n         else{\n           table[i][j] = true;\n         }\n       }\n     }\n\n     for(int i=0;i<n;i++){\n       for(int j=0;j<n/2;j++){\n         if(table[i][j] != table[i][n-j-1]){\n\n           ptmp[0].x = i; ptmp[0].y = j; ptmp[0].bin = table[i][j];\n           ptmp[1].x = n-i-1; ptmp[1].y = j; ptmp[1].bin = table[n-i-1][j];\n           ptmp[2].x = i; ptmp[2].y = n-j-1; ptmp[2].bin = table[i][n-j-1];\n           ptmp[3].x = n-i-1; ptmp[3].y = n-j-1; ptmp[3].bin = table[n-i-1][n-j-1];\n\n           sort(ptmp,ptmp+4);\n\n           fptmp.lu = ptmp[0];\n           if(ptmp[1].y < ptmp[2].y){\n             fptmp.ru = ptmp[1];\n             fptmp.ld = ptmp[2];\n           }\n           else{\n             fptmp.ru = ptmp[2];\n             fptmp.ld = ptmp[1];\n           }\n\n           fptmp.rd = ptmp[3];\n\n           st.insert(fptmp);\n         }\n       }\n     }\n\n\n     for(int i=0;i<n/2;i++){\n       for(int j=0;j<n;j++){\n         if(table[i][j] != table[n-i-1][j]){\n           ptmp[0].x = i; ptmp[0].y = j; ptmp[0].bin = table[i][j];\n           ptmp[1].x = n-i-1; ptmp[1].y = j; ptmp[1].bin = table[n-i-1][j];\n           ptmp[2].x = i; ptmp[2].y = n-j-1; ptmp[2].bin = table[i][n-j-1];\n           ptmp[3].x = n-i-1; ptmp[3].y = n-j-1; ptmp[3].bin = table[n-i-1][n-j-1];\n\n           sort(ptmp,ptmp+4);\n\n           fptmp.lu = ptmp[0];\n           if(ptmp[1].y < ptmp[2].y){\n             fptmp.ru = ptmp[1];\n             fptmp.ld = ptmp[2];\n           }\n           else{\n             fptmp.ru = ptmp[2];\n             fptmp.ld = ptmp[1];\n           }\n\n           fptmp.rd = ptmp[3];\n\n           st.insert(fptmp);\n         }\n       }\n     }\n\n     /*for(itr = st.begin(); itr != st.end(); ++itr) {\n        cout << \"testtest \" << *itr << \"\\n\";      // ????????¬???????????????????????????????????¨???\n     }*/\n\n\n     if(st.size() == 0){\n       count++;\n     }\n\n     for(int k=0;k<c-1;k++){\n\n       /*for(itr = st.begin(); itr != st.end(); ++itr) {\n          cout << k << \" test \" << *itr << \"\\n\";      // ????????¬???????????????????????????????????¨???\n      }*/\n\n       cin >> d;\n\n      for(int i=0;i<d;i++){\n\n         cin >> x >> y;\n         table[x-1][y-1] = !table[x-1][y-1];\n         //cout << \"unsigned \" << tmps << endl;\n\n         ptmp[0].x = x-1; ptmp[0].y = y-1; ptmp[0].bin = table[x-1][y-1];\n         ptmp[1].x = n-x; ptmp[1].y = y-1; ptmp[1].bin = table[n-x][y-1];\n         ptmp[2].x = x-1; ptmp[2].y = n-y; ptmp[2].bin = table[x-1][n-y];\n         ptmp[3].x = n-x; ptmp[3].y = n-y; ptmp[3].bin = table[n-x][n-y];\n\n         sort(ptmp,ptmp+4);\n\n\n         fptmp.lu = ptmp[0];\n\n         if(ptmp[1].y < ptmp[2].y){\n           fptmp.ru = ptmp[1];\n           fptmp.ld = ptmp[2];\n         }\n\n         else{\n           fptmp.ru = ptmp[2];\n           fptmp.ld = ptmp[1];\n         }\n\n         /*for(int g=0;g<4;g++){\n           cout << \"ptmp\"  << g << \"= \"<< ptmp[g] << endl;\n         }*/\n\n         fptmp.rd = ptmp[3];\n\n         //cout << \"fptmp =  \" << endl << fptmp << endl;\n\n         //itr = st.find(fptmp);\n\n         itr = st.begin();\n\n         while(itr != st.end()){\n           if(*itr == fptmp){\n             break;\n           }\n           itr++;\n         }\n\n         //pair<set<FourPoint>::iterator,bool> afd;\n\n         if(itr != st.end()){\n           //cout << \"ok \" << endl;\n           if(fptmp.lu.bin == fptmp.ru.bin && fptmp.ru.bin == fptmp.ld.bin && fptmp.ld.bin == fptmp.rd.bin){\n             //cout << \"ok\" << endl;\n             st.erase(itr);\n           }\n         }\n         else{\n           //cout << \"bug \" << *itr << endl;\n           /*afd = */st.insert(fptmp);\n          // cout << \"is_insert? \" << afd.second << endl;\n         }\n\n        /* for(itr = st.begin(); itr != st.end(); ++itr) {\n            cout << \"test \" << *itr << \"\\n\";      // ????????¬???????????????????????????????????¨???\n         }*/\n\n       }\n\n\n\n\n\n\n\n       if(st.size() == 0){\n         //cout << \"f1d2a \" << k+2 << endl;\n         count++;\n       }\n\n     }\n\n\n\n     /*for(int i=0;i<n;i++){\n       for(int j=0;j<n;j++){\n         if(table[i][j] == '0'){\n           cout << '0';\n         }\n         else{\n           cout << '1';\n         }\n       }\n       cout << endl;\n     }*/\n\n     cout << count << endl;\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<set>\n#include<string>\n#include<algorithm>\n#include<utility>\nusing namespace std;\n\nclass Point{\npublic:\n  int x;\n  int y;\n  bool bin;\n  friend ostream& operator<<(ostream& os,const Point& p){\n    os << p.x << \" \" << p.y << \" \" << p.bin;\n    return os;\n  }\n};\n\nbool operator<(const Point& lp,const Point& rp){\n  return (lp.x + lp.y) < (rp.x + rp.y);\n}\n\nclass FourPoint{\npublic:\n  Point lu;\n  Point ru;\n  Point ld;\n  Point rd;\n  friend ostream& operator<<(ostream& os,const FourPoint& fp){\n    os << fp.lu << endl;\n    os << fp.ru << endl;\n    os << fp.ld << endl;\n    os << fp.rd << endl;\n\n    return os;\n  }\n  friend bool operator==(const FourPoint& lfp,const FourPoint& rfp){\n    return (lfp.lu.x == rfp.lu.x) && (lfp.lu.y == rfp.lu.y) && (lfp.ru.x == rfp.ru.x) && (lfp.ru.y == rfp.ru.y) && (lfp.ld.x == rfp.ld.x) && (lfp.ld.y == rfp.ld.y) && (lfp.rd.x == rfp.rd.x) && (lfp.rd.y == rfp.rd.y);\n  }\n};\n\nbool operator<(const FourPoint& lfp,const FourPoint& rfp){\n  return (lfp.lu.x < rfp.lu.x);// && (lfp.lu.y < rfp.lu.y) && (lfp.ru.x < rfp.ru.x) && (lfp.ru.y < rfp.ru.y) && (lfp.ld.x < rfp.ld.x) && (lfp.ld.y < rfp.ld.y) && (lfp.rd.x < rfp.rd.x) && (lfp.rd.y < rfp.rd.y);\n}\n\n\n\nint main(){\n\n    int c,n,d,x,y,count;\n\n    set<FourPoint> st;\n\n    set<FourPoint>::iterator itr;\n\n    Point ptmp[4];\n\n    FourPoint fptmp;\n\n    count = 0;\n\n    cin >> c >> n;\n\n    bool table[n][n];\n    string s[n];\n\n     for(int i=0;i<n;i++){\n         cin >> s[i];\n     }\n\n     for(int i=0;i<n;i++){\n       for(int j=0;j<n;j++){\n         if(s[i][j] == '0'){\n           table[i][j] =false;\n         }\n         else{\n           table[i][j] = true;\n         }\n       }\n     }\n\n     for(int i=0;i<n;i++){\n       for(int j=0;j<n/2;j++){\n         if(table[i][j] != table[i][n-j-1]){\n\n           ptmp[0].x = i; ptmp[0].y = j; ptmp[0].bin = table[i][j];\n           ptmp[1].x = n-i-1; ptmp[1].y = j; ptmp[1].bin = table[n-i-1][j];\n           ptmp[2].x = i; ptmp[2].y = n-j-1; ptmp[2].bin = table[i][n-j-1];\n           ptmp[3].x = n-i-1; ptmp[3].y = n-j-1; ptmp[3].bin = table[n-i-1][n-j-1];\n\n           sort(ptmp,ptmp+4);\n\n           fptmp.lu = ptmp[0];\n           if(ptmp[1].y < ptmp[2].y){\n             fptmp.ru = ptmp[1];\n             fptmp.ld = ptmp[2];\n           }\n           else{\n             fptmp.ru = ptmp[2];\n             fptmp.ld = ptmp[1];\n           }\n\n           fptmp.rd = ptmp[3];\n\n           st.insert(fptmp);\n         }\n       }\n     }\n\n\n     for(int i=0;i<n/2;i++){\n       for(int j=0;j<n;j++){\n         if(table[i][j] != table[n-i-1][j]){\n           ptmp[0].x = i; ptmp[0].y = j; ptmp[0].bin = table[i][j];\n           ptmp[1].x = n-i-1; ptmp[1].y = j; ptmp[1].bin = table[n-i-1][j];\n           ptmp[2].x = i; ptmp[2].y = n-j-1; ptmp[2].bin = table[i][n-j-1];\n           ptmp[3].x = n-i-1; ptmp[3].y = n-j-1; ptmp[3].bin = table[n-i-1][n-j-1];\n\n           sort(ptmp,ptmp+4);\n\n           fptmp.lu = ptmp[0];\n           if(ptmp[1].y < ptmp[2].y){\n             fptmp.ru = ptmp[1];\n             fptmp.ld = ptmp[2];\n           }\n           else{\n             fptmp.ru = ptmp[2];\n             fptmp.ld = ptmp[1];\n           }\n\n           fptmp.rd = ptmp[3];\n\n           st.insert(fptmp);\n         }\n       }\n     }\n\n     /*for(itr = st.begin(); itr != st.end(); ++itr) {\n        cout << \"testtest \" << *itr << \"\\n\";      // ????????¬???????????????????????????????????¨???\n     }*/\n\n\n     if(st.size() == 0){\n       count++;\n     }\n\n     for(int k=0;k<c-1;k++){\n\n       /*for(itr = st.begin(); itr != st.end(); ++itr) {\n          cout << k << \" test \" << *itr << \"\\n\";      // ????????¬???????????????????????????????????¨???\n      }*/\n\n       cin >> d;\n\n      for(int i=0;i<d;i++){\n\n         cin >> x >> y;\n         table[x-1][y-1] = !table[x-1][y-1];\n         //cout << \"unsigned \" << tmps << endl;\n\n         ptmp[0].x = x-1; ptmp[0].y = y-1; ptmp[0].bin = table[x-1][y-1];\n         ptmp[1].x = n-x; ptmp[1].y = y-1; ptmp[1].bin = table[n-x][y-1];\n         ptmp[2].x = x-1; ptmp[2].y = n-y; ptmp[2].bin = table[x-1][n-y];\n         ptmp[3].x = n-x; ptmp[3].y = n-y; ptmp[3].bin = table[n-x][n-y];\n\n         sort(ptmp,ptmp+4);\n\n\n         fptmp.lu = ptmp[0];\n\n         if(ptmp[1].y < ptmp[2].y){\n           fptmp.ru = ptmp[1];\n           fptmp.ld = ptmp[2];\n         }\n\n         else{\n           fptmp.ru = ptmp[2];\n           fptmp.ld = ptmp[1];\n         }\n\n         /*for(int g=0;g<4;g++){\n           cout << \"ptmp\"  << g << \"= \"<< ptmp[g] << endl;\n         }*/\n\n         fptmp.rd = ptmp[3];\n\n        //cout << \"fptmp =  \" << endl << fptmp << endl;\n\n         //itr = st.find(fptmp);\n\n         itr = st.begin();\n\n         while(itr != st.end()){\n           if(*itr == fptmp){\n             break;\n           }\n           itr++;\n         }\n\n         pair<set<FourPoint>::iterator,bool> afd;\n\n         if(itr != st.end()){\n           //cout << \"ok \" << endl;\n           /*cout << \"fptmp =  \" << endl << fptmp << endl;\n           cout << \"*itr =  \" << endl << *itr << endl;*/\n           if(fptmp.lu.bin == fptmp.ru.bin && fptmp.ru.bin == fptmp.ld.bin && fptmp.ld.bin == fptmp.rd.bin){\n            // cout << \"ok\" << endl;\n             st.erase(itr);\n           }\n         }\n         else{\n           /*afd = */st.insert(fptmp);\n           //cout << \"is_insert? \" << afd.second << endl;\n         }\n\n        /* for(itr = st.begin(); itr != st.end(); ++itr) {\n            cout << \"test \" << *itr << \"\\n\";      // ????????¬???????????????????????????????????¨???\n         }*/\n\n       }\n\n\n\n\n\n\n\n       if(st.size() == 0){\n         //cout << \"f1d2a \" << k+2 << endl;\n         count++;\n       }\n\n     }\n\n\n\n     /*for(int i=0;i<n;i++){\n       for(int j=0;j<n;j++){\n         if(table[i][j] == '0'){\n           cout << '0';\n         }\n         else{\n           cout << '1';\n         }\n       }\n       cout << endl;\n     }*/\n\n     cout << count << endl;\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nshort table[1000][1000];\n\n\n\nint main(){\n\n    int c,n,ans=0,N,count=0;\n    char cha;\n\n    cin >> c >> n;\n\n    N = n-1;\n\n    for(int i=0; i<n; i++){\n      for(int j=0; j<n; j++){\n          cin >> cha;\n          table[i][j] = (cha=='0') ? 0 : 1;\n      }\n    }\n\n    for(int i=0; i<n/2; i++){\n      for(int j=0; j<n/2; j++){\n          /*int tmp = (table[i][j] + table[i][N-j] + table[N-i][j] + table[N-i][N-j]);\n          cout << tmp << endl;*/\n          if( (table[i][j] + table[i][N-j] + table[N-i][j] + table[N-i][N-j]) % 4 != 0){\n            count++;\n          }\n      }\n    }\n\n    if(count==0){\n      ans++;\n    }\n\n    int d,w,h;\n\n    while(--c){\n\n      bool beforeok;\n\n      cin >> d;\n\n      if(d!=0){\n\n        for(int i=0;i<d;i++){\n          cin >> w >> h;\n          w--;\n          h--;\n          /*cout << w*N+h << endl;\n          cout << w*N+(N-h) << endl;\n          cout << (N-w)*N+h << endl;\n          cout << (N-w)*N+(N-h) << endl;*/\n          /*cout << table[w][h] << endl;\n          cout << table[w][N-h] << endl;\n          cout << table[N-w][h] << endl;\n          cout << table[N-w][N-h] << endl;    */\n          //cout << (table[w][h] + table[w][N-h] + table[N-w][h] + table[N-w][N-h]) % 4 << endl;\n          if( (table[w][h] + table[w][N-h] + table[N-w][h] + table[N-w][N-h]) % 4 != 0){\n            beforeok = false;\n          }else{\n            beforeok = true;\n          }\n          table[w][h] = (table[w][h] == 0) ? 1 : 0;\n\n          if( (table[w][h] + table[w][N-h] + table[N-w][h] + table[N-w][N-h]) % 4 != 0){\n            if(beforeok){\n              count++;\n            }\n          }else{\n            count--;\n          }\n\n        }\n\n\n      }\n\n      //cout << \"count = \" << count << endl;\n\n      if(count==0){\n        //cout << \"ok\" << endl;\n        ans++;\n      }\n\n      /*for(int i=0; i<n; i++){\n        for(int j=0; j<n; j++){\n            cout << table[i][j];\n        }\n        cout << endl;\n      }*/\n\n    }\n\n    cout << ans << endl;\n\n\n\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main() {\n    int c, n;\n    cin >> c >> n;\n    vector<string> p(n);\n    for(int i = 0; i < n; ++i) {\n        cin >> p[i];\n    }\n    int incorrect = 0;\n    for(int i = 0; i < n / 2; ++i) {\n        for(int j = 0; j < n / 2; ++j) {\n            incorrect += p[i][j] != p[i][n - j - 1] || p[i][j] != p[n - i - 1][j];\n        }\n    }\n\n    int ans = incorrect == 0;\n    for(int i = 0; i < c - 1; ++i) {\n        int d; cin >> d;\n        for(int j = 0; j < d; ++j) {\n            int r, c; cin >> r >> c;\n            r--; c--;\n            if(p[n - r - 1][c] == p[r][c] && p[r][c] == p[r][n - c - 1]) incorrect += 1;\n            p[r][c] = (p[r][c] == '0') ? '1' : '0';\n            if(p[n - r - 1][c] == p[r][c] && p[r][c] == p[r][n - c - 1]) incorrect -= 1;\n        }\n        ans += incorrect == 0;\n    }\n\n    cout << ans << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint c,n;\nbool coa[1001][1001];\nint count=0;\nint onecount=1;\nstruct onepos{\n  int i;\n  int j;\n};\nonepos p[250001];\nbool coacheck(){\n\n  for(int i=1;i<=onecount;i++){\n      if((coa[p[i].i][p[i].j]==coa[p[i].i][n-p[i].j+1])&&(coa[p[i].i][p[i].j]==coa[n-p[i].i+1][p[i].j])&&(coa[p[i].i][p[i].j]==coa[n-p[i].i+1][n-p[i].j+1])){\n      }else{\n        return false;\n      }\n    }\n    return true;\n  }\nint main(){\n  cin >>c>>n;\n  for(int i=1;i<=n;i++){\n    string coaster;\n    cin >> coaster;\n    for(int j=1;j<=n;j++){\n      int kari =coaster[j-1]-48;\n      coa[i][j]=kari;\n    }\n  }\n  for(int i=1;i<=n/2;i++){\n    for(int j=1;j<=n/2;j++){\n      if(coa[i][j]==true){\n        p[onecount].i=i;\n        p[onecount].j=j;\n      }\n    }\n  }\n  int coacount =0;\n  if(coacheck())coacount++;\n  for(int i=1;i<c;i++){\n    int num;\n    cin >>num;\n    int a[num*2];\n    for(int j=0;j<num*2;j++){\n      cin >>a[j];\n    }\n    for(int j=0;j<num;j++){\n      if(coa[a[j*2]][a[j*2+1]]==true){\n        coa[a[j*2]][a[j*2+1]]=false;\n        for(int k=1;k<=onecount;k++){\n          if((p[k].i==a[j*2])&&(p[k].j==a[j*2+1])){\n            p[k].i=p[onecount].i;\n            p[k].j=p[onecount].j;\n            break;\n          }\n        }\n        onecount--;\n      }\n      else coa[a[j*2]][a[j*2+1]]=true;\n      p[onecount+1].i=a[j*2];\n      p[onecount+1].j=a[j*2+1];\n      onecount++;\n    }\n    if(coacheck())coacount++;\n  }\n  cout << coacount <<endl;\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <iostream>\nusing namespace std;\nint main()\n{\n\tint C,N,D,r,c,count,a,b,ans=0;\n\tstatic char cost[1000][1000];\n\tint i,j,k;\n\tbool mae;\n\tcin>>C>>N;\n\tfor (i=0;i<N;i++)\n\t{\n\t\tcin>>cost[i];\n\t}\n\tcount=0;\n\tfor (i=0;i<N/2;i++)\n\t{\n\t\tfor (j=0;j<N/2;j++)\n\t\t{\n\t\t\t//左上のマスを対称かどうか調べる\n\t\t\tif (cost[i][j]==cost[N-i-1][j]&&\n\t\t\t\tcost[N-i-1][j]==cost[N-i-1][N-j-1]&&\n\t\t\t\tcost[N-i-1][N-j-1]==cost[i][N-j-1]&&\n\t\t\t\tcost[i][N-j-1]==cost[i][j])\n\t\t\t{\n\t\t\t\t//対称である\n\t\t\t} else {\n\t\t\t\tcount++;\n\t\t\t\t//printf(\"最初%d\\n\",count);\n\t\t\t}\n\t\t}\n\t}\n\tif (!count) ans++;\n\tif (C==1)\n\t{\n\t\tif (count) puts(\"0\");\n\t\telse puts(\"1\");\n\t\treturn 0;\n\t}\n\tfor (k=1;k<C;k++)\n\t{\n\t\tcin>>D;\n\t\tfor (i=0;i<D;i++)\n\t\t{\n\t\t\tcin>>r>>c;\n\t\t\tr--;c--;\n\t\t\t//もともと対称か調べる\n\t\t\ta=N-r-1;\n\t\t\tb=N-c-1;\n\t\t\tif (cost[a][b]==cost[N-a-1][b]&&\n\t\t\t\tcost[N-a-1][b]==cost[N-a-1][N-b-1]&&\n\t\t\t\tcost[N-a-1][N-b-1]==cost[a][N-b-1]&&\n\t\t\t\tcost[a][N-b-1]==cost[a][b])\n\t\t\t{\n\t\t\t\tmae=true;\n\t\t\t} else {\n\t\t\t\tmae=false;\n\t\t\t}\n\t\t\t//変わったマス\n\t\t\tif (cost[r][c]=='0')\n\t\t\t{\n\t\t\t\tcost[r][c]='1';\n\t\t\t} else {\n\t\t\t\tcost[r][c]='0';\n\t\t\t}\n\t\t\tif (r>=N/2) r=N-r-1;\n\t\t\tif (c>=N/2) c=N-c-1;\n\t\t\tif (cost[r][c]==cost[N-r-1][c]&&\n\t\t\t\tcost[N-r-1][c]==cost[N-r-1][N-c-1]&&\n\t\t\t\tcost[N-r-1][N-c-1]==cost[r][N-c-1]&&\n\t\t\t\tcost[r][N-c-1]==cost[r][c])\n\t\t\t{\n\t\t\t\tcount--;\n\t\t\t\t//printf(\"座標は対称%dk=%d\\n\",count,k+1);\n\t\t\t} else {\n\t\t\t\tif (mae)\n\t\t\t\t{\n\t\t\t\t\tcount++;\n\t\t\t\t\t//printf(\"座標は対称でない%dk=%d\\n\",count,k+1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (!count) ans++;\n\t}\n\tprintf(\"%d\\n\",ans);\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define r(i,n) for(int i=0;i<n;i++)\nusing namespace std;\nstring s[101];\nint n,c,x,y,p,ans;\nbool ch(){\n  r(i,n/2)r(j,n/2)if(s[n-i-1][j]!=s[i][j]||s[n-i-1][n-j-1]!=s[i][j])return 0;\n  return 1;\n}\nint main(){\n  cin>>c>>n;\n  r(i,n)cin>>s[i];\n  if(ch())ans++;\n  r(i,c-1){\n    cin>>p;\n    r(i,p){\n      cin>>y>>x;x--;y--;\n      if(s[y][x]=='0')s[y][x]='1';\n      else s[y][x]='0';\n    }\n    if(ch())ans++;\n  }\n  cout<<ans<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main(){\n    int c,n;\n    int m[1000][1000];\n    cin>>c>>n;\n    for(int i=0;i<n;i++){\n        for(int j=0;j<n;j++){\n            char c;\n            cin>>c;\n            m[i][j]=(c=='0'?0:1);\n        }\n    }\n    int ans=0;\n    set<int> s;\n    for(int i=0;i<(n+1)/2;i++){\n        for(int j=0;j<(n+1)/2;j++){\n            if(m[i][j]!=m[n-1-i][j]||m[i][j]!=m[n-1-i][n-1-j]||m[i][j]!=m[i][n-1-j]){\n                s.insert(i*n+j);\n            }\n        }\n    }\n    if(s.empty()){\n        ans++;\n    }\n    c--;\n    while(c--){\n        int d;\n        cin>>d;\n        for(int i=0;i<d;i++){\n            int r,c;\n            cin>>r>>c;\n            r--;c--;\n            m[r][c]^=1;\n            s.insert(min(r,n-1-r)*n+min(c,n-1-c));\n        }\n        f=true;\n        for(set<int>::iterator i=s.begin();i!=s.end();i++){\n            int h=*i;\n            int a=h/n,b=h%n;\n            if(m[a][b]==m[a][n-1-b]&&m[a][b]==m[n-1-a][n-1-b]&&m[a][b]==m[n-1-a][b]){\n                s.erase(h);\n            }\n        }\n        if(s.empty()){\n            ans++;\n        }\n    }\n    cout<<ans<<endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <set>\nusing namespace std;\n__attribute__((constructor))\nvoid initial() {\n cin.tie(0);\n ios::sync_with_stdio(false);\n}\nint main(){\n  int c,n;cin>>c>>n;\n  int ans = 0;\n  char mp[n][n];\n  for(int i = 0; n > i; i++){\n    for(int j = 0; n > j; j++){\n      cin>>mp[i][j];\n    }\n  }\n  set<int> all;\n  set<int> a[n*n/4];\n  for(int i = 0; n/2 > i; i++){\n    for(int j = 0; n/2 > j; j++){\n      if(mp[i][j]=='1')a[i*n/2+j].insert(1);\n      if(mp[n-i-1][j]=='1')a[i*n/2+j].insert(2);\n      if(mp[i][n-j-1]=='1')a[i*n/2+j].insert(3);\n      if(mp[n-i-1][n-j-1]=='1')a[i*n/2+j].insert(4);\n      if(a[i*n/2+j].size()%4==0)all.insert(i*n/2+j);\n    }\n  }\n  bool ok = true;\n  //cout << endl;\n  for(int i = 0; n*n/4 > i; i++){\n    //cout << a[i].size() << \" \";\n    if(a[i].size()%4!=0){\n      ok = false;\n      //break;\n    }\n  }\n  //cout << endl;\n  if(ok)ans++;\n  for(int i = 1; c > i; i++){\n    int d;cin>>d;\n    for(int j = 0; d > j; j++){\n      int y,z;cin>>y>>z;\n      y--;z--;\n      if(y >= n/2){\n        if(z >= n/2){\n          //4\n          if(a[(n-y-1)*n/2+(n-z-1)].count(4)==0)a[(n-y-1)*n/2+(n-z-1)].insert(4);\n          else a[(n-y-1)*n/2+(n-z-1)].erase(4);\n          if(a[(n-y-1)*n/2+(n-z-1)].size()%4==0)all.insert((n-y-1)*n/2+(n-z-1));\n          else all.erase((n-y-1)*n/2+(n-z-1));\n        }else{\n          //2\n          if(a[(n-y-1)*n/2+z].count(2)==0)a[(n-y-1)*n/2+z].insert(2);\n          else a[(n-y-1)*n/2+z].erase(2);\n          if(a[(n-y-1)*n/2+z].size()%4==0)all.insert((n-y-1)*n/2+z);\n          else all.erase((n-y-1)*n/2+z);\n        }\n      }else{\n        if(z >= n/2){\n          if(a[y*n/2+(n-z-1)].count(3)==0)a[y*n/2+(n-z-1)].insert(3);\n          else a[y*n/2+(n-z-1)].erase(3);\n          if(a[y*n/2+(n-z-1)].size()%4==0)all.insert(y*n/2+(n-z-1));\n          else all.erase(y*n/2+(n-z-1));\n          //3\n        }else{\n          if(a[y*n/2+z].count(1)==0)a[y*n/2+z].insert(1);\n          else a[y*n/2+z].erase(1);\n          if(a[y*n/2+z].size()%4==0)all.insert(y*n/2+z);\n          else all.erase(y*n/2+z);\n          //1\n        }\n      }\n    }\n    if(all.size()==n*n/4)ans++;\n  }\n  cout << ans << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\nusing namespace std;\n\nint main(){\n\n    int c,n,d,x,y,count;\n\n    count = 0;\n\n    cin >> c >> n;\n\n    bool table[n][n];\n    string s[n];\n\n     for(int i=0;i<n;i++){\n         cin >> s[i];\n     }\n\n     for(int i=0;i<n;i++){\n       for(int j=0;j<n;j++){\n         if(s[i][j] == '0'){\n           table[i][j] =false;\n         }\n         else{\n           table[i][j] = true;\n         }\n       }\n     }\n\n     bool flag=true;\n\n     for(int i=0;i<n;i++){\n       for(int j=0;j<n/2;j++){\n         if(table[i][j] != table[i][n-j-1]){\n           flag = false;\n           break;\n         }\n       }\n       if(!flag){\n         break;\n       }\n     }\n\n\n     if(flag){\n       for(int i=0;i<n/2;i++){\n         for(int j=0;j<n;j++){\n           if(table[i][j] != table[n-i-1][j]){\n             flag = false;\n             break;\n           }\n         }\n         if(!flag){\n           break;\n         }\n       }\n     }\n\n     if(flag){\n       count++;\n     }\n\n     for(int k=0;k<c-1;k++){\n\n       cin >> d;\n\n       for(int i=0;i<d;i++){\n         cin >> x >> y;\n         table[x-1][y-1] = !table[x-1][y-1];\n       }\n\n       flag=true;\n\n       for(int i=0;i<n;i++){\n         for(int j=0;j<n/2;j++){\n           if(table[i][j] != table[i][n-j-1]){\n             flag = false;\n             break;\n           }\n         }\n         if(!flag){\n           break;\n         }\n       }\n\n       if(flag){\n         for(int i=0;i<n/2;i++){\n           for(int j=0;j<n;j++){\n             if(table[i][j] != table[n-i-1][j]){\n               flag = false;\n               break;\n             }\n           }\n           if(!flag){\n             break;\n           }\n         }\n       }\n\n       if(flag){\n         count++;\n       }\n     }\n\n     cout << count << endl;\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#include <assert.h>\n\nusing namespace std;\n\nint check(vector<string> &v, int n)\n{\n\tfor (int i = 0; i < n / 2; i++)\n\t{\n\t\tstring tmp = v[i];\n\t\treverse(tmp.begin(), tmp.end());\n\t\tif (v[i] != tmp || v[i] != v[n - i - 1])\n\t\t\treturn 0;\n\t}\n\n\treturn 1;\n}\n\nint main()\n{\n\tint co, n;\n\tvector<string> p;\n\tcin >> co >> n;\n\tp.resize(n);\n\tfor (int i = 0; i < n; i++)\n\t\tcin >> p[i];\n\tint ans = check(p, n);\n\tfor (int i = 0; i < co - 1; i++)\n\t{\n\t\tint d;\n\t\tcin >> d;\n\t\tfor (int j = 0; j < d; j++)\n\t\t{\n\t\t\tint r, c;\n\t\t\tcin >> r >> c;\n\t\t\tp[r - 1][c - 1] = (p[r - 1][c - 1] == '1' ? '0' : '1');\n\t\t}\n\n\t\tans += check(p, n);\n\t}\n\tcout << ans << endl;\n\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<map>\n#include<sstream>\nusing namespace std;\n\nint main(){\n\n    int c,n,d,x,y,count;\n\n    stringstream ss;\n\n    string tmps;\n\n    map<string,bool> mp;\n\n    map<string,bool>::iterator itr;\n\n    count = 0;\n\n    cin >> c >> n;\n\n    bool table[n][n];\n    string s[n];\n\n     for(int i=0;i<n;i++){\n         cin >> s[i];\n     }\n\n     for(int i=0;i<n;i++){\n       for(int j=0;j<n;j++){\n         if(s[i][j] == '0'){\n           table[i][j] =false;\n         }\n         else{\n           table[i][j] = true;\n         }\n       }\n     }\n\n     bool is_delete =true;\n\n     for(int i=0;i<n;i++){\n       for(int j=0;j<n/2;j++){\n         if(table[i][j] != table[i][n-j-1]){\n           ss.str(\"\");\n           ss.clear(stringstream::goodbit);\n           ss << i << j;\n           ss >> tmps;\n           //cout << \"test \" << tmps << endl;\n           mp[tmps] = table[i][j];\n           /*ss << i << (n-j-1);\n           ss >> tmps;\n           mp[tmp] = table[i][n-j-1];*/\n         }\n       }\n     }\n\n\n     for(int i=0;i<n/2;i++){\n       for(int j=0;j<n;j++){\n         if(table[i][j] != table[n-i-1][j]){\n           ss.str(\"\");\n           ss.clear(stringstream::goodbit);\n           ss << i << j;\n           ss >> tmps;\n           //cout << \"test \" << tmps << endl;\n           mp[tmps] = table[i][j];\n          /* ss << n-i-1 << j;\n           ss >> tmps;\n           mp[tmp] = table[n-i-1][j];*/\n         }\n       }\n     }\n\n\n     if(mp.size() == 0){\n       count++;\n     }\n\n     for(int k=0;k<c-1;k++){\n\n       for(itr = mp.begin(); itr != mp.end(); ++itr) {\n       std::cout << \"key = \" << itr->first           // ???????????¨???\n                     << \", val = \" << itr->second << \"\\n\";    // ????????¨???\n       }\n\n       cin >> d;\n\n       for(int i=0;i<d;i++){\n\n         cout << i << endl;\n\n         for(int a=0;a<n;a++){\n           for(int b=0;b<n;b++){\n             if(table[a][b] == false){\n               cout << '0';\n             }\n             else{\n               cout << '1';\n             }\n             cout << ' ';\n           }\n           cout << endl;\n         }\n\n\n\n         is_delete = false;\n         cin >> x >> y;\n         table[x-1][y-1] = !table[x-1][y-1];\n         ss.str(\"\");\n         ss.clear(stringstream::goodbit);\n         ss << x-1 << y-1;\n         ss >> tmps;\n           //cout << \"unsigned \" << tmps << endl;\n         itr = mp.find(tmps);\n\n         if(itr != mp.end()){\n           is_delete = true;\n           mp.erase(tmps);\n\n           ss.str(\"\");\n           ss.clear(stringstream::goodbit);\n           ss << n-x << y-1;\n           ss >> tmps;\n           itr = mp.find(tmps);\n           if(itr != mp.end() && table[x-1][y-1] == table[n-x][y-1] && table[x-1][y-1] == table[x-1][n-y]){\n             mp.erase(tmps);\n           }\n\n           ss.str(\"\");\n           ss.clear(stringstream::goodbit);\n           ss << x-1 << n-y;\n           ss >> tmps;\n           itr = mp.find(tmps);\n           if(itr != mp.end() && table[x-1][y-1] == table[x-1][n-y] && table[x-1][y-1] == table[n-x][y-1]){\n             mp.erase(tmps);\n           }\n\n         }\n\n         else{\n\n           ss.str(\"\");\n           ss.clear(stringstream::goodbit);\n           ss << n-x << y-1;\n           ss >> tmps;\n           itr = mp.find(tmps);\n           if(itr != mp.end() && table[n-x][y-1] == table[x-1][y-1] && table[n-x][y-1] == table[n-x][n-y]){\n             is_delete = true;\n             mp.erase(tmps);\n\n             ss.str(\"\");\n             ss.clear(stringstream::goodbit);\n             ss << n-x << n-y;\n             ss >> tmps;\n             itr = mp.find(tmps);\n             if(itr != mp.end() && table[n-x][y-1] == table[n-x][n-y]){\n               mp.erase(tmps);\n             }\n\n           }\n\n           ss.str(\"\");\n           ss.clear(stringstream::goodbit);\n           ss << x-1 << n-y;\n           ss >> tmps;\n           itr = mp.find(tmps);\n\n           if(itr != mp.end() && table[x-1][n-y] == table[x-1][y-1] && table[x-1][n-y] == table[x-1][y-1]){\n\n             is_delete = true;\n             mp.erase(tmps);\n\n             ss.str(\"\");\n             ss.clear(stringstream::goodbit);\n             ss << n-x << n-y;\n             ss >> tmps;\n             itr = mp.find(tmps);\n             if(itr != mp.end() && table[n-x][y-1] == table[n-x][n-y]){\n               mp.erase(tmps);\n             }\n           }\n\n         }\n\n         if(!is_delete){\n           cout << \"through \" << x-1 << \" \" << y-1 << endl;\n           ss.str(\"\");\n           ss.clear(stringstream::goodbit);\n           ss << x-1 << y-1;\n           ss >> tmps;\n           mp[tmps] = table[x-1][y-1];\n         }\n\n       }\n/*\n       flag=true;\n\n       for(int i=0;i<n;i++){\n         for(int j=0;j<n/2;j++){\n           if(table[i][j] != table[i][n-j-1]){\n             flag = false;\n             break;\n           }\n         }\n         if(!flag){\n           break;\n         }\n       }\n\n       if(flag){\n         for(int i=0;i<n/2;i++){\n           for(int j=0;j<n;j++){\n             if(table[i][j] != table[n-i-1][j]){\n               flag = false;\n               break;\n             }\n           }\n           if(!flag){\n             break;\n           }\n         }\n       }\n*/\n\n\n\n\n       if(mp.size() == 0){\n         cout << \"is_count\" << k << endl;\n         count++;\n       }\n\n     }\n\n     cout << count << endl;\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint c,n;\nint con=0;;\nbool coa[1001][1001];\nbool changecheck[101];\nbool coacheck(){\n  if(con==0)return true;\n  else return false;\n}\nint main(){\n  cin >>c>>n;\n  for(int i=1;i<=n;i++){\n    string coaster;\n    cin >> coaster;\n    for(int j=1;j<=n;j++){\n      int kari =coaster[j-1]-48;\n      coa[i][j]=kari;\n    }\n  }\n\n  for(int i=1;i<=n/2;i++){\n    for(int j=1;j<=n/2;j++){\n      if((coa[i][j]==coa[i][n-j+1])&&(coa[i][j]==coa[n-i+1][j])&&(coa[i][j]==coa[n-i+1][n-j+1])){\n      }else{\n        con++;\n      }\n    }\n  }\n\n  int coacon =0;\n  if(coacheck())coacon++;\n  for(int i=1;i<c;i++){\n    int num;\n    cin >>num;\n    int a[num*2];\n    for(int j=0;j<num*2;j++){\n      cin >>a[j];\n    }\n    for(int j=0;j<num;j++){\n      if((coa[a[j*2]][a[j*2+1]]==coa[a[j*2]][n+1-a[j*2+1]])&&(coa[a[j*2]][a[j*2+1]]==coa[n-a[j*2]+1][a[j*2+1]])&&(coa[a[j*2]][a[j*2+1]]==coa[n-a[j*2]+1][n-a[j*2+1]+1])){\n        changecheck[j+1]=true;\n      }else{\n        changecheck[j+1]=false;\n      }\n    }\n    for(int j=0;j<num;j++){\n        if(coa[a[j*2]][a[j*2+1]]==true)coa[a[j*2]][a[j*2+1]]=false;\n        else coa[a[j*2]][a[j*2+1]]=true;\n      }\n\n      for(int j=0;j<num;j++){\n        if((coa[a[j*2]][a[j*2+1]]==coa[a[j*2]][n+1-a[j*2+1]])&&(coa[a[j*2]][a[j*2+1]]==coa[n-a[j*2]+1][a[j*2+1]])&&(coa[a[j*2]][a[j*2+1]]==coa[n-a[j*2]+1][n-a[j*2+1]+1])){\n          if(changecheck[j+1]==false){\n            con--;\n          }\n        }else{\n          if(changecheck[j+1]==true){\n            con++;\n          }\n        }\n      }\n    if(coacheck())coacon++;\n  }\n  cout << coacon <<endl;\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef string str;\n#define down_queue(x) priority_queue<x>\n#define up_queue(x) priority_queue<x, vector<x>, greater<x>>\n#define vec(x) vector<x>\nll gcd(ll a,ll b){while(b){ll tmp = a % b;a = b;b = tmp;}return a;}\nll lcm(ll a,ll b){return a / gcd(a,b) * b;}\n#define rep(x, y) for(int x = 0; x < (y); x++)\n#define rrep(x, y) for(int x = (y); x >= 0; x--)\n#define REP(x, z, y) for(int x = (z); x < (y); x++)\n#define RREP(x, z, y) for(int x = (y); x >= (z); x--)\n#define all(x) x.begin(), x.end()\n#define split_str(str, sp_word) istringstream stream(str); string res; for(int cnt = 0; getline(stream,res,sp_word); cnt++)\n#define digit(x) ((int)log10((double)(x)) + 1)\n#define mp(x,y) make_pair(x,y)\n#define pb(x) push_back(x)\n#define pf(x) push_front(x)\n#define out(x) for(auto i : x) cout << i << \" \"; cout << endl;\n#define outln(x) for(auto i : x) cout << i << \" \" << endl;\n#define vec_cpy(to,from) copy(all(to),back_inserter(from))\n#define ary_cpy(to,from) memcpy(to, from, sizeof from)\n#define MOD = 1000000007; \n#ifdef DEBUG\n#define debug_echo(e) cout << \"|\" << __LINE__ << \"| \" << e << endl\n#define debug_var(e) cout << \"|\" << __LINE__ << \"| \" << #e << \": \" << e << endl\n#define debug_echo_dp(dp, N) { cout << \"[ \"; rep(cnt, N) cout << dp[cnt] << \" \";  cout << \"]\" << endl; }\n#else\n#define debug_echo(e)\n#define debug_var(e)\n#define debug_echo_dp(dp, N)\n#endif\n\nint main(){\n  int C,n,d,r,c,ans = 0; cin >> C >> n;\n  int harf = n / 2;\n  //debug_var(harf);\n  vec(bool) h[harf],w[n],h_goal(n,true),w_goal(harf,true);\n  //rep(i,harf) h[i].resize(n);\n  //rep(i,n) w[i].resize(harf);\n  str p[n];\n\n  rep(i,n) cin >> p[i];\n\n  function<bool(vec(bool)*, vec(bool)*)> is_match = [&](vec(bool)* h, vec(bool)* w) {\n    bool h_result;\n    bool w_result;\n    rep(i,harf)\n      if(h[i] != h_goal) return false;\n\n    rep(i,n) \n      if(w[i] != w_goal) return false;\n\n    return true;\n  };\n\n  //????????????????????¨\n  rep(i,harf){\n    rep(j,n) h[i].pb(p[i][j] == p[n - i - 1][j]);\n    //debug_echo_dp(h[i],h[i].size());\n  }\n\n  //?¨??????????????????¨\n  rep(i,n){\n    rep(j,harf) w[i].pb(p[i][j] == p[i][n - j - 1]);\n    //debug_echo_dp(w[i],w[i].size());\n  }\n\n  if(is_match(h,w)) ans++;\n\n  rep(i,C - 1){\n    cin >> d;\n    rep(i,d){\n      cin >> r >> c;\n      r--;c--;\n      //debug_echo(r << \" - \" << c);\n      //debug_echo(\"h \" << (r >= harf ? n - r - 1 : r) << \" : \" << c << \" in \" << !h[(r >= harf ? n - r - 1 : r)][c]);\n      h[(r >= harf ? n - r - 1 : r)][c] = !h[(r >= harf ? n - r - 1 : r)][c];\n      //debug_echo(\"w \" << r << \" : \" << (c >= harf ? n - c - 1 : c) << \" \" << !w[r][(c >= harf ? n - c - 1 : c)]);\n      w[r][(c >= harf ? n - c - 1 : c)] = !w[r][(c >= harf ? n - c - 1 : c)];\n    } \n\n    if(is_match(h,w)) ans++;\n  }\n\n  cout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\nusing i64 = int64_t;\n\nsigned main(){\n    \n    int c, n;\n    cin >> c >> n;\n    vector<vector<int>> a(n, vector<int>(n));\n    for(auto& x : a){\n        string s;\n        cin >> s;\n        for(int i = 0; i < n; ++i)\n            x[i] = (s[i] == '1');\n    }\n        \n    auto f = [&](int i, int j){\n        return !(\n            a[i][j] == a[i][n - 1 - j] &&\n            a[i][j] == a[n - 1 - i][j] &&\n            a[i][j] == a[n - 1 - i][n - 1 - j]);\n    };\n    \n    int cnt = 0;\n    int m = n >> 1;\n    for(int i = 0; i < m; ++i)\n        for(int j = 0; j < m; ++j)\n            if(f(i, j))\n                ++cnt;\n    \n    int ans = (cnt == 0);\n    for(int _ = 0; _ < c - 1; ++_){\n        int d;\n        cin >> d;\n        for(int i = 0; i < d; ++i){\n            int x, y;\n            cin >> x >> y;\n            --x, --y;\n            int bef = f(x, y);\n            a[x][y] ^= 1;\n            int aft = f(x, y);\n            cnt += aft - bef;\n        }\n        ans += (cnt == 0);\n    }\n    cout << ans << endl;\n    \n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <iomanip>\nusing namespace std;\n\nclass Coster {\npublic:\n\tCoster(int n);\n\t~Coster();\n\tvoid diff(const int& r, const int& c);\n\tint SymmetryNum();\n\tvoid SymCalc();\n\tbool** pixel;\nprivate:\n\tint symmetry;\n\tint N;\n};\nCoster::Coster(int n) {\n\tN = n;\n\tpixel = new bool*[n];\n\tfor (int i = 0; i < n; i++)\n\t\tpixel[i] = new bool[n];\n}\nCoster::~Coster() {\n\tdelete[] pixel;\n}\nvoid Coster::diff(const int& r, const int& c) {\n\n\tpixel[r-1][c-1] = !pixel[r-1][c-1];\n}\nint Coster::SymmetryNum() {\n\treturn symmetry;\n}\nvoid Coster::SymCalc() {\n\tchar same = 0;\n\tfor (int r = 0; r < N / 2; r++) {\n\t\tfor (int c = 0; c < N / 2; c++) {\n\t\t\tsame  = pixel[r][c];\n\t\t\tsame |= pixel[r][N - c - 1] << 1;\n\t\t\tsame |= pixel[N - r - 1][c] << 2;\n\t\t\tsame |= pixel[N - r - 1][N - c - 1] << 3;\n\t\t\tif (!(same == 0x0f || same == 0x00))\n\t\t\t\treturn;\n\t\t}\t\t\n\t}\n\tsymmetry++;\n}\n\nint main()\n{\n\tint C,N;\n\tcin >> C >> N;\n\tCoster coster(N);\n\tchar n;\n\tfor (int i = 0; i < N; i++) {\n\t\tfor (int j = 0; j < N; j++) {\n\t\t\tcin >> n;\n\t\t\tcoster.pixel[i][j] = (bool)(n - '0');\n\t\t}\n\t}\n\t\n\tcoster.SymCalc();\n\n\tfor (int I = 0; I < C-1; I++) {\n\t\tint D;\n\t\tcin >> D;\n\t\tfor (int i = 0; i < D; i++) {\n\t\t\tint r, c;\n\t\t\tcin >> r >> c;\n\t\t\tcoster.diff(r, c);\n\t\t}\n\t\tcoster.SymCalc();\n\t}\n\n\tcout << coster.SymmetryNum() << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nbool field[1000][1000];\nbool res[500][500];\nint c, n;\n\nvoid change(int y, int x) {\n  field[y][x] = !field[y][x];\n}\n\npair<int, int> init(int y, int x) {\n  int t = n - 1;\n  if (y >= n / 2 && x >= n / 2) {\n    return make_pair(t - y, t - x);\n  }\n  if (y >= n / 2) {\n    return make_pair(t - y, x);\n  }\n  if (x >= n / 2) {\n    return make_pair(y, t - x);\n  }\n  return make_pair(y, x);\n}\n\nbool same(int yy, int xx) {\n  int y, x;\n  tie(y, x) = init(yy, xx);\n  int res = 0;\n  int t = n - 1;\n  res += field[y][x];\n  res += field[t - y][x];\n  res += field[y][t - x];\n  res += field[t - y][t - x];\n  return res == 4 || res == 0;\n}\n\nint main() {\n  int cnt = 0;\n  cin >> c >> n;\n  for (int i = 0; i < n; ++i) {\n    for (int j = 0; j < n; ++j) {\n      scanf(\"%1d\", &field[i][j]);\n    }\n  }\n\n  for (int i = 0; i < n / 2; ++i) {\n    for (int j = 0; j < n / 2; ++j) {\n      res[i][j] = same(i, j);\n      cnt += res[i][j];\n    }\n  }\n\n  int ans = 0;\n  if (cnt == (n / 2) * (n / 2)) ans++;\n  for (int i = 0; i < c - 1; ++i) {\n    int q, y[100], x[100];\n    cin >> q;\n    for (int j = 0; j < q; ++j) {\n      cin >> y[j] >> x[j];\n      y[j]--; x[j]--;\n      change(y[j], x[j]);\n    }\n    for (int j = 0; j < q; ++j) {\n      bool ret = same(y[j], x[j]);\n      tie(y[j], x[j]) = init(y[j], x[j]);\n      if (ret && !res[y[j]][x[j]]) {\n        cnt++;\n        res[y[j]][x[j]] = ret;\n      } else if (!ret && res[y[j]][x[j]]) {\n        cnt--;\n        res[y[j]][x[j]] = ret;\n      }\n    }\n    if (cnt == (n / 2) * (n / 2)) {\n      ans++;\n    }\n  }\n  cout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<set>\n#include<algorithm>\nusing namespace std;\n\nclass Point{\npublic:\n  int x;\n  int y;\n  bool bin;\n};\n\nbool operator<(const Point& lp,const Point& rp){\n  return (lp.x + lp.y) < (rp.x + rp.y);\n}\n\nclass FourPoint{\npublic:\n  Point lu;\n  Point ru;\n  Point ld;\n  Point rd;\n  friend ostream& operator<<(ostream& os,const FourPoint& fp){\n    os << fp.lu.x << \" \" << fp.lu.y;\n    return os;\n  }\n};\n\nbool operator<(const FourPoint& lfp,const FourPoint& rfp){\n  return (lfp.lu.x < rfp.lu.x);// && (lfp.lu.y < rfp.lu.y) && (lfp.ru.x < rfp.ru.x) && (lfp.ru.y < rfp.ru.y) && (lfp.ld.x < rfp.ld.x) && (lfp.ld.y < rfp.ld.y) && (lfp.rd.x < rfp.rd.x) && (lfp.rd.y < rfp.rd.y);\n}\n\nint main(){\n\n    int c,n,d,x,y,count;\n\n    set<FourPoint> st;\n\n    set<FourPoint>::iterator itr;\n\n    Point ptmp[4];\n\n    FourPoint fptmp;\n\n    count = 0;\n\n    cin >> c >> n;\n\n    bool table[n][n];\n    string s[n];\n\n     for(int i=0;i<n;i++){\n         cin >> s[i];\n     }\n\n     for(int i=0;i<n;i++){\n       for(int j=0;j<n;j++){\n         if(s[i][j] == '0'){\n           table[i][j] =false;\n         }\n         else{\n           table[i][j] = true;\n         }\n       }\n     }\n\n     for(int i=0;i<n;i++){\n       for(int j=0;j<n/2;j++){\n         if(table[i][j] != table[i][n-j-1]){\n\n           ptmp[0].x = i; ptmp[0].y = j; ptmp[0].bin = table[i][j];\n           ptmp[1].x = n-i-1; ptmp[1].y = j; ptmp[1].bin = table[n-i-1][j];\n           ptmp[2].x = i; ptmp[2].y = n-j-1; ptmp[2].bin = table[i][n-j-1];\n           ptmp[3].x = n-i-1; ptmp[3].y = n-j-1; ptmp[3].bin = table[n-i-1][n-j-1];\n\n           sort(ptmp,ptmp+4);\n\n           fptmp.lu = ptmp[0];\n           if(ptmp[1].y < ptmp[2].y){\n             fptmp.ru = ptmp[1];\n             fptmp.ld = ptmp[2];\n           }\n           else{\n             fptmp.ru = ptmp[2];\n             fptmp.ld = ptmp[1];\n           }\n\n           fptmp.rd = ptmp[3];\n\n           st.insert(fptmp);\n         }\n       }\n     }\n\n\n     for(int i=0;i<n/2;i++){\n       for(int j=0;j<n;j++){\n         if(table[i][j] != table[n-i-1][j]){\n           ptmp[0].x = i; ptmp[0].y = j; ptmp[0].bin = table[i][j];\n           ptmp[1].x = n-i-1; ptmp[1].y = j; ptmp[1].bin = table[n-i-1][j];\n           ptmp[2].x = i; ptmp[2].y = n-j-1; ptmp[2].bin = table[i][n-j-1];\n           ptmp[3].x = n-i-1; ptmp[3].y = n-j-1; ptmp[3].bin = table[n-i-1][n-j-1];\n\n           sort(ptmp,ptmp+4);\n\n           fptmp.lu = ptmp[0];\n           if(ptmp[1].y < ptmp[2].y){\n             fptmp.ru = ptmp[1];\n             fptmp.ld = ptmp[2];\n           }\n           else{\n             fptmp.ru = ptmp[2];\n             fptmp.ld = ptmp[1];\n           }\n\n           fptmp.rd = ptmp[3];\n\n           st.insert(fptmp);\n         }\n       }\n     }\n\n    /* for(itr = st.begin(); itr != st.end(); ++itr) {\n        cout << *itr << \"\\n\";      // ????????¬???????????????????????????????????¨???\n    }*/\n\n\n     if(st.size() == 0){\n       count++;\n     }\n\n     for(int k=0;k<c-1;k++){\n\n      /* for(itr = st.begin(); itr != st.end(); ++itr) {\n       std::cout << \"key = \" << itr->first           // ???????????¨???\n                     << \", val = \" << itr->second << \"\\n\";    // ????????¨???\n       }*/\n\n       cin >> d;\n\n       /*for(int i=0;i<d;i++){\n\n         cout << i << endl;\n\n         for(int a=0;a<n;a++){\n           for(int b=0;b<n;b++){\n             if(table[a][b] == false){\n               cout << '0';\n             }\n             else{\n               cout << '1';\n             }\n             cout << ' ';\n           }\n           cout << endl;\n         }*/\n\n      for(int i=0;i<d;i++){\n\n         cin >> x >> y;\n         table[x-1][y-1] = !table[x-1][y-1];\n         //cout << \"unsigned \" << tmps << endl;\n\n         ptmp[0].x = x-1; ptmp[0].y = y-1; ptmp[0].bin = table[x-1][y-1];\n         ptmp[1].x = n-x; ptmp[1].y = y-1; ptmp[1].bin = table[n-x][y-1];\n         ptmp[2].x = x-1; ptmp[2].y = n-y; ptmp[2].bin = table[x-1][n-y];\n         ptmp[3].x = n-x; ptmp[3].y = n-y; ptmp[3].bin = table[n-x][n-y];\n\n         sort(ptmp,ptmp+4);\n\n         fptmp.lu = ptmp[0];\n         if(ptmp[1].y < ptmp[2].y){\n           fptmp.ru = ptmp[1];\n           fptmp.ld = ptmp[2];\n         }\n\n         else{\n           fptmp.ru = ptmp[2];\n           fptmp.ld = ptmp[1];\n         }\n\n         fptmp.rd = ptmp[3];\n\n         itr = st.find(fptmp);\n\n         if(itr != st.end()){\n           if(fptmp.lu.bin == fptmp.ru.bin && fptmp.ru.bin == fptmp.ld.bin && fptmp.ld.bin == fptmp.rd.bin){\n             st.erase(itr);\n           }\n         }\n         else{\n           st.insert(fptmp);\n         }\n\n       }\n\n\n\n\n\n\n\n       if(st.size() == 0){\n         //cout << \"f1d2a \" << k+2 << endl;\n         count++;\n       }\n\n     }\n\n     cout << count << endl;\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<string>\n#include<cmath>\n#include<vector>\n#include<functional>\n#include<stack>\n#include<set>\n\nusing namespace std;\nset<int> memo;\nint main() {\n\tint c, n, ans = 0;\n\tcin >> c >> n;\n\tvector<string> a(n);\n\tfor (int i = 0; i < n; i++)cin >> a[i];\n\tfor (int i = 0; i < n / 2; i++) {\n\t\tfor (int j = 0; j < n / 2; j++) {\n\t\t\tif (a[i][j] == a[i][n - 1 - j] && a[i][j] == a[n - 1 - i][j] && a[i][j] == a[n - 1 - i][n - 1 - j]);\n\t\t\telse {\n\t\t\t\tmemo.insert(i*n + j);\n\t\t\t}\n\t\t}\n\t}\n\tif (memo.size() == 0)ans++;\n\tfor (int h = 1; h < c; h++) {\n\t\tint d, dx[100], dy[100];\n\t\tcin >> d;\n\t\tfor (int i = 0; i < d; i++) {\n\t\t\tcin >> dx[i] >> dy[i];\n\t\t\tdx[i]--; dy[i]--;\n\t\t\tif (a[dx[i]][dy[i]] == '0')a[dx[i]][dy[i]] = '1';\n\t\t\telse a[dx[i]][dy[i]] = '0';\n\t\t\tif (dx[i] >= n / 2)dx[i] = n - 1 - dx[i];\n\t\t\tif (dy[i] >= n / 2)dy[i] = n - 1 - dy[i];\n\t\t}\n\t\tfor (int i = 0; i < d; i++) {\n\t\t\tif (a[dx[i]][dy[i]] == a[dx[i]][n - 1 - dy[i]] && a[dx[i]][dy[i]] == a[n - 1 - dx[i]][dy[i]] && a[dx[i]][dy[i]] == a[n - 1 - dx[i]][n - 1 - dy[i]]) {\n\t\t\t\tmemo.erase(dx[i] * n + dy[i]);\n\t\t\t\tcout << dx[i] * n + dy[i] << endl;\n\t\t\t\tmemo.erase((n - 1 - dx[i])*n + dy[i]);\n\t\t\t\tmemo.erase(dx[i] * n + n - 1 - dy[i]);\n\t\t\t\tmemo.erase((n - 1 - dx[i])*n + n - 1 - dy[i]);\n\t\t\t}\n\t\t\telse memo.insert(dx[i]*n+dy[i]);\n\t\t}\n\t\tif (memo.size() == 0)ans++;\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\ntypedef long long ll;\ntypedef long double ld;\nconst int INF=1e9,MOD=1e9+7,ohara=1e6+10;\nconst ll LINF=1e18;\nusing namespace std;\n    \n#define rep(i,n) for(int (i)=0;(i)<(int)(n);(i)++)\n#define rrep(i,a,b) for(int i=(a);i<(b);i++)\n#define rrrep(i,a,b) for(int i=(a);i>=(b);i--)\n#define all(v) (v).begin(), (v).end()\n#define Size(n) (n).size()\n#define Cout(x) cout<<(x)<<endl\n#define doublecout(a) cout<<fixed<<setprecision(15)<<a<<endl;\n#define Cerr(x) cerr<<(x)<<endl\n#define fi first\n#define se second\n#define P pair<ll,ll> \n#define m_p make_pair\n#define V vector<ll> \n#define U_MAP unordered_map<ll,ll>\n#define pq priority_queue<ll>\n#define rpq priority_queue<ll,vector<ll>,greater<ll>>\n#define p_b push_back\n    \nll n,cnt,ans,a,b,c,d,tmp,tmpp,m,h,w,x,y,sum,pos,k;\nld doua;\nint dy[]={1,0,-1,0};\nint dx[]={0,1,0,-1};\n//int dy[]={-1,0,1,-1,1,-1,0,1};\n//int dx[]={-1,-1,-1,0,0,1,1,1};\nstring alph(\"abcdefghijklmnopqrstuvwxyz\");\nchar s[2000][2000];\nbool fl;\nstruct edge{int to,cost;};\nll dat[2000][2000];\n    \n//-------------------------↓↓↓↓↓↓------------------------\n    \n//------ 自分を天才だと信じる ------\n    \nint main(void){\n    cin.tie(0);\n    cout.tie(0);\n    ios::sync_with_stdio(false);\n    \n    cin>>c>>n;\n    rrep(i,1,n+1)rrep(j,1,n+1)cin>>s[i][j];\n    int ok=1;\n    int judge=1;\n    ll want=0;\n    rrep(i,1,n/2+1){\n        rrep(j,1,n/2+1){\n            ok=1;\n            if(s[i][j]!=s[i][n-j+1])ok=0;\n            else if(s[i][j]!=s[i+(n/2-i)*2+1][j])ok=0;\n            else if(s[i][j]!=s[i+(n/2-i)*2+1][j+(n/2-j)*2+1])ok=0;\n            else if(s[i][j+(n/2-j)*2+1]!=s[i+(n/2-i)*2+1][j])ok=0;\n            else if(s[i][j+(n/2-j)*2+1]!=s[i+(n/2-i)*2+1][j+(n/2-j)*2+1])ok=0;\n            else if(s[i+(n/2-i)*2+1][j]!=s[i+(n/2-i)*2+1][j+(n/2-j)*2+1])ok=0;\n            if(!ok){\n                judge=0;\n                want++;\n            }\n        }\n    }\n    if(judge)ans=1;\n    while(1){\n        if(c==1)break;\n         c--;\n        cin>>d;\n        rep(i,d){\n            cin>>a>>b;\n            if(a>n/2)tmp=n-a+1;\n            else tmp=a;\n            if(b>n/2)tmpp=n-b+1;\n            else tmpp=b;\n\n            int ok1=1;\n            if(s[tmp][tmpp]!=s[tmp][tmpp+(n/2-tmpp)*2+1])ok1=0;\n            else if(s[tmp][tmpp]!=s[tmp+(n/2-tmp)*2+1][tmpp])ok1=0;\n            else if(s[tmp][tmpp]!=s[tmp+(n/2-tmp)*2+1][tmpp+(n/2-tmpp)*2+1])ok1=0;\n            else if(s[tmp][tmpp+(n/2-tmpp)*2+1]!=s[tmp+(n/2-tmp)*2+1][tmpp])ok1=0;\n            else if(s[tmp][tmpp+(n/2-tmpp)*2+1]!=s[tmp+(n/2-tmp)*2+1][tmpp+(n/2-tmpp)*2+1])ok1=0;\n            else if(s[tmp+(n/2-tmp)*2+1][tmpp]!=s[tmp+(n/2-tmp)*2+1][tmpp+(n/2-tmpp)*2+1])ok1=0;\n\n            if(s[a][b]=='1')s[a][b]='0';\n            else s[a][b]='1';\n\n            int ok2=1;\n           if(s[tmp][tmpp]!=s[tmp][tmpp+(n/2-tmpp)*2+1])ok2=0;\n            else if(s[tmp][tmpp]!=s[tmp+(n/2-tmp)*2+1][tmpp])ok2=0;\n            else if(s[tmp][tmpp]!=s[tmp+(n/2-tmp)*2+1][tmpp+(n/2-tmpp)*2+1])ok2=0;\n            else if(s[tmp][tmpp+(n/2-tmpp)*2+1]!=s[tmp+(n/2-tmp)*2+1][tmpp])ok2=0;\n            else if(s[tmp][tmpp+(n/2-tmpp)*2+1]!=s[tmp+(n/2-tmp)*2+1][tmpp+(n/2-tmpp)*2+1])ok2=0;\n            else if(s[tmp+(n/2-tmp)*2+1][tmpp]!=s[tmp+(n/2-tmp)*2+1][tmpp+(n/2-tmpp)*2+1])ok2=0;\n\n            if(ok1==ok2)continue;\n            if(ok1==0)want--;\n            else want++;\n        }\n        if(want==0)ans++;\n    }\n    Cout(ans);\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <set>\n#include <algorithm>\nusing namespace std;\n\nint main() {\n    int C,N;\n    cin >> C >> N;\n    int P[N][N];\n\n    for(int i=0;i<N;i++){\n        string s;\n        cin >> s;\n        for(int j=0;j<N;j++){\n            P[i][j] = (s[j] == '1');\n        }\n    }\n\n    set<pair<int,int>> nS;\n\n    for(int i=0;i<N/2;i++){\n        for(int j=0;j<N/2;j++){\n            int p = P[i][j] + P[N-1-i][j] + P[i][N-1-j] + P[N-1-i][N-1-j];\n            if(p == 1 || p == 2 || p == 3)  nS.insert({i,j});\n        }\n    }\n\n    int ans = (nS.size() == 0);\n    \n    for(int i=0;i<C - 1;i++){\n        int D; cin >> D;\n        for(int j=0;j<D;j++){\n            int r,c;\n            cin >> r >> c;\n            r--, c--;\n            P[r][c] = !(P[r][c]);\n            int p = P[r][c] + P[N-1-r][c] + P[r][N-1-c] + P[N-1-r][N-1-c];\n\n            r = min(r,N-1-r);\n            c = min(c ,N-1-c);\n\n            if(p == 1 || p == 2 || p == 3) nS.insert({r,c});\n            else if(p == 0 || p == 4) nS.erase({r,c});\n        }\n        if(nS.size() == 0) ans++;\n    }\n    \n    cout << ans << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef string str;\n#define down_queue(x) priority_queue<x>\n#define up_queue(x) priority_queue<x, vector<x>, greater<x>>\n#define vec(x) vector<x>\nll gcd(ll a,ll b){while(b){ll tmp = a % b;a = b;b = tmp;}return a;}\nll lcm(ll a,ll b){return a / gcd(a,b) * b;}\n#define rep(x, y) for(int x = 0; x < (y); x++)\n#define rrep(x, y) for(int x = (y); x >= 0; x--)\n#define REP(x, z, y) for(int x = (z); x < (y); x++)\n#define RREP(x, z, y) for(int x = (y); x >= (z); x--)\n#define all(x) x.begin(), x.end()\n#define split_str(str, sp_word) istringstream stream(str); string res; for(int cnt = 0; getline(stream,res,sp_word); cnt++)\n#define digit(x) ((int)log10((double)(x)) + 1)\n#define mp(x,y) make_pair(x,y)\n#define pb(x) push_back(x)\n#define pf(x) push_front(x)\n#define out(x) for(auto i : x) cout << i << \" \"; cout << endl;\n#define outln(x) for(auto i : x) cout << i << \" \" << endl;\n#define vec_cpy(to,from) copy(all(to),back_inserter(from))\n#define ary_cpy(to,from) memcpy(to, from, sizeof from)\n#define MOD = 1000000007; \n#ifdef DEBUG\n#define debug_echo(e) cout << \"|\" << __LINE__ << \"| \" << e << endl\n#define debug_var(e) cout << \"|\" << __LINE__ << \"| \" << #e << \": \" << e << endl\n#define debug_echo_dp(dp, N) { cout << \"[ \"; rep(cnt, N) cout << dp[cnt] << \" \";  cout << \"]\" << endl; }\n#else\n#define debug_echo(e)\n#define debug_var(e)\n#define debug_echo_dp(dp, N)\n#endif\n\nint main(){\n  int C,n,d,r,c,ans = 0; cin >> C >> n;\n  int harf = n / 2;\n  int h_cnt = 0;\n  int w_cnt = 0;\n  vec(bool) h[harf],w[n],h_goal(n,true),w_goal(harf,true);\n  str p[n];\n\n  rep(i,n) cin >> p[i];\n\n  //????????????????????¨\n  rep(i,harf)\n    rep(j,n){\n      h[i].pb(p[i][j] == p[n - i - 1][j]);\n      if(p[i][j] != p[n - i - 1][j]) h_cnt++;\n    }\n\n  //?¨??????????????????¨\n  rep(i,n)\n    rep(j,harf){\n      w[i].pb(p[i][j] == p[i][n - j - 1]);\n      if(p[i][j] != p[i][n - j - 1]) w_cnt++;\n    }\n\n  debug_var(h_cnt);\n  debug_var(w_cnt);\n  if(w_cnt == 0 && h_cnt == 0) ans++;\n\n  rep(i,C - 1){\n    cin >> d;\n    rep(i,d){\n      cin >> r >> c;\n      r--; c--;\n\n      if(h[(r >= harf ? n - r - 1 : r)][c]) h_cnt++;\n      else h_cnt--;\n\n      if(w[r][(c >= harf ? n - c - 1 : c)]) w_cnt++;\n      else w_cnt--;\n\n      //????????¨???????????????????????¢\n      h[(r >= harf ? n - r - 1 : r)][c] = !h[(r >= harf ? n - r - 1 : r)][c];\n      w[r][(c >= harf ? n - c - 1 : c)] = !w[r][(c >= harf ? n - c - 1 : c)];\n    } \n\n    debug_var(h_cnt);\n    debug_var(w_cnt);\n    if(h_cnt == 0 && w_cnt == 0) ans++;\n  }\n\n  "
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\nusing namespace std;\nint C,N;\nint num=0;\nbool p[1001][1001];\n\nbool Dis(){\n    int cnt=0;\n    for(int i=1;i<=N/2;i++){\n        for(int j=1;j<=N/2;j++){\n            if(!(p[i][j]^p[N+1-i][j])) cnt++;\n            else return 0;\n            if(!(p[i][j]^p[i][N+1-j])) cnt++;\n            else return 0;\n            if(!(p[i][j]^p[N+1-i][N+1-j])) cnt++;\n            return 0;\n        }\n    }\n    return 1;\n}\n\nint main(){\n    \n    cin>>C>>N;\n    for(int i=1;i<=N;i++){\n        string S;\n        cin>>S;\n        for(int j=1;j<=N;j++){\n            p[i][j]=S[j-1]-'0';\n        }\n    }\n    \n    num+=Dis();\n    for(int i=1;i<=C-1;i++){\n        int D;\n        cin>>D;\n        for(int j=1;j<=D;j++){\n            int r,c;\n            cin>>r>>c;\n            p[r][c]^=1;\n        }\n        num+=Dis();\n    }\n\n    cout<<num<<endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nbool Symmetry(int P[1000][1000],int n)\n{\n\tfor(int i=0;i<=n/2;i++){\n\t\tfor(int j=0;j<n;j++){\n\t\t\tif(P[i][j]!=P[n-i-1][j]){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\t\n\treturn true;\n}\t\n\nint main()\n{\n\tint C,N;\n\tcin>>C>>N;\n\t\n\tint p[1000][1000]={0};\n\t\n\tfor(int i=0;i<N;i++){\n\t\tfor(int j=0;j<N;j++){\n\t\t\tcin>>p[i][j];\n\t\t}\n\t}\n\t\n\tint count=0;\n\t\n\tif(Symmetry(p,N)){\n\t\tcount++;\n\t}\n\t\n\tint D,r,c;\n\n\tfor(int i=1;i<C;i++){\n\t\tcin>>D;\n\t\tfor(int j=0;j<D;j++){\n\t\t\tcin>>r>>c;\n\t\t\tp[r][c]=!p[r][c];\n\t\t}\n\t\tif(Symmetry(p,N)){\n\t\t\tcount++;\n\t\t}\n\t}\n\t\n\tcout<<count<<endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nshort table[1000][1000];\n\nint main(){\n\n    int c,n,ans=0,N;\n    char cha;\n    bool flag;\n\n    cin >> c >> n;\n\n    N = n-1;\n\n    for(int i=0; i<n; i++){\n      for(int j=0; j<n; j++){\n          cin >> cha;\n          table[i][j] = cha=='0' ? 0 : 1;\n      }\n    }\n\n    flag = true;\n\n    for(int i=0; i<n/2; i++){\n      for(int j=0; j<n/2; j++){\n          /*int tmp = (table[i][j] + table[i][N-j] + table[N-i][j] + table[N-i][N-j]);\n          cout << tmp << endl;*/\n          if( (table[i][j] + table[i][N-j] + table[N-i][j] + table[N-i][N-j]) % 4 != 0){\n            flag = false;\n            break;\n          }\n      }\n      if(!flag){\n        break;\n      }\n    }\n\n    if(flag){\n      ans++;\n    }\n\n    int d,w,h;\n\n    while(--c){\n\n      //map<int,bool> m;\n\n      cin >> d;\n\n      int wid[d];\n      int hei[d];\n\n      for(int i=0;i<d;i++){\n        cin >> w >> h;\n        w--;\n        h--;\n        wid[i] = w;\n        hei[i] = h;\n        table[w][h] = !table[w][h];\n        /*m[w*N+h] = false;\n        m[w*N+(N-h)] = false;\n        m[(N-w)*N+h] = false;\n        m[(N-w)*N+(N-h)] = false;*/\n      }\n\n      flag = true;\n\n      for(int i=0;i<d;i++){\n        int tmpw = wid[i],tmph = hei[i];\n        if( (table[tmpw][tmph] + table[tmpw][N-tmph] + table[N-tmpw][tmph] + table[N-tmpw][N-tmph]) % 4 != 0){\n          flag = false;\n          break;\n        }\n      }\n\n      if(flag){\n        ans++;\n      }\n\n      /*for(int i=0; i<n; i++){\n        for(int j=0; j<n; j++){\n            cout << table[i][j];\n        }\n        cout << endl;\n      }*/\n\n    }\n\n    cout << ans << endl;\n\n\n\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\nusing namespace std;\nint C,N;\nint num=0;\nbool p[1001][1001];\n\nbool Dis(){\n    int cnt=0;\n    for(int i=1;i<=N/2;i++){\n        for(int j=1;j<=N/2;j++){\n            if(p[i][j]==p[N+1-i][j]) cnt++;\n            if(p[i][j]==p[i][N+1-j]) cnt++;\n            if(p[i][j]==p[N+1-i][N+1-j]) cnt++;\n        }\n    }\n    return (cnt==N*N*3/4);\n}\n\nint main(){\n    \n    cin>>C>>N;\n    for(int i=1;i<=N;i++){\n        string S;\n        cin>>S;\n        for(int j=1;j<=N;j++){\n            p[i][j]=S[j-1]-'0';\n        }\n    }\n    \n    num+=Dis();\n\n    for(int i=1;i<=C-1;i++){\n        int D;\n        cin>>D;\n        for(int j=1;j<=D;j++){\n            int r,c;\n            cin>>r>>c;\n            p[r][c]^=1;\n        }\n        num+=Dis();\n    }\n\n    cout<<num<<endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdlib>\n#include <iostream>\n#include <string>\n#include <typeinfo>\n#include <algorithm>\nusing namespace std;\n\nint ctoi(char c) {\n\tswitch (c) {\n\tcase '0': return 0;\n\tcase '1': return 1;\n\tcase '2': return 2;\n\tcase '3': return 3;\n\tcase '4': return 4;\n\tcase '5': return 5;\n\tcase '6': return 6;\n\tcase '7': return 7;\n\tcase '8': return 8;\n\tcase '9': return 9;\n\tdefault: return -1;\n\t}\n}\nbool symmetry(char **coster ,int n) {\n\tfor (int i = 0; i < n / 2; i++) {\n\t\tfor (int j = 0; j < n / 2; j++) {\n\t\t\tint val = ctoi(coster[i][j]) + ctoi(coster[n - i - 1][j]) + ctoi(coster[i][n - j - 1]) + ctoi(coster[n - i - 1][n - j - 1]);\n\t\t\tif (val != 0 && val != 4) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\treturn true;\n}\nint main() {\n\tint C, N;\n\tint sym_coster = 0;\n\tcin >> C >> N; \n\tchar **coster = new char*[N];\n\tfor (int i = 0; i < N; i++)\n\t\tcoster[i] = new char[N];\n\n\tfor (int i = 0; i < N; i++)\n\t\tfor (int j = 0; j < N; j++)\n\t\t\tcin >> coster[i][j];\n\n\tsym_coster += symmetry(coster, N);\n\tint D,r,c;\n\tfor (int I = 0; I < C; I++) {\n\t\tcin >> D;\n\t\tfor (int i = 0; i < D; i++) {\n\t\t\tcin >> r >> c;\n\t\t\tif (coster[r-1][c-1] == '0')\n\t\t\t\tcoster[r-1][c-1] = '1';\n\t\t\telse\n\t\t\t\tcoster[r-1][c-1] = '0';\n\t\t}\n\t\tsym_coster += symmetry(coster, N);\n\t}\n\tcout << sym_coster << endl;\n\tint i;\n\tcin >> i;\n\tdelete[] coster;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint ctoi(char c) {\n\tswitch (c) {\n\tcase '0': return 0;\n\tcase '1': return 1;\n\tcase '2': return 2;\n\tcase '3': return 3;\n\tcase '4': return 4;\n\tcase '5': return 5;\n\tcase '6': return 6;\n\tcase '7': return 7;\n\tcase '8': return 8;\n\tcase '9': return 9;\n\tdefault: return -1;\n\t}\n}\n\nbool symmetry(char **coster ,int n) {\n\tfor (int i = 0; i < n / 2; i++) {\n\t\tfor (int j = 0; j < n / 2; j++) {\n\t\t\tint val = ctoi(coster[i][j]) + ctoi(coster[n - i - 1][j]) + ctoi(coster[i][n - j - 1]) + ctoi(coster[n - i - 1][n - j - 1]);\n\t\t\tif (val != 0 && val != 4) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\treturn true;\n}\nint main() {\n\tint C, N;\n\tint sym_coster = 0;\n\tcin >> C >> N; \n\tchar **coster = new char*[N];\n\tfor (int i = 0; i < N; i++)\n\t\tcoster[i] = new char[N];\n\n\tfor (int i = 0; i < N; i++)\n\t\tfor (int j = 0; j < N; j++)\n\t\t\tcin >> coster[i][j];\n\n\tsym_coster += symmetry(coster, N);\n\tint D,r,c;\n\tfor (int I = 0; I < C; I++) {\n\t\tcin >> D;\n\t\tfor (int i = 0; i < D; i++) {\n\t\t\tcin >> r >> c;\n\t\t\tif (coster[r-1][c-1] == '0')\n\t\t\t\tcoster[r-1][c-1] = '1';\n\t\t\telse\n\t\t\t\tcoster[r-1][c-1] = '0';\n\t\t}\n\t\tsym_coster += symmetry(coster, N);\n\t}\n\tcout << sym_coster << endl;\n\tdelete[] coster;\n\tint i;\n\tcin >> i;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define LL long long int\nusing namespace std;\nint flg1[1000][1000],flg2[1000][1000];\nint main(void)\n{\n\tint i,j,k,c,n,cnt,d,x,y,sum;\n\tstring s[1000];\n\tcin>>c>>n;\n\tfor(i=0;i<n;i++) cin>>s[i];\n\tfor(i=0;i<n;i++) {\n\t\tfor(j=0;j<n;j++) {\n\t\t\tflg1[i][j]=flg2[i][j]=0;\n\t\t}\n\t}\n\tcnt=0;\n\tfor(i=0;i<n;i++) {\n\t\tfor(j=0;j<n/2;j++) {\n\t\t\tif(s[i][j]!=s[i][n-1-j]) flg1[i][j]=1,flg1[i][n-1-j]=1,cnt++;\n\t\t}\n\t}\n\tfor(i=0;i<n/2;i++) {\n\t\tfor(j=0;j<n;j++) {\n\t\t\tif(s[i][j]!=s[n-1-i][j]) flg2[i][j]=1,flg2[n-1-i][j]=1,cnt++;\n\t\t}\n\t}\n\tif(cnt==0) sum=1;\n\telse sum=0;\n\tfor(i=0;i<c-1;i++) {\n\t\tcin>>d;\n\t\tfor(j=0;j<d;j++) {\n\t\t\tcin>>y>>x;\n\t\t\ty--,x--;\t\n\t\t\tif(flg1[y][x]==1) {\n\t\t\t\tcnt--;\n\t\t\t\tflg1[y][x]=0,flg1[y][n-1-x]=0; \n\t\t\t}\n\t\t\telse {\n\t\t\t\tcnt++;\n\t\t\t\tflg1[y][x]=1,flg1[y][n-1-x]=1;\n\t\t\t}\n\t\t\tif(flg2[y][x]==1) {\n\t\t\t\tcnt--;\n\t\t\t\tflg2[y][x]=0,flg2[n-1-y][x]=0;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tcnt++;\n\t\t\t\tflg2[y][x]=1,flg2[n-1-y][x]=1;\n\t\t\t}\n\t\t}\n\t\tif(cnt==0) sum++;\n\t}\n\tcout<<sum<<endl;\n}\n\t"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include<vector>\n#include<algorithm>\n#include<string>\n#include<map>\n#include<set>\n#include<stack>\n#include<queue>\n#include<math.h>\nusing namespace std;\ntypedef long long ll;\n#define int long long\ntypedef vector<int> VI;\ntypedef pair<int, int> pii;\n#define fore(i,a) for(auto &i:a)\n#define REP(i,n) for(int i=0;i<n;i++)\n#define eREP(i,n) for(int i=0;i<=n;i++)\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define eFOR(i,a,b) for(int i=(a);i<=(b);++i)\n#define SORT(c) sort((c).begin(),(c).end())\n#define rSORT(c) sort((c).rbegin(),(c).rend())\n#define LB(x,a) lower_bound((x).begin(),(x).end(),(a))\n#define UB(x,a) upper_bound((x).begin(),(x).end(),(a))\n#define INF 1000000000\n#define LLINF 9223372036854775807\n#define mod 1000000007\n//vector<vector<int> > dp;\n//vector<vector<vector<int> > > vvvi;\n//dp=vector<vector<int> >(N, vector<int>(M,0));\n//vector<pair<int,int> > v;\n//v.push_back(make_pair(x,y));\n//priority_queue<int,vector<int>, greater<int> > q2;\n\n\n\nsigned main(){\ncin.tie(0);\nios::sync_with_stdio(false);\n\n\tint C, N;\n\tint P[1010][1010];\n\tint ans = 0;\n\n\tcin >> C >> N;\n\tREP(i, N) {\n\t\tstring S;\n\t\tcin >> S;\n\t\tREP(j, N) {\n\t\t\tP[i][j] = S[j] - '0';\n\t\t}\n\t}\n\n\tint tmp[510][510] = { 0 };\n\tint k = N - 1, m = N - 1;\n\n\n\tREP(i, N / 2) {\n\t\tk = N - 1;\n\t\tREP(j, N / 2) {\n\t\t\ttmp[i][j] += P[i][j];\n\t\t\ttmp[i][j] += P[i][k];\n\t\t\ttmp[i][j] += P[m][j];\n\t\t\ttmp[i][j] += P[m][k];\n\t\t\tk--;\n\t\t\t//cout << tmp[i][j];\n\t\t}\n\t\t//cout << endl;\n\t\tm--;\n\t}\n\tbool FF = true;\n\n\tREP(i, N / 2) {\n\t\tREP(j, N / 2) {\n\t\t\tif (tmp[i][j] != 0 && tmp[i][j] != 4) {\n\t\t\t\tFF = false;\n\t\t\t}\n\t\t}\n\t}\n\n\tif(FF)ans++;\n\n\n\tREP(i, C - 1) {\n\t\tint D;\n\t\tcin >> D;\n\t\tREP(j, D) {\n\t\t\tint a, b;\n\t\t\tbool F=false;\n\t\t\tcin >> a >> b;\n\t\t\ta--;\n\t\t\tb--;\n\t\t\tif (P[a][b]) {\n\t\t\t\tF = true;\n\t\t\t\tP[a][b]--;\n\t\t\t}\n\t\t\telse\n\t\t\t\tP[a][b]++;\n\n\t\t\tif (a < N / 2 && b >= N / 2)b = N - b - 1;\n\t\t\telse if (a >= N / 2 && b >= N / 2) {\n\t\t\t\tb = N - b - 1;\n\t\t\t\ta = N - a - 1;\n\t\t\t}\n\t\t\telse if(a>=N/2 && b<N/2){\n\t\t\t\ta = N - a - 1;\n\t\t\t}\n\t\t\tif (F)\n\t\t\t\ttmp[a][b]--;\n\t\t\telse\n\t\t\t\ttmp[a][b]++;\n\t\t}\n\t\tFF = true;\n\t\t\n\t\tREP(i, N / 2) {\n\t\t\tREP(j, N / 2) {\n\t\t\t\tif (tmp[i][j] != 0 && tmp[i][j] != 4) {\n\t\t\t\t\tFF = false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (FF)ans++;\n\t}\n\n\n\tcout << ans << endl;\n\n\treturn 0;\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing ll=long long;\nusing ld=long double;\nusing ull=unsigned long long;\nusing uint=unsigned int;\nusing pcc=pair<char,char>;\nusing pii=pair<int,int>;\nusing pll=pair<ll,ll>;\nusing pdd=pair<double,double>;\nusing tuplis=pair<ll,pll>;\nusing tuplis2=pair<pll,ll>;\ntemplate<class T> using pq=priority_queue<T,vector<T>,greater<T>>;\nconst ll LINF=0x1fffffffffffffff;\nconst ll MINF=numeric_limits<ll>::max()/1000000000;\nconst int INF=0x3fffffff;\nconst ll MOD=1000000007;\nconst ll MODD=998244353;\nconst ld DINF=numeric_limits<ld>::infinity();\nconst ld EPS=1e-9;\nconst vector<ll>four{0,1,0,-1,0};\n#define _overload4(_1,_2,_3,_4,name,...) name\n#define _overload3(_1,_2,_3,name,...) name\n#define _rep1(n) for(ll i=0;i<n;++i)\n#define _rep2(i,n) for(ll i=0;i<n;++i)\n#define _rep3(i,a,b) for(ll i=a;i<b;++i)\n#define _rep4(i,a,b,c) for(ll i=a;i<b;i+=c)\n#define rep(...) _overload4(__VA_ARGS__,_rep4,_rep3,_rep2,_rep1)(__VA_ARGS__)\n#define _rrep1(n) for(ll i=n-1;i>=0;i--)\n#define _rrep2(i,n) for(ll i=n-1;i>=0;i--)\n#define _rrep3(i,a,b) for(ll i=b-1;i>=a;i--)\n#define _rrep4(i,a,b,c) for(ll i=a+(b-a-1)/c*c;i>=a;i-=c)\n#define rrep(...) _overload4(__VA_ARGS__,_rrep4,_rrep3,_rrep2,_rrep1)(__VA_ARGS__)\n#define each(i,a) for(auto &i:a)\n#define sum(...) accumulate(range(__VA_ARGS__),0LL)\n#define dsum(...) accumulate(range(__VA_ARGS__),double(0))\n#define _range(i) (i).begin(),(i).end()\n#define _range2(i,k) (i).begin(),(i).begin()+k\n#define _range3(i,a,b) (i).begin()+a,(i).begin()+b\n#define range(...) _overload3(__VA_ARGS__,_range3,_range2,_range)(__VA_ARGS__)\n#define _rrange(i) (i).rbegin(),(i).rend()\n#define _rrange2(i,k) (i).rbegin(),(i).rbegin()+k\n#define _rrange3(i,a,b) (i).rbegin()+a,(i).rbegin()+b\n#define rrange(...) _overload3(__VA_ARGS__,_rrange3,_rrange2,_rrange)(__VA_ARGS__)\n#define elif else if\n#define unless(a) if(!(a))\n#define mp make_pair\n#define mt make_tuple\n#define INT(...) int __VA_ARGS__;in(__VA_ARGS__)\n#define LL(...) ll __VA_ARGS__;in(__VA_ARGS__)\n#define ULL(...) ull __VA_ARGS__;in(__VA_ARGS__)\n#define STR(...) string __VA_ARGS__;in(__VA_ARGS__)\n#define CHR(...) char __VA_ARGS__;in(__VA_ARGS__)\n#define DBL(...) double __VA_ARGS__;in(__VA_ARGS__)\n#define vec(type,name,...) vector<type> name(__VA_ARGS__)\n#define VEC(type,name,size) vector<type> name(size);in(name)\n#define vv(type,name,h,...) vector<vector<type>>name(h,vector<type>(__VA_ARGS__))\n#define VV(type,name,h,...) vector<vector<type>>name(h,vector<type>(__VA_ARGS__));in(name)\n#define vvv(type,name,h,w,...) vector<vector<vector<type>>>name(h,vector<vector<type>>(w,vector<type>(__VA_ARGS__)))\ninline constexpr ll gcd(ll a,ll b){if(!a||!b)return 0;while(b){ll c=b;b=a%b;a=c;}return a;}\ninline constexpr ll lcm(ll a,ll b){if(!a||!b)return 0;return a*b/gcd(a,b);}\ntemplate<class T> inline constexpr T min(vector<T> &v){return *min_element(range(v));}\ninline char min(string &v){return *min_element(range(v));}\ntemplate<class T> inline constexpr T max(vector<T> &v){return *max_element(range(v));}\ninline char max(string &v){return *max_element(range(v));}\ninline constexpr ll intpow(ll a,ll b){ll ans=1;for(ll i=1;b;i*=2){if(b&i){b^=i;ans*=a;}a*=a;}return ans;}\ninline constexpr ll modpow(ll a,ll b,ll mod = MOD){ll ans=1;for(ll i=1;b;i*=2){if(b&i){b^=i;ans*=a;ans%=mod;}a*=a;a%=mod;}return ans;}\ntemplate<typename T>\ninline constexpr bool chmin(T &mn,const T &cnt){if(mn>cnt){mn=cnt;return 1;}else return 0;}\ntemplate<typename T>\ninline constexpr bool chmax(T &mx,const T &cnt){if(mx<cnt){mx=cnt;return 1;}else return 0;}\ntemplate<class T> unordered_map<T,ll> press(vector<T> &a){ auto b = a; sort(range(b)); b.erase(unique(range(b)), b.end()); unordered_map<T,ll> ans; rep(b.size()) ans[b[i]] = i; each(i, a) i = ans[i]; return ans; }\ntemplate<class T> map<T,ll> press_map(vector<T> &a){ auto b = a; sort(range(b)); b.erase(unique(range(b)), b.end()); map<T,ll> ans; rep(b.size()) ans[b[i]] = i; each(i, a) i = ans[i]; return ans; }\ninline int scan(){ return getchar(); }\ninline void scan(int &a){ scanf(\"%d\", &a); }\ninline void scan(unsigned &a){ scanf(\"%u\", &a); }\ninline void scan(long &a){ scanf(\"%ld\", &a); }\ninline void scan(long long &a){ scanf(\"%lld\", &a); }\ninline void scan(unsigned long long &a){ scanf(\"%llu\", &a); }\ninline void scan(char &a){ cin >> a; }\ninline void scan(float &a){ scanf(\"%f\", &a); }\ninline void scan(double &a){ scanf(\"%lf\", &a); }\ninline void scan(long double &a){ scanf(\"%Lf\", &a); }\ninline void scan(vector<bool> &vec){ for(unsigned i = 0; i < vec.size(); i++) { int a; scan(a); vec[i] = a; } }\ninline void scan(string &a){ cin >> a; }\ntemplate<class T> inline void scan(vector<T> &vec);\ntemplate<class T, size_t size> inline void scan(array<T, size> &vec);\ntemplate<class T, class L> inline void scan(pair<T, L> &p);\ntemplate<class T, size_t size> inline void scan(T (&vec)[size]);\ntemplate<class T> inline void scan(vector<T> &vec){ for(auto &i : vec) scan(i); }\ntemplate<class T, size_t size> inline void scan(array<T, size> &vec){ for(auto &i : vec) scan(i); }\ntemplate<class T, class L> inline void scan(pair<T, L> &p){ scan(p.first); scan(p.second); }\ntemplate<class T, size_t size> inline void scan(T (&vec)[size]){ for(auto &i : vec) scan(i); }\ntemplate<class T> inline void scan(T &a){ cin>>a; }\ninline void in(){}\ntemplate <class Head, class... Tail> inline void in(Head &head, Tail&... tail){ scan(head); in(tail...); }\ninline void print(){ putchar('\\n'); }\ninline void print(const bool &a){ printf(\"%d\", a); }\ninline void print(const int &a){ printf(\"%d\", a); }\ninline void print(const unsigned &a){ printf(\"%u\", a); }\ninline void print(const long &a){ printf(\"%ld\", a); }\ninline void print(const long long &a){ printf(\"%lld\", a); }\ninline void print(const unsigned long long &a){ printf(\"%llu\", a); }\ninline void print(const char &a){ printf(\"%c\", a); }\ninline void print(const char a[]){ printf(\"%s\", a); }\ninline void print(const float &a){ printf(\"%.10f\", a); }\ninline void print(const double &a){ printf(\"%.10f\", a); }\ninline void print(const long double &a){ printf(\"%.10Lf\", a); }\ntemplate<class T> void print(const vector<T> &vec);\ntemplate<class T, size_t size> void print(const array<T, size> &vec);\ntemplate<class T, class L> void print(const pair<T, L> &p);\ntemplate<class T, size_t size> inline void print(const T (&vec)[size]);\ntemplate<class T> void print(const vector<T> &vec){ print(vec[0]); for(auto i = vec.begin(); ++i != vec.end(); ){ putchar(' '); print(*i); } }\ntemplate<class T, size_t size> void print(const array<T, size> &vec){ print(vec[0]); for(auto i = vec.begin(); ++i != vec.end(); ){ putchar(' '); print(*i); } }\ntemplate<class T, class L> void print(const pair<T, L> &p){ print(p.first); putchar(' '); print(p.second); }\ntemplate<class T, size_t size> inline void print(const T (&vec)[size]){ print(vec[0]); for(auto i = vec; ++i != end(vec); ){ putchar(' '); print(*i); } }\ntemplate<class T> inline void print(const T &a){ cout << a; }\ninline int out(){ putchar('\\n'); return 0; }\ntemplate<class T> inline int out(const T &t){ print(t); putchar('\\n'); return 0; }\ntemplate<class Head, class... Tail> inline int out(const Head &head, const Tail&... tail){ print(head); putchar(' '); out(tail...); return 0; }\ntemplate <class T> inline void err(T t){cerr<<t<<'\\n';}\ninline void err(){cerr<<'\\n';}\ninline int first(const bool &i){return out(i?\"first\":\"second\");}\ninline int yes(const bool &i){return out(i?\"yes\":\"no\");}\ninline int Yes(const bool &i){return out(i?\"Yes\":\"No\");}\ninline int YES(const bool &i){return out(i?\"YES\":\"NO\");}\ninline int Yay(const bool &i){return out(i?\"Yay!\":\":(\");}\ninline int Possible(const bool &i){return out(i?\"Possible\":\"Impossible\");}\ninline int POSSIBLE(const bool &i){return out(i?\"POSSIBLE\":\"IMPOSSIBLE\");}\ninline void Case(ll i){printf(\"Case #%lld: \",i);}\n\n\nll c,n;\nll rev(ll a){\n    return n-1-a;\n}\nll at(ll a){\n    return min(a,rev(a));\n}\nint main(){\n    in(c,n);\n    VEC(string,s,n);\n    each(i,s)each(j,i)j-='0';\n    ll ans=0,sym=0,N=n/2;\n    vv(ll,cnt,n/2,n/2);\n    rep(n)rep(j,n)cnt[at(i)][at(j)]+=s[i][j];\n    each(i,cnt)each(j,i)unless(j&3)sym++;\n    if(sym==N*N)ans++;\n    rep(c-1){\n        LL(d);\n        rep(d){\n            LL(x,y);\n            x--;y--;\n            unless(cnt[at(x)][at(y)]&3)sym--;\n            cnt[at(x)][at(y)]-=s[x][y];\n            s[x][y]^=1;\n            cnt[at(x)][at(y)]+=s[x][y];\n            unless(cnt[at(x)][at(y)]&3)sym++;\n        }\n        if(sym==N*N)ans++;\n    }\n    out(ans);\n}\n\n\n\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n#include <string>\n\nusing namespace std;\n\nint a, b, k[1005][1005], c, l[5], m[505][505], ans = 0;\n\nint main() {\n\tcin >> a >> b;\n\tchar buf;\n\tscanf(\"%c\", &buf);\n\tscanf(\"%c\", &buf);\n\tfor (int i = 0; i < b; ++i) {\n\t\tfor (int j = 0; j < b; ++j) {\n\t\t\tscanf(\"%c\", &buf);\n\t\t\tif (buf == '1') k[i][j] = 1;\n\t\t\tif (buf == '0') k[i][j] = 0;\n\t\t}\n\t\tscanf(\"%c\", &buf);\n\t}\n\n\tfor (int i = 0; i < b / 2; ++i) {\n\t\tfor (int j = 0; j < b / 2; ++j) {\n\t\t\tint count = 0;\n\t\t\tif (k[i][j] == 1) count++;\n\t\t\tif (k[i][b - j - 1] == 1) count++;\n\t\t\tif (k[b - i - 1][b - j - 1] == 1) count++;\n\t\t\tif (k[b - i - 1][j] == 1) count++;\n\t\t\tm[i][j] = count;\n\t\t}\n\t}\n\tbool flag = true;\n\tfor (int i = 0; i < b / 2; ++i) {\n\t\tfor (int j = 0; j < b / 2; ++j) {\n\t\t\tif (m[i][j] != 0 && m[i][j] != 4) {\n\t\t\t\tflag = false;\n\t\t\t\tgoto syamu;\n\t\t\t}\n\t\t}\n\t}\nsyamu:\n\tif (flag) ans++;\n\n\twhile (max(0, a - 1)) {\n\t\tflag = true;\n\t\tcin >> c;\n\t\tfor (int i = 0; i < c; ++i) {\n\t\t\tcin >> l[0] >> l[1];\n\t\t\tl[0]--; l[1]--;\n\t\t\tif (k[l[0]][l[1]] == 1) {\n\t\t\t\tk[l[0]][l[1]] = 0;\n\t\t\t\tm[min(l[0], b - l[0] - 1)][min(l[1], b - l[1] - 1)]--;\n\t\t\t}\n\t\t\telse if (k[l[0]][l[1]] == 0) {\n\t\t\t\tk[l[0]][l[1]] = 1;\n\t\t\t\tm[min(l[0], b - l[0] - 1)][min(l[1], b - l[1] - 1)]++;\n\t\t\t}\n\t\t}\n\t\tfor (int i = 0; i < (b / 2); ++i) {\n\t\t\tfor (int j = 0; j < (b / 2); ++j) {\n\t\t\t\tif (m[i][j] != 0 && m[i][j] != 4) {\n\t\t\t\t\tflag = false;\n\t\t\t\t\tgoto aa;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\taa:\n\t\tif (flag) ans++;\n\t\ta--;\n\t}\n\tcout << ans << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define r(i,n) for(int i=0;i<n;i++)\nusing namespace std;\nstring s[101];\nint n,c,x,y,p,ans;\nbool ch(){\n  r(i,n/2)r(j,n/2)if(s[n-i-1][j]!=s[i][j]||s[n-i-1][n-j-1]!=s[i][j]||s[i][n-j-1]!=s[i][j])return 0;\n  return 1;\n}\nint main(){\n  cin>>c>>n;\n  r(i,n)cin>>s[i];\n  if(ch())ans++;\n  r(i,c-1){\n    cin>>p;\n    r(i,p){\n      cin>>y>>x;x--;y--;\n      if(s[y][x]=='0')s[y][x]='1';\n      else s[y][x]='0';\n    }\n    if(ch())ans++;\n  }\n  cout<<ans<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\nusing namespace std;\n\nint main() {\n    int c, n;\n    cin >> c >> n;\n    c--;\n\n    int sym = 0, ans = 0;\n    vector< vector< bool > > s(n, vector< bool > (n));\n    vector< vector< char > > mas(n, vector< char >(n));\n    for(int i = 0; i < n; i++) {\n        for(int j = 0; j < n; j++) {\n            cin >> mas[i][j];\n        }\n    }\n\n    for(int i = 0; i < n / 2; i++) {\n        for(int j = 0; j < n / 2; j++) {\n            if(!(mas[i][j] == mas[i][n - 1 - j] && mas[i][j] == mas[n - 1 - i][j] && mas[i][j] == mas[n - 1 - i][n - 1 - j])) {\n                sym++;\n                s[i][j] = false;\n            } else {\n                s[i][j] = true;\n            }\n\n        }\n    }\n\n    if(!sym) ans++;\n\n    while(c--) {\n        int d;\n        cin >> d;\n        while(d--) {\n            int r, c; cin >> r >> c;\n            r--, c--;\n            mas[r][c] = (mas[r][c] == '0' ? '1' : '0');\n            if(r >= n / 2) r = n - 1 - r;\n            if(c >= n / 2) c = n - 1 - c;\n\n            if(mas[r][c] == mas[r][n - 1 - c] && mas[r][c] == mas[n - 1 - r][c] && mas[r][c] == mas[n - 1 - r][n - 1 - c] && !s[r][c]) {\n                sym--;\n                s[r][c] = true;\n            } else if(s[r][c]) {\n                s[r][c] = false;\n                sym++;\n            }\n\n        }\n        if(!sym) ans++;\n    }\n    cout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <cstdio>\n#define rep(i, n) for(i = 0; i < n; i++)\nusing namespace std;\n\nint c, n;\nstring s[1000];\nint d, y, x;\nint okCnt;\n\nbool same(char a, char b, char c, char d) {\n\treturn a == b && b == c && c == d;\n}\n\nint main() {\n\tint i, j;\n\tint ans = 0;\n\t\n\tcin >> c >> n;\n\trep(i, n) cin >> s[i];\n\t\n\trep(i, n / 2) {\n\t\trep(j, n / 2) {\n\t\t\tif (same(s[i][j], s[n - 1 - i][j], s[i][n - 1 - j], s[i][j])) okCnt++;\n\t\t}\n\t}\n\tif (okCnt * 4 == n * n) ans++;\n\t\n\trep(i, c - 1) {\n\t\tcin >> d;\n\t\trep(j, d) {\n\t\t\tcin >> y >> x;\n\t\t\ty--; x--;\n\t\t\tbool res1 = same(s[y][x], s[n - 1 - y][x], s[y][n - 1 - x], s[n - 1 - y][n - 1 - x]);\n\t\t\ts[y][x] = (s[y][x] == '0') ? '1' : '0';\n\t\t\tbool res2 = same(s[y][x], s[n - 1 - y][x], s[y][n - 1 - x], s[n - 1 - y][n - 1 - x]);\n\t\t\tif (!res1 && res2) okCnt++;\n\t\t\tif (res1 && !res2) okCnt--;\n\t\t}\n\t\tif (okCnt * 4 == n * n) ans++;\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nshort table[1000][1000];\n\n\n\nint main(){\n\n    int c,n,ans=0,N,count=0;\n    char cha;\n    bool flag;\n\n    cin >> c >> n;\n\n    N = n-1;\n\n    for(int i=0; i<n; i++){\n      for(int j=0; j<n; j++){\n          cin >> cha;\n          table[i][j] = cha=='0' ? 0 : 1;\n      }\n    }\n\n    flag = true;\n\n    for(int i=0; i<n/2; i++){\n      for(int j=0; j<n/2; j++){\n          /*int tmp = (table[i][j] + table[i][N-j] + table[N-i][j] + table[N-i][N-j]);\n          cout << tmp << endl;*/\n          if( (table[i][j] + table[i][N-j] + table[N-i][j] + table[N-i][N-j]) % 4 != 0){\n            count++;\n          }\n      }\n    }\n\n    if(count==0){\n      ans++;\n    }\n\n    int d,w,h;\n\n    while(--c){\n\n      map<int,bool> m;\n\n      cin >> d;\n\n      if(d!=0){\n\n        int wid[d];\n        int hei[d];\n        bool beforeok[d] = {true};\n\n        for(int i=0;i<d;i++){\n          cin >> w >> h;\n          w--;\n          h--;\n          wid[i] = w;\n          hei[i] = h;\n          if( (table[w][h] + table[w][N-h] + table[N-w][h] + table[N-w][N-h]) % 4 != 0){\n            beforeok[i] = false;\n          }\n          table[w][h] = !table[w][h];\n          m[w*N+h] = false;\n          m[w*N+(N-h)] = false;\n          m[(N-w)*N+h] = false;\n          m[(N-w)*N+(N-h)] = false;\n        }\n\n\n        for(int i=0;i<d;i++){\n          int tmpw = wid[i],tmph = hei[i];\n\n          if(m[tmpw*N+tmph]==false){\n            if( (table[tmpw][tmph] + table[tmpw][N-tmph] + table[N-tmpw][tmph] + table[N-tmpw][N-tmph]) % 4 != 0){\n              if(beforeok[i]){\n                count++;\n              }\n            }\n            else{\n              if(!beforeok[i]){\n                count--;\n              }\n            }\n            m[tmpw*N+tmph] = true;\n            m[tmpw*N+(N-tmph)] = true;\n            m[(N-tmpw)*N+tmph] = true;\n            m[(N-tmpw)*N+(N-tmph)] = true;\n          }\n\n        }\n\n      }\n\n      if(count==0){\n        //cout << \"ok\" << endl;\n        ans++;\n      }\n\n      /*for(int i=0; i<n; i++){\n        for(int j=0; j<n; j++){\n            cout << table[i][j];\n        }\n        cout << endl;\n      }*/\n\n    }\n\n    cout << ans << endl;\n\n\n\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main(){\n    int c,n;\n    int m[1000][1000];\n    cin>>c>>n;\n    for(int i=0;i<n;i++){\n        for(int j=0;j<n;j++){\n            cin>>m[i][j];\n        }\n    }\n    bool f=true;\n    int ans=0;\n    for(int i=0;i<(n+1)/2;i++){\n        for(int j=0;j<(n+1)/2;j++){\n            if(m[i][j]!=m[n-1-i][j]||m[i][j]!=m[n-1-i][n-1-j]||m[i][j]!=m[i][n-1-j]){\n                f=false;\n                break;\n            }\n        }\n        if(!f){\n            break;\n        }\n    }\n    if(f){\n        ans++;\n    }\n    c--;\n    while(c--){\n        int d;\n        cin>>d;\n        for(int i=0;i<d;i++){\n            int r,c;\n            cin>>r>>c;\n            r--;c--;\n            m[r][c]^=1;\n        }\n        f=true;\n        for(int i=0;i<(n+1)/2;i++){\n            for(int j=0;j<(n+1)/2;j++){\n                if(m[i][j]!=m[n-1-i][j]||m[i][j]!=m[n-1-i][n-1-j]||m[i][j]!=m[i][n-1-j]){\n                    f=false;\n                    break;\n                }\n            }\n            if(!f){\n                break;\n            }\n        }\n        if(f){\n            ans++;\n        }\n    }\n    cout<<ans<<endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\nusing namespace std;\n\nint index(int x);\n\nint c, n;\n\nint main() {\n  cin >> c >> n;\n  vector<vector<char>> p_c(n, vector<char>(n));\n  vector<vector<int>> p(n, vector<int>(n));\n  vector<vector<int>> sum((n + 1) / 2, vector<int>((n + 1) / 2, 0));\n  int i, j;\n  for (i = 0; i < n; i++) {\n    for (j = 0; j < n; j++) {\n      cin >> p_c[i][j];\n      p[i][j] = (p_c[i][j] - '0');\n    }\n  }\n  int diff = 0;\n  for (i = 0; i < n / 2; i++) {\n    for (j = 0; j < n / 2; j++) {\n      sum[i][j] += p[i][j];\n      sum[i][j] += p[i][n - j - 1];\n      sum[i][j] += p[n - i - 1][j];\n      sum[i][j] += p[n - i - 1][n - j - 1];\n      if (!(sum[i][j] == 0 || sum[i][j] == 4)) {\n        diff++;\n      }\n    }\n  }\n  // for (j = 0; j < sum.size(); j++) {\n  //   for (int k = 0; k < sum[j].size(); k++) {\n  //     cout << sum[j][k] << ' ';\n  //   }\n  //   cout << endl;\n  // }\n  // cout << endl;\n  int result = (diff == 0 ? 1 : 0);\n  int d, x, y;\n  bool was_diff;\n  for (i = 0; i < c - 1; i++) {\n    cin >> d;\n    for (j = 0; j < d; j++) {\n      was_diff = false;\n      cin >> y >> x;\n      if (!(sum[index(y)][index(x)] == 0 || sum[index(y)][index(x)] == 4)) {\n        was_diff = true;\n      }\n      if (n % 2 == 0) {\n        sum[index(y)][index(x)] += (p[y - 1][x - 1] == 1 ? -1 : 1);\n      } else {\n        if (index(y) == n / 2 && index(x) == n / 2) {\n          sum[index(y)][index(x)] += (p[y - 1][x - 1] == 1 ? -1 : 1) * 4;\n        } else if (index(y) == n / 2 || index(x) == n / 2) {\n          sum[index(y)][index(x)] += (p[y - 1][x - 1] == 1 ? -1 : 1) * 2;\n        } else {\n          sum[index(y)][index(x)] += (p[y - 1][x - 1] == 1 ? -1 : 1);\n        }\n      }\n      p[y - 1][x - 1] ^= 1;\n      if (was_diff) {\n        if (sum[index(y)][index(x)] == 0 || sum[index(y)][index(x)] == 4) {\n          diff--;\n        }\n      } else {\n        if (!(sum[index(y)][index(x)] == 0 || sum[index(y)][index(x)] == 4)) {\n          diff++;\n        }\n      }\n    }\n    // cout << \"diff \" << diff << endl;\n    if (diff == 0) {\n      result++;\n    }\n    // for (j = 0; j < sum.size(); j++) {\n    //   for (int k = 0; k < sum[j].size(); k++) {\n    //     cout << sum[j][k] << ' ';\n    //   }\n    //   cout << endl;\n    // }\n    // cout << endl;\n  }\n  cout << result << endl;\n  return 0;\n}\n\nint index(int x) {\n  if (x > n / 2) {\n    return n - x;\n  } else {\n    return x - 1;\n  }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<n;++i)\n#define rrep(i,n) for(int i=n-1;i>0;--i)\n#define yesno(flg) if(flg){cout<<\"Yes\"<<endl;}else{cout<<\"No\"<<endl;}\n#define Vi vector<int>\n#define Vl vector<long long>\n#define pb(a) push_back(a)\nusing namespace std;\n\ntypedef long long ll;\nconst int inf=1000000000;\nconst int np=1000000007;\nstruct edge{\n\tint myc,to,c,cost;\n};\nstruct pos{\n\tint to,cost,color;\n};\nint dy[]={0, 0, 1, -1};\nint dx[]={1, -1, 0, 0};\n\nint main() {\n\tint c,n;\n\tstring p[1000];\n\tcin>>c>>n;\n\trep(i,n)cin>>p[i];\n\tint t=0;\n\trep(i,n/2){\n\t\trep(j,n/2){\n\t\t\tint s=0;\n\t\t\tif(p[i][j]==p[i][n-1-j])s++;\n\t\t\tif(p[i][j]==p[n-1-i][j])s++;\n\t\t\tif(p[n-1-i][j]==p[n-1-i][n-1-j])s++;\n\t\t\tif(s<3)t++;\n\t\t}\n\t}\n\tint r=0;\n\tif(t==0)r++;\n\trep(i,c-1){\n\t\tint d;\n\t\tcin>>d;\n\t\trep(j,d){\n\t\t\tint x,y;\n\t\t\tcin>>x>>y;\n\t\t\tx--;\n\t\t\ty--;\n\t\t\tint s=0;\n\t\t\tif(p[x][y]==p[x][n-y-1])s++;\n\t\t\tif(p[x][y]==p[n-1-x][y])s++;\n\t\t\tif(p[n-1-x][y]==p[n-1-x][n-1-y])s++;\n\t\t\tif(s<3)t--;\n\t\t\ts=0;\n\t\t\tif(p[x][y]=='0'){\n\t\t\t\tp[x][y]='1';\n\t\t\t}else{\n\t\t\t\tp[x][y]='0';\n\t\t\t}\n\t\t\tif(p[x][y]==p[x][n-y-1])s++;\n\t\t\tif(p[x][y]==p[n-1-x][y])s++;\n\t\t\tif(p[n-1-x][y]==p[n-1-x][n-1-y])s++;\n\t\t\tif(s<3)t++;\n\t\t}\n\t\tif(t==0)r++;\t\t\n\t}\n\tcout<<r<<endl;\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint c,n;\nbool coa[1001][1001];\nint count=0;\nint onecount=1;\nstruct onepos{\n  int i;\n  int j;\n};\nonepos p[250001];\nbool coacheck(){\n\n  for(int i=1;i<=onecount;i++){\n      if((coa[p[i].i][p[i].j]==coa[p[i].i][n-p[i].j+1])&&(coa[p[i].i][p[i].j]==coa[n-p[i].i+1][p[i].j])&&(coa[p[i].i][p[i].j]==coa[n-p[i].i+1][n-p[i].j+1])){\n      }else{\n        return false;\n      }\n    }\n    return true;\n  }\nint main(){\n  cin >>c>>n;\n  for(int i=1;i<=n;i++){\n    string coaster;\n    cin >> coaster;\n    for(int j=1;j<=n;j++){\n      int kari =coaster[j-1]-48;\n      coa[i][j]=kari;\n    }\n  }\n  for(int i=1;i<=n/2;i++){\n    for(int j=1;j<=n/2;j++){\n      if(coa[i][j]==true){\n        p[onecount].i=i;\n        p[onecount].j=j;\n      }\n    }\n  }\n  int coacount =0;\n  if(coacheck())coacount++;\n  for(int i=1;i<c;i++){\n    int num;\n    cin >>num;\n    int a[num*2];\n    for(int j=0;j<num*2;j++){\n      cin >>a[j];\n    }\n    for(int j=0;j<num;j++){\n      if(coa[a[j*2]][a[j*2+1]]==true){\n        coa[a[j*2]][a[j*2+1]]=false;\n        for(int k=1;k<=onecount;k++){\n          if((p[k].i==a[j*2])&&(p[k].j==a[j*2+1])){\n            p[k].i=p[onecount].i;\n            p[k].j=p[onecount].j;\n            break;\n          }\n        }\n        onecount--;\n      }\n      else coa[a[j*2]][a[j*2+1]]=true;\n      p[onecount+1].i=a[j*2];\n      p[onecount+1].j=a[j*2+1];\n      onecount++;\n    }\n    if(coacheck())coacount++;\n  }\n  cout << coacount <<endl;\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\n\nvector<vector<int>>coaster;\nvector < vector<pair<int, int>>>difs;\nint main() {\n\tint C, N; cin >> C >> N;\n\t{\n\t\tvector<vector<int>>field(N, vector<int>(N));\n\t\tfor (int y = 0; y< N; ++y) {\n\t\t\tstring st; cin >> st;\n\t\t\tfor (int x = 0; x < N; ++x) {\n\t\t\t\tfield[y][x]=st[x]-'0';\n\t\t\t}\n\t\t}\n\t\tcoaster = field;\n\t\tdifs.resize(C-1);\n\t\tfor (int i = 0; i < C-1; ++i) {\n\t\t\tint D; cin >> D;\n\t\t\twhile (D--) {\n\t\t\t\tint y, x; scanf(\"%d %d\", &y, &x); y--; x--;\n\t\t\t\tdifs[i].push_back(make_pair(y, x));\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t}\n\tvector<vector<vector<int>>>vs(N / 2, \n\t\tvector<vector<int>>(N / 2,vector<int>( 4)));\n\tint sum = 0;\n\tfor (int y = 0; y < N; ++y) {\n\t\tfor (int x = 0; x < N; ++x) {\n\t\t\tif (y >= N / 2 && x >= N / 2)vs[N - y - 1][N - x - 1][3] = coaster[y][x];\n\t\t\tif (y >= N / 2 && x < N / 2)vs[N - y - 1][x][2] = coaster[y][x];\n\t\t\tif (y < N / 2 && x >= N / 2)vs[y][N - x - 1][1] = coaster[y][x];\n\t\t\tif (y < N / 2 && x < N / 2)vs[y][x][0] = coaster[y][x];\n\n\t\t}\n\t}\n\tfor (int y = 0; y < N / 2; ++y) {\n\t\tfor (int x = 0; x < N / 2; ++x) {\n\t\t\tsum+= 1-(all_of(vs[y][x].begin(), vs[y][x].end(), [=](const int a) {return a == vs[y][x][0]; }));\n\t\t}\n\t}\n\tint ans = 0;\n\tif (!sum)ans++;\n\tfor (int i = 0; i < C-1; ++i) {\n\t\tfor (auto dif : difs[i]) {\n\t\t\tint y = dif.first;\n\t\t\tint x = dif.second;\n\t\t\tcoaster[y][x] = !coaster[y][x];\n\t\t\tint ay = y >= N / 2 ? N - y - 1 : y;\n\t\t\tint ax = x >= N / 2 ? N - x - 1 : x;\n\t\t\tsum-= 1-(all_of(vs[ay][ax].begin(), vs[ay][ax].end(), [=](const int a) {return a == vs[ay][ax][0]; }));\n\t\t\tif (y >= N / 2 && x >= N / 2)vs[N - y - 1][N - x - 1][3] = coaster[y][x];\n\t\t\tif (y >= N / 2 && x < N / 2)vs[N - y - 1][x][2] = coaster[y][x];\n\t\t\tif (y < N / 2 && x >= N / 2)vs[y][N - x - 1][1] = coaster[y][x];\n\t\t\tif (y < N / 2 && x < N / 2)vs[y][x][0] = coaster[y][x];\n\t\t\tsum += 1-(all_of(vs[ay][ax].begin(), vs[ay][ax].end(), [=](const int a) {return a == vs[ay][ax][0]; }));\n\n\t\t}\n\t\tif (!sum)ans++;\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef string str;\n#define down_queue(x) priority_queue<x>\n#define up_queue(x) priority_queue<x, vector<x>, greater<x>>\n#define vec(x) vector<x>\nll gcd(ll a,ll b){while(b){ll tmp = a % b;a = b;b = tmp;}return a;}\nll lcm(ll a,ll b){return a / gcd(a,b) * b;}\n#define rep(x, y) for(int x = 0; x < (y); x++)\n#define rrep(x, y) for(int x = (y); x >= 0; x--)\n#define REP(x, z, y) for(int x = (z); x < (y); x++)\n#define RREP(x, z, y) for(int x = (y); x >= (z); x--)\n#define all(x) x.begin(), x.end()\n#define split_str(str, sp_word) istringstream stream(str); string res; for(int cnt = 0; getline(stream,res,sp_word); cnt++)\n#define digit(x) ((int)log10((double)(x)) + 1)\n#define mp(x,y) make_pair(x,y)\n#define pb(x) push_back(x)\n#define pf(x) push_front(x)\n#define out(x) for(auto i : x) cout << i << \" \"; cout << endl;\n#define outln(x) for(auto i : x) cout << i << \" \" << endl;\n#define vec_cpy(to,from) copy(all(to),back_inserter(from))\n#define ary_cpy(to,from) memcpy(to, from, sizeof from)\n#define MOD = 1000000007; \n#ifdef DEBUG\n#define debug_echo(e) cout << \"|\" << __LINE__ << \"| \" << e << endl\n#define debug_var(e) cout << \"|\" << __LINE__ << \"| \" << #e << \": \" << e << endl\n#define debug_echo_dp(dp, N) { cout << \"[ \"; rep(cnt, N) cout << dp[cnt] << \" \";  cout << \"]\" << endl; }\n#else\n#define debug_echo(e)\n#define debug_var(e)\n#define debug_echo_dp(dp, N)\n#endif\n\nint main(){\n  int C,n,d,r,c,ans = 0; cin >> C >> n;\n  int harf = n / 2;\n  debug_var(harf);\n  vec(bool) h[harf],w[n];\n  rep(i,harf) h[i].resize(n);\n  rep(i,n) w[i].resize(harf);\n  str p[n];\n\n  rep(i,n) cin >> p[i];\n\n  function<bool(vec(bool)*, vec(bool)*)> is_match = [&](vec(bool)* h, vec(bool)* w) {\n    int sum = 0;\n    rep(i,harf) sum += count(all(h[i]), true);\n    rep(i,n) sum += count(all(w[i]), true);\n    debug_var(sum);\n    return sum == n * n - (n % 2 != 0 ? n : 0);\n  };\n\n  //????????????????????¨\n  rep(i,harf){\n    rep(j,n) h[i][j] = (p[i][j] == p[n - i - 1][j]);\n    //debug_echo_dp(h[i],h[i].size());\n  }\n\n  //?¨??????????????????¨\n  rep(i,n){\n    rep(j,harf) w[i][j] = (p[i][j] == p[i][n - j - 1]);\n    //debug_echo_dp(w[i],w[i].size());\n  }\n\n  if(is_match(h,w)) ans++;\n\n  rep(i,C - 1){\n    cin >> d;\n    rep(i,d){\n      cin >> r >> c;\n      r--;c--;\n      //debug_echo(r << \" - \" << c);\n      //debug_echo(\"h \" << (r >= harf ? n - r - 1 : r) << \" : \" << c << \" in \" << !h[(r >= harf ? n - r - 1 : r)][c]);\n      h[(r >= harf ? n - r - 1 : r)][c] = !h[(r >= harf ? n - r - 1 : r)][c];\n      //debug_echo(\"w \" << r << \" : \" << (c >= harf ? n - c - 1 : c) << \" \" << !w[r][(c >= harf ? n - c - 1 : c)]);\n      w[r][(c >= harf ? n - c - 1 : c)] = !w[r][(c >= harf ? n - c - 1 : c)];\n    } \n\n    if(is_match(h,w)) ans++;\n  }\n\n  cout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <iomanip>\nusing namespace std;\n\nclass Coster {\npublic:\n\tCoster(int n);\n\t~Coster();\n\tvoid diff(const int& r, const int& c);\n\tint SymmetryNum();\n\tvoid SymCalc();\n\tbool pixel[1000][1000];\nprivate:\n\tint symmetry;\n\tint N;\n};\nCoster::Coster(int n) {\n\tN = n;\n\tfor (int i = 0; i < 1000; i++)\n\t\tfor (int j = 0; j < 1000; j++)\n\t\t\tpixel[i][j] = 0;\n}\nCoster::~Coster() {\n\tdelete[] pixel;\n}\nvoid Coster::diff(const int& r, const int& c) {\n\n\tpixel[r-1][c-1] = !pixel[r-1][c-1];\n}\nint Coster::SymmetryNum() {\n\treturn symmetry;\n}\nvoid Coster::SymCalc() {\n\tchar same = 0;\n\tfor (int r = 0; r < N / 2; r++) {\n\t\tfor (int c = 0; c < N / 2; c++) {\n\t\t\tsame  = pixel[r][c];\n\t\t\tsame |= pixel[r][N - c - 1] << 1;\n\t\t\tsame |= pixel[N - r - 1][c] << 2;\n\t\t\tsame |= pixel[N - r - 1][N - c - 1] << 3;\n\t\t\tif (!(same == 0x0f || same == 0x00))\n\t\t\t\treturn;\n\t\t}\t\t\n\t}\n\tsymmetry++;\n}\n\nint main()\n{\n\tint C,N;\n\tcin >> C >> N;\n\tCoster coster(N);\n\tchar n;\n\tfor (int i = 0; i < N; i++) {\n\t\tfor (int j = 0; j < N; j++) {\n\t\t\tcin >> n;\n\t\t\tcoster.pixel[i][j] = (bool)(n - '0');\n\t\t}\n\t}\n\t\n\tcoster.SymCalc();\n\n\tfor (int I = 0; I < C-1; I++) {\n\t\tint D;\n\t\tcin >> D;\n\t\tfor (int i = 0; i < D; i++) {\n\t\t\tint r, c;\n\t\t\tcin >> r >> c;\n\t\t\tcoster.diff(r, c);\n\t\t}\n\t\tcoster.SymCalc();\n\t}\n\n\tcout <<coster.SymmetryNum() << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\nconst int INF = 1e9;\nconst ll LINF = 1e16;\n\n/*\n<url:>\n問題文============================================================\n\n=================================================================\n\n解説=============================================================\n\n================================================================\n*/\n\nint retIdx(int i,int j,int N){\n    if(i <= N/2 && j <= N/2){\n        return (i-1)*N/2 + j;\n    }else if(i > N/2 && j <= N/2){\n        return (N-i)*N/2 + j;\n    }else if(i <= N/2 && j > N/2){\n        return (i-1)*N/2 + (N-j+1);\n    }else{\n        return (N-i)*N/2 + (N-j+1);\n    }\n    \n}\nint main(void) {\n\tcin.tie(0); ios::sync_with_stdio(false);\n    int C,N; cin >> C >> N;\n    vector<int> bit(N*N/4 + 1,0);\n    vector<vector<int>> p(N+1,vector<int>(N+1,0));\n    for(int i = 1; i <=N;i++){\n        for(int j = 1; j <=N;j++){\n            char c; cin >> c;\n            p[i][j] = c - '0';\n            \n            if(p[i][j] == 1){\n                bit[retIdx(i, j, N)]++;\n            }\n        }\n    }\n    int sum = 0;\n    for(int i = 1; i <= N*N/4;i++) {\n        if(bit[i] == 0 || bit[i] == 4){\n            sum++;\n        }\n    }\n    int ans = 0;\n    if(sum == N*N/4) ans++;\n    for(int i = 0; i < C - 1;i++){\n        int D; cin >> D;\n        for(int j = 0; j < D;j++){\n            int r,c; cin >> r >> c;\n            int idx = retIdx(r,c,N);\n            \n            if(bit[idx] == 0 || bit[idx] == 4) sum--;\n            \n            if(p[r][c] == 0){\n                p[r][c] = 1;\n                bit[idx]++;\n            }else{\n                p[r][c] = 0;\n                bit[idx]--;\n            }\n            if(bit[idx] == 0 || bit[idx] == 4) sum++;\n            \n        }\n        if(sum == N*N/4)ans++;\n    }\n    cout << ans << endl;\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n\nusing namespace std;\n\nint N,M,K,L,R,H,W;\n\nconst long long int MOD=1000000007;\n\n\nint main(){\n\t\n\tint K,N;\n\tcin>>K>>N;\n\tvector<string>s(N);\n\tfor(auto &i:s)cin>>i;\n\tvector<vector<int>>v(N/2,vector<int>(N/2));\n\tint num=0;\n\tfor(int i=0;i<N/2;i++){\n\t\tfor(int j=0;j<N/2;j++){\n\t\t\tv[i][j]+=(s[i][j]=='1');\n\t\t\tv[i][j]+=(s[N-1-i][j]=='1');\n\t\t\tv[i][j]+=(s[i][N-1-j]=='1');\n\t\t\tv[i][j]+=(s[N-1-i][N-1-j]=='1');\n\t\t\tif(v[i][j]==0||v[i][j]==4)num++;\n\t\t}\n\t}\n\tint ans=0;\n\tif(num==N*N/4)ans++;\n\tfor(int i=1;i<K;i++){\n\t\tint M;\n\t\tcin>>M;\n\t\tfor(int j=0;j<M;j++){\n\t\t\tint x,y;\n\t\t\tcin>>y>>x;\n\t\t\ty--,x--;\n\t\t\tbool flag=true;\n\t\t\tif(s[y][x]=='1'){\n\t\t\t\ts[y][x]='0';\n\t\t\t}\n\t\t\telse{\n\t\t\t\ts[y][x]='1';\n\t\t\t\tflag=false;\n\t\t\t}\n\t\t\tif(y>=N/2)y=N-y-1;\n\t\t\tif(x>=N/2)x=N-x-1;\n\t\t\tif(flag){\n\t\t\t\tv[y][x]--;\n\t\t\t\tif(v[y][x]==0)num++;\n\t\t\t\tif(v[y][x]==3)num--;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tv[y][x]++;\n\t\t\t\tif(v[y][x]==4)num++;\n\t\t\t\tif(v[y][x]==1)num--;\n\t\t\t}\n\t\t}\n\t\tif(num==N*N/4)ans++;\n\t}\n\tcout<<ans<<endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<set>\n#include<algorithm>\nusing namespace std;\n\nclass Point{\npublic:\n  int x;\n  int y;\n  bool bin;\n};\n\nbool operator<(const Point& lp,const Point& rp){\n  return (lp.x + lp.y) < (rp.x + rp.y);\n}\n\nclass FourPoint{\npublic:\n  Point lu;\n  Point ru;\n  Point ld;\n  Point rd;\n  friend ostream& operator<<(ostream& os,const FourPoint& fp){\n    os << fp.lu.x << \" \" << fp.lu.y;\n    return os;\n  }\n};\n\nbool operator<(const FourPoint& lfp,const FourPoint& rfp){\n  return lfp.lu.x < rfp.lu.x;\n}\n\nint main(){\n\n    int c,n,d,x,y,count;\n\n    set<FourPoint> st;\n\n    set<FourPoint>::iterator itr;\n\n    Point ptmp[4];\n\n    FourPoint fptmp;\n\n    count = 0;\n\n    cin >> c >> n;\n\n    bool table[n][n];\n    string s[n];\n\n     for(int i=0;i<n;i++){\n         cin >> s[i];\n     }\n\n     for(int i=0;i<n;i++){\n       for(int j=0;j<n;j++){\n         if(s[i][j] == '0'){\n           table[i][j] =false;\n         }\n         else{\n           table[i][j] = true;\n         }\n       }\n     }\n\n     bool is_delete =true;\n\n     for(int i=0;i<n;i++){\n       for(int j=0;j<n/2;j++){\n         if(table[i][j] != table[i][n-j-1]){\n\n           ptmp[0].x = i; ptmp[0].y = j; ptmp[0].bin = table[i][j];\n           ptmp[1].x = n-i-1; ptmp[1].y = j; ptmp[1].bin = table[n-i-1][j];\n           ptmp[2].x = i; ptmp[2].y = n-j-1; ptmp[2].bin = table[i][n-j-1];\n           ptmp[3].x = n-i-1; ptmp[3].y = n-j-1; ptmp[3].bin = table[n-i-1][n-j-1];\n\n           sort(ptmp,ptmp+4);\n\n           fptmp.lu = ptmp[0];\n           if(ptmp[1].y < ptmp[2].y){\n             fptmp.ru = ptmp[1];\n             fptmp.ld = ptmp[2];\n           }\n           else{\n             fptmp.ru = ptmp[2];\n             fptmp.ld = ptmp[1];\n           }\n\n           fptmp.rd = ptmp[3];\n\n           st.insert(fptmp);\n\n\n         }\n       }\n     }\n\n\n     for(int i=0;i<n/2;i++){\n       for(int j=0;j<n;j++){\n         if(table[i][j] != table[n-i-1][j]){\n           ptmp[0].x = i; ptmp[0].y = j; ptmp[0].bin = table[i][j];\n           ptmp[1].x = n-i-1; ptmp[1].y = j; ptmp[1].bin = table[n-i-1][j];\n           ptmp[2].x = i; ptmp[2].y = n-j-1; ptmp[2].bin = table[i][n-j-1];\n           ptmp[3].x = n-i-1; ptmp[3].y = n-j-1; ptmp[3].bin = table[n-i-1][n-j-1];\n\n           sort(ptmp,ptmp+4);\n\n           fptmp.lu = ptmp[0];\n           if(ptmp[1].y < ptmp[2].y){\n             fptmp.ru = ptmp[1];\n             fptmp.ld = ptmp[2];\n           }\n           else{\n             fptmp.ru = ptmp[2];\n             fptmp.ld = ptmp[1];\n           }\n\n           fptmp.rd = ptmp[3];\n\n           st.insert(fptmp);\n         }\n       }\n     }\n\n    /* for(itr = st.begin(); itr != st.end(); ++itr) {\n        cout << *itr << \"\\n\";      // ????????¬???????????????????????????????????¨???\n    }*/\n\n\n     if(st.size() == 0){\n       count++;\n     }\n\n     for(int k=0;k<c-1;k++){\n\n      /* for(itr = st.begin(); itr != st.end(); ++itr) {\n       std::cout << \"key = \" << itr->first           // ???????????¨???\n                     << \", val = \" << itr->second << \"\\n\";    // ????????¨???\n       }*/\n\n       cin >> d;\n\n       /*for(int i=0;i<d;i++){\n\n         cout << i << endl;\n\n         for(int a=0;a<n;a++){\n           for(int b=0;b<n;b++){\n             if(table[a][b] == false){\n               cout << '0';\n             }\n             else{\n               cout << '1';\n             }\n             cout << ' ';\n           }\n           cout << endl;\n         }*/\n\n      for(int i=0;i<d;i++){\n\n\n\n         is_delete = false;\n         cin >> x >> y;\n         table[x-1][y-1] = !table[x-1][y-1];\n         //cout << \"unsigned \" << tmps << endl;\n\n         ptmp[0].x = x-1; ptmp[0].y = y-1; ptmp[0].bin = table[x-1][y-1];\n         ptmp[1].x = n-x; ptmp[1].y = y-1; ptmp[1].bin = table[n-x][y-1];\n         ptmp[2].x = x-1; ptmp[2].y = n-y; ptmp[2].bin = table[x-1][n-y];\n         ptmp[3].x = n-x; ptmp[3].y = n-y; ptmp[3].bin = table[n-x][n-y];\n\n         sort(ptmp,ptmp+4);\n\n         fptmp.lu = ptmp[0];\n         if(ptmp[1].y < ptmp[2].y){\n           fptmp.ru = ptmp[1];\n           fptmp.ld = ptmp[2];\n         }\n         else{\n           fptmp.ru = ptmp[2];\n           fptmp.ld = ptmp[1];\n         }\n\n         fptmp.rd = ptmp[3];\n\n         itr = st.find(fptmp);\n\n         if(itr != st.end()){\n           if(fptmp.lu.bin == fptmp.ru.bin && fptmp.ru.bin == fptmp.ld.bin && fptmp.ld.bin == fptmp.rd.bin){\n             st.erase(itr);\n           }\n         }\n         else{\n           st.insert(fptmp);\n         }\n\n       }\n\n\n\n\n\n\n\n       if(st.size() == 0){\n         //cout << \"f1d2a \" << k+2 << endl;\n         count++;\n       }\n\n     }\n\n     cout << count << endl;\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n\nusing namespace std;\n\nint main() {\n\tint C, N; cin >> C >> N; C--;\n\tvector<string> p(N);\n\tfor (int i = 0; i < N; ++i) cin >> p[i];\n\tvector<vector<bool> > ch(N / 2, vector<bool>(N / 2));\n\tint cnt = 0, ans = 0;\n\tfor (int i = 0; i < N / 2; ++i)\n\t\tfor (int j = 0; j < N / 2; ++j)\n\t\t\tif (p[i][j] == p[N - i - 1][N - j - 1] && p[i][j] == p[N - i - 1][j] && p[i][j] == p[i][N - j - 1])\n\t\t\t\tch[i][j] = true, cnt++;\n\tif (N * N / 4 == cnt) ans++;\n\twhile (C--) {\n\t\tint d; cin >> d;\n\t\twhile (d--) {\n\t\t\tint r, c; cin >> r >> c; r--, c--;\n\t\t\tp[r][c] = (p[r][c] == '1' ? '0' : '1');\n\t\t\tif (r >= N / 2) r = N - r - 1;\n\t\t\tif (c >= N / 2) c = N - c - 1;\n\t\t\tif (p[r][c] == p[N - r - 1][N - c - 1] && p[r][c] == p[N - r - 1][c] && p[r][c] == p[r][N - c - 1]) {\n\t\t\t\tif (!ch[r][c]) ch[r][c] = true, cnt++;\n\t\t\t} else if (ch[r][c]) ch[r][c] = false, cnt--;\n\t\t}\n\t\tif (N * N / 4 == cnt) ans++;\n\t}\n\tcout << ans << endl;\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#include <assert.h>\n\nusing namespace std;\n\nbool ok[1000][1000];\n\nbool check(vector<string> &v, int n, int x, int y)\n{\n\tif (v[x][y] == v[n - x - 1][y] && v[x][y] == v[x][n - y - 1] && v[x][y] == v[n - x - 1][n - y - 1])\n\t\treturn true;\n\treturn false;\n}\n\nint main()\n{\n\tint c, n;\n\tcin >> c >> n;\n\tvector<string> p(n);\n\tfor (int i = 0; i < n; i++)\n\t\tcin >> p[i];\n\tint def = 0;\n\tfor (int i = 0; i < n / 2; i++)\n\t\tfor (int j = 0; j < n / 2; j++)\n\t\t\tif (check(p, n, i, j))\n\t\t\t\tok[i][j] = true;\n\t\t\telse\n\t\t\t{\n\t\t\t\tok[i][j] = false;\n\t\t\t\tdef++;\n\t\t\t}\n\tint ans = (def == 0 ? 1 : 0);\n\twhile (--c)\n\t{\n\t\tint d, pr[100], pc[100];\n\t\tcin >> d;\n\t\tfor (int i = 0; i < d; i++)\n\t\t\tcin >> pr[i] >> pc[i];\n\t\tfor (int i = 0; i < d; i++)\n\t\t{\n\t\t\tpr[i]--;\n\t\t\tpc[i]--;\n\t\t\tp[pr[i]][pc[i]] = (p[pr[i]][pc[i]] == '1' ? '0' : '1');\n\t\t\tif (pr[i] >= n / 2)\n\t\t\t\tpr[i] = n - 1 - pr[i];\n\t\t\tif (pc[i] >= n / 2)\n\t\t\t\tpc[i] = n - 1 - pc[i];\n\t\t\tbool s = check(p, n, pr[i], pc[i]);\n\t\t\tif (s != ok[pr[i]][pc[i]])\n\t\t\t{\n\t\t\t\tif (s)\n\t\t\t\t\tdef--;\n\t\t\t\telse\n\t\t\t\t\tdef++;\n\t\t\t}\n\t\t\tok[pr[i]][pc[i]] = s;\n\t\t}\n\t\tif (def == 0)\n\t\t\tans++;\n\t}\n\tcout << ans << endl;\n\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#include <assert.h>\n\nusing namespace std;\n\nint check(vector<string> v, int n)\n{\n\tfor (int i = 0; i < n / 2; i++)\n\t\tfor (int j = 0; j < n / 2; j++)\n\t\t\tif (v[i][j] != v[i][n - j - 1] || v[i][j] != v[n - i - 1][j] || v[i][j] != v[n - i - 1][n - j - 1])\n\t\t\t\treturn 0;\n\n\treturn 1;\n}\n\nint main()\n{\n\tint co, n;\n\tvector<string> p;\n\tcin >> co >> n;\n\tp.resize(n);\n\tfor (int i = 0; i < n; i++)\n\t\tcin >> p[i];\n\tint ans = check(p, n);\n\tfor (int i = 0; i < co - 1; i++)\n\t{\n\t\tint d;\n\t\tcin >> d;\n\t\tfor (int j = 0; j < d; j++)\n\t\t{\n\t\t\tint r, c;\n\t\t\tcin >> r >> c;\n\t\t\tp[r - 1][c - 1] = (p[r - 1][c - 1] == '1' ? '0' : '1');\n\t\t}\n\n\t\tans += check(p, n);\n\t}\n\tcout << ans << endl;\n\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstdlib>\nbool check(bool);\nbool p[1000][1000];\nint C, N, l, f;\n\nint main(void){\n\tchar buf[1000];\n\tint i, j, ans=0;\n\tscanf(\"%d %d\", &C, &N);\n\t--C;\n\tfor(i=0; i<N; ++i){\n\t\tscanf(\"%s\", buf);\n\t\tfor(j=0; j<N; ++j){ p[i][j]=(buf[j]=='1')?true:false; }\n\t}\n\tif(check(true)){ ++ans; }\n\tfor(i=0; i<C; ++i){\n\t\tif(check(false)){ ans++; }\n\t}\n\tprintf(\"%d\\n\", ans);\n\treturn(0);\n}\n\nbool check(bool isFirst){\n\tbool isSym=true;\n\tint D, r, c, i, j;\n\tif(isFirst){\n\t\tfor(i=0; (i<N/2)&&(isSym); ++i){\n\t\t\tfor(j=0; (j<N/2)&&(isSym); ++j){\n\t\t\t\tif(!((p[i][j]==p[N-i-1][j])&&(p[i][j]==p[i][N-j-1])&&(p[i][j]==p[N-i-1][N-j-1]))){ isSym=false; }\n\t\t\t}\n\t\t}\n\t\t\n\t}\n\telse{\n\t\tscanf(\"%d\", &D);\n\t\tfor(i=0; i<D; ++i){\n\t\t\tscanf(\"%d %d\", &r, &c);\n\t\t\t--r; --c;\n\t\t\tp[r][c]=!p[r][c];\n\t\t}\n\t\tfor(i=0; (i<N/2)&&(isSym); ++i){\n\t\t\tfor(j=0; (j<N/2)&&(isSym); ++j){\n\t\t\t\tif(!((p[i][j]==p[N-i-1][j])&&(p[i][j]==p[i][N-j-1])&&(p[i][j]==p[N-i-1][N-j-1]))){ isSym=false; }\n\t\t\t}\n\t\t}\n\n\t}\n\treturn(isSym);\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\nint main(){\n\n  int n,hw,i,j,cnt,result=0,d;\n  string co[1000];\n\n  cin>>n>>hw;\n  for(i=0;i<hw;i++) cin>>co[i];\n\n  cnt=0;\n  for(i=0;i<hw/2;i++) for(j=0;j<hw;j++){\n      if(co[hw/2-1-i][j]!=co[hw/2+i][j]) cnt++;\n      if(co[j][hw/2-i]!=co[j][hw/2-i]) cnt++;\n    }\n\n  if(cnt==0) result++;\n\n  for(i=0;i<n-1;i++){\n    cin>>d;\n    int h,w;    \n    for(j=0;j<d;j++){\n      cin>>h>>w;\n      if(co[h-1][w-1]=='1') co[h-1][w-1]='0';\n      else co[h-1][w-1]='1';\n    }\n\n    cnt=0;\n    for(j=0;j<hw/2;j++) for(int k=0;k<hw;k++){\n\tif(co[hw/2-1-j][k]!=co[hw/2+j][k]) cnt++;\n\tif(co[k][hw/2-j]!=co[k][hw/2-j]) cnt++;\n      }\n    if(cnt==0) result++;\n\n  }\n\n  cout<<result<<endl;\n  return 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define all(v) v.begin(),v.end()\nusing namespace std;\ntypedef long long ll;\nconst ll INF=1000000010;\nconst ll MOD=1000000007;\nconst ll LINF=4000000000000000000;\nconst long double EPS=1e-9;\ntypedef pair<int,int> P;\nint c[1010][1010];\nbool f[1010][1010];\nint main(){\n    int co=0;\n    int q,n;cin>>q>>n;q--;\n    for(int i=1;i<=n;i++){\n        string s;cin>>s;\n        for(int j=0;j<n;j++){\n            if(s[j]=='1'){\n                c[i][j+1]=1;\n            }\n        }\n    }\n    for(int i=1;i<=n;i++){\n        for(int j=1;j<=n;j++){\n            if(!c[i][j]){\n                if(c[n-i+1][j]){\n                    co++;\n                }\n                if(c[i][n-j+1]){\n                    co++;\n                }\n            }\n        }\n    }\n    int ans=0;\n    if(co==0)ans++;\n    while(q--){\n        int d;cin>>d;\n        for(int i=0;i<d;i++){\n            int y,x;cin>>y>>x;\n            int ny=n-y+1,nx=n-x+1;\n            if(c[y][x]){\n                c[y][x]=0;\n                if(c[ny][x]){\n                    co++;\n                }else{\n                    co--;\n                }\n                if(c[y][nx]){\n                    co++;\n                }else{\n                    co--;\n                }\n            }else{\n                c[y][x]=1;\n                if(c[ny][x]){\n                    co--;\n                }else{\n                    co++;\n                }\n                if(c[y][nx]){\n                    co--;\n                }else{\n                    co++;\n                }\n            }\n        }\n        if(co==0)ans++;\n    }\n    cout<<ans<<endl;\n}   \n\n"
  },
  {
    "language": "C++",
    "code": "\n#include <bits/stdc++.h>\nusing namespace std;\n\n// Preprocessor loop\n#define CAT_I(x, y) x ## y\n#define CAT(x, y) CAT_I(x, y)\n\n#define INC0 1\n#define INC1 2\n#define INC2 3\n#define INC3 4\n#define INC4 5\n#define INC5 6\n#define INC6 7\n#define INC7 8\n#define INC8 9\n#define INC(i) CAT(INC, i)\n\n#define EMPTY(...)\n#define DEF_COMMA0 _,1 EMPTY\n#define COMMA0() ,0\n#define IS_EMPTY_III(f, s) s\n#define IS_EMPTY_II(t) IS_EMPTY_III t\n#define IS_EMPTY_I(x) IS_EMPTY_II((DEF_ ## x()))\n#define IS_EMPTY(x, ...) IS_EMPTY_I(x COMMA0)\n\n#define IF_0(x, y) y\n#define IF_1(x, y) x\n#define IF(cond, x, y) CAT(IF_, cond)(x, y)\n\n#define FOR_EACH_I9(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I8(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I7(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I6(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I5(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I4(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I3(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I2(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I1(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I0(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I(i, F, ...) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH(F, ...) FOR_EACH_I(0, F, __VA_ARGS__)\n#define IF_0(x, y) y\n#define IF_1(x, y) x\n#define IF(cond, x, y) CAT(IF_, cond)(x, y)\n\n#define FOR_EACH_I9(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I8(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I7(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I6(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I5(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I4(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I3(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I2(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I1(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I0(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I(i, F, ...) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH(F, ...) FOR_EACH_I(0, F, __VA_ARGS__)\n// Preprocessor loop end\n\n// Preprocessor args counter\n#define PP_NARG(...) \\\n         PP_NARG_(__VA_ARGS__,PP_RSEQ_N())\n#define PP_NARG_(...) \\\n         PP_ARG_N(__VA_ARGS__)\n#define PP_ARG_N( \\\n          _1, _2, _3, _4, _5, _6, _7, _8, _9,_10, \\\n         _11,_12,_13,_14,_15,_16,_17,_18,_19,_20, \\\n         _21,_22,_23,_24,_25,_26,_27,_28,_29,_30, \\\n         _31,_32,_33,_34,_35,_36,_37,_38,_39,_40, \\\n         _41,_42,_43,_44,_45,_46,_47,_48,_49,_50, \\\n         _51,_52,_53,_54,_55,_56,_57,_58,_59,_60, \\\n         _61,_62,_63,N,...) N\n#define PP_RSEQ_N() \\\n         63,62,61,60,                   \\\n         59,58,57,56,55,54,53,52,51,50, \\\n         49,48,47,46,45,44,43,42,41,40, \\\n         39,38,37,36,35,34,33,32,31,30, \\\n         29,28,27,26,25,24,23,22,21,20, \\\n         19,18,17,16,15,14,13,12,11,10, \\\n         9,8,7,6,5,4,3,2,1,0\n#define IS_ONEARG(...) IS_ONEARG_(__VA_ARGS__,PP_RSEQ_ONE())\n#define IS_ONEARG_(...) IS_ONEARG_N(__VA_ARGS__)\n#define IS_ONEARG_N(_1, _2, _3, _4, _5, _6, _7, _8, _9, _10, N, ...) N\n#define PP_RSEQ_ONE() 0,0,0,0,0,0,0,0,0,1,0\n\n// Preprocessor args counter end\n\n// alternative rep macro\n#define esc_paren(...) __VA_ARGS__\n#define in ,\n#define rep(...) rep1(rep2, (__VA_ARGS__))\n#define rep1(X, A) X A\n#define rep2(i, ...) IF(IS_ONEARG(__VA_ARGS__), rep_len1(i, __VA_ARGS__), rep3(i, __VA_ARGS__))\n#define rep_len1(i, end, ...) for (int i = 0; i < end; i++)\n#define rep3(i, iter, ...) rep4(rep5, (iter, i, esc_paren __VA_ARGS__))\n#define rep4(X, A) X A\n#define rep5(iter, ...) iter(__VA_ARGS__)\n\n// iterators\n#define up up_iter ,\n#define up_iter3(i, start, end) for (int i = start; i < end; i++)\n#define up_iter4(i, start, end, up) for (int i = start; i < end; i += up)\n#define up_iter(...) CAT(up_iter, PP_NARG(__VA_ARGS__))(__VA_ARGS__)\n#define down down_iter ,\n#define down_iter2(i, end) for(int i = end-1; i >= 0; i++)\n#define down_iter3(i, start, end) for (int i = end-1; i >= start; i--)\n#define down_iter4(i, start, end, down) for (int i = end-1; i >= start; i -= down)\n#define down_iter(...) CAT(down_iter, PP_NARG(__VA_ARGS__))(__VA_ARGS__)\n#define viter viter_iter ,\n#define viter_iter(i, v) auto tmpitr=v.begin(); for (auto i=*tmpitr; tmpitr != v.end(); tmpitr++)\n\n// short names\ntypedef long long ll;\ntypedef string str;\n#define down_queue(x) priority_queue<x>\n#define up_queue(x) priority_queue<x, vector<x>, greater<x>>\n#define vec(x) vector<x>\nll gcd(ll a,ll b){while(b){ll tmp = a % b;a = b;b = tmp;}return a;}\nll lcm(ll a,ll b){return a / gcd(a,b) * b;}\n#define all(x) x.begin(), x.end()\n#define split_str(str, sp_word) istringstream stream(str); string res; for(int cnt = 0; getline(stream,res,sp_word); cnt++)\n#define digit(x) ((int)log10((double)(x)) + 1)\n#define mp(x,y) make_pair(x,y)\n#define pb(x) push_back(x)\n#define pf(x) push_front(x)\n#define out(x) for(auto i : x) cout << i << \" \"; cout << endl;\n#define outln(x) for(auto i : x) cout << i << \" \" << endl;\n#define vec_cpy(to,from) copy(all(to),back_inserter(from))\n#define ary_cpy(to,from) memcpy(to, from, sizeof from)\n#define MOD = 1000000007; \n\n// debug macros\n#define DEBUG_VAR(v) << #v << \"=\" << v << \" \"\n#ifdef DEBUG\n#define debug_echo(e) cout << \"L\" << __LINE__ << \": \" << e << endl\n#define debug_var(...) cout << \"L\" << __LINE__ << \": \" FOR_EACH(DEBUG_VAR, __VA_ARGS__) << endl\n#define debug_echo_dp1(dp, N) { cout << \"[ \"; rep(i, N) cout << dp[i] << \" \";  cout << \"]\" << endl; }\n#else\n#define debug_echo(e)\n#define debug_var(...)\n#define debug_echo_dp1(dp, N)\n#endif\n\n// Implementation\n\n#define MAX_C 10000\n#define MAX_N 1000\n\nint C;\nint N;\nint p[MAX_N][MAX_N];\n\nset<pair<int, int> > diff;\n\nvoid init_diff() {\n  rep (i in N/2) {\n    int ni = N-i-1;\n    rep (j in N) {\n      if (p[i][j] != p[ni][j]) {\n        diff.insert(make_pair(i, j));\n      }\n    }\n  }\n  rep (i in N) {\n    rep (j in N/2) {\n      int nj = N-j-1;\n      if (p[i][j] != p[i][nj]) {\n        diff.insert(make_pair(i, j));\n      }\n    }\n  }\n}\n\nbool flip_diff(int r, int c) {\n  auto it = diff.find(make_pair(r, c));\n  if (it != diff.end()) {\n    diff.erase(make_pair(r, c));\n  } else {\n    diff.insert(make_pair(r, c));\n  }\n}\nbool has_key(int r, int c) {\n  auto it = diff.find(make_pair(r, c));\n  return it != diff.end();\n}\n\nint edit_diff(int r, int c) {\n  int nr = N-1-r;\n  int nc = N-1-c;\n  debug_var(r, c, nr, nc);\n  if (has_key(nr, c) && has_key(r, nc)) {\n    diff.erase(make_pair(r, c));\n  } else {\n    flip_diff(r, c);\n  }\n  if (has_key(nr, c)) {\n    diff.erase(make_pair(nr, c));\n  }\n  if (has_key(r, nc)) {\n    diff.erase(make_pair(r, nc));\n  }\n}\n\nint main() {\n  cin >> C >> N;\n  rep (i in N) {\n    rep (j in N) {\n      char c;\n      cin >> c;\n      if (c == '1') {\n        p[i][j] = 1;\n      } else {\n        p[i][j] = 0;\n      }\n    }\n  }\n\n  int cnt = 0;\n\n  init_diff();\n  for (auto e : diff) {\n    debug_var(e.first, e.second);\n  }\n  if (diff.empty()) {\n    cnt++;\n  }\n\n  rep (_ in C-1) {\n    int D;\n    cin >> D;\n    rep (_ in D) {\n      int r, c;\n      cin >> r >> c;\n      edit_diff(r-1, c-1);\n    }\n    debug_echo(\"Coaster!\");\n    for (auto e : diff) {\n      debug_var(e.first, e.second);\n    }\n    if (diff.empty()) {\n      cnt++;\n    }\n  }\n  cout << cnt << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<stdio.h>\n#include<math.h>\n#include<string>\n#include<algorithm>\n#include<utility>\n#include<vector>\nusing namespace std;\nint main(){\n    char corster[1001][1001],ch;\n    pair<int,int> at;\n    int ans=0;\n    int n,m,a,d;\n    bool bo=false;\n    cin>>m>>n;\n    for(int i=0;i<n;++i){\n        for(int j=0;j<n;++j){\n            cin>>ch;\n            if(a)corster[i][j]=true;\n            else corster[i][j]=false;\n        }\n    }\n    for(int k=0;k<n;++k){\n            for(int l=0;l<n/2;++l){\n                if(corster[k][l]!=corster[k][n-l]||corster[k][l]!=corster[n-l][k]){\n                    bo=true;\n                    break;\n                }\n            }\n            if(bo)break;\n    }\n    if(!bo)ans++;\n    bo=false;\n    for(int i=0;i<m-1;++i){\n        cin>>d;\n        for(int j=0;j<d;++j){\n            cin>>at.first>>at.second;\n            if( corster[at.first-1][at.second-1]) corster[at.first-1][at.second-1]=false;\n            else  corster[at.first-1][at.second-1]=true;\n        }\n        for(int k=0;k<n;++k){\n            for(int l=0;l<n/2;++l){\n                if(corster[k][l]!=corster[k][n-l-1]||corster[k][l]!=corster[n-l-1][k]){\n                    bo=true;\n                    break;\n                }\n            }\n            if(bo)break;\n        }\n        if(!bo)ans++;\n    }\n    cout<<ans<<endl;\n    \n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,a,b) for(int i=a;i<b;i++)\n#define rrep(i,a,b) for(int i=a;i>=b;i--)\n#define fore(i,a) for(auto &i:a)\n#define all(x) (x).begin(),(x).end()\n#pragma GCC optimize (\"-O3\")\nusing namespace std; void _main(); int main() { cin.tie(0); ios::sync_with_stdio(false); _main(); }\ntypedef long long ll; const int inf = INT_MAX / 2; const ll infl = 1LL << 60;\ntemplate<class T>bool chmax(T &a, const T &b) { if (a<b) { a = b; return 1; } return 0; }\ntemplate<class T>bool chmin(T &a, const T &b) { if (b<a) { a = b; return 1; } return 0; }\n//---------------------------------------------------------------------------------------------------\n/*---------------------------------------------------------------------------------------------------\n　　　　　　　　　　　 ∧＿∧  \n　　　　　 ∧＿∧ 　（´<_｀ ）　 Welcome to My Coding Space!\n　　　　 （ ´_ゝ`）　/　 ⌒i     \n　　　　／　　　＼　 　 |　|     \n　　　 /　　 /￣￣￣￣/　　|  \n　 ＿_(__ﾆつ/　    ＿/ .| .|＿＿＿＿  \n　 　　　＼/＿＿＿＿/　（u　⊃  \n---------------------------------------------------------------------------------------------------*/\n\n\n\n\nint C, N, P[1010][1010];\nint ok;\n//---------------------------------------------------------------------------------------------------\nint check(int x, int y) {\n    if (P[y][x] == P[N - 1 - y][x] and P[y][x] == P[N - 1 - y][N - 1 - x] and P[y][x] == P[y][N - 1 - x]) return 1;\n    return 0;\n}\n//---------------------------------------------------------------------------------------------------\nvoid _main() {\n    cin >> C >> N;\n    rep(y, 0, N) {\n        string s; cin >> s;\n        rep(x, 0, N) P[y][x] = s[x] - '0';\n    }\n\n    rep(y, 0, N / 2) rep(x, 0, N / 2) if (check(x, y)) ok++;\n    \n    int ans = 0;\n    if (ok == N * N / 4) ans++;\n    rep(c, 0, C - 1) {\n        int D; cin >> D;\n        rep(d, 0, D) {\n            int r, c; cin >> r >> c;\n            r--; c--;\n\n            if (check(c, r)) ok--;\n            \n            P[r][c] = 1 - P[r][c];\n\n            if (check(c, r)) ok++;\n        }\n        if (ok == N * N / 4) ans++;\n    }\n    cout << ans << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n\n#include<iostream>\n#include<string>\n\nusing namespace std ;\n\n#define MAX_N 1000\n\n\nbool IsSucceed( string *dat ,int *N )\n{\n\tint succeed = true ;\n\tint begin = 0 ,end = *N - 1 ;\n\twhile( succeed == true && begin < end )\n\t{\n\t\tsucceed = (dat[ begin ] == dat[ end ]) ;\n\n\t\t++begin ;\n\t\t--end ;\n\t}\n\t\n\treturn succeed ;\n}\n\nstring horizontal[ MAX_N ] ;\nstring vertical[ MAX_N ] ;\nint main( void )\n{\n\tint C ,N ;\n\tscanf( \"%d %d\" ,&C ,&N ) ;\n\n\tint i ,j ;\n\tfor( i = 0 ; i < N ; ++i )\n\t{\n\t\tcin >> horizontal[ i ] ;\n\t}\n\n\tfor( i = 0 ; i < N ; ++i )\n\t{\n\t\tfor( j = 0 ; j < N ; ++j )\n\t\t{\n\t\t\tvertical[ i ].insert( vertical[ i ].begin() + j ,horizontal[ j ][ i ] ) ;\n\t\t}\n\t}\n\t\n\tint ans = (IsSucceed( horizontal ,&N ) & IsSucceed( vertical ,&N )) == true ;\n\t\n\tfor( i = 1 ; i < C ; ++i )\n\t{\n\t\tint c ;\n\t\tscanf( \"%d\" ,&c ) ;\n\t\tfor( j = 0 ; j < c ; ++j )\n\t\t{\n\t\t\tint y ,x ;\n\t\t\tscanf( \"%d %d\" ,&y ,&x ) ; --y ; --x ;\n\n\t\t\tstring::iterator p = vertical[ x ].begin() + y ;\n\t\t\tvertical[ x ].replace( p ,p ,vertical[ x ].substr( y ,1 ) == \"0\" ? \"1\" : \"0\" ) ; vertical[ x ].erase( vertical[ x ].begin() + y + 1 ) ;\n\t\t\tstring::iterator _p = horizontal[ y ].begin() + x ;\n\t\t\thorizontal[ y ].replace( _p ,_p ,horizontal[ y ].substr( x ,1 ) == \"0\" ? \"1\" : \"0\" ) ; horizontal[ y ].erase( horizontal[ y ].begin() + x + 1 ) ;\n\t\t}\n\n\t\tans += (IsSucceed( horizontal ,&N ) & IsSucceed( vertical ,&N )) == true ;\n\t}\n\t\n\tprintf( \"%d\\n\" ,ans ) ;\n\n\treturn 0 ;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <iomanip>\nusing namespace std;\n\nclass Coster {\npublic:\n\tCoster(int n);\n\t~Coster();\n\tvoid diff(const int& r, const int& c);\n\tint SymmetryNum();\n\tvoid SymCalc();\n\tbool** pixel;\nprivate:\n\tint symmetry;\n\tint N;\n};\nCoster::Coster(int n) {\n\tN = n;\n\tpixel = new bool*[n];\n\tfor (int i = 0; i < n; i++)\n\t\tpixel[i] = new bool[n];\n}\nCoster::~Coster() {\n\tdelete[] pixel;\n}\nvoid Coster::diff(const int& r, const int& c) {\n\n\tpixel[r-1][c-1] = !pixel[r-1][c-1];\n}\nint Coster::SymmetryNum() {\n\treturn symmetry;\n}\nvoid Coster::SymCalc() {\n\tchar same = 0;\n\tfor (int r = 0; r < N / 2; r++) {\n\t\tfor (int c = 0; c < N / 2; c++) {\n\t\t\tsame  = pixel[r][c];\n\t\t\tsame |= pixel[r][N - c - 1] << 1;\n\t\t\tsame |= pixel[N - r - 1][c] << 2;\n\t\t\tsame |= pixel[N - r - 1][N - c - 1] << 3;\n\t\t\tif (!(same == 0x0f || same == 0x00))\n\t\t\t\treturn;\n\t\t}\t\t\n\t}\n\tsymmetry++;\n}\n\nint main()\n{\n\tint C,N;\n\tcin >> C >> N;\n\tCoster coster(N);\n\tchar n;\n\tfor (int i = 0; i < N; i++) {\n\t\tfor (int j = 0; j < N; j++) {\n\t\t\tcin >> n;\n\t\t\tcoster.pixel[i][j] = (bool)(n - '0');\n\t\t}\n\t}\n\tcoster.SymCalc();\n\n\tfor (int I = 0; I < C-1; I++) {\n\t\tint D;\n\t\tcin >> D;\n\t\tfor (int i = 0; i < D; i++) {\n\t\t\tint r, c;\n\t\t\tcin >> r >> c;\n\t\t\tcoster.diff(r, c);\n\t\t}\n\t\tcoster.SymCalc();\n\t}\n\n\tcout << coster.SymmetryNum() << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <algorithm>\n#include <string>\nusing namespace std;\nstring str[1001][2];\nint H;\n\nbool isSym() {\n    for (int i = 1; i <= H; i++) if (str[i][0] != str[i][1]) return false;\n    for (int i = 1; i <= H/2; i++) if (str[i][0] != str[H+1-i][0] || str[i][1] != str[H+1-i][1]) return false;\n    return true;\n}\n\n//1 -> 0, 2 -> 1 ... 5 -> 3, 6 -> 2, 7 -> 1, 8 -> 0\nvoid change(const int &x, const int &y) {\n    if (y > H/2) {\n        if (str[x][1][H-y] == '0') str[x][1][H-y] = '1';\n        else str[x][1][H-y] = '0';\n    }\n    else {\n        if (str[x][0][y-1] == '0') str[x][0][y-1] = '1';\n        else str[x][0][y-1] = '0';\n    }\n}\n\n\nint main()  {\n\n    char buffer[1001];\n    int C, x, y, d, sum = 0;\n    scanf(\"%d %d\", &C, &H);\n    string smpl;\n    for (int i = 1; i <= H; i++) {\n        scanf(\"%s\", buffer);\n        smpl = buffer;\n        reverse(smpl.begin()+H/2, smpl.begin()+H/2*2);\n        str[i][0] = smpl.substr(0, H/2); str[i][1] = smpl.substr(H/2);\n    }\n\n    if (isSym()) sum++;\n    for (int i = 0; i < C-1; i++) {\n        scanf(\"%d\", &d);\n        for (int j = 0; j < d; j++) {\n            scanf(\"%d %d\", &x, &y);\n            change(x, y);\n        }\n        if (isSym()) sum++;\n    }\n    printf(\"%d\\n\", sum);\n\n\n\n\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef pair<int, int> P;\n\nP lefttop(P p, int N){\n  int i = p.first, j = p.second;\n  return min(P(i, j), min(P(i, N-j-1), min(P(N-i-1, j), P(N-i-1, N-j-1))));\n}\n\nbool mirr(const vector< vector<int> > &p, P x, int N){\n  int i = x.first, j = x.second;\n  //cout << i+1 << \" \" << j+1 << \" \" << N-i << \" \" << N-j << endl;\n  return p[i][j] == p[i][N-j-1] &&\n         p[i][j] == p[N-i-1][j] &&\n         p[i][j] == p[N-i-1][N-j-1];\n}\n\nvoid init(vector< vector<int> > &p, int N, set<P> &s){\n  s.clear();\n  for(int i = 0; i < N; i++){\n    for(int j = 0; j < N; j++){\n      P point = P(i, j);\n      if( !mirr(p, point, N) ){\n        s.insert(lefttop(point, N));\n      }\n    }\n  }\n}\n\nint rev(int x){\n  return (x == 0) ? 1 : 0;\n}\n\nvoid update(P lt, vector< vector<int> >&p, set<P> &s, int N){\n  set<P>::iterator it = s.find(lt);\n  //cout << \"===========\" << lt.first << \" \" << lt.second << endl;\n  if(it != s.end() && mirr(p, lt, N)){\n    //cout << \"A\" << endl;\n    //cout << it->first << \" \" << it->second << endl;\n    s.erase(it);\n  }else{\n    s.insert(lt);\n  }\n}\n\nvoid print(const vector< vector<int> > &p, int N){\n  for(size_t i = 0; i < N; i++){\n    for(size_t j = 0; j < N; j++){\n      cout << p[i][j];\n    }\n    cout << endl;\n  }\n  cout << endl;\n}\n\nvoid prints(set<P> &s){\n  for(set<P>::iterator it = s.begin(); it != s.end(); it++){\n    cout << \"(\" << it->first << \" \" << it->second << \") \";\n  }\n  cout << endl;\n}\n\nint main(void){\n  int C, N; cin >> C >> N;\n  vector< vector<int> > p(1000, vector<int>(1000));\n  for(int i = 0; i < N; i++){\n    string str; cin >> str;\n    for(int j = 0; j < N; j++){\n      p[i][j] = str[j] - '0';\n    }\n  }\n\n  int ans = 0;\n  set<P> s;\n  init(p, N, s);\n\n  if(s.size() == 0){\n    ans++;\n  }\n  for(int i = 0; i < C-1; i++){\n    int D; cin >> D;\n    //prints(s);\n    for(int j = 0; j < D; j++){\n      int r, c; cin >> r >> c;\n      r--; c--;\n      p[r][c] = rev(p[r][c]);\n      P q = P(r, c);\n      P lt = lefttop(q, N);\n      //prints(s);\n      //cout << lt.first << \" \" << lt.second << endl;\n      update(lt, p, s, N);\n      //print(p, N);\n    }\n    if(s.size() == 0) ans++;\n  }\n  cout << ans << endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\nusing namespace std;\n\nbool Symmetry(int P[10000][10000],int n)\n{\n\tfor(int i=0;i<=n/2;i++){\n\t\tfor(int j=0;j<=n;j++){\n\t\t\tif(P[i][j]!=P[n-i][j]){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfor(int i=0;i<=n;i++){\n\t\tfor(int j=0;j<=n/2;j++){\n\t\t\tif(P[i][j]!=P[i][n-j]){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\t\n\treturn true;\n}\t\n\nint main()\n{\n\tint C,N;\n\tcin>>C>>N;\n\t\n\tint p[10000][10000]={0,0};\n\t\n\tchar tmp;\n\t\n\tfor(int i=0;i<N;i++){\n\t\tfor(int j=0;j<N;j++){\n\t\t\tcin>>tmp;\n\t\t\tif(tmp=='0'){\n\t\t\t\tp[i][j]=0;\n\t\t\t}\n\t\t\telse if(tmp=='1'){\n\t\t\t\tp[i][j]=1;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tint count=0;\n\t\n\tif(Symmetry(p,N-1)){\n\t\tcount++;\n\t}\n\t\n\tint D,r,c;\n\n\tfor(int i=1;i<C;i++){\n\t\tcin>>D;\n\t\tfor(int j=0;j<D;j++){\n\t\t\tcin>>r>>c;\n\t\t\tp[r-1][c-1]=!p[r-1][c-1];\n\n\t\t}\n\t\tif(Symmetry(p,N-1)){\n\t\t\tcount++;\n\t\t}\n\t}\n\t\n\tcout<<count<<endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\n#include<queue>\n#include<string>\n#include<map>\nusing namespace std;\nint coaster[1005][1005]={0};\nint main(){\n  int c,n;\n  cin>>c>>n;\n  int ts=0,ans=0;\n  for(int i=0;i<n;i++){\n    string s;\n    cin>>s;\n    for(int j=0;j<n;j++) coaster[i][j]=(s[j]=='0'?0:1);\n  }\n  for(int i=0;i<n;i++){\n    for(int j=0;j<n;j++){\n      if(coaster[i][j]!=coaster[i][(n-1)-j])  ts++;\n      if(coaster[i][j]!=coaster[(n-1)-i][j])  ts++;\n    }\n  }\n  ts/=2;\n  if(ts==0) ans++;\n  for(int q=1;q<c;q++){\n    int m;\n    cin>>m;\n    for(int i=0;i<m;i++){\n      int x,y;\n      cin>>x>>y;\n      x--;\n      y--;\n      coaster[x][y]=(coaster[x][y]+1)%2;\n      if(coaster[x][y]==coaster[x][(n-1)-y]) {\n        ts--;\n      }\n      else{\n        ts++;\n      }\n      if(coaster[x][y]==coaster[(n-1)-x][y])  ts--;\n      else ts++;\n    }\n    if(ts==0){\n      ans++;\n    }\n  }\n  cout<<ans<<endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <iomanip>\nusing namespace std;\n\nclass Coster {\npublic:\n\tCoster(int n);\n\t~Coster();\n\tvoid diff(const int& r, const int& c);\n\tint SymmetryNum();\n\tvoid FirstSym();\n\tvoid SymCalc(int r, int c);\n\tvoid Count();\n\tbool** pixel;\nprivate:\n\tint symmetry;\n\tint N;\n\tbool same;\n};\nCoster::Coster(int n) {\n\tN = n;\n\tpixel = new bool*[n];\n\tfor (int i = 0; i < n; i++)\n\t\tpixel[i] = new bool[n];\n\tsame = false;\n}\nCoster::~Coster() {\n\tdelete[] pixel;\n}\nvoid Coster::diff(const int& r, const int& c) {\n\n\tpixel[r-1][c-1] = !pixel[r-1][c-1];\n}\nint Coster::SymmetryNum() {\n\treturn symmetry;\n}\nvoid Coster::FirstSym() {\n\tchar same = 0;\n\tfor (int r = 0; r < N / 2; r++) {\n\t\tfor (int c = 0; c < N / 2; c++) {\n\t\t\tsame = pixel[r][c];\n\t\t\tsame |= pixel[r][N - c - 1] << 1;\n\t\t\tsame |= pixel[N - r - 1][c] << 2;\n\t\t\tsame |= pixel[N - r - 1][N - c - 1] << 3;\n\t\t\tif (!(same == 0x0f || same == 0x00))\n\t\t\t\treturn;\n\t\t}\n\t}\n\tsymmetry++;\n}\nvoid Coster::SymCalc(int r, int c) {\n\tchar same = 0;\n\tsame = pixel[r][c];\n\tsame |= pixel[r][N - c - 1] << 1;\n\tsame |= pixel[N - r - 1][c] << 2;\n\tsame |= pixel[N - r - 1][N - c - 1] << 3;\n\tif (same == 0x0f || same == 0x00)\n\t\tsame = true;\n\telse\n\t\tsame = false;\n}\nvoid Coster::Count() {\n\tif (same)\n\t\tsymmetry++;\n}\n\nint main()\n{\n\tint C,N;\n\tcin >> C >> N;\n\tCoster coster(N);\n\tchar n;\n\tfor (int i = 0; i < N; i++) {\n\t\tfor (int j = 0; j < N; j++) {\n\t\t\tcin >> n;\n\t\t\tcoster.pixel[i][j] = (bool)(n - '0');\n\t\t}\n\t}\n\t\n\tcoster.FirstSym();\n\n\tfor (int I = 0; I < C-1; I++) {\n\t\tint D;\n\t\tcin >> D;\n\t\tfor (int i = 0; i < D; i++) {\n\t\t\tint r, c;\n\t\t\tcin >> r >> c;\n\t\t\tcoster.diff(r, c);\n\t\t\tcoster.SymCalc(r, c);\n\t\t}\n\t\tcoster.Count();\n\t}\n\n\tcout << coster.SymmetryNum() << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<string>\n#include<cmath>\n#include<vector>\n#include<functional>\n#include<stack>\n#include<set>\n\nusing namespace std;\nset<int> memo;\nint main() {\n\tint c, n, ans = 0;\n\tcin >> c >> n;\n\tvector<string> a(n);\n\tfor (int i = 0; i < n; i++)cin >> a[i];\n\tfor (int i = 0; i < n / 2; i++) {\n\t\tfor (int j = 0; j < n / 2; j++) {\n\t\t\tif (a[i][j] == a[i][n - 1 - j] && a[i][j] == a[n - 1 - i][j] && a[i][j] == a[n - 1 - i][n - 1 - j]);\n\t\t\telse {\n\t\t\t\tmemo.insert(i*n + j);\n\t\t\t}\n\t\t}\n\t}\n\tif (memo.size() == 0)ans++;\n\tfor (int h = 1; h < c; h++) {\n\t\tint d, dx[101], dy[101];\n\t\tcin >> d;\n\t\tfor (int i = 0; i < d; i++) {\n\t\t\tcin >> dx[i] >> dy[i];\n\t\t\tdx[i]--; dy[i]--;\n\t\t\tif (a[dx[i]][dy[i]] == '0')a[dx[i]][dy[i]] = '1';\n\t\t\telse a[dx[i]][dy[i]] = '0';\n\t\t\tif (dx[i] >= n / 2)dx[i] = n - 1 - dx[i];\n\t\t\tif (dy[i] >= n / 2)dy[i] = n - 1 - dy[i];\n\t\t}\n\t\tfor (int i = 0; i < d; i++) {\n\t\t\tif (a[dx[i]][dy[i]] == a[dx[i]][n - 1 - dy[i]] && a[dx[i]][dy[i]] == a[n - 1 - dx[i]][dy[i]] && a[dx[i]][dy[i]] == a[n - 1 - dx[i]][n - 1 - dy[i]]) {\n\t\t\t\tmemo.erase(dx[i] * n + dy[i]);\n\t\t\t\tmemo.erase((n - 1 - dx[i])*n + dy[i]);\n\t\t\t\tmemo.erase(dx[i] * n + n - 1 - dy[i]);\n\t\t\t\tmemo.erase((n - 1 - dx[i])*n + n - 1 - dy[i]);\n\t\t\t}\n\t\t\telse memo.insert(dx[i]*n+dy[i]);\n\t\t}\n\t\tif (memo.size() == 0)ans++;\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\nusing namespace std;\n\nint main(){\n\n    int c,n,d,x,y,count,N;\n\n    count = 0;\n\n    cin >> c >> n;\n\n    N = n-1;\n\n    bool table[n][n];\n\n    char cha;\n\n     for(int i=0; i<n; i++){\n       for(int j=0; j<n; j++){\n           cin >> cha;\n           table[i][j] = cha=='0' ? 0 : 1;\n       }\n     }\n\n     bool flag=true;\n\n     for(int i=0; i<n/2; i++){\n       for(int j=0; j<n/2; j++){\n           if( (table[i][j] + table[i][N-j] + table[N-i][j] + table[N-i][N-j]) % 4 != 0){\n             flag = false;\n             break;\n           }\n       }\n       if(!flag){\n         break;\n       }\n     }\n\n     if(flag){\n       count++;\n     }\n\n     for(int k=0;k<c-1;k++){\n\n       cin >> d;\n\n       for(int i=0;i<d;i++){\n         cin >> x >> y;\n         table[x-1][y-1] = !table[x-1][y-1];\n       }\n\n       flag=true;\n\n       for(int i=0; i<n/2; i++){\n         for(int j=0; j<n/2; j++){\n             if( (table[i][j] + table[i][N-j] + table[N-i][j] + table[N-i][N-j]) % 4 != 0){\n               flag = false;\n               break;\n             }\n         }\n         if(!flag){\n           break;\n         }\n       }\n\n       if(flag){\n         count++;\n       }\n     }\n\n     cout << count << endl;\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define r(i,n) for(int i=0;i<n;i++)\nusing namespace std;\nstring s[1001];\nint n,c,x,y,cp,p,ans;\nint ch(int x,int y){\n  if(s[n-y-1][n-x-1]!=s[y][x])return 0;\n  if(s[n-y-1][x]!=s[y][x])return 0;\n  if(s[y][n-x-1]!=s[y][x])return 0;\n  return 1;\n}\nint main(){\n  cin>>c>>n;\n  r(i,n)cin>>s[i];\n  r(i,n/2)r(j,n/2)cp+=ch(j,i)*4;\n  if(cp==n*n)ans++;\n  r(i,c-1){\n    cin>>p;\n    r(i,p){\n      cin>>y>>x;x--;y--;\n      cp-=ch(x,y)*4;\n      if(s[y][x]=='0')s[y][x]='1';\n      else s[y][x]='0';\n      cp+=ch(x,y)*4;\n    }\n    if(cp==n*n)ans++;\n  }\n  cout<<ans<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define REP(i,n) FOR(i,0,n)\n#define ALL(v) (v).begin(),(v).end()\n#define fi first\n#define se second\n\ntemplate<typename A, typename B> inline bool chmax(A &a, B b) { if (a<b) { a=b; return 1; } return 0; }\ntemplate<typename A, typename B> inline bool chmin(A &a, B b) { if (a>b) { a=b; return 1; } return 0; }\n\ntypedef long long ll;\ntypedef pair<int, int> pii;\n\nconst ll INF = 1ll<<29;\nconst ll MOD = 1000000007;\nconst bool debug = 0;\n\nint C, N;\nint maps[1123][1123];\nbool bef[1123][1123];\n\nint dcnt; // ???????????°\n\nbool check(int x, int y) {\n\tbool now = maps[y][x];\n\tpii p1(y, x), p2(y, N - 1 - x), p3(N - 1 - y, N - 1 - x), p4(N - 1 - y, x);\n\t\n\tif (maps[p1.fi][p1.se] != now) return false;\n\tif (maps[p2.fi][p2.se] != now) return false;\n\tif (maps[p3.fi][p3.se] != now) return false;\n\tif (maps[p4.fi][p4.se] != now) return false;\n\t\n\treturn true;\n}\n\nint main() {\n\tcin >> C >> N;\n\tREP(i, N) {\n\t\tstring s; cin >> s;\n\t\tREP(j, N) maps[i][j] = s[j] - '0';\n\t}\n\t\n\tREP(i, N / 2) REP(j, N / 2) {\n\t\tbef[i][j] = check(j, i);\n\t\tif (!bef[i][j]) dcnt++;\n\t}\n\t\n\tint ans = 0;\n\tif (dcnt == 0) ans++;\n\t\n\twhile (--C) {\n\t\tint D; cin >> D;\n\t\t\n\t\tREP(i, D) {\n\t\t\tint y, x;\n\t\t\tscanf(\"%d %d\", &y, &x);\n\t\t\ty--; x--;\n\t\t\t\n\t\t\tmaps[y][x] ^= 1;\n\t\t\t\n\t\t\tif (y >= N / 2) y = N - 1 - y;\n\t\t\tif (x >= N / 2) x = N - 1 - x;\n\t\t\t\n\t\t\tbool jdg = check(x, y);\n\t\t\t\n\t\t\tif (!jdg && bef[y][x]) {\n\t\t\t\tdcnt++;\n\t\t\t\tbef[y][x] = false;\n\t\t\t}\n\t\t\tif (jdg) {\n\t\t\t\tdcnt--;\n\t\t\t\tbef[y][x] = true;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (dcnt == 0) ans++;\n\t}\n\t\n\tcout << ans << endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nshort table[1000][1000];\n\n\n\nint main(){\n\n    int c,n,ans=0,N,count=0;\n    char cha;\n    bool flag;\n\n    cin >> c >> n;\n\n    N = n-1;\n\n    for(int i=0; i<n; i++){\n      for(int j=0; j<n; j++){\n          cin >> cha;\n          table[i][j] = cha=='0' ? 0 : 1;\n      }\n    }\n\n    flag = true;\n\n    for(int i=0; i<n/2; i++){\n      for(int j=0; j<n/2; j++){\n          /*int tmp = (table[i][j] + table[i][N-j] + table[N-i][j] + table[N-i][N-j]);\n          cout << tmp << endl;*/\n          if( (table[i][j] + table[i][N-j] + table[N-i][j] + table[N-i][N-j]) % 4 != 0){\n            count++;\n          }\n      }\n    }\n\n    if(count==0){\n      ans++;\n    }\n\n    int d,w,h;\n\n    while(--c){\n\n      map<int,bool> m;\n\n      cin >> d;\n\n      if(d!=0){\n\n        int wid[d];\n        int hei[d];\n        bool beforeok[d];\n\n        for(int i=0;i<d;i++){\n          cin >> w >> h;\n          w--;\n          h--;\n          wid[i] = w;\n          hei[i] = h;\n          /*cout << w*N+h << endl;\n          cout << w*N+(N-h) << endl;\n          cout << (N-w)*N+h << endl;\n          cout << (N-w)*N+(N-h) << endl;*/\n          /*cout << table[w][h] << endl;\n          cout << table[w][N-h] << endl;\n          cout << table[N-w][h] << endl;\n          cout << table[N-w][N-h] << endl;    */\n          //cout << (table[w][h] + table[w][N-h] + table[N-w][h] + table[N-w][N-h]) % 4 << endl;\n          if( (table[w][h] + table[w][N-h] + table[N-w][h] + table[N-w][N-h]) % 4 != 0){\n            beforeok[i] = false;\n          }else{\n            beforeok[i] = true;\n          }\n          table[w][h] = (table[w][h] == 0) ? 1 : 0;\n          m[w*N+h] = false;\n          m[w*N+(N-h)] = false;\n          m[(N-w)*N+h] = false;\n          m[(N-w)*N+(N-h)] = false;\n        }\n\n\n        for(int i=0;i<d;i++){\n          int tmpw = wid[i],tmph = hei[i];\n\n          /*cout << tmpw*N+tmph << endl;\n          cout << tmpw*N+(N-tmph) << endl;\n          cout << (N-tmpw)*N+tmph << endl;\n          cout << (N-tmpw)*N+(N-tmph) << endl;*/\n\n          if(!m[tmpw*N+tmph]){\n            if( (table[tmpw][tmph] + table[tmpw][N-tmph] + table[N-tmpw][tmph] + table[N-tmpw][N-tmph]) % 4 != 0){\n              //cout << \"better\" << endl;\n              if(beforeok[i]){\n                //cout << \"best\" << endl;\n                count++;\n              }\n            }\n            else{\n              //cout << \"worse\" << endl;\n              if(!beforeok[i]){\n                //cout << \"worst\" << endl;\n                count--;\n              }\n            }\n            m[tmpw*N+tmph] = true;\n            m[tmpw*N+(N-tmph)] = true;\n            m[(N-tmpw)*N+tmph] = true;\n            m[(N-tmpw)*N+(N-tmph)] = true;\n          }\n\n        }\n\n      }\n\n      //cout << \"count = \" << count << endl;\n\n      if(count==0){\n        //cout << \"ok\" << endl;\n        ans++;\n      }\n\n      /*for(int i=0; i<n; i++){\n        for(int j=0; j<n; j++){\n            cout << table[i][j];\n        }\n        cout << endl;\n      }*/\n\n    }\n\n    cout << ans << endl;\n\n\n\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define r(i,n) for(int i=0;i<n;i++)\nusing namespace std;\nstring s[1001];\nint n,c,x,y,cp,p,ans;\nint ch(int x,int y){\n  if(s[n-y-1][n-x-1]!=s[y][x])return 0;\n  if(s[n-y-1][x]!=s[y][x])return 0;\n  if(s[y][n-x-1]!=s[y][x])return 0;\n  return 1;\n}\nint main(){\n  cin>>c>>n;\n  r(i,n)cin>>s[i];\n  r(i,n/2)r(j,n/2)cp+=ch(j,i);\n  ans=(cp==n*n/4)?1:0;\n  r(i,c-1){\n    cin>>p;\n    r(i,p){\n      cin>>y>>x;x--;y--;\n      if(ch(x,y))cp--;\n      if(s[y][x]=='0')s[y][x]='1';\n      else s[y][x]='0';\n      if(ch(x,y))cp++;\n    }\n    ans+=(cp==n*n/4)?1:0;\n  }\n  cout<<ans<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "\n#include <iostream>\n\nusing namespace std;\n\nint C;\nint N;\n\nint coaster[1000][1000];\n\nbool is_symmetry() {\n    int halfN = (int)(N / 2);\n    for (int i = 0; i < halfN; i++) {\n        int flipi = N - i - 1;\n        for (int j = 0; j < N; j++) {\n            if (coaster[i][j] != coaster[flipi][j]) {\n                return false;\n            }\n        }\n    }\n    for (int i = 0; i < N; i++) {\n        for (int j = 0; j < halfN; j++) {\n            int flipj = N - j - 1;\n            if (coaster[i][j] != coaster[i][flipj]) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n\nint main() {\n    cin >> C >> N;\n    for (int i = 0; i < N; i++) {\n        for (int j = 0; j < N; j++) {\n            char c;\n            cin >> c;\n            if (c == '1') {\n                coaster[i][j] = 1;\n            } else {\n                coaster[i][j] = 0;\n            }\n        }\n    }\n\n    int count = 0;\n    // cout << is_symmetry() << endl;\n    if (is_symmetry()) {\n        count++;\n    }\n    \n    for (int i = 1; i < C; i++) {\n        int D;\n        cin >> D;\n        for (int d = 0; d < D; d++) {\n            int r, c;\n            cin >> r >> c;\n            if (coaster[r-1][c-1] == 0) {\n                coaster[r-1][c-1] = 1;\n            } else {\n                coaster[r-1][c-1] = 0;\n            }\n        }\n        // cout << is_symmetry() << endl;\n        if (is_symmetry()) {\n            count++;\n        }\n    }\n    cout << count << endl;\n}"
  },
  {
    "language": "C++",
    "code": "//15-6\n#include <iostream>\n#include <fstream>\n#include <stdio.h>\n#include <math.h>\n#include <time.h>\n#include <string>\n#include <vector>\n#include <map>\n#include <list>\n#include <set>\n#include <stack>\n#include <queue>\n#include <cstdlib>\n#include <algorithm>\n#include <random>\n#include <cassert>\nusing namespace std;\n#define LL long long\n#undef INT_MIN\n#undef INT_MAX\n#define INT_MIN -2147483648\n#define INT_MAX 2147483647\n#define LL_MIN -9223372036854775808\n#define LL_MAX 9223372036854775807\n#define segment_size 65536\n#define ROOP() while (true)\n\nint main(){\n    int C,N;\n    cin >> C >> N;\n    bool s[1000][1000];//y,x(r,c)\n    for(int i=0; i<N; i++){\n        for(int j=0; j<N; j++){\n            char tmp;\n            cin >> tmp;\n            if(tmp == '0') s[i][j] = false;\n            else s[i][j] = true;\n        }\n    }\n\n    int ans = 0;\n    int wrong = 0;\n    for(int i=0; i<N/2; i++){\n        for(int j=0; j<N/2; j++){\n            if(s[i][j]==s[N-1-i][j] && s[i][j]==s[i][N-1-j] && s[i][j]==s[N-1-i][N-1-j]){\n\n            }\n            else{\n                wrong++;\n            }\n        }\n    }\n    if(wrong == 0) ans++;\n\n    for(int k=0; k<C-1; k++){\n        int D;\n        cin >> D;\n        for(int l=0; l<D; l++){\n            int r,c;\n            cin >> r >> c;\n            r--;\n            c--;\n            if(s[r][c]==s[N-1-r][c] && s[r][c]==s[r][N-1-c] && s[r][c]==s[N-1-r][N-1-c]){\n                s[r][c] = !s[r][c];\n                wrong++;\n            }\n            else{\n                s[r][c] = !s[r][c];\n                if(s[r][c]==s[N-1-r][c] && s[r][c]==s[r][N-1-c] && s[r][c]==s[N-1-r][N-1-c]){\n                    wrong--;\n                }\n            }\n            \n        }\n        if(wrong == 0) ans++;\n    }\n\n    cout << ans << endl;\n\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\n\nvector<vector<int>>coaster;\nvector < vector<pair<int, int>>>difs;\nint main() {\n\tint C, N; cin >> C >> N;\n\t{\n\t\tvector<vector<int>>field(N, vector<int>(N));\n\t\tfor (int y = 0; y< N; ++y) {\n\t\t\tstring st; cin >> st;\n\t\t\tfor (int x = 0; x < N; ++x) {\n\t\t\t\tfield[y][x]=st[x]-'0';\n\t\t\t}\n\t\t}\n\t\tcoaster = field;\n\t\tdifs.resize(C-1);\n\t\tfor (int i = 0; i < C-1; ++i) {\n\t\t\tint D; cin >> D;\n\t\t\twhile (D--) {\n\t\t\t\tint y, x; scanf(\"%d %d\", &y, &x); y--; x--;\n\t\t\t\tdifs[i].push_back(make_pair(y, x));\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t}\n\tvector<vector<vector<int>>>vs(N / 2, \n\t\tvector<vector<int>>(N / 2,vector<int>( 4)));\n\tint sum = 0;\n\tfor (int y = 0; y < N; ++y) {\n\t\tfor (int x = 0; x < N; ++x) {\n\t\t\tif (y >= N / 2 && x >= N / 2)vs[N - y - 1][N - x - 1][3] = coaster[y][x];\n\t\t\tif (y >= N / 2 && x < N / 2)vs[N - y - 1][x][2] = coaster[y][x];\n\t\t\tif (y < N / 2 && x >= N / 2)vs[y][N - x - 1][1] = coaster[y][x];\n\t\t\tif (y < N / 2 && x < N / 2)vs[y][x][0] = coaster[y][x];\n\n\t\t}\n\t}\n\tfor (int y = 0; y < N / 2; ++y) {\n\t\tfor (int x = 0; x < N / 2; ++x) {\n\n\t\t\tsum+= 1-(all_of(vs[y][x].begin(), vs[y][x].end(), [&](const int a) {return a == vs[y][x][0]; }));\n\t\t}\n\t}\n\tint ans = 0;\n\tif (!sum)ans++;\n\tfor (int i = 0; i < C-1; ++i) {\n\t\tfor (auto dif : difs[i]) {\n\t\t\tint y = dif.first;\n\t\t\tint x = dif.second;\n\t\t\tcoaster[y][x] = !coaster[y][x];\n\t\t\tint ay = y >= N / 2 ? N - y - 1 : y;\n\t\t\tint ax = x >= N / 2 ? N - x - 1 : x;\n\t\t\tsum-= 1-(all_of(vs[ay][ax].begin(), vs[ay][ax].end(), [&](const int a) {return a == vs[ay][ax][0]; }));\n\t\t\tif (y >= N / 2 && x >= N / 2)vs[N - y - 1][N - x - 1][3] = coaster[y][x];\n\t\t\tif (y >= N / 2 && x < N / 2)vs[N - y - 1][x][2] = coaster[y][x];\n\t\t\tif (y < N / 2 && x >= N / 2)vs[y][N - x - 1][1] = coaster[y][x];\n\t\t\tif (y < N / 2 && x < N / 2)vs[y][x][0] = coaster[y][x];\n\t\t\tsum += 1-(all_of(vs[ay][ax].begin(), vs[ay][ax].end(), [&](const int a) {return a == vs[ay][ax][0]; }));\n\n\t\t}\n\t\tif (!sum)ans++;\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef set<pair<int,int> > spair;\n\nint C,N;\nint pixel[1001][1001];\nint D;\nint r,c;\nchar buf[1001];\nspair ver,hol;\n\nint main(){\t\n\tint ans = 0;\n\tver = spair();\n\thol = spair();\n\tscanf(\"%d%d\",&C,&N);\n\tfor(int i = 0; i < N; i++){\n\t\t\tscanf(\"%s\",buf);\n\t\tfor(int j = 0; j < N; j++){\n\t\t\tpixel[i][j] = buf[j] - 0x30;\n\t\t}\n\t}\n\tfor(int i = 0; i < N; i++){\n\t\tfor(int j = 0; j < N/2; j++){\n\t\t\t// hol\n\t\t\tif(pixel[i][j] != pixel[i][N-j-1]){\n\t\t\t\thol.insert(make_pair(i,j));\n\t\t\t\thol.insert(make_pair(i,N-j-1));\n\t\t\t}\n\t\t\t// ver\n\t\t\tif(pixel[j][i] != pixel[N-j-1][i]){\n\t\t\t\tver.insert(make_pair(j,i));\n\t\t\t\tver.insert(make_pair(N-j-1,i));\n\t\t\t}\n\t\t}\n\t}\n\tif(hol.empty() && ver.empty()){\n\t\tans = 1;\n\t}\n\telse{\n\t\tans = 0;\n\t}\n\t// init end\n\t\n\tfor(int otm = 0; otm < C-1; otm++){\n\t\tscanf(\"%d\",&D);\n\t\tfor(int itm = 0; itm < D; itm++){\n\t\t\tscanf(\"%d%d\",&r,&c);\n\t\t\tr--;c--;\n\t\t\tpair<int,int> pr = make_pair(r,c);\n\t\t\tpair<int,int> pr_hr = make_pair(r,N-c-1);\n\t\t\tpair<int,int> pr_vr = make_pair(N-r-1,c);\n\t\t\tint res = hol.erase(pr);\n\t\t\tif(res == 0){\n\t\t\t\thol.insert(pr);\n\t\t\t\thol.insert(pr_hr);\n\t\t\t}\n\t\t\telse{\n\t\t\t\thol.erase(pr_hr);\n\t\t\t}\n\t\t\tint res2 = ver.erase(pr);\n\t\t\tif(res2 == 0){\n\t\t\t\tver.insert(pr);\n\t\t\t\tver.insert(pr_vr);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tver.erase(pr_vr);\n\t\t\t}\n\t\t}\n\t\tif(hol.empty() && ver.empty()){\n\t\t\tans++;\n\t\t}\n\t}\n\tprintf(\"%d\\n\",ans);\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<set>\n#include<string>\n#include<algorithm>\n#include<utility>\nusing namespace std;\n\nclass Point{\npublic:\n  int x;\n  int y;\n  bool bin;\n  friend ostream& operator<<(ostream& os,const Point& p){\n    os << p.x << \" \" << p.y << \" \" << p.bin;\n    return os;\n  }\n};\n\nbool operator<(const Point& lp,const Point& rp){\n  return (lp.x + lp.y) < (rp.x + rp.y);\n}\n\nclass FourPoint{\npublic:\n  Point lu;\n  Point ru;\n  Point ld;\n  Point rd;\n  friend ostream& operator<<(ostream& os,const FourPoint& fp){\n    os << fp.lu << endl;\n    os << fp.ru << endl;\n    os << fp.ld << endl;\n    os << fp.rd << endl;\n\n    return os;\n  }\n  friend bool operator==(const FourPoint& lfp,const FourPoint& rfp){\n    return (lfp.lu.x == rfp.lu.x) && (lfp.lu.y == rfp.lu.y) && (lfp.ru.x == rfp.ru.x) && (lfp.ru.y == rfp.ru.y) && (lfp.ld.x == rfp.ld.x) && (lfp.ld.y == rfp.ld.y) && (lfp.rd.x == rfp.rd.x) && (lfp.rd.y == rfp.rd.y);\n  }\n};\n\nbool operator<(const FourPoint& lfp,const FourPoint& rfp){\n  return (lfp.lu.x < rfp.lu.x);// && (lfp.lu.y < rfp.lu.y) && (lfp.ru.x < rfp.ru.x) && (lfp.ru.y < rfp.ru.y) && (lfp.ld.x < rfp.ld.x) && (lfp.ld.y < rfp.ld.y) && (lfp.rd.x < rfp.rd.x) && (lfp.rd.y < rfp.rd.y);\n}\n\n\n\nint main(){\n\n    int c,n,d,x,y,count;\n\n    set<FourPoint> st;\n\n    set<FourPoint>::iterator itr;\n\n    Point ptmp[4];\n\n    FourPoint fptmp;\n\n    count = 0;\n\n    cin >> c >> n;\n\n    bool table[n][n];\n    string s[n];\n\n     for(int i=0;i<n;i++){\n         cin >> s[i];\n     }\n\n     for(int i=0;i<n;i++){\n       for(int j=0;j<n;j++){\n         if(s[i][j] == '0'){\n           table[i][j] =false;\n         }\n         else{\n           table[i][j] = true;\n         }\n       }\n     }\n\n     for(int i=0;i<n;i++){\n       for(int j=0;j<n/2;j++){\n         if(table[i][j] != table[i][n-j-1]){\n\n           ptmp[0].x = i; ptmp[0].y = j; ptmp[0].bin = table[i][j];\n           ptmp[1].x = n-i-1; ptmp[1].y = j; ptmp[1].bin = table[n-i-1][j];\n           ptmp[2].x = i; ptmp[2].y = n-j-1; ptmp[2].bin = table[i][n-j-1];\n           ptmp[3].x = n-i-1; ptmp[3].y = n-j-1; ptmp[3].bin = table[n-i-1][n-j-1];\n\n           sort(ptmp,ptmp+4);\n\n           fptmp.lu = ptmp[0];\n           if(ptmp[1].y < ptmp[2].y){\n             fptmp.ru = ptmp[1];\n             fptmp.ld = ptmp[2];\n           }\n           else{\n             fptmp.ru = ptmp[2];\n             fptmp.ld = ptmp[1];\n           }\n\n           fptmp.rd = ptmp[3];\n\n           st.insert(fptmp);\n         }\n       }\n     }\n\n\n     for(int i=0;i<n/2;i++){\n       for(int j=0;j<n;j++){\n         if(table[i][j] != table[n-i-1][j]){\n           ptmp[0].x = i; ptmp[0].y = j; ptmp[0].bin = table[i][j];\n           ptmp[1].x = n-i-1; ptmp[1].y = j; ptmp[1].bin = table[n-i-1][j];\n           ptmp[2].x = i; ptmp[2].y = n-j-1; ptmp[2].bin = table[i][n-j-1];\n           ptmp[3].x = n-i-1; ptmp[3].y = n-j-1; ptmp[3].bin = table[n-i-1][n-j-1];\n\n           sort(ptmp,ptmp+4);\n\n           fptmp.lu = ptmp[0];\n           if(ptmp[1].y < ptmp[2].y){\n             fptmp.ru = ptmp[1];\n             fptmp.ld = ptmp[2];\n           }\n           else{\n             fptmp.ru = ptmp[2];\n             fptmp.ld = ptmp[1];\n           }\n\n           fptmp.rd = ptmp[3];\n\n           st.insert(fptmp);\n         }\n       }\n     }\n\n     /*for(itr = st.begin(); itr != st.end(); ++itr) {\n        cout << \"testtest \" << *itr << \"\\n\";      // ????????¬???????????????????????????????????¨???\n     }*/\n\n\n     if(st.size() == 0){\n       count++;\n     }\n\n     for(int k=0;k<c-1;k++){\n\n       /*for(itr = st.begin(); itr != st.end(); ++itr) {\n          cout << k << \" test \" << *itr << \"\\n\";      // ????????¬???????????????????????????????????¨???\n      }*/\n\n       cin >> d;\n\n      for(int i=0;i<d;i++){\n\n         cin >> x >> y;\n         table[x-1][y-1] = !table[x-1][y-1];\n         //cout << \"unsigned \" << tmps << endl;\n\n         ptmp[0].x = x-1; ptmp[0].y = y-1; ptmp[0].bin = table[x-1][y-1];\n         ptmp[1].x = n-x; ptmp[1].y = y-1; ptmp[1].bin = table[n-x][y-1];\n         ptmp[2].x = x-1; ptmp[2].y = n-y; ptmp[2].bin = table[x-1][n-y];\n         ptmp[3].x = n-x; ptmp[3].y = n-y; ptmp[3].bin = table[n-x][n-y];\n\n         sort(ptmp,ptmp+4);\n\n\n         fptmp.lu = ptmp[0];\n\n         if(ptmp[1].y < ptmp[2].y){\n           fptmp.ru = ptmp[1];\n           fptmp.ld = ptmp[2];\n         }\n\n         else{\n           fptmp.ru = ptmp[2];\n           fptmp.ld = ptmp[1];\n         }\n\n         /*for(int g=0;g<4;g++){\n           cout << \"ptmp\"  << g << \"= \"<< ptmp[g] << endl;\n         }*/\n\n         fptmp.rd = ptmp[3];\n\n        //cout << \"fptmp =  \" << endl << fptmp << endl;\n\n         //itr = st.find(fptmp);\n\n         itr = st.begin();\n\n         while(itr != st.end()){\n           if(*itr == fptmp){\n             break;\n           }\n           itr++;\n         }\n\n         pair<set<FourPoint>::iterator,bool> afd;\n\n         if(itr != st.end()){\n           //cout << \"ok \" << endl;\n           /*cout << \"fptmp =  \" << endl << fptmp << endl;\n           cout << \"*itr =  \" << endl << *itr << endl;*/\n           if(fptmp.lu.bin == fptmp.ru.bin && fptmp.ru.bin == fptmp.ld.bin && fptmp.ld.bin == fptmp.rd.bin && fptmp.rd.bin == fptmp.lu.bin){\n            // cout << \"ok\" << endl;\n             st.erase(itr);\n           }\n         }\n         else{\n           /*afd = */st.insert(fptmp);\n           //cout << \"is_insert? \" << afd.second << endl;\n         }\n\n        /* for(itr = st.begin(); itr != st.end(); ++itr) {\n            cout << \"test \" << *itr << \"\\n\";      // ????????¬???????????????????????????????????¨???\n         }*/\n\n       }\n\n\n\n\n\n\n\n       if(st.empty()){\n         //cout << \"f1d2a \" << k+2 << endl;\n         count++;\n       }\n\n     }\n\n\n\n     /*for(int i=0;i<n;i++){\n       for(int j=0;j<n;j++){\n         if(table[i][j] == '0'){\n           cout << '0';\n         }\n         else{\n           cout << '1';\n         }\n       }\n       cout << endl;\n     }*/\n\n     cout << count << endl;\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nusing VI = vector<int>;\nusing VVI = vector<VI>;\nusing PII = pair<int, int>;\nusing LL = long long;\nusing VL = vector<LL>;\nusing VVL = vector<VL>;\nusing PLL = pair<LL, LL>;\nusing VS = vector<string>;\n\n#define ALL(a)  begin((a)),end((a))\n#define RALL(a) (a).rbegin(), (a).rend()\n#define PB push_back\n#define EB emplace_back\n#define MP make_pair\n#define SZ(a) int((a).size())\n#define SORT(c) sort(ALL((c)))\n#define RSORT(c) sort(RALL((c)))\n#define UNIQ(c) (c).erase(unique(ALL((c))), end((c)))\n\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n)  FOR(i,0,n)\n\n#define FF first\n#define SS second\n\n#define DUMP(x) cout<<#x<<\":\"<<(x)<<endl\ntemplate<class S, class T>\nistream& operator>>(istream& is, pair<S,T>& p){\n  return is >> p.FF >> p.SS;\n}\ntemplate<class T>\nistream& operator>>(istream& is, vector<T>& xs){\n  for(auto& x: xs)\n\tis >> x;\n  return is;\n}\ntemplate<class S, class T>\nostream& operator<<(ostream& os, const pair<S,T>& p){\n  return os << p.FF << \" \" << p.SS;\n}\ntemplate<class T>\nostream& operator<<(ostream& os, const vector<T>& xs){\n  for(unsigned int i=0;i<xs.size();++i)\n\tos << (i?\" \":\"\") << xs[i];\n  return os;\n}\ntemplate<class T>\nvoid maxi(T& x, T y){\n  if(x < y) x = y;\n}\ntemplate<class T>\nvoid mini(T& x, T y){\n  if(x > y) x = y;\n}\n\n\nconst double EPS = 1e-10;\nconst double PI  = acos(-1.0);\nconst LL MOD = 1e9+7;\n\nint C, N;\nint f(VS& vs, int x, int y){\n  vector<char> tmp = {vs[y][x], vs[N-1-y][x], vs[y][N-1-x], vs[N-1-y][N-1-x]};\n  return count(ALL(tmp), '0')==0 ||count(ALL(tmp), '0')==4? 0: 1;\n}\n\nint main(){\n  cin.tie(0);\n  ios_base::sync_with_stdio(false);\n\n  cin >> C >> N;\n  VS vs(N);\n  cin >> vs;\n\n  int diff = 0;\n  REP(y,N/2) REP(x,N/2)\n\tdiff += f(vs, x, y);\n\n  int ans = diff == 0;\n  REP(i,C-1){\n\tint D;\n\tcin >> D;\n\tvector<PII> qs, tmp;\n\tREP(d,D){\n\t  int y, x;\n\t  cin >> y >> x;\n\t  --y;\n\t  --x;\n\t  qs.EB(x, y);\n\t  tmp.EB(min(x,N-1-x), min(y,N-1-y));\n\t}\n\tSORT(tmp);\n\tUNIQ(tmp);\n\n\tfor(auto& p: tmp)\n\t  diff -= f(vs, p.FF, p.SS);\n\tfor(auto& p: qs)\n\t  vs[p.SS][p.FF] = ((vs[p.SS][p.FF] - '0')^1) + '0';\n\tfor(auto& p: tmp)\n\t  diff += f(vs, p.FF, p.SS);\n\n\tans += diff == 0;\n  }\n  cout << ans << endl;\n  \n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <map>\n#include <set>\n#include <list>\n#include <cmath>\n#include <deque>\n#include <queue>\n#include <stack>\n#include <cstdio>\n#include <string>\n#include <vector>\n#include <complex>\n#include <cstdlib>\n#include <cstring>\n#include <iomanip>\n#include <numeric>\n#include <utility>\n#include <iostream>\n#include <algorithm>\n#include <functional>\n\nusing namespace std;\n\n#define INF (1 << 30)\n#define INFL (1LL << 62)\n#define MOD7 1000000007\n#define MOD9 1000000009\n#define EPS 1e-10\n\n#define ll long long\n#define ull unsigned long long\n#define pii pair<int, int>\n#define pll pair<ll, ll>\n#define pul pair<ull, ull>\n#define all(a) (a).begin(), (a).end()\n#define FOR(i,a,b) for (int i=(a);i<(b);++i)\n#define RFOR(i,a,b) for (int i=(b)-1;i>=(a);--i)\n#define REP(i,n) for (int i=0;i<(n);++i)\n#define RREP(i,n) for (int i=(n)-1;i>=0;--i)\n\nvoid YES() { cout << \"YES\" << endl; }\nvoid NO() { cout << \"NO\" << endl; }\nvoid Yes() { cout << \"Yes\" << endl; }\nvoid No() { cout << \"No\" << endl; }\nvoid yes() { cout << \"yes\" << endl; }\nvoid no() { cout << \"no\" << endl; }\nvoid Taka() { cout << \"Takahashi\" << endl; }\nvoid Aoki() { cout << \"Aoki\" << endl; }\nvoid digit(int d) { cout << fixed << setprecision(d); }\nvoid IOup() { cin.tie(0); ios::sync_with_stdio(false); }\n\nint c, n, p[1000][1000], d, y, x;\n\nint main() {\n\tcin >> c >> n;\n\tchar ch;\n\tfor (int i = 0; i < n; ++i) {\n\t\tfor (int j = 0; j < n; ++j) {\n\t\t\tcin >> ch;\n\t\t\tp[i][j] = ch - '0';\n\t\t}\n\t}\n\n\tint q = 0;\n\tfor (int i = 0; i < n / 2; ++i) {\n\t\tfor (int j = 0; j < n / 2; ++j) {\n\t\t\tif (p[i][j] != p[i][n - j - 1])\n\t\t\t\tq++;\n\t\t\tif (p[i][j] != p[n - i - 1][j])\n\t\t\t\tq++;\n\t\t}\n\t}\n\tfor (int i = n / 2; i < n; ++i) {\n\t\tfor (int j = n / 2; j < n; ++j) {\n\t\t\tif (p[i][j] != p[i][n - j - 1])\n\t\t\t\tq++;\n\t\t\tif (p[i][j] != p[n - i - 1][j])\n\t\t\t\tq++;\n\t\t}\n\t}\n\n\tint ans = q == 0 ? 1 : 0;\n\tfor (int i = 0; i < c - 1; ++i) {\n\t\tcin >> d;\n\t\tfor (int j = 0; j < d; ++j) {\n\t\t\tcin >> y >> x;\n\t\t\ty--; x--;\n\t\t\tp[y][x] = !p[y][x];\n\t\t\tif (p[y][x] == p[y][n - x - 1])\n\t\t\t\tq--;\n\t\t\telse\n\t\t\t\tq++;\n\t\t\tif (p[y][x] == p[n - y - 1][x])\n\t\t\t\tq--;\n\t\t\telse\n\t\t\t\tq++;\n\t\t}\n\t\tif (q == 0)\n\t\t\tans++;\n\t}\n\n\tcout << ans << endl;\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint c,n;\nint con=0;;\nbool coa[1001][1001];\nbool changecheck[101];\nbool coacheck(){\n  if(con==0)return true;\n  else return false;\n}\nint main(){\n  cin >>c>>n;\n  for(int i=1;i<=n;i++){\n    string coaster;\n    cin >> coaster;\n    for(int j=1;j<=n;j++){\n      int kari =coaster[j-1]-48;\n      coa[i][j]=kari;\n    }\n  }\n\n  for(int i=1;i<=n/2;i++){\n    for(int j=1;j<=n/2;j++){\n      if((coa[i][j]==coa[i][n-j+1])&&(coa[i][j]==coa[n-i+1][j])&&(coa[i][j]==coa[n-i+1][n-j+1])){\n      }else{\n        con++;\n      }\n    }\n  }\n\n  int coacon =0;\n  if(coacheck())coacon++;\n  for(int i=1;i<c;i++){\n    int num;\n    cin >>num;\n    int a[num*2];\n    for(int j=0;j<num*2;j++){\n      cin >>a[j];\n    }\n    for(int j=0;j<num;j++){\n      if((coa[a[j*2]][a[j*2+1]]==coa[a[j*2]][n+1-a[j*2+1]])&&(coa[a[j*2]][a[j*2+1]]==coa[n-a[j*2]+1][a[j*2+1]])&&(coa[a[j*2]][a[j*2+1]]==coa[n-a[j*2]+1][n-a[j*2+1]+1])){\n        changecheck[j]=true;\n      }else{\n        changecheck[j]=false;\n      }\n        if(coa[a[j*2]][a[j*2+1]]==true)coa[a[j*2]][a[j*2+1]]=false;\n        else coa[a[j*2]][a[j*2+1]]=true;\n      }\n\n      for(int j=0;j<num;j++){\n        if((coa[a[j*2]][a[j*2+1]]==coa[a[j*2]][n+1-a[j*2+1]])&&(coa[a[j*2]][a[j*2+1]]==coa[n-a[j*2]+1][a[j*2+1]])&&(coa[a[j*2]][a[j*2+1]]==coa[n-a[j*2]+1][n-a[j*2+1]+1])){\n          if(changecheck[j]==false){\n            con--;\n          }\n        }else{\n          if(changecheck[j]==true){\n            con++;\n          }\n        }\n      }\n    if(coacheck())coacon++;\n  }\n  cout << coacon <<endl;\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint C,N;\nchar A[1000][1000];\nint t[1000][1000];\nint total=0;\n\nbool check(int x,int y){\n  return (A[x][y]==A[N-1-x][y] && A[x][y]==A[x][N-1-y]);\n}\n\nvoid update(int x,int y){\n  total-=t[x][y];\n  t[x][y]=check(x,y);\n  total+=t[x][y];\n}\n\nvoid change(int x,int y){\n  A[x][y]='0'+'1'-A[x][y];\n  update(x,y);\n  update(N-1-x,y);\n  update(x,N-1-y);\n}\n\nint solve(){\n  return (total==N*N);\n}\n\nint main(){\n  std::ios::sync_with_stdio(false);\n  std::cin.tie(0);\n  cin>>C>>N;\n  for(int i=0;i<N;i++){\n    for(int j=0;j<N;j++){\n      cin>>A[i][j];\n    }\n  }\n\n  for(int i=0;i<N;i++){\n    for(int j=0;j<N;j++){\n      t[i][j]=check(i,j);\n      total+=t[i][j];\n    }\n  }\n\n  int ans=solve();\n  for(int i=0;i<C-1;i++){\n    int k;\n    cin>>k;\n    for(int j=0;j<k;j++){\n      int x,y;\n      cin>>x>>y;\n      x--,y--;\n      change(x,y);\n    }\n    ans+=solve();\n  }\n  cout<<ans<<endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\nusing namespace std;\n\nint p[1000][1000]={0,0};\n\nbool Symmetry(int P[1000][1000],int n)\n{\n\tfor(int i=0;i<=n/2;i++){\n\t\tfor(int j=0;j<=n;j++){\n\t\t\tif(P[i][j]!=P[n-i][j]){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfor(int i=0;i<=n;i++){\n\t\tfor(int j=0;j<=n/2;j++){\n\t\t\tif(P[i][j]!=P[i][n-j]){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\t\n\treturn true;\n}\t\n\nint main()\n{\n\tint C,N;\n\tcin>>C>>N;\n\t\n\t\n\t\n\tchar tmp;\n\t\n\tfor(int i=0;i<N;i++){\n\t\tfor(int j=0;j<N;j++){\n\t\t\tcin>>tmp;\n\t\t\tif(tmp=='0'){\n\t\t\t\tp[i][j]=0;\n\t\t\t}\n\t\t\telse if(tmp=='1'){\n\t\t\t\tp[i][j]=1;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tint count=0;\n\t\n\tif(Symmetry(p,N-1)){\n\t\tcount++;\n\t}\n\t\n\tint D,r,c;\n\n\tfor(int i=1;i<C;i++){\n\t\tcin>>D;\n\t\tfor(int j=0;j<D;j++){\n\t\t\tcin>>r>>c;\n\t\t\tp[r-1][c-1]=!p[r-1][c-1];\n\n\t\t}\n\t\tif(Symmetry(p,N-1)){\n\t\t\tcount++;\n\t\t}\n\t}\n\t\n\tcout<<count<<endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <numeric>\n#include <bitset>\n#include <cmath>\n\nstatic const int MOD = 1000000007;\nusing ll = long long;\nusing u32 = unsigned;\nusing u64 = unsigned long long;\nusing namespace std;\n\ntemplate<class T> constexpr T INF = ::numeric_limits<T>::max()/32*15+208;\n\ntemplate <class T, class U>\nvector<T> make_v(U size, const T& init){ return vector<T>(static_cast<size_t>(size), init); }\n\ntemplate<class... Ts, class U>\nauto make_v(U size, Ts... rest) { return vector<decltype(make_v(rest...))>(static_cast<size_t>(size), make_v(rest...)); }\n\ntemplate<class T> void chmin(T &a, const T &b){ a = (a < b ? a : b); }\ntemplate<class T> void chmax(T &a, const T &b){ a = (a > b ? a : b); }\n\nint main() {\n    int c, n;\n    cin >> c >> n;\n    vector<vector<bool>> v(n, vector<bool>(n, false));\n    for (int i = 0; i < n; ++i) {\n        string s;\n        cin >> s;\n        for (int j = 0; j < n; ++j) {\n            v[i][j] = s[j]-'0';\n        }\n    }\n    auto dp1 = make_v(n, n/2, 0);\n    auto dp2 = make_v(n/2, n, 0);\n    int cnt1 = 0, cnt2 = 0;\n    for (int i = 0; i < n; ++i) {\n        for (int j = 0; j < n/2; ++j) {\n            dp1[i][j] = v[i][j]^v[i][n-j-1];\n            cnt1 += dp1[i][j];\n        }\n    }\n    for (int i = 0; i < n/2; ++i) {\n        for (int j = 0; j < n; ++j) {\n            dp2[i][j] = v[i][j]^v[n-i-1][j];\n            cnt2 += dp2[i][j];\n        }\n    }\n    int ans = 0;\n    if(!cnt1 && !cnt2) ans++;\n    for (int _ = 1; _ < c; ++_) {\n        int d;\n        cin >> d;\n        for (int i = 0; i < d; ++i) {\n            int y, x;\n            cin >> y >> x;\n            y--; x--;\n            cnt1 -= dp1[y][min(x, n-x-1)];\n            dp1[y][min(x, n-x-1)] ^= 1;\n            cnt1 += dp1[y][min(x, n-x-1)];\n            cnt2 -= dp2[min(y, n-y-1)][x];\n            dp2[min(y, n-y-1)][x] ^= 1;\n            cnt2 += dp2[min(y, n-y-1)][x];\n        }\n        if(!cnt1 && !cnt2) ans++;\n    }\n    cout << ans << \"\\n\";\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "int main() {\n    int c, n;\n    cin >> c >> n;\n    vector<string> p(n);\n    for(int i = 0; i < n; ++i) {\n        cin >> p[i];\n    }\n    int incorrect = 0;\n    for(int i = 0; i < n / 2; ++i) {\n        for(int j = 0; j < n / 2; ++j) {\n            incorrect += p[i][j] != p[i][n - j - 1] || p[i][j] != p[n - i - 1][j];\n        }\n    }\n\n    int ans = incorrect == 0;\n    for(int i = 0; i < c - 1; ++i) {\n        int d; cin >> d;\n        for(int j = 0; j < d; ++j) {\n            int r, c; cin >> r >> c;\n            r--; c--;\n            if(p[n - r - 1][c] == p[r][c] && p[r][c] == p[r][n - c - 1]) incorrect += 1;\n            p[r][c] = (p[r][c] == '0') ? '1' : '0';\n            if(p[n - r - 1][c] == p[r][c] && p[r][c] == p[r][n - c - 1]) incorrect -= 1;\n        }\n        ans += incorrect == 0;\n    }\n\n    cout << ans << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nint cnt[500][500] = {};\nchar mat[1000][1000];\n\nint main(){\n    int c, n;\n    cin >> c >> n;\n\n    for(int i = 0; i < n; i++){\n        for(int j = 0; j < n; j++){\n            cin >> mat[i][j];\n            int p = mat[i][j]-'0';\n            if(p){\n                cnt[(i >= n/2 ? n-1-i : i)][(j >= n/2 ? n-1-j : j)] += 1;\n            }\n        }\n    }\n\n    auto f = [&]()-> int{\n        int ret = 0;\n        for(int i = 0; i < n/2; i++){\n            for(int j = 0; j < n/2; j++){\n                if(cnt[i][j]%4) ret++;\n            }\n        }\n        return ret;\n    };\n\n    int ans = 0;\n    int problem = f();\n    if(problem == 0)    ans++;\n\n    for(int i = 0; i < c-1; i++){\n        int d;\n        cin >> d;\n        while(d-- > 0){\n            int r, c;\n            cin >> r >> c;\n            r--, c--;\n            mat[r][c] = (mat[r][c] == '0' ? '1' : '0');\n            if(cnt[(r >= n/2 ? n-1-r : r)][(c >= n/2 ? n-1-c : c)]%4==0)    problem++;\n            cnt[(r >= n/2 ? n-1-r : r)][(c >= n/2 ? n-1-c : c)] += 2*(mat[r][c]=='1')-1;\n            if(cnt[(r >= n/2 ? n-1-r : r)][(c >= n/2 ? n-1-c : c)]%4==0)    problem--;\n        }\n        if(problem == 0) ans++;\n    }\n\n    cout << ans << endl;\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <iomanip>\nusing namespace std;\n\nclass Coster {\npublic:\n\tCoster(int n);\n\t~Coster();\n\tvoid diff(const int& r, const int& c);\n\tint SymmetryNum();\n\tvoid SymCalc();\n\tbool** pixel;\nprivate:\n\tint symmetry;\n\tint N;\n};\nCoster::Coster(int n) {\n\tN = n;\n\tpixel = new bool*[n];\n\tfor (int i = 0; i < n; i++)\n\t\tpixel[i] = new bool[n];\n}\nCoster::~Coster() {\n\tdelete[] pixel;\n}\nvoid Coster::diff(const int& r, const int& c) {\n\n\tpixel[r][c] = !pixel[r][c];\n}\nint Coster::SymmetryNum() {\n\treturn symmetry;\n}\nvoid Coster::SymCalc() {\n\tchar same = 0;\n\tfor (int r = 0; r < N / 2; r++) {\n\t\tfor (int c = 0; c < N / 2; c++) {\n\t\t\tsame  = pixel[r][c];\n\t\t\tsame |= pixel[r][N - c - 1] << 1;\n\t\t\tsame |= pixel[N - r - 1][c] << 2;\n\t\t\tsame |= pixel[N - r - 1][N - c - 1] << 3;\n\t\t\tif (!(same == 0x0f || same == 0x00))\n\t\t\t\treturn;\n\t\t}\t\t\n\t}\n\tsymmetry++;\n}\n\nint main()\n{\n\tint C,N;\n\tcin >> C >> N;\n\tCoster coster(N);\n\tchar n;\n\tfor (int i = 0; i < N; i++) {\n\t\tfor (int j = 0; j < N; j++) {\n\t\t\tcin >> n;\n\t\t\tcoster.pixel[i][j] = (bool)(n - '0');\n\t\t}\n\t}\n\tcout << endl;\n\tfor (int i = 0; i < N; i++) {\n\t\tfor (int j = 0; j < N; j++)\n\t\t\tcout << coster.pixel[i][j];\n\t\tcout << endl;\n\t}\n\n\tfor (int I = 1; I < C; I++) {\n\t\tint D;\n\t\tcin >> D;\n\t\tfor (int i = 0; i < D; i++) {\n\t\t\tint r, c;\n\t\t\tcin >> r >> c;\n\t\t\tcoster.diff(r, c);\n\t\t}\n\t\tcoster.SymCalc();\n\t}\n\n\tcout << coster.SymmetryNum() << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "\n#include <bits/stdc++.h>\nusing namespace std;\n\n// Preprocessor loop\n#define CAT_I(x, y) x ## y\n#define CAT(x, y) CAT_I(x, y)\n\n#define INC0 1\n#define INC1 2\n#define INC2 3\n#define INC3 4\n#define INC4 5\n#define INC5 6\n#define INC6 7\n#define INC7 8\n#define INC8 9\n#define INC(i) CAT(INC, i)\n\n#define EMPTY(...)\n#define DEF_COMMA0 _,1 EMPTY\n#define COMMA0() ,0\n#define IS_EMPTY_III(f, s) s\n#define IS_EMPTY_II(t) IS_EMPTY_III t\n#define IS_EMPTY_I(x) IS_EMPTY_II((DEF_ ## x()))\n#define IS_EMPTY(x, ...) IS_EMPTY_I(x COMMA0)\n\n#define IF_0(x, y) y\n#define IF_1(x, y) x\n#define IF(cond, x, y) CAT(IF_, cond)(x, y)\n\n#define FOR_EACH_I9(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I8(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I7(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I6(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I5(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I4(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I3(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I2(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I1(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I0(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I(i, F, ...) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH(F, ...) FOR_EACH_I(0, F, __VA_ARGS__)\n#define IF_0(x, y) y\n#define IF_1(x, y) x\n#define IF(cond, x, y) CAT(IF_, cond)(x, y)\n\n#define FOR_EACH_I9(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I8(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I7(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I6(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I5(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I4(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I3(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I2(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I1(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I0(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I(i, F, ...) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH(F, ...) FOR_EACH_I(0, F, __VA_ARGS__)\n// Preprocessor loop end\n\n// Preprocessor args counter\n#define PP_NARG(...) \\\n         PP_NARG_(__VA_ARGS__,PP_RSEQ_N())\n#define PP_NARG_(...) \\\n         PP_ARG_N(__VA_ARGS__)\n#define PP_ARG_N( \\\n          _1, _2, _3, _4, _5, _6, _7, _8, _9,_10, \\\n         _11,_12,_13,_14,_15,_16,_17,_18,_19,_20, \\\n         _21,_22,_23,_24,_25,_26,_27,_28,_29,_30, \\\n         _31,_32,_33,_34,_35,_36,_37,_38,_39,_40, \\\n         _41,_42,_43,_44,_45,_46,_47,_48,_49,_50, \\\n         _51,_52,_53,_54,_55,_56,_57,_58,_59,_60, \\\n         _61,_62,_63,N,...) N\n#define PP_RSEQ_N() \\\n         63,62,61,60,                   \\\n         59,58,57,56,55,54,53,52,51,50, \\\n         49,48,47,46,45,44,43,42,41,40, \\\n         39,38,37,36,35,34,33,32,31,30, \\\n         29,28,27,26,25,24,23,22,21,20, \\\n         19,18,17,16,15,14,13,12,11,10, \\\n         9,8,7,6,5,4,3,2,1,0\n#define IS_ONEARG(...) IS_ONEARG_(__VA_ARGS__,PP_RSEQ_ONE())\n#define IS_ONEARG_(...) IS_ONEARG_N(__VA_ARGS__)\n#define IS_ONEARG_N(_1, _2, _3, _4, _5, _6, _7, _8, _9, _10, N, ...) N\n#define PP_RSEQ_ONE() 0,0,0,0,0,0,0,0,0,1,0\n\n// Preprocessor args counter end\n\n// alternative rep macro\n#define esc_paren(...) __VA_ARGS__\n#define in ,\n#define rep(...) rep1(rep2, (__VA_ARGS__))\n#define rep1(X, A) X A\n#define rep2(i, ...) IF(IS_ONEARG(__VA_ARGS__), rep_len1(i, __VA_ARGS__), rep3(i, __VA_ARGS__))\n#define rep_len1(i, end, ...) for (int i = 0; i < end; i++)\n#define rep3(i, iter, ...) rep4(rep5, (iter, i, esc_paren __VA_ARGS__))\n#define rep4(X, A) X A\n#define rep5(iter, ...) iter(__VA_ARGS__)\n\n// iterators\n#define up up_iter ,\n#define up_iter3(i, start, end) for (int i = start; i < end; i++)\n#define up_iter4(i, start, end, up) for (int i = start; i < end; i += up)\n#define up_iter(...) CAT(up_iter, PP_NARG(__VA_ARGS__))(__VA_ARGS__)\n#define down down_iter ,\n#define down_iter2(i, end) for(int i = end-1; i >= 0; i++)\n#define down_iter3(i, start, end) for (int i = end-1; i >= start; i--)\n#define down_iter4(i, start, end, down) for (int i = end-1; i >= start; i -= down)\n#define down_iter(...) CAT(down_iter, PP_NARG(__VA_ARGS__))(__VA_ARGS__)\n#define viter viter_iter ,\n#define viter_iter(i, v) auto tmpitr=v.begin(); for (auto i=*tmpitr; tmpitr != v.end(); tmpitr++)\n\n// short names\ntypedef long long ll;\ntypedef string str;\n#define down_queue(x) priority_queue<x>\n#define up_queue(x) priority_queue<x, vector<x>, greater<x>>\n#define vec(x) vector<x>\nll gcd(ll a,ll b){while(b){ll tmp = a % b;a = b;b = tmp;}return a;}\nll lcm(ll a,ll b){return a / gcd(a,b) * b;}\n#define all(x) x.begin(), x.end()\n#define split_str(str, sp_word) istringstream stream(str); string res; for(int cnt = 0; getline(stream,res,sp_word); cnt++)\n#define digit(x) ((int)log10((double)(x)) + 1)\n#define mp(x,y) make_pair(x,y)\n#define pb(x) push_back(x)\n#define pf(x) push_front(x)\n#define out(x) for(auto i : x) cout << i << \" \"; cout << endl;\n#define outln(x) for(auto i : x) cout << i << \" \" << endl;\n#define vec_cpy(to,from) copy(all(to),back_inserter(from))\n#define ary_cpy(to,from) memcpy(to, from, sizeof from)\n#define MOD = 1000000007; \n\n// debug macros\n#define DEBUG_VAR(v) << #v << \"=\" << v << \" \"\n#ifdef DEBUG\n#define debug_echo(e) cout << \"L\" << __LINE__ << \": \" << e << endl\n#define debug_var(...) cout << \"L\" << __LINE__ << \": \" FOR_EACH(DEBUG_VAR, __VA_ARGS__) << endl\n#define debug_echo_dp1(dp, N) { cout << \"[ \"; rep(i, N) cout << dp[i] << \" \";  cout << \"]\" << endl; }\n#else\n#define debug_echo(e)\n#define debug_var(...)\n#define debug_echo_dp1(dp, N)\n#endif\n\n// Implementation\n\n#define MAX_N 1000\nint C;\nint N;\nint p[MAX_N][MAX_N];\nbool vert[MAX_N][MAX_N];\nint vertcnt = 0;\nbool hori[MAX_N][MAX_N];\nint horicnt = 0;\n\nvoid init_diff() {\n  rep (i in N) {\n    rep (j in N/2) {\n      int nj = N-j-1;\n      if (p[i][j] == p[i][nj]) {\n        vert[i][j] = false;\n        vert[i][nj] = false;\n      } else {\n        vert[i][j] = true;\n        vert[i][nj] = true;\n        vertcnt++;\n        vertcnt++;\n      }\n    }\n  }\n  rep (i in N/2) {\n    int ni = N-i-1;\n    rep (j in N) {\n      if (p[i][j] == p[ni][j]) {\n        hori[i][j] = false;\n        hori[ni][j] = false;\n      } else {\n        hori[i][j] = true;\n        hori[ni][j] = true;\n        horicnt++;\n        horicnt++;\n      }\n    }\n  }\n}\n\n#define flip_diff(diff, cnt, r, c) \\\n  if (diff[r][c]) { \\\n    diff[r][c] = false; \\\n    cnt--; \\\n  } else { \\\n    diff[r][c] = true; \\\n    cnt++; \\\n  }\n\nvoid edit_diff(int r, int c) {\n  int nr = N-r-1;\n  int nc = N-c-1;\n  flip_diff(vert, vertcnt, r, c);\n  flip_diff(vert, vertcnt, r, nc);\n  flip_diff(hori, horicnt, r, c);\n  flip_diff(hori, horicnt, nr, c);\n}\n\nint main() {\n  cin >> C >> N;\n  rep (i in N) {\n    rep (j in N) {\n      char c;\n      cin >> c;\n      if (c == '1') {\n        p[i][j] = 1;\n      } else {\n        p[i][j] = 0;\n      }\n    }\n  }\n\n  init_diff();\n\n  int cnt = 0;\n\n  if (vertcnt == 0 && horicnt == 0) {\n    cnt++;\n  }\n\n  rep (_ in C-1) {\n    int D;\n    cin >> D;\n    rep (_ in D) {\n      int r, c;\n      cin >> r >> c;\n      edit_diff(r-1, c-1);\n    }\n    debug_var(vertcnt, horicnt);\n    if (vertcnt == 0 && horicnt == 0) {\n      cnt++;\n    }\n  }\n  cout << cnt << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#include <assert.h>\n\nusing namespace std;\n\nint check(vector<string> &v, int n)\n{\n\tfor (int i = 0; i < n / 2; i++)\n\t\tfor (int j = 0; j < n / 2; j++)\n\t\t\tif (v[i][j] != v[i][n - j - 1] || v[i][j] != v[n - i - 1][j] || v[i][j] != v[n - i - 1][n - j - 1])\n\t\t\t\treturn 0;\n\n\treturn 1;\n}\n\nint main()\n{\n\tint co, n;\n\tvector<string> p;\n\tcin >> co >> n;\n\tp.resize(n);\n\tfor (int i = 0; i < n; i++)\n\t\tcin >> p[i];\n\tint ans = check(p, n);\n\tfor (int i = 0; i < co - 1; i++)\n\t{\n\t\tint d;\n\t\tcin >> d;\n\t\tfor (int j = 0; j < d; j++)\n\t\t{\n\t\t\tint r, c;\n\t\t\tcin >> r >> c;\n\t\t\tp[r - 1][c - 1] = (p[r - 1][c - 1] == '1' ? '0' : '1');\n\t\t}\n\n\t\tans += check(p, n);\n\t}\n\tcout << ans << endl;\n\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\nusing namespace std;\nint C,N;\nint num=0;\nbool p[1001][1001];\n\nbool Dis(){\n    for(int i=1;i<=N/2;i++){\n        for(int j=1;j<=N/2;j++){\n            if(p[i][j]==p[N+1-i][j]) ;\n            else return 0;\n            if(p[i][j]==p[i][N+1-j]) ;\n            else return 0;\n            if(p[i][j]==p[N+1-i][N+1-j]) ;\n            else return 0;\n        }\n    }\n    return 1;\n}\n\nint main(){\n    \n    cin>>C>>N;\n    for(int i=1;i<=N;i++){\n        string S;\n        cin>>S;\n        for(int j=1;j<=N;j++){\n            p[i][j]=S[j-1]-'0';\n        }\n    }\n    \n    num+=Dis();\n    for(int i=1;i<=C-1;i++){\n        int D;\n        cin>>D;\n        for(int j=1;j<=D;j++){\n            int r,c;\n            cin>>r>>c;\n            p[r][c]^=1;\n        }\n        num+=Dis();\n    }\n\n    cout<<num<<endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint c,n;\nbool coa[1001][1001];\nint count=0;\nint onecount=1;\nstruct onepos{\n  int i;\n  int j;\n};\nonepos p[250001];\nbool coacheck(){\n\n  for(int i=1;i<=onecount;i++){\n      if((coa[p[i].i][p[i].j]==coa[p[i].i][n-p[i].j+1])&&(coa[p[i].i][p[i].j]==coa[n-p[i].i+1][p[i].j])&&(coa[p[i].i][p[i].j]==coa[n-p[i].i+1][n-p[i].j+1])){\n      }else{\n        return false;\n      }\n    }\n    return true;\n  }\nint main(){\n  cin >>c>>n;\n  for(int i=1;i<=n;i++){\n    string coaster;\n    cin >> coaster;\n    for(int j=1;j<=n;j++){\n      int kari =coaster[j-1]-48;\n      coa[i][j]=kari;\n    }\n  }\n  for(int i=1;i<=n/2;i++){\n    for(int j=1;j<=n/2;j++){\n      if(coa[i][j]==true){\n        p[onecount].i=i;\n        p[onecount].j=j;\n      }\n    }\n  }\n  int coacount =0;\n  if(coacheck())coacount++;\n  for(int i=1;i<c;i++){\n    int num;\n    cin >>num;\n    int a[num*2];\n    for(int j=0;j<num*2;j++){\n      cin >>a[j];\n    }\n    for(int j=0;j<num;j++){\n      if(coa[a[j*2]][a[j*2+1]]==true){\n        coa[a[j*2]][a[j*2+1]]=false;\n        for(int k=1;k<=onecount;k++){\n          if((p[k].i==a[j*2])&&(p[k].j==a[j*2+1])){\n            p[k].i=p[onecount].i;\n            p[k].j=p[onecount].j;\n            break;\n          }\n        }\n        onecount--;\n      }\n      else coa[a[j*2]][a[j*2+1]]=true;\n      p[onecount+1].i=a[j*2];\n      p[onecount+1].j=a[j*2+1];\n      onecount++;\n    }\n    if(coacheck())coacount++;\n  }\n  cout << coacount <<endl;\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\nusing namespace std;\n\nint count(const vector<string> &P){\n  int N = P.size(), ret = 0;\n  for(int r = 0; r < (N+1)/2; ++r){\n    for(int c = 0; c < (N+1)/2; ++c){\n      if((P[r][c] == P[N-1-r][c]) and (P[r][c] == P[r][N-1-c]) and (P[r][c] == P[N-1-r][N-1-c]))\n        continue;\n      ++ret;\n    }\n  }\n  return ret;\n}\n\nint check(vector<string> &P, int r, int c){\n  int N = P.size();\n  bool prev = (P[r][c] == P[N-1-r][c]) and (P[r][c] == P[r][N-1-c]) and (P[r][c] == P[N-1-r][N-1-c]);\n  P[r][c] = '0' + '1' - P[r][c];\n  bool cur = (P[r][c] == P[N-1-r][c]) and (P[r][c] == P[r][N-1-c]) and (P[r][c] == P[N-1-r][N-1-c]);\n  return prev - cur;\n}\n\nint main(){\n  int C, N;\n  cin >> C >> N;\n  vector<string> P(N);\n  for(int i = 0; i < N; ++i){\n    cin >> P[i];\n  }\n  int d = count(P);\n  int ans = 0;\n  if(not d) ++ans;\n  for(int i = 0; i < C-1; ++i){\n    int D;\n    cin >> D;\n    for(int j = 0; j < D; ++j){\n      int r, c;\n      cin >> r >> c;\n      --r,--c;\n      //P[r][c] = '0' + '1' - P[r][c];\n      d += check(P,r,c);\n    }\n    if(not d) ++ans;\n  }\n  cout << ans << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint c,n;\nbool coa[1001][1001];\nbool coacheck(){\n  int count =0;\n  for(int i=1;i<=n/2;i++){\n    for(int j=1;j<=n/2;j++){\n      if((coa[i][j]==coa[i][n-j+1])&&(coa[i][j]==coa[n-i+1][j])&&(coa[i][j]==coa[n-i+1][n-j+1])){\n        count++;\n      }\n    }\n  }\n  if(count==(n*n)/4)return true;\n  else return false;\n}\nint main(){\n  cin >>c>>n;\n  for(int i=1;i<=n;i++){\n    string coaster;\n    cin >> coaster;\n    for(int j=1;j<=n;j++){\n      int kari =coaster[j-1]-48;\n      coa[i][j]=kari;\n    }\n  }\n  int coacount =0;\n  if(coacheck())coacount++;\n  for(int i=1;i<c;i++){\n    int num;\n    cin >>num;\n    int a[num*2];\n    for(int j=0;j<num*2;j++){\n      cin >>a[j];\n    }\n    for(int j=0;j<num;j++){\n      if(coa[a[j*2]][a[j*2+1]]==true)coa[a[j*2]][a[j*2+1]]=false;\n      else coa[a[j*2]][a[j*2+1]]=true;\n    }\n    if(coacheck())coacount++;\n  }\n  cout << coacount <<endl;\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint C,N;\nchar A[1000][1000];\nint t[1000][1000];\nint total=0;\n\nbool check(int x,int y){\n  return (A[x][y]==A[N-1-x][y] && A[x][y]==A[x][N-1-y]);\n}\n\nvoid update(int x,int y){\n  total-=t[x][y];\n  t[x][y]=check(x,y);\n  total+=t[x][y];\n}\n\nvoid change(int x,int y){\n  A[x][y]='0'+'1'-A[x][y];\n  update(x,y);\n  update(N-1-x,y);\n  update(x,N-1-y);\n}\n\nint solve(){\n  return (total==N*N);\n}\n\nint main(){\n  cin>>C>>N;\n  for(int i=0;i<N;i++){\n    for(int j=0;j<N;j++){\n      cin>>A[i][j];\n    }\n  }\n\n  for(int i=0;i<N;i++){\n    for(int j=0;j<N;j++){\n      t[i][j]=check(i,j);\n      total+=t[i][j];\n    }\n  }\n\n  int ans=solve();\n  for(int i=0;i<C-1;i++){\n    int k;\n    cin>>k;\n    for(int j=0;j<k;j++){\n      int x,y;\n      cin>>x>>y;\n      x--,y--;\n      change(x,y);\n    }\n    ans+=solve();\n  }\n  cout<<ans<<endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint c,n;\nbool coa[1001][1001];\nbool coacheck(){\n  int count =0;\n  for(int i=1;i<=n/2;i++){\n    for(int j=1;j<=n/2;j++){\n      if((coa[i][j]==coa[i][n-j+1])&&(coa[i][j]==coa[n-i+1][j])&&(coa[i][j]==coa[n-i+1][n-j+1])){\n      }else{\n        return false;\n      }\n    }\n  }\n  return true;\n}\nint main(){\n  cin >>c>>n;\n  for(int i=1;i<=n;i++){\n    string coaster;\n    cin >> coaster;\n    for(int j=1;j<=n;j++){\n      int kari =coaster[j-1]-48;\n      coa[i][j]=kari;\n    }\n  }\n  int coacount =0;\n  if(coacheck())coacount++;\n  for(int i=1;i<c;i++){\n    int num;\n    cin >>num;\n    int a[num*2];\n    for(int j=0;j<num*2;j++){\n      cin >>a[j];\n    }\n    for(int j=0;j<num;j++){\n      if(coa[a[j*2]][a[j*2+1]]==true)coa[a[j*2]][a[j*2+1]]=false;\n      else coa[a[j*2]][a[j*2+1]]=true;\n    }\n    if(coacheck())coacount++;\n  }\n  cout << coacount <<endl;\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdlib>\n#include <iostream>\n#include <string>\n#include <typeinfo>\n#include <algorithm>\nusing namespace std;\n\nint ctoi(char c) {\n\tswitch (c) {\n\tcase '0': return 0;\n\tcase '1': return 1;\n\tcase '2': return 2;\n\tcase '3': return 3;\n\tcase '4': return 4;\n\tcase '5': return 5;\n\tcase '6': return 6;\n\tcase '7': return 7;\n\tcase '8': return 8;\n\tcase '9': return 9;\n\tdefault: return -1;\n\t}\n}\nbool symmetry(char **coster ,int n) {\n\tfor (int i = 0; i < n / 2; i++) {\n\t\tfor (int j = 0; j < n / 2; j++) {\n\t\t\tint val = ctoi(coster[i][j]) + ctoi(coster[n - i - 1][j]) + ctoi(coster[i][n - j - 1]) + ctoi(coster[n - i - 1][n - j - 1]);\n\t\t\tif (val != 0 && val != 4) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\treturn true;\n}\nint main() {\n\tint C, N;\n\tint sym_coster = 0;\n\tcin >> C >> N; \n\tchar **coster = new char*[N];\n\tfor (int i = 0; i < N; i++)\n\t\tcoster[i] = new char[N];\n\n\tfor (int i = 0; i < N; i++)\n\t\tfor (int j = 0; j < N; j++)\n\t\t\tcin >> coster[i][j];\n\n\tsym_coster += symmetry(coster, N);\n\tint D,r,c;\n\tfor (int I = 0; I < C; I++) {\n\t\tcin >> D;\n\t\tfor (int i = 0; i < D; i++) {\n\t\t\tcin >> r >> c;\n\t\t\tif (coster[r-1][c-1] == '0')\n\t\t\t\tcoster[r-1][c-1] = '1';\n\t\t\telse\n\t\t\t\tcoster[r-1][c-1] = '0';\n\t\t}\n\t\tsym_coster += symmetry(coster, N);\n\t}\n\tcout << sym_coster << endl;\n\tint i;\n\tcin >> i;\n\tdelete[] coster;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\nint main(){\n\n  int n,hw,i,j,cnt,result=0,d;\n  string co[1000];\n\n  cin>>n>>hw;\n  for(i=0;i<hw;i++) cin>>co[i];\n\n  cnt=0;\n  for(i=0;i<hw/2;i++) for(j=0;j<hw;j++){\n      if(co[hw/2-1-i][j]!=co[hw/2+i][j]) cnt++;\n      if(co[j][hw/2-1-i]!=co[j][hw/2+i]) cnt++;\n    }\n\n  if(cnt==0) result++;\n\n  for(i=0;i<n-1;i++){\n    cin>>d;\n    int h,w;    \n    for(j=0;j<d;j++){\n      cin>>h>>w;\n      if(co[h-1][w-1]=='1') co[h-1][w-1]='0';\n      else co[h-1][w-1]='1';\n    }\n\n    cnt=0;\n    for(j=0;j<hw/2;j++) for(int k=0;k<hw;k++){\n\tif(co[hw/2-1-j][k]!=co[hw/2+j][k]) cnt++;\n\tif(co[k][hw/2-1-j]!=co[k][hw/2+j]) cnt++;\n      }\n    if(cnt==0) result++;\n\n  }\n\n  cout<<result<<endl;\n  return 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing i64 = long long;\n#define rep(i,s,e) for(int (i) = (s);(i) <= (e);(i)++)\n#define all(x) x.begin(),x.end()\n\nint C,N;\n\nint p[1010][1010];\n\nint wide[1010][1010];\nint hei[1010][1010];\n\nint main(){\n  cin >> C >> N;\n  rep(i,0,N - 1){\n    string s;\n    cin >> s;\n    rep(j,0,N - 1){\n      p[i][j] = s[j] == '1';\n    }\n  }\n\n  rep(i,0,N - 1){\n    rep(j,0,N - 1){\n      if(j < N / 2)\n        wide[i][j] ^= p[i][j];\n      else\n        wide[i][N - j - 1] ^= p[i][j];\n      if(i < N / 2)\n        hei[i][j] ^= p[i][j];\n      else\n        hei[N - i - 1][j] ^= p[i][j];\n    }\n  }\n  int now = 0;\n  rep(i,0,N / 2 - 1){\n    rep(j,0,N / 2 - 1){\n      now += wide[i][j] + hei[i][j];\n    }\n  }\n\n  int ans = now == 0;\n  rep(q,0,C - 2){\n    int D;\n    cin >> D;\n    rep(d,0,D - 1){\n      int i,j;\n      cin >> i >> j;\n      i--;\n      j--;\n      if(j < N / 2)\n        now += (wide[i][j] ^ 1) - wide[i][j];\n      else\n        now += (wide[i][N - 1 - j] ^ 1) - wide[i][N - 1 - j];\n      if(i < N / 2)\n        now += (hei[i][j] ^ 1) - hei[i][j];\n      else\n        now += (hei[N - 1 - i][j] ^ 1) - hei[N - 1 - i][j];\n      if(j < N / 2)\n        wide[i][j] ^= 1;\n      else\n        wide[i][N - j - 1] ^= 1;\n      if(i < N / 2)\n        hei[i][j] ^= 1;\n      else\n        hei[N - i - 1][j] ^= 1;\n    }\n    ans += now == 0;\n  }\n  cout << ans << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define _overload3(_1, _2, _3, name, ...) name\n#define _rep(i, n) repi(i, 0, n)\n#define repi(i, a, b) for (int i=int(a); i<int(b); i++)\n#define rep(...) _overload3(__VA_ARGS__, repi, _rep,)(__VA_ARGS__)\ntypedef long long ll;\n#define all(x) (x).begin(), (x).end()\n#define pb push_back\n#define mp make_pair\n#define F first\n#define S second\n#define y0 snowy0\n#define y1 snowy1\n#define next snownext\n#define prev snowprevc\n\ntemplate<class T> bool chmax(T& a, const T& b) { if (a<b) { a=b; return 1; } return 0; } \ntemplate<class T> bool chmin(T& a, const T& b) { if (b<a) { a=b; return 1; } return 0; } \ntemplate<class T = int> T in() { T x; cin >> x; return x; }\n\n#ifdef LOCAL\n  #define db cout << \"L\" << __LINE__ << \": \"\n  #define dv(v) << #v << \"->\" << v << \" \"\n  #define de << endl\n#else\n  #define db\n  #define dv(v)\n  #define de\n#endif\n\nint cs[1000][1000];\nset<pair<int, int>> vert;\nset<pair<int, int>> hori;\nint N;\nint C;\n\nvoid update_coaster(int x, int y) {\n  int nx = N-x-1;\n  int ny = N-y-1;\n  if (vert.count(mp(x, y)) || vert.count(mp(nx, y))) {\n    vert.erase(mp(x, y));\n    vert.erase(mp(nx, y));\n  } else {\n    vert.insert(mp(x, y));\n    vert.insert(mp(nx, y));\n  }\n  if (hori.count(mp(x, y)) || hori.count(mp(x, ny))) {\n    hori.erase(mp(x, y));\n    hori.erase(mp(x, ny));\n  } else {\n    hori.insert(mp(x, y));\n    hori.insert(mp(x, ny));\n  }\n}\n\nvoid init_coaster() {\n  rep(y, N/2) {\n    rep(x, N) {\n      int nx = N-x-1;\n      int ny = N-y-1;\n      if (cs[y][x] != cs[ny][x]) {\n        hori.insert(mp(x, y));\n        hori.insert(mp(x, ny));\n      }\n    }\n  }\n  rep(y, N) {\n    rep(x, N/2) {\n      int nx = N-x-1;\n      int ny = N-y-1;\n      if (cs[y][x] != cs[y][nx]) {\n        vert.insert(mp(x, y));\n        vert.insert(mp(nx, y));\n      }\n    }\n  }\n}\n\nbool is_mirror() {\n  return vert.empty() && hori.empty();\n}\n\nint main() {\n  C = in();\n  N = in();\n  rep(y, N) {\n    rep(x, N) {\n      char c = in<char>();\n      cs[y][x] = c - '0';\n    }\n  }\n\n  int ans = 0;\n  init_coaster();\n  if (is_mirror()) ans++;\n  rep(i, C-1) {\n    int D = in();\n    rep(j, D) {\n      int y = in()-1;\n      int x = in()-1;\n      update_coaster(x, y);\n    }\n    if (is_mirror()) ans++;\n  }\n  cout << ans << endl;\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<set>\n#include<algorithm>\nusing namespace std;\n\nclass Point{\npublic:\n  int x;\n  int y;\n  bool bin;\n};\n\nbool operator<(const Point& lp,const Point& rp){\n  return (lp.x + lp.y) < (rp.x + rp.y);\n}\n\nclass FourPoint{\npublic:\n  Point lu;\n  Point ru;\n  Point ld;\n  Point rd;\n  friend ostream& operator<<(ostream& os,const FourPoint& fp){\n    os << fp.lu.x << \" \" << fp.lu.y;\n    return os;\n  }\n};\n\nbool operator<(const FourPoint& lfp,const FourPoint& rfp){\n  return (lfp.lu.x < rfp.lu.x) && (lfp.lu.y < rfp.lu.y) && (lfp.ru.x < rfp.ru.x) && (lfp.ru.y < rfp.ru.y) && (lfp.ld.x < rfp.ld.x) && (lfp.ld.y < rfp.ld.y) && (lfp.rd.x < rfp.rd.x) && (lfp.rd.y < rfp.rd.y);\n}\n\nint main(){\n\n    int c,n,d,x,y,count;\n\n    set<FourPoint> st;\n\n    set<FourPoint>::iterator itr;\n\n    Point ptmp[4];\n\n    FourPoint fptmp;\n\n    count = 0;\n\n    cin >> c >> n;\n\n    bool table[n][n];\n    string s[n];\n\n     for(int i=0;i<n;i++){\n         cin >> s[i];\n     }\n\n     for(int i=0;i<n;i++){\n       for(int j=0;j<n;j++){\n         if(s[i][j] == '0'){\n           table[i][j] =false;\n         }\n         else{\n           table[i][j] = true;\n         }\n       }\n     }\n\n     for(int i=0;i<n;i++){\n       for(int j=0;j<n/2;j++){\n         if(table[i][j] != table[i][n-j-1]){\n\n           ptmp[0].x = i; ptmp[0].y = j; ptmp[0].bin = table[i][j];\n           ptmp[1].x = n-i-1; ptmp[1].y = j; ptmp[1].bin = table[n-i-1][j];\n           ptmp[2].x = i; ptmp[2].y = n-j-1; ptmp[2].bin = table[i][n-j-1];\n           ptmp[3].x = n-i-1; ptmp[3].y = n-j-1; ptmp[3].bin = table[n-i-1][n-j-1];\n\n           sort(ptmp,ptmp+4);\n\n           fptmp.lu = ptmp[0];\n           if(ptmp[1].y < ptmp[2].y){\n             fptmp.ru = ptmp[1];\n             fptmp.ld = ptmp[2];\n           }\n           else{\n             fptmp.ru = ptmp[2];\n             fptmp.ld = ptmp[1];\n           }\n\n           fptmp.rd = ptmp[3];\n\n           st.insert(fptmp);\n         }\n       }\n     }\n\n\n     for(int i=0;i<n/2;i++){\n       for(int j=0;j<n;j++){\n         if(table[i][j] != table[n-i-1][j]){\n           ptmp[0].x = i; ptmp[0].y = j; ptmp[0].bin = table[i][j];\n           ptmp[1].x = n-i-1; ptmp[1].y = j; ptmp[1].bin = table[n-i-1][j];\n           ptmp[2].x = i; ptmp[2].y = n-j-1; ptmp[2].bin = table[i][n-j-1];\n           ptmp[3].x = n-i-1; ptmp[3].y = n-j-1; ptmp[3].bin = table[n-i-1][n-j-1];\n\n           sort(ptmp,ptmp+4);\n\n           fptmp.lu = ptmp[0];\n           if(ptmp[1].y < ptmp[2].y){\n             fptmp.ru = ptmp[1];\n             fptmp.ld = ptmp[2];\n           }\n           else{\n             fptmp.ru = ptmp[2];\n             fptmp.ld = ptmp[1];\n           }\n\n           fptmp.rd = ptmp[3];\n\n           st.insert(fptmp);\n         }\n       }\n     }\n\n    /* for(itr = st.begin(); itr != st.end(); ++itr) {\n        cout << *itr << \"\\n\";      // ????????¬???????????????????????????????????¨???\n    }*/\n\n\n     if(st.size() == 0){\n       count++;\n     }\n\n     for(int k=0;k<c-1;k++){\n\n      /* for(itr = st.begin(); itr != st.end(); ++itr) {\n       std::cout << \"key = \" << itr->first           // ???????????¨???\n                     << \", val = \" << itr->second << \"\\n\";    // ????????¨???\n       }*/\n\n       cin >> d;\n\n       /*for(int i=0;i<d;i++){\n\n         cout << i << endl;\n\n         for(int a=0;a<n;a++){\n           for(int b=0;b<n;b++){\n             if(table[a][b] == false){\n               cout << '0';\n             }\n             else{\n               cout << '1';\n             }\n             cout << ' ';\n           }\n           cout << endl;\n         }*/\n\n      for(int i=0;i<d;i++){\n\n\n\n         is_delete = false;\n         cin >> x >> y;\n         table[x-1][y-1] = !table[x-1][y-1];\n         //cout << \"unsigned \" << tmps << endl;\n\n         ptmp[0].x = x-1; ptmp[0].y = y-1; ptmp[0].bin = table[x-1][y-1];\n         ptmp[1].x = n-x; ptmp[1].y = y-1; ptmp[1].bin = table[n-x][y-1];\n         ptmp[2].x = x-1; ptmp[2].y = n-y; ptmp[2].bin = table[x-1][n-y];\n         ptmp[3].x = n-x; ptmp[3].y = n-y; ptmp[3].bin = table[n-x][n-y];\n\n         sort(ptmp,ptmp+4);\n\n         fptmp.lu = ptmp[0];\n         if(ptmp[1].y < ptmp[2].y){\n           fptmp.ru = ptmp[1];\n           fptmp.ld = ptmp[2];\n         }\n\n         else{\n           fptmp.ru = ptmp[2];\n           fptmp.ld = ptmp[1];\n         }\n\n         fptmp.rd = ptmp[3];\n\n         itr = st.find(fptmp);\n\n         if(itr != st.end()){\n           if(fptmp.lu.bin == fptmp.ru.bin && fptmp.ru.bin == fptmp.ld.bin && fptmp.ld.bin == fptmp.rd.bin){\n             st.erase(itr);\n           }\n         }\n         else{\n           st.insert(fptmp);\n         }\n\n       }\n\n\n\n\n\n\n\n       if(st.size() == 0){\n         //cout << \"f1d2a \" << k+2 << endl;\n         count++;\n       }\n\n     }\n\n     cout << count << endl;\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\nusing namespace std;\nint C,N;\nint num=0;\nbool p[1001][1001];\n\nbool Dis(){\n    int cnt=0;\n    for(int i=1;i<=N/2;i++){\n        for(int j=1;j<=N/2;j++){\n            if(p[i][j]==p[N+1-i][j]) cnt++;\n            if(p[i][j]==p[i][N+1-j]) cnt++;\n            if(p[i][j]==p[N+1-i][N+1-j]) cnt++;\n        }\n    }\n    return (cnt==N*N*3/4);\n}\n\nint main(){\n    \n    cin>>C>>N;\n    for(int i=1;i<=N;i++){\n        string S;\n        cin>>S;\n        for(int j=1;j<=N;j++){\n            p[i][j]=S[j-1]-'0';\n        }\n    }\n    \n    num+=Dis();\n\n    for(int i=1;i<=C-1;i++){\n        int D;\n        cin>>D;\n        for(int j=1;j<=D;j++){\n            int r,c;\n            cin>>r>>c;\n            p[r][c]^=1;\n        }\n        num+=Dis();\n    }\n\n    cout<<num<<endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n#include <string>\n\nusing namespace std;\n\nint a, b, k[1005][1005], c, l[5], m[505][505], ans = 0;\n\nint main() {\n\tcin >> a >> b;\n\tfor (int i = 0; i < b; ++i) {\n\t\tchar str[1234];\n\t\tscanf(\"%s\", str);\n\t\tfor (int j = 0; j < b; ++j) {\n\t\t\tif (str[j] == '1') k[i][j] = 1;\n\t\t\tif (str[j] == '0') k[i][j] = 0;\n\t\t}\n\t}\n\n\tfor (int i = 0; i < b / 2; ++i) {\n\t\tfor (int j = 0; j < b / 2; ++j) {\n\t\t\tint count = 0;\n\t\t\tif (k[i][j] == 1) count++;\n\t\t\tif (k[i][b - j - 1] == 1) count++;\n\t\t\tif (k[b - i - 1][b - j - 1] == 1) count++;\n\t\t\tif (k[b - i - 1][j] == 1) count++;\n\t\t\tm[i][j] = count;\n\t\t}\n\t}\n\tbool flag = true;\n\tfor (int i = 0; i < b / 2; ++i) {\n\t\tfor (int j = 0; j < b / 2; ++j) {\n\t\t\tif (m[i][j] != 0 && m[i][j] != 4) {\n\t\t\t\tflag = false;\n\t\t\t\tgoto syamu;\n\t\t\t}\n\t\t}\n\t}\nsyamu:\n\tif (flag) ans++;\n\n\twhile (max(0, a - 1)) {\n\t\tflag = true;\n\t\tcin >> c;\n\t\tfor (int i = 0; i < c; ++i) {\n\t\t\tcin >> l[0] >> l[1];\n\t\t\tl[0]--; l[1]--;\n\t\t\tif (k[l[0]][l[1]] == 1) {\n\t\t\t\tk[l[0]][l[1]] = 0;\n\t\t\t\tm[min(l[0], b - l[0] - 1)][min(l[1], b - l[1] - 1)]--;\n\t\t\t}\n\t\t\telse if (k[l[0]][l[1]] == 0) {\n\t\t\t\tk[l[0]][l[1]] = 1;\n\t\t\t\tm[min(l[0], b - l[0] - 1)][min(l[1], b - l[1] - 1)]++;\n\t\t\t}\n\t\t}\n\t\tfor (int i = 0; i < (b / 2); ++i) {\n\t\t\tfor (int j = 0; j < (b / 2); ++j) {\n\t\t\t\tif (m[i][j] != 0 && m[i][j] != 4) {\n\t\t\t\t\tflag = false;\n\t\t\t\t\tgoto aa;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\taa:\n\t\tif (flag) ans++;\n\t\ta--;\n\t}\n\tcout << ans << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <iomanip>\n#include <stack>\nusing namespace std;\n\nstruct Array {\n\tint col;\n\tint row;\n};\n\nclass Coster {\npublic:\n\tCoster(int n);\n\t~Coster();\n\tvoid diff(const int& r, const int& c);\n\tint SymmetryNum();\n\tvoid FirstSym();\n\tvoid SymCalc(int r, int c);\n\tvoid Count();\n\tbool** pixel;\nprivate:\n\tint symmetry;\n\tint N;\n\tbool same;\n\tstack<Array> array;\n};\nCoster::Coster(int n) {\n\tN = n;\n\tpixel = new bool*[n];\n\tfor (int i = 0; i < n; i++)\n\t\tpixel[i] = new bool[n];\n\tsame = false;\n}\nCoster::~Coster() {\n\tdelete[] pixel;\n}\nvoid Coster::diff(const int& r, const int& c) {\n\n\tpixel[r-1][c-1] = !pixel[r-1][c-1];\n\tArray a;\n\ta.col = c;\n\ta.row = r;\n\tarray.push(a);\n}\nint Coster::SymmetryNum() {\n\treturn symmetry;\n}\nvoid Coster::FirstSym() {\n\tchar same = 0;\n\t\n\tfor (int r = 0; r < N / 2; r++) {\n\t\tfor (int c = 0; c < N / 2; c++) {\n\t\t\tsame = pixel[r][c];\n\t\t\tsame |= pixel[r][N - c - 1] << 1;\n\t\t\tsame |= pixel[N - r - 1][c] << 2;\n\t\t\tsame |= pixel[N - r - 1][N - c - 1] << 3;\n\t\t\tif (!(same == 0x0f || same == 0x00))\n\t\t\t\treturn;\n\t\t}\n\t}\n\tsymmetry++;\n}\nvoid Coster::SymCalc(int r, int c) {\n\tchar same = 0;\n\n\tsame = pixel[r][c];\n\tsame |= pixel[r][N - c] << 1;\n\tsame |= pixel[N - r][c] << 2;\n\tsame |= pixel[N - r][N - c] << 3;\n\n\tif (same == 0x0f || same == 0x00)\n\t\tsame = true;\n\telse\n\t\tsame = false;\n}\nvoid Coster::Count() {\n\n\tchar same = 0;\n\tArray a;\n\n\twhile (!array.empty()) {\n\t\ta = array.top();\n\t\tarray.pop();\n\n\t\tsame = pixel[a.row][a.col];\n\t\tsame |= pixel[a.row][N - a.col - 1] << 1;\n\t\tsame |= pixel[N - a.row - 1][a.col] << 2;\n\t\tsame |= pixel[N - a.row - 1][N - a.col - 1] << 3;\n\n\t\tif (!(same == 0x0f || same == 0x00))\n\t\t\treturn;\n\t}\n\tsymmetry++;\n}\n\nint main()\n{\n\tint C,N;\n\tcin >> C >> N;\n\tCoster coster(N);\n\tchar n;\n\tfor (int i = 0; i < N; i++) {\n\t\tfor (int j = 0; j < N; j++) {\n\t\t\tcin >> n;\n\t\t\tcoster.pixel[i][j] = (bool)(n - '0');\n\t\t}\n\t}\n\t\n\tcoster.FirstSym();\n\n\tfor (int I = 0; I < C-1; I++) {\n\t\tint D;\n\t\tcin >> D;\n\t\tfor (int i = 0; i < D; i++) {\n\t\t\tint r, c;\n\t\t\tcin >> r >> c;\n\t\t\tcoster.diff(r, c);\n\t\t}\n\t\tcoster.Count();\n\t}\n\n\tcout << coster.SymmetryNum() << endl;\n\tint i;\n\tcin >> i;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\n#include<string>\n#define int long long\nusing namespace std;\nint c, n;\nchar map[1234][1234];\nbool b(int i, int j) {\n\treturn (map[i][j] == map[i][n - j + 1] && map[i][j] == map[n - i + 1][j] && map[i][j] == map[n - i + 1][n - j + 1]);\n}\nsigned main() {\n\tcin >> c >> n;\n\tfor (int i = 1; i <= n; i++)\n\t\tfor (int j = 1; j <= n; j++)\n\t\t\tcin >> map[i][j];\n\tint t = 0, ans = 0;\n\tfor (int i = 1; i <= n / 2; i++)\n\t\tfor (int j = 1; j <= n / 2; j++)\n\t\t\tt += !b(i, j);\n\tans += (t == 0);\n\tfor (int i = 1; i < c; i++) {\n\t\tint d; cin >> d;\n\t\tfor (int j = 0; j < d; j++) {\n\t\t\tint x, y; cin >> x >> y;\n\t\t\tint t1 = !b(x, y);\n\t\t\tmap[x][y] = (map[x][y] == '0' ? '1' : '0');\n\t\t\tint t2 = !b(x, y);\n\t\t\tt += t2 - t1;\n\t\t}\n\t\tans += (t == 0);\n\t}\n\tcout << ans << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#define  _CRT_SECURE_NO_WARNINGS\n#include <stdio.h>\n#include <algorithm>\n#include <utility>\n#include <functional>\n#include <cstring>\n#include <queue>\n#include <stack>\n#include <math.h>\n#include <iterator>\n#include <vector>\n#include <string>\n#include <set>\n#include <math.h>\n#include <iostream> \n#include <random>\n#include<map>\n#include <iomanip>\n#include <time.h>\n#include <stdlib.h>\n#include <list>\n#include <typeinfo>\n#include <list>\n#include <set>\n#include<fstream>\n#include <unordered_map>  \nusing namespace std;\n#define eps 0.00000001\n#define LONG_INF 10000000000000000\n#define GOLD 1.61803398874989484820458\n#define MAX_MOD 1000000007\n#define f(n) for(int i=0;i<n;++i)\n#define REP(i,n) for(long long i = 0;i < n;++i)\nint geko[2000][2000] = {};\nint main(){\n\tint c,n;\n\tcin >> c >> n;\n\tREP(i,n){\n\t\tstring s;\n\t\tcin >> s;\n\t\tREP(q,n){\n\t\t\tgeko[i][q] = s[q]-'0';\n\t\t}\n\t}\n\tint ans = 0;\n\tint now_bad = 0;\n\tfor(int i = 0;i < n;++i){\n\t\tfor(int q = 0;q < n;++q){\n\t\t\tif(geko[i][q] != geko[i][n-q-1]||geko[i][q] != geko[n-i-1][q]||geko[i][q] != geko[n-i-1][n-q-1]){\n\t\t\t\tnow_bad++;\n\t\t\t}\n\t\t}\n\t}\n\tnow_bad /= 4;\n\tif(now_bad == 0) ans++;\n\tfor(int i =0;i < c-1;++i){\n\t\tint a;\n\t\tcin >> a;\n\t\tfor(int q = 0;q < a;++q){\n\t\t\tint aa,ab;\n\t\t\tcin >>aa >> ab;\n\t\t\taa--;\n\t\t\tab--;\n\t\t\tif(geko[aa][ab] != geko[aa][n-ab-1]||geko[aa][ab] != geko[n-aa-1][ab]||geko[aa][ab] != geko[n-aa-1][n-ab-1]){\n\t\t\t\tgeko[aa][ab] = (geko[aa][ab]+1)%2;\n\t\t\t\tif(geko[aa][ab] == geko[aa][n-ab-1]&&geko[aa][ab] == geko[n-aa-1][ab]&&geko[aa][ab] == geko[n-aa-1][n-ab-1])now_bad--;\n\t\t\t}else{\n\t\t\t\tgeko[aa][ab] = (geko[aa][ab]+1)%2;\n\t\t\t\tnow_bad++;\n\t\t\t}\n\t\t}\n\t\tif(now_bad == 0) ans++;\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nshort table[1000][1000];\n\nint main(){\n\n    int c,n,ans=0,N,count=0;\n    char cha;\n\n    cin >> c >> n;\n\n    N = n-1;\n\n    for(int i=0; i<n; i++){\n      for(int j=0; j<n; j++){\n          cin >> cha;\n          table[i][j] = (cha=='0') ? 0 : 1;\n      }\n    }\n\n    for(int i=0; i<n/2; i++){\n      for(int j=0; j<n/2; j++){\n          if( (table[i][j] + table[i][N-j] + table[N-i][j] + table[N-i][N-j]) % 4 != 0){\n            count++;\n          }\n      }\n    }\n\n    if(count==0){\n      ans++;\n    }\n\n    int d,w,h;\n\n    while(--c){\n\n      bool beforeok;\n\n      cin >> d;\n\n      for(int i=0;i<d;i++){\n        cin >> w >> h;\n        w--;\n        h--;\n        if( (table[w][h] + table[w][N-h] + table[N-w][h] + table[N-w][N-h]) % 4 != 0){\n          beforeok = false;\n        }else{\n          beforeok = true;\n        }\n        table[w][h] = (table[w][h] == 0) ? 1 : 0;\n\n        if( (table[w][h] + table[w][N-h] + table[N-w][h] + table[N-w][N-h]) % 4 != 0){\n          if(beforeok){\n            count++;\n          }\n        }else{\n          count--;\n        }\n\n      }\n\n      if(count==0){\n        ans++;\n      }\n\n    }\n\n    cout << ans << endl;\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define r(i,n) for(int i=0;i<n;i++)\nusing namespace std;\nstring s[1001];\nint n,c,x,y,p,ans;\nbool ch(){\n  r(i,n/2)r(j,n)if(s[n-i-1][j]!=s[i][j])return 0;\n  r(i,n)r(j,n/2)if(s[i][n-j-1]!=s[i][j])return 0;\n  return 1;\n}\nint main(){\n  cin>>c>>n;\n  r(i,n)cin>>s[i];\n  if(ch())ans++;\n  r(i,c-1){\n    cin>>p;\n    r(i,p){\n      cin>>y>>x;x--;y--;\n      if(s[y][x]=='0')s[y][x]='1';\n      else s[y][x]='0';\n    }\n    if(ch())ans++;\n  }\n  cout<<ans<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\nusing namespace std;\nint C,N;\nint num=0;\nbool p[1001][1001];\n\nbool Dis(){\n    for(int i=1;i<=N/2;i++){\n        for(int j=1;j<=N/2;j++){\n            if(!(p[i][j]^p[N+1-i][j])) ;\n            else return 0;\n            if(!(p[i][j]^p[i][N+1-j])) ;\n            else return 0;\n            if(!(p[i][j]^p[N+1-i][N+1-j])) ;\n            else return 0;\n        }\n    }\n    return 1;\n}\n\nint main(){\n    \n    cin>>C>>N;\n    for(int i=1;i<=N;i++){\n        string S;\n        cin>>S;\n        for(int j=1;j<=N;j++){\n            p[i][j]=S[j-1]-'0';\n        }\n    }\n    \n    num+=Dis();\n    for(int i=1;i<=C-1;i++){\n        int D;\n        cin>>D;\n        for(int j=1;j<=D;j++){\n            int r,c;\n            cin>>r>>c;\n            p[r][c]^=1;\n        }\n        num+=Dis();\n    }\n\n    cout<<num<<endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main() {\n    int c, n;\n    cin >> c >> n;\n    vector<string> p(n);\n    for(int i = 0; i < n; ++i) {\n        cin >> p[i];\n    }\n    int incorrect = 0;\n    for(int i = 0; i < n; ++i) {\n        for(int j = 0; j < n / 2; ++j) {\n            incorrect += p[i][j] != p[i][n - j - 1];\n        }\n    }\n\n    int ans = incorrect == 0;\n    for(int i = 0; i < c - 1; ++i) {\n        int d; cin >> d;\n        for(int j = 0; j < d; ++j) {\n            int r, c; cin >> r >> c;\n            r--; c--;\n            p[r][c] = (p[r][c] == '0') ? '1' : '0';\n            if(p[r][c] == p[r][n - c - 1]) incorrect -= 1;\n            else incorrect += 1;\n        }\n        ans += incorrect == 0;\n    }\n\n    cout << ans << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define INF_LL (int64)1e18\n#define INF (int32)1e9\n#define REP(i, n) for(int64 i = 0;i < (n);i++)\n#define FOR(i, a, b) for(int64 i = (a);i < (b);i++)\n#define all(x) x.begin(),x.end()\n#define fs first\n#define sc second\n\nusing int32 = int_fast32_t;\nusing uint32 = uint_fast32_t;\nusing int64 = int_fast64_t;\nusing uint64 = uint_fast64_t;\nusing PII = pair<int32, int32>;\nusing PLL = pair<int64, int64>;\n\nconst double eps = 1e-10;\n\ntemplate<typename A, typename B>inline void chmin(A &a, B b){if(a > b) a = b;}\ntemplate<typename A, typename B>inline void chmax(A &a, B b){if(a < b) a = b;}\n\nint32 C, N;\nbool c[1000][1000] = {}, ok[500][500] = {};\n\nint32 tov(int32 x){\n\treturn min(x, N-x-1);\n}\n\nbool ok_mass(int32 y, int32 x){\n\treturn (c[y][x] == c[y][N-x-1] && c[y][x] == c[N-y-1][x] && c[y][x] == c[N-y-1][N-x-1]);\n}\n\nint main(void){\n\tint32 out = 0;\n\tcin >> C >> N;\n\tREP(i, N){\n\t\tstring s;\n\t\tcin >> s;\n\t\tREP(j, N){\n\t\t\tc[i][j] = s[j]-'0';\n\t\t}\n\t}\n\tREP(i, N/2){\n\t\tREP(j, N/2){\n\t\t\tif(ok_mass(i, j))\n\t\t\t\tok[i][j] = 1;\n\t\t\telse\n\t\t\t\tout++;\n\t\t}\n\t}\n\tint32 cnt = out == 0;\n\tREP(i, C-1){\n\t\tint32 D;\n\t\tcin >> D;\n\t\tREP(j, D){\n\t\t\tint32 y, x;\n\t\t\tcin >> y >> x; y--; x--;\n\t\t\tc[y][x] ^= 1;\n\t\t\tif(!ok[tov(y)][tov(x)]){\n\t\t\t\tif(ok_mass(tov(y), tov(x))){\n\t\t\t\t\tout--;\n\t\t\t\t\tok[tov(y)][tov(x)] = 1;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tok[tov(y)][tov(x)] = 0;\n\t\t\t\tout++;\n\t\t\t}\n\t\t}\n\t\tif(out == 0) cnt++;\n\t}\n\tcout << cnt << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define int long long\nint c,n;\nstring s[1111];\nint calc(int i,int j){\n  int tmp=0;\n  tmp+=s[i][j]=='1';\n  tmp+=s[n-1-i][j]=='1';\n  tmp+=s[i][n-1-j]=='1';\n  tmp+=s[n-1-i][n-1-j]=='1';\n  return tmp;\n}\nsigned main(){\n  cin>>c>>n;\n  for(int i=0;i<n;i++) cin>>s[i];\n  int cnt=0;\n  for(int i=0;i<n/2;i++){\n    for(int j=0;j<n/2;j++){\n      if(calc(i,j)==0||calc(i,j)==4) cnt++;\n    }\n  }\n  c--;\n  int ans=cnt==n*n/4;\n  while(c--){\n    int d;\n    cin>>d;\n    for(int k=0;k<d;k++){\n      int i,j;\n      cin>>i>>j;\n      i--;j--;\n      if(calc(i,j)==0||calc(i,j)==4) cnt--;\n      if(s[i][j]=='1') s[i][j]='0';\n      else s[i][j]='1';\n      if(calc(i,j)==0||calc(i,j)==4) cnt++;\n    }\n    ans+=cnt==n*n/4;\n  }\n  cout<<ans<<endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#include <assert.h>\nusing namespace std;\nusing i64 = long long;\n\nbool check(vector<string> &v, i64 n, i64 x, i64 y)\n{\n  return (v[x][y] == v[n - x - 1][y] && v[x][y] == v[x][n - y - 1] && v[x][y] == v[n - x - 1][n - y - 1]);\n}\n\nint main()\n{\n  i64 c, n;\n  cin >> c >> n;\n  vector<string> p(n);\n  for (i64 i = 0; i < n; i++)\n    cin >> p[i];\n  i64 def = 0;\n  vector<vector<bool>> ok(n, vector<bool>(n));\n  for (i64 i = 0; i < n / 2; i++)\n    for (i64 j = 0; j < n / 2; j++)\n      if (check(p, n, i, j))\n        ok[i][j] = true;\n      else\n      {\n        ok[i][j] = false;\n        def++;\n      }\n  i64 ans = (def == 0 ? 1 : 0);\n  for (i64 i = 0; i < c - 1; i++)\n  {\n    i64 d;\n    cin >> d;\n    vector<i64> pr(d), pc(d);\n    for (i64 j = 0; j < d; j++)\n    {\n      cin >> pr[j] >> pc[j];\n      pr[j]--;\n      pc[j]--;\n    }\n    for (i64 j = 0; j < d; j++)\n    {\n      p[pr[j]][pc[j]] = (p[pr[j]][pc[j]] == '1' ? '0' : '1');\n      if (n / 2 <= pr[j])\n        pr[j] = n - 1 - pr[j];\n      if (n / 2 <= pc[j])\n        pc[j] = n - 1 - pc[j];\n      bool s = check(p, n, pr[j], pc[j]);\n      if (s != ok[pr[j]][pc[j]])\n      {\n        if (s)\n          def--;\n        else\n          def++;\n      }\n      ok[pr[j]][pc[j]] = s;\n    }\n    if (def == 0)\n      ans++;\n  }\n  cout << ans << endl;\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nint p[100][100]={0,0};\n\nbool Symmetry(int P[100][100],int n)\n{\n\tfor(int i=0;i<=n/2;i++){\n\t\tfor(int j=0;j<=n/2;j++){\n\t\t\tif(P[i][j]==P[n-i][j]==P[i][n-j]==P[n-i][n-j]){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\t\n\treturn false;\n}\t\n\n\nint main()\n{\n\tint C,N;\n\tcin>>C>>N;\n\t\n\tchar tmp;\n\t\n\tfor(int i=0;i<N;i++){\n\t\tfor(int j=0;j<N;j++){\n\t\t\tcin>>tmp;\n\t\t\tif(tmp=='0'){\n\t\t\t\tp[i][j]=0;\n\t\t\t}\n\t\t\telse if(tmp=='1'){\n\t\t\t\tp[i][j]=1;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tint count=0;\n\t\n\tif(Symmetry(p,N-1)){\n\t\tcount++;\n\t}\n\t\n\tint D,r,c;\n\n\tfor(int i=1;i<C;i++){\n\t\tcin>>D;\n\t\tfor(int j=0;j<D;j++){\n\t\t\tcin>>r>>c;\n\t\t\tp[r-1][c-1]=!p[r-1][c-1];\n\n\t\t}\n\t\tif(Symmetry(p,N-1)){\n\t\t\tcount++;\n\t\t}\n\t}\n\t\n\tcout<<count<<endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n)for(int i=0;i<(n);i++)\nusing namespace std;\n\nint p[1000][1000];\nint main(){\n\tint c,n;scanf(\"%d%d\",&c,&n);\n\trep(i,n)rep(j,n)scanf(\"%1d\",&p[i][j]);\n\tint cnt=0,ans=0;\n\trep(i,n)rep(j,n/2){\n\t\tif(p[i][j]!=p[i][n-j-1])cnt++;\n\t\tif(p[j][i]!=p[n-j-1][i])cnt++;\n\t}\n\tif(cnt==0)ans++;\n\trep(i,c-1){\n\t\tint D;scanf(\"%d\",&D);\n\t\trep(i,D){\n\t\t\tint x,y;scanf(\"%d%d\",&x,&y);x--;y--;\n\t\t\tif(p[x][y]!=p[x][n-y-1])cnt--;\n\t\t\telse cnt++;\n\t\t\tif(p[x][y]!=p[n-x-1][y])cnt--;\n\t\t\telse cnt++;\n\t\t\tp[x][y]^=1;\n\t\t}\n\t\tif(cnt==0)ans++;\n\t}\n\tcout<<ans<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "// 2017/08/01 Tazoe\n\n#include <iostream>\nusing namespace std;\n\nbool check(bool P[1000][1000], int N)\n{\n\tfor(int y=0; y<N/2; y++){\n\t\tfor(int x=0; x<N/2; x++){\n\t\t\tif(P[y][x]==P[y][N-1-x]\n\t\t\t&& P[y][x]==P[N-1-y][x]\n\t\t\t&& P[y][x]==P[N-1-y][N-1-x])\n\t\t\t\tcontinue;\n\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n\n\nint main()\n{\n\tint C, N;\n\tcin >> C >> N;\n\n\tbool P[1000][1000];\n\tfor(int y=0; y<N; y++){\n\t\tfor(int x=0; x<N; x++){\n\t\t\tchar p;\n\t\t\tcin >> p;\n\n\t\t\tP[y][x] = (bool)(p-'0');\n\t\t}\n\t}\n/*\n\tfor(int y=0; y<N; y++){\n\t\tfor(int x=0; x<N; x++){\n\t\t\tcout << (int)P[y][x];\n\t\t}\n\t\tcout << endl;\n\t}\n*/\n\n\tbool Q[1000][1000];\n\tint  sumQ = 0;\n\tfor(int y=0; y<N/2; y++){\n\t\tfor(int x=0; x<N/2; x++){\n\t\t\tQ[y][x]         = !(P[y][x]==P[y][x]);\n\t\t\tQ[y][N-1-x]     = !(P[y][N-1-x]==P[y][x]);\n\t\t\tQ[N-1-y][x]     = !(P[N-1-y][x]==P[y][x]);\n\t\t\tQ[N-1-y][N-1-x] = !(P[N-1-y][N-1-x]==P[y][x]);\n\t\t\tif(Q[y][x])          sumQ++;\n\t\t\tif(Q[y][N-1-x])      sumQ++;\n\t\t\tif(Q[N-1-y][x])      sumQ++;\n\t\t\tif(Q[N-1-y][N-1-x])  sumQ++;\n\t\t}\n\t}\n\n//\tcout << sumQ << endl;\n\n\tint cnt = 0;\n\n\tif(sumQ==0){\n\t\tcnt++;\n\t}\n\n\tfor(int i=1; i<C; i++){\n\t\tint D;\n\t\tcin >> D;\n\n\t\tfor(int j=0; j<D; j++){\n\t\t\tint r, c;\n\t\t\tcin >> r >> c;\n\n\t\t\tif(r<=N/2 && c<=N/2){\n\t\t\t\tQ[r-1][N-c] = !Q[r-1][N-c];\n\t\t\t\tQ[N-r][c-1] = !Q[N-r][c-1];\n\t\t\t\tQ[N-r][N-c] = !Q[N-r][N-c];\n\t\t\t\tif(Q[r-1][N-c])  sumQ++;  else  sumQ--;\n\t\t\t\tif(Q[N-r][c-1])  sumQ++;  else  sumQ--;\n\t\t\t\tif(Q[N-r][N-c])  sumQ++;  else  sumQ--;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tQ[r-1][c-1] = !Q[r-1][c-1];\n\t\t\t\tif(Q[r-1][c-1])  sumQ++;  else  sumQ--;\n\t\t\t}\n\t\t}\n\n\t\tif(sumQ==0){\n\t\t\tcnt++;\n\t\t}\n\t}\n\n\tcout << cnt << endl;\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main(){\n    int c,n;\n    int m[1000][1000];\n    cin>>c>>n;\n    for(int i=0;i<n;i++){\n        for(int j=0;j<n;j++){\n            char c;\n            cin>>c;\n            m[i][j]=(c=='0'?0:1);\n        }\n    }\n    int ans=0;\n    set<int> s;\n    for(int i=0;i<(n+1)/2;i++){\n        for(int j=0;j<(n+1)/2;j++){\n            if(m[i][j]!=m[n-1-i][j]||m[i][j]!=m[n-1-i][n-1-j]||m[i][j]!=m[i][n-1-j]){\n                s.insert(i*n+j);\n            }\n        }\n    }\n    if(s.empty()){\n        ans++;\n    }\n    c--;\n    while(c--){\n        int d;\n        cin>>d;\n        for(int i=0;i<d;i++){\n            int r,c;\n            cin>>r>>c;\n            r--;c--;\n            m[r][c]^=1;\n            s.insert(min(r,n-1-r)*n+min(c,n-1-c));\n        }\n        for(set<int>::iterator i=s.begin();i!=s.end();i++){\n            int h=*i;\n            int a=h/n,b=h%n;\n            if(m[a][b]==m[a][n-1-b]&&m[a][b]==m[n-1-a][n-1-b]&&m[a][b]==m[n-1-a][b]){\n                s.erase(h);\n            }\n        }\n        if(s.empty()){\n            ans++;\n        }\n    }\n    cout<<ans<<endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nint C, N, Len, CurSum, Total;\nint MapData[10000][10000];\n\nint judge(int row, int col) {\n\t\n\tif (MapData[row][col] != MapData[row][N-1-col]) {\n\t\treturn 0;\n\t}\n\tif (MapData[row][col] != MapData[N-1-row][col]) {\n\t\treturn 0;\n\t}\n\tif (MapData[row][col] != MapData[N-1-row][N-1-col]) {\n\t\treturn 0;\n\t}\n\treturn 1;\n}\n\nint main() {\n\tint d, r, c;\n\tstring str;\n\n\tcin >> C >> N;\n\tfor (int i = 0; i < N; ++i) {\n\t\tcin >> str;\n\t\tfor (int j = 0; j < N; ++j) {\n\t\t\tMapData[i][j] = str[j] - '0';\n\t\t}\n\t}\n\tLen = N / 2;\n\tCurSum = 0;\n\tfor (int i = 0; i < Len; ++i) {\n\t\tfor (int j = 0; j < Len; ++j) {\n\t\t\tCurSum += judge(i, j) * 4;\n\t\t}\n\t}\n\tTotal = 0;\n\tif (CurSum == N*N) {\n\t\t++Total;\n\t}\n\tfor (int i = 1; i < C; ++i) {\n\t\tcin >> d;\n\t\tfor (int m = 0; m < d; ++m) {\n\t\t\tcin >> r >> c;\n\t\t\t--r;\n\t\t\t--c;\n\t\t\tCurSum -= judge(r, c) * 4;\n\t\t\tMapData[r][c] = (MapData[r][c] == 1 ? 0 : 1);\n\t\t\tCurSum += judge(r, c) * 4;\n\t\t}\n\t\tif (CurSum == N*N) {\n\t\t\t++Total;\n\t\t}\n\t}\n\tcout << Total << endl;\n\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <cmath>\n#include <algorithm>\n#include <stack>\n#include <queue>\n#include <vector>\ntypedef long long int ll;\n#define BIG_NUM 2000000000\n#define MOD 1000000007\nusing namespace std;\n\nstruct Info{\n\tInfo(int arg_row,int arg_col){\n\t\trow = arg_row;\n\t\tcol = arg_col;\n\t}\n\tint row,col;\n};\n\n int main(){\n\n\t int C,N,count = 0,not_num,not_num_work,D,tmp_row,tmp_col;\n\t scanf(\"%d %d\",&C,&N);\n\n\t char** base_table = new char*[N];\n\t bool** check = new bool*[N/2];\n\n\t for(int i = 0; i < N; i++){\n\t\t base_table[i] = new char[N+1];\n\t }\n\n\t for(int i = 0; i < N/2; i++){\n\t\t check[i] = new bool[N/2];\n\t }\n\n\t for(int i = 0; i < N; i++){\n\t\t scanf(\"%s\",base_table[i]);\n\t }\n\n\t not_num = 0;\n\t for(int row_div = 0; row_div <= (N/2)-1;row_div++){\n\t\t for(int col_div = 0; col_div <= (N/2)-1;col_div++){\n\t\t\t if(base_table[row_div][col_div] == base_table[row_div][N-1-col_div] &&\n\t\t\t\tbase_table[row_div][col_div] == base_table[N-1-row_div][col_div] &&\n\t\t\t\tbase_table[row_div][col_div] == base_table[N-1-row_div][N-1-col_div]){\n\t\t\t\t check[row_div][col_div] = true;\n\t\t\t }else{\n\t\t\t\t check[row_div][col_div] = false;\n\t\t\t\t not_num++;\n\t\t\t }\n\t\t }\n\t }\n\n\t if(not_num == 0)count++;\n\n\t if(C == 1){\n\t\t printf(\"%d\\n\",count);\n\t\t return 0;\n\t }\n\n\t stack<Info> ChangeLog;\n\t not_num_work = not_num;\n\n\t for(int loop = 1; loop <= C-1; loop++){\n\n\t\t scanf(\"%d\",&D);\n\n\t\t for(int i = 0; i < D; i++){\n\t\t\t scanf(\"%d %d\",&tmp_row,&tmp_col);\n\t\t\t ChangeLog.push(Info(tmp_row,tmp_col));\n\n\t\t\t if(base_table[ChangeLog.top().row-1][ChangeLog.top().col-1] == '1'){\n\t\t\t\t base_table[ChangeLog.top().row-1][ChangeLog.top().col-1] = '0';\n\t\t\t }else{\n\t\t\t\t base_table[ChangeLog.top().row-1][ChangeLog.top().col-1] = '1';\n\t\t\t }\n\n\t\t\t if(ChangeLog.top().row-1 >= N/2){\n\t\t\t\t if(ChangeLog.top().col-1 >= N/2){\n\t\t\t\t\t if(check[N-1-(ChangeLog.top().row-1)][N-1-(ChangeLog.top().col-1)] == true){\n\t\t\t\t\t\t check[N-1-(ChangeLog.top().row-1)][N-1-(ChangeLog.top().col-1)] = false;\n\t\t\t\t\t\t not_num_work++;\n\t\t\t\t\t }else{\n\t\t\t\t\t\t if(base_table[N-1-(ChangeLog.top().row-1)][N-1-(ChangeLog.top().col-1)] == base_table[N-1-(ChangeLog.top().row-1)][N-1-(N-1-(ChangeLog.top().col-1))] &&\n\t\t\t\t\t\t\tbase_table[N-1-(ChangeLog.top().row-1)][N-1-(ChangeLog.top().col-1)] == base_table[N-1-(N-1-(ChangeLog.top().row-1))][N-1-(ChangeLog.top().col-1)] &&\n\t\t\t\t\t\t\tbase_table[N-1-(ChangeLog.top().row-1)][N-1-(ChangeLog.top().col-1)] == base_table[N-1-(N-1-(ChangeLog.top().row-1))][N-1-(N-1-(ChangeLog.top().col-1))]){\n\t\t\t\t\t\t\t check[N-1-(ChangeLog.top().row-1)][N-1-(ChangeLog.top().col-1)] = true;\n\t\t\t\t\t\t\t not_num_work--;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t //Do nothing\n\t\t\t\t\t\t }\n\t\t\t\t\t }\n\t\t\t\t }else{ //??????\n\t\t\t\t\t if(check[N-1-(ChangeLog.top().row-1)][ChangeLog.top().col-1] == true){\n\t\t\t\t\t\t check[N-1-(ChangeLog.top().row-1)][ChangeLog.top().col-1] = false;\n\t\t\t\t\t\t not_num_work++;\n\t\t\t\t\t }else{\n\t\t\t\t\t\t if(base_table[N-1-(ChangeLog.top().row-1)][ChangeLog.top().col-1] == base_table[N-1-(ChangeLog.top().row-1)][N-1-(ChangeLog.top().col-1)] &&\n\t\t\t\t\t\t\tbase_table[N-1-(ChangeLog.top().row-1)][ChangeLog.top().col-1] == base_table[N-1-(N-1-(ChangeLog.top().row-1))][ChangeLog.top().col-1] &&\n\t\t\t\t\t\t\tbase_table[N-1-(ChangeLog.top().row-1)][ChangeLog.top().col-1] == base_table[N-1-(N-1-(ChangeLog.top().row-1))][N-1-(ChangeLog.top().col-1)]){\n\t\t\t\t\t\t\t check[N-1-(ChangeLog.top().row-1)][ChangeLog.top().col-1] = true;\n\t\t\t\t\t\t\t not_num_work--;\n\t\t\t\t\t\t }else{\n\t\t\t\t\t\t\t //Do nothing\n\t\t\t\t\t\t }\n\t\t\t\t\t }\n\t\t\t\t }\n\t\t\t }else{\n\t\t\t\t if(ChangeLog.top().col-1 >= N/2){\n\t\t\t\t\t if(check[ChangeLog.top().row-1][N-1-(ChangeLog.top().col-1)] == true){\n\t\t\t\t\t\t check[ChangeLog.top().row-1][N-1-(ChangeLog.top().col-1)] = false;\n\t\t\t\t\t\t not_num_work++;\n\t\t\t\t\t }else{\n\t\t\t\t\t\t if(base_table[ChangeLog.top().row-1][N-1-(ChangeLog.top().col-1)] == base_table[ChangeLog.top().row-1][N-1-(N-1-(ChangeLog.top().col-1))] &&\n\t\t\t\t\t\t\tbase_table[ChangeLog.top().row-1][N-1-(ChangeLog.top().col-1)] == base_table[N-1-(ChangeLog.top().row-1)][N-1-(ChangeLog.top().col-1)] &&\n\t\t\t\t\t\t\tbase_table[ChangeLog.top().row-1][N-1-(ChangeLog.top().col-1)] == base_table[N-1-(ChangeLog.top().row-1)][N-1-(N-1-(ChangeLog.top().col-1))]){\n\t\t\t\t\t\t\t check[ChangeLog.top().row-1][N-1-(ChangeLog.top().col-1)] = true;\n\t\t\t\t\t\t\t not_num_work--;\n\t\t\t\t\t\t }else{\n\t\t\t\t\t\t\t //Do nothing\n\t\t\t\t\t\t }\n\t\t\t\t\t }\n\t\t\t\t }else{ //??????\n\t\t\t\t\t if(check[ChangeLog.top().row-1][ChangeLog.top().col-1] == true){\n\t\t\t\t\t\t check[ChangeLog.top().row-1][ChangeLog.top().col-1] = false;\n\t\t\t\t\t\t not_num_work++;\n\t\t\t\t\t }else{\n\t\t\t\t\t\t if(base_table[ChangeLog.top().row-1][ChangeLog.top().col-1] == base_table[ChangeLog.top().row-1][N-1-(ChangeLog.top().col-1)] &&\n\t\t\t\t\t\t\tbase_table[ChangeLog.top().row-1][ChangeLog.top().col-1] == base_table[N-1-(ChangeLog.top().row-1)][ChangeLog.top().col-1] &&\n\t\t\t\t\t\t\tbase_table[ChangeLog.top().row-1][ChangeLog.top().col-1] == base_table[N-1-(ChangeLog.top().row-1)][N-1-(ChangeLog.top().col-1)]){\n\t\t\t\t\t\t\t check[ChangeLog.top().row-1][ChangeLog.top().col-1] = true;\n\t\t\t\t\t\t\t not_num_work--;\n\t\t\t\t\t     }else{\n\t\t\t\t\t\t\t //Do nothing\n\t\t\t\t\t\t }\n\t\t\t\t\t }\n\t\t\t\t }\n\t\t\t }\n\t\t }\n\t\t if(not_num_work == 0)count++;\n\t }\n\n\t printf(\"%d\\n\",count);\n\n\n\t return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\n\nint c,n,xo[1000][1000] = {},yo[1000][1000] = {},ans = 0,cnt = 0,cnty = 0;\nstring field[1000];\n\nint main(){\n\tcin >> c >> n;\n\tfor(int i = 0;i < n;i++){\n\t\tcin >> field[i];\n\t\tfor(int j = 0;j < n;j++){\n\t\t\tif(field[i][j] == '1'){\n\t\t\t\tint pos = j;\n\t\t\t\tif(pos >= n / 2) pos = n - 1 - pos;\n\t\t\t\txo[i][pos] ^= 1;\n\t\t\t\tpos = i;\n\t\t\t\tif(pos >= n / 2) pos = n - 1 - pos;\n\t\t\t\tyo[pos][j] ^= 1;\n\t\t\t}\n\t\t}\n\t}\n\tfor(int i = 0;i < n;i++){\n\t\tfor(int j = 0;j < n / 2;j++) cnt += xo[i][j];\n\t}\n\tfor(int i = 0;i < n / 2;i++){\n\t\tfor(int j = 0;j < n;j++) cnty += yo[i][j];\n\t}\n\tif(!cnt && !cnty) ans++;\n\tfor(int i = 0;i < c - 1;i++){\n\t\tint d;\n\t\tcin >> d;\n\t\tfor(int j = 0;j < d;j++){\n\t\t\tint r,C,x,y;\n\t\t\tcin >> r >> C; r--;C--;\n\t\t\ty = C;\n\t\t\tif(y >= n / 2) y = n - 1 - y;\n\t\t\tif(xo[r][y]){\n\t\t\t\txo[r][y] = 0;\n\t\t\t\tcnt--;\n\t\t\t}else{\n\t\t\t\txo[r][y] = 1;\n\t\t\t\tcnt++;\n\t\t\t}\n\t\t\tx = r;\n\t\t\tif(x >= n / 2) x = n - 1 - x;\n\t\t\tif(yo[x][C]){\n\t\t\t\tyo[x][C] = 0;\n\t\t\t\tcnty--;\n\t\t\t}else{\n\t\t\t\tyo[x][C] = 1;\n\t\t\t\tcnty++;\n\t\t\t}\n\t\t}\n\t\tif(!cnt && !cnty) ans++;\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef string str;\n#define down_queue(x) priority_queue<x>\n#define up_queue(x) priority_queue<x, vector<x>, greater<x>>\n#define vec(x) vector<x>\nll gcd(ll a,ll b){while(b){ll tmp = a % b;a = b;b = tmp;}return a;}\nll lcm(ll a,ll b){return a / gcd(a,b) * b;}\n#define rep(x, y) for(int x = 0; x < (y); x++)\n#define rrep(x, y) for(int x = (y); x >= 0; x--)\n#define REP(x, z, y) for(int x = (z); x < (y); x++)\n#define RREP(x, z, y) for(int x = (y); x >= (z); x--)\n#define all(x) x.begin(), x.end()\n#define split_str(str, sp_word) istringstream stream(str); string res; for(int cnt = 0; getline(stream,res,sp_word); cnt++)\n#define digit(x) ((int)log10((double)(x)) + 1)\n#define mp(x,y) make_pair(x,y)\n#define pb(x) push_back(x)\n#define pf(x) push_front(x)\n#define out(x) for(auto i : x) cout << i << \" \"; cout << endl;\n#define outln(x) for(auto i : x) cout << i << \" \" << endl;\n#define vec_cpy(to,from) copy(all(to),back_inserter(from))\n#define ary_cpy(to,from) memcpy(to, from, sizeof from)\n#define MOD = 1000000007; \n#ifdef DEBUG\n#define debug_echo(e) cout << \"|\" << __LINE__ << \"| \" << e << endl\n#define debug_var(e) cout << \"|\" << __LINE__ << \"| \" << #e << \": \" << e << endl\n#define debug_echo_dp(dp, N) { cout << \"[ \"; rep(cnt, N) cout << dp[cnt] << \" \";  cout << \"]\" << endl; }\n#else\n#define debug_echo(e)\n#define debug_var(e)\n#define debug_echo_dp(dp, N)\n#endif\n\nint main(){\n  int C,n,d,r,c,ans = 0; cin >> C >> n;\n  int harf = n / 2;\n  //debug_var(harf);\n  vec(bool) h[harf],w[n];\n  vec(bool) h_goal(n,true);\n  vec(bool) w_goal(harf,true);\n  debug_echo_dp(h_goal,n);\n  debug_echo_dp(w_goal,harf);\n  rep(i,harf) h[i].resize(n);\n  rep(i,n) w[i].resize(harf);\n  str p[n];\n\n  rep(i,n) cin >> p[i];\n\n  function<bool(vec(bool)*, vec(bool)*)> is_match = [&](vec(bool)* h, vec(bool)* w) {\n    bool h_result;\n    bool w_result;\n    rep(i,harf)\n      if(h[i] != h_goal) return false;\n\n    rep(i,n) \n      if(w[i] != w_goal) return false;\n\n    return true;\n  };\n\n  //????????????????????¨\n  rep(i,harf){\n    rep(j,n) h[i][j] = (p[i][j] == p[n - i - 1][j]);\n    //debug_echo_dp(h[i],h[i].size());\n  }\n\n  //?¨??????????????????¨\n  rep(i,n){\n    rep(j,harf) w[i][j] = (p[i][j] == p[i][n - j - 1]);\n    //debug_echo_dp(w[i],w[i].size());\n  }\n\n  if(is_match(h,w)) ans++;\n\n  rep(i,C - 1){\n    cin >> d;\n    rep(i,d){\n      cin >> r >> c;\n      r--;c--;\n      //debug_echo(r << \" - \" << c);\n      //debug_echo(\"h \" << (r >= harf ? n - r - 1 : r) << \" : \" << c << \" in \" << !h[(r >= harf ? n - r - 1 : r)][c]);\n      h[(r >= harf ? n - r - 1 : r)][c] = !h[(r >= harf ? n - r - 1 : r)][c];\n      //debug_echo(\"w \" << r << \" : \" << (c >= harf ? n - c - 1 : c) << \" \" << !w[r][(c >= harf ? n - c - 1 : c)]);\n      w[r][(c >= harf ? n - c - 1 : c)] = !w[r][(c >= harf ? n - c - 1 : c)];\n    } \n\n    if(is_match(h,w)) ans++;\n  }\n\n  cout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\nusing namespace std;\nint C,N;\nint num=0;\nbool p[1001][1001];\n\nbool Dis(){\n    int cnt=0;\n    for(int i=1;i<=N/2;i++){\n        for(int j=1;j<=N/2;j++){\n            if(!(p[i][j]^p[N+1-i][j])) cnt++;\n            if(!(p[i][j]^p[i][N+1-j])) cnt++;\n            if(!(p[i][j]^p[N+1-i][N+1-j])) cnt++;\n        }\n    }\n    return (cnt==N*N*3/4);\n}\n\nint main(){\n    \n    cin>>C>>N;\n    for(int i=1;i<=N;i++){\n        string S;\n        cin>>S;\n        for(int j=1;j<=N;j++){\n            p[i][j]=S[j-1]-'0';\n        }\n    }\n    \n    num+=Dis();\n\n    for(int i=1;i<=C-1;i++){\n        int D;\n        cin>>D;\n        for(int j=1;j<=D;j++){\n            int r,c;\n            cin>>r>>c;\n            p[r][c]^=1;\n        }\n        num+=Dis();\n    }\n\n    cout<<num<<endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef string str;\n#define down_queue(x) priority_queue<x>\n#define up_queue(x) priority_queue<x, vector<x>, greater<x>>\n#define vec(x) vector<x>\nll gcd(ll a,ll b){while(b){ll tmp = a % b;a = b;b = tmp;}return a;}\nll lcm(ll a,ll b){return a / gcd(a,b) * b;}\n#define rep(x, y) for(int x = 0; x < (y); x++)\n#define rrep(x, y) for(int x = (y); x >= 0; x--)\n#define REP(x, z, y) for(int x = (z); x < (y); x++)\n#define RREP(x, z, y) for(int x = (y); x >= (z); x--)\n#define all(x) x.begin(), x.end()\n#define split_str(str, sp_word) istringstream stream(str); string res; for(int cnt = 0; getline(stream,res,sp_word); cnt++)\n#define digit(x) ((int)log10((double)(x)) + 1)\n#define mp(x,y) make_pair(x,y)\n#define pb(x) push_back(x)\n#define pf(x) push_front(x)\n#define out(x) for(auto i : x) cout << i << \" \"; cout << endl;\n#define outln(x) for(auto i : x) cout << i << \" \" << endl;\n#define vec_cpy(to,from) copy(all(to),back_inserter(from))\n#define ary_cpy(to,from) memcpy(to, from, sizeof from)\n#define MOD = 1000000007; \n#ifdef DEBUG\n#define debug_echo(e) cout << \"L\" << __LINE__ << \": \" << e << endl\n#define debug_var(e) cout << \"L\" << __LINE__ << \": \" << #e << \" = \" << e << endl\n#define debug_echo_dp(dp, N) { cout << \"[ \"; rep(i, N) cout << dp[i] << \" \";  cout << \"]\" << endl; }\n#else\n#define debug_echo(e)\n#define debug_var(e)\n#define debug_echo_dp(dp, N)\n#endif\n\nint main(){\n  int C,n,d,r,c,ans = 0; cin >> C >> n;\n  str p[n];\n  rep(i,n) cin >> p[i];\n\n  function<bool(str*)> is_match = [&](str* a){\n    bool LR = true;\n    bool UD = true;\n\n    rep(i,n){\n      rep(j,n){\n        if(a[i][j] != a[i][n - j - 1]){\n          LR = false; \n          break;\n        }\n      }\n    }\n\n    rep(i,n){\n      rep(j,n){\n        if(a[i][j] != a[n - i  - 1][j]){\n          UD = false;\n          break;\n        } \n      }\n    }\n    \n    return (LR && UD);\n  };\n\n  if(is_match(p)) ans++;\n\n  rep(i,C - 1){\n    cin >> d;\n    rep(i,d){\n      cin >> r >> c;\n      r--;c--;\n      p[r][c] = (p[r][c] == '0' ? '1' : '0');\n    }\n    if(is_match(p)) ans++;\n  }\n\n  cout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nint main(){\n  int C,N,p[1000][1000];\n  int D,r[1000],c[1000];\n  int count=0,sum=0,maisuu=0;\n  \n  cin >> C >> N;\n  \n  for(int i=0;i<N;i++)\n    for(int j=0;j<N;j++)\n      cin >> p[i][j];\n  \n  while(1){\n    if(count==C) break;\n    \n    if(count!=0){ \n      cin>>D;\n      for(int i=0;i<D;i++)\n\tcin>>r[i]>>c[i];\n      \n      for(int i=0;i<D;i++){\n\tif(p[r[i]-1][c[i]-1]==0) p[r[i]-1][c[i]-1]=1;\n\telse p[r[i]-1][c[i]-1]=0;\n\t//cout<<p[r[i]-1][c[i]-1]<<endl;//\n      }\n    }\n    \n    for(int i=0;i<N;i++){\n      for(int j=0;j<N/2;j++){\n\tif(p[i][j]==p[i][N-1-j] && p[i][j]==p[N-1-i][j]) sum++;\n\t//cout<<sum<<endl;//\n      }\n      if(sum!=(N/2)*(i+1)) break;\n    }\n    if(sum==N*(N/2)) maisuu++;\n    sum=0;\n    count++;\n    }\n  cout<<maisuu<<endl;\n  return 0;\n  }"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\nint main(){\n\n  int n,hw,i,j,cnt,result=0,d;\n  string co[1000];\n\n  cin>>n>>hw;\n  for(i=0;i<hw;i++) cin>>co[i];\n\n  cnt=0;\n  for(i=0;i<hw/2;i++){\n    for(j=0;j<hw;j++){\n      if(co[hw/2-1-i][j]!=co[hw/2+i][j]) cnt++;\n      if(co[j][hw/2-1-i]!=co[j][hw/2+i]) cnt++;\n      if(cnt!=0) break;\n    }\n    if(cnt!=0) break; \n  }\n\n  if(cnt==0) result++;\n\n  for(i=0;i<n-1;i++){\n    cin>>d;\n    int h,w;    \n    for(j=0;j<d;j++){\n      cin>>h>>w;\n      if(co[h-1][w-1]=='1') co[h-1][w-1]='0';\n      else co[h-1][w-1]='1';\n    }\n\n    cnt=0;\n    for(j=0;j<hw/2;j++){\n      for(int k=0;k<hw;k++){\n\tif(co[hw/2-1-j][k]!=co[hw/2+j][k]) cnt++;\n\tif(co[k][hw/2-1-j]!=co[k][hw/2+j]) cnt++;\n\tif(cnt!=0) break;\n      }\n      if(cnt!=0) break;\n    }\n    if(cnt==0) result++;\n\n  }\n\n  cout<<result<<endl;\n  return 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define r(i,n) for(int i=0;i<n;i++)\nusing namespace std;\nstring s[1001];\nint n,c,x,y,p,ans;\nbool ch(){\n  r(i,n/2)r(j,n/2)if(s[n-i-1][j]!=s[i][j]||s[n-i-1][n-j-1]!=s[i][j]||s[i][n-j-1]!=s[i][j])return 0;\n  return 1;\n}\nint main(){\n  cin>>c>>n;\n  r(i,n)cin>>s[i];\n  if(ch())ans++;\n  r(i,c-1){\n    cin>>p;\n    r(i,p){\n      cin>>y>>x;x--;y--;\n      if(s[y][x]=='0')s[y][x]='1';\n      else s[y][x]='0';\n    }\n    if(ch())ans++;\n  }\n  cout<<ans<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusingnamespace std;\nint main(){\n    int c,n;\n    int m[1000][1000];\n    cin>>c>>n;\n    for(int i=0;i<n;i++){\n        for(int j=0;j<n;j++){\n            cin<<m[i][j];\n        }\n    }\n    bool f=true;\n    int ans=0;\n    for(int i=0;i<=n/2+1;i++){\n        for(int j=0;j<=n/2+1;j++){\n            if(m[i][j]!=m[n-1-i][j]||m[i][j]!=m[n-1-i][n-1-j]||m[i][j]!=m[i][n-1-j]){\n                f=false;\n                break;\n            }\n        }\n    }\n    if(f){\n        ans++;\n    c--;\n    while(c--){\n        int d;\n        cin>>d;\n        for(int i=0;i<d;i++){\n            int r,c;\n            cin>>r>>c;\n            r--;c--;\n            m[r][c]^=1;\n        }\n        f=true;\n        for(int i=0;i<=n/2+1;i++){\n            for(int j=0;j<=n/2+1;j++){\n                if(m[i][j]!=m[n-1-i][j]||m[i][j]!=m[n-1-i][n-1-j]||m[i][j]!=m[i][n-1-j]){\n                    if(f){\n                        ans++;\n                    }\n                }\n            }\n        }\n        f=false;\n    }\n    cout<<ans<<endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint c,n;\nint con=0;;\nbool coa[1001][1001];\nbool changecheck[101];\nbool coacheck(){\n  if(con==0)return true;\n  else return false;\n}\nint main(){\n  cin >>c>>n;\n  for(int i=1;i<=n;i++){\n    string coaster;\n    cin >> coaster;\n    for(int j=1;j<=n;j++){\n      int kari =coaster[j-1]-48;\n      coa[i][j]=kari;\n    }\n  }\n\n  for(int i=1;i<=n/2;i++){\n    for(int j=1;j<=n/2;j++){\n      if((coa[i][j]==coa[i][n-j+1])&&(coa[i][j]==coa[n-i+1][j])&&(coa[i][j]==coa[n-i+1][n-j+1])){\n      }else{\n        con++;\n      }\n    }\n  }\n\n  int coacon =0;\n  if(coacheck())coacon++;\n  for(int i=1;i<c;i++){\n    int num;\n    cin >>num;\n    int a[num*2];\n    for(int j=0;j<num*2;j++){\n      cin >>a[j];\n    }\n    for(int j=0;j<num;j++){\n      if((coa[a[j*2]][a[j*2+1]]==coa[a[j*2]][n+1-a[j*2+1]])&&(coa[a[j*2]][a[j*2+1]]==coa[n-a[j*2]+1][a[j*2+1]])&&(coa[a[j*2]][a[j*2+1]]==coa[n-a[j*2]+1][n-a[j*2+1]+1])){\n        changecheck[j]=true;\n      }else{\n        changecheck[j]=false;\n      }\n        if(coa[a[j*2]][a[j*2+1]]==true)coa[a[j*2]][a[j*2+1]]=false;\n        else coa[a[j*2]][a[j*2+1]]=true;\n      }\n\n      for(int j=0;j<num;j++){\n        if((coa[a[j*2]][a[j*2+1]]==coa[a[j*2]][n+1-a[j*2+1]])&&(coa[a[j*2]][a[j*2+1]]==coa[n-a[j*2]+1][a[j*2+1]])&&(coa[a[j*2]][a[j*2+1]]==coa[n-a[j*2]+1][n-a[j*2+1]+1])){\n          if(changecheck[j+1]==false){\n            con--;\n          }\n        }else{\n          if(changecheck[j+1]==true){\n            con++;\n          }\n        }\n      }\n    if(coacheck())coacon++;\n  }\n  cout << coacon <<endl;\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<(int)n;i++)\n#define all(c) (c).begin(),(c).end()\n#define pb push_back\n#define dbg(...) do{cerr<<__LINE__<<\": \";dbgprint(#__VA_ARGS__, __VA_ARGS__);}while(0);\n\nusing namespace std;\n\nnamespace std{template<class S,class T>struct hash<pair<S,T>>{size_t operator()(const pair<S,T>&p)const{return ((size_t)1e9+7)*hash<S>()(p.first)+hash<T>()(p.second);}};template<class T>struct hash<vector<T>>{size_t operator()(const vector<T> &v)const{size_t h=0;for(auto i : v)h=h*((size_t)1e9+7)+hash<T>()(i)+1;return h;}};}\ntemplate<class T>ostream& operator<<(ostream &os, const vector<T> &v){os<<\"[ \";rep(i,v.size())os<<v[i]<<(i==v.size()-1?\" ]\":\", \");return os;}template<class T>ostream& operator<<(ostream &os,const set<T> &v){os<<\"{ \"; for(const auto &i:v)os<<i<<\", \";return os<<\"}\";}\ntemplate<class T,class U>ostream& operator<<(ostream &os,const map<T,U> &v){os<<\"{\";for(const auto &i:v)os<<\" \"<<i.first<<\": \"<<i.second<<\",\";return os<<\"}\";}template<class T,class U>ostream& operator<<(ostream &os,const pair<T,U> &p){return os<<\"(\"<<p.first<<\", \"<<p.second<<\")\";}\nvoid dbgprint(const string &fmt){cerr<<endl;}template<class H,class... T>void dbgprint(const string &fmt,const H &h,const T&... r){cerr<<fmt.substr(0,fmt.find(\",\"))<<\"= \"<<h<<\" \";dbgprint(fmt.substr(fmt.find(\",\")+1),r...);}\ntypedef long long ll;typedef vector<int> vi;typedef pair<int,int> pi;const int inf = (int)1e9;const double INF = 1e12, EPS = 1e-9;\n\nint main(){\n\tcin.tie(0); cin.sync_with_stdio(0);\n\tint c, n; cin >> c >> n;\n\tint mid = n / 2;\n\tint m = (mid + 63) / 64;\n\tvector<vector<ll>> upper(n, vector<ll>(m)), right(n, vector<ll>(m));\n\tvector<vector<ll>> lower(n, vector<ll>(m)), left(n, vector<ll>(m));\n\t\n\tauto flip = [&](int y, int x){\n\t\tif(y < mid) upper[x][y / 64] ^= 1ull << y % 64;\n\t\telse{\n\t\t\tint Y = n - 1 - y;\n\t\t\tlower[x][Y / 64] ^= 1ull << Y % 64;\n\t\t}\n\t\tif(x < mid) left[y][x / 64] ^= 1ull << x % 64;\n\t\telse{\n\t\t\tint X = n - 1 - x;\n\t\t\tright[y][X / 64] ^= 1ull << X % 64;\n\t\t}\n\t};\n\tauto check = [&](){\n\t\treturn upper == lower && right == left;\n\t};\n\t\n\trep(i, n){\n\t\tstring s; cin >> s;\n\t\trep(j, n) if(s[j] == '1') flip(i, j);\n\t}\n\t\n\tint ans = check();\n\twhile(--c){\n\t\tint q; cin >> q;\n\t\twhile(q--){\n\t\t\tint y, x; cin >> y >> x;\n\t\t\tflip(y - 1, x - 1);\n\t\t}\n\t\tif(check()) ans++;\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint Pflg[1001][1001];\nint main(void)\n{\n\tint c,n;\n\tint d;\n\tint dr,dc;\n\tint i,j;\n\tint cnt1,cnt2;\n\tchar P[1001];\n\tcin>>c>>n;\n\tfor(i=1;i<=n;i++){\n\t\tcin>>P;\n\t\tfor(j=0;j<n;j++){\n\t\t\tPflg[i][j+1]=P[j]-48;\n\t\t}\n\t}\n\tcnt1=0; cnt2=0;\n\tfor(i=1;i<=n;i++){\n\t\tfor(j=1;j<=n;j++){\n\t\t\tif(Pflg[i][j]==1){\n\t\t\t\tif(n/2>=j&&Pflg[i][j]!=Pflg[i][j+((n/2-j)*2)+1]) cnt2++;\n\t\t\t\telse if(n/2<j&&Pflg[i][j]!=Pflg[i][j-((j-n/2-1)*2)-1]) cnt2++;\n\t\t\t\t\n\t\t\t\tif(n/2>=i&&Pflg[i][j]!=Pflg[i+((n/2-i)*2)+1][j]) cnt2++;\n\t\t\t\telse if(n/2<j&&Pflg[i][j]!=Pflg[i][j-((j-n/2-1)*2)-1]) cnt2++;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tif(cnt2==0) cnt1++;\n//\tcout<<\"cnt2=\"<<cnt2<<endl;\n\tfor(i=0;i<c-1;i++){\n\t\tcin>>d;\n\t\tfor(j=0;j<d;j++){\n\t\t\tcin>>dr>>dc;\n\t\t\tif(Pflg[dr][dc]==0) Pflg[dr][dc]=1;\n\t\t\telse Pflg[dr][dc]=0;\n\t\t\t\n\t\t\tif(n/2>=dc){\n\t\t\t\tif(Pflg[dr][dc]!=Pflg[dr][dc+((n/2-dc)*2)+1]) cnt2++;\n\t\t\t\telse cnt2--;\n\t\t\t}\n\t\t\telse if(n/2<dc){\n\t\t\t\tif(Pflg[dr][dc]!=Pflg[dr][dc-((dc-n/2-1)*2)-1]) cnt2++;\n\t\t\t\telse cnt2--;\n\t\t\t}\n\t\t\t\n\t\t\tif(n/2>=dc){\n\t\t\t\tif(Pflg[dr][dc]!=Pflg[dr+((n/2-dr)*2)+1][dc]) cnt2++;\n\t\t\t\telse cnt2--;\n\t\t\t}\n\t\t\telse if(n/2<dc){\n\t\t\t\tif(Pflg[dr][dc]!=Pflg[dr-((dr-n/2-1)*2)-1][dc]) cnt2++;\n\t\t\t\telse cnt2--;\n\t\t\t}\n\t\t}\n\t\tif(cnt2==0){\n\t\t\tcnt1++;\n//\t\t\tcout<<\"i=\"<<i+2<<endl;\n\t\t}\n\t}\n\tcout<<cnt1<<endl;\n\t\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing ll = long long;\nusing VI = vector<int>;\nusing VL = vector<ll>;\n#define FOR(i,a,n) for(int (i)=(a);(i)<(n);(i)++)\n#define eFOR(i,a,n) for(int (i)=(a);(i)<=(n);(i)++)\n#define rFOR(i,a,n) for(int (i)=(n)-1;(i)>=(a);(i)--)\n#define erFOR(i,a,n) for(int (i)=(n);(i)>=(a);(i)--)\n#define SORT(i) sort((i).begin(),(i).end())\n#define rSORT(i,a) sort((i).begin(),(i).end(),(a))\n#define all(i) (i).begin(),(i).end()\nconstexpr ll INF = 1000000000;\nconstexpr ll LLINF = 1LL << 60;\nconstexpr ll mod = 1000000007;\nconstexpr ll MOD = 998244353;\ntemplate<class T> inline bool chmax(T& a, T b) { if (a < b) { a = b; return 1; }return 0; }\ntemplate<class T> inline bool chmin(T& a, T b) { if (a > b) { a = b; return 1; }return 0; }\ninline void init() { cin.tie(nullptr); cout.tie(nullptr); cin.tie(nullptr); ios::sync_with_stdio(false); cout << fixed << setprecision(15); }\n\nint c, n;\nvector<VI> p;\nbool check(int y, int x) {\n    bool ret = true;\n    if (p[y][x] != p[n - y - 1][x])ret = false;\n    if (p[y][x] != p[n - y - 1][n - x - 1])ret = false;\n    if (p[y][x] != p[y][n - x - 1])ret = false;\n    return ret;\n}\n\nint main() {\n    init();\n\n    cin >> c >> n;\n    p.resize(n, VI(n));\n    string in;\n    FOR(y, 0, n) {\n        cin >> in;\n        FOR(x, 0, n)p[y][x] = in[x] - '0';\n    }\n\n    int num = 0;\n    FOR(y, 0, n / 2)FOR(x, 0, n / 2)if (check(y, x))num++;\n\n    int ans = (num == n * n / 4 ? 1 : 0);\n    int d, dy, dx;\n    FOR(i, 0, c - 1) {\n        cin >> d;\n        FOR(j, 0, d) {\n            cin >> dy >> dx;\n            dy--, dx--;\n            if (check(dy, dx))num--;\n\n            p[dy][dx] = 1 - p[dy][dx];\n            if (check(dy, dx))num++;\n        }\n        if (num == n * n / 4)ans++;\n    }\n    cout << ans << \"\\n\";\n}\n"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\n\nvector<vector<int>>coaster;\nvector < vector<pair<int, int>>>difs;\nint main() {\n\tint C, N; cin >> C >> N;\n\t{\n\t\tvector<vector<int>>field(N, vector<int>(N));\n\t\tfor (int y = 0; y< N; ++y) {\n\t\t\tstring st; cin >> st;\n\t\t\tfor (int x = 0; x < N; ++x) {\n\t\t\t\tfield[y][x]=st[x]-'0';\n\t\t\t}\n\t\t}\n\t\tcoaster = field;\n\t\tdifs.resize(C-1);\n\t\tfor (int i = 0; i < C-1; ++i) {\n\t\t\tint D; cin >> D;\n\t\t\twhile (D--) {\n\t\t\t\tint y, x; scanf(\"%d %d\", &y, &x); y--; x--;\n\t\t\t\tdifs[i].push_back(make_pair(y, x));\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t}\n\tvector<vector<vector<int>>>vs(N / 2, \n\t\tvector<vector<int>>(N / 2,vector<int>( 4)));\n\tint sum = 0;\n\tfor (int y = 0; y < N; ++y) {\n\t\tfor (int x = 0; x < N; ++x) {\n\t\t\tif (y >= N / 2 && x >= N / 2)vs[N - y - 1][N - x - 1][3] = coaster[y][x];\n\t\t\tif (y >= N / 2 && x < N / 2)vs[N - y - 1][x][2] = coaster[y][x];\n\t\t\tif (y < N / 2 && x >= N / 2)vs[y][N - x - 1][1] = coaster[y][x];\n\t\t\tif (y < N / 2 && x < N / 2)vs[y][x][0] = coaster[y][x];\n\n\t\t}\n\t}\n\tfor (int y = 0; y < N / 2; ++y) {\n\t\tfor (int x = 0; x < N / 2; ++x) {\n\t\t\tint nn = 0;\n\t\t\tfor (int t = 0; t < 4; ++t) {\n\t\t\t\tnn += vs[y][x][t];\n\t\t\t}\n\t\t\tsum += (1 - ((nn == 0) || (nn == 4)));\n\t\t\t//sum+= 1-(all_of(vs[y][x].begin(), vs[y][x].end(), [=](const int a) {return a == vs[y][x][0]; }));\n\t\t}\n\t}\n\tint ans = 0;\n\tif (!sum)ans++;\n\tfor (int i = 0; i < C-1; ++i) {\n\t\tfor (auto dif : difs[i]) {\n\t\t\tint y = dif.first;\n\t\t\tint x = dif.second;\n\t\t\tcoaster[y][x] = !coaster[y][x];\n\t\t\tint ay = y >= N / 2 ? N - y - 1 : y;\n\t\t\tint ax = x >= N / 2 ? N - x - 1 : x;\n\t\t\t{\n\n\t\t\t\tint nn = 0;\n\t\t\t\tfor (int t = 0; t < 4; ++t) {\n\t\t\t\t\tnn += vs[ay][ax][t];\n\t\t\t\t}\n\t\t\t\tsum -= (1 - ((nn == 0) || (nn == 4)));\n\t\t\t}\t\n\t\t\t//sum-= 1-(all_of(vs[ay][ax].begin(), vs[ay][ax].end(), [=](const int a) {return a == vs[ay][ax][0]; }));\n\t\t\tif (y >= N / 2 && x >= N / 2)vs[N - y - 1][N - x - 1][3] = coaster[y][x];\n\t\t\tif (y >= N / 2 && x < N / 2)vs[N - y - 1][x][2] = coaster[y][x];\n\t\t\tif (y < N / 2 && x >= N / 2)vs[y][N - x - 1][1] = coaster[y][x];\n\t\t\tif (y < N / 2 && x < N / 2)vs[y][x][0] = coaster[y][x];\n\t\t\t{\n\t\t\t\tint nn = 0;\n\t\t\t\tfor (int t = 0; t < 4; ++t) {\n\t\t\t\t\tnn += vs[ay][ax][t];\n\t\t\t\t}\n\t\t\t\tsum += (1 - ((nn == 0) || (nn == 4)));\n\t\t\t}\n\t\t\t//sum += 1-(all_of(vs[ay][ax].begin(), vs[ay][ax].end(), [=](const int a) {return a == vs[ay][ax][0]; }));\n\n\t\t}\n\t\tif (!sum)ans++;\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\nint coaster[1001][1001];\nint main(void){\n    int c,n,x,y,d,temp;\n    char a;\n    int cut=0;\n    int ans=0;\n    cin>>c>>n;\n    for(int i=1;i<=n;i++){\n        for(int j=1;j<=n;j++){\n            cin>>a;\n            if(a=='1'){\n                coaster[i][j]=1;\n            }\n            else{\n                coaster[i][j]=0;\n            }\n        }\n    }\n    for(int i=1;i<=n/2;i++){\n        for(int j=1;j<=n/2;j++){\n            if(coaster[i][j]!=coaster[n-i+1][j]||coaster[i][j]!=coaster[i][n-j+1]||coaster[i][j]!=coaster[n-i+1][n-j+1]){\n                cut++;\n            }\n        }\n    }\n    if(cut==0){\n        ans++;\n    }\n    for(int i=2;i<=c;i++){\n        cin>>d;\n        for(int j=0;j<d;j++){\n            cin>>y>>x;\n            if(coaster[y][x]==0){\n                coaster[y][x]=1;\n                temp=0;\n            }\n            else{\n                coaster[y][x]=0;\n                temp=1;\n            }\n            if((temp==coaster[n-y+1][x]&&temp==coaster[y][n-x+1]&&temp==coaster[n-y+1][n-x+1])&&(coaster[y][x]!=coaster[n-y+1][x]||coaster[y][x]!=coaster[y][n-x+1]||coaster[y][x]!=coaster[n-y+1][n-x+1])){\n                cut++;\n            }\n            else if((temp!=coaster[n-y+1][x]||temp!=coaster[y][n-x+1]||temp!=coaster[n-y+1][n-x+1])&&(coaster[y][x]==coaster[n-y+1][x]&&coaster[y][x]==coaster[y][n-x+1]&&coaster[y][x]==coaster[n-y+1][n-x+1])){\n                cut--;\n            }\n        }\n        if(cut==0){\n            ans++;\n        }\n    }\n    \n    cout<<ans<<endl;\n}\n\n"
  },
  {
    "language": "Haskell",
    "code": "import Data.Char\n\ntranspose ([]:_) = []\ntranspose matrix =\n  let row  = map (head) matrix\n      rows = transpose $ map (drop 1) matrix\n  in\n    row:rows\n\npatch :: [[Int]] -> [Int] -> [[Int]]\npatch b [x, y] =\n  let b0 = take (x-1) b\n      c  = head $ drop (x-1) b\n      b1 = drop x b\n      c0 = take (y-1) c\n      d  = 1 - (head $ drop (y-1) c)\n      c1 = drop y c\n  in\n    b0 ++ ((c0++(d:c1)):b1)\n\nchk' b =\n  let n = (length b) `div` 2\n      x = take n b\n      y = take n $ reverse b\n  in\n    x == y\n\nchk b = (chk' b) && (chk' b')\n  where b' = transpose b\n\nans' b [] = []\nans' b ([d]:ds) =\n  let df = take d ds\n      r  = drop d ds\n      b' = foldl patch b df\n      c  = chk b'\n  in\n    c:(ans' b' r)\n\nans i =\n  let l = lines i\n      [c,n] = map read $ words $ head l :: [Int]\n      b = map (map digitToInt) $ take n $ drop 1 l :: [[Int]]\n      d = map (map read) $ map words $ drop (n+1) l :: [[Int]]\n  in\n    (chk b):(ans' b d)\n\nmain = do\n  i <- getContents\n  let o = ans i\n  print $ length $ filter (\\e -> e) o\n\n"
  },
  {
    "language": "Haskell",
    "code": "import Data.Char\n\ntranspose ([]:_) = []\ntranspose matrix =\n  let row  = map (head) matrix\n      rows = transpose $ map (drop 1) matrix\n  in\n    row:rows\n\npatch' (b:bs) y =\n  if y /= 1\n  then b:(patch' bs (y-1))\n  else (1-b):bs\n\npatch :: [[Int]] -> [Int] -> [[Int]]\npatch (b:bs) [x, y] =\n  if x /= 1\n  then b:(patch bs [x-1,y])\n  else (patch' b y):bs\n\nchk' b =\n  let n = (length b) `div` 2\n      x = take n b\n      y = take n $ reverse b\n  in\n    x == y\n\nchk b = (chk' b) && (chk' b')\n  where b' = transpose b\n\nans' b [] = []\nans' b ([d]:ds) =\n  let df = take d ds\n      r  = drop d ds\n      b' = foldl patch b df\n      c  = chk b'\n  in\n    c:(ans' b' r)\n\nans i =\n  let l = lines i\n      [c,n] = map read $ words $ head l :: [Int]\n      b = map (map digitToInt) $ take n $ drop 1 l :: [[Int]]\n      d = map (map read) $ map words $ drop (n+1) l :: [[Int]]\n  in\n    (chk b):(ans' b d)\n\nmain = do\n  i <- getContents\n  let o = ans i\n  print $ length $ filter (\\e -> e) o\n\n"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\nchar G[1000][1000];\nint N;\n\nint next(int i){ return ((N-i-1)+N)%N;}\n\nint getState(int i, int j){\n  return  G[i][j] == G[i][next(j)] &&\n    G[i][j] == G[next(i)][j] &&\n    G[i][j] == G[next(i)][next(j)];\n}\n\nint getInit(){\n  int i, j, dcnt = 0;\n  for ( i = 0; i < N/2; i++ ){\n    for ( j = 0; j < N/2; j++ ){\n      if (!getState(i, j)) dcnt++;\n    }\n  }\n  return dcnt;\n}\n\nint main(){\n  int i, j, k, r, c, C, dcnt, ans = 0, pre, post;\n  char str[1001];\n  scanf(\"%d %d\", &C, &N);\n\n  for ( i = 0; i < N; i++ ){\n    scanf(\"%s\", str);\n    for ( j = 0; j < N; j++ ){\n      G[i][j] = str[j];\n    }\n  }\n  \n  dcnt = getInit();\n  if (dcnt == 0 ) ans++;\n  for ( i = 0; i < C-1; i++ ){\n    scanf(\"%d\", &k);\n    for (  j = 0; j < k; j++ ){\n      scanf(\"%d %d\", &r, &c); r--; c--;\n      pre = getState(r, c);\n      G[r][c] = G[r][c]=='1'?'0':'1';\n      post = getState(r, c);\n      if ( !pre && post ) dcnt--;\n      else if ( pre && !post ) dcnt++;\n    }\n    if ( dcnt == 0 ) ans++;\n  }\n\n  printf(\"%d\\n\", ans);\n  return 0;\n}\n\n"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\nint main(){\n  int c, n, cnt = 0, flag = 0, d, r ,tmp;\n  int i, j, k, pri[128][128];\n  char kind[128];\n\n  scanf(\"%d%d\", &c, &n);\n  \n  for(i=0; i<n; i++){\n    scanf(\"%s\", kind);\n    for(j=0; j<n; j++){\n      if(kind[j]=='0'){\n\tpri[i][j]=0;\n      }else{\n\tpri[i][j]=1;\n      }\n    }\n  }\n\n  /* for(i=0; i<n; i++){ */\n  /*   for(j=0; j<n; j++){ */\n  /*     printf(\"%d \", pri[i][j]); */\n  /*   } */\n  /*   printf(\"\\n\"); */\n  /* } */\n\n\n  \n  for(i = 0; i < n; i++){   /* テ・ツッツセテァツァツーテヲツ?ァ */\n    for(j = 0; j < n/2; j++){\n      if(pri[i][j] != pri[i][n - 1 - j]) flag = 1;\n      if(pri[j][i] != pri[n - 1 - j][i]) flag = 1;\n    }\n  }\n  \n  if(flag == 0) cnt++;\n\n\n  if(c == 1){\n    printf(\"%d\\n\", cnt);\n  }\n\n  else{\n    \n    tmp=c-1;\n    for(k = 0; k < tmp; k++){  /* テ」ツδ?」ツつァテ」ツδウテ」ツつクテ、ツサツ・テゥツ卍催ゥツ鳴凝・ツァツ?*/ \n      scanf(\"%d\", &d);   /* テ」ツδ?」ツつァテ」ツδウテ」ツつク */\n      for(i = 0; i < d; i++){\n\tscanf(\"%d%d\", &c, &r);\n\tif(pri[c - 1][r - 1] == 0) pri[c - 1][r - 1] = 1;\n\telse pri[c - 1][r - 1] = 0;\n      }\n\n      flag = 0;  /* テ・ツッツセテァツァツーテヲツ?ァ */\n      for(i = 0; i < n; i++){  \n\tfor(j = 0; j < n/2; j++){\n\t  if(pri[i][j] != pri[i][n - 1 - j]) flag = 1;\n\t  if(pri[j][i] != pri[n - 1 - j][i]) flag = 1;\n\t}\n      }\n    \n      /* for(i=0; i<n; i++){ */\n      /*   for(j=0; j<n; j++){ */\n      /* \tprintf(\"%d \", pri[i][j]); */\n      /*   } */\n      /*   printf(\"\\n\"); */\n      /* } */\n   \n      if(flag == 0) cnt++;\n\n    }\n\n    printf(\"%d\\n\", cnt);\n\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint cheak(int a[128][128], int n)\n{\n\n    int i, j;\n\n    for(i = 0; i < n; i++) {\n        for(j = 0; j < n; j++) {\n            if(a[i][j] != a[n - 1 - i][j])\n                return 0;\n            if(a[i][j] != a[i][n - 1 - j])\n                return 0;\n        }\n    }\n\n    return 1;\n}\n\nint main(void)\n{\n\n    int c, n, i, j, k, r, t, h = 0;\n    int a[128][128];\n\n    scanf(\"%d %d\", &c, &n);\n\n    for(i = 0; i < n; i++) {\n        for(j = 0; j < n; j++)\n            scanf(\"%d\", &a[i][j]);\n        if(i == n - 1 && j == n - 1)\n            break;\n        printf(\"\\n\");\n    }\n\n    h += cheak(a, n);\n\n    for(i = 0; i < c - 1; i++) {\n        scanf(\"%d\", &k);\n        for(j = 0; j < k; j++) {\n            scanf(\"%d %d\", &r, &t);\n            if(a[r - 1][t - 1] == 1)\n                a[r - 1][t - 1]--;\n            else\n                a[r - 1][t - 1]++;\n        }\n        h += cheak(a, n);\n    }\n\n    printf(\"%d\\n\", h);\n\n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(void)\n{\n\tint c,n,p[1000][1000],i,j,d,x,y,z,k,m=0,g=0;\n\tscanf(\"%d%d\",&c,&n);\n\tfor(i=0;i<n;i++){\n\t\tfor(j=0;j<n;j++){\n\t\t\tscanf(\"%d\",&p[i][j]);\n\t\t}\n\t}\n\tfor(z=1;z<c;z++){\n\t\tscanf(\"%d\",&d);\n\t\tfor(i=0;i<d;i++){\n\t\t\tscanf(\"%d%d\",&x,&y);\n\t\t\tif(p[x][y]==1){\n\t\t\t\tp[x][y]=0;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tp[x][y]=1;\n\t\t\t}\n\t\t}\n\t\tfor(i=0;i<n/2;i++){\n\t\t\tk=0;\n\t\t\tfor(j=0;j<n;j++){\n\t\t\t\tif(p[i][j]==p[n-i][j]){\n\t\t\t\t\tk++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(k==n){\n\t\t\t\tm=m+2;\n\t\t\t}\n\t\t}\n\t\tfor(i=0;i<n/2;i++){\n\t\t\tk=0;\n\t\t\tfor(j=0;j<n;j++){\n\t\t\t\tif(p[j][i]==p[j][n-i]){\n\t\t\t\t\tk++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(k==n){\n\t\t\t\tm=m+2;\n\t\t\t}\n\t\t}\n\t\tif(m==n*2){\n\t\t\tg++;\n\t\t}\n\t}\n\tprintf(\"%d\\n\",g);\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "// AOJ 0320: Quality Management\n// 2017.11.14 bal4u@uu\n\n#include <stdio.h>\n\nint n, n1, n2;\n\nchar m[1002][1002];\nchar s[502][502];\n\nchar *p;\nint getint()\n{\n\tint n = 0;\n\twhile (*p >= '0') n = (n<<3) + (n<<1) + (*p++ & 0xf);\n\treturn n;\n}\n\nint sum(int r, int c)\n{\n\treturn s[r][c] = (m[r][c]+m[n1-r][c]+m[r][n1-c]+m[n1-r][n1-c]) & 3;\n}\n\nint main()\n{\n\tint t, d, r, c, f1, f2, diff, ans;\n\tchar buf[20];\n\n\tfgets(p=buf, 20, stdin), t = getint(), p++, n = getint();\n\tn1 = n-1, n2 = n >> 1;\n\tdiff = 0, ans = 0;\n\n\tfor (r = 0; r < n; r++) fgets(m[r], 1002, stdin);\n\tfor (r = 0; r < n2; r++) for (c = 0; c < n2; c++)\n\t\tif (sum(r, c)) diff++;\n\tif (!diff) ans++;\n\n\twhile (--t) {\n\t\tfgets(p=buf, 20, stdin), d = getint();\n\t\twhile (d--) {\n\t\t\tfgets(p=buf, 20, stdin);\n\t\t\tr = getint()-1, p++, c = getint()-1;\n\t\t\tm[r][c] = '1' - (m[r][c] & 0xf);\n\t\t\tif (r >= n2) r = n1-r;\n\t\t\tif (c >= n2) c = n1-c;\n\t\t\tf1 = s[r][c], f2 = sum(r, c);\n\t\t\tif ( f1 && !f2) diff--;\n\t\t\tif (!f1 &&  f2) diff++;\n\t\t\tif (!diff) ans++;\n\t\t}\n\t}\n\tprintf(\"%d\\n\", ans);\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\n#define MAX_N 1000\n\nint e, n, d, r, c;\nchar p[MAX_N][MAX_N + 1];\n\nint main(void)\n{\n\tint cnt;\n\tint i, j;\n\n\tscanf( \"%d %d \", &e, &n );\n\t\n\tfor( i=0; i<n; i++ ) {\n\t\tscanf( \"%s\", p[i] );\n\t}\n\t\n\tcnt = 0;\n\twhile( 1 ) {\n\t\t\n\t\tfor( i=0; i<n/2; i++ ) {\n\t\t\tfor( j=0; j<n/2; j++ ) {\n\t\t\t\t\tif ( !(p[j][i] == p[n-1-j][i] && p[n-1-j][i] == p[j][n-1-i] && p[j][n-1-i] == p[n-1-j][n-1-i]) ) break;\n\t\t\t}\n\t\t\t\n\t\t\tif ( j < n/2 ) break;\n\t\t}\n\t\t\n\t\tif ( i >= n/2 ) cnt++;\n\t\t\n\t\te--;\n\t\tif ( e <= 0 ) break;\n\t\t\n\t\tscanf( \"%d\", &d );\n\t\t\n\t\twhile( d-- ) {\n\t\t\tscanf( \"%d %d\", &r, &c );\n\t\t\tif ( p[r-1][c-1] == '1' ) p[r-1][c-1] = '0';\n\t\t\telse p[r-1][c-1] = '1';\n\t\t\t\n\t\t}\n\t\t\n\t}\n\t\n\tprintf( \"%d\\n\", cnt );\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include<string.h>\n\n\n#define SUCCESS NULL\n#define MAX_N 1000\nchar vertical[ MAX_N +1 ][ MAX_N +1 ] ;\nchar horizontal[ MAX_N +1 ][ MAX_N +1 ] ;\n\nint C ,N ;\nint IsSucceed( char ( *dat )[ MAX_N +1 ] )\n{\n\tint ret = SUCCESS ;\n\tint head = 1 ,tail = N ;\n\twhile( (ret = strcmp( dat[ head++ ] +1 ,dat[ tail-- ] +1 )) == SUCCESS && head < tail ) ;\n\n\treturn (ret == SUCCESS) ;\n}\n\n\nint main( void )\n{\n\tscanf( \"%d %d\" ,&C ,&N ) ;\n\n\tint i ,j ;\n\tfor( i = 1 ; i <= N ; ++i )\n\t{\n\t\tscanf( \"%s\" ,horizontal[ i ] +1 ) ;\n\t}\n\n\tfor( i = 1 ; i <= N ; ++i )\n\t{\n\t\tfor( j = 1 ; j <= N ; ++j )\n\t\t{\n\t\t\tvertical[ i ][ j ] = horizontal[ j ][ i ] ;\n\t\t}\n\t}\n\n\tint c ;\n\tint y ,x ;\n\n\tint ans = IsSucceed( vertical ) & IsSucceed( horizontal ) ;\n\tfor( i = 1 ; i < C ; ++i )\n\t{\n\t\tscanf( \"%d\" ,&c ) ;\n\t\tfor( j = 0 ; j < c ; ++j )\n\t\t{\n\t\t\tscanf( \"%d %d\" ,&y ,&x ) ;\n\n\t\t\tvertical[ x ][ y ] = vertical[ x ][ y ] == '0' ? '1' : '0' ;\n\t\t\thorizontal[ y ][ x ] = horizontal[ y ][ x ] == '0' ? '1' : '0' ;\n\t\t}\n\n\t\tans += IsSucceed( vertical ) & IsSucceed( horizontal ) ;\n\t}\n\n\tprintf( \"%d\\n\" ,ans ) ;\n\n\treturn 0 ;\n}\n"
  },
  {
    "language": "C",
    "code": "// AOJ 0320: Quality Management\n// 2017.11.14 bal4u@uu\n\n#include <stdio.h>\n\nint n, n1, n2;\n\nchar m[1002][1002];\nchar s[502][502];\n\nchar *p;\nint getint()\n{\n\tint n = 0;\n\twhile (*p >= '0') n = (n<<3) + (n<<1) + (*p++ & 0xf);\n\treturn n;\n}\n\nint check(int r, int c)\n{\n\ts[r][c] = (m[r][c]+m[n1-r][c]+m[r][n1-c]+m[n1-r][n1-c]) & 3;\n\treturn s[r][c] == 0;\n}\n\nint main()\n{\n\tint t, d, r, c, f1, f2, diff, ans;\n\tchar buf[20];\n\n\tfgets(p=buf, 20, stdin), t = getint(), p++, n = getint();\n\tn1 = n-1, n2 = n >> 1;\n\tdiff = 0, ans = 0;\n\n\tfor (r = 0; r < n; r++) fgets(m[r], 1002, stdin);\n\tfor (r = 0; r < n2; r++) for (c = 0; c < n2; c++)\n\t\tif (!check(r, c)) diff++;\n\tif (!diff) ans++;\n\n\twhile (--t) {\n\t\tfgets(p=buf, 20, stdin), d = getint();\n\t\twhile (d--) {\n\t\t\tfgets(p=buf, 20, stdin);\n\t\t\tr = getint()-1, p++, c = getint()-1;\n\t\t\tm[r][c] = '1' - (m[r][c] & 0xf);\n\t\t\tif (r >= n2) r = n1-r;\n\t\t\tif (c >= n2) c = n1-c;\n\t\t\tf1 = s[r][c], f2 = check(r, c);\n\t\t\tif (f1 && f2) diff--;\n\t\t\telse if (!f1 && !f2) diff++;\n\t\t\tif (!diff) ans++;\n\t\t}\n\t}\n\tprintf(\"%d\\n\", ans);\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint cheak(int a[128][128], int n)\n{\n\n    int i, j;\n\n    for(i = 0; i < n; i++) {\n        for(j = 0; j < n; j++) {\n            if(a[i][j] != a[n - 1 - i][j])\n                return 0;\n            if(a[i][j] != a[i][n - 1 - j])\n                return 0;\n        }\n    }\n\n    return 1;\n}\n\nint main(void)\n{\n\n    int c, n, i, j, k, r, t, h = 0;\n    int a[128][128];\n\n    scanf(\"%d %d\", &c, &n);\n\n    for(i = 0; i < n; i++) {\n        for(j = 0; j < n; j++)\n            scanf(\"%d\", &a[i][j]);\n    }\n\n    h += cheak(a, n);\n\n    for(i = 0; i < c - 1; i++) {\n        scanf(\"%d\", &k);\n        for(j = 0; j < k; j++) {\n            scanf(\"%d %d\", &r, &t);\n            if(a[r - 1][t - 1] == 1)\n                a[r - 1][t - 1]--;\n            else\n                a[r - 1][t - 1]++;\n        }\n        h += cheak(a, n);\n    }\n\n    printf(\"%d\\n\", h);\n\n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include<string.h>\n\n#define MAX_N 1000\n\nint e, n, d, r, c;\nchar p[MAX_N][MAX_N + 1];\n\nint main(void)\n{\n\tint cnt;\n\tint i, j;\n\n\tscanf( \"%d %d \", &e, &n );\n\t\n\tfor( i=0; i<n; i++ ) {\n\t\tgets( p[i] );\n\t}\n\t\n\tcnt = 0;\n\twhile( 1 ) {\n\t\t\n\t\tfor( i=0; i<n/2; i++ ) {\n\t\t\tfor( j=0; j<n/2; j++ ) {\n\t\t\t\t\tif ( !(p[j][i] == p[n-1-j][i] && p[n-1-j][i] == p[j][n-1-i] && p[j][n-1-i] == p[n-1-j][n-1-i]) ) break;\n\t\t\t}\n\t\t\t\n\t\t\tif ( j < n/2 ) break;\n\t\t}\n\t\t\n\t\tif ( i >= n/2 ) cnt++;\n\t\t\n\t\te--;\n\t\tif ( e <= 0 ) break;\n\t\t\n\t\tscanf( \"%d\", &d );\n\t\t\n\t\twhile( d-- ) {\n\t\t\tscanf( \"%d %d\", &r, &c );\n\t\t\tif ( p[r-1][c-1] == '1' ) p[r-1][c-1] = '0';\n\t\t\telse p[r-1][c-1] = '1';\n\t\t\t\n\t\t}\n\t\t\n\t}\n\t\n\tprintf( \"%d\\n\", cnt );\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\nint main(){\n  int c, n, cnt = 0, flag = 0, d, r ,tmp;\n  int i, j, k, pri[128][128];\n  char kind[128];\n\n  scanf(\"%d%d\", &c, &n);\n  \n  for(i=0; i<n; i++){\n    scanf(\"%s\", kind);\n    for(j=0; j<n; j++){\n      if(kind[j]=='0'){\n\tpri[i][j]=0;\n      }else{\n\tpri[i][j]=1;\n      }\n    }\n  }\n\n  /* for(i=0; i<n; i++){ */\n  /*   for(j=0; j<n; j++){ */\n  /*     printf(\"%d \", pri[i][j]); */\n  /*   } */\n  /*   printf(\"\\n\");     */\n  /* } */\n\n\n  \n  for(i = 0; i < n; i++){   /* テ・ツッツセテァツァツーテヲツ?ァ */\n    for(j = 0; j < n/2; j++){\n      if(pri[i][j] != pri[i][n - 1 - j]) flag = 1;\n      if(pri[j][i] != pri[n - 1 - j][i]) flag = 1;\n    }\n  }\n  \n  if(flag == 0) cnt++;\n\n  tmp=c-1;\n\n  for(k = 0; k < tmp; k++){  /* テ」ツδ?」ツつァテ」ツδウテ」ツつクテ、ツサツ・テゥツ卍催ゥツ鳴凝・ツァツ?*/ \n    scanf(\"%d\", &d);  \n    for(i = 0; i < d; i++){\n      scanf(\"%d%d\", &c, &r);\n      if(pri[c - 1][r - 1] == 0) pri[c - 1][r - 1] = 1;\n      else pri[c - 1][r - 1] = 0;\n    }\n\n    flag = 0;  /* テ・ツッツセテァツァツーテヲツ?ァ */\n    for(i = 0; i < n; i++){  \n      for(j = 0; j < n/2; j++){\n\tif(pri[i][j] != pri[i][n - 1 - j]) flag = 1;\n\tif(pri[j][i] != pri[n - 1 - j][i]) flag = 1;\n      }\n    }\n    \n  /*  for(i=0; i<n; i++){ */\n  /*   for(j=0; j<n; j++){ */\n  /*     printf(\"%d \", pri[i][j]); */\n  /*   } */\n  /*   printf(\"\\n\");     */\n  /* } */\n   \n    if(flag == 0) cnt++;\n\n  }\n\n  printf(\"%d\\n\", cnt);\n  \n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint cheak(int a[128][128], int n)\n{\n\n    int i, j;\n\n    for(i = 0; i < n; i++) {\n        for(j = 0; j < n; j++) {\n            if(a[i][j] != a[n - 1 - i][j])\n                return 0;\n            if(a[i][j] != a[i][n - 1 - j])\n                return 0;\n        }\n    }\n\n    return 1;\n}\n\nint main(void)\n{\n\n    int c, n, i, j, k, r, t, h = 0;\n    int a[128][128];\n\n    scanf(\"%d %d\", &c, &n);\n\n    for(i = 0; i < n; i++) {\n        for(j = 0; j < n; j++)\n            scanf(\"%d\", &a[i][j]);\n        printf(\"\\n\");\n    }\n\n    h += cheak(a, n);\n\n    for(i = 0; i < c - 1; i++) {\n        scanf(\"%d\", &k);\n        for(j = 0; j < k; j++) {\n            scanf(\"%d %d\", &r, &t);\n            if(a[r - 1][t - 1] == 1)\n                a[r - 1][t - 1]--;\n            else\n                a[r - 1][t - 1]++;\n        }\n        h += cheak(a, n);\n    }\n\n    printf(\"%d\\n\", h);\n\n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "/*\n\n????????? ???????????? ???????????????\n????´\\????????????????????£????£???????????£??????????????????????????§°????????¶????????§??¨????????????\n????????¨??§??\\??????????????????????´\\??????????????§???????????????????????°??¨??????????£?????????????\n????????????????¨????????????????????????????????????±???????????????????????????????§°????????£?????????\n??????????????§????¨????????????????????????????????????? N??N ?????????????????£?????¢???????????????\n??¨????????¨????????????????????????????????????????????????????????????????????????0 ????????? 1 ???\n????????¨??????\n\n?????????????????£?????????????????¨??´??°?????¨????????£?????????????§£????????????????????????????????§\n??¢?????´??°???????????¨????????£????????°??????????????§?????????????????????????????????????????\\??????\n??????????????\\??????????????§????????????????§£???????????????????????????????????????????????????\n\n\t??? ???????????????????????????????????????????????????????????±??????N??N ?????????????????????\n\t?????¨??????????????????????????????????????????\n\t??? ???????????\\?????????????????????????????±??????????????????????????????????????¨????????????\n\t?????????????????????????????????????????????0 ?????? 1???????????????1 ?????? 0????????¨??????\n\t?????????????????????????????????????????¨????????????????????????\n\n??????\nC ??????????????????????????????????????????????????????????????????????????±??¨?¶???? C-1 ?????????\n???????????±?????\\???????????????????§°????????????????§°??¨?????£????????????????????????????????°?????±\n?????????????????°????????????????????????\n\n??\\???\n??\\????????\\????????¢?????§??????????????????\n\nC N\np11p12???p1N\np21p22???p2N\n:\npN1pN2???pNN\ndiff1\ndiff2\n:\ndiffC-1\n\n????????????\n\t???????????????????????° C(1???C???10000)??¨\n\t??????????????¨?¨??????????????????° N(2???N???1000 ?????? N ?????¶??°)\n?????????????????????\n???????????????N+1?????????\n\t?????????????????????????????????????????????????????¨???N?????N????????°???pij(pij??? 0 ????????? 1)\n?????????????????????\nN+2 ????????\\?????????\n\t???????????\\?????????????????????????????±?????¨????????? diffi????¬??????¢?????§??????????????????\n\nD\nr1 c1\nr2 c2\n:\nrD cD\n\n?????????????????????????????????????????°D(0???D???100)??????????????????????¶????D???????????????\n???????????????????????¨?????????????????????????????¨???ri??¨ci(1???ri,ci???N)?????????????????????\ndiffi???????????????????????????????????\\????????????????????????\n\n????????¶???\n??\\?????????????????????????????????????§?????¶?????????????????????????\n\n??????\n??????????§°????????????????§°??¨?????£????????????????????????????????°???????????????????????????\n\n*/\n\n#include <stdio.h>\n\n#define NUM 1000\n\n\tint C,N;\n\tchar A[ NUM ][ NUM ];\n\tint t[ NUM ][ NUM ];\n\tint line[ NUM + 1 ];\n\tint total=0;\n\n/*\n * ??????????????§?¨????????????????????????????????¢??????????\n */\nint check(\n\tint x,\t\t\t\t// X??§?¨?\n\tint y)\t\t\t\t// Y??§?¨?\n{\n\tint ret;\n\n\tif ( ( A[ x ][ y ] == A[ N - 1 - x ][ y ] ) &&\t\t// ???????????¢????????????\n\t\t ( A[ x ][ y ] == A[ x ][ N - 1 - y ] ) ) {\t\t// ???????????¢????????????\n\t\t// ???????????¢??????????????¨???????????¢??????????????????????????±?????????\n\t\tret = 1;\t\t// ?????´????????????\n\t}\n\telse {\n\t\tret = 0;\t\t// ?????´???????????????\n\t}\n\n\treturn ;\n}\n \n/*\n * ??????????????§?¨??????´?????§?????´??°??????\n */\nvoid update(\n\tint x,\t\t\t\t// X??§?¨?\n\tint y)\t\t\t\t// Y??§?¨?\n{\n\ttotal -= t[ x ][ y ];\t\t\t// ?????§??????????????¶?????????????????? \n\tt[ x ][ y ] = check( x, y );\t// ?????§???????????´???\n\ttotal += t[ x ][ y ];\t\t\t// ?????§??????????????¶????????´??°??????\n}\n \n/*\n * ??????????????§?¨???????????????´??°??????(???????????????)\n */\nvoid change(\n\tint x,\t\t\t\t// X??§?¨?\n\tint y)\t\t\t\t// Y??§?¨?\n{\n\tif ( A[ x ][ y ] == '0' ) {\n\t\tA[ x ][ y ] = '1';\n\t}\n\telse {\n\t\tA[ x ][ y ] = '0';\n\t}\n\tupdate( x, y );\t\t\t// ??´??°????????????????????§??????\n\tupdate( N-1-x, y );\t\t// ??¢??£????????????????§°\n\tupdate( x, N-1-y );\t\t//         ??????????±?????????§??????\n}\n \n/*\n * ??´?????§?????¨???????????????????¢??????????\n */\nint solve( void )\n{\n\tint ret = 0;\n\n\tif ( total == N * N ) {\n\t\t// ?????§?????????????????????????????????????????°????????????????????????\n\t\tret = 1;\n\t}\n\n\treturn ret;\n}\n \n/*\n * ???????????¢??°\n */\nint main( void )\n{\n\tint i, j, k;\n\tint x, y;\n\tint ans;\n\n\t// ???????????????????????° C(1???C???10000)\n\tscanf( \"%d\", &C );\n\n\t// ??????????????¨?¨??????????????????° N(2???N???1000 ?????? N ?????¶??°)\n\tscanf( \"%d\", &N );\n\n\tfor( i = 0 ; i < N ; i++ ) {\n\t\tscanf( \"%s\", line );\n\t\tfor( j = 0 ; j < N ; j++ ) {\n\t\t\tA[ i ][ j ] = line[ j ];\n\t\t}\n\t}\n \n\tfor ( i = 0 ; i < N ; i++ ) {\n\t\tfor ( j = 0 ; j < N ; j++ ) {\n\t\t\tt[ i ][ j ] = check( i, j );\n\t\t\ttotal += t[ i ][ j ];\n\t\t}\n\t}\n \tans = solve( );\t\t\t// ??´?????§????????§??????\n\n\t// ???????????????????????????\n\tfor ( i = 0 ; i < C - 1 ; i++ ) {\n\t\tscanf( \"%d\", &k );\n\n\t\tfor( j = 0 ; j < k ; j++ ) {\n\t\t\tscanf( \"%d %d\", &x, &y );\n\t\t\tx--;\t// ?????????????´????????????????????????? --\n\t\t\ty--;\t// \n\t\t\tchange( x, y );\n\t\t}\n\n\t\tans += solve( );\t// ??´?????§????????§??????\n\t}\n\n\tprintf( \"%d\\n\", ans );\n\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "// AOJ 0320: Quality Management\n// 2017.11.14 bal4u@uu\n\n#include <stdio.h>\n\nint n, n1, n2;\n\nchar m[1002][1002];\nchar s[502][502];\n\nchar *p;\nint getint()\n{\n\tint n = 0;\n\twhile (*p >= '0') n = (n<<3) + (n<<1) + (*p++ & 0xf);\n\treturn n;\n}\n\nint sum(int r, int c)\n{\n\treturn s[r][c] = (m[r][c]+m[n1-r][c]+m[r][n1-c]+m[n1-r][n1-c]) & 3;\n}\n\nint main()\n{\n\tint t, d, r, c, f1, f2, diff, ans;\n\tchar buf[20];\n\n\tfgets(p=buf, 20, stdin), t = getint(), p++, n = getint();\n\tn1 = n-1, n2 = n >> 1;\n\tdiff = 0, ans = 0;\n\n\tfor (r = 0; r < n; r++) fgets(m[r], 1002, stdin);\n\tfor (r = 0; r < n2; r++) for (c = 0; c < n2; c++)\n\t\tif (sum(r, c)) diff++;\n\tif (!diff) ans++;\n\n\twhile (--t) {\n\t\tfgets(p=buf, 20, stdin), d = getint();\n\t\twhile (d--) {\n\t\t\tfgets(p=buf, 20, stdin);\n\t\t\tr = getint()-1, p++, c = getint()-1;\n\t\t\tm[r][c] = '1' - (m[r][c] & 0xf);\n\t\t\tif (r >= n2) r = n1-r;\n\t\t\tif (c >= n2) c = n1-c;\n\t\t\tf1 = s[r][c], f2 = sum(r, c);\n\t\t\tif      ( f1 && !f2) diff--;\n\t\t\telse if (!f1 &&  f2) diff++;\n\t\t}\n\t\tif (!diff) ans++;\n\t}\n\tprintf(\"%d\\n\", ans);\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint check(char a[1000][1000], int n)\n{\n\n    int i, j;\n\n    for(i = 0; i < n; i++) {\n        for(j = 0; j < n; j++) {\n            if(a[i][j] != a[n - 1 - i][j])\n                return 0;\n            if(a[i][j] != a[i][n - 1 - j])\n                return 0;\n        }\n    }\n\n    return 1;\n}\n\nint main(void)\n{\n\n    int c, n, i, j, k, r, t, h = 0;\n    char a[1000][1000];\n\n    scanf(\"%d %d\", &c, &n);\n\n    for(i = 0; i < n; i++) {\n        for(j = 0; j < n; j++)\n            scanf(\"%d\", &a[i][j]);\n        if(i != n - 1)\n            printf(\"\\n\");\n    }\n\n    h += check(a, n);\n\n    for(i = 0; i < c - 1; i++) {\n        scanf(\"%d\", &k);\n        for(j = 0; j < k; j++) {\n            scanf(\"%d %d\", &r, &t);\n            if(a[r - 1][t - 1] == 1)\n                a[r - 1][t - 1]--;\n            else\n                a[r - 1][t - 1]++;\n        }\n        h += check(a, n);\n    }\n\n    printf(\"%d\\n\", h);\n\n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(void)\n{\n\tint c,n,p[1000][1000],i,j,d,x,y,z,k=0,m=0,g=0;\n\tscanf(\"%d%d\",&c,&n);\n\tfor(i=0;i<n;i++){\n\t\tfor(j=0;j<n;j++){\n\t\t\tscanf(\"%d\",&p[i][j]);\n\t\t}\n\t}\n\tfor(z=1;z<c;z++){\n\t\tscanf(\"%d\",&d);\n\t\tfor(i=0;i<d;i++){\n\t\t\tscanf(\"%d%d\",&x,&y);\n\t\t\tif(p[y][x]==1){\n\t\t\t\tp[y][x]=0;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tp[y][x]=1;\n\t\t\t}\n\t\t}\n\t\tfor(i=0;i<n/2;i++){\n\t\t\tk=0;\n\t\t\tfor(j=0;j<n;j++){\n\t\t\t\tif(p[i][j]==p[n-i][j]){\n\t\t\t\t\tk++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(k==n){\n\t\t\t\tm=m+2;\n\t\t\t}\n\t\t}\n\t\tfor(i=0;i<n/2;i++){\n\t\t\tk=0;\n\t\t\tfor(j=0;j<n;j++){\n\t\t\t\tif(p[j][i]==p[j][n-i]){\n\t\t\t\t\tk++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(k==n){\n\t\t\t\tm=m+2;\n\t\t\t}\n\t\t}\n\t\tif(m==n*2){\n\t\t\tg++;\n\t\t}\n\t}\n\tprintf(\"%d\\n\",g);\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include<stdlib.h>\n#include<string.h>\n#include<math.h>\n#define FOR(n) for(int i=0;i<n;i++)\n#define FORJ(n) for(int j=0;j<n;j++)\n#define PRN(n) printf(\"%d\\n\",n)\n#define PRF(n) printf(\"%lf\\n\",n)\n#define PRL(n) printf(\"%lld\\n\",n)\n#define PRS(s) printf(\"%s\\n\",s)\n#define PRC(c) printf(\"%c\",c)\n#define mod 1000000007\ntypedef long long int ll;\nll dp[100001];\nint u(const void *a, const void *b){\n    return *(ll*)a-*(ll*)b;\n}\nint d(const void *a, const void *b){\n    return *(ll*)b-*(ll*)a;\n}\nint min(int a,int b){\n  if(a>b)return b;\n  return a;\n}\nint max(int a,int b){\n  if(a>b)return a;\n  return b;\n}\nint gcd(int a,int b){\n  if(!b)return a;\n  return gcd(b,a%b);\n}\nint main(void) {\n  int c,n,ans=0,cnt=0;\n  scanf(\"%d %d\",&c,&n);\n  char b[n+1];\n  int a[n][n],ch[n/2][n/2];\n  FOR(n){\n    scanf(\"%s\",b);\n    FORJ(n)a[i][j]=b[j]-'0';\n  }\n  FOR(n/2)FORJ(n/2)cnt+=ch[i][j]=1-(a[i][j]==a[n-1-i][j]&&a[n-1-i][j]==a[i][n-1-j]&&a[i][n-1-j]==a[n-1-i][n-1-j]);\n  FOR(c){\n    if(i){\n      int f,h,w;\n      scanf(\"%d\",&f);\n      FORJ(f){\n        scanf(\"%d %d\",&h,&w);\n        h--,w--;\n        a[h][w]=(a[h][w]+1)%2;\n        h=min(h,n-1-h);\n        w=min(w,n-1-w);\n        if(!ch[h][w]){\n          cnt++;\n          ch[h][w]++;\n        }else{\n          ch[h][w]=1-(a[h][w]==a[n-1-h][w]&&a[n-1-h][w]==a[h][n-1-w]&&a[h][n-1-w]==a[n-1-h][n-1-w]);\n          if(!ch[h][w])cnt--;\n        }\n      }\n    }\n    if(cnt<1)ans++;\n  }\n  PRN(ans);\n  return 0;\n}\n"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\n\n#define N_MAX 10000\n\n\ninline int SameOrDiff_H( char* ,int* ) ;\ninline int SameOrDiff_V( char(*)[ N_MAX ] ,int* ,int* ) ;\n\nchar pixel[ N_MAX ][ N_MAX ] ;\n\nint main( void )\n{\n\tint C ,N ;\n\tscanf( \"%d %d\" ,&C ,&N ) ;\n\n\tint cnt ;\n\n\tint i ,j ;\n\tfor( i = cnt = 0 ; i < N ; ++i )\n\t{\n\t\tscanf( \"%s\" ,pixel[ i ] ) ;\n\n\t\tif( cnt == 0 && SameOrDiff_H( pixel[ i ] ,&N ) == 1 )\n\t\t{\n\t\t\t++cnt ;\n\t\t}\n\t}\n\n\tfor( i = 0 ; cnt == 0 && i < N ; ++i )\n\t{\n\t\tif( SameOrDiff_V( pixel ,&i ,&N ) == 1 )\n\t\t{\n\t\t\t++cnt ;\n\t\t}\n\t}\n\n\tint n ;\n\tint Y[ 100 ] ,X[ 100 ] ;\n\tint y ,x ;\n\tfor( i = 1 ; i < C ; ++i )\n\t{\n\t\tint same = cnt ;\n\t\tint Yp = 0 ;\n\t\tint Xp = 0 ;\n\t\tint sameY[ N_MAX + 1 ] = { 0 } ;\n\t\tint sameX[ N_MAX + 1 ] = { 0 } ;\n\n\t\tscanf( \"%d\" ,&n ) ;\n\t\tfor( j = 0 ; j < n ; ++j )\n\t\t{\n\t\t\tscanf( \"%d %d\" ,&y ,&x ) ;\n\t\t\t/*if( sameY[ y ] == 0 )\n\t\t\t{\n\t\t\t\tY[ Yp++ ] = y - 1 ;\n\n\t\t\t\tsameY[ y ] = 1 ;\n\t\t\t}\n\t\t\tif( sameX[ x ] == 0 )\n\t\t\t{\n\t\t\t\tX[ Xp++ ] = x - 1 ;\n\n\t\t\t\tsameX[ x ] = 1 ;\n\t\t\t}*/\n\n\t\t\tpixel[ y - 1 ][ x - 1 ] = pixel[ y - 1 ][ x - 1 ] == '1' ? '0' : '1' ;\n\t\t}\n\n\t\tfor( j = 0 ; cnt == same && j < N ; ++j )\n\t\t{\n\t\t\tif( (SameOrDiff_H( pixel[ j ] ,&N ) | SameOrDiff_V( pixel ,&j ,&N )) == 1 )\n\t\t\t{\n\t\t\t\t++cnt ;\n\t\t\t}\n\t\t}\n\n\t\t/*for( j = 0 ; j < Yp && cnt == same ; ++j )\n\t\t{\n\t\t\tif( SameOrDiff_H( pixel[ Y[ j ] ] ,&N ) == 1 )\n\t\t\t{\n\t\t\t\t++cnt ;\n\t\t\t}\n\t\t}\n\n\t\tfor( j = 0 ; j < Xp && cnt == same ; ++j )\n\t\t{\n\t\t\tif( SameOrDiff_V( pixel ,&X[ j ] ,&N ) == 1 )\n\t\t\t{\n\t\t\t\t++cnt ;\n\t\t\t}\n\t\t}*/\n\t}\n\n\tprintf( \"%d\\n\" ,C - cnt ) ;\n\n\treturn 0 ;\n}\n\ninline int SameOrDiff_H( char *Pixel ,int *Length )\t// horizontal\n{\n\tint Left = 0 ;\n\tint Right = *Length - 1 ;\n\n\twhile( Left < Right )\n\t{\n\t\tif( Pixel[ Left++ ] != Pixel[ Right-- ] )\n\t\t{\n\t\t\treturn 1 ;\n\t\t}\n\t}\n\n\treturn 0 ;\n}\n\ninline int SameOrDiff_V( char ( *Pixel )[ N_MAX ] ,int *X ,int *Length )\t// vertical\n{\n\tint Left = 0 ;\n\tint Right = *Length - 1 ;\n\n\twhile( Left < Right )\n\t{\n\t\tif( Pixel[ Left++ ][ *X ] != Pixel[ Right-- ][ *X ] )\n\t\t{\n\t\t\treturn 1 ;\n\t\t}\n\t}\n\n\treturn 0 ;\n}\n"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\n\n#define N_MAX 10000\n\n\nchar pixel[ N_MAX ][ N_MAX ] ;\n\nint main( void )\n{\n\tint SameOrDiff_H( char* ,int* ) ;\n\tint SameOrDiff_V( char(*)[ N_MAX ] ,int* ,int* ) ;\n\n\tint C ,N ;\n\tscanf( \"%d %d\" ,&C ,&N ) ;\n\n\tint cnt ;\n\n\tint i ,j ;\n\tfor( i = cnt = 0 ; i < N ; ++i )\n\t{\n\t\tscanf( \"%s\" ,pixel[ i ] ) ;\n\n\t\tif( cnt == 0 && SameOrDiff_H( pixel[ i ] ,&N ) == 1 )\n\t\t{\n\t\t\t++cnt ;\n\t\t}\n\t}\n\n\tfor( i = 0 ; cnt == 0 && i < N ; ++i )\n\t{\n\t\tif( SameOrDiff_V( pixel ,&i ,&N ) == 1 )\n\t\t{\n\t\t\t++cnt ;\n\t\t}\n\t}\n\n\tint n ;\n\tint Y[ 100 ] ,X[ 100 ] ;\n\tint y ,x ;\n\tfor( i = 1 ; i < C ; ++i )\n\t{\n\t\tint same = cnt ;\n\t\tint Yp = 0 ;\n\t\tint Xp = 0 ;\n\t\tint sameY[ N_MAX + 1 ] = { 0 } ;\n\t\tint sameX[ N_MAX + 1 ] = { 0 } ;\n\n\t\tscanf( \"%d\" ,&n ) ;\n\t\tfor( j = 0 ; j < n ; ++j )\n\t\t{\n\t\t\tscanf( \"%d %d\" ,&y ,&x ) ;\n\t\t\tif( sameY[ y ] == 0 )\n\t\t\t{\n\t\t\t\tY[ Yp++ ] = y - 1 ;\n\n\t\t\t\tsameY[ y ] = 1 ;\n\t\t\t}\n\t\t\tif( sameX[ x ] == 0 )\n\t\t\t{\n\t\t\t\tX[ Xp++ ] = x - 1 ;\n\n\t\t\t\tsameX[ x ] = 1 ;\n\t\t\t}\n\n\t\t\tpixel[ y - 1 ][ x - 1 ] = pixel[ y - 1 ][ x - 1 ] == '1' ? '0' : '1' ;\n\t\t}\n\n\t\tfor( j = 0 ; j < Yp && cnt == same ; ++j )\n\t\t{\n\t\t\tif( SameOrDiff_H( pixel[ Y[ j ] ] ,&N ) == 1 )\n\t\t\t{\n\t\t\t\t++cnt ;\n\t\t\t}\n\t\t}\n\n\t\tfor( j = 0 ; j < Xp && cnt == same ; ++j )\n\t\t{\n\t\t\tif( SameOrDiff_V( pixel ,&X[ j ] ,&N ) == 1 )\n\t\t\t{\n\t\t\t\t++cnt ;\n\t\t\t}\n\t\t}\n\t}\n\n\tprintf( \"%d\\n\" ,C - cnt ) ;\n\n\treturn 0 ;\n}\n"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\n\n\nint ans ;\n\n\nint left_up ,right_up ;\n\nint left_dw ,right_dw ;\n\n\n\nint map[ 1000 + 1 ][ 1000 + 1 ] ;\n\n\n\nint main()\n{\n\tint order ,pixel ;\n\n\tint n ;\n\tint y ,x ;\n\n\n\tscanf( \"%d %d\" ,&order ,&pixel ) ;\n\n\n\tint mid = pixel / 2 ;\n\n\n\tint i ,j ;\n\tfor( i = 1 ; i <= pixel ; ++i )\n\t{\n\t\tfor( j = 1 ; j <= pixel ; ++j )\n\t\t{\n\t\t\tscanf( \"%1d\" ,&map[ i ][ j ] ) ;\n\n\n\t\t\tif( map[ i ][ j ] == 1 )\n\t\t\t{\n\t\t\t\tif( i <= mid )\n\t\t\t\t{\n\t\t\t\t\tif( j <= mid )\n\t\t\t\t\t{\n\t\t\t\t\t\tleft_up += i * j ;\n\t\t\t\t\t}\n\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tright_up += i * ( pixel % j + 1 ) ;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif( j <= mid )\n\t\t\t\t\t{\n\t\t\t\t\t\tleft_dw += ( pixel % i + 1 ) * j ;\n\t\t\t\t\t}\n\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tright_dw += ( pixel % i + 1 ) * ( pixel % j + 1 ) ;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\n\tif( left_up == left_dw && left_up == right_up && left_dw == right_dw )\n\t{\n\t\t++ans ;\n\t}\n\n\n\twhile( --order )\n\t{\n\t\tscanf( \"%d\" ,&n ) ;\n\n\t\tfor( i = 0 ; i < n ; ++i )\n\t\t{\n\t\t\tscanf( \"%d %d\" ,&y ,&x ) ;\n\n\n\t\t\tmap[ y ][ x ] = !map[ y ][ x ] ;\n\n\n\t\t\tif( map[ y ][ x ] == 1 )\n\t\t\t{\n\t\t\t\tif( y <= mid )\n\t\t\t\t{\n\t\t\t\t\tif( x <= mid )\n\t\t\t\t\t{\n\t\t\t\t\t\tleft_up += y * x ;\n\t\t\t\t\t}\n\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tright_up += y * ( pixel % x + 1 ) ;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif( x <= mid )\n\t\t\t\t\t{\n\t\t\t\t\t\tleft_dw += ( pixel % y + 1 ) * x ;\n\t\t\t\t\t}\n\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tright_dw += ( pixel % y + 1 ) * ( pixel % x + 1 ) ;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\n\n\t\t\telse\n\t\t\t{\n\t\t\t\tif( y <= mid )\n\t\t\t\t{\n\t\t\t\t\tif( x <= mid )\n\t\t\t\t\t{\n\t\t\t\t\t\tleft_up -= y * x ;\n\t\t\t\t\t}\n\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tright_up -= y * ( pixel % x + 1 ) ;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif( x <= mid )\n\t\t\t\t\t{\n\t\t\t\t\t\tleft_dw -= ( pixel % y + 1 ) * x ;\n\t\t\t\t\t}\n\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tright_dw -= ( pixel % y + 1 ) * ( pixel % x + 1 ) ;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif( left_up == left_dw && left_up == right_up && left_dw == right_dw )\n\t\t{\n\t\t\t++ans ;\n\t\t}\n\t}\n\n\n\tprintf( \"%d\\n\" ,ans ) ;\n\n\n\n\treturn 0 ;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(void){\n\tint c,n,d,r,C,i,j,x=0,y=0,z;\n\tchar p[1000][1000];\n\tscanf(\"%d%d\",&C,&n);\n\tfor(i=0;i<n;i++){\n\t\tscanf(\"%s\",&p[i]);\n\t}\n\tfor(z=0;z<C;z++){\n\t\tx=0;\n\t\tfor(i=0;i<n;i++){\n\t\t\tfor(j=0;j<n/2;j++){\n\t\t\t\tif(p[i][j]==p[i][n-1-j]){\n\t\t\t\t\tx++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor(j=0;j<n;j++){\n\t\t\tfor(i=0;i<n/2;i++){\n\t\t\t\tif(p[i][j]==p[n-1-i][j]){\n\t\t\t\tx++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\tif(x==n*n){\n\t\ty++;\n\t\t}\n\t\tif(z!=C-1){\n\t\tscanf(\"%d\",&d);\n\t\tfor(i=0;i<d;i++){\n\t\t\tscanf(\"%d%d\",&r,&c);\n\t\t\tif(p[r-1][c-1]=='0'){\n\t\t\t\tp[r-1][c-1]='1';\n\t\t\t}\n\t\t\telse{\n\t\t\t\tp[r-1][c-1]='0';\n\t\t\t}\n\t\t}\n\t\t}\n\t}\n\tprintf(\"%d\\n\",y);\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(void)\n{\n\tint c,n,p[100][100],i,j,d,x,y,z,k,m=0,g=0;\n\tscanf(\"%d%d\",&c,&n);\n\tfor(i=0;i<n;i++){\n\t\tfor(j=0;j<n;j++){\n\t\t\tscanf(\"%d\",&p[i][j]);\n\t\t}\n\t}\n\tfor(z=1;z<c;z++){\n\t\tscanf(\"%d\",&d);\n\t\tfor(i=0;i<d;i++){\n\t\t\tscanf(\"%d%d\",&x,&y);\n\t\t\tif(p[x][y]==1){\n\t\t\t\tp[x][y]=0;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tp[x][y]=1;\n\t\t\t}\n\t\t}\n\t\tfor(i=0;i<n/2;i++){\n\t\t\tk=0;\n\t\t\tfor(j=0;j<n;j++){\n\t\t\t\tif(p[i][j]==p[n-i][j]){\n\t\t\t\t\tk++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(k==n){\n\t\t\t\tm=m+2;\n\t\t\t}\n\t\t}\n\t\tfor(i=0;i<n/2;i++){\n\t\t\tk=0;\n\t\t\tfor(j=0;j<n;j++){\n\t\t\t\tif(p[j][i]==p[j][n-i]){\n\t\t\t\t\tk++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(k==n){\n\t\t\t\tm=m+2;\n\t\t\t}\n\t\t}\n\t\tif(m==n*2){\n\t\t\tg++;\n\t\t}\n\t}\n\tprintf(\"%d\\n\",g);\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(void){\n\tint c,n,d,r,C,i,j,x=0,y=0,z;\n\tchar p[1000][1000];\n\tscanf(\"%d%d\",&C,&n);\n\tfor(i=0;i<n;i++){\n\t\tscanf(\"%s\",&p[i]);\n\t}\n\tfor(z=0;z<C;z++){\n\t\tx=0;\n\t\tfor(i=0;i<n;i++){\n\t\t\tfor(j=0;j<n/2;j++){\n\t\t\t\tif(p[i][j]==p[i][n-1-j]){\n\t\t\t\t\tx++;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor(j=0;j<n;j++){\n\t\t\tfor(i=0;i<n/2;i++){\n\t\t\t\tif(p[i][j]==p[n-1-i][j]){\n\t\t\t\tx++;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\tif(x==n*n){\n\t\ty++;\n\t\t}\n\t\tif(z!=C-1){\n\t\tscanf(\"%d\",&d);\n\t\tfor(i=0;i<d;i++){\n\t\t\tscanf(\"%d%d\",&r,&c);\n\t\t\tif(p[r-1][c-1]=='0'){\n\t\t\t\tp[r-1][c-1]='1';\n\t\t\t}\n\t\t\telse{\n\t\t\t\tp[r-1][c-1]='0';\n\t\t\t}\n\t\t}\n\t\t}\n\t}\n\tprintf(\"%d\\n\",y);\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "/*\n\n????????? ???????????? ???????????????\n????´\\????????????????????£????£???????????£??????????????????????????§°????????¶????????§??¨????????????\n????????¨??§??\\??????????????????????´\\??????????????§???????????????????????°??¨??????????£?????????????\n????????????????¨????????????????????????????????????±???????????????????????????????§°????????£?????????\n??????????????§????¨????????????????????????????????????? N??N ?????????????????£?????¢???????????????\n??¨????????¨????????????????????????????????????????????????????????????????????????0 ????????? 1 ???\n????????¨??????\n\n?????????????????£?????????????????¨??´??°?????¨????????£?????????????§£????????????????????????????????§\n??¢?????´??°???????????¨????????£????????°??????????????§?????????????????????????????????????????\\??????\n??????????????\\??????????????§????????????????§£???????????????????????????????????????????????????\n\n\t??? ???????????????????????????????????????????????????????????±??????N??N ?????????????????????\n\t?????¨??????????????????????????????????????????\n\t??? ???????????\\?????????????????????????????±??????????????????????????????????????¨????????????\n\t?????????????????????????????????????????????0 ?????? 1???????????????1 ?????? 0????????¨??????\n\t?????????????????????????????????????????¨????????????????????????\n\n??????\nC ??????????????????????????????????????????????????????????????????????????±??¨?¶???? C-1 ?????????\n???????????±?????\\???????????????????§°????????????????§°??¨?????£????????????????????????????????°?????±\n?????????????????°????????????????????????\n\n??\\???\n??\\????????\\????????¢?????§??????????????????\n\nC N\np11p12???p1N\np21p22???p2N\n:\npN1pN2???pNN\ndiff1\ndiff2\n:\ndiffC-1\n\n????????????\n\t???????????????????????° C(1???C???10000)??¨\n\t??????????????¨?¨??????????????????° N(2???N???1000 ?????? N ?????¶??°)\n?????????????????????\n???????????????N+1?????????\n\t?????????????????????????????????????????????????????¨???N?????N????????°???pij(pij??? 0 ????????? 1)\n?????????????????????\nN+2 ????????\\?????????\n\t???????????\\?????????????????????????????±?????¨????????? diffi????¬??????¢?????§??????????????????\n\nD\nr1 c1\nr2 c2\n:\nrD cD\n\n?????????????????????????????????????????°D(0???D???100)??????????????????????¶????D???????????????\n???????????????????????¨?????????????????????????????¨???ri??¨ci(1???ri,ci???N)?????????????????????\ndiffi???????????????????????????????????\\????????????????????????\n\n????????¶???\n??\\?????????????????????????????????????§?????¶?????????????????????????\n\n??????\n??????????§°????????????????§°??¨?????£????????????????????????????????°???????????????????????????\n\n*/\n\n#include <stdio.h>\n\n#define NUM 1000\n\n\tint C, N;\n\tchar A[ NUM ][ NUM ];\n\tchar t[ NUM ][ NUM ];\n\tchar line[ NUM + 1 ];\n\tint total;\n\n/*\n * ??????????????§?¨????????????????????????????????¢??????????\n */\nint check(\n\tint x,\t\t\t\t// X??§?¨?\n\tint y)\t\t\t\t// Y??§?¨?\n{\n\tint ret;\n\n\tif ( ( A[ x ][ y ] == A[ N - 1 - x ][ y ] ) &&\t\t// ???????????¢????????????\n\t\t ( A[ x ][ y ] == A[ x ][ N - 1 - y ] ) ) {\t\t// ???????????¢????????????\n\t\t// ???????????¢??????????????¨???????????¢??????????????????????????±?????????\n\t\tret = 1;\t\t// ?????´????????????\n\t}\n\telse {\n\t\tret = 0;\t\t// ?????´???????????????\n\t}\n\n//\tprintf( \"(%d,%d) %c %c %c : %d\\n\", x, y, A[ x ][ y ], A[ N - 1 - x ][ y ], A[ x ][ N - 1 - y ], ret );\n\n\treturn ret;\n}\n \n/*\n * ??????????????§?¨??????´?????§?????´??°??????\n */\nvoid update(\n\tint x,\t\t\t\t// X??§?¨?\n\tint y)\t\t\t\t// Y??§?¨?\n{\n\ttotal -= t[ x ][ y ];\t\t\t// ?????§??????????????¶?????????????????? \n\tt[ x ][ y ] = check( x, y );\t// ?????§???????????´???\n\ttotal += t[ x ][ y ];\t\t\t// ?????§??????????????¶????????´??°??????\n}\n \n/*\n * ??????????????§?¨???????????????´??°??????(???????????????)\n */\nvoid change(\n\tint x,\t\t\t\t// X??§?¨?\n\tint y)\t\t\t\t// Y??§?¨?\n{\n\tif ( A[ x ][ y ] == '0' ) {\n\t\tA[ x ][ y ] = '1';\n\t}\n\telse {\n\t\tA[ x ][ y ] = '0';\n\t}\n\tupdate( x, y );\t\t\t// ??´??°????????????????????§??????\n\tupdate( N-1-x, y );\t\t// ??¢??£????????????????§°\n\tupdate( x, N-1-y );\t\t//         ??????????±?????????§??????\n}\n \n/*\n * ??´?????§?????¨???????????????????¢??????????\n */\nint solve( void )\n{\n\tint ret = 0;\n\n\tif ( total == N * N ) {\n\t\t// ?????§?????????????????????????????????????????°????????????????????????\n\t\tret = 1;\n\t}\n\n\treturn ret;\n}\n\nvoid debug( )\n{\n\tint i, j;\n\n\tfor ( i = 0 ; i < N ; i++ ) {\n\t\tfor ( j = 0 ; j < N ; j++ ) {\n\t\t\tprintf( \"%c\", A[ i ][ j ] );\n\t\t}\n\t\tprintf( \"  \" );\n\t\tfor ( j = 0 ; j < N ; j++ ) {\n\t\t\tprintf( \"%d\", t[ i ][ j ] );\n\t\t}\n\t\tprintf( \"\\n\" );\n\t}\n\tprintf( \"Total:%d\\n\", total );\n}\n \n/*\n * ???????????¢??°\n */\nint main( void )\n{\n\tint i, j, k;\n\tint x, y;\n\tint ans;\n\n\ttotal = 0;\n\n\t// ???????????????????????° C(1???C???10000)\n\tscanf( \"%d\", &C );\n\n\t// ??????????????¨?¨??????????????????° N(2???N???1000 ?????? N ?????¶??°)\n\tscanf( \"%d\", &N );\n\n\tfor( i = 0 ; i < N ; i++ ) {\n\t\tscanf( \"%s\", line );\n\t\tfor( j = 0 ; j < N ; j++ ) {\n\t\t\tA[ i ][ j ] = line[ j ];\n\t\t}\n\t}\n \n\tfor ( i = 0 ; i < N ; i++ ) {\n\t\tfor ( j = 0 ; j < N ; j++ ) {\n\t\t\tt[ i ][ j ] = check( i, j );\n\t\t\ttotal += t[ i ][ j ];\n\t\t}\n\t}\n \tans = solve( );\t\t\t// ??´?????§????????§??????\n\n//\tdebug( );\n\n\t// ???????????????????????????\n\tfor ( i = 0 ; i < C - 1 ; i++ ) {\n\t\tscanf( \"%d\", &k );\n\n\t\tfor( j = 0 ; j < k ; j++ ) {\n\t\t\tscanf( \"%d %d\", &x, &y );\n\t\t\tx--;\t// ?????????????´????????????????????????? --\n\t\t\ty--;\t// \n\t\t\tchange( x, y );\n\t\t}\n\n\t\tans += solve( );\t// ??´?????§????????§??????\n\t}\n\n\tprintf( \"%d\\n\", ans );\n\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(void)\n{\n\tint C,n,d,r,c,flg[500][500],cnt,i,j,acnt,flg1;\n\tchar p[1000][1001];\n\tscanf(\"%d %d\",&C,&n);\n\tfor(i=0;i<n;i++){\n\t\tscanf(\"%s\",p[i]);\n\t}\n\tflg1=0;\n\tcnt=0;\n\tacnt=0;\n\tfor(i=0;i<n/2;i++){\n\t\tfor(j=0;j<n/2;j++){\n\t\t\tflg[i][j]=0;\n\t\t\tif(p[i][j]!=p[i][n-j-1]){\n\t\t\t\tflg[i][j]=1;\n\t\t\t\tcnt++;\n\t\t\t}\n\t\t\tif(flg[i][j]==0&&p[i][j]!=p[n-i-1][j]){\n\t\t\t\tflg[i][j]=1;\n\t\t\t\tcnt++;\n\t\t\t}\n\t\t\tif(flg[i][j]==0&&p[i][j]!=p[n-i-1][n-j-1]){\n\t\t\t\tflg[i][j]=1;\n\t\t\t\tcnt++;\n\t\t\t}\n\t\t}\n\t}\n\tif(cnt==0){\n\t\tacnt++;\n\t}\n\tfor(i=2;i<=C;i++){\n\t\tscanf(\"%d\",&d);\n\t\tfor(j=0;j<d;j++){\n\t\t\tscanf(\"%d %d\",&r,&c);\n\t\t\tr=r-1;\n\t\t\tc=c-1;\n\t\t\tif(p[r][c]=='0'){\n\t\t\t\tp[r][c]='1';\n\t\t\t}\n\t\t\telse{\n\t\t\t\tp[r][c]='0';\n\t\t\t}\n\t\t\tif(r>=n/2){\n\t\t\t\tr=n-r-1;\n\t\t\t}\n\t\t\tif(c>=n/2){\n\t\t\t\tc=n-c-1;\n\t\t\t}\n\t\t\tflg1=0;\n\t\t\tif(p[r][c]!=p[r][n-c-1]){\n\t\t\t\tflg1=1;\n\t\t\t}\n\t\t\tif(p[r][c]!=p[n-r-1][c]){\n\t\t\t\tflg1=1;\n\t\t\t}\n\t\t\tif(p[r][c]!=p[n-r-1][n-c-1]){\n\t\t\t    flg1=1;\n\t\t\t}\n\t\t\tif(flg1==0&&flg[r][c]==1){\n\t\t\t\tcnt=cnt-1;\n\t\t\t\tflg[r][c]=0;\n\t\t\t}\n\t\t\tif(flg1==1&&flg[r][c]==0){\n\t\t\t\tcnt++;\n\t\t\t\tflg[r][c]=1;\n\t\t\t}\n\t\t}\t\n\t\tif(cnt<1){\n\t\t\tacnt++;\n\t\t}\n\t}\n\tprintf(\"%d\\n\",acnt);\n\treturn 0;\n}\n"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\n\n#define N_MAX 10000\n\n\nint SameOrDiff_H( char* ,int* ) ;\nint SameOrDiff_V( char(*)[ N_MAX ] ,int* ,int* ) ;\n\nchar pixel[ N_MAX ][ N_MAX ] ;\n\nint main( void )\n{\n\tint C ,N ;\n\tscanf( \"%d %d\" ,&C ,&N ) ;\n\n\tint cnt ;\n\n\tint i ,j ;\n\tfor( i = cnt = 0 ; i < N ; ++i )\n\t{\n\t\tscanf( \"%s\" ,pixel[ i ] ) ;\n\n\t\tif( cnt == 0 && SameOrDiff_H( pixel[ i ] ,&N ) == 1 )\n\t\t{\n\t\t\t++cnt ;\n\t\t}\n\t}\n\n\tfor( i = 0 ; cnt == 0 && i < N ; ++i )\n\t{\n\t\tif( SameOrDiff_V( pixel ,&i ,&N ) == 1 )\n\t\t{\n\t\t\t++cnt ;\n\t\t}\n\t}\n\n\tint n ;\n\tint Y[ 100 ] ,X[ 100 ] ;\n\tint y ,x ;\n\tfor( i = 1 ; i < C ; ++i )\n\t{\n\t\tint same = cnt ;\n\t\tint Yp = 0 ;\n\t\tint Xp = 0 ;\n\t\tint sameY[ N_MAX + 1 ] = { 0 } ;\n\t\tint sameX[ N_MAX + 1 ] = { 0 } ;\n\n\t\tscanf( \"%d\" ,&n ) ;\n\t\tfor( j = 0 ; j < n ; ++j )\n\t\t{\n\t\t\tscanf( \"%d %d\" ,&y ,&x ) ;\n\t\t\tif( sameY[ y ] == 0 )\n\t\t\t{\n\t\t\t\tY[ Yp++ ] = y - 1 ;\n\n\t\t\t\tsameY[ y ] = 1 ;\n\t\t\t}\n\t\t\tif( sameX[ x ] == 0 )\n\t\t\t{\n\t\t\t\tX[ Xp++ ] = x - 1 ;\n\n\t\t\t\tsameX[ x ] = 1 ;\n\t\t\t}\n\n\t\t\tpixel[ y - 1 ][ x - 1 ] = pixel[ y - 1 ][ x - 1 ] == '1' ? '0' : '1' ;\n\t\t}\n\n\t\tfor( j = 0 ; j < Yp && cnt == same ; ++j )\n\t\t{\n\t\t\tif( SameOrDiff_H( pixel[ Y[ j ] ] ,&N ) == 1 )\n\t\t\t{\n\t\t\t\t++cnt ;\n\t\t\t}\n\t\t}\n\n\t\tfor( j = 0 ; j < Xp && cnt == same ; ++j )\n\t\t{\n\t\t\tif( SameOrDiff_V( pixel ,&X[ j ] ,&N ) == 1 )\n\t\t\t{\n\t\t\t\t++cnt ;\n\t\t\t}\n\t\t}\n\t}\n\n\tprintf( \"%d\\n\" ,C - cnt ) ;\n\n\treturn 0 ;\n}\n\nint SameOrDiff_H( char *Pixel ,int *Length )\t// horizontal\n{\n\tint Left = 0 ;\n\tint Right = *Length - 1 ;\n\n\twhile( Left < Right )\n\t{\n\t\tif( Pixel[ Left++ ] != Pixel[ Right-- ] )\n\t\t{\n\t\t\treturn 1 ;\n\t\t}\n\t}\n\n\treturn 0 ;\n}\n\nint SameOrDiff_V( char ( *Pixel )[ N_MAX ] ,int *X ,int *Length )\t// vertical\n{\n\tint Left = 0 ;\n\tint Right = *Length - 1 ;\n\n\twhile( Left < Right )\n\t{\n\t\tif( Pixel[ Left++ ][ *X ] != Pixel[ Right-- ][ *X ] )\n\t\t{\n\t\t\treturn 1 ;\n\t\t}\n\t}\n\n\treturn 0 ;\n}\n"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\nint main(){\n  int c, n, cnt = 0, flag = 0, d, r ,tmp;\n  int i, j, k, pri[128][128];\n  char kind[128];\n\n  scanf(\"%d%d\", &c, &n);\n  \n  for(i=0; i<n; i++){\n    scanf(\"%s\", kind);\n    for(j=0; j<n; j++){\n      if(kind[j]=='0'){\n\tpri[i][j]=0;\n      }else{\n\tpri[i][j]=1;\n      }\n    }\n  }\n\n  /* for(i=0; i<n; i++){ */\n  /*   for(j=0; j<n; j++){ */\n  /*     printf(\"%d \", pri[i][j]); */\n  /*   } */\n  /*   printf(\"\\n\"); */\n  /* } */\n\n\n  \n  for(i = 0; i < n; i++){   /* テ・ツッツセテァツァツーテヲツ?ァ */\n    for(j = 0; j < n/2; j++){\n      if(pri[i][j] != pri[i][n - 1 - j]) flag = 1; break;\n      if(pri[j][i] != pri[n - 1 - j][i]) flag = 1; break;\n    }\n  }\n  \n  if(flag == 0) cnt++;\n\n\n  if(c == 1){\n    printf(\"%d\\n\", cnt);\n  }\n\n  else{\n    \n    tmp=c-1;\n    for(k = 0; k < tmp; k++){  /* テ」ツδ?」ツつァテ」ツδウテ」ツつクテ、ツサツ・テゥツ卍催ゥツ鳴凝・ツァツ?*/ \n      scanf(\"%d\", &d);   /* テ」ツδ?」ツつァテ」ツδウテ」ツつク */\n      for(i = 0; i < d; i++){\n\tscanf(\"%d%d\", &c, &r);\n\tif(pri[c - 1][r - 1] == 0) pri[c - 1][r - 1] = 1;\n\telse pri[c - 1][r - 1] = 0;\n      }\n\n      flag = 0;  /* テ・ツッツセテァツァツーテヲツ?ァ */\n      for(i = 0; i < n; i++){  \n\tfor(j = 0; j < n/2; j++){\n\t  if(pri[i][j] != pri[i][n - 1 - j]) flag = 1; break;\n\t  if(pri[j][i] != pri[n - 1 - j][i]) flag = 1; break;\n\t}\n      }\n    \n      /* for(i=0; i<n; i++){ */\n      /*   for(j=0; j<n; j++){ */\n      /* \tprintf(\"%d \", pri[i][j]); */\n      /*   } */\n      /*   printf(\"\\n\"); */\n      /* } */\n   \n      if(flag == 0) cnt++;\n\n    }\n\n    printf(\"%d\\n\", cnt);\n\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\n\n#define N_MAX 10000\n\n\nint SameOrDiff_H( char* ,int* ) ;\nint SameOrDiff_V( char(*)[ N_MAX ] ,int* ,int* ) ;\n\nchar pixel[ N_MAX ][ N_MAX ] ;\n\nint main( void )\n{\n\tint C ,N ;\n\tscanf( \"%d %d\" ,&C ,&N ) ;\n\n\tint cnt ;\n\n\tint i ,j ;\n\tfor( i = cnt = 0 ; i < N ; ++i )\n\t{\n\t\tscanf( \"%s\" ,pixel[ i ] ) ;\n\n\t\tif( cnt == 0 && SameOrDiff_H( pixel[ i ] ,&N ) == 1 )\n\t\t{\n\t\t\t++cnt ;\n\t\t}\n\t}\n\n\tfor( i = 0 ; cnt == 0 && i < N ; ++i )\n\t{\n\t\tif( SameOrDiff_V( pixel ,&i ,&N ) == 1 )\n\t\t{\n\t\t\t++cnt ;\n\t\t}\n\t}\n\n\tint n ;\n\tint Y[ 100 ] ,X[ 100 ] ;\n\tint y ,x ;\n\tfor( i = 1 ; i < C ; ++i )\n\t{\n\t\tint same = cnt ;\n\t\tint Yp = 0 ;\n\t\tint Xp = 0 ;\n\t\tint sameY[ N_MAX + 1 ] = { 0 } ;\n\t\tint sameX[ N_MAX + 1 ] = { 0 } ;\n\n\t\tscanf( \"%d\" ,&n ) ;\n\t\tfor( j = 0 ; j < n ; ++j )\n\t\t{\n\t\t\tscanf( \"%d %d\" ,&y ,&x ) ;\n\t\t\t/*if( sameY[ y ] == 0 )\n\t\t\t{\n\t\t\t\tY[ Yp++ ] = y - 1 ;\n\n\t\t\t\tsameY[ y ] = 1 ;\n\t\t\t}\n\t\t\tif( sameX[ x ] == 0 )\n\t\t\t{\n\t\t\t\tX[ Xp++ ] = x - 1 ;\n\n\t\t\t\tsameX[ x ] = 1 ;\n\t\t\t}*/\n\n\t\t\tpixel[ y - 1 ][ x - 1 ] = pixel[ y - 1 ][ x - 1 ] == '1' ? '0' : '1' ;\n\t\t}\n\n\t\tfor( j = 0 ; cnt == same && j < N ; ++j )\n\t\t{\n\t\t\tif( (SameOrDiff_H( pixel[ j ] ,&N ) | SameOrDiff_V( pixel ,&j ,&N )) == 1 )\n\t\t\t{\n\t\t\t\t++cnt ;\n\t\t\t}\n\t\t}\n\n\t\t/*for( j = 0 ; j < Yp && cnt == same ; ++j )\n\t\t{\n\t\t\tif( SameOrDiff_H( pixel[ Y[ j ] ] ,&N ) == 1 )\n\t\t\t{\n\t\t\t\t++cnt ;\n\t\t\t}\n\t\t}\n\n\t\tfor( j = 0 ; j < Xp && cnt == same ; ++j )\n\t\t{\n\t\t\tif( SameOrDiff_V( pixel ,&X[ j ] ,&N ) == 1 )\n\t\t\t{\n\t\t\t\t++cnt ;\n\t\t\t}\n\t\t}*/\n\t}\n\n\tprintf( \"%d\\n\" ,C - cnt ) ;\n\n\treturn 0 ;\n}\n\nint SameOrDiff_H( char *Pixel ,int *Length )\t// horizontal\n{\n\tint Left = 0 ;\n\tint Right = *Length - 1 ;\n\n\twhile( Left < Right )\n\t{\n\t\tif( Pixel[ Left++ ] != Pixel[ Right-- ] )\n\t\t{\n\t\t\treturn 1 ;\n\t\t}\n\t}\n\n\treturn 0 ;\n}\n\nint SameOrDiff_V( char ( *Pixel )[ N_MAX ] ,int *X ,int *Length )\t// vertical\n{\n\tint Left = 0 ;\n\tint Right = *Length - 1 ;\n\n\twhile( Left < Right )\n\t{\n\t\tif( Pixel[ Left++ ][ *X ] != Pixel[ Right-- ][ *X ] )\n\t\t{\n\t\t\treturn 1 ;\n\t\t}\n\t}\n\n\treturn 0 ;\n}\n"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(void){\n\tint c,n,d,r,C,i,j,x=0,y=0,z;\n\tchar p[1000][1000];\n\tscanf(\"%d%d\",&C,&n);\n\tfor(i=0;i<n;i++){\n\t\tscanf(\"%s\",&p[i]);\n\t}\n\tfor(i=0;i<n;i++){\n\t\tfor(j=0;j<n/2;j++){\n\t\t\tif(p[i][j]==p[i][n-1-j]){\n\t\t\t\tx++;\n\t\t\t}\n\t\t}\n\t}\n\tfor(j=0;j<n;j++){\n\t\tfor(i=0;i<n/2;i++){\n\t\t\tif(p[i][j]==p[n-1-i][j]){\n\t\t\t\tx++;\n\t\t\t}\n\t\t}\n\t}\n\tif(x==n*n){\n\t\ty++;\n\t}\n\tfor(z=1;z<C;z++){\n\t\tscanf(\"%d\",&d);\n\t\tfor(i=0;i<d;i++){\n\t\t\tscanf(\"%d%d\",&r,&c);\n\t\t\tif(p[r-1][c-1]=='0'){\n\t\t\t\tp[r-1][c-1]='1';\n\t\t\t}\n\t\t\telse{\n\t\t\t\tp[r-1][c-1]='0';\n\t\t\t}\n\t\t}\n\t\tx=0;\n\t\tfor(i=0;i<n;i++){\n\t\t\tfor(j=0;j<n/2;j++){\n\t\t\t\tif(p[i][j]==p[i][n-1-j]){\n\t\t\t\t\tx++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor(j=0;j<n;j++){\n\t\t\tfor(i=0;i<n/2;i++){\n\t\t\t\tif(p[i][j]==p[n-1-i][j]){\n\t\t\t\tx++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\tif(x==n*n){\n\t\ty++;\n\t\t}\n\t}\n\tprintf(\"%d\\n\",y);\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint check(int a[1000][1000], int n)\n{\n\n    int i, j;\n\n    for(i = 0; i < n; i++) {\n        for(j = 0; j < n; j++) {\n            if(a[i][j] != a[n - 1 - i][j])\n                return 0;\n            if(a[i][j] != a[i][n - 1 - j])\n                return 0;\n        }\n    }\n\n    return 1;\n}\n\nint main(void)\n{\n\n    int c, n, i, j, k, r, t, h = 0;\n    int a[1000][1000];\n\n    scanf(\"%d %d\", &c, &n);\n\n    for(i = 0; i < n; i++) {\n        for(j = 0; j < n; j++)\n            scanf(\"%d\", &a[i][j]);\n        printf(\"\\n\");\n    }\n\n    h += check(a, n);\n\n    for(i = 0; i < c - 1; i++) {\n        scanf(\"%d\", &k);\n        for(j = 0; j < k; j++) {\n            scanf(\"%d %d\", &r, &t);\n            if(a[r - 1][t - 1] == 1)\n                a[r - 1][t - 1]--;\n            else\n                a[r - 1][t - 1]++;\n        }\n        h += check(a, n);\n    }\n\n    printf(\"%d\\n\", h);\n\n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint cheak(int a[128][128], int n)\n{\n\n    int i, j;\n\n    for(i = 0; i < n; i++) {\n        for(j = 0; j < n; j++) {\n            if(a[i][j] != a[n - 1 - i][j])\n                return 0;\n            if(a[i][j] != a[i][n - 1 - j])\n                return 0;\n        }\n    }\n\n    return 1;\n}\n\nint main(void)\n{\n\n    int c, n, i, j, k, r, t, h = 0;\n    int a[128][128];\n\n    scanf(\"%d %d\", &c, &n);\n\n    for(i = 0; i < n; i++) {\n        for(j = 0; j < n; j++)\n            scanf(\"%d\", &a[i][j]);\n    }\n\n    h += cheak(a, n);\n\n    for(i = 0; i < c - 1; i++) {\n        scanf(\"%d\", &k);\n        for(j = 0; j < k; j++) {\n            scanf(\"%d %d\", &r, &t);\n            if(a[r - 1][t - 1] == 1)\n                a[r - 1][t - 1]--;\n            else\n                a[r - 1][t - 1]++;\n        }\n        h += cheak(a, n);\n    }\n\n    printf(\"%d\\n\", h);\n\n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(void){\n\tint c,n,d,r,C,i,j,x=0,y=0,z;\n\tchar p[1000][1000];\n\tscanf(\"%d%d\",&C,&n);\n\tfor(i=0;i<n;i++){\n\t\tscanf(\"%s\",&p[i]);\n\t}\n\tfor(z=0;z<C;z++){\n\t\tx=0;\n\t\tfor(i=0;i<n;i++){\n\t\t\tfor(j=0;j<n/2;j++){\n\t\t\t\tif(p[i][j]==p[i][n-1-j]){\n\t\t\t\t\tx++;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tbreak;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor(j=0;j<n;j++){\n\t\t\tfor(i=0;i<n/2;i++){\n\t\t\t\tif(p[i][j]==p[n-1-i][j]){\n\t\t\t\tx++;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tbreak;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\tif(x==n*n){\n\t\ty++;\n\t\t}\n\t\tif(z!=C-1){\n\t\tscanf(\"%d\",&d);\n\t\tfor(i=0;i<d;i++){\n\t\t\tscanf(\"%d%d\",&r,&c);\n\t\t\tif(p[r-1][c-1]=='0'){\n\t\t\t\tp[r-1][c-1]='1';\n\t\t\t}\n\t\t\telse{\n\t\t\t\tp[r-1][c-1]='0';\n\t\t\t}\n\t\t}\n\t\t}\n\t}\n\tprintf(\"%d\\n\",y);\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint cheak(int a[128][128], int n)\n{\n\n    int i, j;\n\n    for(i = 0; i < n; i++) {\n        for(j = 0; j < n; j++) {\n            if(a[i][j] != a[n - 1 - i][j])\n                return 0;\n            if(a[i][j] != a[i][n - 1 - j])\n                return 0;\n        }\n    }\n\n    return 1;\n}\n\nint main(void)\n{\n\n    int c, n, i, j, k, r, t, h = 0;\n    int a[128][128];\n\n    scanf(\"%d %d\", &c, &n);\n\n    for(i = 0; i < n; i++) {\n        for(j = 0; j < n; j++)\n            scanf(\"%d\", &a[i][j]);\n        printf(\"\\n\");\n    }\n\n    h += cheak(a, n);\n\n    for(i = 0; i < c - 1; i++) {\n        scanf(\"%d\", &k);\n        for(j = 0; j < k; j++) {\n            scanf(\"%d %d\", &r, &t);\n            if(a[r - 1][t - 1] == 1)\n                a[r - 1][t - 1]--;\n            else\n                a[r - 1][t - 1]++;\n        }\n        h += cheak(a, n);\n    }\n\n    printf(\"%d\\n\", h);\n\n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint cheak(int a[128][128], int n)\n{\n\n    int i, j;\n\n    for(i = 0; i < n; i++) {\n        for(j = 0; j < n; j++) {\n            if(a[i][j] != a[n - 1 - i][j])\n                return 0;\n            if(a[i][j] != a[i][n - 1 - j])\n                return 0;\n        }\n    }\n\n    return 1;\n}\n\nint main(void)\n{\n\n    int c, n, i, j, k, r, t, h = 0;\n    int a[1000][1000];\n\n    scanf(\"%d %d\", &c, &n);\n\n    for(i = 0; i < n; i++) {\n        for(j = 0; j < n; j++)\n            scanf(\"%d\", &a[i][j]);\n        printf(\"\\n\");\n    }\n\n    h += cheak(a, n);\n\n    for(i = 0; i < c - 1; i++) {\n        scanf(\"%d\", &k);\n        for(j = 0; j < k; j++) {\n            scanf(\"%d %d\", &r, &t);\n            if(a[r - 1][t - 1] == 1)\n                a[r - 1][t - 1]--;\n            else\n                a[r - 1][t - 1]++;\n        }\n        h += cheak(a, n);\n    }\n\n    printf(\"%d\\n\", h);\n\n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include<string.h>\n\n#define MAX_N 1000\n\nint e, n, d, r, c;\nchar p[MAX_N][MAX_N + 1];\n\nint main(void)\n{\n\tint cnt;\n\tint i, j;\n\n\tscanf( \"%d %d \", &e, &n );\n\t\n\tfor( i=0; i<n; i++ ) {\n\t\tgets( p[i] );\n\t}\n\t\n\tcnt = 0;\n\twhile( 1 ) {\n\t\t\n\t\tfor( i=0; i<n/2; i++ ) {\n\t\t\tfor( j=0; j<n/2; j++ ) {\n\t\t\t\t\tif ( !(p[j][i] == p[n-1-j][i] && p[n-1-j][i] == p[j][n-1-i] && p[j][n-1-i] == p[n-1-j][n-1-i]) ) break;\n\t\t\t}\n\t\t\t\n\t\t\tif ( j < n/2 ) break;\n\t\t}\n\t\t\n\t\tif ( i >= n/2 ) cnt++;\n\t\t\n\t\te--;\n\t\tif ( e <= 0 ) break;\n\t\t\n\t\tscanf( \"%d\", &d );\n\t\t\n\t\twhile( d-- ) {\n\t\t\tscanf( \"%d %d\", &r, &c );\n\t\t\tif ( p[r-1][c-1] == '1' ) p[r-1][c-1] = '0';\n\t\t\telse p[r-1][c-1] = '1';\n\t\t\t\n\t\t}\n\t\t\n\t}\n\t\n\tprintf( \"%d\\n\", cnt );\n\t\n\treturn 0;\n}"
  },
  {
    "language": "Kotlin",
    "code": "\n\n\nclass MonoImage(private val state: Array<BooleanArray>){\n    val size: Int = state.size\n    private var mNotSymmetricPixelCount: Int\n    private val mPixels: Array<Array<Pixel>>\n    init{\n        mPixels = Array(size / 2){Array(size / 2){Pixel()}}\n        mNotSymmetricPixelCount = 0\n        for (i in 0 until size / 2){\n            for (j in 0 until size / 2){\n                mPixels[i][j].topLeft = state[i][j]\n                mPixels[i][j].topRight = state[i][size - 1 - j]\n                mPixels[i][j].bottomLeft = state[size - 1 - i][j]\n                mPixels[i][j].bottomRight = state[size - 1 - i][size - 1 - j]\n                if (!mPixels[i][j].isSymmetric) ++mNotSymmetricPixelCount\n            }\n        }\n    }\n    val isSymmetric: Boolean\n        get() = mNotSymmetricPixelCount == 0\n    private fun pixel(row: Int, column: Int): Pixel {\n        return when{\n            row in 0 until size / 2 && column in 0 until size / 2 -> mPixels[row][column]\n            row in 0 until size / 2 -> mPixels[row][size - column - 1]\n            column in 0 until size / 2 -> mPixels[size - row - 1][column]\n            else -> mPixels[size - row - 1][size - column - 1]\n        }\n    }\n    fun flip(row: Int, column: Int): Unit {\n        if (!pixel(row - 1, column - 1).isSymmetric) --mNotSymmetricPixelCount\n        when{\n            row in 0 until size / 2 && column in 0 until size / 2 -> pixel(row - 1, column - 1).topLeft = !pixel(row - 1, column - 1).topLeft\n            row in 0 until size / 2 -> pixel(row - 1, column - 1).topRight = !pixel(row - 1, column - 1).topRight\n            column in 0 until size / 2 -> pixel(row - 1 , column - 1).bottomLeft = !pixel(row - 1, column - 1).bottomLeft\n            else -> pixel(row - 1, column - 1).bottomRight = !pixel(row - 1, column - 1).bottomRight\n        }\n        if (!pixel(row - 1, column - 1).isSymmetric) ++mNotSymmetricPixelCount\n\n    }\n    class Pixel(var topLeft: Boolean = false, var topRight: Boolean = false, var bottomLeft: Boolean = false, var bottomRight: Boolean = false){\n        val isSymmetric: Boolean\n            get() = (topLeft == topRight) && (topLeft == bottomLeft) && (bottomLeft == bottomRight)\n    }\n\n}\nfun main(args:Array<String>): Unit {\n    val (c, n) = readLine()!!.trim().split(' ').map(String::toInt)\n    val image = MonoImage(Array(n){readLine()!!.trim().toCharArray().map{it == '1'}.toBooleanArray()})\n    var count = if (image.isSymmetric) 1 else 0\n    repeat(c - 1){\n        repeat(readLine()!!.trim().toInt()){\n            val (r, c) = readLine()!!.trim().split(' ').map(String::toInt)\n            image.flip(r, c)\n        }\n        if (image.isSymmetric) ++count\n    }\n    println(count)\n}\n"
  },
  {
    "language": "Kotlin",
    "code": "\n\n\nclass MonoImage(private val state: Array<BooleanArray>){\n    val size: Int = state.size\n    private var mNotSymmetricPixelCount: Int\n    private val mPixels: Array<Array<Pixel>>\n    init{\n        mPixels = Array(size / 2){Array(size / 2){Pixel()}}\n        mNotSymmetricPixelCount = 0\n        for (i in 0 until size / 2){\n            for (j in 0 until size / 2){\n                mPixels[i][j].topLeft = state[i][j]\n                mPixels[i][j].topRight = state[i][size - 1 - j]\n                mPixels[i][j].bottomLeft = state[size - 1 - i][j]\n                mPixels[i][j].bottomRight = state[size - 1 - i][size - 1 - j]\n                if (!mPixels[i][j].isSymmetric) ++mNotSymmetricPixelCount\n            }\n        }\n    }\n    val isSymmetric: Boolean\n        get() = mNotSymmetricPixelCount == 0\n    private fun pixel(row: Int, column: Int): Pixel {\n        return when{\n            row in 0 until size / 2 && column in 0 until size / 2 -> mPixels[row][column]\n            row in 0 until size / 2 -> mPixels[row][size - column - 1]\n            column in 0 until size / 2 -> mPixels[size - row - 1][column]\n            else -> mPixels[size - row - 1][size - column - 1]\n        }\n    }\n    fun flip(row: Int, column: Int): Unit {\n        if (!pixel(row - 1, column - 1).isSymmetric) --mNotSymmetricPixelCount\n        when{\n            row in 0 until size / 2 && column in 0 until size / 2 -> pixel(row - 1, column - 1).topLeft = !pixel(row - 1, column - 1).topLeft\n            row in 0 until size / 2 -> pixel(row - 1, column - 1).topRight = !pixel(row - 1, column - 1).topRight\n            column in 0 until size / 2 -> pixel(row - 1 , column - 1).bottomLeft = !pixel(row - 1, column - 1).bottomLeft\n            else -> pixel(row - 1, column - 1).bottomRight = !pixel(row - 1, column - 1).bottomRight\n        }\n        if (!pixel(row - 1, column - 1).isSymmetric) ++mNotSymmetricPixelCount\n\n    }\n    class Pixel(var topLeft: Boolean = false, var topRight: Boolean = false, var bottomLeft: Boolean = false, var bottomRight: Boolean = false){\n        val isSymmetric: Boolean\n            get() = (topLeft == topRight) && (topLeft == bottomLeft) && (bottomLeft == bottomRight)\n    }\n\n}\nfun main(args:Array<String>): Unit {\n    val (c, n) = readLine()!!.trim().split(' ').map(String::toInt)\n    val image = MonoImage(Array(n){readLine()!!.trim().toCharArray().map{it == '1'}.toBooleanArray()})\n    var count = if (image.isSymmetric) 1 else 0\n    repeat(c - 1){\n        repeat(readLine()!!.trim().toInt()){\n            val (row, column) = readLine()!!.trim().split(' ').map(String::toInt)\n            image.flip(row, column)\n        }\n        if (image.isSymmetric) ++count\n    }\n    println(count)\n}\n"
  },
  {
    "language": "Kotlin",
    "code": "\n\n\nclass MonoImage(private val state: Array<BooleanArray>){\n    val size: Int = state.size\n    private var mNotSymmetricPixelCount: Int\n    private val mPixels: Array<Array<Pixel>>\n    init{\n        mPixels = Array(size / 2){Array(size / 2){Pixel()}}\n        mNotSymmetricPixelCount = 0\n        for (i in 0 until size / 2){\n            for (j in 0 until size / 2){\n                mPixels[i][j].topLeft = state[i][j]\n                mPixels[i][j].topRight = state[i][size - 1 - j]\n                mPixels[i][j].bottomLeft = state[size - 1 - i][j]\n                mPixels[i][j].bottomRight = state[size - 1 - i][size - 1 - j]\n                if (!mPixels[i][j].isSymmetric) ++mNotSymmetricPixelCount\n            }\n        }\n    }\n    val isSymmetric: Boolean\n        get() = mNotSymmetricPixelCount == 0\n    private fun pixel(row: Int, column: Int): Pixel {\n        return when{\n            row in 0 until size / 2 && column in 0 until size / 2 -> mPixels[row][column]\n            row in 0 until size / 2 -> mPixels[row][size - column - 1]\n            column in 0 until size / 2 -> mPixels[size - row - 1][column]\n            else -> mPixels[size - row - 1][size - column - 1]\n        }\n    }\n    fun flip(row: Int, column: Int): Unit {\n        if (!pixel(row - 1, column - 1).isSymmetric) --mNotSymmetricPixelCount\n        when{\n            (row - 1) in 0 until size / 2 && (column - 1) in 0 until size / 2 -> pixel(row - 1, column - 1).flipTopLeft()\n            (row - 1) in 0 until size / 2 -> pixel(row - 1, column - 1).flipTopRight()\n            (column - 1) in 0 until size / 2 -> pixel(row - 1 , column - 1).flipBottomLeft()\n            else -> pixel(row - 1, column - 1).flipBottomRight()\n        }\n        if (!pixel(row - 1, column - 1).isSymmetric) ++mNotSymmetricPixelCount\n\n    }\n    class Pixel(var topLeft: Boolean = false, var topRight: Boolean = false, var bottomLeft: Boolean = false, var bottomRight: Boolean = false){\n        val isSymmetric: Boolean\n            get() = (topLeft == topRight) && (topLeft == bottomLeft) && (bottomLeft == bottomRight)\n        fun flipTopLeft(): Unit {topLeft = !topLeft}\n        fun flipTopRight(): Unit {topRight = !topRight}\n        fun flipBottomLeft(): Unit {bottomLeft = !bottomLeft}\n        fun flipBottomRight(): Unit {bottomRight = !bottomRight}\n    }\n\n}\nfun main(args:Array<String>): Unit {\n    val (c, n) = readLine()!!.trim().split(' ').map(String::toInt)\n    val image = MonoImage(Array(n){readLine()!!.trim().toCharArray().map{it == '1'}.toBooleanArray()})\n    var count = if (image.isSymmetric) 1 else 0\n    repeat(c - 1){\n        repeat(readLine()!!.trim().toInt()){\n            val (row, column) = readLine()!!.trim().split(' ').map(String::toInt)\n            image.flip(row, column)\n        }\n        if (image.isSymmetric) ++count\n    }\n    println(count)\n}\n"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\nclass Main{\n    private void compute(){\n        int i, j, k, r, c;\n        int cnt = 0;\n        int ans = 0;\n        int tmp = 0;\n        String inStr, tmpStr;\n        char tmpChar;\n\n        Scanner sc = new Scanner(System.in);\n        int C = sc.nextInt();\n        int N = sc.nextInt();\n        int[][] p = new int[N+1][N+1];\n\n        for (i = 1; i <= N; i++){\n            inStr = sc.next();\n            for (j = 1; j <= N; j++){\n                tmpChar = inStr.charAt(j - 1);\n                p[i][j] = Character.getNumericValue(tmpChar);\n            }\n        }\n\n\n        cnt = 1;\n        out_of_loop:\n        for (i = 1; i <= (N / 2); i++){\n            for (j = 1; j <= (N / 2); j++){\n                if ((p[i][j] != p[i][N+1-j]) || (p[i][j] != p[N+1-i][j]) || (p[i][j] != p[N+1-i][N+1-j])){\n                    cnt--;\n                    break out_of_loop;\n                }\n            }\n        }\n\n        for (i = 2; i <= C; i++){\n            int D = sc.nextInt();\n            for (j = 1; j <= D; j++){\n                r = sc.nextInt();\n                c = sc.nextInt();\n                switch (p[r][c]){\n                case 0:\n                    p[r][c] = 1;\n                    break;\n                case 1:\n                    p[r][c] = 0;\n                    break;\n                }\n            }\n\n            cnt++;\n            out_of_loop:\n            for (j = 1; j <= (N / 2); j++){\n                for (k = 1; k <= (N / 2); k++){\n                    if ((p[j][k] != p[j][N+1-k]) || (p[j][k] != p[N+1-j][k]) || (p[j][k] != p[N+1-j][N+1-k])){\n                        cnt--;\n                        break out_of_loop;\n                    }\n                }\n            }\n        }\n\n        System.out.println(cnt);\n    }\n    public static void main(String[] arg){\n        new Main().compute();\n    }\n}\n"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\nclass Main{\n    \n    char[][] G;\n    int N;\n\n    int next(int i){ return ((N-i-1)+N)%N;}\n\n    boolean getState(int i, int j){\n\treturn  G[i][j] == G[i][next(j)] &&\n\t    G[i][j] == G[next(i)][j] &&\n\t    G[i][j] == G[next(i)][next(j)];\n    }\n    \n    int getInit(){\n\tint i, j, dcnt = 0;\n\tfor ( i = 0; i < N/2; i++ ){\n\t    for ( j = 0; j < N/2; j++ ){\n\t\tif (!getState(i, j)) dcnt++;\n\t    }\n\t}\n\treturn dcnt;\n    }\n    \n    void solve(){\n\tScanner sc = new Scanner(System.in);\n\tint dcnt;\n\tint ans = 0;\n\tint C = sc.nextInt();\n\tN = sc.nextInt();\n\n\tG = new char[N][N];\n\t\n\tfor ( int i = 0; i < N; i++ ){\n\t    String str = sc.next();\n\t    for ( int j = 0; j < N; j++ ){\n\t\tG[i][j] = str.charAt(j);\n\t    }\n\t}\n\t\n\tdcnt = getInit();\n\tif (dcnt == 0 ) ans++;\n\tfor ( int i = 0; i < C-1; i++ ){\n\t    int k = sc.nextInt();\n\t    for ( int j = 0; j < k; j++ ){\n\t\tint r = sc.nextInt();\n\t\tint c = sc.nextInt();\n\t\tr--; c--;\n\t\tboolean pre = getState(r, c);\n\t\tG[r][c] = G[r][c]=='1'?'0':'1';\n\t\tboolean post = getState(r, c);\n\t\tif ( !pre && post ) dcnt--;\n\t\telse if ( pre && !post ) dcnt++;\n\t    }\n\t    if ( dcnt == 0 ) ans++;\n\t}\n\n\tSystem.out.println(ans);\n    }\n\n    public static void main(String[] args){\n\tnew Main().solve();\n    }\n}\n\n"
  },
  {
    "language": "Java",
    "code": "import java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int c = sc.nextInt();\n        int n = sc.nextInt();\n        int n2 = n / 2;\n\n        int[][] arrays = new int[n2][n2];\n\n        for (int i = 0; i < n; i++) {\n            char[] chars = sc.next().toCharArray();\n            for (int j = 0; j < n; j++) {\n                if (chars[j] == '0') continue;\n                int x = get_x(i, n2);\n                int y = get_y(j, n2);\n                arrays[x][y] ^= get_bits(get_area(i, j, n2));\n            }\n        }\n        int diffs = count_diff(arrays);\n        //System.err.println(diffs);\n        //printarr(arrays);\n        int ans = (diffs == 0 ? 1 : 0);\n        for (int i = 0; i < c - 1; i++) {\n            int d = sc.nextInt();\n            for (int j = 0; j < d; j++) {\n                int ri = sc.nextInt() - 1, ci = sc.nextInt() - 1;\n                int diff = add(ri, ci, n2, arrays);\n                diffs += diff;\n            }\n            /**\n             * check symmetric\n             */\n            if (diffs == 0) ans++;\n        }\n        System.out.println(ans);\n    }\n\n    private static void printarr(int[][] arrays) {\n        for(int[] array: arrays) {\n            System.err.println(Arrays.toString(array));\n        }\n    }\n\n    private static int count_diff(int[][] arrays) {\n        int ret = 0;\n        for (int[] array : arrays) {\n            for (int num : array) {\n                if (num == 0 || num == 15) {\n                } else {\n                    ret++;\n                }\n            }\n        }\n        return ret;\n    }\n\n    static int add(int r, int c, int n2, int[][] arrays) {\n        int x = get_x(r, n2);\n        int y = get_y(c, n2);\n        int address = x * n2 + y;\n        int area = get_area(r, c, n2);\n        int pre = arrays[x][y];\n        int now = arrays[x][y] ^= get_bits(area);\n        if (pre == 0 || pre == 15) {\n            return 1;\n        } else {\n            if (now == 0 || now == 15) {\n                return -1;\n            } else {\n                return 0;\n            }\n        }\n    }\n\n    static int get_area(int r, int c, int n2) {\n        if (r < n2 && c < n2) {//左上\n            return 0;\n        } else if (r >= n2 && c < n2) {//右上\n            return 1;\n        } else if (r < n2 && c >= n2) {//左下\n            return 2;\n        } else {//右下\n            return 3;\n        }\n    }\n\n    static int get_bits(int area) {\n        return (1 << area);\n    }\n\n    static int get_x(int r, int n2) {\n        if (r >= n2) {\n            return r - n2;\n        } else {\n            return n2 - r - 1;\n        }\n    }\n\n    static int get_y(int c, int n2) {\n        if (c >= n2) {\n            return c - n2;\n        } else {\n            return n2 - c - 1;\n        }\n    }\n}\n\n"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Linq;\n\nnamespace _0320\n{\n    class Program\n    {\n        static int n;\n        static bool[,] coaster;\n        static bool solve()\n        {\n            bool ret = true;\n            for (int i = 0; i < n; i++)\n            {\n                for (int j = 0; j < n; j++)\n                {\n                    if (coaster[i,j] != coaster[n - i - 1,n - j - 1]) ret = false;\n                }\n            }\n            return ret;\n        }\n        static void Main(string[] args)\n        {\n            int[] x = Console.ReadLine().Split().Select(int.Parse).ToArray(); n = x[1];\n            coaster = new bool[n,n];\n            for (int i = 0; i < n; i++)\n            {\n                string s = Console.ReadLine();\n                for (int j = 0; j < n; j++) coaster[i,j] = s[j] == '1';\n            }\n            int ret = 0;\n            if (solve()) ret++;\n            for (int i = 1; i < x[0]; i++)\n            {\n                int b = int.Parse(Console.ReadLine());\n                for (int j = 0; j < b; j++)\n                {\n                    int[] a = Console.ReadLine().Split().Select(int.Parse).ToArray(); a[0]--; a[1]--;\n                    coaster[a[0],a[1]] = !coaster[a[0],a[1]];\n                }\n                if (solve()) ret++;\n            }\n            Console.WriteLine(ret);\n        }\n    }\n}\n"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Linq;\n\nnamespace _0320\n{\n    class Program\n    {\n        static int n;\n        static bool[,] coaster;\n        static bool solve()\n        {\n            bool ret = true;\n            for (int i = 0; i < n; i++)\n            {\n                for (int j = 0; j < n; j++)\n                {\n                    if (coaster[i,j] != coaster[n - i - 1,n - j - 1]) ret = false;\n                }\n            }\n            return ret;\n        }\n        static void Main(string[] args)\n        {\n            int[] x = Console.ReadLine().Split().Select(int.Parse).ToArray(); n = x[1];\n            coaster = new bool[n,n];\n            for (int i = 0; i < n; i++)\n            {\n                string s = Console.ReadLine();\n                for (int j = 0; j < n; j++) coaster[i,j] = s[j] == '1';\n            }\n            int ret = 0;\n            if (solve()) ret++;\n            for (int i = 1; i < x[0]; i++)\n            {\n                int n = int.Parse(Console.ReadLine());\n                for (int j = 0; j < n; j++)\n                {\n                    int[] a = Console.ReadLine().Split().Select(int.Parse).ToArray(); a[0]--; a[1]--;\n                    coaster[a[0],a[1]] = !coaster[a[0],a[1]];\n                }\n                if (solve()) ret++;\n            }\n            Console.WriteLine(ret);\n        }\n    }\n}\n"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Linq;\n\nnamespace _0320\n{\n    class Program\n    {\n        static int n;\n        static bool[,] coaster;\n        static bool solve()\n        {\n            bool ret = true;\n            for (int i = 0; i < n; i++)\n            {\n                for (int j = 0; j < n; j++)\n                {\n                    if (coaster[i,j] != coaster[i,n - j - 1]) ret = false;\n                    if (coaster[i,j] != coaster[n - i - 1,j]) ret = false;\n                }\n            }\n            return ret;\n        }\n        static void Main(string[] args)\n        {\n            int[] x = Console.ReadLine().Split().Select(int.Parse).ToArray(); n = x[1];\n            coaster = new bool[n,n];\n            for (int i = 0; i < n; i++)\n            {\n                string s = Console.ReadLine();\n                for (int j = 0; j < n; j++) coaster[i,j] = s[j] == '1';\n            }\n            int ret = 0;\n            if (solve()) ret++;\n            for (int i = 1; i < x[0]; i++)\n            {\n                int b = int.Parse(Console.ReadLine());\n                for (int j = 0; j < b; j++)\n                {\n                    int[] a = Console.ReadLine().Split().Select(int.Parse).ToArray(); a[0]--; a[1]--;\n                    coaster[a[0],a[1]] = !coaster[a[0],a[1]];\n                }\n                if (solve()) ret++;\n            }\n            Console.WriteLine(ret);\n        }\n    }\n}\n"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Linq;\n\nnamespace _0320\n{\n    class Program\n    {\n        static int n;\n        static bool[,] coaster;\n        static bool solve()\n        {\n            bool ret = true;\n            for (int i = 0; i < n && ret; i++)\n            {\n                for (int j = 0; j < n && ret; j++)\n                {\n                    if (coaster[i,j] != coaster[i,n - j - 1]) ret = false;\n                    if (coaster[i,j] != coaster[n - i - 1,j]) ret = false;\n                }\n            }\n            return ret;\n        }\n        static void Main(string[] args)\n        {\n            int[] x = Console.ReadLine().Split().Select(int.Parse).ToArray(); n = x[1];\n            coaster = new bool[n,n];\n            for (int i = 0; i < n; i++)\n            {\n                string s = Console.ReadLine();\n                for (int j = 0; j < n; j++) coaster[i,j] = s[j] == '1';\n            }\n            int ret = 0;\n            if (solve()) ret++;\n            for (int i = 1; i < x[0]; i++)\n            {\n                int b = int.Parse(Console.ReadLine());\n                for (int j = 0; j < b; j++)\n                {\n                    int[] a = Console.ReadLine().Split().Select(int.Parse).ToArray(); a[0]--; a[1]--;\n                    coaster[a[0],a[1]] = !coaster[a[0],a[1]];\n                }\n                if (solve()) ret++;\n            }\n            Console.WriteLine(ret);\n        }\n    }\n}\n"
  },
  {
    "language": "Ruby",
    "code": "c, n = gets.split.map(&:to_i)\na = (1..n).map { gets.split(\"\").map(&:to_i) }\n\nd = 0\nhdiff = Array.new(n).map { Array.new(n, 0) }\nvdiff = Array.new(n).map { Array.new(n, 0) }\n(0..n-1).each do |i|\n    (0..n-1).each do |j|\n        if a[i][j] != a[i][n-j-1]\n            hdiff[i][j] = 1\n            d += 1\n        end\n        if a[i][j] != a[n-i-1][j]\n            vdiff[i][j] = 1\n            d += 1\n        end\n    end\nend\n\nk = (d == 0 ? 1 : 0)\n(c - 1).times do\n    gets.to_i.times do\n        i, j = gets.split.map(&:to_i)\n        i -= 1\n        j -= 1\n        if hdiff[i][j] == 1\n            hdiff[i][j] = hdiff[i][n-j-1] = 0\n            d -= 2\n        else\n            hdiff[i][j] = hdiff[i][n-j-1] = 1\n            d += 2\n        end\n        if vdiff[i][j] == 1\n            vdiff[i][j] = vdiff[n-i-1][j] = 0\n            d -= 2\n        else\n            vdiff[i][j] = vdiff[n-i-1][j] = 1\n            d += 2\n        end\n    end\n    k += 1 if d == 0\nend\np k\n\n\n"
  },
  {
    "language": "Ruby",
    "code": "c, n = gets.split.map(&:to_i)\na = (1..n).map { gets.chomp.reverse.to_i(2) }\nf = -> a {\n    a.all? {|x|\n        x == sprintf(\"%0#{n}b\", x).reverse.to_i(2)\n    }\n}\ng = -> a {\n    (0..(n-2)/2).all? {|i| a[i] == a[n-i-1]}\n}\nk = 0\nc.times do\n    gets.to_i.times do\n        y, x = gets.split.map(&:to_i)\n        a[y-1] ^= (1 << (x - 1))\n    end\n    k += 1 if f[a] && g[a]\nend\np k\n"
  },
  {
    "language": "Ruby",
    "code": "C, N = gets.split.map &:to_i\np = N.times.map{gets.chomp}\n\nbilateral = Array.new(N){Array.new(N/2)}\ndiphycercal = Array.new(N/2){Array.new(N)}\nb = 0\nd = 0\n(N/2).times do |i|\n  N.times do |j|\n    bilateral[j][i] = p[j][i] == p[j][N-1-i]\n    diphycercal[i][j] = p[i][j] == p[N-1-i][j]\n    b += 1 unless bilateral[j][i]\n    d += 1 unless diphycercal[i][j]\n  end\nend\n\nans = 0\nans += 1 if b.zero? && d.zero?\n\n(C-1).times do\n  gets.to_i.times do\n    r, c = gets.split.map &:to_i\n    r -= 1\n    c -= 1\n    rr = r < N/2 ? r : N - 1 - r\n    cc = c < N/2 ? c : N - 1 - c\n    b += (bilateral[r][cc] ? 1 : -1)\n    d += (diphycercal[rr][c] ? 1 : -1)\n    bilateral[r][cc] = !bilateral[r][cc]\n    diphycercal[rr][c] = !diphycercal[rr][c]\n  end\n  ans += 1 if b.zero? && d.zero?\nend\np ans"
  },
  {
    "language": "Ruby",
    "code": "c, n = gets.split.map(&:to_i)\na = (1..n).map { gets.chomp.reverse.to_i(2) }\nf = -> a {\n    a.all? {|x|\n        x == sprintf(\"%0#{n}b\", x).reverse.to_i(2)\n    }\n}\ng = -> a {\n    (0..(n-2)/2).all? {|i| a[i] == a[n-i-1]}\n}\nk = (f[a] && g[a] ? 1 : 0)\n(c - 1).times do\n    gets.to_i.times do\n        y, x = gets.split.map(&:to_i)\n        a[y-1] ^= (1 << (x - 1))\n    end\n    k += 1 if f[a] && g[a]\nend\np k\n\n"
  },
  {
    "language": "Python",
    "code": "\ndef check(table):\n    N = len(table)\n    flag = True\n    for i in range(N):\n        for j in range(N):\n            if table[i][j] != table[N-1-i][j] or table[i][j] != table[i][N-1-j]:\n                flag = False\n                break\n    return flag\n\n\n\nC,N = [int(i) for i in input().split()]\n\ntable = [[0 for i in range(N)] for j in range(N)]\n\nfor i in range(N):\n    s = input()\n    for j in range(N):\n        table[i][j] = int(s[j])\n        \n\ncnt = 0\nif check(table):\n    cnt = cnt + 1\n    \nfor l in range(C-1):\n    D = int(input())\n    for m in range(D):\n        x,y = [int(i) for i in input().split()]\n        table[x-1][y-1] = 1 - table[x-1][y-1]\n    if check(table):\n        cnt = cnt + 1\n\nprint(cnt)\n\n"
  },
  {
    "language": "Python",
    "code": "import copy\nfrom pprint import pprint\n\ndef rotate90(p):\n    n = len(p)\n    q = [ [ 0 for _ in [0]*n ] for __ in [0]*n ]\n    for y in range(n):\n        for x in range(n):\n            q[y][x] = p[n-1-x][y]\n    return q\n\ndef check(p):\n    n = len(p)\n    for y in range(n):\n        for x in range(n):\n            if p[y][x] != p[n-1-y][n-1-x] or p[x][y] != p[n-1-x][n-1-y]:\n                return False\n            if p[n-1-y][x] != p[y][n-1-x] or p[n-1-x][y] != p[x][n-1-y]:\n                return False\n    for y in range(n):\n        p[y] = list(reversed(p[y]))\n    for y in range(n):\n        for x in range(n):\n            if p[y][x] != p[n-1-y][n-1-x] or p[x][y] != p[n-1-x][n-1-y]:\n                return False\n            if p[n-1-y][x] != p[y][n-1-x] or p[n-1-x][y] != p[x][n-1-y]:\n                return False\n    return True\n\ndef main():\n    C,N=map(int,input().split())\n    p = [ [ 0 for _ in [0]*N ] for __ in [0]*N ]\n    for i in range(N):\n        s = input()\n        for j in range(N):\n            p[i][j] = int(s[j])\n\n    ans = 0\n    if check(p):\n        ans += 1\n    for _ in range(C-1):\n        D = int(input())\n        for __ in range(D):\n            y,x = map(int,input().split())\n            y -= 1\n            x -= 1\n            p[y][x] = ( p[y][x] + 1 ) % 2\n        if check(p):\n            ans += 1\n            \n    print(ans)\n\nif __name__ == \"__main__\":\n    main()"
  },
  {
    "language": "Python",
    "code": "def check(p):\n    n = len(p)\n    for y in range(n):\n        for x in range(n):\n            if p[y][x] != p[n-1-y][n-1-x] or p[x][y] != p[n-1-x][n-1-y]:\n                return False\n            if p[n-1-y][x] != p[y][n-1-x] or p[n-1-x][y] != p[x][n-1-y]:\n                return False\n    return True\n\ndef main():\n    C,N=map(int,input().split())\n    p = []\n    for i in range(N):\n        p.append(input())\n\n    ans = 0\n    if check(p):\n        ans += 1\n    for _ in range(C-1):\n        D = int(input())\n        for __ in range(D):\n            y,x = map(int,input().split())\n            y -= 1\n            x -= 1\n            p[y] = p[y][:x] + ( \"0\" if p[y][x] == \"1\" else \"1\" ) + p[y][x+1:]\n        if check(p):\n            ans += 1\n            \n    print(ans)\n\nif __name__ == \"__main__\":\n    main()"
  },
  {
    "language": "Python",
    "code": "def main():\n  C, n = map(int, input().split())\n  mp = [input() for _ in range(n)]\n  diff_dic = {}\n\n  def change(x, y):\n    if (x, y) in diff_dic:\n      diff_dic.pop((x, y))\n    else:\n      diff_dic[(x, y)] = True\n\n  for y in range(n // 2):\n    for x in range(n // 2):\n      base = mp[y][x]\n      if mp[y][n - 1 - x] != base:\n        change(n - 1 - x, y)\n      if mp[n - 1 - y][x] != base:\n        change(x, n - 1 - y)\n      if mp[n - 1 - y][n - 1 - x] != base:\n        change(n - 1 - x, n - 1 - y)\n  if n % 2:\n    for x in range(n // 2):\n      if mp[n // 2][x] != mp[n // 2][n - 1 - x]:\n        chenge(n - 1 - x, n // 2)\n    for y in range(n // 2):\n      if mp[y][n // 2] != mp[n - 1 - y][n // 2]:\n        change(n // 2, n - 1 - y)\n  \n  ans = 0\n  if not diff_dic:\n    ans += 1\n  \n  for _ in range(C - 1):\n    d = int(input())\n    for _ in range(d):\n      r, c = map(int, input().split())\n      r -= 1\n      c -= 1\n      if r < n // 2 and c < n // 2:\n        change(c, n - 1 - r)\n        change(n - 1 - c, r)\n        change(n - 1 - c, n - 1 - r)\n      elif n % 2 and r == n // 2 and c != n // 2:\n        change(max(c, n - 1 - c), r)\n      elif n % 2 and r != n // 2 and c == n // 2:\n        change(c, max(r, n - 1 - r))\n      else:\n        change(c, r)\n    if not diff_dic:\n        ans += 1\n  print(ans)\n  \nmain()\n"
  },
  {
    "language": "Python",
    "code": "from copy import deepcopy as cd\n\ndef rotate90(p):\n    h,w = len(p[0]),len(p)\n    ret = [[0 for i in range(w)] for j in range(h)]\n    for y in range(h):\n        for x in range(w):\n            ret[y][x] = p[w-1-x][y]\n    return ret\n\ndef check(p,q):\n    a,b,c = cd(q),cd(q),cd(q)\n    return p == rotate90(rotate90(a)) and rotate90(b) == rotate90(rotate90(rotate90(c)))\n\n\ndef main():\n    C,N=map(int,input().split())\n    p = []\n    for i in range(N):\n        s=input()\n        p.append([])\n        for c in s:\n            p[i].append(int(c))\n    ans = 1 if check(p,p) else 0\n    for _ in [0]*(C-1):\n        D=int(input())\n        q = p\n        for i in range(D):\n            y,x=map(int,input().split())\n            q[y-1][x-1] = (q[y-1][x-1]+1)&1\n            if check(p,q):\n                ans += 1\n    print(ans)\n\nif __name__ == \"__main__\":\n    main()"
  },
  {
    "language": "Python",
    "code": "from copy import deepcopy as cd\n\ndef rotate90(p):\n    h,w = len(p[0]),len(p)\n    ret = [[0 for i in range(w)] for j in range(h)]\n    for y in range(h):\n        for x in range(w):\n            ret[y][x] = p[w-1-x][y]\n    return ret\n\ndef check(p):\n    a,b,c = cd(p),cd(p),cd(p)\n    return p == rotate90(rotate90(a)) and rotate90(b) == rotate90(rotate90(rotate90(c)))\n\ndef main():\n    C,N=map(int,input().split())\n    p = []\n    for i in range(N):\n        s=input()\n        p.append([])\n        for c in s:\n            p[i].append(int(c))\n    ans = 1 if check(p) else 0\n    for _ in [0]*(C-1):\n        D=int(input())\n        for i in range(D):\n            y,x=map(int,input().split())\n            p[y-1][x-1] = (p[y-1][x-1]+1)&1\n        if check(p):\n            ans += 1\n    print(ans)\n\nif __name__ == \"__main__\":\n    main()"
  },
  {
    "language": "Python",
    "code": "import copy\nfrom pprint import pprint\n\ndef rotate90(p):\n    n = len(p)\n    q = [ [ 0 for _ in [0]*n ] for __ in [0]*n ]\n    for y in range(n):\n        for x in range(n):\n            q[y][x] = p[n-1-x][y]\n    return q\n\ndef check(p):\n    n = len(p)\n    for y in range(n):\n        if p[y] != list(reversed(p[y])):\n            return False\n        for x in range(n):\n            if p[y][x] != p[n-1-y][x]:\n                return False\n    return True\n\ndef main():\n    C,N=map(int,input().split())\n    p = [ [ 0 for _ in [0]*N ] for __ in [0]*N ]\n    for i in range(N):\n        s = input()\n        for j in range(N):\n            p[i][j] = int(s[j])\n\n    ans = 0\n    if check(p):\n        ans += 1\n    for _ in range(C-1):\n        D = int(input())\n        for __ in range(D):\n            y,x = map(int,input().split())\n            y -= 1\n            x -= 1\n            p[y][x] = ( p[y][x] + 1 ) % 2\n        if check(p):\n            ans += 1\n            \n    print(ans)\n\nif __name__ == \"__main__\":\n    main()"
  },
  {
    "language": "Python",
    "code": "c, n = map(int, input().split())\nP = [list(map(int, input())) for i in range(n)]\nS = [[0]*n for i in range(n)]\nT = [[0]*n for i in range(n)]\ndS = dT = 0\nfor i in range(n):\n    for j in range(n//2):\n        S[i][j] = P[i][j] ^ P[i][n-1-j]\n        dS += S[i][j]\nfor j in range(n):\n    for i in range(n//2):\n        T[i][j] = P[i][j] ^ P[n-1-i][j]\n        dT += T[i][j]\nans = +(dS == dT == 0)\nfor i in range(c-1):\n    d = int(input())\n    for j in range(d):\n        r, c = map(int, input().split())\n        S[r-1][min(c-1, n-c)] ^= 1\n        if S[r-1][min(c-1, n-c)]:\n            dS += 1\n        else:\n            dS -= 1\n        T[min(r-1, n-r)][c-1] ^= 1\n        if T[min(r-1, n-r)][c-1]:\n            dT += 1\n        else:\n            dT -= 1\n    if dS == dT == 0:\n        ans += 1\nprint(ans)"
  },
  {
    "language": "Python",
    "code": "from copy import deepcopy as cd\n\ndef rotate90(p):\n    h,w = len(p[0]),len(p)\n    ret = [[0 for i in range(w)] for j in range(h)]\n    for y in range(h):\n        for x in range(w):\n            ret[y][x] = p[w-1-x][y]\n    return ret\n\ndef check(p):\n    a,b,c = cd(p),cd(p),cd(p)\n    return p == rotate90(rotate90(a)) and rotate90(b) == rotate90(rotate90(rotate90(c)))\n\ndef main():\n    C,N=map(int,input().split())\n    p = []\n    for i in range(N):\n        s=input()\n        p.append([])\n        for c in s:\n            p[i].append(int(c))\n    ans = 1 if check(p) else 0\n    for _ in [0]*(C-1):\n        D=int(input())\n        for i in range(D):\n            y,x=map(int,input().split())\n            p[y-1][x-1] = (p[y-1][x-1]+1)&1\n            if check(p):\n                ans += 1\n    print(ans)\n\nif __name__ == \"__main__\":\n    main()"
  },
  {
    "language": "Python",
    "code": "c, n = map(int, input().split())\np = [list(input()) for _ in range(n)]\ndiff = []\nfor _ in range(c-1):\n    hoge = int(input())\n    diff.append([list(map(int, input().split())) for _ in range(hoge)])\n\ndef check(p, n):\n    flag = True\n    for i in range(n):\n        for j in range(n//2):\n            if p[i][j] != p[i][n-1-j]:\n                flag = False\n    for i in range(n//2):\n        for j in range(n//2):\n            if p[i][j] != p[n-1-i][j]:\n                flag = False\n    return flag\n\nans = 0\nans += check(p, n)\nfor l in diff:\n    for i in l:\n        p[i[0]-1][i[1]-1] = str((int(p[i[0]-1][i[1]-1])+1) % 2)\n    ans += check(p, n)\nprint(ans)\n"
  },
  {
    "language": "Python",
    "code": "def next(N, i):\n    return ((N-i-1)+N)%N\n\ndef getState(N, G, i, j):\n    return  G[i][j] == G[i][next(N, j)] and  G[i][j] == G[next(N, i)][j] and G[i][j] == G[next(N, i)][next(N, j)]\n\ndef getInit(N, G):\n    dcnt = 0\n    for i in range(N//2):\n        for j in range(N//2):\n            if not getState(N, G, i, j): dcnt += 1\n    return dcnt\n\nC, N = map(int, input().split())\n#G = [[0]*N]*N\nG = [['N' for _ in range(N)] for _ in range(N)]\nfor i in range(N):\n    str = input()\n    for j in range(N):\n        G[i][j] = int(str[j])\n\nans = 0\ndcnt = getInit(N, G)\nif dcnt == 0: ans += 1\n\nfor i in range(C-1):\n    k = int(input())\n    for j in range(k):\n        r, c = map(int, input().split())\n        r -= 1\n        c -= 1\n        pre = getState(N, G, r, c)\n        G[r][c] = 0 if G[r][c]== 1 else 1\n        post = getState(N, G, r, c)\n        if not pre and post: dcnt -= 1\n        elif  pre and not post: dcnt += 1\n    if dcnt == 0: ans += 1\n\nprint(ans)\n\n"
  },
  {
    "language": "Python",
    "code": "C, n = map(int, input().split())\nmp = [input() for _ in range(n)]\ndiff_dic = {}\ndef change(x, y):\n  global diff_dic\n  if (x, y) in diff_dic:\n    diff_dic.pop((x, y))\n  else:\n    diff_dic[(x, y)] = True\nfor y in range(n // 2):\n  for x in range(n // 2):\n    base = mp[y][x]\n    if mp[y][n - 1 - x] != base:\n      change(n - 1 - x, y)\n    if mp[n - 1 - y][x] != base:\n      change(x, n - 1 - y)\n    if mp[n - 1 - y][n - 1 - x] != base:\n      change(n - 1 - x, n - 1 - y)\nif n % 2:\n  for x in range(n // 2):\n    if mp[n // 2][x] != mp[n // 2][n - 1 - x]:\n      chenge(n - 1 - x, n // 2)\n  for y in range(n // 2):\n    if mp[y][n // 2] != mp[n - 1 - y][n // 2]:\n      change(n // 2, n - 1 - y)\n\nans = 0\nif not diff_dic:\n  ans += 1\n\nfor _ in range(C - 1):\n  d = int(input())\n  for _ in range(d):\n    r, c = map(int, input().split())\n    r -= 1\n    c -= 1\n    if r < n // 2 and c < n // 2:\n      change(c, n - 1 - r)\n      change(n - 1 - c, r)\n      change(n - 1 - c, n - 1 - r)\n    elif n % 2 and r == n // 2 and c != n // 2:\n      change(max(c, n - 1 - c), r)\n    elif n % 2 and r != n // 2 and c == n // 2:\n      change(c, max(r, n - 1 - r))\n    else:\n      change(c, r)\n  if not diff_dic:\n      ans += 1\nprint(ans)\n\n"
  },
  {
    "language": "Python",
    "code": "import copy\nfrom pprint import pprint\n\ndef rotate90(p):\n    n = len(p)\n    q = [ [ 0 for _ in [0]*n ] for __ in [0]*n ]\n    for y in range(n):\n        for x in range(n):\n            q[y][x] = p[n-1-x][y]\n    return q\n\ndef check(p):\n    n = len(p)\n    for y in range(n):\n        for x in range(n):\n            if p[y][x] != p[n-1-y][n-1-x] or p[x][y] != p[n-1-x][n-1-y]:\n                return False\n            if p[n-1-y][x] != p[y][n-1-x] or p[n-1-x][y] != p[x][n-1-y]:\n                return False\n    tmp = copy.deepcopy(p)\n    for y in range(n):\n        p[y] = list(reversed(p[y]))\n    for y in range(n):\n        for x in range(n):\n            if p[y][x] != p[n-1-y][n-1-x] or p[x][y] != p[n-1-x][n-1-y]:\n                return False\n            if p[n-1-y][x] != p[y][n-1-x] or p[n-1-x][y] != p[x][n-1-y]:\n                return False\n    for y in range(n):\n        for x in range(n):\n            p[y][x] = tmp[n-1-y][x]\n    for y in range(n):\n        for x in range(n):\n            if p[y][x] != p[n-1-y][n-1-x] or p[x][y] != p[n-1-x][n-1-y]:\n                return False\n            if p[n-1-y][x] != p[y][n-1-x] or p[n-1-x][y] != p[x][n-1-y]:\n                return False\n    return True\n\ndef main():\n    C,N=map(int,input().split())\n    p = [ [ 0 for _ in [0]*N ] for __ in [0]*N ]\n    for i in range(N):\n        s = input()\n        for j in range(N):\n            p[i][j] = int(s[j])\n\n    ans = 0\n    if check(p):\n        ans += 1\n    for _ in range(C-1):\n        D = int(input())\n        for __ in range(D):\n            y,x = map(int,input().split())\n            y -= 1\n            x -= 1\n            p[y][x] = ( p[y][x] + 1 ) % 2\n        if check(p):\n            ans += 1\n            \n    print(ans)\n\nif __name__ == \"__main__\":\n    main()"
  },
  {
    "language": "Python",
    "code": "C, n = map(int, input().split())\nmp = [input() for _ in range(n)]\ndiff_dic = set()\ndef change(x, y):\n  global diff_dic\n  if (x, y) in diff_dic:\n    diff_dic = diff_dic - {(x, y)}\n  else:\n    diff_dic = diff_dic | {(x, y)}\n\nfor y in range(n // 2):\n  for x in range(n // 2):\n    base = mp[y][x]\n    if mp[y][n - 1 - x] != base:\n      change(n - 1 - x, y)\n    if mp[n - 1 - y][x] != base:\n      change(x, n - 1 - y)\n    if mp[n - 1 - y][n - 1 - x] != base:\n      change(n - 1 - x, n - 1 - y)\nif n % 2:\n  for x in range(n // 2):\n    if mp[n // 2][x] != mp[n // 2][n - 1 - x]:\n      chenge(n - 1 - x, n // 2)\n  for y in range(n // 2):\n    if mp[y][n // 2] != mp[n - 1 - y][n // 2]:\n      change(n // 2, n - 1 - y)\n\nans = 0\nif not diff_dic:\n  ans += 1\n\nfor _ in range(C - 1):\n  d = int(input())\n  for _ in range(d):\n    r, c = map(int, input().split())\n    r -= 1\n    c -= 1\n    if r < n // 2 and c < n // 2:\n      change(c, n - 1 - r)\n      change(n - 1 - c, r)\n      change(n - 1 - c, n - 1 - r)\n    elif n % 2 and r == n // 2 and c != n // 2:\n      change(max(c, n - 1 - c), r)\n    elif n % 2 and r != n // 2 and c == n // 2:\n      change(c, max(r, n - 1 - r))\n    else:\n      change(c, r)\n  if not diff_dic:\n      ans += 1\nprint(ans)\n\n"
  },
  {
    "language": "Python",
    "code": "c, n = map(int, input().split())\np = [list(input()) for _ in range(n)]\ndiff = []\nfor _ in range(c-1):\n    hoge = int(input())\n    diff.append([list(map(int, input().split())) for _ in range(hoge)])\n\ndef check(p, n):\n    flag = True\n    for i in range(n):\n        for j in range(n//2):\n            if p[i][j] != p[i][n-1-j]:\n                flag = False\n    for i in range(n//2):\n        for j in range(n):\n            if p[i][j] != p[n-1-i][j]:\n                flag = False\n    return flag\n\nans = 0\nans += check(p, n)\nfor l in diff:\n    for i in l:\n        p[i[0]-1][i[1]-1] = str((int(p[i[0]-1][i[1]-1])+1) % 2)\n    ans += check(p, n)\nprint(ans)\n"
  }
]