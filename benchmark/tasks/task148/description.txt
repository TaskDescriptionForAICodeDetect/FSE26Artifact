In the JOI Kingdom, there are N towns connected by M bidirectional roads. K towns have shopping malls, and citizens travel along roads to shop in these towns. Depending on their home location, citizens may have to travel long distances for shopping. The king wants to know the maximum shortest distance from a home to the nearest shopping mall. Since homes can be located on the roads themselves, it is a challenging task. You are tasked with creating a program that calculates the maximum shortest distance from any point on the roads (including endpoints) to the nearest town with a shopping mall. The distance traveled within the towns can be ignored.