[
  {
    "language": "Scala",
    "code": "import java.util.Scanner\nimport scala.collection.Searching._\n\nimport scala.annotation.tailrec\n\nclass IUnionFind(val size: Int) {\n\n  private case class Node(var parent: Option[Int], var treeSize: Int)\n\n  private val nodes = Array.fill[Node](size)(new Node(None, 1))\n\n  def union(t1: Int, t2: Int): IUnionFind = {\n    if (t1 == t2) return this\n\n    val root1 = root(t1)\n    val root2 = root(t2)\n    if (root1 == root2) return this\n\n    val node1 = nodes(root1)\n    val node2 = nodes(root2)\n\n    if (node1.treeSize < node2.treeSize) {\n      node1.parent = Some(t2)\n      node2.treeSize += node1.treeSize\n    } else {\n      node2.parent = Some(t1)\n      node1.treeSize += node2.treeSize\n    }\n    this\n  }\n\n  def connected(t1: Int, t2: Int): Boolean = t1 == t2 || root(t1) == root(t2)\n\n  @tailrec\n  private def root(t: Int): Int = nodes(t).parent match {\n    case None => t\n    case Some(p) => root(p)\n  }\n}\n\n\nobject Main {\n  def solve(sc: => Scanner): Unit = {\n    val A = Array.fill[String](sc.nextInt)(sc.next)\n    if (A.length != 0) {\n      var min = -10000000000000L\n      var max = 10000000000000L\n      var f = true\n      for (i <- 0 until A.length - 1) {\n        if (A(i) == \"x\" && A(i + 1) == \"x\") {\n          f = false\n        } else {\n          if (i % 2 == 0) {\n            if (A(i) != \"x\" && A(i + 1) != \"x\" && A(i).toInt > A(i + 1).toInt) {\n              f = false\n            } else if (A(i) == \"x\") {\n              max = math.min(max, A(i + 1).toInt)\n            } else if (A(i + 1) == \"x\") {\n              min = math.max(min, A(i).toInt)\n            }\n          } else {\n            if (A(i) != \"x\" && A(i + 1) != \"x\" && A(i).toInt < A(i + 1).toInt) {\n              f = false\n            } else if (A(i) == \"x\") {\n              min = math.max(min, A(i + 1).toInt)\n            } else if (A(i + 1) == \"x\") {\n              max = math.min(max, A(i).toInt)\n            }\n          }\n        }\n      }\n      if (f) {\n        if (max - min == 2) {\n          println(min + 1)\n        } else {\n          if (max - min < 2) {\n            println(\"none\")\n          } else {\n            println(\"ambiguous\")\n          }\n        }\n      } else {\n        println(\"none\")\n      }\n\n      solve(sc)\n    }\n  }\n\n  def main(args: Array[String]): Unit = {\n    val sc: Scanner = new Scanner(System.in)\n\n    solve(sc)\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\nint main(){\n  int N;\n  while(cin >> N, N){\n    string A[N];\n    bool f[2], g = true;\n    f[0] = false;\n    f[1] = false;\n    for(int i = 0; i < N; ++i){\n      cin >> A[i];\n      if(A[i] == \"x\")\n\tf[i%2] = true;\n    }\n    long long int INF = 1000000000, m = -INF, M = INF;\n    for(int i = 0; i < N; ++i){\n      if(i > 0 && A[i] != \"x\" && A[i-1] != \"x\"){\n\tif(i%2 && A[i] <= A[i-1]) g = false;\n\telse if(i%2 == 0 && A[i] >= A[i-1]) g = false;\n      }\n      if(i > 0 && A[i] == \"x\" && A[i-1] == \"x\") g = false;\n      if(A[i] != \"x\"){\n\tif(i%2 && f[1]) M = min(M, (long long int)stoi(A[i]));\n\tif((!(i%2)) && f[0]) m = max(m, (long long int)stoi(A[i]));\n      }\n    }\n    //cout << M << \" \" << m << endl;\n    if(g && M - m == 2) cout << m+1 << endl;\n    else if(g && (M - m > 2 || ((!f[0]) && (!f[1])))) cout << \"ambiguous\" << endl;\n    else cout << \"none\" << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <algorithm>\n#include <stdio.h>\n#include <stdlib.h>\n#include <math.h>\n\nusing namespace std;\n#define m 1000000000\n/*\n\t壊れたオーディオシグナル\n\n\tナザン・Ｏ・デヴィスは集積システム学部の学生である。\n\n\t今日の授業予定はオーディオシグナルの処理である。ナザンは大量の宿題を与えられていた。\n\t宿題のうちの一つはオーディオシグナルを処理するプログラムを書くことである。彼は与えられた\n\tオーディオシグナルをメモリにコピーし、自宅に持って帰った。\n\n\t彼は宿題を始めたとき、不幸にもUSBメモリを床に落としてしまった。彼が\n\tＵＳＢメモリの中身を確認したところ、オーディオシグナルは壊れてしまっていた。\n\n\t彼がコピーしたオーディオシグナルにはいくつか特徴がある。\n\n\t・オーディオシグナルはＮ個のサンプルのつながりである。\n\t・オーディオシグナル中の各サンプルは1からＮの番号が振られており、\n\t　整数値として表現されている。\n\t・奇数番号のサンプルは隣接するサンプル未満である。\n\t・偶数番号のサンプルは隣接するサンプルより大きい。\n\n\t彼はパニックに陥り、君に助けを求めた。彼のＵＳＢメモリからオーディオシグナルを\n\t復元しようとしたが、オーディオシグナルのサンプルのいくつかは壊れていて復元できなかった。\n\t運のいいことに、メタデータから全ての壊れたサンプルには同じ値があるようだ。\n\n\t君の課題は、USBメモリから抽出された壊れたオーディオシグナルを入力として受け取り、\n\tオーディオシグナルがただ一通りに復元できるかどうか調べるプログラムを書くことである。\n\n\t入力\n\t入力は複数のデータセットからなる。データセットの形式は以下で説明する。\n\n\t各データセットの一行目は一つの整数からなる。Mは与えられたオーディオシグナル中のサンプル数である。\n\t各データセットの二行目はN個のスペースで区切られた値からなる。i番目の値であるa_iは\n\txであるか、-10^9から10^9までの整数である。i番目の壊れたオーディオシグナルのサンプルである。\n\ta_iが文字xである場合、それはオーディオシグナル中のi番目のサンプルが壊れていることを示す。\n\tそれ以外の場合はi番目のサンプルを指す。\n\n\t入力の終わりは一つの0によって示される。\n\tこれはデータセットに含まれない。\n\n\tデータセットのコスは100以下であると想定してよい。\n\n\t出力\n\t各データセットについて、もとのオーディオシグナルがただ一通りに復元される場合には\n\t壊れたサンプルを一行に出力せよ。ありうる値が複数あるときには'ambiguous'を出力せよ。\n\tありうる値が一つも存在しないときは'none'を出力せよ。\n\n*/\nvoid push(int pos, vector< int > *smp, vector< int > *nv) {\n\tif( pos > 0 ) {\n\t\tint tmp;\n\t\ttmp = smp->at( pos - 1 );\n\t\tif( tmp != 1 << 30 ) nv->push_back( tmp );\n\t}\n\tif( pos < smp->size() - 1 ) {\n\t\tint tmp;\n\t\ttmp = smp->at( pos + 1 );\n\t\tif( tmp != 1 << 30 ) nv->push_back( tmp );\n\t}\n}\n\n\nint main(void){\n\t//FILE* fp_in = freopen(\"data.txt\", \"r\", stdin);\n\t\n\twhile( 1 ){\n\t\tint n;\n\t\tcin >> n;\n\t\tif( n == 0 ) break;\n\t\tvector< int > pos;\n\t\tvector< int > smp;\n\t\tvector< int > nv_max;\n\t\tvector< int > nv_min;\n\n\t\tfor(int i = 0; i < n; i++) {\n\t\t\tstring str;\n\t\t\tcin >> str;\n\t\t\tif( str == \"x\" ) {\n\t\t\t\tsmp.push_back( 1 << 30 );\n\t\t\t\tpos.push_back( i );\n\t\t\t} else {\n\t\t\t\tsmp.push_back( atoi( str.c_str() ) );\n\t\t\t}\n\t\t}\n\n\t\tfor(int i = 0; i < pos.size(); i++) {\n\t\t\tif( pos[i] % 2 == 0 ) {\n\t\t\t\tpush( pos[i], &smp, &nv_min );\n\t\t\t} else {\n\t\t\t\tpush( pos[i], &smp, &nv_max );\n\t\t\t}\n\t\t}\n\n\t\t//最大値最小値を求める\n\t\tint max = 1 << 30, min = 1 << 30;\n\t\tmax *= -1;\n\t\tfor(int i = 0; i < nv_min.size(); i++)\n\t\t\tif( min > nv_min[i] ) min = nv_min[i];\n\t\tfor(int i = 0; i < nv_max.size(); i++)\n\t\t\tif( max < nv_max[i] ) max = nv_max[i];\n\n\t\tif( smp.size() == pos.size() ) {\n\t\t\tcout << \"none\" << endl;\n\t\t} else if( pos.size() == 0 ) {\n\t\t\tbool flg = true;\n\t\t\tfor(int i = 0; i < smp.size(); i++) {\n\t\t\t\tif( i == 0 ) {\n\t\t\t\t\tif( smp[i] >= smp[i + 1] ) \n\t\t\t\t\t\tflg = false;\n\t\t\t\t} else if( i == smp.size() - 1 ){\n\t\t\t\t\tif( smp[i] <= smp[i - 1] ) \n\t\t\t\t\t\tflg = false;\n\t\t\t\t} else {\n\t\t\t\t\tif( i % 2 == 0 ) {\n\t\t\t\t\t\tif( smp[i] >= smp[i + 1] || smp[i] >= smp[i - 1] )\n\t\t\t\t\t\t\tflg = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif( smp[i] <= smp[i + 1] || smp[i] <= smp[i - 1] )\n\t\t\t\t\t\t\tflg = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif( flg ) cout << \"ambiguous\" << endl;\n\t\t\telse cout << \"none\" << endl;\n\t\t} else if( ( nv_min.size() == 0 ) && ( min == -m + 1 ) ) {\n\t\t\tcout << -m << endl;\n\t\t} else if( ( nv_max.size() == 0 ) && ( max == m - 1 ) ) {\n\t\t\tcout << m << endl;\n\t\t} else {\n\t\t\tif( nv_min.size() == 0 || nv_max.size() == 0 ) {\n\t\t\t\tcout << \"ambiguous\" << endl;\n\t\t\t} else if( min - max == 2 ) {\n\t\t\t\tcout << ( max + min ) / 2 << endl;\n\t\t\t} else if( min - max < 2 ) {\n\t\t\t\tcout << \"none\" << endl;\n\t\t\t} else {\n\t\t\t\tcout << \"ambiguous\" << endl;\n\t\t\t}\n\t\t}\n\n\t}\n\n\t//while(1){}\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "// Header {{{\n// includes {{{\n#include <algorithm>\n#include <cassert>\n#include <cctype>\n#include <climits>\n#include <cmath>\n#include <complex>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <ctime>\n#include <iostream>\n#include <iterator>\n#include <limits>\n#include <list>\n#include <map>\n#include <numeric>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <sys/time.h>\n#include <unistd.h>\n#include <vector>\n// }}}\nusing namespace std;\n// consts {{{\nstatic const int INF = 1e9;\nstatic const double PI = acos(-1.0);\nstatic const double EPS = 1e-10;\n// }}}\n// typedefs {{{\ntypedef long long int LL;\ntypedef unsigned long long int ULL;\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<LL> VLL;\ntypedef vector<VLL> VVLL;\ntypedef vector<ULL> VULL;\ntypedef vector<VULL> VVULL;\ntypedef vector<double> VD;\ntypedef vector<VD> VVD;\ntypedef vector<bool> VB;\ntypedef vector<VB> VVB;\ntypedef vector<char> VC;\ntypedef vector<VC> VVC;\ntypedef vector<string> VS;\ntypedef vector<VS> VVS;\ntypedef pair<int, int> PII;\ntypedef complex<int> P;\n// }}}\n// macros & inline functions {{{\n// syntax sugars {{{\n#define FOR(i, b, e) for (typeof(e) i = (b); i < (e); ++i)\n#define FORI(i, b, e) for (typeof(e) i = (b); i <= (e); ++i)\n#define REP(i, n) FOR(i, 0, n)\n#define REPI(i, n) FORI(i, 0, n)\n#define OPOVER(_op, _type) inline bool operator _op (const _type &t) const\n// }}}\n// conversion {{{\ninline int toInt(string s) { int v; istringstream sin(s); sin>>v; return v; }\ntemplate<class T> inline string toString(T x) { ostringstream sout; sout<<x; return sout.str(); }\n// }}}\n// array and STL {{{\n#define ARRSIZE(a) ( sizeof(a) / sizeof(a[0]) )\n#define ZERO(a, v) ( assert(v == 0 || v == -1), memset(a, v, sizeof(a)) )\n#define F first\n#define S second\n#define MP(a, b) make_pair(a, b)\n#define SIZE(a) ((LL)a.size())\n#define PB(e) push_back(e)\n#define SORT(v) sort((v).begin(), (v).end())\n#define RSORT(v) sort((v).rbegin(), (v).rend())\n#define ALL(a) (a).begin(), (a).end()\n#define RALL(a) (a).rbegin(), (a).rend()\n#define EACH(c, it) for(typeof((c).begin()) it=(c).begin(); it!=(c).end(); ++it)\n#define REACH(c, it) for(typeof((c).rbegin()) it=(c).rbegin(); it!=(c).rend(); ++it)\n#define EXIST(s, e) ((s).find(e) != (s).end())\n// }}}\n// bit manipulation {{{\n// singed integers are not for bitwise operations, specifically arithmetic shifts ('>>', and maybe not good for '<<' too)\n#define IS_UNSIGNED(n) (!numeric_limits<typeof(n)>::is_signed)\n#define BIT(n) (assert(IS_UNSIGNED(n)), assert(n < 64), (1ULL << (n)))\n#define BITOF(n, m) (assert(IS_UNSIGNED(n)), assert(m < 64), ((ULL)(n) >> (m) & 1))\ninline int BITS_COUNT(ULL b) { int c = 0; while(b != 0) { c += (b & 1); b >>= 1; } return c; }\ninline int MSB(ULL b) { int c = 0; while(b != 0) { ++c; b >>= 1; } return c-1; }\ninline int MAKE_MASK(ULL upper, ULL lower) { assert(lower < 64 && upper < 64 && lower <= upper); return (BIT(upper) - 1) ^ (BIT(lower) - 1); }\n// }}}\n// for readable code {{{\n#define EVEN(n) (n % 2 == 0)\n#define ODD(n) (!EVEN(n))\n// }}}\n// debug {{{\n#define arrsz(a) ( sizeof(a) / sizeof(a[0]) )\n#define dprt(fmt, ...) if (opt_debug) { fprintf(stderr, fmt, ##__VA_ARGS__); }\n#define darr(a) if (opt_debug) { copy( (a), (a) + arrsz(a), ostream_iterator<int>(cerr, \" \") ); cerr << endl; }\n#define darr_range(a, f, t) if (opt_debug) { copy( (a) + (f), (a) + (t), ostream_iterator<int>(cerr, \" \") ); cerr << endl; }\n#define dvec(v) if (opt_debug) { copy( ALL(v), ostream_iterator<int>(cerr, \" \") ); cerr << endl; }\n#define darr2(a) if (opt_debug) { FOR(__i, 0, (arrsz(a))){ darr( (a)[__i] ); } }\n#define dvec2(v) if (opt_debug) { FOR(__i, 0, v.size()){ dvec( (v)[__i] ); } }\n#define WAIT() if (opt_debug) { string _wait_; cerr << \"(hit return to continue)\" << endl; getline(cin, _wait_); }\n#define dump(x) if (opt_debug) { cerr << \" [L\" << __LINE__ << \"] \" << #x << \" = \" << (x) << endl; }\n#define dumpf() if (opt_debug) { cerr << __PRETTY_FUNCTION__ << endl; }\n#define dumpv(x) if (opt_debug) { cerr << \" [L:\" << __LINE__ << \"] \" << #x << \" = \"; REP(q, (x).size()) cerr << (x)[q] << \" \"; cerr << endl; }\n#define where() if (opt_debug) { cerr << __FILE__ << \": \" << __PRETTY_FUNCTION__ << \" [L: \" << __LINE__ << \"]\" << endl; }\n#define show_bits(b, s) if(opt_debug) { REP(i, s) { cerr << BITOF(b, s-1-i); if(i%4 == 3) cerr << ' '; } cerr << endl; }\ntemplate<typename T1, typename T2> ostream& operator<<(ostream& s, const pair<T1, T2>& d) {return s << \"(\" << d.first << \", \" << d.second << \")\";}\ntemplate<typename T> ostream& operator<<(ostream& s, const complex<T>& d) {return s << \"(\" << d.real() << \", \" << d.imag() << \")\";}\n// }}}\n// }}}\n// time {{{\ninline double now(){ struct timeval tv; gettimeofday(&tv, NULL); return (static_cast<double>(tv.tv_sec) + static_cast<double>(tv.tv_usec) * 1e-6); }\n// }}}\n// string manipulation {{{\ninline VS split(string s, char delimiter) { VS v; string t; REP(i, s.length()) { if(s[i] == delimiter) v.PB(t), t = \"\"; else t += s[i]; } v.PB(t); return v; }\ninline string join(VS s, string j) { string t; REP(i, s.size()) { t += s[i] + j; } return t; }\n// }}}\n// geometry {{{\n#define Y real()\n#define X imag()\n// }}}\n// 2 dimentional array {{{\nP dydx4[4] = { P(-1, 0), P(0, 1), P(1, 0), P(0, -1) };\nP dydx8[8] = { P(-1, 0), P(0, 1), P(1, 0), P(0, -1), P(-1, 1), P(1, 1), P(1, -1), P(-1, -1) };\nint g_height, g_width;\nbool in_field(P p) {\n\treturn (0 <= p.Y && p.Y < g_height) && (0 <= p.X && p.X < g_width);\n}\n// }}}\n// }}}\nbool opt_debug = false;\n\nint main(int argc, char** argv) {\n\tstd::ios_base::sync_with_stdio(false);\n\t// set options {{{\n\tint __c;\n\twhile ( (__c = getopt(argc, argv, \"d\")) != -1 ) {\n\t\tswitch (__c) {\n\t\t\tcase 'd':\n\t\t\t\topt_debug = true;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tabort();\n\t\t}\n\t}\n\t// }}}\n\n\tint N;\n\twhile (cin >> N, N) {\n\t\tVS data(N);\n\t\tREP (i, N) {\n\t\t\tcin >> data[i];\n\t\t}\n\n\t\tbool impossible  = false;\n\t\tint lower = 10e-9 - 1;\n\t\tint upper = 10e9 + 1;\n\t\tREP (i, N) {\n\t\t\tif (data[i] != \"x\") {\n\t\t\t\tif (i - 1 >= 0 && data[i-1] != \"x\") {\n\t\t\t\t\tif (i % 2 == 0) {\n\t\t\t\t\t\tif ( !(stoi(data[i-1]) > stoi(data[i])) ) {\n\t\t\t\t\t\t\timpossible = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif ( !(stoi(data[i-1]) < stoi(data[i])) ) {\n\t\t\t\t\t\t\timpossible = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif ((i - 1 >= 0 && data[i-1] == \"x\")\n\t\t\t\t\t|| (i + 1 < N && data[i+1] == \"x\")) {\n\t\t\t\t// impossible\n\t\t\t\tupper = 0;\n\t\t\t\tlower = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tdump(i);\n\t\t\tif (i % 2 == 0) {\n\t\t\t\tif (i - 1 >= 0 && data[i-1] != \"x\") {\n\t\t\t\t\tdump(data[i-1]);\n\t\t\t\t\tupper = min(upper, stoi(data[i-1]));\n\t\t\t\t}\n\t\t\t\tif (i + 1 < N && data[i+1] != \"x\") {\n\t\t\t\t\tdump(data[i+1]);\n\t\t\t\t\tupper = min(upper, stoi(data[i+1]));\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (i - 1 >= 0 && data[i-1] != \"x\") {\n\t\t\t\t\tdump(data[i-1]);\n\t\t\t\t\tlower = max(lower, stoi(data[i-1]));\n\t\t\t\t}\n\t\t\t\tif (i + 1 < N && data[i+1] != \"x\") {\n\t\t\t\t\tdump(data[i+1]);\n\t\t\t\t\tlower = max(lower, stoi(data[i+1]));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tdump(upper);\n\t\t\tdump(lower);\n\t\t}\n\n\t\tdump(upper);\n\t\tdump(lower);\n\t\tif (impossible) {\n\t\t\tcout << \"none\" << endl;\n\t\t} else if (upper - lower > 2) {\n\t\t\tcout << \"ambiguous\" << endl;\n\t\t} else if (upper - lower == 2) {\n\t\t\tcout << upper - 1 << endl;\n\t\t} else {\n\t\t\tcout << \"none\" << endl;\n\t\t}\n\t}\n\n\treturn 0;\n}\n\n// vim: foldmethod=marker"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\nusing namespace std;\n\nint main(){\n    int N;\n    while(cin>>N,N){\n        vector<int> A(N);\n        for(auto &a:A){\n            string s;\n            cin>>s;\n            if(s==\"x\"){\n                a=2000000000;\n            }else{\n                a=stoi(s);\n            }\n        }\n        int up=1000000100;\n        int lo=-1000000100;\n        for(int i=0;i<N;i++){\n            if(A[i]==2000000000){\n                if(i%2==0){\n                    if(i-1>=0) up=min(up,A[i-1]);\n                    if(i+1<N) up=min(up,A[i+1]);\n                }else{\n                    if(i-1>=0) lo=max(lo,A[i-1]);\n                    if(i+1<N) lo=max(lo,A[i+1]);\n                }\n            }else{\n                if(i%2==0){\n                    if(i-1>=0&&A[i-1]!=2000000000&&A[i]>A[i-1]){\n                        lo=1000000100;\n                        up=-1000000100;\n                        // cout<<'A'<<endl;\n                        break;\n                    }\n                    if(i+1<N&&A[i+1]!=2000000000&&A[i]>A[i+1]){\n                        lo=1000000100;\n                        up=-1000000100;\n                        // cout<<'B'<<endl;\n                        break;\n                    }\n                }else{\n                    if(i-1>=0&&A[i-1]!=2000000000&&A[i]<A[i-1]){\n                        lo=1000000100;\n                        up=-1000000100;\n                        // cout<<'C'<<endl;\n                        break;\n                    }\n                    if(i+1<N&&A[i+1]!=2000000000&&A[i]<A[i+1]){\n                        lo=1000000100;\n                        up=-1000000100;\n                        // cout<<'D'<<endl;\n                        break;\n                    }\n                }\n            }\n        }\n        // cout<<up<<' '<<lo<<endl;\n        if(up-lo<2){\n            cout<<\"none\"<<endl;\n        }else if(up-lo==2){\n            cout<<lo+1<<endl;\n        }else{\n            cout<<\"ambigious\"<<endl;\n        }\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define fi first\n#define se second\n#define mp make_pair\n#define pb push_back\n#define all(x) x.begin(),x.end()\n#define dbg(x) cout<<#x<<\":\"<<x<<endl\ntypedef long long ll;\ntypedef pair<ll,ll> P;\ntypedef pair<ll,P> PP;\n\nint main(){\n  int n;\n  while(1){\n  cin>>n;\n  if(n==0)break;\n  int a[1111];\n  const int INF=1e9+3;\n  a[0]=INF-1;\n  a[n+1]=((n+1)%2?-INF+1:INF-1);\n  for(int i=1;i<=n;i++){\n    string s;\n    cin>>s;\n    if(s==\"x\"){\n\t a[i]=INF;\n\t continue;\n    }\n    a[i]=stoi(s);\n  }\n\n  int flag=1;\n  int mi=INF,ma=-INF;\n  for(int i=1;i<=n;i++){\n    if(a[i-1]==INF&&a[i]==INF)flag=0;\n    if(i%2){\n\t if(a[i]==INF){\n\t   mi=min({a[i-1],a[i+1],mi});\n\t }else{\n\t   if(a[i-1]!=INF&&a[i-1]<a[i])flag=0;\n\t   if(a[i+1]!=INF&&a[i+1]<a[i])flag=0;\n\t }\n    }else{\n\t if(a[i]==INF){\n\t   ma=max({a[i-1],a[i+1],ma});\n\t }else{\n\t   if(a[i-1]!=INF&&a[i-1]>a[i])flag=0;\n\t   if(a[i+1]!=INF&&a[i+1]>a[i])flag=0;\n\t }\n    }\n  }\n  ma++,mi--;\n  if(ma==mi)cout<<ma<<endl;\n  else if(flag&&mi>ma)cout<<\"ambiguous\"<<endl;\n  else cout<<\"none\"<<endl;\n}\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n\n#define REP(i,n) for(ll i=0;i<n;++i)\n#define RREP(i,n) for(ll i=n-1;i>=0;--i)\n#define FOR(i,m,n) for(ll i=m;i<n;++i)\n#define RFOR(i,m,n) for(ll i=n-1;i>=m;--i)\n#define ALL(v) (v).begin(),(v).end()\n#define PB(a) push_back(a)\n#define UNIQUE(v) v.erase(unique(ALL(v)),v.end());\n#define DUMP(v) REP(i, (v).size()) { cout << v[i]; if (i != v.size() - 1)cout << \" \"; else cout << endl; }\n#define INF 1000000001ll\n#define MOD 1000000007ll\n#define EPS 1e-9\n\nconst int dx[8] = { 1,1,0,-1,-1,-1,0,1 };\nconst int dy[8] = { 0,1,1,1,0,-1,-1,-1 };\n\n\nusing namespace std;\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<ll> vl;\ntypedef vector<vi> vvi;\ntypedef vector<vl> vvl;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\nll max(ll a, int b) { return max(a, ll(b)); }\nll max(int a, ll b) { return max(ll(a), b); }\n///(?´????????`)(?´????????`)(?´????????`)(?´????????`)(?´????????`)(?´????????`)///\nint main() {\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\twhile (1) {\n\t\tint n;\n\t\tcin >> n;\n\t\tif (!n)break;\n\t\tvi v(n);\n\t\tREP(i, n) {\n\t\t\tstring s;\n\t\t\tcin >> s;\n\t\t\tif (s[0] != 'x')v[i] = stoi(s);\n\t\t\telse v[i] = 2 * INF;\n\t\t}\n\t\tint flag = 1;\n\t\tREP(i, n - 1) {\n\t\t\tif (flag) {\n\t\t\t\tif (v[i] == 2 * INF&&v[i + 1] == 2 * INF) {\n\t\t\t\t\tcout << \"none\" << endl;\n\t\t\t\t\tflag = 0;\n\t\t\t\t}\n\t\t\t\telse if (v[i] != 2 * INF&&v[i + 1] != 2 * INF) {\n\t\t\t\t\tif (i % 2 == 0 && v[i] >= v[i + 1]) {\n\t\t\t\t\t\tcout << \"none\" << endl;\n\t\t\t\t\t\tflag = 0;\n\t\t\t\t\t}\n\t\t\t\t\telse if (i % 2 == 1 && v[i] <= v[i + 1]) {\n\t\t\t\t\t\tcout << \"none\" << endl;\n\t\t\t\t\t\tflag = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (flag) {\n\t\t\tint u = INF+1, l = -INF-1;\n\t\t\tREP(i, n) {\n\t\t\t\tif (v[i] == 2 * INF) {\n\t\t\t\t\tif (i % 2 == 0) {\n\t\t\t\t\t\tif (i != 0)u = min(u, v[i - 1] - 1);\n\t\t\t\t\t\tif (i != n - 1)u = min(u, v[i + 1] - 1);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tl = max(l, v[i - 1] + 1);\n\t\t\t\t\t\tif (i != n - 1)l = max(l, v[i + 1] + 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (u == l)cout << u << endl;\n\t\t\telse if (l < u)cout << \"ambigous\" << endl;\n\t\t\telse cout << \"none\" << endl;\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nint main(){\n\n    while(1){\n        int n; cin >> n;\n        if(!n) break;\n\n        string a[1002];\n        int b[1002];\n        for(int i = 0; i < n; i++){\n            cin >> a[i];\n            if(a[i][0] != 'x') b[i] = stoi(a[i]);\n        }\n\n        int u = 1000000002;\n        int d = -1000000002;\n\n        bool flag = true;\n        \n        //ｘ二個並んでないかのチェック\n        for(int i = 0; i < n - 1; i++){\n            if(a[i][0] == 'x' && a[i + 1][0] == 'x'){\n                flag = false;\n                break;\n            }\n        }\n\n        if(!flag){\n            cout << \"none\" << endl;\n            continue;\n        }\n\n        for(int i = 0; i < n; i++){\n            if(i == 0){\n                if(a[0][0] == 'x') u = b[1] - 1;\n                else{\n                    if(a[1][0] != 'x'){\n                        if(b[1] < b[0]){\n                            //cout << a[1] << endl;\n                            flag = false;\n                            break;\n                        }\n                    }\n                }\n            }else if(i == n - 1){\n                if(a[i][0] == 'x'){\n                    if(i % 2 == 0){\n                        u = min(u + 1, b[i - 1]) - 1;\n                    }else{\n                        //cout << 3 << endl;\n                        d = max(d - 1, b[i - 1]) + 1;\n                    }\n                }else{\n                    if(a[i - 1][0] == 'x'){}\n                    else if(i % 2 == 0 && b[i] > b[i - 1]){\n                        flag = false;\n                        break;\n                    }else if(i % 2 == 1 && b[i] < b[i - 1]){\n                        flag = false;\n                        break;\n                    }\n                }\n            }else{\n\n                if(a[i][0] == 'x'){\n\n                    if(i % 2 == 0) u = min(u + 1, min(b[i - 1], b[i + 1])) - 1;\n                    else d = max(d - 1, max(b[i - 1], b[i + 1])) + 1;\n                }else{\n\n                    if(i % 2 == 0){\n                        if(a[i - 1][0] != 'x' && b[i - 1] < b[i]){\n                            flag = false;\n                            break;\n                        }\n                        if(a[i + 1][0] != 'x' && b[i + 1] < b[i]){\n                            flag = false;\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n\n        //cout << u << \" \" << d << endl;\n        if(!flag || u < d) cout << \"none\" << endl;\n        else if(u == d) cout << u << endl;\n        else cout << \"ambiguous\" << endl;\n    }\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdlib>\n#include<cstring>\n#include<algorithm>\n#define MAX 1e9+10\nusing namespace std;\n\nint main(){\n  int n;\n  while(cin>>n,n){\n    bool flag=false;\n    string signal[1000];\n    cin>>signal[0];\n    for(int i=1;i<n;i++){\n      cin>>signal[i];\n      if(signal[i-1]==\"x\" && signal[i]==\"x\")flag=true;\n      if(signal[i-1]==\"x\" || signal[i]==\"x\")continue;\n      if(i%2){\n\tif(atoi(signal[i-1].c_str())>atoi(signal[i].c_str()))flag=true;\n      }else{\n\tif(atoi(signal[i-1].c_str())<atoi(signal[i].c_str()))flag=true;\n      }\n    }\n    if(flag){\n      cout << \"none\" << endl;\n      continue;\n    }\n    int mx=MAX,mm=-(MAX);\n    if(signal[0]==\"x\")\n      mx=atoi(signal[1].c_str());\n    if(signal[n-1]==\"x\"){\n      if(n%2)\n\tmx=atoi(signal[n-2].c_str());\n      else\n\tmm=atoi(signal[n-2].c_str());\n    }\n    for(int i=1;i<n-1;i++){\n      if(signal[i]!=\"x\")continue;\n      int prev,next;\n      prev=atoi(signal[i-1].c_str());\n      next=atoi(signal[i+1].c_str());\n      if(i%2)\n\tmm=max(mm,max(prev,next));\n      else\n\tmx=min(mx,min(prev,next));\n      \n      //cout << \"prev:\" << prev << \" next:\" << next << endl;\n    }\n    //cout << \"mx:\" << mx << \" mm:\" << mm << endl;\n    int border=abs(mx-mm);\n    if(border==2)\n      cout << border+1 << endl;\n    else if(border>2)\n      cout << \"ambiguous\" << endl;\n    else\n      cout << \"none\" << endl;\n  }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <cstdlib>\n#define INF -2000000000\nusing namespace std;\nvector <int> s;\nint check(int x){\n  for(int i=1;i<s.size()-1;i++){\n    int ima = s[i],nx = s[i+1],mae = s[i-1];\n    if(ima == INF) ima = x;\n    if(nx == INF) nx = x;\n    if(mae == INF) mae = x;\n    \n    if(i%2 == 0 && (ima >= mae || ima>= nx)) \n      if(s[i] == INF)return -1;\n      else return 1;\n\n    else if(i%2==1 &&(mae >= ima||nx >= ima)) \n      if(s[i] == INF)  return 1;\n      else return -1;\n  }\n\n  if(s.size() == 2) {\n    int ima = s[0],nx = s[1];\n    if(s[0] == INF) ima = x;\n    if(s[1] == INF) nx  = x;\n    if(ima >= nx) \n      if(s[0] == INF) return -1;\n      else return 1;\n  }\n  return 0;\n}\n\nint main() {\n  while(1){\n    int n;\n    cin >> n;\n    if(n == 0) break;\n    s.clear();\n    for(int i=0;i<n;i++) {\n      string str;\n      cin >> str;\n      if(str == \"x\") s.push_back(INF);\n      else s.push_back(atoi(str));\n    }\n  \n    int R = 1000000010,L=-1000000011,M,ans = INF,cnt = 0;\n    while(L < R) {\n      cnt ++;\n      int t = M;\n      M = (L+R)/2;\n      if(M == t) L--,R++,M=(L+R)/2;\n      if(cnt > 35) break;\n      int res = check(M);\n      if(res == -1) R = M;\n      else if(res == 1) L=M+1;\n      else if(res == 0) {\n\tans = M;\n\tbreak;\n      }\n    }\n\n    if(ans == INF) cout << \"none\"<<endl;\n    else if(check(ans+1) == 0 || check(ans-1) == 0) cout << \"ambiguous\"<<endl;\n    else cout << ans <<endl;\n  }\n  return 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<cstdio>\n#include<cstdlib>\n#include<cstring>\n#include<cmath>\n#include<iostream>\n#include<sstream>\n#include<utility>\n#include<map>\n#include<vector>\n#include<queue>\n#include<algorithm>\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int>P;\n#define NON 0x7fffffff\n\nint N,S[1005],m,M;\nchar s[20000],*p;\nvector<int>pos;\n\nint solve()\n{\n\tpos.clear();\n\tfor(int i=0;i<=N+1;i++)S[i]=NON*(i%2?-1:1);\n\tm=-NON,M=NON;\n\tint i=1;\n\tp=strtok(s,\" \");\n\tdo\n\t{\n\t\tif(strcmp(p,\"x\")==0)\n\t\t\tpos.push_back(i);\n\t\telse\n\t\t\tS[i]=atoi(p);\n\t\ti++;\n\t}while((p=strtok(NULL,\" \"))!=NULL);\n\n\tint f=0;\n\tfor(int i=0,e=pos.size();i<e-1;i++)//x x?\n\t\tif(pos[i]+1==pos[i+1])\n\t\t\treturn -NON;\n\tif(pos.size()==0)\n\t{\n\t\tfor(int i=1;i<=N;i++)\n\t\t{\n\t\t\tif(i%2&&S[i]<S[i-1]&&S[i]<S[i+1])continue;\n\t\t\telse if(S[i]>S[i-1]&&S[i]>S[i+1])continue;\n\t\t\telse return -NON;\n\t\t}\n\t\treturn NON;\n\t}\n\n\tfor(int i=0;i<pos.size();i++)\n\t{\n\t\tif(pos[i]%2)M=min(M,min(S[pos[i]-1],S[pos[i]+1])-1);\n\t\telse m=max(m,max(S[pos[i]-1],S[pos[i]+1])+1);\n\t}\n\tif(M<m)return -NON;\n\telse if(M==m)return m;\n\treturn NON;\n}\n\nint main()\n{\n\tfor(;scanf(\"%d\\n\",&N),N;)\n\t{\n\t\tgets(s);\n\t\tint r=solve();\n\t\tif(r==NON)puts(\"ambiguous\");\n\t\telse if(r==-NON)puts(\"none\");\n\t\telse printf(\"%d\\n\",r);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <cstdlib>\n#define INF -2000000000\nusing namespace std;\nvector <int> s;\nint check(int x){\n  for(int i=1;i<s.size()-1;i++){\n    int ima = s[i],nx = s[i+1],mae = s[i-1];\n    if(ima == INF) ima = x;\n    if(nx == INF) nx = x;\n    if(mae == INF) mae = x;\n    \n    if(i%2 == 0 && (ima >= mae || ima>= nx)) \n      if(s[i] == INF)return -1;\n      else return 1;\n\n    else if(i%2==1 &&(mae >= ima||nx >= ima)) \n      if(s[i] == INF)  return 1;\n      else return -1;\n  }\n\n  if(s.size() == 2) {\n    int ima = s[0],nx = s[1];\n    if(s[0] == INF) ima = x;\n    if(s[1] == INF) nx  = x;\n    if(ima >= nx) \n      if(s[0] == INF) return -1;\n      else return 1;\n  }\n  return 0;\n}\n\nint main() {\n  while(1){\n    int n;\n    cin >> n;\n    if(n == 0) break;\n    s.clear();\n    for(int i=0;i<n;i++) {\n      string str;\n      cin >> str;\n      if(str == \"x\") s.push_back(INF);\n      else s.push_back(stoi(str));\n    }\n  \n    int R = 1000000010,L=-1000000011,M,ans = INF,cnt = 0;\n    while(L < R) {\n      cnt ++;\n      int t = M;\n      M = (L+R)/2;\n      if(M == t) L--,R++,M=(L+R)/2;\n      if(cnt > 35) break;\n      int res = check(M);\n      if(res == -1) R = M;\n      else if(res == 1) L=M+1;\n      else if(res == 0) {\n\tans = M;\n\tbreak;\n      }\n    }\n\n    if(ans == INF) cout << \"none\"<<endl;\n    else if(check(ans+1) == 0 || check(ans-1) == 0) cout << \"ambiguous\"<<endl;\n    else cout << ans <<endl;\n  }\n  return 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<string>\n#define INF 1145141919\nusing namespace std;\nint a[1010];\nvoid In(int x){\n\tstring s;cin>>s;\n\tif(s==\"x\")a[x]=INF;\n\telse{\n\t\tint cnt=0;\n\t\tfor(int i=0;i<s.size();i++)cnt*=10,cnt+=s[i]-'0';\n\t\ta[x]=cnt;\n\t}\n}\nint main(){\n\tint n;\n\twhile(cin>>n&&n){\n\tfor(int i=0;i<n;i++)In(i);\n\tbool ok=true;int left=-INF,right=INF;\n\tfor(int i=0;i<n-1;i++){\n\t\tif(a[i]==INF&&a[i+1]==INF)ok=false;\n\t\tif(a[i]!=INF&&a[i+1]!=INF){\n\t\t\tif(i%2==0)if(a[i]>=a[i+1])ok=false;\n\t\t\tif(i%2==1)if(a[i]<=a[i+1])ok=false;\n\t\t}\n\t\tif(a[i]==INF&&a[i+1]!=INF){\n\t\t\tif(i%2==0)right=min(right,a[i+1]-1);\n\t\t\tif(i%2==1)left=max(left,a[i+1]+1);\n\t\t}\n\t\tif(a[i]!=INF&&a[i+1]==INF){\n\t\t\tif(i%2==0)left=max(left,a[i]+1);\n\t\t\tif(i%2==1)right=min(right,a[i]-1);\n\t\t}\n\t}\n\tif(!ok||right<left)cout<<\"none\"<<endl;\n\telse if(right==left)cout<<right<<endl;\n\telse cout<<\"ambiguous\"<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<string>\n#include<cstdlib>\n#define inf 1000000002\nusing namespace std;\n\nint main()\n{\n  int ma,mi,N;\n  vector<string> S;\n  string s;\n  while(1){\n    cin>>N;\n    if(N==0)break;\n    S.clear();\n    S.push_back(\"1000000002\");\n    for(int i=0;i<N;i++){\n      cin>>s;\n      S.push_back(s);\n    }\n\n    ma=inf;mi=(-1)*inf;\n    for(int i=1;i<N+1;i++){\n      if(S[i]==\"x\"){\n       \tif(S[i-1]==\"x\"){\n\t  ma=(-1)*inf;mi=inf;\n\t  break;\n\t  }\n\tif(i%2==0){\n\t  mi=max(mi,atoi(S[i-1].c_str())+1);\n\t}\n\tif(i%2==1){\n\t  ma=min(ma,atoi(S[i-1].c_str())-1);\n\t}\n      }\n      else {\n\tif(S[i-1]==\"x\"){\n\t  if(i%2==0){\n\t    ma=min(ma,atoi(S[i].c_str())-1);\n\t  }\n\t  if(i%2==1){\n\t    mi=max(mi,atoi(S[i].c_str())+1);\n\t  }\n\t}\n\telse {\n\t  if(i%2==0){\n            if(atoi(S[i].c_str())<atoi(S[i-1].c_str())){\n\t      ma=(-1)*inf;mi=inf;\n\t      break;\n\t    }\n\t  }\n\t  if(i%2==1){\n\t    if(atoi(S[i].c_str())>atoi(S[i-1].c_str())){\n\t      ma=(-1)*inf;mi=inf;\n\t      break;\n\t    }\n\t  }\n\t}\n      }\n    }\n    if(ma==mi)cout<<ma<<endl;\n    else if(ma<mi)cout<<\"none\"<<endl;\n    else cout<<\"ambiguous\"<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntemplate<class T>\nbool chmax(T& a, const T& b) {\n    if (a < b) { a = b; return true; }\n    return false;\n}\ntemplate<class T>\nbool chmin(T& a, const T& b) {\n    if (b < a) { a = b; return true; }\n    return false;\n}\n\n// std::vector Declaration\ntemplate<typename T>\nvector<T> make_v(size_t a) { return vector<T>(a); }\ntemplate<typename T, typename... Ts>\nauto make_v(size_t a, Ts... ts) {\n    return vector<decltype(make_v<T>(ts...))>(a, make_v<T>(ts...));\n}\n\n// std::vector Declaration and Initialization\ntemplate<typename T>\nvector<T> make_vector(size_t a, T x) { return vector<T>(a, x); }\ntemplate<typename T, typename U, typename... Ts>\nauto make_vector(size_t a, U b, Ts... ts) {\n    return vector<decltype(make_vector<T>(b,ts...))>(a, make_vector<T>(b, ts...));\n}\n\n// std::vector Input\ntemplate<typename T>\nistream& operator>>(istream& is, vector<T>& v) {\n    for (auto &e : v) is >> e;\n    return is;\n}\n\n// std::vector Debug\ntemplate<typename T>\nostream& operator<<(ostream& os, const vector<T>& v) {\n    os << \"[\";\n    bool a = 1;\n    for (auto e : v) {\n        os << (a ? \"\" : \" \");\n        os << e;\n        a = 0;\n    }\n    os << \"]\";\n    return os;\n}\n\n// std::array Debug\ntemplate<typename T, size_t n>\nostream& operator<<(ostream& os, const array<T, n>& v) {\n    os << \"[\";\n    bool a = 1;\n    for (auto e : v) {\n        os << (a ? \"\" : \" \");\n        os << e;\n        a = 0;\n    }\n    os << \"]\";\n    return os;\n}\n\n// std::deque Debug\ntemplate<typename T>\nostream& operator<<(ostream& os, const deque<T>& d) {\n    os << \"[\";\n    bool a = 1;\n    for (auto e : d) {\n        os << (a ? \"\" : \" \");\n        os << e;\n        a = 0;\n    }\n    os << \"]\";\n    return os;\n}\n\n// std::pair Debug\ntemplate<typename T, typename U>\nostream& operator<<(ostream& os, const pair<T, U>& p) {\n    os << \"(\" << p.first << \" \" << p.second << \")\";\n    return os;\n}\n\n// std::set Debug\ntemplate<typename T>\nostream& operator<<(ostream& os, const set<T>& st) {\n    os << \"{\";\n    bool a = 1;\n    for (auto e : st) {\n        os << (a ? \"\" : \" \");\n        os << e;\n        a = 0;\n    }\n    os << \"}\";\n    return os;\n}\n\n// std::multiset Debug\ntemplate<typename T>\nostream& operator<<(ostream& os, const multiset<T>& st) {\n    os << \"{\";\n    bool a = 1;\n    for (auto e : st) {\n        os << (a ? \"\" : \" \");\n        os << e;\n        a = 0;\n    }\n    os << \"}\";\n    return os;\n}\n\n// std::map Debug\ntemplate<typename T, typename U>\nostream& operator<<(ostream& os, const map<T, U>& mp) {\n    os << \"{\";\n    bool a = 1;\n    for (auto e : mp) {\n        os << (a ? \"\" : \" \");\n        os << e.first << \":\" << e.second;\n        a = 0;\n    }\n    os << \"}\";\n    return os;\n}\n\n// std::tuple Debug\ntemplate<int N, class Tuple>\nvoid out(ostream& os, const Tuple& t){}\ntemplate<int N, class Tuple, class H, class ...Ts>\nvoid out(ostream& os, const Tuple& t) {\n    if (N) os << \" \";\n    os << get<N>(t);\n    out<N+1,Tuple,Ts...>(os, t);\n}\ntemplate<class ...Ts>\nostream& operator<<(ostream& os, const tuple<Ts...>& t) {\n    os << \"(\";\n    out<0,tuple<Ts...>,Ts...>(os, t);\n    os << \")\";\n    return os;\n}\n\n// Debug\n#define DUMP(x) cerr<<#x<<\" = \"<<(x)<<endl\n\n// Weighted edge\ntemplate<typename T>\nstruct edge {\n    int src, to;\n    T cost;\n\n    edge() {}\n    edge(int to, T cost) : src(-1), to(to), cost(cost) {}\n    edge(int src, int to, T cost) : src(src), to(to), cost(cost) {}\n\n    friend ostream& operator<<(ostream& os, const edge& e) {\n        return os << \"(\" << e.src << \"->\" << e.to << \":\" << e.cost << \")\";\n    }\n};\n\nusing LL = long long;\n\n#define fs first\n#define sc second\n\nconst LL MOD = 1e9+7;\n\nconst int XXX = 1e9+1;\n\nstring solve(const vector<int>& a)\n{\n    int n = a.size();\n\n    for (int i = 0; i < n-1; ++i) {\n        if (a[i] == XXX && a[i+1] == XXX) {\n            return \"none\";\n        }\n    }\n\n    for (int i = 0; i < n-1; ++i) if (a[i] != XXX && a[i+1] != XXX) {\n        if (i & 1) {\n            if (a[i] <= a[i+1]) return \"none\";\n        } else {\n            if (a[i] >= a[i+1]) return \"none\";\n        }\n    }\n\n    int mi = -1e9-2, ma = 1e9+2;\n    for (int i = 0; i < n; ++i) if (a[i] == XXX) {\n        if (i & 1) {\n            if (i-1 >= 0) chmax(mi, a[i-1]+1);\n            if (i+1 < n)  chmax(mi, a[i+1]+1);\n        }\n        else {\n            if (i-1 >= 0) chmin(ma, a[i-1]-1);\n            if (i+1 < n)  chmin(ma, a[i+1]-1);\n        }\n    }\n\n    if (mi == ma) {\n        return to_string(mi);\n    } else if (mi < ma) {\n        return \"ambiguous\";\n    } else {\n        return \"none\";\n    }\n}\n\nint main()\n{\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    cout << fixed << setprecision(10);\n\n    while (true) {\n        int n; cin >> n;\n        if (n == 0) {\n            break;\n        }\n\n        vector<int> a(n);\n        for (int i = 0; i < n; ++i) {\n            string s; cin >> s;\n            a[i] = (s == \"x\" ? XXX : stoi(s));\n        }\n\n        cout << solve(a) << endl;\n    }\n\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<vector>\n#include<cstdio>\n#include<sstream>\n#include<algorithm>\n#include<cmath>\n#include<map>\n#include<functional>\nusing namespace std;\nint stoi(string x){stringstream ss;ss<<x;int tmp;ss>>tmp;return tmp;}\nstring itos(int x){stringstream ss;ss<<x;return ss.str();}\nconst int INF=1111111111;\nint main(){\nint n;\nwhile(cin>>n,n){\n\tint a=-INF,b=INF;\n\tbool none_flag=0,void_flag=1,ok=1;\n\tvector<int>ta(0);\n\tfor(int i=0;i<n;i++){\n\t\tstring tmp;\n\t\tcin>>tmp;\n\t\tif(tmp==\"x\")ta.push_back(INF);\n\t\telse ta.push_back( stoi(tmp) );\n\t}\n\tfor(int i=1;i<n;i++){\n\tif(ta[i]==INF&&ta[i-1]==INF)none_flag=1;\n\tif(ta[i]==INF)void_flag=0;\n\t}\n\tfor(int i=0;i<n;i++){\n\t\tif(ta[i]==INF){\n\t\t\tint xa,xb;\n\t\t\tif((i+1)%2==0){//?\\???°\n\t\t\tif(i==0)xa=ta[1],xb=-INF;\n\t\t\telse if(i==n-1)xa=ta[n-2],xb=-INF;\n\t\t\telse xa=ta[i-1],xb=ta[i+1];\n\t\t\ta=max( a,max(xa,xb) );\n\t\t\t}\n\t\t\telse {\n\t\t\tif(i==0)xa=ta[1],xb=INF;\n\t\t\telse if(i==n-1)xa=ta[n-2],xb=INF;\n\t\t\telse xa=ta[i-1],xb=ta[i+1];\n\t\t\tb=min(b,min(xa,xb));\n\t\t\t}//endelse\n\t\t\t\n\t\t}//endif\n\t}//endfor\n\tfor(int i=0;i<n;i++){\n\tif((i+1)%2==1){\n\tif(i==0&&ta[i+1]<ta[i])ok=0;\n\telse if(i==n-1&&ta[n-2]<ta[n-1])ok=0;\n\telse if(ta[i-1]<ta[i]||ta[i+1]<ta[i])ok=0;\n\t}\n\telse {\n\tif(i==0&&ta[i+1]>ta[i])ok=0;\n\telse if(i==n-1&&ta[n-2]>ta[n-1])ok=0;\n\telse if(ta[i-1]>ta[i]||ta[i+1]>ta[i])ok=0;\n\t}\n\t}\n\tif(none_flag)cout<<\"none\"<<endl;\n\telse if(void_flag&&ok)cout<<\"ambiguous\"<<endl;\n\telse if(void_flag&&!ok)cout<<\"none\"<<endl;\n\telse {\n\tif(a+2==b)cout<<a+1<<endl;\n\telse if(b-a>2)cout<<\"ambiguous\"<<endl;\n\telse cout<<\"none\"<<endl;\n\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nint main(){\n\n    while(1){\n        int n; cin >> n;\n        if(!n) break;\n\n        string a[1002];\n        int b[1002];\n        for(int i = 0; i < n; i++){\n            cin >> a[i];\n            if(a[i][0] != 'x') b[i] = stoi(a[i]);\n        }\n\n        int u = 1000000002;\n        int d = -1000000002;\n\n        bool flag = true;\n        \n        //ｘ二個並んでないかのチェック\n        for(int i = 0; i < n - 1; i++){\n            if(a[i][0] == 'x' && a[i + 1][0] == 'x'){\n                flag = false;\n                break;\n            }\n        }\n\n        if(!flag){\n            cout << \"none\" << endl;\n            continue;\n        }\n\n        for(int i = 0; i < n; i++){\n            if(i == 0){\n                if(a[0][0] == 'x') u = b[1] - 1;\n                else{\n                    if(a[1][0] != 'x'){\n                        if(b[1] < b[0]){\n                            //cout << a[1] << endl;\n                            flag = false;\n                            break;\n                        }\n                    }\n                }\n            }else if(i == n - 1){\n                if(a[i][0] == 'x'){\n                    if(i % 2 == 0){\n                        u = min(u + 1, b[i - 1]) - 1;\n                    }else{\n                        //cout << 3 << endl;\n                        d = max(d - 1, b[i - 1]) + 1;\n                    }\n                }else{\n                    if(a[i - 1][0] == 'x'){}\n                    else if(i % 2 == 0 && b[i] > b[i - 1]){\n                        flag = false;\n                        break;\n                    }else if(i % 2 == 1 && b[i] < b[i - 1]){\n                        flag = false;\n                        break;\n                    }\n                }\n            }else{\n\n                if(a[i][0] == 'x'){\n\n                    if(i % 2 == 0) u = min(u + 1, min(b[i - 1], b[i + 1])) - 1;\n                    else d = max(d - 1, max(b[i - 1], b[i + 1])) + 1;\n                }else{\n\n                    if(i % 2 == 0){\n                        if(a[i - 1][0] != 'x' && b[i - 1] < b[i]){\n                            flag = false;\n                            break;\n                        }\n                        if(a[i + 1][0] != 'x' && b[i + 1] < b[i]){\n                            flag = false;\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n\n        //cout << u << \" \" << d << endl;\n        if(!flag || u < d) cout << \"none\" << endl;\n        else if(u == d) cout << u << endl;\n        else cout << \"ambiguous\" << endl;\n    }\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define REP(i,n) for(int i=0;i<(n);i++)\n#define ALL(v) (v).begin(),(v).end()\n#define fir first\n#define sec second\n#define PB push_back\n#define MP make_pair\n#define ll long long\nusing namespace std;\nint c[1100];\nint v[1100];\nint main(){\n    int n;\n    while(1){\n        cin>>n;\n        if(n==0)break;\n        REP(i,1100)v[i]=c[i]=0;\n        REP(i,n){\n            string s;\n            cin>>s;\n            if(s==\"x\")c[i]=1;\n            else{\n                REP(j,s.size()){\n                    if(s[j]=='-')continue;\n                    v[i]*=10;v[i]+=s[j]-'0';\n                }\n            }\n        }\n        int l=-1e9,r=1e9;\n        REP(i,n){\n            if(c[i]){\n                if(i%2==0){\n                    if(i>0){\n                        if(c[i-1])l=1e9,r=-1e9;\n                        else r=min(r,v[i-1]-1);\n                    }\n                    if(i<n-1){\n                        if(c[i+1])l=1e9,r=-1e9;\n                        else r=min(r,v[i+1]-1);\n                    }\n                }else{\n                    if(i>0){\n                        if(c[i-1])l=1e9,r=-1e9;\n                        else l=max(l,v[i-1]+1);\n                    }\n                    if(i<n-1){\n                        if(c[i+1])l=1e9,r=-1e9;\n                        else l=max(l,v[i+1]+1);\n                    }\n                }\n            }else{\n                if(i%2==0){\n                    if(i>0&&!c[i-1]&&v[i]>=v[i-1])l=1e9,r=-1e9;\n                    if(i<n-1&&!c[i+1]&&v[i]>=v[i+1])l=1e9,r=-1e9;\n                }else{\n                    if(i>0&&!c[i-1]&&v[i]<=v[i-1])l=1e9,r=-1e9;\n                    if(i<n-1&&!c[i+1]&&v[i]>=v[i+1])l=1e9,r=-1e9;\n                }\n            }\n        }\n        if(r==l)cout<<r<<endl;\n        else if(l<r)cout<<\"ambiguous\"<<endl;\n        else cout<<\"none\"<<endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <climits>\n#include <sstream>\n#include <vector>\n\nusing namespace std;\n\nint to_i(const string &s) {\n    istringstream is(s);\n    int n; is >> n;\n    return n;\n}\n\nstring to_s(int n) {\n    ostringstream os;\n    os << n;\n    return os.str();\n}\n\nint N;\nvector<int> as;\nbool input() {\n    cin >> N;\n    if (N == 0) return false;\n    as.clear(); as.resize(N);\n    for (int i = 0; i < N; i++) {\n        string s; cin >> s;\n        as[i] = s == \"x\" ? INT_MIN : to_i(s);\n    }\n    return true;\n}\n\nbool odd(int n) {\n    return n % 2 == 1;\n}\n#define even(x) (!odd(x))\n\nbool check(int x) {\n    for (int i = 0; i < as.size(); i++) {\n        vector<int> ns;\n        if (i - 1 >= 0) ns.push_back(i - 1);\n        if (i + 1 < N)  ns.push_back(i + 1);\n        for (int j = 0; j < ns.size(); j++) {\n            int a = as[i] == INT_MIN ? x : as[i];\n            int n = as[ ns[j] ] == INT_MIN ? x : as[ ns[j] ];\n            if (odd(i + 1)  && a >= n) return false;\n            if (even(i + 1) && a <= n)  return false;\n        }\n    }\n    return true;\n}\n\nbool range_check(int x) {\n    int start = -1e9, end = 1e9;\n    return (start <= x && x <= end);\n}\n\nvoid solve() {\n    int ans = INT_MIN;\n    for (int i = 0; i < N; i++) {\n        if (as[i] == INT_MIN) continue;\n        for (int d = -3; d <= 3; d += 2) {\n            if (as[i] + d == ans) continue;\n            if (check(as[i] + d)) {\n                if (ans > INT_MIN) {\n                    cout << \"ambiguous\" << endl;\n                    return;\n                }\n                ans = as[i] + d;\n            }\n        }\n    }\n    cout << (ans == INT_MIN ? \"none\" : to_s(ans)) << endl;\n}\n\nint main() {\n    while (input()) {\n        solve();\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long LL;\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<VVI> VVVI;\n\ntypedef vector<LL> VLL;\ntypedef vector<VLL> VVLL;\n\ntypedef vector<double> VD;\ntypedef vector<VD> VVD;\n\ntypedef vector<string> VS;\ntypedef vector<VS> VVS;\n\ntypedef vector<bool> VB;\ntypedef vector<VB> VVB;\n\ntypedef pair<int, int> PII;\ntypedef vector<PII> VPII;\n\n#define fst first\n#define snd second\n#define MP make_pair\n#define PB push_back\n#define EB emplace_back\n#define ALL(x) (x).begin(), (x).end()\n#define RANGE(xx,y,mx,my) (0<=(x)&&0<=(y) && (x)<(mx) && y<(my))\n#define REP(i, init, N) for(int i = (init); i < (int)(N); i++)\n\nconst int INF = 0x3f3f3f3f;\nconst int DX[]={1,0,-1,0},DY[]={0,-1,0,1};\n\ninline int fromString(const string &s) {\n    int res;\n    istringstream iss(s);\n    iss >> res;\n    return res;\n}\n\nint N;\nVI as;\n\nconst int Q = 1000 * 1000 * 1000 + 7;\n\nbool x_twice() {\n    REP(i, 0, N - 1) {\n        if (as[i] == as[i + 1]) {\n            return true;\n        }\n    }\n    return false;\n}\n\nPII solve() {\n    if (x_twice()) { return MP(2, 0); }\n\n    PII xs(-1000 * 1000 * 1000 - 3, 1000 * 1000 * 1000 + 3);\n\n    REP(i, 0, N) {\n        if (as[i] == Q) {\n            if ((i + 1) % 2) { // ?\\???°\n                if (i - 1 >= 0) {\n                    xs.snd = min(xs.snd, as[i - 1] - 1);\n                }\n                if (i + 1 <= N - 1) {\n                    xs.snd = min(xs.snd, as[i + 1] - 1);\n                }\n            } else {\n                if (i - 1 >= 0) {\n                    xs.fst = max(xs.fst, as[i - 1] + 1);\n                }\n                if (i + 1 <= N - 1) {\n                    xs.fst = max(xs.fst, as[i + 1] + 1);\n                }\n            }\n\n        } else if (i != 0) {\n            if ((i + 1) % 2) {\n                if (as[i] >= as[i - 1]) {\n                    return MP(2, 0);\n                }\n            } else {\n                if (as[i] <= as[i - 1]) {\n                    return MP(2, 0);\n                }\n            }\n        }\n\n        if (xs.fst > xs.snd) {\n            return MP(2, 0);\n        }\n    }\n\n    if (xs.fst != xs.snd) {\n        return MP(1, 0);\n    } else {\n        return MP(0, xs.fst);\n    }\n}\n\nint main(void) {\n    while (cin >> N, N) {\n        as = VI(N);\n        REP(i, 0, N) {\n            string s;\n            cin >> s;\n            if (s == \"x\") {\n                as[i] = Q;\n            } else {\n                int n = fromString(s);\n                as[i] = n;\n            }\n        }\n\n        PII ans = solve();\n        if (ans.fst == 0) {\n            cout << ans.snd << endl;\n        } else if (ans.fst == 1) {\n            cout << \"ambiguous\" << endl;\n        } else if (ans.fst == 2) {\n            cout << \"none\" << endl;\n        }\n    }\n    \n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define int long long\n#define fi first\n#define se second\n#define pb push_back\n#define sz(x) ((int)(x).size())\n#define all(x) x.begin(),x.end()\n#define dmp(x) cerr<<#x<<\":\"<<x<<endl\ntypedef pair<int,int> P;\ntypedef pair<int,P> PP; \ntemplate<typename T1,typename T2> inline void chmin(T1 &a,T2 b){if(a>b) a=b;}\ntemplate<typename T1,typename T2> inline void chmax(T1 &a,T2 b){if(a<b) a=b;}\nconst int MOD = 1e9+7;\n\nsigned main(){\n  int n;\n  while(cin>>n,n){\n    [&](){\n\t int INF=1LL<<60;\n\t vector<int> a;\n\t for(int i=0;i<n;i++){\n\t   string s;\n\t   cin>>s;\n\t   if(s==\"x\")a.pb(INF);\n\t   else a.pb(stoi(s));\n\t }\n\t int lower=-INF,upper=INF;\n\t for(int i=0;i<n;i++){\n\t   if(i>0&&a[i]==INF&&a[i-1]!=INF){\n\t\tif(i%2){\n\t\t  chmax(lower,a[i-1]+1);\n\t\t}else{\n\t\t  chmin(upper,a[i-1]-1);\n\t\t}\n\t   }\n\t   if(i<n-1&&a[i]==INF&&a[i+1]!=INF){\n\t\tif(i%2){\n\t\t  chmax(lower,a[i+1]+1);\n\t\t}else{\n\t\t  chmin(upper,a[i+1]-1);\n\t\t}\n\t   }\n\t   if(i&&a[i]!=INF&&a[i-1]!=INF){\n\t\tif(i%2&&a[i-1]>=a[i]){\n\t\t  cout<<\"none\"<<endl;\n\t\t  return;\n\t\t}\n\t\tif(i%2==0&&a[i-1]<=a[i]){\n\t\t  cout<<\"none\"<<endl;\n\t\t  return;\n\t\t}\n\t   }\n\t   if(i&&a[i-1]==INF&&a[i]==INF){\n\t\tcout<<\"none\"<<endl;\n\t\treturn;\n\t   }\n\t }\n\t //\t dmp(lower),dmp(upper);\n\t if(lower==upper)cout<<lower<<endl;\n\t else if(lower<upper)cout<<\"ambiguous\"<<endl;\n\t else cout<<\"none\"<<endl;\n    }();\n  }\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i, n) for (int i = 0; i < n; i++)\n#define INF 10000001000\n#define int long long\nusing namespace std;\nsigned main()\n{\n\tint n;\n\twhile (cin >> n, n)\n\t{\n\t\t//cout << \"--------------------------------------------\" << endl;\n\t\t//cout << n << endl;\n\t\tvector<int> vec(n + 1);\n\t\tstring s;\n\t\tint seq = 0;\n\t\tbool none_flag = false;\n\t\tbool x = false;\n\t\trep(i, n)\n\t\t{\n\t\t\tcin >> s;\n\t\t\tif (s == \"x\")\n\t\t\t{\n\t\t\t\tseq++;\n\t\t\t\tx = true;\n\t\t\t\tif ((i + 1) % 2 == 0)\n\t\t\t\t\tvec[i] = INF;\n\t\t\t\telse\n\t\t\t\t\tvec[i] = -INF;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tseq = 0;\n\t\t\t\tvec[i] = atoi(s.c_str());\n\t\t\t\tif (i > 0 && (i + 1) % 2 == 0)\n\t\t\t\t{\n\t\t\t\t\tif (vec[i] <= vec[i - 1])\n\t\t\t\t\t\tnone_flag = true;\n\t\t\t\t}\n\t\t\t\tif (i > 0 && (i + 1) % 2 == 1)\n\t\t\t\t{\n\t\t\t\t\tif (vec[i] >= vec[i - 1])\n\t\t\t\t\t\tnone_flag = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (seq > 1)\n\t\t\t\tnone_flag = true;\n\t\t\t//cout << s << \" \";\n\t\t}\n\t\t//cout << endl;\n\t\t//cout << vec[0] << \" \" << vec[1] << endl;\n\t\tif (none_flag)\n\t\t{\n\t\t\tcout << \"none\" << endl;\n\t\t\tcontinue;\n\t\t}\n\t\tif (!x)\n\t\t{\n\t\t\tcout << \"ambiguous\" << endl;\n\t\t\tcontinue;\n\t\t}\n\t\tint sup = INF, inf = -INF;\n\t\tint max_tmp, min_tmp;\n\t\trep(i, n)\n\t\t{\n\t\t\tif (vec[i] == INF || vec[i] == -INF)\n\t\t\t{\n\t\t\t\tif ((i + 1) % 2)\n\t\t\t\t{\n\t\t\t\t\tif (i == 0)\n\t\t\t\t\t\tmax_tmp = vec[i + 1];\n\t\t\t\t\telse if (i == n - 1)\n\t\t\t\t\t\tmax_tmp = vec[i - 1];\n\t\t\t\t\telse\n\t\t\t\t\t\tmax_tmp = min(vec[i + 1], vec[i - 1]);\n\t\t\t\t\tsup = min(sup, max_tmp);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif (i == 0)\n\t\t\t\t\t\tmin_tmp = vec[i + 1];\n\t\t\t\t\telse if (i == n - 1)\n\t\t\t\t\t\tmin_tmp = vec[i - 1];\n\t\t\t\t\telse\n\t\t\t\t\t\tmin_tmp = max(vec[i + 1], vec[i - 1]);\n\t\t\t\t\tinf = max(inf, min_tmp);\n\t\t\t\t}\n\t\t\t}\n\t\t\t//cout << inf << \" \" << sup << endl;\n\t\t}\n\t\tsup--;\n\t\tinf++;\n\t\t//cout << inf << \" \" << sup << endl;\n\t\tif (sup == inf)\n\t\t\tcout << sup << endl;\n\t\telse if (sup == -INF - 1 || inf == INF + 1)\n\t\t\tcout << \"ambiguous\" << endl;\n\t\telse if (inf < sup)\n\t\t\tcout << \"ambiguous\" << endl;\n\t\telse\n\t\t\tcout << \"none\" << endl;\n\t}\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#define INF 2000000000\n#define N 1002\nusing namespace std;\nvoid Bynary_Search(int,int);\nint StoI(string);\nint Judge(int);\nstring str[N];\nint n,data[N];\n\nint main(){\n  while(1){\n    cin>>n;\n    if(!n) break;\n    data[0]=INF;\n    if(n%2) data[n+1]=INF;\n    else data[n+1]=-INF;\n    for(int i=1;i<=n;i++){\n      cin>>str[i];\n      if(str[i]==\"x\") continue;\n      data[i]=StoI(str[i]);\n    }\n    Bynary_Search(-1000000003,1000000003);\n  }\n  return 0;\n}\n\nvoid Bynary_Search(int l,int r){\n  int m;\n  while(l<r-1){\n    m=(long long)(l+r)/2;\n    if(Judge(m)==-2) break;\n    else if(Judge(m)<0) l=m;\n    else if(Judge(m)>0) r=m;\n    else{\n      if(!Judge(m-1)||!Judge(m+1)){\n\tcout<<\"ambiguous\"<<endl;\n      }else cout<<m<<endl;\n      return ;\n    }\n  }\n  cout<<\"none\"<<endl;\n}\n\nint Judge(int d){\n  int judge[N];\n  judge[0]=data[0];\n  judge[n+1]=data[n+1];\n  for(int i=1;i<=n;i++){\n    if(str[i]==\"x\") judge[i]=d;\n    else judge[i]=data[i];\n  }\n  for(int i=1;i<=n;i++)\n    if(str[i]!=\"x\"&&str[i+1]!=\"x\")\n      if(((i%2)&&judge[i]>=judge[i+1])||(!(i%2)&&judge[i]<=judge[i+1])) return -2;\n  for(int i=1;i<=n;i++){\n    if(str[i]!=\"x\") continue;\n    if((i%2)&&(judge[i-1]<=judge[i]||judge[i]>=judge[i+1])) return 1;\n    if(!(i%2)&&(judge[i-1]>=judge[i]||judge[i]<=judge[i+1])) return -1;\n  }\n  return 0;\n}\n\nint StoI(string s){\n  int ret=0;\n  for(int i=0;i<s.size();i++)\n    ret=ret*10+(s[i]-'0');\n  return ret;  \n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<string>\n#define INF 1545141919\nusing namespace std;\nint a[1010];\nvoid In(int x){\n\tstring s;cin>>s;\n\tif(s==\"x\")a[x]=INF;\n\telse{\n\t\tint cnt=0;\n\t\tfor(int i=0;i<s.size();i++)cnt*=10,cnt+=s[i]-'0';\n\t\ta[x]=cnt;\n\t}\n}\nint main(){\n\tint n;\n\twhile(cin>>n&&n){\n\tfor(int i=0;i<n;i++)In(i);\n\tbool ok=true;int left=-INF,right=INF;\n\tfor(int i=0;i<n-1;i++){\n\t\tif(a[i]==INF&&a[i+1]==INF)ok=false;\n\t\tif(a[i]!=INF&&a[i+1]!=INF){\n\t\t\tif(i%2==0)if(a[i]>=a[i+1])ok=false;\n\t\t\tif(i%2==1)if(a[i]<=a[i+1])ok=false;\n\t\t}\n\t\tif(a[i]==INF&&a[i+1]!=INF){\n\t\t\tif(i%2==0)right=min(right,a[i+1]-1);\n\t\t\tif(i%2==1)left=max(left,a[i+1]+1);\n\t\t}\n\t\tif(a[i]!=INF&&a[i+1]==INF){\n\t\t\tif(i%2==0)left=max(left,a[i]+1);\n\t\t\tif(i%2==1)right=min(right,a[i]-1);\n\t\t}\n\t}\n\tif(!ok||right<left)cout<<\"none\"<<endl;\n\telse if(right==left)cout<<right<<endl;\n\telse cout<<\"ambiguous\"<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <bitset>\n#include <cctype>\n#include <complex>\n#include <cmath>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <ctime>\n#include <deque>\n#include <functional>\n#include <iomanip>\n#include <iostream>\n#include <list>\n#include <map>\n#include <numeric>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <utility>\n#include <vector>\n\nusing namespace std;\n\ninline int toInt(string s) {int v; istringstream sin(s);sin>>v;return v;}\ntemplate<class T> inline string toString(T x) {ostringstream sout;sout<<x;return sout.str();}\ntemplate<class T> inline T sqr(T x) {return x*x;}\n\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<string> vs;\ntypedef pair<int, int> pii;\ntypedef long long ll;\n\n#define all(a)  (a).begin(),(a).end()\n#define rall(a) (a).rbegin(), (a).rend()\n#define pb push_back\n#define mp make_pair\n#define each(i,c) for(typeof((c).begin()) i=(c).begin(); i!=(c).end(); ++i)\n#define exist(s,e) ((s).find(e)!=(s).end())\n#define range(i,a,b) for(int i=(a);i<(b);++i)\n#define rep(i,n)  range(i,0,n)\n#define clr(a,b) memset((a), (b) ,sizeof(a))\n#define dump(x)  cerr << #x << \" = \" << (x) << endl;\n#define debug(x) cerr << #x << \" = \" << (x) << \" (L\" << __LINE__ << \")\" << \" \" << __FILE__ << endl;\n\nconst double eps = 1e-10;\nconst double pi  = acos(-1.0);\nconst ll INF =1LL << 62;\nconst int inf =1 << 30;\n\nint main(void){\n    for(int n; cin >> n, n;){\n        vs signal(n);\n        bool out = false, nox = true;\n        rep(i, n){\n            cin >> signal[i];\n            if(i != 0 && signal[i - 1] == signal[i]){\n                out = true;\n            }\n            if(signal[i] == \"x\") nox = false;\n        }\n        rep(i, n){\n            if(i % 2 && signal[i] != \"x\"){\n                int left = signal[i - 1] != \"x\" ? toInt(signal[i - 1]):-inf;\n                int right = i + 1 < signal.size() ? signal[i + 1] != \"x\" ? toInt(signal[i + 1]):-inf:-inf;\n                if(left < toInt(signal[i]) && right < toInt(signal[i]));\n                else out = true;\n            }\n        }\n        if(out){\n            cout << \"none\" << endl;\n            continue;\n        }\n        if(nox){\n            cout << \"ambiguous\" << endl;\n            continue;\n        }\n\n        int lb = -inf, ub = inf;\n        rep(i, n){\n            if(signal[i] == \"x\"){\n\n                if(i % 2){\n                    int left = 0 <= i - 1 ? (toInt(signal[i - 1]) + 1):-inf;\n                    int right = i + 1 < signal.size() ? (toInt(signal[i + 1]) + 1):-inf;\n                    lb = max(lb, max(left, right));\n                }\n                else{\n                    int left = 0 <= i - 1 ? (toInt(signal[i - 1]) - 1):inf;\n                    int right = i + 1 < signal.size() ? (toInt(signal[i + 1]) - 1):inf;\n                    ub = min(ub, min(left, right));\n                }\n            }\n        }\n\n        if(ub == lb){\n            cout << lb << endl;\n        }\n        else if(lb < ub){\n            cout << \"ambiguous\" << endl;\n        }\n        else{\n            cout << \"none\" << endl;\n        }\n    }\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n)for(int i=0;i<n;i++)\nusing namespace std;\n\nstring s[1000];\nint main() {\n\tint n;\n\twhile (cin >> n, n) {\n\t\tint a = INT_MIN, b = INT_MAX;\n\t\trep(i, n)cin >> s[i];\n\t\trep(i, n) {\n\t\t\tif (s[i] == \"x\") {\n\t\t\t\tif (i & 1) {\n\t\t\t\t\tif (i) {\n\t\t\t\t\t\tif (s[i - 1] == \"x\") {\n\t\t\t\t\t\t\tputs(\"none\"); goto g;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse a = max(a, stoi(s[i - 1]) + 1);\n\t\t\t\t\t}\n\t\t\t\t\tif (i < n - 1) {\n\t\t\t\t\t\tif (s[i + 1] == \"x\") {\n\t\t\t\t\t\t\tputs(\"none\"); goto g;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse a = max(a, stoi(s[i + 1]) + 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (i) {\n\t\t\t\t\t\tif (s[i - 1] == \"x\") {\n\t\t\t\t\t\t\tputs(\"none\"); goto g;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse b = min(b, stoi(s[i - 1]) - 1);\n\t\t\t\t\t}\n\t\t\t\t\tif (i < n - 1) {\n\t\t\t\t\t\tif (s[i + 1] == \"x\") {\n\t\t\t\t\t\t\tputs(\"none\"); goto g;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse b = min(b, stoi(s[i + 1]) - 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (i & 1) {\n\t\t\t\t\tif (i) {\n\t\t\t\t\t\tif (s[i - 1] != \"x\"&&stoi(s[i - 1]) > stoi(s[i])) {\n\t\t\t\t\t\t\tputs(\"none\"); goto g;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (i < n - 1) {\n\t\t\t\t\t\tif (s[i + 1] != \"x\"&&stoi(s[i + 1]) > stoi(s[i])) {\n\t\t\t\t\t\t\tputs(\"none\"); goto g;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (a > b)puts(\"none\");\n\t\telse if (a < b)puts(\"ambiguous\");\n\t\telse printf(\"%d\\n\", a);\n\tg:;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdlib>\n#include<cstring>\n#include<algorithm>\n#define MAX 1e9+10\nusing namespace std;\n\nint main(){\n  int n;\n  while(cin>>n,n){\n    bool flag=false;\n    string signal[1000];\n    cin>>signal[0];\n    for(int i=1;i<n;i++){\n      cin>>signal[i];\n      if(signal[i-1]==\"x\" && signal[i]==\"x\")flag=true;\n      if(signal[i-1]==\"x\" || signal[i]==\"x\")continue;\n      if(i%2){\n\tif(atoi(signal[i-1].c_str())>atoi(signal[i].c_str()))flag=true;\n      }else{\n\tif(atoi(signal[i-1].c_str())<atoi(signal[i].c_str()))flag=true;\n      }\n    }\n    if(signal[0]!=\"x\" && signal[1]!=\"x\")\n      if(atoi(signal[0].c_str())>atoi(signal[1].c_str()))flag=true;\n    if(flag){\n      cout << \"none\" << endl;\n      continue;\n    }\n    int mx=MAX,mm=-(MAX);\n    if(signal[0]==\"x\")\n      mx=atoi(signal[1].c_str());\n    if(signal[n-1]==\"x\"){\n      if(n%2)\n\tmx=atoi(signal[n-2].c_str());\n      else\n\tmm=atoi(signal[n-2].c_str());\n    }\n    for(int i=1;i<n-1;i++){\n      if(signal[i]!=\"x\")continue;\n      int prev,next;\n      prev=atoi(signal[i-1].c_str());\n      next=atoi(signal[i+1].c_str());\n      if(i%2)\n\tmm=max(mm,max(prev,next));\n      else\n\tmx=min(mx,min(prev,next));\n      \n      //cout << \"prev:\" << prev << \" next:\" << next << endl;\n    }\n    //cout << \"mx:\" << mx << \" mm:\" << mm << endl;\n    int border=abs(mx-mm);\n    if(border==2)\n      cout << border+1 << endl;\n    else if(border>2)\n      cout << \"ambiguous\" << endl;\n    else\n      cout << \"none\" << endl;\n  }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\ntypedef long long ll;\n\nstring str;\nll memo[1000];\nll memo2[1000];\nll t[1000];\nll n,num;\nll INF = 10000000001LL;\nll L,R;\nbool xu,xd,flg;\n\nll rec(int);\nll rec2(int);\n\nint main(){\n  while(cin>>n&&n){\n    xu=xd=flg=false;\n    for(int i=0;i<n;i++){\n      cin>>str;\n      if(str==\"x\"){\n\tt[i]=INF;\n      }else{\n\tnum=0;\n\tfor(int j=0;j<(int)str.size();j++){\n\t  num*=10;\n\t  num+=(str[j]-'0');\n\t}\n\tt[i]=num;\n      }\n    }\n    L=-INF;\n    R=INF;\n    for(int i=0;i<1000;i++)memo[i]=memo2[i]=INF;\n    for(int i=0;i<n;i++){\n      if(t[i]==INF){\n\tif(i%2){\n\t  L=max(L, max(rec(i-1),rec(i+1))+1);\n\t}else{\n\t  R=min(R, min(rec2(i-1),rec2(i+1))-1);\n\t}\n      }else{\n\tif(i>0&&t[i-1]!=INF){\n\t  if(i%2==1&&t[i-1]>=t[i])flg=true;\n\t  if(i%2==0&&t[i-1]<=t[i])flg=true;\n\t}\n\tif(i<n-1&&t[i+1]!=INF){\n\t  if(i%2==1&&t[i]<=t[i+1])flg=true;\n\t  if(i%2==0&&t[i]>=t[i+1])flg=true;\n\t}\n      }\n    }\n    //cout<<L<<' '<<R<<endl;\n    //cout<<\"flg \"<<flg<<endl;\n    if(L==R)cout<<L<<endl;\n    else if(L<R&&xd==false&&xu==false&&flg==false)cout<<\"ambiguous\"<<endl;\n    else cout<<\"none\"<<endl;\n  }\n\n  return 0;\n}\n\nll rec(int x){ \n  if(x==-1||x==n)return -INF;\n  if(memo[x]!=INF)return memo[x];\n  if(t[x]!=INF)return memo[x]=t[x];\n  xu=true;\n  return -INF;\n}\n\nll rec2(int x){\n  if(x==-1||x==n)return INF;\n  if(memo[x]!=INF)return memo[x];\n  if(t[x]!=INF)return memo[x]=t[x];\n  xd=true;\n  return INF;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <cmath>\n#include <cstdio>\n#include <functional>\n#include <numeric>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <utility>\n#include <sstream>\n#include <complex>\n#include <fstream>\n#include <bitset>\n#include <time.h>\n#include <tuple>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<ll, ll> P;\ntypedef vector<ll> V;\ntypedef complex<double> Point;\n\n#define PI acos(-1.0)\n#define EPS 1e-10\nconst ll INF = (1LL << 60) - 1;\nconst ll MOD = 1e9 + 7;\n\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define rep(i,N) for(int i=0;i<(N);i++)\n#define ALL(s) (s).begin(),(s).end()\n#define EQ(a,b) (abs((a)-(b))<EPS)\n#define EQV(a,b) ( EQ((a).real(), (b).real()) && EQ((a).imag(), (b).imag()) )\n#define fi first\n#define se second\n#define N_SIZE (1LL << 20)\n#define NIL -1\n#define MAX_N 100100 * 3\n\nint n;\nll a[100100];\n\nll changei(string s) {\n\tll res;\n\tstringstream ss;\n\tss << s;\n\tss >> res;\n\treturn res;\n}\n\nint main() {\n\twhile (cin >> n&&n) {\n\t\tll lb = -INF, ub = INF;\n\t\tbool f = 0;\n\t\trep(i, n) {\n\t\t\tstring num;\n\t\t\tcin >> num;\n\t\t\tif (num == \"x\")a[i] = -1;\n\t\t\telse a[i] = changei(num);\n\t\t}\n\t\trep(i, n - 1) {\n\t\t\tif (a[i] == -1 || a[i + 1] == -1)continue;\n\t\t\tif (i % 2 == 0) {\n\t\t\t\tif (a[i] >= a[i + 1])f = 1;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (a[i] <= a[i + 1])f = 1;\n\t\t\t}\n\t\t}\n\t\t//cout << \"!\" << f << endl;\n\t\trep(i, n) {\n\t\t\tif (i != n - 1 && a[i] == a[i + 1])f = 1;\n\t\t\tif (a[i] == -1) {\n\t\t\t\tif (i % 2 == 0) {\n\t\t\t\t\tif (i + 1 < n)ub = min(ub, a[i + 1] - 1);\n\t\t\t\t\tif (i - 1 >= 0)ub = min(ub, a[i - 1] - 1);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (i + 1 < n)lb = max(lb, a[i + 1] + 1);\n\t\t\t\t\tif (i - 1 >= 0)lb = max(lb, a[i - 1] + 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t//cout << \"!\" << f << endl;\n\t\tif (ub < lb)f = 1;\n\t\tif (f)cout << \"none\" << endl;\n\t\telse {\n\t\t\tif (lb == ub)cout << lb << endl;\n\t\t\telse cout << \"ambiguous\" << endl;\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define INF_LL (int64)1e18\n#define INF (int32)1e9\n#define REP(i, n) for(int64 i = 0;i < (n);i++)\n#define FOR(i, a, b) for(int64 i = (a);i < (b);i++)\n#define all(x) x.begin(),x.end()\n#define fs first\n#define sc second\n\nusing int32 = int_fast32_t;\nusing uint32 = uint_fast32_t;\nusing int64 = int_fast64_t;\nusing uint64 = uint_fast64_t;\nusing PII = pair<int32, int32>;\nusing PLL = pair<int64, int64>;\n\nconst double eps = 1e-10;\n\ntemplate<typename A, typename B>inline void chmin(A &a, B b){if(a > b) a = b;}\ntemplate<typename A, typename B>inline void chmax(A &a, B b){if(a < b) a = b;}\n\ntemplate<typename T>\nvector<T> make_v(size_t a){return vector<T>(a);}\n\ntemplate<typename T,typename... Ts>\nauto make_v(size_t a,Ts... ts){\n  return vector<decltype(make_v<T>(ts...))>(a,make_v<T>(ts...));\n}\n\ntemplate<typename T,typename U,typename... V>\ntypename enable_if<is_same<T, U>::value!=0>::type\nfill_v(U &u,const V... v){u=U(v...);}\n\ntemplate<typename T,typename U,typename... V>\ntypename enable_if<is_same<T, U>::value==0>::type\nfill_v(U &u,const V... v){\n  for(auto &e:u) fill_v<T>(e,v...);\n}\n\nint main(void) {\n  int64 n;\n  while (cin >> n && n) {\n    vector<string> vv(n), v;\n    REP(i, n) cin >> vv[i]; \n    v = vv;\n    int64 l = -INF_LL, r = INF_LL;\n    REP(i, n) {\n      if (i < n-1 && v[i] == v[i+1] && v[i] == \"x\") { r = -INF_LL-1; break; }\n      if (i < n-1 && v[i] != \"x\" && v[i+1] != \"x\") {\n        if ((i % 2 == 0 && stoi(v[i]) >= stoi(v[i+1])) || (i%2 && stoi(v[i]) <= stoi(v[i+1]))) {\n          r = -INF_LL-1;\n          break;\n        }\n      }\n      if (i % 2 == 0) {\n        if (v[i] == \"x\") {\n          if (i < n-1)\n            chmin(r, stoi(v[i+1])-1);\n          if (i > 0)\n            chmin(r, stoi(v[i-1])-1);\n        }\n      } else {\n        if (v[i] == \"x\") {\n          if (i < n-1)\n            chmax(l, stoi(v[i+1])+1);\n          if (i > 0)\n            chmax(l, stoi(v[i-1])+1);\n        }\n      }\n    }\n    if (l == r) {\n      cout << l << endl;\n    } else if (l < r) {\n      cout << \"ambiguous\" << endl;\n    } else {\n      cout << \"none\" << endl;\n    }\n  }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cctype>\n#include <climits>\n#include <cmath>\n#include <complex>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <ctime>\n#include <deque>\n#include <functional>\n#include <iostream>\n#include <list>\n#include <map>\n#include <memory>\n#include <numeric>\n#include <queue>\n#include <set>\n#include <stack>\n#include <string>\n#include <utility>\n#include <vector>\nusing namespace std;\n\n#define EPS 1e-10\n#define INF 1000000002\n#define mp make_pair\n#define pb push_back\n\ntypedef vector<int> vi;\ntypedef vector<vi> vii;\ntypedef pair<int,int> pii;\ntypedef long long ll;\n\nll parseInt(string &str) {\n  ll rep;\n  if (str[0] == '-') {\n    rep = -1 * (str[1] - '0');\n  } else {\n    rep = str[0] - '0';\n  }\n  for (int i = 1; i < str.size(); i++) {\n    int num = str[i] - '0';\n    rep = rep * 10 + num;\n  }\n  return rep;\n}\n\nint main() {\n  while (1) {\n    int N;\n    scanf(\"%d\", &N);\n    if (N == 0) {\n      break;\n    }\n    string prev = \"1000000002\";\n    ll floor = -1 * INF, ceiling = INF;\n    for (int i = 0; i < N; i++) {\n      string data;\n      cin >> data;\n      if (data == \"x\") {\n        if (prev == \"x\") {\n          floor = 0;\n          ceiling = -1;\n        } else {\n          if ((i + 1) % 2 == 0) {\n            floor = max(floor, parseInt(prev) + 1);\n          } else {\n            ceiling = min(ceiling, parseInt(prev) - 1);\n          }\n        }\n      } else {\n        if (prev == \"x\") {\n          if (i % 2 == 0) {\n            floor = max(floor, parseInt(data) + 1);\n          } else {\n            ceiling = min(ceiling, parseInt(data) - 1);\n          }\n        } else {\n          if (((i + 1) % 2 == 0 && prev >= data) || ((i + 1) % 2 == 1 && prev <= data)) {\n            floor = 0;\n            ceiling = -1;\n          }\n        }\n      }\n      prev = data;\n    }\n    if (floor == ceiling) {\n      cout << floor << endl;\n    } else if (floor < ceiling) {\n      cout << \"ambiguous\" << endl;\n    } else {\n      cout << \"none\" << endl;\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <stack>\n#include <queue>\n#include <map>\n#include <cmath>\n#include <string>\n#include <sstream>\n#include <iomanip>\n#include <complex>\nusing namespace std;\n\n#define ll long long\n#define vvi vector< vector<int> >\n#define vi vector<int>\n#define All(X) X.begin(),X.end()\n#define FOR(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define REP(i,n) for(int i=0;i<(int)(n);i++)\n#define pb push_back\n#define pii pair<int,int>\n#define mp make_pair\n#define pi 3.14159265359\n#define shosu(X) fixed << setprecision(X)\nll gcd(ll a,ll b){return b?gcd(b,a%b):a;}\nll lcm(ll a,ll b){return a/gcd(a,b)*b;}\n\nint main(){\n\twhile(1){\n\t\tint n;\n\t\tcin >> n;\n\t\tif(n==0) break;\n\t\tll int xcnt = 0;\n\t\tll int data[1001];\n\t\tll int lastxpos = -10;\n\t\tREP(i,n){\n\t\t\tstring s;\n\t\t\tcin >> s;\n\t\t\tif(s==\"x\"){\n\t\t\t\txcnt++;\n\t\t\t\tif(lastxpos==i-1){//x 2??£?¶????????????????????????¨\n\t\t\t\t\txcnt = n;\n\t\t\t\t}\n\t\t\t\tlastxpos = i;\n\t\t\t\tdata[i]=1000000000;\n\t\t\t}else{\n\t\t\t\tdata[i]= stoll(s);\n\t\t\t}\n\t\t}\n\t\tif(xcnt>=n){//2??£?¶????????????§?????£?????????\n\t\t\tcout << \"none\" << endl;\n\t\t}else{\n\t\t\tbool is_mujun = false;\n\t\t\tll int minx=-1000000000,maxx=1000000000;\n\t\t\tREP(i,n){\n\t\t\t\tif(i==0){\n\t\t\t\t\tif(data[0]==1000000000) maxx = data[1]-1;\n\t\t\t\t\telse if(data[1]!=1000000000&&data[0]>=data[1]) is_mujun = true;\n\t\t\t\t}else if(i==n-1){\n\t\t\t\t\tif(data[n-1]==1000000000){\n\t\t\t\t\t\tif((n+1)%2==0){\n\t\t\t\t\t\t\tmaxx = data[n-2]-1;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tminx = data[n-2]+1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif((n+1)%2==0){\n\t\t\t\t\t\t\tif(data[n-2]!=1000000000&&data[n-1]>=data[n-2]) is_mujun = true;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tif(data[n-2]!=1000000000&&data[n-1]<=data[n-2]) is_mujun = true;\n\t\t\t\t\t\t}\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(data[i]==1000000000){\n\t\t\t\t\t\tif((i+1)%2==0){\n\t\t\t\t\t\t\tminx = max(minx,max(data[i-1],data[i+1])+1);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tmaxx = min(maxx,min(data[i-1],data[i+1])-1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif((i+1)%2==0){\n\t\t\t\t\t\t\tif(data[i-1]!=1000000000&&(data[i]<=data[i-1])) is_mujun = true;\n\t\t\t\t\t\t\tif(data[i+1]!=1000000000&&(data[i]<=data[i+1])) is_mujun = true;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tif(data[i-1]!=1000000000&&(data[i]>=data[i-1])) is_mujun = true;\n\t\t\t\t\t\t\tif(data[i+1]!=1000000000&&(data[i]>=data[i+1])) is_mujun = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(minx!=-1000000000&&maxx!=1000000000&&minx-maxx>0) is_mujun = true;\n\t\t\t\t//cout << minx << \" \" << maxx << \" \" << is_mujun <<\" \"<<data[i]<< endl;\n\t\t\t}\n\t\t\tif(xcnt==0){\n\t\t\t\tif(is_mujun) cout << \"none\" << endl;\n\t\t\t\telse cout << \"ambiguous\" << endl;\t\t\t\t\n\t\t\t}else{\n\t\t\t\tif(is_mujun) cout << \"none\" << endl;\n\t\t\t\telse{\n\t\t\t\t\tif(maxx==minx) cout << maxx << endl;\n\t\t\t\t\telse cout << \"ambiguous\" << endl;\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nint main()\n{\n  int n;\n  while(cin >> n, n){    \n    string signal[1002];\n    signal[0] = to_string(1e9);\n    for(int i = 1; i <= n; i++) cin >> signal[i];\n    if(n % 2) signal[n + 1] = to_string(1e9);\n    else signal[n + 1] = to_string(-(1e9));\n    int less = -(1e9)-3, more = 1e9+3;    \n    for(int i = 1; i <= n; i++){\n      if(signal[i] == \"x\"){\n\tif(signal[i-1] == \"x\" || signal[i+1] == \"x\"){\n\t  less = more = 1e9+3;\n\t  break;\n\t}\n\tif(i % 2) more = min(stoi(signal[i-1]), stoi(signal[i+1]));\n\telse less = max(stoi(signal[i-1]), stoi(signal[i+1]));\n      } else if(signal[i-1] != \"x\" && signal[i+1] != \"x\"){\n\tif(i%2 == 0 && (signal[i] <= signal[i-1] || signal[i] <= signal[i+1]) ||\n\t   i%2 == 1 && (signal[i] >= signal[i-1] || signal[i] >= signal[i+1])){\n\t  less = 1e9+3, more = -(1e9)-3;\n\t  break;\n\t}\n      }\n    }\n    if(less == more) cout << \"none\" << endl;\n    else if(more - less > 2) cout << \"ambiguous\" << endl;\n    else if(more - less < 2) cout << \"none\" << endl;\n    else cout << (more + less) / 2 << endl;\n  }  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <string>\n#include <cmath>\n#include <cassert>\n#include <iostream>\n#include <algorithm>\n#include <stack>\n#include <queue>\n#include <vector>\n#include <set>\n#include <map>\n#include <bitset>\n#include <functional>\n#include <numeric>\nusing namespace std;\n\n#define repl(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define rep(i,n) repl(i,0,n)\n#define mp(a,b) make_pair((a),(b))\n#define pb(a) push_back((a))\n#define all(x) (x).begin(),(x).end()\n#define dbg(x) cout<<#x\"=\"<<((x))<<endl\n#define fi first\n#define se second\n\n#define INF 2147483600\n#define long long long\n#define BIG 1000000000\n\nint solve(vector<int> &vec){\n  int n=vec.size();\n  // check\n  rep(i,n-1){\n    if(vec[i]==INF && vec[i+1]==INF) return -INF;\n    if(vec[i]!=INF && vec[i+1]!=INF){\n      if(i%2==0) if(vec[i] > vec[i+1]) return -INF;\n      if(i%2==1) if(vec[i] < vec[i+1]) return INF;\n    }\n  }\n  int lb=-BIG, ub=BIG;\n  repl(i,1,n-1) if(vec[i]==INF){\n    if(i%2==0){\n      ub = min(ub, min(vec[i-1], vec[i+1])-1);\n    } else {\n      lb = max(lb, max(vec[i-1], vec[i+1])+1);\n    }\n  }\n  if(vec[0]==INF) lb = max(lb, vec[1]+1);\n  if(vec[n-1]==INF){\n    if(n%2==1) ub = min(ub, vec[n-2]-1);\n    else lb = max(lb, vec[n-2]+1);\n  }\n  if(lb==ub) return lb;\n  else if(lb<ub) return INF;\n  else return -INF;\n}\n\nint main(){\n  int n;\n  while(cin>>n, n){\n    char tmp[15];\n    vector<int> vec(n);\n    rep(i,n){\n      scanf(\"%s\", tmp);\n      if(tmp[0]=='x') vec[i]=INF;\n      else vec[i] = atoi(tmp);\n    }\n    int ret = solve(vec);\n    if(ret==INF) cout<<\"ambiguous\"<<endl;\n    else if(ret==-INF) cout<<\"none\"<<endl;\n    else cout<<ret<<endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long LL;\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<VVI> VVVI;\n\ntypedef vector<LL> VLL;\ntypedef vector<VLL> VVLL;\n\ntypedef vector<double> VD;\ntypedef vector<VD> VVD;\n\ntypedef vector<string> VS;\ntypedef vector<VS> VVS;\n\ntypedef vector<bool> VB;\ntypedef vector<VB> VVB;\n\ntypedef pair<int, int> PII;\ntypedef vector<PII> VPII;\n\n#define fst first\n#define snd second\n#define MP make_pair\n#define PB push_back\n#define EB emplace_back\n#define ALL(x) (x).begin(), (x).end()\n#define RANGE(xx,y,mx,my) (0<=(x)&&0<=(y) && (x)<(mx) && y<(my))\n#define REP(i, init, N) for(int i = (init); i < (int)(N); i++)\n\nconst int INF = 0x3f3f3f3f;\nconst int DX[]={1,0,-1,0},DY[]={0,-1,0,1};\n\ninline int fromString(const string &s) {\n    int res;\n    istringstream iss(s);\n    iss >> res;\n    return res;\n}\n\nint N;\nVI as;\n\nconst int Q = 1000 * 1000 * 1000 + 7;\n\nbool x_twice() {\n    REP(i, 0, N - 1) {\n        if (as[i] == as[i + 1]) {\n            return true;\n        }\n    }\n    return false;\n}\n\nPII solve() {\n    if (x_twice()) { return MP(2, 0); }\n\n    PII xs(-1000 * 1000 * 1000 - 3, 1000 * 1000 * 1000 + 3);\n\n    REP(i, 0, N) {\n        if (as[i] == Q) {\n            if ((i + 1) % 2) { // ?\\???°\n                if (i - 1 >= 0) {\n                    xs.snd = min(xs.snd, as[i - 1] - 1);\n                }\n                if (i + 1 <= N - 1) {\n                    xs.snd = min(xs.snd, as[i + 1] - 1);\n                }\n            } else {\n                if (i - 1 >= 0) {\n                    xs.fst = max(xs.fst, as[i - 1] + 1);\n                }\n                if (i + 1 <= N - 1) {\n                    xs.fst = max(xs.fst, as[i + 1] + 1);\n                }\n            }\n\n        } else if (i != 0 && as[i - 1] != Q) {\n            if ((i + 1) % 2) {\n                if (as[i] >= as[i - 1]) {\n                    return MP(2, 0);\n                }\n            } else {\n                if (as[i] <= as[i - 1]) {\n                    return MP(2, 0);\n                }\n            }\n        }\n\n        if (xs.fst > xs.snd) {\n            return MP(2, 0);\n        }\n    }\n\n    if (xs.fst != xs.snd) {\n        return MP(1, 0);\n    } else {\n        return MP(0, xs.fst);\n    }\n}\n\nint main(void) {\n    while (cin >> N, N) {\n        as = VI(N);\n        REP(i, 0, N) {\n            string s;\n            cin >> s;\n            if (s == \"x\") {\n                as[i] = Q;\n            } else {\n                int n = fromString(s);\n                as[i] = n;\n            }\n        }\n\n        PII ans = solve();\n        if (ans.fst == 0) {\n            cout << ans.snd << endl;\n        } else if (ans.fst == 1) {\n            cout << \"ambiguous\" << endl;\n        } else if (ans.fst == 2) {\n            cout << \"none\" << endl;\n        }\n    }\n    \n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint main(){\n  while (1){\n    int N;\n    cin >> N;\n    if (N == 0){\n      break;\n    }\n    vector<string> a(N);\n    for (int i = 0; i < N; i++){\n      cin >> a[i];\n    }\n    bool ok = true;\n    for (int i = 0; i < N - 1; i++){\n      if (i % 2 == 0 && a[i] != \"x\" && a[i + 1] != \"x\"){\n        if (stoi(a[i]) >= stoi(a[i + 1])){\n          ok = false;\n        }\n      }\n      if (i % 2 == 1 && a[i] != \"x\" && a[i + 1] != \"x\"){\n        if (stoi(a[i]) <= stoi(a[i + 1])){\n          ok = false;\n        }\n      }\n      if (a[i] == \"x\" && a[i + 1] == \"x\"){\n        ok = false;\n      }\n    }\n    if (!ok){\n      cout << \"none\" << endl;\n    } else {\n      int mn = -1100000000;\n      int mx = 1100000000;\n      for (int i = 0; i < N - 1; i++){\n        if (i % 2 == 0){\n          if (a[i] == \"x\" && a[i + 1] != \"x\"){\n            mx = min(mx, stoi(a[i + 1]) - 1);\n          }\n          if (a[i] != \"x\" && a[i + 1] == \"x\"){\n            mn = max(mn, stoi(a[i]) + 1);\n          }\n        }\n        if (i % 2 == 1){\n          if (a[i] == \"x\" && a[i + 1] != \"x\"){\n            mn = max(mn, stoi(a[i + 1]) + 1);\n          }\n          if (a[i] != \"x\" && a[i + 1] == \"x\"){\n            mx = min(mx, stoi(a[i]) - 1);\n          }\n        }\n      }\n      if (mx < mn){\n        cout << \"none\" << endl;\n      } else if (mx == mn){\n        cout << mx << endl;\n      } else {\n        cout << \"ambiguous\" << endl;\n      }\n    }\n  }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nconst int dx[]={1,0,-1,0,1,-1,-1,1};\nconst int dy[]={0,1,0,-1,1,1,-1,-1};\nconst int INF = 2*1e9;\nconst long long LINF = 1e18;\nconst double EPS = 1e-8;\n#define pb push_back\n#define mk make_pair\n#define fr first\n#define sc second\n#define reps(i,j,k) for(int i = (j); i < (k); ++i)\n#define rep(i,j) reps(i,0,j)\n#define all(a) (a).begin(),(a).end()\n#define MOD 1000000007\ntypedef pair<int,int> Pii;\ntypedef pair<Pii,int> P;\ntypedef vector<int> vi;\ntypedef long long ll;\ntemplate<class T>\nostream& operator<<(ostream &out, const vector<T> &v){\n\tout << \"{\";\n\trep(i,v.size()){\n\t\tout << v[i] <<\", \";\n\t}\n\treturn out << \"}\" << endl;\n}\n\nint main() {\n\n\tint N;\n\twhile(cin >> N,N){\n\t\tint a[1024];\n\t\tvi idx;\n\t\tbool flg = true;\n\t\trep(i,N){\n\t\t\tstring str;\n\t\t\tcin >> str;\n\t\t\tif(str == \"x\") {\n\t\t\t\tif(idx.size() > 0 && idx[idx.size()-1]+1 == i){\n\t\t\t\t\tflg = false;\n\t\t\t\t}\n\t\t\t\tidx.pb(i);\n\t\t\t\ta[i] = INF;\n\t\t\t}\n\t\t\telse{\n\t\t\t\ta[i] = atoi(str.c_str());\n\t\t\t}\n\t\t}\n\t\tif(!flg){\n\t\t\tputs(\"none\");\n\t\t\tcontinue;\n\t\t}\n\t\tint mn = INF;\n\t\tint mx = -INF;\n\t\trep(i,idx.size()) {\n\t\t\tif(idx[i] == 0) {\n\t\t\t\tmn = min(mn,a[idx[i]+1] - 1);\n\t\t\t}\n\t\t\telse if (idx[i] == N-1) {\n\t\t\t\tif(N%2 == 1){\n\t\t\t\t\tmn = min(mn,a[idx[i]-1] -1);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tmx = max(mx, a[idx[i]-1] +1);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif(idx[i] % 2 == 0 ){\n\t\t\t\t\tmn = min(mn,min(a[idx[i]-1],a[idx[i]+1])-1);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tmx =max(mx, max(a[idx[i]-1],a[idx[i]+1])+1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\trep(i,N) {\n\t\t\tif(a[i] == INF){\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif(i == 0) {\n\t\t\t\tif(a[i+1] == INF){\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif(a[i] > a[i+1]){\n\t\t\t\t\tflg = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if ( i == N -1) {\n\t\t\t\tif(a[i-1] == INF) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif(N % 2 == 1){\n\t\t\t\t\tif(a[i] > a[i-1]){\n\t\t\t\t\t\tflg = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(a[i] < a[i-1]) {\n\t\t\t\t\t\tflg = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif(a[i+1] == INF && a[i-1] == INF){\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif(a[i+1] == INF){\n\t\t\t\t\tif(i % 2 == 1){\n\t\t\t\t\t\tif(a[i-1] > a[i]){\n\t\t\t\t\t\t\tflg = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tif(a[i-1] < a[i]){\n\t\t\t\t\t\t\tflg = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if(a[i-1] == INF) {\n\t\t\t\t\tif(i % 2 == 1){\n\t\t\t\t\t\tif(a[i+1] > a[i]){\n\t\t\t\t\t\t\tflg = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tif(a[i+1] < a[i]){\n\t\t\t\t\t\t\tflg = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(i % 2 == 1){\n\t\t\t\t\t\tif(a[i-1] > a[i] || a[i] < a[i+1]){\n\t\t\t\t\t\t\tflg = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tif(a[i-1] < a[i] || a[i] > a[i+1]) {\n\t\t\t\t\t\t\tflg = false;\n\t\t\t\t\t\t} \n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t//printf(\"%d %d\\n\",mn, mx);\n\t\tif(mn == mx){\n\t\t\tprintf(\"%d\\n\",mn);\n\t\t}\n\t\telse if(mn > mx && flg){\n\t\t\tputs(\"ambiguous\");\n\t\t}\n\t\telse{\n\t\t\tputs(\"none\");\n\t\t}\n\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\n#define REP(i,s,n) for(int i=s;i<n;i++)\n#define rep(i,n) REP(i,0,n)\n\nusing namespace std;\n\nconst int IINF = INT_MAX;\nint n,a[1010],X;\n\nint get(int i){\n  if( a[i] == IINF ) return X;\n  return a[i];\n}\n\nbool check(int x){\n  X = x;\n  if( get(0) == get(1) ) return false;\n  bool phase = ( get(0) < get(1) );\n  if( !phase ) return false;\n  REP(i,1,n-1){\n    if( phase ) {\n      if( get(i) <= get(i+1) ) return false;\n    } else {\n      if( get(i) >= get(i+1) ) return false;\n    }\n    phase = !phase;\n  }\n  return true;\n}\n\nvoid compute(){\n  rep(i,n-1) if( a[i] == IINF && a[i+1] == IINF ) { puts(\"none\"); return; }\n  int cnt = 0;\n  rep(i,n) if( a[i] == IINF ) ++cnt;\n  if( cnt == 0 ) {\n    if( check(-1) ) { puts(\"ambiguous\"); return ; }\n    else            { puts(\"none\");      return ; }\n  }\n  set<int> S;\n  rep(i,n) if( a[i] != IINF ) {\n    if( check(a[i]+1) ) { S.insert(a[i]+1); }\n    if( check(a[i]+2) ) { S.insert(a[i]+2); }\n    if( check(a[i]-1) ) { S.insert(a[i]-1); }\n    if( check(a[i]-2) ) { S.insert(a[i]-2); }\n    if( S.size() >= 2 ) { puts(\"ambiguous\"); return; }\n  }\n  if( S.size() != 1 ) { puts(\"none\"); return; }\n  cout << *S.begin() << endl;\n}\n\nint main(){\n  while( cin >> n, n ){\n    rep(i,n) {\n      string s;\n      cin >> s;\n      if( s == \"x\" ) a[i] = IINF;\n      else           a[i] = (atoi)(s.c_str());\n    }\n    compute();\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 1000000100\n\n#include <iostream>\n#include <cstdio>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n  \nusing namespace std;\n  \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P> PP;\n  \nstatic const double EPS = 1e-8;\n\n\nbool check(vector<int> signals){\n  bool is_none = false;\n  for(int i=0;i<signals.size();i++){\n    int lhs = i - 1;\n    int rhs = i + 1;\n    if(lhs >= 0 && signals[lhs] != INF){\n      if((i + 1) % 2 == 0){\n        if(signals[i] <= signals[lhs]){\n          is_none = true;\n          break;\n        }\n      }\n      else{\n        if(signals[i] >= signals[lhs]){\n          is_none = true;\n          break;\n        }\n      }\n    }\n    if(rhs < signals.size() && signals[rhs] != INF){\n      if((i + 1) % 2 == 0){\n        if(signals[i] <= signals[rhs]){\n          is_none = true;\n          break;\n        }\n      }\n      else{\n        if(signals[i] >= signals[rhs]){\n          is_none = true;\n          break;\n        }\n      }\n    }\n  }\n  return !is_none;\n}\n\nint main(){\n  int N;\n  while(~scanf(\"%d\",&N)){\n    if(N == 0) break;\n\n    vector<int> signals;\n    queue<int> unknown;\n\n    bool has_x = false;\n    bool has_num = false;\n    for(int i=0; i < N; i++){\n      char signal[12];\n      int num;\n      scanf(\"%s\",signal);\n      if(signal[0] != 'x'){\n        num = atoi(signal);\n        has_num = true;\n      }\n      else{\n        num = INF;\n        has_x = true;\n        unknown.push(i);\n      }\n      signals.push_back(num);\n    }\n    \n    if(has_num && has_x){\n      //x x 1 x\n      int lower = -INF;\n      int upper = INF;\n      \n      while(!unknown.empty()){\n        int idx = unknown.front();\n        unknown.pop();\n        int lhs = idx - 1;\n        int rhs = idx + 1;\n        \n        //even\n        if((idx+1) % 2 == 0){\n          if(lhs >= 0 && signals[lhs] != INF) {\n            lower = max(signals[lhs]+1,lower);\n          }\n          if(rhs < signals.size() && signals[rhs] != INF){\n            lower = max(signals[rhs]+1,lower);\n          }\n        }\n        //odd\n        else{\n          if(rhs < signals.size() && signals[rhs] != INF){\n            upper = min(signals[rhs]-1,upper);\n          }\n          if(lhs >= 0 && signals[lhs] != INF){\n            upper = min(signals[lhs]-1,upper);\n          }\n        }\n      }\n\n      if(upper > lower){\n        for(int i=0;i<signals.size();i++){\n          if(signals[i] == INF){\n            signals[i] = (upper != INF ? upper : lower);\n          }\n        }\n        bool isok = check(signals);\n        if(isok){\n          printf(\"ambiguous\\n\");\n        }\n        else{\n          printf(\"none\\n\");\n        }\n      }\n      else if(upper == lower){\n        for(int i=0;i<signals.size();i++){\n          if(signals[i] == INF){\n            signals[i] = lower;\n          }\n        }\n        bool isok = check(signals);\n        if(isok){\n          printf(\"%d\\n\",lower);\n        }\n        else{\n          printf(\"none\\n\");\n        }\n      }\n      else if(upper < lower){\n        printf(\"none\\n\");\n      }\n    }\n\n    else if(!has_num && has_x){\n      //x x x\n      printf(\"none\\n\");\n    }\n    else if(has_num && !has_x){\n      //1 2 3\n      \n      bool isok = check(signals);\n      printf(\"%s\\n\", !isok ? \"none\" : \"ambiguous\");\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define for_(i,a,b) for(int i=a;i<b;++i)\n#define for_rev(i,a,b) for(int i=a;i>=b;--i)\n#define allof(a) a.begin(),a.end()\n#define minit(a,b) memset(a,b,sizeof(a))\n#define size_of(a) (int)a.size()\n\ntypedef long long lint;\ntypedef pair<int, int> pii;\n\nconst int iINF = 1L << 30;\nconst lint lINF = 1LL << 60;\n\nint N;\nstring input[1010];\n\nint s_to_i(string s) {\n\tstringstream ss(s);\n\tint res; ss >> res;\n\treturn res;\n}\n\nbool is_x(string s) {\n\treturn s[0] == 'x';\n}\n\nvoid solve() {\n\tint lb = 0, ub = iINF + 10;\n\t\n\tfor_(i,1,N) {\n\t\tif (is_x(input[i])) {\n\t\t\tif (is_x(input[i + 1])) {\n\t\t\t\tcout << \"none\" << endl;\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tint val = s_to_i(input[i + 1]);\n\t\t\t\tif (i % 2) {\n\t\t\t\t\tub = min(ub, val - 1);\n\t\t\t\t} else {\n\t\t\t\t\tlb = max(lb, val + 1);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif (is_x(input[i + 1])) {\n\t\t\t\tint val = s_to_i(input[i]);\n\t\t\t\tif ((i + 1) % 2) {\n\t\t\t\t\tub = min(ub, val - 1);\n\t\t\t\t} else {\n\t\t\t\t\tlb = max(lb, val + 1);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tint lval = s_to_i(input[i]), rval = s_to_i(input[i + 1]);\n\t\t\t\tif (i % 2 && lval >= rval) {\n\t\t\t\t\tcout << \"none\" << endl;\n\t\t\t\t\treturn;\n\t\t\t\t} else if (i % 2 == 0 && lval <= rval) {\n\t\t\t\t\tcout << \"none\" << endl;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t/*\n\t\tif (is_x(input[i])) {\n\t\t\tif (i < N && is_x(input[i + 1])) {\n\t\t\t\tcout << \"none\" << endl;\n\t\t\t\treturn;\n\t\t\t} else if (i == N) {\n\t\t\t\tint val = s_to_i(input[i - 1]);\n\t\t\t\tif (i % 2) {\n\t\t\t\t\tub = min(ub, val - 1);\n\t\t\t\t} else {\n\t\t\t\t\tlb = max(lb, val + 1);\n\t\t\t\t}\n\t\t\t} else if (i == 1) {\n\t\t\t\tint val = s_to_i(input[i + 1]);\n\t\t\t\tub = min(ub, val - 1);\n\t\t\t} else {\n\t\t\t\tint lval = s_to_i(input[i - 1]), rval = s_to_i(input[i + 1]);\n\t\t\t\tif (i % 2) {\n\t\t\t\t\tub = min(ub, min(rval, lval) - 1);\n\t\t\t\t} else {\n\t\t\t\t\tlb = max(lb, max(rval, lval) + 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t} else {\n\t\t\tint value = s_to_i(input[i]);\n\t\t\t\n\t\t\tif (i < N && !is_x(input[i + 1])) {\n\t\t\t\tint val2 = s_to_i(input[i + 1]);\n\t\t\t\tif (i % 2 && value >= val2) {\n\t\t\t\t\tcout << \"none\" << endl;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (i % 2 == 0 && value <= val2) {\n\t\t\t\t\tcout << \"none\" << endl;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}*/\n\t\t\n\t\tif (lb > ub) {\n\t\t\tcout << \"none\" << endl;\n\t\t\treturn;\n\t\t}\n\t}\n\t\n\tif (lb == ub) {\n\t\tcout << lb << endl;\n\t} else {\n\t\tcout << \"ambiguous\" << endl;\n\t}\n}\n\nint main() {\n\twhile (cin >> N, N) {\n\t\tfor_(i,1,N + 1) cin >> input[i];\n\t\tsolve();\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n\n#define REP(i,n) for(ll i=0;i<n;++i)\n#define RREP(i,n) for(ll i=n-1;i>=0;--i)\n#define FOR(i,m,n) for(ll i=m;i<n;++i)\n#define RFOR(i,m,n) for(ll i=n-1;i>=m;--i)\n#define ALL(v) (v).begin(),(v).end()\n#define PB(a) push_back(a)\n#define UNIQUE(v) v.erase(unique(ALL(v)),v.end());\n#define DUMP(v) REP(i, (v).size()) { cout << v[i]; if (i != v.size() - 1)cout << \" \"; else cout << endl; }\n#define INF 1000000001ll\n#define MOD 1000000007ll\n#define EPS 1e-9\n\nconst int dx[8] = { 1,1,0,-1,-1,-1,0,1 };\nconst int dy[8] = { 0,1,1,1,0,-1,-1,-1 };\n\n\nusing namespace std;\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<ll> vl;\ntypedef vector<vi> vvi;\ntypedef vector<vl> vvl;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\nll max(ll a, int b) { return max(a, ll(b)); }\nll max(int a, ll b) { return max(ll(a), b); }\n///(?´????????`)(?´????????`)(?´????????`)(?´????????`)(?´????????`)(?´????????`)///\nint main() {\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\tabort();\n\twhile (1) {\n\t\tint n;\n\t\tcin >> n;\n\t\n\t\tif (!n)break;\n\t\tvi v(n);\n\t\tREP(i, n) {\n\t\t\tstring s;\n\t\t\tcin >> s;\n\t\t\tif (s[0] != 'x')v[i] = stoi(s);\n\t\t\telse v[i] = 2 * INF;\n\t\t}\n\t\tDUMP(v);\n\t\tint flag = 1;\n\t\tREP(i, n - 1) {\n\t\t\tif (flag) {\n\t\t\t\tif (v[i] == 2 * INF&&v[i + 1] == 2 * INF) {\n\t\t\t\t\tcout << \"none\" << endl;\n\t\t\t\t\tflag = 0;\n\t\t\t\t}\n\t\t\t\telse if (v[i] != 2 * INF&&v[i + 1] != 2 * INF) {\n\t\t\t\t\tif (i % 2 == 0 && v[i] >= v[i + 1]) {\n\t\t\t\t\t\tcout << \"none\" << endl;\n\t\t\t\t\t\tflag = 0;\n\t\t\t\t\t}\n\t\t\t\t\telse if (i % 2 == 1 && v[i] <= v[i + 1]) {\n\t\t\t\t\t\tcout << \"none\" << endl;\n\t\t\t\t\t\tflag = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (flag) {\n\t\t\tint u = INF+1, l = -INF-1;\n\t\t\tREP(i, n) {\n\t\t\t\tif (v[i] == 2 * INF) {\n\t\t\t\t\tif (i % 2 == 0) {\n\t\t\t\t\t\tif (i != 0)u = min(u, v[i - 1] - 1);\n\t\t\t\t\t\tif (i != n - 1)u = min(u, v[i + 1] - 1);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tl = max(l, v[i - 1] + 1);\n\t\t\t\t\t\tif (i != n - 1)l = max(l, v[i + 1] + 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (u == l)cout << u << endl;\n\t\t\telse if (l < u)cout << \"ambigous\" << endl;\n\t\t\telse cout << \"none\" << endl;\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n\n#define REP(i,n) for(ll i=0;i<n;++i)\n#define RREP(i,n) for(ll i=n-1;i>=0;--i)\n#define FOR(i,m,n) for(ll i=m;i<n;++i)\n#define RFOR(i,m,n) for(ll i=n-1;i>=m;--i)\n#define ALL(v) (v).begin(),(v).end()\n#define PB(a) push_back(a)\n#define UNIQUE(v) v.erase(unique(ALL(v)),v.end());\n#define DUMP(v) REP(i, (v).size()) { cout << v[i]; if (i != v.size() - 1)cout << \" \"; else cout << endl; }\n#define INF 1000000001ll\n#define MOD 1000000007ll\n#define EPS 1e-9\n\nconst int dx[8] = { 1,1,0,-1,-1,-1,0,1 };\nconst int dy[8] = { 0,1,1,1,0,-1,-1,-1 };\n\n\nusing namespace std;\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<ll> vl;\ntypedef vector<vi> vvi;\ntypedef vector<vl> vvl;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\nll max(ll a, int b) { return max(a, ll(b)); }\nll max(int a, ll b) { return max(ll(a), b); }\n///(?´????????`)(?´????????`)(?´????????`)(?´????????`)(?´????????`)(?´????????`)///\nint main() {\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\twhile (1) {\n\t\tint n;\n\t\tcin >> n;\n\t\tif (!n)break;\n\t\tvi v(n);\n\t\tREP(i, n) {\n\t\t\tstring s;\n\t\t\tcin >> s;\n\t\t\tif (s[0] != 'x')v[i] = stoi(s);\n\t\t\telse v[i] = 2 * INF;\n\t\t}\n\t\tint flag = 1;\n\t\tREP(i, n - 1) {\n\t\t\tif (v[i] == 2 * INF&&v[i + 1] == 2 * INF) {\n\t\t\t\tcout << \"none\" << endl;\n\t\t\t\tflag = 0;\n\t\t\t}\n\t\t\telse if (v[i] != 2 * INF&&v[i + 1] != 2 * INF) {\n\t\t\t\tif (i % 2 == 0 && v[i] >= v[i + 1]) {\n\t\t\t\t\tcout << \"none\" << endl;\n\t\t\t\t\tflag = 0;\n\t\t\t\t}\n\t\t\t\telse if (i % 2 == 1 && v[i] <= v[i + 1]) {\n\t\t\t\t\tcout << \"none\" << endl;\n\t\t\t\t\tflag = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (flag) {\n\t\t\tint u = INF+1, l = -INF-1;\n\t\t\tREP(i, n) {\n\t\t\t\tif (v[i] == 2 * INF) {\n\t\t\t\t\tif (i % 2 == 0) {\n\t\t\t\t\t\tif (i != 0)u = min(u, v[i - 1] - 1);\n\t\t\t\t\t\tif (i != n - 1)u = min(u, v[i + 1] - 1);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tl = max(l, v[i - 1] + 1);\n\t\t\t\t\t\tif (i != n - 1)l = max(l, v[i + 1] + 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (u == l)cout << u << endl;\n\t\t\telse if (l < u)cout << \"ambigous\" << endl;\n\t\t\telse cout << \"none\" << endl;\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <cstdlib>\nusing namespace std;\n#define UNK 2000000000\n\nbool valid(vector<int>&v){\n\tint i;\n\tfor(i=1;i<v.size();i+=2){\n\t\tif(v[i-1]<=v[i])return false;\n\t}\n\tfor(i=2;i<v.size();i+=2){\n\t\tif(v[i-1]>=v[i])return false;\n\t}\n\treturn true;\n}\n\nint main(){\n\tint n,i,j;\n\tstring s;\n\tfor(;cin>>n,n;){\n\t\tvector<int>unknown;\n\t\tvector<int>num;\n\t\tvector<int>v;\n\t\tv.push_back(1000010000);\n\t\tnum.push_back(1000010000);\n\t\tfor(i=0;i<n;i++){\n\t\t\tcin>>s;\n\t\t\tif(s==\"x\"){\n\t\t\t\tunknown.push_back(i+1);\n\t\t\t\tv.push_back(0);\n\t\t\t}else{\n\t\t\t\tint n=strtol(s.c_str(),NULL,10);\n\t\t\t\tnum.push_back(n);\n\t\t\t\tv.push_back(n);\n\t\t\t}\n\t\t}\n\t\tif(v.size()%2==0){\n\t\t\tv.push_back(1000010001);\n\t\t\tnum.push_back(1000010001);\n\t\t}else{\n\t\t\tv.push_back(-1000010001);\n\t\t\tnum.push_back(-1000010001);\n\t\t}\n\n\t\tint _min=UNK,_max=UNK;\n\t\tif(unknown.empty()){\n\t\t\tif(valid(v))cout<<\"ambiguous\"<<endl;\n\t\t\telse cout<<\"none\"<<endl;\n\t\t\tcontinue;\n\t\t}\n/*\n\t\tfor(i=1;i<unknown.size();i++)if(unknown[i-1]+1==unknown[i]){\n\t\t\tcout<<\"none\"<<endl;\n\t\t\tgoto next;\n\t\t}\n*/\n\t\tfor(i=0;i<unknown.size();i++){\n\t\t\tif(unknown[i]%2==0){\n\t\t\t\tif(_min==UNK)_min=max(v[unknown[i]-1],v[unknown[i]+1])+1;\n\t\t\t\t_min=max(_min,max(v[unknown[i]-1],v[unknown[i]+1])+1);\n\t\t\t}else{\n\t\t\t\tif(_max==UNK)_max=min(v[unknown[i]-1],v[unknown[i]+1])-1;\n\t\t\t\t_max=min(_max,min(v[unknown[i]-1],v[unknown[i]+1])-1);\n\t\t\t}\n\t\t}\n\t\tif(_min==UNK||_max==UNK)cout<<\"ambiguous\"<<endl;\n\t\telse if(_min>_max)cout<<\"none\"<<endl;\n\t\telse{\n\t\t\tfor(j=0;j<unknown.size();j++)v[unknown[j]]=_min;\n\t\t\tif(valid(v)){\n\t\t\t\tif(_min==_max)cout<<_min<<endl;\n\t\t\t\telse cout<<\"ambiguous\"<<endl;\n\t\t\t}else{\n\t\t\t\tcout<<\"none\"<<endl;\n\t\t\t}\n\t\t}\n\n/*\n\t\tsort(num.begin(),num.end());\n\t\tfor(i=1;i<num.size();i++){\n\t\t\tfor(j=0;j<unknown.size();j++)v[unknown[j]]=num[i-1]+1;\n\t\t\tif(valid(v)){\n\t\t\t\tif(num[i-1]+1==num[i]-1)cout<<num[i-1]+1<<endl;\n\t\t\t\telse cout<<\"ambiguous\"<<endl;\n\t\t\t\tgoto next;\n\t\t\t}\n\t\t}\n\t\tcout<<\"none\"<<endl;\n\t\tnext:;\n*/\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "/*\n * 2565.cc: Broken Audio Signal\n */\n\n#include<cstdio>\n#include<cstdlib>\n#include<cstring>\n#include<cmath>\n#include<iostream>\n#include<string>\n#include<vector>\n#include<map>\n#include<set>\n#include<stack>\n#include<list>\n#include<queue>\n#include<deque>\n#include<algorithm>\n#include<numeric>\n#include<utility>\n#include<complex>\n#include<functional>\n \nusing namespace std;\n\n/* constant */\n\nconst int MAX_N = 1000;\nconst int MAX_A = 1000000000;\n\nconst int INF = 1 << 30;\n\n/* typedef */\n\ntypedef vector<int> vi;\ntypedef queue<int> qi;\ntypedef pair<int,int> pii;\n\n/* global variables */\n\nbool xs[MAX_N];\nint as[MAX_N];\n\n/* subroutines */\n\n/* main */\n\nint main() {\n  for (;;) {\n    int n;\n    cin >> n;\n    if (n == 0) break;\n\n    for (int i = 0; i < n; i++) {\n      string s;\n      cin >> s;\n      if (s == \"x\") xs[i] = true, as[i] = 0;\n      else xs[i] = false, as[i] = atoi(s.c_str());\n      //printf(\"%d: %d(%d)\\n\", i, as[i], xs[i]);\n    }\n\n    int mina = -INF, maxa = INF;\n    bool ok = true;\n\n    for (int i = 0; i < n; i++) {\n      if (xs[i]) {\n\tif (! (i & 1)) {\n\t  int ai = INF;\n\t  if (i > 0) {\n\t    if (xs[i - 1]) { ok = false; break; }\n\t    if (ai > as[i - 1]) ai = as[i - 1];\n\t  }\n\t  if (i < n - 1) {\n\t    if (xs[i + 1]) { ok = false; break; }\n\t    if (ai > as[i + 1]) ai = as[i + 1];\n\t  }\n\t  ai--;\n\t  if (maxa > ai) maxa = ai;\n\t  //printf(\"i=%d, ai=%d, maxa=%d\\n\", i, ai, maxa);\n\t}\n\telse {\n\t  int ai = -INF;\n\t  if (i > 0) {\n\t    if (xs[i - 1]) { ok = false; break; }\n\t    if (ai < as[i - 1]) ai = as[i - 1];\n\t  }\n\t  if (i < n - 1) {\n\t    if (xs[i + 1]) { ok = false; break; }\n\t    if (ai < as[i + 1]) ai = as[i + 1];\n\t  }\n\t  ai++;\n\t  if (mina < ai) mina = ai;\n\t  //printf(\"i=%d, ai=%d, mina=%d\\n\", i, ai, mina);\n\t}\n      }\n      else {\n\tif (! (i & 1)) {\n\t  if ((i > 0 && ! xs[i - 1] && as[i - 1] <= as[i]) ||\n\t      (i < n - 1 && ! xs[i + 1] && as[i + 1] <= as[i])) {\n\t    ok = false;\n\t    break;\n\t  }\n\t}\n\telse {\n\t  if ((i > 0 && ! xs[i - 1] && as[i - 1] >= as[i]) ||\n\t      (i < n - 1 && ! xs[i + 1] && as[i + 1] >= as[i])) {\n\t    ok = false;\n\t    break;\n\t  }\n\t}\n      }\n    }\n    //printf(\"mina=%d, maxa=%d, ok=%d\\n\", mina, maxa, ok);\n\n    if (! ok || mina > maxa) puts(\"none\");\n    else if (mina < maxa) puts(\"ambiguous\");\n    else printf(\"%d\\n\", mina);\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\ntypedef pair<int,int>pint;\ntypedef vector<int>vint;\n#define pb push_back\n#define mp make_pair\n#define rep(i,n) for(int i=0;i<(n);i++)\ntemplate<class T,class U>void chmin(T &t,U f){if(t>f)t=f;}\ntemplate<class T,class U>void chmax(T &t,U f){if(t<f)t=f;}\n\n#define int long long\n\nint N;\nint x[1000];\n\nint toint(string &s){\n    stringstream ss(s);\n    int ret;\n    ss>>ret;\n    return ret;\n}\n\n\nint main(){\n    while(cin>>N,N){\n        rep(i,N){\n            string s;cin>>s;\n            if(s[0]=='x')x[i]=-1;\n            else x[i]=toint(s);\n        }\n\n        bool ok=true;\n        rep(i,N-1){\n            if(x[i]==-1&&x[i+1]==-1)ok=false;\n        }\n\n        rep(i,N-1){\n            if(x[i]==-1)continue;\n            if(x[i+1]==-1)continue;\n\n            if(i&1){\n                if(x[i+1]>=x[i])ok=false;\n            }\n            else{\n                if(x[i+1]<=x[i])ok=false;\n            }\n        }\n\n        if(!ok){\n            cout<<\"none\"<<endl;\n            continue;\n        }\n\n        int l=-1001001001,u=1001001001;\n\n        rep(i,N){\n            if(x[i]!=-1)continue;\n            if(i&1){\n                if(i)chmax(l,x[i-1]+1);\n                if(i+1<N)chmax(l,x[i+1]+1);\n            }\n            else{\n                if(i)chmin(u,x[i-1]-1);\n                if(i+1<N)chmin(u,x[i+1]-1);\n            }\n        }\n\n        if(l>u)cout<<\"none\"<<endl;\n        else if(l==u)cout<<l<<endl;\n        else cout<<\"ambiguous\"<<endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nconst int INF = 1 << 30;\n\nint main() {\n    int n;\n    while (cin >> n, n > 0) {\n        vector<int> a(n);\n        for (auto &i : a) {\n            char c[100]; cin >> c;\n            if (!strcmp(\"x\", c)) i = INF;\n            else i = atoi(c);\n        }\n\n        int l = -INF, u = INF;\n        bool flag = false;\n        for (int i = 0; !flag && i < n; i++) {\n            if (i > 0 && a[i-1] == INF && a[i] == INF) flag = true;\n            if (i > 0 && a[i-1] != INF && a[i] != INF && a[i] <= a[i-1]) flag = true;\n            if (i + 1 < n && a[i+1] != INF && a[i] != INF && a[i] >= a[i+1]) flag = true;\n            if (a[i] == INF) {\n                if (i % 2 == 0) {\n                    if (i > 0) u = min(u, a[i-1]-1);\n                    if (i + 1 < n) u = min(u, a[i+1]-1);\n                } else {\n                    if (i > 0) l = max(l, a[i-1]+1);\n                    if (i + 1 < n) l = max(l, a[i+1]+1);\n                }\n            }\n        }\n\n        if (flag || l > u) cout << \"none\" << endl;\n        else if (l == u) cout << l << endl;\n        else cout << \"ambiguous\" << endl;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\n#include <string>\n#define INF 2000000000\n#define N 1002\nusing namespace std;\ntypedef long long ll;\nll StoI(string);\nll n,data[N],b,e,flag,cnt;\nstring str[N];\n\nint main(){\n  while(1){\n    cin>>n;\n    if(!n) break;\n    data[0]=(ll)INF+INF;\n    flag=cnt=0;\n    b=0;\n    e=(ll)INF+INF;\n    if(n%2) data[n+1]=(ll)INF+INF;\n    else data[n+1]=0;\n    for(int i=1;i<=n;i++){\n      cin>>str[i];\n      if(str[i]==\"x\"){\n\tcnt++;\n\tcontinue;\n      }\n      data[i]=StoI(str[i])+INF;\n    }\n    for(int i=1;i<n;i++)\n      if(str[i]==\"x\"&&str[i+1]==\"x\") cout<<\"none\"<<endl,flag=1;\n    if(!flag&&!cnt){\n      for(int i=1;i<=n;i++){\n\tif(i%2){\n\t  if(data[i-1]<=data[i]||data[i]>=data[i+1]){\n\t    cout<<\"none\"<<endl,flag=1;\n\t    break;\n\t  }\n\t}else{\n\t  if(data[i-1]>=data[i]||data[i]<=data[i+1]){\n\t    cout<<\"none\"<<endl,flag=1;\n\t    break;\n\t  }\n\t}\n      }\n      if(!flag) cout<<\"ambiguous\"<<endl,flag=1;\n    }\n    if(!flag){\n      for(int i=1;i<=n;i++){\n\tif(str[i]!=\"x\") continue;\n\tif((i%2)&&(data[i-1]<=e||e>=data[i+1])) e=min(min(e,data[i-1]-1),data[i+1]-1);\n\telse if(!(i%2)&&(data[i-1]>=b||b<=data[i+1])) b=max(max(b,data[i-1]+1),data[i+1]+1);\n      }\n      if(b==e) cout<<b-INF<<endl;\n      else if(e-b>0) cout<<\"ambiguous\"<<endl;\n      else cout<<\"none\"<<endl;\n    }\n  }\n  return 0;\n}\n\nll StoI(string s){\n  ll ret=0;\n  if(s[0]=='-'){\n    for(int i=1;i<(int)s.size();i++) ret=ret*10+(s[i]-'0');\n    ret*=-1;\n  }\n  else{\n    for(int i=0;i<(int)s.size();i++) ret=ret*10+(s[i]-'0');\n  }\n  return ret;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define range(i,a,b) for(int i = (a); i < (b); i++)\n#define rep(i,b) for(int i = 0; i < (b); i++)\n#define all(a) (a).begin(), (a).end()\n#define debug(x) cout << \"debug \" << x << endl;\nconst int INF = 2000000000;\nusing namespace std;\n\n//?????????????????°???????????????\nint toNum(string str, bool minus){\n    int num = 0;\n    rep(i,str.size()){\n        num *= 10;\n        num += str[i] - '0';\n    }\n    if(minus) num*=-1;\n    return num;\n}\n\nvoid checkMinus(int a[1001], string s[1001], int n){\n    rep(i,n){\n        if(s[i][0] == '-'){\n            a[i] = toNum(s[i].substr(1,s[i].size() - 1), 1);\n        }else if(s[i][0] == 'x') {\n            a[i] = INF;\n        }else{\n            a[i] = toNum(s[i], 0);\n        }\n    }\n}\n\nbool isDoubleX(int a[1001], int n){\n    rep(i,n - 1){\n        if(a[i] == INF && a[i + 1] == INF) return 1;\n    }\n    return 0;\n}\n\nbool isInpossible(int a[1001], int n){\n    rep(i,n - 1){\n        if(a[i + 1] == INF){\n            i++;\n            continue;\n        } else{\n            if(i % 2){\n                if(a[i] <= a[i + 1]) return 1;\n            }else{\n                if(a[i] >= a[i + 1]) return 1;\n            }\n        }\n    }\n    return 0;\n}\n\nbool isNoneX(int a[1001], int n){\n    bool c = true;\n    rep(i,n){\n        if(a[i] == INF) c = false;\n    }\n    return c;\n}\n\nint main(){\n    int n;\n    while(cin >> n, n){\n        int a[1001];\n        string s[1001];\n        int ans[2] = {0,INF};\n        rep(i,n) cin >> s[i];\n        checkMinus(a, s, n);\n\n        if(isDoubleX(a,n) || isInpossible(a,n)){\n            cout << \"none\" << endl;\n            continue;\n        }else if(isNoneX(a,n)){\n            cout << \"ambiguous\" << endl;\n            continue;\n        }else{\n            rep(i,n){\n                if(a[i] == INF && i != 0 && i != n - 1){\n                    if(i % 2) a[0] = max(max(a[i - 1], a[i + 1]), a[0]);\n                    else a[1] = min(min(a[i - 1], a[i + 1]), a[1]);\n                }else if(a[i] == INF){\n                    if(i % 2) a[0] = max(a[0], a[i + 1]);\n                    else a[1] = min(a[1], a[i - 1]);\n                }\n            }\n            //cout << a[0] << ' '  << a[1] << endl;\n            //if(a[0] == 1000000000 || a[1] == -10000000000) cout << \"none\" << endl;\n            if(0);\n            else if(a[1] - a[0] == 2) cout << a[1] - 1 << endl;\n            else if(a[1] - a[0] > 2) cout << \"ambiguous\" << endl;\n            else cout << \"none\" << endl;\n        }\n    }\n}"
  },
  {
    "language": "C++",
    "code": "///\n// File:  2565.cpp\n// Author: ymiyamoto\n//\n// Created on Sun Nov 26 23:04:35 2017\n//\n\n#include <cstdint>\n#include <iostream>\n#include <string>\n#include <vector>\n\nusing namespace std;\n\nint32_t main()\n{\n  while (true) {\n    int32_t n;\n    cin >> n;\n\n    if (n == 0) break;\n\n    vector<string> signals(n + 1);\n    for (int32_t i = 1; i <= n; i++) {\n      cin >> signals[i];\n    }\n\n    bool invalid = false;\n    int64_t xodd = INT32_MAX;\n    int64_t xeven = INT32_MIN;\n    for (int32_t i = 1; i <= n; i++) {\n      if (i + 1 <= n && signals[i] == signals[i + 1]) {\n        invalid = true;\n      }\n\n      if (signals[i] != \"x\") {\n        if (i % 2 == 1) {\n          int64_t s = stoll(signals[i]);\n          if (i - 1 >= 1 && signals[i - 1] != \"x\" && s >= stoll(signals[i - 1])) {\n            invalid = true;\n          }\n          if (i + 1 <= n && signals[i + 1] != \"x\" && s >= stoll(signals[i + 1])) {\n            invalid = true;\n          }\n        } else {\n          int64_t s = stoll(signals[i]);\n          if (i - 1 >= 1 && signals[i - 1] != \"x\" && s <= stoll(signals[i - 1])) {\n            invalid = true;\n          }\n          if (i + 1 <= n && signals[i + 1] != \"x\" && s <= stoll(signals[i + 1])) {\n            invalid = true;\n          }\n        }\n      } else {\n        if ((i - 1 >= 1 && signals[i - 1] == \"x\") || (i + 1 <= n && signals[i + 1] == \"x\")) {\n          invalid = true;\n        } else {\n          if (i % 2 == 1) {\n            int64_t x1 = i - 1 >= 1 ? stoll(signals[i - 1]) : INT64_MAX;\n            int64_t x2 = i + 1 <= n ? stoll(signals[i + 1]) : INT64_MAX;\n            xodd = min(xodd, min(x1, x2) - 1);\n          } else {\n            int64_t x1 = i - 1 >= 1 ? stoll(signals[i - 1]) : INT64_MIN;\n            int64_t x2 = i + 1 <= n ? stoll(signals[i + 1]) : INT64_MIN;\n            xeven = max(xeven, max(x1, x2) + 1);\n          }\n        }\n      }\n    }\n    if (invalid) {\n      cout << \"none\" << endl;\n    } else if (xodd == xeven) {\n      cout << xodd << endl;\n    } else if (xodd < xeven) {\n      cout << \"none\" << endl;\n    } else {\n      cout << \"ambiguous\" << endl;\n    }\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <cmath>\n#include <algorithm>\n#include <cstdlib>\n#include <ctime>\n#include <cstdio>\n#include <functional>\n#include <set>\n#include <sstream>\n#include <map>\n#include <queue>\n#include <stack>\n\nusing namespace std;\n\n\nconst int six_dx[]={1,1,0,-1,-1,0};\nconst int six_dy[]={1,0,-1,-1,0,1};\n\nint main()\n{\n\tint n;\n\twhile(cin>>n,n){\n\n\t\tvector<long long> a(n,-1);\n        int x=0;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tstring s;\n\t\t\tcin>>s;\n\n\t\t\tif(s!=\"x\"){\n\t\t\t\tstringstream ss;\n\t\t\t\tss<<s;\n\t\t\t\tss>>a[i];\n\t\t\t}\n            else x++;\n\t\t}\n        \n\t\tif(x==0){\n            bool none=false;\n            for(int i=1;i<n;i++){\n                if(i%2 && a[i-1]>=a[i] || i%2==0 && a[i-1]<=a[i]) none=true;\n            }\n            if(none) cout<<\"none\"<<endl;\n            else cout<<\"ambiguous\"<<endl;\n            continue;\n        }else if(x==n){cout<<\"none\"<<endl; continue;}\n\n\t\tlong long L=-10000000000,R=10000000000;\n\t\t\n\t\tif(a[0]==-1){\n\t\t\tif(a[1]==-1){cout<<\"none\"<<endl; continue;}\n\t\t\telse L=a[1]+1;\n\t\t}\n\n\t\tbool none=false;\n\t\tfor(int i=1;i<n-1 && !none;i++){\n\t\t\tif(a[i]==-1){\n\t\t\t\tif(a[i-1]==-1 || a[i+1]==-1){none=true;}\n                else if((i+1)%2==0){\n                    if(L<=max(a[i-1],a[i+1])+1 && max(a[i-1],a[i+1])+1<=R) L=max(a[i-1],a[i+1])+1;\n                    else none=true;\n                }else{\n                    if(L<=min(a[i-1],a[i+1])-1 && min(a[i-1],a[i+1])-1<=R) R=min(a[i-1],a[i+1])-1;\n                    else none=true;\n                }\n\t\t\t\t//cout<<a[i-1]<<\" x \"<<a[i+1]<<\" -> \";\n\t\t\t\t//cout<<\"L=\"<<L<<\" R=\"<<R<<endl;\n\t\t\t}\n\t\t}\n\n        if(a[n-1]==-1){\n            if(n%2==0){\n                if(L<=a[n-2]+1 && a[n-2]+1<=R) L=a[n-2]+1;\n                else none=true;\n            }else{\n                if(L<=a[n-2]-1 && a[n-2]-1<=R) R=a[n-2]-1;\n                else none=true;\n            }\n        }\n        \n\t\tif(none){cout<<\"none\"<<endl;}\n\t\telse if(L==R) cout<<L<<endl;\n\t\telse cout<<\"ambiguous\"<<endl;\n\t\t\n\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\nconst int INF = 1e9;\nconst ll LINF = 1e18;\ntemplate<class S,class T> ostream& operator << (ostream& out,const pair<S,T>& o){ out << \"(\" << o.first << \",\" << o.second << \")\"; return out; }\ntemplate<class T> ostream& operator << (ostream& out,const vector<T>& V){ for(int i = 0; i < V.size(); i++){ out << V[i]; if(i!=V.size()-1) out << \" \";} return out; }\ntemplate<class T> ostream& operator << (ostream& out,const vector<vector<T> >& Mat){ for(int i = 0; i < Mat.size(); i++) { if(i != 0) out << endl; out << Mat[i];} return out; }\ntemplate<class S,class T> ostream& operator << (ostream& out,const map<S,T>& mp){ out << \"{ \"; for(auto it = mp.begin(); it != mp.end(); it++){ out << it->first << \":\" << it->second; if(mp.size()-1 != distance(mp.begin(),it)) out << \", \"; } out << \" }\"; return out; }\ntemplate<typename T>vector<T> make_v(size_t a){return vector<T>(a);}\ntemplate<typename T,typename... Ts>auto make_v(size_t a,Ts... ts){return vector<decltype(make_v<T>(ts...))>(a,make_v<T>(ts...));}\ntemplate<typename T,typename V> typename enable_if<is_class<T>::value==0>::type fill_v(T &t,const V &v){t=v;}\ntemplate<typename T,typename V> typename enable_if<is_class<T>::value!=0>::type fill_v(T &t,const V &v){for(auto &e:t) fill_v(e,v);}\n/*\n <url:>\n 問題文============================================================\n =================================================================\n 解説=============================================================\n ================================================================\n */\n\ntemplate<class Type>\nType solve(Type res = Type()){\n    return res;\n}\nint main(void) {\n    cin.tie(0); ios_base::sync_with_stdio(false);\n    // solve(0);\n    // cout << fixed << setprecision(15) << solve<ll>() << endl;\n    int N;\n    while(cin >> N,N){\n        vector<int> a(N);\n        vector<char> x(N);\n        for(int i = 0; i < N;i++){\n            string s; cin >> s;\n            if(s == \"x\"){\n                x[i] = true;\n                continue;\n            }\n            a[i] = atoi(s.c_str());\n        }\n        bool ng = false;\n        for(int i = 1; i < N;i++){ // x x\n            if(x[i] && x[i-1]) ng = true;\n            if(!x[i] && !x[i-1]){\n                if(i&1){\n                    if(a[i] <= a[i-1]) ng = true;\n                }else{\n                    if(a[i] >= a[i-1]) ng = true;\n                }\n            }\n        }\n        if(ng){\n            cout << \"none\" << endl;\n            continue;\n        }\n        int l = -2*INF,r = 2*INF;\n        for(int i = 0; i < N;i++){\n            if(!x[i]) continue;\n            if(i!=0){\n                if(i&1){\n                    l = max(l,a[i-1]+1);\n                }else{\n                    r = min(r,a[i-1]-1);\n                }\n            }\n            if(i!=N-1){\n                if(i&1){\n                    l = max(l,a[i+1]+1);\n                }else{\n                    r = min(r,a[i+1]-1);\n                }\n            }\n        }\n        if(l==r){\n            cout << l << endl;\n        }else if(l < r){\n            cout << \"ambiguous\" << endl;\n        }else{\n            cout << \"none\" << endl;\n        }\n    }\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<string>\n#include<cstdlib>\n#define inf 1000000002\nusing namespace std;\n \nint main()\n{\n  int ma,mi,N;\n  vector<string> S;\n  string s;\n  while(1){\n    cin>>N;\n    if(N==0)break;\n    S.clear();\n    S.push_back(\"1000000002\");\n    for(int i=0;i<N;i++){\n      cin>>s;\n      S.push_back(s);\n    }\n \n    ma=inf;mi=(-1)*inf;\n    for(int i=1;i<N+1;i++){\n      if(S[i]==\"x\"){\n        if(S[i-1]==\"x\"){\n      ma=(-1)*inf;mi=inf;\n      break;\n      }\n    if(i%2==0){\n      mi=max(mi,atoi(S[i-1].c_str())+1);\n    }\n    if(i%2==1){\n      ma=min(ma,atoi(S[i-1].c_str())-1);\n    }\n      }\n      else {\n    if(S[i-1]==\"x\"){\n      if(i%2==0){\n        ma=min(ma,atoi(S[i].c_str())-1);\n      }\n      if(i%2==1){\n        mi=max(mi,atoi(S[i].c_str())+1);\n      }\n    }\n    else {\n      if(i%2==0){\n            if(atoi(S[i].c_str())<atoi(S[i-1].c_str())){\n          ma=(-1)*inf;mi=inf;\n          break;\n        }\n      }\n      if(i%2==1){\n        if(atoi(S[i].c_str())>atoi(S[i-1].c_str())){\n          ma=(-1)*inf;mi=inf;\n          break;\n        }\n      }\n    }\n      }\n    }\n    if(ma==mi)cout<<ma<<endl;\n    else if(ma<mi)cout<<\"none\"<<endl;\n    else cout<<\"ambiguous\"<<endl;\n  }\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define REP(i,n) for(int i=0;i<(n);i++)\n#define ALL(v) (v).begin(),(v).end()\n#define fir first\n#define sec second\n#define PB push_back\n#define MP make_pair\n#define ll long long\nusing namespace std;\nint X=1e9+100;\nint main(){\n    int n;\n    while(1){\n        cin>>n;\n        if(n==0)break;\n        int v[n];\n        \n        REP(i,n){\n            string s;\n            cin>>s;\n            v[i]=0;\n            if(s==\"x\")v[i]=X;\n            else{\n                REP(j,s.size()){\n                    if(s[j]=='-')continue;\n                    v[i]*=10;v[i]+=s[j]-'0';\n                }\n                if(s[0]=='-')v[i]*=-1;\n            }\n        }\n        int ma=X,mi=(-1)*X;\n        REP(i,n){\n            if(v[i]==X){\n                if(i%2==0){\n                    if(i>0){\n                        if(v[i-1]==X){ma=(-1)*X;mi=X;}\n                        else ma=min(ma,v[i-1]-1);\n                    }\n                    if(i<n-1){\n                        if(v[i+1]==X){ma=(-1)*X;mi=X;}\n                        else ma=min(ma,v[i+1]-1);\n                    }\n                }else{\n                    if(i>0){\n                        if(v[i-1]==X){ma=(-1)*X;mi=X;}\n                        else mi=max(mi,v[i+1]+1);\n                    }\n                    if(i<n-1){\n                        if(v[i+1]==X){ma=(-1)*X;mi=X;}\n                        else mi=max(mi,v[i+1]+1);\n                    }\n                }\n            }else{\n                if(i%2==0){\n                    if(i>0&&v[i-1]!=X&&v[i]>=v[i-1]){ma=(-1)*X;mi=X;}\n                    if(i<n-1&&v[i+1]!=X&&v[i]>=v[i+1]){ma=(-1)*X;mi=X;}\n                }else{\n                    if(i>0&&v[i-1]!=X&&v[i]<=v[i-1]){ma=(-1)*X;mi=X;}\n                    if(i<n-1&&v[i+1]!=X&&v[i]<=v[i+1]){ma=(-1)*X;mi=X;}\n                }\n            }\n        }\n        if(ma>mi)cout<<\"ambiguous\"<<endl;\n        else if(ma<mi) cout<<\"none\"<<endl;\n        else cout<<mi<<endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;int x=1200000000;\nint n;string S;vector<int>vec;\nint main(){\n\twhile(true){\n\t\tvec.clear();vec.push_back(1<<30);\n\t\tcin>>n;if(n==0)break;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tcin>>S;\n\t\t\tif(S==\"x\")vec.push_back(x);\n\t\t\telse{vec.push_back(stoi(S));}\n\t\t}\n\t\tif(n%2==0)vec.push_back(-1<<30);\n\t\telse{vec.push_back(1<<30);}\n\t\tint L=-1010101010,R=1010101010;int OK=0;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tif(i%2==1 && vec[i-1]<=vec[i] && vec[i]!=x)OK=1;\n\t\t\tif(i%2==0 && vec[i-1]>=vec[i] && vec[i]!=x)OK=1;\n\t\t\tif(vec[i-1]==x && vec[i]==x)OK=1;\n\t\t\tif(vec[i]==x){\n\t\t\t\tif(i%2==1)R=min(R,min(vec[i-1],vec[i+1])-1);\n\t\t\t\tif(i%2==0)L=max(L,max(vec[i-1],vec[i+1])+1);\n\t\t\t}\n\t\t}\n\t\tif(OK==1 || L>R)cout<<\"none\"<<endl;\n\t\tif(OK==0 && L==R)cout<<L<<endl;\n\t\tif(OK==0 && L<R)cout<<\"ambiguous\"<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "//Name: Broken Audio Signal\n//Level: 2\n//Category: シミュレーション\n//Note:\n\n/**\n * xがとり得る値の上限と下限を覚えておきながら、数列を走査していく。\n * xが連続していたり、途中でxが絡まない矛盾が発生していたりすることに注意。\n * また、xのとり得る範囲はa_iがとり得る範囲よりすこし広い。\n *\n * オーダーは O(N)。\n */\n\n#include <iostream>\n#include <vector>\n#include <string>\n#include <utility>\n#include <algorithm>\n\nusing namespace std;\n\nenum Type {\n    NUM, X\n};\n\nstruct Tag {\n    Type type;\n    int val;\n};\n\nbool solve() {\n    int N;\n    if(!(cin >> N)) return false;\n    if(!N) return false;\n\n    vector<Tag> v(N);\n    for(int i = 0; i < N; ++i) {\n        string s;\n        cin >> s;\n        if(s == \"x\") {\n            v[i].type = X;\n        } else {\n            v[i].type = NUM;\n            v[i].val = stoi(s);\n        }\n    }\n\n    pair<int,int> res(-1000000000-10, 1000000000+10);\n    bool inconsistent = false;\n    for(int i = 0; i < N; ++i) {\n        if(v[i].type == X) {\n            if(i % 2 == 1) {\n                if(i > 0) res.first = max(res.first, v[i-1].val+1);\n                if(i < N-1) res.first = max(res.first, v[i+1].val+1);\n            } else {\n                if(i > 0) res.second = min(res.second, v[i-1].val-1);\n                if(i < N-1) res.second = min(res.second, v[i+1].val-1);\n            }\n            if(i > 0 && v[i-1].type == X) inconsistent = true;\n        } else {\n            if(i % 2 == 1) {\n                if(i > 0 && v[i-1].type == NUM) inconsistent = inconsistent || (v[i-1].val >= v[i].val);\n                if(i < N-1 && v[i+1].type == NUM) inconsistent = inconsistent || (v[i+1].val >= v[i].val);\n            } else {\n                if(i > 0 && v[i-1].type == NUM) inconsistent = inconsistent || (v[i-1].val <= v[i].val);\n                if(i < N-1 && v[i+1].type == NUM) inconsistent = inconsistent || (v[i+1].val <= v[i].val);\n            }\n        }\n        //cout << res.first << ' ' << res.second << endl;\n    }\n    if(inconsistent || res.first > res.second) {\n        cout << \"none\" << endl;\n    } else if(res.first == res.second) {\n        cout << res.first << endl;\n    } else {\n        cout << \"ambiguous\" << endl;\n    }\n    return true;\n}\n\nint main() {\n    cin.tie(0);\n    ios::sync_with_stdio(0);\n\n    while(solve()) ;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\n\nint main() {\n\n  while( true ) {\n\n    long long int n;\n    cin >> n;\n    if ( n == 0 ) break;\n\n    long long int ue = 10000000000;\n    long long int shita = -10000000000;\n\n    bool f = true;\n\n    long long int b;\n    long long int k = 10000000000;\n\n    for ( long long int i = 0; i < n; i++ ) {\n\n      string in;\n      cin >> in;\n\n      if ( in != \"x\" ) {\n\tk = 0;\n\tfor ( long long int j = 0; j < in.size(); j++ ) {\n\t  k = k * 10 + in[j] - '0';\n\t}\n\tif ( i > 0 ) {\n\t  if ( b == 10000000000 ) {\n\t    if ( ( i % 2 ) == 0 ) {\n\t      shita = max( shita, k + 1 );\n\t    }else {\n\t      ue = min( ue, k - 1 );\n\t    }\n\t  }else {\n\t    if ( ( i % 2 ) == 0 ) {\n\t      if ( b <= k ) f = false;\n\t    }else {\n\t      if ( b >= k ) f = false;\n\t    }\n\t  }\n\t}\n      }else {\n\tk = 10000000000;\n\tif ( i > 0 ) {\n\t  if ( b == 10000000000 ) {\n\t    f = false;\n\t  }else {\n\t    if ( ( i % 2 ) == 0 ) {\n\t      ue = min( ue, b - 1 );\n\t    }else {\n\t      shita = max( shita, b + 1 );\n\t    }\n\t  }\n\t}\n      }\n\n      b = k;\n\n    }\n\n    if ( f == false || ue < shita ) {\n      cout << \"none\" << endl;\n    }else if ( ue == shita ) {\n      cout << ue << endl;\n    }else {\n      cout << \"ambiguous\" << endl;\n    }\n\n  }\n\n  return 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <string>\n#include <iostream>\n#include <algorithm>\n#define INF 1000000007\nusing namespace std;\nint N, a[1000]; string s;\nint main() {\n\twhile (cin >> N, N) {\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\tcin >> s;\n\t\t\ta[i] = s[0] != 'x' ? stoi(s) : INF;\n\t\t}\n\t\tint f = 1;\n\t\tfor (int i = 0; i < N; i += 2) {\n\t\t\tif (a[i] == INF) continue;\n\t\t\tif (i && a[i - 1] != INF && a[i - 1] <= a[i]) f = 0;\n\t\t\tif (i + 1 != N && a[i + 1] != INF && a[i] >= a[i + 1]) f = 0;\n\t\t}\n\t\tfor (int i = 1; i < N; i += 2) {\n\t\t\tif (a[i] == INF) continue;\n\t\t\tif (a[i - 1] != INF && a[i - 1] >= a[i]) f = 0;\n\t\t\tif (i + 1 != N && a[i + 1] != INF && a[i] <= a[i + 1]) f = 0;\n\t\t}\n\t\tfor (int i = 1; i < N; i++) {\n\t\t\tif (a[i - 1] == a[i]) f = 0;\n\t\t}\n\t\tif (!f) cout << \"none\" << endl;\n\t\telse if (find(a, a + N, INF) == a + N) cout << \"ambiguous\" << endl;\n\t\telse {\n\t\t\tint l = -INF, r = INF;\n\t\t\tfor (int i = 0; i < N; i += 2) {\n\t\t\t\tif (a[i] != INF) continue;\n\t\t\t\tif (i) r = min(r, a[i - 1] - 1);\n\t\t\t\tif (i + 1 != N) r = min(r, a[i + 1] - 1);\n\t\t\t}\n\t\t\tfor (int i = 1; i < N; i += 2) {\n\t\t\t\tif (a[i] != INF) continue;\n\t\t\t\tl = max(l, a[i - 1] + 1);\n\t\t\t\tif (i + 1 != N) l = max(l, a[i + 1] + 1);\n\t\t\t}\n\t\t\tif (r - l < 0) cout << \"none\" << endl;\n\t\t\telse if (r - l > 0) cout << \"ambiguous\" << endl;\n\t\t\telse cout << l << endl;\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <cmath>\n#include <cstdio>\n#include <algorithm>\n#include <vector>\n#include <memory>\n#include <cstring>\n#include <cassert>\n#include <numeric>\n#include <sstream>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <cctype>\n#include <unordered_map>\n#include <unordered_set>\nusing namespace std;\n\n#define REP2(i, m, n) for (int i = (int)(m); i < (int)(n); i++)\n#define REP(i, n) REP2(i, 0, n)\n#define ALL(S) (S).begin(), (S).end()\ntypedef long long ll;\n\nint main(){\n  ios::sync_with_stdio(false);\n\n  int N;\n  while (cin >> N  && N){\n    vector<int> A(N);\n    vector<int> B(N);\n\n    REP(i, N){\n      string str;\n      cin >> str;\n      B[i] = ! (str == \"x\");\n      \n      if (str != \"x\"){\n        A[i] = atoi(str.c_str());\n      }\n    }\n\n    vector<int> candidate;\n    REP (i, N) if (B[i]){\n      candidate.push_back(A[i] - 2);\n      candidate.push_back(A[i] - 1);\n      candidate.push_back(A[i]);\n      candidate.push_back(A[i] + 1);\n      candidate.push_back(A[i] + 2);\n    }\n\n    sort(ALL(candidate));\n    candidate.erase(unique(ALL(candidate)), candidate.end());\n\n    vector<int> ans;\n\n    for (auto v : candidate){\n      REP(i, N) if (B[i] == 0){\n        A[i] = v;\n      }\n\n      bool ok = true;\n\n      REP(i, N){\n        if (i % 2 == 0){\n          ok = ok && (i == 0 || A[i - 1] > A[i]);\n          ok = ok && (i == N - 1 || A[i + 1] > A[i]);\n        } else {\n          ok = ok && (i == 0 || A[i - 1] < A[i]);\n          ok = ok && (i == N - 1 || A[i + 1] < A[i]);\n        }\n      }\n      if (ok){\n        ans.push_back(v);\n      }\n    }\n      \n    if (ans.empty()){\n      cout << \"none\" << endl;\n    } else if (ans.size() > 1){\n      cout << \"ambiguous\" << endl;\n    } else  {\n      cout << ans[0] << endl;\n    }\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <fstream>\n#include <cstdio>\n#include <cmath>\n#include <vector>\n#include <cstring>\n#include <string>\n#include <set>\n#include <map>\n#include <stack>\n#include <queue>\n#include <algorithm>\nusing namespace std;\n \n#define REP(i,n) for(int i=0; i<n; ++i)\n#define FOR(i,a,b) for(int i=a; i<=b; ++i)\n#define FORR(i,a,b) for (int i=a; i>=b; --i)\n#define pi M_PI\n \ntypedef long long ll;\ntypedef vector<int> VI;\ntypedef vector<ll> VL;\ntypedef vector<VI> VVI;\ntypedef pair<int,int> P;\ntypedef pair<ll,ll> PL;\n\nconst int INF = 1e9 + 2;\n\nint stoii(string s){\n    int res = 0;\n    REP(i,s.length()){\n        res = 10*res + s[i]-'0';\n    }\n    return res;\n}\n\nint main() {\n    int n;\n    while (cin >> n && n){\n        VI a(n+2), c(n+2);\n        FOR(i,1,n){\n            string s;\n            cin >> s;\n            if (s == \"x\") {\n                c[i] = 1;\n                if (i % 2 == 1)\n                    a[i] = -INF;\n                else\n                    a[i] = INF;\n            }\n            else a[i] = stoii(s);\n        }\n        a[0] = INF;\n        if (n % 2 == 1) a[n+1] = INF;\n        else a[n+1] = -INF;\n        bool d = 0;\n        FOR(i,1,n-1) if (c[i] & c[i+1]) d = 1;\n        FOR(i,1,n){\n            if (i % 2 == 1 && (a[i] >= a[i-1] || a[i] >= a[i+1])) d = 1;\n            if (i % 2 == 0 && (a[i] <= a[i-1] || a[i] <= a[i+1])) d = 1;\n        }\n        if (d) {\n            cout << \"none\" << endl;\n            continue;\n        }\n\n        int mi = -INF, ma = INF;\n        FOR(i,1,n){\n            if (c[i] && i % 2 == 1)\n                ma = min({ma, a[i-1]-1, a[i+1]-1});\n            else if (c[i] && i % 2 == 0)\n                mi = max({mi, a[i-1]+1, a[i+1]+1});\n        }\n\n        if (mi == ma) cout << mi << endl;\n        else if (mi < ma) cout << \"ambiguous\" << endl;\n        else cout << \"none\" << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define REP(i,a,b) for(int i=a;i<(int)b;i++)\n#define rep(i,n) REP(i,0,n)\n\ntypedef long long ll;\n\nll const inf = 1LL<<50;\n\nll L, R;\n\nvoid find_x(pair<ll, ll> a, pair<ll, ll> b) {\n  ll r = min(a.second, b.second), l = b.first;\n  L = max(L, l);\n  R = min(R, r);\n}\n\nint main() {\n  \n  int N;\n  while(cin >> N && N) {\n    vector<ll> v(N);\n    rep(i, N) {\n      string s; cin >> s;\n      if(s == \"x\") v[i] = inf; else v[i] = atol(s.c_str());\n    }\n    \n    vector<pair<ll, ll> > w;\n    w.push_back(make_pair(-inf, inf));\n    rep(i, N) {\n      if(v[i] != inf) { continue; }\n      if(i&1) { // even\n        if(i-1>=0)\n          w.push_back(make_pair(v[i-1], inf));\n        if(i+1<N)\n          w.push_back(make_pair(v[i+1], inf));\n      }\n      else {\n        if(i-1>=0)\n          w.push_back(make_pair(-inf, v[i-1]));\n        if(i+1<N)\n          w.push_back(make_pair(-inf, v[i+1]));\n      }\n    }\n    \n    sort(w.begin(), w.end());\n    w.erase(unique(w.begin(), w.end()), w.end());\n\n    L = -inf, R = inf;\n    rep(i, w.size()) REP(j, i+1, w.size()) {\n      find_x(w[i], w[j]);\n    }\n    \n    if(w.size() == 1) {\n      L = w[0].first, R = w[0].second;\n    }\n    \n    ll cnt = R-L;\n    \n    rep(i, N-1) {\n      if(v[i] == inf || v[i+1] == inf) continue;\n      if(v[i] >= v[i+1]) cnt = -inf;\n    }\n    \n    if(cnt <= 1) { cout << \"none\\n\"; }\n    else if(cnt == 2) { cout << L+1 << endl; }\n    else { cout << \"ambiguous\\n\"; }\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <vector>\n#include <set>\n#include <map>\n#include <queue>\n#include <deque>\n#include <stack>\n#include <algorithm>\n#include <cstring>\n#include <functional>\n#include <cmath>\n#include <sstream>\nusing namespace std;\n#define rep(i,n) for(int i=0;i<(n);++i)\n#define rep1(i,n) for(int i=1;i<=(n);++i)\n#define all(c) (c).begin(),(c).end()\n#define fs first\n#define sc second\n#define pb push_back\n#define show(x) cout << #x << \" \" << x << endl\nint n,a[1000];\nint To_int(string s){\n\tistringstream is(s);\n\tint ret;\n\tis>>ret;\n\treturn ret;\n}\nstring To_string(int a){\n\tostringstream os;\n\tos << a;\n\treturn os.str();\n}\nstring solve(){\n\trep(i,n){\n\t\tstring s;\n\t\tcin>>s;\n\t\tif(s[0]=='x') a[i]=-1;\n\t\telse a[i]=To_int(s);\n\t}\n\trep(i,n-1){\n\t\tif(a[i]==-1&&a[i+1]==-1) return \"none\";\n\t\tif(a[i]!=-1&&a[i+1]!=-1){\n\t\t\tif(i%2==0&&a[i]>a[i+1]) return \"none\";\n\t\t\tif(i%2==1&&a[i]<a[i+1]) return \"none\";\n\t\t}\n\t}\n\tint ub=1e9+4,lb=-1e9-4;\n\trep(i,n){\n\t\tif(a[i]==-1){\n\t\t\tif(i>0){\n\t\t\t\tif(i%2==1) lb=max(lb,a[i-1]+1);\n\t\t\t\telse ub=min(ub,a[i-1]-1);\n\t\t\t}\n\t\t\tif(i<n-1){\n\t\t\t\tif(i%2==1) lb=max(lb,a[i+1]+1);\n\t\t\t\telse ub=min(ub,a[i+1]-1);\n\t\t\t}\n\t\t}\n\t}\n\tif(ub<lb) return \"none\";\n\tif(ub==lb) return To_string(ub);\n\treturn \"ambiguous\";\n}\nint main(){\n\twhile(true){\n\t\tcin>>n;\n\t\tif(n==0) break;\n\t\tcout<<solve()<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nint main()\n{\n  int n;\n  while(cin >> n, n){    \n    string signal[1002];\n    signal[0] = to_string(1e9);\n    for(int i = 1; i <= n; i++) cin >> signal[i];\n    if(n % 2) signal[n + 1] = to_string(1e9);\n    else signal[n + 1] = to_string(-(1e9));\n    int less = -(1e9)-3, more = 1e9+3;    \n    for(int i = 1; i <= n; i++){\n      if(signal[i] == \"x\"){\n\tif(signal[i-1] == \"x\" || signal[i+1] == \"x\"){\n\t  less = more = 1e9+3;\n\t  break;\n\t}\n\tif(i % 2) more = min(stoi(signal[i-1]), stoi(signal[i+1]));\n\telse less = max(stoi(signal[i-1]), stoi(signal[i+1]));\n      } else if(signal[i-1] != \"x\" && signal[i+1] != \"x\"){\n\tif(i%2 == 0 && (signal[i] <= signal[i-1] || signal[i] <= signal[i+1]) ||\n\t\ti%2 == 1 && (signal[i] >= signal[i-1] || signal[i] >= signal[i+1])){\n\t  less = 1e9+3, more = -(1e9)-3;\n\t  break;\n\t}\n      }\n    }\n    if(less == more) cout << \"none\" << endl;\n    else if(more - less > 2) cout << \"ambiguous\" << endl;\n    else if(more - less < 2) cout << \"none\" << endl;\n    else cout << (more + less) / 2 << endl;\n  }  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nint N;\nint X[1001];\n\nconst int INF = 2000000000;\nint main(){\n  while( cin >> N && N ){\n    for(int i=0;i<N;i++){\n      string s; cin >> s;\n      if( s == \"x\" ) X[i] = -INF;\n      else {\n        stringstream sin(s);\n        sin >> X[i];\n      }\n    }\n    int r = -1000000009;\n    int l =  1000000009;\n    bool f = true;\n    bool nf = true;\n    for(int i=0;i<N;i++){\n      if(i < N-1 &&  X[i] == X[i+1] && X[i] == -INF ) f = false;\n      if( X[i] == -INF ){\n        nf = false;\n        if( i & 1 ){//even\n          if( i > 0 ) r = max( X[i-1]+1,r );\n          if( i < N-1 ) r = max( X[i+1]+1,r );\n        } else {\n          if( i > 0 ) l = min( X[i-1]-1,l );\n          if( i < N-1 ) l = min( X[i+1]-1,l );\n        }\n      } else {\n        if( i & 1 ){\n          if( i > 0 && X[i-1] != -INF && X[i-1] >= X[i] ) f = false;\n          if( i < N -1 && X[i+1] != -INF && X[i+1] >= X[i] ) f = false;\n        } else {\n          if( i > 0 && X[i-1] != -INF && X[i-1] <= X[i] ) f = false;\n          if( i < N -1 && X[i+1] != -INF && X[i+1] <= X[i] ) f = false;\n        }\n      }\n      //cout << X[i] << \" \" << l <<\" \"<< r << endl;\n    }\n    //  cout << f<< \" \"<< nf << \" \" << l << \" \" << r << endl;\n    if( !f ) cout << \"none\" << endl;\n    else if( nf ) cout << \"ambiguous\" << endl;\n    else if( l == r ) cout << l << endl;\n    else if( l < r ) cout << \"none\" << endl;\n    else cout << \"ambiguous\" << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <algorithm>\n#include <cstdlib>\nusing namespace std;\n#define F (1000000003)\n\nint main(){\n    int i,j,n,cf,ct,nanf,cnt;\n    char s[11];\n\n    while(1){\n        scanf(\"%d\",&n);\n        if(!n){break;}\n        int l[n];\n        for(i=0;i<n;i++){\n            scanf(\"%s\",s);\n            if(s[0]!='x'){\n                l[i]=atoi(s);\n            }\n            else{\n                l[i]=0;\n            }\n        }\n        cf=-F;ct=F;nanf=0;\n        if((l[0]>l[1] && l[1] && l[0]) || (!l[0]&&!l[1])){nanf=1;}\n        else if(!l[0] && l[1]){ct=l[1];}\n        for(i=1;i<n-1&&!nanf;i++){\n            if(i%2){\n                if((l[i] && l[i]<l[i+1]) || (!l[i]&&!l[i+1])){nanf=1;}\n                else if(!l[i]){cf=max({cf,l[i-1],l[i+1]});}\n            }\n            else{\n                if((l[i] && l[i]>l[i+1]) || (!l[i]&&!l[i+1])){nanf=1;}\n                else if(!l[i]){ct=min({ct,l[i-1],l[i+1]});}\n            }\n        }\n        if(!l[n-1]){\n            if((n-1)%2){\n                cf=max({cf,l[n-2]});\n            }\n            else{\n                ct=min({ct,l[n-2]});\n            }\n        }\n        cnt=abs(ct-cf)-1;\n        if(nanf){printf(\"none\\n\");}\n        else if(cnt==1){printf(\"%d\\n\",cf+1);}\n        else{printf(\"ambiguous\\n\");}\n    }\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <cstring>\n#include <algorithm>\n#include <sstream>\n\n#define REP(i,k,n) for(int i=k;i<n;i++)\n#define rep(i,n) for(int i=0;i<n;i++)\n\nusing namespace std;\ntypedef long long ll;\n\nint main()\n{\n    int n;\n    while(cin >> n && n) {\n        vector<string> v(n);\n        rep(i,n) cin >> v[i];\n\n        vector<int> res(n);\n        rep(i,n) {\n            if(v[i] == \"x\") res[i] = 0;\n            else {\n                stringstream ss;\n                ss << v[i];\n                ss >> res[i];\n            }\n        }\n\n        bool flag = true;\n        rep(i,n-1) {\n            if(v[i] == \"x\" && v[i+1] == \"x\") flag = false;\n        }\n\n        if(!flag) {\n            cout << \"none\" << endl;\n        }\n        else {\n            bool up = true;\n            for(int i=0;i<n-1;i+=2) {\n                if(v[i] == \"x\" || v[i+1] == \"x\") continue;\n                if(v[i] > v[i+1]) {\n                    up = false;\n                }\n            }\n\n            if(!up) {\n                cout << \"none\" << endl;\n            }\n            else {\n                int M = 1000000000;\n                int l = -M+5;\n                int r = M+5;\n\n                rep(i,n) {\n                    if(v[i] != \"x\") continue;\n\n                    if(i%2 == 0) {\n                        if(i == 0) {\n                            r = min(r,res[i+1]-1);\n                        }\n                        if(0 < i && i < n-1) {\n                            r = min(r,res[i-1]-1);\n                            r = min(r,res[i+1]-1);\n                        }\n                        if(i == n-1) {\n                            r = min(r,res[i-1]-1);\n                        }\n                    }\n                    else {\n                        if(i == 0) {\n                            l = max(l,res[i+1]+1);\n                        }\n                        if(0 < i && i < n-1) {\n                            l = max(l,res[i-1]+1);\n                            l = max(l,res[i+1]+1);\n                        }\n                        if(i == n-1) {\n                            l = max(l,res[i-1]+1);\n                        }\n                    }\n                }\n\n                if(l == r) {\n                    cout << l << endl;\n                }\n                else if(l > r) {\n                    cout << \"none\" << endl;\n                }\n                else {\n                    cout << \"ambiguous\" << endl;\n                }\n            }\n\n        }\n\n\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\n#include <string>\n#define INF 2000000000\n#define N 1002\nusing namespace std;\nint StoI(string);\nint n,data[N],maxv,minv,flag,cnt;\nstring str[N];\n\nint main(){\n  while(1){\n    cin>>n;\n    if(!n) break;\n    data[0]=INF;\n    flag=cnt=0;\n    maxv=-INF;\n    minv=INF;\n    if(n%2) data[n+1]=INF;\n    else data[n+1]=-INF;\n    for(int i=1;i<=n;i++){\n      cin>>str[i];\n      if(str[i]==\"x\"){\n\tcnt++;\n\tcontinue;\n      }\n      data[i]=StoI(str[i]);\n    }\n    for(int i=1;i<n;i++)\n      if(str[i]==\"x\"&&str[i+1]==\"x\") cout<<\"none\"<<endl,flag=1;\n    if(!flag&&!cnt){\n      for(int i=1;i<n;i++){\n\tif(i%2){\n\t  if(data[i-1]<=data[i]||data[i]>=data[i+1]) cout<<\"none\"<<endl,flag=1;\n\t}else{\n\t  if(data[i-1]>=data[i]||data[i]<=data[i+1]) cout<<\"none\"<<endl,flag=1;\n\t}\n      }\n      if(!flag) cout<<\"ambiguous\"<<endl,flag=1;\n    }\n    if(!flag){\n      for(int i=1;i<=n;i++){\n\tif(str[i]!=\"x\") continue;\n\tif((i%2)&&(data[i-1]<=minv||minv>=data[i+1])) minv=min(min(minv,data[i-1]-1),data[i+1]-1);\n\telse if(!(i%2)&&(data[i-1]>=maxv||maxv<=data[i+1])) maxv=max(max(maxv,data[i-1]+1),data[i+1]+1);\n      }\n      if(maxv==minv) cout<<maxv<<endl;\n      else if((long long)minv-maxv>0) cout<<\"ambiguous\"<<endl;\n      else cout<<\"none\"<<endl;\n    }\n  }\n  return 0;\n}\n\nint StoI(string s){\n  int ret=0;\n  for(int i=0;i<(int)s.size();i++) ret=ret*10+(s[i]-'0');\n  return ret;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n//typedef\n//-------------------------#include <bits/stdc++.h>\n \nconst double pi = 3.141592653589793238462643383279;\n \n \nusing namespace std;\n \n//conversion\n//------------------------------------------\ninline int toInt(string s) { int v; istringstream sin(s); sin >> v; return v; }\ntemplate<class T> inline string toString(T x) { ostringstream sout; sout << x; return sout.str(); }\ninline int readInt() { int x; scanf(\"%d\", &x); return x; }\n \n//typedef\n//------------------------------------------\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<string> VS;\ntypedef pair<int, int> PII;\ntypedef pair<long long, long long> PLL;\ntypedef pair<int, PII> TIII;\ntypedef long long LL;\ntypedef unsigned long long ULL;\ntypedef vector<LL> VLL;\ntypedef vector<VLL> VVLL;\n \n \n//container util\n \n//------------------------------------------\n#define ALL(a)  (a).begin(),(a).end()\n#define RALL(a) (a).rbegin(), (a).rend()\n#define PB push_back\n#define MP make_pair\n#define SZ(a) int((a).size())\n#define SQ(a) ((a)*(a))\n#define EACH(i,c) for(typeof((c).begin()) i=(c).begin(); i!=(c).end(); ++i)\n#define EXIST(s,e) ((s).find(e)!=(s).end())\n#define SORT(c) sort((c).begin(),(c).end())\n \n \n//repetition\n//------------------------------------------\n#define FOR(i,s,n) for(int i=s;i<(int)n;++i)\n#define REP(i,n) FOR(i,0,n)\n#define MOD 998244353\n \n#define rep(i, a, b) for(int i = a; i < (b); ++i)\n#define trav(a, x) for(auto& a : x)\n#define all(x) x.begin(), x.end()\n#define sz(x) (int)(x).size()\n \ntypedef long long ll;\ntypedef pair<int, int> pii;\ntypedef vector<int> vi;\nconst double EPS = 1E-8;\n \n#define chmin(x,y) x=min(x,y)\n#define chmax(x,y) x=max(x,y)\n \nclass UnionFind {\npublic:\n    vector <int> par; \n    vector <int> siz; \n\n    UnionFind(int sz_): par(sz_), siz(sz_, 1) {\n        for (ll i = 0; i < sz_; ++i) par[i] = i;\n    }\n    void init(int sz_) {\n        par.resize(sz_);\n        siz.assign(sz_, 1LL);\n        for (ll i = 0; i < sz_; ++i) par[i] = i;\n    }\n \n    int root(int x) { \n        while (par[x] != x) {\n            x = par[x] = par[par[x]];\n        }\n        return x;\n    }\n \n    bool merge(int x, int y) {\n        x = root(x);\n        y = root(y);\n        if (x == y) return false;\n        if (siz[x] < siz[y]) swap(x, y);\n        siz[x] += siz[y];\n        par[y] = x;\n        return true;\n    }\n \n    bool issame(int x, int y) { \n        return root(x) == root(y);\n    }\n \n    int size(int x) { \n        return siz[root(x)];\n    }\n};\n \n \nll modPow(ll x, ll n, ll mod = MOD){\n    ll res = 1;\n    while(n){\n        if(n&1) res = (res * x)%mod;\n \n        res %= mod;\n        x = x * x %mod;\n        n >>= 1;\n    }\n    return res;\n}\n \n#define SIEVE_SIZE 5000000+10\nbool sieve[SIEVE_SIZE];\nvoid makeSieve(){\n    for(int i=0; i<SIEVE_SIZE; ++i) sieve[i] = true;\n    sieve[0] = sieve[1] = false;\n    for(int i=2; i*i<SIEVE_SIZE; ++i) if(sieve[i]) for(int j=2; i*j<SIEVE_SIZE; ++j) sieve[i*j] = false;\n}\n \nbool isprime(ll n){\n    if(n == 0 || n == 1) return false;\n    for(ll i=2; i*i<=n; ++i) if(n%i==0) return false;\n    return true;\n}\n \nconst int MAX = 2000010;\nlong long fac[MAX], finv[MAX], inv[MAX];\n \n// テーブルを作る前処理\nvoid COMinit() {\n    fac[0] = fac[1] = 1;\n    finv[0] = finv[1] = 1;\n    inv[1] = 1;\n    for (int i = 2; i < MAX; i++){\n        fac[i] = fac[i - 1] * i % MOD;\n        inv[i] = MOD - inv[MOD%i] * (MOD / i) % MOD;\n        finv[i] = finv[i - 1] * inv[i] % MOD;\n    }\n}\n \n// 二項係数計算\nlong long COM(int n, int k){\n    if (n < k) return 0;\n    if (n < 0 || k < 0) return 0;\n    return fac[n] * (finv[k] * finv[n - k] % MOD) % MOD;\n}\n \nlong long extGCD(long long a, long long b, long long &x, long long &y) {\n    if (b == 0) {\n        x = 1;\n        y = 0;\n        return a;\n    }\n    long long d = extGCD(b, a%b, y, x);\n    y -= a/b * x;\n    return d;\n}\n// 負の数にも対応した mod (a = -11 とかでも OK) \ninline long long mod(long long a, long long m) {\n    return (a % m + m) % m;\n}\n \n// 逆元計算 (ここでは a と m が互いに素であることが必要)\nlong long modinv(long long a, long long m) {\n    long long x, y;\n    extGCD(a, m, x, y);\n    return mod(x, m); // 気持ち的には x % m だが、x が負かもしれないので\n}\nll GCD(ll a, ll b){\n    \n    if(b == 0) return a;\n    return GCD(b, a%b);\n}\n\ntypedef vector<ll> vec;\ntypedef vector<vec> mat;\n\nmat mul(mat &A, mat &B) {\n    mat C(A.size(), vec((int)B[0].size()));\n    for(int i=0; i<A.size(); ++i){\n        for(int k=0; k<B.size(); ++k){\n            for(int j=0; j<B[0].size(); ++j){\n                C[i][j] = (C[i][j] + A[i][k] * B[k][j] %MOD) % MOD;\n            }\n        }\n    }\n    return C;\n}\nmat matPow(mat A, ll n) {\n    mat B(A.size(), vec((int)A.size()));\n \n    for(int i=0; i<A.size(); ++i){\n        B[i][i] = 1;\n    }\n \n    while(n > 0) {\n        if(n & 1) B = mul(B, A);\n        A = mul(A, A);\n        n >>= 1;\n    }\n    return B;\n}\n\nint main() {\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    cout << fixed << setprecision(15);\n\n    int n;\n    while(cin >> n){\n        if(n == 0) break;\n        vector<string> a(n);\n        REP(i,n) {\n            string s; cin >> s;\n            a[i] = s;\n        }\n        \n        bool check = true;\n        for(int i=0; i<n-1; i++){\n            if(a[i] == \"x\" && a[i+1] == \"x\"){\n                check = false;\n            }\n        }\n\n        for(int i=0; i<n; i++){\n            if(a[i] == \"x\") continue;\n            int now = atoi(a[i].c_str());\n\n            if(i%2 == 0){\n                if(i-1>=0 && a[i-1] != \"x\"){\n                    if(now >= atoi(a[i-1].c_str())){\n                        check = false;\n                    }\n                }\n                if(i+1 < n && a[i+1] != \"x\"){\n                    if(now >= atoi(a[i+1].c_str())){\n                        check = false;\n                    }\n                }\n            }else{\n                if(i-1>=0 && a[i-1] != \"x\"){\n                    if(now <= atoi(a[i-1].c_str())){\n                        check = false;\n                    }\n                }\n                if(i+1 < n && a[i+1] != \"x\"){\n                    if(now <= atoi(a[i+1].c_str())){\n                        check = false;\n                    }\n                }\n            }\n        }\n        if(!check){\n            cout << \"none\" << endl;\n            continue;\n        }\n\n        ll lb = -1e10, ub = 1e10;\n        for(int i=0; i<n; i++){\n            if(a[i] == \"x\"){\n                if(i-1>=0 && a[i-1] != \"x\"){\n                    ll t = atoi(a[i-1].c_str());\n                    if(i%2 == 0){\n                        ub = min(ub, t-1);\n                    }else{\n                        lb = max(lb, t+1);\n                    }\n                }\n                if(i+1 < n && a[i+1] != \"x\"){\n                    ll t = atoi(a[i+1].c_str());\n                    if(i%2 == 0){\n                        ub = min(ub, t-1);\n                    }else{\n                        lb = max(lb, t+1);\n                    }\n                }\n            }\n        }\n        //cout << lb << \" \" << ub  << endl;\n        if(ub == lb){\n            cout << ub << endl;\n        }else if(lb < ub){\n            cout << \"ambiguous\" << endl;\n        }else{\n            cout << \"none\" << endl;\n        }\n    }\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <string>\n#include <sstream>\nusing namespace std;\n\nint main(){\n\twhile(1){\n\t\tint n;\n\t\tscanf(\" %d\", &n);\n\t\tif(n==0) break;\n\t\t\n\t\tlong sig[1000]; //signals\n\t\t\n\t\tfor(int i=0; i<n; ++i){\n\t\t\tstring s;\n\t\t\tcin >> s;\n\t\t\tif(s==\"x\") sig[i]=-1;\n\t\t\telse{\n\t\t\t\tistringstream iss(s);\n\t\t\t\tiss >> sig[i];\t\n\t\t\t}\n\t\t}\n\t\t\n\t\t//for(int i=0; i<n; ++i) printf(\"sig[%d]= %d\\n\", i, sig[i]);\n\t\t\n\t\t//small????????§?????????big???????°??????????????????°????????????\n\t\tlong big=2000000000, small=-2000000000;\n\t\tbool noans=false;\n\t\t\n\t\tfor(int i=0; i<n-1; ++i){\n\t\t\tif(sig[i]==-1 && sig[i+1]==-1) noans=true;\t\n\t\t}\n\t\t\n\t\tif(noans) printf(\"none\\n\");\n\t\telse{\n\t\t\tfor(int i=0; i<n; ++i){\t\n\t\t\t\tif(sig[i]==-1){\n\t\t\t\t\tif(i%2==0){ //?\\???°???????????????, big?????´??°\n\t\t\t\t\t\tlong tmp=2000000000;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(i-1>=0) tmp=min(tmp, sig[i-1]);\n\t\t\t\t\t\tif(i+1<n) tmp=min(tmp, sig[i+1]);\n\t\t\t\t\t\t\n\t\t\t\t\t\tbig=min(big,tmp);\n\t\t\t\t\t}\n\t\t\t\t\telse{ //??¶??°??????????????????small?????´??°\n\t\t\t\t\t\tlong tmp=-2000000000;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(i-1>=0) tmp=max(tmp, sig[i-1]);\n\t\t\t\t\t\tif(i+1<n) tmp=max(tmp, sig[i+1]);\n\t\t\t\t\t\t\n\t\t\t\t\t\tsmall=max(small,tmp);\n\t\t\t\t\t}\t\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(i%2==0){ //?\\???°???????????????, ?¢????\n\t\t\t\t\t\tif(i-1>=0 && sig[i-1]!=-1 && sig[i-1]<sig[i]) noans=true;\t\n\t\t\t\t\t\tif(i+1<n && sig[i+1]!=-1 && sig[i+1]<sig[i]) noans=true;\n\t\t\t\t\t}\n\t\t\t\t\telse{ //??¶??°???????????????????¢????\n\t\t\t\t\t\tif(i-1>=0 && sig[i-1]!=-1 && sig[i-1]>sig[i]) noans=true;\t\n\t\t\t\t\t\tif(i+1<n && sig[i+1]!=-1 && sig[i+1]>sig[i]) noans=true;\n\t\t\t\t\t}\t\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(noans) break;\n\t\t\t}\n\t\t\t\n\t\t\t//printf(\"big=%d, small=%d\\n\", big, small);\n\t\t\t\n\t\t\tif(noans || big-small<=1) printf(\"none\\n\");\n\t\t\telse if(big-small==2) printf(\"%d\\n\", big-small+1);\n\t\t\telse printf(\"ambiguous\\n\");\n\t\t}\t\t\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nint main(){\n\n    while(1){\n        int n; cin >> n;\n        if(!n) break;\n\n        string a[1002];\n        int b[1002];\n        for(int i = 0; i < n; i++){\n            cin >> a[i];\n            if(a[i][0] != 'x') b[i] = stoi(a[i]);\n        }\n\n        int u = 1000000002;\n        int d = -1000000002;\n\n        bool flag = true;\n        \n        //ｘ二個並んでないかのチェック\n        for(int i = 0; i < n - 1; i++){\n            if(a[i][0] == 'x' && a[i + 1][0] == 'x'){\n                flag = false;\n                break;\n            }\n        }\n\n        if(!flag){\n            cout << \"none\" << endl;\n            continue;\n        }\n\n        for(int i = 0; i < n; i++){\n            if(i == 0){\n                if(a[0][0] == 'x') u = b[1] - 1;\n                else{\n                    if(a[1][0] != 'x'){\n                        if(b[1] < b[0]){\n                            //cout << a[1] << endl;\n                            flag = false;\n                            break;\n                        }\n                    }\n                }\n            }else if(i == n - 1){\n                if(a[i][0] == 'x'){\n                    if(i % 2 == 0){\n                        u = min(u + 1, b[i - 1]) - 1;\n                    }else{\n                        //cout << 3 << endl;\n                        d = max(d - 1, b[i - 1]) + 1;\n                    }\n                }else{\n                    if(i % 2 == 0 && b[i] > b[i - 1]){\n                        flag = false;\n                        break;\n                    }else if(i % 2 == 1 && b[i] < b[i - 1]){\n                        flag = false;\n                        break;\n                    }\n                }\n            }else{\n\n                if(a[i][0] == 'x'){\n\n                    if(i % 2 == 0) u = min(u + 1, min(b[i - 1], b[i + 1])) - 1;\n                    else d = max(d - 1, max(b[i - 1], b[i + 1])) + 1;\n                }else{\n\n                    if(i % 2 == 0){\n                        if(a[i - 1][0] != 'x' && b[i - 1] < b[i]){\n                            flag = false;\n                            break;\n                        }\n                        if(a[i + 1][0] != 'x' && b[i + 1] < b[i]){\n                            flag = false;\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n\n        //cout << u << \" \" << d << endl;\n        if(!flag || u < d) cout << \"none\" << endl;\n        else if(u == d) cout << u << endl;\n        else cout << \"ambiguous\" << endl;\n    }\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "//#define __USE_MINGW_ANSI_STDIO 0\n#include <bits/stdc++.h>\n\nusing namespace std;\ntypedef long long ll;\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<ll> VL;\ntypedef vector<VL> VVL;\ntypedef pair<int, int> PII;\n\n#define FOR(i, a, n) for (ll i = (ll)a; i < (ll)n; ++i)\n#define REP(i, n) FOR(i, 0, n)\n#define ALL(x) x.begin(), x.end()\n#define MP make_pair\n#define PB push_back\n#define MOD 1000000007\n#define INF (1LL<<30)\n#define LLINF (1LL<<60)\n#define PI 3.14159265359\n#define EPS 1e-12\n//#define int ll\n\nll a[1010];\nsigned main(void)\n{\n\twhile(true) {\n\t\tint n;\n\t\tcin >> n;\n\t\tif(!n) break;\n\t\tfill(a, a+1010, LLINF);\n\t\tbool xx = false, ng = false;\n\t\tREP(i, n) {\n\t\t\tstring s;\n\t\t\tcin >> s;\n\t\t\tif(s == \"x\") {\n\t\t\t\tif(xx) ng = true;\n\t\t\t\txx = true;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\ta[i] = stoi(s);\n\t\t\txx = false;\n\t\t}\n\t\tif(ng) {cout << \"none\" << endl; continue;}\n\n\t\tll ma = LLINF, mi = -LLINF;\n\t\tbool conf = false;\n\t\tREP(i, n) {\n\t\t\tif(a[i] == LLINF) {\n\t\t\t\tif((i+1)%2) {\n\t\t\t\t\tif(i != 0) ma = min(ma, a[i-1]-1);\n\t\t\t\t\tif(i != n-1) ma = min(ma, a[i+1]-1);\n\t\t\t\t} else {\n\t\t\t\t\tmi = max(mi, a[i-1] + 1);\n\t\t\t\t\tif(i != n-1) mi = max(mi, a[i+1]+1);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tng = false;\n\t\t\t\tif((i+1)%2) {\n\t\t\t\t\tif(i && a[i-1] != LLINF) ng |= (a[i] >= a[i-1]);\n\t\t\t\t\tif(i != n-1 && a[i+1] != LLINF) ng |= (a[i] >= a[i+1]);\n\t\t\t\t} else {\n\t\t\t\t\tif(a[i-1] != LLINF) ng |= (a[i] <= a[i-1]);\n\t\t\t\t\tif(i != n-1 && a[i+1] != LLINF) ng |= (a[i] <= a[i+1]);\n\t\t\t\t}\n\t\t\t\tif(ng) {\n\t\t\t\t\tcout << \"none\" << endl;\n\t\t\t\t\tconf = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(conf) continue;\n\n\t\tif(ma < mi) cout << \"none\" << endl;\n\t\telse if(ma == mi) cout << ma << endl;\n\t\telse cout << \"ambiguous\" << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "// Header {{{\n// includes {{{\n#include <algorithm>\n#include <cassert>\n#include <cctype>\n#include <climits>\n#include <cmath>\n#include <complex>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <ctime>\n#include <iostream>\n#include <iterator>\n#include <limits>\n#include <list>\n#include <map>\n#include <numeric>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <sys/time.h>\n#include <unistd.h>\n#include <vector>\n// }}}\nusing namespace std;\n// consts {{{\nstatic const int INF = 1e9;\nstatic const double PI = acos(-1.0);\nstatic const double EPS = 1e-10;\n// }}}\n// typedefs {{{\ntypedef long long int LL;\ntypedef unsigned long long int ULL;\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<LL> VLL;\ntypedef vector<VLL> VVLL;\ntypedef vector<ULL> VULL;\ntypedef vector<VULL> VVULL;\ntypedef vector<double> VD;\ntypedef vector<VD> VVD;\ntypedef vector<bool> VB;\ntypedef vector<VB> VVB;\ntypedef vector<char> VC;\ntypedef vector<VC> VVC;\ntypedef vector<string> VS;\ntypedef vector<VS> VVS;\ntypedef pair<int, int> PII;\ntypedef complex<int> P;\n// }}}\n// macros & inline functions {{{\n// syntax sugars {{{\n#define FOR(i, b, e) for (typeof(e) i = (b); i < (e); ++i)\n#define FORI(i, b, e) for (typeof(e) i = (b); i <= (e); ++i)\n#define REP(i, n) FOR(i, 0, n)\n#define REPI(i, n) FORI(i, 0, n)\n#define OPOVER(_op, _type) inline bool operator _op (const _type &t) const\n// }}}\n// conversion {{{\ninline int toInt(string s) { int v; istringstream sin(s); sin>>v; return v; }\ntemplate<class T> inline string toString(T x) { ostringstream sout; sout<<x; return sout.str(); }\n// }}}\n// array and STL {{{\n#define ARRSIZE(a) ( sizeof(a) / sizeof(a[0]) )\n#define ZERO(a, v) ( assert(v == 0 || v == -1), memset(a, v, sizeof(a)) )\n#define F first\n#define S second\n#define MP(a, b) make_pair(a, b)\n#define SIZE(a) ((LL)a.size())\n#define PB(e) push_back(e)\n#define SORT(v) sort((v).begin(), (v).end())\n#define RSORT(v) sort((v).rbegin(), (v).rend())\n#define ALL(a) (a).begin(), (a).end()\n#define RALL(a) (a).rbegin(), (a).rend()\n#define EACH(c, it) for(typeof((c).begin()) it=(c).begin(); it!=(c).end(); ++it)\n#define REACH(c, it) for(typeof((c).rbegin()) it=(c).rbegin(); it!=(c).rend(); ++it)\n#define EXIST(s, e) ((s).find(e) != (s).end())\n// }}}\n// bit manipulation {{{\n// singed integers are not for bitwise operations, specifically arithmetic shifts ('>>', and maybe not good for '<<' too)\n#define IS_UNSIGNED(n) (!numeric_limits<typeof(n)>::is_signed)\n#define BIT(n) (assert(IS_UNSIGNED(n)), assert(n < 64), (1ULL << (n)))\n#define BITOF(n, m) (assert(IS_UNSIGNED(n)), assert(m < 64), ((ULL)(n) >> (m) & 1))\ninline int BITS_COUNT(ULL b) { int c = 0; while(b != 0) { c += (b & 1); b >>= 1; } return c; }\ninline int MSB(ULL b) { int c = 0; while(b != 0) { ++c; b >>= 1; } return c-1; }\ninline int MAKE_MASK(ULL upper, ULL lower) { assert(lower < 64 && upper < 64 && lower <= upper); return (BIT(upper) - 1) ^ (BIT(lower) - 1); }\n// }}}\n// for readable code {{{\n#define EVEN(n) (n % 2 == 0)\n#define ODD(n) (!EVEN(n))\n// }}}\n// debug {{{\n#define arrsz(a) ( sizeof(a) / sizeof(a[0]) )\n#define dprt(fmt, ...) if (opt_debug) { fprintf(stderr, fmt, ##__VA_ARGS__); }\n#define darr(a) if (opt_debug) { copy( (a), (a) + arrsz(a), ostream_iterator<int>(cerr, \" \") ); cerr << endl; }\n#define darr_range(a, f, t) if (opt_debug) { copy( (a) + (f), (a) + (t), ostream_iterator<int>(cerr, \" \") ); cerr << endl; }\n#define dvec(v) if (opt_debug) { copy( ALL(v), ostream_iterator<int>(cerr, \" \") ); cerr << endl; }\n#define darr2(a) if (opt_debug) { FOR(__i, 0, (arrsz(a))){ darr( (a)[__i] ); } }\n#define dvec2(v) if (opt_debug) { FOR(__i, 0, v.size()){ dvec( (v)[__i] ); } }\n#define WAIT() if (opt_debug) { string _wait_; cerr << \"(hit return to continue)\" << endl; getline(cin, _wait_); }\n#define dump(x) if (opt_debug) { cerr << \" [L\" << __LINE__ << \"] \" << #x << \" = \" << (x) << endl; }\n#define dumpf() if (opt_debug) { cerr << __PRETTY_FUNCTION__ << endl; }\n#define dumpv(x) if (opt_debug) { cerr << \" [L:\" << __LINE__ << \"] \" << #x << \" = \"; REP(q, (x).size()) cerr << (x)[q] << \" \"; cerr << endl; }\n#define where() if (opt_debug) { cerr << __FILE__ << \": \" << __PRETTY_FUNCTION__ << \" [L: \" << __LINE__ << \"]\" << endl; }\n#define show_bits(b, s) if(opt_debug) { REP(i, s) { cerr << BITOF(b, s-1-i); if(i%4 == 3) cerr << ' '; } cerr << endl; }\ntemplate<typename T1, typename T2> ostream& operator<<(ostream& s, const pair<T1, T2>& d) {return s << \"(\" << d.first << \", \" << d.second << \")\";}\ntemplate<typename T> ostream& operator<<(ostream& s, const complex<T>& d) {return s << \"(\" << d.real() << \", \" << d.imag() << \")\";}\n// }}}\n// }}}\n// time {{{\ninline double now(){ struct timeval tv; gettimeofday(&tv, NULL); return (static_cast<double>(tv.tv_sec) + static_cast<double>(tv.tv_usec) * 1e-6); }\n// }}}\n// string manipulation {{{\ninline VS split(string s, char delimiter) { VS v; string t; REP(i, s.length()) { if(s[i] == delimiter) v.PB(t), t = \"\"; else t += s[i]; } v.PB(t); return v; }\ninline string join(VS s, string j) { string t; REP(i, s.size()) { t += s[i] + j; } return t; }\n// }}}\n// geometry {{{\n#define Y real()\n#define X imag()\n// }}}\n// 2 dimentional array {{{\nP dydx4[4] = { P(-1, 0), P(0, 1), P(1, 0), P(0, -1) };\nP dydx8[8] = { P(-1, 0), P(0, 1), P(1, 0), P(0, -1), P(-1, 1), P(1, 1), P(1, -1), P(-1, -1) };\nint g_height, g_width;\nbool in_field(P p) {\n\treturn (0 <= p.Y && p.Y < g_height) && (0 <= p.X && p.X < g_width);\n}\n// }}}\n// }}}\nbool opt_debug = false;\n\nint strtoi(string s) {\n\treturn atoi(s.c_str());\n}\n\nint main(int argc, char** argv) {\n\tstd::ios_base::sync_with_stdio(false);\n\t// set options {{{\n\tint __c;\n\twhile ( (__c = getopt(argc, argv, \"d\")) != -1 ) {\n\t\tswitch (__c) {\n\t\t\tcase 'd':\n\t\t\t\topt_debug = true;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tabort();\n\t\t}\n\t}\n\t// }}}\n\n\tint N;\n\twhile (cin >> N, N) {\n\t\tVS data(N);\n\t\tREP (i, N) {\n\t\t\tcin >> data[i];\n\t\t}\n\n\t\tbool impossible  = false;\n\t\tint lower = 10e-9 - 1;\n\t\tint upper = 10e9 + 1;\n\t\tREP (i, N) {\n\t\t\tif (data[i] != \"x\") {\n\t\t\t\tif (i - 1 >= 0 && data[i-1] != \"x\") {\n\t\t\t\t\tif (i % 2 == 0) {\n\t\t\t\t\t\tif ( !(strtoi(data[i-1]) > strtoi(data[i])) ) {\n\t\t\t\t\t\t\timpossible = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif ( !(strtoi(data[i-1]) < strtoi(data[i])) ) {\n\t\t\t\t\t\t\timpossible = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (i + 1 < N && data[i+1] != \"x\") {\n\t\t\t\t\tif (i % 2 == 0) {\n\t\t\t\t\t\tif ( !(strtoi(data[i+1]) > strtoi(data[i])) ) {\n\t\t\t\t\t\t\timpossible = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif ( !(strtoi(data[i+1]) < strtoi(data[i])) ) {\n\t\t\t\t\t\t\timpossible = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif ((i - 1 >= 0 && data[i-1] == \"x\")\n\t\t\t\t\t|| (i + 1 < N && data[i+1] == \"x\")) {\n\t\t\t\t// impossible\n\t\t\t\tupper = 0;\n\t\t\t\tlower = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tdump(i);\n\t\t\tif (i % 2 == 0) {\n\t\t\t\tif (i - 1 >= 0 && data[i-1] != \"x\") {\n\t\t\t\t\tdump(data[i-1]);\n\t\t\t\t\tupper = min(upper, strtoi(data[i-1]));\n\t\t\t\t}\n\t\t\t\tif (i + 1 < N && data[i+1] != \"x\") {\n\t\t\t\t\tdump(data[i+1]);\n\t\t\t\t\tupper = min(upper, strtoi(data[i+1]));\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (i - 1 >= 0 && data[i-1] != \"x\") {\n\t\t\t\t\tdump(data[i-1]);\n\t\t\t\t\tlower = max(lower, strtoi(data[i-1]));\n\t\t\t\t}\n\t\t\t\tif (i + 1 < N && data[i+1] != \"x\") {\n\t\t\t\t\tdump(data[i+1]);\n\t\t\t\t\tlower = max(lower, strtoi(data[i+1]));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tdump(upper);\n\t\t\tdump(lower);\n\t\t}\n\n\t\tdump(upper);\n\t\tdump(lower);\n\t\tif (impossible) {\n\t\t\tcout << \"none\" << endl;\n\t\t} else if (upper - lower > 2) {\n\t\t\tcout << \"ambiguous\" << endl;\n\t\t} else if (upper - lower == 2) {\n\t\t\tcout << upper - 1 << endl;\n\t\t} else {\n\t\t\tcout << \"none\" << endl;\n\t\t}\n\t}\n\n\treturn 0;\n}\n\n// vim: foldmethod=marker"
  },
  {
    "language": "C++",
    "code": "\n#include <stdio.h>\n#include <stdlib.h>\n#include <iostream>\n#include <vector>\n#include <string>\n#include <queue>\n#include <algorithm>\n#include <math.h>\n#include <utility>\n#include <set>\n#include <map>\n#include <cstring>\n#include <cstdio>\n#include <stack>\n#include <cmath>\n#define INF 10000000000\n#define MOD 10000000007\n#define rep(i,n) for(int i =0;i<n;i++)\nusing namespace std;\ntypedef long long int ll;\ntypedef pair<int, int> i_i;\n\nint main(){\n    for (; ;) {\n        int n;\n        cin >> n;\n        //cout << n <<endl;\n        if(!n) break;\n        /*for (int i=0; i<n; i++) {\n            string s;\n            cin >> s;\n            if(i!=0) cout <<\" \";\n            cout <<s;\n        }\n        cout << endl;\n        */\n        vector<ll> data(n);\n        for (int i=0; i<n; i++) {\n            string s;\n            cin >> s;\n            if (s==\"x\") {\n                data[i]=MOD;\n            }else{\n                ll inp=0;\n                for (int i = s.length()-1; i>=0;i--) {\n                    if(s[i]=='-'){\n                        inp *= -1;\n                        continue;\n                    }\n                    inp += ((int)s[i]-(int)'0')*pow(10, s.length()-1-i);\n                }\n                data[i]=inp;\n            }\n        }\n        bool ch = true, hoge=true;\n        ll ub=-INF, ob=INF;\n        for (int i=0; i<n; i++) {\n            if(data[i]==MOD){\n                if(i%2==1){\n                    ll a = -INF,b =-INF;\n                    if(i>0){\n                        if(data[i-1]==MOD){ hoge=false;\n                        }else{\n                            a = data[i-1];\n                        }\n                    }\n                    if(i<n-1){\n                        if(data[i+1]==MOD){ hoge=false;\n                        }else{\n                            b = data[i+1];\n                        }\n                    }\n                    ub = max(ub,max(a, b));\n                }\n                if(i%2==0){\n                    ll a = INF,b =INF;\n                    if(i>0){\n                        if(data[i-1]==MOD){ hoge=false;\n                        }else{\n                            a = data[i-1];\n                        }\n                    }\n                    if(i<n-1){\n                        if(data[i+1]==MOD){ hoge=false;\n                        }else{\n                            b = data[i+1];\n                        }\n                    }\n                    ob = min(ob,min(a, b));\n                }\n            }else{\n                if (i==0) {\n                    if (i+1<n and data[i+1]!=MOD) {\n                        if (data[0]>=data[1]) {\n                            ch = false;\n                        }\n                    }\n                    continue;\n                }\n                if(i%2==1){\n                    if (i >0 and data[i]<=data[i-1] and data[i-1]!=MOD) {\n                        ch = false;\n                    }\n                    \n                }else{\n                    if (i>0 and data[i]>=data[i-1] and data[i-1]!=MOD) {\n                        ch = false;\n                    }\n                }\n            }\n        }\n        ob--;\n        ub++;\n        if (ob==9999999999 and ub !=-9999999999) {\n            ub = ob-100;\n        }\n        if (ob!=9999999999 and ub ==-9999999999) {\n            ob = ub+100;\n        }\n        //cout << ob <<\"  \"<<ub <<endl;\n    \n        if (ob == ub and ch and hoge) {\n            cout << ob << endl;\n        }else{\n            if (ob>ub and ch and hoge) {\n                cout << \"ambiguous\"<<endl;\n            }else{\n                cout << \"none\"<<endl;\n            }\n        }\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <cstring>\n#include <algorithm>\n#include <sstream>\n\n#define REP(i,k,n) for(int i=k;i<n;i++)\n#define rep(i,n) for(int i=0;i<n;i++)\n\nusing namespace std;\ntypedef long long ll;\n\nint main()\n{\n    int n;\n    while(cin >> n && n) {\n        vector<string> v(n);\n        rep(i,n) cin >> v[i];\n\n        vector<int> res(n);\n        rep(i,n) {\n            if(v[i] == \"x\") res[i] = 0;\n            else {\n                stringstream ss;\n                ss << v[i];\n                ss >> res[i];\n            }\n        }\n\n        bool flag = true;\n        rep(i,n-1) {\n            if(v[i] == \"x\" && v[i+1] == \"x\") flag = false;\n        }\n\n        if(!flag) {\n            cout << \"none\" << endl;\n        }\n        else {\n            bool zig = true;\n            \n            rep(i,n-1) {\n                if(v[i] == \"x\" || v[i+1] == \"x\") continue;\n            \n                if(i%2 == 0) {\n                    if(res[i] >= res[i+1]) zig = false;\n                }\n                else {\n                    if(res[i] <= res[i+1]) zig = false;\n                }\n            }\n\n\n            if(!zig) {\n                cout << \"none\" << endl;\n            }\n            else {\n                int M = 1000000000;\n                int l = -M-5;\n                int r = M+5;\n\n                rep(i,n) {\n                    if(v[i] != \"x\") continue;\n\n                    if(i%2 == 0) {\n                        if(i == 0) {\n                            r = min(r,res[i+1]-1);\n                        }\n                        if(0 < i && i < n-1) {\n                            r = min(r,res[i-1]-1);\n                            r = min(r,res[i+1]-1);\n                        }\n                        if(i == n-1) {\n                            r = min(r,res[i-1]-1);\n                        }\n                    }\n                    else {\n                        if(i == 0) {\n                            l = max(l,res[i+1]+1);\n                        }\n                        if(0 < i && i < n-1) {\n                            l = max(l,res[i-1]+1);\n                            l = max(l,res[i+1]+1);\n                        }\n                        if(i == n-1) {\n                            l = max(l,res[i-1]+1);\n                        }\n                    }\n                }\n\n                if(l == r) {\n                    cout << l << endl;\n                }\n                else if(l > r) {\n                    cout << \"none\" << endl;\n                }\n                else {\n                    cout << \"ambiguous\" << endl;\n                }\n            }\n\n        }\n\n\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "///\n// File:  2565.cpp\n// Author: ymiyamoto\n//\n// Created on Sun Nov 26 23:04:35 2017\n//\n\n#include <cstdint>\n#include <iostream>\n#include <string>\n#include <vector>\n\nusing namespace std;\n\nint32_t main()\n{\n  while (true) {\n    int32_t n;\n    cin >> n;\n\n    if (n == 0) break;\n\n    vector<string> signals(n + 1);\n    for (int32_t i = 1; i <= n; i++) {\n      cin >> signals[i];\n    }\n\n    bool invalid = false;\n    int64_t xodd = INT32_MAX;\n    int64_t xeven = INT32_MIN;\n    for (int32_t i = 1; i <= n; i++) {\n      if (signals[i] == signals[i + 1]) {\n        invalid = true;\n      }\n\n      if (signals[i] != \"x\") {\n        if (i % 2 == 1) {\n          int64_t s = stoll(signals[i]);\n          if (i - 1 >= 1 && signals[i - 1] != \"x\" && s >= stoll(signals[i - 1])) {\n            invalid = true;\n          }\n          if (i + 1 <= n && signals[i + 1] != \"x\" && s >= stoll(signals[i + 1])) {\n            invalid = true;\n          }\n        } else {\n          int64_t s = stoll(signals[i]);\n          if (i - 1 >= 1 && signals[i - 1] != \"x\" && s <= stoll(signals[i - 1])) {\n            invalid = true;\n          }\n          if (i + 1 <= n && signals[i + 1] != \"x\" && s <= stoll(signals[i + 1])) {\n            invalid = true;\n          }\n        }\n      } else {\n        if ((i - 1 >= 1 && signals[i - 1] == \"x\") || (i + 1 <= n && signals[i + 1] == \"x\")) {\n          invalid = true;\n        } else {\n          if (i % 2 == 1) {\n            int64_t x1 = i - 1 >= 1 ? stoll(signals[i - 1]) : INT64_MAX;\n            int64_t x2 = i + 1 <= n ? stoll(signals[i + 1]) : INT64_MAX;\n            xodd = min(xodd, min(x1, x2) - 1);\n          } else {\n            int64_t x1 = i - 1 >= 1 ? stoll(signals[i - 1]) : INT64_MIN;\n            int64_t x2 = i + 1 <= n ? stoll(signals[i + 1]) : INT64_MIN;\n            xeven = max(xeven, max(x1, x2) + 1);\n          }\n        }\n      }\n    }\n    if (invalid) {\n      cout << \"none\" << endl;\n    } else if (xodd == xeven) {\n      cout << xodd << endl;\n    } else if (xodd < xeven) {\n      cout << \"none\" << endl;\n    } else {\n      cout << \"ambigous\" << endl;\n    }\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdlib>\nusing namespace std;\n\nint main()\n{\n  while(1){\n    int n;\n    cin >> n;\n    if(n == 0) break;\n    int a[n];\n    for(int i = 0; i < n; i++){\n      string s;\n      cin >> s;\n      a[i] = s == \"x\" ? -1 : atoi(s.c_str());\n    } \n    int l = 0, u = 1000000003;\n    for(int i = 0; i < n-1; i++){\n      if(a[i] == -1){\n        if(a[i+1] == -1){\n          u = l-1;\n          break;\n        }else{\n          if((i+1) & 1){\n            u = a[i+1];\n          }else{\n            l = a[i+1];\n          }\n        }\n      }else{\n        if(a[i+1] == -1){\n          if((i+1) & 1){\n            l = a[i];\n          }else{\n            u = a[i];\n          }\n        }else{\n          if((i+1) & 1){\n            if(a[i] >= a[i+1]){\n              u = l-1;\n              break;\n            }\n          }else{\n            if(a[i] <= a[i+1]){\n              u = l-1;\n              break;\n            }\n          }\n        }\n      }\n    }\n    if(u - l - 1 > 1)\n      cout << \"ambiguous\" << endl;\n    else if(u - l - 1 <= 0)\n      cout << \"none\" << endl;\n    else\n      cout << (u+l)/2 << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntemplate<class T> inline void chmax(T &a, const T &b) { if(a < b) a = b; }\ntemplate<class T> inline void chmin(T &a, const T &b) { if(a > b) a = b; }\n\nconstexpr int UNKNOWN = INT_MAX;\n\ninline bool valid(const function<bool(int, int)> &compare, int a, int b) {\n\treturn b == UNKNOWN || compare(a, b);\n}\n\nstring solve(const vector<int> &a) {\n\tconst int n = a.size();\n\n\tconst function<bool(int, int)> comparators[] = {less<int>(), greater<int>()};\n\n\tint low = INT_MIN;\n\tint high = INT_MAX;\n\tfor(int i = 0; i < n; ++i) {\n\t\tif(a[i] == UNKNOWN) {\n\t\t\tif(i > 0) {\n\t\t\t\tif(i & 1) chmax(low, a[i - 1] + 1);\n\t\t\t\telse chmin(high, a[i - 1] - 1);\n\t\t\t}\n\t\t\tif(i < n - 1) {\n\t\t\t\tif(a[i + 1] == UNKNOWN) return \"none\";\n\t\t\t\tif(i & 1) chmax(low, a[i + 1] + 1);\n\t\t\t\telse chmin(high, a[i + 1] - 1);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tconst auto &c = comparators[i & 1];\n\t\t\tif((i > 0 && !valid(c, a[i], a[i - 1])) || (i < n - 1 && !valid(c, a[i], a[i + 1]))) {\n\t\t\t\treturn \"none\";\n\t\t\t}\n\t\t}\n\t}\n\n\tif(low > high) return \"none\";\n\tif(low < high) return \"ambiguous\";\n\treturn to_string(low); // low == high\n}\n\nint main() {\n\tcin.tie(nullptr);\n\tios::sync_with_stdio(false);\n\n\tfor(int n; cin >> n && n;) {\n\t\tvector<int> a(n);\n\t\tfor(auto &e : a) {\n\t\t\tstring in;\n\t\t\tcin >> in;\n\n\t\t\tif(in[0] == 'x') {\n\t\t\t\te = UNKNOWN;\n\t\t\t}\n\t\t\telse {\n\t\t\t\te = stoi(in);\n\t\t\t}\n\t\t}\n\n\t\tcout << solve(a) << endl;\n\t}\n\n\treturn EXIT_SUCCESS;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define MAX 1002\n#define INF 1e9+1\n\nint main(){\n  int N,arr[MAX];\n  string str;\n  while(cin >> N, N){\n    bool x[MAX] = {false};\n    arr[0] = INT_MAX;\n    arr[N+1] = (N % 2 ? INT_MAX : INT_MIN);  \n    bool can = true;\n    for(int i = 1 ; i <= N ; i++){\n      cin >> str;\n      if(str[0] == 'x'){\n        x[i] = true;\n        arr[i] = INT_MAX;\n      }else{\n        stringstream ss(str);\n        int x; ss >> x;\n        arr[i] = x;\n      }\n      if(i > 0){\n        if(x[i-1] && x[i]){\n          can = false;\n        }\n      }\n    }\n    if(!can){\n      cout << \"none\" << endl;\n      continue;\n    }else if(count(x+1,x+N+1,true) == 0){\n      bool check = false;\n      for(int i = 1 ; i <= N ; i++){\n        if(i % 2){\n          if(!(arr[i-1] > arr[i] && arr[i+1] > arr[i])){\n            check = true;\n            break;\n          }\n        }else{\n          if(!(arr[i-1] < arr[i] && arr[i+1] < arr[i])){\n            check = true;\n            break;\n          }\n        }\n      }\n      cout << (check ? \"none\" : \"ambiguous\") << endl;\n      continue;\n    }\n    for(int i = 1 ; i <= N ; i++){\n      if(x[i]) continue;\n      if(i % 2){\n        if(!x[i-1] && !x[i]){\n          if(!(arr[i-1] > arr[i])){\n            can = false;\n            break;\n          }\n        }\n        if(!x[i] && !x[i+1]){\n          if(!(arr[i+1] > arr[i])){\n            can = false;\n            break;\n          }\n        }\n      }else{\n        if(!x[i-1] && !x[i]){\n          if(!(arr[i-1] < arr[i])){\n            can = false;\n            break;\n          }\n        }\n        if(!x[i] && !x[i+1]){\n          if(!(arr[i+1] < arr[i])){\n            can = false;\n            break;\n          }\n        }\n      }\n    }\n    if(!can){\n      cout << \"none\" << endl;\n      continue;\n    }\n    bool found = false;\n    int l = -1e9-2,r = 1e9+2, m,ans;\n    while(r - l >= 0){\n      m = (l + r) / 2;\n      bool small = false, large = false;\n      for(int i = 1 ; i <= N ; i++){\n        int bv = (x[i-1] ? m : arr[i-1]);\n        int cv = (x[i] ? m : arr[i]);\n        int nv = (x[i+1] ? m : arr[i+1]);\n        if(!x[i]) continue;\n        if(i % 2){\n          if(!(bv > cv && nv > cv)){\n            small = true;\n            break;\n          }\n        }else{\n          if(!(bv < cv && nv < cv)){\n            large = true;\n            break;\n          }\n        }\n      }\n      if(!small && !large){\n        found = true;\n        break;\n      }else if(small){\n        r = m-1;\n      }else{\n        l = m+1;\n      }\n    }\n  \n    if(!found){\n      cout << \"none\" << endl;\n    }else{\n      found = false;\n      ans = m;\n      l = -1e9-5, r = ans-1;\n      while(r - l > 0){\n        m = (l + r) / 2;\n        bool small = false, large = false;\n        for(int i = 1 ; i <= N ; i++){\n          int bv = (x[i-1] ? m : arr[i-1]);\n          int cv = (x[i] ? m : arr[i]);\n          int nv = (x[i+1] ? m : arr[i+1]);\n          if(!x[i]) continue;\n          if(i % 2){\n            if(!(bv > cv && nv > cv)){\n              small = true;\n              break;\n            }\n          }else{\n            if(!(bv < cv && nv < cv)){\n              large = true;\n              break;\n            }\n          }\n        }\n        if(!small && !large){\n          found = true;\n          break;\n        }else if(small){\n          r = m-1;\n        }else{\n          l = m+1;\n        }\n      }\n      l = ans+1, r = 1e9+5;\n      while(r - l > 0){\n        m = (l + r) / 2;\n        bool small = false, large = false;\n        for(int i = 1 ; i <= N ; i++){\n          int bv = (x[i-1] ? m : arr[i-1]);\n          int cv = (x[i] ? m : arr[i]);\n          int nv = (x[i+1] ? m : arr[i+1]);\n          if(!x[i]) continue;\n          if(i % 2){\n            if(!(bv > cv && nv > cv)){\n              small = true;\n              break;\n            }\n          }else{\n            if(!(bv < cv && nv < cv)){\n              large = true;\n              break;\n            }\n          }\n        }\n        if(!small && !large){\n          found = true;\n          break;\n        }else if(small){\n          r = m-1;\n        }else{\n          l = m+1;\n        }\n      }\n      if(found){\n        cout << \"ambiguous\" << endl;\n      }else{\n        cout << ans << endl;\n      }\n    }\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main(){\n\n  int N;\n  \n  while(1){\n    cin >>N;\n    if(N == 0)break;\n    vector<string> vec;\n    for(int i=0 ; i < N ; i++){\n      string in;\n      cin >>in;\n      vec.push_back(in);\n    }\n    \n    bool flag=true;\n    for(int i=0 ; i < N ; i++){\n      if(vec[i] != \"x\"){\n\tbool left=false,right=false;\n\tint temp1,temp2;\n\tif(i-1>=0 && vec[i-1] != \"x\"){\n\t  stringstream ss;\n\t  ss << vec[i-1];\n\t  ss >>temp1;\n\t  left=true;\n\t}\n\tif(i+1 < N && vec[i+1] != \"x\"){\n\t  stringstream ss2;\n\t  ss2 << vec[i+1];\n\t  ss2 >> temp2;\n\t  right=true;\n\t}\n\tif((i+1)%2 == 0){\n\t  stringstream ss3;\n\t  int temp3;\n\t  ss3 << vec[i];\n\t  ss3 >> temp3;\n\t  if(left && temp3 <= temp1){\n\t    flag=false;\n\t  }\n\t  if(right && temp3 <= temp2){\n\t    flag=false;\n\t  }\n\t}else{\n\t  stringstream ss4;\n\t  int temp4;\n\t  ss4 << vec[i];\n\t  ss4 >> temp4;\n\t  if(left && temp4 >= temp1){\n\t    flag=false;\n\t  }\n\t  if(right && temp4 >= temp2){\n\t    flag=false;\n\t  }\n\t}\n      }\n    }\n    if(flag){\n      int mx=1e9+100,mn=-1e9-100; \n      bool flag2 = true;\n      for(int i=0 ; i < N ; i++){\n\tif(vec[i] == \"x\"){\n\t  if((i+1)%2 == 0){\n\t    if(i-1 >= 0){\n\t      if(vec[i-1] == \"x\"){\n\t\tflag2=false;\n\t      }else{\n\t\tstringstream ss5;\n\t\tint temp5;\n\t\tss5 << vec[i-1];\n\t\tss5 >> temp5;\n\t\tmn = max(mn,temp5+1);\n\t      }\n\t    }\n\t    if(i+1 < N){\n\t      if(vec[i+1] == \"x\"){\n\t\tflag2=false;\n\t      }else{\n\t\tstringstream ss6;\n\t\tint temp6;\n\t\tss6 << vec[i+1];\n\t\tss6 >> temp6;\n\t\tmn = max(mn,temp6+1);\n\t      }\n\t    }\n\t  }else{\n\t    if(i-1 >= 0){\n\t      if(vec[i-1] == \"x\"){\n\t\tflag2=false;\n\t      }else{\n\t\tstringstream ss7;\n\t\tint temp7;\n\t\tss7 << vec[i-1];\n\t\tss7 >> temp7;\n\t\tmx = min(mx,temp7-1);\n\t      }\n\t    }\n\t    if(i+1 < N){\n\t      if(vec[i+1] == \"x\"){\n\t\tflag2=false;\n\t      }else{\n\t\tstringstream ss8;\n\t\tint temp8;\n\t\tss8 << vec[i+1];\n\t\tss8 >> temp8;\n\t\tmx = min(mx,temp8-1);\n\t      }\n\t    }\n\t  }\n\t}\n      }\n      if(flag2){\n\tif(mx == mn){\n\t  cout <<mx<<endl;\n\t}else if(mx > mn){\n\t  cout <<\"ambiguous\"<<endl;\n\t}else{\n\t  cout <<\"none\"<<endl;\n\t}\n      }else{\n\tcout <<\"none\"<<endl;\n      }\n    }else{\n      cout <<\"none\"<<endl;\n    }\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <cstdio>\n#include <string>\n#include <cstring>\n#include <deque>\n#include <list>\n#include <queue>\n#include <stack>\n#include <vector>\n#include <utility>\n#include <algorithm>\n#include <map>\n#include <set>\n#include <complex>\n#include <cmath>\n#include <limits>\n#include <cfloat>\n#include <climits>\n#include <ctime>\n#include <cassert>\nusing namespace std;\n\n#define rep(i,a,n) for(int (i)=(a); (i)<(n); (i)++)\n#define repq(i,a,n) for(int (i)=(a); (i)<=(n); (i)++)\n#define repr(i,a,n) for(int (i)=(a); (i)>=(n); (i)--)\n#define all(v) begin(v), end(v)\n#define pb(a) push_back(a)\n#define fr first\n#define sc second\n#define INF 2000000000\n#define int long long int\n\n#define X real()\n#define Y imag()\n#define EPS (1e-10)\n#define EQ(a,b) (abs((a) - (b)) < EPS)\n#define EQV(a,b) ( EQ((a).X, (b).X) && EQ((a).Y, (b).Y) )\n#define LE(n, m) ((n) < (m) + EPS)\n#define LEQ(n, m) ((n) <= (m) + EPS)\n#define GE(n, m) ((n) + EPS > (m))\n#define GEQ(n, m) ((n) + EPS >= (m))\n\ntypedef vector<int> VI;\ntypedef vector<VI> MAT;\ntypedef pair<int, int> pii;\ntypedef long long ll;\n\ntypedef complex<double> P;\ntypedef pair<P, P> L;\ntypedef pair<P, double> C;\n\nint dx[]={1, -1, 0, 0};\nint dy[]={0, 0, 1, -1};\nint const MOD = 1000000007;\nll mod_pow(ll x, ll n) {return (!n)?1:(mod_pow((x*x)%MOD,n/2)*((n&1)?x:1))%MOD;}\nint madd(int a, int b) {return (a + b) % MOD;}\nint msub(int a, int b) {return (a - b + MOD) % MOD;}\nint mmul(int a, int b) {return (a * b) % MOD;}\nint minv(int a) {return mod_pow(a, MOD-2);}\nint mdiv(int a, int b) {return mmul(a, minv(b));}\n\nnamespace std {\n    bool operator<(const P& a, const P& b) {\n        return a.X != b.X ? a.X < b.X : a.Y < b.Y;\n    }\n}\n\nconst int VAR = (1 << 31);\nint n;\nsigned main() {\n    while(cin >> n, n) {\n        vector<int> a(n);\n        rep(i,0,n) {\n            string c; cin >> c;\n            if(c == \"x\") a[i] = VAR;\n            else a[i] = atoi(c.c_str());\n        }\n\n        bool ok = true;\n        int mi = -INF, ma = INF;\n        rep(i,0,n) {\n            if(a[i] == VAR) {\n                if(i != 0) {\n                    if(a[i-1] == VAR) ok = false;\n                    else if(i % 2) mi = max(mi, a[i-1] + 1);\n                    else ma = min(ma, a[i-1] - 1);\n                }\n                if(i != n-1) {\n                    if(a[i+1] == VAR) ok = false;\n                    else if(i % 2) mi = max(mi, a[i+1] + 1);\n                    else ma = min(ma, a[i+1] - 1);\n                }\n            }\n            else {\n                if(i != 0) {\n                    if(i % 2 && a[i-1] != VAR && a[i-1] > a[i]) ok = false;\n                    if(!(i%2)&& a[i-1] != VAR && a[i-1] < a[i]) ok = false;\n                }\n                if(i != n-1) {\n                    if(i % 2 && a[i+1] != VAR && a[i+1] > a[i]) ok = false;\n                    if(!(i%2)&& a[i+1] != VAR && a[i+1] < a[i]) ok = false;\n                }\n            }\n        }\n        if(!ok) cout << \"none\" << endl;\n        else {\n            // printf(\"mi = %lld, ma = %lld\\n\", mi, ma);\n            if(mi > ma) cout << \"none\" << endl;\n            else if(mi == ma) cout << mi << endl;\n            else cout << \"ambiguous\" << endl;\n        }\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define ll long long\n#define REP(x,a,b) for(int x=a;x<=b;x++)\n#define rep(x,n) for(int x=0;x<n;x++)\n#define cint(x) int x;cin>>x;\n#define cins(x) string x;cin>>x;\n#define pb push_back\n#define repv(x,v) for(int x=0;x<v.size();x++)\ntypedef pair<int,int> P;\n\nint main(){\n\t\n\tfor(int n;cin>>n,n;){\n\t\tvector<int>f;\n\t\tvector<int>v;\n\t\trep(i,n){\n\t\t\tcins(s);\n\t\t\tif(s==\"x\"){\n\t\t\t\tf.pb(1);\n\t\t\t\tv.pb(0);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tf.pb(0);\n\t\t\t\tstringstream ss;\n\t\t\t\tss<<s;\n\t\t\t\tint t;\n\t\t\t\tss>>t;\n\t\t\t\tv.pb(t);\n\t\t\t}\n\t\t}\n\t\tint flg=0;\n\t\tfor(int i=0;i+1<f.size();i++)if(f[i]&&f[i+1])flg=1;\n\t\tif(flg){\n\t\t\tcout<<\"none\"<<endl;\n\t\t\tcontinue;\n\t\t}\n\t\tint mn=-1145141919;\n\t\tint mx=1145141919;\n\t\tfor(int i=0;i+1<v.size();i++){\n\t\t\tif(i%2){//2,4,6,\n\t\t\t\tif(f[i]){\n\t\t\t\t\tmn=max(mn,v[i+1]+1);\n\t\t\t\t}\n\t\t\t\telse if(f[i+1]){\n\t\t\t\t\tmx=min(mx,v[i]-1);\n\t\t\t\t}\n\t\t\t\telse if(v[i]<=v[i+1]){\n\t\t\t\t\tflg=1;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{//1,3,5,\n\t\t\t\tif(f[i]){\n\t\t\t\t\tmx=min(mx,v[i+1]-1);\n\t\t\t\t}\n\t\t\t\telse if(f[i+1]){\n\t\t\t\t\tmn=max(mn,v[i]+1);\n\t\t\t\t}\n\t\t\t\telse if(v[i]>=v[i+1]){\n\t\t\t\t\tflg=1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(flg){\n\t\t\tcout<<\"none\"<<endl;\n\t\t\tcontinue;\n\t\t}\n\t\tif(mx>mn){\n\t\t\tcout<<\"ambiguous\"<<endl;\n\t\t\tcontinue;\n\t\t}\n\t\tif(mx==mn){\n\t\t\tcout<<mx<<endl;\n\t\t\tcontinue;\n\t\t}\n\t\tif(mx<mn){\n\t\t\tcout<<\"none\"<<endl;\n\t\t}\n\t}\n\t\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <functional>\n#include <cmath>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <string>\n#include <sstream>\n#include <iostream>\n#include <iomanip>\n#include <vector>\n#include <list>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <bitset>\n#include <climits>\n\n#define all(c) (c).begin(), (c).end()\n#define rep(i,n) for(int i=0;i<(n);i++)\n#define pb(e) push_back(e)\n#define mp(a, b) make_pair(a, b)\n#define fr first\n#define sc second\n\nconst int INF=1000000000;\nint dx[4]={1,0,-1,0};\nint dy[4]={0,1,0,-1};\nusing namespace std;\ntypedef pair<int ,int > P;\ntypedef long long ll;\n\nint n;\nstring a[1003];\n\nint toi(string s) {\n    int res;\n    stringstream ss;\n    ss<<s;\n    ss>>res;\n    return res;\n}\n\nint odd(int i) {\n    int res=-INF*2;\n    if(i-1>=0 && a[i-1]!=\"x\") {\n        res=max(res,toi(a[i-1]));\n    }\n    if(a[i+1]!=\"x\") {\n        res=max(res,toi(a[i+1]));\n    }\n    return res;\n}\nint even(int i) {\n    int res=INF*2;\n\n    if(i-1>=0 && a[i-1]!=\"x\") {\n        res=min(res,toi(a[i-1]));\n    }\n    if(i+1<n && a[i+1]!=\"x\") {\n        res=min(res,toi(a[i+1]));\n    }\n    return res;\n}\n\nbool ok() {\n    bool res=true;\n    rep(i,n) {\n        if(i&1) {\n            if(i-1>=0) res &= a[i]>a[i-1];\n            if(i+1<n) res &= a[i]>a[i+1];\n        }\n        else {\n            if(i-1>=0) res &= a[i]<a[i-1];\n            if(i+1<n) res &= a[i]<a[i+1];\n        }\n    }\n    return res;\n}\n\nbool exist_x() {\n    bool res=false;\n    rep(i,n) res|=a[i]==\"x\";\n    return res;\n}\nint count_x() {\n    int res=0;\n    rep(i,n) if(a[i]==\"x\") res++;\n    return res;\n}\n\n\nvoid solve() {\n    int l=-INF*2,r=INF*2;\n    rep(i,n) cin>>a[i];\n\n    rep(i,n) {\n        if(a[i]==\"x\") {\n            if(i&1) {\n                l=max(l,odd(i));\n            }\n            else {\n                r=min(r,even(i));\n            }\n        }\n    }\n    if(!exist_x()) {\n        if(ok()) cout<<\"ambiguous\"<<endl;\n        else cout<<\"none\"<<endl;\n        return;\n    }\n    if(count_x()==n) {\n        cout<<\"none\"<<endl;\n        return;\n    }\n    if(r-l==2) {\n        cout<<l+1<<endl;\n        return;\n    }\n    else if(r-l==1) {\n        cout<<\"none\"<<endl;\n    }\n    else {\n        cout<<\"ambiguous\"<<endl;\n\n    }\n\n\n}\n\nint main() {\n    while(cin>>n) {\n        if(n==0) break;\n        solve();\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define For(i, a, b) for(int (i)=(int)(a); (i)<(int)(b); ++(i))\n#define rFor(i, a, b) for(int (i)=(int)(a)-1; (i)>=(int)(b); --(i))\n#define rep(i, n) For((i), 0, (n))\n#define rrep(i, n) rFor((i), (n), 0)\n#define fi first\n#define se second\nusing namespace std;\ntypedef long long lint;\ntypedef unsigned long long ulint;\ntypedef pair<int, int> pii;\ntypedef pair<int, lint> pil;\ntypedef pair<lint, lint> pll;\ntemplate<class T> bool chmax(T &a, const T &b){if(a<b){a=b; return true;} return false;}\ntemplate<class T> bool chmin(T &a, const T &b){if(a>b){a=b; return true;} return false;}\ntemplate<class T> T div_floor(const T a, const T b){return a>=0 ? a/b : (a+1)/b-1;}\ntemplate<class T> T div_ceil(const T a, const T b){return a>=0 ? (a-1)/b+1 : a/b;}\n\nconstexpr lint mod = 1e9+7;\nconstexpr lint INF = mod*mod;\nconstexpr int MAX = 100010;\n\nint main(){\n    int n;\n    while(scanf(\"%d\", &n) && n){\n        string a[n];\n        rep(i, n) cin >> a[i];\n        int low = -mod, high =mod;\n        bool flag = true;\n        rep(i, n) {\n            if (a[i] == \"x\") {\n                if (i % 2 == 0) {\n                    if (i - 1 >= 0) {\n                        if (a[i - 1] == \"x\") {\n                            flag = false;\n                            break;\n                        } else chmin(high, stoi(a[i - 1]));\n                    }\n                    if (i + 1 < n) {\n                        if (a[i + 1] == \"x\") {\n                            flag = false;\n                            break;\n                        } else chmin(high, stoi(a[i + 1]));\n                    }\n                } else {\n                    if (i - 1 >= 0) {\n                        if (a[i - 1] == \"x\") {\n                            flag = false;\n                            break;\n                        } else chmax(low, stoi(a[i - 1]));\n                    }\n                    if (i + 1 < n) {\n                        if (a[i + 1] == \"x\") {\n                            flag = false;\n                            break;\n                        } else chmax(low, stoi(a[i + 1]));\n                    }\n                }\n            }\n            else{\n                if(i%2 == 0 && i+1 < n && a[i+1] != \"x\"){\n                    if(stoi(a[i]) >= stoi(a[i+1])){\n                        flag = false;\n                        break;\n                    }\n                }\n                else if(i%2 == 1 && i+1 < n && a[i+1] != \"x\"){\n                    if(stoi(a[i]) <= stoi(a[i+1])){\n                        flag = false;\n                        break;\n                    }\n                }\n            }\n        }\n        if(!flag || high-low <= 1) puts(\"none\");\n        else if(high-low > 2) puts(\"ambiguous\");\n        else printf(\"%d\\n\", low+1);\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdlib>\n#include<cstring>\n#include<algorithm>\n#define MAX 1e9+10\nusing namespace std;\n\nbool check(int n,string *signal){\n  for(int i=1;i<n;i++){\n    if(signal[i-1]==\"x\" && signal[i]==\"x\")return false;\n    if(signal[i-1]==\"x\" || signal[i]==\"x\")continue;\n    int prev=atoi(signal[i-1].c_str());\n    int pre=atoi(signal[i].c_str());\n    if(i%2){\n      if(prev>pre)\n\treturn false;\n    }else{\n      if(prev<pre)\n\treturn false;\n    }\n  }\n  return true;\n}\n\nvoid renge(int n,string *signal){\n  int mx=MAX,mm=-(MAX);\n  if(signal[0]==\"x\")\n    mx=atoi(signal[1].c_str());\n  if(signal[n-1]==\"x\"){\n    if(n%2) mx=atoi(signal[n-2].c_str());\n    else mm=atoi(signal[n-2].c_str());\n  }\n  for(int i=1;i<n-1;i++){\n    if(signal[i]!=\"x\")continue;\n    int prev=atoi(signal[i-1].c_str());\n    int next=atoi(signal[i+1].c_str());\n    if(i%2)\n      mm=max(mm,max(prev,next));\n    else\n      mx=min(mx,min(prev,next));\n  }\n  //cout << \"mx:\" << mx << \" mm:\" << mm << endl;\n  int border=mx-mm;\n  //cout << \"border:\" << border << endl;\n  if(border>2){\n    cout << \"ambiguous\" << endl;\n  }else if(border==2){\n    cout << mx-1 << endl;\n  }else{\n    cout << \"none\" << endl;\n  }\n}\n\nint main(){\n  int n;\n  while(cin>>n,n){\n    string signal[1001];\n    for(int i=0;i<n;i++)cin>>signal[i];\n    if(!check(n,signal)){\n      cout << \"none\" << endl;\n      continue;\n    }\n    renge(n,signal);\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing ll=long long;\nusing vb=vector<bool>;\nusing vvb=vector<vb>;\nusing vd=vector<double>;\nusing vvd=vector<vd>;\nusing vi=vector<int>;\nusing vvi=vector<vi>;\nusing vl=vector<ll>;\nusing vvl=vector<vl>;\nusing pii=pair<int,int>;\nusing pll=pair<ll,ll>;\nusing tll=tuple<ll,ll>;\nusing tlll=tuple<ll,ll,ll>;\nusing vs=vector<string>;\n\n#define all(a) a.begin(),a.end()\n#define rall(a) a.rbegin(),a.rend()\n#define rep(i,n) range(i,0,n)\n#define rrep(i,n) for(int i=(n)-1;i>=0;i--)\n#define range(i,a,n) for(int i=(a);i<(n);i++)\n\n#define LINF ((ll)1ll<<60)\n#define INF ((int)1<<30)\n#define EPS (1e-9)\n#define MOD (1000000007ll)\n#define fcout(a) cout<<setprecision(a)<<fixed\n#define fs first\n#define sc second\n#define PI 3.1415926535897932384\n\nint dx[]={1,0,-1,0,1,-1,-1,1},dy[]={0,1,0,-1,1,1,-1,-1};\n\ntemplate<class T>bool chmax(T&a,T b){if(a<b){a=b; return true;}return false;}\ntemplate<class T>bool chmin(T&a,T b){if(a>b){a=b; return true;}return false;}\ntemplate<class S>S acm(vector<S>&a){return accumulate(all(a),S());}\ntemplate<class S>S max(vector<S>&a){return *max_element(all(a));}\ntemplate<class S>S min(vector<S>&a){return *min_element(all(a));}\nvoid YN(bool b){cout<<(b?\"YES\":\"NO\")<<\"\\n\";}\nvoid Yn(bool b){cout<<(b?\"Yes\":\"No\")<<\"\\n\";}\nvoid yn(bool b){cout<<(b?\"yes\":\"no\")<<\"\\n\";}\n\nll max(int a,ll b){return max((ll)a,b);} ll max(ll a,int b){return max(a,(ll)b);}\ntemplate<class T>void puta(T&&t){cout<<t<<\"\\n\";}\ntemplate<class H,class...T>void puta(H&&h,T&&...t){cout<<h<<' ';puta(t...);}\ntemplate<class S,class T>ostream&operator<<(ostream&os,pair<S,T>p){os<<\"[\"<<p.first<<\", \"<<p.second<<\"]\";return os;};\ntemplate<class S>auto&operator<<(ostream&os,vector<S>t){bool a=1; for(auto s:t){os<<(a?\"\":\" \")<<s;a=0;} return os;}\n\nvoid solve(int n){\n\tstring in;\n\tll mn=-LINF,mx=LINF;\n\tvl v(n);\n\trep(i,n){\n\t\tcin>>in;\n\t\tif(in==\"x\")v[i]=LINF;\n\t\telse v[i]=stoll(in);\n\t}\n\trep(i,n){\n\t\tif(v[i]==LINF){\n\t\t\tif(i%2==0){\n\t\t\t\tif(i!=0)chmin(mx,v[i-1]-1);\n\t\t\t\tif(i!=n-1)chmin(mx,v[i+1]-1);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tchmax(mn,v[i-1]+1);\n\t\t\t\tif(i!=n-1)chmax(mn,v[i+1]+1);\n\t\t\t}\n\t\t}\n\t}\n\tbool safe=true;\n\trep(i,n){\n\t\tif(v[i]==LINF)v[i]=mx;\n\t\tif(i==0)continue;\n\t\tsafe&=(i%2==0?(v[i-1]>v[i]):(v[i-1]<v[i]));\n\t}\n\tif(safe){\n\t\tif(mx==mn)cout<<mx<<\"\\n\";\n\t\telse cout<<\"ambiguous\"<<\"\\n\";\n\t}\n\telse cout<<\"none\"<<\"\\n\";\n\n}\n\nint main(){\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\tint n;\n\twhile(cin>>n,n)solve(n);\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdlib>\n#include <algorithm>\nusing namespace std;\n\n#define MAX_N 1000000000\n\nint main()\n{\n  while(1){\n    int n;\n    cin >> n;\n    if(n == 0) break;\n    long long int a[n];\n    for(int i = 0; i < n; i++){\n      string s;\n      cin >> s;\n      a[i] = s == \"x\" ? MAX_N+1 : atoi(s.c_str());\n    } \n    long long int l = -MAX_N-3, u = MAX_N+3;\n    bool flag = false;\n    for(int i = 0; i < n-1; i++){\n      if(a[i] == MAX_N+1){\n        if(a[i+1] == MAX_N+1){\n          flag = true;\n          break;\n        }else{\n          if((i+1) & 1){\n            u = min(u,a[i+1]);\n          }else{\n            l = max(l,a[i+1]);\n          }\n        }\n      }else{\n        if(a[i+1] == MAX_N+1){\n          if((i+1) & 1){\n            l = max(l,a[i]);\n          }else{\n            u = min(u,a[i]);\n          }\n        }else{\n          if((i+1) & 1){\n            if(a[i] >= a[i+1]){\n              flag = true;\n              break;\n            }\n          }else{\n            if(a[i] <= a[i+1]){\n              flag = true;\n              break;\n            }\n          }\n        }\n      }\n    }\n    if(flag){\n      cout << \"none\" << endl;\n      continue;\n    }\n    if(u - l - 1 > 1)\n      cout << \"ambiguous\" << endl;\n    else if(u - l - 1 <= 0)\n      cout << \"none\" << endl;\n    else\n      cout << (u+l)/2 << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include \"iostream\"\n#include \"climits\"\n#include \"list\"\n#include \"queue\"\n#include \"stack\"\n#include \"set\"\n#include \"functional\"\n#include \"algorithm\"\n#include \"string\"\n#include \"map\"\n#include \"unordered_map\"\n#include \"unordered_set\"\n#include \"iomanip\"\n#include \"cmath\"\n#include \"random\"\n#include \"bitset\"\n#include \"cstdio\"\n#include \"numeric\"\n#include \"cassert\"\n#include \"ctime\"\n\nusing namespace std;\n\nconstexpr long long int MOD = 1000000007;\n//constexpr int MOD = 1000000007;\n//constexpr int MOD = 998244353;\n//constexpr long long int MOD = 998244353;\nconstexpr double EPS = 1e-12;\n\n//int N, M, K, T, H, W, L, R;\nlong long int N, M, K, T, H, W, L, R;\n\n\nint main() {\n\tios::sync_with_stdio(false);\n\tcin.tie(0);\n\n\twhile (cin>>N,N) {\n\t\tvector<string>v(N);\n\t\tfor (auto &i : v)cin >> i;\n\t\tvector<long long int>w(N);\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\tif (v[i] == \"x\")w[i] = MOD;\n\t\t\telse w[i] = stoi(v[i]);\n\t\t}\n\t\tL = -MOD, R = MOD;\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\tif (v[i] != \"x\") {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif ((i & 1)) {\n\t\t\t\tif (i) {\n\t\t\t\t\tif (w[i - 1] != MOD) {\n\t\t\t\t\t\tL = max(L, w[i - 1] + 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (i + 1 < N) {\n\t\t\t\t\tif (w[i + 1] != MOD) {\n\t\t\t\t\t\tL = max(L, w[i + 1] + 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (i) {\n\t\t\t\t\tif (w[i - 1] != MOD) {\n\t\t\t\t\t\tR = min(R, w[i - 1] - 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (i + 1 < N) {\n\t\t\t\t\tif (w[i + 1] != MOD) {\n\t\t\t\t\t\tR = min(R, w[i + 1] - 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t//\tcout << L << \" \" << R << endl;\n\t\t}\n\t\tfor (int i = 1; i < N; i++) {\n\t\t\tif (v[i] != \"x\"&&v[i - 1] != \"x\") {\n\t\t\t\tif (i & 1) {\n\t\t\t\t\tif (w[i - 1] >= w[i])L = R + 1;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (w[i - 1] <= w[i])L = R + 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (v[i] == \"x\"&&v[i - 1] == \"x\") {\n\t\t\t\tL = R + 1;\n\t\t\t}\n\t\t}\n\t//\tfor (int i = 0; i < N; i++) {\n\t//\t\tcout<<\n\t//\t}\n\t\tif (L == R) {\n\t\t\tcout << L << endl;\n\t\t}\n\t\telse if (L < R) {\n\t\t\tcout << \"ambiguous\" << endl;\n\t\t}\n\t\telse {\n\t\t\tcout << \"none\" << endl;\n\t\t}\n\t//\tcout << L << \" \" << R << endl;\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\ntypedef pair<int,int>pint;\ntypedef vector<int>vint;\n#define pb push_back\n#define mp make_pair\n#define rep(i,n) for(int i=0;i<(n);i++)\ntemplate<class T,class U>void chmin(T &t,U f){if(t>f)t=f;}\ntemplate<class T,class U>void chmax(T &t,U f){if(t<f)t=f;}\n\nint N;\nint x[1000];\n\nint toint(string &s){\n    stringstream ss(s);\n    int ret;\n    ss>>ret;\n    return ret;\n}\n\n\nint main(){\n    while(scanf(\"%d\",&N),N){\n        rep(i,N){\n            string s;cin>>s;\n            if(s[0]=='x')x[i]=-1;\n            else x[i]=toint(s);\n        }\n\n        bool ok=true;\n        rep(i,N-1){\n            if(x[i]==-1&&x[i+1]==-1)ok=false;\n        }\n\n        rep(i,N-1){\n            if(x[i]==-1)continue;\n            if(x[i+1]==-1)continue;\n\n            if(i&1){\n                if(x[i+1]>=x[i])ok=false;\n            }\n            else{\n                if(x[i+1]<=x[i])ok=false;\n            }\n        }\n\n        if(!ok){\n            cout<<\"none\"<<endl;\n            continue;\n        }\n\n        int l=-1001001001,u=1001001001;\n\n        rep(i,N){\n            if(x[i]!=-1)continue;\n            if(i&1){\n                if(i)chmax(l,x[i-1]+1);\n                if(i+1<N)chmax(l,x[i+1]+1);\n            }\n            else{\n                if(i)chmin(u,x[i-1]-1);\n                if(i+1<N)chmin(u,x[i+1]-1);\n            }\n        }\n\n        if(l>u)cout<<\"none\"<<endl;\n        else if(l==u)cout<<l<<endl;\n        else cout<<\"ambiguous\"<<endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<n;i++)\nusing namespace std;\n\nint n,m,M,a[1000],I=1000000010;\nstring b,s;\n\nmain(){\n\twhile(cin>>n,n){\n\t\tbool e=0;\n\t\ts=\"none\";\n\t\tM=I;m=-I;\n\t\trep(i,n){\n\t\t\ta[i]=0;cin>>b;\n\t\t\tif(b==\"x\")a[i]=I;\n\t\t\telse rep(j,b.size()){\n\t\t\t\tif(b[j]=='-')continue;\n\t\t\t\ta[i]*=10;a[i]+=b[j]-'0';\n\t\t\t}\n\t\t\tif(b[0]=='-')a[i]*=-1;\n\t\t}\n\t\trep(i,n-1)if(a[i]==a[i+1])e=1;\n\t\trep(i,n-1)if(a[i]!=I&&a[i+1]!=I&&((i%2&&a[i]<=a[i+1])||(!(i%2)&&a[i]>=a[i+1])))e=1;\n\t\tif(e){\n\t\t\tcout<<s<<endl;\n\t\t\tcontinue;\n\t\t}\n\t\trep(i,n)if(a[i]==I)e=1;\n\t\tif(!e){\n\t\t\tcout<<\"ambiguous\"<<endl;\n\t\t\tcontinue;\n\t\t}\n\t\tif(a[0]==I)M=a[1]-1;\n\t\tif(a[n-1]==I){\n\t\t\tif(n%2) M=min(M,a[n-2]-1);\n\t\t\telse m=a[n-2]+1;\n\t\t}\n\t\tfor(int i=1;i<n-1;i++){\n\t\t\tif(a[i]!=I)continue;\n\t\t\tif(i%2) m=max(m,max(a[i-1],a[i+1])+1);\n\t\t\telse M=min(M,min(a[i-1],a[i+1])-1);\n\t\t}\n\t\tif(m==M)cout<<m<<endl;\n\t\telse{\n\t\t\tif(M>m)s=\"ambiguous\";\n\t\t\tcout<<s<<endl;\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "///\n// File:  2565.cpp\n// Author: ymiyamoto\n//\n// Created on Sun Nov 26 23:04:35 2017\n//\n\n#include <cstdint>\n#include <iostream>\n#include <string>\n#include <vector>\n\nusing namespace std;\n\nint32_t main()\n{\n  while (true) {\n    int32_t n;\n    cin >> n;\n\n    if (n == 0) break;\n\n    vector<string> signals;\n    signals.push_back(\"\");\n    for (int32_t i = 1; i <= n; i++) {\n      string sig;\n      cin >> sig;\n      signals.push_back(sig);\n    }\n\n    bool invalid = false;\n    int64_t xodd = INT32_MAX;\n    int64_t xeven = INT32_MIN;\n    for (int32_t i = 1; i <= n; i++) {\n      cerr << signals[i] << \" \";\n      if (signals[i] == signals[i + 1]) {\n        invalid = true;\n      }\n\n      if (signals[i] != \"x\") {\n        if (i % 2 == 1) {\n          int64_t s = stoll(signals[i]);\n          if (i - 1 >= 1 && signals[i - 1] != \"x\" && s >= stoll(signals[i - 1])) {\n            invalid = true;\n          }\n          if (signals[i + 1] != \"x\" && s >= stoll(signals[i + 1])) {\n            invalid = true;\n          }\n        } else {\n          int64_t s = stoll(signals[i]);\n          if (i - 1 >= 1 && signals[i - 1] != \"x\" && s <= stoll(signals[i - 1])) {\n            invalid = true;\n          }\n          if (i + 1 <= n && signals[i + 1] != \"x\" && s <= stoll(signals[i + 1])) {\n            invalid = true;\n          }\n        }\n      } else {\n        if ((i - 1 >= 1 && signals[i - 1] == \"x\") || (i + 1 <= n && signals[i + 1] == \"x\")) {\n          invalid = true;\n        } else {\n          if (i % 2 == 1) {\n            int64_t x1 = i - 1 >= 1 ? stoll(signals[i - 1]) : INT64_MAX;\n            int64_t x2 = i + 1 <= n ? stoll(signals[i + 1]) : INT64_MAX;\n            xodd = min(xodd, min(x1, x2) - 1);\n          } else {\n            int64_t x1 = i - 1 >= 1 ? stoll(signals[i - 1]) : INT64_MIN;\n            int64_t x2 = i + 1 <= n ? stoll(signals[i + 1]) : INT64_MIN;\n            xeven = max(xeven, max(x1, x2) + 1);\n          }\n        }\n      }\n    }\n    if (invalid) {\n      cout << \"none\" << endl;\n    } else if (xodd == xeven) {\n      cout << xodd << endl;\n    } else if (xodd < xeven) {\n      cout << \"none\" << endl;\n    } else {\n      cout << \"ambigous\" << endl;\n    }\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nvoid solve(int n){\n\tint a[n];\n\tvector<string> v;\n\tfor(int i=0; i<n; ++i){\n\t\tstring s;\n\t\tcin >> s;\n\t\tif(s == \"x\") a[i] = 1e9+7;\n\t\telse a[i] = stoi(s);\n\t}\n\tint l = -1e9-7;\n\tint r = 1e9+7;\n\tfor(int i=0; i<n-1; ++i){\n\t\tif((a[i] == 1e9+7 && a[i+1] == 1e9+7)){\n\t\t\tcout << \"none\\n\";\n\t\t\treturn;\n\t\t}else if(a[i] == 1e9+7){\n\t\t\tif(i % 2 == 0){\n\t\t\t\tr = min(r, a[i+1]-1);\n\t\t\t}else{\n\t\t\t\tl = max(l, a[i+1]+1);\n\t\t\t}\n\t\t}else if(a[i+1] == 1e9+7){\n\t\t\tif(i % 2 == 0){\n\t\t\t\tl = max(l, a[i]+1);\n\t\t\t}else{\n\t\t\t\tr = min(r, a[i]-1);\n\t\t\t}\n\t\t}else{\n\t\t\tif(a[i] == a[i+1] || (i % 2 == 0 && a[i] > a[i+1]) || (i % 2 == 1 && a[i] < a[i+1])){\n\t\t\t\tcout << \"none\\n\";\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t}\n\tif(l == r) cout << l << \"\\n\";\n\telse if(l < r) cout << \"ambiguous\\n\";\n\telse cout << \"none\\n\";\n}\n\nint main(){\n//\tcin.tie(0);\n//\tios::sync_with_stdio(false);\n\twhile(1){\n\t\tint n;\n\t\tcin >> n;\n\t\tif(n == 0) return 0;\n\t\tsolve(n);\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n#pragma warning(disable:4996)\nusing namespace std;\n\n\n\nint main() {\n\twhile (1) {\n\t\tint n; cin >> n;\n\t\tint ans=0;\n\t\tif (!n)break;\n\n\t\tint amin = -1000000010;\n\t\tint amax =  1000000010;\n\t\t\n\t\tvector<int>nums;\n\t\tfor (int i = 0; i < n; ++i) {\n\t\t\tstring c; cin >> c;\n\t\t\tif (c!=\"x\") {\n\t\t\t\tnums.push_back(stoi(c));\n\t\t\t}\n\t\t\telse {\n\t\t\t\tnums.push_back(1000000001);\n\t\t\t}\n\t\t}\n\t\tfor (int i = 0; i < n; ++i) {\n\t\t\tif (nums[i] == 1000000001) {\n\t\t\t\tif (i != n - 1) {\n\t\t\t\t\tif (nums[i + 1] == 1000000001) {\n\t\t\t\t\t\tans = 1000000001;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (i % 2) {\n\t\t\t\t\t\t\tamin = max(amin, nums[i + 1] + 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tamax = min(amax, nums[i + 1] - 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (i) {\n\t\t\t\t\tif (nums[i - 1] == 1000000001) {\n\t\t\t\t\t\tans = 1000000001;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (i % 2) {\n\t\t\t\t\t\t\tamin = max(amin, nums[i - 1] + 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tamax = min(amax, nums[i - 1] - 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (int i = 0; i < n-1; ++i) {\n\t\t\tif (nums[i] != 1000000001 && nums[i + 1] != 1000000001) {\n\t\t\t\tif (i % 2) {\n\t\t\t\t\tif (nums[i] <= nums[i + 1])ans = 1000000001;\n\t\t\t\t}\n\t\t\t\telse {\n\n\t\t\t\t\tif (nums[i] >= nums[i + 1])ans = 1000000001;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (ans == 1000000001||amax<amin) {\n\t\t\tcout << \"none\" << endl;\n\t\t}\n\t\telse if (amax == amin) {\n\t\t\tcout << amax << endl;\n\t\t}\n\t\telse {\n\t\t\tcout << \"ambiguous\" << endl;\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\ntypedef long long LL;\n#define SORT(c) sort((c).begin(),(c).end())\n\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n)  FOR(i,0,n)\nusing namespace std;\nint INF=(1<<30)-1;\nint main(void)\n{\n  for(;;){\n    int n;\n    cin >> n;\n    if(!n) return 0;\n    vector<int> a;\n    a.resize(n+2);\n    a[0]=INF;\n    REP(i,n) a[i+1]=i%2?-INF:INF;\n    a[n+1]=n%2?INF:-INF;\n    vector<bool> broken;\n    broken.assign(n+2,false);\n    REP(i,n){\n      string str;\n      cin >> str;\n      if(str==\"x\") broken[i+1]=true;\n      else {\n\ta[i+1]=stoi(str);\n      }\n    }\n    int ansl=-INF,ansr=INF;\n    //[l,r)\n    FOR(i,1,n+1){\n      if(broken[i]){\n\tif(i%2){\n\t  ansr=min(ansr,min(a[i-1],a[i+1]));\n\t  a[i]=ansl;\n\t}\n\telse{\n\t  ansl=max(ansl,max(a[i-1]+1,a[i+1]+1));\n\t  a[i]=ansr;\n\t}\n      }\n      else{\n\tif(i%2 && a[i]>=a[i-1]) ansl=ansr;\n\tif(!(i%2) && a[i]<=a[i-1]) ansl=ansr;\n      }\n    }\n    \n    if(ansr-ansl==1) cout << ansl << endl;\n    else if(ansr>ansl) cout << \"ambiguous\" << endl;\n    else cout << \"none\" << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nconst int INF = 1001001001;\n\nint main()\n{\n    int n;\n    \n    while (scanf(\"%d\", &n) && n){\n        int xl = -INF, xr = INF;\n        bool px = false;\n        int pval = INF + 1;\n        bool ok = true;\n        for (int i = 0; i < n; i++){\n            char s[16];\n            scanf(\"%s\", s);\n            if (s[0] == 'x'){\n                if (px) ok = false;\n                else {\n                    if (i & 1) xl = pval + 1;\n                    else xr = pval - 1;\n                }\n                px = true;\n            }\n            else {\n                int tmp;\n                sscanf(s, \"%d\", &tmp);\n                if (px){\n                    if (i & 1) xr = tmp - 1;\n                    else xl = tmp + 1;\n                }\n                else {\n                    if (i & 1) ok &= (pval < tmp);\n                    else ok &= (tmp < pval);\n                }\n                pval = tmp;\n                px = false;\n            }\n        }\n        \n        if (!ok || xl > xr) printf(\"none\\n\");\n        else if (xr != xl) printf(\"ambiguous\\n\");\n        else printf(\"%d\\n\", xr);\n    }\n    \n    return (0);\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nint main(void) {\n  int n;\n  while (cin >> n, n) {\n    vector<string> a(n);\n    for (int i = 0; i < n; i++) {\n      cin >> a[i];\n    }\n\n    int minx = -1e9 - 2, maxx = 1e9 + 2;\n    bool none = false;\n    for (int i = 0; i < n; i++) {\n      if (a[i] == \"x\") {\n        if ((i > 0 && a[i - 1] == \"x\") || (i < n - 1 && a[i + 1] == \"x\")) {\n          none = true;\n          break;\n        } else if (i & 1) {\n          if (i > 0) minx = max(minx, atoi(a[i - 1].c_str()) + 1);\n          if (i < n - 1) minx = max(minx, atoi(a[i + 1].c_str()) + 1);\n        } else {\n          if (i > 0) maxx = min(maxx, atoi(a[i - 1].c_str()) - 1);\n          if (i < n - 1) maxx = min(maxx, atoi(a[i + 1].c_str()) - 1);\n        }\n      } else if (i & 1) {\n        if (i > 0 && a[i - 1] != \"x\" && atoi(a[i - 1].c_str()) >= atoi(a[i].c_str())) {\n          none = true;\n        } else if (i < n - 1 && a[i + 1] != \"x\" && atoi(a[i].c_str()) <= atoi(a[i + 1].c_str())) {\n          none = true;\n        }\n        if (none) break;\n      } else {\n        if (i > 0 && a[i - 1] != \"x\" && atoi(a[i - 1].c_str()) <= atoi(a[i].c_str())) {\n          none = true;\n        } else if (i < n - 1 && a[i + 1] != \"x\" && atoi(a[i].c_str()) >= atoi(a[i + 1].c_str())) {\n          none = true;\n        }\n        if (none) break;\n      }\n    }\n\n    if (none || minx - maxx > 0) {\n      cout << \"none\\n\";\n    } else if (minx == maxx) {\n      cout << minx << endl;\n    } else {\n      cout << \"ambiguous\\n\";\n    }\n  }\n\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main(){\n\n  int N;\n  \n  while(1){\n    cin >>N;\n    if(N == 0)break;\n    vector<string> vec;\n    for(int i=0 ; i < N ; i++){\n      string in;\n      cin >>in;\n      vec.push_back(in);\n    }\n    \n    bool flag=true;\n    for(int i=0 ; i < N ; i++){\n      if(vec[i] != \"x\"){\n\tbool left=false,right=false;\n\tint temp1,temp2;\n\tif(i-1>=0 && vec[i-1] != \"x\"){\n\t  stringstream ss;\n\t  ss << vec[i-1];\n\t  ss >>temp1;\n\t  left=true;\n\t}\n\tif(i+1 < N && vec[i+1] != \"x\"){\n\t  stringstream ss2;\n\t  ss2 << vec[i+1];\n\t  ss2 >> temp2;\n\t  right=true;\n\t}\n\tif((i+1)%2 == 0){\n\t  stringstream ss3;\n\t  int temp3;\n\t  ss3 << vec[i];\n\t  ss3 >> temp3;\n\t  if(left && temp3 <= temp1){\n\t    flag=false;\n\t  }\n\t  if(right && temp3 <= temp2){\n\t    flag=false;\n\t  }\n\t}else{\n\t  stringstream ss4;\n\t  int temp4;\n\t  ss4 << vec[i];\n\t  ss4 >> temp4;\n\t  if(left && temp4 >= temp1){\n\t    flag=false;\n\t  }\n\t  if(right && temp4 >= temp2){\n\t    flag=false;\n\t  }\n\t}\n      }\n    }\n    if(flag){\n      int mx=1e9,mn=-1e9; \n      bool flag2 = true;\n      for(int i=0 ; i < N ; i++){\n\tif(vec[i] == \"x\"){\n\t  if((i+1)%2 == 0){\n\t    if(i-1 >= 0){\n\t      if(vec[i-1] == \"x\"){\n\t\tflag2=false;\n\t      }else{\n\t\tstringstream ss5;\n\t\tint temp5;\n\t\tss5 << vec[i-1];\n\t\tss5 >> temp5;\n\t\tmn = max(mn,temp5+1);\n\t      }\n\t    }\n\t    if(i+1 < N){\n\t      if(vec[i+1] == \"x\"){\n\t\tflag2=false;\n\t      }else{\n\t\tstringstream ss6;\n\t\tint temp6;\n\t\tss6 << vec[i+1];\n\t\tss6 >> temp6;\n\t\tmn = max(mn,temp6+1);\n\t      }\n\t    }\n\t  }else{\n\t    if(i-1 >= 0){\n\t      if(vec[i-1] == \"x\"){\n\t\tflag2=false;\n\t      }else{\n\t\tstringstream ss7;\n\t\tint temp7;\n\t\tss7 << vec[i-1];\n\t\tss7 >> temp7;\n\t\tmx = min(mx,temp7-1);\n\t      }\n\t    }\n\t    if(i+1 < N){\n\t      if(vec[i+1] == \"x\"){\n\t\tflag2=false;\n\t      }else{\n\t\tstringstream ss8;\n\t\tint temp8;\n\t\tss8 << vec[i+1];\n\t\tss8 >> temp8;\n\t\tmx = min(mx,temp8-1);\n\t      }\n\t    }\n\t  }\n\t}\n      }\n      if(flag2){\n\tif(mx == mn){\n\t  cout <<mx<<endl;\n\t}else if(mx > mn){\n\t  cout <<\"ambiguous\"<<endl;\n\t}else{\n\t  cout <<\"none\"<<endl;\n\t}\n      }else{\n\tcout <<\"none\"<<endl;\n      }\n    }else{\n      cout <<\"none\"<<endl;\n    }\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 1000000100\n\n#include <iostream>\n#include <cstdio>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n  \nusing namespace std;\n  \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P> PP;\n  \nstatic const double EPS = 1e-8;\n\n\nbool check(vector<int> signals){\n  bool is_none = false;\n  for(int i=0;i<signals.size();i++){\n    int lhs = i - 1;\n    int rhs = i + 1;\n    if(lhs >= 0 && signals[lhs] != INF){\n      if((i + 1) % 2 == 0){\n        if(signals[i] < signals[lhs]){\n          is_none = true;\n          break;\n        }\n      }\n      else{\n        if(signals[i] > signals[lhs]){\n          is_none = true;\n          break;\n        }\n      }\n    }\n    if(rhs < signals.size() && signals[rhs] != INF){\n      if((i + 1) % 2 == 0){\n        if(signals[i] < signals[rhs]){\n          is_none = true;\n          break;\n        }\n      }\n      else{\n        if(signals[i] > signals[rhs]){\n          is_none = true;\n          break;\n        }\n      }\n    }\n  }\n  return !is_none;\n}\n\nint main(){\n  int N;\n  while(~scanf(\"%d\",&N)){\n    if(N == 0) break;\n\n    vector<int> signals;\n    queue<int> unknown;\n\n    bool has_x = false;\n    bool has_num = false;\n    for(int i=0; i < N; i++){\n      char signal[12];\n      int num;\n      scanf(\"%s\",signal);\n      if(signal[0] != 'x'){\n        num = atoi(signal);\n        has_num = true;\n      }\n      else{\n        num = INF;\n        has_x = true;\n        unknown.push(i);\n      }\n      signals.push_back(num);\n    }\n    \n    if(has_num && has_x){\n      //x x 1 x\n      int lower = -INF;\n      int upper = INF;\n      \n      while(!unknown.empty()){\n        int idx = unknown.front();\n        unknown.pop();\n        int lhs = idx - 1;\n        int rhs = idx + 1;\n        \n        //even\n        if((idx+1) % 2 == 0){\n          if(lhs >= 0 && signals[lhs] != INF) {\n            lower = max(signals[lhs]+1,lower);\n          }\n          if(rhs < signals.size() && signals[rhs] != INF){\n            lower = max(signals[rhs]+1,lower);\n          }\n        }\n        //odd\n        else{\n          if(rhs < signals.size() && signals[rhs] != INF){\n            upper = min(signals[rhs]-1,upper);\n          }\n          if(lhs >= 0 && signals[lhs] != INF){\n            upper = min(signals[lhs]-1,upper);\n          }\n        }\n      }\n\n      if(upper > lower){\n        for(int i=0;i<signals.size();i++){\n          if(signals[i] == INF){\n            signals[i] = lower;\n          }\n        }\n        bool isok = check(signals);\n\n        if(isok){\n          printf(\"ambiguous\\n\");\n        }\n        else{\n          printf(\"none\\n\");\n        }\n      }\n      else if(upper == lower){\n        for(int i=0;i<signals.size();i++){\n          if(signals[i] == INF){\n            signals[i] = lower;\n          }\n        }\n        bool isok = check(signals);\n        if(isok){\n          printf(\"%d\\n\",lower);\n        }\n        else{\n          printf(\"none\\n\");\n        }\n      }\n      else if(upper < lower){\n        printf(\"none\\n\");\n      }\n    }\n\n    else if(!has_num && has_x){\n      //x x x\n      printf(\"none\\n\");\n    }\n    else if(has_num && !has_x){\n      //1 2 3\n      \n      bool isok = check(signals);\n      printf(\"%s\\n\", !isok ? \"none\" : \"ambiguous\");\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <cmath>\n#include <ctype.h>\n#include <string> \n#include <sstream>\n#include <iostream>\n#include <algorithm>\n#include <cstdlib>\n#include <map>\n#include <queue>\n#include <utility>\n#include <vector>\n#include <set>\n#include <iomanip>\n#include <stack>\n  \nusing namespace std;\n\n#define pi 3.141592653589793\n\nint StrToInt(string str)\n{\n\tint i, j, num = 0, ans = 0, l = str.length();\n\tfor(i = l - 1; i >= 0; i--){\n\t\tif(isdigit(str[i])){\n\t\t\tnum = str[i] - '0';\n\t\t\tfor(j = 0; j < l - 1 - i; j++){\n\t\t\t\tnum = num * 10;\n\t\t\t}\n\t\t\tans += num;\n\t\t} else {\n\t\t\tans = -1;\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn ans;\n}\n\nstring IntToStr(int n)\n{\n\tstring s = \"\";\n\tint i = 0;\n\twhile(n / (int)pow(10, i) != 0){\n\t\ti++;\n\t}\n\tfor(int j = i - 1; j >= 0; j--){\n\t\ts += (n / (int)pow(10, j)) + '0';\n\t}\n\treturn s;\n}\n\nstring solve(string a[], int n)\n{\n\tint xrange[2] = {-100000001, 100000001};\n\t// xのとりうる範囲\n\tint is_x_in[2] = {0, 0};\n\t// 0がtrue→偶数番目にxあり、1がtrue→奇数番目にxあり\n\tif(a[1] == \"x\"){\n\t\tif(a[2] == \"x\") return \"none\";\n\t\telse xrange[1] = min(StrToInt(a[2]), xrange[1]);\n\t\tis_x_in[1] = 1;\n\t}\n\tfor(int i = 2; i < n; i++){\n\t\tif(a[i] == \"x\"){\n\t\t\tif(a[i - 1] == \"x\" || a[i + 1] == \"x\") return \"none\";\n\t\t\telse {\n\t\t\t\tis_x_in[i % 2] = 1;\n\t\t\t\tif(i % 2 == 0) xrange[0] = max(max(StrToInt(a[i - 1]), StrToInt(a[i + 1])), xrange[0]);\n\t\t\t\telse xrange[1] = min(min(StrToInt(a[i - 1]), StrToInt(a[i + 1])), xrange[1]);\n\t\t\t}\n\t\t} else if(a[i - 1] == \"x\" || a[i + 1] == \"x\") continue;\n\t\telse {\n\t\t\tif(i % 2 == 0 && max(StrToInt(a[i - 1], StrToInt(a[i + 1]))) >= a[i]) return \"none\";\n\t\t\telse if(i % 2 == 1 && min(StrToInt(a[i - 1], StrToInt(a[i + 1]))) <= a[i]) return \"none\";\n\t\t}\n\t}\n\tif(a[n] == \"x\"){\n\t\tif(a[n - 1] != \"x\"){\n\t\t\tif(n % 2 == 0){\n\t\t\t\txrange[0] = max(StrToInt(a[n - 1]), xrange[0]);\n\t\t\t\tis_x_in[0] = 1;\n\t\t\t}\n\t\t\telse{\n\t\t\t\txrange[1] = min(StrToInt(a[n - 1]), xrange[1]);\n\t\t\t\tis_x_in[1] = 1;\n\t\t\t}\n\t\t}\n\t}\n\tif(is_x_in[0] ^ is_x_in[1]) return \"ambiguous\";\n\telse if(!is_x_in[0] && !is_x_in[1]) return \"ambiguous\";\n\telse {\n\t\tif(xrange[1] - xrange[0] > 2) return \"ambiguous\";\n\t\telse if(xrange[1] - xrange[0] == 2) return IntToStr(xrange[1] - 1);\n\t\telse return \"none\";\n\t}\n}\n\nint main()\n{\n\tint n;\n\twhile(1){\n\t\tcin >> n;\n\t\tif(n == 0) break;\n\t\tstring input[1001];\n\t\tfor(int i = 1; i < n + 1; i++){\n\t\t\tcin >> input[i];\n\t\t}\n\t\tcout << solve(input, n) << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <vector>\n#include <set>\n#include <map>\n#include <queue>\n#include <deque>\n#include <stack>\n#include <algorithm>\n#include <cstring>\n#include <functional>\n#include <cmath>\n#include <sstream>\nusing namespace std;\n#define rep(i,n) for(int i=0;i<(n);++i)\n#define rep1(i,n) for(int i=1;i<=(n);++i)\n#define all(c) (c).begin(),(c).end()\n#define fs first\n#define sc second\n#define pb push_back\n#define show(x) cout << #x << \" \" << x << endl\nint n,a[1000];\nint To_int(string s){\n\tistringstream is(s);\n\tint ret;\n\tis>>ret;\n\treturn ret;\n}\nstring To_string(int a){\n\tostringstream os;\n\tos << a;\n\treturn os.str();\n}\nstring solve(){\n\trep(i,n){\n\t\tstring s;\n\t\tcin>>s;\n\t\tif(s[0]=='x') a[i]=-1;\n\t\telse a[i]=To_int(s);\n\t}\n\trep(i,n-1){\n\t\tif(a[i]==-1&&a[i+1]==-1) return \"none\";\n\t\tif(a[i]!=-1&&a[i+1]!=-1){\n\t\t\tif(i%2==0&&a[i]>=a[i+1]) return \"none\";\n\t\t\tif(i%2==1&&a[i]<=a[i+1]) return \"none\";\n\t\t}\n\t}\n\tint ub=1e9+4,lb=-1e9-4;\n\trep(i,n){\n\t\tif(a[i]==-1){\n\t\t\tif(i>0){\n\t\t\t\tif(i%2==1) lb=max(lb,a[i-1]+1);\n\t\t\t\telse ub=min(ub,a[i-1]-1);\n\t\t\t}\n\t\t\tif(i<n-1){\n\t\t\t\tif(i%2==1) lb=max(lb,a[i+1]+1);\n\t\t\t\telse ub=min(ub,a[i+1]-1);\n\t\t\t}\n\t\t}\n\t}\n\tif(ub<lb) return \"none\";\n\tif(ub==lb) return To_string(ub);\n\treturn \"ambiguous\";\n}\nint main(){\n\twhile(true){\n\t\tcin>>n;\n\t\tif(n==0) break;\n\t\tcout<<solve()<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define INF 1e9\n#define llINF 1e18\n#define MOD 1000000007\n#define pb push_back\n#define mp make_pair \n#define F first\n#define S second\n#define ll long long\n#define vi vector<ll>\n#define vvi vector<vi>\n#define BITLE(n) (1LL<<((ll)n))\n#define SHIFT_LEFT(n) (1LL<<((ll)n))\n#define SUBS(s,f,t) ((s).substr((f)-1,(t)-(f)+1))\n#define ALL(a) (a).begin(),(a).end()\n#define EPS 1e-15\nusing namespace std;\nll toint(string s){\n  ll ret = 0;\n  ll kake = 1;\n  reverse(ALL(s));\n  ll n = s.size();\n  if(s.back() == '-')n--;\n  for(int i=0;i<n;i++){\n    ret += kake*(s[i] - '0');\n    kake *= 10;\n  }\n  if(s.back() == '-')\n    return -ret;\n  return ret;\n}\nvoid solve(ll n){\n  ll le = -INF-10;\n  ll ri = INF+10;\n  vi A(n+2);\n  A[0] = -llINF+10;\n  vector<bool>hoge(n+2);\n  A[0] = llINF+10;\n  if(n%2){\n    A[n+1] = llINF+10;\n  }else A[n+1] = -llINF+10;\n  for(int i=1;i<=n;i++){\n    string s;cin>>s;\n    if(s == \"x\"){\n      hoge[i] = true;\n      A[i] = -llINF;\n    }else{\n      A[i] = toint(s);\n    }\n  }\n  for(int i=1;i<=n;i++){\n    if(hoge[i]){\n      if(hoge[i-1]||hoge[i+1]){\n\tcout<<\"none\"<<endl;return;\n      }\n      if(i%2==0){\n\tle = max({le,A[i-1]+1,A[i+1]+1});\n      }else{\n\tri = min({ri,A[i-1]-1,A[i+1]-1});\n      }\n    }else{\n      if(hoge[i] == false && hoge[i-1] == false && hoge[i+1] == false){\n\tif(i%2){\n\t  if(A[i] >= A[i-1] || A[i] >= A[i+1]){cout<<\"none\"<<endl;return;}\n\t}else{\n\t  if(A[i] <= A[i-1] || A[i] <= A[i+1]){cout<<\"none\"<<endl;return;}\n\t}\n      }\n    }\n  }\n  if(le == -INF-10 && ri == INF+10){\n \n    for(int i=1;i<=n;i++){\n      if(i%2){\n\tif(A[i] >= A[i-1] || A[i] >= A[i+1]){cout<<\"none\"<<endl;return;}\n      }else{\n\tif(A[i] <= A[i-1] || A[i] <= A[i+1]){cout<<\"none\"<<endl;return;}\n      }\n    }\n    cout<<\"ambiguous\"<<endl;\n  }else{\n    if(le == -INF-10||ri == INF+10){cout<<\"ambiguous\"<<endl;}\n    // cout<<le<<\" \"<<ri<<endl;\n    else if(le == ri)cout<<le<<endl;\n    else if(le > ri){\n      cout<<\"none\"<<endl;\n    }else{\n      cout<<\"ambiguous\"<<endl;\n    }\n  }\n}\nint main(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n  ll n;\n  while(cin>>n,n){\n    solve(n);\n  }\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <algorithm>\n#include <string>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <cstring>\n#include <vector>\n#include <list>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n\n#define INF (int)1e09\n\nusing std::cin;\nusing std::cout;\nusing std::endl;\nusing std::setprecision;\nusing std::fixed;\nusing std::pair;\nusing std::make_pair;\nusing std::min;\nusing std::max;\nusing std::string;\nusing std::vector;\nusing std::list;\nusing std::map;\nusing std::set; // insert erase find count\nusing std::queue;\nusing std::priority_queue;\nusing std::stack;\n\ntemplate <typename T> using Vec = vector<T>; // c++11\ntypedef pair<int, int> PII;\ntypedef pair<int, pair<int, int> > PIII;\n\n// string??????int????????????\nlong long int string_to_int(string str) {\n    long long int length = str.length();\n    bool seihu = true;\n    if (str[0] == '-') {\n        str = str.substr(1, length - 1);\n        length--;\n        seihu = false;\n    }\n    long long int number = 0;\n    for (int i = 0; i < length; i++) {\n        number += (long long int)(str[i] - '0');\n        number *= 10;\n    }\n    number /= 10;\n    if (seihu == false) {\n        number *= (-1);\n    }\n    return number;\n}\n\nint main(void) {\n    while (1) {\n        int n;\n        cin >> n;\n        if (n == 0) {\n            break;\n        }\n        Vec<string> str(n + 1);\n        for (int i = 1; i <= n; i++) {\n            cin >> str[i];\n        }\n        long long int upper_bound = -1e09 - 2;\n        long long int lower_bound = +1e09 + 2;\n\n        bool possible = true;\n        bool change = false;\n\n        string now;\n        string next;\n\n        for (int i = 1; i < n; i++) {\n            now = str[i];\n            next = str[i + 1];\n            //cout << \"I = \" << i << endl;\n            //cout << string_to_int(now) << \" \" << string_to_int(next) << endl;\n            if (now == \"x\" && next == \"x\") {\n                possible = false;\n                //cout << \"HERE1\" << endl;\n            } else if (now != \"x\" && next != \"x\") {\n                if (i % 2 == 0) {\n                    if (string_to_int(now) <= string_to_int(next)) {\n                        possible = false;\n                //cout << \"HERE2\" << endl;\n                    }\n                } else {\n                    if (string_to_int(now) >= string_to_int(next)) {\n                        possible = false;\n                //cout << \"HERE3\" << endl;\n                    }\n                }\n            } else if (now == \"x\" && next != \"x\") {\n                if (i % 2 == 0) {\n                    upper_bound = max(upper_bound, string_to_int(next) + 1);\n                    change = true;\n                } else {\n                    lower_bound = min(lower_bound, string_to_int(next) - 1);\n                    change = true;\n                }\n            } else {\n                if (i % 2 == 0) {\n                    lower_bound = min(lower_bound, string_to_int(now) - 1);\n                    change = true;\n                } else {\n                    upper_bound = max(upper_bound, string_to_int(now) + 1);\n                    change = true;\n                }\n            }\n        }\n\n        //cout << upper_bound << \" \" << lower_bound << endl;\n        //cout << \"POSSIBLE = \" << possible << endl;\n        if (possible == false || (upper_bound > lower_bound && change == true)) {\n            cout << \"none\" << endl;\n        } else if (upper_bound == lower_bound) {\n            cout << upper_bound << endl;\n        } else {\n            cout << \"ambiguous\" << endl;\n        }\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "\n#include <stdio.h>\n#include <stdlib.h>\n#include <iostream>\n#include <vector>\n#include <string>\n#include <queue>\n#include <algorithm>\n#include <math.h>\n#include <utility>\n#include <set>\n#include <map>\n#include <cstring>\n#include <cstdio>\n#include <stack>\n#include <cmath>\n#define INF 1000000000\n#define rep(i,n) for(int i =0;i<n;i++)\nusing namespace std;\ntypedef long long int ll;\ntypedef pair<int, int> i_i;\n\nint main(){\n    for (; ;) {\n        int n;\n        cin >> n;\n        if(!n) break;\n        vector<ll> data(n);\n        for (int i=0; i<n; i++) {\n            string s;\n            cin >> s;\n            if (s==\"x\") {\n                data[i]=10000000000;\n            }else{\n                ll inp=0;\n                for (int i = s.length()-1; i>=0;i--) {\n                    inp += ((int)s[i]-(int)'0')*pow(10, s.length()-1-i);\n                }\n                data[i]=inp;\n            }\n        }\n        bool ch = true;\n        int xx = 0;\n        ll ub=-10000000000, ob=10000000000 ;\n        for (int i=0; i<n; i++) {\n            if(data[i]==10000000000){\n                xx++;\n                if(i%2==1){\n                    ll a = -10000000000,b =-10000000000 ;\n                    if(i>0 and data[i-1]!=10000000000){\n                        a = data[i-1];\n                    }\n                    if(i<n-1 and data[i+1]!=10000000000){\n                        b = data[i+1];\n                    }\n                    ub = max(ub,max(a, b));\n                }\n                if(i%2==0){\n                    ll a = 10000000000,b =10000000000 ;\n                    if(i>0 and data[i-1]!=10000000000){\n                        a = data[i-1];\n                    }\n                    if(i<n-1 and data[i+1]!=10000000000){\n                        b = data[i+1];\n                    }\n                    ob = min(ob,min(a, b));\n                }\n            }else{\n                if(i%2==1){\n                    if (i >0 and data[i]<=data[i-1] and data[i-1]!=10000000000) {\n                        ch = false;\n                    }\n                }else{\n                    if (i>0 and data[i]>=data[i-1] and data[i-1]!=10000000000) {\n                        ch = false;\n                    }\n                }\n            }\n        }\n        ob--;\n        ub++;\n        if (ob==9999999999 and ub !=-9999999999) {\n            ub = ob-100;\n        }\n        if (ob!=9999999999 and ub ==-9999999999) {\n            ob = ub+100;\n        }\n        //cout << ob <<\"  \"<<ub <<endl;\n        if(xx==n){\n            cout <<\"none\"<<endl;\n            continue;\n        }\n        if (ob == ub and ch) {\n            cout << ob << endl;\n        }else{\n            if ((ob>ub and xx) or (ch and !xx)) {\n                cout << \"ambiguous\"<<endl;\n            }else{\n                cout << \"none\"<<endl;\n            }\n        }\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define REP(i,n) for(int i=0;i<(n);i++)\n#define ALL(v) (v).begin(),(v).end()\n#define fir first\n#define sec second\n#define PB push_back\n#define MP make_pair\n#define ll long long\nusing namespace std;\nint X=1e9+100;\nint main(){\n    int n;\n    while(1){\n        cin>>n;\n        if(n==0)break;\n        int v[n];\n        REP(i,n){\n            string s;\n            cin>>s;\n            if(s==\"x\")v[i]=X;\n            else{\n                REP(j,s.size()){\n                    if(s[j]=='-')continue;\n                    v[i]*=10;v[i]+=s[j]-'0';\n                }\n                if(s[0]=='0')v[i]*=-1;\n            }\n        }\n        int ma=X,mi=(-1)*X;\n        if(v[0]==X)ma=v[1];\n        if(v[n-1]==X)(n-1)%2==0?ma=min(ma,v[n-2]):mi=max(mi,v[n-2]);\n        for(int i=1;i<n-1;i++){\n            if(v[i]==X){\n                if(v[i-1]==X||v[i+1]==X){mi=X,ma=(-1)*X;}\n                if(i%2==0){\n                    ma=min(ma,min(v[i-1],v[i+1]));\n                }else{\n                    mi=max(mi,max(v[i-1],v[i+1]));\n                }\n            }else{\n                if(i%2==0){\n                    if(v[i]>=v[i-1]||v[i]>=v[i+1]){mi=X,ma=(-1)*X;}\n                }else{\n                    if(v[i]<=v[i-1]||v[i]>=v[i+1]){mi=X,ma=(-1)*X;}\n                }\n            }\n            //cout<<ma<<\" \"<<mi<<endl;\n        }\n        if(ma-mi==2)cout<<mi+1<<endl;\n        else if(ma-mi>2)cout<<\"ambiguous\"<<endl;\n        else cout<<\"none\"<<endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 1000000100\n\n#include <iostream>\n#include <cstdio>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n  \nusing namespace std;\n  \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P> PP;\n  \nstatic const double EPS = 1e-8;\n\nint main(){\n  int N;\n  while(~scanf(\"%d\",&N)){\n    if(N == 0) break;\n\n    vector<int> signals;\n    queue<int> unknown;\n\n    bool has_x = false;\n    bool has_num = false;\n    for(int i=0; i < N; i++){\n      char signal[12];\n      int num;\n      scanf(\"%s\",signal);\n      if(signal[0] != 'x'){\n        num = atoi(signal);\n        has_num = true;\n      }\n      else{\n        num = INF;\n        has_x = true;\n        unknown.push(i);\n      }\n      signals.push_back(num);\n    }\n    \n    if(has_num && has_x){\n      //x x 1 x\n      int lower = -INF;\n      int upper = INF;\n      \n      while(!unknown.empty()){\n        int idx = unknown.front();\n        unknown.pop();\n        int lhs = idx - 1;\n        int rhs = idx + 1;\n        \n        //even\n        if((idx+1) % 2 == 0){\n          if(lhs >= 0 && signals[lhs] != INF) {\n            lower = max(signals[lhs]+1,lower);\n          }\n          if(rhs < signals.size() && signals[rhs] != INF){\n            lower = max(signals[rhs]+1,lower);\n          }\n        }\n        //odd\n        else{\n          if(rhs < signals.size() && signals[rhs] != INF){\n            upper = min(signals[rhs]-1,upper);\n          }\n          if(lhs >= 0 && signals[lhs] != INF){\n            upper = min(signals[lhs]-1,upper);\n          }\n        }\n      }\n\n      if(upper == INF || lower == -INF){\n        printf(\"ambiguous\\n\");\n      }\n      else if(upper == lower){\n        printf(\"%d\\n\",upper);\n      }\n      else if(upper - lower < 0){\n        printf(\"none\\n\");\n      }\n    }\n\n    else if(!has_num && has_x){\n      //x x x\n      printf(\"%s\\n\",signals.size() > 1 ? \"none\" : \"ambiguous\");\n\n    }\n    else if(has_num && !has_x){\n      //1 2 3\n      \n      bool is_none = false;\n      for(int i=0;i<signals.size();i++){\n        int lhs = i - 1;\n        int rhs = i + 1;\n        if(lhs >= 0 && signals[lhs] != INF){\n          if((i + 1) % 2 == 0){\n            if(signals[i] - signals[lhs] < 0){\n              is_none = true;\n              break;\n            }\n          }\n          else{\n            if(signals[i] - signals[lhs] > 0){\n              is_none = true;\n              break;\n            }\n          }\n        }\n        if(rhs < signals.size() && signals[rhs] != INF){\n          if((i + 1) % 2 == 0){\n            if(signals[i] - signals[rhs] < 0){\n              is_none = true;\n              break;\n            }\n          }\n          else{\n            if(signals[i] - signals[rhs] > 0){\n              is_none = true;\n              break;\n            }\n          }\n        }\n        \n      }\n     \n      printf(\"%s\\n\",is_none ? \"none\" : \"ambiguous\");\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<string>\n#include<vector>\n#include<cmath>\n#include<algorithm>\n#include<functional>\n#include<iomanip>\n#include<queue>\n#include<ciso646>\n#include<random>\n#include<map>\n#include<set>\nusing namespace std;\ntypedef long long ll;\nconst ll MOD = 1000000007;\nconst ll INF = (ll)1000000007 * 1000000007;\nconst double EPS = 1e-9;\ntypedef pair<int, int> P;\ntypedef unsigned int ui;\n#define stop char nyaa;cin>>nyaa;\n#define rep(i,n) for(int i=0;i<n;i++)\n#define Rep(i,sta,n) for(int i=sta;i<n;i++)\nint main() {\n\tint n;\n\twhile (cin >> n, n) {\n\t\tstring a[1000];\n\t\trep(i, n) {\n\t\t\tcin >> a[i];\n\t\t}\n\t\tbool f = false;\n\t\trep(i, n - 1) {\n\t\t\tif (a[i] == a[i + 1] && a[i] == \"x\")f = true;\n\t\t\tif (a[i] != \"x\"&&a[i + 1] != \"x\") {\n\t\t\t\tif (i % 2 && stoi(a[i]) <= stoi(a[i + 1]))f = true;\n\t\t\t\telse if (i % 2 == 0 && stoi(a[i]) >= stoi(a[i + 1]))f = true;\n\t\t\t}\n\t\t}\n\t\tif (f) {\n\t\t\tcout << \"none\" << endl;\n\t\t\tcontinue;\n\t\t}\n\t\tint le = (int)-MOD; int ri = (int)MOD;\n\t\trep(i, n) {\n\t\t\tif (a[i] == \"x\") {\n\t\t\t\tif (i % 2) {\n\t\t\t\t\tif (i - 1 >= 0) {\n\t\t\t\t\t\tle = max(le, stoi(a[i - 1]) + 1);\n\t\t\t\t\t}\n\t\t\t\t\tif(i+1<n){\n\t\t\t\t\t\tle = max(le, stoi(a[i + 1]) + 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (i - 1 >= 0) {\n\t\t\t\t\t\tri = min(ri, stoi(a[i - 1]) - 1);\n\t\t\t\t\t}\n\t\t\t\t\tif (i + 1 < n) {\n\t\t\t\t\t\tri = min(ri, stoi(a[i + 1]) - 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (ri - le == 0) {\n\t\t\tcout << ri << endl;\n\t\t}\n\t\telse if (ri > le) {\n\t\t\tcout << \"ambiguous\" << endl;\n\t\t}\n\t\telse {\n\t\t\tcout << \"none\" << endl;\n\t\t}\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define REP(i, s, e) for(int i = (int)s; i < (int) e; i++)\n#define rep(i, n) REP(i, 0 ,n)\n#define all(x) (x).begin(), (x).end()\n#define rall(x) (x).rbegin(), (x).rend()\n\n#define fi first\n#define se second\n#define pb push_back\n#define mp make_pair\n\n\ntypedef long long ll;\n\nint perseInt(string s){\n  bool f = s[0] == '-';\n  int ret = 0;\n  REP(i, f ? 1 : 0, s.size()) ret *= 10, ret += (s[i]-'0');\n  return ret;\n}\n\nint main(){\n  int n;\n  while(cin>>n && n){\n        vector<int> v;\n        string s;\n        rep(i, n){\n          cin>>s;\n          v.pb(s==\"x\"?2e9:perseInt(s));\n        }\n        int l = -2e9, r = 2e9;\n        bool ng = false;\n        rep(i, n){\n          if(v[i] != 2e9) {\n                if(i > 0 && v[i-1] != 2e9){\n                  if(i % 2 == 1 && v[i-1] >= v[i]) ng = true;\n                  else if(i % 2 == 0 && v[i-1] <= v[i]) ng = true;\n                }\n                if(i + 1 < n && v[i+1] != 2e9){\n                  if(i % 2 == 1 && v[i+1] >= v[i]) ng = true;\n                  else if(i % 2 == 0 && v[i+1] <= v[i]) ng = true;\n                }\n          }\n          else {\n                if(i > 0){\n                  if(v[i-1]==2e9) ng = true;\n                  else {\n                        if(i % 2 == 0) r = min(r, v[i-1]);\n                        else l = max(l, v[i-1]);\n                  }\n                }\n                if(i + 1 < n){\n                  if(v[i+1] == 2e9) ng = true;\n                  else{\n                        if(i%2==0) r = min(r, v[i+1]);\n                        else l= max(l, v[i+1]);\n                  }\n                }\n          }\n        }\n        if(ng || (ll)r - l < 2) printf(\"%s\\n\", \"none\");\n        else if((ll)r - l > 2) printf(\"%s\\n\", \"ambiguous\");\n        else printf(\"%d\\n\", l + 1);\n        //cout<<\" \"<<l<<\" \"<<r<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <cstring>\n#include <algorithm>\n#include <sstream>\n\n#define REP(i,k,n) for(int i=k;i<n;i++)\n#define rep(i,n) for(int i=0;i<n;i++)\n\nusing namespace std;\ntypedef long long ll;\n\nint main()\n{\n    int n;\n    while(cin >> n && n) {\n        vector<string> v(n);\n        rep(i,n) cin >> v[i];\n\n        vector<int> res(n);\n        rep(i,n) {\n            if(v[i] == \"x\") res[i] = 0;\n            else {\n                stringstream ss;\n                ss << v[i];\n                ss >> res[i];\n            }\n        }\n\n        bool flag = true;\n        rep(i,n-1) {\n            if(v[i] == \"x\" && v[i+1] == \"x\") flag = false;\n        }\n\n        if(!flag) {\n            cout << \"none\" << endl;\n        }\n        else {\n            bool up = true;\n            for(int i=0;i<n-1;i++) {\n                if(v[i] == \"x\" || v[i+1] == \"x\") continue;\n\n                if(i%2 == 0) {\n                    if(v[i] > v[i+1]) {\n                        up = false;\n                    }\n                }\n                else {\n                    if(v[i] < v[i+1]) {\n                        up = false;\n                    }\n                }\n\n            }\n\n            if(!up) {\n                cout << \"none\" << endl;\n            }\n            else {\n                int M = 1000000000;\n                int l = -M-5;\n                int r = M+5;\n\n                rep(i,n) {\n                    if(v[i] != \"x\") continue;\n\n                    if(i%2 == 0) {\n                        if(i == 0) {\n                            r = min(r,res[i+1]-1);\n                        }\n                        if(0 < i && i < n-1) {\n                            r = min(r,res[i-1]-1);\n                            r = min(r,res[i+1]-1);\n                        }\n                        if(i == n-1) {\n                            r = min(r,res[i-1]-1);\n                        }\n                    }\n                    else {\n                        if(i == 0) {\n                            l = max(l,res[i+1]+1);\n                        }\n                        if(0 < i && i < n-1) {\n                            l = max(l,res[i-1]+1);\n                            l = max(l,res[i+1]+1);\n                        }\n                        if(i == n-1) {\n                            l = max(l,res[i-1]+1);\n                        }\n                    }\n                }\n\n                if(l == r) {\n                    cout << l << endl;\n                }\n                else if(l > r) {\n                    cout << \"none\" << endl;\n                }\n                else {\n                    cout << \"ambiguous\" << endl;\n                }\n            }\n\n        }\n\n\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n \nusing namespace std;\n \n#define MAX 1002\n#define INF 1e9+1\n \nint main(){\n    int N,arr[MAX];\n    string str;\n    while(cin >> N, N){\n\tbool x[MAX] = {false};\n\tarr[0] = INT_MAX;\n\tarr[N+1] = (N % 2 ? INT_MAX : INT_MIN);  \n\tbool can = true;\n\tfor(int i = 1 ; i <= N ; i++){\n\t    cin >> str;\n\t    if(str[0] == 'x'){\n\t\tx[i] = true;\n\t\tarr[i] = INT_MAX;\n\t    }else{\n\t\tstringstream ss(str);\n\t\tint x; ss >> x;\n\t\tarr[i] = x;\n\t    }\n\t    if(i > 0){\n\t\tif(x[i-1] && x[i]){\n\t\t    can = false;\n\t\t}\n\t    }\n\t}\n\tif(!can){\n\t    cout << \"none\" << endl;\n\t    continue;\n\t}else if(count(x+1,x+N+1,true) == 0){\n\t    bool check = false;\n\t    for(int i = 1 ; i <= N ; i++){\n\t\tif(i % 2){\n\t\t    if(!(arr[i-1] > arr[i] && arr[i+1] > arr[i])){\n\t\t\tcheck = true;\n\t\t\tbreak;\n\t\t    }\n\t\t}else{\n\t\t    if(!(arr[i-1] < arr[i] && arr[i+1] < arr[i])){\n\t\t\tcheck = true;\n\t\t\tbreak;\n\t\t    }\n\t\t}\n\t    }\n\t    cout << (check ? \"none\" : \"ambiguous\") << endl;\n\t    continue;\n\t}\n\tfor(int i = 1 ; i <= N ; i++){\n\t    if(x[i]) continue;\n\t    if(i % 2){\n\t\tif(!x[i-1] && !x[i]){\n\t\t    if(!(arr[i-1] > arr[i])){\n\t\t\tcan = false;\n\t\t\tbreak;\n\t\t    }\n\t\t}\n\t\tif(!x[i] && !x[i+1]){\n\t\t    if(!(arr[i+1] > arr[i])){\n\t\t\tcan = false;\n\t\t\tbreak;\n\t\t    }\n\t\t}\n\t    }else{\n\t\tif(!x[i-1] && !x[i]){\n\t\t    if(!(arr[i-1] < arr[i])){\n\t\t\tcan = false;\n\t\t\tbreak;\n\t\t    }\n\t\t}\n\t\tif(!x[i] && !x[i+1]){\n\t\t    if(!(arr[i+1] < arr[i])){\n\t\t\tcan = false;\n\t\t\tbreak;\n\t\t    }\n\t\t}\n\t    }\n\t}\n\tif(!can){\n\t    cout << \"none\" << endl;\n\t    continue;\n\t}\n\tbool found = false;\n\tint l = -1e9-2,r = 1e9+2, m,ans;\n\twhile(r - l >= 0){\n\t    m = (l + r) / 2;\n\t    bool small = false, large = false;\n\t    for(int i = 1 ; i <= N ; i++){\n\t\tint bv = (x[i-1] ? m : arr[i-1]);\n\t\tint cv = (x[i] ? m : arr[i]);\n\t\tint nv = (x[i+1] ? m : arr[i+1]);\n\t\tif(!x[i]) continue;\n\t\tif(i % 2){\n\t\t    if(!(bv > cv && nv > cv)){\n\t\t\tsmall = true;\n\t\t\tbreak;\n\t\t    }\n\t\t}else{\n\t\t    if(!(bv < cv && nv < cv)){\n\t\t\tlarge = true;\n\t\t\tbreak;\n\t\t    }\n\t\t}\n\t    }\n\t    if(!small && !large){\n\t\tfound = true;\n\t\tbreak;\n\t    }else if(small){\n\t\tr = m-1;\n\t    }else{\n\t\tl = m+1;\n\t    }\n\t}\n   \n\tif(!found){\n\t    cout << \"none\" << endl;\n\t}else{\n\t    found = false;\n\t    ans = m;\n\t    l = -1e9-5, r = ans-1;\n\t    while(r - l > 0){\n\t\tm = (l + r) / 2;\n\t\tbool small = false, large = false;\n\t\tfor(int i = 1 ; i <= N ; i++){\n\t\t    int bv = (x[i-1] ? m : arr[i-1]);\n\t\t    int cv = (x[i] ? m : arr[i]);\n\t\t    int nv = (x[i+1] ? m : arr[i+1]);\n\t\t    if(!x[i]) continue;\n\t\t    if(i % 2){\n\t\t\tif(!(bv > cv && nv > cv)){\n\t\t\t    small = true;\n\t\t\t    break;\n\t\t\t}\n\t\t    }else{\n\t\t\tif(!(bv < cv && nv < cv)){\n\t\t\t    large = true;\n\t\t\t    break;\n\t\t\t}\n\t\t    }\n\t\t}\n\t\tif(!small && !large){\n\t\t    found = true;\n\t\t    break;\n\t\t}else if(small){\n\t\t    r = m-1;\n\t\t}else{\n\t\t    l = m+1;\n\t\t}\n\t    }\n\t    l = ans+1, r = 1e9+5;\n\t    while(r - l > 0){\n\t\tm = (l + r) / 2;\n\t\tbool small = false, large = false;\n\t\tfor(int i = 1 ; i <= N ; i++){\n\t\t    int bv = (x[i-1] ? m : arr[i-1]);\n\t\t    int cv = (x[i] ? m : arr[i]);\n\t\t    int nv = (x[i+1] ? m : arr[i+1]);\n\t\t    if(!x[i]) continue;\n\t\t    if(i % 2){\n\t\t\tif(!(bv > cv && nv > cv)){\n\t\t\t    small = true;\n\t\t\t    break;\n\t\t\t}\n\t\t    }else{\n\t\t\tif(!(bv < cv && nv < cv)){\n\t\t\t    large = true;\n\t\t\t    break;\n\t\t\t}\n\t\t    }\n\t\t}\n\t\tif(!small && !large){\n\t\t    found = true;\n\t\t    break;\n\t\t}else if(small){\n\t\t    r = m-1;\n\t\t}else{\n\t\t    l = m+1;\n\t\t}\n\t    }\n\t    if(found){\n\t\tcout << \"ambiguous\" << endl;\n\t    }else{\n\t\tcout << ans << endl;\n\t    }\n\t}\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <cmath>\n#include <algorithm>\n#include <cstdlib>\n#include <ctime>\n#include <cstdio>\n#include <functional>\n#include <set>\n#include <sstream>\n#include <map>\n#include <queue>\n#include <stack>\n\nusing namespace std;\n\nconst long long X=10000000000;\n\nint main()\n{\n\tint n;\n\twhile(cin>>n,n){\n\n\t\tvector<long long> d(n,X);\n\t\tfor(int i=0;i<n;i++){\n\t\t\tstring s;\n\t\t\tcin>>s;\n\t\t\tif(s!=\"x\"){\n\t\t\t\tstringstream ss;\n\t\t\t\tss<<s;\n\t\t\t\tss>>d[i];\n\t\t\t}\n\t\t}\n\n\t\tbool none=false;\n\n\t\tfor(int i=0;i<n-1;i++){\n\t\t\tif(d[i]==d[i+1]) none=true;\n\t\t\telse if(d[i]!=X && d[i+1]!=X && (i%2==0 && d[i]>d[i+1] || i%2 && d[i]<d[i+1])) none=true;\n\t\t}\n\n\t\tlong long L=-10000000000,R=10000000000;\n\n\t\tif(d[0]==X) R=d[1]-1;\n\t\tfor(int i=1;i<n-1;i++){\n\n//\t\t\tcout<<\"[\"<<L<<\",\"<<R<<\"]\"<<endl;\n\n\t\t\tif(d[i]==X){\n\t\t\t\tif(i%2==0){ \n\t\t\t\t\tif(L<=min(d[i-1],d[i+1])-1 && min(d[i-1],d[i+1])-1<=R) R=min(d[i-1],d[i+1])-1;\n\t\t\t\t\telse none=true;\n\t\t\t\t}else{\n\t\t\t\t\tif(L<=max(d[i-1],d[i+1])+1 && max(d[i-1],d[i+1])+1<=R) L=max(d[i-1],d[i+1])+1;\n\t\t\t\t\telse none=true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif(d[n-1]==X){\n\t\t\tif(n%2){\n\t\t\t\tif(L<=d[n-2]-1 && d[n-2]-1<=R) R=d[n-2]-1;\n\t\t\t\telse none=true;\n\t\t\t}else{\n\t\t\t\tif(L<=d[n-2]+1 && d[n-2]+1<=R) L=d[n-2]+1;\n\t\t\t\telse none=true;\n\t\t\t}\n\t\t}\n\n\t\tif(none) cout<<\"none\"<<endl;\n\t\telse if(L==R) cout<<L<<endl;\n\t\telse cout<<\"ambiguous\"<<endl;\n\n\t}\n\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdlib>\n#include <algorithm>\nusing namespace std;\n\n#define MAX_N 1000000000\n\nint main()\n{\n  while(1){\n    int n;\n    cin >> n;\n    if(n == 0) break;\n    long long int a[n];\n    for(int i = 0; i < n; i++){\n      string s;\n      cin >> s;\n      a[i] = s == \"x\" ? MAX_N+1 : atoi(s.c_str());\n    } \n    long long int l = -MAX_N-3, u = MAX_N+3;\n    bool flag = false;\n    for(int i = 0; i < n-1; i++){\n      if(a[i] == MAX_N+1){\n        if(a[i+1] == MAX_N+1){\n          flag = true;\n          break;\n        }else{\n          if((i+1) & 1){\n            u = max(u,a[i+1]);\n          }else{\n            l = min(l,a[i+1]);\n          }\n        }\n      }else{\n        if(a[i+1] == MAX_N+1){\n          if((i+1) & 1){\n            l = min(l,a[i]);\n          }else{\n            u = max(u,a[i]);\n          }\n        }else{\n          if((i+1) & 1){\n            if(a[i] >= a[i+1]){\n              flag = true;\n              break;\n            }\n          }else{\n            if(a[i] <= a[i+1]){\n              flag = true;\n              break;\n            }\n          }\n        }\n      }\n    }\n    if(flag){\n      cout << \"none\" << endl;\n      continue;\n    }\n    if(u - l - 1 > 1)\n      cout << \"ambiguous\" << endl;\n    else if(u - l - 1 <= 0)\n      cout << \"none\" << endl;\n    else\n      cout << (u+l)/2 << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nconst int INF = 0x7fffffff;\n\nint N;\n\nstring solve(void){\n    int v[1000];\n    vector<int> xv;\n    fill(v, v + N, INF);\n    for(int x = 0; x < N; x++){\n        string s;\n        cin >> s;\n        if(s == \"x\"){\n            xv.push_back(x);\n        }else{\n            v[x] = stoi(s);\n        }\n    }\n    for(int x = 0; x < N-1; x++){\n        if(v[x] == INF || v[x+1] == INF) continue;\n        if(x%2 == 0 && v[x] >= v[x+1]) return \"none\";\n        if(x%2 &&      v[x] <= v[x+1]) return \"none\";\n    }\n    int min_v = -INF, max_v = INF;\n    for(int i = 0; i < xv.size(); i++){\n        if(i < N-1 && v[xv[i]+1] == INF) return \"none\";\n        if(0 < i   && v[xv[i]-1] == INF) return \"none\";\n        if(xv[i] % 2){\n            min_v = max(min_v, v[xv[i]-1]+1);\n            if(xv[i] < N-1) min_v = max(min_v, v[xv[i]+1]+1);\n        }else{\n            if(xv[i]) max_v = min(max_v, v[xv[i]-1]-1);\n            if(xv[i] < N-1) max_v = min(max_v, v[xv[i]+1]-1);\n        }\n    }\n    if(min_v > max_v){\n        return \"none\";\n    }else if(min_v == max_v){\n        stringstream ss;\n        ss << min_v;\n        return ss.str();\n    }\n    return string(\"ambiguous\");\n}\n\nint main(){\n    while(cin >> N && N){\n        cout << solve() << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define N 1001\n#define INF 1e9\nusing namespace std;\n\n\nint main(){\n  while(1){\n\n    int n;\n    string str[N];\n    cin>>n;\n    if(n==0) break;\n    long long a[N];\n    a[0]=INF*2;\n    for(int i=1;i<=n;i++)cin>>str[i];\n  \n    for(int i=1;i<=n;i++){\n      if(str[i]==\"x\")a[i]=INF+1;\n      else a[i]=atoi(str[i].c_str());\n    }\n  \n    int f=0;\n  \n    long long low=-INF*2,upp=INF*2;\n    for(int i=1;i<=n;i++){\n      if(a[i]==INF+1){\n\tif(i%2){\n\t  if(a[i-1]==INF+1) {\n\t    cout<<i-1<<endl;\n\t    f=1;\n\t  }\n\t  else  upp=min(a[i-1],upp);\n\t  if(i<n) upp=min(a[i+1],upp);\n\n\t}\n\telse{\n\t  if(a[i+1]==INF+1) f=1;\n\t  else  low=max(low,a[i-1]);\n\t  if(i<n) low=max(a[i+1],low);\n\n\t}\n      }\n      else if(a[i-1]<a[i] && i%2 && a[i-1]!=INF+1) f=1;\n      else if(a[i-1]>a[i] && !(i%2) && a[i-1]!=INF+1) f=1;\n    }\n  \n    if(upp-low==2 && f==0) cout<<(upp+low)/2<<endl;\n    else if(upp-low>2 && f==0) cout<<\"ambiguous\"<<endl;\n    else  cout<<\"none\"<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <fstream>\n#include <cstdio>\n#include <cmath>\n#include <vector>\n#include <cstring>\n#include <string>\n#include <set>\n#include <map>\n#include <stack>\n#include <queue>\n#include <algorithm>\nusing namespace std;\n \n#define REP(i,n) for(int i=0; i<n; ++i)\n#define FOR(i,a,b) for(int i=a; i<=b; ++i)\n#define FORR(i,a,b) for (int i=a; i>=b; --i)\n#define pi M_PI\n \ntypedef long long ll;\ntypedef vector<int> VI;\ntypedef vector<ll> VL;\ntypedef vector<VI> VVI;\ntypedef pair<int,int> P;\ntypedef pair<ll,ll> PL;\n\nconst int INF = 1e9 + 2;\n\nint stoi(string s){\n    int res = 0;\n    REP(i,s.length()){\n        res = 10*res + s[i]-'0';\n    }\n    return res;\n}\n\nint main() {\n    int n;\n    while (cin >> n && n){\n        VI a(n+2), c(n+2);\n        FOR(i,1,n){\n            string s;\n            cin >> s;\n            if (s == \"x\") {\n                c[i] = 1;\n                if (i % 2 == 1)\n                    a[i] = -INF;\n                else\n                    a[i] = INF;\n            }\n            else a[i] = stoi(s);\n        }\n        a[0] = INF;\n        if (n % 2 == 1) a[n+1] = INF;\n        else a[n+1] = -INF;\n        bool d = 0;\n        FOR(i,1,n-1) if (c[i] & c[i+1]) d = 1;\n        FOR(i,1,n){\n            if (i % 2 == 1 && (a[i] >= a[i-1] || a[i] >= a[i+1])) d = 1;\n            if (i % 2 == 0 && (a[i] <= a[i-1] || a[i] <= a[i+1])) d = 1;\n        }\n        if (d) {\n            cout << \"none\" << endl;\n            continue;\n        }\n\n        int mi = -INF, ma = INF;\n        FOR(i,1,n){\n            if (c[i] && i % 2 == 1)\n                ma = min({ma, a[i-1]-1, a[i+1]-1});\n            else if (c[i] && i % 2 == 0)\n                mi = max({mi, a[i-1]+1, a[i+1]+1});\n        }\n\n        if (mi == ma) cout << mi << endl;\n        else if (mi < ma) cout << \"ambiguous\" << endl;\n        else cout << \"none\" << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\nint n;\nstring s[1111];\nint m=-2e9,M=2e9;\nmain()\n{\n\twhile(cin>>n,n)\n\t{\n\t\tfor(int i=1;i<=n;i++)cin>>s[i];\n\t\tint f=m,l=M;\n\t\tfor(int i=1;i<=n;i++)\n\t\t{\n\t\t\tif(i%2)\n\t\t\t{\n\t\t\t\tif(s[i]==\"x\")\n\t\t\t\t{\n\t\t\t\t\tif(i>1)\n\t\t\t\t\t{\n\t\t\t\t\t\tif(s[i-1]==\"x\")\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tl=f-1;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tl=min(l,stoi(s[i-1])-1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(i<n)\n\t\t\t\t\t{\n\t\t\t\t\t\tif(s[i+1]==\"x\")\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tl=f-1;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tl=min(l,stoi(s[i+1])-1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if(i>1&&s[i-1]!=\"x\"&&stoi(s[i-1])<=stoi(s[i])\n\t\t\t\t\t||i<n&&s[i+1]!=\"x\"&&stoi(s[i+1])<=stoi(s[i]))\n\t\t\t\t{\n\t\t\t\t\tl=f-1;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif(s[i]==\"x\")\n\t\t\t\t{\n\t\t\t\t\tif(i>1)\n\t\t\t\t\t{\n\t\t\t\t\t\tif(s[i-1]==\"x\")\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tf=l+1;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tf=max(f,stoi(s[i-1])+1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(i<n)\n\t\t\t\t\t{\n\t\t\t\t\t\tif(s[i+1]==\"x\")\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tf=l+1;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tf=max(f,stoi(s[i+1])+1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if(i>1&&s[i-1]!=\"x\"&&stoi(s[i-1])>=stoi(s[i])\n\t\t\t\t\t||i<n&&s[i+1]!=\"x\"&&stoi(s[i+1])>=stoi(s[i]))\n\t\t\t\t{\n\t\t\t\t\tf=l+1;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(f<l)cout<<\"ambiguous\"<<endl;\n\t\telse if(f>l)cout<<\"none\"<<endl;\n\t\telse cout<<f<<endl;\n\t}\n}\n\n"
  },
  {
    "language": "C++",
    "code": "//#define __USE_MINGW_ANSI_STDIO 0\n#include <bits/stdc++.h>\n\nusing namespace std;\ntypedef long long ll;\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<ll> VL;\ntypedef vector<VL> VVL;\ntypedef pair<int, int> PII;\n\n#define FOR(i, a, n) for (ll i = (ll)a; i < (ll)n; ++i)\n#define REP(i, n) FOR(i, 0, n)\n#define ALL(x) x.begin(), x.end()\n#define MP make_pair\n#define PB push_back\n#define MOD 1000000007\n#define INF (1LL<<30)\n#define LLINF (1LL<<60)\n#define PI 3.14159265359\n#define EPS 1e-12\n//#define int ll\n\nll a[1010];\nsigned main(void)\n{\n\twhile(true) {\n\tint n;\n\tcin >> n;\n\tif(!n) break;\n\tbool f = true;\n\tREP(i, n) {\n\t\tstring s;\n\t\tcin >> s;\n\t\tif(s == \"x\") {a[i] = LLINF; f = false;}\n\t\telse a[i] = stoi(s);\n\t}\n\n\tbool conf = false;\n\t//xx?????????????¢????\n\tREP(i, n-1) {\n\t\tif(a[i] == LLINF && a[i+1] == LLINF) {\n\t\t\tcout << \"none\" << endl;\n\t\t\tconf = true;\n\t\t\tbreak;\n\t\t}\n\t}\n\tif(conf) continue;\n\t//x????????????????????´???\n\tif(f) {\n\t\tbool ok = true;\n\t\tFOR(i, 1, n-1) {\n\t\t\tif(i%2 && max(a[i-1], a[i+1]) >= a[i]) ok = false;\n\t\t\tif(!(i%2) && min(a[i-1], a[i+1]) <= a[i]) ok = false;\n\t\t}\n\t\tif(a[0] >= a[1]) ok = false;\n\t\tif(n%2) {\n\t\t\tif(a[n-1] >= a[n-2]) ok = false;\n\t\t} else {\n\t\t\tif(a[n-1] <= a[n-2]) ok = false;\n\t\t}\n\t\tif(!ok) cout << \"none\" << endl;\n\t\telse cout << \"ambiguous\" << endl;\n\t\tcontinue;\n\t}\n\n\tll ma = -LLINF, mi = LLINF;\n\tREP(i, n) {\n\t\tif(a[i] == LLINF) {\n\t\t\tif(i == 0) {\n\t\t\t\t//a[1]-1??\\???\n\t\t\t\tma = a[1] - 1;\n\t\t\t} else if(i == n-1) {\n\t\t\t\tif(i%2) {\n\t\t\t\t\t//a[i-1]-1??\\???\n\t\t\t\t\tmi = a[n-2] + 1;\n\t\t\t\t} else {\n\t\t\t\t\t//a[i-1]+1??\\???\n\t\t\t\t\tma = a[n-2] - 1;\n\t\t\t\t}\n\t\t\t} else if(i%2 == 0) {\n\t\t\t\tma = min(a[i-1], a[i+1]) - 1;\n\t\t\t} else {\n\t\t\t\tmi = max(a[i-1], a[i+1]) + 1;\n\t\t\t\t//cout << mi << endl;\n\t\t\t}\n\t\t\t//cout << i << \" \" << ma << \" \" << mi << endl;\n\t\t}\n\t}\n\t//cout << ma << \" \" << mi << endl;\n\tif(ma == mi) cout << ma << endl;\n\telse if(ma == -LLINF || mi == LLINF) cout << \"ambiguous\" << endl;\n\telse if(ma < mi) cout << \"none\" << endl;\n\telse cout << \"ambiguous\" << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <sstream>\n#include <cstdio>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <ctime>\n#include <vector>\n#include <string>\n#include <map>\n#include <set>\n#include <deque>\n#include <queue>\n#include <stack>\n#include <functional>\n#include <algorithm>\n\nusing namespace std;\n\n#define rep(i,j) REP((i), 0, (j))\n#define REP(i,j,k) for(int i=(j);(i)<(k);++i)\n#define BW(a,x,b) ((a)<=(x)&&(x)<=(b))\n#define ALL(v) (v).begin(), (v).end()\n#define LENGTHOF(x) (sizeof(x) / sizeof(*(x)))\n#define AFILL(a, b) fill((int*)a, (int*)(a + LENGTHOF(a)), b)\n#define SQ(x) ((x)*(x))\n#define Mod(x, mod) (((x)+(mod)%(mod))\n#define MP make_pair\n#define PB push_back\n#define Fi first\n#define Se second\n#define INF (1LL<<60)\n#define EPS 1e-10\n#define MOD 1000000007\n\ntypedef pair<int, int> pi;\ntypedef pair<int, pi> pii;\ntypedef vector<int> vi;\ntypedef queue<int> qi;\ntypedef long long ll;\n\nint main()\n{\n  int N;\n  ll a[1024];\n  while(1){\n    cin >> N;\n    if(N == 0) break;\n    rep(i, N){\n      string s;\n      cin >> s;\n      if(s == \"x\"){\n\ta[i] = -INF-1;\n      }else{\n\ta[i] = stoi(s);\n      }\n    }\n\n    ll b[2];\n    b[0] = -INF;\n    b[1] = INF;\n    int flag = 0;\n    rep(i, N){\n      if(a[i] == -INF-1) continue;\n      if(i&1) b[i&1] = min(b[i&1], a[i]);\n      else b[i&1] = max(b[i&1], a[i]);\n    }\n\n    rep(i, N-1){\n      if(a[i] == -INF-1) continue;\n      if(a[i+1] == -INF-1) continue;\n      if(i&1 && a[i] < a[i+1]) flag = 1;\n      if((i&1) == 0 && a[i] > a[i+1]) flag = 1;\n    }\n\n    ll b1[2]; b1[0] = -INF; b1[1] = INF;\n    if(a[0] == -INF-1) b1[1] = min(b1[1], a[1]);\n    for(int i=1;i<N-1;i++){\n      if(a[i] != -INF-1) continue;\n      if(i&1) b1[0] = max(b1[0], max(a[i-1], a[i+1]));\n      else b1[1] = min(b1[1], min(a[i-1], a[i+1]));\n    }\n    if(a[N-1] == -INF-1){\n      if((N-1)&1) b1[0] = max(b1[0], a[N-2]);\n      else b1[1] = min(b1[1], a[N-2]);\n    }\n\n    //    cout << b[0] << \" \" << b[1] << endl;\n    //    cout << b1[0] << \" \" << b1[1] << endl;\n\n    if((b[1] == INF && b[0] == -INF) || flag || b1[1] - b1[0] < 2){\n      cout << \"none\\n\";\n    }else if(b1[1] - b1[0] == 2){\n      cout << b1[0] + 1 << endl;      \n    }else{\n      cout << \"ambiguous\\n\";\n    }\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\n#define PB push_back\n#define MP make_pair\n#define REP(i,n) for(int i=0;i<(n);i++)\n\nint to_i(string s){\n    bool f=false;\n    int res=0;\n    REP(i,s.size()){\n        if(s[i]=='-'){\n            f=true;\n        }else{\n            res*=10;\n            res+=(s[i]-'0');\n        }\n    }\n    if(f)return res*(-1);\n    return res;\n}\n\nint N;\nint A[1000];\nbool f[1000];\nint main(){\n    while(1){\n        cin>>N;\n        if(N==0)break;\n        REP(i,N){\n            string s;\n            cin>>s;\n            if(s==\"x\")f[i]=true;\n            else{\n                f[i]=false;\n                A[i]=to_i(s);\n            }\n        }\n        bool ok=true;\n        int vmin=-2e9,vmax=2e9;\n        REP(i,N-1){\n            if(f[i]&&f[i+1]){\n                ok=false;\n            }\n        }\n        if(!ok){\n            cout<<\"none\"<<endl;\n            continue;\n        }\n        REP(i,N){\n            if(f[i]){\n                if(i%2){\n                    if(i!=0)vmin=max(vmin,A[i-1]+1);\n                    if(i!=N-1)vmin=max(vmin,A[i+1]+1);\n                }else{\n                    if(i!=0)vmax=min(vmax,A[i-1]-1);\n                    if(i!=N-1)vmax=min(vmax,A[i+1]-1);\n                }\n            }else{\n                if(i%2){//even\n                    if(i!=0)if(!f[i-1])if(A[i-1]>=A[i])ok=false;\n                    if(i!=N-1)if(!f[i+1])if(A[i+1]>=A[i])ok=false;\n                }else{\n                    if(i!=0)if(!f[i-1])if(A[i-1]<=A[i])ok=false;\n                    if(i!=N-1)if(!f[i+1])if(A[i+1]<=A[i])ok=false;\n                }\n            }\n        }\n        if(!ok||vmax<vmin){\n            cout<<\"none\"<<endl;\n        }else if(vmax==vmin){\n            cout<<vmax<<endl;\n        }else{\n            cout<<\"ambiguous\"<<endl;\n        }\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\nint main(){\n  int N;\n  while(cin >> N, N){\n    string A[N];\n    bool f[2], g = true;\n    f[0] = false;\n    f[1] = false;\n    for(int i = 0; i < N; ++i){\n      cin >> A[i];\n      if(A[i] == \"x\")\n\tf[i%2] = true;\n    }\n    long long int INF = 1000000000, m = -INF, M = INF;\n    for(int i = 0; i < N; ++i){\n      if(i > 0 && A[i] != \"x\" && A[i-1] != \"x\"){\n\tif(i%2 && A[i] <= A[i-1]) g = false;\n\telse if(i%2 == 0 && A[i] >= A[i-1]) g = false;\n      }\n      if(i > 0 && A[i] == \"x\" && A[i-1] == \"x\") g = false;\n      if(A[i] != \"x\"){\n\tif(i%2 && f[1]) M = min(M, (long long int)stoi(A[i]));\n\tif((!(i%2)) && f[0]) m = max(m, (long long int)stoi(A[i]));\n      }\n    }\n    //cout << M << \" \" << m << endl;\n    if(g && M - m == 2) cout << m+1 << endl;\n    else if(g && (M - m > 2 || ((!f[0]) && (!f[1])))) cout << \"ambiguous\" << endl;\n    else cout << \"none\" << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define fi first\n#define se second\n#define mp make_pair\n#define pb push_back\n#define all(x) x.begin(),x.end()\n#define dbg(x) cout<<#x<<\":\"<<x<<endl\ntypedef long long ll;\ntypedef pair<ll,ll> P;\ntypedef pair<ll,P> PP;\n\nint main(){\n  int n;\n  while(1){\n  cin>>n;\n  if(n==0)break;\n  int a[1111];\n  const int INF=1e9+3;\n  a[0]=INF-1;\n  a[n+1]=((n+1)%2?-INF+1:INF-1);\n  for(int i=1;i<=n;i++){\n    string s;\n    cin>>s;\n    if(s==\"x\"){\n\t a[i]=INF;\n\t continue;\n    }\n    a[i]=stoi(s);\n  }\n\n  int flag=1;\n  int mi=INF,ma=-INF;\n  for(int i=1;i<=n;i++){\n    if(a[i-1]==INF&&a[i]==INF)flag=0;\n    if(i%2){\n\t if(a[i]==INF){\n\t   mi=min({a[i-1],a[i+1],mi});\n\t }else{\n\t   if(a[i-1]!=INF&&a[i-1]<a[i])flag=0;\n\t   if(a[i+1]!=INF&&a[i+1]<a[i])flag=0;\n\t }\n    }else{\n\t if(a[i]==INF){\n\t   ma=max({a[i-1],a[i+1],ma});\n\t }else{\n\t   if(a[i-1]!=INF&&a[i-1]>a[i])flag=0;\n\t   if(a[i+1]!=INF&&a[i+1]>a[i])flag=0;\n\t }\n    }\n  }\n  ma++,mi--;\n  if(ma==mi)cout<<ma<<endl;\n  else if(flag&&mi>ma)cout<<\"ambiguous\"<<endl;\n  else cout<<\"none\"<<endl;\n}\n  return 0;\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <algorithm>\n#include <cstdlib>\nusing namespace std;\n#define F (1000000003)\n\nint main(){\n    int i,j,n,cf,ct,nanf,cnt;\n    char s[12];\n\n    while(1){\n        scanf(\"%d\",&n);\n        if(!n){break;}\n        int l[n],sg[n];\n        fill(sg,sg+n,1);\n        for(i=0;i<n;i++){\n            scanf(\"%s\",s);\n            if(s[0]!='x'){\n                l[i]=atoi(s);\n            }\n            else{\n                l[i]=0;\n                sg[i]=0;\n            }\n        }\n        cf=-F;ct=F;nanf=0;\n        if((l[0]>l[1] && sg[1] && sg[0]) || (!sg[0]&&!sg[1])){nanf=1;}\n        else if(!sg[0] && sg[1]){ct=l[1]-1;}\n        for(i=1;i<n-1&&!nanf;i++){\n            if(i%2){\n                if((sg[i] && sg[i+1] && l[i]<l[i+1]) || (!sg[i]&&!sg[i+1])){nanf=1;}\n                else if(!sg[i]){\n                    if(!sg[i-1] && sg[i+1]){\n                        cf=max({cf,l[i+1]+1});\n                    }\n                    else if(sg[i-1] && !sg[i+1]){\n                        cf=max({cf,l[i-1]+1});\n                    }\n                    else if(sg[i-1] && sg[i+1]){\n                        cf=max({cf,l[i-1]+1,l[i+1]+1});\n                    }\n                }\n            }\n            else{\n                if((sg[i] && sg[i+1] && l[i]>l[i+1]) || (!sg[i]&&!sg[i+1])){nanf=1;}\n                else if(!sg[i]){\n                    if(!sg[i-1] && sg[i+1]){\n                        ct=min({ct,l[i+1]-1});\n                    }\n                    else if(sg[i-1] && !sg[i+1]){\n                        ct=min({ct,l[i-1]-1});\n                    }\n                    else if(sg[i+1] && sg[i-1]){\n                        ct=min({ct,l[i-1]-1,l[i+1]-1});\n                    }\n                }\n            }\n        }\n        if(!sg[n-1] && sg[n-2]){\n            if((n-1)%2){\n                cf=max({cf,l[n-2]+1});\n            }\n            else{\n                ct=min({ct,l[n-2]-1});\n            }\n        }\n        if(nanf || cf>ct){printf(\"none\\n\");}\n        else if(cf==ct){printf(\"%d\\n\",cf);}\n        else{printf(\"ambiguous\\n\");}\n    }\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <stack>\n#include <queue>\n#include <map>\n#include <cmath>\n#include <string>\n#include <sstream>\n#include <iomanip>\n#include <complex>\nusing namespace std;\n\n#define ll long long\n#define vvi vector< vector<int> >\n#define vi vector<int>\n#define All(X) X.begin(),X.end()\n#define FOR(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define REP(i,n) for(int i=0;i<(int)(n);i++)\n#define pb push_back\n#define pii pair<int,int>\n#define mp make_pair\n#define pi 3.14159265359\n#define shosu(X) fixed << setprecision(X)\nll gcd(ll a,ll b){return b?gcd(b,a%b):a;}\nll lcm(ll a,ll b){return a/gcd(a,b)*b;}\n\nint main(){\n\twhile(1){\n\t\tint n;\n\t\tcin >> n;\n\t\tif(n==0) break;\n\t\tll int xcnt = 0;\n\t\tll int data[1001];\n\t\tll int lastxpos = -10;\n\t\tREP(i,n){\n\t\t\tstring s;\n\t\t\tcin >> s;\n\t\t\tif(s==\"x\"){\n\t\t\t\txcnt++;\n\t\t\t\tif(lastxpos==i-1){//x 2??£?¶????????????????????????¨\n\t\t\t\t\txcnt = n;\n\t\t\t\t}\n\t\t\t\tlastxpos = i;\n\t\t\t\tdata[i]=999999999;\n\t\t\t}else{\n\t\t\t\tdata[i]= stoll(s);\n\t\t\t}\n\t\t}\n\t\tif(xcnt>=n){//2??£?¶????????????§?????£?????????\n\t\t\tcout << \"none\" << endl;\n\t\t}else{\n\t\t\tbool is_mujun = false;\n\t\t\tll int minx=-999999999,maxx=999999999;\n\t\t\tREP(i,n){\n\t\t\t\tif(i==0){\n\t\t\t\t\tif(data[0]==999999999) maxx = data[1]-1;\n\t\t\t\t\telse if(data[1]!=999999999&&data[0]>=data[1]) is_mujun = true;\n\t\t\t\t}else if(i==n-1){\n\t\t\t\t\tif(data[n-1]==999999999){\n\t\t\t\t\t\tif((n+1)%2==0){\n\t\t\t\t\t\t\tmaxx = data[n-2]-1;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tminx = data[n-2]+1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif((n+1)%2==0){\n\t\t\t\t\t\t\tif(data[n-2]!=999999999&&data[n-1]>=data[n-2]) is_mujun = true;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tif(data[n-2]!=999999999&&data[n-1]<=data[n-2]) is_mujun = true;\n\t\t\t\t\t\t}\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(data[i]==999999999){\n\t\t\t\t\t\tif((i+1)%2==0){\n\t\t\t\t\t\t\tminx = max(minx,max(data[i-1],data[i+1])+1);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tmaxx = min(maxx,min(data[i-1],data[i+1])-1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif((i+1)%2==0){\n\t\t\t\t\t\t\tif(data[i-1]!=999999999&&(data[i]<=data[i-1])) is_mujun = true;\n\t\t\t\t\t\t\tif(data[i+1]!=999999999&&(data[i]<=data[i+1])) is_mujun = true;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tif(data[i-1]!=999999999&&(data[i]>=data[i-1])) is_mujun = true;\n\t\t\t\t\t\t\tif(data[i+1]!=999999999&&(data[i]>=data[i+1])) is_mujun = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(minx!=-999999999&&maxx!=999999999&&minx-maxx>0) is_mujun = true;\n\t\t\t\t//cout << minx << \" \" << maxx << \" \" << is_mujun <<\" \"<<data[i]<< endl;\n\t\t\t}\n\t\t\tif(xcnt==0){\n\t\t\t\tif(is_mujun) cout << \"none\" << endl;\n\t\t\t\telse cout << \"ambiguous\" << endl;\t\t\t\t\n\t\t\t}else{\n\t\t\t\tif(is_mujun) cout << \"none\" << endl;\n\t\t\t\telse{\n\t\t\t\t\tif(maxx==minx) cout << maxx << endl;\n\t\t\t\t\telse cout << \"ambiguous\" << endl;\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <algorithm>\n\nusing namespace std;\n\nint INF = 1 << 30;\n\nbool fail() {\n    cout << \"none\" << endl;\n    return true;\n}\n\nbool solve() {\n    int N;\n    cin >> N;\n    if (N == 0) return false;\n\n    vector<string> S(N + 2);\n    for (int i = 1; i <= N; ++i) cin >> S[i];\n    S[0] = to_string(INF), S[N + 1] = to_string(N % 2 == 0 ? -INF : INF);\n\n    int low = -(1 << 30), high = 1 << 30;\n    for (int i = 1; i <= N; ++i) {\n        if (S[i] == \"x\") {\n            if (S[i - 1] == \"x\" || S[i + 1] == \"x\") return fail();\n\n            if (i % 2 == 0) {\n                low = max({low, stoi(S[i - 1]) + 1, stoi(S[i + 1]) + 1});\n            } else {\n                high = min({high, stoi(S[i - 1]) - 1, stoi(S[i + 1]) - 1});\n            }\n        } else {\n            if (S[i + 1] == \"x\") continue;\n            if (i % 2 == 0) {\n                if (stoi(S[i]) <= stoi(S[i + 1])) return fail();\n            } else {\n                if (stoi(S[i]) >= stoi(S[i + 1])) return fail();\n            }\n        }\n    }\n\n    if (low > high) return fail();\n    if (low < high) {\n        cout << \"ambiguous\" << endl;\n    } else {\n        cout << low << endl;\n    }\n    return true;\n}\n\nint main() {\n    while (solve()) {}\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i, n) for (int i = 0; i < n; i++)\n#define INF 1000000010\nusing namespace std;\nint main()\n{\n\tint n;\n\twhile (cin >> n, n)\n\t{\n\t\tvector<string> vec(n + 1);\n\t\tint num_x = 0;\n\t\tint seq = 0;\n\t\tbool flag = false;\n\t\trep(i, n)\n\t\t{\n\t\t\tcin >> vec[i];\n\t\t\tif (vec[i] == \"x\")\n\t\t\t{\n\t\t\t\tnum_x++;\n\t\t\t\tseq++;\n\t\t\t}\n\t\t\telse\n\t\t\t\tseq = 0;\n\t\t\tif (seq > 1)\n\t\t\t\tflag = true;\n\t\t\tif (i == 0)\n\t\t\t\tcontinue;\n\t\t\tif (vec[i] == \"x\" || vec[i - 1] == \"x\")\n\t\t\t\tcontinue;\n\t\t\tif ((i + 1) % 2 == 0)\n\t\t\t{\n\t\t\t\tif (vec[i] <= vec[i - 1])\n\t\t\t\t\tflag = true;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (vec[i] >= vec[i - 1])\n\t\t\t\t\tflag = true;\n\t\t\t}\n\t\t}\n\t\tif (flag)\n\t\t{\n\t\t\tcout << \"none\" << endl;\n\t\t\tcontinue;\n\t\t}\n\t\tif (num_x == 0)\n\t\t{\n\t\t\tcout << \"ambiguous\" << endl;\n\t\t\tcontinue;\n\t\t}\n\t\t//上限と下限を調べる\n\t\tlong max_n = -INF, min_n = INF;\n\t\tlong max_tmp, min_tmp;\n\t\trep(i, n)\n\t\t{\n\t\t\tif (vec[i] == \"x\")\n\t\t\t{\n\t\t\t\tif ((i + 1) % 2 == 0)\n\t\t\t\t{\n\t\t\t\t\tif (i == 0)\n\t\t\t\t\t\tmin_tmp = stoi(vec[i + 1]);\n\t\t\t\t\telse if (i == n - 1)\n\t\t\t\t\t\tmin_tmp = stoi(vec[i - 1]);\n\t\t\t\t\telse\n\t\t\t\t\t\tmin_tmp = max(stoi(vec[i + 1]), stoi(vec[i - 1]));\n\t\t\t\t\tmin_n = min(min_tmp, min_n) + 1;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif (i == 0)\n\t\t\t\t\t\tmax_tmp = stoi(vec[i + 1]);\n\t\t\t\t\telse if (i == n - 1)\n\t\t\t\t\t\tmax_tmp = stoi(vec[i - 1]);\n\t\t\t\t\telse\n\t\t\t\t\t\tmax_tmp = min(stoi(vec[i + 1]), stoi(vec[i - 1]));\n\t\t\t\t\tmax_n = max(max_tmp, max_n) - 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\t//:cout << min_n << \" \" << max_n << endl;\n\t\t}\n\t\tlong cnt = 0;\n\t\tlong ans;\n\t\tif (max_n == -INF || min_n == INF)\n\t\t{\n\t\t\tcout << \"ambiguous\" << endl;\n\t\t\tcontinue;\n\t\t}\n\t\tif (max_n == min_n)\n\t\t\tcout << max_n << endl;\n\t\telse if (max_n > min_n)\n\t\t\tcout << \"ambiguous\" << endl;\n\t\telse\n\t\t\tcout << \"none\" << endl;\n\t}\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#define INF -2000000000\nusing namespace std;\nvector <int> s;\nint check(int x){\n  for(int i=1;i<s.size()-1;i++){\n    int ima = s[i],nx = s[i+1],mae = s[i-1];\n    if(ima == INF) ima =x;\n    if(nx == INF) nx = x;\n    if(mae == INF) mae = x;\n    if(i%2 == 0 && (ima >= mae || ima>= nx)) {\n      if(s[i] == INF)return -1;\n      else return 1;\n    }\n    else if(i%2==1 &&(mae >= ima||nx >= ima)) {\n      if(s[i] == INF)  return 1;\n      else return -1;\n    }\n  }\n\n  if(s.size() == 2) {\n    int ima = s[0],nx = s[1];\n    if(s[0] == INF) ima = x;\n    if(s[1] == INF) nx  = x;\n    if(ima >= nx) {\n      if(s[0] == INF) return -1;\n      else return 1;\n    }\n  }\n  \n  return 0;\n}\n\nint main() {\n  while(1){\n    int n;\n    cin >> n;\n    if(n == 0) break;\n    string str;\n    s.clear();\n    for(int i=0;i<n;i++) {\n      cin >> str;\n      if(str == \"x\") s.push_back(INF);\n      else {\n\tint sum = 0,k=0,flg = 1;\n\tif(str[0] == '-') k=1,flg = -1;\n\tfor(int j=k;j<str.size();j++) sum = sum*10 + (str[j]-'0');\n\ts.push_back(flg*sum);\n      }\n    }\n  \n    int R = 1000000010,L=-1000000011,M,ans = INF;\n    int cnt = 0;\n    while(L < R) {\n      cnt ++;\n      int t = M;\n      M = (L+R)/2;\n      if(M == t) L--,R++,M=(L+R)/2;\n      if(cnt > 35) break;\n      int res = check(M);\n      if(res == -1) R = M;\n      else if(res == 1) L=M+1;\n      else if(res == 0) {\n\tans = M;\n\tbreak;\n      }\n   \n    }\n    if(ans == INF) cout << \"none\"<<endl;\n    else if(check(ans+1) == 0 || check(ans-1) == 0) cout << \"ambiguous\"<<endl;\n    else cout << ans <<endl;\n  }\n  return 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<string>\n#include<algorithm>\t\n#include<map>\n#include<set>\n#include<utility>\n#include<cmath>\n#include<cstring>\n#include<queue>\n#include<stack>\n#include<cstdio>\n#include<sstream>\n#include<iomanip>\n#include<assert.h>\n#define loop(i,a,b) for(int i=a;i<b;i++) \n#define rep(i,a) loop(i,0,a)\n#define pb push_back\n#define all(in) in.begin(),in.end()\n#define shosu(x) fixed<<setprecision(x)\nusing namespace std;\n//kaewasuretyuui\ntypedef long long ll;\ntypedef ll Def;\ntypedef pair<Def,Def> pii;\ntypedef vector<Def> vi;\ntypedef vector<vi> vvi;\ntypedef vector<pii> vp;\ntypedef vector<vp> vvp;\ntypedef vector<string> vs;\ntypedef vector<double> vd;\ntypedef vector<vd> vvd;\ntypedef pair<Def,pii> pip;\ntypedef vector<pip>vip;\n//#define mt make_tuple\n//typedef tuple<double,int,double> tp;\n//typedef vector<tp> vt;\ntemplate<typename A,typename B>bool cmin(A &a,const B &b){return a>b?(a=b,true):false;}\ntemplate<typename A,typename B>bool cmax(A &a,const B &b){return a<b?(a=b,true):false;}\nconst double PI=acos(-1);\nconst double EPS=1e-7;\nDef inf = sizeof(Def) == sizeof(long long) ? 2e14 : 2e9;\nint dx[]={0,1,0,-1};\nint dy[]={1,0,-1,0};\nint main(){\n\tint n;\n\twhile(cin>>n,n){\n\t\tvi in(n+2);\n\t\tin[0]=inf+1;\n\t\trep(i,n){\n\t\t\tstring s;\n\t\t\tcin>>s;\n\t\t\tif(s==\"x\")in[i+1]=inf;\n\t\t\telse in[i+1]=stoi(s);\n\t\t}\n\t\tin[n+1]=(n%2?inf+1:-inf-1);\n\t\tll mi=-inf,ma=inf;\n\t\trep(i,n)if(in[i+1]==inf){\n\t\t\tif(i%2){\n\t\t\t\tcmax(mi,max(in[i],in[i+2]));\n\t\t\t}else{\n\t\t\t\tcmin(ma,min(in[i],in[i+2]));\n\t\t\t}\n\t\t}\n\t\tbool h=true;\n\t\trep(i,n+1){\n\t\t\tif(in[i]==inf&&in[i+1]==inf)h=false;\n\t\t\tif(in[i]!=inf&&in[i+1]!=inf){\n\t\t\t\tif(i%2&&in[i]>=in[i+1]||i%2==0&&in[i]<=in[i+1]){\n\t\t\t\t\th=false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(ma==-inf)ma=inf;\n\t\tif(mi==inf)mi=-inf;\n\t\tif(!h)cout<<\"none\"<<endl;\n//\t\telse if(ma==-inf&&mi==inf)cout<<\"ambiguous\"<<endl;\n\t\telse if(ma-mi==2)cout<<ma-1<<endl;\n\t\telse if(ma-mi>2)cout<<\"ambiguous\"<<endl;\n\t\telse cout<<\"none\"<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nusing ll=long long;\nusing ld=long double;\n\n#define rep(i,N) for(int i=0;i<(int)(N);++i)\n#define rrep(i,N) for(int i=(int)(N)-1;i>=0;--i)\n#define debug(x) cout<<#x<<\"=\"<<x<<endl;\nconstexpr ll MOD=1000000007;\nconstexpr ll INF=1LL<<60;\ntemplate<class T> inline bool chmin(T& a,T b){if(a>b){a=b;return true;}return false;}\ntemplate<class T> inline bool chmax(T& a,T b){if(a<b){a=b;return true;}return false;}\ntemplate<typename T> void fail(T v){cout << v << endl;exit(0);}\n//template end\n\nvoid solve(){\n     int N;\n    while((cin>>N,N)){\n        vector<ll> A(N);\n        rep(i,N){\n            string c;cin>>c;\n            if(c==\"x\")A[i]=INF;\n            else A[i]=(ll)atoi(c.c_str());\n        }\n        ll l=-INF,r=INF-1;\n        rep(i,N){\n            if(A[i]!=INF){\n                if(i!=0&&A[i-1]!=INF){\n                    if(i%2==0&&A[i]>=A[i-1]){\n                        cout<<\"none\"<<endl;goto END;\n                    }else if(i%2==1&&A[i]<=A[i-1]){\n                        cout<<\"none\"<<endl;goto END;\n                    }\n                }\n                continue;\n            }\n            if(i!=0){\n                if(A[i-1]==INF){\n                cout<<\"none\"<<endl;goto END;\n                }\n                if(i%2==1)chmax(l,(ll)A[i-1]);\n                else chmin(r,(ll)A[i-1]);\n            }\n            if(i!=N-1){\n                if(A[i+1]==INF){\n                cout<<\"none\"<<endl;goto END;\n                }\n                if(i%2==1)chmax(l,(ll)A[i+1]);\n                else chmin(r,(ll)A[i+1]);\n            }\n        }\n        if(r-l<2)cout<<\"none\"<<endl;\n        else if(r-l>2)cout<<\"ambiguous\"<<endl;\n        else cout<<(l+r)/2<<endl;\n        END:;\n    }\n}\n\nint main(){\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    cout << fixed << setprecision(20);\n    solve();\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <queue>\n#include <stack>\n#include <algorithm>\n#include <list>\n#include <vector>\n#include <complex>\n#include <utility>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <climits>\n#include <bitset>\n#include <ctime>\n#include <map>\n#include <unordered_map>\n#include <set>\n#include <unordered_set>\n#include <cassert>\n#include <cstddef>\n#include <iomanip>\n#include <numeric>\n#include <tuple>\n#include <sstream>\n#include <fstream>\n\nusing namespace std;\n#define REP(i, n) for (int (i) = 0; (i) < (n); (i)++)\n#define FOR(i, a, b) for (int (i) = (a); (i) < (b); (i)++)\n#define RREP(i, a) for(int (i) = (a) - 1; (i) >= 0; (i)--)\n#define FORR(i, a, b) for(int (i) = (a) - 1; (i) >= (b); (i)--)\n#define DEBUG(C) cerr << #C << \" = \" << C << endl;\nusing LL = long long;\nusing VI = vector<int>;\nusing VVI = vector<VI>;\nusing VL = vector<LL>;\nusing VVL = vector<VL>;\nusing VD = vector<double>;\nusing VVD = vector<VD>;\nusing PII = pair<int, int>;\nusing PDD = pair<double, double>;\nusing PLL = pair<LL, LL>;\nusing VPII = vector<PII>;\ntemplate<typename T> using VT = vector<T>;\n#define ALL(a) begin((a)), end((a))\n#define RALL(a) rbegin((a)), rend((a))\n#define SORT(a) sort(ALL((a)))\n#define RSORT(a) sort(RALL((a)))\n#define REVERSE(a) reverse(ALL((a)))\n#define MP make_pair\n#define FORE(a, b) for (auto &&a : (b))\n#define FIND(s, e) ((s).find(e) != (s).end())\n#define EB emplace_back\ntemplate<typename T> inline bool chmax(T &a, T b){if (a < b){a = b;return true;}return false;}\ntemplate<typename T> inline bool chmin(T &a, T b){if (a > b){a = b;return true;}return false;}\n\nconst int INF = 1e9;\nconst int MOD = INF + 7;\nconst LL LLINF = 1e18;\nconst double EPS = 1e-9;\n\nvoid init() {\n    \n}\n\nint a[1010];\nint cnt = 0;\nvoid solve(LL n) {\n//cerr<<\"case:\"<<++cnt<<\" n = \"<<n<<endl;\n    fill(a, a + 1010, MOD);\n    int ma = MOD, mi = -MOD;\n    bool prevSkip = false;\n    bool ng = false;\n    for (int i = 0; i < n; i++) {\n        char str[15];\n        scanf(\"%s\", str);\n        if (str[0] == 'x') {\n            if (prevSkip) {\n                ng = true;\n            }\n            prevSkip = true;\n            continue;\n        }\n        a[i] = atoi(str);\n        prevSkip = false;\n    }\n    if (ng) {\n        puts(\"none\");\n        return;\n    }\n    for (int i = 0; i < n; i++) {\n        if (a[i] == MOD) {\n            if ((i + 1) % 2) {//?\\???°\n                if (i) chmin(ma, a[i - 1] - 1);\n                if (i + 1 != n) chmin(ma, a[i + 1] - 1);\n            } else {//??¶??°\n                chmax(mi, a[i - 1] + 1);\n                if (i + 1 != n) chmax(mi, a[i + 1] + 1);\n            }\n        } else {\n            ng = false;\n            if ((i + 1) % 2) {\n                if (i && a[i - 1] != MOD) ng |= (a[i] >= a[i - 1]);\n                if (i + 1 != n && a[i + 1] != MOD) ng |= (a[i] >= a[i + 1]);\n            } else {\n                if (a[i - 1] != MOD) ng |= (a[i] <= a[i - 1]);\n                if (i + 1 != n && a[i + 1] != MOD) ng |= (a[i] <= a[i + 1]);\n            }\n            if (ng) {\n                puts(\"none\");\n                return;\n            }\n        }\n    }\n    //cerr<<mi<<\" \"<<ma<<endl;\n    //mi++;ma--;\n    if (ma < mi) puts(\"none\");\n    else if (ma == mi) printf(\"%d\\n\", ma);\n    else puts(\"ambiguous\");\n}\n\nsigned main(void) {\n    LL n, m, p, a, b, c, x, y, z, q;\n    string s;\n    bool f = false;\n    init();\n    while (cin >> n, n) {\n        solve(n);\n        //return 0;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#include <algorithm>\n#include <cstdio>\n#include <functional>\n#include <iostream>\n#include <cfloat>\n#include <climits>\n#include <cstring>\n#include <cmath>\n#include <map>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <time.h>\n#include <vector>\nusing namespace std;\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int, int> i_i;\ntypedef pair<ll, int> ll_i;\ntypedef pair<double, int> d_i;\ntypedef pair<ll, ll> ll_ll;\ntypedef pair<double, double> d_d;\nstruct edge { int u, v; ll w; };\n\nll MOD = 1000000007;\nll _MOD = 1000000009;\ndouble EPS = 1e-9;\n\nint main() {\n\tfor (;;) {\n\t\tint n; cin >> n;\n\t\tif (n == 0) break;\n\t\tvector<int> a(n);\n\t\tvector<bool> b(n);\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tstring s; cin >> s;\n\t\t\tif (s == \"x\") b[i] = true;\n\t\t\telse {\n\t\t\t\tstringstream ss(s);\n\t\t\t\tss >> a[i];\n\t\t\t}\n\t\t}\n\t\tbool flag = true;\n\t\tint lb = INT_MIN, ub = INT_MAX;\n\t\tfor (int i = 0; i + 1 < n; i += 2) {\n\t\t\tif (b[i] && b[i + 1]) flag = false;\n\t\t\telse if (!b[i] && !b[i + 1]) {\n\t\t\t\tif (a[i] >= a[i + 1]) flag = false;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (b[i]) ub = min(ub, a[i + 1] - 1);\n\t\t\t\telse lb = max(lb, a[i] + 1);\n\t\t\t}\n\t\t}\n\t\tfor (int i = 1; i + 1 < n; i += 2) {\n\t\t\tif (b[i] && b[i + 1]) flag = false;\n\t\t\telse if (!b[i] && !b[i + 1]) {\n\t\t\t\tif (a[i] <= a[i + 1]) flag = false;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (b[i]) lb = max(lb, a[i + 1] + 1);\n\t\t\t\telse ub = min(ub, a[i] - 1);\n\t\t\t}\n\t\t}\n\t\tif (!flag || lb > ub) cout << \"none\" << endl;\n\t\telse if (lb < ub) cout << \"ambiguous\" << endl;\n\t\telse cout << lb << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <utility>\n#include <typeinfo>\n#include <cmath>\n#include <algorithm>\n#include <iostream>\n#include <sstream>\n#include <iomanip>\n#include <vector>\n#include <string>\n#define REP(i,n) for(int i=0;i<n;i++)\ntypedef long long ll;\nusing namespace std;\ntypedef vector<ll> vl;\ntypedef pair<ll,ll> pll;\ntypedef vector<pll> vpll;\ntypedef vector<string> vs;\n\nint N = 2000000000;\n\nint even(const int a[],int x,int y){\n\tif(x==0){return a[x+1];}\n\telse if(x==y-1){return a[x-1];}\n\telse{return min(a[x-1],a[x+1]);}\n}\n\nint odd(const int a[],int x,int y){\n\tif(x==y-1){return a[x-1];}\n\telse{return max(a[x-1],a[x+1]);}\n}\n\n\nint main() \n{\n\tint n;\n\twhile(cin>>n&&n!=0)\n\t{\n\t\tint count(0);//xの個数\n\t\tint a[1000]={};\n\t\tint b[1000]={};//i番目のxの入っている位置\n\t\tfor(int i=0;i<n;i++){\n\t\t\tstring s;cin>>s;\n\t\t\tif(s[0]=='x'){a[i]=N;b[count]=i;count++;}\n\t\t\telse{sscanf(s.c_str(), \"%d\", &a[i]);}\n\t\t}\n\t\t\n\t\tif(count==0){cout<<\"ambiguous\"<<endl;}\n\t\telse if(count==1&&n==1){cout<<\"ambiguous\"<<endl;}\n\t\telse if(n>1)\n\t\t{\n\t\t\tbool flag=false;\n\t\t\tint top(1000000000),bottom(-100000000);\n\t\t\tfor(int i=0;i<count;i++)\n\t\t\t{\n\t\t\t\tif(i>0&&b[i]==b[i-1]){flag=true;break;}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif(b[i]%2==0)\n\t\t\t\t\t{\n\t\t\t\t\t\ttop=min(top,even(a,b[i],n));\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tbottom=max(bottom,odd(a,b[i],n));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(flag){cout<<\"none\"<<endl;}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif((top-bottom)==2){cout<<top-1<<endl;}\n\t\t\t\telse if((top-bottom)>2){cout<<\"ambiguous\"<<endl;}\n\t\t\t\telse if((top-bottom)<2){cout<<\"none\"<<endl;}\n\t\t\t}\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <stack>\n#include <queue>\n#include <map>\n#include <cmath>\n#include <string>\n#include <sstream>\n#include <iomanip>\n#include <complex>\nusing namespace std;\n\n#define ll long long\n#define vvi vector< vector<int> >\n#define vi vector<int>\n#define All(X) X.begin(),X.end()\n#define FOR(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define REP(i,n) for(int i=0;i<(int)(n);i++)\n#define pb push_back\n#define pii pair<int,int>\n#define mp make_pair\n#define pi 3.14159265359\n#define shosu(X) fixed << setprecision(X)\nll gcd(ll a,ll b){return b?gcd(b,a%b):a;}\nll lcm(ll a,ll b){return a/gcd(a,b)*b;}\n\nint main(){\n\twhile(1){\n\t\tint n;\n\t\tcin >> n;\n\t\tif(n==0) break;\n\t\tll int xcnt = 0;\n\t\tll int data[1001];\n\t\tll int lastxpos = -10;\n\t\tREP(i,n){\n\t\t\tstring s;\n\t\t\tcin >> s;\n\t\t\tif(s==\"x\"){\n\t\t\t\txcnt++;\n\t\t\t\tif(lastxpos==i-1){//x 2??£?¶????????????????????????¨\n\t\t\t\t\txcnt = n;\n\t\t\t\t}\n\t\t\t\tlastxpos = i;\n\t\t\t\tdata[i]=1000000000;\n\t\t\t}else{\n\t\t\t\tdata[i]= stoll(s);\n\t\t\t}\n\t\t}\n\t\tif(xcnt>=n){//2??£?¶????????????§?????£?????????\n\t\t\tcout << \"none\" << endl;\n\t\t}else{\n\t\t\tbool is_mujun = false;\n\t\t\tll int minx=-1000000000,maxx=1000000000;\n\t\t\tREP(i,n){\n\t\t\t\tif(i==0){\n\t\t\t\t\tif(data[0]==1000000000) maxx = data[1]-1;\n\t\t\t\t\telse if(data[1]!=1000000000&&data[0]>=data[1]) is_mujun = true;\n\t\t\t\t}else if(i==n-1){\n\t\t\t\t\tif(data[n-1]==1000000000){\n\t\t\t\t\t\tif((n+1)%2==0){\n\t\t\t\t\t\t\tmaxx = data[n-2]-1;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tminx = data[n-2]+1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif((n+1)%2==0){\n\t\t\t\t\t\t\tif(data[n-2]!=1000000000&&data[n-1]>=data[n-2]) is_mujun = true;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tif(data[n-2]!=1000000000&&data[n-1]<=data[n-2]) is_mujun = true;\n\t\t\t\t\t\t}\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(data[i]==1000000000){\n\t\t\t\t\t\tif((i+1)%2==0){\n\t\t\t\t\t\t\tminx = max(minx,max(data[i-1],data[i+1])+1);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tmaxx = min(maxx,min(data[i-1],data[i+1])-1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif((i+1)%2==0){\n\t\t\t\t\t\t\tif(data[i-1]!=1000000000&&(data[i]<=data[i-1])) is_mujun = true;\n\t\t\t\t\t\t\tif(data[i+1]!=1000000000&&(data[i]<=data[i+1])) is_mujun = true;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tif(data[i-1]!=1000000000&&(data[i]>=data[i-1])) is_mujun = true;\n\t\t\t\t\t\t\tif(data[i+1]!=1000000000&&(data[i]>=data[i+1])) is_mujun = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(minx!=-1000000000&&maxx!=1000000000&&minx-maxx>0) is_mujun = true;\n\t\t\t\t//cout << minx << \" \" << maxx << \" \" << is_mujun <<\" \"<<data[i]<< endl;\n\t\t\t}\n\t\t\tif(xcnt==0){\n\t\t\t\tif(is_mujun) cout << \"none\" << endl;\n\t\t\t\telse cout << \"ambiguous\" << endl;\t\t\t\t\n\t\t\t}else{\n\t\t\t\tif(is_mujun) cout << \"none\" << endl;\n\t\t\t\telse{\n\t\t\t\t\tif(maxx==minx) cout << maxx << endl;\n\t\t\t\t\telse cout << \"ambiguous\" << endl;\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <climits>\nusing namespace std;\n\nint n;\nint t[1002];\n\nint main(){\n\n  while(cin >> n){\n    if(n == 0) break;\n\n    bool noneFlg = false;\n\n    for(int i = 0; i < n; i++){\n      string s;\n      cin >> s;\n\n      if(s == \"x\"){\n        t[i] = INT_MAX;\n      }\n      else{\n        t[i] = atoi(s.c_str());\n      }\n\n      if(i == 0) continue;\n\n      if(t[i] == INT_MAX && t[i - 1] == INT_MAX ||\n         t[i] != INT_MAX && t[i - 1] != INT_MAX &&\n          (i % 2 == 0 && t[i - 1] <= t[i] || i % 2 == 1 && t[i - 1] >= t[i])){\n        noneFlg = true;\n      }\n    }\n\n    if(noneFlg){\n      cout << \"none\" << endl;\n      continue;\n    }\n\n    //       0123456789\n    int lo = -1000000010;\n    int hi = 1000000010;\n\n    for(int i = 0; i < n; i++){\n      if(t[i] != INT_MAX) continue;\n\n      if(i > 0){\n        if(i % 2 == 0) hi = min(hi, t[i - 1] - 1);\n        else           lo = max(lo, t[i - 1] + 1);\n      }\n      if(i < n - 1){\n        if(i % 2 == 0) hi = min(hi, t[i + 1] - 1);\n        else           lo = max(lo, t[i + 1] + 1);\n      }\n    }\n\n    if(lo == hi){\n      cout << lo << endl;\n    }\n    else if(lo < hi){\n      cout << \"ambiguous\" << endl;\n    }\n    else{\n      cout << \"none\" << endl;\n    }\n\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <string>\n#include <sstream>\nusing namespace std;\n\nconst long X=10000000000;\n\nint main(){\n\twhile(1){\n\t\tint n;\n\t\tscanf(\" %d\", &n);\n\t\tif(n==0) break;\n\t\t\n\t\tlong sig[1000]={0}; //signals\n\t\t\n\t\tfor(int i=0; i<n; ++i){\n\t\t\tstring s;\n\t\t\tcin >> s;\n\t\t\tif(s==\"x\") sig[i]=X;\n\t\t\telse{\n\t\t\t\tistringstream iss(s);\n\t\t\t\tiss >> sig[i];\t\n\t\t\t}\n\t\t}\n\t\t\n\t\t//for(int i=0; i<n; ++i) printf(\"sig[%d]= %d\\n\", i, sig[i]);\n\t\t\n\t\t//small????????§?????????big???????°??????????????????°????????????\n\t\tlong big=2000000000, small=-2000000000;\n\t\tbool noans=false;\n\t\t\n\t\tfor(int i=0; i<n-1; ++i){\n\t\t\tif(sig[i]==X && sig[i+1]==X) noans=true;\t\n\t\t}\n\t\t\n\t\tif(noans) printf(\"none\\n\");\n\t\telse{\n\t\t\tfor(int i=0; i<n; ++i){\t\n\t\t\t\tif(sig[i]==X){\n\t\t\t\t\tif(i%2==0){ //?\\???°???????????????, big?????´??°\n\t\t\t\t\t\tlong tmp=2000000000;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(i-1>=0) tmp=min(tmp, sig[i-1]);\n\t\t\t\t\t\tif(i+1<n) tmp=min(tmp, sig[i+1]);\n\t\t\t\t\t\t\n\t\t\t\t\t\tbig=min(big,tmp);\n\t\t\t\t\t}\n\t\t\t\t\telse{ //??¶??°??????????????????small?????´??°\n\t\t\t\t\t\tlong tmp=-2000000000;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(i-1>=0) tmp=max(tmp, sig[i-1]);\n\t\t\t\t\t\tif(i+1<n) tmp=max(tmp, sig[i+1]);\n\t\t\t\t\t\t\n\t\t\t\t\t\tsmall=max(small,tmp);\n\t\t\t\t\t}\t\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(i%2==0){ //?\\???°???????????????, ?¢????\n\t\t\t\t\t\tif(i-1>=0 && sig[i-1]!=X && sig[i-1]<sig[i]) noans=true;\t\n\t\t\t\t\t\tif(i+1<n && sig[i+1]!=X && sig[i+1]<sig[i]) noans=true;\n\t\t\t\t\t}\n\t\t\t\t\telse{ //??¶??°???????????????????¢????\n\t\t\t\t\t\tif(i-1>=0 && sig[i-1]!=X && sig[i-1]>sig[i]) noans=true;\t\n\t\t\t\t\t\tif(i+1<n && sig[i+1]!=X && sig[i+1]>sig[i]) noans=true;\n\t\t\t\t\t}\t\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(noans) break;\n\t\t\t}\n\t\t\t\n\t\t\t//printf(\"big=%d, small=%d\\n\", big, small);\n\t\t\t\n\t\t\tif(noans || big-small<=1) printf(\"none\\n\");\n\t\t\telse if(big-small==2) printf(\"%d\\n\", big-1);\n\t\t\telse printf(\"ambiguous\\n\");\n\t\t}\t\t\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint go(vector<int> v,int num){\n\tvector<int> diff;\n\tfor(int i = 0 ; i < v.size() ; i++){\n\t\tif( v[i] == -1 ) v[i] = num;\n\t\tif(i)diff.push_back(v[i]-v[i-1]);\n\t\t\n\t}\n\tfor(int i = 0 ; i < diff.size() ; i++){\n\t\tif( ((i%2)^(diff[i]<0)) || diff[i] == 0 ){\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n}\nint main(){\n\tint N;\n\twhile(cin >> N && N){\n\t\tvector<int> u = {0,1,2,3,4,5};\n\t\tvector<int> h;\n\t\tfor(int i = 0 ; i < N ; i++){\n\t\t\tstring s;\n\t\t\tcin >> s;\n\t\t\tif( s == \"x\" ){\n\t\t\t\th.push_back(-1);\n\t\t\t}else{\n\t\t\t\tstringstream ss(s);\n\t\t\t\tint w;\n\t\t\t\tss >> w;\n\t\t\t\th.push_back(w);\n\t\t\t\tfor(int j = -2 ; j <= 2 ; j++){\n\t\t\t\t\tu.push_back(w+j);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tsort(u.begin(),u.end());\n\t\tu.erase(unique(u.begin(),u.end()),u.end());\n\t\tint res = 0;\n\t\tint val;\n\t\tfor(int i = 0 ; i < u.size() ; i++){\n\t\t\tif( go(h,u[i]) ){\n\t\t\t\tval = u[i];\n\t\t\t\tres ++;\t\n\t\t\t}\n\t\t}\n\t\tif( res == 1) cout << val << endl;\n\t\telse if( res == 0 ) cout << \"none\" << endl;\n\t\telse cout << \"ambiguous\" << endl;\n\t}\n\t\t\t\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <sstream>\n#include <cstdio>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <ctime>\n#include <vector>\n#include <string>\n#include <map>\n#include <set>\n#include <deque>\n#include <queue>\n#include <stack>\n#include <functional>\n#include <algorithm>\n\nusing namespace std;\n\n#define rep(i,j) REP((i), 0, (j))\n#define REP(i,j,k) for(int i=(j);(i)<(k);++i)\n#define BW(a,x,b) ((a)<=(x)&&(x)<=(b))\n#define ALL(v) (v).begin(), (v).end()\n#define LENGTHOF(x) (sizeof(x) / sizeof(*(x)))\n#define AFILL(a, b) fill((int*)a, (int*)(a + LENGTHOF(a)), b)\n#define SQ(x) ((x)*(x))\n#define Mod(x, mod) (((x)+(mod)%(mod))\n#define MP make_pair\n#define PB push_back\n#define Fi first\n#define Se second\n#define INF (1LL<<60)\n#define EPS 1e-10\n#define MOD 1000000007\n\ntypedef pair<int, int> pi;\ntypedef pair<int, pi> pii;\ntypedef vector<int> vi;\ntypedef queue<int> qi;\ntypedef long long ll;\n\nint main()\n{\n  int N;\n  ll a[1024];\n  while(1){\n    cin >> N;\n    if(N == 0) break;\n    rep(i, N){\n      string s;\n      cin >> s;\n      if(s == \"x\"){\n\ta[i] = -INF-1;\n      }else{\n\ta[i] = stoi(s);\n      }\n    }\n\n    ll b[2];\n    b[0] = -INF;\n    b[1] = INF;\n    rep(i, N){\n      if(a[i] == -INF-1) continue;\n      if(i&1) b[i&1] = min(b[i&1], a[i]);\n      else b[i&1] = max(b[i&1], a[i]);\n    }\n\n    ll b1[2]; b1[0] = -INF; b1[1] = INF;\n    if(a[0] == -INF-1) b1[1] = min(b1[1], a[1]);\n    for(int i=1;i<N-1;i++){\n      if(a[i] != -INF-1) continue;\n      if(i&1) b1[0] = max(b1[0], max(a[i-1], a[i+1]));\n      else b1[1] = min(b1[1], min(a[i-1], a[i+1]));\n    }\n    if(a[N-1] == -INF-1){\n      if((N-1)&1) b1[0] = max(b1[0], a[N-2]);\n      else b1[1] = min(b1[1], a[N-2]);\n    }\n\n    //    cout << b1[0] << \" \" << b1[1] << endl;\n\n    if((b[1] == INF && b[0] == -INF) || b[1] - b[0] <= 0 || b1[1] - b1[2] < 2){\n      cout << \"none\\n\";\n    }else if(b1[1] - b1[0] == 2){\n      cout << b1[0] + 1 << endl;      \n    }else{\n      cout << \"ambiguous\\n\";\n    }\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <iostream>\n#include <string>\nusing namespace std;\nint n;\nint data[1001];\nbool xx[1001];\n\nint main(void){\n\twhile(1){\n\t\tscanf(\"%d\",&n);\n\t\tif(n==0)break;\n\t\tmemset(xx,false,sizeof(xx));\n\t\tmemset(data,0,sizeof(data));\n\t\tfor(int i=0;i<n;i++){\n\t\t\tstring str;\n\t\t\tcin >> str;\n\t\t\tif(str==\"x\")xx[i]=true;\n\t\t\telse{\n\t\t\t\tint num=0;\n\t\t\t\tfor(int j=0;j<str.size();j++){\n\t\t\t\t\tnum*=10;\n\t\t\t\t\tnum+=str[j]-'0';\n\t\t\t\t}\n\t\t\t\tdata[i]=num;\n\t\t\t}\n\t\t}\n\t\tint lx=-2e9,rx=2e9;\n\t\tbool flag=true;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tif(i%2==0){\n\t\t\t\tif(!xx[i]){\n\t\t\t\t\tif(i+1<n && !xx[i+1] && data[i]>=data[i+1]){\n\t\t\t\t\t\tflag=false;\n\t\t\t\t\t}\n\t\t\t\t\tif(i-1>=0 && !xx[i-1] && data[i]>=data[i-1]){\n\t\t\t\t\t\tflag=false;\n\t\t\t\t\t}\n\t\t\t\t\tif(i+1<n && xx[i+1]){\n\t\t\t\t\t\tlx=max(lx,data[i]+1);\n\t\t\t\t\t}\n\t\t\t\t\tif(i-1>=0 && xx[i-1]){\n\t\t\t\t\t\tlx=max(lx,data[i]+1);\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(i+1<n && !xx[i+1]){\n\t\t\t\t\t\trx=min(rx,data[i+1]-1);\n\t\t\t\t\t}\n\t\t\t\t\tif(i-1>=0 && !xx[i-1]){\n\t\t\t\t\t\trx=min(rx,data[i-1]-1);\n\t\t\t\t\t}\n\t\t\t\t\tif(i+1<n && xx[i+1]){\n\t\t\t\t\t\tflag=false;\n\t\t\t\t\t}\n\t\t\t\t\tif(i-1>=0 && xx[i-1]){\n\t\t\t\t\t\tflag=false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(i%2==1){\n\t\t\t\tif(!xx[i]){\n\t\t\t\t\tif(i+1<n && !xx[i+1] && data[i]<=data[i+1]){\n\t\t\t\t\t\tflag=false;\n\t\t\t\t\t}\n\t\t\t\t\tif(i-1>=0 && !xx[i-1] && data[i]<=data[i-1]){\n\t\t\t\t\t\tflag=false;\n\t\t\t\t\t}\n\t\t\t\t\tif(i+1<n && xx[i+1]){\n\t\t\t\t\t\trx=min(rx,data[i]-1);\n\t\t\t\t\t}\n\t\t\t\t\tif(i-1>=0 && xx[i-1]){\n\t\t\t\t\t\trx=min(rx,data[i]-1);\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(i+1<n && !xx[i+1]){\n\t\t\t\t\t\tlx=max(lx,data[i+1]+1);\n\t\t\t\t\t}\n\t\t\t\t\tif(i-1>=0 && !xx[i-1]){\n\t\t\t\t\t\tlx=max(lx,data[i-1]+1);\n\t\t\t\t\t}\n\t\t\t\t\tif(i+1<n && xx[i+1]){\n\t\t\t\t\t\tflag=false;\n\t\t\t\t\t}\n\t\t\t\t\tif(i-1>=0 && xx[i-1]){\n\t\t\t\t\t\tflag=false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(!flag || lx>rx)printf(\"none\\n\");\n\t\telse if(lx!=rx)printf(\"ambiguous\\n\");\n\t\telse printf(\"%d\\n\",lx);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <cmath>\n#include <ctype.h>\n#include <string> \n#include <sstream>\n#include <iostream>\n#include <algorithm>\n#include <cstdlib>\n#include <map>\n#include <queue>\n#include <utility>\n#include <vector>\n#include <set>\n#include <iomanip>\n#include <stack>\n  \nusing namespace std;\n\n#define pi 3.141592653589793\n\nint StrToInt(string str)\n{\n\tint i, j, num = 0, ans = 0, l = str.length();\n\tif(str[0] == '-'){\n\t\tfor(i = l - 1; i >= 1; i--){\n\t\t\tnum = str[i] - '0';\n\t\t\tfor(j = 0; j < l - 1 - i; j++){\n\t\t\t\tnum = num * 10;\n\t\t\t}\n\t\t\tans -= num;\n\t\t}\n\t} else {\n\t\tfor(i = l - 1; i >= 0; i--){\n\t\t\tnum = str[i] - '0';\n\t\t\tfor(j = 0; j < l - 1 - i; j++){\n\t\t\t\tnum = num * 10;\n\t\t\t}\n\t\t\tans += num;\n\t\t}\n\t}\n\treturn ans;\n}\n\nstring IntToStr(int n)\n{\n\tstring s = \"\";\n\tint i = 0;\n\tif(n < 0){\n\t\ts += '-';\n\t\tn = abs(n);\n\t\twhile(n / (int)pow(10, i) != 0){\n\t\t\ti++;\n\t\t}\n\t\tfor(int j = i - 1; j >= 0; j--){\n\t\t\ts += (n / (int)pow(10, j)) + '0';\n\t\t\tn = n % (int)pow(10, j);\n\t\t}\n\t} else if(n == 0) return \"0\";\n\telse{\n\t\twhile(n / (int)pow(10, i) != 0){\n\t\t\ti++;\n\t\t}\n\t\tfor(int j = i - 1; j >= 0; j--){\n\t\t\ts += (n / (int)pow(10, j)) + '0';\n\t\t\tn = n % (int)pow(10, j);\n\t\t}\n\t}\n\treturn s;\n}\n\nstring solve(string a[], int n)\n{\n\tint xrange[2] = {-1000000001, 1000000001};\n\t// xのとりうる範囲\n\tint is_x_in[2] = {0, 0};\n\t// 0がtrue→偶数番目にxあり、1がtrue→奇数番目にxあり\n\tif(a[1] == \"x\"){\n\t\tif(a[2] == \"x\") return \"none\";\n\t\telse xrange[1] = min(StrToInt(a[2]), xrange[1]);\n\t\tis_x_in[1] = 1;\n\t} else {\n\t\tif(a[2] != \"x\" && StrToInt(a[1]) >= StrToInt(a[2])) return \"none\";\n\t}\n\tfor(int i = 2; i < n; i++){\n\t\tif(a[i] == \"x\"){\n\t\t\tif(a[i - 1] == \"x\" || a[i + 1] == \"x\") return \"none\";\n\t\t\telse {\n\t\t\t\tis_x_in[i % 2] = 1;\n\t\t\t\tif(i % 2 == 0) xrange[0] = max(max(StrToInt(a[i - 1]), StrToInt(a[i + 1])), xrange[0]);\n\t\t\t\telse xrange[1] = min(min(StrToInt(a[i - 1]), StrToInt(a[i + 1])), xrange[1]);\n\t\t\t}\n\t\t} else if(a[i - 1] == \"x\" || a[i + 1] == \"x\") continue;\n\t\telse {\n\t\t\tif(i % 2 == 0 && max(StrToInt(a[i - 1]), StrToInt(a[i + 1])) >= StrToInt(a[i])) return \"none\";\n\t\t\telse if(i % 2 == 1 && min(StrToInt(a[i - 1]), StrToInt(a[i + 1])) <= StrToInt(a[i])) return \"none\";\n\t\t}\n\t}\n\tif(a[n] == \"x\"){\n\t\tif(a[n - 1] != \"x\"){\n\t\t\tif(n % 2 == 0){\n\t\t\t\txrange[0] = max(StrToInt(a[n - 1]), xrange[0]);\n\t\t\t\tis_x_in[0] = 1;\n\t\t\t}\n\t\t\telse{\n\t\t\t\txrange[1] = min(StrToInt(a[n - 1]), xrange[1]);\n\t\t\t\tis_x_in[1] = 1;\n\t\t\t}\n\t\t}\n\t} else {\n\t\tif(a[n - 1] != \"x\"){\n\t\t\tif((n % 2 == 0 && StrToInt(a[n]) <= StrToInt(a[n - 1])) || (n % 2 == 1 && StrToInt(a[n]) >= StrToInt(a[n - 1]))) return \"none\";\n\t\t}\n\t}\n\tif(is_x_in[0] ^ is_x_in[1]) return \"ambiguous\";\n\telse if(!is_x_in[0] && !is_x_in[1]) return \"ambiguous\";\n\telse {\n\t\tif(xrange[1] - xrange[0] > 2) return \"ambiguous\";\n\t\telse if(xrange[1] - xrange[0] == 2) return IntToStr(xrange[1] - 1);\n\t\telse return \"none\";\n\t}\n}\n\nint main()\n{\n\tint n;\n\twhile(1){\n\t\tcin >> n;\n\t\tif(n == 0) break;\n\t\tstring input[1001];\n\t\tfor(int i = 1; i < n + 1; i++){\n\t\t\tcin >> input[i];\n\t\t}\n\t\tcout << solve(input, n) << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 1000000100\n\n#include <iostream>\n#include <cstdio>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n  \nusing namespace std;\n  \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P> PP;\n  \nstatic const double EPS = 1e-8;\n\nint main(){\n  int N;\n  while(~scanf(\"%d\",&N)){\n    if(N == 0) break;\n\n    vector<int> signals;\n    queue<int> unknown;\n\n    for(int i=0; i < N; i++){\n      char signal[12];\n      int num;\n      scanf(\"%s\",signal);\n      if(signal[0] != 'x'){\n        num = atoi(signal);\n      }\n      else{\n        num = INF;\n        unknown.push(i);\n      }\n      signals.push_back(num);\n    }\n    \n    int lower = -INF;\n    int upper = INF;\n\n    while(!unknown.empty()){\n      int idx = unknown.front();\n      unknown.pop();\n      int lhs = idx - 1;\n      int rhs = idx + 1;\n      \n      //even\n      if((idx+1) % 2 == 0){\n        if(idx > 0) {\n          if(signals[lhs] != INF){\n            lower = max(signals[lhs]+1,lower);\n          }\n        }\n        if(signals[rhs] != INF){\n          lower = max(signals[rhs]+1,lower);\n        }\n      }\n      //odd\n      else{\n        if(idx < signals.size() -1){\n          if(signals[rhs] != INF){\n            upper = min(signals[rhs]-1,upper);\n          }\n        }\n        if(signals[lhs] != INF){\n          upper = min(signals[lhs]-1,upper);\n        }\n      }\n    }\n\n    bool is_none = false;\n    for(int i=0;i<signals.size();i++){\n      if(signals[i] == INF) continue;\n\n      int lhs = i - 1;\n      int rhs = i + 1;\n      if(lhs >= 0 && signals[lhs] != INF){\n        if((i + 1) % 2 == 0){\n          if(signals[i] - signals[lhs] < 0){\n            is_none = true;\n            break;\n          }\n        }\n        else{\n          if(signals[i] - signals[lhs] > 0){\n            is_none = true;\n            break;\n          }\n        }\n      }\n      if(rhs < signals.size() && signals[rhs] != INF){\n        if((i + 1) % 2 == 0){\n          if(signals[i] - signals[rhs] < 0){\n            is_none = true;\n            break;\n          }\n        }\n        else{\n          if(signals[i] - signals[rhs] > 0){\n            is_none = true;\n            break;\n          }\n        }\n      }\n    }\n\n    cout << \"upper \" << upper << endl;\n    cout << \"lower \" << lower << endl;\n    if(!is_none && upper - lower > 0){\n      printf(\"ambiguous\\n\");\n    }\n    else if(!is_none && upper == lower){\n      printf(\"%d\\n\",upper);\n    }\n    else if(is_none || upper - lower < 0){\n      printf(\"none\\n\");\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<sstream>\nusing namespace std;\ntypedef long long ll;\n\nconst ll INF = 2*1e9;\n\nll StoLL(string s){\n  if(s==\"x\")return INF+1;\n  stringstream ss(s);\n  ll res;\n  ss >> res;\n  return res;\n}\n\nint main(){\n  ll n,a[1010];\n  string s;\n\n  while(cin >> n, n){\n    bool f = 0;\n    for(int i=0;i<n;i++)cin >> s, a[i] = StoLL(s);\n    \n    for(int i=1;i<n;i++){\n      if(a[i] == a[i-1])f = 1;\n      if(a[i]>INF || a[i-1]>INF)continue;\n      if((i&1)==1 && a[i] < a[i-1])f = 1;\n      if((i&1)==0 && a[i] > a[i-1])f = 1;\n    }\n    \n    if(f){\n      cout << \"none\" << endl;\n      continue;\n    }\n    \n    ll l = -INF, r = INF;\n    for(int i=0;i<n;i++){\n      if(a[i]>INF){\n\tif(i&1){\n\t  if(i)l=max(l,a[i-1]+1);\n\t  if(i+1<n)l=max(l,a[i+1]+1);\n\t}else{\t  \n\t  if(i)r=min(r,a[i-1]-1);\n\t  if(i+1<n)r=min(r,a[i+1]-1);\n\t}\n      }\n    }\n    \n    if(l>r)cout << \"none\" << endl;\n    else if(r-l>0)cout << \"ambiguous\" << endl;\n    else cout << l << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": " \n#include <bits/stdc++.h>\nusing namespace std;\nusing vi=vector<int>;\nusing vvi=vector<vi>;\nusing vs=vector<string>;\nusing msi=map<string,int>;\nusing mii=map<int,int>;\nusing pii=pair<int,int>;\nusing vlai=valarray<int>;\nusing ll=long long;\n#define rep(i,n) for(int i=0;i<n;i++)\n#define range(i,s,n) for(int i=s;i<n;i++)\n#define all(a) a.begin(),a.end()\n#define rall(a) a.rbegin(),a.rend()\n#define fs first\n#define sc second\n#define pb push_back\n#define eb emplace_back\n#define mp make_pair\n#define INF (1e9+10)\n#define EPS 1e-9\n\nint main(){\n\tint n;\n\twhile(cin>>n,n){\n\t    vs s(n);\n\t    rep(i,n)cin>>s[i];\n\t    int mx=INF,mn=-INF;\n\t    for(int i=0;i<n;i++){\n\t        if(s[i]==\"x\"){\n\t            vi tg;\n\t            if(i+1!=n){\n\t                if(s[i+1]==\"x\"){\n\t                    cout<<\"none\"<<endl;\n\t                    goto end;\n\t                }else{\n\t                    if(i%2){\n\t                        mn=max(mn,stoi(s[i+1]));\n\t                    }else{\n\t                        mx=min(mx,stoi(s[i+1]));\n\t                    }\n\t                }\n\t            }\n\t            if(i!=0){\n                    if(i%2){\n                        mn=max(mn,stoi(s[i-1]));\n                    }else{\n                        mx=min(mx,stoi(s[i-1]));\n                    }\n\t            }\n\t        }else if(i+1!=n && s[i+1]!=\"x\"){\n\t            if(i%2){\n\t                if(stoi(s[i+1])<=stoi(s[i])){\n\t                    cout<<\"none\"<<endl;\n\t                    goto end;\n\t                }\n\t            }else{\n                    if(stoi(s[i+1])<=stoi(s[i])){\n\t                    cout<<\"none\"<<endl;\n\t                    goto end;\n\t                }\n\t            }\n\t        }\n\t    }\n\n\t    if(mx-mn-2==0){\n\t        cout<<mn+1<<endl;\n\t    }else if(mx-mn-2>0){\n\t        cout<<\"ambiguous\"<<endl;\n\t    }else{\n\t        cout<<\"none\"<<endl;\n\t    }\n\n\t    end:;\n\t}\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<cstdlib>\n\nusing namespace std;\n\nint main(){\n  for(int N;cin>>N,N;){\n    string s[1234];\n    for(int i=0;i<N;i++){\n      cin>>s[i];\n    }\n    bool f=false;\n    int lt=1e9+9,ht=-1e9+9;\n    for(int i=0;i<N-1;i++){\n      if(s[i][0]=='x'){\n\tif(s[i+1][0]=='x'){\n\t  f=true;\n\t}else{\n\t  if(i%2==0){\n\t    lt=min(lt,stoi(s[i+1]));\n\t  }else{\n\t    ht=max(ht,stoi(s[i+1]));\n\t  }\n\t}\n      }else{\n\tif(s[i+1][0]=='x'){\n\t  if((i+1)%2==0){\n\t    lt=min(lt,stoi(s[i]));\n\t  }else{\n\t    ht=max(ht,stoi(s[i]));\n\t  }\n\t}else{\t      \n\t  if(i%2==0){\n\t    f|=stoi(s[i])>=stoi(s[i+1]);\n\t  }else{\n\t    f|=stoi(s[i])<=stoi(s[i+1]);\n\t  }\n\t}\n      }\n    }\n    if(f||lt-ht<2){\n      cout<<\"none\"<<endl;\n    }else if(lt-ht>2){\n      cout<<\"ambiguous\"<<endl;\n    }else{\n      cout<<lt-1<<endl;\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define LOG(...) fprintf(stderr, __VA_ARGS__)\n//#define LOG(...)\n#define FOR(i, a, b) for (int i = (int)(a); i < (int)(b); ++i)\n#define RFOR(i, a, b) for (int i = (int)(b - 1); i >= (int)(a); --i)\n#define REP(i, n) for (int i = 0; i < (int)(n); ++i)\n#define RREP(i, n) for (int i = (int)(n - 1); i >= 0; --i)\n#define ALL(a) (a).begin(), (a).end()\n#define RALL(a) (a).rbegin(), (a).rend()\n#define EXIST(s, e) ((s).find(e) != (s).end())\n#define SORT(c) sort(ALL(c))\n#define RSORT(c) sort(RALL(c))\n#define SZ(a) ((int)(a).size())\n#define BIT(x, i) (((x) >> (i)) & 1)\n#define SQ(x) ((x) * (x))\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef vector<bool> vb;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\ntypedef vector<vb> vvb;\ntypedef vector<vi> vvi;\ntypedef vector<vll> vvll;\ntypedef vector<char> vc;\ntypedef vector<vc> vvc;\ntypedef vector<string> vs;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\n\nint main() {\n    int n;\n    while (cin >> n, n) {\n        vb broken(n);\n        vi signal(n);\n        REP(i, n) {\n            string s;\n            cin >> s;\n            if (s == \"x\") {\n                broken[i] = true;\n            } else {\n                signal[i] = stoi(s);\n            }\n        }\n        pll range = {10e9, -10e9};\n        REP(i, n-1) {\n            if (!broken[i] && !broken[i+1]) {\n                if (i % 2 == 0) {\n                    if (signal[i] >= signal[i+1]) {\n                        goto NONE;\n                    }\n                } else {\n                    if (signal[i] <= signal[i+1]) {\n                        goto NONE;\n                    }\n                }\n            }\n            if (broken[i]) {\n                if (broken[i+1]) goto NONE;\n                if (i % 2 == 0) {\n                    if (range.first >= signal[i+1]) {\n                        range.first = signal[i+1]-1;\n                    }\n                } else {\n                    if (range.second <= signal[i+1]) {\n                        range.second = signal[i+1]+1;\n                    }\n                }\n            }\n            if (broken[i+1]) {\n                if (broken[i]) goto NONE;\n                if (i % 2 == 0) {\n                    if (range.second <= signal[i]) {\n                        range.second = signal[i]+1;\n                    }\n                } else {\n                    if (range.first >= signal[i]) {\n                        range.first = signal[i]-1;\n                    }\n                }\n            }\n        }\n        if (range.first == range.second) {\n            cout << range.first << endl;\n        } else {\n            if (range.first > range.second) {\n                cout << \"ambiguous\" << endl;\n            } else {\n                goto NONE;\n            }\n        }\n        goto END;\nNONE:\n        cout << \"none\" << endl;\nEND: {}\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <vector>\n#include <set>\n#include <map>\n#include <queue>\n#include <deque>\n#include <stack>\n#include <algorithm>\n#include <cstring>\n#include <functional>\n#include <cmath>\nusing namespace std;\n#define rep(i,n) for(int i=0;i<(n);++i)\n#define rep1(i,n) for(int i=1;i<=(n);++i)\n#define all(c) (c).begin(),(c).end()\n#define fs first\n#define sc second\n#define pb push_back\n#define show(x) cout << #x << \" \" << x << endl\nint n,a[1000];\nstring solve(){\n\trep(i,n){\n\t\tstring s;\n\t\tcin>>s;\n\t\tif(s[0]=='x') a[i]=-1;\n\t\telse a[i]=stoi(s);\n\t}\n\trep(i,n-1){\n\t\tif(a[i]==-1&&a[i+1]==-1) return \"none\";\n\t}\n\tint ub=1e9,lb=-1e9;\n\trep(i,n){\n\t\tif(a[i]==-1){\n\t\t\tif(i>0){\n\t\t\t\tif(i%2==0) lb=max(lb,a[i-1]+1);\n\t\t\t\telse ub=min(ub,a[i-1]-1);\n\t\t\t}\n\t\t\tif(i<n-1){\n\t\t\t\tif(i%2==0) lb=max(lb,a[i+1]+1);\n\t\t\t\telse ub=min(ub,a[i+1]-1);\n\t\t\t}\n\t\t}\n\t}\n\tif(ub<lb) return \"none\";\n\tif(ub==lb) return to_string(ub);\n\treturn \"ambiguous\";\n}\nint main(){\n\twhile(true){\n\t\tcin>>n;\n\t\tif(n==0) break;\n\t\tcout<<solve()<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nconst char* str[] = {\"none\", \"ambiguous\"};\n\nint n;\nint a[1000];\nbool f[1000];\n\nvoid solve()\n{\n\tfor (int i = 0; i < n; i++){\n\t\tif (i % 2 == 0){\n\t\t\tif (i > 0){\n\t\t\t\tif (a[i] >= a[i - 1]){\n\t\t\t\t\tputs(str[0]);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (i < n - 1){\n\t\t\t\tif (a[i] >= a[i + 1]){\n\t\t\t\t\tputs(str[0]);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif (i > 0){\n\t\t\t\tif (a[i] <= a[i - 1]){\n\t\t\t\t\tputs(str[0]);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (i < n - 1){\n\t\t\t\tif (a[i] <= a[i + 1]){\n\t\t\t\t\tputs(str[0]);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tbool ff = false;\n\tfor (int i = 0; i < n - 1; i++){\n\t\tff |= f[i];\n\t\tif (f[i] & f[i + 1]){\n\t\t\tputs(str[0]);\n\t\t\treturn;\n\t\t}\n\t}\n\tff |= f[n - 1];\n\tif (!ff){\n\t\tputs(str[1]);\n\t\treturn;\n\t}\n\t\n\tint low = -1e9 - 5;\n\tint high = 1e9 + 5;\n\t\n\tfor (int i = 0; i < n; i++){\n\t\tif (!f[i]) continue;\n\t\tif (i % 2 == 0){\n\t\t\tif (i > 0) high = min(high, a[i - 1] - 1);\n\t\t\tif (i < n - 1) high = min(high, a[i + 1] - 1);\n\t\t}\n\t\telse {\n\t\t\tif (i > 0) low = max(low, a[i - 1] + 1);\n\t\t\tif (i < n - 1) low = max(low, a[i + 1] + 1);\n\t\t}\n\t}\n\t\n\t//printf(\"%d %d\\n\", low, high);\n\tif (low == high) printf(\"%d\\n\", low);\n\telse if (low > high) puts(str[0]);\n\telse puts(str[1]);\n}\n\nint main()\n{\n\twhile (scanf(\"%d\", &n), n){\n\t\tmemset(a, 0, sizeof(a));\n\t\tmemset(f, 0, sizeof(f));\n\t\t\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tstring str;\n\t\t\tcin >> str;\n\t\t\tif (str == \"x\"){\n\t\t\t\tf[i] = true;\n\t\t\t\tif (i % 2 == 0){\n\t\t\t\t\ta[i] = -1e9 - 1;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\ta[i] = 1e9 + 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse a[i] = atoi(str.c_str());\n\t\t}\n\t\t\n\t\tsolve();\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nconst int MIN = -(int)1e9;\nconst int MAX = (int)1e9;\nconst int X = MAX + 1;\n\nint main() {\n  int n;\n  while (cin >> n, n) {\n    vector<int> a(n + 2);\n    for (int i = 0; i < n; i++) {\n      string s;\n      cin >> s;\n      a[i + 1] = s.front() == 'x' ? X : stoi(s);\n    }\n    a[0] = MAX + 3;\n    a[n + 1] = (n + 1) % 2 ? MIN - 3 : MAX + 3;\n    int bot = MIN - 2, top = MAX + 3;\n    for (int i = 0; i < n; i++) {\n      if (a[i + 1] == X) {\n        if (a[i + 2] == X) {\n          bot = top;\n        } else {\n          if ((i + 1) % 2) {\n            top = min(top, min(a[i], a[i + 2]));\n          } else {\n            bot = max(bot, max(a[i], a[i + 2]) + 1);\n          }\n        }\n      } else {\n        if (a[i + 2] != X) {\n          if ((i + 1) % 2) {\n            if (a[i + 1] >= a[i + 2]) {\n              bot = top;\n            }\n          } else {\n            if (a[i + 1] <= a[i + 2]) {\n              bot = top;\n            }\n          }\n        }\n      }\n    }\n    if (top - bot == 1) {\n      cout << bot << endl;\n    } else {\n      cout << (top - bot > 1 ? \"ambiguous\" : \"none\") << endl;\n    }\n  }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define r(i,n) for(int i=0;i<n;i++)\n#define R(i,a,n) for(int i=a;i<n;i++)\n#define int long long\n main(){\n  int n;\n  while(cin>>n,n){\n  int a[n],c=0,pp;;\n  vector<int>p;\n  vector<int>q;\n  r(i,n){\n    string t;\n    cin>>t;\n    if(t==\"x\")p.push_back(i);\n    else{\n      stringstream ss(t);\n      int re;ss>>re;\n      a[i]=re;\n      q.push_back(re+1);\n      q.push_back(re-1);\n      q.push_back(re+2);\n      q.push_back(re-2);\n    }\n  }\n  r(i,q.size()){\n    int cc=0;\n    r(j,p.size())a[p[j]]=q[i];\n    if(a[0]<a[1]){\n      r(k,n-1){\n        if(k%2==0){if(a[k]>=a[k+1])cc++;}\n        else{if(a[k]<=a[k+1])cc++;}\n      }\n    }\n    else continue;\n      //cout<<cc<<endl;\n    //cout<<q[i]<<endl;\n    if(c&&cc==0&&pp!=q[i])goto A;\n    if(cc==0)c++,pp=q[i];\n  }\n  if(c)cout<<pp<<endl;\n  else cout<<\"none\"<<endl;\n  if(0)A:cout<<\"ambiguous\"<<endl;\n}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<vector>\n#include<cstdio>\n#include<sstream>\n#include<algorithm>\n#include<cmath>\n#include<map>\n#include<functional>\nusing namespace std;\nint stoi(string x){stringstream ss;ss<<x;int tmp;ss>>tmp;return tmp;}\nstring itos(int x){stringstream ss;ss<<x;return ss.str();}\nconst int INF=1111111111;\nint main(){\nint n;\nwhile(cin>>n,n){\n\tint a=-INF,b=INF;\n\tbool none_flag=0,void_flag=1,ok=1;\n\tvector<int>ta(0);\n\tfor(int i=0;i<n;i++){\n\t\tstring tmp;\n\t\tcin>>tmp;\n\t\tif(tmp==\"x\")ta.push_back(INF);\n\t\telse ta.push_back( stoi(tmp) );\n\t}\n\tfor(int i=1;i<n;i++){\n\tif(ta[i]==INF&&ta[i-1]==INF)none_flag=1;\n\tif(ta[i]==INF)void_flag=0;\n\t}\n\tif(ta[0]==INF)void_flag=0;\n\t\n\tfor(int i=0;i<n;i++){\n\t\tif(ta[i]==INF){\n\t\t\tint xa,xb;\n\t\t\tif((i+1)%2==0){//?????°\n\t\t\tif(i==0)xa=ta[1],xb=-INF;\n\t\t\telse if(i==n-1)xa=ta[n-2],xb=-INF;\n\t\t\telse xa=ta[i-1],xb=ta[i+1];\n\t\t\ta=max( a,max(xa,xb) );\n\t\t\t}\n\t\t\telse {\n\t\t\tif(i==0)xa=ta[1],xb=INF;\n\t\t\telse if(i==n-1)xa=ta[n-2],xb=INF;\n\t\t\telse xa=ta[i-1],xb=ta[i+1];\n\t\t\tb=min(b,min(xa,xb));\n\t\t\t}//endelse\n\t\t\t\n\t\t}//endif\n\t}//endfor\n\tfor(int i=0;i<n;i++){\n\tif((i+1)%2==1){//?\\???°\n\tif(i==0&&ta[i+1]<=ta[i])ok=0;\n\t\telse if(i==0){}\n\telse if(i==n-1&&ta[n-2]<=ta[i])ok=0;\n\t\telse if(i==n-1){}\n\telse if(ta[i-1]<=ta[i]||ta[i+1]<=ta[i])ok=0;\n\t}\n\telse {\n\tif(i==0&&ta[i+1]>=ta[i])ok=0;\n\t\telse if(i==0){}\n\tif(i==n-1&&ta[n-2]>=ta[n-1]){ok=0;}\n\telse if(i==n-1){}\n\telse if(ta[i-1]>=ta[i]||ta[i+1]>=ta[i])ok=0;\n\t}\n\t}\n\t//cout<<a<<\" \"<<b<<none_flag<<\" \"<<void_flag<<endl;\n\tif(none_flag)cout<<\"none\"<<endl;\n\telse if(void_flag&&ok)cout<<\"ambiguous\"<<endl;\n\telse if(void_flag&&ok==0)cout<<\"none\"<<endl;\n\telse {\n\tint cnt=0;\n\tfor(int i=a+1;i<b;i++)cnt++;\n\tif(cnt==0)cout<<\"none\"<<endl;\n\telse if(cnt==1)cout<<a+1<<endl;\n\telse if(cnt>=2)cout<<\"ambiguous\"<<endl;\n\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<vector>\n#include<cstdio>\n#include<sstream>\n#include<algorithm>\n#include<cmath>\n#include<map>\n#include<functional>\nusing namespace std;\nint stoi(string x){stringstream ss;ss<<x;int tmp;ss>>tmp;return tmp;}\nstring itos(int x){stringstream ss;ss<<x;return ss.str();}\nconst int INF=1111111111;\nint main(){\nint n;\nwhile(cin>>n,n){\n\tint a=-INF,b=INF;\n\tbool none_flag=0,void_flag=1,ok=1;\n\tvector<int>ta(0);\n\tfor(int i=0;i<n;i++){\n\t\tstring tmp;\n\t\tcin>>tmp;\n\t\tif(tmp==\"x\")ta.push_back(INF);\n\t\telse ta.push_back( stoi(tmp) );\n\t}\n\tfor(int i=1;i<n;i++){\n\tif(ta[i]==INF&&ta[i-1]==INF)none_flag=1;\n\tif(ta[i]==INF)void_flag=0;\n\t}\n\tif(ta[0]==INF)void_flag=0;\n\t\n\tfor(int i=0;i<n;i++){\n\t\tif(ta[i]==INF){\n\t\t\tint xa,xb;\n\t\t\tif((i+1)%2==0){//?????°\n\t\t\tif(i==0)xa=ta[1],xb=-INF;\n\t\t\telse if(i==n-1)xa=ta[n-2],xb=-INF;\n\t\t\telse xa=ta[i-1],xb=ta[i+1];\n\t\t\ta=max( a,max(xa,xb) );\n\t\t\t}\n\t\t\telse {\n\t\t\tif(i==0)xa=ta[1],xb=INF;\n\t\t\telse if(i==n-1)xa=ta[n-2],xb=INF;\n\t\t\telse xa=ta[i-1],xb=ta[i+1];\n\t\t\tb=min(b,min(xa,xb));\n\t\t\t}//endelse\n\t\t\t\n\t\t}//endif\n\t}//endfor\n\tfor(int i=0;i<n;i++){\n\tif((i+1)%2==1){//?\\???°\n\tif(i==0&&ta[i+1]<=ta[i])ok=0;\n\t\telse if(i==0){}\n\telse if(i==n-1&&ta[n-2]<=ta[i])ok=0;\n\t\telse if(i==n-1){}\n\telse if(ta[i-1]<=ta[i]||ta[i+1]<=ta[i])ok=0;\n\t}\n\telse {\n\tif(i==0&&ta[i+1]>=ta[i])ok=0;\n\t\telse if(i==0){}\n\tif(i==n-1&&ta[n-2]>=ta[n-1]){ok=0;}\n\telse if(i==n-1){}\n\telse if(ta[i-1]>=ta[i]||ta[i+1]>=ta[i])ok=0;\n\t}\n\t}\n\t//cout<<a<<\" \"<<b<<endl;\n\tif(none_flag)cout<<\"none\"<<endl;\n\telse if(void_flag&&ok)cout<<\"ambiguous\"<<endl;\n\telse if(void_flag&&ok==0)cout<<\"none\"<<endl;\n\telse {\n\tif( b<a || b-a<=1 )cout<<\"none\"<<endl;\n\telse if(b-a>2)cout<<\"ambiguous\"<<endl;\n\telse cout<<a+1<<endl;\n\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <cmath>\n#include <algorithm>\n#include <cstdlib>\n#include <ctime>\n#include <cstdio>\n#include <functional>\n#include <set>\n#include <sstream>\n#include <map>\n#include <queue>\n#include <stack>\n\nusing namespace std;\n\nconst long long X=10000000000;\n\nint main()\n{\n\tint n;\n\twhile(cin>>n,n){\n\n\t\tvector<long long> d(n,X);\n\t\tfor(int i=0;i<n;i++){\n\t\t\tstring s;\n\t\t\tcin>>s;\n\t\t\tif(s!=\"x\"){\n\t\t\t\tstringstream ss;\n\t\t\t\tss<<s;\n\t\t\t\tss>>d[i];\n\t\t\t}\n\t\t}\n\n\t\tbool none=false;\n\n\t\tfor(int i=0;i<n-1;i++){\n\t\t\tif(d[i]==d[i+1]) none=true;\n\t\t\telse if(d[i]!=X && d[i+1]!=X && (i%2==0 && d[i]>d[i+1] || i%2 && d[i]<d[i+1])) none=true;\n\t\t}\n\n\t\tlong long L=-10000000000,R=10000000000;\n\t\tvector<long long> left,right;\n\n\t\tif(d[0]==X) right.push_back(d[1]-1);\n\t\tfor(int i=1;i<n-1;i++){\n\n//\t\t\tcout<<\"[\"<<L<<\",\"<<R<<\"]\"<<endl;\n\n\t\t\tif(d[i]==X){\n\t\t\t\tif(i%2==0){ \n\t\t\t\t\tright.push_back(min(d[i-1],d[i+1])-1);\n\t\t\t\t}else{\n\t\t\t\t\tleft.push_back(max(d[i-1],d[i+1])+1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif(d[n-1]==X){\n\t\t\tif(n%2){\n\t\t\t\tright.push_back(d[n-2]-1);\n\t\t\t}else{\n\t\t\t\tleft.push_back(d[n-2]+1);\n\t\t\t}\n\t\t}\n\n\t\tfor(int i=0;i<right.size();i++){\n\t\t\tif(L<=right[i] && right[i]<=R) R=right[i];\n\t\t\telse none=true;\n\t\t}\n\t\tfor(int i=0;i<left.size();i++){\n\t\t\tif(L<=left[i] && left[i]<=R) L=left[i];\n\t\t\telse none=true;\n\t\t}\n\n\t\tif(none) cout<<\"none\"<<endl;\n\t\telse if(L==R) cout<<L<<endl;\n\t\telse cout<<\"ambiguous\"<<endl;\n\n\t}\n\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\nusing namespace std;\n\nint main(){\n    int N;\n    while(cin>>N,N){\n        vector<int> A(N);\n        for(auto &a:A){\n            string s;\n            cin>>s;\n            if(s==\"x\"){\n                a=2000000000;\n            }else{\n                a=stoi(s);\n            }\n        }\n        int up=1000000100;\n        int lo=-1000000100;\n        for(int i=0;i<N;i++){\n            if(A[i]==2000000000){\n                if(i%2==0){\n                    if(i-1>=0) up=min(up,A[i-1]);\n                    if(i+1<N) up=min(up,A[i+1]);\n                }else{\n                    if(i-1>=0) lo=max(lo,A[i-1]);\n                    if(i+1<N) lo=max(lo,A[i+1]);\n                }\n            }else{\n                if(i%2==0){\n                    if(i-1>=0&&A[i-1]!=2000000000&&A[i]>=A[i-1]){\n                        lo=1000000100;\n                        up=-1000000100;\n                        // cout<<'A'<<endl;\n                        break;\n                    }\n                    if(i+1<N&&A[i+1]!=2000000000&&A[i]>=A[i+1]){\n                        lo=1000000100;\n                        up=-1000000100;\n                        // cout<<'B'<<endl;\n                        break;\n                    }\n                }else{\n                    if(i-1>=0&&A[i-1]!=2000000000&&A[i]<=A[i-1]){\n                        lo=1000000100;\n                        up=-1000000100;\n                        // cout<<'C'<<endl;\n                        break;\n                    }\n                    if(i+1<N&&A[i+1]!=2000000000&&A[i]<=A[i+1]){\n                        lo=1000000100;\n                        up=-1000000100;\n                        // cout<<'D'<<endl;\n                        break;\n                    }\n                }\n            }\n        }\n        // cout<<up<<' '<<lo<<endl;\n        if(up-lo<2){\n            cout<<\"none\"<<endl;\n        }else if(up-lo==2){\n            cout<<lo+1<<endl;\n        }else{\n            cout<<\"ambiguous\"<<endl;\n        }\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <stack>\n#include <queue>\n#include <map>\n#include <cmath>\n#include <string>\n#include <sstream>\n#include <iomanip>\n#include <complex>\nusing namespace std;\n\n#define ll long long\n#define vvi vector< vector<int> >\n#define vi vector<int>\n#define All(X) X.begin(),X.end()\n#define FOR(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define REP(i,n) for(int i=0;i<(int)(n);i++)\n#define pb push_back\n#define pii pair<int,int>\n#define mp make_pair\n#define pi 3.14159265359\n#define shosu(X) fixed << setprecision(X)\nll gcd(ll a,ll b){return b?gcd(b,a%b):a;}\nll lcm(ll a,ll b){return a/gcd(a,b)*b;}\n\nint main(){\n\twhile(1){\n\t\tint n;\n\t\tcin >> n;\n\t\tif(n==0) break;\n\t\tint xcnt = 0;\n\t\tint data[1001];\n\t\tint lastxpos = -1;\n\t\tREP(i,n){\n\t\t\tstring s;\n\t\t\tcin >> s;\n\t\t\tif(s==\"x\"){\n\t\t\t\txcnt++;\n\t\t\t\tif(lastxpos==i-1){//x 2??£?¶????????????????????????¨\n\t\t\t\t\txcnt = n;\n\t\t\t\t}\n\t\t\t\tlastxpos = i;\n\t\t\t\tdata[i]=-1;\n\t\t\t}else{\n\t\t\t\tdata[i]=stoi(s);\n\t\t\t}\n\t\t}\n\t\tif(xcnt>=n){//2??£?¶????????????§?????£?????????\n\t\t\tcout << \"none\" << endl;\n\t\t}else{\n\t\t\tbool is_mujun = false;\n\t\t\tint minx=-1,maxx=-1;\n\t\t\tREP(i,n){\n\t\t\t\tif(i==0){\n\t\t\t\t\tif(data[0]==-1) maxx = data[1]-1;\n\t\t\t\t\telse if(data[1]!=-1&&data[0]>=data[1]) is_mujun = true;\n\t\t\t\t}else if(i==n-1){\n\t\t\t\t\tif(data[n-1]==-1){\n\t\t\t\t\t\tif((n+1)%2==0){\n\t\t\t\t\t\t\tmaxx = data[n-2]-1;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tminx = data[n-2]+1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif((n+1)%2==0){\n\t\t\t\t\t\t\tif(data[n-2]!=-1&&data[n-1]>=data[n-2]) is_mujun = true;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tif(data[n-2]!=-1&&data[n-1]<=data[n-2]) is_mujun = true;\n\t\t\t\t\t\t}\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(data[i]==-1){\n\t\t\t\t\t\tif((i+1)%2==0){\n\t\t\t\t\t\t\tminx = max(data[i-1],data[i+1])+1;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tmaxx = min(data[i-1],data[i+1])-1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif((i+1)%2==0){\n\t\t\t\t\t\t\tif(data[i-1]!=-1&&(data[i]<=data[i-1])) is_mujun = true;\n\t\t\t\t\t\t\tif(data[i+1]!=-1&&(data[i]>=data[i+1])) is_mujun = true;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tif(data[i-1]!=-1&&(data[i]<=data[i-1])) is_mujun = true;\n\t\t\t\t\t\t\tif(data[i+1]!=-1&&(data[i]>=data[i+1])) is_mujun = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(minx!=-1&&maxx!=-1&&minx-maxx>0) is_mujun = true;\n\n\t\t\t}\n\t\t\tif(xcnt==0){\n\t\t\t\tif(is_mujun) cout << \"none\" << endl;\n\t\t\t\telse cout << \"ambigious\" << endl;\t\t\t\t\n\t\t\t}else{\n\t\t\t\tif(is_mujun) cout << \"none\" << endl;\n\t\t\t\telse{\n\t\t\t\t\tif(maxx==minx) cout << maxx << endl;\n\t\t\t\t\telse cout << \"ambigious\" << endl;\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <string>\nusing namespace std;\n\nint main(){\n    while(1){\n        int n;\n        cin >> n;\n        if(n==0) break;\n\n        vector<int> signal(n+2);\n        vector<bool> broken(n+2, false);\n        for(int i=1; i<=n; i++){\n            string str;\n            cin >> str;\n            if(str == \"x\"){\n                broken[i] = true;\n            }else{\n                signal[i] = stoi(str);\n            }\n        }\n        signal[0] = 1e9+10;\n        signal[n+1] = (n%2==0)? -(1e9+10) :1e9+10;\n\n        int upper = 1e9+10, lower = -(1e9+10);\n        bool none = false;\n        for(int i=1; i<=n; i++){\n            if(broken[i]){\n                if(broken[i-1] || broken[i+1]){\n                    none = true;\n                    break;\n                }\n                if(i%2==0){\n                    lower = max(lower, max(signal[i-1], signal[i+1])+1);\n                }else{\n                    upper = min(upper, min(signal[i-1], signal[i+1])-1);\n                }\n            }else{\n                if(i%2==0){\n                    if((!broken[i-1] && signal[i] < signal[i-1]) ||\n                       (!broken[i+1] && signal[i] < signal[i+1])){\n                        none = true;\n                    }\n                }else{\n                    if((!broken[i-1] && signal[i] > signal[i-1]) ||\n                       (!broken[i+1] && signal[i] > signal[i+1])){\n                        none = true;\n                    }\n                }\n            }\n        }\n\n        if(lower > upper) none = true;\n        if(none){\n            cout << \"none\" << endl;\n        }else if(lower == upper){\n            cout << lower << endl;\n        }else{\n            cout <<  \"ambiguous\" << endl;\n        }\n\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cctype>\n#include <climits>\n#include <cmath>\n#include <complex>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <ctime>\n#include <deque>\n#include <functional>\n#include <iostream>\n#include <list>\n#include <map>\n#include <memory>\n#include <numeric>\n#include <queue>\n#include <set>\n#include <stack>\n#include <string>\n#include <utility>\n#include <vector>\nusing namespace std;\n\n#define EPS 1e-10\n#define INF 1000000005\n#define mp make_pair\n#define pb push_back\n\ntypedef vector<int> vi;\ntypedef vector<vi> vii;\ntypedef pair<int,int> pii;\ntypedef long long ll;\n\nll parseInt(string str) {\n  ll rep;\n  bool isNegative = false;\n  if (str[0] == '-') {\n    isNegative = true;\n    str = str.substr(1);\n  }\n  rep = str[0] - '0';\n  for (int i = 1; i < str.size(); i++) {\n    int num = str[i] - '0';\n    rep = rep * 10 + num;\n  }\n  if (isNegative) {\n    rep *= -1;\n  }\n  return rep;\n}\n\nvoid solve(vector<string> signals) {\n  ll floor = -1 * INF, ceiling = INF;\n  for (int i = 1; i < signals.size(); i++) {\n    string signal = signals[i], prev = signals[i-1];\n    if (signal == \"x\") {\n      if (prev == \"x\") { // xx\n        cout << \"none\" << endl;\n        return;\n      } else { // ?x\n        ll ll_prev = parseInt(prev);\n        if (i % 2 == 0) { // even\n          floor = max(floor, ll_prev + 1);\n        } else { // odd\n          ceiling = min(ceiling, ll_prev - 1);\n        }\n      }\n    } else {\n      if (prev == \"x\") { // x?\n        ll ll_signal = parseInt(signal);\n        if (i % 2 == 0) { // even\n          ceiling = min(ceiling, ll_signal - 1);\n        } else { // odd\n          floor = max(floor, ll_signal + 1);\n        }\n      } else { // ??\n        ll ll_signal = parseInt(signal),\n           ll_prev   = parseInt(prev);\n        if ((i % 2 == 0 && ll_prev >= ll_signal) || (i % 2 == 1 && ll_prev <= ll_signal)) {\n          cout << \"none\" << endl;\n          return;\n        }\n        continue;\n      }\n    }\n  }\n\n  if (floor == ceiling) {\n    cout << floor << endl;\n  } else if (floor < ceiling) {\n    cout << \"ambiguous\" << endl;\n  } else {\n    cout << \"none\" << endl;\n  }\n}\n\nint main() {\n  while (1) {\n    int N;\n    cin >> N;\n    if (N == 0) {\n      break;\n    }\n    vector<string> signals(N+1);\n    signals[0] = \"1000000005\";\n    for (int i = 1; i <= N; i++) {\n      cin >> signals[i];\n    }\n    solve(signals);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\n#define int long long\n\ntypedef pair<int,int>pint;\ntypedef vector<int>vint;\n#define pb push_back\n#define mp make_pair\n#define rep(i,n) for(int i=0;i<(n);i++)\ntemplate<class T,class U>void chmin(T &t,U f){if(t>f)t=f;}\ntemplate<class T,class U>void chmax(T &t,U f){if(t<f)t=f;}\nint toint(string &s){stringstream ss(s);int ret;ss>>ret;return ret;}\nstring tostring(int d){stringstream ss;ss<<d;return ss.str();}\n\n\nconst int X=-1;\n\nint get(){\n    string str;\n    cin>>str;\n    if(str==\"x\")return X;\n    return toint(str);\n}\n\nstring solve(vint &v){\n    bool none=false;\n    int N=v.size();\n    rep(i,N-1){\n        if(v[i]==X&&v[i+1]==X)none=true;\n\n        if(v[i]==X)continue;\n        if(v[i+1]==X)continue;\n\n        if(i&1){\n            if(v[i]<=v[i+1])none=true;\n        }\n        else{\n            if(v[i]>=v[i+1])none=true;\n        }\n    }\n\n    if(none)return \"none\";\n\n    int l=-1000000000-10,u=1000000000+10;\n\n    rep(i,N){\n        if(v[i]!=X)continue;\n\n        if(i&1){\n            if(i)l=max(l,v[i-1]+1);\n            if(i<N-1)l=max(l,v[i+1]+1);\n        }\n        else{\n            if(i)u=min(u,v[i-1]-1);\n            if(i<N-1)u=min(u,v[i+1]-1);\n        }\n    }\n\n    if(l==u)return tostring(l);\n    if(l>u)return \"none\";\n    return \"ambiguous\";\n}\n\nsigned main(){\n    int N;\n    while(cin>>N,N){\n        vint vec(N);\n        rep(i,N)vec[i]=get();\n        cout<<solve(vec)<<endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nint main(){\n\n    while(1){\n        int n; cin >> n;\n        if(!n) break;\n\n        string a[1002];\n        int b[1002];\n        for(int i = 0; i < n; i++){\n            cin >> a[i];\n            if(a[i][0] != 'x') b[i] = stoi(a[i]);\n        }\n\n        int u = 1000000002;\n        int d = -1000000002;\n\n        bool flag = true;\n        \n        //ｘ二個並んでないかのチェック\n        for(int i = 0; i < n - 1; i++){\n            if(a[i][0] == 'x' && a[i + 1][0] == 'x'){\n                flag = false;\n                break;\n            }\n        }\n\n        if(!flag){\n            cout << \"none\" << endl;\n            continue;\n        }\n\n        for(int i = 0; i < n; i++){\n            if(i == 0){\n                if(a[0][0] == 'x') u = b[1] - 1;\n                else{\n                    if(a[1][0] != 'x'){\n                        if(b[1] < b[0]){\n                            //cout << a[1] << endl;\n                            flag = false;\n                            break;\n                        }\n                    }\n                }\n            }else if(i == n - 1){\n                if(a[i][0] == 'x'){\n                    if(i % 2 == 0){\n                        u = min(u + 1, b[i - 1]) - 1;\n                    }else{\n                        //cout << 3 << endl;\n                        d = max(d - 1, b[i - 1]) + 1;\n                    }\n                }else{\n                    if(i % 2 == 0 && b[i] > b[i - 1]){\n                        flag = false;\n                        break;\n                    }else if(i % 2 == 1 && b[i] < b[i - 1]){\n                        flag = false;\n                        break;\n                    }\n                }\n            }else{\n\n                if(a[i][0] == 'x'){\n\n                    if(i % 2 == 0) u = min(u + 1, min(b[i - 1], b[i + 1])) - 1;\n                    else d = max(d - 1, max(b[i - 1], b[i + 1])) + 1;\n                }else{\n\n                    if(i % 2 == 0){\n                        if(a[i - 1][0] != 'x' && b[i - 1] < b[i]){\n                            flag = false;\n                            break;\n                        }\n                        if(a[i + 1][0] != 'x' && b[i + 1] < b[i]){\n                            flag = false;\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n\n        //cout << u << \" \" << d << endl;\n        if(!flag || u < d) cout << \"none\" << endl;\n        else if(u == d) cout << u << endl;\n        else cout << \"ambiguous\" << endl;\n    }\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ninline int toInt(string s) {int v; istringstream sin(s);sin>>v;return v;}\ntemplate<class T> inline string toString(T x) {ostringstream sout;sout<<x;return sout.str();}\ntemplate<class T> inline T sqr(T x) {return x*x;}\n\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<string> vs;\ntypedef pair<int, int> pii;\ntypedef long long ll;\n\n#define all(a)  (a).begin(),(a).end()\n#define rall(a) (a).rbegin(), (a).rend()\n#define pb push_back\n#define mp make_pair\n#define each(i,c) for(typeof((c).begin()) i=(c).begin(); i!=(c).end(); ++i)\n#define exist(s,e) ((s).find(e)!=(s).end())\n#define range(i,a,b) for(int i=(a);i<(b);++i)\n#define rep(i,n)  range(i,0,n)\n#define clr(a,b) memset((a), (b) ,sizeof(a))\n#define dump(x)  cerr << #x << \" = \" << (x) << endl;\n#define debug(x) cerr << #x << \" = \" << (x) << \" (L\" << __LINE__ << \")\" << \" \" << __FILE__ << endl;\n\nconst double eps = 1e-10;\nconst double pi  = acos(-1.0);\nconst ll INF =1LL << 62;\nconst int inf =1 << 30;\n\nstring in[1010];\n\nint main(void){\n\tint n;\n\twhile(cin >> n){\n\t\tif(n==0)\n\t\t\tbreak;\n\t\tint cmin=-inf,cmax=inf;\n\t\tbool ok=true;\n\t\trep(i,n) cin >> in[i];\n\n\t\trep(i,n-1){\n\t\t\tif(in[i]==\"x\"&&in[i+1]==\"x\"){\n\t\t\t\tok=false;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif(in[i]==\"x\"){\n\t\t\t\tint cur=stoi(in[i+1]);\n\t\t\t\tif(i&1)\n\t\t\t\t\tcmin=max(cmin,cur+1);\n\t\t\t\telse\n\t\t\t\t\tcmax=min(cmax,cur-1);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif(in[i+1]==\"x\"){\n\t\t\t\tint cur=stoi(in[i]);\n\t\t\t\tif(i&1)\n\t\t\t\t\tcmax=min(cmax,cur-1);\n\t\t\t\telse\n\t\t\t\t\tcmin=max(cmin,cur+1);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tint cur1=stoi(in[i]);\n\t\t\tint cur2=stoi(in[i+1]);\n\t\t\tif(i&1){\n\t\t\t\tif(cur1<cur2) ok=false;\n\t\t\t}else{\n\t\t\t\tif(cur1>cur2) ok=false;\n\t\t\t}\n \t\t}\n\n\t\tif(!ok)\n\t\t\tputs(\"none\");\n\t\telse if(cmin==cmax)\n\t\t\tcout << cmin << endl;\n\t\telse if(cmin<cmax)\n\t\t\tputs(\"ambiguous\");\n\t\telse\n\t\t\tputs(\"none\");\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <string>\n#include <sstream>\n#include <cstdlib>\nusing namespace std;\n\ntypedef int INT;\n#define int long long\n\nint const X=-11111111111111LL;\n\nint read(){\n    string s;cin>>s;\n    if(s==\"x\")return X;\n    else{\n        stringstream ss(s);\n        int t;ss>>t;\n        return t;\n    }\n}\n\nstring solve(vector<int> v){\n    int N=v.size();\n    bool none = false;\n    for(int i=1;i<N;i++){\n        if(v[i]==X && v[i-1]==X){\n            none=true;\n        }\n        if(v[i-1]==X) continue;\n        if(v[i]==X) continue;\n        if(i%2==0){\n            if(!(v[i-1]>v[i]))none=true;\n        }else{\n            if(!(v[i-1]<v[i]))none=true;\n        }\n        if(none)break;\n    }\n    if(none)return \"none\";\n\n    int r =  1000000000+10;\n    int l = -1000000000-10;\n    for(int i=0;i<N;i++){\n        if(v[i]!=X) continue;\n        if(i%2==0){\n            if(i>0)   r=min(r,v[i-1]-1);\n            if(i<N-1) r=min(r,v[i+1]-1);\n        }else{\n            if(i>0)   l=max(l,v[i-1]+1);\n            if(i<N-1) l=max(l,v[i+1]+1);\n        }\n    }\n    if(l==r){ return [](int l){\n            stringstream ss;\n            ss << l;\n            return ss.str();\n        }(l);\n    }\n    else if(l > r) return \"none\";\n    else return \"ambiguous\";\n}\n\nINT main() {\n    int N;\n    while(cin>>N && N){\n        vector<int> v(N);\n        for(int i=0;i<N;i++)v[i]=read();\n        cout << solve(v) << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define syosu(x) fixed<<setprecision(x)\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned int uint;\ntypedef unsigned long long ull;\ntypedef pair<int,int> P;\ntypedef pair<double,double> pdd;\ntypedef pair<ll,ll> pll;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<double> vd;\ntypedef vector<vd> vvd;\ntypedef vector<ll> vl;\ntypedef vector<vl> vvl;\ntypedef vector<string> vs;\ntypedef vector<P> vp;\ntypedef vector<vp> vvp;\ntypedef vector<pll> vpll;\ntypedef pair<int,P> pip;\ntypedef vector<pip> vip;\nconst int inf=1<<30;\nconst ll INF=1ll<<60;\nconst double pi=acos(-1);\nconst double eps=1e-11;\nconst ll mod=1e9+7;\nconst int dx[4]={-1,0,1,0},dy[4]={0,-1,0,1};\n\nint main(){\n\tios::sync_with_stdio(0);\n\tcin.tie(0);\n\twhile(1){\n\t\tint n;\n\t\tcin>>n;\n\t\tif(n==0) break;\n\t\tvi a(n,inf);\n\t\tfor(int i=0;i<n;i++){\n\t\t\tstring s;\n\t\t\tcin>>s;\n\t\t\tif(s!=\"x\") a[i]=atoi(s.c_str());\n\t\t}\n\t\tint l=-inf,r=inf;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tif(a[i]==inf){\n\t\t\tif(i+1<n){\n\t\t\t\tif(a[i+1]==inf){\n\t\t\t\t\tl=r;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif(i%2==0) r=min(r,a[i+1]);\n\t\t\t\telse l=max(l,a[i+1]);\n\t\t\t}\n\t\t\tif(i-1>=0){\n\t\t\t\tif(a[i-1]==inf){\n\t\t\t\t\tl=r;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif(i%2==0) r=min(r,a[i-1]);\n\t\t\t\telse l=max(l,a[i-1]);\n\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\tif(i+1<n){\n\t\t\t\tif(a[i+1]!=inf&&(i%2==0&&a[i+1]<=a[i]||i%2==1&&a[i+1]>=a[i])){\n\t\t\t\t\tl=r;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(i-1>=0){\n\t\t\t\tif(a[i-1]!=inf&&(i%2==0&&a[i-1]<=a[i]||i%2==1&&a[i-1]>=a[i])){\n\t\t\t\t\tl=r;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\t}\n\t\t}\n//\t\tcout<<l<<' '<<r<<endl;\n\t\tif((ll)r-l==2) cout<<l+1<<endl;\n\t\telse if((ll)r-l>2) cout<<\"ambiguous\"<<endl;\n\t\telse cout<<\"none\"<<endl;\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <cmath>\n#include <cstdio>\n#include <functional>\n#include <numeric>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <utility>\n#include <sstream>\n#include <complex>\n#include <fstream>\n#include <bitset>\n#include <time.h>\n#include <tuple>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<ll, ll> P;\ntypedef vector<ll> V;\ntypedef complex<double> Point;\n\n#define PI acos(-1.0)\n#define EPS 1e-10\nconst ll INF = (1LL << 60) - 1;\nconst ll MOD = 1e9 + 7;\n\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define rep(i,N) for(int i=0;i<(N);i++)\n#define ALL(s) (s).begin(),(s).end()\n#define EQ(a,b) (abs((a)-(b))<EPS)\n#define EQV(a,b) ( EQ((a).real(), (b).real()) && EQ((a).imag(), (b).imag()) )\n#define fi first\n#define se second\n#define N_SIZE (1LL << 20)\n#define NIL -1\n#define MAX_N 100100 * 3\n\nint n;\nll a[100100];\n\nll changei(string s) {\n\tll res;\n\tstringstream ss;\n\tss << s;\n\tss >> res;\n\treturn res;\n}\n\nint main() {\n\twhile (cin >> n&&n) {\n\t\tll lb = -INF, ub = INF;\n\t\tbool f = 0;\n\t\trep(i, n) {\n\t\t\tstring num;\n\t\t\tcin >> num;\n\t\t\tif (num == \"x\")a[i] = -1;\n\t\t\telse a[i] = changei(num);\n\t\t}\n\t\trep(i, n - 1) {\n\t\t\tif (a[i] == -1 || a[i + 1] == -1)continue;\n\t\t\tif (i % 2 == 0) {\n\t\t\t\tif (a[i] >= a[i + 1])f = 1;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (a[i] <= a[i + 1])f = 1;\n\t\t\t}\n\t\t}\n\t\t//cout << \"!\" << f << endl;\n\t\trep(i, n) {\n\t\t\tif (i != n - 1 && a[i] == a[i + 1])f = 1;\n\t\t\tif (a[i] == -1) {\n\t\t\t\tif (i % 2 == 0) {\n\t\t\t\t\tif (i + 1 < n)ub = min(ub, a[i + 1] - 1);\n\t\t\t\t\tif (i - 1 >= 0)ub = min(ub, a[i - 1] - 1);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (i + 1 < n)lb = max(lb, a[i + 1] + 1);\n\t\t\t\t\tif (i - 1 >= 0)lb = max(lb, a[i - 1] + 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t//cout << \"!\" << f << endl;\n\t\tif (ub < lb)f = 1;\n\t\tif (f)cout << \"none\" << endl;\n\t\telse {\n\t\t\tif (lb == ub)cout << lb << endl;\n\t\t\telse cout << \"ambiguous\" << endl;\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint go(vector<long long> v,int num){\n\tvector<long long> diff;\n\tfor(int i = 0 ; i < v.size() ; i++){\n\t\tif( v[i] == -1 ) v[i] = num;\n\t\tif(i)diff.push_back(v[i]-v[i-1]);\n\t\t\n\t}\n\tfor(int i = 0 ; i < diff.size() ; i++){\n\t\tif( ((i%2)^(diff[i]<0)) || diff[i] == 0 ){\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n}\nint main(){\n\tint N;\n\twhile(cin >> N && N){\n\t\tvector<long long> u = {0,1,2,3,4,5};\n\t\tvector<long long> h;\n\t\tfor(int i = 0 ; i < N ; i++){\n\t\t\tstring s;\n\t\t\tcin >> s;\n\t\t\tif( s == \"x\" ){\n\t\t\t\th.push_back(-1);\n\t\t\t}else{\n\t\t\t\tstringstream ss(s);\n\t\t\t\tlong long w;\n\t\t\t\tss >> w;\n\t\t\t\th.push_back(w);\n\t\t\t\tfor(int j = -2 ; j <= 2 ; j++){\n\t\t\t\t\tu.push_back(w+j);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tsort(u.begin(),u.end());\n\t\tu.erase(unique(u.begin(),u.end()),u.end());\n\t\tlong long res = 0;\n\t\tlong long val;\n\t\tfor(int i = 0 ; i < u.size() ; i++){\n\t\t\tif( go(h,u[i]) ){\n\t\t\t\tval = u[i];\n\t\t\t\tres ++;\t\n\t\t\t}\n\t\t}\n\t\tif( res == 1) cout << val << endl;\n\t\telse if( res == 0 ) cout << \"none\" << endl;\n\t\telse cout << \"ambiguous\" << endl;\n\t}\n\t\t\t\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ninline int toInt(string s) {int v; istringstream sin(s);sin>>v;return v;}\ntemplate<class T> inline string toString(T x) {ostringstream sout;sout<<x;return sout.str();}\ntemplate<class T> inline T sqr(T x) {return x*x;}\n\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<string> vs;\ntypedef pair<int, int> pii;\ntypedef long long ll;\n\n#define all(a)  (a).begin(),(a).end()\n#define rall(a) (a).rbegin(), (a).rend()\n#define pb push_back\n#define mp make_pair\n#define each(i,c) for(typeof((c).begin()) i=(c).begin(); i!=(c).end(); ++i)\n#define exist(s,e) ((s).find(e)!=(s).end())\n#define range(i,a,b) for(int i=(a);i<(b);++i)\n#define rep(i,n)  range(i,0,n)\n#define clr(a,b) memset((a), (b) ,sizeof(a))\n#define dump(x)  cerr << #x << \" = \" << (x) << endl;\n#define debug(x) cerr << #x << \" = \" << (x) << \" (L\" << __LINE__ << \")\" << \" \" << __FILE__ << endl;\n\nconst double eps = 1e-10;\nconst double pi  = acos(-1.0);\nconst ll INF =1LL << 62;\nconst int inf =1 << 30;\n\nstring in[1010];\n\nint main(void){\n\tint n;\n\twhile(cin >> n){\n\t\tif(n==0)\n\t\t\tbreak;\n\t\tint cmin=-inf,cmax=inf;\n\t\tbool ok=true;\n\t\trep(i,n) cin >> in[i];\n\n\t\trep(i,n-1){\n\t\t\tif(in[i]==\"x\"&&in[i+1]==\"x\"){\n\t\t\t\tok=false;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif(in[i]==\"x\"){\n\t\t\t\tint cur=stoi(in[i+1]);\n\t\t\t\tif(i&1)\n\t\t\t\t\tcmin=max(cmin,cur+1);\n\t\t\t\telse\n\t\t\t\t\tcmax=min(cmax,cur-1);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif(in[i+1]==\"x\"){\n\t\t\t\tint cur=stoi(in[i]);\n\t\t\t\tif(i&1)\n\t\t\t\t\tcmax=min(cmax,cur-1);\n\t\t\t\telse\n\t\t\t\t\tcmin=max(cmin,cur+1);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tint cur1=stoi(in[i]);\n\t\t\tint cur2=stoi(in[i+1]);\n\t\t\tif(i&1){\n\t\t\t\tif(cur1<cur2) ok=false;\n\t\t\t}else{\n\t\t\t\tif(cur1>cur2) ok=false;\n\t\t\t}\n \t\t}\n\n\t\tif(!ok)\n\t\t\tputs(\"none\");\n\t\telse if(cmin==cmax)\n\t\t\tcout << cmin << endl;\n\t\telse if(cmin<cmax)\n\t\t\tputs(\"ambiguous\");\n\t\telse\n\t\t\tputs(\"none\");\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\ntypedef pair<int,int>pint;\ntypedef vector<int>vint;\n#define pb push_back\n#define mp make_pair\n#define rep(i,n) for(int i=0;i<(n);i++)\ntemplate<class T,class U>void chmin(T &t,U f){if(t>f)t=f;}\ntemplate<class T,class U>void chmax(T &t,U f){if(t<f)t=f;}\n\n#define int long long\n\nint N;\nint x[1000];\n\nint toint(string &s){\n    stringstream ss(s);\n    int ret;\n    ss>>ret;\n    return ret;\n}\n\n\nsigned main(){\n    while(cin>>N,N){\n        rep(i,N){\n            string s;cin>>s;\n            if(s[0]=='x')x[i]=-1;\n            else x[i]=toint(s);\n        }\n\n        bool ok=true;\n        rep(i,N-1){\n            if(x[i]==-1&&x[i+1]==-1)ok=false;\n        }\n\n        rep(i,N-1){\n            if(x[i]==-1)continue;\n            if(x[i+1]==-1)continue;\n\n            if(i&1){\n                if(x[i+1]>=x[i])ok=false;\n            }\n            else{\n                if(x[i+1]<=x[i])ok=false;\n            }\n        }\n\n        if(!ok){\n            cout<<\"none\"<<endl;\n            continue;\n        }\n\n        int l=-1001001001,u=1001001001;\n\n        rep(i,N){\n            if(x[i]!=-1)continue;\n            if(i&1){\n                if(i)chmax(l,x[i-1]+1);\n                if(i+1<N)chmax(l,x[i+1]+1);\n            }\n            else{\n                if(i)chmin(u,x[i-1]-1);\n                if(i+1<N)chmin(u,x[i+1]-1);\n            }\n        }\n\n        if(l>u)cout<<\"none\"<<endl;\n        else if(l==u)cout<<l<<endl;\n        else cout<<\"ambiguous\"<<endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <string>\nusing namespace std;\n\nint main(){\n    while(1){\n        int n;\n        cin >> n;\n        if(n==0) break;\n\n        vector<int> signal(n+2);\n        vector<bool> broken(n, false);\n        for(int i=1; i<=n; i++){\n            string str;\n            cin >> str;\n            if(str == \"x\"){\n                broken[i] = true;\n            }else{\n                signal[i] = stoi(str);\n            }\n        }\n        signal[0] = 1e9+10;\n        signal[n+1] = (n%2==0)? -(1e9+10) :1e9+10;\n\n        int upper = 1e9+10, lower = -(1e9+10);\n        bool none = false;\n        for(int i=1; i<=n; i++){\n            if(broken[i]){\n                if(broken[i-1] || broken[i+1]){\n                    none = true;\n                    break;\n                }\n                if(i%2==0){\n                    lower = max(lower, max(signal[i-1], signal[i+1])) + 1;\n                }else{\n                    upper = min(upper, min(signal[i-1], signal[i+1])) - 1;\n                }\n            }else{\n                if(i%2==0){\n                    if((!broken[i-1] && signal[i] < signal[i-1]) ||\n                       (!broken[i+1] && signal[i] < signal[i+1])){\n                        none = true;\n                    }\n                }else{\n                    if((!broken[i-1] && signal[i] > signal[i-1]) ||\n                       (!broken[i+1] && signal[i] > signal[i+1])){\n                        none = true;\n                    }\n                }\n            }\n        }\n\n        if(lower > upper) none = true;\n        if(none){\n            cout << \"none\" << endl;\n        }else if(lower == upper){\n            cout << lower << endl;\n        }else{\n            cout <<  \"ambiguous\" << endl;\n        }\n\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint go(vector<int> v,int num){\n\tvector<int> diff;\n\tfor(int i = 0 ; i < v.size() ; i++){\n\t\tif( v[i] == -1 ) v[i] = num;\n\t\tif(i)diff.push_back(v[i]-v[i-1]);\n\t\t\n\t}\n\tfor(int i = 0 ; i < diff.size() ; i++){\n\t\tif( ((i%2)^(diff[i]<0)) || diff[i] == 0 ){\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n}\nint main(){\n\tint N;\n\twhile(cin >> N && N){\n\t\tvector<int> u = {0,1,2,3,4,5};\n\t\tvector<int> h;\n\t\tfor(int i = 0 ; i < N ; i++){\n\t\t\tstring s;\n\t\t\tcin >> s;\n\t\t\tif( s == \"x\" ){\n\t\t\t\th.push_back(-1);\n\t\t\t}else{\n\t\t\t\tstringstream ss(s);\n\t\t\t\tint w;\n\t\t\t\tss >> w;\n\t\t\t\th.push_back(w);\n\t\t\t\tfor(int j = -3 ; j <= 3 ; j++){\n\t\t\t\t\tu.push_back(w+j);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tsort(u.begin(),u.end());\n\t\tu.erase(unique(u.begin(),u.end()),u.end());\n\t\tint res = 0;\n\t\tint val;\n\t\tfor(int i = 0 ; i < u.size() ; i++){\n\t\t\tif( go(h,u[i]) ){\n\t\t\t\tval = u[i];\n\t\t\t\tres ++;\t\n\t\t\t}\n\t\t}\n\t\tif( res == 1) cout << val << endl;\n\t\telse if( res == 0 ) cout << \"none\" << endl;\n\t\telse cout << \"ambiguous\" << endl;\n\t}\n\t\t\t\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<iostream>\n#include<string>\n#include<algorithm>\n\nusing namespace std;\n\nint main(){\n\twhile(true){\n\t\tint n;\n\t\tcin >> n;\n\t\tif(n == 0){break;}\n\t\t\n\t\tint mini=-1e9-10,maxi=1e9+10;\n\t\tint a[1100] = {};\n\t\tfor(int i = 0;i < n;i++){\n\t\t\tstring s;\n\t\t\tcin >> s;\n\t\t\tif(s[0] == 'x'){\n\t\t\t\ta[i] = 1e9 + 2;\n\t\t\t}else{\n\t\t\t\tint num;\n\t\t\t\tsscanf(s.c_str(),\"%d\",&num);\n\t\t\t\ta[i] = num;\n\t\t\t}\n\t\t}\n\t\t\n\t\tbool flag = true;\n\t\tfor(int i = 1;i<n;i++){\n\t\t\tif((i+1) % 2 == 0){\n\t\t\t\tif(a[i] == 1e9+2){\n\t\t\t\t\tif(a[i-1] == 1e9+2){\n\t\t\t\t\t\tflag = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tmini = max(mini,a[i-1]+1);\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(a[i-1] == 1e9+2){\n\t\t\t\t\t\tmaxi = min(maxi,a[i]-1);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif(a[i] < a[i-1]){\n\t\t\t\t\t\t\tflag = false;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(a[i] == 1e9+2){\n\t\t\t\t\tif(a[i-1] == 1e9+2){\n\t\t\t\t\t\tflag = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tmaxi = min(maxi,a[i-1]-1);\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(a[i-1] == 1e9+2){\n\t\t\t\t\t\tmini = max(mini,a[i]+1);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif(a[i] > a[i-1]){\n\t\t\t\t\t\t\tflag = false;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t//cout << maxi << \" \" << mini << endl;\n\t\tif(flag){\n\t\t\tif(maxi == mini){\n\t\t\t\tcout << maxi << endl;\n\t\t\t}else{\n\t\t\t\tif(maxi < mini){\n\t\t\t\t\tcout << \"none\" << endl;\n\t\t\t\t}else{\n\t\t\t\t\tcout << \"ambiguous\" << endl;\n\t\t\t\t}\n\t\t\t}\n\t\t}else{\n\t\t\tcout << \"none\" << endl;\n\t\t}\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <string>\n#include <cmath>\n#include <cassert>\n#include <iostream>\n#include <algorithm>\n#include <stack>\n#include <queue>\n#include <vector>\n#include <set>\n#include <map>\n#include <bitset>\n#include <functional>\n#include <numeric>\nusing namespace std;\n\n#define repl(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define rep(i,n) repl(i,0,n)\n#define mp(a,b) make_pair((a),(b))\n#define pb(a) push_back((a))\n#define all(x) (x).begin(),(x).end()\n#define dbg(x) cout<<#x\"=\"<<((x))<<endl\n#define fi first\n#define se second\n\n#define INF 2147483600\n#define long long long\n#define BIG 1000000000\n\nint solve(vector<int> &vec){\n  int n=vec.size();\n  // check\n  rep(i,n-1){\n    if(vec[i]==INF && vec[i+1]==INF) return -INF;\n    if(vec[i]!=INF && vec[i+1]!=INF){\n      if(i%2==0) if(vec[i] > vec[i+1]) return -INF;\n      if(i%2==1) if(vec[i] < vec[i+1]) return INF;\n    }\n  }\n  int lb=-BIG, ub=BIG;\n  repl(i,1,n-1) if(vec[i]==INF){\n    if(i%2==0){\n      ub = min(ub, min(vec[i-1], vec[i+1])-1);\n    } else {\n      lb = max(lb, max(vec[i-1], vec[i+1])+1);\n    }\n  }\n  if(vec[0]==INF) lb = max(lb, vec[1]+1);\n  if(vec[n-1]==INF) ub = min(ub, vec[n-2]-1);\n  if(lb==ub) return lb;\n  else if(lb<ub) return INF;\n  else return -INF;\n}\n\nint main(){\n  int n;\n  while(cin>>n, n){\n    char tmp[15];\n    vector<int> vec(n);\n    rep(i,n){\n      scanf(\"%s\", tmp);\n      if(tmp[0]=='x') vec[i]=INF;\n      else vec[i] = atoi(tmp);\n    }\n    int ret = solve(vec);\n    if(ret==INF) cout<<\"ambiguous\"<<endl;\n    else if(ret==-INF) cout<<\"none\"<<endl;\n    else cout<<ret<<endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#define INF 2000000000\n#define N 1010\nusing namespace std;\nvoid Bynary_Search(int,int);\nint StoI(string);\nint Judge(int);\nstring str[N];\nint n,data[N];\n\nint main(){\n  while(1){\n    cin>>n;\n    if(!n) break;\n    data[0]=INF;\n    if(n%2) data[n+1]=INF;\n    else data[n+1]=-INF;\n    for(int i=1;i<=n;i++){\n      cin>>str[i];\n      if(str[i]==\"x\") continue;\n      data[i]=StoI(str[i]);\n    }\n    Bynary_Search(-1000000100,1000000100);\n  }\n  return 0;\n}\n\nvoid Bynary_Search(int l,int r){\n  int m;\n  while(l<r-1){\n    m=(long long)(l+r)/2;\n    if(Judge(m)==-2) break;\n    else if(Judge(m)<0) l=m;\n    else if(Judge(m)>0) r=m;\n    else{\n      if(!Judge(m-1)||!Judge(m+1)){\n\tcout<<\"ambiguous\"<<endl;\n      }else cout<<m<<endl;\n      return ;\n    }\n  }\n  cout<<\"none\"<<endl;\n}\n\nint Judge(int d){\n  int judge[N];\n  judge[0]=data[0];\n  judge[n+1]=data[n+1];\n  for(int i=1;i<=n;i++){\n    if(str[i]==\"x\") judge[i]=d;\n    else judge[i]=data[i];\n  }\n  for(int i=1;i<=n;i++)\n    if(str[i]!=\"x\"&&str[i+1]!=\"x\")\n      if(((i%2)&&judge[i]>=judge[i+1])||(!(i%2)&&judge[i]<=judge[i+1])) return -2;\n  for(int i=1;i<=n;i++){\n    if(str[i]!=\"x\") continue;\n    if((i%2)&&(judge[i-1]<=judge[i]||judge[i]>=judge[i+1])) return 1;\n    if(!(i%2)&&(judge[i-1]>=judge[i]||judge[i]<=judge[i+1])) return -1;\n  }\n  return 0;\n}\n\nint StoI(string s){\n  int ret=0;\n  for(int i=0;i<s.size();i++)\n    ret=ret*10+(s[i]-'0');\n  return ret;  \n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <algorithm>\n#include <cstdlib>\nusing namespace std;\n#define F (1000000003)\n\nint main(){\n    int i,j,n,cf,ct,nanf,cnt;\n    char s[12];\n\n    while(1){\n        scanf(\"%d\",&n);\n        if(!n){break;}\n        int l[n],sg[n];\n        fill(sg,sg+n,1);\n        for(i=0;i<n;i++){\n            scanf(\"%s\",s);\n            if(s[0]!='x'){\n                l[i]=atoi(s);\n            }\n            else{\n                l[i]=0;\n                sg[i]=0;\n            }\n        }\n        cf=-F;ct=F;nanf=0;\n        if((l[0]>l[1] && sg[1] && sg[0]) || (!sg[0]&&!sg[1])){nanf=1;}\n        else if(!sg[0] && sg[1]){ct=l[1]-1;}\n        for(i=1;i<n-1&&!nanf;i++){\n            if(i%2){\n                if((sg[i] && sg[i+1] && l[i]<l[i+1]) || (!sg[i]&&!sg[i+1])){nanf=1;}\n                else if(!sg[i]){cf=max({cf,l[i+1]+1,l[i-1]+1});}\n            }\n            else{\n                if((sg[i] && sg[i+1] && l[i]>l[i+1]) || (!sg[i]&&!sg[i+1])){nanf=1;}\n                else if(!sg[i]){ct=min({ct,l[i+1]-1,l[i-1]-1});}\n            }\n        }\n        if(!sg[n-1]){\n            if((n-1)%2){\n                cf=max({cf,l[n-2]+1});\n            }\n            else{\n                ct=min({ct,l[n-2]-1});\n            }\n        }\n        if(nanf){printf(\"none\\n\");}\n        else if(cf==ct){printf(\"%d\\n\",cf);}\n        else{printf(\"ambiguous\\n\");}\n    }\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nint main(){\n    int n;\n    while(cin >> n, n){\n        string c[n+2];\n        c[0] = c[n+1] = \"x\";\n        for(int i = 1; i <= n; i++)  cin >> c[i];\n\n        bool con = false;\n        for(int i = 1; i < n; i++){\n            if(c[i] == \"x\" && c[i+1] == \"x\")    con = true;\n        }\n\n        if(con){\n            cout << \"none\" << endl;\n            continue;\n        }\n\n        int lower = -1e9-10, upper = 1e9+10;\n        bool valid = true;\n        for(int i = 1; i <= n; i++){\n            if(c[i] == \"x\"){\n                if(i%2){\n                    if(c[i-1] != \"x\")   upper = min(upper, stoi(c[i-1])-1);\n                    if(c[i+1] != \"x\")   upper = min(upper, stoi(c[i+1])-1);\n                }else{\n                    if(c[i-1] != \"x\")   lower = max(lower, stoi(c[i-1])+1);\n                    if(c[i+1] != \"x\")   lower = max(lower, stoi(c[i+1])+1);\n                }\n            }else{\n                if(i%2){\n                    if(c[i-1] != \"x\" && stoi(c[i]) >= stoi(c[i-1]))   valid = false;\n                    if(c[i+1] != \"x\" && stoi(c[i]) >= stoi(c[i+1]))   valid = false;\n                }else{\n                    if(c[i-1] != \"x\" && stoi(c[i]) <= stoi(c[i-1]))   valid = false;\n                    if(c[i+1] != \"x\" && stoi(c[i]) <= stoi(c[i+1]))   valid = false;\n                }\n            }\n        }\n\n        valid &= lower <= upper;\n\n        if(valid){\n            if(lower == upper)  cout << lower << endl;\n            else                cout << \"ambiguous\" << endl;\n        }else{\n            cout << \"none\" << endl;\n        }\n\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i, n) for (int i = 0; i < n; i++)\n#define INF 10000001000\n#define int long long\nusing namespace std;\nsigned main()\n{\n\tint n;\n\twhile (cin >> n, n)\n\t{\n\t\t//cout << \"--------------------------------------------\" << endl;\n\t\t//cout << n << endl;\n\t\tvector<int> vec(n + 1);\n\t\tstring s;\n\t\tint seq = 0;\n\t\tbool none_flag = false;\n\t\tbool x = false;\n\t\trep(i, n)\n\t\t{\n\t\t\tcin >> s;\n\t\t\tif (s == \"x\")\n\t\t\t{\n\t\t\t\tseq++;\n\t\t\t\tx = true;\n\t\t\t\tif ((i + 1) % 2 == 0)\n\t\t\t\t\tvec[i] = INF;\n\t\t\t\telse\n\t\t\t\t\tvec[i] = -INF;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tseq = 0;\n\t\t\t\tvec[i] = atoi(s.c_str());\n\t\t\t\tif (i > 0 && (i + 1) % 2 == 0)\n\t\t\t\t{\n\t\t\t\t\tif (vec[i] <= vec[i - 1])\n\t\t\t\t\t\tnone_flag = true;\n\t\t\t\t}\n\t\t\t\tif (i > 0 && (i + 1) % 2 == 1)\n\t\t\t\t{\n\t\t\t\t\tif (vec[i] >= vec[i - 1])\n\t\t\t\t\t\tnone_flag = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (seq > 1)\n\t\t\t\tnone_flag = true;\n\t\t\t//cout << s << \" \";\n\t\t}\n\t\t//cout << endl;\n\t\t//cout << vec[0] << \" \" << vec[1] << endl;\n\t\tif (none_flag)\n\t\t{\n\t\t\tcout << \"none\" << endl;\n\t\t\tcontinue;\n\t\t}\n\t\tif (!x)\n\t\t{\n\t\t\tcout << \"ambigious\" << endl;\n\t\t\tcontinue;\n\t\t}\n\t\tint sup = INF, inf = -INF;\n\t\tint max_tmp, min_tmp;\n\t\trep(i, n)\n\t\t{\n\t\t\tif (vec[i] == INF || vec[i] == -INF)\n\t\t\t{\n\t\t\t\tif ((i + 1) % 2)\n\t\t\t\t{\n\t\t\t\t\tif (i == 0)\n\t\t\t\t\t\tmax_tmp = vec[i + 1];\n\t\t\t\t\telse if (i == n - 1)\n\t\t\t\t\t\tmax_tmp = vec[i - 1];\n\t\t\t\t\telse\n\t\t\t\t\t\tmax_tmp = min(vec[i + 1], vec[i - 1]);\n\t\t\t\t\tsup = min(sup, max_tmp);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif (i == 0)\n\t\t\t\t\t\tmin_tmp = vec[i + 1];\n\t\t\t\t\telse if (i == n - 1)\n\t\t\t\t\t\tmin_tmp = vec[i - 1];\n\t\t\t\t\telse\n\t\t\t\t\t\tmin_tmp = max(vec[i + 1], vec[i - 1]);\n\t\t\t\t\tinf = max(inf, min_tmp);\n\t\t\t\t}\n\t\t\t}\n\t\t\t//cout << inf << \" \" << sup << endl;\n\t\t}\n\t\tsup--;\n\t\tinf++;\n\t\t//cout << inf << \" \" << sup << endl;\n\t\tif (sup == inf)\n\t\t\tcout << sup << endl;\n\t\telse if (sup == -INF - 1 || inf == INF + 1)\n\t\t\tcout << \"ambiguous\" << endl;\n\t\telse if (inf < sup)\n\t\t\tcout << \"ambiguous\" << endl;\n\t\telse\n\t\t\tcout << \"none\" << endl;\n\t}\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n#include<string>\nusing namespace std;\n\n#define INF 1e10\n#define int long long\n\nsigned main(){\n    int n,i;\n    while(1){\n        cin>>n;\n        if(n==0)break;\n        vector<string> s(n);\n        for(i=0;i<n;i++)cin>>s[i];\n        \n        int big=-INF;\n        int small=INF;\n        \n        for(i=0;i<n-1;i++)\n            if(s[i]==\"x\"&&s[i+1][0]<='9'&&s[i+1][0]>='0'){\n                if(i%2)big=max(big,(long long)stoi(s[i+1])+1);\n                if(i%2==0)small=min(small,(long long)stoi(s[i+1])-1);\n            }else if(s[i+1]==\"x\"&&s[i][0]<='9'&&s[i][0]>='0'){\n                if(i%2)small=min(small,(long long)stoi(s[i])-1);\n                if(i%2==0)big=max(big,(long long)stoi(s[i])+1);\n            }else if(s[i][0]<='9'&&s[i][0]>='0'&&s[i+1][0]<='9'&&s[i+1][0]>='0'){\n                if(i%2 && stoi(s[i])<=stoi(s[i+1])){\n                    cout<<\"none\"<<endl;\n                    goto END;\n                }\n                if(i%2==0 && stoi(s[i])>=stoi(s[i+1])){\n                    cout<<\"none\"<<endl;\n                    goto END;\n                }\n            }else{\n                cout<<\"none\"<<endl;\n                goto END;\n            }\n        \n        \n       // cout<<\"ans\"<<big<<\" \"<<small<<endl;\n        if(big==small)cout<<big<<endl;\n        else if(big<small)cout<<\"ambiguous\"<<endl;\n        else cout<<\"none\"<<endl;\n    END:;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <cstring>\n#include <algorithm>\n#include <sstream>\n\n#define REP(i,k,n) for(int i=k;i<n;i++)\n#define rep(i,n) for(int i=0;i<n;i++)\n\nusing namespace std;\ntypedef long long ll;\n\nint main()\n{\n    int n;\n    while(cin >> n && n) {\n        vector<string> v(n);\n        rep(i,n) cin >> v[i];\n\n        vector<int> res(n);\n        rep(i,n) {\n            if(v[i] == \"x\") res[i] = 0;\n            else {\n                stringstream ss;\n                ss << v[i];\n                ss >> res[i];\n            }\n        }\n\n        bool flag = true;\n        rep(i,n-1) {\n            if(v[i] == \"x\" && v[i+1] == \"x\") flag = false;\n        }\n\n        if(!flag) {\n            cout << \"none\" << endl;\n        }\n        else {\n            bool F = false;\n            \n            rep(i,n-1) {\n                if(v[i] == \"x\" || v[i+1] == \"x\") continue;\n\n                if(i%2 == 0) {\n                    if(v[i] >= v[i+1]) F = true;\n                }\n                else {\n                    if(v[i] <= v[i+1]) F = true;\n                }\n            }\n\n\n            if(F) {\n                cout << \"none\" << endl;\n            }\n            else {\n                int M = 1000000000;\n                int l = -M-5;\n                int r = M+5;\n\n                rep(i,n) {\n                    if(v[i] != \"x\") continue;\n\n                    if(i%2 == 0) {\n                        if(i == 0) {\n                            r = min(r,res[i+1]-1);\n                        }\n                        if(0 < i && i < n-1) {\n                            r = min(r,res[i-1]-1);\n                            r = min(r,res[i+1]-1);\n                        }\n                        if(i == n-1) {\n                            r = min(r,res[i-1]-1);\n                        }\n                    }\n                    else {\n                        if(i == 0) {\n                            l = max(l,res[i+1]+1);\n                        }\n                        if(0 < i && i < n-1) {\n                            l = max(l,res[i-1]+1);\n                            l = max(l,res[i+1]+1);\n                        }\n                        if(i == n-1) {\n                            l = max(l,res[i-1]+1);\n                        }\n                    }\n                }\n\n                if(l == r) {\n                    cout << l << endl;\n                }\n                else if(l > r) {\n                    cout << \"none\" << endl;\n                }\n                else {\n                    cout << \"ambiguous\" << endl;\n                }\n            }\n\n        }\n\n\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<string>\n#include<algorithm>\t\n#include<map>\n#include<set>\n#include<utility>\n#include<cmath>\n#include<cstring>\n#include<queue>\n#include<stack>\n#include<cstdio>\n#include<sstream>\n#include<iomanip>\n#include<assert.h>\n#define loop(i,a,b) for(int i=a;i<b;i++) \n#define rep(i,a) loop(i,0,a)\n#define pb push_back\n#define all(in) in.begin(),in.end()\n#define shosu(x) fixed<<setprecision(x)\nusing namespace std;\n//kaewasuretyuui\ntypedef long long ll;\ntypedef int Def;\ntypedef pair<Def,Def> pii;\ntypedef vector<Def> vi;\ntypedef vector<vi> vvi;\ntypedef vector<pii> vp;\ntypedef vector<vp> vvp;\ntypedef vector<string> vs;\ntypedef vector<double> vd;\ntypedef vector<vd> vvd;\ntypedef pair<Def,pii> pip;\ntypedef vector<pip>vip;\n//#define mt make_tuple\n//typedef tuple<double,int,double> tp;\n//typedef vector<tp> vt;\ntemplate<typename A,typename B>bool cmin(A &a,const B &b){return a>b?(a=b,true):false;}\ntemplate<typename A,typename B>bool cmax(A &a,const B &b){return a<b?(a=b,true):false;}\nconst double PI=acos(-1);\nconst double EPS=1e-7;\nDef inf = sizeof(Def) == sizeof(long long) ? 2e18 : 2e9;\nint dx[]={0,1,0,-1};\nint dy[]={1,0,-1,0};\nint main(){\n\tint n;\n\twhile(cin>>n,n){\n\t\tvi in(n+2);\n\t\tin[0]=inf+1;\n\t\trep(i,n){\n\t\t\tstring s;\n\t\t\tcin>>s;\n\t\t\tif(s==\"x\")in[i+1]=inf;\n\t\t\telse in[i+1]=stoi(s);\n\t\t}\n\t\tin[n+1]=(n%2?inf+1:-inf-1);\n\t\tint mi=inf,ma=-inf;\n\t\trep(i,n)if(in[i+1]==inf){\n\t\t\tif(i%2){\n\t\t\t\tcmin(mi,max(in[i],in[i+2]));\n\t\t\t}else{\n\t\t\t\tcmax(ma,min(in[i],in[i+2]));\n\t\t\t}\n\t\t}\n\t\tbool h=true;\n\t\trep(i,n+1){\n\t\t\tif(in[i]==inf&&in[i+1]==inf)h=false;\n\t\t\tif(in[i]!=inf&&in[i+1]!=inf){\n\t\t\t\tif(i%2&&in[i]>=in[i+1]||i%2==0&&in[i]<=in[i+1]){\n\t\t\t\t\th=false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(!h)cout<<\"none\"<<endl;\n\t\telse if(ma-mi==2)cout<<ma-1<<endl;\n\t\telse if(ma-mi>2)cout<<\"ambiguous\"<<endl;\n\t\telse cout<<\"none\"<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\nconst int INF = 1e9;\nconst ll LINF = 1e18;\ntemplate<class S,class T> ostream& operator << (ostream& out,const pair<S,T>& o){ out << \"(\" << o.first << \",\" << o.second << \")\"; return out; }\ntemplate<class T> ostream& operator << (ostream& out,const vector<T>& V){ for(int i = 0; i < V.size(); i++){ out << V[i]; if(i!=V.size()-1) out << \" \";} return out; }\ntemplate<class T> ostream& operator << (ostream& out,const vector<vector<T> >& Mat){ for(int i = 0; i < Mat.size(); i++) { if(i != 0) out << endl; out << Mat[i];} return out; }\ntemplate<class S,class T> ostream& operator << (ostream& out,const map<S,T>& mp){ out << \"{ \"; for(auto it = mp.begin(); it != mp.end(); it++){ out << it->first << \":\" << it->second; if(mp.size()-1 != distance(mp.begin(),it)) out << \", \"; } out << \" }\"; return out; }\ntemplate<typename T>vector<T> make_v(size_t a){return vector<T>(a);}\ntemplate<typename T,typename... Ts>auto make_v(size_t a,Ts... ts){return vector<decltype(make_v<T>(ts...))>(a,make_v<T>(ts...));}\ntemplate<typename T,typename V> typename enable_if<is_class<T>::value==0>::type fill_v(T &t,const V &v){t=v;}\ntemplate<typename T,typename V> typename enable_if<is_class<T>::value!=0>::type fill_v(T &t,const V &v){for(auto &e:t) fill_v(e,v);}\n/*\n <url:>\n 問題文============================================================\n =================================================================\n 解説=============================================================\n ================================================================\n */\n\ntemplate<class Type>\nType solve(Type res = Type()){\n    return res;\n}\nint main(void) {\n    cin.tie(0); ios_base::sync_with_stdio(false);\n    // solve(0);\n    // cout << fixed << setprecision(15) << solve<ll>() << endl;\n    int N;\n    while(cin >> N,N){\n        vector<int> a(N);\n        vector<char> x(N);\n        for(int i = 0; i < N;i++){\n            string s; cin >> s;\n            if(s == \"x\"){\n                x[i] = true;\n                continue;\n            }\n            a[i] = atoi(s.c_str());\n        }\n        bool ng = false;\n        for(int i = 1; i < N;i++){ // x x\n            if(x[i] && a[i-1] == a[i]) ng = true;\n            if(!x[i] && !x[i-1]){\n                if(i&1){\n                    if(a[i] <= a[i-1]) ng = true;\n                }else{\n                    if(a[i] >= a[i-1]) ng = true;\n                }\n            }\n        }\n        if(ng){\n            cout << \"none\" << endl;\n            continue;\n        }\n        int l = -2*INF,r = 2*INF;\n        for(int i = 0; i < N;i++){\n            if(!x[i]) continue;\n            if(i!=0){\n                if(i&1){\n                    l = max(l,a[i-1]+1);\n                }else{\n                    r = min(r,a[i-1]-1);\n                }\n            }\n            if(i!=N-1){\n                if(i&1){\n                    l = max(l,a[i+1]+1);\n                }else{\n                    r = min(r,a[i+1]-1);\n                }\n            }\n        }\n        if(l==r){\n            cout << l << endl;\n        }else if(l < r){\n            cout << \"ambiguous\" << endl;\n        }else{\n            cout << \"none\" << endl;\n        }\n    }\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <string>\n#include <cmath>\n#include <cassert>\n#include <iostream>\n#include <algorithm>\n#include <stack>\n#include <queue>\n#include <vector>\n#include <set>\n#include <map>\n#include <bitset>\n#include <functional>\n#include <numeric>\nusing namespace std;\n\n#define repl(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define rep(i,n) repl(i,0,n)\n#define mp(a,b) make_pair((a),(b))\n#define pb(a) push_back((a))\n#define all(x) (x).begin(),(x).end()\n#define dbg(x) cout<<#x\"=\"<<((x))<<endl\n#define fi first\n#define se second\n\n#define INF 2147483600\n#define long long long\n\nint solve(vector<int> &vec){\n  int n=vec.size();\n  rep(i,n-1){\n    if(vec[i]==INF && vec[i+1]==INF) return -INF;\n    if(vec[i]!=INF && vec[i+1]!=INF){\n      if(i%2==0) if(vec[i] >= vec[i+1]) return -INF;\n      if(i%2==1) if(vec[i] <= vec[i+1]) return -INF;\n    }\n  }\n  int lb=-INF, ub=INF;\n  rep(i,n) if(vec[i]==INF){\n    if(i%2==0){\n      if(i>0) ub = min(ub, vec[i-1]-1);\n      if(i+1<n) ub = min(ub, vec[i+1]-1);\n    } else {\n      lb = max(lb, vec[i-1]+1);\n      if(i+1<n) lb = max(lb, vec[i+1]+1);\n    }\n  }\n  if(lb==ub) return lb;\n  else if(lb<ub) return INF;\n  else return -INF;\n}\n\nint main(){\n  int n;\n  while(cin>>n, n){\n    char tmp[15];\n    vector<int> vec(n);\n    rep(i,n){\n      scanf(\"%s\", tmp);\n      if(tmp[0]=='x') vec[i]=INF;\n      else vec[i] = atoi(tmp);\n    }\n    int ret = solve(vec);\n    if(ret==INF) cout<<\"ambiguous\"<<endl;\n    else if(ret==-INF) cout<<\"none\"<<endl;\n    else cout<<ret<<endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#define INF 2000000000\n#define N 1002\nusing namespace std;\nint StoI(string);\n\nint main(){\n  int n,d[N],flag,minv,maxv,cnt;\n  string a[N];\n  while(1){\n    cin>>n;\n    if(!n) break;\n    flag=cnt=0;\n    for(int i=1;i<=n;i++){\n      cin>>a[i];\n      if(a[i]==\"x\"){\n\tcnt++;\n\tcontinue;\n      }\n      d[i]=StoI(a[i]);\n    }\n    for(int i=1;i<n;i++)\n      if(a[i]==\"x\"&&a[i+1]==\"x\") flag=1;\n    if(!cnt){\n      for(int i=1;i<n;i++){\n\tif((i%2)&&(d[i-1]<=d[i]||d[i]>=d[i+1])) flag=1;\n\telse if(!(i%2)&&(d[i-1]>=d[i]||d[i]<=d[i+1])) flag=1;\n      }\n    }\n    if(!flag){\n      d[0]=maxv=INF;\n      minv=-INF;\n      (n%2)?d[n+1]=INF:d[n+1]=-INF;\n      for(int i=1;i<=n;i++){\n\tif(a[i]!=\"x\") continue;\n\tif((i%2)&&(d[i-1]<maxv||maxv>d[i+1])) maxv=min(min(maxv,d[i-1]-1),d[i+1]-1);\n\telse if(!(i%2)&&(d[i-1]>minv||minv<d[i+1])) minv=max(max(minv,d[i-1]+1),d[i+1]+1);\n      }\n    }\n    if(flag||maxv<minv) cout<<\"none\"<<endl;\n    else if(maxv==minv) cout<<maxv<<endl;\n    else cout<<\"ambiguous\"<<endl;\n  }\n  return 0;\n}\n\nint StoI(string s){\n  int ret=0,k=0;\n  if(s[0]=='-') k++; \n  for(int i=k;i<(int)s.size();i++) ret=ret*10+(s[i]-'0');\n  if(k) ret*=-1;\n  return ret;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <string>\n#include <cmath>\n#include <cassert>\n#include <iostream>\n#include <algorithm>\n#include <stack>\n#include <queue>\n#include <vector>\n#include <set>\n#include <map>\n#include <bitset>\n#include <functional>\n#include <numeric>\nusing namespace std;\n\n#define repl(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define rep(i,n) repl(i,0,n)\n#define mp(a,b) make_pair((a),(b))\n#define pb(a) push_back((a))\n#define all(x) (x).begin(),(x).end()\n#define dbg(x) cout<<#x\"=\"<<((x))<<endl\n#define fi first\n#define se second\n\n#define INF 2147483600\n#define long long long\n\nint solve(vector<int> &vec){\n  int n=vec.size();\n  // check\n  rep(i,n-1){\n    if(vec[i]==INF && vec[i+1]==INF) return -INF;\n    if(vec[i]!=INF && vec[i+1]!=INF){\n      if(i%2==0) if(vec[i] >= vec[i+1]) return -INF;\n      if(i%2==1) if(vec[i] <= vec[i+1]) return INF;\n    }\n  }\n  int lb=-INF, ub=INF;\n  rep(i,n) if(vec[i]==INF){\n    if(i%2==0){\n      if(i>0) ub = min(ub, vec[i-1]-1);\n      if(i+1<n) ub = min(ub, vec[i+1]-1);\n    } else {\n      lb = max(lb, vec[i-1]+1);\n      if(i+1<n) lb = max(lb, vec[i+1]+1);\n    }\n  }\n  if(lb==ub) return lb;\n  else if(lb<ub) return INF;\n  else return -INF;\n}\n\nint main(){\n  int n;\n  while(cin>>n, n){\n    char tmp[15];\n    vector<int> vec(n);\n    rep(i,n){\n      scanf(\"%s\", tmp);\n      if(tmp[0]=='x') vec[i]=INF;\n      else vec[i] = atoi(tmp);\n    }\n    int ret = solve(vec);\n    if(ret==INF) cout<<\"ambiguous\"<<endl;\n    else if(ret==-INF) cout<<\"none\"<<endl;\n    else cout<<ret<<endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define fi first\n#define se second\n#define repl(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define rep(i,n) repl(i,0,n)\n#define each(itr,v) for(auto itr:v)\n#define pb(s) push_back(s)\n#define mp(a,b) make_pair(a,b)\n#define all(x) (x).begin(),(x).end()\n#define dbg(x) cout<<#x\"=\"<<x<<endl\n#define maxch(x,y) x=max(x,y)\n#define minch(x,y) x=min(x,y)\n#define uni(x) x.erase(unique(all(x)),x.end())\n#define exist(x,y) (find(all(x),y)!=x.end())\n#define bcnt(x) bitset<32>(x).count()\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int, int> P;\ntypedef pair<P, int> PPI;\ntypedef pair<ll, ll> PL;\ntypedef pair<P, ll> PPL;\n\n#define INF INT_MAX/3\n\n#define MAX_N 1000\n#define BROKEN 1000000001\n\nint n;\nint a[1111];\n\nint main(){\n\tcin.sync_with_stdio(false);\n\twhile(1){\n\t\tcin>>n;\n\t\tif(n==0)break;\n\t\trep(i,n){\n\t\t\tstring s;\n\t\t\tcin>>s;\n\t\t\tif(s[0]=='x')a[i]=BROKEN;\n\t\t\telse a[i]=stoi(s);\n\t\t}\n\t\tbool ok=true;\n\t\trep(i,n){\n\t\t\tif(i>0&&a[i-1]!=BROKEN&&a[i]!=BROKEN&&((i%2==0&&a[i-1]<a[i])||(i%2==1&&a[i-1]>a[i])))ok=false;\n\t\t\tif(i<n-1&&a[i]!=BROKEN&&a[i+1]!=BROKEN&&((i%2==0&&a[i]>a[i+1])||(i%2==1&&a[i]<a[i+1])))ok=false;\n\t\t\tif(i>0&&a[i-1]==BROKEN&&a[i]==BROKEN)ok=false;\n\t\t}\n\t\tif(!ok){\n\t\t\tcout<<\"none\"<<endl;\n\t\t\tcontinue;\n\t\t}\n\t\tint lb=-BROKEN,ub=BROKEN;\n\t\trep(i,n){\n\t\t\tif(i>0&&a[i]==BROKEN&&a[i-1]!=BROKEN){\n\t\t\t\tif(i%2==0)minch(ub,a[i-1]-1);\n\t\t\t\telse maxch(lb,a[i-1]+1);\n\t\t\t}\n\t\t\tif(i<n-1&&a[i]==BROKEN&&a[i+1]!=BROKEN){\n\t\t\t\tif(i%2==0)minch(ub,a[i+1]-1);\n\t\t\t\telse maxch(lb,a[i+1]+1);\n\t\t\t}\n\t\t}\n\t\tif(lb==-BROKEN||ub==BROKEN||(lb<ub))cout<<\"ambiguous\"<<endl;\n\t\telse if(lb==ub)cout<<lb<<endl;\n\t\telse cout<<\"none\"<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint stoi(string s){\n  int num=0;\n  for(int i=s.size()-1,digit=1;i>=0;i--,digit*=10){\n    if(s[i]=='-') num*=-1; \n    else num+=(s[i]-'0')*digit;\n  }\n  return num;\n}\n\nint main(){\n  int n;\n  while(cin>>n,n){\n    string sig[n+2];\n    sig[0]=\"1000000005\";\n    for(int i=1;i<=n;i++)\n      cin>>sig[i];\n    if(n%2==0) sig[n+1]=\"-1000000005\";\n    else sig[n+1]=\"1000000005\";\n    int Min=-1000000005,Max=1000000005;\n    bool checker=true;\n    for(int i=1;i<=n;i++){\n      if(sig[i]==\"x\"){\n\tif(sig[i+1]==\"x\"){\n\t  cout<<\"none\"<<endl; checker=false; break;\n\t}\n\tint left=stoi(sig[i-1]),right=stoi(sig[i+1]);\n\tif(i%2==0){\n\t  if(max(left,right)>Min) Min=max(left,right);\n\t} else{\n\t  if(min(left,right)<Max) Max=min(left,right);\n\t}   \n      } else{\n\tif(sig[i-1]==\"x\") continue;\n\tint num=stoi(sig[i]);\n\tif(i%2==1){\n\t  if(num>stoi(sig[i-1])){\n\t    cout<<\"none\"<<endl; checker=false; break;\n\t  }\n\t} else{\n\t  if(num<stoi(sig[i-1])){\n\t    cout<<\"none\"<<endl; checker=false; break;\n\t  }\n\t}\n      }\n    }\n    if(checker){\n      if(Max-Min==2) cout<<Max-1<<endl;\n      else if(Max-Min>2) cout<<\"ambiguous\"<<endl;\n      else cout<<\"none\"<<endl;\n    }\n  }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntemplate <class T, class U>\ninline bool chmin(T& t, const U& f) { return t > f ? t = f, true : false; }\n\ntemplate <class T, class U>\ninline bool chmax(T& t, const U& f) { return t < f ? t = f, true : false; }\n\nconst int X = 1 << 30;\n\nint solve(int N, vector<int>& a) {\n    int lo = -X + 1, hi = X - 1;\n    for (int i = 1; i < N; ++i) {\n        if (a[i] == X && a[i - 1] == X) throw \"none\";\n        if (i & 1) {\n            if (a[i - 1] != X && a[i] != X && a[i - 1] >= a[i]) throw \"none\";\n            else if (a[i - 1] != X) chmax(lo, a[i - 1] + 1);\n            else if (a[i] != X) chmin(hi, a[i] - 1);\n        }\n        else {\n            if (a[i - 1] != X && a[i] != X && a[i - 1] <= a[i]) throw \"none\";\n            else if (a[i - 1] != X) chmin(hi, a[i - 1] - 1);\n            else if (a[i] != X) chmax(lo, a[i] + 1);\n        }\n    }\n    if (lo != hi) throw lo < hi ? \"ambiguous\" : \"none\";\n    return lo;\n}\n\nint main() {\n    for (int N; cin >> N, N;) {\n        vector<int> a(N);\n        for (int& e : a) {\n            string s; cin >> s;\n            e = s == \"x\" ? X : stoi(s);\n        }\n        try { cout << solve(N, a) << endl; }\n        catch (char const* err) { cout << err << endl; }\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#define INF 1500000000\n#define N 1010\nusing namespace std;\ntypedef long long ll;\nvoid Bynary_Search(ll,ll);\nll StoI(string);\nll Judge(ll);\nstring str[N];\nll n,data[N];\n \nint main(){\n  while(1){\n    cin>>n;\n    if(!n) break;\n    data[0]=(ll)INF+INF;\n    if(n%2) data[n+1]=(ll)INF+INF;\n    else data[n+1]=0;\n    for(int i=1;i<=n;i++){\n      cin>>str[i];\n      if(str[i]==\"x\") continue;\n      data[i]=StoI(str[i])+INF;\n    }\n    Bynary_Search(0,(ll)1000000100+INF);\n  }\n  return 0;\n}\n \nvoid Bynary_Search(ll l,ll r){\n  ll m;\n  while(l<r-1){\n    m=(ll)(l+r)/2;\n    if(Judge(m)==-2) break;\n    else if(Judge(m)<0) l=m;\n    else if(Judge(m)>0) r=m;\n    else{\n      if(!Judge(m-1)||!Judge(m+1)){\n\tcout<<\"ambiguous\"<<endl;\n      }else cout<<m-INF<<endl;\n      return ;\n    }\n  }\n  cout<<\"none\"<<endl;\n}\n \nll Judge(ll d){\n  ll judge[N];\n  judge[0]=data[0];\n  judge[n+1]=data[n+1];\n  for(int i=1;i<=n;i++){\n    if(str[i]==\"x\") judge[i]=d;\n    else judge[i]=data[i];\n  }\n  for(int i=1;i<=n;i++)\n    if(str[i]!=\"x\"&&str[i+1]!=\"x\")\n      if(((i%2)&&judge[i]>=judge[i+1])||(!(i%2)&&judge[i]<=judge[i+1])) return -2;\n  for(int i=1;i<=n;i++){\n    if(str[i]!=\"x\") continue;\n    if((i%2)&&(judge[i-1]<=judge[i]||judge[i]>=judge[i+1])) return 1;\n    if(!(i%2)&&(judge[i-1]>=judge[i]||judge[i]<=judge[i+1])) return -1;\n  }\n  return 0;\n}\n \nll StoI(string s){\n  ll ret=0;\n  for(int i=0;i<s.size();i++)\n    ret=ret*10+(s[i]-'0');\n  return ret;  \n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\n\n//#define int long long\n#define DBG 1\n#define dump(o) if(DBG){cerr<<#o<<\" \"<<(o)<<endl;}\n#define dumpc(o) if(DBG){cerr<<#o; for(auto &e:(o))cerr<<\" \"<<e;cerr<<endl;}\n#define rep(i,a,b) for(int i=(a);i<(b);i++)\n#define rrep(i,a,b) for(int i=(b)-1;i>=(a);i--)\n#define all(c) begin(c),end(c)\nconst int INF = sizeof(int) == sizeof(long long) ? 0x3f3f3f3f3f3f3f3fLL : 0x3f3f3f3f;\nconst int MOD = (int)(1e9 + 7);\n\nsigned main() {\n\tfor (int N; cin >> N&&N;) {\n\t\tvector<string> v(N); rep(i, 0, N) { cin >> v[i]; }\n\t\tbool none = false;\n\t\trep(i, 1, N) {\n\t\t\tif (v[i] == \"x\"&&v[i - 1] == \"x\") {\n\t\t\t\tnone = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (v[i - 1] != \"x\"&&v[i] != \"x\") {\n\t\t\t\tif (i & 1) {\n\t\t\t\t\tif (stoi(v[i - 1]) >= stoi(v[i])) {\n\t\t\t\t\t\tnone = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (stoi(v[i - 1]) <= stoi(v[i])) {\n\t\t\t\t\t\tnone = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (none) {\n\t\t\tcout << \"none\" << endl;\n\t\t\tcontinue;\n\t\t}\n\t\tint l = -INF, r = INF;\n\t\trep(i, 0, N) {\n\t\t\tif (v[i] != \"x\") continue;\n\t\t\tif (i & 1) {\n\t\t\t\tif (i != 0)l = max(l, stoi(v[i - 1]) + 1);\n\t\t\t\tif (i != N - 1)l = max(l, stoi(v[i + 1]) + 1);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (i != 0)r = min(r, stoi(v[i - 1]) - 1);\n\t\t\t\tif (i != N - 1)r = min(r, stoi(v[i + 1]) - 1);\n\t\t\t}\n\t\t}\n\t\tif (l == r) {\n\t\t\tcout << l << endl;\n\t\t}\n\t\telse if (l < r) {\n\t\t\tcout << \"ambiguous\" << endl;\n\t\t}\n\t\telse {\n\t\t\tcout << \"none\" << endl;\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nconst int dx[]={1,0,-1,0,1,-1,-1,1};\nconst int dy[]={0,1,0,-1,1,1,-1,-1};\nconst int INF = 2*1e9;\nconst long long LINF = 1e18;\nconst double EPS = 1e-8;\n#define pb push_back\n#define mk make_pair\n#define fr first\n#define sc second\n#define reps(i,j,k) for(int i = (j); i < (k); ++i)\n#define rep(i,j) reps(i,0,j)\n#define all(a) (a).begin(),(a).end()\n#define MOD 1000000007\ntypedef pair<int,int> Pii;\ntypedef pair<Pii,int> P;\ntypedef vector<int> vi;\ntypedef long long ll;\ntemplate<class T>\nostream& operator<<(ostream &out, const vector<T> &v){\n\tout << \"{\";\n\trep(i,v.size()){\n\t\tout << v[i] <<\", \";\n\t}\n\treturn out << \"}\" << endl;\n}\n\nint main() {\n\n\tint N;\n\twhile(cin >> N,N){\n\t\tint a[1024];\n\t\tvi idx;\n\t\tbool flg = true;\n\t\trep(i,N){\n\t\t\tstring str;\n\t\t\tcin >> str;\n\t\t\tif(str == \"x\") {\n\t\t\t\tif(idx.size() > 0 && idx[idx.size()-1]+1 == i){\n\t\t\t\t\tflg = false;\n\t\t\t\t}\n\t\t\t\tidx.pb(i);\n\t\t\t\ta[i] = INF;\n\t\t\t}\n\t\t\telse{\n\t\t\t\ta[i] = atoi(str.c_str());\n\t\t\t}\n\t\t}\n\t\tif(!flg){\n\t\t\tputs(\"none\");\n\t\t\tcontinue;\n\t\t}\n\t\tint mn = INF;\n\t\tint mx = -INF;\n\t\trep(i,idx.size()) {\n\t\t\tif(idx[i] == 0) {\n\t\t\t\tmn = min(mn,a[idx[i]+1] - 1);\n\t\t\t}\n\t\t\telse if (idx[i] == N-1) {\n\t\t\t\tif(N%2 == 1){\n\t\t\t\t\tmn = min(mn,a[idx[i]-1] -1);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tmx = max(mx, a[idx[i]-1] +1);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif(idx[i] % 2 == 0 ){\n\t\t\t\t\tmn = min(mn,min(a[idx[i]-1],a[idx[i]+1])-1);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tmx = max(mx, max(a[idx[i]-1],a[idx[i]+1])+1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\trep(i,N) {\n\t\t\tif(a[i] == INF){\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif(i == 0) {\n\t\t\t\tif(a[i+1] == INF){\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif(a[i] > a[i+1]){\n\t\t\t\t\tflg = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if ( i == N -1) {\n\t\t\t\tif(a[i-1] == INF) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif(N % 2 == 1){\n\t\t\t\t\tif(a[i] > a[i-1]){\n\t\t\t\t\t\tflg = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(a[i] < a[i-1]) {\n\t\t\t\t\t\tflg = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif(a[i+1] == INF && a[i-1] == INF){\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif(a[i+1] == INF){\n\t\t\t\t\tif(i % 2 == 1){\n\t\t\t\t\t\tif(a[i-1] > a[i]){\n\t\t\t\t\t\t\tflg = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tif(a[i-1] < a[i]){\n\t\t\t\t\t\t\tflg = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if(a[i-1] == INF) {\n\t\t\t\t\tif(i % 2 == 1){\n\t\t\t\t\t\tif(a[i+1] > a[i]){\n\t\t\t\t\t\t\tflg = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tif(a[i+1] < a[i]){\n\t\t\t\t\t\t\tflg = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(i % 2 == 1){\n\t\t\t\t\t\tif(a[i-1] > a[i] || a[i] < a[i+1]){\n\t\t\t\t\t\t\tflg = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tif(a[i-1] < a[i] || a[i] > a[i+1]) {\n\t\t\t\t\t\t\tflg = false;\n\t\t\t\t\t\t} \n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(mn == mx && flg){\n\t\t\tprintf(\"%d\\n\",mn);\n\t\t}\n\t\telse if(mn > mx && flg){\n\t\t\tputs(\"ambiguous\");\n\t\t}\n\t\telse{\n\t\t\tputs(\"none\");\n\t\t}\n\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdlib>\nusing namespace std;\n\nint main()\n{\n  while(1){\n    int n;\n    cin >> n;\n    if(n == 0) break;\n    int a[n];\n    for(int i = 0; i < n; i++){\n      string s;\n      cin >> s;\n      a[i] = s == \"x\" ? -1 : atoi(s.c_str());\n    } \n    long long int l = -9999999999, u = 1000000003;\n    for(int i = 0; i < n-1; i++){\n      if(a[i] == -1){\n        if(a[i+1] == -1){\n          u = l-1;\n          break;\n        }else{\n          if((i+1) & 1){\n            u = a[i+1];\n          }else{\n            l = a[i+1];\n          }\n        }\n      }else{\n        if(a[i+1] == -1){\n          if((i+1) & 1){\n            l = a[i];\n          }else{\n            u = a[i];\n          }\n        }else{\n          if((i+1) & 1){\n            if(a[i] >= a[i+1]){\n              u = l-1;\n              break;\n            }\n          }else{\n            if(a[i] <= a[i+1]){\n              u = l-1;\n              break;\n            }\n          }\n        }\n      }\n    }\n    if(u - l - 1 > 1)\n      cout << \"ambiguous\" << endl;\n    else if(u - l - 1 <= 0)\n      cout << \"none\" << endl;\n    else\n      cout << (u+l)/2 << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nusing ll = long long int;\nconstexpr int INF = 1 << 30;\n\nint solve(){\n    int n;\n    cin >> n;\n    if(n==0) return 1;\n    vector<ll> a(n);\n    vector<bool> broken(n);\n    for(int i=0;i<n;i++){\n        string s;\n        cin >> s;\n        if(s==\"x\") broken[i] = true;\n        else a[i] = stol(s);\n    }\n    ll low = -INF, up = INF;\n    bool valid = true;\n    for(int i=0;i<n-1;i++){\n        if(broken[i]){\n            if(i%2){\n                if(!broken[i+1]) low = max(low, a[i+1]+1);\n                else valid = false;\n            }else{\n                if(!broken[i+1]) up = min(up, a[i+1]);\n                else valid = false;\n            }\n        }else{\n            if(!broken[i+1]){\n                valid &= (i%2 ? a[i]>a[i+1] : a[i]<a[i+1]);\n            }else{\n                if(i%2){\n                    up = min(up, a[i]);\n                }else{\n                    low = max(low, a[i]+1);\n                }\n            }\n        }\n    }\n    if(!valid || low >= up){\n        cout << \"none\" << endl;\n    }else if(up-low >= 2){\n        cout << \"ambiguous\" << endl;\n    }else{\n        cout << low << endl;\n    }\n    return 0;\n}\n\nint main(){\n    while(solve()==0);\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<sstream>\nusing namespace std;\nint s2i(string str){\n  istringstream ss(str);\n  int n;\n  ss >> n;\n  return n;\n}\nint main(){\n  int n;\n  cin >> n;\n  int i,j,k;\n  string str;\n  while(n!=0){\n    int b,c;\n    int f=0;\n    int o=0;\n    int xmin=-1000000010,xmax=1000000010;\n    cin >> str;\n    if(str==\"x\"){\n      f=1;\n    }else{\n      b=s2i(str);\n    }\n    for(i=1;i<n;i++){\n      cin >> str;\n      if(str==\"x\"){\n\tif(f==1) o=1;\n\telse {\n\t  if(i%2==0){\n\t    xmax=min(xmax,b-1);\n\t  }else{\n\t    xmin=max(xmin,b+1);\n\t  }\n\t  f=1;\n\t}\n      }else{\n\tc=s2i(str);\n\tif(f==0){\n\t  if(i%2==0){\n\t    if(b<=c) o=1;\n\t  }else{\n\t    if(b>=c) o=1;\n\t  }\n\t  b=c;\n\t}else{\n\t  if(i%2==1){\n\t    xmax=min(xmax,c-1);\n\t  }else{\n\t    xmin=max(xmin,c+1);\n\t  }\n\t  f=0;\n\t}\n      }\n    }\n    //cout << xmax << \":\" << xmin << endl;\n    if(o==1){\n      cout << \"none\" << endl;\n    }else if(xmax-xmin>0){\n      cout << \"ambiguous\" << endl;\n    }else if(xmax-xmin==0){\n      cout << xmax << endl;\n    }else{\n      cout << \"none\" << endl;\n    }\n    cin >> n;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define REP(i,n) for(int i=0;i<(n);i++)\n#define ALL(v) (v).begin(),(v).end()\n#define fir first\n#define sec second\n#define PB push_back\n#define MP make_pair\n#define ll long long\nusing namespace std;\nint X=1e9+100;\nint main(){\n    int n;\n    while(1){\n        cin>>n;\n        if(n==0)break;\n        int v[n];\n        REP(i,n){\n            string s;\n            cin>>s;\n            if(s==\"x\")v[i]=X;\n            else{\n                REP(j,s.size()){\n                    if(s[j]=='-')continue;\n                    v[i]*=10;v[i]+=s[j]-'0';\n                }\n                if(s[0]=='0')v[i]*=-1;\n            }\n        }\n        int ma=X,mi=(-1)*X;\n        REP(i,n){\n            if(v[i]==X){\n                if(i%2==0){\n                    if(i>0){\n                        if(v[i-1]==X){ma=(-1)*X;mi=X;}\n                        else ma=min(ma,v[i-1]-1);\n                    }\n                    if(i<n-1){\n                        if(v[i+1]==X){ma=(-1)*X;mi=X;}\n                        else ma=min(ma,v[i+1]-1);\n                    }\n                }else{\n                    if(i>0){\n                        if(v[i-1]==X){ma=(-1)*X;mi=X;}\n                        else mi=max(mi,v[i+1]+1);\n                    }\n                    if(i<n-1){\n                        if(v[i+1]==X){ma=(-1)*X;mi=X;}\n                        else mi=max(mi,v[i+1]+1);\n                    }\n                }\n            }else{\n                if(i%2==0){\n                    if(i>0&&v[i-1]!=X&&v[i]>=v[i-1]){ma=(-1)*X;mi=X;}\n                    if(i<n-1&&v[i+1]!=X&&v[i]>=v[i+1]){ma=(-1)*X;mi=X;}\n                }else{\n                    if(i>0&&v[i-1]!=X&&v[i]<=v[i-1]){ma=(-1)*X;mi=X;}\n                    if(i<n-1&&v[i+1]!=X&&v[i]<=v[i+1]){ma=(-1)*X;mi=X;}\n                }\n            }\n        }\n        if(ma==mi)cout<<mi<<endl;\n        else if(ma>mi)cout<<\"ambiguous\"<<endl;\n        else cout<<\"none\"<<endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\nconst int INF = 1e9;\nconst ll LINF = 1e18;\ntemplate<class S,class T> ostream& operator << (ostream& out,const pair<S,T>& o){ out << \"(\" << o.first << \",\" << o.second << \")\"; return out; }\ntemplate<class T> ostream& operator << (ostream& out,const vector<T>& V){ for(int i = 0; i < V.size(); i++){ out << V[i]; if(i!=V.size()-1) out << \" \";} return out; }\ntemplate<class T> ostream& operator << (ostream& out,const vector<vector<T> >& Mat){ for(int i = 0; i < Mat.size(); i++) { if(i != 0) out << endl; out << Mat[i];} return out; }\ntemplate<class S,class T> ostream& operator << (ostream& out,const map<S,T>& mp){ out << \"{ \"; for(auto it = mp.begin(); it != mp.end(); it++){ out << it->first << \":\" << it->second; if(mp.size()-1 != distance(mp.begin(),it)) out << \", \"; } out << \" }\"; return out; }\ntemplate<typename T>vector<T> make_v(size_t a){return vector<T>(a);}\ntemplate<typename T,typename... Ts>auto make_v(size_t a,Ts... ts){return vector<decltype(make_v<T>(ts...))>(a,make_v<T>(ts...));}\ntemplate<typename T,typename V> typename enable_if<is_class<T>::value==0>::type fill_v(T &t,const V &v){t=v;}\ntemplate<typename T,typename V> typename enable_if<is_class<T>::value!=0>::type fill_v(T &t,const V &v){for(auto &e:t) fill_v(e,v);}\n/*\n <url:>\n 問題文============================================================\n =================================================================\n 解説=============================================================\n ================================================================\n */\n\ntemplate<class Type>\nType solve(Type res = Type()){\n    return res;\n}\nint main(void) {\n    cin.tie(0); ios_base::sync_with_stdio(false);\n    // solve(0);\n    // cout << fixed << setprecision(15) << solve<ll>() << endl;\n    int N;\n    while(cin >> N,N){\n        vector<int> a(N);\n        vector<char> x(N);\n        for(int i = 0; i < N;i++){\n            string s; cin >> s;\n            if(s == \"x\"){\n                x[i] = true;\n                continue;\n            }\n            a[i] = atoi(s.c_str());\n        }\n        bool ng = false;\n        for(int i = 1; i < N;i++){\n            if(x[i] && a[i-1] == a[i]) ng = true;\n        }\n        for(int i = 0; i < N;i++){\n            if(x[i]) continue;\n            if(i!=0){\n                if(i&1){\n                    if(!x[i-1] && a[i-1] > a[i]) ng = true;\n                }else{\n                    if(!x[i-1] && a[i-1] < a[i]) ng = true;\n                }\n            }\n            if(i!=N-1){\n                if(i&1){\n                    if(!x[i+1] && a[i+1] > a[i]) ng = true;\n                }else{\n                    if(!x[i+1] && a[i+1] < a[i]) ng = true;\n                }\n            }\n        }\n        if(ng){\n            cout << \"none\" << endl;\n            continue;\n        }\n        int l = -2*INF,r = 2*INF;\n        for(int i = 0; i < N;i++){\n            if(!x[i]) continue;\n            if(i!=0){\n                if(i&1){if(!x[i-1])l = max(l,a[i-1]+1); }\n                else { if(!x[i-1]) r = min(r,a[i-1]-1);}\n            }\n            if(i!=N-1){\n                if(i&1){ if(!x[i+1])l = max(l,a[i+1]+1); }\n                else { if(!x[i+1])r = min(r,a[i+1]-1);}\n            }\n        }\n        //cout << l << \" \" << r <<endl;\n        if(l==r){\n            cout << l << endl;\n        }else if(r < l){\n            cout << \"none\" << endl;\n        }else{\n            cout << \"ambiguous\" << endl;\n        }\n    }\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define range(i,a,b) for(int i = (a); i < (b); i++)\n#define rep(i,b) for(int i = 0; i < (b); i++)\n#define all(a) (a).begin(), (a).end()\n#define debug(x) cout << \"debug \" << x << endl;\nconst int INF = 2000000005;\nconst int X = 2000000000;\nusing namespace std;\n\n//?????????????????°???????????????\nint toNum(string str, bool minus){\n    int num = 0;\n    rep(i,str.size()){\n        num *= 10;\n        num += str[i] - '0';\n    }\n    if(minus) num*=-1;\n    return num;\n}\n\nvoid checkMinus(int a[1005], string s[1001], int n){\n    rep(i,n){\n        if(s[i][0] == '-'){\n            a[i] = toNum(s[i].substr(1,s[i].size() - 1), 1);\n        }else if(s[i][0] == 'x') {\n            a[i] = X;\n        }else{\n            a[i] = toNum(s[i], 0);\n        }\n    }\n}\n\nbool isDoubleX(int a[1001], int n){\n    rep(i,n - 1){\n        if(a[i] == X && a[i + 1] == X) return 1;\n    }\n    return 0;\n}\n\nbool isInpossible(int a[1001], int n){\n    for(int i = 0; i < n; i+=2){\n        if(a[i] == X || a[i + 1] == X || i + 1 >= n) continue;\n        if(a[i] >= a[i + 1]) return 1;\n    }\n    for(int i = 1; i < n; i+=2){\n        if(a[i] == X || a[i + 1] == X || i + 1 >= n) continue;\n        if(a[i] <= a[i + 1]) return 1;\n    }\n    return 0;\n}\n\n\nint main(){\n    int n;\n    while(cin >> n, n){\n        int a[1005];\n        string s[1001];\n        rep(i,1001) s[i] = {};\n        int ans[2] = {-1 * INF,INF};\n\n        rep(i,n) cin >> s[i];\n        checkMinus(a, s, n);\n        //debug(isInpossible(a,n))\n\n        if(isDoubleX(a,n) || isInpossible(a,n)){\n            cout << \"none\" << endl;\n            continue;\n        }else{\n            rep(i,n){\n                if(a[i] == X && i != 0 && i != n - 1){\n                    if(i % 2) ans[0] = max(max(a[i - 1], a[i + 1]), ans[0]);\n                    else ans[1] = min(min(a[i - 1], a[i + 1]), ans[1]);\n                }else if(a[i] == X && i == 0){\n                    ans[1] = min(ans[1], a[i + 1]);\n                }else if(a[i] == X && i == n - 1){\n                    if(i % 2) ans[0] = max(ans[0], a[i - 1]);\n                    else ans[1] = min(ans[1], a[i - 1]);\n                }\n            }\n            //cout << ans[0] << ' '  << ans[1] << endl;\n            //if(a[0] == 1000000000 || a[1] == -10000000000) cout << \"none\" << endl;\n            if(abs(ans[1] - ans[0]) == 2) cout << (ans[0] + ans[1]) / 2 << endl;\n            else if(abs(ans[1] - ans[0]) > 2) cout << \"ambiguous\" << endl;\n            else cout << \"none\" << endl;\n        }\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<cstdlib>\n\nusing namespace std;\n\n\nint main(){\n  for(int N;cin>>N,N;){\n    string s[1234];\n    for(int i=0;i<N;i++){\n      cin>>s[i];\n    }\n    bool f=false;\n    int lt=1e9+9,ht=-1e9+9;\n    for(int i=0;i<N-1;i++){\n      if(s[i][0]=='x'){\n\tif(s[i+1][0]=='x'){\n\t  f=true;\n\t}else{\n\t  if(i%2==0){\n\t    lt=min(lt,stoi(s[i+1]));\n\t  }else{\n\t    ht=max(ht,stoi(s[i+1]));\n\t  }\n\t}\n      }else{\n\tif(s[i+1][0]=='x'){\n\t  if((i+1)%2==0){\n\t    lt=min(lt,stoi(s[i]));\n\t  }else{\n\t    ht=max(ht,stoi(s[i]));\n\t  }\n\t}else{\t      \n\t  if(i%2){\n\t    f|=stoi(s[i])<=stoi(s[i+1]);\n\t  }else{\n\t    f|=stoi(s[i])>=stoi(s[i+1]);\n\t  }\n\t}\n      }\n    }\n    if(f||lt-ht<2){\n      cout<<\"none\"<<endl;\n    }else if(lt-ht>2){\n      cout<<\"ambiguous\"<<endl;\n    }else{\n      cout<<lt-1<<endl;\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define REP(i,n) for(int i=0;i<(int)(n);i++)\n\nusing namespace std;\n\nconst int INF = 1000000005;\n\nint main() {\n  while(1){\n    int n;\n    cin>>n;\n    if(!n)break;\n    vector<string> in(n+1);\n    REP(i,n) cin>>in[i+1];\n    in[0] = to_string(INF);\n    int upper = INF;\n    int lower = -INF;\n    bool ok = true;\n    REP(i,n) {\n      if (in[i+1] == \"x\") {\n        if ((i+1)%2) {\n          if (in[i] != \"x\") {\n            int vp = stoi(in[i]);\n            upper = min(upper, vp-1);\n          } else {\n            ok = false;\n            break;\n          }\n        } else {\n          if (in[i] != \"x\") {\n            int vp = stoi(in[i]);\n            lower = max(lower, vp+1);\n          } else {\n            ok = false;\n            break;\n          }\n        }\n      } else {\n        int v = stoi(in[i+1]);\n        if((i+1)%2){\n          if (in[i] != \"x\") {\n            int vp = stoi(in[i]);\n            if (vp <= v) {\n              ok = false;\n              break;\n            }\n          } else {\n            lower = max(lower, v+1);\n          }\n        } else {\n          if (in[i] != \"x\") {\n            int vp = stoi(in[i]);\n            if (vp >= v) {\n              ok = false;\n              break;\n            }\n          } else {\n            upper = min(upper, v-1);\n          }\n        }\n      }\n    }\n    if (!ok) {\n      cout << \"none\" << endl;\n    } else if (lower == upper) {\n      cout << lower << endl;\n    } else if (lower > upper) {\n      cout << \"none\" << endl;\n    } else {\n      cout << \"ambiguous\" << endl;\n    }\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <iostream>\n#include <string>\nusing namespace std;\nint n;\nint data[2001];\nbool xx[2001];\n\nint main(void){\n\twhile(1){\n\t\tscanf(\"%d\",&n);\n\t\tif(n==0)break;\n\t\tmemset(xx,false,sizeof(xx));\n\t\tmemset(data,0,sizeof(data));\n\t\tfor(int i=0;i<n;i++){\n\t\t\tstring str;\n\t\t\tcin >> str;\n\t\t\tif(str==\"x\")xx[i]=true;\n\t\t\telse{\n\t\t\t\tint num=0;\n\t\t\t\tbool pm=true;\n\t\t\t\tfor(int j=0;j<str.size();j++){\n\t\t\t\t\tif(str[j]=='-'){\n\t\t\t\t\t\tpm=false;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tnum*=10;\n\t\t\t\t\tnum+=str[j]-'0';\n\t\t\t\t}\n\t\t\t\tdata[i]=num;\n\t\t\t\tif(!pm)data[i]*=-1;\n\t\t\t}\n\t\t}\n\t\tint lx=-2e9,rx=2e9;\n\t\tbool flag=true;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tif(i%2==0){\n\t\t\t\tif(!xx[i]){\n\t\t\t\t\tif(i+1<n && !xx[i+1] && data[i]>=data[i+1]){\n\t\t\t\t\t\tflag=false;\n\t\t\t\t\t}\n\t\t\t\t\tif(i-1>=0 && !xx[i-1] && data[i]>=data[i-1]){\n\t\t\t\t\t\tflag=false;\n\t\t\t\t\t}\n\t\t\t\t\tif(i+1<n && xx[i+1]){\n\t\t\t\t\t\tlx=max(lx,data[i]+1);\n\t\t\t\t\t}\n\t\t\t\t\tif(i-1>=0 && xx[i-1]){\n\t\t\t\t\t\tlx=max(lx,data[i]+1);\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(i+1<n && !xx[i+1]){\n\t\t\t\t\t\trx=min(rx,data[i+1]-1);\n\t\t\t\t\t}\n\t\t\t\t\tif(i-1>=0 && !xx[i-1]){\n\t\t\t\t\t\trx=min(rx,data[i-1]-1);\n\t\t\t\t\t}\n\t\t\t\t\tif(i+1<n && xx[i+1]){\n\t\t\t\t\t\tflag=false;\n\t\t\t\t\t}\n\t\t\t\t\tif(i-1>=0 && xx[i-1]){\n\t\t\t\t\t\tflag=false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t/*\n\t\t\tif(i%2==1){\n\t\t\t\tif(!xx[i]){\n\t\t\t\t\tif(i+1<n && !xx[i+1] && data[i]<=data[i+1]){\n\t\t\t\t\t\tflag=false;\n\t\t\t\t\t}\n\t\t\t\t\tif(i-1>=0 && !xx[i-1] && data[i]<=data[i-1]){\n\t\t\t\t\t\tflag=false;\n\t\t\t\t\t}\n\t\t\t\t\tif(i+1<n && xx[i+1]){\n\t\t\t\t\t\trx=min(rx,data[i]-1);\n\t\t\t\t\t}\n\t\t\t\t\tif(i-1>=0 && xx[i-1]){\n\t\t\t\t\t\trx=min(rx,data[i]-1);\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(i+1<n && !xx[i+1]){\n\t\t\t\t\t\tlx=max(lx,data[i+1]+1);\n\t\t\t\t\t}\n\t\t\t\t\tif(i-1>=0 && !xx[i-1]){\n\t\t\t\t\t\tlx=max(lx,data[i-1]+1);\n\t\t\t\t\t}\n\t\t\t\t\tif(i+1<n && xx[i+1]){\n\t\t\t\t\t\tflag=false;\n\t\t\t\t\t}\n\t\t\t\t\tif(i-1>=0 && xx[i-1]){\n\t\t\t\t\t\tflag=false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t*/\n\t\t}\n\t\tif(!flag || lx>rx)printf(\"none\\n\");\n\t\telse if(lx!=rx)printf(\"ambiguous\\n\");\n\t\telse printf(\"%d\\n\",lx);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define LOG(...) fprintf(stderr,__VA_ARGS__)\n//#define LOG(...)\n#define FOR(i,a,b) for(int i=(int)(a);i<(int)(b);++i)\n#define REP(i,n) for(int i=0;i<(int)(n);++i)\n#define ALL(a) (a).begin(),(a).end()\n#define RALL(a) (a).rbegin(),(a).rend()\n#define EXIST(s,e) ((s).find(e)!=(s).end())\n#define SORT(c) sort(ALL(c))\n#define RSORT(c) sort(RALL(c))\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef vector<bool> vb;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\ntypedef vector<vb> vvb;\ntypedef vector<vi> vvi;\ntypedef vector<vll> vvll;\ntypedef pair<int,int> pii;\ntypedef pair<ll,ll> pll;\n\nint main() {\n    int n;\n    while(cin >> n, n){\n        string preinput;\n        string input;\n\n        bool no = 0;\n        bool sm_bg = true;\n\n        int min_n = -2000000000;\n        int max_n = +2000000000;\n\n        cin >> preinput;\n        for(int i = 1;i < n; i++){\n            cin >> input;\n            if(no) continue;\n            if(preinput == input){\n                no = true;\n                continue;\n            }\n            if(input == \"x\"){\n                int comp = atoi(preinput.c_str());\n                if(sm_bg){\n                    if(comp < min_n){\n                        no = true;\n                        continue;\n                    }\n                    min_n = comp + 1;\n                }else {\n                    if(comp > max_n){\n                        no = true;\n                        continue;\n                    }\n                    max_n = comp - 1;\n                }\n            }else if(preinput == \"x\"){\n                int comp = atoi(input.c_str());\n                if(!sm_bg){\n                    if(comp < min_n){\n                        no = true;\n                        continue;\n                    }\n                    min_n = comp + 1;\n                }else {\n                    if(comp > max_n){\n                        no = true;\n                        continue;\n                    }\n                    max_n = comp - 1;\n                }\n            }else{\n                int a = atoi(preinput.c_str());\n                int b = atoi(input.c_str());\n                if(sm_bg){\n                    if(a > b){\n                        no = true;\n                        continue;\n                    }\n                }else{\n                    if(a < b){\n                        no = true;\n                        continue;\n                    }\n                }\n            }\n\n            if(max_n < min_n){\n                no = true;\n                continue;\n            }\n\n\n            preinput = input;\n            sm_bg = !sm_bg;\n        }\n\n        // printf(\"%d %d \\n\", min_n, max_n);\n        if(no){\n            cout << \"none\" << endl;\n        }else if (min_n == max_n){\n            cout << min_n << endl;\n        }else{\n            cout << \"ambiguous\" << endl;\n        }\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nint main()\n{\n  int n;\n  while(cin >> n, n){    \n    string signal[1002];\n    signal[0] = to_string(1e9);\n    for(int i = 1; i <= n; i++) cin >> signal[i];\n    if(n % 2) signal[n + 1] = to_string(1e9);\n    else signal[n + 1] = to_string(-(1e9));\n    int less = -(1e9)-3, more = 1e9+3;    \n    for(int i = 1; i <= n; i++){\n      if(signal[i] == \"x\"){\n\tif(signal[i-1] == \"x\" || signal[i+1] == \"x\"){\n\t  less = 1e9+3, more = -(1e9)-3;\n\t  break;\n\t}\n\tif(i % 2) more = min(more, min(stoi(signal[i-1]), stoi(signal[i+1]))-1);\n\telse less = max(less, max(stoi(signal[i-1]), stoi(signal[i+1]))+1);\n      } else if(signal[i-1] != \"x\" && signal[i+1] != \"x\"){\n\tif(i%2 == 0 && (stoi(signal[i]) <= stoi(signal[i-1]) || stoi(signal[i]) <= stoi(signal[i+1])) ||\n\t   i%2 == 1 && (stoi(signal[i]) >= stoi(signal[i-1]) || stoi(signal[i]) >= stoi(signal[i+1]))){\n\t  less = 1e9+3, more = -(1e9)-3;\n\t  break;\n\t}\n      }\n    }\n    if(less == more) cout << more << endl;\n    else if(more > less) cout << \"ambiguous\" << endl;\n    else if(more < less) cout << \"none\" << endl;\n  }  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n\nconst int INF = 1e+9 * 2;\n\nint main() {\n\tstd::ios::sync_with_stdio(false);\n    std::cin.tie(0);\n    \n    int N;\n\twhile(cin >> N && N){\n\t\tstring s;\n\t\tbool check[1001] = {0};\n\t\tint a[1001] = {0}, cnt = 0;\n\t\tfor(int i = 1; i <= N; ++i){\n\t\t\tcin >> s;\n\t\t\tif(s == \"x\"){\n\t\t\t\ta[i] = INF;\n\t\t\t\tcheck[i] = true;\n\t\t\t\tcnt++;\n\t\t\t}\n\t\t\telse{\n\t\t\t\ta[i] = stoi(s);\n\t\t\t}\n\t\t}\n\t\tbool ok = true;\n\t\tfor(int i = 1; i <= N; ++i){\n\t\t\tif(!check[i]){\n\t\t\t\tif(i % 2){\n\t\t\t\t\tif(i > 1){\n\t\t\t\t\t\tif(!check[i - 1] && a[i - 1] <= a[i]){\n\t\t\t\t\t\t\tok = false;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(i < N){\n\t\t\t\t\t\tif(!check[i + 1] && a[i] >= a[i + 1]){\n\t\t\t\t\t\t\tok = false;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(!check[i - 1] && a[i - 1] >= a[i]){\n\t\t\t\t\t\tok = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\tif(i < N){\n\t\t\t\t\t\tif(!check[i + 1] && a[i] <= a[i + 1]){\n\t\t\t\t\t\t\tok = false;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(!ok || cnt == N){\n\t\t\tcout << \"none\" << endl;\n\t\t\tcontinue;\n\t\t}\n\t\telse if(ok && cnt == 0){\n\t\t\tcout << \"ambiguous\" << endl;\n\t\t\tcontinue;\n\t\t}\n\t\tint omin = INF, emin = -INF;\n\t\tfor(int i = 1; i <= N; ++i){\n\t\t\tif(check[i]){\n\t\t\t\tif(i % 2){\n\t\t\t\t\tif(i > 1 && !check[i - 1]){\n\t\t\t\t\t\tomin = min(omin, a[i - 1] - 1);\n\t\t\t\t\t}\n\t\t\t\t\tif(i < N && !check[i + 1]){\n\t\t\t\t\t\tomin = min(omin, a[i + 1] - 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(i < N && !check[i + 1]){\n\t\t\t\t\t\temin = max(emin, a[i + 1] + 1);\n\t\t\t\t\t}\n\t\t\t\t\tif(!check[i - 1])\n\t\t\t\t\t\temin = max(emin, a[i - 1] + 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(emin == omin){\n\t\t\tcout << emin << endl;\n\t\t}\n\t\telse if(emin < omin || omin == INF || emin == -INF){\n\t\t\tcout << \"ambiguous\" << endl;\n\t\t}\n\t\telse{\n\t\t\tcout << \"none\" << endl;\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\n#include <cmath>\n#include <math.h>\nusing namespace std;\nint main(){\n\tint n;\n\tstring s(\"0123456789\");\n\twhile(cin>>n){\n\t\tif(n==0) break;\n\t\tint x[n+1],da[n+1],noneflg=0;\n\t\tx[0]=0;\n\t\tstring a[n+1];\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tx[i]=0;\n\t\t\tda[i]=0;\n\t\t\tcin>>a[i];\n\t\t\tif(a[i]==\"x\"){\n\t\t\t\tx[i]=1;\n\t\t\t\tif(x[i-1]==1){\n\t\t\t\t\tnoneflg=1;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tint len=a[i].size();\n\t\t\t\tfor(int j=0;j<len;j++){\n\t\t\t\t\tfor(int k=0;k<10;k++){\n\t\t\t\t\t\tif(a[i][len-1-j]==s[k]){\n\t\t\t\t\t\t\tda[i]=da[i]+pow(10,j)*k;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(a[i][0]=='-'){\n\t\t\t\t\tda[i]=-da[i];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor(int i=1;i<=n-1;i++){\n\t\t\tif(da[i]!=0&&da[i+1]!=0){\n\t\t\t\tif(i%2==0){\n\t\t\t\t\tif(da[i]<=da[i+1]){\n\t\t\t\t\t\tnoneflg=1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(da[i]>=da[i+1]){\n\t\t\t\t\t\tnoneflg=1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ue=pow(10,9)+2,shita=-ue;\n\t\tfor(int i=2;i<=n-1;i++){\n\t\t\tif(x[i]==1){\n\t\t\t\tif(i%2==0){\n\t\t\t\t\tif(x[i-1]==0) shita=max(shita,da[i-1]+1);\n\t\t\t\t\tif(x[i+1]==0) shita=max(shita,da[i+1]+1);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(x[i-1]==0) ue=min(ue,da[i-1]-1);\n\t\t\t\t\tif(x[i+1]==0) ue=min(ue,da[i+1]-1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(x[1]==1&&x[2]==0){\n\t\t\tue=min(ue,da[2]-1);\n\t\t}\n\t\tif(x[n]==1&&x[n-1]==0){\n\t\t\tif(n%2==0){\n\t\t\t\tshita=max(shita,da[n-1]+1);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tue=min(ue,da[n-1]-1);\n\t\t\t}\n\t\t}\n\t\tif(noneflg==1){\n\t\t\tcout<<\"none\"<<endl;\n\t\t}\n\t\telse if(ue==shita){\n\t\t\tcout<<ue<<endl;\n\t\t}\n\t\telse if(ue>shita){\n\t\t\tcout<<\"ambiguous\"<<endl;\n\t\t}\n\t\telse if(ue<shita){\n\t\t\tcout<<\"none\"<<endl;\n\t\t}\n\t}\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <cmath>\n#include <algorithm>\n#include <cstdlib>\n#include <ctime>\n#include <cstdio>\n#include <functional>\n#include <set>\n#include <sstream>\n#include <map>\n#include <queue>\n#include <stack>\n\nusing namespace std;\n\n\nconst int six_dx[]={1,1,0,-1,-1,0};\nconst int six_dy[]={1,0,-1,-1,0,1};\n\nint main()\n{\n\tint n;\n\twhile(cin>>n,n){\n\n\t\tvector<long long> a(n,-1);\n        int x=0;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tstring s;\n\t\t\tcin>>s;\n\n\t\t\tif(s!=\"x\"){\n\t\t\t\tstringstream ss;\n\t\t\t\tss<<s;\n\t\t\t\tss>>a[i];\n\t\t\t}\n            else x++;\n\t\t}\n        \n        if(x==n){cout<<\"none\"<<endl; continue;}\n\n        bool none=false;\n        for(int i=1;i<n;i++){\n            if(a[i-1]!=-1 && a[i]!=-1 && (i%2 && a[i-1]>=a[i] || i%2==0 && a[i-1]<=a[i])) none=true;\n        }\n        if(none){cout<<\"none\"<<endl; continue;}\n        \n\t\tlong long L=-10000000000,R=10000000000;\n\t\t\n\t\tif(a[0]==-1){\n\t\t\tif(a[1]==-1){cout<<\"none\"<<endl; continue;}\n\t\t\telse L=a[1]+1;\n\t\t}\n\n\t\tfor(int i=1;i<n-1 && !none;i++){\n\t\t\tif(a[i]==-1){\n\t\t\t\tif(a[i-1]==-1 || a[i+1]==-1){none=true;}\n                else if((i+1)%2==0){\n                    if(L<=max(a[i-1],a[i+1])+1 && max(a[i-1],a[i+1])+1<=R) L=max(a[i-1],a[i+1])+1;\n                    else none=true;\n                }else{\n                    if(L<=min(a[i-1],a[i+1])-1 && min(a[i-1],a[i+1])-1<=R) R=min(a[i-1],a[i+1])-1;\n                    else none=true;\n                }\n\t\t\t\t//cout<<a[i-1]<<\" x \"<<a[i+1]<<\" -> \";\n\t\t\t\t//cout<<\"L=\"<<L<<\" R=\"<<R<<endl;\n\t\t\t}\n\t\t}\n\n        if(a[n-1]==-1){\n            if(n%2==0){\n                if(L<=a[n-2]+1 && a[n-2]+1<=R) L=a[n-2]+1;\n                else none=true;\n            }else{\n                if(L<=a[n-2]-1 && a[n-2]-1<=R) R=a[n-2]-1;\n                else none=true;\n            }\n        }\n        \n\t\tif(none){cout<<\"none\"<<endl;}\n\t\telse if(L==R) cout<<L<<endl;\n\t\telse cout<<\"ambiguous\"<<endl;\n\t\t\n\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i, a, n) for(int i = a; i < n; i++)\n#define repb(i, a, b) for(int i = a; i >= b; i--)\n#define all(a) a.begin(), a.end()\n#define o(a) cout << a << endl\n#define int long long\n#define first fi;\n#define second se;\nusing namespace std;\ntypedef pair<int, int> P;\n\nint change_to_i(string s){\n    stringstream ss; int k;\n    ss<<s; ss>>k;\n    return k;\n}\n\nsigned main(){\n    int n;\n    while(cin >> n, n){\n        string s;\n        vector<int> d(n);\n        rep(i, 0, n){\n            cin >> s;\n            if(s == \"x\") d[i] = -1;\n            else d[i] = change_to_i(s);\n            // cout << d[i] << \" \";\n        }\n        // cout << endl;\n        bool f = true;\n        int l = -1e10, r = 1e10;\n        rep(i, 0, n){\n            if(d[i] == -1){\n                if(i - 1 >= 0 && d[i - 1] == -1) f = false;\n                if(i + 1 < n && d[i + 1] == -1) f = false;\n                if((i + 1) % 2){\n                    if(i - 1 >= 0) r = min(r, d[i - 1] - 1);\n                    if(i + 1 < n) r = min(r, d[i + 1] - 1);\n                }else{\n                    if(i - 1 >= 0) l = max(l, d[i - 1] + 1);\n                    if(i + 1 < n) l = max(l, d[i + 1] + 1);\n                }\n            }else{\n                if((i + 1) % 2){\n                    if(i - 1 >= 0 && d[i - 1] != -1 && d[i - 1] <= d[i]) f = false;\n                    if(i + 1 < n && d[i + 1] != -1 && d[i] >= d[i + 1]) f = false;\n                }else{\n                    if(i - 1 >= 0 && d[i - 1] != -1 &&  d[i - 1] > d[i]) f = false;\n                    if(i + 1 < n && d[i + 1] != -1 && d[i] < d[i + 1]) f = false;\n                }\n            }\n        }\n        // cout << l << \" \" << r << endl;\n        if(l > r) f = false;\n        if(!f) cout << \"none\" << endl;\n        else if(l == r) cout << l << endl;\n        else cout << \"ambiguous\" << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <cstring>\n#include <algorithm>\n#include <sstream>\n\n#define REP(i,k,n) for(int i=k;i<n;i++)\n#define rep(i,n) for(int i=0;i<n;i++)\n\nusing namespace std;\ntypedef long long ll;\n\nint main()\n{\n    int n;\n    while(cin >> n && n) {\n        vector<string> v(n);\n        rep(i,n) cin >> v[i];\n\n        vector<int> res(n);\n        rep(i,n) {\n            if(v[i] == \"x\") res[i] = 0;\n            else {\n                stringstream ss;\n                ss << v[i];\n                ss >> res[i];\n            }\n        }\n\n        bool flag = true;\n        rep(i,n-1) {\n            if(v[i] == \"x\" && v[i+1] == \"x\") flag = false;\n        }\n\n        if(!flag) {\n            cout << \"none\" << endl;\n        }\n        else {\n            bool up = true;\n            for(int i=0;i<n;i+=2) {\n                if(v[i] == \"x\" || v[i+1] == \"x\") continue;\n                if(v[i] > v[i+1]) {\n                    up = false;\n                }\n            }\n\n            bool down = true;\n            for(int i=0;i<n;i+=2) {\n                if(v[i] == \"x\" || v[i+1] == \"x\") continue;\n                if(v[i] < v[i+1]) {\n                    down = false;\n                } \n            }\n\n            if(!up && !down) {\n                cout << \"none\" << endl;\n            }\n            else {\n                int M = 1000000000;\n                int l = -M+5;\n                int r = M+5;\n\n                rep(i,n) {\n                    if(v[i] != \"x\") continue;\n\n                    if(i%2 == 0) {\n                        if(i == 0) {\n                            r = min(r,res[i+1]-1);\n                        }\n                        if(0 < i && i < n-1) {\n                            r = min(r,res[i-1]-1);\n                            r = min(r,res[i+1]-1);\n                        }\n                        if(i == n-1) {\n                            r = min(r,res[i-1]-1);\n                        }\n                    }\n                    else {\n                        if(i == 0) {\n                            l = max(l,res[i+1]+1);\n                        }\n                        if(0 < i && i < n-1) {\n                            l = max(l,res[i-1]+1);\n                            l = max(l,res[i+1]+1);\n                        }\n                        if(i == n-1) {\n                            l = max(l,res[i-1]+1);\n                        }\n                    }\n                }\n\n                if(l == r) {\n                    cout << l << endl;\n                }\n                else if(l > r) {\n                    cout << \"none\" << endl;\n                }\n                else {\n                    cout << \"ambiguous\" << endl;\n                }\n            }\n\n        }\n\n\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\nusing namespace std;\n\nint main(){\n    int N;\n    while(cin>>N,N){\n        vector<int> A(N);\n        for(auto &a:A){\n            string s;\n            cin>>s;\n            if(s==\"x\"){\n                a=2000000000;\n            }else{\n                a=stoi(s);\n            }\n        }\n        int up=1000000100;\n        int lo=-1000000100;\n        for(int i=0;i<N;i++){\n            if(A[i]==2000000000){\n                if(i%2==0){\n                    if(i-1>=0) up=min(up,A[i-1]);\n                    if(i+1<N) up=min(up,A[i+1]);\n                }else{\n                    if(i-1>=0) lo=max(lo,A[i-1]);\n                    if(i+1<N) lo=max(lo,A[i+1]);\n                }\n            }else{\n                if(i%2==0){\n                    if(i-1>=0&&A[i-1]!=2000000000&&A[i]>=A[i-1]){\n                        lo=1000000100;\n                        up=-1000000100;\n                        // cout<<'A'<<endl;\n                        break;\n                    }\n                    if(i+1<N&&A[i+1]!=2000000000&&A[i]>=A[i+1]){\n                        lo=1000000100;\n                        up=-1000000100;\n                        // cout<<'B'<<endl;\n                        break;\n                    }\n                }else{\n                    if(i-1>=0&&A[i-1]!=2000000000&&A[i]<=A[i-1]){\n                        lo=1000000100;\n                        up=-1000000100;\n                        // cout<<'C'<<endl;\n                        break;\n                    }\n                    if(i+1<N&&A[i+1]!=2000000000&&A[i]<=A[i+1]){\n                        lo=1000000100;\n                        up=-1000000100;\n                        // cout<<'D'<<endl;\n                        break;\n                    }\n                }\n            }\n        }\n        // cout<<up<<' '<<lo<<endl;\n        if(up-lo<2){\n            cout<<\"none\"<<endl;\n        }else if(up-lo==2){\n            cout<<lo+1<<endl;\n        }else{\n            cout<<\"ambigious\"<<endl;\n        }\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<vector>\n#include<cstdio>\n#include<sstream>\n#include<algorithm>\n#include<cmath>\n#include<map>\n#include<functional>\nusing namespace std;\nint stoi(string x){stringstream ss;ss<<x;int tmp;ss>>tmp;return tmp;}\nstring itos(int x){stringstream ss;ss<<x;return ss.str();}\nconst int INF=1111111111;\nint main(){\nint n;\nwhile(cin>>n,n){\n\tint a=-INF,b=INF;\n\tbool none_flag=0,void_flag=1,ok=1;\n\tvector<int>ta(0);\n\tfor(int i=0;i<n;i++){\n\t\tstring tmp;\n\t\tcin>>tmp;\n\t\tif(tmp==\"x\")ta.push_back(INF);\n\t\telse ta.push_back( stoi(tmp) );\n\t}\n\tfor(int i=1;i<n;i++){\n\tif(ta[i]==INF&&ta[i-1]==INF)none_flag=1;\n\tif(ta[i]==INF)void_flag=0;\n\t}\n\tif(ta[0]==INF)void_flag=0;\n\t\n\tfor(int i=0;i<n;i++){\n\t\tif(ta[i]==INF){\n\t\t\tint xa,xb;\n\t\t\tif((i+1)%2==0){//?????°\n\t\t\tif(i==0)xa=ta[1],xb=-INF;\n\t\t\telse if(i==n-1)xa=ta[n-2],xb=-INF;\n\t\t\telse xa=ta[i-1],xb=ta[i+1];\n\t\t\ta=max( a,max(xa,xb) );\n\t\t\t}\n\t\t\telse {\n\t\t\tif(i==0)xa=ta[1],xb=INF;\n\t\t\telse if(i==n-1)xa=ta[n-2],xb=INF;\n\t\t\telse xa=ta[i-1],xb=ta[i+1];\n\t\t\tb=min(b,min(xa,xb));\n\t\t\t}//endelse\n\t\t\t\n\t\t}//endif\n\t}//endfor\n\tfor(int i=0;i<n;i++){\n\tif((i+1)%2==1){//?\\???°\n\tif(i==0&&ta[i+1]<=ta[i])ok=0;\n\t\telse if(i==0){}\n\telse if(i==n-1&&ta[n-2]<=ta[i])ok=0;\n\t\telse if(i==n-1){}\n\telse if(ta[i-1]<=ta[i]||ta[i+1]<=ta[i])ok=0;\n\t}\n\telse {\n\tif(i==0&&ta[i+1]>=ta[i])ok=0;\n\t\telse if(i==0){}\n\tif(i==n-1&&ta[n-2]>=ta[n-1]){ok=0;}\n\telse if(i==n-1){}\n\telse if(ta[i-1]>=ta[i]||ta[i+1]>=ta[i])ok=0;\n\t}\n\t}\n\t//cout<<a<<\" \"<<b<<none_flag<<\" \"<<void_flag<<endl;\n\tif(none_flag)cout<<\"none\"<<endl;\n\telse if(void_flag&&ok)cout<<\"ambiguous\"<<endl;\n\telse if(void_flag&&ok==0)cout<<\"none\"<<endl;\n\telse {\n\tif( b<=a || b-a<=1 )cout<<\"none\"<<endl;\n\telse if(b-a>2)cout<<\"ambiguous\"<<endl;\n\telse cout<<a+1<<endl;\n\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nint main()\n{\n  int n;\n  while(cin >> n, n){    \n    string signal[1002];\n    signal[0] = to_string(1e9);\n    for(int i = 1; i <= n; i++) cin >> signal[i];\n    if(n % 2) signal[n + 1] = to_string(1e9);\n    else signal[n + 1] = to_string(-(1e9));\n    int less = -(1e9)-3, more = 1e9+3;    \n    for(int i = 1; i <= n; i++){\n      if(signal[i] == \"x\"){\n\tif(signal[i-1] == \"x\" || signal[i+1] == \"x\"){\n\t  less = 1e9+3, more = -(1e9)-3;\n\t  break;\n\t}\n\tif(i % 2) more = min(more, min(stoi(signal[i-1]), stoi(signal[i+1]))-1);\n\telse less = max(less, max(stoi(signal[i-1]), stoi(signal[i+1]))+1);\n      } else if(signal[i-1] != \"x\" && signal[i+1] != \"x\"){\n\tif(i%2 == 0 && (stoi(signal[i]) <= stoi(signal[i-1]) || stoi(signal[i]) <= stoi(signal[i+1])) ||\n\t   i%2 == 1 && (stoi(signal[i]) >= stoi(signal[i-1]) || stoi(signal[i]) >= stoi(signal[i+1]))){\n\t  less = 1e9+3, more = -(1e9)-3;\n\t  break;\n\t}\n      }\n    }\n    if(less == more) cout << more << endl;\n    else if(more > less) cout << \"ambiguous\" << endl;\n    else if(more < less) cout << \"none\" << endl;\n  }  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nconst int MAX_N=1010,X=(int)1e9+10;\nint N,Min,Max; string x;\nint a[MAX_N];\n\nvoid solve(){\n    for (int i=0;i<N;++i){\n        if (a[i]==X){\n            if (i&&a[i-1]==X){\n                cout << \"none\" << '\\n';\n                return;\n            }\n            continue;\n        }\n        if (i&1){\n            if (i&&a[i-1]!=X&&a[i]<=a[i-1]){\n                cout << \"none\" << '\\n';\n                return;\n            }\n            if (i<N-1&&a[i+1]!=X&&a[i]<=a[i+1]){\n                cout << \"none\" << '\\n';\n                return;\n            }\n        } else {\n            if (i&&a[i-1]!=X&&a[i-1]<=a[i]){\n                cout << \"none\" << '\\n';\n                return;\n            }\n            if (i<N-1&&a[i+1]!=X&&a[i+1]<=a[i]){\n                cout << \"none\" << '\\n';\n                return;\n            }\n        }\n    }\n    Min=-X,Max=X;\n    for (int i=0;i<N;++i) if (a[i]==X){\n        if (i&1){\n            Min=max(Min,a[i-1]);\n            if (i<N-1) Min=max(Min,a[i+1]);\n        } else {\n            if (i) Max=min(Max,a[i-1]);\n            if (i<N-1) Max=min(Max,a[i+1]);\n        }\n    }\n    if (Max-Min==2) cout << Min+1 << '\\n';\n    if (2<Max-Min) cout << \"ambiguous\" << '\\n';\n    if (Max-Min<2) cout << \"none\" << '\\n';\n}\n\nint main(){\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    while(cin >> N,N){\n        for (int i=0;i<N;++i){\n            cin >> x;\n            a[i]=(x==\"x\"?X:stoi(x));\n        }\n        solve();\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<stdlib.h>\n#include<algorithm>\n#define INF 1000000001\n#define MIN -1000000002\n#define MAX 1000000002\nusing namespace std;\n\nint main()\n{\n\tint n;\n\twhile (cin >> n && n != 0)\n\t{\n\t\tlong a[1000 + 1];\n\t\tlong mn = MIN;\n\t\tlong mx = MAX;\n\t\tfor (int i = 1; i <= n; i++)\n\t\t{\n\t\t\tstring s;\n\t\t\tcin >> s;\n\t\t\tif (s.compare(\"x\") == 0)\n\t\t\t{\n\t\t\t\ta[i] = INF;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\ta[i] = atol(s.c_str());\n\t\t\t}\n\t\t}\n\t\tfor (int i = 1; i <= n; i++)\n\t\t{\n\t\t\tif (i + 1 <= n && a[i] == INF&& a[i + 1] == INF)\n\t\t\t{\n\t\t\t\tmn = MAX;\n\t\t\t\tmx = MIN;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (a[i] == INF)continue;\n\t\t\tif (i % 2 == 0)\n\t\t\t{\n\t\t\t\tif ((i - 1 >= 1 && a[i - 1] == INF) || (i + 1 <= n&& a[i + 1] == INF))\n\t\t\t\t{\n\t\t\t\t\tmx = min(mx, a[i] - 1);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif ((i + 1 <= n && a[i] <= a[i + 1]) || (i - 1 >= 1 && a[i] <= a[i - 1]))\n\t\t\t\t\t{\n\t\t\t\t\t\tmn = MAX;\n\t\t\t\t\t\tmx = MIN;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif ((i - 1 >= 1 && a[i - 1] == INF) || (i + 1 <= n&& a[i + 1] == INF))\n\t\t\t\t{\n\t\t\t\t\tmn = max(mn, a[i] + 1);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif ((i + 1 <= n && a[i] >= a[i + 1]) || (i - 1 >= 1 && a[i] >= a[i - 1]))\n\t\t\t\t\t{\n\t\t\t\t\t\tmn = MAX;\n\t\t\t\t\t\tmx = MIN;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (mx == mn)\n\t\t{\n\t\t\tcout << mx << endl;\n\t\t}\n\t\telse if (mx < mn)\n\t\t{\n\t\t\tcout << \"none\" << endl;\n\t\t}\n\t\telse if (mn < mx)\n\t\t{\n\t\t\tcout << \"ambigious\" << endl;\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <stack>\n#include <queue>\n#include <map>\n#include <cmath>\n#include <string>\n#include <sstream>\n#include <iomanip>\n#include <complex>\nusing namespace std;\n\n#define ll long long\n#define vvi vector< vector<int> >\n#define vi vector<int>\n#define All(X) X.begin(),X.end()\n#define FOR(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define REP(i,n) for(int i=0;i<(int)(n);i++)\n#define pb push_back\n#define pii pair<int,int>\n#define mp make_pair\n#define pi 3.14159265359\n#define shosu(X) fixed << setprecision(X)\nll gcd(ll a,ll b){return b?gcd(b,a%b):a;}\nll lcm(ll a,ll b){return a/gcd(a,b)*b;}\n\nint main(){\n\twhile(1){\n\t\tint n;\n\t\tcin >> n;\n\t\tif(n==0) break;\n\t\tll int xcnt = 0;\n\t\tll int data[1001];\n\t\tll int lastxpos = -10;\n\t\tREP(i,n){\n\t\t\tstring s;\n\t\t\tcin >> s;\n\t\t\tif(s==\"x\"){\n\t\t\t\txcnt++;\n\t\t\t\tif(lastxpos==i-1){//x 2??£?¶????????????????????????¨\n\t\t\t\t\txcnt = n;\n\t\t\t\t}\n\t\t\t\tlastxpos = i;\n\t\t\t\tdata[i]=1000000000;\n\t\t\t}else{\n\t\t\t\tdata[i]= stoll(s);\n\t\t\t}\n\t\t}\n\t\tif(xcnt>=n){//2??£?¶????????????§?????£?????????\n\t\t\tcout << \"none\" << endl;\n\t\t}else{\n\t\t\tbool is_mujun = false;\n\t\t\tll int minx=-1000000000,maxx=1000000000;\n\t\t\tREP(i,n){\n\t\t\t\tif(i==0){\n\t\t\t\t\tif(data[0]==1000000000) maxx = data[1]-1;\n\t\t\t\t\telse if(data[1]!=1000000000&&data[0]>=data[1]) is_mujun = true;\n\t\t\t\t}else if(i==n-1){\n\t\t\t\t\tif(data[n-1]==1000000000){\n\t\t\t\t\t\tif((n+1)%2==0){\n\t\t\t\t\t\t\tmaxx = min(maxx,data[i-1]-1);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tminx = max(minx,data[i-1]+1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif((n+1)%2==0){\n\t\t\t\t\t\t\tif(data[n-2]!=1000000000&&data[n-1]>=data[n-2]) is_mujun = true;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tif(data[n-2]!=1000000000&&data[n-1]<=data[n-2]) is_mujun = true;\n\t\t\t\t\t\t}\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(data[i]==1000000000){\n\t\t\t\t\t\tif((i+1)%2==0){\n\t\t\t\t\t\t\tminx = max(minx,max(data[i-1],data[i+1])+1);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tmaxx = min(maxx,min(data[i-1],data[i+1])-1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif((i+1)%2==0){\n\t\t\t\t\t\t\tif(data[i-1]!=1000000000&&(data[i]<=data[i-1])) is_mujun = true;\n\t\t\t\t\t\t\tif(data[i+1]!=1000000000&&(data[i]<=data[i+1])) is_mujun = true;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tif(data[i-1]!=1000000000&&(data[i]>=data[i-1])) is_mujun = true;\n\t\t\t\t\t\t\tif(data[i+1]!=1000000000&&(data[i]>=data[i+1])) is_mujun = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(minx!=-1000000000&&maxx!=1000000000&&minx-maxx>0) is_mujun = true;\n\t\t\t\t//cout << minx << \" \" << maxx << \" \" << is_mujun <<\" \"<<data[i]<< endl;\n\t\t\t}\n\t\t\tif(xcnt==0){\n\t\t\t\tif(is_mujun) cout << \"none\" << endl;\n\t\t\t\telse cout << \"ambiguous\" << endl;\t\t\t\t\n\t\t\t}else if(xcnt==1){\n\t\t\t\tcout << \"ambiguous\" << endl;\n\t\t\t}else{\n\t\t\t\tif(is_mujun) cout << \"none\" << endl;\n\t\t\t\telse{\n\t\t\t\t\tif(maxx==minx) cout << maxx << endl;\n\t\t\t\t\telse cout << \"ambiguous\" << endl;\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#define INF -2000000000\nusing namespace std;\nvector <int> s;\nint check(int x){\n  for(int i=1;i<s.size()-1;i++){\n    int ima = s[i],nx = s[i+1],mae = s[i-1];\n    if(ima == INF) ima = x;\n    if(nx == INF) nx = x;\n    if(mae == INF) mae = x;\n    \n    if(i%2 == 0 && (ima >= mae || ima>= nx)) \n      if(s[i] == INF)return -1;\n      else return 1;\n\n    else if(i%2==1 &&(mae >= ima||nx >= ima)) \n      if(s[i] == INF)  return 1;\n      else return -1;\n  }\n\n  if(s.size() == 2) {\n    int ima = s[0],nx = s[1];\n    if(s[0] == INF) ima = x;\n    if(s[1] == INF) nx  = x;\n    if(ima >= nx) \n      if(s[0] == INF) return -1;\n      else return 1;\n  }\n  return 0;\n}\n\nint main() {\n  while(1){\n    int n;\n    cin >> n;\n    if(n == 0) break;\n    s.clear();\n    for(int i=0;i<n;i++) {\n      string str;\n      cin >> str;\n      if(str == \"x\") s.push_back(INF);\n      else s.push_back(stoi(str));\n    }\n  \n    int R = 1000000010,L=-1000000011,M,ans = INF,cnt = 0;\n    while(L < R) {\n      cnt ++;\n      int t = M;\n      M = (L+R)/2;\n      if(M == t) L--,R++,M=(L+R)/2;\n      if(cnt > 35) break;\n      int res = check(M);\n      if(res == -1) R = M;\n      else if(res == 1) L=M+1;\n      else if(res == 0) {\n\tans = M;\n\tbreak;\n      }\n    }\n\n    if(ans == INF) cout << \"none\"<<endl;\n    else if(check(ans+1) == 0 || check(ans-1) == 0) cout << \"ambiguous\"<<endl;\n    else cout << ans <<endl;\n  }\n  return 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<cstdlib>\n\nusing namespace std;\n\nint main(){\n  for(int N;cin>>N,N;){\n    string s[1234];\n    for(int i=0;i<N;i++){\n      cin>>s[i];\n    }\n    bool f=false;\n    int lt=1e9+9,ht=-1e9-9;\n    for(int i=0;i<N-1;i++){\n      if(s[i][0]=='x'){\n\tif(s[i+1][0]=='x'){\n\t  f=true;\n\t}else{\n\t  if(i%2==0){\n\t    lt=min(lt,stoi(s[i+1]));\n\t  }else{\n\t    ht=max(ht,stoi(s[i+1]));\n\t  }\n\t}\n      }else{\n\tif(s[i+1][0]=='x'){\n\t  if((i+1)%2==0){\n\t    lt=min(lt,stoi(s[i]));\n\t  }else{\n\t    ht=max(ht,stoi(s[i]));\n\t  }\n\t}else{\t      \n\t  if(i%2==0){\n\t    f|=stoi(s[i])>=stoi(s[i+1]);\n\t  }else{\n\t    f|=stoi(s[i])<=stoi(s[i+1]);\n\t  }\n\t}\n      }\n    }\n    if(f||lt-ht<2){\n      cout<<\"none\"<<endl;\n    }else if(lt-ht>2){\n      cout<<\"ambiguous\"<<endl;\n    }else{\n      cout<<lt-1<<endl;\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define int long long   // <-----!!!!!!!!!!!!!!!!!!!\n\n#define rep(i,n) for (int i=0;i<(n);i++)\n#define rep2(i,a,b) for (int i=(a);i<(b);i++)\n#define rrep(i,n) for (int i=(n)-1;i>=0;i--)\n#define rrep2(i,a,b) for (int i=(b)-1;i>=(a);i--)\n#define all(a) (a).begin(),(a).end()\n\ntypedef long long ll;\ntypedef pair<int, int> P;\ntypedef tuple<int, int, int> TUPLE;\ntypedef vector<int> V;\ntypedef vector<V> VV;\ntypedef vector<VV> VVV;\n\nint sToInt(string s) {\n    int ret = 0;\n    int sign = 1;\n\n    int i = 0;\n    if (s[0] == '-') {\n        i++;\n        sign = -1;\n    }\n\n    while (i < s.size()) {\n        ret *= 10;\n        ret += s[i] - '0';\n        i++;\n    }\n\n    return ret * sign;\n}\n\nvoid solve(int N) {\n    const int INF = 1e12;\n    V a(N + 2);\n    a[0] = INF;\n    a[N + 1] = ((N + 1) % 2 ? -1 : 1) * INF;\n    V dead(N + 2, false);\n    bool exist_x = false;\n\n    rep2(i, 1, N + 1) {\n        string s;\n        cin >> s;\n        if (s[0] == 'x') {\n            dead[i] = true;\n            exist_x = true;\n        } else {\n            a[i] = sToInt(s);\n        }\n    }\n\n    // rep(i, a.size()) cout << a[i] << \" \";\n    // cout << endl;\n    // rep(i, dead.size()) cout << dead[i] << \" \";\n    // cout << endl;\n\n    rep2(i, 1, N + 1) {\n        if (!dead[i] && !dead[i + 1]) {\n            if (i % 2 == 1 && !(a[i] < a[i + 1])) {\n                cout << \"none\" << endl;\n                return;\n            }\n            if (i % 2 == 0 && !(a[i] > a[i + 1])) {\n                cout << \"none\" << endl;\n                return;\n            }\n        }\n        if (dead[i] && dead[i + 1]) {\n            cout << \"none\" << endl;\n            return;\n        }\n    }\n\n    if (!exist_x) {\n        cout << \"ambiguous\" << endl;\n        return;\n    }\n\n    int lb = -INF;\n    int ub = INF;\n    rep2(i, 1, N + 1) {\n        if (dead[i]) {\n            if (i % 2 == 1) {\n                ub = min(ub, a[i - 1] - 1);\n                ub = min(ub, a[i + 1] - 1);\n            }\n            else {\n                lb = max(lb, a[i - 1] + 1);\n                lb = max(lb, a[i + 1] + 1);\n            }\n        }\n    }\n    // cout << \"lb = \" << lb << \", ub = \" << ub << endl;\n\n    if (lb == ub)       cout << lb << endl;\n    else if (lb > ub)   cout << \"none\" << endl;\n    else                cout << \"ambiguous\" << endl;\n\n}\n\n\nsigned main() {\n    std::ios::sync_with_stdio(false);\n    std::cin.tie(0);\n\n    int N;\n    while (cin >> N, N) {\n        solve(N);\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<string>\n#define INF 1545141919\nusing namespace std;\nint a[1010];\nvoid In(int x){\n\tstring s;cin>>s;\n\tif(s==\"x\")a[x]=INF;\n\telse{\n\t\tbool flag=false;if(s[0]=='-')flag=true;\n\t\tint cnt=0;\n\t\tfor(int i=flag;i<s.size();i++)cnt*=10,cnt+=s[i]-'0';\n\t\ta[x]=cnt;\n\t\tif(flag)a[x]=-a[x];\n\t}\n}\nint main(){\n\tint n;\n\twhile(cin>>n&&n){\n\tfor(int i=0;i<n;i++)In(i);\n\tbool ok=true;int left=-INF,right=INF;\n\tfor(int i=0;i<n-1;i++){\n\t\tif(a[i]==INF&&a[i+1]==INF)ok=false;\n\t\tif(a[i]!=INF&&a[i+1]!=INF){\n\t\t\tif(i%2==0)if(a[i]>=a[i+1])ok=false;\n\t\t\tif(i%2==1)if(a[i]<=a[i+1])ok=false;\n\t\t}\n\t\tif(a[i]==INF&&a[i+1]!=INF){\n\t\t\tif(i%2==0)right=min(right,a[i+1]-1);\n\t\t\tif(i%2==1)left=max(left,a[i+1]+1);\n\t\t}\n\t\tif(a[i]!=INF&&a[i+1]==INF){\n\t\t\tif(i%2==0)left=max(left,a[i]+1);\n\t\t\tif(i%2==1)right=min(right,a[i]-1);\n\t\t}\n\t}\n\tif(!ok||right<left)cout<<\"none\"<<endl;\n\telse if(right==left)cout<<right<<endl;\n\telse cout<<\"ambiguous\"<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdlib>\nusing namespace std;\n\n#define MAX_N 1000000000\n\nint main()\n{\n  while(1){\n    int n;\n    cin >> n;\n    if(n == 0) break;\n    int a[n];\n    for(int i = 0; i < n; i++){\n      string s;\n      cin >> s;\n      a[i] = s == \"x\" ? MAX_N+1 : atoi(s.c_str());\n    } \n    long long int l = -9999999999, u = MAX_N+3;\n    for(int i = 0; i < n-1; i++){\n      if(a[i] == MAX_N+1){\n        if(a[i+1] == MAX_N+1){\n          u = l-1;\n          break;\n        }else{\n          if((i+1) & 1){\n            u = a[i+1];\n          }else{\n            l = a[i+1];\n          }\n        }\n      }else{\n        if(a[i+1] == MAX_N+1){\n          if((i+1) & 1){\n            l = a[i];\n          }else{\n            u = a[i];\n          }\n        }else{\n          if((i+1) & 1){\n            if(a[i] >= a[i+1]){\n              u = l-1;\n              break;\n            }\n          }else{\n            if(a[i] <= a[i+1]){\n              u = l-1;\n              break;\n            }\n          }\n        }\n      }\n    }\n    if(u - l - 1 > 1)\n      cout << \"ambiguous\" << endl;\n    else if(u - l - 1 <= 0)\n      cout << \"none\" << endl;\n    else\n      cout << (u+l)/2 << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "//include\n//------------------------------------------\n#include <vector>\n#include <list>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <bitset>\n#include <algorithm>\n#include <functional>\n#include <numeric>\n#include <utility>\n#include <sstream>\n#include <iostream>\n#include <iomanip>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <cctype>\n#include <string>\n#include <cstring>\n#include <ctime>\n#include <fstream>\n#include <complex>\n#include <math.h>\n\nusing namespace std;\n\n//conversion\n//------------------------------------------\ninline long toInt(string s) {int v; istringstream sin(s);sin>>v;return v;}\ninline long toLong(string s) {long v; istringstream sin(s);sin>>v;return v;}\ntemplate<class T> inline string toString(T x) {ostringstream sout;sout<<x;return sout.str();}\n\n//math\n//-------------------------------------------\ntemplate<class T> inline T sqr(T x) {return x*x;}\n\n//typedef\n//------------------------------------------\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<string> VS;\ntypedef pair<int, int> PII;\ntypedef pair<long, long> PLL;\ntypedef long long LL;\n//container util\n//------------------------------------------\n#define ALL(a)  (a).begin(),(a).end()\n#define RALL(a) (a).rbegin(), (a).rend()\n#define PB push_back\n#define MP make_pair\n#define SZ(a) int((a).size())\n#define EACH(i,c) for(typeof((c).begin()) i=(c).begin(); i!=(c).end(); ++i)\n#define EXIST(s,e) ((s).find(e)!=(s).end())\n#define SORT(c) sort((c).begin(),(c).end())\n\n//repetition\n//------------------------------------------\n#define FOR(i,a,b) for(long i=(a);i<(b);++i)\n#define REP(i,n) FOR(i,0,n)\n\n//constant\n//--------------------------------------------\n\n//clear memory\n#define CLR(a) memset((a), 0 ,sizeof(a))\n\nconst long double EPS = 1e-8;\nconst long INF = 1e10;\n\nint main(){\n\tint N;\n\twhile(cin>>N&&N){\n\t\tlong b[1002];\n\t\tb[0]=INF+1;\n\t\tlong maxx=INF,minx=-INF;\n\t\tREP(i,N){\n\t\t\tstring a;\n\t\t\tcin>>a;\n\t\t\tif(a==\"x\"){\n\t\t\t\tb[i+1]=((i+1)%2)?-INF:INF;\n\t\t\t}else{\n\t\t\t\tb[i+1]=toLong(a);\n\t\t\t}\n\t\t}\n\t\tb[N+1]=((N+1)%2)?-INF-1:INF+1;\n\t\tbool flag=true;\n\t\tFOR(i,1,N+1){\n\t\t\tif(i%2){\n\t\t\t\tif(b[i]>=b[i-1]||b[i]>=b[i+1]){\n\t\t\t\t\tflag=false;\n\t\t\t\t\tbreak;\n\t\t\t\t}else if(b[i]==-INF){\n\t\t\t\t\tif(b[i-1]==INF||b[i+1]==INF)flag=false;\n\t\t\t\t\tmaxx=min(maxx,min(b[i-1],b[i+1]));\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(b[i]<=b[i-1]||b[i]<=b[i+1]){\n\t\t\t\t\tflag=false;\n\t\t\t\t\tbreak;\n\t\t\t\t}else if(b[i]==INF){\n\t\t\t\t\tif(b[i-1]==-INF||b[i+1]==-INF)flag=false;\n\t\t\t\t\tminx=max(minx,max(b[i-1],b[i+1]));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(!flag||maxx-minx<=1){\n\t\t\tcout<<\"none\"<<endl;\n\t\t}else{\n\t\t\tif(maxx-minx==2)cout<<(maxx+minx)/2<<endl;\n\t\t\telse cout<<\"ambiguous\"<<endl;\n\t\t\t//cout<<maxx<<\" \"<<minx<<endl;\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nconst char* str[] = {\"none\", \"ambiguous\"};\n\nint n;\nint a[1000];\nbool f[1000];\n\nvoid solve()\n{\n\tfor (int i = 0; i < n; i++){\n\t\tif (i % 2 == 0){\n\t\t\tif (i > 0){\n\t\t\t\tif (a[i] >= a[i - 1]){\n\t\t\t\t\tputs(str[0]);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (i < n - 1){\n\t\t\t\tif (a[i] >= a[i + 1]){\n\t\t\t\t\tputs(str[0]);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif (i > 0){\n\t\t\t\tif (a[i] <= a[i - 1]){\n\t\t\t\t\tputs(str[0]);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (i < n - 1){\n\t\t\t\tif (a[i] <= a[i + 1]){\n\t\t\t\t\tputs(str[0]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tbool ff = false;\n\tfor (int i = 0; i < n - 1; i++){\n\t\tff |= f[i];\n\t\tif (f[i] & f[i + 1]){\n\t\t\tputs(str[0]);\n\t\t\treturn;\n\t\t}\n\t}\n\tff |= f[n - 1];\n\tif (!ff){\n\t\tputs(str[1]);\n\t\treturn;\n\t}\n\t\n\tint low = -1e9 - 5;\n\tint high = 1e9 + 5;\n\t\n\tfor (int i = 0; i < n; i++){\n\t\tif (!f[i]) continue;\n\t\tif (i % 2 == 0){\n\t\t\tif (i > 0) high = min(high, a[i - 1] - 1);\n\t\t\tif (i < n - 1) high = min(high, a[i + 1] - 1);\n\t\t}\n\t\telse {\n\t\t\tif (i > 0) low = max(low, a[i - 1] + 1);\n\t\t\tif (i < n - 1) low = max(low, a[i + 1] + 1);\n\t\t}\n\t}\n\t\n\t//printf(\"%d %d\\n\", low, high);\n\tif (low == high) printf(\"%d\\n\", low);\n\telse if (low > high) puts(str[0]);\n\telse puts(str[1]);\n}\n\nint main()\n{\n\twhile (scanf(\"%d\", &n), n){\n\t\tmemset(a, 0, sizeof(a));\n\t\tmemset(f, 0, sizeof(f));\n\t\t\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tstring str;\n\t\t\tcin >> str;\n\t\t\tif (str == \"x\"){\n\t\t\t\tf[i] = true;\n\t\t\t\tif (i % 2 == 0){\n\t\t\t\t\ta[i] = -1e9 - 1;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\ta[i] = 1e9 + 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse a[i] = atoi(str.c_str());\n\t\t}\n\t\t\n\t\tsolve();\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <string>\n#include <sstream>\n#include <cstdlib>\nusing namespace std;\n \n#define DEBUG(x) cerr << #x << \" = \" << x << endl\n \nbool isX(const string& s) {\n    return s == \"x\";\n}\n \nint toInt(const string& from) {\n    if(isX(from)) abort();\n    stringstream ss;\n    int to; ss << from; ss >> to; return to;\n}\n \nint main() {\n    for(int N; cin >> N, N; ) {\n        vector<string> vec(N);\n        for(int i = 0; i < N; i++) {\n            cin >> vec[i];\n        }\n \n        bool f = false;\n        for(int i = 1; i < N; i++) {\n            if(isX(vec[i - 1]) && isX(vec[i])) f = true;\n            if(i % 2 == 0) {\n                if(!isX(vec[i - 1]) && !isX(vec[i]) && !(toInt(vec[i - 1]) > toInt(vec[i]))) f = true;\n            }\n            else {\n                if(!isX(vec[i - 1]) && !isX(vec[i]) && !(toInt(vec[i - 1]) < toInt(vec[i]))) f = true;\n            }\n        }\n \n        if(f) {\n            cout << \"none\" << endl;\n            continue;\n        }\n \n        int upper = (int)1e9 + 2;\n        int lower = -((int)1e9 + 2);\n        for(int i = 0; i < N; i++) {\n            if(isX(vec[i])) {\n                if(i % 2 == 0) {\n                    if(i > 0) {\n                        upper = min(upper, toInt(vec[i - 1]) - 1);\n                    }\n                    if(i < N - 1) {\n                        upper = min(upper, toInt(vec[i + 1]) - 1);\n                    }\n                } else {\n                    if(i > 0) {\n                        lower = max(lower, toInt(vec[i - 1]) + 1);\n                    }\n                    if(i < N - 1) {\n                        lower = max(lower, toInt(vec[i + 1]) + 1);\n                    }\n                }\n            }\n        }\n        if(lower == upper) {\n            cout << lower << endl;\n        }\n        else if(lower > upper) {\n            cout << \"none\" << endl;\n        }\n        else {\n            cout << \"ambiguous\" << endl;\n        }\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define FOR(i,k,n) for(int i = (k); i < (n); i++)\n#define REP(i,n) FOR(i,0,n)\n#define ALL(a) begin(a),end(a)\n#define MS(m,v) memset(m,v,sizeof(m))\n#define D10  fixed<<setprecision(5)\ntypedef vector<int> vi;\ntypedef vector<string> vs;\ntypedef pair<short, short> P;\ntypedef complex<double> Point;\ntypedef long long ll;\nconst int INF = 1145141919;\nconst int MOD = 100000007;\nconst double EPS = 1e-10;\nconst double PI = acos(-1.0);\nstruct edge\n{\n\tint from, to, cost;\n\tbool operator < (const edge& e) const { return cost < e.cost; }\n\tbool operator > (const edge& e) const { return cost > e.cost; }\n};\n///*************************************************************************************///\n///*************************************************************************************///\n///*************************************************************************************///\n\n\nint main()\n{\n\tint n;\n\twhile (cin >> n, n)\n\t{\n\t\tbool f = true;\n\t\tint ub = -INF; int lb = INF;\n\t\tstring s;\n\t\tvector<string> v;\n\t\tv.push_back(to_string(INF));\n\t\tREP(i, n)\n\t\t{\n\t\t\tstring a;\n\t\t\tcin >> a;\n\t\t\tv.push_back(a);\n\t\t}\n\t\tv.push_back(v.size() % 2 ? to_string(-INF) : to_string(INF));\n\t\tFOR(i, 1, v.size() - 1)\n\t\t{\n\t\t\tif (v[i] == \"x\")\n\t\t\t{\n\t\t\t\tif (v[i - 1] == \"x\" || v[i + 1] == \"x\")\n\t\t\t\t{\n\t\t\t\t\tf = false;\n\t\t\t\t\tgoto end;\n\t\t\t\t}\n\t\t\t\tint pre = stoi(v[i - 1]); int next = stoi(v[i + 1]);\n\t\t\t\tif (i % 2 == 1)\n\t\t\t\t{\n\t\t\t\t\tif (ub <= pre && ub <= next) ub = min(pre, next) - 1;\n\t\t\t\t\telse f = false;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif (lb >= pre && lb >= next) lb = max(pre, next) + 1;\n\t\t\t\t\telse f = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tint t = stoi(v[i]);\n\t\t\t\tif (v[i - 1] != \"x\")\n\t\t\t\t{\n\t\t\t\t\tint pre = stoi(v[i - 1]);\n\t\t\t\t\tif (i % 2 == 1)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (pre <= t) f = false;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tif (pre >= t) f = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\tend:;\n\t\tif (!f) puts(\"none\");\n\t\telse if (ub > lb || ub == -INF || lb == INF) puts(\"ambiguous\");\n\t\telse if (ub==lb) cout << ub << endl;\n\t\telse puts(\"none\");\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<sstream>\n#include<algorithm>\nusing namespace std;\n#define INF 1000000002\n\nint func(){\n  string s;\n  cin>>s;\n  if(s==\"x\")return INF;\n  stringstream ss;\n  ss<<s;\n  int res;\n  ss>>res;\n  return res;\n}\n\nint N;\nint t[2000];\n\nstring solve(){\n  for(int i=0;i+1<N;i++)if(t[i]==INF&&t[i+1]==INF)return \"none\";\n  int l=-INF,r=INF;\n  for(int i=0;i<N;i++){\n    if(t[i]!=INF){\n      if(i%2==0){\n\tif(i-1>=0&&t[i-1]!=INF&&t[i-1]<=t[i])return \"none\";\n\tif(i+1<N&&t[i+1]!=INF&&t[i]>=t[i+1])return \"none\";\n      }else{\n\tif(i-1>=0&&t[i-1]!=INF&&t[i-1]>=t[i])return \"none\";\n\tif(i+1<N&&t[i+1]!=INF&&t[i]<=t[i+1])return \"none\";\n      }\n      continue;\n    }\n    if(i%2==0){\n      if(i-1>=0)r=min(r,t[i-1]-1);\n      if(i+1<N)r=min(r,t[i+1]-1);\n    }else{\n      if(i-1>=0)l=max(l,t[i-1]+1);\n      if(i+1<N)l=max(l,t[i+1]+1);\n    }\n  }\n  if(l==r){\n    stringstream ss;\n    ss<<l;\n    string res;\n    ss>>res;\n    return res;\n  }else if(r<l){\n    return \"none\";\n  }else{\n    return \"ambiguous\";\n  }\n}\n\nint main(){\n  while(1){\n    cin>>N;\n    if(N==0)break;\n    for(int i=0;i<N;i++)t[i]=func();\n    cout<<solve()<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cctype>\n#include <climits>\n#include <cmath>\n#include <complex>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <ctime>\n#include <deque>\n#include <functional>\n#include <iostream>\n#include <list>\n#include <map>\n#include <memory>\n#include <numeric>\n#include <queue>\n#include <set>\n#include <stack>\n#include <string>\n#include <utility>\n#include <vector>\nusing namespace std;\n\n#define EPS 1e-10\n#define INF 1000000005\n#define mp make_pair\n#define pb push_back\n\ntypedef vector<int> vi;\ntypedef vector<vi> vii;\ntypedef pair<int,int> pii;\ntypedef long long ll;\n\nll parseInt(string str) {\n  ll rep;\n  bool isNegative = false;\n  if (str[0] == '-') {\n    isNegative = true;\n    str = str.substr(1);\n  }\n  rep = str[0] - '0';\n  for (int i = 1; i < str.size(); i++) {\n    int num = str[i] - '0';\n    rep = rep * 10 + num;\n  }\n  if (isNegative) {\n    rep *= -1;\n  }\n  return rep;\n}\n\nvoid solve(vector<string> signals) {\n  ll floor = -1 * INF, ceiling = INF;\n  for (int i = 1; i < signals.size(); i++) {\n    string signal = signals[i], prev = signals[i-1];\n    if (signal == \"x\") {\n      if (prev == \"x\") { // xx\n        cout << \"none\" << endl;\n        return;\n      } else { // ?x\n        if (i % 2 == 0) { // even\n          floor = max(floor, parseInt(prev) + 1);\n        } else { // odd\n          ceiling = min(ceiling, parseInt(prev) - 1);\n        }\n      }\n    } else {\n      if (prev == \"x\") { // x?\n        if (i % 2 == 0) { // even\n          ceiling = min(ceiling, parseInt(signal) - 1);\n        } else { // odd\n          floor = max(floor, parseInt(signal) + 1);\n        }\n      } else { // ??\n        if ((i % 2 == 0 && prev >= signal) || (i % 2 == 1 && prev <= signal)) {\n          cout << \"none\" << endl;\n          return;\n        }\n        continue;\n      }\n    }\n  }\n\n  if (floor == ceiling) {\n    cout << floor << endl;\n  } else if (floor < ceiling) {\n    cout << \"ambiguous\" << endl;\n  } else {\n    cout << \"none\" << endl;\n  }\n}\n\nint main() {\n  while (1) {\n    int N;\n    cin >> N;\n    if (N == 0) {\n      break;\n    }\n    vector<string> signals(N+1);\n    signals[0] = \"1000000005\";\n    for (int i = 1; i <= N; i++) {\n      cin >> signals[i];\n    }\n    solve(signals);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 1000000100\n\n#include <iostream>\n#include <cstdio>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n  \nusing namespace std;\n  \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P> PP;\n  \nstatic const double EPS = 1e-8;\n\n\nbool check(vector<int> signals){\n  bool is_none = false;\n  for(int i=0;i<signals.size();i++){\n    int lhs = i - 1;\n    int rhs = i + 1;\n    if(lhs >= 0 && signals[lhs] != INF){\n      if((i + 1) % 2 == 0){\n        if(signals[i] < signals[lhs]){\n          is_none = true;\n          break;\n        }\n      }\n      else{\n        if(signals[i] > signals[lhs]){\n          is_none = true;\n          break;\n        }\n      }\n    }\n    if(rhs < signals.size() && signals[rhs] != INF){\n      if((i + 1) % 2 == 0){\n        if(signals[i] < signals[rhs]){\n          is_none = true;\n          break;\n        }\n      }\n      else{\n        if(signals[i] > signals[rhs]){\n          is_none = true;\n          break;\n        }\n      }\n    }\n  }\n  return !is_none;\n}\n\nint main(){\n  int N;\n  while(~scanf(\"%d\",&N)){\n    if(N == 0) break;\n\n    vector<int> signals;\n    queue<int> unknown;\n\n    bool has_x = false;\n    bool has_num = false;\n    for(int i=0; i < N; i++){\n      char signal[12];\n      int num;\n      scanf(\"%s\",signal);\n      if(signal[0] != 'x'){\n        num = atoi(signal);\n        has_num = true;\n      }\n      else{\n        num = INF;\n        has_x = true;\n        unknown.push(i);\n      }\n      signals.push_back(num);\n    }\n    \n    if(has_num && has_x){\n      //x x 1 x\n      int lower = -INF;\n      int upper = INF;\n      \n      while(!unknown.empty()){\n        int idx = unknown.front();\n        unknown.pop();\n        int lhs = idx - 1;\n        int rhs = idx + 1;\n        \n        //even\n        if((idx+1) % 2 == 0){\n          if(lhs >= 0 && signals[lhs] != INF) {\n            lower = max(signals[lhs]+1,lower);\n          }\n          if(rhs < signals.size() && signals[rhs] != INF){\n            lower = max(signals[rhs]+1,lower);\n          }\n        }\n        //odd\n        else{\n          if(rhs < signals.size() && signals[rhs] != INF){\n            upper = min(signals[rhs]-1,upper);\n          }\n          if(lhs >= 0 && signals[lhs] != INF){\n            upper = min(signals[lhs]-1,upper);\n          }\n        }\n      }\n\n      if(upper > lower){\n        for(int i=0;i<signals.size();i++){\n          if(signals[i] == INF){\n            signals[i] = (upper != INF ? upper : lower);\n          }\n        }\n        bool isok = check(signals);\n\n        if(isok){\n          printf(\"ambiguous\\n\");\n        }\n        else{\n          printf(\"none\\n\");\n        }\n      }\n      else if(upper == lower){\n        for(int i=0;i<signals.size();i++){\n          if(signals[i] == INF){\n            signals[i] = lower;\n          }\n        }\n        bool isok = check(signals);\n        if(isok){\n          printf(\"%d\\n\",lower);\n        }\n        else{\n          printf(\"none\\n\");\n        }\n      }\n      else if(upper < lower){\n        printf(\"none\\n\");\n      }\n    }\n\n    else if(!has_num && has_x){\n      //x x x\n      printf(\"none\\n\");\n    }\n    else if(has_num && !has_x){\n      //1 2 3\n      \n      bool isok = check(signals);\n      printf(\"%s\\n\", !isok ? \"none\" : \"ambiguous\");\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define FOR(i,k,n) for(int i = (k); i < (n); i++)\n#define REP(i,n) FOR(i,0,n)\n#define ALL(a) begin(a),end(a)\n#define MS(m,v) memset(m,v,sizeof(m))\n#define D10  fixed<<setprecision(5)\ntypedef vector<int> vi;\ntypedef vector<string> vs;\ntypedef pair<short, short> P;\ntypedef complex<double> Point;\ntypedef long long ll;\nconst int INF = 1145141919;\nconst int MOD = 100000007;\nconst double EPS = 1e-10;\nconst double PI = acos(-1.0);\nstruct edge\n{\n\tint from, to, cost;\n\tbool operator < (const edge& e) const { return cost < e.cost; }\n\tbool operator > (const edge& e) const { return cost > e.cost; }\n};\n///*************************************************************************************///\n///*************************************************************************************///\n///*************************************************************************************///\n\n\nint main()\n{\n\tint n;\n\twhile (cin >> n, n)\n\t{\n\t\tbool f = true;\n\t\tint ub = INF; int lb = -INF;\n\t\tstring s;\n\t\tvector<string> v;\n\t\tv.push_back(to_string(INF));\n\t\tREP(i, n)\n\t\t{\n\t\t\tstring a;\n\t\t\tcin >> a;\n\t\t\tv.push_back(a);\n\t\t}\n\t\tv.push_back(v.size() % 2 ? to_string(-INF) : to_string(INF));\n\t\tFOR(i, 1, v.size() - 1)\n\t\t{\n\t\t\tif (v[i] == \"x\")\n\t\t\t{\n\t\t\t\tif (v[i - 1] == \"x\" || v[i + 1] == \"x\")\n\t\t\t\t{\n\t\t\t\t\tf = false;\n\t\t\t\t\tgoto end;\n\t\t\t\t}\n\t\t\t\tint pre = stoi(v[i - 1]); int next = stoi(v[i + 1]);\n\t\t\t\tif (i % 2 == 1)\n\t\t\t\t{\n\t\t\t\t\tif (ub >= pre || ub >= next) ub = min(ub, min(pre, next) - 1);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif (lb <= pre || lb <= next) lb = max(lb, max(pre, next) + 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tint t = stoi(v[i]);\n\t\t\t\tif (v[i - 1] != \"x\")\n\t\t\t\t{\n\t\t\t\t\tint pre = stoi(v[i - 1]);\n\t\t\t\t\tif (i % 2 == 1)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (pre <= t) f = false;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tif (pre >= t) f = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\tend:;\n\t\tif (!f) puts(\"none\");\n\t\telse if (ub > lb || ub == -INF || lb == INF) puts(\"ambiguous\");\n\t\telse if (ub==lb) cout << ub << endl;\n\t\telse puts(\"none\");\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <stack>\n#include <queue>\n#include <map>\n#include <cmath>\n#include <string>\n#include <sstream>\n#include <iomanip>\n#include <complex>\nusing namespace std;\n\n#define ll long long\n#define vvi vector< vector<int> >\n#define vi vector<int>\n#define All(X) X.begin(),X.end()\n#define FOR(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define REP(i,n) for(int i=0;i<(int)(n);i++)\n#define pb push_back\n#define pii pair<int,int>\n#define mp make_pair\n#define pi 3.14159265359\n#define shosu(X) fixed << setprecision(X)\nll gcd(ll a,ll b){return b?gcd(b,a%b):a;}\nll lcm(ll a,ll b){return a/gcd(a,b)*b;}\n\nint main(){\n\twhile(1){\n\t\tint n;\n\t\tcin >> n;\n\t\tif(n==0) break;\n\t\tll int xcnt = 0;\n\t\tll int data[1001];\n\t\tll int lastxpos = -10;\n\t\tREP(i,n){\n\t\t\tstring s;\n\t\t\tcin >> s;\n\t\t\tif(s==\"x\"){\n\t\t\t\txcnt++;\n\t\t\t\tif(lastxpos==i-1){//x 2??£?¶????????????????????????¨\n\t\t\t\t\txcnt = n;\n\t\t\t\t}\n\t\t\t\tlastxpos = i;\n\t\t\t\tdata[i]=999999999;\n\t\t\t}else{\n\t\t\t\tdata[i]= stoll(s);\n\t\t\t}\n\t\t}\n\t\tif(xcnt>=n){//2??£?¶????????????§?????£?????????\n\t\t\tcout << \"none\" << endl;\n\t\t}else{\n\t\t\tbool is_mujun = false;\n\t\t\tll int minx=-999999999,maxx=999999999;\n\t\t\tREP(i,n){\n\t\t\t\tif(i==0){\n\t\t\t\t\tif(data[0]==999999999) maxx = data[1]-1;\n\t\t\t\t\telse if(data[1]!=999999999&&data[0]>=data[1]) is_mujun = true;\n\t\t\t\t}else if(i==n-1){\n\t\t\t\t\tif(data[n-1]==999999999){\n\t\t\t\t\t\tif((n+1)%2==0){\n\t\t\t\t\t\t\tmaxx = data[n-2]-1;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tminx = data[n-2]+1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif((n+1)%2==0){\n\t\t\t\t\t\t\tif(data[n-2]!=999999999&&data[n-1]>=data[n-2]) is_mujun = true;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tif(data[n-2]!=999999999&&data[n-1]<=data[n-2]) is_mujun = true;\n\t\t\t\t\t\t}\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(data[i]==999999999){\n\t\t\t\t\t\tif((i+1)%2==0){\n\t\t\t\t\t\t\tminx = max(minx,max(data[i-1],data[i+1])+1);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tmaxx = min(maxx,min(data[i-1],data[i+1])-1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif((i+1)%2==0){\n\t\t\t\t\t\t\tif(data[i-1]!=999999999&&(data[i]<=data[i-1])) is_mujun = true;\n\t\t\t\t\t\t\tif(data[i+1]!=999999999&&(data[i]<=data[i+1])) is_mujun = true;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tif(data[i-1]!=999999999&&(data[i]>=data[i-1])) is_mujun = true;\n\t\t\t\t\t\t\tif(data[i+1]!=999999999&&(data[i]>=data[i+1])) is_mujun = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(minx!=-999999999&&maxx!=999999999&&minx-maxx>0) is_mujun = true;\n\t\t\t\t//cout << minx << \" \" << maxx << \" \" << is_mujun <<\" \"<<data[i]<< endl;\n\t\t\t}\n\t\t\tif(xcnt==0){\n\t\t\t\tif(is_mujun) cout << \"none\" << endl;\n\t\t\t\telse cout << \"ambigious\" << endl;\t\t\t\t\n\t\t\t}else{\n\t\t\t\tif(is_mujun) cout << \"none\" << endl;\n\t\t\t\telse{\n\t\t\t\t\tif(maxx==minx) cout << maxx << endl;\n\t\t\t\t\telse cout << \"ambigious\" << endl;\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;int x=1200000000;\nint n;string S;vector<int>vec;\nint main(){\n\twhile(true){\n\t\tvec.clear();vec.push_back(1<<30);\n\t\tcin>>n;if(n==0)break;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tcin>>S;\n\t\t\tif(S==\"x\")vec.push_back(x);\n\t\t\telse{vec.push_back(stoi(S));}\n\t\t}\n\t\tif(n%2==0)vec.push_back(-1<<30);\n\t\telse{vec.push_back(1<<30);}\n\t\tint L=-1010101010,R=1010101010;int OK=0;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tif(i%2==1 && vec[i-1]<=vec[i] && vec[i]!=x && vec[i-1]!=x)OK=1;\n\t\t\tif(i%2==0 && vec[i-1]>=vec[i] && vec[i]!=x && vec[i-1]!=x)OK=1;\n\t\t\tif(vec[i-1]==x && vec[i]==x)OK=1;\n\t\t\tif(vec[i]==x){\n\t\t\t\tif(i%2==1)R=min(R,min(vec[i-1],vec[i+1])-1);\n\t\t\t\tif(i%2==0)L=max(L,max(vec[i-1],vec[i+1])+1);\n\t\t\t}\n\t\t}\n\t\tif(OK==1 || L>R)cout<<\"none\"<<endl;\n\t\tif(OK==0 && L==R)cout<<L<<endl;\n\t\tif(OK==0 && L<R)cout<<\"ambiguous\"<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <queue>\n#include <stack>\n#include <algorithm>\n#include <list>\n#include <vector>\n#include <complex>\n#include <utility>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <climits>\n#include <bitset>\n#include <ctime>\n#include <map>\n#include <unordered_map>\n#include <set>\n#include <unordered_set>\n#include <cassert>\n#include <cstddef>\n#include <iomanip>\n#include <numeric>\n#include <tuple>\n#include <sstream>\n#include <fstream>\n\nusing namespace std;\n#define REP(i, n) for (int (i) = 0; (i) < (n); (i)++)\n#define FOR(i, a, b) for (int (i) = (a); (i) < (b); (i)++)\n#define RREP(i, a) for(int (i) = (a) - 1; (i) >= 0; (i)--)\n#define FORR(i, a, b) for(int (i) = (a) - 1; (i) >= (b); (i)--)\n#define DEBUG(C) cerr << #C << \" = \" << C << endl;\nusing LL = long long;\nusing VI = vector<int>;\nusing VVI = vector<VI>;\nusing VL = vector<LL>;\nusing VVL = vector<VL>;\nusing VD = vector<double>;\nusing VVD = vector<VD>;\nusing PII = pair<int, int>;\nusing PDD = pair<double, double>;\nusing PLL = pair<LL, LL>;\nusing VPII = vector<PII>;\ntemplate<typename T> using VT = vector<T>;\n#define ALL(a) begin((a)), end((a))\n#define RALL(a) rbegin((a)), rend((a))\n#define SORT(a) sort(ALL((a)))\n#define RSORT(a) sort(RALL((a)))\n#define REVERSE(a) reverse(ALL((a)))\n#define MP make_pair\n#define FORE(a, b) for (auto &&a : (b))\n#define FIND(s, e) ((s).find(e) != (s).end())\n#define EB emplace_back\ntemplate<typename T> inline bool chmax(T &a, T b){if (a < b){a = b;return true;}return false;}\ntemplate<typename T> inline bool chmin(T &a, T b){if (a > b){a = b;return true;}return false;}\n\nconst int INF = 1e9;\nconst int MOD = INF + 7;\nconst LL LLINF = 1e18;\nconst double EPS = 1e-9;\n\nvoid init() {\n    \n}\n\nint a[1010];\nvoid solve(int n) {\n    fill(a, a + 1010, MOD);\n    int ma = MOD, mi = -MOD;\n    bool prevSkip = false;\n    for (int i = 0; i < n; i++) {\n        char str[10];\n        scanf(\"%s\", str);\n        if (str[0] == 'x') {\n            if (prevSkip) {\n                puts(\"none\");\n                return;\n            }\n            prevSkip = true;\n            continue;\n        }\n        a[i] = atoi(str);\n        prevSkip = false;\n    }\n    for (int i = 0; i < n; i++) {\n        if (a[i] == MOD) {\n            if ((i + 1) % 2) {//?\\???°\n                if (i) chmin(ma, a[i - 1]);\n                if (i + 1 != n) chmin(ma, a[i + 1]);\n            } else {//??¶??°\n                chmax(mi, a[i - 1]);\n                if (i + 1 != n) chmax(mi, a[i + 1]);\n            }\n        } else {\n            bool ng = false;\n            if ((i + 1) % 2) {\n                if (i && a[i - 1] != MOD) ng |= (a[i] => a[i - 1]);\n                if (i + 1 != n && a[i + 1] != MOD) ng |= (a[i] => a[i + 1]);\n            } else {\n                if (a[i - 1] != MOD) ng |= (a[i] <= a[i - 1]);\n                if (i + 1 != n && a[i + 1] != MOD) ng |= (a[i] <= a[i + 1]);\n            }\n            if (ng) {\n                puts(\"none\");\n                return;\n            }\n        }\n    }\n    //cerr<<mi<<\" \"<<ma<<endl;\n    mi++;ma--;\n    if (ma < mi) puts(\"none\");\n    else if (ma == mi) printf(\"%d\\n\", ma);\n    else puts(\"ambiguous\");\n}\n\nsigned main(void) {\n    LL n, m, p, a, b, c, x, y, z, q;\n    string s;\n    bool f = false;\n    init();\n    while (cin >> n, n) {\n        solve(n);\n        //return 0;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <string>\n#include <cmath>\n#include <cassert>\n#include <iostream>\n#include <algorithm>\n#include <stack>\n#include <queue>\n#include <vector>\n#include <set>\n#include <map>\n#include <bitset>\n#include <functional>\n#include <numeric>\nusing namespace std;\n\n#define repl(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define rep(i,n) repl(i,0,n)\n#define mp(a,b) make_pair((a),(b))\n#define pb(a) push_back((a))\n#define all(x) (x).begin(),(x).end()\n#define dbg(x) cout<<#x\"=\"<<((x))<<endl\n#define fi first\n#define se second\n\n#define INF 2147483600\n#define long long long\n#define BIG 1000000000\n\nint solve(vector<int> &vec){\n  int n=vec.size();\n  // check\n  rep(i,n-1){\n    if(vec[i]==INF && vec[i+1]==INF) return -INF;\n    if(vec[i]!=INF && vec[i+1]!=INF){\n      if(i%2==0) if(vec[i] > vec[i+1]) return -INF;\n      if(i%2==1) if(vec[i] < vec[i+1]) return INF;\n    }\n  }\n  int lb=-BIG, ub=BIG;\n  repl(i,1,n-1) if(vec[i]==INF){\n    if(i%2==0){\n      ub = min(ub, min(vec[i-1], vec[i+1])-1);\n    } else {\n      lb = max(lb, max(vec[i-1], vec[i+1])+1);\n    }\n  }\n  if(vec[0]==INF) lb = max(lb, vec[1]+1);\n  if(vec[n-1]==INF){\n    if(n%2==1) ub = min(ub, vec[n-2]-1);"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#define INF -2000000000\nusing namespace std;\nvector <int> s;\nint check(int x){\n  for(int i=1;i<s.size()-1;i++){\n    int ima = s[i],nx = s[i+1],mae = s[i-1];\n    if(ima == INF) ima =x;\n    if(nx == INF) nx = x;\n    if(mae == INF) mae = x;\n    if(i%2 == 0 && (ima >= mae || ima>= nx)) {\n      if(s[i] == INF)return -1;\n      else return 1;\n    }\n    else if(i%2==1 &&(mae >= ima||nx >= ima)) {\n      if(s[i] == INF)  return 1;\n      else return -1;\n    }\n  }\n\n  if(s.size() == 2) {\n    int ima = s[0],nx = s[1];\n    if(s[0] == INF) ima = x;\n    if(s[1] == INF) nx  = x;\n    if(ima >= nx) \n      if(s[0] == INF) return -1;\n      else return 1;\n  }\n  \n  return 0;\n}\n\nint main() {\n  while(1){\n    int n;\n    cin >> n;\n    if(n == 0) break;\n    string str;\n    s.clear();\n    for(int i=0;i<n;i++) {\n      cin >> str;\n      if(str == \"x\") s.push_back(INF);\n      else {\n\tint sum = 0;\n\tfor(int j=0;j<str.size();j++) sum = sum*10 + (str[j]-'0');\n\ts.push_back(sum);\n      }\n    }\n  \n    int R = 1000000010,L=-1000000010,M,ans = INF;\n    while(L < R) {\n      M = (L+R)/2;\n      if(M > 1000000005 || M < -1000000005) break;\n      int res = check(M);\n      if(res == -1) R = M;\n      else if(res == 1) L=M+1;\n      else if(res == 0) {\n\tans = M;\n\tbreak;\n      }\n   \n    }\n    if(ans == INF) cout << \"none\"<<endl;\n    else if(check(ans+1) == 0 || check(ans-1) == 0) cout << \"ambiguous\"<<endl;\n    else cout << ans <<endl;\n  }\n  return 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\nint main(){\n  int N;\n  while(cin >> N, N){\n    string A[N];\n    bool g = true;\n    for(int i = 0; i < N; ++i){\n      cin >> A[i];\n    }\n    long long int INF = 10000000000, m = -INF, M = INF;\n    for(int i = 0; i < N; ++i){\n      if(i > 0 && A[i] != \"x\" && A[i-1] != \"x\"){\n\tif(i%2 && stoi(A[i]) <= stoi(A[i-1])) g = false;\n\telse if(i%2 == 0 && stoi(A[i]) >= stoi(A[i-1])) g = false;\n      }\n      if(i > 0 && A[i] == \"x\" && A[i-1] == \"x\") g = false;\n      if(A[i] == \"x\"){\n\tif(i%2){\n\t  if(i > 0 && A[i-1] != \"x\") m = max(m, (long long int)stoi(A[i-1]));\n\t  if(i < N-1 && A[i+1] != \"x\") m = max(m, (long long int)stoi(A[i+1]));\n\t}else{\n\t  if(i > 0 && A[i-1] != \"x\") M = min(M, (long long int)stoi(A[i-1]));\n\t  if(i < N-1 && A[i+1] != \"x\") M = min(M, (long long int)stoi(A[i+1]));\t\n\t}\n      }\n    }\n    //cout << M << \" \" << m << endl;\n    if(g && M - m == 2) cout << m+1 << endl;\n    else if(g && M - m > 2) cout << \"ambiguous\" << endl;\n    else cout << \"none\" << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<cstdlib>\n#include<vector>\nusing namespace std;\n\nint main(){\n  const int Max=(1<<30);\n  const int Min=(1<<31);\n  const int NAN=Max+1;\n  int N;\n  while(cin>>N,N){\n    int max=Min;\n    int min=Max;\n    vector<string> vec(N);\n    for(int i=0;i<N;i++){\n      cin>>vec[i];\n    }\n    bool flag=true;\n    for(int i=0;i<N;i++){\n      if(vec[i]==\"x\"){\n\tif((i>=1 && vec[i-1]==\"x\") || (i+1<N && vec[i+1]==\"x\")){\n\t  flag=false;\n\t}else{\n\t  int b=NAN;\n\t  int a=NAN;\n\t  if(i>=1) b=atoi(vec[i-1].c_str());\n\t  if(i+1<N) a=atoi(vec[i+1].c_str());\n\t  if(i&1){\n\t    if(b==NAN) b=Min;\n\t    if(a==NAN) a=Min;\n\t    if(max<b) max=b;\n\t    if(max<a) max=a;\n\t  }else{\n\t    if(b==NAN) b=Max;\n\t    if(a==NAN) a=Max;\n\t    if(min>b) min=b;\n\t    if(min>a) min=a;\n\t  }\n\t}\n      }else{\n\tint b=NAN;\n\tint c=atoi(vec[i].c_str());\n\tint a=NAN;\n\tif(i>=1 && vec[i-1]!=\"x\")\n\t  b=atoi(vec[i-1].c_str());\n\tif(i+1<N && vec[i+1]!=\"x\")\n\t  a=atoi(vec[i+1].c_str());\n\tif(i&1){\n\t  if(b==NAN) b=Min;\n\t  if(a==NAN) a=Min;\n\t  if(b>=c || a>=c) flag=false;\t  \n\t}else{\n\t  if(b==NAN) b=Max;\n\t  if(a==NAN) a=Max;\n\t  if(b<=c || a<=c) flag=false;\t  \n\t}\n      }\n    }\n    int ch=(min-max-1)*flag;\n    if(ch==0 || max>=min){\n      cout<<\"none\"<<endl;\n    }else if(ch==1){\n      cout<<min-1<<endl;\n    }else{\n      cout<<\"ambiguous\"<<endl;\n    }\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#define INF 2000000000\n#define N 1010\nusing namespace std;\ntypedef long long ll;\nvoid Bynary_Search(ll,ll);\nll StoI(string);\nll Judge(ll);\nstring str[N];\nll n,data[N];\n\nint main(){\n  while(1){\n    cin>>n;\n    if(!n) break;\n    data[0]=INF;\n    if(n%2) data[n+1]=INF+INF;\n    else data[n+1]=-INF+INF;\n    for(int i=1;i<=n;i++){\n      cin>>str[i];\n      if(str[i]==\"x\") continue;\n      data[i]=StoI(str[i])+INF;\n    }\n    Bynary_Search(0,1000000100+INF);\n  }\n  return 0;\n}\n\nvoid Bynary_Search(ll l,ll r){\n  ll m;\n  while(l<r-1){\n    m=(ll)(l+r)/2;\n    if(Judge(m)==-2) break;\n    else if(Judge(m)<0) l=m;\n    else if(Judge(m)>0) r=m;\n    else{\n      if(!Judge(m-1)||!Judge(m+1)){\n\tcout<<\"ambiguous\"<<endl;\n      }else cout<<m<<endl;\n      return ;\n    }\n  }\n  cout<<\"none\"<<endl;\n}\n\nll Judge(ll d){\n  ll judge[N];\n  judge[0]=data[0];\n  judge[n+1]=data[n+1];\n  for(int i=1;i<=n;i++){\n    if(str[i]==\"x\") judge[i]=d;\n    else judge[i]=data[i];\n  }\n  for(int i=1;i<=n;i++)\n    if(str[i]!=\"x\"&&str[i+1]!=\"x\")\n      if(((i%2)&&judge[i]>=judge[i+1])||(!(i%2)&&judge[i]<=judge[i+1])) return -2;\n  for(int i=1;i<=n;i++){\n    if(str[i]!=\"x\") continue;\n    if((i%2)&&(judge[i-1]<=judge[i]||judge[i]>=judge[i+1])) return 1;\n    if(!(i%2)&&(judge[i-1]>=judge[i]||judge[i]<=judge[i+1])) return -1;\n  }\n  return 0;\n}\n\nll StoI(string s){\n  ll ret=0;\n  for(int i=0;i<s.size();i++)\n    ret=ret*10+(s[i]-'0');\n  return ret;  \n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define N 1001\n#define INF 1e9\nusing namespace std;\n\n\nint main(){\n  while(1){\n\n    int n;\n    string str[N];\n    cin>>n;\n    if(n==0) break;\n    long long a[N];\n    a[0]=INF*2;\n    \n    for(int i=1;i<=n;i++)cin>>str[i];\n    \n    for(int i=1;i<=n;i++){\n      if(str[i]==\"x\")a[i]=INF+1;\n      else a[i]=atoi(str[i].c_str());\n    }\n    \n    int f=0;\n  \n    long long low=-INF*2,upp=INF*2;\n    \n    for(int i=1;i<=n;i++){\n      if(a[i]==INF+1){\n\tif(i%2){\n\t  if(a[i-1]==INF+1) f=1;\n\t  else upp=min(a[i-1],upp);\n\t  if(i<n) upp=min(a[i+1],upp);\t  \n\t}\n\telse{\n\t  if(a[i-1]==INF+1) f=1;\n\t  else  low=max(low,a[i-1]);\n\t  if(i<n) low=max(a[i+1],low);\n\t}\n      }else if(a[i-1]<a[i] && i%2 && a[i-1]!=INF+1) f=1;\n      else if(a[i-1]>a[i] && !(i%2) && a[i-1]!=INF+1) f=1;\n    }\n  \n        if(upp-low==2 && f==0) cout<<(upp+low)/2<<endl;\n       else if(upp-low>2 && f==0) cout<<\"ambiguous\"<<endl;\n     else  cout<<\"none\"<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cassert>// c\n#include <iostream>// io\n#include <iomanip>\n#include <fstream>\n#include <sstream>\n#include <vector>// container\n#include <map>\n#include <set>\n#include <queue>\n#include <bitset>\n#include <stack>\n#include <algorithm>// other\n#include <complex>\n#include <numeric>\n#include <functional>\n#include <random>\n#include <regex>\nusing namespace std;\n\ntypedef long long ll;\n\n#define ALL(c) (begin(c)),(end(c))\n#define REP(i,n) FOR(i,0,n)\n#define REPr(i,n) FORr(i,0,n)\n#define FOR(i,l,r) for(int i=(int)(l);i<(int)(r);++i)\n#define FORr(i,l,r) for(int i=(int)(r)-1;i>=(int)(l);--i)\n#define EACH(it,o) for(auto it = (o).begin(); it != (o).end(); ++it)\n#define IN(l,v,r) ((l)<=(v) && (v)<(r))\n#define UNIQUE(v) v.erase(unique(ALL(v)),v.end())\n//debug\n#define DUMP(x)  cerr << #x << \" = \" << (x)\n#define LINE()    cerr<< \" (L\" << __LINE__ << \")\"\n\nclass range {\nprivate:\n\tstruct Iter{\n\t\tint v;\n\t\tint operator*(){return v;}\n\t\tbool operator!=(Iter& itr) {return v < itr.v;}\n\t\tvoid operator++() {++v;}\n\t};\n\tIter i, n;\npublic:\n\trange(int n) : i({0}), n({n}) {}\n\trange(int i, int n) : i({i}), n({n}) {}\n\tIter& begin() {return i;}\n\tIter& end() {return n;}\n};\n\n//output\ntemplate<typename T> ostream& operator << (ostream& os, const vector<T>& as){REP(i,as.size()){if(i!=0)os<<\" \"; os<<as[i];}return os;}\ntemplate<typename T> ostream& operator << (ostream& os, const vector<vector<T>>& as){REP(i,as.size()){if(i!=0)os<<endl; os<<as[i];}return os;}\ntemplate<typename T> ostream& operator << (ostream& os, const set<T>& ss){for(auto a:ss){if(a!=ss.begin())os<<\" \"; os<<a;}return os;}\ntemplate<typename T1,typename T2> ostream& operator << (ostream& os, const pair<T1,T2>& p){os<<p.first<<\" \"<<p.second;return os;}\ntemplate<typename K,typename V> ostream& operator << (ostream& os, const map<K,V>& m){bool isF=true;for(auto& p:m){if(!isF)os<<endl;os<<p;isF=false;}return os;}\ntemplate<typename T1> ostream& operator << (ostream& os, const tuple<T1>& t){os << get<0>(t);return os;}\ntemplate<typename T1,typename T2> ostream& operator << (ostream& os, const tuple<T1,T2>& t){os << get<0>(t)<<\" \"<<get<1>(t);return os;}\ntemplate<typename T1,typename T2,typename T3> ostream& operator << (ostream& os, const tuple<T1,T2,T3>& t){os << get<0>(t)<<\" \"<<get<1>(t)<<\" \"<<get<2>(t);return os;}\ntemplate<typename T1,typename T2,typename T3,typename T4> ostream& operator << (ostream& os, const tuple<T1,T2,T3,T4>& t){os << get<0>(t)<<\" \"<<get<1>(t)<<\" \"<<get<2>(t)<<\" \"<<get<3>(t);return os;}\ntemplate<typename T1,typename T2,typename T3,typename T4,typename T5> ostream& operator << (ostream& os, const tuple<T1,T2,T3,T4,T5>& t){os << get<0>(t)<<\" \"<<get<1>(t)<<\" \"<<get<2>(t)<<\" \"<<get<3>(t)<<\" \"<<get<4>(t);return os;}\ntemplate<typename T1,typename T2,typename T3,typename T4,typename T5,typename T6> ostream& operator << (ostream& os, const tuple<T1,T2,T3,T4,T5,T6>& t){os << get<0>(t)<<\" \"<<get<1>(t)<<\" \"<<get<2>(t)<<\" \"<<get<3>(t)<<\" \"<<get<4>(t)<<\" \"<<get<5>(t);return os;}\ntemplate<typename T1,typename T2,typename T3,typename T4,typename T5,typename T6,typename T7> ostream& operator << (ostream& os, const tuple<T1,T2,T3,T4,T5,T6,T7>& t){os << get<0>(t)<<\" \"<<get<1>(t)<<\" \"<<get<2>(t)<<\" \"<<get<3>(t)<<\" \"<<get<4>(t)<<\" \"<<get<5>(t)<<\" \"<<get<6>(t);return os;}\n\n//input\nchar tmp[1000];\n#define nextInt(n) scanf(\"%d\",&n)\n#define nextLong(n) scanf(\"%lld\",&n) //I64d\n#define nextDouble(n) scanf(\"%lf\",&n) \n#define nextChar(n) scanf(\"%c\",&n)\n#define nextString(n) scanf(\"%s\",tmp);n=tmp\n\n// values\ntemplate<typename T> T INF(){assert(false);};\ntemplate<> int INF<int>(){return 1<<28;};\ntemplate<> ll INF<ll>(){return 1LL<<58;};\ntemplate<> double INF<double>(){return 1e16;};\n\ntemplate<class T> T EPS(){assert(false);};\ntemplate<> int EPS<int>(){return 1;};\ntemplate<> ll EPS<ll>(){return 1LL;};\ntemplate<> double EPS<double>(){return 1e-8;};\ntemplate<> long double EPS<long double>(){return 1e-8;};\n\n\ntemplate<typename T,typename U> T pmod(T v,U M){return (v%M+M)%M;}\n\nint dx[4]={1,0,-1,0},dy[4]={0,1,0,-1};\nclass Main{\n\tpublic:\n\n\n\tvoid run(){\n\n\t\twhile(true){\n\t\t\tint N;cin >> N;if(N==0)break;\n\n\t\t\tvector<int> as(N);\n\t\t\tvector<bool> emp(N);\n\t\t\tREP(i,N){\n\t\t\t\tstring s;cin >> s;\n\t\t\t\tif(s==\"x\")emp[i]=true;\n\t\t\t\telse{\n\t\t\t\t\tstringstream ss;ss << s;int v;ss >> v;\n\t\t\t\t\tas[i]=v;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvector<int> cs;\n\t\t\tREP(i,N){\n\t\t\t\tcs.push_back(as[i]-1);cs.push_back(as[i]);cs.push_back(as[i]+1);\n\t\t\t\tcs.push_back(as[i]-2);cs.push_back(as[i]);cs.push_back(as[i]+2);\n\t\t\t}\n\n\t\t\tsort(ALL(cs));cs.erase(unique(ALL(cs)),cs.end());\n\t\t\tint res;bool resex=false,many=false;\n\t\t\tREP(i,cs.size()){\n\t\t\t\tint v=cs[i];\n\t\t\t\t// if(!(-1e9<=v && v<=1e9))continue;\n\t\t\t\tREP(i,N)if(emp[i])as[i]=v;\n\t\t\t\t\n\t\t\t\tbool ok=true;\n\t\t\t\tREP(j,N-1){\n\t\t\t\t\tif(j%2==0)ok &=(as[j]<as[j+1]);\n\t\t\t\t\telse ok &=(as[j]>as[j+1]);\n\t\t\t\t}\n\t\t\t\tif(ok){\n\t\t\t\t\tif(!resex){\n\t\t\t\t\t\tresex=true;res=v;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tmany=true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!resex){\n\t\t\t\tcout <<\"none\"<<endl;\n\t\t\t}else if(resex && !many){\n\t\t\t\tcout << res <<endl;\n\t\t\t}else{\n\t\t\t\tcout <<\"ambiguous\"<<endl;\n\t\t\t}\n\t\t}\n\t}\n};\n\nint main(){\n\tcout <<fixed<<setprecision(20);\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\tMain().run();\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <stack>\n#include <queue>\n#include <map>\n#include <cmath>\n#include <string>\n#include <sstream>\n#include <iomanip>\n#include <complex>\nusing namespace std;\n\n#define ll long long\n#define vvi vector< vector<int> >\n#define vi vector<int>\n#define All(X) X.begin(),X.end()\n#define FOR(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define REP(i,n) for(int i=0;i<(int)(n);i++)\n#define pb push_back\n#define pii pair<int,int>\n#define mp make_pair\n#define pi 3.14159265359\n#define shosu(X) fixed << setprecision(X)\nll gcd(ll a,ll b){return b?gcd(b,a%b):a;}\nll lcm(ll a,ll b){return a/gcd(a,b)*b;}\n\nint main(){\n\twhile(1){\n\t\tint n;\n\t\tcin >> n;\n\t\tif(n==0) break;\n\t\tll int xcnt = 0;\n\t\tll int data[1001];\n\t\tll int lastxpos = -10;\n\t\tREP(i,n){\n\t\t\tstring s;\n\t\t\tcin >> s;\n\t\t\tif(s==\"x\"){\n\t\t\t\txcnt++;\n\t\t\t\tif(lastxpos==i-1){//x 2??£?¶????????????????????????¨\n\t\t\t\t\txcnt = n;\n\t\t\t\t}\n\t\t\t\tlastxpos = i;\n\t\t\t\tdata[i]=999999999;\n\t\t\t}else{\n\t\t\t\tdata[i]= stoll(s);\n\t\t\t}\n\t\t}\n\t\tif(xcnt>=n){//2??£?¶????????????§?????£?????????\n\t\t\tcout << \"none\" << endl;\n\t\t}else{\n\t\t\tbool is_mujun = false;\n\t\t\tll int minx=-999999999,maxx=999999999;\n\t\t\tREP(i,n){\n\t\t\t\tif(i==0){\n\t\t\t\t\tif(data[0]==999999999) maxx = data[1]-1;\n\t\t\t\t\telse if(data[1]!=999999999&&data[0]>=data[1]) is_mujun = true;\n\t\t\t\t}else if(i==n-1){\n\t\t\t\t\tif(data[n-1]==999999999){\n\t\t\t\t\t\tif((n+1)%2==0){\n\t\t\t\t\t\t\tmaxx = data[n-2]-1;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tminx = data[n-2]+1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif((n+1)%2==0){\n\t\t\t\t\t\t\tif(data[n-2]!=999999999&&data[n-1]>=data[n-2]) is_mujun = true;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tif(data[n-2]!=999999999&&data[n-1]<=data[n-2]) is_mujun = true;\n\t\t\t\t\t\t}\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(data[i]==999999999){\n\t\t\t\t\t\tif((i+1)%2==0){\n\t\t\t\t\t\t\tminx = max(minx,max(data[i-1],data[i+1])+1);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tmaxx = min(maxx,min(data[i-1],data[i+1])-1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif((i+1)%2==0){\n\t\t\t\t\t\t\tif(data[i-1]!=999999999&&(data[i]<=data[i-1])) is_mujun = true;\n\t\t\t\t\t\t\tif(data[i+1]!=999999999&&(data[i]<=data[i+1])) is_mujun = true;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tif(data[i-1]!=999999999&&(data[i]>=data[i-1])) is_mujun = true;\n\t\t\t\t\t\t\tif(data[i+1]!=999999999&&(data[i]>=data[i+1])) is_mujun = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(minx!=-1&&maxx!=-1&&minx-maxx>0) is_mujun = true;\n\t\t\t\t//cout << minx << \" \" << maxx << \" \" << is_mujun <<\" \"<<data[i]<< endl;\n\t\t\t}\n\t\t\tif(xcnt==0){\n\t\t\t\tif(is_mujun) cout << \"none\" << endl;\n\t\t\t\telse cout << \"ambigious\" << endl;\t\t\t\t\n\t\t\t}else{\n\t\t\t\tif(is_mujun) cout << \"none\" << endl;\n\t\t\t\telse{\n\t\t\t\t\tif(maxx==minx) cout << maxx << endl;\n\t\t\t\t\telse cout << \"ambigious\" << endl;\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdlib>\nusing namespace std;\n\n#define MAX_N 1000000000\n\nint main()\n{\n  while(1){\n    int n;\n    cin >> n;\n    if(n == 0) break;\n    long long int a[n];\n    for(int i = 0; i < n; i++){\n      string s;\n      cin >> s;\n      a[i] = s == \"x\" ? MAX_N+1 : atoi(s.c_str());\n    } \n    long long int l = -MAX_N-3, u = MAX_N+3;\n    bool flag = false;\n    for(int i = 0; i < n-1; i++){\n      if(a[i] == MAX_N+1){\n        if(a[i+1] == MAX_N+1){\n          flag = true;\n          break;\n        }else{\n          if((i+1) & 1){\n            u = a[i+1];\n          }else{\n            l = a[i+1];\n          }\n        }\n      }else{\n        if(a[i+1] == MAX_N+1){\n          if((i+1) & 1){\n            l = a[i];\n          }else{\n            u = a[i];\n          }\n        }else{\n          if((i+1) & 1){\n            if(a[i] >= a[i+1]){\n              flag = true;\n              break;\n            }\n          }else{\n            if(a[i] <= a[i+1]){\n              flag = true;\n              break;\n            }\n          }\n        }\n      }\n    }\n    if(flag){\n      cout << \"none\" << endl;\n      continue;\n    }\n    if(u - l - 1 > 1)\n      cout << \"ambiguous\" << endl;\n    else if(u - l - 1 <= 0)\n      cout << \"none\" << endl;\n    else\n      cout << (u+l)/2 << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <cstdio>\n#include <string>\n#include <cstring>\n#include <deque>\n#include <list>\n#include <queue>\n#include <stack>\n#include <vector>\n#include <utility>\n#include <algorithm>\n#include <map>\n#include <set>\n#include <complex>\n#include <cmath>\n#include <limits>\n#include <cfloat>\n#include <climits>\n#include <ctime>\n#include <cassert>\nusing namespace std;\n\n#define rep(i,a,n) for(int (i)=(a); (i)<(n); (i)++)\n#define repq(i,a,n) for(int (i)=(a); (i)<=(n); (i)++)\n#define repr(i,a,n) for(int (i)=(a); (i)>=(n); (i)--)\n#define all(v) begin(v), end(v)\n#define pb(a) push_back(a)\n#define fr first\n#define sc second\n#define INF 2000000000\n#define int long long int\n\n#define X real()\n#define Y imag()\n#define EPS (1e-10)\n#define EQ(a,b) (abs((a) - (b)) < EPS)\n#define EQV(a,b) ( EQ((a).X, (b).X) && EQ((a).Y, (b).Y) )\n#define LE(n, m) ((n) < (m) + EPS)\n#define LEQ(n, m) ((n) <= (m) + EPS)\n#define GE(n, m) ((n) + EPS > (m))\n#define GEQ(n, m) ((n) + EPS >= (m))\n\ntypedef vector<int> VI;\ntypedef vector<VI> MAT;\ntypedef pair<int, int> pii;\ntypedef long long ll;\n\ntypedef complex<double> P;\ntypedef pair<P, P> L;\ntypedef pair<P, double> C;\n\nint dx[]={1, -1, 0, 0};\nint dy[]={0, 0, 1, -1};\nint const MOD = 1000000007;\nll mod_pow(ll x, ll n) {return (!n)?1:(mod_pow((x*x)%MOD,n/2)*((n&1)?x:1))%MOD;}\nint madd(int a, int b) {return (a + b) % MOD;}\nint msub(int a, int b) {return (a - b + MOD) % MOD;}\nint mmul(int a, int b) {return (a * b) % MOD;}\nint minv(int a) {return mod_pow(a, MOD-2);}\nint mdiv(int a, int b) {return mmul(a, minv(b));}\n\nnamespace std {\n    bool operator<(const P& a, const P& b) {\n        return a.X != b.X ? a.X < b.X : a.Y < b.Y;\n    }\n}\n\nint n;\nsigned main() {\n    while(cin >> n, n) {\n        vector<int> a(n);\n        rep(i,0,n) {\n            string c; cin >> c;\n            if(c == \"x\") a[i] = -1;\n            else a[i] = atoi(c.c_str());\n        }\n\n        bool ok = true;\n        int mi = -1, ma = INF;\n        rep(i,0,n) {\n            if(a[i] == -1) {\n                if(i != 0) {\n                    if(a[i-1] == -1) ok = false;\n                    else if(i % 2) mi = max(mi, a[i-1] + 1);\n                    else ma = min(ma, a[i-1] - 1);\n                }\n                if(i != n-1) {\n                    if(a[i+1] == -1) ok = false;\n                    else if(i % 2) mi = max(mi, a[i+1] + 1);\n                    else ma = min(ma, a[i+1] - 1);\n                }\n            }\n            else {\n                if(i != 0) {\n                    if(i % 2 && a[i-1] != -1 && a[i-1] > a[i]) ok = false;\n                    if(!(i%2)&& a[i-1] != -1 && a[i-1] < a[i]) ok = false;\n                }\n                if(i != n-1) {\n                    if(i % 2 && a[i+1] != -1 && a[i+1] > a[i]) ok = false;\n                    if(!(i%2)&& a[i+1] != -1 && a[i+1] < a[i]) ok = false;\n                }\n            }\n        }\n        if(!ok) cout << \"none\" << endl;\n        else {\n            // printf(\"mi = %lld, ma = %lld\\n\", mi, ma);\n            if(mi > ma) cout << \"none\" << endl;\n            else if(mi == ma) cout << mi << endl;\n            else cout << \"ambiguous\" << endl;\n        }\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i, a, n) for(int i = a; i < n; i++)\n#define repb(i, a, b) for(int i = a; i >= b; i--)\n#define all(a) a.begin(), a.end()\n#define o(a) cout << a << endl\n#define int long long\n#define first fi;\n#define second se;\nusing namespace std;\ntypedef pair<int, int> P;\n\nint change_to_i(string s){\n    stringstream ss; int k;\n    ss<<s; ss>>k;\n    return k;\n}\n\nsigned main(){\n    int n;\n    while(cin >> n, n){\n        string s;\n        vector<int> d(n);\n        rep(i, 0, n){\n            cin >> s;\n            if(s == \"x\") d[i] = -1;\n            else d[i] = change_to_i(s);\n            // cout << d[i] << \" \";\n        }\n        // cout << endl;\n        bool f = true;\n        int l = -1e10, r = 1e10;\n        rep(i, 0, n){\n            if(d[i] == -1){\n                if(i - 1 >= 0 && d[i - 1] == -1) f = false;\n                if(i + 1 < n && d[i + 1] == -1) f = false;\n                if((i + 1) % 2){\n                    if(i - 1 >= 0) r = min(r, d[i - 1] - 1);\n                    if(i + 1 < n) r = min(r, d[i + 1] - 1);\n                }else{\n                    if(i - 1 >= 0) l = max(l, d[i - 1] + 1);\n                    if(i + 1 < n) l = max(l, d[i + 1] + 1);\n                }\n            // cout << i << \" \" <<  l << \" \" << r << endl;\n                \n            }else{\n                if((i + 1) % 2){\n                    if(i - 1 >= 0 && d[i - 1] != -1 && d[i - 1] <= d[i]) f = false;\n                    if(i + 1 < n && d[i + 1] != -1 && d[i] >= d[i + 1]) f = false;\n                }else{\n                    if(i - 1 >= 0 && d[i - 1] != -1 &&  d[i - 1] >= d[i]) f = false;\n                    if(i + 1 < n && d[i + 1] != -1 && d[i] <= d[i + 1]) f = false;\n                }\n            }\n        }\n        // cout << l << \" \" << r << endl;\n        if(l > r) f = false;\n        if(!f) cout << \"none\" << endl;\n        else if(l == r) cout << l << endl;\n        else cout << \"ambiguous\" << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <fstream>\n#include <cstdio>\n#include <cmath>\n#include <vector>\n#include <cstring>\n#include <string>\n#include <set>\n#include <map>\n#include <stack>\n#include <queue>\n#include <algorithm>\nusing namespace std;\n \n#define REP(i,n) for(int i=0; i<n; ++i)\n#define FOR(i,a,b) for(int i=a; i<=b; ++i)\n#define FORR(i,a,b) for (int i=a; i>=b; --i)\n#define pi M_PI\n \ntypedef long long ll;\ntypedef vector<int> VI;\ntypedef vector<ll> VL;\ntypedef vector<VI> VVI;\ntypedef pair<int,int> P;\ntypedef pair<ll,ll> PL;\n\nconst int INF = 1e9 + 2;\n\nint stoii(string s){\n    int res = 0;\n    bool m = 0;\n    REP(i,s.length()){\n        if (s[i] == '-') m = 1;\n        else res = 10*res + s[i]-'0';\n    }\n    if (m) res *= -1;\n    return res;\n}\n\nint main() {\n    int n;\n    while (cin >> n && n){\n        VI a(n+2), c(n+2);\n        FOR(i,1,n){\n            string s;\n            cin >> s;\n            if (s == \"x\") {\n                c[i] = 1;\n                if (i % 2 == 1)\n                    a[i] = -INF;\n                else\n                    a[i] = INF;\n            }\n            else a[i] = stoii(s);\n        }\n        a[0] = INF;\n        if (n % 2 == 1) a[n+1] = INF;\n        else a[n+1] = -INF;\n        bool d = 0;\n        FOR(i,1,n-1) if (c[i] & c[i+1]) d = 1;\n        FOR(i,1,n){\n            if (i % 2 == 1 && (a[i] >= a[i-1] || a[i] >= a[i+1])) d = 1;\n            if (i % 2 == 0 && (a[i] <= a[i-1] || a[i] <= a[i+1])) d = 1;\n        }\n        if (d) {\n            cout << \"none\" << endl;\n            continue;\n        }\n\n        int mi = -INF, ma = INF;\n        FOR(i,1,n){\n            if (c[i] && i % 2 == 1)\n                ma = min({ma, a[i-1]-1, a[i+1]-1});\n            else if (c[i] && i % 2 == 0)\n                mi = max({mi, a[i-1]+1, a[i+1]+1});\n        }\n\n        cout << mi << \" \" << ma << endl;\n\n        if (mi == ma) cout << mi << endl;\n        else if (mi < ma) cout << \"ambiguous\" << endl;\n        else cout << \"none\" << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <cstdlib>\n\nusing namespace std;\nstatic const int INF = 1000000010;\n\nint main(){\n\tios_base::sync_with_stdio(false);\n\twhile(true){\n\t\tint n;\n\t\tcin >> n;\n\t\tif(n == 0){ break; }\n\t\tvector<int> a(n), b(n);\n\t\tfor(int i = 0; i < n; ++i){\n\t\t\tstring s;\n\t\t\tcin >> s;\n\t\t\tif(s == \"x\"){\n\t\t\t\tb[i] = 1;\n\t\t\t}else{\n\t\t\t\ta[i] = atoi(s.c_str());\n\t\t\t}\n\t\t}\n\t\tint lower = -INF, upper = INF;\n\t\tfor(int i = 0; i < n; ++i){\n\t\t\tif(b[i] == 0){\n\t\t\t\tif(i + 1 >= n || b[i + 1]){ continue; }\n\t\t\t\tif(i % 2 == 0){\n\t\t\t\t\tif(a[i] >= a[i + 1]){\n\t\t\t\t\t\tlower = INF; upper = -INF;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(a[i] <= a[i + 1]){\n\t\t\t\t\t\tlower = INF; upper = -INF;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif(i + 1 < n && b[i + 1]){\n\t\t\t\tlower = INF; upper = -INF;\n\t\t\t}\n\t\t\tif(i % 2 == 0){\n\t\t\t\tfor(int j = -1; j <= 1; j += 2){\n\t\t\t\t\tconst int k = i + j;\n\t\t\t\t\tif(k < 0 || n <= k || b[k]){ continue; }\n\t\t\t\t\tupper = min(upper, a[k] - 1);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tfor(int j = -1; j <= 1; j += 2){\n\t\t\t\t\tconst int k = i + j;\n\t\t\t\t\tif(k < 0 || n <= k || b[k]){ continue; }\n\t\t\t\t\tlower = max(lower, a[k] + 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(lower > upper){\n\t\t\tcout << \"none\" << endl;\n\t\t}else if(lower == upper){\n\t\t\tcout << lower << endl;\n\t\t}else{\n\t\t\tcout << \"ambiguous\" << endl;\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cctype>\n#include <climits>\n#include <cmath>\n#include <complex>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <ctime>\n#include <deque>\n#include <functional>\n#include <iostream>\n#include <list>\n#include <map>\n#include <memory>\n#include <numeric>\n#include <queue>\n#include <set>\n#include <stack>\n#include <string>\n#include <utility>\n#include <vector>\nusing namespace std;\n\n#define EPS 1e-10\n#define INF 1000000002\n#define mp make_pair\n#define pb push_back\n\ntypedef vector<int> vi;\ntypedef vector<vi> vii;\ntypedef pair<int,int> pii;\ntypedef long long ll;\n\nll parseInt(string &str) {\n  ll rep;\n  if (str[0] == '-') {\n    rep = -1 * (str[1] - '0');\n  } else {\n    rep = str[0] - '0';\n  }\n  for (int i = 1; i < str.size(); i++) {\n    int num = str[i] - '0';\n    rep = rep * 10 + num;\n  }\n  return rep;\n}\n\nint main() {\n  while (1) {\n    int N;\n    scanf(\"%d\", &N);\n    if (N == 0) {\n      break;\n    }\n    string prev = \"1000000002\";\n    ll floor = -1 * INF, ceiling = INF;\n    for (int i = 0; i < N; i++) {\n      string data;\n      cin >> data;\n      if (data == \"x\") {\n        if (prev == \"x\") {\n          floor = 0;\n          ceiling = -1;\n        } else {\n          if ((i + 1) % 2 == 0) {\n            floor = max(floor, parseInt(prev) + 1);\n          } else {\n            ceiling = min(ceiling, parseInt(prev) - 1);\n          }\n        }\n      } else {\n        if (prev == \"x\") {\n          if (i % 2 == 0) {\n            floor = max(floor, parseInt(data) + 1);\n          } else {\n            ceiling = min(ceiling, parseInt(data) - 1);\n          }\n        } else {\n          if (((i + 1) % 2 == 0 && prev >= data) || ((i + 1) % 2 == 1 && prev < data)) {\n            floor = 0;\n            ceiling = -1;\n          }\n        }\n      }\n      prev = data;\n    }\n    if (floor == ceiling) {\n      cout << floor << endl;\n    } else if (floor < ceiling) {\n      cout << \"ambiguous\" << endl;\n    } else {\n      cout << \"none\" << endl;\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#define INF 1500000000\n#define N 1010\nusing namespace std;\ntypedef long long ll;\nvoid Bynary_Search(ll,ll);\nll StoI(string);\nll Judge(ll);\nstring str[N];\nll n,data[N];\n \nint main(){\n  while(1){\n    cin>>n;\n    if(!n) break;\n    data[0]=(ll)INF+INF;\n    if(n%2) data[n+1]=(ll)INF+INF;\n    else data[n+1]=0;\n    for(int i=1;i<=n;i++){\n      cin>>str[i];\n      if(str[i]==\"x\") continue;\n      data[i]=StoI(str[i]);\n    }\n    Bynary_Search(0,(ll)1000000100+INF);\n  }\n  return 0;\n}\n \nvoid Bynary_Search(ll l,ll r){\n  ll m;\n  while(l<r-1){\n    m=(ll)(l+r)/2;\n    if(Judge(m)==-2) break;\n    else if(Judge(m)<0) l=m;\n    else if(Judge(m)>0) r=m;\n    else{\n      if(!Judge(m-1)||!Judge(m+1)){\n\tcout<<\"ambiguous\"<<endl;\n      }else cout<<m<<endl;\n      return ;\n    }\n  }\n  cout<<\"none\"<<endl;\n}\n \nll Judge(ll d){\n  ll judge[N];\n  judge[0]=data[0];\n  judge[n+1]=data[n+1];\n  for(int i=1;i<=n;i++){\n    if(str[i]==\"x\") judge[i]=d;\n    else judge[i]=data[i];\n  }\n  for(int i=1;i<=n;i++)\n    if(str[i]!=\"x\"&&str[i+1]!=\"x\")\n      if(((i%2)&&judge[i]>=judge[i+1])||(!(i%2)&&judge[i]<=judge[i+1])) return -2;\n  for(int i=1;i<=n;i++){\n    if(str[i]!=\"x\") continue;\n    if((i%2)&&(judge[i-1]<=judge[i]||judge[i]>=judge[i+1])) return 1;\n    if(!(i%2)&&(judge[i-1]>=judge[i]||judge[i]<=judge[i+1])) return -1;\n  }\n  return 0;\n}\n \nll StoI(string s){\n  ll ret=0;\n  for(int i=0;i<s.size();i++)\n    ret=ret*10+(s[i]-'0');\n  return ret;  \n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n \nusing namespace std;\n \n#define INF 1001000100010001000\n#define MOD 1000000007\n#define EPS 1e-10\n#define int long long\n#define rep(i, N) for (int i = 0; i < N; i++)\n#define Rep(i, N) for (int i = 1; i < N; i++)\n#define For(i, a, b) for (int i = (a); i < (b); i++)\n#define pb push_back\n#define mp make_pair\n#define i_i pair<int, int>\n#define vi vector<int>\n#define vvi vector<vi >\n#define vb vector<bool>\n#define vvb vector<vb >\n#define vp vector< i_i >\n#define all(a) (a).begin(), (a).end()\n#define Int(x) int x; scanf(\"%lld\", &x);\n \n//int dxy[5] = {0, 1, 0, -1, 0};\n// assign\n \nsigned main()\n{\n    Int(n);\n    while (n) {\n        vector<string> data(n);\n        rep(i, n) {\n            cin >> data[i];\n        }\n        int less = -INF, more = INF;\n        if (data[0][0] == 'x') {\n            if ( data[1][0] == 'x' ) {\n                cout << \"none\" << endl;\n                cin >> n;\n                continue;\n            } else {\n                more = stoll(data[1]) - 1;\n            }\n        } else {\n            int b = (data[1][0] == 'x') ? INF : stoll(data[1]);\n            if (!(b > stoll(data[0]))) {\n                cout << \"none\" << endl;\n                cin >> n;\n                continue;\n            }\n        }\n        Rep(i, n-1) {\n            if (data[i][0] == 'x') {\n                if ((i+1) % 2) {\n                    if (data[i+1][0] == 'x') {\n                        cout << \"none\" << endl;\n                        cin >> n;\n                        continue;\n                    } else {\n                        more = min(more, \n                                min(stoll(data[i-1])-1,\n                                    stoll(data[i+1])-1));\n                    }\n                } else {\n                    if (data[i+1][0] == 'x') {\n                        cout << \"none\" << endl;\n                        cin >> n;\n                        continue;\n                    } else {\n                        less = max(less, \n                                max(stoll(data[i-1])+1,\n                                    stoll(data[i+1])+1));\n                    }\n                }\n            } else {\n                if ((i+1) % 2) {\n                    int a = (data[i-1][0] == 'x') ? INF : stoll(data[i-1]);\n                    int b = (data[i+1][0] == 'x') ? INF : stoll(data[i+1]);\n                    if (!(a > stoll(data[i]) && b > stoll(data[i]))) {\n                        cout << \"none\" << endl;\n                        cin >> n;\n                        continue;\n                    }\n                } else {\n                    int a = (data[i-1][0] == 'x') ? -INF : stoll(data[i-1]);\n                    int b = (data[i+1][0] == 'x') ? -INF : stoll(data[i+1]);\n                    if (!(a < stoll(data[i]) && b < stoll(data[i]))) {\n                        cout << \"none\" << endl;\n                        cin >> n;\n                        continue;\n                    }\n                }\n            }\n        }\n        if (data[n-1][0] == 'x') {\n            if (n % 2) {\n                more = min(more, stoll(data[n-2])-1);\n            } else {\n                less = max(less, stoll(data[n-2])+1);\n            }\n        } else {\n            if ((n) % 2) {\n                int a = (data[n-2][0] == 'x') ? INF : stoll(data[n-2]);\n                if (!(a > stoll(data[n-1]))) {\n                    cout << \"none\" << endl;\n                    cin >> n;\n                    continue;\n                }\n            } else {\n                int a = (data[n-2][0] == 'x') ? -INF : stoll(data[n-2]);\n                if (!(a < stoll(data[n-1]))) {\n                    cout << \"none\" << endl;\n                    cin >> n;\n                    continue;\n                }\n            }\n        }\n        if (less == more) {\n            cout << less << endl;\n        } else if (less < more) {\n            cout << \"ambiguous\" << endl;\n        } else {\n            cout << \"none\" << endl;\n        }\n        cin >> n;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#define INF 2000000000\n#define N 1010\nusing namespace std;\ntypedef long long ll;\nvoid Bynary_Search(ll,ll);\nll StoI(string);\nll Judge(ll);\nstring str[N];\nll n,data[N];\n \nint main(){\n  while(1){\n    cin>>n;\n    if(!n) break;\n    data[0]=(ll)INF+INF;\n    if(n%2) data[n+1]=(ll)INF+INF;\n    else data[n+1]=0;\n    for(int i=1;i<=n;i++){\n      cin>>str[i];\n      if(str[i]==\"x\") continue;\n      data[i]=StoI(str[i])+INF;\n    }\n    Bynary_Search(0,(ll)1000000100+INF);\n  }\n  return 0;\n}\n \nvoid Bynary_Search(ll l,ll r){\n  ll m;\n  while(l<r-1){\n    m=(ll)(l+r)/2;\n    if(Judge(m)==-2) break;\n    else if(Judge(m)<0) l=m;\n    else if(Judge(m)>0) r=m-1;\n    else{\n      if(!Judge(m-1)||!Judge(m+1)) cout<<\"ambiguous\"<<endl;\n      else cout<<m-INF<<endl;\n      return ;\n    }\n  }\n  cout<<\"none\"<<endl;\n}\n \nll Judge(ll d){\n  ll judge[N];\n  judge[0]=data[0];\n  judge[n+1]=data[n+1];\n  for(int i=1;i<=n;i++){\n    if(str[i]==\"x\") judge[i]=d;\n    else judge[i]=data[i];\n  }\n  for(int i=1;i<=n;i++)\n    if(str[i]!=\"x\"&&str[i+1]!=\"x\")\n      if(((i%2)&&judge[i]>=judge[i+1])||(!(i%2)&&judge[i]<=judge[i+1])) return -2;\n  for(int i=1;i<=n;i++){\n    if(str[i]!=\"x\") continue;\n    if((i%2)&&(judge[i-1]<=judge[i]||judge[i]>=judge[i+1])) return 1;\n    if(!(i%2)&&(judge[i-1]>=judge[i]||judge[i]<=judge[i+1])) return -1;\n  }\n  return 0;\n}\n \nll StoI(string s){\n  ll ret=0;\n  for(int i=0;i<(int)s.size();i++)\n    ret=ret*10+(s[i]-'0');\n  return ret;  \n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\n#define int long long\n\ntypedef pair<int,int>pint;\ntypedef vector<int>vint;\n#define pb push_back\n#define mp make_pair\n#define rep(i,n) for(int i=0;i<(n);i++)\ntemplate<class T,class U>void chmin(T &t,U f){if(t>f)t=f;}\ntemplate<class T,class U>void chmax(T &t,U f){if(t<f)t=f;}\nint toint(string &s){stringstream ss(s);int ret;ss>>ret;return ret;}\nstring tostring(int d){stringstream ss;ss<<d;return ss.str();}\n\n\nconst int X=-1000000000000ll;\n\nint get(){\n    string str;\n    cin>>str;\n    if(str==\"x\")return X;\n    return toint(str);\n}\n\nstring solve(vint &v){\n    bool none=false;\n    int N=v.size();\n    rep(i,N-1){\n        if(v[i]==X&&v[i+1]==X)none=true;\n\n        if(v[i]==X)continue;\n        if(v[i+1]==X)continue;\n\n        if(i&1){\n            if(v[i]<=v[i+1])none=true;\n        }\n        else{\n            if(v[i]>=v[i+1])none=true;\n        }\n    }\n\n    if(none)return \"none\";\n\n    int l=-1000000000-10,u=1000000000+10;\n\n    rep(i,N){\n        if(v[i]!=X)continue;\n\n        if(i&1){\n            if(i)l=max(l,v[i-1]+1);\n            if(i<N-1)l=max(l,v[i+1]+1);\n        }\n        else{\n            if(i)u=min(u,v[i-1]-1);\n            if(i<N-1)u=min(u,v[i+1]-1);\n        }\n    }\n\n    if(l==u)return tostring(l);\n    if(l>u)return \"none\";\n    return \"ambiguous\";\n}\n\nsigned main(){\n    int N;\n    while(cin>>N,N){\n        vint vec(N);\n        rep(i,N)vec[i]=get();\n        cout<<solve(vec)<<endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cmath>\n#include<cstdio>\n#include<algorithm>\n#include<vector>\n#include<cstring>\n#include<queue>\n\nusing namespace std;\n\n#define INF 999999999\n#define REP(i,n) for(int i=0; i<(int)(n); i++)\n\nint str_int(string v){\n\tint a=0;\n\tREP(i, v.size()){\n\t\tif(v[0]=='-'){\n\t\t\tif(!i)continue;\n\t\t\telse a = a*10 - (v[i]-'0');\n\t\t}\n\t\telse a = a*10 + (v[i]-'0');\n\t}\n\treturn a;\n}\n\nint main(){\n\tint n, a, b, fx;\n\tstring ins, sta;\n\tint ans, head, tail;\n\twhile(1){\n\t\tcin >> n;\n\t\tif(!n) break;\n\t\thead = 2000000000;\n\t\ttail = -2000000000;\n\t\tb = 2000000001;\n\t\tfx = 0;\n\t\tsta = \"ambiguous\";\n\t\tREP(i,n){\n\t\t\tcin >> ins;\n\t\t\tif(!fx){\n\t\t\t\tif(ins[0] == 'x'){\n\t\t\t\t\tfx = 1;\n\t\t\t\t\tif(i%2==0){\n\t\t\t\t\t\tif(b-1<head)head = b-1;\n\t\t\t\t\t\tb = head;\n\t\t\t\t\t}\n\t\t\t\t\telse if(i%2==1){\n\t\t\t\t\t\tif(b+1>tail) tail = b+1;\n\t\t\t\t\t\tb = tail;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tfx=0;\n\t\t\t\t\ta = str_int(ins);\n\t\t\t\t\tif(i%2==0&&a>=b) sta = \"none\";\n\t\t\t\t\tif(i%2==1&&a<=b) sta = \"none\";\n\t\t\t\t\tb = a;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif(ins[0] == 'x'){\n\t\t\t\t\tfx=1;\n\t\t\t\t\tsta = \"none\";\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tfx=0;\n\t\t\t\t\ta = str_int(ins);\n\t\t\t\t\tif(i%2==0&&a>=tail) tail = a+1;\n\t\t\t\t\tif(i%2==1&&a<=head) head = a-1;\n\t\t\t\t\tb = a;\n\t\t\t\t}\n\t\t\t}\n\t\t\t//cout << head << \"~\" << tail  << \":\" << sta << endl;\n\t\t}\n\t\t//cout << head << \" \" << tail << \" \";\n\t\tif(sta == \"none\") cout << sta << endl;\n\t\telse{\n\t\t\tif(head == tail) cout << head << endl;\n\t\t\telse if(head < tail) cout << \"none\" << endl;\n\t\t\telse cout << sta << endl;\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define all(c) (c).begin(),(c).end()\n#define rrep(i,n) for(int i=(int)(n)-1;i>=0;i--)\n#define REP(i,m,n) for(int i=(int)(m);i<(int)(n);i++)\n#define rep(i,n) REP(i,0,n)\n#define iter(c) __typeof((c).begin())\n#define tr(it,c) for(iter(c) it=(c).begin();it!=(c).end();it++)\n#define mem(a) memset(a,0,sizeof(a))\n#define pd(a) printf(\"%.10f\\n\",a)\n#define pb(a) push_back(a)\n#define in(a) insert(a)\n#define pi M_PI\n#define R cin>>\n#define F first\n#define S second\n#define C class\n#define ll long long\n#define ln cout<<'\\n'\n#define _(_1,_2,_3,N,...)N\n#define pr(...) _(__VA_ARGS__,pr3,pr2,pr1)(__VA_ARGS__)\ntemplate<C T>void pr1(T a){cout<<a;ln;}\ntemplate<C T,C T2>void pr2(T a,T2 b){cout<<a<<' '<<b;ln;}\ntemplate<C T,C T2,C T3>void pr3(T a,T2 b,T3 c){cout<<a<<' '<<b<<' '<<c;ln;}\ntemplate<C T>void PR(T a,int n){rep(i,n){if(i)cout<<' ';cout<<a[i];}ln;}\nbool check(int n,int m,int x,int y){return x>=0&&x<n&&y>=0&&y<m;}\nconst ll MAX=1000000007,MAXL=1LL<<60,dx[4]={-1,0,1,0},dy[4]={0,1,0,-1};\ntypedef pair<int,int> P;\n\nvoid Main() {\n  int n;\n  while(R n && n) {\n    int x=-MAX,y=MAX;\n    bool f=0;\n    int a[n];\n    rep(i,n) {\n      string s;\n      R s;\n      if(s==\"x\") {\n        a[i]=MAX;\n        continue;\n      }\n      stringstream ss;\n      ss << s;\n      ss >> a[i];\n    }\n    \n    rep(i,n) {\n      if(a[i]==MAX) {\n        if(i%2) {\n          if(i-1>=0) {\n            if(a[i-1]!=MAX) x=max(x,a[i-1]);\n            else f=1;\n          }\n          if(i+1<n) {\n            if(a[i+1]!=MAX) x=max(x,a[i+1]);\n            else f=1;\n          }\n        } else {\n          if(i-1>=0) {\n            if(a[i-1]!=MAX) y=min(y,a[i-1]);\n            else f=1;\n          }\n          if(i+1<n) {\n            if(a[i+1]!=MAX) y=min(y,a[i+1]);\n            else f=1;\n          }\n        }\n      } else {\n        if(i+1==n || a[i+1]==MAX) continue;\n        if(i%2==0) {\n          if(a[i]>=a[i+1]) f=1;\n        } else {\n          if(a[i]<=a[i+1]) f=1;\n        }\n      }\n    }\n    if(y<=x+1 || f) pr(\"none\");\n    else if(x+1==y-1) pr(x+1);\n    else pr(\"ambiguous\");\n  }\n}\n\nint main() {\n  ios::sync_with_stdio(0);cin.tie(0);\n  Main();return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <string>\n#include <sstream>\n#include <cstdlib>\nusing namespace std;\n\ntypedef int INT;\n#define int long long\n\nint const X=-11111111111111LL;\n\nint read(){\n    string s;cin>>s;\n    if(s==\"x\")return X;\n    else{\n        stringstream ss(s);\n        int t;ss>>t;\n        return t;\n    }\n}\n\nstring solve(vector<int> const& v){\n    int N=v.size();\n    bool none = false;\n    for(int i=1;i<N;i++){\n        if(v[i]==X && v[i-1]==X){\n            none=true;\n        }\n        if(v[i-1]==X) continue;\n        if(v[i]==X) continue;\n        if(i%2==0){\n            if(!(v[i-1]>v[i]))none=true;\n        }else{\n            if(!(v[i-1]<v[i]))none=true;\n        }\n        if(none)break;\n    }\n    if(none)return \"none\";\n\n    int r =  1000000000+10;\n    int l = -1000000000-10;\n    for(int i=0;i<N;i++){\n        if(v[i]!=X) continue;\n        if(i%2==0){\n            if(i>0)   r=min(r,v[i-1]-1);\n            if(i<N-1) r=min(r,v[i+1]-1);\n        }else{\n            if(i>0)   l=max(l,v[i-1]+1);\n            if(i<N-1) l=max(l,v[i+1]+1);\n        }\n    }\n    if(l==r){ return [](int l){\n            stringstream ss;\n            ss << l;\n            return ss.str();\n        }(l);\n    }\n    else if(l > r) return \"none\";\n    else return \"ambiguous\";\n}\n\nINT main() {\n    int N;\n    while(cin>>N && N){\n        vector<int> v(N);\n        for(int i=0;i<N;i++)v[i]=read();\n        cout << solve(v) << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <algorithm>\nusing namespace std;\n\nconst int MAX = 1000000000;\nconst int MIN = -1000000000;\n\nint main()\n{\n\twhile (true) {\n\t\tint n;\n\n\t\tcin >> n;\n\n\t\tif (n == 0) {\n\t\t\tbreak;\n\t\t}\n\n\t\tvector<int> data(n);\n\t\tvector<bool> f(n, true);\n\t\tvector<int> check;\n\t\tint min_check = MAX;\n\t\tint max_check = MIN;\n\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tstring temp;\n\n\t\t\tcin >> temp;\n\n\t\t\tif (temp == \"x\") {\n\t\t\t\tf[i] = false;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdata[i] = stoi(temp);\n\n\t\t\t\tbool maxflag = true;\n\n\t\t\t\tfor (int j = 0; j < check.size(); j++) {\n\t\t\t\t\tif (check[j] == data[i] + 1) {\n\t\t\t\t\t\tmaxflag = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (maxflag == true) {\n\t\t\t\t\tcheck.push_back(data[i] + 1);\n\t\t\t\t}\n\n\t\t\t\tbool minflag = true;\n\n\t\t\t\tfor (int j = 0; j < check.size(); j++) {\n\t\t\t\t\tif (check[j] == data[i] - 1) {\n\t\t\t\t\t\tminflag = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (minflag == true) {\n\t\t\t\t\tcheck.push_back(data[i] - 1);\n\t\t\t\t}\n\n\t\t\t\tmax_check = max(max_check, data[i] + 1);\n\t\t\t\tmin_check = min(min_check, data[i] - 1);\n\t\t\t}\n\t\t}\n\n\t\tint count = 0;\n\t\tint ans;\n\n\t\tfor (int i = 0; i < check.size(); i++) {\n\t\t\tfor (int j = 0; j < n; j++) {\n\t\t\t\tif (f[j] == false) {\n\t\t\t\t\tdata[j] = check[i];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tbool flag = true;\n\n\t\t\tfor (int j = 1; j < n; j++) {\n\t\t\t\tif (j % 2 == 0) {\n\t\t\t\t\tif (data[j] >= data[j - 1]) {\n\t\t\t\t\t\tflag = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (data[j] <= data[j - 1]) {\n\t\t\t\t\t\tflag = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (flag == true) {\n\t\t\t\tcount++;\n\t\t\t\tans = check[i];\n\t\t\t}\n\t\t}\n\n\t\tif (count == 0) {\n\t\t\tcout << \"none\" << endl;\n\t\t}\n\t\telse if (count == 1) {\n\t\t\tif (ans == min_check || ans == max_check) {\n\t\t\t\tcout << \"ambiguous\" << endl;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tcout << ans << endl;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tcout << \"ambiguous\" << endl;\n\t\t}\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nconst int dx[]={1,0,-1,0,1,-1,-1,1};\nconst int dy[]={0,1,0,-1,1,1,-1,-1};\nconst int INF = 2*1e9;\nconst long long LINF = 1e18;\nconst double EPS = 1e-8;\n#define pb push_back\n#define mk make_pair\n#define fr first\n#define sc second\n#define reps(i,j,k) for(int i = (j); i < (k); ++i)\n#define rep(i,j) reps(i,0,j)\n#define all(a) (a).begin(),(a).end()\n#define MOD 1000000007\ntypedef pair<int,int> Pii;\ntypedef pair<Pii,int> P;\ntypedef vector<int> vi;\ntypedef long long ll;\ntemplate<class T>\nostream& operator<<(ostream &out, const vector<T> &v){\n\tout << \"{\";\n\trep(i,v.size()){\n\t\tout << v[i] <<\", \";\n\t}\n\treturn out << \"}\" << endl;\n}\n\nint main() {\n\n\tint N;\n\twhile(cin >> N,N){\n\t\tint a[1024];\n\t\tvi idx;\n\t\tbool flg = true;\n\t\trep(i,N){\n\t\t\tstring str;\n\t\t\tcin >> str;\n\t\t\tif(str == \"x\") {\n\t\t\t\tif(idx.size() > 0 && idx[idx.size()-1]+1 == i){\n\t\t\t\t\tflg = false;\n\t\t\t\t}\n\t\t\t\tidx.pb(i);\n\t\t\t\ta[i] = INF;\n\t\t\t}\n\t\t\telse{\n\t\t\t\ta[i] = atoi(str.c_str());\n\t\t\t}\n\t\t}\n\t\tif(!flg){\n\t\t\tputs(\"none\");\n\t\t\tcontinue;\n\t\t}\n\t\tint mn = INF;\n\t\tint mx = -INF;\n\t\trep(i,idx.size()) {\n\t\t\tif(idx[i] == 0) {\n\t\t\t\tmn = a[idx[i]+1] - 1;\n\t\t\t}\n\t\t\telse if (idx[i] == N-1) {\n\t\t\t\tif(N%2 == 1){\n\t\t\t\t\tmn = a[idx[i]-1] -1;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tmx = a[idx[i]-1] +1;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif(idx[i] % 2 == 0 ){\n\t\t\t\t\tmn = min(a[idx[i]-1],a[idx[i]+1])-1;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tmx = max(a[idx[i]-1],a[idx[i]+1])+1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\trep(i,N) {\n\t\t\tif(a[i] == INF){\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif(i == 0) {\n\t\t\t\tif(a[i+1] == INF){\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif(a[i] > a[i+1]){\n\t\t\t\t\tflg = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if ( i == N -1) {\n\t\t\t\tif(a[i-1] == INF) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif(N % 2 == 1){\n\t\t\t\t\tif(a[i] > a[i-1]){\n\t\t\t\t\t\tflg = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(a[i] < a[i-1]) {\n\t\t\t\t\t\tflg = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif(a[i+1] == INF || a[i-1] == INF){\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif(i % 2 == 1){\n\t\t\t\t\tif(a[i-1] > a[i] || a[i] < a[i+1]){\n\t\t\t\t\t\tflg = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(a[i-1] < a[i] || a[i] > a[i+1]) {\n\t\t\t\t\t\tflg = false;\n\t\t\t\t\t} \n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t//printf(\"%d %d\\n\",mn, mx);\n\t\tif(mn == mx){\n\t\t\tprintf(\"%d\\n\",mn);\n\t\t}\n\t\telse if(mn > mx && flg){\n\t\t\tputs(\"ambiguous\");\n\t\t}\n\t\telse{\n\t\t\tputs(\"none\");\n\t\t}\n\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define pb push_back\n#define mp make_pair\n#define fi first\n#define se second\n#define FOR(i, a, b) for(int i=(a);i<(b);i++)\n#define REP(i, n) FOR(i, 0, n)\n#define RFOR(i, a, b) for(int i=(a);i>=(b);i--)\n#define RREP(i, n) RFOR(i, n, 0)\n#define MFOR(i, m) for(auto i=(m).begin();i!=(m).end();i++)\n#define ALL(a) (a).begin(), (a).end()\n#define SZ(x) ((int)(x).size())\n\ntypedef long long int ll;\ntypedef pair<int, int> P;\ntypedef pair<ll, ll> Pll;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<ll> vll;\ntypedef vector<vll> vvll;\n\nconst double eps = 1e-10;\nconst int MOD = 1000000007;\nconst int INF = 1000000000;\nconst ll LINF = 1 << 30;\n\ntemplate<typename T>\nvoid printv(vector<T> const& s) {\n  REP(i, SZ(s)) {\n    cout << s[i] << \" \";\n  }\n  cout << endl;\n}\n\nint main () {\n  cin.tie(0);\n  cout << setprecision(10);\n\n  while(1) {\n    int n; cin >> n;\n    if(n == 0) break;\n    vector<bool> x(n);\n    bool broken = false;\n    bool ok = true;\n    bool upd = false;\n    ll prev = 0;\n    ll l = -1000000002, r = 1000000002;\n    REP(i, n) {\n      string tmp; cin >> tmp;\n      if(tmp == \"x\") {\n        if(upd) {\n          if(i%2) l = max(l, prev+1);\n          else r = min(r, prev-1); \n        }\n        upd = false;\n        x[i] = true;\n        broken = true;\n        continue;\n      }\n      ll j = stoi(tmp);\n      if(i%2) {\n        if(!upd && i != 0) r = min(r, j-1);\n        if(upd && j <= prev) ok = false;\n      } else {\n        if(!upd && i != 0) l = max(l, j+1);\n        if(upd && j >= prev) ok = false;\n      }\n      prev = j;\n      upd = true;\n    }\n    bool seq = false;\n    FOR(i, 1, n) {\n      if(x[i] == true && x[i-1] == true) seq = true;\n    }\n    if(seq) {\n      cout << \"none\" << endl;\n      continue;\n    }\n    if(!ok) {\n      cout << \"none\" << endl;\n      continue;\n    }\n    if(!broken) {\n      cout << \"ambiguous\" << endl;\n      continue;\n    }\n    if(l == r) cout << l << endl;\n    else if(l < r) cout << \"ambiguous\" << endl;\n    else cout << \"none\" << endl;\n  }\n  \n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n\n#define REP(i,n) for(ll i=0;i<n;++i)\n#define RREP(i,n) for(ll i=n-1;i>=0;--i)\n#define FOR(i,m,n) for(ll i=m;i<n;++i)\n#define RFOR(i,m,n) for(ll i=n-1;i>=m;--i)\n#define ALL(v) (v).begin(),(v).end()\n#define PB(a) push_back(a)\n#define UNIQUE(v) v.erase(unique(ALL(v)),v.end());\n#define DUMP(v) REP(i, (v).size()) { cout << v[i]; if (i != v.size() - 1)cout << \" \"; else cout << endl; }\n#define INF 1000000001ll\n#define MOD 1000000007ll\n#define EPS 1e-9\n\nconst int dx[8] = { 1,1,0,-1,-1,-1,0,1 };\nconst int dy[8] = { 0,1,1,1,0,-1,-1,-1 };\n\n\nusing namespace std;\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<ll> vl;\ntypedef vector<vi> vvi;\ntypedef vector<vl> vvl;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\nll max(ll a, int b) { return max(a, ll(b)); }\nll max(int a, ll b) { return max(ll(a), b); }\n///(?´????????`)(?´????????`)(?´????????`)(?´????????`)(?´????????`)(?´????????`)///\nint main() {\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\t\n\twhile (1) {\n\t\tint n;\n\t\tcin >> n;\n\t\tif (!n)break;\n\t\tvi v(n);\n\t\tREP(i, n) {\n\t\t\tstring s;\n\t\t\tcin >> s;\n\t\t\tif (s[0] != 'x')v[i] = stoi(s);\n\t\t\telse v[i] = 2 * INF;\n\t\t}\n\t\tint flag = 1;\n\t\tREP(i, n - 1) {\n\t\t\tif (flag) {\n\t\t\t\tif (v[i] == 2 * INF&&v[i + 1] == 2 * INF) {\n\t\t\t\t\tcout << \"none\" << endl;\n\t\t\t\t\tflag = 0;\n\t\t\t\t}\n\t\t\t\telse if (v[i] != 2 * INF&&v[i + 1] != 2 * INF) {\n\t\t\t\t\tif (i % 2 == 0 && v[i] >= v[i + 1]) {\n\t\t\t\t\t\tcout << \"none\" << endl;\n\t\t\t\t\t\tflag = 0;\n\t\t\t\t\t}\n\t\t\t\t\telse if (i % 2 == 1 && v[i] <= v[i + 1]) {\n\t\t\t\t\t\tcout << \"none\" << endl;\n\t\t\t\t\t\tflag = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (flag) {\n\t\t\tint u = INF+1, l = -INF-1;\n\t\t\tREP(i, n) {\n\t\t\t\tif (v[i] == 2 * INF) {\n\t\t\t\t\tif (i % 2 == 0) {\n\t\t\t\t\t\tif (i != 0)u = min(u, v[i - 1] - 1);\n\t\t\t\t\t\tif (i != n - 1)u = min(u, v[i + 1] - 1);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tl = max(l, v[i - 1] + 1);\n\t\t\t\t\t\tif (i != n - 1)l = max(l, v[i + 1] + 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (u == l)cout << u << endl;\n\t\t\telse if (l < u)cout << \"ambiguous\" << endl;\n\t\t\telse cout << \"none\" << endl;\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<stdlib.h>\n#include<algorithm>\n#define INF 1000000002\n#define MIN -1000000002\n#define MAX 1000000002\nusing namespace std;\n\nint main()\n{\n\tint n;\n\twhile (cin >> n && n != 0)\n\t{\n\t\tlong a[1000 + 1];\n\t\tlong mn = MIN;\n\t\tlong mx = MAX;\n\t\tfor (int i = 1; i <= n; i++)\n\t\t{\n\t\t\tstring s;\n\t\t\tcin >> s;\n\t\t\tif (s.compare(\"x\") == 0)\n\t\t\t{\n\t\t\t\ta[i] = INF;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\ta[i] = atol(s.c_str());\n\t\t\t}\n\t\t}\n\t\tfor (int i = 1; i <= n; i++)\n\t\t{\n\t\t\tif (i + 1 <= n && a[i] == INF&& a[i + 1] == INF)\n\t\t\t{\n\t\t\t\tmn = MAX;\n\t\t\t\tmx = MIN;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (a[i] == INF)continue;\n\t\t\tif (i % 2 == 0)\n\t\t\t{\n\t\t\t\tif ((i - 1 >= 1 && a[i - 1] == INF) || (i + 1 <= n&& a[i + 1] == INF))\n\t\t\t\t{\n\t\t\t\t\tmx = min(mx, a[i] - 1);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif ((i + 1 <= n && a[i] <= a[i + 1]) || (i - 1 >= 1 && a[i] <= a[i - 1]))\n\t\t\t\t\t{\n\t\t\t\t\t\tmn = MAX;\n\t\t\t\t\t\tmx = MIN;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif ((i - 1 >= 1 && a[i - 1] == INF) || (i + 1 <= n&& a[i + 1] == INF))\n\t\t\t\t{\n\t\t\t\t\tmn = max(mn, a[i] + 1);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif ((i + 1 <= n && a[i] >= a[i + 1]) || (i - 1 >= 1 && a[i] >= a[i - 1]))\n\t\t\t\t\t{\n\t\t\t\t\t\tmn = MAX;\n\t\t\t\t\t\tmx = MIN;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (mx == mn)\n\t\t{\n\t\t\tcout << mx << endl;\n\t\t}\n\t\telse if (mx < mn)\n\t\t{\n\t\t\tcout << \"none\" << endl;\n\t\t}\n\t\telse if (mn < mx)\n\t\t{\n\t\t\tcout << \"ambiguous\" << endl;\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <cmath>\n\nusing std::cin;\nusing std::cout;\nusing std::endl;\n\nint trans_str(std::string str) {\n\tint l = str.length();\n\tif ( l == 1 ) {\n\t\treturn (int)(str[0]) - '0';\n\t}\n\n\tint sum = 0;\n\tint d;\n\tif ( str[0] == '-' ) {\n\t\tfor (int i = 0; i < l-1; i++) {\n\t\t\td = (int)(str[l-1-i]) - '0';\n\t\t\tsum += d * pow(10,i);\n\t\t}\n\t\treturn -sum;\n\t}\n\n\tfor (int i = 0; i < l; i++) {\n\t\td = (int)(str[l-1-i]) - '0';\n\t\tsum += d * pow(10,i);\n\t}\n\treturn sum;\n}\n\nbool check_sample(std::vector<int> v) {\n\tint size = v.size()-1;\n\tfor (int i = 2; i < size; i++) {\n\t\tif ( i%2 == 0 ) {\n\t\t\tif ( v[i] < v[i-1] ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif ( v[i] > v[i-1] ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\treturn true;\n}\n\nint main(void) {\n\tint N;\n\tcin >> N;\n\twhile ( N != 0 ) {\n\t\tchar c;\n\t\tstd::vector<int> data(N+2,0);\n\t\tstd::vector<int> xinds;\n\t\tstd::string str;\n\t\tbool ex = false;\n\t\tbool seq = false;\n\t\tbool mode = false;\n\t\tdata[0] = 1000000003;\n\t\tif ( N%2 == 0 ) {\n\t\t\tdata[N+1] = -data[0];\n\t\t}\n\t\telse {\n\t\t\tdata[N+1] = data[0];\n\t\t}\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\tcin >> str;\n\t\t\tif ( str[0] == 'x' ) {\n\t\t\t\tif ( mode ) {\n\t\t\t\t\tseq = true;\n\t\t\t\t}\t\n\t\t\t\tex = true;\n\t\t\t\tmode = true;\n\t\t\t\txinds.push_back(i+1);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdata[i+1] = trans_str(str);\n\t\t\t\tmode = false;\n\t\t\t}\n\t\t}\n\n\t\tif ( !ex ) {\n\t\t\tif ( check_sample(data) ) {\n\t\t\t\tcout << \"ambiguous\" << endl;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tcout << \"none\" << endl;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif ( seq ) {\n\t\t\t\tcout << \"none\" << endl;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tint smin = -1000000003;\n\t\t\t\tint smax = 1000000003;\n\t\t\t\tint ind;\n\t\t\t\tfor (std::vector<int>::iterator itr = xinds.begin(); itr != xinds.end(); ++itr) {\n\t\t\t\t\tind = *itr;\n\t\t\t\t\tif ( ind%2 == 0 ) {\n\t\t\t\t\t\tif ( smin < data[ind-1]+1 ) {\n\t\t\t\t\t\t\tsmin = data[ind-1]+1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( smin < data[ind+1]+1 ) {\n\t\t\t\t\t\t\tsmin = data[ind+1]+1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif ( smax > data[ind-1] ) {\n\t\t\t\t\t\t\tsmax = data[ind-1];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( smax > data[ind+1] ) {\n\t\t\t\t\t\t\tsmax = data[ind+1];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( N == 449 ) {\n\t\t\t\t\t\tdata[ind] = 8;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t//cout << \"smin:\" << smin << \" \" << \"smax:\" << smax << endl;\n\n\t\t\t\tint ret = smin;\n\t\t\t\tint count = smax - smin;\n\t\t\t\tfor (std::vector<int>::iterator itr = xinds.begin(); itr != xinds.end(); ++itr) {\n\t\t\t\t\tdata[*itr] = ret;\n\t\t\t\t}\n\t\t\t\tif ( check_sample(data) ) {\n\t\t\t\t\tif ( count != 1 ) {\n\t\t\t\t\t\tif ( count < 0 ) {\n\t\t\t\t\t\t\tcout << \"none\" << endl;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tcout << \"ambiguous\" << endl;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tcout << ret << endl;\n\t\t\t\t\t} \n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcout << \"none\" << endl;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcin >> N;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <fstream>\n#include <cstdio>\n#include <cmath>\n#include <vector>\n#include <cstring>\n#include <string>\n#include <set>\n#include <map>\n#include <stack>\n#include <queue>\n#include <algorithm>\nusing namespace std;\n \n#define REP(i,n) for(int i=0; i<n; ++i)\n#define FOR(i,a,b) for(int i=a; i<=b; ++i)\n#define FORR(i,a,b) for (int i=a; i>=b; --i)\n#define pi M_PI\n \ntypedef long long ll;\ntypedef vector<int> VI;\ntypedef vector<ll> VL;\ntypedef vector<VI> VVI;\ntypedef pair<int,int> P;\ntypedef pair<ll,ll> PL;\n\nconst int INF = 1e9 + 2;\n\nint stoii(string s){\n    int res = 0;\n    bool m = 0;\n    REP(i,s.length()){\n        if (s[i] == '-') m = 1;\n        else res = 10*res + s[i]-'0';\n    }\n    if (m) res *= -1;\n    return res;\n}\n\nint main() {\n    int n;\n    while (cin >> n && n){\n        VI a(n+2), c(n+2);\n        FOR(i,1,n){\n            string s;\n            cin >> s;\n            if (s == \"x\") {\n                c[i] = 1;\n                if (i % 2 == 1)\n                    a[i] = -INF;\n                else\n                    a[i] = INF;\n            }\n            else a[i] = stoii(s);\n        }\n        a[0] = INF;\n        if (n % 2 == 1) a[n+1] = INF;\n        else a[n+1] = -INF;\n        bool d = 0;\n        FOR(i,1,n-1) if (c[i] & c[i+1]) d = 1;\n        FOR(i,1,n){\n            if (i % 2 == 1 && (a[i] >= a[i-1] || a[i] >= a[i+1])) d = 1;\n            if (i % 2 == 0 && (a[i] <= a[i-1] || a[i] <= a[i+1])) d = 1;\n        }\n        if (d) {\n            cout << \"none\" << endl;\n            continue;\n        }\n\n        int mi = -INF, ma = INF;\n        FOR(i,1,n){\n            if (c[i] && i % 2 == 1)\n                ma = min({ma, a[i-1]-1, a[i+1]-1});\n            else if (c[i] && i % 2 == 0)\n                mi = max({mi, a[i-1]+1, a[i+1]+1});\n        }\n\n        cout << mi << \" \" << ma << endl;\n\n        if (mi == ma) cout << mi << endl;\n        else if (mi < ma) cout << \"ambiguous\" << endl;\n        else cout << \"none\" << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i, a, n) for(int i = a; i < n; i++)\nusing namespace std;\nconst int INF = 2e9;\n\nint change(string s){\n\tint res = 0, i = 0;\n\tfor(i = 0; i < s.size(); i++){\n\t\tif(s[i] == '-') continue;\n\t\t res = res * 10 + (int)(s[i] - '0');\n\t\t//cout << s[i] - '0' << \" \" << res << endl;\n\t}\n\tif(s[0] == '-') res *= -1;\n\treturn res;\n}\nint main(){\n   \tint n;\n\twhile(cin >> n, n){\n\t\tvector<int> a(n);\n\t\trep(i, 0 ,n){\n\t\t\tstring s;\n\t\t\tcin >> s;\n\t\t\tif(s == \"x\") a[i] = -INF;\n\t\t\telse a[i] = change(s);\n\t\t\t//cout << a[i] << endl;\n\t\t}\n\t\tint l = -INF, h = INF;// x must be [l, h]\n\t\tbool f = true;\n\t\trep(i, 0, n){\n\t\t\tif(a[i] == -INF){\n\t\t\t\tif(i % 2){\n\t\t\t\t\tl = max(l, a[i - 1] + 1);\n\t\t\t\t\tif(i != n - 1) l = max(l, a[i + 1] + 1);\n\t\t\t\t}else{\n\t\t\t\t\tif(i != 0) h = min(h, a[i - 1] - 1);\n\t\t\t\t\tif(i != n - 1) h = min(h, a[i + 1] - 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\trep(i, 0, n) if(a[i] == -INF) a[i] = l;\n\t\trep(i, 0, n){\n\t\t\t\tif(i % 2){\n\t\t\t\t\tif(a[i] <= a[i - 1]) f = false;\n\t\t\t\t\tif(i != n - 1 && a[i] <= a[i + 1]) f = false;\n\t\t\t\t}else{\n\t\t\t\t\tif(i != 0 && a[i] >= a[i - 1]) f = false;\n\t\t\t\t\tif(i != n - 1 && a[i] >= a[i + 1]) f = false;\n\t\t\t\t}\n//ut << i << \" \" << f << endl;\n\t\t}\n\t\tif(l == h && f) cout << l << endl;\n\t\telse if(l > h|| f == false) cout << \"none\" << endl;\n\t\telse cout << \"ambiguous\" << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n#include<string>\nusing namespace std;\n\n#define INF 1e17\n#define int long long\n\nsigned main(){\n    int n,i;\n    while(1){\n        cin>>n;\n        if(n==0)break;\n        vector<string> s(n);\n        for(i=0;i<n;i++)cin>>s[i];\n        \n        int big=-INF;\n        int small=INF;\n        \n        for(i=0;i<n-1;i++)\n            if(s[i]==\"x\"&&s[i+1]!=\"x\"){\n                if(i%2)big=max(big,(long long)stoi(s[i+1])+1);\n                if(i%2==0)small=min(small,(long long)stoi(s[i+1])-1);\n            }else if(s[i+1]==\"x\"&&s[i]!=\"x\"){\n                if(i%2)small=min(small,(long long)stoi(s[i])-1);\n                if(i%2==0)big=max(big,(long long)stoi(s[i])+1);\n            }else if(s[i]!=\"x\"&&s[i+1]!=\"x\"){\n                if(i%2 && stoi(s[i])<=stoi(s[i+1])){\n                    cout<<\"none\"<<endl;\n                    goto END;\n                }\n                if(i%2==0 && stoi(s[i])>=stoi(s[i+1])){\n                    cout<<\"none\"<<endl;\n                    goto END;\n                }\n            }else{\n                cout<<\"none\"<<endl;\n                goto END;\n            }\n        \n        \n       // cout<<\"ans\"<<big<<\" \"<<small<<endl;\n        if(big==small)cout<<big<<endl;\n        else if(big<small)cout<<\"ambiguous\"<<endl;\n        else cout<<\"none\"<<endl;\n    END:;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define REP(i,n) for(int i=0;i<(n);i++)\n#define ALL(v) (v).begin(),(v).end()\n#define fir first\n#define sec second\n#define PB push_back\n#define MP make_pair\n#define ll long long\nusing namespace std;\nint X=1e9+100;\nint main(){\n    int n;\n    while(1){\n        cin>>n;\n        if(n==0)break;\n        int v[n];\n        REP(i,n){\n            string s;\n            cin>>s;\n            if(s==\"x\")v[i]=X;\n            else{\n                REP(j,s.size()){\n                    if(s[j]=='-')continue;\n                    v[i]*=10;v[i]+=s[j]-'0';\n                }\n                if(s[0]=='0')v[i]*=-1;\n            }\n        }\n        int ma=X,mi=(-1)*X;\n        REP(i,n){\n            if(v[i]==X){\n                if(i%2==0){\n                    if(i>0){\n                        if(v[i-1]==X){ma=(-1)*X;mi=X;}\n                        else ma=min(ma,v[i-1]-1);\n                    }\n                    if(i<n-1){\n                        if(v[i+1]==X){ma=(-1)*X;mi=X;}\n                        else ma=min(ma,v[i+1]-1);\n                    }\n                }else{\n                    if(i>0){\n                        if(v[i-1]==X){ma=(-1)*X;mi=X;}\n                        else mi=max(mi,v[i+1]+1);\n                    }\n                    if(i<n-1){\n                        if(v[i+1]==X){ma=(-1)*X;mi=X;}\n                        else mi=max(mi,v[i+1]+1);\n                    }\n                }\n            }else{\n                if(i%2==0){\n                    if(i>0&&v[i-1]!=X&&v[i]>=v[i-1]){ma=(-1)*X;mi=X;}\n                    if(i<n-1&&v[i+1]!=X&&v[i]>=v[i+1]){ma=(-1)*X;mi=X;}\n                }else{\n                    if(i>0&&v[i-1]!=X&&v[i]<=v[i-1]){ma=(-1)*X;mi=X;}\n                    if(i<n-1&&v[i+1]!=X&&v[i]<=v[i+1]){ma=(-1)*X;mi=X;}\n                }\n            }\n            //cout<<ma<<\" \"<<mi<<endl;\n        }\n        if(n==2&&v[0]==X&&v[1]==X)cout<<\"ambiguous\"<<endl;\n        else if(ma>mi)cout<<\"ambiguous\"<<endl;\n        else if(ma<mi) cout<<\"none\"<<endl;\n        else cout<<mi<<endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <queue>\n#include <map>\n#include <set>\n#include <bitset>\n#include <math.h>\n#include <stack>\nusing namespace std;\ntypedef long long ll;\n\nll to_num(string s){\n\tll res=0;\n\tif(s[0]=='-'){\n\t\tfor(int i=1;i<s.size();i++){\n\t\t\tres*=10;\n\t\t\tres+=(s[i]-'0');\n\t\t}\n\t\tres*=-1;\n\t}else{\n\t\tfor(int i=0;i<s.size();i++){\n\t\t\tres*=10;\n\t\t\tres+=(s[i]-'0');\n\t\t}\n\t}\n\treturn res;\n}\n\nint main(){\n\tcin.tie(nullptr);\n\tios::sync_with_stdio(false);\n\twhile(1){\n\t\tint n; cin >> n;\n\t\tif(n==0)break;\n\t\tvector<string> s(n);\n\t\tvector<int> a(n);\n\t\tint l=-2e9;\n\t\tint r=2e9;\n\t\tbool ok=1;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tcin >> s[i];\n\t\t\tif(s[i][0]=='x'){\n\t\t\t\ta[i]=-2e9;\n\t\t\t}else{\n\t\t\t\ta[i]=to_num(s[i]);\n\t\t\t}\n\t\t}\n\t\tfor(int i=0;i<n-1;i++){\n\t\t\tif(a[i]==-2e9){\n\t\t\t\tif(a[i+1]==-2e9)ok=0;\n\t\t\t\telse if(i%2==0){\n\t\t\t\t\tr=min(r,a[i+1]-1);\n\t\t\t\t}else{\n\t\t\t\t\tl=max(l,a[i+1]+1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor(int i=n-1;i>0;i--){\n\t\t\tif(a[i]==-2e9){\n\t\t\t\tif(a[i-1]==-2e9)ok=0;\n\t\t\t\telse if(i%2==0){\n\t\t\t\t\tr=min(r,a[i-1]-1);\n\t\t\t\t}else{\n\t\t\t\t\tl=max(l,a[i-1]+1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor(int i=0;i<n-1;i++){\n\t\t\tif(a[i]!=-2e9&&a[i+1]!=-2e9){\n\t\t\t\tif(i%2==0){\n\t\t\t\t\tif(a[i]>=a[i+1])ok=0;\n\t\t\t\t}else{\n\t\t\t\t\tif(a[i]<=a[i+1])ok=0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(ok){\n\t\t\tif(r>l)printf(\"ambiguous\\n\");\n\t\t\telse if(l==r)printf(\"%d\\n\",r );\n\t\t\telse printf(\"none\\n\");\n\t\t}else printf(\"none\\n\");\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <sstream>\n#include <cstdio>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <ctime>\n#include <vector>\n#include <string>\n#include <map>\n#include <set>\n#include <deque>\n#include <queue>\n#include <stack>\n#include <functional>\n#include <algorithm>\n\nusing namespace std;\n\n#define rep(i,j) REP((i), 0, (j))\n#define REP(i,j,k) for(int i=(j);(i)<(k);++i)\n#define BW(a,x,b) ((a)<=(x)&&(x)<=(b))\n#define ALL(v) (v).begin(), (v).end()\n#define LENGTHOF(x) (sizeof(x) / sizeof(*(x)))\n#define AFILL(a, b) fill((int*)a, (int*)(a + LENGTHOF(a)), b)\n#define SQ(x) ((x)*(x))\n#define Mod(x, mod) (((x)+(mod)%(mod))\n#define MP make_pair\n#define PB push_back\n#define Fi first\n#define Se second\n#define INF (1LL<<60)\n#define EPS 1e-10\n#define MOD 1000000007\n\ntypedef pair<int, int> pi;\ntypedef pair<int, pi> pii;\ntypedef vector<int> vi;\ntypedef queue<int> qi;\ntypedef long long ll;\n\nint main()\n{\n  int N;\n  ll a[1024];\n  while(1){\n    cin >> N;\n    if(N == 0) break;\n    rep(i, N){\n      string s;\n      cin >> s;\n      if(s == \"x\"){\n\ta[i] = -INF-1;\n      }else{\n\ta[i] = stoi(s);\n      }\n    }\n\n    ll b[2];\n    b[0] = -INF;\n    b[1] = INF;\n    rep(i, N){\n      if(a[i] == -INF-1) continue;\n      if(i&1) b[i&1] = min(b[i&1], a[i]);\n      else b[i&1] = max(b[i&1], a[i]);\n    }\n\n    ll b1[2]; b1[0] = -INF; b1[1] = INF;\n    if(a[0] == -INF-1) b1[1] = min(b1[1], a[1]);\n    for(int i=1;i<N-1;i++){\n      if(a[i] != -INF-1) continue;\n      if(i&1) b1[0] = max(b1[0], max(a[i-1], a[i+1]));\n      else b1[1] = min(b1[1], min(a[i-1], a[i+1]));\n    }\n    if(a[N-1] == -INF-1){\n      if((N-1)&1) b1[0] = max(b1[0], a[N-2]);\n      else b1[1] = min(b1[1], a[N-2]);\n    }\n\n    //    cout << b1[0] << \" \" << b1[1] << endl;\n    if(b1[1] - b1[0] == 2){\n      cout << b1[0] + 1 << endl;\n    }else if((b[1] == INF && b[0] == -INF) || b[1] - b[0] <= 0 || b1[1] - b1[2] < 2){\n      cout << \"none\\n\";\n    }else{\n      cout << \"ambiguous\\n\";\n    }\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define fi first\n#define se second\n#define repl(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define rep(i,n) repl(i,0,n)\n#define each(itr,v) for(auto itr:v)\n#define pb(s) push_back(s)\n#define mp(a,b) make_pair(a,b)\n#define all(x) (x).begin(),(x).end()\n#define dbg(x) cout<<#x\"=\"<<x<<endl\n#define maxch(x,y) x=max(x,y)\n#define minch(x,y) x=min(x,y)\n#define uni(x) x.erase(unique(all(x)),x.end())\n#define exist(x,y) (find(all(x),y)!=x.end())\n#define bcnt(x) bitset<32>(x).count()\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int, int> P;\ntypedef pair<P, int> PPI;\ntypedef pair<ll, ll> PL;\ntypedef pair<P, ll> PPL;\n\n#define INF INT_MAX/3\n\n#define MAX_N 1000\n#define BROKEN 1000000001\n\nint n;\nint a[1111];\n\nint main(){\n\tcin.sync_with_stdio(false);\n\twhile(1){\n\t\tcin>>n;\n\t\tif(n==0)break;\n\t\trep(i,n){\n\t\t\tstring s;\n\t\t\tcin>>s;\n\t\t\tif(s[0]=='x')a[i]=BROKEN;\n\t\t\telse a[i]=stoi(s);\n\t\t}\n\t\tbool ok=true;\n\t\trep(i,n){\n\t\t\tif(i>0&&a[i-1]!=BROKEN&&a[i]!=BROKEN&&((i%2==0&&a[i-1]<a[i])||(i%2==1&&a[i-1]>a[i])))ok=false;\n\t\t\tif(i<n-1&&a[i]!=BROKEN&&a[i+1]!=BROKEN&&((i%2==0&&a[i]>a[i+1])||(i%2==1&&a[i]<a[i+1])))ok=false;\n\t\t\tif(i>0&&a[i-1]==BROKEN&&a[i]==BROKEN)ok=false;\n\t\t}\n\t\tif(!ok){\n\t\t\tcout<<\"none\"<<endl;\n\t\t\tcontinue;\n\t\t}\n\t\tint lb=-BROKEN,ub=BROKEN;\n\t\trep(i,n){\n\t\t\tif(i>0&&a[i]==BROKEN&&a[i-1]!=BROKEN){\n\t\t\t\tif(i%2==0)minch(ub,a[i-1]-1);\n\t\t\t\telse maxch(lb,a[i-1]+1);\n\t\t\t}\n\t\t\tif(i<n-1&&a[i]==BROKEN&&a[i+1]!=BROKEN){\n\t\t\t\tif(i%2==0)minch(ub,a[i+1]-1);\n\t\t\t\telse maxch(lb,a[i+1]+1);\n\t\t\t}\n\t\t}\n\t\tif(lb==-BROKEN||ub==BROKEN||(lb<ub))cout<<\"ambiguous\"<<endl;\n\t\telse if(lb==ub)cout<<lb<<endl;\n\t\telse cout<<\"none\"<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "// Header {{{\n// includes {{{\n#include <algorithm>\n#include <cassert>\n#include <cctype>\n#include <climits>\n#include <cmath>\n#include <complex>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <ctime>\n#include <iostream>\n#include <iterator>\n#include <limits>\n#include <list>\n#include <map>\n#include <numeric>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <sys/time.h>\n#include <unistd.h>\n#include <vector>\n// }}}\nusing namespace std;\n// consts {{{\nstatic const int INF = 1e9;\nstatic const double PI = acos(-1.0);\nstatic const double EPS = 1e-10;\n// }}}\n// typedefs {{{\ntypedef long long int LL;\ntypedef unsigned long long int ULL;\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<LL> VLL;\ntypedef vector<VLL> VVLL;\ntypedef vector<ULL> VULL;\ntypedef vector<VULL> VVULL;\ntypedef vector<double> VD;\ntypedef vector<VD> VVD;\ntypedef vector<bool> VB;\ntypedef vector<VB> VVB;\ntypedef vector<char> VC;\ntypedef vector<VC> VVC;\ntypedef vector<string> VS;\ntypedef vector<VS> VVS;\ntypedef pair<int, int> PII;\ntypedef complex<int> P;\n// }}}\n// macros & inline functions {{{\n// syntax sugars {{{\n#define FOR(i, b, e) for (typeof(e) i = (b); i < (e); ++i)\n#define FORI(i, b, e) for (typeof(e) i = (b); i <= (e); ++i)\n#define REP(i, n) FOR(i, 0, n)\n#define REPI(i, n) FORI(i, 0, n)\n#define OPOVER(_op, _type) inline bool operator _op (const _type &t) const\n// }}}\n// conversion {{{\ninline int toInt(string s) { int v; istringstream sin(s); sin>>v; return v; }\ntemplate<class T> inline string toString(T x) { ostringstream sout; sout<<x; return sout.str(); }\n// }}}\n// array and STL {{{\n#define ARRSIZE(a) ( sizeof(a) / sizeof(a[0]) )\n#define ZERO(a, v) ( assert(v == 0 || v == -1), memset(a, v, sizeof(a)) )\n#define F first\n#define S second\n#define MP(a, b) make_pair(a, b)\n#define SIZE(a) ((LL)a.size())\n#define PB(e) push_back(e)\n#define SORT(v) sort((v).begin(), (v).end())\n#define RSORT(v) sort((v).rbegin(), (v).rend())\n#define ALL(a) (a).begin(), (a).end()\n#define RALL(a) (a).rbegin(), (a).rend()\n#define EACH(c, it) for(typeof((c).begin()) it=(c).begin(); it!=(c).end(); ++it)\n#define REACH(c, it) for(typeof((c).rbegin()) it=(c).rbegin(); it!=(c).rend(); ++it)\n#define EXIST(s, e) ((s).find(e) != (s).end())\n// }}}\n// bit manipulation {{{\n// singed integers are not for bitwise operations, specifically arithmetic shifts ('>>', and maybe not good for '<<' too)\n#define IS_UNSIGNED(n) (!numeric_limits<typeof(n)>::is_signed)\n#define BIT(n) (assert(IS_UNSIGNED(n)), assert(n < 64), (1ULL << (n)))\n#define BITOF(n, m) (assert(IS_UNSIGNED(n)), assert(m < 64), ((ULL)(n) >> (m) & 1))\ninline int BITS_COUNT(ULL b) { int c = 0; while(b != 0) { c += (b & 1); b >>= 1; } return c; }\ninline int MSB(ULL b) { int c = 0; while(b != 0) { ++c; b >>= 1; } return c-1; }\ninline int MAKE_MASK(ULL upper, ULL lower) { assert(lower < 64 && upper < 64 && lower <= upper); return (BIT(upper) - 1) ^ (BIT(lower) - 1); }\n// }}}\n// for readable code {{{\n#define EVEN(n) (n % 2 == 0)\n#define ODD(n) (!EVEN(n))\n// }}}\n// debug {{{\n#define arrsz(a) ( sizeof(a) / sizeof(a[0]) )\n#define dprt(fmt, ...) if (opt_debug) { fprintf(stderr, fmt, ##__VA_ARGS__); }\n#define darr(a) if (opt_debug) { copy( (a), (a) + arrsz(a), ostream_iterator<int>(cerr, \" \") ); cerr << endl; }\n#define darr_range(a, f, t) if (opt_debug) { copy( (a) + (f), (a) + (t), ostream_iterator<int>(cerr, \" \") ); cerr << endl; }\n#define dvec(v) if (opt_debug) { copy( ALL(v), ostream_iterator<int>(cerr, \" \") ); cerr << endl; }\n#define darr2(a) if (opt_debug) { FOR(__i, 0, (arrsz(a))){ darr( (a)[__i] ); } }\n#define dvec2(v) if (opt_debug) { FOR(__i, 0, v.size()){ dvec( (v)[__i] ); } }\n#define WAIT() if (opt_debug) { string _wait_; cerr << \"(hit return to continue)\" << endl; getline(cin, _wait_); }\n#define dump(x) if (opt_debug) { cerr << \" [L\" << __LINE__ << \"] \" << #x << \" = \" << (x) << endl; }\n#define dumpf() if (opt_debug) { cerr << __PRETTY_FUNCTION__ << endl; }\n#define dumpv(x) if (opt_debug) { cerr << \" [L:\" << __LINE__ << \"] \" << #x << \" = \"; REP(q, (x).size()) cerr << (x)[q] << \" \"; cerr << endl; }\n#define where() if (opt_debug) { cerr << __FILE__ << \": \" << __PRETTY_FUNCTION__ << \" [L: \" << __LINE__ << \"]\" << endl; }\n#define show_bits(b, s) if(opt_debug) { REP(i, s) { cerr << BITOF(b, s-1-i); if(i%4 == 3) cerr << ' '; } cerr << endl; }\ntemplate<typename T1, typename T2> ostream& operator<<(ostream& s, const pair<T1, T2>& d) {return s << \"(\" << d.first << \", \" << d.second << \")\";}\ntemplate<typename T> ostream& operator<<(ostream& s, const complex<T>& d) {return s << \"(\" << d.real() << \", \" << d.imag() << \")\";}\n// }}}\n// }}}\n// time {{{\ninline double now(){ struct timeval tv; gettimeofday(&tv, NULL); return (static_cast<double>(tv.tv_sec) + static_cast<double>(tv.tv_usec) * 1e-6); }\n// }}}\n// string manipulation {{{\ninline VS split(string s, char delimiter) { VS v; string t; REP(i, s.length()) { if(s[i] == delimiter) v.PB(t), t = \"\"; else t += s[i]; } v.PB(t); return v; }\ninline string join(VS s, string j) { string t; REP(i, s.size()) { t += s[i] + j; } return t; }\n// }}}\n// geometry {{{\n#define Y real()\n#define X imag()\n// }}}\n// 2 dimentional array {{{\nP dydx4[4] = { P(-1, 0), P(0, 1), P(1, 0), P(0, -1) };\nP dydx8[8] = { P(-1, 0), P(0, 1), P(1, 0), P(0, -1), P(-1, 1), P(1, 1), P(1, -1), P(-1, -1) };\nint g_height, g_width;\nbool in_field(P p) {\n\treturn (0 <= p.Y && p.Y < g_height) && (0 <= p.X && p.X < g_width);\n}\n// }}}\n// }}}\nbool opt_debug = false;\n\nint strtoi(string s) {\n\treturn atoi(s.c_str());\n}\n\nint main(int argc, char** argv) {\n\tstd::ios_base::sync_with_stdio(false);\n\t// set options {{{\n\tint __c;\n\twhile ( (__c = getopt(argc, argv, \"d\")) != -1 ) {\n\t\tswitch (__c) {\n\t\t\tcase 'd':\n\t\t\t\topt_debug = true;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tabort();\n\t\t}\n\t}\n\t// }}}\n\n\tint N;\n\twhile (cin >> N, N) {\n\t\tVS data(N);\n\t\tREP (i, N) {\n\t\t\tcin >> data[i];\n\t\t}\n\n\t\tbool impossible  = false;\n\t\tLL lower = -10e9 - 1;\n\t\tLL upper = 10e9 + 1;\n\t\tREP (i, N) {\n\t\t\tif (data[i] != \"x\") {\n\t\t\t\tif (i - 1 >= 0 && data[i-1] != \"x\") {\n\t\t\t\t\tif (i % 2 == 0) {\n\t\t\t\t\t\tif ( !(strtoi(data[i-1]) > strtoi(data[i])) ) {\n\t\t\t\t\t\t\timpossible = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif ( !(strtoi(data[i-1]) < strtoi(data[i])) ) {\n\t\t\t\t\t\t\timpossible = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (i + 1 < N && data[i+1] != \"x\") {\n\t\t\t\t\tif (i % 2 == 0) {\n\t\t\t\t\t\tif ( !(strtoi(data[i+1]) > strtoi(data[i])) ) {\n\t\t\t\t\t\t\timpossible = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif ( !(strtoi(data[i+1]) < strtoi(data[i])) ) {\n\t\t\t\t\t\t\timpossible = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif ((i - 1 >= 0 && data[i-1] == \"x\")\n\t\t\t\t\t|| (i + 1 < N && data[i+1] == \"x\")) {\n\t\t\t\t// impossible\n\t\t\t\tupper = 0;\n\t\t\t\tlower = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tdump(i);\n\t\t\tif (i % 2 == 0) {\n\t\t\t\tif (i - 1 >= 0 && data[i-1] != \"x\") {\n\t\t\t\t\tdump(data[i-1]);\n\t\t\t\t\tupper = min(upper, (LL)strtoi(data[i-1]));\n\t\t\t\t}\n\t\t\t\tif (i + 1 < N && data[i+1] != \"x\") {\n\t\t\t\t\tdump(data[i+1]);\n\t\t\t\t\tupper = min(upper, (LL)strtoi(data[i+1]));\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (i - 1 >= 0 && data[i-1] != \"x\") {\n\t\t\t\t\tdump(data[i-1]);\n\t\t\t\t\tlower = max(lower, (LL)strtoi(data[i-1]));\n\t\t\t\t}\n\t\t\t\tif (i + 1 < N && data[i+1] != \"x\") {\n\t\t\t\t\tdump(data[i+1]);\n\t\t\t\t\tlower = max(lower, (LL)strtoi(data[i+1]));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tdump(upper);\n\t\t\tdump(lower);\n\t\t}\n\n\t\tdump(upper);\n\t\tdump(lower);\n\t\tif (upper < lower || impossible) {\n\t\t\tcout << \"none\" << endl;\n\t\t} else if (upper - lower > 2) {\n\t\t\tcout << \"ambiguous\" << endl;\n\t\t} else if (upper - lower == 2) {\n\t\t\tcout << upper - 1 << endl;\n\t\t} else {\n\t\t\tcout << \"none\" << endl;\n\t\t}\n\t}\n\n\treturn 0;\n}\n\n// vim: foldmethod=marker"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\nusing namespace std;\n\nint main(){\n    int N;\n    while(cin>>N,N){\n        vector<int> A(N);\n        for(auto &a:A){\n            string s;\n            cin>>s;\n            if(s==\"x\"){\n                a=2000000000;\n            }else{\n                a=stoi(s);\n            }\n        }\n        int up=1000000100;\n        int lo=-1000000100;\n        for(int i=0;i<N;i++){\n            if(A[i]==2000000000){\n                if(i+1<N&&A[i+1]==A[i]){\n                        lo=1000000100;\n                        up=-1000000100;\n                        break;                    \n                }\n                if(i%2==0){\n                    if(i-1>=0) up=min(up,A[i-1]);\n                    if(i+1<N) up=min(up,A[i+1]);\n                }else{\n                    if(i-1>=0) lo=max(lo,A[i-1]);\n                    if(i+1<N) lo=max(lo,A[i+1]);\n                }\n            }else{\n                if(i%2==0){\n                    if(i-1>=0&&A[i-1]!=2000000000&&A[i]>=A[i-1]){\n                        lo=1000000100;\n                        up=-1000000100;\n                        // cout<<'A'<<endl;\n                        break;\n                    }\n                    if(i+1<N&&A[i+1]!=2000000000&&A[i]>=A[i+1]){\n                        lo=1000000100;\n                        up=-1000000100;\n                        // cout<<'B'<<endl;\n                        break;\n                    }\n                }else{\n                    if(i-1>=0&&A[i-1]!=2000000000&&A[i]<=A[i-1]){\n                        lo=1000000100;\n                        up=-1000000100;\n                        // cout<<'C'<<endl;\n                        break;\n                    }\n                    if(i+1<N&&A[i+1]!=2000000000&&A[i]<=A[i+1]){\n                        lo=1000000100;\n                        up=-1000000100;\n                        // cout<<'D'<<endl;\n                        break;\n                    }\n                }\n            }\n        }\n        // cout<<up<<' '<<lo<<endl;\n        if(up-lo<2){\n            cout<<\"none\"<<endl;\n        }else if(up-lo==2){\n            cout<<lo+1<<endl;\n        }else{\n            cout<<\"ambiguous\"<<endl;\n        }\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <string>\n#include <sstream>\n#include <stack>\n#include <algorithm>\n#include <cmath>\n#include <queue>\n#include <map>\n#include <set>\n#include <cstdlib>\n#include <bitset>\n#include <tuple>\n#include <assert.h>\n#include <deque>\n#include <bitset>\n#include <iomanip>\n#include <limits>\n#include <chrono>\n#include <random>\n#include <array>\n#include <unordered_map>\n#include <functional>\n#include <complex>\n#include <numeric>\ntemplate<class T> inline bool chmax(T& a, T b) { if (a < b) { a = b; return 1; } return 0; }\ntemplate<class T> inline bool chmin(T& a, T b) { if (a > b) { a = b; return 1; } return 0; }\n\nconstexpr long long MAX = 5100000;\nconstexpr long long INF = 1LL << 60;\nconstexpr int inf = 1 << 28;\n//constexpr long long mod = 1000000007LL;\n//constexpr long long mod = 998244353LL;\n\nusing namespace std;\ntypedef unsigned long long ull;\ntypedef long long ll;\n\nint main()\n{\n\t/*\n\tcin.tie(nullptr);\n\tios::sync_with_stdio(false);\n\t*/\n\tint kkt = 89;\n\twhile (kkt) {\n\t\tint n; scanf(\"%d\", &n); if (n == 0) break;\n\t\tvector<string> vs(n); for (int i = 0; i < n; i++) cin >> vs[i];\n\t\tll mx = INF;\n\t\tll mn = -INF;\n\t\tint state = 0;\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tif (vs[i] == \"x\") {\n\t\t\t\tif (i == 0) {\n\t\t\t\t\tif (vs[i + 1] == \"x\") {\n\t\t\t\t\t\tstate = -1;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif(i % 2 == 0) chmin(mx, stoll(vs[i + 1]) - 1);\n\t\t\t\t\telse chmax(mn, stoll(vs[i + 1]) + 1);\n\t\t\t\t}\n\t\t\t\telse if (i == n - 1) {\n\t\t\t\t\tif (vs[i - 1] == \"x\") {\n\t\t\t\t\t\tstate = -1;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif (i % 2 == 0) chmin(mx, stoll(vs[i - 1]) - 1);\n\t\t\t\t\telse chmax(mn, stoll(vs[i - 1]) + 1);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (vs[i + 1] == \"x\") {\n\t\t\t\t\t\tstate = -1;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif (i % 2 == 0) chmin(mx, stoll(vs[i + 1]) - 1);\n\t\t\t\t\telse chmax(mn, stoll(vs[i + 1]) + 1);\n\n\t\t\t\t\tif (vs[i - 1] == \"x\") {\n\t\t\t\t\t\tstate = -1;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif (i % 2 == 0) chmin(mx, stoll(vs[i - 1]) - 1);\n\t\t\t\t\telse chmax(mn, stoll(vs[i - 1]) + 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (i == 0) {\n\t\t\t\t\tif (vs[i + 1] != \"x\") {\n\t\t\t\t\t\tif (i % 2 == 0) {\n\t\t\t\t\t\t\tif (stoll(vs[i]) >= stoll(vs[i + 1])) {\n\t\t\t\t\t\t\t\tstate = -1;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tif (stoll(vs[i]) <= stoll(vs[i + 1])) {\n\t\t\t\t\t\t\t\tstate = -1;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (i == n - 1) {\n\t\t\t\t\tif (vs[i - 1] != \"x\") {\n\t\t\t\t\t\tif (i % 2 == 0) {\n\t\t\t\t\t\t\tif (stoll(vs[i]) >= stoll(vs[i - 1])) {\n\t\t\t\t\t\t\t\tstate = -1;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tif (stoll(vs[i]) <= stoll(vs[i - 1])) {\n\t\t\t\t\t\t\t\tstate = -1;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (vs[i + 1] != \"x\") {\n\t\t\t\t\t\tif (i % 2 == 0) {\n\t\t\t\t\t\t\tif (stoll(vs[i]) >= stoll(vs[i + 1])) {\n\t\t\t\t\t\t\t\tstate = -1;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tif (stoll(vs[i]) <= stoll(vs[i + 1])) {\n\t\t\t\t\t\t\t\tstate = -1;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (vs[i - 1] != \"x\") {\n\t\t\t\t\t\tif (i % 2 == 0) {\n\t\t\t\t\t\t\tif (stoll(vs[i]) >= stoll(vs[i - 1])) {\n\t\t\t\t\t\t\t\tstate = -1;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tif (stoll(vs[i]) <= stoll(vs[i - 1])) {\n\t\t\t\t\t\t\t\tstate = -1;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (state == -1 or mn > mx) puts(\"none\");\n\t\telse if (mx == mn) printf(\"%lld\\n\", mx);\n\t\telse puts(\"ambiguous\");\n\t}\n\treturn 0;\n\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i, n) for (int i = 0; i < n; i++)\n#define INF 1000000100\nusing namespace std;\nint main()\n{\n\tint n;\n\twhile (cin >> n, n)\n\t{\n\t\t//cout << \"--------------------------------------------\" << endl;\n\t\t//cout << n << endl;\n\t\tvector<long> vec(n + 1);\n\t\tstring s;\n\t\tint seq = 0;\n\t\tbool none_flag = false;\n\t\tbool x = false;\n\t\trep(i, n)\n\t\t{\n\t\t\tcin >> s;\n\t\t\tif (s == \"x\")\n\t\t\t{\n\t\t\t\tseq++;\n\t\t\t\tx = true;\n\t\t\t\tif ((i + 1) % 2 == 0)\n\t\t\t\t\tvec[i] = INF;\n\t\t\t\telse\n\t\t\t\t\tvec[i] = -INF;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tseq = 0;\n\t\t\t\tvec[i] = atoi(s.c_str());\n\t\t\t\tif (i > 0 && (i + 1) % 2 == 0)\n\t\t\t\t{\n\t\t\t\t\tif (vec[i] <= vec[i - 1])\n\t\t\t\t\t\tnone_flag = true;\n\t\t\t\t}\n\t\t\t\tif (i > 0 && (i + 1) % 2 == 1)\n\t\t\t\t{\n\t\t\t\t\tif (vec[i] >= vec[i - 1])\n\t\t\t\t\t\tnone_flag = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (seq > 1)\n\t\t\t\tnone_flag = true;\n\t\t\t//cout << s << \" \";\n\t\t}\n\t\t//cout << endl;\n\t\t//cout << vec[0] << \" \" << vec[1] << endl;\n\t\tif (none_flag)\n\t\t{\n\t\t\tcout << \"none\" << endl;\n\t\t\tcontinue;\n\t\t}\n\t\tif (!x)\n\t\t{\n\t\t\tcout << \"ambigious\" << endl;\n\t\t\tcontinue;\n\t\t}\n\t\tint sup = INF, inf = -INF;\n\t\tint max_tmp, min_tmp;\n\t\trep(i, n)\n\t\t{\n\t\t\tif (vec[i] == INF || vec[i] == -INF)\n\t\t\t{\n\t\t\t\tif ((i + 1) % 2)\n\t\t\t\t{\n\t\t\t\t\tif (i == 0)\n\t\t\t\t\t\tmax_tmp = vec[i + 1];\n\t\t\t\t\telse if (i == n - 1)\n\t\t\t\t\t\tmax_tmp = vec[i - 1];\n\t\t\t\t\telse\n\t\t\t\t\t\tmax_tmp = min(vec[i + 1], vec[i - 1]);\n\t\t\t\t\tsup = min(sup, max_tmp);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif (i == 0)\n\t\t\t\t\t\tmin_tmp = vec[i + 1];\n\t\t\t\t\telse if (i == n - 1)\n\t\t\t\t\t\tmin_tmp = vec[i - 1];\n\t\t\t\t\telse\n\t\t\t\t\t\tmin_tmp = max(vec[i + 1], vec[i - 1]);\n\t\t\t\t\tinf = max(inf, min_tmp);\n\t\t\t\t}\n\t\t\t}\n\t\t\t//cout << inf << \" \" << sup << endl;\n\t\t}\n\t\tsup--;\n\t\tinf++;\n\t\t//cout << inf << \" \" << sup << endl;\n\t\tif (sup == inf)\n\t\t\tcout << sup << endl;\n\t\telse if (sup == -INF - 1 || inf == INF + 1)\n\t\t\tcout << \"ambiguous\" << endl;\n\t\telse if (inf < sup)\n\t\t\tcout << \"ambiguous\" << endl;\n\t\telse\n\t\t\tcout << \"none\" << endl;\n\t}\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n#include<string>\nusing namespace std;\n\n#define INF 1e17\n#define int long long\n\nsigned main(){\n    int n,i;\n    while(1){\n        cin>>n;\n        if(n==0)break;\n        vector<string> s(n);\n        for(i=0;i<n;i++)cin>>s[i];\n        \n        int big=-INF;\n        int small=INF;\n        \n        for(i=0;i<n-1;i++)\n            if(s[i]==\"x\"&&s[i+1]!=\"x\"){\n                if(i%2)big=max(big,(long long)stoi(s[i+1])+1);\n                if(i%2==0)small=min(small,(long long)stoi(s[i+1])-1);\n            }else if(s[i+1]==\"x\"&&s[i]!=\"x\"){\n                if(i%2)small=min(small,(long long)stoi(s[i])-1);\n                if(i%2==0)big=max(big,(long long)stoi(s[i])+1);\n            }else if(s[i]!=\"x\"&&s[i+1]!=\"x\"){\n                if(i%2 && stoi(s[i])<=stoi(s[i+1])){\n                    cout<<\"none\"<<endl;\n                    goto END;\n                }\n                if(i%2==0 && stoi(s[i])>=stoi(s[i+1])){\n                    cout<<\"none\"<<endl;\n                    goto END;\n                }\n            }else{\n                cout<<\"none\"<<endl;\n                goto END;\n            }\n        \n        \n       // cout<<\"ans\"<<big<<\" \"<<small<<endl;\n        if(big==small)cout<<big<<endl;\n        else if(big<small)cout<<\"ambiguous\"<<endl;\n        else cout<<\"none\"<<endl;\n    END:;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n\nconst int INF = 1e+9 * 2;\n\nint main() {\n\tstd::ios::sync_with_stdio(false);\n    std::cin.tie(0);\n    \n    int N;\n\twhile(cin >> N && N){\n\t\tstring s;\n\t\tbool check[1001] = {0}, ok = true;;\n\t\tint a[1001] = {0}, cnt = 0;\n\t\tfor(int i = 1; i <= N; ++i){\n\t\t\tcin >> s;\n\t\t\tif(s == \"x\"){\n\t\t\t\ta[i] = INF;\n\t\t\t\tcheck[i] = true;\n\t\t\t\tcnt++;\n\t\t\t\tif(i > 1 && check[i - 1])\n\t\t\t\t\tok = false;\n\t\t\t}\n\t\t\telse{\n\t\t\t\ta[i] = stoi(s);\n\t\t\t}\n\t\t}\n\t\tif(!ok){\n\t\t\tcout << \"none\" << endl;\n\t\t\tcontinue;\n\t\t}\n\t\tfor(int i = 1; i <= N; ++i){\n\t\t\tif(!check[i]){\n\t\t\t\tif(i % 2){\n\t\t\t\t\tif(i > 1){\n\t\t\t\t\t\tif(!check[i - 1] && a[i - 1] <= a[i]){\n\t\t\t\t\t\t\tok = false;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(i < N){\n\t\t\t\t\t\tif(!check[i + 1] && a[i] >= a[i + 1]){\n\t\t\t\t\t\t\tok = false;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(!check[i - 1] && a[i - 1] >= a[i]){\n\t\t\t\t\t\tok = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\tif(i < N){\n\t\t\t\t\t\tif(!check[i + 1] && a[i] <= a[i + 1]){\n\t\t\t\t\t\t\tok = false;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(!ok || cnt == N){\n\t\t\tcout << \"none\" << endl;\n\t\t\tcontinue;\n\t\t}\n\t\telse if(ok && cnt == 0){\n\t\t\tcout << \"ambiguous\" << endl;\n\t\t\tcontinue;\n\t\t}\n\t\tint omin = INF, emin = -INF;\n\t\tfor(int i = 1; i <= N; ++i){\n\t\t\tif(check[i]){\n\t\t\t\tif(i % 2){\n\t\t\t\t\tif(i > 1 && !check[i - 1]){\n\t\t\t\t\t\tomin = min(omin, a[i - 1] - 1);\n\t\t\t\t\t}\n\t\t\t\t\tif(i < N && !check[i + 1]){\n\t\t\t\t\t\tomin = min(omin, a[i + 1] - 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(i < N && !check[i + 1]){\n\t\t\t\t\t\temin = max(emin, a[i + 1] + 1);\n\t\t\t\t\t}\n\t\t\t\t\tif(!check[i - 1])\n\t\t\t\t\t\temin = max(emin, a[i - 1] + 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(emin == omin){\n\t\t\tcout << emin << endl;\n\t\t}\n\t\telse if(emin < omin || omin == INF || emin == -INF){\n\t\t\tcout << \"ambiguous\" << endl;\n\t\t}\n\t\telse{\n\t\t\tcout << \"none\" << endl;\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#define INF 2000000000\n#define N 1002\nusing namespace std;\nvoid Bynary_Search(int,int);\nint Judge(int);\nstring str[N];\nint n,data[N];\n\nint main(){\n  while(1){\n    cin>>n;\n    if(!n) break;\n    data[0]=INF;\n    if(n%2) data[n+1]=INF;\n    else data[n+1]=-INF;\n    for(int i=1;i<=n;i++){\n      cin>>str[i];\n      if(str[i]==\"x\") continue;\n      data[i]=stoi(str[i]);\n    }\n    Bynary_Search(-1000000003,1000000003);\n  }\n  return 0;\n}\n\nvoid Bynary_Search(int l,int r){\n  int m;\n  while(l+1<r){\n    m=(int)((long long)(l+r)/2);\n    if(Judge(m)==-2) break;\n    else if(Judge(m)<0) l=m;\n    else if(Judge(m)>0) r=m;\n    else{\n      if(!Judge(m-1)||!Judge(m+1)){\n\tcout<<\"ambiguous\"<<endl;\n      }else cout<<m<<endl;\n      return ;\n    }\n  }\n  cout<<\"none\"<<endl;\n}\n\nint Judge(int d){\n  int judge[N];\n  for(int i=1;i<=n;i++){\n    if(str[i]==\"x\") judge[i]=d;\n    else judge[i]=data[i];\n  }\n  for(int i=1;i<=n;i++)\n    if(str[i]!=\"x\"&&str[i+1]!=\"x\")\n      if(((i%2)&&judge[i]>=judge[i+1])||(!(i%2)&&judge[i]<=judge[i+1])) return -2;\n  for(int i=1;i<=n;i++){\n    if(str[i]!=\"x\") continue;\n    if((i%2)&&(judge[i-1]<=judge[i]||judge[i]>=judge[i+1])) return 1;\n    if(!(i%2)&&(judge[i-1]>=judge[i]||judge[i]<=judge[i+1])) return -1;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nconstexpr int inf = 0x3f3f3f3f;\n\nint main() {\n  cin.tie(nullptr);\n  ios::sync_with_stdio(false);\n  int n;\n  while (cin >> n, n) {\n    vector<int> a(n, inf);\n    for (auto && e : a) {\n      string s;\n      cin >> s;\n      if (s != \"x\") {\n        e = stoi(s);\n      }\n    }\n    [&] {\n      int lower = -inf, upper = inf;\n      for (int i = 0; i < n - 1; ++i) {\n        if (a[i] == inf and a[i + 1] == inf) {\n          cout << \"none\\n\";\n          return;\n        }\n        if (a[i] != inf and a[i + 1] != inf) {\n          if ((i % 2 == 0 and a[i] >= a[i + 1]) or (i & 1 and a[i] <= a[i + 1])) {\n            cout << \"none\\n\";\n            return;\n          }\n        }\n        if (i % 2 == 0) {\n          if (a[i] == inf) {\n            upper = min(upper, a[i + 1] - 1);\n          }\n          if (a[i + 1] == inf) {\n            lower = max(lower, a[i] + 1);\n          }\n        } else {\n          if (a[i] == inf) {\n            lower = max(lower, a[i + 1] + 1);\n          }\n          if (a[i + 1] == inf) {\n            upper = min(upper, a[i] - 1);\n          }\n        }\n      }\n      if (lower < upper) {\n        cout << \"ambiguous\\n\";\n      } else if (lower > upper) {\n        cout << \"none\\n\";\n      } else {\n        cout << lower << '\\n';\n      }\n    }();\n  }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<n;i++)\nusing namespace std;\n\nint n,m,M;\nstring b,s;\nint a[1000];\n\nmain(){\n\twhile(cin>>n,n){\n\t\tbool e=0;\n\t\ts=\"none\";\n\t\tM=1000000003;m=-M;\n\t\trep(i,n){\n\t\t\ta[i]=0;cin>>b;\n\t\t\tif(b==\"x\")a[i]=-1;\n\t\t\telse rep(j,b.size()){\n\t\t\t\ta[i]*=10;a[i]+=b[j]-'0';\n\t\t\t}\n\t\t}\n\t\trep(i,n-1)if(a[i]==a[i+1])e=1;\n\t\trep(i,n-1)if(a[i]!=-1&&a[i+1]!=-1&&((i%2&&a[i]<=a[i+1])||(!(i%2)&&a[i]>=a[i+1])))e=1;\n\t\tif(e){\n\t\t\tcout<<s<<endl;\n\t\t\tcontinue;\n\t\t}\n\t\trep(i,n)if(a[i]==-1)e=1;\n\t\tif(!e){\n\t\t\tcout<<\"ambiguous\"<<endl;\n\t\t\tcontinue;\n\t\t}\n\t\tif(a[0]==-1)M=a[1]-1;\n\t\tif(a[n-1]==-1){\n\t\t\tif(n%2) M=min(M,a[n-2]-1);\n\t\t\telse m=a[n-2]+1;\n\t\t}\n\t\tfor(int i=1;i<n-1;i++){\n\t\t\tif(a[i]!=-1)continue;\n\t\t\tif(i%2) m=max(m,max(a[i-1],a[i+1])+1);\n\t\t\telse M=min(M,min(a[i-1],a[i+1])-1);\n\t\t}\n\t\tif(m==M)cout<<m<<endl;\n\t\telse{\n\t\t\tif(M>m)s=\"ambiguous\";\n\t\t\tcout<<s<<endl;\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <functional>\n#include <cmath>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <string>\n#include <sstream>\n#include <iostream>\n#include <iomanip>\n#include <vector>\n#include <list>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <bitset>\n#include <climits>\n\n#define all(c) (c).begin(), (c).end()\n#define rep(i,n) for(int i=0;i<(n);i++)\n#define pb(e) push_back(e)\n#define mp(a, b) make_pair(a, b)\n#define fr first\n#define sc second\n\nconst int INF=100000000;\nint dx[4]={1,0,-1,0};\nint dy[4]={0,1,0,-1};\nusing namespace std;\ntypedef pair<int ,int > P;\ntypedef long long ll;\n\nint n;\nstring a[1003];\n\nint toi(string s) {\n    int res;\n    stringstream ss;\n    ss<<s;\n    ss>>res;\n    return res;\n}\n\nint odd(int i) {\n    int res=-INF*2;\n    if(i-1>=0 && a[i-1]!=\"x\") {\n        res=max(res,toi(a[i-1]));\n    }\n    if(a[i+1]!=\"x\") {\n        res=max(res,toi(a[i+1]));\n    }\n    return res;\n}\nint even(int i) {\n    int res=INF*2;\n\n    if(i-1>=0 && a[i-1]!=\"x\") {\n        res=min(res,toi(a[i-1]));\n    }\n    if(i+1<n && a[i+1]!=\"x\") {\n        res=min(res,toi(a[i+1]));\n    }\n    return res;\n}\n\nbool ok() {\n    bool res=true;\n    rep(i,n) {\n        if(i&1) {\n            if(i-1>=0) res &= a[i]>a[i-1];\n            if(i+1<n) res &= a[i]>a[i+1];\n        }\n        else {\n            if(i-1>=0) res &= a[i]<a[i-1];\n            if(i+1<n) res &= a[i]<a[i+1];\n        }\n    }\n    return res;\n}\n\nbool exist_x() {\n    bool res=false;\n    rep(i,n) res|=a[i]==\"x\";\n    return res;\n}\nint count_x() {\n    int res=0;\n    rep(i,n) if(a[i]==\"x\") res++;\n    return res;\n}\n\n\nvoid solve() {\n    int l=-INF*2,r=INF*2;\n    rep(i,n) cin>>a[i];\n\n    rep(i,n) {\n        if(a[i]==\"x\") {\n            if(i&1) {\n                l=max(l,odd(i));\n            }\n            else {\n                r=min(r,even(i));\n            }\n        }\n    }\n    if(!exist_x()) {\n        if(ok()) cout<<\"ambiguous\"<<endl;\n        else cout<<\"none\"<<endl;\n        return;\n    }\n    if(count_x()==n) {\n        cout<<\"none\"<<endl;\n        return;\n    }\n    if(r-l==2) {\n        cout<<l+1<<endl;\n        return;\n    }\n    else if(r-l==1) {\n        cout<<\"none\"<<endl;\n    }\n    else {\n        cout<<\"ambiguous\"<<endl;\n\n    }\n\n\n}\n\nint main() {\n    while(cin>>n) {\n        if(n==0) break;\n        solve();\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "// Header {{{\n// includes {{{\n#include <algorithm>\n#include <cassert>\n#include <cctype>\n#include <climits>\n#include <cmath>\n#include <complex>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <ctime>\n#include <iostream>\n#include <iterator>\n#include <limits>\n#include <list>\n#include <map>\n#include <numeric>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <sys/time.h>\n#include <unistd.h>\n#include <vector>\n// }}}\nusing namespace std;\n// consts {{{\nstatic const int INF = 1e9;\nstatic const double PI = acos(-1.0);\nstatic const double EPS = 1e-10;\n// }}}\n// typedefs {{{\ntypedef long long int LL;\ntypedef unsigned long long int ULL;\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<LL> VLL;\ntypedef vector<VLL> VVLL;\ntypedef vector<ULL> VULL;\ntypedef vector<VULL> VVULL;\ntypedef vector<double> VD;\ntypedef vector<VD> VVD;\ntypedef vector<bool> VB;\ntypedef vector<VB> VVB;\ntypedef vector<char> VC;\ntypedef vector<VC> VVC;\ntypedef vector<string> VS;\ntypedef vector<VS> VVS;\ntypedef pair<int, int> PII;\ntypedef complex<int> P;\n// }}}\n// macros & inline functions {{{\n// syntax sugars {{{\n#define FOR(i, b, e) for (typeof(e) i = (b); i < (e); ++i)\n#define FORI(i, b, e) for (typeof(e) i = (b); i <= (e); ++i)\n#define REP(i, n) FOR(i, 0, n)\n#define REPI(i, n) FORI(i, 0, n)\n#define OPOVER(_op, _type) inline bool operator _op (const _type &t) const\n// }}}\n// conversion {{{\ninline int toInt(string s) { int v; istringstream sin(s); sin>>v; return v; }\ntemplate<class T> inline string toString(T x) { ostringstream sout; sout<<x; return sout.str(); }\n// }}}\n// array and STL {{{\n#define ARRSIZE(a) ( sizeof(a) / sizeof(a[0]) )\n#define ZERO(a, v) ( assert(v == 0 || v == -1), memset(a, v, sizeof(a)) )\n#define F first\n#define S second\n#define MP(a, b) make_pair(a, b)\n#define SIZE(a) ((LL)a.size())\n#define PB(e) push_back(e)\n#define SORT(v) sort((v).begin(), (v).end())\n#define RSORT(v) sort((v).rbegin(), (v).rend())\n#define ALL(a) (a).begin(), (a).end()\n#define RALL(a) (a).rbegin(), (a).rend()\n#define EACH(c, it) for(typeof((c).begin()) it=(c).begin(); it!=(c).end(); ++it)\n#define REACH(c, it) for(typeof((c).rbegin()) it=(c).rbegin(); it!=(c).rend(); ++it)\n#define EXIST(s, e) ((s).find(e) != (s).end())\n// }}}\n// bit manipulation {{{\n// singed integers are not for bitwise operations, specifically arithmetic shifts ('>>', and maybe not good for '<<' too)\n#define IS_UNSIGNED(n) (!numeric_limits<typeof(n)>::is_signed)\n#define BIT(n) (assert(IS_UNSIGNED(n)), assert(n < 64), (1ULL << (n)))\n#define BITOF(n, m) (assert(IS_UNSIGNED(n)), assert(m < 64), ((ULL)(n) >> (m) & 1))\ninline int BITS_COUNT(ULL b) { int c = 0; while(b != 0) { c += (b & 1); b >>= 1; } return c; }\ninline int MSB(ULL b) { int c = 0; while(b != 0) { ++c; b >>= 1; } return c-1; }\ninline int MAKE_MASK(ULL upper, ULL lower) { assert(lower < 64 && upper < 64 && lower <= upper); return (BIT(upper) - 1) ^ (BIT(lower) - 1); }\n// }}}\n// for readable code {{{\n#define EVEN(n) (n % 2 == 0)\n#define ODD(n) (!EVEN(n))\n// }}}\n// debug {{{\n#define arrsz(a) ( sizeof(a) / sizeof(a[0]) )\n#define dprt(fmt, ...) if (opt_debug) { fprintf(stderr, fmt, ##__VA_ARGS__); }\n#define darr(a) if (opt_debug) { copy( (a), (a) + arrsz(a), ostream_iterator<int>(cerr, \" \") ); cerr << endl; }\n#define darr_range(a, f, t) if (opt_debug) { copy( (a) + (f), (a) + (t), ostream_iterator<int>(cerr, \" \") ); cerr << endl; }\n#define dvec(v) if (opt_debug) { copy( ALL(v), ostream_iterator<int>(cerr, \" \") ); cerr << endl; }\n#define darr2(a) if (opt_debug) { FOR(__i, 0, (arrsz(a))){ darr( (a)[__i] ); } }\n#define dvec2(v) if (opt_debug) { FOR(__i, 0, v.size()){ dvec( (v)[__i] ); } }\n#define WAIT() if (opt_debug) { string _wait_; cerr << \"(hit return to continue)\" << endl; getline(cin, _wait_); }\n#define dump(x) if (opt_debug) { cerr << \" [L\" << __LINE__ << \"] \" << #x << \" = \" << (x) << endl; }\n#define dumpf() if (opt_debug) { cerr << __PRETTY_FUNCTION__ << endl; }\n#define dumpv(x) if (opt_debug) { cerr << \" [L:\" << __LINE__ << \"] \" << #x << \" = \"; REP(q, (x).size()) cerr << (x)[q] << \" \"; cerr << endl; }\n#define where() if (opt_debug) { cerr << __FILE__ << \": \" << __PRETTY_FUNCTION__ << \" [L: \" << __LINE__ << \"]\" << endl; }\n#define show_bits(b, s) if(opt_debug) { REP(i, s) { cerr << BITOF(b, s-1-i); if(i%4 == 3) cerr << ' '; } cerr << endl; }\ntemplate<typename T1, typename T2> ostream& operator<<(ostream& s, const pair<T1, T2>& d) {return s << \"(\" << d.first << \", \" << d.second << \")\";}\ntemplate<typename T> ostream& operator<<(ostream& s, const complex<T>& d) {return s << \"(\" << d.real() << \", \" << d.imag() << \")\";}\n// }}}\n// }}}\n// time {{{\ninline double now(){ struct timeval tv; gettimeofday(&tv, NULL); return (static_cast<double>(tv.tv_sec) + static_cast<double>(tv.tv_usec) * 1e-6); }\n// }}}\n// string manipulation {{{\ninline VS split(string s, char delimiter) { VS v; string t; REP(i, s.length()) { if(s[i] == delimiter) v.PB(t), t = \"\"; else t += s[i]; } v.PB(t); return v; }\ninline string join(VS s, string j) { string t; REP(i, s.size()) { t += s[i] + j; } return t; }\n// }}}\n// geometry {{{\n#define Y real()\n#define X imag()\n// }}}\n// 2 dimentional array {{{\nP dydx4[4] = { P(-1, 0), P(0, 1), P(1, 0), P(0, -1) };\nP dydx8[8] = { P(-1, 0), P(0, 1), P(1, 0), P(0, -1), P(-1, 1), P(1, 1), P(1, -1), P(-1, -1) };\nint g_height, g_width;\nbool in_field(P p) {\n\treturn (0 <= p.Y && p.Y < g_height) && (0 <= p.X && p.X < g_width);\n}\n// }}}\n// }}}\nbool opt_debug = false;\n\nint strtoi(string s) {\n\treturn atoi(s.c_str());\n}\n\nint main(int argc, char** argv) {\n\tstd::ios_base::sync_with_stdio(false);\n\t// set options {{{\n\tint __c;\n\twhile ( (__c = getopt(argc, argv, \"d\")) != -1 ) {\n\t\tswitch (__c) {\n\t\t\tcase 'd':\n\t\t\t\topt_debug = true;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tabort();\n\t\t}\n\t}\n\t// }}}\n\n\tint N;\n\twhile (cin >> N, N) {\n\t\tVS data(N);\n\t\tREP (i, N) {\n\t\t\tcin >> data[i];\n\t\t}\n\n\t\tbool impossible  = false;\n\t\tint lower = 10e-9 - 1;\n\t\tint upper = 10e9 + 1;\n\t\tREP (i, N) {\n\t\t\tif (data[i] != \"x\") {\n\t\t\t\tif (i - 1 >= 0 && data[i-1] != \"x\") {\n\t\t\t\t\tif (i % 2 == 0) {\n\t\t\t\t\t\tif ( !(strtoi(data[i-1]) > strtoi(data[i])) ) {\n\t\t\t\t\t\t\timpossible = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif ( !(strtoi(data[i-1]) < strtoi(data[i])) ) {\n\t\t\t\t\t\t\timpossible = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif ((i - 1 >= 0 && data[i-1] == \"x\")\n\t\t\t\t\t|| (i + 1 < N && data[i+1] == \"x\")) {\n\t\t\t\t// impossible\n\t\t\t\tupper = 0;\n\t\t\t\tlower = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tdump(i);\n\t\t\tif (i % 2 == 0) {\n\t\t\t\tif (i - 1 >= 0 && data[i-1] != \"x\") {\n\t\t\t\t\tdump(data[i-1]);\n\t\t\t\t\tupper = min(upper, strtoi(data[i-1]));\n\t\t\t\t}\n\t\t\t\tif (i + 1 < N && data[i+1] != \"x\") {\n\t\t\t\t\tdump(data[i+1]);\n\t\t\t\t\tupper = min(upper, strtoi(data[i+1]));\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (i - 1 >= 0 && data[i-1] != \"x\") {\n\t\t\t\t\tdump(data[i-1]);\n\t\t\t\t\tlower = max(lower, strtoi(data[i-1]));\n\t\t\t\t}\n\t\t\t\tif (i + 1 < N && data[i+1] != \"x\") {\n\t\t\t\t\tdump(data[i+1]);\n\t\t\t\t\tlower = max(lower, strtoi(data[i+1]));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tdump(upper);\n\t\t\tdump(lower);\n\t\t}\n\n\t\tdump(upper);\n\t\tdump(lower);\n\t\tif (impossible) {\n\t\t\tcout << \"none\" << endl;\n\t\t} else if (upper - lower > 2) {\n\t\t\tcout << \"ambiguous\" << endl;\n\t\t} else if (upper - lower == 2) {\n\t\t\tcout << upper - 1 << endl;\n\t\t} else {\n\t\t\tcout << \"none\" << endl;\n\t\t}\n\t}\n\n\treturn 0;\n}\n\n// vim: foldmethod=marker"
  },
  {
    "language": "C++",
    "code": "#include <string>\n#include <iostream>\n#include <algorithm>\n#define INF 1000000007\nusing namespace std;\nint N, a[1000]; string s;\nint main() {\n\twhile (cin >> N, N) {\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\tcin >> s;\n\t\t\ta[i] = s[0] != 'x' ? stoi(s) : INF;\n\t\t}\n\t\tint f = 1;\n\t\tfor (int i = 0; i < N; i += 2) {\n\t\t\tif (a[i] == INF) continue;\n\t\t\tif (i && a[i - 1] != INF && a[i - 1] <= a[i]) f = 0;\n\t\t\tif (i + 1 != N && a[i + 1] != INF && a[i] >= a[i + 1]) f = 0;\n\t\t}\n\t\tfor (int i = 1; i < N; i += 2) {\n\t\t\tif (a[i] == INF) continue;\n\t\t\tif (a[i - 1] != INF && a[i - 1] >= a[i]) f = 0;\n\t\t\tif (i + 1 != N && a[i + 1] != INF && a[i] <= a[i + 1]) f = 0;\n\t\t}\n\t\tfor (int i = 1; i < N; i++) {\n\t\t\tif (a[i - 1] == a[i]) f = 0;\n\t\t}\n\t\tif (!f) cout << \"none\" << endl;\n\t\telse if (find(a, a + N, INF) == a + N) cout << \"ambigious\" << endl;\n\t\telse {\n\t\t\tint l = -INF, r = INF;\n\t\t\tfor (int i = 0; i < N; i += 2) {\n\t\t\t\tif (a[i] != INF) continue;\n\t\t\t\tif (i) r = min(r, a[i - 1] - 1);\n\t\t\t\tif (i + 1 != N) r = min(r, a[i + 1] - 1);\n\t\t\t}\n\t\t\tfor (int i = 1; i < N; i += 2) {\n\t\t\t\tif (a[i] != INF) continue;\n\t\t\t\tl = max(l, a[i - 1] + 1);\n\t\t\t\tif (i + 1 != N) l = max(l, a[i + 1] + 1);\n\t\t\t}\n\t\t\tif (r - l < 0) cout << \"none\" << endl;\n\t\t\telse if (r - l > 0) cout << \"ambigious\" << endl;\n\t\t\telse cout << l << endl;\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<stdlib.h>\n#include<algorithm>\n#define INF 1000000001\n#define MIN -1000000002\n#define MAX 1000000002\nusing namespace std;\n\nint main()\n{\n\tint n;\n\twhile (cin >> n && n != 0)\n\t{\n\t\tlong a[1000 + 1];\n\t\tlong mn = -1e10;\n\t\tlong mx = 1e10;\n\t\tfor (int i = 1; i <= n; i++)\n\t\t{\n\t\t\tstring s;\n\t\t\tcin >> s;\n\t\t\tif (s.compare(\"x\") == 0)\n\t\t\t{\n\t\t\t\ta[i] = INF;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\ta[i] = atol(s.c_str());\n\t\t\t}\n\t\t}\n\t\tfor (int i = 1; i <= n; i++)\n\t\t{\n\t\t\tif (i + 1 <= n && a[i] == INF&& a[i + 1] == INF)\n\t\t\t{\n\t\t\t\tmn = MAX;\n\t\t\t\tmx = MIN;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (a[i] == INF)continue;\n\t\t\tif (i % 2 == 0)\n\t\t\t{\n\t\t\t\tif ((i - 1 >= 1 && a[i - 1] == INF) || (i + 1 <= n&& a[i + 1] == INF))\n\t\t\t\t{\n\t\t\t\t\tmx = min(mx, a[i] - 1);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif (i + 1 <= n && a[i] <= a[i + 1])\n\t\t\t\t\t{\n\t\t\t\t\t\tmn = MAX;\n\t\t\t\t\t\tmx = MIN;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif ((i - 1 >= 1 && a[i - 1] == INF) || (i + 1 <= n&& a[i + 1] == INF))\n\t\t\t\t{\n\t\t\t\t\tmn = max(mn, a[i] + 1);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif (i + 1 <= n && a[i] >= a[i + 1])\n\t\t\t\t\t{\n\t\t\t\t\t\tmn = MAX;\n\t\t\t\t\t\tmx = MIN;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (mx == mn)\n\t\t{\n\t\t\tcout << mx << endl;\n\t\t}\n\t\telse if (mx < mn)\n\t\t{\n\t\t\tcout << \"none\" << endl;\n\t\t}\n\t\telse if (mn < mx)\n\t\t{\n\t\t\tcout << \"ambigious\" << endl;\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <string>\n\nusing namespace std;\n\nint main() {\n\tint n;\n\twhile (cin >> n, n) {\n\t\tlong long l = -1e10, r = 1e10;\n\t\tvector<string> a(n);\n\t\tfor (auto& e : a) cin >> e;\n\t\tstring prev;\n\t\tfor (int i = 0; i < n; ++i) {\n\t\t\tif (a[i] == \"x\") {\n\t\t\t\tif (prev == \"x\") {\n\t\t\t\t\tl = 1e18;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (i & 1) {\n\t\t\t\t\tif (i - 1 >= 0 && a[i - 1] != \"x\") l = max(l, stoll(a[i - 1]) + 1);\n\t\t\t\t\tif (i + 1 < n && a[i + 1] != \"x\") l = max(l, stoll(a[i + 1]) + 1);\n\t\t\t\t} else {\n\t\t\t\t\tif (i - 1 >= 0 && a[i - 1] != \"x\") r = min(r, stoll(a[i - 1]) - 1);\n\t\t\t\t\tif (i + 1 < n && a[i + 1] != \"x\") r = min(r, stoll(a[i + 1]) - 1);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (i & 1) {\n\t\t\t\t\tif (i - 1 >= 0 && a[i - 1] != \"x\") {\n\t\t\t\t\t\tif (stoi(a[i - 1]) >= stoi(a[i])) {\n\t\t\t\t\t\t\tl = 1e18;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (i - 1 >= 0 && a[i - 1] != \"x\") {\n\t\t\t\t\t\tif (stoi(a[i - 1]) <= stoi(a[i])) {\n\t\t\t\t\t\t\tl = 1e18;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tprev = a[i];\n\t\t}\n\t\tif (l == r) cout << l << endl;\n\t\telse if (l < r) cout << \"ambiguous\" << endl;\n\t\telse cout << \"none\" << endl;\n\t}\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#define  _CRT_SECURE_NO_WARNINGS\n#pragma comment (linker, \"/STACK:526000000\")\n\n#include \"bits/stdc++.h\"\n\nusing namespace std;\ntypedef string::const_iterator State;\n#define eps 1e-11L\n#define MAX_MOD 1000000007LL\n#define GYAKU 500000004LL\n\n#define MOD 998244353LL\n#define seg_size 262144*2LL\n#define pb push_back\n#define mp make_pair\ntypedef long long ll;\n#define REP(a,b) for(long long (a) = 0;(a) < (b);++(a))\n#define ALL(x) (x).begin(),(x).end()\n\nunsigned long xor128() {\n\tstatic unsigned long x = 123456789, y = 362436069, z = 521288629, w = time(NULL);\n\tunsigned long t = (x ^ (x << 11));\n\tx = y; y = z; z = w;\n\treturn (w = (w ^ (w >> 19)) ^ (t ^ (t >> 8)));\n}\n\nvoid init() {\n\tiostream::sync_with_stdio(false);\n\tcout << fixed << setprecision(20);\n}\n\n#define int ll\n\nvoid solve() {\n\twhile (true) {\n\t\tint n;\n\t\tcin >> n;\n\t\tif (n == 0) return;\n\t\tvector<int> inputs;\n\t\tREP(i, n) {\n\t\t\tstring s;\n\t\t\tcin >> s;\n\t\t\tif (s == \"x\") {\n\t\t\t\tinputs.push_back(-1e18);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tinputs.push_back(stoll(s));\n\t\t\t}\n\t\t}\n\t\tint now_min = 1e18;\n\t\tint now_max = -1e18;\n\t\tREP(i, inputs.size()) {\n\t\t\tif (inputs[i] == -1e18) {\n\t\t\t\tif (i % 2 == 1) {\n\t\t\t\t\tif (i - 1 >= 0 && inputs[i - 1] != -1e18) {\n\t\t\t\t\t\tnow_max = max(now_max, inputs[i - 1] + 1);\n\t\t\t\t\t}\n\t\t\t\t\tif (i + 1 < inputs.size() && inputs[i + 1] != -1e18) {\n\t\t\t\t\t\tnow_max = max(now_max, inputs[i + 1] + 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (i - 1 >= 0 && inputs[i - 1] != -1e18) {\n\t\t\t\t\t\tnow_min = min(now_min, inputs[i - 1] - 1);\n\t\t\t\t\t}\n\t\t\t\t\tif (i + 1 < inputs.size() && inputs[i + 1] != -1e18) {\n\t\t\t\t\t\tnow_min = min(now_min, inputs[i + 1] - 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (int i = 1; i < inputs.size(); ++i) {\n\t\t\tif (inputs[i - 1] == inputs[i]) {\n\t\t\t\tnow_max = 2e18;\n\t\t\t}\n\t\t\tif (i % 2 == 0) {\n\t\t\t\tif (inputs[i] != -1e18 && inputs[i - 1] != -1e18) {\n\t\t\t\t\tif (inputs[i - 1] <= inputs[i]) {\n\t\t\t\t\t\tnow_max = 2e18;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (inputs[i] != -1e18 && inputs[i - 1] != -1e18) {\n\t\t\t\t\tif (inputs[i - 1] >= inputs[i]) {\n\t\t\t\t\t\tnow_max = 2e18;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (now_min != now_max) {\n\t\t\tif (now_max < now_min) {\n\t\t\t\tcout << \"ambiguous\" << endl;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tcout << \"none\" << endl;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tcout << now_min << endl;\n\t\t}\n\t}\n}\n\n#undef int\nint main() {\n\tinit();\n\tsolve();\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<string>\n#include<algorithm>\t\n#include<map>\n#include<set>\n#include<utility>\n#include<cmath>\n#include<cstring>\n#include<queue>\n#include<stack>\n#include<cstdio>\n#include<sstream>\n#include<iomanip>\n#include<assert.h>\n#define loop(i,a,b) for(int i=a;i<b;i++) \n#define rep(i,a) loop(i,0,a)\n#define pb push_back\n//#define mt make_tuple\n#define all(in) in.begin(),in.end()\n#define shosu(x) fixed<<setprecision(x)\nusing namespace std;\n//kaewasuretyuui\ntypedef long long ll;\ntypedef int Def;\ntypedef pair<Def,Def> pii;\ntypedef vector<Def> vi;\ntypedef vector<vi> vvi;\ntypedef vector<pii> vp;\ntypedef vector<vp> vvp;\ntypedef vector<string> vs;\ntypedef vector<double> vd;\n//typedef tuple<int,int,int> tp;\n//typedef vector<tp> vt;\ntypedef vector<vd> vvd;\ntypedef pair<Def,pii> pip;\ntypedef vector<pip>vip;\nconst double PI=acos(-1);\nconst double EPS=1e-7;\nconst int inf=1e9;\nconst ll INF=2e18;\nint dx[]={0,1,0,-1};\nint dy[]={1,0,-1,0};\nint main(){\n\tint n;\n\twhile(cin>>n,n){\n\t\tvi in(n+1);\n\t\tin[0]=2e9;\n\t\trep(i,n){\n\t\t\tstring s;\n\t\t\tcin>>s;\n\t\t\tif(s==\"x\"){\n\t\t\t\tif(i%2)in[i+1]=2e9+1;\n\t\t\t\telse in[i+1]=-2e9-1;\n\t\t\t}else in[i+1]=stoi(s);\n\t\t}\n\t\tif(n%2)in.pb(2e9);\n\t\telse in.pb(-2e9);\n\t\tint l=-2e9,r=2e9;\n\t\tbool h=true;\n\t\tloop(i,1,n+1){\n\t\t\tif(abs(in[i])==2e9+1&&abs(in[i+1])==2e9+1)h=false;\n\t\t\tif(i%2){\n\t\t\t\tif(in[i]>=min(in[i-1],in[i+1]))h=false;\n\t\t\t\tif(abs(in[i])==2e9+1){\n\t\t\t\t\tr=min(r,min(in[i-1],in[i+1])-1);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(in[i]<=max(in[i-1],in[i+1]))h=false;\n\t\t\t\tif(abs(in[i])==2e9+1){\n\t\t\t\t\tl=max(l,1+max(in[i-1],in[i+1]));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(!h)cout<<\"none\"<<endl;\n\t\telse if(l==r)cout<<l<<endl;\n\t\telse if(l<r)cout<<\"ambiguous\"<<endl;\n\t\telse cout<<\"none\"<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define MAX 1002\n#define INF 1e9+1\n\nint main(){\n  int N,arr[MAX];\n  string str;\n  while(cin >> N, N){\n    bool x[MAX] = {false};\n    arr[0] = INT_MAX;\n    arr[N+1] = (N % 2 ? INT_MAX : INT_MIN);  \n    bool can = true;\n    for(int i = 1 ; i <= N ; i++){\n      cin >> str;\n      if(str[0] == 'x'){\n        x[i] = true;\n        arr[i] = INT_MAX;\n      }else{\n        stringstream ss(str);\n        int x; ss >> x;\n        arr[i] = x;\n      }\n      if(i > 0){\n        if(x[i-1] && x[i]){\n          can = false;\n        }\n      }\n    }\n    if(!can){\n      cout << \"none\" << endl;\n      continue;\n    }else if(count(x+1,x+N+1,true) == 0){\n      bool check = false;\n      for(int i = 1 ; i <= N ; i++){\n        if(i % 2){\n          if(!(arr[i-1] > arr[i] && arr[i+1] > arr[i])){\n            check = true;\n            break;\n          }\n        }else{\n          if(!(arr[i-1] < arr[i] && arr[i+1] < arr[i])){\n            check = true;\n            break;\n          }\n        }\n      }\n      cout << (check ? \"none\" : \"ambiguous\") << endl;\n      continue;\n    }\n\n    bool found = false;\n    int l = -1e9-2,r = 1e9+2, m,ans;\n    while(r - l > 0){\n      m = (l + r) / 2;\n      bool small = false, large = false;\n      for(int i = 1 ; i <= N ; i++){\n        int bv = (x[i-1] ? m : arr[i-1]);\n        int cv = (x[i] ? m : arr[i]);\n        int nv = (x[i+1] ? m : arr[i+1]);\n        if(!x[i]) continue;\n        if(i % 2){\n          if(!(bv > cv && nv > cv)){\n            small = true;\n            break;\n          }\n        }else{\n          if(!(bv < cv && nv < cv)){\n            large = true;\n            break;\n          }\n        }\n      }\n      if(!small && !large){\n        found = true;\n        break;\n      }else if(small){\n        r = m;\n      }else{\n        l = m+1;\n      }\n    }\n    if(!found){\n      cout << \"none\" << endl;\n    }else{\n      found = false;\n      ans = m;\n      l = -1e9-5, r = ans-1;\n      while(r - l > 0){\n        m = (l + r) / 2;\n        bool small = false, large = false;\n        for(int i = 1 ; i <= N ; i++){\n          int bv = (x[i-1] ? m : arr[i-1]);\n          int cv = (x[i] ? m : arr[i]);\n          int nv = (x[i+1] ? m : arr[i+1]);\n          if(!x[i]) continue;\n          if(i % 2){\n            if(!(bv > cv && nv > cv)){\n              small = true;\n              break;\n            }\n          }else{\n            if(!(bv < cv && nv < cv)){\n              large = true;\n              break;\n            }\n          }\n        }\n        if(!small && !large){\n          found = true;\n          break;\n        }else if(small){\n          r = m;\n        }else{\n          l = m+1;\n        }\n      }\n      l = ans+1, r = 1e9+5;\n      while(r - l > 0){\n        m = (l + r) / 2;\n        bool small = false, large = false;\n        for(int i = 1 ; i <= N ; i++){\n          int bv = (x[i-1] ? m : arr[i-1]);\n          int cv = (x[i] ? m : arr[i]);\n          int nv = (x[i+1] ? m : arr[i+1]);\n          if(!x[i]) continue;\n          if(i % 2){\n            if(!(bv > cv && nv > cv)){\n              small = true;\n              break;\n            }\n          }else{\n            if(!(bv < cv && nv < cv)){\n              large = true;\n              break;\n            }\n          }\n        }\n        if(!small && !large){\n          found = true;\n          break;\n        }else if(small){\n          r = m;\n        }else{\n          l = m+1;\n        }\n      }\n      if(found){\n        \n        cout << \"ambiguous\" << endl;\n      }else{\n        cout << ans << endl;\n      }\n    }\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdlib>\nusing namespace std;\n\n#define MAX_N 1000000000\n\nint main()\n{\n  while(1){\n    int n;\n    cin >> n;\n    if(n == 0) break;\n    long long int a[n];\n    for(int i = 0; i < n; i++){\n      string s;\n      cin >> s;\n      a[i] = s == \"x\" ? MAX_N+1 : atoi(s.c_str());\n    } \n    long long int l = -9999999999-3, u = MAX_N+3;\n    for(int i = 0; i < n-1; i++){\n      if(a[i] == MAX_N+1){\n        if(a[i+1] == MAX_N+1){\n          u = l-1;\n          break;\n        }else{\n          if((i+1) & 1){\n            u = a[i+1];\n          }else{\n            l = a[i+1];\n          }\n        }\n      }else{\n        if(a[i+1] == MAX_N+1){\n          if((i+1) & 1){\n            l = a[i];\n          }else{\n            u = a[i];\n          }\n        }else{\n          if((i+1) & 1){\n            if(a[i] >= a[i+1]){\n              u = l-1;\n              break;\n            }\n          }else{\n            if(a[i] <= a[i+1]){\n              u = l-1;\n              break;\n            }\n          }\n        }\n      }\n    }\n    if(u - l - 1 > 1)\n      cout << \"ambiguous\" << endl;\n    else if(u - l - 1 <= 0)\n      cout << \"none\" << endl;\n    else\n      cout << (u+l)/2 << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<n;i++)\nusing namespace std;\n\nint n,m,M;\nstring b,s;\nint a[1000];\n\nmain(){\n\twhile(cin>>n,n){\n\t\tbool e=0;\n\t\ts=\"none\";\n\t\tM=1000000003;m=-M;\n\t\trep(i,n){\n\t\t\ta[i]=0;cin>>b;\n\t\t\tif(b==\"x\")a[i]=-1;\n\t\t\telse rep(j,b.size()){\n\t\t\t\t\ta[i]*=10;a[i]+=b[j]-'0';\n\t\t\t}\n\t\t}\n\t\trep(i,n-1)if(a[i]==-1&&a[i+1]==-1)e=1;\n\t\trep(i,n-1)if(a[i]!=-1&&a[i+1]!=-1&&((i%2&&a[i]<=a[i+1])||(!(i%2)&&a[i]>=a[i+1])))e=1;\n\t\tif(e){\n\t\t\tcout<<s<<endl;\n\t\t\tcontinue;\n\t\t}\n\t\trep(i,n)if(a[i]==-1)e=1;\n\t\tif(!e){\n\t\t\tcout<<\"ambiguous\"<<endl;\n\t\t\tcontinue;\n\t\t}\n\t\tif(a[0]==-1)M=a[1]-1;\n\t\tif(a[n-1]==-1){\n\t\t\tif(n%2) M=min(M,a[n-2]-1);\n\t\t\telse m=a[n-2]+1; \n\t\t}\n\t\tfor(int i=1;i<n-1;i++){\n\t\t\tif(a[i]!=-1)continue;\n\t\t\tif(i%2) m=max(m,max(a[i-1],a[i+1])+1);\n\t\t\telse M=min(M,min(a[i-1],a[i+1])-1);\n\t\t}\n\t\tif(m==M)cout<<m<<endl;\n\t\telse{\n\t\t\tif(M>m)s=\"ambiguous\";\n\t\t\tcout<<s<<endl;\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <string>\nusing namespace std;\n\nint main(){\n    while(1){\n        int n;\n        cin >> n;\n        if(n==0) break;\n\n        vector<int> signal(n+2);\n        vector<bool> broken(n, false);\n        for(int i=1; i<=n; i++){\n            string str;\n            cin >> str;\n            if(str == \"x\"){\n                broken[i] = true;\n            }else{\n                signal[i] = stoi(str);\n            }\n        }\n        signal[0] = 1e9+10;\n        signal[n+1] = (n%2==0)? -(1e9+10) :1e9+10;\n\n        int upper = 1e9+10, lower = -(1e9+10);\n        bool none = false;\n        for(int i=1; i<=n; i++){\n            if(broken[i]){\n                if(broken[i-1] || broken[i+1]){\n                    none = true;\n                    break;\n                }\n                if(i%2==0){\n                    lower = max(lower, max(signal[i-1], signal[i+1])) + 1;\n                }else{\n                    upper = min(upper, min(signal[i-1], signal[i+1])) - 1;\n                }\n            }else{\n                if(i%2==0){\n                    if((!broken[i-1] && signal[i] < signal[i-1]) ||\n                       (!broken[i+1] && signal[i] < signal[i+1])){\n                        none = true;\n                    }\n                }else{\n                    if((!broken[i-1] && signal[i] > signal[i-1]) ||\n                       (!broken[i+1] && signal[i] > signal[i+1])){\n                        none = true;\n                    }\n                }\n            }\n        }\n\n        if(lower > upper) none = true;\n        if(none){\n            cout << \"none\" << endl;\n        }else if(lower == upper){\n            cout << lower << endl;\n        }else{\n            cout <<  \"ambiguous\" << endl;\n        }\n\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<vector>\n#include<cstdio>\n#include<sstream>\n#include<algorithm>\n#include<cmath>\n#include<map>\n#include<functional>\nusing namespace std;\nint stoi(string x){stringstream ss;ss<<x;int tmp;ss>>tmp;return tmp;}\nstring itos(int x){stringstream ss;ss<<x;return ss.str();}\nconst int INF=1111111111;\nint main(){\n\tint n;\n\tint dx[10000];\n\tfor(int i=0;i<5000;i++)dx[i]=i;\n\tfor(int i=5000;i<10000;i++)dx[i]=5000-i;\n\tcin>>n;\n\tvector<int>ta(0);\n\tvector<int>ans(0);\n\tfor(int i=0;i<n;i++){\n\tstring tmp;\n\tcin>>tmp;\n\tif(tmp==\"x\")ta.push_back(INF);\n\telse ta.push_back(stoi(tmp));\n\t}\nfor(int i=0;i<ta.size();i++){\nfor(int kkk=0;kkk<1000;kkk++){\nif(ta[i]==INF)continue;\nint now=ta[i]+dx[kkk];\nbool f=1;\n\tfor(int j=0;j<ta.size();j++){\n\t\tif(ta[j]!=INF)continue;\n\t\tif((j+1)%2==0){//??????????????§??????\n\t\t\tif(j==0&&now<=ta[j+1])f=0;\n\t\t\telse if(j==ta.size()-1&&now<=ta[j-1])f=0;\n\t\t\telse if(now<=ta[j+1]||now<=ta[j-1])f=0;\n\t\t}\nelse {\n\tif(j==0&&now>=ta[j+1])f=0;\n\telse if(j==ta.size()-1&&now>=ta[j-1])f=0;\n\telse if(now>=ta[j+1]||now>=ta[j-1])f=0;\n}//endelse\n}//endfor\nif(f){\nbool tf=1;\nfor(int k=0;k<ans.size();k++)if(now==ans[k])tf=0;\nif(tf)ans.push_back(now);\n}\n}\n}\n\tbool tf=1;\n\tfor(int i=0;i<ta.size();i++)if(ta[i]==INF)tf=0;\n\tif(tf){\n\tbool af=1;\n\tfor(int j=0;j<ta.size();j++){\n\tint now=ta[j];\n\tif((j+1)%2==0){\n\t\tif(j==0&&now<=ta[j+1])af=0;\n\t\telse if(j==ta.size()-1&&now<=ta[j-1])af=0;\n\t\telse if(now<=ta[j+1]||now<=ta[j-1])af=0;\n\t\t}\nelse {\n\tif(j==0&&now>=ta[j+1])af=0;\n\telse if(j==ta.size()-1&&now>=ta[j-1])af=0;\n\telse if(now>=ta[j+1]||now>=ta[j-1])af=0;\n}//endelse\n}//endfor\n\tif(af)cout<<\"ambiguous\"<<endl;\n\telse cout<<\"none\"<<endl;\n\t}\n\telse {\n\tif(ans.size()==1)cout<<ans[0]<<endl;\n\telse if(ans.size()==0)cout<<\"none\"<<endl;\n\telse cout<<\"ambiguous\"<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "\n#include<bits/stdc++.h>\nusing namespace std;\n\nint main(){\n  int n;\n  const long long int Broken=1e10+1;\n  while(cin>>n,n){\n    vector<long long int> a(n);\n    for(int i=0;i<n;i++){\n      string buf; cin>>buf;\n      if(buf==\"x\"){\n\tif(i%2==0) a[i]=-Broken;\n\telse a[i]=Broken;\n      }\t\n      else a[i]=stoll(buf);\n\n    }\n\n    long long int lb=-1e9-3;\n    long long int ub=1e9+3;\n    for(int i=0;i<n && n>=2;i++){\n      if(abs(a[i])==Broken){\n\tif(i==0){\n\t  ub=min(ub,a[i+1]-1);\n\t}\n\telse if(i==n-1){\n\t  if((n-1)%2==0){\n\t    ub=min(ub,a[i-1]-1);\n\t  }\n\t  else{\n\t    lb=max(lb,a[i-1]+1);\n\t  }\n\t}\n\telse{\n\t  if(i%2==0){\n\t    ub=min({ub,a[i-1]-1,a[i+1]-1});\n\t  }\n\t  else{\n\t    lb=max({lb,a[i-1]+1,a[i+1]+1});\n\t  }\n\n\t}\n      }\n      else{\n\tif(i+1<n&&abs(a[i+1])!=Broken){\n\t  if(i%2==0){\n\t    if(a[i+1]<=a[i]) lb=Broken;\n\t  }\n\t  else{\n\t    if(a[i+1]>=a[i]) lb=Broken;\n\t  }\n\t}\n      }\n      if(i!=0 && abs(a[i-1])==Broken && abs(a[i])==Broken){\n\tlb=Broken;\n      }\n      \n    }\n\n    if(lb==ub){\n      cout<<lb<<endl;\n    }\n    else if(lb>ub){\n      cout<<\"none\"<<endl;\n    }\n    else{\n      cout<<\"ambiguous\"<<endl;\n    }\n    \n  }\n      \n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\nint main(){\n  int N;\n  while(cin >> N, N){\n    string A[N];\n    bool f[2], g = true;\n    f[0] = false;\n    f[1] = false;\n    for(int i = 0; i < N; ++i){\n      cin >> A[i];\n      if(A[i] == \"x\")\n\tf[i%2] = true;\n    }\n    long long int INF = 10000000000, m = -INF, M = INF;\n    for(int i = 0; i < N; ++i){\n      if(i > 0 && A[i] != \"x\" && A[i-1] != \"x\"){\n\tif(i%2 && A[i] <= A[i-1]) g = false;\n\telse if(i%2 == 0 && A[i] >= A[i-1]) g = false;\n      }\n      if(i > 0 && A[i] == \"x\" && A[i-1] == \"x\") g = false;\n      /*\n      if(A[i] != \"x\"){\n\tif(i%2 && f[1]) M = min(M, (long long int)stoi(A[i]));\n\tif((!(i%2)) && f[0]) m = max(m, (long long int)stoi(A[i]));\n      }\n      */\n      if(A[i] == \"x\"){\n\tif(i%2){\n\t  if(i > 0 && A[i-1] != \"x\") m = max(m, (long long int)stoi(A[i-1]));\n\t  if(i < N-1 && A[i+1] != \"x\") m = max(m, (long long int)stoi(A[i+1]));\n\t}else{\n\t  if(i > 0 && A[i-1] != \"x\") M = min(M, (long long int)stoi(A[i-1]));\n\t  if(i < N-1 && A[i+1] != \"x\") M = min(M, (long long int)stoi(A[i+1]));\t\n\t}\n      }\n    }\n    //cout << M << \" \" << m << endl;\n    if(g && M - m == 2) cout << m+1 << endl;\n    else if(g && (M - m > 2 || ((!f[0]) && (!f[1])))) cout << \"ambiguous\" << endl;\n    else cout << \"none\" << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 1000000100\n\n#include <iostream>\n#include <cstdio>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n  \nusing namespace std;\n  \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P> PP;\n  \nstatic const double EPS = 1e-8;\n\n\nbool check(vector<int> signals){\n  bool is_none = false;\n  for(int i=0;i<signals.size();i++){\n    int lhs = i - 1;\n    int rhs = i + 1;\n    if(lhs >= 0 && signals[lhs] != INF){\n      if((i + 1) % 2 == 0){\n        if(signals[i] < signals[lhs]){\n          is_none = true;\n          break;\n        }\n      }\n      else{\n        if(signals[i] > signals[lhs]){\n          is_none = true;\n          break;\n        }\n      }\n    }\n    if(rhs < signals.size() && signals[rhs] != INF){\n      if((i + 1) % 2 == 0){\n        if(signals[i] < signals[rhs]){\n          is_none = true;\n          break;\n        }\n      }\n      else{\n        if(signals[i] > signals[rhs]){\n          is_none = true;\n          break;\n        }\n      }\n    }\n  }\n  return !is_none;\n}\n\nint main(){\n  int N;\n  while(~scanf(\"%d\",&N)){\n    if(N == 0) break;\n\n    vector<int> signals;\n    queue<int> unknown;\n\n    bool has_x = false;\n    bool has_num = false;\n    for(int i=0; i < N; i++){\n      char signal[12];\n      int num;\n      scanf(\"%s\",signal);\n      if(signal[0] != 'x'){\n        num = atoi(signal);\n        has_num = true;\n      }\n      else{\n        num = INF;\n        has_x = true;\n        unknown.push(i);\n      }\n      signals.push_back(num);\n    }\n    \n    if(has_num && has_x){\n      //x x 1 x\n      int lower = -INF;\n      int upper = INF;\n      \n      while(!unknown.empty()){\n        int idx = unknown.front();\n        unknown.pop();\n        int lhs = idx - 1;\n        int rhs = idx + 1;\n        \n        //even\n        if((idx+1) % 2 == 0){\n          if(lhs >= 0 && signals[lhs] != INF) {\n            lower = max(signals[lhs]+1,lower);\n          }\n          if(rhs < signals.size() && signals[rhs] != INF){\n            lower = max(signals[rhs]+1,lower);\n          }\n        }\n        //odd\n        else{\n          if(rhs < signals.size() && signals[rhs] != INF){\n            upper = min(signals[rhs]-1,upper);\n          }\n          if(lhs >= 0 && signals[lhs] != INF){\n            upper = min(signals[lhs]-1,upper);\n          }\n        }\n      }\n\n      if(upper > lower){\n        for(int i=0;i<signals.size();i++){\n          if(signals[i] == INF){\n            signals[i] = lower;\n          }\n        }\n        bool isok = check(signals);\n\n        if(isok){\n          printf(\"ambiguous\\n\");\n        }\n        else{\n          printf(\"none\\n\");\n        }\n      }\n      else if(upper == lower){\n        for(int i=0;i<signals.size();i++){\n          if(signals[i] == INF){\n            signals[i] = lower;\n          }\n        }\n        bool isok = check(signals);\n        if(isok){\n          printf(\"%d\\n\",lower);\n        }\n        else{\n          printf(\"none\\n\");\n        }\n      }\n      else if(upper < lower){\n        printf(\"none\\n\");\n      }\n    }\n\n    else if(!has_num && has_x){\n      //x x x\n      printf(\"none\\n\");\n    }\n    else if(has_num && !has_x){\n      //1 2 3\n      \n      bool isok = check(signals);\n      printf(\"%s\\n\", !isok ? \"none\" : \"ambiguous\");\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#include <algorithm>\n#include <cstdio>\n#include <functional>\n#include <iostream>\n#include <cfloat>\n#include <climits>\n#include <cstring>\n#include <cmath>\n#include <map>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <time.h>\n#include <vector>\nusing namespace std;\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int, int> i_i;\ntypedef pair<ll, int> ll_i;\ntypedef pair<double, int> d_i;\ntypedef pair<ll, ll> ll_ll;\ntypedef pair<double, double> d_d;\nstruct edge { int u, v; ll w; };\n\nll MOD = 1000000007;\nll _MOD = 1000000009;\ndouble EPS = 1e-9;\n\nint main() {\n\tfor (;;) {\n\t\tint n; cin >> n;\n\t\tif (n == 0) break;\n\t\tvector<int> a(n);\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tstring s; cin >> s;\n\t\t\tif (s == \"x\") a[i] = INT_MAX;\n\t\t\telse {\n\t\t\t\tstringstream ss(s);\n\t\t\t\tss >> a[i];\n\t\t\t}\n\t\t}\n\t\tbool flag = true;\n\t\tfor (int i = 0; i + 1 < n; i++) {\n\t\t\tif (a[i] == INT_MAX && a[i + 1] == INT_MAX)\n\t\t\t\tflag = false;\n\t\t\tif (a[i] != INT_MAX && a[i + 1] != INT_MAX) {\n\t\t\t\tif (i % 2 == 0 && a[i] >= a[i + 1])\n\t\t\t\t\tflag = false;\n\t\t\t\tif (i % 2 == 1 && a[i] <= a[i + 1])\n\t\t\t\t\tflag = false;\n\t\t\t}\n\t\t}\n\t\tif (!flag) {\n\t\t\tcout << \"none\" << endl;\n\t\t\tcontinue;\n\t\t}\n\t\tint mini = INT_MIN, maxi = INT_MAX;\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tif (a[i] == INT_MAX) {\n\t\t\t\tif (i % 2 == 0) {\n\t\t\t\t\tif (i - 1 >= 0) maxi = min(maxi, a[i - 1] - 1);\n\t\t\t\t\tif (i + 1 < n) maxi = min(maxi, a[i + 1] - 1);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (i - 1 >= 0) mini = max(mini, a[i - 1] + 1);\n\t\t\t\t\tif (i + 1 < n) mini = max(mini, a[i + 1] + 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (mini == maxi && mini > INT_MIN) cout << mini << endl;\n\t\telse if (mini < maxi || mini == INT_MIN) cout << \"ambiguous\" << endl;\n\t\telse cout << \"none\" << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef long double ld;\ntypedef pair<ll, ll> P;\n\n#define EACH(i,a) for (auto& i : a)\n#define FOR(i,a,b) for (ll i=(a);i<(b);i++)\n#define RFOR(i,a,b) for (ll i=(b)-1;i>=(a);i--)\n#define REP(i,n) for (ll i=0;i<(n);i++)\n#define RREP(i,n) for (ll i=(n)-1;i>=0;i--)\n#define debug(x) cout<<#x<<\": \"<<x<<endl\n#define pb push_back\n#define ALL(a) (a).begin(),(a).end()\n\nconst ll linf = 1e18;\nconst int inf = 1e9;\nconst double eps = 1e-12;\nconst double pi = acos(-1);\n\ntemplate<typename T>\nistream& operator>>(istream& is, vector<T>& vec) {\n\tEACH(x,vec) is >> x;\n\treturn is;\n}\ntemplate<typename T>\nostream& operator<<(ostream& os, vector<T>& vec) {\n\tREP(i,vec.size()) {\n\t\tif (i) os << \" \";\n\t\tos << vec[i];\n\t}\n\treturn os;\n}\ntemplate<typename T>\nostream& operator<<(ostream& os, vector< vector<T> >& vec) {\n\tREP(i,vec.size()) {\n\t\tif (i) os << endl;\n\t\tos << vec[i];\n\t}\n\treturn os;\n}\n\nint toInt(string s) {\n\treturn strtol(s.c_str(),0,0);\n}\n\nbool check(vector<int>& v) {\n\tint N = v.size();\n\tfor (int i = 1; i < N; i += 2) {\n\t\tif (v[i-1] >= v[i]) return false;\n\t}\n\tfor (int i = 2; i < N; i += 2) {\n\t\tif (v[i-1] <= v[i]) return false;\n\t}\n\treturn true;\n}\nint main() {\n\tstd::ios::sync_with_stdio(false);\n\tstd::cin.tie(0);\n\tint N;\n\twhile (cin >> N, N) {\n\t\tvector<string> s(N); cin >> s;\n\t\tvector<int> v(N);\n\t\tREP(i, N) {\n\t\t\tif (s[i] != \"x\") v[i] = toInt(s[i]);\n\t\t}\n\t\tset<int> kh;\n\t\tREP(i,N) {\n\t\t\tfor (int d = -2; d <= 2; ++d) {\n\t\t\t\tkh.insert(v[i]+d);\n\t\t\t}\n\t\t}\n\t\tint cnt = 0, ans = 114514;\n\t\tEACH(x,kh) {\n\t\t\tREP(i,N) if (s[i] == \"x\") v[i] = x;\n\t\t\tif (check(v)) {\n\t\t\t\t++cnt;\n\t\t\t\tans = x;\n\t\t\t}\n\t\t}\n\t\tif (cnt == 1) {\n\t\t\tcout << ans << endl;\n\t\t}\n\t\telse if (cnt == 0) {\n\t\t\tcout << \"none\" << endl;\n\t\t}\n\t\telse {\n\t\t\tcout << \"ambiguous\" << endl;\n\t\t}\n/*\n\t\tvector<int> l = v, r = v;\n\t\tREP(i,N) {\n\t\t\tif (s[i] == \"x\") {\n\t\t\t\tl[i] = -inf;\n\t\t\t\tr[i] = inf;\n\t\t\t}\n\t\t}\n\t\tREP(i, N) {\n\t\t\tif (s[i] == \"x\") {\n\t\t\t\tif (i % 2 == 0) {\n\t\t\t\t\tr[i] = max(r[i], r[i-1]-1);\n\t\t\t\t}\n\t\t\t\telse if (i % 2 == 1) {\n\t\t\t\t}\n\t\t\t}\n\t\t}\n*/\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <string>\n#include <sstream>\n\nusing namespace std;\n\nint main() {\n\tint n;\n\tstring input;\n\n\twhile (cin >> n) {\n\t\tvector<string> v;\n\t\tstring result = \"0\";\n\t\tstring prev = \"1000000001\";\n\t\tint up = 1000000010;\n\t\tint low = -1000000010;\n\n\t\tif (n == 0) {\n\t\t\tbreak;\n\t\t}\n\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tcin >> input;\n\t\t\tv.push_back(input);\n\t\t}\n\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tif (v[i] == \"x\") {\n\t\t\t\tif (prev == \"x\") {\n\t\t\t\t\tresult = \"none\";\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\telse if (i % 2 == 1) {\n\t\t\t\t\tlow = max(low, (int)atoi(prev.c_str()));\n\t\t\t\t\tif (i != n - 1) {\n\t\t\t\t\t\tlow = max(low, (int)atoi(v[i + 1].c_str()));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (i % 2 == 0) {\n\t\t\t\t\tup = min(up, (int)atoi(prev.c_str()));\n\t\t\t\t\tif (i != n - 1) {\n\t\t\t\t\t\tup = min(up, (int)atoi(v[i + 1].c_str()));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (i % 2 == 1 && prev != \"x\" && (int)atoi(v[i].c_str()) <= (int)atoi(prev.c_str())) {\n\t\t\t\tresult = \"none\";\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\telse if (i % 2 == 0 && prev != \"x\" && (int)atoi(v[i].c_str()) >= (int)atoi(prev.c_str())) {\n\t\t\t\tresult = \"none\";\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tprev = v[i];\n\n\t\t\tif (up - low < 2) {\n\t\t\t\tresult = \"none\";\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (result != \"none\" && up - low > 2) {\n\t\t\tresult = \"ambiguous\";\n\t\t}\n\t\telse if (result != \"none\" && up - low == 2) {\n\t\t\tresult = to_string((up + low) / 2);\n\t\t}\n\n\t\tcout << result << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <vector>\n#include <set>\n#include <map>\n#include <queue>\n#include <deque>\n#include <stack>\n#include <algorithm>\n#include <cstring>\n#include <functional>\n#include <cmath>\n#include <sstream>\nusing namespace std;\n#define rep(i,n) for(int i=0;i<(n);++i)\n#define rep1(i,n) for(int i=1;i<=(n);++i)\n#define all(c) (c).begin(),(c).end()\n#define fs first\n#define sc second\n#define pb push_back\n#define show(x) cout << #x << \" \" << x << endl\nint n,a[1000];\nint To_int(string s){\n\tistringstream is(s);\n\tint ret;\n\tis>>ret;\n\treturn ret;\n}\nstring To_string(int a){\n\tostringstream os;\n\tos << a;\n\treturn os.str();\n}\nstring solve(){\n\trep(i,n){\n\t\tstring s;\n\t\tcin>>s;\n\t\tif(s[0]=='x') a[i]=-1;\n\t\telse a[i]=To_int(s);\n\t}\n\trep(i,n-1) if(a[i]==a[i+1]) return \"none\";\n\trep(i,n-1){\n\t\tif(a[i]!=-1&&a[i+1]!=-1){\n\t\t\tif(i%2==0&&a[i]>=a[i+1]) return \"none\";\n\t\t\tif(i%2==1&&a[i]<=a[i+1]) return \"none\";\n\t\t}\n\t}\n\tint ub=1e9+4,lb=-1e9-4;\n\trep(i,n){\n\t\tif(a[i]==-1){\n\t\t\tif(i>0){\n\t\t\t\tif(i%2==1) lb=max(lb,a[i-1]+1);\n\t\t\t\telse ub=min(ub,a[i-1]-1);\n\t\t\t}\n\t\t\tif(i<n-1){\n\t\t\t\tif(i%2==1) lb=max(lb,a[i+1]+1);\n\t\t\t\telse ub=min(ub,a[i+1]-1);\n\t\t\t}\n\t\t}\n\t}\n\tif(ub<lb) return \"none\";\n\tif(ub==lb) return To_string(ub);\n\treturn \"ambiguous\";\n}\nint main(){\n\twhile(true){\n\t\tcin>>n;\n\t\tif(n==0) break;\n\t\tcout<<solve()<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<vector>\n#include<cstdio>\n#include<sstream>\n#include<algorithm>\n#include<cmath>\n#include<map>\n#include<functional>\nusing namespace std;\nint stoi(string x){stringstream ss;ss<<x;int tmp;ss>>tmp;return tmp;}\nstring itos(int x){stringstream ss;ss<<x;return ss.str();}\nconst int INF=1111111111;\nint main(){\n\tint n;\n\tint dx[1000];\n\tfor(int i=0;i<500;i++)dx[i]=i;\n\tfor(int i=500;i<1000;i++)dx[i]=500-i;\n\tcin>>n;\n\tvector<int>ta(0);\n\tvector<int>ans(0);\n\tfor(int i=0;i<n;i++){\n\tstring tmp;\n\tcin>>tmp;\n\tif(tmp==\"x\")ta.push_back(INF);\n\telse ta.push_back(stoi(tmp));\n\t}\nfor(int i=0;i<ta.size();i++){\nfor(int kkk=0;kkk<1000;kkk++){\nif(ta[i]==INF)continue;\nint now=ta[i]+dx[kkk];\nbool f=1;\n\tfor(int j=0;j<ta.size();j++){\n\t\tif(ta[j]!=INF)continue;\n\t\tif((j+1)%2==0){//両端より大きい\n\t\t\tif(j==0&&now<=ta[j+1])f=0;\n\t\t\telse if(j==ta.size()-1&&now<=ta[j-1])f=0;\n\t\t\telse if(now<=ta[j+1]||now<=ta[j-1])f=0;\n\t\t}\nelse {\n\tif(j==0&&now>=ta[j+1])f=0;\n\telse if(j==ta.size()-1&&now>=ta[j-1])f=0;\n\telse if(now>=ta[j+1]||now>=ta[j-1])f=0;\n}//endelse\n}//endfor\nif(f){\nbool tf=1;\nfor(int k=0;k<ans.size();k++)if(now==ans[k])tf=0;\nif(tf)ans.push_back(now);\n}\n}\n}\n\tbool tf=1;\n\tfor(int i=0;i<ta.size();i++)if(ta[i]==INF)tf=0;\n\tif(tf){\n\tbool af=1;\n\tfor(int j=0;j<ta.size();j++){\n\tint now=ta[j];\n\tif((j+1)%2==0){\n\t\tif(j==0&&now<=ta[j+1])af=0;\n\t\telse if(j==ta.size()-1&&now<=ta[j-1])af=0;\n\t\telse if(now<=ta[j+1]||now<=ta[j-1])af=0;\n\t\t}\nelse {\n\tif(j==0&&now>=ta[j+1])af=0;\n\telse if(j==ta.size()-1&&now>=ta[j-1])af=0;\n\telse if(now>=ta[j+1]||now>=ta[j-1])af=0;\n}//endelse\n}//endfor\n\tif(af)cout<<\"ambiguous\"<<endl;\n\telse cout<<\"none\"<<endl;\n\t}\n\telse {\n\tif(ans.size()==1)cout<<ans[0]<<endl;\n\telse if(ans.size()==0)cout<<\"none\"<<endl;\n\telse cout<<\"ambiguous\"<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nconstexpr int UNKNOWN=INT_MIN;\n\nvoid solve(vector<int> ss)\n{\n\tint n=ss.size();\n\tfor(int i=0;i<n-1;i++){\n\t\tif(ss[i]==UNKNOWN && ss[i+1]==UNKNOWN){\n\t\t\tcout<<\"none\"<<endl;\n\t\t\treturn;\n\t\t}\n\t\tif(ss[i]!=UNKNOWN && ss[i+1]!=UNKNOWN){\n\t\t\tif((i%2==0 && ss[i]>=ss[i+1]) || (i%2==1 && ss[i]<=ss[i+1])){\n\t\t\t\tcout<<\"none\"<<endl;\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t}\n\tint mn=INT_MIN,mx=INT_MAX;\n\tfor(int i=0;i<n;i+=2) if(ss[i]==UNKNOWN){\n\t\tif(0<=i-1) mx=min(mx,ss[i-1]-1);\n\t\tif(i+1<n)  mx=min(mx,ss[i+1]-1);\n\t}\n\tfor(int i=1;i<n;i+=2) if(ss[i]==UNKNOWN){\n\t\tif(0<=i-1) mn=max(mn,ss[i-1]+1);\n\t\tif(i+1<n)  mn=max(mn,ss[i+1]+1);\n\t}\n\tif(mn==mx)\n\t\tcout<<mn<<endl;\n\telse if(mn>mx)\n\t\tcout<<\"none\"<<endl;\n\telse\n\t\tcout<<\"ambiguous\"<<endl;\n}\n\nint main()\n{\n\tfor(int n;cin>>n && n;){\n\t\tvector<int> ss(n);\n\t\tfor(int i=0;i<n;i++){\n\t\t\tstring s; cin>>s;\n\t\t\tss[i]=s==\"x\"?UNKNOWN:atoi(s.c_str());\n\t\t}\n\t\tsolve(ss);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\nusing namespace std;\nusing ll = long long;\n\nconstexpr ll X = -1e13;\n\nint main() {\n    int n;\n    while(cin >> n, n) {\n        vector<ll> v(n);\n        ll lower = -1e10, upper=1e10;\n        for(int i=0; i<n; ++i) {\n            string str;\n            cin >> str;\n            if(str == \"x\") {\n                v[i] = X;\n            } else {\n                v[i] = stoi(str);\n            }\n        }\n\n        bool none = false;\n        for(int i=0; i<v.size()-1; ++i) {\n            if(i % 2 == 0) { // odd small\n                if(v[i] == X) {\n                    if(v[i+1] == X) {\n                        none = true;\n                        break;\n                    }\n                    upper = min(upper, v[i+1] - 1);\n                } else {\n                    if(v[i+1] == X) {\n                        lower = max(lower, v[i]+1);\n                    } else if(v[i] >= v[i+1]) {\n                        none = true;\n                        break;\n                    }\n                }\n            } else {\n                if(v[i] == X) {\n                    if(v[i+1] == X) {\n                        none = true;\n                        break;\n                    }\n                    lower = max(lower, v[i+1] + 1);\n                } else {\n                    if(v[i+1] == X) {\n                        upper = min(upper, v[i]-1);\n                    } else if(v[i] <= v[i+1]) {\n                        none = true;\n                        break;\n                    }\n                }\n            }\n        }\n        \n        if(none || lower > upper) {\n            cout << \"none\" << endl;\n        } else if(lower == upper) {\n            cout << lower << endl;\n        } else {\n            cout << \"ambiguous\" << endl;\n        }\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i, a, n) for(int i = a; i < n; i++)\n#define repb(i, a, b) for(int i = a; i >= b; i--)\n#define all(a) a.begin(), a.end()\n#define o(a) cout << a << endl\n#define int long long\n#define first fi;\n#define second se;\nusing namespace std;\ntypedef pair<int, int> P;\n\nint change_to_i(string s){\n    stringstream ss; int k;\n    ss<<s; ss>>k;\n    return k;\n}\nconst int INF = 1e12;\n\nsigned main(){\n    int n;\n    while(cin >> n, n){\n        string s;\n        vector<int> d(n);\n        rep(i, 0, n){\n            cin >> s;\n            if(s == \"x\") d[i] = INF;\n            else d[i] = change_to_i(s);\n            // cout << d[i] << \" \";\n        }\n        // cout << endl;\n        bool f = true;\n        int l = -1e10, r = 1e10;\n        rep(i, 0, n){\n            if(d[i] == INF){\n                if(i - 1 >= 0 && d[i - 1] == INF) f = false;\n                if(i + 1 < n && d[i + 1] == INF) f = false;\n                if((i + 1) % 2){\n                    if(i - 1 >= 0) r = min(r, d[i - 1] - 1);\n                    if(i + 1 < n) r = min(r, d[i + 1] - 1);\n                }else{\n                    if(i - 1 >= 0) l = max(l, d[i - 1] + 1);\n                    if(i + 1 < n) l = max(l, d[i + 1] + 1);\n                }\n            // cout << i << \" \" <<  l << \" \" << r << endl;\n                \n            }else{\n                if((i + 1) % 2){\n                    if(i - 1 >= 0 && d[i - 1] != INF && d[i - 1] <= d[i]) f = false;\n                    if(i + 1 < n && d[i + 1] != INF && d[i] >= d[i + 1]) f = false;\n                }else{\n                    if(i - 1 >= 0 && d[i - 1] != INF &&  d[i - 1] >= d[i]) f = false;\n                    if(i + 1 < n && d[i + 1] != INF && d[i] <= d[i + 1]) f = false;\n                }\n            }\n        }\n        // cout << l << \" \" << r << endl;\n        if(l > r) f = false;\n        if(!f) cout << \"none\" << endl;\n        else if(l == r) cout << l << endl;\n        else cout << \"ambiguous\" << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\n#include <cmath>\n#include <math.h>\nusing namespace std;\nint main(){\n\tint n;\n\tstring s(\"0123456789\");\n\twhile(cin>>n){\n\t\tif(n==0) break;\n\t\tint x[n+1],da[n+1],noneflg=0;\n\t\tx[0]=0;\n\t\tstring a[n+1];\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tx[i]=0;\n\t\t\tda[i]=0;\n\t\t\tcin>>a[i];\n\t\t\tif(a[i]==\"x\"){\n\t\t\t\tx[i]=1;\n\t\t\t\tif(x[i-1]==1){\n\t\t\t\t\tnoneflg=1;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tint len=a[i].size();\n\t\t\t\tfor(int j=0;j<len;j++){\n\t\t\t\t\tfor(int k=0;k<10;k++){\n\t\t\t\t\t\tif(a[i][len-1-j]==s[k]){\n\t\t\t\t\t\t\tda[i]=da[i]+pow(10,j)*k;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(a[i][0]=='-'){\n\t\t\t\t\tda[i]=-da[i];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor(int i=1;i<=n-1;i++){\n\t\t\tif(da[i]!=0&&da[i+1]!=0){\n\t\t\t\tif(i%2==0){\n\t\t\t\t\tif(da[i]<=da[i+1]){\n\t\t\t\t\t\tnoneflg=1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(da[i]>=da[i+1]){\n\t\t\t\t\t\tnoneflg=1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ue=pow(10,9)+1,shita=-ue;\n\t\tfor(int i=2;i<=n-1;i++){\n\t\t\tif(x[i]==1){\n\t\t\t\tif(i%2==0){\n\t\t\t\t\tif(x[i-1]==0) shita=max(shita,da[i-1]+1);\n\t\t\t\t\tif(x[i+1]==0) shita=max(shita,da[i+1]+1);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(x[i-1]==0) ue=min(ue,da[i-1]-1);\n\t\t\t\t\tif(x[i+1]==0) ue=min(ue,da[i+1]-1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(x[1]==1&&x[2]==0){\n\t\t\tue=min(ue,da[2]-1);\n\t\t}\n\t\tif(x[n]==1&&x[n-1]==0){\n\t\t\tif(n%2==0){\n\t\t\t\tshita=max(shita,da[n-1]+1);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tue=min(ue,da[n-1]-1);\n\t\t\t}\n\t\t}\n\t\tif(noneflg==1){\n\t\t\tcout<<\"none\"<<endl;\n\t\t}\n\t\telse if(ue==shita){\n\t\t\tcout<<ue<<endl;\n\t\t}\n\t\telse if(ue>shita){\n\t\t\tcout<<\"ambiguous\"<<endl;\n\t\t}\n\t\telse if(ue<shita){\n\t\t\tcout<<\"none\"<<endl;\n\t\t}\n\t}\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n#include<string>\nusing namespace std;\n \n#define INF 1e10\n#define int long long\n \nsigned main(){\n    int n,i;\n    while(1){\n        cin>>n;\n        if(n==0)break;\n        vector<string> s(n);\n        for(i=0;i<n;i++)cin>>s[i];\n         \n        int big=-INF;\n        int small=INF;\n         \n        for(i=0;i<n-1;i++)\n            if(s[i]==\"x\"&&s[i+1][0]<='9'&&s[i+1][0]>='0'){\n                if(i%2)big=max(big,(long long)stoi(s[i+1])+1);\n                if(i%2==0)small=min(small,(long long)stoi(s[i+1])-1);\n            }else if(s[i+1]==\"x\"&&s[i][0]<='9'&&s[i][0]>='0'){\n                if(i%2)small=min(small,(long long)stoi(s[i])-1);\n                if(i%2==0)big=max(big,(long long)stoi(s[i])+1);\n            }else if(s[i][0]<='9'&&s[i][0]>='0'&&s[i+1][0]<='9'&&s[i+1][0]>='0'){\n                if(i%2 && stoi(s[i])<=stoi(s[i+1])){\n                    cout<<\"none\"<<endl;\n                    goto END;\n                }\n                if(i%2==0 && stoi(s[i])>=stoi(s[i+1])){\n                    cout<<\"none\"<<endl;\n                    goto END;\n                }\n            }else{\n                cout<<\"none\"<<endl;\n                goto END;\n            }\n         \n         \n       // cout<<\"ans\"<<big<<\" \"<<small<<endl;\n        if(big==small)cout<<big<<endl;\n        else if(big<small)cout<<\"ambiguous\"<<endl;\n        else cout<<\"none\"<<endl;\n    END:;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define fi first\n#define se second\n#define repl(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define repr(i,n) for(int i=(int)(n-1);i>=0;i--)\n#define rep(i,n) repl(i,0,n)\n#define each(itr,v) for(auto itr:v)\n#define pb(s) push_back(s)\n#define all(x) (x).begin(),(x).end()\n#define dbg(x) cout << #x\" = \" << x << endl\n#define print(x) cout << x << endl\n#define maxch(x,y) x=max(x,y)\n#define minch(x,y) x=min(x,y)\n#define uni(x) x.erase(unique(all(x)),x.end())\n#define exist(x,y) (find(all(x),y)!=x.end())\n#define bcnt(x) bitset<32>(x).count()\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int, int> P;\ntypedef pair<P, int> PPI;\ntypedef pair<int, P> PIP;\ntypedef pair<ll, ll> PL;\ntypedef pair<P, ll> PPL;\ntypedef set<int> S;\n\n#define INF INT_MAX/3\n#define MAX_N 1000000000\n\n\nint main(){\n    cin.sync_with_stdio(false);\n    int n;\n    while(cin >> n, n) {\n        string a[n];\n        rep(i, n) cin >> a[i];\n        int maxi = MAX_N + 2, mini = -MAX_N - 2;\n        rep(i, n) {\n            if (a[i][0] == 'x') {\n                if (0 < i) {\n                    if (a[i - 1][0] == 'x') {\n                        maxi = -MAX_N, mini = MAX_N;\n                        break;\n                    }\n                    if (i % 2) maxch(mini, stoi(a[i - 1]) + 1);\n                    else minch(maxi, stoi(a[i - 1]) - 1);\n                }\n                if (i < n - 1) {\n                    if (a[i + 1][0] == 'x') {\n                        maxi = -MAX_N, mini = MAX_N;\n                        break;\n                    }\n                    if (i % 2) maxch(mini, stoi(a[i + 1]) + 1);\n                    else minch(maxi, stoi(a[i + 1]) - 1);\n                }\n            } else {\n                int p = stoi(a[i]);\n                if (0 < i && a[i - 1][0] != 'x') {\n                    int q = stoi(a[i - 1]);\n                    if ((i % 2 && p <= q) || (!(i % 2) && p >= q)) {\n                        maxi = -MAX_N, mini = MAX_N;\n                        break;\n                    }\n                }\n                if (i < n - 1 && a[i + 1][0] != 'x') {\n                    int q = stoi(a[i + 1]);\n                    if ((i % 2 && p <= q) || (!(i % 2) && p >= q)) {\n                        maxi = -MAX_N, mini = MAX_N;\n                        break;\n                    }\n                }\n            }\n        }\n\n        if (maxi < mini) cout << \"none\" << endl;\n        else if (maxi > mini) cout << \"ambiguous\" << endl;\n        else cout << maxi << endl;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define int long long   // <-----!!!!!!!!!!!!!!!!!!!\n\n#define rep(i,n) for (int i=0;i<(n);i++)\n#define rep2(i,a,b) for (int i=(a);i<(b);i++)\n#define rrep(i,n) for (int i=(n)-1;i>=0;i--)\n#define rrep2(i,a,b) for (int i=(b)-1;i>=(a);i--)\n#define all(a) (a).begin(),(a).end()\n\ntypedef long long ll;\ntypedef pair<int, int> P;\ntypedef tuple<int, int, int> TUPLE;\ntypedef vector<int> V;\ntypedef vector<V> VV;\ntypedef vector<VV> VVV;\n\nint sToInt(string s) {\n    int ret = 0;\n    rep(i, s.size()) {\n        ret *= 10;\n        ret += s[i] - '0';\n    }\n    return ret;\n}\n\nvoid solve(int N) {\n    const int INF = 1e12;\n    V a(N + 2);\n    a[0] = INF;\n    a[N + 1] = ((N + 1) % 2 ? -1 : 1) * INF;\n    V dead(N + 2, false);\n    bool exist_x = false;\n\n    rep2(i, 1, N + 1) {\n        string s;\n        cin >> s;\n        if (s[0] == 'x') {\n            dead[i] = true;\n            exist_x = true;\n        } else {\n            a[i] = sToInt(s);\n        }\n    }\n\n    rep2(i, 1, N + 1) {\n        if (!dead[i] && !dead[i + 1]) {\n            if (i % 2 == 1 && !(a[i] < a[i + 1])) {\n                cout << \"none\" << endl;\n                return;\n            }\n            if (i % 2 == 0 && !(a[i] > a[i + 1])) {\n                cout << \"none\" << endl;\n                return;\n            }\n        }\n        if (dead[i] && dead[i + 1]) {\n            cout << \"none\" << endl;\n            return;\n        }\n    }\n\n    if (!exist_x) {\n        cout << \"ambiguous\" << endl;\n        return;\n    }\n\n    int lb = -INF;\n    int ub = INF;\n    rep2(i, 1, N + 1) {\n        if (dead[i]) {\n            if (i % 2 == 1) {\n                ub = min(ub, a[i - 1] - 1);\n                ub = min(ub, a[i + 1] - 1);\n            }\n            else {\n                lb = max(lb, a[i - 1] + 1);\n                lb = max(lb, a[i + 1] + 1);\n            }\n        }\n    }\n\n    if (lb == ub)       cout << lb << endl;\n    else if (lb > ub)   cout << \"none\" << endl;\n    else                cout << \"ambiguous\" << endl;\n\n}\n\n\nsigned main() {\n    std::ios::sync_with_stdio(false);\n    std::cin.tie(0);\n\n    int N;\n    while (cin >> N, N) {\n        solve(N);\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 1000000100\n\n#include <iostream>\n#include <cstdio>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n  \nusing namespace std;\n  \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P> PP;\n  \nstatic const double EPS = 1e-8;\n\n\nbool check(vector<int> signals){\n  bool is_none = false;\n  for(int i=0;i<signals.size();i++){\n    int lhs = i - 1;\n    int rhs = i + 1;\n    if(lhs >= 0 && signals[lhs] != INF){\n      if((i + 1) % 2 == 0){\n        if(signals[i] < signals[lhs]){\n          is_none = true;\n          break;\n        }\n      }\n      else{\n        if(signals[i] > signals[lhs]){\n          is_none = true;\n          break;\n        }\n      }\n    }\n    if(rhs < signals.size() && signals[rhs] != INF){\n      if((i + 1) % 2 == 0){\n        if(signals[i] < signals[rhs]){\n          is_none = true;\n          break;\n        }\n      }\n      else{\n        if(signals[i] > signals[rhs]){\n          is_none = true;\n          break;\n        }\n      }\n    }\n  }\n  return !is_none;\n}\n\nint main(){\n  int N;\n  while(~scanf(\"%d\",&N)){\n    if(N == 0) break;\n\n    vector<int> signals;\n    queue<int> unknown;\n\n    bool has_x = false;\n    bool has_num = false;\n    for(int i=0; i < N; i++){\n      char signal[12];\n      int num;\n      scanf(\"%s\",signal);\n      if(signal[0] != 'x'){\n        num = atoi(signal);\n        has_num = true;\n      }\n      else{\n        num = INF;\n        has_x = true;\n        unknown.push(i);\n      }\n      signals.push_back(num);\n    }\n    \n    if(has_num && has_x){\n      //x x 1 x\n      int lower = -INF;\n      int upper = INF;\n      \n      while(!unknown.empty()){\n        int idx = unknown.front();\n        unknown.pop();\n        int lhs = idx - 1;\n        int rhs = idx + 1;\n        \n        //even\n        if((idx+1) % 2 == 0){\n          if(lhs >= 0 && signals[lhs] != INF) {\n            lower = max(signals[lhs]+1,lower);\n          }\n          if(rhs < signals.size() && signals[rhs] != INF){\n            lower = max(signals[rhs]+1,lower);\n          }\n        }\n        //odd\n        else{\n          if(rhs < signals.size() && signals[rhs] != INF){\n            upper = min(signals[rhs]-1,upper);\n          }\n          if(lhs >= 0 && signals[lhs] != INF){\n            upper = min(signals[lhs]-1,upper);\n          }\n        }\n      }\n\n      if(upper > lower){\n        printf(\"ambiguous\\n\");\n      }\n      else if(upper == lower){\n        for(int i=0;i<signals.size();i++){\n          if(signals[i] == INF){\n            signals[i] = lower;\n          }\n        }\n        bool isok = check(signals);\n        if(isok){\n          printf(\"%d\\n\",lower);\n        }\n        else{\n          printf(\"none\\n\");\n        }\n      }\n      else if(upper < lower){\n        printf(\"none\\n\");\n      }\n    }\n\n    else if(!has_num && has_x){\n      //x x x\n      printf(\"none\\n\");\n    }\n    else if(has_num && !has_x){\n      //1 2 3\n      \n      bool isok = check(signals);\n      printf(\"%s\\n\", !isok ? \"none\" : \"ambiguous\");\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define REP(i, n) for(int i = 0; i < (int) (n); i++)\n#define ALL(v) (v).begin(), (v).end()\n#define INF (1e9+7)\n\nusing namespace std;\n\nint main(){\n  int n;\n  while(cin >> n and n){\n    vector<int> data(n);\n    REP(i, n){\n      string imput; cin >> imput;\n      if(imput == \"x\") data[i] = i%2 ? INF : -INF;\n      else data[i] = stoi(imput);\n    }\n    bool enable = true;\n    int maxim = INF;\n    int minim = -INF;\n    for(int i=1; i<n-1; i+=2){\n      if(data[i-1] == -INF and data[i] == INF) enable = false;\n      if(data[i-1] >= data[i]) enable = false;\n      if(!enable) break;\n      if(data[i-1] == -INF or data[i+1] == -INF) maxim = min(maxim, data[i]-1);\n      if(data[i] == INF) minim = max(max(data[i-1]+1, data[i+1]+1), minim);\n    }\n    if(n%2 == 0){\n      if(data[n-1] == INF and data[n-2] == -INF) enable = false;\n      if(data[n-1] <= data[n-2]) enable = false;\n      if(data[n-1] == INF) minim = max(minim, data[n-2]+1);\n      if(data[n-2] == -INF) maxim = min(maxim, data[n-1]-1);\n    }\n    if(!enable or maxim < minim) cout << \"none\" << endl;\n    else if(maxim > minim) cout << \"ambiguous\" << endl;\n    else cout << maxim << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define LOG(...) fprintf(stderr,__VA_ARGS__)\n//#define LOG(...)\n#define FOR(i,a,b) for(int i=(int)(a);i<(int)(b);++i)\n#define REP(i,n) for(int i=0;i<(int)(n);++i)\n#define ALL(a) (a).begin(),(a).end()\n#define RALL(a) (a).rbegin(),(a).rend()\n#define EXIST(s,e) ((s).find(e)!=(s).end())\n#define SORT(c) sort(ALL(c))\n#define RSORT(c) sort(RALL(c))\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef vector<bool> vb;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\ntypedef vector<vb> vvb;\ntypedef vector<vi> vvi;\ntypedef vector<vll> vvll;\ntypedef pair<int,int> pii;\ntypedef pair<ll,ll> pll;\n\nint main() {\n    int n;\n    while(cin >> n, n){\n        string preinput;\n        string input;\n\n        bool no = 0;\n        bool sm_bg = true;\n\n        int min_n = -2000000000;\n        int max_n = +2000000000;\n\n        cin >> preinput;\n        for(int i = 1;i < n; i++){\n            cin >> input;\n            if(no) continue;\n            if(preinput == input){\n                no = true;\n                continue;\n            }\n            if(input == \"x\"){\n                int comp = atoi(preinput.c_str());\n                if(sm_bg){\n                    min_n = max(comp + 1, min_n);\n                }else {\n                    max_n = min(comp - 1, max_n);\n                }\n            }else if(preinput == \"x\"){\n                int comp = atoi(input.c_str());\n                if(!sm_bg){\n                    min_n = max(comp + 1, min_n);\n                }else {\n                    max_n = min(comp - 1, max_n);\n                }\n            }else{\n                int a = atoi(preinput.c_str());\n                int b = atoi(input.c_str());\n                if(sm_bg){\n                    if(a > b){\n                        no = true;\n                        continue;\n                    }\n                }else{\n                    if(a < b){\n                        no = true;\n                        continue;\n                    }\n                }\n            }\n\n            if(max_n < min_n){\n                no = true;\n                continue;\n            }\n\n\n            preinput = input;\n            sm_bg = !sm_bg;\n        }\n\n        // printf(\"%d %d \\n\", min_n, max_n);\n        if(no){\n            cout << \"none\" << endl;\n        }else if (min_n == max_n){\n            cout << min_n << endl;\n        }else{\n            cout << \"ambiguous\" << endl;\n        }\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define MAX 1002\n#define INF 1e9+1\n\nint main(){\n  int N,arr[MAX];\n  string str;\n  while(cin >> N, N){\n    bool x[MAX] = {false};\n    arr[0] = INT_MAX;\n    arr[N+1] = (N % 2 ? INT_MAX : INT_MIN);  \n    bool can = true;\n    for(int i = 1 ; i <= N ; i++){\n      cin >> str;\n      if(str[0] == 'x'){\n        x[i] = true;\n        arr[i] = INT_MAX;\n      }else{\n        stringstream ss(str);\n        int x; ss >> x;\n        arr[i] = x;\n      }\n      if(i > 0){\n        if(x[i-1] && x[i]){\n          can = false;\n        }\n      }\n    }\n    if(!can){\n      cout << \"none\" << endl;\n      continue;\n    }else if(count(x+1,x+N+1,true) == 0){\n      bool check = false;\n      for(int i = 1 ; i <= N ; i++){\n        if(i % 2){\n          if(!(arr[i-1] > arr[i] && arr[i+1] > arr[i])){\n            check = true;\n            break;\n          }\n        }else{\n          if(!(arr[i-1] < arr[i] && arr[i+1] < arr[i])){\n            check = true;\n            break;\n          }\n        }\n      }\n      cout << (check ? \"none\" : \"ambiguous\") << endl;\n      continue;\n    }\n\n    bool found = false;\n    int l = -1e9-2,r = 1e9+2, m,ans;\n    while(r - l >= 0){\n      m = (l + r) / 2;\n      bool small = false, large = false;\n      for(int i = 1 ; i <= N ; i++){\n        int bv = (x[i-1] ? m : arr[i-1]);\n        int cv = (x[i] ? m : arr[i]);\n        int nv = (x[i+1] ? m : arr[i+1]);\n        if(!x[i]) continue;\n        if(i % 2){\n          if(!(bv > cv && nv > cv)){\n            small = true;\n            break;\n          }\n        }else{\n          if(!(bv < cv && nv < cv)){\n            large = true;\n            break;\n          }\n        }\n      }\n      if(!small && !large){\n        found = true;\n        break;\n      }else if(small){\n        r = m-1;\n      }else{\n        l = m+1;\n      }\n    }\n\n    if(!found){\n      cout << \"none\" << endl;\n    }else{\n      found = false;\n      ans = m;\n      l = -1e9-5, r = ans-1;\n      while(r - l > 0){\n        m = (l + r) / 2;\n        bool small = false, large = false;\n        for(int i = 1 ; i <= N ; i++){\n          int bv = (x[i-1] ? m : arr[i-1]);\n          int cv = (x[i] ? m : arr[i]);\n          int nv = (x[i+1] ? m : arr[i+1]);\n          if(!x[i]) continue;\n          if(i % 2){\n            if(!(bv > cv && nv > cv)){\n              small = true;\n              break;\n            }\n          }else{\n            if(!(bv < cv && nv < cv)){\n              large = true;\n              break;\n            }\n          }\n        }\n        if(!small && !large){\n          found = true;\n          break;\n        }else if(small){\n          r = m-1;\n        }else{\n          l = m+1;\n        }\n      }\n      l = ans+1, r = 1e9+5;\n      while(r - l > 0){\n        m = (l + r) / 2;\n        bool small = false, large = false;\n        for(int i = 1 ; i <= N ; i++){\n          int bv = (x[i-1] ? m : arr[i-1]);\n          int cv = (x[i] ? m : arr[i]);\n          int nv = (x[i+1] ? m : arr[i+1]);\n          if(!x[i]) continue;\n          if(i % 2){\n            if(!(bv > cv && nv > cv)){\n              small = true;\n              break;\n            }\n          }else{\n            if(!(bv < cv && nv < cv)){\n              large = true;\n              break;\n            }\n          }\n        }\n        if(!small && !large){\n          found = true;\n          break;\n        }else if(small){\n          r = m-1;\n        }else{\n          l = m+1;\n        }\n      }\n      if(found){\n        cout << \"ambiguous\" << endl;\n      }else{\n        cout << ans << endl;\n      }\n    }\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define range(i,a,b) for(int i = (a); i < (b); i++)\n#define rep(i,b) for(int i = 0; i < (b); i++)\n#define all(a) (a).begin(), (a).end()\n#define debug(x) cout << \"debug \" << x << endl;\nconst int INF = 2000000000;\nusing namespace std;\n\n//?????????????????°???????????????\nint toNum(string str, bool minus){\n    int num = 0;\n    rep(i,str.size()){\n        num *= 10;\n        num += str[i] - '0';\n    }\n    if(minus) num*=-1;\n    return num;\n}\n\nvoid checkMinus(int a[1001], string s[1001], int n){\n    rep(i,n){\n        if(s[i][0] == '-'){\n            a[i] = toNum(s[i].substr(1,s[i].size() - 1), 1);\n        }else if(s[i][0] == 'x') {\n            a[i] = INF;\n        }else{\n            a[i] = toNum(s[i], 0);\n        }\n    }\n}\n\nbool isDoubleX(int a[1001], int n){\n    rep(i,n - 1){\n        if(a[i] == INF && a[i + 1] == INF) return 1;\n    }\n    return 0;\n}\n\nbool isInpossible(int a[1001], int n){\n    rep(i,n - 1){\n        if(a[i + 1] == INF){\n            i++;\n            continue;\n        } else{\n            if(i % 2){\n                if(a[i] <= a[i + 1]) return 1;\n            }else{\n                if(a[i] >= a[i + 1]) return 1;\n            }\n        }\n    }\n    return 0;\n}\n\nbool isNoneX(int a[1001], int n){\n    bool c = true;\n    rep(i,n){\n        if(a[i] == INF) c = false;\n    }\n    return c;\n}\n\nint main(){\n    int n;\n    while(cin >> n, n){\n        int a[1001];\n        string s[1001];\n        int ans[2] = {0,INF};\n        rep(i,n) cin >> s[i];\n        checkMinus(a, s, n);\n\n        if(isDoubleX(a,n) || isInpossible(a,n)){\n            cout << \"none\" << endl;\n            continue;\n        }else if(isNoneX(a,n)){\n            cout << \"ambiguous\" << endl;\n            continue;\n        }else{\n            rep(i,n){\n                if(a[i] == INF && i != 0 && i != n - 1){\n                    if(i % 2) a[0] = max(max(a[i - 1], a[i + 1]), a[0]);\n                    else a[1] = min(min(a[i - 1], a[i + 1]), a[1]);\n                }else if(a[i] == INF){\n                    if(i % 2) a[0] = max(a[0], a[i + 1]);\n                    else a[1] = min(a[1], a[i - 1]);\n                }\n            }\n            //cout << a[0] << ' '  << a[1] << endl;\n            //if(a[0] == 1000000000 || a[1] == -10000000000) cout << \"none\" << endl;\n            if(a[1] - a[0] == 2) cout << a[1] - 1 << endl;\n            else if(a[1] - a[0] > 2) cout << \"ambiguous\" << endl;\n            else cout << \"none\" << endl;\n        }\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <iomanip>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <numeric>\n#include <bitset>\n#include <cmath>\n\nstatic const int MOD = 1000000007;\nusing ll = long long;\nusing u32 = uint32_t;\nusing namespace std;\n\ntemplate<class T> constexpr T INF = ::numeric_limits<T>::max() / 32 * 15 + 208;\n\nint main() {\n    int n;\n    while(cin >> n, n){\n        int a = -INF<int>, b = INF<int>;\n        vector<int> v(n);\n\n        for (int i = 0; i < n; ++i) {\n            string s;\n            cin >> s;\n            if(s == \"x\"){\n                v[i] = INF<int>;\n            }else {\n                v[i] = stoi(s);\n            }\n        }\n        for (int i = 0; i < n-1; ++i) {\n            if(i%2 == 0){\n                if(v[i] == INF<int> && v[i+1] != INF<int>){\n                    b = min(b, v[i+1]-1);\n                }else if(v[i] != INF<int> && v[i+1] == INF<int>){\n                    a = max(a, v[i]+1);\n                }else if(v[i] != INF<int> && v[i+1] != INF<int>){\n                    if(v[i] >= v[i+1]) a = 1, b = 0;\n                } else {\n                    a = 1, b = 0;\n                }\n            }else {\n                if(v[i] == INF<int> && v[i+1] != INF<int>){\n                    a = max(a, v[i+1]+1);\n                }else if(v[i] != INF<int> && v[i+1] == INF<int>){\n                    b = min(b, v[i]-1);\n                }else if(v[i] != INF<int> && v[i+1] != INF<int>){\n                    if(v[i] <= v[i+1]) a = 1, b = 0;\n                } else {\n                    a = 1, b = 0;\n                }\n            }\n        }\n        if(a == b){\n            cout << a << \"\\n\";\n        }else if(a < b){\n            puts(\"ambiguous\");\n        }else {\n            puts(\"none\");\n        }\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i, a, n) for(int i = a; i < n; i++)\n#define repb(i, a, b) for(int i = a; i >= b; i--)\n#define all(a) a.begin(), a.end()\n#define o(a) cout << a << endl\n#define int long long\n#define first fi;\n#define second se;\nusing namespace std;\ntypedef pair<int, int> P;\n\nint change_to_i(string s){\n    stringstream ss; int k;\n    ss<<s; ss>>k;\n    return k;\n}\n\nsigned main(){\n    int n;\n    while(cin >> n, n){\n        string s;\n        vector<int> d(n);\n        rep(i, 0, n){\n            cin >> s;\n            if(s == \"x\") d[i] = -1;\n            else d[i] = change_to_i(s);\n            // cout << d[i] << \" \";\n        }\n        // cout << endl;\n        bool f = true;\n        int l = -1e10, r = 1e10;\n        rep(i, 0, n){\n            if(d[i] == -1){\n                if(i - 1 >= 0 && d[i - 1] == -1) f = false;\n                if(i + 1 < n && d[i + 1] == -1) f = false;\n                if((i + 1) % 2){\n                    if(i - 1 >= 0) r = min(r, d[i - 1] - 1);\n                    if(i + 1 < n) r = min(r, d[i + 1] - 1);\n                }else{\n                    if(i - 1 >= 0) l = max(l, d[i - 1] + 1);\n                    if(i + 1 < n) l = max(l, d[i + 1] + 1);\n                }\n            }else{\n                if((i + 1) % 2){\n                    if(i - 1 >= 0 && d[i - 1] != -1 && d[i - 1] < d[i]) f = false;\n                    if(i + 1 < n && d[i + 1] != -1 && d[i] > d[i + 1]) f = false;\n                }else{\n                    if(i - 1 >= 0 && d[i - 1] != -1 &&  d[i - 1] > d[i]) f = false;\n                    if(i + 1 < n && d[i + 1] != -1 && d[i] < d[i + 1]) f = false;\n                }\n            }\n        }\n        // cout << l << \" \" << r << endl;\n        if(l > r) f = false;\n        if(!f) cout << \"none\" << endl;\n        else if(l == r) cout << l << endl;\n        else cout << \"ambiguous\" << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nint main()\n{\n  int n;\n  while(cin >> n, n){    \n    string signal[1002];\n    signal[0] = to_string(1e9);\n    for(int i = 1; i <= n; i++) cin >> signal[i];\n    if(n % 2) signal[n + 1] = to_string(1e9);\n    else signal[n + 1] = to_string(-(1e9));\n    int less = -(1e9)-3, more = 1e9+3;    \n    for(int i = 1; i <= n; i++){\n      if(signal[i] == \"x\"){\n\tif(signal[i-1] == \"x\" || signal[i+1] == \"x\"){\n\t  less = 1e9+3, more = -(1e9)-3;\n\t  break;\n\t}\n\tif(i % 2) more = min(more, min(stoi(signal[i-1]), stoi(signal[i+1]))-1);\n\telse less = max(less, max(stoi(signal[i-1]), stoi(signal[i+1]))+1);\n      } else if(signal[i-1] != \"x\" && signal[i+1] != \"x\"){\n\tif(i%2 == 0 && (signal[i] <= signal[i-1] || signal[i] <= signal[i+1]) ||\n\t   i%2 == 1 && (signal[i] >= signal[i-1] || signal[i] >= signal[i+1])){\n\t  less = 1e9+3, more = -(1e9)-3;\n\t  break;\n\t}\n      }\n    }\n    if(less == more) cout << more << endl;\n    else if(more > less) cout << \"ambiguous\" << endl;\n    else if(more < less) cout << \"none\" << endl;\n  }  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <string>\n#include <cstdlib>\n#include <algorithm>\n#include <vector>\n#include <climits>\nusing namespace std;\n\n#define ALL(v) (v).begin(),(v).end()\n\nconst int unk = 1010101010;\n\nbool check(vector<int> v, int cand){\n\treplace(ALL(v), unk, cand);\n\tint n = v.size() - 2;\n\tfor(int i = 1; i <= n; ++i){\n\t\tif(i % 2){\n\t\t\tif(v[i] >= v[i - 1] || v[i] >= v[i + 1]){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\telse{\n\t\t\tif(v[i] <= v[i - 1] || v[i] <= v[i + 1]){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\treturn true;\n}\n\nint main(){\n\tint n;\n\tstring str;\n\twhile(cin >> n, n){\n\t\tvector<int> v(n + 2, unk);\n\t\tv[0] = INT_MAX;\n\t\tv.back() = (n % 2 ? INT_MAX : INT_MIN);\n\n\t\tvector<int> cand;\n\t\tfor(int i = 1; i <= n; ++i){\n\t\t\tcin >> str;\n\t\t\tif(str[0] != 'x'){\n\t\t\t\tv[i] = strtol(str.c_str(), 0, 10);\n\t\t\t\tfor(int j = 1; j <= 2; ++j){\n\t\t\t\t\tcand.push_back(v[i] + j);\n\t\t\t\t\tcand.push_back(v[i] - j);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tsort(ALL(cand));\n\t\tcand.erase(unique(ALL(cand)), cand.end());\n\n\t\tvector<int> ans;\n\t\tfor(int i = 0; i < cand.size(); ++i){\n\t\t\tif(check(v, cand[i])){\n\t\t\t\tans.push_back(cand[i]);\n\t\t\t\tif(ans.size() > 1){ break; }\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(ans.empty()){\n\t\t\tputs(\"none\");\n\t\t}\n\t\telse if(ans.size() == 1){\n\t\t\tprintf(\"%d\\n\", ans[0]);\n\t\t}\n\t\telse{\n\t\t\tputs(\"ambiguous\");\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <fstream>\n#include <cstdio>\n#include <cmath>\n#include <vector>\n#include <cstring>\n#include <string>\n#include <set>\n#include <map>\n#include <stack>\n#include <queue>\n#include <algorithm>\nusing namespace std;\n \n#define REP(i,n) for(int i=0; i<n; ++i)\n#define FOR(i,a,b) for(int i=a; i<=b; ++i)\n#define FORR(i,a,b) for (int i=a; i>=b; --i)\n#define pi M_PI\n \ntypedef long long ll;\ntypedef vector<int> VI;\ntypedef vector<ll> VL;\ntypedef vector<VI> VVI;\ntypedef pair<int,int> P;\ntypedef pair<ll,ll> PL;\n\nconst int INF = 1e9 + 2;\n\nint stoii(string s){\n    int res = 0;\n    bool m = 0;\n    REP(i,s.length()){\n        if (s[i] == '-') m = 1;\n        else res = 10*res + s[i]-'0';\n    }\n    if (m) res *= -1;\n    return res;\n}\n\nint main() {\n    int n;\n    while (cin >> n && n){\n        VI a(n+2), c(n+2);\n        FOR(i,1,n){\n            string s;\n            cin >> s;\n            if (s == \"x\") {\n                c[i] = 1;\n                if (i % 2 == 1)\n                    a[i] = -INF;\n                else\n                    a[i] = INF;\n            }\n            else a[i] = stoii(s);\n        }\n        a[0] = INF;\n        if (n % 2 == 1) a[n+1] = INF;\n        else a[n+1] = -INF;\n        bool d = 0;\n        FOR(i,1,n-1) if (c[i] & c[i+1]) d = 1;\n        FOR(i,1,n){\n            if (i % 2 == 1 && (a[i] >= a[i-1] || a[i] >= a[i+1])) d = 1;\n            if (i % 2 == 0 && (a[i] <= a[i-1] || a[i] <= a[i+1])) d = 1;\n        }\n        if (d) {\n            cout << \"none\" << endl;\n            continue;\n        }\n\n        int mi = -INF, ma = INF;\n        FOR(i,1,n){\n            if (c[i] && i % 2 == 1)\n                ma = min({ma, a[i-1]-1, a[i+1]-1});\n            else if (c[i] && i % 2 == 0)\n                mi = max({mi, a[i-1]+1, a[i+1]+1});\n        }\n\n        if (mi == ma) cout << mi << endl;\n        else if (mi < ma) cout << \"ambiguous\" << endl;\n        else cout << \"none\" << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint go(vector<long long> v,int num){\n\tvector<long long> diff;\n\tfor(int i = 0 ; i < v.size() ; i++){\n\t\tif( v[i] == -1e15 ) v[i] = num;\n\t\tif(i)diff.push_back(v[i]-v[i-1]);\n\t\t\n\t}\n\tfor(int i = 0 ; i < diff.size() ; i++){\n\t\tif( ((i%2)^(diff[i]<0)) || diff[i] == 0 ){\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n}\nint main(){\n\tint N;\n\twhile(cin >> N && N){\n\t\tvector<long long> u = {0,1,2,3,4,5};\n\t\tvector<long long> h;\n\t\tfor(int i = 0 ; i < N ; i++){\n\t\t\tstring s;\n\t\t\tcin >> s;\n\t\t\tif( s == \"x\" ){\n\t\t\t\th.push_back(-1e15);\n\t\t\t}else{\n\t\t\t\tstringstream ss(s);\n\t\t\t\tlong long w;\n\t\t\t\tss >> w;\n\t\t\t\th.push_back(w);\n\t\t\t\tfor(int j = -2 ; j <= 2 ; j++){\n\t\t\t\t\tu.push_back(w+j);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tsort(u.begin(),u.end());\n\t\tu.erase(unique(u.begin(),u.end()),u.end());\n\t\tlong long res = 0;\n\t\tlong long val;\n\t\tfor(int i = 0 ; i < u.size() ; i++){\n\t\t\tif( go(h,u[i]) ){\n\t\t\t\tval = u[i];\n\t\t\t\tres ++;\t\n\t\t\t}\n\t\t}\n\t\tif( res == 1) cout << val << endl;\n\t\telse if( res == 0 ) cout << \"none\" << endl;\n\t\telse cout << \"ambiguous\" << endl;\n\t}\n\t\t\t\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#define INF 2000000000\n#define N 1002\nusing namespace std;\nint StoI(string);\n\nint main(){\n  int n,d[N],flag,minv,maxv,cnt;\n  string a[N];\n  while(1){\n    cin>>n;\n    if(!n) break;\n    flag=0;\n    for(int i=1;i<=n;i++){\n      cin>>a[i];\n      if(a[i]==\"x\") continue;\n      d[i]=StoI(a[i]);\n    }\n    for(int i=1;i<n;i++)\n      if(a[i]==\"x\"&&a[i+1]==\"x\") flag=1;\n    for(int i=1;i<n;i++){\n      if(a[i]==\"x\"||a[i+1]==\"x\") continue;\n      if((i%2)&&d[i]>=d[i+1]) flag=1;\n      else if(!(i%2)&&d[i]<=d[i+1]) flag=1;\n    }\n    if(!flag){\n      d[0]=maxv=INF;\n      minv=-INF;\n      (n%2)?d[n+1]=INF:d[n+1]=-INF;\n      for(int i=1;i<=n;i++){\n\tif(a[i]!=\"x\") continue;\n\tif((i%2)&&(d[i-1]<maxv||maxv>d[i+1])) maxv=min(min(maxv,d[i-1]-1),d[i+1]-1);\n\telse if(!(i%2)&&(d[i-1]>minv||minv<d[i+1])) minv=max(max(minv,d[i-1]+1),d[i+1]+1);\n      }\n    }\n    if(flag||maxv<minv) cout<<\"none\"<<endl;\n    else if(maxv==minv) cout<<maxv<<endl;\n    else cout<<\"ambiguous\"<<endl;\n  }\n  return 0;\n}\n\nint StoI(string s){\n  int ret=0,k=0;\n  if(s[0]=='-') k++; \n  for(int i=k;i<(int)s.size();i++) ret=ret*10+(s[i]-'0');\n  if(k) ret*=-1;\n  return ret;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <cmath>\n\nusing std::cin;\nusing std::cout;\nusing std::endl;\n\nint trans_str(std::string str) {\n\tint l = str.length();\n\tif ( l == 1 ) {\n\t\treturn (int)(str[0]) - '0';\n\t}\n\n\tint sum = 0;\n\tint d;\n\tif ( str[0] == '-' ) {\n\t\tfor (int i = 0; i < l-1; i++) {\n\t\t\td = (int)(str[l-1-i]) - '0';\n\t\t\tsum += d * pow(10,i);\n\t\t}\n\t\treturn -sum;\n\t}\n\n\tfor (int i = 0; i < l; i++) {\n\t\td = (int)(str[l-1-i]) - '0';\n\t\tsum += d * pow(10,i);\n\t}\n\treturn sum;\n}\n\nbool check_sample(std::vector<int> v) {\n\tint size = v.size()-1;\n\tfor (int i = 2; i < size; i++) {\n\t\tif ( i%2 == 0 ) {\n\t\t\tif ( v[i] <= v[i-1] ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif ( v[i] >= v[i-1] ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\treturn true;\n}\n\nint main(void) {\n\tint N;\n\tcin >> N;\n\twhile ( N != 0 ) {\n\t\tstd::vector<int> data(N+2,0);\n\t\tstd::vector<int> xinds;\n\t\tstd::string str;\n\t\tbool ex = false;\n\t\tbool seq = false;\n\t\tbool mode = false;\n\t\tdata[0] = 1000000003;\n\t\tif ( N%2 == 0 ) {\n\t\t\tdata[N+1] = -data[0];\n\t\t}\n\t\telse {\n\t\t\tdata[N+1] = data[0];\n\t\t}\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\tcin >> str;\n\t\t\tif ( str[0] == 'x' ) {\n\t\t\t\tif ( mode ) {\n\t\t\t\t\tseq = true;\n\t\t\t\t}\t\n\t\t\t\tex = true;\n\t\t\t\tmode = true;\n\t\t\t\txinds.push_back(i+1);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdata[i+1] = trans_str(str);\n\t\t\t\tmode = false;\n\t\t\t}\n\t\t}\n\n\t\tif ( !ex ) {\n\t\t\tif ( check_sample(data) ) {\n\t\t\t\tcout << \"ambiguous\" << endl;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tcout << \"none\" << endl;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif ( seq ) {\n\t\t\t\tcout << \"none\" << endl;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tint smin = -1000000003;\n\t\t\t\tint smax = 1000000003;\n\t\t\t\tint ind;\n\t\t\t\tfor (std::vector<int>::iterator itr = xinds.begin(); itr != xinds.end(); ++itr) {\n\t\t\t\t\tind = *itr;\n\t\t\t\t\tif ( ind%2 == 0 ) {\n\t\t\t\t\t\tif ( smin < data[ind-1]+1 ) {\n\t\t\t\t\t\t\tsmin = data[ind-1]+1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( smin < data[ind+1]+1 ) {\n\t\t\t\t\t\t\tsmin = data[ind+1]+1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif ( smax > data[ind-1] ) {\n\t\t\t\t\t\t\tsmax = data[ind-1];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( smax > data[ind+1] ) {\n\t\t\t\t\t\t\tsmax = data[ind+1];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tint ret = smin;\n\t\t\t\tint count = smax - smin;\n\t\t\t\tfor (std::vector<int>::iterator itr = xinds.begin(); itr != xinds.end(); ++itr) {\n\t\t\t\t\tdata[*itr] = ret;\n\t\t\t\t}\n\n\t\t\t\tif ( check_sample(data) ) {\n\t\t\t\t\tif ( count != 1 ) {\n\t\t\t\t\t\tif ( count < 0 ) {\n\t\t\t\t\t\t\tcout << \"none\" << endl;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tcout << \"ambiguous\" << endl;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tcout << ret << endl;\n\t\t\t\t\t} \n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcout << \"none\" << endl;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcin >> N;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\nint main(){\n  int N;\n  while(cin >> N, N){\n    string A[N];\n    bool f[2], g = true;\n    f[0] = false;\n    f[1] = false;\n    for(int i = 0; i < N; ++i){\n      cin >> A[i];\n      if(A[i] == \"x\")\n\tf[i%2] = true;\n    }\n    long long int INF = 10000000000, m = -INF, M = INF;\n    for(int i = 0; i < N; ++i){\n      if(i > 0 && A[i] != \"x\" && A[i-1] != \"x\"){\n\tif(i%2 && A[i] <= A[i-1]) g = false;\n\telse if(i%2 == 0 && A[i] >= A[i-1]) g = false;\n      }\n      if(i > 0 && A[i] == \"x\" && A[i-1] == \"x\") g = false;\n      /*\n      if(A[i] != \"x\"){\n\tif(i%2 && f[1]) M = min(M, (long long int)stoi(A[i]));\n\tif((!(i%2)) && f[0]) m = max(m, (long long int)stoi(A[i]));\n      }\n      */\n      if(A[i] == \"x\"){\n\tif(i%2){\n\t  if(i > 0 && A[i-1] != \"x\") m = max(m, (long long int)stoi(A[i-1]));\n\t  if(i < N-1 && A[i+1] != \"x\") m = max(m, (long long int)stoi(A[i+1]));\n\t}else{\n\t  if(i > 0 && A[i-1] != \"x\") M = min(M, (long long int)stoi(A[i-1]));\n\t  if(i < N-1 && A[i+1] != \"x\") M = min(M, (long long int)stoi(A[i+1]));\t\n\t}\n      }\n    }\n    //cout << M << \" \" << m << endl;\n    if(g && M - m == 2) cout << m+1 << endl;\n    else if(g && (M - m > 2 || ((!f[0]) && (!f[1])))) cout << \"ambiguous\" << endl;\n    else cout << \"none\" << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<string>\n#include<algorithm>\t\n#include<map>\n#include<set>\n#include<utility>\n#include<cmath>\n#include<cstring>\n#include<queue>\n#include<stack>\n#include<cstdio>\n#include<sstream>\n#include<iomanip>\n#include<assert.h>\n#define loop(i,a,b) for(int i=a;i<b;i++) \n#define rep(i,a) loop(i,0,a)\n#define pb push_back\n//#define mt make_tuple\n#define all(in) in.begin(),in.end()\n#define shosu(x) fixed<<setprecision(x)\nusing namespace std;\n//kaewasuretyuui\ntypedef long long ll;\ntypedef int Def;\ntypedef pair<Def,Def> pii;\ntypedef vector<Def> vi;\ntypedef vector<vi> vvi;\ntypedef vector<pii> vp;\ntypedef vector<vp> vvp;\ntypedef vector<string> vs;\ntypedef vector<double> vd;\n//typedef tuple<int,int,int> tp;\n//typedef vector<tp> vt;\ntypedef vector<vd> vvd;\ntypedef pair<Def,pii> pip;\ntypedef vector<pip>vip;\nconst double PI=acos(-1);\nconst double EPS=1e-7;\nconst int inf=1e9;\nconst ll INF=2e18;\nint dx[]={0,1,0,-1};\nint dy[]={1,0,-1,0};\nint main(){\n\tint n;\n\twhile(cin>>n,n){\n\t\tvi in(n+1);\n\t\tin[0]=2e9;\n\t\trep(i,n){\n\t\t\tstring s;\n\t\t\tcin>>s;\n\t\t\tif(s==\"x\"){\n\t\t\t\tif(i%2)in[i+1]=2e9+1;\n\t\t\t\telse in[i+1]=-2e9-1;\n\t\t\t}else in[i+1]=stoi(s);\n\t\t}\n\t\tif(n%2)in.pb(2e9);\n\t\telse in.pb(-2e9);\n\t\tint l=-2e9,r=2e9;\n\t\tbool h=true;\n\t\tloop(i,1,n+1){\n\t\t\tif(abs(in[i])==2e9+1&&abs(in[i+1])==2e9+1)h=false;\n\t\t\tif(i%2){\n\t\t\t\tif(in[i]>=min(in[i-1],in[i+1]))h=false;\n\t\t\t\tif(abs(in[i])==2e9+1){\n\t\t\t\t\tr=min(r,min(in[i-1],in[i+1])-1);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(in[i]<=max(in[i-1],in[i+1]))h=false;\n\t\t\t\tif(abs(in[i])==2e9+1){\n\t\t\t\t\tl=max(l,1+max(in[i-1],in[i+1]));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(!h)cout<<\"none\"<<endl;\n\t\telse if(l==r)cout<<l<<endl;\n\t\telse if(l<r)cout<<\"ambiguous\"<<endl;\n\t\telse cout<<\"none\"<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\ntypedef pair<int,int>pint;\ntypedef vector<int>vint;\n#define pb push_back\n#define mp make_pair\n#define rep(i,n) for(int i=0;i<(n);i++)\ntemplate<class T,class U>void chmin(T &t,U f){if(t>f)t=f;}\ntemplate<class T,class U>void chmax(T &t,U f){if(t<f)t=f;}\n\nint N;\nint x[1000];\n\nint toint(string &s){\n    stringstream ss(s);\n    int ret;\n    ss>>ret;\n    return ret;\n}\n\nbool merge(int &l,int &u,int _l,int _u){\n    if(u<_l||_u<l)return false;\n    chmax(l,_l);\n    chmin(u,_u);\n    return true;\n}\n\nint main(){\n    while(scanf(\"%d\",&N),N){\n        rep(i,N){\n            string s;cin>>s;\n            if(s[0]=='x')x[i]=-1;\n            else x[i]=toint(s);\n        }\n\n        bool ok=true;\n\n        rep(i,N-1){\n            if(x[i]==-1&&x[i+1]==-1)ok=false;\n        }\n\n        rep(i,N){\n            if(x[i]==-1)continue;\n            if(i&1){\n                if(i&&x[i-1]!=-1&&x[i-1]>=x[i])ok=false;\n                if(i+1<N&&x[i+1]!=-1&&x[i+1]>=x[i])ok=false;\n            }\n            else{\n                if(i&&x[i-1]!=-1&&x[i-1]<=x[i])ok=false;\n                if(i+1<N&&x[i+1]!=-1&&x[i+1]<=x[i])ok=false;\n            }\n        }\n\n        if(!ok){\n            cout<<\"none\"<<endl;\n            continue;\n        }\n\n        int u=1001001001,l=-1001001001;\n        rep(i,N){\n            if(~x[i])continue;\n            int _l=-1001001001,_u=1001001001;\n            if(i&1){\n                if(i)chmax(_l,x[i-1]+1);\n                if(i+1<N)chmax(_l,x[i+1]+1);\n            }\n            else{\n                if(i)chmin(_u,x[i-1]-1);\n                if(i+1<N)chmin(_u,x[i+1]-1);\n            }\n            if(!merge(l,u,_l,_u)){\n                cout<<\"none\"<<endl;\n                ok=false;\n                break;\n            }\n        }\n\n        if(!ok)continue;\n\n        if(l==u)cout<<l<<endl;\n        else cout<<\"ambiguous\"<<endl;\n\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define for_(i,a,b) for(int i=a;i<b;++i)\n#define for_rev(i,a,b) for(int i=a;i>=b;--i)\n#define allof(a) a.begin(),a.end()\n#define minit(a,b) memset(a,b,sizeof(a))\n#define size_of(a) (int)a.size()\n\ntypedef long long lint;\ntypedef pair<int, int> pii;\n\nconst int iINF = 1L << 30;\nconst lint lINF = 1LL << 60;\n\nint N;\nstring input[1010];\n\nint s_to_i(string s) {\n\tstringstream ss(s);\n\tint res; ss >> res;\n\treturn res;\n}\n\nbool is_x(string s) {\n\treturn s[0] == 'x';\n}\n\nvoid solve() {\n\tint lb = 0, ub = iINF + 10;\n\t\n\tfor_(i,1,N + 1) {\n\t\tif (is_x(input[i])) {\n\t\t\tif (i < N && is_x(input[i + 1])) {\n\t\t\t\tcout << \"none\" << endl;\n\t\t\t\treturn;\n\t\t\t} else if (i == N) {\n\t\t\t\tint val = s_to_i(input[i - 1]);\n\t\t\t\tif (i % 2) {\n\t\t\t\t\tub = min(ub, val - 1);\n\t\t\t\t} else {\n\t\t\t\t\tlb = max(lb, val + 1);\n\t\t\t\t}\n\t\t\t} else if (i == 1) {\n\t\t\t\tint val = s_to_i(input[i + 1]);\n\t\t\t\tub = min(ub, val - 1);\n\t\t\t} else {\n\t\t\t\tint lval = s_to_i(input[i - 1]), rval = s_to_i(input[i + 1]);\n\t\t\t\tif (i % 2) {\n\t\t\t\t\tub = min(ub, min(rval, lval) - 1);\n\t\t\t\t} else {\n\t\t\t\t\tlb = max(lb, max(rval, lval) + 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t} else {\n\t\t\tint value = s_to_i(input[i]);\n\t\t\t\n\t\t\tif (i < N && !is_x(input[i + 1])) {\n\t\t\t\tint val2 = s_to_i(input[i + 1]);\n\t\t\t\tif (i % 2 && value >= val2) {\n\t\t\t\t\tcout << \"none\" << endl;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (i % 2 == 0 && value <= val2) {\n\t\t\t\t\tcout << \"none\" << endl;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (lb > ub) {\n\t\t\tcout << \"none\" << endl;\n\t\t\treturn;\n\t\t}\n\t}\n\t\n\tif (lb == ub) {\n\t\tcout << lb << endl;\n\t} else {\n\t\tcout << \"ambiguous\" << endl;\n\t}\n}\n\nint main() {\n\twhile (cin >> N, N) {\n\t\tfor_(i,1,N + 1) cin >> input[i];\n\t\tsolve();\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n\nusing namespace std;\n\nusing ll = long long;\nusing ld = long double;\nusing P = pair<int, int>;\nconstexpr ld EPS = 1e-12;\nconstexpr int INF = numeric_limits<int>::max() / 2;\nconstexpr int MOD = 1e9 + 7;\n\nint main()\n{\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n\n    int N;\n    while (cin >> N, N)\n    {\n        vector<ll> a(N + 1);\n        int cnt = 0;\n        bool cons = false;\n        for (int i = 1; i <= N; i++)\n        {\n            string s;\n            cin >> s;\n            if (s == \"x\")\n            {\n                cnt++;\n                a[i] = (ll)1e15;\n                if (i != 1 && a[i - 1] == (ll)1e15)\n                    cons = true;\n            }\n            else\n                a[i] = stoi(s);\n        }\n        ll ma = 1e10, mi = -1e10;\n        for (int i = 1; i <= N; i++)\n        {\n            if (a[i] != (ll)1e15)\n                continue;\n            if (i % 2)\n            {\n                // strictly smaller\n                if (i - 1 >= 1)\n                {\n                    ma = min(ma, a[i - 1] - 1);\n                }\n                if (i + 1 <= N)\n                {\n                    ma = min(ma, a[i + 1] - 1);\n                }\n            }\n            else\n            {\n                // strictly larger\n                if (i - 1 >= 1)\n                {\n                    mi = max(mi, a[i - 1] + 1);\n                }\n                if (i + 1 <= N)\n                {\n                    mi = max(mi, a[i + 1] + 1);\n                }\n            }\n        }\n\n        if (cons)\n        {\n            cout << \"none\" << endl;\n            continue;\n        }\n\n        if (cnt == 0)\n        {\n            bool f = true;\n            for (int i = 1; i <= N; i++)\n            {\n                if (i % 2)\n                {\n                    if (i - 1 >= 1 && a[i - 1] <= a[i])\n                    {\n                        f = false;\n                    }\n                    if (i + 1 <= N && a[i + 1] <= a[i])\n                    {\n                        f = false;\n                    }\n                }\n                else\n                {\n                    if (i - 1 >= 1 && a[i - 1] >= a[i])\n                    {\n                        f = false;\n                    }\n                    if (i + 1 <= N && a[i + 1] >= a[i])\n                    {\n                        f = false;\n                    }\n                }\n            }\n            if (f)\n            {\n                cout << \"ambiguous\" << endl;\n            }\n            else\n            {\n                cout << \"none\" << endl;\n            }\n            continue;\n        }\n\n        bool f = true;\n        for (int i = 1; i <= N; i++)\n        {\n            if (a[i] == 1e15)\n                continue;\n            if (i % 2)\n            {\n                if (i - 1 >= 1 && a[i - 1] != 1e15 && a[i - 1] <= a[i])\n                {\n                    f = false;\n                }\n                if (i + 1 <= N && a[i + 1] != 1e15 && a[i + 1] <= a[i])\n                {\n                    f = false;\n                }\n            }\n            else\n            {\n                if (i - 1 >= 1 && a[i - 1] != 1e15 && a[i - 1] >= a[i])\n                {\n                    f = false;\n                }\n                if (i + 1 <= N && a[i + 1] != 1e15 && a[i + 1] >= a[i])\n                {\n                    f = false;\n                }\n            }\n        }\n        if (!f)\n        {\n            cout << \"none\" << endl;\n            continue;\n        }\n\n        //cout<<mi<<\" \"<<ma<<endl;\n\n        if (mi == ma)\n        {\n            cout << mi << endl;\n        }\n        else if (mi < ma)\n        {\n            cout << \"ambiguous\" << endl;\n        }\n        else if (mi > ma)\n        {\n            cout << \"none\" << endl;\n        }\n        else\n        {\n            assert(false);\n        }\n    }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#define INF 2000000000\n#define N 1002\nusing namespace std;\nint StoI(string);\n\nint main(){\n  int n,d[N],flag,minv,maxv,cnt;\n  string a[N];\n  while(1){\n    cin>>n;\n    if(!n) break;\n    flag=0;\n    for(int i=1;i<=n;i++){\n      cin>>a[i];\n      if(a[i]==\"x\") continue;\n      d[i]=StoI(a[i]);\n    }\n    for(int i=1;i<n;i++)\n      if(a[i]==\"x\"&&a[i+1]==\"x\") flag=1;\n    for(int i=1;i<n;i++){\n      if(a[i]==\"x\"||a[i+1]==\"x\") continue;\n      if((i%2)&&d[i]>=d[i+1]) flag=1;\n      else if(!(i%2)&&d[i]<=d[i+1]) flag=1;\n    }\n    if(!flag){\n      d[0]=maxv=INF;\n      minv=-INF;\n      (n%2)?d[n+1]=INF:d[n+1]=-INF;\n      for(int i=1;i<=n;i++){\n\tif(a[i]!=\"x\") continue;\n\tif((i%2)&&(d[i-1]<=maxv||maxv>=d[i+1])) maxv=min(min(maxv,d[i-1]-1),d[i+1]-1);\n\telse if(!(i%2)&&(d[i-1]>=minv||minv<=d[i+1])) minv=max(max(minv,d[i-1]+1),d[i+1]+1);\n      }\n    }\n    if(flag||maxv<minv) cout<<\"none\"<<endl;\n    else if(maxv==minv) cout<<maxv<<endl;\n    else cout<<\"ambiguous\"<<endl;\n  }\n  return 0;\n}\n\nint StoI(string s){\n  int ret=0,k=0;\n  if(s[0]=='-') k++; \n  for(int i=k;i<(int)s.size();i++) ret=ret*10+(s[i]-'0');\n  if(k) ret*=-1;\n  return ret;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <cmath>\n#include <cstdio>\n#include <functional>\n#include <numeric>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <utility>\n#include <sstream>\n#include <complex>\n#include <fstream>\n#include <bitset>\n#include <time.h>\n#include <tuple>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<ll, ll> P;\ntypedef vector<ll> V;\ntypedef complex<double> Point;\n\n#define PI acos(-1.0)\n#define EPS 1e-10\nconst ll INF = 1e12;\nconst ll MOD = 1e9 + 7;\n\n#define FOR(i,a,b) for(ll i=(a);i<(b);i++)\n#define rep(i,N) for(ll i=0;i<(N);i++)\n#define ALL(s) (s).begin(),(s).end()\n#define EQ(a,b) (abs((a)-(b))<EPS)\n#define EQV(a,b) ( EQ((a).real(), (b).real()) && EQ((a).imag(), (b).imag()) )\n#define fi first\n#define se second\n#define N_SIZE (1LL << 20)\n#define NIL -1\n#define MAX_N 100100\n\nll sq(ll num) { return num*num; }\nll mod_pow(ll x, ll n) {\n\tif (n == 0)return 1;\n\tif (n == 1)return x%MOD;\n\tll res = sq(mod_pow(x, n / 2));\n\tres %= MOD;\n\tif (n % 2 == 1) {\n\t\tres *= x;\n\t\tres %= MOD;\n\t}\n\treturn res;\n}\nll mod_add(ll a, ll b) { return (a + b) % MOD; }\nll mod_sub(ll a, ll b) { return (a - b + MOD) % MOD; }\nll mod_mul(ll a, ll b) { return a*b % MOD; }\n\nll n;\nll a[100100];\n\nll changei(string s) {\n\tll res;\n\tstringstream ss;\n\tss << s;\n\tss >> res;\n\treturn res;\n}\n\nint main() {\n\twhile (cin >> n&&n) {\n\t\tll lb = -INF, ub = INF;\n\t\tbool f = 0;\n\t\trep(i, n) {\n\t\t\tstring num;\n\t\t\tcin >> num;\n\t\t\tif (num == \"x\")a[i] = -INF;\n\t\t\telse a[i] = changei(num);\n\t\t}\n\t\trep(i, n - 1) {\n\t\t\tif (i % 2 == 0) {\n\t\t\t\tif (a[i] == -INF) {\n\t\t\t\t\tif (a[i + 1] == -INF)f = 1;\n\t\t\t\t\telse ub = min(a[i + 1] - 1, ub);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (a[i + 1] == -INF)lb = max(a[i] + 1, lb);\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (a[i] >= a[i + 1])f = 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (a[i] == -INF) {\n\t\t\t\t\tif (a[i + 1] == -INF)f = 1;\n\t\t\t\t\telse lb = max(a[i + 1] + 1, lb);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (a[i + 1] == -INF)ub = min(a[i] - 1, ub);\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (a[i] <= a[i + 1])f = 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (lb > ub)f = 1;\n\t\tif (f)cout << \"none\" << endl;\n\t\telse {\n\t\t\tif (lb == ub)cout << lb << endl;\n\t\t\telse cout << \"ambiguous\" << endl;\n\t\t}\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<iomanip>\n#include<cmath>\n#include<vector>\n#include<algorithm>\n\nusing namespace std;\n\n//http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=2565\n\n#define int long long\n#define rep(i,n) for(int i = 0; i < (n); i++)\n#define INF ((long long)1e18)\n#define MOD ((int)1e9+7)\n#define endl \"\\n\"\n\n#define yn(f) ((f)?\"Yes\":\"No\")\n#define YN(f) ((f)?\"YES\":\"NO\")\n\n#define MAX\n\nsigned main(){\n\t// cin.tie(0);\n\t// ios::sync_with_stdio(false);\n\t// cout<<fixed<<setprecision(10);\n\t\n\t\n\twhile(true){\n\t\tint N, con = 0;\n\t\tint up = -INF, lo = INF;\n\t\tbool flag = true;\n\t\tstring  x;\n\t\tvector<int> s;\n\t\tcin>>N;\n\t\t\n\t\tif(!N) break;\n\t\t\n\t\tfor(int i = 0; i < N; i++){\n\t\t\tcin>>x;\n\t\t\tif(x == \"x\") {\n\t\t\t\ts.push_back(INF);\n\t\t\t\tcon++;\n\t\t\t} else s.push_back(stoi(x));\n\t\t}\n\t\t\n\t\tfor(int i = 0; i < N && flag; i++){\n\t\t\tint a = -INF/2, b = INF/2;\n\t\t\t// cout<<\"a,b \"<<a<<\" \"<<b<<\" i = \"<<i<<\" \"<<s[i]<<endl;\n\t\t\tif(s[i] == INF){\n\t\t\t\tif(i){\n\t\t\t\t\ta = s[i-1];\n\t\t\t\t\tb = s[i-1];\n\t\t\t\t}\n\t\t\t\tif(i != N-1){\n\t\t\t\t\tif(s[i+1] == INF) flag = false;\n\t\t\t\t\tb = min(b, s[i+1]);\n\t\t\t\t\ta = max(a, s[i+1]);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// cout<<\"<><><>\"<<endl;\n\t\t\t\t\n\t\t\t\tif(i%2){\n\t\t\t\t\t// cout<<up<<\" \"<<a<<endl;\n\t\t\t\t\tup = max(up, a+1);\n\t\t\t\t\t// if(up > (int)1e9) flag = false;\n\t\t\t\t} else {\n\t\t\t\t\t// cout<<lo<<\" \"<<b<<endl;\n\t\t\t\t\tlo = min(lo, b-1);\n\t\t\t\t\t// if(lo < (int)-1e9) flag = false;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif(i%2){\n\t\t\t\t\tif(i && s[i-1] != INF && s[i-1] >= s[i]) flag = false;\n\t\t\t\t\tif(i != N-1&& s[i+1] != INF && s[i+1] >= s[i]) flag = false;\n\t\t\t\t} else {\n\t\t\t\t\tif(i && s[i-1] != INF && s[i-1] <= s[i]) flag = false;\n\t\t\t\t\tif(i != N-1&& s[i+1] != INF && s[i+1] <= s[i]) flag = false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(!con) up = -INF, lo = INF;\n\t\t\n\t\t// cout<<lo<<\" \"<<up<<endl;\n\t\t\n\t\tif(!flag || up > lo) cout<<\"none\"<<endl;\n\t\telse if(up == lo) cout<<up<<endl;\n\t\telse cout<<\"ambiguous\"<<endl;\n\t}\n\t\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n\n#define REP(i,n) for(ll i=0;i<n;++i)\n#define RREP(i,n) for(ll i=n-1;i>=0;--i)\n#define FOR(i,m,n) for(ll i=m;i<n;++i)\n#define RFOR(i,m,n) for(ll i=n-1;i>=m;--i)\n#define ALL(v) (v).begin(),(v).end()\n#define PB(a) push_back(a)\n#define UNIQUE(v) v.erase(unique(ALL(v)),v.end());\n#define DUMP(v) REP(i, (v).size()) { cout << v[i]; if (i != v.size() - 1)cout << \" \"; else cout << endl; }\n#define INF 1000000001ll\n#define MOD 1000000007ll\n#define EPS 1e-9\n\nconst int dx[8] = { 1,1,0,-1,-1,-1,0,1 };\nconst int dy[8] = { 0,1,1,1,0,-1,-1,-1 };\n\n\nusing namespace std;\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<ll> vl;\ntypedef vector<vi> vvi;\ntypedef vector<vl> vvl;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\nll max(ll a, int b) { return max(a, ll(b)); }\nll max(int a, ll b) { return max(ll(a), b); }\n///(?´????????`)(?´????????`)(?´????????`)(?´????????`)(?´????????`)(?´????????`)///\nint main() {\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\twhile (1) {\n\t\tint n;\n\t\tcin >> n;\n\t\tif (!n)break;\n\t\tvi v(n);\n\t\tREP(i, n) {\n\t\t\tstring s;\n\t\t\tcin >> s;\n\t\t\tif (s[0] != 'x')v[i] = stoi(s);\n\t\t\telse v[i] = 2 * INF;\n\t\t}\n\t\tint flag = 1;\n\t\tREP(i, n - 1) {\n\t\t\tif (v[i] == 2 * INF&&v[i + 1] == 2 * INF) {\n\t\t\t\tcout << \"none\" << endl;\n\t\t\t\tflag = 0;\n\t\t\t}\n\t\t\telse if (v[i] != 2 * INF&&v[i + 1] != 2 * INF) {\n\t\t\t\tif (i % 2 == 0 && v[i] >= v[i + 1]) {\n\t\t\t\t\tcout << \"none\" << endl;\n\t\t\t\t\tflag = 0;\n\t\t\t\t}\n\t\t\t\telse if (i % 2 == 1 && v[i] <= v[i + 1]) {\n\t\t\t\t\tcout << \"none\" << endl;\n\t\t\t\t\tflag = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (flag) {\n\t\t\tint u = INF+1, l = -INF-1;\n\t\t\tREP(i, n) {\n\t\t\t\tif (v[i] == 2 * INF) {\n\t\t\t\t\tif (i % 2 == 0) {\n\t\t\t\t\t\tif (i != 0)u = min(u, v[i - 1] - 1);\n\t\t\t\t\t\tif (i != n - 1)u = min(u, v[i + 1] - 1);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tl = max(l, v[i - 1] + 1);\n\t\t\t\t\t\tif (i != n - 1)l = max(l, v[i + 1] + 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (u == l)cout << u << endl;\n\t\t\telse if (l < u)cout << \"ambigous\" << endl;\n\t\t\telse cout << \"none\" << endl;\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdint>\n#include <iostream>\n#include <string>\n#include <vector>\n\nusing namespace std;\n\nbool is_valid(vector<string> signals) {\n  for (uint32_t i = 0; i < signals.size() - 1; i++) {\n    if (signals[i] == \"x\" && signals[i + 1] == \"x\") {\n      return false;\n    }\n    if (signals[i] != \"x\" && signals[i + 1] != \"x\") {\n      int32_t sig1 = stoi(signals[i]);\n      int32_t sig2 = stoi(signals[i + 1]);\n      if (i % 2 == 0) {\n        if (sig1 >= sig2) {\n          return false;\n        }\n      } else {\n        if (sig1 <= sig2) {\n          return false;\n        }\n      }\n    }\n  }\n  return true;\n}\n\nint32_t main() {\n  while (true) {\n    uint32_t N;\n    cin >> N;\n\n    if (N == 0) break;\n\n    vector<string> signals;\n    for (uint32_t i = 0; i < N; i++) {\n      string str;\n      cin >> str;\n      signals.push_back(str);\n    }\n\n    int64_t x_max = INT64_MIN;\n    int64_t x_min = INT64_MAX;\n    bool valid = true;\n    if (valid = is_valid(signals)) {\n      for (uint32_t i = 0; i < signals.size(); i++) {\n        if (signals[i] == \"x\") {\n          if (i % 2 == 0) {\n            if (i > 0) {\n              x_min = min(x_min, stoll(signals[i - 1]) - 1);\n            }\n            if (i + 1 < signals.size()) {\n              x_min = min(x_min, stoll(signals[i + 1]) - 1);\n            }\n          } else {\n            if (i > 0) {\n              x_max = max(x_max, stoll(signals[i - 1]) + 1);\n            }\n            if (i + 1 < signals.size()) {\n              x_max = max(x_max, stoll(signals[i + 1]) + 1);\n            }\n          }\n        }\n      }\n    }\n\n    if (valid) {\n      if (x_max == x_min) {\n        cout << x_max << endl;\n      } else if (x_max == INT64_MIN || x_min == INT64_MAX) {\n        cout << \"ambiguous\" << endl;\n      } else {\n        cout << \"none\" << endl;\n      }\n    } else {\n      cout << \"none\" << endl;\n    }\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <functional>\n#include <cmath>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <string>\n#include <sstream>\n#include <iostream>\n#include <iomanip>\n#include <vector>\n#include <list>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <bitset>\n#include <climits>\n\n#define all(c) (c).begin(), (c).end()\n#define rep(i,n) for(int i=0;i<(n);i++)\n#define pb(e) push_back(e)\n#define mp(a, b) make_pair(a, b)\n#define fr first\n#define sc second\n\nconst int INF=100000000;\nint dx[4]={1,0,-1,0};\nint dy[4]={0,1,0,-1};\nusing namespace std;\ntypedef pair<int ,int > P;\ntypedef long long ll;\n\nint n;\nstring a[1003];\n\nint toi(string s) {\n    int res;\n    stringstream ss;\n    ss<<s;\n    ss>>res;\n    return res;\n}\n\nint odd(int i) {\n    int res=-100000000;\n    if(i-1>=0 && a[i-1]!=\"x\") {\n        res=max(res,toi(a[i-1]));\n    }\n    if(a[i+1]!=\"x\") {\n        res=max(res,toi(a[i+1]));\n    }\n    return res;\n}\nint even(int i) {\n    int res=INF;\n\n    if(i-1>=0 && a[i-1]!=\"x\") {\n        res=min(res,toi(a[i-1]));\n    }\n    if(i+1<n && a[i+1]!=\"x\") {\n        res=min(res,toi(a[i+1]));\n    }\n    return res;\n}\n\nbool ok() {\n    bool res=true;\n    rep(i,n) {\n        if(i&1) {\n            if(i-1>=0) res &= a[i]>a[i-1];\n            if(i+1<n) res &= a[i]>a[i+1];\n        }\n        else {\n            if(i-1>=0) res &= a[i]<a[i-1];\n            if(i+1<n) res &= a[i]<a[i+1];\n        }\n    }\n    return res;\n}\n\nbool exist_x() {\n    bool res=false;\n    rep(i,n) res|=a[i]==\"x\";\n    return res;\n}\nint count_x() {\n    int res=0;\n    rep(i,n) if(a[i]==\"x\") res++;\n    return res;\n}\n\n\nvoid solve() {\n    int l=-1000000000,r=100000000;\n    rep(i,n) cin>>a[i];\n\n    rep(i,n) {\n        if(a[i]==\"x\") {\n            if(i&1) {\n                l=max(l,odd(i));\n            }\n            else {\n                r=min(r,even(i));\n            }\n        }\n    }\n    if(!exist_x()) {\n        if(ok()) cout<<\"ambiguous\"<<endl;\n        else cout<<\"none\"<<endl;\n        return;\n    }\n    if(count_x()==n) {\n        cout<<\"none\"<<endl;\n        return;\n    }\n    if(r-l==2) {\n        cout<<l+1<<endl;\n        return;\n    }\n    else if(r-l==1) {\n        cout<<\"none\"<<endl;\n    }\n    else {\n        cout<<\"ambiguous\"<<endl;\n\n    }\n\n\n}\n\nint main() {\n    while(cin>>n) {\n        if(n==0) break;\n        solve();\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<stdlib.h>\n#define INF 1000000001\n#define MIN -1000000002\n#define MAX 1000000002\nusing namespace std;\n\nint main()\n{\n\tint n;\n\twhile (cin >> n && n != 0)\n\t{\n\t\tlong a[1000 + 1];\n\t\tlong min = -1e10;\n\t\tlong max = 1e10;\n\t\tfor (int i = 1; i <= n; i++)\n\t\t{\n\t\t\tstring s;\n\t\t\tcin >> s;\n\t\t\tif (s.compare(\"x\") == 0)\n\t\t\t{\n\t\t\t\ta[i] = INF;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\ta[i] = atol(s.c_str());\n\t\t\t}\n\t\t}\n\t\tfor (int i = 1; i <= n; i++)\n\t\t{\n\t\t\tif (i + 1 <= n && a[i] == INF&&a[i + 1] == INF)\n\t\t\t{\n\t\t\t\tmin = MAX;\n\t\t\t\tmax = MIN;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (a[i] == INF)continue;\n\t\t\tif (i % 2 == 0)\n\t\t\t{\n\t\t\t\tif ((i - 1 >= 1 && a[i - 1] == INF) || (i + 1 <= n&& a[i + 1] == INF))\n\t\t\t\t{\n\t\t\t\t\tif (max >= a[i])max = a[i] - 1;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif (i + 1 <= n && a[i] <= a[i + 1])\n\t\t\t\t\t{\n\t\t\t\t\t\tmin = MAX;\n\t\t\t\t\t\tmax = MIN;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif ((i - 1 >= 1 && a[i - 1] == INF) || (i + 1 <= n&& a[i + 1] == INF))\n\t\t\t\t{\n\t\t\t\t\tif (min <= a[i])min = a[i] + 1;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif (i + 1 <= n && a[i] >= a[i + 1])\n\t\t\t\t\t{\n\t\t\t\t\t\tmin = MAX;\n\t\t\t\t\t\tmax = MIN;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (max == min)\n\t\t{\n\t\t\tcout << max << endl;\n\t\t}\n\t\telse if (max < min)\n\t\t{\n\t\t\tcout << \"none\" << endl;\n\t\t}\n\t\telse if (min < max)\n\t\t{\n\t\t\tcout << \"ambigious\" << endl;\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define reep(i,a,b) for(int i=(a);i<(b);i++)\n#define rep(i,n) reep((i),0,(n))\n\nint main(){\n    int n;\n    while(cin>>n,n){\n        vector<long long> v(n);\n        rep(i,n){\n            string s;\n            cin>>s;\n            if(s[0]=='x'){\n                v[i]=INT_MAX;\n            }\n            else{\n                stringstream ss;\n                ss<<s;\n                ss>>v[i];\n            }\n        }\n        bool f=true;\n        rep(i,n-1){\n            if(v[i]==-1&&v[i+1]==-1){\n                f=false;\n            }\n        }\n        if(!f){\n            cout<<\"none\"<<endl;\n            continue;\n        }\n        f=true;\n        rep(i,n){\n            if(v[i]==INT_MAX) f=false;\n        }\n        if(f){\n            rep(i,n){\n                if(i%2){\n                    if(i&&v[i]<=v[i-1]) f=false;\n                    if(i+1!=n&&v[i]<=v[i+1]) f=false;\n                }\n                else{\n                    if(i&&v[i]>=v[i-1]) f=false;\n                    if(i+1!=n&&v[i]>=v[i+1]) f=false;\n                }\n            }\n            if(f){\n                cout<<\"ambiguous\"<<endl;\n            }\n            else{\n                cout<<\"none\"<<endl;\n            }\n            continue;\n        }\n        // cout<<\"a\"<<endl;\n        long long l=-LLONG_MAX/2;\n        long long r=LLONG_MAX/2;\n        rep(i,n){\n            if(v[i]==INT_MAX){\n                if(i%2){\n                    if(i) l=max(l,v[i-1]+1LL);\n                    if(i!=n-1) l=max(l,v[i+1]+1LL);\n                }\n                else{\n                    if(i) r=min(r,v[i-1]-1LL);\n                    if(i!=n-1) r=min(r,v[i+1]-1LL);\n                }\n            }\n        }\n        // cout<<l<<\" \"<<r<<endl;\n        f=true;\n        rep(i,n){\n            if(i%2){\n                if(i&&v[i-1]>=v[i]) f=false;\n                if(i!=n-1&&v[i]<=v[i+1]) f=false;\n            }\n            else{\n                if(i&&v[i-1]<=v[i]) f=false;\n                if(i!=n-1&&v[i]>=v[i+1]) f=false;\n            }\n        }\n        if(!f){\n            cout<<\"none\"<<endl;\n        }\n        else if(r-l==0LL){\n            cout<<r<<endl;\n        }\n        else if(r-l>0LL){\n            cout<<\"ambiguous\"<<endl;\n        }\n        else{\n            cout<<\"none\"<<endl;\n        }\n        // cout<<endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define reep(i,a,b) for(int i=(a);i<(b);i++)\n#define rep(i,n) reep((i),0,(n))\n\nint main(){\n    int n;\n    while(cin>>n,n){\n        vector<int> v(n);\n        rep(i,n){\n            string s;\n            cin>>s;\n            if(s[0]=='x'){\n                v[i]=INT_MAX;\n            }\n            else{\n                stringstream ss;\n                ss<<s;\n                ss>>v[i];\n            }\n        }\n        bool f=true;\n        rep(i,n-1){\n            if(v[i]==-1&&v[i+1]==-1){\n                f=false;\n            }\n        }\n        if(!f){\n            cout<<\"none\"<<endl;\n            continue;\n        }\n        f=true;\n        rep(i,n){\n            if(v[i]==INT_MAX) f=false;\n        }\n        if(f){\n            rep(i,n){\n                if(i%2){\n                    if(i&&v[i]<=v[i-1]) f=false;\n                    if(i+1!=n&&v[i]<=v[i+1]) f=false;\n                }\n                else{\n                    if(i&&v[i]>=v[i-1]) f=false;\n                    if(i+1!=n&&v[i]>=v[i+1]) f=false;\n                }\n            }\n            if(f){\n                cout<<\"ambiguous\"<<endl;\n            }\n            else{\n                cout<<\"none\"<<endl;\n            }\n            continue;\n        }\n        long long l=-INT_MAX/2;\n        long long r=INT_MAX/2;\n        rep(i,n){\n            if(v[i]==INT_MAX){\n                if(i%2){\n                    if(i) l=max(l,v[i-1]+1LL);\n                    if(i+1!=n) l=max(l,v[i+1]+1LL);\n                }\n                else{\n                    if(i) r=min(r,v[i-1]-1LL);\n                    if(i+1!=n) r=min(r,v[i+1]-1LL);\n                }\n            }\n        }\n        if(r-l==0LL){\n            cout<<r<<endl;\n        }\n        else if(r-l>0LL){\n            cout<<\"ambiguous\"<<endl;\n        }\n        else{\n            cout<<\"none\"<<endl;\n        }\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<cstdlib>\n\nusing namespace std;\n\nint stoi(string s){\n  return atoi(s.c_str());\n}\n\nint main(){\n  for(int N;cin>>N,N;){\n    string s[1234];\n    for(int i=0;i<N;i++){\n      cin>>s[i];\n    }\n    bool f=false;\n    int lt=1e9+9,ht=-1e9+9;\n    for(int i=0;i<N-1;i++){\n      if(s[i][0]=='x'){\n\tif(s[i+1][0]=='x'){\n\t  f=true;\n\t}else{\n\t  if(i%2==0){\n\t    lt=min(lt,stoi(s[i+1]));\n\t  }else{\n\t    ht=max(ht,stoi(s[i+1]));\n\t  }\n\t}\n      }else{\n\tif(s[i+1][0]=='x'){\n\t  if((i+1)%2==0){\n\t    lt=min(lt,stoi(s[i]));\n\t  }else{\n\t    ht=max(ht,stoi(s[i]));\n\t  }\n\t}else{\t      \n\t  if(i%2){\n\t    f|=stoi(s[i])<=stoi(s[i+1]);\n\t  }else{\n\t    f|=stoi(s[i])>=stoi(s[i+1]);\n\t  }\n\t}\n      }\n    }\n    if(f||lt-ht<2){\n      cout<<\"none\"<<endl;\n    }else if(lt-ht>2){\n      cout<<\"ambiguous\"<<endl;\n    }else{\n      cout<<lt-1<<endl;\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define rep(i, n) for (int i = 0; i < int(n); ++i)\n\ntemplate <class T, class U>\ninline bool chmin(T& t, const U& f) { return t > f ? t = f, true : false; }\n\ntemplate <class T, class U>\ninline bool chmax(T& t, const U& f) { return t < f ? t = f, true : false; }\n\nconst int X = 1 << 30;\n\nint solve(int N, const vector<int>& a) {\n    int lo = -X + 1, hi = X - 1;\n    rep(i, N) {\n        if (i & 1) {\n            if (a[i] != X) {\n                if ((a[i - 1] != X && a[i - 1] >= a[i]) ||\n                    (i < N - 1 && a[i + 1] != X && a[i] <= a[i + 1])) throw \"none\";\n                if ((a[i - 1] == X) || (i < N - 1 && a[i + 1] == X)) chmin(hi, a[i] - 1);\n            }\n            else {\n                if ((a[i - 1] == X) || (i < N - 1 && a[i + 1] == X)) throw \"none\";\n                if (a[i - 1] != X) chmax(lo, a[i - 1] + 1);\n                if (i < N - 1 && a[i + 1] != X) chmax(lo, a[i + 1] + 1);\n            }\n        }\n        else {\n            if (a[i] != X) {\n                if ((i > 0 && a[i - 1] != X && a[i - 1] <= a[i]) ||\n                    (i < N - 1 && a[i + 1] != X && a[i] >= a[i + 1])) throw \"none\";\n                if ((i > 0 && a[i - 1] == X) || (i < N - 1 && a[i + 1] == X)) chmax(lo, a[i] + 1);\n            }\n            else {\n                if ((i > 0 && a[i - 1] == X) || (i < N - 1 && a[i + 1] == X)) throw \"none\";\n                if (i > 0 && a[i - 1] != X) chmin(hi, a[i - 1] - 1);\n                if (i < N - 1 && a[i + 1] != X) chmin(hi, a[i + 1] - 1);\n            }\n        }\n    }\n    if (lo != hi) throw lo < hi ? \"ambiguous\" : \"none\";\n    return lo;\n}\n\nint main() {\n    for (int N; cin >> N, N;) {\n        vector<int> a(N);\n        for (int& e : a) {\n            string s; cin >> s;\n            e = s == \"x\" ? X : stoi(s);\n        }\n        try { cout << solve(N, a) << endl; }\n        catch (char const* err) { cout << err << endl; }\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nint main()\n{\n  int n;\n  while(cin >> n, n){    \n    string signal[1002];\n    signal[0] = to_string(1e9);\n    for(int i = 1; i <= n; i++) cin >> signal[i];\n    if(n % 2) signal[n + 1] = to_string(1e9);\n    else signal[n + 1] = to_string(-(1e9));\n    int less = -(1e9)-3, more = 1e9+3;    \n    for(int i = 1; i <= n; i++){\n      if(signal[i] == \"x\"){\n\tif(signal[i-1] == \"x\" || signal[i+1] == \"x\"){\n\t  less = more = 1e9+3;\n\t  break;\n\t}\n\tif(i % 2) more = min(stoi(signal[i-1]), stoi(signal[i+1]));\n\telse less = max(stoi(signal[i-1]), stoi(signal[i+1]));\n      } else if(signal[i-1] != \"x\" && signal[i+1] != \"x\"){\n\tif(i%2 == 0 && (signal[i] <= signal[i-1] || signal[i] <= signal[i+1]) ||\n\t\ti%2 == 1 && (signal[i] >= signal[i-1] || signal[i] >= signal[i+1])){\n\t  less = 1e9+3, more = -(1e9)-3;\n\t  break;\n\t}\n      }\n    }\n    if(less == more) cout << \"none\" << endl;\n    else if(more - less > 2) cout << \"ambiguous\" << endl;\n    else if(more - less < 2) cout << \"none\" << endl;\n    else cout << (more + less) / 2 << endl;\n  }  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <algorithm>\n#include <stdio.h>\n#include <stdlib.h>\n#include <math.h>\n\nusing namespace std;\n#define m 1000000000\n/*\n\t壊れたオーディオシグナル\n\n\tナザン・Ｏ・デヴィスは集積システム学部の学生である。\n\n\t今日の授業予定はオーディオシグナルの処理である。ナザンは大量の宿題を与えられていた。\n\t宿題のうちの一つはオーディオシグナルを処理するプログラムを書くことである。彼は与えられた\n\tオーディオシグナルをメモリにコピーし、自宅に持って帰った。\n\n\t彼は宿題を始めたとき、不幸にもUSBメモリを床に落としてしまった。彼が\n\tＵＳＢメモリの中身を確認したところ、オーディオシグナルは壊れてしまっていた。\n\n\t彼がコピーしたオーディオシグナルにはいくつか特徴がある。\n\n\t・オーディオシグナルはＮ個のサンプルのつながりである。\n\t・オーディオシグナル中の各サンプルは1からＮの番号が振られており、\n\t　整数値として表現されている。\n\t・奇数番号のサンプルは隣接するサンプル未満である。\n\t・偶数番号のサンプルは隣接するサンプルより大きい。\n\n\t彼はパニックに陥り、君に助けを求めた。彼のＵＳＢメモリからオーディオシグナルを\n\t復元しようとしたが、オーディオシグナルのサンプルのいくつかは壊れていて復元できなかった。\n\t運のいいことに、メタデータから全ての壊れたサンプルには同じ値があるようだ。\n\n\t君の課題は、USBメモリから抽出された壊れたオーディオシグナルを入力として受け取り、\n\tオーディオシグナルがただ一通りに復元できるかどうか調べるプログラムを書くことである。\n\n\t入力\n\t入力は複数のデータセットからなる。データセットの形式は以下で説明する。\n\n\t各データセットの一行目は一つの整数からなる。Mは与えられたオーディオシグナル中のサンプル数である。\n\t各データセットの二行目はN個のスペースで区切られた値からなる。i番目の値であるa_iは\n\txであるか、-10^9から10^9までの整数である。i番目の壊れたオーディオシグナルのサンプルである。\n\ta_iが文字xである場合、それはオーディオシグナル中のi番目のサンプルが壊れていることを示す。\n\tそれ以外の場合はi番目のサンプルを指す。\n\n\t入力の終わりは一つの0によって示される。\n\tこれはデータセットに含まれない。\n\n\tデータセットのコスは100以下であると想定してよい。\n\n\t出力\n\t各データセットについて、もとのオーディオシグナルがただ一通りに復元される場合には\n\t壊れたサンプルを一行に出力せよ。ありうる値が複数あるときには'ambiguous'を出力せよ。\n\tありうる値が一つも存在しないときは'none'を出力せよ。\n\n*/\nvoid push(int pos, vector< int > *smp, vector< int > *nv) {\n\tif( pos > 0 ) {\n\t\tint tmp;\n\t\ttmp = smp->at( pos - 1 );\n\t\tif( tmp != 1 << 30 ) nv->push_back( tmp );\n\t}\n\tif( pos < smp->size() - 1 ) {\n\t\tint tmp;\n\t\ttmp = smp->at( pos + 1 );\n\t\tif( tmp != 1 << 30 ) nv->push_back( tmp );\n\t}\n}\n\nbool chk( vector<int> smp){\n\tbool flg = true;\n\tfor(int i = 0; i < smp.size(); i++) {\n\t\tif( i == 0 ) {\n\t\t\tif( smp[i] >= smp[i + 1] )\n\t\t\t\t\tflg = false;\n\t\t} else if( i == smp.size() - 1 && i % 2 == 1 ){\n\t\t\tif( smp[i] <= smp[i - 1] ) {\n\t\t\t\tflg = false;\n\t\t\t}\n\t\t} else if( i == smp.size() - 1 && i % 2 == 0 ){\n\t\t\tif( smp[i] >= smp[i - 1] ) \n\t\t\t\tflg = false;\n\t\t} else {\n\t\t\tif( i % 2 == 0 ) {\n\t\t\t\tif( smp[i] >= smp[i + 1] || smp[i] >= smp[i - 1] ) {\n\t\t\t\t\tflg = false;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif( smp[i] <= smp[i + 1] || smp[i] <= smp[i - 1] ) {\n\t\t\t\t\tflg = false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn flg;\n}\n\nint main(void){\n\t//FILE* fp_in = freopen(\"data.txt\", \"r\", stdin);\n\t\n\twhile( 1 ){\n\t\tint n;\n\t\tcin >> n;\n\t\tif( n == 0 ) break;\n\t\tvector< int > pos;\n\t\tvector< int > smp;\n\t\tvector< int > nv_max;\n\t\tvector< int > nv_min;\n\n\t\tfor(int i = 0; i < n; i++) {\n\t\t\tstring str;\n\t\t\tcin >> str;\n\t\t\tif( str == \"x\" ) {\n\t\t\t\tsmp.push_back( 1 << 30 );\n\t\t\t\tpos.push_back( i );\n\t\t\t} else {\n\t\t\t\tsmp.push_back( atoi( str.c_str() ) );\n\t\t\t}\n\t\t}\n\n\t\tfor(int i = 0; i < pos.size(); i++) {\n\t\t\tif( pos[i] % 2 == 0 ) {\n\t\t\t\tpush( pos[i], &smp, &nv_min );\n\t\t\t} else {\n\t\t\t\tpush( pos[i], &smp, &nv_max );\n\t\t\t}\n\t\t}\n\n\t\t\n\n\t\t//最大値最小値を求める\n\t\tint max = 1 << 30, min = 1 << 30;\n\t\tmax *= -1;\n\t\tfor(int i = 0; i < nv_min.size(); i++)\n\t\t\tif( min > nv_min[i] ) min = nv_min[i];\n\t\tfor(int i = 0; i < nv_max.size(); i++)\n\t\t\tif( max < nv_max[i] ) max = nv_max[i];\n\n\t\t//cout << \"   \" << max << \" \" << min << endl;//<< \" \" << smp[1] << \" \" << smp[2] << endl;\n\n\t\tif( smp.size() == pos.size() ) {\n\t\t\tcout << \"none\" << endl;\n\t\t} else if( pos.size() == 0 ) {\n\t\t\tif( chk(smp) ) cout << \"ambiguous\" << endl;\n\t\t\telse cout << \"none\" << endl;\n\t\t} else if( ( nv_min.size() == 0 ) && ( min == -m + 1 ) ) {\n\t\t\tcout << -m << endl;\n\t\t} else if( ( nv_max.size() == 0 ) && ( max == m - 1 ) ) {\n\t\t\tcout << m << endl;\n\t\t} else {\n\t\t\tif( nv_min.size() == 0 || nv_max.size() == 0 ) {\n\t\t\t\tcout << \"ambiguous\" << endl;\n\t\t\t} else if( min - max == 2 ) {\n\t\t\t\tfor(int i = 0; i < pos.size(); i++) {\n\t\t\t\t\tsmp[pos[i]] = ( min + max ) / 2;\n\t\t\t\t}\n\t\t\t\tif( chk(smp) ) cout << ( min + max )/2 << endl;\n\t\t\t\telse cout << \"none\" << endl;\n\t\t\t} else if( min - max < 2 ) {\n\t\t\t\tcout << \"none\" << endl;\n\t\t\t} else {\n\t\t\t\tfor(int i = 0; i < pos.size(); i++) {\n\t\t\t\t\tsmp[pos[i]] = ( min + max ) / 2;\n\t\t\t\t}\n\t\t\t\tif( chk(smp) ) cout << \"ambiguous\" << endl;\n\t\t\t\telse cout << \"none\" << endl;\n\t\t\t}\n\t\t}\n\n\t}\n\n\t//while(1){}\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n#include<string>\nusing namespace std;\n\n#define INF 1e17\n#define int long long\n\nsigned main(){\n    int n,i;\n    while(1){\n        cin>>n;\n        if(n==0)break;\n        vector<string> s(n);\n        for(i=0;i<n;i++)cin>>s[i];\n        \n        int big=-INF;\n        int small=INF;\n        \n        for(i=0;i<n-1;i++)\n            if(s[i]==\"x\"&&s[i+1][0]<='9'&&s[i+1][0]>='0'){\n                if(i%2)big=max(big,(long long)stoi(s[i+1])+1);\n                if(i%2==0)small=min(small,(long long)stoi(s[i+1])-1);\n            }else if(s[i+1]==\"x\"&&s[i][0]<='9'&&s[i][0]>='0'){\n                if(i%2)small=min(small,(long long)stoi(s[i])-1);\n                if(i%2==0)big=max(big,(long long)stoi(s[i])+1);\n            }else if(s[i][0]<='9'&&s[i][0]>='0'&&s[i+1][0]<='9'&&s[i+1][0]>='0'){\n                if(i%2 && stoi(s[i])<=stoi(s[i+1])){\n                    cout<<\"none\"<<endl;\n                    goto END;\n                }\n                if(i%2==0 && stoi(s[i])>=stoi(s[i+1])){\n                    cout<<\"none\"<<endl;\n                    goto END;\n                }\n            }else{\n                cout<<\"none\"<<endl;\n                goto END;\n            }\n        \n        \n       // cout<<\"ans\"<<big<<\" \"<<small<<endl;\n        if(big==small)cout<<big<<endl;\n        else if(big<small)cout<<\"ambiguous\"<<endl;\n        else cout<<\"none\"<<endl;\n    END:;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "//include\n//------------------------------------------\n#include <vector>\n#include <list>\n#include <map>\n#include <set>\n#include <deque>\n#include <stack>\n#include <bitset>\n#include <algorithm>\n#include <functional>\n#include <numeric>\n#include <utility>\n#include <sstream>\n#include <iostream>\n#include <iomanip>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <cctype>\n#include <string>\n#include <cstring>\n#include <ctime>\n#include <climits>\n#include <queue>\n\nusing namespace std;\n\n//typedef\n//------------------------------------------\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<string> VS;\ntypedef pair<int, int> PII;\ntypedef long long LL;\n\n//container util\n//------------------------------------------\n#define ALL(a)  (a).begin(),(a).end()\n#define RALL(a) (a).rbegin(), (a).rend()\n#define PB push_back\n#define MP make_pair\n#define SZ(a) int((a).size())\n#define EACH(i,c) for(typeof((c).begin()) i=(c).begin(); i!=(c).end(); ++i)\n#define EXIST(s,e) ((s).find(e)!=(s).end())\n#define SORT(c) sort((c).begin(),(c).end())\n\n//repetition\n//------------------------------------------\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n)  FOR(i,0,n)\n\n//constant\n//--------------------------------------------\nconst double EPS = 1e-10;\nconst double PI  = acos(-1.0);\nconst int INF = 1234567890;\n\nint main(){\n  cin.tie(0);\n  ios_base::sync_with_stdio(false);\n\n  int N;\n  while(cin>>N,N){\n\tint lb = -INF, ub = INF; // x is in [lb, ub]\n\tVI vi, xs;\n\tvi.PB(INF);\n\tREP(i,N){\n\t  string s; cin >> s;\n\t  if(s == \"x\"){\n\t\tvi.PB(-INF);\n\t\txs.PB(i+1);\n\t  }else{\n\t\tint n;\n\t\tstringstream ss(s);\n\t\tss >> n;\n\t\tvi.PB(n);\n\t  }\n\t}\n\n\tfor(int i: xs){\n\t  if(i % 2)\n\t\tub = min(ub, min(vi[i-1]-1, (i==N? INF: vi[i+1]-1)));\n\t  else\n\t\tlb = max(lb, max(vi[i-1]+1, (i==N? -INF: vi[i+1]+1)));\n\t}\n\tfor(int i=1;i<N;++i){\n\t  if(vi[i] == -INF) continue;\n\t  if(i % 2){\n\t\tif(vi[i+1] != -INF && vi[i] >= vi[i+1])\n\t\t  lb = ub+1;\n\t  }\n\t  else\n\t\tif(vi[i+1] != -INF && vi[i] <= vi[i+1])\n\t\t  lb = ub+1;\n\t}\n\t\n\tif(lb == ub)\n\t  cout << lb << endl;\n\telse if(lb < ub)\n\t  cout << \"ambiguous\" << endl;\n\telse\n\t  cout << \"none\" << endl;\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\n#define all(x) (x).begin(),(x).end()\nconst int mod=1000000007,MAX=10,INF=mod;\n\nint main(){\n    \n    std::ifstream in(\"text.txt\");\n    std::cin.rdbuf(in.rdbuf());\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    \n    \n    while(1){\n        int N;cin>>N;\n        if(N==0) break;\n        int ma=-INF,mi=INF;\n        bool ok=true;\n        vector<string> S(N);\n        \n        for(int i=0;i<N;i++){\n            cin>>S[i];\n        }\n        \n        for(int i=0;i<N-1;i++){\n            if(S[i]==\"x\"){\n                if(S[i+1]==\"x\") ok=false;\n                else if(i%2==0){\n                    mi=min({mi,stoi(S[i+1])-1});\n                }else{\n                    ma=max({ma,stoi(S[i+1])+1});\n                }\n            }\n        }\n        \n        for(int i=N-1;i>=1;i--){\n            if(S[i]==\"x\"){\n                if(S[i-1]!=\"x\"){\n                    if(i%2==1){\n                        ma=max(ma,stoi(S[i-1])+1);\n                    }else{\n                        mi=min(mi,stoi(S[i-1])-1);\n                    }\n                }\n            }\n        }\n        \n        for(int i=1;i<N;i++){\n            if(S[i-1]!=\"x\"&&S[i]!=\"x\"){\n                if(i%2==0){\n                    if(stoi(S[i-1])<=stoi(S[i])) ok=false;\n                }else{\n                    if(stoi(S[i-1])>=stoi(S[i])) ok=false;\n                }\n            }\n        }\n        \n        if(ok){\n            if(mi-ma>=1) cout<<\"ambiguous\"<<endl;\n            else if(ma==mi) cout<<ma<<endl;\n            else cout<<\"none\"<<endl;\n        }else{\n            cout<<\"none\"<<endl;\n        }\n    }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <string>\n#include <cmath>\n#include <cassert>\n#include <iostream>\n#include <algorithm>\n#include <stack>\n#include <queue>\n#include <vector>\n#include <set>\n#include <map>\n#include <bitset>\n#include <functional>\n#include <numeric>\nusing namespace std;\n\n#define repl(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define rep(i,n) repl(i,0,n)\n#define mp(a,b) make_pair((a),(b))\n#define pb(a) push_back((a))\n#define all(x) (x).begin(),(x).end()\n#define dbg(x) cout<<#x\"=\"<<((x))<<endl\n#define fi first\n#define se second\n\n#define INF 2147483600\n#define long long long\n#define BIG 1000000000\n\nint solve(vector<int> &vec){\n  int n=vec.size();\n  // check\n  rep(i,n-1){\n    if(vec[i]==INF && vec[i+1]==INF) return -INF;\n    if(vec[i]!=INF && vec[i+1]!=INF){\n      if(i%2==0) if(vec[i] >= vec[i+1]) return -INF;\n      if(i%2==1) if(vec[i] <= vec[i+1]) return INF;\n    }\n  }\n  int lb=-BIG, ub=BIG;\n  repl(i,1,n-1) if(vec[i]==INF){\n    if(i%2==0){\n      ub = min(ub, min(vec[i-1], vec[i+1])-1);\n    } else {\n      lb = max(lb, max(vec[i-1], vec[i+1])+1);\n    }\n  }\n  if(vec[0]==INF) ub = mix(lb, vec[1]-1);\n  if(vec[n-1]==INF){\n    if(n%2==1) ub = min(ub, vec[n-2]-1);\n    else lb = max(lb, vec[n-2]+1);\n  }\n  if(lb==ub) return lb;\n  else if(lb<ub) return INF;\n  else return -INF;\n}\n\nint main(){\n  int n;\n  while(cin>>n, n){\n    char tmp[15];\n    vector<int> vec(n);\n    rep(i,n){\n      scanf(\"%s\", tmp);\n      if(tmp[0]=='x') vec[i]=INF;\n      else vec[i] = atoi(tmp);\n    }\n    int ret = solve(vec);\n    if(ret==INF) cout<<\"ambiguous\"<<endl;\n    else if(ret==-INF) cout<<\"none\"<<endl;\n    else cout<<ret<<endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define REP(i,n) for(int i=0;i<(n);i++)\n#define ALL(v) (v).begin(),(v).end()\n#define fir first\n#define sec second\n#define PB push_back\n#define MP make_pair\n#define ll long long\nusing namespace std;\nint c[1100];\nint v[1100];\nint main(){\n    int n;\n    while(1){\n        cin>>n;\n        if(n==0)break;\n        REP(i,1100)v[i]=c[i]=0;\n        REP(i,n){\n            string s;\n            cin>>s;\n            if(s==\"x\")c[i]=1;\n            else{\n                REP(j,s.size()){\n                    if(s[j]=='-')continue;\n                    v[i]*=10;v[i]+=s[j]-'0';\n                }\n                if(s[0]=='-')v[i]*=-1;\n            }\n        }\n        int l=-1e9,r=1e9;\n        REP(i,n){\n            if(c[i]){\n                if(i%2==0){\n                    if(i>0){\n                        if(c[i-1])l=1e9,r=-1e9;\n                        else r=min(r,v[i-1]-1);\n                    }\n                    if(i<n-1){\n                        if(c[i+1])l=1e9,r=-1e9;\n                        else r=min(r,v[i+1]-1);\n                    }\n                }else{\n                    if(i>0){\n                        if(c[i-1])l=1e9,r=-1e9;\n                        else l=max(l,v[i-1]+1);\n                    }\n                    if(i<n-1){\n                        if(c[i+1])l=1e9,r=-1e9;\n                        else l=max(l,v[i+1]+1);\n                    }\n                }\n            }else{\n                if(i%2==0){\n                    if(i>0&&!c[i-1]&&v[i]>=v[i-1])l=1e9,r=-1e9;\n                    if(i<n-1&&!c[i+1]&&v[i]>=v[i+1])l=1e9,r=-1e9;\n                }else{\n                    if(i>0&&!c[i-1]&&v[i]<=v[i-1])l=1e9,r=-1e9;\n                    if(i<n-1&&!c[i+1]&&v[i]>=v[i+1])l=1e9,r=-1e9;\n                }\n            }\n        }\n        if(r==l)cout<<r<<endl;\n        else if(l<r)cout<<\"ambiguous\"<<endl;\n        else cout<<\"none\"<<endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<cstdlib>\n\nusing namespace std;\n\nint main(){\n  for(int N;cin>>N,N;){\n    string s[1234];\n    for(int i=0;i<N;i++){\n      cin>>s[i];\n    }\n    bool f=false;\n    int lt=1e9+9,ht=-1e9+9;\n    for(int i=0;i<N-1;i++){\n      if(s[i][0]=='x'){\n\tif(s[i+1][0]=='x'){\n\t  f=true;\n\t}else{\n\t  if(i%2==0){\n\t    lt=min(lt,stoi(s[i+1]));\n\t  }else{\n\t    ht=max(ht,stoi(s[i+1]));\n\t  }\n\t}\n      }else{\n\tif(s[i+1][0]=='x'){\n\t  if((i+1)%2==0){\n\t    lt=min(lt,stoi(s[i]));\n\t  }else{\n\t    ht=max(ht,stoi(s[i]));\n\t  }\n\t}else{\t      \n\t  if(i%2==0){\n\t    f|=stoi(s[i])<=stoi(s[i+1]);\n\t  }else{\n\t    f|=stoi(s[i])>=stoi(s[i+1]);\n\t  }\n\t}\n      }\n    }\n    if(f||lt-ht<2){\n      cout<<\"none\"<<endl;\n    }else if(lt-ht>2){\n      cout<<\"ambiguous\"<<endl;\n    }else{\n      cout<<lt-1<<endl;\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nconst int INF = 1001001001;\n\nint main()\n{\n    int n;\n    \n    while (scanf(\"%d\", &n) && n){\n        int xl = -INF, xr = INF;\n        bool px = false;\n        int pval = 1000000001;\n        bool ok = true;\n        for (int i = 0; i < n; i++){\n            char s[16];\n            scanf(\"%s\", s);\n            if (s[0] == 'x'){\n                if (px) ok = false;\n                else {\n                    if (i & 1) xl = max(xl, pval + 1);\n                    else xr = min(xr, pval - 1);\n                }\n                px = true;\n            }\n            else {\n                int tmp;\n                sscanf(s, \"%d\", &tmp);\n                if (px){\n                    if (i & 1) xr = min(xr, tmp - 1);\n                    else xl = max(xl, tmp + 1);\n                }\n                else {\n                    if (i & 1) ok &= (pval < tmp);\n                    else ok &= (tmp < pval);\n                }\n                pval = tmp;\n                px = false;\n            }\n        }\n        if (!ok || xl > xr) printf(\"none\\n\");\n        else if (xr != xl) printf(\"ambiguous\\n\");\n        else printf(\"%d\\n\", xr);\n    }\n    \n    return (0);\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cmath>\n#include<cstdio>\n#include<algorithm>\n#include<vector>\n#include<cstring>\n#include<queue>\n\nusing namespace std;\n\n#define INF 999999999\n#define REP(i,n) for(int i=0; i<(int)(n); i++)\n\nint str_int(string v){\n\tint a=0;\n\tREP(i, v.size()){\n\t\ta = a*10 + (v[i]-'0');\n\t}\n\treturn a;\n}\n\nint main(){\n\tint n, a, b, fx;\n\tstring ins, sta;\n\tint ans, head, tail;\n\twhile(1){\n\t\tcin >> n;\n\t\tif(!n) break;\n\t\thead = 2000000000;\n\t\ttail = -2000000000;\n\t\tb = 2000000001;\n\t\tfx = 0;\n\t\tsta = \"ambiguous\";\n\t\tREP(i,n){\n\t\t\tcin >> ins;\n\t\t\tif(!fx){\n\t\t\t\tif(ins[0] == 'x'){\n\t\t\t\t\tfx = 1;\n\t\t\t\t\tif(i%2==0){\n\t\t\t\t\t\tif(b-1<head)head = b-1;\n\t\t\t\t\t\tb = tail;\n\t\t\t\t\t}\n\t\t\t\t\telse if(i%2==1){\n\t\t\t\t\t\tif(b+1>tail) tail = b+1;\n\t\t\t\t\t\tb = head;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tfx=0;\n\t\t\t\t\ta = str_int(ins);\n\t\t\t\t\tif(i%2==0&&a>=b) sta = \"none\";\n\t\t\t\t\tif(i%2==1&&a<=b) sta = \"none\";\n\t\t\t\t\tb = a;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif(ins[0] == 'x'){\n\t\t\t\t\tfx=1;\n\t\t\t\t\tsta = \"none\";\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tfx=0;\n\t\t\t\t\ta = str_int(ins);\n\t\t\t\t\tif(i%2==0&&a>=tail) tail = a+1;\n\t\t\t\t\tif(i%2==1&&a<=head) head = a-1;\n\t\t\t\t\tb = a;\n\t\t\t\t}\n\t\t\t}\n\t\t\t//cout << head << \"~\" << tail  << \":\" << sta << endl;\n\t\t}\n\t\t//cout << head << \" \" << tail << \" \";\n\t\tif(sta == \"none\") cout << sta << endl;\n\t\telse{\n\t\t\tif(head == tail) cout << head << endl;\n\t\t\telse if(head < tail) cout << \"none\" << endl;\n\t\t\telse cout << sta << endl;\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#define INF 2000000000\n#define N 1010\nusing namespace std;\ntypedef long long ll;\nvoid Bynary_Search(ll,ll);\nll StoI(string);\nll Judge(ll);\nstring str[N];\nll n,data[N];\n \nint main(){\n  while(1){\n    cin>>n;\n    if(!n) break;\n    data[0]=INF+INF;\n    if(n%2) data[n+1]=INF+INF;\n    else data[n+1]=-INF+INF;\n    for(int i=1;i<=n;i++){\n      cin>>str[i];\n      if(str[i]==\"x\") continue;\n      data[i]=StoI(str[i]);\n    }\n    Bynary_Search(0,1000000100+INF);\n  }\n  return 0;\n}\n \nvoid Bynary_Search(ll l,ll r){\n  ll m;\n  while(l<r-1){\n    m=(ll)(l+r)/2;\n    if(Judge(m)==-2) break;\n    else if(Judge(m)<0) l=m;\n    else if(Judge(m)>0) r=m;\n    else{\n      if(!Judge(m-1)||!Judge(m+1)){\n    cout<<\"ambiguous\"<<endl;\n      }else cout<<m-INF<<endl;\n      return ;\n    }\n  }\n  cout<<\"none\"<<endl;\n}\n \nll Judge(ll d){\n  int judge[N];\n  judge[0]=data[0];\n  judge[n+1]=data[n+1];\n  for(int i=1;i<=n;i++){\n    if(str[i]==\"x\") judge[i]=d;\n    else judge[i]=data[i];\n  }\n  for(int i=1;i<=n;i++)\n    if(str[i]!=\"x\"&&str[i+1]!=\"x\")\n      if(((i%2)&&judge[i]>=judge[i+1])||(!(i%2)&&judge[i]<=judge[i+1])) return -2;\n  for(int i=1;i<=n;i++){\n    if(str[i]!=\"x\") continue;\n    if((i%2)&&(judge[i-1]<=judge[i]||judge[i]>=judge[i+1])) return 1;\n    if(!(i%2)&&(judge[i-1]>=judge[i]||judge[i]<=judge[i+1])) return -1;\n  }\n  return 0;\n}\n \nll StoI(string s){\n  ll ret=0;\n  for(int i=0;i<s.size();i++)\n    ret=ret*10+(s[i]-'0');\n  return ret;  \n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cmath>\n#include <climits>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <fstream>\n#include <iostream>\n#include <list>\n#include <map>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <vector>\n#include <cassert>\n#include <functional>\n\nusing namespace std;\n\n#define LOG(...) printf(__VA_ARGS__)\n//#define LOG(...)\n#define FOR(i,a,b) for(int i=(int)(a);i<(int)(b);++i)\n#define REP(i,n) for(int i=0;i<(int)(n);++i)\n#define ALL(a) (a).begin(),(a).end()\n#define RALL(a) (a).rbegin(),(a).rend()\n#define EXIST(s,e) ((s).find(e)!=(s).end())\n#define SORT(c) sort((c).begin(),(c).end())\n#define RSORT(c) sort((c).rbegin(),(c).rend())\n#define CLR(a) memset((a), 0 ,sizeof(a))\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef vector<bool> vb;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\ntypedef vector<vb> vvb;\ntypedef vector<vi> vvi;\ntypedef vector<vll> vvll;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\n\nconst int dx[] = { -1, 0, 1, 0 }; const int dy[] = { 0, 1, 0, -1 };\n\nint main() {\n\tint n;\n\twhile (cin >> n, n){\n\t\tvector<int> vi(n);\n\t\tREP(i, n){\n\t\t\tstring s;\n\t\t\tcin >> s;\n\t\t\tif (s == \"x\")s = \"-1000000003\";\n\t\t\tvi[i]=stoi(s);\n\t\t}\n\t\tint min_x = -1000000002;//?????¨??§??????x\n\t\tint max_x = 1000000002;\n\t\tbool none = false;\n\t\tint pre = vi[0];\n\t\tif (vi[0] == -1000000003){\n\t\t\tif (n!=1)max_x = min(max_x, vi[1] - 1);\n\t\t}\n\t\tFOR(i,1, n){\n\t\t\tif (pre != -1000000003){\n\t\t\t\tif (i % 2 == 0){//odd\n\t\t\t\t\tif (vi[i] == -1000000003){\n\t\t\t\t\t\tmax_x = min(max_x, vi[i - 1] - 1);\n\t\t\t\t\t\tif (i != n - 1)max_x = min(max_x, vi[i + 1] - 1);\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tif (pre <= vi[i])\n\t\t\t\t\t\t\tnone = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{//even\n\t\t\t\t\tif (vi[i] == -1000000003){\n\t\t\t\t\t\tmin_x = max(min_x, vi[i - 1] + 1);\n\t\t\t\t\t\tif (i != n - 1)min_x = max(min_x, vi[i + 1] + 1);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tif (pre >= vi[i])\n\t\t\t\t\t\t\tnone = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif (vi[i] == -1000000003)none = true;\n\t\t\t}\n\t\t\tif (min_x > max_x){\n\t\t\t\tnone = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tpre = vi[i];\n\t\t}\n\t\tif (none)\n\t\t\tcout << \"none\" << endl;\n\t\telse if (min_x == max_x)\n\t\t\tcout << min_x << endl;\n\t\telse\n\t\t\tcout <<\"ambiguous\" << endl;\n\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<string>\n#include<cstdlib>\n#define inf 1000000002\nusing namespace std;\n\nint main()\n{\n  int ma,mi,N;\n  vector<string> S;\n  string s;\n  while(1){\n    cin>>N;\n    if(N==0)break;\n    S.clear();\n    S.push_back(\"1000000002\");\n    for(int i=0;i<N;i++){\n      cin>>s;\n      S.push_back(s);\n    }\n\n    ma=inf;mi=(-1)*inf;\n    for(int i=1;i<N+1;i++){\n      if(S[i]==\"x\"){\n       \tif(S[i-1]==\"x\"){\n\t  ma=(-1)*inf;mi=inf;\n\t  break;\n\t  }\n\tif(i%2==0){\n\t  mi=max(mi,atoi(S[i-1].c_str())+1);\n\t}\n\tif(i%2==1){\n\t  ma=min(ma,atoi(S[i-1].c_str())-1);\n\t}\n      }\n      else {\n\tif(S[i-1]==\"x\"){\n\t  if(i%2==0){\n\t    ma=min(ma,atoi(S[i].c_str())-1);\n\t  }\n\t  if(i%2==1){\n\t    mi=max(mi,atoi(S[i].c_str())+1);\n\t  }\n\t}\n\telse {\n\t  if(i%2==0){\n            if(S[i]<S[i-1]){\n\t      ma=(-1)*inf;mi=inf;\n\t      break;\n\t    }\n\t  }\n\t  if(i%2==1){\n\t    if(S[i]>S[i-1]){\n\t      ma=(-1)*inf;mi=inf;\n\t      break;\n\t    }\n\t  }\n\t}\n      }\n    }\n    if(ma==mi)cout<<ma<<endl;\n    else if(ma<mi)cout<<\"none\"<<endl;\n    else cout<<\"ambiguous\"<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i, a, n) for(int i = a; i < n; i++)\nusing namespace std;\nconst int INF = 2e9;\n\nint change(string s){\n\tint res = 0, i = 0;\n\tfor(i = 0; i < s.size(); i++){\n\t\tif(s[i] == '-') continue;\n\t\t res = res * 10 + (int)(s[i] - '0');\n\t\t//cout << s[i] - '0' << \" \" << res << endl;\n\t}\n\tif(s[0] == '-') res *= -1;\n\treturn res;\n}\nint main(){\n   \tint n;\n\twhile(cin >> n, n){\n\t\tvector<int> a(n);\n\t\trep(i, 0 ,n){\n\t\t\tstring s;\n\t\t\tcin >> s;\n\t\t\tif(s == \"x\") a[i] = -INF;\n\t\t\telse a[i] = change(s);\n\t\t\t//cout << a[i] << endl;\n\t\t}\n\t\tint l = -INF, h = INF;// x must be [l, h]\n\t\tbool f = true;\n\t\trep(i, 0, n){\n\t\t\tif(a[i] == -INF){\n\t\t\t\tif(i % 2){\n\t\t\t\t\tl = max(l, a[i - 1] + 1);\n\t\t\t\t\tif(i != n - 1) l = max(l, a[i + 1] + 1);\n\t\t\t\t}else{\n\t\t\t\t\tif(i != 0) h = min(h, a[i - 1] - 1);\n\t\t\t\t\tif(i != n - 1) h = min(h, a[i + 1] - 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\trep(i, 0, n) if(a[i] == -INF) a[i] = l;\n\t\trep(i, 0, n){\n\t\t\t\tif(i % 2){\n\t\t\t\t\tif(a[i] <= a[i - 1]) f = false;\n\t\t\t\t\tif(i != n - 1 && a[i] <= a[i + 1]) f = false;\n\t\t\t\t}else{\n\t\t\t\t\tif(i != 0 && a[i] >= a[i - 1]) f = false;\n\t\t\t\t\tif(i != n - 1 && a[i] >= a[i + 1]) f = false;\n\t\t\t\t}\n//ut << i << \" \" << f << endl;\n\t\t}\n\t\tif(l == h && f) cout << l << endl;\n\t\telse if(l > h|| f == false) cout << \"none\" << endl;\n\t\telse cout << \"ambigous\" << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <cmath>\n#include <algorithm>\n#include <stack>\n#include <queue>\n#include <vector>\ntypedef long long int ll;\n\n#define BIG_NUM 2000000000\n\nusing namespace std;\n\nint N;\n\nvoid func(){\n\n\tchar buf[20];\n\tint low = - 1500000000,high = 1500000000,tmp,pre = BIG_NUM;\n\tbool FLG = true;\n\n\tfor(int i = 1; i <= N; i++){\n\t\tscanf(\"%s\",buf);\n\n\t\tif(buf[0] == 'x'){\n\n\t\t\tif(pre == BIG_NUM){\n\t\t\t\tif(i != 1){\n\t\t\t\t\tFLG = false;\n\t\t\t\t}else{\n\t\t\t\t\t//Do nothing\n\t\t\t\t}\n\t\t\t}else{\n\n\t\t\t\tif(i%2 == 0){\n\t\t\t\t\tlow = max(low,pre+1);\n\t\t\t\t\tif(low > high){\n\t\t\t\t\t\tFLG = false;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\thigh = min(high,pre-1);\n\t\t\t\t\tif(low > high){\n\t\t\t\t\t\tFLG = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tpre = BIG_NUM;\n\t\t}else{\n\t\t\ttmp = 0;\n\t\t\tif(buf[0] == '-'){\n\t\t\t\tfor(int k = 1; buf[k] != '\\0'; k++){\n\t\t\t\t\ttmp = 10*tmp + buf[k] - '0';\n\t\t\t\t}\n\t\t\t\ttmp *= -1;\n\t\t\t}else{\n\t\t\t\tfor(int k = 0; buf[k] != '\\0'; k++){\n\t\t\t\t\ttmp = 10*tmp + buf[k] - '0';\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(i > 1 && pre == BIG_NUM){\n\n\t\t\t\tif(i%2 == 0){\n\t\t\t\t\thigh = min(high,tmp-1);\n\t\t\t\t\tif(low > high){\n\t\t\t\t\t\tFLG = false;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tlow = max(low,tmp+1);\n\t\t\t\t\tif(low > high){\n\t\t\t\t\t\tFLG = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else{ //i == 1 || pre != BIG_NUM\n\n\t\t\t\tif(i != 1){\n\t\t\t\t\tif(i % 2 == 0){\n\t\t\t\t\t\tif(tmp <= pre)FLG = false;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif(tmp >= pre)FLG = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tpre = tmp;\n\t\t}\n\t}\n\n\tif(!FLG)printf(\"none\\n\");\n\telse{\n\t\tif(low == high){\n\t\t\tprintf(\"%d\\n\",low);\n\t\t}else{\n\t\t\tprintf(\"ambiguous\\n\");\n\t\t}\n\t}\n\n}\n\nint main(){\n\n\twhile(true){\n\t\tscanf(\"%d\",&N);\n\t\tif(N == 0)break;\n\n\t\tfunc();\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint go(vector<long long> v,int num){\n\tvector<long long> diff;\n\tfor(int i = 0 ; i < v.size() ; i++){\n\t\tif( v[i] == -1e15 ) v[i] = num;\n\t\tif(i)diff.push_back(v[i]-v[i-1]);\n\t\t\n\t}\n\tfor(int i = 0 ; i < diff.size() ; i++){\n\t\tif( ((i%2)^(diff[i]<0)) || diff[i] == 0 ){\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n}\nint main(){\n\tint N;\n\twhile(cin >> N && N){\n\t\tvector<long long> u = {0,1,2,3,4,5};\n\t\tvector<long long> h;\n\t\tfor(int i = 0 ; i < N ; i++){\n\t\t\tstring s;\n\t\t\tcin >> s;\n\t\t\tif( s == \"x\" ){\n\t\t\t\th.push_back(-1e15);\n\t\t\t}else{\n\t\t\t\tstringstream ss(s);\n\t\t\t\tlong long w;\n\t\t\t\tss >> w;\n\t\t\t\th.push_back(w);\n\t\t\t\tfor(int j = -2 ; j <= 2 ; j++){\n\t\t\t\t\tu.push_back(w+j);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tsort(u.begin(),u.end());\n\t\tu.erase(unique(u.begin(),u.end()),u.end());\n\t\tlong long res = 0;\n\t\tlong long val;\n\t\tfor(int i = 0 ; i < u.size() ; i++){\n\t\t\tif( go(h,u[i]) ){\n\t\t\t\tval = u[i];\n\t\t\t\tres ++;\t\n\t\t\t}\n\t\t}\n\t\tif( res == 1) cout << val << endl;\n\t\telse if( res == 0 ) cout << \"none\" << endl;\n\t\telse cout << \"ambiguous\" << endl;\n\t}\n\t\t\t\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\n\nint main()\n{\n  int N;\n  int a[1000];\n\n  while(cin >> N, N) {\n    vector< int > nums;\n    for(int i = 0; i < N; i++) {\n      string S;\n      cin >> S;\n      if(S == \"x\") {\n        a[i] = (1 << 30);\n      } else {\n        a[i] = stoi(S);\n        for(int j = -2; j <= 2; j++) nums.push_back(a[i] + j);\n      }\n    }\n    sort(nums.begin(), nums.end());\n    nums.erase(unique(nums.begin(), nums.end()), nums.end());\n\n    int ret = 0;\n    vector< int > ans;\n    for(int i = 0; i < nums.size(); i++) {\n      int& x = nums[i];\n      bool flag = true;\n      for(int j = 1; j < N; j++) {\n        int prevcur = (a[j - 1] == (1 << 30) ? x : a[j - 1]);\n        int realcur = (a[j] == (1 << 30) ? x : a[j]);\n        if(j & 1) flag &= prevcur < realcur;\n        else flag &= prevcur > realcur;\n      }\n      ret += flag;\n      if(flag) ans.push_back(nums[i]);\n    }\n    if(ret == 0) cout << \"none\" << endl;\n    else if(ret == 1) cout << ans[0] << endl;\n    else cout << \"ambiguous\" << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\n\nint main() {\n\n  while( true ) {\n\n    long long int n;\n    cin >> n;\n    if ( n == 0 ) break;\n\n    long long int ue = 10000000000;\n    long long int shita = -10000000000;\n\n    bool f = true;\n\n    long long int b;\n    long long int k = 10000000000;\n\n    for ( long long int i = 0; i < n; i++ ) {\n\n      string in;\n      cin >> in;\n\n      if ( in != \"x\" ) {\n\tk = 0;\n\tfor ( long long int j = 0; j < in.size(); j++ ) {\n\t  if ( in[j] == '-' ) continue;\n\t  k = k * 10 + in[j] - '0';\n\t}\n\tif ( in[0] == '-' ) k = -k;\n\tif ( i > 0 ) {\n\t  if ( b == 10000000000 ) {\n\t    if ( ( i % 2 ) == 0 ) {\n\t      shita = max( shita, k + 1 );\n\t    }else {\n\t      ue = min( ue, k - 1 );\n\t    }\n\t  }else {\n\t    if ( ( i % 2 ) == 0 ) {\n\t      if ( b <= k ) f = false;\n\t    }else {\n\t      if ( b >= k ) f = false;\n\t    }\n\t  }\n\t}\n      }else {\n\tk = 10000000000;\n\tif ( i > 0 ) {\n\t  if ( b == 10000000000 ) {\n\t    f = false;\n\t  }else {\n\t    if ( ( i % 2 ) == 0 ) {\n\t      ue = min( ue, b - 1 );\n\t    }else {\n\t      shita = max( shita, b + 1 );\n\t    }\n\t  }\n\t}\n      }\n\n      b = k;\n\n    }\n\n    if ( f == false || ue < shita ) {\n      cout << \"none\" << endl;\n    }else if ( ue == shita ) {\n      cout << ue << endl;\n    }else {\n      cout << \"ambiguous\" << endl;\n    }\n\n  }\n\n  return 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <string>\n#include <cmath>\n#include <cassert>\n#include <iostream>\n#include <algorithm>\n#include <stack>\n#include <queue>\n#include <vector>\n#include <set>\n#include <map>\n#include <bitset>\n#include <functional>\n#include <numeric>\nusing namespace std;\n\n#define repl(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define rep(i,n) repl(i,0,n)\n#define mp(a,b) make_pair((a),(b))\n#define pb(a) push_back((a))\n#define all(x) (x).begin(),(x).end()\n#define dbg(x) cout<<#x\"=\"<<((x))<<endl\n#define fi first\n#define se second\n\n#define INF 2147483600\n#define long long long\n#define BIG 1000000000\n\nint solve(vector<int> &vec){\n  int n=vec.size();\n  // check\n  rep(i,n-1){\n    if(vec[i]==INF && vec[i+1]==INF) return -INF;\n    if(vec[i]!=INF && vec[i+1]!=INF){\n      if(i%2==0) if(vec[i] >= vec[i+1]) return -INF;\n      if(i%2==1) if(vec[i] <= vec[i+1]) return INF;\n    }\n  }\n  int lb=-BIG, ub=BIG;\n  repl(i,1,n-1) if(vec[i]==INF){\n    if(i%2==0){\n      ub = min(ub, min(vec[i-1], vec[i+1])-1);\n    } else {\n      lb = max(lb, max(vec[i-1], vec[i+1])+1);\n    }\n  }\n  if(vec[0]==INF) ub = min(lb, vec[1]-1);\n  if(vec[n-1]==INF){\n    if(n%2==1) ub = min(ub, vec[n-2]-1);\n    else lb = max(lb, vec[n-2]+1);\n  }\n  if(lb==ub) return lb;\n  else if(lb<ub) return INF;\n  else return -INF;\n}\n\nint main(){\n  int n;\n  while(cin>>n, n){\n    char tmp[15];\n    vector<int> vec(n);\n    rep(i,n){\n      scanf(\"%s\", tmp);\n      if(tmp[0]=='x') vec[i]=INF;\n      else vec[i] = atoi(tmp);\n    }\n    int ret = solve(vec);\n    if(ret==INF) cout<<\"ambiguous\"<<endl;\n    else if(ret==-INF) cout<<\"none\"<<endl;\n    else cout<<ret<<endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#define INF 1500000000\n#define N 1010\nusing namespace std;\ntypedef long long ll;\nvoid Bynary_Search(ll,ll);\nll StoI(string);\nll Judge(ll);\nstring str[N];\nll n,data[N];\n \nint main(){\n  while(1){\n    cin>>n;\n    if(!n) break;\n    data[0]=(ll)INF+INF;\n    if(n%2) data[n+1]=(ll)INF+INF;\n    else data[n+1]=0;\n    for(int i=1;i<=n;i++){\n      cin>>str[i];\n      if(str[i]==\"x\") continue;\n      data[i]=StoI(str[i])+INF;\n    }\n    Bynary_Search(0,(ll)1000000100+INF);\n  }\n  return 0;\n}\n \nvoid Bynary_Search(ll l,ll r){\n  ll m;\n  while(l<r-1){\n    m=(ll)(l+r)/2;\n    if(Judge(m)==-2) break;\n    else if(Judge(m)<0) l=m;\n    else if(Judge(m)>0) r=m;\n    else{\n      if(!Judge(m-1)||!Judge(m+1)){\n\tcout<<\"ambiguous\"<<endl;\n      }else cout<<m-INF<<endl;\n      return ;\n    }\n  }\n  cout<<\"none\"<<endl;\n}\n \nll Judge(ll d){\n  ll judge[N];\n  judge[0]=data[0];\n  judge[n+1]=data[n+1];\n  for(int i=1;i<=n;i++){\n    if(str[i]==\"x\") judge[i]=d;\n    else judge[i]=data[i];\n  }\n  for(int i=1;i<=n;i++)\n    if(str[i]!=\"x\"&&str[i+1]!=\"x\")\n      if(((i%2)&&judge[i]>=judge[i+1])||(!(i%2)&&judge[i]<=judge[i+1])) return -2;\n  for(int i=1;i<=n;i++){\n    if(str[i]!=\"x\") continue;\n    if((i%2)&&(judge[i-1]<=judge[i]||judge[i]>=judge[i+1])) return 1;\n    if(!(i%2)&&(judge[i-1]>=judge[i]||judge[i]<=judge[i+1])) return -1;\n  }\n  return 0;\n}\n \nll StoI(string s){\n  ll ret=0;\n  for(int i=0;i<s.size();i++)\n    ret=ret*10+(s[i]-'0');\n  return ret;  \n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#define INF 2000000000\n#define N 1002\nusing namespace std;\nvoid Bynary_Search(int,int);\nint StoI(string);\nint Judge(int);\nstring str[N];\nint n,data[N];\n\nint main(){\n  while(1){\n    cin>>n;\n    if(!n) break;\n    data[0]=INF;\n    if(n%2) data[n+1]=INF;\n    else data[n+1]=-INF;\n    for(int i=1;i<=n;i++){\n      cin>>str[i];\n      if(str[i]==\"x\") continue;\n      data[i]=StoI(str[i]);\n    }\n    /*    for(int i=1;i<=n;i++) cout<<data[i]<<' ';\n\t  cout<<endl;*/\n    Bynary_Search(-1000000003,1000000003);\n  }\n  return 0;\n}\n\nvoid Bynary_Search(int l,int r){\n  int m;\n  while(l+1<r){\n    m=(long long)(l+r)/2;\n    if(Judge(m)==-2) break;\n    else if(Judge(m)<0) l=m;\n    else if(Judge(m)>0) r=m;\n    else{\n      if(!Judge(m-1)||!Judge(m+1)){\n\tcout<<\"ambiguous\"<<endl;\n      }else cout<<'a'<<m<<endl;\n      return ;\n    }\n  }\n  cout<<\"none\"<<endl;\n}\n\nint Judge(int d){\n  int judge[N];\n  for(int i=1;i<=n;i++){\n    if(str[i]==\"x\") judge[i]=d;\n    else judge[i]=data[i];\n  }\n  for(int i=1;i<=n;i++)\n    if(str[i]!=\"x\"&&str[i+1]!=\"x\")\n      if(((i%2)&&judge[i]>=judge[i+1])||(!(i%2)&&judge[i]<=judge[i+1])) return -2;\n  for(int i=1;i<=n;i++){\n    if(str[i]!=\"x\") continue;\n    if((i%2)&&(judge[i-1]<=judge[i]||judge[i]>=judge[i+1])) return 1;\n    if(!(i%2)&&(judge[i-1]>=judge[i]||judge[i]<=judge[i+1])) return -1;\n  }\n  return 0;\n}\n\nint StoI(string s){\n  int ret=0;\n  for(int i=0;i<s.size();i++)\n    ret=ret*10+(s[i]-'0');\n  return ret;  \n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<algorithm>\nusing namespace std;\nchar str[20];\nint b[1100];\nint c[1100];\nint main(){\n\tint a;\n\twhile(scanf(\"%d\",&a),a){\n\t\tfor(int i=0;i<a;i++)b[i]=c[i]=0;\n\t\tfor(int i=0;i<a;i++){\n\t\t\tscanf(\"%s\",str);\n\t\t\tif(str[0]=='x'){\n\t\t\t\tc[i]=1;\n\t\t\t}else sscanf(str,\"%d\",b+i);\n\t\t}\n\t\tint L=-1111111111;\n\t\tint R=1111111111;\n\t\tfor(int i=0;i<a;i++){\n\t\t\tif(c[i]==1){\n\t\t\t\tif(i%2==0){\n\t\t\t\t\tif(i){\n\t\t\t\t\t\tif(c[i-1]==1){L=1111111111;R=-1111111111;}\n\t\t\t\t\t\telse R=min(R,b[i-1]-1);\n\t\t\t\t\t}\n\t\t\t\t\tif(i<a-1){\n\t\t\t\t\t\tif(c[i+1]==1){L=1111111111;R=-1111111111;}\n\t\t\t\t\t\telse R=min(R,b[i+1]-1);\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(i){\n\t\t\t\t\t\tif(c[i-1]==1){L=1111111111;R=-1111111111;}\n\t\t\t\t\t\telse L=max(L,b[i-1]+1);\n\t\t\t\t\t}\n\t\t\t\t\tif(i<a-1){\n\t\t\t\t\t\tif(c[i+1]==1){L=1111111111;R=-1111111111;}\n\t\t\t\t\t\telse L=max(L,b[i+1]+1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(i%2==0){\n\t\t\t\t\tif(i&&!c[i-1]&&b[i]>=b[i-1]){L=1111111111;R=-1111111111;}\n\t\t\t\t\tif(i<a-1&&!c[i+1]&&b[i]>=b[i+1]){L=1111111111;R=-1111111111;}\n\t\t\t\t}else{\n\t\t\t\t\tif(i&&!c[i-1]&&b[i]<=b[i-1]){L=1111111111;R=-1111111111;}\n\t\t\t\t\tif(i<a-1&&!c[i+1]&&b[i]<=b[i+1]){L=1111111111;R=-1111111111;}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(L>R)printf(\"none\\n\");\n\t\telse if(L<R)printf(\"ambiguous\\n\");\n\t\telse printf(\"%d\\n\",L);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<vector>\n#include<cstdio>\n#include<sstream>\n#include<algorithm>\n#include<cmath>\n#include<map>\n#include<functional>\nusing namespace std;\nint stoi(string x){stringstream ss;ss<<x;int tmp;ss>>tmp;return tmp;}\nstring itos(int x){stringstream ss;ss<<x;return ss.str();}\nconst int INF=1111111111;\nint main(){\nint n;\nwhile(cin>>n,n){\n\tint a=-INF,b=INF;\n\tbool none_flag=0,void_flag=1,ok=1;\n\tvector<int>ta(0);\n\tfor(int i=0;i<n;i++){\n\t\tstring tmp;\n\t\tcin>>tmp;\n\t\tif(tmp==\"x\")ta.push_back(INF);\n\t\telse ta.push_back( stoi(tmp) );\n\t}\n\tfor(int i=1;i<n;i++){\n\tif(ta[i]==INF&&ta[i-1]==INF)none_flag=1;\n\tif(ta[i]==INF)void_flag=0;\n\t}\n\tif(ta[0]==INF)void_flag=0;\n\t\n\tfor(int i=0;i<n;i++){\n\t\tif(ta[i]==INF){\n\t\t\tint xa,xb;\n\t\t\tif((i+1)%2==0){//?????°\n\t\t\tif(i==0)xa=ta[1],xb=-INF;\n\t\t\telse if(i==n-1)xa=ta[n-2],xb=-INF;\n\t\t\telse xa=ta[i-1],xb=ta[i+1];\n\t\t\ta=max( a,max(xa,xb) );\n\t\t\t}\n\t\t\telse {\n\t\t\tif(i==0)xa=ta[1],xb=INF;\n\t\t\telse if(i==n-1)xa=ta[n-2],xb=INF;\n\t\t\telse xa=ta[i-1],xb=ta[i+1];\n\t\t\tb=min(b,min(xa,xb));\n\t\t\t}//endelse\n\t\t\t\n\t\t}//endif\n\t}//endfor\n\tfor(int i=0;i<n;i++){\n\tif((i+1)%2==1){//?\\???°\n\tif(i==0&&ta[i+1]<=ta[i])ok=0;\n\t\telse if(i==0){}\n\telse if(i==n-1&&ta[n-2]<=ta[i])ok=0;\n\t\telse if(i==n-1){}\n\telse if(ta[i-1]<=ta[i]||ta[i+1]<=ta[i])ok=0;\n\t}\n\telse {\n\tif(i==0&&ta[i+1]>=ta[i])ok=0;\n\t\telse if(i==0){}\n\tif(i==n-1&&ta[n-2]>=ta[n-1]){ok=0;}\n\telse if(i==n-1){}\n\telse if(ta[i-1]>=ta[i]||ta[i+1]>=ta[i])ok=0;\n\t}\n\t}\n\t//cout<<a<<\" \"<<b<<none_flag<<\" \"<<void_flag<<endl;\n\tif(none_flag)cout<<\"none\"<<endl;\n\telse if(void_flag&&ok)cout<<\"ambiguous\"<<endl;\n\telse if(void_flag&&ok==0)cout<<\"none\"<<endl;\n\telse {\n\tint cnt=0;\n\tfor(int i=a+1;i<b;i++)cnt++;\n\tif(cnt==0)cout<<\"none\"<<endl;\n\telse if(cnt==1)cout<<a+1<<endl;\n\telse if(cnt>=2)cout<<\"ambiguous\"<<endl;\n\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define int long long\nconst int INF = 1e9+10;\n\nsigned main() {\n  cin.tie(0);\n  ios_base::sync_with_stdio(0);\n  cout << fixed << setprecision(12);\n\n  int n;\n  while ( cin >> n, n ) {\n    vector<int> a(n);\n    for ( int i = 0; i < n; i++ ) {\n      string s;\n      cin >> s;\n      if ( s == \"x\" ) a[i] = INF;\n      else a[i] = atoi(s.c_str());\n    }\n\n    int mi = -INF;\n    int ma = INF;\n    int cnt = 0;\n    bool flag = false;\n    for ( int i = 0; i < n; i++ ) {\n      if ( a[i] != INF ) {\n\tif ( i%2 ) {\n\t  if ( i && a[i-1] != INF ) flag |= (a[i] <= a[i-1]);\n\t \n\t  if ( i < n-1 && a[i+1] != INF ) flag |= (a[i] <= a[i+1]);\n\t} else {\n\t  if ( i && a[i-1] != INF ) flag |= (a[i] >= a[i-1]);\n\t  if ( i < n-1 && a[i+1] != INF ) flag |= (a[i] >= a[i+1]);   \n\t}\n\tcontinue;\n      }\n      if ( i < n-1 && a[i+1] == INF ) {\n\tmi = INF+10;\n\tbreak;\t\n      }\n      if ( i%2 ) {\n\tif ( i ) mi = max(mi, a[i-1]+1);\n\tif ( i < n-1 ) mi = max(mi, a[i+1]+1);\t\n      } else {\n\tif ( i ) ma = min(ma, a[i-1]-1);\n\tif ( i < n-1 ) ma = min(ma, a[i+1]-1);\t\n      }\n    }    \n\n    if ( flag ) cout << \"none\" << endl; \n    else if ( mi == ma ) cout << mi << endl;\n    else if ( mi < ma ) cout << \"ambiguous\" << endl;\n    else cout << \"none\" << endl;\n  }\n  \n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define REP(i, s, e) for(int i = (int)s; i < (int) e; i++)\n#define rep(i, n) REP(i, 0 ,n)\n#define all(x) (x).begin(), (x).end()\n#define rall(x) (x).rbegin(), (x).rend()\n\n#define fi first\n#define se second\n#define pb push_back\n#define mp make_pair\n\n\ntypedef long long ll;\n\nint perseInt(string s){\n  bool f = s[0] == '-';\n  int ret = 0;\n  REP(i, f ? 1 : 0, s.size()) ret *= 10, ret += (s[i]-'0');\n  if(f) ret *= -1;\n  return ret;\n}\n\nint main(){\n  int n;\n  while(cin>>n && n){\n        vector<int> v;\n        string s;\n        rep(i, n){\n          cin>>s;\n          v.pb(s==\"x\"?2e9:perseInt(s));\n        }\n        int l = -2e9, r = 2e9;\n        bool ng = false;\n        rep(i, n){\n          if(v[i] != 2e9) {\n                if(i > 0 && v[i-1] != 2e9){\n                  if(i % 2 == 1 && v[i-1] >= v[i]) ng = true;\n                  else if(i % 2 == 0 && v[i-1] <= v[i]) ng = true;\n                }\n                if(i + 1 < n && v[i+1] != 2e9){\n                  if(i % 2 == 1 && v[i+1] >= v[i]) ng = true;\n                  else if(i % 2 == 0 && v[i+1] <= v[i]) ng = true;\n                }\n          }\n          else {\n                if(i > 0){\n                  if(v[i-1]==2e9) ng = true;\n                  else {\n                        if(i % 2 == 0) r = min(r, v[i-1]);\n                        else l = max(l, v[i-1]);\n                  }\n                }\n                if(i + 1 < n){\n                  if(v[i+1] == 2e9) ng = true;\n                  else{\n                        if(i%2==0) r = min(r, v[i+1]);\n                        else l= max(l, v[i+1]);\n                  }\n                }\n          }\n        }\n        if(ng || (ll)r - l < 2) printf(\"%s\\n\", \"none\");\n        else if((ll)r - l > 2) printf(\"%s\\n\", \"ambiguous\");\n        else printf(\"%d\\n\", l + 1);\n        //cout<<\" \"<<l<<\" \"<<r<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef vector<int> vi;\ntypedef vector<vi> vii;\ntypedef vector<string> vs;\ntypedef vector<bool> vb;\ntypedef vector<vb> vbb;\ntypedef pair<int, int> pii;\ntypedef long long ll;\ntypedef unsigned long long ull;\n\n#define all(a)  (a).begin(),(a).end()\n#define rall(a) (a).rbegin(), (a).rend()\n#define pb push_back\n#define mp make_pair\n\n#define loop(i,a,b) for(int i=(a);i<ull(b);++i)\n#define rep(i,n) loop(i,0,n)\n\nconst double eps = 1e-10;\nconst double pi  = acos(-1.0);\nconst double inf = (int)1e9+10;\n\nbool isIn(int x, int n){\n     return 0 <= x && x < n;\n}\n\nint main(){\n    int n;\n    while(cin >> n, n){\n        vector<string> v(n);\n        rep(i, n) cin >> v[i];\n        bool none = false;\n        rep(i, n-1){\n            if(v[i] == v[i+1] && v[i+1] == \"x\") none = true;\n            if(v[i] != \"x\" && v[i+1] != \"x\"){\n                if(i%2 == 0 && v[i] >= v[i+1]) none = true;\n                else if(i%2 == 1 && v[i] <= v[i+1]) none = true;\n            }\n        }\n        if(none){cout << \"none\" << endl; continue;}\n        int upper = inf, lower = 0;\n\n        rep(i, n){\n            if(v[i] == \"x\"){\n                if(i%2 == 0){\n                    int a=inf, b=inf;\n                    if(isIn(i-1, v.size()) && v[i-1] != \"x\") a = stoi(v[i-1]);\n                    if(isIn(i+1, v.size()) && v[i+1] != \"x\") b = stoi(v[i+1]);\n                    upper = min(upper, min(a, b));\n                } else {\n                    int a=0, b=0;\n                    if(isIn(i-1, v.size()) && v[i-1] != \"x\") a = stoi(v[i-1]);\n                    if(isIn(i+1, v.size()) && v[i+1] != \"x\") b = stoi(v[i+1]);\n                    lower = max(lower, max(a, b));\n                }\n            }\n        }\n        if(upper-lower < 2) cout << \"none\" << endl;\n        else if(upper-2 == lower) cout << upper-1 << endl;\n        else cout << \"ambiguous\" << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <set>\n#include <cmath>\n#include <stack>\n#include <cstdio>\n#include <cstring>\n#include <iostream>\n#include <algorithm>\n#include <cstdlib>\n#include <numeric>\n#include <vector>\n#include <ctime>\n#include <queue>\n#include <list>\n#include <map>\n#define pi acos(-1.0)\n#define INF 0x3f3f3f3f\n#define clr(x)  memset(x,0,sizeof(x));\n#define clrto(x,siz,y)  for(int xx=0;xx<=siz;xx++)  x[xx]=y;\n#define clrset(x,siz)  for(int xx=0;xx<=siz;xx++)  x[xx]=xx;\n#define clr_1(x) memset(x,-1,sizeof(x));\n#define clrmax(x) memset(x,0x3f,sizeof(x));\n#define clrvec(x,siz) for(int xx=0;xx<=siz;xx++)  x[xx].clear();\n#define fop2   freopen(\".in\",\"r\",stdin); //freopen(\".out\",\"w\",stdout);\n#define fop   freopen(\"in.txt\",\"r\",stdin);//freopen(\"out.txt\",\"w\",stdout);\n#define getfile sprintf(fin, \"%d.in\", i); sprintf(fout, \"%d.out\", i); freopen(fin, \"r\", stdin); freopen(fout, \"w\", stdout);\n#define myprogram By_135678942570\n#define clrcpy(x,siz,y)  for(int xx=0;xx<siz;xx++)  x[xx]=y[xx];\n#define pb push_back\nusing namespace std;\nint main()\n{\n\tint n;\n\twhile(1)\n\t{\n\t\tscanf(\"%d\", &n);\n\t\tif(n == 0)\n\t\t\tbreak;\n\t\tint num[1001] = {0};\n\t\tfor(int i = 0; i < n; i++)\n\t\t{\n\t\t\tchar s[11] = {0};\n\t\t\tscanf(\"%s\", s);\n\t\t\tif(s[0] == 'x')\n\t\t\t{\n\t\t\t\tnum[i] = -0x3f3f3f3f;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tint pos = 0;\n\t\t\tint flag = 0;\n\t\t\tif(s[pos] == '-')\n\t\t\t{\n\t\t\t\tpos++;\n\t\t\t\tflag = 1;\n\t\t\t}\n\t\t\twhile(s[pos] != 0)\n\t\t\t{\n\t\t\t\tnum[i] = num[i] * 10 + s[pos] - '0';\n\t\t\t\tpos++;\n\t\t\t}\n\t\t\tif(flag) num[i] = -num[i];\n\t\t}\n\t\t// for(int i = 0; i < n; i++)\n\t\t// \tprintf(\"%d \", num[i]);\n\t\tint cont = 0;\n\t\tfor(int i = 0; i < n - 1; i++)\n\t\t\tif(num[i] == -0x3f3f3f3f && num[i + 1] == -0x3f3f3f3f)\n\t\t\t{\n\t\t\t\tcont = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\tif(cont)\n\t\t{\n\t\t\tputs(\"none\");\n\t\t\tcontinue;\n\t\t}\n\t\tint maxn = 2000000000;\n\t\tint minn = -2000000000;\n\t\tint invalid = 0;\n\t\tfor(int i = 0; i < n; i++)\n\t\t{\n\t\t\tif(num[i] == -0x3f3f3f3f)\n\t\t\t{\n\t\t\t\tif(i == 0)\n\t\t\t\t\tmaxn = min(maxn, num[i + 1] - 1);\n\t\t\t\telse if(i % 2 == 0)\n\t\t\t\t{\n\t\t\t\t\tnum[n] = 0x3f3f3f3f;\n\t\t\t\t\tmaxn = min(maxn, min(num[i - 1], num[i + 1]) - 1);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tnum[n] = -0x3f3f3f3f;\n\t\t\t\t\tminn = max(minn, max(num[i - 1], num[i + 1]) + 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif(i == 0 && num[i + 1] != -0x3f3f3f3f && num[i] > num[i + 1])\n\t\t\t\t{\n\t\t\t\t\tinvalid = 1;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\telse if(i != 0 && i % 2 == 0)\n\t\t\t\t{\n\t\t\t\t\tnum[n] = -0x3f3f3f3f;\n\t\t\t\t\tif(num[i - 1] != -0x3f3f3f3f && num[i] >= num[i - 1] || num[i] >= num[i + 1] && num[i + 1] != -0x3f3f3f3f)\n\t\t\t\t\t{\n\t\t\t\t\t\tinvalid = 1;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if(i != 0)\n\t\t\t\t{\n\t\t\t\t\tnum[n] = -0x3f3f3f3f;\n\t\t\t\t\tif(num[i - 1] != -0x3f3f3f3f && num[i] <= num[i - 1] || num[i] <= num[i + 1] && num[i + 1] != -0x3f3f3f3f)\n\t\t\t\t\t{\n\t\t\t\t\t\tinvalid = 1;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t// printf(\"%d %d\\n\", minn, maxn);\n\t\tif(invalid)\n\t\t{\n\t\t\tputs(\"none\");\n\t\t\tcontinue;\n\t\t}\n\t\tif(minn > maxn)\n\t\t\tputs(\"none\");\n\t\telse if(minn == maxn)\n\t\t\tprintf(\"%d\\n\", minn);\n\t\telse puts(\"ambiguous\");\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nconst int INF = 0x7fffffff;\n\nint N;\n\nstring solve(void){\n    int v[1000];\n    vector<int> xv;\n    fill(v, v + N, INF);\n    for(int x = 0; x < N; x++){\n        string s;\n        cin >> s;\n        if(s == \"x\"){\n            xv.push_back(x);\n        }else{\n            v[x] = stoi(s);\n        }\n    }\n    for(int x = 0; x < N-1; x++){\n        if(v[x] == INF || v[x+1] == INF) continue;\n        if(x%2 == 0 && v[x] >= v[x+1]) return \"none\";\n        if(x%2 &&      v[x] <= v[x+1]) return \"none\";\n    }\n    int min_v = -INF, max_v = INF;\n    for(int i = 0; i < xv.size(); i++){\n        if(xv[i] < N-1 && v[xv[i]+1] == INF) return \"none\";\n        if(0 < xv[i]   && v[xv[i]-1] == INF) return \"none\";\n        if(xv[i] % 2){\n            min_v = max(min_v, v[xv[i]-1]+1);\n            if(xv[i] < N-1) min_v = max(min_v, v[xv[i]+1]+1);\n        }else{\n            if(xv[i]) max_v = min(max_v, v[xv[i]-1]-1);\n            if(xv[i] < N-1) max_v = min(max_v, v[xv[i]+1]-1);\n        }\n    }\n    if(min_v > max_v) return \"none\";\n    if(min_v == max_v){\n        stringstream ss;\n        ss << min_v;\n        return ss.str();\n    }\n    return \"ambiguous\";\n}\n\nint main(){\n    while(cin >> N && N){\n        cout << solve() << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main(){\n\n  int N;\n  \n  while(1){\n    cin >>N;\n    if(N == 0)break;\n    vector<string> vec;\n    for(int i=0 ; i < N ; i++){\n      string in;\n      cin >>in;\n      vec.push_back(in);\n    }\n    \n    bool flag=true;\n    for(int i=0 ; i < N ; i++){\n      if(vec[i] != \"x\"){\n\tbool left=false,right=false;\n\tint temp1,temp2;\n\tif(i-1>=0 && vec[i-1] != \"x\"){\n\t  stringstream ss;\n\t  ss << vec[i-1];\n\t  ss >>temp1;\n\t  left=true;\n\t}\n\tif(i+1 < N && vec[i+1] != \"x\"){\n\t  stringstream ss2;\n\t  ss2 << vec[i+1];\n\t  ss2 >> temp2;\n\t  right=true;\n\t}\n\tif((i+1)%2 == 0){\n\t  stringstream ss3;\n\t  int temp3;\n\t  ss3 << vec[i];\n\t  ss3 >> temp3;\n\t  if(left && temp3 <= temp1){\n\t    flag=false;\n\t  }\n\t  if(right && temp3 <= temp2){\n\t    flag=false;\n\t  }\n\t}else{\n\t  stringstream ss4;\n\t  int temp4;\n\t  ss4 << vec[i];\n\t  ss4 >> temp4;\n\t  if(left && temp4 >= temp1){\n\t    flag=false;\n\t  }\n\t  if(right && temp4 >= temp2){\n\t    flag=false;\n\t  }\n\t}\n      }\n    }\n    if(flag){\n      int mx=1e9+100,mn=-1e9+100; \n      bool flag2 = true;\n      for(int i=0 ; i < N ; i++){\n\tif(vec[i] == \"x\"){\n\t  if((i+1)%2 == 0){\n\t    if(i-1 >= 0){\n\t      if(vec[i-1] == \"x\"){\n\t\tflag2=false;\n\t      }else{\n\t\tstringstream ss5;\n\t\tint temp5;\n\t\tss5 << vec[i-1];\n\t\tss5 >> temp5;\n\t\tmn = max(mn,temp5+1);\n\t      }\n\t    }\n\t    if(i+1 < N){\n\t      if(vec[i+1] == \"x\"){\n\t\tflag2=false;\n\t      }else{\n\t\tstringstream ss6;\n\t\tint temp6;\n\t\tss6 << vec[i+1];\n\t\tss6 >> temp6;\n\t\tmn = max(mn,temp6+1);\n\t      }\n\t    }\n\t  }else{\n\t    if(i-1 >= 0){\n\t      if(vec[i-1] == \"x\"){\n\t\tflag2=false;\n\t      }else{\n\t\tstringstream ss7;\n\t\tint temp7;\n\t\tss7 << vec[i-1];\n\t\tss7 >> temp7;\n\t\tmx = min(mx,temp7-1);\n\t      }\n\t    }\n\t    if(i+1 < N){\n\t      if(vec[i+1] == \"x\"){\n\t\tflag2=false;\n\t      }else{\n\t\tstringstream ss8;\n\t\tint temp8;\n\t\tss8 << vec[i+1];\n\t\tss8 >> temp8;\n\t\tmx = min(mx,temp8-1);\n\t      }\n\t    }\n\t  }\n\t}\n      }\n      if(flag2){\n\tif(mx == mn){\n\t  cout <<mx<<endl;\n\t}else if(mx > mn){\n\t  cout <<\"ambiguous\"<<endl;\n\t}else{\n\t  cout <<\"none\"<<endl;\n\t}\n      }else{\n\tcout <<\"none\"<<endl;\n      }\n    }else{\n      cout <<\"none\"<<endl;\n    }\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\n\nint main()\n{\n  int N;\n  int a[1000];\n\n  while(cin >> N, N) {\n    vector< int > nums;\n    for(int i = 0; i < N; i++) {\n      string S;\n      cin >> S;\n      if(S == \"x\") {\n        a[i] = (1 << 30);\n      } else {\n        a[i] = stoi(S);\n        for(int j = -2; j <= 2; j++) nums.push_back(a[i] + j);\n      }\n    }\n    sort(nums.begin(), nums.end());\n    nums.erase(unique(nums.begin(), nums.end()), nums.end());\n\n    int ret = 0;\n    vector< int > ans;\n    for(int i = 0; i < nums.size(); i++) {\n      int& x = nums[i];\n      bool flag = true;\n      for(int j = 1; j < N; j++) {\n        int prevcur = (a[j - 1] == (1 << 30) ? x : a[j - 1]);\n        int realcur = (a[j] == (1 << 30) ? x : a[j]);\n        if(j & 1) flag &= prevcur < realcur;\n        else flag &= prevcur > realcur;\n      }\n      ret += flag;\n      if(flag) ans.push_back(nums[i]);\n    }\n    if(ret == 0) cout << \"none\" << endl;\n    else if(ret == 1) cout << ans[0] << endl;\n    else cout << \"ambiguous\" << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdlib>\n#include <cmath>\nusing namespace std;\n\nint main()\n{\n  while(1){\n    int n;\n    cin >> n;\n    if(n == 0) break;\n    int a[n];\n    for(int i = 0; i < n; i++){\n      string s;\n      cin >> s;\n      a[i] = s == \"x\" ? -1 : atoi(s.c_str());\n    } \n    int l = 0, u = 1000000003;\n    for(int i = 0; i < n-1; i++){\n      if(a[i] == -1){\n        if(a[i+1] == -1){\n          u = l-1;\n          break;\n        }else{\n          if((i+1) & 1){\n            u = a[i+1];\n          }else{\n            l = a[i+1];\n          }\n        }\n      }else{\n        if(a[i+1] == -1){\n          if((i+1) & 1){\n            l = a[i];\n          }else{\n            u = a[i];\n          }\n        }else{\n          if((i+1) & 1){\n            if(a[i] >= a[i+1]){\n              u = l-1;\n              break;\n            }\n          }else{\n            if(a[i] <= a[i+1]){\n              u = l-1;\n              break;\n            }\n          }\n        }\n      }\n    }\n    if(u - l - 1 > 1)\n      cout << \"ambiguous\" << endl;\n    else if(u - l - 1 <= 0)\n      cout << \"none\" << endl;\n    else\n      cout << abs((u+l)/2) << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define REP(i,a,b) for(int i=a;i<(int)b;i++)\n#define rep(i,n) REP(i,0,n)\n\ntypedef long long ll;\n\nll const inf = 1LL<<50;\n\nll L, R;\n\nvoid find_x(pair<ll, ll> a, pair<ll, ll> b) {\n  ll r = min(a.second, b.second), l = b.first;\n  L = max(L, l);\n  R = min(R, r);\n}\n\nint main() {\n  \n  int N;\n  while(cin >> N && N) {\n    vector<ll> v(N);\n    rep(i, N) {\n      string s; cin >> s;\n      if(s == \"x\") v[i] = inf; else v[i] = atol(s.c_str());\n    }\n    \n    vector<pair<ll, ll> > w;\n    w.push_back(make_pair(-inf, inf));\n    rep(i, N) {\n      if(v[i] != inf) { continue; }\n      if(i&1) { // even\n        if(i-1>=0)\n          w.push_back(make_pair(v[i-1], inf));\n        if(i+1<N)\n          w.push_back(make_pair(v[i+1], inf));\n      }\n      else {\n        if(i-1>=0)\n          w.push_back(make_pair(-inf, v[i-1]));\n        if(i+1<N)\n          w.push_back(make_pair(-inf, v[i+1]));\n      }\n    }\n    \n    sort(w.begin(), w.end());\n    w.erase(unique(w.begin(), w.end()), w.end());\n    /*\n    rep(i, w.size()) {\n      cout << w[i].first << \", \" << w[i].second << endl;\n    }\n    */\n    L = -inf, R = inf;\n    rep(i, w.size()) REP(j, i+1, w.size()) {\n      find_x(w[i], w[j]);\n    }\n    \n    if(w.size() == 1) {\n      L = w[0].first, R = w[0].second;\n    }\n    \n    // cerr << \"L: \" << L << \", R: \" << R << endl;\n    \n    ll cnt = R-L;\n    \n    rep(i, N-1) {\n      if(v[i] == inf || v[i+1] == inf) continue;\n      if(i&1 && (v[i] <= v[i+1])) cnt = -inf;\n      if(!(i&1) && (v[i] >= v[i+1])) cnt = -inf;\n    }\n    \n    if(cnt <= 1) { cout << \"none\\n\"; }\n    else if(cnt == 2) { cout << L+1 << endl; }\n    else { cout << \"ambiguous\\n\"; }\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define reep(i,a,b) for(int i=(a);i<(b);i++)\n#define rep(i,n) reep((i),0,(n))\n\nint main(){\n    int n;\n    while(cin>>n,n){\n        vector<long long> v(n);\n        rep(i,n){\n            string s;\n            cin>>s;\n            if(s[0]=='x'){\n                v[i]=INT_MAX;\n            }\n            else{\n                stringstream ss;\n                ss<<s;\n                ss>>v[i];\n            }\n        }\n        bool f=true;\n        rep(i,n-1){\n            if(v[i]==-1&&v[i+1]==-1){\n                f=false;\n            }\n        }\n        if(!f){\n            cout<<\"none\"<<endl;\n            continue;\n        }\n        f=true;\n        rep(i,n){\n            if(v[i]==INT_MAX) f=false;\n        }\n        if(f){\n            rep(i,n){\n                if(i%2){\n                    if(i&&v[i]<=v[i-1]) f=false;\n                    if(i+1!=n&&v[i]<=v[i+1]) f=false;\n                }\n                else{\n                    if(i&&v[i]>=v[i-1]) f=false;\n                    if(i+1!=n&&v[i]>=v[i+1]) f=false;\n                }\n            }\n            if(f){\n                cout<<\"ambiguous\"<<endl;\n            }\n            else{\n                cout<<\"none\"<<endl;\n            }\n            continue;\n        }\n        // cout<<\"a\"<<endl;\n        long long l=-LLONG_MAX/2;\n        long long r=LLONG_MAX/2;\n        rep(i,n){\n            if(v[i]==INT_MAX){\n                if(i%2){\n                    if(i) l=max(l,v[i-1]+1LL);\n                    if(i!=n-1) l=max(l,v[i+1]+1LL);\n                }\n                else{\n                    if(i) r=min(r,v[i-1]-1LL);\n                    if(i!=n-1) r=min(r,v[i+1]-1LL);\n                }\n            }\n        }\n        // cout<<l<<\" \"<<r<<endl;\n        f=true;\n        rep(i,n){\n            if(v[i]==INT_MAX) continue;\n            if(i%2){\n                if(i&&v[i-1]!=INT_MAX&&v[i-1]>=v[i]) f=false;\n                if(i!=n-1&&v[i+1]!=INT_MAX&&v[i]<=v[i+1]) f=false;\n            }\n            else{\n                if(i&&v[i-1]!=INT_MAX&&v[i-1]<=v[i]) f=false;\n                if(i!=n-1&&v[i+1]!=INT_MAX&&v[i]>=v[i+1]) f=false;\n            }\n        }\n        if(!f){\n            cout<<\"none\"<<endl;\n        }\n        else if(r-l==0LL){\n            cout<<r<<endl;\n        }\n        else if(r-l>0LL){\n            cout<<\"ambiguous\"<<endl;\n        }\n        else{\n            cout<<\"none\"<<endl;\n        }\n        // cout<<endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n \nusing namespace std;\n \n#define INF 1001000100010001000\n#define MOD 1000000007\n#define EPS 1e-10\n#define int long long\n#define rep(i, N) for (int i = 0; i < N; i++)\n#define Rep(i, N) for (int i = 1; i < N; i++)\n#define For(i, a, b) for (int i = (a); i < (b); i++)\n#define pb push_back\n#define mp make_pair\n#define i_i pair<int, int>\n#define vi vector<int>\n#define vvi vector<vi >\n#define vb vector<bool>\n#define vvb vector<vb >\n#define vp vector< i_i >\n#define all(a) (a).begin(), (a).end()\n#define Int(x) int x; scanf(\"%lld\", &x);\n \n//int dxy[5] = {0, 1, 0, -1, 0};\n// assign\n \nsigned main()\n{\n    Int(n);\n    while (n) {\n        vector<string> data(n);\n        rep(i, n) {\n            cin >> data[i];\n        }\n        int less = -INF, more = INF;\n        if (data[0][0] == 'x') {\n            if ( data[1][0] == 'x' ) {\n                cout << \"none\" << endl;\n                cin >> n;\n                continue;\n            } else {\n                more = stoll(data[1]) - 1;\n            }\n        } else {\n            int b = (data[1][0] == 'x') ? INF : stoll(data[1]);\n            if (!(b > stoll(data[0]))) {\n                cout << \"none\" << endl;\n                cin >> n;\n                continue;\n            }\n        }\n        bool fl = false;\n        Rep(i, n-1) {\n            if (data[i][0] == 'x') {\n                if ((i+1) % 2) {\n                    if (data[i+1][0] == 'x') {\n                        fl = true;\n                        break;\n                    } else {\n                        more = min(more, \n                                min(stoll(data[i-1])-1,\n                                    stoll(data[i+1])-1));\n                    }\n                } else {\n                    if (data[i+1][0] == 'x') {\n                        fl = true;\n                        break;\n                    } else {\n                        less = max(less, \n                                max(stoll(data[i-1])+1,\n                                    stoll(data[i+1])+1));\n                    }\n                }\n            } else {\n                if ((i+1) % 2) {\n                    int a = (data[i-1][0] == 'x') ? INF : stoll(data[i-1]);\n                    int b = (data[i+1][0] == 'x') ? INF : stoll(data[i+1]);\n                    if (!(a > stoll(data[i]) && b > stoll(data[i]))) {\n                        fl = true;\n                        break;\n                    }\n                } else {\n                    int a = (data[i-1][0] == 'x') ? -INF : stoll(data[i-1]);\n                    int b = (data[i+1][0] == 'x') ? -INF : stoll(data[i+1]);\n                    if (!(a < stoll(data[i]) && b < stoll(data[i]))) {\n                        fl = true;\n                        break;\n                    }\n                }\n            }\n        }\n        if (fl) {\n            cout << \"none\" << endl;\n            cin >> n;\n            continue;\n        }\n        if (data[n-1][0] == 'x') {\n            if (n % 2) {\n                more = min(more, stoll(data[n-2])-1);\n            } else {\n                less = max(less, stoll(data[n-2])+1);\n            }\n        } else {\n            if ((n) % 2) {\n                int a = (data[n-2][0] == 'x') ? INF : stoll(data[n-2]);\n                if (!(a > stoll(data[n-1]))) {\n                    cout << \"none\" << endl;\n                    cin >> n;\n                    continue;\n                }\n            } else {\n                int a = (data[n-2][0] == 'x') ? -INF : stoll(data[n-2]);\n                if (!(a < stoll(data[n-1]))) {\n                    cout << \"none\" << endl;\n                    cin >> n;\n                    continue;\n                }\n            }\n        }\n        if (less == more) {\n            cout << less << endl;\n        } else if (less < more) {\n            cout << \"ambiguous\" << endl;\n        } else {\n            cout << \"none\" << endl;\n        }\n        cin >> n;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <algorithm>\n\n#define rep(i,n) for(int i=0;i<(n);i++)\n\nusing namespace std;\n\nconst int INF=1000000010;\nconst int X=INF;\n\nint main(){\n\tfor(int n;scanf(\"%d\",&n),n;){\n\t\tint a[1000];\n\t\trep(i,n){\n\t\t\tchar s[32]; scanf(\"%s\",s);\n\t\t\tif(s[0]=='x') a[i]=X;\n\t\t\telse sscanf(s,\"%d\",a+i);\n\t\t}\n\n\t\tbool cont=false;\n\t\trep(i,n-1) if(a[i]==X && a[i+1]==X) cont=true;\n\t\tif(cont){ puts(\"none\"); continue; }\n\n\t\tint l=-INF,r=INF;\n\t\tbool bad=false;\n\t\trep(i,n){\n\t\t\tif(a[i]==X){\n\t\t\t\tif(i%2==0){\n\t\t\t\t\tif(0<=i-1 && i-1<n) r=min(r,a[i-1]-1);\n\t\t\t\t\tif(0<=i+1 && i+1<n) r=min(r,a[i+1]-1);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(0<=i-1 && i-1<n) l=max(l,a[i-1]+1);\n\t\t\t\t\tif(0<=i+1 && i+1<n) l=max(l,a[i+1]+1);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif(i%2==0){\n\t\t\t\t\tif(0<=i-1 && i-1<n && a[i-1]!=X && a[i-1]<=a[i]) bad=true;\n\t\t\t\t\tif(0<=i+1 && i+1<n && a[i+1]!=X && a[i+1]<=a[i]) bad=true;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(0<=i-1 && i-1<n && a[i-1]!=X && a[i-1]>=a[i]) bad=true;\n\t\t\t\t\tif(0<=i+1 && i+1<n && a[i+1]!=X && a[i+1]>=a[i]) bad=true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif(bad || l>r) puts(\"none\");\n\t\telse if(l<r) puts(\"ambiguous\");\n\t\telse printf(\"%d\\n\",l);\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <queue>\n#include <stack>\n#include <algorithm>\n#include <list>\n#include <vector>\n#include <complex>\n#include <utility>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <climits>\n#include <bitset>\n#include <ctime>\n#include <map>\n#include <unordered_map>\n#include <set>\n#include <unordered_set>\n#include <cassert>\n#include <cstddef>\n#include <iomanip>\n#include <numeric>\n#include <tuple>\n#include <sstream>\n#include <fstream>\n\nusing namespace std;\n#define REP(i, n) for (int (i) = 0; (i) < (n); (i)++)\n#define FOR(i, a, b) for (int (i) = (a); (i) < (b); (i)++)\n#define RREP(i, a) for(int (i) = (a) - 1; (i) >= 0; (i)--)\n#define FORR(i, a, b) for(int (i) = (a) - 1; (i) >= (b); (i)--)\n#define DEBUG(C) cerr << #C << \" = \" << C << endl;\nusing LL = long long;\nusing VI = vector<int>;\nusing VVI = vector<VI>;\nusing VL = vector<LL>;\nusing VVL = vector<VL>;\nusing VD = vector<double>;\nusing VVD = vector<VD>;\nusing PII = pair<int, int>;\nusing PDD = pair<double, double>;\nusing PLL = pair<LL, LL>;\nusing VPII = vector<PII>;\ntemplate<typename T> using VT = vector<T>;\n#define ALL(a) begin((a)), end((a))\n#define RALL(a) rbegin((a)), rend((a))\n#define SORT(a) sort(ALL((a)))\n#define RSORT(a) sort(RALL((a)))\n#define REVERSE(a) reverse(ALL((a)))\n#define MP make_pair\n#define FORE(a, b) for (auto &&a : (b))\n#define FIND(s, e) ((s).find(e) != (s).end())\n#define EB emplace_back\ntemplate<typename T> inline bool chmax(T &a, T b){if (a < b){a = b;return true;}return false;}\ntemplate<typename T> inline bool chmin(T &a, T b){if (a > b){a = b;return true;}return false;}\n\nconst int INF = 1e9;\nconst int MOD = INF + 7;\nconst LL LLINF = 1e18;\nconst double EPS = 1e-9;\n\nvoid init() {\n    \n}\n\nint a[1010];\nvoid solve(int n) {\n    fill(a, a + 1010, MOD);\n    int ma = MOD, mi = -MOD;\n    bool prevSkip = false;\n    for (int i = 0; i < n; i++) {\n        char str[10];\n        scanf(\"%s\", str);\n        if (str[0] == 'x') {\n            if (prevSkip) {\n                puts(\"none\");\n                return;\n            }\n            prevSkip = true;\n            continue;\n        }\n        a[i] = atoi(str);\n        prevSkip = false;\n    }\n    for (int i = 0; i < n; i++) {\n        if (a[i] == MOD) {\n            if ((i + 1) % 2) {//?\\???°\n                if (i) chmin(ma, a[i - 1]);\n                if (i + 1 != n) chmin(ma, a[i + 1]);\n            } else {//??¶??°\n                chmax(mi, a[i - 1]);\n                if (i + 1 != n) chmax(mi, a[i + 1]);\n            }\n        } else {\n            bool ng = false;\n            if ((i + 1) % 2) {\n                if (i && a[i - 1] != MOD) ng |= (a[i] > a[i - 1]);\n                if (i + 1 != n && a[i + 1] != MOD) ng |= (a[i] > a[i + 1]);\n            } else {\n                if (a[i - 1] != MOD) ng |= (a[i] < a[i - 1]);\n                if (i + 1 != n && a[i + 1] != MOD) ng |= (a[i] < a[i + 1]);\n            }\n            if (ng) {\n                puts(\"none\");\n                return;\n            }\n        }\n    }\n    //cerr<<mi<<\" \"<<ma<<endl;\n    mi++;ma--;\n    if (ma < mi) puts(\"none\");\n    else if (ma == mi) printf(\"%d\\n\", ma);\n    else puts(\"ambiguous\");\n}\n\nsigned main(void) {\n    LL n, m, p, a, b, c, x, y, z, q;\n    string s;\n    bool f = false;\n    init();\n    while (cin >> n, n) {\n        solve(n);\n        //return 0;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#include <bits/stdc++.h>\n#define int long long\n#define rep(i,n) for(int i=0;i<n;i++)\n#define Rep(i,a,b) for(int i=a;i<b;i++)\n#define REP(i,a,b) for(int i=a;i<=b;i++)\n#define rev(i,n) for(int i=n-1;i>=0;i--)\n#define vi vector<int>\n#define vvi vector<vi>\n#define pb push_back\n#define pi pair<int,int>\n#define vp vector<pair<int,int>>\n#define mp make_pair\n#define all(v) (v).begin(),(v).end()\n#define fi first\n#define se second\n#define MEMSET(a) memset(a,0,sizeof(a))\n#define inf (1ll<<60)\n#define Yes(f) cout<<(f?\"Yes\":\"No\")<<endl\n#define yes(f) cout<<(f?\"yes\":\"no\")<<endl\n#define YES(f) cout<<(f?\"YES\":\"NO\")<<endl\n#define SORT(v) sort(all(v))\n#define RSORT(v) sort(all(v), greater<int>())\n#define VI(a,n) vi a(n); rep(i,n)cin>>a[i];\n\nusing namespace std;\n\nconst int mod=1e9+7;\n\nvoid run();\n\nvoid init() {\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    cout<<fixed<<setprecision(12);\n}\n\nsigned main(){\n    init();\n    run();\n    return 0;\n}\n\nvoid run(){\n    int n;\n    while(cin>>n,n){\n        vector<string> s(n);\n        rep(i,n)cin>>s[i];\n        int mi=-inf;\n        int ma=inf;\n        rep(i,n){\n            if(s[i]==\"x\"){\n                if(i>0&&s[i-1]==\"x\"||i<n-1&&s[i+1]==\"x\"){\n                    cout<<\"none\"<<endl;\n                    goto LOOP;\n                }\n                if(i%2==0){\n                    if(i>0)ma=min(ma,stoll(s[i-1])-1);\n                    if(i<n-1)ma=min(ma,stoll(s[i+1])-1);\n                }\n                else{\n                    mi=max(mi,stoll(s[i-1])+1);\n                    if(i<n-1)mi=max(mi,stoll(s[i+1])+1);\n                }\n            }\n            else if(i%2&&(s[i-1]!=\"x\"&&stoi(s[i-1])>stoi(s[i])||i<n-1&&s[i+1]!=\"x\"&&stoi(s[i+1])>stoi(s[i]))){\n                cout<<\"none\"<<endl;\n                goto LOOP;\n            }\n            else if(i%2==0&&(i>0&&s[i-1]!=\"x\"&&stoi(s[i-1])<stoi(s[i])||i<n-1&&s[i+1]!=\"x\"&&stoi(s[i+1])<stoi(s[i]))){\n                cout<<\"none\"<<endl;\n                goto LOOP;\n            }\n            // cout<<mi<<\" \"<<ma<<endl;\n        }\n        if(ma==mi)cout<<ma<<endl;\n        else if(ma<mi)cout<<\"none\"<<endl;\n        else cout<<\"ambiguous\"<<endl;\n        LOOP:;\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<vector>\n#include<cstdio>\n#include<sstream>\n#include<algorithm>\n#include<cmath>\n#include<map>\n#include<functional>\nusing namespace std;\nint stoi(string x){stringstream ss;ss<<x;int tmp;ss>>tmp;return tmp;}\nstring itos(int x){stringstream ss;ss<<x;return ss.str();}\nconst int INF=1111111111;\nint main(){\nint n;\nwhile(cin>>n,n){\n\tint a=-INF,b=INF;\n\tbool none_flag=0,void_flag=1,ok=1;\n\tvector<int>ta(0);\n\tfor(int i=0;i<n;i++){\n\t\tstring tmp;\n\t\tcin>>tmp;\n\t\tif(tmp==\"x\")ta.push_back(INF);\n\t\telse ta.push_back( stoi(tmp) );\n\t}\n\tfor(int i=1;i<n;i++){\n\tif(ta[i]==INF&&ta[i-1]==INF)none_flag=1;\n\tif(ta[i]==INF)void_flag=0;\n\t}\n\tfor(int i=0;i<n;i++){\n\t\tif(ta[i]==INF){\n\t\t\tint xa,xb;\n\t\t\tif((i+1)%2==0){//驕?焚\n\t\t\tif(i==0)xa=ta[1],xb=-INF;\n\t\t\telse if(i==n-1)xa=ta[n-2],xb=-INF;\n\t\t\telse xa=ta[i-1],xb=ta[i+1];\n\t\t\ta=max( a,max(xa,xb) );\n\t\t\t}\n\t\t\telse {\n\t\t\tif(i==0)xa=ta[1],xb=INF;\n\t\t\telse if(i==n-1)xa=ta[n-2],xb=INF;\n\t\t\telse xa=ta[i-1],xb=ta[i+1];\n\t\t\tb=min(b,min(xa,xb));\n\t\t\t}//endelse\n\t\t\t\n\t\t}//endif\n\t}//endfor\n\tfor(int i=0;i<n;i++){\n\tif((i+1)%2==1){//螂?焚\n\tif(i==0&&ta[i+1]<=ta[i])ok=0;\n\t\telse if(i==0){}\n\telse if(i==n-1&&ta[n-2]<=ta[i])ok=0;\n\t\telse if(i==n-1){}\n\telse if(ta[i-1]<=ta[i]||ta[i+1]<=ta[i])ok=0;\n\t}\n\telse {\n\tif(i==0&&ta[i+1]>=ta[i])ok=0;\n\t\telse if(i==0){}\n\tif(i==n-1&&ta[n-2]>=ta[n-1]){ok=0;}\n\telse if(i==n-1){}\n\telse if(ta[i-1]>=ta[i]||ta[i+1]>=ta[i])ok=0;\n\t}\n\t}\n\tif(none_flag)cout<<\"none\"<<endl;\n\telse if(void_flag&&ok)cout<<\"ambiguous\"<<endl;\n\telse if(void_flag&&ok==0)cout<<\"none\"<<endl;\n\telse {\n\tif(a+2==b)cout<<a+1<<endl;\n\telse if(b-a>2)cout<<\"ambiguous\"<<endl;\n\telse cout<<\"none\"<<endl;\n\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "// this code is moriizumi's code\n\n#include <algorithm>\n#include <cstdio>\n#include <iostream>\n#include <map>\n#include <cmath>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <vector>\n#include <stdlib.h>\n#include <stdio.h>\n#include <bitset>\n#include <cstring>\nusing namespace std;\n#define FOR(I,A,B) for(int I = (A); I < (B); ++I)\n#define CLR(mat) memset(mat, 0, sizeof(mat))\ntypedef long long ll;\nint main()\n{\n  ios::sync_with_stdio(false);\n  cin.tie(0);\n  int n;\n  while(cin >> n, n) {\n    vector<string> a(n); FOR(i,0,n) cin >> a[i];\n    int maxi = 1e9+2, mini = -1e9-2;\n    FOR(i,0,n) {\n      if (a[i][0] == 'x') {\n        if(i > 0) {\n          if(a[i-1][0] == 'x') {\n            maxi = -1e9, mini = 1e9;\n            break;\n          }\n          if(i % 2) mini = max(mini, stoi(a[i-1]) + 1);\n          else maxi = min(maxi, stoi(a[i-1]) - 1);\n        }\n        if(i < n - 1) {\n          if(a[i+1][0] == 'x') {\n            maxi = -1e9, mini = 1e9;\n            break;\n          }\n          if(i % 2) mini = max(mini, stoi(a[i+1]) + 1);\n          else maxi = min(maxi, stoi(a[i+1]) - 1);\n        }\n      } else {\n        int p = stoi(a[i]);\n        if(i > 0 && a[i-1][0] != 'x') {\n          int q = stoi(a[i-1]);\n          if((i % 2 && p <= q) || (!(i % 2) && p >= q)) {\n            maxi = -1e9, mini = 1e9;\n            break;\n          }\n        }\n      }\n    }\n    if(maxi < mini) cout << \"none\" << endl;\n    else if(maxi > mini) cout << \"ambiguous\" << endl;\n    else cout << maxi << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <cstdlib>\n#define INF -2000000000\nusing namespace std;\nvector <int> s;\nint check(int x){\n  for(int i=1;i<s.size()-1;i++){\n    int ima = s[i],nx = s[i+1],mae = s[i-1];\n    if(ima == INF) ima = x;\n    if(nx == INF) nx = x;\n    if(mae == INF) mae = x;\n    \n    if(i%2 == 0 && (ima >= mae || ima>= nx)) \n      if(s[i] == INF)return -1;\n      else return 1;\n\n    else if(i%2==1 &&(mae >= ima||nx >= ima)) \n      if(s[i] == INF)  return 1;\n      else return -1;\n  }\n\n  if(s.size() == 2) {\n    int ima = s[0],nx = s[1];\n    if(s[0] == INF) ima = x;\n    if(s[1] == INF) nx  = x;\n    if(ima >= nx) \n      if(s[0] == INF) return -1;\n      else return 1;\n  }\n  return 0;\n}\n\nint main() {\n  while(1){\n    int n;\n    cin >> n;\n    if(n == 0) break;\n    s.clear();\n    for(int i=0;i<n;i++) {\n      char str[100];\n      cin >> str;\n      if(str[0] == 'x') s.push_back(INF);\n      else s.push_back(atoi(str));\n    }\n  \n    int R = 1000000010,L=-1000000011,M,ans = INF,cnt = 0;\n    while(L < R) {\n      cnt ++;\n      int t = M;\n      M = (L+R)/2;\n      if(M == t) L--,R++,M=(L+R)/2;\n      if(cnt > 35) break;\n      int res = check(M);\n      if(res == -1) R = M;\n      else if(res == 1) L=M+1;\n      else if(res == 0) {\n\tans = M;\n\tbreak;\n      }\n    }\n\n    if(ans == INF) cout << \"none\"<<endl;\n    else if(check(ans+1) == 0 || check(ans-1) == 0) cout << \"ambiguous\"<<endl;\n    else cout << ans <<endl;\n  }\n  return 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n// region template\n#define rep(i, a, b) for (int i = (a); i < (b); ++i)\n#define trav(a, x) for (auto &a : x)\n#define all(x) begin(x), end(x)\n#define sz(x) (int)(x).size()\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int, int> pii;\ntypedef vector<int> vi;\n\nll gcd(ll a, ll b) { return __gcd(a, b); }\n\nll euclid(ll a, ll b, ll &x, ll &y) {\n    if (b) { ll d = euclid(b, a % b, y, x);\n        return y -= a/b * x, d; }\n    return x = 1, y = 0, a;\n}\n\ntypedef unsigned long long ull;\ntypedef long double ld;\null mod_mul(ull a, ull b, ull M) {\n    ll ret = a * b - M * ull(ld(a) * ld(b) / ld(M));\n    return ret + M * (ret < 0) - M * (ret >= (ll)M);\n}\null mod_pow(ull b, ull e, ull mod) {\n    ull ans = 1;\n    for (; e; b = mod_mul(b, b, mod), e /= 2)\n        if (e & 1) ans = mod_mul(ans, b, mod);\n    return ans;\n}\n\nconst ll mod = 1000000007;\nstruct Mod {\n    ll x;\n    Mod(ll xx) : x(xx) {}\n    Mod operator+(Mod b) { return Mod((x + b.x) % mod); }\n    Mod operator-(Mod b) { return Mod((x - b.x) % mod); }\n    Mod operator*(Mod b) { return Mod((x * b.x) % mod); }\n    Mod operator/(Mod b) { return *this * invert(b); }\n    Mod invert(Mod a) {\n        ll x, y, g = euclid(a.x, mod, x, y);\n        assert(g == 1); return Mod((x + mod) % mod);\n    }\n    Mod operator^(ll e) {\n        if (!e) return Mod(1);\n        Mod r = *this ^ (e / 2); r = r * r;\n        return e & 1 ? *this * r : r;\n    }\n};\n// endregion\n\nint main() {\n    for (;;) {\n        int n; cin >> n;\n        int ub = 2000000000, lb = -2000000000;\n        if (!n) break;\n        vector<string> v(n + 1);\n        rep(i, 1, n + 1) cin >> v[i];\n        rep(i, 1, n) if (v[i] == v[i + 1] && v[i] == \"x\") ub = lb - 1;\n        rep(i, 1, n + 1) if (v[i] == \"x\") {\n            if (i % 2 == 1) {\n                if (i > 1 && v[i - 1] != \"x\") ub = min(ub, stoi(v[i - 1]) - 1);\n                if (i < n && v[i + 1] != \"x\") ub = min(ub, stoi(v[i + 1]) - 1);\n            } else {\n                if (i > 1 && v[i - 1] != \"x\") lb = max(lb, stoi(v[i - 1]) + 1);\n                if (i < n && v[i + 1] != \"x\") lb = max(lb, stoi(v[i + 1]) + 1);\n            }\n        } else {\n            if (i % 2 == 1) {\n                if (i > 1 && v[i - 1] != \"x\" && stoi(v[i]) >= stoi(v[i - 1])) ub = lb - 1;\n                if (i < n && v[i + 1] != \"x\" && stoi(v[i]) >= stoi(v[i + 1])) ub = lb - 1;\n            } else {\n                if (i > 1 && v[i - 1] != \"x\" && stoi(v[i]) <= stoi(v[i - 1])) ub = lb - 1;\n                if (i < n && v[i + 1] != \"x\" && stoi(v[i]) <= stoi(v[i + 1])) ub = lb - 1;\n            }\n        }\n        // cout << lb << \" \" << ub << endl;\n        if (ub < lb) {\n            cout << \"none\" << endl;\n        } else if (ub == lb) {\n            cout << ub << endl;\n        } else {\n            cout << \"ambiguous\" << endl;\n        }\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <vector>\n#include <set>\n#include <map>\n#include <queue>\n#include <deque>\n#include <stack>\n#include <algorithm>\n#include <cstring>\n#include <functional>\n#include <cmath>\nusing namespace std;\n#define rep(i,n) for(int i=0;i<(n);++i)\n#define rep1(i,n) for(int i=1;i<=(n);++i)\n#define all(c) (c).begin(),(c).end()\n#define fs first\n#define sc second\n#define pb push_back\n#define show(x) cout << #x << \" \" << x << endl\nint n,a[1000];\nstring solve(){\n\trep(i,n){\n\t\tstring s;\n\t\tcin>>s;\n\t\tif(s[0]=='x') a[i]=-1;\n\t\telse a[i]=stoi(s);\n\t}\n\trep(i,n-1){\n\t\tif(a[i]==-1&&a[i+1]==-1) return \"none\";\n\t\tif(a[i]!=-1&&a[i+1]!=-1){\n\t\t\tif(i%2==0&&a[i]>a[i+1]) return \"none\";\n\t\t\tif(i%2==1&&a[i]<a[i+1]) return \"none\";\n\t\t}\n\t}\n\tint ub=1e9+4,lb=-1e9-4;\n\trep(i,n){\n\t\tif(a[i]==-1){\n\t\t\tif(i>0){\n\t\t\t\tif(i%2==0) lb=max(lb,a[i-1]+1);\n\t\t\t\telse ub=min(ub,a[i-1]-1);\n\t\t\t}\n\t\t\tif(i<n-1){\n\t\t\t\tif(i%2==0) lb=max(lb,a[i+1]+1);\n\t\t\t\telse ub=min(ub,a[i+1]-1);\n\t\t\t}\n\t\t}\n\t}\n\tif(ub<lb) return \"none\";\n\tif(ub==lb) return to_string(ub);\n\treturn \"ambiguous\";\n}\nint main(){\n\twhile(true){\n\t\tcin>>n;\n\t\tif(n==0) break;\n\t\tcout<<solve()<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 1000000100\n\n#include <iostream>\n#include <cstdio>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n  \nusing namespace std;\n  \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P> PP;\n  \nstatic const double EPS = 1e-8;\n\nint main(){\n  int N;\n  while(~scanf(\"%d\",&N)){\n    if(N == 0) break;\n\n    vector<int> signals;\n    queue<int> unknown;\n\n    bool has_x = false;\n    bool has_num = false;\n    for(int i=0; i < N; i++){\n      char signal[12];\n      int num;\n      scanf(\"%s\",signal);\n      if(signal[0] != 'x'){\n        num = atoi(signal);\n        has_num = true;\n      }\n      else{\n        num = INF;\n        has_x = true;\n        unknown.push(i);\n      }\n      signals.push_back(num);\n    }\n    \n    if(has_num && has_x){\n      //x x 1 x\n      int lower = -INF;\n      int upper = INF;\n      \n      while(!unknown.empty()){\n        int idx = unknown.front();\n        unknown.pop();\n        int lhs = idx - 1;\n        int rhs = idx + 1;\n        \n        //even\n        if((idx+1) % 2 == 0){\n          if(lhs >= 0 && signals[lhs] != INF) {\n            lower = max(signals[lhs]+1,lower);\n          }\n          if(rhs < signals.size() && signals[rhs] != INF){\n            lower = max(signals[rhs]+1,lower);\n          }\n        }\n        //odd\n        else{\n          if(rhs < signals.size() && signals[rhs] != INF){\n            upper = min(signals[rhs]-1,upper);\n          }\n          if(lhs >= 0 && signals[lhs] != INF){\n            upper = min(signals[lhs]-1,upper);\n          }\n        }\n      }\n\n      if(upper - lower > 0){\n        printf(\"ambiguous\\n\");\n      }\n      else if(upper == lower){\n        printf(\"%d\\n\",upper);\n      }\n      else if(upper - lower < 0){\n        printf(\"none\\n\");\n      }\n    }\n\n    else if(!has_num && has_x){\n      //x x x\n      printf(\"none\\n\");\n    }\n    else if(has_num && !has_x){\n      //1 2 3\n      \n      bool is_none = false;\n      for(int i=0;i<signals.size();i++){\n        int lhs = i - 1;\n        int rhs = i + 1;\n        if(lhs >= 0 && signals[lhs] != INF){\n          if((i + 1) % 2 == 0){\n            if(signals[i] - signals[lhs] < 0){\n              is_none = true;\n              break;\n            }\n          }\n          else{\n            if(signals[i] - signals[lhs] > 0){\n              is_none = true;\n              break;\n            }\n          }\n        }\n        if(rhs < signals.size() && signals[rhs] != INF){\n          if((i + 1) % 2 == 0){\n            if(signals[i] - signals[rhs] < 0){\n              is_none = true;\n              break;\n            }\n          }\n          else{\n            if(signals[i] - signals[rhs] > 0){\n              is_none = true;\n              break;\n            }\n          }\n        }\n        \n      }\n     \n      printf(\"%s\\n\",is_none ? \"none\" : \"ambiguous\");\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <stack>\n#include <queue>\n#include <map>\n#include <cmath>\n#include <string>\n#include <sstream>\n#include <iomanip>\n#include <complex>\nusing namespace std;\n\n#define ll long long\n#define vvi vector< vector<int> >\n#define vi vector<int>\n#define All(X) X.begin(),X.end()\n#define FOR(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define REP(i,n) for(int i=0;i<(int)(n);i++)\n#define pb push_back\n#define pii pair<int,int>\n#define mp make_pair\n#define pi 3.14159265359\n#define shosu(X) fixed << setprecision(X)\nll gcd(ll a,ll b){return b?gcd(b,a%b):a;}\nll lcm(ll a,ll b){return a/gcd(a,b)*b;}\n\nint main(){\n\twhile(1){\n\t\tint n;\n\t\tcin >> n;\n\t\tif(n==0) break;\n\t\tll int xcnt = 0;\n\t\tll int data[1001];\n\t\tll int lastxpos = -10;\n\t\tREP(i,n){\n\t\t\tstring s;\n\t\t\tcin >> s;\n\t\t\tif(s==\"x\"){\n\t\t\t\txcnt++;\n\t\t\t\tif(lastxpos==i-1){//x 2??£?¶????????????????????????¨\n\t\t\t\t\txcnt = n;\n\t\t\t\t}\n\t\t\t\tlastxpos = i;\n\t\t\t\tdata[i]=999999999;\n\t\t\t}else{\n\t\t\t\tdata[i]= stoll(s);\n\t\t\t}\n\t\t}\n\t\tif(xcnt>=n){//2??£?¶????????????§?????£?????????\n\t\t\tcout << \"none\" << endl;\n\t\t}else{\n\t\t\tbool is_mujun = false;\n\t\t\tll int minx=-999999999,maxx=999999999;\n\t\t\tREP(i,n){\n\t\t\t\tif(i==0){\n\t\t\t\t\tif(data[0]==999999999) maxx = data[1]-1;\n\t\t\t\t\telse if(data[1]!=999999999&&data[0]>=data[1]) is_mujun = true;\n\t\t\t\t}else if(i==n-1){\n\t\t\t\t\tif(data[n-1]==999999999){\n\t\t\t\t\t\tif((n+1)%2==0){\n\t\t\t\t\t\t\tmaxx = data[n-2]-1;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tminx = data[n-2]+1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif((n+1)%2==0){\n\t\t\t\t\t\t\tif(data[n-2]!=999999999&&data[n-1]>=data[n-2]) is_mujun = true;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tif(data[n-2]!=999999999&&data[n-1]<=data[n-2]) is_mujun = true;\n\t\t\t\t\t\t}\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(data[i]==999999999){\n\t\t\t\t\t\tif((i+1)%2==0){\n\t\t\t\t\t\t\tminx = max(minx,max(data[i-1],data[i+1])+1);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tmaxx = min(maxx,min(data[i-1],data[i+1])-1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif((i+1)%2==0){\n\t\t\t\t\t\t\tif(data[i-1]!=999999999&&(data[i]<=data[i-1])) is_mujun = true;\n\t\t\t\t\t\t\tif(data[i+1]!=999999999&&(data[i]<=data[i+1])) is_mujun = true;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tif(data[i-1]!=999999999&&(data[i]>=data[i-1])) is_mujun = true;\n\t\t\t\t\t\t\tif(data[i+1]!=999999999&&(data[i]>=data[i+1])) is_mujun = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(minx!=-1&&maxx!=-1&&minx-maxx>0) is_mujun = true;\n\t\t\t\t//cout << minx << \" \" << maxx << \" \" << is_mujun <<\" \"<<data[i]<< endl;\n\t\t\t}\n\t\t\tif(xcnt==0){\n\t\t\t\tif(is_mujun) cout << \"none\" << endl;\n\t\t\t\telse cout << \"ambigious\" << endl;\t\t\t\t\n\t\t\t}else{\n\t\t\t\tif(is_mujun) cout << \"none\" << endl;\n\t\t\t\telse{\n\t\t\t\t\tif(maxx==minx) cout << maxx << endl;\n\t\t\t\t\telse cout << \"ambigious\" << endl;\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define for_(i,a,b) for(int i=a;i<b;++i)\n#define for_rev(i,a,b) for(int i=a;i>=b;--i)\n#define allof(a) a.begin(),a.end()\n#define minit(a,b) memset(a,b,sizeof(a))\n#define size_of(a) (int)a.size()\n\ntypedef long long lint;\ntypedef pair<int, int> pii;\n\nconst int iINF = 1L << 30;\nconst lint lINF = 1LL << 60;\n\nint N;\nstring input[1010];\n\nint s_to_i(string s) {\n\tstringstream ss(s);\n\tint res; ss >> res;\n\treturn res;\n}\n\nbool is_x(string s) {\n\treturn s[0] == 'x';\n}\n\nvoid solve() {\n\tint lb = -iINF, ub = iINF;\n\t\n\tfor_(i,1,N) {\n\t\tif (is_x(input[i])) {\n\t\t\tif (is_x(input[i + 1])) {\n\t\t\t\tcout << \"none\" << endl;\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tint val = s_to_i(input[i + 1]);\n\t\t\t\tif (i % 2) {\n\t\t\t\t\tub = min(ub, val - 1);\n\t\t\t\t} else {\n\t\t\t\t\tlb = max(lb, val + 1);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif (is_x(input[i + 1])) {\n\t\t\t\tint val = s_to_i(input[i]);\n\t\t\t\tif ((i + 1) % 2) {\n\t\t\t\t\tub = min(ub, val - 1);\n\t\t\t\t} else {\n\t\t\t\t\tlb = max(lb, val + 1);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tint lval = s_to_i(input[i]), rval = s_to_i(input[i + 1]);\n\t\t\t\tif (i % 2 && lval >= rval) {\n\t\t\t\t\tcout << \"none\" << endl;\n\t\t\t\t\treturn;\n\t\t\t\t} else if (i % 2 == 0 && lval <= rval) {\n\t\t\t\t\tcout << \"none\" << endl;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t/*\n\t\tif (is_x(input[i])) {\n\t\t\tif (i < N && is_x(input[i + 1])) {\n\t\t\t\tcout << \"none\" << endl;\n\t\t\t\treturn;\n\t\t\t} else if (i == N) {\n\t\t\t\tint val = s_to_i(input[i - 1]);\n\t\t\t\tif (i % 2) {\n\t\t\t\t\tub = min(ub, val - 1);\n\t\t\t\t} else {\n\t\t\t\t\tlb = max(lb, val + 1);\n\t\t\t\t}\n\t\t\t} else if (i == 1) {\n\t\t\t\tint val = s_to_i(input[i + 1]);\n\t\t\t\tub = min(ub, val - 1);\n\t\t\t} else {\n\t\t\t\tint lval = s_to_i(input[i - 1]), rval = s_to_i(input[i + 1]);\n\t\t\t\tif (i % 2) {\n\t\t\t\t\tub = min(ub, min(rval, lval) - 1);\n\t\t\t\t} else {\n\t\t\t\t\tlb = max(lb, max(rval, lval) + 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t} else {\n\t\t\tint value = s_to_i(input[i]);\n\t\t\t\n\t\t\tif (i < N && !is_x(input[i + 1])) {\n\t\t\t\tint val2 = s_to_i(input[i + 1]);\n\t\t\t\tif (i % 2 && value >= val2) {\n\t\t\t\t\tcout << \"none\" << endl;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (i % 2 == 0 && value <= val2) {\n\t\t\t\t\tcout << \"none\" << endl;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}*/\n\t\t\n\t\tif (lb > ub) {\n\t\t\tcout << \"none\" << endl;\n\t\t\treturn;\n\t\t}\n\t}\n\t\n\tif (lb == ub) {\n\t\tcout << lb << endl;\n\t} else {\n\t\tcout << \"ambiguous\" << endl;\n\t}\n}\n\nint main() {\n\twhile (cin >> N, N) {\n\t\tfor_(i,1,N + 1) cin >> input[i];\n\t\tsolve();\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <sstream>\n#include <cstdio>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <ctime>\n#include <vector>\n#include <string>\n#include <map>\n#include <set>\n#include <deque>\n#include <queue>\n#include <stack>\n#include <functional>\n#include <algorithm>\n\nusing namespace std;\n\n#define rep(i,j) REP((i), 0, (j))\n#define REP(i,j,k) for(int i=(j);(i)<(k);++i)\n#define BW(a,x,b) ((a)<=(x)&&(x)<=(b))\n#define ALL(v) (v).begin(), (v).end()\n#define LENGTHOF(x) (sizeof(x) / sizeof(*(x)))\n#define AFILL(a, b) fill((int*)a, (int*)(a + LENGTHOF(a)), b)\n#define SQ(x) ((x)*(x))\n#define Mod(x, mod) (((x)+(mod)%(mod))\n#define MP make_pair\n#define PB push_back\n#define Fi first\n#define Se second\n#define INF (1LL<<60)\n#define EPS 1e-10\n#define MOD 1000000007\n\ntypedef pair<int, int> pi;\ntypedef pair<int, pi> pii;\ntypedef vector<int> vi;\ntypedef queue<int> qi;\ntypedef long long ll;\n\nint main()\n{\n  int N;\n  ll a[1024];\n  while(1){\n    cin >> N;\n    if(N == 0) break;\n    rep(i, N){\n      string s;\n      cin >> s;\n      if(s == \"x\"){\n\ta[i] = -1;\n      }else{\n\ta[i] = stoi(s);\n      }\n    }\n\n    ll b[2];\n    b[0] = -1;\n    b[1] = INF;\n    rep(i, N){\n      if(a[i] == -1) continue;\n      if(i&1) b[i&1] = min(b[i&1], a[i]);\n      else b[i&1] = max(b[i&1], a[i]);\n    }\n\n    ll b1[2]; b1[0] = -1; b1[1] = INF;\n    if(a[0] == -1) b1[1] = min(b1[1], a[1]);\n    for(int i=1;i<N-1;i++){\n      if(a[i] != -1) continue;\n      if(i&1) b1[0] = max(b1[0], max(a[i-1], a[i+1]));\n      else b1[1] = min(b1[1], min(a[i-1], a[i+1]));\n    }\n    if(a[N-1] == -1){\n      if((N-1)&1) b1[0] = max(b1[0], a[N-2]);\n      else b1[1] = min(b1[1], a[N-2]);\n    }\n\n    if(b1[1] - b1[0] == 2){\n      cout << b1[0] + 1 << endl;\n    }else if((b[1] == INF && b[0] == -1) || b[1] - b[0] <= 0 || b1[1] - b1[2] < 2){\n      cout << \"none\\n\";\n    }else{\n      cout << \"ambiguous\\n\";\n    }\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "///\n// File:  2565.cpp\n// Author: ymiyamoto\n//\n// Created on Sun Nov 26 23:04:35 2017\n//\n\n#include <cstdint>\n#include <iostream>\n#include <string>\n#include <vector>\n\nusing namespace std;\n\nint32_t main()\n{\n  while (true) {\n    int32_t n;\n    cin >> n;\n\n    if (n == 0) break;\n\n    vector<string> signals;\n    signals.push_back(\"\");\n    for (int32_t i = 1; i <= n; i++) {\n      string sig;\n      cin >> sig;\n      signals.push_back(sig);\n    }\n\n    bool invalid = false;\n    int64_t xodd = INT32_MAX;\n    int64_t xeven = INT32_MIN;\n    for (int32_t i = 1; i <= n; i++) {\n      cerr << signals[i] << \" \";\n      if (signals[i] == signals[i + 1]) {\n        invalid = true;\n      }\n\n      if (signals[i] != \"x\") {\n        if (i % 2 == 1) {\n          int64_t s = stoll(signals[i]);\n          if (i - 1 >= 1 && signals[i - 1] != \"x\" && s >= stoll(signals[i - 1])) {\n            invalid = true;\n          }\n          if (i + 1 <= n && signals[i + 1] != \"x\" && s >= stoll(signals[i + 1])) {\n            invalid = true;\n          }\n        } else {\n          int64_t s = stoll(signals[i]);\n          if (i - 1 >= 1 && signals[i - 1] != \"x\" && s <= stoll(signals[i - 1])) {\n            invalid = true;\n          }\n          if (i + 1 <= n && signals[i + 1] != \"x\" && s <= stoll(signals[i + 1])) {\n            invalid = true;\n          }\n        }\n      } else {\n        if ((i - 1 >= 1 && signals[i - 1] == \"x\") || (i + 1 <= n && signals[i + 1] == \"x\")) {\n          invalid = true;\n        } else {\n          if (i % 2 == 1) {\n            int64_t x1 = i - 1 >= 1 ? stoll(signals[i - 1]) : INT64_MAX;\n            int64_t x2 = i + 1 <= n ? stoll(signals[i + 1]) : INT64_MAX;\n            xodd = min(xodd, min(x1, x2) - 1);\n          } else {\n            int64_t x1 = i - 1 >= 1 ? stoll(signals[i - 1]) : INT64_MIN;\n            int64_t x2 = i + 1 <= n ? stoll(signals[i + 1]) : INT64_MIN;\n            xeven = max(xeven, max(x1, x2) + 1);\n          }\n        }\n      }\n    }\n    if (invalid) {\n      cout << \"none\" << endl;\n    } else if (xodd == xeven) {\n      cout << xodd << endl;\n    } else if (xodd < xeven) {\n      cout << \"none\" << endl;\n    } else {\n      cout << \"ambigous\" << endl;\n    }\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i, n) for (int i = 0; i < n; i++)\n#define INF 10000001000\n#define int long long\nusing namespace std;\nsigned main()\n{\n    int n;\n    while (cin >> n, n)\n    {\n        //cout << \"--------------------------------------------\" << endl;\n        //cout << n << endl;\n        vector<int> vec(n + 1);\n        string s;\n        int seq = 0;\n        bool none_flag = false;\n        bool x = false;\n        rep(i, n)\n        {\n            cin >> s;\n            if (s == \"x\")\n            {\n                seq++;\n                x = true;\n                if ((i + 1) % 2 == 0)\n                    vec[i] = INF;\n                else\n                    vec[i] = -INF;\n            }\n            else\n            {\n                seq = 0;\n                vec[i] = atoi(s.c_str());\n                if (i > 0 && (i + 1) % 2 == 0)\n                {\n                    if (vec[i] <= vec[i - 1])\n                        none_flag = true;\n                }\n                if (i > 0 && (i + 1) % 2 == 1)\n                {\n                    if (vec[i] >= vec[i - 1])\n                        none_flag = true;\n                }\n            }\n            if (seq > 1)\n                none_flag = true;\n            //cout << s << \" \";\n        }\n        //cout << endl;\n        //cout << vec[0] << \" \" << vec[1] << endl;\n        if (none_flag)\n        {\n            cout << \"none\" << endl;\n            continue;\n        }\n        if (!x)\n        {\n            cout << \"ambiguous\" << endl;\n            continue;\n        }\n        int sup = INF, inf = -INF;\n        int max_tmp, min_tmp;\n        rep(i, n)\n        {\n            if (vec[i] == INF || vec[i] == -INF)\n            {\n                if ((i + 1) % 2)\n                {\n                    if (i == 0)\n                        max_tmp = vec[i + 1];\n                    else if (i == n - 1)\n                        max_tmp = vec[i - 1];\n                    else\n                        max_tmp = min(vec[i + 1], vec[i - 1]);\n                    sup = min(sup, max_tmp);\n                }\n                else\n                {\n                    if (i == 0)\n                        min_tmp = vec[i + 1];\n                    else if (i == n - 1)\n                        min_tmp = vec[i - 1];\n                    else\n                        min_tmp = max(vec[i + 1], vec[i - 1]);\n                    inf = max(inf, min_tmp);\n                }\n            }\n            //cout << inf << \" \" << sup << endl;\n        }\n        sup--;\n        inf++;\n        //cout << inf << \" \" << sup << endl;\n        if (sup == inf)\n            cout << sup << endl;\n        else if (sup == -INF - 1 || inf == INF + 1)\n            cout << \"ambiguous\" << endl;\n        else if (inf < sup)\n            cout << \"ambiguous\" << endl;\n        else\n            cout << \"none\" << endl;\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "//#define NDEBUG\n#include <algorithm>\n#include <cstddef>\n#include <cstdint>\n#include <iostream>\n#include <vector>\n\nnamespace n91 {\n\nusing i8 = std::int_fast8_t;\nusing i32 = std::int_fast32_t;\nusing i64 = std::int_fast64_t;\nusing u8 = std::uint_fast8_t;\nusing u32 = std::uint_fast32_t;\nusing u64 = std::uint_fast64_t;\nusing isize = std::ptrdiff_t;\nusing usize = std::size_t;\n\nstruct rep {\n  struct itr {\n    usize i;\n    constexpr itr(const usize i) noexcept : i(i) {}\n    void operator++() noexcept { ++i; }\n    constexpr usize operator*() const noexcept { return i; }\n  };\n  const itr f, l;\n  constexpr rep(const usize f, const usize l) noexcept\n      : f(std::min(f, l)), l(l) {}\n  constexpr auto begin() const noexcept { return f; }\n  constexpr auto end() const noexcept { return l; }\n};\nstruct revrep {\n  struct itr {\n    usize i;\n    constexpr itr(const usize i) noexcept : i(i) {}\n    void operator++() noexcept { --i; }\n    constexpr usize operator*() const noexcept { return i; }\n  };\n  const itr f, l;\n  constexpr revrep(const usize f, const usize l) noexcept\n      : f(l - 1), l(std::min(f, l) - 1) {}\n  constexpr auto begin() const noexcept { return f; }\n  constexpr auto end() const noexcept { return l; }\n};\ntemplate <class T> auto md_vec(const usize n, const T &value) {\n  return std::vector<T>(n, value);\n}\ntemplate <class... Args> auto md_vec(const usize n, Args... args) {\n  return std::vector<decltype(md_vec(args...))>(n, md_vec(args...));\n}\ntemplate <class T> constexpr T difference(const T &a, const T &b) noexcept {\n  return a < b ? b - a : a - b;\n}\ntemplate <class T> void chmin(T &a, const T &b) noexcept {\n  if (b < a)\n    a = b;\n}\ntemplate <class T> void chmax(T &a, const T &b) noexcept {\n  if (a < b)\n    a = b;\n}\ntemplate <class T> T scan() {\n  T ret;\n  std::cin >> ret;\n  return ret;\n}\n\n} // namespace n91\n\n#include <algorithm>\n#include <iostream>\n#include <string>\n#include <utility>\n\nnamespace n91 {\n\nvoid solve(const usize n) {\n  std::vector<std::string> a(n);\n  for (auto &e : a) {\n    std::cin >> e;\n  }\n  i32 lb = -1000000010, ub = 1000000010;\n  for (usize i = 1; i < n; ++i) {\n    const auto &l = a[i - i % 2];\n    const auto &r = a[i - (i + 1) % 2];\n    if (l == \"x\") {\n      if (r == \"x\") {\n        std::cout << \"none\" << std::endl;\n        return;\n      } else {\n        chmin<i32>(ub, std::stoi(r) - 1);\n      }\n    } else {\n      if (r == \"x\") {\n        chmax<i32>(lb, std::stoi(l) + 1);\n      } else {\n        if (std::stoi(l) >= std::stoi(r)) {\n          std::cout << \"none\" << std::endl;\n          return;\n        }\n      }\n    }\n  }\n  if (lb > ub) {\n    std::cout << \"none\" << std::endl;\n  } else if (lb == ub) {\n    std::cout << lb << std::endl;\n  } else {\n    std::cout << \"ambiguous\" << std::endl;\n  }\n}\n\nvoid main_() {\n  while (true) {\n    const usize n{scan<usize>()};\n    if (n == 0) {\n      return;\n    }\n    solve(n);\n  }\n}\n\n} // namespace n91\n\nint main() {\n  n91::main_();\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <functional>\n#include <cmath>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <string>\n#include <sstream>\n#include <iostream>\n#include <iomanip>\n#include <vector>\n#include <list>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <bitset>\n#include <climits>\n\n#define all(c) (c).begin(), (c).end()\n#define rep(i,n) for(int i=0;i<(n);i++)\n#define pb(e) push_back(e)\n#define mp(a, b) make_pair(a, b)\n#define fr first\n#define sc second\n\nconst int INF=1000000000;\nint dx[4]={1,0,-1,0};\nint dy[4]={0,1,0,-1};\nusing namespace std;\ntypedef pair<int ,int > P;\ntypedef long long ll;\n\nint n;\nstring a[1003];\n\nll toi(string s) {\n    ll res;\n    stringstream ss;\n    ss<<s;\n    ss>>res;\n    return res;\n}\n\nvoid solve() {\n    ll l=-INF*2,r=INF*2;\n    rep(i,n) cin>>a[i];\n\n    rep(i,n) {\n        if(i!=0 && a[i-1]==\"x\"&&a[i]==\"x\") {\n            cout<<\"none\"<<endl;\n            return;\n        }\n        if(i&1) {\n            if(i+1<n && a[i+1]!=\"x\") {\n                if(a[i]==\"x\") l=max(l,toi(a[i+1]));\n                if(a[i]!=\"x\") {\n                    if(toi(a[i])<=toi(a[i+1])) {\n                        cout<<\"none\"<<endl;\n                        return;\n                    }\n                }\n            }\n            if(i-1>=0 && a[i-1]!=\"x\") {\n                if(a[i]==\"x\") l=max(l,toi(a[i-1]));\n                if(a[i]!=\"x\") {\n                    if(toi(a[i])<=toi(a[i-1])) {\n                        cout<<\"none\"<<endl;\n                        return;\n                    }\n                }\n            }\n        }\n        else {\n            if(i+1<n && a[i+1]!=\"x\") {\n                if(a[i]==\"x\") r=min(r,toi(a[i+1]));\n                if(a[i]!=\"x\") {\n                    if(toi(a[i])>=toi(a[i+1])) {\n                        cout<<\"none\"<<endl;\n                        return;\n                    }\n                }\n            }\n            if(i-1>=0 && a[i-1]!=\"x\") {\n                if(a[i]==\"x\") r=min(r,toi(a[i-1]));\n                if(a[i]!=\"x\") {\n                    if(toi(a[i])>=toi(a[i-1])) {\n                        cout<<\"none\"<<endl;\n                        return;\n                    }\n                }\n            }\n        }\n    }\n    // cout<<l<<\",\"<<r<<endl;\n    //cout<<r-l<<endl;\n\n    if(r-l>2) {\n        cout<<\"ambiguous\"<<endl;\n    }\n    else if(r-l<2) {\n        cout<<\"none\"<<endl;\n    }\n    else {\n        cout<<l+1<<endl;\n    }\n\n\n\n\n}\n\nint main() {\n    while(cin>>n) {\n        if(n==0) break;\n        solve();\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 1000000100\n\n#include <iostream>\n#include <cstdio>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n  \nusing namespace std;\n  \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P> PP;\n  \nstatic const double EPS = 1e-8;\n\nint main(){\n  int N;\n  while(~scanf(\"%d\",&N)){\n    if(N == 0) break;\n\n    vector<int> signals;\n    queue<int> unknown;\n\n    for(int i=0; i < N; i++){\n      char signal[12];\n      int num;\n      scanf(\"%s\",signal);\n      if(signal[0] != 'x'){\n        num = atoi(signal);\n      }\n      else{\n        num = INF;\n        unknown.push(i);\n      }\n      signals.push_back(num);\n    }\n    \n    int lower = -INF;\n    int upper = INF;\n\n    while(!unknown.empty()){\n      int idx = unknown.front();\n      unknown.pop();\n      int lhs = idx - 1;\n      int rhs = idx + 1;\n      \n      //even\n      if((idx+1) % 2 == 0){\n        if(idx > 0) {\n          if(signals[lhs] != INF){\n            lower = max(signals[lhs]+1,lower);\n          }\n        }\n        if(signals[rhs] != INF){\n          lower = max(signals[rhs]+1,lower);\n        }\n      }\n      //odd\n      else{\n        if(idx < signals.size() -1){\n          if(signals[rhs] != INF){\n            upper = min(signals[rhs]-1,upper);\n          }\n        }\n        if(signals[lhs] != INF){\n          upper = min(signals[lhs]-1,upper);\n        }\n      }\n    }\n\n    bool is_none = false;\n    for(int i=0;i<signals.size();i++){\n      if(signals[i] == INF) continue;\n\n      int lhs = i - 1;\n      int rhs = i + 1;\n      if(lhs >= 0 && signals[lhs] != INF){\n        if((i + 1) % 2 == 0){\n          if(signals[i] - signals[lhs] < 0){\n            is_none = true;\n            break;\n          }\n        }\n        else{\n          if(signals[i] - signals[lhs] > 0){\n            is_none = true;\n            break;\n          }\n        }\n      }\n      if(rhs < signals.size() && signals[rhs] != INF){\n        if((i + 1) % 2 == 0){\n          if(signals[i] - signals[rhs] < 0){\n            is_none = true;\n            break;\n          }\n        }\n        else{\n          if(signals[i] - signals[rhs] > 0){\n            is_none = true;\n            break;\n          }\n        }\n      }\n    }\n\n    // cout << \"upper \" << upper << endl;\n    // cout << \"lower \" << lower << endl;\n    if(!is_none && upper - lower > 0){\n      printf(\"ambiguous\\n\");\n    }\n    else if(!is_none && upper == lower){\n      printf(\"%d\\n\",upper);\n    }\n    else if(is_none || upper - lower < 0){\n      printf(\"none\\n\");\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <string>\n#include <cstdlib>\n#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nint main(){\n    string s;\n    int n,i,j,b,f,t,c;\n    \n    while(1){\n        int lt=1e9+3,lf=-1e9-3,isn=0;\n        cin>>n;\n        if(!n){break;}\n        int l[n];\n        l[0]=0;\n        for(i=0;i<n;i++){\n            cin>>s;\n            if(s!=\"x\"){\n                b=atoi(s.c_str());\n                l[i]=b;\n            }\n            else{\n                l[i]=0;\n            }\n        }\n        for(i=0;i<n;i++){\n            if(i<n-1 && (!l[i]) && (!l[i+1])){isn=1;break;}\n            if(i==0){\n                if(l[0] && l[1] && l[0]>l[1] && l[1]){isn=1;break;}\n                else if(!(l[0]) && l[1]){lt=l[1]-1;}\n            }\n            else if(i<n-1 && i%2){\n                if(l[i] && l[i-1] && l[i+1] && (l[i]<l[i-1] || l[i]<l[i+1])){isn=1;break;}\n                else if(!(l[i]) && (l[i-1] || l[i+1])){lf=max({lf,l[i-1],l[i+1]});}\n            }\n            else if(i<n-1 && !(i%2)){\n                if(l[i] && l[i-1] && l[i+1] && (l[i]>l[i-1] || l[i]>l[i+1])){isn=1;break;}\n                else if(!(l[i]) && (l[i-1] || l[i+1])){lt=min({lt,l[i-1],l[i+1]});}\n            }\n            else if(i==n-1 && i%2){\n                if(l[i] && l[i]<l[i-1]){isn=1;break;}\n                else if(!(l[i]) && l[i-1]){lf=max({lf,l[i-1]});}\n            }\n            else if(i==n-1 && !(i%2)){\n                if(l[i] && l[i]>l[i-1]){isn=1;break;}\n                else if(!(l[i]) && l[i-1]){lt=min({lt,l[i-1]});}\n            }\n        }\n        c=lt-lf-1;\n        if(isn || c<1){cout<<\"none\"<<endl;}\n        else if(c==1){cout<<c<<endl;}\n        else{cout<<\"ambiguous\"<<endl;}\n    }\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <stack>\n#include <queue>\n#include <map>\n#include <cmath>\n#include <string>\n#include <sstream>\n#include <iomanip>\n#include <complex>\nusing namespace std;\n\n#define ll long long\n#define vvi vector< vector<int> >\n#define vi vector<int>\n#define All(X) X.begin(),X.end()\n#define FOR(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define REP(i,n) for(int i=0;i<(int)(n);i++)\n#define pb push_back\n#define pii pair<int,int>\n#define mp make_pair\n#define pi 3.14159265359\n#define shosu(X) fixed << setprecision(X)\nll gcd(ll a,ll b){return b?gcd(b,a%b):a;}\nll lcm(ll a,ll b){return a/gcd(a,b)*b;}\n\nint main(){\n\twhile(1){\n\t\tint n;\n\t\tcin >> n;\n\t\tif(n==0) break;\n\t\tint xcnt = 0;\n\t\tint data[1001];\n\t\tint lastxpos = -1;\n\t\tREP(i,n){\n\t\t\tstring s;\n\t\t\tcin >> s;\n\t\t\tif(s==\"x\"){\n\t\t\t\txcnt++;\n\t\t\t\tif(lastxpos==i-1){//x 2??£?¶????????????????????????¨\n\t\t\t\t\txcnt = n;\n\t\t\t\t}\n\t\t\t\tlastxpos = i;\n\t\t\t\tdata[i]=-1;\n\t\t\t}else{\n\t\t\t\tdata[i]=stoi(s);\n\t\t\t}\n\t\t}\n\t\tif(xcnt>=n){//2??£?¶????????????§?????£?????????\n\t\t\tcout << \"none\" << endl;\n\t\t}else{\n\t\t\tbool is_mujun = false;\n\t\t\tint minx=-1,maxx=-1;\n\t\t\tREP(i,n){\n\t\t\t\tif(i==0){\n\t\t\t\t\tif(data[0]==-1) maxx = data[1]-1;\n\t\t\t\t\telse if(data[1]!=-1&&data[0]>=data[1]) is_mujun = true;\n\t\t\t\t}else if(i==n-1){\n\t\t\t\t\tif(data[n-1]==-1){\n\t\t\t\t\t\tif((n+1)%2==0){\n\t\t\t\t\t\t\tmaxx = data[n-2]-1;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tminx = data[n-2]+1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif((n+1)%2==0){\n\t\t\t\t\t\t\tif(data[n-2]!=-1&&data[n-1]>=data[n-2]) is_mujun = true;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tif(data[n-2]!=-1&&data[n-1]<=data[n-2]) is_mujun = true;\n\t\t\t\t\t\t}\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(data[i]==-1){\n\t\t\t\t\t\tif((i+1)%2==0){\n\t\t\t\t\t\t\tminx = max(data[i-1],data[i+1])+1;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tmaxx = min(data[i-1],data[i+1])-1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif((i+1)%2==0){\n\t\t\t\t\t\t\tif(data[i-1]!=-1&&(data[i]<=data[i-1])) is_mujun = true;\n\t\t\t\t\t\t\tif(data[i+1]!=-1&&(data[i]>=data[i+1])) is_mujun = true;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tif(data[i-1]!=-1&&(data[i]<=data[i-1])) is_mujun = true;\n\t\t\t\t\t\t\tif(data[i+1]!=-1&&(data[i]>=data[i+1])) is_mujun = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(minx!=-1&&maxx!=-1&&minx-maxx>0) is_mujun = true;\n\n\t\t\t}\n\t\t\tif(xcnt==0){\n\t\t\t\tif(is_mujun) cout << \"none\" << endl;\n\t\t\t\telse cout << \"ambigious\" << endl;\t\t\t\t\n\t\t\t}else{\n\t\t\t\tif(is_mujun) cout << \"none\" << endl;\n\t\t\t\telse{\n\t\t\t\t\tif(maxx==minx) cout << maxx << endl;\n\t\t\t\t\telse cout << \"ambigious\" << endl;\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\n\n//#define int long long\n#define DBG 1\n#define dump(o) if(DBG){cerr<<#o<<\" \"<<(o)<<endl;}\n#define dumpc(o) if(DBG){cerr<<#o; for(auto &e:(o))cerr<<\" \"<<e;cerr<<endl;}\n#define rep(i,a,b) for(int i=(a);i<(b);i++)\n#define rrep(i,a,b) for(int i=(b)-1;i>=(a);i--)\n#define all(c) begin(c),end(c)\nconst int INF = sizeof(int) == sizeof(long long) ? 0x3f3f3f3f3f3f3f3fLL : 0x3f3f3f3f;\nconst int MOD = (int)(1e9 + 7);\n\nsigned main() {\n\tfor (int N; cin >> N&&N;) {\n\t\tvector<string> v(N); rep(i, 0, N) { cin >> v[i]; }\n\t\trep(i, 1, N) {\n\t\t\tif (v[i] == \"x\"&&v[i - 1] == \"x\")\n\t\t\t\tgoto NONE;\n\t\t\tif (v[i - 1] != \"x\"&&v[i] != \"x\") {\n\t\t\t\tif (i & 1) {\n\t\t\t\t\tif (v[i - 1] >= v[i])goto NONE;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (v[i - 1] <= v[i])goto NONE;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint l = -INF, r = INF;\n\t\trep(i, 0, N) {\n\t\t\tif (v[i] != \"x\") continue;\n\t\t\tif (i & 1) {\n\t\t\t\tif (i != 0)l = max(l, stoi(v[i - 1]) + 1);\n\t\t\t\tif (i != N - 1)l = max(l, stoi(v[i + 1]) + 1);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (i != 0)r = min(r, stoi(v[i - 1]) - 1);\n\t\t\t\tif (i != N - 1)r = min(r, stoi(v[i + 1]) - 1);\n\t\t\t}\n\t\t}\n\t\tif (l == r) {\n\t\t\tcout << l << endl;\n\t\t}\n\t\telse if (l < r) {\n\t\t\tcout << \"ambiguous\" << endl;\n\t\t}\n\t\telse {\n\t\tNONE:\n\t\t\tcout << \"none\" << endl;\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "\n#include <stdio.h>\n#include <stdlib.h>\n#include <iostream>\n#include <vector>\n#include <string>\n#include <queue>\n#include <algorithm>\n#include <math.h>\n#include <utility>\n#include <set>\n#include <map>\n#include <cstring>\n#include <cstdio>\n#include <stack>\n#include <cmath>\n#define INF 10000000000\n#define rep(i,n) for(int i =0;i<n;i++)\nusing namespace std;\ntypedef long long int ll;\ntypedef pair<int, int> i_i;\n\nint main(){\n    for (; ;) {\n        int n;\n        cin >> n;\n        if(!n) break;\n        vector<ll> data(n);\n        for (int i=0; i<n; i++) {\n            string s;\n            cin >> s;\n            if (s==\"x\") {\n                data[i]=INF;\n            }else{\n                ll inp=0;\n                for (int i = s.length()-1; i>=0;i--) {\n                    if(s[i]=='-'){\n                        inp *= -1;\n                        continue;\n                    }\n                    inp += ((int)s[i]-(int)'0')*pow(10, s.length()-1-i);\n                }\n                data[i]=inp;\n            }\n        }\n        bool ch = true;\n        int xx = 0;\n        ll ub=-INF, ob=INF;\n        for (int i=0; i<n; i++) {\n            if(data[i]==INF){\n                xx++;\n                if(i%2==1){\n                    ll a = -INF,b =-INF;\n                    if(i>0 and data[i-1]!=INF){\n                        a = data[i-1];\n                    }\n                    if(i<n-1 and data[i+1]!=INF){\n                        b = data[i+1];\n                    }\n                    ub = max(ub,max(a, b));\n                }\n                if(i%2==0){\n                    ll a = INF,b =INF;\n                    if(i>0 and data[i-1]!=INF){\n                        a = data[i-1];\n                    }\n                    if(i<n-1 and data[i+1]!=INF){\n                        b = data[i+1];\n                    }\n                    ob = min(ob,min(a, b));\n                }\n            }else{\n                if(i%2==1){\n                    if (i >0 and data[i]<=data[i-1] and data[i-1]!=INF) {\n                        ch = false;\n                    }\n                }else{\n                    if (i>0 and data[i]>=data[i-1] and data[i-1]!=INF) {\n                        ch = false;\n                    }\n                }\n            }\n        }\n        ob--;\n        ub++;\n        if (ob==9999999999 and ub !=-9999999999) {\n            ub = ob-100;\n        }\n        if (ob!=9999999999 and ub ==-9999999999) {\n            ob = ub+100;\n        }\n        //cout << ob <<\"  \"<<ub <<endl;\n        if(xx==n){\n            cout <<\"none\"<<endl;\n            continue;\n        }\n        if (ob == ub and ch) {\n            cout << ob << endl;\n        }else{\n            if ((ob>ub and xx) or (ch and !xx)) {\n                cout << \"ambiguous\"<<endl;\n            }else{\n                cout << \"none\"<<endl;\n            }\n        }\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <cmath>\n#include <ctype.h>\n#include <string> \n#include <sstream>\n#include <iostream>\n#include <algorithm>\n#include <cstdlib>\n#include <map>\n#include <queue>\n#include <utility>\n#include <vector>\n#include <set>\n#include <iomanip>\n#include <stack>\n  \nusing namespace std;\n\n#define pi 3.141592653589793\n\nint StrToInt(string str)\n{\n\tint i, j, num = 0, ans = 0, l = str.length();\n\tfor(i = l - 1; i >= 0; i--){\n\t\tif(isdigit(str[i])){\n\t\t\tnum = str[i] - '0';\n\t\t\tfor(j = 0; j < l - 1 - i; j++){\n\t\t\t\tnum = num * 10;\n\t\t\t}\n\t\t\tans += num;\n\t\t} else {\n\t\t\tans = -1;\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn ans;\n}\n\nstring IntToStr(int n)\n{\n\tstring s = \"\";\n\tint i = 0;\n\twhile(n / (int)pow(10, i) != 0){\n\t\ti++;\n\t}\n\tfor(int j = i - 1; j >= 0; j--){\n\t\ts += (n / (int)pow(10, j)) + '0';\n\t}\n\treturn s;\n}\n\nstring solve(string a[], int n)\n{\n\tint xrange[2] = {-1000000001, 1000000001};\n\t// xのとりうる範囲\n\tint is_x_in[2] = {0, 0};\n\t// 0がtrue→偶数番目にxあり、1がtrue→奇数番目にxあり\n\tif(a[1] == \"x\"){\n\t\tif(a[2] == \"x\") return \"none\";\n\t\telse xrange[1] = min(StrToInt(a[2]), xrange[1]);\n\t\tis_x_in[1] = 1;\n\t} else {\n\t\tif(a[2] == \"x\") xrange[0] = max(StrToInt(a[1]), xrange[0]);\n\t\telse if(StrToInt(a[1]) > StrToInt(a[2])) return \"none\";\n\t}\n\tfor(int i = 2; i < n; i++){\n\t\tif(a[i] == \"x\"){\n\t\t\tif(a[i - 1] == \"x\" || a[i + 1] == \"x\") return \"none\";\n\t\t\telse {\n\t\t\t\tis_x_in[i % 2] = 1;\n\t\t\t\tif(i % 2 == 0) xrange[0] = max(max(StrToInt(a[i - 1]), StrToInt(a[i + 1])), xrange[0]);\n\t\t\t\telse xrange[1] = min(min(StrToInt(a[i - 1]), StrToInt(a[i + 1])), xrange[1]);\n\t\t\t}\n\t\t} else if(a[i - 1] == \"x\" || a[i + 1] == \"x\") continue;\n\t\telse {\n\t\t\tif(i % 2 == 0 && (StrToInt(a[i]) <= StrToInt(a[i + 1]) || StrToInt(a[i]) <= StrToInt(a[i - 1]))) return \"none\";\n\t\t\telse if(i % 2 == 1 && (StrToInt(a[i]) >= StrToInt(a[i + 1]) || StrToInt(a[i]) >= StrToInt(a[i - 1]))) return \"none\";\n\t\t}\n\t}\n\tif(a[n] == \"x\"){\n\t\tif(a[n - 1] != \"x\"){\n\t\t\tif(n % 2 == 0){\n\t\t\t\txrange[0] = max(StrToInt(a[n - 1]), xrange[0]);\n\t\t\t\tis_x_in[0] = 1;\n\t\t\t}\n\t\t\telse{\n\t\t\t\txrange[1] = min(StrToInt(a[n - 1]), xrange[1]);\n\t\t\t\tis_x_in[1] = 1;\n\t\t\t}\n\t\t}\n\t}\n\tif(is_x_in[0] ^ is_x_in[1]) return \"ambiguous\";\n\telse if(!is_x_in[0] && !is_x_in[1]) return \"ambiguous\";\n\telse {\n\t\tif(xrange[1] - xrange[0] > 2) return \"ambiguous\";\n\t\telse if(xrange[1] - xrange[0] == 2) return IntToStr(xrange[1] - 1);\n\t\telse return \"none\";\n\t}\n}\n\nint main()\n{\n\tint n;\n\twhile(1){\n\t\tcin >> n;\n\t\tif(n == 0) break;\n\t\tstring input[1001];\n\t\tfor(int i = 1; i < n + 1; i++){\n\t\t\tcin >> input[i];\n\t\t}\n\t\tcout << solve(input, n) << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cctype>\n#include <climits>\n#include <cmath>\n#include <complex>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <ctime>\n#include <deque>\n#include <functional>\n#include <iostream>\n#include <list>\n#include <map>\n#include <memory>\n#include <numeric>\n#include <queue>\n#include <set>\n#include <stack>\n#include <string>\n#include <utility>\n#include <vector>\nusing namespace std;\n\n#define EPS 1e-10\n#define INF 1000000002\n#define mp make_pair\n#define pb push_back\n\ntypedef vector<int> vi;\ntypedef vector<vi> vii;\ntypedef pair<int,int> pii;\ntypedef long long ll;\n\nll parseInt(string &str) {\n  ll rep = str[0] - '0';\n  for (int i = 1; i < str.size(); i++) {\n    int num = str[i] - '0';\n    rep = rep * 10 + num;\n  }\n  return rep;\n}\n\nint main() {\n  while (1) {\n    int N;\n    scanf(\"%d\", &N);\n    if (N == 0) {\n      break;\n    }\n    string prev = \"1000000002\";\n    ll floor = -1 * INF, ceiling = INF;\n    for (int i = 0; i < N; i++) {\n      string data;\n      cin >> data;\n      if (data == \"x\") {\n        if (prev == \"x\") {\n          floor = 0;\n          ceiling = -1;\n        } else {\n          if ((i + 1) % 2 == 0) {\n            floor = max(floor, parseInt(prev) + 1);\n          } else {\n            ceiling = min(ceiling, parseInt(prev) - 1);\n          }\n        }\n      } else {\n        if (prev == \"x\") {\n          if (i % 2 == 0) {\n            floor = max(floor, parseInt(data) + 1);\n          } else {\n            ceiling = min(ceiling, parseInt(data) - 1);\n          }\n        } else {\n          if (((i + 1) % 2 == 0 && prev >= data) || ((i + 1) % 2 == 1 && prev < data)) {\n            floor = 0;\n            ceiling = -1;\n          }\n        }\n      }\n      prev = data;\n    }\n    if (floor == ceiling) {\n      cout << floor << endl;\n    } else if (floor < ceiling) {\n      cout << \"ambiguous\" << endl;\n    } else {\n      cout << \"none\" << endl;\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <cmath>\n#include <cstdio>\n#include <functional>\n#include <numeric>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <utility>\n#include <sstream>\n#include <complex>\n#include <fstream>\n#include <bitset>\n#include <time.h>\n#include <tuple>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<ll, ll> P;\ntypedef vector<ll> V;\ntypedef complex<double> Point;\n\n#define PI acos(-1.0)\n#define EPS 1e-10\nconst ll INF = 1e12;\nconst ll MOD = 1e9 + 7;\n\n#define FOR(i,a,b) for(ll i=(a);i<(b);i++)\n#define rep(i,N) for(ll i=0;i<(N);i++)\n#define ALL(s) (s).begin(),(s).end()\n#define EQ(a,b) (abs((a)-(b))<EPS)\n#define EQV(a,b) ( EQ((a).real(), (b).real()) && EQ((a).imag(), (b).imag()) )\n#define fi first\n#define se second\n#define N_SIZE (1LL << 20)\n#define NIL -1\n#define MAX_N 100100\n\nll sq(ll num) { return num*num; }\nll mod_pow(ll x, ll n) {\n\tif (n == 0)return 1;\n\tif (n == 1)return x%MOD;\n\tll res = sq(mod_pow(x, n / 2));\n\tres %= MOD;\n\tif (n % 2 == 1) {\n\t\tres *= x;\n\t\tres %= MOD;\n\t}\n\treturn res;\n}\nll mod_add(ll a, ll b) { return (a + b) % MOD; }\nll mod_sub(ll a, ll b) { return (a - b + MOD) % MOD; }\nll mod_mul(ll a, ll b) { return a*b % MOD; }\n\nint n;\nll a[100100];\n\nll changei(string s) {\n\tll res;\n\tstringstream ss;\n\tss << s;\n\tss >> res;\n\treturn res;\n}\n\nint main() {\n\twhile (cin >> n&&n) {\n\t\tll lb = -INF, ub = INF;\n\t\tbool f = 0;\n\t\trep(i, n) {\n\t\t\tstring num;\n\t\t\tcin >> num;\n\t\t\tif (num == \"x\")a[i] = -1;\n\t\t\telse a[i] = changei(num);\n\t\t}\n\t\trep(i, n - 1) {\n\t\t\tif (i % 2 == 0) {\n\t\t\t\tif (a[i] == -1) {\n\t\t\t\t\tif (a[i + 1] == -1)f = 1;\n\t\t\t\t\telse ub = min(a[i + 1] - 1, ub);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (a[i + 1] == -1)lb = max(a[i] + 1, lb);\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (a[i] >= a[i + 1])f = 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (a[i] == -1) {\n\t\t\t\t\tif (a[i + 1] == -1)f = 1;\n\t\t\t\t\telse lb = max(a[i + 1] + 1, lb);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (a[i + 1] == -1)ub = min(a[i] - 1, ub);\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (a[i] <= a[i + 1])f = 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t//cout << lb << \" \" << ub << endl;\n\t\tif (lb > ub)f = 1;\n\t\tif (f)cout << \"none\" << endl;\n\t\telse {\n\t\t\tif (lb == ub)cout << lb << endl;\n\t\t\telse cout << \"ambiguous\" << endl;\n\t\t}\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\n#include <string>\n#define INF 2000000000\n#define N 1002\nusing namespace std;\nint StoI(string);\nint n,data[N],b,e,flag,cnt;\nstring str[N];\n\nint main(){\n  while(1){\n    cin>>n;\n    if(!n) break;\n    data[0]=INF;\n    flag=cnt=0;\n    b=INF;\n    e=-INF;\n    if(n%2) data[n+1]=INF;\n    else data[n+1]=-INF;\n    for(int i=1;i<=n;i++){\n      cin>>str[i];\n      if(str[i]==\"x\"){\n\tcnt++;\n\tcontinue;\n      }\n      data[i]=StoI(str[i]);\n    }\n    for(int i=1;i<n;i++)\n      if(str[i]==\"x\"&&str[i+1]==\"x\") cout<<\"none\"<<endl,flag=1;\n    if(!flag&&!cnt){\n      for(int i=1;i<=n;i++){\n\tif(i%2){\n\t  if(data[i-1]<=data[i]||data[i]>=data[i+1]){\n\t    cout<<\"none\"<<endl,flag=1;\n\t    break;\n\t  }\n\t}else{\n\t  if(data[i-1]>=data[i]||data[i]<=data[i+1]){\n\t    cout<<\"none\"<<endl,flag=1;\n\t    break;\n\t  }\n\t}\n      }\n      if(!flag) cout<<\"ambiguous\"<<endl,flag=1;\n    }\n    if(!flag){\n      for(int i=1;i<=n;i++){\n\tif(str[i]!=\"x\") continue;\n\tif((i%2)&&(data[i-1]<=b||b>=data[i+1])) b=min(min(b,data[i-1]-1),data[i+1]-1);\n\telse if(!(i%2)&&(data[i-1]>=e||e<=data[i+1])) e=max(max(e,data[i-1]+1),data[i+1]+1);\n      }\n      if(b==e) cout<<b<<endl;\n      else if((long long)b-e>0) cout<<\"ambiguous\"<<endl;\n      else cout<<\"none\"<<endl;\n    }\n  }\n  return 0;\n}\n\nint StoI(string s){\n  int ret=0;\n  for(int i=0;i<(int)s.size();i++) ret=ret*10+(s[i]-'0');\n  return ret;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i, n) for (int i = 0; i < n; i++)\n#define INF 100000010\nusing namespace std;\nint main()\n{\n\tint n;\n\twhile (cin >> n, n)\n\t{\n\t\tvector<long> vec(n + 1);\n\t\tstring s;\n\t\tint seq = 0;\n\t\tbool none_flag = false;\n\t\tbool x = false;\n\t\trep(i, n)\n\t\t{\n\t\t\tcin >> s;\n\t\t\tif (s == \"x\")\n\t\t\t{\n\t\t\t\tseq++;\n\t\t\t\tx = true;\n\t\t\t\tif ((i + 1) % 2 == 0)\n\t\t\t\t\tvec[i] = INF;\n\t\t\t\telse\n\t\t\t\t\tvec[i] = -INF;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tseq = 0;\n\t\t\t\tvec[i] = stoi(s);\n\t\t\t\tif (i > 0 && (i + 1) % 2 == 0)\n\t\t\t\t{\n\t\t\t\t\tif (vec[i] <= vec[i - 1])\n\t\t\t\t\t\tnone_flag = true;\n\t\t\t\t}\n\t\t\t\tif (i > 0 && (i + 1) % 2 == 1)\n\t\t\t\t{\n\t\t\t\t\tif (vec[i] >= vec[i - 1])\n\t\t\t\t\t\tnone_flag = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (seq > 1)\n\t\t\t\tnone_flag = true;\n\t\t}\n\t\tif (none_flag)\n\t\t{\n\t\t\tcout << \"none\" << endl;\n\t\t\tcontinue;\n\t\t}\n\t\tif (!x)\n\t\t{\n\t\t\tcout << \"ambigious\" << endl;\n\t\t\tcontinue;\n\t\t}\n\t\tint max_n = -INF, min_n = INF;\n\t\tint max_tmp, min_tmp;\n\t\trep(i, n)\n\t\t{\n\t\t\tif (vec[i] == INF || vec[i] == -INF)\n\t\t\t{\n\t\t\t\tif ((i + 1) % 2)\n\t\t\t\t{\n\t\t\t\t\tif (i == 0)\n\t\t\t\t\t\tmax_tmp = vec[i + 1];\n\t\t\t\t\telse if (i == n - 1)\n\t\t\t\t\t\tmax_tmp = vec[i - 1];\n\t\t\t\t\telse\n\t\t\t\t\t\tmax_tmp = min(vec[i + 1], vec[i - 1]);\n\t\t\t\t\tmax_n = max(max_n, max_tmp);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif (i == 0)\n\t\t\t\t\t\tmin_tmp = vec[i + 1];\n\t\t\t\t\telse if (i == n - 1)\n\t\t\t\t\t\tmin_tmp = vec[i - 1];\n\t\t\t\t\telse\n\t\t\t\t\t\tmin_tmp = max(vec[i + 1], vec[i - 1]);\n\t\t\t\t\tmin_n = min(min_n, min_tmp);\n\t\t\t\t}\n\t\t\t}\n\t\t\t//cout << min_n << \" \" << max_n << endl;\n\t\t}\n\t\tmax_n--;\n\t\tmin_n++;\n\t\t//cout << min_n << \" \" << max_n << endl;\n\t\tif (max_n == min_n)\n\t\t\tcout << max_n << endl;\n\t\telse if (max_n == -INF - 1 || min_n == INF + 1)\n\t\t\tcout << \"ambiguous\" << endl;\n\t\telse if (min_n < max_n)\n\t\t\tcout << \"ambiguous\" << endl;\n\t\telse\n\t\t\tcout << \"none\" << endl;\n\t}\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <functional>\n#include <cmath>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <string>\n#include <sstream>\n#include <iostream>\n#include <iomanip>\n#include <vector>\n#include <list>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <bitset>\n#include <climits>\n\n#define all(c) (c).begin(), (c).end()\n#define rep(i,n) for(int i=0;i<(n);i++)\n#define pb(e) push_back(e)\n#define mp(a, b) make_pair(a, b)\n#define fr first\n#define sc second\n\nconst int INF=100000000;\nint dx[4]={1,0,-1,0};\nint dy[4]={0,1,0,-1};\nusing namespace std;\ntypedef pair<int ,int > P;\ntypedef long long ll;\n\nint n;\nstring a[1003];\n\nint toi(string s) {\n    int res;\n    stringstream ss;\n    ss<<s;\n    ss>>res;\n    return res;\n}\n\nint odd(int i) {\n    int res=0;\n    if(i-1>=0 && a[i-1]!=\"x\") {\n        res=max(res,toi(a[i-1]));\n    }\n    if(a[i+1]!=\"x\") {\n        res=max(res,toi(a[i+1]));\n    }\n    return res;\n}\nint even(int i) {\n    int res=INF;\n\n    if(i-1>=0 && a[i-1]!=\"x\") {\n        res=min(res,toi(a[i-1]));\n    }\n    if(i+1<n && a[i+1]!=\"x\") {\n        res=min(res,toi(a[i+1]));\n    }\n    return res;\n}\n\nbool ok() {\n    bool res=true;\n    rep(i,n) {\n        if(i&1) {\n            if(i-1>=0) res &= a[i]>a[i-1];\n            if(i+1<n) res &= a[i]>a[i+1];\n        }\n        else {\n            if(i-1>=0) res &= a[i]<a[i-1];\n            if(i+1<n) res &= a[i]<a[i+1];\n        }\n    }\n    return res;\n}\n\nbool exist_x() {\n    bool res=false;\n    rep(i,n) res|=a[i]==\"x\";\n    return res;\n}\nint count_x() {\n    int res=0;\n    rep(i,n) if(a[i]==\"x\") res++;\n    return res;\n}\n\n\nvoid solve() {\n    int l=0,r=100000000;\n    rep(i,n) cin>>a[i];\n\n    rep(i,n) {\n        if(a[i]==\"x\") {\n            if(i&1) {\n                l=max(l,odd(i));\n            }\n            else {\n                r=min(r,even(i));\n            }\n        }\n    }\n    if(!exist_x()) {\n        if(ok()) cout<<\"ambiguous\"<<endl;\n        else cout<<\"none\"<<endl;\n        return;\n    }\n    if(count_x()==n) {\n        cout<<\"none\"<<endl;\n        return;\n    }\n    if(r-l==2) {\n        cout<<l+1<<endl;\n        return;\n    }\n    else if(r-l==1) {\n        cout<<\"none\"<<endl;\n    }\n    else {\n        cout<<\"ambiguous\"<<endl;\n\n    }\n\n\n}\n\nint main() {\n    while(cin>>n) {\n        if(n==0) break;\n        solve();\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <cstring>\n#include <algorithm>\n#include <sstream>\n\n#define REP(i,k,n) for(int i=k;i<n;i++)\n#define rep(i,n) for(int i=0;i<n;i++)\n\nusing namespace std;\ntypedef long long ll;\n\nint main()\n{\n    int n;\n    while(cin >> n && n) {\n        vector<string> v(n);\n        rep(i,n) cin >> v[i];\n\n        vector<int> res(n);\n        rep(i,n) {\n            if(v[i] == \"x\") res[i] = 0;\n            else {\n                stringstream ss;\n                ss << v[i];\n                ss >> res[i];\n            }\n        }\n\n        bool flag = true;\n        rep(i,n-1) {\n            if(v[i] == \"x\" && v[i+1] == \"x\") flag = false;\n        }\n\n        if(!flag) {\n            cout << \"none\" << endl;\n        }\n        else {\n            bool up = true;\n            for(int i=0;i<n-1;i+=2) {\n                if(v[i] == \"x\" || v[i+1] == \"x\") continue;\n                if(v[i] > v[i+1]) {\n                    up = false;\n                }\n            }\n\n            if(!up) {\n                cout << \"none\" << endl;\n            }\n            else {\n                int M = 1000000000;\n                int l = -M-5;\n                int r = M+5;\n\n                rep(i,n) {\n                    if(v[i] != \"x\") continue;\n\n                    if(i%2 == 0) {\n                        if(i == 0) {\n                            r = min(r,res[i+1]-1);\n                        }\n                        if(0 < i && i < n-1) {\n                            r = min(r,res[i-1]-1);\n                            r = min(r,res[i+1]-1);\n                        }\n                        if(i == n-1) {\n                            r = min(r,res[i-1]-1);\n                        }\n                    }\n                    else {\n                        if(i == 0) {\n                            l = max(l,res[i+1]+1);\n                        }\n                        if(0 < i && i < n-1) {\n                            l = max(l,res[i-1]+1);\n                            l = max(l,res[i+1]+1);\n                        }\n                        if(i == n-1) {\n                            l = max(l,res[i-1]+1);\n                        }\n                    }\n                }\n\n                if(l == r) {\n                    cout << l << endl;\n                }\n                else if(l > r) {\n                    cout << \"none\" << endl;\n                }\n                else {\n                    cout << \"ambiguous\" << endl;\n                }\n            }\n\n        }\n\n\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdlib>\nusing namespace std;\n\nint main()\n{\n  while(1){\n    int n;\n    cin >> n;\n    if(n == 0) break;\n    int a[n];\n    for(int i = 0; i < n; i++){\n      string s;\n      cin >> s;\n      a[i] = s == \"x\" ? -1 : atoi(s.c_str());\n    }\n    int l = 0, u = 1000000003;\n    for(int i = 0; i < n-1; i++){\n      if(a[i] == -1){\n        if(a[i+1] == -1){\n          u = -1;\n          break;\n        }else{\n          if((i+1) & 1){\n            u = a[i+1];\n          }else{\n            l = a[i+1];\n          }\n        }\n      }else{\n        if(a[i+1] == -1){\n          if((i+1) & 1){\n            l = a[i];\n          }else{\n            u = a[i];\n          }\n        }else{\n          if((i+1) & 1){\n            if(a[i] >= a[i+1]){\n              u = -1;\n              break;\n            }\n          }else{\n            if(a[i] <= a[i+1]){\n              u = -1;\n              break;\n            }\n          }\n        }\n      }\n    }\n    if(u - l - 1 > 1)\n      cout << \"ambiguous\" << endl;\n    else if(u - l - 1 <= 0)\n      cout << \"none\" << endl;\n    else\n      cout << (u+l)/2 << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <stack>\n#include <queue>\n#include <map>\n#include <cmath>\n#include <string>\n#include <sstream>\n#include <iomanip>\n#include <complex>\nusing namespace std;\n\n#define ll long long\n#define vvi vector< vector<int> >\n#define vi vector<int>\n#define All(X) X.begin(),X.end()\n#define FOR(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define REP(i,n) for(int i=0;i<(int)(n);i++)\n#define pb push_back\n#define pii pair<int,int>\n#define mp make_pair\n#define pi 3.14159265359\n#define shosu(X) fixed << setprecision(X)\nll gcd(ll a,ll b){return b?gcd(b,a%b):a;}\nll lcm(ll a,ll b){return a/gcd(a,b)*b;}\n\nint main(){\n\twhile(1){\n\t\tint n;\n\t\tcin >> n;\n\t\tif(n==0) break;\n\t\tll int xcnt = 0;\n\t\tll int data[1001];\n\t\tll int lastxpos = -10;\n\t\tREP(i,n){\n\t\t\tstring s;\n\t\t\tcin >> s;\n\t\t\tif(s==\"x\"){\n\t\t\t\txcnt++;\n\t\t\t\tif(lastxpos==i-1){//x 2??£?¶????????????????????????¨\n\t\t\t\t\txcnt = n;\n\t\t\t\t}\n\t\t\t\tlastxpos = i;\n\t\t\t\tdata[i]=1000000000;\n\t\t\t}else{\n\t\t\t\tdata[i]= stoll(s);\n\t\t\t}\n\t\t}\n\t\tif(xcnt>=n){//2??£?¶????????????§?????£?????????\n\t\t\tcout << \"none\" << endl;\n\t\t}else{\n\t\t\tbool is_mujun = false;\n\t\t\tll int minx=-1000000000,maxx=1000000000;\n\t\t\tREP(i,n){\n\t\t\t\tif(i==0){\n\t\t\t\t\tif(data[0]==1000000000) maxx = data[1]-1;\n\t\t\t\t\telse if(data[1]!=1000000000&&data[0]>=data[1]) is_mujun = true;\n\t\t\t\t}else if(i==n-1){\n\t\t\t\t\tif(data[n-1]==1000000000){\n\t\t\t\t\t\tif((n+1)%2==0){\n\t\t\t\t\t\t\tmaxx = min(maxx,data[i-1]);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tminx = max(minx,data[i-1]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif((n+1)%2==0){\n\t\t\t\t\t\t\tif(data[n-2]!=1000000000&&data[n-1]>=data[n-2]) is_mujun = true;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tif(data[n-2]!=1000000000&&data[n-1]<=data[n-2]) is_mujun = true;\n\t\t\t\t\t\t}\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(data[i]==1000000000){\n\t\t\t\t\t\tif((i+1)%2==0){\n\t\t\t\t\t\t\tminx = max(minx,max(data[i-1],data[i+1])+1);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tmaxx = min(maxx,min(data[i-1],data[i+1])-1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif((i+1)%2==0){\n\t\t\t\t\t\t\tif(data[i-1]!=1000000000&&(data[i]<=data[i-1])) is_mujun = true;\n\t\t\t\t\t\t\tif(data[i+1]!=1000000000&&(data[i]<=data[i+1])) is_mujun = true;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tif(data[i-1]!=1000000000&&(data[i]>=data[i-1])) is_mujun = true;\n\t\t\t\t\t\t\tif(data[i+1]!=1000000000&&(data[i]>=data[i+1])) is_mujun = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(minx!=-1000000000&&maxx!=1000000000&&minx-maxx>0) is_mujun = true;\n\t\t\t\t//cout << minx << \" \" << maxx << \" \" << is_mujun <<\" \"<<data[i]<< endl;\n\t\t\t}\n\t\t\tif(xcnt==0){\n\t\t\t\tif(is_mujun) cout << \"none\" << endl;\n\t\t\t\telse cout << \"ambiguous\" << endl;\t\t\t\t\n\t\t\t}else if(xcnt==1){\n\t\t\t\tcout << \"ambiguous\" << endl;\n\t\t\t}else{\n\t\t\t\tif(is_mujun) cout << \"none\" << endl;\n\t\t\t\telse{\n\t\t\t\t\tif(maxx==minx) cout << maxx << endl;\n\t\t\t\t\telse cout << \"ambiguous\" << endl;\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdlib>\nusing namespace std;\n\n#define MAX_N 1000000000\n\nint main()\n{\n  while(1){\n    int n;\n    cin >> n;\n    if(n == 0) break;\n    long long int a[n];\n    for(int i = 0; i < n; i++){\n      string s;\n      cin >> s;\n      a[i] = s == \"x\" ? MAX_N+1 : atoi(s.c_str());\n    } \n    long long int l = -9999999999-3, u = MAX_N+3;\n    bool flag = false;\n    for(int i = 0; i < n-1; i++){\n      if(a[i] == MAX_N+1){\n        if(a[i+1] == MAX_N+1){\n          flag = true;\n          break;\n        }else{\n          if((i+1) & 1){\n            u = a[i+1];\n          }else{\n            l = a[i+1];\n          }\n        }\n      }else{\n        if(a[i+1] == MAX_N+1){\n          if((i+1) & 1){\n            l = a[i];\n          }else{\n            u = a[i];\n          }\n        }else{\n          if((i+1) & 1){\n            if(a[i] >= a[i+1]){\n              flag = true;\n              break;\n            }\n          }else{\n            if(a[i] <= a[i+1]){\n              flag = true;\n              break;\n            }\n          }\n        }\n      }\n    }\n    if(flag){\n      cout << \"none\" << endl;\n      continue;\n    }\n    if(u - l - 1 > 1)\n      cout << \"ambiguous\" << endl;\n    else if(u - l - 1 <= 0)\n      cout << \"none\" << endl;\n    else\n      cout << (u+l)/2 << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdint>\n#include <iostream>\n#include <string>\n#include <vector>\n\nusing namespace std;\n\nbool is_valid(vector<string> signals) {\n  for (uint32_t i = 0; i < signals.size() - 1; i++) {\n    if (signals[i] == \"x\" && signals[i + 1] == \"x\") {\n      return false;\n    }\n    if (signals[i] != \"x\" && signals[i + 1] != \"x\") {\n      int64_t sig1 = stol(signals[i]);\n      int64_t sig2 = stol(signals[i + 1]);\n      if (i % 2 == 0) {\n        if (sig1 >= sig2) {\n          return false;\n        }\n      } else {\n        if (sig1 <= sig2) {\n          return false;\n        }\n      }\n    }\n  }\n  return true;\n}\n\nint32_t main() {\n  while (true) {\n    uint32_t N;\n    cin >> N;\n\n    if (N == 0) break;\n\n    vector<string> signals;\n    for (uint32_t i = 0; i < N; i++) {\n      string str;\n      cin >> str;\n      signals.push_back(str);\n    }\n\n    int64_t x_max = INT64_MIN;\n    int64_t x_min = INT64_MAX;\n    bool valid = true;\n    if (valid = is_valid(signals)) {\n      for (uint32_t i = 0; i < signals.size(); i++) {\n        if (signals[i] == \"x\") {\n          if (i % 2 == 0) {\n            if (i > 0) {\n              x_min = min(x_min, stol(signals[i - 1]) - 1);\n            }\n            if (i + 1 < signals.size()) {\n              x_min = min(x_min, stol(signals[i + 1]) - 1);\n            }\n          } else {\n            if (i > 0) {\n              x_max = max(x_max, stol(signals[i - 1]) + 1);\n            }\n            if (i + 1 < signals.size()) {\n              x_max = max(x_max, stol(signals[i + 1]) + 1);\n            }\n          }\n        }\n      }\n    }\n\n    if (valid) {\n      if (x_max == x_min) {\n        cout << x_max << endl;\n      } else if (x_max == INT64_MIN || x_min == INT64_MAX) {\n        cout << \"ambiguous\" << endl;\n      } else {\n        cout << \"none\" << endl;\n      }\n    } else {\n      cout << \"none\" << endl;\n    }\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#define INF 2000000000\n#define N 1010\nusing namespace std;\ntypedef long long ll;\nvoid Bynary_Search(ll,ll);\nll StoI(string);\nll Judge(ll);\nstring str[N];\nll n,data[N];\n \nint main(){\n  while(1){\n    cin>>n;\n    if(!n) break;\n    data[0]=(ll)INF+INF;\n    if(n%2) data[n+1]=(ll)INF+INF;\n    else data[n+1]=0;\n    for(int i=1;i<=n;i++){\n      cin>>str[i];\n      if(str[i]==\"x\") continue;\n      data[i]=StoI(str[i])+INF;\n    }\n    Bynary_Search(0,(ll)1000000100+INF);\n  }\n  return 0;\n}\n \nvoid Bynary_Search(ll l,ll r){\n  ll m;\n  while(r-l>1){\n    m=(ll)(l+r)/2;\n    if(Judge(m)==-2) break;\n    else if(Judge(m)<0) l=m;\n    else if(Judge(m)>0) r=m-1;\n    else{\n      if(!Judge(m-1)||!Judge(m+1)) cout<<\"ambiguous\"<<endl;\n      else cout<<m-INF<<endl;\n      return ;\n    }\n  }\n  cout<<\"none\"<<endl;\n}\n \nll Judge(ll d){\n  ll judge[N];\n  judge[0]=data[0];\n  judge[n+1]=data[n+1];\n  for(int i=1;i<=n;i++){\n    if(str[i]==\"x\") judge[i]=d;\n    else judge[i]=data[i];\n  }\n  for(int i=1;i<=n;i++)\n    if(str[i]!=\"x\"&&str[i+1]!=\"x\")\n      if(((i%2)&&judge[i]>=judge[i+1])||(!(i%2)&&judge[i]<=judge[i+1])) return -2;\n  for(int i=1;i<=n;i++){\n    if(str[i]!=\"x\") continue;\n    if((i%2)&&(judge[i-1]<=judge[i]||judge[i]>=judge[i+1])) return 1;\n    if(!(i%2)&&(judge[i-1]>=judge[i]||judge[i]<=judge[i+1])) return -1;\n  }\n  return 0;\n}\n \nll StoI(string s){\n  ll ret=0;\n  for(int i=0;i<(int)s.size();i++)\n    ret=ret*10+(s[i]-'0');\n  return ret;  \n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cctype>\n#include <climits>\n#include <cmath>\n#include <complex>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <ctime>\n#include <deque>\n#include <functional>\n#include <iostream>\n#include <list>\n#include <map>\n#include <memory>\n#include <numeric>\n#include <queue>\n#include <set>\n#include <stack>\n#include <string>\n#include <utility>\n#include <vector>\nusing namespace std;\n\n#define EPS 1e-10\n#define INF 1000000005\n#define mp make_pair\n#define pb push_back\n\ntypedef vector<int> vi;\ntypedef vector<vi> vii;\ntypedef pair<int,int> pii;\ntypedef long long ll;\n\nll parseInt(string str) {\n  ll rep;\n  if (str[0] == '-') {\n    rep = -1 * (str[1] - '0');\n  } else {\n    rep = str[0] - '0';\n  }\n  for (int i = 1; i < str.size(); i++) {\n    int num = str[i] - '0';\n    rep = rep * 10 + num;\n  }\n  return rep;\n}\n\nint main() {\n  while (1) {\n    int N;\n    cin >> N;\n    if (N == 0) {\n      break;\n    }\n    string prev = \"1000000005\";\n    ll floor = -1 * INF, ceiling = INF;\n    for (int i = 1; i <= N; i++) {\n      string data;\n      cin >> data;\n\n      if (data == \"x\") {\n        if (prev == \"x\") { // xx\n          floor = 0;\n          ceiling = -1;\n        } else { // ?x\n          if (i % 2 == 0) { // even\n            floor = max(floor, parseInt(prev) + 1);\n          } else { // odd\n            ceiling = min(ceiling, parseInt(prev) - 1);\n          }\n        }\n      } else {\n        if (prev == \"x\") { // x?\n          if (i % 2 == 0) { // even\n            ceiling = min(ceiling, parseInt(data) - 1);\n          } else { // odd\n            floor = max(floor, parseInt(data) + 1);\n          }\n        } else { // ??\n          if ((i % 2 == 0 && prev >= data) || (i % 2 == 1 && prev <= data)) {\n            floor = 0;\n            ceiling = -1;\n          }\n        }\n      }\n      prev = data;\n    }\n    if (floor == ceiling) {\n      cout << floor << endl;\n    } else if (floor < ceiling) {\n      cout << \"ambiguous\" << endl;\n    } else {\n      cout << \"none\" << endl;\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#define INF 2000000000\n#define N 1002\nusing namespace std;\nvoid Bynary_Search(int,int);\nint StoI(string);\nint Judge(int);\nstring str[N];\nint n,data[N];\n\nint main(){\n  while(1){\n    cin>>n;\n    if(!n) break;\n    data[0]=INF;\n    if(n%2) data[n+1]=INF;\n    else data[n+1]=-INF;\n    for(int i=1;i<=n;i++){\n      cin>>str[i];\n      if(str[i]==\"x\") continue;\n      data[i]=StoI(str[i]);\n    }\n    Bynary_Search(-1000000003,1000000003);\n  }\n  return 0;\n}\n\nvoid Bynary_Search(int l,int r){\n  int m;\n  while(l<r-1){\n    m=(long long)(l+r)/2;\n    if(Judge(m)==-2) break;\n    else if(Judge(m)<0) l=m;\n    else if(Judge(m)>0) r=m-1;\n    else{\n      if(!Judge(m-1)||!Judge(m+1)){\n\tcout<<\"ambiguous\"<<endl;\n      }else cout<<m<<endl;\n      return ;\n    }\n  }\n  cout<<\"none\"<<endl;\n}\n\nint Judge(int d){\n  int judge[N];\n  judge[0]=data[0];\n  judge[n+1]=data[n+1];\n  for(int i=1;i<=n;i++){\n    if(str[i]==\"x\") judge[i]=d;\n    else judge[i]=data[i];\n  }\n  for(int i=1;i<=n;i++)\n    if(str[i]!=\"x\"&&str[i+1]!=\"x\")\n      if(((i%2)&&judge[i]>=judge[i+1])||(!(i%2)&&judge[i]<=judge[i+1])) return -2;\n  for(int i=1;i<=n;i++){\n    if(str[i]!=\"x\") continue;\n    if((i%2)&&(judge[i-1]<=judge[i]||judge[i]>=judge[i+1])) return 1;\n    if(!(i%2)&&(judge[i-1]>=judge[i]||judge[i]<=judge[i+1])) return -1;\n  }\n  return 0;\n}\n\nint StoI(string s){\n  int ret=0;\n  for(int i=0;i<s.size();i++)\n    ret=ret*10+(s[i]-'0');\n  return ret;  \n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<vector>\n#include<cstdio>\n#include<sstream>\n#include<algorithm>\n#include<cmath>\n#include<map>\n#include<functional>\nusing namespace std;\nint stoi(string x){stringstream ss;ss<<x;int tmp;ss>>tmp;return tmp;}\nstring itos(int x){stringstream ss;ss<<x;return ss.str();}\nconst int INF=1111111111;\nint main(){\nint n;\nwhile(cin>>n,n){\n\tint a=-INF,b=INF;\n\tbool none_flag=0,void_flag=1,ok=1;\n\tvector<int>ta(0);\n\tfor(int i=0;i<n;i++){\n\t\tstring tmp;\n\t\tcin>>tmp;\n\t\tif(tmp==\"x\")ta.push_back(INF);\n\t\telse ta.push_back( stoi(tmp) );\n\t}\n\tfor(int i=1;i<n;i++){\n\tif(ta[i]==INF&&ta[i-1]==INF)none_flag=1;\n\tif(ta[i]==INF)void_flag=0;\n\t}\n\tfor(int i=0;i<n;i++){\n\t\tif(ta[i]==INF){\n\t\t\tint xa,xb;\n\t\t\tif((i+1)%2==0){//螂?焚\n\t\t\tif(i==0)xa=ta[1],xb=-INF;\n\t\t\telse if(i==n-1)xa=ta[n-2],xb=-INF;\n\t\t\telse xa=ta[i-1],xb=ta[i+1];\n\t\t\ta=max( a,max(xa,xb) );\n\t\t\t}\n\t\t\telse {\n\t\t\tif(i==0)xa=ta[1],xb=INF;\n\t\t\telse if(i==n-1)xa=ta[n-2],xb=INF;\n\t\t\telse xa=ta[i-1],xb=ta[i+1];\n\t\t\tb=min(b,min(xa,xb));\n\t\t\t}//endelse\n\t\t\t\n\t\t}//endif\n\t}//endfor\n\tfor(int i=0;i<n;i++){\n\tif((i+1)%2==1){\n\tif(i==0&&ta[i+1]<ta[i])ok=0;\n\telse if(i==n-1&&ta[n-2]<ta[n-1])ok=0;\n\telse if(ta[i-1]<ta[i]||ta[i+1]<ta[i])ok=0;\n\t}\n\telse {\n\tif(i==0&&ta[i+1]>ta[i])ok=0;\n\telse if(i==n-1&&ta[n-2]>ta[n-1])ok=0;\n\telse if(ta[i-1]>ta[i]||ta[i+1]>ta[i])ok=0;\n\t}\n\t}\n\tif(none_flag)cout<<\"none\"<<endl;\n\telse if(void_flag&&ok)cout<<\"ambiguous\"<<endl;\n\telse if(void_flag&&!ok)cout<<\"none\"<<endl;\n\telse {\n\tif(a+2==b)cout<<a+1<<endl;\n\telse if(b-a>2)cout<<\"ambiguous\"<<endl;\n\telse cout<<\"none\"<<endl;\n\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <cmath>\n#include <ctype.h>\n#include <string> \n#include <sstream>\n#include <iostream>\n#include <algorithm>\n#include <cstdlib>\n#include <map>\n#include <queue>\n#include <utility>\n#include <vector>\n#include <set>\n#include <iomanip>\n#include <stack>\n  \nusing namespace std;\n\n#define pi 3.141592653589793\n\nint StrToInt(string str)\n{\n\tint i, j, num = 0, ans = 0, l = str.length();\n\tfor(i = l - 1; i >= 0; i--){\n\t\tif(isdigit(str[i])){\n\t\t\tnum = str[i] - '0';\n\t\t\tfor(j = 0; j < l - 1 - i; j++){\n\t\t\t\tnum = num * 10;\n\t\t\t}\n\t\t\tans += num;\n\t\t} else {\n\t\t\tans = -1;\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn ans;\n}\n\nstring IntToStr(int n)\n{\n\tstring s = \"\";\n\tint i = 0;\n\twhile(n / (int)pow(10, i) != 0){\n\t\ti++;\n\t}\n\tfor(int j = i - 1; j >= 0; j--){\n\t\ts += (n / (int)pow(10, j)) + '0';\n\t}\n\treturn s;\n}\n\nstring solve(string a[], int n)\n{\n\tint xrange[2] = {-100000001, 100000001};\n\t// xのとりうる範囲\n\tint is_x_in[2] = {0, 0};\n\t// 0がtrue→偶数番目にxあり、1がtrue→奇数番目にxあり\n\tif(a[1] == \"x\"){\n\t\tif(a[2] == \"x\") return \"none\";\n\t\telse xrange[1] = min(StrToInt(a[2]), xrange[1]);\n\t\tis_x_in[1] = 1;\n\t}\n\tfor(int i = 2; i < n; i++){\n\t\tif(a[i] == \"x\"){\n\t\t\tif(a[i - 1] == \"x\" || a[i + 1] == \"x\") return \"none\";\n\t\t\telse {\n\t\t\t\tis_x_in[i % 2] = 1;\n\t\t\t\tif(i % 2 == 0) xrange[0] = max(max(StrToInt(a[i - 1]), StrToInt(a[i + 1])), xrange[0]);\n\t\t\t\telse xrange[1] = min(min(StrToInt(a[i - 1]), StrToInt(a[i + 1])), xrange[1]);\n\t\t\t}\n\t\t} else if(a[i - 1] == \"x\" || a[i + 1] == \"x\") continue;\n\t\telse {\n\t\t\tif(i % 2 == 0 && max(StrToInt(a[i - 1]), StrToInt(a[i + 1])) >= StrToInt(a[i])) return \"none\";\n\t\t\telse if(i % 2 == 1 && min(StrToInt(a[i - 1]), StrToInt(a[i + 1])) <= StrToInt(a[i])) return \"none\";\n\t\t}\n\t}\n\tif(a[n] == \"x\"){\n\t\tif(a[n - 1] != \"x\"){\n\t\t\tif(n % 2 == 0){\n\t\t\t\txrange[0] = max(StrToInt(a[n - 1]), xrange[0]);\n\t\t\t\tis_x_in[0] = 1;\n\t\t\t}\n\t\t\telse{\n\t\t\t\txrange[1] = min(StrToInt(a[n - 1]), xrange[1]);\n\t\t\t\tis_x_in[1] = 1;\n\t\t\t}\n\t\t}\n\t}\n\tif(is_x_in[0] ^ is_x_in[1]) return \"ambiguous\";\n\telse if(!is_x_in[0] && !is_x_in[1]) return \"ambiguous\";\n\telse {\n\t\tif(xrange[1] - xrange[0] > 2) return \"ambiguous\";\n\t\telse if(xrange[1] - xrange[0] == 2) return IntToStr(xrange[1] - 1);\n\t\telse return \"none\";\n\t}\n}\n\nint main()\n{\n\tint n;\n\twhile(1){\n\t\tcin >> n;\n\t\tif(n == 0) break;\n\t\tstring input[1001];\n\t\tfor(int i = 1; i < n + 1; i++){\n\t\t\tcin >> input[i];\n\t\t}\n\t\tcout << solve(input, n) << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n\nconst int INF = 1e+9 * 2;\n\nint main() {\n\tstd::ios::sync_with_stdio(false);\n    std::cin.tie(0);\n    \n    int N;\n\twhile(cin >> N && N){\n\t\tstring s;\n\t\tbool check[1001] = {0};\n\t\tint a[1001] = {0}, cnt = 0;\n\t\tfor(int i = 1; i <= N; ++i){\n\t\t\tcin >> s;\n\t\t\tif(s == \"x\"){\n\t\t\t\ta[i] = INF;\n\t\t\t\tcheck[i] = true;\n\t\t\t\tcnt++;\n\t\t\t}\n\t\t\telse{\n\t\t\t\ta[i] = stoi(s);\n\t\t\t}\n\t\t}\n\t\tbool ok = true;\n\t\tfor(int i = 1; i <= N; ++i){\n\t\t\tif(!check[i]){\n\t\t\t\tif(i % 2){\n\t\t\t\t\tif(i > 1){\n\t\t\t\t\t\tif(!check[i - 1] && a[i - 1] <= a[i]){\n\t\t\t\t\t\t\tok = false;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(i < N){\n\t\t\t\t\t\tif(!check[i + 1] && a[i] >= a[i + 1]){\n\t\t\t\t\t\t\tok = false;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(!check[i - 1] && a[i - 1] >= a[i]){\n\t\t\t\t\t\tok = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\tif(i < N){\n\t\t\t\t\t\tif(!check[i + 1] && a[i] <= a[i + 1]){\n\t\t\t\t\t\t\tok = false;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(!ok || cnt == N){\n\t\t\tcout << \"none\" << endl;\n\t\t\tcontinue;\n\t\t}\n\t\telse if(ok && cnt == 0){\n\t\t\tcout << \"ambiguous\" << endl;\n\t\t\tcontinue;\n\t\t}\n\t\tint omin = INF, emin = -INF;\n\t\tfor(int i = 1; i <= N; ++i){\n\t\t\tif(check[i]){\n\t\t\t\tif(i % 2){\n\t\t\t\t\tif(i > 1 && !check[i - 1]){\n\t\t\t\t\t\tomin = min(omin, a[i - 1] - 1);\n\t\t\t\t\t}\n\t\t\t\t\tif(i < N && !check[i + 1]){\n\t\t\t\t\t\tomin = min(omin, a[i + 1] - 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(i < N && !check[i + 1]){\n\t\t\t\t\t\temin = max(emin, a[i + 1] + 1);\n\t\t\t\t\t}\n\t\t\t\t\tif(!check[i - 1])\n\t\t\t\t\t\temin = max(emin, a[i - 1] + 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(emin == omin){\n\t\t\tcout << emin << endl;\n\t\t}\n\t\telse if(emin < omin){\n\t\t\tcout << \"ambiguous\" << endl;\n\t\t}\n\t\telse{\n\t\t\tcout << \"none\" << endl;\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cctype>\n#include <climits>\n#include <cmath>\n#include <complex>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <ctime>\n#include <deque>\n#include <functional>\n#include <iostream>\n#include <list>\n#include <map>\n#include <memory>\n#include <numeric>\n#include <queue>\n#include <set>\n#include <stack>\n#include <string>\n#include <utility>\n#include <vector>\nusing namespace std;\n\n#define EPS 1e-10\n#define INF 1000000005\n#define mp make_pair\n#define pb push_back\n\ntypedef vector<int> vi;\ntypedef vector<vi> vii;\ntypedef pair<int,int> pii;\ntypedef long long ll;\n\nll parseInt(string str) {\n  ll rep;\n  if (str[0] == '-') {\n    rep = -1 * (str[1] - '0');\n  } else {\n    rep = str[0] - '0';\n  }\n  for (int i = 1; i < str.size(); i++) {\n    int num = str[i] - '0';\n    rep = rep * 10 + num;\n  }\n  return rep;\n}\n\nvoid solve(vector<string> signals) {\n  ll floor = -1 * INF, ceiling = INF;\n  for (int i = 1; i < signals.size(); i++) {\n    string signal = signals[i], prev = signals[i-1];\n    if (signal == \"x\") {\n      if (prev == \"x\") { // xx\n        cout << \"none\" << endl;\n        return;\n      } else { // ?x\n        if (i % 2 == 0) { // even\n          floor = max(floor, parseInt(prev) + 1);\n        } else { // odd\n          ceiling = min(ceiling, parseInt(prev) - 1);\n        }\n      }\n    } else {\n      if (prev == \"x\") { // x?\n        if (i % 2 == 0) { // even\n          ceiling = min(ceiling, parseInt(signal) - 1);\n        } else { // odd\n          floor = max(floor, parseInt(signal) + 1);\n        }\n      } else { // ??\n        if ((i % 2 == 0 && prev >= signal) || (i % 2 == 1 && prev <= signal)) {\n          cout << \"none\" << endl;\n          return;\n        }\n        continue;\n      }\n    }\n  }\n\n  if (floor == ceiling) {\n    cout << floor << endl;\n  } else if (floor < ceiling) {\n    cout << \"ambiguous\" << endl;\n  } else {\n    cout << \"none\" << endl;\n  }\n}\n\nint main() {\n  while (1) {\n    int N;\n    cin >> N;\n    if (N == 0) {\n      break;\n    }\n    vector<string> signals(N+1);\n    signals[0] = \"1000000005\";\n    for (int i = 1; i <= N; i++) {\n      cin >> signals[i];\n    }\n    solve(signals);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define _CRT_SECURE_NO_WARNINGS\n#include \"bits/stdc++.h\"\n#define rep(i, n) for (int i = 0; i < (n); ++i)\n#define FOR(i, m, n) for (int i = (m); i < (n); ++i)\n#define rrep(i, n) for (int i = (n) - 1; i >= 0; --i)\n#define rfor(i, m, n) for (int i = (m); i >= (n); --i)\n#define sz(x) ((int)(x).size())\n#define all(x) (x).begin(),(x).end()\n#define rall(x) (x).rbegin(),(x).rend()\n#define range_it(a, l, r) (a).begin() + (l), (a).begin() + (r)\n\nusing namespace std;\nusing ll = long long;\t\tusing ld = long double;\nusing VB = vector<bool>;\tusing VVB = vector<VB>;\nusing VI = vector<int>;\t\tusing VVI = vector<VI>;\nusing VL = vector<ll>;\t\tusing VVL = vector<VL>;\nusing VS = vector<string>;\tusing VD = vector<ld>;\nusing PII = pair<int, int>;\tusing VP = vector<PII>;\nusing PLL = pair<ll, ll>;\tusing VPL = vector<PLL>;\ntemplate<class T>using PQ = priority_queue<T>;\ntemplate<class T>using PQS = priority_queue<T, vector<T>, greater<T>>;\nconstexpr int inf = (int)1e9;\nconstexpr ll inf_ll = (ll)1e18, MOD = 1000000007;\nconstexpr ld PI = M_PI, EPS = 1e-12;\n\n// --- input --- //\n#ifdef _WIN32\n#define getchar_unlocked _getchar_nolock\n#define putchar_unlocked _putchar_nolock\n#define fwrite_unlocked fwrite\n#define fflush_unlocked _fflush_nolock\n#endif\ninline int gc() { return getchar_unlocked(); }\ntemplate<class T>inline void InputF(T& v) { cin >> v; }\ninline void InputF(char& v) { while (isspace(v = gc())); }\ninline void InputF(bool& v) { char c; InputF(c); v = c != '0'; }\ninline void InputF(string& v) {\n\tv.clear(); char c; for (InputF(c); !isspace(c); c = gc())v += c;\n}\ninline void InputF(int& v) {\n\tbool neg = false; v = 0; char c; InputF(c);\n\tif (c == '-') { neg = true; c = gc(); }\n\tfor (; isdigit(c); c = gc())v = v * 10 + (c - '0');\n\tif (neg)v = -v;\n}\ninline void InputF(long long& v) {\n\tbool neg = false; v = 0; char c; InputF(c);\n\tif (c == '-') { neg = true; c = gc(); }\n\tfor (; isdigit(c); c = gc())v = v * 10 + (c - '0');\n\tif (neg)v = -v;\n}\ninline void InputF(double& v) {\n\tdouble dp = 1; bool neg = false, adp = false; v = 0; char c; InputF(c);\n\tif (c == '-') { neg = true; c = gc(); }\n\tfor (; isdigit(c) || c == '.'; c = gc()) {\n\t\tif (c == '.')adp = true;\n\t\telse if (adp)v += (c - '0') * (dp *= 0.1);\n\t\telse v = v * 10 + (c - '0');\n\t}\n\tif (neg)v = -v;\n}\ntemplate<class T, class U>inline void InputF(pair<T, U>& v) {\n\tInputF(v.first); InputF(v.second);\n}\ntemplate<class T>inline void InputF(vector<T>& v) {\n\tfor (auto& e : v)InputF(e);\n}\ntemplate<class T>inline T InputF() { T v; InputF(v); return v; }\ninline string GetLine() {\n\tstring v; char c; for (InputF(c); c != '\\n' && c != '\\0'; c = gc())v += c; return v;\n}\nstruct InputV {\n\tint n, m;\n\tInputV(int N) :n(N), m(0) {}\n\tInputV(pair<int, int> N) :n(N.first), m(N.second) {}\n\ttemplate<class T>operator vector<T>() {\n\t\tvector<T> v(n); InputF(v); return v;\n\t}\n\ttemplate<class T>operator vector<vector<T>>() {\n\t\tvector<vector<T>> v(n, vector<T>(m)); InputF(v); return v;\n\t}\n};\nstruct Input {\n\ttemplate<class T>operator T() { return InputF<T>(); }\n\tint operator--(int) { int v; InputF(v); v--; return v; }\n\tInputV operator[](int n) { return InputV(n); }\n\tInputV operator[](pair<int, int> n) { return InputV(n); }\n\tvoid operator()() {}\n\ttemplate<class H, class...T>void operator()(H&& h, T&& ...t) {\n\t\tInputF(h); operator()(forward<T>(t)...);\n\t}\n\ttemplate<class T>Input& operator,(T&& v) {\n\t\tInputF(v); return *this;\n\t}\n}in;\n#define input(T) InputF<T>()\n#define ini input(int)\n#define inl input(ll)\n#define ins input(string)\n#define inputs(T, ...) T __VA_ARGS__; in(__VA_ARGS__)\n#define INT(...) inputs(int, __VA_ARGS__)\n#define LL(...) inputs(ll, __VA_ARGS__)\n#define STR(...) inputs(string, __VA_ARGS__)\n\n// --- output --- //\nstruct BoolStr {\n\tconst char* t, * f; BoolStr(const char* _t, const char* _f) :t(_t), f(_f) {}\n}Yes(\"Yes\", \"No\"), yes(\"yes\", \"no\"), YES(\"YES\", \"NO\"), Int(\"1\", \"0\");\nstruct DivStr {\n\tconst char* d, * l; DivStr(const char* _d, const char* _l) :d(_d), l(_l) {}\n}spc(\" \", \"\\n\"), no_spc(\"\", \"\\n\"), end_line(\"\\n\", \"\\n\"), comma(\",\", \"\\n\"), no_endl(\" \", \"\");\nclass Output {\n\tBoolStr B{ Yes }; DivStr D{ spc };\n\tvoid p(int v) {\n\t\tif (v < 0)putchar_unlocked('-'), v = -v;\n\t\tchar b[10]; int i = 0;\n\t\twhile (v)b[i++] = '0' + v % 10, v /= 10;\n\t\tif (!i)b[i++] = '0';\n\t\twhile (i--)putchar_unlocked(b[i]);\n\t}\n\tvoid p(ll v) {\n\t\tif (v < 0)putchar_unlocked('-'), v = -v;\n\t\tchar b[20]; int i = 0;\n\t\twhile (v)b[i++] = '0' + v % 10, v /= 10;\n\t\tif (!i)b[i++] = '0';\n\t\twhile (i--)putchar_unlocked(b[i]);\n\t}\n\tvoid p(bool v) { p(v ? B.t : B.f); }\n\tvoid p(char v) { putchar_unlocked(v); }\n\tvoid p(const char* v) { fwrite_unlocked(v, 1, strlen(v), stdout); }\n\tvoid p(double v) { printf(\"%.20f\", v); }\n\tvoid p(ld v) { printf(\"%.20Lf\", v); }\n\ttemplate<class T> void p(const T& v) { cout << v; }\n\ttemplate<class T, class U>void p(const pair<T, U>& v) { p(v.first); p(D.d); p(v.second); }\n\ttemplate<class T>void p(const vector<T>& v) { rep(i, sz(v)) { if (i)p(D.d); p(v[i]); } }\n\ttemplate<class T>void p(const vector<vector<T>>& v) { rep(i, sz(v)) { if (i)p(D.l); p(v[i]); } }\npublic:\n\tOutput& operator()() { p(D.l); return *this; }\n\ttemplate<class H>Output& operator()(H&& h) { p(h); p(D.l); return *this; }\n\ttemplate<class H, class...T>Output& operator()(H&& h, T&& ...t) {\n\t\tp(h); p(D.d); return operator()(forward<T>(t)...);\n\t}\n\ttemplate<class...T>void exit(T&& ...t) { operator()(forward<T>(t)...); std::exit(EXIT_SUCCESS); }\n\tOutput& flush() { fflush_unlocked(stdout); return *this; }\n\tOutput& set(const BoolStr& b) { B = b; return *this; }\n\tOutput& set(const DivStr& d) { D = d; return *this; }\n\tOutput& set(const char* t, const char* f) { B = BoolStr(t, f); return *this; }\n}out;\n\n// --- step --- //\ntemplate<class T>struct Step {\n\tclass It {\n\t\tT a, b, c;\n\tpublic:\n\t\tconstexpr It() : a(T()), b(T()), c(T()) {}\n\t\tconstexpr It(T _b, T _c, T _s) : a(_b), b(_c), c(_s) {}\n\t\tconstexpr It& operator++() { --b; a += c; return *this; }\n\t\tconstexpr It operator++(int) { It tmp = *this; --b; a += c; return tmp; }\n\t\tconstexpr const T& operator*()const { return a; }\n\t\tconstexpr const T* operator->()const { return &a; }\n\t\tconstexpr bool operator==(const It& i)const { return b == i.b; }\n\t\tconstexpr bool operator!=(const It& i)const { return !(b == i.b); }\n\t\tconstexpr T start()const { return a; }\n\t\tconstexpr T count()const { return b; }\n\t\tconstexpr T step()const { return c; }\n\t};\n\tconstexpr Step(T b, T c, T s) : be(b, c, s) {}\n\tconstexpr It begin()const { return be; }\n\tconstexpr It end()const { return en; }\n\tconstexpr T start()const { return be.start(); }\n\tconstexpr T count()const { return be.count(); }\n\tconstexpr T step()const { return be.step(); }\n\tconstexpr T sum()const { return start() * count() + step() * (count() * (count() - 1) / 2); }\n\toperator vector<T>()const { return as_vector(); }\n\tvector<T> as_vector()const {\n\t\tvector<T> res; res.reserve(count()); each([&](T i) {res.push_back(i); }); return res;\n\t}\n\ttemplate<class F>void each(const F& f)const { for (T i : *this)f(i); }\n\ttemplate<class F>auto map(const F& f)const {\n\t\tvector<decay_t<result_of_t<F(T)>>> res; res.reserve(count());\n\t\teach([&](T i) {res.push_back(f(i)); }); return res;\n\t}\n\ttemplate<class F>int count_if(const F& f)const {\n\t\tint res = 0; each([&](T i) {res += static_cast<bool>(f(i)); }); return res;\n\t}\n\ttemplate<class F>vector<T> select(const F& f)const {\n\t\tvector<T> res; each([&](T i) {if (f(i))res.push_back(i); }); return res;\n\t}\n\ttemplate<class F>auto max(const F& f)const {\n\t\tauto v = map(f); return *max_element(v.begin(), v.end());\n\t}\n\ttemplate<class F>auto min(const F& f)const {\n\t\tauto v = map(f); return *min_element(v.begin(), v.end());\n\t}\n\ttemplate<class F, class U = decay_t<result_of_t<F(T)>>>auto sum(const F& f)const {\n\t\tU res = 0; each([&](T i) {res += static_cast<U>(f(i)); }); return res;\n\t}\n\tusing value_type = T;\n\tusing iterator = It;\nprivate:\n\tIt be, en;\n};\ntemplate<class T>inline constexpr auto step(T a) { return Step<T>(0, a, 1); }\ntemplate<class T>inline constexpr auto step(T a, T b) { return Step<T>(a, b - a, 1); }\ntemplate<class T>inline constexpr auto step(T a, T b, T c) { return Step<T>(a, a < b ? (b - a - 1) / c + 1 : 0, c); }\n\n// --- functions --- //\ninline namespace {\n\ttemplate<class T>inline void Sort(T& a) { sort(all(a)); }\n\ttemplate<class T>inline void RSort(T& a) { sort(rall(a)); }\n\ttemplate<class T>inline T Sorted(T a) { Sort(a); return a; }\n\ttemplate<class T>inline T RSorted(T a) { RSort(a); return a; }\n\ttemplate<class T, class F>inline void Sort(T& a, const F& f) {\n\t\tsort(all(a), [&](const auto& x, const auto& y) {return f(x) < f(y); });\n\t}\n\ttemplate<class T, class F>inline void RSort(T& a, const F& f) {\n\t\tsort(rall(a), [&](const auto& x, const auto& y) {return f(x) < f(y); });\n\t}\n\ttemplate<class T>inline void Reverse(T& a) { reverse(all(a)); }\n\ttemplate<class T>inline void Unique(T& a) { a.erase(unique(all(a)), a.end()); }\n\ttemplate<class T>inline void Rotate(T& a, int left) { rotate(a.begin(), a.begin() + left, a.end()); }\n\ttemplate<class T>inline T Reversed(T a) { Reverse(a); return a; }\n\ttemplate<class T>inline T Uniqued(T a) { Unique(a); return a; }\n\ttemplate<class T>inline T Rotated(T a, int left) { Rotate(a, left); return a; }\n\ttemplate<class T>inline auto Max(const T& a) { return *max_element(all(a)); }\n\ttemplate<class T>inline auto Min(const T& a) { return *min_element(all(a)); }\n\ttemplate<class T>inline int MaxPos(const T& a) { return max_element(all(a)) - a.begin(); }\n\ttemplate<class T>inline int MinPos(const T& a) { return min_element(all(a)) - a.begin(); }\n\ttemplate<class T, class F>inline auto Max(const T& a, const F& f) {\n\t\treturn *max_element(all(a), [&](const auto& x, const auto& y) {return f(x) < f(y); });\n\t}\n\ttemplate<class T, class F>inline auto Min(const T& a, const F& f) {\n\t\treturn *min_element(all(a), [&](const auto& x, const auto& y) {return f(x) < f(y); });\n\t}\n\ttemplate<class T, class U>inline int Count(const T& a, const U& v) { return count(all(a), v); }\n\ttemplate<class T, class F>inline int CountIf(const T& a, const F& f) { return count_if(all(a), f); }\n\ttemplate<class T, class U>inline int Find(const T& a, const U& v) { return find(all(a), v) - a.begin(); }\n\ttemplate<class T, class F>inline int FindIf(const T& a, const F& f) { return find_if(all(a), f) - a.begin(); }\n\ttemplate<class T, class U = typename T::value_type>inline U Sum(const T& a) { return accumulate(all(a), U()); }\n\ttemplate<class T, class F>inline auto Sum(const T& v, const F& f) {\n\t\treturn accumulate(next(v.begin()), v.end(), f(v.front()), [&](auto a, auto b) {return a + f(b); });\n\t}\n\ttemplate<class T, class U>inline int Lower(const T& a, const U& v) { return lower_bound(all(a), v) - a.begin(); }\n\ttemplate<class T, class U>inline int Upper(const T& a, const U& v) { return upper_bound(all(a), v) - a.begin(); }\n\ttemplate<class T, class F>inline void RemoveIf(T& a, const F& f) { a.erase(remove_if(all(a), f), a.end()); }\n\ttemplate<class F>inline auto Vector(size_t size, const F& f) {\n\t\tvector<decay_t<result_of_t<F(size_t)>>> res(size); for (size_t i = 0; i < size; ++i)res[i] = f(i); return res;\n\t}\n\ttemplate<class T>inline auto Grid(size_t h, size_t w, const T& v = T()) { return vector<vector<T>>(h, vector<T>(w, v)); }\n\ttemplate<class T>inline auto Slice(const T& v, size_t i, size_t len) {\n\t\treturn i < v.size() ? T(v.begin() + i, v.begin() + min(i + len, v.size())) : T();\n\t}\n\ttemplate<class T, class F>inline auto Each(const T& v, const F& f) { for (auto& i : v)f(i); }\n\ttemplate<class T, class F>inline auto Select(const T& v, const F& f) {\n\t\tT res; for (const auto& e : v)if (f(e))res.push_back(e); return res;\n\t}\n\ttemplate<class T, class F>inline auto Map(const T& v, const F& f) {\n\t\tvector<decay_t<result_of_t<F(typename T::value_type)>>> res(v.size());\n\t\tsize_t i = 0; for (const auto& e : v)res[i++] = f(e); return res;\n\t}\n\ttemplate<class T, class F>inline auto MapIndex(const T& v, const F& f) {\n\t\tvector<decay_t<result_of_t<F(size_t, typename T::value_type)>>> res(v.size());\n\t\tsize_t i = 0; for (auto it = v.begin(); it != v.end(); ++it, ++i)res[i] = f(i, *it); return res;\n\t}\n\ttemplate<class T, class F>inline auto TrueIndex(const T& v, const F& f) {\n\t\tvector<size_t> res; for (size_t i = 0; i < v.size(); ++i)if (f(v[i]))res.push_back(i); return res;\n\t}\n\tinline string operator*(string s, size_t n) { string ret; for (size_t i = 0; i < n; ++i)ret += s; return ret; }\n\ttemplate<class T>inline T Ceil(T n, T m) { return (n + m - 1) / m; }\n\ttemplate<class T>inline T Ceil2(T n, T m) { return Ceil(n, m) * m; }\n\ttemplate<class T>inline T Tri(T n) { return (n & 1) ? (n + 1) / 2 * n : n / 2 * (n + 1); }\n\ttemplate<class T>inline T nC2(T n) { return (n & 1) ? (n - 1) / 2 * n : n / 2 * (n - 1); }\n\ttemplate<class T>inline T Mid(const T& l, const T& r) { return l + (r - l) / 2; }\n\tinline int pop_count(int n) { return bitset<32>(n).count(); }\n\tinline int pop_count(ll n) { return bitset<64>(n).count(); }\n\ttemplate<class T>inline bool chmax(T& a, const T& b) { if (a < b) { a = b; return true; } return false; }\n\ttemplate<class T>inline bool chmin(T& a, const T& b) { if (a > b) { a = b; return true; } return false; }\n\ttemplate<class T>inline bool inRange(const T& v, const T& min, const T& max) { return min <= v && v < max; }\n\ttemplate<class T = ll>inline T BIT(int b) { return T(1) << b; }\n\ttemplate<class T>inline T Gcd(T n, T m) { return m ? Gcd(m, n % m) : n; }\n\ttemplate<class T>inline T Lcm(T n, T m) { return n / Gcd(n, m) * m; }\n\ttemplate<class T, class U = typename T::value_type>inline U Gcdv(const T& v) {\n\t\treturn accumulate(next(v.begin()), v.end(), U(*v.begin()), Gcd<U>);\n\t}\n\ttemplate<class T, class U = typename T::value_type>inline U Lcmv(const T& v) {\n\t\treturn accumulate(next(v.begin()), v.end(), U(*v.begin()), Lcm<U>);\n\t}\n\ttemplate<class T>inline T Pow(T a, T n) { T r = 1; while (n > 0) { if (n & 1)r *= a; a *= a; n /= 2; } return r; }\n\ttemplate<class T>inline T Powmod(T a, T n, T m = MOD) {\n\t\tT r = 1; while (n > 0) { if (n & 1)r = r * a % m, n--; else a = a * a % m, n /= 2; }return r;\n\t}\n}\n\n// --- dump --- //\n#if __has_include(\"dump.hpp\")\n#include \"dump.hpp\"\n#else\n#define dump(...) ((void)0)\n#endif\n\n// ---------------------------------------------------------------- //\n\nint main() {\n\tconst ll nil = 31415926535;\n\tfor (int n = in; n; in, n) {\n\t\tVS s = in[n];\n\t\tVL a = Map(s, [&](const string& str) {return str != \"x\" ? stoll(str) : nil; });\n\t\ta.insert(a.begin(), inf_ll);\n\t\ta.insert(a.end(), n % 2 ? inf_ll : -inf_ll);\n\t\tn += 2;\n\n\t\tll more_than = -inf_ll, less_than = inf_ll;\n\t\tbool flag = true;\n\t\tFOR(i, 1, n - 1) {\n\t\t\tif (a[i] == nil) {\n\t\t\t\tif (a[i + 1] == nil) {\n\t\t\t\t\tflag = false;\n\t\t\t\t}\n\t\t\t\tif (i % 2 == 1) {\n\t\t\t\t\tchmin(less_than, a[i - 1]);\n\t\t\t\t\tchmin(less_than, a[i + 1]);\n\t\t\t\t} else {\n\t\t\t\t\tchmax(more_than, a[i - 1]);\n\t\t\t\t\tchmax(more_than, a[i + 1]);\n\t\t\t\t}\n\t\t\t} else if (a[i - 1] != nil && a[i + 1] != nil) {\n\t\t\t\tif (i % 2 == 1) {\n\t\t\t\t\tif (a[i - 1] <= a[i] || a[i] >= a[i - 1])flag = false;\n\t\t\t\t} else {\n\t\t\t\t\tif (a[i - 1] >= a[i] || a[i] <= a[i - 1])flag = false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tdump(more_than, less_than);\n\n\t\tif (more_than + 1 >= less_than || !flag) {\n\t\t\tout(\"none\");\n\t\t} else if (more_than + 1 == less_than - 1) {\n\t\t\tout(more_than + 1);\n\t\t} else {\n\t\t\tout(\"ambiguous\");\n\t\t}\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <functional>\n#include <cmath>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <string>\n#include <sstream>\n#include <iostream>\n#include <iomanip>\n#include <vector>\n#include <list>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <bitset>\n#include <climits>\n \n#define all(c) (c).begin(), (c).end()\n#define rep(i,n) for(int i=0;i<(n);i++)\n#define pb(e) push_back(e)\n#define mp(a, b) make_pair(a, b)\n#define fr first\n#define sc second\n \nconst int INF=1000000000;\nint dx[4]={1,0,-1,0};\nint dy[4]={0,1,0,-1};\nusing namespace std;\ntypedef pair<int ,int > P;\ntypedef long long ll;\n \nint n;\nstring a[1003];\n \nll toi(string s) {\n    ll res;\n    stringstream ss;\n    ss<<s;\n    ss>>res;\n    return res;\n}\n \nbool ok() {\n    bool res=true;\n    rep(i,n) {\n        if(a[i]==\"x\") continue;\n        // printf(\"%d %d\\n\", i ,res);\n        if(i&1) {\n            if(i+1<n && a[i+1]!=\"x\") res&=toi(a[i]) > toi(a[i+1]);\n            if(i-1>=0 && a[i-1]!=\"x\") res&=toi(a[i]) > toi(a[i-1]);\n        }\n        else {\n            if(i+1<n && a[i+1]!=\"x\") res&=toi(a[i]) < toi(a[i+1]);\n            if(i-1>=0 && a[i-1]!=\"x\") res&=toi(a[i]) < toi(a[i-1]);\n        }\n \n \n    }\n    return res;\n}\n \nbool exist_x() {\n    bool res=false;\n    rep(i,n) res|=a[i]==\"x\";\n    return res;\n}\nint count_x() {\n    int res=0;\n    rep(i,n) if(a[i]==\"x\") res++;\n    return res;\n}\n \nbool ok_x() {\n    bool res=true;\n    rep(i,n) {\n        if(!i) continue;\n        if(a[i]==\"x\" && a[i-1]==a[i]) res=false;\n    }\n    return res;\n}\n \n \nvoid solve() {\n    ll l=-INF*2,r=INF*2;\n    rep(i,n) cin>>a[i];\n \n    rep(i,n) {\n        if(a[i]==\"x\") {\n            if(i&1) {\n                if(i-1>=0 && a[i-1]!=\"x\") l=max(l,toi(a[i-1]));\n                if(i+1<n && a[i+1]!=\"x\") l=max(l,toi(a[i+1]));\n \n            }\n            else {\n                if(i-1>=0 && a[i-1]!=\"x\") r=min(r,toi(a[i-1]));\n                if(i+1<n && a[i+1]!=\"x\") r=min(r,toi(a[i+1]));\n            }\n        }\n    }\n    if(!ok_x()) {\n        cout<<\"none\"<<endl;\n        return;\n    }\n    if(!exist_x()) {\n        if(!ok()) {\n            cout<<\"none\"<<endl;\n            return;\n        }\n        else {\n            cout<<\"ambiguous\"<<endl;\n            return;\n        }\n \n    }\n \n    //cout<<l<<\",\"<<r<<endl;\n    if(r-l<2) {\n        cout<<\"none\"<<\"\\n\";\n        //cout<<l<<\",\"<<r<<endl;\n    }\n    else if(r-l>2) {\n        cout<<\"ambiguous\"<<\"\\n\";\n     //   cout<<l<<\",\"<<r<<endl;\n    }\n    else {\n        cout<<l+1<<\"\\n\";\n     //   cout<<l<<\",\"<<r<<endl;\n \n    }\n \n \n}\n \nint main() {\n    while(cin>>n) {\n        if(n==0) break;\n        solve();\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<n;i++)\nusing namespace std;\n\nint n,m,M,a[1000],I=1000000010;\nstring b,s;\n\nmain(){\n\twhile(cin>>n,n){\n\t\tbool e=0;\n\t\ts=\"none\";\n\t\tM=I;m=-I;\n\t\trep(i,n){\n\t\t\ta[i]=0;cin>>b;\n\t\t\tif(b==\"x\")a[i]=I;\n\t\t\telse rep(j,b.size()){\n\t\t\t\ta[i]*=10;a[i]+=b[j]-'0';\n\t\t\t}\n\t\t}\n\t\trep(i,n-1)if(a[i]==a[i+1])e=1;\n\t\trep(i,n-1)if(a[i]!=I&&a[i+1]!=I&&((i%2&&a[i]<=a[i+1])||(!(i%2)&&a[i]>=a[i+1])))e=1;\n\t\tif(e){\n\t\t\tcout<<s<<endl;\n\t\t\tcontinue;\n\t\t}\n\t\trep(i,n)if(a[i]==I)e=1;\n\t\tif(!e){\n\t\t\tcout<<\"ambiguous\"<<endl;\n\t\t\tcontinue;\n\t\t}\n\t\tif(a[0]==I)M=a[1]-1;\n\t\tif(a[n-1]==I){\n\t\t\tif(n%2) M=min(M,a[n-2]-1);\n\t\t\telse m=a[n-2]+1;\n\t\t}\n\t\tfor(int i=1;i<n-1;i++){\n\t\t\tif(a[i]!=I)continue;\n\t\t\tif(i%2) m=max(m,max(a[i-1],a[i+1])+1);\n\t\t\telse M=min(M,min(a[i-1],a[i+1])-1);\n\t\t}\n\t\tif(m==M)cout<<m<<endl;\n\t\telse{\n\t\t\tif(M>m)s=\"ambiguous\";\n\t\t\tcout<<s<<endl;\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nint main(){\n  int n;\n  const int Broken=1e9+1;\n  while(cin>>n,n){\n    vector<int> a(n);\n    for(int i=0;i<n;i++){\n      string buf; cin>>buf;\n      if(buf==\"x\"){\n\tif(i%2==0) a[i]=-Broken;\n\telse a[i]=Broken;\n      }\t\n      else a[i]=stoi(buf);\n\n    }\n\n    int lb=-1e9;\n    int ub=1e9;\n    for(int i=0;i<n && n>=2;i++){\n      if(abs(a[i])==Broken){\n\tif(i==0){\n\t  ub=min(ub,a[i+1]-1);\n\t}\n\telse if(i==n-1){\n\t  if((n-1)%2==0){\n\t    ub=min(ub,a[i-1]-1);\n\t  }\n\t  else{\n\t    lb=max(lb,a[i-1]+1);\n\t  }\n\t}\n\telse{\n\t  if(i%2==0){\n\t    ub=min({ub,a[i-1]-1,a[i+1]-1});\n\t  }\n\t  else{\n\t    lb=max({lb,a[i-1]+1,a[i+1]+1});\n\t  }\n\n\t}\n      }\n      else{\n\tif(i+1<n&&abs(a[i+1])!=Broken){\n\t  if(i%2==0){\n\t    if(a[i+1]<=a[i]) lb=1e9+1;\n\t  }\n\t  else{\n\t    if(a[i+1]>=a[i]) lb=1e9+1;\n\t  }\n\t}\n      }\n      if(i!=0 && abs(a[i-1])==Broken && abs(a[i])==Broken){\n\tlb=1e9+1;\n      }\n      \n    }\n\n    if(lb==ub){\n      cout<<lb<<endl;\n    }\n    else if(lb>ub){\n      cout<<\"none\"<<endl;\n    }\n    else{\n      cout<<\"ambiguous\"<<endl;\n    }\n    \n  }\n      \n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nint main()\n{\n  int n;\n  while(cin >> n, n){    \n    string signal[1002];\n    signal[0] = to_string(1e9);\n    for(int i = 1; i <= n; i++) cin >> signal[i];\n    if(n % 2) signal[n + 1] = to_string(1e9);\n    else signal[n + 1] = to_string(-(1e9));\n    int less = -(1e9)-3, more = 1e9+3;    \n    for(int i = 1; i <= n; i++){\n      if(signal[i] == \"x\"){\n\tif(signal[i-1] == \"x\" || signal[i+1] == \"x\"){\n\t  less = 1e9+3, more = -(1e9)-3;\n\t  break;\n\t}\n\tif(i % 2) more = min(more, min(stoi(signal[i-1]), stoi(signal[i+1]))-1);\n\telse less = max(less, max(stoi(signal[i-1]), stoi(signal[i+1]))+1);\n      } else if(signal[i-1] != \"x\" && signal[i+1] != \"x\"){\n\tif(i%2 == 0 && (signal[i] <= signal[i-1] || signal[i] <= signal[i+1]) ||\n\t   i%2 == 1 && (signal[i] >= signal[i-1] || signal[i] >= signal[i+1])){\n\t  less = 1e9+3, more = -(1e9)-3;\n\t  break;\n\t}\n      }\n    }\n    if(less == more) cout << more << endl;\n    else if(more > less) cout << \"ambiguous\" << endl;\n    else if(more < less) cout << \"none\" << endl;\n  }  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <string>\n#include <sstream>\n#include <cstdlib>\nusing namespace std;\n\nint read(){\n    string s;cin>>s;\n    if(s==\"x\")return -1;\n    else{\n        stringstream ss(s);\n        int t;ss>>t;\n        return t;\n    }\n}\n\nstring solve(vector<int> v){\n    bool none = false;\n    int N=v.size();\n    for(int i=1;i<N;i++){\n        if(v[i]==-1 && v[i-1]==-1){\n            none=true;\n        }\n        if(i%2==0){\n            if(v[i-1]!=-1 && v[i]!=-1 && !(v[i-1]>v[i]))none=true;\n        }else{\n            if(v[i-1]!=-1 && v[i]!=-1 && !(v[i-1]<v[i]))none=true;\n        }\n        if(none)break;\n    }\n    if(none)return \"none\";\n\n    int r = (int)1e9 + 2;\n    int l = -((int)1e9 + 2);\n    for(int i=0;i<N;i++){\n        if(v[i]==-1){\n            if(i%2==0){\n                if(i>0)   r=min(r,v[i-1]-1);\n                if(i<N-1) r=min(r,v[i+1]-1);\n            }else{\n                if(i>0)   l=max(l,v[i-1] + 1);\n                if(i<N-1) l=max(l,v[i+1] + 1);\n            }\n        }\n    }\n    if(l == r) return [](int l){\n            stringstream ss;\n            ss << l;\n            return ss.str();\n        }(l);\n    else if(l > r) return \"none\";\n    else return \"ambiguous\";\n}\n\nint main() {\n    for(int N; cin >> N, N; ) {\n        vector<int> v(N);\n        for(int i=0;i<N;i++)v[i]=read();\n        cout << solve(v) << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n) for(int i=0; i<n; i++)\n#define INF 10000001000\nusing namespace std;\nint main()\n{\n\tint n;\n\twhile(cin >> n ,n)\n\t{\n\t\tvector<string> vec(n+1);\n\t\tint num_x = 0;\n\t\tint seq = 0;\n\t\tbool flag = false;\n\t\trep(i,n)\n\t\t{\n\t\t\tcin >> vec[i];\n\t\t\tif(vec[i] == \"x\") \n\t\t\t{\n\t\t\t\tnum_x++;\n\t\t\t\tseq++;\n\t\t\t}\n\t\t\telse seq = 0;\n\t\t\tif(seq > 1) flag = true;\n\t\t\tif(i == 0) continue;\n\t\t\tif(vec[i] == \"x\" || vec[i-1] == \"x\") continue;\n\t\t\tif((i+1) % 2 == 0)\n\t\t\t{\n\t\t\t\tif(vec[i] <= vec[i-1]) flag = true;\n\t\t\t}\n\t\t\telse\n\t\t\t{\t\n\t\t\t\tif(vec[i] >= vec[i-1]) flag = true;\n\t\t\t}\n\t\t}\n\t\tif(flag)\n\t\t{\n\t\t\tcout << \"none\" << endl;\n\t\t\tcontinue;\n\t\t}\n\t\tif(num_x == 0)\n\t\t{\n\t\t\tcout << \"ambiguous\" << endl;\n\t\t\tcontinue;\n\t\t}\t\n\t\t//上限と下限を調べる\n\t\tlong max_n = -INF, min_n = INF;\n\t\tlong max_tmp, min_tmp;\n\t\trep(i,n)\n\t\t{\n\t\t\tif(vec[i] == \"x\")\n\t\t\t{\n\t\t\t\tif((i+1) % 2 == 0)\n\t\t\t\t{\n\t\t\t\t\tif(i == 0) min_tmp = stoi(vec[i+1]);\n\t\t\t\t\telse if(i == n-1) min_tmp = stoi(vec[i-1]);\n\t\t\t\t\telse min_tmp = max(stoi(vec[i+1]),stoi(vec[i-1]));\n\t\t\t\t\tmin_n = min(min_tmp, min_n);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif(i == 0) max_tmp = stoi(vec[i+1]);\n\t\t\t\t\telse if(i == n-1) max_tmp = stoi(vec[i-1]);\n\t\t\t\t\telse max_tmp = min(stoi(vec[i+1]),stoi(vec[i-1]));\n\t\t\t\t\tmax_n = max(max_tmp, max_n);\n\t\t\t\t}\n\t\t\t}\t\n\t\t\t//:cout << min_n << \" \" << max_n << endl;\n\t\t}\n\t\tlong cnt = 0;\n\t\tlong ans;\n\t\tif(max_n == -INF || min_n == INF)\n\t\t{\n\t\t\tcout << \"ambiguous\" << endl;\n\t\t\tcontinue;\n\t\t}\n\t\tfor(int i=min_n+1; i<max_n; i++)\n\t\t{\n\t\t\tans = i;\n\t\t\tcnt++;\n\t\t}\n\t\t//cout << cnt << endl;\n\t\tif(cnt == 0) cout << \"none\" << endl;\n\t\telse if(cnt == 1) cout << ans << endl;\n\t\telse cout << \"ambiguous\" << endl;\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define REP(i,n) for(int i=0; i<(int)(n); ++i)\n\nusing namespace std;\n\nint main(){\n    int n;\n    while(cin >> n && n){\n        vector<int> a(n);\n        vector<bool> c(n);\n        REP(i, n) {\n            string s;\n            cin >> s;\n            if(s == \"x\"){\n                c[i] = true;\n            }else{\n                a[i] = stoi(s);\n            }\n        }\n        set<int> ans;\n        REP(j, n){\n            REP(dx, 5){\n                int x = a[j] + dx - 2;\n                REP(i, n) if(c[i]) a[i] = x;\n                bool ok = true;\n                REP(i, n - 1){\n                    if(i % 2 == 0 && a[i] >= a[i + 1]) ok = false;\n                    if(i % 2 == 1 && a[i] <= a[i + 1]) ok = false;\n                }\n                if(ok){\n                    ans.insert(x);\n                }\n            }\n        }\n        if(ans.size() == 1) cout << *ans.begin() << endl;\n        else if(ans.size() == 0) cout << \"none\" << endl;\n        else cout << \"ambiguous\" << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <algorithm>\n#include <cstdlib>\nusing namespace std;\n#define F (1000000003)\n\nint main(){\n    int i,j,n,cf,ct,nanf,cnt;\n    char s[12];\n\n    while(1){\n        scanf(\"%d\",&n);\n        if(!n){break;}\n        int l[n];\n        for(i=0;i<n;i++){\n            scanf(\"%s\",s);\n            if(s[0]!='x'){\n                l[i]=atoi(s);\n            }\n            else{\n                l[i]=0;\n            }\n        }\n        cf=-F;ct=F;nanf=0;\n        if((l[0]>l[1] && l[1] && l[0]) || (!l[0]&&!l[1])){nanf=1;}\n        else if(!l[0] && l[1]){ct=l[1]-1;}\n        for(i=1;i<n-1&&!nanf;i++){\n            if(i%2){\n                if((l[i] && l[i]<l[i+1]) || (!l[i]&&!l[i+1])){nanf=1;}\n                else if(!l[i]){cf=max({cf,l[i-1],l[i+1]})+1;}\n            }\n            else{\n                if((l[i] && l[i]>l[i+1]) || (!l[i]&&!l[i+1])){nanf=1;}\n                else if(!l[i]){ct=min({ct,l[i-1],l[i+1]})-1;}\n            }\n        }\n        if(!l[n-1]){\n            if((n-1)%2){\n                cf=max({cf,l[n-2]})+1;\n            }\n            else{\n                ct=min({ct,l[n-2]})-1;\n            }\n        }\n        if(nanf){printf(\"none\\n\");}\n        else if(cf==ct){printf(\"%d\\n\",cf);}\n        else{printf(\"ambiguous\\n\");}\n    }\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define N 1001\n#define INF 1000000000\nusing namespace std;\n\n\nint main(){\n  while(1){\n\n  int n;\n    string str[N];\n  cin>>n;\n  if(n==0) break;\n  int a[N];\n  a[0]=INF;\n  for(int i=1;i<=n;i++)cin>>str[i];\n  \n  for(int i=1;i<=n;i++){\n    if(str[i]==\"x\")a[i]=INF+1;\n    else a[i]=atoi(str[i].c_str());\n  }\n  \n  int f=0;\n  \n  int low=-INF-1000,upp=INF+1000;\n  for(int i=1;i<=n;i++){\n    if(i%2==1){\n      if(a[i]==INF+1){\n\tif(a[i-1]==INF+1) f=1;\n\telse  upp=min(a[i-1],upp);\n\tif(i<n) upp=min(a[i+1],upp);\n      }else if(a[i-1]<a[i]) f=1;\n    }\n else if(i%2==0){\n\tif(a[i]==INF+1){\n\tif(a[i+1]==INF+1) f=1;\n\telse  low=max(low,a[i-1]);\n\tif(i<n) low=max(a[i+1],low);\n\t}else if(a[i-1]>a[i]) f=1;\n      }     \t\n    }\n   if(upp-low==2 && f==0) cout<<(upp+low)/2<<endl;\n  else if(upp-low>2 && f==0) cout<<\"ambiguous\"<<endl;\n  else  cout<<\"none\"<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <stack>\n#include <queue>\n#include <map>\n#include <cmath>\n#include <string>\n#include <sstream>\n#include <iomanip>\n#include <complex>\nusing namespace std;\n\n#define ll long long\n#define vvi vector< vector<int> >\n#define vi vector<int>\n#define All(X) X.begin(),X.end()\n#define FOR(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define REP(i,n) for(int i=0;i<(int)(n);i++)\n#define pb push_back\n#define pii pair<int,int>\n#define mp make_pair\n#define pi 3.14159265359\n#define shosu(X) fixed << setprecision(X)\nll gcd(ll a,ll b){return b?gcd(b,a%b):a;}\nll lcm(ll a,ll b){return a/gcd(a,b)*b;}\n\nint main(){\n\twhile(1){\n\t\tint n;\n\t\tcin >> n;\n\t\tif(n==0) break;\n\t\tll int xcnt = 0;\n\t\tll int data[1001];\n\t\tll int lastxpos = -10;\n\t\tREP(i,n){\n\t\t\tstring s;\n\t\t\tcin >> s;\n\t\t\tif(s==\"x\"){\n\t\t\t\txcnt++;\n\t\t\t\tif(lastxpos==i-1){//x 2??£?¶????????????????????????¨\n\t\t\t\t\txcnt = n;\n\t\t\t\t}\n\t\t\t\tlastxpos = i;\n\t\t\t\tdata[i]=1000000000;\n\t\t\t}else{\n\t\t\t\tdata[i]= stoll(s);\n\t\t\t}\n\t\t}\n\t\tif(xcnt>=n){//2??£?¶????????????§?????£?????????\n\t\t\tcout << \"none\" << endl;\n\t\t}else{\n\t\t\tbool is_mujun = false;\n\t\t\tll int minx=-1000000000,maxx=1000000000;\n\t\t\tREP(i,n){\n\t\t\t\tif(i==0){\n\t\t\t\t\tif(data[0]==1000000000) maxx = data[1]-1;\n\t\t\t\t\telse if(data[1]!=1000000000&&data[0]>=data[1]) is_mujun = true;\n\t\t\t\t}else if(i==n-1){\n\t\t\t\t\tif(data[n-1]==1000000000){\n\t\t\t\t\t\tif((n+1)%2==0){\n\t\t\t\t\t\t\tmaxx = min(maxx,data[i-1]-1);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tminx = max(minx,data[i-1]+1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif((n+1)%2==0){\n\t\t\t\t\t\t\tif(data[n-2]!=1000000000&&data[n-1]>=data[n-2]) is_mujun = true;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tif(data[n-2]!=1000000000&&data[n-1]<=data[n-2]) is_mujun = true;\n\t\t\t\t\t\t}\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(data[i]==1000000000){\n\t\t\t\t\t\tif((i+1)%2==0){\n\t\t\t\t\t\t\tminx = max(minx,max(data[i-1],data[i+1])+1);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tmaxx = min(maxx,min(data[i-1],data[i+1])-1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif((i+1)%2==0){\n\t\t\t\t\t\t\tif(data[i-1]!=1000000000&&(data[i]<=data[i-1])) is_mujun = true;\n\t\t\t\t\t\t\tif(data[i+1]!=1000000000&&(data[i]<=data[i+1])) is_mujun = true;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tif(data[i-1]!=1000000000&&(data[i]>=data[i-1])) is_mujun = true;\n\t\t\t\t\t\t\tif(data[i+1]!=1000000000&&(data[i]>=data[i+1])) is_mujun = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(minx!=-1000000000&&maxx!=1000000000&&minx-maxx>0) is_mujun = true;\n\t\t\t\t//cout << minx << \" \" << maxx << \" \" << is_mujun <<\" \"<<data[i]<< endl;\n\t\t\t}\n\t\t\tif(xcnt==0){\n\t\t\t\tif(is_mujun) cout << \"none\" << endl;\n\t\t\t\telse cout << \"ambiguous\" << endl;\t\t\t\t\n\t\t\t}else if(xcnt==1){\n\t\t\t\tcout << \"ambiguous\" << endl;\n\t\t\t}else{\n\t\t\t\tif(is_mujun) cout << \"none\" << endl;\n\t\t\t\telse{\n\t\t\t\t\tif(maxx==minx) cout << maxx << endl;\n\t\t\t\t\telse cout << \"ambiguous\" << endl;\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <stack>\n#include <queue>\n#include <map>\n#include <cmath>\n#include <string>\n#include <sstream>\n#include <iomanip>\n#include <complex>\nusing namespace std;\n\n#define ll long long\n#define vvi vector< vector<int> >\n#define vi vector<int>\n#define All(X) X.begin(),X.end()\n#define FOR(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define REP(i,n) for(int i=0;i<(int)(n);i++)\n#define pb push_back\n#define pii pair<int,int>\n#define mp make_pair\n#define pi 3.14159265359\n#define shosu(X) fixed << setprecision(X)\nll gcd(ll a,ll b){return b?gcd(b,a%b):a;}\nll lcm(ll a,ll b){return a/gcd(a,b)*b;}\n\nint main(){\n\twhile(1){\n\t\tint n;\n\t\tcin >> n;\n\t\tif(n==0) break;\n\t\tll int xcnt = 0;\n\t\tll int data[1001];\n\t\tll int lastxpos = -10;\n\t\tREP(i,n){\n\t\t\tstring s;\n\t\t\tcin >> s;\n\t\t\tif(s==\"x\"){\n\t\t\t\txcnt++;\n\t\t\t\tif(lastxpos==i-1){//x 2??£?¶????????????????????????¨\n\t\t\t\t\txcnt = n;\n\t\t\t\t}\n\t\t\t\tlastxpos = i;\n\t\t\t\tdata[i]=999999999;\n\t\t\t}else{\n\t\t\t\tdata[i]= stoll(s);\n\t\t\t}\n\t\t}\n\t\tif(xcnt>=n){//2??£?¶????????????§?????£?????????\n\t\t\tcout << \"none\" << endl;\n\t\t}else{\n\t\t\tbool is_mujun = false;\n\t\t\tll int minx=-999999999,maxx=999999999;\n\t\t\tREP(i,n){\n\t\t\t\tif(i==0){\n\t\t\t\t\tif(data[0]==999999999) maxx = data[1]-1;\n\t\t\t\t\telse if(data[1]!=999999999&&data[0]>=data[1]) is_mujun = true;\n\t\t\t\t}else if(i==n-1){\n\t\t\t\t\tif(data[n-1]==999999999){\n\t\t\t\t\t\tif((n+1)%2==0){\n\t\t\t\t\t\t\tmaxx = data[n-2]-1;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tminx = data[n-2]+1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif((n+1)%2==0){\n\t\t\t\t\t\t\tif(data[n-2]!=999999999&&data[n-1]>=data[n-2]) is_mujun = true;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tif(data[n-2]!=999999999&&data[n-1]<=data[n-2]) is_mujun = true;\n\t\t\t\t\t\t}\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(data[i]==999999999){\n\t\t\t\t\t\tif((i+1)%2==0){\n\t\t\t\t\t\t\tminx = max(minx,max(data[i-1],data[i+1])+1);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tmaxx = min(maxx,min(data[i-1],data[i+1])-1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif((i+1)%2==0){\n\t\t\t\t\t\t\tif(data[i-1]!=999999999&&(data[i]<=data[i-1])) is_mujun = true;\n\t\t\t\t\t\t\tif(data[i+1]!=999999999&&(data[i]<=data[i+1])) is_mujun = true;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tif(data[i-1]!=999999999&&(data[i]>=data[i-1])) is_mujun = true;\n\t\t\t\t\t\t\tif(data[i+1]!=999999999&&(data[i]>=data[i+1])) is_mujun = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(minx!=-999999999&&maxx!=999999999&&minx-maxx>0) is_mujun = true;\n\t\t\t\t//cout << minx << \" \" << maxx << \" \" << is_mujun <<\" \"<<data[i]<< endl;\n\t\t\t}\n\t\t\tif(xcnt==0){\n\t\t\t\tif(is_mujun) cout << \"none\" << endl;\n\t\t\t\telse cout << \"ambigious\" << endl;\t\t\t\t\n\t\t\t}else{\n\t\t\t\tif(is_mujun) cout << \"none\" << endl;\n\t\t\t\telse{\n\t\t\t\t\tif(maxx==minx) cout << maxx << endl;\n\t\t\t\t\telse cout << \"ambigious\" << endl;\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef vector<int> vi;\ntypedef vector<vi> vii;\ntypedef vector<string> vs;\ntypedef vector<bool> vb;\ntypedef vector<vb> vbb;\ntypedef pair<int, int> pii;\ntypedef long long ll;\ntypedef unsigned long long ull;\n\n#define all(a)  (a).begin(),(a).end()\n#define rall(a) (a).rbegin(), (a).rend()\n#define pb push_back\n#define mp make_pair\n\n#define loop(i,a,b) for(int i=(a);i<ull(b);++i)\n#define rep(i,n) loop(i,0,n)\n\nconst double eps = 1e-10;\nconst double pi  = acos(-1.0);\nconst double inf = (int)1e9+10;\n\nbool isIn(int x, int n){\n     return 0 <= x && x < n;\n}\n\nint main(){\n    int n;\n    while(cin >> n, n){\n        vector<string> v(n);\n        rep(i, n) cin >> v[i];\n        bool none = false;\n        rep(i, n-1){\n            if(v[i] == v[i+1] && v[i+1] == \"x\") none = true;\n            if(v[i] != \"x\" && v[i+1] != \"x\"){\n                if(i%2 == 0 && v[i] >= v[i+1]) none = true;\n                else if(i%2 == 1 && v[i] <= v[i+1]) none = true;\n            }\n        }\n        if(none){cout << \"none\" << endl; continue;}\n        int upper = inf, lower = 0;\n\n        rep(i, n){\n            if(v[i] == \"x\"){\n                if(i%2 == 0){\n                    int a=inf, b=inf;\n                    if(isIn(i-1, v.size()) && v[i-1] != \"x\") a = stoi(v[i-1]);\n                    if(isIn(i+1, v.size()) && v[i+1] != \"x\") b = stoi(v[i+1]);\n                    upper = min(upper, min(a, b));\n                } else {\n                    int a=0, b=0;\n                    if(isIn(i-1, v.size()) && v[i-1] != \"x\") a = stoi(v[i-1]);\n                    if(isIn(i+1, v.size()) && v[i+1] != \"x\") b = stoi(v[i+1]);\n                    lower = max(lower, max(a, b));\n                }\n            }\n        }\n        if(upper-lower < 2) cout << \"none\" << endl;\n        else if(upper-2 == lower) cout << upper-1 << endl;\n        else cout << \"ambiguous\" << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#define INF 2000000000\n#define N 1010\nusing namespace std;\ntypedef long long ll;\nvoid Bynary_Search(ll,ll);\nll StoI(string);\nll Judge(ll);\nstring str[N];\nll n,data[N];\n \nint main(){\n  while(1){\n    cin>>n;\n    if(!n) break;\n    data[0]=(ll)INF+INF;\n    if(n%2) data[n+1]=(ll)INF+INF;\n    else data[n+1]=0;\n    for(int i=1;i<=n;i++){\n      cin>>str[i];\n      if(str[i]==\"x\") continue;\n      data[i]=StoI(str[i])+INF;\n    }\n    Bynary_Search(0,(ll)1000000100+INF);\n  }\n  return 0;\n}\n \nvoid Bynary_Search(ll l,ll r){\n  ll m;\n  while(r-l>1){\n    m=(ll)(l+r)/2;\n    if(Judge(m)==-2) break;\n    else if(Judge(m)<0) l=m;\n    else if(Judge(m)>0) r=m-1;\n    else{\n      if(!Judge(m-1)||!Judge(m+1)) cout<<\"ambiguous\"<<endl;\n      else cout<<m-INF<<endl;\n      return ;\n    }\n  }\n  cout<<\"none\"<<endl;\n}\n \nll Judge(ll d){\n  ll judge[N];\n  judge[0]=data[0];\n  judge[n+1]=data[n+1];\n  for(int i=1;i<=n;i++){\n    if(str[i]==\"x\") judge[i]=d;\n    else judge[i]=data[i];\n  }\n  for(int i=1;i<=n;i++){\n    if(str[i]==\"x\"&&str[i+1]==\"x\") return -2;\n    if(str[i]!=\"x\"&&str[i+1]!=\"x\")\n      if(((i%2)&&judge[i]>=judge[i+1])||(!(i%2)&&judge[i]<=judge[i+1])) return -2;\n  }\n  for(int i=1;i<=n;i++){\n    if(str[i]!=\"x\") continue;\n    if((i%2)&&(judge[i-1]<=judge[i]||judge[i]>=judge[i+1])) return 1;\n    if(!(i%2)&&(judge[i-1]>=judge[i]||judge[i]<=judge[i+1])) return -1;\n  }\n  return 0;\n}\n \nll StoI(string s){\n  ll ret=0;\n  for(int i=0;i<(int)s.size();i++)\n    ret=ret*10+(s[i]-'0');\n  return ret;  \n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define FOR(i,k,n) for(int i = (k); i < (n); i++)\n#define REP(i,n) FOR(i,0,n)\n#define ALL(a) begin(a),end(a)\n#define MS(m,v) memset(m,v,sizeof(m))\n#define D10  fixed<<setprecision(5)\ntypedef vector<int> vi;\ntypedef vector<string> vs;\ntypedef pair<short, short> P;\ntypedef complex<double> Point;\ntypedef long long ll;\nconst int INF = 1145141919;\nconst int MOD = 100000007;\nconst double EPS = 1e-10;\nconst double PI = acos(-1.0);\nstruct edge\n{\n\tint from, to, cost;\n\tbool operator < (const edge& e) const { return cost < e.cost; }\n\tbool operator > (const edge& e) const { return cost > e.cost; }\n};\n///*************************************************************************************///\n///*************************************************************************************///\n///*************************************************************************************///\n\n\nint main()\n{\n\tint n;\n\twhile (cin >> n, n)\n\t{\n\t\tbool f = true;\n\t\tint ub = -INF; int lb = INF;\n\t\tstring s;\n\t\tvector<string> v;\n\t\tv.push_back(to_string(INF));\n\t\tREP(i, n)\n\t\t{\n\t\t\tstring a;\n\t\t\tcin >> a;\n\t\t\tv.push_back(a);\n\t\t}\n\t\tv.push_back(v.size() % 2 ? to_string(-INF) : to_string(INF));\n\t\tFOR(i, 1, v.size() - 1)\n\t\t{\n\t\t\tif (v[i] == \"x\")\n\t\t\t{\n\t\t\t\tif (v[i - 1] == \"x\" || v[i + 1] == \"x\")\n\t\t\t\t{\n\t\t\t\t\tf = false;\n\t\t\t\t\tgoto end;\n\t\t\t\t}\n\t\t\t\tint pre = stoi(v[i - 1]); int next = stoi(v[i + 1]);\n\t\t\t\tif (i % 2 == 1)\n\t\t\t\t{\n\t\t\t\t\tif (ub <= pre && ub <= next) ub = min(pre, next) - 1;\n\t\t\t\t\telse f = false;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif (lb >= pre && lb >= next) lb = max(pre, next) + 1;\n\t\t\t\t\telse f = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tint t = stoi(v[i]);\n\t\t\t\tif (v[i - 1] != \"x\")\n\t\t\t\t{\n\t\t\t\t\tint pre = stoi(v[i - 1]);\n\t\t\t\t\tif (i % 2 == 1)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (pre <= t) f = false;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tif (pre >= t) f = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\tend:;\n\t\tif (!f||ub<lb) puts(\"none\");\n\t\telse if (ub != lb) puts(\"ambiguous\");\n\t\telse cout << ub << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "// tsukasa_diary's programing contest code template\n#include <bits/stdc++.h>\nusing namespace std;\n// define\n#define for_(i,a,b) for(int i=a;i<b;++i)\n#define for_rev(i,a,b) for(int i=a;i>=b;--i)\n#define allof(a) a.begin(),a.end()\n#define minit(a,b) memset(a,b,sizeof(a))\n#define size_of(a) (int)a.size()\n// typedef\ntypedef long long lint;\ntypedef double Double;\ntypedef pair<int, int> pii;\n//\ntypedef vector< int > Array;\ntypedef vector< Array > Matrix;\ntypedef vector< Double > DArray;\ntypedef vector< DArray > DMatrix;\ntypedef vector< string > SArray;\ntypedef vector< pii > PArray;\n// popcount\ninline int POPCNT(int _x) { return __builtin_popcount(_x); }\ninline int POPCNT(lint _x) { return __builtin_popcountll(_x); }\n// inf\nconst int iINF = 1L << 30;\nconst lint lINF = 1LL << 60;\n// eps\nDouble EPS = 1e-9;\n// in range\ninline bool in_range(int _v, int _mx, int _mi) { return _mi <= _v && _v < _mx; }\ninline bool in_range(Double _v, Double _mi, Double _mx) { return -EPS < _v - _mi && _v - _mx < EPS; }\ninline bool in_range(int _x, int _y, int _W, int _H) { return 0 <= _x && _x < _W && 0 <= _y && _y < _H; }\n// neighbor clockwise\nconst int DX[4] = {0,1,0,-1}, DY[4] = {-1,0,1,0};\nconst int DX_[8] = {0,1,1,1,0,-1,-1,-1}, DY_[8] = {-1,-1,0,1,1,1,0,-1};\n\nint s_to_i(string s) {\n\tstringstream ss(s);\n\tint res; ss >> res;\n\treturn res;\n}\n\nint N;\nstring a[1010];\n\nvoid solve() {\n\tint lb = -iINF, ub = iINF;\n\t\n\tfor_(i,1,N) {\n\t\tif (a[i] == \"x\") {\n\t\t\tif (a[i - 1] == \"x\") {\n\t\t\t\tcout << \"none\" << endl;\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tint val = s_to_i(a[i - 1]);\n\t\t\t\t\n\t\t\t\tif (i % 2) {\n\t\t\t\t\tlb = max(lb, val + 1);\n\t\t\t\t} else {\n\t\t\t\t\tub = min(ub, val - 1);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tint val = s_to_i(a[i]);\n\t\t\t\n\t\t\tif (a[i - 1] == \"x\") {\n\t\t\t\tif (i % 2) {\n\t\t\t\t\tub = min(ub, val - 1);\n\t\t\t\t} else {\n\t\t\t\t\tlb = max(lb, val + 1);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tint val2 = s_to_i(a[i - 1]);\n\t\t\t\t\n\t\t\t\tif (i % 2) {\n\t\t\t\t\tif (val2 >= val) {\n\t\t\t\t\t\tcout << \"none\" << endl;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (val2 <= val) {\n\t\t\t\t\t\tcout << \"none\" << endl;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (lb > ub) {\n\t\t\tcout << \"none\" << endl;\n\t\t\treturn;\n\t\t}\n\t}\n\t\n\tif (lb == ub) cout << lb << endl;\n\telse cout << \"ambiguous\" << endl;\n}\n\nint main() {\n\twhile (cin >> N, N) {\n\t\tfor_(i,0,N) cin >> a[i];\n\t\tsolve();\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <fstream>\n#include <cstdio>\n#include <cmath>\n#include <vector>\n#include <cstring>\n#include <string>\n#include <set>\n#include <map>\n#include <stack>\n#include <queue>\n#include <algorithm>\nusing namespace std;\n \n#define REP(i,n) for(int i=0; i<n; ++i)\n#define FOR(i,a,b) for(int i=a; i<=b; ++i)\n#define FORR(i,a,b) for (int i=a; i>=b; --i)\n#define pi M_PI\n \ntypedef long long ll;\ntypedef vector<int> VI;\ntypedef vector<ll> VL;\ntypedef vector<VI> VVI;\ntypedef pair<int,int> P;\ntypedef pair<ll,ll> PL;\n\nconst int INF = 1e9 + 2;\n\nint stoi(string s){\n    int res = 0;\n    REP(i,s.length()){\n        res = 10*res + s[i]-'0';\n    }\n    return res;\n}\n\nint main() {\n    int n;\n    while (cin >> n && n){\n        VI a(n+2), c(n+2);\n        FOR(i,1,n){\n            string s;\n            cin >> s;\n            if (s == \"x\") {\n                c[i] = 1;\n                if (i % 2 == 1)\n                    a[i] = -INF;\n                else\n                    a[i] = INF;\n            }\n            else a[i] = stoi(s);\n        }\n        a[0] = INF;\n        if (n % 2 == 1) a[n+1] = INF;\n        else a[n+1] = -INF;\n        bool d = 0;\n        FOR(i,1,n-1) if (c[i] & c[i+1]) d = 1;\n        FOR(i,1,n){\n            if (i % 2 == 1 && (a[i] >= a[i-1] || a[i] >= a[i+1])) d = 1;\n            if (i % 2 == 0 && (a[i] <= a[i-1] || a[i] <= a[i+1])) d = 1;\n        }\n        if (d) {\n            cout << \"none\" << endl;\n            continue;\n        }\n\n        int mi = -INF, ma = INF;\n        FOR(i,1,n){\n            if (c[i] && i % 2 == 1)\n                ma = min({ma, a[i-1]-1, a[i+1]-1});\n            else if (c[i] && i % 2 == 0)\n                mi = max({mi, a[i-1]+1, a[i+1]+1});\n        }\n\n        if (mi == ma) cout << mi << endl;\n        else if (mi < ma) cout << \"ambiguous\" << endl;\n        else cout << \"none\" << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<cstdlib>\n\nusing namespace std;\n\n\nint main(){\n  for(int N;cin>>N,N;){\n    string s[1234];\n    for(int i=0;i<N;i++){\n      cin>>s[i];\n    }\n    bool f=false;\n    int lt=1e9+9,ht=-1e9+9;\n    for(int i=0;i<N-1;i++){\n      if(s[i][0]=='x'){\n\tif(s[i+1][0]=='x'){\n\t  f=true;\n\t}else{\n\t  if(i%2==0){\n\t    lt=min(lt,stoi(s[i+1]));\n\t  }else{\n\t    ht=max(ht,stoi(s[i+1]));\n\t  }\n\t}\n      }else{\n\tif(s[i+1][0]=='x'){\n\t  if((i+1)%2==0){\n\t    lt=min(lt,stoi(s[i]));\n\t  }else{\n\t    ht=max(ht,stoi(s[i]));\n\t  }\n\t}else{\t      \n\t  if(i%2){\n\t    f|=stoi(s[i])<=stoi(s[i+1]);\n\t  }else{\n\t    f|=stoi(s[i])>=stoi(s[i+1]);\n\t  }\n\t}\n      }\n    }\n    if(f||lt-ht<2){\n      cout<<\"none\"<<endl;\n    }else if(lt-ht>2){\n      cout<<\"ambiguous\"<<endl;\n    }else{\n      cout<<lt-1<<endl;\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<n;i++)\nusing namespace std;\n\nint n,m,M,a[1000],I=1000000003;\nstring b,s;\n\nmain(){\n\twhile(cin>>n,n){\n\t\tbool e=0;\n\t\ts=\"none\";\n\t\tM=I;m=-I;\n\t\trep(i,n){\n\t\t\ta[i]=0;cin>>b;\n\t\t\tif(b==\"x\")a[i]=-I;\n\t\t\telse rep(j,b.size()){\n\t\t\t\ta[i]*=10;a[i]+=b[j]-'0';\n\t\t\t}\n\t\t}\n\t\trep(i,n-1)if(a[i]==a[i+1])e=1;\n\t\trep(i,n-1)if(a[i]!=-I&&a[i+1]!=-I&&((i%2&&a[i]<=a[i+1])||(!(i%2)&&a[i]>=a[i+1])))e=1;\n\t\tif(e){\n\t\t\tcout<<s<<endl;\n\t\t\tcontinue;\n\t\t}\n\t\trep(i,n)if(a[i]==-I)e=1;\n\t\tif(!e){\n\t\t\tcout<<\"ambiguous\"<<endl;\n\t\t\tcontinue;\n\t\t}\n\t\tif(a[0]==-I)M=a[1]-1;\n\t\tif(a[n-1]==-I){\n\t\t\tif(n%2) M=min(M,a[n-2]-1);\n\t\t\telse m=a[n-2]+1;\n\t\t}\n\t\tfor(int i=1;i<n-1;i++){\n\t\t\tif(a[i]!=-I)continue;\n\t\t\tif(i%2) m=max(m,max(a[i-1],a[i+1])+1);\n\t\t\telse M=min(M,min(a[i-1],a[i+1])-1);\n\t\t}\n\t\tif(m==M)cout<<m<<endl;\n\t\telse{\n\t\t\tif(M>m)s=\"ambiguous\";\n\t\t\tcout<<s<<endl;\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <functional>\n#include <cmath>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <string>\n#include <sstream>\n#include <iostream>\n#include <iomanip>\n#include <vector>\n#include <list>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <bitset>\n#include <climits>\n\n#define all(c) (c).begin(), (c).end()\n#define rep(i,n) for(int i=0;i<(n);i++)\n#define pb(e) push_back(e)\n#define mp(a, b) make_pair(a, b)\n#define fr first\n#define sc second\n\nconst int INF=1000000000;\nint dx[4]={1,0,-1,0};\nint dy[4]={0,1,0,-1};\nusing namespace std;\ntypedef pair<int ,int > P;\ntypedef long long ll;\n\nint n;\nstring a[1003];\n\nint toi(string s) {\n    int res;\n    stringstream ss;\n    ss<<s;\n    ss>>res;\n    return res;\n}\n\nbool ok() {\n    bool res=true;\n    rep(i,n) {\n        if(a[i]==\"x\") continue;\n        // printf(\"%d %d\\n\", i ,res);\n        if(i&1) {\n            if(i+1<n && a[i+1]!=\"x\") res&=toi(a[i]) > toi(a[i+1]);\n            if(i-1>=0 && a[i-1]!=\"x\") res&=toi(a[i]) > toi(a[i-1]);\n        }\n        else {\n            if(i+1<n && a[i+1]!=\"x\") res&=toi(a[i]) < toi(a[i+1]);\n            if(i-1>=0 && a[i-1]!=\"x\") res&=toi(a[i]) < toi(a[i-1]);\n        }\n\n\n    }\n    return res;\n}\n\nbool exist_x() {\n    bool res=false;\n    rep(i,n) res|=a[i]==\"x\";\n    return res;\n}\nint count_x() {\n    int res=0;\n    rep(i,n) if(a[i]==\"x\") res++;\n    return res;\n}\n\nbool ok_x() {\n    bool res=true;\n    rep(i,n) {\n        if(!i) continue;\n        if(a[i]==\"x\" && a[i-1]==a[i]) res=false;\n    }\n    return res;\n}\n\n\nvoid solve() {\n    int l=-INF*2,r=INF*2;\n    rep(i,n) cin>>a[i];\n\n    rep(i,n) {\n        if(a[i]==\"x\") {\n            if(i&1) {\n                if(i-1>=0 && a[i-1]!=\"x\") l=max(l,toi(a[i-1]));\n                if(i+1<n && a[i+1]!=\"x\") l=max(l,toi(a[i+1]));\n\n            }\n            else {\n                if(i-1>=0 && a[i-1]!=\"x\") r=min(r,toi(a[i-1]));\n                if(i+1<n && a[i+1]!=\"x\") r=min(r,toi(a[i+1]));\n            }\n        }\n    }\n    if(!ok_x()) {\n        cout<<\"none\"<<endl;\n        return;\n    }\n    if(!exist_x()) {\n        if(!ok()) {\n            cout<<\"none\"<<endl;\n            return;\n        }\n        else {\n            cout<<\"ambiguous\"<<endl;\n            return;\n        }\n\n    }\n\n    //cout<<l<<\",\"<<r<<endl;\n    if(r-l<2) {\n        cout<<\"none\"<<\"\\n\";\n        //cout<<l<<\",\"<<r<<endl;\n    }\n    else if(r-l>2) {\n        cout<<\"ambiguous\"<<\"\\n\";\n     //   cout<<l<<\",\"<<r<<endl;\n    }\n    else {\n        cout<<l+1<<\"\\n\";\n     //   cout<<l<<\",\"<<r<<endl;\n\n    }\n\n\n}\n\nint main() {\n    while(cin>>n) {\n        if(n==0) break;\n        solve();\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n \nusing namespace std;\n \n#define INF 1001000100010001000\n#define MOD 1000000007\n#define EPS 1e-10\n#define int long long\n#define rep(i, N) for (int i = 0; i < N; i++)\n#define Rep(i, N) for (int i = 1; i < N; i++)\n#define For(i, a, b) for (int i = (a); i < (b); i++)\n#define pb push_back\n#define mp make_pair\n#define i_i pair<int, int>\n#define vi vector<int>\n#define vvi vector<vi >\n#define vb vector<bool>\n#define vvb vector<vb >\n#define vp vector< i_i >\n#define all(a) (a).begin(), (a).end()\n#define Int(x) int x; scanf(\"%lld\", &x);\n \n//int dxy[5] = {0, 1, 0, -1, 0};\n// assign\n \nsigned main()\n{\n    Int(n);\n    while (n) {\n        vector<string> data(n);\n        rep(i, n) {\n            cin >> data[i];\n        }\n        int less = -INF, more = INF;\n        if (data[0][0] == 'x') {\n            if ( data[1][0] == 'x' ) {\n                cout << \"none\" << endl;\n                cin >> n;\n                continue;\n            } else {\n                more = stoll(data[1]) - 1;\n            }\n        } else {\n            int b = (data[1][0] == 'x') ? INF : stoll(data[1]);\n            if (!(b > stoll(data[0]))) {\n                cout << \"none\" << endl;\n                cin >> n;\n                continue;\n            }\n        }\n        Rep(i, n-1) {\n            if (data[i][0] == 'x') {\n                if ((i+1) % 2) {\n                    if (data[i+1][0] == 'x') {\n                        cout << \"none\" << endl;\n                        cin >> n;\n                        continue;\n                    } else {\n                        more = min(more, \n                                min(stoll(data[i-1])-1,\n                                    stoll(data[i+1])-1));\n                    }\n                } else {\n                    if (data[i+1][0] == 'x') {\n                        cout << \"none\" << endl;\n                        cin >> n;\n                        continue;\n                    } else {\n                        less = max(less, \n                                max(stoll(data[i-1])+1,\n                                    stoll(data[i+1])+1));\n                    }\n                }\n            } else {\n                if ((i+1) % 2) {\n                    int a = (data[i-1][0] == 'x') ? INF : stoll(data[i-1]);\n                    int b = (data[i+1][0] == 'x') ? INF : stoll(data[i+1]);\n                    if (!(a > stoll(data[i]) && b > stoll(data[i]))) {\n                        cout << \"none\" << endl;\n                        cin >> n;\n                        continue;\n                    }\n                } else {\n                    int a = (data[i-1][0] == 'x') ? -INF : stoll(data[i-1]);\n                    int b = (data[i+1][0] == 'x') ? -INF : stoll(data[i+1]);\n                    if (!(a < stoll(data[i]) && b < stoll(data[i]))) {\n                        cout << \"none\" << endl;\n                        cin >> n;\n                        continue;\n                    }\n                }\n            }\n        }\n        if (data[n-1][0] == 'x') {\n            if (n % 2) {\n                more = min(more, stoll(data[n-2])-1);\n            } else {\n                less = max(less, stoll(data[n-2])+1);\n            }\n        } else {\n            if ((n) % 2) {\n                int a = (data[n-2][0] == 'x') ? INF : stoll(data[n-2]);\n                if (!(a > stoll(data[n-1]))) {\n                    cout << \"none\" << endl;\n                    cin >> n;\n                    continue;\n                }\n            } else {\n                int a = (data[n-2][0] == 'x') ? -INF : stoll(data[n-2]);\n                if (!(a < stoll(data[n-1]))) {\n                    cout << \"none\" << endl;\n                    cin >> n;\n                    continue;\n                }\n            }\n        }\n        if (less == more) {\n            cout << less << endl;\n        } else if (less < more) {\n            cout << \"ambiguous\" << endl;\n        } else {\n            cout << \"none\" << endl;\n        }\n        cin >> n;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i, a, n) for(int i = a; i < n; i++)\n#define repb(i, a, b) for(int i = a; i >= b; i--)\n#define all(a) a.begin(), a.end()\n#define o(a) cout << a << endl\n#define int long long\n#define first fi;\n#define second se;\nusing namespace std;\ntypedef pair<int, int> P;\n\nint change_to_i(string s){\n    stringstream ss; int k;\n    ss<<s; ss>>k;\n    return k;\n}\n\nsigned main(){\n    int n;\n    while(cin >> n, n){\n        string s;\n        vector<int> d(n);\n        rep(i, 0, n){\n            cin >> s;\n            if(s == \"x\") d[i] = -1;\n            else d[i] = change_to_i(s);\n            // cout << d[i] << \" \";\n        }\n        // cout << endl;\n        bool f = true;\n        int l = -1e10, r = 1e10;\n        rep(i, 0, n){\n            if(d[i] == -1){\n                if(i - 1 >= 0 && d[i - 1] == -1) f = false;\n                if(i + 1 < n && d[i + 1] == -1) f = false;\n                if((i + 1) % 2){\n                    if(i - 1 >= 0) r = min(r, d[i - 1] - 1);\n                    if(i + 1 < n) r = min(r, d[i + 1] - 1);\n                }else{\n                    if(i - 1 >= 0) l = max(l, d[i - 1] + 1);\n                    if(i + 1 < n) l = max(l, d[i + 1] + 1);\n                }\n            }else{\n                if((i + 1) % 2){\n                    if(i - 1 >= 0 && d[i - 1] != -1 && d[i - 1] <= d[i]) f = false;\n                    if(i + 1 < n && d[i + 1] != -1 && d[i] >= d[i + 1]) f = false;\n                }else{\n                    if(i - 1 >= 0 && d[i - 1] != -1 &&  d[i - 1] >= d[i]) f = false;\n                    if(i + 1 < n && d[i + 1] != -1 && d[i] <= d[i + 1]) f = false;\n                }\n            }\n        }\n        // cout << l << \" \" << r << endl;\n        if(l > r) f = false;\n        if(!f) cout << \"none\" << endl;\n        else if(l == r) cout << l << endl;\n        else cout << \"ambiguous\" << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <cmath>\n\nusing std::cin;\nusing std::cout;\nusing std::endl;\n\nint trans_str(std::string str) {\n\tint l = str.length();\n\tif ( l == 1 ) {\n\t\tif ( str[0] == 'x' ) {\n\t\t\treturn 0;\n\t\t}\n\t\telse {\n\t\t\treturn (int)(str[0]) - '0';\n\t\t}\n\t}\n\n\tint sum = 0;\n\tint d;\n\tfor (int i = 0; i < l; i++) {\n\t\td = (int)(str[l-1-i]) - '0';\n\t\tsum += d * pow(10,i);\n\t}\n\treturn sum;\n}\n\nbool check_sample(std::vector<int> v) {\n\tint size = v.size()-1;\n\tfor (int i = 2; i < size; i++) {\n\t\tif ( i%2 == 0 ) {\n\t\t\tif ( v[i] < v[i-1] ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif ( v[i] > v[i-1] ) {\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\treturn true;\n}\n\nint main(void) {\n\tint N;\n\tcin >> N;\n\twhile ( N != 0 ) {\n\t\tchar c;\n\t\tstd::vector<int> data(N+2,0);\n\t\tstd::vector<int> xinds;\n\t\tstd::string str;\n\t\tbool ex = false;\n\t\tbool seq = false;\n\t\tbool mode = false;\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\tcin >> str;\n\t\t\tdata[i+1] = trans_str(str);\n\t\t\tif ( data[i+1] == 0 ) {\n\t\t\t\tif ( mode ) {\n\t\t\t\t\tseq = true;\n\t\t\t\t}\n\t\t\t\tmode = true;\n\t\t\t\tex = true;\n\t\t\t\txinds.push_back(i+1);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tmode = false;\n\t\t\t}\n\t\t}\n\n\t\tif ( !ex ) {\n\t\t\tif ( check_sample(data) ) {\n\t\t\t\tcout << \"ambiguous\" << endl;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tcout << \"none\" << endl;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif ( seq ) {\n\t\t\t\tcout << \"none\" << endl;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tint ret = 0;\n\t\t\t\tint count = 0;\n\t\t\t\tint smin = 0;\n\t\t\t\tint smax = 0;\n\t\t\t\tint ind;\n\t\t\t\tfor (std::vector<int>::iterator itr = xinds.begin(); itr != xinds.end(); ++itr) {\n\t\t\t\t\tind = *itr;\n\t\t\t\t\tif ( ind%2 == 0 ) {\n\t\t\t\t\t\tif ( smin == 0 ) {\n\t\t\t\t\t\t\tsmin = data[ind-1]+1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( smin < data[ind-1]+1 ) {\n\t\t\t\t\t\t\tsmin = data[ind-1]+1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( ind != N ) {\n\t\t\t\t\t\t\tif ( smin < data[ind+1]+1 ) {\n\t\t\t\t\t\t\t\tsmin = data[ind+1]+1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif ( ind == 1 ) {\n\t\t\t\t\t\t\tsmax = data[ind+1];\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tif ( smax == 0 ) {\n\t\t\t\t\t\t\t\tsmax = data[ind-1];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( ind != 1 && smax > data[ind-1] ) {\n\t\t\t\t\t\t\tsmax = data[ind-1];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( ind != N ) {\n\t\t\t\t\t\t\tif ( smax > data[ind+1] ) {\n\t\t\t\t\t\t\t\tsmax = data[ind+1];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif ( smin == 0 ) {\n\t\t\t\t\tfor (int i = 1; i < smax && count < 2; i++) {\n\t\t\t\t\t\tfor (std::vector<int>::iterator itr = xinds.begin(); itr != xinds.end(); ++itr) {\n\t\t\t\t\t\t\tdata[*itr] = i;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( check_sample(data) ) {\n\t\t\t\t\t\t\tret = i;\n\t\t\t\t\t\t\tcount++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if ( smax == 0 ) {\n\t\t\t\t\tfor (int i = smin; count < 2; i++) {\n\t\t\t\t\t\tfor (std::vector<int>::iterator itr = xinds.begin(); itr != xinds.end(); ++itr) {\n\t\t\t\t\t\t\tdata[*itr] = i;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( check_sample(data) ) {\n\t\t\t\t\t\t\tret = i;\n\t\t\t\t\t\t\tcount++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tfor (int i = smin; i < smax && count < 2; i++) {\n\t\t\t\t\t\tfor (std::vector<int>::iterator itr = xinds.begin(); itr != xinds.end(); ++itr) {\n\t\t\t\t\t\t\tdata[*itr] = i;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( check_sample(data) ) {\n\t\t\t\t\t\t\tret = i;\n\t\t\t\t\t\t\tcount++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif ( count == 0 ) {\n\t\t\t\t\tcout << \"none\" << endl;\n\t\t\t\t}\n\t\t\t\telse if ( count == 1 ) {\n\t\t\t\t\tcout << ret << endl;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcout << \"ambiguous\" << endl;\n\t\t\t\t} \n\t\t\t}\n\t\t}\n\t\tcin >> N;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<string>\n#include<vector>\n#include<queue>\n#define rep(i,n) for(int i=0;i<n;i++)\n#define MOD 1000000007\nusing namespace std;\nint c[1010];\nint main(){\n\tint n,INF=1145141919;\n\twhile(cin>>n&&n){\n\tint imxx=INF;int mi=-INF;\n\trep(i,n){string z;cin>>z;\n\t\tif(z==\"x\")c[i]=INF;\n\t\telse{\n\t\t\tint t=1,cnt=0;\n\t\t\tfor(int i=0;i<z.size();i++){\n\t\t\t\tcnt+=t*(z[i]-'0');\n\t\t\t\tt*=10;\n\t\t\t}\n\t\t\tc[i]=cnt;\n\t\t}\n\t}\n\tbool ok=true;\n\tfor(int i=0;i<n;i++){\n\t\tif(c[i]!=INF){\n\t\t\tif(i%2==0){\n\t\t\t\tif(i>0)if(c[i-1]!=INF)if(c[i]>=c[i-1])ok=false;\n\t\t\t\tif(i<n-1)if(c[i+1]!=INF)if(c[i]>=c[i+1])ok=false;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif(i>0)if(c[i-1]!=INF)if(c[i]<=c[i-1])ok=false;\n\t\t\t\tif(i<n-1)if(c[i+1]!=INF)if(c[i]<=c[i+1])ok=false;\n\t\t\t}\n\t\t\tcontinue;\n\t\t}\n\t\t\n\t\tif(i%2==0){\n\t\t\tif(i>0)imxx=min(imxx,c[i-1]-1);\n\t\t\tif(i<n-1)imxx=min(imxx,c[i+1]-1);\n\t\t}\n\t\telse{\n\t\t\tif(i>0)if(c[i-1]!=INF){\n\t\t\t\tmi=max(mi,c[i-1]+1);\n\t\t\t}\n\t\t\tif(i<n-1)if(c[i+1]!=INF){\n\t\t\t\tmi=max(mi,c[i+1]+1);\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(i>0)if(c[i-1]==INF)ok=false;\n\t\tif(i<n-1)if(c[i+1]==INF)ok=true;\n\t}\n\tif(imxx<mi)ok=false;\n\tif(ok){\n\t\tif(imxx==mi)cout<<imxx<<endl;\n\t\telse cout<<\"ambiguous\"<<endl;\n\t}\n\telse cout<<\"none\"<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<vector>\n#include<cstdio>\n#include<sstream>\n#include<algorithm>\n#include<cmath>\n#include<map>\n#include<functional>\nusing namespace std;\nint stoi(string x){stringstream ss;ss<<x;int tmp;ss>>tmp;return tmp;}\nstring itos(int x){stringstream ss;ss<<x;return ss.str();}\nconst int INF=1111111111;\nint main(){\nint n;\nwhile(cin>>n,n){\n\tint a=-INF,b=INF;\n\tbool none_flag=0,void_flag=1,ok=1;\n\tvector<int>ta(0);\n\tfor(int i=0;i<n;i++){\n\t\tstring tmp;\n\t\tcin>>tmp;\n\t\tif(tmp==\"x\")ta.push_back(INF);\n\t\telse ta.push_back( stoi(tmp) );\n\t}\n\tfor(int i=1;i<n;i++){\n\tif(ta[i]==INF&&ta[i-1]==INF)none_flag=1;\n\tif(ta[i]==INF)void_flag=0;\n\t}\n\tif(ta[0]==INF)void_flag=0;\n\t\n\tfor(int i=0;i<n;i++){\n\t\tif(ta[i]==INF){\n\t\t\tint xa,xb;\n\t\t\tif((i+1)%2==0){//驕?焚\n\t\t\tif(i==0)xa=ta[1],xb=-INF;\n\t\t\telse if(i==n-1)xa=ta[n-2],xb=-INF;\n\t\t\telse xa=ta[i-1],xb=ta[i+1];\n\t\t\ta=max( a,max(xa,xb) );\n\t\t\t}\n\t\t\telse {\n\t\t\tif(i==0)xa=ta[1],xb=INF;\n\t\t\telse if(i==n-1)xa=ta[n-2],xb=INF;\n\t\t\telse xa=ta[i-1],xb=ta[i+1];\n\t\t\tb=min(b,min(xa,xb));\n\t\t\t}//endelse\n\t\t\t\n\t\t}//endif\n\t}//endfor\n\tfor(int i=0;i<n;i++){\n\tif((i+1)%2==1){//螂?焚\n\tif(i==0&&ta[i+1]<=ta[i])ok=0;\n\t\telse if(i==0){}\n\telse if(i==n-1&&ta[n-2]<=ta[i])ok=0;\n\t\telse if(i==n-1){}\n\telse if(ta[i-1]<=ta[i]||ta[i+1]<=ta[i])ok=0;\n\t}\n\telse {\n\tif(i==0&&ta[i+1]>=ta[i])ok=0;\n\t\telse if(i==0){}\n\tif(i==n-1&&ta[n-2]>=ta[n-1]){ok=0;}\n\telse if(i==n-1){}\n\telse if(ta[i-1]>=ta[i]||ta[i+1]>=ta[i])ok=0;\n\t}\n\t}\n\t//cout<<a<<\" \"<<b<<endl;\n\tif(none_flag)cout<<\"none\"<<endl;\n\telse if(void_flag&&ok)cout<<\"ambiguous\"<<endl;\n\telse if(void_flag&&ok==0)cout<<\"none\"<<endl;\n\telse {\n\tif(a+2==b)cout<<a+1<<endl;\n\telse if(b-a==1)cout<<\"none\"<<endl;\n\telse cout<<\"ambiguous\"<<endl;\n\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": " \n#include <bits/stdc++.h>\nusing namespace std;\nusing vi=vector<int>;\nusing vvi=vector<vi>;\nusing vs=vector<string>;\nusing msi=map<string,int>;\nusing mii=map<int,int>;\nusing pii=pair<int,int>;\nusing vlai=valarray<int>;\nusing ll=long long;\n#define rep(i,n) for(int i=0;i<n;i++)\n#define range(i,s,n) for(int i=s;i<n;i++)\n#define all(a) a.begin(),a.end()\n#define rall(a) a.rbegin(),a.rend()\n#define fs first\n#define sc second\n#define pb push_back\n#define eb emplace_back\n#define mp make_pair\n#define INF (1e9+10)\n#define EPS 1e-9\n\nint main(){\n\tint n;\n\twhile(cin>>n,n){\n\t    vs s(n);\n\t    rep(i,n)cin>>s[i];\n\t    int mn=-INF,mx=INF;\n        for(int i=1;i<n;i+=2){\n            if(s[i]==\"x\"){\n                try{mn=max(mn,stoi(s[i-1])+1);}catch(...){cout<<\"none\"<<endl;goto end;}\n            }else{\n                try{if(stoi(s[i-1])>=stoi(s[i])){cout<<\"none\"<<endl;goto end;}}catch(...){}\n            }\n        }\n        for(int i=1;i<n-1;i+=2){\n            if(s[i]==\"x\"){\n                try{mn=max(mn,stoi(s[i+1])+1);}catch(...){cout<<\"none\"<<endl;goto end;}\n            }else{\n                try{if(stoi(s[i+1])>=stoi(s[i])){cout<<\"none\"<<endl;goto end;}}catch(...){}\n            }\n        }\n        for(int i=0;i<n-1;i+=2){\n            if(s[i]==\"x\"){\n                try{mx=min(mx,stoi(s[i+1])-1);}catch(...){cout<<\"none\"<<endl;goto end;}\n            }else{\n                try{if(stoi(s[i+1])<=stoi(s[i])){cout<<\"none\"<<endl;goto end;}}catch(...){}\n            }\n        }\n        for(int i=2;i<n;i+=2){\n            if(s[i]==\"x\"){\n                try{mx=min(mx,stoi(s[i-1])-1);}catch(...){cout<<\"none\"<<endl;goto end;}\n            }else{\n                try{if(stoi(s[i-1])<=stoi(s[i])){cout<<\"none\"<<endl;goto end;}}catch(...){}\n            }\n        }\n        if(mx==mn){\n            cout<<mx<<endl;\n        }else if(mx>mn){\n            cout<<\"ambiguous\"<<endl;\n        }else{\n            cout<<\"none\"<<endl;\n        }\n        end:;\n\t}\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nconst int MOD=1000000007;\nconst int INF=1000000000;\nusing namespace std;\ntypedef long long ll;\ntypedef vector<int> vi;\nconst double eps=1e-9;\nconst int inf=1e9;\ntypedef pair<int,int> P;\nstruct Point\n{\n  double x,y;\n  Point(){x=0;y=0;}\n  Point(double d_x,double d_y){x=d_x,y=d_y;}\n  double operator*(Point obj){return obj.x*x+obj.y*y;}\n  double operator%(Point obj){return obj.y*x-obj.x*y;}\n  Point operator*(double b){Point tmp;tmp.x=x*b;tmp.y=y*b;return tmp;}\n  Point operator/(double b){Point tmp;tmp.x=x/b;tmp.y=y/b;return tmp;}\n  Point operator+(Point obj){Point tmp;tmp.x=x+obj.x;tmp.y=y+obj.y;return tmp;}\n  Point operator-(){Point tmp;tmp.x=-x;tmp.y=-y;return tmp;}\n  Point operator-(Point obj){Point tmp;tmp.x=x-obj.x;tmp.y=y-obj.y;return tmp;}\n  Point operator-=(Point obj){x-=obj.x;y-=obj.y;return *this;}\n  Point operator+=(Point obj){x+=obj.x;y+=obj.y;return *this;}\n  Point operator/=(double b){x=x/b;y=y/b;return *this;}\n  Point operator*=(double b){x=x*b;y=y*b;return *this;}\n  double size(){return hypot(x,y);}\n  Point unit(){return Point(x/size(),y/size());}\n  Point normal(){return Point(y,-x);}\n  double atan(){return atan2(y,x);}\n};\n\nbool operator<(Point a,Point b){return a.x!=b.x?a.x<b.x:a.y<b.y;}\nbool operator>(Point a,Point b){return b<a;}\nbool operator<=(Point a,Point b){return !(b<a);}\nbool operator>=(Point a,Point b){return !(a<b);}\nbool operator==(Point a,Point b){return (a-b).size()<eps;}\nbool operator!=(Point a,Point b){return !(a==b);}\n\nbool equal(double a,double b){return abs(a-b)<eps;}\ndouble cross(Point a,Point b){return a%b;}\ndouble dot(Point a,Point b){return a*b;}\n\nint ccw(Point a,Point b,Point c)\n{\n  b=b-a;\n  c=c-a;\n  if(b%c>0) return +1;\n  else if(b%c<0)return -1;\n  else if(b*c<0) return +2;\n  else if(b.size()<c.size()) return -2;\n  else return 0;\n}\n\nint n;\nstring sam[10005];\nconst ll MX=1e9;\nll tonum(string s)\n{\n  return (int)atoi(s.c_str());\n}\nstring solve()\n{\n  ll upper,lower;\n  string prev;\n  upper=MX*2;lower=-MX*2;\n  prev=to_string(upper);\n  for(int i=0;i<n;i++)\n    {\n      if(sam[i]==\"x\")\n\t{\n\t  if(prev==\"x\") return \"none\";\n\t  if((i+1)%2==1)\n\t    {\n\t      upper=min(upper,tonum(prev));\n\t      if(i<n-1)upper=min(upper,tonum(sam[i+1]));\n\t    }\n\t  else\n\t    {\n\t      lower=max(lower,tonum(prev));\n\t      if(i<n-1) lower=max(lower,tonum(sam[i+1]));\n\t    }\n\t}\n      else\n\t{\n\t  if((i+1)%2==1 && prev!=\"x\")\n\t    {\n\t      if((tonum(prev))<=tonum(sam[i])) return \"none\";\n\t    }\n\t  else if(prev!=\"x\")\n\t    {\n\t      if((tonum(prev)) >=tonum(sam[i])) return \"none\";\n\t    }\n\t}\n      prev=sam[i];\n      if(upper-lower<2) return \"none\";\n    }\n  if(upper-lower>2) return \"ambiguous\";\n  return to_string((upper+lower)/2);\n}\n\t  \n\nint main(int argc,char const* argv[])\n{\n  while(1)\n    {\n      cin >> n;\n      if(!n) break;\n      for(int i=0;i<n;i++)\n\t{\n\t  cin >> sam[i];\n\t}\n      cout << solve()<<endl;\n    }\n  return 0;\n}\n\t\t\t       \n\t\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i, a, n) for(int i = a; i < n; i++)\n#define repb(i, a, b) for(int i = a; i >= b; i--)\n#define all(a) a.begin(), a.end()\n#define o(a) cout << a << endl\n#define int long long\n#define first fi;\n#define second se;\nusing namespace std;\ntypedef pair<int, int> P;\n\nint change_to_i(string s){\n    stringstream ss; int k;\n    ss<<s; ss>>k;\n    return k;\n}\n\nsigned main(){\n    int n;\n    while(cin >> n, n){\n        string s;\n        vector<int> d(n);\n        rep(i, 0, n){\n            cin >> s;\n            if(s == \"x\") d[i] = -1;\n            else d[i] = change_to_i(s);\n            // cout << d[i] << \" \";\n        }\n        // cout << endl;\n        bool f = true;\n        int l = -1e10, r = 1e10;\n        rep(i, 0, n){\n            if(d[i] == -1){\n                if(i - 1 >= 0 && d[i - 1] == -1) f = false;\n                if(i + 1 < n && d[i + 1] == -1) f = false;\n                if((i + 1) % 2){\n                    if(i - 1 >= 0) r = min(r, d[i - 1] - 1);\n                    if(i + 1 < n) r = min(r, d[i + 1] - 1);\n                }else{\n                    if(i - 1 >= 0) l = max(l, d[i - 1] + 1);\n                    if(i + 1 < n) l = max(l, d[i + 1] + 1);\n                }\n            }else{\n                if((i + 1) % 2){\n                    if(i - 1 >= 0 && d[i - 1] != -1 && d[i - 1] <= d[i]) f = false;\n                    if(i + 1 < n && d[i + 1] != -1 && d[i] >= d[i + 1]) f = false;\n                }else{\n                    if(i - 1 >= 0 && d[i - 1] != -1 &&  d[i - 1] >= d[i]) f = false;\n                    if(i + 1 < n && d[i + 1] != -1 && d[i] <= d[i + 1]) f = false;\n                }\n            }\n        }\n        // cout << l << \" \" << r << endl;\n        if(l > r) f = false;\n        if(!f) cout << \"none\" << endl;\n        else if(l == r) cout << l << endl;\n        else if(l == 1e9) cout << l << endl;\n        else if(r == -1e9) cout << r << endl;\n        else cout << \"ambiguous\" << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nint main(){\n\n    while(1){\n        int n; cin >> n;\n        if(!n) break;\n\n        string a[1002];\n        int b[1002];\n        for(int i = 0; i < n; i++){\n            cin >> a[i];\n            if(a[i][0] != 'x') b[i] = stoi(a[i]);\n        }\n\n        int u = 1000000002;\n        int d = -1000000002;\n\n        bool flag = true;\n        \n        //ｘ二個並んでないかのチェック\n        for(int i = 0; i < n - 1; i++){\n            if(a[i][0] == 'x' && a[i + 1][0] == 'x'){\n                flag = false;\n                break;\n            }\n        }\n\n        if(!flag){\n            cout << \"none\" << endl;\n            continue;\n        }\n\n        for(int i = 0; i < n; i++){\n            if(i == 0){\n                if(a[0][0] == 'x') u = b[1] - 1;\n                else{\n                    if(a[1][0] != 'x'){\n                        if(b[1] < b[0]){\n                            //cout << a[1] << endl;\n                            flag = false;\n                            break;\n                        }\n                    }\n                }\n            }else if(i == n - 1){\n                if(a[i][0] == 'x'){\n                    if(i % 2 == 0){\n                        u = min(u + 1, b[i - 1]) - 1;\n                    }else{\n                        //cout << 3 << endl;\n                        d = max(d - 1, b[i - 1]) + 1;\n                    }\n                }else{\n                    if(i % 2 == 0 && b[i] > b[i - 1]){\n                        flag = false;\n                        break;\n                    }else if(i % 2 == 1 && b[i] < b[i - 1]){\n                        flag = false;\n                        break;\n                    }\n                }\n            }else{\n\n                if(a[i][0] == 'x'){\n\n                    if(i % 2 == 0) u = min(u + 1, min(b[i - 1], b[i + 1])) - 1;\n                    else d = max(d - 1, max(b[i - 1], b[i + 1])) + 1;\n                }else{\n\n                    if(i % 2 == 0){\n                        if(a[i - 1][0] != 'x' && b[i - 1] < b[i]){\n                            flag = false;\n                            break;\n                        }\n                        if(a[i + 1][0] != 'x' && b[i + 1] < b[i]){\n                            flag = false;\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n\n        //cout << u << \" \" << d << endl;\n        if(!flag || u < d) cout << \"none\" << endl;\n        else if(u == d) cout << u << endl;\n        else cout << \"ambiguous\" << endl;\n    }\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <iostream>\n#include <string>\nusing namespace std;\nint n;\nint data[1001];\nbool xx[1001];\n\nint main(void){\n\twhile(1){\n\t\tscanf(\"%d\",&n);\n\t\tif(n==0)break;\n\t\tmemset(xx,false,sizeof(xx));\n\t\tmemset(data,false,sizeof(data));\n\t\tfor(int i=0;i<n;i++){\n\t\t\tstring str;\n\t\t\tcin >> str;\n\t\t\tif(str==\"x\")xx[i]=true;\n\t\t\telse{\n\t\t\t\tint num=0;\n\t\t\t\tfor(int j=0;j<str.size();j++){\n\t\t\t\t\tnum*=10;\n\t\t\t\t\tnum+=str[j]-'0';\n\t\t\t\t}\n\t\t\t\tdata[i]=num;\n\t\t\t}\n\t\t}\n\t\tint lx=-2e9,rx=2e9;\n\t\tbool flag=true;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tif(i%2==0){\n\t\t\t\tif(!xx[i]){\n\t\t\t\t\tif(i+1<n && !xx[i+1] && data[i]>=data[i+1]){\n\t\t\t\t\t\tflag=false;\n\t\t\t\t\t}\n\t\t\t\t\tif(i-1>0 && !xx[i-1] && data[i]>=data[i-1]){\n\t\t\t\t\t\tflag=false;\n\t\t\t\t\t}\n\t\t\t\t\tif(i+1<n && xx[i+1]){\n\t\t\t\t\t\tlx=max(lx,data[i]+1);\n\t\t\t\t\t}\n\t\t\t\t\tif(i-1>0 && xx[i-1]){\n\t\t\t\t\t\tlx=max(lx,data[i]+1);\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(i+1<n && !xx[i+1]){\n\t\t\t\t\t\trx=min(rx,data[i+1]-1);\n\t\t\t\t\t}\n\t\t\t\t\tif(i-1>0 && !xx[i-1]){\n\t\t\t\t\t\trx=min(rx,data[i-1]-1);\n\t\t\t\t\t}\n\t\t\t\t\tif(i+1<n && xx[i+1]){\n\t\t\t\t\t\tflag=false;\n\t\t\t\t\t}\n\t\t\t\t\tif(i-1>0 && xx[i-1]){\n\t\t\t\t\t\tflag=false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(i%2==1){\n\t\t\t\tif(!xx[i]){\n\t\t\t\t\tif(i+1<n && !xx[i+1] && data[i]<=data[i+1]){\n\t\t\t\t\t\tflag=false;\n\t\t\t\t\t}\n\t\t\t\t\tif(i-1>0 && !xx[i-1] && data[i]<=data[i-1]){\n\t\t\t\t\t\tflag=false;\n\t\t\t\t\t}\n\t\t\t\t\tif(i+1<n && xx[i+1]){\n\t\t\t\t\t\trx=min(rx,data[i]-1);\n\t\t\t\t\t}\n\t\t\t\t\tif(i-1>0 && xx[i-1]){\n\t\t\t\t\t\trx=min(rx,data[i]-1);\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(i+1<n && !xx[i+1]){\n\t\t\t\t\t\tlx=max(lx,data[i+1]+1);\n\t\t\t\t\t}\n\t\t\t\t\tif(i-1>0 && !xx[i-1]){\n\t\t\t\t\t\tlx=max(lx,data[i-1]+1);\n\t\t\t\t\t}\n\t\t\t\t\tif(i+1<n && xx[i+1]){\n\t\t\t\t\t\tflag=false;\n\t\t\t\t\t}\n\t\t\t\t\tif(i-1>0 && xx[i-1]){\n\t\t\t\t\t\tflag=false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(!flag || lx>rx)printf(\"none\\n\");\n\t\telse if(lx!=rx)printf(\"ambiguous\\n\");\n\t\telse printf(\"%d\\n\",lx);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<stdlib.h>\n#include<algorithm>\n#define INF 1000000001\n#define MIN -1000000002\n#define MAX 1000000002\nusing namespace std;\n\nint main()\n{\n\tint n;\n\twhile (cin >> n && n != 0)\n\t{\n\t\tlong a[1000 + 1];\n\t\tlong mn = -1e10;\n\t\tlong mx = 1e10;\n\t\tfor (int i = 1; i <= n; i++)\n\t\t{\n\t\t\tstring s;\n\t\t\tcin >> s;\n\t\t\tif (s.compare(\"x\") == 0)\n\t\t\t{\n\t\t\t\ta[i] = INF;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\ta[i] = atol(s.c_str());\n\t\t\t}\n\t\t}\n\t\tfor (int i = 1; i <= n; i++)\n\t\t{\n\t\t\tif (i + 1 <= n && a[i] == INF&& a[i + 1] == INF)\n\t\t\t{\n\t\t\t\tmn = MAX;\n\t\t\t\tmx = MIN;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (a[i] == INF)continue;\n\t\t\tif (i % 2 == 0)\n\t\t\t{\n\t\t\t\tif ((i - 1 >= 1 && a[i - 1] == INF) || (i + 1 <= n&& a[i + 1] == INF))\n\t\t\t\t{\n\t\t\t\t\tmx = min(mx, a[i] - 1);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif (i + 1 <= n && a[i] <= a[i + 1])\n\t\t\t\t\t{\n\t\t\t\t\t\tmn = MAX;\n\t\t\t\t\t\tmx = MIN;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif ((i - 1 >= 1 && a[i - 1] == INF) || (i + 1 <= n&& a[i + 1] == INF))\n\t\t\t\t{\n\t\t\t\t\tmn = max(mn, a[i] + 1);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif (i + 1 <= n && a[i] >= a[i + 1])\n\t\t\t\t\t{\n\t\t\t\t\t\tmn = MAX;\n\t\t\t\t\t\tmx = MIN;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << mx << endl;\n\t\tcout << mn << endl;\n\t\tif (mx == mn)\n\t\t{\n\t\t\tcout << mx << endl;\n\t\t}\n\t\telse if (mx < mn)\n\t\t{\n\t\t\tcout << \"none\" << endl;\n\t\t}\n\t\telse if (mn < mx)\n\t\t{\n\t\t\tcout << \"ambigious\" << endl;\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <sstream>\n#include <cstdio>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <ctime>\n#include <vector>\n#include <string>\n#include <map>\n#include <set>\n#include <deque>\n#include <queue>\n#include <stack>\n#include <functional>\n#include <algorithm>\n\nusing namespace std;\n\n#define rep(i,j) REP((i), 0, (j))\n#define REP(i,j,k) for(int i=(j);(i)<(k);++i)\n#define BW(a,x,b) ((a)<=(x)&&(x)<=(b))\n#define ALL(v) (v).begin(), (v).end()\n#define LENGTHOF(x) (sizeof(x) / sizeof(*(x)))\n#define AFILL(a, b) fill((int*)a, (int*)(a + LENGTHOF(a)), b)\n#define SQ(x) ((x)*(x))\n#define Mod(x, mod) (((x)+(mod)%(mod))\n#define MP make_pair\n#define PB push_back\n#define Fi first\n#define Se second\n#define INF (1LL<<60)\n#define EPS 1e-10\n#define MOD 1000000007\n\ntypedef pair<int, int> pi;\ntypedef pair<int, pi> pii;\ntypedef vector<int> vi;\ntypedef queue<int> qi;\ntypedef long long ll;\n\nint main()\n{\n  int N;\n  ll a[1024];\n  while(1){\n    cin >> N;\n    if(N == 0) break;\n    rep(i, N){\n      string s;\n      cin >> s;\n      if(s == \"x\"){\n\ta[i] = -1;\n      }else{\n\ta[i] = stoi(s);\n      }\n    }\n\n    ll b[2];\n    b[0] = -1;\n    b[1] = INF;\n    rep(i, N){\n      if(a[i] == -1) continue;\n      if(i&1) b[i&1] = min(b[i&1], a[i]);\n      else b[i&1] = max(b[i&1], a[i]);\n    }\n\n    ll b1[2]; b1[0] = -1; b1[1] = INF;\n    if(a[0] == -1) b1[1] = min(b1[1], a[1]);\n    for(int i=1;i<N-1;i++){\n      if(a[i] != -1) continue;\n      if(i&1) b1[0] = max(b1[0], max(a[i-1], a[i+1]));\n      else b1[1] = min(b1[1], min(a[i-1], a[i+1]));\n    }\n    if(a[N-1] == -1){\n      if((N-1)&1) b1[0] = max(b1[0], a[N-2]);\n      else b1[1] = min(b1[1], a[N-2]);\n    }\n\n    if(b1[1] - b1[0] == 2){\n      cout << b1[0] + 1 << endl;\n    }else if((b[1] == INF && b[0] == -1) || b[1] - b[0] < 0 || b1[1] - b1[2] < 2){\n      cout << \"none\\n\";\n    }else{\n      cout << \"ambiguous\\n\";\n    }\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef vector<int> vi;\ntypedef vector<vi> vii;\ntypedef vector<string> vs;\ntypedef vector<bool> vb;\ntypedef vector<vb> vbb;\ntypedef pair<int, int> pii;\ntypedef long long ll;\ntypedef unsigned long long ull;\n\n#define all(a)  (a).begin(),(a).end()\n#define rall(a) (a).rbegin(), (a).rend()\n#define pb push_back\n#define mp make_pair\n\n#define loop(i,a,b) for(int i=(a);i<ull(b);++i)\n#define rep(i,n) loop(i,0,n)\n\nconst double eps = 1e-10;\nconst double pi  = acos(-1.0);\nconst double inf = (int)1e9+10;\n\nbool isIn(int x, int n){\n     return 0 <= x && x < n;\n}\n\nint main(){\n    int n;\n    while(cin >> n, n){\n        vector<string> v(n);\n        rep(i, n) cin >> v[i];\n        bool none = false;\n        rep(i, n-1){\n            if(v[i] == v[i+1] && v[i+1] == \"x\") none = true;\n            if(v[i] != \"x\" && v[i+1] != \"x\"){\n                if(i%2 == 0 && v[i] >= v[i+1]) none = true;\n                else if(i%2 == 1 && v[i] <= v[i+1]) none = true;\n            }\n        }\n        if(none){cout << \"none\" << endl; continue;}\n        int upper = inf, lower = -inf-20;\n\n        rep(i, n){\n            if(v[i] == \"x\"){\n                if(i%2 == 0){\n                    int a=inf, b=inf;\n                    if(isIn(i-1, v.size()) && v[i-1] != \"x\") a = stoi(v[i-1]);\n                    if(isIn(i+1, v.size()) && v[i+1] != \"x\") b = stoi(v[i+1]);\n                    upper = min(upper, min(a, b));\n                } else {\n                    int a=0, b=0;\n                    if(isIn(i-1, v.size()) && v[i-1] != \"x\") a = stoi(v[i-1]);\n                    if(isIn(i+1, v.size()) && v[i+1] != \"x\") b = stoi(v[i+1]);\n                    lower = max(lower, max(a, b));\n                }\n            }\n        }\n        if(upper-lower < 2) cout << \"none\" << endl;\n        else if(upper-2 == lower) cout << upper-1 << endl;\n        else cout << \"ambiguous\" << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <vector>\n#include <set>\n#include <map>\n#include <queue>\n#include <deque>\n#include <stack>\n#include <algorithm>\n#include <cstring>\n#include <functional>\n#include <cmath>\n#include <sstream>\nusing namespace std;\n#define rep(i,n) for(int i=0;i<(n);++i)\n#define rep1(i,n) for(int i=1;i<=(n);++i)\n#define all(c) (c).begin(),(c).end()\n#define fs first\n#define sc second\n#define pb push_back\n#define show(x) cout << #x << \" \" << x << endl\nint n,a[1000];\nbool broken[1000];\nint To_int(string s){\n\tistringstream is(s);\n\tint ret;\n\tis>>ret;\n\treturn ret;\n}\nstring To_string(int a){\n\tostringstream os;\n\tos << a;\n\treturn os.str();\n}\nstring solve(){\n\trep(i,n){\n\t\tstring s;\n\t\tcin>>s;\n\t\tif(s[0]=='x') broken[i]=true;\n\t\telse a[i]=To_int(s),broken[i]=false;\n\t}\n\trep(i,n-1) if(broken[i]&&broken[i+1]) return \"none\";\n\trep(i,n-1){\n\t\tif(!broken[i]&&!broken[i+1]){\n\t\t\tif(i%2==0&&a[i]>=a[i+1]) return \"none\";\n\t\t\tif(i%2==1&&a[i]<=a[i+1]) return \"none\";\n\t\t}\n\t}\n\tint ub=1e9+4,lb=-1e9-4;\n\trep(i,n){\n\t\tif(broken[i]){\n\t\t\tif(i>0){\n\t\t\t\tif(i%2==1) lb=max(lb,a[i-1]+1);\n\t\t\t\telse ub=min(ub,a[i-1]-1);\n\t\t\t}\n\t\t\tif(i<n-1){\n\t\t\t\tif(i%2==1) lb=max(lb,a[i+1]+1);\n\t\t\t\telse ub=min(ub,a[i+1]-1);\n\t\t\t}\n\t\t}\n\t}\n\tif(ub<lb) return \"none\";\n\tif(ub==lb) return To_string(ub);\n\treturn \"ambiguous\";\n}\nint main(){\n\twhile(true){\n\t\tcin>>n;\n\t\tif(n==0) break;\n\t\tcout<<solve()<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <algorithm>\n#include <cstdlib>\nusing namespace std;\n#define F (1000000003)\n\nint main(){\n    int i,j,n,cf,ct,nanf,cnt;\n    char s[11];\n\n    while(1){\n        scanf(\"%d\",&n);\n        if(!n){break;}\n        int l[n];\n        for(i=0;i<n;i++){\n            scanf(\"%s\",s);\n            if(s[0]!='x'){\n                l[i]=atoi(s);\n            }\n            else{\n                l[i]=0;\n            }\n        }\n        cf=-F;ct=F;nanf=0;\n        if((l[0]>l[1] && l[1]) || (!l[0]&&!l[1])){nanf=1;}\n        else if(!l[0] && l[1]){ct=l[1];}\n        for(i=1;i<n-1&&!nanf;i++){\n            if(i%2){\n                if((l[i] && l[i]<l[i+1]) || (!l[i]&&!l[i+1])){nanf=1;}\n                else if(!l[i]){cf=max({cf,l[i-1],l[i+1]});}\n            }\n            else{\n                if((l[i] && l[i]>l[i+1]) || (!l[i]&&!l[i+1])){nanf=1;}\n                else if(!l[i]){ct=min({ct,l[i-1],l[i+1]});}\n            }\n        }\n        if(!l[n-1]){\n            if((n-1)%2){\n                cf=max({cf,l[n-2]});\n            }\n            else{\n                ct=min({ct,l[n-2]});\n            }\n        }\n        cnt=ct-cf-1;\n        if(nanf){printf(\"none\\n\");}\n        else if(cnt==1){printf(\"%d\\n\",cf+1);}\n        else{printf(\"ambiguous\\n\");}\n    }\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <cmath>\n#include <cstdio>\n#include <functional>\n#include <numeric>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <utility>\n#include <sstream>\n#include <complex>\n#include <fstream>\n#include <bitset>\n#include <time.h>\n#include <tuple>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<ll, ll> P;\ntypedef vector<ll> V;\ntypedef complex<double> Point;\n\n#define PI acos(-1.0)\n#define EPS 1e-10\nconst ll INF = (1LL << 60) - 1;\nconst ll MOD = 1e9 + 7;\n\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define rep(i,N) for(int i=0;i<(N);i++)\n#define ALL(s) (s).begin(),(s).end()\n#define EQ(a,b) (abs((a)-(b))<EPS)\n#define EQV(a,b) ( EQ((a).real(), (b).real()) && EQ((a).imag(), (b).imag()) )\n#define fi first\n#define se second\n#define N_SIZE (1LL << 20)\n#define NIL -1\n#define MAX_N 100100 * 3\n\nint n;\nll a[100100];\n\nll changei(string s) {\n\tll res;\n\tstringstream ss;\n\tss << s;\n\tss >> res;\n\treturn res;\n}\n\nint main() {\n\twhile (cin >> n&&n) {\n\t\tll lb = -INF, ub = INF;\n\t\tbool f = 0;\n\t\trep(i, n) {\n\t\t\tstring num;\n\t\t\tcin >> num;\n\t\t\tif (num == \"x\")a[i] = -1;\n\t\t\telse a[i] = changei(num);\n\t\t}\n\t\trep(i, n - 1) {\n\t\t\tif (i % 2==0) {\n\t\t\t\tif (a[i] == -1) {\n\t\t\t\t\tif (a[i + 1] == -1)f = 1;\n\t\t\t\t\telse ub = min(a[i + 1] - 1, ub);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (a[i + 1] == -1)lb = max(a[i] + 1, lb);\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (a[i] >= a[i + 1])f = 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (a[i] == -1) {\n\t\t\t\t\tif (a[i + 1] == -1)f = 1;\n\t\t\t\t\telse lb = max(a[i + 1] + 1, lb);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (a[i + 1] == -1)ub = min(a[i] - 1, ub);\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (a[i] <= a[i + 1])f = 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t//cout << lb << \" \" << ub << endl;\n\t\tif (lb > ub)f = 1;\n\t\tif (f)cout << \"none\" << endl;\n\t\telse {\n\t\t\tif (lb == ub)cout << lb << endl;\n\t\t\telse cout << \"ambiguous\" << endl;\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\n\n//#define int long long\n#define DBG 1\n#define dump(o) if(DBG){cerr<<#o<<\" \"<<(o)<<endl;}\n#define dumpc(o) if(DBG){cerr<<#o; for(auto &e:(o))cerr<<\" \"<<e;cerr<<endl;}\n#define rep(i,a,b) for(int i=(a);i<(b);i++)\n#define rrep(i,a,b) for(int i=(b)-1;i>=(a);i--)\n#define all(c) begin(c),end(c)\nconst int INF = sizeof(int) == sizeof(long long) ? 0x3f3f3f3f3f3f3f3fLL : 0x3f3f3f3f;\nconst int MOD = (int)(1e9 + 7);\n\nsigned main() {\n\tfor (int N; cin >> N&&N;) {\n\t\tvector<string> v(N); rep(i, 0, N) { cin >> v[i]; }\n\t\tbool none = false;\n\t\trep(i, 1, N) {\n\t\t\tif (v[i] == \"x\"&&v[i - 1] == \"x\") {\n\t\t\t\tnone = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (v[i - 1] != \"x\"&&v[i] != \"x\") {\n\t\t\t\tif (i & 1) {\n\t\t\t\t\tif (v[i - 1] >= v[i]) {\n\t\t\t\t\t\tnone = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (v[i - 1] <= v[i]) {\n\t\t\t\t\t\tnone = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (none) {\n\t\t\tcout << \"none\" << endl;\n\t\t\tcontinue;\n\t\t}\n\t\tint l = -INF, r = INF;\n\t\trep(i, 0, N) {\n\t\t\tif (v[i] != \"x\") continue;\n\t\t\tif (i & 1) {\n\t\t\t\tif (i != 0)l = max(l, stoi(v[i - 1]) + 1);\n\t\t\t\tif (i != N - 1)l = max(l, stoi(v[i + 1]) + 1);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (i != 0)r = min(r, stoi(v[i - 1]) - 1);\n\t\t\t\tif (i != N - 1)r = min(r, stoi(v[i + 1]) - 1);\n\t\t\t}\n\t\t}\n\t\tif (l == r) {\n\t\t\tcout << l << endl;\n\t\t}\n\t\telse if (l < r) {\n\t\t\tcout << \"ambiguous\" << endl;\n\t\t}\n\t\telse {\n\t\t\tcout << \"none\" << endl;\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <string>\n#include <cmath>\n#include <cassert>\n#include <iostream>\n#include <algorithm>\n#include <stack>\n#include <queue>\n#include <vector>\n#include <set>\n#include <map>\n#include <bitset>\n#include <functional>\n#include <numeric>\nusing namespace std;\n\n#define repl(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define rep(i,n) repl(i,0,n)\n#define mp(a,b) make_pair((a),(b))\n#define pb(a) push_back((a))\n#define all(x) (x).begin(),(x).end()\n#define dbg(x) cout<<#x\"=\"<<((x))<<endl\n#define fi first\n#define se second\n\n#define INF 2147483600\n#define long long long\n#define BIG 1000000000\n\nint solve(vector<int> &vec){\n  int n=vec.size();\n  // check\n  rep(i,n-1){\n    if(vec[i]==INF && vec[i+1]==INF) return -INF;\n    if(vec[i]!=INF && vec[i+1]!=INF){\n      if(i%2==0) if(vec[i] >= vec[i+1]) return -INF;\n      if(i%2==1) if(vec[i] <= vec[i+1]) return INF;\n    }\n  }\n  int lb=-BIG, ub=BIG;\n  repl(i,1,n-1) if(vec[i]==INF){\n    if(i%2==0){\n      ub = min(ub, min(vec[i-1], vec[i+1])-1);\n    } else {\n      lb = max(lb, max(vec[i-1], vec[i+1])+1);\n    }\n  }\n  if(vec[0]==INF) lb = max(lb, vec[1]+1);\n  if(vec[n-1]==INF){\n    if(n%2==1) ub = min(ub, vec[n-2]-1);\n    else lb = max(lb, vec[n-2]+1);\n  }\n  if(lb==ub) return lb;\n  else if(lb<ub) return INF;\n  else return -INF;\n}\n\nint main(){\n  int n;\n  while(cin>>n, n){\n    char tmp[15];\n    vector<int> vec(n);\n    rep(i,n){\n      scanf(\"%s\", tmp);\n      if(tmp[0]=='x') vec[i]=INF;\n      else vec[i] = atoi(tmp);\n    }\n    int ret = solve(vec);\n    if(ret==INF) cout<<\"ambiguous\"<<endl;\n    else if(ret==-INF) cout<<\"none\"<<endl;\n    else cout<<ret<<endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nconst int INF = 1 << 30;\n\nint main() {\n    int n;\n    while (cin >> n, n > 0) {\n        vector<int> a(n);\n        for (auto &i : a) {\n            char c[100]; cin >> c;\n            if (!strcmp(\"x\", c)) i = INF;\n            else i = atoi(c);\n        }\n\n        int l = -INF, u = INF;\n        bool flag = false;\n        for (int i = 0; !flag && i < n; i++) {\n            if (i > 0 && a[i-1] == INF && a[i] == INF) flag = true;\n            if (i % 2 && a[i-1] != INF && a[i] != INF && a[i] <= a[i-1]) flag = true;\n            if (i + 1 < n && i % 2 == 0 && a[i+1] != INF && a[i] != INF && a[i] >= a[i+1]) flag = true;\n            if (a[i] == INF) {\n                if (i % 2) {\n                    if (i > 0) l = max(l, a[i-1]+1);\n                    if (i + 1 < n) l = max(l, a[i+1]+1);\n                } else {\n                    if (i > 0) u = min(u, a[i-1]-1);\n                    if (i + 1 < n) u = min(u, a[i+1]-1);\n                }\n            }\n        }\n\n        if (flag || l > u) cout << \"none\" << endl;\n        else if (l == u) cout << l << endl;\n        else cout << \"ambiguous\" << endl;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<string>\n#include<algorithm>\t\n#include<map>\n#include<set>\n#include<utility>\n#include<cmath>\n#include<cstring>\n#include<queue>\n#include<stack>\n#include<cstdio>\n#include<sstream>\n#include<iomanip>\n#include<assert.h>\n#define loop(i,a,b) for(int i=a;i<b;i++) \n#define rep(i,a) loop(i,0,a)\n#define pb push_back\n#define all(in) in.begin(),in.end()\n#define shosu(x) fixed<<setprecision(x)\nusing namespace std;\n//kaewasuretyuui\ntypedef long long ll;\ntypedef int Def;\ntypedef pair<Def,Def> pii;\ntypedef vector<Def> vi;\ntypedef vector<vi> vvi;\ntypedef vector<pii> vp;\ntypedef vector<vp> vvp;\ntypedef vector<string> vs;\ntypedef vector<double> vd;\ntypedef vector<vd> vvd;\ntypedef pair<Def,pii> pip;\ntypedef vector<pip>vip;\n//#define mt make_tuple\n//typedef tuple<double,int,double> tp;\n//typedef vector<tp> vt;\ntemplate<typename A,typename B>bool cmin(A &a,const B &b){return a>b?(a=b,true):false;}\ntemplate<typename A,typename B>bool cmax(A &a,const B &b){return a<b?(a=b,true):false;}\nconst double PI=acos(-1);\nconst double EPS=1e-7;\nDef inf = sizeof(Def) == sizeof(long long) ? 2e18 : 2e9;\nint dx[]={0,1,0,-1};\nint dy[]={1,0,-1,0};\nint main(){\n\tint n;\n\twhile(cin>>n,n){\n\t\tvi in(n+2);\n\t\tin[0]=inf+1;\n\t\trep(i,n){\n\t\t\tstring s;\n\t\t\tcin>>s;\n\t\t\tif(s==\"x\")in[i+1]=inf;\n\t\t\telse in[i+1]=to_string(s);\n\t\t}\n\t\tin[n+1]=(n%2?inf+1:-inf-1);\n\t\tint mi=inf,ma=-inf;\n\t\trep(i,n)if(in[i+1]==inf){\n\t\t\tif(i%2){\n\t\t\t\tcmin(mi,max(in[i],in[i+2]));\n\t\t\t}else{\n\t\t\t\tcmax(ma,min(in[i],in[i+2]));\n\t\t\t}\n\t\t}\n\t\tbool h=true;\n\t\trep(i,n+1){\n\t\t\tif(in[i]==inf&&in[i+1]==inf)h=false;\n\t\t\tif(in[i]!=inf&&in[i+1]!=inf){\n\t\t\t\tif(i%2&&in[i]>=in[i+1]||i%2==0&&in[i]<=in[i+1]){\n\t\t\t\t\th=false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(!h)cout<<\"none\"<<endl;\n\t\telse if(ma-mi==2)cout<<ma-1<<endl;\n\t\telse if(ma-mi>2)cout<<\"ambiguous\"<<endl;\n\t\telse cout<<\"none\"<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 1000000100\n\n#include <iostream>\n#include <cstdio>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n  \nusing namespace std;\n  \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P> PP;\n  \nstatic const double EPS = 1e-8;\n\n\nbool check(vector<int> signals){\n  bool is_none = false;\n  for(int i=0;i<signals.size();i++){\n    int lhs = i - 1;\n    int rhs = i + 1;\n    if(lhs >= 0 && signals[lhs] != INF){\n      if((i + 1) % 2 == 0){\n        if(signals[i] < signals[lhs]){\n          is_none = true;\n          break;\n        }\n      }\n      else{\n        if(signals[i] > signals[lhs]){\n          is_none = true;\n          break;\n        }\n      }\n    }\n    if(rhs < signals.size() && signals[rhs] != INF){\n      if((i + 1) % 2 == 0){\n        if(signals[i] < signals[rhs]){\n          is_none = true;\n          break;\n        }\n      }\n      else{\n        if(signals[i] > signals[rhs]){\n          is_none = true;\n          break;\n        }\n      }\n    }\n  }\n  return !is_none;\n}\n\nint main(){\n  int N;\n  while(~scanf(\"%d\",&N)){\n    if(N == 0) break;\n\n    vector<int> signals;\n    queue<int> unknown;\n\n    bool has_x = false;\n    bool has_num = false;\n    for(int i=0; i < N; i++){\n      char signal[12];\n      int num;\n      scanf(\"%s\",signal);\n      if(signal[0] != 'x'){\n        num = atoi(signal);\n        has_num = true;\n      }\n      else{\n        num = INF;\n        has_x = true;\n        unknown.push(i);\n      }\n      signals.push_back(num);\n    }\n    \n    if(has_num && has_x){\n      //x x 1 x\n      int lower = -INF;\n      int upper = INF;\n      \n      while(!unknown.empty()){\n        int idx = unknown.front();\n        unknown.pop();\n        int lhs = idx - 1;\n        int rhs = idx + 1;\n        \n        //even\n        if((idx+1) % 2 == 0){\n          if(lhs >= 0 && signals[lhs] != INF) {\n            lower = max(signals[lhs]+1,lower);\n          }\n          if(rhs < signals.size() && signals[rhs] != INF){\n            lower = max(signals[rhs]+1,lower);\n          }\n        }\n        //odd\n        else{\n          if(rhs < signals.size() && signals[rhs] != INF){\n            upper = min(signals[rhs]-1,upper);\n          }\n          if(lhs >= 0 && signals[lhs] != INF){\n            upper = min(signals[lhs]-1,upper);\n          }\n        }\n      }\n\n      if(upper > lower){\n        printf(\"ambiguous\\n\");\n      }\n      else if(upper == lower){\n        for(int i=0;i<signals.size();i++){\n          if(signals[i] == INF){\n            signals[i] = lower;\n          }\n        }\n        bool isok = check(signals);\n        if(isok){\n          printf(\"%d\\n\",upper);\n        }\n        else{\n          printf(\"none\\n\");\n        }\n      }\n      else if(upper < lower){\n        printf(\"none\\n\");\n      }\n    }\n\n    else if(!has_num && has_x){\n      //x x x\n      printf(\"none\\n\");\n    }\n    else if(has_num && !has_x){\n      //1 2 3\n      \n      bool isok = check(signals);\n      printf(\"%s\\n\", !isok ? \"none\" : \"ambiguous\");\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdint>\n#include <iostream>\n#include <string>\n#include <vector>\n\nusing namespace std;\n\nbool is_valid(vector<string> signals) {\n  for (uint32_t i = 0; i < signals.size() - 1; i++) {\n    if (signals[i] == \"x\" && signals[i + 1] == \"x\") {\n      return false;\n    }\n    if (signals[i] != \"x\" && signals[i + 1] != \"x\") {\n      int32_t sig1 = stoi(signals[i]);\n      int32_t sig2 = stoi(signals[i + 1]);\n      if (i % 2 == 0) {\n        if (sig1 >= sig2) {\n          return false;\n        }\n      } else {\n        if (sig1 <= sig2) {\n          return false;\n        }\n      }\n    }\n  }\n  return true;\n}\n\nint32_t main() {\n  while (true) {\n    uint32_t N;\n    cin >> N;\n\n    if (N == 0) break;\n\n    vector<string> signals;\n    for (uint32_t i = 0; i < N; i++) {\n      string str;\n      cin >> str;\n      signals.push_back(str);\n    }\n\n    int64_t x_max = INT64_MIN;\n    int64_t x_min = INT64_MAX;\n    bool valid = true;\n    if (valid = is_valid(signals)) {\n      for (uint32_t i = 0; i < signals.size(); i++) {\n        if (signals[i] == \"x\") {\n          if (i % 2 == 0) {\n            if (i > 0) {\n              x_min = min(x_min, stol(signals[i - 1]) - 1);\n            }\n            if (i + 1 < signals.size()) {\n              x_min = min(x_min, stol(signals[i + 1]) - 1);\n            }\n          } else {\n            if (i > 0) {\n              x_max = max(x_max, stol(signals[i - 1]) + 1);\n            }\n            if (i + 1 < signals.size()) {\n              x_max = max(x_max, stol(signals[i + 1]) + 1);\n            }\n          }\n        }\n      }\n    }\n\n    if (valid) {\n      if (x_max == x_min) {\n        cout << x_max << endl;\n      } else if (x_max == INT64_MIN || x_min == INT64_MAX) {\n        cout << \"ambiguous\" << endl;\n      } else {\n        cout << \"none\" << endl;\n      }\n    } else {\n      cout << \"none\" << endl;\n    }\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <string>\nusing namespace std;\n\nint main(){\n    while(1){\n        int n;\n        cin >> n;\n        if(n==0) break;\n\n        vector<int> signal(n+2);\n        vector<bool> broken(n+2, false);\n        for(int i=1; i<=n; i++){\n            string str;\n            cin >> str;\n            if(str == \"x\"){\n                broken[i] = true;\n            }else{\n                signal[i] = stoi(str);\n            }\n        }\n        signal[0] = 1e9+10;\n        signal[n+1] = (n%2==0)? -(1e9+10) :1e9+10;\n\n        int upper = 1e9+10, lower = -(1e9+10);\n        bool none = false;\n        for(int i=1; i<=n; i++){\n            if(broken[i]){\n                if(broken[i-1] || broken[i+1]){\n                    none = true;\n                    break;\n                }\n                if(i%2==0){\n                    lower = max(lower, max(signal[i-1], signal[i+1])+1);\n                }else{\n                    upper = min(upper, min(signal[i-1], signal[i+1])-1);\n                }\n            }else{\n                if(i%2==0){\n                    if((!broken[i-1] && signal[i] < signal[i-1]) ||\n                       (!broken[i+1] && signal[i] < signal[i+1])){\n                        none = true;\n                    }\n                }else{\n                    if((!broken[i-1] && signal[i] > signal[i-1]) ||\n                       (!broken[i+1] && signal[i] > signal[i+1])){\n                        none = true;\n                    }\n                }\n            }\n        }\n\n        if(lower > upper) none = true;\n        if(none){\n            cout << \"none\" << endl;\n        }else if(lower == upper){\n            cout << lower << endl;\n        }else{\n            cout <<  \"ambiguous\" << endl;\n        }\n\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nconst int INF = 0x7fffffff;\n\nint N;\n\nstring solve(void){\n    int v[1000];\n    vector<int> xv;\n    fill(v, v + N, INF);\n    for(int x = 0; x < N; x++){\n        string s;\n        cin >> s;\n        if(s == \"x\"){\n            xv.push_back(x);\n        }else{\n            v[x] = stoi(s);\n        }\n    }\n    for(int x = 0; x < N-1; x++){\n        if(v[x] == INF || v[x+1] == INF) continue;\n        if(x%2 == 0 && v[x] >= v[x+1]) return \"none\";\n        if(x%2 &&      v[x] <= v[x+1]) return \"none\";\n    }\n    int min_v = -INF, max_v = INF;\n    for(int i = 0; i < xv.size(); i++){\n        if(i < N-1 && v[xv[i]+1] == INF) return \"none\";\n        if(0 < i   && v[xv[i]-1] == INF) return \"none\";\n        if(xv[i] % 2){\n            min_v = max(min_v, v[xv[i]-1]+1);\n            if(xv[i] < N-1) min_v = max(min_v, v[xv[i]+1]+1);\n        }else{\n            if(xv[i]) max_v = min(max_v, v[xv[i]-1]-1);\n            if(xv[i] < N-1) max_v = min(max_v, v[xv[i]+1]-1);\n        }\n    }\n    if(min_v > max_v){\n        return \"none\";\n    }else if(min_v == max_v){\n        stringstream ss;\n        ss << min_v;\n        return ss.str();\n    }\n    return string(\"ambiguous\");\n}\n\nint main(){\n    while(cin >> N && N){\n        cout << solve() << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\ntypedef pair<int,int>pint;\ntypedef vector<int>vint;\n#define pb push_back\n#define mp make_pair\n#define rep(i,n) for(int i=0;i<(n);i++)\ntemplate<class T,class U>void chmin(T &t,U f){if(t>f)t=f;}\ntemplate<class T,class U>void chmax(T &t,U f){if(t<f)t=f;}\nint toint(string &s){stringstream ss(s);int ret;ss>>ret;return ret;}\nstring tostring(int d){stringstream ss;ss<<d;return ss.str();}\n\nconst int X=-1;\n\nint get(){\n    string str;\n    cin>>str;\n    if(str==\"x\")return X;\n    return toint(str);\n}\n\nstring solve(vint &v){\n    bool none=false;\n    int N=v.size();\n    rep(i,N-1){\n        if(v[i]==X&&v[i+1]==X)none=true;\n\n        if(v[i]==X)continue;\n        if(v[i+1]==X)continue;\n\n        if(i&1){\n            if(v[i]<=v[i+1])none=true;\n        }\n        else{\n            if(v[i]>=v[i+1])none=true;\n        }\n    }\n\n    if(none)return \"none\";\n\n    int l=-1000000000-10,u=1000000000+10;\n\n    rep(i,N){\n        if(v[i]!=X)continue;\n\n        if(i&1){\n            if(i)l=max(l,v[i-1]+1);\n            if(i<N-1)l=max(l,v[i+1]+1);\n        }\n        else{\n            if(i)u=min(u,v[i-1]-1);\n            if(i<N-1)u=min(u,v[i+1]-1);\n        }\n    }\n\n    if(l==u)return tostring(l);\n    if(l>u)return \"none\";\n    return \"ambiguous\";\n}\n\nint  main(){\n    int N;\n    while(cin>>N,N){\n        vint vec(N);\n        rep(i,N)vec[i]=get();\n        cout<<solve(vec)<<endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdlib>\nusing namespace std;\n\n#define MAX_N 1000000000\n\nint main()\n{\n  while(1){\n    int n;\n    cin >> n;\n    if(n == 0) break;\n    int a[n];\n    for(int i = 0; i < n; i++){\n      string s;\n      cin >> s;\n      a[i] = s == \"x\" ? MAX_N+1 : atoi(s.c_str());\n    } \n    long long int l = -9999999999-3, u = MAX_N+3;\n    for(int i = 0; i < n-1; i++){\n      if(a[i] == MAX_N+1){\n        if(a[i+1] == MAX_N+1){\n          u = l-1;\n          break;\n        }else{\n          if((i+1) & 1){\n            u = a[i+1];\n          }else{\n            l = a[i+1];\n          }\n        }\n      }else{\n        if(a[i+1] == MAX_N+1){\n          if((i+1) & 1){\n            l = a[i];\n          }else{\n            u = a[i];\n          }\n        }else{\n          if((i+1) & 1){\n            if(a[i] >= a[i+1]){\n              u = l-1;\n              break;\n            }\n          }else{\n            if(a[i] <= a[i+1]){\n              u = l-1;\n              break;\n            }\n          }\n        }\n      }\n    }\n    if(u - l - 1 > 1)\n      cout << \"ambiguous\" << endl;\n    else if(u - l - 1 <= 0)\n      cout << \"none\" << endl;\n    else\n      cout << (u+l)/2 << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<sstream>\nusing namespace std;\nint s2i(string str){\n  istringstream ss(str);\n  int n;\n  ss >> n;\n  return n;\n}\nint main(){\n  int n;\n  cin >> n;\n  int i,j,k;\n  string str;\n  while(n!=0){\n    int b,c;\n    int f=0;\n    int o=0;\n    int xmin=-1000000010,xmax=1000000010;\n    cin >> str;\n    if(str==\"x\"){\n      f=1;\n    }else{\n      b=s2i(str);\n    }\n    for(i=1;i<n;i++){\n      cin >> str;\n      if(str==\"x\"){\n\tif(f==1) o=1;\n\telse {\n\t  if(i%2==0){\n\t    xmax=min(xmax,b-1);\n\t  }else{\n\t    xmin=max(xmin,b+1);\n\t  }\n\t  f=1;\n\t}\n      }else{\n\tc=s2i(str);\n\tif(f==0){\n\t  if(i%2==0){\n\t    if(b<=c) o=1;\n\t  }else{\n\t    if(b>=c) o=1;\n\t  }\n\t  b=c;\n\t}else{\n\t  if(i%2==1){\n\t    xmax=min(xmax,c-1);\n\t  }else{\n\t    xmin=max(xmin,c+1);\n\t  }\n\t  f=0;\n\t  b=c;\n\t}\n      }\n    }\n    //cout << xmax << \":\" << xmin << endl;\n    if(o==1){\n      cout << \"none\" << endl;\n    }else if(xmax-xmin>0){\n      cout << \"ambiguous\" << endl;\n    }else if(xmax-xmin==0){\n      cout << xmax << endl;\n    }else{\n      cout << \"none\" << endl;\n    }\n    cin >> n;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <algorithm>\n#include <string>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <cstring>\n#include <vector>\n#include <list>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n\n#define INF (int)1e09\n\nusing std::cin;\nusing std::cout;\nusing std::endl;\nusing std::setprecision;\nusing std::fixed;\nusing std::pair;\nusing std::make_pair;\nusing std::min;\nusing std::max;\nusing std::string;\nusing std::vector;\nusing std::list;\nusing std::map;\nusing std::set; // insert erase find count\nusing std::queue;\nusing std::priority_queue;\nusing std::stack;\n\ntemplate <typename T> using Vec = vector<T>; // c++11\ntypedef pair<int, int> PII;\ntypedef pair<int, pair<int, int> > PIII;\n\n// string??????int????????????\nlong long int string_to_int(string str) {\n    long long int length = str.length();\n    long long int number = 0;\n    for (int i = 0; i < length; i++) {\n        number += (long long int)(str[i] - '0');\n        number *= 10;\n    }\n    number /= 10;\n    return number;\n}\n\nint main(void) {\n    while (1) {\n        int n;\n        cin >> n;\n        if (n == 0) {\n            break;\n        }\n\n        Vec<string> str(n + 1);\n        for (int i = 1; i <= n; i++) {\n            cin >> str[i];\n        }\n\n        long long int max_answer = -1e09 - 2;\n        long long int min_answer = 1e09 + 2;\n        //cout << \"HERE\" << endl;\n        //cout << max_answer << endl;\n        //cout << min_answer << endl;\n        //cout << \"HERE2\" << endl;\n        string prev_str; \n        string now_str = str[1]; \n        string next_str = str[2]; \n\n        long long int prev_int;\n        long long int now_int;\n        long long int next_int;\n\n        // i = 1?????´???\n        now_int = string_to_int(now_str);\n        next_int = string_to_int(next_str);\n        if (now_str == \"x\" && next_str == \"x\") {\n            cout << \"none\" << endl;\n            continue;\n        } else if (now_str != \"x\" && next_str != \"x\") {\n            if (now_int >= next_int) {\n                cout << \"none\" << endl;\n                continue;\n            }\n        } else if (now_str == \"x\") {\n            min_answer = min(min_answer, next_int - 1);\n            //cout << \"MAX1 = \" << min_answer << endl;\n        }\n        prev_str = now_str;\n        now_str = next_str;\n\n        // i != 1 && i != n - 1?????´???\n        for (int i = 2; i < n; i++) {\n            next_str = str[i + 1];\n            prev_int = string_to_int(prev_str);\n            now_int = string_to_int(now_str);\n            next_int = string_to_int(next_str);\n            if ((now_str == \"x\" && next_str == \"x\") || (now_str == \"x\" && prev_str == \"x\")) {\n                cout << \"none\" << endl;\n                continue;\n            } else if (prev_str != \"x\" && now_str != \"x\" && next_str != \"x\") {\n                if (i % 2 == 0) {\n                    if (now_int <= prev_int || now_int <= next_int) {\n                        cout << \"none\" << endl;\n                        continue;\n                    }\n                } else {\n                    if (now_int >= prev_int || now_int >= next_int) {\n                        cout << \"none\" << endl;\n                        continue;\n                    }\n                }\n            } else if (now_str == \"x\") {\n                if (i % 2 == 0) {\n                    max_answer = max(max_answer, next_int + 1);\n                    max_answer = max(max_answer, prev_int + 1);\n                    //cout << \"MAX2 = \" << max_answer << endl;\n                } else {\n                    min_answer = min(min_answer, next_int - 1);\n                    min_answer = min(min_answer, prev_int - 1);\n                    //cout << \"min = \" << min_answer << endl;\n                }\n            }\n            prev_str = now_str;\n            now_str = next_str;\n        }\n\n        // i == n?????´???\n        prev_int = string_to_int(prev_str);\n        now_int = string_to_int(now_str);\n        //cout << prev_str << \" \" << now_str << endl;\n        //cout << prev_int << \" \" << now_int << endl;\n        if (now_str == \"x\" && prev_str == \"x\") {\n            cout << \"none\" << endl;\n            continue;\n        } else if (prev_str != \"x\" && now_str != \"x\") {\n            if (n % 2 == 0) {\n                if (now_int <= prev_int) {\n                    cout << \"none\" << endl;\n                    continue;\n                }\n            } else {\n                if (now_int >= prev_int) {\n                    cout << \"none\" << endl;\n                    continue;\n                }\n            }\n        } else if (now_str == \"x\") {\n            if (n % 2 == 0) {\n                //cout << max_answer << endl;\n                //cout << prev_int + 1 << endl;\n                max_answer = max(max_answer, prev_int + 1);\n                //cout << \"MAX3 = \" << max_answer << endl;\n            } else {\n                min_answer = min(min_answer, prev_int - 1);\n                //cout << \"min = \" << min_answer << endl;\n            }\n        }\n\n        //cout << max_answer << \" \" << min_answer << endl;\n        if (max_answer > min_answer) {\n            cout << \"none\" << endl;\n        } else if (min_answer != max_answer) {\n            cout << \"ambiguous\" << endl;\n        } else {\n            cout << min_answer << endl;\n        }\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nconst int dx[]={1,0,-1,0,1,-1,-1,1};\nconst int dy[]={0,1,0,-1,1,1,-1,-1};\nconst int INF = 2*1e9;\nconst long long LINF = 1e18;\nconst double EPS = 1e-8;\n#define pb push_back\n#define mk make_pair\n#define fr first\n#define sc second\n#define reps(i,j,k) for(int i = (j); i < (k); ++i)\n#define rep(i,j) reps(i,0,j)\n#define all(a) (a).begin(),(a).end()\n#define MOD 1000000007\ntypedef pair<int,int> Pii;\ntypedef pair<Pii,int> P;\ntypedef vector<int> vi;\ntypedef long long ll;\ntemplate<class T>\nostream& operator<<(ostream &out, const vector<T> &v){\n\tout << \"{\";\n\trep(i,v.size()){\n\t\tout << v[i] <<\", \";\n\t}\n\treturn out << \"}\" << endl;\n}\n\nint main() {\n\n\tint N;\n\twhile(cin >> N,N){\n\t\tint a[1024];\n\t\tvi idx;\n\t\tbool flg = true;\n\t\trep(i,N){\n\t\t\tstring str;\n\t\t\tcin >> str;\n\t\t\tif(str == \"x\") {\n\t\t\t\tif(idx.size() > 0 && idx[idx.size()-1]+1 == i){\n\t\t\t\t\tflg = false;\n\t\t\t\t}\n\t\t\t\tidx.pb(i);\n\t\t\t\ta[i] = INF;\n\t\t\t}\n\t\t\telse{\n\t\t\t\ta[i] = atoi(str.c_str());\n\t\t\t}\n\t\t}\n\t\tif(!flg){\n\t\t\tputs(\"none\");\n\t\t\tcontinue;\n\t\t}\n\t\tint mn = INF;\n\t\tint mx = -INF;\n\t\trep(i,idx.size()) {\n\t\t\tif(idx[i] == 0) {\n\t\t\t\tmn = a[idx[i]+1] - 1;\n\t\t\t}\n\t\t\telse if (idx[i] == N-1) {\n\t\t\t\tif(N%2 == 1){\n\t\t\t\t\tmn = a[idx[i]-1] -1;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tmx = a[idx[i]-1] +1;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif(idx[i] % 2 == 0 ){\n\t\t\t\t\tmn = min(a[idx[i]-1],a[idx[i]+1])-1;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tmx = max(a[idx[i]-1],a[idx[i]+1])+1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\trep(i,N) {\n\t\t\tif(a[i] == INF){\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif(i == 0) {\n\t\t\t\tif(a[i+1] == INF){\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif(a[i] > a[i+1]){\n\t\t\t\t\tflg = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if ( i == N -1) {\n\t\t\t\tif(a[i-1] == INF) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif(N % 2 == 1){\n\t\t\t\t\tif(a[i] > a[i-1]){\n\t\t\t\t\t\tflg = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(a[i] < a[i-1]) {\n\t\t\t\t\t\tflg = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif(a[i+1] == INF && a[i-1] == INF){\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif(a[i+1] == INF){\n\t\t\t\t\tif(i % 2 == 1){\n\t\t\t\t\t\tif(a[i-1] > a[i]){\n\t\t\t\t\t\t\tflg = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tif(a[i-1] < a[i]){\n\t\t\t\t\t\t\tflg = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if(a[i-1] == INF) {\n\t\t\t\t\tif(i % 2 == 1){\n\t\t\t\t\t\tif(a[i+1] > a[i]){\n\t\t\t\t\t\t\tflg = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tif(a[i+1] < a[i]){\n\t\t\t\t\t\t\tflg = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(i % 2 == 1){\n\t\t\t\t\t\tif(a[i-1] > a[i] || a[i] < a[i+1]){\n\t\t\t\t\t\t\tflg = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tif(a[i-1] < a[i] || a[i] > a[i+1]) {\n\t\t\t\t\t\t\tflg = false;\n\t\t\t\t\t\t} \n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t//printf(\"%d %d\\n\",mn, mx);\n\t\tif(mn == mx){\n\t\t\tprintf(\"%d\\n\",mn);\n\t\t}\n\t\telse if(mn > mx && flg){\n\t\t\tputs(\"ambiguous\");\n\t\t}\n\t\telse{\n\t\t\tputs(\"none\");\n\t\t}\n\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#define INF 2000000000\n#define N 1002\nusing namespace std;\nvoid Bynary_Search(int,int);\nint StoI(string);\nint Judge(int);\nstring str[N];\nint n,data[N];\n\nint main(){\n  while(1){\n    cin>>n;\n    if(!n) break;\n    data[0]=INF;\n    if(n%2) data[n+1]=INF;\n    else data[n+1]=-INF;\n    for(int i=1;i<=n;i++){\n      cin>>str[i];\n      if(str[i]==\"x\") continue;\n      data[i]=StoI(str[i]);\n    }\n    Bynary_Search(-1000000100,1000000100);\n  }\n  return 0;\n}\n\nvoid Bynary_Search(int l,int r){\n  int m;\n  while(l<r-1){\n    m=(long long)(l+r)/2;\n    if(Judge(m)==-2) break;\n    else if(Judge(m)<0) l=m;\n    else if(Judge(m)>0) r=m;\n    else{\n      if(!Judge(m-1)||!Judge(m+1)){\n\tcout<<\"ambiguous\"<<endl;\n      }else cout<<m<<endl;\n      return ;\n    }\n  }\n  cout<<\"none\"<<endl;\n}\n\nint Judge(int d){\n  int judge[N];\n  judge[0]=data[0];\n  judge[n+1]=data[n+1];\n  for(int i=1;i<=n;i++){\n    if(str[i]==\"x\") judge[i]=d;\n    else judge[i]=data[i];\n  }\n  for(int i=1;i<=n;i++)\n    if(str[i]!=\"x\"&&str[i+1]!=\"x\")\n      if(((i%2)&&judge[i]>=judge[i+1])||(!(i%2)&&judge[i]<=judge[i+1])) return -2;\n  for(int i=1;i<=n;i++){\n    if(str[i]!=\"x\") continue;\n    if((i%2)&&(judge[i-1]<=judge[i]||judge[i]>=judge[i+1])) return 1;\n    if(!(i%2)&&(judge[i-1]>=judge[i]||judge[i]<=judge[i+1])) return -1;\n  }\n  return 0;\n}\n\nint StoI(string s){\n  int ret=0;\n  for(int i=0;i<s.size();i++)\n    ret=ret*10+(s[i]-'0');\n  return ret;  \n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <string>\n#include <sstream>\n#include <cstdlib>\nusing namespace std;\n\ntypedef int INT;\n#define int long long\n\nint const X=-11111111111111LL;\n\nint read(){\n    string s;cin>>s;\n    if(s==\"x\")return X;\n    else{\n        stringstream ss(s);\n        int t;ss>>t;\n        return t;\n    }\n}\n\nstring solve(vector<int> v){\n    int N=v.size();\n    bool none = false;\n    for(int i=1;i<N;i++){\n        if(v[i]==X && v[i-1]==X){\n            none=true;\n        }\n        if(v[i-1]==X) continue;\n        if(v[i]==X) continue;\n        if(i%2==0){\n            if(!(v[i-1]>v[i]))none=true;\n        }else{\n            if(!(v[i-1]<v[i]))none=true;\n        }\n        if(none)break;\n    }\n    if(none)return \"none\";\n\n    int r =  1000000000+10;\n    int l = -1000000000-10;\n    for(int i=0;i<N;i++){\n        if(v[i]!=X) continue;\n        if(i%2==0){\n            if(i>0)   r=min(r,v[i-1]-1);\n            if(i<N-1) r=min(r,v[i+1]-1);\n        }else{\n            if(i>0)   l=max(l,v[i-1]+1);\n            if(i<N-1) l=max(l,v[i+1]+1);\n        }\n    }\n    if(l==r){ return [](int l){\n            stringstream ss;\n            ss << l;\n            return ss.str();\n        }(l);\n    }\n    else if(l > r) return \"none\";\n    else return \"ambiguous\";\n}\n\nINT main() {\n    int N;\n    while(cin>>N && N){\n        vector<int> v(N);\n        for(int i=0;i<N;i++)v[i]=read();\n        cout << solve(v) << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nconst int INF = (int)1e9 + 5;\n\nconst int MAXN = 1111;\nint N;\nint a[MAXN];\n\nvoid solve() {\n  for(int i = 0; i+1 < N; ++i) {\n    if(a[i] == INF || a[i+1] == INF) continue;\n    if(i % 2 == 0) {\n      if(i+1 < N && a[i] >= a[i+1]) {\n        cout << \"none\" << endl;\n        return;\n      }\n    } else {\n      if(i+1 < N && a[i] <= a[i+1]) {\n        cout << \"none\" << endl;\n        return;\n      }\n    }\n  }\n  if(*max_element(a, a+N) != INF) {\n    cout << \"ambiguous\" << endl;\n    return;\n  }\n  int mini = -INF, maxi = INF;\n  for(int i = 0; i < N; ++i) {\n    if(a[i] != INF) continue;\n    if(i+1 < N && a[i+1] == INF) {\n      cout << \"none\" << endl;\n      return;\n    }\n    if(i % 2 == 0) {\n      if(i-1 >= 0) maxi = min(maxi, a[i-1]-1);\n      if(i+1 <  N) maxi = min(maxi, a[i+1]-1);\n    } else {\n      if(i-1 >= 0) mini = max(mini, a[i-1]+1);\n      if(i+1 <  N) mini = max(mini, a[i+1]+1);\n    }\n  }\n  if(mini > maxi) {\n    cout << \"none\" << endl;\n  } else if(mini < maxi) {\n    cout << \"ambiguous\" << endl;\n  } else {\n    cout << mini << endl;\n  }\n}\n\nint main() {\n  while(cin >> N && N) {\n    for(int i = 0; i < N; ++i) {\n      string s;\n      cin >> s;\n      if(s == \"x\") a[i] = INF;\n      else a[i] = atoi(s.c_str());\n    }\n    solve();\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define REP(i,n) for(int i=0; i<(int)(n); i++)\n\nint a[1252];\nbool broken[1252];\nchar buf[1252];\n\nint main(){\n\twhile(true){\n\t\tint n;\n\t\tscanf(\"%d\",&n);\n\t\tif(n==0)break;\n\t\tREP(i,n){\n\t\t\tscanf(\"%s\",buf);\n\t\t\tif(buf[0]=='x'){\n\t\t\t\tbroken[i] = true;\n\t\t\t}else{\n\t\t\t\tbroken[i] = false;\n\t\t\t\ta[i] = atoi(buf);\n\t\t\t}\n\t\t\tint len = strlen(buf);\n\t\t\tfill(buf,buf+len,'\\0');\n\t\t}\n\t\tint ub = 1<<30, lb = -(1<<30);\n\t\tREP(i,n)if(broken[i]){\n\t\t\tif(i%2==0){\n\t\t\t\t// ub\n\t\t\t\tif(i+1<n && !broken[i+1])ub = min(ub,a[i+1]-1);\n\t\t\t\tif(i-1>=0&& !broken[i-1])ub = min(ub,a[i-1]-1);\n\t\t\t}else{\n\t\t\t\tif(i+1<n && !broken[i+1])lb = max(lb,a[i+1]+1);\n\t\t\t\tif(i-1>=0&& !broken[i-1])lb = max(lb,a[i-1]+1);\n\t\t\t}\n\t\t}\n\t\tbool ng = false;\n\t\tREP(i,n)if(!broken[i]){\n\t\t\tif(i%2==0){\n\t\t\t\t// smaller\n\t\t\t\tif(i+1<n && !broken[i+1] && !(a[i]<a[i+1]))ng=true;\n\t\t\t\tif(i-1>=0&& !broken[i-1] && !(a[i]<a[i-1]))ng=true;\n\t\t\t}else{\n\t\t\t\tif(i+1<n && !broken[i+1] && !(a[i]>a[i+1]))ng=true;\n\t\t\t\tif(i-1>=0&& !broken[i-1] && !(a[i]>a[i-1]))ng=true;\n\t\t\t}\n\t\t}\n\t\tREP(i,n-1)if(broken[i] && broken[i+1])ng = true;\n\t\tif(ub<lb || ng)puts(\"none\");\n\t\telse if(ub==lb)printf(\"%d\\n\",ub);\n\t\telse puts(\"ambiguous\");\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <utility>\n#include <typeinfo>\n#include <cmath>\n#include <algorithm>\n#include <iostream>\n#include <sstream>\n#include <iomanip>\n#include <vector>\n#include <string>\n#define REP(i,n) for(int i=0;i<n;i++)\ntypedef long long ll;\nusing namespace std;\ntypedef vector<ll> vl;\ntypedef pair<ll,ll> pll;\ntypedef vector<pll> vpll;\ntypedef vector<string> vs;\n\nint N = 2000000000;\n\nint even(const int a[],int x,int y){\n\tif(x==0){return a[x+1];}\n\telse if(x==y-1){return a[x-1];}\n\telse{return min(a[x-1],a[x+1]);}\n}\n\nint odd(const int a[],int x,int y){\n\tif(x==y-1){return a[x-1];}\n\telse{return max(a[x-1],a[x+1]);}\n}\n\n\nint main() \n{\n\tint n;\n\twhile(cin>>n&&n!=0)\n\t{\n\t\tbool flag1=false;//連続してたらnone\n\t\tbool flag2=false;//x以外のところで大小が×だったらnone\n\t\tint count(0);//xの個数\n\t\tint a[1001]={};\n\t\tint b[1001]={};//i番目のxの入っている位置\n\t\tfor(int i=0;i<n;i++)\n\t\t{\n\t\t\tstring s;cin>>s;\n\t\t\tif(s[0]=='x'){a[i]=N;b[count]=i;count++;}\n\t\t\telse{sscanf(s.c_str(), \"%d\", &a[i]);}\n\t\t\tif(count>1&&b[count-1]==b[count-2]){flag1=true;}//2個連続でxならflag立て\n\t\t}\n\t\t\n\t\tfor(int i=0;i<n-1;i++)\n\t\t{\n\t\t\tif(a[i]!=N&&a[i+1]!=N)\n\t\t\t{\n\t\t\t\tif(i%2==0)\n\t\t\t\t{\n\t\t\t\t\tif(a[i]>=a[i+1]){flag2=true;}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif(a[i]<=a[i+1]){flag2=true;}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(flag1||flag2){cout<<\"none\"<<endl;}//flagが立っていたらnone\n\t\telse if(n==1){cout<<\"ambiguous\"<<endl;}//n=1ならambiguos\n\t\telse\n\t\t{\n\t\t\tint top(1000000003),bottom(-1000000003);\n\t\t\tfor(int i=0;i<count;i++)\n\t\t\t{\n\t\t\t\tif(b[i]%2==0)\n\t\t\t\t{\n\t\t\t\t\ttop=min(top,even(a,b[i],n));\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tbottom=max(bottom,odd(a,b[i],n));\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tll ans(0);\n\t\t\tans +=top;\n\t\t\tans -=bottom;\n\n\t\t\tif((ans)==2){cout<<top-1<<endl;}\n\t\t\telse if((ans)>2){cout<<\"ambiguous\"<<endl;}\n\t\t\telse if((ans)<2){cout<<\"none\"<<endl;}\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n \nusing namespace std;\n \n#define INF 1001000100010001000\n#define MOD 1000000007\n#define EPS 1e-10\n#define int long long\n#define rep(i, N) for (int i = 0; i < N; i++)\n#define Rep(i, N) for (int i = 1; i < N; i++)\n#define For(i, a, b) for (int i = (a); i < (b); i++)\n#define pb push_back\n#define mp make_pair\n#define i_i pair<int, int>\n#define vi vector<int>\n#define vvi vector<vi >\n#define vb vector<bool>\n#define vvb vector<vb >\n#define vp vector< i_i >\n#define all(a) (a).begin(), (a).end()\n#define Int(x) int x; scanf(\"%lld\", &x);\n \n//int dxy[5] = {0, 1, 0, -1, 0};\n// assign\n \nsigned main()\n{\n    Int(n);\n    while (n) {\n        vector<string> data(n);\n        rep(i, n) {\n            cin >> data[i];\n        }\n        int less = -INF, more = INF;\n        if (data[0][0] == 'x') {\n            if ( data[1][0] == 'x' ) {\n                cout << \"none\" << endl;\n                cin >> n;\n                continue;\n            } else {\n                more = stoll(data[1]) - 1;\n            }\n        } else {\n            int b = (data[1][0] == 'x') ? INF : stoll(data[1]);\n            if (!(b > stoll(data[0]))) {\n                cout << \"none\" << endl;\n                cin >> n;\n                continue;\n            }\n        }\n        bool fl = false;\n        Rep(i, n-1) {\n            if (data[i][0] == 'x') {\n                if ((i+1) % 2) {\n                    if (data[i+1][0] == 'x') {\n                        fl = true;\n                        break;\n                    } else {\n                        more = min(more, \n                                min(stoll(data[i-1])-1,\n                                    stoll(data[i+1])-1));\n                    }\n                } else {\n                    if (data[i+1][0] == 'x') {\n                        fl = true;\n                        break;\n                    } else {\n                        less = max(less, \n                                max(stoll(data[i-1])+1,\n                                    stoll(data[i+1])+1));\n                    }\n                }\n            } else {\n                if ((i+1) % 2) {\n                    int a = (data[i-1][0] == 'x') ? INF : stoll(data[i-1]);\n                    int b = (data[i+1][0] == 'x') ? INF : stoll(data[i+1]);\n                    if (!(a > stoll(data[i]) && b > stoll(data[i]))) {\n                        fl = true;\n                        break;\n                    }\n                } else {\n                    int a = (data[i-1][0] == 'x') ? -INF : stoll(data[i-1]);\n                    int b = (data[i+1][0] == 'x') ? -INF : stoll(data[i+1]);\n                    if (!(a < stoll(data[i]) && b < stoll(data[i]))) {\n                        fl = true;\n                        break;\n                    }\n                }\n            }\n        }\n        if (fl) {\n            cout << \"none\" << endl;\n            cin >> n;\n            continue;\n        }\n        if (data[n-1][0] == 'x') {\n            if (n % 2) {\n                more = min(more, stoll(data[n-2])-1);\n            } else {\n                less = max(less, stoll(data[n-2])+1);\n            }\n        } else {\n            if ((n) % 2) {\n                int a = (data[n-2][0] == 'x') ? INF : stoll(data[n-2]);\n                if (!(a > stoll(data[n-1]))) {\n                    cout << \"none3\" << endl;\n                    cin >> n;\n                    continue;\n                }\n            } else {\n                int a = (data[n-2][0] == 'x') ? -INF : stoll(data[n-2]);\n                if (!(a < stoll(data[n-1]))) {\n                    cout << \"none2\" << endl;\n                    cin >> n;\n                    continue;\n                }\n            }\n        }\n        if (less == more) {\n            cout << less << endl;\n        } else if (less < more) {\n            cout << \"ambiguous\" << endl;\n        } else {\n            cout << \"none1\" << endl;\n        }\n        cin >> n;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<string>\n#include<algorithm>\t\n#include<map>\n#include<set>\n#include<utility>\n#include<cmath>\n#include<cstring>\n#include<queue>\n#include<stack>\n#include<cstdio>\n#include<sstream>\n#include<iomanip>\n#include<assert.h>\n#define loop(i,a,b) for(int i=a;i<b;i++) \n#define rep(i,a) loop(i,0,a)\n#define pb push_back\n#define all(in) in.begin(),in.end()\n#define shosu(x) fixed<<setprecision(x)\nusing namespace std;\n//kaewasuretyuui\ntypedef long long ll;\ntypedef int Def;\ntypedef pair<Def,Def> pii;\ntypedef vector<Def> vi;\ntypedef vector<vi> vvi;\ntypedef vector<pii> vp;\ntypedef vector<vp> vvp;\ntypedef vector<string> vs;\ntypedef vector<double> vd;\ntypedef vector<vd> vvd;\ntypedef pair<Def,pii> pip;\ntypedef vector<pip>vip;\n//#define mt make_tuple\n//typedef tuple<double,int,double> tp;\n//typedef vector<tp> vt;\ntemplate<typename A,typename B>bool cmin(A &a,const B &b){return a>b?(a=b,true):false;}\ntemplate<typename A,typename B>bool cmax(A &a,const B &b){return a<b?(a=b,true):false;}\nconst double PI=acos(-1);\nconst double EPS=1e-7;\nDef inf = sizeof(Def) == sizeof(long long) ? 2e18 : 2e9;\nint dx[]={0,1,0,-1};\nint dy[]={1,0,-1,0};\nint main(){\n\tint n;\n\twhile(cin>>n,n){\n\t\tvi in(n+2);\n\t\tin[0]=inf+1;\n\t\trep(i,n){\n\t\t\tstring s;\n\t\t\tcin>>s;\n\t\t\tif(s==\"x\")in[i+1]=inf;\n\t\t\telse in[i+1]=stoi(s);\n\t\t}\n\t\tin[n+1]=(n%2?inf+1:-inf-1);\n\t\tint mi=inf,ma=-inf;\n\t\trep(i,n)if(in[i+1]==inf){\n\t\t\tif(i%2){\n\t\t\t\tcmin(mi,max(in[i],in[i+2]));\n\t\t\t}else{\n\t\t\t\tcmax(ma,min(in[i],in[i+2]));\n\t\t\t}\n\t\t}\n\t\tbool h=true;\n\t\trep(i,n+1){\n\t\t\tif(in[i]==inf&&in[i+1]==inf)h=false;\n\t\t\tif(in[i]!=inf&&in[i+1]!=inf){\n\t\t\t\tif(i%2&&in[i]>=in[i+1]||i%2==0&&in[i]<=in[i+1]){\n\t\t\t\t\th=false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(!h)cout<<\"none\"<<endl;\n\t\telse if(ma-mi==2)cout<<ma-1<<endl;\n\t\telse if(ma-mi>2)cout<<\"ambiguous\"<<endl;\n\t\telse cout<<\"none\"<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <stack>\n#include <queue>\n#include <map>\n#include <cmath>\n#include <string>\n#include <sstream>\n#include <iomanip>\n#include <complex>\nusing namespace std;\n\n#define ll long long\n#define vvi vector< vector<int> >\n#define vi vector<int>\n#define All(X) X.begin(),X.end()\n#define FOR(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define REP(i,n) for(int i=0;i<(int)(n);i++)\n#define pb push_back\n#define pii pair<int,int>\n#define mp make_pair\n#define pi 3.14159265359\n#define shosu(X) fixed << setprecision(X)\nll gcd(ll a,ll b){return b?gcd(b,a%b):a;}\nll lcm(ll a,ll b){return a/gcd(a,b)*b;}\n\nint main(){\n\twhile(1){\n\t\tint n;\n\t\tcin >> n;\n\t\tif(n==0) break;\n\t\tll int xcnt = 0;\n\t\tll int data[1001];\n\t\tll int lastxpos = -10;\n\t\tREP(i,n){\n\t\t\tstring s;\n\t\t\tcin >> s;\n\t\t\tif(s==\"x\"){\n\t\t\t\txcnt++;\n\t\t\t\tif(lastxpos==i-1){//x 2??£?¶????????????????????????¨\n\t\t\t\t\txcnt = n;\n\t\t\t\t}\n\t\t\t\tlastxpos = i;\n\t\t\t\tdata[i]=999999999;\n\t\t\t}else{\n\t\t\t\tdata[i]= stoll(s);\n\t\t\t}\n\t\t}\n\t\tif(xcnt>=n){//2??£?¶????????????§?????£?????????\n\t\t\tcout << \"none\" << endl;\n\t\t}else{\n\t\t\tbool is_mujun = false;\n\t\t\tll int minx=-999999999,maxx=999999999;\n\t\t\tREP(i,n){\n\t\t\t\tif(i==0){\n\t\t\t\t\tif(data[0]==999999999) maxx = data[1]-1;\n\t\t\t\t\telse if(data[1]!=999999999&&data[0]>=data[1]) is_mujun = true;\n\t\t\t\t}else if(i==n-1){\n\t\t\t\t\tif(data[n-1]==999999999){\n\t\t\t\t\t\tif((n+1)%2==0){\n\t\t\t\t\t\t\tmaxx = data[n-2]-1;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tminx = data[n-2]+1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif((n+1)%2==0){\n\t\t\t\t\t\t\tif(data[n-2]!=999999999&&data[n-1]>=data[n-2]) is_mujun = true;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tif(data[n-2]!=999999999&&data[n-1]<=data[n-2]) is_mujun = true;\n\t\t\t\t\t\t}\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(data[i]==999999999){\n\t\t\t\t\t\tif((i+1)%2==0){\n\t\t\t\t\t\t\tminx = max(minx,max(data[i-1],data[i+1])+1);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tmaxx = min(maxx,min(data[i-1],data[i+1])-1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif((i+1)%2==0){\n\t\t\t\t\t\t\tif(data[i-1]!=999999999&&(data[i]<=data[i-1])) is_mujun = true;\n\t\t\t\t\t\t\tif(data[i+1]!=999999999&&(data[i]<=data[i+1])) is_mujun = true;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tif(data[i-1]!=999999999&&(data[i]>=data[i-1])) is_mujun = true;\n\t\t\t\t\t\t\tif(data[i+1]!=999999999&&(data[i]>=data[i+1])) is_mujun = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(minx!=-999999999&&maxx!=999999999&&minx-maxx>0) is_mujun = true;\n\t\t\t\t//cout << minx << \" \" << maxx << \" \" << is_mujun <<\" \"<<data[i]<< endl;\n\t\t\t}\n\t\t\tif(xcnt==0){\n\t\t\t\tif(is_mujun) cout << \"none\" << endl;\n\t\t\t\telse cout << \"ambiguous\" << endl;\t\t\t\t\n\t\t\t}else{\n\t\t\t\tif(is_mujun) cout << \"none\" << endl;\n\t\t\t\telse{\n\t\t\t\t\tif(maxx==minx) cout << maxx << endl;\n\t\t\t\t\telse cout << \"ambiguous\" << endl;\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nconst int INF = 1e9 + 10;\n\nint main()\n{\n\tint N;\n\tstring s;\n\twhile (cin >> N, N) {\n\t\tvector<int> a(N);\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\tcin >> s;\n\t\t\tif (s == \"x\") {\n\t\t\t\ta[i] = INF;\n\t\t\t}\n\t\t\telse {\n\t\t\t\ta[i] = stoi(s);\n\t\t\t}\n\t\t}\n\t\tint ma = INF, mi = -INF;\n\t\tfor (int i = 1; i < N; i++) {\n\t\t\tif (a[i] == INF) {\n\t\t\t\tif (a[i - 1] == INF) {\n\t\t\t\t\tma = -INF;\n\t\t\t\t\tmi = INF;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\telse if (i & 1) {\n\t\t\t\t\tmi = max(mi, a[i - 1] + 1);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tma = min(ma, a[i - 1] - 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (a[i - 1] == INF) {\n\t\t\t\tif (i & 1) {\n\t\t\t\t\tma = min(ma, a[i] - 1);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tmi = max(mi, a[i] + 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (i & 1) {\n\t\t\t\tif (a[i - 1] >= a[i]) {\n\t\t\t\t\tma = -INF;\n\t\t\t\t\tmi = INF;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (a[i - 1] <= a[i]) {\n\t\t\t\t\tma = -INF;\n\t\t\t\t\tmi = INF;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (ma == mi) {\n\t\t\tcout << ma << endl;\n\t\t}\n\t\telse {\n\t\t\tcout << (ma > mi ? \"ambiguous\" : \"none\") << endl;\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define rep(i, n) for(int i = 0; i < (n); i++)\n#define repp(i, l, r) for(int i = (l); i < (r); i++)\n#define per(i, n) for(int i = ((n)-1); i >= 0; i--)\n#define perr(i, l, r) for(int i = ((r)-1); i >= (l); i--)\n#define all(x) (x).begin(),(x).end()\n#define MOD 1000000007\n#define IINF 1000000000\n#define LINF 1000000000000000000\n#define SP <<\" \"<<\n#define CYES cout<<\"Yes\"<<endl\n#define CNO cout<<\"No\"<<endl\n#define CFS cin.tie(0);ios::sync_with_stdio(false)\n\ntypedef long long LL;\ntypedef long double LD;\n\nint main(){\n  while(1){\n    int n;\n    cin >> n;\n    if(n==0) return 0;\n    vector<int> a(n);\n    string s;\n    rep(i,n){\n      cin >> s;\n      if(s==\"x\") a[i]=MOD;\n      else a[i]=stoi(s);\n    }\n    int l=-MOD,r=MOD;\n    bool ok=true;\n    rep(i,n){\n      if(i%2){ // v\n        if(a[i]==MOD){\n          if(i>0) if(a[i-1]!=MOD) l=max(l,a[i-1]+1); else ok=false;\n          if(i<n-1) if(a[i+1]!=MOD) l=max(l,a[i+1]+1); else ok=false;\n        }else{\n          if(i>0) if(a[i-1]!=MOD) if(a[i]<=a[i-1]) ok=false;\n          if(i<n-1) if(a[i+1]!=MOD) if(a[i]<=a[i+1]) ok=false;\n        }\n      }else{ // ^\n        if(a[i]==MOD){\n          if(i>0) if(a[i-1]!=MOD) r=min(r,a[i-1]-1); else ok=false;\n          if(i<n-1) if(a[i+1]!=MOD) r=min(r,a[i+1]-1); else ok=false;\n        }else{\n          if(i>0) if(a[i-1]!=MOD) if(a[i]>=a[i-1]) ok=false;\n          if(i<n-1) if(a[i+1]!=MOD) if(a[i]>=a[i+1]) ok=false;\n        }\n      }\n    }\n    if(!ok||r<l) cout << \"none\" << endl;\n    else if(l<r) cout << \"ambiguous\" << endl;\n    else cout << l << endl;\n  }\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\ntypedef long long LL;\n#define SORT(c) sort((c).begin(),(c).end())\n\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n)  FOR(i,0,n)\nusing namespace std;\nint INF=(1<<30)-1;\nint main(void)\n{\n  for(;;){\n    int n;\n    cin >> n;\n    if(!n) return 0;\n    vector<int> a;\n    a.resize(n+2);\n    a[0]=INF;\n    REP(i,n) a[i+1]=i%2?-INF:INF;\n    a[n+1]=n%2?INF:-INF;\n    vector<bool> broken;\n    broken.assign(n+2,false);\n    REP(i,n){\n      string str;\n      cin >> str;\n      if(str==\"x\") broken[i+1]=true;\n      else {\n\ta[i+1]=stoi(str);\n      }\n    }\n    int ansl=-INF,ansr=INF;\n    //[l,r)\n    FOR(i,1,n+1){\n      if(broken[i]){\n\tif(i%2){\n\t  ansr=min(ansr,min(a[i-1],a[i+1]));\n\t  a[i]=ansl;\n\t}\n\telse{\n\t  ansl=max(ansl,max(a[i-1]+1,a[i+1]+1));\n\t  a[i]=ansr;\n\t}\n      }\n      else{\n\tif(i%2 && a[i]>=a[i-1]) ansl=ansr;\n\tif(!(i%2) && a[i]<=a[i-1]) ansl=ansr;\n      }\n    }\n    \n    if(ansr-ansl==1) cout << ansl << endl;\n    else if(ansr>ansl) cout << \"ambiguous\" << endl;\n    else cout << \"none\" << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#define INF -2000000000\nusing namespace std;\nvector <int> s;\nint check(int x){\n  for(int i=1;i<s.size()-1;i++){\n    int ima = s[i],nx = s[i+1],mae = s[i-1];\n    if(ima == INF) ima = x;\n    if(nx == INF) nx = x;\n    if(mae == INF) mae = x;\n    \n    if(i%2 == 0 && (ima >= mae || ima>= nx)) \n      if(s[i] == INF)return -1;\n      else return 1;\n\n    else if(i%2==1 &&(mae >= ima||nx >= ima)) \n      if(s[i] == INF)  return 1;\n      else return -1;\n  }\n\n  if(s.size() == 2) {\n    int ima = s[0],nx = s[1];\n    if(s[0] == INF) ima = x;\n    if(s[1] == INF) nx  = x;\n    if(ima >= nx) \n      if(s[0] == INF) return -1;\n      else return 1;\n  }\n  return 0;\n}\n\nint main() {\n  while(1){\n    int n;\n    cin >> n;\n    if(n == 0) break;\n    s.clear();\n    for(int i=0;i<n;i++) {\n      string str;\n      cin >> str;\n      if(str == \"x\") s.push_back(INF);\n      else s.push_back(stoi(str));\n    }\n  \n    int R = 1000000010,L=-1000000011,M,ans = INF,cnt = 0;\n    while(L < R) {\n      cnt ++;\n      int t = M;\n      M = (L+R)/2;\n      if(M == t) L--,R++,M=(L+R)/2;\n      if(cnt > 35) break;\n      int res = check(M);\n      if(res == -1) R = M;\n      else if(res == 1) L=M+1;\n      else if(res == 0) {\n\tans = M;\n\tbreak;\n      }\n    }\n\n    if(ans == INF) cout << \"none\"<<endl;\n    else if(check(ans+1) == 0 || check(ans-1) == 0) cout << \"ambiguous\"<<endl;\n    else cout << ans <<endl;\n  }\n  return 0;\n\n}"
  },
  {
    "language": "Haskell",
    "code": "import Control.Monad\nimport Data.Monoid\nimport Data.Maybe\nimport Data.List\n\ndata Dat = Num Int | X deriving (Show, Eq)\ndata Lattice a = Value a | Top | Bot deriving (Eq, Show)\ntype FinRange a = (Lattice a, Lattice a)\nnewtype Range a = Range { getRange :: Maybe (FinRange a) } deriving (Eq, Show)\n\ninstance Ord a => Ord (Lattice a) where\n    compare (Value x) (Value y) = compare x y\n    compare Bot Bot = EQ\n    compare Top Top = EQ\n    compare Bot _ = LT\n    compare _ Top = LT\n    compare _ _   = GT\n\nbetween :: Ord a => a -> a -> Range a\nbetween x y = if x < y then Range $ Just (Value x, Value y) else Range Nothing\nlesthan x   = Range $ Just (Bot, Value x)\ngrtthan x   = Range $ Just (Value x, Top)\nnone        = Range Nothing\ntotal       = Range $ Just (Bot, Top)\n\nappendRange :: Ord a => FinRange a -> FinRange a -> Range a\nappendRange (x, y) (x', y')\n    | y < x' || y' < x  = none\n    | otherwise         = Range $ Just (max x x', min y y')\n\ninstance Ord a => Monoid (Range a) where\n    mempty = total\n    mappend (Range (Just a)) (Range (Just b)) = appendRange a b\n    mappend _ _ = none\n\nmakePair :: [Dat] -> [(Dat, Dat)]\nmakePair [] = []\nmakePair (x:xs) = snd $ foldl (\\ (a, l) b -> (b, l ++ [(a,b)])) (x, []) xs\n\nimap :: (Int -> a -> b) -> [a] -> [b]\nimap f = zipWith f (from 0)\n    where from n = n:(from (n + 1))\n\nhoge :: Dat -> Dat -> Range Int\nhoge (Num n) (Num m) = if n < m then total else none\nhoge X (Num n) = lesthan n\nhoge (Num n) X = grtthan n\nhoge X X = none\n\nsolve :: [Dat] -> String\nsolve xs = case mconcat . imap f . makePair $ xs of\n    Range Nothing -> \"none\"\n    Range (Just (Value x, Value y))\n        | y - x < 2  -> \"none\"\n        | y - x == 2 -> show (x + 1)\n        | otherwise  -> \"ambiguous\"\n    _ -> \"ambiguous\"\n    where f i (x,y) = if even i then hoge x y else hoge y x\n\nfromString :: String -> Dat\nfromString \"x\" = X\nfromString n   = Num . read $ n\n\nmain :: IO ()\nmain = do\n    n <- read <$> getLine :: IO Int\n    when (n /= 0) $ do\n      dats <- fmap fromString . words <$> getLine :: IO [Dat]\n      putStrLn . solve $ dats\n      main"
  },
  {
    "language": "Haskell",
    "code": "import Control.Monad\ndata Dat = Num Int | X deriving (Show, Eq)\ndata Lattice a = Value a | Top | Bot deriving (Eq, Show)\n\ninstance Ord a => Ord (Lattice a) where\n    compare (Value x) (Value y) = compare x y\n    compare Bot Bot = EQ\n    compare Top Top = EQ\n    compare Bot _ = LT\n    compare _ Top = LT\n    compare _ _   = GT\n\ntype FinRange a = (Lattice a, Lattice a)\nnewtype Range a = Range { getRange :: Maybe (FinRange a) } deriving (Eq, Show)\n\nbetween :: Ord a => a -> a -> Range a\nbetween x y = if x < y then Range $ Just (Value x, Value y) else Range Nothing\nlesthan x   = Range $ Just (Bot, Value x)\ngrtthan x   = Range $ Just (Value x, Top)\nnone        = Range Nothing\ntotal       = Range $ Just (Bot, Top)\n\nappendRange :: Ord a => FinRange a -> FinRange a -> Range a\nappendRange (x, y) (x', y')\n    | y < x' || y' < x  = none\n    | otherwise         = Range $ Just (max x x', min y y')\n\ninstance Ord a => Monoid (Range a) where\n    mempty = total\n    mappend (Range (Just a)) (Range (Just b)) = appendRange a b\n    mappend _ _ = none\n\nmakePair :: [Dat] -> [(Dat, Dat)]\nmakePair [] = []\nmakePair (x:xs) = snd $ foldl (\\ (a, l) b -> (b, l ++ [(a,b)])) (x, []) xs\n\nimap :: (Int -> a -> b) -> [a] -> [b]\nimap f = zipWith f (from 0)\n    where from n = n:(from (n + 1))\n\nhoge :: Dat -> Dat -> Range Int\nhoge (Num n) (Num m) = if n < m then total else none\nhoge X (Num n) = lesthan n\nhoge (Num n) X = grtthan n\nhoge X X = none\n\nsolve :: [Dat] -> String\nsolve xs = case mconcat . imap f . makePair $ xs of\n    Range Nothing -> \"none\"\n    Range (Just (Value x, Value y))\n        | y - x < 2  -> \"none\"\n        | y - x == 2 -> show (x + 1)\n        | otherwise  -> \"ambiguous\"\n    _ -> \"ambiguous\"\n    where f i (x,y) = if even i then hoge x y else hoge y x\n\nfromString :: String -> Dat\nfromString \"x\" = X\nfromString n   = Num . read $ n\n\nmain :: IO ()\nmain = do\n    n <- read <$> getLine :: IO Int\n    when (n /= 0) $ do\n      dats <- fmap fromString . words <$> getLine :: IO [Dat]\n      putStrLn . solve $ dats\n      main"
  },
  {
    "language": "Haskell",
    "code": "import Control.Monad\nimport Control.Applicative\nimport Data.Monoid\nimport Data.Maybe\nimport Data.List\n\ndata Dat = Num Int | X deriving (Show, Eq)\ndata Lattice a = Value a | Top | Bot deriving (Eq, Show)\ntype FinRange a = (Lattice a, Lattice a)\nnewtype Range a = Range { getRange :: Maybe (FinRange a) } deriving (Eq, Show)\n\ninstance Ord a => Ord (Lattice a) where\n    compare (Value x) (Value y) = compare x y\n    compare Bot Bot = EQ\n    compare Top Top = EQ\n    compare Bot _ = LT\n    compare _ Top = LT\n    compare _ _   = GT\n\nbetween :: Ord a => a -> a -> Range a\nbetween x y = if x < y then Range $ Just (Value x, Value y) else Range Nothing\nlesthan x   = Range $ Just (Bot, Value x)\ngrtthan x   = Range $ Just (Value x, Top)\nnone        = Range Nothing\ntotal       = Range $ Just (Bot, Top)\n\nappendRange :: Ord a => FinRange a -> FinRange a -> Range a\nappendRange (x, y) (x', y')\n    | y < x' || y' < x  = none\n    | otherwise         = Range $ Just (max x x', min y y')\n\ninstance Ord a => Monoid (Range a) where\n    mempty = total\n    mappend (Range (Just a)) (Range (Just b)) = appendRange a b\n    mappend _ _ = none\n\nmakePair :: [Dat] -> [(Dat, Dat)]\nmakePair [] = []\nmakePair (x:xs) = snd $ foldl (\\ (a, l) b -> (b, l ++ [(a,b)])) (x, []) xs\n\nimap :: (Int -> a -> b) -> [a] -> [b]\nimap f = zipWith f (from 0)\n    where from n = n:(from (n + 1))\n\nhoge :: Dat -> Dat -> Range Int\nhoge (Num n) (Num m) = if n < m then total else none\nhoge X (Num n) = lesthan n\nhoge (Num n) X = grtthan n\nhoge X X = none\n\nsolve :: [Dat] -> String\nsolve xs = case mconcat . imap f . makePair $ xs of\n    Range Nothing -> \"none\"\n    Range (Just (Value x, Value y))\n        | y - x < 2  -> \"none\"\n        | y - x == 2 -> show (x + 1)\n        | otherwise  -> \"ambiguous\"\n    _ -> \"ambiguous\"\n    where f i (x,y) = if even i then hoge x y else hoge y x\n\nfromString :: String -> Dat\nfromString \"x\" = X\nfromString n   = Num . read $ n\n\nmain :: IO ()\nmain = do\n    n <- read <$> getLine :: IO Int\n    when (n /= 0) $ do\n      dats <- fmap fromString . words <$> getLine :: IO [Dat]\n      putStrLn . solve $ dats\n      main"
  },
  {
    "language": "C",
    "code": "/*\n  AOJ 2565\n  Title:Broken Audio Signal\n  @kankichi573\n*/\n#include <stdio.h>\n#include <limits.h>\n#include <ctype.h>\n#define max(x,y) (((x)>(y))?(x):(y))\n#define min(x,y) (((x)<(y))?(x):(y))\nint N,a[1000],x[1000];\n\nvoid solve()\n{\n  int i,up,low,none_f;\n\n  up=INT_MAX;\n  low=INT_MIN;\n  none_f=0;\n  for(i=0;i<N-1;i++)\n    {\n      if(x[i]==-1)  // x\n\t{\n\t  if(x[i+1]==-1)\n\t    {\n\t      none_f=-1;\n\t      break;\n\t    }\n\t  else\n\t    {\n\t      if((i%2)==0)\n\t\tup=min(up,a[i+1]);\n\t      else\n\t\tlow=max(low,a[i+1]);\n\t    }\n\t}\n      else        // number\n\t{\n\t  if(x[i+1]==-1)\n\t    {\n\t      if((i%2)==1)\n\t\tup=min(up,a[i]);\n\t      else\n\t\tlow=max(low,a[i]);\n\t    }\n\t  else\n\t    {\n\t      if((i%2)==1)\n\t\t{\n\t\tif(a[i]<=a[i+1])\n\t\t  {\n\t\t    none_f=-1;\n\t\t    break;\n\t\t  }\n\t\t}\n\t      else\n\t\t{\n\t\t    if(a[i]>=a[i+1])\n\t\t      {\n\t\t\tnone_f=-1;\n\t\t\tbreak;\n\t\t      }\n\t\t}\t\t \n\t    }\n\t}\n    }\n\n  //printf(\"UP=%d low=%d\\n\",up,low);\n   if(low+2>up || none_f)\n    {\n      printf(\"none\\n\");\n      return;\n    }\n   else if(low+2==up)\n    {\n      printf(\"%d\\n\",(low+up)/2);\n      return;\n    }\n\n AMB:\n    printf(\"ambiguous\\n\");\n\n}\ndump()\n{\n  int i;\n  \n  for(i=0;i<N;i++)\n    if(x[i])\n      printf(\"x \");\n    else\n      printf(\"%d \",a[i]);\n  printf(\"\\n\");\n}\nmain()\n{\n  int i;\n  char c;\n\n  while(scanf(\"%d \",&N) && N)\n    {\n      for(i=0;i<100;i++)\n\ta[i]=x[i]=0;\n\n      //      printf(\"N=%d\\n\",N);\n      for(i=0;i<N;i++)\n\t{\n\tLOOP:\n\t  c=fgetc(stdin);\n\t  if(!isprint(c) || isspace(c))\n\t    goto LOOP;\n\t  else if(c=='x')\n\t    x[i]=-1;\n\t  else\n\t    {\n\t      x[i]=0;\n\t      ungetc(c,stdin);\n\t      scanf(\"%d \",&a[i]);\n\t    }\n\t}\n      //dump();\n      solve();\n    }\n  return(0);\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint main(void) {\n\tint N;\n\twhile(scanf(\"%d\",&N)==1 && N>0) {\n\t\tint i;\n\t\tchar buf[16];\n\t\tint ibuf;\n\t\tint min=-2000000000,max=2000000000;\n\t\tint previsx=0;\n\t\tint prev=0;\n\t\tint noneflag=0;\n\t\tfor(i=0;i<N;i++) {\n\t\t\tscanf(\"%s\",buf);\n\t\t\tibuf=0;\n\t\t\tif(buf[0]=='x') {\n\t\t\t\tif(previsx) {\n\t\t\t\t\tnoneflag=1;\n\t\t\t\t} else {\n\t\t\t\t\tif(i>0) {\n\t\t\t\t\t\tif(i%2==0) {\n\t\t\t\t\t\t\tif(prev-1<max)max=prev-1;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif(prev+1>min)min=prev+1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tprevisx=1;\n\t\t\t} else {\n\t\t\t\tsscanf(buf,\"%d\",&ibuf);\n\t\t\t\tif(i>0) {\n\t\t\t\t\tif(i%2==0) {\n\t\t\t\t\t\tif(previsx) {\n\t\t\t\t\t\t\tif(ibuf+1>min)min=ibuf+1;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif(prev<=ibuf)noneflag=1;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif(previsx) {\n\t\t\t\t\t\t\tif(ibuf-1<max)max=ibuf-1;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif(prev>=ibuf)noneflag=1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tprevisx=0;\n\t\t\t}\n\t\t\tprev=ibuf;\n\t\t}\n\t\tif(noneflag || min>max) {\n\t\t\tputs(\"none\");\n\t\t} else if(min==max) {\n\t\t\tprintf(\"%d\\n\",min);\n\t\t} else {\n\t\t\tputs(\"ambiguous\");\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <stdlib.h>\n\nconst int x=2e9;\nconst int amb=-2e9;\nconst int inf=2e9;\nint a[1010], xs[1010];\n\n#define max(a, b) ((a)>(b)?(a):(b))\n#define min(a, b) ((a)<(b)?(a):(b))\n\nint main(void)\n{\n    int n;\n    while (scanf(\"%d\", &n), n) {\n        char s[16];\n        int i, lb=-inf, ub=inf, none=0, amb=0;\n        for(i=0;i<n;++i) {\n            scanf(\"%s\", s);\n            a[i]=(*s=='x')?x:atoi(s);\n            if(i>0) {\n                if (a[i-1]==x && a[i]==x) none=1;\n                else if (a[i-1]!=x && a[i]!=x) {\n                    if (i%2==1 && a[i-1]>=a[i]) none=1;\n                    if (i%2==0 && a[i-1]<=a[i]) none=1;\n                }\n                else if (a[i-1]!=x) {\n                    if (i%2==1) lb=max(lb, a[i-1]+1);\n                    if (i%2==0) ub=min(ub, a[i-1]-1);\n                }\n                else {\n                    if (i%2==1) ub=min(ub, a[i]-1);\n                    if (i%2==0) lb=max(lb, a[i]+1);\n                }\n            }\n        }\n        if (none || lb>ub) { puts(\"none\"); continue; }\n        if (lb!=ub) { puts(\"ambiguous\"); continue; }\n        printf(\"%d\\n\", lb);\n    }\n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "// AOJ 2565: Broken Audio Signal\n// 2017.10.13 bal4u@uu\n\n#include <stdio.h>\n#include <stdlib.h>\n\nint a[1002];\nchar x[1002];\n\nint main()\n{\n\tint n, i, f, c, min, max;\n\tchar buf[15];\n\n\twhile (scanf(\"%d\", &n) && n > 0) {\n\t\tc = 0, f = 0;\n\t\tfor (i = 0; i < n; i++) {\n\t\t\tscanf(\"%s\", buf);\n\t\t\tif (*buf == 'x') {\n\t\t\t\ta[i] = 0, x[i] = 1, c |= 1;\n\t\t\t\tif (i > 0 && x[i-1]) c |= 2;\n\t\t\t} else a[i] = atoi(buf), x[i] = 0;\n\t\t}\n\t\tif (c <= 1) {\n\t\t\tf = 1, max = 1000000005, min = -1000000005;\n\t\t\tfor (i = 0; c <= 1 && i < n; i++) {\n\t\t\t\tif (x[i]) {\n\t\t\t\t\tif (i > 0   && !x[i-1] && a[i-1] < max) max = a[i-1];\n\t\t\t\t\tif (i < n-1 && !x[i+1] && a[i+1] < max) max = a[i+1];\n\t\t\t\t} else {\n\t\t\t\t\tif (i > 0   && !x[i-1] && a[i-1] <= a[i]) f = 0;\n\t\t\t\t\tif (i < n-1 && !x[i+1] && a[i+1] <= a[i]) f = 0;\n\t\t\t\t}\n\t\t\t\tif (++i == n) break;\n\t\t\t\tif (x[i]) {\n\t\t\t\t\tif (           !x[i-1] && a[i-1] > min) min = a[i-1];\n\t\t\t\t\tif (i < n-1 && !x[i+1] && a[i+1] > min) min = a[i+1];\n\t\t\t\t} else {\n\t\t\t\t\tif (           !x[i-1] && a[i-1] >= a[i]) f = 0;\n\t\t\t\t\tif (i < n-1 && !x[i+1] && a[i+1] >= a[i]) f = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (c == 1 && f && max - min == 2) printf(\"%d\\n\", min+1);\n\t\telse {\n\t\t\tif (c == 1 && f) f = (max - min > 2);\n\t\t\tputs(f ? \"ambiguous\" : \"none\");\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include<stdlib.h>\n#include<string.h>\nconst int INF=0x7fffffff;\nint N,A[1005],P[1005],i,r,l,m,a,t;\nchar S[15000],*p;\n\nint ch(int n)\n{\n\tint i;\n\tfor(i=1;i<=N;i++)if(P[i])A[i]=n;\n\tfor(i=1;i<=N;i++)\n\t{\n\t\tif(i%2)\n\t\t{\n\t\t\tif(A[i]<A[i-1]&&A[i]<A[i+1])continue;\n\t\t\telse if(P[i])return 1;//too big\n\t\t\treturn -1;//too small\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif(A[i]>A[i-1]&&A[i]>A[i+1])continue;\n\t\t\telse if(P[i])return -1;//too small\n\t\t\treturn 1;//too big\n\t\t}\n\t}\n\t\treturn 0;//correct\n}\n\nint main()\n{\n\tfor(;scanf(\"%d\\n\",&N),N;)\n\t{\n\t\tgets(S);\n\t\tmemset(P,0,sizeof(P));\n\t\tfor(i=0;i<=N+1;i++)A[i]=i%2?-INF:INF;\n\t\tp=strtok(S,\" \");\n\t\ti=1;\n\t\tdo\n\t\t{\n\t\t\tif(strcmp(p,\"x\")!=0)\n\t\t\t\tA[i]=atoi(p);\n\t\t\telse P[i]=1;\n\t\t\ti++;\n\t\t}while((p=strtok(NULL,\" \"))!=NULL);\n\t\tfor(l=-1000000500,r=1000000500,a=INF;l<=r;)\n\t\t{\n\t\t\tm=(l+r)/2;\n\t\t\tt=ch(m);\n\t\t\tif(t==0){a=m;break;}\n\t\t\telse if(t==-1)l=m+1;\n\t\t\telse if(t==1)r=m-1;\n\t\t}\n\t\tif(a==INF)puts(\"none\");\n\t\telse\n\t\t{\n\t\t\tif(ch(a+1)!=0&&ch(a-1)!=0)printf(\"%d\\n\",a);\n\t\t\telse puts(\"ambiguous\");\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint main(void) {\n\tint N;\n\twhile(scanf(\"%d\",&N)==1 && N>0) {\n\t\tint i;\n\t\tchar buf[16];\n\t\tint ibuf;\n\t\tint min=-2000000000,max=2000000000;\n\t\tint previsx=0;\n\t\tint prev=0;\n\t\tint noneflag=0;\n\t\tfor(i=0;i<N;i++) {\n\t\t\tscanf(\"%s\",buf);\n\t\t\tibuf=0;\n\t\t\tif(buf[0]=='x') {\n\t\t\t\tif(previsx) {\n\t\t\t\t\tnoneflag=1;\n\t\t\t\t} else {\n\t\t\t\t\tif(i>0) {\n\t\t\t\t\t\tif(i%2==0) {\n\t\t\t\t\t\t\tmax=prev-1;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tmin=prev+1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tprevisx=1;\n\t\t\t} else {\n\t\t\t\tsscanf(buf,\"%d\",&ibuf);\n\t\t\t\tif(i>0) {\n\t\t\t\t\tif(i%2==0) {\n\t\t\t\t\t\tif(previsx) {\n\t\t\t\t\t\t\tmin=ibuf+1;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif(prev<=ibuf)noneflag=1;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif(previsx) {\n\t\t\t\t\t\t\tmax=ibuf-1;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif(prev>=ibuf)noneflag=1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tprevisx=0;\n\t\t\t}\n\t\t\tprev=ibuf;\n\t\t}\n\t\tif(noneflag || min>max) {\n\t\t\tputs(\"none\");\n\t\t} else if(min==max) {\n\t\t\tprintf(\"%d\\n\",min);\n\t\t} else {\n\t\t\tputs(\"ambiguous\");\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.InputMismatchException;\nimport java.util.Scanner;\n\npublic class Main {\n\n\tpublic static void main(String[] args) {\n\t\tScanner sc = new Scanner(System.in);\n\t\twhile (true) {\n\t\t\tint n = sc.nextInt();\n\t\t\tif (n == 0)\n\t\t\t\tbreak;\n\t\t\tint[] signals = new int[n];\n\t\t\tint count = 0;\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\ttry {\n\t\t\t\t\tsignals[i] = sc.nextInt();\n\t\t\t\t} catch (InputMismatchException e) {\n\t\t\t\t\tsignals[i] = Integer.MAX_VALUE;\n\t\t\t\t\tsc.next();\n\t\t\t\t\tcount++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tint min = Integer.MIN_VALUE;\n\t\t\tint max = Integer.MAX_VALUE;\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\tif (signals[i] == Integer.MAX_VALUE) {\n\t\t\t\t\tif (i % 2 == 0) {\n\t\t\t\t\t\tif (i > 0) {\n\t\t\t\t\t\t\tmax = Math.min(max, signals[i - 1]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (i < n - 1) {\n\t\t\t\t\t\t\tmax = Math.min(max, signals[i + 1]);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmin = Math.max(min, signals[i - 1]);\n\t\t\t\t\t\tif (i < n - 1) {\n\t\t\t\t\t\t\tmin = Math.max(min, signals[i + 1]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (max - min == 2) {\n\t\t\t\tSystem.out.println((max + min) / 2);\n\t\t\t} else if (count == 1) {\n\t\t\t\tSystem.out.println(\"ambiguous\");\n\t\t\t} else {\n\t\t\t\tboolean isNone = false;\n\t\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\t\tif (signals[i] == Integer.MAX_VALUE) {\n\t\t\t\t\t\tsignals[i] = max - 1;\n\t\t\t\t\t}\n\t\t\t\t\tif (i > 0) {\n\t\t\t\t\t\tif ((i % 2 == 0 && signals[i - 1] <= signals[i])\n\t\t\t\t\t\t\t\t|| (i % 2 == 1 && signals[i - 1] >= signals[i])) {\n\t\t\t\t\t\t\tisNone = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (isNone) {\n\t\t\t\t\tSystem.out.println(\"none\");\n\t\t\t\t} else {\n\t\t\t\t\tSystem.out.println(\"ambiguous\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tsc.close();\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\nimport java.util.ArrayList;\n\npublic class Main {\n\tScanner sc = new Scanner(System.in);\n\tpublic void run(){\n\t\twhile(true){\n\t\t\tint n = sc.nextInt();\n\t\t\tif(n==0) break;\n\t\t\tcalc(n);\n\t\t}\n\t}\n\tpublic void calc(int n){\n\t\tString before = sc.next();\n\t\tint min = -1000010000;\n\t\tint max = 1000010000;\n\t\t\t\t\n\t\tfor(int i = 1; i < n; i++){\n\t\t\tString s = sc.next();\n\t\t\tif(s.equals(\"x\")){\n\t\t\t\tif(before.equals(\"x\")){//x???2??£?¶?????????????????????§?????????\n\t\t\t\t\tmin = 0;\n\t\t\t\t\tmax = 0;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\telse if(i%2 == 0){//?\\???°??????\n\t\t\t\t\tint b = Integer.parseInt(before);\n\t\t\t\t\tif (b < max){\n\t\t\t\t\t\tmax = b;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{//??¶??°??????\n\t\t\t\t\tint b = Integer.parseInt(before);\n\t\t\t\t\tif(b > min){\n\t\t\t\t\t\tmin = b;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{//??°????????´???\n\t\t\t\tint a = Integer.parseInt(s);\n\t\t\t\tif(before.equals(\"x\")){//???????£???????????????¨???\n\t\t\t\t\tif(i%2 == 0){//x?????¶??°??????\n\t\t\t\t\t\tif(a > min){\n\t\t\t\t\t\t\tmin = a;\n\t\t\t\t\t\t}\t\n\t\t\t\t\t}\n\t\t\t\t\telse{//x????\\???°??????\n\t\t\t\t\t\tif(a < max){\n\t\t\t\t\t\t\tmax = a;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{//????????°????????¨???\n\t\t\t\t\tint b = Integer.parseInt(before);\n\t\t\t\t\tif(i%2 == 0){//???????\\???°??????\n\t\t\t\t\t\tif(b <= a){\n\t\t\t\t\t\t\tmin = 0;\n\t\t\t\t\t\t\tmax = 0;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse{//????????¶??°??????\n\t\t\t\t\t\tif(b >= a){\n\t\t\t\t\t\t\tmin = 0; \n\t\t\t\t\t\t\tmax = 0;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tbefore = s;\n\t\t}\n\t\t\n\t\tif(max-min < 2){\n\t\t\tSystem.out.println(\"none\");\n\t\t}\n\t\telse if(max-min == 2){\n\t\t\tSystem.out.println(max-1);\n\t\t}\n\t\telse{\n\t\t\tSystem.out.println(\"ambiguous\");\n\t\t}\n\t}\n\t\n\tpublic static void main(String[] args){\n\t\tnew Main().run();\n\t}\n\t\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\n\npublic class Main {\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        Scanner sc=new Scanner(System.in);\n        int x = Integer.MAX_VALUE;\n        l:for(;;){\n            int n = sc.nextInt();\n            if(n==0)break;\n            int[] a = new int[n];\n            for (int i = 0; i < a.length; i++) {\n                String s = sc.next();\n                if(s.equals(\"x\")){\n                    a[i]=x;\n                } else {\n                    a[i]=Integer.parseInt(s);\n                }\n            }\n            for (int i = 0; i < a.length; i++) {\n                if(i<a.length-1)\n                    if(a[i]==a[i+1]){\n                        System.out.println(\"none\");\n                        continue l;\n                    }\n                if(a[i]==x)continue;\n                if(i==0){\n                    if(a[i]>=a[i+1]){\n                        System.out.println(\"none\");\n                        continue l;\n                    }\n                    continue;\n                }\n                if(i==a.length-1){\n                    if(i%2==0){\n                        if(a[i]>=a[i-1]){\n                            System.out.println(\"none\");\n                            continue l;\n                        }\n                    } else {\n                        if(a[i]<=a[i-1]){\n                            System.out.println(\"none\");\n                            continue l;\n                        }\n                    }\n                    continue;\n                }\n                if(i%2==0){\n                    if(a[i]>=a[i-1] || a[i] >= a[i+1]){\n                        System.out.println(\"none\");\n                        continue l;\n                    }\n                } else {\n                    if(a[i]<=a[i-1] || a[i]>=a[i+1]){\n                        System.out.println(\"none\");\n                        continue l;\n                    }\n                }\n                \n                \n            }\n            // odd smaller\n            int bigger = Integer.MAX_VALUE-1;\n            int smaller= Integer.MIN_VALUE+1;\n            for (int i = 0; i < a.length; i++) {\n                if(a[i]!=x){\n                    continue;\n                }\n                if(i%2==1){\n                    if(i==0){\n                        bigger= Math.min(bigger, a[i+1]+1);\n                    } else if(i==a.length-1){\n                        bigger= Math.min(bigger, a[i-1]+1);\n                    } else {\n                        bigger= Math.min(bigger, Math.max(a[i-1], a[i+1])+1);\n                    }\n                } else {\n                    // smaller than neibor\n                    if(i==0){\n                        smaller= Math.max(smaller, a[i+1]-1);\n                    } else if(i==a.length-1){\n                        smaller= Math.max(smaller, a[i-1]-1);\n                    } else {\n                        smaller = Math.max(smaller, Math.min(a[i-1], a[i+1])-1);\n                    }\n                }\n            }\n//            System.out.println(smaller +\" \"+bigger);\n            if(bigger==Integer.MAX_VALUE-1 || smaller == Integer.MIN_VALUE+1){\n                System.out.println(\"ambiguous\");\n            } else if(bigger == smaller){\n                System.out.println(bigger);\n            } else if(bigger<smaller){\n                System.out.println(\"ambiguous\");\n            } else {\n                System.out.println(\"none\");\n            }\n        }\n    }\n\n}"
  },
  {
    "language": "Java",
    "code": "\nimport java.util.*;\nimport java.io.*;\n\npublic class Main{\n    static final Reader sc = new Reader();\n    static final PrintWriter out = new PrintWriter(System.out,false);\n\n    public static void main(String[] args) throws Exception {\n    \t\n    \twhile(true){\n    \t\tint n = sc.nextInt();\n    \t\tif(n==0){\n    \t\t\tbreak;\n    \t\t}\n    \t\tint under = Integer.MIN_VALUE/2;\n    \t\tint top = Integer.MAX_VALUE/2;\n    \t\tString[] s = new String[n];\n    \t\tfor(int i=0;i<n;i++){\n    \t\t\ts[i] = sc.next();\n    \t\t}\n    \t\tboolean flag = false;\n    \t\tboolean none = false;\n    \t\tfor(int i=0;i<n;i++){\n    \t\t\tif(s[i].charAt(0)=='x'){\n    \t\t\t\tif(flag){\n    \t\t\t\t\tnone = true;\n    \t\t\t\t\tbreak;\n    \t\t\t\t}\n    \t\t\t\telse{\n    \t\t\t\t\tflag = true;\n    \t\t\t\t}\n    \t\t\t}\n    \t\t\telse{\n    \t\t\t\tflag = false;\n    \t\t\t}\n    \t\t}\n    \t\tif(none){\n    \t\t\tout.println(\"none\");\n    \t\t}\n    \t\telse{\n    \t\t\tflag = false;\n    \t\t\tfor(int i=0;i<n;i++){\n    \t\t\t\tif(s[i].charAt(0)=='x'){\n    \t\t\t\t\tif(flag){\n    \t\t\t\t\t\tif(i==0){\n    \t\t\t\t\t\t\tunder = Math.max(under,Integer.parseInt(s[i+1]));\n    \t\t\t\t\t\t}\n    \t\t\t\t\t\telse if(i==n-1){\n    \t\t\t\t\t\t\tunder = Math.max(under,Integer.parseInt(s[i-1]));\n    \t\t\t\t\t\t}\n    \t\t\t\t\t\telse{\n    \t\t\t\t\t\t\tunder = Math.max(under,Math.max(Integer.parseInt(s[i-1]),Integer.parseInt(s[i+1])));\n    \t\t\t\t\t\t}\n    \t\t\t\t\t}\n    \t\t\t\t\telse{\n    \t\t\t\t\t\tif(i==n-1){\n    \t\t\t\t\t\t\ttop = Math.min(top,Integer.parseInt(s[i-1]));\n    \t\t\t\t\t\t}\n    \t\t\t\t\t\telse if(i==0){\n    \t\t\t\t\t\t\ttop = Math.min(top,Integer.parseInt(s[i+1]));\n    \t\t\t\t\t\t}\n    \t\t\t\t\t\telse{\n    \t\t\t\t\t\t\ttop = Math.min(top,Math.min(Integer.parseInt(s[i-1]),Integer.parseInt(s[i+1])));\n    \t\t\t\t\t\t}\n    \t\t\t\t\t}\n    \t\t\t\t}\n    \t\t\t\telse if(flag){\n    \t\t\t\t\t\tif(i==n-1){\n    \t\t\t\t\t\t\tif(s[i-1].charAt(0)!='x'){\n    \t\t\t\t\t\t\t\tint a = Integer.parseInt(s[i-1]);\n    \t\t\t\t\t\t\t\tint b = Integer.parseInt(s[i]);\n    \t\t\t\t\t\t\t\tif(a>=b){\n    \t\t\t\t\t\t\t\t\tnone = true;\n    \t\t\t\t\t\t\t\t}\n    \t\t\t\t\t\t\t}\n    \t\t\t\t\t\t}\n    \t\t\t\t\t\telse{\n    \t\t\t\t\t\t\tif(s[i-1].charAt(0)!='x'){\n    \t\t\t\t\t\t\t\tint a = Integer.parseInt(s[i-1]);\n    \t\t\t\t\t\t\t\tint b = Integer.parseInt(s[i]);\n    \t\t\t\t\t\t\t\tif(a>=b){\n    \t\t\t\t\t\t\t\t\tnone = true;\n    \t\t\t\t\t\t\t\t}\n    \t\t\t\t\t\t\t}\n    \t\t\t\t\t\t\tif(s[i+1].charAt(0)!='x'){\n    \t\t\t\t\t\t\t\tint a = Integer.parseInt(s[i+1]);\n    \t\t\t\t\t\t\t\tint b = Integer.parseInt(s[i]);\n    \t\t\t\t\t\t\t\tif(a>=b){\n    \t\t\t\t\t\t\t\t\tnone = true;\n    \t\t\t\t\t\t\t\t}\n    \t\t\t\t\t\t\t}\n    \t\t\t\t\t\t}\n    \t\t\t\t\t}\n    \t\t\t\t\telse{\n    \t\t\t\t\t\tif(i==0){\n    \t\t\t\t\t\t\tif(s[i+1].charAt(0)!='x'){\n    \t\t\t\t\t\t\t\tint a = Integer.parseInt(s[i+1]);\n    \t\t\t\t\t\t\t\tint b = Integer.parseInt(s[i]);\n    \t\t\t\t\t\t\t\tif(a<=b){\n    \t\t\t\t\t\t\t\t\tnone = true;\n    \t\t\t\t\t\t\t\t}\n    \t\t\t\t\t\t\t}\n    \t\t\t\t\t\t}\n    \t\t\t\t\t\telse if(i==n-1){\n    \t\t\t\t\t\t\tif(s[i-1].charAt(0)!='x'){\n    \t\t\t\t\t\t\t\tint a = Integer.parseInt(s[i-1]);\n    \t\t\t\t\t\t\t\tint b = Integer.parseInt(s[i]);\n    \t\t\t\t\t\t\t\tif(a<=b){\n    \t\t\t\t\t\t\t\t\tnone = true;\n    \t\t\t\t\t\t\t\t}\n    \t\t\t\t\t\t\t}\n    \t\t\t\t\t\t}\n    \t\t\t\t\t\telse{\n    \t\t\t\t\t\t\tif(s[i+1].charAt(0)!='x'){\n    \t\t\t\t\t\t\t\tint a = Integer.parseInt(s[i+1]);\n    \t\t\t\t\t\t\t\tint b = Integer.parseInt(s[i]);\n    \t\t\t\t\t\t\t\tif(a<=b){\n    \t\t\t\t\t\t\t\t\tnone = true;\n    \t\t\t\t\t\t\t\t}\n    \t\t\t\t\t\t\t}\n    \t\t\t\t\t\t\tif(s[i-1].charAt(0)!='x'){\n    \t\t\t\t\t\t\t\tint a = Integer.parseInt(s[i-1]);\n    \t\t\t\t\t\t\t\tint b = Integer.parseInt(s[i]);\n    \t\t\t\t\t\t\t\tif(a<=b){\n    \t\t\t\t\t\t\t\t\tnone = true;\n    \t\t\t\t\t\t\t\t}\n    \t\t\t\t\t\t\t}\n    \t\t\t\t\t\t}\n    \t\t\t\t\t}\n    \t\t\t\t\tflag = !flag;\n    \t\t\t\t}\n    \t\t\tif(none){\n    \t\t\t\tout.println(\"none\");\n    \t\t\t}\n    \t\t\telse if(top-under == 2){\n    \t\t\t\tout.println(under+1);\n    \t\t\t}\n    \t\t\telse if(top-under > 2){\n    \t\t\t\tout.println(\"ambiguous\");\n    \t\t\t}\n    \t\t\telse{\n    \t\t\t\tout.println(\"none\");\n    \t\t\t}\n    \t\t}\n    \t\tout.flush();\n    \t}\n\n        sc.close();\n        out.close();\n    }\n\n    static void trace(Object... o) { System.out.println(Arrays.deepToString(o));}\n}\n\nclass Reader {\n\n    private final InputStream in;\n    private final byte[] buf = new byte[1024];\n    private int ptr = 0;\n    private int buflen = 0;\n\n    public Reader() { this(System.in);}\n    public Reader(InputStream source) { this.in = source;}\n\n    private boolean hasNextByte() {\n        if (ptr < buflen) return true;\n        ptr = 0;\n        try{\n            buflen = in.read(buf);\n        }catch (IOException e) {e.printStackTrace();}\n        if (buflen <= 0) return false;\n        return true;\n    }\n\n    private int readByte() { if (hasNextByte()) return buf[ptr++]; else return -1;}\n\n    private boolean isPrintableChar(int c) { return 33 <= c && c <= 126;}\n\n    private void skip() { while(hasNextByte() && !isPrintableChar(buf[ptr])) ptr++;}\n\n    public boolean hasNext() {skip(); return hasNextByte();}\n\n    public String next() {\n        if (!hasNext()) throw new NoSuchElementException();\n        StringBuilder sb = new StringBuilder();\n        int b = readByte();\n        while (isPrintableChar(b)) {\n            sb.appendCodePoint(b);\n            b = readByte();\n        }\n        return sb.toString();\n    }\n\n    public long nextLong() {\n        if (!hasNext()) throw new NoSuchElementException();\n        boolean minus = false;\n        long num = readByte();\n\n        if(num == '-'){\n            num = 0;\n            minus = true;\n        }else if (num < '0' || '9' < num){\n            throw new NumberFormatException();\n        }else{\n            num -= '0';\n        }\n\n        while(true){\n            int b = readByte();\n            if('0' <= b && b <= '9')\n                num = num * 10 + (b - '0');\n            else if(b == -1 || !isPrintableChar(b))\n                return minus ? -num : num;\n            else\n                throw new NoSuchElementException();\n        }\n    }\n\n    public int nextInt() {\n        long num = nextLong();\n        if (num < Integer.MIN_VALUE || Integer.MAX_VALUE < num)\n            throw new NumberFormatException();\n        return (int)num;\n    }\n\n    public double nextDouble() {\n        return Double.parseDouble(next());\n    }\n\n    public char nextChar() {\n        if (!hasNext()) throw new NoSuchElementException();\n        return (char)readByte();\n    }\n\n    public String nextLine() {\n        while (hasNextByte() && (buf[ptr] == '\\n' || buf[ptr] == '\\r')) ptr++;\n        if (!hasNextByte()) throw new NoSuchElementException();\n\n        StringBuilder sb = new StringBuilder();\n        int b = readByte();\n        while (b != '\\n' && b != '\\r') {\n            sb.appendCodePoint(b);\n            b = readByte();\n        }\n\n        return sb.toString();\n    }\n\n    public int[] nextIntArray(int n) {\n        int[] res = new int[n];\n        for (int i=0; i<n; i++) res[i] = nextInt();\n        return res;\n    }\n\n    public char[] nextCharArray(int n) {\n        char[] res = new char[n];\n        for (int i=0; i<n; i++) res[i] = nextChar();\n        return res;\n    }\n\n    public void close() {try{ in.close();}catch(IOException e){ e.printStackTrace();}};\n}"
  },
  {
    "language": "Java",
    "code": "// Broken Audio Signal\nimport java.util.Scanner;\nimport static java.lang.Integer.parseInt;\n\npublic class Main {\n\tpublic static void main(String[] args) {\n\t\tScanner sc = new Scanner(System.in);\n\t\twhile (true) {\n\t\t\tint n = sc.nextInt();\n\t\t\tif (n == 0)\n\t\t\t\tbreak;\n\t\t\tString[] signals = new String[n];\n\t\t\tfor (int i = 0; i < signals.length; i++)\n\t\t\t\tsignals[i] = sc.next();\n\t\t\tint max = (int) 1e9;\n\t\t\tint min = (int) -1e9;\n\t\t\tfor (int i = 1; i < signals.length - 1; i++) {\n\t\t\t\tif (signals[i].equals(\"x\"))\n\t\t\t\t\tif (i % 2 == 1)\n\t\t\t\t\t\tmin = Math.max(min, Math.max(parseInt(signals[i - 1]),\n\t\t\t\t\t\t\t\tparseInt(signals[i + 1])));\n\t\t\t\t\telse\n\t\t\t\t\t\tmax = Math.min(max, Math.min(parseInt(signals[i - 1]),\n\t\t\t\t\t\t\t\tparseInt(signals[i + 1])));\n\t\t\t}\n\t\t\tif (signals[0].equals(\"x\"))\n\t\t\t\tmax = Math.min(max, parseInt(signals[1]));\n\t\t\tif (signals[signals.length - 1].equals(\"x\"))\n\t\t\t\tif (signals.length % 2 == 1)\n\t\t\t\t\tmax = Math.min(max, parseInt(signals[signals.length - 2]));\n\t\t\t\telse\n\t\t\t\t\tmin = Math.max(min, parseInt(signals[signals.length - 2]));\n\t\t\tif (containsX(signals))\n\t\t\t\tif (max - min == 2)\n\t\t\t\t\tSystem.out.println((max + min) / 2);\n\t\t\t\telse if (max - min > 2)\n\t\t\t\t\tSystem.out.println(\"ambiguous\");\n\t\t\t\telse\n\t\t\t\t\tSystem.out.println(\"none\");\n\t\t\telse if (isFormatted(signals))\n\t\t\t\tSystem.out.println(\"ambiguous\");\n\t\t\telse\n\t\t\t\tSystem.out.println(\"none\");\n\t\t}\n\t\tsc.close();\n\t}\n\n\tprivate static boolean isFormatted(String[] signals) {\n\t\tfor (int i = 0; i < signals.length - 1; i++)\n\t\t\tif (i % 2 == 0 && parseInt(signals[i]) >= parseInt(signals[i + 1]))\n\t\t\t\treturn false;\n\t\t\telse if (i % 2 == 1 && parseInt(signals[i]) <= parseInt(signals[i + 1]))\n\t\t\t\treturn false;\n\t\treturn true;\n\t}\n\n\tprivate static boolean containsX(String[] signals) {\n\t\tfor (String str : signals)\n\t\t\tif (str.equals(\"x\"))\n\t\t\t\treturn true;\n\t\treturn false;\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.InputMismatchException;\nimport java.util.Scanner;\n\npublic class Main {\n\n\tpublic static void main(String[] args) {\n\t\tScanner sc = new Scanner(System.in);\n\t\twhile (true) {\n\t\t\tint n = sc.nextInt();\n\t\t\tif (n == 0)\n\t\t\t\tbreak;\n\t\t\tint[] signals = new int[n];\n\t\t\tint count = 0;\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\ttry {\n\t\t\t\t\tsignals[i] = sc.nextInt();\n\t\t\t\t} catch (InputMismatchException e) {\n\t\t\t\t\tsignals[i] = Integer.MAX_VALUE;\n\t\t\t\t\tsc.next();\n\t\t\t\t\tcount++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tint min = Integer.MIN_VALUE;\n\t\t\tint max = Integer.MAX_VALUE;\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\tif (signals[i] == Integer.MAX_VALUE) {\n\t\t\t\t\tif (i % 2 == 0) {\n\t\t\t\t\t\tif (i > 0) {\n\t\t\t\t\t\t\tmax = Math.min(max, signals[i - 1]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (i < n - 1) {\n\t\t\t\t\t\t\tmax = Math.min(max, signals[i + 1]);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmin = Math.max(min, signals[i - 1]);\n\t\t\t\t\t\tif (i < n - 1) {\n\t\t\t\t\t\t\tmin = Math.max(min, signals[i + 1]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (max - min == 2) {\n\t\t\t\tboolean isNone = false;\n\t\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\t\tif (signals[i] == Integer.MAX_VALUE) {\n\t\t\t\t\t\tsignals[i] = max - 1;\n\t\t\t\t\t}\n\t\t\t\t\tif (i > 0) {\n\t\t\t\t\t\tif ((i % 2 == 0 && signals[i - 1] <= signals[i])\n\t\t\t\t\t\t\t\t|| (i % 2 == 1 && signals[i - 1] >= signals[i])) {\n\t\t\t\t\t\t\tisNone = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (isNone) {\n\t\t\t\t\tSystem.out.println(\"none\");\n\t\t\t\t} else {\n\t\t\t\t\tSystem.out.println((max + min) / 2);\n\t\t\t\t}\n\t\t\t} else if (count == 1) {\n\t\t\t\tSystem.out.println(\"ambiguous\");\n\t\t\t} else {\n\t\t\t\tboolean isNone = false;\n\t\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\t\tif (signals[i] == Integer.MAX_VALUE) {\n\t\t\t\t\t\tsignals[i] = max - 1;\n\t\t\t\t\t}\n\t\t\t\t\tif (i > 0) {\n\t\t\t\t\t\tif ((i % 2 == 0 && signals[i - 1] <= signals[i])\n\t\t\t\t\t\t\t\t|| (i % 2 == 1 && signals[i - 1] >= signals[i])) {\n\t\t\t\t\t\t\tisNone = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (isNone) {\n\t\t\t\t\tSystem.out.println(\"none\");\n\t\t\t\t} else {\n\t\t\t\t\tSystem.out.println(\"ambiguous\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tsc.close();\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.*;\nimport java.util.*;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\nimport java.lang.ArrayIndexOutOfBoundsException;\nimport java.math.BigInteger;\n\nimport javax.script.AbstractScriptEngine;\n\n\n/**\n * @author yoshikyoto\n */\nclass Main extends MyUtil{\n\t// public static Graph g;\n\t\n\tpublic static void main(String[] args) throws Exception{\n\t\tBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n\t\t\n\t\twhile(true){\n\t\t\tint n = Integer.parseInt(br.readLine());\n\t\t\tif(n == 0) break;\n\t\t\t\n\t\t\tString[] arr = br.readLine().split(\" \");\n\t\t\t\n\t\t\tint min = -1000000002;\n\t\t\tint max = 1000000002;\n\t\t\t\n\t\t\tfor(int i = 0; i < n; i++){\n\t\t\t\tif(arr[i].equals(\"x\")){\n\t\t\t\t\t// xが2つ並んでいた時点で、「xはxより大きい」となってしまい矛盾する\n\t\t\t\t\tif(i != n-1 && arr[i+1].equals(\"x\")){\n\t\t\t\t\t\tmin = 1000000002;\n\t\t\t\t\t\tmax = -1000000002;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// 注意: iは0始まりである\n\t\t\t\t\tif(i % 2 == 0){\n\t\t\t\t\t\t// iが偶数の場合、左右のどちらの値よりも小さい\n\t\t\t\t\t\tif(i != 0)\n\t\t\t\t\t\t\tmax = Math.min(max, Integer.parseInt(arr[i-1]) - 1);\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(i != n-1)\n\t\t\t\t\t\t\tmax = Math.min(max, Integer.parseInt(arr[i+1]) - 1);\n\t\t\t\t\t}else{\n\t\t\t\t\t\t// iが奇数の場合、左右のどちらの値よりも大きい\n\t\t\t\t\t\tif(i != 0)\n\t\t\t\t\t\t\tmin = Math.max(min, Integer.parseInt(arr[i-1]) + 1);\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(i != n-1)\n\t\t\t\t\t\t\tmin = Math.max(min, Integer.parseInt(arr[i+1]) + 1);\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\t// 左右の数字の大きさに矛盾がないことを確認しなければならない\n\t\t\t\t\tint value = Integer.parseInt(arr[i]);\n\t\t\t\t\tint left_value = 0, right_value = 0;\n\t\t\t\t\tboolean left_flag = true, right_flag = true;\n\t\t\t\t\ttry{\n\t\t\t\t\t\tleft_value = Integer.parseInt(arr[i-1]);\n\t\t\t\t\t}catch(Exception e){\n\t\t\t\t\t\tleft_flag = false;\n\t\t\t\t\t}\n\t\t\t\t\ttry{\n\t\t\t\t\t\tright_value = Integer.parseInt(arr[i+1]);\n\t\t\t\t\t}catch(Exception e){\n\t\t\t\t\t\tright_flag = false;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif(i % 2 == 0){\n\t\t\t\t\t\t// iが偶数の場合、左右のどちらの値よりもちいさくなければならない\n\t\t\t\t\t\tif(left_flag && left_value < value){\n\t\t\t\t\t\t\t// 矛盾がある場合\n\t\t\t\t\t\t\tmin = 1000000002;\n\t\t\t\t\t\t\tmax = -1000000002;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(right_flag && right_value < value){\n\t\t\t\t\t\t\tmin = 1000000002;\n\t\t\t\t\t\t\tmax = -1000000002;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\t// iが奇数の場合、左右のどちらの値よりも大くなければならない\n\t\t\t\t\t\tif(left_flag && left_value > value){\n\t\t\t\t\t\t\tmin = 1000000002;\n\t\t\t\t\t\t\tmax = -1000000002;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(right_flag && right_value > value){\n\t\t\t\t\t\t\tmin = 1000000002;\n\t\t\t\t\t\t\tmax = -1000000002;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(max == min){\n\t\t\t\tSystem.out.println(max);\n\t\t\t}else if(min < max){\n\t\t\t\tSystem.out.println(\"ambiguous\");\n\t\t\t}else{\n\t\t\t\tSystem.out.println(\"none\");\n\t\t\t}\n\t\t}\n\t}\n}\n\n\n// --- ここから下はライブラリ ----------\n \nclass ArrayComp implements Comparator<int[]>{\n\tpublic int compare(int[] a, int[] b){\n\t\tint l = Math.min(a.length, b.length);\n\t\tfor(int i = 0; i < l; i++){\n\t\t\tif(a[i] == b[i]) continue;\n\t\t\treturn a[i] - b[i];\n\t\t}\n\t\treturn 0;\n\t}\n}\n \nclass Node extends ArrayList<Edge>{\n\tint index, depth = -1, dist = -1;\n\tNode(int index){this.index = index;}\n\tNode parent;\n\tboolean visited = false;\n}\nclass Edge{\n\tint from, to, cost;\n\tEdge(int from, int to, int cost){\n\t\tthis.from = from;\n\t\tthis.to = to;\n\t\tthis.cost = cost;\n\t}\n}\nclass NodeComparator implements Comparator<Node>{\n\tpublic int compare(Node a, Node b){\n\t\treturn a.dist - b.dist;\n\t}\n}\n \nclass Graph{\n\tNode n[];\n\tGraph(int node_count){\n\t\tn = new Node[node_count];\n\t\tfor(int i = 0; i < node_count; i++) n[i] = new Node(i);\n\t}\n\tpublic void add(Edge e){\n\t\tn[e.from].add(e);\n\t}\n\tpublic Node get(int i){return n[i];}\n\tpublic Node lca(int a, int b){\n\t\t// 浅い方をaとする\n\t\tNode nodeA, nodeB;\n\t\tif(n[a].depth < n[b].depth){\n\t\t\tnodeA = n[a];\n\t\t\tnodeB = n[b];\n\t\t}else{\n\t\t\tnodeA = n[b];\n\t\t\tnodeB = n[a];\n\t\t}\n\t\t// 同じ深さまで親をたどる\n\t\tint diff = nodeB.depth - nodeA.depth;\n\t\tfor(int k = 0; k < diff; k++){\n\t\t\tnodeB = nodeB.parent;\n\t\t}\n\t\t// 共通祖先を見つける\n\t\twhile(nodeA != nodeB){\n\t\t\tnodeA = nodeA.parent;\n\t\t\tnodeB = nodeB.parent;\n\t\t}\n\t\treturn nodeA;\n\t}\n\tpublic void calcDepth(int root){\n\t\tArrayDeque<Integer> que = new ArrayDeque<Integer>();\n\t\tque.push(root);\n\t\tn[root].depth = 0;\n \n\t\twhile(que.size() > 0){\n\t\t\tint curr = que.pop();\n\t\t\tNode curr_node = n[curr];\n\t\t\tfor(Edge e : curr_node){\n\t\t\t\tint next = e.to;\n\t\t\t\tNode next_node = n[next];\n\t\t\t\tif(next_node.depth == -1){\n\t\t\t\t\tnext_node.depth = curr_node.depth + 1;\n\t\t\t\t\tnext_node.parent = curr_node;\n\t\t\t\t\tque.push(next);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n \n\tpublic int[] dijkstra(int s){\n\t\tPriorityQueue<Node> q = new PriorityQueue<Node>(n.length, new NodeComparator());\n\t\tNode start_node = new Node(s);\n\t\tstart_node.dist = 0;\n\t\tq.add(start_node);\n\t\tint[] dist = new int[n.length];\n\t\tfor (int i = 0; i < dist.length; i++)  dist[i] = -1;\n\t\tdist[s] = 0;\n \n\t\twhile(q.size() > 0){\n\t\t\tNode currNode = q.poll();\n\t\t\tif(dist[currNode.index] < currNode.dist) continue;\n\t\t\tfor(Edge e : n[currNode.index]){\n\t\t\t\tNode nextNode = new Node(e.to);\n\t\t\t\tnextNode.dist = currNode.dist + e.cost;\n\t\t\t\tif(dist[e.to] == -1 || dist[e.to] > nextNode.dist){\n\t\t\t\t\tdist[e.to] = nextNode.dist;\n\t\t\t\t\tq.add(nextNode);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn dist;\n\t}\n}\n \n \n \nclass Regex{\n\tPattern p; Matcher m; String str;\n\tRegex(String regex_str){p = Pattern.compile(regex_str);}\n\tvoid setStr(String str){m = p.matcher(str);}\n\tboolean find(){return m.find();}\n\tString group(int i){return m.group(i);}\n\tString group(){return m.group();}\n}\n \n/**\n * UnionFindTree \n * @author yoshikyoto\n */\nclass UnionFindTree{\n\tpublic int[] parent, rank;\n\tpublic int n;\n\tpublic int count;\n\t// 初期化\n\tUnionFindTree(int n){\n\t\tthis.n = n;\n\t\tcount = n;\n\t\tparent = new int[n];\n\t\trank = new int[n];\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tparent[i] = i;\n\t\t\trank[i] = 0;\n\t\t}\n\t}\n\t// 根を求める\n\tint find(int x){\n\t\tif(parent[x] == x){\n\t\t\treturn x;\n\t\t}else{\n\t\t\treturn parent[x] = find(parent[x]);\n\t\t}\n\t}\n\t// xとyの集合を結合\n\tvoid unite(int x, int y){\n\t\tx = find(x);\n\t\ty = find(y);\n\t\tif(x == y){\n\t\t\treturn;\n\t\t}\n\t\tif(rank[x] < rank[y]){\n\t\t\tparent[x] = y;\n\t\t\tcount--;\n\t\t}else{\n\t\t\tparent[y] = x;\n\t\t\tif(rank[x] == rank[y]) rank[x]++;\n\t\t\tcount--;\n\t\t}\n\t}\n\t// xとyが同じ集合か\n\tboolean same(int x, int y){\n\t\treturn find(x) == find(y);\n\t}\n};\n \n \n\n \nclass CountHashMap<E> extends HashMap<E, Integer>{\n\tArrayList<E> keyArray = new ArrayList<E>();\n\tpublic void add(E key){add(key, 1);}\n\tpublic void add(E key, Integer value){\n\t\tif(containsKey(key)){value += get(key);\n\t\t}else{keyArray.add(key);}\n\t\tput(key, value);\n\t}\n}\n \n/**\n * MyUtil\n * @author yoshikyoto\n */\nclass MyUtil extends MyIO{\n\tpublic static Random rand = new Random();\n\tpublic static int digit(int n){return String.valueOf(n).length();}\n\tpublic static String reverse(String s){return (new StringBuffer(s)).reverse().toString();}\n\tpublic static void dsort(int[] a){\n\t\tArrays.sort(a);\n\t\tint l = a.length;\n\t\tfor(int i = 0; i < l/2; i++){\n\t\t\tint tmp = a[i]; a[i] = a[l-1-i]; a[l-1-i] = tmp;\n\t\t}\n\t}\n\tpublic static void sleep(int t){try{Thread.sleep(t);}catch(Exception e){}}\n\tpublic static int sum(int[] a){int s = 0; for(int i = 0; i < a.length; i++)s+=a[i]; return s;}\n\tpublic static int[] cp(int[] a){\n\t\tint[] b = new int[a.length];\n\t\tfor(int i = 0; i < a.length; i++) b[i] = a[i];\n\t\treturn b;\n\t}\n\tpublic static int randomInt(int min, int max){return min + rand.nextInt(max - min + 1);}\n\tstatic boolean inside(int y, int x, int h, int w){return 0 <= y && y <= (h-1) && 0 <= x && x <= (w-1);};\n\tpublic static boolean isUpper(char c){return 'A'<=c&&c<='Z';}\n\tpublic static boolean isLower(char c){return 'a'<=c&&c<='z';}\n\tpublic static char toUpper(char c){\n\t\tif(isLower(c)) return (char)(c - 'a' + 'A');\n\t\treturn c;\n\t}\n\tpublic static char toLower(char c){\n\t\tif(isUpper(c)) return (char)(c - 'A' + 'a');\n\t\treturn c;\n\t}\n\tpublic static int[] swap(int[] arr, int i, int j){\n\t\tint[] ret = cp(arr);\n\t\tint tmp = ret[i];\n\t\tret[i] = ret[j];\n\t\tret[j] = tmp;\n\t\treturn ret;\n\t}\n\tpublic static int toInt(boolean[] a){\n\t\tint pow = 1, ret = 0, l = a.length;\n\t\tfor(int i = 0; i < l; i++){\n\t\t\tif(a[i]) ret += pow;\n\t\t\tpow *= 2;\n\t\t}\n\t\treturn ret;\n\t}\n}\n \n/**\n * MyIO\n * @author yoshikyoto\n */\nclass MyIO extends MyMath{\n\tstatic Scanner sc = new Scanner(new InputStreamReader(System.in));\n\tpublic static char scNextChar(){return sc.next().charAt(0);}\n\tstatic BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n\tpublic static String line;\n \n\tpublic static int ins[];\n\tpublic static int[] readIntMap() throws IOException{return parseInt(readLine().split(\" \"));}\n\tpublic static int readIntMap(int i) throws Exception{\n\t\tif(i == 0) ins = readIntMap();\n\t\treturn ins[i];\n\t}\n\tpublic static int[][] readIntMap(int n, int m) throws IOException{\n\t\tint[][] ret = new int[n][];\n\t\tfor(int i = 0; i < n; i++) ret[i] = readIntMap();\n\t\treturn ret;\n\t}\n\tpublic static int[] readIntToMap(int n) throws IOException{\n\t\tint[] ret = new int[n];\n\t\tfor(int i = 0; i < n; i++) ret[i] = readInt();\n\t\treturn ret;\n\t}\n\tpublic static int[] readNoDistIntMap() throws IOException{\n\t\tString[] strs = readLine().split(\"\");\n\t\tint l = strs.length;\n\t\tint[] ret = new int[l-1];\n\t\tfor(int i = 1; i < l; i++)\n\t\t\tret[i-1] = parseInt(strs[i]);\n\t\treturn ret;\n\t}\n\tpublic static boolean readToLine() throws IOException{return (line = br.readLine()) != null;}\n\tpublic static String readLine() throws IOException{return br.readLine();}\n\tpublic static int readInt() throws IOException{return Integer.parseInt(br.readLine());}\n\tpublic static int[] parseInt(String[] arr){\n\t\tint[] res = new int[arr.length];\n\t\tfor(int i = 0; i < arr.length; i++)res[i] = Integer.parseInt(arr[i]);\n\t\treturn res;\n\t}\n\tpublic static double[] parseDouble(String[] arr){\n\t\tdouble[] res = new double[arr.length];\n\t\tfor(int i = 0; i < arr.length; i++)res[i] = Double.parseDouble(arr[i]);\n\t\treturn res;\n\t}\n\tpublic static boolean[] parseBool(String[] arr){\n\t\tint[] t = parseInt(arr);\n\t\tboolean[] res = new boolean[t.length];\n\t\tfor(int i = 0; i < t.length; i++){\n\t\t\tif(t[i] == 1){res[i] = true;\n\t\t\t}else{res[i] = false;}\n\t\t}\n\t\treturn res;\n\t}\n\tpublic static int parseInt(Object o){return Integer.parseInt(o.toString());}\n}\n \nclass MyMath{\n\tpublic static int max(int[] arr){return max(arr, 0, arr.length-1);}\n\tpublic static int max(int[] arr, int l, int r){\n\t\tint max = arr[l];\n\t\tfor(int i = l+1; i <= r; i++)\n\t\t\tmax = Math.max(max, arr[i]);\n\t\treturn max;\n\t}\n\tpublic static int min(int[] arr){return min(arr, 0, arr.length-1);}\n\tpublic static int min(int[] arr, int l, int r){\n\t\tint min = arr[l];\n\t\tfor(int i = l+1; i <= r; i++)\n\t\t\tmin = Math.min(min, arr[i]);\n\t\treturn min;\n\t}\n\tpublic static boolean isCross(int x1, int y1, int x2, int y2, int x3, int y3, int x4, int y4){\n\t\t// 並行な場合\n\t\tint m = (x2-x1)*(y4-y3)-(y2-y1)*(x4-x3);\n\t\tif(m == 0) return false;\n\t\t// 媒介変数の値が0より大きく1以下なら交差する、これは問題の状況によって変わるかも。\n\t\tdouble r =(double)((y4-y3)*(x3-x1)-(x4-x3)*(y3-y1))/m;\n\t\tdouble s =(double)((y2-y1)*(x3-x1)-(x2-x1)*(y3-y1))/m;\n\t\treturn (0 < r && r <= 1 && 0 < s && s <= 1);\n\t}\n\tpublic static boolean isParallel(int x1, int y1, int x2, int y2, int x3, int y3, int x4, int y4){\n\t\tif((x2-x1)*(y4-y3) == (y2-y1)*(x4-x3)) return true;\n\t\telse return false;\n\t}\n\tpublic static double sq(double d){return d*d;}\n\tpublic static int sq(int i){return i*i;}\n\tpublic static int sqdist(int x1, int y1, int x2, int y2){return (x1-x2) + sq(y1-y2);}\n\tpublic static double sqdist(double x1, double y1, double x2, double y2){return sq(x1-x2) + sq(y1-y2);}\n\tpublic static double dist(int x1, int y1, int x2, int y2){return Math.sqrt(sqdist(x1, y1, x2, y2));}\n\tpublic static double dist(double x1, double y1, double x2, double y2){return Math.sqrt(sqdist(x1, y1, x2, y2));}\n\tstatic long comb(long n, long m){\n\t\tif(n < m) return 0;\n\t\tlong c = 1; m = (n - m < m ? n - m : m);\n\t\tfor(long ns = n - m + 1, ms = 1; ms <= m; ns ++, ms ++){c *= ns; c /= ms;}\n\t\treturn c;\n\t}\n\tstatic int gcd(int a, int b){if(a%b==0){return(b);}else{return(gcd(b,a%b));}};\n\t/**\n\t * aの中から、合計がborderを超えるペア（重複除く）の数を数える\n\t */\n\tstatic int countPair(int[] a, int border){\n\t\tint count = 0, l = a.length, i = 0, j = l-1;\n\t\tfor (; i < l; i++) {\n\t\t\tfor (; j >= 0; j--) if(a[i] + a[j] <= border) break;\n\t\t\tcount += l - (j + 1);\n\t\t\tif(j < i) count--;\n\t\t}\n\t\treturn count/2;\n\t}\n\t// modに対応したDPのCombination\n\tstatic int mcomb(int n, int m, int mod){\n\t\tn = n - m;\n\t\tint[][] dp = new int[n+1][m+1];\n\t\tfor(int i = 0; i <= n; i++) dp[i][0] = 1;\n\t\tfor(int i = 0; i <= m; i++) dp[0][i] = 1;\n\t\t// mod = 0 の時は余りを取らない\n\t\tif(mod != 0){\n\t\t\tfor(int i = 1; i <= n; i++){\n\t\t\t\tfor(int j = 1; j <= m; j++){\n\t\t\t\t\tdp[i][j] = (dp[i-1][j] + dp[i][j-1]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn dp[n][m];\n\t\t// それ以外の時は mod をとっていく\n\t\t}else{\n\t\t\tfor(int i = 1; i <= n; i++){\n\t\t\t\tfor(int j = 1; j <= m; j++){\n\t\t\t\t\tdp[i][j] = (dp[i-1][j] + dp[i][j-1]) % mod;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn dp[n][m] % mod;\n\t\t}\n\t}\n\t\n\n\tstatic long mcomb(int n, int m, long mod){\n\t\tn = n - m;\n\t\tlong[][] dp = new long[n+1][m+1];\n\t\tfor(int i = 0; i <= n; i++) dp[i][0] = 1;\n\t\tfor(int i = 0; i <= m; i++) dp[0][i] = 1;\n\t\t// mod = 0 の時は余りを取らない\n\t\tif(mod != 0){\n\t\t\tfor(int i = 1; i <= n; i++){\n\t\t\t\tfor(int j = 1; j <= m; j++){\n\t\t\t\t\tdp[i][j] = (dp[i-1][j] + dp[i][j-1]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn dp[n][m];\n\t\t// それ以外の時は mod をとっていく\n\t\t}else{\n\t\t\tfor(int i = 1; i <= n; i++){\n\t\t\t\tfor(int j = 1; j <= m; j++){\n\t\t\t\t\tdp[i][j] = (dp[i-1][j] + dp[i][j-1]) % mod;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn dp[n][m] % mod;\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException;\nimport java.io.InputStream;\nimport java.io.PrintWriter;\nimport java.util.InputMismatchException;\nimport java.util.NoSuchElementException;\n\npublic class Main {\n\n\tstatic PrintWriter out;\n\tstatic InputReader ir;\n\tstatic int[] d={1,-1};\n\n\tstatic void solve() {\n\t\touter:\n\t\tfor(;;){\n\t\t\tint n=ir.nextInt();\n\t\t\tif(n==0)\n\t\t\t\tbreak;\n\t\t\tchar[] as=new char[n];\n\t\t\tint ma=-1,mi=Integer.MAX_VALUE;\n\t\t\tfor(int i=0;i<n;i++)\n\t\t\t\tas[i]=ir.next().charAt(0);\n\t\t\tfor(int i=0;i<n;i+=2){\n\t\t\t\tif(as[i]=='x'){\n\t\t\t\t\tfor(int j=0;j<2;j++){\n\t\t\t\t\t\tint nx=i+d[j];\n\t\t\t\t\t\tif(nx>=0&&nx<n){\n\t\t\t\t\t\t\tif(as[nx]!='x')\n\t\t\t\t\t\t\t\tmi=Math.min(mi,as[nx]-'0');\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\tout.println(\"none\");\n\t\t\t\t\t\t\t\tcontinue outer;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(int i=1;i<n;i+=2){\n\t\t\t\tif(as[i]=='x'){\n\t\t\t\t\tfor(int j=0;j<2;j++){\n\t\t\t\t\t\tint nx=i+d[j];\n\t\t\t\t\t\tif(nx>=0&&nx<n){\n\t\t\t\t\t\t\tif(as[nx]!='x')\n\t\t\t\t\t\t\t\tma=Math.max(ma,as[nx]-'0');\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\tout.println(\"none\");\n\t\t\t\t\t\t\t\tcontinue outer;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tmi--;\n\t\t\tma++;\n\t\t\tif(mi<ma||(mi>n&&ma<=0))\n\t\t\t\tout.println(\"none\");\n\t\t\telse if(mi==ma)\n\t\t\t\tout.println(mi);\n\t\t\telse\n\t\t\t\tout.println(\"ambiguous\");\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) throws Exception {\n\t\tir = new InputReader(System.in);\n\t\tout = new PrintWriter(System.out);\n\t\tsolve();\n\t\tout.flush();\n\t}\n\n\tstatic class InputReader {\n\n\t\tprivate InputStream in;\n\t\tprivate byte[] buffer = new byte[1024];\n\t\tprivate int curbuf;\n\t\tprivate int lenbuf;\n\n\t\tpublic InputReader(InputStream in) {\n\t\t\tthis.in = in;\n\t\t\tthis.curbuf = this.lenbuf = 0;\n\t\t}\n\n\t\tpublic boolean hasNextByte() {\n\t\t\tif (curbuf >= lenbuf) {\n\t\t\t\tcurbuf = 0;\n\t\t\t\ttry {\n\t\t\t\t\tlenbuf = in.read(buffer);\n\t\t\t\t} catch (IOException e) {\n\t\t\t\t\tthrow new InputMismatchException();\n\t\t\t\t}\n\t\t\t\tif (lenbuf <= 0)\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tprivate int readByte() {\n\t\t\tif (hasNextByte())\n\t\t\t\treturn buffer[curbuf++];\n\t\t\telse\n\t\t\t\treturn -1;\n\t\t}\n\n\t\tprivate boolean isSpaceChar(int c) {\n\t\t\treturn !(c >= 33 && c <= 126);\n\t\t}\n\n\t\tprivate void skip() {\n\t\t\twhile (hasNextByte() && isSpaceChar(buffer[curbuf]))\n\t\t\t\tcurbuf++;\n\t\t}\n\n\t\tpublic boolean hasNext() {\n\t\t\tskip();\n\t\t\treturn hasNextByte();\n\t\t}\n\n\t\tpublic String next() {\n\t\t\tif (!hasNext())\n\t\t\t\tthrow new NoSuchElementException();\n\t\t\tStringBuilder sb = new StringBuilder();\n\t\t\tint b = readByte();\n\t\t\twhile (!isSpaceChar(b)) {\n\t\t\t\tsb.appendCodePoint(b);\n\t\t\t\tb = readByte();\n\t\t\t}\n\t\t\treturn sb.toString();\n\t\t}\n\n\t\tpublic int nextInt() {\n\t\t\tif (!hasNext())\n\t\t\t\tthrow new NoSuchElementException();\n\t\t\tint c = readByte();\n\t\t\twhile (isSpaceChar(c))\n\t\t\t\tc = readByte();\n\t\t\tboolean minus = false;\n\t\t\tif (c == '-') {\n\t\t\t\tminus = true;\n\t\t\t\tc = readByte();\n\t\t\t}\n\t\t\tint res = 0;\n\t\t\tdo {\n\t\t\t\tif (c < '0' || c > '9')\n\t\t\t\t\tthrow new InputMismatchException();\n\t\t\t\tres = res * 10 + c - '0';\n\t\t\t\tc = readByte();\n\t\t\t} while (!isSpaceChar(c));\n\t\t\treturn (minus) ? -res : res;\n\t\t}\n\n\t\tpublic long nextLong() {\n\t\t\tif (!hasNext())\n\t\t\t\tthrow new NoSuchElementException();\n\t\t\tint c = readByte();\n\t\t\twhile (isSpaceChar(c))\n\t\t\t\tc = readByte();\n\t\t\tboolean minus = false;\n\t\t\tif (c == '-') {\n\t\t\t\tminus = true;\n\t\t\t\tc = readByte();\n\t\t\t}\n\t\t\tlong res = 0;\n\t\t\tdo {\n\t\t\t\tif (c < '0' || c > '9')\n\t\t\t\t\tthrow new InputMismatchException();\n\t\t\t\tres = res * 10 + c - '0';\n\t\t\t\tc = readByte();\n\t\t\t} while (!isSpaceChar(c));\n\t\t\treturn (minus) ? -res : res;\n\t\t}\n\n\t\tpublic double nextDouble() {\n\t\t\treturn Double.parseDouble(next());\n\t\t}\n\n\t\tpublic int[] nextIntArray(int n) {\n\t\t\tint[] a = new int[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\ta[i] = nextInt();\n\t\t\treturn a;\n\t\t}\n\n\t\tpublic long[] nextLongArray(int n) {\n\t\t\tlong[] a = new long[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\ta[i] = nextLong();\n\t\t\treturn a;\n\t\t}\n\n\t\tpublic char[][] nextCharMap(int n, int m) {\n\t\t\tchar[][] map = new char[n][m];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\tmap[i] = next().toCharArray();\n\t\t\treturn map;\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\n\npublic class Main{\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        Scanner sc=new Scanner(System.in);\n        int x = Integer.MAX_VALUE;\n        l:for(;;){\n            int n = sc.nextInt();\n            if(n==0)break;\n            int[] a = new int[n];\n            for (int i = 0; i < a.length; i++) {\n                String s = sc.next();\n                if(s.equals(\"x\")){\n                    a[i]=x;\n                } else {\n                    a[i]=Integer.parseInt(s);\n                }\n            }\n            for (int i = 0; i < a.length-1; i++) {\n                if(a[i]==a[i+1]){\n                    System.out.println(\"none\");\n                    continue l;\n                }\n                if(a[i]==x)continue;\n                if(i==0){\n                    if(a[i]>=a[i+1]){\n                        System.out.println(\"none\");\n                        continue l;\n                    }\n                    continue;\n                }\n                if(i==a.length-1){\n                    if(i%2==0){\n                        if(a[i]>=a[i-1]){\n                            System.out.println(\"none\");\n                            continue l;\n                        }\n                    } else {\n                        if(a[i]<=a[i-1]){\n                            System.out.println(\"none\");\n                            continue l;\n                        }\n                    }\n                    continue;\n                }\n                if(i%2==0){\n                    if(a[i]>=a[i-1] || a[i] >= a[i+1]){\n                        System.out.println(\"none\");\n                        continue l;\n                    }\n                } else {\n                    if(a[i]<=a[i-1] || a[i]>=a[i+1]){\n                        System.out.println(\"none\");\n                        continue l;\n                    }\n                }\n                \n                \n            }\n            // odd smaller\n            int bigger = Integer.MAX_VALUE-1;\n            int smaller= Integer.MIN_VALUE+1;\n            for (int i = 0; i < a.length; i++) {\n                if(a[i]!=x){\n                    continue;\n                }\n                if(i%2==1){\n                    if(i==0){\n                        bigger= Math.min(bigger, a[i+1]+1);\n                    } else if(i==a.length-1){\n                        bigger= Math.min(bigger, a[i-1]+1);\n                    } else {\n                        bigger= Math.min(bigger, Math.max(a[i-1], a[i+1])+1);\n                    }\n                } else {\n                    // smaller than neibor\n                    if(i==0){\n                        smaller= Math.max(smaller, a[i+1]-1);\n                    } else if(i==a.length-1){\n                        smaller= Math.max(smaller, a[i-1]-1);\n                    } else {\n                        smaller = Math.max(smaller, Math.min(a[i-1], a[i+1])-1);\n                    }\n                }\n            }\n//            System.out.println(smaller +\" \"+bigger);\n            if(bigger==Integer.MAX_VALUE-1 || smaller == Integer.MIN_VALUE+1){\n                System.out.println(\"ambiguous\");\n            } else if(bigger == smaller){\n                System.out.println(bigger);\n            } else if(bigger<smaller){\n                System.out.println(\"ambiguous\");\n            } else {\n                System.out.println(\"none\");\n            }\n        }\n    }\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.HashSet;\nimport java.util.Scanner;\nimport java.util.Set;\n\npublic class Main {\n\n\t/**\n\t * @param args\n\t */\n\tpublic static void main(String[] args) {\n\t\tScanner sc = new Scanner(System.in);\n\t\tint x = Integer.MAX_VALUE - 1;\n\t\tfinal String AMB= \"ambiguous\";\n\t\tfinal String NONE= \"none\";\n\t\tfor (;;) {\n\t\t\tint N = sc.nextInt();\n\t\t\tif (N == 0)\n\t\t\t\tbreak;\n\t\t\tint[] a = new int[N];\n\t\t\tint[] b = new int[N];\n\t\t\tString ans = null;\n\t\t\tfor (int i = 0; i < N; i++) {\n\t\t\t\tString s = sc.next();\n\t\t\t\tif (s.equals(\"x\")) {\n\t\t\t\t\ta[i] = x;\n\t\t\t\t} else {\n\t\t\t\t\ta[i] = Integer.parseInt(s);\n\t\t\t\t}\n\t\t\t\tif (i >= 1 && a[i] == a[i - 1]) {\n\t\t\t\t\tans = NONE;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (int i = 1; i < N; i++) {\n\t\t\t\tif (a[i] == x || a[i - 1] == x)\n\t\t\t\t\tcontinue;\n\t\t\t\tif (i % 2 == 0) {\n\t\t\t\t\tif (!(a[i - 1] > a[i])) {\n\t\t\t\t\t\tans = NONE;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (!(a[i - 1] < a[i])) {\n\t\t\t\t\t\tans = NONE;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (ans != null) {\n\t\t\t\tSystem.out.println(ans);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tint max = Integer.MIN_VALUE;\n\t\t\tint min = Integer.MAX_VALUE;\n\t\t\tif (a[0] == x) {\n\t\t\t\tmin = a[1] - 1;\n\t\t\t}\n\n\t\t\tif (a[a.length - 1] == x) {\n\t\t\t\tif ((a.length - 1) % 2 == 0) {\n\t\t\t\t\tmin = a[a.length - 2] - 1;\n\t\t\t\t} else {\n\t\t\t\t\tmax = a[a.length - 2] + 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (int i = 1; i < N - 1; i++) {\n\t\t\t\tif(a[i]!=x)continue;\n\t\t\t\tif (i % 2 == 0) {\n\t\t\t\t\tmin = Math.min(min,Math.min(a[i - 1], a[i + 1]) - 1);\n\t\t\t\t} else {\n\t\t\t\t\tmax= Math.max(max,Math.max(a[i - 1], a[i + 1]) + 1);\n\t\t\t\t}\n\t\t\t}\n//\t\t\tSystem.out.println(min +\" \"+max);\n\t\t\tif(max==Integer.MIN_VALUE || min == Integer.MAX_VALUE){\n\t\t\t\tSystem.out.println(AMB);\n\t\t\t} else if(max==min){\n\t\t\t\tSystem.out.println(max);\n\t\t\t} else if(max < min){\n\t\t\t\tSystem.out.println(AMB);\n\t\t\t} else {\n\t\t\t\tSystem.out.println(NONE);\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException;\nimport java.io.InputStream;\nimport java.io.PrintWriter;\nimport java.util.InputMismatchException;\nimport java.util.NoSuchElementException;\n\npublic class Main {\n\n\tstatic PrintWriter out;\n\tstatic InputReader ir;\n\tstatic int[] d={1,-1};\n\n\tstatic void solve() {\n\t\touter:\n\t\tfor(;;){\n\t\t\tint n=ir.nextInt();\n\t\t\tif(n==0)\n\t\t\t\tbreak;\n\t\t\tString[] as=new String[n];\n\t\t\tint ma=Integer.MIN_VALUE,mi=Integer.MAX_VALUE;\n\t\t\tfor(int i=0;i<n;i++)\n\t\t\t\tas[i]=ir.next();\n\t\t\tfor(int i=0;i<n;i+=2){\n\t\t\t\tif(as[i].charAt(0)=='x'){\n\t\t\t\t\tfor(int j=0;j<2;j++){\n\t\t\t\t\t\tint nx=i+d[j];\n\t\t\t\t\t\tif(nx>=0&&nx<n){\n\t\t\t\t\t\t\tif(as[nx].charAt(0)!='x')\n\t\t\t\t\t\t\t\tmi=Math.min(mi,Integer.parseInt(as[nx])-'0');\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\tout.println(\"none\");\n\t\t\t\t\t\t\t\tcontinue outer;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tfor(int j=0;j<2;j++){\n\t\t\t\t\t\tint nx=i+d[j];\n\t\t\t\t\t\tif(nx>=0&&nx<n){\n\t\t\t\t\t\t\tif(as[nx].charAt(0)!='x'&&Integer.parseInt(as[i])>=Integer.parseInt(as[nx])){\n\t\t\t\t\t\t\t\tout.println(\"none\");\n\t\t\t\t\t\t\t\tcontinue outer;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(int i=1;i<n;i+=2){\n\t\t\t\tif(as[i].charAt(0)=='x'){\n\t\t\t\t\tfor(int j=0;j<2;j++){\n\t\t\t\t\t\tint nx=i+d[j];\n\t\t\t\t\t\tif(nx>=0&&nx<n){\n\t\t\t\t\t\t\tif(as[nx].charAt(0)!='x')\n\t\t\t\t\t\t\t\tma=Math.max(ma,Integer.parseInt(as[nx])-'0');\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\tout.println(\"none\");\n\t\t\t\t\t\t\t\tcontinue outer;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tmi--;\n\t\t\tma++;\n\t\t\tif(mi<ma)\n\t\t\t\tout.println(\"none\");\n\t\t\telse if(mi==ma)\n\t\t\t\tout.println(mi);\n\t\t\telse\n\t\t\t\tout.println(\"ambiguous\");\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) throws Exception {\n\t\tir = new InputReader(System.in);\n\t\tout = new PrintWriter(System.out);\n\t\tsolve();\n\t\tout.flush();\n\t}\n\n\tstatic class InputReader {\n\n\t\tprivate InputStream in;\n\t\tprivate byte[] buffer = new byte[1024];\n\t\tprivate int curbuf;\n\t\tprivate int lenbuf;\n\n\t\tpublic InputReader(InputStream in) {\n\t\t\tthis.in = in;\n\t\t\tthis.curbuf = this.lenbuf = 0;\n\t\t}\n\n\t\tpublic boolean hasNextByte() {\n\t\t\tif (curbuf >= lenbuf) {\n\t\t\t\tcurbuf = 0;\n\t\t\t\ttry {\n\t\t\t\t\tlenbuf = in.read(buffer);\n\t\t\t\t} catch (IOException e) {\n\t\t\t\t\tthrow new InputMismatchException();\n\t\t\t\t}\n\t\t\t\tif (lenbuf <= 0)\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tprivate int readByte() {\n\t\t\tif (hasNextByte())\n\t\t\t\treturn buffer[curbuf++];\n\t\t\telse\n\t\t\t\treturn -1;\n\t\t}\n\n\t\tprivate boolean isSpaceChar(int c) {\n\t\t\treturn !(c >= 33 && c <= 126);\n\t\t}\n\n\t\tprivate void skip() {\n\t\t\twhile (hasNextByte() && isSpaceChar(buffer[curbuf]))\n\t\t\t\tcurbuf++;\n\t\t}\n\n\t\tpublic boolean hasNext() {\n\t\t\tskip();\n\t\t\treturn hasNextByte();\n\t\t}\n\n\t\tpublic String next() {\n\t\t\tif (!hasNext())\n\t\t\t\tthrow new NoSuchElementException();\n\t\t\tStringBuilder sb = new StringBuilder();\n\t\t\tint b = readByte();\n\t\t\twhile (!isSpaceChar(b)) {\n\t\t\t\tsb.appendCodePoint(b);\n\t\t\t\tb = readByte();\n\t\t\t}\n\t\t\treturn sb.toString();\n\t\t}\n\n\t\tpublic int nextInt() {\n\t\t\tif (!hasNext())\n\t\t\t\tthrow new NoSuchElementException();\n\t\t\tint c = readByte();\n\t\t\twhile (isSpaceChar(c))\n\t\t\t\tc = readByte();\n\t\t\tboolean minus = false;\n\t\t\tif (c == '-') {\n\t\t\t\tminus = true;\n\t\t\t\tc = readByte();\n\t\t\t}\n\t\t\tint res = 0;\n\t\t\tdo {\n\t\t\t\tif (c < '0' || c > '9')\n\t\t\t\t\tthrow new InputMismatchException();\n\t\t\t\tres = res * 10 + c - '0';\n\t\t\t\tc = readByte();\n\t\t\t} while (!isSpaceChar(c));\n\t\t\treturn (minus) ? -res : res;\n\t\t}\n\n\t\tpublic long nextLong() {\n\t\t\tif (!hasNext())\n\t\t\t\tthrow new NoSuchElementException();\n\t\t\tint c = readByte();\n\t\t\twhile (isSpaceChar(c))\n\t\t\t\tc = readByte();\n\t\t\tboolean minus = false;\n\t\t\tif (c == '-') {\n\t\t\t\tminus = true;\n\t\t\t\tc = readByte();\n\t\t\t}\n\t\t\tlong res = 0;\n\t\t\tdo {\n\t\t\t\tif (c < '0' || c > '9')\n\t\t\t\t\tthrow new InputMismatchException();\n\t\t\t\tres = res * 10 + c - '0';\n\t\t\t\tc = readByte();\n\t\t\t} while (!isSpaceChar(c));\n\t\t\treturn (minus) ? -res : res;\n\t\t}\n\n\t\tpublic double nextDouble() {\n\t\t\treturn Double.parseDouble(next());\n\t\t}\n\n\t\tpublic int[] nextIntArray(int n) {\n\t\t\tint[] a = new int[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\ta[i] = nextInt();\n\t\t\treturn a;\n\t\t}\n\n\t\tpublic long[] nextLongArray(int n) {\n\t\t\tlong[] a = new long[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\ta[i] = nextLong();\n\t\t\treturn a;\n\t\t}\n\n\t\tpublic char[][] nextCharMap(int n, int m) {\n\t\t\tchar[][] map = new char[n][m];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\tmap[i] = next().toCharArray();\n\t\t\treturn map;\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException;\nimport java.io.InputStream;\nimport java.io.PrintWriter;\nimport java.util.InputMismatchException;\nimport java.util.NoSuchElementException;\n\npublic class Main {\n\n\tstatic PrintWriter out;\n\tstatic InputReader ir;\n\tstatic int[] d={1,-1};\n\n\tstatic void solve() {\n\t\touter:\n\t\tfor(;;){\n\t\t\tint n=ir.nextInt();\n\t\t\tif(n==0)\n\t\t\t\tbreak;\n\t\t\tchar[] as=new char[n];\n\t\t\tint ma=Integer.MIN_VALUE,mi=Integer.MAX_VALUE;\n\t\t\tfor(int i=0;i<n;i++)\n\t\t\t\tas[i]=ir.next().charAt(0);\n\t\t\tfor(int i=0;i<n;i+=2){\n\t\t\t\tif(as[i]=='x'){\n\t\t\t\t\tfor(int j=0;j<2;j++){\n\t\t\t\t\t\tint nx=i+d[j];\n\t\t\t\t\t\tif(nx>=0&&nx<n){\n\t\t\t\t\t\t\tif(as[nx]!='x')\n\t\t\t\t\t\t\t\tmi=Math.min(mi,as[nx]-'0');\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\tout.println(\"none\");\n\t\t\t\t\t\t\t\tcontinue outer;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(int i=1;i<n;i+=2){\n\t\t\t\tif(as[i]=='x'){\n\t\t\t\t\tfor(int j=0;j<2;j++){\n\t\t\t\t\t\tint nx=i+d[j];\n\t\t\t\t\t\tif(nx>=0&&nx<n){\n\t\t\t\t\t\t\tif(as[nx]!='x')\n\t\t\t\t\t\t\t\tma=Math.max(ma,as[nx]-'0');\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\tout.println(\"none\");\n\t\t\t\t\t\t\t\tcontinue outer;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tmi--;\n\t\t\tma++;\n\t\t\tif(mi<ma||(mi>n&&ma<0))\n\t\t\t\tout.println(\"none\");\n\t\t\telse if(mi==ma)\n\t\t\t\tout.println(mi);\n\t\t\telse\n\t\t\t\tout.println(\"ambiguous\");\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) throws Exception {\n\t\tir = new InputReader(System.in);\n\t\tout = new PrintWriter(System.out);\n\t\tsolve();\n\t\tout.flush();\n\t}\n\n\tstatic class InputReader {\n\n\t\tprivate InputStream in;\n\t\tprivate byte[] buffer = new byte[1024];\n\t\tprivate int curbuf;\n\t\tprivate int lenbuf;\n\n\t\tpublic InputReader(InputStream in) {\n\t\t\tthis.in = in;\n\t\t\tthis.curbuf = this.lenbuf = 0;\n\t\t}\n\n\t\tpublic boolean hasNextByte() {\n\t\t\tif (curbuf >= lenbuf) {\n\t\t\t\tcurbuf = 0;\n\t\t\t\ttry {\n\t\t\t\t\tlenbuf = in.read(buffer);\n\t\t\t\t} catch (IOException e) {\n\t\t\t\t\tthrow new InputMismatchException();\n\t\t\t\t}\n\t\t\t\tif (lenbuf <= 0)\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tprivate int readByte() {\n\t\t\tif (hasNextByte())\n\t\t\t\treturn buffer[curbuf++];\n\t\t\telse\n\t\t\t\treturn -1;\n\t\t}\n\n\t\tprivate boolean isSpaceChar(int c) {\n\t\t\treturn !(c >= 33 && c <= 126);\n\t\t}\n\n\t\tprivate void skip() {\n\t\t\twhile (hasNextByte() && isSpaceChar(buffer[curbuf]))\n\t\t\t\tcurbuf++;\n\t\t}\n\n\t\tpublic boolean hasNext() {\n\t\t\tskip();\n\t\t\treturn hasNextByte();\n\t\t}\n\n\t\tpublic String next() {\n\t\t\tif (!hasNext())\n\t\t\t\tthrow new NoSuchElementException();\n\t\t\tStringBuilder sb = new StringBuilder();\n\t\t\tint b = readByte();\n\t\t\twhile (!isSpaceChar(b)) {\n\t\t\t\tsb.appendCodePoint(b);\n\t\t\t\tb = readByte();\n\t\t\t}\n\t\t\treturn sb.toString();\n\t\t}\n\n\t\tpublic int nextInt() {\n\t\t\tif (!hasNext())\n\t\t\t\tthrow new NoSuchElementException();\n\t\t\tint c = readByte();\n\t\t\twhile (isSpaceChar(c))\n\t\t\t\tc = readByte();\n\t\t\tboolean minus = false;\n\t\t\tif (c == '-') {\n\t\t\t\tminus = true;\n\t\t\t\tc = readByte();\n\t\t\t}\n\t\t\tint res = 0;\n\t\t\tdo {\n\t\t\t\tif (c < '0' || c > '9')\n\t\t\t\t\tthrow new InputMismatchException();\n\t\t\t\tres = res * 10 + c - '0';\n\t\t\t\tc = readByte();\n\t\t\t} while (!isSpaceChar(c));\n\t\t\treturn (minus) ? -res : res;\n\t\t}\n\n\t\tpublic long nextLong() {\n\t\t\tif (!hasNext())\n\t\t\t\tthrow new NoSuchElementException();\n\t\t\tint c = readByte();\n\t\t\twhile (isSpaceChar(c))\n\t\t\t\tc = readByte();\n\t\t\tboolean minus = false;\n\t\t\tif (c == '-') {\n\t\t\t\tminus = true;\n\t\t\t\tc = readByte();\n\t\t\t}\n\t\t\tlong res = 0;\n\t\t\tdo {\n\t\t\t\tif (c < '0' || c > '9')\n\t\t\t\t\tthrow new InputMismatchException();\n\t\t\t\tres = res * 10 + c - '0';\n\t\t\t\tc = readByte();\n\t\t\t} while (!isSpaceChar(c));\n\t\t\treturn (minus) ? -res : res;\n\t\t}\n\n\t\tpublic double nextDouble() {\n\t\t\treturn Double.parseDouble(next());\n\t\t}\n\n\t\tpublic int[] nextIntArray(int n) {\n\t\t\tint[] a = new int[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\ta[i] = nextInt();\n\t\t\treturn a;\n\t\t}\n\n\t\tpublic long[] nextLongArray(int n) {\n\t\t\tlong[] a = new long[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\ta[i] = nextLong();\n\t\t\treturn a;\n\t\t}\n\n\t\tpublic char[][] nextCharMap(int n, int m) {\n\t\t\tchar[][] map = new char[n][m];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\tmap[i] = next().toCharArray();\n\t\t\treturn map;\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\npublic class Main { \n\tpublic static void main(String[] args) {\n\t\tScanner stdIn = new Scanner(System.in);\n\t\tST:while(true) {\n\t\t\tint n = stdIn.nextInt();\n\t\t\tif(n == 0) break;\n\t\t\tint[] a = new int[n];\n\t\t\tboolean[] b = new boolean[n];\n\t\t\tboolean lastB = false;\n\t\t\tboolean km = true;\n\t\t\tfor(int i = 0; i < n; i++) {\n\t\t\t\tString k = stdIn.next();\n\t\t\t\tif(k.equals(\"x\")) {\n\t\t\t\t\ta[i] = 0;\n\t\t\t\t\tb[i] = true;\n\t\t\t\t\tif(lastB) {\n\t\t\t\t\t\tSystem.out.println(\"none\");\n\t\t\t\t\t\tcontinue ST;\n\t\t\t\t\t}\n\t\t\t\t\tlastB = true;\n\t\t\t\t\tkm = false;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t\n\t\t\t\t\ta[i] = Integer.parseInt(k);\n\t\t\t\t\tif(!lastB) {\n\t\t\t\t\t\tif(i != 0 && (i+1)%2 == 0) {\n\t\t\t\t\t\t\tif(a[i-1] >= a[i]) {\n\t\t\t\t\t\t\t\tSystem.out.println(\"none\");\n\t\t\t\t\t\t\t\tcontinue ST;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if(i != 0 && (i+1)%2 == 1) {\n\t\t\t\t\t\t\tif(a[i-1] <= a[i]) {\n\t\t\t\t\t\t\t\tSystem.out.println(\"none\");\n\t\t\t\t\t\t\t\tcontinue ST;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tlastB = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(km) {\n\t\t\t\tSystem.out.println(\"ambiguous\");\n\t\t\t\tcontinue ST;\n\t\t\t}\n\t\t\tint max = Integer.MIN_VALUE;\n\t\t\tint min = Integer.MAX_VALUE;\n\t\t\tfor(int i = 0; i < n; i++) {\n\t\t\t\tif(b[i]) {\n\t\t\t\t\tif((i+1)%2 == 0) {\n\t\t\t\t\t\tint an = Integer.MIN_VALUE;\n\t\t\t\t\t\tint bn = Integer.MIN_VALUE;\n\t\t\t\t\t\tif(i != 0 && !b[i-1]) {\n\t\t\t\t\t\t\tan = a[i-1];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(i != n-1 && !b[i+1]) {\n\t\t\t\t\t\t\tbn = a[i+1];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(min > Math.max(an, bn)) {\n\t\t\t\t\t\t\tmin = Math.max(an, bn)+1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tint an = Integer.MAX_VALUE;\n\t\t\t\t\t\tint bn = Integer.MAX_VALUE;\n\t\t\t\t\t\tif(i != 0 && !b[i-1]) {\n\t\t\t\t\t\t\tan = a[i-1];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(i != n-1 && !b[i+1]) {\n\t\t\t\t\t\t\tbn = a[i+1];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(max < Math.min(an, bn)) {\n\t\t\t\t\t\t\tmax = Math.min(an, bn)-1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(min == max) {\n\t\t\t\tSystem.out.println(min);\n\t\t\t}\n\t\t\telse if(min > max && a.length != 2){\n\t\t\t\tSystem.out.println(\"none\");\n\t\t\t}\n\t\t\telse {\n\t\t\t\tSystem.out.println(\"ambiguous\");\n\t\t\t}\n\t\t}\n\t}\n\t\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException;\nimport java.io.InputStream;\nimport java.io.PrintWriter;\nimport java.util.InputMismatchException;\nimport java.util.NoSuchElementException;\n\npublic class Main {\n\n\tstatic PrintWriter out;\n\tstatic InputReader ir;\n\tstatic int[] d={1,-1};\n\n\tstatic void solve() {\n\t\touter:\n\t\tfor(;;){\n\t\t\tint n=ir.nextInt();\n\t\t\tif(n==0)\n\t\t\t\tbreak;\n\t\t\tchar[] as=new char[n];\n\t\t\tint ma=Integer.MIN_VALUE,mi=Integer.MAX_VALUE;\n\t\t\tfor(int i=0;i<n;i++)\n\t\t\t\tas[i]=ir.next().charAt(0);\n\t\t\tfor(int i=0;i<n;i+=2){\n\t\t\t\tif(as[i]=='x'){\n\t\t\t\t\tfor(int j=0;j<2;j++){\n\t\t\t\t\t\tint nx=i+d[j];\n\t\t\t\t\t\tif(nx>=0&&nx<n){\n\t\t\t\t\t\t\tif(as[nx]!='x')\n\t\t\t\t\t\t\t\tmi=Math.min(mi,as[nx]-'0');\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\tout.println(\"none\");\n\t\t\t\t\t\t\t\tcontinue outer;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tfor(int j=0;j<2;j++){\n\t\t\t\t\t\tint nx=i+d[j];\n\t\t\t\t\t\tif(nx>=0&&nx<n){\n\t\t\t\t\t\t\tif(as[nx]!='x'&&as[i]>=as[nx]){\n\t\t\t\t\t\t\t\tout.println(\"none\");\n\t\t\t\t\t\t\t\tcontinue outer;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(int i=1;i<n;i+=2){\n\t\t\t\tif(as[i]=='x'){\n\t\t\t\t\tfor(int j=0;j<2;j++){\n\t\t\t\t\t\tint nx=i+d[j];\n\t\t\t\t\t\tif(nx>=0&&nx<n){\n\t\t\t\t\t\t\tif(as[nx]!='x')\n\t\t\t\t\t\t\t\tma=Math.max(ma,as[nx]-'0');\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\tout.println(\"none\");\n\t\t\t\t\t\t\t\tcontinue outer;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tmi--;\n\t\t\tma++;\n\t\t\tif(mi<ma)\n\t\t\t\tout.println(\"none\");\n\t\t\telse if(mi==ma)\n\t\t\t\tout.println(mi);\n\t\t\telse\n\t\t\t\tout.println(\"ambiguous\");\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) throws Exception {\n\t\tir = new InputReader(System.in);\n\t\tout = new PrintWriter(System.out);\n\t\tsolve();\n\t\tout.flush();\n\t}\n\n\tstatic class InputReader {\n\n\t\tprivate InputStream in;\n\t\tprivate byte[] buffer = new byte[1024];\n\t\tprivate int curbuf;\n\t\tprivate int lenbuf;\n\n\t\tpublic InputReader(InputStream in) {\n\t\t\tthis.in = in;\n\t\t\tthis.curbuf = this.lenbuf = 0;\n\t\t}\n\n\t\tpublic boolean hasNextByte() {\n\t\t\tif (curbuf >= lenbuf) {\n\t\t\t\tcurbuf = 0;\n\t\t\t\ttry {\n\t\t\t\t\tlenbuf = in.read(buffer);\n\t\t\t\t} catch (IOException e) {\n\t\t\t\t\tthrow new InputMismatchException();\n\t\t\t\t}\n\t\t\t\tif (lenbuf <= 0)\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tprivate int readByte() {\n\t\t\tif (hasNextByte())\n\t\t\t\treturn buffer[curbuf++];\n\t\t\telse\n\t\t\t\treturn -1;\n\t\t}\n\n\t\tprivate boolean isSpaceChar(int c) {\n\t\t\treturn !(c >= 33 && c <= 126);\n\t\t}\n\n\t\tprivate void skip() {\n\t\t\twhile (hasNextByte() && isSpaceChar(buffer[curbuf]))\n\t\t\t\tcurbuf++;\n\t\t}\n\n\t\tpublic boolean hasNext() {\n\t\t\tskip();\n\t\t\treturn hasNextByte();\n\t\t}\n\n\t\tpublic String next() {\n\t\t\tif (!hasNext())\n\t\t\t\tthrow new NoSuchElementException();\n\t\t\tStringBuilder sb = new StringBuilder();\n\t\t\tint b = readByte();\n\t\t\twhile (!isSpaceChar(b)) {\n\t\t\t\tsb.appendCodePoint(b);\n\t\t\t\tb = readByte();\n\t\t\t}\n\t\t\treturn sb.toString();\n\t\t}\n\n\t\tpublic int nextInt() {\n\t\t\tif (!hasNext())\n\t\t\t\tthrow new NoSuchElementException();\n\t\t\tint c = readByte();\n\t\t\twhile (isSpaceChar(c))\n\t\t\t\tc = readByte();\n\t\t\tboolean minus = false;\n\t\t\tif (c == '-') {\n\t\t\t\tminus = true;\n\t\t\t\tc = readByte();\n\t\t\t}\n\t\t\tint res = 0;\n\t\t\tdo {\n\t\t\t\tif (c < '0' || c > '9')\n\t\t\t\t\tthrow new InputMismatchException();\n\t\t\t\tres = res * 10 + c - '0';\n\t\t\t\tc = readByte();\n\t\t\t} while (!isSpaceChar(c));\n\t\t\treturn (minus) ? -res : res;\n\t\t}\n\n\t\tpublic long nextLong() {\n\t\t\tif (!hasNext())\n\t\t\t\tthrow new NoSuchElementException();\n\t\t\tint c = readByte();\n\t\t\twhile (isSpaceChar(c))\n\t\t\t\tc = readByte();\n\t\t\tboolean minus = false;\n\t\t\tif (c == '-') {\n\t\t\t\tminus = true;\n\t\t\t\tc = readByte();\n\t\t\t}\n\t\t\tlong res = 0;\n\t\t\tdo {\n\t\t\t\tif (c < '0' || c > '9')\n\t\t\t\t\tthrow new InputMismatchException();\n\t\t\t\tres = res * 10 + c - '0';\n\t\t\t\tc = readByte();\n\t\t\t} while (!isSpaceChar(c));\n\t\t\treturn (minus) ? -res : res;\n\t\t}\n\n\t\tpublic double nextDouble() {\n\t\t\treturn Double.parseDouble(next());\n\t\t}\n\n\t\tpublic int[] nextIntArray(int n) {\n\t\t\tint[] a = new int[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\ta[i] = nextInt();\n\t\t\treturn a;\n\t\t}\n\n\t\tpublic long[] nextLongArray(int n) {\n\t\t\tlong[] a = new long[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\ta[i] = nextLong();\n\t\t\treturn a;\n\t\t}\n\n\t\tpublic char[][] nextCharMap(int n, int m) {\n\t\t\tchar[][] map = new char[n][m];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\tmap[i] = next().toCharArray();\n\t\t\treturn map;\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.util.StringTokenizer;\n\nimport static java.lang.Integer.parseInt;\n\n/**\n * Broken Audio Signal\n */\npublic class Main {\n\n\tstatic final long MAX = (1L << 32) + 1;\n\tstatic final long MIN = MAX * -1;\n\tstatic final long X = MAX - 1;\n\n\tpublic static void main(String[] args) throws IOException {\n\t\tBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n\t\tString line;\n\t\tString[] words;\n\n\t\twhile ((line = br.readLine()) != null && !line.isEmpty()) {\n\n\t\t\tint N = parseInt(line);\n\t\t\tif (N == 0) break;\n\n\t\t\tStringTokenizer st = new StringTokenizer(br.readLine());\n\n\t\t\tlong[] a = new long[N + 2];\n\t\t\tint c = 0;\n\t\t\tfor (int i = 0; i < N + 2; i++) {\n\t\t\t\tif (i == 0) {\n\t\t\t\t\ta[0] = MAX;\n\t\t\t\t} else if (i == N + 1) {\n\t\t\t\t\tif (i % 2 == 0) {\n\t\t\t\t\t\ta[i] = MAX;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ta[i] = MIN;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tString token = st.nextToken();\n\t\t\t\t\tif (token.equals(\"x\")) {\n\t\t\t\t\t\ta[i] = X;\n\t\t\t\t\t\tc++;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ta[i] = parseInt(token);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//\n\t\t\tlong min = MAX, max = MIN;\n\t\t\tfor (int i = 1; i <= N; i++) {\n\t\t\t\tif (a[i] == X) {\n\t\t\t\t\tif (i % 2 == 0) {\n\t\t\t\t\t\tmax = Math.max(max, Math.max(a[i - 1], a[i + 1]) + 1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmin = Math.min(min, Math.min(a[i - 1], a[i + 1]) - 1);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (i % 2 == 0) {\n\t\t\t\t\t\tif (a[i] <= a[i - 1] || a[i] <= a[i - 1]) {\n\t\t\t\t\t\t\tmin = MIN;\n\t\t\t\t\t\t\tmax = MAX;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (a[i] >= a[i - 1] || a[i] >= a[i - 1]) {\n\t\t\t\t\t\t\tmin = MIN;\n\t\t\t\t\t\t\tmax = MAX;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (max == min) System.out.println(min);\n\t\t\telse if (min - max > 0) System.out.println(\"ambiguous\");\n\t\t\telse System.out.println(\"none\");\n\n\t\t} //end while\n\t} //end main\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException;\nimport java.io.InputStream;\nimport java.io.PrintWriter;\nimport java.util.InputMismatchException;\nimport java.util.NoSuchElementException;\n\npublic class Main {\n\n\tstatic PrintWriter out;\n\tstatic InputReader ir;\n\tstatic int[] d={1,-1};\n\n\tstatic void solve() {\n\t\tfor(;;){\n\t\t\tint n=ir.nextInt();\n\t\t\tif(n==0)\n\t\t\t\tbreak;\n\t\t\tchar[] as=new char[n];\n\t\t\tint ma=-1,mi=Integer.MAX_VALUE;\n\t\t\tfor(int i=0;i<n;i++)\n\t\t\t\tas[i]=ir.next().charAt(0);\n\t\t\tfor(int i=0;i<n;i+=2){\n\t\t\t\tif(as[i]=='x'){\n\t\t\t\t\tfor(int j=0;j<2;j++){\n\t\t\t\t\t\tint nx=i+d[j];\n\t\t\t\t\t\tif(nx>=0&&nx<n&&as[nx]!='x')\n\t\t\t\t\t\t\tmi=Math.min(mi,as[nx]-'0');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(int i=1;i<n;i+=2){\n\t\t\t\tif(as[i]=='x'){\n\t\t\t\t\tfor(int j=0;j<2;j++){\n\t\t\t\t\t\tint nx=i+d[j];\n\t\t\t\t\t\tif(nx>=0&&nx<n&&as[nx]!='x')\n\t\t\t\t\t\t\tma=Math.max(ma,as[nx]-'0');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tmi--;\n\t\t\tma++;\n\t\t\tif(mi<ma)\n\t\t\t\tout.println(\"none\");\n\t\t\telse if(mi==ma)\n\t\t\t\tout.println(mi);\n\t\t\telse\n\t\t\t\tout.println(\"ambiguous\");\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) throws Exception {\n\t\tir = new InputReader(System.in);\n\t\tout = new PrintWriter(System.out);\n\t\tsolve();\n\t\tout.flush();\n\t}\n\n\tstatic class InputReader {\n\n\t\tprivate InputStream in;\n\t\tprivate byte[] buffer = new byte[1024];\n\t\tprivate int curbuf;\n\t\tprivate int lenbuf;\n\n\t\tpublic InputReader(InputStream in) {\n\t\t\tthis.in = in;\n\t\t\tthis.curbuf = this.lenbuf = 0;\n\t\t}\n\n\t\tpublic boolean hasNextByte() {\n\t\t\tif (curbuf >= lenbuf) {\n\t\t\t\tcurbuf = 0;\n\t\t\t\ttry {\n\t\t\t\t\tlenbuf = in.read(buffer);\n\t\t\t\t} catch (IOException e) {\n\t\t\t\t\tthrow new InputMismatchException();\n\t\t\t\t}\n\t\t\t\tif (lenbuf <= 0)\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tprivate int readByte() {\n\t\t\tif (hasNextByte())\n\t\t\t\treturn buffer[curbuf++];\n\t\t\telse\n\t\t\t\treturn -1;\n\t\t}\n\n\t\tprivate boolean isSpaceChar(int c) {\n\t\t\treturn !(c >= 33 && c <= 126);\n\t\t}\n\n\t\tprivate void skip() {\n\t\t\twhile (hasNextByte() && isSpaceChar(buffer[curbuf]))\n\t\t\t\tcurbuf++;\n\t\t}\n\n\t\tpublic boolean hasNext() {\n\t\t\tskip();\n\t\t\treturn hasNextByte();\n\t\t}\n\n\t\tpublic String next() {\n\t\t\tif (!hasNext())\n\t\t\t\tthrow new NoSuchElementException();\n\t\t\tStringBuilder sb = new StringBuilder();\n\t\t\tint b = readByte();\n\t\t\twhile (!isSpaceChar(b)) {\n\t\t\t\tsb.appendCodePoint(b);\n\t\t\t\tb = readByte();\n\t\t\t}\n\t\t\treturn sb.toString();\n\t\t}\n\n\t\tpublic int nextInt() {\n\t\t\tif (!hasNext())\n\t\t\t\tthrow new NoSuchElementException();\n\t\t\tint c = readByte();\n\t\t\twhile (isSpaceChar(c))\n\t\t\t\tc = readByte();\n\t\t\tboolean minus = false;\n\t\t\tif (c == '-') {\n\t\t\t\tminus = true;\n\t\t\t\tc = readByte();\n\t\t\t}\n\t\t\tint res = 0;\n\t\t\tdo {\n\t\t\t\tif (c < '0' || c > '9')\n\t\t\t\t\tthrow new InputMismatchException();\n\t\t\t\tres = res * 10 + c - '0';\n\t\t\t\tc = readByte();\n\t\t\t} while (!isSpaceChar(c));\n\t\t\treturn (minus) ? -res : res;\n\t\t}\n\n\t\tpublic long nextLong() {\n\t\t\tif (!hasNext())\n\t\t\t\tthrow new NoSuchElementException();\n\t\t\tint c = readByte();\n\t\t\twhile (isSpaceChar(c))\n\t\t\t\tc = readByte();\n\t\t\tboolean minus = false;\n\t\t\tif (c == '-') {\n\t\t\t\tminus = true;\n\t\t\t\tc = readByte();\n\t\t\t}\n\t\t\tlong res = 0;\n\t\t\tdo {\n\t\t\t\tif (c < '0' || c > '9')\n\t\t\t\t\tthrow new InputMismatchException();\n\t\t\t\tres = res * 10 + c - '0';\n\t\t\t\tc = readByte();\n\t\t\t} while (!isSpaceChar(c));\n\t\t\treturn (minus) ? -res : res;\n\t\t}\n\n\t\tpublic double nextDouble() {\n\t\t\treturn Double.parseDouble(next());\n\t\t}\n\n\t\tpublic int[] nextIntArray(int n) {\n\t\t\tint[] a = new int[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\ta[i] = nextInt();\n\t\t\treturn a;\n\t\t}\n\n\t\tpublic long[] nextLongArray(int n) {\n\t\t\tlong[] a = new long[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\ta[i] = nextLong();\n\t\t\treturn a;\n\t\t}\n\n\t\tpublic char[][] nextCharMap(int n, int m) {\n\t\t\tchar[][] map = new char[n][m];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\tmap[i] = next().toCharArray();\n\t\t\treturn map;\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Arrays;\nimport java.util.HashSet;\nimport java.util.Scanner;\n\npublic class Main {\n\tstatic Scanner sc = new Scanner(System.in);\n\tstatic int N;\n\tstatic int[] A;\n\tstatic boolean[] x;\n\n\tpublic static void main(String[] args) {\n\t\twhile (true) {\n\t\t\tN = sc.nextInt();\n\t\t\tif (N == 0) break;\n\t\t\tA = new int[N + 1];\n\t\t\tx = new boolean[N + 1];\n\t\t\tSystem.out.println(solve());\n\t\t}\n\t}\n\n\tstatic String solve() {\n\t\tHashSet<Integer> set = new HashSet<Integer>();\n\t\tfor (int i = 0; i < N; ++i) {\n\t\t\tString elem = sc.next();\n\t\t\tif (elem.equals(\"x\")) {\n\t\t\t\tx[i] = true;\n\t\t\t} else {\n\t\t\t\tA[i] = Integer.parseInt(elem);\n\t\t\t\tset.add(A[i] - 2);\n\t\t\t\tset.add(A[i] - 1);\n\t\t\t\tset.add(A[i]);\n\t\t\t\tset.add(A[i] + 1);\n\t\t\t\tset.add(A[i] + 2);\n\t\t\t}\n\t\t}\n\t\tA[N] = N % 2 == 0 ? Integer.MIN_VALUE : Integer.MAX_VALUE;\n\t\tif (set.isEmpty()) return ok() ? \"ambiguous\" : \"none\";\n\t\tint ans = Integer.MIN_VALUE;\n\t\tfor (int cand : set) {\n\t\t\tfor (int i = 0; i < N; ++i) {\n\t\t\t\tif (x[i]) A[i] = cand;\n\t\t\t}\n\t\t\tif (ok()) {\n\t\t\t\tif (ans == Integer.MIN_VALUE) {\n\t\t\t\t\tans = cand;\n\t\t\t\t} else {\n\t\t\t\t\treturn \"ambiguous\";\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn ans == Integer.MIN_VALUE ? \"none\" : ans + \"\";\n\t}\n\n\tstatic boolean ok() {\n\t\tfor (int i = 1; i < N; ++i) {\n\t\t\tif (i % 2 != 0) {\n\t\t\t\tif (A[i] <= A[i - 1] || A[i] <= A[i + 1]) return false;\n\t\t\t} else {\n\t\t\t\tif (A[i] >= A[i - 1] || A[i] >= A[i + 1]) return false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "// Broken Audio Signal\nimport java.util.Scanner;\n\npublic class Main {\n\tpublic static void main(String[] args) {\n\t\tScanner sc = new Scanner(System.in);\n\t\twhile (true) {\n\t\t\tint n = sc.nextInt();\n\t\t\tif (n == 0)\n\t\t\t\tbreak;\n\t\t\tchar[] signals = new char[n];\n\t\t\tfor (int i = 0; i < signals.length; i++)\n\t\t\t\tsignals[i] = sc.next().charAt(0);\n\t\t\tint max = (int) 1e9;\n\t\t\tint min = (int) -1e9;\n\t\t\tfor (int i = 1; i < signals.length - 1; i++) {\n\t\t\t\tif (signals[i] == 'x')\n\t\t\t\t\tif (i % 2 == 1)\n\t\t\t\t\t\tmin = Math.max(min, Math.max(signals[i - 1] - '0',\n\t\t\t\t\t\t\t\tsignals[i + 1] - '0'));\n\t\t\t\t\telse\n\t\t\t\t\t\tmax = Math.min(max, Math.min(signals[i - 1] - '0',\n\t\t\t\t\t\t\t\tsignals[i + 1] - '0'));\n\t\t\t}\n\t\t\tif (signals[0] == 'x')\n\t\t\t\tmax = Math.min(max, signals[1] - '0');\n\t\t\tif (signals[signals.length - 1] == 'x')\n\t\t\t\tif (signals.length % 2 == 1)\n\t\t\t\t\tmax = Math.min(max, signals[signals.length - 2] - '0');\n\t\t\t\telse\n\t\t\t\t\tmin = Math.max(min, signals[signals.length - 2] - '0');\n\t\t\tif (containsX(signals))\n\t\t\t\tif (max - min == 2)\n\t\t\t\t\tSystem.out.println((max + min) / 2);\n\t\t\t\telse if (max - min > 2)\n\t\t\t\t\tSystem.out.println(\"ambiguous\");\n\t\t\t\telse\n\t\t\t\t\tSystem.out.println(\"none\");\n\t\t\telse if (isFormatted(signals))\n\t\t\t\tSystem.out.println(\"ambiguous\");\n\t\t\telse\n\t\t\t\tSystem.out.println(\"none\");\n\t\t}\n\t\tsc.close();\n\t}\n\n\tprivate static boolean isFormatted(char[] signals) {\n\t\tfor (int i = 0; i < signals.length - 1; i++)\n\t\t\tif (i % 2 == 0 && signals[i] >= signals[i + 1])\n\t\t\t\treturn false;\n\t\t\telse if (i % 2 == 1 && signals[i] <= signals[i + 1])\n\t\t\t\treturn false;\n\t\treturn true;\n\t}\n\n\tprivate static boolean containsX(char[] signals) {\n\t\tfor (char i : signals)\n\t\t\tif (i == 'x')\n\t\t\t\treturn true;\n\t\treturn false;\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "// Broken Audio Signal\nimport java.util.Scanner;\n\nimport static java.lang.Integer.parseInt;\n\npublic class Main {\n\tpublic static void main(String[] args) {\n\t\tScanner sc = new Scanner(System.in);\n\t\twhile (true) {\n\t\t\tint n = sc.nextInt();\n\t\t\tif (n == 0)\n\t\t\t\tbreak;\n\t\t\tString[] signals = new String[n];\n\t\t\tfor (int i = 0; i < signals.length; i++)\n\t\t\t\tsignals[i] = sc.next();\n\t\t\tif (containsDoubleX(signals)) {\n\t\t\t\tSystem.out.println(\"none\");\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tint max = (int) Integer.MAX_VALUE;\n\t\t\tint min = (int) Integer.MIN_VALUE;\n\t\t\tfor (int i = 1; i < signals.length - 1; i++) {\n\t\t\t\tif (signals[i].equals(\"x\"))\n\t\t\t\t\tif (i % 2 == 1) {\n\t\t\t\t\t\tmin = Math.max(min, parseInt(signals[i - 1]));\n\t\t\t\t\t\tmin = Math.max(min, parseInt(signals[i + 1]));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmax = Math.min(max, parseInt(signals[i - 1]));\n\t\t\t\t\t\tmax = Math.min(max, parseInt(signals[i + 1]));\n\t\t\t\t\t}\n\t\t\t}\n\t\t\tif (signals[0].equals(\"x\"))\n\t\t\t\tmax = Math.min(max, parseInt(signals[1]));\n\t\t\tif (signals[signals.length - 1].equals(\"x\"))\n\t\t\t\tif (signals.length % 2 == 1)\n\t\t\t\t\tmax = Math.min(max, parseInt(signals[signals.length - 2]));\n\t\t\t\telse\n\t\t\t\t\tmin = Math.max(min, parseInt(signals[signals.length - 2]));\n\t\t\tif (containsX(signals))\n\t\t\t\tif (max - min == 2)\n\t\t\t\t\tSystem.out.println((max + min) / 2);\n\t\t\t\telse if (max - min > 2)\n\t\t\t\t\tSystem.out.println(\"ambiguous\");\n\t\t\t\telse\n\t\t\t\t\tSystem.out.println(\"none\");\n\t\t\telse if (isFormatted(signals))\n\t\t\t\tSystem.out.println(\"ambiguous\");\n\t\t\telse\n\t\t\t\tSystem.out.println(\"none\");\n\t\t}\n\t\tsc.close();\n\t}\n\n\tprivate static boolean containsDoubleX(String[] signals) {\n\t\tfor (int i = 0; i < signals.length - 1; i++) {\n\t\t\tif (signals[i].equals(\"x\") && signals[i + 1].equals(\"x\"))\n\t\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tprivate static boolean isFormatted(String[] signals) {\n\t\tfor (int i = 0; i < signals.length - 1; i++)\n\t\t\tif (i % 2 == 0 && parseInt(signals[i]) >= parseInt(signals[i + 1]))\n\t\t\t\treturn false;\n\t\t\telse if (i % 2 == 1\n\t\t\t\t\t&& parseInt(signals[i]) <= parseInt(signals[i + 1]))\n\t\t\t\treturn false;\n\t\treturn true;\n\t}\n\n\tprivate static boolean containsX(String[] signals) {\n\t\tfor (String str : signals)\n\t\t\tif (str.equals(\"x\"))\n\t\t\t\treturn true;\n\t\treturn false;\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException;\nimport java.io.InputStream;\nimport java.io.PrintWriter;\nimport java.util.InputMismatchException;\nimport java.util.NoSuchElementException;\n\npublic class Main {\n\n\tstatic PrintWriter out;\n\tstatic InputReader ir;\n\tstatic int[] d={1,-1};\n\n\tstatic void solve() {\n\t\touter:\n\t\tfor(;;){\n\t\t\tint n=ir.nextInt();\n\t\t\tif(n==0)\n\t\t\t\tbreak;\n\t\t\tString[] as=new String[n];\n\t\t\tint ma=Integer.MIN_VALUE,mi=Integer.MAX_VALUE;\n\t\t\tfor(int i=0;i<n;i++)\n\t\t\t\tas[i]=ir.next();\n\t\t\tfor(int i=0;i<n;i+=2){\n\t\t\t\tif(as[i].charAt(0)=='x'){\n\t\t\t\t\tfor(int j=0;j<2;j++){\n\t\t\t\t\t\tint nx=i+d[j];\n\t\t\t\t\t\tif(nx>=0&&nx<n){\n\t\t\t\t\t\t\tif(as[nx].charAt(0)!='x')\n\t\t\t\t\t\t\t\tmi=Math.min(mi,Integer.parseInt(as[nx]));\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\tout.println(\"none\");\n\t\t\t\t\t\t\t\tcontinue outer;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tfor(int j=0;j<2;j++){\n\t\t\t\t\t\tint nx=i+d[j];\n\t\t\t\t\t\tif(nx>=0&&nx<n){\n\t\t\t\t\t\t\tif(as[nx].charAt(0)!='x'&&Integer.parseInt(as[i])>=Integer.parseInt(as[nx])){\n\t\t\t\t\t\t\t\tout.println(\"none\");\n\t\t\t\t\t\t\t\tcontinue outer;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(int i=1;i<n;i+=2){\n\t\t\t\tif(as[i].charAt(0)=='x'){\n\t\t\t\t\tfor(int j=0;j<2;j++){\n\t\t\t\t\t\tint nx=i+d[j];\n\t\t\t\t\t\tif(nx>=0&&nx<n){\n\t\t\t\t\t\t\tif(as[nx].charAt(0)!='x')\n\t\t\t\t\t\t\t\tma=Math.max(ma,Integer.parseInt(as[nx]));\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\tout.println(\"none\");\n\t\t\t\t\t\t\t\tcontinue outer;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tmi--;\n\t\t\tma++;\n\t\t\tif(mi<ma)\n\t\t\t\tout.println(\"none\");\n\t\t\telse if(mi==ma)\n\t\t\t\tout.println(mi);\n\t\t\telse\n\t\t\t\tout.println(\"ambiguous\");\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) throws Exception {\n\t\tir = new InputReader(System.in);\n\t\tout = new PrintWriter(System.out);\n\t\tsolve();\n\t\tout.flush();\n\t}\n\n\tstatic class InputReader {\n\n\t\tprivate InputStream in;\n\t\tprivate byte[] buffer = new byte[1024];\n\t\tprivate int curbuf;\n\t\tprivate int lenbuf;\n\n\t\tpublic InputReader(InputStream in) {\n\t\t\tthis.in = in;\n\t\t\tthis.curbuf = this.lenbuf = 0;\n\t\t}\n\n\t\tpublic boolean hasNextByte() {\n\t\t\tif (curbuf >= lenbuf) {\n\t\t\t\tcurbuf = 0;\n\t\t\t\ttry {\n\t\t\t\t\tlenbuf = in.read(buffer);\n\t\t\t\t} catch (IOException e) {\n\t\t\t\t\tthrow new InputMismatchException();\n\t\t\t\t}\n\t\t\t\tif (lenbuf <= 0)\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tprivate int readByte() {\n\t\t\tif (hasNextByte())\n\t\t\t\treturn buffer[curbuf++];\n\t\t\telse\n\t\t\t\treturn -1;\n\t\t}\n\n\t\tprivate boolean isSpaceChar(int c) {\n\t\t\treturn !(c >= 33 && c <= 126);\n\t\t}\n\n\t\tprivate void skip() {\n\t\t\twhile (hasNextByte() && isSpaceChar(buffer[curbuf]))\n\t\t\t\tcurbuf++;\n\t\t}\n\n\t\tpublic boolean hasNext() {\n\t\t\tskip();\n\t\t\treturn hasNextByte();\n\t\t}\n\n\t\tpublic String next() {\n\t\t\tif (!hasNext())\n\t\t\t\tthrow new NoSuchElementException();\n\t\t\tStringBuilder sb = new StringBuilder();\n\t\t\tint b = readByte();\n\t\t\twhile (!isSpaceChar(b)) {\n\t\t\t\tsb.appendCodePoint(b);\n\t\t\t\tb = readByte();\n\t\t\t}\n\t\t\treturn sb.toString();\n\t\t}\n\n\t\tpublic int nextInt() {\n\t\t\tif (!hasNext())\n\t\t\t\tthrow new NoSuchElementException();\n\t\t\tint c = readByte();\n\t\t\twhile (isSpaceChar(c))\n\t\t\t\tc = readByte();\n\t\t\tboolean minus = false;\n\t\t\tif (c == '-') {\n\t\t\t\tminus = true;\n\t\t\t\tc = readByte();\n\t\t\t}\n\t\t\tint res = 0;\n\t\t\tdo {\n\t\t\t\tif (c < '0' || c > '9')\n\t\t\t\t\tthrow new InputMismatchException();\n\t\t\t\tres = res * 10 + c - '0';\n\t\t\t\tc = readByte();\n\t\t\t} while (!isSpaceChar(c));\n\t\t\treturn (minus) ? -res : res;\n\t\t}\n\n\t\tpublic long nextLong() {\n\t\t\tif (!hasNext())\n\t\t\t\tthrow new NoSuchElementException();\n\t\t\tint c = readByte();\n\t\t\twhile (isSpaceChar(c))\n\t\t\t\tc = readByte();\n\t\t\tboolean minus = false;\n\t\t\tif (c == '-') {\n\t\t\t\tminus = true;\n\t\t\t\tc = readByte();\n\t\t\t}\n\t\t\tlong res = 0;\n\t\t\tdo {\n\t\t\t\tif (c < '0' || c > '9')\n\t\t\t\t\tthrow new InputMismatchException();\n\t\t\t\tres = res * 10 + c - '0';\n\t\t\t\tc = readByte();\n\t\t\t} while (!isSpaceChar(c));\n\t\t\treturn (minus) ? -res : res;\n\t\t}\n\n\t\tpublic double nextDouble() {\n\t\t\treturn Double.parseDouble(next());\n\t\t}\n\n\t\tpublic int[] nextIntArray(int n) {\n\t\t\tint[] a = new int[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\ta[i] = nextInt();\n\t\t\treturn a;\n\t\t}\n\n\t\tpublic long[] nextLongArray(int n) {\n\t\t\tlong[] a = new long[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\ta[i] = nextLong();\n\t\t\treturn a;\n\t\t}\n\n\t\tpublic char[][] nextCharMap(int n, int m) {\n\t\t\tchar[][] map = new char[n][m];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\tmap[i] = next().toCharArray();\n\t\t\treturn map;\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException;\nimport java.io.InputStream;\nimport java.io.PrintWriter;\nimport java.util.InputMismatchException;\nimport java.util.NoSuchElementException;\n\npublic class Main {\n\n\tstatic PrintWriter out;\n\tstatic InputReader ir;\n\tstatic int[] d={1,-1};\n\n\tstatic void solve() {\n\t\touter:\n\t\tfor(;;){\n\t\t\tint n=ir.nextInt();\n\t\t\tif(n==0)\n\t\t\t\tbreak;\n\t\t\tchar[] as=new char[n];\n\t\t\tint ma=Integer.MIN_VALUE,mi=Integer.MAX_VALUE;\n\t\t\tfor(int i=0;i<n;i++)\n\t\t\t\tas[i]=ir.next().charAt(0);\n\t\t\tfor(int i=0;i<n;i+=2){\n\t\t\t\tif(as[i]=='x'){\n\t\t\t\t\tfor(int j=0;j<2;j++){\n\t\t\t\t\t\tint nx=i+d[j];\n\t\t\t\t\t\tif(nx>=0&&nx<n){\n\t\t\t\t\t\t\tif(as[nx]!='x')\n\t\t\t\t\t\t\t\tmi=Math.min(mi,as[nx]-'0');\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\tout.println(\"none\");\n\t\t\t\t\t\t\t\tcontinue outer;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tfor(int j=0;j<2;j++){\n\t\t\t\t\t\tint nx=i+d[j];\n\t\t\t\t\t\tif(nx>=0&&nx<n){\n\t\t\t\t\t\t\tif(as[nx]!='x'&&as[i]>as[nx]){\n\t\t\t\t\t\t\t\tout.println(\"none\");\n\t\t\t\t\t\t\t\tcontinue outer;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(int i=1;i<n;i+=2){\n\t\t\t\tif(as[i]=='x'){\n\t\t\t\t\tfor(int j=0;j<2;j++){\n\t\t\t\t\t\tint nx=i+d[j];\n\t\t\t\t\t\tif(nx>=0&&nx<n){\n\t\t\t\t\t\t\tif(as[nx]!='x')\n\t\t\t\t\t\t\t\tma=Math.max(ma,as[nx]-'0');\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\tout.println(\"none\");\n\t\t\t\t\t\t\t\tcontinue outer;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tmi--;\n\t\t\tma++;\n\t\t\tif(mi<ma)\n\t\t\t\tout.println(\"none\");\n\t\t\telse if(mi==ma)\n\t\t\t\tout.println(mi);\n\t\t\telse\n\t\t\t\tout.println(\"ambiguous\");\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) throws Exception {\n\t\tir = new InputReader(System.in);\n\t\tout = new PrintWriter(System.out);\n\t\tsolve();\n\t\tout.flush();\n\t}\n\n\tstatic class InputReader {\n\n\t\tprivate InputStream in;\n\t\tprivate byte[] buffer = new byte[1024];\n\t\tprivate int curbuf;\n\t\tprivate int lenbuf;\n\n\t\tpublic InputReader(InputStream in) {\n\t\t\tthis.in = in;\n\t\t\tthis.curbuf = this.lenbuf = 0;\n\t\t}\n\n\t\tpublic boolean hasNextByte() {\n\t\t\tif (curbuf >= lenbuf) {\n\t\t\t\tcurbuf = 0;\n\t\t\t\ttry {\n\t\t\t\t\tlenbuf = in.read(buffer);\n\t\t\t\t} catch (IOException e) {\n\t\t\t\t\tthrow new InputMismatchException();\n\t\t\t\t}\n\t\t\t\tif (lenbuf <= 0)\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tprivate int readByte() {\n\t\t\tif (hasNextByte())\n\t\t\t\treturn buffer[curbuf++];\n\t\t\telse\n\t\t\t\treturn -1;\n\t\t}\n\n\t\tprivate boolean isSpaceChar(int c) {\n\t\t\treturn !(c >= 33 && c <= 126);\n\t\t}\n\n\t\tprivate void skip() {\n\t\t\twhile (hasNextByte() && isSpaceChar(buffer[curbuf]))\n\t\t\t\tcurbuf++;\n\t\t}\n\n\t\tpublic boolean hasNext() {\n\t\t\tskip();\n\t\t\treturn hasNextByte();\n\t\t}\n\n\t\tpublic String next() {\n\t\t\tif (!hasNext())\n\t\t\t\tthrow new NoSuchElementException();\n\t\t\tStringBuilder sb = new StringBuilder();\n\t\t\tint b = readByte();\n\t\t\twhile (!isSpaceChar(b)) {\n\t\t\t\tsb.appendCodePoint(b);\n\t\t\t\tb = readByte();\n\t\t\t}\n\t\t\treturn sb.toString();\n\t\t}\n\n\t\tpublic int nextInt() {\n\t\t\tif (!hasNext())\n\t\t\t\tthrow new NoSuchElementException();\n\t\t\tint c = readByte();\n\t\t\twhile (isSpaceChar(c))\n\t\t\t\tc = readByte();\n\t\t\tboolean minus = false;\n\t\t\tif (c == '-') {\n\t\t\t\tminus = true;\n\t\t\t\tc = readByte();\n\t\t\t}\n\t\t\tint res = 0;\n\t\t\tdo {\n\t\t\t\tif (c < '0' || c > '9')\n\t\t\t\t\tthrow new InputMismatchException();\n\t\t\t\tres = res * 10 + c - '0';\n\t\t\t\tc = readByte();\n\t\t\t} while (!isSpaceChar(c));\n\t\t\treturn (minus) ? -res : res;\n\t\t}\n\n\t\tpublic long nextLong() {\n\t\t\tif (!hasNext())\n\t\t\t\tthrow new NoSuchElementException();\n\t\t\tint c = readByte();\n\t\t\twhile (isSpaceChar(c))\n\t\t\t\tc = readByte();\n\t\t\tboolean minus = false;\n\t\t\tif (c == '-') {\n\t\t\t\tminus = true;\n\t\t\t\tc = readByte();\n\t\t\t}\n\t\t\tlong res = 0;\n\t\t\tdo {\n\t\t\t\tif (c < '0' || c > '9')\n\t\t\t\t\tthrow new InputMismatchException();\n\t\t\t\tres = res * 10 + c - '0';\n\t\t\t\tc = readByte();\n\t\t\t} while (!isSpaceChar(c));\n\t\t\treturn (minus) ? -res : res;\n\t\t}\n\n\t\tpublic double nextDouble() {\n\t\t\treturn Double.parseDouble(next());\n\t\t}\n\n\t\tpublic int[] nextIntArray(int n) {\n\t\t\tint[] a = new int[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\ta[i] = nextInt();\n\t\t\treturn a;\n\t\t}\n\n\t\tpublic long[] nextLongArray(int n) {\n\t\t\tlong[] a = new long[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\ta[i] = nextLong();\n\t\t\treturn a;\n\t\t}\n\n\t\tpublic char[][] nextCharMap(int n, int m) {\n\t\t\tchar[][] map = new char[n][m];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\tmap[i] = next().toCharArray();\n\t\t\treturn map;\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\nimport java.io.*;\nimport java.awt.geom.*;\nimport java.math.*;\n\npublic class Main {\n\n\tstatic final Scanner in = new Scanner(System.in);\n\tstatic final PrintWriter out = new PrintWriter(System.out,false);\n\tstatic boolean debug = false;\n\n\tstatic boolean solve() {\n\t\tint n = in.nextInt();\n\t\tif (n == 0) return false;\n\n\t\tString[] s = new String[n];\n\n\t\tfor (int i=0; i<n; i++) {\n\t\t\ts[i] = in.next();\n\t\t}\n\n\t\tlong min = -(1L<<60), max = 1L<<60;\n\n\t\tfor (int i=0; i<n; i++) {\n\t\t\tif (s[i].charAt(0) == 'x') {\n\t\t\t\tif (i != n-1 && s[i+1].charAt(0) == 'x') {\n\t\t\t\t\tmin = 1L<<60;\n\t\t\t\t\tmax = -min;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (i%2 == 0) {\n\t\t\t\t\tif (i != 0)\n\t\t\t\t\t\tmax = Math.min(max, Integer.parseInt(s[i-1])-1);\n\t\t\t\t\tif (i != n-1)\n\t\t\t\t\t\tmax = Math.min(max, Integer.parseInt(s[i+1])-1);\n\t\t\t\t} else {\n\t\t\t\t\t\tmin = Math.max(min, Integer.parseInt(s[i-1])+1);\n\t\t\t\t\tif (i != n-1)\n\t\t\t\t\t\tmin = Math.max(min, Integer.parseInt(s[i+1])+1);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tint x = Integer.parseInt(s[i]);\n\t\t\t\tif (i%2 == 0) {\n\t\t\t\t\tif (i != 0 && s[i-1].charAt(0) != 'x' && Integer.parseInt(s[i-1]) < x) {\n\t\t\t\t\t\tmin = 1L<<60;\n\t\t\t\t\t\tmax = -min;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif (i != n-1 && s[i+1].charAt(0) != 'x' && Integer.parseInt(s[i+1]) < x) {\n\t\t\t\t\t\tmin = 1L<<60;\n\t\t\t\t\t\tmax = -min;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (i != 0 && s[i-1].charAt(0) != 'x' && Integer.parseInt(s[i-1]) > x) {\n\t\t\t\t\t\tmin = 1L<<60;\n\t\t\t\t\t\tmax = -min;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif (i != n-1 && s[i+1].charAt(0) != 'x' && Integer.parseInt(s[i+1]) > x) {\n\t\t\t\t\t\tmin = 1L<<60;\n\t\t\t\t\t\tmax = -min;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (min == max) {\n\t\t\tout.println(max);\n\t\t} else if (min > max) {\n\t\t\tout.println(\"none\");\n\t\t} else {\n\t\t\tout.println(\"ambiguous\");\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tdebug = args.length > 0;\n\t\tlong start = System.nanoTime();\n\n\t\twhile(solve());\n\t\tout.flush();\n\n\t\tlong end = System.nanoTime();\n\t\tdump((end - start) / 1000000 + \" ms\");\n\t\tin.close();\n\t\tout.close();\n\t}\n\n\tstatic void dump(Object... o) { if (debug) System.err.println(Arrays.deepToString(o)); }\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\npublic class Main { \n\tpublic static void main(String[] args) {\n\t\tScanner stdIn = new Scanner(System.in);\n\t\tST:while(true) {\n\t\t\tint n = stdIn.nextInt();\n\t\t\tif(n == 0) break;\n\t\t\tlong[] a = new long[n];\n\t\t\tboolean[] b = new boolean[n];\n\t\t\tboolean lastB = false;\n\t\t\tboolean km = true;\n\t\t\tboolean stop = false;\n\t\t\tfor(int i = 0; i < n; i++) {\n\t\t\t\tString k = stdIn.next();\n\t\t\t\tif(stop) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif(k.equals(\"x\")) {\n\t\t\t\t\ta[i] = 0L;\n\t\t\t\t\tb[i] = true;\n\t\t\t\t\tif(lastB) {\n\t\t\t\t\t\tSystem.out.println(\"none\");\n\t\t\t\t\t\tstop = true;\n\t\t\t\t\t}\n\t\t\t\t\tlastB = true;\n\t\t\t\t\tkm = false;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t\n\t\t\t\t\ta[i] = Long.parseLong(k);\n\t\t\t\t\tif(!lastB) {\n\t\t\t\t\t\tif(i != 0 && (i+1)%2 == 0) {\n\t\t\t\t\t\t\tif(a[i-1] >= a[i]) {\n\t\t\t\t\t\t\t\tSystem.out.println(\"none\");\n\t\t\t\t\t\t\t\tstop = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if(i != 0 && (i+1)%2 == 1) {\n\t\t\t\t\t\t\tif(a[i-1] <= a[i]) {\n\t\t\t\t\t\t\t\tSystem.out.println(\"none\");\n\t\t\t\t\t\t\t\tstop = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tlastB = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(stop) {\n\t\t\t\tcontinue ST;\n\t\t\t}\n\t\t\tif(km) {\n\t\t\t\tSystem.out.println(\"ambiguous\");\n\t\t\t\tcontinue ST;\n\t\t\t}\n\t\t\tlong max = Long.MAX_VALUE;\n\t\t\tlong min = Long.MIN_VALUE;\n\t\t\tfor(int i = 0; i < n; i++) {\n\t\t\t\tif(b[i]) {\n\t\t\t\t\tif((i+1)%2 == 0) {\n\t\t\t\t\t\tlong an = Long.MIN_VALUE;\n\t\t\t\t\t\tlong bn = Long.MIN_VALUE;\n\t\t\t\t\t\tif(i != 0 && !b[i-1]) {\n\t\t\t\t\t\t\tan = a[i-1];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(i != n-1 && !b[i+1]) {\n\t\t\t\t\t\t\tbn = a[i+1];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(min < Math.max(an, bn)) {\n\t\t\t\t\t\t\tmin = Math.max(an, bn);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tlong an = Long.MAX_VALUE;\n\t\t\t\t\t\tlong bn = Long.MAX_VALUE;\n\t\t\t\t\t\tif(i != 0 && !b[i-1]) {\n\t\t\t\t\t\t\tan = a[i-1];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(i != n-1 && !b[i+1]) {\n\t\t\t\t\t\t\tbn = a[i+1];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(max > Math.min(an, bn)) {\n\t\t\t\t\t\t\tmax = Math.min(an, bn);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(max - min == 2) {\n\t\t\t\tSystem.out.println(min+1);\n\t\t\t}\n\t\t\telse if(max - min < 2){\n\t\t\t\tSystem.out.println(\"none\");\n\t\t\t}\n\t\t\telse {\n\t\t\t\tSystem.out.println(\"ambiguous\");\n\t\t\t}\n\t\t}\n\t}\n\t\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\nimport java.util.ArrayList;\n\npublic class Main {\n\tScanner sc = new Scanner(System.in);\n\tpublic void run(){\n\t\twhile(true){\n\t\t\tint n = sc.nextInt();\n\t\t\tif(n==0) break;\n\t\t\tcalc(n);\n\t\t}\n\t}\n\tpublic void calc(int n){\n\t\tString before = sc.next();\n\t\tint min = -1000010000;\n\t\tint max = 1000010000;\n\t\tint breakflug = 0;\n\n\t\tfor(int i = 1; i < n; i++){\n\t\t\tString s = sc.next();\n\t\t\tif(breakflug == 0){\n\t\t\t\tif(s.equals(\"x\")){\n\t\t\t\t\tif(before.equals(\"x\")){//x???2??£?¶?????????????????????§?????????\n\t\t\t\t\t\tmin = 0;\n\t\t\t\t\t\tmax = 0;\n\t\t\t\t\t\tbreakflug = 1;\n\t\t\t\t\t}\n\t\t\t\t\telse if(i%2 == 0){//?\\???°??????\n\t\t\t\t\t\tint b = Integer.parseInt(before);\n\t\t\t\t\t\tif (b < max){\n\t\t\t\t\t\t\tmax = b;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse{//??¶??°??????\n\t\t\t\t\t\tint b = Integer.parseInt(before);\n\t\t\t\t\t\tif(b > min){\n\t\t\t\t\t\t\tmin = b;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{//??°????????´???\n\t\t\t\t\tint a = Integer.parseInt(s);\n\t\t\t\t\tif(before.equals(\"x\")){//???????£???????????????¨???\n\t\t\t\t\t\tif(i%2 == 0){//x?????¶??°??????\n\t\t\t\t\t\t\tif(a > min){\n\t\t\t\t\t\t\t\tmin = a;\n\t\t\t\t\t\t\t}\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{//x????\\???°??????\n\t\t\t\t\t\t\tif(a < max){\n\t\t\t\t\t\t\t\tmax = a;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse{//????????°????????¨???\n\t\t\t\t\t\tint b = Integer.parseInt(before);\n\t\t\t\t\t\tif(i%2 == 0){//???????\\???°??????\n\t\t\t\t\t\t\tif(b <= a){\n\t\t\t\t\t\t\t\tmin = 0;\n\t\t\t\t\t\t\t\tmax = 0;\n\t\t\t\t\t\t\t\tbreakflug = 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{//????????¶??°??????\n\t\t\t\t\t\t\tif(b >= a){\n\t\t\t\t\t\t\t\tmin = 0; \n\t\t\t\t\t\t\t\tmax = 0;\n\t\t\t\t\t\t\t\tbreakflug = 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tbefore = s;\n\t\t}\n\t\t\n\t\tif(max-min < 2){\n\t\t\tSystem.out.println(\"none\");\n\t\t}\n\t\telse if(max-min == 2){\n\t\t\tSystem.out.println(max-1);\n\t\t}\n\t\telse{\n\t\t\tSystem.out.println(\"ambiguous\");\n\t\t}\n\t}\n\t\n\tpublic static void main(String[] args){\n\t\tnew Main().run();\n\t}\n\t\n}"
  },
  {
    "language": "Java",
    "code": "\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\n\npublic class Main {\n\n\tpublic static void main(String[] args) throws NumberFormatException, IOException {\n\t\t// TODO 自動生成されたメソッド・スタブ\n\t\tBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n\n\t\twhile(true){\n\t\t\tint n = Integer.parseInt(br.readLine());\n\n\t\t\tif(n == 0){\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tint low = -1_000_000_003;\n\t\t\tint high = 1_000_000_003;\n\t\t\tfinal int x = Integer.MIN_VALUE;\n\n\t\t\tString[] tmpArray = br.readLine().split(\" \");\n\t\t\tint input[] = new int[n];\n\t\t\tfor(int i = 0; i < n; i++){\n\t\t\t\tif(tmpArray[i].equals(\"x\")){\n\t\t\t\t\tinput[i] = x;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tinput[i] = Integer.parseInt(tmpArray[i]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tint xCount = 0;\n\t\t\tboolean fault = false;\n\t\t\tfor(int i = 0; i < n; i++){\n//\t\t\t\tSystem.out.println(low + \" \"+ high);\n\t\t\t\tif(input[i] == x){\n\t\t\t\t\tif(i != n - 1 && input[i + 1] == x){\n\t\t\t\t\t\tfault = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(i % 2 == 1){\n\t\t\t\t\t\tif(i != n - 1){\n\t\t\t\t\t\t\tlow = Math.max(low, input[i + 1]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlow = Math.max(low, input[i - 1]);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif(i != n - 1){\n\t\t\t\t\t\t\thigh = Math.min(high, input[i + 1]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(i != 0){\n\t\t\t\t\t\t\thigh = Math.min(high, input[i - 1]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n//\t\t\t\t\txCount++;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif(i % 2 == 0){\n\t\t\t\t\tif(i != n - 1 && input[i + 1] != x && input[i] >= input[i + 1]){\n\t\t\t\t\t\tfault = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif(i != n - 1 && input[i + 1] != x && input[i] <= input[i + 1]){\n\t\t\t\t\t\tfault = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n//\t\t\tSystem.out.println(\"loop has ended \"+ low + \" \"+ high);\n\n\t\t\tif(fault){\n\t\t\t\tSystem.out.println(\"none\");\n\t\t\t}\n\t\t\telse if(low + 2 == high){\n\t\t\t\tSystem.out.println(low + 1);\n\t\t\t}\n\t\t\telse if(high - low <= 1){\n\t\t\t\tSystem.out.println(\"none\");\n\t\t\t}\n\t\t\telse {\n\t\t\t\tSystem.out.println(\"ambiguous\");\n\t\t\t}\n\n\t\t}\n\t}\n\n}\n\n"
  },
  {
    "language": "Ruby",
    "code": "loop {\n\tn = gets.to_i\n\tbreak if n == 0\n\ta = gets.chomp.split\n\tif a.each_cons(2).any?{|c1, c2| c1 == ?x && c2 == ?x}\n\t\tputs 'none'\n\t\tnext\n\tend\n\tmax = Float::INFINITY\n\tmin = -max\n\t\n\ta.each_cons(2).with_index{|(c1, c2), i|\n\t\tif c1 == ?x\n\t\t\tif i.even?\n\t\t\t\tmax = c2.to_i-1 if c2.to_i <= max\n\t\t\telse\n\t\t\t\tmin = c2.to_i+1 if c2.to_i >= min\n\t\t\tend\n\t\telsif c2 == ?x\n\t\t\tif i.even?\n\t\t\t\tmin = c1.to_i+1 if c1.to_i >= min\n\t\t\telse\n\t\t\t\tmax = c1.to_i-1 if c1.to_i <= max\n\t\t\tend\n\t\telse\n\t\t\tif i.even? && c1.to_i >= c2.to_i\n\t\t\t\tmax = 0\n\t\t\t\tmin = 1\n\t\t\t\tbreak\n\t\t\tend\n\t\t\tif i.odd? && c1.to_i <= c2.to_i\n\t\t\t\tmax = 0\n\t\t\t\tmin = 1\n\t\t\t\tbreak\n\t\t\tend\n\t\tend\n\t}\n\n\tif min == max\n\t\tputs min\n\telsif min < max\n\t\tputs 'ambiguous'\n\telse\n\t\tputs 'none'\n\tend\n\n}"
  },
  {
    "language": "Ruby",
    "code": "loop do\n    n = gets.to_i\n    break if n == 0\n    a = gets.split\n    p = [-Float::INFINITY, Float::INFINITY]\n    a.each_with_index do |aa,i|\n        if aa == \"x\"\n            if i < a.size - 1 && a[i+1] == \"x\"\n                p = [Float::INFINITY, -Float::INFINITY]\n                break\n            end\n            if i == 0\n                p[1] = a[1].to_i - 1\n            elsif i < a.size - 1\n                if i % 2 == 1\n                    p[0] = [a[i-1].to_i, a[i+1].to_i].max + 1\n                else\n                    p[1] = [a[i-1].to_i, a[i+1].to_i].min - 1\n                end\n            else\n                if i % 2 == 1\n                    p[0] = a[i-1].to_i + 1\n                else\n                    p[1] = a[i-1].to_i - 1\n                end\n            end\n        else\n            if i < a.size - 1 && a[i+1] != \"x\"\n                if i % 2 == 1 && aa.to_i < a[i+1].to_i ||  i % 2 == 0 && aa.to_i > a[i+1].to_i\n                    p = [Float::INFINITY, -Float::INFINITY]\n                    break\n                end\n            end\n        end\n    end\n    if p[0] == p[1]\n        puts p[0]\n    elsif p[0] > p[1]\n        puts \"none\"\n    else\n        puts \"ambiguous\"\n    end\nend"
  },
  {
    "language": "Ruby",
    "code": "loop do\n    n = gets.to_i\n    break if n == 0\n    a = gets.split\n    p = [-Float::INFINITY, Float::INFINITY]\n    a.each_with_index do |aa,i|\n        if aa == \"x\"\n            if i < a.size - 1 && a[i+1] == \"x\"\n                p = [Float::INFINITY, -Float::INFINITY]\n                break\n            end\n            if i == 0\n                p[1] = a[1].to_i - 1\n            elsif i < a.size - 1\n                if i % 2 == 1\n                    p[0] = [[a[i-1].to_i, a[i+1].to_i].max + 1, p[0]].max\n                else\n                    p[1] = [[a[i-1].to_i, a[i+1].to_i].min - 1, p[1]].min\n                end\n            else\n                if i % 2 == 1\n                    p[0] = [a[i-1].to_i + 1, p[0]].max\n                else\n                    p[1] = [a[i-1].to_i - 1, p[1]].min\n                end\n            end\n        else\n            if i < a.size - 1 && a[i+1] != \"x\"\n                if i % 2 == 1 && aa.to_i < a[i+1].to_i ||  i % 2 == 0 && aa.to_i > a[i+1].to_i\n                    p = [Float::INFINITY, -Float::INFINITY]\n                    break\n                end\n            end\n        end\n    end\n    if p[0] == p[1]\n        puts p[0]\n    elsif p[0] > p[1]\n        puts \"none\"\n    else\n        puts \"ambiguous\"\n    end\nend"
  },
  {
    "language": "Ruby",
    "code": "loop do\n    n = gets.to_i\n    break if n == 0\n    a = gets.split\n    p = [-Float::INFINITY, Float::INFINITY]\n    b = true\n    a.each_with_index do |aa,i|\n        if aa != \"x\" && i < a.size - 1 && a[i+1] != \"x\"\n            if i % 2 == 1\n                if aa.to_i < a[i+1].to_i\n                    b = false\n                    puts \"none\"\n                    break\n                end\n            else\n                if aa.to_i > a[i+1].to_i\n                    b = false\n                    puts \"none\"\n                    break\n                end\n            end\n        end\n        next if aa != \"x\"\n        if a[i+1] == \"x\"\n            b = false\n            puts \"none\"\n            break\n        end\n        if i == 0\n            if a[1].to_i == -10**9\n                b = false\n                puts \"none\"\n                break\n            else\n                p[1] = a[1].to_i - 1\n            end\n        elsif i < a.size - 1\n            if i % 2 == 1\n                if p[1] <= a[i-1].to_i || p[1] <= a[i+1].to_i\n                    b = false\n                    puts \"none\"\n                    break\n                else\n                    p[0] = [a[i-1].to_i, a[i+1].to_i].max + 1\n                end\n            else\n                if p[0] >= a[i-1].to_i || p[0] >= a[i+1].to_i\n                    b = false\n                    puts \"none\"\n                    break\n                else\n                    p[1] = [a[i-1].to_i, a[i+1].to_i].min - 1\n                end\n            end\n        else\n            if i % 2 == 1\n                if p[1] <= a[i-1].to_i\n                    b = false\n                    puts \"none\"\n                    break\n                else\n                    p[0] = a[i-1].to_i + 1\n                end\n            else\n                if p[0] >= a[i-1].to_i\n                    b = false\n                    puts \"none\"\n                    break\n                else\n                    p[1] = a[i-1].to_i - 1\n                end\n            end\n        end\n    end\n    next if !b\n    if p[0] == p[1]\n        puts p[0]\n    else\n        puts \"ambiguous\"\n    end\nend"
  },
  {
    "language": "Python",
    "code": "import math,string,itertools,fractions,heapq,collections,re,array,bisect,sys,random,time,copy,functools\n\nsys.setrecursionlimit(10**7)\ninf = 10**20\neps = 1.0 / 10**10\nmod = 998244353\n\ndef LI(): return [int(x) for x in sys.stdin.readline().split()]\ndef LI_(): return [int(x)-1 for x in sys.stdin.readline().split()]\ndef LF(): return [float(x) for x in sys.stdin.readline().split()]\ndef LS(): return sys.stdin.readline().split()\ndef I(): return int(sys.stdin.readline())\ndef F(): return float(sys.stdin.readline())\ndef S(): return input()\ndef pf(s): return print(s, flush=True)\n\n\ndef main():\n    rr = []\n    while True:\n        n = I()\n        if n == 0:\n            break\n        a = LS()\n        r = None\n        for i in range(n):\n            if a[i] == 'x':\n                if i > 0 and a[i-1] == 'x':\n                    r = 'none'\n                    break\n            else:\n                a[i] = int(a[i])\n                if i > 0 and a[i-1] != 'x':\n                    if i % 2 == 0:\n                        if a[i-1] <= a[i]:\n                            r = 'none'\n                            break\n                    elif a[i-1] >= a[i]:\n                        r = 'none'\n                        break\n        if r:\n            rr.append(r)\n            continue\n        ma = -1\n        mi = inf\n        for i in range(n):\n            if a[i] != 'x':\n                continue\n            if i % 2 == 0:\n                if i > 0:\n                    mi = min(mi, a[i-1]-1)\n                if i < n-1:\n                    mi = min(mi, a[i+1]-1)\n            else:\n                ma = max(ma, a[i-1]+1)\n                if i < n-1:\n                    ma = max(ma, a[i+1]+1)\n        if ma == mi:\n            rr.append(ma)\n        elif ma == -1 or mi == inf:\n            rr.append('ambiguous')\n        elif ma > mi:\n            rr.append('none')\n        else:\n            rr.append('ambiguous')\n\n\n\n    return '\\n'.join(map(str, rr))\n\n\nprint(main())\n\n\n\n"
  },
  {
    "language": "Python",
    "code": "MAX = 10**9 * 2\nwhile 1:\n\tN = int(raw_input())\n\tif N == 0:\n\t\tbreak\n\tsignal = raw_input().split(\" \")\n\txst = MAX + 1\n\txlt = - xst\n\tfor i in range(N):\n\t\tif signal[i] == \"x\":\n\t\t\tif i < N-1 and signal[i+1] == \"x\" :\n\t\t\t\tprint \"none\"\n\t\t\t\tbreak\n\t\t\tif (i + 1) % 2 != 0:\n\t\t\t\tleft = MAX + 1 if i <= 0 else int(signal[i-1]) \n\t\t\t\tright = MAX + 1 if i >= N-1 else int(signal[i+1])\n\t\t\t\txst = min(xst, left, right)\n\t\t\telse :\n\t\t\t\tleft = - (MAX + 1) if i <= 0 else int(signal[i-1]) \n\t\t\t\tright = - (MAX + 1) if i >= N-1 else int(signal[i+1])\n\t\t\t\txlt = max(xlt, left, right)\n\t\telif i < N-1 and signal[i+1] != \"x\" :\n\t\t\t\tif ( (i + 1) % 2 != 0 and int(signal[i]) >= int(signal[i+1]) \n\t\t\t\t  or (i + 1) % 2 == 0 and int(signal[i]) <= int(signal[i+1])) :\n\t\t\t\t\tprint \"none\"\n\t\t\t\t\tbreak\n\telse :\n\t\tx = \"none\"\n\t\ttmpx = xlt + 1\n\t\twhile tmpx < xst:\n\t\t\tif x != \"none\" :\n\t\t\t\tprint \"ambiguous\"\n\t\t\t\tbreak\n\t\t\tx = tmpx\n\t\t\ttmpx += 1\n\t\telse :\n\t\t\tprint x"
  },
  {
    "language": "Python",
    "code": "import math,string,itertools,fractions,heapq,collections,re,array,bisect,sys,random,time,copy,functools\n\nsys.setrecursionlimit(10**7)\ninf = 10**20\neps = 1.0 / 10**10\nmod = 998244353\n\ndef LI(): return [int(x) for x in sys.stdin.readline().split()]\ndef LI_(): return [int(x)-1 for x in sys.stdin.readline().split()]\ndef LF(): return [float(x) for x in sys.stdin.readline().split()]\ndef LS(): return sys.stdin.readline().split()\ndef I(): return int(sys.stdin.readline())\ndef F(): return float(sys.stdin.readline())\ndef S(): return input()\ndef pf(s): return print(s, flush=True)\n\n\ndef main():\n    rr = []\n    while True:\n        n = I()\n        if n == 0:\n            break\n        a = LS()\n        r = None\n        for i in range(n):\n            if a[i] == 'x':\n                if i > 0 and a[i-1] == 'x':\n                    r = 'none'\n                    break\n            else:\n                a[i] = int(a[i])\n                if i > 0 and a[i-1] != 'x':\n                    if i % 2 == 0:\n                        if a[i-1] <= a[i]:\n                            r = 'none'\n                            break\n                    elif a[i-1] >= a[i]:\n                        r = 'none'\n                        break\n        if r:\n            rr.append(r)\n            continue\n        ma = -1\n        mi = inf\n        for i in range(n):\n            if a[i] != 'x':\n                continue\n            if i % 2 == 0:\n                if i > 0:\n                    mi = min(mi, a[i-1]-1)\n                if i < n-1:\n                    mi = min(mi, a[i+1]-1)\n            else:\n                ma = max(ma, a[i-1]+1)\n                if i < n-1:\n                    ma = max(ma, a[i+1]+1)\n        if ma == mi:\n            rr.append(ma)\n        elif ma == -1 or mi == inf:\n            rr.append('ambiguous')\n        elif ma > mi:\n            rr.append('none')\n        else:\n            rr.append('ambiguous')\n\n\n\n    return '\\n'.join(map(str, rr))\n\n\nprint(main())\n\n\n"
  },
  {
    "language": "Python",
    "code": "import math,string,itertools,fractions,heapq,collections,re,array,bisect,sys,random,time,copy,functools\n\nsys.setrecursionlimit(10**7)\ninf = 10**20\neps = 1.0 / 10**10\nmod = 998244353\n\ndef LI(): return [int(x) for x in sys.stdin.readline().split()]\ndef LI_(): return [int(x)-1 for x in sys.stdin.readline().split()]\ndef LF(): return [float(x) for x in sys.stdin.readline().split()]\ndef LS(): return sys.stdin.readline().split()\ndef I(): return int(sys.stdin.readline())\ndef F(): return float(sys.stdin.readline())\ndef S(): return input()\ndef pf(s): return print(s, flush=True)\n\n\ndef main():\n    rr = []\n    while True:\n        n = I()\n        if n == 0:\n            break\n        a = LS()\n        r = None\n        for i in range(n):\n            if a[i] == 'x':\n                if i > 0 and a[i-1] == 'x':\n                    r = 'none'\n                    break\n            else:\n                a[i] = int(a[i])\n                if i > 0 and a[i-1] != 'x':\n                    if i % 2 == 0:\n                        if a[i-1] <= a[i]:\n                            r = 'none'\n                            break\n                    elif a[i-1] >= a[i]:\n                        r = 'none'\n                        break\n        if r:\n            rr.append(r)\n            continue\n        ma = -inf\n        mi = inf\n        for i in range(n):\n            if a[i] != 'x':\n                continue\n            if i % 2 == 0:\n                if i > 0:\n                    mi = min(mi, a[i-1]-1)\n                if i < n-1:\n                    mi = min(mi, a[i+1]-1)\n            else:\n                ma = max(ma, a[i-1]+1)\n                if i < n-1:\n                    ma = max(ma, a[i+1]+1)\n        if ma == mi:\n            rr.append(ma)\n        elif ma == -1 or mi == inf:\n            rr.append('ambiguous')\n        elif ma > mi:\n            rr.append('none')\n        else:\n            rr.append('ambiguous')\n\n\n\n    return '\\n'.join(map(str, rr))\n\n\nprint(main())\n\n\n"
  },
  {
    "language": "Python",
    "code": "while 1:\n    N = int(raw_input())\n    if N == 0: break\n    a = raw_input().split()\n    mn,mx = -10**10,10**10\n    for i in range(1,N):\n        if a[i-1] == a[i] == \"x\":\n            print \"none\"\n            break\n        elif a[i-1] == \"x\":\n            if (i+1)%2 == 0: mx = min(mx,int(a[i])-1)\n            else           : mn = max(mn,int(a[i])+1)\n        elif a[i] == \"x\":\n            if (i+1)%2 == 0: mn = max(mn,int(a[i-1])+1)\n            else           : mx = min(mx,int(a[i-1])-1)\n        else:\n            if   (i+1)%2 == 0 and int(a[i]) <= int(a[i-1]):\n                print \"none\"\n                break\n            elif (i+1)%2 == 1 and int(a[i]) >= int(a[i-1]): \n                print \"none\"\n                break\n    else:\n        if \"x\" not in a: \n            print \"ambiguous\"\n        else:\n            print mx if mn == mx else \"ambiguous\" if mn < mx else \"none\""
  },
  {
    "language": "Python",
    "code": "INF = float('inf')\n\ndef judge(src):\n    x_max = INF\n    x_min = -INF\n    for i,(s1,s2) in enumerate(zip(src,src[1:])):\n        if s1 == s2:\n            return 'none'\n        if i%2:\n            s1,s2 = s2,s1\n        if s1 != 'x' and s2 != 'x':\n            if s1 < s2:\n                return 'none'\n            else:\n                continue\n        if s1 == 'x':\n            if x_max <= s2:\n                return 'none'\n            x_min = max(x_min, s2 + 1)\n        elif s2 == 'x':\n            if s1 <= x_min:\n                return 'none'\n            x_max = min(x_max, s1 - 1)\n        if x_max < x_min:\n            return 'none'\n    return x_max if x_max == x_min else 'ambiguous'\n\nwhile True:\n    N = int(input())\n    if N == 0: break\n    src = [INF] + list(map(lambda x:x if x=='x' else int(x), input().split())) + [INF if N%2 else -INF]\n    print(judge(src))"
  }
]