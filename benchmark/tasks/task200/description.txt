In a footrace, runners start at the origin (0, 0) and must visit all given checkpoints (flags) in a specific spiral order. The runners face north initially and move clockwise to the next checkpoint by determining the flag at the smallest angle to the right of their current direction. If multiple flags are in a straight line, the nearest flag is visited first. Your task is to write a program that calculates the total distance covered from the start to the last visited flag, given multiple datasets of flag positions.