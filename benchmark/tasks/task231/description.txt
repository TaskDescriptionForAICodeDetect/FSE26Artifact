Your mission in this problem is to write a program which, given the submission log of an ICPC (International Collegiate Programming Contest), determines team rankings based on the number of problems solved and the total consumed time. The log consists of a sequence of records of program submissions. Each record has four fields: elapsed time, team number, problem number, and judgment. The ranking is based on the following rules: teams that solved more problems are ranked higher; among teams that solved the same number of problems, those with smaller total consumed time are ranked higher; teams with the same number of solved problems and consumed times are ranked the same. The total consumed time for a team is the sum of the time for each solved problem, including penalties for incorrect submissions. The input consists of multiple datasets, each containing the contest details and submission records, ending with a line of four zeros. The output should list the team numbers in order of rank, with specific formatting for teams ranked the same.