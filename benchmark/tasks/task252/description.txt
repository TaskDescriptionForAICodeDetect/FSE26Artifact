You need to write a program that finds the optimal train reconfiguration plan at a railroad station. Given the initial and target configurations of train cars in parking lines, along with exchange lines connecting these parking lines, your task is to minimize the number of movements required to achieve the target configuration from the initial one. You can move entire trains or sub-trains through the exchange lines, coupling trains when they arrive at the destination lines.