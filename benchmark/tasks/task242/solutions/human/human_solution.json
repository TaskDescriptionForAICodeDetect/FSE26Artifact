[
  {
    "language": "Scala",
    "code": "import scala.annotation.tailrec\nimport scala.collection.mutable\nobject Main extends App {\n  import scala.io.StdIn._\n  val n = readInt()\n  for (_ ← 0 until n) {\n    val messenger = readLine.trim\n    val message = readLine.trim\n    val original =\n      messenger.foldRight(new Pure(message): Message) {\n        case ('J', m) ⇒ m.rotateLeft\n        case ('C', m) ⇒ m.rotateRight\n        case ('E', m) ⇒ m.swap\n        case ('A', m) ⇒ m.reverse\n        case ('P', m) ⇒ m.decrement\n        case ('M', m) ⇒ m.increment\n        case _ ⇒ ???\n      }\n    println(original.indices.map(original).mkString(\"\"))\n  }\n}\n\nsealed trait Message extends ((Int) ⇒ Char) {\n  def rotateLeft: Message = new RotateLeft(this)\n  def rotateRight: Message = new RotateRight(this)\n  def swap: Message = new Swap(this)\n  def reverse: Message = new Reverse(this)\n  def increment: Message = new Increment(this)\n  def decrement: Message = new Decrement(this)\n  def apply(index: Int): Char\n  def indices: Range = 0 until length\n  def length: Int\n}\ncase class Pure(message: String) extends Message {\n  override def apply(index: Int): Char = message(index)\n  override def length: Int = message.length\n}\nclass RotateLeft(private val message: Message) extends Message {\n  override def apply(index: Int): Char = message((index + length - 1) % length)\n  override val length: Int = message.length\n}\nclass RotateRight(private val message: Message) extends Message {\n  override def apply(index: Int): Char = message((index + 1) % length)\n  override val length: Int = message.length\n}\nclass Swap(private val message: Message) extends Message {\n  override def apply(index: Int): Char = {\n    if ((0 until length / 2).contains(index)) message((length + 1) / 2 + index)\n    else if ((((length + 1) / 2 until length)).contains(index)) message(index - (length + 1) / 2)\n    else message(index)\n  }\n  override def length: Int = message.length\n}\nclass Reverse(private val message: Message) extends Message {\n  override def apply(index: Int): Char = message(length - 1 - index)\n  override def length: Int = message.length\n}\nclass Increment(private val message: Message) extends Message {\n  override def apply(index: Int): Char = {\n    message(index) match {\n      case c if c.isDigit ⇒ ((c.asDigit + 1) % 10 + '0').toChar\n      case c ⇒ c\n    }\n  }\n  override def length: Int = message.length\n}\nclass Decrement(private val message: Message) extends Message {\n  override def apply(index: Int): Char = {\n    message(index) match {\n      case c if c.isDigit ⇒ ((c.asDigit + 9) % 10 + '0').toChar\n      case c ⇒ c\n    }\n  }\n  override def length: Int = message.length\n}\n\n\n"
  },
  {
    "language": "Scala",
    "code": "import java.util.Scanner\nimport scala.collection.Searching._\n\nimport scala.annotation.tailrec\n\nclass IUnionFind(val size: Int) {\n\n  private case class Node(var parent: Option[Int], var treeSize: Int)\n\n  private val nodes = Array.fill[Node](size)(new Node(None, 1))\n\n  def union(t1: Int, t2: Int): IUnionFind = {\n    if (t1 == t2) return this\n\n    val root1 = root(t1)\n    val root2 = root(t2)\n    if (root1 == root2) return this\n\n    val node1 = nodes(root1)\n    val node2 = nodes(root2)\n\n    if (node1.treeSize < node2.treeSize) {\n      node1.parent = Some(t2)\n      node2.treeSize += node1.treeSize\n    } else {\n      node2.parent = Some(t1)\n      node1.treeSize += node2.treeSize\n    }\n    this\n  }\n\n  def connected(t1: Int, t2: Int): Boolean = t1 == t2 || root(t1) == root(t2)\n\n  @tailrec\n  private def root(t: Int): Int = nodes(t).parent match {\n    case None => t\n    case Some(p) => root(p)\n  }\n}\n\n\nobject Main {\n  def replace1(input: String): String = {\n    if (input == \"\") (\"\") else {\n      (input(0) match {\n        case '0' => \"1\"\n        case '1' => \"2\"\n        case '2' => \"3\"\n        case '3' => \"4\"\n        case '4' => \"5\"\n        case '5' => \"6\"\n        case '6' => \"7\"\n        case '7' => \"8\"\n        case '8' => \"9\"\n        case '9' => \"0\"\n        case x => x\n      }) + replace1(input.substring(1))\n    }\n  }\n\n  def replace2(input: String): String = {\n    if (input == \"\") (\"\") else {\n      (input(0) match {\n        case '0' => \"9\"\n        case '1' => \"0\"\n        case '2' => \"1\"\n        case '3' => \"2\"\n        case '4' => \"3\"\n        case '5' => \"4\"\n        case '6' => \"5\"\n        case '7' => \"6\"\n        case '8' => \"7\"\n        case '9' => \"8\"\n        case x => x\n      }) + replace2(input.substring(1))\n    }\n  }\n\n  def solve2(order: String, message: String): String = {\n    if (order == \"\") (message) else {\n      solve2(order.substring(1),\n        order(0) match {\n          case 'J' => message.charAt(message.length - 1) + message.substring(0, message.length - 1)\n          case 'C' => message.substring(1) + message.charAt(0)\n          case 'E' => message.substring((message.length + 1) / 2) + (if (message.length % 2 == 0) (\"\") else (message(message.length / 2))) + message.substring(0, message.length / 2)\n          case 'A' => message.reverse\n          case 'P' => replace2(message)\n          case 'M' => replace1(message)\n        })\n    }\n  }\n\n  def solve(sc: => Scanner): Unit = {\n    val N = sc.nextInt\n    for (_ <- 0 until N) {\n      println(solve2(sc.next.reverse, sc.next))\n    }\n  }\n\n  def main(args: Array[String]): Unit = {\n    val sc: Scanner = new Scanner(System.in)\n\n    solve(sc)\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\nusing namespace std;\n\nint main() {\n  int n; cin >> n;\n  while(n--) {\n    string member; cin >> member;\n    string s; cin >> s;\n    int siz = s.size();\n    for(int i = member.size()-1; i >= 0; i--) {\n      char c = member[i];\n      if(c == 'C') {;\n        s = s.substr(1, siz) + s[0];\n      } else if(c == 'J') {\n        s = s[siz-1] + s.substr(0, siz-1);\n      } else if(c == 'E') {\n        string temp = s.substr(0, siz/2);\n        s = s.substr(siz/2, siz) + temp;\n      } else if(c == 'A') {\n        reverse(s.begin(), s.end());\n      } else if(c == 'M') {\n        for(int j = 0; j < siz; j++) {\n          if('0' <= s[j] && s[j] <= '9') {\n            if(s[j] != '9') s[j]++;\n            else s[j] = '0';\n          }\n        }\n      } else if(c == 'P') {\n        for(int j = 0; j < siz; j++) {\n          if('0' <= s[j] && s[j] <= '9') {\n            if(s[j] != '0') s[j]--;\n            else s[j] = '9';\n          }\n        }\n      }\n    }\n    cout << s << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <cctype>\n#include <iostream>\n#include <string>\nusing namespace std;\n\nvoid solve() {\n\tstring order, message;\n\tcin >> order >> message;\n\tfor (int i = order.size() - 1; i >= 0; i--) {\n\t\tint l;\n\t\tswitch (order[i]) {\n\t\tcase 'J':\n\t\t\tmessage = (*message.rbegin()) + message.substr(0, message.size() - 1);\n\t\t\tbreak;\n\t\tcase 'C':\n\t\t\tmessage = message.substr(1) + message[0];\n\t\t\tbreak;\n\t\tcase 'E':\n\t\t\tl = message.size() / 2;\n\t\t\tif (message.size() & 1) {\n\t\t\t\tmessage = message.substr(message.size() - l) + message[l] + message.substr(0, l);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tmessage = message.substr(message.size() - l) + message.substr(0, l);\n\t\t\t}\n\t\t\tbreak;\n\t\tcase 'A':\n\t\t\tmessage = string(message.rbegin(), message.rend());\n\t\t\tbreak;\n\t\tcase 'P':\n\t\t\tfor (unsigned j = 0; j < message.size(); j++) {\n\t\t\t\tif (isdigit(message[j])) {\n\t\t\t\t\tif (message[j] == '0') {\n\t\t\t\t\t\tmessage[j] = '9';\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tmessage[j]--;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak;\n\t\tcase 'M':\n\t\t\tfor (unsigned j = 0; j < message.size(); j++) {\n\t\t\t\tif (isdigit(message[j])) {\n\t\t\t\t\tif (message[j] == '9') {\n\t\t\t\t\t\tmessage[j] = '0';\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tmessage[j]++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t}\n\tcout << message << endl;\n}\n\nint main () {\n\tint n;\n\tcin >> n;\n\tfor (int i = 0; i < n; i++) {\n\t\tsolve();\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <string>\n#include <vector>\n#include <stack>\n#include <deque>\n#include <queue>\n#include <set>\n#include <cmath>\n#include <algorithm>\n#include <map>\n#include <list>\n\nusing namespace std;\n\n#define FOR( i, k, n ) for ( int i = ( k ); i <= ( int )( n ); ++i )\n#define REP( i, n ) FOR( i, 1, n )\n\ntypedef long long ll;\ntypedef pair< int, int > P;\n\nvoid DecodeJ( string& );\nvoid DecodeC( string& );\nvoid DecodeE( string& );\nvoid DecodeA( string& );\nvoid DecodeP( string& );\nvoid DecodeM( string& );\n\nint main()\n{\n\tint n;  cin >> n;\n\twhile( n-- ) {\n\t\tchar order[ 7 ];\n\t\tstack< char > stc;\n\t\tstring message;\n\t\tcin >> order;\n\t\tcin >> message;\n\t\tfor( int i = 0; order[ i ] != '\\0'; ++i ) stc.push( order[ i ] );\n\t\twhile( !stc.empty() ) {\n\t\t\tchar fool = stc.top();  stc.pop();\n\t\t\tswitch( fool ) {\n\t\t\tcase 'J' : DecodeJ( message ); break;\n\t\t\tcase 'C' : DecodeC( message ); break;\n\t\t\tcase 'E' : DecodeE( message ); break;\n\t\t\tcase 'A' : DecodeA( message ); break;\n\t\t\tcase 'P' : DecodeP( message ); break;\n\t\t\tcase 'M' : DecodeM( message ); break;\n\t\t\t};\n\t\t}\n\t\tcout << message << endl;\n\t}\n\treturn 0;\n}\n\nvoid DecodeJ( string& message ) {\n\tint size = message.size();\n\tstring tmp;\n\ttmp += message[ size - 1 ];\n\ttmp += message.substr( 0, size - 1 );\n\tmessage = tmp;\n}\n\nvoid DecodeC( string& message ) {\n\tint size = message.size();\n\tstring tmp;\n\ttmp += message.substr( 1, size - 1 );\n\ttmp += message[ 0 ];\n\tmessage = tmp;\n}\n\nvoid DecodeE( string& message ) {\n\tint size = message.size();\n\tstring tmp;\n\tif( size % 2 ) {\n\t\ttmp += message.substr( size / 2 + 1, size / 2 );\n\t\ttmp += message[ size / 2 ];\n\t\ttmp += message.substr( 0, size / 2 );\n\t}\n\telse {\n\t\ttmp += message.substr( size / 2, size / 2 );\n\t\ttmp += message.substr( 0, size / 2 );\n\t}\n\tmessage = tmp;\n}\n\nvoid DecodeA( string& message ) {\n\tstring tmp;\n\tstring::reverse_iterator rit = message.rbegin();\n\tfor( ; rit != message.rend(); ++rit ) tmp += *rit;\n\tmessage = tmp;\n}\n\nvoid DecodeP( string& message ) {\n\tstring tmp;\n\tstring::iterator it = message.begin();\n\tfor( ; it != message.end(); ++it ) {\n\t\tchar ch = *it;\n\t\tif( ch == '0' ) tmp += '9';\n\t\telse if( '1' <= ch && ch <= '9' ) tmp += ( char )( ch - 1 );\n\t\telse tmp += ch;\n\t}\n\tmessage = tmp;\n}\n\nvoid DecodeM( string& message ) {\n\tstring tmp;\n\tstring::iterator it = message.begin();\n\tfor( ; it != message.end(); ++it ) {\n\t\tchar ch = *it;\n\t\tif( ch == '9' ) tmp += '0';\n\t\telse if( '0' <= ch && ch <= '8' ) tmp += ( char )( ch + 1 );\n\t\telse tmp += ch;\n\t}\n\tmessage = tmp;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define fi first\n#define se second\n#define repl(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define rep(i,n) repl(i,0,n)\n#define each(itr,v) for(auto itr:v)\n#define pb(s) push_back(s)\n#define mp(a,b) make_pair(a,b)\n#define all(x) (x).begin(),(x).end()\n#define dbg(x) cout<<#x\"=\"<<x<<endl\n#define maxch(x,y) x=max(x,y)\n#define minch(x,y) x=min(x,y)\n#define uni(x) x.erase(unique(all(x)),x.end())\n#define exist(x,y) (find(all(x),y)!=x.end())\n#define bcnt(x) bitset<32>(x).count()\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int, int> P;\ntypedef pair<P, int> PPI;\ntypedef pair<ll, ll> PL;\ntypedef pair<P, ll> PPL;\n\n#define INF INT_MAX/3\n\n#define MAX_N 1000\n\nint n;\n\nstring f(string s,bool flag){\n\tstring res=\"\";\n\trep(i,s.length()){\n\t\tif(isdigit(s[i])){\n\t\t\tchar c=s[i];\n\t\t\tif(flag)c++;\n\t\t\telse c--;\n\t\t\tif(c>'9')c='0';\n\t\t\tif(c<'0')c='9';\n\t\t\tres+=c;\n\t\t}else res+=s[i];\n\t}\n\treturn res;\n}\n\nint main(){\n\tcin.sync_with_stdio(false);\n\tcin>>n;\n\trep(h,n){\n\t\tstring s,op;\n\t\tcin>>op>>s;\n\t\treverse(all(op));\n\t\tint l=s.length();\n\t\tstring res;\n\t\trep(i,op.length()){\n\t\t\tif(op[i]=='C'){\n\t\t\t\ts=s.substr(1,l-1)+s[0];\n\t\t\t}else if(op[i]=='J'){\n\t\t\t\ts=s[l-1]+s.substr(0,l-1);\n\t\t\t}else if(op[i]=='E'){\n\t\t\t\tif(l%2==1)s=s.substr(l/2+1,l/2)+s[l/2]+s.substr(0,l/2);\n\t\t\t\telse s=s.substr(l/2,l/2)+s.substr(0,l/2);\n\t\t\t}else if(op[i]=='A'){\n\t\t\t\treverse(all(s));\n\t\t\t}else if(op[i]=='P'){\n\t\t\t\ts=f(s,false);\n\t\t\t}else if(op[i]=='M'){\n\t\t\t\ts=f(s,true);\n\t\t\t}\n\t\t}\n\t\tcout<<s<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "\n//http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=1240\n\n#include<iostream>\n#include<map>\n#include<vector>\n#include<algorithm>\n#include<cmath>\n#include<climits>\n#include<ctime>\n#include<cstring>\n#include<numeric>\n\n#define ALL(v) (v).begin(),(v).end()\n#define REP(i,p,n) for(int i=p;i<(int)(n);++i)\n#define rep(i,n) REP(i,0,n)\n#define dump(a) (cerr << #a << \"=\" << (a) << endl)\n#define DUMP(list) cout << \"{ \"; for(auto nth : list){ cout << nth << \" \"; } cout << \"}\" << endl;\n\nusing namespace std;\n\nstring J(string msg)\n{\n\tint n = msg.length();\n\tchar end = msg[n-1];\n\t\n\t//msg.pop_back();\n\tmsg.erase(--msg.end());\n\n\treturn end + msg;\n}\n\nstring C(string msg)\n{\n\tchar first = msg[0];\n\tmsg.erase(msg.begin(),msg.begin()+1);\n\n\treturn msg = msg + first;\n}\n\nstring E(string msg)\n{\n\tint n = msg.length();\n\tint c = 0;\n\tif(n % 2 == 1){ c = 1; }\t\n\trep(i,n/2){\n\t\tswap(msg[i], msg[i+(n/2)+c]);\n\t}\n\treturn msg;\n}\n\nstring A(string msg)\n{\n\treverse(ALL(msg));\n\treturn msg;\n}\n\nstring P(string msg)\n{\n\trep(i,msg.length()){\n\t\tif(isdigit(msg[i])){\n\t\t\tint num = msg[i] - '0';\n\t\t\tnum = num - 1;\n\t\t\tif(num < 0) { num = 9; }\n\t\t\tmsg[i] = num + '0';\n\t\t}\n\t}\n\n\treturn msg;\n}\n\nstring M(string msg)\n{\n\trep(i,msg.length()){\n\t\tif(isdigit(msg[i])){\n\t\t\tint num = msg[i] - '0';\n\t\t\tnum = num + 1;\n\t\t\tif(num > 9) { num = 0; }\n\t\t\tmsg[i] = num + '0';\n\t\t}\n\t}\n\n\treturn msg;\n}\n\nstring analyze(string msg, char order)\n{\n\tstring a_msg;\n\tif(order == 'J'){\n\t\ta_msg = J(msg);\n\t}\n\telse if(order == 'C'){\n\t\ta_msg = C(msg);\n\t}\n\telse if(order == 'E'){\n\t\ta_msg = E(msg);\n\t}\n\telse if(order == 'A'){\n\t\ta_msg = A(msg);\n\t}\n\telse if(order == 'P'){\n\t\ta_msg = P(msg);\n\t}\n\telse if(order == 'M'){\n\t\ta_msg = M(msg);\n\t}\n\treturn a_msg;\n}\n\nint main()\n{\n\tint N;\n\tcin >> N;\n\n\trep(nth,N)\n\t{\n\t\tstring order;\n\t\tstring msg;\n\n\t\tcin >> order >> msg;\n\n\t\tfor(int i=order.length(); i>0; --i)\n\t\t{\n\t\t\tmsg = analyze(msg, order[i-1]);\t\n\t\t}\n\n\t\tcout << msg << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <vector>\n#include <algorithm>\n#include <complex>\n#include <cstring>\n#include <cstdlib>\n#include <string>\n#include <cmath>\n#include <queue>\n#include <set>\n#include <map>\nusing namespace std;\n\n#define REP(i,n) for(int i=0;i<(int)n;++i)\n#define FOR(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();++i)\n#define ALL(c) (c).begin(), (c).end()\nconst int INF = 1<<29;\n\nstring func(string message, char type) {\n  int m = message.size();\n  string res = message;\n  if (type == 'J') {\n    res = string(1, message[m-1]) + message.substr(0, m-1);\n  } else if (type == 'C') {\n    res = message.substr(1) + string(1, message[0]);\n  } else if (type == 'E') {\n    res = message.substr((m+1)/2) + (m%2?string(1, message[m/2]):\"\") + message.substr(0, m/2);\n  } else if (type == 'A') {\n    reverse(ALL(res));\n  } else if (type == 'P') {\n    REP(i, m)\n      if (isdigit(message[i]))\n        res[i] = (message[i] == '0') ? '9' : message[i]-1;\n  } else if (type == 'M') {\n    REP(i, m)\n      if (isdigit(message[i]))\n        res[i] = (message[i] == '9') ? '0' : message[i]+1;\n  }\n  return res;  \n}\nint main() {\n  int n;\n  cin >> n;\n  while(n--) {\n    string order, message;\n    cin >> order >> message;\n    for (int i=order.size()-1; i>=0; --i) {\n      message = func(message, order[i]);\n    }\n    cout << message << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\n\nint main(){\n    int n;\n    cin >> n;\n    while( n-- ){\n        string p, m;\n        cin >> p >> m;\n        reverse( p.begin(), p.end() );\n        for( size_t i = 0; i < p.length(); i++ ){\n            switch(p[i]){\n                case 'J':{\n                    char tmp = m[m.length() - 1];\n                    for( size_t j = m.length() - 1; j > 0; j-- ){\n                        //if( j == 0 ){\n                        //}else{\n                            m[j] = m[j-1];\n                        //}\n                        //cout << m[j] << endl;\n                    }\n                    m[0] = tmp;\n                    break;\n                }case 'C':{\n                    char tmp = m[0];\n                    for( size_t j = 0; j < m.length(); j++ ){\n                        if( j == m.length() - 1 ) m[j] = tmp;\n                        else m[j] = m[j+1];\n                    }\n                    break;\n                }case 'E':{\n                    string tmp = m.substr( 0, m.length() / 2 );\n                    m = m.substr( (m.length() + 1) / 2 );\n                    m.append( tmp );\n                    break;\n                }case 'A':{\n                    reverse( m.begin(), m.end() );\n                    break;\n                }case 'P':{\n                    for( size_t j = 0; j < m.length(); j++ ){\n                        if( '1' <= m[j] && m[j] <= '9' ){\n                            m[j]--;\n                        }else if( '0' == m[j] ){\n                            m[j] = '9';\n                        }\n                    }\n                    break;\n                }case 'M':{\n                    for( size_t j = 0; j < m.length(); j++ ){\n                        if( '0' <= m[j] && m[j] <= '8' ){\n                            m[j]++;\n                        }else if( '9' == m[j] ){\n                            m[j] = '0';\n                        }\n                    }\n                    break;\n                }\n            }\n        }\n        cout << m << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main(){\n  int n;\n  cin>>n;\n  while(n--){\n    string q,s;\n    cin>>q>>s;\n    for(int i=0;i<q.size();i++){\n      if(q[i]=='C')s=s.substr(1,s.size()-1)+s[0];\n      if(q[i]=='J')s=s[s.size()-1]+s.substr(0,s.size()-1);\n      if(q[i]=='E')\n\tfor(int j=0;j<s.size()/2;j++)swap(s[j],s[(s.size()+1)/2+j]);\n      if(q[i]=='A')reverse(s.begin(),s.end());\n      if(q[i]=='M')\n\tfor(int j=0;j<s.size();j++)\n\t  if(isdigit(s[j]))s[j]=((s[j]-'0')+1)%10+'0';\n      if(q[i]=='P')\n\tfor(int j=0;j<s.size();j++)\n\t  if(isdigit(s[j]))s[j]=((s[j]-'0'+10)-1)%10+'0';\n    }\n    cout<<s<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <cmath>\n#include <algorithm>\n#include <stack>\n#include <queue>\n#include <vector>\n\nusing namespace std;\n\n\nint main(){\n\n\tint n,length,m_length,index;\n\tchar ORDER[7],message[26],tmp,work[26];\n\n\tscanf(\"%d\",&n);\n\n\tfor(int loop = 0; loop < n; loop++){\n\n\t\tscanf(\"%s\",ORDER);\n\n\t\tfor(length = 0; ORDER[length] != '\\0';length++);\n\n\t\tscanf(\"%s\",message);\n\n\t\tfor(m_length = 0; message[m_length] != '\\0';m_length++);\n\n\t\tfor(int i = length-1; i >= 0; i--){\n\t\t\tswitch(ORDER[i]){\n\t\t\tcase 'J':\n\t\t\t\ttmp = message[m_length-1];\n\t\t\t\tfor(int k = m_length-2; k >=0; k--){\n\t\t\t\t\tmessage[k+1] = message[k];\n\t\t\t\t}\n\t\t\t\tmessage[0] = tmp;\n\t\t\t\tbreak;\n\t\t\tcase 'C':\n\t\t\t\ttmp = message[0];\n\t\t\t\tfor(int k = 1; k < m_length; k++){\n\t\t\t\t\tmessage[k-1] = message[k];\n\t\t\t\t}\n\t\t\t\tmessage[m_length-1] = tmp;\n\t\t\t\tbreak;\n\t\t\tcase 'E':\n\t\t\t\tif(m_length % 2 == 0){\n\t\t\t\t\tindex = 0;\n\t\t\t\t\tfor(int k = m_length/2; k < m_length; k++){\n\t\t\t\t\t\twork[index++] = message[k];\n\t\t\t\t\t}\n\t\t\t\t\tfor(int k = 0; k < m_length/2;k++){\n\t\t\t\t\t\twork[index++] = message[k];\n\t\t\t\t\t}\n\t\t\t\t\tfor(int k = 0; k < m_length; k++)message[k] = work[k];\n\t\t\t\t}else{\n\t\t\t\t\tindex = 0;\n\t\t\t\t\tfor(int k = (m_length+1)/2; k < m_length; k++){\n\t\t\t\t\t\twork[index++] = message[k];\n\t\t\t\t\t}\n\t\t\t\t\twork[index++] = message[(m_length-1)/2];\n\t\t\t\t\tfor(int k = 0; k < (m_length-1)/2;k++){\n\t\t\t\t\t\twork[index++] = message[k];\n\t\t\t\t\t}\n\t\t\t\t\tfor(int k = 0; k < m_length; k++)message[k] = work[k];\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'A':\n\t\t\t\tindex = 0;\n\t\t\t\tfor(int k = m_length-1; k >= 0; k--){\n\t\t\t\t\twork[index++] = message[k];\n\t\t\t\t}\n\t\t\t\tfor(int k = 0; k < m_length; k++)message[k] = work[k];\n\t\t\t\tbreak;\n\t\t\tcase 'P':\n\t\t\t\tfor(int k = 0; k < m_length; k++){\n\t\t\t\t\tif(message[k] >= '0' && message[k] <= '9'){\n\t\t\t\t\t\tif(message[k] == '0'){\n\t\t\t\t\t\t\tmessage[k] = '9';\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tmessage[k] -= 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'M':\n\t\t\t\tfor(int k = 0; k < m_length; k++){\n\t\t\t\t\tif(message[k] >= '0' && message[k] <= '9'){\n\t\t\t\t\t\tif(message[k] == '9'){\n\t\t\t\t\t\t\tmessage[k] = '0';\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tmessage[k] += 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tprintf(\"%s\\n\",message);\n\t}\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cstring>\n#include <functional>\n#include <iostream>\n#include <map>\n#include <queue>\n#include <set>\n#include <stdlib.h>\n#include <string>\n#include <utility>\n#include <vector>\n#define rep(i, n) for (int i = 0; i < (n); i++)\n#define loop(i, x, n) for (int i = (x); i < (n); i++)\n#define all(v) (v).begin(), (v).end()\n#define int long long\nusing namespace std;\nconst int MOD = 1e9 + 7;\nconst int INF = 1e8;\ntemplate<typename T> void cmax(T &a, T b) { a = max(a, b); }\ntemplate<typename T> void cmin(T &a, T b) { a = min(a, b); }\n\nstring J(string m) {\n  string ret = \"\";\n  ret += m[m.size() - 1];\n  ret += m.substr(0, m.size() - 1);\n  return ret;\n}\nstring C(string m) {\n  string ret = \"\";\n  ret += m.substr(1, m.size() - 1);\n  ret += m[0];\n  return ret;\n}\nstring E(string m) {\n  string ret = \"\";\n  if (m.size() % 2 == 0) {\n    ret += m.substr(m.size() / 2, m.size() / 2);\n    ret += m.substr(0, m.size() / 2);\n  } else {\n    ret += m.substr(m.size() / 2 + 1, m.size() / 2);\n    ret += m[m.size() / 2];\n    ret += m.substr(0, m.size() / 2);\n  }\n  return ret;\n}\nstring A(string m) {\n  string ret = \"\";\n  for (int i = m.size() - 1; i >= 0; i--) ret += m[i];\n  return ret;\n}\nstring P(string m) {\n  string ret = \"\";\n  rep(i, m.size()) {\n    if (isdigit(m[i])) {\n      if (m[i] == '0')\n        ret += '9';\n      else\n        ret += m[i] - 1;\n    } else {\n      ret += m[i];\n    }\n  }\n  return ret;\n}\nstring M(string m) {\n  string ret = \"\";\n  rep(i, m.size()) {\n    if (isdigit(m[i])) {\n      if (m[i] == '9')\n        ret += '0';\n      else {\n        ret += m[i] + 1;\n      }\n    } else {\n      ret += m[i];\n    }\n  }\n  return ret;\n}\n\nsigned main() {\n  int n;\n  cin >> n;\n  rep(i, n) {\n    string order, message;\n    cin >> order >> message;\n    for (int i = order.size() - 1; i >= 0; i--) {\n      if (order[i] == 'J')\n        message = J(message);\n      else if (order[i] == 'C')\n        message = C(message);\n      else if (order[i] == 'E')\n        message = E(message);\n      else if (order[i] == 'A')\n        message = A(message);\n      else if (order[i] == 'P')\n        message = P(message);\n      else\n        message = M(message);\n    }\n    cout << message << endl;\n  }\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n) for(int i=0; i<(n); i++)\n#define INF 1e8\nusing namespace std;\nbool is_digit(char x){\n    for(int i=48; i<=57; i++){\n        if(x == i) return true;\n    }\n    return false;\n}\nint main(){\n    int n;\n    cin >> n;\n    rep(k,n){\n        string s,t;\n        cin >> s >> t;\n        for(int i=s.size()-1; i>=0; i--){\n            //cout << t << endl;\n            if(s[i] == 'J') rotate(t.rbegin(),t.rbegin()+1,t.rend());\n            \n            if(s[i] == 'C') rotate(t.begin(),t.begin()+1,t.end());\n            if(s[i] == 'E') {\n                rep(j,t.size()/2){\n                    swap(t[j],t[t.size()-t.size()/2+j]);\n                }\n            }\n            if(s[i] == 'A') reverse(t.begin(),t.end());\n            if(s[i] == 'P') {\n                rep(j,t.size()){\n                    if(is_digit(t[j])) {\n                        if(t[j] == 48) t[j] = 57;\n                        else t[j]--;\n                    }\n                }\n            }\n            if(s[i] == 'M') {\n                rep(j,t.size()){\n                    if(is_digit(t[j])) {\n                        if(t[j] == 57) t[j] = 48;\n                        else t[j]++;\n                    }\n                }\n            }\n        }\n        cout << t << endl;\n    }\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\nusing namespace std;\n\nstring s;\nstring m;\n\nvoid C() {\n    rotate(s.begin(), s.begin()+1, s.end());\n}\n\nvoid J() {\n    rotate(s.begin(), s.end()-1, s.end());\n}\n\nvoid E() {\n    string p, q;\n    if (s.size() % 2 == 1) {\n        char mid = s[s.size()/2];\n        for (int i = 0; i < s.size()/2; i++) p.push_back(s[i]);\n        for (int i = s.size()/2+1; i < s.size(); i++) q.push_back(s[i]);\n        s = q + mid + p;\n    } else {\n        for (int i = 0; i < s.size()/2; i++) p.push_back(s[i]);\n        for (int i = s.size()/2; i < s.size(); i++) q.push_back(s[i]);\n        s = q + p;\n    }\n}\n\nvoid A() {\n    reverse(s.begin(), s.end());\n}\n\nvoid P() {\n    for (int i = 0; i < s.size(); i++) {\n        if (isdigit(s[i])) {\n            if (s[i] == '0') {\n                s[i] = '9';\n            } else {\n                s[i]--;\n            }\n        }\n    }\n}\n\nvoid M() {\n    for (int i = 0; i < s.size(); i++) {\n        if (isdigit(s[i])) {\n            if (s[i] == '9') {\n                s[i] = '0';\n            } else {\n                s[i]++;\n            }\n        }\n    }\n}\n\nvoid F() {\n    for (int i = 0; i < m.size(); i++) {\n        switch (m[i]) {\n            case 'J':\n                J();\n                break;\n            case 'C':\n                C();\n                break;\n            case 'E':\n                E();\n                break;\n            case 'A':\n                A();\n                break;\n            case 'P':\n                P();\n                break;\n            case 'M':\n                M();\n                break;\n            default:\n                cerr << \"ERROR\" << endl;\n        }\n    }\n}\n\nint main() {\n    int n; cin >> n;\n    for (int i = 0; i < n; i++) {\n        cin >> m;\n        reverse(m.begin(), m.end());\n        cin >> s;\n        F();\n        cout << s << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <vector>\n#include <cmath>\n#include <algorithm>\n#include <numeric>\n\nusing namespace std;\nusing ll = long long;\n\nstring J(const string& S)\n{\n    const int N = S.size();\n    string s;\n    s.resize(N);\n    for (int i = 0; i < N; i++) {\n        s[i] = S[(i + 1) % N];\n    }\n    return s;\n}\n\nstring C(const string& S)\n{\n    const int N = S.size();\n    string s;\n    s.resize(N);\n    for (int i = 0; i < N; i++) {\n        s[i] = S[(i + N - 1) % N];\n    }\n    return s;\n}\n\nstring E(const string& S)\n{\n    const int N = S.size();\n    const int shift = (N + 1) / 2;\n    string s;\n    s.resize(N);\n    for (int i = 0; i < N; i++) {\n        if (i + shift < N) {\n            s[i] = S[i + shift];\n        } else {\n            s[i] = S[i - shift];\n        }\n    }\n    return s;\n}\n\nstring A(const string& S)\n{\n    string s = S;\n    reverse(s.begin(), s.end());\n    return s;\n}\n\nstring P(const string& S)\n{\n    const int N = S.size();\n    string s = S;\n    for (int i = 0; i < N; i++) {\n        if (s[i] >= '1' and s[i] <= '9') {\n            s[i]--;\n        } else if (s[i] == '0') {\n            s[i] = '9';\n        }\n    }\n    return s;\n}\n\nstring M(const string& S)\n{\n    const int N = S.size();\n    string s = S;\n    for (int i = 0; i < N; i++) {\n        if (s[i] >= '0' and s[i] <= '8') {\n            s[i]++;\n        } else if (s[i] == '9') {\n            s[i] = '0';\n        }\n    }\n    return s;\n}\n\nstring op(const char c, const string& S)\n{\n    switch (c) {\n    case 'J':\n        return J(S);\n    case 'C':\n        return C(S);\n    case 'E':\n        return E(S);\n    case 'A':\n        return A(S);\n    case 'P':\n        return P(S);\n    case 'M':\n        return M(S);\n    }\n}\n\nint main()\n{\n    int n;\n    cin >> n;\n    for (int i = 0; i < n; i++) {\n        string s;\n        cin >> s;\n        reverse(s.begin(), s.end());\n        string m;\n        cin >> m;\n        for (const char c : m) {\n            s = op(c, s);\n        }\n        cout << s << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<cstdlib>\n\nusing namespace std;\n\nstring Mr_J(string s){\n  string a;\n  a.clear();\n  a+=s[s.length()-1];\n  a+=s.substr(0,s.length()-1);\n  \n  return a;\n}\n\nstring Mr_C(string s){\n  string a;\n  a.clear();\n\n  a+=s.substr(1,s.length());\n  a+=s[0];\n  return a;\n}\n\nstring Mr_E(string s){\n  string a;\n  a.clear();\n  if(s.length()%2 == 0){\n    a+=s.substr(s.length()/2,s.length()/2);\n    a+=s.substr(0,s.length()/2);\n  }\n  else{\n    a+=s.substr(s.length()/2+1,s.length()/2);\n    a+=s.substr(s.length()/2,1);\n    a+=s.substr(0,s.length()/2);\n  }\n  return a;\n}\n\nstring Mr_A(string s){\n  \n  reverse(s.begin(),s.end());\n  \n  return s;\n}\n\nstring Mr_M(string s){\n  string a;\n  a.clear();\n  for(int i=0;i<s.length();i++){\n    if('0'<= s[i] && s[i] <='9'){\n      if(s[i] == '9')a+='0';\n      else a+=(char)(s[i]+1);\n    }\n    else a+=s[i];\n  }\n\n  return a;\n}\n\nstring Mr_P(string s){\n  string a;\n  a.clear();\n  for(int i=0;i<s.length();i++){\n    if('0'<= s[i] && s[i] <= '9'){\n      if(s[i] == '0')a+='9';\n      else a+=(char)(s[i]-1);\n    }\n    else a+=s[i];\n  }\n  return a;\n}\n\n\nint main(){\n  int n;\n  string operation,message;\n  \n  cin >> n;\n  while(n-- > 0){\n    cin >> operation >> message;\n    for(int i=operation.length()-1;i>=0;i--){\n      if(operation[i] == 'A'){\n\tmessage = Mr_A(message);\n\t//cout << \"A = \" << message << endl;\n      }\n      else if(operation[i] == 'J'){\n\tmessage = Mr_J(message);\n\t//cout << \"J = \" << message << endl; \n      }\n      else if(operation[i] == 'C'){\n\tmessage = Mr_C(message);\n\t//cout << \"C = \" << message << endl;\n      }\n      else if(operation[i] == 'E'){\n\tmessage = Mr_E(message);\n\t//cout << \"E = \" << message << endl;\n      }\n      else if(operation[i] == 'P'){\n\tmessage = Mr_P(message);\n\t//cout << \"P = \" << message << endl;\n      }\n      else if(operation[i] == 'M'){\n\tmessage = Mr_M(message);\n\t//cout << \"M = \" << message << endl;\n      }\n\n    }\n    cout << message << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\nusing namespace std;\nint main(){\n  int n,l;\n  string o,k;\n  cin>>n;\n  while(n--){\n    cin>>o>>k;\n    int l=k.size();\n    for(int i=o.size()-1;i>=0;i--){\n      if(o[i]=='J')\n\tk=k[l-1]+k.substr(0,l-1);\n      else if(o[i]=='C')\n\tk=k.substr(1,l-1)+k[0];\n      else if(o[i]=='E'){\n\tif(l%2)\n\t  k=k.substr(l/2+1)+k[l/2]+k.substr(0,l/2);\n\telse\n\t  k=k.substr(l/2)+k.substr(0,l/2);\n      }\n      else if(o[i]=='A')\n\treverse(k.begin(),k.end());\n      else if(o[i]=='P'){\n\tfor(int j=0;j<l;j++){\n\t  if('1'<=k[j]&&k[j]<='9')\n\t    k[j]--;\n\t  else if(k[j]=='0')\n\t    k[j]='9';\n\t}\n      }\n      else if(o[i]=='M'){\n\tfor(int j=0;j<l;j++){\n\t  if('0'<=k[j]&&k[j]<='8')\n\t    k[j]++;\n\t  else if(k[j]=='9')\n\t    k[j]=0;\n\t}\n      }\n    }\n    cout<<k<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\nusing namespace std;\n\nint main() {\n  int n; cin >> n;\n  while(n--) {\n    string member; cin >> member;\n    string s; cin >> s;\n    int siz = s.size();\n    for(int i = member.size()-1; i >= 0; i--) {\n      char c = member[i];\n      if(c == 'C') {;\n        s = s.substr(1, siz) + s[0];\n      } else if(c == 'J') {\n        s = s[siz-1] + s.substr(0, siz-1);\n      } else if(c == 'E') {\n        string temp = s.substr(0, siz/2 + siz%2);\n        s = s.substr(siz/2, siz) + temp;\n      } else if(c == 'A') {\n        reverse(s.begin(), s.end());\n      } else if(c == 'M') {\n        for(int j = 0; j < siz; j++) {\n          if('0' <= s[j] && s[j] <= '9') {\n            if(s[j] != '9') s[j]++;\n            else s[j] = '0';\n          }\n        }\n      } else if(c == 'P') {\n        for(int j = 0; j < siz; j++) {\n          if('0' <= s[j] && s[j] <= '9') {\n            if(s[j] != '0') s[j]--;\n            else s[j] = '9';\n          }\n        }\n      }\n    }\n    cout << s << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\n#include<stack>\n#include<map>\n#include<set>\n#include<queue>\n#include<cstdio>\n#include<climits>\n#include<cmath>\n#include<cstring>\n#include<string>\n#include<sstream>\n#include<numeric>\n#include<cassert>\n\n#define f first\n#define s second\n#define mp make_pair\n\n#define REP(i,n) for(int i=0; i<(int)(n); i++)\n#define rep(i,s,n) for(int i=(s); i<(int)(n); i++)\n#define FOR(i,c) for(__typeof((c).begin()) i=(c).begin(); i!=(c).end(); i++)\n#define ALL(c) (c).begin(), (c).end()\n#define IN(x,s,g) ((x) >= (s) && (x) < (g))\n#define ISIN(x,y,w,h) (IN((x),0,(w)) && IN((y),0,(h)))\n#define print(x) printf(\"%d\\n\",x)\n\nusing namespace std;\n\ntypedef unsigned int uint;\ntypedef long long ll;\n\nconst int _dx[] = {0,1,0,-1};\nconst int _dy[] = {-1,0,1,0};\n\nint getInt(){\n  int ret = 0,c;\n  c = getchar();\n  while(!isdigit(c)) c = getchar();\n  while(isdigit(c)){\n    ret *= 10;\n    ret += c - '0';\n    c = getchar();\n  }\n  return ret;\n}\n\nstring J(string str){\n  rotate(str.begin(),str.end()-1,str.end());\n  return str;\n}\n\nstring C(string str){\n  rotate(str.begin(),str.begin()+1,str.end());\n  return str;\n}\n\nstring E(string str){\n  int n = str.size();\n  string l = str.substr(0,n/2);\n  string r = str.substr((n+1)/2);\n  string m = (n%2 == 0 ? \"\" : str.substr(n/2,1));\n  return r + m + l;\n}\n\nstring A(string str){\n  return string(str.rbegin(), str.rend());\n}\n\nstring P(string str){\n  FOR(it,str){\n    if(isdigit(*it)){\n      int num = *it - '0';\n      num = (num + 10 - 1) % 10;\n      *it = num + '0';\n    }\n  }\n  return str;\n}\nstring M(string str){\n  FOR(it,str){\n    if(isdigit(*it)){\n      int num = *it - '0';\n      num = (num + 1) % 10;\n      *it = num + '0';\n    }\n  }\n  return str;\n}\n\nint main(){\n  int n;\n  cin>>n;\n  while(n --> 0){\n    string mes;\n    string str;\n    cin>>mes>>str;\n    for(int i=mes.size()-1; i>=0; i--){\n      switch(mes[i]){\n      case 'J':\n        str = J(str);\n        break;\n      case 'C':\n        str = C(str);\n        break;\n      case 'E':\n        str = E(str);\n        break;\n      case 'A':\n        str = A(str);\n        break;\n      case 'P':\n        str = P(str);\n        break;\n      case 'M':\n        str = M(str);\n        break;\n      }\n    }\n    cout << str << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main() {\n  cin.tie(nullptr);\n  ios::sync_with_stdio(false);\n  int n;\n  cin >> n;\n  while (n--) {\n    string ord, s;\n    cin >> ord >> s;\n    reverse(begin(ord), end(ord));\n    for (char c : ord) {\n      if (c == 'J') {\n        rotate(begin(s), prev(end(s)), end(s));\n      } else if (c == 'C') {\n        rotate(begin(s), next(begin(s)), end(s));\n      } else if (c == 'E') {\n        if (s.size() & 1) {\n          for (int i = 0; i < (int)s.size() / 2; ++i) {\n            swap(s[i], s[(s.size() + 1) / 2 + i]);\n          }\n        } else {\n          rotate(begin(s), begin(s) + s.size() / 2, end(s));\n        }\n      } else if (c == 'A') {\n        reverse(begin(s), end(s));\n      } else if (c == 'P') {\n        for (auto&& e : s) {\n          if (isdigit(e)) {\n            e = e == '0' ? '9' : e - 1;\n          }\n        }\n      } else {\n        assert(c == 'M');\n        for (auto&& e : s) {\n          if (isdigit(e)) {\n            e = e == '9' ? '0' : e + 1;\n          }\n        }\n      }\n    }\n    cout << s << '\\n';\n  }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<string>\n#include<algorithm>\n\nusing namespace std;\n\nstring correctJ(string st){\n\tint len = st.size();\n\tstring cst = st.substr(len-1,1);\n\tcst += st.substr(0,len-1);\n\treturn cst;\n}\n\nstring correctC(string st){\n\tint len = st.size();\n\tstring cst = st.substr(1);\n\tcst += st.substr(0,1);\n\treturn cst;\n}\n\nstring correctE(string st){\n\tint len = st.size();\n\tstring cst = st.substr(len - (len)/2);\n\tif(len % 2 != 0){\n\t\tcst += st.substr(len/2,1);\n\t}\n\tcst += st.substr(0,len/2);\n\treturn cst;\n}\n\nstring correctA(string st){\n\tstring cst = st;\n\treverse(cst.begin(),cst.end());\n\treturn cst;\n}\n\nstring correctP(string st){\n\tstring cst = st;\n\tfor(int i = 0;i < cst.size();i++){\n\t\tif(cst[i] - '0' < 10 && cst[i] != '0'){\n\t\t\tcst[i] = cst[i] - 1;\n\t\t}else if(cst[i] == '0'){\n\t\t\tcst[i] = '9';\n\t\t}\n\t}\n\treturn cst;\n}\n\nstring correctM(string st){\n\tstring cst = st;\n\tfor(int i = 0;i < cst.size();i++){\n\t\tif(cst[i] - '0' < 9){\n\t\t\tcst[i] = cst[i] + 1;\n\t\t}else if(cst[i] == '9'){\n\t\t\tcst[i] = '0';\n\t\t}\n\t}\n\treturn cst;\n}\n\nint main(){\n\tvector<string> ans;\n\tint n;\n\tcin >> n;\n\tfor(int i = 0;i < n;i++){\n\t\tstring ser;\n\t\tcin >> ser;\n\t\tstring mes;\n\t\tcin >> mes;\n\t\tstring cmes = mes;\n\t\tfor(int j = ser.size()-1;j >= 0;j--){\n\t\t\tif(ser[j] == 'J'){\n\t\t\t\tcmes = correctJ(cmes);\n\t\t\t}else if(ser[j] == 'C'){\n\t\t\t\tcmes = correctC(cmes);\n\t\t\t}else if(ser[j] == 'E'){\n\t\t\t\tcmes = correctE(cmes);\n\t\t\t}else if(ser[j] == 'A'){\n\t\t\t\tcmes = correctA(cmes);\n\t\t\t}else if(ser[j] == 'P'){\n\t\t\t\tcmes = correctP(cmes);\n\t\t\t}else if(ser[j] == 'M'){\n\t\t\t\tcmes = correctM(cmes);\n\t\t\t}\n\t\t}\n\t\tans.push_back(cmes);\n\t}\n\t\n\tfor(int i = 0;i < ans.size();i++){\n\t\tcout << ans[i] << endl;\n\t}\n\treturn 0;\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\n\nusing namespace std;\n\nbool check(char c)\n{\n\tchar v = '0';\n\tfor(int i = 0; i <= 9; i++){\n\t\tif(c == (char)(v+i)){\n\t\t\treturn true;\n\t\t}\n\t}\n\t\n\treturn false;\n}\n\nstring cfunc(string str, int n)\n{\n\tstring s = str.substr(1);\n\ts += str[0];\n\t\n\treturn s;\n}\n\nstring jfunc(string str, int n)\n{\n\tstring s = str.substr(0, n-1);\n\ts = str[n-1] + s;\n\t\n\treturn s;\n}\n\nstring efunc(string str, int n)\n{\n\tstring s;\n\tif(n%2 == 0){\n\t\ts = str.substr(n/2);\n\t\ts += str.substr(0, n/2);\n\t} else {\n\t\ts = \"\";\n\t\tfor(int i = n/2+1; i < n; i++){\n\t\t\ts += str[i];\n\t\t}\n\t\ts += str[n/2];\n\t\tfor(int i = 0; i < n/2; i++){\n\t\t\ts += str[i];\n\t\t}\n\t}\n\t\n\treturn s;\n}\n\nstring afunc(string str, int n)\n{\n\tstring s = str;\n\treverse(s.begin(), s.end());\n\t\n\treturn s;\n}\n\nstring pfunc(string str, int n)\n{\n\tstring s = str;\n\t\n\tfor(int i = 0; i < n; i++){\n\t\tif(check(s[i])){\n\t\t\tif(s[i] == '0'){\n\t\t\t\ts[i] = '9';\n\t\t\t} else {\n\t\t\t\ts[i] = (char)(s[i]-1);\n\t\t\t}\n\t\t}\n\t}\n\t\n\treturn s;\n}\n\nstring mfunc(string str, int n)\n{\n\tstring s = str;\n\t\n\tfor(int i = 0; i < n; i++){\n\t\tif(check(s[i])){\n\t\t\tif(s[i] == '9'){\n\t\t\t\ts[i] = '0';\n\t\t\t} else {\n\t\t\t\ts[i] = (char)(s[i]+1);\n\t\t\t}\n\t\t}\n\t}\n\t\n\treturn s;\n}\n\nint main()\n{\n\tint n, l, m;\n\tstring str, st;\n\tcin >> n;\n\t\n\twhile(n--){\n\t\tcin >> st;\n\t\tcin >> str;\n\t\tl = st.size();\n\t\tm = str.size();\n\t\t\n\t\tfor(int i = l-1; i >= 0; i--){\n\t\t\tif(st[i] == 'J'){\n\t\t\t\tstr = jfunc(str, m);\n\t\t\t} else if(st[i] == 'C'){\n\t\t\t\tstr = cfunc(str, m);\n\t\t\t} else if(st[i] == 'E'){\n\t\t\t\tstr = efunc(str, m);\n\t\t\t} else if(st[i] == 'A'){\n\t\t\t\tstr = afunc(str, m);\n\t\t\t} else if(st[i] == 'P'){\n\t\t\t\tstr = pfunc(str, m);\n\t\t\t} else if(st[i] == 'M'){\n\t\t\t\tstr = mfunc(str, m);\n\t\t\t}\n\t\t}\n\t\t\n\t\tcout << str << endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<cstring>\nusing namespace std;\n\nint main(){\n  int n;\n  cin>>n;\n  for(int i=0;i<n;i++){\n    char a[7],ans[26],b[26],x=0,y=0;\n    scanf(\"%s\",a);\n    x=strlen(a);\n    scanf(\"%s\",ans);\n    y=strlen(ans);  \n    for(int k=x-1;k>=0;k--){\n\n      if(a[k]=='C'){//??????\n\tb[y-1]=ans[0];\n\tfor(int j=1;j<y;j++) b[j-1]=ans[j];\n      }\n      else if(a[k]=='J'){//??????\n\tb[0]=ans[y-1];\n\tfor(int j=0;j<y-1;j++) b[j+1]=ans[j];\n      }\n      else if(a[k]=='E'){//swap\n\tif(y%2==0)\n\t  for(int j=0;j<y/2;j++) \n\t    swap(ans[j],ans[j+(y/2)]);\n\telse\n\t  for(int j=0;j<y/2;j++) \n\t    swap(ans[j],ans[j+(y/2)+1]);\n\n\tfor(int j=0;j<y;j++)\n\t  b[j]=ans[j];\n\n      }\n      else if(a[k]=='A'){//????????????\n\tint o=y;\n\twhile(1){\n\t  if(o==0)break;\n\t  for(int j=0;j<y;j++){\n\t    b[j]=ans[o-1];\n\t    o--;\n\t  }\n\t}\n      }\n      else if(a[k]=='M'){//+1\n\tfor(int j=0;j<y;j++) \n\t  if(ans[j]>='0'&&ans[j]<='8') b[j]=ans[j]+1;\n\t  else if(ans[j]=='9') b[j]=ans[j]-9;\n    }\n      else if(a[k]=='P')//-1\n\tfor(int j=0;j<y;j++) \n\t  if(ans[j]>='1'&&ans[j]<='9') b[j]=ans[j]-1;\n\t  else if(ans[j]=='0') b[j]=ans[j]+9;\n\n      for(int j=0;j<y;j++)\n\tans[j]=b[j];\n  }       \n      for(int j=0;j<y;j++)\n\tcout<<ans[j];\n      cout<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\nusing namespace std;\nint main()\n{\n\tint n;\n\tcin >> n;\n\twhile (n--)\n\t{\n\t\tstring a, b;\n\t\tcin >> b >> a;\n\t\treverse(b.begin(),b.end());\n\t\tfor (int i = 0; i < b.size(); i++)\n\t\t{\n\t\t\tif (b[i] == 'A')\n\t\t\t\treverse(a.begin(), a.end());\n\t\t\telse if (b[i] == 'C')\n\t\t\t{\n\t\t\t\tstring temp;\n\t\t\t\ttemp = a[0];\n\t\t\t\ta.erase(a.begin(), a.begin() + 1);\n\t\t\t\ta += temp;\n\t\t\t}\n\t\t\telse if (b[i] == 'J')\n\t\t\t{\n\t\t\t\tstring temp;\n\t\t\t\ttemp = a[a.size() - 1];\n\t\t\t\treverse(a.begin(), a.end());\n\t\t\t\ta.erase(a.begin(), a.begin() + 1);\n\t\t\t\treverse(a.begin(), a.end());\n\t\t\t\ttemp += a;\n\t\t\t\ta.clear();\n\t\t\t\ta = temp;\n\t\t\t}\n\t\t\telse if (b[i] == 'E')\n\t\t\t{\n\t\t\t\tstring temp, temp2;\n\t\t\t\tif (a.size() % 2 == 0)\n\t\t\t\t{\n\t\t\t\t\ttemp = a.substr(0, a.size() / 2);\n\t\t\t\t\ttemp2 = a.substr(a.size() / 2, a.size());\n\t\t\t\t\ta.clear();\n\t\t\t\t\ta = temp2 + temp;\n\t\t\t\t}\n\t\t\t\telse if (a.size() % 2 != 0)\n\t\t\t\t{\n\t\t\t\t\ttemp = a.substr(0, a.size() / 2+1);\n\t\t\t\t\ttemp2 = a.substr(a.size() / 2 + 1, a.size());\n\t\t\t\t\ta.clear();\n\t\t\t\t\ta.push_back(temp[temp.size() - 1]);\n\t\t\t\t\treverse(temp.begin(), temp.end());\n\t\t\t\t\ttemp.erase(temp.begin(), temp.begin() + 1);\n\t\t\t\t\treverse(temp.begin(), temp.end());\n\t\t\t\t\ttemp2 +=a+temp;\n\t\t\t\t\ta.clear();\n\t\t\t\t\ta = temp2;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (b[i] == 'P')\n\t\t\t{\n\t\t\t\tfor (int i = 0; i < a.size(); i++)\n\t\t\t\t{\n\t\t\t\t\tif (a[i] >= '0' && a[i] <= '9')\n\t\t\t\t\t{\n\t\t\t\t\t\tif (a[i] == '9')\n\t\t\t\t\t\t\ta[i] = '0';\n\t\t\t\t\t\telse if (a[i] == '0')\n\t\t\t\t\t\t\ta[i] = '9';\n\t\t\t\t\t\telse (int)a[i]--;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (b[i] == 'M')\n\t\t\t{\n\t\t\t\tfor (int i = 0; i < a.size(); i++)\n\t\t\t\t{\n\t\t\t\t\tif (a[i] >= '0' && a[i] <= '9')\n\t\t\t\t\t{\n\t\t\t\t\t\tif ((int)a[i] == '0')\n\t\t\t\t\t\t\ta[i] = '9';\n\t\t\t\t\t\telse if ((int)a[i] == '9')\n\t\t\t\t\t\t\ta[i] = '0';\n\t\t\t\t\t\telse (int)a[i]++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << a << endl;\n\t}\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <cmath>\n#include <iostream>\n#include <sstream>\n#include <algorithm>\n#include <numeric>\n#include <functional>\n#include <vector>\n#include <queue>\n#include <string>\n#include <complex>\n#include <stack>\n#include <set>\n#include <map>\n\n#define REP(i,n) for (int i = 0; i < (n); i++)\n#define RREP(i,n) for (int i = (n)-1; i >= 0; i--)\n#define FOR(i,s,n) for (int i = (s); i < (n); i++)\n#define allof(c) c.begin(), c.end()\n#define partof(c,i,n) c.begin() + (i), c.begin() + (i) + (n)\n#define EPS 1e-9\n#define INF 1000000000\nusing namespace std;\n\ntypedef complex<int> POINT;\ntemplate <class T>\nclass vevector : public vector<vector<T>>\n{\npublic:\n\tusing vector<vector<T>>::operator []; \n\tT& operator [](const POINT &index) { return (*this)[index.real()][index.imag()]; }\n};\n\ntemplate <class T> T read() { T t; cin >> t; return t; }\ntemplate <> POINT read<POINT>() { int x, y; cin >> x >> y; return POINT(x, y); }\ntemplate <class T> vector<T> read(int n) { vector<T> v; REP(i,n) { v.push_back(read<T>()); } return v; }\ntemplate <class T> vevector<T> read(int n, int m) { vevector<T> v; REP(i,n) v.push_back(read<T>(m)); return v; }\ntemplate <class T> vevector<T> readjag(int n) { vevector<T> v; REP(i,n) v.push_back(read<T>(read<int>())); return v; }\ntemplate <class T> void write(const T &t) { cout << t << endl; }\ntemplate <class T> void write(const T &t, const T &t2) { cout << t << ' ' << t2 << endl; }\n\ntemplate <class T> void write(const vector<T> &v)\n{\n\tostringstream ss; \n\tfor (auto x : v) ss << x << ' ';\n\tauto s = ss.str();\n\tcout << s.substr(0, s.length() - 1) << endl;\n}\n\ntemplate <class T> string toString(const T &t) { stringstream ss; ss << t; return ss.str(); }\n\nstruct _Reader { template <class T> _Reader operator ,(T &rhs) { cin >> rhs; return *this; } };\n#define READ(t,...) t __VA_ARGS__; _Reader(), __VA_ARGS__\n#define countof(a) (sizeof(a)/sizeof(a[0]))\n#define COMPARISON(t,a,b) [](const t & a, const t & b) -> bool\n\n// primes //\nvector<unsigned char> isPrime;\nvector<int> primes;\nvoid initPrimes(int n)\n{\n\tisPrime = vector<unsigned char>(n + 1, true);\n\tisPrime[0] = isPrime[1] = false;\n\tFOR(i, 2, n + 1)\n\t{\n\t\tif (!isPrime[i]) continue;\n\t\tprimes.push_back(i);\n\t\tfor (int j = i * 2; j <= n; j += i)\n\t\t\tisPrime[j] = false;\n\t}\n}\n\n// iota iterator //\nstruct iotait\n{\n\tint n;\n\tiotait(int n = 0) : n(n) { }\n\tiotait &operator ++() { ++n; return *this; }\n\tint operator *() { return n; }\n};\n\n// start up //\nvoid solve();\nint main() { solve(); return 0; }\n\n\n/// template end ///\n\nvoid solve()\n{\n\tREAD(int, testcases);\n\tREP (testcase, testcases)\n\t{\n\t\tREAD(string, command, result);\n\t\treverse(allof(command));\n\t\tint l = result.size();\n\t\tfor (char c : command)\n\t\t{\n\t\t\tswitch (c)\n\t\t\t{\n\t\t\tcase 'J': result = result.substr(l-1) + result.substr(0, l-1); break;\n\t\t\tcase 'C': result = result.substr(1) + result.substr(0, 1); break;\n\t\t\tcase 'E': result = result.substr(l-l/2) + result.substr(l/2, l%2) + result.substr(0, l/2); break;\n\t\t\tcase 'A': reverse(allof(result)); break;\n\t\t\tcase 'P': for (char &c : result) { if (isdigit(c & 0xFF)) { c = ((c - '0' + 9) % 10) + '0'; } } break;\n\t\t\tcase 'M': for (char &c : result) { if (isdigit(c & 0xFF)) { c = ((c - '0' + 1) % 10) + '0'; } } break;\n\t\t\t}\n\t\t}\n\t\twrite(result);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<cctype>\n#include<string>\n#include<iostream>\n#include<algorithm>\n\nusing namespace std;\n\nint main(){\n\tint n;\tcin>>n;\n\twhile(n--){\n\t\tstring s,m;\tcin>>s>>m;\n\t\tint len=m.length();\n\t\tfor(int i=s.length()-1;i>=0;i--){\n\t\t\tif     (s[i]=='J')\trotate(m.begin(),m.begin()+len-1,m.end());\n\t\t\telse if(s[i]=='C')\trotate(m.begin(),m.begin()+1,m.end());\n\t\t\telse if(s[i]=='E'){\n\t\t\t\tif(len%2==0)\tm=m.substr(len/2)+m.substr(0,len/2);\n\t\t\t\telse\t\t\tm=m.substr(len/2+1)+m[len/2]+m.substr(0,len/2);\n\t\t\t}\n\t\t\telse if(s[i]=='A')\treverse(m.begin(),m.end());\n\t\t\telse if(s[i]=='P'){\n\t\t\t\tfor(int j=0;j<len;j++){\n\t\t\t\t\tif(isdigit(m[j]))\tm[j]=(m[j]-'0'+9)%10+'0';\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(s[i]=='M'){\n\t\t\t\tfor(int j=0;j<len;j++){\n\t\t\t\t\tif(isdigit(m[j]))\tm[j]=(m[j]-'0'+1)%10+'0';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout<<m<<endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main(){\n  int n;\n  cin>>n;\n  while(n--){\n    string q,s;\n    cin>>q>>s;\n    for(int i=q.size()-1;0<=i;i--){\n      if(q[i]=='C')s=s.substr(1,s.size()-1)+s[0];\n      if(q[i]=='J')s=s[s.size()-1]+s.substr(0,s.size()-1);\n      if(q[i]=='E')\n\tfor(int j=0;j<s.size()/2;j++)swap(s[j],s[(s.size()+1)/2+j]);\n      if(q[i]=='A')reverse(s.begin(),s.end());\n      if(q[i]=='P')\n\tfor(int j=0;j<s.size();j++)\n\t  if(isdigit(s[j]))s[j]=((s[j]-'0'+10)-1)%10+'0';\n      if(q[i]=='M')\n\tfor(int j=0;j<s.size();j++)\n\t  if(isdigit(s[j]))s[j]=((s[j]-'0')+1)%10+'0';\n    }\n    cout<<s<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n\nusing namespace std;\n\nvoid C(string& str)\n{\n\tstring temp;\n\tfor(int i = 1; i < str.size(); ++i)\n\t{\n\t\ttemp += str[i];\n\t}\n\ttemp += str[0];\n\tstr = temp;\n}\n\nvoid J(string& str)\n{\n\tstring temp;\n\ttemp += str[str.size() - 1];\n\tfor(int i = 0; i < str.size() - 1; ++i)\n\t{\n\t\ttemp += str[i];\n\t}\n\tstr = temp;\n}\n\nvoid E(string& str)\n{\n\tstring temp;\n\tint n;\n\tif(str.size() % 2)\n\t{\n\t\tn = str.size() / 2 + 1;\n\t}\n\telse\n\t{\n\t\tn = str.size() / 2;\n\t}\n\tfor(int i = n; i < str.size(); ++i)\n\t{\n\t\ttemp += str[i];\n\t}\n\tif(str.size() % 2)\n\t{\n\t\t--n;\n\t\ttemp += str[n];\n\t}\n\tfor(int i = 0; i < n; ++i)\n\t{\n\t\ttemp += str[i];\n\t}\n\tstr = temp;\n}\n\nvoid A(string& str)\n{\n\tstring temp;\n\tfor(int i = str.size() - 1; i >= 0; --i)\n\t{\n\t\ttemp += str[i];\n\t}\n\tstr = temp;\n}\n\nvoid M(string& str)\n{\n\tfor(int i = 0; i < str.size(); ++i)\n\t{\n\t\tif('0' <= str[i] && str[i] <= '8')\n\t\t{\n\t\t\tstr[i] = str[i] + 1; \n\t\t}\n\t\telse if(str[i] == '9')\n\t\t{\n\t\t\tstr[i] = '0';\n\t\t}\n\t}\n}\n\nvoid P(string& str)\n{\n\tfor(int i = 0; i < str.size(); ++i)\n\t{\n\t\tif('1' <= str[i] && str[i] <= '9')\n\t\t{\n\t\t\tstr[i] = str[i] - 1; \n\t\t}\n\t\telse if(str[i] == '0')\n\t\t{\n\t\t\tstr[i] = '9';\n\t\t}\n\t}\n}\n\nvoid solve()\n{\n\tint n;\n\tcin >> n;\n\twhile(n--)\n\t{\n\t\tstring command, input;\n\t\tcin >> command >> input;\n\t\tfor(int i = command.size() - 1; i >= 0; --i)\n\t\t{\n\t\t\tswitch(command[i])\n\t\t\t{\n\t\t\t\tcase 'J':\n\t\t\t\t  J(input);break;\n\t\t\t\tcase 'C':\n\t\t\t\t  C(input);break;\n\t\t\t\tcase 'E':\n\t\t\t\t  E(input);break;\n\t\t\t\tcase 'A':\n\t\t\t\t  A(input);break;\n\t\t\t\tcase 'P':\n\t\t\t\t  P(input);break;\n\t\t\t\tcase 'M':\n\t\t\t\t  M(input);break;\n\t\t\t}\n\t\t}\n\t\tcout << input << endl;\n\t}\n}\n\nint main()\n{\n\tsolve();\n\treturn(0);\n}"
  },
  {
    "language": "C++",
    "code": "#define _CRT_SECURE_NO_WARNINGS // #pragma warning(disable:4996)\n#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <algorithm>\n#include <vector>\n#include <string>\n#include <queue>\n#include <functional>\n#include <sstream>\n#include <cmath>\n#include <set>\n#include <map>\n#include <stack>\nusing namespace std; \n\n#define rep(i,a,b) for(int i=(a);i<(b);i++)\n#define rrep(i,a,b) for(int i=(a);i>=(b);i--)\n#define pb push_back\n#define mp(a,b) make_pair(a,b)\n#define all(a) a.begin(),a.end()\n#define len(x) ((int)(x).size())\n#define tmax(a,b,c) max((a),max((b),(c)))\n#define tmin(a,b,c) min((a),min((b),(c)))\n#define debug(x) cerr << #x << \" is \" << x << endl;\n\ntypedef pair<int, int> Pii;\ntypedef map<int, int> Mii;\ntypedef vector<int> Vi;\ntypedef long long ll;\nconst int inf = 2e9;\nconst ll ll_inf = 1e17;\nconst int mod = 1e9 + 7;\nconst long double eps = 1e-10;\n\nstring num = \"0123456789\";\n\nint main()\n{\n\tint n; cin>>n;\n\twhile (n--) {\n\t\tstring ord; cin>>ord;\n\t\tstring s; cin>>s;\n\t\treverse(all(ord));\n\t\trep(i,0,len(ord)) {\n\t\t\tstring t = s;\n\t\t\tif (ord[i]=='J') {\n\t\t\t\ts = t.back();\n\t\t\t\ts += t.substr(0,len(t)-1);\n\t\t\t}\n\t\t\tif (ord[i]=='C') {\n\t\t\t\ts = t.substr(1,len(t)-1);\n\t\t\t\ts += t.front();\n\t\t\t}\n\t\t\tif (ord[i]=='E') {\n\t\t\t\tif (len(s)%2) {\n\t\t\t\t\tint c = len(s)/2;\n\t\t\t\t\ts = t.substr(c+1, len(s)-(c+1));\n\t\t\t\t\ts += t[c];\n\t\t\t\t\ts += t.substr(0, c);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tint c = len(s)/2;\n\t\t\t\t\ts = t.substr(c, len(s)-c);\n\t\t\t\t\ts += t.substr(0, c);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (ord[i]=='A') {\n\t\t\t\treverse(all(s));\n\t\t\t}\n\t\t\tif (ord[i]=='P') {\n\t\t\t\trep(j,0,len(s)) {\n\t\t\t\t\tint idx = num.find(s[j]);\n\t\t\t\t\tif (idx != std::string::npos) {\n\t\t\t\t\t\ts[j] = num[(len(num)+idx-1)%len(num)];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (ord[i]=='M') {\n\t\t\t\trep(j,0,len(s)) {\n\t\t\t\t\tint idx = num.find(s[j]);\n\t\t\t\t\tif (idx != std::string::npos) {\n\t\t\t\t\t\ts[j] = num[(len(num)+idx+1)%len(num)];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << s << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ninline int toInt(string s) {int v; istringstream sin(s);sin>>v;return v;}\ntemplate<class T> inline string toString(T x) {ostringstream sout;sout<<x;return sout.str();}\ntemplate<class T> inline T sqr(T x) {return x*x;}\n\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<string> vs;\ntypedef pair<int, int> pii;\ntypedef long long ll;\n\n#define all(a)  (a).begin(),(a).end()\n#define rall(a) (a).rbegin(), (a).rend()\n#define pb push_back\n#define mp make_pair\n#define each(i,c) for(typeof((c).begin()) i=(c).begin(); i!=(c).end(); ++i)\n#define exist(s,e) ((s).find(e)!=(s).end())\n#define range(i,a,b) for(int i=(a);i<(b);++i)\n#define rep(i,n)  range(i,0,n)\n#define clr(a,b) memset((a), (b) ,sizeof(a))\n#define dump(x)  cerr << #x << \" = \" << (x) << endl;\n#define debug(x) cerr << #x << \" = \" << (x) << \" (L\" << __LINE__ << \")\" << \" \" << __FILE__ << endl;\n\nconst double eps = 1e-10;\nconst double pi  = acos(-1.0);\nconst ll INF =1LL << 62;\nconst int inf =1 << 29;\n\nstring fj(string arg){\n\tint n=arg.size();\n\tchar last=arg[n-1];\n\tfor(int i=n-2;i>=0;--i) arg[i+1]=arg[i];\n\targ[0]=last;\n\treturn arg;\n}\n\nstring fc(string arg){\n\tint n=arg.size();\n\tchar first=arg[0];\n\tfor(int i=0;i<n-1;++i) arg[i]=arg[i+1];\n\targ[n-1]=first;\n\treturn arg;\n}\n\nstring fe(string arg){\n\tint n=arg.size();\n\tint odd=n%2;\n\tfor(int i=0;i<n/2;++i)\n\t\tswap(arg[i],arg[n/2+odd+i]);\n\treturn arg;\n}\n\nstring fa(string arg){\n\treverse(arg.begin(),arg.end());\n\treturn arg;\n}\n\nstring fp(string arg){\n\tint n=arg.size();\n\tfor(int i=0;i<n;++i){\n\t\tif(isdigit(arg[i])){\n\t\t\tint d=arg[i]-'0';\n\t\t\td=(d+9)%10;\n\t\t\targ[i]=(d+'0');\n\t\t}\n\t}\n\treturn arg;\n}\n\nstring fm(string arg){\n\tint n=arg.size();\n\tfor(int i=0;i<n;++i){\n\t\tif(isdigit(arg[i])){\n\t\t\tint d=arg[i]-'0';\n\t\t\td=(d+1)%10;\n\t\t\targ[i]=(d+'0');\n\t\t}\n\t}\n\treturn arg;\n}\n\nint main(void){\n\tint t;\n\tcin >> t;\n\trep(loop,t){\n\t\tstring decode,message;\n\t\tcin >> decode >> message;\n\t\tint n=decode.size();\n\t\tfor(int i=n-1;i>=0;--i){\n\t\t\tchar cur=decode[i];\n\t\t\tswitch(cur){\n\t\t\t\tcase 'A':\n\t\t\t\t\tmessage=fa(message);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'C':\n\t\t\t\t\tmessage=fc(message);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'E':\n\t\t\t\t\tmessage=fe(message);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'J':\n\t\t\t\t\tmessage=fj(message);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'M':\n\t\t\t\t\tmessage=fm(message);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'P':\n\t\t\t\t\tmessage=fp(message);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tcout << message << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "//Unreliable Message\n#include<bits/stdc++.h>\nusing namespace std;\n\nstring J(string s){\n  if(s.length()==0)return s;\n  string ret=\"\";\n  ret+=s[s.length()-1];\n  for(int i=0; i<s.length()-1; i++)ret+=s[i];\n  return ret;\n}\nstring C(string s){\n  if(s.length()==0)return s;\n  string ret=\"\";\n  for(int i=1; i<s.length(); i++)ret+=s[i];\n  ret+=s[0];\n  return ret;\n}\nstring E(string s){\n  if(s.length()==0)return s;\n  string ret1=\"\", ret2=\"\";\n  for(int i=0; i<s.length()/2; i++)ret1+=s[i];\n  for(int i=(s.length()+1)/2; i<s.length(); i++)ret2+=s[i];\n  if(s.length()%2==1)ret2+=s[s.length()/2];\n  return ret2+ret1;\n}\nstring A(string s){\n  reverse(s.begin(), s.end());\n  return s;\n}\nstring P(string s){\n  for(int i=0; i<s.length(); i++){\n    if('0'<=s[i]&&s[i]<='9'){\n      if(s[i]=='0')s[i]='9';\n      else s[i]-=1;\n    }\n  }\n  return s;\n}\nstring M(string s){\n  for(int i=0; i<s.length(); i++){\n    if('0'<=s[i]&&s[i]<='9'){\n      if(s[i]=='9')s[i]='0';\n      else s[i]+=1;\n    }\n  }\n  return s;\n}\n\nint main(){\n  int n;\n  cin>>n;\n  while(n--){\n    string p, m;\n    cin>>p;\n    cin>>m;\n    for(int i=p.length()-1; i>=0; i--){\n      if(p[i]=='J')m=J(m);\n      if(p[i]=='C')m=C(m);\n      if(p[i]=='E')m=E(m);\n      if(p[i]=='A')m=A(m);\n      if(p[i]=='P')m=P(m);\n      if(p[i]=='M')m=M(m);\n    }\n    cout<<m<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<string>\n#include<vector>\n#include<queue>\n#include<set>\n#include<functional>\n#include<map>\nusing namespace std;\n\nint main() {\n\tint a; cin >> a;\n\tfor (int b = 0; b < a; b++) {\n\t\tstring c, d; cin >> c >> d;\n\t\tfor (int i = c.length() - 1; i >= 0;i--) {\n\t\t\tchar e = c[i];\n\t\t\tswitch (e) {\n\t\t\tcase 'P':for (int f = 0; f < d.length(); f++) {\n\t\t\t\tif (d[f] == '0')d[f] = '9';\n\t\t\t\telse if (d[f] <= '9')d[f]--;\n\t\t\t} break;\n\t\t\tcase 'M':for (int f = 0; f < d.length(); f++) {\n\t\t\t\tif (d[f] == '9')d[f] = '0';\n\t\t\t\telse if (d[f] <= '9')d[f]++;\n\t\t\t} break;\n\t\t\tcase 'C':d = d.substr(1, d.length() - 1) + d[0]; break;\n\t\t\tcase 'J':d = d[d.length() - 1] + d.substr(0, d.length() - 1); break;\n\t\t\tcase 'A': {string f = d;\n\t\t\t\tfor (int g = 0; g < d.length(); g++) {\n\t\t\t\t\td[g] = f[d.length() - 1 - g];\n\t\t\t\t}\n\t\t\t\tbreak; }\n\t\t\tdefault: {\n\t\t\t\tif (d.length() & 1)\n\t\t\t\t{\n\t\t\t\t\tstring f = d;\n\t\t\t\t\td = \"\"; \n\t\t\t\t\td += f.substr(f.length() - f.length() / 2, f.length() / 2);\n\t\t\t\t\td += f[f.length() / 2];\n\t\t\t\t\td += f.substr(0, f.length() / 2);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tstring f = d;\n\t\t\t\t\td = \"\";\n\t\t\t\t\td += f.substr(f.length() - f.length() / 2, f.length() / 2);\n\t\t\t\t\td += f.substr(0, f.length() / 2);\n\t\t\t\t}}\n\t\t\t}\n\t\t}\n\t\tcout << d << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "// clang-format off\n#include <bits/stdc++.h>\n#define int long long\n#define main signed main()\n// #define main int main()\n#define loop(i, a, n) for (int i = (a); i < (n); i++)\n#define rep(i, n) loop(i, 0, n)\n#define all(v) (v).begin(), (v).end()\n#define rall(v) (v).rbegin(), (v).rend()\n#define prec(n) fixed << setprecision(n)\n#define stlice(from, to) substr(from, (to) - (from) + 1)\n#define pb push_back\n#define mp make_pair\n#define mt make_tuple\n#define fi first\n#define se second\nusing namespace std;\ntypedef pair<int, int> pii;\ntypedef vector<int> vi;\ntypedef vector<double> vd;\ntypedef vector<char> vc;\ntypedef vector<bool> vb;\ntypedef vector<string> vs;\ntypedef vector<pii> vpii;\ntypedef vector<vi> vvi;\ntypedef vector<vb> vvb;\ntypedef vector<vpii> vvpii;\nconst int INF = sizeof(int) == sizeof(long long) ? 1000000000000000000LL : 1000000000;\nconst int MOD = 1000000007;\nconst double PI = acos(-1);\ntemplate<typename A, typename B> bool cmin(A &a, const B &b) { return a > b ? (a = b, true) : false; }\ntemplate<typename A, typename B> bool cmax(A &a, const B &b) { return a < b ? (a = b, true) : false; }\nbool odd(const int &n) { return n & 1; }\nbool even(const int &n) { return !odd(n); }\nvoid solve();\nmain { solve(); return 0; }\n// clang-format on\n\nvoid solve() {\n  int n;\n  cin >> n;\n  while (n--) {\n    string order, s;\n    cin >> order >> s;\n    reverse(all(order));\n    for (auto &o : order) {\n      if (o == 'J') s = string(1, s.back()) + s.substr(0, s.size() - 1);\n      if (o == 'C') s = s.substr(1, s.size() - 1) + s.front();\n      if (o == 'E') s = even(s.size()) ? s.substr(s.size() / 2, s.size() / 2) + s.substr(0, s.size() / 2) : s.substr(s.size() / 2 + 1, s.size() / 2) + string(1, s[s.size() / 2]) + s.substr(0, s.size() / 2);\n      if (o == 'A') reverse(all(s));\n      if (o == 'P') transform(all(s), s.begin(), [](char &c) {\n        return isdigit(c) ? ((c - '0') + 9) % 10 + '0' : c;\n      });\n      if (o == 'M') transform(all(s), s.begin(), [](char &c) {\n        return isdigit(c) ? ((c - '0') + 1) % 10 + '0' : c;\n      });\n    }\n    cout << s << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#define _CRT_SECURE_NO_WARNINGS\n#include<cstdio>\n#include<cmath>\n#include<sstream>\n#include<cstring>\n#include<iostream>\n#include<algorithm>\n#include<utility>\n#include<iomanip>\n#include<vector>\n#include<string>\n#include<queue>\n#include<stack>\n#include<map>\n#include<list>\n#include<set>\n#include<stdlib.h>\n#include<time.h>\n#define rep(i,n) for(int i=0;i<(int)n;i++)\n#define repp(i,k,n) for(int i=k;i<(int)n;i++)\nusing namespace std;\nconst int dx[4] = { 0, 1, 0, -1 }, dy[4] = { 1, 0, -1, 0 };\nconst int dX[8] = { 0, 1, 1, 1, 0, -1, -1, -1 }, dY[8] = { 1, 1, 0, -1, -1, -1, 0, 1 };\nstruct XY\n{\n\tint x;\n\tint y;\n};\nvector<long long> Prime;\nvoid SieveOfEratosthenes(long long e) //setup vector<long long>Prime(~x)\n{\n\tbool *x=new bool[e];\n\tfor (long long i = 0; i <= e; i++)x[i] = false;\n\tfor (long long i = 2; i <= e; i++)\n\t{\n\t\tif (x[i]);\n\t\telse\n\t\t{\n\t\t\tPrime.push_back(i);\n\t\t\tfor (long long l = i; l <= e; l += i)x[l] = true;\n\t\t}\n\t}\n\treturn;\n}\nint StringToInt(string a)\n{\n\tstringstream ss;\n\tint x;\n\tss << a;\n\tss >> x;\n\treturn x;\n}\nstring IntToString(int a)\n{\n\tstringstream ss;\n\tstring x;\n\tss << a;\n\tss >> x;\n\treturn x;\n}\nint GetRandom(int MIN, int MAX)\n{\n\tstatic int flag=0;\n\tif (flag == 0)\n\t{\n\t\tsrand((unsigned int)time(NULL));\n\t\tflag = 1;\n\t}\n\treturn MIN + (int)(rand()*(MAX - MIN + 1.0) / (1.0 + RAND_MAX));\n}\nint in()\n{\n\tint x;\n\tcin >> x;\n\treturn x;\n}\nvoid outl(string a)\n{\n\tcout << a << endl;\n\treturn;\n}\nvoid outl(int a)\n{\n\tcout << a << endl;\n\treturn;\n}\nvoid out(string a)\n{\n\tcout << a;\n\treturn;\n}\nvoid out(int a)\n{\n\tcout << a;\n\treturn;\n}\n/*\n(char)'1' - (int)48 = (int)1;\n???1111181\n (char)A=(int)65\n (char)a=(int)97\n*/\n////////////////////////////////////////////////////\n\nint main()\n{\n\tint n;\n\tcin >> n;\n\twhile (n--)\n\t{\n\t\tchar a[1500];\n\t\tstring  b;\n\t\tcin >> a >> b;\n\t\tstring T;\n\t\tfor (int i = strlen(a) - 1; i >= 0; i--)\n\t\t{\n\t\t\tswitch (a[i])\n\t\t\t{\n\t\t\tcase'A':\n\t\t\t\treverse(b.begin(), b.end());\n\t\t\t\tbreak;\n\t\t\tcase'J':\n\t\t\t\tT = \"\";\n\t\t\t\tT += b[b.size() - 1];\n\t\t\t\tfor (int h = 0; h < b.size() - 1; h++)T += b[h];\n\t\t\t\tb = T;\n\t\t\t\tbreak;\n\t\t\tcase'M':\n\t\t\t\tfor (int l = 0; l < b.size(); l++)\n\t\t\t\t{\n\t\t\t\t\tif (b[l] >= '0'&&b[l] <= '9')\n\t\t\t\t\t{\n\t\t\t\t\t\tif (b[l] == '9')b[l] = 0;\n\t\t\t\t\t\telse b[l] += 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase'P':\n\t\t\t\t\n\t\t\t\tfor (int l = 0; l < b.size(); l++)\n\t\t\t\t{\n\t\t\t\t\tif (b[l] >= '0'&&b[l] <= '9')\n\t\t\t\t\t{\n\t\t\t\t\t\tif (b[l] == '0')b[l] = 9;\n\t\t\t\t\t\telse b[l] -= 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase'C':\n\t\t\t\t\n\t\t\t\tb += b[0];\n\t\t\t\tb.erase(b.begin());\n\t\t\t\tbreak;\n\t\t\t\tbreak;\n\t\t\tcase'E':\n\t\t\t\tstring r, l;\n\t\t\t\tint z;\n\t\t\t\tfor (z = 0; z < b.size()/2; z++)r += b[z];\n\t\t\t\tif (b.size() % 2)z++;\n\t\t\t\tfor (; z < b.size(); z++)l += b[z];\n\t\t\t\tif (b.size() % 2)l += b[b.size() / 2];\n\t\t\t\tb = l + r;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tcout << b << endl;\n\n\t}\n\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint main(){\n\tint n;\n\tcin>>n;\n\twhile(n--){\n\t\tstring s,ss;\n\t\tcin>>s>>ss;\n\t\tfor(int i=s.size()-1;i>=0;i--){\n\t\t\tif(s[i]=='P')\n\t\t\t\tfor(int j=0;j<ss.size();j++)\n\t\t\t\t\tif(isdigit(ss[j]))\n\t\t\t\t\t\tss[j]=((ss[j]-'0'+10)-1)%10+'0';\n\t\t\tif(s[i]=='M')\n\t\t\t\tfor(int j=0;j<ss.size();j++)\n\t\t\t\t\tif(isdigit(ss[j]))\n\t\t\t\t\t\tss[j]=(ss[j]-'0'+1)%10+'0';\n\t\t\tif(s[i]=='A')reverse(ss.begin(),ss.end());\n\t\t\tif(s[i]=='E')for(int k=0;k<ss.size()/2;k++)swap(ss[k],ss[(ss.size()+1)/2+k]);\n\t\t\tif(s[i]=='J')ss=ss[ss.size()-1]+ss.substr(0,s.size()-1);\n\t\t\tif(s[i]=='C')ss=ss.substr(1,s.size()-1)+s[0];\n\t\t}\n\t\tcout<<ss<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": " #include <bits/stdc++.h>\n                                        #include<iostream>\n                                        #include<cstdio>\n                                        #include<vector>\n                                        #include<queue>\n                                        #include<map>\n                                        #include<cstring>\n                                        #include<string>\n                                        #include <math.h>\n                                        #include<algorithm>\n                                    //    #include <boost/multiprecision/cpp_int.hpp>\n                                        #include<functional>\n                               #define int long long\n                                        #define inf  1000000007\n                                        #define pa pair<int,int>\n                                        #define ll long long\n                                        #define pal pair<double,pa>\n                                        #define ppap pair<pa,int>\n                                  \n                                        #define ssa pair<string,int>\n                                        #define  mp make_pair\n                                        #define  pb push_back\n                                        #define EPS (1e-10)\n                                        #define equals(a,b) (fabs((a)-(b))<EPS)\nint dx[4]={0,1,0,-1};\nint dy[4]={1,0,-1,0};\n                                        using namespace std;\n                               class pas{\n                                        \tpublic:\n                                        \tint x,y,h;\n                                        \tpas(int x=0,int y=0,int h=0):x(x),y(y),h(h) {}\n                                        \tbool operator < (const pas &p) const{\n                                        \t\treturn x != p.x ? x<p.x: y<p.y;\n                                        \t}\n                                        \tbool operator == (const pas &p) const{\n                                        \t\treturn abs(x-p.x)==0 && abs(y-p.y)==0;\n                                        \t}\n                                        \t\t\n                                        \n                                        };\n                                        class pa2{\n                                        \tpublic:\n                                        \tint x,y;\n                                        \tpa2(int x=0,int y=0):x(x),y(y) {}\n                                        \tpa2 operator + (pa2 p) {return pa2(x+p.x,y+p.y);}\n                                        \tbool operator < (const pa2 &p) const{\n                                        \t\treturn x != p.x ? x<p.x: y<p.y;\n                                        \t}\n                                        \tbool operator == (const pa2 &p) const{\n                                        \t\treturn abs(x-p.x)==0 && abs(y-p.y)==0;\n                                        \t}\n                                        \t\t\n                                        \n                                        };\n                                        \n                                               #define ppa pair<int,pas>\n                                        class Point{\n                                        \tpublic:\n                                        \tdouble x,y;\n                                        \tPoint(double x=0,double y=0):x(x),y(y) {}\n                                        \tPoint operator + (Point p) {return Point(x+p.x,y+p.y);}\n                                        \tPoint operator - (Point p) {return Point(x-p.x,y-p.y);}\n                                        \tPoint operator * (double a) {return Point(x*a,y*a);}\n                                        \tPoint operator / (double a) {return Point(x/a,y/a);}\n                                        \tdouble absv() {return sqrt(norm());}\n                                        \tdouble norm() {return x*x+y*y;}\n                                        \tbool operator < (const Point &p) const{\n                                        \t\treturn x != p.x ? x<p.x: y<p.y;\n                                        \t}\n                                        \tbool operator == (const Point &p) const{\n                                        \t\treturn fabs(x-p.x)<EPS && fabs(y-p.y)<EPS;\n                                        \t}\n                                        };\n                                        typedef Point Vector;\n                                 #define pl pair<int,pas>\n                                        struct Segment{\n                                        Point p1,p2;\n                                        };\n                                         double dot(Vector a,Vector b){\n                                        \treturn a.x*b.x+a.y*b.y;\n                                        }\n                                        double cross(Vector a,Vector b){\n                                        \treturn a.x*b.y-a.y*b.x;\n                                        }\n                                    \n            bool parareru(Point a,Point b,Point c,Point d){\n            //\tif(abs(cross(a-b,d-c))<EPS)cout<<\"dd \"<<cross(a-b,d-c)<<endl;\n            \treturn abs(cross(a-b,d-c))<EPS;\n            }\n            double distance_ls_p(Point a, Point b, Point c) {\n              if ( dot(b-a, c-a) < EPS ) return (c-a).absv();\n              if ( dot(a-b, c-b) < EPS ) return (c-b).absv();\n              return abs(cross(b-a, c-a)) / (b-a).absv();\n            }\n            bool is_intersected_ls(Segment a,Segment b) {\n            \tif(a.p1==b.p1||a.p2==b.p1||a.p1==b.p2||a.p2==b.p2) return false;\n            \tif(parareru((a.p2),(a.p1),(a.p1),(b.p2))&&parareru((a.p2),(a.p1),(a.p1),(b.p1))){\n            //\t\tcout<<\"sss\"<<endl;\n            \t\tif(dot(a.p1-b.p1,a.p1-b.p2)<EPS) return true;\n            \t\tif(dot(a.p2-b.p1,a.p2-b.p2)<EPS) return true;\n            \t\tif(dot(a.p1-b.p1,a.p2-b.p1)<EPS) return true;\n            \t\tif(dot(a.p1-b.p2,a.p2-b.p2)<EPS) return true;\n            \t\treturn false;\n            \t}\n              else return ( cross(a.p2-a.p1, b.p1-a.p1) * cross(a.p2-a.p1, b.p2-a.p1) < EPS ) && ( cross(b.p2-b.p1, a.p1-b.p1) * cross(b.p2-b.p1, a.p2-b.p1) < EPS );\n            }\n             \n            double segment_dis(Segment a,Segment b){\n            \tif(is_intersected_ls(a,b))return 0;\n            \tdouble r=distance_ls_p(a.p1, a.p2, b.p1);\n            \tr=min(r,distance_ls_p(a.p1, a.p2, b.p2));\n            \tr=min(r,distance_ls_p(b.p1, b.p2, a.p2));\n            \tr=min(r,distance_ls_p(b.p1, b.p2, a.p1));\n            \treturn r;\n            }\n            Point intersection_ls(Segment a, Segment b) {\n              Point ba = b.p2-b.p1;\n              double d1 = abs(cross(ba, a.p1-b.p1));\n              double d2 = abs(cross(ba, a.p2-b.p1));\n              double t = d1 / (d1 + d2);\n             \n              return a.p1 + (a.p2-a.p1) * t;\n            }\n             \n                            string itos( int i ) {\n                            ostringstream s ;\n                            s << i ;\n                            return s.str() ;\n                            }\n                             \n                            int gcd(int v,int b){\n                            \tif(v>b) return gcd(b,v);\n                            \tif(v==b) return b;\n                            \tif(b%v==0) return v;\n                            \treturn gcd(v,b%v);\n                            }\n             \n                            double distans(double x1,double y1,double x2,double y2){\n                            \tdouble rr=(x1-x2)*(x1-x2)+(y1-y2)*(y1-y2);\n                            \treturn sqrt(rr);\n                            \t\n                            }\n                            \n   //         int pr[2000010];\n     //       int inv[2000010];\n            /*\n            int beki(int wa,int rr,int warukazu){\n            \tif(rr==0) return 1ll;\n            \tif(rr==1) return wa%warukazu;\n            \tif(rr%2==1) return (beki(wa,rr-1,warukazu)*wa)%warukazu;\n            \tint zx=beki(wa,rr/2,warukazu);\n            \treturn (zx*zx)%warukazu;\n            }\n            \n\t\t\tint comb(int nn,int rr){\n\t\t\t\tint r=pr[nn]*inv[rr];\n\t\t\t\tr%=inf;\n\t\t\t\tr*=inv[nn-rr];\n\t\t\t\tr%=inf;\n\t\t\t\treturn r;\n\t\t\t}\n            \n            void gya(int ert){\n            \tpr[0]=1;\n            \tfor(int i=1;i<ert;i++){\n            \t\tpr[i]=(pr[i-1]*i)%inf;\n            \t}\n            \tfor(int i=0;i<ert;i++) inv[i]=beki(pr[i],inf-2,inf);\n            \t\n            }\n             */\n            \n             //sort(ve.begin(),ve.end(),greater<int>());\n                                     //----------------kokomade tenpure------------\n            //vector<double> ans(100000000),ans2(100000000);\nstring ch(string s,char c){\n\tif(c=='A'){\n\t\treverse(s.begin(),s.end());\n\t\treturn s;\n\t}\n\tint l=s.length();\n\tif(c=='P'){\n\t\tfor(int i=0;i<l;i++){\n\t\t\tif(s[i]>'0' && s[i]<='9'){\n\t\t\t\ts[i]--;\n\t\t\t}\n\t\t\telse if(s[i]=='0') s[i]='9';\n\t\t}\n\t\treturn s;\n\t}\n\tif(c=='M'){\n\t\tfor(int i=0;i<l;i++){\n\t\t\tif(s[i]>='0' && s[i]<'9'){\n\t\t\t\ts[i]++;\n\t\t\t}\n\t\t\telse if(s[i]=='9') s[i]='0';\n\t\t}\n\t\treturn s;\n\t}\n\t\n\tif(c=='J'){\n\t\ts=s.substr(l-1,1)+s.substr(0,l-1);\n\t\treturn s;\n\t}\n\tif(c=='C'){\n\t\ts=s.substr(1,l-1)+s.substr(0,1);\n\t\treturn s;\n\t}\n\tif(c=='E'){\n\t\tif(l%2) s=s.substr((l+1)/2,l/2)+s.substr(l/2,1)+s.substr(0,l/2);\n\t\telse s=s.substr(l/2,l/2)+s.substr(0,l/2);\n\t\treturn s;\n\t}\n\t\n}\n   signed main(){\n   \t\n   \tint n;\n   \tcin>>n;\n   \t\n   \tfor(int h=0;h<n;h++){\n   \t\tstring t,s;\n   \t\tcin>>t;\n   \t\tcin>>s;\n   \t\t\n   \t\tfor(int j=t.length()-1;j>=0;j--){\n   \t\t\ts=ch(s,t[j]);\n   \t\t}\n   \t\tcout<<s<<endl;\n   \t}\n   \treturn 0;\n        }\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#include <stdint.h>\n\ntypedef uint32_t u32;\ntypedef uint64_t u64;\n\nvoid revj(std::string& str) {\n  std::string temp;\n  temp += str[str.size() - 1];\n  for(int i = 0; i < (int)str.size() - 1; ++i) {\n    temp += str[i];\n  }\n  str = temp;\n}\n\nvoid revc(std::string& str) {\n  std::string temp;\n  for(int i = 1; i < (int)str.size(); ++i) {\n    temp += str[i];\n  }\n  temp += str[0];\n  str = temp;\n}\n\nvoid reve(std::string& str) {\n  for(int i = 0; i < (int)str.size() / 2; ++i) {\n    std::swap(str[i], str[(str.size() + 1) / 2 + i]);\n  }\n}\n\nvoid reva(std::string& str) {\n  std::reverse(str.begin(), str.end());\n}\n\nvoid revp(std::string& str) {\n  for(int i = 0; i < (int)str.size(); ++i) {\n    if( '0' <= str[i] and str[i] <= '9' ) {\n      str[i] = (str[i] - '0' + 10 - 1) % 10 + '0';\n    }\n  }\n}\n\nvoid revm(std::string& str) {\n  for(int i = 0; i < (int)str.size(); ++i) {\n    if( '0' <= str[i] and str[i] <= '9' ) {\n      str[i] = (str[i] - '0' + 1) % 10 + '0';\n    }\n  }\n}\n\nint main() {\n\n  int n;\n  std::cin >> n;\n  for(int i = 0; i < n; ++i) {\n    std::string order;\n    std::cin >> order;\n    std::string message;\n    std::cin >> message;\n    for(int j = (int)order.size(); j >= 0; --j) {\n      switch( order[j] ) {\n      case 'J' :\n        revj(message);\n        break;\n      case 'C' :\n        revc(message);\n        break;\n      case 'E' :\n        reve(message);\n        break;\n      case 'A' :\n        reva(message);\n        break;\n      case 'P' :\n        revp(message);\n        break;\n      case 'M' :\n        revm(message);\n        break;\n      }\n    }\n    std::cout << message << std::endl;\n  }\n   \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <list>\n#include <map>\n#include <set>\n#include <queue>\n#include <deque>\n#include <stack>\n#include <algorithm>\n#include <functional>\n#include <numeric>\n#include <utility>\n#include <sstream>\n#include <iostream>\n#include <iomanip>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <cctype>\n#include <string>\n#include <cstring>\nusing namespace std;\n#define REP(i,n) for(int i = 0; i < (int)n; i++)\n#define FOR(i,a,b) for(int i = a; i < (int)b; i++)\n#define pb push_back\n#define mp make_pair\ntypedef vector<int> vi;\ntypedef pair<int, int> pi;\ntypedef long long ll;\nconst int INF = 1<<28;\nconst ll MOD = 1000000007;\nconst int dx[] = {1, 0, -1, 0}, dy[] = {0, 1, 0, -1};\n\nvoid j(string &s) {\n\ts = s[s.size()-1] + s;\n\ts.erase(s.end()-1);\n}\nvoid c(string &s) {\n\ts = s + s[0];\n\ts.erase(s.begin());\n}\nvoid e(string &s) {\n\tif(s.size()%2)\n\t\tREP(i, s.size()/2)\n\t\t\tswap(s[i], s[s.size()/2+i+1]);\n\telse\n\t\tREP(i, s.size()/2)\n\t\t\tswap(s[i], s[s.size()/2+i]);\n}\nvoid a(string &s) {\n\treverse(s.begin(), s.end());\n}\nvoid p(string &s) {\n\tREP(i, s.size())\n\t\tif(isdigit(s[i]))\n\t\t\ts[i] = s[i] == '0' ? '9' : s[i]-1;\n}\nvoid m(string &s) {\n\tREP(i, s.size())\n\t\tif(isdigit(s[i]))\n\t\t\ts[i] = s[i] == '9' ? '0' : s[i]+1;\n\n}\n\nint main() {\n\tios_base::sync_with_stdio(0);\n\tcin.tie(0);\n\n\tint n; cin >> n;\n\tREP(_, n) {\n\t\tstring x, y;\n\t\tcin >> x >> y;\n\n\t\treverse(x.begin(), x.end());\n\t\tREP(i, x.size()) {\n\t\t\tif(x[i] == 'J') j(y);\n\t\t\tif(x[i] == 'C') c(y);\n\t\t\tif(x[i] == 'E') e(y);\n\t\t\tif(x[i] == 'A') a(y);\n\t\t\tif(x[i] == 'P') p(y);\n\t\t\tif(x[i] == 'M') m(y);\n\t\t}\n\t\tcout << y << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define INF 1000000000\n\nstring f_J(string s){\n    \n    char c = s[0];\n    for(int i = 0; i < s.size() - 1; i++){\n        s[i] = s[i + 1];\n    }\n    s[s.size() - 1] = c;\n    return s;\n}\n\nstring f_C(string s){\n\n    char c = s[s.size() - 1];\n    for(int i = s.size() - 1; i > 0; i--){\n        s[i] = s[i - 1];\n    }\n    s[0] = c;\n    return s;\n}\n\nstring f_E(string s){\n\n    int n = s.size();\n    if(n % 2 == 0){\n\n        string r = \"\", l = \"\";\n        for(int i = 0; i < n/2; i++){\n            l = l + s[i];\n        }\n        for(int i = n/2; i < n; i++){\n            r = r + s[i];\n        }\n\n        s = r + l;        \n    }else{\n\n        string r = \"\", l = \"\";\n        for(int i = 0; i < n/2; i++){\n            r = r + s[i];\n        }\n\n        for(int i = n/2 + 1; i < n; i++){\n            l = l + s[i];\n        }\n\n        s = l + s[n/2] + r;\n    }\n\n    return s;\n}\n\nstring f_A(string s){\n    \n    reverse(s.begin(), s.end());\n    return s;\n}\n\nstring f_P(string s){\n\n    for(int i = 0; i < s.size(); i++){\n        if('0' <= s[i] && s[i] <= '8'){\n            s[i]++;\n        }else if(s[i] == '9'){\n            s[i] = '0';\n        }\n    }\n\n    return s;\n}\n\nstring f_M(string s){\n\n    for(int i = 0; i < s.size(); i++){\n        if('1' <= s[i] && s[i] <= '9'){\n            s[i]--;\n        }else if(s[i] == '0'){\n            s[i] = '9';\n        }\n    }\n\n    return s;\n}\n\nint main(){\n\n    int n; cin >> n;\n    for(int i = 0; i < n; i++){\n        string t; cin >> t;\n        string s; cin >> s;\n        for(int j = t.size() - 1; j >= 0; j--){\n\n            if(t[j] == 'J') s = f_C(s);\n            if(t[j] == 'C') s = f_J(s);\n            if(t[j] == 'E') s = f_E(s);\n            if(t[j] == 'A') s = f_A(s);\n            if(t[j] == 'P') s = f_M(s);\n            if(t[j] == 'M') s = f_P(s);\n        }\n\n        cout << s << endl;\n    }\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n)for(int i=0;i<n;i++)\nusing namespace std;\n\nint main() {\n\tint n; cin >> n;\n\trep(i, n) {\n\t\tstring m, s; cin >> m >> s;\n\t\treverse(m.begin(), m.end());\n\t\tfor (char c : m) {\n\t\t\tswitch (c) {\n\t\t\tcase'C':rotate(s.begin(), ++s.begin(), s.end()); break;\n\t\t\tcase'J':rotate(s.begin(), --s.end(), s.end()); break;\n\t\t\tcase'E':s = s.substr((int)s.size() / 2 + (int)s.size() % 2) + s.substr((int)s.size() / 2, (int)s.size() % 2) + s.substr(0, (int)s.size() / 2); break;\n\t\t\tcase'A':reverse(s.begin(), s.end()); break;\n\t\t\tcase'M':transform(s.begin(), s.end(), s.begin(), [](char c) {\n\t\t\t\tif (c == '9')return'0';\n\t\t\t\tif ('0' <= c&&c < '9')return ++c;\n\t\t\t\treturn c;\n\t\t\t}); break;\n\t\t\tcase'P':transform(s.begin(), s.end(), s.begin(), [](char c) {\n\t\t\t\tif (c == '0')return'9';\n\t\t\t\tif ('0' < c&&c <= '9')return --c;\n\t\t\t\treturn c;\n\t\t\t}); break;\n\t\t\t}\n\t\t}\n\t\tcout << s << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <string>\n\nusing namespace std;\n\nint main() {\n\tint n; cin >> n;\n\twhile (n--) {\n\t\tstring s, message; cin >> s >> message;\n\t\tint msz = message.size();\n\t\tfor (int i = s.size() - 1; i >= 0; --i) {\n\t\t\tif (s[i] == 'J') {\n\t\t\t\tmessage = message[msz - 1] + message.substr(0, msz - 1);\n\t\t\t} else if (s[i] == 'C') {\n\t\t\t\tmessage = message.substr(1, msz - 1) + message[0];\n\t\t\t} else if (s[i] == 'E') {\n\t\t\t\tfor (int j = 0; j < msz / 2; ++j) swap(message[j], message[j + (msz + 1) / 2]);\n\t\t\t} else if (s[i] == 'A') {\n\t\t\t\treverse(message.begin(), message.end());\n\t\t\t} else if (s[i] == 'P') {\n\t\t\t\tfor (int j = 0; j < msz; ++j)\n\t\t\t\t\tif (isdigit(message[j])) message[j] = ((message[j] - '0' + 9) % 10) + '0';\n\t\t\t} else if (s[i] == 'M') {\n\t\t\t\tfor (int j = 0; j < msz; ++j)\n\t\t\t\t\tif (isdigit(message[j])) message[j] = ((message[j] - '0' + 1) % 10) + '0';\n\t\t\t}\n\t\t}\n\t\tcout << message << endl;\n\t}\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nvector<char> v;\n\nvoid C(){\n\tv.push_back(v[0]);\n\tv.erase(v.begin());\n}\n\nvoid J(){\n\tv.insert(v.begin(),v[v.size()-1]);\n\tv.pop_back();\n}\n\nvoid E(){\n\tstack<char> st[2];\n\tfor(int i=0;i<v.size()/2;i++){\n\t\tst[0].push(v[i]);\n\t\tst[1].push(v[v.size()-1-i]);\n\t}\n\tfor(int i=0;i<v.size()/2;i++){\n\t\tv[i]=st[1].top();\n\t\tv[v.size()-1-i]=st[0].top();\n\t\tst[0].pop(),st[1].pop();\n\t}\n}\n\nvoid A(){\n\tstack<char> st;\n\tfor(int i=0;i<v.size();i++)st.push(v[i]);\n\tfor(int i=0;i<v.size();i++){\n\t\tv[i]=st.top();\n\t\tst.pop();\n\t}\n}\n\nvoid M(){\n\tfor(int i=0;i<v.size();i++){\n\t\tif(v[i]>='0'&&v[i]<='9'){\n\t\t\tv[i]=((v[i]-'0')+1)%10+'0';\n\t\t}\n\t}\n}\n\nvoid P(){\n\tfor(int i=0;i<v.size();i++){\n\t\tif(v[i]>='0'&&v[i]<='9'){\n\t\t\tv[i]=((v[i]-'0')+9)%10+'0';\n\t\t}\n\t}\n}\n\nint main(){\n\tint n;\n\tstring s,q;\n\tcin>>n;\n\twhile(n--){\n\t\tcin>>s>>q;\n\t\tv.clear();\n\t\tfor(int i=0;i<q.size();i++)v.push_back(q[i]);\n\t\tfor(int i=s.size()-1;i>=0;i--){\n\t\t\tif(s[i]=='J')J();\n\t\t\tif(s[i]=='C')C();\n\t\t\tif(s[i]=='E')E();\n\t\t\tif(s[i]=='A')A();\n\t\t\tif(s[i]=='P')P();\n\t\t\tif(s[i]=='M')M();\n\t\t}\n\t\tfor(int i=0;i<v.size();i++)cout<<v[i];\n\t\tcout<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint main(){\n\tint n;\n\tcin>>n;\n\twhile(n--){\n\t\tstring s,ss;\n\t\tcin>>s>>ss;\n\t\tfor(int i=s.size()-1;i>=0;i--){\n\t\t\tif(s[i]=='P')\n\t\t\t\tfor(int j=0;j<ss.size();j++)\n\t\t\t\t\tif(ss[j]>='0'&&ss[j]<='9')\n\t\t\t\t\t\tss[j]=(ss[j]-'0'+9)%10+'0';\n\t\t\tif(s[i]=='M')\n\t\t\t\tfor(int j=0;j<ss.size();j++)\n\t\t\t\t\tif(ss[j]>='0'&&ss[j]<='9')\n\t\t\t\t\t\tss[j]=(ss[j]-'0'+1)%10+'0';\n\t\t\tif(s[i]=='A')reverse(ss.begin(),ss.end());\n\t\t\tif(s[i]=='E')for(int k=0;k<ss.size()/2;k++)swap(ss[k],ss[(ss.size()+1)/2+k]);\n\t\t\tif(s[i]=='J')ss=ss[ss.size()-1]+ss.substr(0,ss.size()-1);\n\t\t\tif(s[i]=='C')ss=ss.substr(1,ss.size()-1)+s[0];\n\t\t}\n\t\tcout<<ss<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <unordered_map>\n#include <functional>\n\nusing namespace std;\n\n#define repi(i,a,b) for(int i=int(a);i<int(b);i++)\n#define peri(i,a,b) for(int i=int(b);i-->int(a);)\n#define rep(i,n) repi(i,0,n)\n#define per(i,n) peri(i,0,n)\n\nint main()\n{\n\tunordered_map<char,function<string(string)>> inv;\n\tinv['J']=[](string s){\n\t\trotate(s.begin(),s.end()-1,s.end());\n\t\treturn s;\n\t};\n\tinv['C']=[](string s){\n\t\trotate(s.begin(),s.begin()+1,s.end());\n\t\treturn s;\n\t};\n\tinv['E']=[](string s){\n\t\trep(i,s.size()/2) swap(s[i],s[(s.size()+1)/2+i]);\n\t\treturn s;\n\t};\n\tinv['A']=[](string s){\n\t\treturn string(s.rbegin(),s.rend());\n\t};\n\tinv['P']=[](string s){\n\t\tchar ds[]=\"9012345678\";\n\t\trep(i,s.size()) if(isdigit(s[i])) s[i]=ds[s[i]-'0'];\n\t\treturn s;\n\t};\n\tinv['M']=[](string s){\n\t\tchar ds[]=\"1234567890\";\n\t\trep(i,s.size()) if(isdigit(s[i])) s[i]=ds[s[i]-'0'];\n\t\treturn s;\n\t};\n\t\n\tint tc; cin>>tc;\n\twhile(tc--){\n\t\tstring m,s; cin>>m>>s;\n\t\tper(i,m.size()) s=inv[m[i]](s);\n\t\tcout<<s<<endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\nusing namespace std;\nint main()\n{\n\tint n;\n\tcin >> n;\n\twhile (n--)\n\t{\n\t\tstring a, b;\n\t\tcin >> b >> a;\n\t\tbool A = true, C = true, J = true, E = true, P = true, M = true;\n\t\treverse(b.begin(),b.end());\n\t\tfor (int i = 0; i < b.size(); i++)\n\t\t{\n\t\t\tif (b[i] == 'A' && A == true)\n\t\t\t{\n\t\t\t\treverse(a.begin(), a.end());\n\t\t\t\tA = false;\n\t\t\t}\n\t\t\tif (b[i] == 'C' && C == true)\n\t\t\t{\n\t\t\t\tstring temp;\n\t\t\t\ttemp = a[0];\n\t\t\t\ta.erase(a.begin(), a.begin() + 1);\n\t\t\t\ta += temp;\n\t\t\t\tC = false;\n\t\t\t}\n\t\t\tif (b[i] == 'J' && J == true)\n\t\t\t{\n\t\t\t\tstring temp;\n\t\t\t\ttemp = a[a.size() - 1];\n\t\t\t\treverse(a.begin(), a.end());\n\t\t\t\ta.erase(a.begin(), a.begin() + 1);\n\t\t\t\treverse(a.begin(), a.end());\n\t\t\t\ttemp += a;\n\t\t\t\ta.clear();\n\t\t\t\ta = temp;\n\t\t\t\tJ = false;\n\t\t\t}\n\t\t\tif (b[i] == 'E' && E== true)\n\t\t\t{\n\t\t\t\tE = false;\n\t\t\t\tif (a.size() % 2 == 0)\n\t\t\t\t{\n\t\t\t\t\tstring temp, temp2;\n\t\t\t\t\ttemp = a.substr(0, a.size() / 2);\n\t\t\t\t\ttemp2 = a.substr(a.size() / 2, a.size());\n\t\t\t\t\ta.clear();\n\t\t\t\t\ta = temp2 + temp;\n\t\t\t\t}\n\t\t\t\tif (a.size() % 2 != 0)\n\t\t\t\t{\n\t\t\t\t\tstring temp, temp2;\n\t\t\t\t\ttemp = a.substr(0, a.size() / 2+1);\n\t\t\t\t\ttemp2 = a.substr(a.size() / 2 + 1, a.size());\n\t\t\t\t\ta.clear();\n\t\t\t\t\ta.push_back(temp[temp.size() - 1]);\n\t\t\t\t\treverse(temp.begin(), temp.end());\n\t\t\t\t\ttemp.erase(temp.begin(), temp.begin() + 1);\n\t\t\t\t\treverse(temp.begin(), temp.end());\n\t\t\t\t\ttemp2 +=a+temp;\n\t\t\t\t\ta.clear();\n\t\t\t\t\ta = temp2;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (b[i] == 'P' && P == true)\n\t\t\t{\n\t\t\t\tP = false;\n\t\t\t\tfor (int i = 0; i < a.size(); i++)\n\t\t\t\t{\n\t\t\t\t\tif (a[i] >= '0' && a[i] <= '9')\n\t\t\t\t\t{\n\t\t\t\t\t\tif (a[i] == '9')\n\t\t\t\t\t\t\ta[i] = '0';\n\t\t\t\t\t\telse if (a[i] == '0')\n\t\t\t\t\t\t\ta[i] = '9';\n\t\t\t\t\t\telse (int)a[i]--;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (b[i] == 'M' && M == true)\n\t\t\t{\n\t\t\t\tM = false;\n\t\t\t\tfor (int i = 0; i < a.size(); i++)\n\t\t\t\t{\n\t\t\t\t\tif (a[i] >= '0' && a[i] <= '9')\n\t\t\t\t\t{\n\t\t\t\t\t\tif ((int)a[i] == '0')\n\t\t\t\t\t\t\ta[i] = '9';\n\t\t\t\t\t\telse if ((int)a[i] == '9')\n\t\t\t\t\t\t\ta[i] = '0';\n\t\t\t\t\t\telse (int)a[i]++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << a << endl;\n\t}\n\n}"
  },
  {
    "language": "C++",
    "code": "//????¨???????????????????????????????????????????.\n//????????????????????????????????°??????.\n#include <iostream>\n#include <string>\n#include <algorithm>\nusing namespace std;\n\nint n;\nstring people;\nstring result;\n\nstring rshift(string s) {\n\tstring ret;\n\tret += s[s.length() - 1];\n\tfor (int i = 0; i < s.length() - 1; i++) ret += s[i];\n\treturn ret;\n}\n\nstring lshift(string s) {\n\tstring ret;\n\tfor (int i = 1; i < s.length(); i++) ret += s[i];\n\tret += s[0];\n\treturn ret;\n}\n\nstring swaplr(string s) {\n\tstring pre, suf;\n\tfor (int i = 0; i < s.length() / 2; i++) pre += s[i];\n\tfor (int i = 0; i < s.length() - s.length() / 2; i++) suf += s[s.length() / 2 + i];\n\treturn suf + pre;\n}\n\nstring reverse(string s) {\n\tint l = 0, r = s.length() - 1;\n\twhile (l < r) {\n\t\tswap(s[l], s[r]);\n\t\tl++;\n\t\tr--;\n\t}\n\treturn s;\n}\n\nstring decrements(string s) {\n\tfor (int i = 0; i < s.length(); i++) {\n\t\tif ('0' <= s[i] && s[i] <= '9') {\n\t\t\tif (s[i] == '0') s[i] = '9';\n\t\t\telse s[i]--;\n\t\t}\n\t}\n\treturn s;\n}\n\nstring increments(string s) {\n\tfor (int i = 0; i < s.length(); i++) {\n\t\tif ('0' <= s[i] && s[i] <= '9') {\n\t\t\tif (s[i] == '9') s[i] = '0';\n\t\t\telse s[i]++;\n\t\t}\n\t}\n\treturn s;\n}\n\nint main() {\n\tcin >> n;\n\tfor (int i = 0; i < n; i++) {\n\t\tcin >> people >> result;\n\t\tfor (int j = people.length() - 1; j >= 0; j--) {\n\t\t\tchar c = people[j];\n\t\t\tif (c == 'J') result = rshift(result);\n\t\t\tif (c == 'C') result = lshift(result);\n\t\t\tif (c == 'E') result = swaplr(result);\n\t\t\tif (c == 'A') result = reverse(result);\n\t\t\tif (c == 'P') result = decrements(result);\n\t\t\tif (c == 'M') result = increments(result);\n\t\t}\n\t\tcout << result << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <math.h>\n#include <algorithm>\n#include <string>\n#include <stack>\n#include <queue>\n#include <set>\n#include <cstdio>\n#include <string.h>\n#include <sstream>\n#include <iomanip>\n#include <map>\nusing namespace std;\n\n#define REP(i, n) for(int i = 0; i < n; i++)\n#define RREP(i,n) for(int i=(n)-1;i>=0;i--)\n#define FOR(i, b, e) for(int i = b; i < e; i++)\n#define to_bit(i) static_cast< bitset<8> >(i)\n#define INF (1<<28)\n#define int(n) int n; cin >> n;\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef vector<int> VI;\ntypedef vector<string> VS;\ntypedef pair<int, int> PII;\ntypedef pair<long long, long long>PLL;\ntypedef queue<int> QI;\ntypedef priority_queue<int> maxpq;\ntypedef priority_queue<int, vector<int>, greater<int> > minpq;\n\nstruct edge{int to, cost;};\nint gcd(int a, int b){if(a%b==0){return(b);}else{return(gcd(b,a%b));}};\nint lcm(int m, int n){if((0 == m)||(0 == n)){return 0;} return ((m / gcd(m, n)) * n);};\nunsigned long long comb(long n, long m){if(n < m) return 0;\n    unsigned long long c = 1; m = (n - m < m ? n - m : m);\n    for(long ns = n - m + 1, ms = 1; ms <= m; ns ++, ms ++){c *= ns; c /= ms;} return c;};\nint quadratic(int a, int b, int c){return (int)(-b + sqrt(b*b - 4*a*c)) / 2*a;}\n\nvoid cp(int from[], int to[], int l){REP(i, l) to[i] = from[i];};\nvoid cp(string a1[], string a2[], int l){REP(i, l) a2[i] = a1[i];};\ndouble sq(double d){return d*d;};\nint sq(int i){return i*i;};\ndouble sqdist(int x1, int y1, int x2, int y2){\n    double dx = x1 - x2, dy = y1 - y2; return dx*dx + dy*dy;\n};\nbool inside(int y, int x, int h, int w){return 0 <= y && y <= (h-1) && 0 <= x && x <= (w-1);};\n\n\n// 線分の交差判定\nbool isCross(int x1, int y1, int x2, int y2, int x3, int y3, int x4, int y4){\n    // 並行な場合\n    int m = (x2-x1)*(y4-y3)-(y2-y1)*(x4-x3);\n    if(m == 0) return false;\n    // 媒介変数の値が0より大きく1以下なら交差する、これは問題の状況によって変わるかも。\n    double r =(double)((y4-y3)*(x3-x1)-(x4-x3)*(y3-y1))/m;\n    double s =(double)((y2-y1)*(x3-x1)-(x2-x1)*(y3-y1))/m;\n    return (0 < r && r <= 1 && 0 < s && s <= 1);\n};\n\n// 外積の計算 AB CD の内積を求める\nint crossProdct(int ax, int ay, int bx, int by, int cx, int cy, int dx, int dy){\n    int abx = bx - ax; int aby = by - ay;\n    int cdx = dx - cx; int cdy = dy - cy;\n    return abx * cdy - cdx * aby;\n};\ndouble crossProdct(double ax, double ay, double bx, double by, double cx, double cy, double dx, double dy){\n    double abx = bx - ax; double aby = by - ay;\n    double cdx = dx - cx; double cdy = dy - cy;\n    return abx * cdy - cdx * aby;\n};\ndouble innerProduct(double ax, double ay, double bx, double by, double cx, double cy, double dx, double dy){\n    double abx = bx - ax; double aby = by - ay;\n    double cdx = dx - cx; double cdy = dy - cy;\n    return abx * cdx + aby * cdy;\n};\n\n// 三角形の内部判定 ABCの中にPがあるか判定\nbool inTriangle(int ax, int ay, int bx, int by, int cx, int cy, int px, int py){\n    int c1 = crossProdct(ax, ay, bx, by, bx, by, px, py);\n    int c2 = crossProdct(bx, by, cx, cy, cx, cy, px, py);\n    int c3 = crossProdct(cx, cy, ax, ay, ax, ay, px, py);\n    return (c1 > 0 && c2 > 0 && c3 > 0) || (c1 < 0 && c2 < 0 && c3 < 0);\n};\nbool inTriangle(double ax, double ay, double bx, double by, double cx, double cy, double px, double py){\n    double c1 = crossProdct(ax, ay, bx, by, bx, by, px, py);\n    double c2 = crossProdct(bx, by, cx, cy, cx, cy, px, py);\n    double c3 = crossProdct(cx, cy, ax, ay, ax, ay, px, py);\n    return (c1 > 0 && c2 > 0 && c3 > 0) || (c1 < 0 && c2 < 0 && c3 < 0);\n};\n\n// 三角形の外心\nvoid circumcenter(double x1, double y1, double x2, double y2, double x3, double y3, double res[3]){\n    double xp1 = (y1-y3)*(y1*y1-y2*y2+x1*x1-x2*x2) - (y1-y2)*(y1*y1-y3*y3+x1*x1-x3*x3);\n    double xp2 = 2*(y1-y3)*(x1-x2)-2*(y1-y2)*(x1-x3);\n    res[0] = xp1/xp2;\n    double yp1 = (x1-x3)*(x1*x1-x2*x2+y1*y1-y2*y2) - (x1-x2)*(x1*x1-x3*x3+y1*y1-y3*y3);\n    double yp2 = 2*(x1-x3)*(y1-y2)-2*(x1-x2)*(y1-y3);\n    res[1] = yp1/yp2;\n    double r = (x3-res[0])*(x3-res[0])+(y3-res[1])*(y3-res[1]);\n    res[2] = sqrt(r);\n}\n\n\n\nclass BinaryIndexedTree{\npublic:\n    int n; vector<int> bit;\n    BinaryIndexedTree(int _n){\n        n = _n;\n        bit.resize(n+1,0);\n    }\n    int sum(int i){\n        int sum = 0;\n        while(i > 0){\n            sum += bit[i];\n            i -= i & -i;\n        }\n        return sum;\n    }\n    void add(int i, int v){\n        while(i <= n){\n            bit[i] += v;\n            i += i & -i;\n        }\n    }\n};\n\n\nclass UnionFindTree{\npublic:\n    vector<int> parent, rank;\n    int n;\n    int cnt;\n    // 初期化\n    UnionFindTree(int _n){\n        n = _n;\n        parent.resize(n);\n        rank.resize(n);\n        for(int i = 0; i < n; i++){\n            parent[i] = i;\n            rank[i] = 0;\n        }\n        cnt = n;\n    }\n    // 根を求める\n    int find(int x){\n        if(parent[x] == x){\n            return x;\n        }else{\n            return parent[x] = find(parent[x]);\n        }\n    }\n    // xとyの集合を結合\n    void unite(int x, int y){\n        x = find(x);\n        y = find(y);\n        if(x == y){\n            // set.insert(x);\n            return;\n        }\n        if(rank[x] < rank[y]){\n            parent[x] = y;\n            cnt--;\n        }else{\n            parent[y] = x;\n            if(rank[x] == rank[y]) rank[x]++;\n            cnt--;\n        }\n    }\n    // xとyが同じ集合か\n    bool same(int x, int y){\n        return find(x) == find(y);\n    }\n};\n\n\n\n// ワーシャルフロイド法\nvoid warshallFloyd(int graph[100][100], int graph_size){\n    for(int mid_node = 0; mid_node < graph_size; mid_node++)\n        for(int s_node = 0; s_node < graph_size; s_node++)\n            for(int g_node = 0; g_node < graph_size; g_node++)\n                if(s_node == g_node) graph[s_node][g_node] = 0;\n                else graph[s_node][g_node] = min(graph[s_node][g_node], graph[s_node][mid_node] + graph[mid_node][g_node]);\n};\n\n\n// d:隣接行列  n:グラフのサイズ  s:始点  dist:始点からの距離が入る配列\nvoid dijkstra(int graph[1000][1000], int node_count, int start_node, int distances[1000]){\n    // 距離を-1で初期化\n    REP(i, node_count) distances[i] = -1;\n    distances[start_node] = 0;\n    // pair<int,int> で最初のintでソートされるプライオリティキュー\n    priority_queue<PII, vector<PII>, greater<PII> > dijkstra_pq;\n    dijkstra_pq.push(PII(0, start_node));\n    while (!dijkstra_pq.empty()) {\n        PII p = dijkstra_pq.top(); dijkstra_pq.pop();\n        int i = p.second;\n        // popしたノードの最短距離が、既にわかっているものより小さかったらそのまま捨てる\n        if(distances[i] < p.first) continue;\n        // ノードを見る\n        for(int j = 0; j < node_count; j++){\n            if(graph[i][j] == -1) continue;\n            if(distances[j] == -1){\n                distances[j] = distances[i] + graph[i][j];\n                dijkstra_pq.push(PII(distances[j], j));\n            }else if(distances[j] > distances[i] + graph[i][j]){\n                distances[j] = distances[i] + graph[i][j];\n                dijkstra_pq.push(PII(distances[j], j));\n            }\n        }\n    }\n};\n\n\n\n\n/**\n * start\n * @author yoshikyoto\n */\n\n\nint mfdfs(int curr, int goal, int min_flow, int used[105], int g[105][105], int n){\n    cout << \"dfs\" << endl;\n    if(curr == goal) return min_flow;\n    REP(next, n){\n        if(g[curr][next] && !used[next]){\n            used[next] = 1;\n            int flow = mfdfs(next, goal, min(min_flow, g[curr][next]), used, g, n);\n            if(flow){\n                g[curr][next] -= flow;\n                g[next][curr] += flow;\n                return flow;\n            }\n        }\n    }\n    return 0;\n}\n\nint max_flow(int g[105][105], int n, int s, int t){\n    int flow = 0;\n    while(true){\n        int used[105];\n        REP(i, n) used[i] = 0;\n        used[s] = 1;\n        int tmp_flow = mfdfs(s, t, INF, used, g, n);\n        if(tmp_flow == 0) return flow;\n        flow += tmp_flow;\n    }\n}\n\n\nchar e[52] = {'a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z','A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z'};\n\nint toi(char c){\n    if('A' <= c && c <= 'Z')\n        return 26 + c - 'A';\n    else\n        return c - 'a';\n}\n\nint main(int argc, const char * argv[]){\n    int n;\n    cin >> n;\n    REP(ngaifdjdfdizvo, n){\n        string p, msg;\n        cin >> p >> msg;\n        int l = (int)msg.length();\n        int pl = (int)p.length();\n        \n        RREP(rTurnAGundam1isdefferentf,pl){\n            switch (p[rTurnAGundam1isdefferentf]) {\n                case 'J':\n                {\n                    char tmp = msg[l-1];\n                    for(int j = l-1; j > 0; j--) msg[j] = msg[j-1];\n                    msg[0] = tmp;\n                    break;\n                }\n                    \n                case 'C':\n                {\n                    char tmp = msg[0];\n                    for(int j = 0; j < l-1; j++) msg[j] = msg[j+1];\n                    msg[l-1] = tmp;\n                    break;\n                }\n                case 'E':\n                {\n                    int h = ceil(l/2.);\n                    for(int j = 0; j < l/2; j++){\n                        swap(msg[j], msg[j+h]);\n                    }\n                    break;\n                }\n                case 'A':\n                {\n                    for(int j = 0; j < l/2; j++){\n                        swap(msg[j], msg[l-j-1]);\n                    }\n                    break;\n                }\n                case 'P':\n                {\n                    for(int j = 0; j < l; j++){\n                        if('0' <= msg[j] && msg[j] <= '9'){\n                            msg[j] = (char)('0' + (msg[j] - '0' + 9) % 10);\n                        }\n                    }\n                    break;\n                }\n                case 'M':\n                {\n                    for(int j = 0; j < l; j++){\n                        if('0' <= msg[j] && msg[j] <= '9'){\n                            msg[j] = (char)('0' + (msg[j] - '0' + 1) % 10);\n                        }\n                    }\n                    break;\n                }\n            }\n        }\n        cout << msg << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\n#include<map>\n#include<set>\n#include<utility>\n#include<vector>\n#include<cmath>\n#include<cstdio>\n#define loop(i,a,b) for(int i=a;i<b;i++) \n#define rep(i,a) loop(i,0,a)\n#define pb push_back\n#define mp make_pair\n#define it ::iterator\n#define all(in) in.begin(),in.end()\nconst double PI=acos(-1);\nconst double ESP=1e-10;\nusing namespace std;\nint main(){\n\tint n;\n\tcin>>n;\n\twhile(n--){\n\t\tstring a,s;\n\t\tcin>>a>>s;\n\t\treverse(all(a));\n\t\trep(i,a.size()){\n\t\t\tif(a[i]=='A')\n\t\t\t\treverse(all(s));\n\t\t\telse if(a[i]=='J')\n\t\t\t\ts=s.substr(s.size()-1)+s.substr(0,s.size()-1);\n\t\t\telse if(a[i]=='M'){\n\t\t\t\trep(j,s.size())if(isdigit(s[j])){\n\t\t\t\t\ts[j]++;\n\t\t\t\t\tif(s[j]=='9'+1)s[j]='0';\n\t\t\t\t}\n\t\t\t}else if(a[i]=='P'){\n\t\t\t\trep(j,s.size())if(isdigit(s[j])){\n\t\t\t\t\ts[j]--;\n\t\t\t\t\tif(s[j]=='0'-1)s[j]='9';\n\t\t\t\t}\n\t\t\t}else if(a[i]=='C')\n\t\t\t\ts=s.substr(1)+s.substr(0,1);\n\t\t\telse if(a[i]=='E'){\n\t\t\t\tstring tmp=\"\";\n\t\t\t\tint t=0;\n\t\t\t\tif(s.size()%2){t=1;tmp=s[s.size()/2];}\n\t\t\t\ts=s.substr(s.size()/2+t)+tmp+s.substr(0,s.size()/2);\n\t\t\t}\n\t\t}\n\t\tcout<<s<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <cmath>\n#include <algorithm>\n#include <cstdlib>\n#include <ctime>\n#include <cstdio>\n#include <functional>\n#include <set>\n#include <sstream>\n#include <map>\n#include <queue>\n \nusing namespace std;\n\n\n//Mr. J ???????????????\nvoid decJ(string& s)\n{\n\tstring res;\n\tfor(int i=0;i<s.size();i++) res+=s[(s.size()-1+i)%s.size()];\n\ts=res;\n}\n\n//Miss C ???????????????\nvoid decC(string& s)\n{\n\tstring res;\n\tfor(int i=0;i<s.size();i++) res+=s[(1+i)%s.size()];\n\ts=res;\n}\n\n//Mr.E ???????????\\????????????\nvoid decE(string& s)\n{\n\tif(s.size()%2){\n\t\tstring left=s.substr(0,s.size()/2);\n\t\tchar mid=s[s.size()/2];\n\t\tstring right=s.substr(s.size()/2+1);\n\t\ts=right+mid+left;\n\t}else{\n\t\tstring left=s.substr(0,s.size()/2);\n\t\tstring right=s.substr(s.size()/2);\n\t\ts=right+left;\n\t}\n}\n\n//Mr.A ?????¢\nvoid decA(string& s)\n{\n\treverse(s.begin(),s.end());\n}\n\n//Dr. P\t??°???++\nvoid decP(string &s)\n{\n\tfor(int i=0;i<s.size();i++){\n\t\tif(s[i]=='0') s[i]='9';\n\t\telse if('0'<=s[i] && s[i]<='9' ) s[i]--;\n\t}\n}\n\n//Mr.M ??°???--\nvoid decM(string &s)\n{\n\tfor(int i=0;i<s.size();i++){\n\t\tif(s[i]=='9') s[i]='0';\n\t\telse if('0'<=s[i] && s[i]<='9' ) s[i]++;\n\t}\n}\n\n\nint main()\n{\n\tint n;\n\tcin>>n;\n\n\tfor(int i=0;i<n;i++){\n\t\tstring order,given;\n\t\tcin>>order>>given;\n\n\t\t//JCEAPM\n\t\tfor(int j=order.size()-1;j>=0;j--){\n\t\t\tif(order[j]=='J') decJ(given);\n\t\t\telse if(order[j]=='C') decC(given);\n\t\t\telse if(order[j]=='E') decE(given);\n\t\t\telse if(order[j]=='A') decA(given);\n\t\t\telse if(order[j]=='P') decP(given);\n\t\t\telse decM(given);\n\t\t}\n\t\tcout<<given<<endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\nusing namespace std;\n\nint main()\n{\n  int n;\n  string s, m;\n  cin >> n;\n  for(int i = 0; i < n; i++)\n  {\n    cin >> m >> s;\n    for(int j = m.length() - 1; j >= 0; j--)\n    {\n      switch(m[j])\n      {\n        case 'C':\n          s = s.substr(1, s.length() - 1) + s[0];\n          break;\n        case 'J':\n          s = s[s.length() - 1] + s.substr(0, s.length() - 1);\n          break;\n        case 'E':\n          {\n            int a = s.length() / 2, b = s.length() % 2;\n            s = s.substr(a + b, a) + (b ? s.substr(a + 1, 1) : \"\") + s.substr(0, a);\n          }\n          break;\n        case 'A':\n          //reverse(s.begin(), s.end());\n          break;\n        case 'M':\n          for(int k = 0; k < s.length(); k++)\n            if(s[k] >= '0' && s[k] <= '9')\n              s[k] = (s[k] - '0' + 1) % 10 + '0';\n          break;\n        case 'P':\n          for(int k = 0; k < s.length(); k++)\n            if(s[k] >= '0' && s[k] <= '9')\n              s[k] = (s[k] - '0' - 1) % 10 + '0';\n          break;\n      }\n    }\n    cout << s << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <algorithm>\nusing std::swap;\n\nvoid J(char s[], int len){\n    char tmp = s[len-1];\n    for(int i=len-1;i>0;i--){\n        s[i] = s[i-1];\n    }s[0] = tmp;\n}\nvoid C(char s[], int len){\n    char tmp = s[0];\n    for(int i=0;i<len-1;i++){\n        s[i] = s[i+1];\n    }s[len-1] = tmp;\n}\nvoid E(char s[], int len){\n    int mid = len/2;\n    for(int i=0;i<mid;i++){\n        swap(s[i], s[len-mid+i]);\n    }\n}\nvoid A(char s[], int len){\n    char tmp = s[len-1];\n    for(int i=0;i<len-1-i;i++){\n        swap(s[i], s[len-1-i]);\n    }\n}\nvoid P(char s[], int len){\n    for(int i=0;i<len-1;i++){\n        if('0'<=s[i] && s[i]<='9'){\n            s[i] = '0'+(s[i]-'0'+9)%10;\n        }\n    }\n}\nvoid M(char s[], int len){\n    for(int i=0;i<len-1;i++){\n        if('0'<=s[i] && s[i]<='9'){\n            s[i] = '0'+(s[i]-'0'+1)%10;\n        }\n    }\n}\n\nint main(){\n    int N;\n    scanf(\"%d\", &N);\n    while(N--){\n        char s1[50], s2[50];\n        scanf(\"%s %s\", s1, s2);\n        int len1;\n        for(len1=0 ; s1[len1]!='\\0' ; len1++);\n        int len2;\n        for(len2=0 ; s2[len2]!='\\0' ; len2++);\n        \n        for(int i=len1-1;i>=0;i--){\n            if(s1[i] == 'J') J(s2, len2);\n            if(s1[i] == 'C') C(s2, len2);\n            if(s1[i] == 'E') E(s2, len2);\n            if(s1[i] == 'A') A(s2, len2);\n            if(s1[i] == 'P') P(s2, len2);\n            if(s1[i] == 'M') M(s2, len2);\n        }\n        printf(\"%s\\n\", s2);\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <deque>\n#include <string>\nusing namespace std;\n\nint main(){\n\tint n;\n\tstring s,t;\n\tchar c,d;\n\tdeque<char> de,sub;\n\tcin >> n;\n\tfor(int i = 0;i < n;i++){\n\t\tcin >> s >> t;\n\t\tde.clear();\n\t\tfor(int j = 0;j < t.size();j++){\n\t\t\tde.push_back(t[j]);\n\t\t}\n\t\tfor(int j = s.size()-1;j >= 0;j--){\n\t\t\t//cout << s[j] <<endl;\n\t\t\tif(s[j] == 'C'){\n\t\t\t\tc = de.front();\n\t\t\t\tde.pop_front();\n\t\t\t\tde.push_back(c);\n\t\t\t}\n\t\t\telse if(s[j] == 'J'){\n\t\t\t\tc = de.back();\n\t\t\t\tde.pop_back();\n\t\t\t\tde.push_front(c);\n\t\t\t}\n\t\t\telse if(s[j] == 'A'){\n\t\t\t\tfor(int k = 0;k <= de.size()/2;k++){\n\t\t\t\t\tswap(de[k],de[de.size()-k-1]);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(s[j] == 'E'){\n\t\t\t\tif(de.size()%2 == 1){\n\t\t\t\t\tfor(int k = 0;k < t.size()/2;k++){\n\t\t\t\t\t\tc = de.back();\n\t\t\t\t\t\tde.pop_back();\n\t\t\t\t\t\tsub.push_front(c);\n\t\t\t\t\t}\n\t\t\t\t\tc = de.back();\n\t\t\t\t\tde.pop_back();\n\t\t\t\t\tde.push_front(c);\n\t\t\t\t\t//cout << c << endl;\n\t\t\t\t\twhile(!sub.empty()){\n\t\t\t\t\t\tc = sub.back();\n\t\t\t\t\t\tsub.pop_back();\n\t\t\t\t\t\tde.push_front(c);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tfor(int k = 0;k < de.size()/2;k++){\n\t\t\t\t\t\tc = de.front();\n\t\t\t\t\t\tde.pop_front();\n\t\t\t\t\t\tde.push_back(c);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(s[j] == 'M'){\n\t\t\t\tfor(int k = 0;k < de.size();k++){\n\t\t\t\t\tif(de[k] >= '0' && de[k] <='8'){\n\t\t\t\t\t\tde[k]++;\n\t\t\t\t\t}\n\t\t\t\t\telse if(de[k] == '9'){\n\t\t\t\t\t\tde[k] = '0';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(s[j] == 'P'){\n\t\t\t\tfor(int k = 0;k < de.size();k++){\n\t\t\t\t\tif(de[k] >= '1' && de[k] <='9'){\n\t\t\t\t\t\tde[k]--;\n\t\t\t\t\t}\n\t\t\t\t\telse if(de[k] == '0'){\n\t\t\t\t\t\tde[k] = '9';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor(int j = 0;j < de.size();j++){\n\t\t\tcout << de[j];\n\t\t\tif(j == de.size()-1)cout <<endl;\n\t\t}\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <cctype>\n#include <string>\nusing namespace std;\n \nstring oom, mes;\n \n \nvoid rJ() {\n  const string tmp = mes;\n  mes = tmp[tmp.length()-1] + tmp.substr(0, tmp.length()-1);\n}\nvoid rC() {\n  const string tmp = mes;\n  mes = tmp.substr(1) + tmp[0];\n}\nvoid rE() {\n  string l = mes.substr(0, mes.length()/2);\n  string r = mes.substr((mes.length()+1)/2);\n  if(mes.length() % 2 != 0) {\n    mes = r + mes[mes.length()/2] + l;\n  } else {\n    mes = r + l;\n  }\n}\nvoid rA() {\n  reverse(mes.begin(), mes.end());\n}\n \nvoid rP() {\n  for(int i = 0; i < mes.length(); ++i) {\n    if(isdigit(mes[i])) {\n      mes[i] = (mes[i]-'0'+9)%10+'0';\n    }\n  }\n}\nvoid rM() {\n  for(int i = 0; i < mes.length(); ++i) {\n    if(isdigit(mes[i])) {\n      mes[i] = (mes[i]-'0'+1)%10+'0';\n    }\n  }\n}\n \nvoid solve() {\n  reverse(oom.begin(), oom.end());\n  for(int i = 0; i < oom.length(); ++i) {\n    switch(oom[i]) {\n    case 'J': rJ(); break;\n    case 'C': rC(); break;\n    case 'E': rE(); break;\n    case 'A': rA(); break;\n    case 'P': rP(); break;\n    case 'M': rM(); break;\n    }\n  }\n  cout << mes << endl;\n}\n \nmain() {\n  int n;\n  cin >> n;\n  for(int i = 0; i < n; ++i) {\n    cin >> oom;\n    cin >> mes;\n    solve();\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nstring o, m;\n\nvoid solve() {\n\tint len = (int)o.size();\n\tint sz = (int)m.size();\n\t\n\tfor (int i = len - 1; i >= 0; i--) {\n\t\tswitch (o[i]) {\n\t\tcase 'J':\n\t\t\tif (sz == 1) break;\n\t\t\tm = m[sz - 1] + m.substr(0, sz - 1);\n\t\t\tbreak;\n\t\tcase 'C':\n\t\t\tif (sz == 1) break;\n\t\t\tm = m.substr(1, sz - 1) + m[0];\n\t\t\tbreak;\n\t\tcase 'E':\n\t\t\tif (sz == 1) break;\n\t\t\tif (sz % 2) {\n\t\t\t\tm = m.substr(sz / 2 + 1, sz / 2) + m[sz / 1] + m.substr(0, sz / 2);\n\t\t\t} else {\n\t\t\t\tm = m.substr(sz / 2, sz / 2) + m.substr(0, sz / 2);\n\t\t\t}\n\t\t\tbreak;\n\t\tcase 'A':\n\t\t\treverse(m.begin(), m.end());\n\t\t\tbreak;\n\t\tcase 'P':\n\t\t\tfor (int i = 0; i < sz; i++) {\n\t\t\t\tif ('1' <= m[i] && m[i] <= '9') {\n\t\t\t\t\tchar c = m[i] - 1;\n\t\t\t\t\tm[i] = c;\n\t\t\t\t} else if (m[i] == '0') m[i] = '9';\n\t\t\t}\n\t\t\tbreak;\n\t\tcase 'M':\n\t\t\tfor (int i = 0; i < sz; i++) {\n\t\t\t\tif ('0' <= m[i] && m[i] <= '8') {\n\t\t\t\t\tchar c = m[i] + 1;\n\t\t\t\t\tm[i] = c;\n\t\t\t\t} else if (m[i] == '9') m[i] = '0';\n\t\t\t}\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\t\n\tcout << m << endl;\n}\n\nint main() {\n\tint n; cin >> n;\n\t\n\tfor (int i = 0; i < n; i++) {\n\t\tcin >> o;\n\t\tcin >> m;\n\t\tsolve();\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\nstring change(string mes, char o)\n{\n  if(o=='A')\n    {\n      reverse(mes.begin(),mes.end());      \n    } \n  if(o=='J')\n    {\n      char tmp=mes[mes.size()-1];\n      mes.erase(mes.size()-1);\n      mes=tmp+mes;\n    } \n  if(o=='M')\n    {\n      for(int i=0;i<mes.size();i++)\n\t{\n \t  if(mes[i]>='0'&&mes[i]<='9')\n\t    {\n\t      if(mes[i]=='9')\n\t\tmes[i]='0';\n\t      else\n\t\tmes[i]++;\n\t    }\n\t}\n    } \n if(o=='P')\n   {\n     for(int i=0;i<mes.size();i++)\n\t{\n \t  if(mes[i]>='0'&&mes[i]<='9')\n\t    {\n\t      if(mes[i]=='0')\n\t\tmes[i]='9';\n\t      else\n\t\tmes[i]--;\n\t    }\n\t}\n   }\n if(o=='E')\n   {\n     int diff=(mes.size()/2.0)+0.9;\n     for(int i=0;i<mes.size()/2;i++)\n\t{\n\t  swap(mes[i],mes[i+diff]);\n\t}\n   }\n if(o=='C')\n   {\n      char tmp=mes[0];\n      mes.erase(0,1);\n      mes+=tmp;\n   }\n \n return mes;\n \n}\n\nint main()\n{\n  int n;\n  cin>>n;\n  for(;n--;)\n    {\n      string order;\n      string mes;\n      cin>>order;\n      cin>>mes;\n      for(int i=order.size()-1;i>=0;i--)\n\t{\n\t  mes=change(mes,order[i]);\n\t}\n      cout<<mes<<endl;\n    }\n  \n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\nusing namespace std;\n\nstring A(string s){\n  reverse(s.begin(), s.end());\n  return s;\n}\nstring C(string s){\n  return s.substr(1, s.length() - 1) + s[0];\n}\nstring J(string s){\n  return s.back() + s.substr(0, s.length() - 1);\n}\nstring E(string s){\n  string res = s.substr((s.length() + 1)/2);\n  if(s.length()%2 != 0)res += s[s.length()/2];\n  res += s.substr(0, s.length()/2);\n  return res;\n}\n\nstring M(string s){\n  string res = s;\n  for (int i = 0; i < s.length(); i++) {\n    if('0' <= res[i] and res[i] < '9'){\n      res[i]++;\n    }else if(res[i] == '9'){\n      res[i] = '0';\n    }\n  }\n  return res;\n}\n\nstring P(string s){\n  string res = s;\n  for (int i = 0; i < s.length(); i++) {\n    if('0' < res[i] and res[i] <= '9'){\n      res[i]--;\n    }else if(res[i] == '0'){\n      res[i] = '9';\n    }\n  }\n  return res;\n}\n\nint main(){\n  int n;\n  std::cin >> n;\n  for (int roop = 0; roop < n; roop++) {\n    string ope, s;\n    std::cin >> ope >> s;\n    reverse(ope.begin(), ope.end());\n    for (int i = 0; i < ope.length(); i++) {\n      if(ope[i] == 'A'){\n        s = A(s);\n      }else if(ope[i] == 'E'){\n        s = E(s);\n      }else if(ope[i] == 'C'){\n        s = C(s);\n      }else if(ope[i] == 'J'){\n        s = J(s);\n      }else if(ope[i] == 'M'){\n        s = M(s);\n      }else if(ope[i] == 'P'){\n        s = P(s);\n      }else{\n        std::cerr << \"hoge\" << std::endl;\n      }\n    }\n    std::cout << s << std::endl;\n\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std ;\n\n#define pb(n) push_back(n)\n#define fi first\n#define se second\n#define all(r) (r).begin(),(r).end()\n#define vmax(ary) *max_element(all(ary))\n#define vmin(ary) *min_element(all(ary))\n#define debug(x) cout<<#x<<\": \"<<x<<endl\n#define fcout(n) cout<<fixed<<setprecision((n))\n#define scout(n) cout<<setw(n)\n#define vary(type,name,size,init) vector< type> name(size,init)\n#define vvl(v,w,h,init) vector<vector<ll>> v(w,vector<ll>(h,init))\n#define mp(a,b) make_pair(a,b)\n\n#define rep(i,n) for(int i = 0; i < (int)(n);++i)\n#define REP(i,a,b) for(int i = (a);i < (int)(b);++i)\n#define repi(it,array) for(auto it = array.begin(),end = array.end(); it != end;++it)\n#define repa(n,array) for(auto &n :(array))\n\nusing ll = long long;\nusing vi = vector<int>;\nusing vl = vector<ll>;\nusing dict = map<string,int>;\nusing pii = pair<int,int> ;\nusing pll = pair<ll,ll> ;\n\nconst int mod = 1000000007;\nconstexpr int inf = ((1<<30)-1)*2+1 ;\nconstexpr double PI = acos(-1.0) ;\ndouble eps = 1e-10 ;\nconst int dy[] = {-1,0,1,0,1,-1,1,-1};\nconst int dx[] = {0,-1,0,1,1,-1,-1,1};\n\ninline bool value(int x,int y,int w,int h){\n  return (x >= 0 && x < w && y >= 0 && y < h);\n}\n\ntemplate<typename T>\nvoid Unique(vector<T> &v){\n  sort(all(v));\n  v.erase(unique(all(v)),v.end());\n}\ntemplate<typename T,typename U>\nll FindErase(T &v,U tar){\n  ll cnt = 0;\n  for(auto it = v.begin(); it != v.end();){\n    if(*it == tar){\n      it = v.erase(it);\n      ++cnt;\n    }\n    else{\n      ++it;\n    }\n  }\n  return cnt;\n}\n\ntemplate<typename T>\nbool SuffixErase(T &v,size_t suf){\n  if(suf > v.size()) return false;\n  for(auto it = v.begin(); it != v.end();){\n    if(distance(v.begin(),it) == suf){\n      v.erase(it);\n      return true;\n    }\n    else{\n      ++it;\n    }\n  }\n  return false;\n}\n\ntemplate<typename T>\nT ston(string& str, T n){\n  istringstream sin(str) ;\n  T num ;\n  sin >> num ;\n  return num ;\n}\n\nint main(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n  int n;\n  cin >> n;\n  string s,s2;\n  rep(i,n){\n    ll k = 0;\n    cin >> s;\n    cin >> s2;\n    k = s2.size();\n    for(int j = s.size()-1; j >=0 ; --j){\n      if(s[j] == 'C'){\n        s2 += s2;\n        s2 = s2.substr(1,k);\n      }\n      else if(s[j] == 'J'){\n        s2 += s2;\n        s2 = s2.substr(k-1,k);\n      }\n      else if(s[j] == 'E'){\n        if(s2.size() % 2 == 0)\n          rotate(s2.begin(),s2.begin()+s2.size()/2,s2.end());\n        else{\n          s2 = s2.substr(s2.size()/2+1) + s2[s2.size()/2] + s2.substr(0,s2.size()/2);\n        }\n      }\n      else if(s[j] == 'A'){\n        reverse(all(s2));\n      }\n      else if(s[j] == 'M'){\n        rep(l,s2.size()){\n          if(isdigit(s2[l])){\n            if(s2[l] != '9'){\n              s2[l]++;\n            }\n            else{\n              s2[l] = '0';\n            }\n          }\n        }\n      }\n      else if(s[j] == 'P'){\n        rep(l,s2.size()){\n          if(isdigit(s2[l])){\n            if(s2[l] != '0'){\n              s2[l]--;\n            }\n            else{\n              s2[l] = '9';\n            }\n          }\n        }\n      }\n    }\n    cout << s2 << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <stdio.h>\n#include <cstdio>\n#include <algorithm>\nusing namespace std;\n\nint main(){\n    int n;\n    cin >> n;\n    while( n-- ){\n        string p, m;\n        cin >> p >> m;\n        reverse( p.begin(), p.end() );\n        for( size_t i = 0; i < p.length(); i++ ){\n            switch(p[i]){\n                case 'J':{\n                    char tmp = m[m.length() - 1];\n                    for( size_t j = m.length() - 1; j > 0; j-- ){\n                        //if( j == 0 ){\n                        //}else{\n                            m[j] = m[j-1];\n                        //}\n                        //cout << m[j] << endl;\n                    }\n                    m[0] = tmp;\n                    break;\n                }case 'C':{\n                    char tmp = m[0];\n                    for( size_t j = 0; j < m.length(); j++ ){\n                        if( j == m.length() - 1 ) m[j] = tmp;\n                        else m[j] = m[j+1];\n                    }\n                    break;\n                }case 'E':{\n                    string tmp = m.substr( 0, (m.length() ) / 2 );\n                    m.replace( 0, (m.length() ) / 2, &m[(m.length()+1)/2] );\n                    m.replace( (m.length() + 1)/ 2, tmp.length(), tmp );\n                    break;\n                }case 'A':{\n                    reverse( m.begin(), m.end() );\n                    break;\n                }case 'P':{\n                    for( size_t j = 0; j < m.length(); j++ ){\n                        if( '1' <= m[j] && m[j] <= '9' ){\n                            m[j]--;\n                        }else if( '0' == m[j] ){\n                            m[j] = '9';\n                        }\n                    }\n                    break;\n                }case 'M':{\n                    for( size_t j = 0; j < m.length(); j++ ){\n                        if( '0' <= m[j] && m[j] <= '8' ){\n                            m[j]++;\n                        }else if( '9' == m[j] ){\n                            m[j] = '0';\n                        }\n                    }\n                    break;\n                }\n            }\n        }\n        cout << m << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n\n#define REP(i,n) for(ll i=0;i<n;++i)\n#define RREP(i,n) for(ll i=n-1;i>=0;--i)\n#define FOR(i,m,n) for(ll i=m;i<n;++i)\n#define RFOR(i,m,n) for(ll i=n-1;i>=m;--i)\n#define ALL(v) (v).begin(),(v).end()\n#define PB(a) push_back(a)\n#define UNIQUE(v) v.erase(unique(ALL(v)),v.end());\n#define DUMP(v) REP(i, (v).size()) { cout << v[i]; if (i != v.size() - 1)cout << \" \"; else cout << endl; }\n#define INF 1000000001ll\n#define MOD 1000000007ll\n#define EPS 1e-9\n\nconst int dx[8] = { 1,1,0,-1,-1,-1,0,1 };\nconst int dy[8] = { 0,1,1,1,0,-1,-1,-1 };\n\n\nusing namespace std;\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<ll> vl;\ntypedef vector<vi> vvi;\ntypedef vector<vl> vvl;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\nll max(ll a, int b) { return max(a, ll(b)); }\nll max(int a, ll b) { return max(ll(a), b); }\n///(?´????????`)(?´????????`)(?´????????`)(?´????????`)(?´????????`)(?´????????`)///\nchar next(char c) {\n\tif (isdigit(c)) {\n\t\tif (c == '9')return '0';\n\t\telse return c + 1;\n\t}\n\treturn c;\n}\nchar form(char c) {\n\tif (isdigit(c)) {\n\t\tif (c == '0')return '9';\n\t\treturn c - 1;\n\t}\n\treturn c;\n}\nint main() {\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\tint n;\n\tcin >> n;\n\tREP(j, n) {\n\t\tstring v, s;\n\t\tcin >> v >> s;\n\t\treverse(ALL(v));\n\t\tREP(i, v.size()) {\n\t\t\tif (v[i] == 'C') {\n\t\t\t\tchar c = s[0];\n\t\t\t\tREP(k, s.size() - 1) {\n\t\t\t\t\ts[k] = s[k + 1];\n\t\t\t\t}\n\t\t\t\ts[s.size() - 1] = c;\n\t\t\t}\n\t\t\telse if (v[i] == 'J') {\n\t\t\t\tchar c = s[s.size() - 1];\n\t\t\t\tRREP(k, s.size() - 1) {\n\t\t\t\t\ts[k + 1] = s[k];\n\t\t\t\t}\n\t\t\t\ts[0] = c;\n\t\t\t}\n\t\t\telse if (v[i] == 'E') {\n\t\t\t\tint c = s.size() / 2;\n\t\t\t\tstring tmp = s.substr(0, c);\n\t\t\t\tREP(k, c) {\n\t\t\t\t\ts[k] = s[s.size() - c + k];\n\t\t\t\t}\n\t\t\t\tREP(k, c) {\n\t\t\t\t\ts[s.size() - c + k] = tmp[k];\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (v[i] == 'A') {\n\t\t\t\tREP(k, s.size() / 2) {\n\t\t\t\t\tswap(s[k], s[s.size() - 1 - k]);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (v[i] == 'P') {\n\t\t\t\tREP(k, s.size()) {\n\t\t\t\t\ts[k] = form(s[k]);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (v[i] == 'M') {\n\t\t\t\tREP(k, s.size()) {\n\t\t\t\t\ts[k] = next(s[k]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcout << s << endl;\n\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "//http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=1276\n#include <iostream>\n#include <string>\n#include <vector>\n#include <set>\n#include <cmath>\n#include <algorithm>\n#include <iomanip>\n#include <queue>\nusing ll = long long;\nusing namespace std;\n\nint const MOD = 1e9 + 7;\nbool sieve[2000000];\nint main(void)\n{\n    int n;\n    cin >> n;\n    for (int k = 0; k < n; ++k)\n    {\n        string order, mes;\n        cin >> order >> mes;\n        reverse(order.begin(), order.end());\n        for (int j = 0; j < order.size(); ++j)\n        {\n            switch (order[j])\n            {\n            case 'A':\n                reverse(mes.begin(), mes.end());\n                break;\n            case 'J':\n                rotate(mes.begin(), mes.begin() + mes.size() - 1, mes.end());\n                break;\n            case 'C':\n                rotate(mes.begin(), mes.begin() + 1, mes.end());\n                break;\n            case 'E':\n                for (int i = 0; i < mes.size() / 2; ++i)\n                {\n                    swap(mes[i], mes[(mes.size() + 1) / 2 + i]);\n                }\n                break;\n            case 'M':\n                for (int i = 0; i < mes.size(); ++i)\n                {\n                    if (mes[i] >= '0' && mes[i] <= '8')\n                    {\n                        mes[i] = (char)(mes[i] + 1);\n                        continue;\n                    }\n                    if (mes[i] == '9')\n                        mes[i] = '0';\n                }\n                break;\n            case 'P':\n                for (int i = 0; i < mes.size(); ++i)\n                {\n                    if (mes[i] >= '1' && mes[i] <= '9')\n                    {\n                        mes[i] = (char)(mes[i] - 1);\n                        continue;\n                    }\n                    if (mes[i] == '0')\n                        mes[i] = '9';\n                }\n                break;\n            }\n        }\n        cout << mes << endl;\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\n\nstring cj(string s){\n\tstring tmp(s.size(),0);\n\tfor(int i=0;i<s.size()-1;i++){\n\t\ttmp[i]=s[i+1];\n\t}\n\ttmp[s.size()-1]=s[0];\n\treturn tmp;\n}\n\nstring cc(string s){\n\tstring tmp(s.size(),0);\n\tfor(int i=1;i<s.size();i++){\n\t\ttmp[i]=s[i-1];\n\t}\n\ttmp[0]=s[s.size()-1];\n\treturn tmp;\n}\n\nstring ce(string s){\n\tstring tmp(s.size(),0);\n\tfor(int i=0;i<s.size()/2;i++){\n\t\ttmp[i]=s[s.size()-s.size()/2+i];\n\t\ttmp[s.size()-s.size()/2+i]=s[i];\n\t}\n\tif(s.size()%2==1)tmp[s.size()/2]=s[s.size()/2];\n\treturn tmp;\n}\n\nstring ca(string s){\n\tstring tmp(s.size(),0);\n\tfor(int i=0;i<s.size();i++){\n\t\ttmp[i]=s[s.size()-1-i];\n\t}\n\treturn tmp;\n}\n\nstring cp(string s){\n\tfor(int i=0;i<s.size();i++){\n\t\tif(s[i]>='0'&&s[i]<='8'){\n\t\t\tint x=s[i]-'0';\n\t\t\tx++;\n\t\t\tchar c=x+'0';\n\t\t\ts[i]=c;\n\t\t}else if(s[i]=='9')s[i]='0';\n\t}\n\treturn s;\n}\n\nstring cm(string s){\n\tfor(int i=0;i<s.size();i++){\n\t\tif(s[i]>='1'&&s[i]<='9'){\n\t\t\tint x=s[i]-'0';\n\t\t\tx--;\n\t\t\tchar c=x+'0';\n\t\t\ts[i]=c;\n\t\t}else if(s[i]=='0')s[i]='9';\n\t}\n\treturn s;\n}\n\nint main(){\n\tint x;\n\tcin>>x;\n\tfor(int j=0;j<x;j++){\n\t\tstring ji,s;\n\t\tcin>>ji>>s;\n\t\t\n\t\tfor(int i=ji.size()-1;i>=0;i--){\n\t\t\tif(ji[i]=='J')s=cc(s);\n\t\t\tif(ji[i]=='C')s=cj(s);\n\t\t\tif(ji[i]=='E')s=ce(s);\n\t\t\tif(ji[i]=='A')s=ca(s);\n\t\t\tif(ji[i]=='P')s=cm(s);\n\t\t\tif(ji[i]=='M')s=cp(s);\n\t\t}\n\t\tcout<<s<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nint main()\n{\n  string number = \"0123456789\";\n  int n;\n  cin >> n;\n  while(n--){\n    string order, message;\n    cin >> order >> message;\n    for(int i = order.size()-1; i >= 0; i--){\n      if(order[i] == 'M'){\n\tfor(int j = 0; j < message.size(); j++){\n\t  if('0' <= message[j] && message[j] <= '9'){\n\t    int idx = number.find(message[j]);\n\t    message[j] = number[(idx+1)%number.size()];\n\t  }\n\t}\n      } else if(order[i] == 'P'){\n    \tfor(int j = 0; j < message.size(); j++){\n\t  if('0' <= message[j] && message[j] <= '9'){\n\t    int idx = number.find(message[j]);\n\t    message[j] = number[(idx-1+number.size())%number.size()];\n\t  }\n\t}\t\n      } else if(order[i] == 'A'){\n\treverse(message.begin(), message.end());\n      } else if(order[i] == 'E'){\n\tfor(int i = 0; i < message.size() / 2; i++){\n\t  swap(message[i], message[i + (message.size()+1) / 2]);\n\t}\n      } else if(order[i] == 'C'){\n\tmessage = message.substr(1, message.size()-1) + message[0];\n      } else if(order[i] == 'J'){\n\tmessage = message[message.size()-1] + message.substr(0, message.size()-1);\n      }\n    }\n    cout << message << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint main(){\n\tint n;\n\tcin>>n;\n\twhile(n--){\n\t\tstring s,ss;\n\t\tcin>>s>>ss;\n\t\tfor(int i=s.size()-1;i>=0;i--){\n\t\t\tif(s[i]=='P')\n\t\t\t\tfor(int j=0;j<ss.size();j++)\n\t\t\t\t\tif(ss[j]>='0'&&ss[j]<='9')\n\t\t\t\t\t\tss[j]=(ss[j]-'0'+9)%10+'0';\n\t\t\tif(s[i]=='M')\n\t\t\t\tfor(int j=0;j<ss.size();j++)\n\t\t\t\t\tif(ss[j]>='0'&&ss[j]<='9')\n\t\t\t\t\t\tss[j]=(ss[j]-'0'+1)%10+'0';\n\t\t\tif(s[i]=='A')reverse(ss.begin(),ss.end());\n\t\t\tif(s[i]=='P')for(int k=0;k<ss.size()/2;k++)swap(ss[k],ss[k+(ss.size()+1)/2]);\n\t\t\tif(s[i]=='J')ss=ss[ss.size()-1]+ss.substr(0,s.size()-1);\n\t\t\tif(s[i]=='C')ss=ss.substr(1,s.size()-1)+s[0];\n\t\t}\n\t\tcout<<ss<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <bitset>\n#include <cctype>\n#include <complex>\n#include <cmath>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <ctime>\n#include <deque>\n#include <functional>\n#include <iomanip>\n#include <iostream>\n#include <list>\n#include <map>\n#include <numeric>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <utility>\n#include <vector>\n\nusing namespace std;\n\ninline int toInt(string s) {int v; istringstream sin(s);sin>>v;return v;}\ntemplate<class T> inline string toString(T x) {ostringstream sout;sout<<x;return sout.str();}\ntemplate<class T> inline T sqr(T x) {return x*x;}\n\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<string> vs;\ntypedef pair<int, int> pii;\ntypedef long long ll;\n\n#define all(a)  (a).begin(),(a).end()\n#define rall(a) (a).rbegin(), (a).rend()\n#define pb push_back\n#define mp make_pair\n#define each(i,c) for(typeof((c).begin()) i=(c).begin(); i!=(c).end(); ++i)\n#define exist(s,e) ((s).find(e)!=(s).end())\n#define range(i,a,b) for(int i=(a);i<(b);++i)\n#define rep(i,n)  range(i,0,n)\n#define clr(a,b) memset((a), (b) ,sizeof(a))\n#define dump(x)  cerr << #x << \" = \" << (x) << endl;\n#define debug(x) cerr << #x << \" = \" << (x) << \" (L\" << __LINE__ << \")\" << \" \" << __FILE__ << endl;\n\nconst double eps = 1e-10;\nconst double pi  = acos(-1.0);\nconst ll INF =1LL << 62;\nconst int inf =1 << 29;\n\nint main(void){\n    int n; cin >> n;\n    while(n--){\n        string order, in; cin >> order >> in;\n\n        for(int i = order.size() - 1; 0 <= i; i--){\n            switch(order.at(i)){\n                case 'J':\n                {\n                    string front = in.substr(in.size() - 1);\n                    string back = in.substr(0, in.size() - 1);\n                    in = front + back;\n                    break;\n                }\n                case 'C':\n                {\n                    string front = in.substr(1);\n                    string back = in.substr(0, 1);\n                    in = front + back;\n                    break;\n                }\n                case 'E':\n                {\n                    string front = in.substr((in.size() + 1) / 2);\n                    string mid = in.substr(in.size() / 2, in.size() % 2);\n                    string back = in.substr(0, in.size() / 2);\n                    in = front + mid + back;\n                    break;\n                }\n                case 'A':\n                {\n                    reverse(all(in));\n                    break;\n                }\n                case 'M':\n                {\n                    rep(i, in.size()){\n                        if(in.at(i) == '9'){\n                            in[i] = '0';\n                        }\n                        else if('0' <= in.at(i) && in.at(i) <= '8'){\n                            in[i]++;\n                        }\n                    }\n                    break;\n                }\n                case 'P':\n                {\n                    rep(i, in.size()){\n                        if(in.at(i) == '0'){\n                            in[i] = '9';\n                        }\n                        else if('1' <= in.at(i) && in.at(i) <= '9'){\n                            in[i]--;\n                        }\n                    }\n                    break;\n                }\n                default:\n                {\n                    break;\n                }    \n            }\n        }\n        cout << in << endl;\n    }\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define _ ios_base::sync_with_stdio(0);cin.tie(0);\n#define REP(i,n) for(int i=0;i<(int)(n);i++)\n\nusing namespace std;\n\nint main(){ _;\n  int n;\n  string oom, mkg;\n  cin>>n;\n  REP(z,n){\n    cin>>oom>>mkg;\n    for(int j=oom.size()-1;j>=0;j--){\n      char p=oom[j];\n      switch(p){\n      case 'J':\n\tfor(int i=(int)mkg.size()-2;i>=0;i--)\n\t  swap(mkg[i],mkg[i+1]);\n\tbreak;\n      case 'C':\n\tfor(int i=0;i<=(int)mkg.size()-2;i++)\n\t  swap(mkg[i],mkg[i+1]);\n\tbreak;\n      case 'E':{\n\tint offset=mkg.size()-mkg.size()/2;\n\tfor(int i=0;i<(int)mkg.size()/2;i++)\n\t  swap(mkg[i],mkg[i+offset]);\n\tbreak;\n      }\n      case 'A':\n\tfor(int i=0;i<(int)mkg.size()/2;i++)\n\t  swap(mkg[i],mkg[mkg.size()-1-i]);\n\tbreak;\n      case 'P':\n\tfor(char& c:mkg)\n\t  if(c>='1'&&c<='9') c--;\n\t  else if(c=='0') c='9';\n\tbreak;\n      case 'M':\n\tfor(char& c:mkg)\n\t  if(c>='0'&&c<='8') c++;\n\t  else if(c=='9') c='0';\n\tbreak;\n      }\n    }\n    cout<<mkg<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\n#include<cstring>\n#include<cctype>\n\nusing namespace std;\n\nstring revJ(string t){\n  string ret = t;\n  ret.insert(ret.begin(),t[t.length()-1]);\n  ret.erase(ret.end()-1);\n  return ret;\n}\nstring revC(string t){\n  string ret = t;\n  ret += t[0];\n  ret.erase(ret.begin());\n  return ret;\n}\nstring revE(string t){\n  char c=0;\n  if(t.length()==1)return t;\n  if(t.length()%2){\n    c = t[t.length()/2];\n    t.erase(t.begin()+t.length()/2);\n  }\n  string l = t.substr(0,t.length()/2);\n  string r = t.substr(t.length()/2,t.length()-t.length()/2);\n  if(c){\n    return r+c+l;\n  }else return r+l;\n}\nstring revA(string t){\n  string ret = t;\n  reverse(ret.begin(),ret.end());\n  return ret;\n}\nstring revP(string t){\n  //dec\n  string ret = t;\n  for(int i = 0; i < (signed)ret.length(); ++i){\n    if( isdigit(ret[i]) ){\n      ret[i]--;\n      if(ret[i]<'0')ret[i]='9';\n    }\n  }\n  return ret;\n}\nstring revM(string t){\n  //inc\n  string ret = t;\n  for(int i = 0; i < (signed)ret.length(); ++i){\n    if( isdigit(ret[i]) ){\n      ret[i]++;\n      if(ret[i]>'9')ret[i]='0';\n    }\n  }\n  return ret;\n}\n\nint main()\n{\n  int n;\n  cin >> n;\n  for(int i = 0; i < n; ++i){\n    string order;\n    string msg;\n    cin >> order >> msg;\n    for(int i = (int)order.length()-1; i>=0; --i){\n      if( order[i] == 'J' ){\n\tmsg = revJ( msg );\n      }\n      if( order[i] == 'C' ){\n\tmsg = revC( msg );\n      }\n      if( order[i] == 'E' ){\n\tmsg = revE( msg );\n      }\n      if( order[i] == 'A' ){\n\tmsg = revA( msg );\n      }\n      if( order[i] == 'P' ){\n\tmsg = revP( msg );\n      }\n      if( order[i] == 'M' ){\n\tmsg = revM( msg );\n      }\n    }\n    cout << msg << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\n#include <string>\n\nusing namespace std;\n\nint main()\n{\n    int n;\n    cin >> n;\n\n    auto decryptJ = [](const string &s) {\n        return s.back() + s.substr(0, s.size() - 1);\n    };\n\n    auto decryptC = [](const string &s) { return s.substr(1) + s.front(); };\n\n    auto decryptE = [](const string &s) {\n        if (s.size() % 2 == 0) {\n            return s.substr(s.size() / 2) + s.substr(0, s.size() / 2);\n        }\n        else {\n            return s.substr(s.size() / 2 + 1) + s[s.size() / 2] +\n                   s.substr(0, s.size() / 2);\n        }\n    };\n\n    auto decryptA = [](const string &s) {\n        auto r = s;\n        reverse(begin(r), end(r));\n        return r;\n    };\n\n    auto decryptP = [](const string &s) {\n        auto r = s;\n        for (auto &&c : r) {\n            if (c < '0' || '9' < c) {\n                continue;\n            }\n\n            c = (c - '0' + 10 - 1) % 10 + '0';\n        }\n        return r;\n    };\n\n    auto decryptM = [](const string &s) {\n        auto r = s;\n        for (auto &&c : r) {\n            if (c < '0' || '9' < c) {\n                continue;\n            }\n\n            c = (c - '0' + 1) % 10 + '0';\n        }\n        return r;\n    };\n\n    for (int i = 0; i < n; ++i) {\n        string order, message;\n        cin >> order;\n        cin >> message;\n        reverse(begin(order), end(order));\n\n        for (auto &&c : order) {\n            switch (c) {\n            case 'J':\n                message = decryptJ(message);\n                break;\n            case 'C':\n                message = decryptC(message);\n                break;\n            case 'E':\n                message = decryptE(message);\n                break;\n            case 'A':\n                message = decryptA(message);\n                break;\n            case 'P':\n                message = decryptP(message);\n                break;\n            case 'M':\n                message = decryptM(message);\n                break;\n            }\n        }\n        cout << message << endl;\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#include \"bits/stdc++.h\"\nusing namespace std;\n\n//#define int long long\n#define DBG 1\n#define dump(o) if(DBG){cerr<<#o<<\" \"<<o<<endl;}\n#define dumpc(o) if(DBG){cerr<<#o; for(auto &e:(o))cerr<<\" \"<<e;cerr<<endl;}\n#define rep(i,a,b) for(int i=(a);i<(b);i++)\n#define rrep(i,a,b) for(int i=(b)-1;i>=(a);i--)\n#define each(it,c) for(auto it=(c).begin();it!=(c).end();it++)\n#define all(c) c.begin(),c.end()\nconst int INF = sizeof(int) == sizeof(long long) ? 0x3f3f3f3f3f3f3f3fLL : 0x3f3f3f3f;\nconst int MOD = (int)(1e9 + 7);\nstring MrJ(string s) { return s.substr(1) + s.front(); }\nstring MissC(string s) { return s.back() + s.substr(0, s.size() - 1); }\nstring MrE(string s) {\n\tstring res;\n\tif (s.size() % 2) {\n\t\tres = s[s.size() / 2];\n\t\tres += s.substr(0, s.size() / 2);\n\t\tres = s.substr(s.size() / 2 + 1)+res;\n\t}\n\telse {\n\t\tres = s.substr(s.size() / 2) + s.substr(0, s.size() / 2);\n\t}\n\treturn res;\n}\nstring MrA(string s) { string res = s; reverse(res.begin(), res.end()); return res; }\nstring DrP(string s) {\n\trep(i, 0, s.size()) {\n\t\tif (isdigit(s[i])) {\n\t\t\tif (s[i] == '9')s[i] = '0';\n\t\t\telse s[i]++;\n\t\t}\n\t}\n\treturn s;\n}\nstring MrM(string s) {\n\trep(i, 0, s.size()) {\n\t\tif (isdigit(s[i])) {\n\t\t\tif (s[i] == '0')s[i] = '9';\n\t\t\telse s[i]--;\n\t\t}\n\t}\n\treturn s;\n}\nsigned main() {\n\tint n; cin >> n;\n\twhile (n--) {\n\t\tstring order, king;\n\t\tcin >> order >> king;\n\t\trrep(i, 0, order.size()) {\n\t\t\tswitch (order[i])\n\t\t\t{\n\t\t\tcase 'J':king = MissC(king); break;\n\t\t\tcase 'C':king = MrJ(king); break;\n\t\t\tcase 'E':king = MrE(king); break;\n\t\t\tcase 'A':king = MrA(king); break;\n\t\t\tcase 'P':king = MrM(king); break;\n\t\t\tcase 'M':king = DrP(king); break;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tcout << king << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <stdio.h>\n#include <algorithm>\n#include <vector>\n#include <queue>\n#include <numeric>\n#include <string>\n#include <string.h>\n#include <map>\n#include <set>\n#include <functional>\n#include <complex>\n#include <stack>\n#include <tuple>\nusing namespace std;\n#define rep(i,n) for (int i=0; i < (n); i++)\n\n\ntypedef long long int ll;\ntypedef double D;      // ??§?¨?????????????double???long double?????????\ntypedef complex<D> P;  // Point\ntypedef pair<P, P> L;  // Line\ntypedef vector<P> VP;\n\n\nconst int INF = (1<<30) - 1;\nconst D EPS = 1e-9;\n\n#define X real()\n#define Y imag()\n#define LE(n,m) ((n) < (m) + EPS)\n#define GE(n,m) ((n) + EPS > (m))\n#define EQ(n,m) (abs((n)-(m)) < EPS)\n\nmap<char, string(*)(string)> functions;\n\n\nstring rev_J(string s){\n    string t = \"\";\n    for(int i=0; i<s.size(); i++)\n        t += s[(i+s.size()-1)%s.size()];\n    return t;\n}\n\nstring rev_C(string s){\n    string t = \"\";\n    for(int i=0; i<s.size(); i++)\n        t += s[(i+1)%s.size()];\n    return t;\n}\n\nstring rev_E(string s){\n    int n = s.size();\n    for(int i=0; i<n/2; i++){\n        swap(s[i], s[i+(n+1)/2]);\n    }\n    return s;\n}\n\nstring rev_A(string s){\n    reverse(s.begin(), s.end());\n    return s;\n}\n\nstring rev_P(string s){\n    for(int i=0; i<s.size(); i++){\n        char &c = s[i];\n        if('0'<=c && c<='9'){\n            c = (c-'0'-1+10)%10 + '0';\n        }\n    }\n    return s;\n}\n\nstring rev_M(string s){\n    for(int i=0; i<s.size(); i++){\n        char &c = s[i];\n        if('0'<=c && c<='9'){\n            c = (c-'0'+1)%10 + '0';\n        }\n    }\n    return s;\n}\n\nvoid solve(){\n    string members, message;\n    cin >> members >> message;\n    \n    for(int i=members.size()-1; i>=0; i--){\n        message = functions[members[i]](message);\n    }\n    cout << message << endl;\n}\n\n\n//g++ -std=c++0x -msse4.2 -O3\n//#include <bits/stdc++.h>\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    \n    functions['A'] = rev_A;\n    functions['J'] = rev_J;\n    functions['C'] = rev_C;\n    functions['E'] = rev_E;\n    functions['M'] = rev_M;\n    functions['P'] = rev_P;\n    \n    int T; cin >> T;\n    while(T--){\n        solve();\n    }\n    \n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n\nusing namespace std;\n\nstring C(string s){\n  return s.substr(1)+s[0];\n}\n\nstring J(string s){\n  return s[s.length()-1]+s.substr(0,s.length()-1);\n}\n\nstring E(string s){\n  if(s.length()%2 == 0){\n    //even\n    int half = s.length()/2;\n    return s.substr(half)+s.substr(0,half);\n  }else{\n    //odd\n    int half = s.length()/2;\n    return s.substr(half+1)+s[half]+s.substr(0,half);\n  }\n}\n\nstring A(string s){\n  reverse(s.begin(),s.end());\n  return s;\n}\n\nstring M(string s){\n  for(int i = 0; i < s.length(); i++)\n    if('0' <= s[i] && s[i] < '9') s[i]++;\n    else if(s[i] == '9') s[i] = '0';\n  return s;\n}\n\nstring P(string s){\n  for(int i = 0; i < s.length(); i++)\n    if('0' < s[i] && s[i] <= '9') s[i]--;\n    else if(s[i] == '0') s[i] = '9';\n  return s;\n}\nint main(){\n\n  int n;\n  cin >> n;\n  while(n--){\n    string s,m;\n    cin >> s >> m;\n    for(int i = s.length()-1; i >= 0; i--){\n      if(s[i] == 'J') m = J(m);\n      if(s[i] == 'C') m = C(m);\n      if(s[i] == 'E') m = E(m);\n      if(s[i] == 'A') m = A(m);\n      if(s[i] == 'P') m = P(m);\n      if(s[i] == 'M') m = M(m);\n      //   cout << \"m \" << m << endl;\n    }\n    cout << m << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <algorithm>\n#define rep(i,a) for(int i = 0 ; i < a ; i ++)\n\nusing namespace std;\n\nstring A(string in){\n  reverse(in.begin(),in.end());\n  return in;\n}\nstring J(string in){\n  in=in.substr(in.size()-1)+in.substr(0,in.size()-1);\n  return in;\n}\nstring M(string in){\n  rep(i,in.size())\n    if('0'<=in[i]&&in[i]<='9'){\n      if(in[i]=='9')in[i]='0';\n      else in[i]++;\n    }\n  return in;\n}\nstring P(string in){\n  rep(i,in.size())\n    if('0'<=in[i]&&in[i]<='9'){\n      if(in[i]=='0')in[i]='9';\n      else in[i]--;\n    }\n  return in;\n}\nstring C(string in){\n  in=in.substr(1)+in.substr(0,1);\n  return in;\n}\nstring E(string in){\n  string res = \"\";\n  for(int i = in.size()/2 ; i < in.size() ; i ++)res+=in[i];\n  for(int i = 0 ; i < in.size()/2 ; i ++)res+=in[i];\n  return res;\n}\nint main(void){\n  int N;\n  cin>>N;\n  while(N--){\n    string a,s;\n    cin>>a>>s;\n    reverse(a.begin(),a.end());\n    rep(i,a.size()){\n      switch(a[i]){\n        case 'A':s=A(s);break;\n        case 'J':s=J(s);break;\n        case 'M':s=M(s);break;\n        case 'P':s=P(s);break;\n        case 'C':s=C(s);break;\n        case 'E':s=E(s);break;\n      }\n      cout<<s<<endl;\n    }\n    \n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <stack>\n#include <string>\n#include <queue>\n#include <cmath>\n#include <numeric>\n#include <list>\n#include <sstream>\n#include <fstream>\n#include <iomanip>\n#include <climits>\n#include <set>\n#include <memory.h>\n#include <memory>\n#include <cstdio>\n#include <cstdlib>\n#include <cctype>\n#include <map>\n#define _USE_MATH_DEFINES\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int, int> P;\ntypedef pair<int, P> PP;\ntypedef vector<int> vec;\ntypedef vector<vec> mat;\nconst int INF = 1 << 30;\nconst double EPS = 1e-9;\n\nstring C(string s){\n\tstring s1(s.begin()+1, s.end());\n\tstring s2(s.begin(), s.begin()+1);\n\treturn s1 + s2;\n}\n\nstring A(string s){\n\treverse(s.begin(), s.end());\n\treturn s;\n}\n\nstring J(string s){\n\tstring s1(s.end()-1, s.end());\n\tstring s2(s.begin(), s.end()-1);\n\treturn s1 + s2;\n}\n\nstring E(string s){\n\tint n = s.size();\n\tint d = (n / 2);\n\tstring s1(s.begin(), s.begin() + d), s2(s.begin() + d, s.end() - d), s3(s.end() - d , s.end());\n\treturn s3 + s2 + s1;\n}\n\nstring M(string s){\n\tfor(int i = 0; i < (int)s.size(); i++){\n\t\tif(isdigit(s[i])){\n\t\t\tif(s[i] == '9') s[i] = '0';\n\t\t\telse s[i] = (char)(s[i] + 1);\n\t\t}\n\t}\n\treturn s;\n}\n\nstring p(string s){\n\tfor(int i = 0; i < (int)s.size(); i++){\n\t\tif(isdigit(s[i])){\n\t\t\tif(s[i] == '0') s[i] = '9';\n\t\t\telse s[i] = (char)(s[i] - 1);\n\t\t}\n\t}\n\treturn s;\n}\n\nint main(){\n\tint n;\n\tstring order, s;\n\tcin >> n;\n\tfor(int i = 0; i < n; i++){\n\t\tcin >> order >> s;\n\t\tfor(int j = (int)order.size()-1; j >= 0; j--){\n\t\t\tswitch(order[j]){\n\t\t\tcase 'A': s = A(s);\n\t\t\t\tbreak;\n\t\t\tcase 'C': s = C(s);\n\t\t\t\tbreak;\n\t\t\tcase 'E': s = E(s);\n\t\t\t\tbreak;\n\t\t\tcase 'M': s = M(s);\n\t\t\t\tbreak;\n\t\t\tcase 'P': s = p(s);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\ts = J(s);\n\t\t\t}\n\t\t}\n\t\tcout << s << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\n#include<cctype>\n\n#define all(c) (c).begin(),(c).end()\n\nusing namespace std;\n\nvoid J(string &s){\n  string a=\"\";\n  a+=s.substr(1,s.size()-1);\n  a+=s[0];\n  s=a;\n}\n\nvoid C(string &s){\n  string a=\"\";\n  a+=s[s.size()-1];\n  a+=s.substr(0,s.size()-1);\n  s=a;\n}\n\nvoid E(string &s){\n  string a=\"\";\n  if(s.size()%2==1){\n    a+=s.substr(s.size()/2+1,s.size()/2);\n    a+=s[s.size()/2+1];\n    a+=s.substr(0,s.size()/2);\n  }\n  else {\n    a+=s.substr(s.size()/2,s.size()/2);\n    a+=s.substr(0,s.size()/2);\n  }\n  s=a;\n}\n\nvoid A(string &s){\n  reverse(all(s));\n}\n\nvoid P(string &s){\n  for(int i=0;i<s.size();i++){\n    if(s[i]=='9')s[i]='0';\n    else if(isdigit(s[i]))s[i]++;\n  }\n}\n\nvoid M(string &s){\n  for(int i=0;i<s.size();i++){\n    if(s[i]=='0')s[i]='9';\n    else if(isdigit(s[i]))s[i]--;\n  }\n}\n\nint main(void){\n  int n;\n  string s,com;\n  cin >> n;\n  while(n--){\n    cin >> com >> s;\n    A(com);\n    for(int i=0;i<com.size();i++){\n      if(com[i]=='J')C(s);\n      else if(com[i]=='C')J(s);\n      else if(com[i]=='E')E(s);\n      else if(com[i]=='A')A(s);\n      else if(com[i]=='P')M(s);\n      else P(s);\n    }\n    cout << s << endl;\n  }\n  \n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"iostream\"\n#include \"climits\"\n#include \"list\"\n#include \"queue\"\n#include \"stack\"\n#include \"set\"\n#include \"functional\"\n#include \"algorithm\"\n#include \"math.h\"\n#include \"utility\"\n#include \"string\"\n#include \"map\"\n#include \"unordered_map\"\n#include \"iomanip\"\n#include \"random\"\n\nusing namespace std;\nconst long long int MOD = 1000000007;\n\nlong long int power(long long int x, long long int n, long long int M) {\n\tlong long int tmp = 1;\n\n\tif (n > 0) {\n\t\ttmp = power(x, n / 2, M);\n\t\tif (n % 2 == 0) tmp = (tmp*tmp) % M;\n\t\telse tmp = (((tmp*tmp) % M)*x) % M;\n\t}\n\treturn tmp;\n}\n\nlong long int N, M, K, Q, W, H, L, R;\nlong long int ans;\n\n\n\nint main() {\n\tios::sync_with_stdio(false);\n\tcin >> N;\n\tfor (int i = 0; i < N; i++) {\n\t\tstring a, b;\n\t\tcin >> a >> b;\n\t\tfor (auto j = a.rbegin(); j != a.rend(); ++j) {\n\t\t\tif (*j == 'J') {\n\t\t\t\tchar c;\n\t\t\t\tc = b.back();\n\t\t\t\tb.pop_back();\n\t\t\t\tb = c + b;\n\t\t\t}\n\t\t\tif (*j == 'C') {\n\t\t\t\tchar c;\n\t\t\t\tc = b[0];\n\t\t\t\tfor (int k = 0; k < b.size() - 1; k++) {\n\t\t\t\t\tb[k] = b[k + 1];\n\t\t\t\t}\n\t\t\t\tb[b.size() - 1] = c;\n\t\t\t}\n\t\t\tif (*j == 'E') {\n\t\t\t\tstring s, t;\n\t\t\t\tfor (int k = 0; k < b.size() / 2; k++) {\n\t\t\t\t\ts += b[k];\n\t\t\t\t}\n\t\t\t\tfor (int k = (b.size() + 1) / 2; k < b.size(); k++) {\n\t\t\t\t\tt += b[k];\n\t\t\t\t}\n\t\t\t\tfor (int k = 0; k < b.size() / 2; k++) {\n\t\t\t\t\tb[k] = t[k];\n\t\t\t\t}\n\t\t\t\tfor (int k = (b.size() + 1) / 2; k < b.size(); k++) {\n\t\t\t\t\tb[k] = s[k - (b.size() + 1) / 2];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (*j == 'A') {\n\t\t\t\tfor (int k = 0; k < b.size() / 2; k++)swap(b[k], b[b.size() - 1 - k]);\n\t\t\t}\n\t\t\tif (*j == 'M') {\n\t\t\t\tfor (int k = 0; k < b.size(); k++) {\n\t\t\t\t\tif (b[k] >= '0'&&b[k] <= '9') {\n\t\t\t\t\t\tb[k]++;\n\t\t\t\t\t\tif (b[k] == char('9' + 1))b[k] = '0';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (*j == 'P') {\n\t\t\t\tfor (int k = 0; k < b.size(); k++) {\n\t\t\t\t\tif (b[k] >= '0'&&b[k] <= '9') {\n\t\t\t\t\t\tb[k]--;\n\t\t\t\t\t\tif (b[k] == char('0' - 1))b[k] = '9';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << b << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "//1240\n#include<iostream>\n#include<string>\n#include<algorithm>\nusing namespace std;\nchar table[10]={'0','1','2','3','4','5','6','7','8','9'};\nstring now;\nvoid A(){\nreverse(now.begin(),now.end());\n}\nvoid J(){\nchar tmp=now[0];\nfor(int i=0;i<now.size()-1;i++)now[i]=now[i+1];\nnow[now.size()-1]=tmp;\n}\nvoid E(){\nstring a=\"\",b=\"\",c=\"\";\nfor(int i=0;i<now.size();i++){\nif(i<now.size()/2)a.push_back(now[i]);\nelse if(i==now.size()/2&&now.size()%2==1)c.push_back(now[i]);\nelse b.push_back(now[i]);\n}\n//reverse(a.begin(),a.end());\n//reverse(b.begin(),b.end());\nnow=b+c+a;\n}\nvoid C(){\nchar tmp=now[now.size()-1];\nfor(int i=now.size()-1;i>0;i--)now[i]=now[i-1];\nnow[0]=tmp;\n}\nvoid P(){\nfor(int i=0;i<now.size();i++){\n\tif(now[i]-'0'==0)now[i]='9';\nelse \tif(now[i]-'0'==1)now[i]='0';\nelse \tif(now[i]-'0'==2)now[i]='1';\nelse \tif(now[i]-'0'==3)now[i]='2';\nelse \tif(now[i]-'0'==4)now[i]='3';\nelse \tif(now[i]-'0'==5)now[i]='4';\nelse \tif(now[i]-'0'==6)now[i]='5';\nelse \tif(now[i]-'0'==7)now[i]='6';\nelse \tif(now[i]-'0'==8)now[i]='7';\nelse \tif(now[i]-'0'==9)now[i]='8';\n\t}\n}\nvoid M(){\nfor(int i=0;i<now.size();i++){\n\tif(now[i]-'0'==0)now[i]='1';\n\telse if(now[i]-'0'==1)now[i]='2';\n\t else if(now[i]-'0'==2)now[i]='3';\nelse \tif(now[i]-'0'==3)now[i]='4';\nelse \tif(now[i]-'0'==4)now[i]='5';\nelse \tif(now[i]-'0'==5)now[i]='6';\nelse \tif(now[i]-'0'==6)now[i]='7';\nelse \tif(now[i]-'0'==7)now[i]='8';\nelse \tif(now[i]-'0'==8)now[i]='9';\nelse \tif(now[i]-'0'==8)now[i]='0';\n\t}\n}\n\nint main(){\n\tint n;\n\tcin>>n;\nfor(int kki=0;kki<n;kki++){\n\tstring a;\n\tcin>>a>>now;\n\tfor(int i=a.size();i>=0;i--){\n\t\tif(a[i]=='A')A();\n\t\tif(a[i]=='C')J();\n\t\tif(a[i]=='P')P();\n\t\tif(a[i]=='M')M();\n\t\tif(a[i]=='E')E();\n\t\tif(a[i]=='J')C();\n\t//cout<<now<<endl;\t\n\t}\n\tcout<<now<<endl;\n}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "// need\n#include <iostream>\n#include <algorithm>\n\n// data structure\n#include <bitset>\n//#include <list>\n#include <map>\n#include <queue>\n#include <set>\n#include <stack>\n#include <string>\n#include <utility>\n#include <vector>\n//#include <array>\n//#include <tuple>\n//#include <unordered_map>\n//#include <unordered_set>\n#include <complex>\n//#include <deque>\n#include<valarray>\n\n// stream\n//#include <istream>\n//#include <sstream>\n//#include <ostream>\n#include <fstream>\n\n// etc\n#include <cassert>\n#include <functional>\n#include <iomanip>\n//#include <typeinfo>\n#include <chrono>\n#include <random>\n#include <numeric>\n\n#define INIT std::ios::sync_with_stdio(false);std::cin.tie(0);\n#define VAR(type, ...)type __VA_ARGS__;MACRO_VAR_Scan(__VA_ARGS__);\ntemplate<typename T> void MACRO_VAR_Scan(T& t) { std::cin >> t; }\ntemplate<typename First, typename...Rest>void MACRO_VAR_Scan(First& first, Rest&...rest) { std::cin >> first; MACRO_VAR_Scan(rest...); }\n#define VEC_ROW(type, n, ...)std::vector<type> __VA_ARGS__;MACRO_VEC_ROW_Init(n, __VA_ARGS__); for(int i=0; i<n; ++i){MACRO_VEC_ROW_Scan(i, __VA_ARGS__);}\ntemplate<typename T> void MACRO_VEC_ROW_Init(int n, T& t) { t.resize(n); }\ntemplate<typename First, typename...Rest>void MACRO_VEC_ROW_Init(int n, First& first, Rest&...rest) { first.resize(n); MACRO_VEC_ROW_Init(n, rest...); }\ntemplate<typename T> void MACRO_VEC_ROW_Scan(int p, T& t) { std::cin >> t[p]; }\ntemplate<typename First, typename...Rest>void MACRO_VEC_ROW_Scan(int p, First& first, Rest&...rest) { std::cin >> first[p]; MACRO_VEC_ROW_Scan(p, rest...); }\n#define OUT(d) std::cout<<d;\n#define FOUT(n, d) std::cout<<std::fixed<<std::setprecision(n)<<d;\n#define SOUT(n, c, d) std::cout<<std::setw(n)<<std::setfill(c)<<d;\n#define SP std::cout<<\" \";\n#define TAB std::cout<<\"\\t\";\n#define BR std::cout<<\"\\n\";\n#define SPBR(i, n) std::cout<<(i + 1 == n ? '\\n' : ' ');\n#define ENDL std::cout<<std::endl;\n#define FLUSH std::cout<<std::flush;\n#define VEC(type, c, n) std::vector<type> c(n);for(auto& i:c)std::cin>>i;\n#define MAT(type, c, m, n) std::vector<std::vector<type>> c(m, std::vector<type>(n));for(auto& r:c)for(auto& i:r)std::cin>>i;\n#define ALL(a) (a).begin(),(a).end()\n#define FOR(i, a, b) for(int i=(a);i<(b);++i)\n#define RFOR(i, a, b) for(int i=(b)-1;i>=(a);--i)\n#define REP(i, n) for(int i=0;i<int(n);++i)\n#define RREP(i, n) for(int i=(n)-1;i>=0;--i)\n#define FORLL(i, a, b) for(ll i=ll(a);i<ll(b);++i)\n#define RFORLL(i, a, b) for(ll i=ll(b)-1;i>=ll(a);--i)\n#define REPLL(i, n) for(ll i=0;i<ll(n);++i)\n#define RREPLL(i, n) for(ll i=ll(n)-1;i>=0;--i)\n#define PAIR std::pair<int, int>\n#define PAIRLL std::pair<ll, ll>\n#define IN(a, x, b) (a<=x && x<b)\n#define SHOW(d) {std::cerr << #d << \"\\t:\" << d << \"\\n\";}\n#define SHOWVECTOR(v) {std::cerr << #v << \"\\t:\";for(const auto& xxx : v){std::cerr << xxx << \" \";}std::cerr << \"\\n\";}\n#define SHOWVECTOR2(v) {std::cerr << #v << \"\\t:\\n\";for(const auto& xxx : v){for(const auto& yyy : xxx){std::cerr << yyy << \" \";}std::cerr << \"\\n\";}}\n#define SHOWPAIR(p) {std::cerr << #p << \"\\t:(\" << p.first << \",\\t\" << p.second << \")\\n\";}\n#define SHOWPAIRVECTOR2(v) {std::cerr << #v << \"\\t:\\n\";for(const auto& xxx : v){for(const auto& yyy : xxx){std::cerr<<'('<<yyy.first<<\", \"<<yyy.second<<\") \";}std::cerr << \"\\n\";}}\n#define SHOWPAIRVECTOR(v) {for(const auto& xxx:v){std::cerr<<'('<<xxx.first<<\", \"<<xxx.second<<\") \";}std::cerr<<\"\\n\";}\n#define SHOWQUEUE(a) {auto tmp(a);std::cerr << #a << \"\\t:\";while(!tmp.empty()){std::cerr << tmp.front() << \" \";tmp.pop();}std::cerr << \"\\n\";}\ntemplate<typename T> inline T CHMAX(T& a, const T b) { return a = (a < b) ? b : a; }\ntemplate<typename T> inline T CHMIN(T& a, const T b) { return a = (a > b) ? b : a; }\n#define EXCEPTION(msg) throw std::string(\"Exception : \" msg \" [ in \") + __func__ + \" : \" + std::to_string(__LINE__) + \" lines ]\"\n#define TRY(cond, msg) try {if (cond) EXCEPTION(msg);}catch (std::string s) {std::cerr << s << std::endl;}\nvoid CHECKTIME(std::function<void()> f) { auto start = std::chrono::system_clock::now(); f(); auto end = std::chrono::system_clock::now(); auto res = std::chrono::duration_cast<std::chrono::nanoseconds>((end - start)).count(); std::cerr << \"[Time:\" << res << \"ns  (\" << res / (1.0e9) << \"s)]\\n\"; }\n\n#define int ll\nusing ll = long long;\nusing ull = unsigned long long;\nconstexpr int INFINT = 1 << 30;                          // 1.07x10^ 9\nconstexpr int INFINT_LIM = (1LL << 31) - 1;              // 2.15x10^ 9\nconstexpr ll INFLL = 1LL << 60;                          // 1.15x10^18\nconstexpr ll INFLL_LIM = (1LL << 62) - 1 + (1LL << 62);  // 9.22x10^18\nconstexpr double EPS = 1e-7;\nconstexpr int MOD = 1000000007;\nconstexpr double PI = 3.141592653589793238462643383279;\n\nsigned main() {\n\tINIT;\n\tVAR(int, T);\n\tREP(_, T) {\n\t\tVAR(std::string, s, t);\n\t\tstd::reverse(ALL(s));\n\t\tfor (const auto& c : s) {\n\t\t\tif (c == 'J') {\n\t\t\t\tstd::rotate(t.rbegin(), t.rbegin() + 1, t.rend());\n\t\t\t}\n\t\t\telse if (c == 'C') {\n\t\t\t\tstd::rotate(t.begin(), t.begin() + 1, t.end());\n\t\t\t}\n\t\t\telse if (c == 'E') {\n\t\t\t\tint ts = t.size();\n\t\t\t\tif (ts % 2 == 1) {\n\t\t\t\t\tt = t.substr(ts/2+1) + t[ts / 2] + t.substr(0, ts / 2);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tt = t.substr(ts / 2) + t.substr(0, ts / 2);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (c == 'A') {\n\t\t\t\tstd::reverse(ALL(t));\n\t\t\t}\n\t\t\telse if (c == 'P') {\n\t\t\t\tfor (auto& cc : t) {\n\t\t\t\t\tif (!isdigit(cc)) continue;\n\t\t\t\t\tcc = (cc - '0' + 9) % 10 + '0';\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (c == 'M') {\n\t\t\t\tfor (auto& cc : t) {\n\t\t\t\t\tif (!isdigit(cc)) continue;\n\t\t\t\t\tcc = (cc - '0' + 1) % 10 + '0';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tOUT(t)BR;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<string>\n#include<algorithm>\n#include<iostream>\nusing namespace std;\n\nstring J(string s, int len) {\n  return s.substr(1) + s[0];\n}\n\nstring C(string s, int len) {\n  return s[len-1] + s.substr(0,len-1);\n}\n\nstring E(string s, int len) {\n  if (len % 2 == 1) {\n    return s.substr(len/2+1) + s[len/2] + s.substr(0, len/2);\n  } else {\n    return s.substr(len/2) + s.substr(0, len/2);\n  }\n}\n\nstring A(string s, int len) {\n  reverse(s.begin(), s.end());\n  return s;\n}\n\nstring P(string s, int len) {\n  for (int i = 0; i < len; i++) {\n    if (!isdigit(s[i])) continue;\n    if (s[i] == '9') s[i] = '0';\n    else s[i]++;\n  }\n  return s;\n}\n\nstring M(string s, int len) {\n  for (int i = 0; i < len; i++) {\n    if (!isdigit(s[i])) continue;\n    if (s[i] == '0') s[i] = '9';\n    else s[i]--;\n  }\n  return s;\n}\n\nint main() {\n  int n;\n  cin >> n;\n  for (int i = 0; i < n; i++) {\n    string messengers, crypt;\n    cin >> messengers >> crypt;\n    int len = crypt.length();\n    reverse(messengers.begin(), messengers.end());\n    for (char m : messengers) {\n      if (m == 'J') {\n        crypt = C(crypt, len);\n      } else if (m == 'C') {\n        crypt = J(crypt, len);\n      } else if (m == 'E') {\n        crypt = E(crypt, len);\n      } else if (m == 'A') {\n        crypt = A(crypt, len);\n      } else if (m == 'P') {\n        crypt = M(crypt, len);\n      } else if (m == 'M') {\n        crypt = P(crypt, len);\n      }\n    }\n    cout << crypt << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#define _CRT_SECURE_NO_WARNINGS\n#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <ctime>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <cmath>\n#include <sstream>\n#include <utility>\nusing namespace std;\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef pair<int,int> pii;\n#define all(c) (c).begin(), (c).end()\n#define loop(i,a,b) for(ll i=a; i<ll(b); i++)\n#define rep(i,b) loop(i,0,b)\n#define each(e,c) for(auto&e:c)\n#define pb push_back\n#define eb emplace_back\n#define mp make_pair\n#define mt make_tuple\n#define lb lower_bound\n#define ub upper_bound\n#ifdef DEBUG\n#define dump(...) (cerr<<#__VA_ARGS__<<\" = \"<<(DUMP(),__VA_ARGS__).str()<<\" [\"<<__LINE__<<\"]\"<<endl)\nstruct DUMP:ostringstream{template<class T>DUMP &operator,(const T&t){if(this->tellp())*this<<\", \";*this<<t;return *this;}};\n#else\n#define dump(...)\n#endif\ntemplate<class T> ostream& operator<<(ostream& os, vector<T> const& v){\n    rep(i,v.size()) os << v[i] << (i+1==v.size()?\"\":\" \");\n    return os;\n}\n\n#include <deque>\n\nint main(){\n    int n; cin >> n;\n    rep(x,n){\n        string op, s_; cin >> op >> s_;\n        reverse(all(op));\n        deque<char> s(all(s_));\n        for(char c : op){\n            if(c == 'C'){\n                s.pb(s.front());\n                s.pop_front();\n            } else if(c == 'J'){\n                s.push_front(s.back());\n                s.pop_back();\n            } else if(c == 'E'){\n                rep(i,s.size()/2){\n                    swap(s[i], s[i+(s.size()+1)/2]);\n                }\n                // cout << string(all(s)) << endl;\n                // while(1);\n            } else if(c == 'A'){\n                reverse(all(s));\n            } else if(c == 'M'){\n                for(char & d : s){\n                    if(isdigit(d)){\n                        d++;\n                        if(!isdigit(d)) d='0';\n                    }\n                }\n                // cout << string(all(s)) << endl;\n                // while(1);\n            } else if(c == 'P'){\n                for(char & d : s){\n                    if(isdigit(d)){\n                        d--;\n                        if(!isdigit(d)) d = '9';\n                    }\n                }\n                // cout << string(all(s)) << endl;\n                // while(1);\n            }\n        }\n        for(char c : s){\n            cout << c;\n        }\n        cout << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\n#include<map>\n#include<set>\n#include<utility>\n#include<vector>\n#include<cmath>\n#include<cstdio>\n#define loop(i,a,b) for(int i=a;i<b;i++) \n#define rep(i,a) loop(i,0,a)\n#define pb push_back\n#define mp make_pair\n#define it ::iterator\n#define all(in) in.begin(),in.end()\nconst double PI=acos(-1);\nconst double ESP=1e-10;\nusing namespace std;\nint main(){\n  int n;\n  cin>>n;\n  while(n--){\n    string in,s;\n    cin>>in>>s;\n    rep(i,in.size()){\n      if(in[i]=='J')\n\ts=s.substr(1)+s[0];\n      else if(in[i]=='A')\n\treverse(all(s));\n      else if(in[i]=='E'){\n\t//cout<<s.size()<<endl;\n\tint tmp=s.size();\n\tif(!(tmp%2))\n\t  s=s.substr(tmp/2)+s.substr(0,tmp/2);\n\telse\n\t  s=s.substr(tmp/2+1)+s[tmp/2]+s.substr(0,tmp/2);\n      }else if(in[i]=='C')\n\ts=s[s.size()-1]+s.substr(0,s.size()-1);\n      else if(in[i]=='M'){\n\trep(j,s.size())if(isdigit(s[j])){\n\t  s[j]++;\n\t  if(s[j]>'9')s[j]='0';\n\t}\n      }else if(in[i]=='P'){\n\trep(j,s.size())if(isdigit(s[j])){\n\t  s[j]--;\n\t  if(s[j]<'0')s[j]='9';\n\t}\n      }\n    }\n    cout<<s<<endl;\n  }\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <string>\n#include <cstdio>\n#include <cstring>\nusing namespace std;\n\n#define REP(i,a,n) for(int i=(a); i<(int)(n); i++)\n#define rep(i,n) REP(i,0,n)\n#define DEB 0\n#define all(x) x.begin(), x.end()\n\nint main(){\n  int n;\n  string order, mess, tmp;\n  cin>>n;\n  while(n--){\n    cin >> order >> mess;\n    for(int i=order.size()-1; i>=0; i--){\n      switch(order[i]){\n      case 'C':\n\tmess = mess.substr(1) + mess.substr(0,1);\n\tbreak;\n      case 'J':\n\tmess = mess.substr(mess.size()-1) + mess.substr(0,mess.size()-1);\n\tbreak;\n      case 'E':\n\ttmp = \"\";\n\tfor(int j=mess.size()/2; j<mess.size(); j++){\n\t  tmp += mess[j];\n\t}\n\trep(j,mess.size()/2){\n\t  tmp += mess[j];\n\t}\n#if DEB\n\tcout << \"tmp:\" << tmp << endl;\n#endif\n\tmess = tmp;\n\tbreak;\n      case 'A':\n\treverse(all(mess));\n\tbreak;\n      case 'P':\n\trep(j,mess.size()){\n\t  if( '0'<=mess[j] && mess[j]<='9' ){\n\t    if( mess[j]=='0' ){\n\t      mess[j] = '9';\n\t    }else{\n\t      mess[j]--;\n\t    }\n\t  }\n\t}\n\tbreak;\n      case 'M':\n\trep(j,mess.size()){\n\t  if( '0'<=mess[j] && mess[j]<='9' ){\n\t    if( mess[j]=='9' ){\n\t      mess[j] = '0';\n\t    }else{\n\t      mess[j]++;\n\t    }\n\t  }\n\t}\n\tbreak;\n      }\n#if DEB\n      cout << \":: \" << mess << endl;\n#endif\n    }\n    cout << mess << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<vector>\n#include<cstdio>\nusing namespace std;\nint main(){\n  int n;\n  string x;\n  string st;\n  cin >>n;\n  for(int i=0;i<n;i++){\n    cin >> x;\n    cin >> st;\n    for(int j=x.size()-1;j>=0;j--){\n      if(x[j]=='C'){\n\tchar stock;\n\tstock = st[0];\n\tst.erase(st.begin());\n\tst+=stock;\n      }\n      else if(x[j]=='J'){\n\tchar stock;\n\tstock = st[st.size()-1];\n\t//\tcout << \"p1\"<<endl;\n\tst.erase(st.size()-1);\n\t//cout <<\"p2\"<<endl;\n\tst.insert(st.begin(),stock);\n      }\n      else if(x[j]=='E'){\n\tstring stock;\n\tint l=st.size()/2;\n\tfor(int k=0;k<l;k++){\n\t  stock+=st[k];\n\t}\n\tstring stock2;\n\tint od = st.size()%2;\n\tfor(int k=l+od;k<l*2+od;k++){\n\t  stock2+=st[k];\n\t}\n\tchar st3;\n\tif(od==1)st3+=st[l];\n\tst=stock2+st3+stock;\n      }\n      else if(x[j]=='A'){\n\tstring stock;\n\tfor(int k=0;st.empty()!=true;k++){\n\t  stock += st[0];\n\t  st.erase(st.begin());\n\t}\n\t//cout << stock <<endl;\n\tfor(int k=stock.size()-1;k>=0;k--){\n\t  st+=stock[k];\n\t}\n      }\n      else if(x[j]=='M'){\n\tfor(int k=0;k<st.size();k++){\n\t  if(st[k]>='0'&&st[k]<'9'){\n\t    st[k]++;\n\t  }\n\t  else if(st[k]=='9'){\n\t    st[k]=='0';\n\t  }\n\t}\n      }\n      else if(x[j]=='P'){\n\tfor(int k=0;k<st.size();k++){\n\t  if(st[k]>'0'&&st[k]<='9'){\n\t    st[k]--;\n\t  }\n\t  else if(st[k]=='0'){\n\t    st[k]=='9';\n\t  }\n\t}\n      }\t\n\n      //cout <<\"it is \"<<x[j]<<endl;\n      //cout << st << endl;\n    }\n    cout << st << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define endl '\\n';\n#define rep(i,n) for(int i=0; i<(n); i++)\nusing namespace std;\nusing ll = long long;\nusing P = pair<int,int>;\n#pragma GCC target(\"sse,sse2,sse3,ssse3,sse4,popcnt,abm,mmx,avx,tune=native\")\n#pragma GCC optimize(\"Ofast\")\nconstexpr ll INF = 1e18;\nconstexpr int inf = 1e9;\nconstexpr double INFD = 1e100;\nconstexpr ll mod = 1000000007;\nconstexpr ll mod2 = 998244353;\nconst double PI = 3.1415926535897932384626433832795028841971;\nconst int dx[4] = {1, 0, -1, 0};\nconst int dy[4] = {0, 1, 0, -1};\ntemplate<class T> inline bool chmax(T& a, T b) { if (a < b) { a = b; return 1; } return 0; }\ntemplate<class T> inline bool chmin(T& a, T b) { if (a > b) { a = b; return 1; } return 0; }\n// ios::sync_with_stdio(false);\n// cin.tie(nullptr);\n// ---------------------------------------------------------------------------\n\n\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(nullptr);\n    int N;\n    cin >> N;\n    for(int i=0; i<N; i++){\n        string order,S;\n        cin >> order >> S;\n        reverse(order.begin(),order.end());\n        for(int j=0; j<order.size(); j++){\n            char now = order[j];\n            if(now == 'J'){\n                S = S.back() + S;\n                S.pop_back();\n            }else if(now == 'C'){\n                S += S[0];\n                S.erase(S.begin());\n            }else if(now == 'E'){\n                if(S.size()%2){\n                    S = S.substr(S.size()/2+1) + S[S.size()/2] + S.substr(0,S.size()/2);\n                }else{\n                    S = S.substr(S.size()/2) + S.substr(0,S.size()/2);\n                }\n            }else if(now == 'A'){\n                reverse(S.begin(),S.end());\n            }else if(now == 'M'){\n                for(int k=0; k<S.size(); k++){\n                    if('0'<=S[k] and S[k]<='9'){\n                        S[k] = (S[k]-'0'+1)%10 + '0';\n                    }\n                }\n            }else{\n                for(int k=0; k<S.size(); k++){\n                    if('0'<=S[k] and S[k]<='9'){\n                        S[k] = (S[k]-'0'-1+10)%10 + '0';\n                    }\n                }\n            }\n        }\n        cout << S << endl;\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<string>\n#include<vector>\n#include<cmath>\n#include<algorithm>\n#include<functional>\n#include<iomanip>\n#include<queue>\n#include<ciso646>\n#include<random>\n#include<map>\n#include<set>\nusing namespace std;\ntypedef long long ll;\nconst ll MOD = 1000000007;\nconst ll INF = (ll)1000000007 * 1000000007;\nconst double PI = 3.14159265358979;\nconst double E = 2.718281828459045;\nconst double root2 = sqrt(2);\ntypedef pair<int, int> P;\ntypedef unsigned int ui;\nstring s;\nvoid traJ() {\n\tint len = s.length();\n\tchar memo = s[len - 1];\n\tfor (int i = len-1; i > 0; i--) {\n\t\ts[i] = s[i - 1];\n\t}\n\ts[0] = memo;\n}\nvoid traC() {\n\tint len = s.length();\n\tchar memo = s[0];\n\tfor (int i = 0; i < len-1; i++) {\n\t\ts[i] = s[i + 1];\n\t}\n\ts[len-1] = memo;\n}\nvoid traE() {\n\tint len = s.length();\n\tstring sle = s.substr(0, len / 2);\n\tstring sri = s.substr((len + 1) / 2, len - (len + 1) / 2);\n\tfor (int i = 0; i < len - (len + 1) / 2; i++) {\n\t\ts[i] = sri[i];\n\t}\n\tfor (int i = (len + 1) / 2; i < len; i++) {\n\t\ts[i] = sle[i - (len + 1) / 2];\n\t}\n}\nvoid traA() {\n\treverse(s.begin(), s.end());\n}\nvoid traP() {\n\tint len = s.length();\n\tfor (int i = 0; i < len; i++) {\n\t\tif ('1' <= s[i] && s[i] <= '9') {\n\t\t\ts[i]--;\n\t\t}\n\t\telse if (s[i] == '0') {\n\t\t\ts[i] = '9';\n\t\t}\n\t}\n}\nvoid traM() {\n\tint len = s.length();\n\tfor (int i = 0; i < len; i++) {\n\t\tif ('0' <= s[i] && s[i] <= '8') {\n\t\t\ts[i]++;\n\t\t}\n\t\telse if (s[i] == '9') {\n\t\t\ts[i] = '0';\n\t\t}\n\t}\n}\nint main() {\n\tint n;\n\tcin >> n;\n\tfor (int i = 0; i < n; i++) {\n\t\tstring ord;\n\t\tcin >> ord;\n\t\tcin >> s;\n\t\tint l = ord.length();\n\t\tfor (int i = l - 1; i >= 0; i--) {\n\t\t\tif (ord[i] == 'J')traJ();\n\t\t\tif (ord[i] == 'C')traC();\n\t\t\tif (ord[i] == 'E')traE();\n\t\t\tif (ord[i] == 'A')traA();\n\t\t\tif (ord[i] == 'P')traP();\n\t\t\tif (ord[i] == 'M')traM();\n\t\t}\n\t\tcout << s << endl;\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\nusing namespace std;\n\nstring str;\n\nvoid C(int len){\n    char tmp = str[0];\n    for(int i = 1 ; i < len; i++){\n        str[i-1] = str[i];\n    }\n    str[len-1] = tmp;\n}\n\nvoid J(int len){\n    char tmp = str[len-1];\n    for(int i = len-2; i >=0 ; i--){\n        str[i+1] = str[i];\n    }\n    str[0] = tmp;\n}\n\nvoid E(int len){\n    int div = len/2;\n    \n    if(len%2==0){\n        string f = str.substr(0,div) , g = str.substr(div,len-1);\n        str = \"\";\n        str += g+f;\n    }\n    else{\n        string f = str.substr(0,div), g = str.substr(div+1,len);\n        string mid = str.substr(div,1);\n        str = \"\";\n        str += g+mid+f;\n    }\n}\n\nvoid A(){\n    reverse(str.begin(),str.end());\n}\n\nvoid M(int len){\n    for(int i = 0 ; i < len ; i++){\n        if('0' <= str[i] && str[i] <= '8'){\n            str[i] += 1;\n        }\n        else if(str[i] == '9') str[i] = '0';\n    }\n}\n\nvoid P(int len){\n    for(int i = 0 ; i < len ; i++){\n        if('1' <= str[i] && str[i] <= '9'){\n            str[i] -= 1;\n        }\n        else if(str[i] == '0') str[i] = '9';\n    }\n}\n\nint main(){\n    int n;\n    cin >> n;\n    while(n--){\n        string order;\n        cin >> order >> str;\n        \n        int len = str.size();\n        reverse(order.begin(),order.end());\n        \n        for(int i = 0 ; i < order.size() ; i++){\n            switch(order[i]){\n                    case 'J':\n                    J(len);\n                    break;\n                    \n                    case 'C':\n                    C(len);\n                    break;\n                    \n                    case 'E':\n                    E(len);\n                    break;\n                    \n                    case 'A':\n                    A();\n                    break;\n                    \n                    case 'M':\n                    M(len);\n                    break;\n                    \n                    case 'P':\n                    P(len);\n                    break;\n            }\n        }\n        cout << str << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _GLIBCXX_DEBUG\n#include <bits/stdc++.h>\nusing namespace std;\n\nint main() {\n    int n; cin>>n;\n    for(int i=0; i<n; i++){\n        string order, message;\n        cin>>order>>message;\n        reverse(order.begin(), order.end());\n        for(char c : order){\n            if(c == 'J'){\n                rotate(message.rbegin(), message.rbegin()+1, message.rend());\n            }else if(c == 'C'){\n                rotate(message.begin(), message.begin()+1, message.end());\n            }else if(c == 'E'){\n                if(message.size()%2 == 0){\n                    message = message.substr(ceil(message.size()/2.0), message.size()) + message.substr(0, message.size()/2);\n                }else{\n                    int index = message.size()/2;\n                    message = message.substr(ceil(message.size()/2.0), message[index]) + message[index] + message.substr(0, message.size()/2);\n                }\n            }else if(c == 'A'){\n                reverse(message.begin(), message.end());\n            }else if(c == 'P'){\n                for(int j=0; j<message.size(); j++){\n                    if(isdigit(message[j])){\n                        int digit = stoi(message.substr(j,1).c_str());\n                        message[j] = to_string(digit == 0 ? 9 : digit-1)[0];\n                    }\n                }\n            }else{\n                for(int j=0; j<message.size(); j++){\n                    if(isdigit(message[j])){\n                        int digit = stoi(message.substr(j,1).c_str());\n                        message[j] = to_string((digit+1)%10)[0];\n                    }\n                }\n            }\n        }\n        cout << message << endl;\n    }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define INF_LL (int64)1e18\n#define INF (int32)1e9\n#define REP(i, n) for(int64 i = 0;i < (n);i++)\n#define FOR(i, a, b) for(int64 i = (a);i < (b);i++)\n#define all(x) x.begin(),x.end()\n#define fs first\n#define sc second\n\nusing int32 = int_fast32_t;\nusing uint32 = uint_fast32_t;\nusing int64 = int_fast64_t;\nusing uint64 = uint_fast64_t;\nusing PII = pair<int32, int32>;\nusing PLL = pair<int64, int64>;\n\nconst double eps = 1e-10;\n\ntemplate<typename A, typename B>inline void chmin(A &a, B b){if(a > b) a = b;}\ntemplate<typename A, typename B>inline void chmax(A &a, B b){if(a < b) a = b;}\n\ntemplate<typename T>\nvector<T> make_v(size_t a){return vector<T>(a);}\n\ntemplate<typename T,typename... Ts>\nauto make_v(size_t a,Ts... ts){\n  return vector<decltype(make_v<T>(ts...))>(a,make_v<T>(ts...));\n}\n\ntemplate<typename T,typename U,typename... V>\ntypename enable_if<is_same<T, U>::value!=0>::type\nfill_v(U &u,const V... v){u=U(v...);}\n\ntemplate<typename T,typename U,typename... V>\ntypename enable_if<is_same<T, U>::value==0>::type\nfill_v(U &u,const V... v){\n  for(auto &e:u) fill_v<T>(e,v...);\n}\n\nint main(void){\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\tint64 n;\n\tcin >> n;\n\tREP(_, n) {\n\t\tstring op, s;\n\t\tcin >> op >> s;\n\t\tREP(i, op.size()) {\n\t\t\tif (op[i] == 'J') {\n\t\t\t\ts = s.substr(1, s.size()-1) + string(s[0]);\n\t\t\t} else if (op[i] == 'C') {\n\t\t\t\ts = string(s.back()) + s.substr(0, s.size()-1);\n\t\t\t} else if (op[i] == 'E') {\n\t\t\t\tif (s.size() % 2) {\n\t\t\t\t\ts = s.substr(s.size()/2+1, s.size()/2) + string(s[s.size()/2]) + s.substr(0, s.size()/2);\n\t\t\t\t} else {\n\t\t\t\t\ts = s.substr(s.size()/2, s.size()/2) + s.substr(0, s.size()/2);\n\t\t\t\t}\n\t\t\t} else if (op[i] == 'A') {\n\t\t\t\ts = reverse(all(s));\n\t\t\t} else if (op[i] == 'P') {\n\t\t\t\tREP(j, s.size()) {\n\t\t\t\t\tif ('0' <= s[j] && s[j] <= '9') {\n\t\t\t\t\t\ts[j] = (char)((s[j]-'0'+1)%10+'0');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tREP(j, s.size()) {\n\t\t\t\t\tif ('0' <= s[j] && s[j] <= '9') {\n\t\t\t\t\t\ts[j] = (char)((s[j]-'0'+9)%10+'0');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << s << endl;\n\t}\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\n#include<map>\n#include<set>\n#include<utility>\n#include<vector>\n#include<cmath>\n#include<cstdio>\n#define loop(i,a,b) for(int i=a;i<b;i++) \n#define rep(i,a) loop(i,0,a)\n#define pb push_back\n#define mp make_pair\n#define it ::iterator\n#define all(in) in.begin(),in.end()\nconst double PI=acos(-1);\nconst double ESP=1e-10;\nusing namespace std;\nint main(){\n  int n;\n  cin>>n;\n  while(n--){\n    string in,s;\n    cin>>in>>s;\n    for(int i=in.size()-1;i>=0;i--){\n      if(in[i]=='C')\n\ts=s.substr(1)+s[0];\n      else if(in[i]=='A')\n\treverse(all(s));\n      else if(in[i]=='E'){\n\t//cout<<s.size()<<endl;\n\tint tmp=s.size();\n\tif(!(tmp%2))\n\t  s=s.substr(tmp/2)+s.substr(0,tmp/2);\n\telse\n\t  s=s.substr(tmp/2+1)+s[tmp/2]+s.substr(0,tmp/2);\n      }else if(in[i]=='J')\n\ts=s[s.size()-1]+s.substr(0,s.size()-1);\n      else if(in[i]=='M'){\n\trep(j,s.size())if(isdigit(s[j])){\n\t  s[j]++;\n\t  if(s[j]>'9')s[j]='0';\n\t}\n      }else if(in[i]=='P'){\n\trep(j,s.size())if(isdigit(s[j])){\n\t  s[j]--;\n\t  if(s[j]<'0')s[j]='9';\n\t}\n      }\n      //cout<<s<<endl;\n    }\n    cout<<s<<endl;\n  }\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n\nusing namespace std;\n\nint main() {\n\tint N; cin >> N;\n\tfor (int t = 0; t < N; ++t) {\n\t\tstring s1, s2; cin >> s1 >> s2;\n\t\treverse( s1.begin(), s1.end() );\n\t\tfor (int i = 0; i < s1.size(); ++i) {\n\t\t\tswitch (s1[i]) {\n\t\t\t\tcase 'A':\n\t\t\t\t\treverse( s2.begin(), s2.end() );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'J':\n\t\t\t\t\ts2 = s2[s2.size()-1] + s2.substr(0, s2.size()-1);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'C':\n\t\t\t\t\ts2 = s2.substr(1) + s2[0];\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'E':\n\t\t\t\t\tif (s2.size() > 1) {\n\t\t\t\t\t\tif (s2.size() % 2 == 0) s2 = s2.substr(s2.size()/2) + s2.substr(0, s2.size()/2);\n\t\t\t\t\t\telse s2 = s2.substr(s2.size()/2+1) + s2[s2.size()/2] + s2.substr(0, s2.size()/2);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'M':\n\t\t\t\t\tfor (int j = 0; j < s2.size(); ++j) {\n\t\t\t\t\t\tif ('0' <= s2[j] && s2[j] < '9') ++s2[j];\n\t\t\t\t\t\telse if (s2[j] == '9') s2[j] = '0';\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'P':\n\t\t\t\t\tfor (int j = 0; j < s2.size(); ++j) {\n\t\t\t\t\t\tif ('0' < s2[j] && s2[j] <= '9') --s2[j];\n\t\t\t\t\t\telse if (s2[j] == '0') s2[j] = '9';\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tcout << s2 << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main(){\n  int n;\n  cin>>n;\n  while(n--){\n    string q,s;\n    cin>>q>>s;\n    for(int i=0;i<q.size();i++){\n      if(q[i]=='J')s=s.substr(1,s.size()-1)+s[0];\n      if(q[i]=='C')s=s[s.size()-1]+s.substr(0,s.size()-1);\n      if(q[i]=='E')\n\tfor(int j=0;j<s.size()/2;j++)swap(s[j],s[(s.size()+1)/2+j]);\n      if(q[i]=='A')reverse(s.begin(),s.end());\n      if(q[i]=='M')\n\tfor(int j=0;j<s.size();j++)\n\t  if(isdigit(s[j]))s[j]=((s[j]-'0')+1)%10+'0';\n      if(q[i]=='P')\n\tfor(int j=0;j<s.size();j++)\n\t  if(isdigit(s[j]))s[j]=((s[j]-'0'+10)-1)%10+'0';\n    }\n    cout<<s<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\nint main() {\n  int n, l, m;\n  string s, t;\n  char u, p;\n  cin >> n;\n  for (int i = 0; i < n; ++i) {\n    cin >> s;\n    cin >> t;\n    l = s.size();\n    m = t.size();\n    for (int i = l-1; i >= 0; --i) {\n      p = s[i];\n      if (p == 'P') {\n\tfor (int j = 0; j < m; ++j) {\n\t  if (t[j] == '0') t[j] = '9';\n\t  else if ('0' < t[j] && t[j] <= '9') {\n\t    t[j] = t[j] - 1;\n\t  }\n\t}\n      } else if (p == 'M') {\n\tfor (int j = 0; j < m; ++j) {\n\t  if (t[j] == '9') t[j] = '0';\n\t  else if ('0' <= t[j] && t[j] < '9') {\n\t    t[j] = t[j] + 1;\n\t  }\n\t}\n      } else if (p == 'C') {\n\tu = t[0];\n\tfor (int j = 0; j < m-1; ++j) t[j] = t[j+1];\n\tt[m-1] = u;\n      } else if (p == 'A') {\n\tfor (int j = 0; j < m/2; ++j) {\n\t  u = t[m-1-j];\n\t  t[m-1-j] = t[j];\n\t  t[j] = u;\n\t}\n      } else if (p == 'E') {\n\tfor (int j = 0; j < m/2; ++j) {\n\t  u = t[m/2+m%2+j];\n\t  t[m/2+m%2+j] = t[j];\n\t  t[j] = u;\n\t}\n      } else if (p == 'J') {\n\tu = t[m-1];\n\tfor (int j = m-1; j > 0; --j) t[j] = t[j-1];\n\tt[0] = u;\n      }\n      //      cout << p << \" \" << t << endl;\n    }\n    cout << t << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cassert>\n\n#include <cctype>\n#include <cerrno>\n#include <cfloat>\n#include <ciso646>\n#include <climits>\n#include <clocale>\n#include <cmath>\n#include <csetjmp>\n#include <csignal>\n#include <cstdarg>\n#include <cstddef>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <ctime>\n#include <ccomplex>\n#include <cfenv>\n#include <cinttypes>\n#include <cstdbool>\n#include <cstdint>\n#include <ctgmath>\n#include <cwchar>\n#include <cwctype>\n\n// C++\n#include <algorithm>\n#include <bitset>\n#include <complex>\n#include <deque>\n#include <exception>\n#include <fstream>\n#include <functional>\n#include <iomanip>\n#include <ios>\n#include <iosfwd>\n#include <iostream>\n#include <istream>\n#include <iterator>\n#include <limits>\n#include <list>\n#include <locale>\n#include <map>\n#include <memory>\n#include <new>\n#include <numeric>\n#include <ostream>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <stdexcept>\n#include <streambuf>\n#include <string>\n#include <typeinfo>\n#include <utility>\n#include <valarray>\n#include <vector>\n#include <array>\n#include <atomic>\n#include <chrono>\n#include <condition_variable>\n#include <forward_list>\n#include <future>\n#include <initializer_list>\n#include <mutex>\n#include <random>\n#include <ratio>\n#include <regex>\n#include <scoped_allocator>\n#include <system_error>\n#include <thread>\n#include <tuple>\n#include <typeindex>\n#include <type_traits>\n#include <unordered_map>\n#include <unordered_set>\n// #include <boost/foreach.hpp>\n// #include <boost/range/algorithm.hpp>\n#define rep(i,j,k) for(int i=(int)j;i<(int)k;i++)\n#define ll long long\n#define Sort(v) sort(all(v))\n#define INF 1e9\n#define LINF 1e18\n#define END return 0\n#define pb push_back\n#define se second\n#define fi first\n#define pb push_back\n#define all(v) (v).begin() , (v).end()\n#define MP make_pair\n#define int long long\nusing namespace std;\nint day[12]={31,28,31,30,31,30,31,31,30,31,30,31};\n// int dx[]={0,1,0,-1};\n// int dy[]={1,0,-1,0};\nstruct edge{int to,cost;};\n//typedef pair<int,int> P;\n\nconst long long MOD=1000000007LL;\nbool isupper(char c){if('A'<=c&&c<='Z')return 1;return 0;}\nbool islower(char c){if('a'<=c&&c<='z')return 1;return 0;}\nbool isPrime(int x){if(x==1)return 0;if(x==2)return 1;if(x%2==0)return 0;for(int i=3;i*i<=x;i++)if(x%i==0)return 0;return 1;}\nbool iskaibun(string s){for(int i=0;i<s.size()/2;i++)if(s[i]!=s[s.size()-i-1])return 0;return 1;}\nbool isnumber(char c){return ('0'<=c&&c<='9');}\nbool isalpha(char c){return (isupper(c)||islower(c));}\nvoid printvi(vector<int> v){rep(i,0,v.size()){if(i)cout<<\" \";cout<<v[i];}cout<<endl;}\nvoid printvil(vector<int> v){rep(i,0,v.size()){cout<<v[i]<<endl;}}\nvoid printvvi(vector<vector<int>> v){\n    rep(i,0,v.size()){\n        rep(j,0,v[i].size()){\n            if(j)cout<<\" \";\n            cout<<v[i][j];\n        }\n        cout<<endl;\n    }\n}\nvoid printvstr(vector<string> v){\n    rep(i,0,v.size()){\n        cout<<v[i]<<endl;\n    }\n}\n\nint gcd(int a,int b){\n    if(a<b)swap(a,b);\n    if(b==0)return a;\n    else return gcd(b,a%b);\n}\n\nstruct S{\n    int y,x;\n    int cost;\n};\n\n\nsigned main (){\n    int n;\n    cin>>n;\n    rep(i,0,n){\n        string cmd;\n        string s;\n        cin>>cmd>>s;\n        reverse(all(cmd));\n        int n=s.size();\n        for(auto c:cmd){\n            if(c=='J')s=s[n-1]+s.substr(0,n-1);\n            else if(c=='C')s=s.substr(1)+s[0];\n            else if(c=='E'){\n                if(n%2==0)s=s.substr(n/2)+s.substr(0,n/2);\n                else {\n                    s=s.substr(n/2+1)+s[n/2]+s.substr(0,n/2);\n                }\n            }else if(c=='A')reverse(all(s));\n            else if(c=='M'){\n                rep(i,0,s.size()){\n                    if(isnumber(s[i])){\n                        if(s[i]=='9')s[i]='0';\n                        else s[i]++;\n                    }\n                }\n            }else if(c=='P'){\n                rep(i,0,s.size()){\n                    if(isnumber(s[i])){\n                        if(s[i]=='0')s[i]='9';\n                        else s[i]--;\n                    }\n                }\n            }\n        }\n        cout<<s<<endl;\n    }\n    \n    \n\n\n\n    \n}\n/*\n*/\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<iomanip>\n#include<queue>\n#include<string>\n#include<stack>\n#include<cstdio>\n#include<cstdlib>\n#include<cmath>\n#include<cstring>\n#include<cassert>\n#include<ctime>\n#include<algorithm>\n#include<utility>\n#include<map>\n#include<set>\n#include<vector>\n#include<functional>\n\nusing namespace std;\n\n#ifdef DEBUG\n#define dprintf      printf\n#define dout(x)      cout<<#x\" = \"<<(x)<<endl\n#define darray(x,n)    {int i;rep(i,n)cout<<#x\"[\"<<i<<\"] = \"<<*((x)+i)<<endl;}\n#define dloop(i,s,g) for((i)=(s);(i)<(g);(i)++)\n#define drep(i,n)    for((i)=0;(i)<(n);(i)++)\n#define dstop()      scanf(\"%*c\")\n#else\n#define dprintf      (1)?0:printf\n#define dout(x)\n#define darray(x,n)\n#define dloop(i,s,g) if(1){}else\n#define drep(i,n)    if(1){}else\n#define dstop()      if(1){}else\n#endif\n\n#define F    first\n#define S    second\n#define pb   push_back\n#define mp   make_pair\n\n#define loop(i,s,g) for((i)=(s);(i)<(g);(i)++)\n#define rep(i,n)    for((i)=0;(i)<(n);(i)++)\n#define all(x)      (x.begin(),x.end())\n#define in(T,...) T __VA_ARGS__; impl(__VA_ARGS__);\n#define array(T,id,n) T id[n]; rep(i,n)cin>>id[i];\n\n//#define int long long;\n#ifndef int\n#define INF (0x7fffffff)\n#else\n#define INF (0x7fffffffffffffff)\n#endif\n\ntypedef  long long           ll;\ntypedef  unsigned            ui;\ntypedef  unsigned long long  ull;\ntypedef  pair<int,int>       i_i;\ntypedef  pair<ll,int>        ll_i;\ntypedef  pair<ll,ll>         ll_ll;\ntypedef  pair<double,int>    d_i;\ntypedef  pair<double,double> d_d;\n\nvoid impl(){};\ntemplate <typename T,typename... TS >\nvoid impl(T &head,TS &... tail)\n{\n  cin>>head;\n  impl(tail ...);\n}\n\nvoid dej(char *str)\n{\n  int len=strlen(str);\n  char a=str[len-1];\n  str[len-1]=0;\n  char ptr[112345]={};\n  sprintf(ptr,\"%c%s\",a,str);\n  sprintf(str,\"%s\",ptr);\n}\nvoid dec(char *str)\n{\n  sprintf(str,\"%s%c\",&str[1],str[0]);\n}\nvoid dee(char *str)\n{\n  int len=strlen(str);\n  char top[112345]={};sprintf(top,\"%s\",str);top[len/2]=0;\n  char mid[10]={};if(len%2)mid[0]=str[(len+1)/2-1];\n  char bot[112345]={};sprintf(bot,\"%s\",&str[(len+1)/2]);\n  sprintf(str,\"%s%s%s\",bot,mid,top);\n}\nvoid dea(char *str)\n{\n  int i;\n  int len=strlen(str)-1;\n  int n=(len+1)/2;\n  char t;\n  rep(i,n)\n    {\n      t=str[i];\n      str[i]=str[len-i];\n      str[len-i]=t;\n    }\n}\nvoid dep(char *str)\n{\n  int i;\n  int n=strlen(str);\n  rep(i,n)\n    if('0'<=str[i] && str[i]<='9')\n      {\n\tif(str[i]=='0')\n\t  str[i]='9';\n\telse\n\t  str[i]--;\n      }\n}\nvoid dem(char *str)\n{\n  int i;\n  int n=strlen(str);\n  rep(i,n)\n    if('0'<=str[i] && str[i]<='9')\n      {\n\tif(str[i]=='9')\n\t  str[i]='0';\n\telse\n\t  str[i]++;\n      }\n}\n\nvoid decode(char *str,char type)\n{\n  switch(type)\n    {\n    case 'J':dej(str);break;\n    case 'C':dec(str);break;\n    case 'E':dee(str);break;\n    case 'A':dea(str);break;\n    case 'P':dep(str);break;\n    case 'M':dem(str);break;\n    }\n}\n\nsigned main(void)\n{\n  char str[112345]={};\n  char type[112345]={};\n  int n;\n  cin>>n;\n  int i;\n  int j,len;\n  rep(i,n)\n    {\n      scanf(\"%s\",type);\n      scanf(\"%s\",str);\n      len=strlen(type);\n      rep(j,len)\n\tdecode(str,type[len-j-1]);\n      printf(\"%s\\n\",str);\n    } \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\nstring A(string str){\n  string str1;\n  for(int i=0;i<str.size();i++) str1+=str[str.size()-i-1];\n   return str1;\n}\nstring C(string str){\n  string str1;\n  for(int i=1;i<str.size();i++) str1+=str[i];\n  str1+=str[0];\n  return str1;\n}\nstring J(string str){\n  string str1;\n  str1+=str[str.size()-1];\n  for(int i=0;i<str.size()-1;i++) str1+=str[i];\n   return str1;\n}\nstring E(string str){\n  string str1;\n  int a=0;\n  if(str.size()%2) a=1;\n  for(int i=(str.size()/2)+a;i<str.size();i++) str1+=str[i];\n  if(a==1) str1+=str[str.size()/2],a=0;\n  for(int i=0;i<(str.size()/2+a);i++) str1+=str[i];\n  return str1;\n}\nstring M(string str){\n  string str1;\n  for(int i=0;i<str.size();i++){\n    if(str[i]>='0' && str[i]<'9') str[i]++;\n    else if(str[i]=='9')str[i]='0';\n    str1+=str[i];\n  }\n  return str1;\n}\nstring P(string str){\n  string str1;\n  for(int i=0;i<str.size();i++){\n    if(str[i]>'0' && str[i]<='9') str[i]--;\n    else if(str[i]=='0') str[i]='9';\n    str1+=str[i];\n  }\n  return str1;\n}\n\nint main(){\n  int n;\n  string str,str1;\n  cin>>n;\n  for(int i=0;i<n;i++){\n    cin>>str;\n    cin>>str1;\n    for(int j=str.size()-1;j>=0;j--){\n      if(str[j]=='A') str1=A(str1);\n      else if(str[j]=='J') str1=J(str1);\n      else if(str[j]=='C') str1=C(str1);\n      else if(str[j]=='E') str1=E(str1);\n      else if(str[j]=='P') str1=P(str1);\n      else str1=M(str1);\n      }\n    cout<<str1<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\n#include <cctype>\nusing namespace std;\n\nvoid dec(string& a)\n{\n\tfor(int i=0; i<a.size(); i++) {\n\t\tif(isdigit(a[i])) {\n\t\t\ta[i] = (a[i] - '0' + 9) % 10 + '0';\n\t\t}\n\t}\n}\n\nvoid inc(string& a)\n{\n\tfor(int i=0; i<a.size(); i++) {\n\t\tif(isdigit(a[i])) {\n\t\t\ta[i] = (a[i] - '0' + 1) % 10 + '0';\n\t\t}\n\t}\n}\n\nvoid half(string& a)\n{\n\tint N = a.size();\n\tfor(int i=0; i<N/2; i++) swap(a[i], a[N/2+i+N%2]);\n}\n\nint main()\n{\n\tint N;\n\tcin >> N;\n\twhile(N--) {\n\t\tstring cmd, str;\n\t\tcin >> cmd;\n\t\treverse(cmd.begin(), cmd.end());\n\n\t\tcin >> str;\n\t\tfor(int i=0; i<cmd.size(); i++) {\n\t\t\tif(cmd[i] == 'A') reverse(str.begin(), str.end());\n\t\t\tif(cmd[i] == 'M') inc(str);\n\t\t\tif(cmd[i] == 'P') dec(str);\n\t\t\tif(cmd[i] == 'C') rotate(str.begin(), str.begin() + 1, str.end());\n\t\t\tif(cmd[i] == 'J') rotate(str.begin(), str.end() - 1, str.end());\n\t\t\tif(cmd[i] == 'E') half(str);\n\t\t}\n\n\t\tcout << str << endl;\n\t}\n\n\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n)for(int i=0;i<n;i++)\nusing namespace std;\n\nint main() {\n\tint n;\n\twhile (~scanf(\"%d\", &n)) {\n\t\tstring m, s; cin >> m >> s;\n\t\treverse(m.begin(), m.end());\n\t\tfor (char c : m) {\n\t\t\tswitch (c) {\n\t\t\tcase'C':rotate(s.begin(), ++s.begin(), s.end()); break;\n\t\t\tcase'J':rotate(s.begin(), --s.end(), s.end()); break;\n\t\t\tcase'E':s = s.substr(s.size() / 2 + s.size() % 2) + s.substr(s.size() / 2, s.size() % 2) + s.substr(0, s.size() / 2); break;\n\t\t\tcase'A':reverse(s.begin(), s.end()); break;\n\t\t\tcase'M':transform(s.begin(), s.end(), s.begin(), [](char c) {\n\t\t\t\tif (c == '9')return'0';\n\t\t\t\tif ('0' <= c&&c < '9')return ++c;\n\t\t\t}); break;\n\t\t\tcase'P':transform(s.begin(), s.end(), s.begin(), [](char c) {\n\t\t\t\tif (c == '0')return'9';\n\t\t\t\tif ('0' < c&&c <= '9')return --c;\n\t\t\t}); break;\n\t\t\t}\n\t\t}\n\t\tcout << s << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define range(i,a,b) for(int i = (a); i < (b); i++)\n#define rep(i,b) for(int i = 0; i < (b); i++)\n#define all(a) (a).begin(), (a).end()\n#define debug(x) cout << \"debug \" << x << endl;\nconst int INF = 100000000;\nusing namespace std;\n\nint main(){\n    int n;\n    cin >> n;\n    rep(i,n){\n        list<char> li;\n        list<char>::iterator it;\n        string order, s, temp;\n        cin >> temp >> s;\n        rep(j,s.size()) li.emplace_back(s[j]);\n        for(int j = temp.size() - 1; j >= 0; j--) order += temp[j];\n        rep(j,order.size()){\n            if(order[j] == 'C'){\n                li.emplace_back(*li.begin());\n                li.pop_front();\n            }else if(order[j] == 'J'){\n                li.emplace_front(*(--li.end()));\n                li.pop_back();\n            }else if(order[j] == 'E'){\n                int m = li.size();\n                rep(k, m / 2){\n                    li.emplace_back(*li.begin());\n                    li.pop_front();\n                }\n                if(m % 2){\n                    it = li.begin();\n                    rep(k, m / 2 + 1) *it++;\n                    li.insert(it, *li.begin());\n                    li.pop_front();\n                }\n            }else if(order[j] == 'A'){\n                li.reverse();\n            }else if(order[j] == 'M'){\n                for(it = li.begin(); it != li.end(); it++){\n                    if(*it >= '0' && *it <= '8') *it = *it + 1;\n                    else if(*it == '9') *it = '0';\n                }\n            }else if(order[j] == 'P'){\n                for(it = li.begin(); it != li.end(); it++){\n                    if(*it >= '1' && *it <= '9') *it = *it - 1;\n                    else if(*it == '0') *it = '9';\n                }\n            }\n        }\n        for(auto t: li){\n            cout << t;\n        }\n        cout << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<sstream>\n#include<algorithm>\n#include<climits>\n#include<cmath>\n#include<cstdio>\n#include<cstdlib>\n#include<ctime>\n#include<cfloat>\n#include<functional>\n#include<map>\n#include<string>\n#include<cstring>\n#include<vector>\n#include<queue>\n#include<stack>\n#include<deque>\n#include<set>\n#include<bitset>\n#include<list>\n#include<numeric>\n#include<complex>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int, int> i_i;\ntypedef pair<long long, int> ll_i;\ntypedef pair<double, int> d_i;\ntypedef pair<long long, long long> ll_ll;\ntypedef pair<double, double> d_d;\ntypedef vector<int> Vint;\n\n#define PI 3.141592653589793238462643383279\n#define mod 1000000007LL\n#define rep(i, n) for(i = 0;i < n;++i)\n#define rep1(i, n) for(i = 1;i < n;++i)\n#define rep2d(i, j, n) for(i = 0;i < n;++i)for(j = i + 1;j < n;++j)\n#define per(i, n) for(i = n - 1;i > -1;--i)\n#define int(x) int x; scanf(\"%d\",&x)\n#define int2(x, y) int x, y; scanf(\"%d%d\",&x, &y)\n#define int3(x, y, z) int x, y, z; scanf(\"%d%d%d\",&x, &y, &z)\n#define int4(v, x, y, z) int v, x, y, z; scanf(\"%d%d%d%d\", &v, &x, &y, &z)\n#define int5(v, w, x, y, z) int v, w, x, y, z; scanf(\"%d%d%d%d%d\", &v, &w, &x, &y, &z)\n#define scn(n, a) rep(i, n)cin >> a[i]\n#define sc2n(n, a, b) rep(i, n)cin >> a[i] >> b[i]\n#define pri(x) cout << x << \"\\n\"\n#define pri2(x, y) cout << x << \" \" << y << \"\\n\"\n#define pri3(x, y, z) cout << x << \" \" << y << \" \" << z << \"\\n\"\n#define pb push_back\n#define mp make_pair\n#define all(a) (a).begin(),(a).end()\n#define endl \"\\n\"\n#define kabe puts(\"---------------------------\")\n#define kara puts(\"\")\n#define debug(x) cout << \" --- \" << x << \"\\n\"\n#define debug2(x, y) cout << \" --- \" << x << \" \" << y << \"\\n\"\n#define debug3(x, y, z) cout << \" --- \" << x << \" \" << y << \" \" << z << \"\\n\"\n#define X first\n#define Y second\n#define eps 0.0001\n#define prid(x) printf(\"%.15lf\\n\", x)\n\nstring s;\n\nvoid f(char c){\n  if(c == 'C'){\n    s = s.substr(1, s.size() - 1) + s.substr(0, 1);\n  }else if(c == 'J'){\n    s = s.substr(s.size() - 1, 1) + s.substr(0, s.size() - 1);\n  }else if(c == 'E'){\n    int qwe = s.size() / 2;\n    if(s.size() % 2)s = s.substr(qwe + 1, qwe) + s.substr(qwe, 1) + s.substr(0, qwe);\n    else s = s.substr(qwe, qwe) + s.substr(0, qwe);\n  }else if(c == 'A'){\n    reverse(all(s));\n  }else if(c == 'M'){\n    int i;\n    rep(i, s.size())if('0' <= s[i] && s[i] <= '9'){\n      s[i] == '9' ? s[i] = '0' : ++s[i];\n    }\n  }else if(c == 'P'){\n    int i;\n    rep(i, s.size())if('0' <= s[i] && s[i] <= '9'){\n      s[i] == '0' ? s[i] = '9' : --s[i];\n    }\n  }\n  return;\n}\n\nsigned main(void){\n  int i, j, k;\n  int(n);\n  for(int testcase = 0;testcase < n;testcase++){\n    string t;\n    cin >> t >> s;\n    per(i, t.size())f(t[i]);\n    pri(s);\n\n    s.clear(); t.clear();\n//*/\n\n//*/ break;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define _ ios_base::sync_with_stdio(0);cin.tie(0);\n#define REP(i,n) for(int i=0;i<(int)(n);i++)\n\nusing namespace std;\n\nint main(){ _;\n  int n;\n  string oom, mkg;\n  cin>>n;\n  REP(z,n){\n    cin>>oom>>mkg;\n    for(int j=oom.size()-1;j>=0;j--){\n      char p=oom[j];\n      switch(p){\n      case 'J':\n\tfor(int i=(int)mkg.size()-2;i>=0;i--)\n\t  swap(mkg[i],mkg[i+1]);\n\tbreak;\n      case 'C':\n\tfor(int i=0;i<=(int)mkg.size()-2;i++)\n\t  swap(mkg[i],mkg[i+1]);\n\tbreak;\n      case 'E':{\n\tint offset=mkg.size()-mkg.size()/2;\n\tfor(int i=0;i<(int)mkg.size()/2;i++)\n\t  swap(mkg[i],mkg[i+offset]);\n\tbreak;\n      }\n      case 'A':\n\tfor(int i=0;i<(int)mkg.size()/2;i++)\n\t  swap(mkg[i],mkg[mkg.size()-1-i]);\n\tbreak;\n      case 'P':\n\tfor(char& c:mkg)\n\t  if(c>='1'&&c<='9') c--;\n\t  else if(c=='0') c='9';\n\tbreak;\n      case 'M':\n\tfor(char& c:mkg)\n\t  if(c>='0'&&c<='8') c++;\n\t  else if(c=='9') c='0';\n\tbreak;\n      }\n      cout<<\"--\"<<mkg<<endl;\n    }\n    cout<<mkg<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <string.h>\nint main() {\n    int N,i,j,k,q;char T[30],c[9];scanf(\"%d\",&N);while (N--) {\n        scanf(\"%s%s\",&c,&T);j=strlen(c),k=strlen(T)-1;\n        while (j--) {\n            if (c[j]=='P') {\n                for (i=k;i>=0;i--) if (T[i]<='9') {T[i]--;if (T[i]==47) T[i]=57;}\n            } else if (c[j]=='M') {\n                for (i=k;i>=0;i--) if (T[i]<='9') {T[i]++;if (T[i]==58) T[i]=48;}\n            } else if (c[j]=='E') {\n                for (i=k,q=(k-1)/2;q>=0;i--,q--) T[i]+=T[q],T[q]=T[i]-T[q],T[i]-=T[q];\n            } else if (c[j]=='A') {\n                for (i=0,q=k;i<q;i++,q--) T[i]+=T[q],T[q]=T[i]-T[q],T[i]-=T[q];\n            } else if (c[j]=='J') {\n                c[8]=T[k];for (i=k;i>0;i--) T[i]=T[i-1];T[0]=c[8];\n            } else {\n                c[8]=T[0];for (i=0;i<k;i++) T[i]=T[i+1];T[k]=c[8];\n            }\n        }\n        puts(T);\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\nusing namespace std;\n\nstring A(string s){\n  reverse(s.begin(), s.end());\n  return s;\n}\nstring C(string s){\n  return s.substr(1, s.length() - 1) + s[0];\n}\nstring J(string s){\n  return s.back() + s.substr(0, s.length() - 1);\n}\nstring E(string s){\n  string res = s.substr((s.length() + 1)/2);\n  if(s.length()%2 != 0)res += s[s.length()/2];\n  res += s.substr(0, s.length()/2);\n  return res;\n}\n\nstring M(string s){\n  string res = s;\n  for (int i = 0; i < s.length(); i++) {\n    if('0' <= res[i] and res[i] < '9'){\n      res[i]++;\n    }else if(res[i] == '9'){\n      res[i] = '0';\n    }\n  }\n  return res;\n}\n\nstring P(string s){\n  string res = s;\n  for (int i = 0; i < s.length(); i++) {\n    if('0' < res[i] and res[i] <= '9'){\n      res[i]--;\n    }else if(res[i] == '0'){\n      res[i] = '9';\n    }\n  }\n  return res;\n}\n\nint main(){\n  int n;\n  std::cin >> n;\n  for (int roop = 0; roop < n; roop++) {\n    string ope, s;\n    std::cin >> ope >> s;\n    reverse(ope.begin(), ope.end());\n    for (int i = 0; i < ope.length(); i++) {\n      if(ope[i] == 'A'){\n        s = A(s);\n      }else if(ope[i] == 'E'){\n        s = E(s);\n      }else if(ope[i] == 'C'){\n        s = C(s);\n      }else if(ope[i] == 'J'){\n        s = J(s);\n      }else if(ope[i] == 'M'){\n        s = M(s);\n      }else if(ope[i] == 'P'){\n        s = P(s);\n      }else{\n        std::cerr << \"hoge\" << std::endl;\n      }\n    }\n    std::cout << s << std::endl;\n\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <numeric>\n#include <set>\n#include <map>\n#include <string>\n#include <stack>\n#include <queue>\n#include <cmath>\n#include <cstdio>\n#include <istream>\n#include <sstream>\n#include <iomanip>\nusing namespace std;\n\ntypedef ostringstream oss;\ntypedef istringstream iss;\n\nstring J(string str) {\n\tstr += str[0];\n\tstr.erase(str.begin());\n\treturn str;\n}\n\nstring C(string str) {\n\tstr.insert(str.begin(), *(str.rbegin()));\n\tstr.erase(str.size() - 1);\n\treturn str;\n}\n\nstring E(string str) {\n\tfor (int i = 0; i < str.size() / 2; i++) {\n\t\tswap(str[i], str[(str.size() + 1) / 2  + i]);\n\t}\n\treturn str;\n}\n\nstring A(string str) {\n\tfor (int i = 0; i < str.size() / 2; i++) {\n\t\tswap(str[i], str[str.size() - 1 - i]);\n\t}\n\treturn str;\n}\n\nstring P(string str) {\n\tfor (int i = 0; i < str.size(); i++) {\n\t\tif (str[i] >= '0' && str[i] <= '8') {\n\t\t\tstr[i]++;\n\t\t}else if (str[i] == '9') {\n\t\t\tstr[i] = '0';\n\t\t}\n\t}\n\treturn str;\n}\n\nstring M(string str) {\n\tfor (int i = 0; i < str.size(); i++) {\n\t\tif (str[i] >= '1' && str[i] <= '9') {\n\t\t\tstr[i]--;\n\t\t}else if (str[i] == '0') {\n\t\t\tstr[i] = '9';\n\t\t}\n\t}\n\treturn str;\n}\n\nstruct pFunc\n{\n\tpFunc(){}\n\tpFunc(string (*p)(string str)) : f(p) {}\n\tstring (*f)(string str);\n};\n\n\nint main(void) {\n\tmap<char, pFunc> F;\n\tF['J'] = pFunc(C);\n\tF['C'] = pFunc(J);\n\tF['E'] = pFunc(E);\n\tF['A'] = pFunc(A);\n\tF['P'] = pFunc(M);\n\tF['M'] = pFunc(P);\n\n\tint N;\n\tcin >> N;\n\tcin.ignore();\n\tfor (; N; N--) {\n\t\tstring str, ope;\n\t\tgetline(cin, ope);\n\t\tgetline(cin, str);\n\t\tfor (int i = ope.size() - 1; i >= 0; i--) {\n\t\t\tstr = F[ope[i]].f(str);\n\t\t}\n\t\tcout << \"--- \";\n\t\tcout << str << endl;\n\t}\n\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "// http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=1240\n\n#include <iostream>\n#include <string>\n#include <algorithm>\n#include <cctype>\nusing namespace std;\n\nint main() {\n  int N;\n  cin >> N;\n  for (int i=0; i<N; i++) {\n    string S, O;\n    cin >> O >> S;\n    reverse(O.begin(), O.end());\n    for (auto i=0; i<O.size(); i++) {\n      switch(O[i]) {\n      case 'J':\n\tS = S[S.size()-1] + S.substr(0, S.size()-1);\n\tbreak;\n      case 'C':\n\tS = S.substr(1) + S[0];\n\tbreak;\n      case 'E':\n\tif (S.size()%2 == 0) {\n\t  S = S.substr(S.size()/2) + S.substr(0, S.size()/2);\n\t} else {\n\t  S = S.substr(S.size()/2+1) + S[S.size()/2] \n\t    + S.substr(0, S.size()/2);\n\t}\n\tbreak;\n      case 'A':\n\treverse(S.begin(), S.end());\n\tbreak;\n      case 'P':\n\tfor (auto i=0; i<S.size(); i++) {\n\t  if (isdigit(S[i])) {\n\t    S[i] = (char)((((int)S[i] - '0')+10 -1)%10 + '0');  \n\t  }\n\t}\n\tbreak;\n      case 'M':\n\tfor (auto i=0; i<S.size(); i++) {\n\t  if (isdigit(S[i])) {\n\t    S[i] = (char)((((int)S[i] - '0')+10 +1)%10 + '0');  \n\t  }\n\t}\n\tbreak;\n      default:\n\tbreak;\n      }\n    }\n    cout << S << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define int long long   // <-----!!!!!!!!!!!!!!!!!!!\n\n#define rep(i,n) for (int i=0;i<(n);i++)\n#define rep2(i,a,b) for (int i=(a);i<(b);i++)\n#define rrep(i,n) for (int i=(n)-1;i>=0;i--)\n#define rrep2(i,a,b) for (int i=(b)-1;i>=(a);i--)\n#define all(a) (a).begin(),(a).end()\n\ntypedef long long ll;\ntypedef pair<int, int> P;\ntypedef tuple<int, int, int> TUPLE;\ntypedef vector<int> V;\ntypedef vector<V> VV;\ntypedef vector<VV> VVV;\n\nsigned main() {\n    std::ios::sync_with_stdio(false);\n    std::cin.tie(0);\n\n    int n;\n    cin >> n;\n    while (n--) {\n        string s;\n        cin >> s;\n        string t;\n        cin >> t;\n        int m = t.size();\n\n        rep(i, s.size()) {\n            if (s[i] == 'J') {\n                t = t.substr(1) + t[0];\n            }\n            if (s[i] == 'C') {\n                t = t[m - 1] + t.substr(0, m - 1);\n            }\n            if (s[i] == 'E') {\n                string u = \"\";\n                u += t.substr((m + 1) / 2);\n                if (m % 2 == 1) u += t[m / 2];\n                u += t.substr(0, m / 2);\n                t = u;\n            }\n            if (s[i] == 'A') {\n                reverse(all(t));\n            }\n            if (s[i] == 'P') {\n                rep(j, m) {\n                    if (isdigit(t[j])) {\n                        t[j] = (t[j] - '0' + 1) % 10 + '0';\n                    }\n                }\n            }\n            if (s[i] == 'M') {\n                rep(j, m) {\n                    if (isdigit(t[j])) {\n                        t[j] = (t[j] - '0' - 1 + 10) % 10 + '0';\n                    }\n                }\n            }\n        }\n\n        cout << t << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nint main(){\n    int n;\n    cin>>n;\n    for(int k=0;k<n;k++){\n        string order,msg;\n        cin>>order>>msg;\n        reverse(order.begin(),order.end());\n        for(int i=0;i<order.size();i++){\n            if(order[i]=='C'){\n                string tmp=msg;\n                for(int j=0;j<msg.size();j++)\n                    tmp[j]=msg[(j+1)%msg.size()];\n                    msg=tmp;\n            }\n            if(order[i]=='J'){\n                string tmp=msg;\n                for(int j=0;j<msg.size();j++)\n                    tmp[j]=msg[(j-1+int(msg.size()))%msg.size()];\n                msg=tmp;\n\n\n            }\n            if(order[i]=='E'){\n                string tmp=msg;\n                if(!(msg.size()%2))\n                    for(int j=0;j<msg.size()/2;j++){\n                        tmp[j]=msg[msg.size()/2+j];\n                        tmp[msg.size()/2+j]=msg[j];\n                    }\n                else\n                    for(int j=0;j<msg.size()/2;j++){\n                        tmp[j]=msg[msg.size()/2+1+j];\n                        tmp[msg.size()/2+1+j]=msg[j];\n\n                    }\n                msg=tmp;\n            }\n            if(order[i]=='A')\n                reverse(msg.begin(),msg.end());\n            if(order[i]=='M'){\n                for(int j=0;j<msg.size();j++)\n                    if('0'<=msg[j] && msg[j]<='9')\n                        msg[j]=(msg[j]-'0'+1)%10+'0';\n\n            }\n            if(order[i]=='P'){\n                for(int j=0;j<msg.size();j++)\n                    if('0'<=msg[j] && msg[j]<='9')\n                        msg[j]=(msg[j]+10-'0'-1)%10+'0';\n\n\n            }\n      }\n\n        cout<<msg<<endl;\n    }\n\n\n    return 0;\n}\n                  \n                                                   "
  },
  {
    "language": "C++",
    "code": "#include <string>\n#include <iostream>\n#include <algorithm>\n\nusing namespace std;\n\nstring turn1(string S)\n{\n\treturn S.substr(1, S.size() - 1) + S[0];\n}\n\nstring turn2(string S)\n{\n\treturn S[S.size() - 1] + S.substr(0, S.size() - 1);\n}\n\nstring turn3(string S)\n{\n\tstring T;\n\n\tif (S.size() % 2 == 1)\n\t{\n\t\tT = S.substr(S.size() / 2 + 1, S.size() / 2) + S[S.size() / 2] + S.substr(0, S.size() / 2);\n\t}\n\telse\n\t{\n\t\tT = S.substr(S.size() / 2, S.size() / 2) + S.substr(0, S.size() / 2);\n\t}\n\n\treturn T;\n}\n\nstring turn4(string S)\n{\n\treverse(S.begin(), S.end());\n\n\treturn S;\n}\n\nstring turn5(string S)\n{\n\tfor (int i = 0; i < S.size(); i++)\n\t{\n\t\tif (isdigit(S[i]))\n\t\t{\n\t\t\tif (S[i] == '9')\n\t\t\t{\n\t\t\t\tS[i] = '0';\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tS[i]++;\n\t\t\t}\n\t\t}\n\t}\n}\n\nstring turn6(string S)\n{\n\tfor (int i = 0; i < S.size(); i++)\n\t{\n\t\tif (isdigit(S[i]))\n\t\t{\n\t\t\tif (S[i] == '0')\n\t\t\t{\n\t\t\t\tS[i] = '9';\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tS[i]--;\n\t\t\t}\n\t\t}\n\t}\n}\n\nint main()\n{\n\tint n; string S, T;\n\n\tcin >> n;\n\n\tfor (int i = 0; i < n; i++)\n\t{\n\t\tcin >> S >> T;\n\n\t\tfor (int i = S.size() - 1; i >= 0; i--)\n\t\t{\n\t\t\tswitch (S[i])\n\t\t\t{\n\t\t\t\tcase 'C': T = turn1(T); break;\n\t\t\t\tcase 'J': T = turn2(T); break;\n\t\t\t\tcase 'E': T = turn3(T); break;\n\t\t\t\tcase 'A': T = turn4(T); break;\n\t\t\t\tcase 'M': T = turn5(T); break;\n\t\t\t\tcase 'P': T = turn6(T); break;\n\t\t\t}\n\t\t}\n\n\t\tcout << T << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nusing ll = long long;\nusing vi = vector<int>;\nusing vvi = vector<vi>;\nusing vs = vector<string>;\nusing msi = map<string, int>;\nusing mii = map<int, int>;\nusing psi = pair<string, int>;\nusing pii = pair<int, int>;\nusing vlai = valarray<int>;\n#define rep(i,n) for(int i=0;i<n;i++)\n#define range(i,s,n) for(int i=s;i<n;i++)\n#define all(a) a.begin(),a.end()\n#define rall(a) a.rbegin(),a.rend()\n#define fs first\n#define sc second\n#define pb push_back\n#define eb emplace_back\n#define mp make_pair\n#define INF 1E9\n#define EPS 1E-9\n#define MOD (ll)(1E9+7)\n#define PI 3.1415926535897932384\n\ntemplate <class T>ostream &operator<<(std::ostream &o, const vector<T> &v)\n{\n\trep(i, v.size()) {\n\t\to << (i > 0 ? \" \" : \"\") << v[i];\n\t}\n\treturn o;\n}\n\n\n\nint main() {\n\tint n;\n\tcin >> n;\n\trep(i, n) {\n\t\tstring order;\n\t\tstring output;\n\t\tstring tmp,tmp2;\n\t\tcin >> order >> output;\n\t\treverse(all(order));\n\t\trep(o, order.size()) {\n\t\t\tswitch (order[o]) {\n\t\t\tcase 'J':\n\t\t\t\ttmp = output.substr(0, output.size() - 1);\n\t\t\t\toutput = output[output.size() - 1] + tmp;\n\t\t\t\tbreak;\n\t\t\tcase 'C':\n\t\t\t\ttmp = output.substr(1, output.size() - 1);\n\t\t\t\toutput = tmp+output[0];\n\t\t\t\tbreak;\n\t\t\tcase 'E':\n\t\t\t\ttmp = output.substr(0, output.size() / 2);\n\t\t\t\ttmp2= output.substr((output.size() % 2)? output.size() / 2 +1: output.size() / 2, output.size() / 2 );\n\t\t\t\tif (output.size() % 2) {\n\t\t\t\t\toutput = tmp2 + output[output.size() / 2] + tmp;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\toutput = tmp2 + tmp;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'A':\n\t\t\t\treverse(all(output));\n\t\t\t\tbreak;\n\t\t\tcase 'P':\n\t\t\t\trep(c , output.size()) {\n\t\t\t\t\tif (output[c] >= '1'&&output[c] <= '9') {\n\t\t\t\t\t\toutput[c]--;\n\t\t\t\t\t}\n\t\t\t\t\telse if (output[c] == '0') {\n\t\t\t\t\t\toutput[c] = '9';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'M':\n\t\t\t\trep(c, output.size()) {\n\t\t\t\t\tif (output[c] >= '0'&&output[c] <= '8') {\n\t\t\t\t\t\toutput[c]++;\n\t\t\t\t\t}\n\t\t\t\t\telse if (output[c] == '9') {\n\t\t\t\t\t\toutput[c] = '0';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefalt:\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tcout << output << endl;\n\t}\n\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <stdio.h>\n#include <cstdio>\n#include <algorithm>\nusing namespace std;\n\nint main(){\n    int n;\n    cin >> n;\n    while( n-- ){\n        string p, m;\n        cin >> p >> m;\n        reverse( p.begin(), p.end() );\n        for( size_t i = 0; i < p.length(); i++ ){\n            switch(p[i]){\n                case 'J':{\n                    char tmp = m[m.length() - 1];\n                    for( size_t j = m.length() - 1; j > 0; j-- ){\n                        //if( j == 0 ){\n                        //}else{\n                            m[j] = m[j-1];\n                        //}\n                        //cout << m[j] << endl;\n                    }\n                    m[0] = tmp;\n                    break;\n                }case 'C':{\n                    char tmp = m[0];\n                    for( size_t j = 0; j < m.length(); j++ ){\n                        if( j == m.length() - 1 ) m[j] = tmp;\n                        else m[j] = m[j+1];\n                    }\n                    break;\n                }case 'E':{\n                    string tmp = m.substr( 0, m.length() / 2 );\n                    m.replace( 0, (m.length() - 1) / 2, m );\n                    m.replace( m.length() / 2, tmp );\n                    break;\n                }case 'A':{\n                    reverse( m.begin(), m.end() );\n                    break;\n                }case 'P':{\n                    for( size_t j = 0; j < m.length(); j++ ){\n                        if( '1' <= m[j] && m[j] <= '9' ){\n                            m[j]--;\n                        }else if( '0' == m[j] ){\n                            m[j] = '9';\n                        }\n                    }\n                    break;\n                }case 'M':{\n                    for( size_t j = 0; j < m.length(); j++ ){\n                        if( '0' <= m[j] && m[j] <= '8' ){\n                            m[j]++;\n                        }else if( '9' == m[j] ){\n                            m[j] = '0';\n                        }\n                    }\n                    break;\n                }\n            }\n        }\n        cout << m << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<vector>\n#include<cstdio>\nusing namespace std;\nint main(){\n  int n;\n  string x;\n  string st;\n  cin >>n;\n  for(int i=0;i<n;i++){\n    cin >> x;\n    cin >> st;\n    for(int j=x.size()-1;j>=0;j--){\n      if(x[j]=='C'){\n\tchar stock;\n\tstock = st[0];\n\tst.erase(st.begin());\n\tst+=stock;\n      }\n      else if(x[j]=='J'){\n\tchar stock;\n\tstock = st[st.size()-1];\n\t//\tcout << \"p1\"<<endl;\n\tst.erase(st.size()-1);\n\t//cout <<\"p2\"<<endl;\n\tst.insert(st.begin(),stock);\n      }\n      else if(x[j]=='E'){\n\tstring stock;\n\tint l=st.size()/2;\n\tfor(int k=0;k<l;k++){\n\t  stock+=st[k];\n\t}\n\tstring stock2;\n\tint od = st.size()%2;\n\tfor(int k=l+od;k<l*2+od;k++){\n\t  stock2+=st[k];\n\t}\n\tchar st3;\n\tif(od==1){st3+=st[l];\n\t  st=stock2+st3+stock;\n\t}\n\telse{\n\t  st=stock2+stock;\n\t}\n      }\n      else if(x[j]=='A'){\n\tstring stock;\n\tfor(int k=0;st.empty()!=true;k++){\n\t  stock += st[0];\n\t  st.erase(st.begin());\n\t}\n\t//cout << stock <<endl;\n\tfor(int k=stock.size()-1;k>=0;k--){\n\t  st+=stock[k];\n\t}\n      }\n      else if(x[j]=='M'){\n\tfor(int k=0;k<st.size();k++){\n\t  if(st[k]>='0'&&st[k]<'9'){\n\t    st[k]++;\n\t  }\n\t  else if(st[k]=='9'){\n\t    st[k]='0';\n\t  }\n\t}\n      }\n      else if(x[j]=='P'){\n\tfor(int k=0;k<st.size();k++){\n\t  if(st[k]>'0'&&st[k]<='9'){\n\t    st[k]--;\n\t  }\n\t  else if(st[k]=='0'){\n\t    st[k]='9';\n\t  }\n\t}\n      }\t\n\n      //cout <<\"it is \"<<x[j]<<endl;\n      //cout << st << endl;\n    }\n    cout << st << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\nusing namespace std;\n\nint main() {\n    int C; cin >> C;\n    for (int CASE = 0; CASE < C; ++CASE) {\n        string S, T; cin >> S >> T;\n        int n = (int)T.size();\n        reverse(S.begin(), S.end());\n        for (auto c : S) {\n            string nT = T;\n            if (c == 'J') nT = \"\", nT += T.back(), nT += T.substr(0, n-1);\n            else if (c == 'C') nT = T.substr(1) + T[0];\n            else if (c == 'E') {\n                for (int i = 0; i < n; ++i) {\n                    if (i < n/2) nT[i] = T[i + (n+1)/2];\n                    else if (i >= (n+1)/2) nT[i] = T[i - (n+1)/2];\n                    else nT[i] = T[i];\n                }\n            }\n            else if (c == 'A') {\n                reverse(nT.begin(), nT.end());\n            }\n            else if (c == 'P') {\n                for (int i = 0; i < n; ++i) {\n                    if (T[i] >= '0' && T[i] <= '9') {\n                        int val = T[i] - '0';\n                        val = (val + 9) % 10;\n                        nT[i] = '0' + val;\n                    }\n                    else nT[i] = T[i];\n                }\n            }\n            else if (c == 'M') {\n                for (int i = 0; i < n; ++i) {\n                    if (T[i] >= '0' && T[i] <= '9') {\n                        int val = T[i] - '0';\n                        val = (val + 1) % 10;\n                        nT[i] = '0' + val;\n                    }\n                    else nT[i] = T[i];\n                }\n            }\n            T = nT;\n        }\n        cout << T << endl;\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint main(){\n\tint n;\n\tcin>>n;\n\twhile(n--){\n\t\tstring s,ss;\n\t\tcin>>s>>ss;\n\t\tfor(int i=s.size()-1;i>=0;i--){\n\t\t\tif(s[i]=='P')\n\t\t\t\tfor(int j=0;j<ss.size();j++)\n\t\t\t\t\tif(ss[j]>='0'&&ss[j]<='9')\n\t\t\t\t\t\tss[j]=(ss[j]-'0'+9)%10+'0';\n\t\t\tif(s[i]=='M')\n\t\t\t\tfor(int j=0;j<ss.size();j++)\n\t\t\t\t\tif(ss[j]>='0'&&ss[j]<='9')\n\t\t\t\t\t\tss[j]=(ss[j]-'0'+1)%10+'0';\n\t\t\tif(s[i]=='A')reverse(ss.begin(),ss.end());\n\t\t\tif(s[i]=='E')for(int k=0;k<ss.size()/2;k++)swap(ss[k],ss[k+(ss.size()+1)/2]);\n\t\t\tif(s[i]=='J')ss=ss[ss.size()-1]+ss.substr(0,s.size()-1);\n\t\t\tif(s[i]=='C')ss=ss.substr(1,s.size()-1)+s[0];\n\t\t}\n\t\tcout<<ss<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <sstream>\n#include <iomanip>\n#include <algorithm>\n#include <cmath>\n#include <string>\n#include <vector>\n#include <list>\n#include <queue>\n#include <stack>\n#include <set>\n#include <map>\n#include <bitset>\n#include <numeric>\n#include <climits>\n#include <cfloat>\nusing namespace std;\n\nint main()\n{\n    int n;\n    cin >> n;\n\n    while(--n >= 0){\n        string order, s;\n        cin >> order >> s;\n\n        int m = s.size();\n        for(int i=order.size()-1; i>=0; --i){\n            if(order[i] == 'J'){\n                rotate(s.begin(), s.end()-1, s.end());\n            }else if(order[i] == 'C'){\n                rotate(s.begin(), s.begin()+1, s.end());\n            }else if(order[i] == 'E'){\n                string s1, s2, s3;\n                s1 = s.substr(0, m/2);\n                s3 = s.substr((m+1)/2);\n                if(m % 2 == 1)\n                    s2 = s[m/2];\n                s = s3 + s2 + s1;\n            }else if(order[i] == 'A'){\n                reverse(s.begin(), s.end());\n            }else if(order[i] == 'P'){\n                for(int j=0; j<m; ++j){\n                    if('1' <= s[j] && s[j] <= '9')\n                        -- s[j];\n                    else if(s[j] == '0')\n                        s[j] = '9';\n                }\n            }else{\n                for(int j=0; j<m; ++j){\n                    if('0' <= s[j] && s[j] <= '8')\n                        ++ s[j];\n                    else if(s[j] == '9')\n                        s[j] = '0';\n                }\n            }\n        }\n\n        cout << s << endl;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <stdlib.h>\n#include <iostream>\n#include <vector>\n#include <string>\n#include <queue>\n#include <algorithm>\n#include <math.h>\n#include <utility>\n#include <set>\n#include <map>\n#include <cstring>\n#include <cstdio>\n#include <stack>\n#define INF 1000000000\n#define rep(i,n) for(int i =0;i<n;i++)\nusing namespace std;\ntypedef long long int ll;\n\nstring A(string s){\n    reverse(s.begin(),s.end());\n    return s;\n}\n\nstring J(string s){\n    string ss = s.substr(s.length()-1,1),sss=s.substr(0,s.length()-1);\n    return ss+sss;\n}\n\nstring C(string s){\n    string ss = s.substr(0,1),sss=s.substr(1,s.length()-1);\n    return sss+ss;\n}\n\nstring E(string s){\n    if(s.length()%2==0){\n        string ss = s.substr(0,s.length()/2);\n        string sss = s.substr(s.length()/2,s.length()/2);\n        return sss+ss;\n    }else{\n        string ss = s.substr(0,s.length()/2);\n        string tt = s.substr(s.length()/2,1);\n        string sss = s.substr(s.length()/2+1,s.length()/2);\n        return sss+tt+ss;\n    }\n}\n\nstring P(string s){\n    for (int i=0; i<s.length(); i++) {\n        if (s[i]=='9' or s[i]=='1' or s[i]=='2' or s[i]=='3' or s[i]=='4' or s[i]=='5' or s[i]=='6' or s[i]=='7' or s[i]=='8') {\n            s[i]=(char)((int)s[i]-1);\n            continue;\n        }\n        if (s[i]=='0') {\n            s[i]='9';\n        }\n    }\n    return s;\n}\n\nstring M(string s){\n    for (int i=0; i<s.length(); i++) {\n        if (s[i]=='0' or s[i]=='1' or s[i]=='2' or s[i]=='3' or s[i]=='4' or s[i]=='5' or s[i]=='6' or s[i]=='7' or s[i]=='8') {\n            s[i]=(char)((int)s[i]+1);\n            continue;\n        }\n        if (s[i]=='9') {\n            s[i]='0';\n        }\n    }\n    return s;\n}\n\n\nint main(){\n    int n;\n    cin >> n;\n    for (int wq=0; wq<n; wq++) {\n        string t,s;\n        cin >> t >>s;\n        for (int i= t.length()-1; i>=0; i--) {\n            if(t[i]=='J') s = J(s);\n            if(t[i]=='C') s = C(s);\n            if(t[i]=='E') s = E(s);\n            if(t[i]=='A') s = A(s);\n            if(t[i]=='P') s = P(s);\n            if(t[i]=='M') s = M(s);\n        }\n        cout << s <<endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<string>\n#include<vector>\n#include<stack>\nusing namespace std;\n\nvector<char> v;\n\nvoid C(){\n\tv.push_back(v[0]);\n\tv.erase(v.begin());\n}\n\nvoid J(){\n\tv.insert(v.begin(),v[v.size()-1]);\n\tv.pop_back();\n}\n\nvoid E(){\n\tstack<char> st[2];\n\tfor(int i=0;i<v.size()/2;i++){\n\t\tst[0].push(v[i]);\n\t\tst[1].push(v[v.size()-1-i]);\n\t}\n\tfor(int i=0;i<v.size()/2;i++){\n\t\tv[i]=st[1].top();\n\t\tv[v.size()-1-i]=st[0].top();\n\t\tst[0].pop(),st[1].pop();\n\t}\n}\n\nvoid A(){\n\tstack<char> st;\n\tfor(int i=0;i<v.size();i++)st.push(v[i]);\n\tfor(int i=0;i<v.size();i++){\n\t\tv[i]=st.top();\n\t\tst.pop();\n\t}\n}\n\nvoid M(){\n\tfor(int i=0;i<v.size();i++){\n\t\tif(v[i]>='0'&&v[i]<='9'){\n\t\t\tv[i]=((v[i]-'0')+1)%10+'0';\n\t\t}\n\t}\n}\n\nvoid P(){\n\tfor(int i=0;i<v.size();i++){\n\t\tif(v[i]>='0'&&v[i]<='9'){\n\t\t\tv[i]=((v[i]-'0')+9)%10+'0';\n\t\t}\n\t}\n}\n\nint main(){\n\tint n;\n\tstring s,q;\n\tcin>>n;\n\twhile(n--){\n\t\tcin>>s>>q;\n\t\tv.clear();\n\t\tfor(int i=0;i<q.size();i++)v.push_back(q[i]);\n\t\tfor(int i=s.size()-1;i>=0;i--){\n\t\t\tif(s[i]=='J')J();\n\t\t\tif(s[i]=='C')C();\n\t\t\tif(s[i]=='E')E();\n\t\t\tif(s[i]=='A')A();\n\t\t\tif(s[i]=='P')P();\n\t\t\tif(s[i]=='M')M();\n\t\t}\n\t\tfor(int i=0;i<v.size();i++)cout<<v[i];\n\t\tcout<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define  _CRT_SECURE_NO_WARNINGS\n#include \"bits/stdc++.h\"\n#pragma comment (linker, \"/STACK:526000000\")\n\nusing namespace std;\ntypedef string::const_iterator State;\n#define eps 1e-11L\n#define MAX_MOD 1000000007LL\n#define GYAKU 500000004LL\n\n#define MOD 998244353LL\n#define seg_size 262144*2LL\n#define pb push_back\n#define mp make_pair\ntypedef long long ll;\n#define REP(a,b) for(long long (a) = 0;(a) < (b);++(a))\n#define ALL(x) (x).begin(),(x).end()\n\nunsigned long xor128() {\n\tstatic unsigned long x = 123456789, y = 362436069, z = 521288629, w = time(NULL);\n\tunsigned long t = (x ^ (x << 11));\n\tx = y; y = z; z = w;\n\treturn (w = (w ^ (w >> 19)) ^ (t ^ (t >> 8)));\n}\n\nvoid init() {\n\tiostream::sync_with_stdio(false);\n\tcout << fixed << setprecision(10);\n}\n\n#define int ll\nstring C(string a) {\n\tREP(q, a.length()-1) {\n\t\tswap(a[q], a[q + 1]);\n\t}\n\treturn a;\n}\nstring J(string a) {\n\tfor (int q = a.length() - 1; q >= 1; --q) {\n\t\tswap(a[q], a[q - 1]);\n\t}\n\treturn a;\n}\nstring E(string a) {\n\tint hoge = (a.length() + 1) / 2;\n\tfor (int q = 0; q < a.length() / 2; ++q) {\n\t\tswap(a[q], a[q + hoge]);\n\t}\n\treturn a;\n}\nstring A(string a) {\n\treverse(ALL(a));\n\treturn a;\n}\n\nstring P(string a) {\n\tREP(i, a.length()) {\n\t\tif (a[i] >= '0' && a[i] <= '9') {\n\t\t\tif (a[i] == '0') {\n\t\t\t\ta[i] = '0' + 10;\n\t\t\t}\n\t\t\ta[i]--;\n\t\t}\n\t}\n\treturn a;\n}\n\nstring M(string a) {\n\tREP(i, a.length()) {\n\t\tif (a[i] >= '0' && a[i] <= '9') {\n\t\t\tif (a[i] == '9') {\n\t\t\t\ta[i] = '0' -1;\n\t\t\t}\n\t\t\ta[i]++;\n\t\t}\n\t}\n\treturn a;\n}\nvoid solve() {\n\tint n;\n\tcin >> n;\n\tREP(i, n) {\n\t\tstring a, b;\n\t\tcin >> a >> b;\n\t\tfor (int i = a.length() - 1; i >= 0; --i) {\n\t\t\tif (a[i] == 'C') {\n\t\t\t\tb = C(b);\n\t\t\t}\n\t\t\telse if (a[i] == 'J') {\n\t\t\t\tb = J(b);\n\t\t\t}\n\t\t\telse if (a[i] == 'E') {\n\t\t\t\tb = E(b);\n\t\t\t}\n\t\t\telse if (a[i] == 'P') {\n\t\t\t\tb = P(b);\n\t\t\t}\n\t\t\telse if (a[i] == 'A') {\n\t\t\t\tb = A(b);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tb = M(b);\n\t\t\t}\n\t\t}\n\t\tcout << b << endl;\n\t}\n}\n#undef int\n\nint main() {\n\tinit();\n\tsolve();\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstring>\nusing namespace std;\n\nstring p(string s){\n  for(int i=0;i<s.length();i++){\n    if('0'<=s[i] && s[i]<='9'){\n      s[i]=s[i] -1;\n      if(s[i]=='0'-1)s[i]='9';\n    }\n  }\n  return s;\n\n}\n\nstring m(string s){\n  for(int i=0;i<s.length();i++){\n    if('0'<=s[i] && s[i]<='9'){\n      s[i]=(s[i] -'0'+1)%10 + '0';\n    }\n  }\n  return s;\n}\n\nstring a(string s){\n  string res=s;\n  for(int i=0;i<s.length()/2;i++){\n    res[i]=s[s.length()-1-i];\n    res[s.length()-1-i]=s[i];\n  }\n  return res;\n}\n\nstring e(string s){\n  int half=s.length()/2;\n  string first,latter;\n  first=s.substr(0,half);\n  latter=s.substr(s.length()-half,s.length());\n  if(s.length()%2==0){\n    return latter + first;\n  }else{\n    return latter + s[half] + first;\n  }\n}\n\nstring j(string s){\n  char tmp=s[s.length()-1];\n  for(int i=s.length()-1;i>0;i--){\n    s[i]=s[i-1];\n  }\n  s[0]=tmp;\n  return s;\n}\n\nstring c(string s){\n  char tmp=s[0];\n  for(int i=0;i<s.length()-1;i++){\n    s[i]=s[i+1];\n  }\n  s[s.length()-1]=tmp;\n  return s;\n}\n\nint main(){\n  int n;\n  cin>>n;\n  for(int i=0;i<n;i++){\n    string mg,mes;\n    cin>>mg>>mes;\n    for(int i=mg.length()-1;i>=0;i--){\n      if(mg[i]=='A'){\n\tmes=a(mes);\n      }else if(mg[i]=='J'){\n\tmes=j(mes);\n      }else if(mg[i]=='C'){\n\tmes=c(mes);\n      }else if(mg[i]=='E'){\n\tmes=e(mes);\n      }else if(mg[i]=='P'){\n\tmes=p(mes);\n      }else if(mg[i]=='M'){\n\tmes=m(mes);\n      }\n    }\n    cout << mes << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main(void) {\n\n    int n; cin >> n;\n    while (n--) {\n        string psg, msg; cin >> psg >> msg;\n        int len = msg.size();\n\n        for (int i = psg.size()-1; i >= 0; i--) {\n            switch (psg[i]) {\n            case 'J':\n                // right shift\n                msg = string(1, msg[len-1]) + msg.substr(0, len-1);\n                break;\n            case 'C':\n                // left shift\n                msg = msg.substr(1, len-1) + string(1, msg[0]);\n                break;\n            case 'E':\n                // swap\n                if (len%2 == 0) {\n                    string l = msg.substr(0, len/2);\n                    string r = msg.substr(len/2, len/2);\n                    msg = r+l;\n                } else {\n                    string l = msg.substr(0, len/2);\n                    string r = msg.substr(len/2+1, len/2);\n                    msg = r+msg[len/2]+l;\n                }\n                break;\n            case 'A':\n                // reverse\n                reverse(msg.begin(), msg.end());\n                break;\n            case 'P':\n                // decrement digits\n                for (auto &m : msg) {\n                    if (isdigit(m)) {\n                        if (m == '0') m = '9';\n                        else m--;\n                    }\n                }\n                break;\n            case 'M':\n                // increment digits\n                for (auto &m : msg) {\n                    if (isdigit(m)) {\n                        if (m == '9') m = '0';\n                        else m++;\n                    }\n                }\n                break;\n            default:\n                break;\n            }\n        }\n        cout << msg << endl;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\n#include <cctype>\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define REP(i,n) for(int i=0;i<(n);i++)\nusing namespace std;\n\nint main()\n{\n  int n;\n  cin >> n;\n  REP(i,n){\n    string o, m;\n    cin >> o >> m;\n    reverse(o.begin(), o.end());\n    REP(j,(int)o.size()){\n      if(o[j] == 'J'){\n        m = m[m.size()-1] + m.substr(0,m.size()-1);\n      }else if(o[j] == 'C'){\n        m = m[0] + m.substr(1,m.size()-1);\n      }else if(o[j] == 'E'){\n        int x = m.size()/2;\n        if(m.size() & 1)\n          m = m.substr(x+1,x) + m[x] + m.substr(0,x);\n        else\n          m = m.substr(x,x) + m.substr(0,x);\n      }else if(o[j] == 'A'){\n        reverse(m.begin(), m.end());\n      }else if(o[j] == 'P'){\n        REP(k,(int)m.size()){\n          if(isdigit(m[k])){\n            m[k]--;\n            if(!isdigit(m[k]))\n              m[k] = '9';\n          }\n        }\n      }else if(o[j] == 'M'){\n        REP(k,(int)m.size()){\n          if(isdigit(m[k])){\n            m[k]++;\n            if(!isdigit(m[k]))\n              m[k] = '0';\n          }\n        }\n      }\n    }\n    cout << m << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\n\n//#define int long long\n#define DBG 0\n#define dump(o) if(DBG){cerr<<#o<<\" \"<<o<<endl;}\n#define dumpc(o) if(DBG){cerr<<#o; for(auto &e:(o))cerr<<\" \"<<e;cerr<<endl;}\n#define rep(i,a,b) for(int i=(a);i<(b);i++)\n#define rrep(i,a,b) for(int i=(b)-1;i>=(a);i--)\n#define each(it,c) for(auto it=(c).begin();it!=(c).end();it++)\n#define all(c) c.begin(),c.end()\nconst int INF = sizeof(int) == sizeof(long long) ? 0x3f3f3f3f3f3f3f3fLL : 0x3f3f3f3f;\nconst int MOD = (int)(1e9 + 7);\n\nstring A(string s) {\n\treverse(all(s));\n\treturn s;\n}\n\nstring J(string s) {\n\treturn s[s.size() - 1] + s.substr(0, s.size() - 1);\n}\n\nstring M(string s) {\n\trep(i, 0, s.size()) {\n\t\tif (isdigit(s[i])) {\n\t\t\ts[i] = char((s[i] - '0' + 1 + 10) % 10 + '0');\n\t\t}\n\t}\n\treturn s;\n}\n\nstring P(string s) {\n\trep(i, 0, s.size()) {\n\t\tif (isdigit(s[i])) {\n\t\t\ts[i] = char((s[i] - '0' - 1 + 10) % 10 + '0');\n\t\t}\n\t}\n\treturn s;\n}\n\nstring E(string s) {\n\tint h = s.size() / 2;\n\tif (s.size() % 2)return s.substr(h + 1) + s[h] + s.substr(0, h);\n\treturn s.substr(h) + s.substr(0, h);\n}\n\nstring C(string s) {\n\treturn s.substr(1, s.size()) + s[0];\n}\n\nsigned main() {\n\tint n; cin >> n;\n\trep(h, 0, n) {\n\t\tstring o; cin >> o;\n\t\tstring m; cin >> m;\n\t\trrep(i, 0, o.size()) {\n\t\t\tif (o[i] == 'J')m = J(m);\n\t\t\tif (o[i] == 'C')m = C(m);\n\t\t\tif (o[i] == 'E')m = E(m);\n\t\t\tif (o[i] == 'A')m = A(m);\n\t\t\tif (o[i] == 'P')m = P(m);\n\t\t\tif (o[i] == 'M')m = M(m);\n\t\t\tdump(m);\n\t\t}\n\t\tcout << m << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <queue>\n#include <utility>\n#include <string>\n\n#define REP(i,a,b) for(int i=int(a);i<int(b);i++)\n\nusing namespace std;\n\ntypedef long long int lli;\ntypedef pair<int,int> pii;\n\nint main () {\n    int n;\n    cin >> n;\n    while (n--) {\n        string kings;\n        cin >> kings;\n        string message;\n        cin >> message;\n        for (int i = kings.size() - 1; i >= 0; i--) {\n            if (kings[i] == 'J' && message.size() > 1) {\n                message = message.substr(message.size() - 1, 1) + message.substr(0, message.size() - 1);\n            }\n            if (kings[i] == 'C' && message.size() > 1) {\n                message = message.substr(1) + message.substr(0, 1);\n            }\n            if (kings[i] == 'E') {\n                if (message.size() % 2) {\n                    message = message.substr((message.size() + 1) / 2) + message[message.size() / 2] + message.substr(0, message.size() / 2);\n                } else {\n                    message = message.substr((message.size() + 1) / 2) + message.substr(0, message.size() / 2);\n                }\n            }\n            if (kings[i] == 'A') {\n                reverse(message.begin(), message.end());\n            }\n            if (kings[i] == 'P') {\n                REP (j, 0, message.size()) {\n                    if ('0' <= message[j] && message[j] <= '9') {\n                        message[j]--;\n                        if (message[j] < '0') message[j] = '9';\n                    }\n                }\n            }\n            if (kings[i] == 'M') {\n                REP (j, 0, message.size()) {\n                    if ('0' <= message[j] && message[j] <= '9') {\n                        message[j]++;\n                        if (message[j] > '9') message[j] = '0';\n                    }\n                }\n            }\n        }\n        cout << message << endl;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "\n#include <stdio.h>\n#include <stdlib.h>\n#include <iostream>\n#include <vector>\n#include <string>\n#include <queue>\n#include <algorithm>\n#include <math.h>\n#include <utility>\n#include <set>\n#include <map>\n#include <cstring>\n#include <cstdio>\n#include <stack>\n#define INF 1000000000\n#define rep(i,n) for(int i =0;i<n;i++)\nusing namespace std;\ntypedef long long int ll;\n\nstring A(string s){\n    reverse(s.begin(),s.end());\n    return s;\n}\n\nstring J(string s){\n    string ss = s.substr(s.length()-1,1),sss=s.substr(0,s.length()-1);\n    return ss+sss;\n}\n\nstring C(string s){\n    string ss = s.substr(0,1),sss=s.substr(1,s.length()-1);\n    return sss+ss;\n}\n\nstring E(string s){\n    if(s.length()%2==0){\n        string ss = s.substr(0,s.length()/2);\n        string sss = s.substr(s.length()/2,s.length()/2);\n        return sss+ss;\n    }else{\n        string ss = s.substr(0,s.length()/2);\n        string tt = s.substr(s.length(),1);\n        string sss = s.substr(s.length()/2+1,s.length()/2);\n        return sss+tt+ss;\n    }\n}\n\nstring P(string s){\n    for (int i=0; i<s.length(); i++) {\n        if (s[i]=='9' or s[i]=='1' or s[i]=='2' or s[i]=='3' or s[i]=='4' or s[i]=='5' or s[i]=='6' or s[i]=='7' or s[i]=='8') {\n            s[i]=(char)((int)s[i]-1);\n            continue;\n        }\n        if (s[i]=='0') {\n            s[i]='9';\n        }\n    }\n    return s;\n}\n\nstring M(string s){\n    for (int i=0; i<s.length(); i++) {\n        if (s[i]=='0' or s[i]=='1' or s[i]=='2' or s[i]=='3' or s[i]=='4' or s[i]=='5' or s[i]=='6' or s[i]=='7' or s[i]=='8') {\n            s[i]=(char)((int)s[i]+1);\n            continue;\n        }\n        if (s[i]=='9') {\n            s[i]='0';\n        }\n    }\n    return s;\n}\n\n\nint main(){\n    int n;\n    cin >> n;\n    for (int wq=0; wq<n; wq++) {\n        string t,s;\n        cin >> t >>s;\n        for (int i= t.length()-1; i>=0; i--) {\n            if(t[i]=='J') s = J(s);\n            if(t[i]=='C') s = C(s);\n            if(t[i]=='E') s = E(s);\n            if(t[i]=='A') s = A(s);\n            if(t[i]=='P') s = P(s);\n            if(t[i]=='M') s = M(s);\n        }\n        cout << s <<endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "// AOJ 1240\n\n#include <iostream>\n#include <string>\n#include <algorithm>\n#include <cctype>\n\nusing namespace std;\n\n// “aB23d” to “B23da”.\n// 1文字←にずらす\nstring J(string str)\n{\n\tstring ret = str.substr(1);\n\tret += str[0];\n\treturn ret;\n}\n\n// “aB23d” to “daB23”.\n// 一文字→にずらす\nstring C(string str)\n{\n\tstring ret; ret += str[str.length()-1];\n\tret += str.substr(0, str.length()-1);\n\treturn ret;\n}\n\n// “e3ac” to “ace3”, and “aB23d” to “3d2aB”.\n// 真ん中で分けて swap\n// bugbug\nstring E(string str)\n{\n\tstring ret;\n\tif (str.length() % 2 == 0){\n\t\tret = str.substr(str.length()/2);\n\t\tret += str.substr(0, str.length()/2);\n\t}\n\telse {\n\t\tret = str.substr(((str.length()-1)/2) + 1);\n\t\tret += str[str.length()/2];\n\t\tret += str.substr(0, (str.length()-1)/2);\n\t}\n\n\treturn ret;\n}\n\n// “aB23d” to “d32Ba”.\n// 反転\nstring A(string str)\n{\n\tstring ret = str;\n\treverse(ret.begin(), ret.end());\n\treturn ret;\n}\n\n// “aB23d” to “aB34d”, and “e9ac” to “e0ac”.\n// 1足す\nstring P(string str)\n{\n\tstring ret;\n\tfor (int i = 0; i < str.length(); i++){\n\t\tif (isdigit(str[i])){\n\t\t\tif (str[i] == '9'){\n\t\t\t\tret += '0';\n\t\t\t}\n\t\t\telse {\n\t\t\t\tret += str[i] + 1;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tret += str[i];\n\t\t}\n\t}\n\treturn ret;\n}\n\n// “aB23d” to “aB12d”, and “e0ac” to “e9ac”.\n// 1引く\nstring M(string str)\n{\n\tstring ret;\n\tfor (int i = 0; i < str.length(); i++){\n\t\tif (isdigit(str[i])){\n\t\t\tif (str[i] == '0'){\n\t\t\t\tret += '9';\n\t\t\t}\n\t\t\telse {\n\t\t\t\tret += str[i] - 1;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tret += str[i];\n\t\t}\n\t}\n\treturn ret;\n}\n\nint main(void)\n{\n\tint n;\n\tcin >> n;\n\twhile (n--){\n\t\tstring person, str;\n\t\tcin >> person >> str;\n\t\treverse(person.begin(), person.end());\n\t\t// JCPEAM\n\t\t// puts(\"\");\n\t\tfor (int i = 0; i < person.length(); i++){\n\t\t\tif (person[i] == 'J') str = C(str);\n\t\t\telse if (person[i] == 'C') str = J(str);\n\t\t\telse if (person[i] == 'P') str = M(str);\n\t\t\telse if (person[i] == 'E') str = E(str);\n\t\t\telse if (person[i] == 'A') str = A(str);\n\t\t\telse if (person[i] == 'M') str = P(str);\n\t\t\t// cout << str << endl;\n\t\t}\n\t\t// puts(\"\");\n\t\tcout << str << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define range(i,a,b) for(int i = (a); i < (b); i++)\n#define rep(i,b) for(int i = 0; i < (b); i++)\n#define all(a) (a).begin(), (a).end()\n#define debug(x) cout << \"debug \" << x << endl;\nconst int INF = 100000000;\nusing namespace std;\n\nint main(){\n    int n;\n    cin >> n;\n    rep(i,n){\n        list<char> li;\n        list<char>::iterator it;\n        string order, s, temp;\n        cin >> temp >> s;\n        rep(j,s.size()) li.emplace_back(s[j]);\n        for(int j = temp.size() - 1; j >= 0; j--) order += temp[j];\n        rep(j,order.size()){\n            if(order[j] == 'C'){\n                li.emplace_back(*li.begin());\n                li.pop_front();\n            }else if(order[j] == 'J'){\n                li.emplace_front(*(--li.end()));\n                li.pop_back();\n            }else if(order[j] == 'E'){\n                int m = li.size();\n                rep(k, m / 2){\n                    li.emplace_back(*li.begin());\n                    li.pop_front();\n                }\n                if(m % 2){\n                    it = li.begin();\n                    rep(k, m / 2 + 1) *it++;\n                    li.insert(it, *li.begin());\n                    li.pop_front();\n                }\n            }else if(order[j] == 'A'){\n                li.reverse();\n            }else if(order[j] == 'M'){\n                for(it = li.begin(); it != li.end(); it++){\n                    if(*it >= '0' && *it <= '8') *it = *it + 1;\n                    else if(*it == '9') *it = '0';\n                }\n            }else if(order[j] == 'P'){\n                for(it = li.begin(); it != li.end(); it++){\n                    if(*it >= '1' && *it <= '9') *it = *it - 1;\n                    else if(*it == '0') *it = '9';\n                }\n            }\n        }\n        for(auto t: li){\n            cout << t;\n        }\n        cout << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define INF 1e9\n#define llINF 1e18\n#define MOD 1000000007\n#define pb push_back\n#define mp make_pair \n#define F first\n#define S second\n#define ll long long\n#define ull unsigned long long\n#define vi vector<ll>\n#define vvi vector<vi>\n#define BITLE(n) (1LL<<((ll)n))\n#define BITCNT(n) (__builtin_popcountll(n))\n#define SUBS(s,f,t) ((s).substr((f)-1,(t)-(f)+1))\n#define ALL(a) (a).begin(),(a).end()\nusing namespace std;\nvoid chmes(string &s,char me){\n  if(me == 'C'){\n    string tmp=\"\";\n    for(int i=1;i<s.size();i++){\n      tmp+=s[i];\n    }\n    tmp += s[0];\n    s = tmp;\n  }else if(me == 'J'){\n    string tmp=\"\";\n    tmp+=s.back();\n    for(int i=0;i<s.size()-1;i++){\n      tmp+=s[i];\n    }\n    s = tmp;\n  }else if(me == 'E'){\n    if(s.size()%2 == 1){\n      string tmp1=\"\",tmp2=\"\";\n      for(int i=0;i<s.size()/2;i++){\n\ttmp1+=s[i];\n\ttmp2+=s[s.size()/2+i+1];\n      }\n      char hge = s[s.size()/2];\n      s = tmp2;\n      s+= hge;\n      s += tmp1;\n    }else{\n      string tmp1=\"\",tmp2=\"\";\n      for(int i=0;i<s.size()/2;i++){\n\ttmp1+=s[i];\n\ttmp2+=s[s.size()/2+i];\n      }\n      s = tmp2+tmp1;\n      // cout<<\"!\"<<s<<endl;\n    }\n  }else if(me == 'A'){\n    reverse(ALL(s));\n  }else if(me == 'M'){\n    for(int i=0;i<s.size();i++){\n      if(isdigit(s[i])){\n\ts[i] = (char)('0'+(s[i]-'0'+1)%10);\n      }\n    }\n  }else{\n    for(int i=0;i<s.size();i++){\n      if(isdigit(s[i])){\n\ts[i] = (char)('0'+(s[i]-'0'+9)%10);\n      }\n    }\n  }\n}\nint main(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n  ll n;cin>>n;\n  for(int i=0;i<n;i++){\n    string s,ss;\n    cin>>s>>ss;\n    reverse(ALL(s));\n    for(auto a:s){\n      chmes(ss,a);\n    }\n    cout<<ss<<endl;\n  }\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> pii;\n#define rep(i,n) for(ll i=0;i<(ll)(n);i++)\n#define all(a)  (a).begin(),(a).end()\n#define pb push_back\n#define INF 999999999\n\nint main(){\n    int n;\n    cin>>n;\n    rep(i,n){//JCEAPM\n        string member,str;\n        cin>>member>>str;\n        reverse(all(member));\n        rep(i,member.size()){\n//            cout<<str<<endl;\n            if(member[i] == 'J'){\n                str = string(1,str[str.size()-1])+str.substr(0,str.size()-1);\n            }else if(member[i] == 'C'){\n                str = str.substr(1,str.size()-1)+string(1,str[0]);\n            }else if(member[i] == 'E'){\n                if(str.size()%2==0){\n                    str = str.substr(str.size()/2,str.size()/2)+str.substr(0,str.size()/2);\n                }\n                else{\n                    str = str.substr(str.size()/2+1,str.size()/2)+str[str.size()/2]+str.substr(0,str.size()/2);\n                }\n            }else if(member[i] == 'A'){\n                reverse(all(str));\n            }else if(member[i] == 'P'){\n                rep(j,str.size()){\n                    if(isdigit(str[j])){\n                        if(str[j] == '0')str[j] ='9';\n                        else str[j]--;\n                    }\n                }\n            }else if(member[i] == 'M'){\n                rep(j,str.size()){\n                    if(isdigit(str[j])){\n                        if(str[j] == '9')str[j] = '0';\n                        else str[j]++;\n                    }\n                }\n            }\n        }\n        cout<<str<<endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <numeric>\n#include <set>\n#include <map>\n#include <string>\n#include <stack>\n#include <queue>\n#include <cmath>\n#include <cstdio>\n#include <istream>\n#include <sstream>\n#include <iomanip>\nusing namespace std;\n\ntypedef ostringstream oss;\ntypedef istringstream iss;\n\nstring J(string str) {\n\tstr += str[0];\n\tstr.erase(str.begin());\n\treturn str;\n}\n\nstring C(string str) {\n\tstr.insert(str.begin(), *(str.rbegin()));\n\tstr.erase(str.size() - 1);\n\treturn str;\n}\n\nstring E(string str) {\n\tfor (int i = 0; i < str.size() / 2; i++) {\n\t\tswap(str[i], str[(str.size() + 1) / 2  + i]);\n\t}\n\treturn str;\n}\n\nstring A(string str) {\n\tfor (int i = 0; i < str.size() / 2; i++) {\n\t\tswap(str[i], str[str.size() - 1 - i]);\n\t}\n\treturn str;\n}\n\nstring P(string str) {\n\tfor (int i = 0; i < str.size(); i++) {\n\t\tif (str[i] >= '0' && str[i] <= '8') {\n\t\t\tstr[i]++;\n\t\t}else if (str[i] == '9') {\n\t\t\tstr[i] = '0';\n\t\t}\n\t}\n\treturn str;\n}\n\nstring M(string str) {\n\tfor (int i = 0; i < str.size(); i++) {\n\t\tif (str[i] >= '1' && str[i] <= '9') {\n\t\t\tstr[i]--;\n\t\t}else if (str[i] == '0') {\n\t\t\tstr[i] = '9';\n\t\t}\n\t}\n\treturn str;\n}\n\nstruct pFunc\n{\n\tpFunc(){}\n\tpFunc(string (*p)(string str)) : f(p) {}\n\tstring (*f)(string str);\n};\n\n\nint main(void) {\n\tmap<char, pFunc> F;\n\tF['J'] = pFunc(C);\n\tF['C'] = pFunc(J);\n\tF['E'] = pFunc(E);\n\tF['A'] = pFunc(A);\n\tF['P'] = pFunc(M);\n\tF['M'] = pFunc(P);\n\n\tint N;\n\tcin >> N;\n\tfor (; N; N--) {\n\t\tstring str, ope;\n\t\tcin.ignore();\n\t\tgetline(cin, ope);\n\t\tgetline(cin, str);\n\t\tfor (int i = ope.size() - 1; i >= 0; i--) {\n\t\t\tstr = F[ope[i]].f(str);\n\t\t}\n\t\tcout << str << endl;\n\t}\n\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define MOD 1000000007\n#define BIG 1000000010\n#define EPS 1e-9\n#define fst first\n#define scd second\n\n#define debug(x) cout<<x<<endl;\n#define repi(i,x,n) for(int i=x;i<n;i++)\n#define rep(i,n) repi(i,0,n)\n#define repn(i,n) for(int i=n;i>=0;i--)\n#define int long long\n\n\nsigned main(){\n  cin.tie(0);\t\n  ios::sync_with_stdio(false);\n  int n;\n  cin>>n;\n  string s,t;\n  char c;\n  rep(i,n){\n    cin>>s>>t;\n    repn(j,s.size()-1 ){\n      // cout<<s[j]<<endl;\n      //cout<<t<<endl;\n      if(s[j]=='J'){\n\tt=t[t.size() -1]+t.substr(0,t.size()-1);\n      }\n      if(s[j]=='C'){\n\tt=t.substr(1,t.size() -1)+t[0];\n      }\n      if(s[j]=='E'){\n\tif(t.size() % 2 ==0) t=t.substr((1+t.size())/2)+t.substr(0,t.size()/2);\n\telse t=t.substr((1+t.size())/2)+t[t.size()/2]+t.substr(0,t.size()/2);\n      }\n      if(s[j]=='A') reverse(t.begin(),t.end());\n      if(s[j]=='M'){\n\trep(k,t.size() ){\n\t  if(t[k]>=48 && t[k]<57){\n\t    t[k]++;\n\t  }\n\t  else if(t[k]==57) t[k]-=9;\n\t}\n      }\n      if(s[j]=='P'){\n\trep(k,t.size() ){\n\t  if(t[k]>48 && t[k]<=57){\n\t    t[k]--;\n\t  }\n\t  else if(t[k]==48) t[k]+=9;\n\t}\n      }\n    }\n    cout<<t<<endl;\n  }\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <stdio.h>\n#include <cstdio>\n#include <algorithm>\nusing namespace std;\n\nint main(){\n    int n;\n    cin >> n;\n    while( n-- ){\n        string p, m;\n        cin >> p >> m;\n        reverse( p.begin(), p.end() );\n        for( size_t i = 0; i < p.length(); i++ ){\n            switch(p[i]){\n                case 'J':{\n                    char tmp = m[m.length() - 1];\n                    for( size_t j = m.length() - 1; j > 0; j-- ){\n                        //if( j == 0 ){\n                        //}else{\n                            m[j] = m[j-1];\n                        //}\n                        //cout << m[j] << endl;\n                    }\n                    m[0] = tmp;\n                    break;\n                }case 'C':{\n                    char tmp = m[0];\n                    for( size_t j = 0; j < m.length(); j++ ){\n                        if( j == m.length() - 1 ) m[j] = tmp;\n                        else m[j] = m[j+1];\n                    }\n                    break;\n                }case 'E':{\n                    string tmp = m.substr( 0, m.length() / 2 );\n                    m.replace( 0, (m.length() - 1) / 2, m );\n                    m.append( tmp, m.length() / 2 );\n                    break;\n                }case 'A':{\n                    reverse( m.begin(), m.end() );\n                    break;\n                }case 'P':{\n                    for( size_t j = 0; j < m.length(); j++ ){\n                        if( '1' <= m[j] && m[j] <= '9' ){\n                            m[j]--;\n                        }else if( '0' == m[j] ){\n                            m[j] = '9';\n                        }\n                    }\n                    break;\n                }case 'M':{\n                    for( size_t j = 0; j < m.length(); j++ ){\n                        if( '0' <= m[j] && m[j] <= '8' ){\n                            m[j]++;\n                        }else if( '9' == m[j] ){\n                            m[j] = '0';\n                        }\n                    }\n                    break;\n                }\n            }\n        }\n        cout << m << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 0x3f3f3f3f\n#include <cstdio>\n#include <iostream>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P > PP;\n\nint tx[] = {0,1,0,-1};\nint ty[] = {-1,0,1,0};\n\nstatic const double EPS = 1e-8;\n\n//J,C,E,A,P,M\n\nstring Mr(string op,string str){\n\tif(op==\"A\"){\n\t\treverse(str.begin(),str.end());\n\t\treturn str;\n\t}\n\n\telse if(op==\"C\"){\n\t\trotate(str.begin(),str.begin()+1,str.end());\n\t\treturn str;\n\t}\n\n\telse if(op==\"E\"){\n\t\tif(str.size() % 2 == 0){\n\t\t\tstring front = str.substr(0,str.size()/2);\n\t\t\tstring rear = str.substr(str.size()/2,str.size()/2);\n\t\t\treturn rear+front;\n\t\t}\n\t\telse{\n\t\t\tstring front = str.substr(0,str.size()/2);\n\t\t\tstring mid = str.substr(str.size()/2,1);\n\t\t\tstring rear = str.substr(str.size()/2+1,str.size()/2);\n\t\t\treturn rear + mid + front;\n\t\t}\n\t}\n\n\telse if(op==\"J\"){\n\t\trotate(str.begin(),str.end()-1,str.end());\n\t\treturn str;\n\t}\n\n\t//increament\n\telse if(op==\"M\"){\n\t\tfor(int i=0;i<str.size();i++){\n\t\t\tif(isdigit(str[i])){\n\t\t\t\tstr[i] = (str[i] < '9' ? str[i] + 1 : '0');\n\t\t\t}\n\t\t}\n\t\treturn str;\n\t}\n\n\t//decrement\n\telse if(op==\"P\"){\n\t\tfor(int i=0;i<str.size();i++){\n\t\t\tif(isdigit(str[i])){\n\t\t\t\tstr[i] = (str[i] > '0' ? str[i] - 1 : '9');\n\t\t\t}\n\t\t}\n\t\treturn str;\n\t}\n\n}\n\nint main(){\n\tint n;\n\twhile(~scanf(\"%d\",&n)){\n\t\tif(n==0) break;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tstring msger;\n\t\t\tstring msg;\n\t\t\tcin >> msger;\n\t\t\tcin >> msg;\n\n\t\t\tfor(int j=msger.size()-1;j>=0;j--){\n\t\t\t\tmsg = Mr(msger.substr(j,1),msg);\n\t\t\t}\n\t\t\tcout << msg << \"\\n\";\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <sstream>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <climits>\n#include <cfloat>\n#include <vector>\n#include <string>\n#include <stack>\n#include <queue>\n#include <set>\n#include <map>\n#include <algorithm>\n#include <functional>\n#include <utility>\n#include <numeric>\n#include <iterator>\n\nusing namespace std;\n\ntypedef long long LL;\ntypedef unsigned long long ULL;\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<string> VS;\ntypedef pair<int,int> PII;\ntypedef istringstream ISS;\ntypedef ostringstream OSS;\n\n#define REP( i, m, n ) for ( int i = (int)( m ); i < (int)( n ); ++i )\n#define FOR( v, c ) for ( auto &v : c )\n\n#define EACH( it, c ) for ( auto it = c.begin(); it != c.end(); ++it )\n#define ALL( c ) (c).begin(), (c).end()\n#define DRANGE( c, p ) (c).begin(), (c).begin() + p, (c).end()\n\n#define PB( n ) push_back( n )\n#define MP( a, b ) make_pair( ( a ), ( b ) )\n#define EXIST( c, e ) ( (c).find( e ) != (c).end() )\n\n#define fst first\n#define snd second\n\n#define DUMP( x ) cerr << #x << \" = \" << ( x ) << endl\n#define DEBUG( x ) cerr << __FILE__ << \":\" << __LINE__ << \": \" << #x << \" = \" << ( x ) << endl\n\nstruct BaseClass\n{\n\tvirtual string operator()( string msg ) = 0;\n};\n\nstruct Func_j : public BaseClass\n{\n\tstring operator()( string msg )\n\t{\n\t\trotate( DRANGE( msg, msg.size() - 1 ) );\n\t\treturn msg;\n\t}\n};\n\nstruct Func_c : public BaseClass\n{\n\tstring operator()( string msg )\n\t{\n\t\trotate( DRANGE( msg, 1 ) );\n\t\treturn msg;\n\t}\n};\n\nstruct Func_e : public BaseClass\n{\n\tstring operator()( string msg )\n\t{\n\t\tconst int L = msg.size();\n\t\tconst int mid = L / 2;\n\t\tstring left = msg.substr( 0, mid );\n\t\tstring right = msg.substr( L % 2 ? mid + 1 : mid );\n\t\treturn right + ( L % 2 ? string( 1, msg[ mid ] ) : \"\" ) + left;\n\t}\n};\n\nstruct Func_a : public BaseClass\n{\n\tstring operator()( string msg )\n\t{\n\t\treverse( ALL( msg ) );\n\t\treturn msg;\n\t}\n};\n\nstruct Func_p : public BaseClass\n{\n\tstring operator()( string msg )\n\t{\n\t\tREP( i, 0, msg.size() )\n\t\t{\n\t\t\tif ( isdigit( msg[i] ) )\n\t\t\t{\n\t\t\t\tmsg[i] = ( ( msg[i] - '0' ) + 10 - 1 ) % 10 + '0';\n\t\t\t}\n\t\t}\n\t\treturn msg;\n\t}\n};\n\nstruct Func_m : public BaseClass\n{\n\tstring operator()( string msg )\n\t{\n\t\tREP( i, 0, msg.size() )\n\t\t{\n\t\t\tif ( isdigit( msg[i] ) )\n\t\t\t{\n\t\t\t\tmsg[i] = ( ( msg[i] - '0' ) + 1 ) % 10 + '0';\n\t\t\t}\n\t\t}\n\t\treturn msg;\n\t}\n};\n\nint main()\n{\n\tcin.tie( 0 );\n\tios::sync_with_stdio( false );\n\n\tmap< char, BaseClass* > funcs;\n\tfuncs[ 'J' ] = new Func_j();\n\tfuncs[ 'C' ] = new Func_c();\n\tfuncs[ 'E' ] = new Func_e();\n\tfuncs[ 'A' ] = new Func_a();\n\tfuncs[ 'P' ] = new Func_p();\n\tfuncs[ 'M' ] = new Func_m();\n\n\tint n;\n\tcin >> n;\n\n\tREP( case_num, 0, n )\n\t{\n\t\tstring order, message;\n\t\tcin >> order >> message;\n\n\t\tfor ( int i = order.size() - 1; 0 <= i; i-- )\n\t\t{\n\t\t\tmessage = ( *funcs[ order[i] ] )( message );\n\t\t}\n\n\t\tcout << message << endl;\n\t}\n\n\tFOR( f, funcs )\n\t{\n\t\tdelete f.snd;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<vector>\n#include<cstdio>\nusing namespace std;\nint main(){\n  int n;\n  string x;\n  string st;\n  cin >>n;\n  for(int i=0;i<n;i++){\n    cin >> x;\n    cin >> st;\n    for(int j=x.size()-1;j>=0;j--){\n      if(x[j]=='C'){\n\tchar stock;\n\tstock = st[0];\n\tst.erase(st.begin());\n\tst+=stock;\n      }\n      else if(x[j]=='J'){\n\tchar stock;\n\tstock = st[st.size()-1];\n\t//\tcout << \"p1\"<<endl;\n\tst.erase(st.size()-1);\n\t//cout <<\"p2\"<<endl;\n\tst.insert(st.begin(),stock);\n      }\n      else if(x[j]=='E'){\n\tstring stock;\n\tint l=st.size()/2;\n\tfor(int k=0;k<l;k++){\n\t  stock+=st[k];\n\t}\n\tstring stock2;\n\tint od = st.size()%2;\n\tfor(int k=l+od;k<l*2+od;k++){\n\t  stock2+=st[k];\n\t}\n\tchar st3;\n\tif(od==1)st3+=st[l];\n\tst=stock2+st3+stock;\n      }\n      else if(x[j]=='A'){\n\tstring stock;\n\tfor(int k=0;st.empty()!=true;k++){\n\t  stock += st[0];\n\t  st.erase(st.begin());\n\t}\n\t//cout << stock <<endl;\n\tfor(int k=stock.size()-1;k>=0;k--){\n\t  st+=stock[k];\n\t}\n      }\n      else if(x[j]=='M'){\n\tfor(int k=0;k<st.size();k++){\n\t  if(st[k]>='0'&&st[k]<'9'){\n\t    st[k]++;\n\t  }\n\t  else if(st[k]=='9'){\n\t    st[k]='0';\n\t  }\n\t}\n      }\n      else if(x[j]=='P'){\n\tfor(int k=0;k<st.size();k++){\n\t  if(st[k]>'0'&&st[k]<='9'){\n\t    st[k]--;\n\t  }\n\t  else if(st[k]=='0'){\n\t    st[k]='9';\n\t  }\n\t}\n      }\t\n\n      //cout <<\"it is \"<<x[j]<<endl;\n      //cout << st << endl;\n    }\n    cout << st << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n#include<string>\n#include<math.h>\n\nusing namespace std;\n \nstring YA(string ans);\nstring YJ(string ans);\nstring YC(string ans);\nstring YE(string ans);\nstring YP(string ans);\nstring YM(string ans);\n\n\nint main(){\n\n\tint n;\n\tstring R;\n\tstring ans;\n\n\tcin>>n;\n\tfor(int I=0;I<n;I++){\n\n\tcin>>R;\n\tcin>>ans;\n\n\tfor(int i=R.size()-1;i>=0;i--){\n\t\tif(R[i]=='A')ans=YA(ans);\n\t\tif(R[i]=='J')ans=YJ(ans);\n\t\tif(R[i]=='C')ans=YC(ans);\n\t\tif(R[i]=='E')ans=YE(ans);\n\t\tif(R[i]=='P')ans=YP(ans);\n\t\tif(R[i]=='M')ans=YM(ans);\n\t}\n\n\tcout<<ans<<endl;\n\t}\n\treturn 0;\n}\n\nstring YA(string ans){\n\tstring t=ans;\n\tint x=ans.size()-1;\n\tfor(int i=0;i<ans.size();i++)\n\t\tans[i]=t[x-i];\n\n\treturn ans;\n}\nstring YC(string ans){\n\tstring t=ans;\n\tint x=ans.size()-1;\n\tfor(int i=0;i<ans.size()-1;i++)\n\t\tans[i]=t[i+1];\n\tans[x]=t[0];\n\treturn ans;\n}\nstring YJ(string ans){\n\tstring t=ans;\n\tint x=ans.size()-1;\n\tfor(int i=0;i<ans.size()-1;i++)\n\t\tans[i+1]=t[i];\n\tans[0]=t[x];\n\treturn ans;\n}\nstring YM(string ans){\n\tfor(int i=0;i<ans.size();i++){\n\t\tif(ans[i]>='0'&&ans[i]<'9'){\n\t\t\tans[i]+=1;\n\t\t}\n\t\telse if(ans[i]=='9')ans[i]='0';\n\t}\n\treturn ans;\n}\nstring YP(string ans){\n\tfor(int i=0;i<ans.size();i++){\n\t\tif(ans[i]>'0'&&ans[i]<='9'){\n\t\t\tans[i]-=1;\n\t\t}\n\t\telse if(ans[i]=='0')ans[i]='9';\n\t}\n\treturn ans;\n}\nstring YE(string ans){\n\tstring t=ans;\n\tint x=(ans.size())/2;\n\tint N=x;\n\tif(ans.size()%2==1)N++;\n\tfor(int i=0;i<x;i++)\n\t\tans[i]=t[N+i];\n\t\n\tfor(int i=N;i<ans.size();i++) \n\tans[i]=t[i-N];\n\t//ans=Q+t;\n\treturn ans;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\nusing namespace std;\nint main(){\n\tint n;\n\tstring a,b;\n\tchar c[100],d[100];\n\tcin>>n;\n\tfor(int u=0;u<n;u++){\n\t\tcin>>a>>b;\n\t\tfor(int i=0;i<b.size();i++){\n\t\t\td[i]=b[i];\n\t\t\tc[i]=d[i];\n\t\t}\n\t\tfor(int i=a.size()-1;i>=0;i--){\n\t\t\tif(a[i]=='J'){\n\t\t\t\tfor(int i=0;i<b.size()-1;i++)\n\t\t\t\t\tc[i+1]=d[i];\n\t\t\t\tc[0]=d[b.size()-1];\n\t\t\t}\n\t\t\tif(a[i]=='C'){\n\t\t\t\tfor(int i=0;i<b.size()-1;i++)\n\t\t\t\t\tc[i]=d[i+1];\n\t\t\t\tc[b.size()-1]=d[0];\n\t\t\t}\n\t\t\tif(a[i]=='E'){\n\t\t\t\tfor(int i=0;i<b.size();i++){\n\t\t\t\t\tif(i<b.size()/2)\n\t\t\t\t\t\tc[i+b.size()-b.size()/2]=d[i];\n\t\t\t\t\telse\n\t\t\t\t\t\tc[i-b.size()+b.size()/2]=d[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(a[i]=='A'){\n\t\t\t\tfor(int i=0;i<b.size();i++)\n\t\t\t\t\tc[i]=d[b.size()-1-i];\n\t\t\t}\n\t\t\tif(a[i]=='P'){\n\t\t\t\tfor(int i=0;i<b.size();i++){\n\t\t\t\t\tbool check=false;\n\t\t\t\t\tif(c[i]>='1'&&c[i]<='9'){\n\t\t\t\t\t\tc[i]=c[i]-1;\n\t\t\t\t\t\tcheck=true;\n\t\t\t\t\t}\n\t\t\t\t\telse if(c[i]=='0'){\n\t\t\t\t\t\tc[i]='9';\n\t\t\t\t\t\tcheck=true;\n\t\t\t\t\t}\n\t\t\t\t\tif(check==false)\n\t\t\t\t\t\tc[i]=d[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(a[i]=='M'){\n\t\t\t\tfor(int i=0;i<b.size();i++){\n\t\t\t\t\tbool check=false;\n\t\t\t\t\tif(c[i]>='0'&&c[i]<='8'){\n\t\t\t\t\t\tc[i]=c[i]+1;\n\t\t\t\t\t\tcheck=true;\n\t\t\t\t\t}\n\t\t\t\t\telse if(c[i]=='9'){\n\t\t\t\t\t\tc[i]='0';\n\t\t\t\t\t\tcheck=true;\n\t\t\t\t\t}\n\t\t\t\t\tif(check==false)\n\t\t\t\t\t\tc[i]=d[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(int i=0;i<b.size();i++)\n\t\t\t\td[i]=c[i];\n\t\t}\n\t\tfor(int i=0;i<b.size();i++)\n\t\t\tcout<<d[i];\n\t\tcout<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <functional>\n#include <cstdlib>\n#include <sstream>\n#include <string>\n#include <set>\n#include <map>\n#include <stack>\n#include <queue>\n#include <deque>\n#include <complex>\n#include <vector>\n#include <bitset>\n#include <cstdio>\n#include <cmath>\n#include <time.h>\n#include <tuple>\n#define all(c) ((c).begin(),(c).end())\n#define rall(c) ((c).rbegin(),(c).rend())\n//#define sort(v,n) sort(v,v+n)\n#define ll long long\n#define fi first\n#define se second\n#define inf 999999999\nusing namespace std;\nconst ll MOD = 1e9 + 7;\nconst double PI = acos(-1.0);\n//---------------------------------------------------------------------------------------------//\nint n;\ninline string j(string a) {\n\tstring res;\n\tres = a.substr(1, a.length() - 1);\n\tres += a[0];\n\treturn res;\n}\ninline string c(string a) {\n\tstring res;\n\tres = a[a.length() - 1];\n\tres += a.substr(0, a.length() - 1);\n\treturn res;\n}\ninline string e(string a) {\n\tstring res, b, c;\n\tif ((int)a.length() & 1) {\n\t\tb = a.substr(0, a.length() / 2);\n\t\tc = a.substr(a.length() / 2 + 1, a.length() / 2);\n\t\t//cout << \"b=\" << b << \" c=\" << c << endl;\n\t\tres = c;\n\t\tres += a[a.length() / 2];\n\t\tres += b;\n\t\treturn res;\n\t}\n\telse {\n\t\tb = a.substr(0, a.length() / 2);\n\t\tc = a.substr(a.length() / 2, a.length() / 2);\n\t\tres = c + b;\n\t\treturn res;\n\t}\n}\ninline string a(string a) {\n\treverse(a.begin(), a.end());\n\treturn a;\n}\ninline string p(string a) {\n\tchar b[] = { '1','2','3','4','5','6','7','8','9','0' };\n\tfor (int i = 0; i < a.length(); i++) {\n\t\tfor (int j = 0; j < 10; j++) {\n\t\t\tif (a[i] == b[j]) {\n\t\t\t\tif (j < 9) {\n\t\t\t\t\ta[i] = b[j + 1];\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\ta[i] = b[0];\n\t\t\t\t}\n\t\t\t\tj = 10;\n\t\t\t}\n\t\t}\n\t}\n\treturn a;\n}\ninline string m(string a) {\n\tchar b[] = { '1','2','3','4','5','6','7','8','9','0' };\n\tfor (int i = 0; i < a.length(); i++) {\n\t\tfor (int j = 0; j < 10; j++) {\n\t\t\tif (a[i] == b[j]) {\n\t\t\t\tif (j > 0) {\n\t\t\t\t\ta[i] = b[j - 1];\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\ta[i] = b[9];\n\t\t\t\t}\n\t\t\t\tj = 10;\n\t\t\t}\n\t\t}\n\t}\n\treturn a;\n}\nint main() {\n\tcin >> n;\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tstring s, t;\n\t\t\tcin >> s >> t;\n\t\t\tfor (int k = s.length() - 1; k >= 0; k--) {\n\t\t\t\tif (s[k] == 'A') {\n\t\t\t\t\tt=a(t);\n\t\t\t\t}\n\t\t\t\telse if (s[k] == 'J') {\n\t\t\t\t\tt=c(t);\n\t\t\t\t}\n\t\t\t\telse if (s[k] == 'M') {\n\t\t\t\t\tt=p(t);\n\t\t\t\t}\n\t\t\t\telse if (s[k] == 'P') {\n\t\t\t\t\tt=m(t);\n\t\t\t\t}\n\t\t\t\telse if (s[k] == 'E') {\n\t\t\t\t\tt=e(t);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tt=j(t);\n\t\t\t\t}\n\t\t\t\t//cout <<\"t=\"<< t << endl;\n\t\t\t}\n\t\t\tcout << t << endl;\n\t\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n)for(int i=0;i<n;i++)\nusing namespace std;\n\nint main() {\n\tint n; cin >> n;\n\trep(i, n) {\n\t\tstring m, s; cin >> m >> s;\n\t\treverse(m.begin(), m.end());\n\t\tfor (char c : m) {\n\t\t\tswitch (c) {\n\t\t\tcase'C':rotate(s.begin(), ++s.begin(), s.end()); break;\n\t\t\tcase'J':rotate(s.begin(), --s.end(), s.end()); break;\n\t\t\tcase'E':s = s.substr((int)s.size() / 2 + (int)s.size() % 2) + s.substr((int)s.size() / 2, (int)s.size() % 2) + s.substr(0, (int)s.size() / 2); break;\n\t\t\tcase'A':reverse(s.begin(), s.end()); break;\n\t\t\tcase'M':transform(s.begin(), s.end(), s.begin(), [](char c) {\n\t\t\t\tif (c == '9')return'0';\n\t\t\t\tif ('0' <= c&&c < '9')return ++c;\n\t\t\t}); break;\n\t\t\tcase'P':transform(s.begin(), s.end(), s.begin(), [](char c) {\n\t\t\t\tif (c == '0')return'9';\n\t\t\t\tif ('0' < c&&c <= '9')return --c;\n\t\t\t}); break;\n\t\t\t}\n\t\t}\n\t\tcout << s << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define REP(i, a, n) for(ll i=a; i<n; i++)\n#define RREP(i, a, n) for(ll i=n-1; i>=a; i--)\ntypedef long long ll;\nconst ll mod =1e9+7;\nconst ll inf =1e18;\nusing namespace std;\n\nll n;\nint main() {\n    cin>>n;\n\n    REP(i, 0, n){\n        string order_mes, king_mes;\n        cin>>order_mes>>king_mes;\n\n        ll len=king_mes.size(); // size of king_mes\n        RREP(j, 0, order_mes.size()){\n            if(order_mes[j] == 'C'){\n                king_mes = king_mes.substr(1,len-1)+king_mes.substr(0, 1);\n            }\n            else if(order_mes[j] == 'J'){\n                king_mes = king_mes.substr(len-1, 1)+king_mes.substr(0, len-1);\n            }\n            else if(order_mes[j] == 'E'){\n                if(len%2 == 0){\n                    king_mes = king_mes.substr(len/2, len/2)+king_mes.substr(0, len/2);\n                }\n                else{\n                    king_mes = king_mes.substr(len/2+1, len/2)+king_mes.substr(len/2, 1)+king_mes.substr(0, len/2);\n                }\n            }\n            else if(order_mes[j] == 'A'){\n                reverse(king_mes.begin(), king_mes.end());\n            }\n            else if(order_mes[j] == 'M'){\n                REP(k, 0, len){\n                    if('0'<=king_mes[k] && king_mes[k]<'9'){\n                        king_mes[k] = king_mes[k]+1;\n                    }\n                    else if(king_mes[k]=='9'){\n                        king_mes[k]='0';\n                    }\n                }\n            }\n            else{\n                REP(k, 0, len){\n                    if('0'<king_mes[k] && king_mes[k]<='9'){\n                        king_mes[k] = king_mes[k]-1 ;\n                    }\n                    else if(king_mes[k]=='0'){\n                        king_mes[k]='9';\n                    }\n                }\n            }\n        }\n\n        cout<<king_mes<<endl;\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <cstdlib>\n\nusing namespace std;\n\nint main () {\n  int n;\n\n  cin >> n;\n  for( int i = 0; i < n; i++ ) {\n    string commands, mes;\n    cin >> commands >> mes;\n    int len = commands.length();\n    int meslen = mes.length();\n    for( int j = len - 1; j >= 0; j-- ) {\n      switch( commands[ j ] ) {\n        case 'C':\n          mes = mes.substr( 1 ) + mes[ 0 ];\n          break;\n        case 'J':\n          mes = mes[ meslen - 1 ] + mes.substr( 0, meslen - 1 );\n          break;\n        case 'E':\n          if( meslen % 2 == 1 ) {\n            mes = \n              mes.substr( meslen / 2 + 1 ) + \n              mes[ meslen / 2 ] +\n              mes.substr( 0, meslen / 2 );\n          }else{\n            mes = \n              mes.substr( meslen / 2 ) +\n              mes.substr( 0, meslen / 2 ); \n          }\n          break;\n        case 'A':\n          reverse( mes.begin(), mes.end() );\n          break;\n        case 'M':\n          for( int k = 0; k < meslen; k++ ) {\n            if( '0' <= mes[ k ] && mes[ k ] <= '8' ){\n              mes[ k ]++;\n            }else if( mes[ k ] == '9' ){\n              mes[ k ] = '0';\n            }\n          }\n          break;\n        case 'P':\n          for( int k = 0; k < meslen; k++ ) {\n            if( '1' <= mes[ k ] && mes[ k ] <= '9' ){\n              mes[ k ]--;\n            }else if( mes[ k ] == '0' ){\n              mes[ k ] = '9';\n            }\n          }\n          break;\n      }\n    }\n    cout << mes << endl;\n  }\n\n  return EXIT_SUCCESS;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <stdio.h>\n#include <cstdio>\n#include <algorithm>\nusing namespace std;\n\nint main(){\n    int n;\n    cin >> n;\n    while( n-- ){\n        string p, m;\n        cin >> p >> m;\n        reverse( p.begin(), p.end() );\n        for( size_t i = 0; i < p.length(); i++ ){\n            switch(p[i]){\n                case 'J':{\n                    char tmp = m[m.length() - 1];\n                    for( size_t j = m.length() - 1; j > 0; j-- ){\n                        //if( j == 0 ){\n                        //}else{\n                            m[j] = m[j-1];\n                        //}\n                        //cout << m[j] << endl;\n                    }\n                    m[0] = tmp;\n                    break;\n                }case 'C':{\n                    char tmp = m[0];\n                    for( size_t j = 0; j < m.length(); j++ ){\n                        if( j == m.length() - 1 ) m[j] = tmp;\n                        else m[j] = m[j+1];\n                    }\n                    break;\n                }case 'E':{\n                    string tmp = m.substr( 0, m.length() / 2 );\n                    m.replace( 0, (m.length() - 1) / 2, m );\n                    m.append( tmp );\n                    break;\n                }case 'A':{\n                    reverse( m.begin(), m.end() );\n                    break;\n                }case 'P':{\n                    for( size_t j = 0; j < m.length(); j++ ){\n                        if( '1' <= m[j] && m[j] <= '9' ){\n                            m[j]--;\n                        }else if( '0' == m[j] ){\n                            m[j] = '9';\n                        }\n                    }\n                    break;\n                }case 'M':{\n                    for( size_t j = 0; j < m.length(); j++ ){\n                        if( '0' <= m[j] && m[j] <= '8' ){\n                            m[j]++;\n                        }else if( '9' == m[j] ){\n                            m[j] = '0';\n                        }\n                    }\n                    break;\n                }\n            }\n        }\n        cout << m << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "//37\n#include<iostream>\n#include<string>\n#include<algorithm>\n#include<cctype>\n\nusing namespace std;\n\nint main(){\n  int n;\n  cin>>n;\n  while(n--){\n    string r,m;\n    cin>>r>>m;\n    for(int i=r.size()-1;i>=0;i--){\n      switch(r[i]){\n      case 'J':\n\tif(m.size()>1){\n\t  rotate(m.begin(),m.end()-1,m.end());\n\t}\n\tbreak;\n      case 'C':\n\tif(m.size()>1){\n\t  rotate(m.begin(),m.begin()+1,m.end());\n\t}\n\tbreak;\n      case 'E':\n\t{\n\t  string n;\n\t  n=m.substr((m.size()+1)/2);\n\t  if(m.size()%2){\n\t    n+=m[m.size()/2];\n\t  }\n\t  n+=m.substr(0,m.size()/2);\n\t  m=n;\n\t}\n\tbreak;\n      case 'A':\n\treverse(m.begin(),m.end());\n\tbreak;\n      case 'P':\n      case 'M':\n\tfor(int j=0;j<m.size();j++){\n\t  if(isdigit(m[j])){\n\t    m[j]=(m[j]-'0'+(r[i]=='M')-(r[i]=='P')+10)%10+'0';\n\t  }\n\t}\n\tbreak;\n      }\n    }\n    cout<<m<<endl;\n  }\n  return 0;\n}\n      "
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\nusing namespace std;\nint main(){\n\tint n;\n\tstring a,b;\n\tchar c[100],d[100];\n\tcin>>n;\n\tfor(int u=0;u<n;u++){\n\t\tcin>>a>>b;\n\t\tfor(int i=0;i<b.size();i++)\n\t\t\td[i]=b[i];\n\t\tfor(int i=a.size()-1;i>=0;i--){\n\t\t\tif(a[i]=='J'){\n\t\t\t\tfor(int i=0;i<b.size()-1;i++)\n\t\t\t\t\tc[i+1]=d[i];\n\t\t\t\tc[0]=d[b.size()-1];\n\t\t\t}\n\t\t\tif(a[i]=='C'){\n\t\t\t\tfor(int i=0;i<b.size()-1;i++)\n\t\t\t\t\tc[i]=d[i+1];\n\t\t\t\tc[b.size()-1]=d[0];\n\t\t\t}\n\t\t\tif(a[i]=='E'){\n\t\t\t\tfor(int i=0;i<b.size();i++){\n\t\t\t\t\tif(i<b.size()/2)\n\t\t\t\t\t\tc[i+b.size()-b.size()/2]=d[i];\n\t\t\t\t\telse\n\t\t\t\t\t\tc[i-b.size()+b.size()/2]=d[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(a[i]=='A'){\n\t\t\t\tfor(int i=0;i<b.size();i++)\n\t\t\t\t\tc[i]=d[b.size()-1-i];\n\t\t\t}\n\t\t\tif(a[i]=='P'){\n\t\t\t\tfor(int i=0;i<b.size();i++){\n\t\t\t\t\tbool check=false;\n\t\t\t\t\tif(c[i]>='1'&&c[i]<='9'){\n\t\t\t\t\t\tc[i]=c[i]-1;\n\t\t\t\t\t\tcheck=true;\n\t\t\t\t\t}\n\t\t\t\t\telse if(c[i]=='0'){\n\t\t\t\t\t\tc[i]='9';\n\t\t\t\t\t\tcheck=true;\n\t\t\t\t\t}\n\t\t\t\t\tif(check==false)\n\t\t\t\t\t\tc[i]=d[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(a[i]=='M'){\n\t\t\t\tfor(int i=0;i<b.size();i++){\n\t\t\t\t\tbool check=false;\n\t\t\t\t\tif(c[i]>='0'&&c[i]<='8'){\n\t\t\t\t\t\tc[i]=c[i]+1;\n\t\t\t\t\t\tcheck=true;\n\t\t\t\t\t}\n\t\t\t\t\telse if(c[i]=='9'){\n\t\t\t\t\t\tc[i]='0';\n\t\t\t\t\t\tcheck=true;\n\t\t\t\t\t}\n\t\t\t\t\tif(check==false)\n\t\t\t\t\t\tc[i]=d[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(int i=0;i<b.size();i++)\n\t\t\t\td[i]=c[i];\n\t\t}\n\t\tfor(int i=0;i<b.size();i++)\n\t\t\tcout<<d[i];\n\t\tcout<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#include <algorithm>\n#include <cstdio>\n#include <functional>\n#include <iostream>\n#include <cfloat>\n#include <climits>\n#include <cstring>\n#include <cmath>\n#include <map>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <time.h>\n#include <vector>\nusing namespace std;\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int, int> i_i;\ntypedef pair<ll, int> ll_i;\ntypedef pair<double, int> d_i;\ntypedef pair<ll, ll> ll_ll;\ntypedef pair<double, double> d_d;\nstruct edge { int u, v; ll w; };\n\nll MOD = 1000000007;\nll _MOD = 1000000009;\ndouble EPS = 1e-10;\n\nint main() {\n\tint n; cin >> n;\n\twhile (n--) {\n\t\tstring s, t; cin >> t >> s;\n\t\tint m = s.length();\n\t\treverse(t.begin(), t.end());\n\t\tfor (int j = 0; j < t.size(); j++)\n\t\t\tswitch (t[j]) {\n\t\t\tcase 'J':\n\t\t\t\ts = s[m - 1] + s.substr(0, m - 1);\n\t\t\t\tbreak;\n\t\t\tcase 'C':\n\t\t\t\ts = s.substr(1) + s[0];\n\t\t\t\tbreak;\n\t\t\tcase 'E':\n\t\t\t\tif (m % 2 == 0) s = s.substr(m / 2) + s.substr(0, m / 2);\n\t\t\t\telse s = s.substr(m / 2 + 1) + s[m / 2] + s.substr(0, m / 2);\n\t\t\t\tbreak;\n\t\t\tcase 'A':\n\t\t\t\treverse(s.begin(), s.end());\n\t\t\t\tbreak;\n\t\t\tcase 'P':\n\t\t\t\tfor (int i = 0; i < m; i++)\n\t\t\t\t\tif (s[i] >= '0' && s[i] <= '9')\n\t\t\t\t\t\ts[i] = '0' + (s[i] - '0' + 9) % 10;\n\t\t\t\tbreak;\n\t\t\tcase 'M':\n\t\t\t\tfor (int i = 0; i < m; i++)\n\t\t\t\t\tif (s[i] >= '0' && s[i] <= '9')\n\t\t\t\t\t\ts[i] = '0' + (s[i] - '0' + 1) % 10;\n\t\t\t\tbreak;\n\t\t\t}\n\t\tcout << s << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cmath>\n#include<cstdio>\n#include<algorithm>\n#include<vector>\n#include<cstring>\n\nusing namespace std;\n\n#define INF 999999999\n\nstring mej(string v){\n\treturn v.substr(v.size()-1) + v.substr(0,v.size()-1);\n}\nstring mec(string v){\n\treturn v.substr(1) + v.substr(0,1);\n}\nstring mee(string v){\n\tfor(int i=0;i<v.size()/2;i++){\n\t\tswap(v[i], v[i + (v.size()+1)/2]);\n\t}\n\treturn v;\n}\nstring mea(string v){\n\tfor(int i=0;i<v.size()/2;i++){\n\t\tswap(v[i], v[v.size()-1-i]);\n\t}\n\treturn v;\n}\nstring mep(string v){\n\tfor(int i=0;i<v.size();i++){\n\t\tif(v[i] >= '1' && v[i] <= '9') v[i] -= 1;\n\t\telse if(v[i] == '0') v[i] = '9';\n\t}\n\treturn v;\n}\nstring mem(string v){\n\tfor(int i=0;i<v.size();i++){\n\t\tif(v[i] >= '0' && v[i] <= '8') v[i] += 1;\n\t\telse if(v[i] == '9') v[i] = '0';\n\t}\n\treturn v;\n}\n\nint main(){\n\tint i, j, n;\n\tstring s, o;\n\t\n\tcin >> n;\n\tfor(i=0;i<n;i++){\n\t\tcin >> o >> s;\n\t\tfor(j=o.size()-1;j>=0;j--){\n\t\t\tif(o[j] == 'J') s = mej(s);\n\t\t\tif(o[j] == 'C') s = mec(s);\n\t\t\tif(o[j] == 'E') s = mee(s);\n\t\t\tif(o[j] == 'A') s = mea(s);\n\t\t\tif(o[j] == 'P') s = mep(s);\n\t\t\tif(o[j] == 'M') s = mem(s);\n\t\t}\n\t\tcout << s << endl;\n\t}\n\t\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\nusing namespace std;\nint main(){\n\tint n;\n\tstring a,b;\n\tchar c[100],d[100];\n\tcin>>n;\n\tfor(int u=0;u<n;u++){\n\t\tcin>>a>>b;\n\t\tfor(int i=0;i<b.size();i++){\n\t\t\td[i]=b[i];\n\t\t\tc[i]=d[i];\n\t\t}\n\t\tfor(int i=a.size()-1;i>=0;i--){\n\t\t\tif(a[i]=='J'){\n\t\t\t\tfor(int i=0;i<b.size()-1;i++)\n\t\t\t\t\tc[i+1]=d[i];\n\t\t\t\tc[0]=d[b.size()-1];\n\t\t\t}\n\t\t\tif(a[i]=='C'){\n\t\t\t\tfor(int i=0;i<b.size()-1;i++)\n\t\t\t\t\tc[i]=d[i+1];\n\t\t\t\tc[b.size()-1]=d[0];\n\t\t\t}\n\t\t\tif(a[i]=='E'){\n\t\t\t\tfor(int i=0;i<b.size();i++){\n\t\t\t\t\tif(i<b.size()/2)\n\t\t\t\t\t\tc[i+b.size()-b.size()/2]=d[i];\n\t\t\t\t\telse\n\t\t\t\t\t\tc[i-b.size()+b.size()/2]=d[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(a[i]=='A'){\n\t\t\t\tfor(int i=0;i<b.size();i++)\n\t\t\t\t\tc[i]=d[b.size()-1-i];\n\t\t\t}\n\t\t\tif(a[i]=='P'){\n\t\t\t\tfor(int i=0;i<b.size();i++){\n\t\t\t\t\tbool check=false;\n\t\t\t\t\tif(c[i]>='1'&&c[i]<='9'){\n\t\t\t\t\t\tc[i]=c[i]-1;\n\t\t\t\t\t\tcheck=true;\n\t\t\t\t\t}\n\t\t\t\t\telse if(c[i]=='0'){\n\t\t\t\t\t\tc[i]='9';\n\t\t\t\t\t\tcheck=true;\n\t\t\t\t\t}\n\t\t\t\t\tif(check==false)\n\t\t\t\t\t\tc[i]=d[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(a[i]=='M'){\n\t\t\t\tfor(int i=0;i<b.size();i++){\n\t\t\t\t\tbool check=false;\n\t\t\t\t\tif(c[i]>='0'&&c[i]<='8'){\n\t\t\t\t\t\tc[i]=c[i]+1;\n\t\t\t\t\t\tcheck=true;\n\t\t\t\t\t}\n\t\t\t\t\telse if(c[i]=='9'){\n\t\t\t\t\t\tc[i]='0';\n\t\t\t\t\t\tcheck=true;\n\t\t\t\t\t}\n\t\t\t\t\tif(check==false)\n\t\t\t\t\t\tc[i]=d[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(int i=0;i<b.size();i++)\n\t\t\t\td[i]=c[i];\n\t\t}\n\t\tfor(int i=0;i<b.size();i++)\n\t\t\tcout<<d[i];\n\t\tcout<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <cstdlib>\n#include <algorithm>\n\nusing namespace std;\n\nint main () {\n  int n;\n\n  cin >> n;\n  for( int i = 0; i < n; i++ ) {\n    string commands, mes;\n    cin >> commands >> mes;\n    int len = commands.length();\n    int meslen = mes.length();\n    for( int j = len - 1; j >= 0; j-- ) {\n      switch( commands[ j ] ) {\n        case 'C':\n          mes = mes.substr( 1 ) + mes[ 0 ];\n          break;\n        case 'J':\n          mes = mes[ meslen - 1 ] + mes.substr( 0, meslen - 1 );\n          break;\n        case 'E':\n          if( meslen % 2 == 1 ) {\n            mes = \n              mes.substr( meslen / 2 + 1 ) + \n              mes[ meslen / 2 ] +\n              mes.substr( 0, meslen / 2 );\n          }else{\n            mes = \n              mes.substr( meslen / 2 ) +\n              mes.substr( 0, meslen / 2 ); \n          }\n          break;\n        case 'A':\n          reverse( mes.begin(), mes.end() );\n          break;\n        case 'M':\n          for( int k = 0; k < meslen; k++ ) {\n            if( '0' <= mes[ k ] && mes[ k ] <= '8' ){\n              mes[ k ]++;\n            }else if( mes[ k ] == '9' ){\n              mes[ k ] = '0';\n            }\n          }\n          break;\n        case 'P':\n          for( int k = 0; k < meslen; k++ ) {\n            if( '1' <= mes[ k ] && mes[ k ] <= '9' ){\n              mes[ k ]--;\n            }else if( mes[ k ] == '0' ){\n              mes[ k ] = '9';\n            }\n          }\n          break;\n      }\n    }\n    cout << mes << endl;\n  }\n\n  return EXIT_SUCCESS;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\n#include <deque>\n#include <cctype>\n\nusing namespace std;\n\nint main(){\n    int n;\n    cin >> n;\n    for (int _ = 0; _ < n; _++){\n        string op, s;\n        cin >> op >> s;\n        reverse(op.begin(), op.end());\n        deque<char> str(s.begin(), s.end());\n        for (char c : op){\n            if (c == 'C'){\n                char t = str.front();\n                str.pop_front();\n                str.push_back(t);\n            }\n            else if (c == 'J'){\n                char t = str.back();\n                str.pop_back();\n                str.push_front(t);\n            }\n            else if (c == 'E'){\n                for (int i = 0; i < str.size() / 2; i++){\n                    char t = str.front();\n                    str.pop_front();\n                    str.push_back(t);\n                }\n            }\n            else if (c == 'A'){\n                reverse(str.begin(), str.end());\n            }\n            else if (c == 'M'){\n                for (int i = 0; i < str.size(); i++){\n                    if (isdigit(str[i])){\n                        str[i]++;\n                        if (str[i] == '9' + 1){\n                            str[i] = '0';\n                        }\n                    }\n                }\n            }\n            else if (c == 'P'){\n                for (char & d : str){\n                    if (isdigit(d)){\n                        d--;\n                        if (d == '0' - 1){\n                            d = '9';\n                        }\n                    }\n                }\n            }\n        }\n        for (char c : str){\n            cout << c;\n        }\n        cout << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<cctype>\nusing namespace std;\n\nvoid relay(char op, string &s){\n\n}\n\nint main(){\n    int n;\n    cin >> n;\n\n    while(n-- > 0){\n        string op, s;\n        cin >> op >> s;\n\n        reverse(op.begin(), op.end());\n        int len = s.length();\n        \n        for(char x : op){\n            if(x == 'J'){\n                s = s.substr(len-1, 1) + s.substr(0, len-1);\n            }else if(x == 'C'){\n                s = s.substr(1) + s.substr(0,1);\n            }else if(x == 'E'){\n                if(len % 2 == 1){\n                    s = s.substr(len/2+1) + s[len/2] + s.substr(0, len/2);\n                }else{\n                    s = s.substr(len/2) + s.substr(0, len/2);\n                }\n            }else if(x == 'A'){\n                reverse(s.begin(), s.end());\n            }else if(x == 'P'){\n                for(int i = 0; i < len; i++){\n                    if(isdigit(s[i]))   s[i] = '0' + (s[i]-'0'-1+10)%10;\n                }\n            }else if(x == 'M'){\n                for(int i = 0; i < len; i++){\n                    if(isdigit(s[i]))   s[i] = '0' + (s[i]-'0'+1)%10;\n                }\n            }\n        }\n\n        cout << s << endl;\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cstdio>\n#include <iostream>\n#include <map>\n#include <cmath>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <vector>\n#include <stdlib.h>\n#include <stdio.h>\n#include <bitset>\n#include <cstring>\nusing namespace std;\n#define FOR(I,A,B) for(int I = (A); I < (B); ++I)\n#define CLR(mat) memset(mat, 0, sizeof(mat))\ntypedef long long ll;\nint main()\n{\n  ios::sync_with_stdio(false);\n  cin.tie(0);\n  int n; cin >> n;\n  while(n--) {\n    string MSer, MS; cin >> MSer >> MS;\n    int len = MS.length();\n    for(int i = (int)MSer.length() - 1; i >= 0; i--) {\n      if(MSer[i] == 'J') {\n        for(int i = len - 1; i > 0; i--) {\n          swap(MS[i-1], MS[i]);\n        }\n      }\n      if(MSer[i] == 'C') {\n        FOR(i,1,len) {\n          swap(MS[i-1], MS[i]);\n        }\n      }\n      if(MSer[i] == 'E') {\n        string ms1 = \"\", ms2 = \"\";\n        FOR(i,0,len) {\n          if(i < len / 2) {\n            ms1 += MS[i];\n          } else if(len % 2 == 1 && i == len / 2) {\n            ms1 = MS[i] + ms1;\n          } else {\n            ms2 += MS[i];\n          }\n        }\n        MS = ms2 + ms1;\n      }\n      if(MSer[i] == 'A') {\n        reverse(MS.begin(), MS.end());\n      }\n      if(MSer[i] == 'P') {\n        FOR(i,0,len) {\n          if(isdigit(MS[i])){\n            int x = MS[i] - '0';\n            x = (x - 1 + 10) % 10;\n            char y = x + '0';\n            MS[i] = y;\n          }\n        }\n      }\n      if(MSer[i] == 'M') {\n        FOR(i,0,len) {\n          if(isdigit(MS[i])){\n            int x = MS[i] - '0';\n            x = (x + 1) % 10;\n            char y = x + '0';\n            MS[i] = y;\n          }\n        }\n      }\n    }\n    cout << MS << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _CRT_SECURE_NO_WARNINGS\n#include<cstdio>\n#include<cmath>\n#include<sstream>\n#include<cstring>\n#include<iostream>\n#include<algorithm>\n#include<utility>\n#include<iomanip>\n#include<vector>\n#include<string>\n#include<queue>\n#include<stack>\n#include<map>\n#include<list>\n#include<set>\n#include<stdlib.h>\n#include<time.h>\n#define rep(i,n) for(int i=0;i<(int)n;i++)\n#define repp(i,k,n) for(int i=k;i<(int)n;i++)\nusing namespace std;\nconst int dx[4] = { 0, 1, 0, -1 }, dy[4] = { 1, 0, -1, 0 };\nconst int dX[8] = { 0, 1, 1, 1, 0, -1, -1, -1 }, dY[8] = { 1, 1, 0, -1, -1, -1, 0, 1 };\nstruct XY\n{\n\tint x;\n\tint y;\n};\nvector<long long> Prime;\nvoid SieveOfEratosthenes(long long e) //setup vector<long long>Prime(~x)\n{\n\tbool *x=new bool[e];\n\tfor (long long i = 0; i <= e; i++)x[i] = false;\n\tfor (long long i = 2; i <= e; i++)\n\t{\n\t\tif (x[i]);\n\t\telse\n\t\t{\n\t\t\tPrime.push_back(i);\n\t\t\tfor (long long l = i; l <= e; l += i)x[l] = true;\n\t\t}\n\t}\n\treturn;\n}\nint StringToInt(string a)\n{\n\tstringstream ss;\n\tint x;\n\tss << a;\n\tss >> x;\n\treturn x;\n}\nstring IntToString(int a)\n{\n\tstringstream ss;\n\tstring x;\n\tss << a;\n\tss >> x;\n\treturn x;\n}\nint GetRandom(int MIN, int MAX)\n{\n\tstatic int flag=0;\n\tif (flag == 0)\n\t{\n\t\tsrand((unsigned int)time(NULL));\n\t\tflag = 1;\n\t}\n\treturn MIN + (int)(rand()*(MAX - MIN + 1.0) / (1.0 + RAND_MAX));\n}\nint in()\n{\n\tint x;\n\tcin >> x;\n\treturn x;\n}\nvoid outl(string a)\n{\n\tcout << a << endl;\n\treturn;\n}\nvoid outl(int a)\n{\n\tcout << a << endl;\n\treturn;\n}\nvoid out(string a)\n{\n\tcout << a;\n\treturn;\n}\nvoid out(int a)\n{\n\tcout << a;\n\treturn;\n}\n/*\n(char)'1' - (int)48 = (int)1;\n???1111181\n (char)A=(int)65\n (char)a=(int)97\n*/\n////////////////////////////////////////////////////\n\nint main()\n{\n\tint n;\n\tcin >> n;\n\twhile (n--)\n\t{\n\t\tchar a[1500];\n\t\tstring  b;\n\t\tcin >> a >> b;\n\t\tstring T;\n\t\tfor (int i = strlen(a) - 1; i >= 0; i--)\n\t\t{\n\t\t\tswitch (a[i])\n\t\t\t{\n\t\t\tcase'A':\n\t\t\t\treverse(b.begin(), b.end());\n\t\t\t\tbreak;\n\t\t\tcase'J':\n\t\t\t\tT = \"\";\n\t\t\t\tT += b[b.size() - 1];\n\t\t\t\tfor (int h = 0; h < b.size() - 1; h++)T += b[h];\n\t\t\t\tb = T;\n\t\t\t\tbreak;\n\t\t\tcase'M':\n\t\t\t\tfor (int l = 0; l < b.size(); l++)\n\t\t\t\t{\n\t\t\t\t\tif (b[l] >= '0'&&b[l] <= '9')\n\t\t\t\t\t{\n\t\t\t\t\t\tif (b[l] == '9')b[l] = '0';\n\t\t\t\t\t\telse b[l] += 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase'P':\n\t\t\t\t\n\t\t\t\tfor (int l = 0; l < b.size(); l++)\n\t\t\t\t{\n\t\t\t\t\tif (b[l] >= '0'&&b[l] <= '9')\n\t\t\t\t\t{\n\t\t\t\t\t\tif (b[l] == '0')b[l] = '9';\n\t\t\t\t\t\telse b[l] -= 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase'C':\n\t\t\t\tT = \"\";\n\t\t\t\tfor (int l = 1; l < b.size(); l++)T += b[l];\n\t\t\t\tT += b[0];\n\t\t\t\tb = T;\n\t\t\t\tbreak;\n\t\t\tcase'E':\n\t\t\t\tstring r=\"\", l=\"\",m=\"\";\n\t\t\t\tfor (int j = 0; j < b.size(); j++)\n\t\t\t\t{\n\t\t\t\t\tif (j < b.size() / 2)r += b[j];\n\t\t\t\t\telse if (j == b.size() / 2 && b.size() % 2 == 1)m += b[j];\n\t\t\t\t\telse l += b[j];\n\t\t\t\t}\n\t\t\t\tb = l + m + r;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tcout << b << endl;\n\n\t}\n\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <stdio.h>\n#include <cstdio>\nusing namespace std;\n\nint main(){\n    int n;\n    cin >> n;\n    while( n-- ){\n        string p, m;\n        cin >> p >> m;\n        reverse( p.begin(), p.end() );\n        for( size_t i = 0; i < p.length(); i++ ){\n            if( p[i] == 'J' ){\n                char tmp = m[m.length() - 1];\n                for( size_t j = m.length() - 1; j > 0; j-- ){\n                    //if( j == 0 ){\n                    //}else{\n                        m[j] = m[j-1];\n                    //}\n                    //cout << m[j] << endl;\n                }\n                m[0] = tmp;\n                break;\n            }if( p[i] == 'C' ){\n                char tmp = m[0];\n                for( size_t j = 0; j < m.length(); j++ ){\n                    if( j == m.length() - 1 ) m[j] = tmp;\n                    else m[j] = m[j+1];\n                }\n                break;\n            }if( p[i] == 'E' ){\n                string tmp = m.substr( 0, m.length() / 2 );\n                m = m.substr( (m.length() + 1) / 2 );\n                m.append( tmp );\n                break;\n            }if( p[i] == 'A' ){\n                reverse( m.begin(), m.end() );\n                break;\n            }if( p[i] == 'P' ){\n                for( size_t j = 0; j < m.length(); j++ ){\n                    if( '1' <= m[j] && m[j] <= '9' ){\n                        m[j]--;\n                    }else if( '0' == m[j] ){\n                        m[j] = '9';\n                    }\n                }\n                break;\n            }if( p[i] == 'M' ){\n                for( size_t j = 0; j < m.length(); j++ ){\n                    if( '0' <= m[j] && m[j] <= '8' ){\n                        m[j]++;\n                    }else if( '9' == m[j] ){\n                        m[j] = '0';\n                    }\n                }\n                break;\n            }\n        }\n        cout << m << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\nstring s;\nint len;\n\nvoid funcJ(){\n  if(len==1)return;\n  char tmp=s[len-1];\n  for(int i=len-1;i>0;i--)s[i]=s[i-1];\n  s[0]=tmp;\n}\n\nvoid funcC(){\n  if(len==1)return;\n  char tmp=s[0];\n  for(int i=0;i+1<len;i++)s[i]=s[i+1];\n  s[len-1]=tmp;\n}\n\nvoid funcE(){\n  if(len==1)return;\n\n  if(len%2){\n    s=s.substr(len/2+1,len/2)+s[len/2]+s.substr(0,len/2);\n  }else{\n    s=s.substr(len/2,len/2)+s.substr(0,len/2);\n  }\n}\n\nvoid funcA(){\n  reverse(s.begin(),s.end());\n}\n\nvoid funcP(){\n  for(int i=0;i<len;i++){\n    if(s[i]=='0'){\n      s[i]='9';\n    }else if('1'<=s[i]&&s[i]<='9'){\n      s[i]--;\n    }\n  }\n}\n\nvoid funcM(){\n  for(int i=0;i<len;i++){\n     if(s[i]=='9'){\n       s[i]='0';\n     }else if('0'<=s[i]&&s[i]<='8'){\n       s[i]++;\n     }\n  }\n}\n\nint main(){\n  int n;\n  string A;\n  cin>>n;\n  while(n--){\n    cin>>A>>s;\n    len=s.size();\n    reverse(A.begin(),A.end());\n    for(int i=0;i<(int)A.size();i++){\n      if(A[i]=='M')funcM();\n      if(A[i]=='P')funcP();\n      if(A[i]=='A')funcA();\n      if(A[i]=='E')funcE();\n      if(A[i]=='C')funcC();\n      if(A[i]=='J')funcJ();\n    }\n    cout<<s<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h> // {{{\n// clang-format off\n#define ARG4(_1, _2, _3, _4, ...) _4\n#define rep(...) ARG4(__VA_ARGS__, FOR, REP)(__VA_ARGS__)\n#define REP(i, a) FOR(i, 0, a)\n#define FOR(i, a, b) for (int i = (a); i < (int)(b); ++i)\n#define rrep(...) ARG4(__VA_ARGS__, RFOR, RREP)(__VA_ARGS__)\n#define RREP(i, a) RFOR(i, 0, a)\n#define RFOR(i, a, b) for (int i = (b)-1; i >= (int)(a); --i)\n#define ALL(c) (c).begin(), (c).end()\n#define TEN(n) ((ll)(1e##n))\n#define pb emplace_back\n#define mp make_pair\n#define fi first\n#define se second\n#define USE1(T) template <typename T> inline\n#define USE2(T, U) template <typename T, typename U> inline\n#define mygc(c) (c) = getchar_unlocked()\n#define mypc(c) putchar_unlocked(c)\n \ntemplate<typename T> using vec = std::vector<T>;\ntemplate<typename T> using withi = std::pair<T, int>;\nusing ll = long long;\nUSE2(T,U)bool chmax(T&x,U a){return x<a&&(x=a,1);}\nUSE2(T,U)bool chmin(T&x,U a){return a<x&&(x=a,1);}\nUSE1(T=int)T in(){T x;std::cin>>x;return x;}\nUSE1(T=int)vec<T>in(int n){vec<T>v;v.reserve(n);rep(i,n)v.pb(in<T>());return v;}\nUSE2(T,U=withi<T>)vec<U>zipi(const vec<T>&x,int s=0){int N=x.size();vec<U>v;v.reserve(N);rep(i,N)v.pb(x[i],s+i);return v;}\nUSE1(T)vec<T>ndvec(T v,int n){return vec<T>(n,v);}\nUSE2(T,...Ts)auto ndvec(T v,int n,Ts...ns)->vec<decltype(ndvec(v,ns...))>{return ndvec(ndvec(v,ns...),n);}\nUSE1(T)void pr(T x){std::cout<<x<<'\\n';}\nUSE2(T,...Ts)void pr(T x,Ts...xs){std::cout<<x<<' ';pr(xs...);}\nUSE1(T=int)T rd(){T x=0,m=0,k;for(;;){mygc(k);if(k=='-'){m=1;break;}if('0'<=k&&k<='9'){x=k-'0';break;}}for(;;){mygc(k);if(k<'0'||'9'<k)break;x=x*10+k-'0';}return x;}\nUSE1(T=int)void wr(T x,char c='\\n'){int s=0,m=0;char b[32];if(x<0)m=1,x=-x;for(;x;x/=10)b[s++]=x%10;if(!s)b[s++]=0;if(m)mypc('-');for(;s--;)mypc(b[s]+'0');mypc(c);}\n// clang-format on\n// }}}\nstruct IoSetup { // {{{\n  IoSetup() {\n    std::ios::sync_with_stdio(0);\n    std::cin.tie(0);\n    std::cout.precision(10);\n    std::cerr.precision(10);\n  }\n} iosetup; //}}}\nusing namespace std;\nconst int inf = 1001001001;\nconst ll infl = 1001001001001001001ll;\nconst int dd[] = {0, 1, 0, -1, 0};\n\nsigned main() {\n  int N = in();\n  rep(i, N) {\n    auto ord = in<string>();\n    auto msg = in<string>();\n    int L = msg.size();\n\n    reverse(ALL(ord));\n    for (char c : ord) {\n      if (c == 'J') { msg = msg.substr(L - 1, 1) + msg.substr(0, L - 1); }\n      if (c == 'C') { msg = msg.substr(1, L - 1) + msg.substr(0, 1); }\n      if (c == 'E') {\n        if (L % 2 == 0) {\n          msg = msg.substr(L / 2, L / 2) + msg.substr(0, L / 2);\n        } else {\n          msg = msg.substr(L / 2 + 1, L / 2) + msg.substr(L / 2, 1) + msg.substr(0, L / 2);\n        }\n      }\n      if (c == 'A') { reverse(ALL(msg)); }\n      if (c == 'P') {\n        for (char& m : msg) {\n          if (isdigit(m)) { m = (m - '0' + 9) % 10 + '0'; }\n        }\n      }\n      if (c == 'M') {\n        for (char& m : msg) {\n          if (isdigit(m)) { m = (m - '0' + 1) % 10 + '0'; }\n        }\n      }\n    }\n    pr(msg);\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <stack>\n#include <queue>\n#include <map>\n#include <cmath>\n#include <string>\n#include <sstream>\n#include <iomanip>\n#include <complex>\nusing namespace std;\n\n#define ll long long\n#define vvi vector< vector<int> >\n#define All(X) X.begin(),X.end()\n#define FOR(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define REP(i,n) for(int i=0;i<(int)(n);i++)\n#define pb push_back \nll gcd(ll a,ll b){return b?gcd(b,a%b):a;}\nll lcm(ll a,ll b){return a/gcd(a,b)*b;}\n\nstring func2(char people,string str){\n\tstring newstr;\n\tif(people=='J'){\n\t\tnewstr+=str[str.size()-1];\n\t\tFOR(i,0,str.size()-1){\n\t\t\tnewstr += str[i];\n\t\t}\n\t}\n\tif(people=='C'){\n\t\tFOR(i,1,str.size()){\n\t\t\tnewstr += str[i];\n\t\t}\n\t\tnewstr+=str[0];\n\t}\n\tif(people=='E'){\n\t\tif(str.size()%2==1){\n\t\t\tFOR(i,str.size()/2+1,str.size()){\n\t\t\t\tnewstr += str[i];\n\t\t\t}\n\t\t\tnewstr += str[(str.size()-1)/2];\n\t\t\tFOR(i,0,str.size()/2){\n\t\t\t\tnewstr += str[i];\n\t\t\t}\n\t\t}else{\n\t\t\tFOR(i,str.size()/2,str.size()){\n\t\t\t\tnewstr += str[i];\n\t\t\t}\n\t\t\tFOR(i,0,str.size()/2){\n\t\t\t\tnewstr += str[i];\n\t\t\t}\t\t\t\n\t\t}\n\t}\n\tif(people=='A'){\n\t\tFOR(i,0,str.size()){\n\t\t\tnewstr += str[str.size()-i-1];\n\t\t}\n\t}\n\tif(people=='M'){\n\t\tFOR(i,0,str.size()){\n\t\t\tif(('0'<= str[i])&&(str[i]<='9')){\n\t\t\t\tif(str[i]!='9') newstr += (str[i]+1);\n\t\t\t\telse newstr += '0';\n\t\t\t}else{\n\t\t\t\tnewstr += str[i];\n\t\t\t}\n\t\t}\n\t}\n\tif(people=='P'){\n\t\tFOR(i,0,str.size()){\n\t\t\tif(('0'<= str[i])&&(str[i]<='9')){\n\t\t\t\tif(str[i]!='0') newstr += (str[i]-1);\n\t\t\t\telse newstr += '9';\n\t\t\t}else{\n\t\t\t\tnewstr += str[i];\n\t\t\t}\n\t\t}\n\t}\n\treturn newstr;\n}\nint main(){\n\tint n;\n\tcin >> n;\n\tREP(i,n){\n\t\tstring plist,str;\n\t\tcin >> plist >> str;\n\t\tFOR(j,0,plist.size()){\n\t\t\tchar pp = plist[plist.size()-1-j];\n\t\t\tstr = func2(pp,str);\n\t\t}\n\t\tcout << str << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\n\nusing namespace std;\n\nint main(){\n\n\tint n;\n\t\n\tcin>>n;\n\t\n\twhile(n--){\n\t\t\n\t\tstring ord, mes;\n\t\t\n\t\tcin>>ord>>mes;\n\t\treverse(ord.begin(), ord.end());\n\t\tint m=mes.size();\n\t\t\n\t\tfor(int i=0; i<ord.size(); ++i){\n\t\t\t\n\t\t\tchar c=ord[i];\n\t\t\t\n\t\t\tif(c=='J'){\n\t\t\t\trotate(mes.begin(), mes.end()-1, mes.end());\n\t\t\t}\n\t\t\telse if(c=='C'){\n\t\t\t\trotate(mes.begin(), mes.begin()+1, mes.end());\n\t\t\t}\n\t\t\telse if(c=='E'){\n\t\t\t\t\n\t\t\t\tif(m%2==1)\n\t\t\t\t\tmes = mes.substr(m/2+1) + mes[m/2] + mes.substr(0,m/2);\n\t\t\t\telse\n\t\t\t\t\tmes = mes.substr(m/2) + mes.substr(0,m/2);\n\t\t\t}\n\t\t\telse if(c=='A'){\t\n\t\t\t\treverse(mes.begin(), mes.end());\n\t\t\t}\n\t\t\telse if(c=='M'){\n\t\t\t\t\n\t\t\t\tfor(int i=0; i<m; ++i){\n\t\t\t\t\tif('0'<=mes[i] && mes[i]<='9')\n\t\t\t\t\t\tmes[i] = mes[i]=='9'?'0':(mes[i]+1);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(c=='P'){\n\t\t\t\t\n\t\t\t\tfor(int i=0; i<m; ++i){\n\t\t\t\t\tif('0'<=mes[i] && mes[i]<='9')\n\t\t\t\t\t\tmes[i] = mes[i]=='0'?'9':(mes[i]-1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tcout << mes << endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <deque>\n#include <algorithm>\n#include <cctype>\nusing namespace std;\n\nint main(){\n\tint n, m;\n\tfor(cin >> n; n--; ){\n\t\tstring cmd, msgstr;\n\t\tcin >> cmd >> msgstr;\n\t\t\n\t\tdeque<char> msg(msgstr.begin(), msgstr.end());\n\t\tdeque<char>::iterator it1, it2;\n\t\t\n\t\tfor(int i = cmd.size() - 1; i >= 0; --i){\n\t\t\tswitch(cmd[i]){\n\t\t\t\tcase 'J':\n\t\t\t\t\tmsg.push_front( msg.back() );\n\t\t\t\t\tmsg.pop_back();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'C':\n\t\t\t\t\tmsg.push_back( msg.front() );\n\t\t\t\t\tmsg.pop_front();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'E':\n\t\t\t\t\tm = msg.size() / 2;\n\t\t\t\t\tit1 = msg.begin();\n\t\t\t\t\tit2 = msg.end() - m;\n\t\t\t\t\twhile( m-- ){\n\t\t\t\t\t\tswap( *it1++, *it2++ );\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'A':\n\t\t\t\t\treverse(msg.begin(), msg.end());\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'P':\n\t\t\t\t\tfor(it1 = msg.begin(); it1 != msg.end(); ++it1){\n\t\t\t\t\t\tif( isdigit(*it1) ){\n\t\t\t\t\t\t\t*it1 = (*it1 == '0' ? '9' : *it1 - 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'M':\n\t\t\t\t\tfor(it1 = msg.begin(); it1 != msg.end(); ++it1){\n\t\t\t\t\t\tif( isdigit(*it1) ){\n\t\t\t\t\t\t\t*it1 = (*it1 == '9' ? '0' : *it1 + 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t\n\t\tcout << string(msg.begin(), msg.end()) << '\\n';\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\nusing namespace std;\nstring s, o;\nvoid J() {\n\tstring st = s[s.size() - 1] + s.substr(0, s.size() - 1);\n\ts = st;\n\treturn;\n}\nvoid C() {\n\tstring st = s.substr(1, s.size() - 1) + s[0];\n\ts = st;\n\treturn;\n}\nvoid E() {\n\tstring a, b, st;\n\tint k = (s.size() - s.size() % 2) / 2;\n\ta = s.substr(0, k);\n\tif (s.size() % 2)st = s[k];\n\tb = s.substr(k + s.size() % 2, k);\n\ts = b + st + a;\n\treturn;\n}\nvoid A() {\n\tstring st;\n\tfor (int i = s.size() - 1; i >= 0; i--)st += s[i];\n\ts = st;\n\treturn;\n}\nvoid P() {\n\tstring st;\n\tfor (int i = 0; i < s.size(); i++) {\n\t\tif (s[i] == '0')st += '9';\n\t\telse if (s[i] == '1')st += '0';\n\t\telse if (s[i] == '2')st += '1';\n\t\telse if (s[i] == '3')st += '2';\n\t\telse if (s[i] == '4')st += '3';\n\t\telse if (s[i] == '5')st += '4';\n\t\telse if (s[i] == '6')st += '5';\n\t\telse if (s[i] == '7')st += '6';\n\t\telse if (s[i] == '8')st += '7';\n\t\telse if (s[i] == '9')st += '8';\n\t\telse st += s[i];\n\t}\n\ts = st;\n\treturn;\n}\nvoid M() {\n\tstring st;\n\tfor (int i = 0; i < s.size(); i++) {\n\t\tif (s[i] == '0')st += '1';\n\t\telse if (s[i] == '1')st += '2';\n\t\telse if (s[i] == '2')st += '3';\n\t\telse if (s[i] == '3')st += '4';\n\t\telse if (s[i] == '4')st += '5';\n\t\telse if (s[i] == '5')st += '6';\n\t\telse if (s[i] == '6')st += '7';\n\t\telse if (s[i] == '7')st += '8';\n\t\telse if (s[i] == '8')st += '9';\n\t\telse if (s[i] == '9')st += '0';\n\t\telse st += s[i];\n\t}\n\ts = st;\n\treturn;\n}\nint main() {\n\tint n; cin >> n;\n\tfor (int i = 0; i < n; i++) {\n\t\tcin >> o >> s;\n\t\tfor (int j = o.size() - 1; j > -1; j--) {\n\t\t\tif (o[j] == 'J')J();\n\t\t\telse if (o[j] == 'C')C();\n\t\t\telse if (o[j] == 'E')E();\n\t\t\telse if (o[j] == 'A')A();\n\t\t\telse if (o[j] == 'P')P();\n\t\t\telse if (o[j] == 'M')M();\n\t\t}\n\t\tcout << s << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\n\n//#define int long long\n#define DBG 1\n#define dump(o) if(DBG){cerr<<#o<<\" \"<<o<<endl;}\n#define dumpc(o) if(DBG){cerr<<#o; for(auto &e:(o))cerr<<\" \"<<e;cerr<<endl;}\n#define rep(i,a,b) for(int i=(a);i<(b);i++)\n#define rrep(i,a,b) for(int i=(b)-1;i>=(a);i--)\n#define each(it,c) for(auto it=(c).begin();it!=(c).end();it++)\n#define all(c) c.begin(),c.end()\nconst int INF = sizeof(int) == sizeof(long long) ? 0x3f3f3f3f3f3f3f3fLL : 0x3f3f3f3f;\nconst int MOD = (int)(1e9 + 7);\n\nstring A(string s) {\n\treverse(all(s));\n\treturn s;\n}\n\nstring J(string s) {\n\treturn s[s.size() - 1] + s.substr(0, s.size() - 1);\n}\n\nstring M(string s) {\n\trep(i, 0, s.size()) {\n\t\tif (isdigit(s[i])) {\n\t\t\ts[i] = char((s[i] - '0' + 1 + 26) % 26 + '0');\n\t\t}\n\t}\n\treturn s;\n}\n\nstring P(string s) {\n\trep(i, 0, s.size()) {\n\t\tif (isdigit(s[i])) {\n\t\t\ts[i] = char((s[i] - '0' - 1 + 26) % 26 + '0');\n\t\t}\n\t}\n\treturn s;\n}\n\nstring E(string s) {\n\tint h = s.size() / 2;\n\tif (s.size() % 2)return s.substr(h + 1) + s[h] + s.substr(0, h);\n\treturn s.substr(h) + s.substr(0, h);\n}\n\nstring C(string s) {\n\treturn s.substr(1, s.size()) + s[0];\n}\n\nsigned main() {\n\tint n; cin >> n;\n\trep(h, 0, n) {\n\t\tstring o; cin >> o;\n\t\tstring m; cin >> m;\n\t\trrep(i, 0, o.size()) {\n\t\t\tif (o[i] == 'J')m = J(m);\n\t\t\tif (o[i] == 'C')m = C(m);\n\t\t\tif (o[i] == 'E')m = E(m);\n\t\t\tif (o[i] == 'A')m = A(m);\n\t\t\tif (o[i] == 'P')m = P(m);\n\t\t\tif (o[i] == 'M')m = M(m);\n\t\t}\n\t\tcout << m << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<vector>\n#include<algorithm>\n#include<iostream>\n#include<string>\n#include<cctype>\nusing namespace std;\nint main(){\n    int n;\n    cin>>n;\n    while(n--){\n        string p,s;\n        cin>>p>>s;\n        reverse(p.begin(),p.end());\n        for(int i=0;i<p.length();i++){\n            if(p[i]=='C')rotate(s.begin(),s.begin()+1,s.end());\n            else if(p[i]=='J')rotate(s.begin(),s.begin()+s.length()-1,s.end());\n            else if(p[i]=='E'){\n                for(int j=0;j<s.length()/2;j++)swap(s[j],s[j+(s.length()+1)/2]);\n            }\n            else if(p[i]=='A'){\n                reverse(s.begin(),s.end());\n            }\n            else if(p[i]=='M'){\n                for(int i=0;i<s.length();i++){\n                    if(!isdigit(s[i]))continue;\n                    s[i]=((s[i]-'0')+1)%10+'0';\n                }\n            }\n            else{\n                for(int i=0;i<s.length();i++){\n                    if(!isdigit(s[i]))continue;\n                    s[i]=((s[i]-'0')+9)%10+'0';\n                }\n            }\n        }\n        cout<<s<<endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\n#include<cctype>\n\n#define all(c) (c).begin(),(c).end()\n\nusing namespace std;\n\nvoid J(string &s){\n  string a=\"\";\n  a+=s.substr(1,s.size()-1);\n  a+=s[0];\n  s=a;\n}\n\nvoid C(string &s){\n  string a=\"\";\n  a+=s[s.size()-1];\n  a+=s.substr(0,s.size()-1);\n  s=a;\n}\n\nvoid E(string &s){\n  string a=\"\";\n  if(s.size()%2==1){\n    a+=s.substr(s.size()/2+1,s.size()/2);\n    a+=s[s.size()/2+1];\n    a+=s.substr(0,s.size()/2);\n  }\n  else {\n    a+=s.substr(s.size()/2,s.size()/2);\n    a+=s.substr(0,s.size()/2);\n  }\n  s=a;\n}\n\nvoid A(string &s){\n  reverse(all(s));\n}\n\nvoid P(string &s){\n  for(int i=0;i<s.size();i++){\n    if(s[i]=='9')s[i]='0';\n    else if(isdigit(s[i]))s[i]++;\n  }\n}\n\nvoid M(string &s){\n  for(int i=0;i<s.size();i++){\n    if(s[i]=='0')s[i]='9';\n    else if(isdigit(s[i]))s[i]--;\n  }\n}\n\nint main(void){\n  int n;\n  string s,com;\n  cin >> n;\n  while(n--){\n    cin >> com >> s;\n    for(int i=0;i<com.size();i++){\n      if(com[i]=='J')J(s);\n      else if(com[i]=='C')C(s);\n      else if(com[i]=='E')E(s);\n      else if(com[i]=='A')A(s);\n      else if(com[i]=='P')P(s);\n      else M(s);\n    }\n    cout << s << endl;\n  }\n  \n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define pb push_back\n#define mp make_pair\n#define fi first\n#define se second\n#define FOR(i, a, b) for(int i=(a);i<(b);i++)\n#define REP(i, n) FOR(i, 0, n)\n#define RFOR(i, a, b) for(int i=(a);i>=(b);i--)\n#define RREP(i, n) RFOR(i, n, 0)\n#define MFOR(i, m) for(auto i=(m).begin();i!=(m).end();i++)\n#define ALL(a) (a).begin(), (a).end()\n#define SZ(x) ((int)(x).size())\n\ntypedef long long int ll;\ntypedef pair<int, int> P;\ntypedef pair<ll, ll> Pll;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<ll> vll;\ntypedef vector<vll> vvll;\n\nconst double eps = 1e-10;\nconst int MOD = 1000000007;\nconst int INF = 1000000000;\nconst ll LINF = 1 << 30;\n\ntemplate<typename T>\nvoid printv(vector<T> const& s) {\n  REP(i, SZ(s)) {\n    cout << s[i] << \" \";\n  }\n  cout << endl;\n}\n\nstring invc(string s) {\n  return s.substr(1, SZ(s)-1) + s[0];\n}\n\nstring invj(string s) {\n  return s[SZ(s)-1] + s.substr(0, SZ(s)-1);\n}\n\nstring inve(string s) {\n  if(SZ(s) % 2 == 0) {\n    return s.substr(SZ(s)/2, SZ(s)/2) + s.substr(0, SZ(s)/2);\n  } else {\n    return s.substr(SZ(s)/2+1, SZ(s)/2) + s[SZ(s)/2] + s.substr(0, SZ(s)/2);\n  }\n}\n\nstring inva(string s) {\n  reverse(ALL(s));\n  return s;\n}\n\nstring invm(string s) {\n  REP(i, SZ(s)) {\n    if('0' <= s[i] && s[i] <= '9') {\n      s[i] = (((s[i] - '0') + 1) % 10) + '0';\n    }\n  }\n  return s;\n}\n\nstring invp(string s) {\n  REP(i, SZ(s)) {\n    if('0' <= s[i] && s[i] <= '9') {\n      s[i] = (((s[i] - '0') + 9) % 10) + '0';\n    }\n  }\n  return s;\n}\n\n\n\nint main () {\n  cin.tie(0);\n  cout << setprecision(10);\n\n  int n; cin >> n;\n  REP(i, n) {\n    string s; cin >> s;\n    string a; cin >> a;\n    RREP(i, SZ(s)-1) {\n      switch(s[i]) {\n      case 'J':\n        a = invj(a);\n        break;\n      case 'C':\n        a = invc(a);\n        break;\n      case 'E':\n        a = inve(a);\n        break;\n      case 'A':\n        a = inva(a);\n        break;\n      case 'P':\n        a = invp(a);\n        break;\n      default:\n        a = invm(a);\n        break;\n      }\n    }\n    cout << a << endl;\n  }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long LL;\ntypedef vector<int>    VI;\ntypedef vector<bool>   VB;\ntypedef vector<string> VS;\n\n#define MP make_pair\n#define PB push_back\n#define ALL(x)  (x).begin(),(x).end()\n#define rep(i, N)  for (int i = 0; i < (int)(N); i++)\n#define REP(i, init, N)  for (int i = (init); i < (int)(N); i++)\n#define DUMP( x ) cerr << #x << \" = \" << ( x ) << endl\n\nint main(void) {\n\tint n;\n\tcin >> n;\n\trep (i, n) {\n\t\tstring order, msg;\n\t\tcin >> order >> msg;\n\t\treverse(ALL(order));\n\t\trep (j, order.size()) {\n\t\t\tswitch (order[j]) {\n\t\t\t\tcase 'J':\n\t\t\t\t\tmsg = msg[msg.size() - 1] + msg.substr(0, msg.size() - 1);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'C':\n\t\t\t\t\tmsg = msg.substr(1) + msg[0];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'E':\n\t\t\t\t\tif (msg.size() % 2) {\n\t\t\t\t\t\tstring s1 = msg.substr(0, msg.size() / 2);\n\t\t\t\t\t\tstring s2 = msg.substr(msg.size() / 2 + 1);\n\t\t\t\t\t\tmsg = s2 + msg[msg.size() / 2] + s1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstring s1 = msg.substr(0, msg.size() / 2);\n\t\t\t\t\t\tstring s2 = msg.substr(msg.size() / 2);\n\t\t\t\t\t\tmsg = s2 + s1;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'A':\n\t\t\t\t\treverse(ALL(msg));\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'P':\n\t\t\t\t\tfor (char &c : msg) {\n\t\t\t\t\t\tif ('0' <= c && c <= '9') {\n\t\t\t\t\t\t\tc = (c == '0'? '9' : c - 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'M':\n\t\t\t\t\tfor (char &c : msg) {\n\t\t\t\t\t\tif ('0' <= c && c <= '9') {\n\t\t\t\t\t\t\tc = (c == '9'? '0' : c + 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tcout << msg << endl;\n\t}\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\nusing namespace std;\n\nstring V,W;\nint n;\n\nstring J(string S) {\n\tstring T = \"\";\n\tT = S[S.size() - 1] + S.substr(0, S.size() - 1);\n\treturn T;\n}\n\nstring C(string S) {\n\tstring T = \"\";\n\tT = S.substr(1, S.size() - 1) + S[0];\n\treturn T;\n}\n\nstring E(string S) {\n\tstring T = \"\";\n\tT += S.substr(S.size() - (S.size() / 2), S.size() / 2);\n\tif (S.size() % 2 == 1) { T += S[S.size() / 2]; }\n\tT += S.substr(0, S.size() / 2);\n\treturn T;\n}\n\nstring A(string S) {\n\tstring T = \"\";\n\tfor (int k = S.size() - 1; k >= 0; k--) {\n\t\tT += S[k];\n\t}\n\treturn T;\n}\n\nstring P(string S) {\n\tstring T = \"\";\n\tfor (int k = 0; k < S.size(); k++) {\n\t\tif (isdigit(S[k])) {\n\t\t\tT += (S[k] - 1);\n\t\t\tif (T[k] < '0') {\n\t\t\t\tT[k] += 10;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tT += S[k];\n\t\t}\n\t}\n\treturn T;\n}\n\nstring M(string S) {\n\tstring T = \"\";\n\tfor (int k = 0; k < S.size(); k++) {\n\t\tif (isdigit(S[k])) {\n\t\t\tT += (S[k] + 1);\n\t\t\tif (T[k] > '9') {\n\t\t\t\tT[k] -= 10;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tT += S[k];\n\t\t}\n\t}\n\treturn T;\n}\n\nstring message(string S, string T) {\n\tfor (int j = S.size() - 1; j >= 0; j--) {\n\t\tif (S[j] == 'J') {\n\t\t\tT = J(T);\n\t\t}\n\t\tif (S[j] == 'C') {\n\t\t\tT = C(T);\n\t\t}\n\t\tif (S[j] == 'E') {\n\t\t\tT = E(T);\n\t\t}\n\t\tif (S[j] == 'A') {\n\t\t\tT = A(T);\n\t\t}\n\t\tif (S[j] == 'P') {\n\t\t\tT = P(T);\n\t\t}\n\t\tif (S[j] == 'M') {\n\t\t\tT = M(T);\n\t\t}\n\t}\n\treturn T;\n}\n\nint main() {\n\tcin >> n;\n\tfor (int i = 0; i < n; i++) {\n\t\tcin >> V >> W;\n\t\tcout << message(V, W) << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <string>\n#include <iostream>\n#include <algorithm>\n\nusing namespace std;\n\nstring turn1(string S)\n{\n\treturn S.substr(1, S.size() - 1) + S[0];\n}\n\nstring turn2(string S)\n{\n\treturn S[S.size() - 1] + S.substr(0, S.size() - 1);\n}\n\nstring turn3(string S)\n{\n\tstring T;\n\n\tif (S.size() % 2 == 1)\n\t{\n\t\tT = S.substr(S.size() / 2 + 1, S.size() / 2) + S[S.size() / 2] + S.substr(0, S.size() / 2);\n\t}\n\telse\n\t{\n\t\tT = S.substr(S.size() / 2, S.size() / 2) + S.substr(0, S.size() / 2);\n\t}\n\n\treturn T;\n}\n\nstring turn4(string S)\n{\n\treverse(S.begin(), S.end());\n\n\treturn S;\n}\n\nstring turn5(string S)\n{\n\tfor (int i = 0; i < S.size(); i++)\n\t{\n\t\tif (isdigit(S[i]))\n\t\t{\n\t\t\tif (S[i] == '9')\n\t\t\t{\n\t\t\t\tS[i] = '0';\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tS[i]++;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn S;\n}\n\nstring turn6(string S)\n{\n\tfor (int i = 0; i < S.size(); i++)\n\t{\n\t\tif (isdigit(S[i]))\n\t\t{\n\t\t\tif (S[i] == '0')\n\t\t\t{\n\t\t\t\tS[i] = '9';\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tS[i]--;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn S;\n}\n\nint main()\n{\n\tint n; string S, T;\n\n\tcin >> n;\n\n\tfor (int i = 0; i < n; i++)\n\t{\n\t\tcin >> S >> T;\n\n\t\tfor (int i = S.size() - 1; i >= 0; i--)\n\t\t{\n\t\t\tswitch (S[i])\n\t\t\t{\n\t\t\t\tcase 'C': T = turn1(T); break;\n\t\t\t\tcase 'J': T = turn2(T); break;\n\t\t\t\tcase 'E': T = turn3(T); break;\n\t\t\t\tcase 'A': T = turn4(T); break;\n\t\t\t\tcase 'M': T = turn5(T); break;\n\t\t\t\tcase 'P': T = turn6(T); break;\n\t\t\t}\n\t\t}\n\n\t\tcout << T << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "\n//http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=1240\n\n#include<iostream>\n#include<map>\n#include<vector>\n#include<algorithm>\n#include<cmath>\n#include<climits>\n#include<ctime>\n#include<cstring>\n#include<numeric>\n\n#define ALL(v) (v).begin(),(v).end()\n#define REP(i,p,n) for(int i=p;i<(int)(n);++i)\n#define rep(i,n) REP(i,0,n)\n#define dump(a) (cerr << #a << \"=\" << (a) << endl)\n#define DUMP(list) cout << \"{ \"; for(auto nth : list){ cout << nth << \" \"; } cout << \"}\" << endl;\n\nusing namespace std;\n\nstring J(string msg)\n{\n\tint n = msg.length();\n\tchar end = msg[n-1];\n\t\n\tmsg.pop_back();\n\n\treturn end + msg;\n}\n\nstring C(string msg)\n{\n\tchar first = msg[0];\n\tmsg.erase(msg.begin(),msg.begin()+1);\n\n\treturn msg = msg + first;\n}\n\nstring E(string msg)\n{\n\tint n = msg.length();\n\tint c = 0;\n\tif(n % 2 == 1){ c = 1; }\t\n\trep(i,n/2){\n\t\tswap(msg[i], msg[i+(n/2)+c]);\n\t}\n\treturn msg;\n}\n\nstring A(string msg)\n{\n\treverse(ALL(msg));\n\treturn msg;\n}\n\nstring P(string msg)\n{\n\trep(i,msg.length()){\n\t\tif(isdigit(msg[i])){\n\t\t\tint num = msg[i] - '0';\n\t\t\tnum = num - 1;\n\t\t\tif(num < 0) { num = 9; }\n\t\t\tmsg[i] = num + '0';\n\t\t}\n\t}\n\n\treturn msg;\n}\n\nstring M(string msg)\n{\n\trep(i,msg.length()){\n\t\tif(isdigit(msg[i])){\n\t\t\tint num = msg[i] - '0';\n\t\t\tnum = num + 1;\n\t\t\tif(num > 9) { num = 0; }\n\t\t\tmsg[i] = num + '0';\n\t\t}\n\t}\n\n\treturn msg;\n}\n\nstring analyze(string msg, char order)\n{\n\tstring a_msg;\n\tif(order == 'J'){\n\t\ta_msg = J(msg);\n\t}\n\telse if(order == 'C'){\n\t\ta_msg = C(msg);\n\t}\n\telse if(order == 'E'){\n\t\ta_msg = E(msg);\n\t}\n\telse if(order == 'A'){\n\t\ta_msg = A(msg);\n\t}\n\telse if(order == 'P'){\n\t\ta_msg = P(msg);\n\t}\n\telse if(order == 'M'){\n\t\ta_msg = M(msg);\n\t}\n\treturn a_msg;\n}\n\nint main()\n{\n\tint N;\n\tcin >> N;\n\n\trep(nth,N)\n\t{\n\t\tstring order;\n\t\tstring msg;\n\n\t\tcin >> order >> msg;\n\n\t\tfor(int i=order.length(); i>0; --i)\n\t\t{\n\t\t\tmsg = analyze(msg, order[i-1]);\t\n\t\t}\n\n\t\tcout << msg << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define INF_LL (int64)1e18\n#define INF (int32)1e9\n#define REP(i, n) for(int64 i = 0;i < (n);i++)\n#define FOR(i, a, b) for(int64 i = (a);i < (b);i++)\n#define all(x) x.begin(),x.end()\n#define fs first\n#define sc second\n\nusing int32 = int_fast32_t;\nusing uint32 = uint_fast32_t;\nusing int64 = int_fast64_t;\nusing uint64 = uint_fast64_t;\nusing PII = pair<int32, int32>;\nusing PLL = pair<int64, int64>;\n\nconst double eps = 1e-10;\n\ntemplate<typename A, typename B>inline void chmin(A &a, B b){if(a > b) a = b;}\ntemplate<typename A, typename B>inline void chmax(A &a, B b){if(a < b) a = b;}\n\ntemplate<typename T>\nvector<T> make_v(size_t a){return vector<T>(a);}\n\ntemplate<typename T,typename... Ts>\nauto make_v(size_t a,Ts... ts){\n  return vector<decltype(make_v<T>(ts...))>(a,make_v<T>(ts...));\n}\n\ntemplate<typename T,typename U,typename... V>\ntypename enable_if<is_same<T, U>::value!=0>::type\nfill_v(U &u,const V... v){u=U(v...);}\n\ntemplate<typename T,typename U,typename... V>\ntypename enable_if<is_same<T, U>::value==0>::type\nfill_v(U &u,const V... v){\n  for(auto &e:u) fill_v<T>(e,v...);\n}\n\nint main(void){\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\tint64 n;\n\tcin >> n;\n\tREP(_, n) {\n\t\tstring op, s;\n\t\tcin >> op >> s;\n\t\treverse(all(op));\n\t\tREP(i, op.size()) {\n\t\t\tif (op[i] == 'C') {\n\t\t\t\ts = s.substr(1, s.size()-1) + s[0];\n\t\t\t} else if (op[i] == 'J') {\n\t\t\t\ts = s.back() + s.substr(0, s.size()-1);\n\t\t\t} else if (op[i] == 'E') {\n\t\t\t\tif (s.size() % 2) {\n\t\t\t\t\ts = s.substr(s.size()/2+1, s.size()/2) + s[s.size()/2] + s.substr(0, s.size()/2);\n\t\t\t\t} else {\n\t\t\t\t\ts = s.substr(s.size()/2, s.size()/2) + s.substr(0, s.size()/2);\n\t\t\t\t}\n\t\t\t} else if (op[i] == 'A') {\n\t\t\t\treverse(all(s));\n\t\t\t} else if (op[i] == 'M') {\n\t\t\t\tREP(j, s.size()) {\n\t\t\t\t\tif ('0' <= s[j] && s[j] <= '9') {\n\t\t\t\t\t\ts[j] = (char)((s[j]-'0'+1)%10+'0');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tREP(j, s.size()) {\n\t\t\t\t\tif ('0' <= s[j] && s[j] <= '9') {\n\t\t\t\t\t\ts[j] = (char)((s[j]-'0'+9)%10+'0');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << s << endl;\n\t}\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <map>\n#include <algorithm>\n\n#define REP(i,n) for(int i=0;i<(int)(n);i++)\n\nusing namespace std;\n\nint main() {\n  int n;\n  cin>>n;\n  REP(i,n){\n    string cmd;\n    cin>>cmd;\n    string str;\n    cin>>str;\n    reverse(begin(cmd),end(cmd));\n    for(char c:cmd){\n      switch(c){\n        case 'C': {\n          string body=str.substr(1);\n          string head=str.substr(0,1);\n          str = body + head;\n          break;\n        }\n        case 'J': {\n          string body=str.substr(0,str.size()-1);\n          string head=str.substr(str.size()-1);\n          str = head + body;\n          break;\n        }\n        case 'E': {\n          int mid=str.size()/2;\n          string fwd=str.substr(0,mid);\n          string bwd=str.substr(str.size()-mid);\n          if((str.size()%2)==1){\n            str=bwd+str[mid]+fwd;\n          }else{\n            str=bwd+fwd;\n          }\n          break;\n        }\n        case 'A': {\n          reverse(begin(str),end(str));\n          break;\n        }\n        case 'M': {\n          for(char& d:str){\n            if('0' <= d && d < '9')\n              ++d;\n            else if(d == '9')\n              d = '0';\n          }\n          break;\n        }\n        case 'P': {\n          for(char& c:str){\n            if('0' < c && c <= '9')\n              --c;\n            else if(c == '0')\n              c = '9';\n          }\n          break;\n        }\n      }\n    }\n    cout<<str<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\n#include<cctype>\nusing namespace std;main(){int n,i,j,M;string p,m;for(cin>>n;n-->0;cout<<m<<endl){cin>>p>>m;M=m.size();for(i=p.size();i-->0;){if(p[i]==74)m=m[M-1]+m.substr(0,M-1);if(p[i]==67)m=m.substr(1,M-1)+m[0];if(p[i]==69){if(M&1)m=m.substr(M/2+1,M/2)+m[M/2]+m.substr(0,M/2);else m=m.substr(M/2,M/2)+m.substr(0,M/2);}if(p[i]==65)reverse(m.begin(),m.end());if(p[i]==80)for(j=M;j-->0;)if(isdigit(m[j]))m[j]=(m[j]-39)%10+48;if(p[i]==77)for(j=M;j-->0;)if(isdigit(m[j]))m[j]=(m[j]-47)%10+48;}}}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\n#include <limits.h>\n#include <math.h>\n#include <set>\n#include <stack>\n#include <stdlib.h>\n#include <string>\n#include <vector>\n\n#define el endl\n#define fd fixed\n#define INF INT_MAX/2-1\n#define pb push_back\n\nusing namespace std;\n\nstring num = \"0123456789\";\n\nstring mrj(string s) {\n  return s[s.length()-1] + s.substr(0, s.length()-1);\n}\n\nstring missc(string s) {\n  return s.substr(1, s.length()-1) + s[0];\n}\n\nstring mre(string s) {\n  if (s.length() & 1) return s.substr(s.length()/2+1, s.length()/2) + s[s.length()/2] + s.substr(0, s.length()/2);\n  else return s.substr(s.length()/2, s.length()/2) + s.substr(0, s.length()/2);\n}\n\nstring mra(string s) {\n  string res = \"\";\n  for (int i = s.length()-1; i >= 0; i--) {\n    res += s[i];\n  }\n  return res;\n}\n\nstring drp(string s) {\n  for (int i = 0; i < s.length(); i++) {\n    int index = (int)num.find(s[i]);\n    if (index > 0) {\n      s[i] = num[(index+9)%10];\n    }\n  }\n  return s;\n}\n\nstring mrm(string s) {\n  for (int i = 0; i < s.length(); i++) {\n    int index = (int)num.find(s[i]);\n    if (index > 0) {\n      s[i] = num[(index+1)%10];\n    }\n  }\n  return s;\n}\n\nint main() {\n  int n;\n  string order, message;\n  cin >> n;\n  while (n--) {\n    cin >> order >> message;\n    for (int i = order.length()-1; i >= 0; i--) {\n      if (order[i] == 'J') message = mrj(message);\n      if (order[i] == 'C') message = missc(message);\n      if (order[i] == 'E') message = mre(message);\n      if (order[i] == 'A') message = mra(message);\n      if (order[i] == 'P') message = drp(message);\n      if (order[i] == 'M') message = mrm(message);\n    }\n    cout << message << el;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint main() {\n    int n;\n    cin>>n;\n    for(int i=0;i<n;i++) {\n        string order,mes;\n        cin>>order>>mes;\n        for(int i=order.size()-1;i>=0;i--) {\n            if(order[i]=='C') {\n                mes=mes.substr(1)+mes.substr(0,1);\n            }else if(order[i]=='J') {\n                mes=mes.substr(mes.size()-1,1)+mes.substr(0,mes.size()-1);\n            }else if(order[i]=='E') {\n                if(mes.size()%2) {\n                    mes=mes.substr(mes.size()/2+1)+mes.substr(mes.size()/2,1)+mes.substr(0,mes.size()/2);\n                }else {\n                    mes=mes.substr(mes.size()/2)+mes.substr(0,mes.size()/2);\n                }\n            }else if(order[i]=='A') {\n                reverse(mes.begin(),mes.end());\n            }else if(order[i]=='P') {\n                for(int i=0;i<mes.size();i++) {\n                    if(isdigit(mes[i])) {\n                        mes[i]=(mes[i]-'0'+9)%10+'0';\n                    }\n                }\n            }else if(order[i]=='M') {\n               for(int i=0;i<mes.size();i++) {\n                    if(isdigit(mes[i])) {\n                        mes[i]=(mes[i]-'0'+1)%10+'0';\n                    }\n                }\n            }\n        }\n        cout<<mes<<endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "//????¨???????????????????????????????????????????.\n//????????????????????????????????°??????.\n#include <iostream>\n#include <string>\n#include <algorithm>\nusing namespace std;\n\nint n;\nstring people;\nstring result;\n\nstring rshift(string s) {\n\tstring ret;\n\tret += s[s.length() - 1];\n\tfor (int i = 0; i < s.length() - 1; i++) ret += s[i];\n\treturn ret;\n}\n\nstring lshift(string s) {\n\tstring ret;\n\tfor (int i = 1; i < s.length(); i++) ret += s[i];\n\tret += s[0];\n\treturn ret;\n}\n\nstring swaplr(string s) {\n\tstring pre, suf;\n\tfor (int i = 0; i < s.length() / 2; i++) pre += s[i];\n\tfor (int i = 0; i < s.length() / 2; i++) suf += s[s.length() / 2 + s.length() % 2 + i];\n\tif (s.length() % 2) return suf + s[s.length() / 2] + pre;\n\treturn suf + pre;\n}\n\nstring reverse(string s) {\n\tint l = 0, r = s.length() - 1;\n\twhile (l < r) {\n\t\tswap(s[l], s[r]);\n\t\tl++;\n\t\tr--;\n\t}\n\treturn s;\n}\n\nstring decrements(string s) {\n\tfor (int i = 0; i < s.length(); i++) {\n\t\tif ('0' <= s[i] && s[i] <= '9') {\n\t\t\tif (s[i] == '0') s[i] = '9';\n\t\t\telse s[i]--;\n\t\t}\n\t}\n\treturn s;\n}\n\nstring increments(string s) {\n\tfor (int i = 0; i < s.length(); i++) {\n\t\tif ('0' <= s[i] && s[i] <= '9') {\n\t\t\tif (s[i] == '9') s[i] = '0';\n\t\t\telse s[i]++;\n\t\t}\n\t}\n\treturn s;\n}\n\nint main() {\n\tcin >> n;\n\tfor (int i = 0; i < n; i++) {\n\t\tcin >> people >> result;\n\t\tfor (int j = people.length() - 1; j >= 0; j--) {\n\t\t\tchar c = people[j];\n\t\t\tif (c == 'J') result = rshift(result);\n\t\t\tif (c == 'C') result = lshift(result);\n\t\t\tif (c == 'E') result = swaplr(result);\n\t\t\tif (c == 'A') result = reverse(result);\n\t\t\tif (c == 'P') result = decrements(result);\n\t\t\tif (c == 'M') result = increments(result);\n\t\t}\n\t\tcout << result << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\nusing namespace std;\n\nint main()\n{\n    int n, len;\n    cin >> n;\n    string msg, srv;\n    while (cin >> srv >> msg, n--) {\n        len = msg.size();\n        for (int i = srv.size() - 1; i >= 0; --i) {\n            if (srv[i] == 'J') {\n                rotate(msg.begin(), msg.end() - 1, msg.end());\n            } else if (srv[i] == 'C') {\n                rotate(msg.begin(), msg.begin() + 1, msg.end());\n            } else if (srv[i] == 'E') {\n                if (len % 2)\n                    msg = msg.substr(len / 2 + 1) + msg[len / 2] + msg.substr(0, len / 2);\n                else\n                    msg = msg.substr(len / 2) + msg.substr(0, len / 2);\n            } else if (srv[i] == 'A') {\n                reverse(msg.begin(), msg.end());\n            } else if (srv[i] == 'P') {\n                for (int j = 0; j < len; ++j) {\n                    if (msg[j] >= '0' && msg[j] <= '9')\n                        msg[j] = (msg[j] - '0' + 9) % 10 + '0';\n                }\n            } else {\n                for (int j = 0; j < len; ++j) {\n                    if (msg[j] >= '0' && msg[j] <= '9')\n                        msg[j] = (msg[j] - '0' + 1) % 10 + '0';\n                }\n            }\n        }\n        cout << msg << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <cmath>\n#include <ctype.h>\n#include <string> \n#include <sstream>\n#include <iostream>\n#include <algorithm>\n#include <cstdlib>\n#include <map>\n#include <queue>\n#include <utility>\n#include <vector>\n\nusing namespace std;\n\nvoid c_j(string str);\nvoid c_c(string str);\nvoid c_e(string str);\nvoid c_a(string str);\nvoid c_p(string str);\nvoid c_m(string str);\n\nint main()\n{\n\tint n;\n\tstring order, message;\n\tcin >> n;\n\tfor(int i = 0; i < n; i++){\n\t\tcin >> order >> message;\n\t\tfor(int j = order.length()-1; j >= 0; j++){\n\t\t\tif(order[j] == 'J') c_j(message);\n\t\t\telse if(order[j] == 'C') c_c(message);\n\t\t\telse if(order[j] == 'E') c_e(message);\n\t\t\telse if(order[j] == 'A') c_a(message);\n\t\t\telse if(order[j] == 'P') c_p(message);\n\t\t\telse if(order[j] == 'M') c_m(message); \n\t\t}\n\t\tcout << message << endl;\n\t}\n\treturn 0;\n}\n\nvoid c_j(string str)\n{\n\tchar c;\n\tc = str[str.length()-1];\n\tstr.pop_back();\n\tstr = c + str;\n}\n\nvoid c_c(string str)\n{\n\tchar c;\n\tc = str[0];\n\tstr.erase(str.begin());\n\tstr += c;\n}\n\nvoid c_e(string str)\n{\n\tstring a;\n\tint l = str.length();\n\ta = str.substr(0, l / 2);\n\tif( l % 2 == 1){\n\t\tchar c = str[l / 2 + 1];\n\t\tstr.erase(str.begin(), str.begin() + l);\n\t\tstr += c;\n\t\tstr += a;\n\t} else {\n\t\tstr.erase(str.begin(), str.begin() + (l - 1));\n\t\tstr += a;\n\t}\n}\n\nvoid c_a(string str)\n{\n\treverse(str.begin(), str.end());\n}\n\nvoid c_p(string str)\n{\n\tfor(int i = 0; i < str.length() - 1; i++){\n\t\tif(isdigit(str[i])){\n\t\t\tint n = str[i] - '0';\n\t\t\tn--;\n\t\t\tif(n == -1) n = 9;\n\t\t\tstr[i] = n + '0';\n\t\t}\n\t}\n}\n\nvoid c_m(string str)\n{\n\tfor(int i = 0; i < str.length() - 1; i++){\n\t\tif(isdigit(str[i])){\n\t\t\tint n = str[i] - '0';\n\t\t\tn = (n + 1) % 10;\n\t\t\tstr[i] = n + '0';\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <cctype>\nusing namespace std;\n#define rep(i,n) for(int i=0;i<n;i++)\nint main(){\n\tint n;\n\tcin >> n;\n\trep(tt,n){\n\t\tstring m,s;\n\t\tcin >> m >> s;\n\t\trep(ii,m.size()){\n\t\t\tint i=m.size()-1-ii;\n\t\t\tif(m[i]=='A'){\n\t\t\t\treverse(s.begin(),s.end());\n\t\t\t}\n\t\t\tif(m[i]=='C'){\n\t\t\t\ts+=s[0];\n\t\t\t\ts=s.substr(1,s.size()-1);\n\t\t\t}\n\t\t\tif(m[i]=='J'){\n\t\t\t\ts=s[s.size()-1]+s;\n\t\t\t\ts=s.substr(0,s.size()-1);\n\t\t\t}\n\t\t\tif(m[i]=='E'){\n\t\t\t\tstring l,r;\n\t\t\t\tif(s.size()%2==0){\n\t\t\t\t\tl=s.substr(0,s.size()/2),r=s.substr(s.size()/2,s.size()/2);\n\t\t\t\t\ts=r+l;\n\t\t\t\t}else{\n\t\t\t\t\tl=s.substr(0,s.size()/2),r=s.substr(s.size()/2+1,s.size()/2);\n\t\t\t\t\ts=r+s[s.size()/2]+l;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(m[i]=='P'){\n\t\t\t\trep(j,s.size()){\n\t\t\t\t\tif(isdigit(s[j])){\n\t\t\t\t\t\tif(s[j]=='0') s[j]='9';\n\t\t\t\t\t\telse s[j]--;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(m[i]=='M'){\n\t\t\t\trep(j,s.size()){\n\t\t\t\t\tif(isdigit(s[j])){\n\t\t\t\t\t\tif(s[j]=='9') s[j]='0';\n\t\t\t\t\t\telse s[j]++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << s << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<string>\n#define rep(i,n) for(int i=0;i<n;i++)\nusing namespace std;\nint cs,s;string ord,st;\nvoid op(char o){\n\tif(o=='A')reverse(st.begin(),st.end());\n\tif(o=='J')rotate(st.rbegin(),st.rbegin()+1,st.rend());\n\tif(o=='C')rotate(st.begin(),st.begin()+1,st.end());\n\tif(o=='E')swap_ranges(st.begin(),st.begin()+s/2,st.begin()+(s+1)/2);\n\tif(o=='P'||o=='M')rep(i,s)if('0'<=st[i]&&st[i]<='9')\n\tst[i]=(st[i]-'0'+(o=='P'?-1:1))%10+'0';\n}\nint main(){\n\tcin>>cs;\n\twhile(cs--){\n\t\tcin>>ord>>st;s=st.size();\n\t\trep(i,ord.size())op(ord[ord.size()-1-i]);\n\t\tcout<<st<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cctype>\n#include<string>\n#include<iostream>\n#include<algorithm>\n\nusing namespace std;\n\nint main(){\n\tint n;\tcin>>n;\n\twhile(n--){\n\t\tstring s,m;\tcin>>s>>m;\n\t\tint len=m.length();\n\t\tfor(int i=s.length()-1;i>=0;i--){\n\t\t\tif     (s[i]=='J')\trotate(m.begin(),m.begin()+len-1,m.end());\n\t\t\telse if(s[i]=='C')\trotate(m.begin(),m.begin()+1,m.end());\n\t\t\telse if(s[i]=='E'){\n\t\t\t\tif(len%2==0)\tm=m.substr(len/2)+m.substr(0,len/2);\n\t\t\t\telse\t\t\tm=m.substr(len/2+1)+m[len/2]+m.substr(0,len/2);\n\t\t\t}\n\t\t\telse if(s[i]=='A')\treverse(m.begin(),m.end());\n\t\t\telse if(s[i]=='P'){\n\t\t\t\tfor(int j=0;j<len;j++){\n\t\t\t\t\tif(isdigit(m[j]))\tm[j]=(m[j]-'0'+9)%10+'0';\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(s[i]=='M'){\n\t\t\t\tfor(int j=0;j<len;j++){\n\t\t\t\t\tif(isdigit(m[j]))\tm[j]=(m[j]-'0'+1)%10+'0';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout<<\"@ \"<<m<<endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define LOG(...) fprintf(stderr, __VA_ARGS__)\n//#define LOG(...)\n#define FOR(i, a, b) for(int i = (int)(a); i < (int)(b); ++i)\n#define REP(i, n) for(int i = 0; i < (int)(n); ++i)\n#define RREP(i, n) for(int i = (int)(n - 1); i >= 0; --i)\n#define ALL(a) (a).begin(), (a).end()\n#define RALL(a) (a).rbegin(), (a).rend()\n#define EXIST(s, e) ((s).find(e) != (s).end())\n#define SORT(c) sort(ALL(c))\n#define RSORT(c) sort(RALL(c))\n#define SQ(n) (n) * (n)\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\ntypedef vector<bool> vb;\ntypedef vector<int> vi;\ntypedef vector<char> vc;\ntypedef vector<pii> vpi;\ntypedef vector<pll> vpl;\ntypedef vector<ll> vll;\ntypedef vector<vb> vvb;\ntypedef vector<vi> vvi;\ntypedef vector<vc> vvc;\ntypedef vector<vll> vvll;\n\nint main() {\n  int n;\n  cin >> n;\n  REP(_, n){\n    string order, message;\n    cin >> order >> message;\n    int l = ceil(message.length() / 2.);\n\n    RREP(io, order.length()){\n      auto o = order[io];\n      switch (o) {\n      case 'J':\n        rotate(message.begin(), message.end() - 1, message.end());\n        break;\n      case 'C':\n        rotate(message.begin(), message.begin() + 1, message.end());\n        break;\n      case 'E':\n        REP(i, message.length() / 2){\n          swap(message[i], message[i + l]);\n        }\n        break;\n      case 'A':\n        reverse(ALL(message));\n        break;\n      case 'P':\n        REP(i, message.length()){\n          if (!isdigit(message[i])) continue;\n          message[i] = (message[i] - '0' + 9) % 10 + '0';\n        }\n        break;\n      case 'M':\n        REP(i, message.length()){\n          if (!isdigit(message[i])) continue;\n          message[i] = (message[i] - '0' + 1) % 10 + '0';\n        }\n        break;\n      }\n    }\n    cout << message << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define INF 1000000000\n\nstring f_J(string s){\n    \n    char c = s[0];\n    for(int i = 0; i < s.size() - 1; i++){\n        s[i] = s[i + 1];\n    }\n    s[s.size() - 1] = c;\n    return s;\n}\n\nstring f_C(string s){\n\n    char c = s[s.size() - 1];\n    for(int i = s.size() - 1; i > 0; i--){\n        s[i] = s[i - 1];\n    }\n    s[0] = c;\n    return s;\n}\n\nstring f_E(string s){\n\n    int n = s.size();\n    if(n % 2 == 0){\n\n        string r = \"\", l = \"\";\n        for(int i = 0; i < n/2; i++){\n            l = l + s[i];\n        }\n        for(int i = n/2; i < n; i++){\n            r = r + s[i];\n        }\n\n        s = r + l;        \n    }else{\n\n        string r = \"\", l = \"\";\n        for(int i = 0; i < n/2; i++){\n            r = r + s[i];\n        }\n\n        for(int i = n/2 + 1; i < n; i++){\n            l = l + s[i];\n        }\n\n        s = l + s[n/2] + r;\n    }\n\n    return s;\n}\n\nstring f_A(string s){\n    \n    reverse(s.begin(), s.end());\n    return s;\n}\n\nstring f_P(string s){\n\n    for(int i = 0; i < s.size(); i++){\n        if('0' <= s[i] && s[i] <= '8'){\n            s[i]++;\n        }else if(s[i] == '9'){\n            s[i] = '0';\n        }\n    }\n\n    return s;\n}\n\nstring f_M(string s){\n\n    for(int i = 0; i < s.size(); i++){\n        if('1' <= s[i] && s[i] <= '9'){\n            s[i]--;\n        }else if(s[i] == '0'){\n            s[i] = '9';\n        }\n    }\n\n    return s;\n}\n\nint main(){\n\n    int n; cin >> n;\n    for(int i = 0; i < n; i++){\n        string t; cin >> t;\n        string s; cin >> s;\n        for(int j = 0; j < t.size(); j++){\n\n            if(t[j] == 'J') s = f_J(s);\n            if(t[j] == 'C') s = f_C(s);\n            if(t[j] == 'E') s = f_E(s);\n            if(t[j] == 'A') s = f_A(s);\n            if(t[j] == 'P') s = f_P(s);\n            if(t[j] == 'M') s = f_M(s);\n        }\n\n        cout << s << endl;\n    }\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <stdio.h>\n#include <cstdio>\n#include <algorithm>\nusing namespace std;\n\nint main(){\n    int n;\n    cin >> n;\n    while( n-- ){\n        string p, m;\n        cin >> p >> m;\n        reverse( p.begin(), p.end() );\n        for( size_t i = 0; i < p.length(); i++ ){\n            switch(p[i]){\n                case 'J':{\n                    char tmp = m[m.length() - 1];\n                    for( size_t j = m.length() - 1; j > 0; j-- ){\n                        //if( j == 0 ){\n                        //}else{\n                            m[j] = m[j-1];\n                        //}\n                        //cout << m[j] << endl;\n                    }\n                    m[0] = tmp;\n                    break;\n                }case 'C':{\n                    char tmp = m[0];\n                    for( size_t j = 0; j < m.length(); j++ ){\n                        if( j == m.length() - 1 ) m[j] = tmp;\n                        else m[j] = m[j+1];\n                    }\n                    break;\n                }case 'E':{\n                    string tmp = m.substr( 0, m.length() / 2 );\n                    m = m.substr( (m.length() + 1) / 2 );\n                    m.append( tmp );\n                    break;\n                }case 'A':{\n                    reverse( m.begin(), m.end() );\n                    break;\n                }case 'P':{\n                    for( size_t j = 0; j < m.length(); j++ ){\n                        if( '1' <= m[j] && m[j] <= '9' ){\n                            m[j]--;\n                        }else if( '0' == m[j] ){\n                            m[j] = '9';\n                        }\n                    }\n                    break;\n                }case 'M':{\n                    for( size_t j = 0; j < m.length(); j++ ){\n                        if( '0' <= m[j] && m[j] <= '8' ){\n                            m[j]++;\n                        }else if( '9' == m[j] ){\n                            m[j] = '0';\n                        }\n                    }\n                    break;\n                }\n            }\n        }\n        cout << m << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n)for(int i=0;i<n;i++)\nusing namespace std;\n\nint main() {\n\tint n; scanf(\"%d\", &n);\n\trep(i, n) {\n\t\tstring m, s; cin >> m >> s;\n\t\treverse(m.begin(), m.end());\n\t\tfor (char c : m) {\n\t\t\tswitch (c) {\n\t\t\tcase'C':rotate(s.begin(), ++s.begin(), s.end()); break;\n\t\t\tcase'J':rotate(s.begin(), --s.end(), s.end()); break;\n\t\t\tcase'E':s = s.substr(s.size() / 2 + s.size() % 2) + s.substr(s.size() / 2, s.size() % 2) + s.substr(0, s.size() / 2); break;\n\t\t\tcase'A':reverse(s.begin(), s.end()); break;\n\t\t\tcase'M':transform(s.begin(), s.end(), s.begin(), [](char c) {\n\t\t\t\tif (c == '9')return'0';\n\t\t\t\tif ('0' <= c&&c < '9')return ++c;\n\t\t\t}); break;\n\t\t\tcase'P':transform(s.begin(), s.end(), s.begin(), [](char c) {\n\t\t\t\tif (c == '0')return'9';\n\t\t\t\tif ('0' < c&&c <= '9')return --c;\n\t\t\t}); break;\n\t\t\t}\n\t\t}\n\t\tcout << s << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\nusing namespace std;\nint main(){\n  int n,l;\n  string o,k;\n  cin>>n;\n  while(n--){\n    cin>>o>>k;\n    int l=k.size();\n    for(int i=o.size()-1;i>=0;i--){\n      if(o[i]=='J')\n\tk=k[l-1]+k.substr(0,l-1);\n      else if(o[i]=='C')\n\tk=k.substr(1,l-1)+k[0];\n      else if(o[i]=='E'){\n\tif(l%2)\n\t  k=k.substr(l/2+1)+k[l/2]+k.substr(0,l/2);\n\telse\n\t  k=k.substr(l/2)+k.substr(0,l/2);\n      }\n      else if(o[i]=='A')\n\treverse(k.begin(),k.end());\n      else if(o[i]=='P'){\n\tfor(int j=0;j<l;j++){\n\t  if('1'<=k[j]&&k[j]<='9')\n\t    k[j]--;\n\t  else if(k[j]=='0')\n\t    k[j]='9';\n\t}\n      }\n      else if(o[i]=='M'){\n\tfor(int j=0;j<l;j++){\n\t  if('0'<=k[j]&&k[j]<='8')\n\t    k[j]++;\n\t  else if(k[j]=='9')\n\t    k[j]='0';\n\t}\n      }\n    }\n    cout<<k<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<string>\n#include<queue>\n#include<map>\n#include<algorithm>\nusing namespace std;\n\n#define REP(i,a,b) for(i=a; i<b; ++i)\n#define rep(i,n) REP(i,0,n)\n\nstring cor(string order,string message) {\n  for(int i=order.length()-1; i>=0; --i) {\n    //cout<<i<<\"  \"<<message<<endl;\n    if(order[i] == 'A') {\n      reverse(message.begin(),message.end());\n    }else if(order[i] == 'J') {\n      string mes(message.length(), ' ');\n      for(int j=0; j<message.length(); ++j) {\n\tif(j == 0) mes[j] = message[message.length()-1];\n\telse mes[j] = message[j-1];\n      }\n      message = mes;\n    }else if(order[i] == 'M') {\n      for(int j=0; j<message.length(); ++j) {\n\tif(message[j] >= '0' && message[j] <= '8') message[j]++;\n\telse if(message[j] == '9') message[j] = '0';\n      }\n    }else if(order[i] == 'P') {\n      for(int j=0; j<message.length(); ++j) {\n\tif(message[j] == '0') message[j] = '9';\n\telse if(message[j] >= '1' && message[j] <= '9') message[j]--;\n      }\n    }else if(order[i] == 'C') {\n      string mes(message.length(), ' ');\n      char tmp = message[0];\n      for(int j=0; j<message.length(); ++j) {\n\tif(j == message.length()-1) mes[j] = tmp;\n\telse mes[j] = message[j+1];\n      }\n      message = mes;\n    }else if(order[i] == 'E') {\n      string fore = \"\";\n      string back = \"\";\n      for(int j=0; j<message.length()/2; ++j) fore += string(1, message[j]);\n      if(message.length()%2 == 0) {\n\tfor(int j=message.length()/2; j<message.length(); ++j)\n\t  back += string(1, message[j]);\n\t//cout<<back<<\" \"<<fore<<\" <- \"<<message<<endl;\n\tmessage = back + fore;\n      }else{\n\tfore = message[message.length()/2] + fore;\n\tfor(int j = message.length()/2+1; j<message.length(); ++j)\n\t  back += string(1, message[j]);\n\t//cout<<back<<\" \"<<fore<<\" <- \"<<message<<endl;\n\tmessage = back + fore;\n      }\n    }\n  }\n  return message;\n}\n\nint main() {\n  int i,j,k,n;\n  string order,message;\n  cin>>n;\n  rep(i,n) {\n    cin>>order;\n    cin>>message;\n    cout<<cor(order,message)<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\n#include <cctype>\n\nusing namespace std;\n\n#define rep(i, n) for(int i=0; i<(n); ++i)\n#define all(c) (c).begin(), (c).end()\n\nvoid J(string& s){\n    rotate(s.begin(), s.end() - 1, s.end());\n}\n\nvoid C(string& s){\n    rotate(s.begin(), s.begin() + 1, s.end());\n}\n\nvoid E(string& s){\n    int n = (int)s.size();\n    swap_ranges(s.begin(), s.begin() + (n >> 1), s.begin() + (n >> 1) + (n & 1));\n}\n\nvoid A(string& s){\n    reverse(all(s));\n}\n\nvoid P(string& s){\n    rep(i, (int)s.size())if(isdigit(s[i]))s[i] = (s[i] + 9 - '0') % 10 + '0';\n}\n\nvoid M(string& s){\n    rep(i, (int)s.size())if(isdigit(s[i]))s[i] = (s[i] + 1 - '0') % 10 + '0';\n}\n\nint main(){\n    int n;\n    cin >> n; cin.ignore();\n    while(n--){\n        string order, mes;\n        cin >> order >> mes;\n        reverse(all(order));\n        rep(i, (int)order.size()){\n            if(order[i] == 'J')J(mes);\n            if(order[i] == 'C')C(mes);\n            if(order[i] == 'E')E(mes);\n            if(order[i] == 'A')A(mes);\n            if(order[i] == 'P')P(mes);\n            if(order[i] == 'M')M(mes);\n        }\n        cout << mes << '\\n';\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <vector>\n#include <cmath>\n#include <algorithm>\n#include <numeric>\n\nusing namespace std;\nusing ll = long long;\n\nstring C(const string& S)\n{\n    const int N = S.size();\n    string s;\n    s.resize(N);\n    for (int i = 0; i < N; i++) {\n        s[i] = S[(i + 1) % N];\n    }\n    return s;\n}\n\nstring J(const string& S)\n{\n    const int N = S.size();\n    string s;\n    s.resize(N);\n    for (int i = 0; i < N; i++) {\n        s[i] = S[(i + N - 1) % N];\n    }\n    return s;\n}\n\nstring E(const string& S)\n{\n    const int N = S.size();\n    const int shift = (N + 1) / 2;\n    string s;\n    s.resize(N);\n    for (int i = 0; i < N; i++) {\n        if (i + shift < N) {\n            s[i] = S[i + shift];\n        } else {\n            s[i] = S[i - shift];\n        }\n    }\n    return s;\n}\n\nstring A(const string& S)\n{\n    string s = S;\n    reverse(s.begin(), s.end());\n    return s;\n}\n\nstring P(const string& S)\n{\n    const int N = S.size();\n    string s = S;\n    for (int i = 0; i < N; i++) {\n        if (s[i] >= '1' and s[i] <= '9') {\n            s[i]--;\n        } else if (s[i] == '0') {\n            s[i] = '9';\n        }\n    }\n    return s;\n}\n\nstring M(const string& S)\n{\n    const int N = S.size();\n    string s = S;\n    for (int i = 0; i < N; i++) {\n        if (s[i] >= '0' and s[i] <= '8') {\n            s[i]++;\n        } else if (s[i] == '9') {\n            s[i] = '0';\n        }\n    }\n    return s;\n}\n\nstring op(const char c, const string& S)\n{\n    switch (c) {\n    case 'J':\n        return J(S);\n    case 'C':\n        return C(S);\n    case 'E':\n        return E(S);\n    case 'A':\n        return A(S);\n    case 'P':\n        return P(S);\n    case 'M':\n        return M(S);\n    }\n}\n\nint main()\n{\n    int n;\n    cin >> n;\n    for (int i = 0; i < n; i++) {\n        string s;\n        cin >> s;\n        reverse(s.begin(), s.end());\n        string m;\n        cin >> m;\n        for (const char c : s) {\n            m = op(c, m);\n        }\n        cout << m << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <utility>\n#include <cctype>\n#include <string>\n#include <algorithm>\nusing namespace std;\n\n#define _gp(l) const auto gcu{getchar##l}; const auto pcu{putchar##l}\n#ifdef __linux\n_gp(_unlocked);\n#else\n_gp();\n#endif\n#define _DEF(r, n, ...) inline r n(__VA_ARGS__) noexcept\n#define _T template <typename T>\n#define _HT template <typename H,typename... T>\n#define _OP(t) inline operator t()\nstruct _in {\n#ifdef _GLIBCXX_STRING\n\t_OP(string){string s;for(char c;c=gcu(),c!=' '&&c!='\\n';)s+=c;return s;}\n#endif\n\t_OP(char){char c=gcu();gcu();return c;}\n\t_OP(double){double d; scanf(\"%lf\",&d); gcu();return d;}\n\t_T _OP(T){T n{},m{1},c;if((c=gcu())=='-')m=-1,c=gcu();do{n=10*n+(c-'0'),c=gcu();}while(c>='0'&&c<='9');return m*n;}\n} in;\n#define _SCAN(...) _DEF(bool,scan,__VA_ARGS__)\n_T _SCAN(T &o) {int c{gcu()};return c==EOF?false:ungetc(c,stdin),o=in,true;}\n_HT _SCAN(H &h,T&&... t){return scan(h)&&scan(t...);}\n#define _OUT(...) _DEF(void,out,__VA_ARGS__)\n#define _OUTL(...) _DEF(void,outl,__VA_ARGS__)\n_OUT(bool b){pcu('0'+b);} _OUT(const char *s){while(*s)pcu(*s++);} _OUT(char c){pcu(c);}\n#ifdef _GLIBCXX_STRING\n_OUT(string s){for(char c:s)pcu(c);}\n#endif\n_T _OUT(T n){static char b[20];char *p=b;T m=n<0?pcu('-'),-1:1;\n\tif(!n)*p++='0';else while(n)*p++=(char)(n%10*m+'0'),n/=10;while(p!=b)pcu(*--p);}\n_OUTL(){out('\\n');}\n#ifdef _GLIBCXX_VECTOR\n_T _OUT(vector<T> v){for(T &x:v)out(&x == &v[0]?\"\":\" \"),out(x);}\n#endif\n_HT _OUT(H&& h, T&&... t){out(h);out(move(t)...);}\ntemplate <typename... T> _OUTL(T&&... t){out(move(t)...);outl();}\nstruct range{\n\tint e,b=0,s=1; range(int _b,int _e,int _s):e(_e),b(_b),s(_s){} range(int _b,int _e): e(_e), b(_b){} range(int _e):e(_e){}\n\tstruct it { int v, s; it (int _v, int _s) : v(_v), s(_s) {} operator int()const{return v;} operator int&(){return v;} int operator*()const{return v;}\n\t\tit& operator++(){v+=s;return *this;} }; it begin() {return {b, s};} it end() {return {e, s};}};\n\nint main() {\n\tfor (int n(in); n; n--) {\n\t\tstring k = move(in), s = move(in);\n\t\tfor (auto i {rbegin(k)}; i != rend(k); i++)\n\t\t\tswitch(*i) {\n\t\t\tcase 'C':\n\t\t\t\ts = s.substr(1, s.size()) + s.front();\n\t\t\t\tbreak;\n\t\t\tcase 'J':\n\t\t\t\ts = s.back() + s.substr(0, s.size() - 1);\n\t\t\t\tbreak;\n\t\t\tcase 'E':\n\t\t\t\tfor (int j: range(s.size() / 2))\n\t\t\t\t\tswap(s[j], s[j + (s.size() + 1) / 2]);\n\t\t\t\tbreak;\n\t\t\tcase 'P':\n\t\t\t\tfor (char &j: s)\n\t\t\t\t\tif (isdigit(j))\n\t\t\t\t\t\tj = (j - '0' + 9) % 10 + '0';\n\t\t\t\tbreak;\n\t\t\tcase 'M':\n\t\t\t\tfor (char &j: s)\n\t\t\t\t\tif (isdigit(j))\n\t\t\t\t\t\tj = (j - '0' + 1) % 10 + '0';\n\t\t\t\tbreak;\n\t\t\tcase 'A':\n\t\t\t\treverse(begin(s), end(s));\n\t\t\t\tbreak;\n\t\t\t}\n\t\toutl(s);\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\n#include<cctype>\n\n#define all(c) (c).begin(),(c).end()\n\nusing namespace std;\n\nvoid J(string &s){\n  string a=\"\";\n  a+=s.substr(1,s.size()-1);\n  a+=s[0];\n  s=a;\n}\n\nvoid C(string &s){\n  string a=\"\";\n  a+=s[s.size()-1];\n  a+=s.substr(0,s.size()-1);\n  s=a;\n}\n\nvoid E(string &s){\n  string a=\"\";\n  if(s.size()%2==1){\n    a+=s.substr(s.size()/2+1,s.size()/2);\n    a+=s[s.size()/2];\n    a+=s.substr(0,s.size()/2);\n  }\n  else {\n    a+=s.substr(s.size()/2,s.size()/2);\n    a+=s.substr(0,s.size()/2);\n  }\n  s=a;\n}\n\nvoid A(string &s){\n  reverse(all(s));\n}\n\nvoid P(string &s){\n  for(int i=0;i<s.size();i++){\n    if(s[i]=='9')s[i]='0';\n    else if(isdigit(s[i]))s[i]++;\n  }\n}\n\nvoid M(string &s){\n  for(int i=0;i<s.size();i++){\n    if(s[i]=='0')s[i]='9';\n    else if(isdigit(s[i]))s[i]--;\n  }\n}\n\nint main(void){\n  int n;\n  string s,com;\n  cin >> n;\n  while(n--){\n    cin >> com >> s;\n    A(com);\n    for(int i=0;i<com.size();i++){\n      if(com[i]=='J')C(s);\n      else if(com[i]=='C')J(s);\n      else if(com[i]=='E')E(s);\n      else if(com[i]=='A')A(s);\n      else if(com[i]=='P')M(s);\n      else P(s);\n    }\n    cout << s << endl;\n  }\n  \n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\n#include <cctype>\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define REP(i,n) for(int i=0;i<(n);i++)\nusing namespace std;\n\nint main()\n{\n  int n;\n  cin >> n;\n  REP(i,n){\n    string o, m;\n    cin >> o >> m;\n    reverse(o.begin(), o.end());\n    REP(j,(int)o.size()){\n      if(o[j] == 'J'){\n        m = m[m.size()-1] + m.substr(0,m.size()-1);\n      }else if(o[j] == 'C'){\n        m = m[0] + m.substr(1,m.size()-1);\n      }else if(o[j] == 'E'){\n        int x = m.size()/2;\n        if(m.size() & 1)\n          m = m.substr(x+1,x) + m[x] + m.substr(0,x);\n        else\n          m = m.substr(x,x) + m.substr(0,x);\n      }else if(o[j] == 'A'){\n        reverse(m.begin(), m.end());\n      }else if(o[j] == 'P'){\n        REP(k,(int)m.size()){\n          if(isdigit(m[k])){\n            m[k]--;\n            if(!isdigit(m[k]))\n              m[k] = '9';\n          }\n        }\n      }else if(o[j] == 'M'){\n        REP(k,(int)m.size()){\n          if(isdigit(m[k])){\n            m[k]++;\n            if(!isdigit(m[k]))\n              m[k] = '0';\n          }\n        }\n      }\n    }\n    cout << m << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <deque>\n#include <string>\nusing namespace std;\n\nint main(){\n\tint n;\n\tstring s,t;\n\tchar c,d;\n\tdeque<char> de,sub;\n\tcin >> n;\n\tfor(int i = 0;i < n;i++){\n\t\tcin >> s >> t;\n\t\tde.clear();\n\t\tfor(int j = 0;j < t.size();j++){\n\t\t\tde.push_back(t[j]);\n\t\t}\n\t\tfor(int j = s.size()-1;j >= 0;j--){\n\t\t\t//cout << s[j] <<endl;\n\t\t\tif(s[j] == 'C'){\n\t\t\t\tc = de.front();\n\t\t\t\tde.pop_front();\n\t\t\t\tde.push_back(c);\n\t\t\t}\n\t\t\telse if(s[j] == 'J'){\n\t\t\t\tc = de.back();\n\t\t\t\tde.pop_back();\n\t\t\t\tde.push_front(c);\n\t\t\t}\n\t\t\telse if(s[j] == 'A'){\n\t\t\t\tfor(int k = 0;k < de.size()/2;k++){\n\t\t\t\t\tswap(de[k],de[de.size()-k-1]);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(s[j] == 'E'){\n\t\t\t\tif(de.size()%2 == 1){\n\t\t\t\t\tfor(int k = 0;k < t.size()/2;k++){\n\t\t\t\t\t\tc = de.back();\n\t\t\t\t\t\tde.pop_back();\n\t\t\t\t\t\tsub.push_front(c);\n\t\t\t\t\t}\n\t\t\t\t\tc = de.back();\n\t\t\t\t\tde.pop_back();\n\t\t\t\t\tde.push_front(c);\n\t\t\t\t\t//cout << c << endl;\n\t\t\t\t\twhile(!sub.empty()){\n\t\t\t\t\t\tc = sub.back();\n\t\t\t\t\t\tsub.pop_back();\n\t\t\t\t\t\tde.push_front(c);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tfor(int k = 0;k < de.size()/2;k++){\n\t\t\t\t\t\tc = de.front();\n\t\t\t\t\t\tde.pop_front();\n\t\t\t\t\t\tde.push_back(c);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(s[j] == 'M'){\n\t\t\t\tfor(int k = 0;k < de.size();k++){\n\t\t\t\t\tif(de[k] >= '0' && de[k] <='8'){\n\t\t\t\t\t\tde[k]++;\n\t\t\t\t\t}\n\t\t\t\t\telse if(de[k] == '9'){\n\t\t\t\t\t\tde[k] = '0';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(s[j] == 'P'){\n\t\t\t\tfor(int k = 0;k < de.size();k++){\n\t\t\t\t\tif(de[k] >= '1' && de[k] <='9'){\n\t\t\t\t\t\tde[k]--;\n\t\t\t\t\t}\n\t\t\t\t\telse if(de[k] == '0'){\n\t\t\t\t\t\tde[k] = '9';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor(int j = 0;j < de.size();j++){\n\t\t\tcout << de[j];\n\t\t\tif(j == de.size()-1)cout <<endl;\n\t\t}\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<vector>\n#include<cstdio>\nusing namespace std;\nint main(){\n  int n;\n  string x;\n  string st;\n  cin >>n;\n  for(int i=0;i<n;i++){\n    cin >> x;\n    cin >> st;\n    for(int j=x.size()-1;j>=0;j--){\n      if(x[j]=='C'){\n\tchar stock;\n\tstock = st[0];\n\tst.erase(st.begin());\n\tst+=stock;\n      }\n      else if(x[j]=='J'){\n\tchar stock;\n\tstock = st[st.size()-1];\n\t//\tcout << \"p1\"<<endl;\n\tst.erase(st.size()-1);\n\t//cout <<\"p2\"<<endl;\n\tst.insert(st.begin(),stock);\n      }\n      else if(x[j]=='E'){\n\tstring stock;\n\tint l=st.size()/2;\n\tfor(int k=0;k<l;k++){\n\t  stock+=st[k];\n\t}\n\tstring stock2;\n\tint od = st.size()%2;\n\tfor(int k=l+od;k<l*2+od;k++){\n\t  stock2+=st[k];\n\t}\n\tchar st3;\n\tif(od==1)st3+=st[l];\n\tst=stock2+st3+stock;\n      }\n      else if(x[j]=='A'){\n\tstring stock;\n\tfor(int k=0;st.empty()!=true;k++){\n\t  stock += st[0];\n\t  st.erase(st.begin());\n\t}\n\t//cout << stock <<endl;\n\tfor(int k=stock.size()-1;k>=0;k--){\n\t  st+=stock[k];\n\t}\n      }\n      else if(x[j]=='M'){\n\tfor(int k=0;k<st.size();k++){\n\t  if(st[k]>='0'&&st[k]<'9'){\n\t    st[k]++;\n\t  }\n\t  else if(st[k]=='9'){\n\t    st[k]=='0';\n\t  }\n\t}\n      }\n      else if(x[j]=='P'){\n\tfor(int k=0;k<st.size();k++){\n\t  if(st[k]>'0'&&st[k]<='9'){\n\t    st[k]--;\n\t  }\n\t  else if(st[k]=='0'){\n\t    st[k]=='9';\n\t  }\n\t}\n      }\t\n\n      //cout <<\"it is \"<<x[j]<<endl;\n      //cout << st << endl;\n    }\n    cout << st << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <queue>\n#include <utility>\n#include <string>\n\n#define REP(i,a,b) for(int i=int(a);i<int(b);i++)\n\nusing namespace std;\n\ntypedef long long int lli;\ntypedef pair<int,int> pii;\n\nint main () {\n    int n;\n    cin >> n;\n    while (n--) {\n        string kings;\n        cin >> kings;\n        string message;\n        cin >> message;\n        for (int i = kings.size() - 1; i >= 0; i--) {\n            if (kings[i] == 'J' && message.size() > 1) {\n                message = message.substr(message.size() - 1, 1) + message.substr(0, message.size() - 1);\n            }\n            if (kings[i] == 'C' && message.size() > 1) {\n                message = message.substr(1) + message.substr(0, 1);\n            }\n            if (kings[i] == 'E') {\n                if (message.size() % 2) {\n                    message = message.substr((message.size() + 1) / 2) + message[message.size() / 2] + message.substr(0, message.size() / 2);\n                } else {\n                    message = message.substr((message.size() + 1) / 2) + message.substr(0, message.size() / 2);\n                }\n            }\n            if (kings[i] == 'A') {\n                reverse(message.begin(), message.end());\n            }\n            if (kings[i] == 'P') {\n                REP (j, 0, message.size()) {\n                    if ('0' <= message[j] && message[j] <= '9') {\n                        message[j] = max(message[j] - 1, (int)'0');\n                    }\n                }\n            }\n            if (kings[i] == 'M') {\n                REP (j, 0, message.size()) {\n                    if ('0' <= message[j] && message[j] <= '9') {\n                        message[j] = min(message[j] + 1, (int)'9');\n                    }\n                }\n            }\n        }\n        cout << message << endl;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n)for(int i=0;i<n;i++)\nusing namespace std;\n\nint main() {\n\tint n; scanf(\"%d\", &n);\n\tvector<string>v;\n\trep(i, n) {\n\t\tstring m, s; cin >> m >> s;\n\t\treverse(m.begin(), m.end());\n\t\tfor (char c : m) {\n\t\t\tswitch (c) {\n\t\t\tcase'C':rotate(s.begin(), ++s.begin(), s.end()); break;\n\t\t\tcase'J':rotate(s.begin(), --s.end(), s.end()); break;\n\t\t\tcase'E':s = s.substr(s.size() / 2 + s.size() % 2) + s.substr(s.size() / 2, s.size() % 2) + s.substr(0, s.size() / 2); break;\n\t\t\tcase'A':reverse(s.begin(), s.end()); break;\n\t\t\tcase'M':transform(s.begin(), s.end(), s.begin(), [](char c) {\n\t\t\t\tif (c == '9')return'0';\n\t\t\t\tif ('0' <= c&&c < '9')return ++c;\n\t\t\t}); break;\n\t\t\tcase'P':transform(s.begin(), s.end(), s.begin(), [](char c) {\n\t\t\t\tif (c == '0')return'9';\n\t\t\t\tif ('0' < c&&c <= '9')return --c;\n\t\t\t}); break;\n\t\t\t}\n\t\t}\n\t\tv.push_back(s);\n\t}\n\tfor (auto s : v) {\n\t\tcout << s << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\ntypedef long long LL;\n#define SORT(c) sort((c).begin(),(c).end())\n\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n)  FOR(i,0,n)\n\nusing namespace std;\nstring revj(string a)\n{\n  string answer=a+a;\n  return string(answer.begin()+a.size()-1,answer.end()-1);\n}\nstring revc(string a)\n{\n  string answer=a+a;\n  return string(answer.begin()+1,answer.begin()+a.size()+1);\n}\nstring reve(string a)\n{\n  return string(a.end()-a.size()/2,a.end())+string(a.begin()+a.size()/2,a.end()-a.size()/2)+string(a.begin(),a.begin()+a.size()/2);\n}\nstring reva(string a)\n{\n  return string(a.rbegin(),a.rend());\n}\nstring revp(string a)\n{\n  string answer=a;\n  REP(i,answer.size()) if(0<= answer[i]-'0' && answer[i]-'0' <= 9) answer[i]=(answer[i]-'0'+9)%10+'0';\n  return answer;\n}\nstring revm(string a)\n{\n  string answer=a;\n  REP(i,answer.size()) if(0<= answer[i]-'0' && answer[i]-'0' <= 9) answer[i]=(answer[i]-'0'+1)%10+'0';\n  return answer;\n}\nint main(void)\n{\n  int n;    \n  cin >> n;\n  REP(i,n){\n    string cmd,tmp;\n    cin >> cmd >> tmp;\n    string rcmd(cmd.rbegin(),cmd.rend());\n    for(auto i:rcmd){\n      if(i=='J') tmp=revj(tmp);\n      if(i=='C') tmp=revc(tmp);\n      if(i=='E') tmp=reve(tmp);\n      if(i=='A') tmp=reva(tmp);\n      if(i=='P') tmp=revp(tmp);\n      if(i=='M') tmp=revm(tmp);\n    }\n    cout << tmp << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define INF_LL (int64)1e18\n#define INF (int32)1e9\n#define REP(i, n) for(int64 i = 0;i < (n);i++)\n#define FOR(i, a, b) for(int64 i = (a);i < (b);i++)\n#define all(x) x.begin(),x.end()\n#define fs first\n#define sc second\n\nusing int32 = int_fast32_t;\nusing uint32 = uint_fast32_t;\nusing int64 = int_fast64_t;\nusing uint64 = uint_fast64_t;\nusing PII = pair<int32, int32>;\nusing PLL = pair<int64, int64>;\n\nconst double eps = 1e-10;\n\ntemplate<typename A, typename B>inline void chmin(A &a, B b){if(a > b) a = b;}\ntemplate<typename A, typename B>inline void chmax(A &a, B b){if(a < b) a = b;}\n\ntemplate<typename T>\nvector<T> make_v(size_t a){return vector<T>(a);}\n\ntemplate<typename T,typename... Ts>\nauto make_v(size_t a,Ts... ts){\n  return vector<decltype(make_v<T>(ts...))>(a,make_v<T>(ts...));\n}\n\ntemplate<typename T,typename U,typename... V>\ntypename enable_if<is_same<T, U>::value!=0>::type\nfill_v(U &u,const V... v){u=U(v...);}\n\ntemplate<typename T,typename U,typename... V>\ntypename enable_if<is_same<T, U>::value==0>::type\nfill_v(U &u,const V... v){\n  for(auto &e:u) fill_v<T>(e,v...);\n}\n\nint main(void){\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\tint64 n;\n\tcin >> n;\n\tREP(_, n) {\n\t\tstring op, s;\n\t\tcin >> op >> s;\n\t\tREP(i, op.size()) {\n\t\t\tif (op[i] == 'J') {\n\t\t\t\ts = s.substr(1, s.size()-1) + s[0];\n\t\t\t} else if (op[i] == 'C') {\n\t\t\t\ts = s.back() + s.substr(0, s.size()-1);\n\t\t\t} else if (op[i] == 'E') {\n\t\t\t\tif (s.size() % 2) {\n\t\t\t\t\ts = s.substr(s.size()/2+1, s.size()/2) + s[s.size()/2] + s.substr(0, s.size()/2);\n\t\t\t\t} else {\n\t\t\t\t\ts = s.substr(s.size()/2, s.size()/2) + s.substr(0, s.size()/2);\n\t\t\t\t}\n\t\t\t} else if (op[i] == 'A') {\n\t\t\t\treverse(all(s));\n\t\t\t} else if (op[i] == 'P') {\n\t\t\t\tREP(j, s.size()) {\n\t\t\t\t\tif ('0' <= s[j] && s[j] <= '9') {\n\t\t\t\t\t\ts[j] = (char)((s[j]-'0'+1)%10+'0');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tREP(j, s.size()) {\n\t\t\t\t\tif ('0' <= s[j] && s[j] <= '9') {\n\t\t\t\t\t\ts[j] = (char)((s[j]-'0'+9)%10+'0');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << s << endl;\n\t}\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n#include<unordered_map>\n#include<unordered_set>\n#pragma warning(disable:4996)\nusing namespace std;\nusing ld = long double;\ntemplate<class T>\nusing Table = vector<vector<T>>;\nconst ld eps=1e-9;\n\n//// < \"D:\\D_Download\\Visual Studio 2015\\Projects\\programing_contest_c++\\Debug\\a.txt\"\nint main() {\n\tint N; cin >> N;\n\twhile (N--) {\n\t\tstring st; cin >> st;\n\t\tstring aa; cin >> aa;\n\t\tfor (int i = 0; i < st.size(); ++i) {\n\t\t\tchar c = st[st.size() - 1 - i];\n\t\t\tif (c == 'A') {\n\t\t\t\treverse(aa.begin(), aa.end());\n\t\t\t}\n\t\t\telse if (c == 'C') {\n\t\t\t\trotate(aa.begin(), aa.begin() + 1, aa.end());\n\t\t\t}\n\t\t\telse if (c == 'M') {\n\t\t\t\tfor (auto& ac : aa) {\n\t\t\t\t\tif (isdigit(ac))ac = (ac - '0' + 1) % 10 + '0';\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (c == 'P') {\n\t\t\t\tfor (auto& ac : aa) {\n\t\t\t\t\tif (isdigit(ac))ac = (ac - '0' + 9) % 10 + '0';\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (c == 'E') {\n\t\t\t\tstring from = aa.substr(0,aa.size() / 2);\n\t\t\t\tstring to = aa.substr(aa.size()-aa.size() / 2,aa.size() / 2);\n\t\t\t\tif (aa.size() % 2)aa = to + aa[st.size() / 2] + from;\n\t\t\t\telse aa = to + from;\n\t\t\t}\n\t\t\telse if (c == 'J') {\n\n\t\t\t\trotate(aa.begin(), aa.begin() + aa.size()-1, aa.end());\n\t\t\t}\n\t\t}\n\t\tcout << aa << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <vector>\n#include <cmath>\n#include <algorithm>\n#include <numeric>\n\nusing namespace std;\nusing ll = long long;\n\nstring C(const string& S)\n{\n    const int N = S.size();\n    string s;\n    s.resize(N);\n    for (int i = 0; i < N; i++) {\n        s[i] = S[(i + 1) % N];\n    }\n    return s;\n}\n\nstring J(const string& S)\n{\n    const int N = S.size();\n    string s;\n    s.resize(N);\n    for (int i = 0; i < N; i++) {\n        s[i] = S[(i + N - 1) % N];\n    }\n    return s;\n}\n\nstring E(const string& S)\n{\n    const int N = S.size();\n    const int shift = (N + 1) / 2;\n    string s = S;\n    for (int i = 0; i < N; i++) {\n        if (i + shift < N) {\n            s[i] = S[i + shift];\n        } else if (i - shift >= 0) {\n            s[i] = S[i - shift];\n        }\n    }\n    return s;\n}\n\nstring A(const string& S)\n{\n    string s = S;\n    reverse(s.begin(), s.end());\n    return s;\n}\n\nstring P(const string& S)\n{\n    const int N = S.size();\n    string s = S;\n    for (int i = 0; i < N; i++) {\n        if (s[i] >= '1' and s[i] <= '9') {\n            s[i]--;\n        } else if (s[i] == '0') {\n            s[i] = '9';\n        }\n    }\n    return s;\n}\n\nstring M(const string& S)\n{\n    const int N = S.size();\n    string s = S;\n    for (int i = 0; i < N; i++) {\n        if (s[i] >= '0' and s[i] <= '8') {\n            s[i]++;\n        } else if (s[i] == '9') {\n            s[i] = '0';\n        }\n    }\n    return s;\n}\n\nstring op(const char c, const string& S)\n{\n    switch (c) {\n    case 'J':\n        return J(S);\n    case 'C':\n        return C(S);\n    case 'E':\n        return E(S);\n    case 'A':\n        return A(S);\n    case 'P':\n        return P(S);\n    case 'M':\n        return M(S);\n    }\n}\n\nint main()\n{\n    int n;\n    cin >> n;\n    for (int i = 0; i < n; i++) {\n        string s;\n        cin >> s;\n        reverse(s.begin(), s.end());\n        string m;\n        cin >> m;\n        for (const char c : s) {\n            m = op(c, m);\n        }\n        cout << m << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <cmath>\n#include <ctype.h>\n#include <string> \n#include <sstream>\n#include <iostream>\n#include <algorithm>\n#include <cstdlib>\n#include <map>\n#include <queue>\n#include <utility>\n#include <vector>\n\nusing namespace std;\n\nvoid c_j(string str);\nvoid c_c(string str);\nvoid c_e(string str);\nvoid c_a(string str);\nvoid c_p(string str);\nvoid c_m(string str);\n\nint main()\n{\n\tint n;\n\tstring order, message;\n\tcin >> n;\n\tfor(int i = 0; i < n; i++){\n\t\tcin >> order >> message;\n\t\tfor(int j = order.length()-1; j >= 0; j++){\n\t\t\tif(order[j] == 'J') c_j(message);\n\t\t\telse if(order[j] == 'C') c_c(message);\n\t\t\telse if(order[j] == 'E') c_e(message);\n\t\t\telse if(order[j] == 'A') c_a(message);\n\t\t\telse if(order[j] == 'P') c_p(message);\n\t\t\telse if(order[j] == 'M') c_m(message); \n\t\t}\n\t\tcout << message << endl;\n\t}\n\treturn 0;\n}\n\nvoid c_j(string str)\n{\n\tchar c;\n\tc = str[str.length()-1];\n\tstr.pop_back;\n\tstr = c + str;\n}\n\nvoid c_c(string str)\n{\n\tchar c;\n\tc = str[0];\n\tstr.erase(str.begin());\n\tstr += c;\n}\n\nvoid c_e(string str)\n{\n\tstring a;\n\tint l = str.length();\n\ta = str.substr(0, l / 2);\n\tif( l % 2 == 1){\n\t\tchar c = str[l / 2 + 1];\n\t\tstr.erase(str.begin(), str.begin() + l);\n\t\tstr += c;\n\t\tstr += a;\n\t} else {\n\t\tstr.erase(str.begin(), str.begin() + (l - 1));\n\t\tstr += a;\n\t}\n}\n\nvoid c_a(string str)\n{\n\treverse(str.begin(), str.end());\n}\n\nvoid c_p(string str)\n{\n\tfor(int i = 0; i < str.length() - 1; i++){\n\t\tif(isdigit(str[i])){\n\t\t\tint n = str[i] - '0';\n\t\t\tn--;\n\t\t\tif(n == -1) n = 9;\n\t\t\tstr[i] = n + '0';\n\t\t}\n\t}\n}\n\nvoid c_m(string str)\n{\n\tfor(int i = 0; i < str.length() - 1; i++){\n\t\tif(isdigit(str[i])){\n\t\t\tint n = str[i] - '0';\n\t\t\tn = (n + 1) % 10;\n\t\t\tstr[i] = n + '0';\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<cstring>\nusing namespace std;\n\nint main(){\n  int n;\n  cin>>n;\n  for(int i=0;i<n;i++){\n    char a[7],ans[26],b[26],x=0,y=0;\n    scanf(\"%s\",a);\n    x=strlen(a);\n    scanf(\"%s\",ans);\n    y=strlen(ans);  \n\n    for(int j=0;j<y;j++)\n      b[j]=ans[j];\n\n    for(int k=x-1;k>=0;k--){\n      if(a[k]=='C'){//??????\n\tb[y-1]=ans[0];\n\tfor(int j=1;j<y;j++) b[j-1]=ans[j];\n      }\n      else if(a[k]=='J'){//??????\n\tb[0]=ans[y-1];\n\tfor(int j=0;j<y-1;j++) b[j+1]=ans[j];\n      }\n      else if(a[k]=='E'){//swap\n\tif(y%2==0)\n\t  for(int j=0;j<y/2;j++) \n\t    swap(b[j],b[j+(y/2)]);\n\telse\n\t  for(int j=0;j<y/2;j++) \n\t    swap(b[j],b[j+(y/2)+1]);\n\n\n\n      }\n      else if(a[k]=='A'){//????????????\n\tint o=y;\n\twhile(1){\n\t  if(o==0)break;\n\t  for(int j=0;j<y;j++){\n\t    b[j]=ans[o-1];\n\t    o--;\n\t  }\n\t}\n      }\n      else if(a[k]=='M'){//+1\n\tfor(int j=0;j<y;j++) \n\t  if(ans[j]>='0'&&ans[j]<='8') b[j]=ans[j]+1;\n\t  else if(ans[j]=='9') b[j]=ans[j]-9;\n      }\n      else if(a[k]=='P')//-1\n\tfor(int j=0;j<y;j++) \n\t  if(ans[j]>='1'&&ans[j]<='9') b[j]=ans[j]-1;\n\t  else if(ans[j]=='0') b[j]=ans[j]+9;\n\n      for(int j=0;j<y;j++)\n\tans[j]=b[j];\n    }h\n    for(int j=0;j<y;j++)\n      cout<<ans[j];\n    cout<<endl;\n\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n)for(int i=0;i<n;i++)\nusing namespace std;\n\nint main() {\n\tint n;\n\twhile (~scanf(\"%d\", &n)) {\n\t\trep(i, n) {\n\t\t\tstring m, s; cin >> m >> s;\n\t\t\treverse(m.begin(), m.end());\n\t\t\tfor (char c : m) {\n\t\t\t\tswitch (c) {\n\t\t\t\tcase'C':rotate(s.begin(), ++s.begin(), s.end()); break;\n\t\t\t\tcase'J':rotate(s.begin(), --s.end(), s.end()); break;\n\t\t\t\tcase'E':s = s.substr(s.size() / 2 + s.size() % 2) + s.substr(s.size() / 2, s.size() % 2) + s.substr(0, s.size() / 2); break;\n\t\t\t\tcase'A':reverse(s.begin(), s.end()); break;\n\t\t\t\tcase'M':transform(s.begin(), s.end(), s.begin(), [](char c) {\n\t\t\t\t\tif (c == '9')return'0';\n\t\t\t\t\tif ('0' <= c&&c < '9')return ++c;\n\t\t\t\t}); break;\n\t\t\t\tcase'P':transform(s.begin(), s.end(), s.begin(), [](char c) {\n\t\t\t\t\tif (c == '0')return'9';\n\t\t\t\t\tif ('0' < c&&c <= '9')return --c;\n\t\t\t\t}); break;\n\t\t\t\t}\n\t\t\t}\n\t\t\tcout << s << endl;\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <string.h>\n#include <stdlib.h>\n#include <ctype.h>\n#include <ctype.h>\nvoid getline_2(char s[], int lim);\n\n\nint main(){\n\n\n// 各種変数宣言                                                                                  \n\n\n// データ、バッファ、解の配列宣言 ;                                                              \n\n// メインループ                                                                                  \n    char line,c[100],k,f;\n    int i,l,j,countm=0,m,n,a,num,x,y;\n\n    //printf( \"nは？：\" );                                                                       \n    scanf( \" %d\", &n);\n    (void)getchar();\n\n    for(x=0;x<n;x++){\n        char order[100]={};\n        char message[100]={};\n        char buff[100]={};\n        //printf( \"1~6文字の文字列を入力してください：\" );                                       \n        getline_2(order, 10);\n\n        y=strlen(order);\n\n        //printf( \"1~25文字の文字列を入力してください：\" );                                      \n        getline_2(message, 30);\n\n\n\n        for(l=y-1;l>=0;l--){\n            switch (order[l]) {\n                case 'J' :\n                    m=strlen(message);\n                    k=message[m-1];\n                    for(j=m-1;j>0;j--){\n                        message[j]=message[j-1];\n                    }\n                    message[0]=k;\n                    break;\n\n                case 'C' :\n\n\n                    k=message[0];\n                    m=strlen(message);\n                    for(j=1;j<m;j++){\n                        message[j-1]=message[j];\n                    }\n                    message[m-1]=k;\n                    break;\n\n                case 'E' :\n                    m=strlen(message);\n                    if(m%2){\n                        f=m/2+1;\n                        for(j=0;j<f-1;j++){\n                            buff[j+f]=message[j];\n                        }\n                        for(j=f;j<m;j++){\n                            message[j-f]=message[j];}\n                        for(j=f;j<m;j++){\n                            message[j]=buff[j];}\n                    }\n                    else{\n                        f=m/2;\n                        for(j=0;j<f;j++){\n                            buff[j+f]=message[j];\n                        }\n                        for(j=f;j<m;j++){\n                            message[j-f]=message[j];}\n                        for(j=f;j<m;j++){\n                            message[j]=buff[j];}\n\n                    }break;\n                case 'A' :\n                    m=strlen(message);\n                    for (j = 0; j < m/2; j++) {\n                        k = message[j];\n                        message[j] = message[m-1-j];\n                        message[m-1-j] = k;\n                    }\n                    break;\n\n                case 'P':\n\n                    m=strlen(message);\n                    for (j=0;j<m;j++){\n                        if( isalpha(message[j]) == 0 ){\n                            if(message[j]=='0'){\n                                message[j]='9';\n                            }else\n                                message[j]=message[j]-1;\n                        }}\n                    break;\n                case 'M':\n\n\n                    m=strlen(message);\n                    for (j=0;j<m;j++){\n                        if( isalpha(message[j]) == 0 ){\n                            if(message[j]=='9'){\n                                message[j]='0';\n                            }else\n                                message[j]=message[j]+1;\n                        }}\n                    break;\n\n                default:\n                    break;\n            }\n            //for(i=0;i<26;i++)printf(\"%c\",message[i]);                                          \n            //printf(\"\\n\");                                                                      \n        }\n        //        for(i=0;i<26;i++)printf(\"%c\",message[i]);                                      \n        //printf(\"\\n\");                                                                          \n        printf(\"%s\\n\", message);\n    }\n    return 0 ;\n}\n\nvoid getline_2(char s[], int lim){\n    int c, i;       //getcharからの受け取り用変数c、ループ用変数i                                \n    for (i = 0; i < lim - 1 && (c = getchar()) != '\\n'; ++i){\n        s[i] = c;\n        //格納の確認                                                                             \n    }\n\n\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <cstring>\n#include <string>\n#include <algorithm>\n#include <iomanip>\n#include <cmath>\n#include <cassert>\nusing namespace std;\n\nstring J(string s) {\n\treturn  s.back() + s.substr(0, s.size() - 1);\n}\n\nstring C(string s) {\n\treturn  s.substr(1, s.size() - 1) + s.front();\n}\n\nstring E(string s) {\n\tstring ret;\n\tif(s.size() % 2) {\n\t\tfor(int i = s.size() / 2 + 1; i < s.size(); i++) {\n\t\t\tret += s[i];\n\t\t}\n\t\tret += s[s.size() / 2];\n\t\tfor(int i = 0; i < s.size() / 2; i++) {\n\t\t\tret += s[i];\n\t\t}\n\t}\n\telse {\n\t\tfor(int i = s.size() / 2; i < s.size(); i++) {\n\t\t\tret += s[i];\n\t\t}\n\t\tfor(int i = 0; i < s.size() / 2; i++) {\n\t\t\tret += s[i];\n\t\t}\n\t}\n\treturn ret;\n}\n\nstring A(string s) {\n\treverse(s.begin(), s.end());\n\treturn s;\n}\n\nstring P(string s) {\n\tfor(int i = 0; i < s.size(); i++) {\n\t\tif(!isalpha(s[i])) {\n\t\t\ts[i] = '0' + (s[i] - '0' + 9) % 10;\n\t\t}\n\t}\n\treturn s;\n}\n\nstring M(string s) {\n\tfor(int i = 0; i < s.size(); i++) {\n\t\tif(!isalpha(s[i])) {\n\t\t\ts[i] = '0' + (s[i] - '0' + 1) % 10;\n\t\t}\n\t}\n\treturn s;\n}\n\nint main() {\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\tint n;\n\tcin >> n;\n\tfor(int loop = 0; loop < n; loop++) {\n\t\tstring s, t;\n\t\tcin >> s >> t;\n\t\tfor(int i = s.size() - 1; i >= 0; i--) {\n\t\t\tchar c = s[i];\n\t\t\tif(c == 'J') t = J(t);\n\t\t\tif(c == 'C') t = C(t);\n\t\t\tif(c == 'E') t = E(t);\n\t\t\tif(c == 'A') t = A(t);\n\t\t\tif(c == 'P') t = P(t);\n\t\t\tif(c == 'M') t = M(t);\n\t\t}\n\n\t\tcout << t << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstring>\n#include <string>\n#include <algorithm>\n\nusing namespace std;\n\nint main(){\n    int n;\n    cin >> n;\n\n    for(int i=0;i<n;++i){\n        string m;\n        string pat;\n\n        cin >> m >> pat;\n        reverse(m.begin(), m.end());\n        int sz = pat.size();\n        for(int j=0;j<m.size();j++){\n            if(m[j] == 'A'){\n                reverse(pat.begin(), pat.end());\n            }else if(m[j] == 'M'){\n                for(int k=0;k<pat.size();++k){\n                    if(pat[k] == '9'){\n                        pat[k] = '0';\n                    }else if('0' <= pat[k] && pat[k] <= '8'){\n                        pat[k]++;\n                    }\n                }\n            }else if(m[j] == 'P'){\n                for(int k=0;k<pat.size();++k){\n                    if(pat[k] == '0'){\n                        pat[k] = '9';\n                    }else if('1' <= pat[k] && pat[k] <= '9'){\n                        pat[k]--;\n                    }\n                }\n            }else if(m[j] == 'C'){\n                pat += pat[0];\n                pat = pat.substr(1,sz);\n            }else if(m[j] == 'J'){\n                string tmp = \"\";\n                tmp += pat[sz-1];\n                tmp += pat.substr(0,sz-1);\n                pat = tmp;\n            }else if(m[j] == 'E'){\n                string pre=\"\",suf=\"\", mid=\"\";\n                for(int k=0;k<sz/2;++k){\n                    pre += pat[k];\n                }\n                if(sz % 2 == 1){\n                    mid += pat[sz/2];\n                }\n                for(int k=(sz+1)/2;k<sz;++k){\n                    suf += pat[k];\n                }\n                pat = suf + mid + pre;\n            }\n        }\n        cout << pat << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <map>\n#include <string>\n#include <cstring>\nusing namespace std;\ntypedef long long int ll;\n\nvoid solve(){\n\tstring s,t; cin >> s >> t;\n\treverse(s.begin(),s.end());\n\tint n=t.size();\n\tfor(char c:s){\n\t\tif(c=='J'){\n\t\t\tt=t.substr(n-1,1)+t.substr(0,n-1);\n\t\t}\n\t\tif(c=='C'){\n\t\t\tt=t.substr(1,n-1)+t.substr(0,1);\n\t\t}\n\t\tif(c=='E'){\n\t\t\tt=t.substr(t.size()-t.size()/2)+t.substr(t.size()/2,t.size()%2)+t.substr(0,t.size()/2);\n\t\t}\n\t\tif(c=='A'){\n\t\t\treverse(t.begin(),t.end());\n\t\t}\n\t\tif(c=='P'){\n\t\t\tfor(int i=0;i<n;i++){\n\t\t\t\tif('0'<=t[i]&&t[i]<='9'){\n\t\t\t\t\tif(t[i]=='0')t[i]+=9;\n\t\t\t\t\telse t[i]--;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(c=='M'){\n\t\t\tfor(int i=0;i<n;i++){\n\t\t\t\tif('0'<=t[i]&&t[i]<='9'){\n\t\t\t\t\tif(t[i]=='9')t[i]-=9;\n\t\t\t\t\telse t[i]++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tcout << t << endl;\n}\n\nint main(){\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\tint q; cin >> q;\n\twhile(q--){\n\t\tsolve();\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\nusing namespace std;\n\nint main()\n{\n  int n;\n  string s, m;\n  cin >> n;\n  for(int i = 0; i < n; i++)\n  {\n    cin >> m >> s;\n    for(int j = m.length() - 1; j >= 0; j--)\n    {\n      switch(m[j])\n      {\n        case 'C':\n          s = s.substr(1, s.length() - 1) + s[0];\n          break;\n        case 'J':\n          s = s[s.length() - 1] + s.substr(0, s.length() - 1);\n          break;\n        case 'E':\n          {\n            int a = s.length() / 2, b = s.length() % 2;\n            s = s.substr(a + b, a) + s.substr(a, b) + s.substr(0, a);\n          }\n          break;\n        case 'A':\n          reverse(s.begin(), s.end());\n          break;\n        case 'M':\n          for(int k = 0; k < s.length(); k++)\n            if(s[k] >= '0' && s[k] <= '9')\n              s[k] = (s[k] - '0' + 1) % 10 + '0';\n          break;\n        case 'P':\n          for(int k = 0; k < s.length(); k++)\n            if(s[k] >= '0' && s[k] <= '9')\n              s[k] = (s[k] - '0' + 9) % 10 + '0';\n          break;\n      }\n    }\n    cout << s << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "null"
  },
  {
    "language": "C++",
    "code": "//pku 2041\n//std::stringのれんしぅでしゅ\n \n#include <iostream>\n#include <algorithm>\n#define between(n,x,m) (((n)<=(x))&&((x)<=(m)))\nusing namespace std;\n\nvoid J(string &str){rotate(str.begin(),str.begin()+(str.size()-1),str.end());}\nvoid C(string &str){rotate(str.begin(),str.begin()+1,str.end());}\nvoid E(string &str){\n\tint i=(str.size())/2;\n\tstring tmp=str;\n\tstr.replace(0,i,tmp,str.length()-i,i);\n\tstr.replace(str.length()-i,i,tmp,0,i);\n}\n\nvoid A(string &str){reverse(str.begin(),str.end());}\n\nvoid P(string &str){\n\tint i=str.size();\n\tfor(;i>=0;--i){\n\t\tif(between('0',str[i],'9')){\n\t\t\tstr[i]--;\n\t\t\tif(str[i]=='/')str[i]='9';\n\t\t}\n\t}\n}\n\nvoid M(string &str){\n\tint i=str.size();\n\tfor(;i>=0;--i){\n\t\tif(between('0',str[i],'9')){\n\t\t\tstr[i]++;\n\t\t\tif(str[i]==':')str[i]='0';\n\t\t}\n\t}\n}\n\n\nstruct x{\n\tstring &str;\n\tx(string &_str):str(_str){}\n\tvoid operator()(char c){\n\t\tswitch(c){\n\t\t\tcase 'J': J(str);break;\n\t\t\tcase 'C': C(str);break;\n\t\t\tcase 'E': E(str);break;\n\t\t\tcase 'A': A(str);break;\n\t\t\tcase 'P': P(str);break;\n\t\t\tdefault:  M(str);break;\n\t\t}\n\t}\n};\n\nint main(){\n\tstring filter,str;\n\tint n;\n\tfor(cin>>n;n--;cout<<str<<endl){\n\t\tcin>>filter>>str;\n\t\tfor_each(filter.rbegin(), filter.rend(), x(str));\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n\nint main()\n{\n\tint n;\n\tstring intro,str;\n\tcin >> n;\n\tfor (int i = 0; i < n; i++) {\n\t\tcin >> intro >> str;\n\t\tfor (int j = intro.length() - 1; j >= 0; j--) {\n\t\t\tswitch (intro[j])\n\t\t\t{\n\t\t\tcase 'A': {\n\t\t\t\tstring res;\n\t\t\t\tres.reserve(str.length());\n\t\t\t\tfor (int k = str.length() - 1; k >= 0; k--) {\n\t\t\t\t\tres.push_back(str[k]);\n\t\t\t\t}\n\t\t\t\tstr = res;\n\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'C': {\n\t\t\t\tstring res;\n\t\t\t\tres.reserve(str.length());\n\t\t\t\tfor (int k = 0; k < str.length(); k++) {\n\t\t\t\t\tres.push_back(str[(k + 1) % str.length()]);\n\t\t\t\t}\n\t\t\t\tstr = res;\n\t\t\t}\n\t\t\t\t\t  break;\n\t\t\tcase 'E': {\n\t\t\t\tstring res;\n\t\t\t\tres.reserve(str.length());\n\t\t\t\tfor (int k = 0; k < str.length(); k++) {\n\t\t\t\t\tif (k < str.length() / 2) {\n\t\t\t\t\t\tres.push_back(str[k + str.length() - str.length() / 2]);\n\t\t\t\t\t}\n\t\t\t\t\telse if (k >= str.length() - str.length() / 2) {\n\t\t\t\t\t\tres.push_back(str[k - (str.length() - str.length() / 2)]);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tres.push_back(str[k]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tstr = res;\n\t\t\t}\n\t\t\t\t\t  break;\n\t\t\tcase 'J': {\n\t\t\t\tstring res;\n\t\t\t\tres.reserve(str.length());\n\t\t\t\tfor (int k = 0; k < str.length(); k++) {\n\t\t\t\t\tres.push_back(str[(k + str.length() - 1) % str.length()]);\n\t\t\t\t}\n\t\t\t\tstr = res;\n\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'M': {\n\t\t\t\tfor (int k = 0;k < str.length(); k++) {\n\t\t\t\t\tif (str[k] <= '9' && str[k] >= '0') {\n\t\t\t\t\t\tstr[k] = '0' + (str[k] - '0' + 1) % 10;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'P': {\n\t\t\t\tfor (int k = 0; k < str.length(); k++) {\n\t\t\t\t\tif (str[k] <= '9' && str[k] >= '0') {\n\t\t\t\t\t\tstr[k] = '0' + (str[k] - '0' + 9) % 10;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tcout << str << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\nusing namespace std;\n\nstring V,W;\nint n;\n\nstring J(string S) {\n\tstring T = \"\";\n\tT = S[S.size() - 1] + S.substr(0, S.size() - 1);\n\treturn T;\n}\n\nstring C(string S) {\n\tstring T = \"\";\n\tT = S.substr(1, S.size() - 1) + S[0];\n\treturn T;\n}\n\nstring E(string S) {\n\tstring T = \"\";\n\tT += S.substr(S.size() - (S.size() / 2), S.size() / 2);\n\tif (S.size() % 2 == 1) { S += S[S.size() / 2]; }\n\tT += S.substr(0, S.size() / 2);\n\treturn T;\n}\n\nstring A(string S) {\n\tstring T = \"\";\n\tfor (int k = S.size() - 1; k >= 0; k--) {\n\t\tT += S[k];\n\t}\n\treturn T;\n}\n\nstring P(string S) {\n\tstring T = \"\";\n\tfor (int k = 0; k < S.size(); k++) {\n\t\tif (isdigit(S[k]) == true) {\n\t\t\tT += (S[k] - 1);\n\t\t\tif (T[k] < '0') {\n\t\t\t\tT[k] += 10;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tT[k] += S[k];\n\t\t}\n\t}\n\treturn T;\n}\n\nstring M(string S) {\n\tstring T = \"\";\n\tfor (int k = 0; k < S.size(); k++) {\n\t\tif (isdigit(S[k]) == true) {\n\t\t\tT += (S[k] + 1);\n\t\t\tif (T[k] > '9') {\n\t\t\t\tT[k] -= 10;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tT[k] += S[k];\n\t\t}\n\t}\n\treturn T;\n}\n\nstring message(string S, string T) {\n\tfor (int j = S.size() - 1; j >= 0; j--) {\n\t\tif (S[j] == 'J') {\n\t\t\tT = J(T);\n\t\t}\n\t\tif (S[j] == 'C') {\n\t\t\tT = C(T);\n\t\t}\n\t\tif (S[j] == 'E') {\n\t\t\tT = E(T);\n\t\t}\n\t\tif (S[j] == 'A') {\n\t\t\tT = A(T);\n\t\t}\n\t\tif (S[j] == 'P') {\n\t\t\tT = P(T);\n\t\t}\n\t\tif (S[j] == 'M') {\n\t\t\tT = M(T);\n\t\t}\n\t}\n\treturn T;\n}\n\nint main() {\n\tcin >> n;\n\tfor (int i = 0; i < n; i++) {\n\t\tcin >> V >> W;\n\t\tcout << message(V, W) << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\nusing namespace std;\n\nint main()\n{\n  int n;\n  string s, m;\n  cin >> n;\n  for(int i = 0; i < n; i++)\n  {\n    cin >> m >> s;\n    for(int j = m.length() - 1; j >= 0; j--)\n    {\n      switch(m[j])\n      {\n        case 'C':\n          s = s.substr(1, s.length() - 1) + s[0];\n          break;\n        case 'J':\n          //s = s[s.length() - 1] + s.substr(0, s.length() - 1);\n          break;\n        case 'E':\n          {\n            int a = s.length() / 2, b = s.length() % 2;\n            //s = s.substr(a + b, a) + (b ? s.substr(a + 1, 1) : \"\") + s.substr(0, a);\n          }\n          break;\n        case 'A':\n          //reverse(s.begin(), s.end());\n          break;\n        case 'M':\n          for(int k = 0; k < s.length(); k++)\n            if(s[k] >= '0' && s[k] <= '9')\n              s[k] = (s[k] - '0' + 1) % 10 + '0';\n          break;\n        case 'P':\n          for(int k = 0; k < s.length(); k++)\n            if(s[k] >= '0' && s[k] <= '9')\n              s[k] = (s[k] - '0' - 1) % 10 + '0';\n          break;\n      }\n    }\n    cout << s << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<vector>\n#include<string>\n#include<functional>\n#include<queue>\n#include<algorithm>\n#include<complex>\n#include<cstdlib>\n#include<cctype>\n\n#define REP(i,n) for(int i = 0;i < (n);i++)\n#define PB push_back\n#define MP make_pair\n#define FI first\n#define SE second\n#define SHOW1d(v,n) {for(int i = 0;i < (n);i++)cout << v[i] << ' ';cout << endl << endl;}\n#define SHOW2d(v,i,j) {for(int a = 0;a < i;a++){for(int b = 0;b < j;b++)cout << v[a][b] << ' ';cout << endl;}cout << endl;}\n#define ALL(v) v.begin(),v.end()\n#define DBG cout << '!' << endl;\n\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef vector<int> iv;\ntypedef vector<iv> iiv;\ntypedef vector<string> sv;\n\nstring j(string str)\n{\n\t\n\tstring ret = \"\";\n\tret.PB(str[str.size()-1]);\n\tREP(i,str.size()-1)\n\t{\n\t\tret.PB(str[i]);\n\t}\n\t\n\treturn ret;\n\t\n}\n\nstring c(string str)\n{\n\t\n\tstring ret = \"\";\n\t\n\tfor(int i = 1;i < str.size();i++)\n\t{\n\t\tret.PB(str[i]);\n\t}\n\tret.PB(str[0]);\n\t\n\treturn ret;\n\t\n}\n\nstring e(string str)\n{\n\tint len = str.size()/2;\n\t//cout << len << endl;\n\tstring tmp1 = str.substr(0,len);\n\tstring tmp2 = str.substr(str.size()-len,str.size());\n\tstring ret = \"\";\n\tret += tmp2;\n\tif(str.size()%2 == 1)\n\t{\n\t\tret += str[len];\n\t}\n\tret += tmp1;\n\t\n\treturn ret;\n}\n\nstring a(string str)\n{\n\treverse(ALL(str));\n\t\n\treturn str;\n}\n\nstring p(string str)\n{\n\tREP(i,str.size())\n\t{\n\t\t if(isdigit(str[i]))\n\t\t {\n\t\t\t if(str[i] == '0')\n\t\t\t\t str[i] = '9';\n\t\t\t else\n\t\t\t\t str[i]--;\n\t\t }\n\t}\n\t\n\treturn str;\n}\n\nstring m(string str)\n{\n\t\tREP(i,str.size())\n\t{\n\t\t if(isdigit(str[i]))\n\t\t {\n\t\t\t if(str[i] == '9')\n\t\t\t\t str[i] = '0';\n\t\t\t else\n\t\t\t\t str[i]++;\n\t\t }\n\t}\n\t\n\treturn str;\n\n}\n\nint main()\n{\n\t\n\tint n;\n\tcin >> n;\n\t\n\tREP(aaa,n)\n\t{\n\t\tstring messenger,str;\n\t\tcin >> messenger >> str;\n\t\t\n\t\tfor(int i = messenger.size()-1;i >= 0;i--)\n\t\t{\n\t\t\tswitch(messenger[i])\n\t\t\t{\n\t\t\t\tcase 'J':str = j(str);break;\n\t\t\t\tcase 'C':str = c(str);break;\n\t\t\t\tcase 'E':str = e(str);break;\n\t\t\t\tcase 'A':str = a(str);break;\n\t\t\t\tcase 'P':str = p(str);break;\n\t\t\t\tcase 'M':str = m(str);break;\n\t\t\t}\n\t\t}\n\t\t\n\t\tcout << str << endl;\n\t\t\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n)for(int i=0;i<n;i++)\nusing namespace std;\n\nint main() {\n\tint n; cin >> n;\n\trep(i, n) {\n\t\tstring m, s; cin >> m >> s;\n\t\treverse(m.begin(), m.end());\n\t\tfor (char c : m) {\n\t\t\tswitch (c) {\n\t\t\tcase'C':rotate(s.begin(), ++s.begin(), s.end()); break;\n\t\t\tcase'J':rotate(s.begin(), --s.end(), s.end()); break;\n\t\t\tcase'E':s = s.substr(s.size() / 2 + s.size() % 2) + s.substr(s.size() / 2, s.size() % 2) + s.substr(0, s.size() / 2); break;\n\t\t\tcase'A':reverse(s.begin(), s.end()); break;\n\t\t\tcase'M':transform(s.begin(), s.end(), s.begin(), [](char c) {\n\t\t\t\tif (c == '9')return'0';\n\t\t\t\tif ('0' <= c&&c < '9')return ++c;\n\t\t\t}); break;\n\t\t\tcase'P':transform(s.begin(), s.end(), s.begin(), [](char c) {\n\t\t\t\tif (c == '0')return'9';\n\t\t\t\tif ('0' < c&&c <= '9')return --c;\n\t\t\t}); break;\n\t\t\t}\n\t\t}\n\t\tcout << s << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#ifdef __GNUC__\n#include <bits/stdc++.h>\n#else\n#define _CRT_SECURE_NO_WARNINGS\n#include <__msvc_all_public_headers.hpp>\n#undef min\n#undef max\n#endif\n#define rep(i, n) for (int i = 0; i < (n); ++i)\n#define FOR(i, m, n) for (int i = (m); i < (n); ++i)\n#define rrep(i, n) for (int i = (n) - 1; i >= 0; --i)\n#define rfor(i, m, n) for (int i = (m); i >= (n); --i)\n#define sz(x) ((int)(x).size())\n#define all(x) (x).begin(),(x).end()\n#define rall(x) (x).rbegin(),(x).rend()\n#define range_it(a, l, r) (a).begin() + (l), (a).begin() + (r)\n\nusing namespace std;\nusing ll = long long;\t\tusing ld = long double;\nusing VB = vector<bool>;\tusing VVB = vector<VB>;\nusing VI = vector<int>;\t\tusing VVI = vector<VI>;\nusing VL = vector<ll>;\t\tusing VVL = vector<VL>;\nusing VS = vector<string>;\tusing VD = vector<ld>;\nusing PII = pair<int, int>;\tusing VP = vector<PII>;\nusing PLL = pair<ll, ll>;\tusing VPL = vector<PLL>;\ntemplate<class T>using PQ = priority_queue<T>;\ntemplate<class T>using PQS = priority_queue<T, vector<T>, greater<T>>;\nconstexpr int inf = (int)1e9;\nconstexpr ll inf_ll = (ll)1e18, MOD = 1000000007;\nconstexpr ld PI = M_PI, EPS = 1e-12;\n\n// --- input --- //\n#ifdef _WIN32\n#define getchar_unlocked _getchar_nolock\n#define putchar_unlocked _putchar_nolock\n#define fwrite_unlocked _fwrite_nolock\n#define fflush_unlocked _fflush_nolock\n#endif\ninline int gc() { return getchar_unlocked(); }\ntemplate<class T>inline void InputF(T& v) { cin >> v; }\ninline void InputF(char& v) { while (isspace(v = gc())); }\ninline void InputF(bool& v) { char c; InputF(c); v = c != '0'; }\ninline void InputF(string& v) {\n\tchar c; for (InputF(c); !isspace(c); c = gc())v += c;\n}\ninline void InputF(int& v) {\n\tbool neg = false; v = 0; char c; InputF(c);\n\tif (c == '-') { neg = true; c = gc(); }\n\tfor (; isdigit(c); c = gc())v = v * 10 + (c - '0');\n\tif (neg)v = -v;\n}\ninline void InputF(long long& v) {\n\tbool neg = false; v = 0; char c; InputF(c);\n\tif (c == '-') { neg = true; c = gc(); }\n\tfor (; isdigit(c); c = gc())v = v * 10 + (c - '0');\n\tif (neg)v = -v;\n}\ninline void InputF(double& v) {\n\tdouble dp = 1; bool neg = false, adp = false; v = 0; char c; InputF(c);\n\tif (c == '-') { neg = true; c = gc(); }\n\tfor (; isdigit(c) || c == '.'; c = gc()) {\n\t\tif (c == '.')adp = true;\n\t\telse if (adp)v += (c - '0') * (dp *= 0.1);\n\t\telse v = v * 10 + (c - '0');\n\t}\n\tif (neg)v = -v;\n}\ntemplate<class T, class U>inline void InputF(pair<T, U>& v) {\n\tInputF(v.first); InputF(v.second);\n}\ntemplate<class T>inline void InputF(vector<T>& v) {\n\tfor (auto& e : v)InputF(e);\n}\ntemplate<class T>inline T InputF() { T v; InputF(v); return v; }\nstruct InputV {\n\tint n, m;\n\tInputV(int N) :n(N), m(0) {}\n\tInputV(pair<int, int> N) :n(N.first), m(N.second) {}\n\ttemplate<class T>operator vector<T>() {\n\t\tvector<T> v(n); InputF(v); return v;\n\t}\n\ttemplate<class T>operator vector<vector<T>>() {\n\t\tvector<vector<T>> v(n, vector<T>(m)); InputF(v); return v;\n\t}\n};\nstruct Input {\n\ttemplate<class T>operator T() { return InputF<T>(); }\n\tint operator--(int) { int v; InputF(v); v--; return v; }\n\tInputV operator[](int n) { return InputV(n); }\n\tInputV operator[](pair<int, int> n) { return InputV(n); }\n\tvoid operator()() {}\n\ttemplate<class H, class...T>void operator()(H&& h, T&& ...t) {\n\t\tInputF(h); operator()(forward<T>(t)...);\n\t}\n\ttemplate<class T>Input& operator,(T&& v) {\n\t\tInputF(v); return *this;\n\t}\n}in;\n#define input(T) InputF<T>()\n#define ini input(int)\n#define inl input(ll)\n#define ins input(string)\n#define inputs(T, ...) T __VA_ARGS__; in(__VA_ARGS__)\n#define INT(...) inputs(int, __VA_ARGS__)\n#define LL(...) inputs(ll, __VA_ARGS__)\n#define STR(...) inputs(string, __VA_ARGS__)\n\n// --- output --- //\nstruct BoolStr {\n\tconst char* t, * f; BoolStr(const char* _t, const char* _f) :t(_t), f(_f) {}\n}Yes(\"Yes\", \"No\"), yes(\"yes\", \"no\"), YES(\"YES\", \"NO\"), Int(\"1\", \"0\");\nstruct DivStr {\n\tconst char* d, * l; DivStr(const char* _d, const char* _l) :d(_d), l(_l) {}\n}spc(\" \", \"\\n\"), no_spc(\"\", \"\\n\"), end_line(\"\\n\", \"\\n\"), comma(\",\", \"\\n\"), no_endl(\" \", \"\");\nclass Output {\n\tBoolStr B{ Yes }; DivStr D{ spc };\n\tvoid p(int v) {\n\t\tif (v < 0)putchar_unlocked('-'), v = -v;\n\t\tchar b[10]; int n = 0;\n\t\twhile (v)b[n++] = '0' + v % 10, v /= 10;\n\t\tif (!n)b[n++] = '0';\n\t\twhile (n--)putchar_unlocked(b[n]);\n\t}\n\tvoid p(ll v) {\n\t\tif (v < 0)putchar_unlocked('-'), v = -v;\n\t\tchar b[20]; int n = 0;\n\t\twhile (v)b[n++] = '0' + v % 10, v /= 10;\n\t\tif (!n)b[n++] = '0';\n\t\twhile (n--)putchar_unlocked(b[n]);\n\t}\n\tvoid p(bool v) { p(v ? B.t : B.f); }\n\tvoid p(char v) { putchar_unlocked(v); }\n\tvoid p(const char* v) { fwrite_unlocked(v, 1, strlen(v), stdout); }\n\tvoid p(double v) { printf(\"%.20f\", v); }\n\tvoid p(ld v) { printf(\"%.20Lf\", v); }\n\ttemplate<class T> void p(const T& v) { cout << v; }\n\ttemplate<class T, class U>void p(const pair<T, U>& v) { p(v.first); p(D.d); p(v.second); }\n\ttemplate<class T>void p(const vector<T>& v) { rep(i, sz(v)) { if (i)p(D.d); p(v[i]); } }\n\ttemplate<class T>void p(const vector<vector<T>>& v) { rep(i, sz(v)) { if (i)p(D.l); p(v[i]); } }\npublic:\n\tOutput& operator()() { p(D.l); return *this; }\n\ttemplate<class H>Output& operator()(H&& h) { p(h); p(D.l); return *this; }\n\ttemplate<class H, class...T>Output& operator()(H&& h, T&& ...t) {\n\t\tp(h); p(D.d); return operator()(forward<T>(t)...);\n\t}\n\ttemplate<class...T>void exit(T&& ...t) { operator()(forward<T>(t)...); std::exit(EXIT_SUCCESS); }\n\tOutput& flush() { fflush_unlocked(stdout); return *this; }\n\tOutput& set(const BoolStr& b) { B = b; return *this; }\n\tOutput& set(const DivStr& d) { D = d; return *this; }\n\tOutput& set(const char* t, const char* f) { B = BoolStr(t, f); return *this; }\n}out;\n\n// --- step --- //\ntemplate<class T>struct Step {\n\tclass It {\n\t\tT a, b, c;\n\tpublic:\n\t\tconstexpr It() : a(T()), b(T()), c(T()) {}\n\t\tconstexpr It(T _b, T _c, T _s) : a(_b), b(_c), c(_s) {}\n\t\tconstexpr It& operator++() { --b; a += c; return *this; }\n\t\tconstexpr It operator++(int) { It tmp = *this; --b; a += c; return tmp; }\n\t\tconstexpr const T& operator*()const { return a; }\n\t\tconstexpr const T* operator->()const { return &a; }\n\t\tconstexpr bool operator==(const It& i)const { return b == i.b; }\n\t\tconstexpr bool operator!=(const It& i)const { return !(b == i.b); }\n\t\tconstexpr T start()const { return a; }\n\t\tconstexpr T count()const { return b; }\n\t\tconstexpr T step()const { return c; }\n\t};\n\tconstexpr Step(T b, T c, T s) : be(b, c, s) {}\n\tconstexpr It begin()const { return be; }\n\tconstexpr It end()const { return en; }\n\tconstexpr T start()const { return be.start(); }\n\tconstexpr T count()const { return be.count(); }\n\tconstexpr T step()const { return be.step(); }\n\tconstexpr T sum()const { return start() * count() + step() * (count() * (count() - 1) / 2); }\n\toperator vector<T>()const { return as_vector(); }\n\tvector<T> as_vector()const {\n\t\tvector<T> res; res.reserve(count()); each([&](T i) {res.push_back(i); }); return res;\n\t}\n\ttemplate<class F>void each(const F& f)const { for (T i : *this)f(i); }\n\ttemplate<class F>auto map(const F& f)const {\n\t\tvector<decay_t<result_of_t<F(T)>>> res; res.reserve(count());\n\t\teach([&](T i) {res.push_back(f(i)); }); return res;\n\t}\n\ttemplate<class F>int count_if(const F& f)const {\n\t\tint res = 0; each([&](T i) {res += static_cast<bool>(f(i)); }); return res;\n\t}\n\ttemplate<class F>vector<T> select(const F& f)const {\n\t\tvector<T> res; each([&](T i) {if (f(i))res.push_back(i); }); return res;\n\t}\n\ttemplate<class F>auto max(const F& f)const {\n\t\tauto v = map(f); return *max_element(v.begin(), v.end());\n\t}\n\ttemplate<class F>auto min(const F& f)const {\n\t\tauto v = map(f); return *min_element(v.begin(), v.end());\n\t}\n\ttemplate<class F, class U = decay_t<result_of_t<F(T)>>>auto sum(const F& f)const {\n\t\tU res = 0; each([&](T i) {res += static_cast<U>(f(i)); }); return res;\n\t}\n\tusing value_type = T;\n\tusing iterator = It;\nprivate:\n\tIt be, en;\n};\ntemplate<class T>inline constexpr auto step(T a) { return Step<T>(0, a, 1); }\ntemplate<class T>inline constexpr auto step(T a, T b) { return Step<T>(a, b - a, 1); }\ntemplate<class T>inline constexpr auto step(T a, T b, T c) { return Step<T>(a, a < b ? (b - a - 1) / c + 1 : 0, c); }\n\n// --- functions --- //\ninline namespace {\n\ttemplate<class T>inline void Sort(T& a) { sort(all(a)); }\n\ttemplate<class T>inline void RSort(T& a) { sort(rall(a)); }\n\ttemplate<class T>inline T Sorted(T a) { Sort(a); return a; }\n\ttemplate<class T>inline T RSorted(T a) { RSort(a); return a; }\n\ttemplate<class T, class F>inline void Sort(T& a, const F& f) {\n\t\tsort(all(a), [&](const auto& x, const auto& y) {return f(x) < f(y); });\n\t}\n\ttemplate<class T, class F>inline void RSort(T& a, const F& f) {\n\t\tsort(rall(a), [&](const auto& x, const auto& y) {return f(x) < f(y); });\n\t}\n\ttemplate<class T>inline void Reverse(T& a) { reverse(all(a)); }\n\ttemplate<class T>inline void Unique(T& a) { a.erase(unique(all(a)), a.end()); }\n\ttemplate<class T>inline void Rotate(T& a, int left) { rotate(a.begin(), a.begin() + left, a.end()); }\n\ttemplate<class T>inline T Reversed(T a) { Reverse(a); return a; }\n\ttemplate<class T>inline T Uniqued(T a) { Unique(a); return a; }\n\ttemplate<class T>inline T Rotated(T a, int left) { Rotate(a, left); return a; }\n\ttemplate<class T>inline auto Max(const T& a) { return *max_element(all(a)); }\n\ttemplate<class T>inline auto Min(const T& a) { return *min_element(all(a)); }\n\ttemplate<class T>inline int MaxPos(const T& a) { return max_element(all(a)) - a.begin(); }\n\ttemplate<class T>inline int MinPos(const T& a) { return min_element(all(a)) - a.begin(); }\n\ttemplate<class T, class F>inline auto Max(const T& a, const F& f) {\n\t\treturn *max_element(all(a), [&](const auto& x, const auto& y) {return f(x) < f(y); });\n\t}\n\ttemplate<class T, class F>inline auto Min(const T& a, const F& f) {\n\t\treturn *min_element(all(a), [&](const auto& x, const auto& y) {return f(x) < f(y); });\n\t}\n\ttemplate<class T, class U>inline int Count(const T& a, const U& v) { return count(all(a), v); }\n\ttemplate<class T, class F>inline int CountIf(const T& a, const F& f) { return count_if(all(a), f); }\n\ttemplate<class T, class U>inline int Find(const T& a, const U& v) { return find(all(a), v) - a.begin(); }\n\ttemplate<class T, class F>inline int FindIf(const T& a, const F& f) { return find_if(all(a), f) - a.begin(); }\n\ttemplate<class T, class U = typename T::value_type>inline U Sum(const T& a) { return accumulate(all(a), U()); }\n\ttemplate<class T, class F>inline auto Sum(const T& v, const F& f) {\n\t\treturn accumulate(next(v.begin()), v.end(), f(v.front()), [&](auto a, auto b) {return a + f(b); });\n\t}\n\ttemplate<class T, class U>inline int Lower(const T& a, const U& v) { return lower_bound(all(a), v) - a.begin(); }\n\ttemplate<class T, class U>inline int Upper(const T& a, const U& v) { return upper_bound(all(a), v) - a.begin(); }\n\ttemplate<class T, class F>inline void RemoveIf(T& a, const F& f) { a.erase(remove_if(all(a), f), a.end()); }\n\ttemplate<class F>inline auto Vector(size_t size, const F& f) {\n\t\tvector<decay_t<result_of_t<F(size_t)>>> res(size); for (size_t i = 0; i < size; ++i)res[i] = f(i); return res;\n\t}\n\ttemplate<class T>inline auto Grid(size_t h, size_t w, const T& v = T()) { return vector<vector<T>>(h, vector<T>(w, v)); }\n\ttemplate<class T>inline auto Slice(const T& v, size_t i, size_t len) {\n\t\treturn i < v.size() ? T(v.begin() + i, v.begin() + min(i + len, v.size())) : T();\n\t}\n\ttemplate<class T, class F>inline auto Each(const T& v, const F& f) { for (auto& i : v)f(i); }\n\ttemplate<class T, class F>inline auto Select(const T& v, const F& f) {\n\t\tT res; for (const auto& e : v)if (f(e))res.push_back(e); return res;\n\t}\n\ttemplate<class T, class F>inline auto Map(const T& v, const F& f) {\n\t\tvector<decay_t<result_of_t<F(typename T::value_type)>>> res(v.size());\n\t\tsize_t i = 0; for (const auto& e : v)res[i++] = f(e); return res;\n\t}\n\ttemplate<class T, class F>inline auto MapIndex(const T& v, const F& f) {\n\t\tvector<decay_t<result_of_t<F(size_t, typename T::value_type)>>> res(v.size());\n\t\tsize_t i = 0; for (auto it = v.begin(); it != v.end(); ++it, ++i)res[i] = f(i, *it); return res;\n\t}\n\ttemplate<class T, class F>inline auto TrueIndex(const T& v, const F& f) {\n\t\tvector<size_t> res; for (size_t i = 0; i < v.size(); ++i)if (f(v[i]))res.push_back(i); return res;\n\t}\n\tinline string operator*(string s, size_t n) { string ret; for (size_t i = 0; i < n; ++i)ret += s; return ret; }\n\ttemplate<class T>inline T Ceil(T n, T m) { return (n + m - 1) / m; }\n\ttemplate<class T>inline T Ceil2(T n, T m) { return Ceil(n, m) * m; }\n\ttemplate<class T>inline T Tri(T n) { return (n & 1) ? (n + 1) / 2 * n : n / 2 * (n + 1); }\n\ttemplate<class T>inline T nC2(T n) { return (n & 1) ? (n - 1) / 2 * n : n / 2 * (n - 1); }\n\ttemplate<class T>inline T Mid(const T& l, const T& r) { return l + (r - l) / 2; }\n\ttemplate<class T>inline int pop_count(T n) { return bitset<64>(n).count(); }\n\ttemplate<class T>inline bool chmax(T& a, const T& b) { if (a < b) { a = b; return true; } return false; }\n\ttemplate<class T>inline bool chmin(T& a, const T& b) { if (a > b) { a = b; return true; } return false; }\n\ttemplate<class T>inline bool inRange(const T& v, const T& min, const T& max) { return min <= v && v < max; }\n\ttemplate<class T = ll>inline T BIT(int b) { return T{ 1 } << b; }\n\ttemplate<class T>inline T Gcd(T n, T m) { return m ? Gcd(m, n % m) : n; }\n\ttemplate<class T>inline T Lcm(T n, T m) { return n / Gcd(n, m) * m; }\n\ttemplate<class T, class U = typename T::value_type>inline U Gcdv(const T& v) {\n\t\treturn accumulate(next(v.begin()), v.end(), U(*v.begin()), Gcd<U>);\n\t}\n\ttemplate<class T, class U = typename T::value_type>inline U Lcmv(const T& v) {\n\t\treturn accumulate(next(v.begin()), v.end(), U(*v.begin()), Lcm<U>);\n\t}\n\ttemplate<class T>inline T Pow(T a, T n) { T r = 1; while (n > 0) { if (n & 1)r *= a; a *= a; n /= 2; } return r; }\n\ttemplate<class T>inline T Powmod(T a, T n, T m = MOD) {\n\t\tT r = 1; while (n > 0) { if (n & 1)r = r * a % m, n--; else a = a * a % m, n /= 2; }return r;\n\t}\n}\n\n// --- dump --- //\n#if __has_include(\"dump.hpp\")\n#include \"dump.hpp\"\n#else\n#define dump(...) ((void)0)\n#endif\n\n// ---------------------------------------------------------------- //\n\nstring l, mid, r;\nvoid op(string& s, char c) {\n\tint n = sz(s);\n\tswitch (c) {\n\tcase 'C':\n\t\tRotate(s, 1);\n\t\tbreak;\n\tcase 'J':\n\t\tRotate(s, n - 1);\n\t\tbreak;\n\tcase 'E':\n\t\tl = s.substr(0, n / 2);\n\t\tmid = s.substr(n / 2, n % 2);\n\t\tr = s.substr((n + 1) / 2);\n\t\ts = r + mid + l;\n\t\tbreak;\n\tcase 'A':\n\t\tReverse(s);\n\t\tbreak;\n\tcase 'M':\n\t\tfor (char& c : s) {\n\t\t\tif (isdigit(c)) {\n\t\t\t\tc = (c == '9') ? '0' : c + 1;\n\t\t\t}\n\t\t}\n\t\tbreak;\n\tcase 'P':\n\t\tfor (char& c : s) {\n\t\t\tif (isdigit(c)) {\n\t\t\t\tc = (c == '0') ? '9' : c - 1;\n\t\t\t}\n\t\t}\n\t\tbreak;\n\t}\n}\n\nint main() {\n\tfor (int t = in; t--;) {\n\t\tSTR(com, s);\n\t\trrep(i, sz(com)) {\n\t\t\top(s, com[i]);\n\t\t}\n\t\tout(s);\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <algorithm>\nusing std::swap;\n\nvoid J(char s[], int len){\n    char tmp = s[len-1];\n    for(int i=len-1;i>0;i--){\n        s[i] = s[i-1];\n    }s[0] = tmp;\n}\nvoid C(char s[], int len){\n    char tmp = s[0];\n    for(int i=0;i<len-1;i++){\n        s[i] = s[i+1];\n    }s[len-1] = tmp;\n}\nvoid E(char s[], int len){\n    int mid = len/2;\n    for(int i=0;i<mid;i++){\n        swap(s[i], s[len-mid+i]);\n    }\n}\nvoid A(char s[], int len){\n    char tmp = s[len-1];\n    for(int i=0;i<len-1-i;i++){\n        swap(s[i], s[len-1-i]);\n    }\n}\nvoid P(char s[], int len){\n    for(int i=0;i<len;i++){\n        if('0'<=s[i] && s[i]<='9'){\n            s[i] = '0'+(s[i]-'0'+9)%10;\n        }\n    }\n}\nvoid M(char s[], int len){\n    for(int i=0;i<len;i++){\n        if('0'<=s[i] && s[i]<='9'){\n            s[i] = '0'+(s[i]-'0'+1)%10;\n        }\n    }\n}\n\nint main(){\n    int N;\n    scanf(\"%d\", &N);\n    while(N--){\n        char s1[50], s2[50];\n        scanf(\"%s %s\", s1, s2);\n        int len1;\n        for(len1=0 ; s1[len1]!='\\0' ; len1++);\n        int len2;\n        for(len2=0 ; s2[len2]!='\\0' ; len2++);\n        \n        for(int i=len1-1;i>=0;i--){\n            if(s1[i] == 'J') J(s2, len2);\n            if(s1[i] == 'C') C(s2, len2);\n            if(s1[i] == 'E') E(s2, len2);\n            if(s1[i] == 'A') A(s2, len2);\n            if(s1[i] == 'P') P(s2, len2);\n            if(s1[i] == 'M') M(s2, len2);\n        }\n        printf(\"%s\\n\", s2);\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\nusing namespace std;\n\nvoid Mr_J(string *str){\n  \n  string s1,s2;\n  \n  s1=(*str).substr(0,1);\n  s2=(*str).substr(1);\n  \n  (*str)=s2+s1;\n  \n}\nvoid Miss_C(string *str){\n\n  string s1,s2;\n  \n  s1=(*str).substr(0,(*str).size()-1);\n  s2=(*str).substr((*str).size()-1);\n  \n  (*str)=s2+s1;\n  \n}\nvoid Mr_E(string *str){\n  \n  string s1,s2,s3;\n  \n  if((*str).size() % 2 == 0){\n    s1=(*str).substr(0,(*str).size()/2);\n    s2=(*str).substr((*str).size()/2);\n    (*str)=s2+s1;\n  }else{\n    s1=(*str).substr(0,(*str).size()/2);\n    s2=(*str).substr(((*str).size()/2)+1);\n    s3=(*str).substr((*str).size()/2,1);\n    (*str)=s2+s3+s1;\n  }\n  \n}\nvoid Mr_A(string *str){\n  \n  string s1;\n  \n  s1=\"\";\n  \n  for(int i=(*str).size()-1 ; i >= 0 ; i--){\n    s1+=(*str)[i];\n  }\n  \n  (*str)=s1;\n  \n}\nvoid Dr_P(string *str){\n  \n  for(int i=0 ; i < (*str).size() ; i++){\n    if((*str)[i] >= '0' && (*str)[i] <= '9'){\n      (*str)[i]=(*str)[i]+1;    \n      if((*str)[i] > '9')(*str)[i]='0';\n    }\n  }\n  \n}\nvoid Mr_M(string *str){\n  \n  for(int i=0 ; i < (*str).size() ; i++){\n    if((*str)[i] >= '0' && (*str)[i] <= '9'){\n      (*str)[i]=(*str)[i]-1;\n      if((*str)[i] < '0')(*str)[i]='9';\n    }\n  }\n}\nint main(){\n  \n  int n;\n  \n  cin >>n;\n  \n  for(int i=0 ; i < n ; i++){\n    string key,str;\n    cin >>key;\n    cin >>str;\n    for(int j=key.size()-1 ; j >= 0; j--){\n      switch(key[j]){\n      case 'J':\n\tMiss_C(&str);\n\tbreak;\n      case 'C':\n\tMr_J(&str);\n\tbreak;\n      case 'E':\n\tMr_E(&str);\n\tbreak;\n      case 'A':\n\tMr_A(&str);\n\tbreak;\n      case 'P':\n\tMr_M(&str);\n\tbreak;\n      case 'M':\n\tDr_P(&str);\n\tbreak;\n      }\n    }\n    cout <<str<<endl;\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n#include<unordered_map>\n#include<unordered_set>\n#pragma warning(disable:4996)\nusing namespace std;\nusing ld = long double;\ntemplate<class T>\nusing Table = vector<vector<T>>;\nconst ld eps=1e-9;\n\n//// < \"D:\\D_Download\\Visual Studio 2015\\Projects\\programing_contest_c++\\Debug\\a.txt\"\nint main() {\n\tint N; cin >> N;\n\twhile (N--) {\n\t\tstring st; cin >> st;\n\t\tstring aa; cin >> aa;\n\t\tfor (int i = 0; i < st.size(); ++i) {\n\t\t\tchar c = st[st.size() - 1 - i];\n\t\t\tif (c == 'A') {\n\t\t\t\treverse(aa.begin(), aa.end());\n\t\t\t}\n\t\t\telse if (c == 'C') {\n\t\t\t\trotate(aa.begin(), aa.begin() + 1, aa.end());\n\t\t\t}\n\t\t\telse if (c == 'M') {\n\t\t\t\tfor (auto& ac : aa) {\n\t\t\t\t\tif (isdigit(ac))ac = (ac - '0' + 1) % 10 + '0';\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (c == 'P') {\n\t\t\t\tfor (auto& ac : aa) {\n\t\t\t\t\tif (isdigit(ac))ac = (ac - '0' + 9) % 10 + '0';\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (c == 'E') {\n\t\t\t\tstring from = aa.substr(0,aa.size() / 2);\n\t\t\t\tstring to = aa.substr(aa.size()-aa.size() / 2,aa.size() / 2);\n\t\t\t\tif (aa.size() % 2)aa = to + aa[aa.size() / 2] + from;\n\t\t\t\telse aa = to + from;\n\t\t\t}\n\t\t\telse if (c == 'J') {\n\n\t\t\t\trotate(aa.begin(), aa.begin() + aa.size()-1, aa.end());\n\t\t\t}\n\t\t}\n\t\tcout << aa << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\nconst int INF = 1e9;\nconst ll LINF = 1e18;\ntemplate<class S,class T> ostream& operator << (ostream& out,const pair<S,T>& o){ out << \"(\" << o.first << \",\" << o.second << \")\"; return out; }\ntemplate<class T> ostream& operator << (ostream& out,const vector<T> V){ for(int i = 0; i < V.size(); i++){ out << V[i]; if(i!=V.size()-1) out << \" \";} return out; }\ntemplate<class T> ostream& operator << (ostream& out,const vector<vector<T> > Mat){ for(int i = 0; i < Mat.size(); i++) { if(i != 0) out << endl; out << Mat[i];} return out; }\ntemplate<class S,class T> ostream& operator << (ostream& out,const map<S,T> mp){ out << \"{ \"; for(auto it = mp.begin(); it != mp.end(); it++){ out << it->first << \":\" << it->second; if(mp.size()-1 != distance(mp.begin(),it)) out << \", \"; } out << \" }\"; return out; }\n\n/*\n <url:http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=1240>\n 問題文============================================================\n =================================================================\n 解説=============================================================\n ================================================================\n */\n\nvoid C(string& str){\n    str = str.substr(1) + *str.begin();\n}\nvoid J(string& str){\n    str = *str.rbegin() + str.substr(0,str.length()-1);\n}\nvoid E(string& str){\n    if(str.length()&1) str = str.substr(str.length()/2+1) + str[str.length()/2] + str.substr(0,str.length()/2);\n    else str = str.substr(str.length()/2) + str.substr(0,str.length()/2);\n}\nvoid A(string& str){\n    reverse(str.begin(),str.end());\n}\nvoid M(string& str){\n    for(char& c:str){\n        if(isdigit(c)){\n            c = (c-'0'+1)%10 + '0';\n        }\n    }\n}\nvoid P(string& str){\n    for(char& c:str){\n        if(isdigit(c)){\n            c = (c-'0'+9)%10 + '0';\n        }\n    }\n}\nmap<char,int> char2idx;\nvoid (*Func[])(string& str) = {J,C,E,A,P,M};\nvoid init(){\n    string FuncName = \"JCEAPM\";\n    for(int i = 0; i < FuncName.length();i++) char2idx[FuncName[i]] = i;\n}\nstring solve(){\n    string order,res;\n    cin >> order >> res;\n    reverse(order.begin(),order.end());\n    for(char& c:order){\n        Func[char2idx[c]](res);\n    }\n    return res;\n}\nint main(void) {\n    cin.tie(0); ios_base::sync_with_stdio(false);\n    init();\n    int n; cin >> n;\n    while(n--){\n        cout << solve() << endl;\n    }\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\nusing namespace std;\n\nint main()\n{\n  int n;\n  string s, m;\n  cin >> n;\n  for(int i = 0; i < n; i++)\n  {\n    cin >> m >> s;\n    for(int j = m.length() - 1; j >= 0; j--)\n    {\n      switch(m[j])\n      {\n        case 'C':\n          s = s.substr(1, s.length() - 1) + s[0];\n          break;\n        case 'J':\n          s = s[s.length() - 1] + s.substr(0, s.length() - 1);\n          break;\n        case 'E':\n          {\n            int a = s.length() / 2, b = s.length() % 2;\n            s = s.substr(a + b, a) + (b ? s.substr(a + 1, 1) : \"\") + s.substr(0, a);\n          }\n          break;\n        case 'A':\n          reverse(s.begin(), s.end());\n          break;\n        case 'M':\n          for(int k = 0; k < s.length(); k++)\n            if(s[k] >= '0' && s[k] <= '9')\n              s[k] = (s[k] - '0' + 1) % 10 + '0';\n          break;\n        case 'P':\n          for(int k = 0; k < s.length(); k++)\n            if(s[k] >= '0' && s[k] <= '9')\n              s[k] = (s[k] - '0' - 1) % 10 + '0';\n          break;\n      }\n    }\n    cout << s << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cstdint>\n#include <iostream>\n#include <string>\n\nusing namespace std;\n\nstring lshift(string &msg) {\n  string front{msg[0]};\n  return msg.substr(1, msg.size() - 1) + front;\n}\n\nstring rshift(string &msg) {\n  string back{msg[msg.size() - 1]};\n  return back + msg.substr(0, msg.size() - 1);\n}\n\nvoid add_num(string &msg, int32_t num) {\n  for (uint32_t i = 0; i < msg.size(); i++) {\n    if ('0' <= msg[i] && msg[i] <= '9') {\n      msg[i] += num;\n      if (msg[i] < '0') msg[i] = '9';\n      if ('9' < msg[i]) msg[i] = '0';\n    }\n  }\n}\n\nstring swap(string &msg) {\n  string front = msg.substr(0, msg.size() / 2);\n  if (msg.size() % 2 == 0) {\n    string back = msg.substr(msg.size() / 2, msg.size() - msg.size() / 2);\n    return back + front;\n  } else {\n    string center{msg[msg.size() / 2]};\n    string back =\n        msg.substr(msg.size() / 2 + 1, msg.size() - (msg.size() / 2 + 1));\n    return back + center + front;\n  }\n}\n\nint32_t main() {\n  uint32_t n;\n  cin >> n;\n  for (uint32_t _ = 0; _ < n; _++) {\n    string mem;\n    cin >> mem;\n    string msg;\n    cin >> msg;\n\n    for (int32_t i = mem.size() - 1; i >= 0; i--) {\n      switch (mem[i]) {\n        case 'A':\n          reverse(msg.begin(), msg.end());\n          break;\n        case 'P':\n          add_num(msg, -1);\n          break;\n        case 'M':\n          add_num(msg, +1);\n          break;\n        case 'J':\n          msg = rshift(msg);\n          break;\n        case 'C':\n          msg = lshift(msg);\n          break;\n        case 'E':\n          msg = swap(msg);\n          break;\n      }\n    }\n\n    cout << msg << endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\nusing namespace std;\nint main(){\n  int n,i,j,k,orderlen,strlen;\n  string order,str,tempstr1,tempstr2;\n  char temp;\n  cin >> n;\n  for(i=0;i<n;i++){\n    cin >> order;\n    reverse(order.begin(),order.end());\n    cin >> str;\n    orderlen=order.size();\n    strlen=str.size();\n    for(j=0;j<orderlen;j++){\n      if(order[j]=='J'){\n    temp=str[strlen-1];\n    for(k=strlen-1;k>=1;k--){\n      str[k]=str[k-1];\n    }\n    str[0]=temp;\n      }\n      else if(order[j]=='C'){\n    temp=str[0];\n    for(k=0;k<strlen-1;k++){\n      str[k]=str[k+1];\n    }\n    str[strlen-1]=temp;\n      }\n      else if(order[j]=='E'){\n    tempstr1=tempstr2=\"\";\n    for(k=0;k<strlen;k++){\n      if(k<strlen/2) tempstr1+=str[k];\n      else tempstr2+=str[k];\n    }\n    str=\"\";\n    str+=tempstr2;\n    str+=tempstr1;\n    if(strlen%2==1){\n      temp=str[0];\n      for(k=0;k<strlen/2;k++){\n        str[k]=str[k+1];\n      }\n      str[strlen/2]=temp;\n    }\n      }\n      else if(order[j]=='A'){\n    reverse(str.begin(),str.end());\n      }\n      else if(order[j]=='P'){\n    for(k=0;k<strlen;k++){\n      if('1'<=str[k]&&str[k]<='9') str[k]-=1;\n      else if(str[k]=='0') str[k]='9';\n    }\n      }else{//M\n    for(k=0;k<strlen;k++){\n      if('0'<=str[k]&&str[k]<='8') str[k]+=1;\n      else if(str[k]=='9') str[k]='0';\n    }\n      }\n    }\n    cout << str << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#include \"bits/stdc++.h\"\nusing namespace std;\n\n//#define int long long\n#define DBG 1\n#define dump(o) if(DBG){cerr<<#o<<\" \"<<o<<endl;}\n#define dumpc(o) if(DBG){cerr<<#o; for(auto &e:(o))cerr<<\" \"<<e;cerr<<endl;}\n#define rep(i,a,b) for(int i=(a);i<(b);i++)\n#define rrep(i,a,b) for(int i=(b)-1;i>=(a);i--)\n#define each(it,c) for(auto it=(c).begin();it!=(c).end();it++)\n#define all(c) c.begin(),c.end()\nconst int INF = sizeof(int) == sizeof(long long) ? 0x3f3f3f3f3f3f3f3fLL : 0x3f3f3f3f;\nconst int MOD = (int)(1e9 + 7);\nstring MrJ(string s) { return s.substr(1) + s.front(); }\nstring MissC(string s) { return s.back() + s.substr(0, s.size() - 1); }\nstring MrE(string s) {\n\tstring res;\n\tif (s.size() % 2) {\n\t\tres = s[s.size() / 2];\n\t\tres += s.substr(0, s.size() / 2);\n\t\tres = s.substr(s.size() / 2 + 1)+res;\n\t}\n\telse {\n\t\tres = s.substr(s.size() / 2) + s.substr(0, s.size() / 2);\n\t}\n\treturn res;\n}\nstring MrA(string s) { string res = s; reverse(res.begin(), res.end()); return res; }\nstring DrP(string s) {\n\trep(i, 0, s.size()) {\n\t\tif (isdigit(s[i])) {\n\t\t\tif (s[i] == '9')s[i] = '0';\n\t\t\telse s[i]++;\n\t\t}\n\t}\n\treturn s;\n}\nstring MrM(string s) {\n\trep(i, 0, s.size()) {\n\t\tif (isdigit(s[i])) {\n\t\t\tif (s[i] == '0')s[i] = '9';\n\t\t\telse s[i]--;\n\t\t}\n\t}\n\treturn s;\n}\nsigned main() {\n\tint n; cin >> n;\n\twhile (n--) {\n\t\tstring order, king;\n\t\tcin >> order >> king;\n\t\trrep(i, 0, order.size()) {\n\t\t\tswitch (order[i])\n\t\t\t{\n\t\t\tcase 'J':king = MissC(king); break;\n\t\t\tcase 'C':king = MrJ(king); break;\n\t\t\tcase 'E':king = MrE(king); break;\n\t\t\tcase 'A':king = MrA(king); break;\n\t\t\tcase 'P':king = MrM(king); break;\n\t\t\tcase 'M':king = DrP(king); break;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tcout << king << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <string>\nusing namespace std;\n\nint main(){\n    int n;\n    cin >> n;\n\n    for(int i=0; i<n; i++){\n        string order, m;\n        cin >> order >> m;\n        int len = m.length();\n        for(int j=order.length()-1; j>=0; j--){\n            switch(order[j]){\n            case 'J':\n                m = m.substr(len-1,1) + m.substr(0,len-1);\n                break;\n            case 'C':\n                m = m.substr(1, len-1) + m.substr(0,1);\n                break;\n            case 'E':\n                if(len%2==0){\n                    m = m.substr((len+1)/2, len/2)\n                        + m.substr(0, len/2);\n                }else{\n                    m = m.substr((len+2)/2, (len-1)/2)\n                        + m.substr(len/2, 1)\n                        + m.substr(0, (len-1)/2);\n                }\n                break;\n            case 'A':\n                reverse(m.begin(), m.end());\n                break;\n            case 'P':\n                for(int d=0; d<len; d++){\n                    if(m[d] >= '1' && m[d] <= '9'){\n                        m[d]--;\n                    }else if(m[d] == '0'){\n                        m[d] = '9';\n                    }\n                }\n                break;       \n            case 'M':\n                for(int d=0; d<len; d++){\n                    if(m[d] >= '0' && m[d] <= '8'){\n                        m[d]++;\n                    }else if(m[d] == '9'){\n                        m[d] = '0';\n                    }\n                }\n                break;\n            }\n        }\n        cout << m << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\nusing namespace std;\n#define rep(i,n) for(int i=0;i<n;i++)\n\nint main()\n{\n\tint n;\n\n\tcin >> n;\n\n\trep(loop, n) {\n\t\tstring messengers;\n\t\tstring message;\n\n\t\tcin >> messengers >> message;\n\n\t\trep(i, messengers.size()) {\n\t\t\tswitch (messengers[messengers.size() - 1 - i]) {\n\t\t\tcase 'J':\n\t\t\t\tmessage = message.substr(message.size() - 1, 1) + message.substr(0, message.size() - 1);\n\t\t\t\tbreak;\n\t\t\tcase 'C':\n\t\t\t\tmessage = message.substr(1) + message.substr(0, 1);\n\t\t\t\tbreak;\n\t\t\tcase 'E':\n\t\t\t\tif (message.size() % 2 == 0) {\n\t\t\t\t\tmessage = message.substr(message.size() / 2, message.size() / 2) + message.substr(0, message.size() / 2);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tmessage = message.substr(message.size() / 2 + 1, message.size() / 2) + message.substr(message.size() / 2, 1) + message.substr(0, message.size() / 2);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'A':\n\t\t\t\trep(j, message.size() / 2) {\n\t\t\t\t\tswap(message[j], message[message.size() - 1 - j]);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'P':\n\t\t\t\trep(j, message.size()) {\n\t\t\t\t\tif (message[j] == '0') {\n\t\t\t\t\t\tmessage[j] = '9';\n\t\t\t\t\t}\n\t\t\t\t\telse if (message[j] >= '1'&&message[j] <= '9') {\n\t\t\t\t\t\tmessage[j]--;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'M':\n\t\t\t\trep(j, message.size()) {\n\t\t\t\t\tif (message[j] == '9') {\n\t\t\t\t\t\tmessage[j] = '0';\n\t\t\t\t\t}\n\t\t\t\t\telse if (message[j] >= '0'&&message[j] <= '8') {\n\t\t\t\t\t\tmessage[j]++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tcout << message << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<vector>\n#include<string>\n#include<functional>\n#include<queue>\n#include<algorithm>\n#include<complex>\n#include<cstdlib>\n#include<cctype>\n\n#define REP(i,n) for(int i = 0;i < (n);i++)\n#define PB push_back\n#define MP make_pair\n#define FI first\n#define SE second\n#define SHOW1d(v,n) {for(int i = 0;i < (n);i++)cout << v[i] << ' ';cout << endl << endl;}\n#define SHOW2d(v,i,j) {for(int a = 0;a < i;a++){for(int b = 0;b < j;b++)cout << v[a][b] << ' ';cout << endl;}cout << endl;}\n#define ALL(v) v.begin(),v.end()\n#define DBG cout << '!' << endl;\n\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef vector<int> iv;\ntypedef vector<iv> iiv;\ntypedef vector<string> sv;\n\nstring j(string str)\n{\n\t\n\tstring ret = \"\";\n\tret.PB(str[str.size()-1]);\n\tREP(i,str.size()-1)\n\t{\n\t\tret.PB(str[i]);\n\t}\n\t\n\treturn ret;\n\t\n}\n\nstring c(string str)\n{\n\t\n\tstring ret = \"\";\n\t\n\tfor(int i = 1;i < str.size();i++)\n\t{\n\t\tret.PB(str[i]);\n\t}\n\tret.PB(str[0]);\n\t\n\treturn ret;\n\t\n}\n\nstring e(string str)\n{\n\tint len = str.size()/2;\n\t//cout << len << endl;\n\tstring tmp1 = str.substr(0,len);\n\tstring tmp2 = str.substr(str.size()-len,str.size());\n\tstring ret = \"\";\n\tret += tmp2;\n\tif(len%2 == 1)\n\t{\n\t\tret += str[len];\n\t}\n\tret += tmp1;\n\t\n\treturn ret;\n}\n\nstring a(string str)\n{\n\treverse(ALL(str));\n\t\n\treturn str;\n}\n\nstring p(string str)\n{\n\tREP(i,str.size())\n\t{\n\t\t if(isdigit(str[i]))\n\t\t {\n\t\t\t if(str[i] == '0')\n\t\t\t\t str[i] = '9';\n\t\t\t else\n\t\t\t\t str[i]--;\n\t\t }\n\t}\n\t\n\treturn str;\n}\n\nstring m(string str)\n{\n\t\tREP(i,str.size())\n\t{\n\t\t if(isdigit(str[i]))\n\t\t {\n\t\t\t if(str[i] == '9')\n\t\t\t\t str[i] = '0';\n\t\t\t else\n\t\t\t\t str[i]++;\n\t\t }\n\t}\n\t\n\treturn str;\n\n}\n\nint main()\n{\n\t\n\tint n;\n\tcin >> n;\n\t\n\tREP(aaa,n)\n\t{\n\t\tstring messenger,str;\n\t\tcin >> messenger >> str;\n\t\t\n\t\tfor(int i = messenger.size()-1;i >= 0;i--)\n\t\t{\n\t\t\tswitch(messenger[i])\n\t\t\t{\n\t\t\t\tcase 'J':str = j(str);break;\n\t\t\t\tcase 'C':str = c(str);break;\n\t\t\t\tcase 'E':str = e(str);break;\n\t\t\t\tcase 'A':str = a(str);break;\n\t\t\t\tcase 'P':str = p(str);break;\n\t\t\t\tcase 'M':str = m(str);break;\n\t\t\t}\n\t\t}\n\t\t\n\t\tcout << str << endl;\n\t\t\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\nusing namespace std;\n \nint main()\n{\n  int n;\n  cin>>n;\n  for(int i=0;i<n;i++){\n    string ord,mes;\n    cin>>ord>>mes;\n    reverse(ord.begin(),ord.end());\n    for(int j=0;j<ord.size();j++){\n      char c=ord[j];\n      \n      if(c=='J'){\n\trotate(mes.begin(),mes.begin()+mes.size()-1,mes.end());\n      }else if(c=='C'){\n\trotate(mes.begin(),mes.begin()+1,mes.end());\n      }else if(c=='E'){\n\tstring x,y,z;\n\tfor(int k=0;k<mes.size()/2;k++){\n\t  x.push_back(mes[k]);\n\t}\n\tif(mes.size()%2==1) y.push_back(mes[mes.size()/2]);\n\tfor(int k=mes.size()/2+(mes.size()%2?1:0);k<mes.size();k++){\n\t  z.push_back(mes[k]);\n\t}\n\tmes=z+y+x;\n      }else if(c=='A'){\n\treverse(mes.begin(),mes.end());\n      }else if(c=='P'){\n\tfor(int k=0;k<mes.size();k++){\n\t  if('1'<=mes[k]&&mes[k]<='9') mes[k]-=1;\n\t  else if(mes[k]=='0') mes[k]='9';\n\t}\n      }else if(c=='M'){\n\tfor(int k=0;k<mes.size();k++){\n\t  if('0'<=mes[k]&&mes[k]<='8') mes[k]+=1;\n\t  else if(mes[k]=='9') mes[k]='0';\n\t}\n      }\n    }\n    cout<<mes<<endl;\n  }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <cmath>\n#include <ctype.h>\n#include <string> \n#include <sstream>\n#include <iostream>\n#include <algorithm>\n#include <cstdlib>\n#include <map>\n#include <queue>\n#include <utility>\n#include <vector>\n\nusing namespace std;\n\nstring c_j(string str);\nstring c_c(string str);\nstring c_e(string str);\nstring c_a(string str);\nstring c_p(string str);\nstring c_m(string str);\n\nint main()\n{\n\tint n;\n\tstring order, message;\n\tcin >> n;\n\tfor(int i = 0; i < n; i++){\n\t\tcin >> order >> message;\n\t\tstring ans = message;\n\t\tfor(int j = order.length()-1; j >= 0; j--){\n\t\t\tif(order[j] == 'J') ans = c_j(ans);\n\t\t\telse if(order[j] == 'C') ans = c_c(ans);\n\t\t\telse if(order[j] == 'E') ans = c_e(ans);\n\t\t\telse if(order[j] == 'A') ans = c_a(ans);\n\t\t\telse if(order[j] == 'P') ans = c_p(ans);\n\t\t\telse if(order[j] == 'M') ans = c_m(ans); \n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}\n\nstring c_j(string str)\n{\n\tchar c;\n\tc = str[str.length()-1];\n\tstr.erase(str.end()-1);\n\tstr = c + str;\n\treturn str;\n}\n\nstring c_c(string str)\n{\n\tchar c;\n\tc = str[0];\n\tstr.erase(str.begin());\n\tstr += c;\n\treturn str;\n}\n\nstring c_e(string str)\n{\n\tstring a;\n\tint l = str.length();\n\ta = str.substr(0, l / 2);\n\tif( l % 2 == 1){\n\t\tchar c = str[l / 2];\n\t\tstr.erase(str.begin(), str.begin() + (l / 2) + 1);\n\t\tstr += c;\n\t\tstr += a;\n\t} else {\n\t\tstr.erase(str.begin(), str.begin() + (l / 2));\n\t\tstr += a;\n\t}\n\treturn str;\n}\n\nstring c_a(string str)\n{\n\treverse(str.begin(), str.end());\n\treturn str;\n}\n\nstring c_p(string str)\n{\n\tfor(int i = 0; i < str.length() - 1; i++){\n\t\tif(isdigit(str[i])){\n\t\t\tint n = str[i] - '0';\n\t\t\tn--;\n\t\t\tif(n == -1) n = 9;\n\t\t\tstr[i] = n + '0';\n\t\t}\n\t}\n\treturn str;\n}\n\nstring c_m(string str)\n{\n\tfor(int i = 0; i < str.length() - 1; i++){\n\t\tif(isdigit(str[i])){\n\t\t\tint n = str[i] - '0';\n\t\t\tn = (n + 1) % 10;\n\t\t\tstr[i] = n + '0';\n\t\t}\n\t}\n\treturn str;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<cstdio>\n#include<cmath>\n#include<math.h>\n#include<string>\n#include<string.h>\n#include<stack>\n#include<queue>\n#include<vector>\n#include<utility>\n#include<set>\n#include<map>\n#include<stdlib.h>\n#include<iomanip>\n \nusing namespace std;\n \n#define ll long long\n#define ld long double\n#define EPS 0.0000000001\n#define INF 1e9\n#define MOD 1000000007\n#define rep(i,n) for(i=0;i<n;i++)\n#define loop(i,a,n) for(i=a;i<n;i++)\n#define all(in) in.begin(),in.end()\n#define shosu(x) fixed<<setprecision(x)\n \ntypedef vector<int> vi;\ntypedef pair<int,int> pii;\n \nint main(void) {\n  int i,j,k;\n  int n;\n  cin>>n;\n  rep(i,n){\n    string ord,s;\n    cin>>ord;\n    cin>>s;\n    int len=s.size();\n    for(j=ord.size()-1;j>=0;j--){\n      if(ord[j]=='C'){\n    string tmp=\"\";\n    tmp.push_back(s[0]);\n    s.erase(s.begin());\n    s+=tmp;\n      }else if(ord[j]=='J'){\n    string tmp=\"\";\n    tmp.push_back(s[len-1]);\n    s.erase(s.end()-1);\n    s=tmp+s;\n      }else if(ord[j]=='A'){\n    reverse(all(s));\n      }else if(ord[j]=='E'){\n    rep(k,len/2)\n      swap(s[k],s[(len+1)/2+k]);\n      }else if(ord[j]=='M'){\n    rep(k,len)\n      if(s[k]<='8' && s[k]>='0')s[k]++;\n      else if(s[k]=='9')s[k]='0';\n      }else{\n    rep(k,len)\n      if(s[k]<='9' && s[k]>'0')s[k]--;\n      else if(s[k]=='0')s[k]='9';\n      }\n    }\n    cout<<s<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <cctype>\n\nusing namespace std;\n\nstring revJ(string s) {\n  return s[s.size()-1] + s.substr(0, s.size()-1);\n}\n\nstring revC(string s) {\n  return s.substr(1) + s[0];\n}\n\nstring revE(string s) {\n  int n = s.size();\n  string ret = s.substr(n/2+(n%2));\n  if(n % 2) ret += s[n/2+1];\n  ret += s.substr(0, n/2);\n  return ret;\n}\n\nstring revA(string s) {\n  reverse(s.begin(), s.end());\n  return s;\n}\n\nstring revP(string s) {\n  for(int i=0; i<s.size(); i++)\n    if(isdigit(s[i])) s[i] = static_cast<char>(((s[i]-'0') + 9) % 10 + '0');\n  return s;\n}\n\nstring revM(string s) {\n  for(int i=0; i<s.size(); i++)\n    if(isdigit(s[i])) s[i] = static_cast<char>(((s[i]-'0') + 11) % 10 + '0');\n  return s;\n}\n\nint main() {\n  int n;\n  cin >> n;\n  \n  while(n--) {\n    string cmd, s;\n    cin >> cmd >> s;\n    reverse(cmd.begin(), cmd.end());\n    int Ncmd = cmd.size();\n    for(int i=0; i<Ncmd; i++) {\n      switch(cmd[i]) {\n      case 'A': s = revA(s); break;\n      case 'C': s = revC(s); break;\n      case 'E': s = revE(s); break;\n      case 'J': s = revJ(s); break;\n      case 'M': s = revM(s); break;\n      case 'P': s = revP(s); break;\n      }\n    }\n    cout << s << endl;\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\n#include <limits.h>\n#include <math.h>\n#include <set>\n#include <stack>\n#include <stdlib.h>\n#include <string>\n#include <vector>\n\n#define el endl\n#define fd fixed\n#define INF INT_MAX/2-1\n#define pb push_back\n\nusing namespace std;\n\nstring num = \"0123456789\";\n\nstring mrj(string s) {\n  return s[s.length()-1] + s.substr(0, s.length()-1);\n}\n\nstring missc(string s) {\n  return s.substr(1, s.length()-1) + s[0];\n}\n\nstring mre(string s) {\n  if (s.length() | 2) return s.substr(s.length()/2+1, s.length()/2) + s[s.length()/2] + s.substr(0, s.length()/2);\n  else return s.substr(s.length()/2, s.length()/2) + s.substr(0, s.length()/2);\n}\n\nstring mra(string s) {\n  string res = \"\";\n  for (int i = s.length()-1; i >= 0; i--) {\n    res += s[i];\n  }\n  return res;\n}\n\nstring drp(string s) {\n  for (int i = 0; i < s.length(); i++) {\n    int index = (int)num.find(s[i]);\n    if (index > 0) {\n      s[i] = num[(index+9)%10];\n    }\n  }\n  return s;\n}\n\nstring mrm(string s) {\n  for (int i = 0; i < s.length(); i++) {\n    int index = (int)num.find(s[i]);\n    if (index > 0) {\n      s[i] = num[(index+1)%10];\n    }\n  }\n  return s;\n}\n\nint main() {\n  int n;\n  string order, message;\n  cin >> n;\n  while (n--) {\n    cin >> order >> message;\n    for (int i = order.length()-1; i >= 0; i--) {\n      if (order[i] == 'J') message = mrj(message);\n      if (order[i] == 'C') message = missc(message);\n      if (order[i] == 'E') message = mre(message);\n      if (order[i] == 'A') message = mra(message);\n      if (order[i] == 'P') message = drp(message);\n      if (order[i] == 'M') message = mrm(message);\n    }\n    cout << message << el;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\n#include<cstring>\n#include<cctype>\n\nusing namespace std;\n\nstring revJ(string t){\nÃÂ ÃÂ string ret = t;\nÃÂ ÃÂ ret.insert(ret.begin(),t[t.length()-1]);\nÃÂ ÃÂ ret.erase(ret.end()-1);\nÃÂ ÃÂ return ret;\n}\nstring revC(string t){\nÃÂ ÃÂ string ret = t;\nÃÂ ÃÂ ret += t[0];\nÃÂ ÃÂ ret.erase(ret.begin());\nÃÂ ÃÂ return ret;\n}\nstring revE(string t){\nÃÂ ÃÂ char c=0;\nÃÂ ÃÂ if(t.length()==1)return t;\nÃÂ ÃÂ if(t.length()%2){\nÃÂ ÃÂ  ÃÂ c = t[t.length()/2];\nÃÂ ÃÂ  ÃÂ t.erase(t.begin()+t.length()/2);\nÃÂ ÃÂ }\nÃÂ ÃÂ string l = t.substr(0,t.length()/2);\nÃÂ ÃÂ string r = t.substr(t.length()/2,t.length()-t.length()/2);\nÃÂ ÃÂ if(c){\nÃÂ ÃÂ  ÃÂ return r+c+l;\nÃÂ ÃÂ }else return r+l;\n}\nstring revA(string t){\nÃÂ ÃÂ string ret = t;\nÃÂ ÃÂ reverse(ret.begin(),ret.end());\nÃÂ ÃÂ return ret;\n}\nstring revP(string t){\nÃÂ ÃÂ //dec\nÃÂ ÃÂ string ret = t;\nÃÂ ÃÂ for(int i = 0; i < (signed)ret.length(); ++i){\nÃÂ ÃÂ  ÃÂ if( isdigit(ret[i]) ){\nÃÂ ÃÂ  ÃÂ  ÃÂ ret[i]--;\nÃÂ ÃÂ  ÃÂ  ÃÂ if(ret[i]<'0')ret[i]='9';\nÃÂ ÃÂ  ÃÂ }\nÃÂ ÃÂ }\nÃÂ ÃÂ return ret;\n}\nstring revM(string t){\nÃÂ ÃÂ //inc\nÃÂ ÃÂ string ret = t;\nÃÂ ÃÂ for(int i = 0; i < (signed)ret.length(); ++i){\nÃÂ ÃÂ  ÃÂ if( isdigit(ret[i]) ){\nÃÂ ÃÂ  ÃÂ  ÃÂ ret[i]++;\nÃÂ ÃÂ  ÃÂ  ÃÂ if(ret[i]>'9')ret[i]='0';\nÃÂ ÃÂ  ÃÂ }\nÃÂ ÃÂ }\nÃÂ ÃÂ return ret;\n}\n\nint main()\n{\nÃÂ ÃÂ int n;\nÃÂ ÃÂ cin >> n;\nÃÂ ÃÂ for(int i = 0; i < n; ++i){\nÃÂ ÃÂ  ÃÂ string order;\nÃÂ ÃÂ  ÃÂ string msg;\nÃÂ ÃÂ  ÃÂ cin >> order >> msg;\nÃÂ ÃÂ  ÃÂ for(int i = (int)order.length()-1; i>=0; --i){\nÃÂ ÃÂ  ÃÂ  ÃÂ if( order[i] == 'J' ){\n\tmsg = revJ( msg );\nÃÂ ÃÂ  ÃÂ  ÃÂ }\nÃÂ ÃÂ  ÃÂ  ÃÂ if( order[i] == 'C' ){\n\tmsg = revC( msg );\nÃÂ ÃÂ  ÃÂ  ÃÂ }\nÃÂ ÃÂ  ÃÂ  ÃÂ if( order[i] == 'E' ){\n\tmsg = revE( msg );\nÃÂ ÃÂ  ÃÂ  ÃÂ }\nÃÂ ÃÂ  ÃÂ  ÃÂ if( order[i] == 'A' ){\n\tmsg = revA( msg );\nÃÂ ÃÂ  ÃÂ  ÃÂ }\nÃÂ ÃÂ  ÃÂ  ÃÂ if( order[i] == 'P' ){\n\tmsg = revP( msg );\nÃÂ ÃÂ  ÃÂ  ÃÂ }\nÃÂ ÃÂ  ÃÂ  ÃÂ if( order[i] == 'M' ){\n\tmsg = revM( msg );\nÃÂ ÃÂ  ÃÂ  ÃÂ }\nÃÂ ÃÂ  ÃÂ }\nÃÂ ÃÂ  ÃÂ cout << msg << endl;\nÃÂ ÃÂ }\nÃÂ ÃÂ return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <cmath>\n#include <ctype.h>\n#include <string> \n#include <sstream>\n#include <iostream>\n#include <algorithm>\n#include <cstdlib>\n#include <map>\n#include <queue>\n#include <utility>\n#include <vector>\n\nusing namespace std;\n\nstring c_j(string str);\nstring c_c(string str);\nstring c_e(string str);\nstring c_a(string str);\nstring c_p(string str);\nstring c_m(string str);\n\nint main()\n{\n\tint n;\n\tstring order, message;\n\tcin >> n;\n\tfor(int i = 0; i < n; i++){\n\t\tcin >> order >> message;\n\t\tstring ans = message;\n\t\tfor(int j = order.length()-1; j >= 0; j--){\n\t\t\tif(order[j] == 'J') ans = c_j(ans);\n\t\t\telse if(order[j] == 'C') ans = c_c(ans);\n\t\t\telse if(order[j] == 'E') ans = c_e(ans);\n\t\t\telse if(order[j] == 'A') ans = c_a(ans);\n\t\t\telse if(order[j] == 'P') ans = c_p(ans);\n\t\t\telse if(order[j] == 'M') ans = c_m(ans); \n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}\n\nstring c_j(string str)\n{\n\tchar c;\n\tc = str[str.length()-1];\n\tstr.erase(str.end()-1);\n\tstr = c + str;\n\treturn str;\n}\n\nstring c_c(string str)\n{\n\tchar c;\n\tc = str[0];\n\tstr.erase(str.begin());\n\tstr += c;\n\treturn str;\n}\n\nstring c_e(string str)\n{\n\tstring a;\n\tint l = str.length();\n\ta = str.substr(0, l / 2);\n\tif( l % 2 == 1){\n\t\tchar c = str[l / 2];\n\t\tstr.erase(str.begin(), str.begin() + (l / 2) + 1);\n\t\tstr += c;\n\t\tstr += a;\n\t} else {\n\t\tstr.erase(str.begin(), str.begin() + (l / 2));\n\t\tstr += a;\n\t}\n\treturn str;\n}\n\nstring c_a(string str)\n{\n\treverse(str.begin(), str.end());\n\treturn str;\n}\n\nstring c_p(string str)\n{\n\tfor(int i = 0; i < str.length(); i++){\n\t\tif(isdigit(str[i])){\n\t\t\tint n = str[i] - '0';\n\t\t\tn--;\n\t\t\tif(n == -1) n = 9;\n\t\t\tstr[i] = n + '0';\n\t\t}\n\t}\n\treturn str;\n}\n\nstring c_m(string str)\n{\n\tfor(int i = 0; i < str.length(); i++){\n\t\tif(isdigit(str[i])){\n\t\t\tint n = str[i] - '0';\n\t\t\tn = (n + 1) % 10;\n\t\t\tstr[i] = n + '0';\n\t\t}\n\t}\n\treturn str;\n}"
  },
  {
    "language": "C++",
    "code": "//include\n//------------------------------------------\n#include <vector>\n#include <list>\n#include <map>\n#include <set>\n#include <deque>\n#include <stack>\n#include <bitset>\n#include <algorithm>\n#include <functional>\n#include <numeric>\n#include <utility>\n#include <sstream>\n#include <iostream>\n#include <iomanip>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <cctype>\n#include <string>\n#include <cstring>\n#include <ctime>\n#include <climits>\n#include <queue>\n\nusing namespace std;\n\n//typedef\n//------------------------------------------\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<string> VS;\ntypedef pair<int, int> PII;\ntypedef long long LL;\n\n//container util\n//------------------------------------------\n#define ALL(a)  (a).begin(),(a).end()\n#define RALL(a) (a).rbegin(), (a).rend()\n#define PB push_back\n#define MP make_pair\n#define SZ(a) int((a).size())\n#define EACH(i,c) for(typeof((c).begin()) i=(c).begin(); i!=(c).end(); ++i)\n#define EXIST(s,e) ((s).find(e)!=(s).end())\n#define SORT(c) sort((c).begin(),(c).end())\n\n//repetition\n//------------------------------------------\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n)  FOR(i,0,n)\n\n//constant\n//--------------------------------------------\nconst double EPS = 1e-10;\nconst double PI  = acos(-1.0);\n\nvoid J(string& str){\n  if(SZ(str)==1) return;\n  rotate(str.begin(), str.end()-1, str.end());\n}\nvoid C(string& str){\n  if(SZ(str)==1) return;\n  rotate(str.begin(), str.begin()+1, str.end());\n}\nvoid E(string& str){\n  if(SZ(str)%2 == 1){\n\tstring s1 = str.substr(0, SZ(str)/2);\n\tstring s2 = str.substr(SZ(str)/2+1);\n\tstr = s2 + str[SZ(str)/2] + s1;\t\n  }\n  else{\n\tstring s1 = str.substr(0, SZ(str)/2);\n\tstring s2 = str.substr(SZ(str)/2);\n\tstr = s2 + s1;\n  }\n}\nvoid A(string& str){\n  reverse(ALL(str));\n}\nvoid P(string& str){\n  int org = SZ(str);\n  REP(i,SZ(str))\n\tif(isdigit(str[i]))\n\t  if(str[i] == '0')\n\t\tstr[i] = '9';\n\t  else\n\t\t--str[i];\n}\nvoid M(string& str){\n  REP(i,SZ(str))\n\tif(isdigit(str[i]))\n\t  if(str[i] == '9')\n\t\tstr[i] = '0';\n\t  else\n\t\t++str[i];\n}\n  \n\nint main(){\n  cin.tie(0);\n  ios_base::sync_with_stdio(false);\n\n  int N; cin >> N;\n  REP(n,N){\n\tstring p, msg; cin >> p >> msg;\n\tfor(int i=SZ(p)-1;i>=0;--i)\n\t  switch(p[i]){\n\t  case 'J':\n\t\tJ(msg); break;\n\t  case 'C':\n\t\tC(msg); break;\n\t  case 'E':\n\t\tE(msg); break;\n\t  case 'A':\n\t\tA(msg); break;\n\t  case 'P':\n\t\tP(msg); break;\n\t  case 'M':\n\t\tM(msg); break;\n\t  }\n\tcout << msg << endl;\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstdlib>\n#include <queue>\n#include <stack>\n#include <vector>\n#include <algorithm>\n#include <string>\n#include <cstring>\n#include <cmath>\n#include <complex>\n#include <map>\n#include <climits>\n#include <sstream>\nusing namespace std;\n \n#define reep(i,a,b) for(int i=(a);i<(b);++i)\n#define rep(i,n) reep((i),0,(n))\n#define ALL(v) (v).begin(),(v).end()\n#define PB push_back\n#define EPS 1e-8\n#define F first\n#define S second\n#define mkp make_pair\n \nstatic const double PI=6*asin(0.5);\ntypedef long long ll;\ntypedef complex<double> CP;\ntypedef pair<int,int> pii;\ntypedef pair<ll,ll> pll;\ntypedef vector<int> vint;\nstatic const int INF=1<<24;\n \ntemplate <class T>\nvoid initvv(vector<vector<T> > &v,int a,int b, const T  &t = T()){\n    v.assign(a,vector<T>(b,t));\n}\n \n//v.erase(unique(v.begin(),v.end()),v.end());\n \n \nstring mes_a(string in){\n\tstring res=string(in.rbegin(),in.rend());\n\treturn res;\n}\nstring mes_j(string in){\n\treturn in.substr(in.size()-1)+in.substr(0,in.size()-1);\n}\nstring mes_c(string in){\n\treturn in.substr(1)+in.substr(0,1);\n}\nstring mes_e(string in){\n\tint t=in.size()/2;\n\trep(i,t){\n\t\tswap(in[i],in[i+in.size()-t]);\n\t}\n\treturn in;\n}\nstring mes_p(string in){\n\tstringstream ss;\n\tss<<in;\n\tstringstream res;\n\trep(i,in.size()){\n\t\tchar t;\n\t\tss>>t;\n\t\tif('0'<=t&&t<='9'){\n\t\t\tt=((t-'0')+9)%10+'0';\n\t\t}\n\t\tres<<t;\n\t}\n\tstring ret;\n\tres>>ret;\n\treturn ret;\n}\nstring mes_m(string in){\n\tstringstream ss;\n\tss<<in;\n\tstringstream res;\n\trep(i,in.size()){\n\t\tchar t;\n\t\tss>>t;\n\t\tif('0'<=t&&t<='9'){\n\t\t\tt=((t-'0')+1)%10+'0';\n\t\t}\n\t\tres<<t;\n\t}\n\tstring ret;\n\tres>>ret;\n\treturn ret;\n}\n\n\nint main(){\n\tint n;\n\tcin>>n;\n\trep(i,n){\n\t\tstring s1,s2;\t\n\t\tcin>>s1>>s2;\n\t\trep(j,s1.size()){\n\t\t\tint i=s1.size()-1-j;\n\t\t\t// cout<<s2<<endl;\n\t\t\tif(s1[i]=='J'){\n\t\t\t\ts2=mes_j(s2);\n\t\t\t}\n\t\t\telse if(s1[i]=='C'){\n\t\t\t\ts2=mes_c(s2);\n\t\t\t}\n\t\t\telse if(s1[i]=='E'){\n\t\t\t\ts2=mes_e(s2);\n\t\t\t}\n\t\t\telse if(s1[i]=='A'){\n\t\t\t\ts2=mes_a(s2);\n\t\t\t}\n\t\t\telse if(s1[i]=='P'){\n\t\t\t\ts2=mes_p(s2);\n\t\t\t}\n\t\t\telse if(s1[i]=='M'){\n\t\t\t\ts2=mes_m(s2);\n\t\t\t}\n\t\t}\n\t\tcout<<s2<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n/*{{{*/  //template\n#define rep(i,n) for(int i=0;i<n;i++)\nconstexpr int INF = numeric_limits<int>::max()/2;\nconstexpr long long LINF = numeric_limits<long long>::max()/3;\n#define mp make_pair\n#define pb push_back\n#define eb emplace_back\n#define fi first\n#define se second\n#define all(v) (v).begin(),(v).end()\n#define sz(x) (int)(x).size()\n#define debug(x) cerr<<#x<<\":\"<<x<<endl\n#define debug2(x,y) cerr<<#x<<\",\"<<#y\":\"<<x<<\",\"<<y<<endl\n//struct fin{ fin(){ cin.tie(0); ios::sync_with_stdio(false); } } fin_;\nstruct Double{ double d; explicit Double(double x) : d(x){} };\nostream& operator<<(ostream& os,const Double x){ os << fixed << setprecision(20) << x.d; return os; }\ntemplate<typename T> ostream& operator<<(ostream& os,const vector<T>& vec){ os << \"[\"; for(const auto& v : vec){ os << v << \",\"; } os << \"]\"; return os; }\ntemplate<typename T,typename U> ostream& operator<<(ostream& os,const pair<T,U>& p){ os << \"(\" << p.first << \",\"<< p.second <<\")\"; return os; }\ntemplate<typename T> ostream& operator<<(ostream& os,const set<T>& st){ os<<\"{\"; for(T v:st) os<<v<<\",\"; os <<\"}\"; return os; }\ntemplate<typename T,typename U> inline void chmax(T &x,U y){ if(y>x) x = y; }\ntemplate<typename T,typename U> inline void chmin(T &x,U y){ if(y<x) x = y; }\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> pii;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\nll gcd(ll a,ll b){ if(b==0) return a; else return gcd(b,a%b); }\n//constexpr double eps = 1e-14; \nconstexpr double eps = 1e-10; \nconstexpr ll mod = 1e9+7;\nconst int dx[]={1,0,-1,0} ,dy[] = {0,1,0,-1};\n/*}}}*/\n\nstring J(string t){\n    string ret = t.substr(sz(t)-1,1);\n    ret += t.substr(0,sz(t)-1);\n    return ret;\n}\n\nstring C(string t){\n    string ret = t.substr(1,sz(t)-1);\n    ret.pb(t[0]);\n    return ret;\n}\n\nstring E(string s){\n    if(s.size()%2==0){\n        int t = s.size();\n        string s1 = s.substr(0,t/2);\n        string s2 = s.substr(t/2,t/2);\n\n        return s2+s1;\n    }else{\n        int t = s.size();\n        string s1 = s.substr(0,t/2);\n        string s2 = s.substr(t/2+1,t/2);\n        char c = s[t/2];\n        string ret = s2;\n        ret.pb(c);\n        ret += s1;\n        return ret;\n    }\n}\n\nstring A(string s){\n    string ret = s;\n    reverse(all(ret));\n    return ret;\n}\n\nstring P(string s){\n    for(int i=0;i<sz(s);i++){\n        if('1'<=s[i] and s[i]<='9') s[i]--;\n        else if(s[i]=='0') s[i]='9';\n    }\n    return s;\n}\n\nstring M(string s){\n    for(int i=0;i<sz(s);i++){\n        if('0'<=s[i] and s[i]<'9'){\n            s[i]++;\n        }else if(s[i]=='9'){\n            s[i]='0';\n        }\n    }\n    return s;\n}\n\nvoid solve(){\n    string s,t;\n    cin >> s >> t;\n\n    for(int i=sz(s)-1;i>=0;i--){\n        string u;\n        if(s[i]=='J') t = J(t);\n        if(s[i]=='C') t = C(t);\n        if(s[i]=='E') t = E(t);\n        if(s[i]=='A') t = A(t);\n        if(s[i]=='P') t = P(t);\n        if(s[i]=='M') t = M(t);\n    }\n    cout << t << endl;\n}\n\nint main(){\n//    string s;\n//    cin >> s;\n//    cout << P(s) << endl;\n//    return 0;\n    int N;\n    cin >> N;\n    rep(i,N) solve();\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\nusing namespace std;\n\nstring V,W;\nint n;\n\nstring J(string S) {\n\tstring T = \"\";\n\tT = S[S.size() - 1] + S.substr(0, S.size() - 1);\n\treturn T;\n}\n\nstring C(string S) {\n\tstring T = \"\";\n\tT = S.substr(1, S.size() - 1) + S[0];\n\treturn T;\n}\n\nstring E(string S) {\n\tstring T = \"\";\n\tT += S.substr(S.size() - (S.size() / 2), S.size() / 2);\n\tif (S.size() % 2 == 1) { S += S[S.size() / 2]; }\n\tT += S.substr(0, S.size() / 2);\n\treturn T;\n}\n\nstring A(string S) {\n\tstring T = \"\";\n\tfor (int k = S.size() - 1; k >= 0; k--) {\n\t\tT += S[k];\n\t}\n\treturn T;\n}\n\nstring P(string S) {\n\tstring T = \"\";\n\tfor (int k = 0; k < S.size(); k++) {\n\t\tif (isdigit(S[k])) {\n\t\t\tT += (S[k] - 1);\n\t\t\tif (T[k] < '0') {\n\t\t\t\tT[k] += 10;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tT += S[k];\n\t\t}\n\t}\n\treturn T;\n}\n\nstring M(string S) {\n\tstring T = \"\";\n\tfor (int k = 0; k < S.size(); k++) {\n\t\tif (isdigit(S[k])) {\n\t\t\tT += (S[k] + 1);\n\t\t\tif (T[k] > '9') {\n\t\t\t\tT[k] -= 10;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tT += S[k];\n\t\t}\n\t}\n\treturn T;\n}\n\nstring message(string S, string T) {\n\tfor (int j = S.size() - 1; j >= 0; j--) {\n\t\tif (S[j] == 'J') {\n\t\t\tT = J(T);\n\t\t}\n\t\tif (S[j] == 'C') {\n\t\t\tT = C(T);\n\t\t}\n\t\tif (S[j] == 'E') {\n\t\t\tT = E(T);\n\t\t}\n\t\tif (S[j] == 'A') {\n\t\t\tT = A(T);\n\t\t}\n\t\tif (S[j] == 'P') {\n\t\t\tT = P(T);\n\t\t}\n\t\tif (S[j] == 'M') {\n\t\t\tT = M(T);\n\t\t}\n\t}\n\treturn T;\n}\n\nint main() {\n\tcin >> n;\n\tfor (int i = 0; i < n; i++) {\n\t\tcin >> V >> W;\n\t\tcout << message(V, W) << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <queue>\n#include <stack>\n#include <algorithm>\n#include <list>\n#include <vector>\n#include <complex>\n#include <utility>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <climits>\n#include <bitset>\n#include <ctime>\n#include <map>\n#include <unordered_map>\n#include <set>\n#include <unordered_set>\n#include <cassert>\n#include <cstddef>\n#include <iomanip>\n#include <numeric>\n#include <tuple>\n#include <sstream>\n#include <fstream>\n\nusing namespace std;\n#define REP(i, n) for (int (i) = 0; (i) < (n); (i)++)\n#define FOR(i, a, b) for (int (i) = (a); (i) < (b); (i)++)\n#define RREP(i, a) for(int (i) = (a) - 1; (i) >= 0; (i)--)\n#define FORR(i, a, b) for(int (i) = (a) - 1; (i) >= (b); (i)--)\n#define DEBUG(C) cerr << #C << \" = \" << C << endl;\nusing LL = long long;\nusing VI = vector<int>;\nusing VVI = vector<VI>;\nusing VL = vector<LL>;\nusing VVL = vector<VL>;\nusing VD = vector<double>;\nusing VVD = vector<VD>;\nusing PII = pair<int, int>;\nusing PDD = pair<double, double>;\nusing PLL = pair<LL, LL>;\nusing VPII = vector<PII>;\n#define ALL(a) begin((a)), end((a))\n#define RALL(a) rbegin((a)), rend((a))\n#define SORT(a) sort(ALL((a)))\n#define RSORT(a) sort(RALL((a)))\n#define REVERSE(a) reverse(ALL((a)))\n#define MP make_pair\n#define FORE(a, b) for (auto &&a : (b))\n#define FIND(s, e) ((s).find(e) != (s).end())\n#define EB emplace_back\n\nconst int INF = 1e9;\nconst int MOD = INF + 7;\nconst LL LLINF = 1e18;\n\nstring J(string S) {\n    char c = S.front();\n    S.erase(begin(S));\n    return S + c;\n}\nstring C(string S) {\n    char c = S.back();\n    S.pop_back();\n    return c + S;\n}\nstring E(string S) {\n    string a, b;\n    a = S.substr(0, S.length() / 2);\n    b = S.substr(S.length() / 2);\n    return b + a;\n}\nstring A(string S) {\n    REVERSE(S);\n    return S;\n}\nstring P(string S) {\n    REP(i, S.length()) {\n        if (isdigit(S[i])) {\n            S[i] = ((S[i] - '0' + 11) % 10) + '0';\n        }\n    }\n    return S;\n}\nstring M(string S) {\n    REP(i, S.length()) {\n        if (isdigit(S[i])) {\n            S[i] = ((S[i] - '0' + 9) % 10) + '0';\n        }\n    }\n    return S;\n}\n\nvoid solve(int N) {\n    vector<pair<string, string>> m(N);\n    for_each(ALL(m), [](auto &e){cin >> e.first >> e.second;});\n    FORE(el, m) {\n        string ans = el.second;\n        FORE(e, el.first) {\n            switch (e) {\n            case 'J':\n                ans = J(ans);\n                break;\n            case 'C':\n                ans = C(ans);\n                break;\n            case 'E':\n                ans = E(ans);\n                break;\n            case 'A':\n                ans = A(ans);\n                break;\n            case 'P':\n                ans = P(ans);\n                break;\n            case 'M':\n                ans = M(ans);\n                break;\n            }\n        }\n        cout << ans << endl;\n    }\n    return;\n}\n\nsigned main(void) {\n    int n, m, p, a, b, c, x, y, z, q;\n    string s;\n    bool f = false;\n    while (cin >> n, n) {\n        solve(n);\n        return 0;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <string>\n#include <sstream>\n#include <stack>\n#include <algorithm>\n#include <cmath>\n#include <queue>\n#include <map>\n#include <set>\n#include <cstdlib>\n#include <bitset>\n#include <tuple>\n#include <assert.h>\n#include <deque>\n#include <bitset>\n#include <iomanip>\n#include <limits>\n#include <chrono>\n#include <random>\n#include <array>\n#include <unordered_map>\n#include <functional>\n#include <complex>\n\ntemplate<class T> inline bool chmax(T& a, T b) { if (a < b) { a = b; return 1; } return 0; }\ntemplate<class T> inline bool chmin(T& a, T b) { if (a > b) { a = b; return 1; } return 0; }\n\nconstexpr long long MAX = 5100000;\nconstexpr long long INF = 1LL << 60;\nconstexpr int inf = 1 << 28;\n//constexpr long long mod = 1000000007LL;\n//constexpr long long mod = 998244353LL;\n\nusing namespace std;\ntypedef unsigned long long ull;\ntypedef long long ll;\n\nstring J(string s) {\n\tif (s.size() == 1) return s;\n\tstring res = s.substr(1, s.size());\n\tres += s[0];\n\treturn res;\n}\n\nstring C(string s) {\n\tif (s.size() == 1) return s;\n\tstring res;\n\tres += s.back();\n\tres += s.substr(0, (int)s.size() - 1);\n\treturn res;\n}\n\nstring E(string s) {\n\tstring res;\n\tres += s.substr((s.size() + 1) / 2, s.size());\n\tif (s.size() % 2 == 1) res += s[s.size() / 2];\n\tres += s.substr(0, (s.size()) / 2);\n\treturn res;\n}\n\nstring A(string s) {\n\tstring res = s;\n\treverse(res.begin(), res.end());\n\treturn res;\n}\n\nstring P(string s) {\n\tstring res = s;\n\tfor (int i = 0; i < s.size(); i++) {\n\t\tif (res[i] >= '0' && res[i] <= '8') {\n\t\t\tres[i]++;\n\t\t}\n\t\telse if (res[i] == '9') res[i] = '0';\n\t}\n\treturn res;\n}\n\nstring M(string s) {\n\tstring res = s;\n\tfor (int i = 0; i < s.size(); i++) {\n\t\tif (res[i] >= '1' && res[i] <= '9') {\n\t\t\tres[i]--;\n\t\t}\n\t\telse if (res[i] == '0') res[i] = '9';\n\t}\n\treturn res;\n}\nint main()\n{\n\t/*\n\tcin.tie(nullptr);\n\tios::sync_with_stdio(false);\n\t*/\n\tint kkt; scanf(\"%d\", &kkt);\n\twhile (kkt--) {\n\t\tstring t, s; cin >> t >> s;\n\t\treverse(t.begin(), t.end());\n\t\tfor (int i = 0; i < t.size(); i++) {\n\t\t\tif (t[i] == 'J') s = C(s);\n\t\t\tif (t[i] == 'C') s = J(s);\n\t\t\tif (t[i] == 'E') s = E(s);\n\t\t\tif (t[i] == 'A') s = A(s);\n\t\t\tif (t[i] == 'P') s = M(s);\n\t\t\tif (t[i] == 'M') s = P(s);\n\t\t}\n\t\tcout << s << \"\\n\";\n\t}\n\treturn 0;\n\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cctype>\n#include <cstdlib>\n#include <iostream>\n#include <string>\nusing namespace std;\n\nint main() {\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\n\tint n;\n\tcin >> n;\n\n\twhile(n--) {\n\t\tstring ope, message;\n\t\tcin >> ope >> message;\n\n\t\tconst int l = message.size();\n\t\tfor(int i = ope.size() - 1; i >= 0; --i) {\n\t\t\tswitch(ope[i]) {\n\t\t\tcase 'A':\n\t\t\t\treverse(message.begin(), message.end());\n\t\t\t\tbreak;\n\t\t\tcase 'C':\n\t\t\t\trotate(message.begin(), message.begin() + 1, message.end());\n\t\t\t\tbreak;\n\t\t\tcase 'E':\n\t\t\t\tmessage = message.substr((l + 1) / 2)\n\t\t\t\t\t+ (l & 1 ? string(1, message[l / 2]) : \"\")\n\t\t\t\t\t+ message.substr(0, l / 2);\n\t\t\t\tbreak;\n\t\t\tcase 'J':\n\t\t\t\trotate(message.begin(), message.begin() + l - 1, message.end());\n\t\t\t\tbreak;\n\t\t\tcase 'M':\n\t\t\t\tfor(int j = 0; j < (int)message.size(); ++j)\n\t\t\t\t\tif(isdigit(message[j]))\n\t\t\t\t\t\tmessage[j] = (message[j] - '0' + 1) % 10 + '0';\n\t\t\t\tbreak;\n\t\t\tcase 'P':\n\t\t\t\tfor(int j = 0; j < (int)message.size(); ++j)\n\t\t\t\t\tif(isdigit(message[j]))\n\t\t\t\t\t\tmessage[j] = (message[j] - '0' + 10 - 1) % 10 + '0';\n\t\t\t}\n\t\t}\n\n\t\tcout << message << endl;\n\t}\n\n\treturn EXIT_SUCCESS;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint main(){\n\tint n;\n\tcin>>n;\n\twhile(n--){\n\t\tstring s,ss;\n\t\tcin>>s>>ss;\n\t\tfor(int i=s.size()-1;i>=0;i--){\n\t\t\tif(s[i]=='P')\n\t\t\t\tfor(int j=0;j<ss.size();j++)\n\t\t\t\t\tif(ss[j]>='0'&&ss[j]<='9')\n\t\t\t\t\t\tss[j]=(ss[j]-'0'+9)%10+'0';\n\t\t\tif(s[i]=='M')\n\t\t\t\tfor(int j=0;j<ss.size();j++)\n\t\t\t\t\tif(ss[j]>='0'&&ss[j]<='9')\n\t\t\t\t\t\tss[j]=(ss[j]-'0'+1)%10+'0';\n\t\t\tif(s[i]=='A')reverse(ss.begin(),ss.end());\n\t\t\tif(s[i]=='P')for(int k=0;k<=ss.size()/2;k++)swap(ss[k],ss[k+(ss.size()+1)/2]);\n\t\t\tif(s[i]=='J')ss=ss[ss.size()-1]+ss.substr(0,s.size()-1);\n\t\t\tif(s[i]=='C')ss=ss.substr(1,s.size()-1)+s[0];\n\t\t}\n\t\tcout<<ss<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <fstream>\n#include <cstdio>\n#include <cmath>\n#include <vector>\n#include <cstring>\n#include <string>\n#include <set>\n#include <map>\n#include <stack>\n#include <queue>\n#include <algorithm>\nusing namespace std;\n \n#define REP(i,n) for(int i=0; i<n; ++i)\n#define FOR(i,a,b) for(int i=a; i<=b; ++i)\n#define FORR(i,a,b) for (int i=a; i>=b; --i)\n#define pi M_PI\n \ntypedef long long ll;\ntypedef vector<int> VI;\ntypedef vector<ll> VL;\ntypedef vector<VI> VVI;\n// typedef pair<int,int> P;\ntypedef pair<ll,ll> PL;\n\nint m;\n\nstring J(string s){\n    s = s[m-1] + s.substr(0,m-1);\n    return s;\n}\nstring C(string s){\n    s = s.substr(1) + s[0];\n    return s;\n}\nstring E(string s){\n    if (m % 2 == 0){\n        s = s.substr(m/2) + s.substr(0,m/2);\n    }else{\n        s = s.substr(m/2+1) + s[m/2] + s.substr(0,m/2);\n    }\n    return s;\n}\nstring A(string s){\n    reverse(s.begin(), s.end());\n    return s;\n}\nstring P(string s){\n    REP(i,m){\n        if (s[i] >= '1' && s[i] <= '9')\n            s[i]--;\n        else if (s[i] == '0')\n            s[i] = '9';\n    }\n    return s;\n}\nstring M(string s){\n    REP(i,m){\n        if (s[i] >= '0' && s[i] <= '8')\n            s[i]++;\n        else if (s[i] == '9')\n            s[i] = '0';\n    }\n    return s;\n}\n\nint main() {\n    int n;\n    cin >> n;\n    while (n--){\n        string s, t;\n        cin >> s >> t;\n        m = t.length();\n        reverse(s.begin(), s.end());\n        REP(i,s.length()){\n            if (s[i] == 'J')\n                t = J(t);\n            if (s[i] == 'C')\n                t = C(t);\n            if (s[i] == 'E')\n                t = E(t);\n            if (s[i] == 'A')\n                t = A(t);\n            if (s[i] == 'P')\n                t = P(t);\n            if (s[i] == 'M')\n                t = M(t);\n        }\n        cout << t << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint main(){\n\tint n;\n\tcin>>n;\n\twhile(n--){\n\t\tstring s,ss;\n\t\tcin>>s>>ss;\n\t\tfor(int i=s.size()-1;i>=0;i--){\n\t\t\tif(s[i]=='P')\n\t\t\t\tfor(int j=0;j<ss.size();j++)\n\t\t\t\t\tif(ss[j]>='0'&&ss[j]<='9')\n\t\t\t\t\t\tss[j]=(ss[j]-'0'+9)%10+'0';\n\t\t\tif(s[i]=='M')\n\t\t\t\tfor(int j=0;j<ss.size();j++)\n\t\t\t\t\tif(ss[j]>='0'&&ss[j]<='9')\n\t\t\t\t\t\tss[j]=(ss[j]-'0'+1)%10+'0';\n\t\t\tif(s[i]=='A')reverse(ss.begin(),ss.end());\n\t\t\tif(s[i]=='E')for(int k=0;k<ss.size()/2;k++)swap(ss[k],ss[(ss.size()+1)/2+k]);\n\t\t\tif(s[i]=='J')ss=ss[ss.size()-1]+ss.substr(0,s.size()-1);\n\t\t\tif(s[i]=='C')ss=ss.substr(1,ss.size()-1)+s[0];\n\t\t}\n\t\tcout<<ss<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main(void){\n  int n; cin >> n;\n  while(n--){\n    string order, message;\n    cin >> order >> message;\n    reverse(order.begin(), order.end());\n    for(int pos = 0; pos < order.length(); pos++){\n      int len = message.length();\n      if(order[pos]  == 'C'){\n        char c = message[0];\n        for(int i=0; i < len-1; i++){\n          message[i] = message[i+1];\n        }\n        message[len-1] = c;\n      }\n      if(order[pos]  == 'J'){\n        char c = message[len-1];\n        for(int i=len-1; i >= 1; i--){\n          message[i] = message[i-1];\n        }\n        message[0] = c;\n      }\n      if(order[pos]  == 'E'){\n        if(len % 2 == 0){\n          message = message.substr(len/2, len/2) + message.substr(0, len/2);\n        }else{\n          message = message.substr(len/2 + 1, len/2) + message.substr(len/2, 1) + message.substr(0, len/2);\n        }\n      }\n      if(order[pos]  == 'A'){\n        reverse(message.begin(), message.end());\n      }\n      if(order[pos]  == 'M'){\n        for(int i = 0; i < len; i++){\n          if(isdigit(message[i])){\n            if(message[i] - '0' == 9) message[i] = '0';\n            else{\n              message[i] = message[i] - '0' + 1 + '0';\n            }\n          }\n        }\n      }\n      if(order[pos]  == 'P'){\n        for(int i = 0; i < len; i++){\n          if(isdigit(message[i])){\n            if(message[i] - '0' == 0) message[i] = '9';\n            else{\n              message[i] = message[i] - '0' - 1 + '0';\n            }\n          }\n        }\n      }\n    }\n    cout << message << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nint main(void) {\n  int n;\n  cin >> n;\n\n  for (int i = 0; i < n; i++) {\n    string s, t;\n    cin >> s >> t;\n    reverse(s.begin(), s.end());\n\n    int sz = s.size(), tz = t.size();\n    for (int j = 0; j < sz; j++) {\n      if (s[j] == 'C') {\n        t = t.substr(1, tz - 1) + t[0];\n      } else if (s[j] == 'J') {\n        t = t[tz - 1] + t.substr(0, tz - 1);\n      } else if (s[j] == 'E') {\n        string a = t.substr(0, tz / 2), b = t.substr((tz + 1) / 2, tz / 2);\n        if (tz & 1) t = t[tz / 2];\n        else t = \"\";\n        t = b + t + a;\n      } else if (s[j] == 'A') {\n        reverse(t.begin(), t.end());\n      } else if (s[j] == 'M') {\n        for (int k = 0; k < tz; k++) {\n          if (!isdigit(t[k])) continue;\n          t[k] = (t[k] - '0' + 1) % 10 + '0';\n        }\n      } else {\n        for (int k = 0; k < tz; k++) {\n          if (!isdigit(t[k])) continue;\n          t[k] = (t[k] - '0' - 1 + 10) % 10 + '0';\n        }\n      }\n    }\n\n    cout << t << endl;\n  }\n\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<map>\n#include<set>\n#include<list>\n#include<cmath>\n#include<queue>\n#include<stack>\n#include<cstdio>\n#include<string>\n#include<vector>\n#include<complex>\n#include<cstdlib>\n#include<cstring>\n#include<numeric>\n#include<sstream>\n#include<iostream>\n#include<algorithm>\n#include<functional>\n\n#define mp       make_pair\n#define pb       push_back\n#define all(x)   (x).begin(),(x).end()\n#define rep(i,n) for(int i=0;i<(n);i++)\n\nusing namespace std;\n\ntypedef    long long          ll;\ntypedef    unsigned long long ull;\ntypedef    vector<bool>       vb;\ntypedef    vector<int>        vi;\ntypedef    vector<vb>         vvb;\ntypedef    vector<vi>         vvi;\ntypedef    pair<int,int>      pii;\n\nconst int INF=1<<29;\nconst double EPS=1e-9;\n\nconst int dx[]={1,0,-1,0},dy[]={0,-1,0,1};\nstring str;\nstring mess;\nint main(){\n\tint n;\n\tcin>>n;\n\tfor(int i = 0;i <n;i++){\n\t\tcin>>str;\n\t\tcin>>mess;\n\t\treverse(str.begin(),str.end());\n\t\tfor(int j = 0;j < str.length();j++){\n\t\t\t//cout <<j <<\" \"<<mess<<endl;\n\t\t\tif(str[j]=='A'){\n\t\t\t\treverse(mess.begin(),mess.end());\n\t\t\t}else if(str[j]=='J'){\n\t\t\t\tstring str1 =mess.substr(mess.length()-1,1);\n\t\t\t\tstring str2 =mess.substr(0,mess.length()-1);\n\t\t\t\tmess =str1+str2;\n\t\t\t}else if(str[j]=='C'){\n\t\t\t\tstring str1 =mess.substr(0,1);\n\t\t\t\tstring str2 =mess.substr(1,mess.length()-1);\n\t\t\t\tmess =str2+str1;\n\t\t\t}else if(str[j]=='E'){\n\t\t\t\tif(mess.length()%2!=0){\n\t\t\t\t\tstring str1 =mess.substr(0,mess.length()/2);\n\t\t\t\t\tstring str2 =mess.substr(mess.length()/2+1,mess.length()/2);\n\t\t\t\t\tstring str3 =mess.substr(mess.length()/2,1);\n\t\t\t\t\tmess =str2 +str3+ str1;\n\t\t\t\t}else if(mess.length()%2==0){\n\t\t\t\t\tstring str1 =mess.substr(0,mess.length()/2);\n\t\t\t\t\tstring str2 =mess.substr(mess.length()/2,mess.length()/2);\n\t\t\t\t\tmess =str2+str1;\n\t\t\t\t}\n\t\t\t}else if(str[j]=='P'){\n\t\t\t\tfor(int k = 0;k <mess.length();k++){\n\t\t\t\t\tif(isdigit(mess[k])){\n\t\t\t\t\t\tif(mess[k]>='1'){\n\t\t\t\t\t\t\tmess[k]--;\n\t\t\t\t\t\t}else if(mess[k]=='0'){\n\t\t\t\t\t\t\tmess[k]='9';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else if(str[j]=='M'){\n\t\t\t\tfor(int k = 0;k <mess.length();k++){\n\t\t\t\t\tif(isdigit(mess[k])){\n\t\t\t\t\t\tif(mess[k]<='8'){\n\t\t\t\t\t\t\tmess[k]++;\n\t\t\t\t\t\t}else if(mess[k]=='9'){\n\t\t\t\t\t\t\tmess[k]='0';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout <<mess<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\n\nusing namespace std;\n \nstring str;\n \nvoid C(int len){\n    char tmp = str[0];\n    for(int i = 1 ; i < len; i++){\n        str[i-1] = str[i];\n    }\n    str[len-1] = tmp;\n}\n \nvoid J(int len){\n    char tmp = str[len-1];\n    for(int i = len-2; i >=0 ; i--){\n        str[i+1] = str[i];\n    }\n    str[0] = tmp;\n}\n \nvoid E(int len){\n    int div = len/2;\n     \n    if(len%2==0){\n        string f = str.substr(0,div) , g = str.substr(div,len-1);\n        str = \"\";\n        str += g+f;\n    }\n    else{\n        string f = str.substr(0,div), g = str.substr(div+1,len);\n        string mid = str.substr(div,1);\n        str = \"\";\n        str += g+mid+f;\n    }\n}\n \nvoid A(){\n    reverse(str.begin(),str.end());\n}\n \nvoid M(int len){\n    for(int i = 0 ; i < len ; i++){\n        if('0' <= str[i] && str[i] <= '8'){\n            str[i] += 1;\n        }\n        else if(str[i] == '9') str[i] = '0';\n    }\n}\n \nvoid P(int len){\n    for(int i = 0 ; i < len ; i++){\n        if('1' <= str[i] && str[i] <= '9'){\n            str[i] -= 1;\n        }\n        else if(str[i] == '0') str[i] = '9';\n    }\n}\n \nint main(){\n    int n;\n    cin >> n;\n    while(n--){\n        string order;\n        cin >> order >> str;\n         \n        int len = str.size();\n        reverse(order.begin(),order.end());\n         \n        for(int i = 0 ; i < (int)order.size() ; i++){\n            switch(order[i]){\n\t    case 'J':\n\t\tJ(len);\n\t\tbreak;\n                     \n\t    case 'C':\n\t\tC(len);\n\t\tbreak;\n                     \n\t    case 'E':\n\t\tE(len);\n\t\tbreak;\n                     \n\t    case 'A':\n\t\tA();\n\t\tbreak;\n                     \n\t    case 'M':\n\t\tM(len);\n\t\tbreak;\n                     \n\t    case 'P':\n\t\tP(len);\n\t\tbreak;\n            }\n        }\n        cout << str << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <algorithm>\n#define rep(i,a) for(int i = 0 ; i < a ; i ++)\n\nusing namespace std;\n\nint main(void){\n  int N;\n  cin>>N;\n  while(N--){\n    string a,s;\n    cin>>a>>s;\n    reverse(a.begin(),a.end());\n    rep(i,a.size()){\n      switch(a[i]){\n        case 'A':\n          reverse(s.begin(),s.end());\n          break;\n        case 'J':\n          s=s.substr(s.size()-1)+s.substr(0,s.size()-1);\n          break;\n        case 'C':\n          s=s.substr(1)+s.substr(s.size()-1);\n          break;\n        case 'M':\n          rep(i,s.size()){\n            if('0'<=s[i]&&s[i]<='9'){\n              if(s[i]=='9')s[i]='0';\n              else s[i]++;\n            }\n          }\n          break;\n        case 'P':\n          rep(i,s.size()){\n            if('0'<=s[i]&&s[i]<='9'){\n              if(s[i]=='0')s[i]='9';\n              else s[i]--;\n            }\n          }\n          break;\n        case 'E':\n          int l = s.size()/2;\n          if(s.size()%2)\n            s = s.substr(s.size()-l) + s[l] + s.substr(0,l);\n          else\n            s = s.substr(s.size()-l) + s.substr(0,l);\n          break;\n      }\n    }\n      cout<<s<<endl;\n    \n  }\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 0x3f3f3f3f\n#include <cstdio>\n#include <iostream>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P > PP;\n\nint tx[] = {0,1,0,-1};\nint ty[] = {-1,0,1,0};\n\nstatic const double EPS = 1e-8;\n\n//J,C,E,A,P,M\n\nstring Mr(string op,string str){\n\tif(op==\"A\"){\n\t\treverse(str.begin(),str.end());\n\t\treturn str;\n\t}\n\n\telse if(op==\"C\"){\n\t\trotate(str.begin(),str.begin()+1,str.end());\n\t\treturn str;\n\t}\n\n\telse if(op==\"E\"){\n\t\tif(str.size() % 2 == 0){\n\t\t\tstring front = str.substr(0,str.size()/2);\n\t\t\tstring rear = str.substr(str.size()/2,str.size()/2);\n\t\t\treturn rear+front;\n\t\t}\n\t\telse{\n\t\t\tstring front = str.substr(0,str.size()/2);\n\t\t\tstring mid = str.substr(str.size()/2,1);\n\t\t\tstring rear = str.substr(str.size()/2+1,str.size()/2);\n\t\t\treturn rear + mid + front;\n\t\t}\n\t}\n\n\telse if(op==\"J\"){\n\t\trotate(str.begin(),str.end()-1,str.end());\n\t\treturn str;\n\t}\n\n\t//increament\n\telse if(op==\"M\"){\n\t\tfor(int i=0;i<str.size();i++){\n\t\t\tif(isdigit(str[i])){\n\t\t\t\tstr[i] = (str[i] < '9' ? str[i] + 1 : '0');\n\t\t\t}\n\t\t}\n\t\treturn str;\n\t}\n\n\t//decrement\n\telse if(op==\"P\"){\n\t\tfor(int i=0;i<str.size();i++){\n\t\t\tif(isdigit(str[i])){\n\t\t\t\tstr[i] = (str[i] > '0' ? str[i] - 1 : '0');\n\t\t\t}\n\t\t}\n\t\treturn str;\n\t}\n\n}\n\nint main(){\n\tint n;\n\twhile(~scanf(\"%d\",&n)){\n\t\tif(n==0) break;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tstring msger;\n\t\t\tstring msg;\n\t\t\tcin >> msger;\n\t\t\tcin >> msg;\n\n\t\t\tfor(int j=msger.size()-1;j>=0;j--){\n\t\t\t\tmsg = Mr(msger.substr(j,1),msg);\n\t\t\t}\n\t\t\tcout << msg << \"\\n\";\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "// Enjoy your stay.\n\n#include <bits/stdc++.h>\n\n#define EPS 1e-9\n#define INF 1070000000LL\n#define MOD 1000000007LL\n#define fir first\n#define foreach(it,X) for(auto it=(X).begin();it!=(X).end();it++)\n#define ite iterator\n#define mp make_pair\n#define mt make_tuple\n#define rep(i,n) rep2(i,0,n)\n#define rep2(i,m,n) for(int i=m;i<(n);i++)\n#define pb push_back\n#define sec second\n#define sz(x) ((int)(x).size())\n\nusing namespace std;\n\ntypedef istringstream iss;\ntypedef long long ll;\ntypedef pair<ll,ll> pi;\ntypedef stringstream sst;\ntypedef vector<ll> vi;\n\n\n\nint main(){\n\tcin.tie(0);\n\tios_base::sync_with_stdio(0);\n\t\n\tint n;\n\tcin>>n;\n\twhile(n--){\n\t\tstring s,t;\n\t\tcin>>s>>t;\n\t\tfor(int i=sz(s)-1;i>=0;i--){\n\t\t\tif(s[i]=='C'){\n\t\t\t\tt = t.substr(1) + t.substr(0,1);\n\t\t\t}\n\t\t\tif(s[i]=='J'){\n\t\t\t\tt = t.substr(sz(t)-1) + t.substr(0,sz(t)-1);\n\t\t\t}\n\t\t\tif(s[i]=='E'){\n\t\t\t\tif(sz(t)%2==0){\n\t\t\t\t\tt = t.substr(sz(t)/2) + t.substr(0,sz(t)/2);\n\t\t\t\t}else{\n\t\t\t\t\tt = t.substr(sz(t)/2+1) + t.substr(sz(t)/2,1) + t.substr(0,sz(t)/2);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(s[i]=='A'){\n\t\t\t\treverse(t.begin(),t.end());\n\t\t\t}\n\t\t\tif(s[i]=='M'){\n\t\t\t\trep(j,sz(t)){\n\t\t\t\t\tif(t[j]=='9')t[j]='0';\n\t\t\t\t\telse if(isdigit(t[j]))t[j]++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(s[i]=='P'){\n\t\t\t\trep(j,sz(t)){\n\t\t\t\t\tif(t[j]=='0')t[j]='9';\n\t\t\t\t\telse if(isdigit(t[j]))t[j]--;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t\tcout<<t<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <cstdio>\n#include <string>\n#include <cstring>\n#include <cctype>\n#include <cstdlib>\n#include <cmath>\n#include <vector>\n#include <set>\n#include <queue>\n#include <stack>\n#include <map>\nusing namespace std;\n\n#define REP(i, s, e) for (int i = (s); i < (e); i++)\n#define REPI(i, s, e) for (int i = (s); i <= (e); i++)\n#define rep(i, n) REP(i, 0, n)\n#define repi(i, n) REPI(i, 0, n)\n#define ALL(v) (v).begin(), (v).end()\n\n#define dump(x) (cout << #x << \" = \" << x << endl)\n#define dump2(x, y) (cout << \"(\" << #x << \", \" << #y << \") = (\" << x << \", \" << y << \")\" << endl)\n#define dump3(x, y, z) (cout << \"(\" << #x << \", \" << #y << \", \" << #z << \") = (\" << x << \", \" << y << \", \"<< z << \")\" << endl)\n\ntypedef long long ll;\ntypedef pair<int, int> pii;\n\nvoid j_inverse(string &s)\n{\n\tstring buf = s;\n\trep(i, s.size())\n\t\tbuf[i] = s[(s.size()+i-1)%s.size()];\n\ts = buf;\n}\n\nvoid c_inverse(string &s)\n{\n\tstring buf = s;\n\trep(i, s.size())\n\t\tbuf[i] = s[(s.size()+i+1)%s.size()];\n\ts = buf;\n}\n\nvoid e_inverse(string &s)\n{\n\tstring left, right;\n\tif (s.size()%2==0) {\n\t\tleft = s.substr(0, s.size()/2);\n\t\tright = s.substr(s.size()/2);\n\t\ts = right+left;\n\t} else {\n\t\tleft = s.substr(0, (s.size()-1)/2);\n\t\tright = s.substr((s.size()+1)/2);\n\t\ts = right + s[s.size()/2] + left;\n\t}\n}\n\nvoid a_inverse(string &s)\n{\n\treverse(ALL(s));\n}\n\nvoid p_inverse(string &s)\n{\n\trep(i, s.size())\n\t\tif (isdigit(s[i]))\n\t\t\ts[i] = (s[i]=='0'?'9':s[i]-1);\n}\n\nvoid m_inverse(string &s)\n{\n\trep(i, s.size())\n\t\tif (isdigit(s[i]))\n\t\t\ts[i] = (s[i]=='9'?'0':s[i]+1);\n}\n\nint main(void)\n{\n\tint n;\n\n\tcin >> n;\n\trep(TTTT, n) {\n\t\tstring order, str;\n\t\tcin >> order >> str;\n\t\trep(i, order.size()) {\n\t\t\tswitch(order[order.size()-1-i]) {\n\t\t\tcase 'J': j_inverse(str); break;\n\t\t\tcase 'C': c_inverse(str); break;\n\t\t\tcase 'E': e_inverse(str); break;\n\t\t\tcase 'A': a_inverse(str); break;\n\t\t\tcase 'P': p_inverse(str); break;\n\t\t\tcase 'M': m_inverse(str); break;\n\t\t\t}\n\t\t}\n\t\tcout << str << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\ntypedef long long int ll;\ntypedef pair<int, int> pii;\ntypedef vector<int> vi;\ntypedef vector<pair<int, int> > vii;\n#define rrep(i, m, n) for(int (i)=(m); (i)<(n);  (i)++)\n#define erep(i, m, n) for(int (i)=(m); (i)<=(n); (i)++)\n#define  rep(i, n)    for(int (i)=0; (i)<(n);  (i)++)\n#define rrev(i, m, n) for(int (i)=(n)-1; (i)>=(m); (i)--)\n#define erev(i, m, n) for(int (i)=(n); (i)>=(m); (i)--)\n#define  rev(i, n)    for(int (i)=(n)-1; (i)>=0; (i)--)\n#define vrep(i, c)    for(__typeof((c).begin())i=(c).begin(); i!=(c).end(); i++)\n#define  ALL(v)       (v).begin(), (v).end()\n#define pb            push_back\ntemplate<class T, class S> inline pair<T, S> mp(T x, S y){ return make_pair(x, y); }\ntemplate<class T, class S> inline bool minup(T& m, S x){ return m>(T)x ? (m=(T)x, true) : false; }\ntemplate<class T, class S> inline bool maxup(T& m, S x){ return m<(T)x ? (m=(T)x, true) : false; }\n\nstatic const int    INF = 1000000000;\nstatic const ll     MOD = 1000000007LL;\nstatic const double EPS = 1E-12;\n\nint n;\nstring mes;\nstring s;\n\nint main()\n{\n  cin >> n;\n\n  while(n--){\n    cin >> mes >> s;\n    int m = s.size();\n    reverse(ALL(mes));\n    vrep(v, mes){\n      if(*v == 'J'){\n        char t = s[m - 1];\n        rev(i, m-1) s[i + 1] = s[i];\n        s[0] = t;\n      }\n      else if(*v == 'C'){\n        char t = s[0];\n        rep(i, m-1) s[i] = s[i + 1];\n        s[m - 1] = t;\n      }\n      else if(*v == 'E'){\n        string l = s.substr(0, m / 2);\n        string r = s.substr((m + 1)/ 2, m - m / 2);\n        if(m & 1) s = r + s[m / 2] + l;\n        else s = r + l;\n      }\n      else if(*v == 'A'){\n        reverse(ALL(s));\n      }\n      else if(*v == 'P'){\n        vrep(w, s) if(*w >= '0' && *w <= '9'){\n          *w -= 1;\n          if(*w < '0') *w = '9';\n        }\n      }\n      else if(*v == 'M'){\n        vrep(w, s) if(*w >= '0' && *w <= '9'){\n          *w += 1;\n          if(*w > '9') *w = '0';\n        }\n      }\n    }\n    cout << s << endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<stdlib.h>\n#include<string.h>\nusing namespace std;\nint main()\n{\n\tint n;\n\tcin >> n;\n\tfor (int i = 0; i < n; i++)\n\t{\n\t\tchar messengers[7];\n\t\tchar message[26];\n\t\tcin >> messengers;\n\t\tcin >> message;\n\t\tint messengersNum = strlen(messengers);\n\t\tint messLen = strlen(message);\n\t\tfor (int j = messengersNum - 1; j >= 0; j--)\n\t\t{\n\t\t\tchar c = messengers[j];\n\t\t\tif (c == 'J')\n\t\t\t{\n\t\t\t\tchar tmp = message[messLen - 1];\n\t\t\t\tfor (int k = messLen - 1; k - 1 >= 0; k--)\n\t\t\t\t{\n\t\t\t\t\tmessage[k] = message[k - 1];\n\t\t\t\t}\n\t\t\t\tmessage[0] = tmp;\n\t\t\t}\n\t\t\telse if (c == 'C')\n\t\t\t{\n\t\t\t\tchar tmp = message[0];\n\t\t\t\tfor (int k = 0; k + 1 < messLen; k++)\n\t\t\t\t{\n\t\t\t\t\tmessage[k] = message[k + 1];\n\t\t\t\t}\n\t\t\t\tmessage[messLen - 1] = tmp;\n\t\t\t}\n\t\t\telse if (c == 'E')\n\t\t\t{\n\t\t\t\tif (messLen % 2 == 0)\n\t\t\t\t{\n\t\t\t\t\tint range = messLen / 2;\n\t\t\t\t\tfor (int k = 0; k + range< messLen; k++)\n\t\t\t\t\t{\n\t\t\t\t\t\tchar tmp = message[k];\n\t\t\t\t\t\tmessage[k] = message[k + range];\n\t\t\t\t\t\tmessage[k + range] = tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tint range = messLen / 2 + 1;\n\t\t\t\t\tfor (int k = 0; k  + range < messLen; k++)\n\t\t\t\t\t{\n\t\t\t\t\t\tchar tmp = message[k];\n\t\t\t\t\t\tmessage[k] = message[k + range];\n\t\t\t\t\t\tmessage[k + range] = tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (c == 'A')\n\t\t\t{\n\t\t\t\tfor (int k = 0; k < messLen - k; k++)\n\t\t\t\t{\n\t\t\t\t\tchar tmp = message[k];\n\t\t\t\t\tmessage[k] = message[messLen - 1 - k];\n\t\t\t\t\tmessage[messLen - 1 - k] = tmp;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (c == 'P')\n\t\t\t{\n\t\t\t\tfor (int k = 0; k< messLen; k++)\n\t\t\t\t{\n\t\t\t\t\tif (message[k] >= '0' && message[k] <= '9')\n\t\t\t\t\t{\n\t\t\t\t\t\tmessage[k]--;\n\t\t\t\t\t\tif (message[k] < '0')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmessage[k] = '9';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (c == 'M')\n\t\t\t{\n\t\t\t\tfor (int k = 0; k< messLen; k++)\n\t\t\t\t{\n\t\t\t\t\tif (message[k] >= '0' && message[k] <= '9')\n\t\t\t\t\t{\n\t\t\t\t\t\tmessage[k]++;\n\t\t\t\t\t\tif (message[k] > '9')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmessage[k] = '0';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcout << message << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint main(){\n\tint n;\n\tcin>>n;\n\twhile(n--){\n\t\tstring s,ss;\n\t\tcin>>s>>ss;\n\t\tfor(int i=s.size()-1;i>=0;i--){\n\t\t\tif(s[i]=='P')\n\t\t\t\tfor(int j=0;j<ss.size();j++)\n\t\t\t\t\tif(ss[j]>='0'&&ss[j]<='9')\n\t\t\t\t\t\tss[j]=(ss[j]-'0'+9)%10+'0';\n\t\t\tif(s[i]=='M')\n\t\t\t\tfor(int j=0;j<ss.size();j++)\n\t\t\t\t\tif(ss[j]>='0'&&ss[j]<='9')\n\t\t\t\t\t\tss[j]=(ss[j]-'0'+1)%10+'0';\n\t\t\tif(s[i]=='A')reverse(ss.begin(),ss.end());\n\t\t\tif(s[i]=='E')for(int k=0;k<ss.size()/2;k++)swap(ss[k],ss[(ss.size()+1)/2+k]);\n\t\t\tif(s[i]=='J')ss=ss[ss.size()-1]+ss.substr(0,ss.size()-1);\n\t\t\tif(s[i]=='C')ss=ss.substr(1,ss.size()-1)+ss[0];\n\t\t}\n\t\tcout<<ss<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<stdlib.h>\nusing namespace std;\nint main()\n{\n\tint n;\n\tcin >> n;\n\tfor (int i = 0; i < n; i++)\n\t{\n\t\tchar messengers[7];\n\t\tchar message[26];\n\t\tcin >> messengers;\n\t\tcin >> message;\n\t\tint messengersNum = strlen(messengers);\n\t\tint messLen = strlen(message);\n\t\tfor (int j = 0; j < messengersNum; j++)\n\t\t{\n\t\t\tchar c = messengers[j];\n\t\t\tif (c == 'J')\n\t\t\t{\n\t\t\t\tchar tmp = message[0];\n\t\t\t\tfor (int k = 0; k + 1 < messLen; k++)\n\t\t\t\t{\n\t\t\t\t\tmessage[k] = message[k + 1];\n\t\t\t\t}\n\t\t\t\tmessage[messLen - 1] = tmp;\n\t\t\t}\n\t\t\telse if (c == 'C')\n\t\t\t{\n\t\t\t\tchar tmp = message[messLen - 1];\n\t\t\t\tfor (int k = messLen - 1; k - 1 >= 0; k--)\n\t\t\t\t{\n\t\t\t\t\tmessage[k] = message[k - 1];\n\t\t\t\t}\n\t\t\t\tmessage[0] = tmp;\n\t\t\t}\n\t\t\telse if (c == 'E')\n\t\t\t{\n\t\t\t\tif (messLen % 2 == 0)\n\t\t\t\t{\n\t\t\t\t\tint range = messLen / 2;\n\t\t\t\t\tfor (int k = 0; k + range< messLen; k++)\n\t\t\t\t\t{\n\t\t\t\t\t\tchar tmp = message[k];\n\t\t\t\t\t\tmessage[k] = message[k + range];\n\t\t\t\t\t\tmessage[k + range] = tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tint range = messLen / 2 + 1;\n\t\t\t\t\tfor (int k = 0; k  + range < messLen; k++)\n\t\t\t\t\t{\n\t\t\t\t\t\tchar tmp = message[k];\n\t\t\t\t\t\tmessage[k] = message[k + range];\n\t\t\t\t\t\tmessage[k + range] = tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (c == 'A')\n\t\t\t{\n\t\t\t\tfor (int k = 0; k < messLen - k; k++)\n\t\t\t\t{\n\t\t\t\t\tchar tmp = message[k];\n\t\t\t\t\tmessage[k] = message[messLen - 1 - k];\n\t\t\t\t\tmessage[messLen - 1 - k] = tmp;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (c == 'P')\n\t\t\t{\n\t\t\t\tfor (int k = 0; k< messLen; k++)\n\t\t\t\t{\n\t\t\t\t\tif (message[k] >= '0' && message[k] <= '9')\n\t\t\t\t\t{\n\t\t\t\t\t\tmessage[k]++;\n\t\t\t\t\t\tif (message[k] > '9')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmessage[k] = '0';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (c == 'M')\n\t\t\t{\n\t\t\t\tfor (int k = 0; k< messLen; k++)\n\t\t\t\t{\n\t\t\t\t\tif (message[k] >= '0' && message[k] <= '9')\n\t\t\t\t\t{\n\t\t\t\t\t\tmessage[k]--;\n\t\t\t\t\t\tif (message[k] < '0')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmessage[k] = '9';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcout << message << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <cmath>\n#include <ctype.h>\n#include <string> \n#include <sstream>\n#include <iostream>\n#include <algorithm>\n#include <cstdlib>\n#include <map>\n#include <queue>\n#include <utility>\n#include <vector>\n\nusing namespace std;\n\nvoid c_j(string str);\nvoid c_c(string str);\nvoid c_e(string str);\nvoid c_a(string str);\nvoid c_p(string str);\nvoid c_m(string str);\n\nint main()\n{\n\tint n;\n\tstring order, message;\n\tcin >> n;\n\tfor(int i = 0; i < n; i++){\n\t\tcin >> order >> message;\n\t\tfor(int j = order.length()-1; j >= 0; j++){\n\t\t\tif(order[j] == 'J') c_j(message);\n\t\t\telse if(order[j] == 'C') c_c(message);\n\t\t\telse if(order[j] == 'E') c_e(message);\n\t\t\telse if(order[j] == 'A') c_a(message);\n\t\t\telse if(order[j] == 'P') c_p(message);\n\t\t\telse if(order[j] == 'M') c_m(message); \n\t\t}\n\t\tcout << message << endl;\n\t}\n\treturn 0;\n}\n\nvoid c_j(string str)\n{\n\tchar c;\n\tc = str[str.length()-1];\n\tstr -= c;\n\tstr = c + str;\n}\n\nvoid c_c(string str)\n{\n\tchar c;\n\tc = str[0];\n\tstr.erase(str.begin());\n\tstr += c;\n}\n\nvoid c_e(string str)\n{\n\tstring a;\n\tint l = str.length();\n\ta = str.substr(0, l / 2);\n\tif( l % 2 == 1){\n\t\tchar c = str[l / 2 + 1];\n\t\tstr.erase(str.begin(), str.begin() + l);\n\t\tstr += c;\n\t\tstr += a;\n\t} else {\n\t\tstr.erase(str.begin(), str.begin() + (l - 1));\n\t\tstr += a;\n\t}\n}\n\nvoid c_a(string str)\n{\n\treverse(str.begin(), str.end());\n}\n\nvoid c_p(string str)\n{\n\tfor(int i = 0; i < str.length() - 1; i++){\n\t\tif(isdigit(str[i])){\n\t\t\tint n = str[i] - '0';\n\t\t\tn--;\n\t\t\tif(n == -1) n = 9;\n\t\t\tstr[i] = n + '0';\n\t\t}\n\t}\n}\n\nvoid c_m(string str)\n{\n\tfor(int i = 0; i < str.length() - 1; i++){\n\t\tif(isdigit(str[i])){\n\t\t\tint n = str[i] - '0';\n\t\t\tn = (n + 1) % 10;\n\t\t\tstr[i] = n + '0';\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\n#define REP(i,n) for(int i=0;i<(n);i++)\n#define ALL(v) (v).begin(),(v).end()\n#define int long long\ntypedef pair<int,int> P;\n\n//-----------------------------------------------------------------------\n\nvoid decode(string &s,char c)\n{\n    if(c=='J'){\n\ts=s[s.size()-1]+s.substr(0,s.size()-1);\n    }\n    else if(c=='C'){\n\ts=s.substr(1)+s[0];\n    }\n    else if(c=='E'){\n\tif(s.size()%2==0) s=s.substr(s.size()/2)+s.substr(0,s.size()/2);\n\telse s=s.substr(s.size()/2+1)+s[s.size()/2]+s.substr(0,s.size()/2);\n    }\n    else if(c=='A'){\n\treverse(ALL(s));\n    }\n    else if(c=='P'){\n\tREP(i,s.size()){\n\t    if(s[i]=='0') s[i]='9';\n\t    if('1'<=s[i] && s[i]<='9') s[i]--;\n\t}\n    }\n    else{\n\tREP(i,s.size()){\n\t    if('0'<=s[i] && s[i]<='8') s[i]++;\n\t    if(s[i]=='9') s[i]='0';\n\t}\n    }\n}\n    \nsigned main()\n{\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n\n    int n; cin>>n;\n    REP(i,n){\n\tstring s,msg;\n\tcin>>s>>msg;\n\tfor(int i=s.size()-1;i>=0;i--){\n\t    decode(msg,s[i]);\n\t}\n\tcout<<msg<<endl;\n    }\n\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\nusing namespace std;\n\nint main()\n{\n    int n, len;\n    cin >> n;\n    string msg, srv;\n    while (cin >> srv >> msg, n--) {\n        len = msg.size();\n        for (int i = srv.size() - 1; i >= 0; --i) {\n            if (srv[i] == 'J') {\n                rotate(msg.begin(), msg.end() - 1, msg.end());\n            } else if (srv[i] == 'C') {\n                rotate(msg.begin(), msg.begin() + 1, msg.end());\n            } else if (srv[i] == 'E') {\n                if (len % 2)\n                    msg = msg.substr(len / 2 + 1) + msg[len / 2] + msg.substr(0, len / 2);\n                else\n                    msg = msg.substr(len / 2) + msg.substr(0, len / 2);\n            } else if (srv[i] == 'A') {\n                reverse(msg.begin(), msg.end());\n            } else if (srv[i] == 'P') {\n                for (int j = 0; j < len; ++j) {\n                    if (msg[j] >= '0' && msg[j] <= '9')\n                        msg[j] = (msg[j] + '9') % ':';\n                }\n            } else {\n                for (int j = 0; j < len; ++j) {\n                    if (msg[j] >= '0' && msg[j] <= '9')\n                        msg[j] = (msg[j] + 1) % '9';\n                }\n            }\n        }\n        cout << msg << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n \nint n;\nstring s,name;\n \nstring solve();\n \nint main(){\n    cin >> n;\n    for(int i = 0;i < n; ++i){\n        cin >> name >> s;\n        cout << solve() << endl;\n    }\n    return 0;\n}\n \nstring solve(){\n    reverse(name.begin(),name.end());\n    int nsize = name.size(), ssize = s.size(), half = s.size() / 2;\n    for(int i = 0;i < nsize;++i){\n        string tmp;\n        switch(name[i]){\n            case 'J':\n                tmp = s[ssize-1] + s;\n                tmp.pop_back();\n                s = tmp;\n                break;\n            case 'C':\n                for(int j = 1;j < ssize;++j)tmp += s[j];\n                tmp += s[0];\n                s = tmp;\n                break;\n            case 'E':\n                for(int j = 0;j < half;++j)tmp += s[half + ssize % 2 + j];\n                if(ssize%2)tmp += s[half];\n                for(int j = 0;j < half;++j)tmp += s[j];\n                s = tmp;\n                break;\n            case 'A':\n                reverse(s.begin(),s.end());\n                break;\n            case 'P':\n                for(int j = 0;j < ssize;++j)\n                    if(s[j] >= '0' && s[j] <= '9')\n                        s[j] = '0' + (s[j] - '0' + 9) % 10;\n                break;\n            case 'M':\n                for(int j = 0;j < ssize;++j)\n                    if(s[j] >= '0' && s[j] <= '9')\n                        s[j] = '0' + (s[j] - '0' + 1) % 10;\n                break;\n            default:\n                assert(0);\n                break;\n        }\n    }\n    return s;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<string>\n#include<cstdlib>\n#include<sstream>\n#include<queue>\n#include<deque>\n#include<cmath>\n#include<algorithm>\n#include<stack>\n#include<map>\n#include<set>\n#include<iomanip>\n#define INF 2147483647\n#define lli long long int\n#define MOD 1000000007\n\nusing namespace std;\ntypedef vector<int> vi;\ntypedef vector< vector<int> > vvi;\ntypedef pair<int,int> pii;\ntypedef vector<pair<int,int>> vpii;\n\nint main() {\n\n\tint n; cin >> n;\n\tfor (int i = 0 ; i < n; i++) {\n\t\tstring trans; cin >> trans;\n\t\tstring org; cin >> org;\n\n\t\tfor (int i = 0; i < trans.size(); i++){\n\t\t\tif (trans[i] == 'J'){\n\t\t\t\tstring str1 = org.substr(0,1);\t\n\t\t\t\tstring str2 = org.substr(1,org.size()-1);\t\n\t\t\t\torg = str2 + str1;\n\t\t\t}else if (trans[i] == 'C'){\n\t\t\t\tstring str1 = org.substr(0,org.size()-1);\t\n\t\t\t\tstring str2 = org.substr(org.size()-1,1);\t\n\t\t\t\torg = str2 + str1;\n\t\t\t}else if (trans[i] == 'E'){\n\t\t\t\tif (org.size() % 2 == 0){\n\t\t\t\t\tstring str1 = org.substr(0,org.size()/2);\t\n\t\t\t\t\tstring str2 = org.substr((org.size()/2),org.size()-(org.size()/2));\t\n\t\t\t\t\torg = str2 + str1;\n\t\t\t\t}else{\n\t\t\t\t\tstring str1 = org.substr(0,org.size()/2);\t\n\t\t\t\t\tstring str2 = org.substr((org.size()/2),1);\t\n\t\t\t\t\tstring str3 = org.substr((org.size()/2)+1,org.size()-(org.size()/2));\t\n\t\t\t\t\torg = str3 + str2 + str1;\n\t\t\t\t}\n\n\t\t\t}else if (trans[i] == 'A'){\n\t\t\t\treverse(org.begin(),org.end());\n\t\t\t}else if (trans[i] == 'P'){\n\t\t\t\tfor (int j = 0; j < org.size(); j++){\n\t\t\t\t\tif (isdigit(org[j])){\n\t\t\t\t\t\tint tmp = (org[j] - 48 + 1 + 10 )%10;\n\t\t\t\t\t\torg[j] = (tmp + '0');\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else if (trans[i] == 'M'){\n\t\t\t\tfor (int j = 0; j < org.size(); j++){\n\t\t\t\t\tif (isdigit(org[j])){\n\t\t\t\t\t\tint tmp = (org[j] - 48 - 1 + 10)%10;\n\t\t\t\t\t\torg[j] = (tmp + '0');\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcout << org << endl;\n\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <queue>\n#include <stack>\n#include <algorithm>\n#include <list>\n#include <vector>\n#include <complex>\n#include <utility>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <climits>\n#include <bitset>\n#include <ctime>\n#include <map>\n#include <unordered_map>\n#include <set>\n#include <unordered_set>\n#include <cassert>\n#include <cstddef>\n#include <iomanip>\n#include <numeric>\n#include <tuple>\n#include <sstream>\n#include <fstream>\n\nusing namespace std;\n#define REP(i, n) for (int (i) = 0; (i) < (n); (i)++)\n#define FOR(i, a, b) for (int (i) = (a); (i) < (b); (i)++)\n#define RREP(i, a) for(int (i) = (a) - 1; (i) >= 0; (i)--)\n#define FORR(i, a, b) for(int (i) = (a) - 1; (i) >= (b); (i)--)\n#define DEBUG(C) cerr << #C << \" = \" << C << endl;\nusing LL = long long;\nusing VI = vector<int>;\nusing VVI = vector<VI>;\nusing VL = vector<LL>;\nusing VVL = vector<VL>;\nusing VD = vector<double>;\nusing VVD = vector<VD>;\nusing PII = pair<int, int>;\nusing PDD = pair<double, double>;\nusing PLL = pair<LL, LL>;\nusing VPII = vector<PII>;\n#define ALL(a) begin((a)), end((a))\n#define RALL(a) rbegin((a)), rend((a))\n#define SORT(a) sort(ALL((a)))\n#define RSORT(a) sort(RALL((a)))\n#define REVERSE(a) reverse(ALL((a)))\n#define MP make_pair\n#define FORE(a, b) for (auto &&a : (b))\n#define FIND(s, e) ((s).find(e) != (s).end())\n#define EB emplace_back\n\nconst int INF = 1e9;\nconst int MOD = INF + 7;\nconst LL LLINF = 1e18;\n\nstring C(string S) {\n    auto c = S.front();\n    S.erase(begin(S));\n    return S + c;\n}\nstring J(string S) {\n    auto c = S.back();\n    S.pop_back();\n    return c + S;\n}\nstring E(string S) {\n    int len = S.length();\n    string res = \"\";\n    res += S.substr(len / 2 + (len % 2));\n    if (len % 2) res += S[len / 2];\n    res += S.substr(0, len / 2);\n    return res;\n}\n\nstring A(string S) {\n    REVERSE(S);\n    return S;\n}\nstring M(string S) {\n    REP(i, S.length()) {\n        if (isdigit(S[i])) {\n            int n = S[i] - '0';\n            n++;\n            if (n == 10) n = 0;\n            S[i] = n + '0';\n        }\n    }\n    return S;\n}\nstring P(string S) {\n    REP(i, S.length()) {\n        if (isdigit(S[i])) {\n            int n = S[i] - '0';\n            n--;\n            if (n == -1) n = 9;\n            S[i] = n + '0';\n        }\n    }\n    return S;\n}\n\nvoid solve(int N) {\n    vector<pair<string, string>> m(N);\n    for_each(ALL(m), [](auto &e){cin >> e.first >> e.second;});\n    FORE(el, m) {\n        string ans = el.second;\n        REVERSE(el.first);\n        FORE(e, el.first) {\n            switch (e) {\n            case 'J':\n                ans = J(ans);\n                break;\n            case 'C':\n                ans = C(ans);\n                break;\n            case 'E':\n                ans = E(ans);\n                break;\n            case 'A':\n                ans = A(ans);\n                break;\n            case 'P':\n                ans = P(ans);\n                break;\n            case 'M':\n                ans = M(ans);\n                break;\n            }\n        }\n        cout << ans << endl;\n    }\n    return;\n}\n\nsigned main(void) {\n    int n, m, p, a, b, c, x, y, z, q;\n    string s;\n    bool f = false;\n    while (cin >> n, n) {\n        solve(n);\n        return 0;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#pragma GCC optimize(\"O3\")\n#include<bits/stdc++.h> \nusing namespace std;\nusing ll=long long;\nusing ull=unsigned long long int;\nusing P=pair<ll,ll>;\ntemplate<class T> using V=vector<T>; \n#define fi first\n#define se second\n#define all(v) (v).begin(),(v).end()\nconst ll inf=(1e18);\nconst ll mod=1000000007;\nll gcd(ll a,ll b) {return b ? gcd(b,a%b):a;}\nll lcm(ll c,ll d){return c/gcd(c,d)*d;}\nstruct __INIT{__INIT(){cin.tie(0);ios::sync_with_stdio(false);cout<<fixed<<setprecision(15);}} __init;\ntemplate<class T> bool chmax(T &a, const T &b) { if (a<b) { a=b; return 1; } return 0; }\ntemplate<class T> bool chmin(T &a, const T &b) { if (a>b) { a=b; return 1; } return 0; }\nint main(){\nint t;\ncin>>t;\nwhile(t--){\n  string q;\n  cin>>q;\n  string s;\n  cin>>s;\n  int n=q.size(),m=s.size();\n  reverse(all(q));\n  for(int i=0;i<n;i++){\n    string tmp={};\n    if(q[i]=='J'){\n      for(int j=0;j<m;j++){\n        tmp.push_back(s[(j-1+m)%m]);\n      }\n      s=tmp;\n    }\n    if(q[i]=='C'){\n      for(int j=0;j<m;j++){\n        tmp.push_back(s[(j+1)%m]);\n      }\n      s=tmp;\n    }\n    if(q[i]=='E'){\n      for(int j=(m+1)/2;j<m;j++){\n        tmp.push_back(s[j]);\n      }\n      if(m%2==1)tmp.push_back(s[m/2]);\n      for(int j=0;j<m/2;j++){\n        tmp.push_back(s[j]);\n      }\n      s=tmp;\n    }\n    if(q[i]=='A'){\n      reverse(all(s));\n    }\n    if(q[i]=='P'){\n      for(int j=0;j<m;j++){\n        if(int(s[j]-'0')<=10){\n          s[j]=char((int(s[j]-'0')+9)%10+'0');\n        }\n      }\n    }\n     if(q[i]=='M'){\n      for(int j=0;j<m;j++){\n        if(int(s[j]-'0')<=10){\n          s[j]=char((int(s[j]-'0')+1)%10+'0');\n        }\n      }\n    }\n  }\n  cout<<s<<\"\\n\";\n}\n}\n"
  },
  {
    "language": "C++",
    "code": "//http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=1276\n#include <iostream>\n#include <string>\n#include <vector>\n#include <set>\n#include <cmath>\n#include <algorithm>\n#include <iomanip>\n#include <queue>\nusing ll = long long;\nusing namespace std;\n\nint const MOD = 1e9 + 7;\nbool sieve[2000000];\nint main(void)\n{\n    int n;\n    cin >> n;\n    for (int k = 0; k < n; ++k)\n    {\n        string order, mes;\n        cin >> order >> mes;\n        reverse(order.begin(), order.end());\n        for (int j = 0; j < order.size(); ++j)\n        {\n            switch (order[j])\n            {\n            case 'A':\n                reverse(mes.begin(), mes.end());\n                break;\n            case 'J':\n                rotate(mes.begin(), mes.begin() + mes.size() - 1, mes.end());\n                break;\n            case 'C':\n                rotate(mes.begin(), mes.begin() + 1, mes.end());\n                break;\n            case 'E':\n                for (int i = 0; i < mes.size() / 2; ++i)\n                {\n                    swap(mes[i], mes[(mes.size() + 1) / 2 + i]);\n                }\n                break;\n            case 'M':\n                for (int i = 0; i < mes.size(); ++i)\n                {\n                    if (mes[i] >= '0' && mes[i] <= '8')\n                    {\n                        mes[i] = (char)(mes[i] + 1);\n                        continue;\n                    }\n                    if (mes[i] == '9')\n                        mes[i] = '0';\n                }\n                break;\n            case 'P':\n                for (int i = 0; i < mes.size(); ++i)\n                {\n                    if (mes[i] >= '1' && mes[i] <= '9')\n                    {\n                        mes[i] = (char)(mes[i] - 1);\n                        continue;\n                    }\n                    if (mes[i] == '0')\n                        mes[i] = '9';\n                }\n                break;\n            }\n        }\n        cout << mes << endl;\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint n;\nchar buf[114514];\n\nstring C(string s) {\n  return s.substr(1) + s[0];\n}\n\nstring J(string s) {\n  int k = s.length()-1;\n  return s[k] + s.substr(0, k);\n}\n\nstring E(string s) {\n  int n = s.length();\n  if (n%2 == 1) {\n    return s.substr(n/2+1) + s[n/2] + s.substr(0, n/2);\n  }\n  return s.substr(n/2) + s.substr(0, n/2);\n}\n\nstring A(string s) {\n  reverse(s.begin(), s.end());\n  return s;\n}\n\nstring M(string s) {\n  int n = s.length();\n  for (int i=0; i<n; i++) {\n    char c = s[i];\n    if ('0' <= c && c <= '9') s[i] = '0' + (c-'0'+1)%10;\n  }\n  return s;\n}\n\nstring P(string s) {\n  int n = s.length();\n  for (int i=0; i<n; i++) {\n    char c = s[i];\n    if ('0' <= c && c <= '9') s[i] = '0' + (c-'0'+9)%10;\n  }\n  return s;\n}\n\nint main() {\n  scanf(\"%d\", &n);\n  while (n--) {\n    scanf(\" %s\", buf);\n    string order(buf);\n    scanf(\" %s\", buf);\n    string msg(buf);\n\n    reverse(order.begin(), order.end());\n    for (int i=0; i<order.size(); i++) {\n      if (order[i] == 'A') msg = A(msg);\n      if (order[i] == 'J') msg = J(msg);\n      if (order[i] == 'E') msg = E(msg);\n      if (order[i] == 'P') msg = P(msg);\n      if (order[i] == 'M') msg = M(msg);\n      if (order[i] == 'C') msg = C(msg);\n    }\n\n    printf(\"%s\\n\", msg.c_str());\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\nusing namespace std;\n#define debug 0\nint main(){\n\t/*\n\tJ\t先頭を最後尾に\n\tC\t最後尾を先頭に\n\tE\t前半と後半を入れ替える(文字列が奇数なら真ん中は残す)\n\tA\t文字列をひっくり返す\n\tP\tプラス\n\tM\tマイナス\n\t*/\n\tint n;\n\tfor(cin>>n;n>0;n--){\n\t\tstring order,str;\n\t\tcin>>order>>str;\n\t\tif(debug)cout<<\"$\"<<str<<endl;\n\t\tfor(int i=order.size()-1;i>=0;i--){\n\t\t\tif(order[i]=='J'){\n\t\t\t\tstring tmp=\"\";\n\t\t\t\ttmp+=str[str.size()-1];\n\t\t\t\tfor(int j=0;j<str.size()-1;j++)tmp+=str[j];\n\t\t\t\tstr=tmp;\n\t\t\t}\n\t\t\tif(order[i]=='C'){\n\t\t\t\tstring tmp=\"\";\n\t\t\t\tfor(int j=1;j<str.size();j++)tmp+=str[j];\n\t\t\t\ttmp+=str[0];\n\t\t\t\tstr=tmp;\n\t\t\t}\n\t\t\tif(order[i]=='E'){\n\t\t\t\tstring tmp=\"\";\n\t\t\t\tif(str.size()%2){//奇数文字列\n\t\t\t\t\tfor(int j=str.size()/2+1;j<str.size();j++)tmp+=str[j];\n\t\t\t\t\ttmp+=str[str.size()/2];\n\t\t\t\t\tfor(int j=0;j<str.size()/2;j++)tmp+=str[j];\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tfor(int j=str.size()/2;j<str.size();j++)tmp+=str[j];\n\t\t\t\t\tfor(int j=0;j<str.size()/2;j++)tmp+=str[j];\n\t\t\t\t}\n\t\t\t\tstr=tmp;\n\t\t\t}\n\t\t\tif(order[i]=='A'){\n\t\t\t\treverse(str.begin(), str.end());\n\t\t\t}\n\t\t\tif(order[i]=='P'){\n\t\t\t\tfor(int j=0;j<str.size();j++){\n\t\t\t\t\tif('0'<str[j]&&str[j]<='9')str[j]--;\n\t\t\t\t\telse if(str[j]=='0')str[j]='9';\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(order[i]=='M'){\n\t\t\t\tfor(int j=0;j<str.size();j++){\n\t\t\t\t\tif('0'<=str[j]&&str[j]<'9')str[j]++;\n\t\t\t\t\telse if(str[j]=='9')str[j]='0';\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(debug)cout<<\"#\"<<str<<endl;\n\t\t}\n\t\tcout<<str<<endl;\n\t}\n\t\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <string>\n#include <cstdio>\n#include <cstring>\nusing namespace std;\n\n#define REP(i,a,n) for(int i=(a); i<(int)(n); i++)\n#define rep(i,n) REP(i,0,n)\n#define DEB 0\n#define all(x) x.begin(), x.end()\n\nint main(){\n  int n;\n  string order, mess, tmp;\n  cin>>n;\n  while(n--){\n    cin >> order >> mess;\n    for(int i=order.size()-1; i>=0; i--){\n      switch(order[i]){\n      case 'C':\n\tmess = mess.substr(1) + mess.substr(0,1);\n\tbreak;\n      case 'J':\n\tmess = mess.substr(mess.size()-1) + mess.substr(0,mess.size()-1);\n\tbreak;\n      case 'E':\n\tif( mess.size()%2==0 ){\n\t  mess = mess.substr(mess.size()/2) + mess.substr(0,mess.size()/2);\n\t}else{\n\t  mess = mess.substr(mess.size()/2+1) + mess[mess.size()/2] + mess.substr(0,mess.size()/2);\n\t}\n\tbreak;\n      case 'A':\n\treverse(all(mess));\n\tbreak;\n      case 'P':\n\trep(j,mess.size()){\n\t  if( '0'<=mess[j] && mess[j]<='9' ){\n\t    if( mess[j]=='0' ){\n\t      mess[j] = '9';\n\t    }else{\n\t      mess[j]--;\n\t    }\n\t  }\n\t}\n\tbreak;\n      case 'M':\n\trep(j,mess.size()){\n\t  if( '0'<=mess[j] && mess[j]<='9' ){\n\t    if( mess[j]=='9' ){\n\t      mess[j] = '0';\n\t    }else{\n\t      mess[j]++;\n\t    }\n\t  }\n\t}\n\tbreak;\n      }\n#if DEB\n      cout << \":: \" << mess << endl;\n#endif\n    }\n    cout << mess << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\nusing namespace std;\n\nvoid deTransform(const char op, string& str) {\n    switch (op) {\n    case 'J':\n        str = str.at(str.length() - 1) + str.substr(0, str.length() - 1);\n        break;\n    case 'C':\n        str = str.substr(1, str.length() - 1) + str.at(0);\n        break;\n    case 'E':\n        if (str.length() % 2 == 0) {\n            str = str.substr(str.length() / 2, str.length() / 2) + str.substr(0, str.length() / 2);\n        } else {\n            unsigned int middle = str.length() / 2;\n            str = str.substr(middle + 1, middle) + str.at(middle) + str.substr(0, middle);\n        }\n        break;\n    case 'A':\n        reverse(str.begin(), str.end());\n        break;\n    case 'P':\n        for (string::iterator it = str.begin(); it != str.end(); it++) {\n            if (*it == '0') {\n                *it = '9';\n            } else if ('0' < *it && *it <= '9') {\n                (*it)--;\n            }\n        }\n        break;\n    case 'M':\n        for (string::iterator it = str.begin(); it != str.end(); it++) {\n            if (*it == '9') {\n                *it = '0';\n            } else if ('0' <= *it && *it < '9') {\n                (*it)++;\n            }\n        }\n        break;\n    }\n}\n\nint main() {\n    int n;\n    cin >> n;\n    while (n--) {\n        string messengers, message;\n        cin >> messengers >> message;\n        for (string::reverse_iterator rit = messengers.rbegin(); rit != messengers.rend(); rit++) {\n            deTransform(*rit, message);\n        }\n        cout << message << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#define between(n,x,m) (((n)<=(x))&&((x)<=(m)))\n\nusing namespace std;\nstring filter,str;\n\nvoid J(){rotate(str.begin(),str.begin()+(str.length()-1),str.end());}\nvoid C(){rotate(str.begin(),str.begin()+1,str.end());}\nvoid E(){\n  int i=(str.length())/2;\n  string tmp=str;\n  str.replace(0,i,tmp,str.length()-i,i);\n  str.replace(str.length()-i,i,tmp,0,i);\n}\n\nvoid A(){reverse(str.begin(),str.end());}\n\nvoid P(){\n  int i=str.length();\n  char *p=(char*)str.data();\n  for(;i>=0;--i){\n    if(between('0',p[i],'9')){\n\t  p[i]--;\n\t  if(p[i]=='/')p[i]='9';\n\t}\n  }\n}\n\nvoid M(){\n  int i=str.length();\n  char *p=(char*)str.data();\n  for(;i>=0;--i){\n    if(between('0',p[i],'9')){\n\t  p[i]++;\n\t  if(p[i]==':')p[i]='0';\n\t}\n  }\n}\n\n\nstruct x{\n  void operator()(char c){\n    switch(c){\n\t  case 'J': J();break;\n\t  case 'C': C();break;\n\t  case 'E': E();break;\n\t  case 'A': A();break;\n\t  case 'P': P();break;\n\t  default:  M();break;\n\t}\n  }\n};\n\nint main(){\n  int n;\n  cin >> n;\n  while(n--){\n    cin >> filter;\n\tcin >> str;\n\tfor_each(filter.rbegin(), filter.rend(), x());\n\tcout << str << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <cmath>\n#include <ctype.h>\n#include <string> \n#include <sstream>\n#include <iostream>\n#include <algorithm>\n#include <cstdlib>\n#include <map>\n#include <queue>\n#include <utility>\n#include <vector>\n\nusing namespace std;\n\nvoid c_j(string str);\nvoid c_c(string str);\nvoid c_e(string str);\nvoid c_a(string str);\nvoid c_p(string str);\nvoid c_m(string str);\n\nint main()\n{\n\tint n;\n\tstring order, message;\n\tcin >> n;\n\tfor(int i = 0; i < n; i++){\n\t\tcin >> order >> message;\n\t\tfor(int j = order.length()-1; j >= 0; j++){\n\t\t\tif(order[j] == 'J') c_j(message);\n\t\t\telse if(order[j] == 'C') c_c(message);\n\t\t\telse if(order[j] == 'E') c_e(message);\n\t\t\telse if(order[j] == 'A') c_a(message);\n\t\t\telse if(order[j] == 'P') c_p(message);\n\t\t\telse if(order[j] == 'M') c_m(message); \n\t\t}\n\t\tcout << message << endl;\n\t}\n\treturn 0;\n}\n\nvoid c_j(string str)\n{\n\tchar c;\n\tc = str[str.length()-1];\n\tstr.pop_back();\n\tstr = c + str;\n}\n\nvoid c_c(string str)\n{\n\tchar c;\n\tc = str[0];\n\tstr.erase(str.begin());\n\tstr += c;\n}\n\nvoid c_e(string str)\n{\n\tstring a;\n\tint l = str.length();\n\ta = str.substr(0, l / 2);\n\tif( l % 2 == 1){\n\t\tchar c = str[l / 2 + 1];\n\t\tstr.erase(str.begin(), str.begin() + l);\n\t\tstr += c;\n\t\tstr += a;\n\t} else {\n\t\tstr.erase(str.begin(), str.begin() + (l - 1));\n\t\tstr += a;\n\t}\n}\n\nvoid c_a(string str)\n{\n\treverse(str.begin(), str.end());\n}\n\nvoid c_p(string str)\n{\n\tfor(int i = 0; i < str.length() - 1; i++){\n\t\tif(isdigit(str[i])){\n\t\t\tint n = str[i] - '0';\n\t\t\tn--;\n\t\t\tif(n == -1) n = 9;\n\t\t\tstr[i] = n + '0';\n\t\t}\n\t}\n}\n\nvoid c_m(string str)\n{\n\tfor(int i = 0; i < str.length() - 1; i++){\n\t\tif(isdigit(str[i])){\n\t\t\tint n = str[i] - '0';\n\t\t\tn = (n + 1) % 10;\n\t\t\tstr[i] = n + '0';\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <algorithm>\n#include <utility>\n#include <numeric>\n#include <array>\n#include <cmath>\n#include <map>\n#include <memory>\nusing namespace std;\n//変数デバッグ\n#define DEB(variable) cout << #variable << '=' << variable << endl\n\n//for簡易表記(引数ミス防止)\n#define FOR(LoopVariable,numberOFbegin,numberOFend) for (long long int LoopVariable = (numberOFbegin); (LoopVariable) < (numberOFend); (LoopVariable)++)\n#define DEFOR(LoopVariable,numberOFbegin,numberOFend) for (long long int LoopVariable = (numberOFbegin)-1; (LoopVariable) >= (numberOFend); (LoopVariable)--)\n#define REP(LoopVariable,numberOFend) for(long long int LoopVariable = 0;(LoopVariable)<(numberOFend);LoopVariable++)\n\nconstexpr long long int linf = numeric_limits<long long int>::max()-5;\nconstexpr int inf= numeric_limits<int>::max()-5;\nconstexpr long long int mod = 1000000007;\n\nstring C_rotate(string s){\n     return  s.substr(1, s.size() - 1)+s.substr(0, 1) ;\n    \n}\n\nstring J_rotate(string s){\n   return s.substr(s.size() - 1, 1) + s.substr(0, s.size() - 1);\n}\n\nstring E_swap(string s){\n    REP(i,(long long int)s.size()/2){\n        swap(s[i], s[i + (1 + s.size()) / 2]);\n    }\n    return s;\n}\n\nstring A_reverse(string s){\n    reverse(s.begin(), s.end());\n    return s;\n}\n\nstring P_increment(string s){\n      REP(i,(long long int)s.size()){\n        if('1'<=s[i]&&s[i]<='9'){\n            s[i]--;\n        }else if(s[i]=='0'){\n            s[i] = '9';\n        }\n    }\n    return s;\n}\n\n\nstring M_decrement(string s){\n    REP(i,(long long int)s.size()){\n        if('0'<=s[i]&&s[i]<='8'){\n            s[i]++;\n        }else if(s[i]=='9'){\n            s[i] = '0';\n        }\n    }\n  \n    return s;\n}\n\n\nint main(){\n\n    long long int n;\n    cin >> n;\n    string a,b;\n    REP(i,n){\n        cin >> a >> b;\n        DEFOR(j,(long long int)a.size(),0){\n            if(a[j]=='C'){\n                b = C_rotate(b);\n            }else if(a[j]=='J'){\n                b = J_rotate(b);\n            }else if(a[j]=='E'){\n                b = E_swap(b);\n            }else if(a[j]=='A'){\n                b = A_reverse(b);\n            }else if(a[j]=='P'){\n                b = P_increment(b);\n            }else if(a[j]=='M'){\n                b = M_decrement(b);\n            }\n        }\n        cout << b << endl;\n    }\n\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<sstream>\n#include<algorithm>\n#include<climits>\n#include<cmath>\n#include<cstdio>\n#include<cstdlib>\n#include<ctime>\n#include<cfloat>\n#include<functional>\n#include<map>\n#include<string>\n#include<cstring>\n#include<vector>\n#include<queue>\n#include<stack>\n#include<deque>\n#include<set>\n#include<bitset>\n#include<list>\n#include<numeric>\n#include<complex>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int, int> i_i;\ntypedef pair<long long, int> ll_i;\ntypedef pair<double, int> d_i;\ntypedef pair<long long, long long> ll_ll;\ntypedef pair<double, double> d_d;\ntypedef vector<int> Vint;\n\n#define PI 3.141592653589793238462643383279\n#define mod 1000000007LL\n#define rep(i, n) for(i = 0;i < n;++i)\n#define rep1(i, n) for(i = 1;i < n;++i)\n#define rep2d(i, j, n) for(i = 0;i < n;++i)for(j = i + 1;j < n;++j)\n#define per(i, n) for(i = n - 1;i > -1;--i)\n#define int(x) int x; scanf(\"%d\",&x)\n#define int2(x, y) int x, y; scanf(\"%d%d\",&x, &y)\n#define int3(x, y, z) int x, y, z; scanf(\"%d%d%d\",&x, &y, &z)\n#define int4(v, x, y, z) int v, x, y, z; scanf(\"%d%d%d%d\", &v, &x, &y, &z)\n#define int5(v, w, x, y, z) int v, w, x, y, z; scanf(\"%d%d%d%d%d\", &v, &w, &x, &y, &z)\n#define scn(n, a) rep(i, n)cin >> a[i]\n#define sc2n(n, a, b) rep(i, n)cin >> a[i] >> b[i]\n#define pri(x) cout << x << \"\\n\"\n#define pri2(x, y) cout << x << \" \" << y << \"\\n\"\n#define pri3(x, y, z) cout << x << \" \" << y << \" \" << z << \"\\n\"\n#define pb push_back\n#define mp make_pair\n#define all(a) (a).begin(),(a).end()\n#define endl \"\\n\"\n#define kabe puts(\"---------------------------\")\n#define kara puts(\"\")\n#define debug(x) cout << \" --- \" << x << \"\\n\"\n#define debug2(x, y) cout << \" --- \" << x << \" \" << y << \"\\n\"\n#define debug3(x, y, z) cout << \" --- \" << x << \" \" << y << \" \" << z << \"\\n\"\n#define X first\n#define Y second\n#define eps 0.0001\n#define prid(x) printf(\"%.15lf\\n\", x)\n\nstring s;\n\nvoid f(char c){\n  if(c == 'C'){\n    s = s.substr(1, s.size() - 1) + s.substr(0, 1);\n  }else if(c == 'J'){\n    s = s.substr(s.size() - 1, 1) + s.substr(0, s.size() - 1);\n  }else if(c == 'E'){\n    int qwe = s.size() / 2;\n    if(s.size() % 2)s = s.substr(qwe + 1, qwe) + s.substr(qwe, 1) + s.substr(0, qwe);\n    else s = s.substr(qwe, qwe) + s.substr(0, qwe);\n  }else if(c == 'A'){\n    reverse(all(s));\n  }else if(c == 'M'){\n    int i;\n    rep(i, s.size())if('0' <= s[i] && s[i] <= '9'){\n      s[i] == '9' ? s[i] == '0' : ++s[i];\n    }\n  }else if(c == 'P'){\n    int i;\n    rep(i, s.size())if('0' <= s[i] && s[i] <= '9'){\n      s[i] == '0' ? s[i] == '9' : --s[i];\n    }\n  }\n  return;\n}\n\nsigned main(void){\n  int i, j, k;\n  int(n);\n  for(int testcase = 0;testcase < n;testcase++){\n    string t;\n    cin >> t >> s;\n    per(i, t.size())f(t[i]);\n    pri(s);\n\n\n    s.clear(); t.clear();\n//*/\n\n//*/ break;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define REP(i,a,b) for(int i=(a);i<(int)(b);i++)\n#define rep(i,n) REP(i,0,n)\n#define FOR(i,c) for(auto& (i):(c))\n#define ALL(x) (x).begin(),(x).end()\n#define SZ(x) (int)(x).size()\n\nstring J(string s) {\n    string t = s.substr(1, SZ(s) - 1);\n    t += s[0];\n    return t;\n}\n\nstring C(string s) {\n    string t = \"\";\n    t += s[SZ(s)-1];\n    t += s.substr(0, SZ(s) - 1);\n    return t;\n}\n\nstring E(string s) {\n    int n = s.size();\n    string t = \"\";\n    if(n % 2 == 0) {\n        t += s.substr(n/2, n/2);\n        t += s.substr(0, n/2);\n    } else {\n        t += s.substr(n/2+1, n/2);\n        t += s[n/2];\n        t += s.substr(0, n/2);\n    }\n    return t;\n}\n\nstring P(string s) {\n    FOR(c, s) {\n        if(isdigit(c)) {\n            if(c == '9') c = '0';\n            else c++;\n        }\n    }\n    return s;\n}\n\nstring M(string s) {\n    FOR(c, s) {\n        if(isdigit(c)) {\n            if(c == '0') c = '9';\n            else c--;\n        }\n    }\n    return s;\n}\n\nvoid solve(string order, string msg) {\n    reverse(ALL(order));\n    FOR(c, order) {\n        if(c == 'C') msg = J(msg);\n        if(c == 'J') msg = C(msg);\n        if(c == 'E') msg = E(msg);\n        if(c == 'A') reverse(ALL(msg));\n        if(c == 'M') msg = P(msg);\n        if(c == 'P') msg = M(msg);\n    }\n    cout << msg << \"\\n\";\n}\n\nint main() {\n    int n; cin>>n;\n    rep(data,n) {\n        string order, msg;\n        cin >> order >> msg;\n        solve(order, msg);\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <string>\n \nusing namespace std;\n\nstring invA( string s ){\n\tstring ret;\n\tfor(int i = s.length() - 1; i >= 0; i--)\n\t\tret += s[i];\n\treturn ret;\n}\nstring invE( string s ) {\n\tint size = s.length();\n\tstring ret;\n\n\tstring div[3];\n\tdiv[0] = s.substr(0, size/2);\n\tdiv[1] = s.substr(size/2, size%2);\n\tdiv[2] = s.substr(size/2 + size % 2, string::npos);\n\n\tret += div[2];\n\tret += div[1];\n\tret += div[0];\n\n\treturn ret;\n}\nstring invJ( string s ){\n\tint size = s.length();\n\tstring ret;\n\tret += s[size - 1]; \n\tfor(int i = 0; i < size - 1; i++)\n\t\tret += s[i];\n\treturn ret;\n}\nstring invC( string s ){\n\tint size = s.length();\n\tstring ret;\n\tfor(int i = 1; i < size; i++)\n\t\tret += s[i];\n\tret += s[0];\n\treturn ret;\n}\nstring invM( string s ){\n\tint size = s.length();\n\tstring ret;\n\tfor(int i = 0; i < size; i++){\n\t\tif( s[i] < '0' || s[i] > '9' ) {\n\t\t\tret += s[i];\n\t\t} else {\n\t\t\tif( s[i] == '9' ) {\n\t\t\t\tret += '0';\n\t\t\t} else {\n\t\t\t\tret += s[i] + 1;\n\t\t\t}\n\t\t}\n\t}\n\treturn ret;\n}\nstring invP( string s ){\n\tint size = s.length();\n\tstring ret;\n\tfor(int i = 0; i < size; i++){\n\t\tif( s[i] < '0' || s[i] > '9' ) {\n\t\t\tret += s[i];\n\t\t} else {\n\t\t\tif( s[i] == '0' ) {\n\t\t\t\tret += '9';\n\t\t\t} else {\n\t\t\t\tret += s[i] - 1;\n\t\t\t}\n\t\t}\n\t}\n\treturn ret;\n}\nstring inv(string s, string o) {\n\tstring ret;\n\tret = s;\n\tfor(int i = o.length() - 1; i >= 0; i--) {\n\t\tswitch( o[i] ) {\n\t\tcase 'A':\n\t\t\tret = invA(ret);\n\t\t\tbreak;\n\t\tcase 'E':\n\t\t\tret = invE(ret);\n\t\t\tbreak;\n\t\tcase 'J':\n\t\t\tret = invJ(ret);\n\t\t\tbreak;\n\t\tcase 'C':\n\t\t\tret = invC(ret);\n\t\t\tbreak;\n\t\tcase 'M':\n\t\t\tret = invM(ret);\n\t\t\tbreak;\n\t\tcase 'P':\n\t\t\tret = invP(ret);\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn ret;\n}\n \nint main(void){\n    //FILE* fp_in = freopen(\"data.txt\", \"r\", stdin);\n\n\tint n;\n\tcin >> n;\n\n\tfor(int i = 0; i < n; i++) {\n\t\tstring s,o;\n\t\tcin >> o;\n\t\tcin >> s;\n\t\tcout << inv(s, o) << endl;\n\t}\n \n   //while(1){}\n \n   return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <cctype>\n#include <limits.h>\n#include <math.h>\n#include <complex>\n#include <bitset>\n#include <vector>\n#include <map>\n#include <set>\n#include <stack>\n#include <queue>\n#include <cstring>\n#include <string>\n#include <sstream>\n#include <algorithm>\n#include <iomanip>\n#include <iostream>\n\n#define VARIABLE(x) cerr << #x << \"=\" << x << endl\n#define BINARY(x) static_cast<bitset<16> >(x);\n#define rep(i,n) for(int i=0;i<(int)(n);i++)\n#define REP(i,m,n) for (int i=m;i<(int)(n);i++)\n#define if_range(x, y, w, h) if (0<=(int)(x) && (int)(x)<(int)(w) && 0<=(int)(y) && (int)(y)<(int)(h))\n\nconst int INF = 1000000000;\nconst double EPS = 1e-8;\nconst double PI = 3.14159;\nint dx[4]={0, 1, 0, -1}, dy[4]={-1, 0, 1, 0};\nusing namespace std;\n//typedef pair<int, int> P;\nstruct P {\n\tint x, y;\n\tP(int x, int y):x(x), y(y){}\n\tP(){}\n};\n\n/** Problem1240 : Unreliable Message **/\nint main()\n{\n\tint N; cin>>N;\n\trep(z, N) {\n\t\tstring k, s, ns;\n\t\tcin>>k>>s;\n\t\tint l=(int)s.size();\n\t\t\n\t\trep(i, k.size()) {\n\t\t\tns=\"\";\n\t\t\tswitch(k[k.size()-1-i]) {\n\t\t\t\tcase 'J':\n\t\t\t\t\trep(j, s.size()) {\n\t\t\t\t\t\tns += s[(l-1+j)%l];\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'C':\n\t\t\t\t\trep(j, s.size()) {\n\t\t\t\t\t\tns += s[(j+1)%l];\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'E':\n\t\t\t\t\tif (l%2==0) {\n\t\t\t\t\t\tns += s.substr(l/2, l/2);\n\t\t\t\t\t\tns += s.substr(0, l/2);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tns += s.substr(l/2+1, l/2);\n\t\t\t\t\t\tns += s[l/2];\n\t\t\t\t\t\tns += s.substr(0, l/2);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'A':\n\t\t\t\t\trep(j, l) {\n\t\t\t\t\t\tns += s[l-1-j];\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'P':\n\t\t\t\t\trep(j, l) {\n\t\t\t\t\t\tif (isdigit(s[j])) {\n\t\t\t\t\t\t\tif (s[j]=='0')\n\t\t\t\t\t\t\t\tns+='9';\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tns+=s[j]-1;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tns += s[j];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'M':\n\t\t\t\t\trep(j, l) {\n\t\t\t\t\t\tif (isdigit(s[j])) {\n\t\t\t\t\t\t\tif (s[j]=='9')\n\t\t\t\t\t\t\t\tns+='0';\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tns+=s[j]+1;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tns += s[j];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\ts = ns;\n\t\t}\n\t\tcout << s << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef vector<int> vi;\ntypedef vector<vi> vii;\ntypedef vector<string> vs;\ntypedef vector<bool> vb;\ntypedef vector<vb> vbb;\ntypedef pair<int, int> pii;\ntypedef long long ll;\ntypedef unsigned long long ull;\n\n#define all(a)  (a).begin(),(a).end()\n#define rall(a) (a).rbegin(), (a).rend()\n#define pb push_back\n#define mp make_pair\n\n#define loop(i,a,b) for(int i=(a);i<ull(b);++i)\n#define rep(i,n) loop(i,0,n)\n\nconst double eps = 1e-10;\nconst double pi  = acos(-1.0);\nconst double inf = (int)1e8;\n\nint main(){\n    int q;\n    cin >> q;\n    rep(p, q){\n        string s, m;\n        cin >> s >> m;\n        //reverse(s.begin(), s.end());\n        for(int i=0; i< s.size(); i++){\n            if(s[i] == 'J'){\n                if(1 <= m.size())m = m.substr(m.size()-1, 1) + m.substr(0, m.size()-1);\n            }\n            if(s[i] == 'C'){\n                if(1 <= m.size())m = m.substr(1) + m.substr(0, 1);\n            }\n            if(s[i] == 'E'){\n                if(1 <= m.size()){\n                    if(m.size()%2 == 0)m = m.substr(m.size()/2)+ m.substr(0, m.size()/2);\n                    else m = m.substr(m.size()/2+1) + m.substr(m.size()/2, 1) + m.substr(0, m.size()/2);\n                }\n            }\n            if(s[i] == 'A') reverse(m.begin(), m.end());\n            if(s[i] == 'P'){\n                for(int j=0; j< m.size(); j++){\n                    if('0' <= m[j] && m[j] <= '9'){\n                        if(m[j] == '0') m[j] = '9';\n                        else m[j]--;\n                    }\n                }\n            }\n            if(s[i] == 'M'){\n                for(int j=0; j< m.size(); j++){\n                    if('0' <= m[j] && m[j] <= '9'){\n                        if(m[j] == '9') m[j] = '0';\n                        else m[j]++;\n                    }\n                }\n            }\n        }\n        cout << m << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<vector>\n#include<cstdio>\nusing namespace std;\nint main(){\n  int n;\n  string x;\n  string st;\n  cin >>n;\n  for(int i=0;i<n;i++){\n    cin >> x;\n    cin >> st;\n    for(int j=x.size()-1;j>=0;j--){\n      if(x[j]=='C'){\n\tchar stock;\n\tstock = st[0];\n\tst.erase(st.begin());\n\tst+=stock;\n      }\n      else if(x[j]=='J'){\n\tchar stock;\n\tstock = st[st.size()-1];\n\t//\tcout << \"p1\"<<endl;\n\tst.erase(st.size()-1);\n\t//cout <<\"p2\"<<endl;\n\tst.insert(st.begin(),stock);\n      }\n      else if(x[j]=='E'){\n\tstring stock;\n\tint l=st.size()/2;\n\tfor(int k=0;k<l;k++){\n\t  stock+=st[k];\n\t}\n\tstring stock2;\n\tint od = st.size()%2;\n\tfor(int k=l+od;k<l*2+od;k++){\n\t  stock2+=st[k];\n\t}\n\tchar st3;\n\tif(od==1)st3+=st[l];\n\tst=stock2+st3+stock;\n      }\n      else if(x[j]=='A'){\n\tstring stock;\n\tfor(int k=0;st.empty()!=true;k++){\n\t  stock += st[0];\n\t  st.erase(st.begin());\n\t}\n\t//cout << stock <<endl;\n\tfor(int k=stock.size()-1;k>=0;k--){\n\t  st+=stock[k];\n\t}\n      }\n      else if(x[j]=='M'){\n\tfor(int k=0;k<st.size();k++){\n\t  if(st[k]>='0'&&st[k]<'9'){\n\t    st[k]++;\n\t  }\n\t  else if(st[k]=='9'){\n\t    st[k]='0';\n\t  }\n\t}\n      }\n      else if(x[j]=='P'){\n\tfor(int k=0;k<st.size();k++){\n\t  if(st[k]>'0'&&st[k]<='9'){\n\t    st[k]--;\n\t  }\n\t  else if(st[k]=='0'){\n\t    st[k]='9';\n\t  }\n\t}\n      }\t\n\n      //cout <<\"it is \"<<x[j]<<endl;\n      //cout << st << endl;\n    }\n    cout << st << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream> \n#include <string> \n#include <vector> \n#include <cmath> \n#include <algorithm> \n#include <cstdlib> \n#include <ctime> \n#include <cstdio> \n#include <functional> \n#include <set> \n#include <sstream> \n#include <cctype>\n#include <stack>\n#include <queue>\n#include <cstring>\n#include <map>\n \nusing namespace std;\n\nstring J(string s){\n\n\tint n=s.size();\n\tstring t;\n\tfor(int i=0;i<n;i++){\n\t\tt+=s[(n-1+i)%n];\n\t}\n\treturn t;\n\n}\n\nstring C(string s){\n\tint n=s.size();\n\tstring t;\n\tfor(int i=0;i<n;i++){\n\t\tt+=s[(1+i)%n];\n\t}\n\treturn t;\n}\n\nstring E(string s){\n\tstring t;\n\tif(s.size()%2){\n\t\tstring left=s.substr(0,s.size()/2);\n\t\tchar mid=s[s.size()/2];\n\t\tstring right=s.substr(s.size()/2+1);\n\t\tt=left+mid+right;\n\t}else{\n\t\tstring left=s.substr(0,s.size()/2);\n\t\tstring right=s.substr(s.size()/2);\n\t\tt=left+right;\n\t}\n\n\treturn t;\n}\n\nstring A(string s){\n\tstring t=s;\n\treverse(t.begin(),t.end());\n\treturn t;\n}\n\nstring P(string s){\n\tstring t=s;\n\tfor(int i=0;i<t.size();i++){\n\t\tif( '0'<=t[i] && t[i]<='9' ){\n\t\t\tif(t[i]=='0') t[i]='9';\n\t\t\telse t[i]--;\n\t\t}\n\t}\n\treturn t;\n}\n\nstring M(string s){\n\tstring t=s;\n\tfor(int i=0;i<t.size();i++){\n\t\tif( '0'<=t[i] && t[i]<='9' ){\n\t\t\tif(t[i]=='9') t[i]='0';\n\t\t\telse t[i]++;\n\t\t}\n\t}\n\treturn t;\n}\n\nint main(){\n\n\tint n;\n\tcin>>n;\n\n\tfor(int i=0;i<n;i++){\n\t\tstring t,s;\n\t\tcin>>t>>s;\n\t\tfor(int j=t.size()-1;j>=0;j--){\n\t\t\tif(t[j]=='J') s=J(s);\n\t\t\telse if(t[j]=='C') s=C(s);\n\t\t\telse if(t[j]=='E') s=E(s);\n\t\t\telse if(t[j]=='A') s=A(s);\n\t\t\telse if(t[j]=='P') s=P(s);\n\t\t\telse if(t[j]=='M') s=M(s);\n\t\t}\n\t\tcout<<s<<endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <string>\n#include <sstream>\n#include <cstring>\n#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <queue>\n#include <stack>\n#include <map>\n#include <set>\n#include <numeric>\n#include <cctype>\n\n// BEGIN CUT HERE\n#ifdef _MSC_VER\n#include <agents.h>\n#endif\n// END CUT HERE \n\n#define FOR(i, a, b) for(int i = (a); i < (int)(b); ++i)\n#define rep(i, n) FOR(i, 0, n)\n#define ALL(v) begin(v), end(v)\n#define REV(v) rbegin(v), rend(v)\n#define MEMSET(v, s) memset(v, s, sizeof(v))\n#define MP make_pair\n#define MT make_tuple\n#define X first\n#define Y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<ll, ll> P;\n\nint main(){\n\tios::sync_with_stdio(false);\n\n\tint n;\n\tcin >> n;\n\twhile(n--){\n\t\tstring ppl, mes;\n\t\tcin >> ppl >> mes;\n\n\t\treverse(ALL(ppl));\n\t\tfor (auto ch : ppl){\n\t\t\tstring nxt;\n\t\t\tint m;\n\t\t\tswitch (ch){\n\t\t\tcase 'J':\n\t\t\t\tnxt = mes.back() + mes.substr(0, mes.size() - 1);\n\t\t\t\tbreak;\n\t\t\tcase 'C':\n\t\t\t\tnxt = mes.substr(1) + mes[0];\n\t\t\t\tbreak;\n\t\t\tcase 'E':\n\t\t\t\tm = mes.size() / 2;\n\t\t\t\tif (mes.size() & 1){\n\t\t\t\t\tnxt = mes.substr(m+1) + mes[m] + mes.substr(0, m);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tnxt = mes.substr(m) + mes.substr(0, m);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'A':\n\t\t\t\tnxt = string(REV(mes));\n\t\t\t\tbreak;\n\t\t\tcase 'M':\n\t\t\t\tfor (auto c : mes){\n\t\t\t\t\tif ('0' <= c && c <= '8') ++c;\n\t\t\t\t\telse if (c == '9') c = '0';\n\t\t\t\t\tnxt += c;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'P':\n\t\t\t\tfor (auto c : mes){\n\t\t\t\t\tif ('1' <= c && c <= '9') --c;\n\t\t\t\t\telse if (c == '0') c = '9';\n\t\t\t\t\tnxt += c;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tmes = nxt;\n\t\t}\n\t\tcout << mes << endl;\n\t}\n\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\nusing namespace std;\n\nstring J(string s) {\n    string res = s.substr(0, s.size() - 1);\n    return s[s.size() - 1] + res;\n}\n\nstring C(string s) {\n    string res = s.substr(1, s.size() - 1);\n    return res + s[0];\n}\n\nstring E(string s) {\n    int n = s.size();\n    string s1 = s.substr(0, n / 2);\n    string s2 = s.substr((n + 1) / 2, n / 2);\n    if (n % 2) s2 += s[n / 2];\n    return s2 + s1;\n}\n\nstring A(string s) {\n    reverse(s.begin(), s.end());\n    return s;\n}\n\nstring P(string s) {\n    for (int i = 0; i < s.size(); i++) {\n        if (s[i] >= '0' && s[i] <= '9') {\n            if (s[i] == '0') s[i] = '9';\n            else s[i]--;\n        }\n    }\n    return s;\n}\n\nstring M(string s) {\n    for (int i = 0; i < s.size(); i++) {\n        if (s[i] >= '0' && s[i] <= '9') {\n            if (s[i] == '9') s[i] = '0';\n            else s[i]++;\n        }\n    }\n    return s;\n}\n\nvoid solve() {\n    string s1, s2;\n    cin >> s1 >> s2;\n    for (int i = s1.size() - 1; i >= 0; i--) {\n        if (s1[i] == 'J') s2 = J(s2);\n        else if (s1[i] == 'C') s2 = C(s2);\n        else if (s1[i] == 'E') s2 = E(s2);\n        else if (s1[i] == 'A') s2 = A(s2);\n        else if (s1[i] == 'P') s2 = P(s2);\n        else s2 = M(s2);\n    }\n    cout << s2 << endl;\n}\n\nint main() {\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    int N;\n    cin >> N;\n    for (int i = 0; i < N; i++) {\n        solve();\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\n#include <deque>\n#include <cctype>\n\nusing namespace std;\n\nint main(){\n    int n;\n    cin >> n;\n    for (int _ = 0; _ < n; _++){\n        string op, s;\n        cin >> op >> s;\n        reverse(op.begin(), op.end());\n        deque<char> str(s.begin(), s.end());\n        for (char c : op){\n            if (c == 'C'){\n                char t = str.front();\n                str.pop_front();\n                str.push_back(t);\n            }\n            else if (c == 'J'){\n                char t = str.back();\n                str.pop_back();\n                str.push_front(t);\n            }\n            else if (c == 'E'){\n                for (int i = 0; i < str.size() / 2; i++){\n                    swap(str[i], str[i + (str.size() + 1) / 2]);\n                }\n            }\n            else if (c == 'A'){\n                reverse(str.begin(), str.end());\n            }\n            else if (c == 'M'){\n                for (char & d : str){\n                    if (isdigit(d)){\n                        d++;\n                        if (d == '9' + 1){\n                            d = '0';\n                        }\n                    }\n                }\n            }\n            else if (c == 'P'){\n                for (char & d : str){\n                    if (isdigit(d)){\n                        d--;\n                        if (d == '0' - 1){\n                            d = '9';\n                        }\n                    }\n                }\n            }\n        }\n        for (char c : str){\n            cout << c;\n        }\n        cout << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n\nusing namespace std;\n\nint main(void){\n  int n;cin>>n;\n  for(int i=0;i<n;++i){\n    string proc,mes;\n    cin>>proc>>mes;\n    for(int j=proc.size()-1;j>=0;--j){\n      if(proc[j]=='J'){\n        mes = mes[mes.size()-1] + mes.substr(0,mes.size()-1);\n      }else if(proc[j]=='C'){\n        mes = mes.substr(1,mes.size()-1) + mes[0];\n      }else if(proc[j]=='E'){\n      \tint len = mes.size();\n      \tstring centre;\n      \tif(len%2) centre = mes[len/2];\n      \tstring lft = mes.substr(0, len/2);\n      \tstring rgt = mes.substr(len-len/2, len/2);\n        mes = rgt + centre + lft;\n      }else if(proc[j]=='A'){\n      \tstring tmp;\n      \tfor(int k=mes.length()-1;k>=0;--k)tmp+=mes[k];\n        mes = tmp;\n      }else if(proc[j]=='P'){\n        for(int k=0;k<mes.length();++k){\n          if('0'<=mes[k] && mes[k]<='9') mes[k]=(9+mes[k]-'0')%10+'0';\n        }\n      }else if(proc[j]=='M'){\n        for(int k=0;k<mes.length();++k){\n          if('0'<=mes[k] && mes[k]<='9') mes[k]=(1+mes[k]-'0')%10+'0';\n        }\n      }\n    }\n    cout<<mes<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define FOR(i,k,n) for(int i = (k); i < (n); i++)\n#define REP(i,n) FOR(i,0,n)\n#define INF 114514810\n#define MOD 1000000007\n#define ALL(a) (a).begin(),(a).end()\n#define pb(x) push_back(x)\n#define ms(m,v) memset(m,v,sizeof(m))\n#define D10  fixed<<setprecision(10) \ntypedef vector<int> vi;\ntypedef vector<string> vs;\ntypedef pair<int, int> P;\ntypedef long long ll;\nstruct edge{ int from, to, cost; };\n\nstring s, mes;\nstring solve(string s, char c)\n{\n\tif (c == 'C') return s.substr(1) + s[0];\n\tif (c == 'J') return s[s.size() - 1] + s.substr(0, s.size() - 1);\n\tif (c == 'E')\n\t{\n\t\tif (s.size() % 2 == 0) return s.substr(s.size() / 2, s.size() - 1) + s.substr(0, s.size()/2);\n\t\telse return s.substr(s.size() / 2 + 1, s.size()) + s[s.size() / 2] + s.substr(0, s.size() / 2);\n\t}\n\tif (c == 'A')\n\t{\n\t\tstring r = \"\";\n\t\tREP(i, s.size()) r += s[s.size() - i - 1];\n\t\treturn r;\n\t}\n\tif (c == 'M')\n\t{\n\t\tstring r = \"\";\n\t\tREP(i, s.size())\n\t\t{\n\t\t\tif (isdigit(s[i]))\n\t\t\t{\n\t\t\t\tif (s[i] == '9') r += '0';\n\t\t\t\telse r += s[i] + 1;\n\t\t\t}\n\t\t\telse r += s[i];\n\t\t}\n\t\treturn r;\n\t}\n\tif (c == 'P')\n\t{\n\t\tstring r = \"\";\n\t\tREP(i, s.size())\n\t\t{\n\t\t\tif (isdigit(s[i]))\n\t\t\t{\n\t\t\t\tif (s[i] == '0') r += '9';\n\t\t\t\telse r += s[i] - 1;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tr += s[i];\n\t\t\t}\n\t\t}\n\t\treturn r;\n\t}\n}\nint main()\n{\n\tint n;\n\tcin >> n;\n\n\tREP(i, n)\n\t{\n\t\tcin >> mes >> s;\n\t\tfor (int i = mes.size() - 1; i >= 0;i--)\n\t\t{\n\t\t\ts = solve(s, mes[i]);\n\t\t}\n\t\tcout << s << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define FOR(i,k,n) for(int i = (k); i < (n); i++)\n#define REP(i,n) FOR(i,0,n)\n#define INF 114514810\n#define MOD 1000000007\n#define ALL(a) (a).begin(),(a).end()\n#define pb(x) push_back(x)\n#define ms(m,v) memset(m,v,sizeof(m))\n#define D10  fixed<<setprecision(10) \ntypedef vector<int> vi;\ntypedef vector<string> vs;\ntypedef pair<int, int> P;\ntypedef long long ll;\nstruct edge{ int from, to, cost; };\n\nstring s, mes;\nstring solve(string s, char c)\n{\n\tif (c == 'J') return s.substr(1) + s[0];\n\tif (c == 'C') return s[s.size() - 1] + s.substr(0, s.size() - 2);\n\tif (c == 'E')\n\t{\n\t\tif (s.size() % 2 == 0) return s.substr(s.size() / 2, s.size() - 1) + s.substr(0, s.size()/2);\n\t\telse return s.substr(s.size() / 2 + 1, s.size()) + s[s.size() / 2] + s.substr(0, s.size() / 2);\n\t}\n\tif (c == 'A')\n\t{\n\t\tstring r = \"\";\n\t\tREP(i, s.size()) r += s[s.size() - i - 1];\n\t\treturn r;\n\t}\n\tif (c == 'P')\n\t{\n\t\tstring r = \"\";\n\t\tREP(i, s.size())\n\t\t{\n\t\t\tif (isdigit(s[i]))\n\t\t\t{\n\t\t\t\tif (s[i] == '9') r += '0';\n\t\t\t\telse r += s[i] + 1;\n\t\t\t}\n\t\t\telse r += s[i];\n\t\t}\n\t}\n\tif (c == 'M')\n\t{\n\t\tstring r = \"\";\n\t\tREP(i, s.size())\n\t\t{\n\t\t\tif (isdigit(s[i]))\n\t\t\t{\n\t\t\t\tif (s[i] == '0') r += '9';\n\t\t\t\telse r += s[i] - 1;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tr += s[i];\n\t\t\t}\n\t\t}\n\t}\n}\nint main()\n{\n\tint n;\n\tcin >> n;\n\n\tREP(i, n)\n\t{\n\t\tcin >> mes >> s;\n\t\tREP(i, mes.size())\n\t\t{\n\t\t\ts = solve(s, mes[i]);\n\t\t}\n\t\tcout << s << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream> \n#include <string> \n#include <vector> \n#include <cmath> \n#include <algorithm> \n#include <cstdlib> \n#include <ctime> \n#include <cstdio> \n#include <functional> \n#include <set> \n#include <sstream> \n#include <cctype>\n#include <stack>\n#include <queue>\n#include <cstring>\n#include <map>\n \nusing namespace std;\n\nstring J(string s){\n\n\tint n=s.size();\n\tstring t;\n\tfor(int i=0;i<n;i++){\n\t\tt+=s[(n-1+i)%n];\n\t}\n\treturn t;\n\n}\n\nstring C(string s){\n\tint n=s.size();\n\tstring t;\n\tfor(int i=0;i<n;i++){\n\t\tt+=s[(1+i)%n];\n\t}\n\treturn t;\n}\n\nstring E(string s){\n\tstring t=s;\n\tfor(int i=0;i<t.size()/2;i++){\n\t\tswap(t[i],t[t.size()-1-i]);\n\t}\n\n\treturn t;\n}\n\nstring A(string s){\n\tstring t=s;\n\treverse(t.begin(),t.end());\n\treturn t;\n}\n\nstring P(string s){\n\tstring t=s;\n\tfor(int i=0;i<t.size();i++){\n\t\tif( '0'<=t[i] && t[i]<='9' ){\n\t\t\tif(t[i]=='0') t[i]='9';\n\t\t\telse t[i]--;\n\t\t}\n\t}\n\treturn t;\n}\n\nstring M(string s){\n\tstring t=s;\n\tfor(int i=0;i<t.size();i++){\n\t\tif( '0'<=t[i] && t[i]<='9' ){\n\t\t\tif(t[i]=='9') t[i]='0';\n\t\t\telse t[i]++;\n\t\t}\n\t}\n\treturn t;\n}\n\nint main(){\n\n\tint n;\n\tcin>>n;\n\n\tfor(int i=0;i<n;i++){\n\t\tstring t,s;\n\t\tcin>>t>>s;\n\t\tfor(int j=t.size()-1;j>=0;j--){\n\t\t\tif(t[j]=='J') s=J(s);\n\t\t\telse if(t[j]=='C') s=C(s);\n\t\t\telse if(t[j]=='E') s=E(s);\n\t\t\telse if(t[j]=='A') s=A(s);\n\t\t\telse if(t[j]=='P') s=P(s);\n\t\t\telse if(t[j]=='M') s=M(s);\n\t\t}\n\t\tcout<<s<<endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <cstdlib>\n#include <cmath>\n#include <vector>\n#include <map>\n#include <set>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <functional>\n#include <bitset>\n#include <assert.h>\nusing namespace std;\ntypedef long long ll;\ntypedef vector<ll> vl;\ntypedef vector<vl> vvl;\ntypedef vector<char> vc;\ntypedef vector<string> vs;\ntypedef vector<bool> vb;\ntypedef vector<double> vd;\ntypedef pair<ll,ll> P;\ntypedef vector<P> vpl;\ntypedef tuple<ll,ll,ll> tapu;\n#define rep(i,n) for(ll i=0; i<(n); i++)\n#define REP(i,a,b) for(int i=(a); i<(b); i++)\n#define all(x) (x).begin(), (x).end()\n#define rall(x) (x).rbegin(), (x).rend()\nconst int inf = 1<<30;\nconst ll linf = 1LL<<62;\nconst int MAX = 510000;\nll dy[8] = {0,1,0,-1,1,-1,1,-1};\nll dx[8] = {1,0,-1,0,1,-1,-1,1};\nconst double pi = acos(-1);\nconst double eps = 1e-7;\ntemplate<typename T1,typename T2> inline bool chmin(T1 &a,T2 b){\n\tif(a>b){\n\t\ta = b; return true;\n\t}\n\telse return false;\n}\ntemplate<typename T1,typename T2> inline bool chmax(T1 &a,T2 b){\n\tif(a<b){\n\t\ta = b; return true;\n\t}\n\telse return false;\n}\ntemplate<typename T1,typename T2> inline void print2(T1 a, T2 b){cout << a << \" \" << b << \"\\n\";}\ntemplate<typename T1,typename T2,typename T3> inline void print3(T1 a, T2 b, T3 c){\n\tcout << a << \" \" << b << \" \" << c << \"\\n\";\n}\nconst int mod = 1e9 + 7;\n//const int mod = 998244353;\n\nint main(){\n\tll t; cin >> t;\n\twhile(t--){\n\t\tstring s,t; cin >> s >> t;\n\t\tll m = t.size();\n\t\tfor(ll i=s.size()-1; i>=0; i--){\n\t\t\tstring tmp;\n\t\t\tif(s[i]=='J'){\n\t\t\t\ttmp.push_back(t[m-1]);\n\t\t\t\ttmp += t.substr(0,m-1);\n\t\t\t}\n\t\t\tif(s[i]=='C'){\n\t\t\t\ttmp = t.substr(1);\n\t\t\t\ttmp.push_back(t[0]);\n\t\t\t}\n\t\t\tif(s[i]=='E'){\n\t\t\t\ttmp = t.substr((m+1)/2,m);\n\t\t\t\tif(m & 1) tmp.push_back(t[m/2]);\n\t\t\t\ttmp += t.substr(0,m/2);\n\t\t\t}\n\t\t\tif(s[i]=='A'){\n\t\t\t\ttmp = t;\n\t\t\t\treverse(all(tmp));\n\t\t\t}\n\t\t\tif(s[i]=='P'){\n\t\t\t\ttmp = t;\n\t\t\t\trep(j,m){\n\t\t\t\t\tif(tmp[j]=='0') tmp[j] = '9';\n\t\t\t\t\telse if('1'<=tmp[j] && tmp[j]<='9') tmp[j]--; \n\t\t\t\t}\n\t\t\t}\n\t\t\tif(s[i]=='M'){\n\t\t\t\ttmp = t;\n\t\t\t\trep(j,m){\n\t\t\t\t\tif(tmp[j]=='9') tmp[j] = '0';\n\t\t\t\t\telse if('0'<=tmp[j] && tmp[j]<'9') tmp[j]++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tt = tmp;\n\t\t}\n\t\tcout << t << endl;\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\n\nusing namespace std;\n\nint main(void)\n{\n\tint i1,i2,i3;\n\tint n;\n\tstring order;\n\tstring s;\n\tchar c;\n\tstring temp1,temp2,temp3;\n\n\n\t\tcin >> n;\n\n\t\tfor(i1=0;i1<n;i1++){\n\t\t\tcin >> order;\n\t\t\tcin >> s;\n\n\t\t\treverse(order.begin(), order.end());\n\n\t\t\tfor(i2=0;i2<order.size();i2++){\n\t\t\t\tif(order[i2]=='J'){\n\t\t\t\t\tc = s[s.size()-1];\n\t\t\t\t\ts = s.substr(0,s.size()-1);\n\t\t\t\t\ts = c + s;\t\n\t\t\t\t}\n\t\t\t\telse if(order[i2]=='C'){\n\t\t\t\t\tc = s[0];\n\t\t\t\t\ts = s.substr(1);\n\t\t\t\t\ts = s + c;\t\n\t\t\t\t}\n\t\t\t\telse if(order[i2]=='E'){\n\t\t\t\t\ttemp2 = \"\";\n\t\t\t\t\ttemp3 = s.substr(0,(s.size()/2));\n\t\t\t\t\tif(s.size()%2==1){\n\t\t\t\t\t\ttemp2 = s.substr((s.size()/2),1);\n\t\t\t\t\t\ttemp1 = s.substr((s.size()/2+1));\n\t\t\t\t\t}\n\t\t\t\t\telse temp1 = s.substr(s.size()/2);\n\n\t\t\t\t\t//cout << temp1 << \" \" << temp2 << \" \" << temp3 << endl;\n\t\t\t\t\ts = temp1 + temp2 + temp3;\n\n\t\t\t\t}\n\t\t\t\telse if(order[i2]=='A'){\n\t\t\t\t\treverse(s.begin(), s.end());\n\t\t\t\t}\n\t\t\t\telse if(order[i2]=='P'){\n\t\t\t\t\tfor(i3=0;i3<s.size();i3++){\n\t\t\t\t\t\tif(s[i3] >= '1' && s[i3] <= '9'){\n\t\t\t\t\t\t\ts[i3] = s[i3] - 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if(s[i3]=='0'){\n\t\t\t\t\t\t\ts[i3] = '9';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\telse if(order[i2]=='M'){\n\t\t\t\t\tfor(i3=0;i3<s.size();i3++){\n\t\t\t\t\t\tif(s[i3] >= '0' && s[i3] <= '8'){\n\t\t\t\t\t\t\ts[i3] = s[i3] + 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if(s[i3]=='9'){\n\t\t\t\t\t\t\ts[i3] = '0';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tcout << s << endl;\n\t\t}\n\n\treturn 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <climits>\n#include <cfloat>\n#include <map>\n#include <utility>\n#include <set>\n#include <iostream>\n#include <memory>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <functional>\n#include <sstream>\n#include <complex>\n#include <stack>\n#include <queue>\n#include <cstring>\n#include <sstream>\n#include <cassert>\n#include <list>\nusing namespace std;\nstatic const double EPS = 1e-5;\ntypedef long long ll;\ntypedef pair<int,int> PI;\ntypedef vector<int> vi;\n#define rep(i,n) for(int i=0;i<(int)n;++i)\n#define FOR(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();++i)\n#define ALL(c) (c).begin(), (c).end()\n#define mp(a,b) make_pair(a,b)\n#define pb(a) push_back(a)\n#define F first\n#define S second\n \n \nmain(){\n int n;\n cin>>n;\n        while(n--){\n                string man,in,fr,ba;\n                cin>>man>>in;\n                reverse(ALL(man));\n                \n                rep(i,man.size()){\n                        switch(man[i]){\n                        case 'J':\n                                in=in[in.size()-1]+in.substr(0,in.size()-1);\n                                break;\n                        case 'C':\n                                in=in.substr(1)+in[0];\n                                break;\n                        case 'E':\n                                fr=in.substr(0,in.size()/2);\n                                ba=in.substr((in.size()+1)/2);\n                                if(in.size()%2){\n                                        in =ba+in[in.size()/2]+fr;\n                                }else in =ba+fr;\n                                break;\n                        case 'A':\n                                reverse(ALL(in));\n                                break;\n                        case 'P':\n                                rep(j,in.size()){\n                                        if(isdigit(in[j])){\n                                                --in[j];\n                                                if(in[j]=='0'-1)in[j]='9';\n                                        }\n                                }\n                                break;\n                        case 'M':\n                                rep(j,in.size()){\n                                        if(isdigit(in[j])){\n                                                ++in[j];\n                                                if(in[j]=='9'+1)in[j]='0';\n                                        }\n                                }\n                                break;\n                        }\n                }\n                cout<<in<<endl;\n        }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\n\nstring person = \"JCEAPM\";\n\nstring change5(string t) {\n  string s = t;\n  for (int i = 0; i < s.size(); i++) {\n    if (s[i] == '9') s[i] = '0';\n    else if ('0' <= s[i] && s[i] <= '8') s[i]++;\n  }\n  return s;\n}\n\nstring change4(string t) {\n  string s = t;\n  for (int i = 0; i < s.size(); i++) {\n    if (s[i] == '0') s[i] = '9';\n    else if ('1' <= s[i] && s[i] <= '9') s[i]--;\n  }\n  return s;\n}\n\nstring change3(string t) {\n  string s = t;\n  int half = s.size() / 2;\n  for (int i = 0; i < half; i++) {\n    char t = s[i];\n    s[i] = s[s.size() - 1 - i];\n    s[s.size() - 1 - i] = t;\n  }\n  return s;\n}\n\nstring change2(string t) {\n  string s = t;\n  int half = s.size() / 2;\n  string a = \"\\0\";\n  string b = \"\\0\";\n  string c = \"\\0\";\n  for (int i = 0; i < half; i++)\n    a.push_back(s[i]);\n  for (int i = s.size() - half; i < s.size(); i++)\n    b.push_back(s[i]);\n  if (s.size() % 2) c = s[half];\n\n  string k = b;\n  if (s.size() % 2) k += c;\n  k += a;\n  s = k;\n  return s;\n}\n\nstring change1(string t) {\n  string s = t;\n  char a = s[0];\n  for (int i = 1; i < s.size(); i++)\n    s[i - 1] = s[i];\n  s[s.size() - 1] = a;\n  return s;\n}\n\nstring change0(string t) {\n  string s = t;\n  char a = s[s.size() - 1];\n  for (int i = s.size() - 1 - 1; i + 1 >= 0; i--)\n    s[i + 1] = s[i];\n  s[0] = a;\n  return s;\n}\n\nint main() {\n  int n;\n  cin >> n;\n  while (n--) {\n    string people;\n    cin >> people;\n\n    string str;\n    cin >> str;\n    for (int i = people.size() - 1; i >= 0; i--) {\n      if (people[i] == person[0]) {\n\tstr = change0(str);\n      } else if (people[i] == person[1]) {\n\tstr = change1(str);\n      } else if (people[i] == person[2]) {\n\tstr = change2(str);\n      } else if (people[i] == person[3]) {\n\tstr = change3(str);\n      } else if (people[i] == person[4]) {\n\tstr = change4(str);\n      } else {\n\tstr = change5(str);\n      }\n    }\n    cout << str << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <ctype.h>\nusing namespace std;\n\nint main(){\n\tint n,t;\n\tstring type,s,a,b,c;\n\tcin >> n;\n\twhile(n--){\n\t\tcin >> type >> s;\n\t\treverse(type.begin(),type.end());\n\t\tfor(int i=0;i<type.length();i++){\n\t\t\tswitch(type[i]){\n\t\t\tcase 'J':\n\t\t\t\trotate(s.begin(),s.begin()+s.length()-1,s.end());\n\t\t\t\tbreak;\n\t\t\tcase 'C':\n\t\t\t\trotate(s.begin(),s.begin()+1,s.end());\n\t\t\t\tbreak;\n\t\t\tcase 'E':\n\t\t\t\tt = s.length();\n\t\t\t\ta = s.substr(0,t/2);\n\t\t\t\tb = s.substr(t/2+t%2,t/2);\n\t\t\t\tc = \"\";if(t%2)c = s[t/2];\n\t\t\t\ts = b+c+a;\n\t\t\t\tbreak;\n\t\t\tcase 'A':\n\t\t\t\treverse(s.begin(),s.end());\n\t\t\t\tbreak;\n\t\t\tcase 'P':\n\t\t\t\tfor(int j=0;j<s.length();j++){\n\t\t\t\t\tif( isdigit(s[j]) ){\n\t\t\t\t\t\ts[j] = '0'+(s[j]-'0'+9)%10;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'M':\n\t\t\t\tfor(int j=0;j<s.length();j++){\n\t\t\t\t\tif( isdigit(s[j]) ){\n\t\t\t\t\t\ts[j] = '0'+(s[j]-'0'+1)%10;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tcout << s << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <string>\n#include <algorithm>\n#include <cctype>\n\nusing namespace std;\n\nint n;\nchar a_[11], b_[33];\n\nint main(void) {\n  scanf(\"%d\", &n);\n  while (n--) {\n    scanf(\"%s%s\", a_, b_);\n    string a = a_, b = b_;\n    for (int i = a.size() - 1; i >= 0; i--) {\n      if (a[i] == 'J') rotate(b.rbegin(), b.rbegin() + 1, b.rend());\n      if (a[i] == 'C') rotate(b.begin(), b.begin() + 1, b.end());\n      if (a[i] == 'E') {\n        reverse(b.begin(), b.end());\n        reverse(b.begin(), b.begin() + (b.size())/2);\n        reverse(b.begin() + (b.size() + 1)/2, b.end());\n      }\n      if (a[i] == 'A') reverse(b.begin(), b.end());\n      if (a[i] == 'P') {\n        for (int j = 0; j < int(b.size()); j++) {\n          if (isdigit(b[j])) {\n            b[j] = b[j] == '0' ? '9' : (b[j] - 1);\n          }\n        }\n      }\n      if (a[i] == 'M') {\n        for (int j = 0; j < int(b.size()); j++) {\n          if (isdigit(b[j])) {\n            b[j] = b[j] == '9' ? '0' : (b[j] + 1);\n          }\n        }\n      }\n    }\n    printf(\"%s\\n\", b.c_str());\n  }\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#define _CRT_SECURE_NO_WARNINGS // #pragma warning(disable:4996)\n#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <algorithm>\n#include <vector>\n#include <string>\n#include <queue>\n#include <functional>\n#include <sstream>\n#include <cmath>\n#include <set>\n#include <map>\n#include <stack>\nusing namespace std; \n\n#define rep(i,a,b) for(int i=(a);i<(b);i++)\n#define rrep(i,a,b) for(int i=(a);i>=(b);i--)\n#define pb push_back\n#define mp(a,b) make_pair(a,b)\n#define all(a) a.begin(),a.end()\n#define len(x) ((int)(x).size())\n#define tmax(a,b,c) max((a),max((b),(c)))\n#define tmin(a,b,c) min((a),min((b),(c)))\n#define debug(x) cerr << #x << \" is \" << x << endl;\n\ntypedef pair<int, int> Pii;\ntypedef map<int, int> Mii;\ntypedef vector<int> Vi;\ntypedef long long ll;\nconst int inf = 2e9;\nconst ll ll_inf = 1e17;\nconst int mod = 1e9 + 7;\nconst long double eps = 1e-10;\n\nstring num = \"0123456789\";\n\nint main()\n{\n\tint n; cin>>n;\n\twhile (n--) {\n\t\tstring ord; cin>>ord;\n\t\tstring s; cin>>s;\n\t\treverse(all(ord));\n\t\trep(i,0,len(ord)) {\n\t\t\tstring t = s;\n\t\t\tif (ord[i]=='J') {\n\t\t\t\ts = t.back();\n\t\t\t\ts += t.substr(0,len(t)-1);\n\t\t\t}\n\t\t\tif (ord[i]=='C') {\n\t\t\t\ts = t.substr(1,len(t)-1);\n\t\t\t\ts += t.front();\n\t\t\t}\n\t\t\tif (ord[i]=='E') {\n\t\t\t\tif (len(s)%2) {\n\t\t\t\t\tint c = len(s)/2;\n\t\t\t\t\ts = t.substr(c+1, len(s)-(c+1));\n\t\t\t\t\ts += t[c];\n\t\t\t\t\ts += t.substr(0, c);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tint c = len(s)/2;\n\t\t\t\t\ts = t.substr(c, len(s)-c);\n\t\t\t\t\ts += t.substr(0, c);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (ord[i]=='A') {\n\t\t\t\treverse(all(s));\n\t\t\t}\n\t\t\tif (ord[i]=='P') {\n\t\t\t\trep(j,0,len(s)) {\n\t\t\t\t\tint idx = num.find(s[j]);\n\t\t\t\t\tif (idx != std::string::npos) {\n\t\t\t\t\t\ts[j] = num[(len(num)+idx-1)%len(num)];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (ord[i]=='M') {\n\t\t\t\trep(j,0,len(s)) {\n\t\t\t\t\tint idx = num.find(s[j]);\n\t\t\t\t\tif (idx != std::string::npos) {\n\t\t\t\t\t\ts[j] = num[(len(num)+idx+1)%len(num)];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << s << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\n#include<cctype>\nusing namespace std;\nint main()\n{\n\tint n,i,j,s;\n\tstring o,m,x,y,z;\n\tstring::iterator b,e;\n\tcin>>n;\n\twhile(n--)\n\t{\n\t\tcin>>o>>m;\n\t\ts=m.size();\n\t\tfor(i=o.size()-1;i>=0;--i)\n\t\t{\n\t\t\tb=m.begin(),e=m.end();\n\t\t\tif(o[i]=='J')rotate(b,e-1,e);\n\t\t\tif(o[i]=='C')rotate(b,b+1,e);\n\t\t\tif(o[i]=='E')\n\t\t\t{\n\t\t\t\tif(s&1)x.assign(b,b+s/2),y=m[s/2],z.assign(b+s/2+1,e);\n\t\t\t\telse x.assign(b,b+s/2),y=\"\",z.assign(b+s/2,e);\n\t\t\t\tm=z+y+x;\n\t\t\t}\n\t\t\tif(o[i]=='A')reverse(b,e);\n\t\t\tif(o[i]=='P')for(j=0;j<s;++j)if(isdigit(m[j]))m[j]=(m[j]-'0'+9)%10+'0';\n\t\t\tif(o[i]=='M')for(j=0;j<s;++j)if(isdigit(m[j]))m[j]=(m[j]-'0'+1)%10+'0';\n\t\t}\n\t\tcout<<m<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n\nusing namespace std;\n\nstring toJ(const string s)\n{\n    string tmp;\n\n    tmp.push_back(s[s.size() - 1]);\n    for (int i = 0; i < s.size() - 1; i++)\n        tmp.push_back(s[i]);\n\n    return tmp;\n}\n\nstring toC(const string s)\n{\n    string tmp;\n\n    for (int i = 1; i < s.size(); i++)\n        tmp.push_back(s[i]);\n    tmp.push_back(s[0]);\n\n    return tmp;\n}\n\nstring toE(const string s)\n{\n    string tmp;\n\n    if (s.size() % 2) \n        tmp = s.substr(s.size() / 2 + 1, s.size() / 2) + s[s.size() / 2] +\n            s.substr(0, s.size() / 2);\n    else \n        tmp = s.substr(s.size() / 2, s.size() / 2) + s.substr(0, s.size() / 2);\n\n    return tmp;\n}\n\nstring toA(const string s)\n{\n    string tmp;\n\n    for (int i = s.size() - 1; i >= 0; i--)\n        tmp.push_back(s[i]);\n\n    return tmp;\n}\n\nstring toP(const string s)\n{\n    string tmp = s;\n\n    for (int i = 0; i < tmp.size(); i++)\n        if ('0' <= tmp[i]  && tmp[i] <= '9')\n            tmp[i] = (((tmp[i] - '0') + 9) % 10) + '0';\n\n    return tmp;\n}\n\nstring toM(const string s)\n{\n    string tmp = s;\n\n    for (int i = 0; i < tmp.size(); i++)\n        if ('0' <= tmp[i]  && tmp[i] <= '9')\n            tmp[i] = (((tmp[i] - '0') + 1) % 10) + '0';\n\n    return tmp;\n}\n\nint main() \n{\n    int n;\n\n    cin >> n;\n    while (n--) {\n        string ord, mes;\n\n        cin >> ord >> mes;\n\n        for (int i = ord.size() - 1; i >= 0; i--) {\n            if (ord[i] == 'J')\n                mes = toJ(mes);\n            else if (ord[i] == 'C')\n                mes = toC(mes);\n            else if (ord[i] == 'E')\n                mes = toE(mes);\n            else if (ord[i] == 'A')\n                mes = toA(mes);\n            else if (ord[i] == 'P')\n                mes = toP(mes);\n            else if (ord[i] == 'M')\n                mes = toM(mes);\n        }\n        cout << mes << endl;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\n\nusing namespace std;\n\nvoid QueryJ(string&);\nvoid QueryC(string&);\nvoid QueryE(string&);\nvoid QueryA(string&);\nvoid QueryP(string&);\nvoid QueryM(string&);\nbool IsNumber(const char);\n\nint main(){\n  int i, j, n;\n  string data, str;\n\n  cin >> n;\n\n  for(i=0; i<n; ++i){\n    cin >> data >> str;\n\n    for(j=data.size()-1; j>=0; --j){\n      if(data[j] == 'J') QueryJ(str);\n      else if(data[j] == 'C') QueryC(str);\n      else if(data[j] == 'E') QueryE(str);\n      else if(data[j] == 'A') QueryA(str);\n      else if(data[j] == 'P') QueryP(str);\n      else if(data[j] == 'M') QueryM(str);\n    }\n\n    cout << str << endl;\n  }\n  return 0;\n}\n\nvoid QueryJ(string& str){\n  char c;\n  c = str[str.size()-1];\n  str.erase(str.end()-1);\n  str.insert(str.begin(), c);\n}\n\nvoid QueryC(string& str){\n  char c;\n  c = str[0];\n  str.erase(str.begin());\n  str.push_back(c);\n}\n\nvoid QueryE(string& str){\n  string s;\n  if(str.size()%2 == 0){\n    copy(str.begin()+str.size()/2, str.end(), back_inserter(s));\n  }else{\n    copy(str.begin()+str.size()/2+1, str.end(), back_inserter(s));\n    s.push_back(str[str.size()/2]);\n  }\n  copy(str.begin(), str.begin()+str.size()/2, back_inserter(s));\n  str = s;\n}\n\nvoid QueryA(string& str){\n  int i;\n  string s;\n  for(i=str.size()-1; i>=0; --i){\n    s.push_back(str[i]);\n  }\n  str = s;\n}\n\nvoid QueryP(string& str){\n  string::iterator i;\n  i = str.begin();\n  while(1){\n    i = find_if(i, str.end(), IsNumber);\n    if(i == str.end()) break;\n    if(*i == '0') *i = '9';\n    else --(*i);\n    ++i;\n  }\n}\n\nvoid QueryM(string& str){\n  string::iterator i;\n  i = str.begin();\n  while(1){\n    i = find_if(i, str.end(), IsNumber);\n    if(i == str.end()) break;\n    if(*i == '9') *i = '0';\n    else ++(*i);\n    ++i;\n  }\n}\n\nbool IsNumber(const char c){\n  if(c >= '0' && c <= '9')\n    return true;\n  else\n    return false;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\n#include<cstring>\n#include<cctype>\n\nusing namespace std;\n\nstring revJ(string t){\nÃÂ ÃÂ string ret = t;\nÃÂ ÃÂ ret.insert(ret.begin(),t[t.length()-1]);\nÃÂ ÃÂ ret.erase(ret.end()-1);\nÃÂ ÃÂ return ret;\n}\nstring revC(string t){\nÃÂ ÃÂ string ret = t;\nÃÂ ÃÂ ret += t[0];\nÃÂ ÃÂ ret.erase(ret.begin());\nÃÂ ÃÂ return ret;\n}\nstring revE(string t){\nÃÂ ÃÂ char c=0;\nÃÂ ÃÂ if(t.length()==1)return t;\nÃÂ ÃÂ if(t.length()%2){\nÃÂ ÃÂ  ÃÂ c = t[t.length()/2];\nÃÂ ÃÂ  ÃÂ t.erase(t.begin()+t.length()/2);\nÃÂ ÃÂ }\nÃÂ ÃÂ string l = t.substr(0,t.length()/2);\nÃÂ ÃÂ string r = t.substr(t.length()/2,t.length()-t.length()/2);\nÃÂ ÃÂ if(c){\nÃÂ ÃÂ  ÃÂ return r+c+l;\nÃÂ ÃÂ }else return r+l;\n}\nstring revA(string t){\nÃÂ ÃÂ string ret = t;\nÃÂ ÃÂ reverse(ret.begin(),ret.end());\nÃÂ ÃÂ return ret;\n}\nstring revP(string t){\nÃÂ ÃÂ //dec\nÃÂ ÃÂ string ret = t;\nÃÂ ÃÂ for(int i = 0; i < (signed)ret.length(); ++i){\nÃÂ ÃÂ  ÃÂ if( isdigit(ret[i]) ){\nÃÂ ÃÂ  ÃÂ  ÃÂ ret[i]--;\nÃÂ ÃÂ  ÃÂ  ÃÂ if(ret[i]<'0')ret[i]='9';\nÃÂ ÃÂ  ÃÂ }\nÃÂ ÃÂ }\nÃÂ ÃÂ return ret;\n}\nstring revM(string t){\nÃÂ ÃÂ //inc\nÃÂ ÃÂ string ret = t;\nÃÂ ÃÂ for(int i = 0; i < (signed)ret.length(); ++i){\nÃÂ ÃÂ  ÃÂ if( isdigit(ret[i]) ){\nÃÂ ÃÂ  ÃÂ  ÃÂ ret[i]++;\nÃÂ ÃÂ  ÃÂ  ÃÂ if(ret[i]>'9')ret[i]='0';\nÃÂ ÃÂ  ÃÂ }\nÃÂ ÃÂ }\nÃÂ ÃÂ return ret;\n}\n\nint main()\n{\nÃÂ ÃÂ int n;\nÃÂ ÃÂ cin >> n;\nÃÂ ÃÂ for(int i = 0; i < n; ++i){\nÃÂ ÃÂ  ÃÂ string order;\nÃÂ ÃÂ  ÃÂ string msg;\nÃÂ ÃÂ  ÃÂ cin >> order >> msg;\nÃÂ ÃÂ  ÃÂ for(int i = (int)order.length()-1; i>=0; --i){\nÃÂ ÃÂ  ÃÂ  ÃÂ if( order[i] == 'J' ){\n\tmsg = revJ( msg );\nÃÂ ÃÂ  ÃÂ  ÃÂ }\nÃÂ ÃÂ  ÃÂ  ÃÂ if( order[i] == 'C' ){\n\tmsg = revC( msg );\nÃÂ ÃÂ  ÃÂ  ÃÂ }\nÃÂ ÃÂ  ÃÂ  ÃÂ if( order[i] == 'E' ){\n\tmsg = revE( msg );\nÃÂ ÃÂ  ÃÂ  ÃÂ }\nÃÂ ÃÂ  ÃÂ  ÃÂ if( order[i] == 'A' ){\n\tmsg = revA( msg );\nÃÂ ÃÂ  ÃÂ  ÃÂ }\nÃÂ ÃÂ  ÃÂ  ÃÂ if( order[i] == 'P' ){\n\tmsg = revP( msg );\nÃÂ ÃÂ  ÃÂ  ÃÂ }\nÃÂ ÃÂ  ÃÂ  ÃÂ if( order[i] == 'M' ){\n\tmsg = revM( msg );\nÃÂ ÃÂ  ÃÂ  ÃÂ }\nÃÂ ÃÂ  ÃÂ }\nÃÂ ÃÂ  ÃÂ cout << msg << endl;\nÃÂ ÃÂ }\nÃÂ ÃÂ return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n#define pb push_back\n#define mt make_tuple\n#define all(a) (a).begin(),(a).end()\n#define frep(i,a,n) for(int i=(a);i<(n);++i)\n#define rep(i, n) for(int i=0;i<(n);++i)\n#define rrep(i, n) for(int i=n-1;i>=0;--i)\n#define debug(x) cout << #x << \" : \" << x << \" ------------ \" << endl;\nusing namespace std;\nint main()\n{\n    int n;\n    cin >> n;\n    while (n--) {\n        string o;\n        cin >> o;\n        string m;\n        cin >> m;\n        \n        rrep (i, o.length()) {\n            switch (o[i]) {\n                case 'A':\n                    reverse(all(m));\n                    break;\n                case 'J':\n                    rotate(m.rbegin(), m.rbegin() + 1, m.rend());\n                    break;\n                case 'C':\n                    rotate(m.begin(), m.begin() + 1, m.end());\n                    break;\n                case 'P': {\n                    auto it = m.begin();\n                    while (it != m.end()) {\n                        if (isdigit(*it) && --(*it) < '0') *it = '9';\n                        ++it;\n                    }\n                    break; }\n                case 'M': {\n                    auto it = m.begin();\n                    while (it != m.end()) {\n                        if (isdigit(*it) && ++(*it) > '9') *it = '0';\n                        ++it;\n                    }\n                    break; }\n                case 'E': {\n                    int len = m.length();\n                    string f = m.substr(0, len / 2);\n                    char mdl = m.length() % 2 ? m[len / 2] : 0;\n                    string b = m.substr((len + 1) / 2);\n                    m = b + mdl + f;\n                    break; }\n                default:\n                    break;\n            }\n        }\n        cout << m << endl;\n    }\n    return EXIT_SUCCESS;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nstring o, m;\n\nvoid solve() {\n\tint len = (int)o.size();\n\tint sz = (int)m.size();\n\t\n\tfor (int i = len - 1; i >= 0; i--) {\n\t\tswitch (o[i]) {\n\t\tcase 'J':\n\t\t\tm = m[sz - 1] + m.substr(0, sz - 1);\n\t\t\tbreak;\n\t\tcase 'C':\n\t\t\tm = m.substr(1, sz - 1) + m[0];\n\t\t\tbreak;\n\t\tcase 'E':\n\t\t\tif (sz % 2) {\n\t\t\t\tm = m.substr(0, sz / 2) + m[sz / 1 + 1] + m.substr(sz / 2 + 2, sz / 2);\n\t\t\t} else {\n\t\t\t\tm = m.substr(0, sz / 2) + m.substr(sz / 2 + 1, sz / 2);\n\t\t\t}\n\t\t\tbreak;\n\t\tcase 'A':\n\t\t\treverse(m.begin(), m.end());\n\t\t\tbreak;\n\t\tcase 'P':\n\t\t\tfor (int i = 0; i < sz; i++) {\n\t\t\t\tif ('1' <= m[i] && m[i] <= '9') {\n\t\t\t\t\tchar c = m[i] - 1;\n\t\t\t\t\tm[i] = c;\n\t\t\t\t} else if (m[i] == '0') m[i] = '9';\n\t\t\t}\n\t\t\tbreak;\n\t\tcase 'M':\n\t\t\tfor (int i = 0; i < sz; i++) {\n\t\t\t\tif ('0' <= m[i] && m[i] <= '8') {\n\t\t\t\t\tchar c = m[i] + 1;\n\t\t\t\t\tm[i] = c;\n\t\t\t\t} else if (m[i] == '9') m[i] = '0';\n\t\t\t}\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\t\n\tcout << m << endl;\n}\n\nint main() {\n\tint n; cin >> n;\n\t\n\tfor (int i = 0; i < n; i++) {\n\t\tcin >> o;\n\t\tcin >> m;\n\t\tsolve();\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nint main(){\n\tint n;\n\tcin >> n;\n\tfor(int i = 0;i < n;i++){\n\t\tstring s, t;\n\t\tcin >> t >> s;\n\t\tint sz = s.size();\n\t\t\n\t\tfor(int j = t.size()-1;j >= 0;j--){\n\t\t\tstring ns;\n\t\t\tif(t[j] == 'J'){\n\t\t\t\tns += s[sz-1];\n\t\t\t\tns += s.substr(0, sz-1);\n\t\t\t}\n\t\t\tif(t[j] == 'C'){\n\t\t\t\tns += s.substr(1, sz-1);\n\t\t\t\tns += s[0];\n\t\t\t}\n\t\t\tif(t[j] == 'E'){\n\t\t\t\tint hf = sz / 2;\n\t\t\t\tns += s.substr((sz+1)/2, hf);\n\t\t\t\tif(sz % 2) ns += s[hf];\n\t\t\t\tns += s.substr(0, hf);\n\t\t\t}\n\t\t\tif(t[j] == 'A'){\n\t\t\t\treverse(s.begin(), s.end());\n\t\t\t\tns = s;\n\t\t\t}\t\t\t\n\t\t\tif(t[j] == 'P'){\n\t\t\t\tfor(int k = 0;k < sz;k++){\n\t\t\t\t\tif(s[k] >= '0' && s[k] <= '9'){\n\t\t\t\t\t\tif(s[k] == '0'){\n\t\t\t\t\t\t\ts[k] = '9';\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\ts[k]--;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tns = s;\n\t\t\t}\n\t\t\tif(t[j] == 'M'){\n\t\t\t\tfor(int k = 0;k < sz;k++){\n\t\t\t\t\tif(s[k] >= '0' && s[k] <= '9'){\n\t\t\t\t\t\tif(s[k] == '9'){\n\t\t\t\t\t\t\ts[k] = '0';\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\ts[k]++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tns = s;\n\t\t\t}\n\t\t\ts = ns;\n\t\t\tcout << t[j] << endl;\n\t\t\tcout << s << endl;\n\t\t}\n//\t\tcout << s << endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstring>\nusing namespace std;\n\nint main(){\n\tint n;\n\tcin >> n;\n\tfor(int i = 0; i < n; i++){\n\t\tstring p,str,tmp;\n\t\tcin >> p >> str;\n\t\tfor(int i = p.size()-1; i >= 0; i--){\n\t\t\tif(p[i] == 'J'){\n\t\t\t\ttmp = str;\n\t\t\t\tstr[0] = tmp[str.size()-1];\n\t\t\t\tfor(int j = 1; j < str.size(); j++) str[j] = tmp[j-1];\n\t\t\t} else if(p[i] == 'C'){\n\t\t\t\ttmp = str;\n\t\t\t\tfor(int j = 0; j < str.size()-1; j++) str[j] = tmp[j+1];\n\t\t\t\tstr[str.size()-1] = tmp[0];\n\t\t\t} else if(p[i] == 'E'){\n\t\t\t\ttmp = str;\n\t\t\t\tif(str.size()%2==0){\n\t\t\t\t\tfor(int j = 0; j < str.size()/2; j++) str[j] = tmp[j+str.size()/2];\n\t\t\t\t\tfor(int j = str.size()/2; j < str.size(); j++) str[j] = tmp[j-str.size()/2];\n\t\t\t\t} else{\n\t\t\t\t\tfor(int j = 0; j < str.size()/2; j++) str[j] = tmp[j+str.size()/2+1];\n\t\t\t\t\tfor(int j = str.size()/2+1; j < str.size(); j++) str[j] = tmp[j-str.size()/2-1];\n\t\t\t\t}\n\t\t\t} else if(p[i] == 'A'){\n\t\t\t\ttmp = str;\n\t\t\t\tfor(int j = 0; j < str.size(); j++){\n\t\t\t\t\tstr[j] = tmp[str.size()-1-j];\n\t\t\t\t}\n\t\t\t} else if(p[i] == 'P'){\n\t\t\t\tfor(int j = 0; j < str.size(); j++){\n\t\t\t\t\tif(0<=str[j]-'0'&&str[j]-'0'<=9){\n\t\t\t\t\t\tif(str[j]-'0' == 0) str[j] = '9';\n\t\t\t\t\t\telse str[j]--;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if(p[i] == 'M'){\n\t\t\t\tfor(int j = 0; j < str.size(); j++){\n\t\t\t\t\tif(0<=str[j]-'0'&&str[j]-'0'<=9){\n\t\t\t\t\t\tif(str[j]-'0' == 9) str[j] = '0';\n\t\t\t\t\t\telse str[j]++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << str << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> pii;\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\nconst double PI = 3.14159265358979323846;\nconst double EPS = 1e-12;\nconst int INF = numeric_limits<int>::max() / 2;\nconst int NEG_INF = numeric_limits<int>::min() / 2;\n\n//????????¨??¢??°???\nstring MrJ(string s){\n  string res=\"\";\n  int len=s.length();\n  res += s[len-1];\n  for(int i=0;i<len-1;i++) res += s[i];\n  return res;\n}\nstring MissC(string s){\n  string res=\"\";\n  int len=s.length();\n  for(int i=1;i<len;i++) res += s[i];\n  res += s[0];\n  return res;\n}\nstring MrE(string s){\n  string res=\"\";\n  int len=s.length();\n  if(len%2==0){\n    for(int i=len/2;i<=len-1;i++) res+=s[i];\n    for(int i=0;i<=len/2-1;i++) res+= s[i];\n  }\n  else{\n    for(int i=(len+1)/2;i<=len-1;i++) res += s[i];\n    res += s[(len-1)/2];\n    for(int i=0;i<=(len-3)/2;i++) res += s[i];\n  }\n  return res;\n}\nstring MrA(string s){\n  string res=\"\";\n  int len=s.length();\n  for(int i=len-1;0<=i;i--) res += s[i];\n  return res;\n}\nstring DrP(string s){\n  string res=\"\";\n  int len=s.length();\n  for(int i=0;i<len;i++){\n    if(48<s[i] && s[i]<=57){\n      res += s[i]-1;\n    }\n    else if(s[i]==48) res+= \"9\";\n    else res+= s[i];\n  }\n  return res;\n}\nstring MrM(string s){\n  string res=\"\";\n  int len=s.length();\n  for(int i=0;i<len;i++){\n    if(48<=s[i] && s[i]<57){\n      res += s[i]+1;\n    }\n    else if(s[i]==57) res+= \"0\";\n    else res+= s[i];\n  }\n  return res;\n}\n\nint main(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n\n  int n;\n  cin >> n;\n  for(int i=0;i<n;i++){\n    string order;\n    string s;\n    cin >> order >> s;\n    int len=order.length();\n    for(int j=len-1;0<=j;j--){\n      if(order[j]=='J') s=MrJ(s);\n      else if(order[j]=='C') s=MissC(s);\n      else if(order[j]=='E') s=MrE(s);\n      else if(order[j]=='A') s= MrA(s);\n      else if(order[j]=='P') s=DrP(s);\n      else s=MrM(s);\n    }\n    cout << s << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\n\nint main() {\n  int n; cin >> n;\n  while(n--) {\n    string member; cin >> member;\n    string s; cin >> s;\n    int siz = s.size();\n    for(int i = member.size()-1; i >= 0; i--) {\n      char c = member[i];\n      if(c == 'C') {;\n        s = s.substr(1, siz) + s[0];\n      } else if(c == 'J') {\n        s = s[siz-1] + s.substr(0, siz-1);\n      } else if(c == 'E') {\n        string temp = s.substr(0, siz/2);\n        s = s.substr(siz/2, siz) + temp;\n      } else if(c == 'A') {\n        reverse(s.begin(), s.end());\n      } else if(c == 'M') {\n        for(int j = 0; j < siz; j++) {\n          if('0' <= s[j] && s[j] <= '9') {\n            if(s[j] != '9') s[j]++;\n            else s[j] = '0';\n          }\n        }\n      } else if(c == 'P') {\n        for(int j = 0; j < siz; j++) {\n          if('0' <= s[j] && s[j] <= '9') {\n            if(s[j] != '0') s[j]--;\n            else s[j] = '9';\n          }\n        }\n      }\n    }\n    cout << s << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define fst(t) std::get<0>(t)\n#define snd(t) std::get<1>(t)\n#define thd(t) std::get<2>(t)\n#define unless(p) if(!(p))\n#define until(p) while(!(p))\n\nusing ll = long long;\nusing P = std::tuple<int,int>;\n\nconst int dx[8] = {-1, 1, 0, 0, -1, -1, 1, 1}, dy[8] = {0, 0, -1, 1, -1, 1, -1, 1};\n\nint main(){\n    std::cin.tie(nullptr);\n    std::ios::sync_with_stdio(false);\n    \n    int N;\n    std::cin >> N;\n\n    for(int i=0;i<N;++i){\n        string order;\n        std::cin >> order;\n\n        reverse(order.begin(), order.end());\n    \n        string message;\n        std::cin >> message;\n\n        for(const char& c : order){\n            if(c == 'J'){\n                string newMessage = *message.rbegin() + message.substr(0, message.size() - 1);\n                message = newMessage;\n            }else if(c == 'C'){\n                string newMessage = message.substr(1, message.size() - 1) + message[0];\n                message = newMessage;            \n            }else if(c == 'E'){\n                int half = message.size() / 2;\n                string left = message.substr(0, half),\n                    right = message.substr(message.size() - half, half);\n                if(message.size() % 2 == 0){\n                    message = right + left;\n                }else{\n                    message = right + message[half] + left;\n                }\n            }else if(c == 'A'){\n                reverse(message.begin(), message.end());\n            }else if(c == 'P'){\n                for(auto &c : message){\n                    if(isdigit(c)){\n                        c = '0' + (c - '0' + 10 - 1) % 10;\n                    }\n                }\n            }else if(c == 'M'){\n                for(auto &c : message){\n                    if(isdigit(c)){\n                        c = '0' + (c - '0' + 1) % 10;\n                    }\n                }\n            }else{\n                assert(false);\n            }\n        }\n\n        std::cout << message << std::endl;\n    }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <map>\n#include <set>\n#include <stack>\n#include <queue>\n#include <algorithm>\n#include <utility>\n#include <functional>\n#include <sstream>\n#include <iostream>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <cctype>\n#include <string>\n#include <cstring>\n#include <ctime>\n#include <climits>\n#include <fstream>\nusing namespace std;\ninline int toInt(string s) { int v; istringstream sin(s); sin >> v; return v;}\ntemplate<class T> inline string toStr(T x) { ostringstream sout; sout << x; return sout.str();}\ntypedef vector<int> vi;\ntypedef vector<vi>  vvi;\ntypedef vector<string> vs;\ntypedef pair<int, int> pii;\ntypedef long long ll;\n#define ALL(a) (a).begin(),(a).end()\n#define RALL(a) (a).rbegin(),(a).rend()\n#define FOR(i,a,b) for(int i=(a);i<=(b);++i)\n#define REP(i,n) FOR(i,0,(n)-1)\nconst double EPS = 1e-12;\nconst double PI = acos(-1.0);\nconst int INF = INT_MAX/10;\n\nint main() {\n\tint n;\n\tcin >> n;\n\t\n\tREP(_, n) {\n\t\tstring o, m;\n\t\tcin >> o >> m;\n\n\t\tint size = m.size();\n\t\tREP(i, o.size()) {\n\t\t\tstring nm = m;\n\n\t\t\tswitch(o[o.size()-i-1]) {\n\t\t\tcase 'J':\n\t\t\t\tREP(j, size) {\n\t\t\t\t\tnm[(j+1)%size] = m[j];\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'C':\n\t\t\t\tREP(j, size) {\n\t\t\t\t\tnm[j] = m[(j+1)%size];\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'E':\n\t\t\t\tif(size%2) {\n\t\t\t\t\tREP(j, size/2) {\n\t\t\t\t\t\tnm[j] = m[j+size/2+1];\n\t\t\t\t\t\tnm[j+size/2+1] = m[j];\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tREP(j, size) {\n\t\t\t\t\t\tnm[j] = m[(j+size/2)%size];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'A':\n\t\t\t\tREP(j, size) {\n\t\t\t\t\tnm[j] = m[size-j-1];\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'M':\n\t\t\t\tREP(j, size) {\n\t\t\t\t\tif('0' <= m[j] && m[j] <= '8') {\n\t\t\t\t\t\tnm[j]++;\n\t\t\t\t\t} else if(m[j] == '9') {\n\t\t\t\t\t\tnm[j] = '0';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'P':\n\t\t\t\tREP(j, size) {\n\t\t\t\t\tif('1' <= m[j] && m[j] <= '9') {\n\t\t\t\t\t\tnm[j]--;\n\t\t\t\t\t} else if(m[j] == '0') {\n\t\t\t\t\t\tnm[j] = '9';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tm = nm;\n\t\t}\n\t\tcout << m << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main(void) {\n\n    int n; cin >> n;\n    while (n--) {\n        string psg, msg; cin >> psg >> msg;\n        int len = msg.size();\n        for (int i = psg.size()-1; i >= 0; i--) {\n            switch (psg[i]) {\n            case 'J':\n                // right shift\n                msg = msg[len-1] + msg.substr(0, len-1);\n                break;\n            case 'C':\n                // left shift\n                msg = msg.substr(1, len-1) + msg[0];\n                break;\n            case 'E':\n                // swap\n                if (len%2 == 0) {\n                    string l = msg.substr(0, len/2);\n                    string r = msg.substr(len/2, len/2);\n                    msg = r+l;\n                } else {\n                    string l = msg.substr(0, len/2);\n                    string r = msg.substr(len/2+1, len/2);\n                    msg = r+msg[len/2]+l;\n                }\n                break;\n            case 'A':\n                // reverse\n                reverse(msg.begin(), msg.end());\n                break;\n            case 'P':\n                // decrement digits\n                for (auto &m : msg) {\n                    if (isdigit(m)) {\n                        if (n == '0') m = '9';\n                        else m--;\n                    }\n                }\n                break;\n            case 'M':\n                // increment digits\n                for (auto &m : msg) {\n                    if (isdigit(m)) {\n                        if (m == '9') m = '0';\n                        else m++;\n                    }\n                }\n                break;\n            default:\n                break;\n            }\n        }\n        cout << msg << endl;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nstring J(const string& s)\n{\n    int lasti = s.size() - 1;\n    return s[lasti] + s.substr(0, lasti);\n}\n\nstring C(const string& s)\n{\n    return s.substr(1) + s[0];\n}\n\nstring E(const string& s)\n{\n    int size = s.size();\n    int hsize = size / 2;\n    if(size&1) return s.substr(hsize+1) + s[hsize] + s.substr(0, hsize);\n    else return s.substr(hsize) + s.substr(0, hsize);\n}\n\nstring A(const string& s)\n{\n    return string(s.rbegin(), s.rend());\n}\n\nstring P(const string& s)\n{\n    string r;\n    for(basic_string<char>::const_iterator i=s.begin(); i!=s.end(); i++)\n    {\n        r.push_back(('0'<=*i && *i<='9') ? (*i - '0' + 9) % 10 + '0' : *i);\n    }\n    return r;\n}\n\nstring M(const string& s)\n{\n    string r;\n    for(basic_string<char>::const_iterator i=s.begin(); i!=s.end(); i++)\n    {\n        r.push_back(('0'<=*i && *i<='9') ? (*i - '0' + 1) % 10 + '0' : *i);\n    }\n    return r;\n}\n\n\n\nint main()\n{\n    string (*op[128])(const string&);\n    op['J'] = J;\n    op['C'] = C;\n    op['E'] = E;\n    op['A'] = A;\n    op['P'] = P;\n    op['M'] = M;\n\n    int n;\n    cin >> n;\n    while(n--)\n    {\n        string cmd, text;\n        cin >> cmd >> text;\n        for(basic_string<char>::iterator i=cmd.begin(); i!=cmd.end(); i++)\n        {\n            text = op[*i](text);\n        }\n        cout << text << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define int long long   // <-----!!!!!!!!!!!!!!!!!!!\n\n#define rep(i,n) for (int i=0;i<(n);i++)\n#define rep2(i,a,b) for (int i=(a);i<(b);i++)\n#define rrep(i,n) for (int i=(n)-1;i>=0;i--)\n#define rrep2(i,a,b) for (int i=(b)-1;i>=(a);i--)\n#define all(a) (a).begin(),(a).end()\n\ntypedef long long ll;\ntypedef pair<int, int> P;\ntypedef tuple<int, int, int> TUPLE;\ntypedef vector<int> V;\ntypedef vector<V> VV;\ntypedef vector<VV> VVV;\n\nsigned main() {\n    std::ios::sync_with_stdio(false);\n    std::cin.tie(0);\n\n    int n;\n    cin >> n;\n    while (n--) {\n        string s;\n        cin >> s;\n        string t;\n        cin >> t;\n        int m = t.size();\n\n        reverse(all(s));\n        rep(i, s.size()) {\n            if (s[i] == 'J') {\n                t = t[m - 1] + t.substr(0, m - 1);\n            }\n            if (s[i] == 'C') {\n                t = t.substr(1) + t[0];\n            }\n            if (s[i] == 'E') {\n                string u = \"\";\n                u += t.substr((m + 1) / 2);\n                if (m % 2 == 1) u += t[m / 2];\n                u += t.substr(0, m / 2);\n                t = u;\n            }\n            if (s[i] == 'A') {\n                reverse(all(t));\n            }\n            if (s[i] == 'P') {\n                rep(j, m) {\n                    if (isdigit(t[j])) {\n                        t[j] = (t[j] - '0' - 1 + 10) % 10 + '0';\n                    }\n                }\n            }\n            if (s[i] == 'M') {\n                rep(j, m) {\n                    if (isdigit(t[j])) {\n                        t[j] = (t[j] - '0' + 1) % 10 + '0';\n                    }\n                }\n            }\n        }\n\n        cout << t << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint main(){\n\tint n;\n\tcin>>n;\n\twhile(n--){\n\t\tstring s,ss;\n\t\tcin>>s>>ss;\n\t\tfor(int i=s.size()-1;i>=0;i--){\n\t\t\tif(s[i]=='P')\n\t\t\t\tfor(int j=0;j<ss.size();j++)\n\t\t\t\t\tif(isdigit(ss[j]))\n\t\t\t\t\t\tss[j]=(ss[j]-'0'+9)%10+'0';\n\t\t\tif(s[i]=='M')\n\t\t\t\tfor(int j=0;j<ss.size();j++)\n\t\t\t\t\tif(isdigit(ss[j]))\n\t\t\t\t\t\tss[j]=(ss[j]-'0'+1)%10+'0';\n\t\t\tif(s[i]=='A')reverse(ss.begin(),ss.end());\n\t\t\tif(s[i]=='E')for(int k=0;k<ss.size()/2;k++)swap(ss[k],ss[(ss.size()+1)/2+k]);\n\t\t\tif(s[i]=='J')ss=ss[ss.size()-1]+ss.substr(0,s.size()-1);\n\t\t\tif(s[i]=='C')ss=ss.substr(1,s.size()-1)+s[0];\n\t\t}\n\t\tcout<<ss<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define syosu(x) fixed<<setprecision(x)\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned int uint;\ntypedef unsigned long long ull;\ntypedef pair<int,int> P;\ntypedef pair<double,double> pdd;\ntypedef pair<ll,ll> pll;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<double> vd;\ntypedef vector<vd> vvd;\ntypedef vector<ll> vl;\ntypedef vector<vl> vvl;\ntypedef vector<string> vs;\ntypedef vector<P> vp;\ntypedef vector<vp> vvp;\ntypedef vector<pll> vpll;\ntypedef pair<int,P> pip;\ntypedef vector<pip> vip;\nconst int inf=1<<30;\nconst ll INF=1ll<<60;\nconst double pi=acos(-1);\nconst double eps=1e-11;\nconst ll mod=1e9+7;\nconst int dx[4]={-1,0,1,0},dy[4]={0,-1,0,1};\n\nint n;\n\nint main(){\n\tcin>>n;\n\tfor(int i=0;i<n;i++){\n\t\tstring s,t;\n\t\tcin>>s>>t;\n\t\tint m=s.size();\n\t\tint N=t.size();\n\t\tfor(int j=m-1;j>=0;j--){\n\t\t\tstring u;\n\t\t\tif(s[j]=='J') u=t[N-1]+t.substr(0,N-1);\n\t\t\tif(s[j]=='C') u=t.substr(1,N-1)+t[0];\n\t\t\tif(s[j]=='E'){\n\t\t\t\tif(N%2==0) u=t.substr(N/2,N/2)+t.substr(0,N/2);\n\t\t\t\telse u=t.substr(N/2+1,N/2)+t[N/2]+t.substr(0,N/2);\n\t\t\t}\n\t\t\tif(s[j]=='A'){\n\t\t\t\tu=t;\n\t\t\t\treverse(u.begin(),u.end());\n\t\t\t}\n\t\t\tif(s[j]=='P'){\n\t\t\t\tu=t;\n\t\t\t\tfor(int k=0;k<N;k++) if(isdigit(u[k])){\n\t\t\t\t\tif(u[k]=='0') u[k]='9';\n\t\t\t\t\telse u[k]--;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(s[j]=='M'){\n\t\t\t\tu=t;\n\t\t\t\tfor(int k=0;k<N;k++) if(isdigit(u[k])){\n\t\t\t\t\tif(u[k]=='9') u[k]='0';\n\t\t\t\t\telse u[k]++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tt=u;\n\t\t}\n\t\tcout<<t<<endl;\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n/*{{{*/  //template\n#define rep(i,n) for(int i=0;i<n;i++)\nconstexpr int INF = numeric_limits<int>::max()/2;\nconstexpr long long LINF = numeric_limits<long long>::max()/3;\n#define mp make_pair\n#define pb push_back\n#define eb emplace_back\n#define fi first\n#define se second\n#define all(v) (v).begin(),(v).end()\n#define sz(x) (int)(x).size()\n#define debug(x) cerr<<#x<<\":\"<<x<<endl\n#define debug2(x,y) cerr<<#x<<\",\"<<#y\":\"<<x<<\",\"<<y<<endl\n//struct fin{ fin(){ cin.tie(0); ios::sync_with_stdio(false); } } fin_;\nstruct Double{ double d; explicit Double(double x) : d(x){} };\nostream& operator<<(ostream& os,const Double x){ os << fixed << setprecision(20) << x.d; return os; }\ntemplate<typename T> ostream& operator<<(ostream& os,const vector<T>& vec){ os << \"[\"; for(const auto& v : vec){ os << v << \",\"; } os << \"]\"; return os; }\ntemplate<typename T,typename U> ostream& operator<<(ostream& os,const pair<T,U>& p){ os << \"(\" << p.first << \",\"<< p.second <<\")\"; return os; }\ntemplate<typename T> ostream& operator<<(ostream& os,const set<T>& st){ os<<\"{\"; for(T v:st) os<<v<<\",\"; os <<\"}\"; return os; }\ntemplate<typename T,typename U> inline void chmax(T &x,U y){ if(y>x) x = y; }\ntemplate<typename T,typename U> inline void chmin(T &x,U y){ if(y<x) x = y; }\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> pii;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\nll gcd(ll a,ll b){ if(b==0) return a; else return gcd(b,a%b); }\n//constexpr double eps = 1e-14; \nconstexpr double eps = 1e-10; \nconstexpr ll mod = 1e9+7;\nconst int dx[]={1,0,-1,0} ,dy[] = {0,1,0,-1};\n/*}}}*/\n\nstring J(string t){\n    string ret;\n    ret.push_back(t[t.size()-1]);\n    for(int i=0;i<sz(t)-1;i++){\n        ret.pb(t[i]);\n    }\n    return ret;\n}\n\nstring C(string t){\n    string ret;\n    for(int i=1;i<sz(t);i++){\n        ret.pb(t[i]);\n    }\n    ret.pb(t[0]);\n    return ret;\n}\n\nstring E(string s){\n    if(s.size()%2==0){\n        int t = s.size();\n        string s1 = s.substr(0,t/2);\n        string s2 = s.substr(t/2,t/2);\n\n        return s2+s1;\n    }else{\n        int t = s.size();\n        string s1 = s.substr(0,t/2);\n        string s2 = s.substr(t/2+1,t/2);\n        char c = s[t/2];\n        string ret = s2;\n        ret.pb(c);\n        ret += s1;\n        return ret;\n    }\n}\n\nstring A(string s){\n    string ret = s;\n    reverse(all(ret));\n    return ret;\n}\n\nstring P(string s){\n    for(int i=0;i<sz(s);i++){\n        if('1'<=s[i] and s[i]<='9') s[i]--;\n        else if(s[i]=='0') s[i]=='9';\n    }\n    return s;\n}\n\nstring M(string s){\n    for(int i=0;i<sz(s);i++){\n        if('0'<=s[i] and s[i]<'9'){\n            s[i]++;\n        }else if(s[i]=='9'){\n            s[i]='0';\n        }\n    }\n    return s;\n}\n\nvoid solve(){\n    string s,t;\n    cin >> s >> t;\n\n    for(int i=sz(s)-1;i>=0;i--){\n        string u;\n        if(s[i]=='J') t = J(t);\n        if(s[i]=='C') t = C(t);\n        if(s[i]=='E') t = E(t);\n        if(s[i]=='A') t = A(t);\n        if(s[i]=='P') t = P(t);\n        if(s[i]=='M') t = M(t);\n    }\n    cout << t << endl;\n}\n\nint main(){\n    int N;\n    cin >> N;\n    rep(i,N) solve();\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define FOR(i, s, n) for(int i = s; i < (int)n; i++)\n#define per(i, n) for(int i = n; i >= 0; i--)\n#define ROF(i, s, n) for(int i = s; i >= (int)n; i--)\n#define FORIT(i, A) for (auto i : A)\n#define PRINT(x) cout << (x) << \"\\n\"\n#define ALL(a) (a).begin(),(a).end()\n#define RALL(a) (a).rbegin(), (a).rend()\n#define MP make_pair\n#define EACH(i, n) for (__typeof((n).begin()) i = (n).begin(); i != (n).end(); ++i)\n#define SZ(a) int((a).size())\n#define EXIST(s,e) ((s).find(e)!=(s).end())\n#define SORT(c) sort((c).begin(),(c).end())\n#define CLR(a) memset((a), 0 ,sizeof(a))\n#define NCLR(a) memset((a), -1 ,sizeof(a))\n#define dump(x) cout << #x << \" = \" << (x) << \"\\n\";\n#define debug(x) cout << #x << \" = \" << (x) << \" (L\" << __LINE__ << \")\" << \" \" << __FILE__ << \"\\n\";\n#define sq(n) (n) * (n)\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<string> VS;\ntypedef pair<int, int> PII;\ntypedef long long LL;\ntypedef vector<LL> VLL;\ntypedef vector<VLL> VVLL;\ntypedef unsigned int uint;\ntypedef unsigned long long ull;\ntypedef priority_queue<int> maxpq;\ntypedef priority_queue< int, vector<int>, greater<int> > minpq;\ntypedef complex<double> P;\nstatic const double EPS = 1e-10;\nstatic const double PI = acos( -1.0 );\nstatic const int mod = 1000000007;\nstatic const int INF = 1 << 29;\nstatic const LL LL_INF = 1152921504606846976;\nstatic const int dx[] = { -1, 0, 1, 0, 1, -1, 1, -1 };\nstatic const int dy[] = { 0, -1, 0, 1, 1, 1, -1, -1 };\n\n\nint main() {\n\tint n;\n\tstring str;\n\tstring root;\n\tscanf( \"%d\", &n );\n\twhile ( n-- ) {\n\t\tcin >> root;\n\t\tcin >> str;\n\t\tstring copy_root = root;\n\t\tsort( copy_root.begin(), copy_root.end() );\n\t\tint move = ( upper_bound( copy_root.begin(), copy_root.end(), 'M' ) - lower_bound( copy_root.begin(), copy_root.end(), 'M' ) ) - ( upper_bound( copy_root.begin(), copy_root.end(), 'P' ) - lower_bound( copy_root.begin(), copy_root.end(), 'P' ) ) - 6;\n\t\tmove %= 10;\n\t\treverse( root.begin(), root.end() );\n\t\tfor ( int i = 0; i < root.size(); i++ ) {\n\t\t\tif ( root[ i ] == 'A' ) {\n\t\t\t\treverse( str.begin(), str.end() );\n\t\t\t}\n\t\t\tif ( root[ i ] == 'J' ) {\n\t\t\t\tstr = str[ str.size() - 1 ] + str.substr( 0, str.size() - 1 );\n\t\t\t}\n\t\t\tif ( root[ i ] == 'C' ) {\n\t\t\t\tstr = str.substr( 1, str.size() - 1 ) + str[ 0 ];\n\t\t\t}\n\t\t\tif ( root[ i ] == 'E' ) {\n\t\t\t\tif ( str.size() % 2 == 0 ) {\n\t\t\t\t\tstr = str.substr( str.size() / 2, str.size() / 2 ) + str.substr( 0, str.size() / 2 );\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tstr = str.substr( str.size() / 2 + 1, str.size() / 2 ) + str[ str.size() / 2 ] + str.substr( 0, str.size() / 2 );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor ( int i = 0; i < str.size(); i++ ) {\n\t\t\tif ( str[ i ] >= '0' && str[ i ] <= '9' ) {\n\t\t\t\tstr[ i ] -= '0';\n\t\t\t\tstr[ i ] += 10000;\n\t\t\t\tstr[ i ] += move;\n\t\t\t\tstr[ i ] %= 10;\n\t\t\t\tstr[ i ] += '0';\n\t\t\t}\n\t\t}\n\t\tprintf( \"%s\\n\", str.c_str() );\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include <string>\nusing namespace std;\n\nint main ()\n{\n    int n;\n    cin >> n;\n    while (n--) {\n        string st, tr;\n        cin >> st >> tr;\n        for (int i = st.size() - 1; i >= 0; i--) {\n            char t;\n            switch (st[i])\n            {\n            case 'J':\n            {\n                tr = tr[tr.size() - 1] + tr.substr(0, tr.size() - 1);\n                break;\n            }\n            case 'C':\n            {\n                tr = tr.substr(1, tr.size() - 1) + tr[0];\n                break;\n            }\n            case 'E':\n            {\n                if (tr.size() % 2) {\n                    tr = tr.substr(tr.size() - tr.size() / 2, tr.size() / 2) + tr[tr.size() / 2] + tr.substr(0, tr.size() / 2);\n                } else {\n                    tr = tr.substr(tr.size() - tr.size() / 2, tr.size() / 2) + tr.substr(0, tr.size() / 2);\n                }\n                break;\n            }\n            case 'A':\n            {\n                string tmp = tr;\n                for (int j = 0; j < tr.size(); j++) {\n                    tr[j] = tmp[tr.size() - 1 - j];\n                }\n                break;\n            }\n            case 'M':\n            {\n                for (int j = 0; j < tr.size(); j++) {\n                    if ('0' <= tr[j] && tr[j] <= '8') {\n                        tr[j]++;\n                    } else if (tr[j] == '9') {\n                        tr[j] = '0';\n                    }\n                }\n                break;\n            }\n            case 'P':\n            {\n                for (int j = 0; j < tr.size(); j++) {\n                    if ('1' <= tr[j] && tr[j] <= '9') {\n                        tr[j]--;\n                    } else if (tr[j] == '0') {\n                        tr[j] = '9';\n                    }\n                }\n                break;\n            }\n            default: break;\n            }\n        }\n        cout << tr << endl;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\nusing namespace std;\nint main(){\n  int n;\n  string c,m;\n  cin>>n;\n  for(int i=0;i<n;i++){\n    cin>>c>>m;\n    int size=m.size();\n    for(int j=c.size()-1;j>=0;j--){\n      if(c[j]=='C'){\n        m+=m[0];\n        m.erase(m.begin());\n      }\n      if(c[j]=='J'){\n        m=m[size-1]+m;\n        m.erase(m.end()-1);\n      }\n      if(c[j]=='M'){\n        for(int k=0;k<size;k++){\n          if('0'<=m[k]&&m[k]<='8')m[k]++;\n          else if(m[k]=='9')m[k]='0';\n        }\n      }\n      if(c[j]=='P'){\n        for(int k=0;k<size;k++){\n          if('1'<=m[k]&&m[k]<='9')m[k]--;\n          else if(m[k]=='0')m[k]='9';\n        }\n      }\n      if(c[j]=='A')reverse(m.begin(),m.end());\n      if(c[j]=='E'){\n        if(size%2==0){\n          string a;\n          for(int k=size/2;k<size;k++)a+=m[k];\n          for(int k=0;k<size/2;k++)a+=m[k];\n          m=a;\n        }else{\n          string a;\n          for(int k=size/2+1;k<size;k++)a+=m[k];\n          a+=m[size/2];\n          for(int k=0;k<size/2;k++)a+=m[k];\n          m=a;\n        }\n      }\n    }\n    cout<<m<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <stdio.h>\n#include <cstdio>\n#include <algorithm>\nusing namespace std;\n\nint main(){\n    int n;\n    cin >> n;\n    while( n-- ){\n        string p, m;\n        cin >> p >> m;\n        reverse( p.begin(), p.end() );\n        for( size_t i = 0; i < p.length(); i++ ){\n            switch(p[i]){\n                case 'J':{\n                    char tmp = m[m.length() - 1];\n                    for( size_t j = m.length() - 1; j > 0; j-- ){\n                        //if( j == 0 ){\n                        //}else{\n                            m[j] = m[j-1];\n                        //}\n                        //cout << m[j] << endl;\n                    }\n                    m[0] = tmp;\n                    break;\n                }case 'C':{\n                    char tmp = m[0];\n                    for( size_t j = 0; j < m.length(); j++ ){\n                        if( j == m.length() - 1 ) m[j] = tmp;\n                        else m[j] = m[j+1];\n                    }\n                    break;\n                }case 'E':{\n                    string tmp = m.substr( 0, m.length() / 2 );\n                    m.replace( 0, (m.length() - 1) / 2, m );\n                    m.append( m.length() / 2, tmp );\n                    break;\n                }case 'A':{\n                    reverse( m.begin(), m.end() );\n                    break;\n                }case 'P':{\n                    for( size_t j = 0; j < m.length(); j++ ){\n                        if( '1' <= m[j] && m[j] <= '9' ){\n                            m[j]--;\n                        }else if( '0' == m[j] ){\n                            m[j] = '9';\n                        }\n                    }\n                    break;\n                }case 'M':{\n                    for( size_t j = 0; j < m.length(); j++ ){\n                        if( '0' <= m[j] && m[j] <= '8' ){\n                            m[j]++;\n                        }else if( '9' == m[j] ){\n                            m[j] = '0';\n                        }\n                    }\n                    break;\n                }\n            }\n        }\n        cout << m << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nbool solve(){\n    string s, t;\n    cin >> s >> t;\n    reverse(s.begin(), s.end());\n    for(auto c : s){\n        if(c == 'J'){\n            t.insert(t.begin(), t.back());\n            t.pop_back();\n        }\n        if(c == 'C'){\n            t.push_back(t.front());\n            t.erase(t.begin());\n        }\n        if(c == 'E'){\n            string tmp;\n            tmp.insert(tmp.end(),t.begin()+(t.size()+1)/2,t.end());\n            if(int(t.size())%2) tmp.push_back(t[t.size()/2]);\n            tmp.insert(tmp.end(),t.begin(), t.begin()+t.size()/2);\n            t = tmp;\n        }\n        if(c == 'A'){\n            reverse(t.begin(), t.end());\n        }\n        if(c == 'P'){\n            for(auto& d : t){\n                if(d >= '0' && d <= '9') d = (d-'0'+9)%10+'0';\n            }\n        }\n        if(c == 'M'){\n            for(auto& d : t){\n                if(d >= '0' && d <= '9') d = (d-'0'+1)%10+'0';\n            }\n        }\n    }\n    cout << t << endl;\n    return true;\n}\n\nint main(){\n    int t; cin >> t; for(;t>0;t--) solve();\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nint main()\n{\n    int n;\n    \n    scanf(\"%d\", &n);\n    \n    while (n--){\n        char s[128], tmp[128];\n        string t;\n        scanf(\"%s\", s);\n        scanf(\"%s\", tmp);\n        \n        t = (string)tmp;\n        \n        for (int i = strlen(s) - 1; i >= 0; i--){\n            if (s[i] ==  'J')\n                t = t[t.size() - 1] + t.substr(0, t.size() - 1);\n            else if (s[i] == 'C')\n                t = t.substr(1, t.size() - 1) + t[0];\n            else if (s[i] == 'E'){\n                string t1 = t.substr(0, t.size() / 2), t2 = t.substr((t.size() + 1) / 2, t.size() / 2);\n                string e = \"\";\n                t = t2 + ((t.size() & 1) ? string(1, t[t.size() / 2]) : e) + t1;\n            }\n            else if (s[i] == 'A')\n                reverse(t.begin(), t.end());\n            else if (s[i] ==  'P'){\n                for (int j = 0; j < t.size(); j++){\n                    if (isdigit(t[j])){\n                        if (t[j] == '0') t[j] = '9';\n                        else t[j]--;\n                    }\n                }\n            }\n            else {\n                for (int j = 0; j < t.size(); j++){\n                    if (isdigit(t[j])){\n                        if (t[j] == '9') t[j] = '0';\n                        else t[j]++;\n                    }\n                }\n            }\n        }\n        printf(\"%s\\n\", t.c_str());\n    }\n    \n    return (0);\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<string>\n\nusing namespace std;\n\nint main(){\n\n\tint n;\n\tstring er, ge;\n\tchar tmp;\n\tint mid;\n\n\tcin >> n;\n\n\twhile (n--){\n\t\tcin >> er;\n\t\tcin >> ge;\n\n\t\tfor (int i = er.size() - 1; i >= 0; i--){\n\t\t\tif (er[i] == 'J'){\n\t\t\t\ttmp = ge[ge.size() - 1];\n\t\t\t\tfor (int j = ge.size() - 1; j > 0; j--){\n\t\t\t\t\tge[j] = ge[j - 1];\n\t\t\t\t}\n\t\t\t\tge[0] = tmp;\n\t\t\t}\n\t\t\telse if (er[i] == 'C'){\n\t\t\t\ttmp = ge[0];\n\t\t\t\tfor (int j = 0; j < ge.size()-1; j++){\n\t\t\t\t\tge[j] = ge[j + 1];\n\t\t\t\t}\n\t\t\t\tge[ge.size()-1] = tmp;\n\t\t\t}\n\t\t\telse if (er[i] == 'E'){\n\t\t\t\tmid = ge.size() / 2 + ge.size() % 2;\n\t\t\t\tfor (int i = 0; i < ge.size() / 2; i++){\n\t\t\t\t\tswap(ge[i], ge[i + mid]);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (er[i] == 'A'){\n\t\t\t\tfor (int i = 0; i < ge.size() / 2; i++){\n\t\t\t\t\tswap(ge[i], ge[ge.size()-1-i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (er[i] == 'P'){\n\t\t\t\tfor (int i = 0; i < ge.size(); i++){\n\t\t\t\t\tif ('0' <= ge[i] && ge[i] <= '9'){\n\t\t\t\t\t\tif (ge[i] == '0') ge[i] = '9';\n\t\t\t\t\t\telse ge[i]--;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (er[i] == 'M'){\n\t\t\t\tfor (int i = 0; i < ge.size(); i++){\n\t\t\t\t\tif ('0' <= ge[i] && ge[i] <= '9'){\n\t\t\t\t\t\tif (ge[i] == '9') ge[i] = '0';\n\t\t\t\t\t\telse ge[i]++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << ge << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <queue>\n#include <stack>\n#include <algorithm>\n#include <list>\n#include <vector>\n#include <complex>\n#include <utility>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <climits>\n#include <bitset>\n#include <ctime>\n#include <map>\n#include <unordered_map>\n#include <set>\n#include <unordered_set>\n#include <cassert>\n#include <cstddef>\n#include <iomanip>\n#include <numeric>\n#include <tuple>\n#include <sstream>\n#include <fstream>\n\nusing namespace std;\n#define REP(i, n) for (int (i) = 0; (i) < (n); (i)++)\n#define FOR(i, a, b) for (int (i) = (a); (i) < (b); (i)++)\n#define RREP(i, a) for(int (i) = (a) - 1; (i) >= 0; (i)--)\n#define FORR(i, a, b) for(int (i) = (a) - 1; (i) >= (b); (i)--)\n#define DEBUG(C) cerr << #C << \" = \" << C << endl;\nusing LL = long long;\nusing VI = vector<int>;\nusing VVI = vector<VI>;\nusing VL = vector<LL>;\nusing VVL = vector<VL>;\nusing VD = vector<double>;\nusing VVD = vector<VD>;\nusing PII = pair<int, int>;\nusing PDD = pair<double, double>;\nusing PLL = pair<LL, LL>;\nusing VPII = vector<PII>;\n#define ALL(a) begin((a)), end((a))\n#define RALL(a) rbegin((a)), rend((a))\n#define SORT(a) sort(ALL((a)))\n#define RSORT(a) sort(RALL((a)))\n#define REVERSE(a) reverse(ALL((a)))\n#define MP make_pair\n#define FORE(a, b) for (auto &&a : (b))\n#define FIND(s, e) ((s).find(e) != (s).end())\n#define EB emplace_back\n\nconst int INF = 1e9;\nconst int MOD = INF + 7;\nconst LL LLINF = 1e18;\n\nstring J(string S) {\n    char c = S.front();\n    S.erase(begin(S));\n    return S + c;\n}\nstring C(string S) {\n    char c = S.back();\n    S.pop_back();\n    return c + S;\n}\nstring E(string S) {\n    string a, b;\n    a = S.substr(0, S.length() / 2);\n    b = S.substr(S.length() / 2);\n    return b + a;\n}\nstring A(string S) {\n    REVERSE(S);\n    return S;\n}\nstring M(string S) {\n    REP(i, S.length()) {\n        if (isdigit(S[i])) {\n            int n = S[i] - '0';\n            n++;\n            if (n == 10) n = 0;\n            S[i] = n + '0';\n        }\n    }\n    return S;\n}\nstring P(string S) {\n    REP(i, S.length()) {\n        if (isdigit(S[i])) {\n            int n = S[i] - '0';\n            n--;\n            if (n == -1) n = 9;\n            S[i] = n + '0';\n        }\n    }\n    return S;\n}\n\nvoid solve(int N) {\n    vector<pair<string, string>> m(N);\n    for_each(ALL(m), [](auto &e){cin >> e.first >> e.second;});\n    FORE(el, m) {\n        string ans = el.second;\n        FORE(e, el.first) {\n            switch (e) {\n            case 'J':\n                ans = J(ans);\n                break;\n            case 'C':\n                ans = C(ans);\n                break;\n            case 'E':\n                ans = E(ans);\n                break;\n            case 'A':\n                ans = A(ans);\n                break;\n            case 'P':\n                ans = P(ans);\n                break;\n            case 'M':\n                ans = M(ans);\n                break;\n            }\n        }\n        cout << ans << endl;\n    }\n    return;\n}\n\nsigned main(void) {\n    int n, m, p, a, b, c, x, y, z, q;\n    string s;\n    bool f = false;\n    while (cin >> n, n) {\n        solve(n);\n        return 0;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "\n#include <iostream>\n#include <cstdlib>\n#include <cstdio>\n#include <cstring>\n#include <cmath>\n#include <stack>\n#include <cctype>\n#include <complex>\n#include <vector>\n#include <set>\n#include <map>\n#include <algorithm>\n#include <functional>\n#include <cassert>\n#include <iomanip>\n\nusing namespace std;\n\n\nbool solve(){\n\tstring str, ans;\n\tcin>> str>> ans;\n\t\n\tfor(int i=0;i<str.size();i++){\n\t\tint n = ans.size();\n\t\tchar c;\n\t\tstring lstr, rstr;\n\n\t\tswitch(str[str.size()-1-i]){\n\t\tcase 'J':\n\t\t\tc = ans[n-1];\n\t\t\tfor(int j=n-1;j>=0;j--) ans[j] = ans[(j+n-1)%n];\n\t\t\tans[0] = c;\n\t\t\tbreak;\n\t\tcase 'C':\n\t\t\tc = ans[0];\n\t\t\tfor(int j=0;j<n;j++) ans[j] = ans[(j+1)%n];\n\t\t\tans[n-1] = c;\n\t\t\tbreak;\n\t\tcase 'E':\n\t\t\tif(n%2==1){\n\t\t\t\tlstr = ans.substr(0,(n-1)/2);\n\t\t\t\trstr = ans.substr((n+1)/2);\n\t\t\t\trstr += ans[(n-1)/2];\n\t\t\t}else{\n\t\t\t\tlstr = ans.substr(0,n/2);\n\t\t\t\trstr = ans.substr(n/2);\n\t\t\t}\n\t\t\tans = rstr + lstr;\n\t\t\tbreak;\n\t\tcase 'A':\n\t\t\treverse(ans.begin(), ans.end());\n\t\t\tbreak;\n\t\tcase 'P':\n\t\t\tfor(int j=0;j<n;j++){\n\t\t\t\tif('0'<=ans[j] && ans[j]<='9'){\n\t\t\t\t\tans[j] = '0' + ((ans[j]-'0') + 9)%10;\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak;\n\t\tcase 'M':\n\t\t\tfor(int j=0;j<n;j++){\n\t\t\t\tif('0'<=ans[j] && ans[j]<='9'){\n\t\t\t\t\tans[j] = '0' + ((ans[j]-'0') + 1)%10;\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tcout<< ans<< endl;\n\treturn true;\n}\n\nint main(){\n\tcout.setf(ios::fixed);\n\tcout.precision(10);\n\tint n;\n\tcin>> n;\n\tfor(int i=0;i<n;i++) solve();\n\n\treturn 0;\n}\n\n "
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <list>\nusing namespace std;\n\nint main(){\n  int n;\n  cin >> n;\n  while(n--){\n    string s,t;\n    cin >> s >> t;\n\n    list<char> p;\n    for(int i=t.length()-1; i>=0; i--){\n      p.push_front(t[i]);\n    }\n\n    for(int i=s.length()-1; i>=0; i--){\n      if(s[i]=='J'){\n\tp.push_front(p.back());\n\tp.pop_back();\n      }\n      else if(s[i]=='C'){\n\tp.push_back(p.front());\n\tp.pop_front();\n      }\n      else if(s[i]=='E'){\n\tif(t.length()%2==0){\n\t  for(int j=0; j<t.length()/2; j++){\n\t    p.push_front(p.back());\n\t    p.pop_back();\n\t  }\n\t}\n\telse{\n\t  for(int j=0; j<(t.length()-1)/2; j++){\n\t    p.push_front(p.back());\n\t    p.pop_back();\n\t  }\n\t  list<char>::iterator it; it=p.begin();\n\t  for(int j=0; j<(t.length()-1)/2; j++)\n\t    it++;\n\t  p.insert(it,p.back());\n\t  p.pop_back();\n\t}\n      }\n      else if(s[i]=='A'){\n\tp.reverse();\n      }\n      else if(s[i]=='P'){\n\tfor(list<char>::iterator it=p.begin(); it!=p.end(); ++it){\n\t  if(isdigit(*it)){\n\t    int a = *it-'0';\n\t    a+=9;\n\t    a%=10;\n\t    *it = a+'0';\n\t  }\n\t}\n      }\n      else{\n\tfor(list<char>::iterator it=p.begin(); it!=p.end(); ++it){\n\t  if(isdigit(*it)){\n\t    int a = *it-'0';\n\t    a+=11;\n\t    a%=10;\n\t    *it = a+'0';\n\t  }\n\t}\n      }\n    }\n    \n    for(list<char>::iterator it=p.begin(); it!=p.end(); ++it)\n      cout << *it;\n    cout << endl;\n    \n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define REP(i, n) for(int i = 0; i < (int) (n); i++)\n#define ALL(v) (v).begin(), (v).end()\n#define INF 1e9\n\nusing namespace std;\n\nchar alphabet[52];\n\nint main(){\n  int n;\n  cin >> n;\n  REP(counter, n) {\n    string messenger; cin >> messenger;\n    string message; cin >> message;\n    string recon = message;\n    REP(i, messenger.size()){\n      char target = messenger[messenger.size()-1-i];\n      if(target == 'J'){\n        REP(j, message.size()) recon[j] = message[(j-1+message.size()) % message.size()];\n      }else if(target == 'C'){\n        REP(j, message.size()) recon[j] = message[(j+1) % message.size()];\n      }else if(target == 'E'){\n        REP(j, message.size()/2) swap(recon[j], recon[j+message.size()/2+message.size()%2]);\n      }else if(target == 'A'){\n        reverse(ALL(recon));\n      }else if(target == 'P'){\n        REP(j, message.size()){\n          if('0' <= message[j] and message[j] <= '9'){\n            int digit = message[j] - '0';\n            digit = (digit - 1 + 10) % 10;\n            recon[j] = digit + '0';\n          }\n        }\n      }else if(target == 'M'){\n        REP(j, message.size()){\n          if('0' <= message[j] and message[j] <= '9'){\n            int digit = message[j] - '0';\n            digit = (digit + 1) % 10;\n            recon[j] = digit + '0';\n          }\n        }\n      }\n      message = recon;\n    }\n    cout << message << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n#define pb push_back\n#define mt make_tuple\n#define all(a) (a).begin(),(a).end()\n#define frep(i,a,n) for(int i=(a);i<(n);++i)\n#define rep(i, n) for(int i=0;i<(n);++i)\n#define rrep(i, n) for(int i=n-1;i>=0;--i)\n#define debug(x) cout << #x << \" : \" << x << \" ------------ \" << endl;\nusing namespace std;\nint main()\n{\n    int n;\n    cin >> n;\n    while (n--) {\n        string o;\n        cin >> o;\n        string m;\n        cin >> m;\n        \n        rep (i, o.length()) {\n            switch (o[i]) {\n                case 'A':\n                    reverse(all(m));\n                    break;\n                case 'J':\n                    rotate(m.rbegin(), m.rbegin() + 1, m.rend());\n                    break;\n                case 'C':\n                    rotate(m.begin(), m.begin() + 1, m.end());\n                    break;\n                case 'P': {\n                    auto it = m.begin();\n                    while (it != m.end()) {\n                        if (isdigit(*it) && --(*it) < '0') *it = '9';\n                        ++it;\n                    }\n                    break; }\n                case 'M': {\n                    auto it = m.begin();\n                    while (it != m.end()) {\n                        if (isdigit(*it) && ++(*it) > '9') *it = '0';\n                        ++it;\n                    }\n                    break; }\n                case 'E': {\n                    int len = m.length();\n                    string f = m.substr(0, len / 2);\n                    char mdl = m.length() % 2 ? m[len / 2] : 0;\n                    string b = m.substr((len + 1) / 2);\n                    m = b + mdl + f;\n                    break; }\n                default:\n                    break;\n            }\n        }\n        cout << m << endl;\n    }\n    return EXIT_SUCCESS;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cassert>\n#include <iostream>\n#include <sstream>\n#include <algorithm>\n#include <numeric>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <array>\n\nusing namespace std;\n\n#define all(c) begin(c), end(c)\n#define dump(c) cerr << \"> \" << #c << \" = \" << (c) << endl\n#define REP(i, a, b) for (int i = (a); i < (int)(b); i++)\n#define rep(i, n) REP(i, 0, n)\n\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef pair<int, int> pii;\n\nconst int INF = 1001001001;\nconst double EPS = 1e-10;\n\n\ntemplate<typename T1,typename T2>\nostream& operator<<(ostream& os, const pair<T1,T2>& p){\n  return os << '(' << p.first <<',' << p.second << ')';\n}\ntemplate<typename T>\nostream& operator<<(ostream& os, const vector<T>& a){\n  os << '[';\n  rep(i,a.size()) os << (i ? \" \" : \"\") << a[i];\n  return os << ']';\n}\n\nint main() {\n  int N; cin >> N;\n  while(N--) {\n    string O, M; cin >> O >> M;\n    reverse(all(O));\n    for(char o : O) {\n      if(o == 'J') {\n        M = M.substr(M.size() - 1) + M.substr(0, M.size() - 1);\n      }\n      if(o == 'C') {\n        M = M.substr(1) + M.substr(0, 1);\n      }\n      if(o == 'E') {\n        int h = M.size() / 2;\n        M = M.substr(M.size() - h) + M.substr(h, M.size() & 1) + M.substr(0, h);\n      }\n      if(o == 'A') {\n        reverse(all(M));\n      }\n      if(o == 'P') {\n        for(char &c : M) if(isdigit(c)) c = (c - '0' - 1 + 10) % 10 + '0';\n      }\n      if(o == 'M') {\n        for(char &c : M) if(isdigit(c)) c = (c - '0' + 1) % 10 + '0';\n      }\n    }\n\n    cout << M << endl;\n  }\n  \n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<vector>\n#include<cstdio>\nusing namespace std;\nint main(){\n  int n;\n  string x;\n  string st;\n  cin >>n;\n  for(int i=0;i<n;i++){\n    cin >> x;\n    cin >> st;\n    for(int j=x.size()-1;j>=0;j--){\n      if(x[j]=='C'){\n\tchar stock;\n\tstock = st[0];\n\tst.erase(st.begin());\n\tst+=stock;\n      }\n      else if(x[j]=='J'){\n\tchar stock;\n\tstock = st[st.size()-1];\n\t//\tcout << \"p1\"<<endl;\n\tst.erase(st.size()-1);\n\t//cout <<\"p2\"<<endl;\n\tst.insert(st.begin(),stock);\n      }\n      else if(x[j]=='E'){\n\tstring stock;\n\tstock.clear();\n\tint l=st.size()/2;\n\tfor(int k=0;k<l;k++){\n\t  stock+=st[k];\n\t}\n\tstring stock2;\n\tstock2.clear();\n\tint od = st.size()%2;\n\tfor(int k=l+od;k<l*2+od;k++){\n\t  stock2+=st[k];\n\t}\n\tchar st3;\n\tif(od==1){\n\t  st3=st[l];\n\t  st=stock2+st3+stock;\n\t}\n\telse{\n\t  st=stock2+stock;\n\t}\n      }\n      else if(x[j]=='A'){\n\tstring stock;\n\tstock.clear();\n\tfor(int k=0;st.empty()!=true;k++){\n\t  stock += st[0];\n\t  st.erase(st.begin());\n\t}\n\t//cout << stock <<endl;\n\tfor(int k=stock.size()-1;k>=0;k--){\n\t  st+=stock[k];\n\t}\n      }\n      else if(x[j]=='M'){\n\tfor(int k=0;k<st.size();k++){\n\t  if(st[k]>='0'&&st[k]<'9'){\n\t    st[k]++;\n\t  }\n\t  else if(st[k]=='9'){\n\t    st[k]='0';\n\t  }\n\t}\n      }\n      else if(x[j]=='P'){\n\tfor(int k=0;k<st.size();k++){\n\t  if(st[k]>'0'&&st[k]<='9'){\n\t    st[k]--;\n\t  }\n\t  else if(st[k]=='0'){\n\t    st[k]='9';\n\t  }\n\t}\n      }\t\n\n      //cout <<\"it is \"<<x[j]<<endl;\n      //cout << st << endl;\n    }\n    cout << st << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\nusing namespace std;\nint main(){\n\tint n;\n\tstring a,b;\n\tchar c[1000],d[1000];\n\tcin>>n;\n\tfor(int u=0;u<n;u++){\n\t\tcin>>a>>b;\n\t\tfor(int i=0;i<b.size();i++){\n\t\t\td[i]=b[i];\n\t\t\tc[i]=d[i];\n\t\t}\n\t\tfor(int i=a.size()-1;i>=0;i--){\n\t\t\tif(a[i]=='J'){\n\t\t\t\tfor(int i=0;i<b.size()-1;i++)\n\t\t\t\t\tc[i+1]=d[i];\n\t\t\t\tc[0]=d[b.size()-1];\n\t\t\t}\n\t\t\tif(a[i]=='C'){\n\t\t\t\tfor(int i=0;i<b.size()-1;i++)\n\t\t\t\t\tc[i]=d[i+1];\n\t\t\t\tc[b.size()-1]=d[0];\n\t\t\t}\n\t\t\tif(a[i]=='E'){\n\t\t\t\tfor(int i=0;i<b.size();i++){\n\t\t\t\t\tif(i<b.size()/2)\n\t\t\t\t\t\tc[i+b.size()-b.size()/2]=d[i];\n\t\t\t\t\telse\n\t\t\t\t\t\tc[i-b.size()+b.size()/2]=d[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(a[i]=='A'){\n\t\t\t\tfor(int i=0;i<b.size();i++)\n\t\t\t\t\tc[i]=d[b.size()-1-i];\n\t\t\t}\n\t\t\tif(a[i]=='P'){\n\t\t\t\tfor(int i=0;i<b.size();i++){\n\t\t\t\t\tbool check=false;\n\t\t\t\t\tif(c[i]>='1'&&c[i]<='9'){\n\t\t\t\t\t\tc[i]=c[i]-1;\n\t\t\t\t\t\tcheck=true;\n\t\t\t\t\t}\n\t\t\t\t\telse if(c[i]=='0'){\n\t\t\t\t\t\tc[i]='9';\n\t\t\t\t\t\tcheck=true;\n\t\t\t\t\t}\n\t\t\t\t\tif(check==false)\n\t\t\t\t\t\tc[i]=d[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(a[i]=='M'){\n\t\t\t\tfor(int i=0;i<b.size();i++){\n\t\t\t\t\tbool check=false;\n\t\t\t\t\tif(c[i]>='0'&&c[i]<='8'){\n\t\t\t\t\t\tc[i]=c[i]+1;\n\t\t\t\t\t\tcheck=true;\n\t\t\t\t\t}\n\t\t\t\t\telse if(c[i]=='9'){\n\t\t\t\t\t\tc[i]='0';\n\t\t\t\t\t\tcheck=true;\n\t\t\t\t\t}\n\t\t\t\t\tif(check==false)\n\t\t\t\t\t\tc[i]=d[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(int i=0;i<b.size();i++)\n\t\t\t\td[i]=c[i];\n\t\t}\n\t\tcout<<endl;\n\t\tfor(int i=0;i<b.size();i++)\n\t\t\tcout<<d[i];\n\t\tcout<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream> \n#include <string> \n#include <vector> \n#include <cmath> \n#include <algorithm> \n#include <cstdlib> \n#include <ctime> \n#include <cstdio> \n#include <functional> \n#include <set> \n#include <sstream> \n#include <cctype>\n#include <stack>\n#include <queue>\n#include <cstring>\n#include <map>\n \nusing namespace std;\n\nstring J(string s){\n\tstring t=s;\n\tt=t[t.size()-1]+t;\n\tt.erase(t.end()-1);\n\treturn t;\n}\n\nstring C(string s){\n\tstring t=s;\n\tt=t+t[t.size()-1];\n\tt.erase(t.begin());\n\treturn t;\n}\n\nstring E(string s){\n\tstring t=s;\n\tfor(int i=0;i<t.size()/2;i++){\n\t\tswap(t[i],t[t.size()-1-i]);\n\t}\n\n\treturn t;\n}\n\nstring A(string s){\n\tstring t=s;\n\treverse(t.begin(),t.end());\n\treturn t;\n}\n\nstring P(string s){\n\tstring t=s;\n\tfor(int i=0;i<t.size();i++){\n\t\tif( '0'<=t[i] && t[i]<='9' ){\n\t\t\tif(t[i]=='0') t[i]='9';\n\t\t\telse t[i]--;\n\t\t}\n\t}\n\treturn t;\n}\n\nstring M(string s){\n\tstring t=s;\n\tfor(int i=0;i<t.size();i++){\n\t\tif( '0'<=t[i] && t[i]<='9' ){\n\t\t\tif(t[i]=='9') t[i]='0';\n\t\t\telse t[i]++;\n\t\t}\n\t}\n\treturn t;\n}\n\nint main(){\n\n\tint n;\n\tcin>>n;\n\n\tfor(int i=0;i<n;i++){\n\t\tstring t,s;\n\t\tcin>>t>>s;\n\t\tfor(int j=t.size()-1;j>=0;j--){\n\t\t\tif(t[j]=='J') s=J(s);\n\t\t\telse if(t[j]=='C') s=C(s);\n\t\t\telse if(t[j]=='E') s=E(s);\n\t\t\telse if(t[j]=='A') s=A(s);\n\t\t\telse if(t[j]=='P') s=P(s);\n\t\t\telse if(t[j]=='M') s=M(s);\n\t\t}\n\t\tcout<<s<<endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\n#include<cctype>\nusing namespace std;\nint main()\n{\n  int n,i,j;\n  string messenger,m;\n  cin>>n;\n  while(n-->0){\n    cin>>messenger>>m;\n    for(i=messenger.size();i-->0;){\n      switch(messenger[i]){\n        case 'J':\n\t  m=m[m.size()-1]+m.substr(0,m.size()-1);\n\t  break;\n        case 'C':\n\t  m=m.substr(1,m.size()-1)+m[0];\n\t  break;\n        case 'E':\n\t  if(m.size()&1)m=m.substr(m.size()/2+1,m.size()/2)+m[m.size()/2]+m.substr(0,m.size()/2);\n\t  else m=m.substr(m.size()/2,m.size()/2)+m.substr(0,m.size()/2);\n\t  break;\n        case 'A':\n\t  reverse(m.begin(),m.end());\n\t  break;\n        case 'P':\n\t  for(j=0;j<m.size();j++)if(isdigit(m[j]))m[j]=(m[j]-'0'+9)%10+'0';\n\t  break;\n        case 'M':\n\t  for(j=0;j<m.size();j++)if(isdigit(m[j]))m[j]=(m[j]-'0'+1)%10+'0';\n\t  break;\n      }\n    }\n    cout<<m<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <numeric>\n#include <set>\n#include <map>\n#include <string>\n#include <stack>\n#include <queue>\n#include <cmath>\n#include <cstdio>\n#include <istream>\n#include <sstream>\n#include <iomanip>\nusing namespace std;\n\ntypedef ostringstream oss;\ntypedef istringstream iss;\n\nstring J(string str) {\n\tstr += str[0];\n\tstr.erase(str.begin());\n\treturn str;\n}\n\nstring C(string str) {\n\tstr.insert(str.begin(), *(str.rbegin()));\n\tstr.erase(str.size() - 1);\n\treturn str;\n}\n\nstring E(string str) {\n\tfor (int i = 0; i < str.size() / 2; i++) {\n\t\tswap(str[i], str[(str.size() + 1) / 2  + i]);\n\t}\n\treturn str;\n}\n\nstring A(string str) {\n\tfor (int i = 0; i < str.size() / 2; i++) {\n\t\tswap(str[i], str[str.size() - 1 - i]);\n\t}\n\treturn str;\n}\n\nstring P(string str) {\n\tfor (int i = 0; i < str.size(); i++) {\n\t\tif (str[i] >= '0' && str[i] <= '8') {\n\t\t\tstr[i]++;\n\t\t}else if (str[i] == '9') {\n\t\t\tstr[i] = '0';\n\t\t}\n\t}\n\treturn str;\n}\n\nstring M(string str) {\n\tfor (int i = 0; i < str.size(); i++) {\n\t\tif (str[i] >= '1' && str[i] <= '9') {\n\t\t\tstr[i]--;\n\t\t}else if (str[i] == '0') {\n\t\t\tstr[i] = '9';\n\t\t}\n\t}\n\treturn str;\n}\n\nstruct pFunc\n{\n\tpFunc(){}\n\tpFunc(string (*p)(string str)) : f(p) {}\n\tstring (*f)(string str);\n};\n\n\nint main(void) {\n\tmap<char, pFunc> F;\n\tF['J'] = pFunc(C);\n\tF['C'] = pFunc(J);\n\tF['E'] = pFunc(E);\n\tF['A'] = pFunc(A);\n\tF['P'] = pFunc(M);\n\tF['M'] = pFunc(P);\n\n\tint N;\n\tcin >> N;\n\tcin.ignore();\n\tfor (; N; N--) {\n\t\tstring str, ope;\n\t\tgetline(cin, ope);\n\t\tgetline(cin, str);\n\t\tfor (int i = ope.size() - 1; i >= 0; i--) {\n\t\t\tstr = F[ope[i]].f(str);\n\t\t}\n\t\tcout << str << endl;\n\t}\n\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\nusing namespace std;\n\nint main()\n{\n  int n;\n  string s, m;\n  cin >> n;\n  for(int i = 0; i < n; i++)\n  {\n    cin >> m >> s;\n    for(int j = m.length() - 1; j >= 0; j--)\n    {\n      switch(m[j])\n      {\n        case 'C':\n          s = s.substr(1, s.length() - 1) + s[0];\n          break;\n        case 'J':\n          s = s[s.length() - 1] + s.substr(0, s.length() - 1);\n          break;\n        case 'E':\n          {\n            int a = s.length() / 2, b = s.length() % 2;\n            s = s.substr(a + b, a) + (b ? s.substr(a, 1) : \"\") + s.substr(0, a);\n          }\n          break;\n        case 'A':\n          reverse(s.begin(), s.end());\n          break;\n        case 'M':\n          for(int k = 0; k < s.length(); k++)\n            if(s[k] >= '0' && s[k] <= '9')\n              s[k] = (s[k] - '0' + 1) % 10 + '0';\n          break;\n        case 'P':\n          for(int k = 0; k < s.length(); k++)\n            if(s[k] >= '0' && s[k] <= '9')\n              s[k] = (s[k] - '0' - 1) % 10 + '0';\n          break;\n      }\n    }\n    cout << s << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\nusing namespace std;\nint main(){\n\tint n;\n\tstring a,b;\n\tchar c[100],d[100];\n\tcin>>n;\n\tfor(int u=0;u<n;u++){\n\t\tcin>>a>>b;\n\t\tfor(int i=0;i<b.size();i++)\n\t\t\td[i]=b[i];\n\t\tfor(int i=a.size()-1;i>=0;i--){\n\t\t\tif(a[i]=='J'){\n\t\t\t\tfor(int i=0;i<b.size()-1;i++)\n\t\t\t\t\tc[i+1]=d[i];\n\t\t\t\tc[0]=d[b.size()-1];\n\t\t\t}\n\t\t\tif(a[i]=='C'){\n\t\t\t\tfor(int i=0;i<b.size()-1;i++)\n\t\t\t\t\tc[i]=d[i+1];\n\t\t\t\tc[b.size()-1]=d[0];\n\t\t\t}\n\t\t\tif(a[i]=='E'){\n\t\t\t\tfor(int i=0;i<b.size();i++){\n\t\t\t\t\tif(i<b.size()/2)\n\t\t\t\t\t\tc[i+b.size()-b.size()/2]=d[i];\n\t\t\t\t\telse\n\t\t\t\t\t\tc[i-b.size()+b.size()/2]=d[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(a[i]=='A'){\n\t\t\t\tfor(int i=0;i<b.size();i++)\n\t\t\t\t\tc[i]=d[b.size()-1-i];\n\t\t\t}\n\t\t\tif(a[i]=='P'){\n\t\t\t\tfor(int i=0;i<b.size();i++){\n\t\t\t\t\tbool check=false;\n\t\t\t\t\tif(d[i]>='1'&&d[i]<='9'){\n\t\t\t\t\t\tc[i]=d[i]-1;\n\t\t\t\t\t\tcheck=true;\n\t\t\t\t\t}\n\t\t\t\t\tif(d[i]=='0'){\n\t\t\t\t\t\tc[i]='9';\n\t\t\t\t\t\tcheck=true;\n\t\t\t\t\t}\n\t\t\t\t\tif(check==false)\n\t\t\t\t\t\tc[i]=d[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(a[i]=='M'){\n\t\t\t\tfor(int i=0;i<b.size();i++){\n\t\t\t\t\tbool check=false;\n\t\t\t\t\tif(d[i]>='0'&&b[i]<='8'){\n\t\t\t\t\t\tc[i]=d[i]+1;\n\t\t\t\t\t\tcheck=true;\n\t\t\t\t\t}\n\t\t\t\t\tif(d[i]=='9'){\n\t\t\t\t\t\tc[i]='0';\n\t\t\t\t\t\tcheck=true;\n\t\t\t\t\t}\n\t\t\t\t\tif(check==false)\n\t\t\t\t\t\tc[i]=d[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(int i=0;i<b.size();i++)\n\t\t\t\td[i]=c[i];\n\t\t}\n\t\tfor(int i=0;i<b.size();i++)\n\t\t\tcout<<d[i];\n\t\tcout<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nint main()\n{\n  string number = \"0123456789\";\n  int n;\n  cin >> n;\n  while(n--){\n    string order, message;\n    cin >> order >> message;\n    for(int i = order.size()-1; i >= 0; i--){\n      if(order[i] == 'M'){\n\tfor(int j = 0; j < message.size(); j++){\n\t  if('0' <= message[j] && message[j] <= '9'){\n\t    int idx = number.find(message[j]);\n\t    message[j] = number[(idx+1)%number.size()];\n\t  }\n\t}\n      } else if(order[i] == 'P'){\n    \tfor(int j = 0; j < number.size(); j++){\n\t  if('0' <= message[j] && message[j] <= '9'){\n\t    int idx = number.find(message[j]);\n\t    message[j] = number[(idx-1+number.size())%number.size()];\n\t  }\n\t}\t\n      } else if(order[i] == 'A'){\n\treverse(message.begin(), message.end());\n      } else if(order[i] == 'E'){\n\tfor(int i = 0; i < message.size() / 2; i++){\n\t  swap(message[i], message[i + (message.size()+1) / 2]);\n\t}\n      } else if(order[i] == 'C'){\n\tmessage = message.substr(1, message.size()-1) + message[0];\n      } else if(order[i] == 'J'){\n\tmessage = message[message.size()-1] + message.substr(0, message.size()-1);\n      }\n    }\n    cout << message << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nstring o, m;\n\nvoid solve() {\n\tint len = (int)o.size();\n\tint sz = (int)m.size();\n\t\n\tfor (int i = len - 1; i >= 0; i--) {\n\t\tswitch (o[i]) {\n\t\tcase 'J':\n\t\t\tm = m[sz - 1] + m.substr(0, sz - 1);\n\t\t\tbreak;\n\t\tcase 'C':\n\t\t\tm = m.substr(1, sz - 1) + m[0];\n\t\t\tbreak;\n\t\tcase 'E':\n\t\t\tif (sz % 2) {\n\t\t\t\tm = m.substr(sz / 2 + 1, sz / 2) + m[sz / 2] + m.substr(0, sz / 2);\n\t\t\t} else {\n\t\t\t\tm = m.substr(sz / 2, sz / 2) + m.substr(0, sz / 2);\n\t\t\t}\n\t\t\tbreak;\n\t\tcase 'A':\n\t\t\treverse(m.begin(), m.end());\n\t\t\tbreak;\n\t\tcase 'P':\n\t\t\tfor (int i = 0; i < sz; i++) {\n\t\t\t\tif ('1' <= m[i] && m[i] <= '9') {\n\t\t\t\t\tchar c = m[i] - 1;\n\t\t\t\t\tm[i] = c;\n\t\t\t\t} else if (m[i] == '0') m[i] = '9';\n\t\t\t}\n\t\t\tbreak;\n\t\tcase 'M':\n\t\t\tfor (int i = 0; i < sz; i++) {\n\t\t\t\tif ('0' <= m[i] && m[i] <= '8') {\n\t\t\t\t\tchar c = m[i] + 1;\n\t\t\t\t\tm[i] = c;\n\t\t\t\t} else if (m[i] == '9') m[i] = '0';\n\t\t\t}\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\t\n\tcout << m << endl;\n}\n\nint main() {\n\tint n; cin >> n;\n\t\n\tfor (int i = 0; i < n; i++) {\n\t\tcin >> o;\n\t\tcin >> m;\n\t\tsolve();\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing ll=long long;\nusing vb=vector<bool>;\nusing vvb=vector<vb>;\nusing vd=vector<double>;\nusing vvd=vector<vd>;\nusing vi=vector<int>;\nusing vvi=vector<vi>;\nusing vl=vector<ll>;\nusing vvl=vector<vl>;\nusing pii=pair<int,int>;\nusing pll=pair<ll,ll>;\nusing tll=tuple<ll,ll>;\nusing tlll=tuple<ll,ll,ll>;\nusing vs=vector<string>;\n\n#define all(a) a.begin(),a.end()\n#define rall(a) a.rbegin(),a.rend()\n#define rep(i,n) range(i,0,n)\n#define rrep(i,n) for(int i=(n)-1;i>=0;i--)\n#define range(i,a,n) for(int i=(a);i<(n);i++)\n\n#define LINF ((ll)1ll<<60)\n#define INF ((int)1<<30)\n#define EPS (1e-9)\n#define MOD (1000000007ll)\n#define fcout(a) cout<<setprecision(a)<<fixed\n#define fs first\n#define sc second\n#define PI 3.1415926535897932384\n\nint dx[]={1,0,-1,0,1,-1,-1,1},dy[]={0,1,0,-1,1,1,-1,-1};\n\ntemplate<class T>bool chmax(T&a,T b){if(a<b){a=b; return true;}return false;}\ntemplate<class T>bool chmin(T&a,T b){if(a>b){a=b; return true;}return false;}\ntemplate<class S>S acm(vector<S>&a){return accumulate(all(a),S());}\ntemplate<class S>S max(vector<S>&a){return *max_element(all(a));}\ntemplate<class S>S min(vector<S>&a){return *min_element(all(a));}\nvoid YN(bool b){cout<<(b?\"YES\":\"NO\")<<\"\\n\";}\nvoid Yn(bool b){cout<<(b?\"Yes\":\"No\")<<\"\\n\";}\nvoid yn(bool b){cout<<(b?\"yes\":\"no\")<<\"\\n\";}\n\nll max(int a,ll b){return max((ll)a,b);} ll max(ll a,int b){return max(a,(ll)b);}\ntemplate<class T>void puta(T&&t){cout<<t<<\"\\n\";}\ntemplate<class H,class...T>void puta(H&&h,T&&...t){cout<<h<<' ';puta(t...);}\ntemplate<class S,class T>ostream&operator<<(ostream&os,pair<S,T>p){os<<\"[\"<<p.first<<\", \"<<p.second<<\"]\";return os;};\ntemplate<class S>auto&operator<<(ostream&os,vector<S>t){bool a=1; for(auto s:t){os<<(a?\"\":\" \")<<s;a=0;} return os;}\n\nstring mr(string s,char c){\n\tstring ret(s.size(),'a');\n\tif(c=='C'){\n\t\tif(s.size()==1)return s;\n\t\tret=s.substr(1)+s[0];\n\t}\n\tif(c=='J'){\n\t\tif(s.size()==1)return s;\n\t\tret=s[s.size()-1]+s.substr(0,s.size()-1);\n\t}\n\tif(c=='A'){\n\t\treverse(all(s));\n\t\treturn s;\n\t}\n\tif(c=='E'){\n\t\tret=s.substr(s.size()/2+s.size()%2)+(s.size()%2==1?s.substr(s.size()/2,1):\"\")+s.substr(0,s.size()/2);\n\t}\n\tif(c=='M'){\n\t\trep(i,s.size()){\n\t\t\tif('0'<=s[i]&&'9'>=s[i]){\n\t\t\t\tint num=s[i]-'0';\n\t\t\t\tnum+=1;num%=10;\n\t\t\t\tret[i]=char(num+'0');\n\t\t\t}\n\t\t\telse ret[i]=s[i];\n\t\t}\n\t}\n\tif(c=='P'){\n\t\trep(i,s.size()){\n\t\t\tif('0'<=s[i]&&'9'>=s[i]){\n\t\t\t\tint num=s[i]-'0';\n\t\t\t\tnum+=9;num%=10;\n\t\t\t\tret[i]=char(num+'0');\n\t\t\t}\n\t\t\telse ret[i]=s[i];\n\t\t}\n\t}\n\treturn ret;\n}\n\nint main(){\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\tint n;\n\tcin>>n;\n\twhile(n--){\n\t\tstring s,op;\n\t\tcin>>op>>s;\n\t\trrep(i,op.size()){\n\t\t\ts=mr(s,op[i]);\n\t\t}\n\t\tcout<<s<<\"\\n\";\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "\n#include <cstdio>\n#include <iostream>\n#include <vector>\n#include <map>\n#include <set>\n#include <string>\n#include <cstring>\n#include <sstream>\n#include <algorithm>\n#include <functional>\n#include <queue>\n#include <stack>\n#include <cmath>\n#include <iomanip>\n#include <list>\nusing namespace std;\ninline int toInt(string s) { int v; istringstream sin(s); sin >> v; return v; }\ntemplate<class T> inline string toString(T x) { ostringstream sout; sout << x; return sout.str(); }\ntemplate<class T> inline T sqr(T x) { return x*x; }\ntypedef pair<int, int> P;\ntypedef long long ll;\ntypedef unsigned long long ull;\n\n#define For(i,a,b)\tfor(int (i) = (a);i < (b);(i)++)\n#define rep(i,n)\tFor(i,0,n)\n#define clr(a)\t\tmemset((a), 0 ,sizeof(a))\n#define mclr(a)\t\tmemset((a), -1 ,sizeof(a))\n#define all(a)\t\t(a).begin(),(a).end()\n#define rall(a)\t\t(a).rbegin(), (a).rend()\n#define sz(a)\t\t(sizeof(a))\n#define Fill(a,v)\tfill((int*)a,(int*)(a+(sz(a)/sz(*(a)))),v)\n\nbool cheak(int x, int y, int xMax, int yMax){ return x >= 0 && y >= 0 && xMax > x && yMax > y; }\nconst int dx[4] = { -1, 0, 1, 0 }, dy[4] = { 0, 1, 0, -1 };\nconst int mod = 1000000007;\nconst int INF = 1e9;\n\n\nint main()\n{\n\tint n;\n\tcin >> n;\n\trep(_, n){\n\n\t\tstring s, w;\n\t\tcin >> w >> s;\n\t\tint l = s.size();\n\n\t\tfor (int i = w.size() - 1; i >= 0;i--){\n\n\t\t\tif (w[i] == 'J')\n\t\t\t\ts = s[l - 1] + s.substr(0, l - 1);         \n\t\t\tif (w[i] == 'C')\n\t\t\t\ts = s.substr(1, l - 1) + s[0];\n\t\t\tif (w[i] == 'E'){\n\t\t\t\tstring t = s;\n\t\t\t\ts = t.substr(l - l / 2, l / 2);\n\t\t\t\tif(l % 2)s += t[l / 2];\n\t\t\t\ts += t.substr(0, l / 2);\n\t\t\t}\n\t\t\tif (w[i] == 'A')\n\t\t\t\treverse(all(s));\n\t\t\tif (w[i] == 'P')\t\n\t\t\t\trep(j, l)if (s[j] >= '0' && s[j] <= '9')s[j] = (s[j] == '0' ? '9' : s[j] - 1);\n\t\t\tif (w[i] == 'M')\n\t\t\t\trep(j, l)if (s[j] >= '0' && s[j] <= '9')s[j] = (s[j] == '9' ? '0' : s[j] + 1);\n\n\t\t}\n\n\t\tcout << s << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <string>\n#include <iostream>\n\nusing namespace std;\n\nstring turn1(string S)\n{\n\treturn S.substr(1, S.size() - 1) + S[0];\n}\n\nstring turn2(string S)\n{\n\treturn S[S.size() - 1] + S.substr(0, S.size() - 1);\n}\n\nstring turn3(string S)\n{\n\tstring T;\n\n\tif (S.size() % 2 == 1)\n\t{\n\t\tT = S.substr(S.size() / 2 + 1, S.size() / 2) + S[S.size() / 2] + S.substr(0, S.size() / 2);\n\t}\n\telse\n\t{\n\t\tT = S.substr(S.size() / 2, S.size() / 2) + S.substr(0, S.size() / 2);\n\t}\n\n\treturn T;\n}\n\nstring turn4(string S)\n{\n\treverse(S.begin(), S.end());\n\n\treturn S;\n}\n\nstring turn5(string S)\n{\n\tfor (int i = 0; i < S.size(); i++)\n\t{\n\t\tif (isdigit(S[i]))\n\t\t{\n\t\t\tif (S[i] == '9')\n\t\t\t{\n\t\t\t\tS[i] = '0';\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tS[i]++;\n\t\t\t}\n\t\t}\n\t}\n}\n\nstring turn6(string S)\n{\n\tfor (int i = 0; i < S.size(); i++)\n\t{\n\t\tif (isdigit(S[i]))\n\t\t{\n\t\t\tif (S[i] == '0')\n\t\t\t{\n\t\t\t\tS[i] = '9';\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tS[i]--;\n\t\t\t}\n\t\t}\n\t}\n}\n\nint main()\n{\n\tint n; string S, T;\n\n\tcin >> n;\n\n\tfor (int i = 0; i < n; i++)\n\t{\n\t\tcin >> S >> T;\n\n\t\tfor (int i = S.size() - 1; i >= 0; i--)\n\t\t{\n\t\t\tswitch (S[i])\n\t\t\t{\n\t\t\t\tcase 'C': T = turn1(T); break;\n\t\t\t\tcase 'J': T = turn2(T); break;\n\t\t\t\tcase 'E': T = turn3(T); break;\n\t\t\t\tcase 'A': T = turn4(T); break;\n\t\t\t\tcase 'M': T = turn5(T); break;\n\t\t\t\tcase 'P': T = turn6(T); break;\n\t\t\t}\n\t\t}\n\n\t\tcout << T << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define INF_LL (int64)1e18\n#define INF (int32)1e9\n#define REP(i, n) for(int64 i = 0;i < (n);i++)\n#define FOR(i, a, b) for(int64 i = (a);i < (b);i++)\n#define all(x) x.begin(),x.end()\n#define fs first\n#define sc second\n\nusing int32 = int_fast32_t;\nusing uint32 = uint_fast32_t;\nusing int64 = int_fast64_t;\nusing uint64 = uint_fast64_t;\nusing PII = pair<int32, int32>;\nusing PLL = pair<int64, int64>;\n\nconst double eps = 1e-10;\n\ntemplate<typename A, typename B>inline void chmin(A &a, B b){if(a > b) a = b;}\ntemplate<typename A, typename B>inline void chmax(A &a, B b){if(a < b) a = b;}\n\ntemplate<typename T>\nvector<T> make_v(size_t a){return vector<T>(a);}\n\ntemplate<typename T,typename... Ts>\nauto make_v(size_t a,Ts... ts){\n  return vector<decltype(make_v<T>(ts...))>(a,make_v<T>(ts...));\n}\n\ntemplate<typename T,typename U,typename... V>\ntypename enable_if<is_same<T, U>::value!=0>::type\nfill_v(U &u,const V... v){u=U(v...);}\n\ntemplate<typename T,typename U,typename... V>\ntypename enable_if<is_same<T, U>::value==0>::type\nfill_v(U &u,const V... v){\n  for(auto &e:u) fill_v<T>(e,v...);\n}\n\nint main(void){\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\tint64 n;\n\tcin >> n;\n\tREP(_, n) {\n\t\tstring op, s;\n\t\tcin >> op >> s;\n\t\tREP(i, op.size()) {\n\t\t\tif (op[i] == 'C') {\n\t\t\t\ts = s.substr(1, s.size()-1) + s[0];\n\t\t\t} else if (op[i] == 'J') {\n\t\t\t\ts = s.back() + s.substr(0, s.size()-1);\n\t\t\t} else if (op[i] == 'E') {\n\t\t\t\tif (s.size() % 2) {\n\t\t\t\t\ts = s.substr(s.size()/2+1, s.size()/2) + s[s.size()/2] + s.substr(0, s.size()/2);\n\t\t\t\t} else {\n\t\t\t\t\ts = s.substr(s.size()/2, s.size()/2) + s.substr(0, s.size()/2);\n\t\t\t\t}\n\t\t\t} else if (op[i] == 'A') {\n\t\t\t\treverse(all(s));\n\t\t\t} else if (op[i] == 'M') {\n\t\t\t\tREP(j, s.size()) {\n\t\t\t\t\tif ('0' <= s[j] && s[j] <= '9') {\n\t\t\t\t\t\ts[j] = (char)((s[j]-'0'+1)%10+'0');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tREP(j, s.size()) {\n\t\t\t\t\tif ('0' <= s[j] && s[j] <= '9') {\n\t\t\t\t\t\ts[j] = (char)((s[j]-'0'+9)%10+'0');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << s << endl;\n\t}\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<cstring>\nusing namespace std;\n\nint main(){\n  int n;\n  cin>>n;\n  for(int i=0;i<n;i++){\n    char a[7],ans[26],b[26],x=0,y=0;\n    scanf(\"%s\",a);\n    x=strlen(a);\n    scanf(\"%s\",ans);\n    y=strlen(ans);  \n\n    for(int j=0;j<y;j++)\n      b[j]=ans[j];\n\n    for(int k=x-1;k>=0;k--){\n      if(a[k]=='C'){//??????\n\tb[y-1]=ans[0];\n\tfor(int j=1;j<y;j++) b[j-1]=ans[j];\n      }\n      else if(a[k]=='J'){//??????\n\tb[0]=ans[y-1];\n\tfor(int j=0;j<y-1;j++) b[j+1]=ans[j];\n      }\n      else if(a[k]=='E'){//swap\n\tif(y%2==0)\n\t  for(int j=0;j<y/2;j++) \n\t    swap(b[j],b[j+(y/2)]);\n\telse\n\t  for(int j=0;j<y/2;j++) \n\t    swap(b[j],b[j+(y/2)+1]);\n\n\n\n      }\n      else if(a[k]=='A'){//????????????\n\tint o=y;\n\twhile(1){\n\t  if(o==0)break;\n\t  for(int j=0;j<y;j++){\n\t    b[j]=ans[o-1];\n\t    o--;\n\t  }\n\t}\n      }\n      else if(a[k]=='M'){//+1\n\tfor(int j=0;j<y;j++) \n\t  if(ans[j]>='0'&&ans[j]<='8') b[j]=ans[j]+1;\n\t  else if(ans[j]=='9') b[j]=ans[j]-9;\n      }\n      else if(a[k]=='P')//-1\n\tfor(int j=0;j<y;j++) \n\t  if(ans[j]>='1'&&ans[j]<='9') b[j]=ans[j]-1;\n\t  else if(ans[j]=='0') b[j]=ans[j]+9;\n\n      for(int j=0;j<y;j++)\n\tans[j]=b[j];\n    }\n    for(int j=0;j<y;j++)\n      cout<<ans[j];\n    cout<<endl;\n\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\nusing namespace std;\n\nstring str;\n\nvoid C(int len){\n    char tmp = str[0];\n    for(int i = 1 ; i < len; i++){\n        str[i-1] = str[i];\n    }\n    str[len-1] = tmp;\n}\n\nvoid J(int len){\n    char tmp = str[len-1];\n    for(int i = len-2; i >=0 ; i--){\n        str[i+1] = str[i];\n    }\n    str[0] = tmp;\n}\n\nvoid E(int len){\n    int div = len/2;\n    \n    if(len%2==0){\n        string f = str.substr(0,div) , g = str.substr(div,len-1);\n        str = \"\";\n        str += g+f;\n    }\n    else{\n        string f = str.substr(0,div), g = str.substr(div+1,len);\n        string mid = str.substr(div,1);\n        str = \"\";\n        str += g+mid+f;\n    }\n}\n\nvoid A(){\n    reverse(str.begin(),str.end());\n}\n\nvoid M(int len){\n    for(int i = 0 ; i < len ; i++){\n        if('0' <= str[i] && str[i] <= '8'){\n            str[i] += 1;\n        }\n        else if(str[i] == '9') str[i] = '0';\n    }\n}\n\nvoid P(int len){\n    for(int i = 0 ; i < len ; i++){\n        if('1' <= str[i] && str[i] <= '9'){\n            str[i] -= 1;\n        }\n        else if(str[i] == '0') str[i] = '9';\n    }\n}\n\nint main(){\n    int n;\n    cin >> n;\n    while(n--){\n        string order;\n        cin >> order >> str;\n        \n        int len = str.size();\n        reverse(order.begin(),order.end());\n        \n        for(int i = 0 ; i < order.size() ; i++){\n            switch(order[i]){\n                    case 'J':\n                    J(len);\n                    break;\n                    \n                    case 'C':\n                    C(len);\n                    break;\n                    \n                    case 'E':\n                    E(len);\n                    break;\n                    \n                    case 'A':\n                    A();\n                    break;\n                    \n                    case 'M':\n                    M(len);\n                    break;\n                    \n                    case 'P':\n                    P(len);\n                    break;\n            }\n        }\n        cout << str << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cmath>\n#include <climits>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <fstream>\n#include <iostream>\n#include <list>\n#include <map>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <vector>\n#include <cassert>\n#include <functional>\n\nusing namespace std;\n\n#define LOG(...) printf(__VA_ARGS__)\n//#define LOG(...)\n#define FOR(i,a,b) for(int i=(int)(a);i<(int)(b);++i)\n#define REP(i,n) for(int i=0;i<(int)(n);++i)\n#define ALL(a) (a).begin(),(a).end()\n#define RALL(a) (a).rbegin(),(a).rend()\n#define EXIST(s,e) ((s).find(e)!=(s).end())\n#define SORT(c) sort((c).begin(),(c).end())\n#define RSORT(c) sort((c).rbegin(),(c).rend())\n#define CLR(a) memset((a), 0 ,sizeof(a))\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef vector<bool> vb;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\ntypedef vector<vb> vvb;\ntypedef vector<vi> vvi;\ntypedef vector<vll> vvll;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\n\nconst int dx[] = { -1, 0, 1, 0 }; const int dy[] = { 0, 1, 0, -1 };\n\nstruct UnionFind {\n\tvector<int> v;\n\tUnionFind(int n) : v(n)  { for (int i = 0; i < n; i++) v[i] = i; }\n\tint  find(int x)         { return v[x] == x ? x : v[x] = find(v[x]); }\n\tvoid unite(int x, int y) { v[find(x)] = find(y); }\n};\n\nint main() {\n\tint n;\n\tcin >> n;\n\twhile (n--) {\n\t\tstring order,s;\n\t\tcin >> order >> s;\n\t\tREP(i,order.length()) {\n\t\t\tstring s2,s3;\n\t\t\tswitch (order[order.length()-1-i])\n\t\t\t{\n\t\t\tcase 'C':\n\t\t\t\ts2 = s.substr(1, s.length() - 1);\n\t\t\t\ts = s2 + s[0];\n\t\t\t\tbreak;\n\t\t\tcase 'J':\n\t\t\t\ts2 = s.substr(0,s.length() - 1);\n\t\t\t\ts = s[s.length()-1]+s2;\n\t\t\t\tbreak;\n\t\t\tcase 'E':\n\t\t\t\ts2 = s.substr(0, s.length() / 2);\n\t\t\t\ts3 = s.substr(s.length() - s.length() / 2, s.length() / 2);\n\t\t\t\tif (s.length() % 2 == 0)\n\t\t\t\t\ts = s3 + s2;\n\t\t\t\telse\n\t\t\t\t\ts = s3 + s[s.length() / 2] + s2;\n\t\t\t\tbreak;\n\t\t\tcase 'A':\n\t\t\t\tREP(j, s.length() / 2)\n\t\t\t\t\tswap(s[j], s[s.length() - 1 - j]);\n\t\t\t\tbreak;\n\t\t\tcase 'M':\n\t\t\t\tREP(j, s.length())\n\t\t\t\t\tif (isdigit(s[j]))\n\t\t\t\t\t\ts[j] = (((s[j] - '0') + 11) % 10) + '0';\n\t\t\t\tbreak;\n\t\t\tcase 'P':\n\t\t\t\tREP(j, s.length())\n\t\t\t\tif (isdigit(s[j]))\n\t\t\t\t\ts[j] = (((s[j] - '0') + 19) % 10) + '0';\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tcout << s << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define all(a) (a).begin(),(a).end()\n\nint main()\n{\n\tint n;\n\tcin >> n;\n\twhile (n--){\n\t\tstring m, s;\n\t\tcin >> m >> s;\n\t\treverse(all(m));\n\t\tfor (int i = 0; i < m.size(); i++){\n\t\t\tif (m[i] == 'C'){\n\t\t\t\tstring a(s, 0, 1);\n\t\t\t\tstring b(s, 1, s.size() - 1);\n\t\t\t\ts = b + a;\n\t\t\t}\n\t\t\telse if (m[i] == 'J'){\n\t\t\t\tstring a(s, 0, s.size() - 1);\n\t\t\t\tstring b(s, s.size() - 1, 1);\n\t\t\t\t\n\t\t\t\t//cout << s << \" \" << a << \" \" << b << endl;\n\t\t\t\t\n\t\t\t\ts = b + a;\n\t\t\t}\n\t\t\telse if (m[i] == 'E'){\n\t\t\t\tstring a(s, 0, s.size() / 2);\n\t\t\t\tstring b(s, s.size() / 2, s.size() % 2);\n\t\t\t\tstring c(s, s.size() / 2 + s.size() % 2, s.size() / 2);\n\t\t\t\ts = c + b + a;\n\t\t\t}\n\t\t\telse if (m[i] == 'A'){\n\t\t\t\treverse(all(s));\n\t\t\t}\n\t\t\telse if (m[i] == 'M'){\n\t\t\t\tfor (int j = 0; j < s.size(); j++){\n\t\t\t\t\tif (s[j] >= '0' && s[j] <= '8'){\n\t\t\t\t\t\ts[j]++;\n\t\t\t\t\t}\n\t\t\t\t\telse if (s[j] == '9'){\n\t\t\t\t\t\ts[j] = '0';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (m[i] == 'P'){\n\t\t\t\tfor (int j = 0; j < s.size(); j++){\n\t\t\t\t\tif (s[j] >= '1' && s[j] <= '9'){\n\t\t\t\t\t\ts[j]--;\n\t\t\t\t\t}\n\t\t\t\t\telse if (m[i] == '0'){\n\t\t\t\t\t\ts[i] = '9';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tcout << s << endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "// Header {{{\n// includes {{{\n#include <algorithm>\n#include <cassert>\n#include <cctype>\n#include <climits>\n#include <cmath>\n#include <complex>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <ctime>\n#include <iostream>\n#include <iterator>\n#include <limits>\n#include <list>\n#include <map>\n#include <numeric>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <sys/time.h>\n#include <unistd.h>\n#include <vector>\n// }}}\nusing namespace std;\n// consts {{{\nstatic const int INF = 1e9;\nstatic const double PI = acos(-1.0);\nstatic const double EPS = 1e-10;\n// }}}\n// typedefs {{{\ntypedef long long int LL;\ntypedef unsigned long long int ULL;\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<LL> VLL;\ntypedef vector<VLL> VVLL;\ntypedef vector<ULL> VULL;\ntypedef vector<VULL> VVULL;\ntypedef vector<double> VD;\ntypedef vector<VD> VVD;\ntypedef vector<bool> VB;\ntypedef vector<VB> VVB;\ntypedef vector<char> VC;\ntypedef vector<VC> VVC;\ntypedef vector<string> VS;\ntypedef vector<VS> VVS;\ntypedef pair<int, int> PII;\ntypedef complex<int> P;\n// }}}\n// macros & inline functions {{{\n// syntax sugars {{{\n#define FOR(i, b, e) for (typeof(e) i = (b); i < (e); ++i)\n#define FORI(i, b, e) for (typeof(e) i = (b); i <= (e); ++i)\n#define REP(i, n) FOR(i, 0, n)\n#define REPI(i, n) FORI(i, 0, n)\n#define OPOVER(_op, _type) inline bool operator _op (const _type &t) const\n// }}}\n// conversion {{{\ninline int toInt(string s) { int v; istringstream sin(s); sin>>v; return v; }\ntemplate<class T> inline string toString(T x) { ostringstream sout; sout<<x; return sout.str(); }\n// }}}\n// array and STL {{{\n#define ARRSIZE(a) ( sizeof(a) / sizeof(a[0]) )\n#define ZERO(a, v) ( assert(v == 0 || v == -1), memset(a, v, sizeof(a)) )\n#define F first\n#define S second\n#define MP(a, b) make_pair(a, b)\n#define SIZE(a) ((LL)a.size())\n#define PB(e) push_back(e)\n#define SORT(v) sort((v).begin(), (v).end())\n#define RSORT(v) sort((v).rbegin(), (v).rend())\n#define ALL(a) (a).begin(), (a).end()\n#define RALL(a) (a).rbegin(), (a).rend()\n#define EACH(c, it) for(typeof((c).begin()) it=(c).begin(); it!=(c).end(); ++it)\n#define REACH(c, it) for(typeof((c).rbegin()) it=(c).rbegin(); it!=(c).rend(); ++it)\n#define EXIST(s, e) ((s).find(e) != (s).end())\n// }}}\n// bit manipulation {{{\n// singed integers are not for bitwise operations, specifically arithmetic shifts ('>>', and maybe not good for '<<' too)\n#define IS_UNSIGNED(n) (!numeric_limits<typeof(n)>::is_signed)\n#define BIT(n) (assert(IS_UNSIGNED(n)), assert(n < 64), (1ULL << (n)))\n#define BITOF(n, m) (assert(IS_UNSIGNED(n)), assert(m < 64), ((ULL)(n) >> (m) & 1))\ninline int make_mask(ULL upper, ULL lower) { assert(lower < 64 && upper < 64 && lower <= upper); return (BIT(upper) - 1) ^ (BIT(lower) - 1); }\ninline int onbits_count(ULL b) { int c = 0; while(b != 0) { c += (b & 1); b >>= 1; } return c; }\ninline int bits_count(ULL b) { int c = 0; while(b != 0) { ++c; b >>= 1; } return c; }\n// }}}\n// for readable code {{{\n#define EVEN(n) (n % 2 == 0)\n#define ODD(n) (!EVEN(n))\n// }}}\n// debug {{{\n#define dprt(fmt, ...) if (opt_debug) { fprintf(stderr, fmt, ##__VA_ARGS__); }\n#define darr(a) if (opt_debug) { copy( (a), (a) + arrsz(a), ostream_iterator<int>(cerr, \" \") ); cerr << endl; }\n#define darr_range(a, f, t) if (opt_debug) { copy( (a) + (f), (a) + (t), ostream_iterator<int>(cerr, \" \") ); cerr << endl; }\n#define dvec(v) if (opt_debug) { copy( ALL(v), ostream_iterator<int>(cerr, \" \") ); cerr << endl; }\n#define darr2(a, n, m) if (opt_debug) { FOR(__i, 0, (n)){ darr_range( (a)[__i], 0, (m) ); } }\n#define dvec2(v) if (opt_debug) { FOR(__i, 0, v.size()){ dvec( (v)[__i] ); } }\n#define WAIT() if (opt_debug) { string _wait_; cerr << \"(hit return to continue)\" << endl; getline(cin, _wait_); }\n#define dump(x) if (opt_debug) { cerr << \" [L\" << __LINE__ << \"] \" << #x << \" = \" << (x) << endl; }\n#define dumpf() if (opt_debug) { cerr << __PRETTY_FUNCTION__ << endl; }\n#define dumpv(x) if (opt_debug) { cerr << \" [L:\" << __LINE__ << \"] \" << #x << \" = \"; REP(q, (x).size()) cerr << (x)[q] << \" \"; cerr << endl; }\n#define where() if (opt_debug) { cerr << __FILE__ << \": \" << __PRETTY_FUNCTION__ << \" [L: \" << __LINE__ << \"]\" << endl; }\n#define show_bits(b, s) if(opt_debug) { REP(i, s) { cerr << BITOF(b, s-1-i); if(i%4 == 3) cerr << ' '; } cerr << endl; }\ntemplate<typename T1, typename T2> ostream& operator<<(ostream& s, const pair<T1, T2>& d) {return s << \"(\" << d.first << \", \" << d.second << \")\";}\ntemplate<typename T> ostream& operator<<(ostream& s, const complex<T>& d) {return s << \"(\" << d.real() << \", \" << d.imag() << \")\";}\n// }}}\n// }}}\n// time {{{\ninline double now(){ struct timeval tv; gettimeofday(&tv, NULL); return (static_cast<double>(tv.tv_sec) + static_cast<double>(tv.tv_usec) * 1e-6); }\n// }}}\n// string manipulation {{{\ninline VS split(string s, char delimiter) { VS v; string t; REP(i, s.length()) { if(s[i] == delimiter) v.PB(t), t = \"\"; else t += s[i]; } v.PB(t); return v; }\ninline string join(VS s, string j) { string t; REP(i, s.size()) { t += s[i] + j; } return t; }\n// }}}\n// geometry {{{\n#define Y real()\n#define X imag()\n// }}}\n// 2 dimentional array {{{\nP dydx4[4] = { P(-1, 0), P(0, 1), P(1, 0), P(0, -1) };\nP dydx8[8] = { P(-1, 0), P(0, 1), P(1, 0), P(0, -1), P(-1, 1), P(1, 1), P(1, -1), P(-1, -1) };\nint g_height, g_width;\nbool in_field(P p) {\n\treturn (0 <= p.Y && p.Y < g_height) && (0 <= p.X && p.X < g_width);\n}\n// }}}\n// }}}\nbool opt_debug = false;\n\nstring revJ(string s) {\n\tstring t(s.begin(), s.end() - 1);\n\treturn *(s.end()-1) + t;\n}\n\nstring revC(string s) {\n\tstring t(s.begin() + 1, s.end());\n\treturn t + *(s.begin());\n}\n\nstring revE(string s) {\n\tint len = s.length();\n\tstring l(s.begin(), s.begin() + len/2);\n\tstring m = (len % 2 == 0) ? \"\" : string(s.begin() + len/2, s.begin() + len/2 + 1);\n\tstring r(s.begin() + len/2 + (len % 2 != 0), s.end());\n\treturn r + m + l;\n}\n\nstring revA(string s) {\n\treturn string(s.rbegin(), s.rend());\n}\n\nstring revP(string s) {\n\tEACH (s, c) {\n\t\tif ('0' <= *c && *c <= '9') {\n\t\t\tif (*c == '0') {\n\t\t\t\t*c = '9';\n\t\t\t} else {\n\t\t\t\t(*c)--;\n\t\t\t}\n\t\t}\n\t}\n\treturn s;\n}\n\nstring revM(string s) {\n\tEACH (s, c) {\n\t\tif ('0' <= *c && *c <= '9') {\n\t\t\tif (*c == '9') {\n\t\t\t\t*c = '0';\n\t\t\t} else {\n\t\t\t\t(*c)++;\n\t\t\t}\n\t\t}\n\t}\n\treturn s;\n}\n\nint main(int argc, char** argv) {\n\tstd::ios_base::sync_with_stdio(false);\n\t// set options {{{\n\tint __c;\n\twhile ( (__c = getopt(argc, argv, \"d\")) != -1 ) {\n\t\tswitch (__c) {\n\t\t\tcase 'd':\n\t\t\t\topt_debug = true;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tabort();\n\t\t}\n\t}\n\t// }}}\n\n\tint n; cin >> n;\n\twhile (n--) {\n\t\tstring messangers, message;\n\t\tcin >> messangers >> message;\n\t\tREACH(messangers, c) {\n\t\t\tswitch (*c) {\n\t\t\t\tcase 'J':\n\t\t\t\t\tmessage = revJ(message);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'C':\n\t\t\t\t\tmessage = revC(message);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'E':\n\t\t\t\t\tmessage = revE(message);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'A':\n\t\t\t\t\tmessage = revA(message);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'P':\n\t\t\t\t\tmessage = revP(message);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'M':\n\t\t\t\t\tmessage = revM(message);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tcout << message << endl;\n\t}\n\n\treturn 0;\n}\n\n// vim: foldmethod=marker"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n\nusing namespace std;\n\nvoid funcC(char *s,int length){\n\tchar *tmp;\n\ttmp = new char[length];\n\n\tfor(int i=0;i<length-1;i++){\n\t\ttmp[i] = s[i+1];\n\t}\n\ttmp[length-1] = s[0];\n\n\tfor(int i=0;i<length;i++){\n\t\ts[i] = tmp[i];\n\t}\n}\n\n\nvoid funcJ(char *s,int length){\n\tchar *tmp;\n\ttmp = new char[length];\n\n\tfor(int i=1;i<length;i++){\n\t\ttmp[i] = s[i-1];\n\t}\n\ttmp[0] = s[length-1];\n\n\tfor(int i=0;i<length;i++){\n\t\ts[i] = tmp[i];\n\t}\n}\n\nvoid funcE(char *s,int length){\n\tchar *tmp1,*tmp2;\n\tint num=0;\n\n\tif(length%2==0){\n\t\tnum = length/2;\n\t}\n\telse num =length/2 +1;\n\n\ttmp1 = new char[length];\n\ttmp2 = new char[length];\n\n\tfor(int i=0;i<length/2;i++){\n\t\ttmp1[i] = s[i];\n\t\ttmp2[i] = s[num+i];\n\t}\n\n\tfor(int i=0;i<length/2;i++){\n\t\ts[i] = tmp2[i];\n\t}\n\n\tfor(int i=num;i<length;i++){\n\t\ts[i] = tmp1[i-num];\n\t}\n\n}\n\nvoid funcA(char *s,int length){\n\tchar *tmp;\n\ttmp = new char[length];\n\n\tfor(int i=0;i<length;i++){\n\t\ttmp[i] = s[length-1-i];\n\t}\n\n\tfor(int i=0;i<length;i++){\n\t\ts[i]   = tmp[i];\n\t}\n}\n\nvoid funcM(char *s,int length){\n\t\n\tfor(int i=0;i<length;i++){\n\t\tif(s[i] >='0' &&s[i]<='8'){\n\t\t\ts[i]++;\n\t\t}\n\t\telse if(s[i]=='9'){\n\t\t\ts[i]='0';\n\t\t}\n\t}\n}\n\nvoid funcP(char *s,int length){\n\tfor(int i=0;i<length;i++){\n\t\tif(s[i] >='1' &&s[i]<='9'){\n\t\t\ts[i]--;\n\t\t}\n\t\telse if(s[i]=='0'){\n\t\t\ts[i]='9';\n\t\t}\n\t}\n}\n\n\nint main(){\n\n\tint num;\n\n\tcin>>num;\n\n\tfor(int k=0;k<num;k++){\n\t\tstring data;\n\n\t\tstring str;\n\t\tcin>>data;\n\t\tcin>>str;\n\n\t\tchar tmp[30];\n\t\tfor(int i=0;i<str.size();i++){\n\t\t\ttmp[i] = str.at(i);\n\t\t}\n\t\ttmp[str.size()] = '\\0';\n\n\t\tfor(int i=data.size()-1;i>=0;i--){\n\n\t\t\tif(data.at(i)=='A'){\n\t\t\t\tfuncA(tmp,str.size());\n\t\t\t}\n\t\t\telse if(data.at(i)=='J')funcJ(tmp,str.size());\n\t\t\telse if(data.at(i)=='M')funcM(tmp,str.size());\n\t\t\telse if(data.at(i)=='P')funcP(tmp,str.size());\n\t\t\telse if(data.at(i)=='C')funcC(tmp,str.size());\n\t\t\telse if(data.at(i)=='E')funcE(tmp,str.size());\n\t\t}\n\n\t\tcout<<tmp<<endl;\n\n\t}\n\n\n\n\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <deque>\n#include <string>\nusing namespace std;\n\nint main(){\n\tint n;\n\tstring s,t;\n\tchar c,d;\n\tdeque<char> de;\n\tcin >> n;\n\tfor(int i = 0;i < n;i++){\n\t\tcin >> s >> t;\n\t\tde.clear();\n\t\tfor(int j = 0;j < t.size();j++){\n\t\t\tde.push_back(t[j]);\n\t\t}\n\t\tfor(int j = 0;j < s.size();j++){\n\t\t\tif(s[j] == 'J'){\n\t\t\t\tc = de.front();\n\t\t\t\tde.pop_front();\n\t\t\t\tde.push_back(c);\n\t\t\t}\n\t\t\telse if(s[j] == 'C'){\n\t\t\t\tc = de.back();\n\t\t\t\tde.pop_back();\n\t\t\t\tde.push_front(c);\n\t\t\t}\n\t\t\telse if(s[j] == 'A'){\n\t\t\t\tfor(int k = 0;k < de.size()/2;k++){\n\t\t\t\t\tswap(de[k],de[de.size()-k-1]);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(s[j] == 'E'){\n\t\t\t\tc = de.front();\n\t\t\t\tde.pop_front();\n\t\t\t\tde.push_back(c);\n\t\t\t\tc = de.front();\n\t\t\t\tde.pop_front();\n\t\t\t\tde.push_back(c);\n\t\t\t}\n\t\t\telse if(s[j] == 'P'){\n\t\t\t\tfor(int k = 0;k < de.size();k++){\n\t\t\t\t\tif(de[k] >= '0' && de[k] <='8'){\n\t\t\t\t\t\tde[k]++;\n\t\t\t\t\t}\n\t\t\t\t\telse if(de[k] == '9'){\n\t\t\t\t\t\tde[k] = '0';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(s[j] == 'M'){\n\t\t\t\tfor(int k = 0;k < de.size();k++){\n\t\t\t\t\tif(de[k] >= '1' && de[k] <='9'){\n\t\t\t\t\t\tde[k]--;\n\t\t\t\t\t}\n\t\t\t\t\telse if(de[k] == '0'){\n\t\t\t\t\t\tde[k] = '9';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor(int j = 0;j < de.size();j++){\n\t\t\tcout << de[j];\n\t\t\tif(j == de.size()-1)cout <<endl;\n\t\t}\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\nusing namespace std;\n\nstring J(string str) {\n  string a;\n  a+= str[str.size()-1];\n  for(int i=0;i<str.size()-1;i++) a += str[i];\n  return a;\n}\n\nstring C(string str){\n  string a;\n  for(int i=1;i<str.size();i++) a+=str[i];\n  a += str[0];\n  return a;\n}\n\nstring E(string str) {\n  string a = str;\n  for(int i=0;i<str.size()/2;i++) \n    a[i] = str[str.size()-str.size()/2+i],a[str.size()-str.size()/2+i]=str[i];\n  return a;\n}\n\nstring P(string str){\n  for(int i=0;i<str.size();i++) \n    if('0' <= str[i] && str[i] <= '9') str[i] = (str[i]-'0'-1+10)%10+'0';\n  return str;\n}\n\nstring M(string str){\n  for(int i=0;i<str.size();i++) \n    if('0' <= str[i] && str[i] <= '9') str[i] = (str[i]-'0'+1)%10+'0';\n  return str;\n} \n\nint main() {\n  int n;\n  cin >>n;\n  for(int q=0;q<n;q++) {\n    string order;\n    cin >> order;\n    reverse(order.begin(),order.end());\n    string str;\n    cin >> str;\n    for(int i=0;i<order.size();i++){\n      if(order[i] == 'J') str = J(str);\n      else if(order[i] == 'C') str=C(str);\n      else if(order[i] == 'E') str = E(str);\n      else if(order[i] == 'A') reverse(str.begin(),str.end());\n      else if(order[i] == 'P') str = P(str);\n      else if(order[i] == 'M') str = M(str);\n    }\n    cout << str << endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\nint main() {\n  int n, l, m;\n  string s, t;\n  char u, p;\n  cin >> n;\n  for (int i = 0; i < n; ++i) {\n    cin >> s;\n    cin >> t;\n    l = s.size();\n    m = t.size();\n    for (int i = l-1; i >= 0; --i) {\n      p = s[i];\n      if (p == 'P') {\n\tfor (int j = 0; j < m; ++j) {\n\t  if (t[j] == '0') t[j] = '9';\n\t  else if ('0' < t[j] && t[j] <= '9') {\n\t    t[j] = t[j] - 1;\n\t  }\n\t}\n      } else if (p == 'M') {\n\tfor (int j = 0; j < m; ++j) {\n\t  if (t[j] == '9') t[j] = '0';\n\t  else if ('0' <= t[j] && t[j] < '9') {\n\t    t[j] = t[j] + 1;\n\t  }\n\t}\n      } else if (p == 'C') {\n\tu = t[0];\n\tfor (int j = 0; j < m-1; ++j) t[j] = t[j+1];\n\tt[m-1] = u;\n      } else if (p == 'A') {\n\tfor (int j = 0; j < m/2; ++j) {\n\t  u = t[m-1-j];\n\t  t[m-1-j] = t[j];\n\t  t[j] = u;\n\t}\n      } else if (p == 'E') {\n\tfor (int j = 0; j < m/2; ++j) {\n\t  u = t[m/2+m%2+j];\n\t  t[m/2+m%2+j] = t[j];\n\t  t[j] = u;\n\t}\n      } else if (p == 'J') {\n\tu = t[m-1];\n\tfor (int j = m-1; j > 0; --j) t[j] = t[j-1];\n\tt[0] = u;\n      }\n      //      cout << p << \" \" << t << endl;\n    }\n    cout << t << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<string>\n#define rep(i,n) for(int i=0;i<n;i++)\nusing namespace std;\nint cs,s;string ord,st;\nvoid op(char o){\n\tif(o=='A')reverse(st.begin(),st.end());\n\tif(o=='J')rotate(st.rbegin(),st.rbegin()+1,st.rend());\n\tif(o=='C')rotate(st.begin(),st.begin()+1,st.end());\n\tif(o=='E')swap_ranges(st.begin(),st.begin()+s/2,st.begin()+(s+1)/2);\n\tif(o=='P'||o=='M')rep(i,s)if('0'<=st[i]&&st[i]<='9')\n\tst[i]=(st[i]-'0'+(o=='P'?9:1))%10+'0';\n}\nint main(){\n\tcin>>cs;\n\twhile(cs--){\n\t\tcin>>ord>>st;s=st.size();\n\t\trep(i,ord.size())op(ord[ord.size()-1-i]);\n\t\tcout<<st<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstring>\nusing namespace std;\n\n\nchar rmsg[50];\nint len;\nvoid J();\nvoid C();\nvoid E();\nvoid A();\nvoid P();\nvoid M();\n\n\nint main(){\n  int n;\n  char msger[10];\n\n  cin >> n;\n  for (int i=0;i<n;i++){\n    cin >> msger >> rmsg;\n    // cin >> rmsg;\n    len=strlen(rmsg);\n    //cout << rmsg << endl;\n    for (int j=strlen(msger)-1;j>=0;j--){\n      switch (msger[j]){\n      case 'J':J();break;\n      case 'C':C();break;\n      case 'E':E();break;\n      case 'A':A();break;\n      case 'P':P();break;\n      case 'M':M();break;\n      }\n      //cout <<msger[j]<<\" \"<< rmsg << endl;\n    }\n    cout << rmsg << endl;\n  }\n}\n\nvoid C(){\n  char t=rmsg[0];\n\n  for (int i=0;i<len-1;i++){\n    rmsg[i]=rmsg[i+1];\n  }\n  rmsg[len-1]=t;\n}\nvoid J(){\n  char t=rmsg[len-1];\n\n  for (int i=len-1;i>0;i--){\n    rmsg[i]=rmsg[i-1];\n  }\n  rmsg[0]=t;\n}\nvoid E(){\n  char t;\n  if (len<=1)return;\n  for (int i=0;i<(len/2);i++){\n    t=rmsg[i];\n    rmsg[i]=rmsg[i+((len+1)/2)];\n    rmsg[i+((len+1)/2)]=t;\n  }\n}\nvoid A(){\n  char t;\n  for (int i=0;i<len-i;i++){\n    t=rmsg[i];\n    rmsg[i]=rmsg[len-i-1];\n    rmsg[len-i-1]=t;\n  }\n}\nvoid P(){\n  for (int i=0;i<len;i++){\n    if ('0'<rmsg[i]&&rmsg[i]<='9'){\n      rmsg[i]--;\n    }else if (rmsg[i]=='0'){\n      rmsg[i]='9';\n    }\n  }\n}\nvoid M(){\n  for (int i=0;i<len;i++){\n    if ('0'<=rmsg[i]&&rmsg[i]<'9'){\n      rmsg[i]++;\n    }else if (rmsg[i]=='9'){\n      rmsg[i]='0';\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\n#include <utility>\nusing namespace std;\n\nstring dec(string str,char c){\n\tif(c=='J'){\n\t\tint e=str.size()-1;\n\t\tstr=str[e]+str;\n\t\tstr.pop_back();\n\t}\n\telse if(c=='C'){\n\t\tstr=str+str[0];\n\t\tstr.erase(str.begin());\n\t}\n\telse if(c=='E'){\n\t\tint t=0;\n\t\twhile(2*t<(str.size()-1)){\n\t\t\tswap(str[t],str[(str.size()+1)/2+t]);\n\t\t\tt++;\n\t\t}\n\t}\n\telse if(c=='A'){\n\t\treverse(str.begin(),str.end());\n\t}\n\telse if(c=='P'){\t\n\t\tfor(int i=0;i<str.size();i++){\n\t\t\tif(str[i]>='0' && str[i]<='9')str[i]=((str[i]-'0')+9)%10+'0';\n\t\t}\n\t}\n\telse if(c=='M'){\n\t\tfor(int i=0;i<str.size();i++){\n\t\t\tif(str[i]>='0' && str[i]<='9')str[i]=((str[i]-'0')+1)%10+'0';\n\t\t}\n\t}\n\treturn str;\n}\n\nint main(){\n\tint n;\n\tcin>>n;\n\twhile(n--){\n\t\tstring ord,mes;\n\t\tcin>>ord>>mes;\n\t\treverse(ord.begin(),ord.end());\n\t\tfor(int i=0;i<ord.size();i++){\n\t\t\tmes=dec(mes,ord[i]);\n\t\t}\n\t\tcout<<mes<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "null"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\ntypedef long long ll;\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<ll> VL;\ntypedef vector<VL> VVL;\ntypedef pair<int, int> PII;\n\n#define FOR(i, a, n) for (ll i = (ll)a; i < (ll)n; ++i)\n#define REP(i, n) FOR(i, 0, n)\n#define ALL(x) x.begin(), x.end()\n#define MP make_pair\n#define PB push_back\n#define MOD 1000000007\n#define INF (1LL<<30)\n#define LLINF (1LL<<60)\n#define PI 3.14159265359\n#define EPS 1e-12\n#define int ll\n\nsigned main(void)\n{\n  int n;\n  cin >> n;\n  REP(i, n) {\n    string s, t;\n    cin >> t >> s;\n    for(int j=t.size()-1; j>=0; --j) {\n      if(t[j] == 'C') {\n        string tmp;\n        FOR(i, 1, s.size()) tmp += s[i];\n        tmp += s[0];\n        s = tmp;\n      } else if(t[j] == 'J') {\n        string tmp;\n        tmp += s[s.size()-1];\n        REP(i, s.size()-1) tmp += s[i];\n        s = tmp;\n      } else if(t[j] == 'E') {\n        string tmp;\n        FOR(i, s.size()/2 + !!(s.size()%2), s.size()) tmp += s[i];\n        if(s.size()%2) tmp += s[s.size()/2];\n        REP(i, s.size()/2) tmp += s[i];\n        s = tmp;\n      } else if(t[j] == 'A') {\n        REP(i, s.size()/2) swap(s[i], s[s.size()-1-i]);\n      } else if(t[j] == 'M') {\n        REP(i, s.size()) {\n          if('0' <= s[i] && s[i] <= '8') s[i]++;\n          else if(s[i] == '9') s[i] = '0';\n        }\n      } else if(t[j] == 'P') {\n        REP(i, s.size()) {\n          if('1' <= s[i] && s[i] <= '9') s[i]--;\n          else if(s[i] == '0') s[i] = '9';\n        }\n      }\n      //cout << j << \" \" << t[j] << \" \" << s << endl;\n    }\n    cout << s << endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <bitset>\n#include <cctype>\n#include <complex>\n#include <cmath>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <ctime>\n#include <deque>\n#include <functional>\n#include <iomanip>\n#include <iostream>\n#include <list>\n#include <map>\n#include <numeric>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <utility>\n#include <vector>\n\nusing namespace std;\n\ninline int toInt(string s) {int v; istringstream sin(s);sin>>v;return v;}\ntemplate<class T> inline string toString(T x) {ostringstream sout;sout<<x;return sout.str();}\ntemplate<class T> inline T sqr(T x) {return x*x;}\n\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<string> vs;\ntypedef pair<int, int> pii;\ntypedef long long ll;\n\n#define all(a)  (a).begin(),(a).end()\n#define rall(a) (a).rbegin(), (a).rend()\n#define pb push_back\n#define mp make_pair\n#define each(i,c) for(typeof((c).begin()) i=(c).begin(); i!=(c).end(); ++i)\n#define exist(s,e) ((s).find(e)!=(s).end())\n#define range(i,a,b) for(int i=(a);i<(b);++i)\n#define rep(i,n)  range(i,0,n)\n#define clr(a,b) memset((a), (b) ,sizeof(a))\n#define dump(x)  cerr << #x << \" = \" << (x) << endl;\n#define debug(x) cerr << #x << \" = \" << (x) << \" (L\" << __LINE__ << \")\" << \" \" << __FILE__ << endl;\n\nconst double eps = 1e-10;\nconst double pi  = acos(-1.0);\nconst ll INF =1LL << 62;\nconst int inf =1 << 29;\n\nint main(void){\n    int n; cin >> n;\n    while(n--){\n        string order, in; cin >> order >> in;\n\n        for(int i = order.size() - 1; 0 <= i; i--){\n            switch(order.at(i)){\n                case 'J':\n                {\n                    string front = in.substr(in.size() - 1);\n                    string back = in.substr(0, in.size() - 1);\n                    in = front + back;\n                    break;\n                }\n                case 'C':\n                {\n                    string front = in.substr(1);\n                    string back = in.substr(0, 1);\n                    in = front + back;\n                    break;\n                }\n                case 'E':\n                {\n                    string front = in.substr(in.size() / 2);\n                    string mid = in.substr(in.size() / 2, in.size() % 2);\n                    string back = in.substr(0, in.size() / 2);\n                    in = front + mid + back;\n                    break;\n                }\n                case 'A':\n                {\n                    reverse(all(in));\n                    break;\n                }\n                case 'M':\n                {\n                    rep(i, in.size()){\n                        if(in.at(i) == '9'){\n                            in[i] = '0';\n                        }\n                        else if('0' <= in.at(i) && in.at(i) <= '8'){\n                            in[i]++;\n                        }\n                    }\n                    break;\n                }\n                case 'P':\n                {\n                    rep(i, in.size()){\n                        if(in.at(i) == '0'){\n                            in[i] = '9';\n                        }\n                        else if('1' <= in.at(i) && in.at(i) <= '9'){\n                            in[i]--;\n                        }\n                    }\n                    break;\n                }\n                default:\n                {\n                    cout << \"unknown\" << endl;\n                    break;\n                }    \n            }\n        }\n        cout << in << endl;\n    }\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define rep(i,n) for (int (i)=(0);(i)<(int)(n);++(i))\nusing ll = long long;\n\nstring s, t;\n\nvoid j() {\n    char c = t[0];\n    for (int i=1; i<t.size(); ++i) {\n        t[i-1] = t[i];\n    }\n    t[t.size()-1] = c;\n}\n\nvoid c() {\n    char c = t[t.size()-1];\n    for (int i=t.size()-2; i>=0; --i) {\n        t[i+1] = t[i];\n    }\n    t[0] = c;\n}\n\nvoid a() {\n    reverse(t.begin(), t.end());\n}\n\nvoid e() {\n    if (t.size()%2) {\n        char c = t[t.size()/2];\n        string a = t.substr(0, t.size()/2), b = t.substr(t.size()/2+1, t.size()/2);\n        t = b + c + a;\n    }\n    else {\n        string a = t.substr(0, t.size()/2), b = t.substr(t.size()/2, t.size()/2);\n        t = b + a;\n    }\n}\n\nvoid p() {\n    rep(i, t.size()) {\n        if (t[i] == '9') t[i] = '0';\n        else if ('0' <= t[i] and t[i] <= '9') t[i]++;\n    }\n}\n\nvoid m() {\n    rep(i, t.size()) {\n        if (t[i] == '0') t[i] = '9';\n        else if ('0' <= t[i] and t[i] <= '9') t[i]--;\n    }\n}\n\nint main() {\n    int n;\n    cin >> n;\n\n    rep(i, n) {\n\n        cin >> s >> t;\n\n        reverse(s.begin(), s.end());\n        rep(i, s.size()) {\n            switch(s[i]) {\n                case 'A': a(); break;\n                case 'J': c(); break;\n                case 'C': j(); break;\n                case 'P': m(); break;\n                case 'M': p(); break;\n                case 'E': e(); break;\n            }\n        }\n\n        cout << t << endl;\n\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <algorithm>\n#include <cctype>\nusing namespace std;\n\nconst char person[] = {'J', 'C', 'E', 'A', 'P', 'M'};\n\nvector<char> decode(const vector<char>& messangers, const vector<char>& message){\n  vector<char> ans;\n\n  for(int i=0;i<message.size();++i){\n    ans.push_back(message[i]);\n  }\n\n  for(int i=messangers.size()-1;i>=0;--i){\n    if(messangers[i]==person[0]){\n      for(int j=ans.size()-1;j>0;--j){\n        swap(ans[j],ans[j-1]);\n      }\n    }else if(messangers[i]==person[1]){\n      for(int j=0;j<ans.size()-1;++j){\n        swap(ans[j],ans[j+1]);\n      }\n    }else if(messangers[i]==person[2]){\n      for(int j=0,k;j<ans.size()/2;++j){\n        ans.size()%2==1 ? k=ans.size()/2+1 : k=ans.size()/2;\n        swap(ans[j],ans[j+k]);\n      }\n    }else if(messangers[i]==person[3]){\n      reverse(ans.begin(), ans.end());\n    }else if(messangers[i]==person[4]){\n      for(int j=0;j<ans.size();++j){\n        if(isdigit(ans[j])){\n          if(ans[j]=='0') ans[j]='9';\n          else --ans[j];\n        }\n      }\n    }else if(messangers[i]==person[5]){\n      for(int j=0;j<ans.size();++j){\n        if(isdigit(ans[j])){\n          if(ans[j]=='9') ans[j]='0';\n          else ++ans[j];\n        }\n      }\n    }\n  }\n\n  return ans;\n}\n\nint main(){\n  int n;\n  cin>>n;\n\n  for(int index=0;index<n;++index){\n    vector<char> messangers,message;\n    string tmp;\n\n    cin>>tmp;\n    for(int i=0;i<tmp.size();++i)\n      messangers.push_back(tmp.at(i));\n\n    cin>>tmp;\n    for(int i=0;i<tmp.size();++i)\n      message.push_back(tmp.at(i));\n\n    vector<char> ans;\n    ans = decode(messangers, message);\n\n    for(int i=0;i<ans.size();++i)\n      cout << ans.at(i);\n    \n    cout << endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\nusing namespace std;\nint main(){\n  int n,i,j,k,orderlen,strlen;\n  string order,str,tempstr1,tempstr2;\n  char temp;\n  cin >> n;\n  for(i=0;i<n;i++){\n    cin >> order;\n    reverse(order.begin(),order.end());\n    cin >> str;\n    orderlen=order.size();\n    strlen=str.size();\n    for(j=0;j<orderlen;j++){\n      if(order[j]=='J'){\n\ttemp=str[strlen-1];\n\tfor(k=strlen-1;k>=1;k--){\n\t  str[k]=str[k-1];\n\t}\n\tstr[0]=temp;\n      }\n      else if(order[j]=='C'){\n\ttemp=str[0];\n\tfor(k=0;k<strlen-1;k++){\n\t  str[k]=str[k+1];\n\t}\n\tstr[strlen-1]=temp;\n      }\n      else if(order[j]=='E'){\n\ttempstr1=tempstr2=\"\";\n\tfor(k=0;k<strlen;k++){\n\t  if(k<strlen/2) tempstr1+=str[k];\n\t  else tempstr2+=str[k];\n\t}\n\tstr=\"\";\n\tstr+=tempstr2;\n\tstr+=tempstr1;\n\tif(strlen%2==1){\n\t  temp=str[0];\n\t  for(k=0;k<strlen/2;k++){\n\t    str[k]=str[k+1];\n\t  }\n\t  str[strlen/2]=temp;\n\t}\n      }\n      else if(order[j]=='A'){\n\treverse(str.begin(),str.end());\n      }\n      else if(order[j]=='P'){\n\tfor(k=0;k<strlen;k++){\n\t  if('1'<=str[k]&&str[k]<='9') str[k]-=1;\n\t  else if(str[k]=='0') str[k]='9';\n\t}\n      }else{//M\n\tfor(k=0;k<strlen;k++){\n\t  if('0'<=str[k]&&str[k]<='8') str[k]+=1;\n\t  else if(str[k]=='9') str[k]='0';\n\t}\n      }\n    }\n    cout << str << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "null"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define For(i, a, b) for(int (i)=(int)(a); (i)<(int)(b); ++(i))\n#define rFor(i, a, b) for(int (i)=(int)(a)-1; (i)>=(int)(b); --(i))\n#define rep(i, n) For((i), 0, (n))\n#define rrep(i, n) rFor((i), (n), 0)\n#define fi first\n#define se second\nusing namespace std;\ntypedef long long lint;\ntypedef unsigned long long ulint;\ntypedef pair<int, int> pii;\ntypedef pair<int, lint> pil;\ntypedef pair<lint, lint> pll;\ntemplate<class T>bool chmax(T &a, const T &b){if(a<b){a=b; return true;} return false;}\ntemplate<class T>bool chmin(T &a, const T &b){if(a>b){a=b; return true;} return false;}\n\nconstexpr lint mod = 1e9+7;\nconstexpr lint INF = mod*mod;\nconstexpr int MAX = 100010;\n\nint main(){\n    int q;\n    scanf(\"%d\", &q);\n    auto f = [](string s, char c){\n        int K = s.size();\n        string t;\n        if(c == 'J') t = s[K-1] + s.substr(0, K-1);\n        if(c == 'C') t = s.substr(1) + s[0];\n        if(c == 'E'){\n            if(K%2 == 0) t = s.substr(K/2) + s.substr(0, K/2);\n            else t = s.substr((K+1)/2) + s[K/2] + s.substr(0, K/2);\n        }\n        if(c == 'A'){\n            reverse(s.begin(), s.end());\n            t = s;\n        }\n        if(c == 'P'){\n            t = s;\n            for(auto &i: t)if(isdigit(i)) i = (i-48-1+10)%10 + 48;\n        }\n        if(c == 'M'){\n            t = s;\n            for(auto &i: t)if(isdigit(i)) i = (i-48+1)%10 + 48;\n        }\n        return t;\n    };\n    while(q--){\n        string t, s;\n        cin >> t >> s;\n        reverse(t.begin(), t.end());\n        for(auto c: t) s = f(s, c);\n        cout << s << \"\\n\";\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\ntypedef long long LL;\n#define SORT(c) sort((c).begin(),(c).end())\n\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n)  FOR(i,0,n)\n\nusing namespace std;\nstring revj(string a)\n{\n  string answer=a+a;\n  return string(answer.begin()+a.size()-1,answer.end()-1);\n}\nstring revc(string a)\n{\n  string answer=a+a;\n  return string(answer.begin()+1,answer.begin()+a.size()+1);\n}\nstring reve(string a)\n{\n  return string(a.end()-a.size()/2,a.end())+string(a.begin()+a.size()/2,a.end()-a.size()/2)+string(a.begin(),a.begin()+a.size()/2);\n}\nstring reva(string a)\n{\n  return string(a.rbegin(),a.rend());\n}\nstring revp(string a)\n{\n  string answer=a;\n  REP(i,answer.size()) if(0<= answer[i]-'0' && answer[i]-'0' <= 9) answer[i]=(answer[i]-'0'+9)%10+'0';\n  return answer;\n}\nstring revm(string a)\n{\n  string answer=a;\n  REP(i,answer.size()) if(0<= answer[i]-'0' && answer[i]-'0' <= 9) answer[i]=(answer[i]-'0'+1)%10+'0';\n  return answer;\n}\nint main(void)\n{\n  int n;    \n  cin >> n;\n  REP(i,n){\n    string cmd,tmp;\n    cin >> cmd >> tmp;\n    string rcmd(cmd.rbegin(),cmd.rend());\n    for(auto i:rcmd){\n      if(i=='J') tmp=revj(tmp);\n      if(i=='C') tmp=revc(tmp);\n      if(i=='E') tmp=reve(tmp);\n      if(i=='A') tmp=reva(tmp);\n      if(i=='P') tmp=revp(tmp);\n      if(i=='M') tmp=revm(tmp);\n    }\n    cout << tmp << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\n#include<cstring>\n#include<cctype>\n\nusing namespace std;\n\nstring revJ(string t){\nÃÂ ÃÂ string ret = t;\nÃÂ ÃÂ ret.insert(ret.begin(),t[t.length()-1]);\nÃÂ ÃÂ ret.erase(ret.end()-1);\nÃÂ ÃÂ return ret;\n}\nstring revC(string t){\nÃÂ ÃÂ string ret = t;\nÃÂ ÃÂ ret += t[0];\nÃÂ ÃÂ ret.erase(ret.begin());\nÃÂ ÃÂ return ret;\n}\nstring revE(string t){\nÃÂ ÃÂ char c=0;\nÃÂ ÃÂ if(t.length()==1)return t;\nÃÂ ÃÂ if(t.length()%2){\nÃÂ ÃÂ  ÃÂ c = t[t.length()/2];\nÃÂ ÃÂ  ÃÂ t.erase(t.begin()+t.length()/2);\nÃÂ ÃÂ }\nÃÂ ÃÂ string l = t.substr(0,t.length()/2);\nÃÂ ÃÂ string r = t.substr(t.length()/2,t.length()-t.length()/2);\nÃÂ ÃÂ if(c){\nÃÂ ÃÂ  ÃÂ return r+c+l;\nÃÂ ÃÂ }else return r+l;\n}\nstring revA(string t){\nÃÂ ÃÂ string ret = t;\nÃÂ ÃÂ reverse(ret.begin(),ret.end());\nÃÂ ÃÂ return ret;\n}\nstring revP(string t){\nÃÂ ÃÂ //dec\nÃÂ ÃÂ string ret = t;\nÃÂ ÃÂ for(int i = 0; i < (signed)ret.length(); ++i){\nÃÂ ÃÂ  ÃÂ if( isdigit(ret[i]) ){\nÃÂ ÃÂ  ÃÂ  ÃÂ ret[i]--;\nÃÂ ÃÂ  ÃÂ  ÃÂ if(ret[i]<'0')ret[i]='9';\nÃÂ ÃÂ  ÃÂ }\nÃÂ ÃÂ }\nÃÂ ÃÂ return ret;\n}\nstring revM(string t){\nÃÂ ÃÂ //inc\nÃÂ ÃÂ string ret = t;\nÃÂ ÃÂ for(int i = 0; i < (signed)ret.length(); ++i){\nÃÂ ÃÂ  ÃÂ if( isdigit(ret[i]) ){\nÃÂ ÃÂ  ÃÂ  ÃÂ ret[i]++;\nÃÂ ÃÂ  ÃÂ  ÃÂ if(ret[i]>'9')ret[i]='0';\nÃÂ ÃÂ  ÃÂ }\nÃÂ ÃÂ }\nÃÂ ÃÂ return ret;\n}\n\nint main()\n{\nÃÂ ÃÂ int n;\nÃÂ ÃÂ cin >> n;\nÃÂ ÃÂ for(int i = 0; i < n; ++i){\nÃÂ ÃÂ  ÃÂ string order;\nÃÂ ÃÂ  ÃÂ string msg;\nÃÂ ÃÂ  ÃÂ cin >> order >> msg;\nÃÂ ÃÂ  ÃÂ for(int i = (int)order.length()-1; i>=0; --i){\nÃÂ ÃÂ  ÃÂ  ÃÂ if( order[i] == 'J' ){\n\tmsg = revJ( msg );\nÃÂ ÃÂ  ÃÂ  ÃÂ }\nÃÂ ÃÂ  ÃÂ  ÃÂ if( order[i] == 'C' ){\n\tmsg = revC( msg );\nÃÂ ÃÂ  ÃÂ  ÃÂ }\nÃÂ ÃÂ  ÃÂ  ÃÂ if( order[i] == 'E' ){\n\tmsg = revE( msg );\nÃÂ ÃÂ  ÃÂ  ÃÂ }\nÃÂ ÃÂ  ÃÂ  ÃÂ if( order[i] == 'A' ){\n\tmsg = revA( msg );\nÃÂ ÃÂ  ÃÂ  ÃÂ }\nÃÂ ÃÂ  ÃÂ  ÃÂ if( order[i] == 'P' ){\n\tmsg = revP( msg );\nÃÂ ÃÂ  ÃÂ  ÃÂ }\nÃÂ ÃÂ  ÃÂ  ÃÂ if( order[i] == 'M' ){\n\tmsg = revM( msg );\nÃÂ ÃÂ  ÃÂ  ÃÂ }\nÃÂ ÃÂ  ÃÂ }\nÃÂ ÃÂ  ÃÂ cout << msg << endl;\nÃÂ ÃÂ }\nÃÂ ÃÂ return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\n\nint main() {\n\n  long long int n;\n  cin >> n;\n\n  for ( long long int i = 0; i < n; i++ ) {\n\n    string o, in;\n    cin >> o >> in;\n\n    for ( long long int j = o.size() - 1; j >= 0; j-- ) {\n\n      if ( o[j] == 'J' ) {\n\tin = in[ in.size() - 1 ] + in.substr( 0, in.size() - 1 );\n      }else if ( o[j] == 'C' ) {\n\tin = in.substr( 1, in.size() - 1 ) + in[0];\n      }else if ( o[j] == 'E' ) {\n\tlong long int k = in.size() / 2;\n\tif ( ( in.size() % 2 ) == 0 ) {\n\t  in = in.substr( k, k ) + in.substr( 0, k );\n\t}else {\n\t  in = in.substr( k + 1, k ) + in[k] + in.substr( 0, k );\n\t}\n      }else if ( o[j] == 'A' ) {\n\tstring s = \"\";\n\tfor ( long long int x = in.size() - 1; x >= 0; x-- ) {\n\t  s += in[x];\n\t}\n\tin = s;\n      }else if ( o[j] == 'M' ) {\n\tfor ( long long int x = 0; x < in.size(); x++ ) {\n\t  if ( in[x] >= '0' && in[x] < '9' ) {\n\t    in[x]++;\n\t  }else if ( in[x] == '9' ) {\n\t    in[x] = '0';\n\t  }\n\t}\n      }else if ( o[j] == 'P' ) {\n\tfor ( long long int x = 0; x < in.size(); x++ ) {\n\t  if ( in[x] > '0' && in[x] <= '9' ) {\n\t    in[x]--;\n\t  }else if ( in[x] == '0' ) {\n\t    in[x] = '9';\n\t  }\n\t}\n      }\n\n    }\n\n    cout << in << endl;\n\n  }\n\n  return 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <stdio.h>\nusing namespace std;\n\nint main(){\n    int n;\n    cin >> n;\n    while( n-- ){\n        string p, m;\n        cin >> p >> m;\n        reverse( p.begin(), p.end() );\n        for( size_t i = 0; i < p.length(); i++ ){\n            switch(p[i]){\n                case 'J':{\n                    char tmp = m[m.length() - 1];\n                    for( size_t j = m.length() - 1; j > 0; j-- ){\n                        //if( j == 0 ){\n                        //}else{\n                            m[j] = m[j-1];\n                        //}\n                        //cout << m[j] << endl;\n                    }\n                    m[0] = tmp;\n                    break;\n                }case 'C':{\n                    char tmp = m[0];\n                    for( size_t j = 0; j < m.length(); j++ ){\n                        if( j == m.length() - 1 ) m[j] = tmp;\n                        else m[j] = m[j+1];\n                    }\n                    break;\n                }case 'E':{\n                    string tmp = m.substr( 0, m.length() / 2 );\n                    m = m.substr( (m.length() + 1) / 2 );\n                    m.append( tmp );\n                    break;\n                }case 'A':{\n                    reverse( m.begin(), m.end() );\n                    break;\n                }case 'P':{\n                    for( size_t j = 0; j < m.length(); j++ ){\n                        if( '1' <= m[j] && m[j] <= '9' ){\n                            m[j]--;\n                        }else if( '0' == m[j] ){\n                            m[j] = '9';\n                        }\n                    }\n                    break;\n                }case 'M':{\n                    for( size_t j = 0; j < m.length(); j++ ){\n                        if( '0' <= m[j] && m[j] <= '8' ){\n                            m[j]++;\n                        }else if( '9' == m[j] ){\n                            m[j] = '0';\n                        }\n                    }\n                    break;\n                }\n            }\n        }\n        cout << m << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nint main(){\n\tint n;\n\tcin>>n;\n\twhile(n--){\n\t\tstring s,ss;\n\t\tcin>>s>>ss;\n\t\tfor(int i=s.size()-1;i>=0;i--){\n\t\t\tif(s[i]=='P')\n\t\t\t\tfor(int j=0;j<ss.size();j++)\n\t\t\t\t\tif(ss[j]>='0'&&ss[j]<='9')\n\t\t\t\t\t\tss[j]=(ss[j]-'0'+9)%10+'0';\n\t\t\tif(s[i]=='M')\n\t\t\t\tfor(int j=0;j<ss.size();j++)\n\t\t\t\t\tif(ss[j]>='0'&&ss[j]<='9')\n\t\t\t\t\t\tss[j]=(ss[j]-'0'+1)%10+'0';\n\t\t\tif(s[i]=='A')reverse(ss.begin(),ss.end());\n\t\t\tif(s[i]=='P')for(int k=0;k<=ss.size()/2;k++)swap(ss[k],ss[k+(ss.size()+1)/2]);\n\t\t\tif(s[i]=='J')ss=ss[ss.size()-1]+ss.substr(0,s.size()-1);\n\t\t\tif(s[i]=='C')ss=ss.substr(1,s.size()-1)+s[0];\n\t\t}\n\t\tcout<<ss<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream> \n#include <string> \n#include <vector> \n#include <cmath> \n#include <algorithm> \n#include <cstdlib> \n#include <ctime> \n#include <cstdio> \n#include <functional> \n#include <set> \n#include <sstream> \n#include <cctype>\n#include <stack>\n#include <queue>\n#include <cstring>\n#include <map>\n \nusing namespace std;\n\nstring J(string s){\n\n\tint n=s.size();\n\tstring t;\n\tfor(int i=0;i<n;i++){\n\t\tt+=s[(n-1+i)%n];\n\t}\n\treturn t;\n\n}\n\nstring C(string s){\n\tint n=s.size();\n\tstring t;\n\tfor(int i=0;i<n;i++){\n\t\tt+=s[(1+i)%n];\n\t}\n\treturn t;\n}\n\nstring E(string s){\n\tstring t;\n\tif(s.size()%2){\n\t\tstring left=s.substr(0,s.size()/2);\n\t\tchar mid=s[s.size()/2];\n\t\tstring right=s.substr(s.size()/2+1);\n\t\tt=right+mid+left;\n\t}else{\n\t\tstring left=s.substr(0,s.size()/2);\n\t\tstring right=s.substr(s.size()/2);\n\t\tt=right+left;\n\t}\n\n\treturn t;\n}\n\nstring A(string s){\n\tstring t=s;\n\treverse(t.begin(),t.end());\n\treturn t;\n}\n\nstring P(string s){\n\tstring t=s;\n\tfor(int i=0;i<t.size();i++){\n\t\tif( '0'<=t[i] && t[i]<='9' ){\n\t\t\tif(t[i]=='0') t[i]='9';\n\t\t\telse t[i]--;\n\t\t}\n\t}\n\treturn t;\n}\n\nstring M(string s){\n\tstring t=s;\n\tfor(int i=0;i<t.size();i++){\n\t\tif( '0'<=t[i] && t[i]<='9' ){\n\t\t\tif(t[i]=='9') t[i]='0';\n\t\t\telse t[i]++;\n\t\t}\n\t}\n\treturn t;\n}\n\nint main(){\n\n\tint n;\n\tcin>>n;\n\n\tfor(int i=0;i<n;i++){\n\t\tstring t,s;\n\t\tcin>>t>>s;\n\t\tfor(int j=t.size()-1;j>=0;j--){\n\t\t\tif(t[j]=='J') s=J(s);\n\t\t\telse if(t[j]=='C') s=C(s);\n\t\t\telse if(t[j]=='E') s=E(s);\n\t\t\telse if(t[j]=='A') s=A(s);\n\t\t\telse if(t[j]=='P') s=P(s);\n\t\t\telse if(t[j]=='M') s=M(s);\n\t\t}\n\t\tcout<<s<<endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\nusing namespace std;\nint main(){\n\n  int n;\n  cin>>n;\n  for(int cnt=0;cnt<n;cnt++){\n    string com,s;\n    cin>>com>>s;\n  reverse(com.begin(),com.end());\n  for(int i=0;i<com.size();i++){\n    string s0;\n    if(com[i]=='C'){\n      for(int j=1;j<s.size();j++) s0.push_back(s[j]);\n      s0+=s[0];\n    }\n    else  if(com[i]=='J'){\n      s0+=s[s.size()-1];\n      for(int j=0;j<s.size()-1;j++) s0.push_back(s[j]);\n    }\n    else  if(com[i]=='E'){\n      int sLen=s.size();\n      //cout<<sLen<<endl;\n      if(sLen%2) sLen++;\n      sLen/=2;\n      for(int j=sLen;j<s.size();j++) s0.push_back(s[j]);\n      if(s.size()%2) s0.push_back(s[s.size()/2]);\n      for(int j=0;j<s.size()/2;j++) s0.push_back(s[j]);\n    }\n    else  if(com[i]=='A'){\n     reverse(s.begin(),s.end());\n     s0=s;\n    }\n    else  if(com[i]=='M'){\n      for(int j=0;j<s.size();j++){\n\tif('0'<=s[j]&&s[j]<='8') s[j]++;\n\telse if(s[j]=='9') s[j]='0';\n      }\n      s0=s;\n    }\n    else  if(com[i]=='P'){\n      for(int j=0;j<s.size();j++){\n\tif('1'<=s[j]&&s[j]<='9') s[j]--;\n\telse if(s[j]=='0') s[j]='9';\n      }\n      s0=s;\n    }\n    s=s0;\n    //    cout<<com[i]<<\" \"<<s<<endl;\n  }\n  cout<<s<<endl;\n  }\n  return 0;\n  \n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntemplate<class T>\nbool chmax(T& a, const T& b) {\n    if (a < b) { a = b; return true; }\n    return false;\n}\ntemplate<class T>\nbool chmin(T& a, const T& b) {\n    if (b < a) { a = b; return true; }\n    return false;\n}\n\n// std::vector Declaration\ntemplate<typename T>\nvector<T> make_v(size_t a) { return vector<T>(a); }\ntemplate<typename T, typename... Ts>\nauto make_v(size_t a, Ts... ts) {\n    return vector<decltype(make_v<T>(ts...))>(a, make_v<T>(ts...));\n}\n\n// std::vector Declaration and Initialization\ntemplate<typename T>\nvector<T> make_vector(size_t a, T x) { return vector<T>(a, x); }\ntemplate<typename T, typename U, typename... Ts>\nauto make_vector(size_t a, U b, Ts... ts) {\n    return vector<decltype(make_vector<T>(b,ts...))>(a, make_vector<T>(b, ts...));\n}\n\n// std::vector Input\ntemplate<typename T>\nistream& operator>>(istream& is, vector<T>& v) {\n    for (auto &e : v) is >> e;\n    return is;\n}\n\n// std::vector Debug\ntemplate<typename T>\nostream& operator<<(ostream& os, const vector<T>& v) {\n    os << \"[\";\n    bool a = 1;\n    for (auto e : v) {\n        os << (a ? \"\" : \" \");\n        os << e;\n        a = 0;\n    }\n    os << \"]\";\n    return os;\n}\n\n// std::array Debug\ntemplate<typename T, size_t n>\nostream& operator<<(ostream& os, const array<T, n>& v) {\n    os << \"[\";\n    bool a = 1;\n    for (auto e : v) {\n        os << (a ? \"\" : \" \");\n        os << e;\n        a = 0;\n    }\n    os << \"]\";\n    return os;\n}\n\n// std::deque Debug\ntemplate<typename T>\nostream& operator<<(ostream& os, const deque<T>& d) {\n    os << \"[\";\n    bool a = 1;\n    for (auto e : d) {\n        os << (a ? \"\" : \" \");\n        os << e;\n        a = 0;\n    }\n    os << \"]\";\n    return os;\n}\n\n// std::pair Debug\ntemplate<typename T, typename U>\nostream& operator<<(ostream& os, const pair<T, U>& p) {\n    os << \"(\" << p.first << \" \" << p.second << \")\";\n    return os;\n}\n\n// std::set Debug\ntemplate<typename T>\nostream& operator<<(ostream& os, const set<T>& st) {\n    os << \"{\";\n    bool a = 1;\n    for (auto e : st) {\n        os << (a ? \"\" : \" \");\n        os << e;\n        a = 0;\n    }\n    os << \"}\";\n    return os;\n}\n\n// std::multiset Debug\ntemplate<typename T>\nostream& operator<<(ostream& os, const multiset<T>& st) {\n    os << \"{\";\n    bool a = 1;\n    for (auto e : st) {\n        os << (a ? \"\" : \" \");\n        os << e;\n        a = 0;\n    }\n    os << \"}\";\n    return os;\n}\n\n// std::map Debug\ntemplate<typename T, typename U>\nostream& operator<<(ostream& os, const map<T, U>& mp) {\n    os << \"{\";\n    bool a = 1;\n    for (auto e : mp) {\n        os << (a ? \"\" : \" \");\n        os << e.first << \":\" << e.second;\n        a = 0;\n    }\n    os << \"}\";\n    return os;\n}\n\n// std::tuple Debug\ntemplate<int N, class Tuple>\nvoid out(ostream& os, const Tuple& t){}\ntemplate<int N, class Tuple, class H, class ...Ts>\nvoid out(ostream& os, const Tuple& t) {\n    if (N) os << \" \";\n    os << get<N>(t);\n    out<N+1,Tuple,Ts...>(os, t);\n}\ntemplate<class ...Ts>\nostream& operator<<(ostream& os, const tuple<Ts...>& t) {\n    os << \"(\";\n    out<0,tuple<Ts...>,Ts...>(os, t);\n    os << \")\";\n    return os;\n}\n\n// Debug\n#define DUMP(x) cerr<<#x<<\" = \"<<(x)<<endl\n\n// Weighted edge\ntemplate<typename T>\nstruct edge {\n    int src, to;\n    T cost;\n\n    edge() {}\n    edge(int to, T cost) : src(-1), to(to), cost(cost) {}\n    edge(int src, int to, T cost) : src(src), to(to), cost(cost) {}\n\n    friend ostream& operator<<(ostream& os, const edge& e) {\n        return os << \"(\" << e.src << \"->\" << e.to << \":\" << e.cost << \")\";\n    }\n};\n\nusing LL = long long;\n\n#define fs first\n#define sc second\n\nconst LL MOD = 1e9+7;\n\n\nint main()\n{\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    cout << fixed << setprecision(10);\n\n    int n; cin >> n;\n    for (int k = 0; k < n; ++k) {\n        string s, t;\n        cin >> s >> t;\n\n        reverse(s.begin(), s.end());\n\n        for (auto ch : s) {\n            if (ch == 'J') {\n                t = t.substr(t.size()-1,1) + t.substr(0,t.size()-1);\n            }\n            if (ch == 'C') {\n                t = t.substr(1,t.size()-1) + t.substr(0,1);\n            }\n            if (ch == 'E') {\n                if (t.size() & 1) {\n                    t = t.substr(t.size()/2+1, t.size()/2) +\n                        t[t.size()/2] + t.substr(0, t.size()/2);\n                } else {\n                    t = t.substr(t.size()/2, t.size()/2) +\n                        t.substr(0, t.size()/2);\n                }\n            }\n            if (ch == 'A') {\n                reverse(t.begin(), t.end());\n            }\n            if (ch == 'P') {\n                for (int i = 0; i < t.size(); ++i) {\n                    if ('0' <= t[i] && t[i] <= '9') {\n                        t[i] = (t[i] - '0' + 9) % 10 + '0';\n                    }\n                }\n            }\n            if (ch == 'M') {\n                for (int i = 0; i < t.size(); ++i) {\n                    if ('0' <= t[i] && t[i] <= '9') {\n                        t[i] = (t[i] - '0' + 1) % 10 + '0';\n                    }\n                }\n            }\n        }\n\n        cout << t << endl;\n    }\n\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<string>\n#include<cstdlib>\n#include<sstream>\n#include<queue>\n#include<deque>\n#include<cmath>\n#include<algorithm>\n#include<stack>\n#include<map>\n#include<set>\n#include<iomanip>\n#define INF 2147483647\n#define lli long long int\n#define MOD 1000000007\n\nusing namespace std;\ntypedef vector<int> vi;\ntypedef vector< vector<int> > vvi;\ntypedef pair<int,int> pii;\ntypedef vector<pair<int,int>> vpii;\n\nint main() {\n\n\tint n; cin >> n;\n\tfor (int i = 0 ; i < n; i++) {\n\t\tstring trans; cin >> trans;\n\t\tstring org; cin >> org;\n\t\treverse(org.begin(),org.end());\n\t\treverse(trans.begin(),trans.end());\n\n\t\tfor (int i = 0; i < trans.size(); i++){\n\t\t\tif (trans[i] == 'J'){\n\t\t\t\tstring str1 = org.substr(0,1);\t\n\t\t\t\tstring str2 = org.substr(1,org.size()-1);\t\n\t\t\t\torg = str2 + str1;\n\t\t\t}else if (trans[i] == 'C'){\n\t\t\t\tstring str1 = org.substr(0,org.size()-1);\t\n\t\t\t\tstring str2 = org.substr(org.size()-1,1);\t\n\t\t\t\torg = str2 + str1;\n\t\t\t}else if (trans[i] == 'E'){\n\t\t\t\tif (org.size() % 2 == 0){\n\t\t\t\t\tstring str1 = org.substr(0,org.size()/2);\t\n\t\t\t\t\tstring str2 = org.substr((org.size()/2),org.size()-(org.size()/2));\t\n\t\t\t\t\torg = str2 + str1;\n\t\t\t\t}else{\n\t\t\t\t\tstring str1 = org.substr(0,org.size()/2);\t\n\t\t\t\t\tstring str2 = org.substr((org.size()/2),1);\t\n\t\t\t\t\tstring str3 = org.substr((org.size()/2)+1,org.size()-(org.size()/2));\t\n\t\t\t\t\torg = str3 + str2 + str1;\n\t\t\t\t}\n\n\t\t\t}else if (trans[i] == 'A'){\n\t\t\t\treverse(org.begin(),org.end());\n\t\t\t}else if (trans[i] == 'M'){\n\t\t\t\tfor (int j = 0; j < org.size(); j++){\n\t\t\t\t\tif (isdigit(org[j])){\n\t\t\t\t\t\tint tmp = (org[j] - 48 + 1 + 10 )%10;\n\t\t\t\t\t\torg[j] = (tmp + '0');\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else if (trans[i] == 'P'){\n\t\t\t\tfor (int j = 0; j < org.size(); j++){\n\t\t\t\t\tif (isdigit(org[j])){\n\t\t\t\t\t\tint tmp = (org[j] - 48 - 1 + 10)%10;\n\t\t\t\t\t\torg[j] = (tmp + '0');\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treverse(org.begin(),org.end());\n\t\tcout << org << endl;\n\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream> \n#include <string> \n#include <vector> \n#include <cmath> \n#include <algorithm> \n#include <cstdlib> \n#include <ctime> \n#include <cstdio> \n#include <functional> \n#include <set> \n#include <sstream> \n#include <cctype>\n#include <stack>\n#include <queue>\n#include <cstring>\n#include <map>\n \nusing namespace std;\n\nstring J(string s){\n\tstring t=s;\n\tt=t[t.size()-1]+t;\n\tt.erase(t.end()-1);\n\treturn t;\n}\n\nstring C(string s){\n\tstring t=s;\n\tt=t+t[t.size()-1];\n\tt.erase(t.begin());\n\treturn t;\n}\n\nstring E(string s){\n\tstring t=s;\n\tfor(int i=0;i<t.size()/2;i++){\n\t\tswap(t[i],t[t.size()-1-i]);\n\t}\n\n\treturn t;\n}\n\nstring A(string s){\n\tstring t=s;\n\treverse(t.begin(),t.end());\n\treturn t;\n}\n\nstring P(string s){\n\tstring t=s;\n\tfor(int i=0;i<t.size();i++){\n\t\tif( '0'<=t[i] && t[i]<='9' ){\n\t\t\tif(t[i]=='0') t[i]='9';\n\t\t\telse t[i]--;\n\t\t}\n\t}\n\treturn t;\n}\n\nstring M(string s){\n\tstring t=s;\n\tfor(int i=0;i<t.size();i++){\n\t\tif( '0'<=t[i] && t[i]<='9' ){\n\t\t\tif(t[i]=='9') t[i]='0';\n\t\t\telse t[i]++;\n\t\t}\n\t}\n\treturn t;\n}\n\nint main(){\n\n\tint n;\n\tcin>>n;\n\n\tfor(int i=0;i<n;i++){\n\t\tstring t,s;\n\t\tcin>>t>>s;\n\t\tfor(int j=t.size()-1;j>=0;j--){\n\t\t\tif(t[j]=='J') s=J(s);\n\t\t\telse if(t[j]=='C') s=C(s);\n\t\t\telse if(t[j]=='E') s=E(s);\n\t\t\telse if(t[j]=='A') s=A(s);\n\t\t\telse if(t[j]=='P') s=P(s);\n\t\t\telse if(t[j]=='M') s=M(s);\n\t\t}\n\t\tcout<<s<<endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <string>\n#include <cctype>\nusing namespace std;\n\nchar dec(char c) {\n    if(isdigit(c)) {\n        int d = c - '0';\n        d = (d - 1 + 10) % 10;\n        return '0' + d;\n    }\n    return c;\n}\n\nchar inc(char c) {\n    if(isdigit(c)) {\n        int d = c - '0';\n        d = (d + 1) % 10;\n        return '0' + d;\n    }\n    return c;\n}\n\nint main() {\n    int N; cin >> N;\n    while(N--) {\n        string op; cin >> op;\n        reverse(op.begin(), op.end());\n        string s; cin >> s;\n        for(char c : op) {\n            if(c == 'J') s = s.substr(s.length() - 1) + s.substr(0, s.length() - 1);\n            if(c == 'C') s = s.substr(1) + s.substr(0, 1);\n            if(c == 'E') {\n                if(s.length() & 1) {\n                    s = s.substr(s.length() / 2 + 1) + s.substr(s.length() / 2, 1) + s.substr(0, s.length() / 2);\n                }\n                else {\n                    s = s.substr(s.length() / 2) + s.substr(0, s.length() / 2);\n                }\n            }\n            if(c == 'A') reverse(s.begin(), s.end());\n            if(c == 'P') for(int i = 0; i < (int)s.length(); i++) s[i] = dec(s[i]);\n            if(c == 'M') for(int i = 0; i < (int)s.length(); i++) s[i] = inc(s[i]);\n        }\n        cout << s << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define rep(i,n) for(int i=0;i<(n);i++)\nvoid f(string &ss,char c) {\n    if(c == 'C') {\n        char t = ss[0];\n        rep(i,ss.size()-1) ss[i] = ss[i+1];\n        ss[ss.size()-1] = t;\n    }\n    else if(c=='J') {\n        char t = ss[ss.size()-1];\n        for(int i = ss.size()-1; i>=1; i--) ss[i] = ss[i-1];\n        ss[0] = t;\n    }\n    else if(c=='E') {\n        string l = ss.substr(0,ss.size()/2);\n        string r = ss.substr((ss.size()+1)/2,ss.size()/2);\n        string center = \"\";\n            \n        if(ss.size()&1) {\n            center = ss[ss.size()/2];\n\n        }\n        ss = r + center + l;\n    }\n    else if(c=='A') {\n        reverse(ss.begin(), ss.end());\n    }\n    else if(c=='M') {\n        rep(i,ss.size()) {\n            if('0'<=ss[i]&&ss[i]<='9') {\n                if('9'==ss[i]) ss[i] = '0';\n                else ss[i]++;\n            }\n        }\n    }\n    else if(c=='P') {\n        rep(i,ss.size()) {\n            if('0'<=ss[i]&&ss[i]<='9') {\n                if('0'==ss[i]) ss[i] = '9';\n                else ss[i]--;\n            }\n        }\n\n    }\n}\nint main() {\n    int n;\n    cin>>n;\n    rep(i,n) {\n        string ss1,ss2;\n        cin>>ss1>>ss2;\n        reverse(ss1.begin(),ss1.end());\n        rep(j,ss1.size()) f(ss2,ss1[j]);\n        cout<<ss2<<endl;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<vector>\n#include<cstdio>\nusing namespace std;\nint main(){\n  int n;\n  string x;\n  string st;\n  cin >>n;\n  for(int i=0;i<n;i++){\n    cin >> x;\n    cin >> st;\n    for(int j=x.size()-1;j>=0;j--){\n      if(x[j]=='C'){\n\tchar stock;\n\tstock = st[0];\n\tst.erase(st.begin());\n\tst+=stock;\n      }\n      else if(x[j]=='J'){\n\tchar stock;\n\tstock = st[st.size()-1];\n\t//\tcout << \"p1\"<<endl;\n\tst.erase(st.size()-1);\n\t//cout <<\"p2\"<<endl;\n\tst.insert(st.begin(),stock);\n      }\n      else if(x[j]=='E'){\n\tstring stock;\n\tint l=st.size()/2;\n\tfor(int k=0;k<l;k++){\n\t  stock+=st[k];\n\t}\n\tstring stock2;\n\tint od = st.size()%2;\n\tfor(int k=l+od;k<l*2+od;k++){\n\t  stock2+=st[k];\n\t}\n\tchar st3;\n\tif(od==1){st3+=st[l];\n\t  st=stock2+st3+stock;\n\t}\n\telse{\n\t  st=stock2+stock;\n\t}\n      }\n      else if(x[j]=='A'){\n\tstring stock;\n\tfor(int k=0;st.empty()!=true;k++){\n\t  stock += st[0];\n\t  st.erase(st.begin());\n\t}\n\t//cout << stock <<endl;\n\tfor(int k=stock.size()-1;k>=0;k--){\n\t  st+=stock[k];\n\t}\n      }\n      else if(x[j]=='M'){\n\tfor(int k=0;k<st.size();k++){\n\t  if(st[k]>='0'&&st[k]<'9'){\n\t    st[k]++;\n\t  }\n\t  else if(st[k]=='9'){\n\t    st[k]='0';\n\t  }\n\t}\n      }\n      else if(x[j]=='P'){\n\tfor(int k=0;k<st.size();k++){\n\t  if(st[k]>'0'&&st[k]<='9'){\n\t    st[k]--;\n\t  }\n\t  else if(st[k]=='0'){\n\t    st[k]='9';\n\t  }\n\t}\n      }\t\n\n      //cout <<\"it is \"<<x[j]<<endl;\n      //cout << st << endl;\n    }\n    cout << st << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <list>\nusing namespace std;\n\nint main(){\n  int n;\n  cin >> n;\n  while(n--){\n    string s,t;\n    cin >> s >> t;\n\n    list<char> p;\n    for(int i=t.length()-1; i>=0; i--){\n      p.push_front(t[i]);\n    }\n\n    for(int i=s.length()-1; i>=0; i--){\n      for(list<char>::iterator it=p.begin(); it!=p.end(); ++it)\n\tcout << *it;\n      cout << endl;\n      \n      if(s[i]=='J'){\n\tp.push_front(p.back());\n\tp.pop_back();\n      }\n      else if(s[i]=='C'){\n\tp.push_back(p.front());\n\tp.pop_front();\n      }\n      else if(s[i]=='E'){\n\tif(t.length()%2==0){\n\t  for(int j=0; j<t.length()/2; j++){\n\t    p.push_front(p.back());\n\t    p.pop_back();\n\t  }\n\t}\n\telse{\n\t  for(int j=0; j<(t.length()-1)/2; j++){\n\t    p.push_front(p.back());\n\t    p.pop_back();\n\t  }\n\t  list<char>::iterator it; it=p.begin();\n\t  for(int j=0; j<(t.length()-1)/2; j++)\n\t    it++;\n\t  p.insert(it,p.back());\n\t  p.pop_back();\n\t}\n      }\n      else if(s[i]=='A'){\n\tp.reverse();\n      }\n      else if(s[i]=='P'){\n\tfor(list<char>::iterator it=p.begin(); it!=p.end(); ++it){\n\t  if(isdigit(*it)){\n\t    int a = *it-'0';\n\t    a+=9;\n\t    a%=10;\n\t    *it = a+'0';\n\t  }\n\t}\n      }\n      else{\n\tfor(list<char>::iterator it=p.begin(); it!=p.end(); ++it){\n\t  if(isdigit(*it)){\n\t    int a = *it-'0';\n\t    a+=11;\n\t    a%=10;\n\t    *it = a+'0';\n\t  }\n\t}\n      }\n    }\n    \n    for(list<char>::iterator it=p.begin(); it!=p.end(); ++it)\n      cout << *it;\n    cout << endl;\n    \n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main() {\n  int n;\n  cin >> n;\n\n  while ( n-- ) {\n    string ord, mes;\n    cin >> ord >> mes;\n\n    int l = (int)mes.size();    \n    for ( int i = (int)ord.size()-1; i >= 0; i-- ) {      \n      if ( ord[i] == 'J' ) {\n\tint c = mes[l-1];\n\tfor ( int i = l-1; i > 0; i-- ) mes[i] = mes[i-1];\n\tmes[0] = c;\t\n      } else if ( ord[i] == 'C' ) {\n\tint c = mes[0];\n\tfor ( int i = 0; i < l-1; i++ ) mes[i] = mes[i+1];\n\tmes[l-1] = c;\t\n      } else if ( ord[i] == 'E' ) {\n\tstring a = \"\", b = \"\", c = \"\";\t\n\tfor ( int i = 0; i < l; i++ ) {\n\t  if ( l%2 && i == l/2 ) b += mes[i];\n\t  else if ( i < l/2 ) c += mes[i];\n\t  else a += mes[i];\t  \n\t}\n\tmes = a+b+c;\t\n      } else if ( ord[i] == 'A' ) {\n\treverse(mes.begin(), mes.end());\t\n      } else if ( ord[i] == 'P' ) {\t\n\tfor ( int i = 0; i < l; i++ ) {\n\t  if ( mes[i] == '0' ) mes[i] = '9';\n\t  else if ( isdigit(mes[i]) ) mes[i]--;\t  \n\t}\t  \n      } else {\n\tfor ( int i = 0; i < l; i++ ) {\n\t  if ( mes[i] == '9' ) mes[i] = '0';\n\t  else if ( isdigit(mes[i]) ) mes[i]++;\t  \n\t}\n      }      \n    }\n\n    cout << mes << endl;\n  }\n  \n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\n#include<cctype>\n#include<sstream>\nusing namespace std;\n\nstring J(string str){\n    char tmp = str[str.size() - 1];\n    for(int i = str.size() - 1; i > 0; i--) str[i] = str[i - 1];\n    str[0] = tmp;\n    return str;\n}\n\nstring C(string str){\n    char tmp = str[0];\n    for(int i = 0; i < str.size() - 1; i++) str[i] = str[i + 1];\n    str[str.size() - 1] = tmp;\n    return str;\n}\nstring E(string str){\n    string s1, s2;\n    int strSize = str.size() / 2;\n    if(str.size() % 2 != 0) strSize++;\n    s2 = str.substr(strSize);\n    s1 = str.substr(0, s2.size());\n    if(str.size() % 2 == 0) return s2 + s1;\n    else return s2 + str[str.size() / 2] + s1;\n}\n\nstring A(string str){\n    reverse(str.begin(), str.end());\n    return str;\n}\n\nstring P(string str){\n    stringstream ss;\n    for(int i = 0; i < str.size(); i++){\n        if(isalpha(str[i])){\n            ss <<str[i];\n        } else{\n            int tmp = str[i] - '0';\n            tmp--;\n            if(tmp == -1) tmp = 9;\n            ss <<tmp;\n        }\n    }\n    return ss.str();\n}\n\nstring M(string str){\n    stringstream ss;\n    for(int i = 0; i < str.size(); i++){\n        if(isalpha(str[i])){\n            ss <<str[i];\n        } else{\n            int tmp = str[i] - '0';\n            tmp++;\n            if(tmp == 10) tmp = 0;\n            ss <<tmp;\n        }\n    }\n    return ss.str();\n\n}\nint main(){\n    int n;\n    cin >>n;\n    for(int i = 0; i < n; i++){\n        string str, ser;\n        cin >>ser >>str;\n        reverse(ser.begin(), ser.end());\n        for(int i = 0; i < ser.size(); i++){\n            switch(ser[i]){\n                case 'J':\n                    str = J(str); break;\n                case 'C':\n                    str = C(str); break;\n                case 'E':\n                    str = E(str); break;\n                case 'A':\n                    str = A(str); break;\n                case 'P':\n                    str = P(str); break;\n                case 'M':\n                    str = M(str);\n            }\n        }\n        cout <<str <<endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <string.h>\nint main() {\n    int N,i,j,k,q;char T[50],c[9];scanf(\"%d\",&N);while (N--) {\n        scanf(\"%s%s\",&c,&T);j=strlen(c),k=strlen(T)-1;\n        while (j--) {\n            if (c[j]=='P') {\n                for (i=k;i>=0;i--) if (T[i]>='1' && T[i]<='9') T[i]--; else if (T[i]=='0') T[i]='9';}\n            } else if (c[j]=='M') {\n                for (i=k;i>=0;i--) if (T[i]>='0' && T[i]<='8') T[i]++; else if (T[i]=='9') T[i]='0';}\n            } else if (c[j]=='E') {\n                for (i=k,q=(k-1)/2;q>=0;i--,q--) swap(T[i],T[q]);\n            } else if (c[j]=='A') {\n                for (i=0,q=k;i<q;i++,q--) swap(T[i],T[q]);\n            } else if (c[j]=='J') {\n                c[8]=T[k];for (i=k;i>0;i--) T[i]=T[i-1];T[0]=c[8];\n            } else {\n                c[8]=T[0];for (i=0;i<k;i++) T[i]=T[i+1];T[k]=c[8];\n            }\n        }\n        puts(T);\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <algorithm>\n#include <string>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <cstring>\n#include <vector>\n#include <list>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n\nusing std::cin;\nusing std::cout;\nusing std::endl;\nusing std::setprecision;\nusing std::fixed;\nusing std::pair;\nusing std::make_pair;\nusing std::string;\nusing std::vector;\nusing std::list;\nusing std::map;\nusing std::set; // insert erase find count\nusing std::queue;\nusing std::priority_queue;\nusing std::stack;\n/* c++11\n#include <tuple>\nusing std::tuple; \nusing std::make_tuple;\nusing std::get; // tuple std::get<NUM>(t); (0 <= NUM <= 2)\n */\n\ntypedef vector<int> VI;\ntypedef vector<vector<int> > VVI;\ntypedef vector<string> VS;\ntypedef pair<int, int> PII;\ntypedef pair<int, pair<int, int> > PIII;\n\nvoid j(string &s) {\n    int length = s.length();\n    s = s.substr(length - 1, 1) + s.substr(0, length - 1);\n    return;\n}\n\nvoid c(string &s) {\n    int length = s.length();\n    s = s.substr(1, length - 1) + s.substr(0, 1);\n    return;\n}\n\nvoid e(string &s) {\n    int length = s.length();\n    if (length % 2 == 0) {\n        s = s.substr(length / 2, length / 2) + s.substr(0, length / 2);\n    } else {\n        s = s.substr(length / 2 + 1, length / 2) + s.substr(length / 2, 1) + s.substr(0, length / 2);\n    }\n    return;\n}\nvoid a(string &s) {\n    reverse(s.begin(), s.end());\n    return;\n}\n\nvoid p(string &s) {\n    int length = s.length();\n    for (int i = 0; i < length; i++) {\n        if (s[i] > '0' && s[i] <= '9') {\n            s[i]--;\n        } else if (s[i] == '0') {\n            s[i] = '9'; \n        }\n    }\n    return;\n}\n\nvoid m(string &s) {\n    int length = s.length();\n    for (int i = 0; i < length; i++) {\n        if (s[i] >= '0' && s[i] < '9') {\n            s[i]++;\n        } else if (s[i] == '9') {\n            s[i] = '0'; \n        }\n    }\n    return;\n}\n\nint main(void) {\n    int n;\n    cin >> n;\n    string order;\n    string mess;\n    for (int loop = 0; loop < n; loop++) {\n        cin >> order >> mess;\n        int order_length = order.length();\n        for (int i = order_length - 1; i >= 0; i--) {\n            if (order[i] == 'J') {\n                j(mess);\n            } else if (order[i] == 'C') {\n                c(mess);\n            } else if (order[i] == 'E') {\n                e(mess);\n            } else if (order[i] == 'A') {\n                a(mess);\n            } else if (order[i] == 'P') {\n                p(mess);\n            } else if (order[i] == 'M') {\n                m(mess);\n            }\n        }\n        cout << mess << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define REP(i, a, n) for(ll i = ((ll) a); i < ((ll) n); i++)\nusing namespace std;\ntypedef long long ll;\n\nint main(void) {\n  ll N;\n  cin >> N;\n  vector<string> order(N), message(N);\n  REP(i, 0, N) cin >> order[i] >> message[i];\n\n  REP(i, 0, N) {\n    string s(message[i]);\n    ll l = message[i].length();\n\n    REP(j, 0, order[i].size()) {\n      char c = order[i][order[i].size() - j - 1];\n      string t(s);\n\n      if(c == 'J') {\n        REP(k, 0, l) t[(k + 1 + l) % l] = s[k];\n      }\n      if(c == 'C') {\n        REP(k, 0, l) t[(k - 1 + l) % l] = s[k];\n      }\n      if(c == 'E') {\n        REP(k, 0, l / 2) swap(t[k], t[k + l / 2 + l % 2]);\n      }\n      if(c == 'A') {\n        reverse(t.begin(), t.end());\n      }\n      if(c == 'P') {\n        REP(k, 0, l) if('0' <= t[k] && t[k] <= '9') {\n          t[k] = (t[k] - 1 - '0' + 10) % 10 + '0';\n        }\n      }\n      if(c == 'M') {\n        REP(k, 0, l) if('0' <= t[k] && t[k] <= '9') {\n          t[k] = (t[k] + 1 - '0' + 10) % 10 + '0';\n        }\n      }\n\n      swap(s, t);\n    }\n\n    cout << s << endl;\n  }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n// region template\n#define rep(i, a, b) for (int i = (a); i < (b); ++i)\n#define trav(a, x) for (auto &a : x)\n#define all(x) begin(x), end(x)\n#define sz(x) (int)(x).size()\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int, int> pii;\ntypedef vector<int> vi;\n\nll gcd(ll a, ll b) { return __gcd(a, b); }\n\nll euclid(ll a, ll b, ll &x, ll &y) {\n    if (b) {\n        ll d = euclid(b, a % b, y, x);\n        return y -= a / b * x, d;\n    }\n    return x = 1, y = 0, a;\n}\n\ntypedef unsigned long long ull;\ntypedef long double ld;\null mod_mul(ull a, ull b, ull M) {\n    ll ret = a * b - M * ull(ld(a) * ld(b) / ld(M));\n    return ret + M * (ret < 0) - M * (ret >= (ll)M);\n}\null mod_pow(ull b, ull e, ull mod) {\n    ull ans = 1;\n    for (; e; b = mod_mul(b, b, mod), e /= 2)\n        if (e & 1)\n            ans = mod_mul(ans, b, mod);\n    return ans;\n}\n\nconst ll mod = 1000000007;\nstruct Mod {\n    ll x;\n    Mod(ll xx) : x(xx) {}\n    Mod operator+(Mod b) { return Mod((x + b.x) % mod); }\n    Mod operator-(Mod b) { return Mod((x - b.x) % mod); }\n    Mod operator*(Mod b) { return Mod((x * b.x) % mod); }\n    Mod operator/(Mod b) { return *this * invert(b); }\n    Mod invert(Mod a) {\n        ll x, y, g = euclid(a.x, mod, x, y);\n        assert(g == 1);\n        return Mod((x + mod) % mod);\n    }\n    Mod operator^(ll e) {\n        if (!e)\n            return Mod(1);\n        Mod r = *this ^ (e / 2);\n        r = r * r;\n        return e & 1 ? *this * r : r;\n    }\n};\n// endregion\n\nint dp[11][156];\n\nstring unj(string s) {\n    int n = s.length();\n    return s.substr(n - 1) + s.substr(0, n - 1);\n}\n\nstring unc(string s) {\n    int n = s.length();\n    return s.substr(1) + s.substr(0, 1);\n}\n\nstring une(string s) {\n    int n = s.length();\n    if (s.size() & 1) {\n        return s.substr(n / 2 + 1) + s.substr(n / 2, 1) + s.substr(0, n / 2);\n    } else {\n        return s.substr(n / 2) + s.substr(0, n / 2);\n    }\n}\n\nstring una(string s) {\n    return string(s.rbegin(), s.rend());\n}\n\nstring unp(string s) {\n    for (char &c : s) if (isdigit(c)) c = '0' + (c - '0' + 9) % 10;\n    return s;\n}\n\nstring unm(string s) {\n    for (char &c : s) if (isdigit(c)) c = '0' + (c - '0' + 1) % 10;\n    return s;\n}\n\nint main() {\n    cin.sync_with_stdio(0);\n    cin.tie(0);\n    cin.exceptions(cin.failbit);\n\n    int n; cin >> n;\n    rep(i, 0, n) {\n        string ins, str; cin >> ins >> str;\n        reverse(all(ins));\n        for (char c : ins) {\n            if (c == 'J') str = unj(str);\n            if (c == 'C') str = unc(str);\n            if (c == 'E') str = une(str);\n            if (c == 'A') str = una(str);\n            if (c == 'P') str = unp(str);\n            if (c == 'M') str = unm(str);\n        }\n        cout << str << endl;\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\n\nusing namespace std;\n\nint main(int argc, char const *argv[])\n{\n\tstring order;\n\tstring mess;\n\n\tint n;\n\tint sz;\n\n\tcin>>n;\n\n\tfor(int i1=0;i1<n;i1++){\n\t\tcin>>order;\n\t\tcin>>mess;\n\n\t\treverse(order.begin(), order.end());\n\t\tsz=mess.size();\n\n\t\tfor(int i2=0;i2<order.size();i2++){\n\t\t\tif(order[i2]=='J'){\n\t\t\t\tmess=mess[sz-1]+mess.substr(0,sz-1);\n\t\t\t}\n\t\t\telse if(order[i2]=='C'){\n\t\t\t\tmess=mess.substr(1,sz-1)+mess[0];\n\t\t\t}\n\t\t\telse if(order[i2]=='E'){\n\t\t\t\tstring l,r;\n\t\t\t\tl=mess.substr(0,sz/2);\n\t\t\t\t\n\t\t\t\tif(sz%2==0){\t\n\t\t\t\t\tr=mess.substr(sz/2,sz/2);\n\t\t\t\t\tmess=r+l;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tr=mess.substr(sz/2+1,sz/2);\n\t\t\t\t\tmess=r+mess[sz/2]+l;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(order[i2]=='A'){\n\t\t\t\treverse(mess.begin(), mess.end());\n\t\t\t}\n\t\t\telse if(order[i2]=='P'){\n\t\t\t\tfor(int i3=0;i3<sz;i3++){\n\t\t\t\t\tif(mess[i3]>='1' && mess[i3]<='9') mess[i3]--;\n\t\t\t\t\telse if(mess[i3]=='0') mess[i3]='9';\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {// M\n\t\t\t\tfor(int i3=0;i3<sz;i3++){\n\t\t\t\t\tif(mess[i3]>='0' && mess[i3]<='8') mess[i3]++;\n\t\t\t\t\telse if(mess[i3]=='9') mess[i3]='0';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcout<<mess<<endl;\n\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define rep(i, n) REP((i), 0, (n))\n#define REP(i, a, n) for(int i=(a); i<(n); i++)\n\nvoid j_inv(string& s) {\n    s = s.back() + s.substr(0, s.size()-1);\n}\n\nvoid c_inv(string& s) {\n    s = s.substr(1, s.size()-1) + s[0];\n}\n\nvoid e_inv(string& s) {\n    if(s.size()%2 == 0)\n        s = s.substr(s.size()/2, s.size()/2) + s.substr(0, s.size()/2);\n    else\n        s = s.substr(s.size()/2+1, s.size()/2) + s[s.size()/2] + s.substr(0, s.size()/2);\n}\n\nvoid a_inv(string& s) {\n    reverse(s.begin(), s.end());\n}\n\nvoid p_inv(string& s) {\n    rep(i, s.size())\n        if(isdigit(s[i])) s[i] = (s[i]=='0'? '9':s[i]-1);\n}\n\nvoid m_inv(string& s) {\n    rep(i, s.size())\n        if(isdigit(s[i])) s[i] = (s[i]=='9'? '0':s[i]+1); \n}\n\nint main() {\n    int n; cin >> n;\n    rep(_, n) {\n        string m; cin >> m;\n        string s; cin >> s;\n        for(int j=m.size()-1; j>=0; j--) {\n            switch(m[j]) {\n                case 'J': j_inv(s); break;\n                case 'C': c_inv(s); break;\n                case 'E': e_inv(s); break;\n                case 'A': a_inv(s); break;\n                case 'P': p_inv(s); break;\n                case 'M': m_inv(s); break;\n            }\n        }\n        cout << s << endl;\n    }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nint main(){\n\tint N;\n\tcin >> N;\n\twhile(N--){\n\t\tstring order, mess;\n\t\tcin >> order >> mess;\n\t\tfor(int i = order.size() - 1; i >= 0; i--){\n\t\t\tchar c;\n\t\t\tswitch(order[i]){\n\t\t\t\tcase 'J':\n\t\t\t\t\tc = mess[mess.size() - 1];\n\t\t\t\t\tfor(int j = mess.size() - 1; j > 0; j--){\n\t\t\t\t\t\tmess[j] = mess[j - 1];\n\t\t\t\t\t}\n\t\t\t\t\tmess[0] = c;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'C':\n\t\t\t\t\tc = mess[0];\n\t\t\t\t\tfor(int j = 1; j < mess.size(); j++){\n\t\t\t\t\t\tmess[j - 1] = mess[j];\n\t\t\t\t\t}\n\t\t\t\t\tmess[mess.size() - 1] = c;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'E':\n\t\t\t\t\tif(mess.size() % 2){\n\t\t\t\t\t\tmess = mess.substr(mess.size() / 2 + 1) + mess[mess.size() / 2] + mess.substr(0, mess.size() / 2);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tmess = mess.substr(mess.size() / 2) + mess.substr(0, mess.size() / 2) ;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'A':\n\t\t\t\t\treverse(mess.begin(), mess.end());\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'P':\n\t\t\t\t\tfor(int i = 0; i < mess.size(); i++){\n\t\t\t\t\t\tc = mess[i];\n\t\t\t\t\t\tif('0' <= c && c <= '9'){\n\t\t\t\t\t\t\tmess[i] = (c - '0' + 9) % 10 + '0';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'M':\n\t\t\t\t\tfor(int i = 0; i < mess.size(); i++){\n\t\t\t\t\t\tc = mess[i];\n\t\t\t\t\t\tif('0' <= c && c <= '9'){\n\t\t\t\t\t\t\tmess[i] = (c - '0' + 1) % 10 + '0';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tcout << mess << endl;\n\t}\n\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n#define pb push_back\n#define mt make_tuple\n#define all(a) (a).begin(),(a).end()\n#define frep(i,a,n) for(int i=(a);i<(n);++i)\n#define rep(i, n) for(int i=0;i<(n);++i)\n#define rrep(i, n) for(int i=n-1;i>=0;--i)\n#define debug(x) cout << #x << \" : \" << x << \" ------------ \" << endl;\nusing namespace std;\nint main()\n{\n    int n;\n    cin >> n;\n    while (n--) {\n        string o;\n        cin >> o;\n        string m;\n        cin >> m;\n        \n        rrep (i, o.length()) {\n            switch (o[i]) {\n                case 'A':\n                    reverse(all(m));\n                    break;\n                case 'J':\n                    rotate(m.rbegin(), m.rbegin() + 1, m.rend());\n                    break;\n                case 'C':\n                    rotate(m.begin(), m.begin() + 1, m.end());\n                    break;\n                case 'P': {\n                    auto it = m.begin();\n                    while (it != m.end()) {\n                        if (isdigit(*it) && --(*it) < '0') *it = '9';\n                        ++it;\n                    }\n                    break; }\n                case 'M': {\n                    auto it = m.begin();\n                    while (it != m.end()) {\n                        if (isdigit(*it) && ++(*it) > '9') *it = '0';\n                        ++it;\n                    }\n                    break; }\n                case 'E': {\n                    int len = m.length();\n                    string f = m.substr(0, len / 2);\n                    char mdl = m.length() % 2 ? m[len / 2] : 0;\n                    string b = m.substr((len + 1) / 2);\n                    m = f;\n                    if (mdl) m += mdl;\n                    m += b;\n                    break; }\n                default:\n                    break;\n            }\n        }\n        cout << m << endl;\n    }\n    return EXIT_SUCCESS;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\n\nusing namespace std;\n\nint main(int argc, char const *argv[])\n{\n\tstring order;\n\tstring mess;\n\n\tint n;\n\tint sz;\n\n\tcin>>n;\n\n\tfor(int i1=0;i1<n;i1++){\n\t\tcin>>order;\n\t\tcin>>mess;\n\n\t\treverse(order.begin(), order.end());\n\t\tsz=mess.size();\n\n\t\tfor(int i2=0;i2<order.size();i2++){\n\t\t\tif(order[i2]=='J'){\n\t\t\t\tmess=mess[sz-1]+mess.substr(0,sz-1);\n\t\t\t}\n\t\t\telse if(order[i2]=='C'){\n\t\t\t\tmess=mess.substr(1,sz-1)+mess[0];\n\t\t\t}\n\t\t\telse if(order[i2]=='E'){\n\t\t\t\tstring l=mess.substr(0,sz/2);\n\t\t\t\tstring r=mess.substr(sz/2,sz/2);\n\n\t\t\t\tif(sz%2==0) mess=r+l;\n\t\t\t\telse mess=r+mess[sz]+l;\n\t\t\t}\n\t\t\telse if(order[i2]=='A'){\n\t\t\t\treverse(mess.begin(), mess.end());\n\t\t\t}\n\t\t\telse if(order[i2]=='P'){\n\t\t\t\tfor(int i3=0;i3<sz;i3++){\n\t\t\t\t\tif(mess[i3]>='1' && mess[i3]<='9') mess[i3]--;\n\t\t\t\t\telse if(mess[i3]=='0') mess[i3]='9';\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {// M\n\t\t\t\tfor(int i3=0;i3<sz;i3++){\n\t\t\t\t\tif(mess[i3]>='0' && mess[i3]<='8') mess[i3]++;\n\t\t\t\t\telse if(mess[i3]=='9') mess[i3]='0';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcout<<mess<<endl;\n\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <cctype>\n\nusing namespace std;\n\nstring revJ(string s) {\n  return s[s.size()-1] + s.substr(0, s.size()-1);\n}\n\nstring revC(string s) {\n  return s.substr(1) + s[0];\n}\n\nstring revE(string s) {\n  int n = s.size();\n  string ret = s.substr(n-n/2);\n  if(n % 2) ret += s[n/2];\n  ret += s.substr(0, n/2);\n  return ret;\n}\n\nstring revA(string s) {\n  reverse(s.begin(), s.end());\n  return s;\n}\n\nstring revP(string s) {\n  for(int i=0; i<s.size(); i++)\n    if(isdigit(s[i])) s[i] = static_cast<char>(((s[i]-'0') + 9) % 10 + '0');\n  return s;\n}\n\nstring revM(string s) {\n  for(int i=0; i<s.size(); i++)\n    if(isdigit(s[i])) s[i] = static_cast<char>(((s[i]-'0') + 11) % 10 + '0');\n  return s;\n}\n\nint main() {\n  int n;\n  cin >> n;\n  \n  while(n--) {\n    string cmd, s;\n    cin >> cmd >> s;\n    reverse(cmd.begin(), cmd.end());\n    int Ncmd = cmd.size();\n    for(int i=0; i<Ncmd; i++) {\n      switch(cmd[i]) {\n      case 'A': s = revA(s); break;\n      case 'C': s = revC(s); break;\n      case 'E': s = revE(s); break;\n      case 'J': s = revJ(s); break;\n      case 'M': s = revM(s); break;\n      case 'P': s = revP(s); break;\n      }\n    }\n    cout << s << endl;\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nstring J(const string& s)\n{\n    int lasti = s.size() - 1;\n    return s[lasti] + s.substr(0, lasti);\n}\n\nstring C(const string& s)\n{\n    return s.substr(1) + s[0];\n}\n\nstring E(const string& s)\n{\n    int size = s.size();\n    int hsize = size / 2;\n    if(size&1) return s.substr(hsize+1) + s[hsize] + s.substr(0, hsize);\n    else return s.substr(hsize) + s.substr(0, hsize);\n}\n\nstring A(const string& s)\n{\n    return string(s.rbegin(), s.rend());\n}\n\nstring P(const string& s)\n{\n    string r;\n    for(basic_string<char>::const_iterator i=s.begin(); i!=s.end(); i++)\n    {\n        r.push_back(('0'<=*i && *i<='9') ? (*i - '0' + 9) % 10 + '0' : *i);\n    }\n    return r;\n}\n\nstring M(const string& s)\n{\n    string r;\n    for(basic_string<char>::const_iterator i=s.begin(); i!=s.end(); i++)\n    {\n        r.push_back(('0'<=*i && *i<='9') ? (*i - '0' + 1) % 10 + '0' : *i);\n    }\n    return r;\n}\n\n\n\nint main()\n{\n    string (*op[128])(const string&);\n    op['J'] = J;\n    op['C'] = C;\n    op['E'] = E;\n    op['A'] = A;\n    op['P'] = P;\n    op['M'] = M;\n\n    int n;\n    cin >> n;\n    while(n--)\n    {\n        string cmd, text;\n        cin >> cmd >> text;\n        for(basic_string<char>::reverse_iterator i=cmd.rbegin(); i!=cmd.rend(); i++)\n        {\n            text = op[*i](text);\n        }\n        cout << text << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\n\nint main(){\n    int n;\n    cin >> n;\n    while( n-- ){\n        string p, m;\n        cin >> p >> m;\n        reverse( p.begin(), p.end() );\n        for( size_t i = 0; i < p.length(); i++ ){\n            if( p[i] == 'J' ){\n                char tmp = m[m.length() - 1];\n                for( size_t j = m.length() - 1; j > 0; j-- ){\n                    //if( j == 0 ){\n                    //}else{\n                        m[j] = m[j-1];\n                    //}\n                    //cout << m[j] << endl;\n                }\n                m[0] = tmp;\n                break;\n            }if( p[i] == 'C' ){\n                char tmp = m[0];\n                for( size_t j = 0; j < m.length(); j++ ){\n                    if( j == m.length() - 1 ) m[j] = tmp;\n                    else m[j] = m[j+1];\n                }\n                break;\n            }if( p[i] == 'E' ){\n                string tmp = m.substr( 0, m.length() / 2 );\n                m = m.substr( (m.length() + 1) / 2 );\n                m.append( tmp );\n                break;\n            }if( p[i] == 'A' ){\n                reverse( m.begin(), m.end() );\n                break;\n            }if( p[i] == 'J' ){\n                for( size_t j = 0; j < m.length(); j++ ){\n                    if( '1' <= m[j] && m[j] <= '9' ){\n                        m[j]--;\n                    }else if( '0' == m[j] ){\n                        m[j] = '9';\n                    }\n                }\n                break;\n            }if( p[i] == 'M' ){\n                for( size_t j = 0; j < m.length(); j++ ){\n                    if( '0' <= m[j] && m[j] <= '8' ){\n                        m[j]++;\n                    }else if( '9' == m[j] ){\n                        m[j] = '0';\n                    }\n                }\n                break;\n            }\n        }\n        cout << m << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\n#include <cctype>\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define REP(i,n) for(int i=0;i<(n);i++)\nusing namespace std;\n\nint main()\n{\n  int n;\n  cin >> n;\n  REP(i,n){\n    string o, m;\n    cin >> o >> m;\n    reverse(o.begin(), o.end());\n    REP(j,(int)o.size()){\n      if(o[j] == 'J'){\n        m = m[m.size()-1] + m.substr(0,m.size()-1);\n      }else if(o[j] == 'C'){\n        m = m.substr(1,m.size()-1) + m[0];\n      }else if(o[j] == 'E'){\n        int x = m.size()/2;\n        if(m.size() & 1)\n          m = m.substr(x+1,x) + m[x] + m.substr(0,x);\n        else\n          m = m.substr(x,x) + m.substr(0,x);\n      }else if(o[j] == 'A'){\n        reverse(m.begin(), m.end());\n      }else if(o[j] == 'P'){\n        REP(k,(int)m.size()){\n          if(isdigit(m[k])){\n            m[k]--;\n            if(!isdigit(m[k]))\n              m[k] = '9';\n          }\n        }\n      }else if(o[j] == 'M'){\n        REP(k,(int)m.size()){\n          if(isdigit(m[k])){\n            m[k]++;\n            if(!isdigit(m[k]))\n              m[k] = '0';\n          }\n        }\n      }\n    }\n    cout << m << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define FOR for(int k = 0; k < si2; k++)\n#define M(a) ('0'<=a&&a<='9')?(a-'0'+1)%10+'0':a\n#define P(a) ('0'<=a&&a<='9')?(a-'0'-1+10)%10+'0':a\n\nint main(){\n\tint n, si, si2;\n\tstring str, str2, temp;\n\tcin>>n;\n\tfor(int i = 0; i < n; i++){\n\t\tcin>>str>>str2;\n\t\tsi = str.size(); si2 = str2.size();\n\t\tfor(int j = si-1; j >= 0; j--, str2 = temp){\n\t\t\ttemp.clear();\n\t\t\tswitch(str[j]){\n\t\t\t\tcase 'C':FOR temp += str2[(k+1)%si2];\t\t\tbreak;\n\t\t\t\tcase 'J':FOR temp += str2[(k-1+si2)%si2];\t\tbreak;\n\t\t\t\tcase 'E':if(si2%2){str2+=str2[si2/2]; \n\t\t\t\t\t\t FOR temp += str2[(k+(si2+1)/2)%(si2+1)];}\n\t\t\t\t\t\t else FOR temp += str2[(k+si2/2)%si2];\tbreak;\n\t\t\t\tcase 'A':FOR temp += str2[si2-k-1];break;\n\t\t\t\tcase 'M':FOR temp += M(str2[k]);\t\t\t\tbreak;\n\t\t\t\tcase 'P':FOR temp += P(str2[k]);\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tcout<<str2<<endl;\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <functional>\n#include <cstdlib>\n#include <sstream>\n#include <string>\n#include <set>\n#include <map>\n#include <stack>\n#include <queue>\n#include <deque>\n#include <complex>\n#include <vector>\n#include <bitset>\n#include <cstdio>\n#include <cmath>\n#include <time.h>\n#include <tuple>\n#define all(c) ((c).begin(),(c).end())\n#define rall(c) ((c).rbegin(),(c).rend())\n//#define sort(v,n) sort(v,v+n)\n#define ll long long\n#define fi first\n#define se second\n#define inf 999999999\nusing namespace std;\nconst ll MOD = 1e9 + 7;\nconst double PI = acos(-1.0);\n//---------------------------------------------------------------------------------------------//\nint n;\ninline string j(string a) {\n\tstring res;\n\tres = a.substr(1, a.length() - 1);\n\tres += a[0];\n\treturn res;\n}\ninline string c(string a) {\n\tstring res;\n\tres = a[a.length() - 1];\n\tres += a.substr(0, a.length() - 1);\n\treturn res;\n}\ninline string e(string a) {\n\tstring res, b, c;\n\tif ((int)a.length() & 1) {\n\t\tb = a.substr(0, a.length() / 2);\n\t\tc = a.substr(a.length() / 2 + 1, a.length() / 2);\n\t\t//cout << \"b=\" << b << \" c=\" << c << endl;\n\t\tres = c;\n\t\tres += a[a.length() / 2];\n\t\tres += b;\n\t\treturn res;\n\t}\n\telse {\n\t\tb = a.substr(0, a.length() / 2);\n\t\tc = a.substr(a.length() / 2, a.length() / 2);\n\t\tres = c + b;\n\t\treturn res;\n\t}\n}\ninline string a(string a) {\n\treverse(a.begin(), a.end());\n\treturn a;\n}\ninline string p(string a) {\n\tchar b[] = { '1','2','3','4','5','6','7','8','9','0' };\n\tfor (int i = 0; i < a.length(); i++) {\n\t\tfor (int j = 0; j < 10; j++) {\n\t\t\tif (a[i] == b[j]) {\n\t\t\t\tif (j < 9) {\n\t\t\t\t\ta[i] = b[j + 1];\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\ta[i] = b[0];\n\t\t\t\t}\n\t\t\t\tj = 10;\n\t\t\t}\n\t\t}\n\t}\n\treturn a;\n}\ninline string m(string a) {\n\tchar b[] = { '1','2','3','4','5','6','7','8','9','0' };\n\tfor (int i = 0; i < a.length(); i++) {\n\t\tfor (int j = 0; j < 10; j++) {\n\t\t\tif (a[i] == b[j]) {\n\t\t\t\tif (j > 0) {\n\t\t\t\t\ta[i] = b[j - 1];\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\ta[i] = b[9];\n\t\t\t\t}\n\t\t\t\tj = 10;\n\t\t\t}\n\t\t}\n\t}\n\treturn a;\n}\nint main() {\n\tcin >> n;\n\t for(int r=0;r<n;r++){\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tstring s, t;\n\t\t\tcin >> s >> t;\n\t\t\tfor (int k = s.length() - 1; k >= 0; k--) {\n\t\t\t\tif (s[k] == 'A') {\n\t\t\t\t\tt=a(t);\n\t\t\t\t}\n\t\t\t\telse if (s[k] == 'J') {\n\t\t\t\t\tt=c(t);\n\t\t\t\t}\n\t\t\t\telse if (s[k] == 'M') {\n\t\t\t\t\tt=p(t);\n\t\t\t\t}\n\t\t\t\telse if (s[k] == 'P') {\n\t\t\t\t\tt=m(t);\n\t\t\t\t}\n\t\t\t\telse if (s[k] == 'E') {\n\t\t\t\t\tt=e(t);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tt=j(t);\n\t\t\t\t}\n\t\t\t\t//cout <<\"t=\"<< t << endl;\n\t\t\t}\n\t\t\tcout << t << endl;\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <cmath>\n#include <ctype.h>\n#include <string> \n#include <sstream>\n#include <iostream>\n#include <algorithm>\n#include <cstdlib>\n#include <map>\n#include <queue>\n#include <utility>\n#include <vector>\n\nusing namespace std;\n\nvoid c_j(string str);\nvoid c_c(string str);\nvoid c_e(string str);\nvoid c_a(string str);\nvoid c_p(string str);\nvoid c_m(string str);\n\nint main()\n{\n\tint n;\n\tstring order, message;\n\tcin >> n;\n\tfor(int i = 0; i < n; i++){\n\t\tcin >> order >> message;\n\t\tfor(int j = order.length()-1; j >= 0; j++){\n\t\t\tif(order[j] == 'J') c_j(message);\n\t\t\telse if(order[j] == 'C') c_c(message);\n\t\t\telse if(order[j] == 'E') c_e(message);\n\t\t\telse if(order[j] == 'A') c_a(message);\n\t\t\telse if(order[j] == 'P') c_p(message);\n\t\t\telse if(order[j] == 'M') c_m(message); \n\t\t}\n\t\tcout << message << endl;\n\t}\n\treturn 0;\n}\n\nvoid c_j(string str)\n{\n\tchar c;\n\tc = str[str.length()-1];\n\tstr.pop_back();\n\tstr = c + str;\n}\n\nvoid c_c(string str)\n{\n\tchar c;\n\tc = str[0];\n\tstr.erase(str.begin());\n\tstr += c;\n}\n\nvoid c_e(string str)\n{\n\tstring a;\n\tint l = str.length();\n\ta = str.substr(0, l / 2);\n\tif( l % 2 == 1){\n\t\tchar c = str[l / 2 + 1];\n\t\tstr.erase(str.begin(), str.begin() + l);\n\t\tstr += c;\n\t\tstr += a;\n\t} else {\n\t\tstr.erase(str.begin(), str.begin() + (l - 1));\n\t\tstr += a;\n\t}\n}\n\nvoid c_a(string str)\n{\n\treverse(str.begin(), str.end());\n}\n\nvoid c_p(string str)\n{\n\tfor(int i = 0; i < str.length() - 1; i++){\n\t\tif(isdigit(str[i])){\n\t\t\tint n = str[i] - '0';\n\t\t\tn--;\n\t\t\tif(n == -1) n = 9;\n\t\t\tstr[i] = n + '0';\n\t\t}\n\t}\n}\n\nvoid c_m(string str)\n{\n\tfor(int i = 0; i < str.length() - 1; i++){\n\t\tif(isdigit(str[i])){\n\t\t\tint n = str[i] - '0';\n\t\t\tn = (n + 1) % 10;\n\t\t\tstr[i] = n + '0';\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<cstdio>\n#include<cmath>\n#include<math.h>\n#include<string>\n#include<string.h>\n#include<stack>\n#include<queue>\n#include<vector>\n#include<utility>\n#include<set>\n#include<map>\n#include<stdlib.h>\n#include<iomanip>\n\nusing namespace std;\n\n#define ll long long\n#define ld long double\n#define EPS 0.0000000001\n#define INF 1e9\n#define MOD 1000000007\n#define rep(i,n) for(i=0;i<n;i++)\n#define loop(i,a,n) for(i=a;i<n;i++)\n#define all(in) in.begin(),in.end()\n#define shosu(x) fixed<<setprecision(x)\n\ntypedef vector<int> vi;\ntypedef pair<int,int> pii;\n\nint main(void) {\n  int i,j,k;\n  int n;\n  cin>>n;\n  rep(i,n){\n    string ord,s;\n    cin>>ord;\n    cin>>s;\n    int len=s.size();\n    for(j=ord.size()-1;j>=0;j--){\n      if(ord[j]=='C'){\n\tstring tmp=\"\";\n\ttmp.push_back(s[0]);\n\ts.erase(s.begin());\n\ts+=tmp;\n      }else if(ord[j]=='J'){\n\tstring tmp=\"\";\n\ttmp.push_back(s[len-1]);\n\ts.erase(s.end()-1);\n\ts=tmp+s;\n      }else if(ord[j]=='A'){\n\treverse(all(s));\n      }else if(ord[j]=='E'){\n\trep(k,len/2)\n\t  swap(s[k],s[(len+1)/2+k]);\n      }else if(ord[j]=='M'){\n\trep(k,len)\n\t  if(s[k]<='8' && s[k]>='0')s[k]++;\n\t  else if(s[k]=='9')s[k]='0';\n      }else{\n\trep(k,len)\n\t  if(s[k]<='9' && s[k]>'0')s[k]--;\n\t  else if(s[k]=='0')s[k]='9';\n      }\n    }\n    cout<<s<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\nint main()\n{\n\tint n;\n\tcin >> n;\n\tfor (int i = 0; i < n; i++)\n\t{\n\t\tchar messengers[7];\n\t\tchar message[26];\n\t\tcin >> messengers;\n\t\tcin >> message;\n\t\tint messengersNum = strlen(messengers);\n\t\tint messLen = strlen(message);\n\t\tfor (int j = 0; j < messengersNum; j++)\n\t\t{\n\t\t\tchar c = messengers[j];\n\t\t\tif (c == 'J')\n\t\t\t{\n\t\t\t\tchar tmp = message[0];\n\t\t\t\tfor (int k = 0; k + 1 < messLen; k++)\n\t\t\t\t{\n\t\t\t\t\tmessage[k] = message[k + 1];\n\t\t\t\t}\n\t\t\t\tmessage[messLen - 1] = tmp;\n\t\t\t}\n\t\t\telse if (c == 'C')\n\t\t\t{\n\t\t\t\tchar tmp = message[messLen - 1];\n\t\t\t\tfor (int k = messLen - 1; k - 1 >= 0; k--)\n\t\t\t\t{\n\t\t\t\t\tmessage[k] = message[k - 1];\n\t\t\t\t}\n\t\t\t\tmessage[0] = tmp;\n\t\t\t}\n\t\t\telse if (c == 'E')\n\t\t\t{\n\t\t\t\tif (messLen % 2 == 0)\n\t\t\t\t{\n\t\t\t\t\tint range = messLen / 2;\n\t\t\t\t\tfor (int k = 0; k + range< messLen; k++)\n\t\t\t\t\t{\n\t\t\t\t\t\tchar tmp = message[k];\n\t\t\t\t\t\tmessage[k] = message[k + range];\n\t\t\t\t\t\tmessage[k + range] = tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tint range = messLen / 2 + 1;\n\t\t\t\t\tfor (int k = 0; k  + range < messLen; k++)\n\t\t\t\t\t{\n\t\t\t\t\t\tchar tmp = message[k];\n\t\t\t\t\t\tmessage[k] = message[k + range];\n\t\t\t\t\t\tmessage[k + range] = tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (c == 'A')\n\t\t\t{\n\t\t\t\tfor (int k = 0; k < messLen - k; k++)\n\t\t\t\t{\n\t\t\t\t\tchar tmp = message[k];\n\t\t\t\t\tmessage[k] = message[messLen - 1 - k];\n\t\t\t\t\tmessage[messLen - 1 - k] = tmp;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (c == 'P')\n\t\t\t{\n\t\t\t\tfor (int k = 0; k< messLen; k++)\n\t\t\t\t{\n\t\t\t\t\tif (message[k] >= '0' && message[k] <= '9')\n\t\t\t\t\t{\n\t\t\t\t\t\tmessage[k]++;\n\t\t\t\t\t\tif (message[k] > '9')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmessage[k] = '0';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (c == 'M')\n\t\t\t{\n\t\t\t\tfor (int k = 0; k< messLen; k++)\n\t\t\t\t{\n\t\t\t\t\tif (message[k] >= '0' && message[k] <= '9')\n\t\t\t\t\t{\n\t\t\t\t\t\tmessage[k]--;\n\t\t\t\t\t\tif (message[k] < '0')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmessage[k] = '9';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcout << message << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\n\nusing namespace std;\n\nstring rotate_left (string s) {\n    return s.substr(1, s.size() - 1) + s.substr(0, 1);\n}\n\nstring rotate_right (string s) {\n    return s.substr(s.size() - 1, 1) + s.substr(0, s.size() - 1);\n}\n\nstring swap_half (string s) {\n    bool even = s.size() % 2 == 0;\n    int h = s.size() /2;\n    if (even) {\n        return s.substr(h, h) + s.substr(0, h);\n    } else {\n        return s.substr(h + 1, h) + s.substr(h, 1) + s.substr(0, h);\n    }\n}\n\nstring rev(string s) {\n    reverse(begin(s), end(s));\n    return s;\n}\n\nstring inc_dig (string s) {\n    string ret = \"\";\n    for (char c : s) {\n        if(isdigit(c)) {\n            ret += ((c - '0') + 1) % 10 + '0';\n        } else {\n            ret += c;\n        }\n    }\n    return ret;\n}\n\nstring dec_dig (string s) {\n    string ret = \"\";\n    for (char c : s) {\n        if(isdigit(c)) {\n            ret += ((c - '0') + 9) % 10 + '0';\n        } else {\n            ret += c;\n        }\n    }\n    return ret;\n}\n\nint main() {\n    int n;\n    cin >> n;\n    while (n--) {\n        string opers, s;\n        cin >> opers >> s;\n        for (auto op = opers.rbegin(); op != opers.rend(); ++op) {\n            if(*op == 'J') {\n                s = rotate_right(s);\n            } else if (*op == 'C') {\n                s = rotate_left(s);\n            } else if (*op == 'E') {\n                s = swap_half(s);\n            } else if (*op == 'A') {\n                s = rev(s);\n            } else if (*op == 'P') {\n                s = dec_dig(s);\n            } else if (*op == 'M') {\n                s = inc_dig(s);\n            }\n        }\n        cout << s << endl;\n        \n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <sstream>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <climits>\n#include <cfloat>\n#include <vector>\n#include <string>\n#include <stack>\n#include <queue>\n#include <set>\n#include <map>\n#include <algorithm>\n#include <functional>\n#include <utility>\n#include <numeric>\n#include <iterator>\n\nusing namespace std;\n\ntypedef long long LL;\ntypedef unsigned long long ULL;\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<string> VS;\ntypedef pair<int,int> PII;\ntypedef istringstream ISS;\ntypedef ostringstream OSS;\n\n#define REP( i, m, n ) for ( int i = (int)( m ); i < (int)( n ); ++i )\n#define FOR( v, c ) for ( auto &v : c )\n\n#define EACH( it, c ) for ( auto it = c.begin(); it != c.end(); ++it )\n#define ALL( c ) (c).begin(), (c).end()\n#define DRANGE( c, p ) (c).begin(), (c).begin() + p, (c).end()\n\n#define PB( n ) push_back( n )\n#define MP( a, b ) make_pair( ( a ), ( b ) )\n#define EXIST( c, e ) ( (c).find( e ) != (c).end() )\n\n#define fst first\n#define snd second\n\n#define DUMP( x ) cerr << #x << \" = \" << ( x ) << endl\n#define DEBUG( x ) cerr << __FILE__ << \":\" << __LINE__ << \": \" << #x << \" = \" << ( x ) << endl\n\nstring func_j( string msg )\n{\n\trotate( DRANGE( msg, msg.size() - 1 ) );\n\treturn msg;\n}\n\nstring func_c( string msg )\n{\n\trotate( DRANGE( msg, 1 ) );\n\treturn msg;\n}\n\nstring func_e( string msg )\n{\n\tconst int L = msg.size();\n\tconst int mid = L / 2;\n\tstring left = msg.substr( 0, mid );\n\tstring right = msg.substr( L % 2 ? mid + 1 : mid );\n\treturn right + ( L % 2 ? string( 1, msg[ mid ] ) : \"\" ) + left;\n}\n\nstring func_a( string msg )\n{\n\treverse( ALL( msg ) );\n\treturn msg;\n}\n\nstring func_p( string msg )\n{\n\tREP( i, 0, msg.size() )\n\t{\n\t\tif ( isdigit( msg[i] ) )\n\t\t{\n\t\t\tmsg[i] = ( ( msg[i] - '0' ) + 10 - 1 ) % 10 + '0';\n\t\t}\n\t}\n\treturn msg;\n}\n\nstring func_m( string msg )\n{\n\tREP( i, 0, msg.size() )\n\t{\n\t\tif ( isdigit( msg[i] ) )\n\t\t{\n\t\t\tmsg[i] = ( ( msg[i] - '0' ) + 1 ) % 10 + '0';\n\t\t}\n\t}\n\treturn msg;\n}\n\nint main()\n{\n\tcin.tie( 0 );\n\tios::sync_with_stdio( false );\n\n\tmap< char, string (*)( string ) > funcs;\n\tfuncs[ 'J' ] = func_j;\n\tfuncs[ 'C' ] = func_c;\n\tfuncs[ 'E' ] = func_e;\n\tfuncs[ 'A' ] = func_a;\n\tfuncs[ 'P' ] = func_p;\n\tfuncs[ 'M' ] = func_m;\n\n\tint n;\n\tcin >> n;\n\n\tREP( case_num, 0, n )\n\t{\n\t\tstring order, message;\n\t\tcin >> order >> message;\n\n\t\tfor ( int i = order.size() - 1; 0 <= i; i-- )\n\t\t{\n\t\t\tmessage = funcs[ order[i] ]( message );\n\t\t}\n\n\t\tcout << message << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <cstdio>\n#include <string>\n#include <cstring>\n#include <deque>\n#include <list>\n#include <queue>\n#include <stack>\n#include <vector>\n#include <utility>\n#include <algorithm>\n#include <map>\n#include <set>\n#include <complex>\n#include <cmath>\n#include <limits>\n#include <climits>\n#include <ctime>\n#include <cassert>\nusing namespace std;\n\n#define rep(i,a,n) for(int (i)=(a); (i)<(n); (i)++)\n#define repq(i,a,n) for(int (i)=(a); (i)<=(n); (i)++)\n#define repr(i,a,n) for(int (i)=(a); (i)>=(n); (i)--)\n#define all(v) begin(v), end(v)\n#define pb(a) push_back(a)\n#define fr first\n#define sc second\n#define INF 2000000000\n#define int long long int\n\n#define X real()\n#define Y imag()\n#define EPS (1e-10)\n#define EQ(a,b) (abs((a) - (b)) < EPS)\n#define EQV(a,b) ( EQ((a).X, (b).X) && EQ((a).Y, (b).Y) )\n#define LE(n, m) ((n) < (m) + EPS)\n#define LEQ(n, m) ((n) <= (m) + EPS)\n#define GE(n, m) ((n) + EPS > (m))\n#define GEQ(n, m) ((n) + EPS >= (m))\n\ntypedef vector<int> VI;\ntypedef vector<VI> MAT;\ntypedef pair<int, int> pii;\ntypedef long long ll;\n\ntypedef complex<double> P;\ntypedef pair<P, P> L;\ntypedef pair<P, double> C;\n\nint dy[]={0, 0, 1, -1};\nint dx[]={1, -1, 0, 0};\nint const MOD = 1000000007;\n\nnamespace std {\n    bool operator<(const P& a, const P& b) {\n        return a.X != b.X ? a.X < b.X : a.Y < b.Y;\n    }\n}\n\nstring invstr(string s) {\n    if(s.length() % 2) {\n        int k = s.length() / 2;\n        string s1, s2;\n        s1 = s.substr(0,k);\n        s2 = s.substr(k+1,k);\n        s = s2 + s[k] + s1;\n    }\n    else {\n        int k = s.length() / 2;\n        string s1, s2;\n        s1 = s.substr(0,k);\n        s2 = s.substr(k,k);\n        s = s2 + s1;\n    }\n    return s;\n}\nstring incdigit(string s) {\n    rep(i,0,s.length()) {\n        if('0' <= s[i] && s[i] <= '9') {\n            int k = s[i] - '0';\n            k = (k + 1) % 10;\n            s[i] = (char)((int)'0' + k);\n        }\n    }\n    return s;\n}\nstring decdigit(string s) {\n    rep(i,0,s.length()) {\n        if('0' <= s[i] && s[i] <= '9') {\n            int k = s[i] - '0';\n            k = (k - 1 + 10) % 10;\n            s[i] = (char)((int)'0' + k);\n        }\n    }\n    return s;\n}\n\nsigned main() {\n    int n; cin >> n;\n    rep(i,0,n) {\n        string op, s;\n        cin >> op >> s;\n        reverse(op.begin(), op.end());\n        rep(j,0,op.length()) {\n            if(op[j] == 'C') s = s.substr(1) + s[0];\n            if(op[j] == 'J') s = s[ s.length() - 1 ] + s.substr(0,s.length() - 1);\n            if(op[j] == 'E') s = invstr(s);\n            if(op[j] == 'A') reverse(s.begin(), s.end());\n            if(op[j] == 'M') s = incdigit(s);\n            if(op[j] == 'P') s = decdigit(s);\n        }\n        cout << s << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <cstring>\n#include <algorithm>\n#include <sstream>\n\n#define REP(i,k,n) for(int i=k;i<n;i++)\n#define rep(i,n) for(int i=0;i<n;i++)\n\nusing namespace std;\ntypedef long long ll;\n\nint main() {\n    int n;\n    cin >> n;\n\n    rep(i,n) {\n        string a,b;\n        cin >> a >> b;\n\n        rep(j,a.size()) {\n            if(a[j] == 'J') {\n                rotate(b.rbegin(),b.rbegin()+1,b.rend());\n            }\n            if(a[j] == 'C') {\n                rotate(b.begin(),b.begin()+1,b.end());\n            }\n            if(a[j] == 'E') {\n                stringstream ss;\n                REP(k,b.size()/2,b.size()) {\n                    ss << b[k];\n                }\n\n                rep(k,b.size()/2) {\n                    ss << b[k];\n                }\n\n                b = ss.str();\n            }\n            if(a[j] == 'A') {\n                reverse(b.begin(),b.end());\n            }\n            if(a[j] == 'P') {\n                rep(k,b.size()) {\n                    if(b[k] == '0') b[k] = '9';\n                    else if('1' <= b[k] && b[k] <= '9') b[k]--;\n                }\n            }\n            if(a[j] == 'M') {\n                rep(k,b.size()) {\n                    if(b[k] == '9') b[k] = '0';\n                    else if('0' <= b[k] && b[k] <= '8') b[k]++;\n                }\n            }\n        }\n\n        cout << b << endl;\n\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cctype>\n#include <iostream>\n#include <string>\n\nusing namespace std;\n\nvoid inv_A ( string& str )\n{\n\treverse( str.begin(), str.end() );\n}\n\nvoid inv_C ( string& str )\n{\n\tstr = str.substr( 1 ) + str[0];\n}\n\nvoid inv_E ( string& str )\n{\n\tint half = str.size() / 2, offset = ( str.size() + 1 ) / 2;\n\tfor ( int i = 0; i < half; ++i ) {\n\t\tswap( str[i], str[i + offset] );\n\t}\n}\n\nvoid inv_J ( string& str )\n{\n\tstr = str[str.size() - 1 ] + str.substr( 0, str.size() - 1 );\n}\n\nvoid inv_M ( string& str )\n{\n\tfor ( int i = 0; i < str.size(); ++i ) {\n\t\tif ( isdigit( str[i] ) ) {\n\t\t\tstr[i] = '0' + ( str[i] - '0' + 1 ) % 10;\n\t\t}\n\t}\n}\n\nvoid inv_P ( string& str )\n{\n\tfor ( int i = 0; i < str.size(); ++i ) {\n\t\tif ( isdigit( str[i] ) ) {\n\t\t\tstr[i] = '0' + ( str[i] - '0' + 9 ) % 10;\n\t\t}\n\t}\n}\n\nint main ( void )\n{\n\tint n;\n\tcin >> n;\n\n\twhile ( n-- ) {\n\t\tstring order,\n\t\t\t   message;\n\t\tcin >> order\n\t\t\t>> message;\n\n\t\tfor ( int i = order.size() - 1; i >= 0; --i ) {\n\t\t\tswitch ( order[i] ) {\n\t\t\tcase 'A':\n\t\t\t\tinv_A( message );\n\t\t\t\tbreak;\n\t\t\tcase 'C':\n\t\t\t\tinv_C( message );\n\t\t\t\tbreak;\n\t\t\tcase 'E':\n\t\t\t\tinv_E( message );\n\t\t\t\tbreak;\n\t\t\tcase 'J':\n\t\t\t\tinv_J( message );\n\t\t\t\tbreak;\n\t\t\tcase 'M':\n\t\t\t\tinv_M( message );\n\t\t\t\tbreak;\n\t\t\tcase 'P':\n\t\t\t\tinv_P( message );\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t// cout << i << ' ' << message << endl;\n\t\t}\n\t\tcout << message << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<map>\n#include<algorithm>\n#include<cctype>\nusing namespace std;\n\n\nstring A(string s){\n\treturn string(s.rbegin(),s.rend());\n}\nstring C(string s){\n\treturn s[s.size()-1]+string(s.begin(),s.end()-1);\n}\nstring J(string s){\n\treturn string(s.begin()+1,s.end())+s[0];\n}\nstring E(string s){\n\tfor(int i=0;i<s.size()/2;i++)swap(s[i],s[i+(s.size()+1)/2]);\n\treturn s;\n}\nstring M(string s){\n\tfor(int i=0;i<s.size();i++){\n\t\tif(!isdigit(s[i]))continue;\n\t\ts[i]='0'+(s[i]-'0'-1+10)%10;\n\t}\n\treturn s;\n}\nstring P(string s){\n\tfor(int i=0;i<s.size();i++){\n\t\tif(!isdigit(s[i]))continue;\n\t\ts[i]='0'+(s[i]-'0'+1)%10;\n\t}\n\treturn s;\n}\nint main(){\n\tmap<char,string (*)(string) > ifunc;\n\tifunc['A']=A;ifunc['E']=E;\n\tifunc['J']=C;ifunc['C']=J;\n\tifunc['M']=P;ifunc['P']=M;\n\tint n;\n\tcin>>n;\n\twhile(n--){\n\t\tstring ord,mes;\n\t\tcin>>ord>>mes;\n\t\tfor(int i=ord.size()-1;i>=0;i--)\n\t\t\tmes=(*ifunc[ord[i]])(mes);\n\t\tcout<<mes<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\n#include<cctype>\nusing namespace std;\nint main(){\n  int n;\n  cin >> n;\n  while(n--){\n    string done,message;\n    cin >> done >> message;\n    reverse(done.begin(),done.end());\n    for(int i = 0 ; i < done.size() ; i++ ){\n      switch(done[i]){\n      case 'J':\n        rotate(message.begin(),message.begin()+message.size()-1,message.end());\n        break;\n      case 'C':\n        rotate(message.begin(),message.begin()+1,message.end());\n        break;\n      case 'E':\n        for(int j = 0 ; j < message.size() / 2 ; j++ ){\n          swap(message[j],message[(message.size()+1)/2+j]);\n        }\n        break;\n      case 'A':\n        reverse(message.begin(),message.end());\n        break;\n      case 'P':\n        for(int j = 0 ; j < message.size() ; j++ ){\n          if(isdigit(message[j])) message[j] = (message[j]-'0'+9)%10+'0';\n        }\n        break;\n      case 'M':\n        for(int j = 0 ; j < message.size() ; j++ ){\n          if(isdigit(message[j])) message[j] = (message[j]-'0'+1)%10+'0';\n        }\n        break;\n      }\n      //cout << message << endl;\n    }\n    cout << message << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define MOD 1000000007\ntypedef long long ll;\nusing namespace std;\n\nstring ir,str;\n\nstring convert(string s,char alp){\n  string res=\"\";\n  int n=s.size();\n  if(alp=='J'){\n    if(n==1) return s;\n    res+=s.back();\n    res+=s.substr(0,n-1);\n  }else if(alp=='C'){\n    if(n==1) return s;\n    res+=s.substr(1,n-1);\n    res+=s[0];\n  }else if(alp=='E'){\n    if(n==1) return s;\n    else if(n%2){\n      res+=s.substr(n/2+1,n/2);\n      res+=s[n/2];\n      res+=s.substr(0,n/2);\n    }else{\n      res+=s.substr(n/2,n/2);\n      res+=s.substr(0,n/2);\n    }\n  }else if(alp=='A'){\n    res=s;\n    reverse(res.begin(),res.end());\n  }else if(alp=='M'){\n    res=s;\n    for(int i=0;i<n;i++){\n      if(res[i]>='0'&&res[i]<='9'){\n        if(res[i]=='9') res[i]='0';\n        else res[i]++;\n      }\n    }\n  }else{\n    res=s;\n    for(int i=0;i<n;i++){\n      if(res[i]>='0'&&res[i]<='9'){\n        if(res[i]=='0') res[i]='9';\n        else res[i]--;\n      }\n    }\n  }\n  return res;\n}\n\nvoid solve(){\n  cin>>ir;\n  cin>>str;\n\n  for(int i=ir.size()-1;i>=0;i--){\n    str=convert(str,ir[i]);\n  }\n  cout<<str<<endl;\n}\n\nint main(){\n  int T;\n  cin>>T;\n  for(int i=0;i<T;i++) solve();\n\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main(){\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    int n; cin >> n;\n    for (;n--;){\n        string order,S; cin >> order >> S;\n        int s=S.size();\n        reverse(order.begin(),order.end());\n        for (int i=0;i<order.size();++i){\n            if (order[i]=='J'){\n                S+=S;\n                S=S.substr(s-1,s);\n            }\n            if (order[i]=='C'){\n                S+=S;\n                S=S.substr(1,s);\n            }\n            if (order[i]=='E'){\n                for (int j=0;j<s/2;++j) swap(S[j],S[j+(s+1)/2]);\n            }\n            if (order[i]=='A'){\n                reverse(S.begin(),S.end());\n            }\n            if (order[i]=='P'){\n                for (int j=0;j<s;++j){\n                    int x=S[j]-'0';\n                    if (x<10) S[j]='0'+(x+9)%10;\n                }\n            }\n            if (order[i]=='M'){\n                for (int j=0;j<s;++j){\n                    int x=S[j]-'0';\n                    if (x<10) S[j]='0'+(x+1)%10;\n                }\n            }\n        }\n        cout << S << '\\n';\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define LOG(...) fprintf(stderr, __VA_ARGS__)\n//#define LOG(...)\n#define FOR(i, a, b) for (int i = (int)(a); i < (int)(b); ++i)\n#define RFOR(i, a, b) for (int i = (int)(b - 1); i >= (int)(a); --i)\n#define REP(i, n) for (int i = 0; i < (int)(n); ++i)\n#define RREP(i, n) for (int i = (int)(n - 1); i >= 0; --i)\n#define ALL(a) (a).begin(), (a).end()\n#define RALL(a) (a).rbegin(), (a).rend()\n#define EXIST(s, e) ((s).find(e) != (s).end())\n#define SORT(c) sort(ALL(c))\n#define RSORT(c) sort(RALL(c))\n#define SZ(a) ((int)(a).size())\n#define BIT(x, i) (((x) >> (i)) & 1)\n#define SQ(x) ((x) * (x))\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef vector<bool> vb;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\ntypedef vector<vb> vvb;\ntypedef vector<vi> vvi;\ntypedef vector<vll> vvll;\ntypedef vector<char> vc;\ntypedef vector<vc> vvc;\ntypedef vector<string> vs;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\n\nstring C(string s) {\n    return string(s.begin()+1, s.end()) + string(s.begin(), s.begin()+1);\n}\n\nstring J(string s) {\n    return string(s.end()-1, s.end()) + string(s.begin(), s.end()-1);\n}\n\nstring E(string s) {\n    int n = s.length();\n    if (n % 2 == 0) {\n        return string(s.begin()+n/2, s.end()) + string(s.begin(), s.begin()+n/2);\n    } else {\n        return string(s.begin()+n/2+1, s.end()) + s[n/2] + string(s.begin(), s.begin()+n/2);\n    }\n}\n\nstring A(string s) {\n    return string(RALL(s));\n}\n\nstring M(string s) {\n    string str(s);\n    REP(i, s.length()) {\n        if (isdigit(s[i])) {\n            str[i] = '0' + ((s[i] - '0' + 1) % 10);\n        }\n    }\n    return str;\n}\n\nstring P(string s) {\n    string str(s);\n    REP(i, s.length()) {\n        if (isdigit(s[i])) {\n            str[i] = '0' + ((s[i] - '0' - 1 + 10) % 10);\n        }\n    }\n    return str;\n}\n\nint main() {\n    assert(C(\"aB23d\") == \"B23da\");\n    assert(J(\"aB23d\") == \"daB23\");\n    assert(E(\"e3ac\") == \"ace3\");\n    assert(E(\"aB23d\") == \"3d2aB\");\n    assert(A(\"aB23d\") == \"d32Ba\");\n    assert(M(\"aB23d\") == \"aB34d\");\n    assert(M(\"e9ac\") == \"e0ac\");\n    assert(P(\"aB23d\") == \"aB12d\");\n    assert(P(\"e0ac\") == \"e9ac\");\n\n    int n;\n    cin >> n;\n    REP(i, n) {\n        string order, s;\n        cin >> order >> s;\n        RREP(j, order.length()) {\n            switch (order[j]) {\n            case 'J':\n                s = J(s);\n                break;\n            case 'C':\n                s = C(s);\n                break;\n            case 'E':\n                s = E(s);\n                break;\n            case 'A':\n                s = A(s);\n                break;\n            case 'P':\n                s = P(s);\n                break;\n            case 'M':\n                s = M(s);\n                break;\n            }\n        }\n        cout << s << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\n#include <limits.h>\n#include <math.h>\n#include <set>\n#include <stack>\n#include <stdlib.h>\n#include <string>\n#include <vector>\n\n#define el endl\n#define fd fixed\n#define INF INT_MAX/2-1\n#define pb push_back\n\nusing namespace std;\n\nstring num = \"0123456789\";\n\nstring mrj(string s) {\n  return s[s.length()-1] + s.substr(0, s.length()-1);\n}\n\nstring missc(string s) {\n  return s.substr(1, s.length()-1) + s[0];\n}\n\nstring mre(string s) {\n  if (s.length() % 2 == 1) return s.substr(s.length()/2+1, s.length()/2) + s[s.length()/2] + s.substr(0, s.length()/2);\n  else return s.substr(s.length()/2, s.length()/2) + s.substr(0, s.length()/2);\n}\n\nstring mra(string s) {\n  string res = \"\";\n  for (int i = s.length()-1; i >= 0; i--) {\n    res += s[i];\n  }\n  return res;\n}\n\nstring drp(string s) {\n  for (int i = 0; i < s.length(); i++) {\n    int index = (int)num.find(s[i]);\n    if (index > 0) {\n      s[i] = num[(index+9)%10];\n    }\n  }\n  return s;\n}\n\nstring mrm(string s) {\n  for (int i = 0; i < s.length(); i++) {\n    int index = (int)num.find(s[i]);\n    if (index > 0) {\n      s[i] = num[(index+1)%10];\n    }\n  }\n  return s;\n}\n\nint main() {\n  int n;\n  string order, message;\n  cin >> n;\n  while (n--) {\n    cin >> order >> message;\n    for (int i = order.length()-1; i >= 0; i--) {\n      if (order[i] == 'J') message = mrj(message);\n      if (order[i] == 'C') message = missc(message);\n      if (order[i] == 'E') message = mre(message);\n      if (order[i] == 'A') message = mra(message);\n      if (order[i] == 'P') message = drp(message);\n      if (order[i] == 'M') message = mrm(message);\n    }\n    cout << message << el;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <string.h>\n#include <cstdio>\n#include <map>\n#include <queue>\n#define INF 10000000\n\nusing namespace std;\n\nint main(){\n  int n;\n  string str,odr;\n  cin >> n;\n  while(n--){\n    cin >> odr;\n    cin >> str;\n    int size = str.size();\n    string tmp = \"\";\n    for(int i = odr.size()-1 ; i >= 0 ; i-- ){\n      switch(odr[i]){\n      case 'A':\n\treverse(str.begin(),str.end());\n\tbreak;\n      case 'C':\n\ttmp = \"\";\n\tfor(int i = 1 ; i < size ; i++ ){\n\t  tmp += str[i];\n\t}\n\tstr = tmp+str[0];\n\tbreak;\n      case 'J':\n\ttmp = \"\";\n\tfor(int i = 0 ; i < size-1 ; i++ ){\n\t  tmp += str[i];\n\t}\n\tstr = str[size-1] + tmp;\n\tbreak;\n      case 'M':\n\tfor(int i = 0 ; i < size ; i++ ){\n\t  if('0' <= str[i] && str[i] <= '8'){\n\t    str[i] = char(str[i]+1);\n\t  }else if(str[i] == '9'){\n\t    str[i] = '0';\n\t  }\n\t}\n\tbreak;\n      case 'P':\n\tfor(int i = 0 ; i < size ; i++ ){\n\t  if('1' <= str[i] && str[i] <= '9'){\n\t    str[i] = char(str[i]-1);\n\t  }else if(str[i] == '0'){\n\t    str[i] = '9';\n\t  }\n\t}\n\tbreak;\n      case 'E':\n\tif(size%2==1){\n\t  str = str.substr((size/2)+1,size - size/2)+ str[size/2] + str.substr(0,(size/2)); \n\t}else {\n\t  str = str.substr((size/2),size - size/2) + str.substr(0,(size/2));\n\t}\n\tbreak;\n      }\n    }\n    cout << str << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint main(){\n\tint n;\n\tcin>>n;\n\twhile(n--){\n\t\tstring s,ss;\n\t\tcin>>s>>ss;\n\t\tfor(int i=s.size()-1;i>=0;i--){\n\t\t\tif(s[i]=='P')\n\t\t\t\tfor(int j=0;j<ss.size();j++)\n\t\t\t\t\tif(ss[j]>='0'&&ss[j]<='9')\n\t\t\t\t\t\tss[j]=(ss[j]-'0'+9)%10+'0';\n\t\t\tif(s[i]=='M')\n\t\t\t\tfor(int j=0;j<ss.size();j++)\n\t\t\t\t\tif(ss[j]>='0'&&ss[j]<='9')\n\t\t\t\t\t\tss[j]=(ss[j]-'0'+1)%10+'0';\n\t\t\tif(s[i]=='A')reverse(ss.begin(),ss.end());\n\t\t\tif(s[i]=='E')for(int k=0;k<ss.size()/2;k++)swap(ss[k],ss[(ss.size()+1)/2+k]);\n\t\t\tif(s[i]=='J')ss=ss[ss.size()-1]+ss.substr(0,s.size()-2);\n\t\t\tif(s[i]=='C')ss=ss.substr(1,s.size()-1)+s[0];\n\t\t}\n\t\tcout<<ss<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<string>\n#include<iostream>\nusing namespace std;\n\nstring A(string str){\n  char tmp;\n  for(int i=0,j=str.length()-1;i<j;i++,j--){\n    tmp=str[i];\n    str[i]=str[j];\n    str[j]=tmp;\n  }\n  return str;\n}\n\nstring J(string str){\n  char tmp;\n  tmp=str[str.length()-1];\n  for(int i=str.length()-1;i>0;i--)\n    str[i]=str[i-1];\n  str[0]=tmp;\n  return str;\n}\n\nstring C(string str){\n  char tmp;\n  tmp=str[0];\n  for(int i=0;i<str.length()-1;i++)\n    str[i]=str[i+1];\n\n  str[str.length()-1]=tmp;\n  return str;\n}\n\nstring E(string str){\n  string tmp,str2;\n  if(str.length()%2){\n    tmp=str.substr(0,str.length()/2);\n    str2.assign(&str[str.length()/2+1],&str[str.length()]);\n    str2+=str[str.length()/2];\n    str2+=tmp;\n  }else{\n    tmp=str.substr(0,str.length()/2);\n    str2.assign(&str[str.length()/2],&str[str.length()]);\n    str2+=tmp;\n  }\n  return str2;\n}\n\nstring P(string str){\n  string num=(\"9012345678\");\n  for(int i=0;i<str.length();i++)\n    if(str[i]>=0x30 && str[i]<=0x39)\n      str[i]=num[str[i]-0x30];\n  return str;\n}\n\nstring M(string str){\n  string num=(\"1234567890\");\n  for(int i=0;i<str.length();i++)\n    if(str[i]>=0x30 && str[i]<=0x39)\n      str[i]=num[str[i]-0x30];\n  return str;\n}\n\nint main(){\n  int n;\n  string str1,str2;\n  scanf(\"%d\",&n);\n  for(int i=0;i<n;i++){\n    cin>> str1 >>str2;\n    for(int i=str1.length()-1;i>=0;i--){\n      switch(str1[i]){\n      case 'A': str2=A(str2); break;\n      case 'J': str2=J(str2); break;\n      case 'C': str2=C(str2); break;\n      case 'E': str2=E(str2); break;\n      case 'P': str2=P(str2); break;\n      case 'M': str2=M(str2); break;\n      }\n    }\n    cout<< str2<< endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "//include\n//------------------------------------------\n#include <vector>\n#include <list>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <bitset>\n#include <algorithm>\n#include <functional>\n#include <numeric>\n#include <utility>\n#include <sstream>\n#include <iostream>\n#include <iomanip>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <cctype>\n#include <string>\n#include <cstring>\n#include <ctime>\n#include <fstream>\n#include <complex>\n#include <math.h>\n\nusing namespace std;\n\n//conversion\n//------------------------------------------\ninline long toInt(string s) {int v; istringstream sin(s);sin>>v;return v;}\ninline long toLong(string s) {long v; istringstream sin(s);sin>>v;return v;}\ntemplate<class T> inline string toString(T x) {ostringstream sout;sout<<x;return sout.str();}\n\n//math\n//-------------------------------------------\ntemplate<class T> inline T sqr(T x) {return x*x;}\n\n//typedef\n//------------------------------------------\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<string> VS;\ntypedef pair<int, int> PII;\ntypedef pair<long, long> PLL;\ntypedef long long LL;\n//container util\n//------------------------------------------\n#define ALL(a)  (a).begin(),(a).end()\n#define RALL(a) (a).rbegin(), (a).rend()\n#define PB push_back\n#define MP make_pair\n#define SZ(a) int((a).size())\n#define EACH(i,c) for(typeof((c).begin()) i=(c).begin(); i!=(c).end(); ++i)\n#define EXIST(s,e) ((s).find(e)!=(s).end())\n#define SORT(c) sort((c).begin(),(c).end())\n\n//repetition\n//------------------------------------------\n#define FOR(i,a,b) for(long i=(a);i<(b);++i)\n#define REP(i,n) FOR(i,0,n)\n\n//constant\n//--------------------------------------------\n\n//clear memory\n#define CLR(a) memset((a), 0 ,sizeof(a))\n\nconst long double EPS = 1e-6;\nconst long INF = 1e10;\n\n\nint main(){\n\tint T;cin>>T;\n\tREP(t,T){\n\t\tstring str,ans;cin>>str>>ans;\n\t\treverse(ALL(str));\n\t\tREP(i,SZ(str)){\n\t\t\tif(str[i]=='A')reverse(ALL(ans));\n\t\t\telse if(str[i]=='C'){\n\t\t\t\tstring tmp=ans.substr(1);\n\t\t\t\ttmp+=ans[0];\n\t\t\t\tans=tmp;\n\t\t\t}else if(str[i]=='J'){\n\t\t\t\tstring tmp=\"\";\n\t\t\t\ttmp+=ans[SZ(ans)-1];\n\t\t\t\ttmp+=ans.substr(0,SZ(ans)-1);\n\t\t\t\tans=tmp;\n\t\t\t}else if(str[i]=='E'){\n\t\t\t\tint sz=SZ(ans);\n\t\t\t\tstring tmp=ans.substr(sz/2+(sz%2));\n\t\t\t\tif(sz%2==1)tmp+=ans[sz/2];\n\t\t\t\ttmp+=ans.substr(0,(sz/2));\n\t\t\t\tans=tmp;\n\t\t\t}else if(str[i]=='P'){\n\t\t\t\tREP(j,SZ(ans)){\n\t\t\t\t\tif(ans[j]=='0'){\n\t\t\t\t\t\tans[j]='9';\n\t\t\t\t\t}else if(ans[j]>='1'&&ans[j]<='9'){\n\t\t\t\t\t\tans[j]=ans[j]-1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else if(str[i]=='M'){\n\t\t\t\tREP(j,SZ(ans)){\n\t\t\t\t\tif(ans[j]=='9'){\n\t\t\t\t\t\tans[j]='0';\n\t\t\t\t\t}else if(ans[j]>='0'&&ans[j]<='8'){\n\t\t\t\t\t\tans[j]=ans[j]+1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout<<ans<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "// 2017-02-21\n#include <iostream>\n#include <string>\n#include <list>\nusing namespace std;\n\nint main() {\n\tint n;\n\tcin >> n;\n\tfor (; n > 0; n--) {\n\t\tstring s, t;\n\t\tlist<char> l;\n\t\tcin >> s >> t;\n\t\tfor (int i = 0; i < t.length(); i++) {\n\t\t\tl.push_back(t[i]);\n\t\t}\n\t\tfor (int i = s.length() - 1; i >= 0; i--) {\n\t\t\tif (s[i] == 'J') {\n\t\t\t\tchar c = l.back();\n\t\t\t\tl.pop_back();\n\t\t\t\tl.push_front(c);\n\t\t\t} else if (s[i] == 'C') {\n\t\t\t\tchar c = l.front();\n\t\t\t\tl.pop_front();\n\t\t\t\tl.push_back(c);\n\t\t\t} else if (s[i] == 'E') {\n\t\t\t\tlist<char> m;\n\t\t\t\tint a = l.size();\n\t\t\t\twhile (l.size() > a / 2) {\n\t\t\t\t\tchar c = l.front();\n\t\t\t\t\tl.pop_front();\n\t\t\t\t\tm.push_back(c);\n\t\t\t\t}\n\t\t\t\tif (a % 2 != 0) {\n\t\t\t\t\tchar c = m.back();\n\t\t\t\t\tm.pop_back();\n\t\t\t\t\tl.push_back(c);\n\t\t\t\t}\n\t\t\t\twhile (!m.empty()) {\n\t\t\t\t\tchar c = m.front();\n\t\t\t\t\tm.pop_front();\n\t\t\t\t\tl.push_back(c);\n\t\t\t\t}\n\t\t\t} else if (s[i] == 'A') {\n\t\t\t\tl.reverse();\n\t\t\t} else if (s[i] == 'P') {\n\t\t\t\tfor (auto it = begin(l); it != end(l); it++) {\n\t\t\t\t\tif (*it >= '0' && *it <= '9') {\n\t\t\t\t\t\t*it = (*it - '0' + 9) % 10 + '0';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (s[i] == 'M') {\n\t\t\t\tfor (auto it = begin(l); it != end(l); it++) {\n\t\t\t\t\tif (*it >= '0' && *it <= '9') {\n\t\t\t\t\t\t*it = (*it - '0' + 1) % 10 + '0';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (auto it = begin(l); it != end(l); it++) {\n\t\t\tcout << *it;\n\t\t}\n\t\tcout << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"iostream\"\n#include \"climits\"\n#include \"list\"\n#include \"queue\"\n#include \"stack\"\n#include \"set\"\n#include \"functional\"\n#include \"algorithm\"\n#include \"math.h\"\n#include \"utility\"\n#include \"string\"\n#include \"map\"\n#include \"unordered_map\"\n#include \"iomanip\"\n#include \"random\"\n\nusing namespace std;\nconst long long int MOD = 1000000007;\n\nlong long int power(long long int x, long long int n, long long int M) {\n\tlong long int tmp = 1;\n\n\tif (n > 0) {\n\t\ttmp = power(x, n / 2, M);\n\t\tif (n % 2 == 0) tmp = (tmp*tmp) % M;\n\t\telse tmp = (((tmp*tmp) % M)*x) % M;\n\t}\n\treturn tmp;\n}\n\nlong long int N, M, K, Q, W, H, L, R;\nlong long int ans;\n\n\n\nint main() {\n\tios::sync_with_stdio(false);\n\tcin >> N;\n\tfor (int i = 0; i < N; i++) {\n\t\tstring a, b;\n\t\tcin >> a >> b;\n\t\tfor (auto j = a.rbegin(); j != a.rend(); ++j) {\n\t\t\tif (*j == 'J') {\n\t\t\t\tchar c;\n\t\t\t\tc = b.back();\n\t\t\t\tb.pop_back();\n\t\t\t\tb = c + b;\n\t\t\t}\n\t\t\tif (*j == 'C') {\n\t\t\t\tchar c;\n\t\t\t\tc = b[0];\n\t\t\t\tfor (int k = 0; k < b.size() - 1; k++) {\n\t\t\t\t\tb[k] = b[k + 1];\n\t\t\t\t}\n\t\t\t\tb[b.size() - 1] = c;\n\t\t\t}\n\t\t\tif (*j == 'E') {\n\t\t\t\tstring s, t;\n\t\t\t\tfor (int k = 0; k < b.size() / 2; k++) {\n\t\t\t\t\ts += b[k];\n\t\t\t\t}\n\t\t\t\tfor (int k = (b.size() + 1) / 2; k < b.size(); k++) {\n\t\t\t\t\tt += b[k];\n\t\t\t\t}\n\t\t\t\tfor (int k = 0; k < b.size() / 2; k++) {\n\t\t\t\t\tb[k] = t[k];\n\t\t\t\t}\n\t\t\t\tfor (int k = (b.size() + 1) / 2; k < b.size(); k++) {\n\t\t\t\t\tb[k] = s[k - (b.size() + 1) / 2];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (*j == 'A') {\n\t\t\t\tfor (int k = 0; k < b.size() / 2; k++)swap(b[k], b[b.size() - 1 - k]);\n\t\t\t}\n\t\t\tif (*j == 'M') {\n\t\t\t\tfor (auto k : b) {\n\t\t\t\t\tif (k >= '0'&&k <= '9') {\n\t\t\t\t\t\tk=char(k-1);\n\t\t\t\t\t\tif (k == char('0' - 1))k = '9';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (*j == 'P') {\n\t\t\t\tfor (auto k : b) {\n\t\t\t\t\tif (k >= '0'&&k <= '9') {\n\t\t\t\t\t\tk=char(k+1);\n\t\t\t\t\t\tif (k == char('9' + 1))k = '0';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << b << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\n\nint main(){\n    int n;\n    cin >> n;\n    while( n-- ){\n        string p, m;\n        cin >> p >> m;\n        reverse( p.begin(), p.end() );\n        for( size_t i = 0; i < p.length(); i++ ){\n            if( p[i] == 'J' ){\n                char tmp = m[m.length() - 1];\n                for( size_t j = m.length() - 1; j > 0; j-- ){\n                    //if( j == 0 ){\n                    //}else{\n                        m[j] = m[j-1];\n                    //}\n                    //cout << m[j] << endl;\n                }\n                m[0] = tmp;\n                break;\n            }if( p[i] == 'C' ){\n                char tmp = m[0];\n                for( size_t j = 0; j < m.length(); j++ ){\n                    if( j == m.length() - 1 ) m[j] = tmp;\n                    else m[j] = m[j+1];\n                }\n                break;\n            }if( p[i] == 'E' ){\n                string tmp = m.substr( 0, m.length() / 2 );\n                m = m.substr( (m.length() + 1) / 2 );\n                m.append( tmp );\n                break;\n            }if( p[i] == 'A' ){\n                reverse( m.begin(), m.end() );\n                break;\n            }if( p[i] == 'P' ){\n                for( size_t j = 0; j < m.length(); j++ ){\n                    if( '1' <= m[j] && m[j] <= '9' ){\n                        m[j]--;\n                    }else if( '0' == m[j] ){\n                        m[j] = '9';\n                    }\n                }\n                break;\n            }if( p[i] == 'M' ){\n                for( size_t j = 0; j < m.length(); j++ ){\n                    if( '0' <= m[j] && m[j] <= '8' ){\n                        m[j]++;\n                    }else if( '9' == m[j] ){\n                        m[j] = '0';\n                    }\n                }\n                break;\n            }\n        }\n        cout << m << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <algorithm>\nusing namespace std;\n\nstring cmd_J(string s){\n  string ret;\n  for(int i = 1 ; i < (int)(s.size()) ; i++){\n    ret += s[i];\n  }\n  ret += s[0];\n  return ret;\n}\n\nstring cmd_C(string s){\n  string ret;\n  ret += s[s.size()-1];\n  for(int i = 0 ; i < (int)(s.size()-1) ; i++){\n    ret += s[i];\n  }\n  return ret;\n}\n\nstring cmd_E(string s){\n  string a, b;\n  \n  if(s.size()%2 == 1){\n    a = s.substr(0, s.size()/2);\n    b = s.substr(s.size()/2+1, s.size());\n    return b+s[s.size()/2]+a;\n  }\n  else{\n    a = s.substr(0, s.size()/2);\n    b = s.substr(s.size()/2, s.size());\n    return b+a;\n  }  \n}\n\nstring cmd_A(string s){\n  string ret = s;\n  reverse(ret.begin(), ret.end());\n  return ret;\n}\n\nstring cmd_P(string s){\n  for(int i = 0 ; i < (int)(s.size()) ; i++){\n    if(isdigit(s[i])){\n      int a = s[i]-'0';\n      a++;\n      if(a == 10) a = 0;\n      s[i] = a+'0';\n    }\n  }\n  return s;\n}\n\nstring cmd_M(string s){\n  for(int i = 0 ; i < (int)(s.size()) ; i++){\n    if(isdigit(s[i])){\n      int a = s[i]-'0';\n      a--;\n      if(a == -1) a = 9;\n      s[i] = a+'0';\n    }\n  }\n  return s;\n}\n\nint main(){\n  int n;\n  cin >> n;\n  while(n--){\n    string cmd, message;\n    cin >> cmd >> message;\n    for(int i = (int)(cmd.size()-1) ; i >= 0 ; i--){\n      switch(cmd[i]){\n      case 'J': \n\tmessage = cmd_C(message);\n\tbreak;\n      case 'C':\n\tmessage = cmd_J(message);\n\tbreak;\n      case 'E': \n\tmessage = cmd_E(message);\n\tbreak;\n      case 'A':\n\tmessage = cmd_A(message);\n\tbreak;\n      case 'P': \n\tmessage = cmd_M(message);\n\tbreak;\n      case 'M':\n\tmessage = cmd_P(message);\n\tbreak;\n      }\n    }\n    cout << message << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "//1240\n#include<iostream>\n#include<string>\n#include<algorithm>\nusing namespace std;\nchar table[10]={'0','1','2','3','4','5','6','7','8','9'};\nstring now;\nvoid A(){\nreverse(now.begin(),now.end());\n}\nvoid J(){\nchar tmp=now[0];\nfor(int i=0;i<now.size()-1;i++)now[i]=now[i+1];\nnow[now.size()-1]=tmp;\n}\nvoid E(){\nstring a=\"\",b=\"\",c=\"\";\nfor(int i=0;i<now.size();i++){\nif(i<now.size()/2)a.push_back(now[i]);\nelse if(i==now.size()/2&&now.size()%2==1)c.push_back(now[i]);\nelse b.push_back(now[i]);\n}\n//reverse(a.begin(),a.end());\n//reverse(b.begin(),b.end());\nnow=b+c+a;\n}\nvoid C(){\nchar tmp=now[now.size()-1];\nfor(int i=now.size()-1;i>0;i--)now[i]=now[i-1];\nnow[0]=tmp;\n}\nvoid P(){\nfor(int i=0;i<now.size();i++){\n\tif(now[i]-'0'==0)now[i]='9';\nelse \tif(now[i]-'0'==1)now[i]='0';\nelse \tif(now[i]-'0'==2)now[i]='1';\nelse \tif(now[i]-'0'==3)now[i]='2';\nelse \tif(now[i]-'0'==4)now[i]='3';\nelse \tif(now[i]-'0'==5)now[i]='4';\nelse \tif(now[i]-'0'==6)now[i]='5';\nelse \tif(now[i]-'0'==7)now[i]='6';\nelse \tif(now[i]-'0'==8)now[i]='7';\nelse \tif(now[i]-'0'==9)now[i]='8';\n\t}\n}\nvoid M(){\nfor(int i=0;i<now.size();i++){\n\tif(now[i]-'0'==0)now[i]='1';\n\telse if(now[i]-'0'==1)now[i]='2';\n\t else if(now[i]-'0'==2)now[i]='3';\nelse \tif(now[i]-'0'==3)now[i]='4';\nelse \tif(now[i]-'0'==4)now[i]='5';\nelse \tif(now[i]-'0'==5)now[i]='6';\nelse \tif(now[i]-'0'==6)now[i]='7';\nelse \tif(now[i]-'0'==7)now[i]='8';\nelse \tif(now[i]-'0'==8)now[i]='9';\nelse \tif(now[i]-'0'==9)now[i]='0';\n\t}\n}\n\nint main(){\n\tint n;\n\tcin>>n;\nfor(int kki=0;kki<n;kki++){\n\tstring a;\n\tcin>>a>>now;\n\tfor(int i=a.size();i>=0;i--){\n\t\tif(a[i]=='A')A();\n\t\tif(a[i]=='C')J();\n\t\tif(a[i]=='P')P();\n\t\tif(a[i]=='M')M();\n\t\tif(a[i]=='E')E();\n\t\tif(a[i]=='J')C();\n\t//cout<<now<<endl;\t\n\t}\n\tcout<<now<<endl;\n}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nvoid conv(string &S, char c){\n  if (c == 'J'){\n    S = S.back() + S.substr(0, S.size() - 1);\n  }\n  if (c == 'C'){\n    S =  S.substr(1) + S[0];\n  }\n  if (c == 'E'){\n    if (S.size() % 2 == 0){\n      S = S.substr(S.size() / 2) + S.substr(0, S.size() / 2);\n    } else {\n      S = S.substr(S.size() / 2 + 1) + S[S.size() / 2] + S.substr(0, S.size() / 2);\n    }\n  }\n  if (c == 'A'){\n    reverse(S.begin(), S.end());\n  }\n  if (c == 'P'){\n    for (int i = 0; i < S.size(); i++){\n      if (S[i] == '0'){\n        S[i] = '9';\n      } else if ('1' <= S[i] && S[i] <= '9'){\n        S[i]--;\n      }\n    }\n  }\n  if (c == 'M'){\n    for (int i = 0; i < S.size(); i++){\n      if (S[i] == '9'){\n        S[i] = '0';\n      } else if ('0' <= S[i] && S[i] <= '8'){\n        S[i]++;\n      }\n    }\n  }\n}\nint main(){\n  int n;\n  cin >> n;\n  for (int i = 0; i < n; i++){\n    string S;\n    cin >> S;\n    string T;\n    cin >> T;\n    int m = S.size();\n    for (int j = m - 1; j >= 0; j--){\n      conv(T, S[j]);\n    }\n    cout << T << endl;\n  }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstdlib>\n#include<cstring>\n#include<cmath>\n#include<cassert>\n#include<iostream>\n#include<sstream>\n#include<string>\n#include<vector>\n#include<queue>\n#include<set>\n#include<map>\n#include<utility>\n#include<numeric>\n#include<algorithm>\n#include<bitset>\n#include<complex>\n#include<stack>\n\nusing namespace std;\n\ntypedef long long Int;\ntypedef vector<int> vint;\ntypedef pair<int,int> pint;\ntypedef vector<string> vstring;\ntypedef vector<pint> vpint;\n\nstruct Edge{int to,from,cost;};\n\n#ifdef DEBUGLOCAL\n#define debug cout\n#else\nstringstream __ss__;\n#define debug __ss__\n#endif\n\ntemplate<class T> void pv(T a, T b) { for (T i = a; i != b; ++i) debug << *i << \" \"; debug << endl; }\ntemplate<class T> void chmin(T &t, T f) { if (t > f) t = f; }\ntemplate<class T> void chmax(T &t, T f) { if (t < f) t = f; }\nint in() { int x; scanf(\"%d\", &x); return x; }\n\n#define rep(i,n) for(int i=0;i<(n);++i)\n#define repd(i,n) for(int i=(n)-1;i>=0;i--)\n#define repn(i,m,n) for(int i=(m);i<=(n);++i)\n#define repnd(i,m,n) for(int i=(n)-1;i>=(m);i--)\n#define rep0(i,n) for(i=0;i<(n);++i)\n#define all(n) n.begin(),n.end()\n#define sz(n) ((int)(n).size())\n#define MP make_pair\n#define PB push_back\n#define SS stringstream\n#define X second\n#define Y first\n#define PUTLINE debug<<\"LINE:\"<<__LINE__<<endl;\n\nconst int INF = 2147483647;\nconst double EPS = 1e-10;\nconst double PI = acos(-1.0);\n\nconst int dx[]={1,-1,0,0,1,-1,1,-1,0};\nconst int dy[]={0,0,1,-1,1,-1,-1,1,0};\n\nstring C(string mes){\n\treturn mes.substr(1,sz(mes)-1)+mes.substr(0,1);\n}\n\nstring J(string mes){\n\treturn mes.substr(sz(mes)-1,1)+mes.substr(0,sz(mes)-1);\n}\n\nstring E(string mes){\n\tif(sz(mes)%2==0)return mes.substr(sz(mes)/2,sz(mes)/2)+mes.substr(0,sz(mes)/2);\n\telse return mes.substr(sz(mes)/2+1,sz(mes)/2)+mes.substr(sz(mes)/2,1)+mes.substr(0,sz(mes)/2);\n}\n\nstring A(string mes){\n\treverse(all(mes));\n\treturn mes;\n}\n\nstring M(string mes){\n\trep(i,sz(mes)){\n\t\tif(isdigit(mes[i])){\n\t\t\tif(mes[i]=='9')mes[i]='0';\n\t\t\telse ++mes[i];\n\t\t}\n\t}\n\treturn mes;\n}\n\nstring P(string mes){\n\trep(i,sz(mes)){\n\t\tif(isdigit(mes[i])){\n\t\t\tif(mes[i]=='0')mes[i]='9';\n\t\t\telse --mes[i];\n\t\t}\n\t}\n\treturn mes;\n}\n\nint main() {\n\tint n=in();\n\tstring mes,ord;\n\twhile(n--){\n\t\tcin>>ord>>mes;\n\t\trepd(i,sz(ord)){\n\t\t\tswitch(ord[i]){\n\t\t\tcase 'J':\n\t\t\t\tmes=J(mes);\n\t\t\tbreak;\n\t\t\tcase 'C':\n\t\t\t\tmes=C(mes);\n\t\t\tbreak;\n\t\t\tcase 'E':\n\t\t\t\tmes=E(mes);\n\t\t\tbreak;\n\t\t\tcase 'A':\n\t\t\t\tmes=A(mes);\n\t\t\tbreak;\n\t\t\tcase 'P':\n\t\t\t\tmes=P(mes);\n\t\t\tbreak;\n\t\t\tcase 'M':\n\t\t\t\tmes=M(mes);\n\t\t\tbreak;\n\t\t\t}\ndebug<<mes<<endl;\n\t\t}\n\t\tcout<<mes<<endl;\ndebug<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n#define pb push_back\n#define mt make_tuple\n#define all(a) (a).begin(),(a).end()\n#define frep(i,a,n) for(int i=(a);i<(n);++i)\n#define rep(i, n) for(int i=0;i<(n);++i)\n#define rrep(i, n) for(int i=n-1;i>=0;--i)\n#define debug(x) cout << #x << \" : \" << x << \" ------------ \" << endl;\nusing namespace std;\nint main()\n{\n    int n;\n    cin >> n;\n    while (n--) {\n        string o;\n        cin >> o;\n        string m;\n        cin >> m;\n        \n        rrep (i, o.length()) {\n            switch (o[i]) {\n                case 'A':\n                    reverse(all(m));\n                    break;\n                case 'J':\n                    rotate(m.rbegin(), m.rbegin() + 1, m.rend());\n                    break;\n                case 'C':\n                    rotate(m.begin(), m.begin() + 1, m.end());\n                    break;\n                case 'P': {\n                    auto it = m.begin();\n                    while (it != m.end()) {\n                        if (isdigit(*it) && --(*it) < '0') *it = '9';\n                        ++it;\n                    }\n                    break; }\n                case 'M': {\n                    auto it = m.begin();\n                    while (it != m.end()) {\n                        if (isdigit(*it) && ++(*it) > '9') *it = '0';\n                        ++it;\n                    }\n                    break; }\n                case 'E': {\n                    int len = m.length();\n                    string f = m.substr(0, len / 2);\n                    char mdl = m.length() % 2 ? m[len / 2] : 0;\n                    string b = m.substr((len + 1) / 2);\n                    m = b;\n                    if (mdl) m += mdl;\n                    m += f;\n                    break; }\n                default:\n                    break;\n            }\n        }\n        cout << m << endl;\n    }\n    return EXIT_SUCCESS;\n}"
  },
  {
    "language": "C++",
    "code": "//1240\n#include<iostream>\n#include<string>\n#include<algorithm>\nusing namespace std;\nchar table[10]={'0','1','2','3','4','5','6','7','8','9'};\nstring now;\nvoid A(){\nreverse(now.begin(),now.end());\n}\nvoid J(){\nchar tmp=now[0];\nfor(int i=0;i<now.size()-1;i++)now[i]=now[i+1];\nnow[now.size()-1]=tmp;\n}\nvoid E(){\nstring a=\"\",b=\"\",c=\"\";\nfor(int i=0;i<now.size();i++){\nif(i<now.size()/2)a.push_back(now[i]);\nelse if(i==now.size()/2&&now.size()%2==1)c.push_back(now[i]);\nelse b.push_back(now[i]);\n}\n//reverse(a.begin(),a.end());\n//reverse(b.begin(),b.end());\nnow=b+c+a;\n}\nvoid C(){\nchar tmp=now[now.size()-1];\nfor(int i=now.size()-1;i>0;i--)now[i]=now[i-1];\nnow[0]=tmp;\n}\nvoid P(){\nfor(int i=0;i<now.size();i++){\n\tif(now[i]-'0'==0)now[i]='9';\nelse \tif(now[i]-'0'==1)now[i]='0';\nelse \tif(now[i]-'0'==2)now[i]='1';\nelse \tif(now[i]-'0'==3)now[i]='2';\nelse \tif(now[i]-'0'==4)now[i]='3';\nelse \tif(now[i]-'0'==5)now[i]='4';\nelse \tif(now[i]-'0'==6)now[i]='5';\nelse \tif(now[i]-'0'==7)now[i]='6';\nelse \tif(now[i]-'0'==8)now[i]='7';\nelse \tif(now[i]-'0'==8)now[i]='8';\n\t}\n}\nvoid M(){\nfor(int i=0;i<now.size();i++){\n\tif(now[i]-'0'==0)now[i]='1';\n\telse if(now[i]-'0'==1)now[i]='2';\n\t else if(now[i]-'0'==2)now[i]='3';\nelse \tif(now[i]-'0'==3)now[i]='4';\nelse \tif(now[i]-'0'==4)now[i]='5';\nelse \tif(now[i]-'0'==5)now[i]='6';\nelse \tif(now[i]-'0'==6)now[i]='7';\nelse \tif(now[i]-'0'==7)now[i]='8';\nelse \tif(now[i]-'0'==8)now[i]='9';\nelse \tif(now[i]-'0'==8)now[i]='0';\n\t}\n}\n\nint main(){\n\tint n;\n\tcin>>n;\nfor(int kki=0;kki<n;kki++){\n\tstring a;\n\tcin>>a>>now;\n\tfor(int i=a.size();i>=0;i--){\n\t\tif(a[i]=='A')A();\n\t\tif(a[i]=='C')J();\n\t\tif(a[i]=='P')P();\n\t\tif(a[i]=='M')M();\n\t\tif(a[i]=='E')E();\n\t\tif(a[i]=='J')C();\n\t//cout<<now<<endl;\t\n\t}\n\tcout<<now<<endl;\n}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\nusing namespace std;\n\nint main()\n{\n  int n;\n  string s, m;\n  cin >> n;\n  for(int i = 0; i < n; i++)\n  {\n    cin >> m >> s;\n    for(int j = m.length() - 1; j >= 0; j--)\n    {\n      switch(m[j])\n      {\n        case 'C':\n          s = s.substr(1, s.length() - 1) + s[0];\n          break;\n        case 'J':\n          s = s[s.length() - 1] + s.substr(0, s.length() - 1);\n          break;\n        case 'E':\n          {\n            int a = s.length() / 2, b = s.length() % 2;\n            s = s.substr(a + b, a) + (b ? s.substr(a + 1, 1) : \"\") + s.substr(0, a);\n          }\n          break;\n        case 'A':\n          reverse(s.begin(), s.end());\n          break;\n        case 'M':\n          for(int k = 0; k < s.length(); k++)\n            if(s[k] >= '0' && s[k] <= '9')\n              s[k] = (s[k] - '0' + 1) % 10 + '0';\n          break;\n        case 'P':\n          for(int k = 0; k < s.length(); k++)\n            if(s[k] >= '0' && s[k] <= '9')\n              s[k] = (s[k] - '0' - 1) % 10 + '0';\n          break;\n      }\n    }\n    cout << s << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint main(void){\n    int n;\n    cin>>n;\n    string order;\n    string word;\n    for (int i=0;i<n;i++) {\n        cin>>order>>word;\n        for (int j=order.size()-1;j>=0;j--) {\n            if (order[j]=='J') {\n                if (word.size()!=1) {\n                    word=word[word.size()-1]+word;\n                    word.erase(word.size()-1,1);\n                    //cout<<word<<endl;\n                }\n            } else if (order[j]=='C') {\n                if (word.size()!=1) {\n                    word=word+word[0];\n                    word.erase(0,1);\n                }\n            } else if (order[j]=='E') {\n                if (word.size()%2==0) {\n                    string one=word.substr(0,word.size()/2);\n                    string another=word.substr(word.size()/2,word.size()/2);\n                    word=another+one;\n                } else {\n                    string one=word.substr(0,word.size()/2);\n                    string another=word.substr(word.size()/2+1,word.size()/2);\n                    word=another+word[word.size()/2]+one;\n                }\n            } else if (order[j]=='A') {\n                reverse(word.begin(),word.end());\n                //cout<<word<<endl;\n            } else if (order[j]=='P') {\n                for (int k=0;k<word.size();k++) {\n                    if (word[k]=='0') {\n                        word[k]='9';\n                    } else if (word[k]=='1') {\n                        word[k]='0';\n                    } else if (word[k]=='2') {\n                        word[k]='1';\n                    } else if (word[k]=='3') {\n                        word[k]='2';\n                    } else if (word[k]=='4') {\n                        word[k]='3';\n                    } else if (word[k]=='5') {\n                        word[k]='4';\n                    } else if (word[k]=='6') {\n                        word[k]='5';\n                    } else if (word[k]=='7') {\n                        word[k]='6';\n                    } else if (word[k]=='8') {\n                        word[k]='7';\n                    } else if (word[k]=='9') {\n                        word[k]='8';\n                    }\n                }\n            } else if (order[j]=='M') {\n                for (int k=0;k<word.size();k++) {\n                    if (word[k]=='0') {\n                        word[k]='1';\n                    } else if (word[k]=='1') {\n                        word[k]='2';\n                    } else if (word[k]=='2') {\n                        word[k]='3';\n                    } else if (word[k]=='3') {\n                        word[k]='4';\n                    } else if (word[k]=='4') {\n                        word[k]='5';\n                    } else if (word[k]=='5') {\n                        word[k]='6';\n                    } else if (word[k]=='6') {\n                        word[k]='7';\n                    } else if (word[k]=='7') {\n                        word[k]='8';\n                    } else if (word[k]=='8') {\n                        word[k]='9';\n                    } else if (word[k]=='9') {\n                        word[k]='0';\n                    }\n                }\n                //cout<<word<<endl;\n            }\n        }\n        cout<<word<<endl;\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <climits>\n#include <cassert>\n#include <iostream>\n#include <iomanip>\n#include <sstream>\n#include <algorithm>\n#include <numeric>\n#include <complex>\n#include <stack>\n#include <queue>\n#include <list>\n#include <set>\n#include <map>\n#include <bitset>\n#include <functional>\n#include <iterator>\n#include <unordered_map>\n\nusing namespace std;\n\n#define dump(n) cout<<\"# \"<<#n<<'='<<(n)<<endl\n#define repi(i,a,b) for(int i=int(a);i<int(b);i++)\n#define peri(i,a,b) for(int i=int(b);i-->int(a);)\n#define rep(i,n) repi(i,0,n)\n#define per(i,n) peri(i,0,n)\n#define iter(c) __typeof__((c).begin())\n#define foreach(i,c) for(iter(c) i=(c).begin();i!=(c).end();++i)\n#define all(c) (c).begin(),(c).end()\n#define mp make_pair\n\ntypedef unsigned int uint;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<double> vd;\ntypedef vector<vd> vvd;\ntypedef vector<string> vs;\ntypedef pair<int,int> pii;\n\nconst int INFTY=1<<29;\nconst double EPS=1e-9;\n\ntemplate<typename T1,typename T2>\nostream& operator<<(ostream& os,const pair<T1,T2>& p){\n\treturn os<<'('<<p.first<<','<<p.second<<')';\n}\ntemplate<typename T>\nostream& operator<<(ostream& os,const vector<T>& a){\n\tos<<'[';\n\trep(i,a.size()) os<<(i?\" \":\"\")<<a[i];\n\treturn os<<']';\n}\n\nint main()\n{\n\tunordered_map<char,function<string(string)>> inv;\n\tinv['J']=[](string s){\n\t\trotate(s.begin(),s.end()-1,s.end());\n\t\treturn s;\n\t};\n\tinv['C']=[](string s){\n\t\trotate(s.begin(),s.begin()+1,s.end());\n\t\treturn s;\n\t};\n\tinv['E']=[](string s){\n\t\trep(i,s.size()/2) swap(s[i],s[(s.size()+1)/2+i]);\n\t\treturn s;\n\t};\n\tinv['A']=[](string s){\n\t\treturn string(s.rbegin(),s.rend());\n\t};\n\tinv['P']=[](string s){\n\t\tchar ds[]=\"9012345678\";\n\t\trep(i,s.size()) if(isdigit(s[i])) s[i]=ds[s[i]-'0'];\n\t\treturn s;\n\t};\n\tinv['M']=[](string s){\n\t\tchar ds[]=\"1234567890\";\n\t\trep(i,s.size()) if(isdigit(s[i])) s[i]=ds[s[i]-'0'];\n\t\treturn s;\n\t};\n\t\n\tint tc; cin>>tc;\n\twhile(tc--){\n\t\tstring m,s; cin>>m>>s;\n\t\treverse(all(m));\n\t\tfor(char c:m)\n\t\t\ts=inv[c](s);\n\t\tcout<<s<<endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n) for(int i=0; i<(n); i++)\n#define INF 1e8\nusing namespace std;\nbool is_digit(char x){\n    for(int i=48; i<=57; i++){\n        if(x == i) return true;\n    }\n    return false;\n}\nint main(){\n    int n;\n    cin >> n;\n    rep(k,n){\n        string s,t;\n        cin >> s >> t;\n        for(int i=s.size()-1; i>=0; i--){\n            //cout << t << endl;\n            if(s[i] == 'J') rotate(t.rbegin(),t.rbegin()+1,t.rend());\n            \n            if(s[i] == 'C') rotate(t.begin(),t.begin()+1,t.end());\n            if(s[i] == 'E') {\n                rep(j,t.size()/2){\n                    swap(t[j],t[t.size()-t.size()/2+j]);\n                }\n            }\n            if(s[i] == 'A') reverse(t.begin(),t.end());\n            if(s[i] == 'P') {\n                rep(j,t.size()){\n                    if(is_digit(t[j])) {\n                        if(t[j] == 48) t[j] = 57;\n                        else t[j]--;\n                    }\n                }\n            }\n            if(s[i] == 'M') {\n                rep(j,t.size()){\n                    if(is_digit(t[j])) {\n                        if(t[j] == 57) t[j] = 48;\n                        else t[j]++;\n                    }\n                }\n            }\n        }\n        cout << t << endl;\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nint main(){\n\tint n;\n\tcin >> n;\n\tfor(int i = 0;i < n;i++){\n\t\tstring s, t;\n\t\tcin >> t >> s;\n\t\tint sz = s.size();\n\t\t\n\t\tfor(int j = t.size()-1;j >= 0;j--){\n\t\t\tstring ns;\n\t\t\tif(t[j] == 'J'){\n\t\t\t\tns += s[sz-1];\n\t\t\t\tns += s.substr(0, sz-1);\n\t\t\t}\n\t\t\tif(t[j] == 'C'){\n\t\t\t\tns += s.substr(1, sz-1);\n\t\t\t\tns += s[0];\n\t\t\t}\n\t\t\tif(t[j] == 'E'){\n\t\t\t\tint hf = sz / 2;\n\t\t\t\tns += s.substr((sz+1)/2, hf);\n\t\t\t\tif(sz % 2) ns += s[hf];\n\t\t\t\tns += s.substr(0, hf);\n\t\t\t}\n\t\t\tif(t[j] == 'A'){\n\t\t\t\treverse(s.begin(), s.end());\n\t\t\t\tns = s;\n\t\t\t}\t\t\t\n\t\t\tif(t[j] == 'P'){\n\t\t\t\tfor(int k = 0;k < sz;k++){\n\t\t\t\t\tif(s[k] >= '0' && s[k] <= '9'){\n\t\t\t\t\t\tif(s[k] == '0'){\n\t\t\t\t\t\t\ts[k] = '9';\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\ts[k]--;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tns = s;\n\t\t\t}\n\t\t\tif(t[j] == 'M'){\n\t\t\t\tfor(int k = 0;k < sz;k++){\n\t\t\t\t\tif(s[k] >= '0' && s[k] <= '9'){\n\t\t\t\t\t\tif(s[k] == '9'){\n\t\t\t\t\t\t\ts[k] = '0';\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\ts[k]++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tns = s;\n\t\t\t}\n\t\t\ts = ns;\n//\t\t\tcout << t[j] << endl;\n//\t\t\tcout << s << endl;\n\t\t}\n\t\tcout << s << endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cstdio>\n#include <iostream>\n#include <string>\n#include <utility>\nusing namespace std;\n\n//メッセージ復元\nstring back(string s, char c){\n\tstring t=\"\";\n\tif(c=='J'){\n\t\tchar t1=s[s.size()-1];\n\t\tstring t2=s.substr(0, s.size()-1);\n\t\tt+=t1+t2;\n\t}\n\telse if(c=='C'){\n\t\tchar t1=s[0];\n\t\tstring t2=s.substr(1, s.size()-1);\n\t\tt+=t2+t1;\n\t}\n\telse if(c=='E'){\n\t\tint size=s.size();\n\t\tchar mid;\n\t\tif(size%2==1) mid=s[size/2];\n\t\t\n\t\tstring t1=s.substr(0, size/2);\n\t\tstring t2=s.substr((size+1)/2, size/2);\n\t\t\n\t\tt+=t2;\n\t\tif(size%2==1) t+=mid;\n\t\tt+=t1;\n\t}\n\telse if(c=='A'){\n\t\tt=s;\n\t\treverse(t.begin(), t.end());\n\t}\n\telse if(c=='P'){\n\t\tfor(int i=0; i<s.size(); ++i){\n\t\t\tif('0'<=s[i] && s[i]<='9'){\n\t\t\t\tif(s[i]=='0') t+='9';\n\t\t\t\telse t+=s[i]-1;\n\t\t\t}\n\t\t\telse t+=s[i];\n\t\t}\n\t}\n\telse if(c=='M'){\n\t\tfor(int i=0; i<s.size(); ++i){\n\t\t\tif('0'<=s[i] && s[i]<='9'){\n\t\t\t\tif(s[i]=='9') t+='0';\n\t\t\t\telse t+=s[i]+1;\n\t\t\t}\n\t\t\telse t+=s[i];\n\t\t}\t\n\t}\n\treturn t;\n}\n\nint main(){\n\tlong n;\n\tscanf(\" %ld\", &n);\n\tfor(long i=0; i<n; ++i){\n\t\tstring o; //order of the messenger\t\n\t\tstring m; //message given to the king\n\t\tcin >> o >> m;\n\t\tfor(int j=o.size()-1; j>=0; --j)\n\t\t\tm=back(m, o[j]);\t\t\n\t\t\n\t\tcout << m <<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\n#include <vector>\n#include <utility>\n#include <cstring>\nusing namespace std;\n\n#define rep(i,n) for(int i=0; i<n; i++)\ntypedef long long ll;\n\nint main() {\n\tint n;\n\tcin >> n;\n\twhile(n--) {\n\t\tstring order, message;\n\t\tcin >> order >> message;\n\t\tfor(int i=order.length()-1; i>=0; i--) {\n\t\t\tswitch(order[i]) {\n\t\t\t\tcase 'J':\n\t\t\t\t\tmessage = message[message.length()-1] + message.substr(0,message.length()-1);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'C':\n\t\t\t\t\tmessage = message.substr(1,message.length()-1) + message[0];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'E':\n\t\t\t\t\tif(message.length()%2) {\n\t\t\t\t\t\tmessage = message.substr(message.length()/2+1,message.length()/2) + message[message.length()/2] + message.substr(0,message.length()/2);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmessage = message.substr(message.length()/2,message.length()/2) + message.substr(0,message.length()/2);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'A':\n\t\t\t\t\treverse(message.begin(), message.end());\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'P':\n\t\t\t\t\tfor(int i=0; i<message.length(); i++) {\n\t\t\t\t\t\tif('0'<=message[i] && message[i]<='9') {\n\t\t\t\t\t\t\tmessage[i] = ((message[i]-'0'+9)%10)+'0';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'M':\n\t\t\t\t\tfor(int i=0; i<message.length(); i++) {\n\t\t\t\t\t\tif('0'<=message[i] && message[i]<='9') {\n\t\t\t\t\t\t\tmessage[i] = ((message[i]-'0'+1)%10)+'0';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tcout << message << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main(){\n  int n;\n  cin>>n;\n  while(n--){\n    string q,s;\n    cin>>q>>s;\n    for(int i=0;i<q.size();i++){\n      if(q[i]=='C')s=s.substr(1,s.size()-1)+s[0];\n      if(q[i]=='J')s=s[s.size()-1]+s.substr(0,s.size()-1);\n      if(q[i]=='E')\n\tfor(int j=0;j<s.size()/2;j++)swap(s[j],s[(s.size()+1)/2+j]);\n      if(q[i]=='A')reverse(s.begin(),s.end());\n      if(q[i]=='P')\n\tfor(int j=0;j<s.size();j++)\n\t  if(isdigit(s[j]))s[j]=((s[j]-'0'+10)-1)%10+'0';\n      if(q[i]=='M')\n\tfor(int j=0;j<s.size();j++)\n\t  if(isdigit(s[j]))s[j]=((s[j]-'0')+1)%10+'0';\n    }\n    cout<<s<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<cmath>\n#include<queue>\n#include<vector>\n#include<functional>\n#include<algorithm>\nusing namespace std;\nint main() {\n\tint n;\n\tcin >> n;\n\tfor (int z = 0; z < n; z++) {\n\t\tstring a, b;\n\t\tcin >> a >> b;\n\t\tfor (int i = a.length() - 1; i >= 0; i--) {\n\t\t\tstring c = \"\";\n\t\t\tif (a[i] == 'C') {\n\t\t\t\tfor (int i = 1; i < b.length(); i++) c += b[i];\n\t\t\t\tc += b[0];\n\t\t\t\tb = c;\n\t\t\t}\n\t\t\tif (a[i] == 'J') {\n\t\t\t\tc += b[b.length() - 1];\n\t\t\t\tfor (int i = 0; i < b.length() - 1; i++) c += b[i];\n\t\t\t\tb = c;\n\t\t\t}\n\t\t\tif (a[i] == 'E') {\n\t\t\t\tint d = floor(b.length() / 2.0);\n\t\t\t\tstring e = \"\", f = \"\", g = \"\";\n\t\t\t\tint h;\n\t\t\t\tif (b.length() % 2 == 0) h = b.length()/ 2;\n\t\t\t\telse h = d+1;\n\t\t\t\tfor (int i = 0; i < d; i++) {\n\t\t\t\t\te += b[i];\n\t\t\t\t}\n\t\t\t\tif(b.length()%2!=0)f = b[d];\n\t\t\t\tfor (int i = h; i < b.length(); i++) {\n\t\t\t\t\tg += b[i];\n\t\t\t\t}\n\t\t\t\tc += g += f += e;\n\t\t\t\tb = c;\n\t\t\t}\n\t\t\tif (a[i] == 'A') {\n\t\t\t\tfor (int i = b.length() - 1; i >= 0; i--) c += b[i];\n\t\t\t\tb = c;\n\t\t\t}\n\t\t\tif (a[i] == 'M') {\n\t\t\t\tfor (int i = 0; i < b.length(); i++) {\n\t\t\t\t\tif (b[i] >= '0'&&b[i] <= '8') {\n\t\t\t\t\t\tint e = (int)b[i] - '0';\n\t\t\t\t\t\te++;\n\t\t\t\t\t\tb[i] = (char)e + '0';\n\t\t\t\t\t}\n\t\t\t\t\telse if (b[i] == '9') {\n\t\t\t\t\t\tb[i] = '0';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (a[i] == 'P') {\n\t\t\t\tfor (int i = 0; i < b.length(); i++) {\n\t\t\t\t\tif (b[i] >= '1'&&b[i] <= '9') {\n\t\t\t\t\t\tint e = (int)b[i] - '0';\n\t\t\t\t\t\te--;\n\t\t\t\t\t\tb[i] = (char)e + '0';\n\t\t\t\t\t}\n\t\t\t\t\telse if (b[i] == '0') {\n\t\t\t\t\t\tb[i] = '9';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << b << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <string>\n#include <sstream>\n#include <algorithm>\n#include <vector>\n#include <utility>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n \nusing namespace std;\n \n#define rep(i,n) for(int i=0; i<(n); i++)\n#define repc(i,s,e) for(int i=(s); i<(e); i++)\n#define pb(n) push_back((n))\n#define mp(n,m) make_pair((n),(m))\n#define all(r) r.begin(),r.end()\n#define fi first\n#define se second\n \ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<vi> vii;\ntypedef vector<ll> vl;\ntypedef vector<vl> vll;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\n \n \n \n \nconst int INF = 1000000;\nconst double EPS = 1e-8;\nconst int mod = 1e9 + 7;\n \nstring change(string s, char c){\n\tstring ret;\n\n\tif(c == 'J'){\n\t\tret += s[s.size() - 1];\n\t\tfor(int i = 0; i < s.size() - 1; i++) ret += s[i];\n\t}else if(c == 'C'){\n\t\tfor(int i = 1; i < s.size(); i++) ret += s[i];\n\t\tret += s[0];\n\t}else if(c == 'E'){\n\t\tret = s;\n\t\tfor(int i = 0; i < s.size() / 2; i++){\n\t\t\tret[i] = s[(s.size() - 1) / 2 + 1 + i];\n\t\t\tret[(s.size() - 1) / 2 + 1 + i] = s[i];\n\t\t}\n\t}else if(c == 'A'){\n\t\tret = s;\n\t\treverse(all(ret));\n\t}else if(c == 'M'){\n\t\tret = s;\n\t\tfor(int i = 0; i < ret.size(); i++){\n\t\t\tif(ret[i] >= '0' && ret[i] < '9') ret[i]++;\n\t\t\telse if(ret[i] == '9') ret[i] = '0';\n\t\t}\n\t}else{\n\t\tret = s;\n\t\tfor(int i = 0; i < ret.size(); i++){\n\t\t\tif(ret[i] == '0') ret[i] = '9';\n\t\t\telse if(ret[i] > '0' && ret[i] <= '9') ret[i]--;\n\t\t}\n\t}\n\n\treturn ret;\n}\n\n\nint main(){\n\tint n;\n\tcin>>n;\n\tstring s, t;\n\tfor(int i = 0; i < n; i++){\n\t\tcin>>s>>t;\n\t\tfor(int i = 0; i < s.size(); i++){\n\t\t\tt = change(t, s[s.size() -1 -i]);\n\t\t\t//cout<<s[i]<<\" \"<<t<<endl;\n\t\t}\n\t\tcout<<t<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define rep(i, n) for(int i = 0; i < (n); i++)\n#define repp(i, l, r) for(int i = (l); i < (r); i++)\n#define per(i, n) for(int i = ((n)-1); i >= 0; i--)\n#define perr(i, l, r) for(int i = ((r)-1); i >= (l); i--)\n#define all(x) (x).begin(),(x).end()\n#define MOD 1000000007\n#define IINF 1000000000\n#define LINF 1000000000000000000\n#define SP <<\" \"<<\n#define CYES cout<<\"Yes\"<<endl\n#define CNO cout<<\"No\"<<endl\n#define CFS cin.tie(0);ios::sync_with_stdio(false)\n\ntypedef long long LL;\ntypedef long double LD;\n\nint main(){\n  int q;\n  cin >> q;\n  rep(t,q){\n    string m;\n    string s;\n    cin >> m >> s;\n    reverse(all(m));\n    rep(i,m.length()){\n      if(m[i]=='J'){\n        char tmp = s[s.length()-1];\n        perr(j,1,s.length()){\n          s[j]=s[j-1];\n        }\n        s[0]=tmp;\n      }else if(m[i]=='C'){\n        char tmp = s[0];\n        rep(j,s.length()-1){\n          s[j]=s[j+1];\n        }\n        s[s.length()-1]=tmp;\n      }else if(m[i]=='E'){\n        if(s.length()%2){\n          s = s.substr(s.length()/2+1,s.length()/2)+s.substr(s.length()/2,1)+s.substr(0,s.length()/2);\n        }else{\n          s = s.substr(s.length()/2,s.length()/2)+s.substr(0,s.length()/2);\n        }\n      }else if(m[i]=='A'){\n        reverse(all(s));\n      }else if(m[i]=='P'){\n        rep(j,s.length()){\n          if('0'<=s[j]&&s[j]<='9'){\n            s[j]=((s[j]-'0')+9)%10+'0';\n          }\n        }\n      }else{\n        rep(j,s.length()){\n          if('0'<=s[j]&&s[j]<='9'){\n            s[j]=((s[j]-'0')+1)%10+'0';\n          }\n        }\n      }\n    }\n    cout << s << endl;\n  }\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <cstring>\n#include <algorithm>\n#include <sstream>\n\n#define REP(i,k,n) for(int i=k;i<n;i++)\n#define rep(i,n) for(int i=0;i<n;i++)\n\nusing namespace std;\ntypedef long long ll;\n\nint main() {\n    int n;\n    cin >> n;\n\n    rep(i,n) {\n        string a,b;\n        cin >> a >> b;\n\n        rep(j,a.size()) {\n            if(a[j] == 'J') {\n                rotate(b.rbegin(),b.rbegin()+1,b.rend());\n            }\n            if(a[j] == 'C') {\n                rotate(b.begin(),b.begin()+1,b.end());\n            }\n            if(a[j] == 'E') {\n                stringstream ss;\n                REP(k,b.size()/2,b.size()) {\n                    ss << b[k];\n                }\n\n                rep(k,b.size()/2) {\n                    ss << b[k];\n                }\n\n                b = ss.str();\n            }\n            if(a[j] == 'A') {\n                reverse(b.begin(),b.end());\n            }\n            if(a[j] == 'P') {\n                rep(k,b.size()) {\n                    if(b[k] == '0') b[k] = '9';\n                    if('1' <= b[k] && b[k] <= '9') b[k]--;\n                }\n            }\n            if(a[j] == 'M') {\n                rep(k,b.size()) {\n                    if(b[k] == '9') b[k] = '0';\n                    if('0' <= b[k] && b[k] <= '8') b[k]++;\n                }\n            }\n        }\n\n        cout << b << endl;\n\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cmath>\n#include <cstring>\n#include <cstdlib>\n#include <climits>\n#include <ctime>\n#include <queue>\n#include <stack>\n#include <algorithm>\n#include <list>\n#include <vector>\n#include <set>\n#include <map>\n#include <iostream>\n#include <deque>\n#include <complex>\n#include <string>\n#include <iomanip>\n#include <sstream>\n#include <bitset>\n#include <valarray>\n#include <iterator>\nusing namespace std;\ntypedef long long int ll;\ntypedef unsigned int uint;\ntypedef unsigned char uchar;\ntypedef unsigned long long ull;\ntypedef pair<int, int> pii;\ntypedef vector<int> vi;\n\n#define REP(i,x) for(int i=0;i<(int)(x);i++)\n#define FOR(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();i++)\n#define RREP(i,x) for(int i=((int)(x)-1);i>=0;i--)\n#define RFOR(i,c) for(__typeof((c).rbegin())i=(c).rbegin();i!=(c).rend();i++)\n#define ALL(container) container.begin(), container.end()\n#define RALL(container) container.rbegin(), container.rend()\n#define SZ(container) ((int)container.size())\n#define mp(a,b) make_pair(a, b)\n#define UNIQUE(v) v.erase( unique(v.begin(), v.end()), v.end() );\n\ntemplate<class T> bool chmax(T &a, const T &b) { if (a<b) { a=b; return 1; } return 0; }\ntemplate<class T> bool chmin(T &a, const T &b) { if (a>b) { a=b; return 1; } return 0; }\ntemplate<class T> ostream& operator<<(ostream &os, const vector<T> &t) {\nos<<\"[\"; FOR(it,t) {if(it!=t.begin()) os<<\",\"; os<<*it;} os<<\"]\"; return os;\n}\ntemplate<class T> ostream& operator<<(ostream &os, const set<T> &t) {\nos<<\"{\"; FOR(it,t) {if(it!=t.begin()) os<<\",\"; os<<*it;} os<<\"}\"; return os;\n}\ntemplate<class S, class T> ostream& operator<<(ostream &os, const pair<S,T> &t) { return os<<\"(\"<<t.first<<\",\"<<t.second<<\")\";}\n\nconst int INF = 1<<28;\nconst double EPS = 1e-8;\nconst int MOD = 1000000007;\n\n\nint n;\n\nmain(){\n\tcin >> n;\n\twhile(n --){\n\t\tstring s,t;\n\t\tcin >> s >> t;\n\t\tRREP(i, s.size()){\n\t\t\tif(s[i] == 'P') FOR(c, t) if(isdigit(*c) && !isdigit(--*c)) *c = '9';\n\t\t\tif(s[i] == 'M') FOR(c, t) if(isdigit(*c) && !isdigit(++*c)) *c = '0';\n\t\t\tif(s[i] == 'A') reverse(ALL(t));\n\t\t\tif(s[i] == 'J') t = t[t.size()-1] + t.substr(0, t.size()-1);\n\t\t\tif(s[i] == 'C') t = t.substr(1, t.size()-1) + t[0];\n\t\t\tif(s[i] == 'E') REP(i, t.size()/2) swap(t[i], t[t.size()-t.size()/2+i]);\n\t\t\t\n\t\t}\n\t\tcout << t << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <iostream>\n#include <utility>\n#include <algorithm>\n#include <string>\n#include <deque>\n#include <queue>\n#include <tuple>\n#include <queue>\n#include <functional>\n#include <cmath>\n#include <iomanip>\n#include <map>\n#include <set>\n#include <numeric>\n#include <unordered_map>\n#include <unordered_set>\n#include <complex>\n#include <iterator>\n#include <array>\n#include <memory>\n#include <stack>\n#define vi vector<int>\n#define vvi vector<vector<int> >\n#define ll long long int\n#define vl vector<ll>\n#define vvl vector<vector<ll>>\n#define vb vector<bool>\n#define vc vector<char>\n#define vs vector<string>\n#define ld long double\n#define INF 1e9\n#define EPS 0.0000000001\n#define rep(i,n) for(int i=0;i<n;i++)\n#define loop(i,s,n) for(int i=s;i<n;i++)\n#define all(in) in.begin(), in.end()\ntemplate<class T, class S> void cmin(T &a, const S &b) { if (a > b)a = b; }\ntemplate<class T, class S> void cmax(T &a, const S &b) { if (a < b)a = b; }\n#define MAX 9999999\nusing namespace std;\ntypedef pair<int, int> pii;\ntypedef pair<double,double>pdd;\ntypedef pair<ll,ll>pll;\nstring solve(string s,char order){\n    if(order=='C'){\n        char hoge=s[0];\n        s.erase(s.begin());\n        s.push_back(hoge); return s;\n    }if(order=='J'){\n        char hoge=s[s.size()-1];\n        s.insert(s.begin(),hoge);\n        s.erase(s.end()-1);\n        return s;\n    }if(order=='E'){\n        \n        string hoge;\n        if(s.size()%2)hoge.push_back(s[(s.size()-1)/2]);\n        for(int i=0; i<=(s.size()-1)/2;i++){\n            if(i==(s.size()-1)/2&&s.size()%2)continue;\n            hoge.push_back(s[i]);\n        }\n        string gotiusa;\n        for(int i=(int)(s.size()-1)/2+1;i<s.size();i++)\n            gotiusa.push_back(s[i]);\n        return (gotiusa+hoge);\n    }if(order=='A'){\n        reverse(s.begin(),s.end());\n        return s;\n    }if(order=='P'){\n        rep(i,s.size()){\n            if('0'<=s[i]&&s[i]<='9'){\n                if(s[i]=='9')s[i]='0';\n                else{string hoge=to_string(s[i]-'1'); s[i]=hoge[0];}\n            }\n        }\n        return s;\n    }if(order=='M'){\n        rep(i,s.size()){\n            if('0'<=s[i]&&s[i]<='9'){\n                if(s[i]=='0')s[i]='9';\n                else{string hoge=to_string(s[i]-'0'+1); s[i]=hoge[0];}\n            }\n        }\n        return s;\n    }\n    \n    return s;\n}\nint main(){\n    int gotiusa; cin>>gotiusa;\n    rep(_,gotiusa){\n        string key,s;\n        cin>>key;\n        cin>>s;\n        for(int i=(int)key.size()-1; i>=0;i--){\n            s=solve(s,key[i]);\n        }\n        cout<<s<<endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<string>\nusing namespace std;\nstring decC(string s)\n{\n\tstring mess=s;\n\tmess[s.size()-1]=s[0];\n\tfor(int i = 0; i < s.size()-1; ++i)\n\t{\n\t\tmess[i]=s[i+1];\n\t}\n\treturn mess;\n}\n\nstring decJ(string s)\n{\n\tstring mess=s;\n\tmess[0]=s[s.size()-1];\n\tfor(int i = 1; i < s.size(); ++i)\n\t{\n\t\tmess[i]=s[i-1];\n\t}\n\treturn mess;\n}\n\nstring decE(string s)\n{\n\tint n=s.size();\n\tstring l=s.substr(0,n/2);\n\tstring m=n%2==0?\"\":s.substr(n/2,1);\n\tstring r=n%2==0?s.substr(n/2):s.substr(n/2+1);\n\n\treturn r+m+l;\n}\n\nstring decP(string s)\n{\n\tfor(int i = 0; i < s.size(); ++i)\n\t{\n\t\tif('0'<=s[i]&&s[i]<='9')\n\t\t{\n\t\t\tif(s[i]=='0') s[i]='9';\n\t\t\telse s[i]-=1;\n\t\t}\n\t}\n\treturn s;\n}\n\nstring decM(string s)\n{\n\tfor(int i = 0; i < s.size(); ++i)\n\t{\n\t\tif('0'<=s[i]&&s[i]<='9')\n\t\t{\n\t\t\tif(s[i]=='9') s[i]='0';\n\t\t\telse s[i]+=1;\n\t\t}\n\t}\n\treturn s;\n}\n\nint main()\n{\n\tint n; cin>>n;\n\twhile(n--) \n\t{\n\t\tstring order,mess; cin>>order>>mess;\n\n\t\tfor(int i = order.size()-1; 0 <= i; --i)\n\t\t{\n\t\t\tif(order[i]=='J') mess=decJ(mess);\n\t\t\tif(order[i]=='C') mess=decC(mess);\n\t\t\tif(order[i]=='E') mess=decE(mess);\n\t\t\tif(order[i]=='A') reverse(mess.begin(),mess.end());\n\t\t\tif(order[i]=='P') mess=decP(mess);\n\t\t\tif(order[i]=='M') mess=decM(mess);\n\t\t}\n\t\tcout<<mess<<endl;\n\t}\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing ll=long long;\nusing vi=vector<int>;\nusing vvi=vector<vi>;\nusing vd=vector<double>;\nusing vvd=vector<vd>;\nusing vl=vector<ll>;\nusing vvl=vector<vl>;\nusing pii=pair<int,int>;\nusing vs=vector<string>;\n#define rep(i,n) range(i,0,n)\n#define range(i,a,n) for(int i=a;i<n;i++)\n#define all(a) a.begin(),a.end()\n#define LINF    \t((ll)1ll<60)\n#define INF     \t((int)1<<30)\n#define EPS     \t(1e-9)\n#define MOD     \t(1000000007)\n#define fcout(a)\tcout<<setprecision(a)<<fixed\n#define fs \t\t\tfirst\n#define sc\t\t\tsecond\n#define PI\t\t\t3.141592653589793\n\ntemplate<class S,class T>ostream& operator<<(ostream&os,pair<S,T>p){os<<\"[\"<<p.first<<\", \"<<p.second<<\"]\";return os;};\ntemplate<class S>auto&operator<<(ostream&os,vector<S>t){bool a=1; for(auto s:t){os<<(a?\"\":\" \")<<s; a=0;} return os;}\n\nint main(){\n\tcin.tie(0);\n   \tios::sync_with_stdio(false);\n\t\n\tint n;cin>>n;\n  \trep(_,n){\n  \t    string q,s;\n  \t    cin>>q>>s;\n  \t    reverse(all(q));\n  \t    int l=s.size();\n  \t    for(auto Q:q){\n  \t        switch(Q){\n  \t            case 'J': s=s.substr(l-1)+s.substr(0,l-1); break;\n  \t            case 'C': s=s.substr(1)+s.substr(0,1); break;\n  \t            case 'E': s=s.substr((l+1)/2)+s.substr((l+1)/2-1,l%2)+s.substr(0,l/2); break;\n  \t            case 'A': reverse(all(s)); break;\n  \t            case 'P': for(auto&c:s)if(isdigit(c))c=(c=='0'?'9':c-1); break;\n  \t            case 'M': for(auto&c:s)if(isdigit(c))c=(c=='9'?'0':c+1); break;\n  \t        }\n  \t    }\n        cout<<s<<endl;\n  \t}\n  \t\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\nusing namespace std;\nint main()\n{\n\tint n;\n\tcin >> n;\n\twhile (n--)\n\t{\n\t\tstring a, b;\n\t\tcin >> b >> a;\n\t\treverse(b.begin(),b.end());\n\t\tfor (int i = 0; i < b.size(); i++)\n\t\t{\n\t\t\tif (b[i] == 'A')\n\t\t\t\treverse(a.begin(), a.end());\n\t\t\telse if (b[i] == 'C')\n\t\t\t{\n\t\t\t\tstring temp;\n\t\t\t\ttemp = a[0];\n\t\t\t\ta.erase(a.begin(), a.begin() + 1);\n\t\t\t\ta += temp;\n\t\t\t}\n\t\t\telse if (b[i] == 'J')\n\t\t\t{\n\t\t\t\tstring temp;\n\t\t\t\ttemp = a[a.size() - 1];\n\t\t\t\treverse(a.begin(), a.end());\n\t\t\t\ta.erase(a.begin(), a.begin() + 1);\n\t\t\t\treverse(a.begin(), a.end());\n\t\t\t\ttemp += a;\n\t\t\t\ta.clear();\n\t\t\t\ta = temp;\n\t\t\t}\n\t\t\telse if (b[i] == 'E')\n\t\t\t{\n\t\t\t\tif (a.size() % 2 == 0)\n\t\t\t\t{\n\t\t\t\t\tstring temp, temp2;\n\t\t\t\t\ttemp = a.substr(0, a.size() / 2);\n\t\t\t\t\ttemp2 = a.substr(a.size() / 2, a.size());\n\t\t\t\t\ta.clear();\n\t\t\t\t\ta = temp2 + temp;\n\t\t\t\t}\n\t\t\t\telse if (a.size() % 2 != 0)\n\t\t\t\t{\n\t\t\t\t\tstring temp, temp2;\n\t\t\t\t\ttemp = a.substr(0, a.size() / 2+1);\n\t\t\t\t\ttemp2 = a.substr(a.size() / 2 + 1, a.size());\n\t\t\t\t\ta.clear();\n\t\t\t\t\ta.push_back(temp[temp.size() - 1]);\n\t\t\t\t\treverse(temp.begin(), temp.end());\n\t\t\t\t\ttemp.erase(temp.begin(), temp.begin() + 1);\n\t\t\t\t\treverse(temp.begin(), temp.end());\n\t\t\t\t\ttemp2 +=a+temp;\n\t\t\t\t\ta.clear();\n\t\t\t\t\ta = temp2;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (b[i] == 'P')\n\t\t\t{\n\t\t\t\tfor (int i = 0; i < a.size(); i++)\n\t\t\t\t{\n\t\t\t\t\tif (a[i] >= '0' && a[i] <= '9')\n\t\t\t\t\t{\n\t\t\t\t\t\tif (a[i] == '9')\n\t\t\t\t\t\t\ta[i] = '0';\n\t\t\t\t\t\telse if (a[i] == '0')\n\t\t\t\t\t\t\ta[i] = '9';\n\t\t\t\t\t\telse (int)a[i]--;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (b[i] == 'M')\n\t\t\t{\n\t\t\t\tfor (int i = 0; i < a.size(); i++)\n\t\t\t\t{\n\t\t\t\t\tif (a[i] >= '0' && a[i] <= '9')\n\t\t\t\t\t{\n\t\t\t\t\t\tif ((int)a[i] == '0')\n\t\t\t\t\t\t\ta[i] = '9';\n\t\t\t\t\t\telse if ((int)a[i] == '9')\n\t\t\t\t\t\t\ta[i] = '0';\n\t\t\t\t\t\telse (int)a[i]++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << a << endl;\n\t}\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <cctype>\n#include <string>\nusing namespace std;\n\nstring oom, mes;\n\n\nvoid rJ() {\n  const string tmp = mes;\n  mes = tmp[tmp.length()-1] + tmp.substr(0, tmp.length()-1);\n}\nvoid rC() {\n  const string tmp = mes;\n  mes = tmp.substr(1) + tmp[0];\n}\nvoid rE() {\n  string l = mes.substr(0, mes.length()/2);\n  string r = mes.substr((mes.length()+1)/2);\n  if(mes.length() % 2 != 0) {\n    mes = r + mes[mes.length()/2] + l;\n  } else {\n    mes = r + l;\n  }\n}\nvoid rA() {\n  reverse(mes.begin(), mes.end());\n}\n\nvoid rP() {\n  for(int i = 0; i < mes.length(); ++i) {\n    if(isdigit(mes[i])) {\n      mes[i] = (mes[i]-'0'+9)%10+'0';\n    }\n  }\n}\nvoid rM() {\n  for(int i = 0; i < mes.length(); ++i) {\n    if(isdigit(mes[i])) {\n      mes[i] = (mes[i]-'0'+1)%10+'0';\n    }\n  }\n}\n\nvoid solve() {\n  reverse(oom.begin(), oom.end());\n  for(int i = 0; i < oom.length(); ++i) {\n    switch(oom[i]) {\n    case 'J': rJ(); break;\n    case 'C': rC(); break;\n    case 'E': rE(); break;\n    case 'A': rA(); break;\n    case 'P': rP(); break;\n    case 'M': rM(); break;\n    }\n  }\n  cout << mes << endl;\n}\n\nmain() {\n  int n;\n  cin >> n;\n  for(int i = 0; i < n; ++i) {\n    cin >> oom;\n    cin >> mes;\n    solve();\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#define _CRT_SECURE_NO_WARNINGS\n#define _USE_MATH_DEFINES\n\n#include \"bits/stdc++.h\"\n#define REP(i,a,b) for(i=a;i<b;++i)\n#define rep(i,n) REP(i,0,n)\n#define ll long long\n#define ull unsigned ll\ntypedef long double ld;\n#define ALL(a) (a).begin(),(a).end()\n#define ifnot(a) if(not a)\n#define dump(x)  cerr << #x << \" = \" << (x) << endl\nusing namespace std;\n\nvoid reader(int &a) { scanf(\"%d\", &a); }\nvoid reader(double &a) { scanf(\"%lf\", &a); }\nvoid reader(char a[]) { scanf(\"%s\", a); }\nvoid reader(char &a) { scanf(\" %c\", &a); }\nvoid reader(ll &a) { scanf(\"%lld\", &a); }\nvoid reader(ull &a) { scanf(\"%llu\", &a); }\n// void reader(string& a){cin >> a;};\ntemplate<class T, class U> void reader(T& t, U& u) { reader(t); reader(u); }\ntemplate<class T, class U, class V> void reader(T& t, U& u, V& v) { reader(t); reader(u); reader(v); }\n\nvoid writer(const int a, char c) { printf(\"%d\", a); putchar(c); }\nvoid writer(const ll a, char c) { printf(\"%lld\", a); putchar(c); }\nvoid writer(const ull a, char c) { printf(\"%llu\", a); putchar(c); }\nvoid writer(const double a, char c) { printf(\"%.20lf\", a); putchar(c); }\nvoid writer(const char a[]) { printf(\"%s\", a); };\nvoid writer(const char a[], char c) { printf(\"%s\", a); putchar(c); };\nvoid writer(const char a, char c) { putchar(a); putchar(c); };\ntemplate<class T> void writerLn(T t) { writer(t, '\\n'); }\ntemplate<class T, class U> void writerLn(T t, U u) { writer(t, ' '); writer(u, '\\n'); }\ntemplate<class T, class U, class V> void writerLn(T t, U u, V v) { writer(t, ' '); writer(u, ' '); writer(v, '\\n'); }\ntemplate<class T> void writerArr(T x[], int n) { int i; if (!n) { putchar('\\n'); return; }rep(i, n - 1) writer(x[i], ' '); writer(x[n - 1], '\\n'); }\ntemplate<class T> void writerVec(vector<T> x) { int n = x.size(); int i; if (!n) { putchar('\\n'); return; }rep(i, n - 1) writer(x[i], ' '); writer(x[n - 1], '\\n'); }\n\nvector<string> split(const string &str, char sep) { vector<string> v; stringstream ss(str); string buffer; while (getline(ss, buffer, sep)) { v.push_back(buffer); }return v; }\n// #define int ll\nbool test = 0;\nint dx[] = { 0,1,0,-1 };\nint dy[] = { 1,0,-1,0 };\n#define INF (1 << 28)\null mod = (int)1e9 + 7;\n//.....................\n#define MAX 22\n\nint N, Q;\n\nint W, H;\n\nsigned main(void)\n{\n\tint i, j, k, l;\n\tint n;\n\tint loop;\n\tcin >> n;\n\trep(loop, n) {\n\t\tstring op;\n\t\tstring input;\n\t\tcin >> op;\n\t\tcin >> input;\n\t\tint N = input.size();\n\t\tfor (i = op.size() - 1; i > -1; --i) {\n\t\t\tif (op[i] == 'J') {\n\t\t\t\tchar buf = input[N-1];\n\t\t\t\tfor (j = N - 1; j > 0; --j) {\n\t\t\t\t\tinput[j] = input[j - 1];\n\t\t\t\t}\n\t\t\t\tinput[0] = buf;\n\t\t\t}\n\t\t\tif (op[i] == 'C') {\n\t\t\t\tchar buf = input[0];\n\t\t\t\trep(j, N-1) {\n\t\t\t\t\tinput[j] = input[j + 1];\n\t\t\t\t}\n\t\t\t\tinput[N - 1] = buf;\n\t\t\t}\n\t\t\t\n\t\t\tif (op[i] == 'E') {\n\t\t\t\tstring buf = input.substr(N / 2 + N % 2);\n\t\t\t\tif (N % 2) {\n\t\t\t\t\tbuf += input[N / 2];\n\t\t\t\t}\n\t\t\t\tbuf += input.substr(0, N / 2);\n\t\t\t\tinput = buf;\n\t\t\t}\n\t\t\tif (op[i] == 'A') {\n\t\t\t\treverse(ALL(input));\n\t\t\t}\n\t\t\tif(op[i] == 'P') {\n\t\t\t\trep(j, N) {\n\t\t\t\t\tif (isdigit(input[j])) {\n\t\t\t\t\t\tif (input[j] != '0') input[j] -= 1;\n\t\t\t\t\t\telse input[j] = '9';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (op[i] == 'M') {\n\t\t\t\trep(j, N) {\n\t\t\t\t\tif (isdigit(input[j])) {\n\t\t\t\t\t\tif (input[j] != '9') input[j] += 1;\n\t\t\t\t\t\telse input[j] = '0';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n \n\t\t}\n\t\tcout << input << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <vector>\n#include <cmath>\n#include <algorithm>\n#include <numeric>\n\nusing namespace std;\nusing ll = long long;\n\nstring J(const string& S)\n{\n    const int N = S.size();\n    string s;\n    s.resize(N);\n    for (int i = 0; i < N; i++) {\n        s[i] = S[(i + 1) % N];\n    }\n    return s;\n}\n\nstring C(const string& S)\n{\n    const int N = S.size();\n    string s;\n    s.resize(N);\n    for (int i = 0; i < N; i++) {\n        s[i] = S[(i + N - 1) % N];\n    }\n    return s;\n}\n\nstring E(const string& S)\n{\n    const int N = S.size();\n    const int shift = (N + 1) / 2;\n    string s;\n    s.resize(N);\n    for (int i = 0; i < N; i++) {\n        if (i + shift < N) {\n            s[i] = S[i + shift];\n        } else {\n            s[i] = S[i - shift];\n        }\n    }\n    return s;\n}\n\nstring A(const string& S)\n{\n    string s = S;\n    reverse(s.begin(), s.end());\n    return s;\n}\n\nstring P(const string& S)\n{\n    const int N = S.size();\n    string s = S;\n    for (int i = 0; i < N; i++) {\n        if (s[i] >= '1' and s[i] <= '9') {\n            s[i]--;\n        } else if (s[i] == '0') {\n            s[i] = '9';\n        }\n    }\n    return s;\n}\n\nstring M(const string& S)\n{\n    const int N = S.size();\n    string s = S;\n    for (int i = 0; i < N; i++) {\n        if (s[i] >= '0' and s[i] <= '8') {\n            s[i]++;\n        } else if (s[i] == '9') {\n            s[i] = '0';\n        }\n    }\n    return s;\n}\n\nstring op(const char c, const string& S)\n{\n    switch (c) {\n    case 'J':\n        return J(S);\n    case 'C':\n        return C(S);\n    case 'E':\n        return E(S);\n    case 'A':\n        return A(S);\n    case 'P':\n        return P(S);\n    case 'M':\n        return M(S);\n    }\n}\n\nint main()\n{\n    int n;\n    cin >> n;\n    for (int i = 0; i < n; i++) {\n        string s;\n        cin >> s;\n        reverse(s.begin(), s.end());\n        string m;\n        cin >> m;\n        for (const char c : s) {\n            m = op(c, m);\n        }\n        cout << m << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\n#include <utility>\nusing namespace std;\n\nstring dec(string str,char c){\n\tif(c=='J'){\n\t\tint e=str.size()-1;\n\t\tstr=str[e]+str;\n\t\tstr.pop_back();\n\t}\n\telse if(c=='C'){\n\t\tstr=str+str[0];\n\t\tstr.erase(str.begin());\n\t}\n\telse if(c=='E'){\n\t\tint t=0;\n\t\twhile(2*t<(str.size()-1)){\n\t\t\tswap(str[t],str[(str.size()+1)/2+t]);\n\t\t\tt++;\n\t\t}\n\t}\n\telse if(c=='A'){\n\t\treverse(str.begin(),str.end());\n\t}\n\telse if(c=='P'){\t\n\t\tfor(int i=0;i<str.size();i++){\n\t\t\tif(str[i]>='0' && str[i]<='9')str[i]=((str[i]-'0')+9)%10+'0';\n\t\t}\n\t}\n\telse if(c=='M'){\n\t\tfor(int i=0;i<str.size();i++){\n\t\t\tif(str[i]>='0' && str[i]<='9')str[i]=((str[i]-'0')+1)%10+'0';\n\t\t}\n\t}\n\treturn str;\n}\n\nint main(){\n\tint n;\n\tcin>>n;\n\twhile(n--){\n\t\tstring ord,mes;\n\t\tcin>>ord>>mes;\n\t\treverse(ord.begin(),ord.end());\n\t\tfor(int i=0;i<ord.size();i++){\n\t\t\tmes=dec(mes,ord[i]);\n\t\t}\n\t\tcout<<mes<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i, a, n) for(int i = a; i < n; i++)\n#define repp(i, n) rep(i, 0, n)\n#define repb(i, a, b) for(int i = a; i >= b; i--)\n#define all(a) a.begin(), a.end()\n//#define int long long\nusing namespace std;\n\nstring hoge(string m, char c){\n    int h = m.size() / 2;\n    int sz = m.size();\n    string res = \"\";\n    if(c == 'J'){\n        res = m[sz - 1] + m.substr(0, sz - 1);\n    }else if(c == 'C'){\n        res = m.substr(1, sz - 1) + m[0];\n    }else if(c == 'E'){\n        rep(i, 0, h){\n            swap(m[i], m[(sz + 1) / 2 + i]);\n        }\n        res = m;\n    }else if(c == 'A'){\n        res = m;\n        reverse(all(res));\n    }else if(c == 'P'){\n        rep(i, 0, sz){\n            int tmp = m[i] - '0';\n            if(0 < tmp && tmp <= 9) m[i] = '0' + tmp - 1;\n            else if(tmp == 0) m[i] = '9';\n        }\n        res = m;\n    }else if(c == 'M'){\n        rep(i, 0, sz){\n            int tmp = m[i] - '0';\n            if(0 <= tmp && tmp < 9) m[i] = '0' + tmp + 1;\n            else if(tmp == 9) m[i] = '0';\n        }\n        res = m;\n    }\n    return res;\n}\n\nsigned main(){\n    int n;\n    cin >> n;\n    rep(x, 0, n){\n        string s, m;;\n        cin >> s >> m;\n        repb(i, s.size() - 1, 0){\n            m = hoge(m, s[i]);\n        }\n        cout << m << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<string>\nusing namespace std;\n\nvoid Swap(string &s){\n  for(int i=0;i<s.size()/2;i++){\n    swap(s[i],s[(s.size()+1)/2+i]);\n  }\n}\n\nvoid Inc(string &s){\n  for(int i=0;i<s.size();i++){\n    if('0'<=s[i] && s[i]<='8')s[i]++;\n    else if(s[i] == '9')s[i] = '0';\n  }\n}\n\nvoid Dec(string &s){\n  for(int i=0;i<s.size();i++){\n    if('1'<=s[i] && s[i]<='9')s[i]--;\n    else if(s[i] == '0')s[i] = '9';\n  }\n}\n\nint main(){\n  int n;\n  string r,m;\n\n  cin >> n;\n  for(int i=0;i<n;i++){\n    cin >> r >> m;\n    for(int i=r.size()-1;i>=0;i--){\n      if(r[i]=='A')reverse(m.begin(),m.end());\n      if(r[i]=='C')m = m.substr(1,m.size()-1) + m[0];\n      if(r[i]=='E')Swap(m);\n      if(r[i]=='M')Inc(m);\n      if(r[i]=='J')m = m[m.size()-1] + m.substr(0,m.size()-1);\n      if(r[i]=='P')Dec(m);\n    }\n    cout << m << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\nint main(){\n\tint n;\n\tstring a=\"0123456789\";\n\tcin>>n;\n\tfor(int i=0;i<n;i++){\n\t\tstring er,ki,ori;\n\t\tcin>>er>>ki;\n\t\tint m=er.size();\n\t\tint len=ki.size();\n\t\tori=ki;\n\t\tfor(int j=m-1;j>=0;j--){\n\t\t\tif(er[j]=='J'){\n\t\t\t\tfor(int k=0;k<len;k++){\n\t\t\t\t\tori[k]=ki[(k+len-1)%len];\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(er[j]=='C'){\n\t\t\t\tfor(int k=0;k<len;k++){\n\t\t\t\t\tori[k]=ki[(k+1)%len];\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(er[j]=='E'){\n\t\t\t\tif(len%2==0){\n\t\t\t\t\tfor(int k=0;k<len/2;k++){\n\t\t\t\t\t\tori[k]=ki[k+len/2];\n\t\t\t\t\t\tori[k+len/2]=ki[k];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tint naka=len/2;\n\t\t\t\t\tfor(int k=0;k<naka;k++){\n\t\t\t\t\t\tori[k]=ki[k+naka+1];\n\t\t\t\t\t\tori[k+naka+1]=ki[k];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(er[j]=='A'){\n\t\t\t\tfor(int k=0;k<len;k++){\n\t\t\t\t\tori[k]=ki[len-k-1];\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(er[j]=='P'){\n\t\t\t\tfor(int k=0;k<len;k++){\n\t\t\t\t\tfor(int h=0;h<10;h++){\n\t\t\t\t\t\tif(ki[k]==a[h]){\n\t\t\t\t\t\t\tori[k]=a[(h+9)%10];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(er[j]=='M'){\n\t\t\t\tfor(int k=0;k<len;k++){\n\t\t\t\t\tfor(int h=0;h<10;h++){\n\t\t\t\t\t\tif(ki[k]==a[h]){\n\t\t\t\t\t\t\tori[k]=a[(h+1)%10];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tki=ori;\n\t\t}\n\t\tcout<<ori<<endl;\n\t}\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <cmath>\n#include <ctype.h>\n#include <string> \n#include <sstream>\n#include <iostream>\n#include <algorithm>\n#include <cstdlib>\n#include <map>\n#include <queue>\n#include <utility>\n#include <vector>\n\nusing namespace std;\n\nvoid c_j(string str);\nvoid c_c(string str);\nvoid c_e(string str);\nvoid c_a(string str);\nvoid c_p(string str);\nvoid c_m(string str);\n\nint main()\n{\n\tint n;\n\tstring order, message;\n\tcin >> n;\n\tfor(int i = 0; i < n; i++){\n\t\tcin >> order >> message;\n\t\tfor(int j = order.length()-1; j >= 0; j++){\n\t\t\tif(order[j] == 'J') c_j(message);\n\t\t\telse if(order[j] == 'C') c_c(message);\n\t\t\telse if(order[j] == 'E') c_e(message);\n\t\t\telse if(order[j] == 'A') c_a(message);\n\t\t\telse if(order[j] == 'P') c_p(message);\n\t\t\telse if(order[j] == 'M') c_m(message); \n\t\t}\n\t\tcout << message << endl;\n\t}\n\treturn 0;\n}\n\nvoid c_j(string str)\n{\n\tchar c;\n\tc = str[str.length()-1];\n\tstr.erase(str.end());\n\tstr = c + str;\n}\n\nvoid c_c(string str)\n{\n\tchar c;\n\tc = str[0];\n\tstr.erase(str.begin());\n\tstr += c;\n}\n\nvoid c_e(string str)\n{\n\tstring a;\n\tint l = str.length();\n\ta = str.substr(0, l / 2);\n\tif( l % 2 == 1){\n\t\tchar c = str[l / 2 + 1];\n\t\tstr.erase(str.begin(), str.begin() + l);\n\t\tstr += c;\n\t\tstr += a;\n\t} else {\n\t\tstr.erase(str.begin(), str.begin() + (l - 1));\n\t\tstr += a;\n\t}\n}\n\nvoid c_a(string str)\n{\n\treverse(str.begin(), str.end());\n}\n\nvoid c_p(string str)\n{\n\tfor(int i = 0; i < str.length() - 1; i++){\n\t\tif(isdigit(str[i])){\n\t\t\tint n = str[i] - '0';\n\t\t\tn--;\n\t\t\tif(n == -1) n = 9;\n\t\t\tstr[i] = n + '0';\n\t\t}\n\t}\n}\n\nvoid c_m(string str)\n{\n\tfor(int i = 0; i < str.length() - 1; i++){\n\t\tif(isdigit(str[i])){\n\t\t\tint n = str[i] - '0';\n\t\t\tn = (n + 1) % 10;\n\t\t\tstr[i] = n + '0';\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\n#include <utility>\n#include <cctype>\n\nusing namespace std;\n\nint main(){\n\tint T;\n\tcin >> T;\n\twhile(T--){\n\t\tstring a, b;\n\t\tcin >> a >> b;\n\t\tfor(int i = a.size() - 1; i >= 0; --i){\n\t\t\tif(a[i] == 'J'){\n\t\t\t\tb = b.substr(b.size() - 1) + b.substr(0, b.size() - 1);\n\t\t\t}else if(a[i] == 'C'){\n\t\t\t\tb = b.substr(1) + b.substr(0, 1);\n\t\t\t}else if(a[i] == 'E'){\n\t\t\t\tint half = b.size() / 2;\n\t\t\t\tfor(int j = 0; j < half; ++j){\n\t\t\t\t\tswap(b[j], b[b.size() - half + j]);\n\t\t\t\t}\n\t\t\t}else if(a[i] == 'A'){\n\t\t\t\treverse(b.begin(), b.end());\n\t\t\t}else if(a[i] == 'P'){\n\t\t\t\tfor(int j = 0; j < b.size(); ++j){\n\t\t\t\t\tif(!isdigit(b[j])){ continue; }\n\t\t\t\t\tb[j] = (b[j] == '0' ? '9' : (b[j] - 1));\n\t\t\t\t}\n\t\t\t}else if(a[i] == 'M'){\n\t\t\t\tfor(int j = 0; j < b.size(); ++j){\n\t\t\t\t\tif(!isdigit(b[j])){ continue; }\n\t\t\t\t\tb[j] = (b[j] == '9' ? '0' : (b[j] + 1));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << b << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <list>\n#include <map>\n#include <set>\n#include <deque>\n#include <stack>\n#include <bitset>\n#include <algorithm>\n#include <functional>\n#include <numeric>\n#include <utility>\n#include <sstream>\n#include <queue>\n#include <iostream>\n#include <iomanip>\n#include <cstdio>\n#include <complex>\n#include <cmath>\n#include <cstdlib>\n#include <cctype>\n#include <string>\n#include <cstring>\n#include <ctime>\n#include <fstream>\n#include <stdio.h>\n\nusing namespace std;\n\n//conversion\n//------------------------------------------\ninline int toInt(string s) {int v; istringstream sin(s);sin>>v;return v;}\ntemplate<class T> inline string toString(T x) {ostringstream sout;sout<<x;return sout.str();}\n\n//typedef\n//------------------------------------------\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<double> VEC;\ntypedef vector<VEC> MAT;\ntypedef vector<string> VS;\ntypedef pair<int, int> PII;\ntypedef pair<int, PII> TIII;\ntypedef long long LL;\ntypedef vector<LL> VLL;\ntypedef vector<VLL> VVLL;\n//container util\n\n//------------------------------------------\n#define ALL(a)  (a).begin(),(a).end()\n#define RALL(a) (a).rbegin(), (a).rend()\n#define PB push_back\n#define MP make_pair\n#define SZ(a) int((a).size())\n#define EACH(i,c) for(typeof((c).begin()) i=(c).begin(); i!=(c).end(); ++i)\n#define EXIST(s,e) ((s).find(e)!=(s).end())\n#define SORT(c) sort((c).begin(),(c).end())\n#define MT(a,b,c) MP(a, MP(b, c))\n#define T1 first\n#define T2 second.first\n#define T3 second.second\n\n//repetition\n//------------------------------------------\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n)  FOR(i,0,n)\n#define EPS 1.0e-9\n\nstring conv(string s, char c){\n\tint n=s.length();\n\tif(c=='J'){\n\t\ts=s[n-1]+s.substr(0,n-1);\n\t}else if(c=='C'){\n\t\ts=s.substr(1,n-1)+s[0];\n\t}else if(c=='E'){\n\t\tif(n%2)s=s.substr((n+1)/2,n/2)+s[(n-1)/2]+s.substr(0,n/2);\n\t\telse s=s.substr(n/2,n/2)+s.substr(0,n/2);\n\t}else if(c=='A'){\n\t\treverse(ALL(s));\n\t}else if(c=='P'){\n\t\tREP(i,n)if(isdigit(s[i]))s[i]=((s[i]-'0'+9)%10)+'0';\n\t}else if(c=='M'){\n\t\tREP(i,n)if(isdigit(s[i]))s[i]=((s[i]-'0'+1)%10)+'0';\n\t}\n\treturn s;\t\n}\n\nint main(){\n\tint t;\n\tcin >> t;\n\tREP(i,t){\n\t\tstring s, t;\n\t\tcin>>s>>t;\n\t\tREP(i,s.size())t=conv(t, s[s.size()-i-1]);\n\t\tcout << t << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <string>\n#include <cmath>\n#include <iostream>\n#include <algorithm>\n#include <stack>\n#include <queue>\n#include <vector>\n#include <set>\n#include <map>\n#include <bitset>\nusing namespace std;\n\n#define repl(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define rep(i,n) repl(i,0,n)\n#define mp(a,b) make_pair(a,b)\n#define pb(a) push_back(a)\n#define all(x) (x).begin(),(x).end()\n#define dbg(x) cout<<#x\"=\"<<x<<endl\n\ntypedef long long ll;\ntypedef pair<int, int> pii;\ntypedef pair<pii, int> ppi;\n\n#define INF 1000000000\n\nint main(){\n  int n;\n  cin>>n;\n  rep(repeat, n){\n    char rule[10];\n    scanf(\"%s\", rule);\n    string s;\n    cin>>s;\n\n    int sz=s.size();\n    for(int i=strlen(rule)-1; i>=0; i--){\n      switch(rule[i]){\n      case 'J':\n\ts = s.substr(sz-1,1) + s.substr(0, sz-1);\n\tbreak;\n      case 'C':\n\ts = s.substr(1, sz-1) + s.substr(0,1);\n\tbreak;\n      case 'E':\n\ts = s.substr((sz+1)/2, sz/2) + s.substr(sz/2, sz%2)\n\t  + s.substr(0, sz/2);\n\tbreak;\n      case 'A':\n\treverse(all(s));\n\tbreak;\n      case 'P':\n\trep(j,sz){\n\t  if(s[j]>='1' && s[j]<='9') s[j]--;\n\t  else if(s[j]=='0') s[j]='9';\n\t}\n\tbreak;\n      case 'M':\n\trep(j,sz){\n\t  if(s[j]>='0' && s[j]<='8') s[j]++;\n\t  else if(s[j]=='9') s[j]='0';\n\t}\n\tbreak;\n      default:\n\tcout<<\"BUG\"<<endl;\n      }\n    }\n    cout<<s<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "// clang-format off\n#include <bits/stdc++.h>\n#define int long long\n#define main signed main()\n// #define main int main()\n#define loop(i, a, n) for (int i = (a); i < (n); i++)\n#define rep(i, n) loop(i, 0, n)\n#define all(v) (v).begin(), (v).end()\n#define rall(v) (v).rbegin(), (v).rend()\n#define prec(n) fixed << setprecision(n)\n#define stlice(from, to) substr(from, (to) - (from) + 1)\n#define pb push_back\n#define mp make_pair\n#define mt make_tuple\n#define fi first\n#define se second\nusing namespace std;\nusing pii = pair<int, int>;\nusing vi = vector<int>;\nusing vd = vector<double>;\nusing vc = vector<char>;\nusing vb = vector<bool>;\nusing vs = vector<string>;\nusing vpii = vector<pii>;\nusing vvi = vector<vi>;\nusing vvb = vector<vb>;\nusing vvpii = vector<vpii>;\ntemplate<typename A> using fn = function<A>;\nconstexpr int INF = sizeof(int) == sizeof(long long) ? 1000000000000000000LL : 1000000000;\nconstexpr int MOD = 1000000007;\nconstexpr double PI = acos(-1);\ntemplate<typename A, typename B> bool cmin(A &a, const B &b) { return a > b ? (a = b, true) : false; }\ntemplate<typename A, typename B> bool cmax(A &a, const B &b) { return a < b ? (a = b, true) : false; }\nconstexpr bool odd(const int &n) { return n & 1; }\nconstexpr bool even(const int &n) { return !odd(n); }\nvoid solve();\nmain { solve(); return 0; }\n// clang-format on\n\nvoid solve() {\n  int n;\n  cin >> n;\n  while (n--) {\n    string m, s;\n    cin >> m >> s;\n    reverse(all(m));\n    for (char &c : m) {\n      if (c == 'J') s = s.back() + s.substr(0, s.size() - 1);\n      if (c == 'C') s = s.substr(1, s.size() - 1) + s.front();\n      if (c == 'E') s = even(s.size()) ? s.substr(s.size() / 2, s.size() / 2) + s.substr(0, s.size() / 2)\n                                       : s.substr(s.size() / 2 + 1, s.size() / 2) + s[s.size() / 2] + s.substr(0, s.size() / 2);\n      if (c == 'A') reverse(all(s));\n      if (c == 'P') transform(all(s), s.begin(), [](char x) {\n        return isdigit(x) ? (x - '0' + 9) % 10 + '0' : x;\n      });\n      if (c == 'M') transform(all(s), s.begin(), [](char x) {\n        return isdigit(x) ? (x - '0' + 1) % 10 + '0' : x;\n      });\n    }\n    cout << s << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <sstream>\n#include <string>\n#include <algorithm>\n#include <vector>\n#include <stack>\n#include <queue>\n#include <set>\n#include <map>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <cassert>\n\nusing namespace std;\n\n#define FOR(i,k,n) for(int i=(k); i<(int)n; ++i)\n#define REP(i,n) FOR(i,0,n)\n#define FORIT(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();++i)\n\ntemplate<class T> void debug(T begin, T end){ for(T i = begin; i != end; ++i) cout<<*i<<\" \"; cout<<endl; }\n\ntypedef long long ll;\nconst int INF = 100000000;\nconst double EPS = 1e-8;\nconst int MOD = 1000000007;\n\nint main(){\n  int n;\n  cin>>n;\n  while(n--){\n    string s,t;\n    cin>>s>>t;\n    for(int i = s.size() - 1; i >= 0; i--){\n      if(s[i] == 'C') t = t.substr(1) + t.substr(0, 1);\n      if(s[i] == 'J') t = t.substr(t.size()-1) + t.substr(0, t.size()-1);\n      if(s[i] == 'E'){\n        if(t.size() % 2) t = t.substr(t.size() / 2 + 1) + t.substr(t.size()/2, 1) + t.substr(0, t.size()/2);\n        else t = t.substr(t.size()/2) + t.substr(0, t.size()/2);\n      }\n      if(s[i] == 'A') reverse(t.begin(), t.end());\n      if(s[i] == 'M') REP(j, t.size())if(isdigit(t[j])) t[j] = (t[j]-'0' + 1) % 10 + '0';\n      if(s[i] == 'P') REP(j, t.size())if(isdigit(t[j])) t[j] = (t[j]-'0' + 9) % 10 + '0';\n    }\n    cout<<t<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n\nusing namespace std;\n\nint main() {\n\tint n;\n\tstring a, b;\n\tstring p1 = \"98765432109\";\n\tstring p2 = \"01234567890\";\n\tcin >> n;\n\tgetline(cin, a);\n\tfor (int i = 0; i < n; i++) {\n\t\tgetline(cin, a);\n\t\tgetline(cin, b);\n\t\tfor (int j = a.size()-1; j >= 0; j--) {\n\t\t\tif (a[j] == 'J') {\n\t\t\t\tstring c = \"\";\n\t\t\t\tc += b[b.size()-1];\n\t\t\t\tb = b.substr(0, b.size()-1);\n\t\t\t\tc += b;\n\t\t\t\tb = c;\n\t\t\t} else if (a[j] == 'C') {\n\t\t\t\tstring c = \"\";\n\t\t\t\tc = b.substr(1);\n\t\t\t\tc += b[0];\n\t\t\t\tb = c;\n\t\t\t} else if (a[j] == 'E') {\n\t\t\t\tstring c1 = b.substr(0, b.size()/2);\n\t\t\t\tif (b.size() % 2 == 0) {\n\t\t\t\t\tstring c2 = b.substr(b.size()/2);\n\t\t\t\t\tb = c2+c1;\n\t\t\t\t} else {\n\t\t\t\t\tstring c2 = b.substr(b.size()/2+1);\n\t\t\t\t\tstring c3 = \"\";\n\t\t\t\t\tc3 += b[b.size()/2];\n\t\t\t\t\tb = c2+c3+c1;\n\t\t\t\t}\n\t\t\t} else if (a[j] == 'A') {\n\t\t\t\tstring c = \"\";\n\t\t\t\tfor (int k = b.size()-1; k >= 0; k--) {\n\t\t\t\t\tc += b[k];\n\t\t\t\t}\n\t\t\t\tb = c;\n\t\t\t} else if (a[j] == 'P') {\n\t\t\t\tfor (int k = 0; k < b.size(); k++) {\n\t\t\t\t\tif (0 <= b[k]-'0' && b[k]-'0' <= 9) {\n\t\t\t\t\t\tfor (int l = 0; l < p1.size()-1; l++) {\n\t\t\t\t\t\t\tif (b[k] == p1[l]) {\n\t\t\t\t\t\t\t\tb[k] = p1[l+1];\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (int k = 0; k < b.size(); k++) {\n\t\t\t\t\tif (0 <= b[k]-'0' && b[k]-'0' <= 9) {\n\t\t\t\t\t\tfor (int l = 0; l < p2.size()-1; l++) {\n\t\t\t\t\t\t\tif (b[k] == p2[l]) {\n\t\t\t\t\t\t\t\tb[k] = p2[l+1];\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << b << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <vector>\n#include <string>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <algorithm>\n\nusing namespace std;\n\n#define rep(i,j) REP((i), 0, (j))\n#define REP(i,j,k) for(int i=(j);(i)<(k);++i)\n#define between(a,x,b) ((a)<=(x)&&(x)<=(b))\n#define F first\n#define S second\n#define INF 1 << 30\n\nint main(){\n  int n, half;\n  scanf(\"%d\", &n);\n  string l, r, h, ts;\n  while(n--){\n    string key, res;\n    cin >> key >> res;\n    char tmp;\n    for(int i = key.size()-1; i >= 0; i--){ //    rep(i, key.size()){\n      switch(key[i]){\n      case 'C': //      case 'J':\n\ttmp = res[0];\n\tres.erase(res.begin());\n\tres += tmp;\n\tbreak;\n      case 'J': //      case 'C':\n\ttmp = res[res.size()-1];\n\tres.erase(res.begin()+res.size()-1);\n\tres.insert(res.begin(), 1, tmp);\n\tbreak;\n      case 'E':\n        half = (int)res.size()/2;\n\tl = res.substr(0, half);\n\tr = res.substr(res.size()-half, half);\n\th = \"\";\n\tif((int)res.size()%2) h = res[half];\n\tres = r + h + l;\n\tbreak;\n      case 'A':\n\tts = \"\";\n\tfor(int i = res.size()-1; i >= 0; i--) ts += res[i];\n\tres = ts;\n\tbreak;\n      case 'M': //\tcase 'P':\n\trep(i, res.size()) if(isdigit(res[i])) res[i] = (res[i]=='9')?'0':res[i]+1;\n\tbreak;\n      case 'P': //      case 'M':\n\trep(i, res.size()) if(isdigit(res[i])) res[i] = (res[i]=='0')?'9':res[i]-1;\n\tbreak;\n      }\n    }\n\n    cout << res << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\nusing namespace std;\n\nstring dec(string str,char c){\n\tif(c=='J'){\n\t\tint e=str.size()-1;\n\t\tstr=str[e]+str;\n\t\tstr.pop_back();\n\t}\n\telse if(c=='C'){\n\t\tstr=str+str[0];\n\t\tstr.erase(str.begin());\n\t}\n\telse if(c=='E'){\n\t\tint t=0;\n\t\twhile(2*t<(str.size()-1)){\n\t\t\tswap(str[t],str[(str.size()+1)/2+t]);\n\t\t\tt++;\n\t\t}\n\t}\n\telse if(c=='A'){\n\t\treverse(str.begin(),str.end());\n\t}\n\telse if(c=='P'){\t\n\t\tfor(int i=0;i<str.size();i++){\n\t\t\tif(str[i]>='0' && str[i]<='9')str[i]=((str[i]-'0')+9)%10+'0';\n\t\t}\n\t}\n\telse if(c=='M'){\n\t\tfor(int i=0;i<str.size();i++){\n\t\t\tif(str[i]>='0' && str[i]<='9')str[i]=((str[i]-'0')+1)%10+'0';\n\t\t}\n\t}\n\treturn str;\n}\n\nint main(){\n\tint n;\n\tcin>>n;\n\twhile(n--){\n\t\tstring ord,mes;\n\t\tcin>>ord>>mes;\n\t\treverse(ord.begin(),ord.end());\n\t\tfor(int i=0;i<ord.size();i++){\n\t\t\tmes=dec(mes,ord[i]);\n\t\t}\n\t\tcout<<mes<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main(){\n  int n\n  cin>>n;\n  while(n--){\n    string q,s;\n    cin>>q>>s;\n    for(int i=0;i<q.size();i++){\n      if(q[i]=='J')s=s.substr(1,s.size()-1)+s[0];\n      if(q[i]=='C')s=s[s.size()-1]+s.substr(0,s.size()-1);\n      if(q[i]=='E')\n\tfor(int j=0;j<s.size()/2;j++)swap(s[j],s[(s.size()+1)/2+j]);\n      if(q[i]=='A')reverse(s.begin(),s.end());\n      if(q[i]=='M')\n\tfor(int j=0;j<s.size();j++)\n\t  if(isdigit(s[j]))s[j]=((s[j]-'0')-1)%10+'0';\n      if(q[i]=='P')\n\tfor(int j=0;j<s.size();j++)\n\t  if(isdigit(s[j]))s[j]=((s[j]-'0'+10)+1)%10+'0';\n    }\n    cout<<s<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n)for(int i=0;i<n;i++)\nusing namespace std;\n\nint main() {\n\tint n; scanf(\"%d\", &n);\n\trep(i, n) {\n\t\tstring m, s; cin >> m >> s;\n\t\treverse(m.begin(), m.end());\n\t\tfor (char c : m) {\n\t\t\tswitch (c) {\n\t\t\tcase'C':rotate(s.begin(), ++s.begin(), s.end()); break;\n\t\t\tcase'J':rotate(s.begin(), --s.end(), s.end()); break;\n\t\t\tcase'E':s = s.substr(s.size() / 2 + s.size() % 2) + s.substr(s.size() / 2, s.size() % 2) + s.substr(0, s.size() / 2); break;\n\t\t\tcase'A':reverse(s.begin(), s.end()); break;\n\t\t\tcase'M':transform(s.begin(), s.end(), s.begin(), [](char c) {\n\t\t\t\tif (c == '9')return'0';\n\t\t\t\tif ('0' <= c&&c < '9')return ++c;\n\t\t\t}); break;\n\t\t\tcase'P':transform(s.begin(), s.end(), s.begin(), [](char c) {\n\t\t\t\tif (c == '0')return'9';\n\t\t\t\tif ('0' < c&&c <= '9')return --c;\n\t\t\t}); break;\n\t\t\t}\n\t\t}\n\t\tcout << s << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<stdlib.h>\n#include<string.h>\nusing namespace std;\nint main()\n{\n\tint n;\n\tcin >> n;\n\tfor (int i = 0; i < n; i++)\n\t{\n\t\tchar messengers[7];\n\t\tchar message[26];\n\t\tcin >> messengers;\n\t\tcin >> message;\n\t\tint messengersNum = strlen(messengers);\n\t\tint messLen = strlen(message);\n\t\tfor (int j = 0; j < messengersNum; j++)\n\t\t{\n\t\t\tchar c = messengers[j];\n\t\t\tif (c == 'J')\n\t\t\t{\n\t\t\t\tchar tmp = message[0];\n\t\t\t\tfor (int k = 0; k + 1 < messLen; k++)\n\t\t\t\t{\n\t\t\t\t\tmessage[k] = message[k + 1];\n\t\t\t\t}\n\t\t\t\tmessage[messLen - 1] = tmp;\n\t\t\t}\n\t\t\telse if (c == 'C')\n\t\t\t{\n\t\t\t\tchar tmp = message[messLen - 1];\n\t\t\t\tfor (int k = messLen - 1; k - 1 >= 0; k--)\n\t\t\t\t{\n\t\t\t\t\tmessage[k] = message[k - 1];\n\t\t\t\t}\n\t\t\t\tmessage[0] = tmp;\n\t\t\t}\n\t\t\telse if (c == 'E')\n\t\t\t{\n\t\t\t\tif (messLen % 2 == 0)\n\t\t\t\t{\n\t\t\t\t\tint range = messLen / 2;\n\t\t\t\t\tfor (int k = 0; k + range< messLen; k++)\n\t\t\t\t\t{\n\t\t\t\t\t\tchar tmp = message[k];\n\t\t\t\t\t\tmessage[k] = message[k + range];\n\t\t\t\t\t\tmessage[k + range] = tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tint range = messLen / 2 + 1;\n\t\t\t\t\tfor (int k = 0; k  + range < messLen; k++)\n\t\t\t\t\t{\n\t\t\t\t\t\tchar tmp = message[k];\n\t\t\t\t\t\tmessage[k] = message[k + range];\n\t\t\t\t\t\tmessage[k + range] = tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (c == 'A')\n\t\t\t{\n\t\t\t\tfor (int k = 0; k < messLen - k; k++)\n\t\t\t\t{\n\t\t\t\t\tchar tmp = message[k];\n\t\t\t\t\tmessage[k] = message[messLen - 1 - k];\n\t\t\t\t\tmessage[messLen - 1 - k] = tmp;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (c == 'P')\n\t\t\t{\n\t\t\t\tfor (int k = 0; k< messLen; k++)\n\t\t\t\t{\n\t\t\t\t\tif (message[k] >= '0' && message[k] <= '9')\n\t\t\t\t\t{\n\t\t\t\t\t\tmessage[k]++;\n\t\t\t\t\t\tif (message[k] > '9')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmessage[k] = '0';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (c == 'M')\n\t\t\t{\n\t\t\t\tfor (int k = 0; k< messLen; k++)\n\t\t\t\t{\n\t\t\t\t\tif (message[k] >= '0' && message[k] <= '9')\n\t\t\t\t\t{\n\t\t\t\t\t\tmessage[k]--;\n\t\t\t\t\t\tif (message[k] < '0')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmessage[k] = '9';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcout << message << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\nusing namespace std;\n\nint main(){\n\tint n;\n\tcin >> n;\n\tfor(int t=0 ; t < n ; t++ ){\n\t\tstring order, s;\n\t\tcin >> order >> s;\n\t\treverse(order.begin(), order.end());\n\t\tfor(int i=0 ; i < order.size() ; i++ ){\n\t\t\tchar ch = order[i];\n\t\t\t\n\t\t\tif( ch == 'J' ){\n\t\t\t\trotate( s.begin() , s.begin()+s.size()-1 , s.end() );\n\t\t\t}else if( ch == 'C' ){\n\t\t\t\trotate( s.begin() , s.begin()+1 , s.end() );\n\t\t\t}else if( ch == 'E' ){\n\t\t\t\tstring a, b, c;\n\t\t\t\tfor(int k=0 ; k < s.size()/2 ; k++ ){\n\t\t\t\t\ta.push_back(s[k]);\n\t\t\t\t}\n\t\t\t\tif( s.size() % 2 == 1 ) b.push_back( s[s.size()/2] );\n\t\t\t\tfor(int k = s.size()/2+(s.size()%2?1:0) ; k < s.size() ; k++ ){\n\t\t\t\t\tc.push_back(s[k]);\n\t\t\t\t}\n\t\t\t\ts = c + b + a;\n\t\t\t}else if( ch == 'A' ){\n\t\t\t\treverse(s.begin(), s.end());\n\t\t\t}else if( ch == 'P' ){\n\t\t\t\tfor(int k=0 ; k < s.size() ; k++ ){\n\t\t\t\t\tif( '1' <= s[k] && s[k] <= '9' ) s[k] -= 1;\n\t\t\t\t\telse if( s[k] == '0' ) s[k] = '9';\n\t\t\t\t}\n\t\t\t}else if( ch == 'M' ){\n\t\t\t\tfor(int k=0 ; k < s.size() ; k++ ){\n\t\t\t\t\tif( '0' <= s[k] && s[k] <= '8' ) s[k] += 1;\n\t\t\t\t\telse if( s[k] == '9' ) s[k] = '0';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << s << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#define REP(i,n) for (int i=0;i<(n);i++)\n#define ll long long\n#define ull unsigned long long\nint dx[4] = {1, 0, -1, 0};\nint dy[4] = {0, 1, 0, -1};\n\nusing namespace std;\n\nstring invJ(string s){//???????????????\n\trotate(s.rbegin(),s.rbegin() + 1,s.rend());\n\treturn s;\n}\n\nstring invC(string s){//left????????????\n\trotate(s.begin(),s.begin() + 1,s.end());\n\treturn s;\n}\n\nstring invE(string s){\n\tif((s.size() + 1) & 1)\n\t\trotate(s.begin(),s.begin() + s.size()/2,s.end());\n\telse{\n\t\tstring tmp;\n\t\ttmp = s;\n\t\ts.replace(0,s.size()/2,s.substr(s.size()/2 + 1,s.size()/2));\n\t\ts.replace(s.size()/2 + 1,s.size()/2,tmp.substr(0,s.size()/2));\n\t}\n\treturn s;\n}\n\nstring invA(string s){\n\treverse(s.begin(),s.end());\n\treturn s;\n}\n\nstring invP(string s){\n\tREP(i,s.size()){\n\t\tif(s[i] == '0')\n\t\t\ts[i] = '9';\n\t\telse if(s[i] > '0' && s[i] <= '9')\n\t\t\ts[i]--;\n\t}\n\treturn s;\n}\n\nstring invM(string s){\n\tREP(i,s.size()){\n\t\tif(s[i] == '9')\n\t\t\ts[i] = '0';\n\t\telse if(s[i] >= '0' && s[i] < '9')\n\t\t\ts[i]++;\n\t}\n\treturn s;\n}\n\nint main(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n\tint n;\n\tcin >> n;\n\twhile(n--){\n\t\tstring command,s;\n\t\tcin >> command >> s;\n\t\tfor(int i = command.size()-1;i>=0;i--){\n\t\t\tif(command[i] == 'J')s = invJ(s);\n\t\t\telse if(command[i] == 'C')s = invC(s);\n\t\t\telse if(command[i] == 'E')s = invE(s);\n\t\t\telse if(command[i] == 'A')s = invA(s);\n\t\t\telse if(command[i] == 'P')s = invP(s);\n\t\t\telse if(command[i] == 'M')s = invM(s);\n\t\t}\n\t\tcout << s << endl;\n\t}\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main(){\n  int n;\n  cin>>n;\n  while(n--){\n    string q,s;\n    cin>>q>>s;\n    for(int i=s.size()-1;0<=i;i--){\n      if(q[i]=='C')s=s.substr(1,s.size()-1)+s[0];\n      if(q[i]=='J')s=s[s.size()-1]+s.substr(0,s.size()-1);\n      if(q[i]=='E')\n\tfor(int j=0;j<s.size()/2;j++)swap(s[j],s[(s.size()+1)/2+j]);\n      if(q[i]=='A')reverse(s.begin(),s.end());\n      if(q[i]=='P')\n\tfor(int j=0;j<s.size();j++)\n\t  if(isdigit(s[j]))s[j]=((s[j]-'0'+10)-1)%10+'0';\n      if(q[i]=='M')\n\tfor(int j=0;j<s.size();j++)\n\t  if(isdigit(s[j]))s[j]=((s[j]-'0')+1)%10+'0';\n    }\n    cout<<s<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nstring j(string s){\n\tstring ret;\n\tret += s[s.size()-1];\n\tfor(int unsigned i = 0;i<s.size()-1;i++){\n\t\tret += s[i];\n\t}\n\treturn ret;\n}\nstring c(string s){\n\tstring ret;\n\tfor(int unsigned i = 1;i<s.size();i++){\n\t\tret += s[i];\n\t}\n\tret += s[0];\n\treturn ret;\n}\nstring e(string s){\n\tstring ret;\n\tint size = s.size()/2;\n\tfor(int unsigned i = s.size()-size;i<s.size();i++){\n\t\tret += s[i];\n\t}\n\tif(s.size()%2){\n\t\tret += s[s.size()/2];\n\t}\n\tfor(int unsigned i = 0;i<s.size()/2;i++){\n\t\tret += s[i];\n\t}\n\treturn ret;\n}\nstring a(string s){\n\t//reverse\n\treturn string(s.rbegin(),s.rend());\n}\nstring p(string s){\n\t//increments\n\tstring ret;\n\tfor(int unsigned i = 0;i<s.size();i++){\n\t\tif(isdigit(s[i])) {\n\t\t\tret += (char)((s[i] - '0' + 9)%10 + '0');\n\t\t} else {\n\t\t\tret += s[i];\n\t\t}\n\t}\n\treturn ret;\n}\nstring m(string s){\n\t//decrements\n\tstring ret;\n\tfor(int unsigned i = 0;i<s.size();i++){\n\t\tif(isdigit(s[i])) {\n\t\t\tret += (char)((s[i] - '0' + 1)%10 + '0');\n\t\t} else {\n\t\t\tret += s[i];\n\t\t}\n\t}\n\treturn ret;\n}\n\nint main(){\n\tint n;\n\tcin >> n;\n\tfor(int i=0;i<n;i++){\n\t\tstring messengers;\n\t\tcin >> messengers;\n\t\tstring message;\n\t\tcin >> message;\n\t\tfor(int i = (signed)messengers.size()-1;i>=0;i--){\n\t\t\tif(messengers[i] == 'J') message=j(message);\n\t\t\tif(messengers[i] == 'C') message=c(message);\n\t\t\tif(messengers[i] == 'E') message=e(message);\n\t\t\tif(messengers[i] == 'A') message=a(message);\n\t\t\tif(messengers[i] == 'P') message=p(message);\n\t\t\tif(messengers[i] == 'M') message=m(message);\n\t\t}\n\t\tcout << message << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <algorithm>\n#define rep(i,a) for(int i = 0 ; i < a ; i ++)\n\nusing namespace std;\n\nint main(void){\n  int N;\n  cin>>N;\n  while(N--){\n    string a,s;\n    cin>>a>>s;\n    reverse(a.begin(),a.end());\n    rep(i,a.size()){\n      switch(a[i]){\n        case 'A':\n          reverse(s.begin(),s.end());\n          break;\n        case 'J':\n        case 'C':\n          s=s.substr(1)+s[0];\n          break;\n          s=s.substr(1)+s.substr(0,1);\n          break;\n        case 'M':\n          rep(i,s.size()){\n            if('0'<=s[i]&&s[i]<='9'){\n              if(s[i]=='9')s[i]='0';\n              else s[i]++;\n            }\n          }\n          break;\n        case 'P':\n          rep(i,s.size()){\n            if('0'<=s[i]&&s[i]<='9'){\n              if(s[i]=='0')s[i]='9';\n              else s[i]--;\n            }\n          }\n          break;\n        case 'E':\n          string res = \"\";\n          for(int i = s.size()/2 ; i < s.size() ; i ++)res+=s[i];\n          for(int i = 0 ; i < s.size()/2 ; i ++)res+=s[i];\n          s = res;\n          break;\n      }\n    }\n      cout<<s<<endl;\n    \n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nint main(){\n    int n;\n    cin>>n;\n    for(int k=0;k<n;k++){\n        string order,msg;\n        cin>>order>>msg;\n        reverse(order.begin(),order.end());\n        for(int i=0;i<order.size();i++){\n            if(order[i]=='C'){\n                string tmp=msg;\n                for(int j=0;j<msg.size();j++)\n                    tmp[j]=msg[(j+1)%msg.size()];\n                    msg=tmp;\n            }\n            if(order[i]=='J'){\n                string tmp=msg;\n                for(int j=0;j<msg.size();j++)\n                    tmp[j]=msg[(j-1+int(msg.size()))%msg.size()];\n                msg=tmp;\n\n\n            }\n            if(order[i]=='E'){\n                string tmp=msg;\n                if(!(msg.size()%2))\n                    for(int j=0;j<msg.size()/2;j++){\n                        tmp[j]=msg[msg.size()/2+j];\n                        tmp[msg.size()/2+j]=msg[j];\n                    }\n                else\n                    for(int j=0;j<msg.size()/2;j++){\n                        tmp[j]=msg[msg.size()/2+1+j];\n                        tmp[msg.size()/2+1+j]=msg[j];\n\n                    }\n                msg=tmp;\n            }\n            if(order[i]=='A')\n                reverse(msg.begin(),msg.end());\n            if(order[i]=='M'){\n                for(int j=0;j<msg.size();j++)\n                    if('0'<=msg[j] && msg[j]<='9')\n                        msg[j]=(msg[j]-'0'+1)%10+'0';\n\n            }\n            if(order[i]=='P'){\n                for(int j=0;j<msg.size();j++)\n                    if('0'<=msg[j] && msg[j]<='9')\n                        msg[j]=(msg[j]+10-'0'-1)%10+'0';\n\n\n            }\n      }\n\n        cout<<msg<<endl;\n    }\n\n\n    return 0;\n}\n                  \n                                                   "
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <string.h>\n#include <algorithm>\nusing namespace std;\nint main() {\n    int N,i,j,k,q;char T[50],c[9];scanf(\"%d\",&N);while (N--) {\n        scanf(\"%s%s\",&c,&T);j=strlen(c),k=strlen(T)-1;\n        while (j--) {\n            if (c[j]=='P') {\n                for (i=k;i>=0;i--) {if (T[i]>='1' && T[i]<='9') T[i]--; else if (T[i]=='0') T[i]='9';}\n            } else if (c[j]=='M') {\n                for (i=k;i>=0;i--) {if (T[i]>='0' && T[i]<='8') T[i]++; else if (T[i]=='9') T[i]='0';}\n            } else if (c[j]=='E') {\n                for (i=k,q=(k-1)/2;q>=0;i--,q--) swap(T[i],T[q]);\n            } else if (c[j]=='A') {\n                for (i=0,q=k;i<q;i++,q--) swap(T[i],T[q]);\n            } else if (c[j]=='J') {\n                c[8]=T[k];for (i=k;i>0;i--) T[i]=T[i-1];T[0]=c[8];\n            } else {\n                c[8]=T[0];for (i=0;i<k;i++) T[i]=T[i+1];T[k]=c[8];\n            }\n        }\n        puts(T);\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\nusing namespace std;\n\nint main()\n{\n    int n, len;\n    cin >> n;\n    string msg, srv;\n    while (cin >> srv >> msg, n--) {\n        len = msg.size();\n        for (int i = srv.size() - 1; i >= 0; --i) {\n            if (srv[i] == 'J') {\n                rotate(msg.begin(), msg.end() - 1, msg.end());\n            } else if (srv[i] == 'C') {\n                rotate(msg.begin(), msg.begin() + 1, msg.end());\n            } else if (srv[i] == 'E') {\n                if (len % 2)\n                    msg = msg.substr(len / 2 + 1) + msg[len / 2] + msg.substr(0, len / 2);\n                else\n                    msg = msg.substr(len / 2) + msg.substr(0, len / 2);\n            } else if (srv[i] == 'A') {\n                reverse(msg.begin(), msg.end());\n            } else if (srv[i] == 'P') {\n                for (int j = 0; j < len; ++j) {\n                    if (msg[j] >= '0' && msg[j] <= '9')\n                        msg[j] = (msg[j] + '9') % ':';\n                }\n            } else {\n                for (int j = 0; j < len; ++j) {\n                    if (msg[j] >= '0' && msg[j] <= '9')\n                        msg[j] = (msg[j] + 1) % '9';\n                }\n            }\n        }\n        cout << msg << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\nusing namespace std;\n\nint main(){\n    int n;\n    cin>>n;\n    for(int i=0;i<n;i++){\n        string order;\n        cin>>order;\n        string s;\n        cin>>s;\n        reverse(order.begin(),order.end());\n        for(auto x:order){\n            switch(x){\n                case 'J':\n                    reverse(s.begin(),s.end());\n                    string s1=s.substr(0,1),s2=s.substr(1);\n                    reverse(s2.begin(),s2.end());\n                    s=s1+s2;\n                    break;\n                case 'C':\n                    string s1=s.substr(0,1),s2=s.substr(1);\n                    s=s2+s1;\n                    break;\n                case 'E':\n                    int k=(int)s.size();\n                    if(k%2){\n                        string s1=s.substr(0,k/2),s2=s.substr(k/2,1),s3=s.substr(k/2+1);\n                        s=s3+s2+s1;\n                    }else{\n                        string s1=s.substr(0,k/2),s2=s.substr(k/2);\n                        s=s2+s1;\n                    }\n                    break;\n                case 'A':\n                    reverse(s.begin(),s.end());\n                case 'P':\n                    for(auto c:s){\n                        if('1'<=c && c<='9')c--;\n                        if(c=='0')c+=9;\n                    }\n                    break;\n                case 'M':\n                    for(auto c:s){\n                        if('0'<=c && c<='8')c++;\n                        if(c=='9')c-=9;\n                    }\n                    break;\n            }\n        }\n        cout<<s<<endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef unsigned long long ull;\n#define loop(i,a,b) for(int i=(a);i<ull(b);++i)\n#define rep(i,n) loop(i,0,n)\n\nconst double eps = 1e-10;\nconst double pi  = acos(-1.0);\nconst double inf = (int)1e8;\n\nint main(){\n    int q;\n    cin >> q;\n    rep(p, q){\n        string s, m;\n        cin >> s >> m;\n        reverse(s.begin(), s.end());\n        for(int i=0; i< s.size(); i++){\n            if(s[i] == 'J'){\n                if(1 <= m.size())m = m.substr(m.size()-1, 1) + m.substr(0, m.size()-1);\n            }\n            if(s[i] == 'C'){\n                if(1 <= m.size())m = m.substr(1) + m.substr(0, 1);\n            }\n            if(s[i] == 'E'){\n                if(1 <= m.size()){\n                    if(m.size()%2 == 0)m = m.substr(m.size()/2)+ m.substr(0, m.size()/2);\n                    else m = m.substr(m.size()/2+1) + m.substr(m.size()/2, 1) + m.substr(0, m.size()/2);\n                }\n            }\n            if(s[i] == 'A') reverse(m.begin(), m.end());\n            if(s[i] == 'P'){\n                for(int j=0; j< m.size(); j++){\n                    if('0' <= m[j] && m[j] <= '9'){\n                        if(m[j] == '0') m[j] = '9';\n                        else m[j]--;\n                    }\n                }\n            }\n            if(s[i] == 'M'){\n                for(int j=0; j< m.size(); j++){\n                    if('0' <= m[j] && m[j] <= '9'){\n                        if(m[j] == '9') m[j] = '0';\n                        else m[j]++;\n                    }\n                }\n            }\n        }\n        cout << m << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<string>\nusing namespace std;\n\nint main(){\n  int n;\n  cin>>n;\n  while(n--){\n    string messengers;\n    string message;\n    cin>>messengers;\n    cin>>message;\n    for(int i=(int)messengers.size()-1;i>=0;i--){\n      if(messengers[i]=='J'){\n\tchar first=message[(int)message.size()-1];\n\tfor(int i=(int)message.size()-1;i>=1;i--){\n\t  message[i]=message[i-1];\n\t}\n\tmessage[0]=first;\n      }else if(messengers[i]=='C'){\n\tchar last=message[0];\n\tfor(int i=0;i<(int)message.size()-1;i++){\n\t  message[i]=message[i+1];\n\t}\n\tmessage[(int)message.size()-1]=last;\n      }else if(messengers[i]=='E'){\n\tstring sleft=message.substr(0,(message.size())/2);\n\tstring sright=message.substr((message.size()+1)/2);\n\tfor(int i=0;i<int(message.size()/2);i++){\n\t  message[i]=sright[i];\n\t  message[i+(message.size()+1)/2]=sleft[i];\n\t}\n      }else if(messengers[i]=='A'){\n\treverse(message.begin(),message.end());\n      }else if(messengers[i]=='P'){\n\tfor(int i=0;i<(int)message.size();i++){\n\t  if('0'<=message[i] && message[i]<='9'){\n\t    if(message[i]=='0') message[i]='9';\n\t    else message[i]--;\n\t  }\n\t}\n      }else{\n\tfor(int i=0;i<(int)message.size();i++){\n\t  if('0'<=message[i]&&message[i]<='9'){\n\t    if(message[i]=='9') message[i]='0';\n\t    else message[i]++;\n\t  }\n\t}\n      }\n    }\n    cout<<message<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<cstring>\nusing namespace std;\n\nint main(){\n  int n;\n  cin>>n;\n  for(int i=0;i<n;i++){\n    char a[7],ans[26],b[26],x=0,y=0;\n    scanf(\"%s\",a);\n    x=strlen(a);\n    scanf(\"%s\",ans);\n    y=strlen(ans);  \n\n    for(int j=0;j<y;j++)\n      b[j]=ans[j];\n\n    for(int k=x-1;k>=0;k--){\n      if(a[k]=='C'){//??????\n\tb[y-1]=ans[0];\n\tfor(int j=1;j<y;j++) b[j-1]=ans[j];\n      }\n      else if(a[k]=='J'){//??????\n\tb[0]=ans[y-1];\n\tfor(int j=0;j<y-1;j++) b[j+1]=ans[j];\n      }\n      else if(a[k]=='E'){//swap\n\tif(y%2==0)\n\t  for(int j=0;j<y/2;j++) \n\t    swap(b[j],b[j+(y/2)]);\n\telse\n\t  for(int j=0;j<y/2;j++) \n\t    swap(b[j],b[j+(y/2)+1]);\n\n\n\n      }\n      else if(a[k]=='A'){//????????????\n\tint o=y;\n\twhile(1){\n\t  if(o==0)break;\n\t  for(int j=0;j<y;j++){\n\t    b[j]=ans[o-1];\n\t    o--;\n\t  }\n\t}\n      }\n      else if(a[k]=='M'){//+1\n\tfor(int j=0;j<y;j++) \n\t  if(ans[j]>='0'&&ans[j]<='8') b[j]=ans[j]+1;\n\t  else if(ans[j]=='9') b[j]=ans[j]-9;\n      }\n      else if(a[k]=='P')//-1\n\tfor(int j=0;j<y;j++) \n\t  if(ans[j]>='1'&&ans[j]<='9') b[j]=ans[j]-1;\n\t  else if(ans[j]=='0') b[j]=ans[j]+9;\n\n      for(int j=0;j<y;j++)\n\tans[j]=b[j];\n    }\n    for(int j=0;j<y;j++)\n      cout<<ans[j];\n    cout<<endl;\n\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <cmath>\n#include <ctype.h>\n#include <string> \n#include <sstream>\n#include <iostream>\n#include <algorithm>\n#include <cstdlib>\n#include <map>\n#include <queue>\n#include <utility>\n#include <vector>\n\nusing namespace std;\n\nstring c_j(string str);\nstring c_c(string str);\nstring c_e(string str);\nstring c_a(string str);\nstring c_p(string str);\nstring c_m(string str);\n\nint main()\n{\n\tint n;\n\tstring order, message;\n\tcin >> n;\n\tfor(int i = 0; i < n; i++){\n\t\tcin >> order >> message;\n\t\tstring ans = message;\n\t\tfor(int j = order.length()-1; j >= 0; j--){\n\t\t\tif(order[j] == 'J') ans = c_j(ans);\n\t\t\telse if(order[j] == 'C') ans = c_c(ans);\n\t\t\telse if(order[j] == 'E') ans = c_e(ans);\n\t\t\telse if(order[j] == 'A') ans = c_a(ans);\n\t\t\telse if(order[j] == 'P') ans = c_p(ans);\n\t\t\telse if(order[j] == 'M') ans = c_m(ans); \n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}\n\nstring c_j(string str)\n{\n\tchar c;\n\tc = str[str.length()-1];\n\tstr.erase(str.end()-1);\n\tstr = c + str;\n\treturn str;\n}\n\nstring c_c(string str)\n{\n\tchar c;\n\tc = str[0];\n\tstr.erase(str.begin());\n\tstr += c;\n\treturn str;\n}\n\nstring c_e(string str)\n{\n\tstring a;\n\tint l = str.length();\n\ta = str.substr(0, l / 2);\n\tif( l % 2 == 1){\n\t\tchar c = str[l / 2 + 1];\n\t\tstr.erase(str.begin(), str.begin() + l);\n\t\tstr += c;\n\t\tstr += a;\n\t} else {\n\t\tstr.erase(str.begin(), str.begin() + (l - 1));\n\t\tstr += a;\n\t}\n\treturn str;\n}\n\nstring c_a(string str)\n{\n\treverse(str.begin(), str.end());\n\treturn str;\n}\n\nstring c_p(string str)\n{\n\tfor(int i = 0; i < str.length() - 1; i++){\n\t\tif(isdigit(str[i])){\n\t\t\tint n = str[i] - '0';\n\t\t\tn--;\n\t\t\tif(n == -1) n = 9;\n\t\t\tstr[i] = n + '0';\n\t\t}\n\t}\n\treturn str;\n}\n\nstring c_m(string str)\n{\n\tfor(int i = 0; i < str.length() - 1; i++){\n\t\tif(isdigit(str[i])){\n\t\t\tint n = str[i] - '0';\n\t\t\tn = (n + 1) % 10;\n\t\t\tstr[i] = n + '0';\n\t\t}\n\t}\n\treturn str;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n/*{{{*/  //template\n#define rep(i,n) for(int i=0;i<n;i++)\nconstexpr int INF = numeric_limits<int>::max()/2;\nconstexpr long long LINF = numeric_limits<long long>::max()/3;\n#define mp make_pair\n#define pb push_back\n#define eb emplace_back\n#define fi first\n#define se second\n#define all(v) (v).begin(),(v).end()\n#define sz(x) (int)(x).size()\n#define debug(x) cerr<<#x<<\":\"<<x<<endl\n#define debug2(x,y) cerr<<#x<<\",\"<<#y\":\"<<x<<\",\"<<y<<endl\n//struct fin{ fin(){ cin.tie(0); ios::sync_with_stdio(false); } } fin_;\nstruct Double{ double d; explicit Double(double x) : d(x){} };\nostream& operator<<(ostream& os,const Double x){ os << fixed << setprecision(20) << x.d; return os; }\ntemplate<typename T> ostream& operator<<(ostream& os,const vector<T>& vec){ os << \"[\"; for(const auto& v : vec){ os << v << \",\"; } os << \"]\"; return os; }\ntemplate<typename T,typename U> ostream& operator<<(ostream& os,const pair<T,U>& p){ os << \"(\" << p.first << \",\"<< p.second <<\")\"; return os; }\ntemplate<typename T> ostream& operator<<(ostream& os,const set<T>& st){ os<<\"{\"; for(T v:st) os<<v<<\",\"; os <<\"}\"; return os; }\ntemplate<typename T,typename U> inline void chmax(T &x,U y){ if(y>x) x = y; }\ntemplate<typename T,typename U> inline void chmin(T &x,U y){ if(y<x) x = y; }\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> pii;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\nll gcd(ll a,ll b){ if(b==0) return a; else return gcd(b,a%b); }\n//constexpr double eps = 1e-14; \nconstexpr double eps = 1e-10; \nconstexpr ll mod = 1e9+7;\nconst int dx[]={1,0,-1,0} ,dy[] = {0,1,0,-1};\n/*}}}*/\n\nstring J(string t){\n    string ret = t.substr(sz(t)-1,1);\n    ret += t.substr(0,sz(t)-1);\n    return ret;\n}\n\nstring C(string t){\n    string ret = t.substr(1,sz(t)-1);\n    ret.pb(t[0]);\n    return ret;\n}\n\nstring E(string s){\n    if(s.size()%2==0){\n        int t = s.size();\n        string s1 = s.substr(0,t/2);\n        string s2 = s.substr(t/2,t/2);\n\n        return s2+s1;\n    }else{\n        int t = s.size();\n        string s1 = s.substr(0,t/2);\n        string s2 = s.substr(t/2+1,t/2);\n        char c = s[t/2];\n        string ret = s2;\n        ret.pb(c);\n        ret += s1;\n        return ret;\n    }\n}\n\nstring A(string s){\n    string ret = s;\n    reverse(all(ret));\n    return ret;\n}\n\nstring P(string s){\n    for(int i=0;i<sz(s);i++){\n        if('1'<=s[i] and s[i]<='9') s[i]--;\n        else if(s[i]=='0') s[i]=='9';\n    }\n    return s;\n}\n\nstring M(string s){\n    for(int i=0;i<sz(s);i++){\n        if('0'<=s[i] and s[i]<'9'){\n            s[i]++;\n        }else if(s[i]=='9'){\n            s[i]='0';\n        }\n    }\n    return s;\n}\n\nvoid solve(){\n    string s,t;\n    cin >> s >> t;\n\n    for(int i=sz(s)-1;i>=0;i--){\n        string u;\n        if(s[i]=='J') t = J(t);\n        if(s[i]=='C') t = C(t);\n        if(s[i]=='E') t = E(t);\n        if(s[i]=='A') t = A(t);\n        if(s[i]=='P') t = P(t);\n        if(s[i]=='M') t = M(t);\n    }\n    cout << t << endl;\n}\n\nint main(){\n    int N;\n    cin >> N;\n    rep(i,N) solve();\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define all(a) (a).begin(),(a).end()\n\nint main()\n{\n\tint n;\n\tcin >> n;\n\twhile (n--){\n\t\tstring m, s;\n\t\tcin >> m >> s;\n\t\treverse(all(m));\n\t\tfor (int i = 0; i < m.size(); i++){\n\t\t\tif (m[i] == 'C'){\n\t\t\t\tstring a(s, 0, 1);\n\t\t\t\tstring b(s, 1, s.size() - 1);\n\t\t\t\ts = b + a;\n\t\t\t}\n\t\t\telse if (m[i] == 'J'){\n\t\t\t\tstring a(s, 0, s.size() - 1);\n\t\t\t\tstring b(s, s.size() - 1, 1);\n\t\t\t\t\n\t\t\t\t//cout << s << \" \" << a << \" \" << b << endl;\n\t\t\t\t\n\t\t\t\ts = b + a;\n\t\t\t}\n\t\t\telse if (m[i] == 'E'){\n\t\t\t\tstring a(s, 0, s.size() / 2);\n\t\t\t\tstring b(s, s.size() / 2, s.size() % 2);\n\t\t\t\tstring c(s, s.size() / 2 + s.size() % 2, s.size() / 2);\n\t\t\t\ts = c + b + a;\n\t\t\t}\n\t\t\telse if (m[i] == 'A'){\n\t\t\t\treverse(all(s));\n\t\t\t}\n\t\t\telse if (m[i] == 'M'){\n\t\t\t\tfor (int j = 0; j < s.size(); j++){\n\t\t\t\t\tif (s[j] >= '0' && s[j] <= '8'){\n\t\t\t\t\t\ts[j]++;\n\t\t\t\t\t}\n\t\t\t\t\telse if (s[j] == '9'){\n\t\t\t\t\t\ts[j] = '0';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (m[i] == 'P'){\n\t\t\t\tfor (int j = 0; j < s.size(); j++){\n\t\t\t\t\tif (s[j] >= '1' && s[j] <= '9'){\n\t\t\t\t\t\ts[j]--;\n\t\t\t\t\t}\n\t\t\t\t\telse if (s[j] == '0'){\n\t\t\t\t\t\ts[j] = '9';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tcout << s << endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint n;\n\nint main(){\n//\tcin.tie(0);\n//\tios::sync_with_stdio(false);\n\tcin >> n;\n\tfor(int i=0; i<n; ++i){\n\t\tstring s, t;\n\t\tcin >> t >> s;\n\t\tfor(int j=t.size()-1; j>=0; --j){\n\t\t\tif(t[j] == 'J'){\n\t\t\t\ts = s.substr(s.size()-1, 1) + s.substr(0, s.size()-1);\n\t\t\t}else if(t[j] == 'C'){\n\t\t\t\ts = s.substr(1, s.size()-1) + s.substr(0, 1);\n\t\t\t}else if(t[j] == 'E'){\n\t\t\t\tif(s.size() % 2 == 0){\n\t\t\t\t\ts = s.substr(s.size()/2, s.size()/2) + s.substr(0, s.size()/2);\n\t\t\t\t}else{\n\t\t\t\t\ts = s.substr(s.size()/2+1, s.size()/2) + s[s.size()/2] + s.substr(0, s.size()/2);\n\t\t\t\t}\n\t\t\t}else if(t[j] == 'A'){\n\t\t\t\treverse(s.begin(), s.end());\n\t\t\t}else if(t[j] == 'P'){\n\t\t\t\tfor(int k=0; k<s.size(); ++k){\n\t\t\t\t\tif('1' <= s[k] && s[k] <= '9')\n\t\t\t\t\t\t--s[k];\n\t\t\t\t\telse if(s[k] == '0')\n\t\t\t\t\t\ts[k] = '9';\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tfor(int k=0; k<s.size(); ++k){\n\t\t\t\t\tif('0' <= s[k] && s[k] <= '8')\n\t\t\t\t\t\t++s[k];\n\t\t\t\t\telse if(s[k] == '9')\n\t\t\t\t\t\ts[k] = '0';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << s << \"\\n\";\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n\nusing namespace std;\n\nmain(){\n  int n;\n  while(cin >> n){\n    for(int i=0;i<n;i++){\n      string hito;\n      string data;\n      cin >> hito;\n      cin >> data;\n      for(int j=hito.size()-1;j>=0;j--){\n\t//cout << data << endl;\n\tif(hito[j]=='J'){\n\t  string tmp=data;\n\t  data=\"\";\n\t  data+=tmp[tmp.size()-1];\n\t  for(int k=0;k<tmp.size()-1;k++){\n\t    data+=tmp[k];\n\t  }\n\t}else if(hito[j]=='C'){\n\t  string tmp=data;\n\t  data=\"\";\n\t  for(int k=1;k<tmp.size();k++){\n\t    data+=tmp[k];\n\t  }\n\t  data+=tmp[0];\n\t}else if(hito[j]=='E'){\n\t  string left=\"\", right=\"\";\n\t  if(data.size()%2==0){\n\t    for(int k=0;k<data.size()/2;k++){\n\t      left+=data[k];\n\t      right+=data[k+data.size()/2];\n\t    }\n\t  }else{\n\t    for(int k=0;k<data.size()/2;k++){\n\t      left+=data[k];\n\t      right+=data[k+data.size()/2+1];\n\t    }\n\t    right+=data[data.size()/2];\n\t  }\n\t  data=\"\";\n\t  data+=right;\n\t  data+=left;\n\t}else if(hito[j]=='A'){\n\t   string tmp=data;\n\t  for(int k=0;k<tmp.size();k++){\n\t    data[k]=tmp[tmp.size()-1-k];\n\t  }\n\t}else if(hito[j]=='P'){\n\t  for(int k=0;k<data.size();k++){\n\t    if(data[k]>='0' && data[k]<='9'){\n\t      if(data[k]=='0') data[k]='9';\n\t      else data[k]=data[k]-1;\n\t    }\n\t  }\n\t}else if(hito[j]=='M'){\n\t  for(int k=0;k<data.size();k++){\n\t    if(data[k]>='0' && data[k]<='9'){\n\t      if(data[k]=='9') data[k]='0';\n\t      else data[k]=data[k]+1;\n\t    }\n\t  }\n\t}\n      }\n      cout << data << endl;\n    }\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<string>\n#define rep(i,a,b) for(int i=a;i<b;i++)\nusing namespace std;\nint main(void){\n\tint n;\n\tcin>>n;\n\tfor(int k=0;k<n;k++){\n\t\tstring s,o;\n\t\tcin>>o>>s;\n\t\tint t=o.size(),si=s.size();\n\t\tfor(int i=t-1;i>=0;i--){\n\t\t\tif(o[i]=='J'){\n\t\t\t\tchar temp=s[si-1];\n\t\t\t\trep(j,1,si){\n\t\t\t\t\ts[si-j]=s[si-j-1];\n\t\t\t\t}\n\t\t\t\ts[0]=temp;\n\t\t\t}else if(o[i]=='C'){\n\t\t\t\tchar temp=s[0];\n\t\t\t\trep(j,0,si-1){\n\t\t\t\t\ts[j]=s[j+1];\n\t\t\t\t}\n\t\t\t\ts[si-1]=temp;\n\t\t\t}else if(o[i]=='A'){\n\t\t\t\trep(j,0,si/2){\n\t\t\t\t\tswap(s[j],s[si-1-j]);\n\t\t\t\t}\n\t\t\t}else if(o[i]=='E'){\n\t\t\t\tstring b,m,e;\n\t\t\t\trep(j,0,si/2){\n\t\t\t\t\tb+=s[j];\n\t\t\t\t}\n\t\t\t\tint l=0;\n\t\t\t\tif(si%2==1){\n\t\t\t\t\tm=s[si/2];\n\t\t\t\t\tl++;\n\t\t\t\t}\n\t\t\t\trep(j,si/2+l,si){\n\t\t\t\t\te+=s[j];\n\t\t\t\t}\n\t\t\t\ts=e;\n\t\t\t\ts+=m;\n\t\t\t\ts+=b;\n\n\t\t\t}else if(o[i]=='P'){\n\t\t\t\trep(j,0,si){\n\t\t\t\t\tif(s[j]>='0'&&s[j]<='9'){\n\t\t\t\t\t\ts[j]--;\n\t\t\t\t\t\tif(s[j]<'0'){\n\t\t\t\t\t\t\ts[j]='9';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\t\trep(j,0,si){\n\t\t\t\t\tif(s[j]>='0'&&s[j]<='9'){\n\t\t\t\t\t\ts[j]++;\n\t\t\t\t\t\tif(s[j]>'9'){\n\t\t\t\t\t\t\ts[j]='0';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout<<s<<endl;\n\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <climits>\n#include <cfloat>\n#include <ctime>\n#include <cassert>\n#include <map>\n#include <utility>\n#include <set>\n#include <iostream>\n#include <memory>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <functional>\n#include <sstream>\n#include <complex>\n#include <stack>\n#include <queue>\n#include <numeric>\n#include <list>\n#include <iomanip>\n#include <fstream>\n#include <bitset>\n   \nusing namespace std;\n   \n \n#define rep(i, n) for (int i = 0; i < (int)(n); ++i)\n#define foreach(it, c) for (__typeof__((c).begin()) it=(c).begin(); it != (c).end(); ++it)\n#define rforeach(it, c) for (__typeof__((c).rbegin()) it=(c).rbegin(); it != (c).rend(); ++it)\n#define all(c) (c).begin(), (c).end()\n#define rall(c) (c).rbegin(), (c).rend()\n#define CL(arr, val) memset(arr, val, sizeof(arr))\n#define COPY(dest, src) memcpy(dest, src, sizeof(dest))\n#define ten(n) ((long long)(1e##n))\n#define bin(n) (1LL << (n))\n#define erep(i, n) for (int i = 0; i <= (int)(n); ++i)\n#define revrep(i, n) for (int i = (n); i >= 0; --i)\n#define pb push_back\n\ntemplate <class T> void chmax(T& a, const T& b) { a = max(a, b); }\ntemplate <class T> void chmin(T& a, const T& b) { a = min(a, b); }\n\ntemplate <class T> void uniq(T& c) { sort(c.begin(), c.end()); c.erase(unique(c.begin(), c.end()), c.end()); }\n \ntemplate <class T> string to_s(const T& a) { ostringstream os; os << a; return os.str(); }\ntemplate <class T> T to_T(const string& s) { istringstream is(s); T res; is >> res; return res; }\n\ntemplate <typename T> void print_container(ostream& os, const T& c) { const char* _s = \" \"; if (!c.empty()) { __typeof__(c.begin()) last = --c.end(); foreach (it, c) { os << *it; if (it != last) cout << _s; } } }\ntemplate <typename T> ostream& operator<<(ostream& os, const vector<T>& c) { print_container(os, c); return os; }\ntemplate <typename T> ostream& operator<<(ostream& os, const set<T>& c) { print_container(os, c); return os; }\ntemplate <typename T> ostream& operator<<(ostream& os, const multiset<T>& c) { print_container(os, c); return os; }\ntemplate <typename T> ostream& operator<<(ostream& os, const deque<T>& c) { print_container(os, c); return os; }\ntemplate <typename T, typename U> ostream& operator<<(ostream& os, const map<T, U>& c) { print_container(os, c); return os; }\ntemplate <typename T, typename U> ostream& operator<<(ostream& os, const pair<T, U>& p) { os << \"( \" << p.first << \", \" << p.second << \" )\"; return os; }\n\ntemplate <class T> void print(T a, int n, const string& deli = \" \", int br = 1) { for (int i = 0; i < n; ++i) { cout << a[i]; if (i + 1 != n) cout << deli; } while (br--) cout << endl; }\ntemplate <class T> void print2d(T a, int w, int h, int width = -1, int br = 1) { for (int i = 0; i < h; ++i) { for (int j = 0; j < w; ++j) {    if (width != -1) cout.width(width); cout << a[i][j] << ' '; } cout << endl; } while (br--) cout << endl; }\n\ntemplate <class T> void input(T& a, int n) { for (int i = 0; i < n; ++i) cin >> a[i]; }\ntemplate <class T> void input(T* a, int n) { for (int i = 0; i < n; ++i) cin >> a[i]; }\n\nvoid fix_pre(int n) { cout.setf(ios::fixed, ios::floatfield); cout.precision(10); }\nvoid fast_io() { cin.tie(0); ios::sync_with_stdio(false); }\n#define trace(x) (cout << #x << \": \" << (x) << endl)\n \nbool in_rect(int x, int y, int w, int h) { return 0 <= x && x < w && 0 <= y && y < h; }\nbool in_seg(int n, int l, int r) { return l <= n && n <= r; } // n in [l, r]?\n\ntypedef long long ll;\ntypedef pair<int, int> pint;\n \n// y(v): v>^<  y(^): ^>v<\nconst int dx[] = { 0, 1, 0, -1 };\nconst int dy[] = { 1, 0, -1, 0 };\n\nconst double PI = acos(-1.0);\n#define mp make_pair\n\n\n\nstring J(string s)\n{\n    rotate(s.begin(), s.end() - 1, s.end());\n    return s;\n}\nstring C(string s)\n{\n    rotate(s.begin(), s.begin() + 1, s.end());\n    return s;\n}\nstring E(string s)\n{\n    int n = s.size() / 2;\n    for (int i = 0, j = n + (s.size() % 2); i < n; ++i, ++j)\n        swap(s[i], s[j]);\n    return s;\n}\nstring A(string s)\n{\n    reverse(all(s));\n    return s;\n}\nstring P(string s)\n{\n    rep(i, s.size())\n        if (isdigit(s[i]))\n            s[i] = ((s[i] - '0') - 1 + 10) % 10 + '0';\n    return s;\n}\nstring M(string s)\n{\n    rep(i, s.size())\n        if (isdigit(s[i]))\n            s[i] = ((s[i] - '0') + 1) % 10 + '0';\n    return s;\n}\ntypedef string (*func)(string);\nint main()\n{\n    func _f[] = { J, C, E, A, P, M };\n    char* _c = \"JCEAPM\";\n    func f[256];\n    rep(i, 6)\n        f[_c[i]] = _f[i];\n\n    int T;\n    cin >> T;\n    while (T--)\n    {\n        string p, s;\n        cin >> p >> s;\n\n        revrep(i, p.size() - 1)\n            s = f[p[i]](s);\n        cout << s << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <cstring>\n#include <algorithm>\n#include <sstream>\n\n#define REP(i,k,n) for(int i=k;i<n;i++)\n#define rep(i,n) for(int i=0;i<n;i++)\n\nusing namespace std;\ntypedef long long ll;\n\nint main() {\n    int n;\n    cin >> n;\n\n    rep(i,n) {\n        string a,b;\n        cin >> a >> b;\n\n        for(int j=a.size()-1;j>=0;j--) {\n            if(a[j] == 'J') {\n                rotate(b.rbegin(),b.rbegin()+1,b.rend());\n            }\n            if(a[j] == 'C') {\n                rotate(b.begin(),b.begin()+1,b.end());\n            }\n            if(a[j] == 'E') {\n                stringstream ss;\n\n                if(b.size()%2 == 0) {\n                    REP(k,b.size()/2,b.size()) {\n                        ss << b[k];\n                    }\n                    rep(k,b.size()/2) {\n                        ss << b[k];\n                    }\n                }\n                else {\n                    REP(k,b.size()/2+1,b.size()) {\n                        ss << b[k];\n                    }\n\n                    ss << b[b.size()/2];\n\n                    rep(k,b.size()/2) {\n                        ss << b[k];\n                    }\n                }\n\n                b = ss.str();\n            }\n            if(a[j] == 'A') {\n                reverse(b.begin(),b.end());\n            }\n            if(a[j] == 'P') {\n                rep(k,b.size()) {\n                    if(b[k] == '0') b[k] = '9';\n                    else if('1' <= b[k] && b[k] <= '9') b[k]--;\n                }\n            }\n            if(a[j] == 'M') {\n                rep(k,b.size()) {\n                    if(b[k] == '9') b[k] = '0';\n                    else if('0' <= b[k] && b[k] <= '8') b[k]++;\n                }\n            }\n        }\n\n        cout << b << endl;\n\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <string>\n#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint n;\n\nint main(void){\n\tscanf(\"%d\",&n);\n\tfor(int i=0;i<n;i++){\n\t\tstring a,b;\n\t\tcin >> a;\n\t\tcin >> b;\n\t\tfor(int j=a.size();j>=0;j--){\n\t\t\tif(a[j]=='C'){\n\t\t\t\tstring c=b.substr(1)+b[0];\n\t\t\t\tb=c;\n\t\t\t}\n\t\t\tif(a[j]=='J'){\n\t\t\t\tstring c=b[b.size()-1]+b.substr(0,b.size()-1);\n\t\t\t\tb=c;\n\t\t\t}\n\t\t\tif(a[j]=='E'){\n\t\t\t\tfor(int k=0;k<b.size()/2;k++){\n\t\t\t\t\tswap(b[k],b[k+(b.size()+1)/2]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(a[j]=='M'){\n\t\t\t\tfor(int k=0;k<b.size();k++){\n\t\t\t\t\tif(b[k]>='0' && b[k]<='9'){\n\t\t\t\t\t\tif(b[k]=='9')b[k]='0';\n\t\t\t\t\t\telse b[k]++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(a[j]=='P'){\n\t\t\t\tfor(int k=0;k<b.size();k++){\n\t\t\t\t\tif(b[k]>='0' && b[k]<='9'){\n\t\t\t\t\t\tif(b[k]=='0')b[k]='9';\n\t\t\t\t\t\telse b[k]--;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(a[j]=='A'){\n\t\t\t\treverse(b.begin(),b.end());\n\t\t\t}\n\t\t}\n\t\tcout << b << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\n#include <limits.h>\n#include <math.h>\n#include <set>\n#include <stack>\n#include <stdlib.h>\n#include <string>\n#include <vector>\n\n#define el endl\n#define fd fixed\n#define INF INT_MAX/2-1\n#define pb push_back\n\nusing namespace std;\n\nstring num = \"0123456789\";\n\nstring mrj(string s) {\n  return s[s.length()-1] + s.substr(0, s.length()-1);\n}\n\nstring missc(string s) {\n  return s.substr(1, s.length()-1) + s[0];\n}\n\nstring mre(string s) {\n  if (s.length() % 2 == 1) return s.substr(s.length()/2+1, s.length()/2) + s[s.length()/2] + s.substr(0, s.length()/2);\n  else return s.substr(s.length()/2, s.length()/2) + s.substr(0, s.length()/2);\n}\n\nstring mra(string s) {\n  string res = \"\";\n  for (int i = s.length()-1; i >= 0; i--) {\n    res += s[i];\n  }\n  return res;\n}\n\nstring drp(string s) {\n  for (int i = 0; i < s.length(); i++) {\n    int index = (int)num.find(s[i]);\n    if (index >= 0) {\n      s[i] = num[(index+9)%10];\n    }\n  }\n  return s;\n}\n\nstring mrm(string s) {\n  for (int i = 0; i < s.length(); i++) {\n    int index = (int)num.find(s[i]);\n    if (index >= 0) {\n      s[i] = num[(index+1)%10];\n    }\n  }\n  return s;\n}\n\nint main() {\n  int n;\n  string order, message;\n  cin >> n;\n  while (n--) {\n    cin >> order >> message;\n    for (int i = order.length()-1; i >= 0; i--) {\n      if (order[i] == 'J') message = mrj(message);\n      if (order[i] == 'C') message = missc(message);\n      if (order[i] == 'E') message = mre(message);\n      if (order[i] == 'A') message = mra(message);\n      if (order[i] == 'P') message = drp(message);\n      if (order[i] == 'M') message = mrm(message);\n    }\n    cout << message << el;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\nint n;\nmain()\n{\n\tcin>>n;\n\tfor(;n--;)\n\t{\n\t\tstring s,t;\n\t\tcin>>t>>s;\n\t\tfor(int i=t.size();i--;)\n\t\t{\n\t\t\tif(t[i]=='J')\n\t\t\t{\n\t\t\t\ts=s[s.size()-1]+s.substr(0,s.size()-1);\n\t\t\t}\n\t\t\telse if(t[i]=='C')\n\t\t\t{\n\t\t\t\ts=s.substr(1,s.size()-1)+s[0];\n\t\t\t}\n\t\t\telse if(t[i]=='E')\n\t\t\t{\n\t\t\t\tif(s.size()%2)\n\t\t\t\t\ts=s.substr(s.size()/2+1,s.size()/2)+s[s.size()/2]+s.substr(0,s.size()/2);\n\t\t\t\telse s=s.substr(s.size()/2,s.size()/2)+s.substr(0,s.size()/2);\n\t\t\t}\n\t\t\telse if(t[i]=='A')\n\t\t\t{\n\t\t\t\treverse(s.begin(),s.end());\n\t\t\t}\n\t\t\telse if(t[i]=='P')\n\t\t\t{\n\t\t\t\tfor(int j=0;j<s.size();j++)\n\t\t\t\t\tif(s[j]>='0'&&s[j]<='9')\n\t\t\t\t\t{\n\t\t\t\t\t\ts[j]--;\n\t\t\t\t\t\tif(s[j]<'0')s[j]='9';\n\t\t\t\t\t}\n\t\t\t}\n\t\t\telse if(t[i]=='M')\n\t\t\t{\n\t\t\t\tfor(int j=0;j<s.size();j++)\n\t\t\t\t\tif(s[j]>='0'&&s[j]<='9')\n\t\t\t\t\t{\n\t\t\t\t\t\ts[j]++;\n\t\t\t\t\t\tif(s[j]>'9')s[j]='0';\n\t\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout<<s<<endl;\n\t}\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int, int> pii;\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\nconst double PI = 3.14159265358979323846;\nconst double EPS = 1e-12;\nconst int INF = numeric_limits<int>::max() / 2;\nconst int NEG_INF = numeric_limits<int>::min() / 2;\n\n//????????¨??¢??°???\nstring MrJ(string s)\n{\n    string res = \"\";\n    int len = s.length();\n    res += s[len - 1];\n    for (int i = 0; i < len - 1; i++)\n        res += s[i];\n    return res;\n}\nstring MissC(string s)\n{\n    string res = \"\";\n    int len = s.length();\n    for (int i = 1; i < len; i++)\n        res += s[i];\n    res += s[0];\n    return res;\n}\nstring MrE(string s)\n{\n    string res = \"\";\n    int len = s.length();\n    if (len % 2 == 0)\n    {\n        for (int i = len / 2; i <= len - 1; i++)\n            res += s[i];\n        for (int i = 0; i <= len / 2 - 1; i++)\n            res += s[i];\n    }\n    else\n    {\n        for (int i = (len + 1) / 2; i <= len - 1; i++)\n            res += s[i];\n        res += s[(len - 1) / 2];\n        for (int i = 0; i <= (len - 3) / 2; i++)\n            res += s[i];\n    }\n    return res;\n}\nstring MrA(string s)\n{\n    string res = \"\";\n    int len = s.length();\n    for (int i = len - 1; 0 <= i; i--)\n        res += s[i];\n    return res;\n}\nstring DrP(string s)\n{\n    string res = \"\";\n    int len = s.length();\n    for (int i = 0; i < len; i++)\n    {\n        if (48 < s[i] && s[i] <= 57)\n        {\n            res += s[i] - 1;\n        }\n        else if (s[i] == 48)\n            res += \"9\";\n        else\n            res += s[i];\n    }\n    return res;\n}\nstring MrM(string s)\n{\n    string res = \"\";\n    int len = s.length();\n    for (int i = 0; i < len; i++)\n    {\n        if (48 <= s[i] && s[i] < 57)\n        {\n            res += s[i] + 1;\n        }\n        else if (s[i] == 57)\n            res += \"0\";\n        else\n            res += s[i];\n    }\n    return res;\n}\n\nint main()\n{\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n\n    int n;\n    cin >> n;\n    for (int i = 0; i < n; i++)\n    {\n        string order;\n        string s;\n        cin >> order >> s;\n        int len = order.length();\n        for (int j = len - 1; 0 <= j; j--)\n        {\n            if (order[j] == 'J')\n                s = MrJ(s);\n            else if (order[j] == 'C')\n                s = MissC(s);\n            else if (order[j] == 'E')\n                s = MrE(s);\n            else if (order[j] == 'A')\n                s = MrA(s);\n            else if (order[j] == 'P')\n                s = DrP(s);\n            else\n                s = MrM(s);\n        }\n        cout << s << endl;\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define PB push_back\n#define MP make_pair\n#define REP(i,n) for (int i=0;i<(n);i++)\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define ALL(a) (a).begin(),(a).end()\nusing namespace std;\ndouble EPS=1e-10;\nint INF=1e9;\nstring C(string s){\n      string res=s;\n      for(int i=1;i<s.size();i++){\n            res[i-1]=s[i];\n      }\n      res[s.size()-1]=s[0];\n      return res;\n}\nstring J(string s){\n      string res=s;\n      res[0]=s[s.size()-1];\n      for(int i=0;i<s.size()-1;i++){\n            res[i+1]=s[i];\n      }\n      return res;\n}\nstring E(string s){\n      int sl=s.size();\n      char t;\n      string tmp1=\"\",tmp2=\"\",res=\"\";\n      REP(i,sl){\n            if(i<sl/2)tmp1+=s[i];\n            else if(sl%2==1&&i==sl/2){\n                  t=s[i];\n            }else{\n                  tmp2+=s[i];\n            }\n      }\n      if(sl%2==1){\n            return tmp2+t+tmp1;\n      }\n      return tmp2+tmp1;\n}\nstring A(string s){\n      reverse(ALL(s));\n      return s;\n}\nstring M(string s){\n      REP(i,s.size()){\n            if('0'<=s[i]&&s[i]<='9'){\n                  s[i]=(s[i]-'0'+1)%10+'0';\n            }\n      }\n      return s;\n}\nstring P(string s){\n      REP(i,s.size()){\n            if('0'<=s[i]&&s[i]<='9'){\n                  s[i]=(s[i]-'0'+9)%10+'0';\n            }\n      }\n      return s;\n}\nint main(){\n      string s,t;\n      int n;\n      cin>>n;\n      while(n--){\n            cin>>t>>s;\n            for(int i=t.size()-1;i>=0;i--){\n                  if(t[i]=='J')s=J(s);\n                  else if(t[i]=='C')s=C(s);\n                  else if(t[i]=='E')s=E(s);\n                  else if(t[i]=='A')s=A(s);\n                  else if(t[i]=='P')s=P(s);\n                  else s=M(s);\n            }\n            cout<<s<<endl;\n      }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\nusing namespace std;\n\nint main() {\n    int n;\n    cin >> n;\n    for(int i=0; i<n; ++i) {\n        string order, message;\n        cin >> order >> message;\n        reverse(order.begin(), order.end());\n\n        for(int j=0; j<order.size(); ++j) {\n            if(order[j] == 'J') {\n                message = message.substr(message.size()-1, 1) + message.substr(0, message.size()-1);\n            } else if(order[j] == 'C') {\n                message = message.substr(1, message.size()-1) + message.substr(0, 1);\n            } else if(order[j] == 'E') {\n                string left = message.substr(0, message.size()/2);\n                string right = message.substr((message.size()+1)/2, message.size()/2);\n                if(message.size()%2 == 0) {\n                    message = right + left;\n                } else {\n                    string mid = message.substr(message.size()/2, 1);\n                    message = right + mid + left;\n                }\n            } else if(order[j] == 'A') {\n                reverse(message.begin(), message.end());\n            } else if(order[j] == 'P') {\n                for(int k=0; k<message.size(); ++k) {\n                    char c = message[k];\n                    if('0' <= c && c <= '9') {\n                        message[k] = '0' + (c-'0'+9)%10;\n                    }\n                }\n            } else if(order[j] == 'M') {\n                for(int k=0; k<message.size(); ++k) {\n                    char c = message[k];\n                    if('0' <= c && c <= '9') {\n                        message[k] = '0' + (c-'0'+1)%10;\n                    }\n                }\n            }\n        }\n        cout << message << endl;\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <string>\n#include <vector>\n#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <set>\n#include <map>\n#include <queue>\n#include <stack>\n\nusing namespace std;\n\n#define INF 1010001000\n#define EPS 1e-10\n#define rep(i, N) for (int i = 0; i < N; i++)\n#define pb push_back\n\ntypedef pair<int, int> i_i;\ntypedef long long int llong;\ntypedef pair<llong, llong> ll_ll;\ntypedef struct edge {int f, t;}Edge;\n\nvoid J();\nvoid C();\nvoid E();\nvoid A();\nvoid P();\nvoid M();\n\nint n, len;\nstring data;\n\nint main()\n{\n    cin >> n;\n    rep(state, n) {\n        string change;\n        cin >> change >> data;\n        len = data.length();\n        for (int i = change.length()-1; i >= 0; i--) {\n            if (change[i] == 'J') {\n                J();\n            } else if (change[i] == 'C') {\n                C();\n            } else if (change[i] == 'E') {\n                E();\n            } else if (change[i] == 'A') {\n                A();\n            } else if (change[i] == 'P') {\n                P();\n            } else if (change[i] == 'M') {\n                M();\n            }\n        }\n        cout << data << endl;\n    }\n    return 0;\n}\n\nvoid C()\n{\n    char tmp = data[0];\n    rep(i, len-1) {\n        data[i] = data[i+1];\n    }\n    data[len-1] = tmp;\n}\n\nvoid J()\n{\n    char tmp = data[len-1];\n    for (int i = len - 1; i > 0; i--) {\n        data[i] = data[i-1];\n    }\n    data[0] = tmp;\n}\n\nvoid E()\n{\n    int odd = len % 2;\n    for (int i = 0; i < len/2; i++) {\n        char tmp = data[i];\n        data[i] = data[i + len / 2 + odd];\n        data[i + len / 2 + odd] = tmp;\n    }\n}\n\nvoid A()\n{\n    reverse(data.begin(), data.end());\n}\n\nvoid M()\n{\n    rep(i, len) {\n        if (data[i] == '9') {\n            data[i] = '0';\n        } else if ('0' <= data[i] && data[i] < '9') {\n            data[i]++;\n        } \n    }\n}\n\nvoid P()\n{\n    rep(i, len) {\n        if (data[i] == '0') {\n            data[i] = '9';\n        } else if ('0' < data[i] && data[i] <= '9') {\n            data[i]--;\n        } \n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <utility>\n#include <cmath>\n#include <algorithm>\n#include <iostream>\n#include <iomanip>\n#include <vector>\n#include <string>\n#define REP(i,n) for(int i=0;i<n;i++)\ntypedef long long ll;\nusing namespace std;\ntypedef vector<ll> vl;\ntypedef pair<ll,ll> pll;\ntypedef vector<pll> vpll;\ntypedef vector<string> vs;\n\nint main() \n{\n\tint n;\n\tcin >> n;\n\tcin.ignore();\n\tREP(i,n){\n\t\t\n\t\tstring s,c;\n\t\tgetline(cin,s);\n\t\tgetline(cin,c);\n\t\t\n\t\tchar a[10]={'0','1','2','3','4','5','6','7','8','9'};\n\t\t\n\t\tREP(j,s.length()){\n\t\t\tswitch(s[s.length()-1-j]){\n\t\t\t\tcase 'C':\n\t\t\t\trotate(c.begin(),c.begin()+1,c.begin()+c.length());\n\t\t\t\tbreak;\n\t\t\t\tcase 'J':\n\t\t\t\trotate(c.begin(),c.begin()+c.length()-1,c.begin()+c.length());\n\t\t\t\tbreak;\n\t\t\t  case 'E':{\n\t\t\t\tstring tmp1=\"\";string tmp2=\"\";string tmp3=\"\";\n\t\t\t\tREP(k,c.length()/2){tmp1+=c[k];}\n\t\t\t\tREP(k,c.length()/2){tmp3+=c[c.length()-c.length()/2+k];}\n\t\t\t\tif(c.length()%2==1){tmp2+=c[c.length()/2];}\n\t\t\t\tc = tmp3+tmp2+tmp1;}\n\t\t\t\tbreak;\n\t\t\t\tcase 'A':\n\t\t\t\treverse(c.begin(),c.end());\n\t\t\t\tbreak;\n\t\t\t\tcase 'M':\n\t\t\t\tREP(k,c.length()){REP(l,10){if(a[l]==c[k]){c[k]=a[(l+1+10)%10];break;}}}\n\t\t\t\tbreak;\n\t\t\t\tcase 'P':\n\t\t\t\tREP(k,c.length()){REP(l,10){if(a[l]==c[k]){c[k]=a[(l-1+10)%10];break;}}}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tcout << c << endl;\n\t}\t\n\t\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\n#define all(x) (x).begin(),(x).end()\nconst int mod=1000000007,MAX=1300005,INF=1<<29;\n\nint main(){\n    \n    std::ifstream in(\"text.txt\");\n    std::cin.rdbuf(in.rdbuf());\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    \n    int N;cin>>N;\n    while(N--){\n        string S,T;cin>>S>>T;\n        reverse(all(S));\n        \n        for(auto c:S){\n            if(c=='J'){\n                string sub=T;\n                for(int i=0;i<T.size();i++){\n                    sub[(i+1)%T.size()]=T[i];\n                }\n                T=sub;\n            }else if(c=='C'){\n                string sub=T;\n                for(int i=0;i<T.size();i++){\n                    sub[(T.size()+i-1)%T.size()]=T[i];\n                }\n                T=sub;\n            }else if(c=='E'){\n                string left=T.substr(0,T.size()/2),right=T.substr(T.size()-T.size()/2,T.size()/2),mid=T.substr(T.size()/2,T.size()%2);\n                T=right+mid+left;\n            }else if(c=='A'){\n                reverse(all(T));\n            }else if(c=='P'){\n                for(int i=0;i<T.size();i++){\n                    if('0'<=T[i]&&T[i]<='9'){\n                        if(T[i]!='0') T[i]--;\n                        else T[i]+=9;\n                    }\n                }\n            }else if(c=='M'){\n                for(int i=0;i<T.size();i++){\n                    if('0'<=T[i]&&T[i]<='9'){\n                        if(T[i]!='9') T[i]++;\n                        else T[i]-=9;\n                    }\n                }\n            }\n        }\n        \n        cout<<T<<endl;\n    }\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <iomanip>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <numeric>\n#include <bitset>\n#include <cmath>\n\nstatic const int MOD = 1000000007;\nusing ll = long long;\nusing u32 = uint32_t;\nusing namespace std;\n\ntemplate<class T> constexpr T INF = ::numeric_limits<T>::max()/32*15+208;\n\nint main() {\n    int q;\n    cin >> q;\n    while(q--){\n        string s, t;\n        cin >> s >> t;\n        int m = t.size();\n        reverse(s.begin(),s.end());\n        for (auto &&i : s) {\n            string tt(t);\n            if(i == 'J'){\n                for (int j = 0; j < m; ++j) {\n                    tt[j] = t[(j+m-1)%m];\n                }\n            }else if(i == 'C'){\n                for (int j = 0; j < m; ++j) {\n                    tt[j] = t[(j+1)%m];\n                }\n            }else if(i == 'E'){\n                for (int j = 0; j < m/2; ++j) {\n                    tt[j+(m+1)/2] = t[j];\n                    tt[j] = t[j+(m+1)/2];\n                }\n            }else if(i == 'A'){\n                reverse(tt.begin(),tt.end());\n            }else if(i == 'P') {\n                for (int j = 0; j < m; ++j) {\n                    if('0' <= tt[j] && tt[j] <= '9'){\n                        tt[j] = '0' + (tt[j]-'0'+9)%10;\n                    }\n                }\n\n            }else {\n                for (int j = 0; j < m; ++j) {\n                    if('0' <= tt[j] && tt[j] <= '9'){\n                        tt[j] = '0' + (tt[j]-'0'+1)%10;\n                    }\n                }\n            }\n            t = tt;\n        }\n        cout << t << \"\\n\";\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<cstring>\nusing namespace std;\n\nint main(){\n  int n;\n  cin>>n;\n  for(int i=0;i<n;i++){\n    char a[7],ans[26],b[26],x=0,y=0;\n    scanf(\"%s\",a);\n    x=strlen(a);\n    scanf(\"%s\",ans);\n    y=strlen(ans);  \n    for(int i=0;i<y;i++)\n      cout<<ans[i]<<endl<<endl;\n\n    for(int k=0;k<x;k++){\n\n      if(a[k]=='J'){//??????\n\tb[y-1]=ans[0];\n\tfor(int j=1;j<y;j++) b[j-1]=ans[j];\n      }\n      else if(a[k]=='C'){//??????\n\tb[0]=ans[y-1];\n\tfor(int j=0;j<y-1;j++) b[j+1]=ans[j];\n      }\n      else if(a[k]=='E'){//swap\n\tif(y%2==0)\n\t  for(int j=0;j<y/2;j++) \n\t    swap(ans[j],ans[j+(y/2)]);\n\telse\n\t  for(int j=0;j<y/2;j++) \n\t    swap(ans[j],ans[j+(y/2)+1]);\n\n\tfor(int j=0;j<y;j++)\n\t  b[j]=ans[j];\n\n      }\n      else if(a[k]=='A'){//????????????\n\tint o=y;\n\twhile(1){\n\t  if(o==0)break;\n\t  for(int j=0;j<y;j++){\n\t    b[j]=ans[o-1];\n\t    o--;\n\t  }\n\t}\n      }\n      else if(a[k]=='P'){//+1\n\tfor(int j=0;j<y;j++) \n\t  if(ans[j]>='0'&&ans[j]<='8') b[j]=ans[j]+1;\n\t  else if(ans[j]=='9') b[j]=ans[j]-9;\n    }\n      else if(a[k]=='M')//-1\n\tfor(int j=0;j<y;j++) \n\t  if(ans[j]>='1'&&ans[j]<='9') b[j]=ans[j]-1;\n\t  else if(ans[j]=='0') b[j]=ans[j]+9;\n\n      for(int j=0;j<y;j++)\n\tans[j]=b[j];\n    }\n      for(int j=0;j<y;j++)\n\tcout<<ans[j];\n      cout<<endl;\n    \n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<string>\n#include<algorithm>\n#include<iostream>\nusing namespace std;\n\nstring J(string s, int len) {\n  return s.substr(1) + s[0];\n}\n\nstring C(string s, int len) {\n  return s[len-1] + s.substr(0,len-1);\n}\n\nstring E(string s, int len) {\n  if (len % 2 == 1) {\n    return s.substr(len/2+1) + s[len/2] + s.substr(0, len/2);\n  } else {\n    return s.substr(len/2) + s.substr(0, len/2);\n  }\n}\n\nstring A(string s, int len) {\n  reverse(s.begin(), s.end());\n  return s;\n}\n\nstring P(string s, int len) {\n  for (int i = 0; i < len; i++) {\n    if (!isdigit(s[i])) continue;\n    if (s[i] == '9') s[i] = '0';\n    else s[i]++;\n  }\n  return s;\n}\n\nstring M(string s, int len) {\n  for (int i = 0; i < len; i++) {\n    if (!isdigit(s[i])) continue;\n    if (s[i] == '0') s[i] = '9';\n    else s[i]--;\n  }\n  return s;\n}\n\nint main() {\n  int n;\n  cin >> n;\n  for (int i = 0; i < n; i++) {\n    string messengers, crypt;\n    cin >> messengers >> crypt;\n    int len = crypt.length();\n    reverse(messengers.begin(), messengers.end());\n    for (char m : messengers) {\n      if (m == 'J') {\n        crypt = C(crypt, len);\n      } else if (m == 'C') {\n        crypt = J(crypt, len);\n      } else if (m == 'E') {\n        crypt = E(crypt, len);\n      } else if (m == 'A') {\n        crypt = A(crypt, len);\n      } else if (m == 'P') {\n        crypt = M(crypt, len);\n      } else if (m == 'M') {\n        crypt = P(crypt, len);\n      }\n    }\n    cout << crypt << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <string.h>\n#include <cstdio>\n#include <map>\n#include <queue>\n#define INF 10000000\n\nusing namespace std;\n\nint main(){\n  int n;\n  string str,odr;\n  cin >> n;\n  while(n--){\n    cin >> odr;\n    cin >> str;\n    int size = str.size();\n    string tmp = \"\";\n    for(int i = odr.size()-1 ; i >= 0 ; i-- ){\n      switch(odr[i]){\n      case 'A':\n\treverse(str.begin(),str.end());\n\tbreak;\n      case 'C':\n\ttmp = \"\";\n\tfor(int i = 1 ; i < size ; i++ ){\n\t  tmp += str[i];\n\t}\n\tstr = tmp+str[0];\n\tbreak;\n      case 'J':\n\ttmp = \"\";\n\tfor(int i = 0 ; i < size-1 ; i++ ){\n\t  tmp += str[i];\n\t}\n\tstr = str[size-1] + tmp;\n\tbreak;\n      case 'M':\n\tfor(int i = 0 ; i < size ; i++ ){\n\t  if('0' <= str[i] && str[i] <= '9'){\n\t    str[i] = char(str[i]+1);\n\t  }\n\t}\n\tbreak;\n      case 'P':\n\tfor(int i = 0 ; i < size ; i++ ){\n\t  if('0' <= str[i] && str[i] <= '9'){\n\t    str[i] = char(str[i]-1);\n\t  }\n\t}\n\tbreak;\n      case 'E':\n\tif(size%2==1){\n\t  str = str.substr((size/2)+1,size - size/2)+ str[size/2] + str.substr(0,(size/2)); \n\t}else {\n\t  str = str.substr((size/2),size - size/2) + str.substr(0,(size/2));\n\t}\n\tbreak;\n      }\n    }\n    cout << str << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define LOG(...) fprintf(stderr, __VA_ARGS__)\n//#define LOG(...)\n#define FOR(i, a, b) for(int i = (int)(a); i < (int)(b); ++i)\n#define REP(i, n) for(int i = 0; i < (int)(n); ++i)\n#define RREP(i, n) for(int i = (int)(n - 1); i >= 0; --i)\n#define ALL(a) (a).begin(), (a).end()\n#define RALL(a) (a).rbegin(), (a).rend()\n#define EXIST(s, e) ((s).find(e) != (s).end())\n#define SORT(c) sort(ALL(c))\n#define RSORT(c) sort(RALL(c))\n#define SQ(n) (n) * (n)\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\ntypedef vector<bool> vb;\ntypedef vector<int> vi;\ntypedef vector<char> vc;\ntypedef vector<pii> vpi;\ntypedef vector<pll> vpl;\ntypedef vector<ll> vll;\ntypedef vector<vb> vvb;\ntypedef vector<vi> vvi;\ntypedef vector<vc> vvc;\ntypedef vector<vll> vvll;\n\nint main() {\n  int n;\n  cin >> n;\n  REP(_, n){\n    string order, message;\n    cin >> order >> message;\n    int l = ceil(message.length() / 2.);\n\n    RREP(io, order.length()){\n      auto o = order[io];\n      switch (o) {\n      case 'J':\n        rotate(message.begin(), message.end() - 1, message.end());\n        break;\n      case 'C':\n        rotate(message.begin(), message.begin() + 1, message.end());\n        break;\n      case 'E':\n        REP(i, message.length() / 2){\n          swap(message[i], message[i + l]);\n        }\n        break;\n      case 'A':\n        reverse(ALL(message));\n        break;\n      case 'P':\n        REP(i, message.length()){\n          if (!isdigit(message[i])) continue;\n          message[i] = (message[i] - '0' + 9) % 10 + '0';\n        }\n        break;\n      case 'M':\n        REP(i, message.length()){\n          if (!isdigit(message[i])) continue;\n          message[i] = (message[i] - '0' + 1) % 10 + '0';\n        }\n        break;\n      }\n    }\n    cout << message << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <string.h>\n#include <ctype.h>\n\nint main(void){\n\tint n, i, j, k;\n\tchar str[26], order[7], c, tmp;\n\tscanf(\"%d%*c\",&n);\n\tfor(i = 0;i < n;i++){\n\t\tj = 0;\n\t\twhile((c = getchar()) != '\\n')\n\t\t\torder[j++] = c;\n\t\torder[j] = '\\0';\n\t\tj = 0;\n\t\twhile((c = getchar()) != '\\n')\n\t\t\tstr[j++] = c;\n\t\tstr[j] = '\\0';\n\t\tfor(j = strlen(order) - 1;j >= 0;j--){\n\t\t\tif(order[j] == 'J'){\n\t\t\t\ttmp = str[strlen(str) - 1];\n\t\t\t\tfor(k = strlen(str) - 1;k > 0;k--)\n\t\t\t\t\tstr[k] = str[k - 1];\n\t\t\t\tstr[0] = tmp;\n\t\t\t}else if(order[j] == 'C'){\n\t\t\t\ttmp = str[0];\n\t\t\t\tfor(k = 0;k < strlen(str) - 1;k++)\n\t\t\t\t\tstr[k] = str[k + 1];\n\t\t\t\tstr[strlen(str) - 1] = tmp;\n\t\t\t}else if(order[j] == 'E'){\n\t\t\t\tfor(k = 0;k < strlen(str) / 2;k++){\n\t\t\t\t\ttmp = str[k];\n\t\t\t\t\tstr[k] = str[k + (strlen(str) - 1) / 2 + 1];\n\t\t\t\t\tstr[k + (strlen(str) - 1) / 2 + 1] = tmp;\n\t\t\t\t}\n\t\t\t}else if(order[j] == 'A'){\n\t\t\t\tfor(k = 0;k < strlen(str) - 1 - k;k++){\n\t\t\t\t\ttmp = str[k];\n\t\t\t\t\tstr[k] = str[strlen(str) - 1 - k];\n\t\t\t\t\tstr[strlen(str) - 1 - k] = tmp;\n\t\t\t\t}\n\t\t\t}else if(order[j] == 'P'){\n\t\t\t\tfor(k = 0;k < strlen(str);k++){\n\t\t\t\t\tif(isdigit(str[k])){\n\t\t\t\t\t\tif(str[k] == '0')\n\t\t\t\t\t\t\tstr[k] = '9';\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tstr[k]--;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else if(order[j] == 'M'){\n\t\t\t\tfor(k = 0;k < strlen(str);k++){\n\t\t\t\t\tif(isdigit(str[k])){\n\t\t\t\t\t\tif(str[k] == '9')\n\t\t\t\t\t\t\tstr[k] = '0';\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tstr[k]++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tprintf(\"%s\\n\",str);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long LL;\ntypedef vector<int>    VI;\ntypedef vector<bool>   VB;\ntypedef vector<string> VS;\n\n#define MP make_pair\n#define PB push_back\n#define ALL(x)  (x).begin(),(x).end()\n#define rep(i, N)  for (int i = 0; i < (int)(N); i++)\n#define REP(i, init, N)  for (int i = (init); i < (int)(N); i++)\n#define DUMP( x ) cerr << #x << \" = \" << ( x ) << endl\n\nint main(void) {\n\tint n;\n\tcin >> n;\n\trep (i, n) {\n\t\tstring order, msg;\n\t\tcin >> order >> msg;\n\t\trep (j, order.size()) {\n\t\t\tswitch (order[j]) {\n\t\t\t\tcase 'J':\n\t\t\t\t\tmsg = msg.substr(1) + msg[0];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'C':\n\t\t\t\t\tmsg = msg[msg.size() - 1] + msg.substr(0, msg.size() - 1);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'E':\n\t\t\t\t\tif (msg.size() % 2) {\n\t\t\t\t\t\tstring s1 = msg.substr(0, msg.size() / 2);\n\t\t\t\t\t\tstring s2 = msg.substr(msg.size() / 2 + 1);\n\t\t\t\t\t\tmsg = s2 + msg[msg.size() / 2] + s1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstring s1 = msg.substr(0, msg.size() / 2);\n\t\t\t\t\t\tstring s2 = msg.substr(msg.size() / 2);\n\t\t\t\t\t\tmsg = s2 + s1;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'A':\n\t\t\t\t\treverse(ALL(msg));\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'P':\n\t\t\t\t\tfor (char &c : msg) {\n\t\t\t\t\t\tif ('0' <= c && c <= '9') {\n\t\t\t\t\t\t\tc = (c == '9'? '0' : c + 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'M':\n\t\t\t\t\tfor (char &c : msg) {\n\t\t\t\t\t\tif ('0' <= c && c <= '9') {\n\t\t\t\t\t\t\tc = (c == '0'? '9' : c - 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tcout << msg << endl;\n\t}\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main() {\n\tstring order, s;\n\tint n;\n\tcin >> n;\n\tfor(int i = 0; i < n; ++i){\n\t\tcin >> order;\n\t\tcin >> s;\n\t\tfor(int j = order.size() - 1; j >= 0; --j){\n\t\t\tif(order[j] == 'J'){\n\t\t\t\ts = s[s.size() - 1] + s.substr(0, s.size() - 1);\n\t\t\t}\n\t\t\tif(order[j] == 'C'){\n\t\t\t\ts = s.substr(1, s.size() - 1) + s[0];\n\t\t\t}\n\t\t\tif(order[j] == 'E'){\n\t\t\t\tfor(int k = 0; k < s.size() / 2; ++k)\n\t\t\t\t\tswap(s[k], s[k + s.size() / 2 + s.size() % 2]);\n\t\t\t}\n\t\t\tif(order[j] == 'A'){\n\t\t\t\treverse(s.begin(), s.end());\n\t\t\t}\n\t\t\tif(order[j] == 'P'){\n\t\t\t\tfor(int k = 0; k < s.size(); ++k){\n\t\t\t\t\tif('0' <= s[k] && s[k] <= '9'){\n\t\t\t\t\t\tif(s[k] == '0')\n\t\t\t\t\t\t\ts[k] = '9';\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\ts[k] -= 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(order[j] == 'M'){\n\t\t\t\tfor(int k = 0; k < s.size(); ++k){\n\t\t\t\t\tif('0' <= s[k] && s[k] <= '9'){\n\t\t\t\t\t\tif(s[k] == '9')\n\t\t\t\t\t\t\ts[k] = '0';\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\ts[k] += 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << s << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <stack>\n#include <queue>\n#include <deque>\n#include <set>\n#include <map>\n#include <algorithm>\t// require sort next_permutation count __gcd reverse etc.\n#include <cstdlib>\t// require abs exit atof atoi \n#include <cstdio>\t\t// require scanf printf\n#include <functional>\n#include <numeric>\t// require accumulate\n#include <cmath>\t\t// require fabs\n#include <climits>\n#include <limits>\n#include <cfloat>\n#include <iomanip>\t// require setw\n#include <sstream>\t// require stringstream \n#include <cstring>\t// require memset\n#include <cctype>\t\t// require tolower, toupper\n#include <fstream>\t// require freopen\n#include <ctime>\t\t// require srand\n#define rep(i,n) for(int i=0;i<(n);i++)\n#define ALL(A) A.begin(), A.end()\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int, int> P;\n\nint main()\n{\n\tios_base::sync_with_stdio(0);\n\tint N; cin >> N;\n\trep (i, N ){\n\t\tstring s; cin >> s;\n\t\tstring t; cin >> t;\n\t\tint n = s.length();\n\t\tint m = t.length();\n\t\tfor (int i = n - 1; i >= 0; i-- ){\n\t\t\tstring u = \"\", u1 = \"\", u2 = \"\";\n\t\t\tchar c = s[i];\n\t\t\tswitch (c ){\n  \t\t\t\tcase 'J':\n\t\t\t\t\tu = t.substr (0, t.length() - 1 );\n\t\t\t\t\tu  = t[t.length() - 1 ] + u;\n\t\t\t\t\tt = u;\n\t\t\t\tbreak;\n\t\t\t\tcase 'C':\n\t\t\t\t\tu = t.substr (1 );\n\t\t\t\t\tu += t[0];\n\t\t\t\t\tt = u;\n\t\t\t\tbreak; \n\t\t\t\tcase 'E':\n\t\t\t\t\tif (t.length() % 2 == 0 ){\n\t\t\t\t\t\tu1 = t.substr (0, t.length()/2 );\n\t\t\t\t\t\tu2 = t.substr (t.length()/2 );\n\t\t\t\t\t\tu = u2 + u1;\n\t\t\t\t\t\tt = u;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tu1 = t.substr (0, t.length()/2 );\n\t\t\t\t\t\tu2 = t.substr (t.length()/2+1 );\n\t\t\t\t\t\tchar mid = t[t.length()/2];\n\t\t\t\t\t\tu = u2 + mid + u1;\n\t\t\t\t\t\tt = u;\n\t\t\t\t\t} // end if\n\t\t\t\tbreak;\n\t\t\t\tcase 'A':\n\t\t\t\t\treverse (ALL(t ) );\n\t\t\t\tbreak;\n\t\t\t\tcase 'P':\n\t\t\t\t\trep (j, m ){\n\t\t\t\t\t\tif (isdigit (t[j] ) ){\n\t\t\t\t\t\t\tt[j] = (char)((t[j] - '0' + 10 - 1 ) % 10 + '0' );\n\t\t\t\t\t\t} // end if\n\t\t\t\t\t} // end rep\n\t\t\t\tbreak;\n\t\t\t\tcase 'M':\n\t\t\t\t\trep (j, m ){\n\t\t\t\t\t\tif (isdigit (t[j] ) ){\n\t\t\t\t\t\t\tt[j] = (char)((t[j] - '0' + 1 ) % 10 + '0' );\n\t\t\t\t\t\t} // end if\n\t\t\t\t\t} // end rep\n\t\t\t\tbreak;\n\t\t\t} // end switch\n\t\t} // end for\n\t\tcout << t << endl; \n\t} // end for\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <string>\n#include <sstream>\n#include <cstring>\n#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <queue>\n#include <stack>\n#include <map>\n#include <set>\n#include <numeric>\n#include <cctype>\n\n// BEGIN CUT HERE\n#ifdef _MSC_VER\n#include <agents.h>\n#endif\n// END CUT HERE \n\n#define FOR(i, a, b) for(int i = (a); i < (int)(b); ++i)\n#define rep(i, n) FOR(i, 0, n)\n#define ALL(v) v.begin(), v.end()\n#define REV(v) v.rbegin(), v.rend()\n#define MEMSET(v, s) memset(v, s, sizeof(v))\n#define MP make_pair\n#define MT make_tuple\n#define X first\n#define Y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<ll, ll> P;\n\nint main(){\n\tios::sync_with_stdio(false);\n\n\tint n;\n\tcin >> n;\n\twhile(n--){\n\t\tstring ppl, mes;\n\t\tcin >> ppl >> mes;\n\n\t\treverse(ALL(ppl));\n\t\tfor (auto ch : ppl){\n\t\t\tstring nxt;\n\t\t\tint m;\n\t\t\tswitch (ch){\n\t\t\tcase 'J':\n\t\t\t\tnxt = mes.back() + mes.substr(0, mes.size() - 1);\n\t\t\t\tbreak;\n\t\t\tcase 'C':\n\t\t\t\tnxt = mes.substr(1) + mes[0];\n\t\t\t\tbreak;\n\t\t\tcase 'E':\n\t\t\t\tm = mes.size() / 2;\n\t\t\t\tif (mes.size() & 1){\n\t\t\t\t\tnxt = mes.substr(m+1) + mes[m] + mes.substr(0, m);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tnxt = mes.substr(m) + mes.substr(0, m);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'A':\n\t\t\t\tnxt = string(REV(mes));\n\t\t\t\tbreak;\n\t\t\tcase 'M':\n\t\t\t\tfor (auto c : mes){\n\t\t\t\t\tif ('0' <= c && c <= '8') ++c;\n\t\t\t\t\telse if (c == '9') c = '0';\n\t\t\t\t\tnxt += c;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'P':\n\t\t\t\tfor (auto c : mes){\n\t\t\t\t\tif ('1' <= c && c <= '9') --c;\n\t\t\t\t\telse if (c == '0') c = '9';\n\t\t\t\t\tnxt += c;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tmes = nxt;\n\t\t}\n\t\tcout << mes << endl;\n\t}\n\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <stdio.h>\n#include <cstdio>\n#include <algorithm>\nusing namespace std;\n\nint main(){\n    int n;\n    cin >> n;\n    while( n-- ){\n        string p, m;\n        cin >> p >> m;\n        reverse( p.begin(), p.end() );\n        for( size_t i = 0; i < p.length(); i++ ){\n            if( p[i] == 'J' ){\n                char tmp = m[m.length() - 1];\n                for( size_t j = m.length() - 1; j > 0; j-- ){\n                    //if( j == 0 ){\n                    //}else{\n                        m[j] = m[j-1];\n                    //}\n                    //cout << m[j] << endl;\n                }\n                m[0] = tmp;\n                break;\n            }if( p[i] == 'C' ){\n                char tmp = m[0];\n                for( size_t j = 0; j < m.length(); j++ ){\n                    if( j == m.length() - 1 ) m[j] = tmp;\n                    else m[j] = m[j+1];\n                }\n                break;\n            }if( p[i] == 'E' ){\n                string tmp = m.substr( 0, m.length() / 2 );\n                m = m.substr( (m.length() + 1) / 2 );\n                m.append( tmp );\n                break;\n            }if( p[i] == 'A' ){\n                reverse( m.begin(), m.end() );\n                break;\n            }if( p[i] == 'P' ){\n                for( size_t j = 0; j < m.length(); j++ ){\n                    if( '1' <= m[j] && m[j] <= '9' ){\n                        m[j]--;\n                    }else if( '0' == m[j] ){\n                        m[j] = '9';\n                    }\n                }\n                break;\n            }if( p[i] == 'M' ){\n                for( size_t j = 0; j < m.length(); j++ ){\n                    if( '0' <= m[j] && m[j] <= '8' ){\n                        m[j]++;\n                    }else if( '9' == m[j] ){\n                        m[j] = '0';\n                    }\n                }\n                break;\n            }\n        }\n        cout << m << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n\nusing std::cin;\nusing std::cout;\nusing std::endl;\nusing std::string;\n\nbool is_number(char c) {\n\tif (c >= '0' && c <= '9') {\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nstring operate_J(string str) {\n\tstring ret = \"\";\n\tfor (int i = 0; i < str.length()-1; i++) {\n\t\tret += str[i];\n\t}\n\treturn (str[str.length()-1] + ret);\n}\n\nstring operate_C(string str) {\n\tstring ret = \"\";\n\tfor (int i = 1; i < str.length(); i++) {\n\t\tret += str[i];\n\t}\n\treturn (ret + str[0]);\n}\n\nstring operate_E(string str) {\n\tstring sub1 = \"\";\n\tstring sub2 = \"\";\n\tint l = str.length();\n\tint div = l/2;\n\n\n\tif (l%2 == 0) {\n\t\tfor (int i = 0; i < div; i++) {\n\t\t\tsub1 += str[i];\n\t\t\tsub2 += str[div+i];\n\t\t}\n\t\treturn (sub2 + sub1);\n\t}\n\telse {\n\t\tfor (int i = 0; i < div; i++) {\n\t\t\tsub1 += str[i];\n\t\t\tsub2 += str[div+i+1];\n\t\t}\n\t\treturn (sub2 + str[div] + sub1);\n\t}\n}\n\nstring operate_A(string str) {\n\tstring ret = \"\";\n\tint l = str.length();\n\tfor (int i = 0; i < l; i++) {\n\t\tret += str[l-i-1];\n\t}\n\treturn ret;\n}\n\nstring operate_P(string str) {\n\tstring ret = \"\";\n\tfor (int i = 0; i < str.length(); i++) {\n\t\tif (is_number(str[i])) {\n\t\t\tif (str[i] == '0') {\n\t\t\t\tret += \"9\";\n\t\t\t}\n\t\t\telse {\n\t\t\t\tret += str[i]-1;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tret += str[i];\n\t\t}\n\t}\n\treturn ret;\n}\n\nstring operate_M(string str) {\n\tstring ret = \"\";\n\tfor (int i = 0; i < str.length(); i++) {\n\t\tif (is_number(str[i])) {\n\t\t\tif (str[i] == '9') {\n\t\t\t\tret += \"0\";\n\t\t\t}\n\t\t\telse {\n\t\t\t\tret += str[i]+1;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tret += str[i];\n\t\t}\n\t}\n\treturn ret;\n}\n\nstring trans_str(string str, char ope) {\n\tif (ope == 'J') {\n\t\treturn operate_J(str);\n\t}\n\tif (ope == 'C') {\n\t\treturn operate_C(str);\n\t}\n\tif (ope == 'E') {\n\t\treturn operate_E(str);\n\t}\n\tif (ope == 'A') {\n\t\treturn operate_A(str);\n\t}\n\tif (ope == 'P') {\n\t\treturn operate_P(str);\n\t}\n\tif (ope == 'M') {\n\t\treturn operate_M(str);\n\t}\n\treturn str;\n}\n\nint main(void) {\n\tint n;\n\tcin >> n;\n\tfor (int t = 0; t < n; t++) {\n\t\tstring ope,str;\n\t\tcin >> ope;\n\t\tcin >> str;\n\t\tstring ret = str;\n\t\tint l = ope.length();\n\n\t\tfor (int i = 0; i < l; i++) {\n\t\t\tret = trans_str(ret, ope[l-i-1]);\n\t\t}\n\n\t\tcout << ret << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <iostream>\n#include <utility>\n#include <algorithm>\n#include <string>\n#include <deque>\n#include <queue>\n#include <tuple>\n#include <queue>\n#include <functional>\n#include <cmath>\n#include <iomanip>\n#include <map>\n#include <set>\n#include <numeric>\n#include <unordered_map>\n#include <unordered_set>\n#include <complex>\n#include <iterator>\n#include <array>\n#include <memory>\n#include <stack>\n#define vi vector<int>\n#define vvi vector<vector<int> >\n#define ll long long int\n#define vl vector<ll>\n#define vvl vector<vector<ll>>\n#define vb vector<bool>\n#define vc vector<char>\n#define vs vector<string>\n#define ld long double\n#define INF 1e9\n#define EPS 0.0000000001\n#define rep(i,n) for(int i=0;i<n;i++)\n#define loop(i,s,n) for(int i=s;i<n;i++)\n#define all(in) in.begin(), in.end()\ntemplate<class T, class S> void cmin(T &a, const S &b) { if (a > b)a = b; }\ntemplate<class T, class S> void cmax(T &a, const S &b) { if (a < b)a = b; }\n#define MAX 9999999\nusing namespace std;\ntypedef pair<int, int> pii;\ntypedef pair<double,double>pdd;\ntypedef pair<ll,ll>pll;\nstring solve(string s,char order){\n    if(order=='C'){\n        char hoge=s[0];\n        s.erase(s.begin());\n        s.push_back(hoge); return s;\n    }if(order=='J'){\n        char hoge=s[s.size()-1];\n        s.insert(s.begin(),hoge);\n        s.erase(s.end()-1);\n        return s;\n    }if(order=='E'){\n        \n        string hoge;\n        if(s.size()%2)hoge.push_back(s[(s.size()-1)/2]);\n        for(int i=0; i<=(s.size()-1)/2;i++){\n            if(i==(s.size()-1)/2&&s.size()%2)continue;\n            hoge.push_back(s[i]);\n        }\n        string gotiusa;\n        for(int i=(int)(s.size()-1)/2+1;i<s.size();i++)\n            gotiusa.push_back(s[i]);\n        return (gotiusa+hoge);\n    }if(order=='A'){\n        reverse(s.begin(),s.end());\n        return s;\n    }if(order=='P'){\n        rep(i,s.size()){\n            if('0'<=s[i]&&s[i]<='9'){\n                if(s[i]=='0')s[i]='9';\n                else{string hoge=to_string(s[i]-'1'); s[i]=hoge[0];}\n            }\n        }\n        return s;\n    }if(order=='M'){\n        rep(i,s.size()){\n            if('0'<=s[i]&&s[i]<='9'){\n                if(s[i]=='9')s[i]='0';\n                else{string hoge=to_string(s[i]-'0'+1); s[i]=hoge[0];}\n            }\n        }\n        return s;\n    }\n    \n    return s;\n}\nint main(){\n    int gotiusa; cin>>gotiusa;\n    rep(_,gotiusa){\n        string key,s;\n        cin>>key;\n        cin>>s;\n        for(int i=(int)key.size()-1; i>=0;i--){\n            s=solve(s,key[i]);\n        }\n        cout<<s<<endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main() {\n  int T;\n  cin >> T;\n  while(T--) {\n    string s,t;\n    cin >> t >> s;\n    int n=s.size();\n    for(int j=t.size()-1; j>=0; j--) {\n      if(t[j]=='C') rotate(s.begin(),s.begin()+1,s.end());\n      if(t[j]=='J') rotate(s.begin(),s.end()-1,s.end());\n      if(t[j]=='E') {\n        if(s.size()%2) s=s.substr(n/2+1)+s[n/2]+s.substr(0,n/2);\n        else s=s.substr(n/2)+s.substr(0,n/2);\n      }\n      if(t[j]=='A') reverse(s.begin(),s.end());\n      if(t[j]=='M') {\n        for(int i=0; i<n; i++) {\n          if(!isdigit(s[i])) continue;\n          if(s[i]=='9') s[i]='0';\n          else s[i]++;\n        }\n      }\n      if(t[j]=='P') {\n        for(int i=0; i<n; i++) {\n          if(!isdigit(s[i])) continue;\n          if(s[i]=='0') s[i]='9';\n          else s[i]--;\n        }\n      }\n    }\n    cout << s << endl;\n  }\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n\nusing namespace std;\n\nint main()\n{\n    int n;\n    cin >> n;\n\n    auto decryptJ = [](const string &s) {\n        return s.back() + s.substr(0, s.size() - 1);\n    };\n\n    auto decryptC = [](const string &s) { return s.substr(1) + s.front(); };\n\n    auto decryptE = [](const string &s) {\n        if (s.size() % 2 == 0) {\n            return s.substr(s.size() / 2) + s.substr(0, s.size() / 2);\n        }\n        else {\n            return s.substr(s.size() / 2 + 1) + s[s.size() / 2] +\n                   s.substr(0, s.size() / 2);\n        }\n    };\n\n    auto decryptA = [](const string &s) {\n        auto r = s;\n        reverse(begin(r), end(r));\n        return r;\n    };\n\n    auto decryptP = [](const string &s) {\n        auto r = s;\n        for (auto &&c : r) {\n            if (c < '0' || '9' < c) {\n                continue;\n            }\n\n            c = (c - '0' + 10 - 1) % 10 + '0';\n        }\n        return r;\n    };\n\n    auto decryptM = [](const string &s) {\n        auto r = s;\n        for (auto &&c : r) {\n            if (c < '0' || '9' < c) {\n                continue;\n            }\n\n            c = (c - '0' + 1) % 10 + '0';\n        }\n        return r;\n    };\n\n    for (int i = 0; i < n; ++i) {\n        string order, message;\n        cin >> order;\n        cin >> message;\n        reverse(begin(order), end(order));\n\n        for (auto &&c : order) {\n            switch (c) {\n            case 'J':\n                message = decryptJ(message);\n                break;\n            case 'C':\n                message = decryptC(message);\n                break;\n            case 'E':\n                message = decryptE(message);\n                break;\n            case 'A':\n                message = decryptA(message);\n                break;\n            case 'P':\n                message = decryptP(message);\n                break;\n            case 'M':\n                message = decryptM(message);\n                break;\n            }\n        }\n        cout << message << endl;\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define ll long long\nusing namespace std;\n\nint main() {\n    int n;\n    cin >> n;\n    while (n--) {\n        string ord, msg;\n        cin >> ord >> msg;\n        reverse(ord.begin(), ord.end());\n        for (int i = 0; i < ord.size(); i++) {\n            if (ord[i] == 'C') {\n                char c = msg[0];\n                msg.erase(0, 1);\n                msg.push_back(c);\n            } else if (ord[i] == 'J') {\n                char c = msg[msg.size() - 1];\n                msg.erase(msg.size() - 1, 1);\n                msg.insert(msg.begin(), c);\n            } else if (ord[i] == 'E') {\n                int cnt = msg.size() / 2;\n                string s, s1, s2;\n                if (msg.size() % 2) {\n                    s = msg[cnt];\n                    s1 = msg.substr(0, cnt);\n                    s2 = msg.substr(cnt + 1, cnt);\n                } else {\n                    s = \"\";\n                    s1 = msg.substr(0, cnt);\n                    s2 = msg.substr(cnt, cnt);\n                }\n                msg = s2 + s + s1;\n            } else if (ord[i] == 'A') {\n                reverse(msg.begin(), msg.end());\n            } else if (ord[i] == 'M') {\n                for (int j = 0; j < msg.size(); j++) {\n                    if ('0' <= msg[j] && msg[j] <= '9') {\n                        if (msg[j] == '9')\n                            msg[j] = '0';\n                        else\n                            msg[j] = msg[j] + 1;\n                    }\n                }\n            } else if (ord[i] == 'P') {\n                for (int j = 0; j < msg.size(); j++) {\n                    if ('0' <= msg[j] && msg[j] <= '9') {\n                        if (msg[j] == '0')\n                            msg[j] = '9';\n                        else\n                            msg[j] = msg[j] - 1;\n                    }\n                }\n            }\n        }\n        cout << msg << endl;\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\n\nusing namespace std;\n\nstring rotate_left (string s) {\n    return s.substr(1, s.size() - 1) + s.substr(0, 1);\n}\n\nstring rotate_right (string s) {\n    return s.substr(s.size() - 1, 1) + s.substr(0, s.size() - 1);\n}\n\nstring swap_half (string s) {\n    return s.substr(s.size() / 2, s.size() - s.size() / 2) + s.substr(0, s.size() / 2);\n}\n\nstring rev(string s) {\n    reverse(begin(s), end(s));\n    return s;\n}\n\nstring inc_dig (string s) {\n    string ret = \"\";\n    for (char c : s) {\n        if(isdigit(c)) {\n            ret += ((c - '0') + 1) % 10 + '0';\n        } else {\n            ret += c;\n        }\n    }\n    return ret;\n}\n\nstring dec_dig (string s) {\n    string ret = \"\";\n    for (char c : s) {\n        if(isdigit(c)) {\n            ret += ((c - '0') + 9) % 10 + '0';\n        } else {\n            ret += c;\n        }\n    }\n    return ret;\n}\n\nint main() {\n    int n;\n    cin >> n;\n    while (n--) {\n        string opers, s;\n        cin >> opers >> s;\n        for (auto op = opers.rbegin(); op != opers.rend(); ++op) {\n            if(*op == 'J') {\n                s = rotate_right(s);\n            } else if (*op == 'C') {\n                s = rotate_left(s);\n            } else if (*op == 'E') {\n                s = swap_half(s);\n            } else if (*op == 'A') {\n                s = rev(s);\n            } else if (*op == 'P') {\n                s = dec_dig(s);\n            } else if (*op == 'M') {\n                s = inc_dig(s);\n            }\n        }\n        cout << s << endl;\n        \n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n#define pb push_back\n#define mt make_tuple\n#define all(a) (a).begin(),(a).end()\n#define frep(i,a,n) for(int i=(a);i<(n);++i)\n#define rep(i, n) for(int i=0;i<(n);++i)\n#define rrep(i, n) for(int i=n-1;i>=0;--i)\n#define debug(x) cout << #x << \" : \" << x << \" ------------ \" << endl;\nusing namespace std;\nint main()\n{\n    int n;\n    cin >> n;\n    while (n--) {\n        string o;\n        cin >> o;\n        string m;\n        cin >> m;\n        \n        rrep (i, o.length()) {\n            switch (o[i]) {\n                case 'A':\n                    reverse(all(m));\n                    break;\n                case 'J':\n                    rotate(m.rbegin(), m.rbegin() + 1, m.rend());\n                    break;\n                case 'C':\n                    rotate(m.begin(), m.begin() + 1, m.end());\n                    break;\n                case 'P': {\n                    auto it = m.begin();\n                    while (it != m.end()) {\n                        if (isdigit(*it) && --(*it) < '0') *it = '9';\n                        ++it;\n                    }\n                    break; }\n                case 'M': {\n                    auto it = m.begin();\n                    while (it != m.end()) {\n                        if (isdigit(*it) && ++(*it) > '9') *it = '0';\n                        ++it;\n                    }\n                    break; }\n                case 'E': {\n                    int len = m.length();\n                    string f = m.substr(0, len / 2);\n                    char mdl = m.length() % 2 ? m[len / 2] : 0;\n                    string b = m.substr((len + 1) / 2);\n                    m = b + mdl + f;\n                    break; }\n                default:\n                    break;\n            }\n        }\n        cout << m << endl;\n    }\n    return EXIT_SUCCESS;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\n#define REP(i,n) for(int i=0;i<(n);i++)\n#define ALL(v) (v).begin(),(v).end()\n#define int long long\ntypedef pair<int,int> P;\n\n//-----------------------------------------------------------------------\n\nvoid decode(string &s,char c)\n{\n    int l=s.size();\n    if(c=='J'){\n\tif(l>0) s=s[l-1]+s.substr(0,l-1);\n    }\n    else if(c=='C'){\n\tif(l>0) s=s.substr(1)+s[0];\n    }\n    else if(c=='E'){\n\tif(l%2==0) s=s.substr(l/2)+s.substr(0,l/2);\n\telse s=s.substr(l/2+1)+s[l/2]+s.substr(0,l/2);\n    }\n    else if(c=='A'){\n\treverse(ALL(s));\n    }\n    else if(c=='P'){\n\tREP(i,s.size()){\n\t    if(isdigit(s[i])) s[i]=(s[i]-'0'+9)%10+'0';\n\t}\n    }\n    else{\n\tREP(i,s.size()){\n\t    if(isdigit(s[i])) s[i]=(s[i]-'0'+1)%10+'0';\n\t}\n    }\n}\n    \nsigned main()\n{\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n\n    int n; cin>>n;\n    REP(i,n){\n\tstring s,msg;\n\tcin>>s>>msg;\n\tfor(int i=s.size()-1;i>=0;i--){\n\t    decode(msg,s[i]);\n\t}\n\tcout<<msg<<endl;\n    }\n\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <cmath>\n#include <cstdio>\n#include <functional>\n#include <numeric>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <utility>\n#include <sstream>\n#include <complex>\n#include <fstream>\n\nusing namespace std;\n\n#define FOR(i,a,b) for(long long i=(a);i<(b);i++)\n#define REP(i,N) for(long long i=0;i<(N);i++)\n#define ALL(s) (s).begin(),(s).end()\n#define fi first\n#define se second\n\n#define PI acos(-1.0)\n#define INF 10e9+9\n#define EPS 1e-10\n#define MAX_N 100100\n#define MAX_M 100100\n\ntypedef long long ll;\ntypedef pair<ll, ll> P;\ntypedef pair<double, double> PD;\ntypedef pair<string, ll> PS;\ntypedef vector<ll> V;\ntypedef pair<P, char> PC;\n\nint n;\nstring s, ans;\n\nint main(){\n\tcin >> n;\n\tREP(k, n){\n\t\tcin >> s >> ans;\n\t\treverse(ALL(s));\n\t\tREP(i,s.size()){\n\t\t\tif (s[i] == 'J'){\n\t\t\t\tans = ans[ans.size() - 1] + ans.substr(0, ans.size() - 1);\n\t\t\t}\n\t\t\telse if (s[i] == 'C'){\n\t\t\t\tans = ans.substr(1, ans.size() - 1) + ans[0];\n\t\t\t}\n\t\t\telse if (s[i] == 'E'){\n\t\t\t\tint num = ans.size() / 2;\n\t\t\t\tif (ans.size() % 2 == 1){\n\t\t\t\t\tans = ans.substr(num + 1) + ans[num] + ans.substr(0, num);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tans = ans.substr(num) + ans.substr(0, num);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (s[i] == 'A'){\n\t\t\t\treverse(ALL(ans));\n\t\t\t}\n\t\t\telse if (s[i] == 'P'){\n\t\t\t\tREP(j, ans.size()){\n\t\t\t\t\tif (ans[j] >= '1'&&ans[j] <= '9'){\n\t\t\t\t\t\tans[j] = (char)(ans[j] - 1);\n\t\t\t\t\t}\n\t\t\t\t\telse if (ans[j] == '0'){\n\t\t\t\t\t\tans[j] = '9';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tREP(j, ans.size()){\n\t\t\t\t\tif (ans[j] >= '0'&&ans[j] <= '8'){\n\t\t\t\t\t\tans[j] = (char)(ans[j] + 1);\n\t\t\t\t\t}\n\t\t\t\t\telse if (ans[j] == '9'){\n\t\t\t\t\t\tans[j] = '0';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\nusing namespace std;\n\nstring translateJ( string k );\nstring translateC( string k );\nstring translateE( string k );\nstring translateA( string k );\nstring translateM( string k );\nstring translateP( string k );\n\nint main()\n{\n    int n;\n    string order, key;\n\n    cin >> n;\n\n    for( int i = 0; i < n; i++ )\n    {\n        cin >> order >> key;\n        for( int j = order.size() - 1; j >= 0; j-- )\n        {\n            if( order[j] == 'J' )\n                key = translateJ( key );\n            else if( order[j] == 'C' )\n                key = translateC( key );\n            else if( order[j] == 'E' )\n                key = translateE( key );\n            else if( order[j] == 'A' )\n                key = translateA( key );\n            else if( order[j] == 'P' )\n                key = translateP( key );\n            else\n                key = translateM( key );\n        }\n        cout << key << endl;\n    }\n    return 0;\n}\n\nstring translateJ( string k )\n{\n    char c = k[k.size() - 1];\n    for( int i = k.size() - 1; i > 0; i-- )\n        k[i] = k[i-1];\n    k[0] = c;\n    return k;\n}\n\nstring translateC( string k )\n{\n    char c = k[0];\n    for( int i = 0; i < k.size() - 1; i++ )\n        k[i] = k[i+1];\n    k[k.size()-1] = c;\n    return k;\n}\n\nstring translateE( string k )\n{\n    string a = \"\", b = \"\";\n    int c = k.size();\n    if( c % 2 == 0 )\n    {\n        for( int i = 0; i < c; i++ )\n            i < c / 2 ? a += k[i] : b += k[i];\n        return b + a;\n    }\n    else\n    {\n        for( int i = 0; i < c / 2; i++ )\n            a += k[i];\n        for( int i = c / 2 + 1; i < c; i++ )\n            b += k[i];\n        return b + k[c/2] + a;\n    }\n}\n\nstring translateA( string k )\n{\n    string r = \"\";\n    for( int i = k.size() - 1; i >= 0; i-- )\n        r += k[i];\n    return r;\n}\n\nstring translateM( string k )\n{\n    for( int i = 0; i < k.size(); i++ )\n        if( '0' <= k[i] && k[i] <= '9' )\n        {\n            k[i]++;\n            if( k[i] == '9' + 1 )\n                k[i] = '0';\n        }\n    return k;\n}\n\nstring translateP( string k )\n{\n    for( int i = 0; i < k.size(); i++ )\n        if( '0' <= k[i] && k[i] <= '9' )\n        {\n            k[i]--;\n            if( k[i] == '0' - 1 )\n                k[i] = '9';\n        }\n    return k;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <iomanip>\n\n#include <vector>\n#include <map>\n#include <set>\n#include <queue>\n#include <bitset>\n#include <stack>\n#include <utility>\n\n#include <numeric>\n#include <algorithm>\n#include <functional>\n\n#include <cctype>\n\n#include <complex>\n#include <string>\n#include <sstream>\n\nusing namespace std;\n\n#define all(c) c.begin(),c.end()\n#define rall(c) c.rbegin(),c.rend()\n#define rep(i,n) for(unsigned int i=0;i<(n);i++)\n#define tr(it,container) for(typeof(container.begin()) it = container.begin(); \\\n                             it != container.end(); ++it)\n#define mp(a,b) make_pair((a),(b))\n\ntypedef long long ll;\ntypedef complex<double> P;\nconst int dx[] = {1,0,-1,0};\nconst int dy[] = {0,-1,0,1};\nconst double EPS = 1e-9;\nconst int days[] = {31,28,31,30,31,30,31,31,30,31,30,31};\nconst int daysleap[] = {31,29,31,30,31,30,31,31,30,31,30,31};\n\nint main(){\n    int n;\n    cin >> n;\n    rep(i,n){\n        string OM;\n        string ME;\n        cin >> OM >> ME;\n        reverse(all(OM));\n        rep(j,OM.length()){\n            int m = OM[j];\n            switch(m){\n            case 'J':\n                rotate(ME.begin(),ME.end()-1,ME.end());\n                break;\n            case 'C':\n                rotate(ME.begin(),ME.begin()+1,ME.end());\n                break;\n            case 'E':\n                // a b c d\n                if(ME.length() % 2 == 0) ME = ME.substr(ME.length()/2) + ME.substr(0,ME.length()/2);\n                // a b c d e\n                else ME = ME.substr(ME.length()/2+1) + ME[ME.length()/2] + ME.substr(0,ME.length()/2);\n                break;\n            case 'A':\n                reverse(all(ME));\n                break;\n            case 'P':\n            {\n                string ret = \"\";\n                rep(k,ME.length()){\n                    if('0' <= ME[k] and ME[k] <= '9'){\n                        if(ME[k] == '0') ret += '9';\n                        else ret += ME[k]-1;\n                    }else{\n                        ret += ME[k];\n                    }\n                }\n                ME = ret;\n            }\n            break;\n            case 'M':\n            {\n                string ret = \"\";\n                rep(k,ME.length()){\n                    if('0' <= ME[k] and ME[k] <= '9'){\n                        if(ME[k] == '9') ret += '0';\n                        else ret += ME[k]+1;\n                    }else{\n                        ret += ME[k];\n                    }\n                }\n                ME = ret;\n            }\n            }\n\n        }\n        cout << ME << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <algorithm>\n#define rep(i,a) for(int i = 0 ; i < a ; i ++)\n\nusing namespace std;\n\nstring A(string in){\n  reverse(in.begin(),in.end());\n  return in;\n}\nstring J(string in){\n  in=in.substr(in.size()-1,1)+in.substr(0,in.size()-1);\n  return in;\n}\nstring M(string in){\n  rep(i,in.size()){\n    if(isdigit(in[i])){\n      if(in[i]=='9')in[i]='1';\n      else in[i]++;\n    }\n  }\n  return in;\n}\nstring P(string in){\n  rep(i,in.size()){\n    if(isdigit(in[i])){\n      if(in[i]=='0')in[i]='9';\n      else in[i]--;\n    }\n  }\n  return in;\n}\nstring C(string in){\n  in=in.substr(1,in.size()-1)+in.substr(0,1);\n  return in;\n}\nstring E(string in){\n  int l = in.size()/2;\n  if(in.size()%2){\n    in=in.substr(l+1,l) + in[l] + in.substr(0,l);\n  }else{\n    in=in.substr(l,l) + in.substr(0,l);\n  }\n  return in;\n}\nint main(void){\n  int N;\n  cin>>N;\n  while(N--){\n    string a,s;\n    cin>>a>>s;\n    reverse(a.begin(),a.end());\n    rep(i,a.size()){\n      switch(a[i]){\n        case 'A':s=A(s);break;\n        case 'J':s=J(s);break;\n        case 'M':s=M(s);break;\n        case 'P':s=P(s);break;\n        case 'C':s=C(s);break;\n        case 'E':s=E(s);break;\n      }\n      cout<<s<<endl;\n    }\n    \n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <sstream>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <climits>\n#include <cfloat>\n#include <vector>\n#include <string>\n#include <stack>\n#include <queue>\n#include <set>\n#include <map>\n#include <algorithm>\n#include <functional>\n#include <utility>\n#include <numeric>\n#include <iterator>\n\nusing namespace std;\n\ntypedef long long LL;\ntypedef unsigned long long ULL;\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<string> VS;\ntypedef pair<int,int> PII;\ntypedef istringstream ISS;\ntypedef ostringstream OSS;\n\n#define REP( i, m, n ) for ( int i = (int)( m ); i < (int)( n ); ++i )\n#define FOR( v, c ) for ( auto &v : c )\n\n#define EACH( it, c ) for ( auto it = c.begin(); it != c.end(); ++it )\n#define ALL( c ) (c).begin(), (c).end()\n#define DRANGE( c, p ) (c).begin(), (c).begin() + p, (c).end()\n\n#define PB( n ) push_back( n )\n#define MP( a, b ) make_pair( ( a ), ( b ) )\n#define EXIST( c, e ) ( (c).find( e ) != (c).end() )\n\n#define fst first\n#define snd second\n\n#define DUMP( x ) cerr << #x << \" = \" << ( x ) << endl\n#define DEBUG( x ) cerr << __FILE__ << \":\" << __LINE__ << \": \" << #x << \" = \" << ( x ) << endl\n\nstring func_j( string msg )\n{\n\trotate( DRANGE( msg, msg.size() - 1 ) );\n\treturn msg;\n}\n\nstring func_c( string msg )\n{\n\trotate( DRANGE( msg, 1 ) );\n\treturn msg;\n}\n\nstring func_e( string msg )\n{\n\tconst int L = msg.size();\n\tconst int mid = L / 2;\n\tstring left = msg.substr( 0, mid );\n\tstring right = msg.substr( L % 2 ? mid + 1 : mid );\n\treturn right + ( L % 2 ? string( 1, msg[ mid ] ) : \"\" ) + left;\n}\n\nstring func_a( string msg )\n{\n\treverse( ALL( msg ) );\n\treturn msg;\n}\n\nstring func_p( string msg )\n{\n\tREP( i, 0, msg.size() )\n\t{\n\t\tif ( isdigit( msg[i] ) )\n\t\t{\n\t\t\tmsg[i] = ( ( msg[i] - '0' ) + 10 - 1 ) % 10 + '0';\n\t\t}\n\t}\n\treturn msg;\n}\n\nstring func_m( string msg )\n{\n\tREP( i, 0, msg.size() )\n\t{\n\t\tif ( isdigit( msg[i] ) )\n\t\t{\n\t\t\tmsg[i] = ( ( msg[i] - '0' ) + 1 ) % 10 + '0';\n\t\t}\n\t}\n\treturn msg;\n}\n\nint main()\n{\n\tcin.tie( 0 );\n\tios::sync_with_stdio( false );\n\n\tmap< char, string (*)( string ) > funcs;\n\tfuncs[ 'J' ] = func_j;\n\tfuncs[ 'C' ] = func_c;\n\tfuncs[ 'E' ] = func_e;\n\tfuncs[ 'A' ] = func_a;\n\tfuncs[ 'P' ] = func_p;\n\tfuncs[ 'M' ] = func_m;\n\n\tint n;\n\tcin >> n;\n\n\tREP( case_num, 0, n )\n\t{\n\t\tstring order, message;\n\t\tcin >> order >> message;\n\n\t\tfor ( int i = order.size() - 1; 0 <= i; i-- )\n\t\t{\n\t\t\tmessage = funcs[ order[i] ]( message );\n\t\t}\n\n\t\tcout << message << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <vector>\n#include <list>\n#include <cmath>\n#include <fstream>\n#include <algorithm>\n#include <string>\n#include <queue>\n#include <set>\n#include <map>\n#include <complex>\n#include <iterator>\n#include <cstdlib>\n#include <cstring>\n#include <sstream>\n\nusing namespace std;\n\n#define EPS (1e-10)\n#define EQ(a,b) (abs((a) - (b)) < EPS)\n#define EQV(a,b) (EQ((a).real(),(b).real()) && EQ((a).imag(),(b).imag()))\n\ntypedef complex<double> P;\ntypedef long long ll;\n\nconst double PI=4*atan(1.0);\nconst int MAX_SIZE = 10000;\n\nint main(){\n\n    int n;\n    cin>>n;\n    for(int i = 0; i < n; i++){\n        string order;\n        cin>>order;\n        string given;\n        cin>>given;\n        for(int i = order.size()-1; i >= 0; i--){\n            if(order[i]=='A'){\n                reverse(given.begin(),given.end());\n            }\n            else if(order[i]=='J'){\n                char ch=given[given.size()-1];\n                given=given.substr(0,given.size()-1);\n                given=ch+given;\n            }\n            else if(order[i]=='M'){\n                for(int j = 0; j < given.size(); j++){\n                    if(given[j]>='0'&&given[j]<='9'){\n                        int num=(given[j]-'0'+1)%10;\n                        given[j]=num+'0';\n                    }\n                }\n            }\n            else if(order[i]=='P'){\n                for(int j = 0; j < given.size(); j++){\n                    if(given[j]>='0'&&given[j]<='9'){\n                        int num=(given[j]-'0'-1+10)%10;\n                        given[j]=num+'0';\n                    }\n                }\n            }\n            else if(order[i]=='C'){\n                char ch=given[0];\n                given=given.substr(1,given.size()-1);\n                given+=ch;\n            }\n            else if(order[i]=='E'){\n                if(given.size()%2==0){\n                    string prv=given.substr(0,given.size()/2);\n                    string nxt=given.substr(given.size()/2,given.size()/2);\n                    given=nxt+prv;\n                }\n                else{\n                    string prv=given.substr(0,given.size()/2);\n                    string nxt=given.substr((given.size()/2)+1,given.size()/2);\n                    char ch=given[given.size()/2];\n                    given=nxt+ch+prv;\n                }\n            }\n        }\n        cout<<given<<endl;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nusing i64 = int64_t;\n\nstring J(string s){\n    char c = s.back();\n    s.pop_back();\n    return c + s;\n}\n\nstring C(string s){\n    char c = s[0];\n    s = s.substr(1, s.size()-1);\n    return s + c;\n}\n\nstring E(string s){\n    string left = s.substr(0, s.size()/2);\n    string right = s.substr(s.size()/2 + s.size()%2, s.size()/2);\n    string res = right;\n    if(s.size() % 2)res += s[s.size()/2];\n    res += left;\n    return res;\n}\n\nstring A(string s){\n    reverse(s.begin(), s.end());\n    return s;\n}\n\nstring P(string s){\n    string res;\n    for(auto c: s){\n        if(c >= '0' && c <= '9'){\n            if(c == '0')c = '9';\n            else c--;\n        }\n        res.push_back(c);\n    }\n    return res;\n}\n\nstring M(string s){\n    string res;\n    for(auto c: s){\n        if(c >= '0' && c <= '9'){\n            if(c == '9')c = '0';\n            else c++;\n        }\n        res.push_back(c);\n    }\n    return res;\n}\n\nint main(){\n    int n;\n    cin >> n;\n    for(int i=0;i<n;++i){\n        string s;\n        cin >> s;\n        string mes;\n        cin >> mes;\n        reverse(s.begin(), s.end());\n        for(auto c: s){\n            if(c == 'J'){\n                mes = J(mes);\n            }else if(c == 'C'){\n                mes = C(mes);\n            }else if(c == 'E'){\n                mes = E(mes);\n            }else if(c == 'A'){\n                mes = A(mes);\n            }else if(c == 'P'){\n                mes = P(mes);\n            }else{\n                mes = M(mes);\n            }\n        }\n        cout << mes << endl;\n    }\n\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <cmath>\n#include <ctype.h>\n#include <string> \n#include <sstream>\n#include <iostream>\n#include <algorithm>\n#include <cstdlib>\n#include <map>\n#include <queue>\n#include <utility>\n#include <vector>\n\nusing namespace std;\n\nvoid c_j(string str);\nvoid c_c(string str);\nvoid c_e(string str);\nvoid c_a(string str);\nvoid c_p(string str);\nvoid c_m(string str);\n\nint main()\n{\n\tint n;\n\tstring order, message;\n\tcin >> n;\n\tfor(int i = 0; i < n; i++){\n\t\tcin >> order >> message;\n\t\tfor(int j = order.length()-1; j >= 0; j++){\n\t\t\tif(order[j] == 'J') c_j(message);\n\t\t\telse if(order[j] == 'C') c_c(message);\n\t\t\telse if(order[j] == 'E') c_e(message);\n\t\t\telse if(order[j] == 'A') c_a(message);\n\t\t\telse if(order[j] == 'P') c_p(message);\n\t\t\telse if(order[j] == 'M') c_m(message); \n\t\t}\n\t\tcout << message << endl;\n\t}\n\treturn 0;\n}\n\nvoid c_j(string str)\n{\n\tchar c;\n\tc = str[str.length()-1];\n\tstr.pop_back();\n\tstr = c + str;\n}\n\nvoid c_c(string str)\n{\n\tchar c;\n\tc = str[0];\n\tstr.erase(str.begin());\n\tstr += c;\n}\n\nvoid c_e(string str)\n{\n\tstring a;\n\tint l = str.length();\n\ta = str.substr(0, l / 2);\n\tif( l % 2 == 1){\n\t\tchar c = str[l / 2 + 1];\n\t\tstr.erase(str.begin(), str.begin() + l);\n\t\tstr += c;\n\t\tstr += a;\n\t} else {\n\t\tstr.erase(str.begin(), str.begin() + (l - 1));\n\t\tstr += a;\n\t}\n}\n\nvoid c_a(string str)\n{\n\treverse(str.begin(), str.end());\n}\n\nvoid c_p(string str)\n{\n\tfor(int i = 0; i < str.length() - 1; i++){\n\t\tif(isdigit(str[i])){\n\t\t\tint n = str[i] - '0';\n\t\t\tn--;\n\t\t\tif(n == -1) n = 9;\n\t\t\tstr[i] = n + '0';\n\t\t}\n\t}\n}\n\nvoid c_m(string str)\n{\n\tfor(int i = 0; i < str.length() - 1; i++){\n\t\tif(isdigit(str[i])){\n\t\t\tint n = str[i] - '0';\n\t\t\tn = (n + 1) % 10;\n\t\t\tstr[i] = n + '0';\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing ll = long long;\nconst int MOD = 1e9 + 7;\n\nint main()\n{\n  int n;\n  cin >> n;\n  vector<string> ans;\n  while (n--)\n  {\n    string messengers, message;\n    cin >> messengers >> message;\n    reverse(messengers.begin(), messengers.end());\n    int len = message.size();\n    for (int i = 0; i < messengers.size(); ++i)\n    {\n      if (messengers[i] == 'J')\n      {\n        rotate(message.rbegin(), message.rbegin() + 1, message.rend());\n      }\n      else if (messengers[i] == 'C')\n      {\n        rotate(message.begin(), message.begin() + 1, message.end());\n      }\n      else if (messengers[i] == 'E')\n      {\n        string tmp = \"\";\n        tmp += message.substr(len % 2 == 0 ? len / 2 : len / 2 + 1, len / 2);\n        if (len % 2 == 1)\n          tmp += message[len / 2];\n        tmp += message.substr(0, len / 2);\n        message = tmp;\n      }\n      else if (messengers[i] == 'A')\n      {\n        reverse(message.begin(), message.end());\n      }\n      else if (messengers[i] == 'P')\n      {\n        for (int j = 0; j < len; ++j)\n        {\n          if ('0' <= message[j] && message[j] <= '9')\n            message[j] = char((10 + message[j] - 1 - '0') % 10 + '0');\n        }\n      }\n      else if (messengers[i] == 'M')\n      {\n        for (int j = 0; j < len; ++j)\n        {\n          if ('0' <= message[j] && message[j] <= '9')\n            message[j] = char((message[j] + 1 - '0') % 10 + '0');\n        }\n      }\n    }\n    ans.push_back(message);\n  }\n  for (auto &e : ans)\n    cout << e << endl;\n\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\nusing namespace std;\nint main(){\n  int n;\n  cin >> n;\n  for(int k=0;k<n;k++){\n    string order,str,buf;\n    cin >> order >> str;\n    for(int i=order.size()-1;i>=0;i--){\n      \n      int s=str.size();\n      switch(order[i]) {\n      case 'J' :\n\tbuf=str;\n\tfor(int j=0;j<s;j++)\n\t  str[j+1]=buf[j];\n\tstr[0]=buf[s-1];\n\tbreak;\n      case 'C' : \n\tbuf=str;\n\tfor(int j=0;j<s;j++)\n\t  str[j]=buf[j+1];\n\tstr[s-1]=buf[0];\n\tbreak;\n      case 'E' :\n\tbuf=str;\n\tfor(int j=0;j<s/2;j++){\n\t  str[j]=buf[j+s-s/2];\n\t}\n\tfor(int j=s-s/2;j<s;j++){\n\t  str[j]=buf[j-s+s/2];  \n\t}\n\t\n\tbreak;\n      case 'A' :\n\tbuf=str;\n\tfor(int j=0;j<s/2;j++){\n\t  str[j]=buf[s-1-j];\n\t  str[s-1-j]=buf[j];\n\t}\n\tbreak;\n      case 'P' :\n\tfor(int j=0;j<s;j++){\n\t  if(str[j]=='0') str[j]='9';\n\t  else if('0'<str[j]&&str[j]<='9') str[j]--;\n\t}\n\tbreak;\n      case 'M' :\n\tfor(int j=0;j<s;j++){\n\t  if(str[j]=='9') str[j]='0';\n\t  else if('0'<=str[j]&&str[j]<'9') str[j]++;\n\t}\n\tbreak;\n      }\n    }\n    cout << str << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nint day[101];\nint n, q;\nstring moji;\n\nvoid fJ()\n{\n\tstring s {moji[moji.length()-1]};\n\tfor (int i = 0; i < moji.length()-1; i++) {\n\t\ts += moji[i];\n\t}\n\tmoji = s;\n}\n\nvoid fC()\n{\n\tstring s = \"\";\n\tfor (int i = 1; i < moji.length(); i++) {\n\t\ts += moji[i];\n\t}\n\ts += moji[0];\n\tmoji = s;\n}\n\nvoid fE()\n{\n\tint l = moji.length();\n\tstring a=\"\", b=\"\", c=\"\";\n\tif (l % 2) b += moji[l/2];\n\tfor (int i = 0; i < l/2; i++) {\n\t\ta += moji[i];\n\t}\n\tfor (int i = l/2 + l % 2; i < l; i++) {\n\t\tc += moji[i];\n\t}\n\tmoji = c + b + a;\n}\n\nint fP()\n{\n\tint l = moji.length();\n\tfor (int i = 0; i < l; i++) {\n\t\tif (isdigit(moji[i])) {\n\t\t\tint t = moji[i] - '0';\n\t\t\tmoji[i] = ((t+9) % 10) + '0';\n\t\t}\n\t}\n}\n\nint fM()\n{\n\tint l = moji.length();\n\tfor (int i = 0; i < l; i++) {\n\t\tif (isdigit(moji[i])) {\n\t\t\tint t = moji[i] - '0';\n\t\t\tmoji[i] = ((t+1) % 10) + '0';\n\t\t}\n\t}\n}\n\nint fA()\n{\n\tstring s = \"\";\n\tint l = moji.length();\n\tfor (int i = 0; i < l; i++) {\n\t\ts = moji[i] + s;\n\t}\n\tmoji = s;\n}\n\n\nint main()\n{\n\tint N;\n\tstring hito;\n\tcin >> N;\n\tfor (int i = 0; i < N; i++) {\t\t\n\t\tcin >> hito >> moji;\n\t\tfor (int j = hito.length()-1; j >= 0; j--) {\n\t\t\tif (hito[j] == 'J') fJ();\n\t\t\tif (hito[j] == 'C') fC();\n\t\t\tif (hito[j] == 'E') fE();\n\t\t\tif (hito[j] == 'A') fA();\n\t\t\tif (hito[j] == 'P') fP();\n\t\t\tif (hito[j] == 'M') fM();\n\t\t}\n\t\tcout << moji << endl;\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define rep(i, n) for(int i = 0; i < n; i++)\n\ntypedef long long ll;\nusing namespace std;\nint mod = 1000000007;\n\nint main(void){\n    //J -> 左回転\n    //C -> 右回転\n    //E -> 半分にして入れ替え\n    //A -> 反転\n    //P -> 数字をインクリメント\n    //M -> 数字をデクリメント\n    int N; cin >> N;\n    vector<string> ans;\n    rep(i, N){\n        string order, recv;\n        cin >> order >> recv;\n        int lenS = recv.length();\n        for(int j = order.length(); j >= 0; j--){\n            string temp = \"\";\n            switch(order[j]){\n                case 'J':\n                    temp += recv[lenS-1];\n                    rep(k, lenS-1) temp += recv[k];\n                    recv = temp;\n                    break;\n                case 'C':\n                    for(int k = 1; k < lenS; k++) temp += recv[k];\n                    temp += recv[0];\n                    recv = temp;\n                    break;\n                case 'E':\n                    if((lenS & 1) == 0){\n                        for(int k = lenS/2; k < lenS; k++) temp += recv[k];\n                        rep(k, lenS/2) temp += recv[k];\n                        recv = temp; \n                    }\n                    else{\n                        for(int k = lenS/2+1; k < lenS; k++) temp += recv[k];\n                        temp += recv[lenS/2];\n                        rep(k, lenS/2) temp += recv[k];\n                        recv = temp; \n                    }\n                    break;\n                case 'A':\n                    reverse(recv.begin(), recv.end());\n                    break;\n                case 'P':\n                    rep(k, recv.length()){\n                        if('0' <= recv[k] && recv[k] <= '9'){\n                            if(recv[k] == '0') recv[k] = '9';\n                            else recv[k]--;\n                        }\n                    }\n                    break;\n                case 'M':\n                    rep(k, recv.length()){\n                        if('0' <= recv[k] && recv[k] <= '9'){\n                            if(recv[k] == '9') recv[k] = '0';\n                            else recv[k]++;\n                        }\n                    }\n                    break; \n            }\n        }\n        ans.push_back(recv);\n    }\n    rep(i, ans.size()) cout << ans[i] << endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cctype>\n#include <iostream>\n#include <string>\nusing namespace std;\n\nvoid solve() {\n\tstring order, message;\n\tcin >> order >> message;\n\tfor (int i = order.size() - 1; i >= 0; i--) {\n\t\tswitch (order[i]) {\n\t\tcase 'J':\n\t\t\tif (message.size() >= 2) {\n\t\t\t\tmessage = (*message.rbegin()) + message.substr(0, message.size() - 1);\n\t\t\t}\n\t\t\tbreak;\n\t\tcase 'C':\n\t\t\tif (message.size() >= 2) {\n\t\t\t\tmessage = message.substr(1) + message[0];\n\t\t\t}\n\t\t\tbreak;\n\t\tcase 'E':\n\t\t\tif (message.size() >= 2) {\n\t\t\t\tint pos = message.size() / 2;\n\t\t\t\tmessage = message.substr(pos) + message.substr(0, pos);\n\t\t\t}\n\t\t\tbreak;\n\t\tcase 'A':\n\t\t\tmessage = string(message.rbegin(), message.rend());\n\t\t\tbreak;\n\t\tcase 'P':\n\t\t\tfor (unsigned j = 0; j < message.size(); j++) {\n\t\t\t\tif (isdigit(message[j])) {\n\t\t\t\t\tif (message[j] == '0') {\n\t\t\t\t\t\tmessage[j] = '9';\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tmessage[j]--;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak;\n\t\tcase 'M':\n\t\t\tfor (unsigned j = 0; j < message.size(); j++) {\n\t\t\t\tif (isdigit(message[j])) {\n\t\t\t\t\tif (message[j] == '9') {\n\t\t\t\t\t\tmessage[j] = '0';\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tmessage[j]++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t}\n\tcout << message << endl;\n}\n\nint main () {\n\tint n;\n\tcin >> n;\n\tfor (int i = 0; i < n; i++) {\n\t\tsolve();\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<deque>\n#include<list>\n#include<map>\n#include<queue>\n#include<set>\n#include<stack>\n#include<vector>\n#include<algorithm>\n#include<string>\n#include<iostream>\n#include<sstream>\n#include<cmath>\n#include<cstring>\nusing namespace std;\nint main(){\n  int i,j,k;\n  int n;\n  cin>>n;\n  for(i=0;i<n;++i){\n    char s[7],t[26];\n    cin>>s>>t;\n    int sln=strlen(s);\n    int tln=strlen(t);\n    for(j=sln-1;j>=0;--j){\n      if(0){\n      }else if(s[j]=='J'){\n\tchar u=t[tln-1];\n\tfor(k=tln-1;k>0;--k)\n\t  t[k]=t[k-1];\n\tt[0]=u;\n      }else if(s[j]=='C'){\n\tchar u=t[0];\n\tfor(k=1;k<tln;++k)\n\t  t[k-1]=t[k];\n\tt[tln-1]=u;\n      }else if(s[j]=='E'){\n\tchar u[12];\n\tmemcpy(u,t,tln/2*sizeof(char));\n\tmemcpy(t,t+(tln+1)/2,tln/2*sizeof(char));\n\tmemcpy(t+(tln+1)/2,u,tln/2*sizeof(char));\n      }else if(s[j]=='A'){\n\tchar u[26];\n\tfor(k=0;k<tln;++k)\n\t  u[k]=t[tln-k-1];\n\tmemcpy(t,u,tln*sizeof(char));\n      }else if(s[j]=='P'){\n\tfor(k=0;k<tln;++k){\n\t  if(0){\n\t  }else if(t[k]=='0'){\n\t    t[k]='9';\n\t  }else if('1'<=t[k]&&t[k]<='9'){\n\t    --t[k];\n\t  }\n\t}\n      }else if(s[j]=='M'){\n\tfor(k=0;k<tln;++k){\n\t  if(0){\n\t  }else if(t[k]=='9'){\n\t    t[k]='0';\n\t  }else if('0'<=t[k]&&t[k]<='8'){\n\t    ++t[k];\n\t  }\n\t}\n      }\n    }\n    cout<<t<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "Haskell",
    "code": "import Control.Applicative ((<$>), (<*>))\nimport Control.Monad (replicateM)\nimport Data.Char (isDigit, digitToInt, intToDigit)\n\nmain :: IO ()\nmain = do\n  n <- readLn\n  ss <- replicateM n $ do\n    o <- getLine\n    m <- getLine\n    return [o, m]\n  mapM_ (putStrLn . solve) ss\n\nsolve :: [String] -> String\nsolve [o, m] = foldr f m o\n  where f 'J' s = (last s) : (init s)\n        f 'C' s = (tail s) ++ [head s]\n        f 'E' s = let (as, bs) = splitAt (length s `div` 2) s\n                  in if even (length s) then bs ++ as\n                     else (tail bs) ++ (head bs : as)\n        f 'A' s = reverse s\n        f 'P' s = map (\\c -> if isDigit c then (intToDigit . (flip mod 10) . (subtract 1) . digitToInt) c else c) s\n        f 'M' s = map (\\c -> if isDigit c then (intToDigit . (flip mod 10) . (+1) . digitToInt) c else c) s\n\n"
  },
  {
    "language": "Haskell",
    "code": "import Data.Char\n\nc s = (tail s) ++ [head s]\nj s = (last s):(init s)\ne s =\n  let l = length s\n      n = l `div` 2\n      h = take n s\n      t = drop (l-n) s\n  in\n    if odd l\n    then t ++ (s!!n):h\n    else t ++ h\n      \na = reverse\np [] = []\np (s:r) =\n  let s' = if isDigit s\n           then intToDigit $ (\\x -> mod (x-1) 10) $ digitToInt s\n           else s\n  in\n    s':(p r)\n\nm [] = []\nm (s:r) =\n  let s' = if isDigit s\n           then intToDigit $ (\\x -> mod (x+1) 10 ) $ digitToInt s\n           else s\n  in\n    s':(m r)\n\nc2f [] = []\nc2f (x:y) = f:(c2f y)\n  where \n    f = case x of\n      'J' -> j\n      'C' -> c\n      'E' -> e\n      'A' -> a\n      'P' -> p\n      'M' -> m\n\nexe s [] = s\nexe s (f:fs) = exe (f s) fs\n\nans' c s =\n  let f = c2f $ reverse c\n  in\n    exe s f\n\nans [] = []\nans (c:s:r) =\n  let a = ans' c s\n  in\n    a:(ans r)\n\nmain = do\n  _ <- getLine\n  c <- getContents\n  let i = lines c\n      o = ans i\n  mapM_ putStrLn o\n\n"
  },
  {
    "language": "Haskell",
    "code": "import Data.Char\n\nmain = interact $ unlines . map unreliable_message . groupAt 2 . tail . lines\n\nunreliable_message [ms,str] = foldr relay_rev str ms\n where\n  relay_rev 'J' s = last s : init s\n  relay_rev 'C' s = tail s ++ [head s]\n  relay_rev 'E' s = if odd (length s) then xs2 ++ [x] ++ xs1 else xxs ++ xs1\n   where (xs1,xxs@(x:xs2)) = splitAt (div (length s) 2) s\n  relay_rev 'A' s = reverse s\n  relay_rev 'P' s = map (\\c -> if c=='0' then '9' else if isDigit c then pred c else c) s\n  relay_rev 'M' s = map (\\c -> if c=='9' then '0' else if isDigit c then succ c else c) s\n\ngroupAt n xs\n | null xs = []\n | otherwise = take n xs : groupAt n (drop n xs)"
  },
  {
    "language": "C",
    "code": "// AOJ 1240: Unreliable Message\n// 2017.10.17 bal4u@uu\n\n#include <stdio.h>\n#include <string.h>\n#include <ctype.h>\n\nchar msg[2][30]; int w;\n\nint main()\n{\n\tint t, k1, k2, i;\n\tchar ord[7], *s, *p, *q;\n\n\tscanf(\"%d\", &t);\n\twhile (t-- > 0) {\n\t\tscanf(\"%s%s\", ord, msg[0]);\n\t\tw = strlen(msg[0]); msg[1][w] = 0; s = ord + strlen(ord)-1;\n\t\tfor (k1 = 0, k2 = 1; s >= ord; s--, k1 = k2, k2 = !k2) {\n\t\t\tp = msg[k1], q = msg[k2];\n\t\t\tif (*s == 'A') {\n\t\t\t\tq += w;\twhile (*p) *--q = *p++;\n\t\t\t} else if (*s == 'C') {\n\t\t\t\t*(q+w-1) = *p++; while (*p) *q++ = *p++;\n\t\t\t} else if (*s == 'E') {\n\t\t\t\ti = w/2; q += i; if (w & 1) q++;\n\t\t\t\twhile(i-- > 0) *q++ = *p++;\n\t\t\t\tq = msg[k2]; if (w & 1) *(q+w/2) = *p++;\n\t\t\t\twhile(*p) *q++ = *p++;\n\t\t\t} else if (*s == 'J') {\n\t\t\t\t*q++ = *(p+w-1); while (*p) *q++ = *p++;\n\t\t\t\t*(q-1) = 0;\n\t\t\t} else if (*s == 'M') {\n\t\t\t\twhile (*p) {\n\t\t\t\t\tif (isdigit(*p)) {\n\t\t\t\t\t\tif (*p == '9') *q = '0'; else *q = (*p)+1;\n\t\t\t\t\t} else *q = *p;\n\t\t\t\t\tp++, q++;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\twhile (*p) {\n\t\t\t\t\tif (isdigit(*p)) {\n\t\t\t\t\t\tif (*p == '0') *q = '9'; else *q = (*p)-1;\n\t\t\t\t\t} else *q = *p;\n\t\t\t\t\tp++, q++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tputs(msg[k1]);\n\t}\n \treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include<string.h>\nint N,i,j,k,L;\nchar P[7],M[30],t,T[30];\nint main()\n{\n\tfor(scanf(\"%d\\n\",&N);N--;)\n\t{\n\t\tgets(P);gets(M);\n\t\tL=strlen(M);\n\t\tfor(i=strlen(P)-1;i>=0;i--)\n\t\t{\n\t\t\tswitch(P[i])\n\t\t\t{\n\t\t\tcase 'J':t=M[L-1];memmove(M+1,M,L-1);M[0]=t;break;\n\t\t\tcase 'C':t=M[0];memmove(M,M+1,L-1);M[L-1]=t;break;\n\t\t\tcase 'E':for(j=0;j<L/2;j++){t=M[j];M[j]=M[j+L/2+L%2];M[j+L/2+L%2]=t;}break;\n\t\t\tcase 'A':for(j=0,k=L-1;j<k;j++,k--){t=M[j];M[j]=M[k];M[k]=t;}break;\n\t\t\tcase 'P':for(j=0;j<L;j++)if(M[j]<58)M[j]=M[j]==48?57:M[j]-1;break;\n\t\t\tcase 'M':for(j=0;j<L;j++) if(M[j]<58)M[j]=M[j]==57?48:M[j]+1;break;\n\t\t\t}\n\t\t}\n\t\tputs(M);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "/* \n   AOJ 1240\n   Unreliable Message\n   2015/7/27\n*/\n\n#include<stdio.h>\n\n#define MAX_MESSENGERS 7\n#define MAX_MESSAGE 26\n\nvoid rotate_right(char *message, int message_len)\n{\n  int i;\n  char buf[MAX_MESSAGE];\n  for(i = 0; i < message_len; i++)\n    {\n      buf[i] = message[i];\n    }\n  for(i = 0; i < message_len - 1; i++)\n    {\n      message[i + 1] = buf[i];\n    }\n  message[0] = buf[i];\n}\n\nvoid rotate_left(char *message, int message_len)\n{\n  int i;\n  char buf[MAX_MESSAGE];\n  \n  for(i = 0; i < message_len; i++)\n    {\n      buf[i] = message[i];\n    }\n  message[message_len - 1] = buf[0];\n  for(i = 0; i < message_len - 1; i++)\n    {\n      message[i] = buf[i + 1];\n    }\n}\n\nvoid swap_half(char *message, int message_len)\n{\n  int devide_point = message_len / 2, i;\n  char buf[30];\n  for(i = 0; i < message_len; i++)\n    {\n      buf[i] = message[i];\n    }\n\n  if(message_len % 2 == 0)\n    {\n      for(i = 0; i < devide_point; i++)\n\t{\n\t  message[i] = buf[devide_point + i];\n\t  message[i + devide_point] = buf[i];\n\t}\n    }\n  else\n    {\n      for(i = 0; i < devide_point; i++)\n\t{\n\t  message[i] = buf[devide_point + i + 1];\n\t  message[i + devide_point + 1] = buf[i];\n\t}\n    }\n}\n\nvoid swap(char *x, char *y)\n{\n  char tmp = *x;\n  *x = *y;\n  *y = tmp;\n}\n\nvoid reverse(char *message, int message_len)\n{\n  int i, devide_point = message_len / 2;\n\n  for(i = 0; i < devide_point; i++)\n    {\n      swap(&message[i], &message[message_len - i - 1]);\n    }\n}\n\nvoid decrement(char *message, int message_len)\n{\n  int i, num = 0;\n  for(i = 0; i < message_len; i++)\n    {\n      if('0' <= message[i] && message[i] <= '9')\n\t{\n\t  if(message[i] == '0')\n\t    {\n\t      message[i] = '9';\n\t    }\n\t  else\n\t    {\n\t      num = (int)message[i];\n\t      message[i] = (char)(num - 1);\n\t    }\n\t}\n    }\n}\n\nvoid increment(char *message, int message_len)\n{\n  int i, num = 0;\n  for(i = 0; i < message_len; i++)\n    {\n      if('0' <= message[i] && message[i] <= '9')\n\t{\n\t  if(message[i] == '9')\n\t    {\n\t      message[i] = '0';\n\t    }\n\t  else\n\t    {\n\t      num = (int)message[i];\n\t      message[i] = (char)(num + 1);\n\t    }\n\t}\n    }\n}\n\nvoid ans_f(char *order_of_messengers, char *message, int messengers, int message_len)\n{\n  int i;\n  for(i = messengers - 1; i >= 0; i--)\n    {\n      switch(order_of_messengers[i])\n\t{\n\tcase 'J':\n\t  rotate_right(message, message_len);\n\t  //\t  printf(\"%s\\n\", message);\n\t  break;\n\tcase 'C':\n\t  rotate_left(message, message_len);\n\t  //\t  printf(\"%s\\n\", message);\n\t  break;\n\tcase 'E':\n\t  swap_half(message, message_len);\n\t  //\t  printf(\"%s\\n\", message);\n\t  break;\n\tcase 'A':\n\t  reverse(message, message_len);\n\t  //\t  printf(\"%s\\n\", message);\n\t  break;\n\tcase 'P':\n\t  decrement(message, message_len);\n\t  //\t  printf(\"%s\\n\", message);\n\t  break;\n\tcase 'M':\n\t  increment(message, message_len);\n\t  //\t  printf(\"%s\\n\", message);\n\t  break;\n\tdefault:\n\t  break;\n\t}\n    }\n}\n\nint main(void)\n{\n  int num, i, j, messengers = 0, message_len = 0;\n  char order_of_messengers[MAX_MESSENGERS], message[MAX_MESSAGE], dust;\n  \n\n  scanf(\"%d\", &num);\n\n  for(i = 0; i < num; i++)\n    {\n      for(j = 0; j < MAX_MESSENGERS; j++)\n\t{\n\t  order_of_messengers[j] = '\\0';\n\t}\n\n      for(j = 0; j < MAX_MESSAGE; j++)\n\t{\n\t  message[j] = '\\0';\n\t}\n\n      scanf(\"%s\", order_of_messengers);\n      scanf(\"%c\", &dust);\n      scanf(\"%s\", message);\n      scanf(\"%c\", &dust);\n      for(j = 0; j < order_of_messengers[j] != '\\0'; j++);\n      messengers = j;\t  \n      for(j = 0; i < message[j] != '\\0'; j++);\n      message_len = j;\n      //\t  printf(\"mss = %d, ms = %d\\n\", messengers, message_len);\n      ans_f(order_of_messengers, message, messengers, message_len);\n      printf(\"%s\\n\", message);\n    }\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <string.h>\n#include <ctype.h>\n#define MAX_MESSAGE_LEN 25\n#define MAX_MESSENGERS_NUM 6\n\nint n;\nchar message[MAX_MESSAGE_LEN + 1];\n\n/* rotate message left by one */\nvoid J()\n{\n    int i;\n    char t = message[0];\n\n    for(i = 0; i < n - 1; i++)\n        message[i] = message[i + 1];\n    message[i] = t;\n}\n\n/* rotate message right by one */\nvoid C()\n{\n    int i;\n    char t = message[n - 1];\n\n    for(i = n - 1; i >= 0; i--)\n        message[i] = message[i - 1];\n    message[0] = t;\n}\n\n/* swap left and right halves of message */\nvoid E()\n{\n    int half = n / 2;\n    char buf[MAX_MESSAGE_LEN / 2];\n\n    memcpy(buf, message, half);\n    memcpy(message, message + half + (n % 2), half);\n    memcpy(message + half + (n % 2), buf, half);\n}\n\n/* reverse message */\nvoid A()\n{\n    int i, half = n / 2;\n    char t;\n\n    for(i = 0; i < half; i++)\n    {\n        t = message[i];\n        message[i] = message[n - i - 1];\n        message[n - i - 1] = t;\n    }\n}\n\n/* increment digits in message */\nvoid P()\n{\n    int i;\n\n    for(i = 0; i < n; i++)\n        if(isdigit((int)message[i]))\n            message[i] = ((message[i] - '0') + 1) % 10 + '0';\n}\n\n/* decrement digits in message */\nvoid M()\n{\n    int i;\n\n    for(i = 0; i < n; i++)\n        if(isdigit((int)message[i]))\n            message[i] = ((message[i] - '0') + 9) % 10 + '0';\n}\n\nint main(void)\n{\n    int i;\n    char messengers[MAX_MESSENGERS_NUM + 1];\n\n    scanf(\"%*d%*c\");\n\n    while(~scanf(\"%s%*c\", messengers))\n    {\n        scanf(\"%s%*c\", message);\n        n = strlen(message);\n\n        for(i = strlen(messengers) - 1; i >= 0; i--)\n            switch(messengers[i])\n            {\n              case 'J': C(); break;\n              case 'C': J(); break;\n              case 'E': E(); break;\n              case 'A': A(); break;\n              case 'P': M(); break;\n              case 'M': P(); break;\n            }\n\n        puts(message);\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#define _CRT_SECURE_NO_WARNINGS\n#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n\nvoid rJ(char *str, int length)\n{\n    char temp = *(str + length - 1);\n    for (int i = length - 1; i > 0; i--)\n    {\n        *(str + i) = *(str + i - 1);\n\n    }\n    *str = temp;\n}\n\nvoid rC(char *str, int length)\n{\n    char temp = *str;\n    for (int i = 1; i < length; i++)\n    {\n        *(str + i - 1) = *(str + i);\n    }\n    *(str + length - 1) = temp;\n}\n\nvoid rE(char *str, int length)\n{\n    char temp;\n    int divide = (length + 1) / 2;\n    for (int i = 0; i < length / 2; i++)\n    {\n        temp = *(str + i);\n        *(str + i) = *(str + i + divide);\n        *(str + i + divide) = temp;\n    }\n}\n\nvoid rA(char *str, int length)\n{\n    char temp;\n    for (int i = 0; i < length / 2; i++)\n    {\n        temp = *(str - i + length - 1);\n        *(str - i + length - 1) = *(str + i);\n        *(str + i) = temp;\n    }\n}\n\nvoid rP(char *str, int length)\n{\n    for (int i = 0; i < length; i++)\n    {\n        if (*(str + i) < 0x3A && *(str + i) > 0x30)\n        {\n            *(str + i) -= 1;\n        }\n        else if (*(str + i) == 0x30)\n        {\n            *(str + i) = 0x39;\n        }\n    }\n}\n\nvoid rM(char *str, int length)\n{\n    for (int i = 0; i < length; i++)\n    {\n        if (*(str + i) < 0x39 && *(str + i) >= 0x30)\n        {\n            *(str + i) += 1;\n        }\n        else if (*(str + i) == 0x39)\n        {\n            *(str + i) = 0x30;\n        }\n    }\n}\n\nvoid recoveryStr(char *str, char *seqStr)\n{\n    int seqStrLen = strlen(seqStr);\n    int strLen = strlen(str);\n    for (int i = seqStrLen - 1; i >= 0; i--)\n    {\n        switch (*(seqStr + i))\n        {\n        case 'J':\n        {\n            rJ(str, strLen);\n            break;\n        }\n        case 'C':\n        {\n            rC(str, strLen);\n            break;\n        }\n        case 'E':\n        {\n            rE(str, strLen);\n            break;\n        }\n        case 'A':\n        {\n            rA(str, strLen);\n            break;\n        }\n        case 'P':\n        {\n            rP(str, strLen);\n            break;\n        }\n        case 'M':\n        {\n            rM(str, strLen);\n            break;\n        }\n        }\n    }\n}\n\nint main()\n{\n    int counter = 0;\n    char *seqStr = malloc(sizeof(char) * 10000);\n    char *str = malloc(sizeof(char) * 10000);\n    scanf(\"%d\", &counter);\n    for (int i = 0; i < counter; i++)\n    {\n        scanf(\"%s\", seqStr);\n        scanf(\"%s\", str);\n        recoveryStr(str, seqStr);\n        printf(\"%s\\n\", str);\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <ctype.h>\n#include <string.h>\n\nvoid inv_J(char* str) {\n\tchar tmp;\n\tint i,max=strlen(str);\n\ttmp=str[max-1];\n\tfor(i=max-1;i>0;i--) {\n\t\tstr[i]=str[i-1];\n\t}\n\tstr[0]=tmp;\n}\n\nvoid inv_C(char* str) {\n\tchar tmp;\n\tint i,max=strlen(str);\n\ttmp=str[0];\n\tfor(i=0;i<max-1;i++) {\n\t\tstr[i]=str[i+1];\n\t}\n\tstr[max-1]=tmp;\n}\n\nvoid inv_E(char* str) {\n\tchar tmp;\n\tint i,max=strlen(str);\n\tint max2=max/2;\n\tfor(i=0;i<max2;i++) {\n\t\ttmp=str[i];\n\t\tstr[i]=str[max2+i+max%2];\n\t\tstr[max2+i+max%2]=tmp;\n\t}\n}\n\nvoid inv_A(char* str) {\n\tchar tmp;\n\tint i,max=strlen(str);\n\tint max2=max/2;\n\tfor(i=0;i<max2;i++) {\n\t\ttmp=str[i];\n\t\tstr[i]=str[max-i-1];\n\t\tstr[max-i-1]=tmp;\n\t}\n}\n\nvoid inv_P(char* str) {\n\tint i,max=strlen(str);\n\tfor(i=0;i<max;i++) {\n\t\tif(isdigit(str[i])) {\n\t\t\tstr[i]--;\n\t\t\tif(str[i]<'0')str[i]+=10;\n\t\t}\n\t}\n}\n\nvoid inv_M(char* str) {\n\tint i,max=strlen(str);\n\tfor(i=0;i<max;i++) {\n\t\tif(isdigit(str[i])) {\n\t\t\tstr[i]++;\n\t\t\tif(str[i]>'9')str[i]-=10;\n\t\t}\n\t}\n}\n\nint main(void) {\n\tchar messangers[8];\n\tchar message[28];\n\tint data_num,cur_data;\n\tint i;\n\tscanf(\"%d\",&data_num);\n\tfor(cur_data=0;cur_data<data_num;cur_data++) {\n\t\tscanf(\"%s\",messangers);\n\t\tscanf(\"%s\",message);\n\t\tfor(i=strlen(messangers)-1;i>=0;i--) {\n\t\t\tswitch(messangers[i]) {\n\t\t\t\tcase 'J':\n\t\t\t\t\tinv_J(message);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'C':\n\t\t\t\t\tinv_C(message);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'E':\n\t\t\t\t\tinv_E(message);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'A':\n\t\t\t\t\tinv_A(message);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'P':\n\t\t\t\t\tinv_P(message);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'M':\n\t\t\t\t\tinv_M(message);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tputs(message);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <string.h>\n#include <ctype.h>\n\nvoid rotate(char* s, int d)\n{\n    int i, n=strlen(s);\n    if (d>0) {\n        char t=s[n-1];\n        for(i=n-1;i>0;--i) s[i]=s[i-1];\n        s[0]=t;\n    }\n    else if (d<0) {\n        char t=s[0];\n        for(i=0;i<n-1;++i) s[i]=s[i+1];\n        s[n-1]=t;\n    }\n}\n\nvoid swap(char* s)\n{\n    char t[32];\n    int n=strlen(s);\n    strncpy(t, s, n/2);\n    strncpy(s, s+(n+1)/2, n/2);\n    strncpy(s+(n+1)/2, t, n/2);\n}\n\nvoid reverse(char* s)\n{\n    int i, n=strlen(s);\n    for(i=0;i<n/2;++i) {\n        char t=s[i];\n        s[i]=s[n-1-i];\n        s[n-1-i]=t;\n    }\n}\n\nvoid increment(char* s, int d)\n{\n    int i, n=strlen(s);\n    for(i=0;i<n;++i) if (isdigit(s[i]))\n        s[i]=(s[i]-'0'+d+10)%10+'0';\n}\n\nint main(void)\n{\n    int n;\n    scanf(\"%d\", &n);\n    while (n--) {\n        char order[32], message[32];\n        int i;\n        scanf(\"%s%s\", order, message);\n        reverse(order);\n        for(i=0;order[i];++i) {\n            switch (order[i]) {\n                case 'J': rotate(message, 1); break;\n                case 'C': rotate(message, -1); break;\n                case 'E': swap(message); break;\n                case 'A': reverse(message); break;\n                case 'P': increment(message, -1); break;\n                case 'M': increment(message, 1); break;\n            }\n        }\n        puts(message);\n    }\n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nvoid J(char *str, int length){//???????????????\n\tint i;\n\tfor(i=length;i>0;i--){\n\t\tstr[i]=str[i-1];\n\t}\n\tstr[0]=str[length];\n\tstr[length]=0;\n\treturn;\n}\nvoid C(char *str, int length){//???????????????\n\tint i;\n\tstr[length]=str[0];\n\tfor(i=0;i<length;i++){\n\t\tstr[i]=str[i+1];\n\t}\n\tstr[length]=0;\n\treturn;\n}\nvoid E(char *str, int length){\n\tint i;\n\tchar temp[length/2];\n\tfor(i=0;i<length/2;i++){\n\t\ttemp[i]=str[i];\n\t}\n\tfor(i=0;i<length/2;i++){\n\t\tstr[i]=str[(length/2)+(length%2)+i];\n\t}\n\tfor(i=0;i<length/2;i++){\n\t\tstr[(length/2)+(length%2)+i]=temp[i];\n\t}\n}\nvoid A(char *str, int length){\n\tint i;\n\tchar temp[length];\n\tfor(i=0;i<length;i++){\n\t\ttemp[i]=str[length-1-i];\n\t}\n\tfor(i=0;i<length;i++){\n\t\tstr[i]=temp[i];\n\t}\n}\nvoid P(char *str, int length){\n\tint i;\n\tfor(i=0;i<length;i++){\n\t\tif(str[i]=='0'){\n\t\t\tstr[i]='9';\n\t\t}else if('1'<=str[i]&&str[i]<='9'){\n\t\t\tstr[i]--;\n\t\t}\n\t}\n}\nvoid M(char *str, int length){\n\tint i;\n\tfor(i=0;i<length;i++){\n\t\tif(str[i]=='9'){\n\t\t\tstr[i]='0';\n\t\t}else if('0'<=str[i]&&str[i]<='8'){\n\t\t\tstr[i]++;\n\t\t}\n\t}\n}\n\nvoid solve(){\n\tint i,length;\n\tchar str[26];\n\tchar route[7];\n\n\tscanf(\"%s\",route);\n\tscanf(\"%s\",str);\n\n\tfor(i=0;str[i];i++);\n\tlength=i;\n\tfor(i=0;route[i];i++);\n\tfor(i--;i>=0;i--){\n\t\tswitch(route[i]){\n\t\t\tcase 'J':\n\t\t\t\tJ(str,length);\n\t\t\t\tbreak;\n\t\t\tcase 'C':\n\t\t\t\tC(str,length);\n\t\t\t\tbreak;\n\t\t\tcase 'E':\n\t\t\t\tE(str,length);\n\t\t\t\tbreak;\n\t\t\tcase 'A':\n\t\t\t\tA(str,length);\n\t\t\t\tbreak;\n\t\t\tcase 'P':\n\t\t\t\tP(str,length);\n\t\t\t\tbreak;\n\t\t\tcase 'M':\n\t\t\t\tM(str,length);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\tprintf(\"%s\\n\",str);\n}\n\nint main(void){\n\tint n;\n\tscanf(\"%d\",&n);\n\tfor(;n;n--){\n\t\tsolve();\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <string.h>\n#include <ctype.h>\nint len;\nchar line[26];\nvoid C(void){\n    char temp=line[0];\n    int i=1;\n    while(line[i]){\n        line[i-1]=line[i];\n        i++;\n    }\n    line[i-1]=temp;\n}\nvoid J(void){\n    int i=len-2;\n    char temp=line[len-1];\n    while(i!=-1){\n        line[i+1]=line[i];\n        i--;\n    }\n    line[0]=temp;\n}\nvoid E(void){\n    int t=0,i;\n    char temp1[14];\n    for(i=0;i<len/2;i++)\n        temp1[i]=line[i];\n    temp1[i]=0;\n    len%2?(i=len/2+1):(i=len/2);\n    for(;line[i];i++){\n        line[t++]=line[i];\n    }\n    len%2?(t++):(t=t);\n    for(i=0;temp1[i];i++)\n        line[t++]=temp1[i];\n}\nvoid A(void){\n    int i,len1=len-1;\n    char temp;\n    for(i=0;i<len1;i++,len1--){\n        temp=line[i];\n        line[i]=line[len1];\n        line[len1]=temp;\n    }\n}\nvoid P(void){\n    int i=0;\n    while(line[i]){\n        if(isdigit(line[i])){\n            if(line[i] == '0')\n                line[i]='9';\n            else\n                line[i]--;\n        }\n        i++;\n    }\n}\nvoid M(void){\n    int i=0;\n    while(line[i]){\n        if(isdigit(line[i])){\n            if(line[i]=='9')\n                line[i]='0';\n            else\n                line[i]++;\n        }\n        i++;\n    }\n}\nint main(void){\n    int num,i,o,len1;\n    char ope[7];\n    scanf(\"%d\",&num);\n    for(i=0;i<num;i++){\n        scanf(\"%s %s\",ope,line);\n        len=strlen(line);\n        len1=strlen(ope);\n        for(o=len1-1;o>=0;o--){\n            switch(ope[o]){\n                case 'J':J();break;\n                case 'C':C();break;\n                case 'E':E();break;\n                case 'A':A();break;\n                case 'P':P();break;\n                case 'M':M();break;\n            }\n        }\n        puts(line);\n    }\n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "/*\nAizuOnline A1240\nTitle Unreliable Message\n*/\n#include <stdio.h>\n#include <string.h>\n//Global data section\nchar message[7][26];\nchar via[7];\nint N;\nchar msgr_member[]=\"JCEAPM\";\n//\nvoid revJ(char * from,char * to)\n{\n        strncpy(to+1,from,strlen(from)-1);\n        to[0]=from[strlen(from)-1];\n}\nvoid revC(char * from,char * to)\n{\n        strncpy(to,from+1,strlen(from)-1);\n        to[strlen(from)-1]=from[0];\n        to[strlen(from)]='\\0';\n}\nvoid revE(char * from,char * to)\n{\n        int l;\n\n        l=strlen(from);\n        strncpy(to,from+l/2+1,l/2);\n        strncpy(to+l/2,from,l/2);\n        if(l % 2)\n                to[l/2]=from[l/2];\n}\nvoid revA(char * from,char * to)\n{\n        int i,l;\n        l=strlen(from);\n        for(i=0;i<l;i++)\n                to[i]=from[l-1-i];\n        to[l]='\\0';\n}\nvoid revP(char * from,char * to)\n{\n        int i;\n        char c;\n\n\n        for(i=0;i<strlen(from);i++)\n        {\n                c=from[i];\n                if(c=='0')\n                        *to='9';\n                else if(isdigit(c))\n                        *to=c-1;\n                else\n                        *to=c;\n                to++;\n        }\n        *to='\\0';\n}\nvoid revM(char * from,char * to)\n{\n        int i;\n        char c;\n        //printf(\"M\\n\");\n\n        for(i=0;i<strlen(from);i++)\n        {\n                c=from[i];\n                if(c=='9')\n                        *to='0';\n                else if(isdigit(c))\n                        *to=c+1;\n                else\n                        *to=c;\n                to++;\n        }\n        *to='\\0';\n}\n\nreverse_convert(int msgr,char * from,char  * to)\n{\n        //printf(\"msgr=%c from=%s\\n\",msgr,from);\n\n        if(msgr=='J')\n                revJ(from,to);\n\n        else if(msgr=='C')\n                revC(from,to);\n        else if(msgr=='E')\n                revE(from,to);\n        else if(msgr=='A')\n                revA(from,to);\n        else if(msgr=='P')\n                revP(from,to);\n        else if(msgr=='M')\n                revM(from,to);\n\n}\nmain()\n{\n        int i,j,msgr,len;\n\n        scanf(\"%d\",&N);\n        for(i=0;i<N;i++)\n        {\n                scanf(\"%s\",via);\n                memset(&message[0][0],'\\0',26*7);\n                scanf(\"%s\",&message[0][0]); \n\n\n                len=strlen(via);\n                for(j=0;j<len;j++)\n                {\n                        msgr = via[len-j-1];\n                        reverse_convert(msgr,&message[j][0],&message[j+1][0]);\n                }\n                printf(\"%s\\n\",&message[j][0]);\n        }\nreturn(0);\n}"
  },
  {
    "language": "C",
    "code": "/*\nAizuOnline A1240\nTitle Unreliable Message\n*/\n#include <stdio.h>\n#include <string.h>\n//Global data section\nchar message[7][26];\nchar via[7];\nint N;\nchar msgr_member[]=\"JCEAPM\";\n//\nvoid revJ(char * from,char * to)\n{\n        strncpy(to+1,from,strlen(from)-1);\n        to[0]=from[strlen(from)-1];\n}\nvoid revC(char * from,char * to)\n{\n        strncpy(to,from+1,strlen(from)-1);\n        to[strlen(from)-1]=from[0];\n        to[strlen(from)]='\\0';\n}\nvoid revE(char * from,char * to)\n{\n        int l;\n\n        l=strlen(from);\n        if(l % 2)\n        {\n                strncpy(to,from+l/2+1,l/2);\n                strncpy(to+l/2+1,from,l/2);\n                to[l/2]=from[l/2];\n        }\n        else\n        {\n                strncpy(to,from+l/2,l/2);\n                strncpy(to+l/2,from,l/2);\n        }\n}\nvoid revA(char * from,char * to)\n{\n        int i,l;\n        l=strlen(from);\n        for(i=0;i<l;i++)\n                to[i]=from[l-1-i];\n        to[l]='\\0';\n}\nvoid revP(char * from,char * to)\n{\n        int i;\n        char c;\n\n\n        for(i=0;i<strlen(from);i++)\n        {\n                c=from[i];\n                if(c=='0')\n                        *to='9';\n                else if(isdigit(c))\n                        *to=c-1;\n                else\n                        *to=c;\n                to++;\n        }\n        *to='\\0';\n}\nvoid revM(char * from,char * to)\n{\n        int i;\n        char c;\n        //printf(\"M\\n\");\n\n        for(i=0;i<strlen(from);i++)\n        {\n                c=from[i];\n                if(c=='9')\n                        *to='0';\n                else if(isdigit(c))\n                        *to=c+1;\n                else\n                        *to=c;\n                to++;\n        }\n        *to='\\0';\n}\n\nreverse_convert(int msgr,char * from,char  * to)\n{\n        //printf(\"msgr=%c from=%s\\n\",msgr,from);\n\n        if(msgr=='J')\n                revJ(from,to);\n\n        else if(msgr=='C')\n                revC(from,to);\n        else if(msgr=='E')\n                revE(from,to);\n        else if(msgr=='A')\n                revA(from,to);\n        else if(msgr=='P')\n                revP(from,to);\n        else if(msgr=='M')\n                revM(from,to);\n\n}\nmain()\n{\n        int i,j,msgr,len;\n\n        scanf(\"%d\",&N);\n        for(i=0;i<N;i++)\n        {\n                scanf(\"%s\",via);\n                memset(&message[0][0],'\\0',26*7);\n                scanf(\"%s\",&message[0][0]); \n\n\n                len=strlen(via);\n                for(j=0;j<len;j++)\n                {\n                        msgr = via[len-j-1];\n                        reverse_convert(msgr,&message[j][0],&message[j+1][0]);\n                }\n                printf(\"%s\\n\",&message[j][0]);\n        }\nreturn(0);\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include<string.h>\nint main(){\n  char s[26];\n  char c[10];\n  int n,i,j,k,l;\n  char w;\n  scanf(\"%d\",&n);\n  for(i=0;i<n;i++){\n    scanf(\"%s %s\",c,s);\n    l=strlen(s);\n    for(j=strlen(c)-1;j>-1;j--){\n      if(c[j]=='C'){\n\tw=s[0];\n\tfor(k=1;k<l;k++)s[k-1]=s[k];\n\ts[l-1]=w;\n      }\n       if(c[j]=='J'){\n\tw=s[l-1];\n\tfor(k=l-1;k;k--)s[k]=s[k-1];\n\ts[0]=w;\n      }\n       if(c[j]=='E'){\n\t for(k=0;2*k<l-1;k++){\n\t   w=s[k];\n\t   s[k]=s[(l+1)/2+k];\n\t   s[(l+1)/2+k]=w;\n\t }\n       }\t \n       if(c[j]=='A'){\n\t for(k=0;2*k<l-1;k++){\n\t   w=s[k];\n\t   s[k]=s[l-k-1];\n\t   s[l-k-1]=w;\n\t }\n       }\n       if(c[j]=='M'){\n\t for(k=0;k<l;k++){\n\t   if('0'<=s[k]&&s[k]<'9')s[k]++;\n\t   else if(s[k]=='9')     s[k]='0';\n\t }\n       }\n       if(c[j]=='P'){\n\t for(k=0;k<l;k++){\n\t   if('0'<s[k]&&s[k]<='9')s[k]--;\n\t   else if(s[k]=='0')     s[k]='9';\n\t }\n       }\n       // printf(\"%s\\n\",s);\n    }\n    printf(\"%s\\n\",s);\n  }\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include<string.h>\nchar SS[101];\nvoid Henkan(char);\nint main()\n{\n  int i,j,n;\n  char S[101];\n  scanf(\"%d\",&n);\n  for(i=0;i<n;i++){\n    scanf(\"%s\",S);\n    scanf(\"%s\",SS);\n    for(j=strlen(S)-1;j>=0;j--){\n      Henkan(S[j]);\n    }\n    printf(\"%s\\n\",SS);\n  }\n  return 0;\n}\n\nvoid Henkan(char SSS){\n  int i;\n  char tmp,t1[101],t2[101];\n  switch(SSS){\n  case 'C':\n    tmp=SS[0];\n    for(i=0;i<strlen(SS)-1;i++)SS[i]=SS[i+1];\n    SS[strlen(SS)-1]=tmp;\n    break;\n  case 'J':\n    tmp=SS[strlen(SS)-1];\n    for(i=strlen(SS)-1;i>=1;i--)SS[i]=SS[i-1];\n    SS[0]=tmp;\n    break;\n  case 'E':\n    for(i=0;i<strlen(SS)/2;i++)t1[i]=SS[i];\n    t1[i]='\\0';\n    for(i=0;i<strlen(t1);i++)t2[strlen(t1)-1-i]=SS[strlen(SS)-1-i];\n    for(i=0;i<strlen(t1);i++)SS[strlen(SS)-1-i]=t1[strlen(t1)-1-i];\n    for(i=0;i<strlen(t1);i++)SS[i]=t2[i];\n    break;\n  case 'A':\n    for(i=0;i<strlen(SS)/2;i++){\n      tmp=SS[strlen(SS)-1-i];\n      SS[strlen(SS)-1-i]=SS[i];\n      SS[i]=tmp;\n    }\n    break;\n  case 'M':\n    for(i=0;i<strlen(SS);i++){\n      if(SS[i]>='0' &&SS[i]<'9')SS[i]++;\n      else if(SS[i]=='9')SS[i]='0';\n    }\n    break;\n  case 'P':\n    for(i=0;i<strlen(SS);i++){\n      if(SS[i]>'0' &&SS[i]<='9')SS[i]--;\n      else if(SS[i]=='0')SS[i]='9';\n    }\n    break;\n  }\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <string.h>\n#include <ctype.h>\n\n#define MESSAGE_MAX_LENGTH 30\n#define MESSANGER_MAX 10\n\nvoid decode(char [], char []);\nvoid decode_j(char []);\nvoid decode_c(char []);\nvoid decode_e(char []);\nvoid decode_a(char []);\nvoid decode_p(char []);\nvoid decode_m(char []);\n\nint main(void) \n{\n\tint n;\n\tchar message[MESSAGE_MAX_LENGTH], order[MESSANGER_MAX];\n\tint i;\n\n\tscanf(\"%d\", &n);\n\n\tfor (i = 0; i < n; i++) {\n\t\tscanf(\"%s\", order);\n\t\tscanf(\"%s\", message);\n\n\t\tdecode(message, order);\n\n\t\tprintf(\"%s\\n\", message);\n\t}\n\n\treturn 0;\n}\n\nvoid decode(char message[], char order[]) \n{\n\tint i;\n\n\tfor (i = strlen(order) - 1; i >= 0; i--) {\n\t\tswitch (order[i]) {\n\t\tcase 'J':\n\t\t\tdecode_j(message);\n\t\t\tbreak;\n\t\tcase 'C':\n\t\t\tdecode_c(message);\n\t\t\tbreak;\n\t\tcase 'E':\n\t\t\tdecode_e(message);\n\t\t\tbreak;\n\t\tcase 'A':\n\t\t\tdecode_a(message);\n\t\t\tbreak;\n\t\tcase 'P':\n\t\t\tdecode_p(message);\n\t\t\tbreak;\n\t\tcase 'M':\n\t\t\tdecode_m(message);\n\t\t\tbreak;\n\t\t}\n\t}\n}\n\nvoid decode_j(char message[]) \n{\n\tchar tmp = message[strlen(message) - 1];\n\tint i;\n\n\tfor (i = strlen(message) - 1; i >= 0; i--) \n\t\tmessage[i] = message[i - 1];\n\n\tmessage[0] = tmp;\n}\n\nvoid decode_c(char message[]) \n{\n\tchar tmp = message[0];\n\tint i;\n\n\tfor (i = 0; i < strlen(message) - 1; i++) \n\t\tmessage[i] = message[i + 1];\n\n\tmessage[strlen(message) - 1] = tmp;\n}\n\nvoid decode_e(char message[]) \n{\n\tchar tmp;\n\tint i, j;\n\n\tfor (i = 0, j = (strlen(message) % 2 == 0) ? (strlen(message) / 2) : (strlen(message) / 2 + 1); j < strlen(message); i++, j++) {\n\t\ttmp\t\t   = message[i];\n\t\tmessage[i] = message[j];\n\t\tmessage[j] = tmp;\n\t}\n}\n\nvoid decode_a(char message[]) \n{\n\tchar tmp;\n\tint i, j;\n\n\tfor (i = 0, j = strlen(message) - 1; i < j; i++, j--) {\n\t\ttmp\t\t   = message[i];\n\t\tmessage[i] = message[j];\n\t\tmessage[j] = tmp;\n\t}\n}\t\n\nvoid decode_p(char message[]) \n{\n\tint i;\n\n\tfor (i = 0; i < strlen(message); i++) {\n\t\tif (isdigit(message[i])) {\n\t\t\tif (message[i] == '0') {\n\t\t\t\tmessage[i] = '9';\n\t\t\t} else {\n\t\t\t\tmessage[i]--;\n\t\t\t}\n\t\t}\n\t}\n}\n\nvoid decode_m(char message[])\n{\n\tint i;\n\n\tfor (i = 0; i < strlen(message); i++) {\n\t\tif (isdigit(message[i])) {\n\t\t\tif (message[i] == '9') { \n\t\t\t\tmessage[i] = '0';\n\t\t\t} else {\n\t\t\t\tmessage[i]++;\n\t\t\t}\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\n\npublic class Main {\n\n\tpublic static void main(String[] args) throws NumberFormatException, IOException {\n\t\t// TODO ?????????????????????????????????????????????\n\t\tBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n\n\t\tint n = Integer.parseInt(br.readLine());\n\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tString people = br.readLine();\n\n\t\t\tString input = br.readLine();\n\n\t\t\tSystem.out.println(solve(people, input));\n\t\t}\n\t}\n\n\tstatic String solve(String people, String str){\n\t\tchar[] pArray = people.toCharArray();\n\t\tint n = pArray.length;\n\n\t\tString result = str;\n\t\tfor(int i = n - 1; i >= 0; i--){\n//\t\t\tSystem.out.println(\"next \"+pArray[i]);\n\t\t\tswitch (pArray[i]) {\n\t\t\tcase 'J' :\n\t\t\t\tresult = decodeJ(result);\n\t\t\t\tbreak;\n\t\t\tcase 'C' :\n\t\t\t\tresult = decodeC(result);\n\t\t\t\tbreak;\n\t\t\tcase 'E' :\n\t\t\t\tresult = decodeE(result);\n\t\t\t\tbreak;\n\t\t\tcase 'A' :\n\t\t\t\tresult = decodeA(result);\n\t\t\t\tbreak;\n\t\t\tcase 'P' :\n\t\t\t\tresult = decodeP(result);\n\t\t\t\tbreak;\n\t\t\tcase 'M' :\n\t\t\t\tresult = decodeM(result);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tstatic String decodeJ(String str){\n//\t\tSystem.out.println(\"Decode J\");\n\t\tStringBuffer sb = new StringBuffer();\n\t\tsb.append(str.charAt(str.length() - 1));\n\t\tsb.append(str.substring(0, str.length() - 1));\n\n//\t\tSystem.out.println(\"J \"+sb);\n\t\treturn sb.toString();\n\t}\n\n\tstatic String decodeC(String str){\n\t\tStringBuffer sb = new StringBuffer();\n\t\tsb.append(str.substring(1));\n\t\tsb.append(str.charAt(0));\n\n//\t\tSystem.out.println(\"C \"+sb);\n\t\treturn sb.toString();\n\t}\n\n\tstatic String decodeE(String str){\n\t\tStringBuffer sb = new StringBuffer();\n\t\tint len = str.length();\n\n\t\tsb.append(str.substring((len - 1)/2 + 1));\n\t\tif(len % 2 == 1){\n\t\t\tsb.append(str.charAt(len/2));\n\t\t}\n\t\tsb.append(str.substring(0, len/2));\n\n//\t\tSystem.out.println(\"E \"+sb);\n\t\treturn sb.toString();\n\t}\n\n\tstatic String decodeA(String str){\n\t\tStringBuffer sb = new StringBuffer(str);\n\n//\t\tSystem.out.println(\"A \"+sb);\n\t\treturn sb.reverse().toString();\n\t}\n\n\tstatic String decodeP(String str){\n\t\tchar[] cArray = str.toCharArray();\n\t\tfor(int i = 0; i < str.length(); i++){\n\t\t\tif(cArray[i] == '0'){\n\t\t\t\tcArray[i] = '9';\n\t\t\t}\n\t\t\telse if(Character.isDigit(cArray[i])){\n\t\t\t\tcArray[i]--;\n\t\t\t}\n\t\t}\n//\t\tSystem.out.println(\"P \"+ new String(cArray));\n\t\treturn new String(cArray);\n\t}\n\n\tstatic String decodeM(String str){\n\t\tchar[] cArray = str.toCharArray();\n\t\tfor(int i = 0; i < str.length(); i++){\n\t\t\tif(cArray[i] == '9'){\n\t\t\t\tcArray[i] = '0';\n\t\t\t}\n\t\t\telse if(Character.isDigit(cArray[i])){\n\t\t\t\tcArray[i]++;\n\t\t\t}\n\t\t}\n//\t\tSystem.out.println(\"M \"+ new String(cArray));\n\n\t\treturn new String(cArray);\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException;\nimport java.util.Arrays;\nimport java.util.LinkedList;\nimport java.util.List;\nimport java.util.PriorityQueue;\nimport java.util.Scanner;\n\npublic class Main {\n\n\tpublic static void main(String[] args) {\n\t\tfinal Scanner sc = new Scanner(System.in);\n\n\t\tfinal int n = sc.nextInt();\n\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tchar[] order = new StringBuilder(sc.next()).reverse().toString()\n\t\t\t\t\t.toCharArray();\n\t\t\tStringBuilder input = new StringBuilder(sc.next());\n\n\t\t\tfor (char o : order) {\n\t\t\t\t//System.out.println(input);\n\n\t\t\t\tif (o == 'J') {\n\t\t\t\t\tif (input.length() != 1) {\n\t\t\t\t\t\tinput.insert(0, input.charAt(input.length() - 1))\n\t\t\t\t\t\t\t\t.deleteCharAt(input.length() - 1);\n\t\t\t\t\t}\n\t\t\t\t} else if (o == 'C') {\n\t\t\t\t\tif (input.length() != 1) {\n\t\t\t\t\t\tinput.append(input.charAt(0)).deleteCharAt(0);\n\t\t\t\t\t}\n\t\t\t\t} else if (o == 'E') {\n\t\t\t\t\tif (input.length() != 1) {\n\t\t\t\t\t\tCharSequence sb1 = input.subSequence(input.length()\n\t\t\t\t\t\t\t\t- input.length() / 2, input.length());\n\t\t\t\t\t\tCharSequence sb2 = input.subSequence(0,\n\t\t\t\t\t\t\t\tinput.length() / 2);\n\n\t\t\t\t\t\tStringBuilder s = new StringBuilder();\n\t\t\t\t\t\tif (input.length() % 2 == 1) {\n\t\t\t\t\t\t\ts.append(input.charAt(input.length() / 2));\n\t\t\t\t\t\t}\n\t\t\t\t\t\ts.insert(0, sb1);\n\t\t\t\t\t\ts.append(sb2);\n\n\t\t\t\t\t\tinput = s;\n\t\t\t\t\t}\n\t\t\t\t} else if (o == 'A') {\n\t\t\t\t\tinput.reverse();\n\t\t\t\t} else if (o == 'P') {\n\t\t\t\t\tStringBuilder tmp = new StringBuilder();\n\t\t\t\t\tchar[] array = input.toString().toCharArray();\n\t\t\t\t\tfor (char c : array) {\n\n\t\t\t\t\t\tif ('0' <= c && c <= '9') {\n\t\t\t\t\t\t\ttmp.append((char) ((c - 1) < '0' ? '9' : (c - 1)));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttmp.append(c);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// System.out.println(tmp);\n\t\t\t\t\t}\n\t\t\t\t\tinput = tmp;\n\t\t\t\t} else if (o == 'M') {\n\t\t\t\t\tStringBuilder tmp = new StringBuilder();\n\t\t\t\t\tchar[] array = input.toString().toCharArray();\n\t\t\t\t\tfor (char c : array) {\n\t\t\t\t\t\tif ('0' <= c && c <= '9') {\n\t\t\t\t\t\t\ttmp.append((char) ((c + 1) > '9' ? '0' : (c + 1)));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttmp.append(c);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tinput = tmp;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tSystem.out.println(input);\n\t\t}\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\n\npublic class Main {\n\n\tpublic static void main(String[] args) throws IOException {\n\t\tBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n\t\tString line;\n\n\t\t// discard first line.\n\t\tbr.readLine();\n\n\t\twhile ((line = br.readLine()) != null && !line.isEmpty()) {\n\n\t\t\tchar[] msgrs = line.toCharArray();\n\t\t\tchar[] msg = br.readLine().toCharArray();\n\n\t\t\t//infer\n\t\t\tfor (int i = msgrs.length - 1; i >= 0; i--) {\n\t\t\t\tswitch (msgrs[i]) {\n\t\t\t\t\tcase 'J':\n\t\t\t\t\t\tmsg = J(msg);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'C':\n\t\t\t\t\t\tmsg = C(msg);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'E':\n\t\t\t\t\t\tmsg = E(msg);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'A':\n\t\t\t\t\t\tmsg = A(msg);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'M':\n\t\t\t\t\t\tmsg = M(msg);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'P':\n\t\t\t\t\t\tmsg = P(msg);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\t//ans.\n\t\t\tSystem.out.println(new String(msg));\n\t\t}\n\t} //end while\n\n\t//operation\n\tpublic static char[] J(char[] msg) {\n\t\tchar[] _msg = new char[msg.length];\n\t\tfor (int i = 0, j = 1; i < msg.length - 1; i++, j++) {\n\t\t\t_msg[j] = msg[i];\n\t\t}\n\t\t_msg[0] = msg[_msg.length - 1];\n\t\treturn _msg;\n\t}\n\n\tpublic static char[] C(char[] msg) {\n\t\tchar[] _msg = new char[msg.length];\n\t\tfor (int i = 1, j = 0; i < msg.length; i++, j++) {\n\t\t\t_msg[j] = msg[i];\n\t\t}\n\t\t_msg[_msg.length - 1] = msg[0];\n\t\treturn _msg;\n\t}\n\n\tpublic static char[] E(char[] msg) {\n\t\tint d;\n\t\tif (msg.length % 2 == 0) d = 0;\n\t\telse d = 1;\n\t\tfor (int i = 0; i < msg.length / 2; i++) {\n\t\t\tint j = i + (msg.length / 2) + d;\n\t\t\tchar c1 = msg[i];\n\t\t\tchar c2 = msg[j];\n\t\t\tmsg[i] = c2;\n\t\t\tmsg[j] = c1;\n\t\t}\n\t\treturn msg;\n\t}\n\n\tpublic static char[] A(char[] msg) {\n\t\tchar[] _msg = new char[msg.length];\n\t\tfor (int i = msg.length - 1, j = 0; i >= 0; i--, j++) {\n\t\t\t_msg[j] = msg[i];\n\t\t}\n\t\treturn _msg;\n\t}\n\n\tpublic static char[] P(char[] msg) {\n\t\tfor (int i = 0; i < msg.length; i++) {\n\t\t\tchar c = msg[i];\n\t\t\tif ('0' <= c && c <= '9') {\n\t\t\t\tif (c == '0') msg[i] = '9';\n\t\t\t\telse msg[i]--;\n\t\t\t}\n\t\t}\n\t\treturn msg;\n\t}\n\n\tpublic static char[] M(char[] msg) {\n\t\tfor (int i = 0; i < msg.length; i++) {\n\t\t\tchar c = msg[i];\n\t\t\tif ('0' <= c && c <= '9') {\n\t\t\t\tif (c == '9') msg[i] = '0';\n\t\t\t\telse msg[i]++;\n\t\t\t}\n\t\t}\n\t\treturn msg;\n\t}\n\n} //end main"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\n\n//Unreliable Message\npublic class Main{\n\n\tString J(String s){\n\t\treturn s.charAt(s.length()-1)+s.substring(0, s.length()-1);\n\t}\n\tString C(String s){\n\t\treturn s.substring(1)+s.charAt(0);\n\t}\n\tString E(String s){\n\t\treturn s.substring(s.length()/2)+s.substring(0, s.length()/2);\n\t}\n\tString A(String s){\n\t\treturn new StringBuilder(s).reverse().toString();\n\t}\n\tString P(String s){\n\t\tString res = \"\";\n\t\tfor(char c:s.toCharArray()){\n\t\t\tif(!Character.isDigit(c))res+=c;\n\t\t\telse res += (char)((c-'0'+9)%10+'0');\n\t\t}\n\t\treturn res;\n\t}\n\tString M(String s){\n\t\tString res = \"\";\n\t\tfor(char c:s.toCharArray()){\n\t\t\tif(!Character.isDigit(c))res+=c;\n\t\t\telse res += (char)((c-'0'+1)%10+'0');\n\t\t}\n\t\treturn res;\n\t}\n\t\n\tvoid run(){\n\t\tScanner sc = new Scanner(System.in);\n\t\tint t = sc.nextInt();\n\t\twhile(t--!=0){\n\t\t\tchar[] c = sc.next().toCharArray();\n\t\t\tString s = sc.next();\n\t\t\tfor(int i=c.length-1;i>=0;i--)s=c[i]=='J'?J(s):c[i]=='C'?C(s):c[i]=='E'?E(s):c[i]=='A'?A(s):c[i]=='P'?P(s):M(s);\n\t\t\tSystem.out.println(s);\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main {\n\tpublic static void main(String[] args) {\n\t\tScanner sc = new Scanner(System.in);\n\t\tint n = sc.nextInt();\n\t\tfor (int z = 0; z < n; z++) {\n\t\t\tString m = sc.next();\n\t\t\tString str = sc.next();\n\t\t\tfor (int i = m.length() - 1; i >= 0; i--) {\n\t\t\t\tswitch (m.charAt(i)) {\n\t\t\t\tcase 'J':\n\t\t\t\t\tString f = str.substring(0, str.length() - 1);\n\t\t\t\t\tString e = str.substring(str.length() - 1);\n\t\t\t\t\tstr = e + f;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'C':\n\t\t\t\t\tf = str.substring(0, 1);\n\t\t\t\t\te = str.substring(1);\n\t\t\t\t\tstr = e + f;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'E':\n\t\t\t\t\tif (str.length() % 2 == 0) {\n\t\t\t\t\t\tf = str.substring(0, str.length() / 2);\n\t\t\t\t\t\te = str.substring(str.length() / 2);\n\t\t\t\t\t\tstr = e + f;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tf = str.substring(0, str.length() / 2);\n\t\t\t\t\t\tString c = str.substring(str.length() / 2,\n\t\t\t\t\t\t\t\tstr.length() / 2 + 1);\n\t\t\t\t\t\te = str.substring(str.length() / 2 + 1);\n\t\t\t\t\t\tstr = e + c + f;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'A':\n\t\t\t\t\tchar[] a = str.toCharArray();\n\t\t\t\t\tchar[] b = new char[str.length()];\n\t\t\t\t\tfor (int j = 0; j < str.length(); j++)\n\t\t\t\t\t\tb[str.length() - 1 - j] = a[j];\n\t\t\t\t\tstr = String.valueOf(b);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'P':\n\t\t\t\t\ta = str.toCharArray();\n\t\t\t\t\tfor (int j = 0; j < str.length(); j++) {\n\t\t\t\t\t\tswitch (a[j]) {\n\t\t\t\t\t\tcase '0':\n\t\t\t\t\t\t\ta[j] = '9';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase '1':\n\t\t\t\t\t\tcase '2':\n\t\t\t\t\t\tcase '3':\n\t\t\t\t\t\tcase '4':\n\t\t\t\t\t\tcase '5':\n\t\t\t\t\t\tcase '6':\n\t\t\t\t\t\tcase '7':\n\t\t\t\t\t\tcase '8':\n\t\t\t\t\t\tcase '9':\n\t\t\t\t\t\t\ta[j]--;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tstr = String.valueOf(a);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'M':\n\t\t\t\t\ta = str.toCharArray();\n\t\t\t\t\tfor (int j = 0; j < str.length(); j++) {\n\t\t\t\t\t\tswitch (a[j]) {\n\t\t\t\t\t\tcase '0':\n\t\t\t\t\t\tcase '1':\n\t\t\t\t\t\tcase '2':\n\t\t\t\t\t\tcase '3':\n\t\t\t\t\t\tcase '4':\n\t\t\t\t\t\tcase '5':\n\t\t\t\t\t\tcase '6':\n\t\t\t\t\t\tcase '7':\n\t\t\t\t\t\tcase '8':\n\t\t\t\t\t\t\ta[j]++;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase '9':\n\t\t\t\t\t\t\ta[j] = '0';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tstr = String.valueOf(a);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(str);\n\t\t}\n\t\tsc.close();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\n\n\npublic class Main {\n        public static void main(String[] args){\n                Scanner sn = new Scanner(System.in);\n                int n = sn.nextInt();\n                for(int i = 0; i < n; i++){\n                        System.out.println( decode(sn.next(),  sn.next()));\n                }\n        }\n\n        static Message decode(String order, String msg){\n        \tMessage m = new Message(msg);\n                for(int i = order.length()-1; i >= 0; i--){\n                        switch(order.charAt(i)){\n\t                        case 'J': m = m.c(); break;\n\t                        case 'C': m = m.j(); break;\n\t                        case 'E': m = m.e(); break;\n\t                        case 'A': m = m.a(); break;\n\t                        case 'P': m = m.m(); break;\n\t                        case 'M': m = m.p(); break;\n                        }\n                }\n                return m;\n        }\n}\n\nclass Message{\n        private String s;\n        public String toString(){\n                return s;\n        }\n\n        Message(String s){\n                this.s = s;\n        }\n\n        Message j(){\n                return new Message(s.substring(1)+s.charAt(0));\n        }\n\n        Message c(){\n                return new Message(s.charAt(s.length()-1)+s.substring(0, s.length()-1));\n        }\n\n        Message e(){\n                int half = s.length()/2;\n                return  (s.length()%2==0)? new Message( s.substring(s.length()-half, s.length()) + s.substring(0, half)):\n                        new Message( s.substring(s.length()-half, s.length()) + s.charAt(half) + s.substring(0, half));\n        }\n\n        Message a(){\n                return new Message(new StringBuffer(s).reverse().toString());\n        }\n\n        Message p(){\n                String ns = \"\";\n                char[] digits = {'1', '2', '3', '4', '5', '6', '7', '8', '9', '0'};\n                for(int i = 0; i < s.length(); i++){\n                        ns += (s.charAt(i) >= '0' && s.charAt(i) <= '9')? digits[s.charAt(i)-'0']:\n                                s.charAt(i);\n                }\n                return new Message(ns);\n        }\n\n        Message m(){\n                String ns = \"\";\n                char[] digits = {'9', '0', '1', '2', '3', '4', '5', '6', '7', '8'};\n                for(int i = 0; i < s.length(); i++){\n                        ns += (s.charAt(i) >= '0' && s.charAt(i) <= '9')? digits[s.charAt(i)-'0']:\n                                s.charAt(i);\n                }\n                return new Message(ns);\n        }\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\n\npublic class Main {\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        Scanner sc=new Scanner(System.in);\n        int N = sc.nextInt();   \n        while(N-->=0){\n            String s = sc.next();\n            String t = sc.next();\n            for (int i = 0; i < s.length(); i++) {\n                char c = s.charAt(s.length()-i-1);\n                switch(c){\n                case 'J':\n                    t=J(t);\n                    break;\n                case 'C':\n                    t=C(t);\n                    break;\n                case 'E':\n                    t=E(t);\n                    break;\n                case 'A':\n                    t=A(t);\n                    break;\n                    \n                case 'P':\n                    t=P(t);\n                    break;\n                case 'M':\n                    t=M(t);\n                    break;\n                }\n            }\n            System.out.println(t);\n        }\n    }\n\n    private static String M(String t) {\n        char[] s = t.toCharArray();\n        for (int i = 0; i < s.length; i++) {\n            if(Character.isDigit(s[i])){\n                s[i]++;\n                if(s[i]=='9'+1){\n                    s[i]='0';\n                }\n            }\n        }\n        return new String(s);\n    }\n\n    private static String P(String t) {\n        char[] s = t.toCharArray();\n        for (int i = 0; i < s.length; i++) {\n            if(Character.isDigit(s[i])){\n                s[i]--;\n                if(s[i]=='0'-1){\n                    s[i]='9';\n                }\n            }\n        }\n        return new String(s);\n    }\n\n    private static String A(String t) {\n        return new StringBuffer(t).reverse().toString();\n    }\n\n    private static String E(String t) {\n        if(t.length()%2==0){\n            return t.substring(t.length()/2)+t.substring(0,t.length()/2);\n        }\n        return t.substring(t.length()/2+1)+t.charAt(t.length()/2)+t.substring(0,t.length()/2);\n    }\n\n    private static String C(String t) {\n        char[] s = new char[t.length()];\n        for (int i = 1; i < t.length(); i++) {\n            s[i-1]=t.charAt(i);\n        }\n        s[s.length-1]=t.charAt(0);\n        return new String(s);\n    }\n\n    private static String J(String t) {\n        char[] s = new char[t.length()];\n        for (int i = 0; i < t.length()-1; i++) {\n            s[i+1]=t.charAt(i);\n        }\n        s[0]=t.charAt(t.length()-1);\n        return new String(s);\n    }\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Main {\n\tMyScanner sc = new MyScanner();\n\tScanner sc2 = new Scanner(System.in);\n\tint mod = 1000000007;\n\tString order, msg;\n\n\tvoid run() {\n\t\tint N = sc.nextInt();\n\t\twhile (N-- > 0) {\n\t\t\torder = sc.next();\n\t\t\tmsg = sc.next();\n\t\t\tfor (int i = order.length() - 1; i >= 0; i--) {\n\t\t\t\toperation(order.charAt(i));\n\t\t\t}\n\t\t\tSystem.out.println(msg);\n\t\t}\n\t}\n\n\tvoid operation(char op) {\n\t\tString tmp = \"\";\n\t\tint len = msg.length();\n\t\tswitch (op) {\n\t\tcase 'C':\n\t\t\ttmp = msg.substring(1, len);\n\t\t\ttmp += msg.charAt(0);\n\t\t\tbreak;\n\t\tcase 'J':\n\t\t\ttmp = msg.charAt(len - 1) + \"\";\n\t\t\ttmp += msg.substring(0, len - 1);\n\t\t\tbreak;\n\t\tcase 'E':\n\t\t\tint h = msg.length() / 2;\n\t\t\tif (len % 2 == 0) {\n\t\t\t\ttmp = msg.substring(h, len);\n\t\t\t\ttmp += msg.substring(0, h);\n\t\t\t} else {\n\t\t\t\ttmp = msg.substring(h + 1, len);\n\t\t\t\ttmp += msg.charAt(h);\n\t\t\t\ttmp += msg.substring(0, h);\n\t\t\t}\n\t\t\tbreak;\n\t\tcase 'A':\n\t\t\ttmp = new StringBuilder(msg).reverse().toString();\n\t\t\tbreak;\n\t\tcase 'M':\n\t\t\tfor (int i = 0; i < len; i++) {\n\t\t\t\tif (Character.isDigit(msg.charAt(i))) {\n\t\t\t\t\ttmp += (Integer.valueOf(msg.charAt(i) - '0') + 1) % 10;\n\t\t\t\t} else {\n\t\t\t\t\ttmp += msg.charAt(i);\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak;\n\t\tcase 'P':\n\t\t\tfor (int i = 0; i < len; i++) {\n\t\t\t\tif (Character.isDigit(msg.charAt(i))) {\n\t\t\t\t\tint t = Integer.valueOf(msg.charAt(i) - '0') - 1;\n\t\t\t\t\ttmp += t < 0 ? 9 : t;\n\t\t\t\t} else {\n\t\t\t\t\ttmp += msg.charAt(i);\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t\tmsg = tmp;\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n\n\tvoid debug(Object... o) {\n\t\tSystem.out.println(Arrays.deepToString(o));\n\t}\n\n\tvoid debug2(int[][] array) {\n\t\tfor (int i = 0; i < array.length; i++) {\n\t\t\tfor (int j = 0; j < array[i].length; j++) {\n\t\t\t\tSystem.out.print(array[i][j]);\n\t\t\t}\n\t\t\tSystem.out.println();\n\t\t}\n\t}\n\n\tclass MyScanner {\n\t\tint nextInt() {\n\t\t\ttry {\n\t\t\t\tint c = System.in.read();\n\t\t\t\twhile (c != '-' && (c < '0' || '9' < c))\n\t\t\t\t\tc = System.in.read();\n\t\t\t\tif (c == '-')\n\t\t\t\t\treturn -nextInt();\n\t\t\t\tint res = 0;\n\t\t\t\tdo {\n\t\t\t\t\tres *= 10;\n\t\t\t\t\tres += c - '0';\n\t\t\t\t\tc = System.in.read();\n\t\t\t\t} while ('0' <= c && c <= '9');\n\t\t\t\treturn res;\n\t\t\t} catch (Exception e) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\n\t\tdouble nextDouble() {\n\t\t\treturn Double.parseDouble(next());\n\t\t}\n\n\t\tString next() {\n\t\t\ttry {\n\t\t\t\tStringBuilder res = new StringBuilder(\"\");\n\t\t\t\tint c = System.in.read();\n\t\t\t\twhile (Character.isWhitespace(c))\n\t\t\t\t\tc = System.in.read();\n\t\t\t\tdo {\n\t\t\t\t\tres.append((char) c);\n\t\t\t\t} while (!Character.isWhitespace(c = System.in.read()));\n\t\t\t\treturn res.toString();\n\t\t\t} catch (Exception e) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\nclass Main{\n\tpublic static void main(String[] args){\n\t\tScanner s=new Scanner(System.in);\n\t\tint a=s.nextInt();\n\t\tfor(int i=0;i<a;i++){\n\t\t\tping command=s.next();\n\t\t\tString str=s.next();\n\t\t\tfor(int j=command.length()-1;j>=0;j--){\n\t\t\t\tswitch(command.charAt(j)){\n\t\t\t\t\tcase 'J':\n\t\t\t\t\t\tstr=str.charAt(str.length()-1)+str.substring(0,str.length()-1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'C':\n\t\t\t\t\t\tstr=str.substring(1)+str.charAt(0);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'E':\n\t\t\t\t\t\tif(str.length()%2==0)\n\t\t\t\t\t\t\tstr=str.substring(str.length()/2)+str.substring(0,str.length()/2);\n\t\t\t\t\t\telse str=str.substring(str.length()/2+1)+str.charAt(str.length()/2)+str.substring(0,str.length()/2);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'A':\n\t\t\t\t\t\tString n=\"\";\n\t\t\t\t\t\tfor(int k=str.length()-1;k>=0;k--)n+=str.charAt(k);\n\t\t\t\t\t\tstr=n;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'P':\n\t\t\t\t\t\tfor(int k=0;k<str.length();k++){\n\t\t\t\t\t\t\tif('1'<=str.charAt(k)&&str.charAt(k)<='9'){\n\t\t\t\t\t\t\t\tstr=str.substring(0,k)+(char)(str.charAt(k)-1)+str.substring(k+1);\n\t\t\t\t\t\t\t}else if(str.charAt(k)=='0')str=str.substring(0,k)+'9'+str.substring(k+1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'M':\n\t\t\t\t\t\tfor(int k=0;k<str.length();k++){\n\t\t\t\t\t\t\tif('0'<=str.charAt(k)&&str.charAt(k)<='8'){\n\t\t\t\t\t\t\t\tstr=str.substring(0,k)+(char)(str.charAt(k)+1)+str.substring(k+1);\n\t\t\t\t\t\t\t}else if(str.charAt(k)=='9')str=str.substring(0,k)+'0'+str.substring(k+1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(str);\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.InputStream;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Comparator;\nimport java.util.InputMismatchException;\nimport java.util.NoSuchElementException;\nimport java.math.BigInteger;\n\npublic class Main{\n\nstatic PrintWriter out;\nstatic InputReader ir;\n\nstatic void solve(){\n int n=ir.nextInt();\n char[] com;\n String s;\n while(n-->0){\n  com=ir.next().toCharArray();\n  s=ir.next();\n  for(int i=0;i<s.length;i++){\n   if(s[i]=='J') J(s);\n   else if(s[i]=='C') C(s);\n   else if(s[i]=='E') E(s);\n   else if(s[i]=='A') A(s);\n   else if(s[i]=='P') P(s);\n   else M(s);\n  }\n  out.println(s);\n }\n}\n\npublic static void J(String s){\n s=s.substring(1)+s.substring(0,1);\n}\n\npublic static void C(String s){\n s=s.substring(s.length()-1)+s.substring(0,s.length()-1);\n}\n\npublic static void E(String s){\n if(s.length()%2==0){\n  s=s.substring(s.length()/2)+s.substring(0,s.length()/2);\n }\n else{\n  s=s.substring((s.length()+1)/2)+s.substring((s.length()-1)/2,(s.length()+1)/2)+s.substring(0,(s.length()-1)/2);\n }\n}\n\npublic static void A(String s){\n s=new StringBuilder(s).reverse().toString();\n}\n\npublic static void P(String s){\n for(int i=0;i<s.length();i++){\n  char c=s.charAt(i);\n  if(!(c>='0'&&c<='9')) continue;\n  if(c=='9') s=s.substring(0,i)+\"0\"+s.substring(i+1);\n  else s=s.substring(0,i)+String.valueOf((char)(c+1))+s.substring(i+1);\n }\n}\n\npublic static void M(String s){\n for(int i=0;i<s.length();i++){\n  char c=s.charAt(i);\n  if(!(c>='0'&&c<='9')) continue;\n  if(c=='0') s=s.substring(0,i)+\"9\"+s.substring(i+1);\n  else s=s.substring(0,i)+String.valueOf((char)(c-1))+s.substring(i+1);\n }\n}\n\npublic static void main(String[] args) throws Exception{\n ir=new InputReader(System.in);\n out=new PrintWriter(System.out);\n solve();\n out.flush();\n}\n\nstatic class InputReader {\n private InputStream in;\n private byte[] buffer=new byte[1024];\n private int curbuf;\n private int lenbuf;\n\n public InputReader(InputStream in) {this.in=in; this.curbuf=this.lenbuf=0;}\n \n public boolean hasNextByte() {\n  if(curbuf>=lenbuf){\n   curbuf= 0;\n   try{\n    lenbuf=in.read(buffer);\n   }catch(IOException e) {\n    throw new InputMismatchException();\n   }\n   if(lenbuf<=0) return false;\n  }\n  return true;\n }\n\n private int readByte(){if(hasNextByte()) return buffer[curbuf++]; else return -1;}\n \n private boolean isSpaceChar(int c){return !(c>=33&&c<=126);}\n \n private void skip(){while(hasNextByte()&&isSpaceChar(buffer[curbuf])) curbuf++;}\n \n public boolean hasNext(){skip(); return hasNextByte();}\n \n public String next(){\n  if(!hasNext()) throw new NoSuchElementException();\n  StringBuilder sb=new StringBuilder();\n  int b=readByte();\n  while(!isSpaceChar(b)){\n   sb.appendCodePoint(b);\n   b=readByte();\n  }\n  return sb.toString();\n }\n \n public int nextInt() {\n  if(!hasNext()) throw new NoSuchElementException();\n  int c=readByte();\n  while (isSpaceChar(c)) c=readByte();\n  boolean minus=false;\n  if (c=='-') {\n   minus=true;\n   c=readByte();\n  }\n  int res=0;\n  do{\n   if(c<'0'||c>'9') throw new InputMismatchException();\n   res=res*10+c-'0';\n   c=readByte();\n  }while(!isSpaceChar(c));\n  return (minus)?-res:res;\n }\n \n public long nextLong() {\n  if(!hasNext()) throw new NoSuchElementException();\n  int c=readByte();\n  while (isSpaceChar(c)) c=readByte();\n  boolean minus=false;\n  if (c=='-') {\n   minus=true;\n   c=readByte();\n  }\n  long res = 0;\n  do{\n   if(c<'0'||c>'9') throw new InputMismatchException();\n   res=res*10+c-'0';\n   c=readByte();\n  }while(!isSpaceChar(c));\n  return (minus)?-res:res;\n }\n\n public double nextDouble(){return Double.parseDouble(next());}\n\n public int[] nextIntArray(int n){\n  int[] a=new int[n];\n  for(int i=0;i<n;i++) a[i]=nextInt();\n  return a;\n }\n\n public long[] nextLongArray(int n){\n  long[] a=new long[n];\n  for(int i=0;i<n;i++) a[i]=nextLong();\n  return a;\n }\n\n public char[][] nextCharMap(int n,int m){\n  char[][] map=new char[n][m];\n  for(int i=0;i<n;i++) map[i]=next().toCharArray();\n  return map;\n }\n}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.InputStream;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Comparator;\nimport java.util.InputMismatchException;\nimport java.util.NoSuchElementException;\nimport java.math.BigInteger;\n\npublic class Main{\n\nstatic PrintWriter out;\nstatic InputReader ir;\n\nstatic void solve(){\n int n=ir.nextInt();\n char[] com;\n String s;\n while(n-->0){\n  com=ir.next().toCharArray();\n  s=ir.next();\n  for(int i=com.length-1;i>=0;i--){\n   if(com[i]=='J') J(s);\n   else if(com[i]=='C') C(s);\n   else if(com[i]=='E') E(s);\n   else if(com[i]=='A') A(s);\n   else if(com[i]=='P') P(s);\n   else M(s);\n  }\n  out.println(s);\n }\n}\n\npublic static void C(String s){\n s=s.substring(1)+s.substring(0,1);\n}\n\npublic static void J(String s){\n s=s.substring(s.length()-1)+s.substring(0,s.length()-1);\n}\n\npublic static void E(String s){\n if(s.length()%2==0){\n  s=s.substring(s.length()/2)+s.substring(0,s.length()/2);\n }\n else{\n  s=s.substring((s.length()+1)/2)+s.substring((s.length()-1)/2,(s.length()+1)/2)+s.substring(0,(s.length()-1)/2);\n }\n}\n\npublic static void A(String s){\n s=new StringBuilder(s).reverse().toString();\n}\n\npublic static void M(String s){\n char[] ss=s.toCharArray();\n for(int i=0;i<s.length();i++){\n  if(!(ss[i]>='0'&&ss[i]<='9')) continue;\n  if(ss[i]=='9') ss[i]='0';\n  else ss[i]++;\n }\n s=String.valueOf(ss);\n}\n\npublic static void P(String s){\n char[] ss=s.toCharArray();\n for(int i=0;i<s.length();i++){\n  if(!(ss[i]>='0'&&ss[i]<='9')) continue;\n  if(ss[i]=='0') ss[i]='9';\n  else ss[i]--;\n }\n s=String.valueOf(ss);\n}\n\npublic static void main(String[] args) throws Exception{\n ir=new InputReader(System.in);\n out=new PrintWriter(System.out);\n solve();\n out.flush();\n}\n\nstatic class InputReader {\n private InputStream in;\n private byte[] buffer=new byte[1024];\n private int curbuf;\n private int lenbuf;\n\n public InputReader(InputStream in) {this.in=in; this.curbuf=this.lenbuf=0;}\n \n public boolean hasNextByte() {\n  if(curbuf>=lenbuf){\n   curbuf= 0;\n   try{\n    lenbuf=in.read(buffer);\n   }catch(IOException e) {\n    throw new InputMismatchException();\n   }\n   if(lenbuf<=0) return false;\n  }\n  return true;\n }\n\n private int readByte(){if(hasNextByte()) return buffer[curbuf++]; else return -1;}\n \n private boolean isSpaceChar(int c){return !(c>=33&&c<=126);}\n \n private void skip(){while(hasNextByte()&&isSpaceChar(buffer[curbuf])) curbuf++;}\n \n public boolean hasNext(){skip(); return hasNextByte();}\n \n public String next(){\n  if(!hasNext()) throw new NoSuchElementException();\n  StringBuilder sb=new StringBuilder();\n  int b=readByte();\n  while(!isSpaceChar(b)){\n   sb.appendCodePoint(b);\n   b=readByte();\n  }\n  return sb.toString();\n }\n \n public int nextInt() {\n  if(!hasNext()) throw new NoSuchElementException();\n  int c=readByte();\n  while (isSpaceChar(c)) c=readByte();\n  boolean minus=false;\n  if (c=='-') {\n   minus=true;\n   c=readByte();\n  }\n  int res=0;\n  do{\n   if(c<'0'||c>'9') throw new InputMismatchException();\n   res=res*10+c-'0';\n   c=readByte();\n  }while(!isSpaceChar(c));\n  return (minus)?-res:res;\n }\n \n public long nextLong() {\n  if(!hasNext()) throw new NoSuchElementException();\n  int c=readByte();\n  while (isSpaceChar(c)) c=readByte();\n  boolean minus=false;\n  if (c=='-') {\n   minus=true;\n   c=readByte();\n  }\n  long res = 0;\n  do{\n   if(c<'0'||c>'9') throw new InputMismatchException();\n   res=res*10+c-'0';\n   c=readByte();\n  }while(!isSpaceChar(c));\n  return (minus)?-res:res;\n }\n\n public double nextDouble(){return Double.parseDouble(next());}\n\n public int[] nextIntArray(int n){\n  int[] a=new int[n];\n  for(int i=0;i<n;i++) a[i]=nextInt();\n  return a;\n }\n\n public long[] nextLongArray(int n){\n  long[] a=new long[n];\n  for(int i=0;i<n;i++) a[i]=nextLong();\n  return a;\n }\n\n public char[][] nextCharMap(int n,int m){\n  char[][] map=new char[n][m];\n  for(int i=0;i<n;i++) map[i]=next().toCharArray();\n  return map;\n }\n}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException;\nimport java.util.Arrays;\nimport java.util.LinkedList;\nimport java.util.List;\nimport java.util.PriorityQueue;\nimport java.util.Scanner;\n\npublic class Main {\n\n\tpublic static void main(String[] args) {\n\t\tfinal Scanner sc = new Scanner(System.in);\n\n\t\tfinal int n = sc.nextInt();\n\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tchar[] order = new StringBuilder(sc.next()).reverse().toString()\n\t\t\t\t\t.toCharArray();\n\t\t\tStringBuilder input = new StringBuilder(sc.next());\n\n\t\t\tfor (char o : order) {\n\t\t\t\t// System.out.println(input);\n\n\t\t\t\tif (o == 'J') {\n\t\t\t\t\tif (input.length() != 1) {\n\t\t\t\t\t\tinput.insert(0, input.charAt(input.length() - 1))\n\t\t\t\t\t\t\t\t.deleteCharAt(input.length() - 1);\n\t\t\t\t\t}\n\t\t\t\t} else if (o == 'C') {\n\t\t\t\t\tif (input.length() != 1) {\n\t\t\t\t\t\tinput.append(input.charAt(0)).deleteCharAt(0);\n\t\t\t\t\t}\n\t\t\t\t} else if (o == 'E') {\n\t\t\t\t\tif (input.length() != 1) {\n\t\t\t\t\t\tCharSequence sb1 = input.subSequence(input.length()\n\t\t\t\t\t\t\t\t- input.length() / 2, input.length());\n\t\t\t\t\t\tCharSequence sb2 = input.subSequence(0,\n\t\t\t\t\t\t\t\tinput.length() / 2);\n\n\t\t\t\t\t\tStringBuilder s = new StringBuilder();\n\t\t\t\t\t\tif (input.length() % 2 == 1) {\n\t\t\t\t\t\t\ts.append(input.charAt(input.length() / 2 + 1));\n\t\t\t\t\t\t}\n\t\t\t\t\t\ts.insert(0, sb1);\n\t\t\t\t\t\ts.append(sb2);\n\n\t\t\t\t\t\tinput = s;\n\t\t\t\t\t}\n\t\t\t\t} else if (o == 'A') {\n\t\t\t\t\tinput.reverse();\n\t\t\t\t} else if (o == 'P') {\n\t\t\t\t\tStringBuilder tmp = new StringBuilder();\n\t\t\t\t\tchar[] array = input.toString().toCharArray();\n\t\t\t\t\tfor (char c : array) {\n\n\t\t\t\t\t\tif ('0' <= c && c <= '9') {\n\t\t\t\t\t\t\ttmp.append((char) ((c - 1) < '0' ? '9' : (c - 1)));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttmp.append(c);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// System.out.println(tmp);\n\t\t\t\t\t}\n\t\t\t\t\tinput = tmp;\n\t\t\t\t} else if (o == 'M') {\n\t\t\t\t\tStringBuilder tmp = new StringBuilder();\n\t\t\t\t\tchar[] array = input.toString().toCharArray();\n\t\t\t\t\tfor (char c : array) {\n\t\t\t\t\t\tif ('0' <= c && c <= '9') {\n\t\t\t\t\t\t\ttmp.append((char) ((c + 1) > '9' ? '0' : (c + 1)));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttmp.append(c);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tinput = tmp;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tSystem.out.println(input);\n\t\t}\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main{\n\tpublic static void main(String[] args){\n\t\tScanner sc = new Scanner(System.in);\n\t\tint n = sc.nextInt();\n\n\t\twhile(n-- > 0){\n\t\t\tString order = sc.next(), m = sc.next();\n\t\t\tint len = m.length();\n\n\t\t\tfor(int i=order.length()-1;i>=0;i--){\n\t\t\t\tswitch(order.charAt(i)){\n\t\t\t\tcase 'J':\n\t\t\t\t\tm = m.substring(len-1) + m.substring(0,len-1);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'C':\n\t\t\t\t\tm = m.substring(1) + m.substring(0,1);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'E':\n\t\t\t\t\tif(len%2==0) m = m.substring(len/2) + m.substring(0,len/2);\n\t\t\t\t\telse m = m.substring(len/2+1) + m.substring(len/2,len/2+1) + m.substring(0,len/2);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'A':\n\t\t\t\t\tm = new StringBuilder(m).reverse().toString();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'P':\n\t\t\t\t\tString s = \"\";\n\t\t\t\t\tfor(int j=0;j<len;j++){\n\t\t\t\t\t\tchar c = m.charAt(j);\n\t\t\t\t\t\tif('0'<=c && c<='9'){\n\t\t\t\t\t\t\tif(c == '0') c = '9';\n\t\t\t\t\t\t\telse c--;\n\t\t\t\t\t\t}\n\t\t\t\t\t\ts += c;\n\t\t\t\t\t}\n\t\t\t\t\tm = s;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'M':\n\t\t\t\t\ts = \"\";\n\t\t\t\t\tfor(int j=0;j<len;j++){\n\t\t\t\t\t\tchar c = m.charAt(j);\n\t\t\t\t\t\tif('0'<=c && c<='9'){\n\t\t\t\t\t\t\tif(c == '9') c = '0';\n\t\t\t\t\t\t\telse c++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\ts += c;\n\t\t\t\t\t}\n\t\t\t\t\tm = s;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(m);\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.InputStream;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Comparator;\nimport java.util.InputMismatchException;\nimport java.util.NoSuchElementException;\nimport java.math.BigInteger;\n \npublic class Main{\n \nstatic PrintWriter out;\nstatic InputReader ir;\n \nstatic void solve(){\n int n=ir.nextInt();\n char[] com;\n String s;\n while(n-->0){\n  com=new StringBuilder(ir.next()).reverse().toString().toCharArray();\n  s=ir.next();\n  for(int i=0;i<com.length;i++){\n   if(com[i]=='J') s=J(s);\n   else if(com[i]=='C') s=C(s);\n   else if(com[i]=='E') s=E(s);\n   else if(com[i]=='A') s=A(s);\n   else if(com[i]=='P') s=P(s);\n   else s=M(s);\n  }\n  out.println(s);\n }\n}\n \npublic static String C(String s){\n return s.substring(1)+s.substring(0,1);\n}\n \npublic static String J(String s){\n return s.substring(s.length()-1)+s.substring(0,s.length()-1);\n}\n \npublic static String E(String s){\n if(s.length()%2==0){\n  return s.substring(s.length()/2)+s.substring(0,s.length()/2);\n }\n else{\n  return s.substring((s.length()+1)/2)+s.substring((s.length()-1)/2,(s.length()+1)/2)+s.substring(0,(s.length()-1)/2);\n }\n}\n \npublic static String A(String s){\n return new StringBuilder(s).reverse().toString();\n}\n \npublic static String M(String s){\n char[] ss=s.toCharArray();\n for(int i=0;i<s.length();i++){\n  if(ss[i]>='0'&&ss[i]<='9'){\n   if(ss[i]=='9') ss[i]='0';\n   else ss[i]++;\n  }\n }\n return String.valueOf(ss);\n}\n \npublic static String P(String s){\n char[] ss=s.toCharArray();\n for(int i=0;i<s.length();i++){\n  if(ss[i]>='0'&&ss[i]<='9'){\n   if(ss[i]=='0') ss[i]='9';\n   else ss[i]--;\n  }\n }\n return String.valueOf(ss);\n}\n \npublic static void main(String[] args) throws Exception{\n ir=new InputReader(System.in);\n out=new PrintWriter(System.out);\n solve();\n out.flush();\n}\n \nstatic class InputReader {\n private InputStream in;\n private byte[] buffer=new byte[1024];\n private int curbuf;\n private int lenbuf;\n \n public InputReader(InputStream in) {this.in=in; this.curbuf=this.lenbuf=0;}\n  \n public boolean hasNextByte() {\n  if(curbuf>=lenbuf){\n   curbuf= 0;\n   try{\n    lenbuf=in.read(buffer);\n   }catch(IOException e) {\n    throw new InputMismatchException();\n   }\n   if(lenbuf<=0) return false;\n  }\n  return true;\n }\n \n private int readByte(){if(hasNextByte()) return buffer[curbuf++]; else return -1;}\n  \n private boolean isSpaceChar(int c){return !(c>=33&&c<=126);}\n  \n private void skip(){while(hasNextByte()&&isSpaceChar(buffer[curbuf])) curbuf++;}\n  \n public boolean hasNext(){skip(); return hasNextByte();}\n  \n public String next(){\n  if(!hasNext()) throw new NoSuchElementException();\n  StringBuilder sb=new StringBuilder();\n  int b=readByte();\n  while(!isSpaceChar(b)){\n   sb.appendCodePoint(b);\n   b=readByte();\n  }\n  return sb.toString();\n }\n  \n public int nextInt() {\n  if(!hasNext()) throw new NoSuchElementException();\n  int c=readByte();\n  while (isSpaceChar(c)) c=readByte();\n  boolean minus=false;\n  if (c=='-') {\n   minus=true;\n   c=readByte();\n  }\n  int res=0;\n  do{\n   if(c<'0'||c>'9') throw new InputMismatchException();\n   res=res*10+c-'0';\n   c=readByte();\n  }while(!isSpaceChar(c));\n  return (minus)?-res:res;\n }\n  \n public long nextLong() {\n  if(!hasNext()) throw new NoSuchElementException();\n  int c=readByte();\n  while (isSpaceChar(c)) c=readByte();\n  boolean minus=false;\n  if (c=='-') {\n   minus=true;\n   c=readByte();\n  }\n  long res = 0;\n  do{\n   if(c<'0'||c>'9') throw new InputMismatchException();\n   res=res*10+c-'0';\n   c=readByte();\n  }while(!isSpaceChar(c));\n  return (minus)?-res:res;\n }\n \n public double nextDouble(){return Double.parseDouble(next());}\n \n public int[] nextIntArray(int n){\n  int[] a=new int[n];\n  for(int i=0;i<n;i++) a[i]=nextInt();\n  return a;\n }\n \n public long[] nextLongArray(int n){\n  long[] a=new long[n];\n  for(int i=0;i<n;i++) a[i]=nextLong();\n  return a;\n }\n \n public char[][] nextCharMap(int n,int m){\n  char[][] map=new char[n][m];\n  for(int i=0;i<n;i++) map[i]=next().toCharArray();\n  return map;\n }\n}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main {\n\tchar[] a;\n\tint n;\n\t\n\tvoid J(){\n\t\tchar b = a[n-1];\n\t\tfor(int i=n-1;i>0;i--) a[i] = a[i-1];\n\t\ta[0] = b;\n\t}\n\t\n\tvoid C(){\n\t\tchar b = a[0];\n\t\tfor(int i=0;i<n-1;i++) a[i] = a[i+1];\n\t\ta[n-1] = b;\n\t}\n\t\n\tvoid E(){\n\t\tchar[] b = new char[n];\n\t\tint s = n/2;\n\t\tint t = n%2;\n\t\tfor(int i=0;i<s;i++) b[i] = a[s+t+i];\t\n\t\tfor(int i=0;i<s;i++) b[s+t+i] = a[i];\n\t\tif(t==1) b[s] = a[s];\n\t\ta = b.clone();\n\t}\n\t\n\tvoid A(){\n\t\tchar[] b = new char[n];\n\t\tfor(int i=0;i<n;i++) b[i] = a[n-1-i];\n\t\ta = b.clone();\n\t}\n\t\n\tvoid P(){\n\t\tfor(int i=0;i<n;i++){\n\t\t\tif(a[i]=='0') a[i] = '9';\n\t\t\telse if(a[i]>=49 && a[i]<=57) a[i]--;\n\t\t}\n\t}\n\t\n\tvoid M(){\n\t\tfor(int i=0;i<n;i++){\n\t\t\tif(a[i]=='9') a[i] = '0';\n\t\t\telse if(a[i]>=48 && a[i]<=56) a[i]++;\n\t\t}\n\t}\n\t\n\tvoid solve(){\n\t\tScanner sc = new Scanner(System.in);\n\t\twhile(sc.hasNext()){\n\t\t\tint m = sc.nextInt();\n\t\t\tfor(int i=0;i<m;i++){\n\t\t\t\tchar[] c = sc.next().toCharArray();\n\t\t\t\ta = sc.next().toCharArray();\n\t\t\t\tn = a.length;\n\t\t\t\tfor(int j=c.length-1;j>=0;j--){\n\t\t\t\t\tif(c[j]=='J') J();\n\t\t\t\t\telse if(c[j]=='C') C();\n\t\t\t\t\telse if(c[j]=='E') E();\n\t\t\t\t\telse if(c[j]=='A') A();\n\t\t\t\t\telse if(c[j]=='P') P();\t\n\t\t\t\t\telse M();\n\t\t\t\t}\n\t\t\t\tfor(int j=0;j<n;j++) System.out.print(a[j]);\n\t\t\t\tSystem.out.println();\n\t\t\t}\n\t\t}\n\t}\n\t\n\tpublic static void main(String[] args) {\n\t\tnew Main().solve();\t\n\t}\t\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\n\n//Unreliable Message\npublic class Main{\n\n\tString J(String s){\n\t\treturn s.charAt(s.length()-1)+s.substring(0, s.length()-1);\n\t}\n\tString C(String s){\n\t\treturn s.substring(1)+s.charAt(0);\n\t}\n\tString E(String s){\n\t\treturn s.length()%2==0?s.substring(s.length()/2, s.length())+s.substring(0, s.length()/2):\n\t\t\ts.substring(s.length()/2+1, s.length())+s.charAt(s.length()/2)+s.substring(0, s.length()/2);\n\t}\n\tString A(String s){\n\t\treturn new StringBuilder(s).reverse().toString();\n\t}\n\tString P(String s){\n\t\tString res = \"\";\n\t\tfor(char c:s.toCharArray()){\n\t\t\tif(!Character.isDigit(c))res+=c;\n\t\t\telse res += (char)((c-'0'+9)%10+'0');\n\t\t}\n\t\treturn res;\n\t}\n\tString M(String s){\n\t\tString res = \"\";\n\t\tfor(char c:s.toCharArray()){\n\t\t\tif(!Character.isDigit(c))res+=c;\n\t\t\telse res += (char)((c-'0'+1)%10+'0');\n\t\t}\n\t\treturn res;\n\t}\n\t\n\tvoid run(){\n\t\tScanner sc = new Scanner(System.in);\n\t\tint t = sc.nextInt();\n\t\twhile(t--!=0){\n\t\t\tchar[] c = sc.next().toCharArray();\n\t\t\tString s = sc.next();\n\t\t\tfor(int i=c.length-1;i>=0;i--)s=c[i]=='J'?J(s):c[i]=='C'?C(s):c[i]=='E'?E(s):c[i]=='A'?A(s):c[i]=='P'?P(s):M(s);\n\t\t\tSystem.out.println(s);\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.InputStream;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Comparator;\nimport java.util.InputMismatchException;\nimport java.util.NoSuchElementException;\nimport java.math.BigInteger;\n\npublic class Main{\n\nstatic PrintWriter out;\nstatic InputReader ir;\n\nstatic void solve(){\n int n=ir.nextInt();\n char[] com;\n String s;\n while(n-->0){\n  com=ir.next().toCharArray();\n  s=ir.next();\n  for(int i=0;i<com.length;i++){\n   if(com[i]=='J') J(s);\n   else if(com[i]=='C') C(s);\n   else if(com[i]=='E') E(s);\n   else if(com[i]=='A') A(s);\n   else if(com[i]=='P') P(s);\n   else M(s);\n  }\n  out.println(s);\n }\n}\n\npublic static void J(String s){\n s=s.substring(1)+s.substring(0,1);\n}\n\npublic static void C(String s){\n s=s.substring(s.length()-1)+s.substring(0,s.length()-1);\n}\n\npublic static void E(String s){\n if(s.length()%2==0){\n  s=s.substring(s.length()/2)+s.substring(0,s.length()/2);\n }\n else{\n  s=s.substring((s.length()+1)/2)+s.substring((s.length()-1)/2,(s.length()+1)/2)+s.substring(0,(s.length()-1)/2);\n }\n}\n\npublic static void A(String s){\n s=new StringBuilder(s).reverse().toString();\n}\n\npublic static void P(String s){\n char[] ss=s.toCharArray();\n for(int i=0;i<s.length();i++){\n  if(!(ss[i]>='0'&&ss[i]<='9')) continue;\n  if(ss[i]=='9') ss[i]='0';\n  else ss[i]++;\n }\n s=String.valueOf(ss);\n}\n\npublic static void M(String s){\n char[] ss=s.toCharArray();\n for(int i=0;i<s.length();i++){\n  if(!(ss[i]>='0'&&ss[i]<='9')) continue;\n  if(ss[i]=='0') ss[i]='9';\n  else ss[i]--;\n }\n s=String.valueOf(ss);\n}\n\npublic static void main(String[] args) throws Exception{\n ir=new InputReader(System.in);\n out=new PrintWriter(System.out);\n solve();\n out.flush();\n}\n\nstatic class InputReader {\n private InputStream in;\n private byte[] buffer=new byte[1024];\n private int curbuf;\n private int lenbuf;\n\n public InputReader(InputStream in) {this.in=in; this.curbuf=this.lenbuf=0;}\n \n public boolean hasNextByte() {\n  if(curbuf>=lenbuf){\n   curbuf= 0;\n   try{\n    lenbuf=in.read(buffer);\n   }catch(IOException e) {\n    throw new InputMismatchException();\n   }\n   if(lenbuf<=0) return false;\n  }\n  return true;\n }\n\n private int readByte(){if(hasNextByte()) return buffer[curbuf++]; else return -1;}\n \n private boolean isSpaceChar(int c){return !(c>=33&&c<=126);}\n \n private void skip(){while(hasNextByte()&&isSpaceChar(buffer[curbuf])) curbuf++;}\n \n public boolean hasNext(){skip(); return hasNextByte();}\n \n public String next(){\n  if(!hasNext()) throw new NoSuchElementException();\n  StringBuilder sb=new StringBuilder();\n  int b=readByte();\n  while(!isSpaceChar(b)){\n   sb.appendCodePoint(b);\n   b=readByte();\n  }\n  return sb.toString();\n }\n \n public int nextInt() {\n  if(!hasNext()) throw new NoSuchElementException();\n  int c=readByte();\n  while (isSpaceChar(c)) c=readByte();\n  boolean minus=false;\n  if (c=='-') {\n   minus=true;\n   c=readByte();\n  }\n  int res=0;\n  do{\n   if(c<'0'||c>'9') throw new InputMismatchException();\n   res=res*10+c-'0';\n   c=readByte();\n  }while(!isSpaceChar(c));\n  return (minus)?-res:res;\n }\n \n public long nextLong() {\n  if(!hasNext()) throw new NoSuchElementException();\n  int c=readByte();\n  while (isSpaceChar(c)) c=readByte();\n  boolean minus=false;\n  if (c=='-') {\n   minus=true;\n   c=readByte();\n  }\n  long res = 0;\n  do{\n   if(c<'0'||c>'9') throw new InputMismatchException();\n   res=res*10+c-'0';\n   c=readByte();\n  }while(!isSpaceChar(c));\n  return (minus)?-res:res;\n }\n\n public double nextDouble(){return Double.parseDouble(next());}\n\n public int[] nextIntArray(int n){\n  int[] a=new int[n];\n  for(int i=0;i<n;i++) a[i]=nextInt();\n  return a;\n }\n\n public long[] nextLongArray(int n){\n  long[] a=new long[n];\n  for(int i=0;i<n;i++) a[i]=nextLong();\n  return a;\n }\n\n public char[][] nextCharMap(int n,int m){\n  char[][] map=new char[n][m];\n  for(int i=0;i<n;i++) map[i]=next().toCharArray();\n  return map;\n }\n}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main {\n\tchar[] a;\n\tint n;\n\t\n\tvoid J(){\n\t\tchar b = a[n-1];\n\t\tfor(int i=n-1;i>0;i--) a[i] = a[i-1];\n\t\ta[0] = b;\n\t}\n\t\n\tvoid C(){\n\t\tchar b = a[0];\n\t\tfor(int i=0;i<n-1;i++) a[i] = a[i+1];\n\t\ta[n-1] = b;\n\t}\n\t\n\tvoid E(){\n\t\tchar[] b = new char[n];\n\t\tint s = n/2;\n\t\tint t = n%2;\n\t\tfor(int i=0;i<s;i++) b[i] = a[s+t+i];\t\n\t\tfor(int i=0;i<s;i++) b[s+t+i] = a[i];\n\t\tif(t==1) b[s] = a[s];\n\t\ta = b.clone();\n\t}\n\t\n\tvoid A(){\n\t\tchar[] b = new char[n];\n\t\tfor(int i=0;i<n;i++) b[i] = a[n-1-i];\n\t\ta = b.clone();\n\t}\n\t\n\tvoid P(){\n\t\tfor(int i=0;i<n;i++){\n\t\t\tif(a[i]=='9') a[i] = '0';\n\t\t\telse if(a[i]>=48 && a[i]<=56) a[i]--;\n\t\t}\n\t}\n\t\n\tvoid M(){\n\t\tfor(int i=0;i<n;i++){\n\t\t\tif(a[i]=='0') a[i] = '9';\n\t\t\telse if(a[i]>=49 && a[i]<=57) a[i]++;\n\t\t}\n\t}\n\t\n\tvoid solve(){\n\t\tScanner sc = new Scanner(System.in);\n\t\twhile(sc.hasNext()){\n\t\t\tint m = sc.nextInt();\n\t\t\tfor(int i=0;i<m;i++){\n\t\t\t\tchar[] c = sc.next().toCharArray();\n\t\t\t\ta = sc.next().toCharArray();\n\t\t\t\tn = a.length;\n\t\t\t\tfor(int j=c.length-1;j>=0;j--){\n\t\t\t\t\tif(c[j]=='J') J();\n\t\t\t\t\telse if(c[j]=='C') C();\n\t\t\t\t\telse if(c[j]=='E') E();\n\t\t\t\t\telse if(c[j]=='A') A();\n\t\t\t\t\telse if(c[j]=='P') P();\t\n\t\t\t\t\telse M();\n\t\t\t\t}\n\t\t\t\tfor(int j=0;j<n;j++) System.out.print(a[j]);\n\t\t\t\tSystem.out.println();\n\t\t\t}\n\t\t}\n\t}\n\t\n\tpublic static void main(String[] args) {\n\t\tnew Main().solve();\t\n\t}\t\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\nclass Main{\n\tpublic static void main(String[] args){\n\t\tScanner s=new Scanner(System.in);\n\t\tint a=s.nextInt();\n\t\tfor(int i=0;i<a;i++){\n\t\t\tString command=s.next();\n\t\t\tString str=s.next();\n\t\t\tfor(int j=command.length()-1;j>=0;j--){\n\t\t\t\tswitch(command.charAt(j)){\n\t\t\t\t\tcase 'J':\n\t\t\t\t\t\tstr=str.charAt(str.length()-1)+str.substring(0,str.length()-1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'C':\n\t\t\t\t\t\tstr=str.substring(1)+str.charAt(0);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'E':\n\t\t\t\t\t\tif(str.length()%2==0)\n\t\t\t\t\t\t\tstr=str.substring(str.length()/2)+str.substring(0,str.length()/2);\n\t\t\t\t\t\telse str=str.substring(str.length()/2+1)+str.charAt(str.length()/2)+str.substring(0,str.length()/2);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'A':\n\t\t\t\t\t\tString n=\"\";\n\t\t\t\t\t\tfor(int k=str.length()-1;k>=0;k--)n+=str.charAt(k);\n\t\t\t\t\t\tstr=n;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'P':\n\t\t\t\t\t\tfor(int k=0;k<str.length();k++){\n\t\t\t\t\t\t\tif('1'<=str.charAt(k)&&str.charAt(k)<='9'){\n\t\t\t\t\t\t\t\tstr=str.substring(0,k)+(char)(str.charAt(k)-1)+str.substring(k+1);\n\t\t\t\t\t\t\t}else if(str.charAt(k)=='0')str=str.substring(0,k)+'9'+str.substring(k+1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'M':\n\t\t\t\t\t\tfor(int k=0;k<str.length();k++){\n\t\t\t\t\t\t\tif('0'<=str.charAt(k)&&str.charAt(k)<='8'){\n\t\t\t\t\t\t\t\tstr=str.substring(0,k)+(char)(str.charAt(k)+1)+str.substring(k+1);\n\t\t\t\t\t\t\t}else if(str.charAt(k)=='9')str=str.substring(0,k)+'0'+str.substring(k+1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(str);\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException;\nimport java.util.InputMismatchException;\n\npublic class Main {\n\tvoid run() {\n\t\tMyScanner sc = new MyScanner();\n\n\t\tfor (int T = sc.nextInt() - 1; 0 <= T; T--) {\n\t\t\tchar[] q = new StringBuilder(sc.next()).reverse().toString().toCharArray();\n\t\t\tchar[] s = sc.next().toCharArray();\n\n\t\t\tint n = q.length;\n\t\t\tint m = s.length;\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\tif (q[i] == 'C') {\n\t\t\t\t\tint tmp = s[0];\n\t\t\t\t\tfor (int j = 0; j < m - 1; j++) {\n\t\t\t\t\t\ts[j] = s[j + 1];\n\t\t\t\t\t}\n\t\t\t\t\ts[m - 1] = (char)tmp;\n\t\t\t\t}\n\t\t\t\tif (q[i] == 'J') {\n\t\t\t\t\tint tmp = s[m - 1];\n\t\t\t\t\tfor (int j = m - 1; 0 < j; j--) {\n\t\t\t\t\t\ts[j] = s[j - 1];\n\t\t\t\t\t}\n\t\t\t\t\ts[0] = (char)tmp;\n\t\t\t\t}\n\t\t\t\tif (q[i] == 'E') {\n\t\t\t\t\tint k = m % 2 == 0 ? 0 : 1;\n\t\t\t\t\tfor (int j = 0; j < m / 2; j++) {\n\t\t\t\t\t\tint tmp = s[j];\n\t\t\t\t\t\ts[j] = s[j + m / 2 + k];\n\t\t\t\t\t\ts[j + m / 2 + k] = (char)tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (q[i] == 'A') {\n\t\t\t\t\tfor (int j = 0; j < m / 2; j++) {\n\t\t\t\t\t\tint tmp = s[j];\n\t\t\t\t\t\ts[j] = s[m - j - 1];\n\t\t\t\t\t\ts[m - j - 1] = (char)tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (q[i] == 'M') {\n\t\t\t\t\tfor (int j = 0; j < m; j++) {\n\t\t\t\t\t\tif ('0' <= s[j] && s[j] <= '8') s[j]++;\n\t\t\t\t\t\tif (s[j] == '9') s[j] = '0';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (q[i] == 'P') {\n\t\t\t\t\tfor (int j = 0; j < m; j++) {\n\t\t\t\t\t\tif ('1' <= s[j] && s[j] <= '9') s[j]--;\n\t\t\t\t\t\tif (s[j] == '0') s[j] = '9';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(s);\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n\n\tpublic void mapDebug(int[][] a) {\n\t\tSystem.out.println(\"--------map display---------\");\n\t\tfor (int i = 0; i < a.length; i++) {\n\t\t\tfor (int j = 0; j < a[i].length; j++) {\n\t\t\t\tSystem.out.printf(\"%3d \", a[i][j]);\n\t\t\t}\n\t\t\tSystem.out.println();\n\t\t}\n\t\tSystem.out.println(\"----------------------------\" + '\\n');\n\t}\n\n\tclass MyScanner {\n\t\tint read() {\n\t\t\ttry {\n\t\t\t\treturn System.in.read();\n\t\t\t} catch (IOException e) {\n\t\t\t\tthrow new InputMismatchException();\n\t\t\t}\n\t\t}\n\n\t\tboolean isSpaceChar(int c) {\n\t\t\treturn c == ' ' || c == '\\n' || c == '\\r' || c == '\\t' || c == -1;\n\t\t}\n\n\t\tboolean isEndline(int c) {\n\t\t\treturn c == '\\n' || c == '\\r' || c == -1;\n\t\t}\n\n\t\tint nextInt() {\n\t\t\treturn Integer.parseInt(next());\n\t\t}\n\n\t\tint[] nextIntArray(int n) {\n\t\t\tint[] array = new int[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\tarray[i] = nextInt();\n\t\t\treturn array;\n\t\t}\n\n\t\tlong nextLong() {\n\t\t\treturn Long.parseLong(next());\n\t\t}\n\n\t\tlong[] nextLongArray(int n) {\n\t\t\tlong[] array = new long[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\tarray[i] = nextLong();\n\t\t\treturn array;\n\t\t}\n\n\t\tdouble nextDouble() {\n\t\t\treturn Double.parseDouble(next());\n\t\t}\n\n\t\tdouble[] nextDoubleArray(int n) {\n\t\t\tdouble[] array = new double[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\tarray[i] = nextDouble();\n\t\t\treturn array;\n\t\t}\n\n\t\tString next() {\n\t\t\tint c = read();\n\t\t\twhile (isSpaceChar(c))\n\t\t\t\tc = read();\n\t\t\tStringBuilder res = new StringBuilder();\n\t\t\tdo {\n\t\t\t\tres.appendCodePoint(c);\n\t\t\t\tc = read();\n\t\t\t} while (!isSpaceChar(c));\n\t\t\treturn res.toString();\n\t\t}\n\n\t\tString[] nextStringArray(int n) {\n\t\t\tString[] array = new String[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\tarray[i] = next();\n\n\t\t\treturn array;\n\t\t}\n\n\t\tString nextLine() {\n\t\t\tint c = read();\n\t\t\twhile (isEndline(c))\n\t\t\t\tc = read();\n\t\t\tStringBuilder res = new StringBuilder();\n\t\t\tdo {\n\t\t\t\tres.appendCodePoint(c);\n\t\t\t\tc = read();\n\t\t\t} while (!isEndline(c));\n\t\t\treturn res.toString();\n\t\t}\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\n\npublic class Main {\n\n\tScanner sc = new Scanner(System.in);\n\tpublic void run() {\n\t\tint n = sc.nextInt();\n\t\tsc.nextLine();\n\t\tfor(int i=0; i<n;i++){\n\t\t\tString order = sc.nextLine();\n\t\t\tString message = sc.nextLine();\n\t\t\tcalc(order, message);\n\t\t}\n\t}\n\tpublic void calc(String order, String message){\n\t\tif(order.equals(\"\")) System.out.println(message);\n\t\telse{\n\t\t\tString person = order.substring(order.length() - 1);\n\t\t\tif(person.equals(\"J\")){\n\t\t\t\tString me = message.substring(message.length()-1) + message.substring(0, message.length() - 1);\n\t\t\t\tmessage = me;\n\t\t\t}\n\t\t\telse if(person.equals(\"C\")){\n\t\t\t\tString me = message.substring(1) + message.substring(0, 1);\n\t\t\t\tmessage = me;\n\t\t\t}\n\t\t\telse if(person.equals(\"E\")){\n\t\t\t\tint half = message.length() / 2;\n\t\t\t\tString me = message.substring(message.length()-half) \n\t\t\t\t\t\t+ message.substring(half, message.length()-half) \n\t\t\t\t\t\t+ message.substring(0, half);\n\t\t\t\tmessage = me;\n\t\t\t}\n\t\t\telse if(person.equals(\"A\")){\n\t\t\t\tString me = reverse(message, \"\");\n\t\t\t\tmessage = me;\n\t\t\t}\n\t\t\telse if(person.equals(\"P\")){\n\t\t\t\tString me = addNum(message, -1);\n\t\t\t\tmessage = me;\n\t\t\t}\n\t\t\telse if(person.equals(\"M\")){\n\t\t\t\tString me = addNum(message, 1);\n\t\t\t\tmessage = me;\n\t\t\t}\n\t\t\tcalc(order.substring(0, order.length()-1), message);\n\t\t}\n\t}\n\tpublic String reverse(String s, String ans){\n\t\tif(s.equals(\"\")) return ans;\n\t\telse{\n\t\t\tans = ans + s.substring(s.length()-1);\n\t\t\treturn reverse(s.substring(0, s.length()-1), ans);\n\t\t}\n\t}\n\tpublic String addNum(String message, int n){\n\t\tfor(int i = 0; i < message.length(); i++){\n\t\t\tString c = message.substring(i, i+1);\n\t\t\tif(c.equals(\"0\")) message = message.substring(0,i) + addN(0,n) + message.substring(i+1);\n\t\t\telse if(c.equals(\"1\")) message = message.substring(0,i) + addN(1,n) + message.substring(i+1);\n\t\t\telse if(c.equals(\"2\")) message = message.substring(0,i) + addN(2,n) + message.substring(i+1);\n\t\t\telse if(c.equals(\"3\")) message = message.substring(0,i) + addN(3,n) + message.substring(i+1);\n\t\t\telse if(c.equals(\"4\")) message = message.substring(0,i) + addN(4,n) + message.substring(i+1);\n\t\t\telse if(c.equals(\"5\")) message = message.substring(0,i) + addN(5,n) + message.substring(i+1);\n\t\t\telse if(c.equals(\"6\")) message = message.substring(0,i) + addN(6,n) + message.substring(i+1);\n\t\t\telse if(c.equals(\"7\")) message = message.substring(0,i) + addN(7,n) + message.substring(i+1);\n\t\t\telse if(c.equals(\"8\")) message = message.substring(0,i) + addN(8,n) + message.substring(i+1);\n\t\t\telse if(c.equals(\"9\")) message = message.substring(0,i) + addN(9,n) + message.substring(i+1);\n\t\t}\n\t\treturn message;\n\t}\n\tpublic String addN(int m, int n){\n\t\tint ans = m + n;\n\t\tif(ans > 10) ans = ans - 10;\n\t\treturn Integer.toString(ans);\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\n\npublic class Main{\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        Scanner sc=new Scanner(System.in);\n        int N = sc.nextInt();   \n        while(N-->0){\n            String s = sc.next();\n            String t = sc.next();\n            for (int i = 0; i < s.length(); i++) {\n                char c = s.charAt(s.length()-i-1);\n                switch(c){\n                case 'J':\n                    t=J(t);\n                    break;\n                case 'C':\n                    t=C(t);\n                    break;\n                case 'E':\n                    t=E(t);\n                    break;\n                case 'A':\n                    t=A(t);\n                    break;\n                    \n                case 'P':\n                    t=P(t);\n                    break;\n                case 'M':\n                    t=M(t);\n                    break;\n                }\n            }\n            System.out.println(t);\n        }\n    }\n\n    private static String M(String t) {\n        char[] s = t.toCharArray();\n        for (int i = 0; i < s.length; i++) {\n            if(Character.isDigit(s[i])){\n                s[i]++;\n                if(s[i]=='9'+1){\n                    s[i]='0';\n                }\n            }\n        }\n        return new String(s);\n    }\n\n    private static String P(String t) {\n        char[] s = t.toCharArray();\n        for (int i = 0; i < s.length; i++) {\n            if(Character.isDigit(s[i])){\n                s[i]--;\n                if(s[i]=='0'-1){\n                    s[i]='9';\n                }\n            }\n        }\n        return new String(s);\n    }\n\n    private static String A(String t) {\n        return new StringBuffer(t).reverse().toString();\n    }\n\n    private static String E(String t) {\n        if(t.length()%2==0){\n            return t.substring(t.length()/2)+t.substring(0,t.length()/2);\n        }\n        return t.substring(t.length()/2+1)+t.charAt(t.length()/2)+t.substring(0,t.length()/2);\n    }\n\n    private static String C(String t) {\n        char[] s = new char[t.length()];\n        for (int i = 1; i < t.length(); i++) {\n            s[i-1]=t.charAt(i);\n        }\n        s[s.length-1]=t.charAt(0);\n        return new String(s);\n    }\n\n    private static String J(String t) {\n        char[] s = new char[t.length()];\n        for (int i = 0; i < t.length()-1; i++) {\n            s[i+1]=t.charAt(i);\n        }\n        s[0]=t.charAt(t.length()-1);\n        return new String(s);\n    }\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\n\n\npublic class Main {\n        public static void main(String[] args){\n                Scanner sn = new Scanner(System.in);\n                int n = sn.nextInt();\n                for(int i = 0; i < n; i++){\n                        System.out.println( decode(sn.next(),  sn.next()));\n                }\n        }\n\n        static Message decode(String order, String msg){\n        \tMessage m = new Message(msg);\n        \torder = shorterOrder(order);\n            for(int i = order.length()-1; i >= 0; i--){\n                    switch(order.charAt(i)){\n                        case 'J': m = m.c(); break;\n                        case 'C': m = m.j(); break;\n                        case 'E': m = m.e(); break;\n                        case 'A': m = m.a(); break;\n                        case 'P': m = m.m(); break;\n                        case 'M': m = m.p(); break;\n                    }\n            }\n            return m;\n        }\n        \n        static String shorterOrder(String order){\n        \treturn order.replaceAll(\"JC|CJ|PM|MP|AA\", \"\");\n        }\n}\n\nclass Message{\n        private String s;\n        private static char[] updigits = {'1', '2', '3', '4', '5', '6', '7', '8', '9', '0'};\n        private static char[] lowdigits = {'9', '0', '1', '2', '3', '4', '5', '6', '7', '8'};\n        public String toString(){\n                return s;\n        }\n\n        Message(String s){\n                this.s = s;\n        }\n\n        Message j(){\n                return new Message(s.substring(1)+s.charAt(0));\n        }\n\n        Message c(){\n                return new Message(s.charAt(s.length()-1)+s.substring(0, s.length()-1));\n        }\n\n        Message e(){\n                int half = s.length()/2;\n                return  (s.length()%2==0)? new Message( s.substring(s.length()-half, s.length()) + s.substring(0, half)):\n                        new Message( s.substring(s.length()-half, s.length()) + s.charAt(half) + s.substring(0, half));\n        }\n\n        Message a(){\n                return new Message(new StringBuffer(s).reverse().toString());\n        }\n\n        Message p(){\n                String ns = \"\";\n                for(int i = 0; i < s.length(); i++){\n                        ns += (s.charAt(i) >= '0' && s.charAt(i) <= '9')? updigits[s.charAt(i)-'0']:\n                                s.charAt(i);\n                }\n                return new Message(ns);\n        }\n\n        Message m(){\n                String ns = \"\";\n                for(int i = 0; i < s.length(); i++){\n                        ns += (s.charAt(i) >= '0' && s.charAt(i) <= '9')? lowdigits[s.charAt(i)-'0']:\n                                s.charAt(i);\n                }\n                return new Message(ns);\n        }\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\nclass Main{\n\tpublic static void main(ping[] args){\n\t\tScanner s=new Scanner(System.in);\n\t\tint a=s.nextInt();\n\t\tfor(int i=0;i<a;i++){\n\t\t\tping command=s.next();\n\t\t\tString str=s.next();\n\t\t\tfor(int j=command.length()-1;j>=0;j--){\n\t\t\t\tswitch(command.charAt(j)){\n\t\t\t\t\tcase 'J':\n\t\t\t\t\t\tstr=str.charAt(str.length()-1)+str.substring(0,str.length()-1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'C':\n\t\t\t\t\t\tstr=str.substring(1)+str.charAt(0);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'E':\n\t\t\t\t\t\tif(str.length()%2==0)\n\t\t\t\t\t\t\tstr=str.substring(str.length()/2)+str.substring(0,str.length()/2);\n\t\t\t\t\t\telse str=str.substring(str.length()/2+1)+str.charAt(str.length()/2)+str.substring(0,str.length()/2);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'A':\n\t\t\t\t\t\tString n=\"\";\n\t\t\t\t\t\tfor(int k=str.length()-1;k>=0;k--)n+=str.charAt(k);\n\t\t\t\t\t\tstr=n;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'P':\n\t\t\t\t\t\tfor(int k=0;k<str.length();k++){\n\t\t\t\t\t\t\tif('1'<=str.charAt(k)&&str.charAt(k)<='9'){\n\t\t\t\t\t\t\t\tstr=str.substring(0,k)+(char)(str.charAt(k)-1)+str.substring(k+1);\n\t\t\t\t\t\t\t}else if(str.charAt(k)=='0')str=str.substring(0,k)+'9'+str.substring(k+1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'M':\n\t\t\t\t\t\tfor(int k=0;k<str.length();k++){\n\t\t\t\t\t\t\tif('0'<=str.charAt(k)&&str.charAt(k)<='8'){\n\t\t\t\t\t\t\t\tstr=str.substring(0,k)+(char)(str.charAt(k)+1)+str.substring(k+1);\n\t\t\t\t\t\t\t}else if(str.charAt(k)=='9')str=str.substring(0,k)+'0'+str.substring(k+1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(str);\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.InputStream;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Comparator;\nimport java.util.InputMismatchException;\nimport java.util.NoSuchElementException;\nimport java.math.BigInteger;\n\npublic class Main{\n\nstatic PrintWriter out;\nstatic InputReader ir;\n\nstatic void solve(){\n int n=ir.nextInt();\n while(n-->0){\n  char[] com=new StringBuilder(ir.next()).reverse().toString().toCharArray();\n  String s=ir.next();\n  for(int i=0;i<com.length;i++){\n   if(com[i]=='J') J(s);\n   else if(com[i]=='C') C(s);\n   else if(com[i]=='E') E(s);\n   else if(com[i]=='A') A(s);\n   else if(com[i]=='P') P(s);\n   else M(s);\n  }\n  out.println(s);\n }\n}\n\npublic static void C(String s){\n s=s.substring(1)+s.substring(0,1);\n}\n\npublic static void J(String s){\n s=s.substring(s.length()-1)+s.substring(0,s.length()-1);\n}\n\npublic static void E(String s){\n if(s.length()%2==0){\n  s=s.substring(s.length()/2)+s.substring(0,s.length()/2);\n }\n else{\n  s=s.substring((s.length()+1)/2)+s.substring((s.length()-1)/2,(s.length()+1)/2)+s.substring(0,(s.length()-1)/2);\n }\n}\n\npublic static void A(String s){\n s=new StringBuilder(s).reverse().toString();\n}\n\npublic static void M(String s){\n char[] ss=s.toCharArray();\n for(int i=0;i<s.length();i++){\n  if(ss[i]>='0'&&ss[i]<='9'){\n   if(ss[i]=='9') ss[i]='0';\n   else ss[i]++;\n  }\n }\n s=String.valueOf(ss);\n}\n\npublic static void P(String s){\n char[] ss=s.toCharArray();\n for(int i=0;i<s.length();i++){\n  if(ss[i]>='0'&&ss[i]<='9'){\n   if(ss[i]=='0') ss[i]='9';\n   else ss[i]--;\n  }\n }\n s=String.valueOf(ss);\n}\n\npublic static void main(String[] args) throws Exception{\n ir=new InputReader(System.in);\n out=new PrintWriter(System.out);\n solve();\n out.flush();\n}\n\nstatic class InputReader {\n private InputStream in;\n private byte[] buffer=new byte[1024];\n private int curbuf;\n private int lenbuf;\n\n public InputReader(InputStream in) {this.in=in; this.curbuf=this.lenbuf=0;}\n \n public boolean hasNextByte() {\n  if(curbuf>=lenbuf){\n   curbuf= 0;\n   try{\n    lenbuf=in.read(buffer);\n   }catch(IOException e) {\n    throw new InputMismatchException();\n   }\n   if(lenbuf<=0) return false;\n  }\n  return true;\n }\n\n private int readByte(){if(hasNextByte()) return buffer[curbuf++]; else return -1;}\n \n private boolean isSpaceChar(int c){return !(c>=33&&c<=126);}\n \n private void skip(){while(hasNextByte()&&isSpaceChar(buffer[curbuf])) curbuf++;}\n \n public boolean hasNext(){skip(); return hasNextByte();}\n \n public String next(){\n  if(!hasNext()) throw new NoSuchElementException();\n  StringBuilder sb=new StringBuilder();\n  int b=readByte();\n  while(!isSpaceChar(b)){\n   sb.appendCodePoint(b);\n   b=readByte();\n  }\n  return sb.toString();\n }\n \n public int nextInt() {\n  if(!hasNext()) throw new NoSuchElementException();\n  int c=readByte();\n  while (isSpaceChar(c)) c=readByte();\n  boolean minus=false;\n  if (c=='-') {\n   minus=true;\n   c=readByte();\n  }\n  int res=0;\n  do{\n   if(c<'0'||c>'9') throw new InputMismatchException();\n   res=res*10+c-'0';\n   c=readByte();\n  }while(!isSpaceChar(c));\n  return (minus)?-res:res;\n }\n \n public long nextLong() {\n  if(!hasNext()) throw new NoSuchElementException();\n  int c=readByte();\n  while (isSpaceChar(c)) c=readByte();\n  boolean minus=false;\n  if (c=='-') {\n   minus=true;\n   c=readByte();\n  }\n  long res = 0;\n  do{\n   if(c<'0'||c>'9') throw new InputMismatchException();\n   res=res*10+c-'0';\n   c=readByte();\n  }while(!isSpaceChar(c));\n  return (minus)?-res:res;\n }\n\n public double nextDouble(){return Double.parseDouble(next());}\n\n public int[] nextIntArray(int n){\n  int[] a=new int[n];\n  for(int i=0;i<n;i++) a[i]=nextInt();\n  return a;\n }\n\n public long[] nextLongArray(int n){\n  long[] a=new long[n];\n  for(int i=0;i<n;i++) a[i]=nextLong();\n  return a;\n }\n\n public char[][] nextCharMap(int n,int m){\n  char[][] map=new char[n][m];\n  for(int i=0;i<n;i++) map[i]=next().toCharArray();\n  return map;\n }\n}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.InputStream;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Comparator;\nimport java.util.InputMismatchException;\nimport java.util.NoSuchElementException;\nimport java.math.BigInteger;\n\npublic class Main{\n\nstatic PrintWriter out;\nstatic InputReader ir;\n\nstatic void solve(){\n int n=ir.nextInt();\n while(n-->0){\n  char[] com=new StringBuilder(ir.next()).reverse().toString().toCharArray();\n  String s=ir.next();\n  for(int i=0;i<com.length;i++){\n   if(com[i]=='J') J(s);\n   else if(com[i]=='C') C(s);\n   else if(com[i]=='E') E(s);\n   else if(com[i]=='A') A(s);\n   else if(com[i]=='P') P(s);\n   else M(s);\n  }\n  out.println(s);\n }\n}\n\npublic static void C(String s){\n s=s.substring(1)+s.substring(0,1);\n}\n\npublic static void J(String s){\n s=s.substring(s.length()-1)+s.substring(0,s.length()-1);\n}\n\npublic static void E(String s) {\n int d;\n char[] ss=s.toCharArray();\n if(ss.length%2==0) d=0;\n else d=1;\n for(int i=0;i<ss.length/2;i++) {\n  int j=i+(ss.length/2)+d;\n  char c1=ss[i];\n  char c2=ss[j];\n  ss[i]=c2;\n  ss[j]=c1;\n }\n s=String.valueOf(ss);\n}\n\npublic static void A(String s){\n s=new StringBuilder(s).reverse().toString();\n}\n\npublic static void M(String s){\n char[] ss=s.toCharArray();\n for(int i=0;i<s.length();i++){\n  if(ss[i]>='0'&&ss[i]<='9'){\n   if(ss[i]=='9') ss[i]='0';\n   else ss[i]++;\n  }\n }\n s=String.valueOf(ss);\n}\n\npublic static void P(String s){\n char[] ss=s.toCharArray();\n for(int i=0;i<s.length();i++){\n  if(ss[i]>='0'&&ss[i]<='9'){\n   if(ss[i]=='0') ss[i]='9';\n   else ss[i]--;\n  }\n }\n s=String.valueOf(ss);\n}\n\npublic static void main(String[] args) throws Exception{\n ir=new InputReader(System.in);\n out=new PrintWriter(System.out);\n solve();\n out.flush();\n}\n\nstatic class InputReader {\n private InputStream in;\n private byte[] buffer=new byte[1024];\n private int curbuf;\n private int lenbuf;\n\n public InputReader(InputStream in) {this.in=in; this.curbuf=this.lenbuf=0;}\n \n public boolean hasNextByte() {\n  if(curbuf>=lenbuf){\n   curbuf= 0;\n   try{\n    lenbuf=in.read(buffer);\n   }catch(IOException e) {\n    throw new InputMismatchException();\n   }\n   if(lenbuf<=0) return false;\n  }\n  return true;\n }\n\n private int readByte(){if(hasNextByte()) return buffer[curbuf++]; else return -1;}\n \n private boolean isSpaceChar(int c){return !(c>=33&&c<=126);}\n \n private void skip(){while(hasNextByte()&&isSpaceChar(buffer[curbuf])) curbuf++;}\n \n public boolean hasNext(){skip(); return hasNextByte();}\n \n public String next(){\n  if(!hasNext()) throw new NoSuchElementException();\n  StringBuilder sb=new StringBuilder();\n  int b=readByte();\n  while(!isSpaceChar(b)){\n   sb.appendCodePoint(b);\n   b=readByte();\n  }\n  return sb.toString();\n }\n \n public int nextInt() {\n  if(!hasNext()) throw new NoSuchElementException();\n  int c=readByte();\n  while (isSpaceChar(c)) c=readByte();\n  boolean minus=false;\n  if (c=='-') {\n   minus=true;\n   c=readByte();\n  }\n  int res=0;\n  do{\n   if(c<'0'||c>'9') throw new InputMismatchException();\n   res=res*10+c-'0';\n   c=readByte();\n  }while(!isSpaceChar(c));\n  return (minus)?-res:res;\n }\n \n public long nextLong() {\n  if(!hasNext()) throw new NoSuchElementException();\n  int c=readByte();\n  while (isSpaceChar(c)) c=readByte();\n  boolean minus=false;\n  if (c=='-') {\n   minus=true;\n   c=readByte();\n  }\n  long res = 0;\n  do{\n   if(c<'0'||c>'9') throw new InputMismatchException();\n   res=res*10+c-'0';\n   c=readByte();\n  }while(!isSpaceChar(c));\n  return (minus)?-res:res;\n }\n\n public double nextDouble(){return Double.parseDouble(next());}\n\n public int[] nextIntArray(int n){\n  int[] a=new int[n];\n  for(int i=0;i<n;i++) a[i]=nextInt();\n  return a;\n }\n\n public long[] nextLongArray(int n){\n  long[] a=new long[n];\n  for(int i=0;i<n;i++) a[i]=nextLong();\n  return a;\n }\n\n public char[][] nextCharMap(int n,int m){\n  char[][] map=new char[n][m];\n  for(int i=0;i<n;i++) map[i]=next().toCharArray();\n  return map;\n }\n}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException;\nimport java.util.InputMismatchException;\n\npublic class Main {\n\tvoid run() {\n\t\tMyScanner sc = new MyScanner();\n\n\t\tfor (int T = sc.nextInt() - 1; 0 <= T; T--) {\n\t\t\tchar[] q = new StringBuilder(sc.next()).reverse().toString().toCharArray();\n\t\t\tchar[] s = sc.next().toCharArray();\n\n\t\t\tint n = q.length;\n\t\t\tint m = s.length;\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\tif (q[i] == 'C') {\n\t\t\t\t\tint tmp = s[0];\n\t\t\t\t\tfor (int j = 0; j < m - 1; j++) {\n\t\t\t\t\t\ts[j] = s[j + 1];\n\t\t\t\t\t}\n\t\t\t\t\ts[m - 1] = (char)tmp;\n\t\t\t\t}\n\t\t\t\tif (q[i] == 'J') {\n\t\t\t\t\tint tmp = s[m - 1];\n\t\t\t\t\tfor (int j = m - 1; 0 < j; j--) {\n\t\t\t\t\t\ts[j] = s[j - 1];\n\t\t\t\t\t}\n\t\t\t\t\ts[0] = (char)tmp;\n\t\t\t\t}\n\t\t\t\tif (q[i] == 'E') {\n\t\t\t\t\tint k = m % 2 == 0 ? 0 : 1;\n\t\t\t\t\tfor (int j = 0; j < m / 2; j++) {\n\t\t\t\t\t\tint tmp = s[j];\n\t\t\t\t\t\ts[j] = s[j + m / 2 + k];\n\t\t\t\t\t\ts[j + m / 2 + k] = (char)tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (q[i] == 'A') {\n\t\t\t\t\tfor (int j = 0; j < m / 2; j++) {\n\t\t\t\t\t\tint tmp = s[j];\n\t\t\t\t\t\ts[j] = s[m - j - 1];\n\t\t\t\t\t\ts[m - j - 1] = (char)tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (q[i] == 'M') {\n\t\t\t\t\tfor (int j = 0; j < m; j++) {\n\t\t\t\t\t\tif ('0' <= s[j] && s[j] <= '8') s[j]++;\n\t\t\t\t\t\telse if (s[j] == '9') s[j] = '0';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (q[i] == 'P') {\n\t\t\t\t\tfor (int j = 0; j < m; j++) {\n\t\t\t\t\t\tif ('1' <= s[j] && s[j] <= '9') s[j]--;\n\t\t\t\t\t\telse if (s[j] == '0') s[j] = '9';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(s);\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n\n\tpublic void mapDebug(int[][] a) {\n\t\tSystem.out.println(\"--------map display---------\");\n\t\tfor (int i = 0; i < a.length; i++) {\n\t\t\tfor (int j = 0; j < a[i].length; j++) {\n\t\t\t\tSystem.out.printf(\"%3d \", a[i][j]);\n\t\t\t}\n\t\t\tSystem.out.println();\n\t\t}\n\t\tSystem.out.println(\"----------------------------\" + '\\n');\n\t}\n\n\tclass MyScanner {\n\t\tint read() {\n\t\t\ttry {\n\t\t\t\treturn System.in.read();\n\t\t\t} catch (IOException e) {\n\t\t\t\tthrow new InputMismatchException();\n\t\t\t}\n\t\t}\n\n\t\tboolean isSpaceChar(int c) {\n\t\t\treturn c == ' ' || c == '\\n' || c == '\\r' || c == '\\t' || c == -1;\n\t\t}\n\n\t\tboolean isEndline(int c) {\n\t\t\treturn c == '\\n' || c == '\\r' || c == -1;\n\t\t}\n\n\t\tint nextInt() {\n\t\t\treturn Integer.parseInt(next());\n\t\t}\n\n\t\tint[] nextIntArray(int n) {\n\t\t\tint[] array = new int[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\tarray[i] = nextInt();\n\t\t\treturn array;\n\t\t}\n\n\t\tlong nextLong() {\n\t\t\treturn Long.parseLong(next());\n\t\t}\n\n\t\tlong[] nextLongArray(int n) {\n\t\t\tlong[] array = new long[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\tarray[i] = nextLong();\n\t\t\treturn array;\n\t\t}\n\n\t\tdouble nextDouble() {\n\t\t\treturn Double.parseDouble(next());\n\t\t}\n\n\t\tdouble[] nextDoubleArray(int n) {\n\t\t\tdouble[] array = new double[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\tarray[i] = nextDouble();\n\t\t\treturn array;\n\t\t}\n\n\t\tString next() {\n\t\t\tint c = read();\n\t\t\twhile (isSpaceChar(c))\n\t\t\t\tc = read();\n\t\t\tStringBuilder res = new StringBuilder();\n\t\t\tdo {\n\t\t\t\tres.appendCodePoint(c);\n\t\t\t\tc = read();\n\t\t\t} while (!isSpaceChar(c));\n\t\t\treturn res.toString();\n\t\t}\n\n\t\tString[] nextStringArray(int n) {\n\t\t\tString[] array = new String[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\tarray[i] = next();\n\n\t\t\treturn array;\n\t\t}\n\n\t\tString nextLine() {\n\t\t\tint c = read();\n\t\t\twhile (isEndline(c))\n\t\t\t\tc = read();\n\t\t\tStringBuilder res = new StringBuilder();\n\t\t\tdo {\n\t\t\t\tres.appendCodePoint(c);\n\t\t\t\tc = read();\n\t\t\t} while (!isEndline(c));\n\t\t\treturn res.toString();\n\t\t}\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\nimport java.lang.StringBuffer;\n\npublic class Main {\n    void run() {\n        Scanner scan = new Scanner(System.in);\n\n        Integer i = scan.nextInt();\n        scan.nextLine();\n\n        for (; i > 0; i--) {\n            String name = scan.nextLine();\n            String line = scan.nextLine();\n            for (Integer j = name.length() - 1; j >= 0; j--) {\n                switch (name.charAt(j)) {\n                case 'A':\n                    line = a(line);\n                    break;\n                case 'C':\n                    line = c(line);\n                    break;\n                case 'J':\n                    line = j(line);\n                    break;\n                case 'E':\n                    line = e(line);\n                    break;\n                case 'P':\n                    line = p(line);\n                    break;\n                case 'M':\n                    line = m(line);\n                    break;\n                }\n            }\n            System.out.println(line);\n        }\n    }\n\n    String j(String line) {\n        if (line.length() == 1)\n            return line;\n        String line2 = line;\n        String line3 = line;\n        line = line3.substring(line.length() - 1, line.length()) + line2.substring(0, line.length() - 1);\n        return line;\n    }\n\n    String c(String line) {\n        if (line.length() == 1)\n            return line;\n        String line2 = line;\n        String line3 = line;\n        line = line3.substring(1, line.length()) + line2.substring(0, 1);\n        return line;\n    }\n\n    String e(String line) {\n        if (line.length() == 1)\n            return line;\n        if (line.length() % 2 == 1) {\n            line = line.substring(line.length() / 2 + 1, line.length())\n                    + line.substring(line.length() / 2, line.length() / 2 + 1) + line.substring(0, line.length() / 2);\n        } else {\n            line = line.substring(line.length() / 2, line.length()) + line.substring(0, line.length() / 2);\n        }\n        return line;\n    }\n\n    String a(String line) {\n        if (line.length() == 1)\n            return line;\n        StringBuffer rine = new StringBuffer();\n        for (Integer i = line.length(); i > 0; i--) {\n            rine.append(line.substring(i - 1, i));\n        }\n        return rine.toString();\n    }\n\n    String p(String line) {\n        StringBuffer rine = new StringBuffer();\n        for (Integer i = 0; i < line.length(); i++) {\n            try {\n                Integer tmp = Integer.valueOf(line.substring(i, i + 1));\n                tmp--;\n                if (tmp == -1)\n                    tmp = 9;\n                rine.append(tmp.toString());\n            } catch (NumberFormatException a) {\n                rine.append(line.substring(i, i + 1));\n                // TODO: handle exception\n            }\n        }\n        return rine.toString();\n    }\n\n    String m(String line) {\n        StringBuffer rine = new StringBuffer();\n        for (Integer i = 0; i < line.length(); i++) {\n            try {\n                Integer tmp = Integer.valueOf(line.substring(i, i + 1));\n                tmp++;\n                if (tmp == 10)\n                    tmp = 0;\n                rine.append(tmp.toString());\n            } catch (NumberFormatException a) {\n                rine.append(line.substring(i, i + 1));\n                // TODO: handle exception\n            }\n        }\n        return rine.toString();\n    }\n\n    public static void main(String[] args) {\n        Main printer = new Main();\n        printer.run();\n    }\n}\n\n"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException;\nimport java.io.PrintWriter;\nimport java.util.ArrayDeque;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.HashMap;\nimport java.util.HashSet;\nimport java.util.NoSuchElementException;\nimport java.util.Objects;\nimport java.util.PriorityQueue;\nimport java.util.Queue;\nimport java.util.Random;\nimport java.util.Scanner;\nimport java.util.Set;\nimport java.util.Stack;\nimport java.util.TreeMap;\nimport java.util.TreeSet;\nimport java.util.function.BiFunction;\n\npublic class Main{\n\tstatic Scanner scn = new Scanner(System.in);\n\tstatic FastScanner sc = new FastScanner();\n\tstatic Mathplus mp = new Mathplus();\n\tstatic PrintWriter ot = new PrintWriter(System.out);\n\tstatic Random rand = new Random();\n\tstatic int mod = 1000000007;\n\tstatic long modmod = (int)mod * mod;\n\tstatic long inf = (long)1e17;\n\tstatic int[] dx = {0,1,0,-1};\n\tstatic int[] dy = {1,0,-1,0};\n\tstatic int[] dx8 = {-1,-1,-1,0,0,1,1,1};\n\tstatic int[] dy8 = {-1,0,1,-1,1,-1,0,1};\n\tstatic char[] dc = {'R','D','L','U'};\n\tstatic String sp = \" \";\n\tpublic static void main(String[] args) {\n\t\t\n\t\tint N = sc.nextInt();\n\t\tfor(int i=0;i<N;i++){\n\t\t\tString ord = sc.next();\n\t\t\tString S = sc.next();\n\t\t\tfor(int j=ord.length()-1;j>=0;j--){\n\t\t\t\tString next = \"\";\n\t\t\t\tswitch(ord.charAt(j)){\n\t\t\t\tcase 'A':\n\t\t\t\t\tfor(int k=S.length()-1;k>=0;k--){\n\t\t\t\t\t\tnext += S.charAt(k);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'P':\n\t\t\t\t\tfor(int k=0;k<S.length();k++){\n\t\t\t\t\t\tif(S.charAt(k)=='0') next += 9;\n\t\t\t\t\t\telse if('1'<=S.charAt(k)&&S.charAt(k)<='9')next += (char)(S.charAt(k)-1);\n\t\t\t\t\t\telse next += S.charAt(k);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'M':\n\t\t\t\t\tfor(int k=0;k<S.length();k++){\n\t\t\t\t\t\tif(S.charAt(k)=='9') next += 0;\n\t\t\t\t\t\telse if('0'<=S.charAt(k)&&S.charAt(k)<='8')next += (char)(S.charAt(k)+1);\n\t\t\t\t\t\telse next += S.charAt(k);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'E':\n\t\t\t\t\tif(S.length()%2==0){\n\t\t\t\t\t\tnext = S.substring(S.length()/2)+S.substring(0,S.length()/2);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tnext = S.substring(S.length()/2+1) + S.charAt(S.length()/2) + S.substring(0,S.length()/2);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'J':\n\t\t\t\t\tnext = S.charAt(S.length()-1) + S.substring(0,S.length()-1);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'C':\n\t\t\t\t\tnext = S.substring(1) + S.charAt(0);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tS = next;\n\t\t\t}\n\t\t\tSystem.out.println(S);\n\t\t\t\n\t\t}\n\t\t\n\t}\n\n\n}\n\n\n\nclass MultiSet{\n\tTreeMap<Integer,Integer> set;\n\tint size;\n\tlong sum;\n\tMultiSet(){\n\t\tset = new TreeMap<Integer,Integer>();\n\t\tsize = 0;\n\t\tsum = 0;\n\t}\n\tvoid add(int e){\n\t\tif(set.containsKey(e))set.put(e,set.get(e)+1);\n\t\telse set.put(e,1);\n\t\tsize++;\n\t\tsum += e;\n\t}\n\tvoid remove(int e) {\n\t\tset.put(e,set.get(e)-1);\n\t\tif(set.get(e)==0)set.remove(e);\n\t\tsize--;\n\t\tsum -= e;\n\t}\n\tint first() {return set.firstKey();}\n\tint last() {return set.lastKey();}\n\tint lower(int e) {return set.lowerKey(e);}\n\tint higher(int e) {return set.higherKey(e);}\n\tint floor(int e) {return set.floorKey(e);}\n\tint ceil(int e) {return set.ceilingKey(e);}\n\tboolean contains(int e) {return set.containsKey(e);}\n\tboolean isEmpty() {return set.isEmpty();}\n\tint count(int e) {\n\t\tif(contains(e))return set.get(e);\n\t\telse return 0;\n\t}\n\tMultiSet marge(MultiSet T) {\n\t\tif(size>T.size) {\n\t\t\twhile(!T.isEmpty()) {\n\t\t\t\tadd(T.first());\n\t\t\t\tT.remove(T.first());\n\t\t\t}\n\t\t\treturn this;\n\t\t}else {\n\t\t\twhile(!isEmpty()) {\n\t\t\t\tT.add(first());\n\t\t\t\tremove(first());\n\t\t\t}\n\t\t\treturn T;\n\t\t}\n\t}\n\tSet<Integer> keyset(){\n\t\treturn set.keySet();\n\t}\n\n}\n\n\n\n\n\nclass Range{\n\tlong l;\n\tlong r;\n\tlong length;\n\tRange(int L,int R){\n\t\tl = L;\n\t\tr = R;\n\t\tlength = R-L+1;\n\t}\n\n\tpublic Range(long L, long R) {\n\t\tl = L;\n\t\tr = R;\n\t\tlength = R-L+1;\n\t}\n\n\tboolean isIn(int x) {\n\t\treturn (l<=x&&x<=r);\n\t}\n\t\n\tlong kasanari(Range S) {\n\t\tif(this.r<S.l||S.r<this.l) return 0;\n\t\telse return Math.min(this.r,S.r) - Math.max(this.l,S.l)+1;\n\t}\n}\nclass LeftComparator implements Comparator<Range>{\n\tpublic int compare(Range P, Range Q) {\n\t\treturn (int) Math.signum(P.l-Q.l);\n\t}\n}\nclass RightComparator implements Comparator<Range>{\n\tpublic int compare(Range P, Range Q) {\n\t\treturn (int) Math.signum(P.r-Q.r);\n\t\t\t\t\n\t}\n}\nclass LengthComparator implements Comparator<Range>{\n\tpublic int compare(Range P, Range Q) {\n\t\treturn (int) Math.signum(P.length-Q.length);\n\t}\n}\n\n\n\n\nclass BinaryIndexedTree{\n\tint[] val;\n\tBinaryIndexedTree(int N){\n\t\tval = new int[N+1];\n\t}\n\tlong sum(int i) {\n\t\tif(i==0)return 0;\n\t\tlong s = 0;\n\t\twhile(i>0) {\n\t\t\ts += val[i];\n\t\t\ti -= i & (-i);\n\t\t}\n\t\treturn s;\n\t}\n\tvoid add(int i,int x) {\n\t\tif(i==0)return;\n\t\twhile(i<val.length){\n\t\t\tval[i] += x;\n\t\t\ti += i & (-i);\n\t\t}\n\t}\n}\n\nclass UnionFindTree {\n\tint[] root;\n\tint[] rank;\n\tint[] size;\n\tint[] edge;\n\tint num;\n\tUnionFindTree(int N){\n\t\troot = new int[N];\n\t\trank = new int[N];\n\t\tsize = new int[N];\n\t\tedge = new int[N];\n\t\tnum = N;\n\t\tfor(int i=0;i<N;i++){\n\t\t\troot[i] = i;\n\t\t\tsize[i] = 1;\n\t\t}\n\t}\n\tpublic boolean isRoot(int x) {\n\t\treturn x==find(x);\n\t}\n\tpublic int extraEdge(int x) {\n\t\tint r = find(x);\n\t\treturn edge[r] - size[r] + 1;\n\t}\n\tpublic int find(int x){\n\t\tif(root[x]==x){\n\t\t\treturn x;\n\t\t}else{\n\t\t\treturn find(root[x]);\n\t\t}\n\t}\n\n\tpublic void unite(int x,int y){\n\t\tx = find(x);\n\t\ty = find(y);\n\t\tif(x==y){\n\t\t\tedge[x]++;\n\t\t\treturn;\n\t\t}else{\n\t\t\tnum--;\n\t\t\tif(rank[x]<rank[y]){\n\t\t\t\troot[x] = y;\n\t\t\t\tsize[y] += size[x];\n\t\t\t\tedge[y] += edge[x]+1;\n\t\t\t}else{\n\t\t\t\troot[y] = x;\n\t\t\t\tsize[x] += size[y];\n\t\t\t\tedge[x] += edge[y]+1;\n\t\t\t\tif(rank[x]==rank[y]){\n\t\t\t\t\trank[x]++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic boolean same(int x,int y){\n\t\treturn find(x)==find(y);\n\t}\n\n}\n\n\n\nclass Graph {\n\tArrayList<Edge>[] list;\n\tint size;\n\n\t@SuppressWarnings(\"unchecked\")\n\tGraph(int N){\n\t\tsize = N;\n\t\tlist = new ArrayList[N];\n\t\tfor(int i=0;i<N;i++){\n\t\t\tlist[i] = new ArrayList<Edge>();\n\t\t}\n\t}\n\n\tpublic long[] dicount(int s) {\n\t\tlong[] L = new long[size];\n\t\tlong[] c = new long[size];\n\t\tint mod = 1000000007;\n\t\tfor(int i=0;i<size;i++){\n\t\t\tL[i] = -1;\n\t\t}\n\t\tint[] v = new int[size];\n\t\tL[s] = 0;\n\t\tc[s] = 1;\n\t\tPriorityQueue<LongIntPair> Q = new PriorityQueue<LongIntPair>(new LongIntComparator());\n\t\tQ.add(new LongIntPair(0,s));\n\n\t\twhile(!Q.isEmpty()){\n\n\t\t\tLongIntPair C = Q.poll();\n\n\t\t\tif(v[C.b]==0){\n\t\t\t\tL[C.b] = C.a;\n\t\t\t\tv[C.b] = 1;\n\t\t\t\tfor(Edge D:list[C.b]) {\n\t\t\t\t\t//System.out.println(C.b +\" \"+ D.to);\n\t\t\t\t\tif(L[D.to]==-1||L[D.to]>L[C.b]+D.cost) {\n\t\t\t\t\t\tL[D.to]=L[C.b]+D.cost;\n\t\t\t\t\t\tc[D.to] = c[C.b];\n\t\t\t\t\t\tQ.add(new LongIntPair(L[C.b]+D.cost,D.to));\n\t\t\t\t\t}else if(L[D.to]==L[C.b]+D.cost) {\n\t\t\t\t\t\tc[D.to] += c[C.b];\n\t\t\t\t\t}\n\t\t\t\t\tc[D.to] %= mod;\n\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn c;\n\t}\n\n\tpublic long[] roots(int s) {\n\t\tint[] in = new int[size];\n\t\tArrayDeque<Integer> q = new ArrayDeque<Integer>();\n\t\tlong[] N = new long[size];\n\t\tlong mod = 1000000007;\n\t\tfor(int i=0;i<size;i++) {\n\t\t\tfor(Edge e:list[i])in[e.to]++;\n\t\t}\n\t\tfor(int i=0;i<size;i++) {\n\t\t\tif(in[i]==0)q.add(i);\n\t\t}\n\t\tN[s] = 1;\n\t\twhile(!q.isEmpty()) {\n\t\t\tint v = q.poll();\n\t\t\tfor(Edge e:list[v]) {\n\t\t\t\tN[e.to] += N[v];\n\t\t\t\tif(N[e.to]>=mod)N[e.to]-= mod;\n\t\t\t\tin[e.to]--;\n\t\t\t\tif(in[e.to]==0)q.add(e.to);\n\t\t\t}\n\t\t}\n\t\treturn N;\n\t\t\n\t}\n\n\n\tvoid addEdge(int a,int b){\n\t\tlist[a].add(new Edge(b,1));\n\t}\n\n\tvoid addWeightedEdge(int a,int b,long c){\n\t\tlist[a].add(new Edge(b,c));\n\t}\n\n\tvoid addEgdes(int[] a,int[] b){\n\t\tfor(int i=0;i<a.length;i++){\n\t\t\tlist[a[i]].add(new Edge(b[i],1));\n\t\t}\n\t}\n\n\tvoid addWeightedEdges(int[] a ,int[] b ,int[] c){\n\t\tfor(int i=0;i<a.length;i++){\n\t\t\tlist[a[i]].add(new Edge(b[i],c[i]));\n\t\t}\n\t}\n\tlong[] bfs(int s){\n\t\tlong[] L = new long[size];\n\t\tfor(int i=0;i<size;i++){\n\t\t\tL[i] = -1;\n\t\t}\n\t\tL[s] = 0;\n\t\tArrayDeque<Integer> Q = new ArrayDeque<Integer>();\n\t\tQ.add(s);\n\n\t\twhile(!Q.isEmpty()){\n\t\t\tint v = Q.poll();\n\t\t\tfor(Edge e:list[v]){\n\t\t\t\tint w = e.to;\n\t\t\t\tlong c = e.cost;\n\t\t\t\tif(L[w]==-1){\n\t\t\t\t\tL[w] = L[v] + c;\n\t\t\t\t\tQ.add(w);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn L;\n\t}\n\t\n\tlong[] bfs2(int[] d,int s){\n\t\tlong[] L = new long[size];\n\t\tfor(int i=0;i<size;i++){\n\t\t\tL[i] = -1;\n\t\t}\n\t\tint p = 0;\n\t\tL[s] = 0;\n\t\td[s] = p;\n\t\tp++;\n\t\tArrayDeque<Integer> Q = new ArrayDeque<Integer>();\n\t\tQ.add(s);\n\n\t\twhile(!Q.isEmpty()){\n\t\t\tint v = Q.poll();\n\t\t\tfor(Edge e:list[v]){\n\t\t\t\tint w = e.to;\n\t\t\t\tlong c = e.cost;\n\t\t\t\tif(L[w]==-1){\n\t\t\t\t\td[w] = p;\n\t\t\t\t\tp++;\n\t\t\t\t\tL[w] = L[v] + c;\n\t\t\t\t\tQ.add(w);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn L;\n\t}\n\n\tint[] isTwoColor(){\n\t\tint[] L = new int[size];\n\t\tfor(int i=0;i<size;i++){\n\t\t\tL[i] = -1;\n\t\t}\n\t\tL[0] = 0;\n\t\tArrayDeque<Integer> Q = new ArrayDeque<Integer>();\n\t\tQ.add(0);\n\n\t\twhile(!Q.isEmpty()){\n\t\t\tint v = Q.poll();\n\t\t\tfor(Edge e:list[v]){\n\t\t\t\tint w = e.to;\n\t\t\t\tif(L[w]==-1){\n\t\t\t\t\tL[w] = 1-L[v];\n\t\t\t\t\tQ.add(w);\n\t\t\t\t}else{\n\t\t\t\t\tif(L[v]+L[w]!=1){\n\t\t\t\t\t\tL[0] = -2;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn L;\n\t}\n\t\n\tvoid isTwoColor2(int i,int[] L){\n\t\t\n\t\t\n\t\tL[i] = 0;\n\t\tArrayDeque<Integer> Q = new ArrayDeque<Integer>();\n\t\tQ.add(i);\n\n\t\twhile(!Q.isEmpty()){\n\t\t\tint v = Q.poll();\n\t\t\tfor(Edge e:list[v]){\n\t\t\t\tint w = e.to;\n\t\t\t\tif(L[w]==-1){\n\t\t\t\t\tL[w] = 1-L[v];\n\t\t\t\t\tQ.add(w);\n\t\t\t\t}else{\n\t\t\t\t\tif(L[v]+L[w]!=1){\n\t\t\t\t\t\tL[0] = -2;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tlong[] dijkstra(int s){\n\t\tlong[] L = new long[size];\n\t\tfor(int i=0;i<size;i++){\n\t\t\tL[i] = -1;\n\t\t}\n\t\tint[] v = new int[size];\n\t\tL[s] = 0;\n\t\tPriorityQueue<LongIntPair> Q = new PriorityQueue<LongIntPair>(new LongIntComparator());\n\t\tQ.add(new LongIntPair(0,s));\n\n\t\twhile(!Q.isEmpty()){\n\n\t\t\tLongIntPair C = Q.poll();\n\n\t\t\tif(v[C.b]==0){\n\t\t\t\tL[C.b] = C.a;\n\t\t\t\tv[C.b] = 1;\n\t\t\t\tfor(Edge D:list[C.b]) {\n\t\t\t\t\tif(L[D.to]==-1||L[D.to]>L[C.b]+D.cost) {\n\t\t\t\t\t\tL[D.to]=L[C.b]+D.cost;\n\t\t\t\t\t\tQ.add(new LongIntPair(L[C.b]+D.cost,D.to));\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn L;\n\t}\n\t\n\tArrayList<Graph> makeapart(){\n\t\tArrayList<Graph> ans = new ArrayList<Graph>();\n\t\tboolean[] b = new boolean[size];\n\t\tint[] num = new int[size];\n\t\tfor(int i=0;i<size;i++){\n\t\t\tif(b[i])continue;\n\t\t\tint sz = 0;\n\t\t\tArrayList<Integer> l = new ArrayList<Integer>();\n\t\t\tArrayDeque<Integer> Q = new ArrayDeque<Integer>();\n\t\t\tQ.add(i);\n\t\t\tb[i] = true;\n\t\t\twhile(!Q.isEmpty()){\n\t\t\t\tint v = Q.poll();\n\t\t\t\tnum[v] = sz;\n\t\t\t\tsz++;\n\t\t\t\tl.add(v);\n\t\t\t\tfor(Edge e:list[v]){\n\t\t\t\t\tif(!b[e.to]){\n\t\t\t\t\t\tQ.add(e.to);\n\t\t\t\t\t\tb[e.to] = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tGraph H = new Graph(sz);\n\t\t\tfor(int e:l){\n\t\t\t\tfor(Edge E:list[e]){\n\t\t\t\t\tH.addWeightedEdge(num[e],num[E.to],E.cost);\n\t\t\t\t}\n\t\t\t}\n\t\t\tans.add(H);\n\n\t\t}\n\t\treturn ans;\n\t}\n\n\tlong[] bellmanFord(int s) {\n\t\tlong inf = 1000000000;\n\t\tinf *= inf;\n\t\tlong[] d = new long[size];\n\t\tboolean[] n = new boolean[size];\n\t\td[s] = 0;\n\t\tfor(int i=1;i<size;i++){\n\t\t\td[i] = inf;\n\t\t\td[i] *= d[i];\n\t\t}\n\t\tfor(int i=0;i<size-1;i++){\n\t\t\tfor(int j=0;j<size;j++){\n\t\t\t\tfor(Edge E:list[j]){\n\t\t\t\t\tif(d[j]!=inf&&d[E.to]>d[j]+E.cost){\n\t\t\t\t\t\td[E.to]=d[j]+E.cost;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor(int i=0;i<size;i++){\n\t\t\tfor(int j=0;j<size;j++){\n\t\t\t\tfor(Edge e:list[j]){\n\t\t\t\t\tif(d[j]==inf) continue;\n\t\t\t\t\tif(d[e.to]>d[j]+e.cost) {\n\t\t\t\t\t\td[e.to]=d[j]+e.cost;\n\t\t\t\t\t\tn[e.to] = true;\n\t\t\t\t\t}\n\t\t\t\t\tif(n[j])n[e.to] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor(int i=0;i<size;i++) {\n\t\t\tif(n[i])d[i] = inf;\n\t\t}\n\t\treturn d;\n\t}\n\n\tArrayList<Integer> Kahntsort(){\n\n\t\tArrayList<Integer> ans = new ArrayList<Integer>();\n\t\tPriorityQueue<Integer> q = new PriorityQueue<Integer>();\n\t\tint[] in = new int[size];\n\t\tfor(int i=0;i<size;i++) {\n\t\t\tfor(Edge e:list[i])in[e.to]++;\n\t\t}\n\t\tfor(int i=0;i<size;i++) {\n\t\t\tif(in[i]==0)q.add(i);\n\t\t}\n\t\twhile(!q.isEmpty()) {\n\t\t\tint v = q.poll();\n\t\t\tans.add(v);\n\t\t\tfor(Edge e:list[v]) {\n\t\t\t\tin[e.to]--;\n\t\t\t\tif(in[e.to]==0)q.add(e.to);\n\t\t\t}\n\t\t}\n\t\tfor(int i=0;i<size;i++) {\n\t\t\tif(in[i]>0)return new ArrayList<Integer>();\n\t\t}\n\t\treturn ans;\n\t}\n\t\n\tpublic Stack<Integer> findCycle() {\n\t\tStack<Integer> ans = new Stack<Integer>();\n\t\tboolean[] v = new boolean[size];\n\t\tboolean[] f = new boolean[size];\n\t\tfor(int i=0;i<size;i++) {\n\t\t\tif(findCycle(i,ans,v,f))break;\n\t\t}\n\t\treturn ans;\n\t}\n\t\n\tprivate boolean findCycle(int i, Stack<Integer>ans, boolean[] v,boolean[] f) {\n\t\tv[i] = true;\n\t\tans.push(i);\n\t\tfor(Edge e:list[i]) {\n\t\t\tif(f[e.to]) continue;\n\t\t\tif(v[e.to]&&!f[e.to]) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif(findCycle(e.to,ans,v,f))return true;\n\t\t}\n\t\tans.pop();\n\t\tf[i] = true;\n\t\treturn false;\n\t\t\n\t}\n\tRootedTree dfsTree(int i) {\n\t\tint[] u = new int[size];\n\t\tRootedTree r = new RootedTree(size);\n\t\tdfsTree(i,u,r);\n\t\treturn r;\n\n\t}\n\n\tprivate void dfsTree(int i, int[] u, RootedTree r) {\n\t\tu[i] = 1;\n\t\t\n\t\tfor(Edge e:list[i]) {\n\t\t\tif(u[e.to]==0) {\n\t\t\t\tr.list[i].add(e);\n\t\t\t\tu[e.to] = 1;\n\t\t\t\tdfsTree(e.to,u,r);\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t}\n}\n\n\nclass Tree extends Graph{\n\t\n\tpublic Tree(int N) {\n\t\tsuper(N);\n\t}\n\n\t\n\tlong[] tyokkei(){\n\t\tlong[] a = bfs(0);\n\n\t\t\n\t\tint md = -1;\n\t\tlong m = 0;\n\t\tfor(int i=0;i<size;i++){\n\t\t\tif(m<a[i]){\n\t\t\t\tm = a[i];\n\t\t\t\tmd = i;\n\t\t\t}\n\t\t}\n\n\t\tlong[] b = bfs(md);\n\t\tint md2 = -1;\n\t\tlong m2 = 0;\n\t\tfor(int i=0;i<size;i++){\n\t\t\tif(m2<b[i]){\n\t\t\t\tm2 = b[i];\n\t\t\t\tmd2 = i;\n\t\t\t}\n\t\t}\n\t\tlong[] r = {m2,md,md2};\n\t\treturn r;\n\t}\n\t\n\t\n\n}\n\nclass RootedTree extends Graph{\n\t\n\tRootedTree(int N){\n\t\tsuper(N);\n\t}\n\t\n}\n \n\nclass Edge{\n\tint to;\n\tlong cost;\n\tEdge(int a,long b){\n\t\tto = a;\n\t\tcost = b;\n\t}\n}\nclass Pair{\n\tlong a;\n\tlong b;\n\n\tPair(long p,long q){\n\t\tthis.a = p;\n\t\tthis.b = q;\n\t}\n\n\tpublic boolean equals(Object o){\n\t\tPair O = (Pair) o;\n\t\treturn O.a==this.a&&O.b==this.b;\n\t}\n\n\tpublic int hashCode(){\n\t\treturn Objects.hash(a,b);\n\t}\n}\n\nclass SampleComparator implements Comparator<Pair>{\n\tpublic int compare(Pair P, Pair Q) {\n\t\tlong t = P.a-Q.a;\n\t\tif(t==0){\n\t\t\tif(P.b==Q.b)return 0;\n\t\t\treturn P.b>Q.b?1:-1;\n\n\t\t}\n\t\treturn t>=0?1:-1;\n\t}\n}\n\n\nclass LongIntPair{\n\tlong a;\n\tint b;\n\n\tLongIntPair(long p,int q){\n\t\tthis.a = p;\n\t\tthis.b = q;\n\t}\n\n\tpublic boolean equals(Object o){\n\t\tLongIntPair O = (LongIntPair) o;\n\t\treturn O.a==this.a&&O.b==this.b;\n\n\t}\n\n\tpublic int hashCode(){\n\t\treturn Objects.hash(a,b);\n\t}\n}\n\nclass LongIntComparator implements Comparator<LongIntPair>{\n\tpublic int compare(LongIntPair P, LongIntPair Q) {\n\t\tlong t = P.a-Q.a;\n\t\tif(t==0){\n\t\t\tif(P.b>Q.b){\n\t\t\t\treturn 1;\n\t\t\t}else{\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t\treturn t>=0?1:-1;\n\t}\n}\n\n\nclass IntIntPair{\n\tint a;\n\tint b;\n\n\tIntIntPair(int p,int q){\n\t\tthis.a = p;\n\t\tthis.b = q;\n\t}\n\tIntIntPair(int p,int q,String s){\n\t\tif(s.equals(\"sort\")) {\n\t\t\tthis.a = Math.min(p,q);\n\t\t\tthis.b = Math.max(p,q);\n\t\t}\n\t}\n\n\t\n\tpublic boolean equals(Object o){\n\t\tIntIntPair O = (IntIntPair) o;\n\t\treturn O.a==this.a&&O.b==this.b;\n\n\t}\n\n\tpublic int hashCode(){\n\t\treturn Objects.hash(a,b);\n\t}\n}\n\n\n\nclass IntIntComparator implements Comparator<IntIntPair>{\n\tpublic int compare(IntIntPair P, IntIntPair Q) {\n\t\tint t = P.a-Q.a;\n\t\tif(t==0){\n\t\t\treturn P.b-Q.b;\n\t\t}\n\t\treturn t;\n\t}\n}\n\nclass CIPair{\n\tchar c;\n\tint i;\n\tCIPair(char C,int I){\n\t\tc = C;\n\t\ti = I;\n\t}\n\tpublic boolean equals(Object o){\n\t\tCIPair O = (CIPair) o;\n\t\treturn O.c==this.c&&O.i==this.i;\n\t}\n\tpublic int hashCode(){\n\t\treturn Objects.hash(c,i);\n\t}\n}\n\n\n\n\nclass DoublePair{\n\tdouble a;\n\tdouble b;\n\n\tDoublePair(double p,double q){\n\t\tthis.a = p;\n\t\tthis.b = q;\n\t}\n\n\tpublic boolean equals(Object o){\n\t\tDoublePair O = (DoublePair) o;\n\t\treturn O.a==this.a&&O.b==this.b;\n\n\t}\n\n\tpublic int hashCode(){\n\t\treturn Objects.hash(a,b);\n\t}\n}\nclass Triplet{\n\tlong a;\n\tlong b;\n\tlong c;\n\tTriplet(long p,long q,long r){\n\t\ta = p;\n\t\tb = q;\n\t\tc = r;\n\t}\n\tpublic boolean equals(Object o){\n\t\tTriplet O = (Triplet) o;\n\t\treturn O.a==this.a&&O.b==this.b&&O.c==this.c?true:false;\n\n\t}\n\n\tpublic int hashCode(){\n\t\treturn Objects.hash(a,b,c);\n\t}\n}\n\nclass TripletComparator implements Comparator<Triplet>{\n\tpublic int compare(Triplet P, Triplet Q) {\n\t\tlong t = P.a-Q.a;\n\t\tif(t==0){\n\t\t\tlong tt = P.b-Q.b;\n\t\t\tif(tt==0) {\n\t\t\t\tif(P.c>Q.c) {\n\t\t\t\t\treturn 1;\n\t\t\t\t}else if(P.c<Q.c){\n\t\t\t\t\treturn -1;\n\t\t\t\t}else {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn tt>0?1:-1;\n\t\t}\n\t\treturn t>=0?1:-1;\n\t}\n}\nclass DDComparator implements Comparator<DoublePair>{\n\tpublic int compare(DoublePair P, DoublePair Q) {\n\t\treturn P.a-Q.a>=0?1:-1;\n\t}\n}\n\nclass DoubleTriplet{\n\tdouble a;\n\tdouble b;\n\tdouble c;\n\n\tDoubleTriplet(double p,double q,double r){\n\t\tthis.a = p;\n\t\tthis.b = q;\n\t\tthis.c = r;\n\t}\n\n\tpublic boolean equals(Object o){\n\t\tDoubleTriplet O = (DoubleTriplet) o;\n\t\treturn O.a==this.a&&O.b==this.b&&O.c==this.c;\n\n\t}\n\n\tpublic int hashCode(){\n\t\treturn Objects.hash(a,b,c);\n\t}\n}\n\nclass DoubleTripletComparator implements Comparator<DoubleTriplet>{\n\tpublic int compare(DoubleTriplet P, DoubleTriplet Q) {\n\t\tif(P.a==Q.a) return 0;\n\t\treturn P.a-Q.a>0?1:-1;\n\t}\n}\n\n\nclass FastScanner {\n    private final java.io.InputStream in = System.in;\n    private final byte[] b = new byte[1024];\n    private int p = 0;\n    private int bl = 0;\n    private boolean hNB() {\n        if (p<bl) {\n            return true;\n        }else{\n            p = 0;\n            try {\n                bl = in.read(b);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n            if (bl<=0) {\n                return false;\n            }\n        }\n        return true;\n    }\n    private int rB() { if (hNB()) return b[p++]; else return -1;}\n    private static boolean iPC(int c) { return 33 <= c && c <= 126;}\n    private void sU() { while(hNB() && !iPC(b[p])) p++;}\n    public boolean hN() { sU(); return hNB();}\n    public String next() {\n        if (!hN()) throw new NoSuchElementException();\n        StringBuilder sb = new StringBuilder();\n        int b = rB();\n        while(iPC(b)) {\n            sb.appendCodePoint(b);\n            b = rB();\n        }\n        return sb.toString();\n    }\n    public char nextChar() {\n    \treturn next().charAt(0);\n    }\n    public long nextLong() {\n        if (!hN()) throw new NoSuchElementException();\n        long n = 0;\n        boolean m = false;\n        int b = rB();\n        if (b=='-') {\n            m=true;\n            b=rB();\n        }\n        if (b<'0'||'9'<b) {\n            throw new NumberFormatException();\n        }\n        while(true){\n            if ('0'<=b&&b<='9') {\n                n *= 10;\n                n += b - '0';\n            }else if(b == -1||!iPC(b)){\n                return (m?-n:n);\n            }else{\n                throw new NumberFormatException();\n            }\n            b = rB();\n        }\n    }\n    public int nextInt() {\n        if (!hN()) throw new NoSuchElementException();\n        long n = 0;\n        boolean m = false;\n        int b = rB();\n        if (b == '-') {\n            m = true;\n            b = rB();\n        }\n        if (b<'0'||'9'<b) {\n            throw new NumberFormatException();\n        }\n        while(true){\n            if ('0'<=b&&b<='9') {\n                n *= 10;\n                n += b-'0';\n            }else if(b==-1||!iPC(b)){\n                return (int) (m?-n:n);\n            }else{\n                throw new NumberFormatException();\n            }\n            b = rB();\n        }\n    }\n    public int[] nextInts(int n) {\n    \tint[] a = new int[n];\n    \tfor(int i=0;i<n;i++) {\n    \t\ta[i] = nextInt();\n    \t}\n    \treturn a;\n    }\n    public int[] nextInts(int n,int s) {\n    \tint[] a = new int[n+s];\n    \tfor(int i=s;i<n+s;i++) {\n    \t\ta[i] = nextInt();\n    \t}\n    \treturn a;\n    }\n    public long[] nextLongs(int n) {\n    \tlong[] a = new long[n];\n    \tfor(int i=0;i<n;i++) {\n    \t\ta[i] = nextLong();\n    \t}\n    \treturn a;\n    }\n    public int[][] nextIntses(int n,int m){\n    \tint[][] a = new int[n][m];\n    \tfor(int i=0;i<n;i++) {\n    \t\tfor(int j=0;j<m;j++) {\n    \t\t\ta[i][j] = nextInt();\n    \t\t}\n    \t}\n    \treturn a;\n    }\n    \n    void nextIntses(int n,int[] ...m) {\n    \tint l = m[0].length;\n    \tfor(int i=0;i<l;i++) {\n    \t\tfor(int j=0;j<m.length;j++) {\n    \t\t\tm[j][i] = nextInt();\n    \t\t}\n    \t}\n    }\n    void nextLongses(int n,long[] ...m) {\n    \tint l = m[0].length;\n    \tfor(int i=0;i<l;i++) {\n    \t\tfor(int j=0;j<m.length;j++) {\n    \t\t\tm[j][i] = nextLong();\n    \t\t}\n    \t}\n    }\n    \n    Graph nextyukoGraph(int n,int m) {\n    \tGraph G = new Graph(n);\n    \tfor(int i=0;i<m;i++) {\n    \t\tint a = nextInt()-1;\n    \t\tint b = nextInt()-1;\n    \t\tG.addEdge(a,b);\n    \t}\n    \treturn G;\n    }\n    \n    Graph nextGraph(int n,int m) {\n    \tGraph G = new Graph(n);\n    \tfor(int i=0;i<m;i++) {\n    \t\tint a = nextInt()-1;\n    \t\tint b = nextInt()-1;\n    \t\tG.addEdge(a,b);\n    \t\tG.addEdge(b,a);\n    \t}\n    \treturn G;\n    }\n    \n    Graph nextWeightedGraph(int n,int m) {\n    \tGraph G = new Graph(n);\n    \tfor(int i=0;i<m;i++) {\n    \t\tint a = nextInt()-1;\n    \t\tint b = nextInt()-1;\n    \t\tlong c = nextLong();\n    \t\tG.addWeightedEdge(a,b,c);\n    \t\tG.addWeightedEdge(b,a,c);\n    \t}\n    \treturn G;\n    }\n    \n    Tree nextTree(int n) {\n    \tTree T = new Tree(n);\n    \tfor(int i=0;i<n-1;i++) {\n    \t\tint a = nextInt()-1;\n    \t\tint b = nextInt()-1;\n    \t\tT.addEdge(a,b);\n    \t\tT.addEdge(b,a);\n    \t}\n    \treturn T;\n    }\n}\n\n\nclass Mathplus{\n\tlong mod = 1000000007;\n\tlong[] fac;\n\tlong[] revfac;\n\tlong[][] comb;\n\tlong[] pow;\n\tlong[] revpow;\n\tboolean isBuild = false;\n\tboolean isBuildc = false;\n\tboolean isBuildp = false;\n\tint mindex = -1;\n\tint maxdex = -1;\n\tint graydiff = 0;\n\tint graymark = 0;\n\n\tpublic int gray(int i) {\n\t\tfor(int j=0;j<20;j++) {\n\t\t\tif(contains(i,j)) {\n\t\t\t\tgraydiff = j;\n\t\t\t\tif(contains(i,j+1))graymark=-1;\n\t\t\t\telse graymark = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn i ^ (i>>1);\t\n\t}\n\n\tpublic void hakidashi(long[] A) {\n\t\tArrays.sort(A);\n\t\tint N = A.length;\n\t\tint[] index = new int[61];\n\t\tfor(int i=0;i<=60;i++){\n\t\t\tindex[i] = -1;\n\t\t}\n\t\tint searching = 60;\n\t\tint [] used = new int[N];\n\t\twhile(searching>=0){\n\t\t\tboolean b = true;\n\t\t\tfor(int i=N-1;i>=0;i--){\n\t\t\t\tfor(int j=60;j>searching;j--){\n\t\t\t\t\tif((A[i]>>j&1)==1){\n\t\t\t\t\t\tif(i!=index[j]&&index[j]!=-1){\n\t\t\t\t\t\t\tA[i] ^= A[index[j]];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif((A[i]>>searching&1)==1&&used[i]==0){\n\t\t\t\t\t//System.out.println(\"find \" + searching+\" is \"+i);\n\t\t\t\t\tindex[searching] = i;\n\t\t\t\t\tsearching--;\n\t\t\t\t\tused[i] = 1;\n\t\t\t\t\tb = false;\n\t\t\t\t\tif(searching==-1){\n\t\t\t\t\t\tsearching = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(b){\n\t\t\t\tsearching--;\n\t\t\t}\n\n\t\t}\n\n\t\tfor(int i=N-1;i>=0;i--){\n\t\t\tfor(int j=60;j>=searching;j--){\n\t\t\t\tif((A[i]>>j&1)==1){\n\t\t\t\t\tif(i!=index[j]&&index[j]!=-1){\n\t\t\t\t\t\tA[i] ^= A[index[j]];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tArrays.sort(A);\n\t\t\n\t}\n\n\tpublic void printjudge(boolean b, String y, String n) {\n\t\tSystem.out.println(b?y:n);\n\t}\n\tpublic void printYN(boolean b) {\n\t\tprintjudge(b,\"Yes\",\"No\");\n\t}\n\tpublic void printyn(boolean b) {\n\t\tprintjudge(b,\"yes\",\"no\");\n\t}\n\t\n\tpublic void reverse(int[] x) {\n\t\tint[] r = new int[x.length];\n\t\tfor(int i=0;i<x.length;i++)r[i] = x[x.length-1-i];\n\t\tfor(int i=0;i<x.length;i++)x[i] = r[i];\n\t}\n\tpublic void reverse(long[] x) {\n\t\tlong[] r = new long[x.length];\n\t\tfor(int i=0;i<x.length;i++)r[i] = x[x.length-1-i];\n\t\tfor(int i=0;i<x.length;i++)x[i] = r[i];\n\t}\n\n\n\n\t\n\tpublic long[] buildrui(int[] a) {\n\t\tint n = a.length;\n\t\tlong[] ans = new long[n];\n\t\tans[0] = a[0];\n\t\tfor(int i=1;i<n;i++) {\n\t\t\tans[i] = ans[i-1] + a[i];\n\t\t}\n\t\treturn ans;\n\t}\n\tpublic int[][] ibuildrui(int[][] a) {\n\t\tint n = a.length;\n\t\tint m = a[0].length;\n\t\tint[][] ans = new int[n][m];\n\t\tfor(int i=1;i<n;i++) {\n\t\t\tfor(int j=1;j<m;j++) {\n\t\t\t\tans[i][j] = a[i][j];\n\t\t\t}\n\t\t}\n\t\tfor(int i=1;i<n;i++) {\n\t\t\tfor(int j=1;j<m;j++) {\n\t\t\t\tans[i][j] += ans[i][j-1] + ans[i-1][j] - ans[i-1][j-1];\n\t\t\t}\n\t\t}\n\t\treturn ans;\n\t}\n\tpublic void buildruin(int[][] a) {\n\t\tint n = a.length;\n\t\tint m = a[0].length;\n\t\tfor(int i=1;i<n;i++) {\n\t\t\tfor(int j=1;j<m;j++) {\n\t\t\t\ta[i][j] += a[i][j-1] + a[i-1][j] - a[i-1][j-1];\n\t\t\t}\n\t\t}\n\t}\n\tpublic long[][] buildrui(int[][] a) {\n\t\tint n = a.length;\n\t\tint m = a[0].length;\n\t\tlong[][] ans = new long[n][m];\n\t\tfor(int i=1;i<n;i++) {\n\t\t\tfor(int j=1;j<m;j++) {\n\t\t\t\tans[i][j] = a[i][j];\n\t\t\t}\n\t\t}\n\t\tfor(int i=1;i<n;i++) {\n\t\t\tfor(int j=1;j<m;j++) {\n\t\t\t\tans[i][j] += ans[i][j-1] + ans[i-1][j] - ans[i-1][j-1];\n\t\t\t}\n\t\t}\n\t\treturn ans;\n\t}\n\tpublic int getrui(int[][] r,int a,int b,int c,int d) {\n\t\treturn r[c][d] - r[a-1][d] - r[c][b-1] + r[a-1][b-1];\n\t}\n\tpublic long getrui(long[][] r,int a,int b,int c,int d) {\n\t\tif(a<0||b<0||c>=r.length||d>=r[0].length) return mod;\n\t\treturn r[c][d] - r[a-1][d] - r[c][b-1] + r[a-1][b-1];\n\t}\n\t\n\tlong divroundup(long n,long d) {\n\t\tif(n==0)return 0;\n\t\treturn (n-1)/d+1;\n\t}\n\tpublic long sigma(long i) {\n\t\treturn i*(i+1)/2;\n\t}\n\tpublic int digit(long i) {\n\t\tint ans = 1;\n\t\twhile(i>=10) {\n\t\t\ti /= 10;\n\t\t\tans++;\n\t\t}\n\t\treturn ans;\n\n\t}\n\tpublic int digitsum(long n) {\n\t\tint ans = 0;\n\t\twhile(n>0) {\n\t\t\tans += n%10;\n\t\t\tn /= 10;\n\t\t}\n\t\treturn ans;\n\t}\n\tpublic int popcount(int i) {\n\t\tint ans = 0;\n\t\twhile(i>0) {\n\t\t\tans += i%2;\n\t\t\ti /= 2;\n\t\t}\n\t\treturn ans;\n\t}\n\t\n\tpublic boolean contains(int S,int i) {return (S>>i&1)==1;}\n\tpublic int bitremove(int S,int i) {return S&(~(1<<i));}\n\tpublic int bitadd(int S,int i) {return S|(1<<i);}\n\tpublic boolean isSubSet(int S,int T) {return (S-T)==(S^T);}\n\tpublic boolean isDisjoint(int S,int T) {return (S+T)==(S^T);}\n\tpublic boolean contains(long S,int i) {return (S>>i&1)==1;}\n\tpublic long bitremove(long S,int i) {return S&(~(1<<i));}\n\tpublic long bitadd(long S,int i) {return S|(1<<i);}\n\tpublic boolean isSubSet(long S,long T) {return (S-T)==(S^T);}\n\tpublic boolean isDisjoint(long S,long T) {return (S+T)==(S^T);}\n\t\n\t\n\t\n\t\n\tpublic boolean isprime(int e) {\n\t\tif(e==1) return false;\n\t\tfor(int i=2;i*i<=e;i++) {\n\t\t\tif(e%i==0) return false;\n\t\t}\n\t\treturn true;\n\t}\n\t\n\tpublic MultiSet Factrization(int e) {\n\t\tMultiSet ret = new MultiSet();\n\t\tfor(int i=2;i*i<=e;i++) {\n\t\t\twhile(e%i==0) {\n\t\t\t\tret.add(i);\n\t\t\t\te /= i;\n\t\t\t}\n\t\t}\n\t\tif(e!=1)ret.add(e);\n\t\treturn ret;\n\t}\n\t\n\tpublic HashMap<Integer,Integer> hipPush(ArrayList<Integer> l){\n\t\tHashMap<Integer,Integer> r = new HashMap<Integer,Integer>();\n\t\tTreeSet<Integer> s = new TreeSet<Integer>();\n\t\tfor(int e:l)s.add(e);\n\t\tint p = 0;\n\t\tfor(int e:s) {\n\t\t\tr.put(e,p);\n\t\t\tp++;\n\t\t}\n\t\treturn r;\n\t}\n\tpublic TreeMap<Integer,Integer> thipPush(ArrayList<Integer> l){\n\t\tTreeMap<Integer,Integer> r = new TreeMap<Integer,Integer>();\n\t\tCollections.sort(l);\n\t\tint b = -(1000000007+9393);\n\t\tint p = 0;\n\t\tfor(int e:l) {\n\t\t\tif(b!=e) {\n\t\t\t\tr.put(e,p);\n\t\t\t\tp++;\n\t\t\t}\n\t\t\tb=e;\n\t\t}\n\t\treturn r;\n\t}\n\t\n\tlong max(long[] a){\n\t\tlong M = Long.MIN_VALUE;\n\t\tfor(int i=0;i<a.length;i++){\n\t\t\tif(M<=a[i]){\n\t\t\t\tM =a[i];\n\t\t\t\tmaxdex = i;\n\t\t\t}\n\t\t}\n\t\treturn M;\n\t}\n\tint max(int[] a){\n\t\tint M = Integer.MIN_VALUE;\n\t\tfor(int i=0;i<a.length;i++){\n\t\t\tif(M<=a[i]){\n\t\t\t\tM =a[i];\n\t\t\t\tmaxdex = i;\n\t\t\t}\n\t\t}\n\t\treturn M;\n\t}\n\tlong min(long[] a){\n\t\tlong m = Long.MAX_VALUE;\n\t\tfor(int i=0;i<a.length;i++){\n\t\t\tif(m>a[i]){\n\t\t\t\tm =a[i];\n\t\t\t\tmindex = i;\n\t\t\t}\n\t\t}\n\t\treturn m;\n\t}\n\tint min(int[] a){\n\t\tint m = Integer.MAX_VALUE;\n\t\tfor(int i=0;i<a.length;i++){\n\t\t\tif(m>a[i]){\n\t\t\t\tm =a[i];\n\t\t\t\tmindex = i;\n\t\t\t}\n\t\t}\n\t\treturn m;\n\t}\n\tlong sum(long[] a){\n\t\tlong s = 0;\n\t\tfor(int i=0;i<a.length;i++)s += a[i];\n\t\treturn s;\n\t}\n\tlong sum(int[] a){\n\t\tlong s = 0;\n\t\tfor(int i=0;i<a.length;i++)s += a[i];\n\t\treturn s;\n\t}\n\tlong  sum(ArrayList<Integer> l) {\n\t\tlong s = 0;\n\t\tfor(int e:l)s += e;\n\t\treturn s;\n\t}\n\tlong gcd(long a, long b){\n\t\ta = Math.abs(a);\n\t\tb = Math.abs(b);\n\t\tif(a==0)return b;\n\t\tif(b==0)return a;\n\t\tif(a%b==0) return b;\n\t\telse return gcd(b,a%b);\n\t}\n\tint igcd(int a, int b) {\n\t\tif(a%b==0) return b;\n\t\telse return igcd(b,a%b);\n\t}\n\tlong lcm(long a, long b) {return a / gcd(a,b) * b;}\n\t\n\t\n\t\n\t\n\t\n\n}\n\n"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\npublic class Main {\n\tpublic static void main(String[] args) {\n\t\tScanner stdIn = new Scanner(System.in);\n\t\tint n = stdIn.nextInt();\n\t\tfor(int i = 0; i < n; i++) {\n\t\t\tString a = stdIn.next();\n\t\t\tString b = stdIn.next();\n\t\t\tfor(int j = a.length()-1; j >= 0; j--) {\n\t\t\t\tif(a.charAt(j) == 'J') {\n\t\t\t\t\tb = J(b);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif(a.charAt(j) == 'C') {\n\t\t\t\t\tb = C(b);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif(a.charAt(j) == 'E') {\n\t\t\t\t\tb = E(b);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif(a.charAt(j) == 'A') {\n\t\t\t\t\tb = A(b);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif(a.charAt(j) == 'P') {\n\t\t\t\t\tb = M(b);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif(a.charAt(j) == 'M') {\n\t\t\t\t\tb = P(b);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\tSystem.out.println(b);\n\t\t}\n\t\t\n\t}\n\t\n\tpublic static String J(String a) {\n\t\tString b1 = a.substring(a.length()-1, a.length());\n\t\tString b2 = a.substring(0, a.length()-1);\n\t\treturn b1 + b2;\n\t}\n\t\n\tpublic static String C(String a) {\n\t\tString b1 = a.substring(0, 1);\n\t\tString b2 = a.substring(1, a.length());\n\t\treturn b2 + b1;\n\t}\n\t\n\tpublic static String E(String a) {\n\t\tString b1 = \"\";\n\t\tString b2 = \"\";\n\t\tString b3 = \"\";\n\t\tif(a.length() % 2 == 1) {\n\t\t\tb1 = a.substring(0, a.length()/2);\n\t\t\tb2 = a.substring(a.length()/2, a.length()/2 + 1);\n\t\t\tb3 = a.substring(a.length()/2+1, a.length());\n\t\t}\n\t\telse {\n\t\t\tb1 = a.substring(0, a.length()/2);\n\t\t\tb3 = a.substring(a.length()/2, a.length());\n\t\t}\n\t\treturn b3 + b2 + b1;\n\t}\n\t\n\tpublic static String A(String a) {\n\t\tString b1 = \"\";\n\t\tfor(int i = a.length()-1; i >= 0; i--) {\n\t\t\tb1 += String.valueOf(a.charAt(i));\n\t\t}\n\t\treturn b1;\n\t}\n\t\n\tpublic static String P(String a) {\n\t\tString b1 = \"\";\n\t\tfor(int i = 0; i < a.length(); i++) {\n\t\t\tif(a.charAt(i) == '0') {\n\t\t\t\tb1 += \"1\";\n\t\t\t}\n\t\t\telse if(a.charAt(i) == '1') {\n\t\t\t\tb1 += \"2\";\n\t\t\t}\n\t\t\telse if(a.charAt(i) == '2') {\n\t\t\t\tb1 += \"3\";\n\t\t\t}\n\t\t\telse if(a.charAt(i) == '3') {\n\t\t\t\tb1 += \"4\";\n\t\t\t}\n\t\t\telse if(a.charAt(i) == '4') {\n\t\t\t\tb1 += \"5\";\n\t\t\t}\n\t\t\telse if(a.charAt(i) == '5') {\n\t\t\t\tb1 += \"6\";\n\t\t\t}\n\t\t\telse if(a.charAt(i) == '6') {\n\t\t\t\tb1 += \"7\";\n\t\t\t}\n\t\t\telse if(a.charAt(i) == '7') {\n\t\t\t\tb1 += \"8\";\n\t\t\t}\n\t\t\telse if(a.charAt(i) == '8') {\n\t\t\t\tb1 += \"9\";\n\t\t\t}\n\t\t\telse if(a.charAt(i) == '9') {\n\t\t\t\tb1 += \"0\";\n\t\t\t}\n\t\t\telse {\n\t\t\t\tb1 += String.valueOf(a.charAt(i));\n\t\t\t}\n\t\t}\n\t\treturn b1;\n\t}\n\tpublic static String M(String a) {\n\t\tString b1 = \"\";\n\t\tfor(int i = 0; i < a.length(); i++) {\n\t\t\tif(a.charAt(i) == '0') {\n\t\t\t\tb1 += \"9\";\n\t\t\t}\n\t\t\telse if(a.charAt(i) == '1') {\n\t\t\t\tb1 += \"0\";\n\t\t\t}\n\t\t\telse if(a.charAt(i) == '2') {\n\t\t\t\tb1 += \"1\";\n\t\t\t}\n\t\t\telse if(a.charAt(i) == '3') {\n\t\t\t\tb1 += \"2\";\n\t\t\t}\n\t\t\telse if(a.charAt(i) == '4') {\n\t\t\t\tb1 += \"3\";\n\t\t\t}\n\t\t\telse if(a.charAt(i) == '5') {\n\t\t\t\tb1 += \"4\";\n\t\t\t}\n\t\t\telse if(a.charAt(i) == '6') {\n\t\t\t\tb1 += \"5\";\n\t\t\t}\n\t\t\telse if(a.charAt(i) == '7') {\n\t\t\t\tb1 += \"6\";\n\t\t\t}\n\t\t\telse if(a.charAt(i) == '8') {\n\t\t\t\tb1 += \"7\";\n\t\t\t}\n\t\t\telse if(a.charAt(i) == '9') {\n\t\t\t\tb1 += \"8\";\n\t\t\t}\n\t\t\telse {\n\t\t\t\tb1 += String.valueOf(a.charAt(i));\n\t\t\t}\n\t\t}\n\t\treturn b1;\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "\nimport java.util.Scanner;\n\npublic class Main {\n\tpublic static void main(String[] args) {\n\t\ttry(Scanner sc = new Scanner(System.in)){\n\t\t\tint n=sc.nextInt();\n\t\t\tfor(int i=0; i<n; i++) {\n\t\t\t\tString s=sc.next();\n\t\t\t\tString m=sc.next();\n\t\t\t\tint length=m.length();\n\t\t\t\tString m2=\"\";\n\t\t\t\tfor(int j=s.length()-1; j>=0; j--) {\n\t\t\t\t\tif(s.charAt(j)=='J') {\n\t\t\t\t\t\tfor(int k=0; k<length; k++) {\n\t\t\t\t\t\t\tif(k==0) m2+=m.charAt(length-1);\n\t\t\t\t\t\t\telse m2+=m.charAt(k-1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tm=m2;\n\t\t\t\t\t\tm2=\"\";\n\t\t\t\t\t}\n\t\t\t\t\tif(s.charAt(j)=='C') {\n\t\t\t\t\t\tfor(int k=0; k<length; k++) {\n\t\t\t\t\t\t\tif(k==length-1) m2+=m.charAt(0);\n\t\t\t\t\t\t\telse m2+=m.charAt(k+1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tm=m2;\n\t\t\t\t\t\tm2=\"\";\n\t\t\t\t\t}\n\t\t\t\t\tif(s.charAt(j)=='E') {\n\t\t\t\t\t\tif(length%2==1) {\n\t\t\t\t\t\t\tfor(int k=length/2+1; k<length; k++) {\n\t\t\t\t\t\t\t\tm2+=m.charAt(k);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tm2+=m.charAt(length/2);\n\t\t\t\t\t\t\tfor(int k=0; k<length/2; k++) {\n\t\t\t\t\t\t\t\tm2+=m.charAt(k);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tfor(int k=length/2; k<length; k++) {\n\t\t\t\t\t\t\t\tm2+=m.charAt(k);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfor(int k=0; k<length/2; k++) {\n\t\t\t\t\t\t\t\tm2+=m.charAt(k);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tm=m2;\n\t\t\t\t\t\tm2=\"\";\n\t\t\t\t\t}\n\t\t\t\t\tif(s.charAt(j)=='A') {\n\t\t\t\t\t\tfor(int k=length-1; k>=0; k--) {\n\t\t\t\t\t\t\tm2+=m.charAt(k);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tm=m2;\n\t\t\t\t\t\tm2=\"\";\n\t\t\t\t\t}\n\t\t\t\t\tif(s.charAt(j)=='P') {\n\t\t\t\t\t\tfor(int k=0; k<length; k++) {\n\t\t\t\t\t\t\tif(Character.isDigit(m.charAt(k))) {\n\t\t\t\t\t\t\t\tint num=m.charAt(k)-'0';\n\t\t\t\t\t\t\t\tnum--;\n\t\t\t\t\t\t\t\tif(num<0) num=9;\n\t\t\t\t\t\t\t\tm2+=String.valueOf(num);\n\t\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\t\tm2+=m.charAt(k);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tm=m2;\n\t\t\t\t\t\tm2=\"\";\n\t\t\t\t\t}\n\t\t\t\t\tif(s.charAt(j)=='M') {\n\t\t\t\t\t\tfor(int k=0; k<length; k++) {\n\t\t\t\t\t\t\tif(Character.isDigit(m.charAt(k))) {\n\t\t\t\t\t\t\t\tint num=m.charAt(k)-'0';\n\t\t\t\t\t\t\t\tnum++;\n\t\t\t\t\t\t\t\tif(num>9) num=0;\n\t\t\t\t\t\t\t\tm2+=String.valueOf(num);\n\t\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\t\tm2+=m.charAt(k);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tm=m2;\n\t\t\t\t\t\tm2=\"\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tSystem.out.println(m);\n\t\t\t\t\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\n\t\t}\n\t}\n}\n"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\nclass Main{\n\tstatic Scanner s=new Scanner(System.in);\n\tpublic static void main(String[] $){\n\t\tint n=s.nextInt();\n\t\tfor(int q=0;q<n;++q) {\n\t\t\tString m=s.next();\n\t\t\tStringBuilder v=new StringBuilder(s.next());\n\t\t\tfor(int i=m.length()-1;i>=0;--i) {\n\t\t\t\tswitch(m.charAt(i)) {\n\t\t\t\tcase 'J':\n\t\t\t\t\tv.insert(0,v.charAt(v.length()-1)).deleteCharAt(v.length()-1);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'C':\n\t\t\t\t\tv.append(v.charAt(0)).deleteCharAt(0);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'E':\n\t\t\t\t\tString t=v.substring(0,v.length()/2);\n\t\t\t\t\tString u=v.substring(v.length()-v.length()/2,v.length());\n\t\t\t\t\tv.replace(0,v.length()/2,u);\n\t\t\t\t\tv.replace(v.length()-v.length()/2,v.length(),t);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'A':\n\t\t\t\t\tv.reverse();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'P':\n\t\t\t\t\tfor(int j=0;j<v.length();++j) {\n\t\t\t\t\t\tchar c=v.charAt(j);\n\t\t\t\t\t\tif(Character.isDigit(c))\n\t\t\t\t\t\t\tv.setCharAt(j,(char)((c-'0'+9)%10+'0'));\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'M':\n\t\t\t\t\tfor(int j=0;j<v.length();++j) {\n\t\t\t\t\t\tchar c=v.charAt(j);\n\t\t\t\t\t\tif(Character.isDigit(c))\n\t\t\t\t\t\t\tv.setCharAt(j,(char)((c-'0'+1)%10+'0'));\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(v);\n\t\t}\n\t}\n}\n"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\n\npublic class Main {\n\tchar[] ms;\n\tchar[] msg;\n\n\tvoid run() {\n\t\tScanner sc = new Scanner(System.in);\n\t\tint n = sc.nextInt();\n\t\twhile (n != 0) {\n\t\t\tms = sc.next().toCharArray();\n\t\t\tmsg = sc.next().toCharArray();\n\t\t\tsolve();\n\t\t\tn--;\n\t\t}\n\t}\n\n\tvoid solve() {\n\t\tfor (int k = ms.length - 1; k >= 0; k--) {\n\t\t\tStringBuilder sb = new StringBuilder();\n\t\t\tswitch (ms[k]) {\n\t\t\tcase 'A':\n\t\t\t\tmsg = sb.append(msg).reverse().toString().toCharArray();\n\t\t\t\tbreak;\n\t\t\tcase 'J':\n\t\t\t\tsb.append(msg[msg.length - 1]);\n\t\t\t\tfor (int i = 0; i < msg.length - 1; i++)\n\t\t\t\t\tsb.append(msg[i]);\n\t\t\t\tmsg = sb.toString().toCharArray();\n\t\t\t\tbreak;\n\t\t\tcase 'C':\n\t\t\t\tfor (int i = 1; i < msg.length; i++)\n\t\t\t\t\tsb.append(msg[i]);\n\t\t\t\tsb.append(msg[0]);\n\t\t\t\tmsg = sb.toString().toCharArray();\n\t\t\t\tbreak;\n\t\t\tcase 'P':\n\t\t\t\tfor (int i = 0; i < msg.length; i++) {\n\t\t\t\t\tif (msg[i] - '0' >= 0 && msg[i] - '0' <= 9) {\n\t\t\t\t\t\tif (msg[i] == '0') {\n\t\t\t\t\t\t\tmsg[i] = '9';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tmsg[i]--;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'M':\n\t\t\t\tfor (int i = 0; i < msg.length; i++) {\n\t\t\t\t\tif (msg[i] - '0' >= 0 && msg[i] - '0' <= 9) {\n\t\t\t\t\t\tif (msg[i] == '9') {\n\t\t\t\t\t\t\tmsg[i] = '0';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tmsg[i]++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 'E':\n\t\t\t\tif (msg.length % 2 == 0) {\n\t\t\t\t\tfor (int i = msg.length / 2; i < msg.length; i++) {\n\t\t\t\t\t\tsb.append(msg[i]);\n\t\t\t\t\t}\n\t\t\t\t\tfor (int i = 0; i < msg.length / 2; i++) {\n\t\t\t\t\t\tsb.append(msg[i]);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tfor (int i = msg.length / 2 + 1; i < msg.length; i++) {\n\t\t\t\t\t\tsb.append(msg[i]);\n\t\t\t\t\t}\n\t\t\t\t\tsb.append(msg[msg.length / 2]);\n\t\t\t\t\tfor (int i = 0; i < msg.length / 2; i++) {\n\t\t\t\t\t\tsb.append(msg[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tmsg = sb.toString().toCharArray();\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tSystem.out.println(new StringBuilder().append(msg).toString());\n\t}\n\n\tpublic static void main(String[] args) throws Exception {\n\t\tnew Main().run();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.InputStream;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Comparator;\nimport java.util.InputMismatchException;\nimport java.util.NoSuchElementException;\nimport java.math.BigInteger;\n\npublic class Main{\n\nstatic PrintWriter out;\nstatic InputReader ir;\n\nstatic void solve(){\n int n=ir.nextInt();\n char[] com;\n String s;\n while(n-->0){\n  com=new StringBuilder(ir.next()).reverse().toString().toCharArray();\n  s=ir.next();\n  for(int i=0;i<com.length;i++){\n   if(com[i]=='J') J(s);\n   else if(com[i]=='C') C(s);\n   else if(com[i]=='E') E(s);\n   else if(com[i]=='A') A(s);\n   else if(com[i]=='P') P(s);\n   else M(s);\n  }\n  out.println(s);\n }\n}\n\npublic static void C(String s){\n s=s.substring(1)+s.substring(0,1);\n}\n\npublic static void J(String s){\n s=s.substring(s.length()-1)+s.substring(0,s.length()-1);\n}\n\npublic static void E(String s){\n if(s.length()%2==0){\n  s=s.substring(s.length()/2)+s.substring(0,s.length()/2);\n }\n else{\n  s=s.substring((s.length()+1)/2)+s.substring((s.length()-1)/2,(s.length()+1)/2)+s.substring(0,(s.length()-1)/2);\n }\n}\n\npublic static void A(String s){\n s=new StringBuilder(s).reverse().toString();\n}\n\npublic static void M(String s){\n char[] ss=s.toCharArray();\n for(int i=0;i<s.length();i++){\n  if(ss[i]>='0'&&ss[i]<='9'){\n   if(ss[i]=='9') ss[i]='0';\n   else ss[i]++;\n  }\n }\n s=String.valueOf(ss);\n}\n\npublic static void P(String s){\n char[] ss=s.toCharArray();\n for(int i=0;i<s.length();i++){\n  if(ss[i]>='0'&&ss[i]<='9'){\n   if(ss[i]=='0') ss[i]='9';\n   else ss[i]--;\n  }\n }\n s=String.valueOf(ss);\n}\n\npublic static void main(String[] args) throws Exception{\n ir=new InputReader(System.in);\n out=new PrintWriter(System.out);\n solve();\n out.flush();\n}\n\nstatic class InputReader {\n private InputStream in;\n private byte[] buffer=new byte[1024];\n private int curbuf;\n private int lenbuf;\n\n public InputReader(InputStream in) {this.in=in; this.curbuf=this.lenbuf=0;}\n \n public boolean hasNextByte() {\n  if(curbuf>=lenbuf){\n   curbuf= 0;\n   try{\n    lenbuf=in.read(buffer);\n   }catch(IOException e) {\n    throw new InputMismatchException();\n   }\n   if(lenbuf<=0) return false;\n  }\n  return true;\n }\n\n private int readByte(){if(hasNextByte()) return buffer[curbuf++]; else return -1;}\n \n private boolean isSpaceChar(int c){return !(c>=33&&c<=126);}\n \n private void skip(){while(hasNextByte()&&isSpaceChar(buffer[curbuf])) curbuf++;}\n \n public boolean hasNext(){skip(); return hasNextByte();}\n \n public String next(){\n  if(!hasNext()) throw new NoSuchElementException();\n  StringBuilder sb=new StringBuilder();\n  int b=readByte();\n  while(!isSpaceChar(b)){\n   sb.appendCodePoint(b);\n   b=readByte();\n  }\n  return sb.toString();\n }\n \n public int nextInt() {\n  if(!hasNext()) throw new NoSuchElementException();\n  int c=readByte();\n  while (isSpaceChar(c)) c=readByte();\n  boolean minus=false;\n  if (c=='-') {\n   minus=true;\n   c=readByte();\n  }\n  int res=0;\n  do{\n   if(c<'0'||c>'9') throw new InputMismatchException();\n   res=res*10+c-'0';\n   c=readByte();\n  }while(!isSpaceChar(c));\n  return (minus)?-res:res;\n }\n \n public long nextLong() {\n  if(!hasNext()) throw new NoSuchElementException();\n  int c=readByte();\n  while (isSpaceChar(c)) c=readByte();\n  boolean minus=false;\n  if (c=='-') {\n   minus=true;\n   c=readByte();\n  }\n  long res = 0;\n  do{\n   if(c<'0'||c>'9') throw new InputMismatchException();\n   res=res*10+c-'0';\n   c=readByte();\n  }while(!isSpaceChar(c));\n  return (minus)?-res:res;\n }\n\n public double nextDouble(){return Double.parseDouble(next());}\n\n public int[] nextIntArray(int n){\n  int[] a=new int[n];\n  for(int i=0;i<n;i++) a[i]=nextInt();\n  return a;\n }\n\n public long[] nextLongArray(int n){\n  long[] a=new long[n];\n  for(int i=0;i<n;i++) a[i]=nextLong();\n  return a;\n }\n\n public char[][] nextCharMap(int n,int m){\n  char[][] map=new char[n][m];\n  for(int i=0;i<n;i++) map[i]=next().toCharArray();\n  return map;\n }\n}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.InputStream;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Comparator;\nimport java.util.InputMismatchException;\nimport java.util.NoSuchElementException;\nimport java.math.BigInteger;\n\npublic class Main{\n\nstatic PrintWriter out;\nstatic InputReader ir;\n\nstatic void solve(){\n int n=ir.nextInt();\n char[] com;\n String s;\n while(n-->0){\n  com=ir.next().toCharArray();\n  s=ir.next();\n  for(int i=com.length-1;i>=0;i--){\n   if(com[i]=='J') J(s);\n   else if(com[i]=='C') C(s);\n   else if(com[i]=='E') E(s);\n   else if(com[i]=='A') A(s);\n   else if(com[i]=='P') P(s);\n   else M(s);\n  }\n  out.println(s);\n }\n}\n\npublic static void J(String s){\n s=s.substring(1)+s.substring(0,1);\n}\n\npublic static void C(String s){\n s=s.substring(s.length()-1)+s.substring(0,s.length()-1);\n}\n\npublic static void E(String s){\n if(s.length()%2==0){\n  s=s.substring(s.length()/2)+s.substring(0,s.length()/2);\n }\n else{\n  s=s.substring((s.length()+1)/2)+s.substring((s.length()-1)/2,(s.length()+1)/2)+s.substring(0,(s.length()-1)/2);\n }\n}\n\npublic static void A(String s){\n s=new StringBuilder(s).reverse().toString();\n}\n\npublic static void P(String s){\n char[] ss=s.toCharArray();\n for(int i=0;i<s.length();i++){\n  if(!(ss[i]>='0'&&ss[i]<='9')) continue;\n  if(ss[i]=='9') ss[i]='0';\n  else ss[i]++;\n }\n s=String.valueOf(ss);\n}\n\npublic static void M(String s){\n char[] ss=s.toCharArray();\n for(int i=0;i<s.length();i++){\n  if(!(ss[i]>='0'&&ss[i]<='9')) continue;\n  if(ss[i]=='0') ss[i]='9';\n  else ss[i]--;\n }\n s=String.valueOf(ss);\n}\n\npublic static void main(String[] args) throws Exception{\n ir=new InputReader(System.in);\n out=new PrintWriter(System.out);\n solve();\n out.flush();\n}\n\nstatic class InputReader {\n private InputStream in;\n private byte[] buffer=new byte[1024];\n private int curbuf;\n private int lenbuf;\n\n public InputReader(InputStream in) {this.in=in; this.curbuf=this.lenbuf=0;}\n \n public boolean hasNextByte() {\n  if(curbuf>=lenbuf){\n   curbuf= 0;\n   try{\n    lenbuf=in.read(buffer);\n   }catch(IOException e) {\n    throw new InputMismatchException();\n   }\n   if(lenbuf<=0) return false;\n  }\n  return true;\n }\n\n private int readByte(){if(hasNextByte()) return buffer[curbuf++]; else return -1;}\n \n private boolean isSpaceChar(int c){return !(c>=33&&c<=126);}\n \n private void skip(){while(hasNextByte()&&isSpaceChar(buffer[curbuf])) curbuf++;}\n \n public boolean hasNext(){skip(); return hasNextByte();}\n \n public String next(){\n  if(!hasNext()) throw new NoSuchElementException();\n  StringBuilder sb=new StringBuilder();\n  int b=readByte();\n  while(!isSpaceChar(b)){\n   sb.appendCodePoint(b);\n   b=readByte();\n  }\n  return sb.toString();\n }\n \n public int nextInt() {\n  if(!hasNext()) throw new NoSuchElementException();\n  int c=readByte();\n  while (isSpaceChar(c)) c=readByte();\n  boolean minus=false;\n  if (c=='-') {\n   minus=true;\n   c=readByte();\n  }\n  int res=0;\n  do{\n   if(c<'0'||c>'9') throw new InputMismatchException();\n   res=res*10+c-'0';\n   c=readByte();\n  }while(!isSpaceChar(c));\n  return (minus)?-res:res;\n }\n \n public long nextLong() {\n  if(!hasNext()) throw new NoSuchElementException();\n  int c=readByte();\n  while (isSpaceChar(c)) c=readByte();\n  boolean minus=false;\n  if (c=='-') {\n   minus=true;\n   c=readByte();\n  }\n  long res = 0;\n  do{\n   if(c<'0'||c>'9') throw new InputMismatchException();\n   res=res*10+c-'0';\n   c=readByte();\n  }while(!isSpaceChar(c));\n  return (minus)?-res:res;\n }\n\n public double nextDouble(){return Double.parseDouble(next());}\n\n public int[] nextIntArray(int n){\n  int[] a=new int[n];\n  for(int i=0;i<n;i++) a[i]=nextInt();\n  return a;\n }\n\n public long[] nextLongArray(int n){\n  long[] a=new long[n];\n  for(int i=0;i<n;i++) a[i]=nextLong();\n  return a;\n }\n\n public char[][] nextCharMap(int n,int m){\n  char[][] map=new char[n][m];\n  for(int i=0;i<n;i++) map[i]=next().toCharArray();\n  return map;\n }\n}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\nimport java.io.*;\nimport java.awt.geom.*;\nimport java.math.*;\n\npublic class Main {\n\n\tstatic final Scanner in = new Scanner(System.in);\n\tstatic final PrintWriter out = new PrintWriter(System.out,false);\n\tstatic boolean debug = false;\n\n\tstatic void solve() {\n\t\tint n = in.nextInt();\n\t\twhile (n-- > 0) {\n\t\t\tString order = in.next();\n\t\t\tStringBuilder m = new StringBuilder(in.next());\n\t\t\tint ln = m.length();\n\t\t\tfor (int i=order.length()-1; i>=0; i--) {\n\t\t\t\tswitch (order.charAt(i)) {\n\t\t\t\t\tcase 'J':\n\t\t\t\t\t\tm.insert(0, m.charAt(ln-1));\n\t\t\t\t\t\tm.deleteCharAt(ln);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'C':\n\t\t\t\t\t\tm.append(m.charAt(0));\n\t\t\t\t\t\tm.deleteCharAt(0);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'E':\n\t\t\t\t\t\tif (ln%2 == 0) {\n\t\t\t\t\t\t\tm.append(m.substring(0, ln/2));\n\t\t\t\t\t\t\tm.delete(0, ln/2);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tm.append(m.charAt(ln/2));\n\t\t\t\t\t\t\tm.append(m.substring(0, ln/2));\n\t\t\t\t\t\t\tm.delete(0, (ln+1)/2);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'A':\n\t\t\t\t\t\tm.reverse();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'P':\n\t\t\t\t\t\tfor (int j=0; j<ln; j++) {\n\t\t\t\t\t\t\tif ('1' <= m.charAt(j) && m.charAt(j) <= '9') {\n\t\t\t\t\t\t\t\tm.setCharAt(j, (char)(m.charAt(j)-1));\n\t\t\t\t\t\t\t} else if (m.charAt(j) == '0') {\n\t\t\t\t\t\t\t\tm.setCharAt(j, '9');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'M':\n\t\t\t\t\t\tfor (int j=0; j<ln; j++) {\n\t\t\t\t\t\t\tif ('0' <= m.charAt(j) && m.charAt(j) <= '8') {\n\t\t\t\t\t\t\t\tm.setCharAt(j, (char)(m.charAt(j)+1));\n\t\t\t\t\t\t\t} else if (m.charAt(j) == '9') {\n\t\t\t\t\t\t\t\tm.setCharAt(j, '0');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t// out.println(m);\n\t\t\t}\n\n\t\t\tout.println(m);\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tdebug = args.length > 0;\n\t\tlong start = System.nanoTime();\n\n\t\tsolve();\n\t\tout.flush();\n\n\t\tlong end = System.nanoTime();\n\t\tdump((end - start) / 1000000 + \" ms\");\n\t\tin.close();\n\t\tout.close();\n\t}\n\n\tstatic void dump(Object... o) { if (debug) System.err.println(Arrays.deepToString(o)); }\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException;\nimport java.util.Arrays;\nimport java.util.LinkedList;\nimport java.util.List;\nimport java.util.PriorityQueue;\nimport java.util.Scanner;\n\npublic class Main {\n\n\n\tpublic static void main(String[] args) {\n\t\tfinal Scanner sc = new Scanner(System.in);\n\n\t\tfinal int n = sc.nextInt();\n\t\t\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tchar[] order = new StringBuilder(sc.next()).reverse().toString().toCharArray();\n\t\t\tStringBuilder input = new StringBuilder(sc.next());\n\t\t\t\n\t\t\tfor(char o : order){\n\t\t\t\t//System.out.println(input);\n\t\t\t\t\n\t\t\t\tif(o == 'J'){\n\t\t\t\t\tinput.insert(0, input.charAt(input.length() - 1)).deleteCharAt(input.length() - 1);\n\t\t\t\t}else if(o == 'C'){\n\t\t\t\t\tinput.append(input.charAt(0)).deleteCharAt(0);\n\t\t\t\t}else if(o == 'E'){\n\t\t\t\t\tCharSequence sb1 = input.subSequence(input.length() - input.length() / 2, input.length());\n\t\t\t\t\tCharSequence sb2 = input.subSequence(0, input.length() / 2);\n\t\t\t\t\t\n\t\t\t\t\tStringBuilder s = new StringBuilder();\n\t\t\t\t\tif(input.length() % 2 == 1){\n\t\t\t\t\t\ts.append(input.charAt(input.length() / 2 + 1));\n\t\t\t\t\t}\n\t\t\t\t\ts.insert(0, sb1);\n\t\t\t\t\ts.append(sb2);\n\t\t\t\t\t\n\t\t\t\t\tinput = s;\n\t\t\t\t}else if(o == 'A'){\n\t\t\t\t\tinput.reverse();\n\t\t\t\t}else if(o == 'P'){\n\t\t\t\t\tStringBuilder tmp = new StringBuilder();\n\t\t\t\t\tchar[] array = input.toString().toCharArray();\n\t\t\t\t\tfor(char c : array){\n\t\t\t\t\t\t\n\t\t\t\t\t\tif('0' <= c && c <= '9'){\n\t\t\t\t\t\t\ttmp.append((char)((c - 1) < '0' ? '9' : (c - 1)));\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\ttmp.append(c);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//System.out.println(tmp);\n\t\t\t\t\t}\n\t\t\t\t\tinput = tmp;\n\t\t\t\t}else if(o == 'M'){\n\t\t\t\t\tStringBuilder tmp = new StringBuilder();\n\t\t\t\t\tchar[] array = input.toString().toCharArray();\n\t\t\t\t\tfor(char c : array){\n\t\t\t\t\t\tif('0' <= c && c <= '9'){\n\t\t\t\t\t\t\ttmp.append((char)((c + 1) > '9' ? '0' : (c + 1)));\t\t\t\t\t\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\ttmp.append(c);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tinput = tmp;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tSystem.out.println(input);\n\t\t}\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\n\npublic class Main {\n\n\tScanner sc = new Scanner(System.in);\n\tpublic void run() {\n\t\tint n = sc.nextInt();\n\t\tsc.nextLine();\n\t\tfor(int i=0; i<n;i++){\n\t\t\tString order = sc.nextLine();\n\t\t\tString message = sc.nextLine();\n\t\t\tcalc(order, message);\n\t\t}\n\t}\n\tpublic void calc(String order, String message){\n\t\tif(order.equals(\"\")) System.out.println(message);\n\t\telse{\n\t\t\tString person = order.substring(order.length() - 1);\n\t\t\tif(person.equals(\"J\")){\n\t\t\t\tString me = message.substring(message.length()-1) + message.substring(0, message.length() - 1);\n\t\t\t\tmessage = me;\n\t\t\t}\n\t\t\telse if(person.equals(\"C\")){\n\t\t\t\tString me = message.substring(1) + message.substring(0, 1);\n\t\t\t\tmessage = me;\n\t\t\t}\n\t\t\telse if(person.equals(\"E\")){\n\t\t\t\tint half = message.length() / 2;\n\t\t\t\tString me = message.substring(message.length()-half) \n\t\t\t\t\t\t+ message.substring(half, message.length()-half) \n\t\t\t\t\t\t+ message.substring(0, half);\n\t\t\t\tmessage = me;\n\t\t\t}\n\t\t\telse if(person.equals(\"A\")){\n\t\t\t\tString me = reverse(message, \"\");\n\t\t\t\tmessage = me;\n\t\t\t}\n\t\t\telse if(person.equals(\"P\")){\n\t\t\t\tString me = addNum(message, -1);\n\t\t\t\tmessage = me;\n\t\t\t}\n\t\t\telse if(person.equals(\"M\")){\n\t\t\t\tString me = addNum(message, 1);\n\t\t\t\tmessage = me;\n\t\t\t}\n\t\t\tcalc(order.substring(0, order.length()-1), message);\n\t\t}\n\t}\n\tpublic String reverse(String s, String ans){\n\t\tif(s.equals(\"\")) return ans;\n\t\telse{\n\t\t\tans = ans + s.substring(s.length()-1);\n\t\t\treturn reverse(s.substring(0, s.length()-1), ans);\n\t\t}\n\t}\n\tpublic String addNum(String message, int n){\n\t\tfor(int i = 0; i < message.length(); i++){\n\t\t\tString c = message.substring(i, i+1);\n\t\t\tif(c.equals(\"0\")) message = message.substring(0,i) + addN(0,n) + message.substring(i+1);\n\t\t\telse if(c.equals(\"1\")) message = message.substring(0,i) + addN(1,n) + message.substring(i+1);\n\t\t\telse if(c.equals(\"2\")) message = message.substring(0,i) + addN(2,n) + message.substring(i+1);\n\t\t\telse if(c.equals(\"3\")) message = message.substring(0,i) + addN(3,n) + message.substring(i+1);\n\t\t\telse if(c.equals(\"4\")) message = message.substring(0,i) + addN(4,n) + message.substring(i+1);\n\t\t\telse if(c.equals(\"5\")) message = message.substring(0,i) + addN(5,n) + message.substring(i+1);\n\t\t\telse if(c.equals(\"6\")) message = message.substring(0,i) + addN(6,n) + message.substring(i+1);\n\t\t\telse if(c.equals(\"7\")) message = message.substring(0,i) + addN(7,n) + message.substring(i+1);\n\t\t\telse if(c.equals(\"8\")) message = message.substring(0,i) + addN(8,n) + message.substring(i+1);\n\t\t\telse if(c.equals(\"9\")) message = message.substring(0,i) + addN(9,n) + message.substring(i+1);\n\t\t}\n\t\treturn message;\n\t}\n\tpublic String addN(int m, int n){\n\t\tint ans = m + n;\n\t\tif(ans > 10) ans = ans - 10;\n\t\tif(ans == -1) ans = 9;\n\t\treturn Integer.toString(ans);\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.InputStream;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Comparator;\nimport java.util.InputMismatchException;\nimport java.util.NoSuchElementException;\nimport java.math.BigInteger;\n\npublic class Main{\n\nstatic PrintWriter out;\nstatic InputReader ir;\n\nstatic void solve(){\n int n=ir.nextInt();\n char[] com;\n String s;\n while(n-->0){\n  com=ir.next().toCharArray();\n  s=ir.next();\n  for(int i=com.length-1;i>=0;i--){\n   if(com[i]=='J') J(s);\n   else if(com[i]=='C') C(s);\n   else if(com[i]=='E') E(s);\n   else if(com[i]=='A') A(s);\n   else if(com[i]=='P') P(s);\n   else M(s);\n  }\n  out.println(s);\n }\n}\n\npublic static void J(String s){\n s=s.substring(1)+s.substring(0,1);\n}\n\npublic static void C(String s){\n s=s.substring(s.length()-1)+s.substring(0,s.length()-1);\n}\n\npublic static void E(String s){\n if(s.length()%2==0){\n  s=s.substring(s.length()/2)+s.substring(0,s.length()/2);\n }\n else{\n  s=s.substring((s.length()+1)/2)+s.substring((s.length()-1)/2,(s.length()+1)/2)+s.substring(0,(s.length()-1)/2);\n }\n}\n\npublic static void A(String s){\n s=new StringBuilder(s).reverse().toString();\n}\n\npublic static void M(String s){\n char[] ss=s.toCharArray();\n for(int i=0;i<s.length();i++){\n  if(!(ss[i]>='0'&&ss[i]<='9')) continue;\n  if(ss[i]=='9') ss[i]='0';\n  else ss[i]++;\n }\n s=String.valueOf(ss);\n}\n\npublic static void P(String s){\n char[] ss=s.toCharArray();\n for(int i=0;i<s.length();i++){\n  if(!(ss[i]>='0'&&ss[i]<='9')) continue;\n  if(ss[i]=='0') ss[i]='9';\n  else ss[i]--;\n }\n s=String.valueOf(ss);\n}\n\npublic static void main(String[] args) throws Exception{\n ir=new InputReader(System.in);\n out=new PrintWriter(System.out);\n solve();\n out.flush();\n}\n\nstatic class InputReader {\n private InputStream in;\n private byte[] buffer=new byte[1024];\n private int curbuf;\n private int lenbuf;\n\n public InputReader(InputStream in) {this.in=in; this.curbuf=this.lenbuf=0;}\n \n public boolean hasNextByte() {\n  if(curbuf>=lenbuf){\n   curbuf= 0;\n   try{\n    lenbuf=in.read(buffer);\n   }catch(IOException e) {\n    throw new InputMismatchException();\n   }\n   if(lenbuf<=0) return false;\n  }\n  return true;\n }\n\n private int readByte(){if(hasNextByte()) return buffer[curbuf++]; else return -1;}\n \n private boolean isSpaceChar(int c){return !(c>=33&&c<=126);}\n \n private void skip(){while(hasNextByte()&&isSpaceChar(buffer[curbuf])) curbuf++;}\n \n public boolean hasNext(){skip(); return hasNextByte();}\n \n public String next(){\n  if(!hasNext()) throw new NoSuchElementException();\n  StringBuilder sb=new StringBuilder();\n  int b=readByte();\n  while(!isSpaceChar(b)){\n   sb.appendCodePoint(b);\n   b=readByte();\n  }\n  return sb.toString();\n }\n \n public int nextInt() {\n  if(!hasNext()) throw new NoSuchElementException();\n  int c=readByte();\n  while (isSpaceChar(c)) c=readByte();\n  boolean minus=false;\n  if (c=='-') {\n   minus=true;\n   c=readByte();\n  }\n  int res=0;\n  do{\n   if(c<'0'||c>'9') throw new InputMismatchException();\n   res=res*10+c-'0';\n   c=readByte();\n  }while(!isSpaceChar(c));\n  return (minus)?-res:res;\n }\n \n public long nextLong() {\n  if(!hasNext()) throw new NoSuchElementException();\n  int c=readByte();\n  while (isSpaceChar(c)) c=readByte();\n  boolean minus=false;\n  if (c=='-') {\n   minus=true;\n   c=readByte();\n  }\n  long res = 0;\n  do{\n   if(c<'0'||c>'9') throw new InputMismatchException();\n   res=res*10+c-'0';\n   c=readByte();\n  }while(!isSpaceChar(c));\n  return (minus)?-res:res;\n }\n\n public double nextDouble(){return Double.parseDouble(next());}\n\n public int[] nextIntArray(int n){\n  int[] a=new int[n];\n  for(int i=0;i<n;i++) a[i]=nextInt();\n  return a;\n }\n\n public long[] nextLongArray(int n){\n  long[] a=new long[n];\n  for(int i=0;i<n;i++) a[i]=nextLong();\n  return a;\n }\n\n public char[][] nextCharMap(int n,int m){\n  char[][] map=new char[n][m];\n  for(int i=0;i<n;i++) map[i]=next().toCharArray();\n  return map;\n }\n}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\nimport static java.lang.System.*;\n\npublic class Main {\n\n\tScanner sc = new Scanner(in);\n\t\n\tString reverse(String s) {\n\t\tString ans = \"\";\n\t\tint len = s.length();\n\t\tfor (int i = 0; i < len; i++)\n\t\t\tans += s.charAt(len-i-1);\n\t\treturn ans;\n\t}\n\t\n\tString J(String s) {\n\t\treturn s.substring(s.length()-1)+s.substring(0, s.length()-1);\n\t}\n\t\n\tString C(String s) {\n\t\treturn s.substring(1)+s.substring(0, 1);\n\t}\n\t\n\tString A(String s) {\t\n\t\treturn reverse(s);\n\t}\n\t\n\tString P(String s) {\n\t\tchar[] ans = s.toCharArray();\n\t\tfor (int i = 0; i < ans.length; i++) {\n\t\t\tif (Character.isDigit(ans[i])) {\n\t\t\t\tswitch(ans[i]) {\n\t\t\t\tcase '0': ans[i] = '9'; break;\n\t\t\t\tcase '1': ans[i] = '0'; break;\n\t\t\t\tcase '2': ans[i] = '1'; break;\n\t\t\t\tcase '3': ans[i] = '2'; break;\n\t\t\t\tcase '4': ans[i] = '3'; break;\n\t\t\t\tcase '5': ans[i] = '4'; break;\n\t\t\t\tcase '6': ans[i] = '5'; break;\n\t\t\t\tcase '7': ans[i] = '6'; break;\n\t\t\t\tcase '8': ans[i] = '7'; break;\n\t\t\t\tcase '9': ans[i] = '8'; break;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn String.valueOf(ans);\n\t}\n\t\n\tString M(String s) {\n\t\tchar[] ans = s.toCharArray();\n\t\tfor (int i = 0; i < ans.length; i++) {\n\t\t\tif (Character.isDigit(ans[i])) {\n\t\t\t\tswitch(ans[i]) {\n\t\t\t\tcase '0': ans[i] = '1'; break;\n\t\t\t\tcase '1': ans[i] = '2'; break;\n\t\t\t\tcase '2': ans[i] = '3'; break;\n\t\t\t\tcase '3': ans[i] = '4'; break;\n\t\t\t\tcase '4': ans[i] = '5'; break;\n\t\t\t\tcase '5': ans[i] = '6'; break;\n\t\t\t\tcase '6': ans[i] = '7'; break;\n\t\t\t\tcase '7': ans[i] = '8'; break;\n\t\t\t\tcase '8': ans[i] = '9'; break;\n\t\t\t\tcase '9': ans[i] = '0'; break;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn String.valueOf(ans);\n\t}\n\t\n\tString E(String s) {\n\t\tint n = s.length();\n\t\tif (n % 2 == 0) {\n\t\t\treturn s.substring(n/2)+s.substring(0,n/2); \n\t\t} else {\n\t\t\treturn s.substring(n/2+1)+s.substring(n/2, n/2+1)+s.substring(0,n/2);\n\t\t}\n\t}\n\t\n\tvoid run() {\n\t\tint n = sc.nextInt();\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tString order = sc.next();\n\t\t\tString message = sc.next();\n\t\t\tfor (int j = order.length()-1; j >= 0; j--) {\n\t\t\t\tswitch(order.charAt(j)) {\n\t\t\t\tcase 'J': message = J(message); break;\n\t\t\t\tcase 'C': message = C(message); break;\n\t\t\t\tcase 'E': message = E(message); break;\n\t\t\t\tcase 'A': message = A(message); break;\n\t\t\t\tcase 'P': message = P(message); break;\n\t\t\t\tcase 'M': message = M(message); break;\n\t\t\t\t}\n\t\t\t}\n\t\t\tout.println(message);\n\t\t}\n\t}\n\t\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.InputStream;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Comparator;\nimport java.util.InputMismatchException;\nimport java.util.NoSuchElementException;\nimport java.math.BigInteger;\n\npublic class Main{\n\nstatic PrintWriter out;\nstatic InputReader ir;\n\nstatic void solve(){\n int n=ir.nextInt();\n char[] com;\n String s;\n while(n-->0){\n  com=ir.next().toCharArray();\n  s=ir.next();\n  for(int i=com.length-1;i>=0;i--){\n   if(com[i]=='J') J(s);\n   else if(com[i]=='C') C(s);\n   else if(com[i]=='E') E(s);\n   else if(com[i]=='A') A(s);\n   else if(com[i]=='P') P(s);\n   else M(s);\n  }\n  out.println(s);\n }\n}\n\npublic static void C(String s){\n s=s.substring(1)+s.substring(0,1);\n}\n\npublic static void J(String s){\n s=s.substring(s.length()-1)+s.substring(0,s.length()-1);\n}\n\npublic static void E(String s){\n if(s.length()%2==0){\n  s=s.substring(s.length()/2)+s.substring(0,s.length()/2);\n }\n else{\n  s=s.substring((s.length()+1)/2)+s.substring((s.length()-1)/2,(s.length()+1)/2)+s.substring(0,(s.length()-1)/2);\n }\n}\n\npublic static void A(String s){\n s=new StringBuilder(s).reverse().toString();\n}\n\npublic static void M(String s){\n char[] ss=s.toCharArray();\n for(int i=0;i<s.length();i++){\n  if(!(ss[i]>='0'&&ss[i]<='9')) continue;\n  if(ss[i]=='9') ss[i]='0';\n  else ss[i]++;\n }\n s=String.valueOf(ss);\n}\n\npublic static void P(String s){\n char[] ss=s.toCharArray();\n for(int i=0;i<s.length();i++){\n  if(!(ss[i]>='0'&&ss[i]<='9')) continue;\n  if(ss[i]=='0') ss[i]='9';\n  else ss[i]--;\n }\n s=String.valueOf(ss);\n}\n\npublic static void main(String[] args) throws Exception{\n ir=new InputReader(System.in);\n out=new PrintWriter(System.out);\n solve();\n out.flush();\n}\n\nstatic class InputReader {\n private InputStream in;\n private byte[] buffer=new byte[1024];\n private int curbuf;\n private int lenbuf;\n\n public InputReader(InputStream in) {this.in=in; this.curbuf=this.lenbuf=0;}\n \n public boolean hasNextByte() {\n  if(curbuf>=lenbuf){\n   curbuf= 0;\n   try{\n    lenbuf=in.read(buffer);\n   }catch(IOException e) {\n    throw new InputMismatchException();\n   }\n   if(lenbuf<=0) return false;\n  }\n  return true;\n }\n\n private int readByte(){if(hasNextByte()) return buffer[curbuf++]; else return -1;}\n \n private boolean isSpaceChar(int c){return !(c>=33&&c<=126);}\n \n private void skip(){while(hasNextByte()&&isSpaceChar(buffer[curbuf])) curbuf++;}\n \n public boolean hasNext(){skip(); return hasNextByte();}\n \n public String next(){\n  if(!hasNext()) throw new NoSuchElementException();\n  StringBuilder sb=new StringBuilder();\n  int b=readByte();\n  while(!isSpaceChar(b)){\n   sb.appendCodePoint(b);\n   b=readByte();\n  }\n  return sb.toString();\n }\n \n public int nextInt() {\n  if(!hasNext()) throw new NoSuchElementException();\n  int c=readByte();\n  while (isSpaceChar(c)) c=readByte();\n  boolean minus=false;\n  if (c=='-') {\n   minus=true;\n   c=readByte();\n  }\n  int res=0;\n  do{\n   if(c<'0'||c>'9') throw new InputMismatchException();\n   res=res*10+c-'0';\n   c=readByte();\n  }while(!isSpaceChar(c));\n  return (minus)?-res:res;\n }\n \n public long nextLong() {\n  if(!hasNext()) throw new NoSuchElementException();\n  int c=readByte();\n  while (isSpaceChar(c)) c=readByte();\n  boolean minus=false;\n  if (c=='-') {\n   minus=true;\n   c=readByte();\n  }\n  long res = 0;\n  do{\n   if(c<'0'||c>'9') throw new InputMismatchException();\n   res=res*10+c-'0';\n   c=readByte();\n  }while(!isSpaceChar(c));\n  return (minus)?-res:res;\n }\n\n public double nextDouble(){return Double.parseDouble(next());}\n\n public int[] nextIntArray(int n){\n  int[] a=new int[n];\n  for(int i=0;i<n;i++) a[i]=nextInt();\n  return a;\n }\n\n public long[] nextLongArray(int n){\n  long[] a=new long[n];\n  for(int i=0;i<n;i++) a[i]=nextLong();\n  return a;\n }\n\n public char[][] nextCharMap(int n,int m){\n  char[][] map=new char[n][m];\n  for(int i=0;i<n;i++) map[i]=next().toCharArray();\n  return map;\n }\n}\n}"
  },
  {
    "language": "Java",
    "code": "// AOJ 1240 \"Unreliable Messengers\" (ICPCアジア地区予選 会津大会 2003 Problem A)\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        \n        int n = sc.nextInt();\n        for (int i = 0; i < n; i++) {\n            String messenger = sc.next();\n            StringBuffer message = new StringBuffer(sc.next());\n            \n            for (int j = messenger.length() - 1; j >= 0; j--) {\n                char tmp;\n                switch(messenger.charAt(j)) {\n                case 'C':\n                    tmp = message.charAt(0);\n                    message.deleteCharAt(0);\n                    message.append(tmp);\n                    break;\n                    \n                case 'J':\n                    tmp = message.charAt(message.length() - 1);\n                    message.deleteCharAt(message.length() - 1);\n                    message.insert(0, tmp);\n                    break;\n                    \n                case 'E':\n                    char tmp2;\n                    int length = message.length();\n                    String s1 = message.substring(0, length / 2);\n                    String s2 = message.substring((length + 1) / 2);\n                    tmp2 = message.charAt(length / 2);\n                    message.delete(0, length);\n                    message.append(s1);\n                    if (length % 2 == 1) {\n                        message.insert(0, tmp2);\n                    }\n                    message.insert(0, s2);\n                    break;\n                    \n                case 'A':\n                    message.reverse();\n                    break;\n                    \n                case 'M':\n                    for (int k = 0; k < message.length(); k++) {\n                        tmp = message.charAt(k);\n                        if ('0' <= tmp && tmp <= '8') {\n                            tmp++;\n                        } else if (tmp == '9') {\n                            tmp = '0';\n                        }\n                        message.setCharAt(k, tmp);\n                    }\n                    break;\n                    \n                case 'P':\n                    for (int k = 0; k < message.length(); k++) {\n                        tmp = message.charAt(k);\n                        if ('1' <= tmp && tmp <= '9') {\n                            tmp--;\n                        } else if (tmp == '0') {\n                            tmp = '9';\n                        }\n                        message.setCharAt(k, tmp);\n                    }\n                    break;\n                }\n            }\n            System.out.println(message);\n        }\n    }\n}"
  },
  {
    "language": "Java",
    "code": "\nimport java.io.*;\nimport java.util.*;\n\npublic class Main {\n\tFastScanner in = new FastScanner(System.in);\n\tPrintWriter out = new PrintWriter(System.out);\n\t\n\tString a(String s) {\n\t\treturn new StringBuilder(s).reverse().toString();\n\t}\n\t\n\tString c(String s) {\n\t\tint n = s.length();\n\t\tif (n == 1) return s;\n\t\treturn s.charAt(n - 1) + s.substring(0, n - 1);\n\t}\n\n\tString e(String s) {\n\t\tint n = s.length();\n\t\tif (n % 2 == 0) {\n\t\t\treturn s.substring(n / 2) + s.substring(0, n / 2); \n\t\t} else {\n\t\t\treturn s.substring(n / 2 + 1) + s.charAt(n / 2) + s.substring(0, n / 2);\n\t\t}\n\t}\n\t\n\tString j(String s) {\n\t\tif (s.length() == 1) return s;\n\t\treturn s.substring(1) + s.charAt(0);\n\t}\n\t\n\tString m(String s) {\n\t\tString res = \"\";\n\t\tfor (int i = 0; i < s.length(); i++) {\n\t\t\tint c = s.charAt(i);\n\t\t\tif (s.charAt(i) <= '9' && s.charAt(i) >= '0') {\n\t\t\t\tc -= '0';\n\t\t\t\tres += ((c + 1) % 10);\n\t\t\t} else {\n\t\t\t\tres += (char)c;\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t}\n\t\n\tString p(String s) {\n\t\tString res = \"\";\n\t\tfor (int i = 0; i < s.length(); i++) {\n\t\t\tint c = s.charAt(i);\n\t\t\tif (s.charAt(i) <= '9' && s.charAt(i) >= '0') {\n\t\t\t\tc -= '0';\n\t\t\t\tres += ((c + 9) % 10);\n\t\t\t} else {\n\t\t\t\tres += (char)c;\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t}\n\tpublic void run() {\n\t\tint n = in.nextInt();\n\t\tfor (int x = 0; x < n; x++) {\n\t\t\tString order = in.next();\n\t\t\tString s = in.next();\n\t\t\t\n\t\t\tfor (int i = order.length() - 1; i >= 0; i--) {\n\t\t\t\tswitch (order.charAt(i)) {\n\t\t\t\tcase 'A':\n\t\t\t\t\ts = a(s);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'J':\n\t\t\t\t\ts = c(s);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'M':\n\t\t\t\t\ts = m(s);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'P':\n\t\t\t\t\ts = p(s);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'E':\n\t\t\t\t\ts = e(s);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'C':\n\t\t\t\t\ts = j(s);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(s);\n\t\t}\n\t\tout.close();\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n\n\tpublic void mapDebug(int[][] a) {\n\t\tSystem.out.println(\"--------map display---------\");\n\n\t\tfor (int i = 0; i < a.length; i++) {\n\t\t\tfor (int j = 0; j < a[i].length; j++) {\n\t\t\t\tSystem.out.printf(\"%3d \", a[i][j]);\n\t\t\t}\n\t\t\tSystem.out.println();\n\t\t}\n\n\t\tSystem.out.println(\"----------------------------\");\n\t\tSystem.out.println();\n\t}\n\n\tpublic void debug(Object... obj) {\n\t\tSystem.out.println(Arrays.deepToString(obj));\n\t}\n\n\tclass FastScanner {\n\t\tprivate InputStream stream;\n\t\tprivate byte[] buf = new byte[1024];\n\t\tprivate int curChar;\n\t\tprivate int numChars;\n\n\t\tpublic FastScanner(InputStream stream) {\n\t\t\tthis.stream = stream;\n\t\t\t//stream = new FileInputStream(new File(\"dec.in\"));\n\n\t\t}\n\n\t\tint read() {\n\t\t\tif (numChars == -1)\n\t\t\t\tthrow new InputMismatchException();\n\t\t\tif (curChar >= numChars) {\n\t\t\t\tcurChar = 0;\n\t\t\t\ttry {\n\t\t\t\t\tnumChars = stream.read(buf);\n\t\t\t\t} catch (IOException e) {\n\t\t\t\t\tthrow new InputMismatchException();\n\t\t\t\t}\n\t\t\t\tif (numChars <= 0)\n\t\t\t\t\treturn -1;\n\t\t\t}\n\t\t\treturn buf[curChar++];\n\t\t}\n\n\t\tboolean isSpaceChar(int c) {\n\t\t\treturn c == ' ' || c == '\\n' || c == '\\r' || c == '\\t' || c == -1;\n\t\t}\n\n\t\tboolean isEndline(int c) {\n\t\t\treturn c == '\\n' || c == '\\r' || c == -1;\n\t\t}\n\n\t\tint nextInt() {\n\t\t\treturn Integer.parseInt(next());\n\t\t}\n\n\t\tint[] nextIntArray(int n) {\n\t\t\tint[] array = new int[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\tarray[i] = nextInt();\n\n\t\t\treturn array;\n\t\t}\n\n\t\tlong nextLong() {\n\t\t\treturn Long.parseLong(next());\n\t\t}\n\n\t\tlong[] nextLongArray(int n) {\n\t\t\tlong[] array = new long[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\tarray[i] = nextLong();\n\n\t\t\treturn array;\n\t\t}\n\n\t\tdouble nextDouble() {\n\t\t\treturn Double.parseDouble(next());\n\t\t}\n\n\t\tdouble[] nextDoubleArray(int n) {\n\t\t\tdouble[] array = new double[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\tarray[i] = nextDouble();\n\n\t\t\treturn array;\n\t\t}\n\n\t\tString next() {\n\t\t\tint c = read();\n\t\t\twhile (isSpaceChar(c))\n\t\t\t\tc = read();\n\t\t\tStringBuilder res = new StringBuilder();\n\t\t\tdo {\n\t\t\t\tres.appendCodePoint(c);\n\t\t\t\tc = read();\n\t\t\t} while (!isSpaceChar(c));\n\t\t\treturn res.toString();\n\t\t}\n\n\t\tString[] nextStringArray(int n) {\n\t\t\tString[] array = new String[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\tarray[i] = next();\n\n\t\t\treturn array;\n\t\t}\n\n\t\tString nextLine() {\n\t\t\tint c = read();\n\t\t\twhile (isEndline(c))\n\t\t\t\tc = read();\n\t\t\tStringBuilder res = new StringBuilder();\n\t\t\tdo {\n\t\t\t\tres.appendCodePoint(c);\n\t\t\t\tc = read();\n\t\t\t} while (!isEndline(c));\n\t\t\treturn res.toString();\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.InputStream;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Comparator;\nimport java.util.InputMismatchException;\nimport java.util.NoSuchElementException;\nimport java.math.BigInteger;\n\npublic class Main{\n\nstatic PrintWriter out;\nstatic InputReader ir;\n\nstatic void solve(){\n int n=ir.nextInt();\n char[] com;\n String s;\n while(n-->0){\n  com=ir.next().toCharArray();\n  s=ir.next();\n  for(int i=0;i<cm.length;i++){\n   if(com[i]=='J') J(s);\n   else if(com[i]=='C') C(s);\n   else if(com[i]=='E') E(s);\n   else if(com[i]=='A') A(s);\n   else if(com[i]=='P') P(s);\n   else M(s);\n  }\n  out.println(s);\n }\n}\n\npublic static void J(String s){\n s=s.substring(1)+s.substring(0,1);\n}\n\npublic static void C(String s){\n s=s.substring(s.length()-1)+s.substring(0,s.length()-1);\n}\n\npublic static void E(String s){\n if(s.length()%2==0){\n  s=s.substring(s.length()/2)+s.substring(0,s.length()/2);\n }\n else{\n  s=s.substring((s.length()+1)/2)+s.substring((s.length()-1)/2,(s.length()+1)/2)+s.substring(0,(s.length()-1)/2);\n }\n}\n\npublic static void A(String s){\n s=new StringBuilder(s).reverse().toString();\n}\n\npublic static void P(String s){\n for(int i=0;i<s.length();i++){\n  char c=s.charAt(i);\n  if(!(c>='0'&&c<='9')) continue;\n  if(c=='9') s=s.substring(0,i)+\"0\"+s.substring(i+1);\n  else s=s.substring(0,i)+String.valueOf((char)(c+1))+s.substring(i+1);\n }\n}\n\npublic static void M(String s){\n for(int i=0;i<s.length();i++){\n  char c=s.charAt(i);\n  if(!(c>='0'&&c<='9')) continue;\n  if(c=='0') s=s.substring(0,i)+\"9\"+s.substring(i+1);\n  else s=s.substring(0,i)+String.valueOf((char)(c-1))+s.substring(i+1);\n }\n}\n\npublic static void main(String[] args) throws Exception{\n ir=new InputReader(System.in);\n out=new PrintWriter(System.out);\n solve();\n out.flush();\n}\n\nstatic class InputReader {\n private InputStream in;\n private byte[] buffer=new byte[1024];\n private int curbuf;\n private int lenbuf;\n\n public InputReader(InputStream in) {this.in=in; this.curbuf=this.lenbuf=0;}\n \n public boolean hasNextByte() {\n  if(curbuf>=lenbuf){\n   curbuf= 0;\n   try{\n    lenbuf=in.read(buffer);\n   }catch(IOException e) {\n    throw new InputMismatchException();\n   }\n   if(lenbuf<=0) return false;\n  }\n  return true;\n }\n\n private int readByte(){if(hasNextByte()) return buffer[curbuf++]; else return -1;}\n \n private boolean isSpaceChar(int c){return !(c>=33&&c<=126);}\n \n private void skip(){while(hasNextByte()&&isSpaceChar(buffer[curbuf])) curbuf++;}\n \n public boolean hasNext(){skip(); return hasNextByte();}\n \n public String next(){\n  if(!hasNext()) throw new NoSuchElementException();\n  StringBuilder sb=new StringBuilder();\n  int b=readByte();\n  while(!isSpaceChar(b)){\n   sb.appendCodePoint(b);\n   b=readByte();\n  }\n  return sb.toString();\n }\n \n public int nextInt() {\n  if(!hasNext()) throw new NoSuchElementException();\n  int c=readByte();\n  while (isSpaceChar(c)) c=readByte();\n  boolean minus=false;\n  if (c=='-') {\n   minus=true;\n   c=readByte();\n  }\n  int res=0;\n  do{\n   if(c<'0'||c>'9') throw new InputMismatchException();\n   res=res*10+c-'0';\n   c=readByte();\n  }while(!isSpaceChar(c));\n  return (minus)?-res:res;\n }\n \n public long nextLong() {\n  if(!hasNext()) throw new NoSuchElementException();\n  int c=readByte();\n  while (isSpaceChar(c)) c=readByte();\n  boolean minus=false;\n  if (c=='-') {\n   minus=true;\n   c=readByte();\n  }\n  long res = 0;\n  do{\n   if(c<'0'||c>'9') throw new InputMismatchException();\n   res=res*10+c-'0';\n   c=readByte();\n  }while(!isSpaceChar(c));\n  return (minus)?-res:res;\n }\n\n public double nextDouble(){return Double.parseDouble(next());}\n\n public int[] nextIntArray(int n){\n  int[] a=new int[n];\n  for(int i=0;i<n;i++) a[i]=nextInt();\n  return a;\n }\n\n public long[] nextLongArray(int n){\n  long[] a=new long[n];\n  for(int i=0;i<n;i++) a[i]=nextLong();\n  return a;\n }\n\n public char[][] nextCharMap(int n,int m){\n  char[][] map=new char[n][m];\n  for(int i=0;i<n;i++) map[i]=next().toCharArray();\n  return map;\n }\n}\n}"
  },
  {
    "language": "Java",
    "code": "\nimport java.util.*;\nimport java.io.*;\n\npublic class Main{\n    static final Reader sc = new Reader();\n    static final PrintWriter out = new PrintWriter(System.out,false);\n\n    public static void main(String[] args) throws Exception {\n    \tint n = sc.nextInt();\n    \tfor(int i=0;i<n;i++){\n    \t\tString ord = sc.next();\n    \t\tString mes = sc.next();\n    \t\tfor(int j=ord.length()-1;j>=0;j--){\n    \t\t\tif(ord.charAt(j)=='J'){\n    \t\t\t\tmes = mes.substring(mes.length()-1,mes.length()).concat(mes.substring(0,mes.length()-1));\n    \t\t\t}\n    \t\t\telse if(ord.charAt(j)=='C'){\n\t\t\t\t\tmes = mes.substring(1,mes.length()).concat(mes.substring(0,1));    \t\t\t\t\n    \t\t\t}\n    \t\t\telse if(ord.charAt(j)=='E'){\n    \t\t\t\tint x = mes.length()/2;\n    \t\t\t\tif(mes.length()%2==0){\n    \t\t\t\t\tmes = mes.substring(x,mes.length()).concat(mes.substring(0,x));\n    \t\t\t\t}\n    \t\t\t\telse{\n    \t\t\t\t\tmes = mes.substring(x+1,mes.length()).concat(mes.substring(x,x+1)).concat(mes.substring(0,x));\n    \t\t\t\t}\n    \t\t\t}\n    \t\t\telse if(ord.charAt(j)=='A'){\n    \t\t\t\tmes = new StringBuffer().append(mes).reverse().toString();\n    \t\t\t}\n    \t\t\telse if(ord.charAt(j)=='P'){\n    \t\t\t\tfor(int k=0;k<mes.length();k++){\n    \t\t\t\t\tif(mes.charAt(k)=='0'){\n    \t\t\t\t\t\tmes = mes.substring(0,k).concat(\"9\").concat(mes.substring(k+1,mes.length()));\n    \t\t\t\t\t}\n    \t\t\t\t\telse if('1'<=mes.charAt(k) && mes.charAt(k)<='9'){\n    \t\t\t\t\t\tmes = mes.substring(0,k).concat(String.valueOf((int)mes.charAt(k)-(int)'1')).concat(mes.substring(k+1,mes.length()));\n    \t\t\t\t\t}\n    \t\t\t\t}\n    \t\t\t}\n    \t\t\telse if(ord.charAt(j)=='M'){\n    \t\t\t\tfor(int k=0;k<mes.length();k++){\n    \t\t\t\t\tif(mes.charAt(k)=='9'){\n    \t\t\t\t\t\tmes = mes.substring(0,k).concat(\"0\").concat(mes.substring(k+1,mes.length()));\n    \t\t\t\t\t}\n    \t\t\t\t\telse if('0'<=mes.charAt(k) && mes.charAt(k)<='8'){\n    \t\t\t\t\t\tmes = mes.substring(0,k).concat(String.valueOf((int)mes.charAt(k)-(int)'0'+1)).concat(mes.substring(k+1,mes.length()));\n    \t\t\t\t\t}\n    \t\t\t\t\t//out.println(mes);\n    \t\t\t\t\tout.flush();\n    \t\t\t\t}\n       \t\t\t}\n    \t\t}\n    \t\tout.println(mes);\n    \t\tout.flush();\n    \t}\n        sc.close();\n        out.close();\n    }\n\n    static void trace(Object... o) { System.out.println(Arrays.deepToString(o));}\n}\n\nclass Reader {\n\n    private final InputStream in;\n    private final byte[] buf = new byte[1024];\n    private int ptr = 0;\n    private int buflen = 0;\n\n    public Reader() { this(System.in);}\n    public Reader(InputStream source) { this.in = source;}\n\n    private boolean hasNextByte() {\n        if (ptr < buflen) return true;\n        ptr = 0;\n        try{\n            buflen = in.read(buf);\n        }catch (IOException e) {e.printStackTrace();}\n        if (buflen <= 0) return false;\n        return true;\n    }\n\n    private int readByte() { if (hasNextByte()) return buf[ptr++]; else return -1;}\n\n    private boolean isPrintableChar(int c) { return 33 <= c && c <= 126;}\n\n    private void skip() { while(hasNextByte() && !isPrintableChar(buf[ptr])) ptr++;}\n\n    public boolean hasNext() {skip(); return hasNextByte();}\n\n    public String next() {\n        if (!hasNext()) throw new NoSuchElementException();\n        StringBuilder sb = new StringBuilder();\n        int b = readByte();\n        while (isPrintableChar(b)) {\n            sb.appendCodePoint(b);\n            b = readByte();\n        }\n        return sb.toString();\n    }\n\n    public long nextLong() {\n        if (!hasNext()) throw new NoSuchElementException();\n        boolean minus = false;\n        long num = readByte();\n\n        if(num == '-'){\n            num = 0;\n            minus = true;\n        }else if (num < '0' || '9' < num){\n            throw new NumberFormatException();\n        }else{\n            num -= '0';\n        }\n\n        while(true){\n            int b = readByte();\n            if('0' <= b && b <= '9')\n                num = num * 10 + (b - '0');\n            else if(b == -1 || !isPrintableChar(b))\n                return minus ? -num : num;\n            else\n                throw new NoSuchElementException();\n        }\n    }\n\n    public int nextInt() {\n        long num = nextLong();\n        if (num < Integer.MIN_VALUE || Integer.MAX_VALUE < num)\n            throw new NumberFormatException();\n        return (int)num;\n    }\n\n    public double nextDouble() {\n        return Double.parseDouble(next());\n    }\n\n    public char nextChar() {\n        if (!hasNext()) throw new NoSuchElementException();\n        return (char)readByte();\n    }\n\n    public String nextLine() {\n        while (hasNextByte() && (buf[ptr] == '\\n' || buf[ptr] == '\\r')) ptr++;\n        if (!hasNextByte()) throw new NoSuchElementException();\n\n        StringBuilder sb = new StringBuilder();\n        int b = readByte();\n        while (b != '\\n' && b != '\\r') {\n            sb.appendCodePoint(b);\n            b = readByte();\n        }\n\n        return sb.toString();\n    }\n\n    public int[] nextIntArray(int n) {\n        int[] res = new int[n];\n        for (int i=0; i<n; i++) res[i] = nextInt();\n        return res;\n    }\n\n    public char[] nextCharArray(int n) {\n        char[] res = new char[n];\n        for (int i=0; i<n; i++) res[i] = nextChar();\n        return res;\n    }\n\n    public void close() {try{ in.close();}catch(IOException e){ e.printStackTrace();}};\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.*;\nimport java.util.*;\n\npublic class Main{\n\tfinal int INF = 1<<24;\n\n\tprivate void doit(){\n\t\tScanner sc = new Scanner(System.in);\n\t\tint n = sc.nextInt();\n\t\twhile(n-- > 0){\n\t\t\tString human = sc.next();\n\t\t\tStringBuilder after = new StringBuilder( sc.next());\n\t\t\tint len = after.length();\n\t\t\tfor(int i = human.length() - 1; i >= 0; i--){\n\t\t\t\tchar nowhuman = human.charAt(i);\n\t\t\t\tchar temp;\n\t\t\t\tswitch(nowhuman){\n\t\t\t\tcase 'J':\n\t\t\t\t\t//right\n\t\t\t\t\ttemp = after.charAt(len-1);\n\t\t\t\t\tfor(int j = len-1; j > 0; j--){\n\t\t\t\t\t\tafter.setCharAt(j, after.charAt(j- 1));\n\t\t\t\t\t}\n\t\t\t\t\tafter.setCharAt(0, temp);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'C':\n\t\t\t\t\t//left\n\t\t\t\t\ttemp = after.charAt(0);\n\t\t\t\t\tfor(int j = 0; j < len-1; j++){\n\t\t\t\t\t\tafter.setCharAt(j, after.charAt(j+ 1));\n\t\t\t\t\t}\n\t\t\t\t\tafter.setCharAt(len-1, temp);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'E':\n\t\t\t\t\t//swap\n\t\t\t\t\tfor(int j = 0; (j + 1) * 2 <= len; j++){\n\n\t\t\t\t\t\ttemp = after.charAt(j);\n\t\t\t\t\t\tafter.setCharAt(j, after.charAt(j + (len + 1) / 2  ));\n\t\t\t\t\t\tafter.setCharAt(j + (len + 1) / 2 , temp);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'A':\n\t\t\t\t\t//reverse\n\t\t\t\t\tafter = new StringBuilder(after.toString()).reverse();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'P':\n\t\t\t\t\t//decrease\n\t\t\t\t\tfor(int j = 0; j < len; j++){\n\t\t\t\t\t\ttemp = after.charAt(j);\n\t\t\t\t\t\tif(temp >= '0' && temp <= '9'){\n\t\t\t\t\t\t\tif(temp == '0') temp = '9';\n\t\t\t\t\t\t\telse temp--;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tafter.setCharAt(j, temp);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'M':\n\t\t\t\t\t//increase\n\t\t\t\t\tfor(int j = 0; j < len; j++){\n\t\t\t\t\t\ttemp = after.charAt(j);\n\t\t\t\t\t\tif(temp >= '0' && temp <= '9'){\n\t\t\t\t\t\t\tif(temp == '9') temp = '0';\n\t\t\t\t\t\t\telse temp++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tafter.setCharAt(j, temp);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(after.toString());\n\t\t}\n\t}\n\n\tpublic static void main(String [] args){\n\t\tnew Main().doit();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\n\npublic class Main {\n\n\tScanner sc = new Scanner(System.in);\n\tpublic void run() {\n\t\tint n = sc.nextInt();\n\t\tsc.nextLine();\n\t\tfor(int i=0; i<n;i++){\n\t\t\tString order = sc.nextLine();\n\t\t\tString message = sc.nextLine();\n\t\t\tcalc(order, message);\n\t\t}\n\t}\n\tpublic void calc(String order, String message){\n\t\tif(order.equals(\"\")) System.out.println(message);\n\t\telse{\n\t\t\tString person = order.substring(order.length() - 1);\n\t\t\tif(person.equals(\"J\")){\n\t\t\t\tString me = message.substring(message.length()-1) + message.substring(0, message.length() - 1);\n\t\t\t\tmessage = me;\n\t\t\t}\n\t\t\telse if(person.equals(\"C\")){\n\t\t\t\tString me = message.substring(1) + message.substring(0, 1);\n\t\t\t\tmessage = me;\n\t\t\t}\n\t\t\telse if(person.equals(\"E\")){\n\t\t\t\tint half = message.length() / 2;\n\t\t\t\tString me = message.substring(message.length()-half) \n\t\t\t\t\t\t+ message.substring(half, message.length()-half) \n\t\t\t\t\t\t+ message.substring(0, half);\n\t\t\t\tmessage = me;\n\t\t\t}\n\t\t\telse if(person.equals(\"A\")){\n\t\t\t\tString me = reverse(message, \"\");\n\t\t\t\tmessage = me;\n\t\t\t}\n\t\t\telse if(person.equals(\"P\")){\n\t\t\t\tString me = addNum(message, -1);\n\t\t\t\tmessage = me;\n\t\t\t}\n\t\t\telse if(person.equals(\"M\")){\n\t\t\t\tString me = addNum(message, 1);\n\t\t\t\tmessage = me;\n\t\t\t}\n\t\t\tcalc(order.substring(0, order.length()-1), message);\n\t\t}\n\t}\n\tpublic String reverse(String s, String ans){\n\t\tif(s.equals(\"\")) return ans;\n\t\telse{\n\t\t\tans = ans + s.substring(s.length()-1);\n\t\t\treturn reverse(s.substring(0, s.length()-1), ans);\n\t\t}\n\t}\n\tpublic String addNum(String message, int n){\n\t\tfor(int i = 0; i < message.length(); i++){\n\t\t\tString c = message.substring(i, i+1);\n\t\t\tif(c.equals(\"0\")) message = message.substring(0,i) + addN(0,n) + message.substring(i+1);\n\t\t\telse if(c.equals(\"1\")) message = message.substring(0,i) + addN(1,n) + message.substring(i+1);\n\t\t\telse if(c.equals(\"2\")) message = message.substring(0,i) + addN(2,n) + message.substring(i+1);\n\t\t\telse if(c.equals(\"3\")) message = message.substring(0,i) + addN(3,n) + message.substring(i+1);\n\t\t\telse if(c.equals(\"4\")) message = message.substring(0,i) + addN(4,n) + message.substring(i+1);\n\t\t\telse if(c.equals(\"5\")) message = message.substring(0,i) + addN(5,n) + message.substring(i+1);\n\t\t\telse if(c.equals(\"6\")) message = message.substring(0,i) + addN(6,n) + message.substring(i+1);\n\t\t\telse if(c.equals(\"7\")) message = message.substring(0,i) + addN(7,n) + message.substring(i+1);\n\t\t\telse if(c.equals(\"8\")) message = message.substring(0,i) + addN(8,n) + message.substring(i+1);\n\t\t\telse if(c.equals(\"9\")) message = message.substring(0,i) + addN(9,n) + message.substring(i+1);\n\t\t}\n\t\treturn message;\n\t}\n\tpublic String addN(int m, int n){\n\t\tint ans = m + n;\n\t\tif(ans == 10) ans = 0;\n\t\tif(ans == -1) ans = 9;\n\t\treturn Integer.toString(ans);\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;class Main{public static void main(String[]z){Scanner s=new Scanner(System.in);for(int t=s.nextInt(),l,i,j,c,d;t-->0;){String o=s.next();char[]a=s.next().toCharArray(),b;l=a.length;for(i=o.length();i-->0;){b=a.clone();c=o.charAt(i);if(c!=69)for(j=0;j<l;++j)if(c==80||c==77)a[j]=(char)(47<(d=b[j])&&d<58?c>77?d-1<48?57:d-1:d+1>57?48:d+1:d);else a[j]=b[c<67?l-j-1:c<74?(j+1)%l:(j+l-1)%l];else for(j=0;j<l/2;a[j+l/2+(l%2<1?0:1)]=b[j++])a[j]=b[j+l/2+(l%2<1?0:1)];}System.out.println(new String(a));}}}"
  },
  {
    "language": "Java",
    "code": "import java.io.InputStream;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Comparator;\nimport java.util.InputMismatchException;\nimport java.util.NoSuchElementException;\nimport java.math.BigInteger;\n\npublic class Main{\n\nstatic PrintWriter out;\nstatic InputReader ir;\n\nstatic void solve(){\n int n=ir.nextInt();\n char[] com;\n String s;\n while(n-->0){\n  com=new StringBuilder(ir.next()).reverse().toString.toCharArray();\n  s=ir.next();\n  for(int i=0;i<com.length;i++){\n   if(com[i]=='J') J(s);\n   else if(com[i]=='C') C(s);\n   else if(com[i]=='E') E(s);\n   else if(com[i]=='A') A(s);\n   else if(com[i]=='P') P(s);\n   else M(s);\n  }\n  out.println(s);\n }\n}\n\npublic static void C(String s){\n s=s.substring(1)+s.substring(0,1);\n}\n\npublic static void J(String s){\n s=s.substring(s.length()-1)+s.substring(0,s.length()-1);\n}\n\npublic static void E(String s){\n if(s.length()%2==0){\n  s=s.substring(s.length()/2)+s.substring(0,s.length()/2);\n }\n else{\n  s=s.substring((s.length()+1)/2)+s.substring((s.length()-1)/2,(s.length()+1)/2)+s.substring(0,(s.length()-1)/2);\n }\n}\n\npublic static void A(String s){\n s=new StringBuilder(s).reverse().toString();\n}\n\npublic static void M(String s){\n char[] ss=s.toCharArray();\n for(int i=0;i<s.length();i++){\n  if(ss[i]>='0'&&ss[i]<='9'){\n   if(ss[i]=='9') ss[i]='0';\n   else ss[i]++;\n  }\n }\n s=String.valueOf(ss);\n}\n\npublic static void P(String s){\n char[] ss=s.toCharArray();\n for(int i=0;i<s.length();i++){\n  if(ss[i]>='0'&&ss[i]<='9'){\n   if(ss[i]=='0') ss[i]='9';\n   else ss[i]--;\n  }\n }\n s=String.valueOf(ss);\n}\n\npublic static void main(String[] args) throws Exception{\n ir=new InputReader(System.in);\n out=new PrintWriter(System.out);\n solve();\n out.flush();\n}\n\nstatic class InputReader {\n private InputStream in;\n private byte[] buffer=new byte[1024];\n private int curbuf;\n private int lenbuf;\n\n public InputReader(InputStream in) {this.in=in; this.curbuf=this.lenbuf=0;}\n \n public boolean hasNextByte() {\n  if(curbuf>=lenbuf){\n   curbuf= 0;\n   try{\n    lenbuf=in.read(buffer);\n   }catch(IOException e) {\n    throw new InputMismatchException();\n   }\n   if(lenbuf<=0) return false;\n  }\n  return true;\n }\n\n private int readByte(){if(hasNextByte()) return buffer[curbuf++]; else return -1;}\n \n private boolean isSpaceChar(int c){return !(c>=33&&c<=126);}\n \n private void skip(){while(hasNextByte()&&isSpaceChar(buffer[curbuf])) curbuf++;}\n \n public boolean hasNext(){skip(); return hasNextByte();}\n \n public String next(){\n  if(!hasNext()) throw new NoSuchElementException();\n  StringBuilder sb=new StringBuilder();\n  int b=readByte();\n  while(!isSpaceChar(b)){\n   sb.appendCodePoint(b);\n   b=readByte();\n  }\n  return sb.toString();\n }\n \n public int nextInt() {\n  if(!hasNext()) throw new NoSuchElementException();\n  int c=readByte();\n  while (isSpaceChar(c)) c=readByte();\n  boolean minus=false;\n  if (c=='-') {\n   minus=true;\n   c=readByte();\n  }\n  int res=0;\n  do{\n   if(c<'0'||c>'9') throw new InputMismatchException();\n   res=res*10+c-'0';\n   c=readByte();\n  }while(!isSpaceChar(c));\n  return (minus)?-res:res;\n }\n \n public long nextLong() {\n  if(!hasNext()) throw new NoSuchElementException();\n  int c=readByte();\n  while (isSpaceChar(c)) c=readByte();\n  boolean minus=false;\n  if (c=='-') {\n   minus=true;\n   c=readByte();\n  }\n  long res = 0;\n  do{\n   if(c<'0'||c>'9') throw new InputMismatchException();\n   res=res*10+c-'0';\n   c=readByte();\n  }while(!isSpaceChar(c));\n  return (minus)?-res:res;\n }\n\n public double nextDouble(){return Double.parseDouble(next());}\n\n public int[] nextIntArray(int n){\n  int[] a=new int[n];\n  for(int i=0;i<n;i++) a[i]=nextInt();\n  return a;\n }\n\n public long[] nextLongArray(int n){\n  long[] a=new long[n];\n  for(int i=0;i<n;i++) a[i]=nextLong();\n  return a;\n }\n\n public char[][] nextCharMap(int n,int m){\n  char[][] map=new char[n][m];\n  for(int i=0;i<n;i++) map[i]=next().toCharArray();\n  return map;\n }\n}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\npublic class Main{\n    static Scanner kbd = new Scanner(System.in);\n    public static void main(String[] args){\n\twhile(kbd.hasNext()){\n\t    int n = kbd.nextInt();\n\t    while(n>0){\n\t\tsolve();\n\t\tn--;\n\t    }\n\t}\n    }\n\n    static void solve(){\n\tString order = kbd.next();\n\tString message = kbd.next();\n\tString[] m = new String[message.length()];\n\tString[] os = new String[order.length()];\n\n\tint i;\n\tfor(i=0; i<message.length(); i++){\n\t    m[i] = message.substring(i, i+1);\n\t}\n\n\tfor(i=0; i<order.length(); i++){  \n\t    os[i] = order.substring(i, i+1);\n\t}\n\n\tfor(i=os.length-1; i>=0; i--){\n\t    change(m, os[i]);\n\t    /*\n\t    for(int j=0; j<m.length; j++){\n\t\tSystem.out.print(m[j]);\n\t    }\n\t    System.out.println();\n\t    */\n\t}\n\t\n\tString ans = \"\";\n\tfor(i=0; i<m.length; i++){\n\t    ans += m[i];\n\t}\n\tSystem.out.println(ans);\n    }\n\n    static void change(String[] m, String os){\n\tint i;\n\t//左ずらし\n\t//\"J\"がやらかす間違い、\"C\"の訂正に使える\n\tif(os.equals(\"C\")){\n\t    String a = m[0];\n\t    for(i=0; i<m.length-1; i++){\n\t\tm[i] = m[i+1];\n\t    }\n\t    m[m.length-1] = a;\n\t}\n\t//右ずらし\n\t//\"C\"がやらかす間違い、\"J\"の訂正に使える\n\telse if(os.equals(\"J\")){\n\t    String a = m[m.length-1];\n\t    for(i=m.length-1; i>0; i--){\n\t\tm[i] = m[i-1];\n\t    }\n\t    m[0] = a;\n\t}\n\t//半分入れ替え\n\telse if(os.equals(\"E\")){\n\t    int middle = m.length/2;\n\t    String[] r = new String[middle];\n\t    String[] l = new String[middle];\n\t    if(m.length%2==1){\n\t\tfor(i=0; i<middle; i++){\n\t\t    r[i] = m[i];\n\t\t    l[i] = m[middle+i+1];\n\t\t}\n\t\tfor(i=0; i<middle; i++){\n\t\t    m[i] = l[i];\n\t\t    m[middle+i+1] = r[i];\n\t\t}\n\t    }\n\t    else{\n\t\tfor(i=0; i<middle; i++){\n\t\t    r[i] = m[i];\n\t\t    l[i] = m[middle+i];\n\t\t}\n\t\tfor(i=0; i<middle; i++){\n\t\t    m[i] = l[i];\n\t\t    m[middle+i] = r[i];\n\t\t}\n\t    }\n\t}\n\t//反転\n\telse if(os.equals(\"A\")){\n\t    for(i=0; i<(m.length)/2; i++){\n\t\tString w = m[i];\n\t\tm[i] = m[m.length-i-1];\n\t\tm[m.length-i-1] = w;\n\t    }\n\t}\n\t//数字なら1足す\n\t//\"P\"がやらかす間違い、\"M\"の訂正に使える。\n\telse if(os.equals(\"M\")){\n\t    for(i=0; i<m.length; i++){\n\t\tif(isN(m[i])){\n\t\t    int n = (Integer.parseInt(m[i])+1)%10;\n\t\t    m[i] = Integer.toString(n);\n\t\t}\n\t    }\n\t}\n\t//数字なら1引く\n\t//\"M\"がやらかす間違い、\"P\"の訂正に使える。\n\telse if(os.equals(\"P\")){\n\t    for(i=0; i<m.length; i++){\n\t\tif(isN(m[i])){\n\t\t    int n = (Integer.parseInt(m[i])-1+10)%10;\n\t\t    m[i] = Integer.toString(n);\n\t\t}\n\t    }\n\t}\n    }\n\n    static boolean isN(String s){\n\tif(s.equals(\"1\")) return true;\n\telse if(s.equals(\"2\")) return true;\n\telse if(s.equals(\"3\")) return true;\n\telse if(s.equals(\"4\")) return true;\n\telse if(s.equals(\"5\")) return true;\n\telse if(s.equals(\"6\")) return true;\n\telse if(s.equals(\"7\")) return true;\n\telse if(s.equals(\"8\")) return true;\n\telse if(s.equals(\"9\")) return true;\n\telse if(s.equals(\"0\")) return true;\n\telse return false;\n    }\n}"
  },
  {
    "language": "Java",
    "code": "\nimport java.util.*;\n\nimport static java.lang.System.*;\n\nclass Main {\n    public static Scanner sc = new Scanner(in);\n    public static Random rand=new Random();\n\n    public void run() {\n    \tint n=sc.nextInt();\n    \tTCase:while(n--!=0){\n    \t\tchar[] key=sc.next().toCharArray();\n    \t\tchar[] str=sc.next().toCharArray();\n    \t\tfor(int i=key.length-1;i>=0;i--){\n    \t\t\tswitch(key[i]){\n\t    \t\t\tcase 'C':{\n\t    \t\t\t\tchar tmp=str[0];\n\t    \t\t\t\tfor(int s=0;s+1<str.length;s++){\n\t    \t\t\t\t\tstr[s]=str[s+1];\n\t    \t\t\t\t}\n\t    \t\t\t\tstr[str.length-1]=tmp;\n\t    \t\t\t\tbreak;\n\t    \t\t\t}case 'J':{\n\t    \t\t\t\tchar tmp=str[str.length-1];\n\t    \t\t\t\tfor(int s=str.length-1;s>=1;s--){\n\t    \t\t\t\t\tstr[s]=str[s-1];\n\t    \t\t\t\t}\n\t    \t\t\t\tstr[0]=tmp;\n\t    \t\t\t\tbreak;\n\t    \t\t\t}case 'E':{\n\t    \t\t\t\tchar[] tmp=Arrays.copyOf(str,str.length);\n\t    \t\t\t\tfor(int s=0;s<str.length/2;s++){\n\t    \t\t\t\t\tstr[s]=tmp[s+(1+str.length)/2];\n\t    \t\t\t\t}\n\t    \t\t\t\tfor(int s=0;s<str.length/2;s++){\n\t    \t\t\t\t\tstr[s+(1+str.length)/2]=tmp[s];\n\t    \t\t\t\t}\n\t    \t\t\t\tbreak;\n\t    \t\t\t}case 'A':{\n\t    \t\t\t\tchar[] tmp=Arrays.copyOf(str,str.length);\n\t    \t\t\t\tfor(int s=0;s<str.length;s++){\n\t    \t\t\t\t\tstr[s]=tmp[str.length-1-s];\n\t    \t\t\t\t}\n\t    \t\t\t\tbreak;\n\t    \t\t\t}case 'M':{\n\t    \t\t\t\tfor(int s=0;s<str.length;s++){\n\t    \t\t\t\t\tif(Character.isDigit(str[s]))\n\t    \t\t\t\t\t\tstr[s]=(char) (((str[s]-'0')+1)%10+'0');\n\t    \t\t\t\t}\n\t    \t\t\t\tbreak;\n\t    \t\t\t}case 'P':{\n\t    \t\t\t\tfor(int s=0;s<str.length;s++){\n\t    \t\t\t\t\tif(Character.isDigit(str[s]))\n\t    \t\t\t\t\t\tstr[s]=(char) (((str[s]-'0')-1+10)%10+'0');\n\t    \t\t\t\t}\n\t    \t\t\t\tbreak;\n\t    \t\t\t}\n    \t\t\t}\n    \t\t}\n    \t\tln(new String(str));\n    \t}\n    }\n    public static void main(String[] args) {\n        new Main().run();\n    }\n\n    public int[] nextIntArray(int n){\n        int[] res=new int[n];\n        for(int i=0;i<n;i++){\n            res[i]=sc.nextInt();\n        }\n        return res;\n    }\n    public static void pr(Object o) {\n        out.print(o);\n    }\n    public static void ln(Object o) {\n        out.println(o);\n    }\n    public static void ln() {\n        out.println();\n    }\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\n\npublic class Main {\n\tstatic Scanner sc = new Scanner(System.in);\n\n\tpublic static void main(String[] args) {\n\t\tint N = sc.nextInt();\n\t\tfor (int i = 0; i < N; ++i) {\n\t\t\tchar[] mut = sc.next().toCharArray();\n\t\t\tchar[] mes = sc.next().toCharArray();\n\t\t\tint L = mes.length;\n\t\t\tfor (int j = mut.length - 1; j >= 0; --j) {\n\t\t\t\tchar tmp;\n\t\t\t\tswitch (mut[j]) {\n\t\t\t\tcase 'J':\n\t\t\t\t\ttmp = mes[L - 1];\n\t\t\t\t\tfor (int k = L - 1; k > 0; --k) {\n\t\t\t\t\t\tmes[k] = mes[k - 1];\n\t\t\t\t\t}\n\t\t\t\t\tmes[0] = tmp;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'C':\n\t\t\t\t\ttmp = mes[0];\n\t\t\t\t\tfor (int k = 0; k < L - 1; ++k) {\n\t\t\t\t\t\tmes[k] = mes[k + 1];\n\t\t\t\t\t}\n\t\t\t\t\tmes[L - 1] = tmp;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'E':\n\t\t\t\t\tfor (int k = 0; k < L / 2; ++k) {\n\t\t\t\t\t\ttmp = mes[k];\n\t\t\t\t\t\tmes[k] = mes[(L + 1) / 2 + k];\n\t\t\t\t\t\tmes[(L + 1) / 2 + k] = tmp;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'A':\n\t\t\t\t\tfor (int k = 0; k < L / 2; ++k) {\n\t\t\t\t\t\ttmp = mes[k];\n\t\t\t\t\t\tmes[k] = mes[L - 1 - k];\n\t\t\t\t\t\tmes[L - 1 - k] = tmp;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'P':\n\t\t\t\t\tfor (int k = 0; k < L; ++k) {\n\t\t\t\t\t\tif (Character.isDigit(mes[k])) {\n\t\t\t\t\t\t\tif (mes[k] == '0') {\n\t\t\t\t\t\t\t\tmes[k] = '9';\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tmes[k]--;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'M':\n\t\t\t\t\tfor (int k = 0; k < L; ++k) {\n\t\t\t\t\t\tif (Character.isDigit(mes[k])) {\n\t\t\t\t\t\t\tif (mes[k] == '9') {\n\t\t\t\t\t\t\t\tmes[k] = '0';\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tmes[k]++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(String.valueOf(mes));\n\t\t}\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main {\n\n\tchar[] key;\n\tchar[] cipher;\n\n\tvoid run(){\n\t\tScanner in = new Scanner(System.in);\n\t\tint T = in.nextInt();\n\t\twhile(T-- > 0){\n\t\t\tkey = in.next().toCharArray();\n\t\t\tcipher = in.next().toCharArray();\n\t\t\tSystem.out.println(solve());\n\t\t}\n\t}\n\n\tString solve(){\n\t\tint M = cipher.length;\n\t\tfor(int i=key.length-1; i>=0; i--){\n\t\t\tchar[] tmp = new char[M];\n\t\t\tif(key[i] == 'J'){\n\t\t\t\tfor(int j=0; j<M; j++){\n\t\t\t\t\ttmp[j] = cipher[(j+M-1)%M];\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(key[i] == 'C'){\n\t\t\t\tfor(int j=0; j<M; j++){\n\t\t\t\t\ttmp[j] = cipher[(j+1)%M];\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(key[i] == 'E'){\n\t\t\t\ttmp = cipher.clone();\n\t\t\t\tfor(int j=0; j<M>>1; j++){\n\t\t\t\t\tchar t = tmp[j];\n\t\t\t\t\ttmp[j] = tmp[j+(M+1)/2];\n\t\t\t\t\ttmp[j+(M+1)/2] = t;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(key[i] == 'A'){\n\t\t\t\tfor(int j=0; j<M; j++){\n\t\t\t\t\ttmp[j] = cipher[M-j-1];\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(key[i] == 'P'){\n\t\t\t\tfor(int j=0; j<M; j++){\n\t\t\t\t\tif(Character.isDigit(cipher[j])){\n\t\t\t\t\t\ttmp[j] = (char) ((cipher[j] - '0' + 9)%10 + '0');\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\ttmp[j] = cipher[j];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(key[i] == 'M'){\n\t\t\t\tfor(int j=0; j<M; j++){\n\t\t\t\t\tif(Character.isDigit(cipher[j])){\n\t\t\t\t\t\ttmp[j] = (char) ((cipher[j] - '0' + 1)%10 + '0');\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\ttmp[j] = cipher[j];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tcipher = tmp.clone();\n\t\t}\n\t\treturn String.valueOf(cipher);\n\t}\n\n\tpublic static void main(String args[]){\n\t\tnew Main().run();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.InputStream;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Comparator;\nimport java.util.InputMismatchException;\nimport java.util.NoSuchElementException;\nimport java.math.BigInteger;\n\npublic class Main{\n\nstatic PrintWriter out;\nstatic InputReader ir;\n\nstatic void solve(){\n int n=ir.nextInt();\n char[] com;\n String s;\n while(n-->0){\n  com=ir.next().toCharArray();\n  s=ir.next();\n  for(int i=0;i<com.length;i++){\n   if(com[i]=='J') J(s);\n   else if(com[i]=='C') C(s);\n   else if(com[i]=='E') E(s);\n   else if(com[i]=='A') A(s);\n   else if(com[i]=='P') P(s);\n   else M(s);\n  }\n  out.println(s);\n }\n}\n\npublic static void J(String s){\n s=s.substring(1)+s.substring(0,1);\n}\n\npublic static void C(String s){\n s=s.substring(s.length()-1)+s.substring(0,s.length()-1);\n}\n\npublic static void E(String s){\n if(s.length()%2==0){\n  s=s.substring(s.length()/2)+s.substring(0,s.length()/2);\n }\n else{\n  s=s.substring((s.length()+1)/2)+s.substring((s.length()-1)/2,(s.length()+1)/2)+s.substring(0,(s.length()-1)/2);\n }\n}\n\npublic static void A(String s){\n s=new StringBuilder(s).reverse().toString();\n}\n\npublic static void P(String s){\n for(int i=0;i<s.length();i++){\n  char c=s.charAt(i);\n  if(!(c>='0'&&c<='9')) continue;\n  if(c=='9') s=s.substring(0,i)+\"0\"+s.substring(i+1);\n  else s=s.substring(0,i)+String.valueOf((char)(c+1))+s.substring(i+1);\n }\n}\n\npublic static void M(String s){\n for(int i=0;i<s.length();i++){\n  char c=s.charAt(i);\n  if(!(c>='0'&&c<='9')) continue;\n  if(c=='0') s=s.substring(0,i)+\"9\"+s.substring(i+1);\n  else s=s.substring(0,i)+String.valueOf((char)(c-1))+s.substring(i+1);\n }\n}\n\npublic static void main(String[] args) throws Exception{\n ir=new InputReader(System.in);\n out=new PrintWriter(System.out);\n solve();\n out.flush();\n}\n\nstatic class InputReader {\n private InputStream in;\n private byte[] buffer=new byte[1024];\n private int curbuf;\n private int lenbuf;\n\n public InputReader(InputStream in) {this.in=in; this.curbuf=this.lenbuf=0;}\n \n public boolean hasNextByte() {\n  if(curbuf>=lenbuf){\n   curbuf= 0;\n   try{\n    lenbuf=in.read(buffer);\n   }catch(IOException e) {\n    throw new InputMismatchException();\n   }\n   if(lenbuf<=0) return false;\n  }\n  return true;\n }\n\n private int readByte(){if(hasNextByte()) return buffer[curbuf++]; else return -1;}\n \n private boolean isSpaceChar(int c){return !(c>=33&&c<=126);}\n \n private void skip(){while(hasNextByte()&&isSpaceChar(buffer[curbuf])) curbuf++;}\n \n public boolean hasNext(){skip(); return hasNextByte();}\n \n public String next(){\n  if(!hasNext()) throw new NoSuchElementException();\n  StringBuilder sb=new StringBuilder();\n  int b=readByte();\n  while(!isSpaceChar(b)){\n   sb.appendCodePoint(b);\n   b=readByte();\n  }\n  return sb.toString();\n }\n \n public int nextInt() {\n  if(!hasNext()) throw new NoSuchElementException();\n  int c=readByte();\n  while (isSpaceChar(c)) c=readByte();\n  boolean minus=false;\n  if (c=='-') {\n   minus=true;\n   c=readByte();\n  }\n  int res=0;\n  do{\n   if(c<'0'||c>'9') throw new InputMismatchException();\n   res=res*10+c-'0';\n   c=readByte();\n  }while(!isSpaceChar(c));\n  return (minus)?-res:res;\n }\n \n public long nextLong() {\n  if(!hasNext()) throw new NoSuchElementException();\n  int c=readByte();\n  while (isSpaceChar(c)) c=readByte();\n  boolean minus=false;\n  if (c=='-') {\n   minus=true;\n   c=readByte();\n  }\n  long res = 0;\n  do{\n   if(c<'0'||c>'9') throw new InputMismatchException();\n   res=res*10+c-'0';\n   c=readByte();\n  }while(!isSpaceChar(c));\n  return (minus)?-res:res;\n }\n\n public double nextDouble(){return Double.parseDouble(next());}\n\n public int[] nextIntArray(int n){\n  int[] a=new int[n];\n  for(int i=0;i<n;i++) a[i]=nextInt();\n  return a;\n }\n\n public long[] nextLongArray(int n){\n  long[] a=new long[n];\n  for(int i=0;i<n;i++) a[i]=nextLong();\n  return a;\n }\n\n public char[][] nextCharMap(int n,int m){\n  char[][] map=new char[n][m];\n  for(int i=0;i<n;i++) map[i]=next().toCharArray();\n  return map;\n }\n}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.InputStream;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Comparator;\nimport java.util.InputMismatchException;\nimport java.util.NoSuchElementException;\nimport java.math.BigInteger;\n\npublic class Main{\n\nstatic PrintWriter out;\nstatic InputReader ir;\n\nstatic void solve(){\n int n=ir.nextInt();\n char[] com;\n String s;\n while(n-->0){\n  com=ir.next().toCharArray();\n  s=ir.next();\n  for(int i=0;i<s.length;i++){\n   if(s[i]=='J') J(s);\n   else if(s[i]=='C') C(s);\n   else if(s[i]=='E') E(s);\n   else if(s[i]=='A') A(s);\n   else if(s[i]=='P') P(s);\n   else M(s);\n  }\n  out.println(s);\n }\n}\n\npublic static void J(String s){\n s=s.substring(1)+s.substring(0,1);\n}\n\npublic static void C(String s){\n s=s.substring(s.length()-1)+s.substring(0,s.length()-1);\n}\n\npublic static void E(String s){\n if(s.length()%2==0){\n  s=s.substring(s.length()/2)+s.substring(0,s.length()/2);\n }\n else{\n  s=s.substring((s.length()+1)/2)+s.substring((s.length()-1)/2,(s.length()+1)/2)+s.substring(0,(s.length()-1)/2);\n }\n}\n\npublic static void A(String s){\n s=new StringBuilder(s).reverse().toString();\n}\n\npublic static void P(String s){\n for(int i=0;i<s.length();i++){\n  char c=s.charAt(i);\n  if(!(c>='0'&&c<='9')) continue;\n  if(c=='9') s=s.substring(0,i)+\"0\"+s.substring(i+1);\n  else s=s.substring(0,i)+String.valueOf(char(c+1))+s.substring(i+1);\n }\n}\n\npublic static void M(String s){\n for(int i=0;i<s.length();i++){\n  char c=s.charAt(i);\n  if(!(c>='0'&&c<='9')) continue;\n  if(c=='0') s=s.substring(0,i)+\"9\"+s.substring(i+1);\n  else s=s.substring(0,i)+String.valueOf(char(c-1))+s.substring(i+1);\n }\n}\n\npublic static void main(String[] args) throws Exception{\n ir=new InputReader(System.in);\n out=new PrintWriter(System.out);\n solve();\n out.flush();\n}\n\nstatic class InputReader {\n private InputStream in;\n private byte[] buffer=new byte[1024];\n private int curbuf;\n private int lenbuf;\n\n public InputReader(InputStream in) {this.in=in; this.curbuf=this.lenbuf=0;}\n \n public boolean hasNextByte() {\n  if(curbuf>=lenbuf){\n   curbuf= 0;\n   try{\n    lenbuf=in.read(buffer);\n   }catch(IOException e) {\n    throw new InputMismatchException();\n   }\n   if(lenbuf<=0) return false;\n  }\n  return true;\n }\n\n private int readByte(){if(hasNextByte()) return buffer[curbuf++]; else return -1;}\n \n private boolean isSpaceChar(int c){return !(c>=33&&c<=126);}\n \n private void skip(){while(hasNextByte()&&isSpaceChar(buffer[curbuf])) curbuf++;}\n \n public boolean hasNext(){skip(); return hasNextByte();}\n \n public String next(){\n  if(!hasNext()) throw new NoSuchElementException();\n  StringBuilder sb=new StringBuilder();\n  int b=readByte();\n  while(!isSpaceChar(b)){\n   sb.appendCodePoint(b);\n   b=readByte();\n  }\n  return sb.toString();\n }\n \n public int nextInt() {\n  if(!hasNext()) throw new NoSuchElementException();\n  int c=readByte();\n  while (isSpaceChar(c)) c=readByte();\n  boolean minus=false;\n  if (c=='-') {\n   minus=true;\n   c=readByte();\n  }\n  int res=0;\n  do{\n   if(c<'0'||c>'9') throw new InputMismatchException();\n   res=res*10+c-'0';\n   c=readByte();\n  }while(!isSpaceChar(c));\n  return (minus)?-res:res;\n }\n \n public long nextLong() {\n  if(!hasNext()) throw new NoSuchElementException();\n  int c=readByte();\n  while (isSpaceChar(c)) c=readByte();\n  boolean minus=false;\n  if (c=='-') {\n   minus=true;\n   c=readByte();\n  }\n  long res = 0;\n  do{\n   if(c<'0'||c>'9') throw new InputMismatchException();\n   res=res*10+c-'0';\n   c=readByte();\n  }while(!isSpaceChar(c));\n  return (minus)?-res:res;\n }\n\n public double nextDouble(){return Double.parseDouble(next());}\n\n public int[] nextIntArray(int n){\n  int[] a=new int[n];\n  for(int i=0;i<n;i++) a[i]=nextInt();\n  return a;\n }\n\n public long[] nextLongArray(int n){\n  long[] a=new long[n];\n  for(int i=0;i<n;i++) a[i]=nextLong();\n  return a;\n }\n\n public char[][] nextCharMap(int n,int m){\n  char[][] map=new char[n][m];\n  for(int i=0;i<n;i++) map[i]=next().toCharArray();\n  return map;\n }\n}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.*;\nimport java.util.*;\n\n\nclass Main{\n    public static void main(String[] args){\n\tBufferedReader sc=new BufferedReader(new InputStreamReader(System.in));\n\t\n\ttry {\n\t    int n = Integer.valueOf(sc.readLine());\n\t    for(int i=0; i<n; i++){\n\t\tchar[] org = sc.readLine().toCharArray();\n\t\tchar[] msg = sc.readLine().toCharArray();\n\t\tfor(int j=org.length-1; j>=0; j--){\n\t\t    if(org[j] == 'M'){\n\t\t\tfor(int k=0; k<msg.length; k++){\n\t\t\t    if(msg[k]>='0' && msg[k]<'9')\n\t\t\t\tmsg[k]++;\n\t\t\t    else if(msg[k]=='9')\n\t\t\t\tmsg[k]='0';\n\t\t\t}\n\t\t    }\n\t\t    else if(org[j] == 'P')\n\t\t\tfor(int k=0; k<msg.length; k++){\n\t\t\t    if(msg[k]>'0' && msg[k]<='9')\n\t\t\t\tmsg[k]--;\n\t\t\t    else if(msg[k]=='0')\n\t\t\t\tmsg[k]='9';\n\t\t\t}\n\t\t    else if(org[j] == 'A'){\n\t\t\tString b = new String(msg);\n\t\t\tfor(int k=0; k<msg.length; k++)\n\t\t\t    msg[k] = b.charAt(msg.length-1-k);\n\t\t    }\n\t\t    else if(org[j] == 'E'){\n\t\t\tif(msg.length%2==0)\n\t\t\t    for(int k=0; k<msg.length/2; k++){\n\t\t\t\tchar c = msg[k];\n\t\t\t\tmsg[k] = msg[k+msg.length/2];\n\t\t\t\tmsg[k+msg.length/2] = c;\n\t\t\t    }\n\t\t\telse\n\t\t\t    for(int k=0; k<(msg.length-1)/2; k++){\n\t\t\t\tchar c = msg[k];\n\t\t\t\tmsg[k] = msg[k+(msg.length-1)/2+1];\n\t\t\t\tmsg[k+(msg.length-1)/2+1] = c;\n\t\t\t    }\n\t\t    }\n\t\t    else if(org[j] == 'C'){\n\t\t\tchar c = msg[0];\n\t\t\tfor(int k=0; k<msg.length-1; k++)\n\t\t\t    msg[k] = msg[k+1];\n\t\t\tmsg[msg.length-1] = c;\n\t\t    }\n\t\t    else if(org[j] == 'J'){\n\t\t\tchar c = msg[msg.length-1];\n\t\t\tfor(int k=msg.length-1; k>=1; k--)\n\t\t\t    msg[k] = msg[k-1];\n\t\t\tmsg[0] = c;\n\t\t    }\n\t\t}\n\t\tString b = new String(msg);\n\t\tSystem.out.println(b);\n\t    }\n\t}catch(Exception e){\n\t    System.out.println(\"Error\");\n\t}\n    }\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.InputStream;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Comparator;\nimport java.util.InputMismatchException;\nimport java.util.NoSuchElementException;\nimport java.math.BigInteger;\n\npublic class Main{\n\nstatic PrintWriter out;\nstatic InputReader ir;\n\nstatic void solve(){\n int n=ir.nextInt();\n char[] com;\n String s;\n while(n-->0){\n  com=new StringBuilder(ir.next()).reverse.toString.toCharArray();\n  s=ir.next();\n  for(int i=0;i<com.length;i++){\n   if(com[i]=='J') J(s);\n   else if(com[i]=='C') C(s);\n   else if(com[i]=='E') E(s);\n   else if(com[i]=='A') A(s);\n   else if(com[i]=='P') P(s);\n   else M(s);\n  }\n  out.println(s);\n }\n}\n\npublic static void C(String s){\n s=s.substring(1)+s.substring(0,1);\n}\n\npublic static void J(String s){\n s=s.substring(s.length()-1)+s.substring(0,s.length()-1);\n}\n\npublic static void E(String s){\n if(s.length()%2==0){\n  s=s.substring(s.length()/2)+s.substring(0,s.length()/2);\n }\n else{\n  s=s.substring((s.length()+1)/2)+s.substring((s.length()-1)/2,(s.length()+1)/2)+s.substring(0,(s.length()-1)/2);\n }\n}\n\npublic static void A(String s){\n s=new StringBuilder(s).reverse().toString();\n}\n\npublic static void M(String s){\n char[] ss=s.toCharArray();\n for(int i=0;i<s.length();i++){\n  if(ss[i]>='0'&&ss[i]<='9'){\n   if(ss[i]=='9') ss[i]='0';\n   else ss[i]++;\n  }\n }\n s=String.valueOf(ss);\n}\n\npublic static void P(String s){\n char[] ss=s.toCharArray();\n for(int i=0;i<s.length();i++){\n  if(ss[i]>='0'&&ss[i]<='9'){\n   if(ss[i]=='0') ss[i]='9';\n   else ss[i]--;\n  }\n }\n s=String.valueOf(ss);\n}\n\npublic static void main(String[] args) throws Exception{\n ir=new InputReader(System.in);\n out=new PrintWriter(System.out);\n solve();\n out.flush();\n}\n\nstatic class InputReader {\n private InputStream in;\n private byte[] buffer=new byte[1024];\n private int curbuf;\n private int lenbuf;\n\n public InputReader(InputStream in) {this.in=in; this.curbuf=this.lenbuf=0;}\n \n public boolean hasNextByte() {\n  if(curbuf>=lenbuf){\n   curbuf= 0;\n   try{\n    lenbuf=in.read(buffer);\n   }catch(IOException e) {\n    throw new InputMismatchException();\n   }\n   if(lenbuf<=0) return false;\n  }\n  return true;\n }\n\n private int readByte(){if(hasNextByte()) return buffer[curbuf++]; else return -1;}\n \n private boolean isSpaceChar(int c){return !(c>=33&&c<=126);}\n \n private void skip(){while(hasNextByte()&&isSpaceChar(buffer[curbuf])) curbuf++;}\n \n public boolean hasNext(){skip(); return hasNextByte();}\n \n public String next(){\n  if(!hasNext()) throw new NoSuchElementException();\n  StringBuilder sb=new StringBuilder();\n  int b=readByte();\n  while(!isSpaceChar(b)){\n   sb.appendCodePoint(b);\n   b=readByte();\n  }\n  return sb.toString();\n }\n \n public int nextInt() {\n  if(!hasNext()) throw new NoSuchElementException();\n  int c=readByte();\n  while (isSpaceChar(c)) c=readByte();\n  boolean minus=false;\n  if (c=='-') {\n   minus=true;\n   c=readByte();\n  }\n  int res=0;\n  do{\n   if(c<'0'||c>'9') throw new InputMismatchException();\n   res=res*10+c-'0';\n   c=readByte();\n  }while(!isSpaceChar(c));\n  return (minus)?-res:res;\n }\n \n public long nextLong() {\n  if(!hasNext()) throw new NoSuchElementException();\n  int c=readByte();\n  while (isSpaceChar(c)) c=readByte();\n  boolean minus=false;\n  if (c=='-') {\n   minus=true;\n   c=readByte();\n  }\n  long res = 0;\n  do{\n   if(c<'0'||c>'9') throw new InputMismatchException();\n   res=res*10+c-'0';\n   c=readByte();\n  }while(!isSpaceChar(c));\n  return (minus)?-res:res;\n }\n\n public double nextDouble(){return Double.parseDouble(next());}\n\n public int[] nextIntArray(int n){\n  int[] a=new int[n];\n  for(int i=0;i<n;i++) a[i]=nextInt();\n  return a;\n }\n\n public long[] nextLongArray(int n){\n  long[] a=new long[n];\n  for(int i=0;i<n;i++) a[i]=nextLong();\n  return a;\n }\n\n public char[][] nextCharMap(int n,int m){\n  char[][] map=new char[n][m];\n  for(int i=0;i<n;i++) map[i]=next().toCharArray();\n  return map;\n }\n}\n}"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Linq;\nusing System.Collections.Generic;\n\n\n\n\nnamespace ConsoleApplication1 {\n\n    \n\n    class ClassMain {\n\n\n        public static string revJ(string str) {\n            string result = \"\"+str[str.Length-1];\n            for (int i = 0; i < str.Length-1; i++) {\n                result += str[i];\n            }\n            return result;\n        }\n        public static string revC(string str) {\n            string result = \"\";\n            for (int i = 1; i < str.Length ; i++) {\n                result += str[i];\n            }\n            result += str[0];\n            return result;\n        }\n        public static string revE(string str) {\n            string result = \"\";\n            string former = str.Substring(0, str.Length / 2);\n            string latter = str.Substring((str.Length - 1) / 2 + 1);\n            if (str.Length % 2 == 0) { result = latter + former; }\n            else { result = latter + str[str.Length / 2] + former; }\n            return result;\n        }\n        public static string revA(string str) {\n            char[] chrs = str.ToCharArray();\n            Array.Reverse(chrs);\n            return new string(chrs);\n        }\n        public static string revP(string str) {\n            string result = \"\";\n            for (int i = 0; i < str.Length; i++) {\n                if(char.IsDigit(str[i])){\n                    if(str[i]=='0'){result += '9';}\n                    else{\n                    int decre = str[i]-'0'-1;\n                        result += decre+\"\";\n                    } \n                }else{\n                    result+=str[i];\n                }\n            }\n            return result;\n        }\n        public static string revM(string str) {\n            string result = \"\";\n            for (int i = 0; i < str.Length; i++) {\n                if(char.IsDigit(str[i])){\n                    if(str[i]=='9'){result += '0';}\n                    else{int incre = str[i]-'0'+1;\n\n                        result += incre+\"\"; }\n                }else{result+=str[i];}\n            }\n            return result;\n        }\n\n\n\n\n\n        public static void Main(String[] args) {\n           string line;\n           while ((line = Console.ReadLine()) != null) {\n                //int[] ints = line.Split(' ').Select(int.Parse).ToArray();\n                //int n = ints[0];\n                int n = int.Parse(line);                \n                if (n == 0) { break; }\n                \n               for (int i = 0; i < n; i++) {\n                   line = Console.ReadLine();\n                   string str = Console.ReadLine();\n                   for (int j = line.Length - 1; j >= 0; j--) {\n                       char order = line[j];\n                       if (order == 'A') {\n                           str = revA(str);\n                       }\n                       if (order == 'J') {\n                           str = revJ(str);\n                       }\n                       if (order == 'M') {\n                           str = revM(str);\n                       }\n                       if (order == 'P') {\n                           str = revP(str);\n                       }\n                       if (order == 'E') {\n                           str = revE(str);\n                       }\n                       if (order == 'C') {\n                           str = revC(str);\n                       }\n                   }\n                   Console.WriteLine(str);\n               \n               }\n               break;\n                //Console.WriteLine();\n                \n            }\n        }\n\n    }\n\n    \n\n\n}"
  },
  {
    "language": "C#",
    "code": "using System;\n\npublic class hello\n{\n    public static void Main()\n    {\n        var n = int.Parse(Console.ReadLine().Trim());\n        while (n-- > 0)\n        {\n            var m = Console.ReadLine().Trim();\n            var s = Console.ReadLine().Trim();\n            var mL = m.Length;\n            for (int i = mL - 1; i >= 0; i--)\n            {\n                string t;\n                if (m[i] == 'J') t = funcC(s);\n                else if (m[i] == 'C') t = funcJ(s);\n                else if (m[i] == 'E') t = funcE(s);\n                else if (m[i] == 'A') t = funcA(s);\n                else if (m[i] == 'P') t = funcPM(s, -1);\n                else t = funcPM(s, 1);\n                s = t;\n            }\n            Console.WriteLine(s);\n        }\n    }\n    static string funcPM(string s, int pm)\n    {\n        var res = \"\";\n        for (int i = 0; i < s.Length; i++)\n        {\n            var w = s.Substring(i, 1);\n            int c;\n            if (int.TryParse(w, out c))\n            {\n                c += pm;\n                if (c == 10) c = 0;\n                if (c == -1) c = 9;\n                res += c.ToString();\n            }\n            else res += w;\n        }\n        return res;\n    }\n    static string funcE(string s)\n    {\n        var sL = s.Length;\n        if (sL % 2 == 0)\n        {\n            return s.Substring(sL / 2) + s.Substring(0, sL / 2);\n        }\n        else\n        {\n            return s.Substring(sL / 2 + 1) + s.Substring(sL / 2, 1) + s.Substring(0, sL / 2);\n        }\n    }\n    static string funcJ(string s) => s.Substring(1) + s[0];\n    static string funcC(string s)\n    {\n        var sL = s.Length;\n        return s.Substring(sL - 1) + s.Substring(0, sL - 1);\n    }\n    static string funcA(string s)\n    {\n        var t = s.ToCharArray();\n        Array.Reverse(t);\n        return new string(t);\n    }\n}\n"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections;\nusing System.Collections.Generic;\nusing System.Linq;\n\nnamespace A {\n\tclass main {\n\t\tpublic main() { }\n\t\tpublic static int Main() {\n\t\t\tnew main().run();\n            return 0;\n        }\n\t\tvoid run() {\n\t\t\tScanner cin = new Scanner();\n\t\t\tint n = cin.nextInt();\n\t\t\twhile(n-->0) {\n\t\t\t\tString t=cin.next();\n\t\t\t\tString s=cin.next();\n\t\t\t\tfor(int i=t.Length-1; i>=0; i--) {\n\t\t\t\t\tif(t[i]=='A') {\n\t\t\t\t\t\tchar[] a = s.ToCharArray();\n\t\t\t\t\t\tArray.Reverse(a);\n\t\t\t\t\t\ts= new string(a);\n\t\t\t\t\t}\n\t\t\t\t\tif(t[i]=='C') {\n\t\t\t\t\t\ts=s.Substring(1)+s[0];\n\t\t\t\t\t}\n\t\t\t\t\tif(t[i]=='J') {\n\t\t\t\t\t\ts=s[s.Length-1]+s.Substring(0,s.Length-1);\n\t\t\t\t\t}\n\t\t\t\t\tif(t[i]=='E') {\n\t\t\t\t\t\tif(s.Length%2==1) {\n\t\t\t\t\t\t\ts=s.Substring(s.Length/2+1)+s[s.Length/2]+s.Substring(0,s.Length/2);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ts=s.Substring(s.Length/2)+s.Substring(0,s.Length/2);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(t[i]=='M') {\n\t\t\t\t\t\tfor(int j=0; j<s.Length; j++) {\n\t\t\t\t\t\t\tif(s[j]>='0' && s[j]<'9') s=s.Substring(0,j)+(char)(s[j]+1)+s.Substring(j+1);\n\t\t\t\t\t\t\telse if(s[j]=='9') s=s.Substring(0,j)+'0'+s.Substring(j+1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(t[i]=='P') {\n\t\t\t\t\t\tfor(int j=0; j<s.Length; j++) {\n\t\t\t\t\t\t\tif(s[j]>'0' && s[j]<='9') s=s.Substring(0,j)+(char)(s[j]-1)+s.Substring(j+1);\n\t\t\t\t\t\t\telse if(s[j]=='0') s=s.Substring(0,j)+'9'+s.Substring(j+1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tConsole.WriteLine(s);\n\t\t\t}\n\t\t}\n\t}\n\n\tclass Scanner {\n\t\tstring[] s;\n\t\tint i;\n\t\t\n\t\tchar[] cs = new char[] { ' ' };\n\t\t\n\t\tpublic Scanner() {\n\t\t\ts = new string[0];\n\t\t\ti = 0;\n\t\t}\n\t\tpublic string next() {\n\t\t\tif (i < s.Length) return s[i++];\n\t\t\ts = Console.ReadLine().Split(cs, StringSplitOptions.RemoveEmptyEntries);\n\t\t\ti = 0;\n\t\t\treturn s[i++];\n\t\t}\n\t\tpublic int nextInt() {\n\t\t\treturn int.Parse(next());\n\t\t}\n\t\tpublic long nextLong() {\n\t\t\treturn long.Parse(next());\n\t\t}\n\t\tpublic double nextDouble() {\n\t\t\treturn double.Parse(next());\n\t\t}\n\t}\n}\n"
  },
  {
    "language": "JavaScript",
    "code": "var input = require('fs').readFileSync('/dev/stdin', 'utf8');\nvar Arr=(input.trim()).split(\"\\n\");\nvar n=Arr.shift()-0;\nfor(var I=0;I<n;I++){\n   var arr=Arr.shift().split(\"\").reverse();\n   var str=Arr.shift();\n   var x=str.length;\n   arr.forEach(function(v){\n      if(v==\"J\")str=str.slice(-1)+str.slice(0,-1);\n      else if(v==\"C\")str=str.slice(1)+str.slice(0,1);\n      else if(v==\"E\" && x%2==0)str=str.slice(x/2,x)+str.slice(0,x/2);\n      else if(v==\"E\" && x%2==1)str=str.slice(~~(x/2)+1,x)+str[~~(x/2)]+str.slice(0,~~(x/2));\n      else if(v==\"A\")str=str.split(\"\").reverse().join(\"\");\n      else if(v==\"P\")str=str.replace(/\\d/g,function(s){return (s==\"0\")?\"9\":(s-0)-1;});\n      else if(v==\"M\")str=str.replace(/\\d/g,function(s){return (s==\"9\")?\"0\":(s-0)+1;});\n   });\n   console.log(str);\n}"
  },
  {
    "language": "Ruby",
    "code": "class String\n  def C\n    self.rotate 1\n  end\n\n  def J\n    self.rotate -1\n  end\n\n  def E\n    h = self.length/2\n    if self.length.odd?\n      self.slice(h+1, self.length)+self[h]+self.slice(0,h)\n    else\n      self.slice(h,self.length)+self.slice(0,h)\n    end\n  end\n\n  def A\n    self.reverse\n  end\n\n  def M\n    s=''\n    self.chars.each do |c|\n      if c =~ /[0-9]/\n        s += c=='9' ? '0' : (c.to_i+1).to_s\n      else \n        s += c\n      end\n    end\n    s\n  end\n\n  def P\n    s=''\n    self.chars.each do |c|\n      if c =~ /[0-9]/\n        s += c=='0' ? '9' : (c.to_i-1).to_s\n      else \n        s += c\n      end\n    end\n    s\n  end\n\n  def rotate(n)\n    n += self.length if n < 0\n    self.slice(n, self.length-n)+self.slice(0,n)\n  end\nend\n\nn = gets.to_i\nn.times do\n  s = gets.chomp\n  msg = gets.chomp\n  s.reverse.chars.each do |c|\n    msg = msg.J if c == 'J'\n    msg = msg.C if c == 'C'\n    msg = msg.E if c == 'E'\n    msg = msg.A if c == 'A'\n    msg = msg.P if c == 'P'\n    msg = msg.M if c == 'M'\n  end\n  puts msg\nend"
  },
  {
    "language": "Ruby",
    "code": "n = gets.to_i\nn.times do\n    order = gets.chomp\n    s = gets.chomp\n    order.reverse.each_char do |c|\n        case c\n        when ?J\n            s = s[-1] + s[0..-2]\n        when ?C\n            s = s[1..-1] + s[0]\n        when ?E\n            s = s[-(s.size/2)..-1] + s[s.size/2..s.size-1-s.size/2] + s[0..s.size/2-1] if s.size > 1\n        when ?A\n            s = s.reverse\n        when ?P\n            s = s.each_char.map{|l| l =~ /\\d/ ? (l.to_i-1)%10 : l}.join\n        when ?M\n            s = s.each_char.map{|l| l =~ /\\d/ ? (l.to_i+1)%10 : l}.join\n        end\n    end\n    puts s\nend"
  },
  {
    "language": "Ruby",
    "code": "n = gets.to_i\nn.times do\n    o = gets.strip\n    m = gets.strip\n    o.reverse.each_char do |ord|\n        case ord\n        when \"J\"\n            m = m.split(//).rotate(-1).join\n        when \"C\"\n            m = m.split(//).rotate(1).join\n        when \"E\"\n            if m.length % 2 == 0\n                m[0...(m.length/2)], m[(m.length/2)...m.length] = m[(m.length/2)...m.length], m[0...(m.length/2)]\n            else\n                m[0...(m.length/2)], m[(m.length/2 + 1)...m.length] = m[(m.length/2 + 1)...m.length], m[0...(m.length/2)]                \n            end\n        when \"A\"\n            m.reverse!\n        when \"P\"\n            m.each_char.with_index do |c,i|\n                if c.match(/[0-9]/)\n                    num = (c.to_i - 1)\n                    m[i] = num >= 0 ? num.to_s : \"9\"\n                end\n            end\n        when \"M\"\n            m.each_char.with_index do |c,i|\n                if c.match(/[0-9]/)\n                    num = (c.to_i + 1)\n                    m[i] = num < 10 ? num.to_s : \"0\"\n                end\n            end\n        end\n    end\n    puts m\nend"
  },
  {
    "language": "Ruby",
    "code": "n = gets.to_i\nn.times do\n    order = gets.chomp\n    s = gets.chomp\n    order.reverse.each_char do |c|\n        case c\n        when ?J\n            s = s[-1] + s[0..-2]\n        when ?C\n            s = s[1..-1] + s[0]\n        when ?E\n            s = s[-(s.size/2)..-1] + s[s.size/2..s.size-1-s.size/2] + s[0..s.size/2-1] if a.size > 1\n        when ?A\n            s = s.reverse\n        when ?P\n            s = s.each_char.map{|l| l =~ /\\d/ ? (l.to_i-1)%10 : l}.join\n        when ?M\n            s = s.each_char.map{|l| l =~ /\\d/ ? (l.to_i+1)%10 : l}.join\n        end\n    end\n    puts s\nend"
  },
  {
    "language": "Ruby",
    "code": "#!ruby -nl\n\ndef parse(str)\n  eval str.tr('(', '[').tr(')', ']').gsub('[,', '[nil,').gsub(',]', ',nil]')\nend\n\ndef intersection(l, r)\n  res = []\n  res[0] = (l && l[0]) && (r && r[0]) ? intersection(l[0], r[0]) : nil\n  res[1] = (l && l[1]) && (r && r[1]) ? intersection(l[1], r[1]) : nil\n  res\nend\n\ndef union(l, r)\n  res = []\n  res[0] = (l && l[0]) || (r && r[0]) ? union(l[0], r[0]) : nil\n  res[1] = (l && l[1]) || (r && r[1]) ? union(l[1], r[1]) : nil\n  res\nend\n\ndef print(tree)\n  p tree.inspect.tr(' ', '').tr('[', '(').tr(']', ')').gsub('nil', '')\nend\n\nt, l, r = $_.chomp.split\ntl = parse l\ntr = parse r\n\nres = t == 'u' ? union(tl, tr) : intersection(tl, tr)\nprint(res)"
  },
  {
    "language": "Ruby",
    "code": "n = gets.to_i\nn.times do\n    order = gets.chomp\n    s = gets.chomp\n    order.reverse.each_char do |c|\n        case c\n        when ?J\n            s = s[-1] + s[0..-2]\n        when ?C\n            s = s[1..-1] + s[0]\n        when ?E\n            s = s[-(s.size/2)..-1] + s[s.size/2..s.size-1-s.size/2] + s[0..s.size/2-1]\n        when ?A\n            s = s.reverse\n        when ?P\n            s = s.each_char.map{|l| l =~ /\\d/ ? (l.to_i-1)%10 : l}.join\n        when ?M\n            s = s.each_char.map{|l| l =~ /\\d/ ? (l.to_i+1)%10 : l}.join\n        end\n    end\n    puts s\nend"
  },
  {
    "language": "Ruby",
    "code": "class String\n  def C\n    self.rotate 1\n  end\n\n  def J\n    self.rotate -1\n  end\n\n  def E\n    h = self.length/2\n    if self.length.odd?\n      self.slice(h+1, self.length)+self[h]+self.slice(0,h)\n    else\n      self.slice(h,self.length)+self.slice(0,h)\n    end\n  end\n\n  def A\n    self.reverse\n  end\n\n  def M\n    s=''\n    self.chars.each do |c|\n      if c =~ /[0-9]/\n        s += c=='9' ? '0' : (c.to_i+1).to_s\n      else \n        s += c\n      end\n    end\n    s\n  end\n\n  def P\n    s=''\n    self.chars.each do |c|\n      if c =~ /[0-9]/\n        s += c=='0' ? '9' : (c.to_i-1).to_s\n      else \n        s += c\n      end\n    end\n    s\n  end\n\n  def rotate(n)\n    n += self.length if n < 0\n    self.slice(n, self.length-n)+self.slice(0,n)\n  end\nend\n\nn = gets.to_i\nn.times do\n  s = gets.chomp\n  msg = gets.chomp\n  s.reverse.chars.each do |c|\n    msg = msg.J if c == 'J'\n    msg = msg.C if c == 'C'\n    msg = msg.E if c == 'E'\n    msg = msg.A if c == 'A'\n    msg = msg.P if c == 'P'\n    msg = msg.M if c == 'M'\n  end\n  puts msg\nend"
  },
  {
    "language": "Ruby",
    "code": "gets.to_i.times{\n    order = gets.chomp.split(\"\").reverse\n    str = gets.chomp\n    order.each{|messenger|\n        case messenger\n        when \"J\"\n            str = str[-1] + str[0..-2]\n        when \"C\"\n            str = str[1..-1] + str[0]\n        when \"E\"\n            if str.length > 1\n                l = str.length / 2\n                str = str[(-l)..-1] + str[0..(l-1)] if str.length.even?\n                str = str[(-l)..-1] + str[-l-1] + str[0..(l-1)] if str.length.odd?\n            end\n        when \"A\"\n            str = str.reverse\n        when \"P\"\n            0.upto(str.length - 1){|i| str[i] = ((str[i].to_i - 1) % 10).to_s if [\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\"].include? str[i]}\n        when \"M\"\n            0.upto(str.length - 1){|i| str[i] = ((str[i].to_i + 1) % 10).to_s if [\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\"].include? str[i]}\n        end\n    }\n    puts str\n}\n"
  },
  {
    "language": "Ruby",
    "code": "gets.to_i.times do\n  order = gets.chomp.split('')\n  msg = gets.chomp.split('')\n  len = msg.length\n  order.reverse.each do |c|\n    case c\n    when 'J'\n      msg.rotate!(-1)\n    when 'C'\n      msg.rotate!(1)\n    when 'E'\n      if len.even? then msg = msg[len/2..-1] + msg[0...len/2]\n      else\n        msg = msg[(len+1)/2..-1] + [msg[len/2]] + msg[0...len/2]\n      end\n    when 'A'\n      msg.reverse!\n    when 'P'\n      msg.map!{ |a| a.to_i.to_s != a ? a : ((a.to_i + 9) % 10).to_s }\n    when 'M'\n      msg.map!{ |a| a.to_i.to_s != a ? a : ((a.to_i + 1) % 10).to_s }\n    end\n  end\n  puts msg.join\nend"
  },
  {
    "language": "Ruby",
    "code": "### subroutines\n\ndef rotate_l(chs)\n  chs.rotate\nend\n\ndef rotate_r(chs)\n  chs.rotate(-1)\nend\n\ndef swap_h(chs)\n  len = chs.length\n  hlen = len / 2\n  \n  if len.even?\n    chs[hlen, hlen] + chs[0, hlen]\n  else\n    chs[hlen + 1, hlen] + chs[hlen, 1] + chs[0, hlen]\n  end\nend\n\ndef reverse(chs)\n  chs.reverse\nend\n\ndef inc_num(chs)\n  chs0 = []\n  for ch in chs\n    if ch >= '0' && ch <= '9'\n      chs0 << ((ch.to_i + 1) % 10).to_s\n    else\n      chs0 << ch\n    end\n  end\n  chs0\nend\n\ndef dec_num(chs)\n  chs0 = []\n  for ch in chs\n    if ch >= '0' && ch <= '9'\n      chs0 << ((ch.to_i + 9) % 10).to_s\n    else\n      chs0 << ch\n    end\n  end\n  chs0\nend\n\n### main\n\nn = gets.to_i\n\nn.times do\n  cmds = gets.strip.split('')\n  chs = gets.strip.split('')\n  #p [cmds, chs]\n\n  for cmd in cmds.reverse\n    case cmd\n    when 'J'\n      chs = rotate_r(chs)\n    when 'C'\n      chs = rotate_l(chs)\n    when 'E'\n      chs = swap_h(chs)\n    when 'A'\n      chs = reverse(chs)\n    when 'P'\n      chs = dec_num(chs)\n    when 'M'\n      chs = inc_num(chs)\n    end\n  end\n\n  puts chs.join('')\nend"
  },
  {
    "language": "Go",
    "code": "package main\n\nimport (\n\t\"bufio\"\n\t\"fmt\"\n\t\"os\"\n\t\"strconv\"\n\t\"strings\"\n)\n\nfunc main() {\n\tio := NewIo()\n\tdefer io.Flush()\n\tn := io.NextInt()\n\tfor i := 0; i < n; i++ {\n\t\ts, t := io.NextLine(), io.NextLine()\n\t\tio.Println(f(s, t))\n\t}\n}\n\nfunc f(s, t string) string {\n\tfor i := len(s) - 1; i >= 0; i-- {\n\t\tswitch s[i] {\n\t\tcase 'C':\n\t\t\tt = strings.Join([]string{t[1:], string(t[0])}, \"\")\n\t\tcase 'J':\n\t\t\tt = strings.Join([]string{string(t[len(t)-1]), t[:len(t)-1]}, \"\")\n\t\tcase 'E':\n\t\t\tif len(t)%2 == 1 {\n\t\t\t\tt = strings.Join([]string{t[len(t)/2+1:], string(t[len(t)/2]), t[:len(t)/2]}, \"\")\n\t\t\t} else {\n\t\t\t\tt = strings.Join([]string{t[len(t)/2:], t[:len(t)/2]}, \"\")\n\t\t\t}\n\t\tcase 'A':\n\t\t\tr := []rune(t)\n\t\t\tfor i, n := 0, len(r); i < n/2; i++ {\n\t\t\t\tr[i], r[n-i-1] = r[n-i-1], r[i]\n\t\t\t}\n\t\t\tt = string(r)\n\t\tcase 'M':\n\t\t\tr := []rune(t)\n\t\t\tfor i := 0; i < len(r); i++ {\n\t\t\t\tif '0' <= r[i] && r[i] < '9' {\n\t\t\t\t\tr[i]++\n\t\t\t\t} else if r[i] == '9' {\n\t\t\t\t\tr[i] = '0'\n\t\t\t\t}\n\t\t\t}\n\t\t\tt = string(r)\n\t\tcase 'P':\n\t\t\tr := []rune(t)\n\t\t\tfor i := 0; i < len(r); i++ {\n\t\t\t\tif '0' < r[i] && r[i] <= '9' {\n\t\t\t\t\tr[i]--\n\t\t\t\t} else if r[i] == '0' {\n\t\t\t\t\tr[i] = '9'\n\t\t\t\t}\n\t\t\t}\n\t\t\tt = string(r)\n\t\t}\n\t}\n\treturn t\n}\n\n// I/O template\ntype Io struct {\n\treader    *bufio.Reader\n\twriter    *bufio.Writer\n\ttokens    []string\n\tnextToken int\n}\n\nfunc NewIo() *Io {\n\treturn &Io{\n\t\treader: bufio.NewReader(os.Stdin),\n\t\twriter: bufio.NewWriter(os.Stdout),\n\t}\n}\n\nfunc (io *Io) Flush() {\n\terr := io.writer.Flush()\n\tif err != nil {\n\t\tpanic(err)\n\t}\n}\n\nfunc (io *Io) NextLine() string {\n\tvar buff []byte\n\tfor {\n\t\tline, isPrefix, err := io.reader.ReadLine()\n\t\tif err != nil {\n\t\t\tpanic(err)\n\t\t}\n\t\tbuff = append(buff, line...)\n\t\tif !isPrefix {\n\t\t\tbreak\n\t\t}\n\t}\n\treturn string(buff)\n}\n\nfunc (io *Io) Next() string {\n\tfor io.nextToken >= len(io.tokens) {\n\t\tline := io.NextLine()\n\t\tio.tokens = strings.Fields(line)\n\t\tio.nextToken = 0\n\t}\n\ts := io.tokens[io.nextToken]\n\tio.nextToken++\n\treturn s\n}\n\nfunc (io *Io) NextInt() int {\n\ti, err := strconv.Atoi(io.Next())\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\treturn i\n}\n\nfunc (io *Io) NextFloat() float64 {\n\ti, err := strconv.ParseFloat(io.Next(), 64)\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\treturn i\n}\n\nfunc (io *Io) Println(a ...interface{}) {\n\tfmt.Fprintln(io.writer, a...)\n}\n\nfunc (io *Io) Printf(format string, a ...interface{}) {\n\tfmt.Fprintf(io.writer, format, a...)\n}\n\nfunc (io *Io) PrintIntSlice(a []int) {\n\tb := make([]interface{}, 0, len(a))\n\tfor _, x := range a {\n\t\tb = append(b, x)\n\t}\n\tio.Println(b...)\n}\n\nfunc (io *Io) PrintStringSlice(a []string) {\n\tb := make([]interface{}, 0, len(a))\n\tfor _, x := range a {\n\t\tb = append(b, x)\n\t}\n\tio.Println(b...)\n}\n\nfunc Log(name string, value interface{}) {\n\tfmt.Fprintf(os.Stderr, \"%s=%+v\\n\", name, value)\n}\n\nfunc ExampleIo() {\n\tio := NewIo()\n\tdefer io.Flush()\n\ta := make([]int, 0, 3)\n\ta[0], a[1], a[2] = io.NextInt(), io.NextInt(), io.NextInt()\n\tio.Println(a)\n\tio.PrintIntSlice(a)\n\tLog(\"io\", a)\n}\n\n"
  },
  {
    "language": "PHP",
    "code": "<?php\nfscanf(STDIN, \"%d\", $n);\n\nwhile ($n--) {\n  fscanf(STDIN, \"%s\", $o);\n  fscanf(STDIN, \"%s\", $m);\n  \n  $o = strrev($o);\n\n  for ($i = 0; $i < strlen($o); $i++) {\n    $ch = $o[$i];\n    if ($ch == 'J') {\n      $m = substr($m, strlen($m) - 1) . substr($m, 0, strlen($m) - 1);\n    } else if ($ch == 'C') {\n      $m = substr($m, 1) . substr($m, 0, 1);\n    } else if ($ch == 'E') {\n      if (strlen($m) % 2) {\n        $m = substr($m, (int)(strlen($m) / 2) + 1) . $m[(int)(strlen($m) / 2)] . substr($m, 0, (int)(strlen($m) / 2));\n      } else {\n        $m = substr($m, strlen($m) / 2) . substr($m, 0, strlen($m) / 2);\n      }\n    } else if ($ch == 'A') {\n      $m = strrev($m);\n    } else if ($ch == 'P') {\n      for ($j = 0; $j < strlen($m); $j++) {\n        if (is_numeric($m[$j])) {\n          $m[$j] = (string)(((int)$m[$j] - 1 + 10) % 10);\n        }\n      }\n    } else if ($ch == 'M') {\n      for ($j = 0; $j < strlen($m); $j++) {\n        if (is_numeric($m[$j])) {\n          $m[$j] = (string)(((int)$m[$j] + 1) % 10);\n        }\n      }\n    }\n  }\n\n  print $m . \"\\n\";\n}"
  },
  {
    "language": "D",
    "code": "import std.stdio;\nimport std.algorithm;\nimport std.string;\nimport std.range;\nimport std.array;\nimport std.conv;\nimport std.complex;\nimport std.math;\nimport std.ascii;\nimport std.bigint;\nimport std.container;\nimport std.typecons;\n\nauto readInts() {\n\treturn array(map!(to!int)(readln().strip().split()));\n}\nauto readInt() {\n\treturn readInts()[0];\n}\nauto readLongs() {\n\treturn array(map!(to!long)(readln().strip().split()));\n}\nauto readLong() {\n\treturn readLongs()[0];\n}\n\nconst real eps = 1e-10;\n\nstring decode(string s, char m) {\n\tswitch(m) {\n\t\tcase 'J':\n\t\t\treturn s[$-1] ~ s[0..$-1];\n\t\tcase 'C':\n\t\t\treturn s[1..$] ~ s[0];\n\t\tcase 'E':\n\t\t\treturn s[($+1)/2..$] ~ s[$/2..($+1)/2] ~ s[0..$/2];\n\t\tcase 'A':\n\t\t\treturn s.dup.reverse.to!string;\n\t\tcase 'P':\n\t\t\treturn s.map!(to!char).map!((char a) {\n\t\t\t\tif(a == '0') {\n\t\t\t\t\treturn '9';\n\t\t\t\t} else if(!digits.find(a).empty) {\n\t\t\t\t\treturn cast(char)(a-1);\n\t\t\t\t} else {\n\t\t\t\t\treturn a;\n\t\t\t\t}\n\t\t\t}).array;\n\t\tcase 'M':\n\t\t\treturn s.map!(to!char).map!((char a) {\n\t\t\t\tif(a == '9') {\n\t\t\t\t\treturn '0';\n\t\t\t\t} else if(!digits.find(a).empty) {\n\t\t\t\t\treturn cast(char)(a+1);\n\t\t\t\t} else {\n\t\t\t\t\treturn a;\n\t\t\t\t}\n\t\t\t}).array;\n\t\tdefault:\n\t\t\treturn s;\n\t}\n}\n\nvoid main(){\n\tauto n = readInt();\n\tfor(int i; i < n; ++i) {\n\t\tauto o = readln().chomp();\n\t\tauto l = readln().chomp();\n\t\tforeach(m; o.dup.reverse){\n\t\t\tl = decode(l, m);\n\t\t}\n\t\twriteln(l);\n\t}\n}"
  },
  {
    "language": "D",
    "code": "import std.stdio;\nimport std.conv;\nimport std.string;\nimport std.typecons;\nimport std.algorithm;\nimport std.array;\nimport std.range;\nimport std.math;\nimport std.container;\n\nvoid main()\n{\n\tauto n = readln.chomp.to!int;\n\twhile (n--) {\n\t\tauto pat = readln.chomp;\n\t\tauto str = readln.chomp;\n\t\tforeach_reverse (e; pat) {\n\t\t\tif (e == 'C') {\n\t\t\t\tstr = str[1..$] ~ str[0];\n\t\t\t} else if (e == 'J') {\n\t\t\t\tstr = str[$-1] ~ str[0..$-1];\n\t\t\t} else if (e == 'E') {\n\t\t\t\tif (str.length % 2) {\n\t\t\t\t\tstr = str[str.length/2+1..$] ~ str[str.length/2] ~ str[0..str.length/2];\n\t\t\t\t} else {\n\t\t\t\t\tstr = str[str.length/2..$] ~ str[0..str.length/2];\n\t\t\t\t}\n\t\t\t} else if (e == 'A') {\n\t\t\t\tstr = str.array.reverse.to!string;\n\t\t\t} else if (e == 'M') {\n\t\t\t\tforeach (i; 0..str.length) {\n\t\t\t\t\tif (str[i] >= '0' && str[i] < '9') {\n\t\t\t\t\t\tstr = str[0..i] ~ (str[i] + 1).to!char ~ str[i+1..$];\n\t\t\t\t\t} else if (str[i] == '9') {\n\t\t\t\t\t\tstr = str[0..i] ~ '0' ~ str[i+1..$];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tforeach (i; 0..str.length) {\n\t\t\t\t\tif (str[i] > '0' && str[i] <= '9') {\n\t\t\t\t\t\tstr = str[0..i] ~ (str[i] - 1).to!char ~ str[i+1..$];\n\t\t\t\t\t} else if (str[i] == '0') {\n\t\t\t\t\t\tstr = str[0..i] ~ '9' ~ str[i+1..$];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tstr.writeln;\n\t}\n}"
  },
  {
    "language": "Python",
    "code": "R = 2**15+1\ndp = [[0]*R for i in range(4)]\nfor i in range(1,182):\n\tdp[0][i**2] += 1\nfor k in range(1,4):\n\tfor i in range(1,182):\n\t\tfor j in range(i**2,R-i**2):\n\t\t\tdp[k][j+i**2] += dp[k-1][j]\n\nwhile 1:\n\tn = input()\n\tif n == 0: break\n\tprint sum(dp[i][n] for i in range(4))"
  },
  {
    "language": "Python",
    "code": "def J(m) :\n    tmp = m[-1]\n    del m[-1]\n    m.insert(0, tmp)\n    return m\n    \ndef C(m) :\n    tmp = m[0]\n    del m[0]\n    m.append(tmp)\n    return m\n    \ndef E(m) :\n    if len(m) % 2 == 1 :\n        x = len(m) // 2\n        tmp = m[0:x]\n        middle = m[x]\n        del m[0:x+1]\n        m = m + [middle] + tmp\n        return m\n    \n    else :\n        x = len(m) // 2\n        tmp = m[0:x]\n        del m[0:x]\n        m = m + tmp\n        return m\n    \ndef A(m) :\n    m.reverse()\n    return m\n    \ndef M(m) :\n    for i in range(len(m)) :\n        if '0' <= m[i] <= '8' :\n            m[i] = str(int(m[i]) + 1)\n        elif m[i] == '9' :\n            m[i] = '0'\n    return m\n    \ndef P(m) :\n    for i in range(len(m)) :\n        if '1' <= m[i] <= '9' :\n            m[i] = str(int(m[i]) - 1)\n        elif m[i] == '0' :\n            m[i] = '9'\n    return m\n\nn = int(input())\nfor i in range(n) :\n    member = list(input())\n    member.reverse()\n    message = list(input())\n    \n    for j in range(len(member)) :\n        if member[j] == 'J' :\n            message = J(message)\n        elif member[j] == 'C' :\n            message = C(message)\n        elif member[j] == 'E' :\n            message = E(message)\n        elif member[j] == 'A' :\n            message = A(message)\n        elif member[j] == 'P' :\n            message = P(message)\n        elif member[j] == 'M' :\n            message = M(message)\n    print(*message, sep='')\n            \n"
  },
  {
    "language": "Python",
    "code": "\"\"\"\nJ氏は、メッセージのすべての文字を左に1つ回転させます。\nたとえば、「aB23d」を「B23da」に変換します。\n\nミスCは、メッセージのすべての文字を1つ右に回転します。\nたとえば、彼女は「aB23d」を「daB23」に変換します。\n\nE氏はメッセージの左半分を右半分と入れ替えます。メッセージの文字数が奇数の場合、中央の文字は移動しません。\nたとえば、「e3ac」を「ace3」に、「aB23d」を「3d2aB」に変換します。\n\nA氏はメッセージを逆にします。たとえば、「aB23d」を「d32Ba」に変換します。\n\nDr. Pは、メッセージ内のすべての数字を1つ増やします。数字が「9」の場合、「0」になります。アルファベットは変更されません。\nたとえば、彼は「aB23d」を「aB34d」に、「e9ac」を「e0ac」に変換します。\n\nM氏は、メッセージのすべての桁を1つ減らします。数字が「0」の場合、「9」になります。アルファベットは変更されません。\nたとえば、彼は「aB23d」を「aB12d」に、「e0ac」を「e9ac」に変換します。\n\"\"\"\n\ndef func_by_J(t):\n    return t[len(t)-1] + t[:len(t)-1]\n\ndef func_by_C(t):\n    return t[1:len(t)] + t[0]\n\ndef func_by_E(t):\n    if len(t)%2 == 0:\n        t = t[len(t)//2:] + t[:len(t)//2]\n    else:\n        t = t[len(t)//2+1:] + t[len(t)//2] + t[:len(t)//2]\n    return t\n\ndef func_by_A(t):\n    return t[::-1]\n\ndef func_by_P(t):\n    s = []\n    for c in t:\n        try:\n            integer = int(c)\n            s.append(str((integer - 1)%10))\n        except:\n            s.append(c)\n\n    return \"\".join(s)\n\ndef func_by_M(t):\n    s = []\n    for c in t:\n        try:\n            integer = int(c)\n            s.append(str((integer + 1)%10))\n        except:\n            s.append(c)\n\n    return \"\".join(s)\n\n\ndef solve(s, t):\n    for c in reversed(s):\n        if c == \"J\":\n            t = func_by_J(t)\n        elif c == \"C\":\n            t = func_by_C(t)\n        elif c == \"E\":\n            t = func_by_E(t)\n        elif c == \"A\":\n            t = func_by_A(t)\n        elif c == \"P\":\n            t = func_by_P(t)\n        elif c == \"M\":\n            t = func_by_M(t)\n    return t\n\n\nif __name__ == '__main__':\n    #\"\"\"\n    n = int(input())\n    ans = []\n    for i in range(n):\n        s = input()\n        t = input()\n        ans.append(solve(s, t))\n    print(*ans, sep=\"\\n\")\n\n    \"\"\"\n    t = \"abcd019\"\n    print(t)\n    print(func_by_J(t))\n    print(func_by_C(t))\n    print(func_by_E(t))\n    print(func_by_A(t))\n    print(func_by_P(t))\n    print(func_by_M(t))\n    \"\"\"\n\n"
  },
  {
    "language": "Python",
    "code": "for loop in range(int(raw_input())):\n    manu = raw_input()\n    msg = raw_input()\n    size = len(msg)\n    \n    for s in manu[::-1]:\n        if   s == \"J\":\n            msg = msg[-1]+msg[:-1]\n        elif s == \"C\":\n            msg = msg[1:]+msg[0]\n        elif s == \"E\":\n            msg = msg[size/2+size%2:]+msg[:size/2]\n        elif s == \"A\":\n            msg = msg[::-1]\n        elif s == \"P\":\n            for i in range(len(msg)):\n                if msg[i].isdigit():\n                    msg = msg[:i]+str((int(msg[i])-1+10)%10)+msg[i+1:]\n        elif s == \"M\":\n            for i in range(len(msg)):\n                if msg[i].isdigit():\n                    msg = msg[:i]+str((int(msg[i])+1)%10)+msg[i+1:]\n    \n    print msg"
  },
  {
    "language": "Python",
    "code": "def decodeJ(s):\n    return s[-1] + s[:-1]\ndef decodeC(s):\n    return s[1:] + s[0]\ndef decodeE(s):\n    lenS = len(s)\n    return s[lenS//2:] + s[:lenS//2] if lenS % 2 == 0 else s[lenS//2+1:] + s[lenS//2] + s[:lenS//2]\ndef decodeA(s):\n    return s[::-1]\ndef decodeP(s):\n    ret = []\n    for i in s:\n        try:\n            ret.append(str((int(i)-1)%10))\n        except:\n            ret.append(i)\n    return ''.join(ret)\ndef decodeM(s):\n    ret = []\n    for i in s:\n        try:\n            ret.append(str((int(i)+1)%10))\n        except:\n            ret.append(i)\n    return ''.join(ret)\n\nN = int(input())\ndecode = {'J': decodeJ, 'C': decodeC, 'E': decodeE, 'A': decodeA, 'P': decodeP, 'M': decodeM}\nfor _ in range(N):\n    messengers = input()\n    message = input()\n    for m in messengers[::-1]:\n        message = decode[m](message)\n    print(message)"
  },
  {
    "language": "Python",
    "code": "\nn = int(input())\n\nfor i in range(n):\n  order = input()[::-1]\n  message = input()\n\n  for s in order:\n    if s == 'J':\n      message = message[len(message) - 1] + message[:len(message) - 1]\n    elif s == 'C':\n      message = message[1:] + message[0]\n    elif s == 'E':\n      message = message[(len(message)+1)//2:] + message[len(message)//2:(len(message) + 1)//2] + message[:len(message)//2]\n    elif s == 'A':\n      message = message[::-1] \n    elif s == 'P':\n      temp = ''\n      for c in message:\n        if c == '0':\n          c = '9'\n        elif c > '0' and c <= '9':\n          c = chr(ord(c) - 1)\n        temp += c\n      message = temp\n    elif s == 'M':\n      temp = ''\n      for c in message:\n        if c == '9':\n          c = '0'\n        elif c >= '0' and c < '9':\n          c = chr(ord(c) + 1)\n        temp += c\n      message = temp\n  print(message)      "
  },
  {
    "language": "Python",
    "code": "funcs = {\n    'J': lambda s: s[-1:]+s[:-1],\n    'C': lambda s: s[1:]+s[0],\n    'E': lambda s: s[(len(s)+1)//2:]+s[len(s)//2:(len(s)+1)//2]+s[:len(s)//2],\n    'A': lambda s: s[::-1],\n    'P': lambda s: s.translate(str.maketrans('0123456789', '9012345678')),\n    'M': lambda s: s.translate(str.maketrans('0123456789', '1234567890')),\n}\nn = int(input())\nfor i in range(n):\n    s, t = [input().strip() for j in '01']\n    for c in s[::-1]:\n        t = funcs[c](t)\n    else:\n        print(t)\n\n"
  },
  {
    "language": "Python",
    "code": "def C(m):\n    return m[1:]+m[:1]\n\ndef J(m):\n    return m[-1:]+m[:-1]\n\ndef E(m):\n    lenm=len(m)\n    h=lenm/2\n    if h*2==lenm or h==0:\n        temp=m[-h:]+m[:h]\n    else:\n        temp=m[-h:]+m[h]+m[:h]\n    return temp\n\ndef A(m):\n    return m[::-1]\n\ndef M(m):\n    m=list(m)\n    for i in range(len(m)):\n        if m[i].isdigit():\n            if m[i]==\"9\":\n                m[i]=\"0\"\n            else:\n                m[i]=str(int(m[i])+1)\n    return \"\".join(m)\n\ndef P(m):\n    m=list(m)\n    for i in range(len(m)):\n        if m[i].isdigit():\n            if m[i]==\"0\":\n                m[i]=\"9\"\n            else:\n                m[i]=str(int(m[i])-1)\n    return \"\".join(m)\n\nfor i in range(input()):\n    messenger=raw_input()\n    message=raw_input()\n    for m in messenger[::-1]:\n        if m==\"J\":\n            message=J(message)\n        elif m==\"C\":\n            message=C(message)\n        elif m==\"E\":\n            message=E(message)\n        elif m==\"A\":\n            message=A(message)\n        elif m==\"P\":\n            message=P(message)\n        elif m==\"M\":\n            message=M(message)\n    print message"
  },
  {
    "language": "Python",
    "code": "def C(message):\n    return message[1:]+message[:1]\n\ndef J(message):\n    return message[-1:]+message[:-1]\n\ndef E(message):\n    lenm=len(message)\n    h=lenm/2\n    if lenm%2==1:\n        temp=message[-h:]+message[h]+message[:h]\n    else:\n        temp=message[-h:]+message[:h]\n    return temp\n\ndef A(message):\n    return message[::-1]\n\ndef M(message):\n    s=\"\"\n    for i in message:\n        if i.isdigit():\n            if i==\"9\":\n                s+=\"0\"\n            else:\n                s+=str(int(i)+1)\n        else:\n            s+=i\n    return s\n\ndef P(message):\n    s=\"\"\n    for i in message:\n        if i.isdigit():\n            if i==\"0\":\n                s+=\"9\"\n            else:\n                s+=str(int(i)-1)\n        else:\n            s+=i\n    return s\n\nfor i in range(input()):\n    messenger=raw_input()\n    message=raw_input()\n    for m in messenger[::-1]:\n        if m==\"J\":\n            message=J(message)\n        elif m==\"C\":\n            message=C(message)\n        elif m==\"E\":\n            message=E(message)\n        elif m==\"A\":\n            message=A(message)\n        elif m==\"P\":\n            message=P(message)\n        elif m==\"M\":\n            message=M(message)\n    print message"
  },
  {
    "language": "Python",
    "code": "for loop in range(int(raw_input())):\n    manu = raw_input()\n    msg = raw_input()\n    size = len(msg)\n    \n    for s in manu[::-1]:\n        if   s == \"J\":\n            msg = msg[-1]+msg[:-1] if size > 1 else msg\n        elif s == \"C\":\n            msg = msg[1:]+msg[0] if size > 1 else msg\n        elif s == \"E\":\n            if size == 1: continue\n            if size%2 == 0:\n                msg = msg[size/2:]+msg[:size/2]\n            else:\n                msg = msg[size/2+1:]+msg[size/2]+msg[:size/2]\n        elif s == \"A\":\n            msg = msg[::-1]\n        elif s == \"P\":\n            for i in range(len(msg)):\n                if msg[i].isdigit():\n                    msg = msg[:i]+str((int(msg[i])-1+10)%10)+msg[i+1:]\n        elif s == \"M\":\n            for i in range(len(msg)):\n                if msg[i].isdigit():\n                    msg = msg[:i]+str((int(msg[i])+1)%10)+msg[i+1:]\n    \n    print msg"
  },
  {
    "language": "Python",
    "code": "def rotateRight(msg):\n    if len(msg) == 1:\n        return msg\n    return msg[-1] + msg[:-1]\n\ndef rotateLeft(msg):\n    if len(msg) == 1:\n        return msg\n    return msg[1:] + msg[0]\n\ndef swapHalf(msg):\n    if len(msg) == 1:\n        return msg\n    H = len(msg) // 2\n    if len(msg) % 2 == 0:\n        return msg[H:] + msg[:H]\n    else:\n        return msg[H+1:] + msg[H] + msg[:H]\n\ndef increment(msg):\n    arr = [ c for c in msg ]\n    for i in range(len(arr)):\n        if arr[i].isdigit():\n            arr[i] = str((int(arr[i]) + 1) % 10)\n    return \"\".join(arr)\n\ndef decrement(msg):\n    arr = [ c for c in msg ]\n    for i in range(len(arr)):\n        if arr[i].isdigit():\n            if arr[i] == '0':\n                arr[i] = '9'\n            else:\n                arr[i] = str(int(arr[i]) - 1)\n    return \"\".join(arr)\n\nif __name__ == '__main__':\n    N = int(input())\n\n    for _ in range(N):\n        order = input()\n        msg = input()\n\n        for i in range(len(order) - 1, -1, -1):\n            c = order[i]\n            if c == 'J':\n                msg = rotateRight(msg)\n            elif c == 'C':\n                msg = rotateLeft(msg)\n            elif c == 'E':\n                msg = swapHalf(msg)\n            elif c == 'A':\n                msg = msg[::-1]\n            elif c == 'P':\n                msg = decrement(msg)\n            elif c == 'M':\n                msg = increment(msg)\n        \n        print(msg)\n"
  },
  {
    "language": "Python",
    "code": "def C(S):\n    return S[1:] + S[0]\n\n\ndef J(S):\n    return S[-1] + S[:-1]\n\n\ndef E(S):\n    temp = len(S) // 2\n    if len(S) % 2 == 0:\n        S = S[temp:] + S[:temp]\n    else:\n        S = S[temp + 1:] + S[temp] + S[:temp]\n\n    return S\n\n\ndef A(S):\n    return S[::-1]\n\n\ndef M(S):\n    temp = []\n    for s in S:\n        if s.isdecimal():\n            temp.append(\"0\" if s == \"9\" else str(int(s) + 1))\n        else:\n            temp.append(s)\n    return \"\".join(temp)\n\n\ndef P(S):\n    temp = []\n    for s in S:\n        if s.isdecimal():\n            temp.append(\"9\" if s == \"0\" else str(int(s) - 1))\n        else:\n            temp.append(s)\n    return \"\".join(temp)\n\n\nans = []\n\nn = int(input())\n\nfor i in range(n):\n    messenger = input()\n    messenger = messenger[::-1]\n    S = input()\n    for m in messenger:\n        if m == \"J\":\n            S = J(S)\n        elif m == \"C\":\n            S = C(S)\n        elif m == \"E\":\n            S = E(S)\n        elif m == \"A\":\n            S = A(S)\n        elif m == \"P\":\n            S = P(S)\n        elif m == \"M\":\n            S = M(S)\n\n    ans.append(S)\n\nfor s in ans:\n    print(s)\n"
  },
  {
    "language": "Python",
    "code": "n = input()\nfor i in xrange(n):\n\torder = raw_input()\n\tmsg = raw_input()\n\tfor c in reversed(order):\n\t\tif c == \"J\":\n\t\t\tmsg = msg[-1] + msg[:-1]\n\t\tif c == \"C\":\n\t\t\tmsg = msg[1:] + msg[0]\n\t\tif c == \"E\":\n\t\t\tl = len(msg) / 2\n\t\t\tif len(msg) % 2 == 1:\n\t\t\t\tmsg = msg[l + 1:] + msg[l] + msg[:l]\n\t\t\telse:\n\t\t\t\tmsg = msg[l:] + msg[:l]\n\t\tif c == \"A\":\n\t\t\tmsg = msg[::-1]\n\t\tif c == \"P\":\n\t\t\tmsg = msg.replace(\"0\", \"9\")\n\t\t\tfor org in range(1, 9):\n\t\t\t\tmsg = msg.replace(str(org), str(org - 1))\n\t\tif c == \"M\":\n\t\t\tfor org in reversed(range(9)):\n\t\t\t\tmsg = msg.replace(str(org), str(org + 1))\n\t\t\tmsg = msg.replace(\"9\", \"0\")\n\tprint msg"
  },
  {
    "language": "Python",
    "code": "import math,string,itertools,fractions,heapq,collections,re,array,bisect,sys,random,time,copy,functools\n\nsys.setrecursionlimit(10**7)\ninf = 10**20\neps = 1.0 / 10**10\nmod = 998244353\n\ndef LI(): return [int(x) for x in sys.stdin.readline().split()]\ndef LI_(): return [int(x)-1 for x in sys.stdin.readline().split()]\ndef LF(): return [float(x) for x in sys.stdin.readline().split()]\ndef LS(): return sys.stdin.readline().split()\ndef I(): return int(sys.stdin.readline())\ndef F(): return float(sys.stdin.readline())\ndef S(): return input()\ndef pf(s): return print(s, flush=True)\n\n\ndef main():\n    rr = []\n    n = I()\n    ni = 0\n    d = '0123456789'\n\n    while ni < n:\n        ni += 1\n        s = S()\n        m = S()\n        l = len(m)\n        for c in s[::-1]:\n            if c == 'J':\n                m = m[-1] + m[:-1]\n            elif c == 'C':\n                m = m[1:] + m[0]\n            elif c == 'E':\n                if l % 2 == 0:\n                    m = m[l//2:] + m[:l//2]\n                else:\n                    m = m[l//2+1:] + m[l//2] + m[:l//2]\n            elif c == 'A':\n                m = m[::-1]\n            elif c == 'P':\n                m = ''.join([t if not t in d else d[d.index(t)-1] for t in m])\n            elif c == 'M':\n                m = ''.join([t if not t in d else d[(d.index(t)+1)%10] for t in m])\n\n        rr.append(m)\n\n    return '\\n'.join(map(str, rr))\n\n\nprint(main())\n\n\n"
  },
  {
    "language": "Python",
    "code": "def J(string):\n    return string[-1] + string[:-1] if len(string) >= 2 else string\n     \ndef C(string):\n    return string[1:] + string[0] if len(string) >= 2 else string\n\ndef E(string):\n    if len(string) == 1:\n        return string\n        \n    if len(string) % 2:\n        return string[len(string) // 2 + 1:] + string[len(string) // 2] + string[0:len(string) // 2]\n    else:\n        return string[len(string) // 2:] + string[0:len(string) // 2]\n\ndef A(string):\n    return string[::-1]\n\ndef M(string):\n    new = ''\n    for i in string:\n        if ord(i) < 57 and ord(i) >= 48:\n            new += chr(ord(i) + 1)\n        elif ord(i) == 57:\n            new += '0'\n        else:\n            new += i\n    return new\n\ndef P(string):\n    new = ''\n    for i in string:\n        if ord(i) <= 57 and ord(i) > 48:\n            new += chr(ord(i) - 1)\n        elif ord(i) == 48:\n            new += '9'\n        else:\n            new += i\n    return new\n\n\nans = []\nfor i in range(int(input())):\n    to_do = input()\n    message = input().strip()\n    \n    for i in to_do[::-1]:\n        if i == 'C':\n            message = C(message)\n        if i == 'J':\n            message = J(message)\n        if i == 'E':\n            message = E(message)\n        if i == 'A':\n            message = A(message)\n        if i == 'P':\n            message = P(message)\n        if i == 'M':\n            message = M(message)\n    ans.append(message)\n\n[print(i) for i in ans]\n    \n"
  },
  {
    "language": "Python",
    "code": "#! /usr/bin/python\n# -*- coding: utf-8 -*-\n\nn = int(raw_input())\nfor i in range(n):\n    ger = raw_input()\n    mes = raw_input()\n    \n    for j in range(len(ger)-1, -1, -1):\n        if ger[j] == 'J':\n            mes = mes[len(mes)-1]+mes[0:len(mes)-1]\n        elif ger[j] == 'C':\n            mes = mes[1:len(mes)]+mes[0]\n        elif ger[j] == 'E':\n            if len(mes)%2 == 0:\n                mes = mes[len(mes)/2:]+mes[0:len(mes)/2]\n            else:\n                mes = mes[len(mes)/2+1:]+mes[len(mes)/2]+mes[0:len(mes)/2]\n        elif ger[j] == 'A':\n            mes = mes[::-1]\n        elif ger[j] == 'P':\n            for k in range(len(mes)):\n                if '1' <= mes[k] <= '9':\n                    mes = mes[:k]+chr(ord(mes[k])-1)+mes[k+1:]\n                    #mes[k] = chr(ord(mes[k])-1)\n                elif mes[k] == '0':\n                    mes = mes[:k]+'9'+mes[k+1:]\n        elif ger[j] == 'M':\n            for k in range(len(mes)):\n                if '0' <= mes[k] <= '8':\n                    mes = mes[:k]+chr(ord(mes[k])+1)+mes[k+1:]\n                    #mes[k] = chr(ord(mes[k])+1)\n                elif mes[k] == '9':\n                    mes = mes[:k]+'0'+mes[k+1:]\n    print mes\n    "
  },
  {
    "language": "Python",
    "code": "def main():\n    s = input()\n    ans = list(input())\n    s = reversed(s)\n    for si in s:\n        if si == \"C\":\n            ans = ans[1:] + [ans[0]]\n        if si == \"J\":\n            ans = [ans[-1]] + ans[:-1]\n        if si == \"E\":\n            tmp = [ans[len(ans) // 2]] if len(ans) & 1 else []\n            ans = ans[len(ans) // 2 + (len(ans) & 1):] + tmp + ans[: len(ans) // 2]\n        if si == \"A\":\n            ans = ans[::-1]\n        if si == \"M\":\n            for i in range(len(ans)):\n                if ans[i].isdecimal():\n                    ans[i] = int(ans[i])\n                    ans[i] = str((ans[i] + 1) % 10)\n        if si == \"P\":\n            for i in range(len(ans)):\n                if ans[i].isdecimal():\n                    ans[i] = int(ans[i])\n                    ans[i] = str((ans[i] - 1) % 10)\n\n    print(\"\".join(ans))\n\n\n\nif __name__ == \"__main__\":\n    for _ in range(int(input())):\n        main()\n"
  },
  {
    "language": "Python",
    "code": "def correct(m, s):\n\tif m == \"J\":\n\t\treturn s[-1] + s[:len(s)-1]\n\telif m == \"C\":\n\t\treturn s[1:] + s[0]\n\telif m == \"E\":\n\t\tlength = len(s)\n\t\tif length % 2 == 0:\n\t\t\treturn s[length / 2:] + s[:length / 2]\n\t\telse :\n\t\t\treturn s[(length+1) / 2:] + s[(length-1) / 2] + s[:(length-1) / 2]\n\telif m == \"A\":\n\t\treturn s[::-1]\n\telif m == \"P\":\n\t\tcor = \"\"\n\t\tfor si in s:\n\t\t\tif si.isdigit():\n\t\t\t\tcor += str(int(si)-1)\n\t\t\telse :\n\t\t\t\tcor += si\n\t\treturn cor\n\telse :\n\t\tcor = \"\"\n\t\tfor si in s:\n\t\t\tif si.isdigit():\n\t\t\t\tcor += str(int(si)+1)\n\t\t\telse :\n\t\t\t\tcor += si\n\t\treturn cor\n\nn = int(raw_input())\nfor i in range(n):\n\tmessengers = raw_input()\n\torder_correct = messengers[::-1]\n\tcor = raw_input()\n\tfor m in order_correct:\n\t\tcor = correct(m, cor)\n\tprint cor"
  },
  {
    "language": "Python",
    "code": "import sys\nimport bisect\n\nn = int(sys.stdin.readline())\nfor z in xrange(n):\n    order = sys.stdin.readline().strip()\n    string = sys.stdin.readline().strip()\n    \n    half = len(string) / 2\n    num = set(map(str, [0,1,2,3,4,5,6,7,8,9]))\n    for o in order[::-1]:\n#        print string, o\n        if o == 'J':\n            string = string[-1:] + string[:-1]\n        elif o == 'C':\n            string = string[1:] + string[:1]\n        elif o == 'E':\n            string = string[-half:] + string[:half] if half * 2 == len(string) or half == 0 else string[-half:] + string[half] + string[:half]\n        elif o == 'A':\n            string = string[::-1]\n        elif o == 'P':\n            temp = list(string)\n            for i in xrange(len(temp)):\n                if temp[i] in num:\n                    temp[i] = str(int(temp[i]) + 10 - 1)[-1:]\n            string = ''.join(temp)\n        elif o == 'M':\n            temp = list(string)\n            for i in xrange(len(temp)):\n                if temp[i] in num:\n                    temp[i] = str(int(temp[i]) + 1)[-1:]\n            string = ''.join(temp)\n    print string"
  },
  {
    "language": "Python",
    "code": "#! /usr/bin/env python\n# -*- coding: utf-8 -*-\n\nimport os\nimport sys\nimport itertools\nimport math\nfrom collections import Counter, defaultdict\n\nclass Main(object):\n    \n    def __init__(self):\n        pass\n\n    def solve(self):\n        '''\n        insert your code\n        '''\n        n = input()\n        for i in range(n):\n            o = raw_input()\n            m = raw_input()\n            for c in reversed(o):\n                if c == 'J':\n                    m = m[-1] + m[:-1]\n                elif c == 'C':\n                    m = m[1:] + m[0]\n                elif c == 'E':\n                    if len(m) % 2 == 0:\n                        m = m[len(m)/2:] + m[:len(m)/2]\n                    else:\n                        m = m[len(m)/2+1:] + m[len(m)/2] + m[:len(m)/2]\n                elif c == 'A':\n                    m = m[::-1]\n                elif c == 'P':\n                    tmp = ''\n                    for j in range(len(m)):\n                        if m[j].isdigit():\n                            d = int(m[j]) - 1\n                            if d < 0:\n                                d += 10\n                            tmp += str(d)\n                        else:\n                            tmp += m[j]\n                    m = tmp\n                elif c == 'M':\n                    tmp = ''\n                    for j in range(len(m)):\n                        if m[j].isdigit():\n                            d = int(m[j]) + 1\n                            if d > 9:\n                                d -= 10\n                            tmp += str(d)\n                        else:\n                            tmp += m[j]\n                    m = tmp\n            print m\n        return None\n\nif __name__ == '__main__':\n    m = Main()\n    m.solve()"
  },
  {
    "language": "Python",
    "code": "def decode(mes,command):\n    if command == 'J':\n        return mes[-1] + mes[:-1]\n    elif command == 'C':\n        return mes[1:] + mes[0]\n    elif command == 'E':\n        m = len(mes)//2\n        if len(mes)%2 == 0:\n            return mes[m:] + mes[:m]\n        else:\n            return mes[m+1:] + mes[m] + mes[:m]\n    elif command == 'A':\n        return mes[::-1]\n    else:\n        d = (-1 if command == 'P' else 1)\n        ret = ''\n        for c in mes:\n            if c.isdigit():\n                ret += str((int(c)+d) % 10)\n            else:\n                ret += c\n        return ret\n\nN = int(input())\nfor i in range(N):\n    order,mes = input(),input()\n    for c in reversed(order):\n        mes = decode(mes,c)\n    print(mes)"
  },
  {
    "language": "Python",
    "code": "\nn = int(input())\n\nfor i in range(n):\n  order = input()\n  message = input()\n\n  for s in order:\n    if s == 'J':\n      message = message[1:] + message[0]\n    elif s == 'C':\n      message = message[len(message) - 1] + message[:len(message) - 1]\n    elif s == 'E':\n      message = message[len(message)//2:] + message[:len(message)//2] \n    elif s == 'A':\n      message = message[::-1]\n    elif s == 'P':\n      for c in message:\n        if c == '9':\n          c = '0'\n        elif c >= '0' and c < '9':\n          c = chr(ord(c) + 1)\n    elif s == 'M':\n      for c in message:\n        if c == '0':\n          c = '9'\n        elif c > '0' and c <= '9':\n          c = chr(ord(c) - 1)\n    \n  print(message)      "
  },
  {
    "language": "Python",
    "code": "def P(m):\n\tif m.isdigit():\n\t\tnext = int(m) - 1\n\t\tif next < 0: return \"9\"\n\t\treturn str(next)\n\treturn m\ndef M(m):\n\tif m.isdigit():\n\t\treturn str((int(m) + 1) % 10)\n\treturn m\nn = input()\nfor i in xrange(n):\n\torder = raw_input()\n\tmsg = raw_input()\n\tfor c in reversed(order):\n\t\tif c == \"J\":\n\t\t\tmsg = msg[-1] + msg[:-1]\n\t\tif c == \"C\":\n\t\t\tmsg = msg[1:] + msg[0]\n\t\tif c == \"E\":\n\t\t\tl = len(msg) / 2\n\t\t\tif len(msg) % 2 == 1:\n\t\t\t\tmsg = msg[l + 1:] + msg[l] + msg[:l]\n\t\t\telse:\n\t\t\t\tmsg = msg[l:] + msg[:l]\n\t\tif c == \"A\":\n\t\t\tmsg = msg[::-1]\n\t\tif c == \"P\":\n\t\t\tmsg = \"\".join(P(m) for m in msg)\n\t\tif c == \"M\":\n\t\t\tmsg = \"\".join(M(m) for m in msg)\n\tprint msg"
  },
  {
    "language": "Python",
    "code": "n = input()\nfor i in xrange(n):\n\torder = raw_input()\n\tmsg = raw_input()\n\tfor c in reversed(order):\n\t\tif c == \"J\":\n\t\t\tmsg = msg[-1] + msg[:-1]\n\t\tif c == \"C\":\n\t\t\tmsg = msg[1:] + msg[0]\n\t\tif c == \"E\":\n\t\t\tl = len(msg) / 2\n\t\t\tif len(msg) % 2 == 1:\n\t\t\t\tmsg = msg[l + 1:] + msg[l] + msg[:l]\n\t\t\telse:\n\t\t\t\tmsg = msg[l:] + msg[:l]\n\t\tif c == \"A\":\n\t\t\tmsg = msg[::-1]\n\t\tif c == \"P\":\n\t\t\tmsg = msg.replace(\"0\", \"9\")\n\t\t\tfor org in range(1, 10):\n\t\t\t\tmsg = msg.replace(str(org), str(org - 1))\n\t\tif c == \"M\":\n\t\t\tfor org in range(9, -1, -1):\n\t\t\t\tmsg = msg.replace(str(org), str(org + 1))\n\t\t\tmsg = msg.replace(\"9\", \"0\")\n\tprint msg"
  },
  {
    "language": "Python",
    "code": "import sys\nimport bisect\n\nn = int(sys.stdin.readline())\nfor z in xrange(n):\n    order = sys.stdin.readline().strip()\n    string = sys.stdin.readline().strip()\n    \n    half = len(string) / 2\n    num = set(map(str, [0,1,2,3,4,5,6,7,8,9]))\n    for o in order[::-1]:\n#        print string, o\n        if o == 'J':\n            string = string[-1:] + string[:-1]\n        elif o == 'C':\n            string = string[1:] + string[:1]\n        elif o == 'E':\n            string = string[-half:] + string[:half] if half * 2 == len(string) else string[-half:] + string[half] + string[:half]\n        elif o == 'A':\n            string = string[::-1]\n        elif o == 'P':\n            temp = list(string)\n            for i in xrange(len(temp)):\n                if temp[i] in num:\n                    temp[i] = str(int(temp[i]) + 10 - 1)[-1:]\n            string = ''.join(temp)\n        elif o == 'M':\n            temp = list(string)\n            for i in xrange(len(temp)):\n                if temp[i] in num:\n                    temp[i] = str(int(temp[i]) + 1)[-1:]\n            string = ''.join(temp)\n    print string"
  },
  {
    "language": "Python",
    "code": "n = int(input())\nfor i in range(n):\n    order = str(input())\n    mes = str(input())\n    l = len(mes)\n\n    for p in reversed(order):\n        if p == \"J\":\n            mes = mes[-1] + mes[:-1]\n\n        elif p == \"C\":\n            mes = mes[1:] + mes[0]\n\n        elif p == \"E\":\n            if l % 2 == 0:\n                mes = mes[l // 2:] + mes[:l // 2]\n            else:\n                mes = mes[(l + 1) // 2:] + mes[(l - 1) // 2] + mes[:(l - 1) // 2]\n\n        elif p == \"A\":\n            mes = mes[::-1]\n\n        elif  p == \"P\":\n            mes_li = list(mes)\n            for itr, c in enumerate(mes_li):\n                if c.isdigit():\n                    mes_li[itr] = str((int(c) + 9) % 10)\n            mes = \"\".join(mes_li)\n\n        elif p == \"M\":\n            mes_li = list(mes)\n            for itr, c in enumerate(mes_li):\n                if c.isdigit():\n                    mes_li[itr] = str((int(c) + 1) % 10)\n            mes = \"\".join(mes_li)\n\n    print(mes)\n"
  },
  {
    "language": "Python",
    "code": "def correct(m, s):\n\tif m == \"J\":\n\t\treturn s[-1] + s[:len(s)-1]\n\telif m == \"C\":\n\t\treturn s[1:] + s[0]\n\telif m == \"E\":\n\t\tlength = len(s)\n\t\tif length % 2 == 0:\n\t\t\treturn s[length / 2:] + s[:length / 2]\n\t\telse :\n\t\t\treturn s[(length+1) / 2:] + s[(length-1) / 2] + s[:(length-1) / 2]\n\telif m == \"A\":\n\t\treturn s[::-1]\n\telif m == \"P\":\n\t\tcor = \"\"\n\t\tfor si in s:\n\t\t\tif si.isdigit():\n\t\t\t\tcor += str(9 if int(si) == 0 else int(si) - 1)\n\t\t\telse :\n\t\t\t\tcor += si\n\t\treturn cor\n\telse :\n\t\tcor = \"\"\n\t\tfor si in s:\n\t\t\tif si.isdigit():\n\t\t\t\tcor += str(0 if int(si) == 9 else int(si) + 1)\n\t\t\telse :\n\t\t\t\tcor += si\n\t\treturn cor\n\nn = int(raw_input())\nfor i in range(n):\n\tmessengers = raw_input()\n\torder_correct = messengers[::-1]\n\tcor = raw_input()\n\tfor m in order_correct:\n\t\tcor = correct(m, cor)\n\tprint cor"
  },
  {
    "language": "Python",
    "code": "#!/usr/bin/env python\n# -*- coding: utf-8 -*-\n\nfrom math import *\n\nfunctions = dict()\nfunctions['J'] = lambda s: s[1:]+s[0]\nfunctions['C'] = lambda s: s[-1] + s[:-1]\nfunctions['A'] = lambda s: ''.join(reversed(s))\nfunctions['E'] = lambda s: s[ceil(len(s)/2):] + s[len(s)//2:ceil(len(s)/2)] + s[:len(s)//2]\nfunctions['P'] = lambda s: ''.join([str((int(c)+1)%10) if c.isnumeric() else c for c in s])\nfunctions['M'] = lambda s: ''.join([str((int(c)-1)%10) if c.isnumeric() else c for c in s])\n\ninv = {'J':'C','C':'J','A':'A','E':'E','P':'M','M':'P'}\n\nn = int(input())\nfor i in range(n):\n    order = input()\n    message = str(input())\n    for o in list(reversed(order)):\n        message = functions[inv[o]](message)\n    print(message)"
  },
  {
    "language": "Python",
    "code": "#!usr/bin/env python3\nfrom collections import defaultdict,deque\nfrom heapq import heappush, heappop\nimport sys\nimport math\nimport bisect\nimport random\ndef LI(): return [int(x) for x in sys.stdin.readline().split()]\ndef I(): return int(sys.stdin.readline())\ndef LS():return [list(x) for x in sys.stdin.readline().split()]\ndef S(): return list(sys.stdin.readline())[:-1]\ndef IR(n):\n    return [I() for i in range(n)]\ndef LIR(n):\n    return [LI() for i in range(n)]\ndef SR(n):\n    return [S() for i in range(n)]\ndef LSR(n):\n    return [LS() for i in range(n)]\n\nsys.setrecursionlimit(1000000)\nmod = 1000000007\n\ndef solve():\n    n = I()\n    for i in range(n):\n        s = input()\n        t = S()\n        for k in s[::-1]:\n            if k == \"J\":\n                t = [t[-1]]+t[:-1]\n            elif k == \"C\":\n                t = t[1:]+[t[0]]\n            elif k == \"E\":\n                m = len(t) >> 1\n                if len(t)&1:\n                    t = t[m+1:]+[t[m]]+t[:m]\n                else:\n                    t = t[m:]+t[:m]\n            elif k == \"A\":\n                t = t[::-1]\n            elif k == \"M\":\n                for j in range(len(t)):\n                    if t[j].isdecimal():\n                        t[j] = str(int(t[j])+1)[-1]\n            else:\n                for j in range(len(t)):\n                    if t[j].isdecimal():\n                        if t[j] == \"0\":\n                            t[j] = \"9\"\n                        else:\n                            t[j] = str(int(t[j])-1)\n        print(*t,sep = \"\")\n    return\n\n#Solve\nif __name__ == \"__main__\":\n    solve()\n\n"
  },
  {
    "language": "Python",
    "code": "def C(m):\n    return m[1:]+m[:1]\n\ndef J(m):\n    return m[-1:]+m[:-1]\n\ndef E(m):\n    lenm=len(m)\n    h=lenm/2\n    if lenm%2==1:\n        temp=m[-h:]+m[h]+m[:h]\n    else:\n        temp=m[-h:]+m[:h]\n    return temp\n\ndef A(m):\n    return m[::-1]\n\ndef M(m):\n    s=\"\"\n    for i in m:\n        if i.isdigit():\n            if i==\"9\":\n                s+=\"0\"\n            else:\n                s+=str(int(i)+1)\n        else:\n            s+=i\n    return s\n\ndef P(m):\n    s=\"\"\n    for i in m:\n        if i.isdigit():\n            if i==\"0\":\n                s+=\"9\"\n            else:\n                s+=str(int(i)-1)\n        else:\n            s+=i\n    return s\n\nfor i in range(input()):\n    messenger=raw_input()\n    message=raw_input()\n    for m in messenger[::-1]:\n        if m==\"J\":\n            message=J(message)\n        elif m==\"C\":\n            message=C(message)\n        elif m==\"E\":\n            message=E(message)\n        elif m==\"A\":\n            message=A(message)\n        elif m==\"P\":\n            message=P(message)\n        elif m==\"M\":\n            message=M(message)\n    print message"
  },
  {
    "language": "Python",
    "code": "funcs = {\n    'J': lambda s: s[-1:]+s[:-1],\n    'C': lambda s: s[1:]+s[0],\n    'E': lambda s: s[(len(s)+1)//2:]+s[len(s)//2:(len(s)+1)//2]+s[:len(s)//2],\n    'A': lambda s: s[::-1],\n    'P': lambda s: s.translate(str.maketrans('0123456789', '9012345678')),\n    'M': lambda s: s.translate(str.maketrans('0123456789', '1234567890')),\n}\nn = int(input())\nfor i in range(n):\n    s, t = [input().strip() for j in '01']\n    for c in s[::-1]:\n        t = funcs[c](t)\n    else:\n        print(t)\n\n"
  }
]