There is an n x n grid D where each cell contains either 1 or 0. Your task is to create a program that takes the grid data as input and computes the greatest number of consecutive 1s in either vertical, horizontal, or diagonal direction. The size of the grid n is an integer where 2 ≤ n ≤ 255. Input consists of a sequence of datasets ending with a line containing zero, with each dataset formatted as: n followed by n lines each containing n integers (1 or 0). For each dataset, print the greatest number of consecutive 1s.