[
  {
    "language": "Scala",
    "code": "\nobject Main extends App {\n  import scala.io.StdIn._\n\n  val n = readInt\n  val numbers = readLine.trim.split(' ').map(_.toInt).sorted\n  val isSearched = Array.tabulate(n){i ⇒ Array.tabulate(n - i){_ ⇒ false}}\n  var max = 0\n  for (i ← 0 until n; j ← i + 1 until n){\n    val len = search(i, numbers(j))\n    if (len > max) max = len\n  }\n  println(max)\n  def search(init: Int, next: Int): Int = {\n    val pos = lowerBound(numbers, next)\n    if (numbers(pos) != next) 1\n    else {\n      if (isSearched(init)(pos - init)) 1\n      else {\n        isSearched(init)(pos - init) = true\n        search(pos, next - numbers(init) + next) + 1\n      }\n    }\n  }\n  @inline\n  def lowerBound(array: Array[Int], target: Int): Int = {\n    var left = 0\n    var right = array.length - 1\n    while(left < right){\n      if (array((left + right) / 2) < target) {\n        left = (left + right) / 2 + 1\n      }else {\n        right = (left + right) / 2\n      }\n    }\n    right\n  }\n\n  implicit class Scope[T](val value: T) extends AnyVal{\n    @inline\n    def also(@inline func: T ⇒ Unit): T = {\n      func(value)\n      value\n    }\n    @inline\n    def let[A](func: T ⇒ A): A = func(value)\n\n  }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<n;i++)\n#define repc(i,s,n) for(int i=s;i<n;i++)\nusing namespace std;\nint main(void){\n    int n,ans=0,x,d,tmp,count;\n    cin>>n;\n    vector<int> v(n);\n    rep(i,n) cin>>v[i];\n    sort(v.begin(),v.end());\n    rep(i,n){\n        x=v[i];\n        repc(j,i+1,n){\n            d=v[j]-x;\n            tmp=v[j];\n            count=2;\n            while(true){\n                if(binary_search(v.begin(), v.end(), tmp+d)){\n                    count++;\n                    tmp+=d;\n                }else{\n                    ans=max(ans,count);\n                    break;\n                }\n            }\n        }\n    }\n    cout<<ans<<endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#define  _CRT_SECURE_NO_WARNINGS\n#include <stdio.h>\n#include <algorithm>\n#include <utility>\n#include <functional>\n#include <cstring>\n#include <queue>\n#include <stack>\n#include <math.h>\n#include <iterator>\n#include <vector>\n#include <string>\n#include <set>\n#include <math.h>\n#include <iostream>\n#include <random>\n#include<map>\n#include <iomanip>\n#include <time.h>\n#include <stdlib.h>\n#include <list>\n#include <typeinfo>\n#include <list>\n#include <set>\n#include <cassert>\n#include<fstream>\n#include <unordered_map>\n#include <cstdlib>\n#include <complex>\nusing namespace std;\n#define Ma_PI 3.141592653589793\n#define eps 0.00000001\n#define LONG_INF 3000000000000000000\n#define GOLD 1.61803398874989484820458\n#define MAX_MOD 1000000007\n#define MOD 998244353\n#define REP(i,n) for(long long i = 0;i < n;++i)    \n#define seg_size 524288\ndouble dot(complex<double> a, complex<double> b) {\n\treturn a.real() * b.real() + a.imag() * b.imag();\n}\ndouble gyaku_dot(complex<double> a, complex<double> b) {\n\treturn a.real() * b.imag() - a.imag() * b.real();\n}\ndouble leng(complex<double> a) {\n\treturn sqrt(a.real()*a.real() + a.imag()*a.imag());\n}\ndouble angles(complex<double> a, complex<double> b) {\n\tdouble cosine = dot(a, b) / (leng(a) * leng(b));\n\tdouble sine = gyaku_dot(a, b) / (leng(a) * leng(b));\n\tdouble kaku = acos(cosine);\n\tif (sine <= 0) {\n\t\tkaku = 2 * Ma_PI - kaku;\n\t}\n\treturn kaku;\n}\nvector<int> convex_hull(vector<complex<double>> a) {\n\tvector<int> ans;\n\tdouble now_minnest = a[0].real();\n\tint now_itr = 0;\n\tREP(i, a.size()) {\n\t\tif (now_minnest > a[i].real()) {\n\t\t\tnow_minnest = a[i].real();\n\t\t\tnow_itr = i;\n\t\t}\n\t}\n\tans.push_back(now_itr);\n\tcomplex<double> ba(0, 1);\n\twhile (true) {\n\t\tint now_go = 0;\n\t\tdouble now_min = 0;\n\t\tint starter = ans[ans.size() - 1];\n\t\tfor (int i = 0; i < a.size(); ++i) {\n\t\t\tif (i != starter) {\n\t\t\t\tdouble goa = angles(ba, a[i] - a[starter]);\n\t\t\t\tif (goa > now_min) {\n\t\t\t\t\tnow_min = goa;\n\t\t\t\t\tnow_go = i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (now_go == ans[0]) break;\n\t\tans.push_back(now_go);\n\t\tba = complex<double>(a[now_go] - a[starter]);\n\t}\n\treturn ans;\n}\npair<int,int> calc(string a, int b) {\n\tint ans = 0;\n\twhile (b < a.length() && a[b] >= '0'&&a[b] <= '9') {\n\t\tans *= 10;\n\t\tans += a[b] - '0';\n\t\tb++;\n\t}\n\treturn make_pair(ans, b);\n}\nint compare(string a, string b) {\n\tint itr = 0;\n\tfor (int i = 0; i < min(a.length(),b.length()); ++i) {\n\t\tif ((a[i] >= 'a'&&a[i] <= 'z') || (a[i] >= 'A'&&a[i] <= 'Z')) {\n\t\t\tif ((b[i] >= 'a'&&b[i] <= 'z') || (b[i] >= 'A'&&b[i] <= 'Z')) {\n\t\t\t\tif (a[i] > b[i]) {\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\t\t\t\telse if (a[i] < b[i]) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t}\n\t\telse{\n\t\t\tif ((b[i] >= 'a'&&b[i] <= 'z') || (b[i] >= 'A'&&b[i] <= 'Z')) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tpair<int, int> as = calc(a, i),bs = calc(b,i);\n\t\t\t\tif (as.first < bs.first) return 0;\n\t\t\t\telse if (as.first > bs.first) return 1;\n\t\t\t\ti = as.second-1;\n\t\t\t}\n\t\t}\n\t}\n\tif (a.length() <= b.length()) return 0;\n\treturn 1;\n}\nint bad[6000][6000] = {};\nvector<int> a;\nint next_search(int value,int bot) {\n\tint geko = bot - 1;\n\tint top = a.size() - 1;\n\twhile (top - bot > 1) {\n\t\tint mid = (top + bot) / 2;\n\t\tif (a[mid] - a[geko] > value) {\n\t\t\ttop = mid;\n\t\t}\n\t\telse bot = mid;\n\t}\n\tif (a[top] - a[geko] == value) return top;\n\tif (a[bot] - a[geko] == value) return bot;\n\treturn -1;\n}\nint main() {\n\tint n;\n\tcin >> n;\n\tREP(i, n) {\n\t\tint tmp;\n\t\tcin >> tmp;\n\t\ta.push_back(tmp);\n\t}\n\tsort(a.begin(), a.end());\n\tint ans = 2;\n\tfor (int i = 0; i < a.size(); ++i) {\n\t\tfor(int q = i+1;q < a.size();++q){\n\t\t\tif (bad[i][q] == false) {\n\t\t\t\tint hiritu = a[q] - a[i];\n\t\t\t\tint cnt = 2;\n\t\t\t\tint now = q;\n\t\t\t\twhile (now+1 < a.size()) {\n\t\t\t\t\tint gogo = next_search(a[q] - a[i], now+1);\n\t\t\t\t\tif (gogo == -1) break;\n\t\t\t\t\tbad[now][gogo] = true;\n\t\t\t\t\tnow = gogo;\n\t\t\t\t\tcnt++;\n\t\t\t\t}\n\t\t\t\tans = max(ans, cnt);\n\t\t\t}\n\t\t}\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define MOD 1000000007\ntypedef long long ll;\nusing namespace std;\n\nbool used[5005][5005];\nmap<int,int> mp;\n\nint main(){\n  int N;\n  cin>>N;\n  vector<int> A(N);\n  for(int i=0;i<N;i++) cin>>A[i];\n\n  sort(A.begin(),A.end());\n\n  for(int i=0;i<N;i++) mp[A[i]]=i+1;\n  int ans=0;\n  for(int i=0;i<N;i++){\n      for(int j=i+1;j<N;j++){\n          if(used[i][j]) continue;\n          used[i][j]=1;\n          int diff=A[j]-A[i];\n          int now=A[j];\n          int res=1;\n          int pre=j;\n          while(mp.count(now+diff)){\n              int tar=mp[now+diff]-1;\n              res++;\n              now+=diff;\n              used[pre][tar]=1;\n              pre=tar;\n          }\n          ans=max(ans,res);\n      }\n  }\n\n\n  cout<<ans+1<<endl;\n\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\n#include <vector>\n#include <utility>\n\nint find(std::vector<int>& a, int x) {\n  int upper = std::upper_bound(a.begin(), a.end(), x) - a.begin();\n  int lower = std::lower_bound(a.begin(), a.end(), x) - a.begin();\n  if (upper - lower > 0) return lower;\n  return -1;\n}\n\nint main() {\n  int n;\n  std::cin >> n;\n  std::vector<int> a(n);\n  for (auto& x : a) std::cin >> x;\n  std::sort(a.begin(), a.end());\n  std::vector<std::vector<int>> used(n, std::vector<int>(n, 0));\n  int ans = 0;\n  for (int i = 0; i < n; ++i) {\n    for (int j = i + 1; j < n; ++j) {\n      if (used[i][j]) continue;\n      used[i][j] = true;\n      int d = a[j] - a[i];\n      int len = 2;\n      int x = a[j];\n      int k = j;\n      while (true) {\n        int next = find(a, x + d);\n        if (next < 0) break;\n        used[k][next] = true;\n        k = next;\n        ++len;\n        x += d;\n      }\n      ans = std::max(ans, len);\n    }\n  }\n  std::cout << ans << std::endl;\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n  \nusing namespace std;\n  \n#define rep(i,n) REP(i,0,n)\n#define REP(i,s,e) for(int i=(s); i<(int)(e); i++)\n#define repr(i, n) REPR(i, n, 0)\n#define REPR(i, s, e) for(int i=(int)(s-1); i>=(int)(e); i--)\n#define pb push_back\n#define all(r) r.begin(),r.end()\n#define rall(r) r.rbegin(),r.rend()\n#define fi first\n#define se second\n  \ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<ll> vl;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\n \nconst int INF = 1e9;\nconst ll MOD = 1e9 + 7;\ndouble EPS = 1e-8;\n\nconst int MAX_N = 5010;\nint prv[MAX_N][MAX_N];\nint dp[MAX_N][MAX_N];\n\nint main(){\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    int n;\n    cin >> n;\n    vi x(n);\n    rep(i, n) cin >> x[i];\n    if(n == 2) {\n        cout << 2 << '\\n';\n        return 0;\n    }\n    sort(all(x));\n    rep(i, MAX_N) rep(j, MAX_N) {\n        prv[i][j] = -1;\n        dp[i][j] = 2;\n    }\n    REP(j, 1, n-1) {\n        int i = j+1;\n        int k = j-1;\n        while(i < n) {\n            while(k >= 0 && x[i] - x[j] > x[j] - x[k]) {\n                --k;\n            }\n            if(k >= 0 && x[i] - x[j] == x[j] - x[k]) prv[i][j] = k;\n            ++i;\n        }\n    }\n    REP(i, 1, n) rep(j, i) {\n        int k = prv[i][j];\n        if(k == -1) continue;\n        dp[i][j] = max(dp[i][j], dp[j][k]+1);\n    } \n    int ans = 0;\n    rep(i, n) rep(j, i) ans = max(ans, dp[i][j]);\n    cout << ans << '\\n';\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i, n) for (int i = 0; i < (int)(n); i++)\nusing namespace std;\nusing P = pair<int, int>;\n\nint main() {\n  int n;\n  cin >> n;\n  vector<int> v(n);\n  rep(i, n) cin >> v[i];\n  sort(begin(v), end(v));\n  map<int, int> mp;\n  rep(i, n) mp[v[i]] = i;\n  vector<vector<bool>> used(n, vector<bool>(n, false));\n  int ans = 0;\n  rep(i, n) rep(j, n) {\n    if (i >= j) continue;\n    int d = v[j] - v[i];\n    int nxt = v[j] + d;\n    int c = 2;\n    while (mp.find(nxt) != mp.end() && !used[mp[nxt - d]][mp[nxt]]) {\n      used[mp[nxt - d]][mp[nxt]] = true;\n      nxt = v[mp[nxt]] + d, c++;\n    }\n    ans = max(ans, c);\n  }\n  cout << ans << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <unordered_set>\n#include <algorithm>\n\nusing namespace std;\n\nint n;\nint in[5100];\nunordered_set<int> vs;\n\nint Solve(int x, int y) {\n  int d = y - x;\n  if (vs.count(x-d) > 0) return 0;\n  int r = 1;\n  for (int x = y; vs.count(x) > 0; x += d) {\n    r++;\n  }\n  return r;\n}\n\nint main() {\n  while (cin >> n) {\n    vs.clear();\n    for (int i = 0; i < n; ++i) {\n      cin >> in[i];\n      vs.insert(in[i]);\n    }\n    sort(in, in+n);\n    int ans = 0;\n    for (int i = 0; i < n; ++i) {\n      for (int j = i+1; j < n; ++j) {\n        int r = Solve(in[i], in[j]);\n        // cout << iter.first << \" / \" << r << endl;\n        ans = max(ans, r);\n      }\n    }\n    cout << ans << endl;\n  }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define rep(i, N) for (int i = 0; i < (N); i++)\n#define all(a) (a).begin(), (a).end()\n#define pb push_back\n\nusing ll = long long;\nusing i_i = tuple<int, int>;\n\nint main() {\n    int N; cin >> N;\n    vector<int> a(N);\n    rep(i, N) cin >> a[i];\n    sort(all(a));\n    vector<vector<bool>> vis(N, vector<bool>(N));\n    int ma = 2;\n    rep(i, N) for (int j = i + 1; j < N; j++) if (!vis[i][j]) {\n        int d = a[j] - a[i];\n        int prev = i, t = 2;\n        for (ll x = a[j]; ; x += d, t++) {\n            int k = lower_bound(all(a), x) - a.begin();\n            if (i < k && k < N && a[k] == x) {\n                vis[prev][k] = true;\n                prev = k;\n                ma = max(ma, t);\n            }\n            else break;\n        }\n    }\n    cout << ma << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint lenghtOfLongestAP(vector<int> set)  { \n    int n = set.size();\n    if (n <= 2)  return n; \n\n    vector<vector<int>> L(n, vector<int>(n));\n    int llap = 2;\n\n    for (int i = 0; i < n; i++) \n        L[i][n-1] = 2; \n  \n    for (int j=n-2; j>=1; j--) { \n        int i = j-1, k = j+1; \n        while (i >= 0 && k <= n-1) \n        { \n           if (set[i] + set[k] < 2*set[j]) \n               k++; \n  \n           else if (set[i] + set[k] > 2*set[j]) \n           {   L[i][j] = 2, i--;   } \n  \n           else\n           { \n               L[i][j] = L[j][k] + 1; \n  \n               llap = max(llap, L[i][j]); \n  \n               i--; k++; \n           } \n        } \n        while (i >= 0) \n        { \n            L[i][j] = 2; \n            i--; \n        } \n    } \n    return llap; \n} \n\nint main() {\n    int n;\n    cin >> n;\n    vector<int> as(n);\n    for (int i = 0; i < n; i++) {\n        cin >> as[i];\n    }\n    sort(as.begin(), as.end());\n\n    cout << lenghtOfLongestAP(as) << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<iomanip>\n#include<stdlib.h>\n#include<cmath>\n#include<cstdlib>\n#include<cstring>\n#include<string>\n#include<algorithm>\n#include<vector>\n#include<queue>\n#include<stack>\n#include<map>\n#include<limits>\n#include<numeric>\n#include<unordered_map>\n#include<functional>\n#include<bitset>\nusing namespace std;\n\n#define rep(i,s,n) for(int i=s;i<n;i++)\n#define dow(i,n,s) for(int i=n-1;i>=s;i--)\n#define all(a) a.begin(),a.end()\n#define Sort(a) sort(a.begin(),a.end())\n#define rng(a,b,e) a.begin()+b,a.begin()+e\n//#define DEBUG\ntypedef pair<int,int> II;\ntypedef unsigned long ul;\ntypedef long long ll;\ntypedef unsigned long long ull;\nbool compare_by_second(II a,II b) {\n  if(a.second != b.second) return a.second < b.second;\n  else return a.first < b.first;\n}\nint compare_int(const void *a,const void *b){ return *(int *)a - *(int *)b; }\n\nconst int INF = 1e+9;\nconst int MAX_N = 5e+3;\nconst int MAX_V = 1e+9;\n\nint n;\nint a_i;\nint d;\nint sum,mx;\nunordered_map<int, int> um;\n//vector<int> v;\n\nint main() {\n\n  cin>>n;\n  int v[n];\n  //v.resize(n);\n  mx = 2;\n  rep(i,0,n) { cin>>v[i]; um[v[i]] = 1; }\n  qsort(v,n,sizeof(*v),compare_int);\n#ifdef DEBUG\n  rep(i,0,n) cout<<v[i]<<\" , \";\n  cout<<endl;\n#endif\n  //Sort(v);\n  rep(i,0,n-2) {\n    rep(j,i+1,n-1) {\n      d = v[j] - v[i];\n      a_i = v[j] + d;\n      sum = 2;\n#ifdef DEBUG\n      rep(k,j+1,n) {\n        if(v[k] == a_i) { a_i += d; sum++; }\n        if(v[k] > a_i) break;\n      }\n#endif\n      rep(k,0,MAX_N-2) {\n        if(um.find(a_i+d*k) == um.end() || k>=MAX_N-2) break;\n        //cout<<k<<boolalpha<<num[k-1]<<\" , \";\n        sum++;\n      }\n      //cout<<endl;\n      //mx = max(mx,sum);\n      if(sum > mx) mx = sum;\n      if(mx >= n-j-1) break;\n    }\n    if(mx >= n-i-1) break;\n  }\n\n  cout<<mx<<endl;\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\n\nint n[5010];\nint dp[5010][5010];\n\nint main(){\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n#ifdef LOCAL\n\tstd::ifstream in(\"in\");\n\tstd::cin.rdbuf(in.rdbuf());\n#endif\n\n\tint N;\n\tcin >> N;\n\tfor(int i = 0; i < N; i++){\n\t\tcin >> n[i];\n\t};\n\tsort(n, n + N);\n\n\tmemset(dp, -1, sizeof dp);\n\tfor(int i = 0; i < N; i++){\n\t\tfor(int j = 0; j < i; j++){\n\t\t\tdp[i][j] = 2;\n\t\t}\n\t}\n\tfor(int i = 0; i < N; i++){\n\t\tfor(int j = 0; j < i; j++){\n\t\t\tif(dp[i][j] == -1) continue;\n\t\t\tint pre = n[j];\n\t\t\tint d = n[i] - pre;\n\t\t\tint idx = lower_bound(n, n + N, n[i] + d) - n;\n\t\t\tif(idx < N && n[i] + d == n[idx]){\n\t\t\t\tdp[idx][i] = max(dp[idx][i], dp[i][j] + 1);\n\t\t\t}\n\t\t}\n\t}\n\n\tint ans = 0;\n\tfor(int i = 0; i < N; i++){\n\t\tfor(int j = 0; j < N; j++){\n\t\t\tans = max(ans, dp[i][j]);\n\t\t}\n\t}\n\tcout << ans << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "/*  -*- coding: utf-8 -*-\n *\n * 1390.cc: Arithmetic Progressions\n */\n\n#include<cstdio>\n#include<cstdlib>\n#include<cstring>\n#include<cmath>\n#include<iostream>\n#include<string>\n#include<vector>\n#include<map>\n#include<set>\n#include<stack>\n#include<list>\n#include<queue>\n#include<deque>\n#include<algorithm>\n#include<numeric>\n#include<utility>\n#include<complex>\n#include<functional>\n \nusing namespace std;\n\n/* constant */\n\nconst int MAX_N = 5000;\nconst int MAX_M = MAX_N * MAX_N / 2;\n\n/* typedef */\n\ntypedef pair<int,int> pii;\n\n/* global variables */\n\nint vs[MAX_N];\npii ps[MAX_M];\nbool used[MAX_M];\n\n/* subroutines */\n\n/* main */\n\nint main() {\n  int n;\n  scanf(\"%d\", &n);\n  for (int i = 0; i < n; i++) scanf(\"%d\", vs + i);\n  sort(vs, vs + n);\n\n  int m = 0;\n  for (int i = 0; i < n; i++)\n    for (int j = i + 1; j < n; j++)\n      ps[m++] = pii(vs[j] - vs[i], vs[i]);\n  sort(ps, ps + m);\n\n  int maxc = 0;\n  for (int i = 0; i < m; i++)\n    if (! used[i]) {\n      used[i] = true;\n      int c = 2, j = i;\n      for (;;) {\n\tpii pj(ps[j].first, ps[j].first + ps[j].second);\n\tj = lower_bound(ps, ps + m, pj) - ps;\n\tif (j >= m || ps[j] != pj) break;\n\tc++;\n\tused[j] = true;\n      }\n\n      if (maxc < c) maxc = c;\n    }\n  printf(\"%d\\n\", maxc);\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <algorithm>\n#include <map>\nusing namespace std;\nusing ll = long long int;\n\nll A[5010];\nbool used[5010][5010];\nint main() {\n    int N; scanf(\"%d\", &N);\n    for(int i=0; i<N; i++) {\n        scanf(\"%lld\", &A[i]);\n    }\n\n    sort(A, A+N);\n    int ans = 0;\n    for(int i=0; i<N; i++) {\n        for(int j=i+1; j<N; j++) {\n            if(used[i][j]) continue;\n            used[i][j] = true;\n            ll diff = A[j] - A[i]; int tmp = 2, pre = j;\n            for(ll k=A[j]+diff; ; k+=diff) {\n                int itr = lower_bound(A, A+N, k) - A;\n                if(itr == N or A[itr] != k) break;\n                tmp++;\n                used[pre][itr] = true;\n                pre = itr;\n            }\n            ans = max(ans, tmp);\n        }\n    }\n    printf(\"%d\\n\", ans);\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\n#include <vector>\nusing namespace std;\n\nint main() {\n    int n; cin >> n;\n    vector<int> a(n);\n    for (auto &ai: a) cin >> ai;\n    sort(a.begin(), a.end());\n    int ma = 0;\n    vector<vector<bool>> used(n, vector<bool>(n));\n    for (int i = 0; i < n; i++) for (int j = i + 1; j < n; j++) {\n        if (used[i][j]) continue;\n        used[i][j] = true;\n        int diff = a[j] - a[i];\n        int tmp = 2, pre = j;\n        for (int k = a[j] + diff; k <= a.back(); k += diff) {\n            int itr = lower_bound(begin(a), end(a), k) - begin(a);\n            if (a[itr] != k) break;\n            tmp++;\n            used[pre][itr] = true;\n            pre = itr;\n        }\n        ma = max(ma, tmp);\n    }\n    cout << ma << endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <unordered_set>\nusing namespace std;\nconst int inf = 1e9;\n\nint main(){\n\tint n;\n\tcin >> n;\n\tvector<int> a(n);\n\tfor(int i=0; i<n; i++){\n\t\tcin >> a[i];\n\t}\n\tsort(a.begin(), a.end());\n\n\tvector<vector<bool> > used(n, vector<bool>(n, false));\n\tint ans = 0;\n\tfor(int i=0; i<n; i++){\n\t\tfor(int j=i+1; j<n; j++){\n\t\t\tif(used[i][j]) continue;\n\t\t\tused[i][j] = true;\n\t\t\tint diff = a[j] -a[i];\n\t\t\tint sub = 2;\n\t\t\tint prev = j;\n\t\t\tfor(int k=a[j]+diff; ; k+=diff){\n\t\t\t\tauto itr = lower_bound(a.begin(), a.end(), k);\n\t\t\t\tif(itr == a.end() || *itr != k) break;\n\t\t\t\tused[prev][itr-a.begin()] = true;\n\t\t\t\tprev = itr-a.begin();\n\t\t\t\tsub++;\n\t\t\t}\n\t\t\tans = max(ans, sub);\n\t\t}\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "     #include <bits/stdc++.h>\n\n//    #include <boost/multiprecision/cpp_int.hpp>\n #define int long long\n #define inf  1000000007\n #define pa pair<int,int>\n #define ll long long\n #define pal pair<double,double>\n #define ppap pair<pa,int>\n  #define PI 3.14159265358979323846\n  #define paa pair<int,char>\n  #define  mp make_pair\n  #define  pb push_back\n  #define EPS (1e-10)\n                                          \n    int dx[8]={0,1,0,-1,1,1,-1,-1};\n    int dy[8]={1,0,-1,0,-1,1,1,-1};\n                                            using namespace std;\n                                   \t\t\tclass pa3{\n                                            \tpublic:\n                                            \tint x,y,z;\n                                            \tpa3(int x=0,int y=0,int z=0):x(x),y(y),z(z) {}\n                                            \tbool operator < (const pa3 &p) const{\n                                            \t\tif(x!=p.x) return x<p.x;\n                                            \t\tif(y!=p.y) return y<p.y;\n                                            \t\t return z<p.z;\n                                            \t\t//return x != p.x ? x<p.x: y<p.y;\n                                            \t}\n                                   \t\t\t\tbool operator > (const pa3 &p) const{\n                                            \t\tif(x!=p.x) return x>p.x;\n                                            \t\tif(y!=p.y) return y>p.y;\n                                            \t\t return z>p.z;\n                                            \t\t//return x != p.x ? x<p.x: y<p.y;\n                                            \t}\n                                            \tbool operator == (const pa3 &p) const{\n                                            \t\treturn x==p.x && y==p.y && z==p.z;\n                                            \t}\n                                            \t\tbool operator != (const pa3 &p) const{\n                                            \t\t\treturn !( x==p.x && y==p.y && z==p.z);\n                                            \t}\n                                            \n                                            };\n                                            \n                                            class pa4{\n                                            \tpublic:\n                                            \tint x;\n                                            \tint y,z,w;\n                                            \tpa4(int x=0,int y=0,int z=0,int w=0):x(x),y(y),z(z),w(w) {}\n                                            \tbool operator < (const pa4 &p) const{\n                                            \t\tif(x!=p.x) return x<p.x;\n                                            \t\tif(y!=p.y) return y<p.y;\n                                            \t\tif(z!=p.z)return z<p.z;\n                                            \t\treturn w<p.w;\n                                            \t\t//return x != p.x ? x<p.x: y<p.y;\n                                            \t}\n                                            \tbool operator > (const pa4 &p) const{\n                                            \t\tif(x!=p.x) return x>p.x;\n                                            \t\tif(y!=p.y) return y>p.y;\n                                            \t\tif(z!=p.z)return z>p.z;\n                                            \t\treturn w>p.w;\n                                            \t\t//return x != p.x ? x<p.x: y<p.y;\n                                            \t}\n                                            \tbool operator == (const pa4 &p) const{\n                                            \t\treturn x==p.x && y==p.y && z==p.z &&w==p.w;\n                                            \t}\n                                            \t\t\n                                            \n                                            };\n                                            class pa2{\n                                            \tpublic:\n                                            \tint x,y;\n                                            \tpa2(int x=0,int y=0):x(x),y(y) {}\n                                            \tpa2 operator + (pa2 p) {return pa2(x+p.x,y+p.y);}\n                                            \tpa2 operator - (pa2 p) {return pa2(x-p.x,y-p.y);}\n                                            \tbool operator < (const pa2 &p) const{\n                                            \t\treturn y != p.y ? y<p.y: x<p.x;\n                                            \t}\n                                            \tbool operator > (const pa2 &p) const{\n                                            \t\treturn x != p.x ? x<p.x: y<p.y;\n                                            \t}\n                                            \tbool operator == (const pa2 &p) const{\n                                            \t\treturn abs(x-p.x)==0 && abs(y-p.y)==0;\n                                            \t}\n                                            \tbool operator != (const pa2 &p) const{\n                                            \t\treturn !(abs(x-p.x)==0 && abs(y-p.y)==0);\n                                            \t}\n                                            \t\t\n                                            \n                                            };\n                                            \n/*\n                                            class Point{\n                                            \tpublic:\n                                            \tdouble x,y;\n                                            \tPoint(double x=0,double y=0):x(x),y(y) {}\n                                            \tPoint operator + (Point p) {return Point(x+p.x,y+p.y);}\n                                            \tPoint operator - (Point p) {return Point(x-p.x,y-p.y);}\n                                            \tPoint operator * (double a) {return Point(x*a,y*a);}\n                                            \tPoint operator / (double a) {return Point(x/a,y/a);}\n                                            \tdouble absv() {return sqrt(norm());}\n                                            \tdouble norm() {return x*x+y*y;}\n                                            \tbool operator < (const Point &p) const{\n                                            \t\treturn x != p.x ? x<p.x: y<p.y;\n                                            \t}\n                                            \tbool operator == (const Point &p) const{\n                                            \t\treturn fabs(x-p.x)<EPS && fabs(y-p.y)<EPS;\n                                            \t}\n                                            };\n                                            typedef Point Vector;\n                                     #define pl pair<int,pas>\n                                            struct Segment{\n                                            Point p1,p2;\n                                            };\n                                             double dot(Vector a,Vector b){\n                                            \treturn a.x*b.x+a.y*b.y;\n                                            }\n                                            double cross(Vector a,Vector b){\n                                            \treturn a.x*b.y-a.y*b.x;\n                                            }\n                                        \n                bool parareru(Point a,Point b,Point c,Point d){\n                //\tif(abs(cross(a-b,d-c))<EPS)cout<<\"dd \"<<cross(a-b,d-c)<<endl;\n                \treturn abs(cross(a-b,d-c))<EPS;\n                }\n                double distance_ls_p(Point a, Point b, Point c) {\n                  if ( dot(b-a, c-a) < EPS ) return (c-a).absv();\n                  if ( dot(a-b, c-b) < EPS ) return (c-b).absv();\n                  return abs(cross(b-a, c-a)) / (b-a).absv();\n                }\n                bool is_intersected_ls(Segment a,Segment b) {\n                \tif(a.p1==b.p1||a.p2==b.p1||a.p1==b.p2||a.p2==b.p2) return false;\n                \tif(parareru((a.p2),(a.p1),(a.p1),(b.p2))&&parareru((a.p2),(a.p1),(a.p1),(b.p1))){\n                //\t\tcout<<\"sss\"<<endl;\n                \t\tif(dot(a.p1-b.p1,a.p1-b.p2)<EPS) return true;\n                \t\tif(dot(a.p2-b.p1,a.p2-b.p2)<EPS) return true;\n                \t\tif(dot(a.p1-b.p1,a.p2-b.p1)<EPS) return true;\n                \t\tif(dot(a.p1-b.p2,a.p2-b.p2)<EPS) return true;\n                \t\treturn false;\n                \t}\n                  else return ( cross(a.p2-a.p1, b.p1-a.p1) * cross(a.p2-a.p1, b.p2-a.p1) < EPS ) && ( cross(b.p2-b.p1, a.p1-b.p1) * cross(b.p2-b.p1, a.p2-b.p1) < EPS );\n                }\n                 \n                double segment_dis(Segment a,Segment b){\n                \tif(is_intersected_ls(a,b))return 0;\n                \tdouble r=distance_ls_p(a.p1, a.p2, b.p1);\n                \tr=min(r,distance_ls_p(a.p1, a.p2, b.p2));\n                \tr=min(r,distance_ls_p(b.p1, b.p2, a.p2));\n                \tr=min(r,distance_ls_p(b.p1, b.p2, a.p1));\n                \treturn r;\n                }\n                Point intersection_ls(Segment a, Segment b) {\n                  Point ba = b.p2-b.p1;\n                  double d1 = abs(cross(ba, a.p1-b.p1));\n                  double d2 = abs(cross(ba, a.p2-b.p1));\n                  double t = d1 / (d1 + d2);\n                 \n                  return a.p1 + (a.p2-a.p1) * t;\n                }\n */                \n                                string itos( int i ) {\n                                ostringstream s ;\n                                s << i ;\n                                return s.str() ;\n                                }\n                                 \n                                int gcd(int v,int b){\n                                \tif(v>b) return gcd(b,v);\n                                \tif(v==b) return b;\n                                \tif(b%v==0) return v;\n                                \treturn gcd(v,b%v);\n                                }\n                 \n                                double distans(double x1,double y1,double x2,double y2){\n                                \tdouble rr=(x1-x2)*(x1-x2)+(y1-y2)*(y1-y2);\n                                \treturn sqrt(rr);\n                                \t\n                                }\n                                int mod;\nint extgcd(int a, int b, int &x, int &y) {\n    if (b == 0) {\n        x = 1;\n        y = 0;\n        return a;\n    }\n    int d = extgcd(b, a%b, y, x);\n    y -= a/b * x;\n    return d;\n}\n    \n                                \n                int pr[1000010];\n                int inv[1000010];\n                \n                int beki(int wa,int rr,int warukazu){\n                \tif(rr==0) return 1%warukazu;\n                \tif(rr==1) return wa%warukazu;\n                \twa%=warukazu;\n                \tif(rr%2==1) return ((ll)beki(wa,rr-1,warukazu)*(ll)wa)%warukazu;\n                \tll zx=beki(wa,rr/2,warukazu);\n                \treturn (zx*zx)%warukazu;\n                }\n    double bekid(double w,int r){\n    \tif(r==0) return 1.0;\n    \tif(r==1) return w;\n    \tif(r%2) return bekid(w,r-1)*w;\n    \tdouble f=bekid(w,r/2);\n    \treturn f*f;\n    }\n                \n    \t\t\tint comb(int nn,int rr){\n    \t\t\t\tint r=pr[nn]*inv[rr];\n    \t\t\t\tr%=mod;\n    \t\t\t\tr*=inv[nn-rr];\n    \t\t\t\tr%=mod;\n    \t\t\t\treturn r;\n    \t\t\t}\n                \n                void gya(int ert){\n                \tpr[0]=1;\n                \tfor(int i=1;i<ert;i++){\n                \t\tpr[i]=(pr[i-1]*i)%mod;\n                \t}\n                \tfor(int i=0;i<ert;i++) inv[i]=beki(pr[i],mod-2,mod);\n                \t\n                }\n                \n              //   cin.tie(0);\n    \t\t//\tios::sync_with_stdio(false);\n    \t\t\t//priority_queue<pa3,vector<pa3>,greater<pa3>> pq;            \n                 //sort(ve.begin(),ve.end(),greater<int>());\n    \n                                     //----------------kokomade tenpure------------\n\n\nvector<int> ve;\nvector<pa>ma[5100];\n\n signed main(){\n \t\n    \t       cin.tie(0);\n    \t\t\tios::sync_with_stdio(false);\nint n;\n \tcin>>n;\nint ans=1;\n \tfor(int i=0;i<n;i++){\nint y;\n \t\tcin>>y;\n \t\tve.pb(y);\n \t}\n \tsort(ve.begin(),ve.end());\n \tint ima[5010]={};\n \tfor(int i=0;i<n;i++){\n \t\t\n \t\tfor(int j=i-1;j>=0;j--){\n \t\t\tint sa=ve[i]-ve[j];\n \t\t\tint t=2;\n \t\t\twhile(ma[j][ima[j]].first<sa)ima[j]++;\n \t\t\tif(ma[j][ima[j]].first==sa){\n \t\t\t\tt=ma[j][ima[j]].second+1;\n \t\t\t}\n \t\t\telse t=2;\n \t\t\t\tma[i].pb({sa,t});\n \t\t\tans=max(ans,t);\n \t\t//\tcout<<i<<\" \"<<j<<\" \"<<t<<endl;\n \t\t}\n \t\t\tma[i].pb({inf*1000ll,inf*1000ll});\n \t}cout<<ans<<endl;\n \treturn 0;\n  }\n\n"
  },
  {
    "language": "C++",
    "code": "// finish date: 2018/2/05\n\n#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define FOR(i, a, b) for(int (i)=a;(i)<(b);(i)++)\n#define rep(i, n)  FOR(i,0,n)\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<vector<int>> vvi;\ntypedef vector<vector<vector<int>>>\n        vvvi;\ntypedef vector<ll> vl;\ntypedef vector<vector<ll>> vvl;\ntypedef vector<double> vd;\ntypedef vector<vector<double>> vvd;\ntypedef vector<vector<vector<double>>> vvvd;\ntypedef vector<bool> vb;\ntypedef vector<vector<bool>> vvb;\ntypedef vector<string> vs;\ntypedef vector<char> vc;\ntypedef vector<vector<char>> vvc;\ntypedef pair<int, int> pii;\ntypedef pair<ll, int> pli;\ntypedef pair<ll, pair<int, int>> plii;\nconst int bigmod = 1000000007;\nconst int INF = 1050000000;\nconst long long INFll = 100000000000000000;\n\n\nint main() {\n    int n;\n    cin >> n;\n    vi v(n);\n    rep(i, n) cin >> v[i];\n    sort(v.begin(), v.end());\n    vvi dp(n, vi(n, 0));\n    map<int, int> mp;\n    int ma = 2;\n\n    rep(i, n) mp[v[i]] = i;\n    rep(i, n) dp[0][i] = 2;\n\n    FOR(i, 1, n) {\n        FOR(j, i + 1, n) {\n            if (mp.count(2 * v[i] - v[j])) {\n                dp[i][j] = dp[mp[2 * v[i] - v[j]]][i] + 1;\n            } else {\n                dp[i][j] = 2;\n            }\n            ma = max(ma, dp[i][j]);\n        }\n    }\n\n    cout << ma << endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "// warm heart, wagging tail,and a smile just for you!\n//\n//                            ▒█████▒▒\n//                             ██████████▒\n//                             ▒████████████▒\n//                            ██████████████████\n//                           ████████████████████▒\n//                          ▒██████████████████████▒\n//                          ▒███████████████████████\n//                      ▒████▒▒▒▒▒▒█████████████████▒\n//                    ███▒▒▒▒▒▒██████████████████████▒▒▒\n//                  ▒██▒▒███████████████████████▒▒▒▒▒██████\n//                 ▒█████████████████████████▒▒▒▒▒▒█████████▒\n//                 ▒█████████████████████▒▒▒▒▒▒██████████████\n//                  ▒████         ████▒▒▒▒▒████         ████▒\n//              ▒█████▒    ████    ▒▒▒▒███████    ████    ██████▒\n//            ▒██▒▒▒▒▒    ██████    █████████    ██████    ██▒▒▒██▒\n//           █████████   ████████   █████████   ████████   ▒▒▒▒█████\n//          ▒█████████    ██████    ████████▒    ██████    █████████\n//          ▒██████████    ████    █████▒▒▒▒▒▒    ████    ██████████\n//           ████████████        ▒▒▒▒▒▒▒████████        ███████████▒\n//       ▒██████████▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒███████████████████████████████████▒\n//     ███▒▒▒▒▒▒▒▒▒▒▒▒█████████████████████████████████████████▒▒████████▒\n//   ▒▒▒▒▒▒▒▒▒██████████████                         ███████▒▒▒▒███████████\n//   █████████████████████████                     ███████▒▒▒██████████████▒\n//   █████████████████████████████             ███████▒▒▒██████████████████▒\n//   ██████████████████████████████████████████████████████████████████████\n//    ██████████████████████████████████████████████████████████████████▒\n//      ▒█████████████████▒▒▒▒▒▒▒██████████████████████████████████▒▒▒\n//\n#include \"bits/stdc++.h\"\nusing namespace std;\n#define MOD 1000000007\n//#define MOD 998244353\nconst double EPS = 1e-9;\n#define INF (1LL<<60)\n#define D double\n#define fs first\n#define sc second\n#define int long long\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define RFOR(i,a,b) for(int i = (b-1);i>=(a);--i)\n#define REP(i,n)  FOR(i,0,(n))\n#define RREP(i,n) RFOR(i,0,(n))\n#define ITR(itr,mp) for(auto itr = (mp).begin(); itr != (mp).end(); ++itr)\n#define RITR(itr,mp) for(auto itr = (mp).rbegin(); itr != (mp).rend(); ++itr)\n#define range(i,a,b) ((a)<=(i) && (i)<(b))\n#define debug(x)  cout << #x << \" = \" << (x) << endl;\n#define SP << \" \" << \ntypedef pair<int,int> P;\ntypedef vector<int> vec;\ntypedef vector<vector<int>> mat;\n\nsigned main(){\n  ios::sync_with_stdio(false);\n  cin.tie(0);\n\n  int n;\n  cin >> n;\n\n  vector<int> a(n);\n  set<int> st;\n  REP(i,n) cin >> a[i], st.insert(a[i]);\n  \n  sort(a.begin(),a.end());\n\n  int ans = 0;\n  REP(i,n-1){\n    FOR(j,i+1,n){\n      int now = a[j], tmp = a[j]-a[i], cnt = 2;\n      while(st.find(now+tmp) != st.end()) cnt++, now += tmp;\n      ans = max(ans,cnt);\n    }\n  }\n\n  cout << ans << endl;\n\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <map>\n#include <algorithm>\nusing namespace std;\n\nvector<int> a;\nmap<int,int> ma;\n\nint dp[5100][5100] = {0};\nint rec(int i, int j) {\n    if (dp[i][j] != 0) return dp[i][j];\n    int val = a[i] * 2 - a[j];\n    if (!ma.count(val)) return 2;\n    int k = ma[val];\n    int res = rec(k, i) + 1;\n    \n    //cout << i << \", \" << j << \": \" << res << endl;\n    \n    return dp[i][j] = res;\n}\n\nint main() {\n    int N; cin >> N;\n    a.resize(N);\n    for (int i = 0; i < N; ++i) cin >> a[i];\n    sort(a.begin(), a.end());\n    \n    for (int i = 0; i < N; ++i) ma[a[i]] = i;\n    int res = 2;\n    for (int i = 0; i < N; ++i) {\n        for (int j = i + 1; j < N; ++j) {\n            res = max(res, rec(i, j));\n        }\n    }\n    cout << res << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\nusing namespace std;\n\nbool v[5000][5000];\n\n\nint main() {\n  int N;\n  cin >> N;\n  vector< int > A(N);\n  map< int, int > mp;\n  for(int i = 0; i < N; i++) {\n    cin >> A[i];\n  }\n  sort(begin(A), end(A));\n  for(int i = 0; i < N; i++) {\n    mp[A[i]] = i;\n  }\n\n  int ret = 1;\n  for(int i = 0; i < N; i++) {\n    for(int j = i + 1; j < N; j++) {\n      if(v[i][j]) continue;\n      v[i][j] = true;\n      int sa = A[j] - A[i];\n      ret = max(ret, 2);\n      int pre = j;\n      for(int k = A[j] + sa, l = 3;; k += sa, l++) {\n        if(!mp.count(k)) {\n          ret = max(ret, l - 1);\n          break;\n        }\n        v[pre][mp[k]] = true;\n        pre = mp[k];\n      }\n    }\n  }\n\n  cout << ret << endl;\n\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <set>\n#include <algorithm>\n#include <cstdio>\nusing namespace std;\nint main(){\n\tint N;\n\tscanf(\"%d\",&N);\n\tvector<int>a(N);\n\tset<int>h;\n\tint r=2;\n\tfor(int i=0;i<N;i++){\n    scanf(\"%d\",&a[i]);\n    h.insert(a[i]);\n  }\n\tsort(a.begin(),a.end());\n\tfor(int i=0;i<N;i++)for(int j=i+1;j<N;j++){\n\t\tint d=a[j]-a[i];\n\t\tint k=2;\n\t\tfor(;;k++){\n      if(h.find(a[i]+d*k)==h.end())break;\n    }\n\t\tr=max(r,k);\n\t}\n\tprintf(\"%d\\n\",r);\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define rep(i,n) for (int (i)=(0);(i)<(int)(n);++(i))\nusing ll = long long;\nusing P = pair<int, int>;\nusing namespace std;\n\nbool ok[1000000010];\n\nint main() {\n    cin.tie(0);\n    ios_base::sync_with_stdio(false);\n\n    int n;\n    cin >> n;\n    vector<ll> v(n);\n    rep(i, n) {\n        cin >> v[i];\n        ok[v[i]]=true;\n    }\n    sort(v.begin(), v.end());\n    ll ans = 0;\n    rep(i, n) {\n        if (ans >= n-i-1) break;\n        for (int j=i+1; j<n; ++j) {\n            if (ans >= 2+n-j-1) break;\n            ll d = v[j]-v[i];\n            ll prev = v[j];\n            ll num = 2;\n            while (prev+d <= 1000000000 and ok[prev+d]) {\n                num++;\n                prev += d;\n            }\n            ans = max(ans, num);\n            if (ans >= n-i-1) break;\n        }\n    }\n    cout << ans << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define r(i,n) for(int i=0;i<n;i++)\nusing namespace std;\n\nint dp[5001][5001],a[5001],n,ans=2;\nmap<int,int>M;\n\nint main(){\n  cin>>n;\n  r(i,n)cin>>a[i];\n  sort(a,a+n);\n  r(i,n)M[a[i]]=i;\n\n  for(int i=0;i<n;i++){\n    for(int j=i+1;j<n;j++){\n\n      dp[i][j] = max( dp[i][j] , 2 );\n      ans = max( ans , dp[i][j] );\n      int nex = a[j]+(a[j]-a[i]);\n\n      if(M.count(nex)){\n        int idx = M[nex];\n        dp[j][idx] = max( dp[j][idx] , dp[i][j]+1 );\n      }\n    }\n  }\n  cout<< ans <<endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#define _CRT_SECURE_NO_WARNINGS\n#include <cstdio>\n#include <cstdlib>\n#include <algorithm>\n\n\nstatic int n;\nstatic int d[5000];\n\n\nstatic int u_lookup(int addr, int weight) {\n\tconst int target = d[addr] + weight;\n\tint b = addr + 1, e = n;\n\t\n\tif (b >= n || d[b] > target || d[e - 1] < target) {\n\t\treturn -1;\n\t}\n\twhile (b < e) {\n\t\tconst int m = (b + e) / 2;\n\t\tif (d[m] == target) {\n\t\t\treturn m;\n\t\t}\n\t\t\n\t\tif (d[m] < target) {\n\t\t\tb = m + 1;\n\t\t}\n\t\telse {\n\t\t\te = m;\n\t\t}\n\t}\n\treturn -1;\n}\n\n\nint main(int argc, char* argv[]) {\n\tscanf(\"%d\", &n);\n\tfor (int i = 0; i < n; ++i) {\n\t\tscanf(\"%d\", &d[i]);\n\t}\n\tstd::sort(d, d + n);\n\n\tint count_max = 2;\n\tfor (int i = 0; i < n; ++i) {\n\t\tfor (int j = i + 1; j < n; ++j) {\n\t\t\tint count = 2;\n\t\t\tint k = j;\n\t\t\tfor (;;) {\n\t\t\t\tk = u_lookup(k, d[j] - d[i]);\n\t\t\t\tif (k == -1) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t++count;\n\t\t\t}\n\t\t\tcount_max = std::max(count_max, count);\n\t\t}\n\t}\n\tprintf(\"%d\\n\", count_max);\n\n\treturn EXIT_SUCCESS;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <map>\n#include <unordered_map>\nusing namespace std;\nusing ll = long long;\n\nint a[5010];\nint dp[5010][5010];\nmap<int, int> mp;\nint main() {\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\t\n    int n; cin >> n;\n    for(int i=0; i<n; ++i){\n        cin >> a[i];\n    }\n    int ans=2;\n    sort(a, a+n);\n    for(int i=0; i<n; ++i){\n        mp[a[i]]=i;\n    }\n    \n    for(int i=0; i<n; ++i){\n        for(int j=i+1; j<n; ++j){\n            dp[i][j] = max(dp[i][j], 2);\n            \n            ans = max(ans, dp[i][j]);\n            int k = a[j]+a[j]-a[i];\n            \n            if(mp.find(k)!=mp.end()){\n                int idx = mp[k];\n                dp[j][idx] = max(dp[j][idx], dp[i][j] + 1);\n            }\n        }\n    }\n    cout << ans << endl;\n    \n\treturn 0;\n\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\ntypedef long long int ll;\ntypedef unsigned long long int ull;\n#define BIG_NUM 2000000000\n#define HUGE_NUM 99999999999999999\n#define MOD 1000000007\n#define EPS 0.000000001\nusing namespace std;\n\n\n#define NUM 5005\n\nint N;\nint table[NUM];\nint dp[NUM][NUM];\n\nint main(){\n\n\tscanf(\"%d\",&N);\n\n\tif(N == 2){\n\n\t\tprintf(\"2\\n\");\n\t\treturn 0;\n\t}\n\n\tfor(int i = 0; i < N; i++){\n\t\tfor(int k = 0; k < N; k++){\n\t\t\tif(k == i){\n\n\t\t\t\tdp[i][k] = 1;\n\t\t\t}else{\n\n\t\t\t\tdp[i][k] = 2;\n\t\t\t}\n\t\t}\n\t}\n\n\tfor(int i = 0; i < N; i++){\n\n\t\tscanf(\"%d\",&table[i]);\n\t}\n\tsort(table,table+N);\n\n\tint ans = 2;\n\tint diff,right;\n\n\tfor(int mid = 1; mid <= N-2; mid++){\n\t\tright = mid+1;\n\t\tfor(int left = mid-1; left >= 0; left--){\n\t\t\tdiff = table[mid]-table[left];\n\t\t\twhile(right < N && table[right]-table[mid] < diff){\n\t\t\t\tright++;\n\t\t\t}\n\t\t\tif(table[right]-table[mid] == diff){\n\n\t\t\t\tdp[mid][right] = dp[left][mid]+1;\n\t\t\t\tans = max(ans,dp[mid][right]);\n\t\t\t}\n\t\t}\n\t}\n\n\tprintf(\"%d\\n\",ans);\n\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\n#define MOD 1000000007\ntypedef long long ll;\ntypedef unsigned long long ull;\nconst long long INF=1e18;\n\n\n\nsigned main(){\n  ll n;\n  cin>>n;\n  vector<ll> a(n);\n  for(int i=0;i<n;i++){cin>>a[i];}\n  sort(a.begin(),a.end());\n  map<ll,ll> M;\n  for(int i=0;i<n;i++){M[a[i]]=i;}\n  vector<vector<ll>> dp(n,vector<ll>(n,1));\n  ll mx=2;\n  for(int i=0;i<n;i++){\n    for(int t=0;t<i;t++){\n      dp[i][t]=2;\n      ll A=a[i]-a[t];\n      if(M.count(a[t]-A)){\n\tdp[i][t]=1+dp[t][M[a[t]-A]];\n\tmx=max(mx,dp[i][t]);\n      }\n    }\n  }\n  cout<<mx<<endl;\n  \n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef pair<ll, ll> P;\ntypedef pair<ll, pair<ll, ll> > P3;\nconst ll MOD = 1000000007;\nconst int IINF = INT_MAX;\nconst ll LLINF = LLONG_MAX;\nconst int MAX_N = int(1e5 + 5);\nconst double EPS = 1e-10;\nconst int di[] = {0, 1, 0, -1}, dj[] = {1, 0, -1, 0};\n#define REP(i, n) for (int i = 0; i < n; i++)\n#define REPR(i, n) for (int i = n; i >= 0; i--)\n#define SORT(v) sort((v).begin(), (v).end())\n#define ALL(v) (v).begin(), (v).end()\n\n\nint n, a[5005], dp[5005][5005]; // いまi番目その前にj番目を使ったときの最長\n\nint main() {\n    cin >> n;\n    REP(i,n) cin >> a[i];\n    sort(a,a+n);\n    REP(i,n)fill(dp[i],dp[i]+n,2);\n    REP(i,n){\n        REP(j,i){\n            int dif = a[i]-a[j], k;\n            k = lower_bound(a,a+n,a[i]+dif) -a;\n            if(k < n && a[k] == a[i]+dif){\n                dp[k][i] = max(dp[k][i], dp[i][j] + 1);\n            }\n        }\n    }\n    int ans = 0;\n    REP(i,n)REP(j,i) ans = max(ans, dp[i][j]);\n    cout << ans << endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing LL = long long;\n\n#define fs first\n#define sc second\n\nconst LL MOD = 1e9+7;\nconst double EPS = 1e-10;\n\ntemplate<class T>bool chmax(T &a, const T &b) {\n    if (a < b) { a = b; return true; }\n    return false;\n}\ntemplate<class T>bool chmin(T &a, const T &b) {\n    if (b < a) { a = b; return true; }\n    return false;\n}\n\n// input\ntemplate<typename T>\nvoid input(T& a) { cin >> a; }\ntemplate<typename T,typename... Ts>\nvoid input(T& a,Ts&... ts) {\n    input<T>(a);\n    input<T>(ts...);\n}\n\n// std::vector Declaration\ntemplate<typename T>\nvector<T> make_v(size_t a) { return vector<T>(a); }\ntemplate<typename T,typename... Ts>\nauto make_v(size_t a,Ts... ts) {\n    return vector<decltype(make_v<T>(ts...))>(a,make_v<T>(ts...));\n}\n\n// std::vector Initialization\ntemplate<typename T>\nvoid fill_all(T& arr, const T& v) { arr = v; }\ntemplate<typename T, typename U>\nvoid fill_all(T& arr, const U& v) { for (auto& i : arr) fill_all(i, v); }\n\n// std::vector Input\ntemplate<typename T>\nistream& operator>>(istream& is, vector<T>& v) {\n    for (auto &e : v) {\n        is >> e;\n    }\n    return is;\n}\n\n// std::vector Input parallel\ntemplate<typename T>\nvoid input_at(size_t idx, T& a) {\n    cin >> a[idx];\n}\ntemplate<typename T, typename... Ts>\nvoid input_at(size_t idx, T& a, Ts&... ts) {\n    input_at<T>(idx, a);\n    input_at<T>(idx, ts...);\n}\ntemplate<typename T>\nvoid input_parallel(T& a) {\n    for (size_t idx = 0; idx < (size_t)a.size(); ++idx) {\n        input_at<T>(idx, a);\n    }\n}\ntemplate<typename T, typename...Ts>\nvoid input_parallel(T& a, Ts&... ts) {\n    for (size_t idx = 0; idx < (size_t)a.size(); ++idx) {\n        input_at<Ts...>(idx, a, ts...);\n    }\n}\n\n// std::vector Debug\ntemplate<typename T>\nostream& operator<<(ostream& os, const vector<T>& v) {\n    os << \"[\";\n    bool a = 1;\n    for (auto e : v) {\n        os << (a ? \"\" : \" \");\n        os << e;\n        a = 0;\n    }\n    os << \"]\";\n    return os;\n}\n\n// std::array Debug\ntemplate<typename T, size_t n>\nostream& operator<<(ostream& os, const array<T, n>& v) {\n    os << \"[\";\n    bool a = 1;\n    for (auto e : v) {\n        os << (a ? \"\" : \" \");\n        os << e;\n        a = 0;\n    }\n    os << \"]\";\n    return os;\n}\n\n// std::deque Debug\ntemplate<typename T>\nostream& operator<<(ostream& os, const deque<T>& d) {\n    os << \"[\";\n    bool a = 1;\n    for (auto e : d) {\n        os << (a ? \"\" : \" \");\n        os << e;\n        a = 0;\n    }\n    os << \"]\";\n    return os;\n}\n\n// std::pair Debug\ntemplate<typename T, typename U>\nostream& operator<<(ostream& os, const pair<T, U>& p) {\n    os << \"(\" << p.first << \" \" << p.second << \")\";\n    return os;\n}\n\n// std::set Debug\ntemplate<typename T>\nostream& operator<<(ostream& os, const set<T>& st) {\n    os << \"{\";\n    bool a = 1;\n    for (auto e : st) {\n        os << (a ? \"\" : \" \");\n        os << e;\n        a = 0;\n    }\n    os << \"}\";\n    return os;\n}\n\n// std::multiset Debug\ntemplate<typename T>\nostream& operator<<(ostream& os, const multiset<T>& st) {\n    os << \"{\";\n    bool a = 1;\n    for (auto e : st) {\n        os << (a ? \"\" : \" \");\n        os << e;\n        a = 0;\n    }\n    os << \"}\";\n    return os;\n}\n\n// std::map Debug\ntemplate<typename T, typename U>\nostream& operator<<(ostream& os, const map<T, U>& mp) {\n    os << \"{\";\n    bool a = 1;\n    for (auto e : mp) {\n        os << (a ? \"\" : \" \");\n        os << e.first << \":\" << e.second;\n        a = 0;\n    }\n    os << \"}\";\n    return os;\n}\n\n// std::tuple Debug\ntemplate<int N, class Tuple>\nvoid out(ostream& os, const Tuple& t){}\ntemplate<int N, class Tuple, class H, class ...Ts>\nvoid out(ostream& os, const Tuple& t) {\n    if (N) os << \" \";\n    os << get<N>(t);\n    out<N+1,Tuple,Ts...>(os, t);\n}\ntemplate<class ...Ts>\nostream& operator<<(ostream& os, const tuple<Ts...>& t) {\n    os << \"(\";\n    out<0,tuple<Ts...>,Ts...>(os, t);\n    os << \")\";\n    return os;\n}\n\n// Debug\n#define DUMP(x) cerr<<#x<<\" = \"<<(x)<<endl\n\n// Weighted edge\ntemplate<typename T>\nstruct edge {\n    int src, to;\n    T cost;\n\n    edge(int to, T cost) : src(-1), to(to), cost(cost) {}\n    edge(int src, int to, T cost) : src(src), to(to), cost(cost) {}\n\n    edge &operator=(const int &x) {\n        to = x;\n        return *this;\n    }\n\n    operator int() const { return to; }\n\n    friend ostream& operator<<(ostream& os, const edge& e) {\n        return os << \"(\" << e.src << \"->\" << e.to << \":\" << e.cost << \")\";\n    }\n};\n\ntemplate<typename T>\nusing Edges = vector<edge<T>>;\ntemplate<typename T>\nusing WeightedGraph = vector<Edges<T>>;\nusing UnWeightedGraph = vector<vector<int>>;\ntemplate<typename T>\nusing MatrixGraph = vector<vector<T>>;\n\nint main()\n{\n    int n; cin >> n;\n    vector<int> v(n); cin >> v;\n\n    sort(v.begin(), v.end());\n    v.erase(unique(v.begin(), v.end()), v.end());\n\n    n = v.size();\n\n    map<int,int> mp;\n    for (int i = 0; i < n; ++i) {\n        mp[v[i]] = i;\n    }\n\n    auto dp = make_v<int>(n, n);\n    fill_all(dp, 2);\n\n    for (int i = 0; i < n; ++i) {\n        for (int j = i+1; j < n; ++j) {\n            int next = v[j] + (v[j] - v[i]);\n            if (mp.count(next) != 0) {\n                chmax(dp[j][mp[next]], dp[i][j] + 1);\n            }\n        }\n    }\n\n    int ans = 0;\n    for (int i = 0; i < n; ++i) {\n        for (int j = 0; j < n; ++j) {\n            chmax(ans, dp[i][j]);\n        }\n    }\n    cout << ans << endl;\n\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <set>\n#include <algorithm>\n#include <cstdio>\nusing namespace std;\nint main(){\n\tint N;\n\tscanf(\"%d\",&N);\n\tvector<int>a(N);\n\tset<int>h;\n\tint r=2;\n\tfor(int i=0;i<N;i++)scanf(\"%d\",&a[i]),h.insert(a[i]);\n\tsort(a.begin(),a.end());\n\tfor(int i=0;i<N;i++)for(int j=i+1;j<N;j++){\n\t\tint d=a[j]-a[i];\n\t\tint k=2;\n\t\tfor(;;k++)if(h.find(a[i]+d*k)==h.end())break;\n\t\tr=max(r,k);\n\t}\n\tprintf(\"%d\\n\",r);\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define r(i,n) for(int i=0;i<n;i++)\nusing namespace std;\n\nint dp[5001][5001],a[5001],n,ans=2;\nunordered_map<int,int>M;\n\nint main(){\n  cin>>n;\n  r(i,n)cin>>a[i];\n  sort(a,a+n);\n  r(i,n)M[a[i]]=i;\n\n  for(int i=0;i<n;i++){\n    for(int j=i+1;j<n;j++){\n\n      dp[i][j] = max( dp[i][j] , 2 );\n      ans = max( ans , dp[i][j] );\n      int nex = a[j]+(a[j]-a[i]);\n\n      if(M.count(nex)){\n        int idx = M[nex];\n        dp[j][idx] = max( dp[j][idx] , dp[i][j]+1 );\n      }\n    }\n  }\n  cout<< ans <<endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint a,b,c,d,e,f[5009],pas=1;\nvector <pair <int, int> > v[5009];\nvector <pair <int, int> >::iterator it;\nint main(){\n\tios_base::sync_with_stdio(false),cin.tie(0),cout.tie(0);\n\tcin>>a;\n\tfor(b=1; b<=a; b++) cin>>f[b];\n\tsort(f+1,f+a+1);\n\tfor(b=a-1; b>=1; b--){\n\t\tfor(c=b+1; c<=a; c++){\n\t\t\tif(v[c].size()==0){\n\t\t\t\tv[b].push_back(make_pair(f[c]-f[b],2));\n\t\t\t\tif(pas<2) pas=2;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tit=lower_bound(v[c].begin(),v[c].end(),make_pair(f[c]-f[b],0));\n\t\t\tif(it==v[c].end()||(*it).first>f[c]-f[b]){\n\t\t\t\tv[b].push_back(make_pair(f[c]-f[b],2));\n\t\t\t\tif(pas<2) pas=2;\n\t\t\t}else{\n\t\t\t\tv[b].push_back(make_pair(f[c]-f[b],(*it).second+1));\n\t\t\t\tif(pas<(*it).second+1) pas=(*it).second+1;\n\t\t\t}\n\t\t}\n\t}\n\tcout<<pas<<endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define REP(i,n) for (int i = 0; (i) < (n); ++(i))\n#define REP3(i,m,n) for (int i = (m); (i) < (n); ++(i))\n#define ALL(x) begin(x), end(x)\nusing namespace std;\nusing ll = long long;\n\nint solve(int n, vector<int> & a) {\n    sort(ALL(a));\n    unordered_set<int> index;\n    REP (i, n) index.insert(a[i]);\n\n    int answer = 2;\n    unordered_map<ll, int> used;\n    REP (i, n) {\n        REP3 (j, i + 1, n) {\n            int d = a[j] - a[i];\n            if (not index.count(a[i] + 2 * d)) continue;\n            auto key = ((ll)(a[i] % d) << 32) | d;\n            if (used.count(key) and a[j] <= used[key]) continue;\n            int len = 2;\n            while (index.count(a[i] + len * d)) {\n                ++ len;\n            }\n            used[key] = a[i] + (len - 1) * d;\n            answer = max(answer, len);\n        }\n    }\n\n    return answer;\n}\n\nsigned main() {\n    int n; cin >> n;\n    vector<int> a(n);\n    REP (i, n) {\n        cin >> a[i];\n    }\n    cout << solve(n, a) << endl;\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n#include<functional>\n#include<queue>\n#include<stack>\n#include<set>\n#include<map>\n#include<unordered_map>\n#include<climits>\n#include<cstdlib>\n#include<cmath>\n#include<string>\n#include<iomanip>\n#include<bitset>\n\nusing namespace std;\n\n#define ll long long int\n\nll const MOD = 1000000007;\nll const INF = (long long int)1 << 61;\n\nint main(){\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    \n    ll n;\n    cin >> n;\n    \n    vector<ll> a(n);\n    for(int i = 0; i < n; i++){\n        cin >> a[i];\n    }\n\n    sort(a.begin(),a.end());\n\n    unordered_map<ll,bool> mp;\n\n    for(int i = 0; i < n; i++){\n        mp[a[i]] = true;\n    }\n\n    ll ans = 0;\n    for(int i = 0; i < n; i++){\n        for(int j = i+1; j < n; j++){\n            if(n-j < ans){\n                break;\n            }\n            ll dist = a[j] - a[i];\n            ll prev = a[i];\n            ll tmp = 1;\n            while(true){\n                if(mp.find(prev+dist) == mp.end()){\n                    break;\n                }\n                prev += dist;\n                tmp++;\n            }\n            if(tmp > ans){\n                ans = tmp;\n            }\n        }\n    }\n\n    cout << ans << endl;\n    \n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nusing Int = long long;\ntemplate<typename T1,typename T2> void chmin(T1 &a,T2 b){if(a>b) a=b;};\ntemplate<typename T1,typename T2> void chmax(T1 &a,T2 b){if(a<b) a=b;};\n\nconst Int MAX = 5050;\nconst Int INF = 1e9;\nInt dp[MAX][MAX];\nsigned main(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n\n  Int n;\n  cin>>n;\n  vector<Int> v(n);\n  for(Int i=0;i<n;i++) cin>>v[i];\n\n  sort(v.begin(),v.end());\n\n  unordered_map<Int, Int> rev;\n  for(Int i=0;i<n;i++) rev[v[i]]=i;\n  \n  for(Int i=0;i<MAX;i++)\n    for(Int j=0;j<MAX;j++)\n      dp[i][j]=i>j?2:-INF;\n\n  Int ans=2;\n  for(Int i=0;i<n;i++){\n    for(Int j=0;j<i;j++){\n      Int x=v[i]+(v[i]-v[j]);\n      if(!rev.count(x)) continue;\n      Int k=rev[x];\n      chmax(dp[k][i],dp[i][j]+1);\n      chmax(ans,dp[k][i]);\n    }    \n  }\n  \n  cout<<ans<<endl;\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define TemplateVersion \"3.4.1\"\n// Useful Marcos\n//====================START=====================\n// Compile use C++11 and above\n#ifdef LOCAL\n#define debug(args...)                           \\\n    {                                            \\\n        string _s = #args;                       \\\n        replace(_s.begin(), _s.end(), ',', ' '); \\\n        stringstream _ss(_s);                    \\\n        istream_iterator<string> _it(_ss);       \\\n        err(_it, args);                          \\\n    }\nvoid err(istream_iterator<string> it)\n{\n}\ntemplate <typename T, typename... Args>\nvoid err(istream_iterator<string> it, T a, Args... args)\n{\n    cerr << *it << \" = \" << a << endl;\n    err(++it, args...);\n}\n#define MSG cout << \"Finished\" << endl\n#else\n#define debug(args...)\n#define MSG\n#endif\n#if __cplusplus >= 201703L\ntemplate <typename... Args>\nvoid readln(Args &... args)\n{\n    ((cin >> args), ...);\n}\ntemplate <typename... Args>\nvoid writeln(Args... args)\n{\n    ((cout << args << \" \"), ...);\n    cout << endl;\n}\n#elif __cplusplus >= 201103L\nvoid readln()\n{\n}\ntemplate <typename T, typename... Args>\nvoid readln(T &a, Args &... args)\n{\n    cin >> a;\n    readln(args...);\n}\nvoid writeln()\n{\n    cout << endl;\n}\ntemplate <typename T, typename... Args>\nvoid writeln(T a, Args... args)\n{\n    cout << a << \" \";\n    writeln(args...);\n}\n#endif\n#if __cplusplus >= 201103L\n#define FOR(_i, _begin, _end) for (auto _i = _begin; _i < _end; _i++)\n#define FORR(_i, _begin, _end) for (auto _i = _begin; _i > _end; _i--)\n#else\n#define FOR(_i, _begin, _end) for (int _i = (int)_begin; _i < (int)_end; _i++)\n#define FORR(_i, _begin, _end) for (int _i = (int)_begin; _i > (int)_end; _i--)\n#define nullptr NULL\n#endif\n#if __cplusplus >= 201103L\n#define VIS(_kind, _name, _size) \\\n    vector<_kind> _name(_size);  \\\n    for (auto &i : _name)        \\\n        cin >> i;\n#else\n#define VIS(_kind, _name, _size)    \\\n    vector<_kind> _name;            \\\n    _name.resize(_size);            \\\n    for (int i = 0; i < _size; i++) \\\n        cin >> _name[i];\n#endif\n// alias\n#define mp make_pair\n#define pb push_back\n#define eb emplace_back\n#define all(x) (x).begin(), (x).end()\n#define tcase() \\\n    int T;      \\\n    cin >> T;   \\\n    FOR(kase, 1, T + 1)\n// Swap max/min\ntemplate <typename T>\nbool smax(T &a, const T &b)\n{\n    if (a > b)\n        return false;\n    a = b;\n    return true;\n}\ntemplate <typename T>\nbool smin(T &a, const T &b)\n{\n    if (a < b)\n        return false;\n    a = b;\n    return true;\n}\n// ceil divide\ntemplate <typename T>\nT cd(T a, T b)\n{\n    return (a + b - 1) / b;\n}\n// min exchange\ntemplate <typename T>\nbool se(T &a, T &b)\n{\n    if (a < b)\n        return false;\n    swap(a, b);\n    return true;\n}\n// A better MAX choice\nconst int INF = 0x3f3f3f3f;\nconst long long INFLL = 0x3f3f3f3f3f3f3f3fLL;\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int, int> pii;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\ntypedef set<int> si;\ntypedef vector<string> cb;\n//====================END=====================\n\n// Constants here\nconst int SIZE = 5010;\n\nint diff[SIZE][SIZE];\n\n// Pre-Build Function\ninline void build()\n{\n}\n\n// Actual Solver\ninline void solve()\n{\n    int n;\n    cin >> n;\n    VIS(int, v, n);\n    sort(all(v));\n    // for (int i = 1; i < n; i++)\n    //     for (int j = 0; j < i; j++)\n    //         diff[i][j] = v[i] - v[j];\n\n    int ans = 0;\n    for (int i = 0; i < n; i++)\n    {\n        for (int j = i + 1; j < n; j++)\n        {\n            int ret = 2;\n            int di = v[j] - v[i];\n            int val = v[j];\n            auto p = v.begin() + j;\n            while (p != v.end())\n            {\n                p = lower_bound(p + 1, v.end(), val + di);\n                if (val + di != *p)\n                    break;\n                val += di;\n                ret++;\n            }\n            smax(ans, ret);\n        }\n    }\n\n    cout << ans << '\\n';\n}\n\nint main()\n{\n    ios::sync_with_stdio(false);\n    cin.tie(nullptr);\n    cout.tie(nullptr);\n\n#ifdef LOCAL\n    clock_t _begin = clock();\n#endif\n\n    build();\n    solve();\n\n#ifdef LOCAL\n    cerr << \"Time elapsed: \" << (double)(clock() - _begin) * 1000 / CLOCKS_PER_SEC << \"ms.\" << endl;\n#endif\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define int long long\n#define REP(i, n) for (int i = 0; i < (int)(n); ++i)\n\ntemplate <class T>\nbool chmax(T &a, const T &b) {\n    if (a < b) {\n        a = b;\n        return 1;\n    }\n    return 0;\n}\n\nsigned main() {\n    int n;\n    cin >> n;\n    vector<int> a(n);\n    REP(i, n) cin >> a[i];\n    sort(begin(a), end(a));\n\n    vector<vector<int>> dp(n + 1, vector<int>(n + 1));\n    REP(i, n) dp[i][n] = 1;\n    REP(i, n) {\n        for (int j = i + 1; j < n; ++j) {\n            chmax(dp[j][i], dp[i][n] + 1);\n        }\n        REP(j, i + 1) {\n            int d = a[i] - a[j];\n            auto itr = lower_bound(begin(a), end(a), a[i] + d);\n            if (itr == end(a) || *itr != a[i] + d) {\n                continue;\n            }\n            int idx = itr - begin(a);\n            chmax(dp[idx][i], dp[i][j] + 1);\n        }\n    }\n    int ans = 0;\n    REP(i, n) {\n        REP(j, n) {\n            chmax(ans, dp[i][j]);\n        }\n    }\n    cout << ans << endl;\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <string>\n#include <vector>\n#include <cmath>\n#include <utility>\nusing namespace std;\n\ntypedef long long ll;\nll MOD = 1e9+7;\n\nint main()\n{\n\tint n;\n\tcin>>n;\n\tvector<ll> a(n);\n\tfor (int i = 0; i < n; i++) {\n\t\tcin >> a[i];\n\t}\n\tsort(a.begin(), a.end());\n\n\tvector< vector<int> > memo(n, vector<int>(n, -1));\n\tfor (int i = 0; i < n; i++) {\n\t\tint idx = i + 2;\n\t\tfor (int j = i + 1; j < n; j++) {\n\t\t\twhile (idx < n) {\n\t\t\t\tif (a[idx] == 2 * a[j] - a[i]) {\n\t\t\t\t\tmemo[i][j] = idx;\n\t\t\t\t\tbreak;\n\t\t\t\t} else if (a[idx] > 2 * a[j] - a[i]) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tidx++;\n\t\t\t}\n\t\t\tif (idx >= n) break;\n\t\t}\n\t}\n\n\tvector< vector<int> > dp(n, vector<int>(n, 2));\n\tfor (int i = 0; i < n; i++) {\n\t\tfor (int j = i + 1; j < n; j++) {\n\t\t\tif (memo[i][j] == -1) continue;\n\t\t\tdp[j][memo[i][j]] = max(dp[j][memo[i][j]], dp[i][j] + 1);\n\t\t}\n\t}\n\n\tint ans = 0;\n\tfor (int i = 0; i < n; i++) {\n\t\tfor (int j = i + 1; j < n; j++) {\n\t\t\tans = max(ans, dp[i][j]);\n\t\t}\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\ntypedef pair<int, ll> pil;\ntypedef pair<int, ll> pli;\ntypedef pair<double,double> pdd;\n#define SQ(i) ((i)*(i))\n#define MEM(a, b) memset(a, (b), sizeof(a))\n#define SZ(i) int(i.size())\n#define FOR(i, j, k, in) for (int i=j ; i<k ; i+=in)\n#define RFOR(i, j, k, in) for (int i=j ; i>=k ; i-=in)\n#define REP(i, j) FOR(i, 0, j, 1)\n#define REP1(i,j) FOR(i, 1, j+1, 1)\n#define RREP(i, j) RFOR(i, j, 0, 1)\n#define ALL(_a) _a.begin(),_a.end()\n#define mp make_pair\n#define pb push_back\n#define eb emplace_back\n#define X first\n#define Y second\n#ifdef tmd\n#define TIME(i) Timer i(#i)\n#define debug(...) do{\\\n    fprintf(stderr,\"%s - %d (%s) = \",__PRETTY_FUNCTION__,__LINE__,#__VA_ARGS__);\\\n    _do(__VA_ARGS__);\\\n}while(0)\ntemplate<typename T>void _do(T &&_x){cerr<<_x<<endl;}\ntemplate<typename T,typename ...S> void _do(T &&_x,S &&..._t){cerr<<_x<<\" ,\";_do(_t...);}\ntemplate<typename _a,typename _b> ostream& operator << (ostream &_s,const pair<_a,_b> &_p){return _s<<\"(\"<<_p.X<<\",\"<<_p.Y<<\")\";}\ntemplate<typename It> ostream& _OUTC(ostream &_s,It _ita,It _itb)\n{\n    _s<<\"{\";\n    for(It _it=_ita;_it!=_itb;_it++)\n    {\n        _s<<(_it==_ita?\"\":\",\")<<*_it;\n    }\n    _s<<\"}\";\n    return _s;\n}\ntemplate<typename _a> ostream &operator << (ostream &_s,vector<_a> &_c){return _OUTC(_s,ALL(_c));}\ntemplate<typename _a> ostream &operator << (ostream &_s,set<_a> &_c){return _OUTC(_s,ALL(_c));}\ntemplate<typename _a> ostream &operator << (ostream &_s,deque<_a> &_c){return _OUTC(_s,ALL(_c));}\ntemplate<typename _a,typename _b> ostream &operator << (ostream &_s,map<_a,_b> &_c){return _OUTC(_s,ALL(_c));}\ntemplate<typename _t> void pary(_t _a,_t _b){_OUTC(cerr,_a,_b);cerr<<endl;}\n#define IOS()\nclass Timer {\nprivate:\n    string scope_name;\n    chrono::high_resolution_clock::time_point start_time;\npublic:\n    Timer (string name) : scope_name(name) {\n        start_time = chrono::high_resolution_clock::now();\n    }\n    ~Timer () {\n        auto stop_time = chrono::high_resolution_clock::now();\n        auto length = chrono::duration_cast<chrono::microseconds>(stop_time - start_time).count();\n        double mlength = double(length) * 0.001;\n        debug(scope_name, mlength);\n    }\n};\n#else\n#define TIME(i)\n#define debug(...)\n#define pary(...)\n#define endl '\\n'\n#define IOS() ios_base::sync_with_stdio(0);cin.tie(0)\n#endif\n\nconst ll MOD = 1000000007;\nconst ll INF = 0x3f3f3f3f3f3f3f3f;\nconst int iNF = 0x3f3f3f3f;\nconst ll MAXN = 5003;\n\nint n, v[MAXN];\nint dp[MAXN][MAXN];\nint dl[MAXN][MAXN];\n/********** Good Luck :) **********/\nint main () {\n    TIME(main);\n    IOS();\n\n    cin >> n;\n    REP (i, n) {\n        cin >> v[i];\n    }\n    sort(v, v+n);\n    REP (i, n) {\n        REP (j, i) {\n            dl[i][j] = v[i] - v[j];\n        }\n        sort(dl[i], dl[i]+i);\n        pary(dl[i], dl[i]+i);\n    }\n\n    int ans = 0;\n    REP (i, n) {\n        REP (j, i) {\n            int d = v[i] - v[j];\n            int idx = lower_bound(dl[j], dl[j]+j, d) - dl[j];\n            int idx2 = lower_bound(dl[i], dl[i]+i, d) - dl[i];\n            if (dl[j][idx] == d) {\n                dp[i][idx2] = dp[j][idx] + 1;\n            } else {\n                dp[i][idx2] = 2;\n            }\n            debug(i, j, d, idx, idx2);\n            ans = max(ans, dp[i][idx2]);\n        }\n    }\n\n    cout << ans << endl;\n\n\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<cstdio>\n#include<vector>\n#include<cmath>\n#include<algorithm>\n#include<functional>\n#include<iomanip>\n#include<queue>\n#include<ciso646>\n#include<random>\n#include<map>\n#include<set>\n#include<complex>\n#include<bitset>\n#include<stack>\n#include<unordered_map>\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned int ui;\nconst ll mod = 1000000007;\nconst ll INF = (ll)1000000007 * 1000000007;\ntypedef pair<int, int> P;\n#define stop char nyaa;cin>>nyaa;\n#define rep(i,n) for(int i=0;i<n;i++)\n#define per(i,n) for(int i=n-1;i>=0;i--)\n#define Rep(i,sta,n) for(int i=sta;i<n;i++)\n#define rep1(i,n) for(int i=1;i<=n;i++)\n#define per1(i,n) for(int i=n;i>=1;i--)\n#define Rep1(i,sta,n) for(int i=sta;i<=n;i++)\ntypedef long double ld;\ntypedef complex<ld> Point;\nconst ld eps = 1e-11;\nconst ld pi = acos(-1.0);\ntypedef pair<ll, ll> LP;\ntypedef pair<ld, ld> LDP;\ntypedef unsigned long long ul;\nll v[1 << 17];\nbool used[5000][5000];\nint main() {\n\tint n; cin >> n;\n\trep(i, n) {\n\t\tcin >> v[i];\n\t}\n\tsort(v, v + n);\n\tint out = 1;\n\trep(i, n) {\n\t\tRep(j, i + 1, n) {\n\t\t\tif (used[i][j])continue;\n\t\t\tvector<int> s;\n\t\t\tint dif = v[j] - v[i];\n\t\t\ts.push_back(i); s.push_back(j);\n\t\t\tint now = v[j] + dif;\n\t\t\twhile (true) {\n\t\t\t\tint id = lower_bound(v, v + n, now) - v;\n\t\t\t\tif (id < n&&v[id] == now) {\n\t\t\t\t\ts.push_back(id); now += dif;\n\t\t\t\t}\n\t\t\t\telse break;\n\t\t\t}\n\t\t\tout = max(out, (int)s.size());\n\t\t\trep(k, s.size()-1) {\n\t\t\t\tused[s[k]][s[k + 1]] = true;\n\t\t\t}\n\t\t}\n\t}\n\tcout << out << endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#include <unistd.h>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector< vector<int> > vvi;\ntypedef vector<ll> vl;\ntypedef vector< vector<ll> > vvl;\ntypedef pair<int, int> ii;\ntypedef vector<ii> vii;\ntypedef vector< vii> vvii;\n\n#define INF 1000000007\n#define INFLL 1000000000000000000\n#define esp 1e-9\n#define PI 3.14159265\n\nll nMod = 1e9 + 7;\n\ninline ll GCD(ll a, ll b) {while (b != 0) {ll c = a % b; a = b; b = c;} return a;};\ninline ll LCM(ll a, ll b) {return (a / GCD(a,b)) * b;};\n\nvector < int > a;\nmap < int , int > ma;\n\nint dp [ 5100 ] [ 5100 ] = { 0 };\nint rec ( int i, int j) {\n     if (dp [i] [j] != 0 ) return dp [i] [j];\n     int val = a [ i] * 2 -a [j];\n     if (! ma.count (val)) return  2 ;\n     int k = ma [val];\n     int res = rec (k, i) + 1 ;\n     return dp [i] [j ] = res;\n}\n\nvoid vietnakid () {\n    int N; cin >> N;\n    a.resize (N);\n    for ( int i = 0 ; i <N; ++ i) cin >> a [i];\n    sort (a.begin (), a.end ());\n    \n    for ( int i = 0 ; i <N; ++ i) ma [a [i]] = i;\n     int res = 2 ;\n     for ( int i = 0 ; i <N; ++ i) {\n         for ( int j = i + 1 ; j <N; ++ j) {\n            res = max (res, rec (i, j));\n        }\n    }\n    cout << res << endl;\n}\n\nint main()\n{\n\tios_base::sync_with_stdio(false);\n\tcin.tie();\n\t// #ifdef LOCAL_KID\n\t// freopen(\"/Users/macbook/Desktop/MyCPPLibrary/input\", \"r\", stdin);\n\t// freopen(\"/Users/macbook/Desktop/MyCPPLibrary/output\", \"w\", stdout);\n    // freopen(\"/Users/macbook/Desktop/MyCPPLibrary/error\", \"w\", stderr);\n\t// #else\n\t// // online submission\n\t// #endif\n\tvietnakid();\n \t// cerr << \"\\nTime elapsed: \" << 1000 * clock() / CLOCKS_PER_SEC << \"ms\\n\";\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nusing ll = long long;\n\n\nint main() {\n\tint n;\n\tcin >> n;\n\n\tvector<ll> v(n);\n\tunordered_set<ll> s;\n\tfor(auto& e : v) {\n\t\tcin >> e;\n\t\ts.insert(e);\n\t}\n\tsort(v.begin(), v.end());\n\n\tint ans = 0;\n\tfor(int i=0;i<n;i++) {\n\t\tfor(int j=i+1;j<n;j++) {\n\t\t\tint cnt = 2;\n\t\t\tll nv = v[j] + (v[j] - v[i]);\n\t\t\twhile(s.count(nv) > 0) {\n\t\t\t\tcnt++;\n\t\t\t\tnv += (v[j] - v[i]);\n\t\t\t}\n\t\t\tans = max(ans, cnt);\n\t\t}\n\t}\n\tcout << ans << endl;\n\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <map>\n#include <algorithm>\nusing namespace std;\n\n/*\n・公差の候補はO(n^2)\n・v0 v2 v4... vm\n・v2 v4...は見なくていい\n */\n\nint main(){\n    int N;\n    cin >> N;\n    vector<int> v(N);\n    vector<vector<int>> use(N,vector<int>(N,0));\n    map<int,int> m;\n    for(int i=0;i<N;i++){\n        cin >> v[i];\n    }\n    sort(v.begin(),v.end());\n    for(int i=0;i<N;i++) m[v[i]] = i;    \n    int ans = 0;\n    for(int i=0;i<N-1;i++) for(int j=i+1;j<N;j++){\n        if(use[i][j]) continue;\n        int d = v[j]-v[i];\n        use[i][j] = 1;\n        int len = 2,id = j;\n        while(m.count(v[id]+d)){\n            len++;\n            use[id][m[v[id]+d]] = 1;\n            id = m[v[id]+d];\n        }\n        ans = max(ans,len);\n    }\n    cout << ans << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#define pb push_back\n#define mp make_pair\n#include<bits/stdc++.h>\n#define ll long long\nusing namespace std;\nconst int N = 2000000 + 100;\nll arr[N], dp[6001][6001], ans = 0;\nint n;\nvoid solve(){\n\tcin >> n; \n\tans = 2;\n\tfor(int i = 0; i < n; i++) cin >> arr[i], dp[i][n - 1] = 2;\n\tsort(arr, arr + n);\n\tfor(int j = n - 2; j >= 1; j--){\n\t\tint i = j - 1, k = j + 1;\n\t\twhile(i >= 0 && k <= n - 1){\n\t\t\tif(arr[i] + arr[k] < 2 * arr[j]){\n\t\t\t\tk++;\n\t\t\t}else if(arr[i] + arr[k] > 2 * arr[j]){\n\t\t\t\tdp[i--][j] = 2;\n\t\t\t}else{\n\t\t\t\tdp[i][j] = dp[j][k] + 1;\n\t\t\t\tans = max(ans, dp[i][j]);\n\t\t\t\ti--; k++;\n\t\t\t}\n\t\t}\n\t\twhile(i >= 0){\n\t\t\tdp[i][j] = 2;\n\t\t\ti--;\n\t\t}\n\t}\n\tcout << ans << endl;\n}\nint main(){\n\tint t = 1; \n\twhile(t--) solve();\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <unordered_map>\n#include <algorithm>\n\nusing namespace std;\n\nint n;\nint a[5005];\nint nx[5005][5005];\nint dp[5005][5005];\nunordered_map<int, int> mp;\n\nint main(void)\n{\n\tcin >> n;\n\tfor(int i = 1; i <= n; i++) cin >> a[i];\n\tsort(a+1, a+n+1);\n\t\n\tif(n <= 2){\n\t\tcout << n << endl;\n\t\treturn 0;\n\t}\n\t\n\tfor(int i = 1; i <= n; i++) mp[a[i]] = i;\n\t\n\tfor(int i = 1; i <= n; i++){\n\t\tfor(int j = 1; j <= n; j++){\n\t\t\tif(j >= i) continue;\n\t\t\tif(mp.count(a[i] + a[i]-a[j])) nx[i][j] = mp[a[i]+a[i]-a[j]];\n\t\t}\n\t}\n\t\n\tfor(int i = 2; i <= n; i++){\n\t\tfor(int j = 1; j < i; j++){\n\t\t\tif(nx[i][j]) dp[nx[i][j]][i] = dp[i][j] + 1;\n\t\t}\n\t}\n\t\n\tint ans = 0;\n\tfor(int i = 1; i <= n; i++){\n\t\tfor(int j = 1; j < i; j++){\n\t\t\tans = max(ans, dp[i][j]);\n\t\t}\n\t}\n\tcout << ans+2 << endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#ifdef DEBUG_MODE\n\t#define DBG(n) n;\n#else\n\t#define DBG(n) ;\n#endif\n#define REP(i,n) for(ll (i) = (0);(i) < (n);++i)\n#define PB push_back\n#define MP make_pair\n#define FI first\n#define SE second\n#define SHOW1d(v,n) {for(int W = 0;W < (n);W++)cerr << v[W] << ' ';cerr << endl << endl;}\n#define SHOW2d(v,i,j) {for(int aaa = 0;aaa < i;aaa++){for(int bbb = 0;bbb < j;bbb++)cerr << v[aaa][bbb] << ' ';cerr << endl;}cerr << endl;}\n#define ALL(v) v.begin(),v.end()\n#define Decimal fixed<<setprecision(20)\n#define INF 1000000000\n#define LLINF 1000000000000000000LL\n#define MOD 1000000007\n\ntypedef long long ll;\ntypedef pair<ll,ll> P;\n\nint mp[5005][5005];\nint dp[5005][5005];\n\nint main(){\n\n\tint n;cin >> n;\n\tvector<ll> v(n);\n\n\tREP(i,n)cin >> v[i];\n\tsort(ALL(v));\n\n\tREP(i,5005)REP(j,5005){\n\t\tmp[i][j] = -1;\n\t\tdp[i][j] = 2;\n\t}\n\n\tREP(i,n){\n\t\tint k = i;\n\t\tfor(ll j = i+1;j < n;j++){\n\t\t\twhile(k < n && 2 * v[j] - v[i] > v[k])k++;\n\t\t\tif(k < n && 2 * v[j] - v[i] == v[k])mp[i][j] = k;\n\t\t}\n\t}\n\n\tREP(i,n){\n\t\tfor(ll j = i+1;j < n;j++){\n\t\t\tif(mp[i][j] != -1){\n\t\t\t\tll k = mp[i][j];\n\t\t\t\tdp[j][k] = max(dp[j][k], dp[i][j] + 1);\n\t\t\t}\n\t\t}\n\t}\n\n\tint ans = 0;\n\tREP(i,n){\n\t\tREP(j,n){\n\t\t\tans = max(ans, dp[i][j]);\n\t\t}\n\t}\n\n\tcout << ans << endl;\n\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <sstream>\n#include <algorithm>\n#include <set>\n\nusing namespace std;\n\nint main(int argc, char *argv[])\n{\n  int size;\n\n  cin >> size;\n  vector<int> elem;\n  set<int> elemset;\n  for(int i=0;i<size;i++){\n    int v;\n    cin >> v;\n    elem.push_back(v);\n    elemset.insert(v);\n  }\n\n  sort(elem.begin(), elem.end());\n  /*\n  for(set<int>::iterator iter=elemset.begin();\n      iter != elemset.end();iter++){\n    cout << *iter << endl;\n  }\n  */\n  int maxk=2;\n  for(int i=0;i<elem.size();i++){\n    for(int j=i+1;j<elem.size();j++){\n      int difference=elem[j] - elem[i];\n      //int num = elem[j];\n      for(int k=1;k<elem[elem.size()-1];k++){\n\tint nextnum = elem[j] + k * difference;\n\tif(nextnum > elem[elem.size()-1]) break;\n\t//cout << k << \" \" << nextnum << \" \" << elem[i] << \" \" << elem[j] << endl;\n\tif(elemset.find(nextnum) != elemset.end()){\n\t  maxk = max(k+2, maxk);\n\t}else{\n\t  break;\n\t}\n      }\n    }\n  }\n  cout << maxk << endl;\n  \n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <unordered_map>\n#include <cstring>\n\nusing namespace std;\nunordered_map<long long, int> exist;\n\nint memo[5050][5050];\nvector<int> vs;\n\nint f(int x, int y) {\n    if( memo[x][y] != -1 ) return memo[x][y];\n    if (exist.count(2 * vs[y] - vs[x]))\n        return memo[x][y] = f(y, exist[2 * vs[y] - vs[x]]) + 1;\n    return 1;\n}\n\nint main() {\n    memset(memo, -1, sizeof(memo));\n    int n;\n    cin >> n;\n\n    for (int i = 0; i < n; i++) {\n        int v;\n        cin >> v;\n        exist[v] = i;\n        vs.push_back(v);\n    }\n    int ans = 0;\n    for (int i = 0; i < vs.size(); i++) {\n        for (int j = 0; j < vs.size(); j++) {\n            if (i != j) ans = max(ans, f(i, j) + 1);\n        }\n    }\n    cout << ans << endl;\n\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define pb push_back\n#define mp make_pair\n#define rep(i,n) for(int i=0;i<n;i++)\n#define repn(i,n) for(int i=1;i<=n;i++)\n#define fi first\n#define sc second\nint n;\nvector<int>vec;\nint dp[5005][5005];\n\nint main(){\n\tcin >> n;\n\trep(i,n){ int a; cin >> a; vec.pb(a); }\n\tsort(vec.begin(),vec.end());\n\trep(i,n) for(int j=i+1;j<n;j++) dp[i][j] = 2;\n\trep(i,n){\n\t\tint x = i+1;\n\t\tfor(int j=i+1;j<n;j++){\n\t\t\twhile(x < n && vec[j]-vec[i] > vec[x]-vec[j]) x++;\n\t\t\tif(x == n) break;\n\t\t\tif(vec[j]-vec[i] == vec[x]-vec[j]){\n\t\t\t\tdp[j][x] = max(dp[j][x],dp[i][j]+1);\n\t\t\t}\n\t\t}\n\t}\n\tint ans = 0;\n\trep(i,n) rep(j,n) ans = max(ans,dp[i][j]);\n\tcout << ans << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef pair<ll, ll> l_l;\ntypedef pair<int, int> i_i;\ntemplate<class T>\ninline bool chmax(T &a, T b) {\n    if(a < b) {\n        a = b;\n        return true;\n    }\n    return false;\n}\n\ntemplate<class T>\ninline bool chmin(T &a, T b) {\n    if(a > b) {\n        a = b;\n        return true;\n    }\n    return false;\n}\n\n#define EPS (1e-7)\n#define INF (1e9)\n#define PI (acos(-1))\n//const ll mod = 1000000007;\nvector<int> v;\nbool checked[5005][5005];\nset<i_i> st;\n\nint main() {\n    //cout.precision(10);\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    int n;\n    cin >> n;\n    v.resize(n);\n    for(int i = 0; i < n; i++) {\n        cin >> v[i];\n    }\n    sort(v.begin(), v.end());\n    for(int i = 0; i < n; i++) {\n        st.insert({v[i], i});\n    }\n    int ans = 0;\n    for(int i = 0; i < n; i++) {\n        for(int j = i + 1; j < n; j++) {\n            if(checked[i][j]) continue;\n            checked[i][j] = true;\n            int now = 2;\n            int a = v[j];\n            int LAST = j;\n            while(true) {\n                a += v[j] - v[i];\n                auto itr = st.lower_bound({a, 0});\n                if(itr != st.end() && (*itr).first == a) {\n                    now++;\n                    checked[LAST][(*itr).second] = true;\n                    LAST = (*itr).second;\n                } else break;\n            }\n            chmax(ans, now);\n        }\n    }\n    cout << ans << endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <map>\n#include <unordered_map>\n#include <algorithm>\n#define llint int\n\nusing namespace std;\n\nint n;\nint a[5005];\nint nx[5005][5005];\nint dp[5005][5005];\nunordered_map<int, int> mp;\nmap<int, int> mp2;\n\nint main(void)\n{\n\tcin >> n;\n\tfor(int i = 1; i <= n; i++) cin >> a[i];\n\tsort(a+1, a+n+1);\n\t\n\tif(n <= 2){\n\t\tcout << n << endl;\n\t\treturn 0;\n\t}\n\t\n\t//\n\tfor(int i = 1; i <= n; i++){\n\t\tfor(int j = 1; j <= 1; j++){\n\t\t\tif(i >= j) continue;\n\t\t\tmp2[a[j]-a[i]]++;\n\t\t}\n\t}\n\tllint aaa = 0;\n\tfor(auto it = mp2.begin(); it != mp2.end(); it++){\n\t\taaa = max(aaa, it->second);\n\t}\n\t//\n\t\n\tfor(int i = 1; i <= n; i++) mp[a[i]] = i;\n\t\n\tfor(int i = 1; i <= n; i++){\n\t\tfor(int j = 1; j <= n; j++){\n\t\t\tif(j >= i) continue;\n\t\t\tif(mp.count(a[i] + a[i]-a[j])) nx[i][j] = mp[a[i]+a[i]-a[j]];\n\t\t}\n\t}\n\t\n\tfor(int i = 2; i <= n; i++){\n\t\tfor(int j = 1; j < i; j++){\n\t\t\tif(nx[i][j]) dp[nx[i][j]][i] = dp[i][j] + 1;\n\t\t}\n\t}\n\t\n\tint ans = 0;\n\tfor(int i = 1; i <= n; i++){\n\t\tfor(int j = 1; j < i; j++){\n\t\t\tans = max(ans, dp[i][j]);\n\t\t}\n\t}\n\tcout << ans+2 << endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "//#include <bits/stdc++.h>\n\n#include <iostream>\n#include <algorithm>\n\n#include <bitset>\n#include <vector>\n#include <set>\n#include <map>\n#include <unordered_set>\n#include <unordered_map>\n#include <stack>\n#include <queue>\n#include <deque>\n#include <cstring>\n#include <string>\n#include <utility>\n#include <array>\n#include <complex>\n#include <valarray>\n\n#include <cassert>\n#include <cmath>\n#include <functional>\n#include <iomanip>\n#include <chrono>\n#include <random>\n#include <numeric>\n\n\nusing namespace std;\n//#define int long long\n\ntypedef long long ll;\ntypedef unsigned long long ull;\n//typedef unsigned __int128 HASH;\ntypedef pair<int,int> pii;\ntypedef pair<ll, ll> pll;\ntypedef pair<ull, ull> pullull;\ntypedef pair<ll,int> plli;\ntypedef pair<double,int> pdi;\ntypedef pair<long double, int> pdbi;\ntypedef pair<int,pii> pipii;\ntypedef pair<ll,pll> plpll;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\ntypedef vector<vi> vvi;\ntypedef vector<vvi> vvvi;\ntypedef vector<pii> vpii;\ntypedef vector<vector<int>> mat;\n\n#define rep(i,n) for (int i=0;i<(n);i++)\n#define rep2(i,a,b) for (int i=(a);i<(b);i++)\n#define rrep(i,n) for (int i=(n);i>0;i--)\n#define rrep2(i,a,b) for (int i=(a);i>b;i--)\n#define pb push_back\n#define fi first\n#define se second\n#define all(a) (a).begin(),(a).end()\n#define rall(a) (a).rbegin(),(a).rend()\n\nconst ll hmod1 = 999999937;\nconst ll hmod2 = 1000000000 + 9;\nconst int INF = 1<<30;\nconst ll INFLL = 1LL<<62;\nconst long double EPS = 1e-12;\nconst ll mod = 1000000000 + 7;\nconst int dx4[4] = {1, 0, -1, 0};\nconst int dy4[4] = {0, 1, 0, -1};\nconst int dx8[8] = {1, 1, 1, 0, 0, -1, -1, -1};\nconst int dy8[8] = {0, 1, -1, 1, -1, 0, 1, -1};\nconst long double pi = 3.141592653589793;\n\n#define addm(X, Y) (X) = ((X) + ((Y) % mod) + mod) % mod\n#define inside(y, x, h, w) (0 <= (y) && (y) < (h) && 0 <= (x) && (x) < (w)) ? true : false\n\n//debug\n#define DEBUG\n\n#define DUMPOUT cout\n\n#ifdef DEBUG\n#define dump(...) DUMPOUT<<#__VA_ARGS__<<\" :[\"<<__FUNCTION__<<\":\"<<__LINE__<<\"]\"<<endl; DUMPOUT<<\"    \"; dump_func(__VA_ARGS__)\n#else\n#define dump(...)\n#endif\n\nvoid dump_func() {DUMPOUT << endl;};\n\ntemplate <class Head, class... Tail> void dump_func(Head&& head, Tail&&... tail) {\n    DUMPOUT << head;\n    if (sizeof...(Tail) == 0) DUMPOUT << \" \";\n    else DUMPOUT << \", \";\n    dump_func(std::move(tail)...);\n}\n\n//ostream\ntemplate<typename T> ostream& operator << (ostream& os, vector<T>& vec) {\n    os << \"[\"; for (int i = 0; i<vec.size(); i++) os << vec[i] << (i + 1 == vec.size() ? \"\" : \", \"); os << \"]\";\n    return os;\n}\n\ntemplate<typename T, typename U> ostream& operator << (ostream& os, pair<T, U>& pair_var) {\n    os << \"(\" << pair_var.first << \", \" << pair_var.second << \")\";\n    return os;\n}\n\ntemplate<typename T, typename U> ostream& operator << (ostream& os, map<T, U>& map_var) {\n    os << \"[\";\n    for (auto itr = map_var.begin(); itr != map_var.end(); itr++) {\n        os << \"(\" << itr->first << \", \" << itr->second << \")\"; itr++;  if(itr != map_var.end()) os << \", \"; itr--;\n    }\n    os << \"]\";\n    return os;\n}\n\ntemplate<typename T> ostream& operator << (ostream& os, set<T>& set_var) {\n    os << \"[\";\n    for (auto itr = set_var.begin(); itr != set_var.end(); itr++) {\n        os << *itr; ++itr; if(itr != set_var.end()) os << \", \"; itr--;\n    }\n    os << \"]\";\n    return os;\n}\n\nint n;\nint a[5005];\nvector<vector<int>> dp(5001, vector<int>(5001));\nvector<vector<int>> v(5001);\n\nsigned main(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n  cin >> n;\n  rep(i, n) cin >> a[i];\n  sort(a, a + n);\n  rep2(i, 1, n) {\n    rrep2(j, i - 1, -1) {\n      v[i].push_back(a[i] - a[j]);\n    }\n  }\n\n  int ans = 1;\n  rep2(i, 1, n) {\n    rrep2(j, i - 1, -1) {\n      int diff = a[i] - a[j];\n      int idx1 = lower_bound(all(v[i]), diff) - v[i].begin();\n      int idx2 = lower_bound(all(v[j]), diff) - v[j].begin();\n      if (v[j].size() > 0 && idx2 < v[j].size() && v[j][idx2] == diff) {\n        dp[i + 1][idx1] = dp[j + 1][idx2] + 1;\n      }\n      else {\n        dp[i + 1][idx1] = 1;\n      }\n      ans = max(ans, dp[i + 1][idx1]);\n    }\n  }\n  //rep(i, n + 1)rep(j, 4) cout << i << \" \" << j << \" \"  << dp[i][j] << endl;\n  cout << ans + 1 << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n\nusing namespace std;\n\nconst int MAX_N = 5000;\n\n// dp[i][j] := i を含み, 公差 v[i]-v[j] の数列の長さ\nvector<vector<int>> dp(MAX_N, vector<int>(MAX_N, 0));\n\nint main() {\n  int n;\n  cin >> n;\n  vector<int> v(n);\n  for (int i = 0; i < n; i++) cin >> v[i];\n  sort(v.begin(), v.end());\n  map<int, int> pos;\n  for (int i = 0; i < n; i++) pos[v[i]] = i;\n  int ret = 1;\n  for (int i = 1; i < n; i++) {\n    for (int j = 0; j < n; j++) {\n      int dif = v[i] - v[j];\n      if (pos.count(v[j] - dif)) {\n        int p = pos[v[j] - dif];\n        dp[i][j] = dp[j][p] + 1;\n      } else {\n        dp[i][j] = 2;\n      }\n      ret = max(ret, dp[i][j]);\n    }\n  }\n  cout << ret << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define M_PI 3.14159265358979323846\nusing ull = unsigned long long;\nusing ll = long long;\n#define endl \"\\n\"\n\n#define REP(i, n) for (ll i = 0; i < n; i++)\n#define REPR(i, n) for (ll i = n; i >= 0; i--)\n#define FOR(i, m, n) for (ll i = m; i < n; i++)\n#define even(x) (x) % 2 == 0\n#define odd(x) (x) % 2 != 0\n#define all(x) x.begin(), x.end()\n#define rall(x) x.rbegin(), x.rend()\n#define pcnt __builtin_popcount\n#define buli(x) __builtin_popcountll(x)\n#define UNIQUE(v) v.erase(unique(v.begin(), v.end()), v.end());\n#define inll(x) ll x;cin>>x;\n#define INIT() cin.tie(0);ios::sync_with_stdio(0);cout<<fixed<<setprecision(20)\n\n// these functions return the position of result of Binary Search.\n#define LB(s, t, x) (int)(lower_bound(s, t, x) - s)\n#define UB(s, t, x) (int)(upper_bound(s, t, x) - s)\n\nnamespace {\n    const ll MOD_CONST = (ll)(1e9 + 7);\n    const ll CFM = (ll)(998244353);\n    ll qp(ll a, ll b, int mo)\n    {\n        ll ans = 1;\n        do\n        {\n            if (b & 1)\n                ans = 1ll * ans * a % mo;\n            a = 1ll * a * a % mo;\n        } while (b >>= 1);\n        return ans;\n    }\n    ll gcd(ll a, ll b) { return b ? gcd(b, a % b) : a; }\n    ll lcm(ll a, ll b)\n    {\n        ll temp = gcd(a, b);\n        return temp ? (a / temp * b) : 0;\n    }\n    int mDays[] = {31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\n    int dx[4] = {1, 0, -1, 0}, dy[4] = {0, 1, 0, -1};\n    int dx8[] = {1, -1, 0, 0, 1, 1, -1, -1}, dy8[] = {0, 0, -1, 1, -1, 1, -1, 1};\n\n    template <typename F>\n    class\n    #if defined(__has_cpp_attribute) && __has_cpp_attribute(nodiscard)\n        [[nodiscard]]\n    #elif defined(__GNUC__) && __GNUC_PREREQ(3, 4)\n        __attribute__((warn_unused_result))\n    #endif // defined(__has_cpp_attribute) && __has_cpp_attribute(nodiscard)\n        FixPoint : F {\n            public :\n                explicit constexpr FixPoint(F &&f) noexcept : F(std::forward<F>(f)) {}\n\n            template <typename... Args>\n            constexpr decltype(auto)\n            operator()(Args &&... args) const {\n                return F::operator()(*this, std::forward<Args>(args)...);\n    } // namespace\n    }\n    ; // class FixPoint\n    template <typename F>\n    static inline constexpr decltype(auto)\n    makeFixPoint(F &&f) noexcept\n    {\n        return FixPoint<F>{std::forward<F>(f)};\n    }\n\n    template <typename T>\n    vector<T> make_v(size_t a) { return vector<T>(a); }\n    template <typename T, typename... Ts>\n    auto make_v(size_t a, size_t b, Ts... ts) { return vector<decltype(make_v<T>(b, ts...))>(a, make_v<T>(b, ts...)); }\n    template <typename T, typename V>\n    typename enable_if<is_class<T>::value == 0>::type\n    fill_v(T &t, const V &v) { t = v; }\n    template <typename T, typename V>\n    typename enable_if<is_class<T>::value != 0>::type\n    fill_v(T &t, const V &v) { for (auto &e : t) fill_v(e, v); }\n\n    template <class T>\n    bool chmax(T &a, const T &b) { if (a < b) { a = b; return 1; } return 0; }\n    template <class T>\n    bool chmin(T &a, const T &b) { if (b < a) { a = b; return 1; } return 0; }\n\n    inline tuple<ll, ll> rotate45(tuple<ll, ll> point)\n    {\n        ll x = get<0>(point), y = get<1>(point);\n        return tuple<ll, ll>(x + y, x - y);\n    }\n    inline bool rangeCheck2D(int nx, int ny, int Width, int Height) { return nx >= 0 and nx < Width and ny >= 0 and ny < Height; }\n\n    template <class T>\n    ostream &operator<<(ostream &os, const vector<T> &v)\n    {\n        for (auto i = begin(v); i != end(v); ++i)\n            os << *i << (i == end(v) - 1 ? \"\" : \" \");\n        return os;\n    }\n    template <class T>\n    istream &operator>>(istream &is, vector<T> &v)\n    {\n        for (auto i = begin(v); i != end(v); ++i)\n            is >> *i;\n        return is;\n    }\n\n    template <typename T>\n    void out(T o) { cout << o << endl; }\n    template <typename T>\n    void out(vector<T> &out)\n    {\n        REP(i, (int)out.size())\n        {\n            cout << out[i];\n            if (i == (int)out.size() - 1)\n                cout << endl;\n            else\n                cout << \" \";\n        }\n    }\n    template <typename T>\n    void out(vector<vector<T>> o) { REP(i, o.size())\n                                    out(o[i]); }\n    ll i_query(ll x)\n    {\n        cout << \"> \" << x << endl;\n        fflush(stdout);\n        ll ret;\n        cin >> ret;\n        return ret;\n    }\n    ll i_query_2(ll i)\n    {\n        cout << \"? \" << i << endl;\n        fflush(stdout);\n        ll ret;\n        cin >> ret;\n        return ret;\n    }\n    void i_answer(ll ans, ll d)\n    {\n        cout << \"! \" << ans << \" \" << d << endl;\n        fflush(stdout);\n    }\n} // namespace\n\n// lambda expression\n// auto f = [](int arg1, double arg2) { return ret; };\n// lambda recursion\n// auto result = makeFixPoint([&](auto rec, int pos, int v) -> int {\n//\t   rec(pos, v);\n// })(0, 1);\n// auto func = makeFixPoint([]() -> int {});\n// int ret = func();\n\n// tuple binding\n// auto [x, y] = make_tuple(0, 0);\n\n// for pair\n// auto [a, b] = pair<int, int>({v1, v2});\n\n// bitset<N> bs(ini_val); // N must be constant\n// bs.reset(); // reset all\n\nint main(void)\n{\n    INIT(); // comment out for Interective Program\n\n    inll(N);\n    vector<ll> v(N);\n    REP(i, N) cin >> v[i];\n\n    sort(all(v));\n\n    ll ans = 1;\n    REP(i, N) {\n        FOR(j, i + 1, N) {\n            ll d = v[j] - v[i];\n            ll cnt = 1;\n            while (true) {\n                ll num = cnt * d + v[j];\n                auto itr = lower_bound(all(v), num);\n                if (itr == v.end() or *itr != num) break;\n                cnt++;\n            }\n            chmax(ans, cnt);\n        }\n    }\n    out(ans+1);\n\n    return 0;\n}\n//*/\n"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n\n#pragma warning(disable:4996)\nusing namespace std;\n\nstruct aa {\n\tpair<int,int> prev_place;\n\tint prev_char;\n\tpair<int,int>now_place;\n};\nint memo[5001][5001];\nint main() {\n\tint N;cin>>N;\n\tvector<int>v(N);\n\tfor(int i=0;i<N;++i)cin>>v[i];\n\tsort(v.begin(),v.end());\n\tv.erase(unique(v.begin(),v.end()),v.end());\n\tN=v.size();\n\tfor (int i = 0; i < N; ++i) {\n\t\tfor (int j = i + 1; j < N; ++j) {\n\t\t\tmemo[i][j]=2;\n\t\t}\n\t}\n\tint ans=0;\n\tfor (int i = 0; i < N; ++i) {\n\t\tfor (int j = 1; j < N; ++j) {\n\t\t\tans=max(ans,memo[i][j]);\n\t\t\tint sa=v[j]-v[i];\n\t\t\tlong long int x=v[j]*2-v[i];\n\t\t\tif(x>(1e9)+5)continue;\n\t\t\telse {\n\t\t\t\tint nx=x;\n\t\t\t\tauto it=lower_bound(v.begin()+j,v.end(),nx);\n\t\t\t\tif (it != v.end() && *it == nx) {\n\t\t\t\t\tmemo[j][it-v.begin()]=max(memo[j][it-v.begin()],memo[i][j]+1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tcout<<ans<<endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nusing ll = long long;\n\nint main()\n{\n\tint n;\n\tcin >> n;\n\tvector<int> v(n);\n\tfor(int i = 0;i < n;i++){\n\t\tcin >> v[i];\n\t}\n\tsort(v.begin(), v.end());\n\tvector<vector<int>> dp(n);\n\tvector<vector<int>> dis(n);\n\tvector<int> pos(n);\n\tint res = 0;\n\tfor(int i = 0;i < n;i++){\n\t\tfor(int j = i - 1;j >= 0;j--){\n\t\t\twhile(pos[j] < (int)dp[j].size() && dis[j][pos[j]] < v[i] - v[j]) ++pos[j];\n\t\t\tif(pos[j] < (int)dp[j].size() && dis[j][pos[j]] == v[i] - v[j]){\n\t\t\t\tdp[i].push_back(dp[j][pos[j]] + 1);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tdp[i].push_back(2);\n\t\t\t}\n\t\t\tres = max(res, dp[i].back());\n\t\t\tdis[i].push_back(v[i] - v[j]);\n\t\t}\n\t}\n\tcout << res << endl;\n\treturn 0;\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main()\n{\n    int num;\n    scanf(\"%d\",&num);\n    int s[5005] = {};\n    for(int i = 0; i < num; i++)\n    {\n        scanf(\"%d\", &s[i]);\n    }\n    sort(s,s+num);\n    int ans = 0;\n    for(int i = 0; i < num; i++)\n    {\n        for(int j = i + 1; j < num; j++)\n        {\n            int dif = s[j] - s[i];\n            int k = 2;\n            while(*(lower_bound(s, s+num, s[i] + dif *k)) == s[i] + dif * k)\n            {\n                k++;\n            }\n            ans = max(ans, k);\n        }\n    }\n    printf(\"%d\\n\",ans);\n}\n\n"
  },
  {
    "language": "C++",
    "code": "// This file is a \"Hello, world!\" in C++ language by GCC for wandbox.\n#include <iostream>\n#include <vector>\n#include <algorithm>\n\nusing namespace std;\n\nint main() {\n    int n;\n    cin >> n;\n    \n    vector<int> a(n);\n    \n    for (int i = 0; i < n; i++) {\n        cin >> a[i];\n    }\n    \n    sort(a.begin(), a.end());\n    \n    int ans = 0;\n    \n    for (int i = 0; i < n; i++) {\n        for (int j = i + 1; j < n; j++) {\n            int d = a[j] - a[i];\n            \n            auto ind = lower_bound(a.begin(), a.begin() + i, a[i] - d) - a.begin();\n            \n            if (ind == i || a[ind] != a[i] - d) {\n                int cnt = 2;\n                int k = j;\n                \n                while(true) {\n                    ind = lower_bound(a.begin() + k, a.end(), a[k] + d) - a.begin();\n                    \n                    if (ind == n || a[ind] != a[k] + d) {\n                        break;\n                    }\n                    \n                    k = ind;\n                    cnt++;\n                }\n                \n                ans = max(ans, cnt);\n            }\n        }\n    }\n    \n    cout << ans << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,a,b) for(int i=a;i<b;i++)\n#define rrep(i,a,b) for(int i=a;i>=b;i--)\n#define fore(i,a) for(auto &i:a)\n#define all(x) (x).begin(),(x).end()\n#pragma GCC optimize (\"-O3\")\nusing namespace std; void _main(); int main() { cin.tie(0); ios::sync_with_stdio(false); _main(); }\ntypedef long long ll; const int inf = INT_MAX / 2; const ll infl = 1LL << 60;\ntemplate<class T>bool chmax(T &a, const T &b) { if (a<b) { a = b; return 1; } return 0; }\ntemplate<class T>bool chmin(T &a, const T &b) { if (b<a) { a = b; return 1; } return 0; }\n//---------------------------------------------------------------------------------------------------\n/*---------------------------------------------------------------------------------------------------\n　　　　　　　　　　　 ∧＿∧  \n　　　　　 ∧＿∧ 　（´<_｀ ）　 Welcome to My Coding Space!\n　　　　 （ ´_ゝ`）　/　 ⌒i     \n　　　　／　　　＼　 　  |　|     \n　　　 /　　 /￣￣￣￣/　　|  \n　 ＿_(__ﾆつ/　    ＿/ .| .|＿＿＿＿  \n　 　　　＼/＿＿＿＿/　（u　⊃  \n---------------------------------------------------------------------------------------------------*/\n\n\n\n\nint N, V[5010];\nint dp[5010][5010];\nmap<int, int> go;\n//---------------------------------------------------------------------------------------------------\nvoid _main() {\n    cin >> N;\n    rep(i, 0, N) cin >> V[i];\n    sort(V, V + N);\n\n    rrep(i, N - 1, 0) go[V[i]] = i;\n    rep(sec, 0, N) rep(fir, sec + 1, N) {\n        chmax(dp[sec][fir], 2);\n        int d = V[fir] - V[sec];\n        if (go.count(V[fir] + d)) chmax(dp[fir][go[V[fir] + d]], dp[sec][fir] + 1);\n    }\n\n    int ans = 0;\n    rep(sec, 0, N) rep(fir, sec + 1, N) chmax(ans, dp[sec][fir]);\n    cout << ans << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "//\n// Created by maze on 2019/11/03.\n//\n\n#include <bits/stdc++.h>\nusing namespace std;\n\n#define INF_LL (int64)le18\n#define INF (int32)le9\n#define REP(i, n) for(int64 i = 0; i < (n); i++)\n#define FOR(i, a, b) for(int64 i = (a); i < (b); i++)\n#define all(x) x.begin(), x.end()\n#define fs first\n#define sc second\n\nusing int32 = int_fast32_t;\nusing int64 = int_fast64_t;\nusing uint32 = uint_fast32_t;\nusing uint64 = uint_fast64_t;\nusing PII = pair<int32, int32>;\nusing PLL = pair<int64, int64>;\n\nconst double eps = 1e-10;\n\nclass UnionFind{\nprivate:\n  size_t n;\npublic:\n  vector<int32> par;\n  UnionFind(size_t n):n(n){\n    par.resize(n, -1);\n  }\n\n  int32 root(int32 x){\n    if(par[x] < 0)return x;\n    return par[x] = root(par[x]);\n  }\n\n  int32 size(int32 x){\n    return -par[root(x)];\n  }\n\n  bool unite(int32 x, int32 y){\n    x = root(x);\n    y = root(y);\n    if(x == y)return false;\n    if(size(x) < size(y))swap(x, y);\n    par[x] += par[y];\n    par[y] = x;\n    return true;\n  }\n\n  bool same(int32 x, int32 y){\n    return root(x) == root(y);\n  }\n\n};\n//\n//int main() {\n//  int64 n;\n//  cin >> n;\n//  map<int64, vector<PII>> mp;\n//  vector<int64> a(n);\n//  REP(i, n) cin >> a[i];\n//  sort(all(a));\n//  REP(i, n) {\n//    FOR(j, i+1, n) {\n//      if (abs(a[i]-a[j]) * 2 >= abs(a[0]-a.back())) continue;\n////      cout << i << \" \" << j << endl;\n//      mp[abs(a[i]-a[j])].emplace_back(i, j);\n//    }\n//  }\n//\n//  int64 res = 2;\n//  UnionFind uf(n);\n//  for (auto &v : mp) {\n//    for (auto &p : v.sc) {\n//      uf.unite(p.fs, p.sc);\n//      res = max(res, (int64)max(uf.size(p.fs), uf.size(p.sc)));\n//    }\n//\n//    for (auto &p : v.sc) {\n//      uf.par[p.fs] = -1;\n//      uf.par[p.sc] = -1;\n//    }\n//  }\n//  cout << res << endl;\n//}\n\nint main(void) {\n  int64 n;\n  cin >> n;\n  vector<int64> a(n);\n  REP(i, n) cin >> a[i];\n\n  sort(all(a));\n  int64 res = 0;\n  REP(i, n) {\n    FOR(j, i+1, n) {\n      int64 d =a[j] - a[i];\n      int64 cnt = 2;\n      if (*lower_bound(all(a), a[i]-d) == a[i]-d) continue;\n      int64 v = a[j];\n      while (*lower_bound(all(a), v+d) == v+d) {\n        v += d;\n        cnt++;\n      }\n      res = max(res, cnt);\n    }\n  }\n  cout << res << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<cstdio>\n#include<vector>\n#include<cmath>\n#include<algorithm>\n#include<functional>\n#include<iomanip>\n#include<queue>\n#include<ciso646>\n#include<random>\n#include<map>\n#include<set>\n#include<complex>\n#include<bitset>\n#include<stack>\n#include<unordered_map>\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned int ui;\nconst ll mod = 1000000007;\nconst ll INF = (ll)1000000007 * 1000000007;\ntypedef pair<int, int> P;\n#define stop char nyaa;cin>>nyaa;\n#define rep(i,n) for(int i=0;i<n;i++)\n#define per(i,n) for(int i=n-1;i>=0;i--)\n#define Rep(i,sta,n) for(int i=sta;i<n;i++)\n#define rep1(i,n) for(int i=1;i<=n;i++)\n#define per1(i,n) for(int i=n;i>=1;i--)\n#define Rep1(i,sta,n) for(int i=sta;i<=n;i++)\ntypedef long double ld;\ntypedef complex<ld> Point;\nconst ld eps = 1e-11;\nconst ld pi = acos(-1.0);\ntypedef pair<ll, ll> LP;\ntypedef pair<ld, ld> LDP;\ntypedef unsigned long long ul;\nll v[1 << 17];\nbool used[5000][5000];\nint main() {\n\tint n; cin >> n;\n\trep(i, n) {\n\t\tcin >> v[i];\n\t}\n\tsort(v, v + n);\n\tint out = 1;\n\trep(i, n) {\n\t\tRep(j, i + 1, n) {\n\t\t\tif (used[i][j])continue;\n\t\t\tvector<int> s;\n\t\t\tint dif = v[j] - v[i];\n\t\t\ts.push_back(i); s.push_back(j);\n\t\t\tint now = v[j] + dif;\n\t\t\twhile (true) {\n\t\t\t\tint id = lower_bound(v, v + n, now) - v;\n\t\t\t\tif (id < n&&v[id] == now) {\n\t\t\t\t\ts.push_back(id); now += dif;\n\t\t\t\t}\n\t\t\t\telse break;\n\t\t\t}\n\t\t\tout = max(out, (int)s.size());\n\t\t\trep(k, s.size()-1) {\n\t\t\t\tused[s[k]][s[k + 1]] = true;\n\t\t\t}\n\t\t}\n\t}\n\tcout << out << endl;\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <utility>\n\nusing Int = int;\n\nint main(){\n\tInt n;\n\tstd::cin >> n;\n\tstd::vector<Int> v(n);\n\tfor(Int &i : v) std::cin >> i;\n\tstd::sort(v.begin(), v.end());\n\tstd::vector<std::pair<Int, Int>> a(n * (n - 1) / 2);\n\tfor(int i = 0; i < n; ++i) for(int j = 0; j < i; ++j){\n\t\ta[i * (i - 1) / 2 + j].first = v[i] - v[j];\n\t\ta[i * (i - 1) / 2 + j].second = v[j];\n\t}\n\tstd::sort(a.begin(), a.end(), [](std::pair<Int, Int> &l, std::pair<Int, Int> &r){\n\t\tif(l.first < r.first) return true;\n\t\telse if(l.first == r.first){\n\t\t\tInt lr = l.second % r.first;\n\t\t\tInt rr = r.second % r.first;\n\t\t\tif(lr < rr) return true;\n\t\t\telse if(lr == rr) return l.second < r.second;\n\t\t\telse return false;\n\t\t}\n\t\telse return false;\n\t});\n\t\n\tstd::cout << [&a](){\n\t//\tfor(auto i : a) std::cout << i.first << ',' << i.second << std::endl;\n\t\tstd::pair<Int, Int> prev(0, 0);\n\t\tInt cnt = 0;\n\t\tInt max = 0;\n\t\tfor(auto i : a){\n\t\t\tif(i.first == prev.first && i.second == prev.first + prev.second){\n\t\t\t\t++cnt;\n\t\t\t\tif(max < cnt) max = cnt;\n\t\t\t}else{\n\t\t\t\tcnt = 0;\n\t\t\t}\n\t\t\tprev = i;\n\t\t}\n\t\treturn max + 2;\n\t}() << std::endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "// vvvvvvvvvvvv TEMPLATE vvvvvvvvvvvv\n#include <bits/stdc++.h>\nusing namespace std; using ll = long long; using P = pair<ll, ll>;\nconst ll linf = 1e18; const double eps = 1e-12, pi = acos(-1);\n#define FOR(i,a,b) for (ll i=(a),__last_##i=(b);i<__last_##i;i++)\n#define RFOR(i,a,b) for (ll i=(b)-1,__last_##i=(a);i>=__last_##i;i--)\n#define REP(i,n) FOR(i,0,n)\n#define RREP(i,n) RFOR(i,0,n)\n#define __GET_MACRO3(_1, _2, _3, NAME, ...) NAME\n#define each(i,a) for (auto&& i : a)\n#define rep(...) __GET_MACRO3(__VA_ARGS__, FOR, REP)(__VA_ARGS__)\n#define rrep(...) __GET_MACRO3(__VA_ARGS__, RFOR, RREP)(__VA_ARGS__)\n#define pb push_back\n#define eb emplace_back\n#define all(a) begin(a),end(a)\n#define chmin(x,v) x = min(x, v)\n#define chmax(x,v) x = max(x, v)\n#define min(x,y) (x < y ? x : y)\n#define max(x,y) (x < y ? y : x)\ntemplate<typename Head> void out(Head h) { cout << h << endl; } template<typename Head, typename... Tail>void out(Head h, Tail... t) { cout << h << \" \"; out(t...); }\ntemplate<typename T> istream& operator>>(istream& is, vector<T>& v) { each(x,v) is >> x; return is; }\ntemplate<typename T> ostream& operator<<(ostream& os, const vector<T>& v) { rep(i,v.size()) { if (i) os << \" \"; os << v[i]; } return os; }\ntemplate<typename T> ostream& operator<<(ostream& os, const vector<string>& v) { rep(i,v.size()) { if (i) os << endl; os << v[i]; } return os; }\ntemplate<typename T> ostream& operator<<(ostream& os, const vector<vector<T>>& v) { rep(i,v.size()) { if (i) os << endl; os << v[i]; } return os; }\nstruct yes_no : std::numpunct<char> { string_type do_truename() const { return \"Yes\"; } string_type do_falsename() const { return \"No\"; } };\nvoid solve(); int main() {\n  ios::sync_with_stdio(false); cin.tie(0); locale loc(locale(), new yes_no); cout.imbue(loc); cout << fixed << setprecision(10) << boolalpha;\n  solve();\n}\n// ^^^^^^^^^^^^ TEMPLATE ^^^^^^^^^^^^\n\nvoid solve() {\n  ll n; cin >> n;\n  vector<ll> a(n); cin >> a;\n  sort(all(a));\n  vector<vector<ll>> dp(n, vector<ll>(n, 0));\n  map<ll, ll> m;\n  rep(i, n) m[a[i]] = i;\n  rep(i, n) rep(j, i) {\n    dp[j][i] = 2;\n  }\n  rep(i, n) rep(j, n) {\n    if (dp[i][j] == 0) continue;\n    // cout << i << \" \" << j << \" \" << dp[i][j] << endl;\n    if (m.count(a[j] + a[j]-a[i]) > 0) {\n      ll nj = m[a[j] + a[j]-a[i]];\n      chmax(dp[j][nj], dp[i][j]+1);\n    }\n  }\n  ll ans = 1;\n  rep(i, n) rep(j, n) {\n    chmax(ans, dp[i][j]);\n  }\n  cout << ans << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <map>\n#include <algorithm>\nusing namespace std;\n\nvector<int> a;\nmap<int,int> ma;\n\nint dp[5100][5100] = {0};\nint rec(int i, int j) {\n    if (dp[i][j] != 0) return dp[i][j];\n    int val = a[i] * 2 - a[j];\n    if (!ma.count(val)) return 2;\n    int k = ma[val];\n    int res = rec(k, i) + 1;\n    return dp[i][j] = res;\n}\n\nint main() {\n    int N; cin >> N;\n    a.resize(N);\n    for (int i = 0; i < N; ++i) cin >> a[i];\n    sort(a.begin(), a.end());\n    \n    for (int i = 0; i < N; ++i) ma[a[i]] = i;\n    int res = 2;\n    for (int i = 0; i < N; ++i) {\n        for (int j = i + 1; j < N; ++j) {\n            res = max(res, rec(i, j));\n        }\n    }\n    cout << res << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nconst int MAXN = 5e3 + 7;\n\nint n, a[MAXN], ans;\nset<int> stk;\n\nint main() {\n    scanf(\"%d\", &n);\n    for(int i = 1;i <= n;i++) {\n        scanf(\"%d\", &a[i]);\n        stk.insert(a[i]);\n    }\n    //cout << n << endl;\n    sort(a+1, a+n+1);\n    ans = 0;\n    for(int i = 1;i <= n;i++) {\n        for(int j = i+1;j <= n;j++) {\n            if(n-j+2 <= ans) break;\n            //if(vis[i] && vis[j]) continue;\n            int val = a[j] - a[i];\n            int num = 2, tmp = a[j] + val;\n            //vis[i] = vis[j] = 1;\n            while(tmp <= a[n]) {\n                if(stk.count(tmp)) num++, tmp += val;\n                else break;\n            }\n            ans = max(ans, num);\n            if(ans == n-i+1) break;\n        }\n    }\n    printf(\"%d\\n\", ans);\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint n;\nint v[5000];\nint dp[5000][5000];    //dp[i][j] = {～, v[i], v[j]}, max-cnt\n\nvoid chmax(int &a, int b) {\n    a = max(a, b);\n}\n\nint main() {\n    int i, j;\n    \n    cin >> n;\n    for (i = 0; i < n; i++) {\n        cin >> v[i];\n    }\n    sort(v, v + n);\n    \n    for (i = 0; i < n; i++) {\n        for (j = i + 1; j < n; j++) {\n            dp[i][j] = 2;\n        }\n    }\n    \n    for (j = 1; j < n; j++) {\n        for (i = 0; i < j; i++) {\n            int d = v[j] - v[i];\n            int val = v[j] + d;\n            int index = lower_bound(v + j, v + n, val) - v;\n            if (index < n && v[index] == val) {\n                chmax(dp[j][index], dp[i][j] + 1);\n            }\n        }\n    }\n    \n    int ans = 0;\n    for (i = 0; i < n; i++) {\n        for (j = i + 1; j < n; j++) {\n            chmax(ans, dp[i][j]);\n        }\n    }\n    \n    cout << ans << endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\n#define MOD 1000000007\ntypedef long long ll;\ntypedef unsigned long long ull;\nconst long long INF=1e18;\n\n\n\nsigned main(){\n  ll n;\n  cin>>n;\n  vector<ll> a(n);\n  for(int i=0;i<n;i++){cin>>a[i];}\n  sort(a.begin(),a.end());\n  map<ll,ll> M;\n  for(int i=0;i<n;i++){M[a[i]]=i;}\n  vector<vector<ll>> dp(n,vector<ll>(n,1));\n  ll mx=2;\n  for(int i=0;i<n;i++){\n    for(int t=0;t<i;t++){\n      dp[i][t]=2;\n      ll A=a[i]-a[t];\n      if(M.count(a[t]-A)){\n\tdp[i][t]=1+dp[t][M[a[t]-A]];\n\tmx=max(mx,dp[i][t]);\n      }\n    }\n  }\n  cout<<mx<<endl;\n  \n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint n;\nint v[5010];\nmap<int, int> mp;\nint dp[5010][5010];\nint dfs(int i, int j) {\n\tif(dp[i][j]) return dp[i][j];\n\tif(mp.count(v[i] - (v[j] - v[i]))) {\n\t\tint k = mp[v[i] - (v[j] - v[i])];\n\t\tint ret = dfs(k, i);\n\t\treturn (dp[i][j] = max(dp[i][j], ret + 1));\n\t} else {\n\t\treturn (dp[i][j] = 2);\n\t}\n}\n\nint main() {\n\tcin >> n;\n\tfor(int i = 0; i < n; ++i) cin >> v[i];\n\tsort(v, v + n);\n\tfor(int i = 0; i < n; ++i) {\n\t\tmp[v[i]] = i;\n\t}\n\tint ans = 2;\n\tfor(int i = 0; i < n; ++i) {\n\t\tfor(int j = i + 1; j < n; ++j) {\n\t\t\tans = max(ans, dfs(i, j));\n\t\t}\t\n\t}\n\tcout << ans << '\\n';\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <string>\n#include <vector>\n#include <iostream>\n#include <queue>\n#include <functional>\n#include <algorithm>\n#include <random>\n#include <cmath>\n#include <climits>\nint lower_bound(const std::vector<int> &array, const int target) {\n\tint left = 0, right = array.size() - 1;\n\twhile (left < right) {\n\t\tif (array[(left + right) / 2] < target) {\n\t\t\tleft = (left + right) / 2 + 1;\n\t\t}\n\t\telse {\n\t\t\tright = (left + right) / 2;\n\t\t}\n\t}\n\treturn right;\n}\nint search(const int init, const int next, const std::vector<int> &numbers, std::vector<std::vector<bool>> &is_searched) {\n\tauto pos = lower_bound(numbers, next);\n\tif (numbers[pos] != next) return 1;\n\telse {\n\t\tif (is_searched[init][pos - init]) return 1;\n\t\telse {\n\t\t\tis_searched[init][pos - init] = true;\n\t\t\treturn search(pos, next - numbers[init] + next, numbers, is_searched) + 1;\n\t\t}\n\t}\n}\nint main() {\n\tint n; std::cin >> n;\n\tstd::vector<int> numbers(n); for (auto &n : numbers) std::cin >> n;\n\tstd::sort(numbers.begin(), numbers.end());\n\tstd::vector<std::vector<bool>> is_searched(n); for (auto i = 0; i < n; ++i) is_searched[i] = std::vector<bool>(n - i, false);\n\tauto max = 0;\n\tfor (auto i = 0; i < n; ++i) {\n\t\tfor (auto j = i + 1; j < n; ++j) {\n\t\t\tauto len = search(i, numbers[j], numbers, is_searched);\n\t\t\tif (len > max) max = len;\n\t\t}\n\t}\n\tstd::cout << max << std::endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\n#define F first\n#define S second\n#define pii pair<int, int>\n#define eb emplace_back\n#define all(v) v.begin(), v.end()\n#define rep(i, n) for (int i = 0; i < (n); ++i)\n#define rep3(i, l, n) for (int i = l; i < (n); ++i)\n#define sz(v) (int)v.size()\n#define inf (int)(1e9+7)\n#define abs(x) (x >= 0 ? x : -(x))\n#define ceil(a, b) a / b + !!(a % b)\ntemplate<typename T1, typename T2> inline bool chmin(T1 &a, T2 b) { if (a > b) { a = b; return 1; } return 0; }\ntemplate<typename T1, typename T2> inline bool chmax(T1 &a, T2 b) { if (a < b) { a = b; return 1; } return 0; }\ntemplate<typename T> T gcd(T a, T b) { if (b == 0) return a; return gcd(b, a % b); }\n\n\n\nint dp[5003][5003];\n\nint main() {\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    \n    \n    \n    int n;\n    cin >> n;\n    vector<int> v(n);\n    rep(i, n) cin >> v[i];\n    sort(all(v));\n    \n    set<int> s;\n    rep(i, n) s.insert(v[i]);\n    \n    map<int, int> mp;\n    rep(i, n) mp[v[i]] = i; // v[i]は1通り\n    \n    \n    fill_n(*dp, 5003 * 5003, 2);\n    int ans = 2;\n    \n    rep(j, n) rep3(i, j + 1, n) {\n        if (s.find(2 * v[i] - v[j]) != s.end()) {\n            int k = mp[2 * v[i] - v[j]];\n            chmax(dp[k][i], dp[i][j] + 1);\n            chmax(ans, dp[k][i]);\n        }\n    }\n    cout << ans << endl;\n}\n\n"
  },
  {
    "language": "Java",
    "code": "import java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.HashMap;\nimport java.util.HashSet;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Set;\nimport java.util.StringTokenizer;\n\npublic class Main {\n\t\n\tint N;\n\tint[] A;\n\tMap<Integer, Integer> nums ;\n\tint[][] memo;\n\t\n\tpublic void run() throws Exception{\n\t\tBufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\n\t\t\n\t\tN = Integer.parseInt(reader.readLine());\n\t\t\n\t\tStringTokenizer tok = new StringTokenizer(reader.readLine());\n\t\tnums = new HashMap<>(N * 2);\n\t\t\n\t\tmemo = new int[N][N];\n\t\tfor(int i = 0; i < N; i++) {\n\t\t\tfor(int j= 0; j< N; j++) {\n\t\t\t\tmemo[i][j] = -1;\n\t\t\t}\n\t\t}\n\t\t\n\t\tA = new int[N];\n\t\tfor(int i = 0; i < N; i++) {\n\t\t\tA[i] = Integer.parseInt(tok.nextToken());\n\t\t}\n\t\t\n\t\tArrays.sort(A);\n\t\t\n\t\tfor(int i = 0; i < N; i++) {\n\t\t\tnums.put(A[i], i);\n\t\t}\n\t\tint answer = 0;\n\t\tfor(int i = 0; i < N; i++) {\n\t\t\tfor(int j = i + 1; j < N; j++) {\n\t\t\t\tanswer = Math.max(answer, dfs(i, j) + 2);\n\t\t\t}\n\t\t}\n\t\tSystem.out.println(answer);\n\t}\n\t\n\tpublic int dfs(int i, int j) {\n\t\tif(memo[i][j] != -1) return memo[i][j];\n\t\t\n\t\tint diff = A[j] - A[i];\n\t\tInteger ni = nums.get(A[j] + diff);\n\t\tif(ni == null) {\n\t\t\treturn memo[i][j] = 0;\n\t\t}else {\n\t\t\treturn memo[i][j] = dfs(j, ni) + 1;\n\t\t}\n\t}\n\t\n\t\n\tpublic static void main(String[] args) throws Exception{\n\t\tnew Main().run();\n\t}\n}\n\n"
  },
  {
    "language": "Java",
    "code": "import java.io.PrintWriter;\nimport java.util.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        try (Scanner in = new Scanner(System.in); PrintWriter out = new PrintWriter(System.out)) {\n            int n = in.nextInt();\n            int[] v = new int[n];\n            Set<Integer> set = new HashSet<>();\n            for (int i = 0; i < n; i++) {\n                v[i] = in.nextInt();\n                set.add(v[i]);\n            }\n            for (int i = 1; i < n; i++) swap(v, (int) (Math.random() * (i - 1)), i);\n            Arrays.sort(v);\n\n            int ans = 2;\n            for (int i = 0; i < n; i++) {\n                for (int j = i + 1; j < n; j++) {\n                    int d = v[j] - v[i];\n                    if (set.contains(v[i] - d)) continue;\n                    int cnt = 2, cur = v[j];\n                    while (set.contains(cur + d)) {\n                        cur += d;\n                        cnt++;\n                    }\n                    ans = Math.max(ans, cnt);\n                }\n            }\n            out.println(ans);\n        }\n    }\n\n    private static void swap(int[] a, int x, int y) {\n        int t = a[x];\n        a[x] = a[y];\n        a[y] = t;\n    }\n}\n\n"
  },
  {
    "language": "Ruby",
    "code": "n,*a=$<.read.split.map &:to_i\nr=2\nh={}\na.sort!\na.each{|e|h[e]=1}\nn.times{|i|(i+1...n).each{|j|d=a[j]-a[i];r=[r,(2..1/0.0).find{|k|!h[a[i]+d*k]}].max}}\np r\n"
  },
  {
    "language": "Python",
    "code": "#!/usr/bin/python3\n\nimport os\nimport sys\n\n\ndef main():\n    N = read_int()\n    V = read_ints()\n    print(solve(N, V))\n\n\ndef solve(N, V):\n    V.sort()\n    pos = {}\n    for i, a in enumerate(V):\n        pos[a] = i\n    best = 2\n    done = [[False] * N for _ in range(N)]\n    for i in range(N):\n        a = V[i]\n        for j in range(i + 1, N):\n            if done[i][j]:\n                continue\n            b = V[j]\n            d = b - a\n            c = 2\n            done[i][j] = True\n            k = j\n            v = b + d\n            while v in pos:\n                done[k][pos[v]] = True\n                k = pos[v]\n                c += 1\n                v += d\n            best = max(best, c)\n    return best\n\n\n###############################################################################\n# AUXILIARY FUNCTIONS\n\nDEBUG = 'DEBUG' in os.environ\n\n\ndef inp():\n    return sys.stdin.readline().rstrip()\n\n\ndef read_int():\n    return int(inp())\n\n\ndef read_ints():\n    return [int(e) for e in inp().split()]\n\n\ndef dprint(*value, sep=' ', end='\\n'):\n    if DEBUG:\n        print(*value, sep=sep, end=end)\n\n\nif __name__ == '__main__':\n    main()\n\n"
  }
]