[
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main(){\n  int n,i,j,k,ans=0;cin>>n;\n  int a[n];\n  bool u[n],c[n],q[n];\n  for(i=0;i<n;i++) scanf(\"%d\",&a[i]);\n  memset(c,0,sizeof(c));\n  memset(q,0,sizeof(q));\n  for(i=0;i<n;i++){\n    if(q[i]) continue;\n    j=i;\n    memset(u,0,sizeof(u));\n    while(!((!u[j]&&q[j])||c[j])){\n      if(u[j]) c[j]=1;\n      u[j]=1;q[j]=1;     \n      j=(j+a[j])%n;\n    }\n  }\n  for(i=0;i<n;i++) ans+=c[i];\n  cout << ans << endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<algorithm>\n#include<functional>\n#include<memory>\n#include<stack>\n#include<queue>\n#include<vector>\n\nusing Weight = long long;\nusing Vertex = int;\nstruct Edge {Vertex from, to; Weight weight;};\nusing Graph = std::vector<std::vector<Edge>>;\n\n// ?????£?????????????§£ O(|V| + |E|)\nstd::vector<std::vector<Vertex>> strongly_connected_component(const Graph& G) {\n  std::vector<std::vector<Vertex>> scc;\n  std::stack<Vertex> S;\n  std::vector<bool> inS(G.size());\n  std::vector<int> num(G.size()), low(G.size());\n  int timer = 0;\n  // Tarjan\n  std::function<int(Vertex v)> dfs = [&](Vertex v){\n    num[v] = low[v] = ++timer;\n    S.push(v); inS[v] = true;\n    for(const auto& e: G[v]) {\n      if(!num[e.to])     low[v] = std::min(low[v], dfs(e.to));\n      else if(inS[e.to]) low[v] = std::min(low[v], num[e.to]);\n    }\n    if(num[v] == low[v]) {\n      scc.push_back(std::vector<Vertex>());\n      while(true) {\n        auto w = S.top(); S.pop(); inS[w] = false;\n        scc.back().push_back(w);\n        if(v == w) break;\n      }\n    }\n    return low[v];\n  };\n  for(Vertex v = 0; v < G.size(); ++v) if(!num[v]) dfs(v);\n  return scc;\n}\n\n#include<bits/stdc++.h>\nusing namespace std;\n\nint main() {\n  int N;\n  cin >> N;\n\n  Graph G(N);\n  for(auto i = 0; i < N; ++i) {\n    int a;\n    cin >> a;\n    G[i].push_back({i, (i+a)%N, 0});\n  }\n\n  int ans = 0;\n  for(auto v: strongly_connected_component(G)) if(v.size() != 1) ans += v.size();\n  cout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <iostream>\n#include <utility>\n#include <algorithm>\n#include <string>\n#include <deque>\n#include <queue>\n#include <tuple>\n#include <queue>\n#include <functional>\n#include <cmath>\n#include <iomanip>\n#include <map>\n#include <set>\n#include <numeric>\n#include <unordered_map>\n#include <unordered_set>\n#include <complex>\n#include <iterator>\n#include <array>\n#include <memory>\n#include <stack>\n#define vi vector<int>\n#define vvi vector<vector<int> >\n#define ll long long int\n#define vl vector<ll>\n#define vvl vector<vector<ll>>\n#define vb vector<bool>\n#define vc vector<char>\n#define vs vector<string>\n#define ld long double\n#define INF 1e9\n#define EPS 0.0000000001\n#define rep(i,n) for(int i=0;i<n;i++)\n#define loop(i,s,n) for(int i=s;i<n;i++)\n#define all(in) in.begin(), in.end()\ntemplate<class T, class S> void cmin(T &a, const S &b) { if (a > b)a = b; }\ntemplate<class T, class S> void cmax(T &a, const S &b) { if (a < b)a = b; }\n#define MAX 1e5 + 100\nusing namespace std;\n\ntypedef pair<int, int> pii;\ntypedef pair<double,double>pdd;\ntypedef pair<ll,ll>pll;\n#define int ll\nvi used(MAX,0);\nvi v(MAX,0);\nclass unionfind {\n    vector<int> par, rank, size_;//テゥツ?淌・ツコツヲテ」ツ?ァテ」ツ?ッテ」ツ?ェテ」ツ?湘」ツδ。テ」ツδ「テ」ツδェテ・ツ環ケテァツ篠?」ツつ津ィツ?ε」ツ?暗」ツつ凝」ツ?ェテ」ツつ詠ankテ」ツ?ョテ」ツ?凝」ツつ湘」ツつ甘」ツ?ォsizeテ」ツつ津、ツスツソテ」ツ??\npublic:\n    unionfind(int n) :par(n), rank(n), size_(n, 1) {\n        iota(all(par), 0);\n    }\n    int find(int x) {\n        if (par[x] == x)return x;\n        return par[x] = find(par[x]);\n    }\n    void unite(int x, int y) {\n        x = find(x), y = find(y);\n        if (x == y)return;\n        if (rank[x] < rank[y])swap(x, y);\n        par[y] = x;\n        size_[x] += size_[y];\n        if (rank[x] == rank[y])rank[x]++;\n    }\n    bool same(int x, int y) {\n        return find(x) == find(y);\n    }\n    int size(int x) {\n        return size_[find(x)];\n    }\n};\n\nsigned main(){\n    int n;cin>>n;\n    unionfind uni(MAX);\n    for(int i=0; i<n;i++){\n        cin>>v[i];\n        v[i]=(v[i]+i)%n;\n        uni.unite(v[i],i);\n    }\n    int ans=0;\n    vb var(MAX,true);\n    rep(_,n){\n        int i=_;\n        if(var[uni.find(_)]){\n            var[uni.find(_)]=false;\n            used[i]=1;\n            while(true){\n                int now=v[i];\n                if(used[now]==0)used[now]=used[i]+1;\n                else{\n                    ans+=used[i]-used[now]+1;\n                    break;\n                }\n                i=now;\n            }\n        }\n    }\n    //rep(i,n)cout<<i<<\" \"<<uni.find(i)<<\" \"<<used[i]<<endl;\n    cout<<ans<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <cstring>\n\nusing namespace std;\n\nconstexpr int MAX = 100000;\n\nint res;\nint num[MAX], visited[MAX];\n\nvoid dfs(int v, int c, const vector<int>& a)\n{\n    visited[v] = 0; num[v] = c;\n    int to = (v + a[v]) % a.size();\n    if (visited[to] == -1) {\n        dfs(to, c + 1, a);\n    } else if(visited[to] == 0) {\n        res += num[v] - num[to] + 1;\n    }\n    visited[v] = 1;\n}\n\nint main()\n{\n    int N;\n    cin >> N;\n    vector<int> a(N);\n    for (int i = 0; i < N; i++) {\n        cin >> a[i];\n    }\n    \n    memset(num, -1, sizeof(num));\n    memset(visited, -1, sizeof(visited));\n    \n    res = 0;\n    for (int i = 0; i < N; i++) {\n        if (visited[i] == -1) {\n            dfs(i, 1, a);\n        }\n    }\n    cout << res << endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define MAX 100000\n\nint a[MAX], x[MAX], y[MAX];\nint main(){\n\tint n;\n\tscanf(\"%d\", &n);\n\tfor(int i = 0;i < n;i++)scanf(\"%d\", &a[i]);\n\t\n\tfill(x, x+MAX, -1);\n\tfill(y, y+MAX, -1);\n\tint ans = 0;\n\tfor(int i = 0;i < n;i++){\n\t\tint p = i, cnt = 0;\n\t\twhile(x[p] == -1){\n\t\t\tx[p] = cnt++;\n\t\t\ty[p] = i;\n\t\t\tp = (p+a[p])%n;\n\t\t}\n\t\tif(y[p] == i)ans += cnt-x[p];\n\t}\n\tprintf(\"%d\\n\", ans);\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <cstring>\n\nusing namespace std;\n\nconstexpr int MAX = 100000;\n\nint res;\nint num[MAX], visited[MAX];\n\nvoid dfs(int v, int c, const vector<int>& a)\n{\n    visited[v] = 0; num[v] = c;\n    int to = (v + a[v]) % a.size();\n    if (visited[to] == -1) {\n        dfs(to, c + 1, a);\n    } else if(visited[to] == 0) {\n        res += num[v] - num[to] + 1;\n        return;\n    }\n    visited[v] = 1;\n}\n\nint main()\n{\n    int N;\n    cin >> N;\n    vector<int> a(N);\n    for (int i = 0; i < N; i++) {\n        cin >> a[i];\n    }\n    \n    memset(num, -1, sizeof(num));\n    memset(visited, -1, sizeof(visited));\n    \n    res = 0;\n    for (int i = 0; i < N; i++) {\n        if (visited[i] == -1) {\n            dfs(i, 1, a);\n        }\n    }\n    cout << res << endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define rep(a,b) for(int a=0; a<b; ++a)\n\nusing ll=long long;\n\ntemplate<typename T>\nusing vec=vector<T>;\n\nint main(void){\n\tint N; cin>>N;\n\tvec<int> a(N); rep(i,N) cin>>a[i];\n\t\n\tvec<vec<int>> gr(N);\n\tvec<int> in(N,0);\n\trep(i,N){\n\t\tgr[i].emplace_back((i+a[i])%N);\n\t\t++in[(i+a[i])%N];\n\t}\n\t\n\tvec<int> L;\n\tstack<int> S;\n\trep(i,N) if(in[i]==0) S.push(i);\n\t\n\twhile(!S.empty()){\n\t\tint now=S.top(); S.pop();\n\t\tL.emplace_back(now);\n\t\tfor(auto &e:gr[now]){\n\t\t\tif(--in[e]==0) S.push(e);\n\t\t}\n\t\tgr[now].clear();\n\t}\n\t\n\tcout<<N-L.size()<<endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#include \"bits/stdc++.h\"\n#define EPS 1e-10\nusing namespace std;\ntypedef long long llong;\nint main() {\n\tint n;\n\tcin >> n;\n\tvector<int>v(n), x(n, -1), y(n, -1);\n\tfor (int i = 0; i < n; i++)cin >> v[i];\n\n\tint cnt = 0;\n\tfor (int i = 0; i < n; i++) {\n\t\tint one = 0;\n\t\tint j = i;\n\t\tfor (; x[j] == -1; j = (j + v[j]) % n) {\n\t\t\tx[j] = one++;\n\t\t\ty[j] = i;\n\n\t\t}\n\t\tif (y[j] == i) {\n\t\t\tcnt += (one - x[j]);\n\t\t}\n\t}\n\tcout << cnt << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\n#define int long long\ntypedef vector<int>vint;\ntypedef pair<int,int>pint;\ntypedef vector<pint>vpint;\n#define rep(i,n) for(int i=0;i<(n);i++)\n#define reps(i,f,n) for(int i=(f);i<(n);i++)\n#define all(v) (v).begin(),(v).end()\n#define each(it,v) for(__typeof((v).begin()) it=(v).begin();it!=(v).end();it++)\n#define pb push_back\n#define fi first\n#define se second\ntemplate<typename A,typename B>inline void chmin(A &a,B b){if(a>b)a=b;}\ntemplate<typename A,typename B>inline void chmax(A &a,B b){if(a<b)a=b;}\n\nint N;\nint A[111111];\nint deg[111111];\n\nsigned main(){\n    cin>>N;\n    rep(i,N)cin>>A[i];\n    rep(i,N)deg[(i+A[i])%N]++;\n\n    queue<int>que;\n    rep(i,N)if(deg[i]==0)que.push(i);\n    while(que.size()){\n        int v=que.front();\n        que.pop();\n        if(--deg[(v+A[v])%N]==0)que.push((v+A[v])%N);\n    }\n    int ans=0;\n    rep(i,N)if(deg[i])ans++;\n    cout<<ans<<endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <iostream>\n#include <utility>\n#include <algorithm>\n#include <string>\n#include <deque>\n#include <queue>\n#include <tuple>\n#include <queue>\n#include <functional>\n#include <cmath>\n#include <iomanip>\n#include <map>\n#include <set>\n#include <numeric>\n#include <unordered_map>\n#include <unordered_set>\n#include <complex>\n#include <iterator>\n#include <array>\n#include <memory>\n#include <stack>\n#define vi vector<int>\n#define vvi vector<vector<int> >\n#define ll long long int\n#define vl vector<ll>\n#define vvl vector<vector<ll>>\n#define vb vector<bool>\n#define vc vector<char>\n#define vs vector<string>\n#define ld long double\n#define INF 1e9\n#define EPS 0.0000000001\n#define rep(i,n) for(int i=0;i<n;i++)\n#define loop(i,s,n) for(int i=s;i<n;i++)\n#define all(in) in.begin(), in.end()\ntemplate<class T, class S> void cmin(T &a, const S &b) { if (a > b)a = b; }\ntemplate<class T, class S> void cmax(T &a, const S &b) { if (a < b)a = b; }\n#define MAX 9999999\nusing namespace std;\ntypedef pair<int, int> pii;\ntypedef pair<double,double>pdd;\ntypedef pair<ll,ll>pll;\nvl used(100000+100,0);\nvi v(1000000+10,0);\nclass unionfind {\n    vector<int> par, rank, size_;//テゥツ?淌・ツコツヲテ」ツ?ァテ」ツ?ッテ」ツ?ェテ」ツ?湘」ツδ。テ」ツδ「テ」ツδェテ・ツ環ケテァツ篠?」ツつ津ィツ?ε」ツ?暗」ツつ凝」ツ?ェテ」ツつ詠ankテ」ツ?ョテ」ツ?凝」ツつ湘」ツつ甘」ツ?ォsizeテ」ツつ津、ツスツソテ」ツ??\npublic:\n    unionfind(int n) :par(n), rank(n), size_(n, 1) {\n        iota(all(par), 0);\n    }\n    int find(int x) {\n        if (par[x] == x)return x;\n        return par[x] = find(par[x]);\n    }\n    void unite(int x, int y) {\n        x = find(x), y = find(y);\n        if (x == y)return;\n        if (rank[x] < rank[y])swap(x, y);\n        par[y] = x;\n        size_[x] += size_[y];\n        if (rank[x] == rank[y])rank[x]++;\n    }\n    bool same(int x, int y) {\n        return find(x) == find(y);\n    }\n    int size(int x) {\n        return size_[find(x)];\n    }\n};\n\nint main(){\n    int n;cin>>n;\n    unionfind uni(n);\n    for(int i=0; i<n;i++){\n        cin>>v[i];\n        v[i]=(v[i]+i)%n;\n        uni.unite(v[i],i);\n    }\n    ll ans=0;\n    vb var(100000+10,true);\n    rep(i,n){\n        if(var[uni.find(i)]){\n            var[uni.find(i)]=false;\n            used[i]=1;\n            while(true){\n                int now=v[i];\n\n                if(used[now]==0)used[now]=used[i]+1;\n                else{\n                    ans+=used[i]-used[now]+1;\n                    break;\n                }\n                i=now;\n            }\n        }\n    }\n    //rep(i,n)cout<<i<<\" \"<<uni.find(i)<<\" \"<<used[i]<<endl;\n    cout<<ans<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "// clang-format off\n\n#include <bits/stdc++.h>\n\n#define int long long\n\n#define main signed main()\n\n// #define main int main()\n\n#define loop(i, a, n) for (int i = (a); i < (n); i++)\n\n#define rep(i, n) loop(i, 0, n)\n\n#define all(v) (v).begin(), (v).end()\n\n#define rall(v) (v).rbegin(), (v).rend()\n\n#define prec(n) fixed << setprecision(n)\n\n#define stlice(from, to) substr(from, (to) - (from) + 1)\n\n#define pb push_back\n\n#define mp make_pair\n\n#define mt make_tuple\n\n#define fi first\n\n#define se second\n\nusing namespace std;\n\ntypedef pair<int, int> pii;\n\ntypedef vector<int> vi;\n\ntypedef vector<double> vd;\n\ntypedef vector<char> vc;\n\ntypedef vector<bool> vb;\n\ntypedef vector<string> vs;\n\ntypedef vector<pii> vpii;\n\ntypedef vector<vi> vvi;\n\ntypedef vector<vb> vvb;\n\ntypedef vector<vpii> vvpii;\n\nconst int INF = sizeof(int) == sizeof(long long) ? 1000000000000000000LL : 1000000000;\n\nconst int MOD = 1000000007;\n\nconst double PI = acos(-1);\n\ntemplate<typename A, typename B> bool cmin(A &a, const B &b) { return a > b ? (a = b, true) : false; }\n\ntemplate<typename A, typename B> bool cmax(A &a, const B &b) { return a < b ? (a = b, true) : false; }\n\nbool odd(const int &n) { return n & 1; }\n\nbool even(const int &n) { return !odd(n); }\n\nvoid solve();\n\nmain { solve(); return 0; }\n\n// clang-format on\n\n\n\nvoid solve() {\n\n  int n;\n\n  cin >> n;\n\n  vi a(n);\n\n  rep(i, n) cin >> a[i];\n\n  vi hai(n);\n\n  rep(i, n) {\n\n    int x = i;\n\n    set<int> v;\n\n    v.insert(i);\n\n    for (;;) {\n\n      x = (x + a[x]) % n;\n\n      if (x == i) {\n\n        for (int p : v) hai[p] = true;\n\n      }\n\n      if (v.count(x)) break;\n\n      v.insert(x);\n\n    }\n\n  }\n\n  cout << count(all(hai), true) << endl;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\n\nint main (void){\n\tint N,root;\n\tint ans = 0;\n\tbool b1[100000]={};\n\tbool b2[100000]={};\n\tbool b3[100000]={};\n\tbool b4[100000]={};\n\tstatic int a[100000];\n\t\n\tcin >> N;\n\tfor(int i=0;i<N;i++){\n\t\tcin >> a[i];\n\t}\n\t\n\tfor(int i=0;i<N;i++){\n\t\troot = i;\n\t\tif(b2[root] == false){\n\t\t\twhile(1){\n\t\t\t\tif(b4[root] == false){\n\t\t\t\tif(b1[root]){\n\t\t\t\t\tif(b2[root]){\n\t\t\t\t\t\tif(b3[root]){\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tb3[root] = true;\n\t\t\t\t\t\t\tans++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tb2[root] = true;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tb1[root] = true;\n\t\t\t\t}\n\t\t\t\troot += a[root];\n\t\t\t\troot %= N;\n\t\t\t\t}else{break;}\n\t\t\t}\n\t\t\tb4[i] = true;\n\t\t}\n\t}\n\tcout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <queue>\n#include <algorithm>\n\nusing namespace std;\n\nint n, a[100000], v[100000];\n\nint main() {\n    cin >> n;\n    for (int i = 0; i < n; ++i)\n        cin >> a[i];\n    \n    for (int i = 0; i < n; ++i) {\n        if (v[i] == 0) {\n            int t = i;\n            queue<int> q;\n            while (1) {\n                if (v[t] == 1) { //?????????\n                    while (!q.empty()) {\n                        if (q.front() != t)\n                            v[q.front()] = 2;\n                        else\n                            break;\n                        q.pop();\n                    }\n                    break;\n                }\n                \n                v[t] = 1;\n                q.push(t);\n                \n                (t += a[t]) %= n;\n            }\n        }\n    }\n    \n    cout << count(v, v + n, 1) << endl;\n    \n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<map>\n#include<vector>\nusing namespace std;\nint S[200000], n, R[200000]; bool used[200000];\nint main() {\n\tcin >> n;\n\tfor (int i = 0; i < n; i++) { cin >> S[i]; S[i] %= n; }\n\tfor (int i = 0; i < n; i++) { R[i] = (i + S[i]) % n; }\n\tfor (int i = 0; i < n; i++) {\n\t\tif (used[i] == true)continue;\n\t\tmap<int, int>M; int c = i;\n\t\tvector<int>vec;\n\t\twhile (true) {\n\t\t\tif (used[c] == true)break;\n\t\t\tM[c]++; if (M[c] >= 3)break;\n\t\t\tif (M[c] == 2)vec.push_back(c);\n\t\t\tc = R[c];\n\t\t}\n\t\tfor (int j = 0; j < vec.size(); j++) {\n\t\t\tused[vec[j]] = true;\n\t\t}\n\t}\n\tint cnt = 0;\n\tfor (int i = 0; i < n; i++) { if (used[i] == true)cnt++; }\n\tcout << cnt << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\n\nint main (void){\n\tint N;\n\tint ans = 0;\n\tbool b[100000];\n\tbool fin = false;\n\tstatic int a[100000];\n\t\n\tcin >> N;\n\tfor(int i=0;i<N;i++){\n\t\tcin >> a[i];\n\t}\n\t\n\tfor(int i=0;i<N;i++){\n\t\t\n\t\tfor(int j=0;j<N;j++){\n\t\t\tb[j] = false;\n\t\t}\n\t\tint j=i;\n\t\twhile(1){\n\t\t\tj += a[j];\n\t\t\tif(j >= N){\n\t\t\t\tj -= N;\n\t\t\t}\n\t\t\tif(j == i){\n\t\t\t\tfin = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(b[j]){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tb[j] = true;\n\t\t}\n\t\tif(fin){\n\t\t\tans++;\n\t\t\tfin = false;\n\t\t}\n\t\t\n\t}\n\tcout << ans;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n#include<unordered_map>\n#include<unordered_set>\n#pragma warning(disable:4996)\nusing namespace std;\nstruct Dscc {\npublic:\n\n\t//fst:belongs , scd:newedges\n\tpair<vector<vector<int>>, vector<vector<int>>>get(const vector<vector<int>>&edges) {\n\t\tnums.resize(edges.size());\n\t\tfill(nums.begin(), nums.end(), -1);\n\t\tvector<vector<int>>revedges(edges.size());\n\t\tfor (int i = 0; i < edges.size(); ++i) {\n\t\t\tfor (auto j : edges[i]) {\n\t\t\t\trevedges[j].push_back(i);\n\t\t\t}\n\t\t}\n\t\tint num = 0;\n\t\tfor (int i = 0; i < edges.size(); ++i) {\n\t\t\tdfs(i, num, edges);\n\t\t}\n\t\tvector<int>big(nums.size());\n\t\tfor (int i = 0; i < nums.size(); ++i) {\n\t\t\tbig[nums[i]] = i;\n\t\t}\n\t\treverse(big.begin(), big.end());\n\t\tunis.resize(edges.size());\n\t\tfill(unis.begin(), unis.end(), -1);\n\t\tnum = 0;\n\t\tfor (int i = 0; i < big.size(); ++i) {\n\n\t\t\tdfs2(big[i], num, revedges);\n\t\t\tnum++;\n\t\t}\n\t\tvector<int>nums;\n\t\tfor (int i = 0; i < unis.size(); ++i) {\n\t\t\tnums.push_back(unis[i]);\n\t\t}\n\t\tsort(nums.begin(), nums.end());\n\t\tnums.erase(unique(nums.begin(), nums.end()), nums.end());\n\n\n\t\tmap<int, int>mp;\n\t\tfor (int i = 0; i < nums.size(); ++i) {\n\t\t\tmp[nums[i]] = i;\n\t\t}\n\t\tfor (int i = 0; i < unis.size(); ++i) {\n\t\t\tunis[i] = mp[unis[i]];\n\t\t}\n\n\t\tvector<vector<int>>belongs(nums.size());\n\t\tfor (int i = 0; i < unis.size(); ++i) {\n\t\t\tbelongs[unis[i]].push_back(i);\n\t\t}\n\t\tvector<vector<int>>newedges(nums.size());\n\t\tfor (int i = 0; i < edges.size(); ++i) {\n\t\t\tfor (auto j : edges[i]) {\n\t\t\t\tif (unis[i] != unis[j]) {\n\t\t\t\t\tnewedges[unis[i]].push_back(unis[j]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn make_pair(belongs, newedges);\n\t}\nprivate:\n\tvector<int>nums;\n\tvector<int>unis;\n\n\n\tvoid dfs(const int id, int &num, const vector<vector<int>>&edges) {\n\t\tif (nums[id] != -1)return;\n\t\telse {\n\t\t\tnums[id] = -2;\n\t\t\tfor (auto i : edges[id]) {\n\t\t\t\tdfs(i, num, edges);\n\t\t\t}\n\t\t}\n\t\tnums[id] = num++;\n\t\treturn;\n\t}\n\tvoid dfs2(const int id, const int &num, const vector<vector<int>>&edges) {\n\t\tif (unis[id] != -1)return;\n\t\telse {\n\t\t\tunis[id] = -2;\n\t\t\tfor (auto i : edges[id])\n\t\t\t\tdfs2(i, num, edges);\n\t\t}\n\t\tunis[id] = num;\n\t\treturn;\n\t}\n\n}dscc;\n\nint main() {\n\tint N; cin >> N;\n\tvector<vector<int>>edges(N);\n\tfor (int i = 0; i < N; ++i) {\n\t\tint a; cin >> a;\n\t\tedges[i].push_back((i + a) % N);\n\t}\n\tauto p = dscc.get(edges);\n\tint ans = 0;\n\tfor (int i = 0; i < p.second.size(); ++i) {\n\t\tif (p.second[i].empty())ans += p.first[i].size();\n\t}\n\tcout << ans << endl;\n\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<stack>\n#define N 100001\nusing namespace std;\nstack<int> s;\nbool t[N],evis[N],vis[N];\nint nex[N],n,a;\nvoid DFS(int key){\n\tif(vis[key]){\n\t\twhile(!s.empty()){\n\t\t\tt[s.top()]=true;\n\t\t\tif(s.top()==key)break;\n\t\t\ts.pop();\n\t\t}\n\t\treturn;\n\t}\n\tif(evis[key])return;\n\tvis[key]=true;\n\tevis[key]=true;\n\ts.push(key);\n\tDFS(nex[key]);\n}\nint main(){\n\tcin>>n;\n\tfor(int i=0;i<n;i++){\n\t\tcin>>a;\n\t\ta+=i;\n\t\tif(a>=n)a-=n;\n\t\tnex[i]=a;\n\t\tt[i]=false;\n\t\tevis[i]=false;\n\t}\n\tfor(int i=0;i<n;i++){\n\t\twhile(!s.empty())s.pop();\n\t\tif(!evis[i]){\n\t\t\tfor(int j=0;j<n;j++)vis[j]=false;\n\t\t\tDFS(i);\n\t\t}\n\t}\n\ta=0;\n\tfor(int i=0;i<n;i++){\n\t\tif(t[i])a++;\n\t}\n\tcout<<a<<endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> P;\n\nll ans;\nint cnt[100005];\nint id[100005];\n\nint main() {\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n\n    int N; cin >> N;\n\n    int a[100005]; \n    for (int i = 0;i < N;i++){\n        cin >> a[i];\n    }\n\n    memset(cnt,-1,sizeof(cnt));\n    memset(id,-1,sizeof(id));\n\n    ans = 0;\n\n    for (int i = 0;i < N;i++){\n        int pos = i;\n        int depth = 0;\n        while(cnt[pos] == -1){\n            cnt[pos] = depth;\n            id[pos] = i;\n            pos = (pos+a[pos])%N;\n            depth++;\n        }\n        if(id[pos] == i) ans += (depth-cnt[pos]);\n    }\n\n    cout << ans << endl;\n\n    return 0;\n\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\nint n;\n#define MAX 100005\nint a[MAX], x[MAX], y[MAX];\n\nint main() {\n\tcin >> n;\n\tfor (int i = 0; i < n; i++)cin >> a[i];\n\tmemset(x, -1, sizeof(x));\n\tmemset(y, -1, sizeof(y));\n\tint ans = 0;\n\tfor (int i = 0; i < n; i++) {\n\t\tint p = i, c = 0;\n\t\twhile (x[p] == -1) {\n\t\t\tx[p] = c++;\n\t\t\ty[p] = i;\n\t\t\tp = (p + a[p]) % n;\n\t\t}\n\t\tif (y[p] == i)ans += (c - x[p]);\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\n\nint main (void){\n\tint N,root;\n\tint ans = 0;\n\tbool b1[100000]={};\n\tbool b2[100000]={};\n\tbool b3[100000]={};\n\tstatic int a[100000];\n\t\n\tcin >> N;\n\tfor(int i=0;i<N;i++){\n\t\tcin >> a[i];\n\t}\n\t\n\tfor(int i=0;i<N;i++){\n\t\troot = i;\n\t\tif(b2[root] == false){\n\t\t\twhile(1){\n\t\t\t\tif(b1[root]){\n\t\t\t\t\tif(b2[root]){\n\t\t\t\t\t\tif(b3[root]){\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tb3[root] = true;\n\t\t\t\t\t\t\tans++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tb2[root] = true;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tb1[root] = true;\n\t\t\t\t}\n\t\t\t\troot += a[root];\n\t\t\t\troot %= N;\n\t\t\t}\n\t\t}\n\t}\n\tcout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#include <cstdio>\n#include <iostream>\n#include <sstream>\n#include <fstream>\n#include <iomanip>\n#include <algorithm>\n#include <cmath>\n#include <complex>\n#include <string>\n#include <vector>\n#include <list>\n#include <queue>\n#include <stack>\n#include <set>\n#include <map>\n#include <bitset>\n#include <numeric>\n#include <limits>\n#include <climits>\n#include <cfloat>\n#include <functional>\n#include <iterator>\nusing namespace std;\n\nint main()\n{\n    int n;\n    cin >> n;\n    vector<int> a(n);\n    vector<int> v(n, 0);\n    for(int i=0; i<n; ++i){\n        cin >> a[i];\n        a[i] += i;\n        a[i] %= n;\n        ++ v[a[i]];\n    }\n\n    queue<int> q;\n    for(int i=0; i<n; ++i){\n        if(v[i] == 0)\n            q.push(i);\n    }\n\n    int ans = n;\n    while(!q.empty()){\n        int i = q.front();\n        q.pop();\n        -- ans;\n        -- v[a[i]];\n        if(v[a[i]] == 0)\n            q.push(a[i]);\n    }\n    cout << ans << endl;\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#include <assert.h>\nusing namespace std;\nusing i64 = long long;\n\nvector<i64> edge, cnt;\nset<i64> s;\n\ni64 dfs(i64 now)\n{\n  if (2 <= cnt[now] || cnt[now] == -1)\n    return 0;\n  cnt[now]++;\n  s.insert(now);\n  dfs(edge[now]);\n  return 0;\n}\n\nint main()\n{\n  i64 n;\n  cin >> n;\n  edge.resize(n);\n  for (i64 i = 0; i < n; i++)\n  {\n    i64 a;\n    cin >> a;\n    edge[i] = (i + a) % n;\n  }\n  cnt.resize(n);\n  for (i64 i = 0; i < n; i++)\n  {\n    if (cnt[i] == 0)\n      dfs(i);\n    for (i64 j : s)\n      if (cnt[j] == 1)\n        cnt[j] = -1;\n    s.clear();\n  }\n  i64 ans = 0;\n  for (i64 i = 0; i < n; i++)\n    if (2 <= cnt[i])\n      ans++;\n  cout << ans << endl;\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n\nusing namespace std;\n\nconstexpr int MAX = 100000;\n\nint res;\nint num[MAX], visited[MAX];\n\nvoid dfs(int v, int c, const vector<int>& a)\n{\n    visited[v] = 0; num[v] = c;\n    int to = (v + a[v]) % a.size();\n    if (visited[to] == -1) {\n        dfs(to, c + 1, a);\n    } else if(visited[to] == 0) {\n        res += num[v] - num[to] + 1;\n        return;\n    }\n    visited[v] = 1;\n}\n\nint main()\n{\n    int N;\n    cin >> N;\n    vector<int> a(N);\n    for (int i = 0; i < N; i++) {\n        cin >> a[i];\n    }\n    \n    memset(num, -1, sizeof(num));\n    memset(visited, -1, sizeof(visited));\n    \n    res = 0;\n    for (int i = 0; i < N; i++) {\n        if (visited[i] == -1) {\n            dfs(i, 1, a);\n        }\n    }\n    cout << res << endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\n\nint main (void){\n\tint N;\n\tint ans = 0;\n\tbool b[100000]={};\n\tbool g[100000]={};\n\tbool s[100000]={};\n\tbool fin = false;\n\tstatic int a[100000];\n\t\n\tcin >> N;\n\tfor(int i=0;i<N;i++){\n\t\tcin >> a[i];\n\t}\n\t\n\tfor(int i=0;i<N;i++){\n\t\tint j=i;\n\t\twhile(1){\n\t\t\tj += a[j];\n\t\t\tj %= N;\n\t\t\tif(g[j]){\n\t\t\t\tfin = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(j == i){\n\t\t\t\tg[j] = true;\n\t\t\t\tfin = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(s[j]){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(b[j]){\n\t\t\t\ts[j] = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tb[j] = true;\n\t\t}\n\t\tif(fin){\n\t\t\tans++;\n\t\t\tfin = false;\n\t\t}\n\t\t\n\t}\n\tcout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\n\nint main (void){\n\tint N;\n\tint ans = 0;\n\tbool b[100000];\n\tbool fin = false;\n\tstatic int a[100000];\n\t\n\tcin >> N;\n\tfor(int i=0;i<N;i++){\n\t\tcin >> a[i];\n\t}\n\t\n\tfor(int i=0;i<N;i++){\n\t\t\n\t\tfor(int j=0;j<N;j++){\n\t\t\tb[j] = false;\n\t\t}\n\t\tint j=i;\n\t\twhile(1){\n\t\t\tj += a[j];\n\t\t\tif(j >= N){\n\t\t\t\tj -= N;\n\t\t\t}\n\t\t\tif(j == i){\n\t\t\t\tfin = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(b[j]){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tb[j] = true;\n\t\t}\n\t\tif(fin){\n\t\t\tans++;\n\t\t\tfin = false;\n\t\t}\n\t\t\n\t}\n\tcout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<map>\n#include<vector>\nusing namespace std;\nint S[200000], n; bool used[200000];\nint main() {\n\tcin >> n;\n\tfor (int i = 0; i < n; i++) { cin >> S[i]; S[i] %= n; }\n\tfor (int i = 0; i < n; i++) {\n\t\tif (used[i] == true)continue;\n\t\tmap<int, int>M; int c = i;\n\t\tvector<int>vec;\n\t\twhile (true) {\n\t\t\tif (used[c] == true)break;\n\t\t\tM[c]++; if (M[c] >= 4)break;\n\t\t\tif (M[c] == 2)vec.push_back(c);\n\t\t\tc = (c + S[c]) % n;\n\t\t}\n\t\tfor (int j = 0; j < vec.size(); j++) {\n\t\t\tused[vec[j]] = true;\n\t\t}\n\t}\n\tint cnt = 0;\n\tfor (int i = 0; i < n; i++) { if (used[i] == true)cnt++; }\n\tcout << cnt << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "// clang-format off\n#include <bits/stdc++.h>\n#define int long long\n#define main signed main()\n// #define main int main()\n#define loop(i, a, n) for (int i = (a); i < (n); i++)\n#define rep(i, n) loop(i, 0, n)\n#define all(v) (v).begin(), (v).end()\n#define rall(v) (v).rbegin(), (v).rend()\n#define prec(n) fixed << setprecision(n)\n#define stlice(from, to) substr(from, (to) - (from) + 1)\n#define pb push_back\n#define mp make_pair\n#define mt make_tuple\n#define fi first\n#define se second\nusing namespace std;\nusing pii = pair<int, int>;\nusing vi = vector<int>;\nusing vd = vector<double>;\nusing vc = vector<char>;\nusing vb = vector<bool>;\nusing vs = vector<string>;\nusing vpii = vector<pii>;\nusing vvi = vector<vi>;\nusing vvb = vector<vb>;\nusing vvpii = vector<vpii>;\ntemplate<typename A> using fn = function<A>;\nconstexpr int INF = sizeof(int) == sizeof(long long) ? 1000000000000000000LL : 1000000000;\nconstexpr int MOD = 1000000007;\nconstexpr double PI = acos(-1);\ntemplate<typename A, typename B> bool cmin(A &a, const B &b) { return a > b ? (a = b, true) : false; }\ntemplate<typename A, typename B> bool cmax(A &a, const B &b) { return a < b ? (a = b, true) : false; }\nconstexpr bool odd(const int &n) { return n & 1; }\nconstexpr bool even(const int &n) { return !odd(n); }\nvoid solve();\nmain { solve(); return 0; }\n// clang-format on\n\nvoid solve() {\n  int n;\n  cin >> n;\n  vi a(n), p(n, -INF), q(n, -INF);\n  rep(i, n) cin >> a[i];\n  int s = 0;\n  rep(i, n) {\n    int x = i, c = 0;\n    for (; p[x] < 0; c++) {\n      p[x] = c;\n      q[x] = i;\n      x    = (x + a[x]) % n;\n    }\n    if (q[x] == i) s += c - p[x];\n  }\n  cout << s << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <iostream>\n#include <utility>\n#include <algorithm>\n#include <string>\n#include <deque>\n#include <queue>\n#include <tuple>\n#include <queue>\n#include <functional>\n#include <cmath>\n#include <iomanip>\n#include <map>\n#include <set>\n#include <numeric>\n#include <unordered_map>\n#include <unordered_set>\n#include <complex>\n#include <iterator>\n#include <array>\n#include <memory>\n#include <stack>\n#define vi vector<int>\n#define vvi vector<vector<int> >\n#define ll long long int\n#define vl vector<ll>\n#define vvl vector<vector<ll>>\n#define vb vector<bool>\n#define vc vector<char>\n#define vs vector<string>\n#define ld long double\n#define INF 1e9\n#define EPS 0.0000000001\n#define rep(i,n) for(int i=0;i<n;i++)\n#define loop(i,s,n) for(int i=s;i<n;i++)\n#define all(in) in.begin(), in.end()\ntemplate<class T, class S> void cmin(T &a, const S &b) { if (a > b)a = b; }\ntemplate<class T, class S> void cmax(T &a, const S &b) { if (a < b)a = b; }\n#define MAX 1e5 + 100\nusing namespace std;\n\ntypedef pair<int, int> pii;\ntypedef pair<double,double>pdd;\ntypedef pair<ll,ll>pll;\n#define int ll\nvi used(MAX,0);\nvi v(MAX,0);\nclass unionfind {\n    vector<int> par, rank, size_;//テゥツ?淌・ツコツヲテ」ツ?ァテ」ツ?ッテ」ツ?ェテ」ツ?湘」ツδ。テ」ツδ「テ」ツδェテ・ツ環ケテァツ篠?」ツつ津ィツ?ε」ツ?暗」ツつ凝」ツ?ェテ」ツつ詠ankテ」ツ?ョテ」ツ?凝」ツつ湘」ツつ甘」ツ?ォsizeテ」ツつ津、ツスツソテ」ツ??\npublic:\n    unionfind(int n) :par(n), rank(n), size_(n, 1) {\n        iota(all(par), 0);\n    }\n    int find(int x) {\n        if (par[x] == x)return x;\n        return par[x] = find(par[x]);\n    }\n    void unite(int x, int y) {\n        x = find(x), y = find(y);\n        if (x == y)return;\n        if (rank[x] < rank[y])swap(x, y);\n        par[y] = x;\n        size_[x] += size_[y];\n        if (rank[x] == rank[y])rank[x]++;\n    }\n    bool same(int x, int y) {\n        return find(x) == find(y);\n    }\n    int size(int x) {\n        return size_[find(x)];\n    }\n};\n\nsigned main(){\n    int n;cin>>n;\n    unionfind uni(MAX);\n    for(int i=0; i<n;i++){\n        cin>>v[i];\n        v[i]=(v[i]+i)%n;\n        uni.unite(v[i],i);\n    }\n    int ans=0;\n    vb var(MAX,true);\n    rep(i,n){\n        if(var[uni.find(i)]){\n            var[uni.find(i)]=false;\n            used[i]=1;\n            while(true){\n                int now=v[i];\n                \n                if(used[now]==0)used[now]=used[i]+1;\n                else{\n                    ans+=used[i]-used[now]+1;\n                    break;\n                }\n                i=now;\n            }\n        }\n    }\n    //rep(i,n)cout<<i<<\" \"<<uni.find(i)<<\" \"<<used[i]<<endl;\n    cout<<ans<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include<vector>\n#include<algorithm>\n#include<string>\n#include<map>\n#include<set>\n#include<stack>\n#include<queue>\n#include<math.h>\nusing namespace std;\ntypedef long long ll;\n#define int long long\ntypedef vector<int> VI;\ntypedef pair<int, int> pii;\n#define fore(i,a) for(auto &i:a)\n#define REP(i,n) for(int i=0;i<n;i++)\n#define eREP(i,n) for(int i=0;i<=n;i++)\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define eFOR(i,a,b) for(int i=(a);i<=(b);++i)\n#define SORT(c) sort((c).begin(),(c).end())\n#define rSORT(c) sort((c).rbegin(),(c).rend())\n#define LB(x,a) lower_bound((x).begin(),(x).end(),(a))\n#define UB(x,a) upper_bound((x).begin(),(x).end(),(a))\n#define INF 1000000000\n#define LLINF 9223372036854775807\n#define mod 1000000007\n//vector<vector<int> > dp;\n//vector<vector<vector<int> > > vvvi;\n//dp=vector<vector<int> >(N, vector<int>(M,0));\n//vector<pair<int,int> > v;\n//v.push_back(make_pair(x,y));\n//priority_queue<int,vector<int>, greater<int> > q2;\n\n\n\nsigned main(){\ncin.tie(0);\nios::sync_with_stdio(false);\n\n\tint N;\t\n\tcin >> N;\n\tVI in(N,0),P(N);\n\t\n\tREP(i, N) {\n\t\tint v;\n\t\tcin >> v;\n\t\tv = (i + v) % N;\n\t\tP[i] = v;\n\t\tin[v]++;\n\t}\n\tqueue<int> Q;\n\tREP(i, N)if (in[i] == 0)Q.push(i);\n\tint res = 0;\n\twhile (!Q.empty()) {\n\t\tint u = Q.front();\n\t\tQ.pop();\n\t\tres++;\n\t\tint v = P[u];\n\t\tin[v]--;\n\t\tif (in[v] == 0)Q.push(v);\n\t}\n\n\tcout << N - res << endl;\n\n\treturn 0;\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\nusing namespace std;\nint main(){\n\tint n,ans=0;\n\tcin>>n;\n\tvector<int>a(n),c(n);\n\tfor(int i=0;i<n;i++){\n\t\tcin>>a[i];\n\t\tc[i]=0;\n\t}\n\tfor(int here=0;here<n;here++){\n\t\tif(!c[here]){\n\t\t\twhile(c[here]<3){\n\t\t\t\tc[here]++;\n\t\t\t\there=(here+a[here])%n;\n\t\t\t}\n\t\t\tfor(int j=0;j<n;j++){\n\t\t\t\tif(c[j]==2||c[j]==3)ans++;\n\t\t\t\tif(c[j])c[j]=10;\n\t\t\t}\n\t\t}\n\t}\n\tcout<<ans<<endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> pii;\ntypedef pair<ll,int> plli;\ntypedef pair<int,pii> pipii;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\ntypedef vector<vi> vvi;\ntypedef vector<vvi> vvvi;\ntypedef vector<pii> vpii;\n\n#define int long long\n#define rep(i,n) for (int i=0;i<(n);i++)\n#define rep2(i,a,b) for (int i=(a);i<(b);i++)\n#define rrep(i,n) for (int i=(n);i>=0;i--)\n#define rrep2(i,a,b) for (int i=(a);i>b;i--)\n#define pb push_back\n#define fi first\n#define se second\n#define all(a) (a).begin(),(a).end()\n\nconst ll mod = 1e9 + 7;\nconst ll INF = 1<<30;\nconst int dx4[4] = {1, 0, -1, 0};\nconst int dy4[4] = {0, 1, 0, -1};\nconst int dx8[8] = {1, 1, 1, 0, 0, -1, -1, -1};\nconst int dy8[8] = {0, 1, -1, 1, -1, 0, 1, -1};\nconst double pi = 3.141592653589793;\n\nint  n;\nint a[100000+5];\nbool before[100000+5];\nbool after[100000+5];\nint cnt[100000+5];\n\nsigned main(){\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    cin >> n;\n    rep(i,n) cin >> a[i];\n    int ans=0;\n    rep(i,n){\n        if (before[i]) continue;\n        int total=1;\n        int now=i;\n        vector<int> path;\n        bool flag=false;\n        while (true){\n            if (after[now]) break;\n            if (before[now] && !after[now]){\n                flag=true;\n                break;\n            }\n            before[now]=true;\n            cnt[now]=total;\n            path.pb(now);\n            now=(now+a[now])%n;\n            total++;\n        }\n        for (auto i: path) after[i]=true;\n        if (flag) ans+=total-cnt[now];\n    }\n    cout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<functional>\n#include<algorithm>\nusing namespace std;\nint main(void)\n{\n\tint n,i,j,a[100000],flg[100000],p,x,cnt,st;\n\tscanf(\"%d\",&n);\n\tfor(i=0;i<n;i++)\tscanf(\"%d\",&a[i]);\n\tfor(i=0;i<n;i++)\tflg[i]=-1;\n\tp=1;\n\tcnt=0;\n\tfor(i=0;i<n;i++)\t{\n\t\tif(flg[i]==-1)\t{\n\t\t\tx=i;\n\t\t\tflg[i]=p;\n\t\t\tst=p;\n\t\t\tp++;\n\t\t\twhile(1)\t{\n\t\t\t\tx=(x+a[x])%n;\n//\t\t\t\tprintf(\"x=%d\\n\",x);\n\t\t\t\tif(flg[x]!=-1)\tbreak;\n\t\t\t\tflg[x]=p;\n\t\t\t\tp++;\n\t\t\t}\n\t\t\tif(flg[x]>=st)\tcnt+=p-flg[x];\n\t\t}\n\t}\n\tprintf(\"%d\\n\",cnt);\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<n;++i)\n#define rrep(i,n) for(int i=n-1;i>=0;--i)\n#define yesno(flg) if(flg){cout<<\"yes\"<<endl;}else{cout<<\"no\"<<endl;}\n#define vi vector<int>\n#define MAX_N 200005\n#define i197 1000000007\n\nusing namespace std;\n\n\ntypedef long long ll;\ntypedef pair<ll,ll> P1;\ntypedef pair<int,P1> P2;\nconst int inf=1000000000;\nP1 xy[MAX_N]={};\nbool dp[100001]={};\n\nint main() {\n\tint n;\n\tcin>>n;\n\tint a[100001];\n\trep(i,n)cin>>a[i];\n\tint t=0;\n\n\trep(i,n){\n\t\tif(dp[i])continue;\n\t\tbool dp2[100001]={};\n\t\tdp[i]=true;\n\t\tdp2[i]=true;\n\t\tint k=(i+a[i])%n;\n\t\twhile(1){\n\t\t\tif(dp2[k]){\n\t\t\t\tif(k==i){\n\t\t\t\t\t//success\n\t\t\t\t\trep(j,n){\n\t\t\t\t\t\tif(dp2[j]){\n\t\t\t\t\t\t\tt++;\n\t\t\t\t\t\t\tdp[j]=true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(dp[k]){\n//\t\t\t\trep(j,n){\n//\t\t\t\t\tif(dp2[j])dp[j]=true;\n//\t\t\t\t\t//false\n//\t\t\t\t}\n//\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdp2[k]=true;\n\t\t\tk=(k+a[k])%n;\n\t\t}\n\t}\n\tcout<<t<<endl;\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\n\nint main (void){\n\tint N,root;\n\tint ans = 0;\n\tbool b1[100000]={};\n\tbool b2[100000]={};\n\tbool b3[100000]={};\n\tstatic int a[100000];\n\t\n\tcin >> N;\n\tfor(int i=0;i<N;i++){\n\t\tcin >> a[i];\n\t}\n\t\n\tfor(int i=0;i<N;i++){\n\t\troot = i;\n\t\tif(b2[root] == false){\n\t\t\twhile(1){\n\t\t\t\tif(b1[root]){\n\t\t\t\t\tif(b2[root]){\n\t\t\t\t\t\tif(b3[root]){\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tb3[root] = true;\n\t\t\t\t\t\t\tans++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tb2[root] = true;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tb1[root] = true;\n\t\t\t\t}\n\t\t\t\troot += a[root];\n\t\t\t\troot %= N;\n\t\t\t}\n\t\t}\n\t}\n\tcout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#include \"bits/stdc++.h\"\n#define EPS 1e-10\nusing namespace std;\ntypedef long long llong;\nint main() {\n\tint n;\n\tcin >> n;\n\tvector<int>v(n), x(n, -1), y(n, -1);\n\tfor (int i = 0; i < n; i++)cin >> v[i];\n\n\tint cnt = 0;\n\tfor (int i = 0; i < n; i++) {\n\t\tint one = 0;\n\t\tint j = i;\n\t\tfor (; x[j] == -1; j = (j + v[j]) % n) {\n\t\t\tx[j] = one++;\n\t\t\ty[j] = i;\n\n\t\t}\n\t\tif (y[j] == i) {\n\t\t\tcout << \"one : \" << one << \" x[j] : \" << x[j] << endl;\n\t\t\tcnt += (one - x[j]);\n\t\t}\n\t}\n\tcout << cnt << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint n,ans=0;\nint a[111111];\nint used[111111];\n\nint dfs(int i){\n  if(used[i]==1){\n    ans++;\n    return i;\n  }\n  if(used[i]==2)return -1;\n  used[i]=1;\n  int t=dfs((i+a[i])%n);\n  if(t!=i&&t!=-1){\n    ans++;\n    used[i]=2;\n    return t;\n  }else{\n    used[i]=2;\n    return -1;\n  }\n}\n\nint main(){\n  cin>>n;\n  for(int i=0;i<n;i++){\n    cin>>a[i];\n  }\n  for(int i=0;i<n;i++){\n    if(i==dfs(i));\n  }\n  cout<<ans<<endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<string>\n#include<vector>\n#include<queue>\n#include<set>\n#include<stack>\n#include<functional>\n#include<list>\n#include<map>\n#include<unordered_map>\nusing namespace std;\n\nbool a[10000],s[10000];\nint b[10000], c[10000];\nsigned main() {\n\tint d, sum = 0;\n\tcin >> d;\n\tfor (int e = 0; e < d; e++) {\n\t\tscanf(\"%d\", &b[e]);\n\t}\n\tfor (int i = 0; i < d; i++) {\n\t\tif (!a[i]) {\n\t\t\tmemset(c, 0, sizeof(c));\n\t\t\tint now = i;\n\t\t\twhile (1) {\n\t\t\t\ta[now] = true;\n\t\t\t\tif (c[now] == 2)break;\n\t\t\t\telse if (c[now] == 1)s[now] = true;\n\t\t\t\tc[now]++;\n\t\t\t\tnow += b[now];\n\t\t\t\tnow %= d;\n\t\t\t}\n\t\t}\n\t}\n\tfor (bool u : s)sum += u;\n\tcout << sum << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n\nint main()\n{\n  int N, A[100000];\n  int v[100000];\n  memset(v, -1, sizeof(v));\n\n\n  scanf(\"%d\", &N);\n  for(int i = 0; i < N; i++) {\n    scanf(\"%d\", &A[i]);\n    A[i] = (A[i] + i) % N;\n  }\n\n  int ret = 0, sum = 1;\n\n  for(int i = 0; i < N; i++) {\n    if(~v[i]) continue;\n    int now = i, rev = sum;\n    v[now] = sum++;\n    while(v[A[now]] == -1) {\n      now = A[now];\n      v[now] = sum++;\n    }\n    if(v[A[now]] < rev) continue;\n    ret += v[now] - v[A[now]] + 1;\n  }\n  printf(\"%d\\n\", ret);\n\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\nlong long  b[100000];\nint main() {\n\tint n, sum = 0;\n\tcin >> n;\n\tfor (int i = 0; i < n; i++)\n\t\tcin >> b[i];\n\tfor (int i = 0; i < n; i++) {\n\t\tint p = i;\n\t\tbool l = false, g = true, h[100000];\n\t\tfill(h, h + n, false);\n\t\twhile (p != i || g) {\n\t\t\tg = false;\n\t\t\tp += b[p];\n\t\t\twhile (p >= n)\n\t\t\t\tp -= n;\n\t\t\tif (h[p]) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\th[p] = true;\n\t\t\tif (p == i) l = true;\n\t\t}\n\t\tif (l) {\n\t\t\tsum++;\n\t\t}\n\t}\n\tcout << sum << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n#define in std::cin\n#define out std::cout\n#define rep(i,N) for(int i=0;i<N;++i)\ntypedef long long int LL;\n\nLL N;\nstd::vector<LL>G, cnt;\nstd::set<LL>list;\nvoid dfs(LL v)\n{\n\tif (cnt[v] >= 2 || cnt[v] == -1) return;\n\t++cnt[v];\n\tlist.insert(v);\n\tdfs(G[v]);\n}\n\nint main()\n{\n\tin >> N;\n\tstd::vector<LL>a(N);\n\ta.resize(N);\n\trep(i, N) in >> a[i];\n\n\tG.resize(N + 1); cnt.resize(N + 1);\n\trep(i, N) G[i + 1] = (i + a[i]) % N + 1;\n\n\tLL ans = 0;\n\trep(i, N)\n\t{\n\t\tif (cnt[i + 1] == 0)\n\t\t{\n\t\t\tlist.clear();\n\t\t\tdfs(i + 1);\n\t\t\tfor (auto j : list)\n\t\t\t{\n\t\t\t\tif (cnt[j] < 2) cnt[j] = -1;\n\t\t\t}\n\t\t}\n\t}\n\trep(i, N)\n\t{\n\t\tif (cnt[i + 1] >= 2) ++ans;\n\t}\n\n\tout << ans << std::endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<n;++i)\n#define rrep(i,n) for(int i=n-1;i>=0;--i)\n#define yesno(flg) if(flg){cout<<\"yes\"<<endl;}else{cout<<\"no\"<<endl;}\n#define vi vector<int>\n#define MAX_N 200005\n#define i197 1000000007\n\nusing namespace std;\n\n\ntypedef long long ll;\ntypedef pair<ll,ll> P1;\ntypedef pair<int,P1> P2;\nconst int inf=1000000000;\nP1 xy[MAX_N]={};\nbool dp[100001]={};\n\nint main() {\n\tint n;\n\tcin>>n;\n\tint a[100001];\n\trep(i,n)cin>>a[i];\n\tint t=0;\n\n\trep(i,n){\n\t\tif(dp[i])continue;\n\t\tbool dp2[100001]={};\n\t\tdp[i]=true;\n\t\tdp2[i]=true;\n\t\tint k=(i+a[i])%n;\n\t\twhile(1){\n\t\t\tif(dp2[k]){\n\t\t\t\tif(k==i){\n\t\t\t\t\t//success\n\t\t\t\t\tt++;\n\t\t\t\t\tk=(k+a[k])%n;\n\t\t\t\t\twhile(k!=i){\n\t\t\t\t\t\tt++;\n\t\t\t\t\t\tdp[k]=true;\n\t\t\t\t\t\tk=(k+a[k])%n;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(dp[k]){\n//\t\t\t\trep(j,n){\n//\t\t\t\t\tif(dp2[j])dp[j]=true;\n//\t\t\t\t\t//false\n//\t\t\t\t}\n//\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdp2[k]=true;\n\t\t\tk=(k+a[k])%n;\n\t\t}\n\t}\n\tcout<<t<<endl;\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n)for(int i=0;i<n;i++)\nusing namespace std;\n\nint n;\nint a[100000], in[100000];\nbool used[100000];\n\nint main() {\n\tscanf(\"%d\", &n);\n\trep(i, n) {\n\t\tscanf(\"%d\", &a[i]);\n\t\ta[i] = (i + a[i]) % n;\n\t\tin[a[i]]++;\n\t}\n\tint cnt = 0;\n\tqueue<int>que;\n\trep(i, n) {\n\t\tif (!in[i] && !used[i]) {\n\t\t\tused[i] = true;\n\t\t\tque.push(i);\n\t\t}\n\t\twhile (!que.empty()) {\n\t\t\tint v = que.front(); que.pop();\n\t\t\tcnt++;\n\t\t\tin[a[v]]--;\n\t\t\tif (!used[a[v]] && !in[a[v]]) {\n\t\t\t\tused[a[v]] = true;\n\t\t\t\tque.push(a[v]);\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"%d\\n\", n - cnt);\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<cstdio>\n#include<cmath>\n#include<math.h>\n#include<string>\n#include<string.h>\n#include<stack>\n#include<queue>\n#include<vector>\n#include<utility>\n#include<set>\n#include<map>\n#include<stdlib.h>\n#include<iomanip>\n \nusing namespace std;\n \n#define ll long long\n#define ld long double\n#define EPS 0.0000000001\n#define INF 1e9\n#define MOD 1000000007\n#define rep(i,n) for(i=0;i<n;i++)\n#define loop(i,a,n) for(i=a;i<n;i++)\n#define all(in) in.begin(),in.end()\n#define shosu(x) fixed<<setprecision(x)\n \ntypedef vector<int> vi;\ntypedef pair<int,int> pii;\n \nint main(void) {\n  int i,j;\n  int n;\n  cin>>n;\n  vi a(n);\n  rep(i,n){\n    cin>>a[i];\n    a[i]=(a[i]+i)%n;\n  }\n  vi used(n,0),v(n,0);\n  int ans=0,t=1;\n  rep(i,n)if(used[i]==0){\n    int now=a[i],j=i;\n    v[j]=t;\n    used[j]=1;\n    while(1){\n      if(used[now]){\n    if(v[now]==v[j])ans+=used[j]+1-used[now];\n    break;\n      }else{\n    used[now]=used[j]+1;\n    v[now]=v[j];\n    j=now;\n    now=a[j];\n      }\n    }\n    t++;\n    //    cout<<i<<\" \"<<ans<<endl;\n  }\n  cout<<ans<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\n\nint main (void){\n\tint N,root;\n\tint ans = 0;\n\tbool b1[100000]={};\n\tbool b2[100000]={};\n\tbool b3[100000]={};\n\tstatic int a[100000];\n\t\n\tcin >> N;\n\tfor(int i=0;i<N;i++){\n\t\tcin >> a[i];\n\t}\n\t\n\tfor(int i=0;i<N;i++){\n\t\troot = i;\n\t\tif(b3[root] == false){\n\t\t\twhile(1){\n\t\t\t\tif(b1[root]){\n\t\t\t\t\tif(b2[root]){\n\t\t\t\t\t\tif(b3[root]){\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tb3[root] = true;\n\t\t\t\t\t\t\tans++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tb2[root] = true;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tb1[root] = true;\n\t\t\t\t}\n\t\t\t\troot += a[root];\n\t\t\t\troot %= N;\n\t\t\t}\n\t\t}\n\t}\n\tcout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nusing i64 = int64_t;\nconst i64 MOD = 1e9 + 7;\nconst i64 INF = i64(1e18) + 7;\n\nvector<int> scc(vector<vector<int>>& edges){\n    int n = edges.size();\n    vector<vector<int>> rev(n);\n    for(int i = 0; i < n; ++i)\n        for(auto& x : edges[i])\n            rev[x].emplace_back(i);\n    vector<i64> dfs_num(n, -1);\n    vector<i64> flag(n, 0);\n    int num = 0;\n    function<void(int)> dfs = [&](int pos){\n        flag[pos] = 1;\n        for(auto& xx : edges[pos])\n            if(!flag[xx])\n                dfs(xx);\n        dfs_num[pos] = num++;\n    };\n    for(int i = 0; i < n; ++i)\n        if(!flag[i])\n            dfs(i);\n    vector<int> dfs_inv(n);\n    for(int i = 0; i < n; ++i)\n        dfs_inv[n - 1 - dfs_num[i]] = i;\n    num = 0;\n    vector<int> scc_vec(n, -1);\n    function<void(int)> rdfs = [&](int pos){\n        scc_vec[pos] = num;\n        for(auto& t : rev[pos])\n            if(scc_vec[t] == -1)\n                rdfs(t);\n    };\n    for(int i = 0; i < n; ++i)\n        if(scc_vec[dfs_inv[i]] == -1){\n            rdfs(dfs_inv[i]);\n            ++num;\n        }\n    return scc_vec;\n}\n\nsigned main(){\n    int n;\n    cin >> n;\n    vector<int> a(n);\n    vector<vector<int>> edges(n);\n    for(int i = 0; i < n; ++i){\n        cin >> a[i];\n        edges[i].emplace_back((i + a[i]) % n);\n    }\n    auto ret = scc(edges);\n    vector<int> cnt(n);\n    for(auto& x : ret)\n        ++cnt[x];\n    int ans = 0;\n    for(auto& x : cnt)\n        if(x >= 2)\n            ans += x;\n    cout << count_if(a.begin(), a.end(), [&](auto x){return x % n == 0;}) + ans << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <sstream>\n#include <algorithm>\n#include <vector>\n#include <utility>\n#include <functional>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <deque>\n#include <ctime>\n  \nusing namespace std;\n  \n#define rep(i,n) REP(i,0,n)\n#define REP(i,s,e) for(int i=(s); i<(int)(e); i++)\n#define pb push_back\n#define mp make_pair\n#define all(r) (r).begin(),(r).end()\n#define rall(r) (r).rbegin(),(r).rend()\n#define fi first\n#define se second\n#define println(X) cout<<X<<endl;\n#define DBG(X) cout<<#X<<\" : \"<<X<<endl;\n  \ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<vi> vii;\ntypedef vector<ll> vl;\ntypedef vector<vl> vll;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\n \nconst int INF = 1e9;\nconst ll LINF = 1e18;\nconst ll MOD = 1e9 + 7;\ndouble EPS = 1e-8;\nconst double PI = acos(-1);\n\nstruct SCC{//O(V+E)\n    static const int MAX_V = 101000;\n    int V;\n    vector<int> G[MAX_V], rG[MAX_V];\n    vector<int> vs;\n    bool used[MAX_V];\n    int cmp[MAX_V];\n    vector<vector<int> > res;\n \n \n    SCC(int v) : V(v){};\n    void add_edge(int from, int to){\n        G[from].push_back(to);\n        rG[to].push_back(from);\n    }\n \n    void dfs(int v){\n        used[v] = true;\n        for(int i = 0; i < G[v].size(); i++){\n            if(!used[G[v][i]]) dfs(G[v][i]);\n        }\n        vs.push_back(v);\n    }\n    void rdfs(int v, int k){\n        used[v] = true;\n        cmp[v] = k;\n        for(int i = 0; i < rG[v].size(); i++){\n            if(!used[rG[v][i]]) rdfs(rG[v][i], k);\n        }\n    }\n \n    int scc(){\n        memset(used, 0, sizeof(used));\n        vs.clear();\n        for(int v = 0; v < V; v++){\n            if(!used[v]) dfs(v);\n        }\n        memset(used, 0, sizeof(used));\n        int k = 0;\n        for(int i = vs.size() - 1; i >= 0; i--){\n            if(!used[vs[i]]) rdfs(vs[i], k++);\n        }\n \n        res.clear();\n        res.resize(k);\n        for(int i = 0; i < V; i++){\n            res[cmp[i]].push_back(i);\n        }\n        return k;\n    }\n};\n\nint main(){\n\tint ans = 0;\n\tint n;\n\tcin>>n;\n\tSCC scc(n);\n\trep(i, n) {\n\t\tint a;\n\t\tcin>>a;\n\t\t(a += i ) %= n;\n\t\tif(a == i) ans++;\n\t\telse scc.add_edge(i, a);\n\t}\n\tscc.scc();\n\tfor(auto a : scc.res) {\n\t\tif(a.size()!=1) ans += a.size();\n\t}\n\tcout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\nusing namespace std;\nint main(){\n\tint n,ans=0;\n\tcin>>n;\n\tvector<int>a(n),c(n);\n\tfor(int i=0;i<n;i++){\n\t\tcin>>a[i];\n\t\tc[i]=0;\n\t}\n\tfor(int here=0;here<n;here++){\n\t\tif(!c[here]){\n\t\t\twhile(c[here]++<3){\n\t\t\t\there=(here+a[here])%n;\n\t\t\t}\n\t\t\tfor(int j=0;j<n;j++){\n\t\t\t\tif(c[j]==2||c[j]==3)ans++;\n\t\t\t\tif(c[j])c[j]=10;\n\t\t\t}\n\t\t}\n\t}\n\tcout<<ans<<endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <numeric>\n#include <bitset>\n#include <cmath>\n\nstatic const int MOD = 1000000007;\nusing ll = long long;\nusing u32 = unsigned;\nusing u64 = unsigned long long;\nusing namespace std;\n\ntemplate<class T> constexpr T INF = ::numeric_limits<T>::max()/32*15+208;\n\nstruct SCC {\n    vector<vector<int>> G, G_r, G_out;\n    vector<int> vs, used, cmp, sz;\n    SCC() = default;\n    explicit SCC(int n) : G(n), G_r(n), G_out(n), used(n), cmp(n), sz(n) {}\n\n    void add_edge(int a, int b){\n        G[a].emplace_back(b);\n        G_r[b].emplace_back(a);\n    }\n\n    void dfs(int v){\n        used[v] = 1;\n        for (auto &&u : G[v]) if(!used[u]) dfs(u);\n        vs.emplace_back(v);\n    }\n\n    void dfs_r(int v, int k){\n        used[v] = 1;\n        cmp[v] = k;\n        sz[k]++;\n        for (auto &&u : G_r[v]) if(!used[u]) dfs_r(u, k);\n    }\n\n    int build() {\n        int n = G.size();\n        for (int i = 0; i < n; ++i) if(!used[i]) dfs(i);\n        fill(used.begin(),used.end(), 0);\n        int k = 0;\n        for (int i = n - 1; i >= 0; --i) {\n            if(!used[vs[i]]){\n                dfs_r(vs[i], k++);\n            }\n        }\n        G_out.resize(k);\n        sz.resize(k);\n        for (int i = 0; i < n; ++i) {\n            for (auto &&j : G[i]) {\n                if(cmp[i] != cmp[j]){\n                    G_out[cmp[i]].emplace_back(cmp[j]);\n                }\n            }\n        }\n        for (auto &&l : G_out) {\n            sort(l.begin(), l.end());\n            l.erase(unique(l.begin(), l.end()), l.end());\n        }\n        return k;\n    }\n\n    int operator[](int k) const { return cmp[k]; }\n};\n\n\nint main() {\n    int n;\n    cin >> n;\n    SCC G(n);\n    int ans = 0;\n    for (int i = 0; i < n; ++i) {\n        int x;\n        cin >> x;\n        if(x%n == 0) ans++;\n        else G.add_edge(i, (i+x)%n);\n    }\n    G.build();\n\n    for (auto &&j : G.sz) {\n        if(j != 1) ans += j;\n    }\n    cout << ans << \"\\n\";\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\nusing namespace std;\nint main(){\n\tint n,ans=0;\n\tcin>>n;\n\tvector<int>a(n),f(n);\n\tfor(int i=0;i<n;i++){\n\t\tcin>>a[i];\n\t\tf[i]=0;\n\t}\n\tfor(int i=0;i<n;i++)\n\t\tif(!f[i]){\n\t\t\twhile(f[i]<2){\n\t\t\t\tf[i]++;\n\t\t\t\ti=(i+a[i])/n;\n\t\t\t}\n\t\t\tfor(int j=0;j<n;j++){\n\t\t\t\tif(f[j]==2)\n\t\t\t\t\tans++;\n\t\t\t\tif(f[j])\n\t\t\t\t\tf[j]=10;\n\t\t\t}\n\t\t}\n\tcout<<ans<<endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <algorithm>\n#include <string>\n#include <cstring>\n#include <vector>\n#include <queue>\n#include <set>\n#include <map>\n#include <cmath>\n#include <iomanip>\n#include <cassert>\n#include <bitset>\nusing namespace std;\n\ntypedef pair<int, int> P;\n#define rep(i, n) for (int i=0; i<(n); i++)\n#define all(c) (c).begin(), (c).end()\n#define uniq(c) c.erase(unique(all(c)), (c).end())\n#define _1 first\n#define _2 second\n#define pb push_back\n#define INF 1145141919\n#define MOD 1000000007\n\nint N;\nint A[100000];\nbool used[100000];\n\nsigned main() {\n  ios::sync_with_stdio(false); cin.tie(0);\n  cin >> N;\n  rep(i, N) {\n    int a;\n    cin >> a;\n    A[i] = (i+a) % N;\n  }\n  int x = 0;\n  rep(_, N*2) x = A[x];\n  rep(_, N*2) {\n    used[x] = true;\n    x = A[x];\n  }\n  int c = 0;\n  rep(i, N) c += used[i];\n  cout << c << \"\\n\";\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\n#include<string>\n#include<set>\n#include<queue>\n#include<stack>\n#include<bitset>\n#include<functional>\n#include<map>\n#include<unordered_set>\nusing namespace std;\n//int p = 998244353;\nint p = 1000000007;\n#define int long long\n#define vel vector<long long>\n#define vvel vector<vel>\n#define rep(i,n) for(int i=0;i<n;i++)\n#define sor(v) sort(v.begin(),v.end())\n#define mmax(a,b) a=max(a,b)\n#define mmin(a,b) a=min(a,b)\n#define mkp make_pair\n#define pin pair<int,int>\n#define qin pair<int,pin>\n#define V vector\n#define Endl endl\n#define veb vector<bool>\n#define rev(s) reverse(s.begin(),s.end())\nint max_kai = 150000;\nvel kai(max_kai, 1);\nvel inv_kai;\nint rui(int a, int n) {\n\tif (n == 0) { return 1; }\n\tint x = rui(a, n / 2);\n\tx *= x; x %= p;\n\tif (n % 2 == 1) { x *= a; x %= p; }\n\treturn x;\n}\nint inv(int a) { return rui(a, p - 2); }\nvoid make_kai() {\n\tfor (int i = 1; i < max_kai; i++) { kai[i] = kai[i - 1] * i; kai[i] %= p; }\n\tinv_kai = kai;\n\trep(i, max_kai) { inv_kai[i] = inv(kai[i]); }\n}\nint nCr(int n, int r) {\n\tint a = kai[n] * inv_kai[r]; a %= p;\n\ta *= inv_kai[n - r]; a %= p;\n\treturn a;\n}\nint inf = 6000000000000;\nvel pa;\nint root(int x) {\n\tif (pa[x] == -1) { return x; }\n\tint ans = root(pa[x]); pa[x] = ans;\n\treturn ans;\n}\nvoid marge(int x, int y) {\n\tx = root(x);\n\ty = root(y);\n\tif (x != y) {pa[x] = y;}\n}\n#define lower(h,val) lower_bound(h.begin(),h.end(),val)-h.begin()\n#define upper(h,val) upper_bound(h.begin(),h.end(),val)-h.begin()\nint num_lp(int a, vel &nex) {\n\tunordered_set<int> se;\n\tint ans = 0;\n\twhile (true) {\n\t\tif (se.find(a) != se.end()) {\n\t\t\tbreak;\n\t\t}\n\t\tse.insert(a);\n\t\ta = nex[a];\n\t\tans++;\n\t}\n\treturn ans;\n}\nint find_cr(int a, vel &nex) {\n\tunordered_set<int> se;\n\twhile (true) {\n\t\tif (se.find(a) != se.end()) {break;}\n\t\tse.insert(a);\n\t\ta = nex[a];\n\t}\n\treturn num_lp(a, nex);\n}\nint solve(vel &list, vel &nex) {\n\tif (list.size() == 0) { return 0; }\n\treturn find_cr(list[0], nex);\n}\nsigned main(){\n\tint n; cin >> n;\n\tpa = vel(n, -1);\n\tvel nex(n);\n\trep(i, n) {\n\t\tcin >> nex[i];\n\t\tnex[i] += i; nex[i] %= n;\n\t\tmarge(i, nex[i]);\n\t}\n\tvvel list(n);\n\trep(i, n) {\n\t\tlist[root(i)].push_back(i);\n\t}\n\tint ans = 0;\n\trep(i, n) {\n\t\tans += solve(list[i],nex);\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int n = sc.nextInt(), m[] = new int[n],l[]=new int[n], c = 0;\n        boolean[] t=new boolean[n];\n        for (int i = 0; i < n; i++) {\n            m[i] = sc.nextInt();\n        }\n        for(int i=0;i<n;i++)\n            l[(i+m[i])%n]++;\n        for(int i=0;i<n;i++) {\n            int j=i;\n            while(!t[j]&&l[j]==0) {\n                t[j]=true;\n                j=(j+m[j])%n;\n                l[j]--;\n            }\n        }\n        for(int i:m)\n            c+=i>0?1:0;\n        System.out.println(c);\n    }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main() {\n  int n;\n  cin >> n;\n  int a[n],ans=0;\n  for(int i=0; i<n; i++) cin >> a[i];\n  int u[n];\n  memset(u,0,sizeof(u));\n  for(int i=0; i<n; i++) {\n    if(u[i]) continue;\n    int x=i;\n    while(!u[x]) {\n      u[x]=i+1;\n      x=(a[x]+x)%n;\n    }\n    if(u[x]!=i+1) continue;\n    int y=x;\n    do {\n      x=(a[x]+x)%n;\n      ans++;\n    } while(x!=y);\n  }\n  cout << ans << endl;\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing ll = long long;\n#define rep(i,n) for(int (i)=0;(i)<(int)(n);++(i))\n#define all(x) (x).begin(),(x).end()\n#define pb push_back\n#define fi first\n#define se second\n#define dbg(x) cout<<#x\" = \"<<((x))<<endl\ntemplate<class T,class U> ostream& operator<<(ostream& o, const pair<T,U> &p){o<<\"(\"<<p.fi<<\",\"<<p.se<<\")\";return o;}\ntemplate<class T> ostream& operator<<(ostream& o, const vector<T> &v){o<<\"[\";for(T t:v){o<<t<<\",\";}o<<\"]\";return o;}\n\nconst int INF = 191919;\n\nint main()\n{\n    int n;\n    cin >>n;\n\n    vector<int> nx(n);\n    rep(i,n)\n    {\n        int a;\n        cin >>a;\n        nx[i] = (i+a)%n;\n    }\n\n    int ans = 0;\n    vector<int> d(n,INF);\n    rep(i,n)if(d[i]==INF)\n    {\n        vector<int> vis;\n        d[i] = 0;\n        int now = i;\n        vis.pb(i);\n        while(1)\n        {\n            if(d[nx[now]]==INF)\n            {\n                d[nx[now]] = d[now]+1;\n                now = nx[now];\n                vis.pb(now);\n            }\n            else\n            {\n                if(d[nx[now]]>=0) ans += d[now]-d[nx[now]]+1;\n                break;\n            }\n        }\n\n        for(int j:vis) d[j]=-1;\n    }\n\n    cout << ans << endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define rep(i,N) for(int (i)=0;(i) < (N); (i)++)\n#define all(V) V.begin(), V.end()\nusing i64 = int_fast64_t;\nusing P = pair<i64,i64>;\nusing uset = unordered_set<int>;\n\nint N;\nint cnt[100100];\nint color[100100];\nvector<int> A;\n\nvoid dfs(int i, int c){\n    if(color[i] == c && cnt[i] >= 2) return;\n    if(color[i] != 0 && color[i] != c) return;\n\n    color[i] = c;\n    cnt[i]++;\n\n    dfs((i+A[i])%N, c);\n    \n    return; \n}\n\nint main(){\n    cin >> N;\n    A.resize(N);\n    rep(i,N) cin >> A[i];\n\n    rep(i,N) if(!cnt[i]) dfs(i, N+i);\n\n    int ans = 0;\n    rep(i,N) ans += (cnt[i] >= 2);\n\n    cout << ans << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<map>\n#include<vector>\nusing namespace std;\nint S[200000], n, R[200000]; bool used[200000];\nint W[200000];\nint main() {\n\tcin >> n;\n\tfor (int i = 0; i < n; i++) { cin >> S[i]; S[i] %= n; }\n\tfor (int i = 0; i < n; i++) { R[i] = (i + S[i]) % n; }\n\tfor (int i = 0; i < n; i++) {\n\t\tif (used[i] == true)continue;\n\t\tint c = i;\n\t\tvector<int>vec, vec2;\n\t\twhile (true) {\n\t\t\tif (used[c] == true)break;\n\t\t\tW[c]++; if (W[c] >= 3)break;\n\t\t\tif (W[c] == 2)vec.push_back(c);\n\t\t\tif (W[c] == 1)vec2.push_back(c);\n\t\t\tc = R[c];\n\t\t}\n\t\tfor (int j = 0; j < vec.size(); j++) {\n\t\t\tused[vec[j]] = true;\n\t\t}\n\t\tfor (int j = 0; j < vec2.size(); j++)W[vec2[j]] = 0;\n\t}\n\tint cnt = 0;\n\tfor (int i = 0; i < n; i++) { if (used[i] == true)cnt++; }\n\tcout << cnt << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\nusing namespace std;\nint main(){\n\tunsigned int n,ans=0;\n\tcin>>n;\n\tvector<int>a(n),c(n);\n\tfor(int i=0;i<n;i++){\n\t\tcin>>a[i];\n\t\tc[i]=0;\n\t}\n\tfor(int here=0;here<n;here++){ \n\t\tif(!c[here]){\n\t\t\twhile(c[here]<2){\n\t\t\t\tc[here]++;\n\t\t\t\there=(here+a[here])%n;\n\t\t\t}\n\t\t\tfor(int j=0;j<n;j++)\n\t\t\t\tif(c[j]){\n\t\t\t\t\tif(c[j]==2)ans++;\n\t\t\t\t\tc[j]=10;\n\t\t\t\t}\n\t\t}\n\t}\n\tcout<<ans<<endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<map>\n#include<vector>\nusing namespace std;\nint S[200000], n; bool used[200000];\nint main() {\n\tcin >> n;\n\tfor (int i = 0; i < n; i++) { cin >> S[i]; S[i] %= n; }\n\tfor (int i = 0; i < n; i++) {\n\t\tif (used[i] == true)continue;\n\t\tmap<int, int>M; int c = i;\n\t\tvector<int>vec;\n\t\twhile (true) {\n\t\t\tM[c]++; if (M[c] >= 4)break;\n\t\t\tif (M[c] == 2)vec.push_back(c);\n\t\t\tc = (c + S[c]) % n;\n\t\t}\n\t\tfor (int j = 0; j < vec.size(); j++) {\n\t\t\tused[vec[j]] = true;\n\t\t}\n\t}\n\tint cnt = 0;\n\tfor (int i = 0; i < n; i++) { if (used[i] == true)cnt++; }\n\tcout << cnt << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define REP(i,n) FOR(i,0,n)\n#define ALL(v) (v).begin(),(v).end()\n#define fi first\n#define se second\ntemplate<typename A, typename B> inline bool chmax(A &a, B b) { if (a<b) { a=b; return 1; } return 0; }\ntemplate<typename A, typename B> inline bool chmin(A &a, B b) { if (a>b) { a=b; return 1; } return 0; }\ntypedef long long ll;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\ntypedef pair<int, pii> pip;\nconst ll INF = 1e9+100;\nconst ll MOD = 1e9+7;\nconst double EPS  = 1e-10;\nconst bool debug = 0;\n//---------------------------//\n\nint N;\nvector<int> g[112345];\nint a[112345], cnt[112345];\n\nint main(){\n\tcin >> N;\n\tREP(i, N) scanf(\"%d\", a + i);\n\t\n\tREP(i, N) {\n\t\tint v = (i + a[i]) % N;\n\t\tg[i].push_back(v);\n\t\tcnt[v]++;\n\t}\n\t\n\tqueue<int> que;\n\tREP(i, N) if (cnt[i] == 0) que.push(i);\n\t\n\tint ans = N;\n\twhile (!que.empty()) {\n\t\tint u = que.front();\n\t\tque.pop();\n\t\t\n\t\tans--;\n\t\t\n\t\tREP(i, g[u].size()) if (--cnt[g[u][i]] == 0) que.push(g[u][i]);\n\t}\n\tcout << ans << endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<deque>\n#include<queue>\n#include<vector>\n#include<algorithm>\n#include<iostream>\n#include<set>\n#include<cmath>\n#include<tuple>\n#include<string>\n#include<chrono>\n#include<functional>\n#include<iterator>\n#include<random>\n#include<unordered_set>\n#include<array>\n#include<map>\n#include<iomanip>\n#include<assert.h>\n#include<bitset>\n#include<stack>\n#include<memory>\nusing namespace std;\nusing namespace std::chrono;\ntypedef long long int llint;\ntypedef double lldo;\n#define mp make_pair\n#define mt make_tuple\n#define pub push_back\n#define puf push_front\n#define pob pop_back\n#define pof pop_front\n#define fir first\n#define sec second\n#define res resize\n#define ins insert\n#define era erase\n/*\ncout<<fixed<<setprecision(20);\ncin.tie(0);\nios::sync_with_stdio(false);\n*/\nconst llint mod=998244353;\nconst llint big=2.19e15+1;\nconst long double pai=3.141592653589793238462643383279502884197;\nconst long double eps=1e-15;\ntemplate <class T,class U>bool mineq(T& a,U b){if(a>b){a=b;return true;}return false;}\ntemplate <class T,class U>bool maxeq(T& a,U b){if(a<b){a=b;return true;}return false;}\nllint gcd(llint a,llint b){if(a%b==0){return b;}else return gcd(b,a%b);}\nllint lcm(llint a,llint b){if(a==0){return b;}return a/gcd(a,b)*b;}\ntemplate<class T> void SO(T& ve){sort(ve.begin(),ve.end());}\ntemplate<class T> void REV(T& ve){reverse(ve.begin(),ve.end());}\ntemplate<class T>llint LBI(vector<T>&ar,T in){return lower_bound(ar.begin(),ar.end(),in)-ar.begin();}\ntemplate<class T>llint UBI(vector<T>&ar,T in){return upper_bound(ar.begin(),ar.end(),in)-ar.begin();}\nint main(void){\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\tint n,i;cin>>n;\n\tvector<int>a(n);\n\tfor(i=0;i<n;i++){cin>>a[i];a[i]%=n;}\n\tvector<char>zyo(n);\n\t//zy 0->まだ 1-見ている 2-だめ 3->成功\n\tfor(i=0;i<n;i++){\n\t\t//for(int j=0;j<n;j++){cerr<<(int)zyo[j];}cerr<<endl;\n\t\tif(zyo[i]!=0){continue;}\n\t\tint gen=i,acpt=1;zyo[gen]=1;\n\t\twhile(-1){\n\t\t\tgen+=a[gen];gen%=n;\n\t\t\tif(zyo[gen]==1){acpt=gen;break;}\n\t\t\tif(zyo[gen]>=2){acpt=-1;break;}\n\t\t\tzyo[gen]=1;\n\t\t}\n\t\tif(acpt!=-1){\n\t\t\t//cerr<<\"d\"<<acpt<<i<<endl;\n\t\t\tgen=acpt;\n\t\t\twhile(zyo[gen]==1){zyo[gen]=3;gen+=a[gen];gen%=n;}\n\t\t}\n\t\tgen=i;\n\t\twhile(zyo[gen]==1){zyo[gen]=2;gen+=a[gen];gen%=n;}\n\t}\n\tint ans=0;\n\tfor(i=0;i<n;i++){if(zyo[i]==3){ans++;}}\n\tcout<<ans<<endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int, int> P;\n\n#define pb push_back\n#define rep(i, a, n) for(int i = (a); i < (n); i++)\n#define dep(i, a, n) for(int i = (a); i >= (n); i--)\n#define mod 1e9+7\n\n__attribute__((constructor))\nvoid initial() {\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n}\n\n\nint main() {\n  int a[100001], b[100001], c[100001];\n  int n;\n  cin >> n;\n  rep(i, 0, n) cin >> a[i];\n  rep(i, 0, n) {\n    if(!b[i]) {\n      int d[100001] = {}, e = i;\n      while(1) {\n        if(!d[e]) d[e] = 1, e = (e + a[e]) % n, b[e] = 1;\n        else {\n          int si = (e + a[e]) % n;\n          c[e] = 1;\n          while(1) {\n            if(si == e) break;\n            else c[si] = 1, si = (si + a[si]) % n;\n          }\n          break;\n        }\n      }\n    }\n  }\n  int ans = 0;\n  rep(i, 0, n) {\n    if(c[i]) ans++;\n  }\n  cout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "// clang-format off\n#include <bits/stdc++.h>\n#define int long long\n#define main signed main()\n// #define main int main()\n#define loop(i, a, n) for (int i = (a); i < (n); i++)\n#define rep(i, n) loop(i, 0, n)\n#define all(v) (v).begin(), (v).end()\n#define rall(v) (v).rbegin(), (v).rend()\n#define prec(n) fixed << setprecision(n)\n#define stlice(from, to) substr(from, (to) - (from) + 1)\n#define pb push_back\n#define mp make_pair\n#define mt make_tuple\n#define fi first\n#define se second\nusing namespace std;\ntypedef pair<int, int> pii;\ntypedef vector<int> vi;\ntypedef vector<double> vd;\ntypedef vector<char> vc;\ntypedef vector<bool> vb;\ntypedef vector<string> vs;\ntypedef vector<pii> vpii;\ntypedef vector<vi> vvi;\ntypedef vector<vb> vvb;\ntypedef vector<vpii> vvpii;\nconst int INF = sizeof(int) == sizeof(long long) ? 1000000000000000000LL : 1000000000;\nconst int MOD = 1000000007;\nconst double PI = acos(-1);\ntemplate<typename A, typename B> bool cmin(A &a, const B &b) { return a > b ? (a = b, true) : false; }\ntemplate<typename A, typename B> bool cmax(A &a, const B &b) { return a < b ? (a = b, true) : false; }\nbool odd(const int &n) { return n & 1; }\nbool even(const int &n) { return !odd(n); }\nvoid solve();\nmain { solve(); return 0; }\n// clang-format on\n\nvoid solve() {\n  int n;\n  cin >> n;\n  vi a(n), p(n, -INF), q(n, -INF);\n  rep(i, n) cin >> a[i];\n  int s = 0;\n  rep(i, n) {\n    int x = i, c = 0;\n    for (; p[x] < 0; c++) {\n      p[x] = c;\n      q[x] = i;\n      x    = (x + a[x]) % n;\n    }\n    if (q[x] == i) s += c - p[x];\n  }\n  cout << s << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nusing P = pair<int, int>;\n\nint main() {\n    int N;\n    cin >> N;\n    vector<int> a(N);\n    for(int i=0; i<N; ++i) {\n        cin >> a[i];\n    }\n    vector<int> cnt(N, -1);\n    vector<int> id(N, -1);\n    int res = 0;\n    for(int i=0; i<N; ++i) {\n        if(cnt[i] == -1) {\n            int sum = 0;\n            int now = i;\n            while(cnt[now] == -1) {\n                cnt[now] = sum++;\n                id[now] = i;\n                (now += a[now]) %= N;\n            }\n            if(id[now] == i) {\n                res += sum - cnt[now];\n            }\n        }\n    }\n    cout << res << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<(int)n;i++)\n#define all(c) (c).begin(),(c).end()\n#define pb push_back\n#define dbg(...) do{cerr<<__LINE__<<\": \";dbgprint(#__VA_ARGS__, __VA_ARGS__);}while(0);\n\nusing namespace std;\n\nnamespace std{template<class S,class T>struct hash<pair<S,T>>{size_t operator()(const pair<S,T>&p)const{return ((size_t)1e9+7)*hash<S>()(p.first)+hash<T>()(p.second);}};template<class T>struct hash<vector<T>>{size_t operator()(const vector<T> &v)const{size_t h=0;for(auto i : v)h=h*((size_t)1e9+7)+hash<T>()(i)+1;return h;}};}\ntemplate<class T>ostream& operator<<(ostream &os, const vector<T> &v){os<<\"[ \";rep(i,v.size())os<<v[i]<<(i==v.size()-1?\" ]\":\", \");return os;}template<class T>ostream& operator<<(ostream &os,const set<T> &v){os<<\"{ \"; for(const auto &i:v)os<<i<<\", \";return os<<\"}\";}\ntemplate<class T,class U>ostream& operator<<(ostream &os,const map<T,U> &v){os<<\"{\";for(const auto &i:v)os<<\" \"<<i.first<<\": \"<<i.second<<\",\";return os<<\"}\";}template<class T,class U>ostream& operator<<(ostream &os,const pair<T,U> &p){return os<<\"(\"<<p.first<<\", \"<<p.second<<\")\";}\nvoid dbgprint(const string &fmt){cerr<<endl;}template<class H,class... T>void dbgprint(const string &fmt,const H &h,const T&... r){cerr<<fmt.substr(0,fmt.find(\",\"))<<\"= \"<<h<<\" \";dbgprint(fmt.substr(fmt.find(\",\")+1),r...);}\ntypedef long long ll;typedef vector<int> vi;typedef pair<int,int> pi;const int inf = (int)1e9;const double INF = 1e12, EPS = 1e-9;\nvoid visit(const vector<vi> &g, int v, vector< vector<int> >& scc,\n    stack<int> &S, vector<bool> &inS,\n    vector<int> &low, vector<int> &num, int& time) {\n  low[v] = num[v] = ++time;\n  S.push(v); inS[v] = true;\n  for(int w: g[v]) {\n    if (num[w] == 0) {\n      visit(g, w, scc, S, inS, low, num, time);\n      low[v] = min(low[v], low[w]);\n    } else if (inS[w])\n      low[v] = min(low[v], num[w]);\n  }\n  if (low[v] == num[v]) {\n    scc.push_back(vector<int>());\n    while (1) {\n      int w = S.top(); S.pop(); inS[w] = false;\n      scc.back().push_back(w);\n      if (v == w) break;\n    }\n  }\n}\nvector<vi> stronglyConnectedComponents(const vector<vi>& g) {\n  const int n = g.size();\n  vector<int> num(n), low(n);\n  stack<int> S;\n  vector<bool> inS(n);\n\tvector< vector<int> > scc;\n  int time = 0;\n  rep(u, n) if (num[u] == 0)\n    visit(g, u, scc, S, inS, low, num, time);\n\treturn scc;\n}\nint main(){\n\tcin.tie(0); cin.sync_with_stdio(0);\n\tint n; cin >> n;\n\tvector<vi> e(n);\n\trep(i, n){\n\t\tint x; cin >> x;\n\t\te[i].pb((i + x) % n);\n\t}\n\tvector<vi> scc = stronglyConnectedComponents(e);\n\tint ans = 0;\n\tfor(auto v : scc) if(v.size() > 1) ans += v.size();\n\tcout << ans << endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nint n;\nvector<int> v;\nvector<int> used;\nint ans = 0;\n\nvoid dfs(int x){\n\tif(used[x]){\n\t\tif(used[x]==1){\n\t\t\twhile(used[x]==1){\n\t\t\t\tused[x] = 2;\n\t\t\t\tans++;\n\t\t\t\t(x += v[x])%=n;\n\t\t\t}\n\t\t}\n\t\treturn;\n\t}\n\tused[x] = 1;\n\tdfs((x+v[x])%n);\n\tif(used[x] == 1) used[x] = 3;\n}\n\nint main(){\n\tcin >> n;\n\tv.assign(n,0);\n\tfor(int i=0;i<n;i++){\n\t\tcin>>v[i];\n\t\tv[i] %= n;\n\t}\n\tused.assign(n,0);\n\tfor(int i=0;i<n;i++){\n\t\tdfs(i);\n\t}\n\tcout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\nusing namespace std;\n#define INF (1<<28)\n#define DEKAI 1000000007\n#define lp(i,n) for(int i=0;i<n;i++)\n#define int long long\npair<int,int> check[100001];\nint a[100001];\nint ans,n;\n\nsigned main(){\n  cin>>n;\n  lp(i,n) cin>>a[i];\n  int logs=1;\n  lp(z,n){\n    if(check[z].second!=0) continue;\n    int now=z;\n    int cnt=1;\n    while(1){\n      if(check[now].second!=logs&&check[now].second!=0) break;\n      if(check[now].second==logs){\n        ans+=cnt-check[now].first;\n        break;\n      }\n      check[now]={cnt,logs};\n      now=(now+a[now])%n;\n      cnt++;\n    }\n    logs++;\n  }\n  cout<<ans<<endl;\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<n;++i)\n#define rrep(i,n) for(int i=n-1;i>=0;--i)\n#define yesno(flg) if(flg){cout<<\"yes\"<<endl;}else{cout<<\"no\"<<endl;}\n#define vi vector<int>\n#define MAX_N 200005\n#define i197 1000000007\n\nusing namespace std;\n\n\ntypedef long long ll;\ntypedef pair<ll,ll> P1;\ntypedef pair<int,P1> P2;\nconst int inf=1000000000;\nP1 xy[MAX_N]={};\nbool dp[100001]={};\n\nint main() {\n\tint n;\n\tcin>>n;\n\tint a[100001];\n\trep(i,n)cin>>a[i];\n\tint t=0;\n\n\trep(i,n){\n\t\tif(dp[i])continue;\n\t\tbool dp2[100001]={};\n\t\tdp[i]=true;\n\t\tdp2[i]=true;\n\t\tint k=(i+a[i])%n;\n\t\twhile(1){\n\t\t\tif(dp2[k]){\n\t\t\t\tif(k==i){\n\t\t\t\t\t//success\n\t\t\t\t\trep(j,n){\n\t\t\t\t\t\tif(dp2[j]){\n\t\t\t\t\t\t\tt++;\n\t\t\t\t\t\t\tdp[j]=true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(dp[k]){\n\t\t\t\trep(j,n){\n\t\t\t\t\tif(dp2[j])dp[j]=true;\n\t\t\t\t\t//false\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdp2[k]=true;\n\t\t\tk=(k+a[k])%n;\n\t\t}\n\t}\n\tcout<<t<<endl;\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<(int)n;i++)\n#define all(c) (c).begin(),(c).end()\n#define pb push_back\n#define dbg(...) do{cerr<<__LINE__<<\": \";dbgprint(#__VA_ARGS__, __VA_ARGS__);}while(0);\n\nusing namespace std;\n\nnamespace std{template<class S,class T>struct hash<pair<S,T>>{size_t operator()(const pair<S,T>&p)const{return ((size_t)1e9+7)*hash<S>()(p.first)+hash<T>()(p.second);}};template<class T>struct hash<vector<T>>{size_t operator()(const vector<T> &v)const{size_t h=0;for(auto i : v)h=h*((size_t)1e9+7)+hash<T>()(i)+1;return h;}};}\ntemplate<class T>ostream& operator<<(ostream &os, const vector<T> &v){os<<\"[ \";rep(i,v.size())os<<v[i]<<(i==v.size()-1?\" ]\":\", \");return os;}template<class T>ostream& operator<<(ostream &os,const set<T> &v){os<<\"{ \"; for(const auto &i:v)os<<i<<\", \";return os<<\"}\";}\ntemplate<class T,class U>ostream& operator<<(ostream &os,const map<T,U> &v){os<<\"{\";for(const auto &i:v)os<<\" \"<<i.first<<\": \"<<i.second<<\",\";return os<<\"}\";}template<class T,class U>ostream& operator<<(ostream &os,const pair<T,U> &p){return os<<\"(\"<<p.first<<\", \"<<p.second<<\")\";}\nvoid dbgprint(const string &fmt){cerr<<endl;}template<class H,class... T>void dbgprint(const string &fmt,const H &h,const T&... r){cerr<<fmt.substr(0,fmt.find(\",\"))<<\"= \"<<h<<\" \";dbgprint(fmt.substr(fmt.find(\",\")+1),r...);}\ntypedef long long ll;typedef vector<int> vi;typedef pair<int,int> pi;const int inf = (int)1e9;const double INF = 1e12, EPS = 1e-9;\nvoid visit(const vector<vi> &g, int v, vector< vector<int> >& scc,\n    stack<int> &S, vector<bool> &inS,\n    vector<int> &low, vector<int> &num, int& time) {\n  low[v] = num[v] = ++time;\n  S.push(v); inS[v] = true;\n  for(int w: g[v]) {\n    if (num[w] == 0) {\n      visit(g, w, scc, S, inS, low, num, time);\n      low[v] = min(low[v], low[w]);\n    } else if (inS[w])\n      low[v] = min(low[v], num[w]);\n  }\n  if (low[v] == num[v]) {\n    scc.push_back(vector<int>());\n    while (S.size()) {\n      int w = S.top(); S.pop(); inS[w] = false;\n      scc.back().push_back(w);\n      if (v == w) break;\n    }\n  }\n}\nvector<vi> stronglyConnectedComponents(const vector<vi>& g) {\n  const int n = g.size();\n  vector<int> num(n), low(n);\n  stack<int> S;\n  vector<bool> inS(n);\n\tvector< vector<int> > scc;\n  int time = 0;\n  rep(u, n) if (num[u] == 0)\n    visit(g, u, scc, S, inS, low, num, time);\n\treturn scc;\n}\nint main(){\n\tcin.tie(0); cin.sync_with_stdio(0);\n\tint n; cin >> n;\n\tvector<vi> e(n);\n\trep(i, n){\n\t\tint x; cin >> x;\n\t\te[i].pb((i + x) % n);\n\t}\n\tvector<vi> scc = stronglyConnectedComponents(e);\n\tint ans = 0;\n\tfor(auto v : scc) if(v.size() > 1) ans += v.size();\n\tcout << ans << endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\n\nint main (void){\n\tint N;\n\tint ans = 0;\n\tbool b[100000];\n\tbool g[100000];\n\tbool s[100000];\n\tbool fin = false;\n\tstatic int a[100000];\n\t\n\tcin >> N;\n\tfor(int i=0;i<N;i++){\n\t\tcin >> a[i];\n\t}\n\t\n\tfor(int i=0;i<N;i++){\n\t\tfor(int j=0;j<N;j++){\n\t\t\tb[j] = false;\n\t\t}\n\t\tfor(int j=0;j<N;j++){\n\t\t\tg[j] = false;\n\t\t}\n\t\tfor(int j=0;j<N;j++){\n\t\t\ts[j] = false;\n\t\t}\t\t\n\t\tint j=i;\n\t\twhile(1){\n\t\t\tj += a[j];\n\t\t\t\n\t\t\tif(j >= N){\n\t\t\t\tj %= N;\n\t\t\t}\n\t\t\tif(g[j]){\n\t\t\t\tfin = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(j == i){\n\t\t\t\tg[j] = true;\n\t\t\t\tfin = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(s[j]){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(b[j]){\n\t\t\t\ts[j] = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tb[j] = true;\n\t\t}\n\t\tif(fin){\n\t\t\tans++;\n\t\t\tfin = false;\n\t\t}\n\t\t\n\t}\n\tcout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nint n;\nvector<int> na,cnt;\n\nint solve() {\n  int res=n;\n  queue<int> q;\n  for(int i=0;i<n;++i)\n    if(cnt[i]==0) q.push(i);\n  while(!q.empty()) {\n    int e=q.front(); q.pop();\n    cnt[na[e]]--; res--;\n    if(cnt[na[e]]==0) q.push(na[e]);\n  }\n  return res;\n}\n\nint main(){\n  cin >> n;\n  na.resize(n);\n  cnt.assign(n,0);\n  for(int i=0;i<n;++i) {\n    int a; cin >> a;\n    na[i]=(i+a)%n;\n    cnt[na[i]]++;\n  }\n  cout << solve() << endl;\n  \n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\nusing namespace std;\n\nint main(){\n    int n;\n    cin >> n;\n    vector<int> a(n), v;\n    vector<bool> visit(n, 0);\n    for(int i = 0; i < n; i++)  cin >> a[i];\n    int ans = 0;\n    for(int pos = 0; pos < n; pos++){\n        int i = pos;\n        if(visit[i])    continue;\n        while(!visit[i]){\n            v.push_back(i);\n            visit[i] = true;\n            i = (i + a[i])%n;\n        }\n        int vlen = v.size();\n        for(int j = 0; j < vlen; j++){\n            if(v[j] == i){\n                ans += vlen-j;\n                break;\n            }\n        }\n        v.clear();\n    }\n    cout << ans << endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\n\nint main (void){\n\tint N,root;\n\tint ans = 0;\n\tbool b1[100000]={};\n\tbool b2[100000]={};\n\tbool b3[100000]={};\n\tstatic int a[100000];\n\t\n\tcin >> N;\n\tfor(int i=0;i<N;i++){\n\t\tcin >> a[i];\n\t}\n\t\n\tfor(int i=0;i<N;i++){\n\t\troot = i;\n\t\tif(b3[root] == false){\n\t\t\twhile(1){\n\t\t\t\tif(b1[root]){\n\t\t\t\t\tif(b2[root]){\n\t\t\t\t\t\tif(b3[root]){\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tb3[root] = true;\n\t\t\t\t\t\t\tans++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tb2[root] = true;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tb1[root] = true;\n\t\t\t\t}\n\t\t\t\troot += a[root];\n\t\t\t\troot %= N;\n\t\t\t}\n\t\t}\n\t}\n\tcout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\nint n,i,p,c,ans=0;\nint a[100000];\nint x[100000];\nint y[100000];\n\nint main(){\n  scanf(\"%d\",&n);\n  for(i=0;i<n;i++){\n    scanf(\"%d\",&a[i]);\n    x[i]=-1;\n    y[i]=-1;\n  }\n  for(i=0;i<n;i++){\n    p=i;\n    c=0;\n    while(x[p]==-1){\n      x[p]=c++;\n      y[p]=i;\n      p=(p+a[p])%n;\n    }\n    if(y[p]==i)ans+=(c-x[p]);\n  }\n  printf(\"%d\\n\",ans);\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\n\nint main (void){\n\tint N;\n\tint ans = 0;\n\tbool b[100000]={};\n\tbool g[100000]={};\n\tbool s[100000]={};\n\tbool fin = false;\n\tstatic int a[100000];\n\t\n\tcin >> N;\n\tfor(int i=0;i<N;i++){\n\t\tcin >> a[i];\n\t}\n\t\n\tfor(int i=0;i<N;i++){\n\t\tint j=i;\n\t\twhile(1){\n\t\t\tj += a[j];\n\t\t\tj %= N;\n\t\t\tif(g[j]){\n\t\t\t\tfin = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(j == i){\n\t\t\t\tg[j] = true;\n\t\t\t\tfin = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(s[j]){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(b[j]){\n\t\t\t\ts[j] = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tb[j] = true;\n\t\t}\n\t\tif(fin){\n\t\t\tans++;\n\t\t\tfin = false;\n\t\t}\t\t\n\t\tfor(int j=0;j<N;j++){\n\t\t\tif(b[j]){\n\t\t\t\tb[j]=false;\n\t\t\t}\n\t\t}\n\t}\n\tcout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<map>\n#include<vector>\n#include<cstdio>\nusing namespace std;\nint S[200000], n; bool used[200000];\nint main() {\n\tcin >> n;\n\tfor (int i = 0; i < n; i++) { scanf(\"%d\", &S[i]); S[i] %= n; }\n\tfor (int i = 0; i < n; i++) {\n\t\tif (used[i] == true)continue;\n\t\tmap<int, int>M; int c = i;\n\t\tvector<int>vec;\n\t\twhile (true) {\n\t\t\tif (used[c] == true)break;\n\t\t\tM[c]++; if (M[c] >= 3)break;\n\t\t\tif (M[c] == 2)vec.push_back(c);\n\t\t\tc = (c + S[c]) % n;\n\t\t}\n\t\tfor (int j = 0; j < vec.size(); j++) {\n\t\t\tused[vec[j]] = true;\n\t\t}\n\t}\n\tint cnt = 0;\n\tfor (int i = 0; i < n; i++) { if (used[i] == true)cnt++; }\n\tcout << cnt << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nusing P = pair<int, int>;\n\nint main() {\n    int N;\n    cin >> N;\n    vector<int> a(N);\n    for(int i=0; i<N; ++i) {\n        cin >> a[i];\n    }\n    vector<int> cnt(N, -1);\n    vector<int> id(N, -1);\n    int res = 0;\n    for(int i=0; i<N; ++i) {\n        if(cnt[i] == -1) {\n            int sum = 0;\n            int now = i;\n            while(cnt[now] == -1) {\n                cnt[now] = sum++;\n                id[now] = i;\n                (now += a[now]) %= N;\n            }\n            if(id[now] == i) {\n                res += sum - cnt[now];\n            }\n        }\n    }\n    cout << res << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\nusing namespace std;\nint main(){\n\tunsigned int n,ans=0;\n\tcin>>n;\n\tvector<int>a(n),c(n);\n\tfor(int i=0;i<n;i++){\n\t\tcin>>a[i];\n\t\tc[i]=0;\n\t}\n\tfor(int here=0;here<n;here++){ \n\t\tif(!c[here]){\n\t\t\twhile(c[here]<2){\n\t\t\t\tc[here]++;\n\t\t\t\there=(here+a[here])%n;\n\t\t\t}\n\t\t\tfor(int j=0;j<n;j++)\n\t\t\t\tif(c[j]){\n\t\t\t\t\tif(c[j]==2)ans++;\n\t\t\t\t\tc[j]=10;\n\t\t\t\t}\n\t\t}\n\t}\n\tcout<<ans<<endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\nusing namespace std;\nint main(){\n\tint n,ans=0;\n\tcin>>n;\n\tvector<int>a(n),c(n);\n\tfor(int i=0;i<n;i++){\n\t\tcin>>a[i];\n\t\tc[i]=0;\n\t}\n\tfor(int here=0;here<n;here++){\n\t\tif(!c[here]){\n\t\t\twhile(c[here]<3){\n\t\t\t\tc[here]++;\n\t\t\t\there=(here+a[here])%n;\n\t\t\t}\n\t\t\tfor(int j=0;j<n;j++){\n\t\t\t\tif(c[j]==2||c[j]==3)ans++;\n\t\t\t\tif(c[j])c[j]=10;\n\t\t\t}\n\t\t}\n\t}\n\tcout<<ans<<endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<map>\n#include<vector>\nusing namespace std;\nint S[200000], n; bool used[200000];\nint main() {\n\tcin >> n;\n\tfor (int i = 0; i < n; i++) { cin >> S[i]; S[i] %= n; }\n\tfor (int i = 0; i < n; i++) {\n\t\tif (used[i] == true)continue;\n\t\tmap<int, int>M; int c = i;\n\t\tvector<int>vec;\n\t\twhile (true) {\n\t\t\tif (used[c] == true)break;\n\t\t\tM[c]++; if (M[c] >= 3)break;\n\t\t\tif (M[c] == 2)vec.push_back(c);\n\t\t\tc = (c + S[c]) % n;\n\t\t}\n\t\tfor (int j = 0; j < vec.size(); j++) {\n\t\t\tused[vec[j]] = true;\n\t\t}\n\t}\n\tint cnt = 0;\n\tfor (int i = 0; i < n; i++) { if (used[i] == true)cnt++; }\n\tcout << cnt << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define Int long long int\n#define REP(i,n) for(int i=0;i<(n);i++)\n#define REAP(i,a,n) for(int i=(a);i<(n);i++)\n#define YES cout<<\"Yes\"<<endl\n#define NO cout<<\"No\"<<endl\n#define fr first\n#define sc second\n#define pb push_back\n#define All(v) v.begin(),v.end()\n\nint main(){\n    int n;\n    cin >> n;\n    vector<Int> a(n);\n    REP(i,n)cin >> a[i];\n    int res=0;\n    REP(i,n){\n        vector<int> table(n,0);\n        Int next=i;\n        table[next]=1;\n        while(1){\n            next+=a[next];\n            next%=n;\n            if(table[next]==0 ){\n                table[next]=1;\n            }else if(next==i){\n                res++;\n                break;\n            }else{\n                break;\n            }\n        }\n    }\n    cout << res << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\n\nint main (void){\n\tint N,root;\n\tint ans = 0 , ROOT = 0;\n\tbool b1[100000]={};\n\tbool b2[100000]={};\n\tbool b3[100000]={};\n\tbool fin = false;\n\tstatic int a[100000];\n\t\n\tcin >> N;\n\tfor(int i=0;i<N;i++){\n\t\tcin >> a[i];\n\t}\n\t\n\tfor(int i=0;i<N;i++){\n\t\troot = i;\n\t\tif(b2[root] == false){\n\t\t\t//___________________________________\n\t\t\twhile(1){\n\t\t\t\tif(b1[root]){\n\t\t\t\t\tif(b2[root]){\n\t\t\t\t\t\t\tfor(int j=0;j<N;j++){\n\t\t\t\t\t\t\t\tb1[j] = false;\n\t\t\t\t\t\t\t\tif(b2[j]){\n\t\t\t\t\t\t\t\t\tif(b3[j] == false){\n\t\t\t\t\t\t\t\t\t\tb3[j] = true;\n\t\t\t\t\t\t\t\t\t\tans++;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tb2[root] = true;\n\t\t\t\t\t\t\tb3[root] = true;\n\t\t\t\t\t\t\tans++;\n\t\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tb1[root] = true;\n\t\t\t\t}\n\t\t\t\troot += a[root];\n\t\t\t\troot %= N;\n\t\t\t}\n\t\t\t//___________________________________\n\t\t}\n\t}\n\tcout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\n\n//#define int long long\n#define DBG 1\n#define dump(o) if(DBG){cerr<<#o<<\" \"<<o<<endl;}\n#define dumpc(o) if(DBG){cerr<<#o; for(auto &e:(o))cerr<<\" \"<<e;cerr<<endl;}\n#define rep(i,a,b) for(int i=(a);i<(b);i++)\n#define rrep(i,a,b) for(int i=(b)-1;i>=(a);i--)\n#define each(it,c) for(auto it=(c).begin();it!=(c).end();it++)\n#define all(c) c.begin(),c.end()\nconst int INF = sizeof(int) == sizeof(long long) ? 0x3f3f3f3f3f3f3f3fLL : 0x3f3f3f3f;\nconst int MOD = (int)(1e9 + 7);\n\nsigned main() {\n\tint N; cin >> N;\n\tvector<int> a(N); rep(i, 0, N) { cin >> a[i]; }\n\tvector<char> g(N, false);\n\tint ans = 0;\n\tvector<char> f;\n\trep(i, 0, a.size()) {\n\t\tf = vector<char>(N, false);\n\t\tint j = (i + a[i]) % N;\n\t\tif (g[i]) {\n\t\t\tans++;\n\t\t\tcontinue;\n\t\t}\n\t\twhile (true) {\n\t\t\tif (j == i) {\n\t\t\t\tans++;\n\t\t\t\trep(k, 0, N)\n\t\t\t\t\tg[k] |= f[k];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (f[j])break;\n\t\t\t\tf[j] = true;\n\t\t\t\tj += a[j];\n\t\t\t\tj %= N;\n\t\t\t}\n\t\t}\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <iostream>\n#include <utility>\n#include <algorithm>\n#include <string>\n#include <deque>\n#include <queue>\n#include <tuple>\n#include <queue>\n#include <functional>\n#include <cmath>\n#include <iomanip>\n#include <map>\n#include <set>\n#include <numeric>\n#include <unordered_map>\n#include <unordered_set>\n#include <complex>\n#include <iterator>\n#include <array>\n#include <memory>\n#include <stack>\n#define vi vector<int>\n#define vvi vector<vector<int> >\n#define ll long long int\n#define vl vector<ll>\n#define vvl vector<vector<ll>>\n#define vb vector<bool>\n#define vc vector<char>\n#define vs vector<string>\n#define ld long double\n#define INF 1e9\n#define EPS 0.0000000001\n#define rep(i,n) for(int i=0;i<n;i++)\n#define loop(i,s,n) for(int i=s;i<n;i++)\n#define all(in) in.begin(), in.end()\ntemplate<class T, class S> void cmin(T &a, const S &b) { if (a > b)a = b; }\ntemplate<class T, class S> void cmax(T &a, const S &b) { if (a < b)a = b; }\n#define MAX 1e5 + 100\nusing namespace std;\n\ntypedef pair<int, int> pii;\ntypedef pair<double,double>pdd;\ntypedef pair<ll,ll>pll;\n#define int ll\nvl used(MAX,0);\nvi v(MAX,0);\nclass unionfind {\n    vector<int> par, rank, size_;//テゥツ?淌・ツコツヲテ」ツ?ァテ」ツ?ッテ」ツ?ェテ」ツ?湘」ツδ。テ」ツδ「テ」ツδェテ・ツ環ケテァツ篠?」ツつ津ィツ?ε」ツ?暗」ツつ凝」ツ?ェテ」ツつ詠ankテ」ツ?ョテ」ツ?凝」ツつ湘」ツつ甘」ツ?ォsizeテ」ツつ津、ツスツソテ」ツ??\npublic:\n    unionfind(int n) :par(n), rank(n), size_(n, 1) {\n        iota(all(par), 0);\n    }\n    int find(int x) {\n        if (par[x] == x)return x;\n        return par[x] = find(par[x]);\n    }\n    void unite(int x, int y) {\n        x = find(x), y = find(y);\n        if (x == y)return;\n        if (rank[x] < rank[y])swap(x, y);\n        par[y] = x;\n        size_[x] += size_[y];\n        if (rank[x] == rank[y])rank[x]++;\n    }\n    bool same(int x, int y) {\n        return find(x) == find(y);\n    }\n    int size(int x) {\n        return size_[find(x)];\n    }\n};\n\nsigned main(){\n    int n;cin>>n;\n    unionfind uni(MAX);\n    for(int i=0; i<n;i++){\n        cin>>v[i];\n        v[i]=(v[i]+i)%n;\n        uni.unite(v[i],i);\n    }\n    int ans=0;\n    vb var(MAX,true);\n    rep(i,n){\n        if(var[uni.find(i)]){\n            var[uni.find(i)]=false;\n            used[i]=1;\n            while(true){\n                int now=v[i];\n                \n                if(used[now]==0)used[now]=used[i]+1;\n                else{\n                    ans+=used[i]-used[now]+1;\n                    break;\n                }\n                i=now;\n            }\n        }\n    }\n    //rep(i,n)cout<<i<<\" \"<<uni.find(i)<<\" \"<<used[i]<<endl;\n    cout<<ans<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <queue>\n\nusing namespace std;\n\nint n, a[100000], v[100000];\n\nint main() {\n    cin >> n;\n    for (int i = 0; i < n; ++i)\n        cin >> a[i];\n    \n    for (int i = 0; i < n; ++i) {\n        if (v[i] == 0) {\n            int t = i;\n            queue<int> q;\n            while (1) {\n                if (v[t] == 1) { //?????????\n                    while (!q.empty()) {\n                        if (q.front() != t)\n                            v[q.front()] = 2;\n                        else\n                            break;\n                        q.pop();\n                    }\n                    break;\n                }\n                \n                v[t] = 1;\n                q.push(t);\n                \n                (t += a[t]) %= n;\n            }\n        }\n    }\n    \n    cout << count(v, v + n, 1) << endl;\n    \n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\n\n//#define int long long\n#define DBG 0\n#define dump(o) if(DBG){cerr<<#o<<\" \"<<o<<endl;}\n#define dumpc(o) if(DBG){cerr<<#o; for(auto &e:(o))cerr<<\" \"<<e;cerr<<endl;}\n#define rep(i,a,b) for(int i=(a);i<(b);i++)\n#define rrep(i,a,b) for(int i=(b)-1;i>=(a);i--)\n#define each(it,c) for(auto it=(c).begin();it!=(c).end();it++)\n#define all(c) c.begin(),c.end()\nconst int INF = sizeof(int) == sizeof(long long) ? 0x3f3f3f3f3f3f3f3fLL : 0x3f3f3f3f;\nconst int MOD = (int)(1e9 + 7);\n\nsigned main() {\n\tint N; cin >> N;\n\tvector<int> a(N); rep(i, 0, N) { cin >> a[i]; }\n\tint ans = 0;\n\tvector<char> f;\n\trep(i, 0, a.size()) {\n\t\tf = vector<char>(N, false);\n\t\tint j = (i + a[i]) % N;\n\t\twhile (true) {\n\t\t\tdump(j);\n\t\t\tif (j == i) {\n\t\t\t\tans++;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (f[j])break;\n\t\t\t\tf[j] = true;\n\t\t\t\tj += a[j];\n\t\t\t\tj %= N;\n\t\t\t}\n\t\t}\n\t\tdump(\" \");\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <bitset>\n#include <complex>\n#include <deque>\n#include <exception>\n#include <fstream>\n#include <functional>\n#include <iomanip>\n#include <ios>\n#include <iosfwd>\n#include <iostream>\n#include <istream>\n#include <iterator>\n#include <limits>\n#include <list>\n#include <locale>\n#include <map>\n#include <memory>\n#include <new>\n#include <numeric>\n#include <ostream>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <stdexcept>\n#include <streambuf>\n#include <string>\n#include <stdio.h>\n#include <typeinfo>\n#include <utility>\n#include <valarray>\n#include <vector>\n#define rep(i,a,n) for(ll i =(a);i<(n);++i)\n#define urep(i,a,n) for(ll i = (a);i>=(n);--i)\n#define all(x) (x).begin(),(x).end()\n#define INF 1e18\nconst int mod = 1e9 + 7;\ntypedef long long ll;\nusing namespace std;\nll dx[4] = { 1,-1,0,0 };\nll dy[4] = { 0,0,1,-1 };\nll N,M,X,Y,A,B,C,Q,K,R,W,H;\nstring S,T;\nll ans;\nll x[1000000];\nll y[1000000];\nll a[1000000];\nll b[1000000];\nll c[1000000];\nll t[1000000];\nstring s[10000];\nll gcd(ll a, ll b) {\n\tif (b == 0)return a;\n\telse return gcd(b, a%b);\n}\nstruct Edge{\n\tll to,cost;\n\t Edge(int to, int cost) : to(to), cost(cost) {}\n};\ntypedef vector<vector<Edge> > AdjList;\nAdjList graph;\nvector<ll> dist;\nll in[1000000];\nll P[1000000];\nint main() {\n\tcin>>N;\n\trep(i,0,N){\n\t\tll v;\n\t\tcin>>v;\n\t\tv=(i+v)%N;\n\t\tP[i]=v;\n\t\tin[v]++;\n\t}\n\tqueue<ll> q;\n\trep(i,0,N){\n\t\tif(in[i]==0)q.push(i);\n\t}\n\tans =0;\n\twhile(!q.empty()){\n\t\tll num=q.front();\n\t\tq.pop();\n\t\tans++;\n\t\tll v = P[num];\n\t\tin[v]--;\n\t\tif(in[v]==0)q.push(v);\n\t}\n\tcout<<N-ans<<endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing namespace std::chrono;\nusing ll=long long;\nusing pii=pair<int,int>;\nusing pll=pair<ll,ll>;\nusing pdd=pair<double,double>;\nconst ll LINF=0x3fffffffffffffff;\nconst ll MOL=1000000007;\nconst ll MOLL=0x3b800001;\nconst int INF=0x3fffffff;\nconst double DINF=numeric_limits<double>::infinity();\nconst vector<pii> four={{-1,0},{0,1},{1,0},{0,-1}};\n#define _overload4(_1,_2,_3,_4,name,...) name\n#define _overload3(_1,_2,_3,name,...) name\n#define _rep1(n) _rep2(i,n)\n#define _rep2(i,n) _rep3(i,0,n)\n#define _rep3(i,a,b) for(ll i=a;i<b;++i)\n#define _rep4(i,a,b,c) for(ll i=a;i<b;i+=c)\n#define rep(...) _overload4(__VA_ARGS__,_rep4,_rep3,_rep2,_rep1)(__VA_ARGS__)\n#define _rrep1(n) _rrep2(i,n)\n#define _rrep2(i,n) _rrep3(i,0,n)\n#define _rrep3(i,a,b) for(ll i=b-1;i>=a;i--)\n#define _rrep4(i,a,b,c) for(ll i=a+(b-a-1)/c*c;i>=a;i-=c)\n#define rrep(...) _overload4(__VA_ARGS__,_rrep4,_rrep3,_rrep2,_rrep1)(__VA_ARGS__)\n#define each(i,a) for(auto&& i:a)\n#define sum(...) accumulate(range(__VA_ARGS__),0LL)\n#define dsum(...) accumulate(range(__VA_ARGS__),double(0))\n#define _range(i) (i).begin(),(i).end()\n#define _range2(i,k) (i).begin(),(i).begin()+k\n#define _range3(i,a,b) (i).begin()+a,(i).begin()+b\n#define range(...) _overload3(__VA_ARGS__,_range3,_range2,_range)(__VA_ARGS__)\n#define yes(i) out(i?\"yes\":\"no\")\n#define Yes(i) out(i?\"Yes\":\"No\")\n#define YES(i) out(i?\"YES\":\"NO\")\n//#define START auto start=system_clock::now()\n//#define END auto end=system_clock::now();cerr<<duration_cast<milliseconds>(end-start).count()<<\" ms\\n\"\n#define elif else if\n#define unless(a) if(!(a))\n#define mp make_pair\n#define INT(...) int __VA_ARGS__;in(__VA_ARGS__)\n#define LL(...) ll __VA_ARGS__;in(__VA_ARGS__)\n#define STR(...) string __VA_ARGS__;in(__VA_ARGS__)\n#define CHR(...) char __VA_ARGS__;in(__VA_ARGS__)\n#define DBL(...) double __VA_ARGS__;in(__VA_ARGS__)\n#define vec(type,name,...) vector<type> name(__VA_ARGS__)\n#define VEC(type,name,size) vector<type> name(size);in(name)\n#define vv(type,name,h,...) vector<vector<type>>name(h,vector<type>(__VA_ARGS__))\n#define VV(type,name,h,...) vector<vector<type>>name(h,vector<type>(__VA_ARGS__));in(name)\n__attribute__((constructor)) void SETTINGS(){cin.tie(0); cout.tie(0); ios::sync_with_stdio(0); cout<<fixed<<setprecision(15);};\ntemplate<class T>\ninline constexpr T gcd (T a,T b) {if(a==b)return a;else return gcd(b,(a-1)%b+1);}\ntemplate<class T>\ninline constexpr T lcm (T a,T b) {a*b/gcd(a,b);}\ntemplate<class T>\ninline constexpr T min(vector<T>& v){return *min_element(range(v));}\ninline char min(string& v){return *min_element(range(v));}\ntemplate<class T>\ninline constexpr T max(vector<T>& v){return *max_element(range(v));}\ninline char max(string& v){return *max_element(range(v));}\ntemplate<typename T>\ninline bool update_min(T& mn,const T& cnt){if(mn>cnt){mn=cnt;return 1;}else return 0;}\ntemplate<typename T>\ninline bool update_max(T& mx,const T& cnt){if(mx<cnt){mx=cnt;return 1;}else return 0;}\ninline void in() {}\ntemplate<class T>\nistream& operator >> (istream& is, vector<T>& vec);\ntemplate<class T,size_t size>\nistream& operator >> (istream& is, array<T,size>& vec);\ntemplate<class T,class L>\nistream& operator >> (istream& is, pair<T,L>& p);\ntemplate<class T>\nostream& operator << (ostream& os, vector<T>& vec);\ntemplate<class T,class L>\nostream& operator << (ostream& os, pair<T,L>& p);\ntemplate<class T>\nistream& operator >> (istream& is, vector<T>& vec){for(T& x: vec) is >> x;return is;}\ntemplate<class T,class L>\nistream& operator >> (istream& is, pair<T,L>& p){is >> p.first;is >> p.second;return is;}\ntemplate<class T>\nostream& operator << (ostream& os, vector<T>& vec){os << vec[0];rep(i,1,vec.size()){os << ' ' << vec[i];}return os;}\ntemplate<class T>\nostream& operator << (ostream& os, deque<T>& deq){os << deq[0];rep(i,1,deq.size()){os << ' ' << deq[i];}return os;}\ntemplate<class T,class L>\nostream& operator << (ostream& os, pair<T,L>& p){os << p.first << \" \" << p.second;return os;}\ntemplate<class T,class L>\npair<T,L> operator + (pair<T,L> a, pair<T,L> b){return {a.first + b.first, a.second + b.second};}\ntemplate <class Head, class... Tail>\ninline void in(Head&& head,Tail&&... tail){cin>>head;in(move(tail)...);}\ntemplate <class T>\ninline void out(T t){cout<<t<<'\\n';}\ninline void out(){cout<<'\\n';}\ntemplate <class Head, class... Tail>\ninline void out(Head head,Tail... tail){cout<<head<<' ';out(move(tail)...);}\ntemplate <class T>\ninline void err(T t){cerr<<t<<'\\n';}\ninline void err(){cerr<<'\\n';}\ntemplate <class Head, class... Tail>\ninline void err(Head head,Tail... tail){cerr<<head<<' ';out(move(tail)...);}\n\n\n\n\nsigned main(){\n    LL(n);\n    VEC(ll,a,n);\n    vector<ll>ans(n);\n    rep(n)if(!ans[i]){\n        unordered_set<ll>s;\n        ll at=i;\n        while(!ans[at]){\n            s.insert(at);\n            ans[at]=-1;\n            at=(at+a[at])%n;\n        }\n        while(ans[at]==-1){\n            ans[at]=1;\n            at=(at+a[at])%n;\n        }\n        at=i;\n        while(ans[at]==-1){\n            ans[at]=-INF;\n            at=(at+a[at])%n;\n        }\n    }\n    int k=0;\n    each(i,ans)if(i==1)k++;\n    out(k);\n}\n\n\n\n\n\n\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<map>\n#include<vector>\nusing namespace std;\nint S[200000], n; bool used[200000];\nint main() {\n\tcin >> n;\n\tfor (int i = 0; i < n; i++) { cin >> S[i]; S[i] %= n; }\n\tfor (int i = 0; i < n; i++) {\n\t\tif (used[i] == true)continue;\n\t\tmap<int, int>M; int c = i;\n\t\tvector<int>vec;\n\t\twhile (true) {\n\t\t\tif (used[c] == true)break;\n\t\t\tM[c]++; if (M[c] >= 3)break;\n\t\t\tif (M[c] == 2)vec.push_back(c);\n\t\t\tc = (c + S[c]) % n;\n\t\t}\n\t\tfor (int j = 0; j < vec.size(); j++) {\n\t\t\tused[vec[j]] = true;\n\t\t}\n\t}\n\tint cnt = 0;\n\tfor (int i = 0; i < n; i++) { if (used[i] == true)cnt++; }\n\tcout << cnt << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nint N;\nint DataInfo[100000];\nint User[100000];\n\nint solve() {\n\tint curPos, tmp, sum;\n\n\tsum = 0;\n\tfor (int i = 0; i < N; ++i) {\n\t\tif (User[i] != 0) {\n\t\t\tcontinue;\n\t\t}\n\t\tcurPos = i;\n\t\twhile (User[curPos] == 0) {\n\t\t\tUser[curPos] = i + 1;\n\t\t\tcurPos = (curPos + DataInfo[curPos]) % N;\n\t\t}\n\t\tif (User[curPos] != i + 1) {\n\t\t\tcontinue;\n\t\t}\n\t\ttmp = curPos;\n\t\tdo {\n\t\t\t++sum;\n\t\t\tcurPos = (curPos + DataInfo[curPos]) % N;\n\t\t} while (curPos != tmp);\n\t}\n\n\treturn sum;\n}\n\nint main() {\n\t\n\tcin >> N;\n\tfor (int i = 0; i < N; ++i) {\n\t\tcin >> DataInfo[i];\n\t}\n\tcout << solve() << endl;\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main() {\n    int n;\n    cin >> n;\n    vector<int> a(n), deg(n);\n    vector<bool> used(n, false);\n    for(int i=0;i<n;i++){\n        cin >> a[i];\n    }\n    for(int i=0;i<n;i++){\n        deg[(i+a[i])%n]++;\n    }\n    for(int i=0;i<n;i++){\n        int v = i;\n        while(deg[v]==0 && !used[v]){\n            used[v] = true;\n            v = (v+a[v])%n;\n            deg[v]--;\n        }\n    }\n    int ans = 0;\n    for(int i=0;i<n;i++){\n        if(deg[i] > 0) ans++;\n    }\n    cout << ans << endl;\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <sstream>\n#include <algorithm>\n#include <vector>\n#include <utility>\n#include <functional>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <deque>\n#include <ctime>\n  \nusing namespace std;\n  \n#define rep(i,n) REP(i,0,n)\n#define REP(i,s,e) for(int i=(s); i<(int)(e); i++)\n#define pb push_back\n#define mp make_pair\n#define all(r) (r).begin(),(r).end()\n#define rall(r) (r).rbegin(),(r).rend()\n#define fi first\n#define se second\n#define println(X) cout<<X<<endl;\n#define DBG(X) cout<<#X<<\" : \"<<X<<endl;\n  \ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<vi> vii;\ntypedef vector<ll> vl;\ntypedef vector<vl> vll;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\n \nconst int INF = 1e9;\nconst ll LINF = 1e18;\nconst ll MOD = 1e9 + 7;\ndouble EPS = 1e-8;\nconst double PI = acos(-1);\n\nstruct SCC{//O(V+E)\n    static const int MAX_V = 1010;\n    int V;\n    vector<int> G[MAX_V], rG[MAX_V];\n    vector<int> vs;\n    bool used[MAX_V];\n    int cmp[MAX_V];\n    vector<vector<int> > res;\n \n \n    SCC(int v) : V(v){};\n    void add_edge(int from, int to){\n        G[from].push_back(to);\n        rG[to].push_back(from);\n    }\n \n    void dfs(int v){\n        used[v] = true;\n        for(int i = 0; i < G[v].size(); i++){\n            if(!used[G[v][i]]) dfs(G[v][i]);\n        }\n        vs.push_back(v);\n    }\n    void rdfs(int v, int k){\n        used[v] = true;\n        cmp[v] = k;\n        for(int i = 0; i < rG[v].size(); i++){\n            if(!used[rG[v][i]]) rdfs(rG[v][i], k);\n        }\n    }\n \n    int scc(){\n        memset(used, 0, sizeof(used));\n        vs.clear();\n        for(int v = 0; v < V; v++){\n            if(!used[v]) dfs(v);\n        }\n        memset(used, 0, sizeof(used));\n        int k = 0;\n        for(int i = vs.size() - 1; i >= 0; i--){\n            if(!used[vs[i]]) rdfs(vs[i], k++);\n        }\n \n        res.clear();\n        res.resize(k);\n        for(int i = 0; i < V; i++){\n            res[cmp[i]].push_back(i);\n        }\n        return k;\n    }\n};\n\nint main(){\n\tint ans = 0;\n\tint n;\n\tcin>>n;\n\tSCC scc(n);\n\trep(i, n) {\n\t\tint a;\n\t\tcin>>a;\n\t\t(a += i ) %= n;\n\t\tif(a == i) ans++;\n\t\telse scc.add_edge(i, a);\n\t}\n\tscc.scc();\n\tfor(auto a : scc.res) {\n\t\tif(a.size()!=1) ans += a.size();\n\t}\n\tcout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\n\nint main (void){\n\tint N;\n\tint ans = 0;\n\tbool b[100000]={};\n\tbool g[100000]={};\n\tbool s[100000]={};\n\tbool fin = false;\n\tstatic int a[100000];\n\t\n\tcin >> N;\n\tfor(int i=0;i<N;i++){\n\t\tcin >> a[i];\n\t}\n\t\n\tfor(int i=0;i<N;i++){\n\t\tint j=i;\n\t\twhile(1){\n\t\t\tj += a[j];\n\t\t\tj %= N;\n\t\t\tif(g[j]){\n\t\t\t\tfin = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(j == i){\n\t\t\t\tg[j] = true;\n\t\t\t\tfin = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(s[j]){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(b[j]){\n\t\t\t\ts[j] = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tb[j] = true;\n\t\t}\n\t\tif(fin){\n\t\t\tans++;\n\t\t\tfin = false;\n\t\t\tfor(int j=0;j<N;j++){\n\t\t\t\tif(b[j]){\n\t\t\t\t\tg[j]=true;\n\t\t\t\t\tb[j]=false;\n\t\t\t\t}\n\t\t\t}\n\t\t}else{\n\t\t\tfor(int j=0;j<N;j++){\n\t\t\t\tif(b[j]){\n\t\t\t\t\ts[j]=true;\n\t\t\t\t\tb[j]=false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t}\n\tcout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nbool a[10000],s[10000];\nint b[10000], c[10000];\nsigned main() {\n\tint d, sum = 0;\n\tcin >> d;\n\tfor (int e = 0; e < d; e++) {\n\t\tscanf(\"%d\", &b[e]);\n\t}\n\tfor (int i = 0; i < d; i++) {\n\t\tif (!a[i]) {\n\t\t\tmemset(c, 0, sizeof(c));\n\t\t\tint now = i;\n\t\t\twhile (1) {\n\t\t\t\ta[now] = true;\n\t\t\t\tif (c[now] == 2)break;\n\t\t\t\telse if (c[now] == 1)s[now] = true;\n\t\t\t\tc[now]++;\n\t\t\t\tnow += b[now];\n\t\t\t\tnow %= d;\n\t\t\t}\n\t\t}\n\t}\n\tfor (bool u : s)sum += u;\n\tcout << sum << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <iostream>\n#include <algorithm>\nusing namespace std;\nint n, a[100009]; bool cycle[100009], vis1[100009], vis2[100009];\nint main() {\n\tcin >> n;\n\tfor (int i = 0; i < n; i++) cin >> a[i];\n\tfor (int i = 0; i < n; i++) {\n\t\tvector<int> w;\n\t\tint p = i;\n\t\twhile (!vis1[p]) {\n\t\t\tp = (p + a[p]) % n;\n\t\t\tif (vis2[p]) {\n\t\t\t\tint pos = find(w.begin(), w.end(), p) - w.begin();\n\t\t\t\tfor (int j = pos; j < w.size(); j++) cycle[w[j]] = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tw.push_back(p);\n\t\t\tvis2[p] = true;\n\t\t}\n\t\tfor (int j : w) vis1[j] = true, vis2[j] = false;\n\t}\n\tint cnt = 0;\n\tfor (int i = 0; i < n; i++) {\n\t\tif (cycle[i]) cnt++;\n\t}\n\tcout << cnt << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing i64 = long long;\n#define rep(i,s,e) for(i64 (i) = (s);(i) < (e);(i)++)\n#define all(x) x.begin(),x.end()\n#define let auto const\n\ntemplate<typename... Types>\nstruct dynarr: std::vector<Types...> {\n  using std::vector<Types...>::vector;\n  using size_type = typename std::vector<Types...>::size_type;\n  auto&& operator[](size_type i) { return this->at(i); }\n  auto&& operator[](size_type i) const { return this->at(i); }\n};\n\n#include <bits/stdc++.h>\nusing namespace std;\nusing i64 = long long;\n\nvector<i64> strongly_connected_components(const vector<vector<i64>>& g) {\n  i64 n = g.size();\n  vector<vector<i64>> rg(n);\n  for(int i = 0;i < n;i++) {\n    for(auto j: g[i]) {\n      rg[j].push_back(i);\n    }\n  }\n\n  vector<bool> vis(n,false);\n  vector<i64> vs;\n  vector<i64> res(n,-1);\n  function<void(int)> dfs = [&](int v) {\n    vis[v] = true;\n    for(auto& t : g[v]) {\n      if(!vis[t]) dfs(t);\n    }\n    vs.push_back(v);\n  };\n\n  function<void(int,int)> rdfs = [&](int v,int k) {\n    vis[v] = true;\n    res[v] = k;\n    for(auto to : rg[v]) {\n      if(!vis[to]) rdfs(to,k);\n    }\n  };\n\n  for(int i = 0;i < n;i++) {\n    if(!vis[i]) dfs(i);\n  }\n\n  vis.assign(n,false);\n  int k = 0;\n  for(int i = n - 1;i >= 0;i--) {\n    if(!vis[vs[i]]) rdfs(vs[i] , k++);\n  }\n  return res;\n}\n\nint main() {\n  i64 N;\n  cin >> N;\n  vector<i64> a(N);\n  rep(i,0,N) cin >> a[i];\n\n  vector<vector<i64>> g(N);\n  i64 ans = 0;\n  rep(i,0,N) {\n    g[i].push_back((i + a[i]) % N);\n    if(i == (i + a[i]) % N) { ans++; }\n  }\n  auto res = strongly_connected_components(g);\n  map<i64, i64> mp;\n  for(auto x: res) {\n    mp[x]++;\n  }\n  for(auto p: mp) {\n    if(p.second >= 2) {\n      ans += p.second;\n    }\n  }\n  cout << ans << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define Int long long int\n#define REP(i,n) for(int i=0;i<(n);i++)\n#define REAP(i,a,n) for(int i=(a);i<(n);i++)\n#define YES cout<<\"Yes\"<<endl\n#define NO cout<<\"No\"<<endl\n#define fr first\n#define sc second\n#define pb push_back\n#define All(v) v.begin(),v.end()\n\nint main(){\n    int n;\n    cin >> n;\n    vector<int> a(n);\n    REP(i,n)cin >> a[i];\n    int res=0;\n    REP(i,n){\n        vector<int> table(n,0);\n        int next=i;\n        table[next]=1;\n        while(1){\n            next+=a[next];\n            next%=n;\n            if(table[next]==0 ){\n                table[next]=1;\n            }else if(next==i){\n                res++;\n                break;\n            }else{\n                break;\n            }\n        }\n    }\n    cout << res << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\nint x[100005],y[100005],a[100005],ans;\nint main(void){\n    int n;\n    cin>>n;\n    for(int i=0;i<n;i++){\n        int num;\n        cin>>num;\n        a[i]=(i+num)%n;\n    }\n    for(int i=0;i<n;y[i]=-1,i++)x[i]=-1;\n    for(int i=0;i<n;i++){\n        int p=i,c=0;\n        while(x[p]==-1){\n            x[p]=c++;\n            y[p]=i;\n           p=a[p];\n            \n        }\n        if(y[p]==i)ans+=c-x[p];\n    }\n    cout<<ans<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <algorithm>\n#include <string>\n#include <cstring>\n#include <vector>\n#include <queue>\n#include <set>\n#include <map>\n#include <cmath>\n#include <iomanip>\n#include <cassert>\n#include <bitset>\nusing namespace std;\n\ntypedef pair<int, int> P;\n#define rep(i, n) for (int i=0; i<(n); i++)\n#define all(c) (c).begin(), (c).end()\n#define uniq(c) c.erase(unique(all(c)), (c).end())\n#define _1 first\n#define _2 second\n#define pb push_back\n#define INF 1145141919\n#define MOD 1000000007\n\nint N;\nint A[100000];\nvector<int> G[100000], R[100000];\nvector<int> vs;\nbool used[100000];\nint ord[100000];\nint size[100000];\n\nvoid dfs(int x) {\n  if (used[x]) return;\n  used[x] = true;\n  for (int t : G[x]) dfs(t);\n  vs.pb(x);\n}\nvoid rdfs(int x, int k) {\n  if (used[x]) return;\n  used[x] = true;\n  ord[x] = k;\n  for (int t : R[x]) rdfs(t, k);\n}\n\nint scc() {\n  rep(i, N) used[i] = false;\n  rep(i, N) dfs(i);\n  rep(i, N) used[i] = false;\n  int k = 0;\n  for (int i=vs.size()-1; i>=0; i--) {\n    if (!used[vs[i]]) rdfs(vs[i], k++);\n  }\n  return k;\n}\n\nsigned main() {\n  ios::sync_with_stdio(false); cin.tie(0);\n  cin >> N;\n  rep(i, N) {\n    int a;\n    cin >> a;\n    A[i] = (i+a) % N;\n  }\n  int c = 0;\n  rep(i, N) if (A[i] == i) c++;\n  rep(i, N) {\n    G[i].pb(A[i]);\n    R[A[i]].pb(i);\n  }\n  scc();\n  rep(i, N) size[ord[i]]++;\n  rep(i, N) {\n    if (size[ord[i]] >= 2) c++;\n  }\n  cout << c << \"\\n\";\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<(int)n;i++)\n#define all(c) (c).begin(),(c).end()\n#define pb push_back\n#define dbg(...) do{cerr<<__LINE__<<\": \";dbgprint(#__VA_ARGS__, __VA_ARGS__);}while(0);\n\nusing namespace std;\n\nnamespace std{template<class S,class T>struct hash<pair<S,T>>{size_t operator()(const pair<S,T>&p)const{return ((size_t)1e9+7)*hash<S>()(p.first)+hash<T>()(p.second);}};template<class T>struct hash<vector<T>>{size_t operator()(const vector<T> &v)const{size_t h=0;for(auto i : v)h=h*((size_t)1e9+7)+hash<T>()(i)+1;return h;}};}\ntemplate<class T>ostream& operator<<(ostream &os, const vector<T> &v){os<<\"[ \";rep(i,v.size())os<<v[i]<<(i==v.size()-1?\" ]\":\", \");return os;}template<class T>ostream& operator<<(ostream &os,const set<T> &v){os<<\"{ \"; for(const auto &i:v)os<<i<<\", \";return os<<\"}\";}\ntemplate<class T,class U>ostream& operator<<(ostream &os,const map<T,U> &v){os<<\"{\";for(const auto &i:v)os<<\" \"<<i.first<<\": \"<<i.second<<\",\";return os<<\"}\";}template<class T,class U>ostream& operator<<(ostream &os,const pair<T,U> &p){return os<<\"(\"<<p.first<<\", \"<<p.second<<\")\";}\nvoid dbgprint(const string &fmt){cerr<<endl;}template<class H,class... T>void dbgprint(const string &fmt,const H &h,const T&... r){cerr<<fmt.substr(0,fmt.find(\",\"))<<\"= \"<<h<<\" \";dbgprint(fmt.substr(fmt.find(\",\")+1),r...);}\ntypedef long long ll;typedef vector<int> vi;typedef pair<int,int> pi;const int inf = (int)1e9;const double INF = 1e12, EPS = 1e-9;\nvoid visit(const vector<vi> &g, int v, vector< vector<int> >& scc,\n    stack<int> &S, vector<bool> &inS,\n    vector<int> &low, vector<int> &num, int& time) {\n  low[v] = num[v] = ++time;\n  S.push(v); inS[v] = true;\n  for(int w: g[v]) {\n    if (num[w] == 0) {\n      visit(g, w, scc, S, inS, low, num, time);\n      low[v] = min(low[v], low[w]);\n    } else if (inS[w])\n      low[v] = min(low[v], num[w]);\n  }\n  if (low[v] == num[v]) {\n    scc.push_back(vector<int>());\n    while (S.size()) {\n      int w = S.top(); S.pop(); inS[w] = false;\n      scc.back().push_back(w);\n      if (v == w) break;\n    }\n  }\n}\nvector<vi> stronglyConnectedComponents(const vector<vi>& g) {\n  const int n = g.size();\n  vector<int> num(n), low(n);\n  stack<int> S;\n  vector<bool> inS(n);\n\tvector< vector<int> > scc;\n  int time = 0;\n  rep(u, n) if (num[u] == 0)\n    visit(g, u, scc, S, inS, low, num, time);\n\treturn scc;\n}\nint main(){\n\tcin.tie(0); cin.sync_with_stdio(0);\n\tint n; cin >> n;\n\tint ans = 0;\n\tvector<vi> e(n);\n\trep(i, n){\n\t\tint x; cin >> x;\n\t\tint y = (i + x) % n;\n\t\tif(i == y) ans++;\n\t\telse e[i].pb(y);\n\t}\n\tvector<vi> scc = stronglyConnectedComponents(e);\n\tfor(auto v : scc) if(v.size() > 1) ans += v.size();\n\tcout << ans << endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint n;\nint a[100005];\nint x[100005];\nint y[100005];\n\nint main(){\n  scanf(\"%d\",&n);\n  for(int i=0;i<n;i++){\n    cin>>a[i];\n  }\n\n  memset(x,-1,sizeof(x));\n  memset(y,-1,sizeof(y));\n  \n  int ans=0;\n  for(int i=0;i<n;i++){\n    int p=i,c=0;\n    while(x[p]==-1){\n      x[p]=c++;\n      y[p]=i;\n      p=(p+a[p])%n;\n    }\n    if(y[p]==i)ans+=(c-x[p]);\n  }\n\n  cout<<ans<<endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\n\nint main (void){\n\tint N;\n\tint ans = 0;\n\tbool b[100000]={};\n\tbool g[100000]={};\n\tbool s[100000]={};\n\tbool fin = false;\n\tstatic int a[100000];\n\t\n\tcin >> N;\n\tfor(int i=0;i<N;i++){\n\t\tcin >> a[i];\n\t}\n\t\n\tfor(int i=0;i<N;i++){\n\t\tint j=i;\n\t\twhile(1){\n\t\t\tj += a[j];\n\t\t\tj %= N;\n\t\t\tif(g[j]){\n\t\t\t\tfin = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(j == i){\n\t\t\t\tg[j] = true;\n\t\t\t\tfin = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(s[j]){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(b[j]){\n\t\t\t\ts[j] = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tb[j] = true;\n\t\t}\n\t\tif(fin){\n\t\t\tans++;\n\t\t\tfin = false;\n\t\t}\t\t\n\t\tfor(int j=0;j<N;j++){\n\t\t\tb[j]=false;\n\t\t}\n\t}\n\tcout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nint main(){\n  ios_base::sync_with_stdio(false);\n  cin.tie(NULL);\n  int n;\n  cin >> n;\n\n  int data[100010];\n  for(int i = 0;i < n;i++){\n    cin >> data[i];\n  }\n\n  bool ans[100010] = {};\n  bool finish[100010] = {};\n  for(int p = 0;p < n;p++){\n    if(finish[p]) continue;\n    bool used[100010] = {};\n    int now = p;\n    stack<int> dfs;\n    while(!used[now] && !finish[now]){\n      dfs.push(now);\n      used[now] = true;\n      now = (now + data[now]) % n;\n    }\n    bool ok = true;\n    if(finish[now]){\n      ok = false;\n    }\n    while(!dfs.empty()){\n      int tmp = dfs.top();\n      dfs.pop();\n      ans[tmp] = ok;\n      finish[tmp] = true;\n      if(tmp == now) ok = false;\n    }\n  }\n  int anss = 0;\n  for(int i = 0;i < n;i++){\n    if(ans[i]) anss++;\n  }\n  cout << anss << endl;\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "//May be wrong\n#include <iostream>\n#include <vector>\nusing namespace std;\n\nint n;\nint a[100000];\nint flag[100000];\t\t//-1?????????, 0?????¨????????¨, 1???????????????????????¨\nbool visited[100000];\t//visited[i] = ??????i????????¨???????????????\n\nint main() {\n\tint i, j;\n\t\n\tcin >> n;\n\tfor (i = 0; i < n; i++) { cin >> a[i]; flag[i] = -1; visited[i] = false; }\n\t\n\tfor (i = 0; i < n; i++) {\n\t\tint pos = i;\n\t\tvector<int> path;\n\t\t\n\t\tif (flag[pos] != -1) { continue; }\n\t\t\n\t\twhile (true) {\n\t\t\tif (flag[pos] != -1) { break; }\n\t\t\tif (visited[pos]) { break; }\n\t\t\tpath.push_back( pos );\n\t\t\tvisited[pos] = true;\n\t\t\tpos = (pos + a[pos]) % n;\n\t\t}\n\t\t\n\t\tif (visited[pos]) {\t\t\t\n\t\t\tfor (j = (int)path.size() - 1; j >= 0; j--) {\n\t\t\t\tflag[path[j]] = 1;\n\t\t\t\tvisited[path[j]] = false;\n\t\t\t\tif ( path[j] == pos ) { break; }\n\t\t\t}\n\t\t\tfor (j = j - 1; j >= 0; j--) {\n\t\t\t\tflag[path[j]] = 0;\n\t\t\t\tvisited[path[j]] = false;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tfor (j = (int)path.size() - 1; j >= 0; j--) { flag[path[j]] = 0; visited[path[j]] = false; }\n\t\t}\n\t}\n\t\n\tint ans = 0;\n\tfor (i = 0; i < n; i++) {\n\t\tif (flag[i] == 1) {\n\t\t\tans++;\n\t\t}\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<string>\n#include<vector>\n#include<queue>\n#include<set>\n#include<stack>\n#include<functional>\n#include<list>\n#include<map>\n#include<unordered_map>\nusing namespace std;\n\nbool a[100000],s[100000];\nint b[100000], c[100000];\nsigned main() {\n\tint d, sum = 0;\n\tcin >> d;\n\tfor (int e = 0; e < d; e++) {\n\t\tscanf(\"%d\", &b[e]);\n\t}\n\tfor (int i = 0; i < d; i++) {\n\t\tif (!a[i]) {\n\t\t\tmemset(c, 0, sizeof(c));\n\t\t\tint now = i;\n\t\t\twhile (1) {\n\t\t\t\ta[now] = true;\n\t\t\t\tif (c[now] == 2)break;\n\t\t\t\telse if (c[now] == 1)s[now] = true;\n\t\t\t\tc[now]++;\n\t\t\t\tnow += b[now];\n\t\t\t\tnow %= d;\n\t\t\t}\n\t\t}\n\t}\n\tfor (bool u : s)sum += u;\n\tcout << sum << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\n\n//#define int long long\n#define DBG 1\n#define dump(o) if(DBG){cerr<<#o<<\" \"<<o<<endl;}\n#define dumpc(o) if(DBG){cerr<<#o; for(auto &e:(o))cerr<<\" \"<<e;cerr<<endl;}\n#define rep(i,a,b) for(int i=(a);i<(b);i++)\n#define rrep(i,a,b) for(int i=(b)-1;i>=(a);i--)\n#define each(it,c) for(auto it=(c).begin();it!=(c).end();it++)\n#define all(c) c.begin(),c.end()\nconst int INF = sizeof(int) == sizeof(long long) ? 0x3f3f3f3f3f3f3f3fLL : 0x3f3f3f3f;\nconst int MOD = (int)(1e9 + 7);\n\nsigned main() {\n\tint N; cin >> N;\n\tvector<int> a(N); rep(i, 0, N) { cin >> a[i]; }\n\tvector<char> g(N, false);\n\tint ans = 0;\n\tvector<char> f;\n\trep(i, 0, a.size()) {\n\t\tf = vector<char>(N, false);\n\t\tint j = (i + a[i]) % N;\n\t\tif (g[i]) {\n\t\t\tans++;\n\t\t\tcontinue;\n\t\t}\n\t\twhile (true) {\n\t\t\tif (g[j])break;\n\t\t\tif (j == i) {\n\t\t\t\tans++;\n\t\t\t\trep(k, 0, N)\n\t\t\t\t\tg[k] |= f[k];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (f[j])break;\n\t\t\t\tf[j] = true;\n\t\t\t\tj += a[j];\n\t\t\t\tj %= N;\n\t\t\t}\n\t\t}\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nbool a[100000],s[100000];\nint b[100000], c[100000];\nsigned main() {\n\tint d, sum = 0;\n\tcin >> d;\n\tfor (int e = 0; e < d; e++) {\n\t\tscanf(\"%d\", &b[e]);\n\t}\n\tfor (int i = 0; i < d; i++) {\n\t\tif (!a[i]) {\n\t\t\tmemset(c, 0, sizeof(c));\n\t\t\tint now = i;\n\t\t\twhile (1) {\n\t\t\t\ta[now] = true;\n\t\t\t\tif (c[now] == 2)break;\n\t\t\t\telse if (c[now] == 1)s[now] = true;\n\t\t\t\tc[now]++;\n\t\t\t\tnow += b[now];\n\t\t\t\tnow %= d;\n\t\t\t}\n\t\t}\n\t}\n\tfor (bool u : s)sum += u;\n\tcout << sum << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <sstream>\n#include <algorithm>\n#include <vector>\n#include <utility>\n#include <functional>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <deque>\n#include <ctime>\n  \nusing namespace std;\n  \n#define rep(i,n) REP(i,0,n)\n#define REP(i,s,e) for(int i=(s); i<(int)(e); i++)\n#define pb push_back\n#define mp make_pair\n#define all(r) (r).begin(),(r).end()\n#define rall(r) (r).rbegin(),(r).rend()\n#define fi first\n#define se second\n#define println(X) cout<<X<<endl;\n#define DBG(X) cout<<#X<<\" : \"<<X<<endl;\n  \ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<vi> vii;\ntypedef vector<ll> vl;\ntypedef vector<vl> vll;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\n \nconst int INF = 1e9;\nconst ll LINF = 1e18;\nconst ll MOD = 1e9 + 7;\ndouble EPS = 1e-8;\nconst double PI = acos(-1);\n\nstruct SCC{//O(V+E)\n    static const int MAX_V = 10100;\n    int V;\n    vector<int> G[MAX_V], rG[MAX_V];\n    vector<int> vs;\n    bool used[MAX_V];\n    int cmp[MAX_V];\n    vector<vector<int> > res;\n \n \n    SCC(int v) : V(v){};\n    void add_edge(int from, int to){\n        G[from].push_back(to);\n        rG[to].push_back(from);\n    }\n \n    void dfs(int v){\n        used[v] = true;\n        for(int i = 0; i < G[v].size(); i++){\n            if(!used[G[v][i]]) dfs(G[v][i]);\n        }\n        vs.push_back(v);\n    }\n    void rdfs(int v, int k){\n        used[v] = true;\n        cmp[v] = k;\n        for(int i = 0; i < rG[v].size(); i++){\n            if(!used[rG[v][i]]) rdfs(rG[v][i], k);\n        }\n    }\n \n    int scc(){\n        memset(used, 0, sizeof(used));\n        vs.clear();\n        for(int v = 0; v < V; v++){\n            if(!used[v]) dfs(v);\n        }\n        memset(used, 0, sizeof(used));\n        int k = 0;\n        for(int i = vs.size() - 1; i >= 0; i--){\n            if(!used[vs[i]]) rdfs(vs[i], k++);\n        }\n \n        res.clear();\n        res.resize(k);\n        for(int i = 0; i < V; i++){\n            res[cmp[i]].push_back(i);\n        }\n        return k;\n    }\n};\n\nint main(){\n\tint ans = 0;\n\tint n;\n\tcin>>n;\n\tSCC scc(n);\n\trep(i, n) {\n\t\tint a;\n\t\tcin>>a;\n\t\t(a += i ) %= n;\n\t\tif(a == i) ans++;\n\t\telse scc.add_edge(i, a);\n\t}\n\tscc.scc();\n\tfor(auto a : scc.res) {\n\t\tif(a.size()!=1) ans += a.size();\n\t}\n\tcout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "\n#include<iostream>\n#include<algorithm>\n#include<cstdio>\n#include<cmath>\n#include<math.h>\n#include<string>\n#include<string.h>\n#include<stack>\n#include<queue>\n#include<vector>\n#include<utility>\n#include<set>\n#include<map>\n#include<stdlib.h>\n#include<iomanip>\n\nusing namespace std;\n\n#define ll long long\n#define ld long double\n#define EPS 0.0000000001\n#define INF 1e9\n#define MOD 1000000007\n#define rep(i,n) for(i=0;i<n;i++)\n#define loop(i,a,n) for(i=a;i<n;i++)\n#define all(in) in.begin(),in.end()\n#define shosu(x) fixed<<setprecision(x)\n\ntypedef vector<int> vi;\ntypedef pair<int,int> pii;\n\nint main(void) {\n  int i,j;\n  int n;\n  cin>>n;\n  vi a(n);\n  rep(i,n){\n    cin>>a[i];\n    a[i]=(a[i]+i)%n;\n  }\n  vi used(n,0),v(n,0);\n  int ans=0,t=1;\n  rep(i,n)if(used[i]==0){\n    int now=a[i],j=i;\n    v[j]=t;\n    used[j]=1;\n    while(1){\n      if(used[now]){\n\tif(v[now]==v[j])ans+=used[j]+1-used[now];\n\tbreak;\n      }else{\n\tused[now]=used[j]+1;\n\tv[now]=v[j];\n\tj=now;\n\tnow=a[j];\n      }\n    }\n    t++;\n    //    cout<<i<<\" \"<<ans<<endl;\n  }\n  cout<<ans<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nint main(){\n\tint n;\n\tvector<int> v(n);\n\tfor(int i=0;i<n;i++){\n\t\tcin>>v[i];\n\t\tv[i] %= n;\n\t}\n\tint ans = 0;\n\tvector<int> used(n);\n\tfor(int i=0;i<n;i++){\n\t\tif(used[i]){\n\t\t\tif(used[i] == 2) ans++;\n\t\t}\n\t\tint p = i;\n\t\twhile(1){\n\t\t\tif(used[p] == 1){\n\t\t\t\twhile(used[p] == 1){\n\t\t\t\t\tused[p] = 2;\n\t\t\t\t\t(p += v[p]) %= n;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tused[p] = 1;\n\t\t\t(p += v[p]) %= n;\t\n\t\t}\n\t}\n\tfor(int i=0;i<n;i++){\n\t\tans += used[i]==2;\n\t}\n\tcout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define MOD 1000000007\n#define INF 1000000010\n#define EPS 1e-9\n#define fst first\n#define scd second\n\n#define debug(x) cout<<x<<endl;\n#define repi(i,x,n) for(int i=x;i<n;i++)\n#define rep(i,n) repi(i,0,n)\n#define lp(i,n) repi(i,0,n)\n#define repn(i,n) for(int i=n;i>=0;i--)\n#define int long long\n#define endl \"\\n\"\n\n\nsigned main(){\n  cin.tie(0);\t\n  ios::sync_with_stdio(false);\n  int n;\n  cin>>n;\n  int a[100000];\n  int cnt[100000]={0};\n  vector<int> in(100000);\n  rep(i,n){\n    cin>>a[i];\n    a[i]=(i+a[i])%n;\n    in[a[i]]++;\n  }\n  //rep(i,n) cout<<a[i]<<\" \";\n  //cout<<endl;\n  int ans=n;\n  queue<int> p;\n  rep(i,n){\n    if(in[i] == 0){\n      p.push(i);\n    }\n  }\n  while(!p.empty() ){\n    int num=p.front();\n    p.pop();\n    ans--;\n    num=a[num];\n    in[num]--;\n    if(in[num] == 0) p.push(num);\n  }\n      \n      \n  cout<<ans<<endl;\n\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\n\nint main (void){\n\tint N;\n\tint ans = 0;\n\tbool b[100000];\n\tbool g[100000];\n\tbool s[100000];\n\tbool fin = false;\n\tstatic int a[100000];\n\t\n\tcin >> N;\n\tfor(int i=0;i<N;i++){\n\t\tcin >> a[i];\n\t}\n\t\n\tfor(int i=0;i<N;i++){\n\t\tfor(int j=0;j<N;j++){\n\t\t\tb[j] = false;\n\t\t}\n\t\tint j=i;\n\t\twhile(1){\n\t\t\tj += a[j];\n\t\t\t\n\t\t\tif(j >= N){\n\t\t\t\tj %= N;\n\t\t\t}\n\t\t\tif(g[j]){\n\t\t\t\tfin = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(j == i){\n\t\t\t\tg[j] = true;\n\t\t\t\tfin = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(s[j]){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(b[j]){\n\t\t\t\ts[j] = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tb[j] = true;\n\t\t}\n\t\tif(fin){\n\t\t\tans++;\n\t\t\tfin = false;\n\t\t}\n\t\t\n\t}\n\tcout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nusing i64 = long long int;\n\n#define _overload3(_1,_2,_3,name,...) name\n#define _rep(i,n) repi(i,0,n)\n#define repi(i,a,b) for(int i=int(a);i<int(b);++i)\n#define rep(...) _overload3(__VA_ARGS__,repi,_rep,)(__VA_ARGS__)\n#define all(a) a.begin(), a.end()\n\nstruct IoSetup {\n    IoSetup() {\n        cin.tie(nullptr);\n        ios::sync_with_stdio(false);\n        cout << fixed << setprecision(10);\n        cerr << fixed << setprecision(10);\n    }\n} iosetup;\n\nint main(){\n    i64 n;\n    cin >> n;\n    vector<i64> a(n);\n    rep(i, n) cin >> a[i];\n    vector<i64> used(n, 0), tmp(n , 0);\n    i64 ans = 0;\n    rep(i, n){\n        if(used[i]) continue;\n        i64 idx = i;\n        i64 flag;\n        while(true){\n            if(tmp[idx] == 1){\n                flag = 0; // 既存のループに当たる場合\n                break;\n            }else if(tmp[idx] == -1){\n                flag = 1; // 新規のループに当たる場合\n                break;\n            }else{\n                tmp[idx] = -1;\n                idx = (idx + a[idx]) % n;\n            }\n        }\n        if(flag){\n            i64 cnt = 0;\n            while(true){\n                if(used[idx] == 1) break;\n                else{\n                    used[idx] = tmp[idx] = 1;\n                    idx = (idx + a[idx]) % n;\n                    ++cnt;\n                }\n            }\n            ans += cnt;\n        }    \n        idx = i;\n        while(true){\n            if(used[idx] == 1) break;\n            else{\n                used[idx] = tmp[idx] = 1;\n                idx = (idx + a[idx]) % n;\n            }\n        }    \n    }\n    cout << ans << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\nusing namespace std;\nint main(){\n\tint n,ans=0;\n\tcin>>n;\n\tvector<int>a(n),c(n);\n\tvector<bool>f(n);\n\tfor(int i=0;i<n;i++){\n\t\tcin>>a[i];\n\t\tc[i]=0;\n\t\tf[i]=false;\n\t}\n\tfor(int here=0;here<n;here++){\n\t\tif(!c[here]){\n\t\t\twhile(c[here]<3){\n\t\t\t\tc[here]++;\n\t\t\t\there=(here+a[here])%n;\n\t\t\t}\n\t\t\tfor(int j=0;j<n;j++){\n\t\t\t\tif(c[j]==2||c[j]==3)f[j]=true;\n\t\t\t\tif(c[j])c[j]=4;\n\t\t\t}\n\t\t}\n\t}\n\tfor(int i=0;i<n;i++)if(f[i])ans++;\n\tcout<<ans<<endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\ntypedef long long i64;\nusing std::cout;\nusing std::endl;\nusing std::cin;\n\nint n;\nstd::vector<int> g;\n\nint main() {\n\tcin >> n; g.resize(n);\n\tfor(int i = 0; i < n; i++) {\n\t\tint a; cin >> a;\n\t\t\n\t\tg[i] = ((i + a) % n);\n\t}\n\t\n\tstd::set<int> cycle, noncycle;\n\tfor(int i = 0; i < n; i++) {\n\t\tif(cycle.count(i)) continue;\n\t\tif(noncycle.count(i)) continue;\n\t\tstd::vector<int> used;\n\t\tstd::set<int> st;\n\t\t\n\t\tint tmp = i, pos = 0;\n\t\twhile(!st.count(tmp)) {\n\t\t\tif(cycle.count(tmp)) {\n\t\t\t\tpos = -1;\n\t\t\t\tbreak;\n\t\t\t} else if(noncycle.count(tmp)) {\n\t\t\t\tpos = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tused.push_back(tmp);\n\t\t\tst.insert(tmp);\n\t\t\t\n\t\t\ttmp = g[tmp];\n\t\t}\n\t\t\n\t\tbool f = false;\n\t\tif(!pos) {\n\t\t\tfor(auto v : used) {\n\t\t\t\tf |= (v == tmp);\n\t\t\t\tif(f) cycle.insert(v);\n\t\t\t\telse noncycle.insert(v);\n\t\t\t}\n\t\t} else {\n\t\t\tfor(auto v : used) noncycle.insert(v);\n\t\t}\n\t}\n\t\n\tcout << cycle.size() << endl;\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\n#include <functional>\n#include <vector>\n#include <utility>\n#include <cstring>\n#include <iomanip>\n#include <numeric>\n#include <cmath>\n#include <queue>\n#include <map>\n#include <set> \nusing namespace std;\ntypedef long long ll;\nconst int INF = 1<<30; \nconst int MOD = 1e9 + 7;\nint main()\n{\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    int n; cin >> n;\n    vector<int> v(n);\n    vector<int> used(n + 1, -1), num(n + 1, -1);\n    for(int i = 0; i < n; i++) cin >> v[i];\n    ll ans = 0;\n    for(int i = 0; i < n; i++)\n    {\n        int nv = i, cnt = 0;\n        while(used[nv] == -1)\n        {\n            used[nv] = cnt;\n            num[nv] = i;\n            nv = (nv + v[nv]) % n;\n            cnt++;\n        }\n        if(num[nv] == i) ans += cnt - used[nv];\n    }\n    cout << ans << endl;\n    return 0;\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\n\n//#define int long long\n#define DBG 0\n#define dump(o) if(DBG){cerr<<#o<<\" \"<<o<<endl;}\n#define dumpc(o) if(DBG){cerr<<#o; for(auto &e:(o))cerr<<\" \"<<e;cerr<<endl;}\n#define rep(i,a,b) for(int i=(a);i<(b);i++)\n#define rrep(i,a,b) for(int i=(b)-1;i>=(a);i--)\n#define each(it,c) for(auto it=(c).begin();it!=(c).end();it++)\n#define all(c) c.begin(),c.end()\nconst int INF = sizeof(int) == sizeof(long long) ? 0x3f3f3f3f3f3f3f3fLL : 0x3f3f3f3f;\nconst int MOD = (int)(1e9 + 7);\n\nsigned main() {\n\tint N; cin >> N;\n\tvector<int> in(N, 0); //??\\?¬???° \n\tvector<int> next(N); //?¬?????????????id\n\trep(i, 0, N) {\n\t\tint v; cin >> v;\n\t\tv = (i + v) % N;\n\t\tnext[i] = v;\n\t\tin[v]++;\n\t}\n\tdumpc(in);\n\tdumpc(next);\n\n\tqueue<int> Q;\n\trep(i, 0, N)if (in[i] == 0)Q.push(i); //??\\?¬???°???0?????????(????????????????????????)????????\\????????\\??????\n\n\tint ans = N;\n\twhile (!Q.empty()) {\n\t\tint u = Q.front(); Q.pop();\n\t\tans--;\n\t\tint v = next[u];\n\t\tin[v]--;\n\t\tif (in[v] == 0)Q.push(v); //??\\?¬???°???0?????????(????????????????????????)????????\\????????\\??????\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <iostream>\nusing namespace std;\nint n, a[100009]; bool cycle[100009], vis1[100009], vis2[100009];\nint main() {\n\tcin >> n;\n\tfor (int i = 0; i < n; i++) cin >> a[i];\n\tfor (int i = 0; i < n; i++) {\n\t\tvector<int> w;\n\t\tint p = i;\n\t\twhile (!vis1[p]) {\n\t\t\tp = (p + a[p]) % n;\n\t\t\tif (vis2[p]) {\n\t\t\t\tint pos = find(w.begin(), w.end(), p) - w.begin();\n\t\t\t\tfor (int j = pos; j < w.size(); j++) cycle[j] = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tw.push_back(p);\n\t\t\tvis2[p] = true;\n\t\t}\n\t\tfor (int j : w) vis1[j] = true, vis2[j] = false;\n\t}\n\tint cnt = 0;\n\tfor (int i = 0; i < n; i++) {\n\t\tif (cycle[i]) cnt++;\n\t}\n\tcout << cnt << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<iomanip>\n#include<cmath>\n#include<vector>\n#include<algorithm>\n\nusing namespace std;\n\n#define int long long\n#define rep(i,n) for(int i = 0; i < (n); i++)\n#define INF ((long long)1e18)\n#define MOD ((int)1e9+7)\n#define endl \"\\n\"\n\n#define yn(f) ((f)?\"Yes\":\"No\")\n#define YN(f) ((f)?\"YES\":\"NO\")\n\n#define MAX 110000\n\nint N;\nint a[MAX];\nint used[MAX];\nint used2[MAX];\n\nsigned main(){\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\tcout<<fixed<<setprecision(10);\n\t\n\tint ans = 0;\n\t\n\tcin>>N;\n\t\n\tfor(int i = 0; i < N; i++){\n\t\tcin>>a[i];\n\t}\n\t\n\tfor(int i = 0; i < N; i++){\n\t\tif(used[i]) continue;\n\t\tint po = i;\n\t\tfor(int j = 1; ;j++){\n\t\t\t// cout<<\"j = \"<<j<<\" po = \"<<po<<\" \"<<used2[po]<<endl;\n\t\t\tif(used2[po] == i+1){\n\t\t\t\tans += j-used[po];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(used[po]) break;\n\t\t\tused2[po] = i+1;\n\t\t\tused[po] = j;\n\t\t\tpo += a[po];\n\t\t\tpo %= N;\n\t\t}\n\t}\n\t// for(int i = 0; i < N; i++){\n\t\t// cout<<used[i]<<endl;\n\t// }\n\tcout<<ans<<endl;\n\t\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cassert>\n#include<climits>\n#include<algorithm>\n#include<vector>\n#include<cstring>\n#include<deque>\n\n#define REP(i,s,n) for(int i=s;i<n;++i)\n#define rep(i,n) REP(i,0,n)\n\nusing namespace std;\n\n#define MAX 100010\nint n, a[MAX];\nint state[MAX];\nbool visited[MAX];\n\n#define FAIL 0\n#define SUCC 1\n\n\nvoid compute() {\n  memset(state,-1,sizeof state);\n  rep(i,n) {\n    if( state[i] != -1 ) continue;\n    memset(visited, false ,sizeof visited);\n    deque<int> deq;\n    int cur = i;\n    deq.push_back(i);\n    visited[i] = true;\n    while(1) {\n      cur = ( cur + a[cur] ) % n;\n      deq.push_back(cur);\n      if( state[cur] != -1 ) { // fail\n\twhile( !deq.empty() ) {\n\t  state[deq.front()] = FAIL;\n\t  deq.pop_front();\n\t}\n\tbreak;\n      }\n      if( visited[cur] ) {\n\tint stop = cur;\n\tdeq.pop_back();\n\tstate[cur] = SUCC;\n\twhile( deq.back() != stop ) {\n\t  state[deq.back()] = SUCC;\n\t  deq.pop_back();\n\t}\n\tdeq.pop_back();\n\twhile( !deq.empty() ) {\n\t  state[deq.back()] = FAIL;\n\t  deq.pop_back();\n\t}\n\tbreak;\n      } else {\n\tvisited[cur] = true;\n      }\n    }\n  }\n  int answer = 0;\n  rep(i,n) answer += ( state[i] == SUCC );\n  cout << answer << endl;\n}\n\nint main() {\n  if( 0 ) {\n    srand((unsigned int)time(NULL));\n    n = 100000;\n    cout << n << endl;\n    rep(i,n) {\n      if( i ) printf(\" \");\n      cout << rand() % 1000000000 + 1;\n    } puts(\"\");\n    return 0;\n  }\n  cin >> n;\n  rep(i,n) cin >> a[i];\n  compute();\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<queue>\nusing namespace std;\nint main() {\n\tint N;\n\tcin >> N;\n\tvector<int> line(N, 0);\n\tvector<int> to(N);\n\tfor (int i = 0; i < N; ++i) {\n\t\tint a;\n\t\tcin >> a;\n\t\tint go = (i + a) % N;\n\t\t++line[go];\n\t\tto[i] = go;\n\t}\n\tqueue<int> que;\n\tfor (int i = 0; i < N; ++i) {\n\t\tif (line[i] == 0) {\n\t\t\tque.push(i);\n\t\t}\n\t}\n\tint res = 0;\n\twhile (que.empty() == false) {\n\t\tint d = que.front();\n\t\tque.pop();\n\t\t++res;\n\t\tint go = to[d];\n\t\tif (--line[go] == 0) {\n\t\t\tque.push(go);\n\t\t}\n\t}\n\tcout << N - res << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\nconst int N=1e6+10;\nint n,a[N],ans=0,temp,last=-1;\nbool went[N],in[N];\nvoid dfs(int now){\n    in[now]=went[now]=true;\n    if(!went[a[now]])dfs(a[now]);\n    else if(in[a[now]])last=a[now];\n    if(last!=-1){\n        ans++;\n        if(last==now)last=-1;\n    }\n    in[now]=false;\n    return ;\n}\nint main(){\n    scanf(\"%d\",&n);\n    for(int i=0;i<n;i++){\n        scanf(\"%d\",&temp);\n        went[i]=false;\n        in[i]=false;\n        a[i]=(i+temp)%n;\n    }\n    for(int i=0;i<n;i++)if(!went[i])dfs(i);\n    printf(\"%d\\n\",ans);\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> pii;\ntypedef pair<ll,int> plli;\ntypedef pair<int,pii> pipii;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\ntypedef vector<vi> vvi;\ntypedef vector<vvi> vvvi;\ntypedef vector<pii> vpii;\n\n#define int long long\n#define rep(i,n) for (int i=0;i<(n);i++)\n#define rep2(i,a,b) for (int i=(a);i<(b);i++)\n#define rrep(i,n) for (int i=(n);i>=0;i--)\n#define rrep2(i,a,b) for (int i=(a);i>b;i--)\n#define pb push_back\n#define fi first\n#define se second\n#define all(a) (a).begin(),(a).end()\n\nconst ll mod = 1e9 + 7;\nconst ll INF = 1<<30;\nconst int dx4[4] = {1, 0, -1, 0};\nconst int dy4[4] = {0, 1, 0, -1};\nconst int dx8[8] = {1, 1, 1, 0, 0, -1, -1, -1};\nconst int dy8[8] = {0, 1, -1, 1, -1, 0, 1, -1};\nconst double pi = 3.141592653589793;\n\nint  n;\nint a[100000+5];\nbool before[100000+5];\nbool after[100000+5];\nint cnt[100000+5];\n\nsigned main(){\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    cin >> n;\n    rep(i,n) cin >> a[i];\n    int ans=0;\n    rep(i,n){\n        if (before[i]) continue;\n        int l=0;\n        int now=i;\n        int start=i;\n        vector<int> path;\n        bool flag=false;\n        while (true){\n            if (after[now]) break;\n            if (before[now] && !after[now]){\n                flag=true;\n                break;\n            }\n            before[now]=true;\n            cnt[now]=l;\n            path.pb(now);\n            now=(now+a[now])%n;\n            l++;\n        }\n        for (auto i: path) after[i]=true;\n        if (flag){\n            if (start==now) ans+=l;\n            else ans+=l-cnt[now];\n        }\n    }\n    cout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "//4\n\n#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define FOR(i,a,b) for(int i=(a); i<(b); i++)\n#define REP(i,n) FOR(i,0,n)\n#define ALL(v) (v).begin(),(v).end()\n#define fi first\n#define se second\n\ntemplate<typename A, typename B>inline bool chmax(A &a, B b){ if(a<b){a = b; return 1;} return 0;} \ntemplate<typename A, typename B>inline bool chmin(A &a, B b){ if(a>b){a = b; return 1;} return 0;} \n\ntypedef long long ll;\ntypedef pair<int,int>pii;\ntypedef pair<ll,ll>pll;\ntypedef pair<int,pii>pip;\n\nconst ll INF = 1e9 + 100;\nconst ll MOD = 1e9 + 7;\nconst double EPS = 1e-10;\nconst bool debug = 0;\n\nint N;\nint a[112345];\nvector<int> g[112345], rg[112345], vs;\nint cmp[112345];\nvector<int> sinc[112345];\nbool done[112345];\nint an;\n\nvoid dfs(int pos) {\n\tdone[pos] = true;\n\tREP(i, g[pos].size()) {\n\t\tif (!done[g[pos][i]]) dfs(g[pos][i]);\n\t}\n\tvs.push_back(pos);\n}\n\nvoid rdfs(int pos, int k) {\n\tdone[pos] = true;\n\tcmp[pos] = k;\n\tsinc[k].push_back(pos);\n\t\n\tREP(i, rg[pos].size()) {\n\t\tif (!done[rg[pos][i]]) rdfs(rg[pos][i], k);\n\t}\n}\n\nint scc() {\n\tmemset(done, 0, sizeof(done));\n\tvs.clear();\n\tREP(i, N) if (!done[i]) dfs(i);\n\t\n\tmemset(done, 0, sizeof(done));\n\tREP(i, N) sinc[i].clear();\n\t\n\tan = 0;\n\tfor (int i = (int)vs.size() - 1; i >= 0; i--) {\n\t\tif (!done[vs[i]]) {\n\t\t\trdfs(vs[i], an);\n\t\t\tsort(ALL(sinc[an]));\n\t\t\tan++;\n\t\t}\n\t}\n}\n\nint main(){\n\tcin >> N;\n\tREP(i, N) scanf(\"%d\", a + i);\n\t\n\tREP(i, N) {\n\t\tint u = i, v = (i + a[i]) % N;\n\t\tg[u].push_back(v);\n\t\trg[v].push_back(u);\n\t}\n\t\n\tscc();\n\t\n\tint ans = 0;\n\tREP(i, an) if (sinc[i].size() > 1) ans += sinc[i].size();\n\tcout << ans << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint N;\nint a[100001];\n\nint deg[100001] = {0};\n\n// topological sort\nint main(){\n\tscanf(\"%d\",&N);\n\tfor(int i = 0; i < N; i++){\n\t\tscanf(\"%d\",&a[i]);\n\t\tdeg[(i+a[i])%N]++;\n\t}\n\t\n\tqueue<int> q;\n\tfor(int i = 0; i < N; i++){\n\t\tif(deg[i] == 0){\n\t\t\tq.push(i);\n\t\t}\n\t}\n\tint ans = N;\n\twhile(!q.empty()){\n\t\tint t = q.front(); q.pop();\n\t\tint idx = (t+a[t])%N;\n\t\tdeg[idx]--;\n\t\tif(deg[idx] == 0){\n\t\t\tq.push(idx);\n\t\t}\n\t\tans--;\n\t}\n\tprintf(\"%d\\n\", ans);\n\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cassert>\n#include<climits>\n#include<algorithm>\n#include<vector>\n#include<cstring>\n#include<deque>\n\n#define REP(i,s,n) for(int i=s;i<n;++i)\n#define rep(i,n) REP(i,0,n)\n\nusing namespace std;\n\n#define MAX 100010\nint n, a[MAX];\nint state[MAX];\nbool visited[MAX];\n\n#define FAIL 0\n#define SUCC 1\n\n\nvoid compute() {\n  memset(state,-1,sizeof state);\n  rep(i,n) {\n    if( state[i] != -1 ) continue;\n    memset(visited, false ,sizeof visited);\n    deque<int> deq;\n    int cur = i;\n    deq.push_back(i);\n    visited[i] = true;\n    while(1) {\n      cur = ( cur + a[cur] ) % n;\n      deq.push_back(cur);\n      if( state[cur] != -1 ) { // fail\n\tdeq.pop_back();\n\twhile( !deq.empty() ) {\n\t  state[deq.front()] = FAIL;\n\t  deq.pop_front();\n\t}\n\tbreak;\n      }\n      if( visited[cur] ) {\n\tint stop = cur;\n\tdeq.pop_back();\n\tstate[cur] = SUCC;\n\twhile( deq.back() != stop ) {\n\t  state[deq.back()] = SUCC;\n\t  deq.pop_back();\n\t}\n\tassert( deq.back() == stop );\n\tdeq.pop_back();\n\twhile( !deq.empty() ) {\n\t  assert( state[deq.back()] == -1 );\n\t  state[deq.back()] = FAIL;\n\t  deq.pop_back();\n\t}\n\tbreak;\n      } else {\n\tvisited[cur] = true;\n      }\n    }\n  }\n  int answer = 0;\n  rep(i,n) answer += ( state[i] == SUCC );\n  cout << answer << endl;\n}\n\nint main() {\n  if( 0 ) {\n    srand((unsigned int)time(NULL));\n    n = 100000;\n    cout << n << endl;\n    rep(i,n) {\n      if( i ) printf(\" \");\n      //cout << rand() % 1000000000 + 1;\n      cout << 1000000000;\n    } puts(\"\");\n    return 0;\n  }\n  cin >> n;\n  rep(i,n) cin >> a[i];\n  compute();\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\nint n;\n#define MAX 100005\nint a[MAX], x[MAX], y[MAX];\n\nint main() {\n\tcin >> n;\n\tfor (int i = 0; i < n; i++)cin >> a[i];\n\tmemset(x, -1, sizeof(x));\n\tmemset(y, -1, sizeof(y));\n\tint ans = 0;\n\tfor (int i = 0; i < n; i++) {\n\t\tint p = i, c = 0;\n\t\twhile (x[p] == -1) {\n\t\t\tx[p] = c++;\n\t\t\ty[p] = i;\n\t\t\tp = (p + a[p]) % n;\n\t\t}\n\t\tif (y[p] == i)ans += (c - x[p]);\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "# include <iostream>\n# include <algorithm>\n# include <vector>\n# include <string>\n# include <set>\n# include <map>\n# include <cmath>\n# include <iomanip>\n# include <functional>\n# include <utility>\n# include <stack>\n# include <queue>\n# include <list>\n# include <tuple>\n# include <unordered_map>\n# include <numeric>\n# include <complex>\n# include <bitset>\n# include <random>\n# include <chrono>\n# include <cstdlib>\n# include <tuple>\n# include <array>\nusing namespace std;\nusing LL = long long;\nusing ULL = unsigned long long;\nusing D = double;\nconstexpr int INF = 2147483647;\nconstexpr int HINF = INF / 2;\nconstexpr double DINF = 100000000000000000.0;\nconstexpr double HDINF = 50000000000000000.0;\nconstexpr long long LINF = 9223372036854775807;\nconstexpr long long HLINF = 4500000000000000000;\nconst double PI = acos(-1);\ntemplate <typename T_char>T_char TL(T_char cX) { return tolower(cX); };\ntemplate <typename T_char>T_char TU(T_char cX) { return toupper(cX); };\ntypedef pair<LL, LL> pii;\nconst int vy[] = { -1, -1, -1, 0, 1, 1, 1, 0 }, vx[] = { -1, 0, 1, 1, 1, 0, -1, -1 };\nconst int dx[4] = { 0,1,0,-1 }, dy[4] = { 1,0,-1,0 };\nint popcnt(unsigned long long n) { int cnt = 0; for (int i = 0; i < 64; i++)if ((n >> i) & 1)cnt++; return cnt; }\nint d_sum(LL n) { int ret = 0; while (n > 0) { ret += n % 10; n /= 10; }return ret; }\nint d_num(LL n) { int ret = 0; while (n > 0) { ret++; n /= 10; }return ret; }\nLL gcd(LL a, LL b) { if (b == 0)return a; return gcd(b, a%b); };\nLL lcm(LL a, LL b) { LL g = gcd(a, b); return a / g*b; };\n# define ALL(qpqpq)           (qpqpq).begin(),(qpqpq).end()\n# define RALL(qpqpq)           (qpqpq).rbegin(),(qpqpq).rend()\n# define UNIQUE(wpwpw)        sort(ALL((wpwpw)));(wpwpw).erase(unique(ALL((wpwpw))),(wpwpw).end())\n# define LOWER(epepe)         transform(ALL((epepe)),(epepe).begin(),TL<char>)\n# define UPPER(rprpr)         transform(ALL((rprpr)),(rprpr).begin(),TU<char>)\n# define FOR(i,tptpt,ypypy)   for(LL i=(tptpt);i<(ypypy);i++)\n# define RFOR(i,tptpt,ypypy)  for(LL i=(tptpt);i>=(ypypy);i--)\n# define REP(i,upupu)         FOR(i,0,upupu)\n# define INIT                 std::ios::sync_with_stdio(false);std::cin.tie(0)\n\nint n;\nint a[101010], in[101010];\nbool used[101010];\n\nint main() {\n\tcin >> n;\n\tREP(i, n) {\n\t\tcin >> a[i];\n\t\ta[i] = (i + a[i]) % n;\n\t\tin[a[i]]++;\n\t}\n\tint cnt = 0;\n\tqueue<int> que;\n\tREP(i, n) {\n\t\tif (!in[i] && !used[i]) {\n\t\t\tused[i] = true;\n\t\t\tque.push(i);\n\t\t}\n\t\twhile (que.size()) {\n\t\t\tint v = que.front();\n\t\t\tque.pop();\n\t\t\tcnt++;\n\t\t\tin[a[v]]--;\n\t\t\tif (!used[a[v]] && !in[a[v]]) {\n\t\t\t\tused[a[v]] = true;\n\t\t\t\tque.push(a[v]);\n\t\t\t}\n\t\t}\n\t}\n\tcout << n - cnt << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cassert>\n#include<climits>\n#include<algorithm>\n#include<vector>\n#include<cstring>\n#include<deque>\n\n#define REP(i,s,n) for(int i=s;i<n;++i)\n#define rep(i,n) REP(i,0,n)\n\nusing namespace std;\n\n#define MAX 100010\nint n, a[MAX];\nint state[MAX];\nbool visited[MAX];\n\n#define FAIL 0\n#define SUCC 1\n\n\nvoid compute() {\n  memset(state,-1,sizeof state);\n  rep(i,n) {\n    if( state[i] != -1 ) continue;\n    memset(visited, false ,sizeof visited);\n    deque<int> deq;\n    int cur = i;\n    deq.push_back(i);\n    visited[i] = true;\n    while(1) {\n      cur = ( cur + a[cur] ) % n;\n      deq.push_back(cur);\n      if( state[cur] != -1 ) { // fail\n\twhile( !deq.empty() ) {\n\t  state[deq.front()] = FAIL;\n\t  deq.pop_front();\n\t}\n\tbreak;\n      }\n      if( visited[cur] ) {\n\tint stop = cur;\n\tdeq.pop_back();\n\tstate[cur] = SUCC;\n\twhile( deq.back() != stop ) {\n\t  state[deq.back()] = SUCC;\n\t  deq.pop_back();\n\t}\n\tdeq.pop_back();\n\twhile( !deq.empty() ) {\n\t  state[deq.back()] = FAIL;\n\t  deq.pop_back();\n\t}\n\tbreak;\n      } else {\n\tvisited[cur] = true;\n      }\n    }\n  }\n  int answer = 0;\n  rep(i,n) answer += ( state[i] == SUCC );\n  cout << answer << endl;\n}\n\nint main() {\n  if( 0 ) {\n    srand((unsigned int)time(NULL));\n    n = 100000;\n    cout << n << endl;\n    rep(i,n) {\n      if( i ) printf(\" \");\n      cout << rand() % 1000000000 + 1;\n    } puts(\"\");\n    return 0;\n  }\n  cin >> n;\n  rep(i,n) cin >> a[i];\n  compute();\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\nusing namespace std;\nint main(){\n\tunsigned int n,ans=0;\n\tcin>>n;\n\tvector<int>a(n);\n\tvector<char>c(n);\n\tfor(int i=0;i<n;i++){\n\t\tcin>>a[i];\n\t\tc[i]=0;\n\t}\n\tfor(int here=0;here<n;here++){ \n\t\tif(!c[here]){\n\t\t\twhile(c[here]<2){\n\t\t\t\tc[here]++;\n\t\t\t\there=(here+a[here])%n;\n\t\t\t}\n\t\t\tfor(int j=0;j<n;j++)\n\t\t\t\tif(c[j]){\n\t\t\t\t\tif(c[j]==2)ans++;\n\t\t\t\t\tc[j]=10;\n\t\t\t\t}\n\t\t}\n\t}\n\tcout<<ans<<endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <iostream>\n#include <algorithm>\nusing namespace std;\nint n, a[100009]; bool cycle[100009], vis1[100009], vis2[100009];\nint main() {\n\tcin >> n;\n\tfor (int i = 0; i < n; i++) cin >> a[i];\n\tfor (int i = 0; i < n; i++) {\n\t\tvector<int> w;\n\t\tint p = i;\n\t\twhile (!vis1[p]) {\n\t\t\tp = (p + a[p]) % n;\n\t\t\tif (vis2[p]) {\n\t\t\t\tint pos = find(w.begin(), w.end(), p) - w.begin();\n\t\t\t\tfor (int j = pos; j < w.size(); j++) cycle[j] = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tw.push_back(p);\n\t\t\tvis2[p] = true;\n\t\t}\n\t\tfor (int j : w) vis1[j] = true, vis2[j] = false;\n\t}\n\tint cnt = 0;\n\tfor (int i = 0; i < n; i++) {\n\t\tif (cycle[i]) cnt++;\n\t}\n\tcout << cnt << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\n\nint main (void){\n\tint N,root;\n\tint ans = 0 , ROOT = 0;\n\tbool b1[100000]={};\n\tbool b2[100000]={};\n\tbool b3[100000]={};\n\tbool fin = false;\n\tstatic int a[100000];\n\t\n\tcin >> N;\n\tfor(int i=0;i<N;i++){\n\t\tcin >> a[i];\n\t}\n\t\n\tfor(int i=0;i<N;i++){\n\t\troot = i;\n\t\tif(b3[root] == false){\n\t\t\t//___________________________________\n\t\t\twhile(1){\n\t\t\t\tif(b1[root]){\n\t\t\t\t\tif(b2[root]){\n\t\t\t\t\t\tif(b3[root]){\n\t\t\t\t\t\t\tfor(int j=0;j<N;j++){\n\t\t\t\t\t\t\t\tb1[j] = false;\n\t\t\t\t\t\t\t\tif(b2[j]){\n\t\t\t\t\t\t\t\t\tif(b3[j] == false){\n\t\t\t\t\t\t\t\t\t\tb3[j] = true;\n\t\t\t\t\t\t\t\t\t\tans++;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tb3[root] = true;\n\t\t\t\t\t\t\tans++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tb2[root] = true;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tb1[root] = true;\n\t\t\t\t}\n\t\t\t\troot += a[root];\n\t\t\t\troot %= N;\n\t\t\t}\n\t\t\t//___________________________________\n\t\t}\n\t}\n\tcout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\n#define MAX 100000\nint a[MAX], inDeg[MAX];\n\nint main(){\n\tint n;\tcin>>n;\n\tfor(int i=0; i<n; i++){\n\t\tcin>>a[i];\n\t\tint nextPos=(i+a[i])%n;\n\t\tinDeg[nextPos]++;\n\t}\n\n\tint ans=n;\n\tqueue<int> Q;\n\tfor(int i=0;i<n;i++){\n\t\tif(inDeg[i]==0){\n\t\t\tQ.push(i);\n\t\t}\n\t}\n\twhile(Q.empty()==false){\n\t\tint now=Q.front();\tQ.pop();\n\t\t// inDeg == 0 なら間違いなくループしてないので、nowスタートによるループ不能\n\t\t// -> ans -= 1\n\t\tans--;\n\n\t\tint nextPos=(now+a[now])%n;\n\t\tinDeg[nextPos]--;\n\t\tif(inDeg[nextPos]==0){\n\t\t\t// now の次の地点のinDeg==1なら、ループしてない点からしか繋がってない\n\t\t\t// すなわち、nextPosもループ不能\n\t\t\tQ.push(nextPos);\n\t\t}\n\t}\n\n\tcout<<ans<<endl;\n\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<unordered_map>\n#include<utility>\ntemplate<typename T>\nclass UnionFind {\n public:\n  void unite(const T& a, const T& b) {\n    T x = find(a), y = find(b);\n    if(size_[x] < size_[y]) std::swap(x, y);\n    if(x != y) parent_[y] = x, size_[x] += size_[y];\n  }\n  const T find(const T& x) {\n    if(!parent_.count(x)) {\n      size_[x] = 1;\n      return parent_[x] = x;\n    }\n    return (parent_[x] == x) ? x : (parent_[x] = find(parent_[x]));\n  }\n  const int size(const T& x) {\n    return size_[find(x)];\n  }\n private:\n  std::unordered_map<T, T> parent_;\n  std::unordered_map<T, int> size_;\n};\n\n#include<bits/stdc++.h>\nusing namespace std;\nint main() {\n  int N;\n  cin >> N;\n  vector<int> a(N);\n  for(auto& i: a) cin >> i;\n\n  UnionFind<int> scc;\n  vector<bool> visited(N);\n\n  function<bool(int, vector<int>&)> dfs = [&](auto v, auto& path) {\n    if(visited[v]) {\n      auto it = find(begin(path), end(path), v);\n      if(it == end(path)) return false;\n      for(int i = it - begin(path); i < path.size() - 1; ++i) scc.unite(path[i], path[i + 1]);\n      return true;\n    }\n    visited[v] = true;\n    path.emplace_back(v);\n    return dfs((v + a[v]) % N, path);\n  };\n\n  for(auto i = 0; i < N; ++i) {\n    vector<int> path;\n    if(!visited[i]) dfs(i, path);\n  }\n\n  set<int> rep;\n  for(auto i = 0; i < N; ++i) rep.insert(scc.find(i));\n  int ans = 0;\n  for(auto i: rep) if(scc.size(i) != 1) ans += scc.size(i);\n  cout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\nusing namespace std;\nint main(){\n\tunsigned int n,ans=0;\n\tcin>>n;\n\tvector<int>a(n),c(n);\n\tfor(int i=0;i<n;i++){\n\t\tcin>>a[i];\n\t\tc[i]=0;\n\t}\n\tfor(int here=0;here<n;here++){ \n\t\tif(!c[here]){\n\t\t\twhile(c[here]<2){\n\t\t\t\tc[here]++;\n\t\t\t\there=(here+a[here])%n;\n\t\t\t}\n\t\t\tfor(int j=0;j<n;j++)\n\t\t\t\tif(c[j]){\n\t\t\t\t\tif(c[j]==2)ans++;\n\t\t\t\t\tc[j]=10;\n\t\t\t\t}\n\t\t}\n\t}\n\tcout<<ans<<endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define  _CRT_SECURE_NO_WARNINGS\n#include <stdio.h>\n#include <algorithm>\n#include <utility>\n#include <functional>\n#include <cstring>\n#include <queue>\n#include <stack>\n#include <math.h>\n#include <iterator>\n#include <vector>\n#include <string>\n#include <set>\n#include <math.h>\n#include <iostream>\n#include <random>\n#include<map>\n#include <iomanip>\n#include <time.h>\n#include <stdlib.h>\n#include <list>\n#include <typeinfo>\n#include <list>\n#include <set>\n#include <cassert>\n#include<fstream>\n#include <unordered_map>\n#include <cstdlib>\n#include <complex>\nusing namespace std;\n#define Ma_PI 3.141592653589793\n#define eps 0.00000001\n#define LONG_INF 3000000000000000000\n#define GOLD 1.61803398874989484820458\n#define MAX_MOD 1000000007\n#define MOD 998244353\n#define REP(i,n) for(long long i = 0;i < n;++i)    \n#define seg_size 524288\ndouble dot(complex<double> a, complex<double> b) {\n\treturn a.real() * b.real() + a.imag() * b.imag();\n}\ndouble gyaku_dot(complex<double> a, complex<double> b) {\n\treturn a.real() * b.imag() - a.imag() * b.real();\n}\ndouble leng(complex<double> a) {\n\treturn sqrt(a.real()*a.real() + a.imag()*a.imag());\n}\ndouble angles(complex<double> a, complex<double> b) {\n\tdouble cosine = dot(a, b) / (leng(a) * leng(b));\n\tdouble sine = gyaku_dot(a, b) / (leng(a) * leng(b));\n\tdouble kaku = acos(cosine);\n\tif (sine <= 0) {\n\t\tkaku = 2 * Ma_PI - kaku;\n\t}\n\treturn kaku;\n}\nvector<int> convex_hull(vector<complex<double>> a) {\n\tvector<int> ans;\n\tdouble now_minnest = a[0].real();\n\tint now_itr = 0;\n\tREP(i, a.size()) {\n\t\tif (now_minnest > a[i].real()) {\n\t\t\tnow_minnest = a[i].real();\n\t\t\tnow_itr = i;\n\t\t}\n\t}\n\tans.push_back(now_itr);\n\tcomplex<double> ba(0, 1);\n\twhile (true) {\n\t\tint now_go = 0;\n\t\tdouble now_min = 0;\n\t\tint starter = ans[ans.size() - 1];\n\t\tfor (int i = 0; i < a.size();++i) {\n\t\t\tif (i != starter) {\n\t\t\t\tdouble goa = angles(ba, a[i] - a[starter]);\n\t\t\t\tif (goa > now_min) {\n\t\t\t\t\tnow_min = goa;\n\t\t\t\t\tnow_go = i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (now_go == ans[0]) break;\n\t\tans.push_back(now_go);\n\t\tba = complex<double>(a[now_go] - a[starter]);\n\t}\n\treturn ans;\n}\nint n;\nint input[200000] = {};\nint visited[200000] = {};\nint findings(int a) {\n\twhile (visited[a] != 2) {\n\t\tvisited[a] = 2;\n\t\ta += input[a];\n\t\ta %= n;\n\t}\n\treturn 0;\n}\nint moved(int a) {\n\tvisited[a] = 1;\n\tif (visited[(a + input[a]) % n] == 0) {\n\t\tmoved((a + input[a]) % n);\n\t}\n\telse if (visited[(a + input[a]) % n] == 1) {\n\t\tfindings(a);\n\t}\n\tif(visited[a] == 1){\n\t\tvisited[a] = 3;\n\t}\n\treturn 0;\n}\nint main(){\n\tcin >> n;\n\tREP(i, n) {\n\t\tcin >> input[i];\n\t}\n\tREP(i, n) {\n\t\tif (visited[i] == 0) {\n\t\t\tmoved(i);\n\t\t}\n\t}\n\tint ans = 0;\n\tREP(i, n) {\n\t\tif (visited[i] == 2) ans++;\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main() {\n  int N;\n  cin >> N;\n  vector<int> a(N);\n  for(auto& i: a) cin >> i;\n\n  auto nex = [&](int i) {return (i + a[i]) % N;};\n\n  vector<int> indegree(N);\n  for(auto i = 0; i < N; ++i) ++indegree[nex(i)];\n\n  int ans = N;\n  queue<int> q;\n  for(auto i = 0; i < N; ++i) if(!indegree[i]) q.emplace(i);\n  while(!q.empty()) {\n    auto n = nex(q.front());\n    q.pop();\n    --ans;\n    if(! --indegree[n]) q.emplace(n);\n  }\n  cout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\n\nint main (void){\n\tint N;\n\tint ans = 0;\n\tbool b[100000];\n\tbool fin = false;\n\tstatic int a[100000];\n\t\n\tcin >> N;\n\tfor(int i=0;i<N;i++){\n\t\tcin >> a[i];\n\t}\n\t\n\tfor(int i=0;i<N;i++){\n\t\t\n\t\tfor(int j=0;j<N;j++){\n\t\t\tb[j] = false;\n\t\t}\n\t\tint j=i;\n\t\twhile(1){\n\t\t\tj += a[j];\n\t\t\t\n\t\t\tif(j >= N){\n\t\t\t\tj %= N;\n\t\t\t}\n\t\t\tif(j == i){\n\t\t\t\tfin = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(b[j]){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tb[j] = true;\n\t\t}\n\t\tif(fin){\n\t\t\tans++;\n\t\t\tfin = false;\n\t\t}\n\t\t\n\t}\n\tcout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<vector>\nusing namespace std;\nconst int N=100010;\nint n,A[N],num[N],id[N],c;\nint dfs(int v,int p){\n    if(p!=-1){\n        if(id[v]){\n            if(id[v]==id[p]){\n                return num[p]-num[v]+1;\n            }\n            else return 0;\n        }else{\n            num[v]=num[p]+1;\n            id[v]=c;\n        }\n    }\n    return dfs((v+A[v])%n,v);\n}\nint main(){\n    cin>>n; \n    for(int i=0;i<n;i++){\n        scanf(\"%d\",A+i);\n    }\n    int ans=0;\n    for(int i=0;i<n;i++){\n        if(id[i]) continue;\n        c++;\n        id[i]=c;\n        num[i]=1;\n        ans+=dfs(i,-1);\n    }\n    cout<<ans<<endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <cmath>\n#include <algorithm>\n#include <stack>\n#include <queue>\n#include <vector>\ntypedef long long int ll;\n\nusing namespace std;\n\nstruct Info{\n\tint type;\n\tbool first_check;\n};\n\nint main(){\n\n\tint N,current,base;\n\tscanf(\"%d\",&N);\n\n\tint* table = new int[N];\n\tInfo* info = (Info*)malloc(sizeof(Info)*(N));\n\n\tfor(int i = 0; i< N; i++){\n\t\tscanf(\"%d\",&table[i]);\n\t\tinfo[i].type = 0;\n\t\tinfo[i].first_check = false;\n\t}\n\n\tfor(int i = 0; i < N; i++){\n\t\tif(info[i].type == 0){\n\t\t\tinfo[i].first_check = true;\n\t\t\tcurrent = (i + table[i])%N;\n\t\t\twhile(info[current].first_check == false && info[current].type == 0){\n\t\t\t\tinfo[current].first_check = true;\n\t\t\t\tcurrent = (current + table[current])%N;\n\t\t\t}\n\t\t\tif(current == i){\n\t\t\t\tinfo[i].type = 1;\n\t\t\t\tcurrent = (i + table[i])%N;\n\t\t\t\twhile(current != i){\n\t\t\t\t\tinfo[current].type = 1;\n\t\t\t\t\tcurrent = (current + table[current])%N;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(info[current].type != 0){\n\t\t\t\t\t info[i].type = -1;\n\t\t\t\t\tcurrent = (i + table[i])%N;\n\t\t\t\t\twhile(info[current].type == 0){\n\t\t\t\t\t\tinfo[current].type = -1;\n\t\t\t\t\t\tcurrent = (current + table[current])%N;\n\t\t\t\t\t}\n\t\t\t\t}else{ //current.type == 0\n\t\t\t\t\tinfo[current].type = 1;\n\t\t\t\t\tbase = current;\n\t\t\t\t\tcurrent = (current + table[current])%N;\n\t\t\t\t\twhile(current != base){\n\t\t\t\t\t\tinfo[current].type = 1;\n\t\t\t\t\t\tcurrent = (current + table[current])%N;\n\t\t\t\t\t}\n\n\t\t\t\t\tinfo[i].type = -1;\n\t\t\t\t\tcurrent = (i + table[i])%N;\n\t\t\t\t\twhile(info[current].type == 0){\n\t\t\t\t\t\tinfo[current].type = -1;\n\t\t\t\t\t\tcurrent = (current + table[current])%N;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tint count = 0;\n\tfor(int i = 0; i < N; i++){\n\t\tif(info[i].type == 1)count++;\n\t}\n\n\tprintf(\"%d\\n\",count);\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <queue>\n\nusing namespace std;\n\nint n, a[100000], v[100000];\n\nint main() {\n    cin >> n;\n    for (int i = 0; i < n; ++i)\n        cin >> a[i];\n    \n    for (int i = 0; i < n; ++i) {\n        if (v[i] == 0) {\n            int t = i;\n            queue<int> q;\n            while (1) {\n                if (v[t] == 1) { //?????????\n                    while (!q.empty()) {\n                        if (q.front() != t)\n                            v[q.front()] = 2;\n                        else\n                            break;\n                        q.pop();\n                    }\n                    break;\n                }\n                \n                v[t] = 1;\n                q.push(t);\n                \n                (t += a[t]) %= n;\n            }\n        }\n    }\n    \n    cout << count(v, v + n, 1) << endl;\n    \n    return 0;\n}"
  },
  {
    "language": "Haskell",
    "code": "from itertools import dropwhile\n\nn = int(input())\nd = list(map(int,input().split()))\nc = set()\n\nfor i in range(n):\n\n    if i in c:\n        continue\n\n    j = i\n    t = []\n    while True:\n        if j in c:\n            break\n        elif j in t:\n            #    print(\"i={0},j={1}\".format(i,j))\n            if i == j:\n                c = c.union(t)\n            else:\n                #        print(\"t={0}\".format(t))\n                tt = dropwhile(lambda x: x != j, t)\n                c = c.union(tt)\n            break\n        else:\n            t.append(j)\n            j = (j + d[j]) % n\nprint( len(c) )"
  },
  {
    "language": "Haskell",
    "code": "import Control.Applicative\nimport Control.Monad\nimport Control.Monad.ST\n-- import qualified Data.ByteString as BS\nimport Data.Functor\nimport Data.Function\nimport Data.Monoid\nimport Data.Maybe\nimport Data.List\nimport qualified Data.Foldable as Foldable\nimport qualified Data.Set as Set\n--import qualified Data.Sequence as Sequence\nimport Data.List.Split\nimport Data.Bits\nimport Data.Char\nimport Data.Ix\nimport Data.Ratio\nimport Data.Ord\nimport Data.Tuple\nimport Data.Array\n--import Data.Array.Unboxed\n--import Data.Array.IArray\nimport Data.Array.MArray\nimport Data.Array.IO\nimport Data.Array.ST\nimport Data.IORef\nimport Data.STRef\nimport GHC.ST\n-- import System.IO.Unsafe\n \n-- templete\nreadInt = read :: String -> Int\nreadInteger = read :: String -> Integer\nreadDouble = read :: String -> Double\ngetInt = readLn :: IO Int\ngetInts = map readInt . words <$> getLine\ngetInteger = readLn :: IO Integer\ngetIntegers = map readInteger . words <$> getLine\ngetDouble = readLn :: IO Double\ngetDoubles = map readDouble . words <$> getLine\nsjoin :: (Show a) => [a] -> String\nsjoin = unwords . map show\ntjoin :: (Show a, Show b) => (a, b) -> String\ntjoin (x, y) = show x ++ (' ' : show y)\ncond :: a -> a -> Bool -> a\ncond t f c = if c then t else f\napply2 :: (a -> a -> b) -> [a] -> b\napply2 f [x,y] = f x y\napply3 :: (a -> a -> a -> b) -> [a] -> b\napply3 f [x,y,z] = f x y z\napply4 :: (a -> a -> a -> a -> b) -> [a] -> b\napply4 f [x,y,z,w] = f x y z w\nfnTuple :: (a -> b, a -> c) -> a -> (b, c)\nfnTuple (f,g) a = (f a, g a)\nreplace :: (Eq a) => a -> a -> [a] -> [a]\nreplace x y = map (\\z -> if z==x then y else z)\nbinMap :: (a -> a -> b) -> [a] -> [b]\nbinMap f (x:xs@(y:_)) = f x y : binMap f xs\nbinMap _ _ = []\nsplitRec :: Int -> [a] -> [[a]]\nsplitRec _ [] = []\nsplitRec n xs = let (y,ys) = splitAt n xs in y : splitRec n ys\ninfixl 7 `divCeil`\ndivCeil :: Integral a => a -> a -> a\nx `divCeil` y = (x+y-1) `div` y\ncoverC :: Ord a => (a, a) -> a -> Bool\ncoverC (l,r) x = l<=x && x<=r\ncoverH :: Ord a => (a, a) -> a -> Bool\ncoverH (l,r) x = l<=x && x<r\nibsearch :: (Int -> Bool) -> (Int,Int) -> Int\nibsearch f (ok,ng) = if abs (ok-ng) <= 1 then ok else let mid = (ok + ng) `div` 2 in ibsearch f (if f mid then (mid,ng) else (ok,mid))\nwhenM :: Monad m => m Bool -> m () -> m ()\nwhenM c a = c >>= flip when a\n-- templete\n\ndata Visited = Yet | Temp Int | Perm deriving (Show, Eq)\n\nf :: Int -> [Int] -> Int\nf n as = runST $ do\n    let next = listArray (0,n-1) $ zipWith (((`mod`n) .) . (+)) [0..n-1] as :: Array Int Int\n    visited <- newArray (0,n-1) Yet :: ST s (STArray s Int Visited)\n    let searchStart i = search next visited i i 1 in sum <$> mapM searchStart [0..n-1]\n  where\n    visitPerm :: Array Int Int -> STArray s Int Visited -> Int -> ST s ()\n    visitPerm next visited x = do\n        state <- readArray visited x\n        case state of\n            Temp _ -> writeArray visited x Perm >> visitPerm next visited (next!x)\n            _ -> return ()\n    search next visited ix x i = do\n        state <- readArray visited x\n        case state of\n            Yet -> writeArray visited x (Temp i) >>search next visited ix (next!x) (i+1)\n            Temp j -> do\n                let res = i-j\n                visitPerm next visited ix\n                return res\n            Perm -> return 0\n\n\nmain = do\n    f <$> getInt <*> getInts >>= print\n\n"
  },
  {
    "language": "Haskell",
    "code": "import Control.Applicative\nimport Control.Monad\nimport Control.Monad.ST\n-- import qualified Data.ByteString as BS\nimport Data.Functor\nimport Data.Function\nimport Data.Monoid\nimport Data.Maybe\nimport Data.List\nimport qualified Data.Foldable as Foldable\nimport qualified Data.Set as Set\n--import qualified Data.Sequence as Sequence\nimport Data.List.Split\nimport Data.Bits\nimport Data.Char\nimport Data.Ix\nimport Data.Ratio\nimport Data.Ord\nimport Data.Tuple\nimport Data.Array\n--import Data.Array.Unboxed\n--import Data.Array.IArray\nimport Data.Array.MArray\nimport Data.Array.IO\nimport Data.Array.ST\nimport Data.IORef\nimport Data.STRef\nimport GHC.ST\n-- import System.IO.Unsafe\n \n-- templete\nreadInt = read :: String -> Int\nreadInteger = read :: String -> Integer\nreadDouble = read :: String -> Double\ngetInt = readLn :: IO Int\ngetInts = map readInt . words <$> getLine\ngetInteger = readLn :: IO Integer\ngetIntegers = map readInteger . words <$> getLine\ngetDouble = readLn :: IO Double\ngetDoubles = map readDouble . words <$> getLine\nsjoin :: (Show a) => [a] -> String\nsjoin = unwords . map show\ntjoin :: (Show a, Show b) => (a, b) -> String\ntjoin (x, y) = show x ++ (' ' : show y)\ncond :: a -> a -> Bool -> a\ncond t f c = if c then t else f\napply2 :: (a -> a -> b) -> [a] -> b\napply2 f [x,y] = f x y\napply3 :: (a -> a -> a -> b) -> [a] -> b\napply3 f [x,y,z] = f x y z\napply4 :: (a -> a -> a -> a -> b) -> [a] -> b\napply4 f [x,y,z,w] = f x y z w\nfnTuple :: (a -> b, a -> c) -> a -> (b, c)\nfnTuple (f,g) a = (f a, g a)\nreplace :: (Eq a) => a -> a -> [a] -> [a]\nreplace x y = map (\\z -> if z==x then y else z)\nbinMap :: (a -> a -> b) -> [a] -> [b]\nbinMap f (x:xs@(y:_)) = f x y : binMap f xs\nbinMap _ _ = []\nsplitRec :: Int -> [a] -> [[a]]\nsplitRec _ [] = []\nsplitRec n xs = let (y,ys) = splitAt n xs in y : splitRec n ys\ninfixl 7 `divCeil`\ndivCeil :: Integral a => a -> a -> a\nx `divCeil` y = (x+y-1) `div` y\ncoverC :: Ord a => (a, a) -> a -> Bool\ncoverC (l,r) x = l<=x && x<=r\ncoverH :: Ord a => (a, a) -> a -> Bool\ncoverH (l,r) x = l<=x && x<r\nibsearch :: (Int -> Bool) -> (Int,Int) -> Int\nibsearch f (ok,ng) = if abs (ok-ng) <= 1 then ok else let mid = (ok + ng) `div` 2 in ibsearch f (if f mid then (mid,ng) else (ok,mid))\nwhenM :: Monad m => m Bool -> m () -> m ()\nwhenM c a = c >>= flip when a\n-- templete\n\ndata Visited = Yet | Temp Int | Perm deriving (Show, Eq)\n\nf :: Int -> [Int] -> Int\nf n as = runST $ do\n    let next = listArray (0,n-1) $ zipWith (((`mod`n) .) . (+)) [0..n-1] as :: Array Int Int\n    visited <- newArray (0,n-1) Yet :: ST s (STArray s Int Visited)\n    sum <$> sequence [search next visited i i 1 | i <- [0..n-1]]\n  where\n    visitPerm :: Array Int Int -> STArray s Int Visited -> Int -> ST s ()\n    visitPerm next visited x = do\n        state <- readArray visited x\n        case state of\n            Temp _ -> writeArray visited x Perm >> visitPerm next visited (next!x)\n            _ -> return ()\n    search next visited ix x i = do\n        state <- readArray visited x\n        case state of\n            Yet -> writeArray visited x (Temp i) >> search next visited ix (next!x) (i+1)\n            Temp j -> do\n                let res = i-j\n                visitPerm next visited ix\n                return res\n            Perm -> visitPerm next visited ix >> return 0\n\n\nmain = do\n    f <$> getInt <*> getInts >>= print\n\n"
  },
  {
    "language": "C",
    "code": "// AOJ 0349: Cyclic Sugoroku\n// 2017.10.26\n\n#include <stdio.h>\n\nint q[100002], top, end;\nint a[100002], f[100002];\n\nint main()\n{\n\tint n, i, t, ans;\n\n\tscanf(\"%d\", &n);\n\tfor (i = 0; i < n; i++) {\n\t\tscanf(\"%d\", &t);\n\t\tt = (t + i) % n;\n\t\ta[i] = t, f[t]++;\n\t}\n\tans = 0, top = end = 0;\n\tfor (i = 0; i < n; i++) if (!f[i]) q[end++] = i;\n\twhile (top < end) {\n\t\tans++;\n\t\tt = a[q[top++]];\n\t\tif (!--f[t]) q[end++] = t;\n\t}\n\tprintf(\"%d\\n\", n - ans);\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint n,i,p,c,ans=0;\nint a[100000],x[100000],y[100000];\n\nint main(){\n  scanf(\"%d\",&n);\n  for(i=0;i<n;i++){\n    scanf(\"%d\",&a[i]);\n    x[i]=-1;\n    y[i]=-1;\n  }\n  for(i=0;i<n;i++){\n    p=i;\n    c=0;\n    while(x[p]==-1){\n      x[p]=c;\n      c++;\n      y[p]=i;\n      p=(p+a[p])%n;\n    }\n    if(y[p]==i)ans+=(c-x[p]);\n  }\n  printf(\"%d\\n\",ans);\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\n#define MAX 100000\n\nint N;\nint a[MAX];\n\nint logdata[MAX];\nint visited[MAX];\nint result[MAX];\n\nint main(void) {\n\tint i, j;\n\tint count = 0;\n\tif (scanf(\"%d\", &N) != 1) return 1;\n\tfor (i = 0; i < N; i++) {\n\t\tif (scanf(\"%d\", &a[i]) != 1) return 1;\n\t}\n\tfor (i = 0; i < N; i++) {\n\t\tint current = i;\n\t\tint log_entry = 0;\n\t\twhile (result[current] == 0 && visited[current] != i + 1) {\n\t\t\tvisited[current] = i + 1;\n\t\t\tlogdata[log_entry++] = current;\n\t\t\tcurrent = (current + a[current]) % N;\n\t\t}\n\t\tif (result[current] != 0) {\n\t\t\t/* loop ni iku node agari niwa naranai */\n\t\t\tfor (j = 0; j < log_entry; j++) {\n\t\t\t\tresult[logdata[j]] = -1;\n\t\t\t}\n\t\t} else {\n\t\t\t/* loop ni iku made no yatu wa agari ni naranai */\n\t\t\tfor (j = 0; logdata[j] != current; j++) {\n\t\t\t\tresult[logdata[j]] = -1;\n\t\t\t}\n\t\t\t/* loop ni haitteiru yatu wa agari ni naru */\n\t\t\tfor (; j < log_entry; j++) {\n\t\t\t\tresult[logdata[j]] = 1;\n\t\t\t}\n\t\t}\n\t}\n\tfor (i = 0; i < N; i++) {\n\t\tif (result[i] == 1) count++;\n\t}\n\tprintf(\"%d\\n\", count);\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "// AOJ 0349: Cyclic Sugoroku\n// 2017.10.26 bal4u@uu\n// 2017.11.14\n\n#include <stdio.h>\n\nint q[100002], top, end;\nint a[100002], f[100002];\n\nchar buf[1100005], *p;\nint getint()\n{\n\tint n = 0;\n\twhile (*p >= '0') n = (n<<3) + (n<<1) + (*p++ & 0xf);\n\treturn n;\n}\n\nint main()\n{\n\tint n, i, t, ans;\n\n//\tscanf(\"%d\", &n);\n\tfgets(p=buf, 10, stdin), n = getint();\n\n\tfgets(p=buf, sizeof(buf), stdin);\n\tfor (i = 0; i < n; i++) {\n\t\tt = i + getint(), p++;\n\t\tif (t >= n) t %= n;\n\t\ta[i] = t, f[t]++;\n\t}\n\tans = 0, top = end = 0;\n\tfor (i = 0; i < n; i++) if (!f[i]) q[end++] = i;\n\twhile (top < end) {\n\t\tans++;\n\t\tt = a[q[top++]];\n\t\tif (!--f[t]) q[end++] = t;\n\t}\n\tprintf(\"%d\\n\", n - ans);\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nusing namespace std;\nint n,i,p,c,ans=0;\nint a[100000];\nint x[100000];\nint y[100000];\n\nint main(){\n  scanf(\"%d\",&n);\n  for(i=0;i<n;i++){\n    scanf(\"%d\",&a[i]);\n    x[i]=-1;\n    y[i]=-1;\n  }\n  for(i=0;i<n;i++){\n    p=i;\n    c=0;\n    while(x[p]==-1){\n      x[p]=c++;\n      y[p]=i;\n      p=(p+a[p])%n;\n    }\n    if(y[p]==i)ans+=(c-x[p]);\n  }\n  printf(\"%d\\n\",ans);\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint n,i,p,c,ans=0;\nint a[100000];\nint x[100000];\nint y[100000];\n\nint main(){\n  scanf(\"%d\",&n);\n  for(i=0;i<n;i++){\n    scanf(\"%d\",&a[i]);\n    x[i]=-1;\n    y[i]=-1;\n  }\n  for(i=0;i<n;i++){\n    p=i;\n    c=0;\n    while(x[p]==-1){\n      x[p]=c++;\n      y[p]=i;\n      p=(p+a[p])%n;\n    }\n    if(y[p]==i)ans+=(c-x[p]);\n  }\n  printf(\"%d\\n\",ans);\n  return 0;\n}"
  },
  {
    "language": "Kotlin",
    "code": "fun main(args:Array<String>?): Unit {\n    val n = readLine()!!.toInt()\n    val cells = readLine()!!.trim().split(' ').map(String::toInt)\n    val memo = Array(n){null as Boolean?}\n    for (i in cells.indices){\n        var single = i\n        var double = (i + cells[i]) % n\n        while(single != double && memo[double] == null){\n            single = (single + cells[single]) % n\n            double = (double + cells[double]) % n\n            double = (double + cells[double]) % n\n        }\n        if (memo[double] == null){\n            memo[single] = true\n            single = (single + cells[single]) % n\n            while(single != double){\n                memo[single] = true\n                single = (single + cells[single]) % n\n            }\n        }\n        single = i\n        while (memo[single] == null){\n            memo[single] = false\n            single = (single + cells[single]) % n\n        }\n    }\n    println(\n            memo.count{it!!}\n    )\n}\n"
  },
  {
    "language": "Java",
    "code": "import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.util.Arrays;\nimport java.util.StringTokenizer;\n\nimport static java.lang.Integer.parseInt;\n\n/**\n * Cyclic Sugoroku\n */\npublic class Main {\n\n\tpublic static void main(String[] args) throws IOException {\n\t\tBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n\t\tString line;\n\n\t\tint N = parseInt(br.readLine());\n\t\tint[] a = new int[N];\n\n\t\tStringTokenizer st = new StringTokenizer(br.readLine());\n\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\ta[i] = parseInt(st.nextToken());\n\t\t}\n\n\t\t//\n\t\tint[] indeg = new int[N];\n\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\tindeg[(i + a[i]) % N]++;\n\t\t}\n\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\tint j = i;\n\t\t\twhile (indeg[j] == 0) {\n\t\t\t\tj = (j + a[j]) % N;\n\t\t\t\tindeg[j]--;\n\t\t\t}\n\t\t}\n\n\t\tSystem.out.println(Arrays.stream(indeg).filter(x -> x != 0).count());\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.util.Arrays;\nimport java.util.StringTokenizer;\n\nimport static java.lang.Integer.parseInt;\n\n/**\n * Cyclic Sugoroku\n */\npublic class Main {\n\n\tpublic static void main(String[] args) throws IOException {\n\t\tBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n\t\tString line;\n\n\t\tint N = parseInt(br.readLine());\n\t\tint[] a = new int[N];\n\n\t\tStringTokenizer st = new StringTokenizer(br.readLine());\n\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\ta[i] = parseInt(st.nextToken());\n\t\t}\n\n\t\t//\n\t\tint[] indeg = new int[N];\n\t\tboolean[] used = new boolean[N];\n\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\tindeg[(i + a[i]) % N]++;\n\t\t}\n\n\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\tint j = i;\n\t\t\twhile (!used[j] && indeg[j] == 0) {\n\t\t\t\tused[j] = true;\n\t\t\t\tj = (j + a[j]) % N;\n\t\t\t\tindeg[j]--;\n\t\t\t}\n\t\t}\n\n//\t\tSystem.out.println(Arrays.stream(indeg).filter(x -> x != 0).count());\n\n\t\tint count = 0;\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\tif (indeg[i] != 0) count++;\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int n = sc.nextInt(), m[] = new int[n],l[]=new int[n], c = 0;\n        boolean[] t=new boolean[n];\n        for (int i = 0; i < n; i++) {\n            m[i] = sc.nextInt();\n        }\n        for(int i=0;i<n;i++)\n            l[(i+m[i])%n]++;\n        for(int i=0;i<n;i++) {\n            int j=i;\n            while(!t[j]&&l[j]==0) {\n                t[j]=true;\n                j=(j+m[j])%n;\n                l[j]--;\n            }\n        }\n        for(int i:l)\n            c+=i>0?1:0;\n        System.out.println(c);\n    }\n}\n\n"
  },
  {
    "language": "Java",
    "code": "import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.util.Arrays;\nimport java.util.StringTokenizer;\n\nimport static java.lang.Integer.parseInt;\n\n/**\n * Cyclic Sugoroku\n */\npublic class Main {\n\n\tpublic static void main(String[] args) throws IOException {\n\t\tBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n\t\tString line;\n\n\t\tint N = parseInt(br.readLine());\n\t\tint[] a = new int[N];\n\n\t\tStringTokenizer st = new StringTokenizer(br.readLine());\n\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\ta[i] = parseInt(st.nextToken());\n\t\t}\n\n\t\t//\n\t\tint[] indeg = new int[N];\n\t\tboolean[] used = new boolean[N];\n\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\tindeg[(i + a[i]) % N]++;\n\t\t}\n\n\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\tint j = i;\n\t\t\twhile (!used[j] && indeg[j] == 0) {\n\t\t\t\tused[j] = true;\n\t\t\t\tj = (j + a[j]) % N;\n\t\t\t\tindeg[j]--;\n\t\t\t}\n\t\t}\n\n\t\tSystem.out.println(Arrays.stream(indeg).filter(x -> x != 0).count());\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int n = sc.nextInt(), m[] = new int[n], c = 0;\n        for (int i = 0; i < n; i++) {\n            m[i] = sc.nextInt();\n        }\n        for (int i = 0; i < n; i++) {\n            for (int j = 0,p=i; j < n; j++) {\n                p=(p+m[p])%n;\n                if(i==p) {\n                    c++;\n                    break;\n                }\n            }\n        }\n        System.out.println(c);\n    }\n}\n\n"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int n = sc.nextInt(), m[] = new int[n], c = 0;\n        boolean[] t=new boolean[n];\n        for (int i = 0; i < n; i++) {\n            m[i] = sc.nextInt();\n        }\n        for (int i = 0; i < n; i++) {\n            for (int j = 0,p=i; j < n; j++) {\n                p=(p+m[p])%n;\n                if(t[i]||i==p) {\n                    c++;\n                    t[i]=true;\n                    break;\n                }\n            }\n        }\n        System.out.println(c);\n    }\n}\n"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int n = sc.nextInt(), m[] = new int[n],l[]=new int[n], c = 0;\n        boolean[] t=new boolean[n];\n        for (int i = 0; i < n; i++) {\n            m[i] = sc.nextInt();\n        }\n        for(int i=0;i<n;i++)\n            l[(i+m[i])%n]++;\n        for(int i=0;i<n;i++) {\n            int j=i;\n            while(!t[j]&&l[j]==0) {\n                t[j]=true;\n                j=(j+m[j])%n;\n                l[j]--;\n            }\n        }\n        for(int i:m)\n            c+=i>0?1:0;\n        System.out.println(c);\n    }\n}\n\n"
  },
  {
    "language": "Java",
    "code": "import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.util.Arrays;\nimport java.util.StringTokenizer;\n\nimport static java.lang.Integer.parseInt;\n\n/**\n * Cyclic Sugoroku\n */\npublic class Main {\n\n\tpublic static void main(String[] args) throws IOException {\n\t\tBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n\t\tString line;\n\n\t\tint N = parseInt(br.readLine());\n\t\tint[] a = new int[N];\n\n\t\tStringTokenizer st = new StringTokenizer(br.readLine());\n\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\ta[i] = parseInt(st.nextToken());\n\t\t}\n\n\t\t//\n\t\tint[] indeg = new int[N];\n\t\tboolean[] used = new boolean[N];\n\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\tindeg[(i + a[i]) % N]++;\n\t\t}\n\n\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\tint j = i;\n\t\t\twhile (!used[j] && indeg[j] == 0) {\n\t\t\t\tused[j] = true;\n\t\t\t\tj = (j + a[j]) % N;\n\t\t\t\tindeg[j]--;\n\t\t\t}\n\t\t}\n\n//\t\tSystem.out.println(Arrays.stream(indeg).filter(x -> x != 0).count());\n\n\t\tint count = 0;\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\tif (indeg[i] != 0) count++;\n\t\t}\n\t\tSystem.out.println(count);\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int n = sc.nextInt(), m[] = new int[n], s=0,p = s,c=0;\n        for (int i = 0; i < n; i++) {\n            m[i] = sc.nextInt();\n        }\n        for (;;) {\n            c++;\n            p=(p+m[p])%n;\n            if (s == p) {\n                System.out.println(c);\n                break;\n            }\n            if(c>n) {\n                s++;\n                c=1;\n            }\n        }\n    }\n}\n\n"
  },
  {
    "language": "Java",
    "code": "import java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int n = sc.nextInt(), m[] = new int[n], c = 0;\n        boolean[] t=new boolean[n];\n        for (int i = 0; i < n; i++) {\n            m[i] = sc.nextInt();\n        }\n        Arrays.sort(m);\n        for (int i = 0; i < n; i++) {\n            for (int j = 0,p=i; j < n; j++) {\n                p=(p+m[p])%n;\n                if(t[i]||i==p) {\n                    c++;\n                    t[i]=true;\n                    break;\n                }\n            }\n        }\n        System.out.println(c);\n    }\n}\n\n"
  },
  {
    "language": "Java",
    "code": "import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.util.Arrays;\nimport java.util.StringTokenizer;\n \nimport static java.lang.Integer.parseInt;\n \n/**\n * Cyclic Sugoroku\n */\npublic class Main {\n \n    public static void main(String[] args) throws IOException {\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        String line;\n \n        int N = parseInt(br.readLine());\n        int[] a = new int[N];\n \n        StringTokenizer st = new StringTokenizer(br.readLine());\n \n        for (int i = 0; i < N; i++) {\n            a[i] = parseInt(st.nextToken());\n        }\n \n        //\n        int[] indeg = new int[N];\n        boolean[] used = new boolean[N];\n \n        for (int i = 0; i < N; i++) {\n            indeg[(i + a[i]) % N]++;\n        }\n \n \n        for (int i = 0; i < N; i++) {\n            int j = i;\n            while (!used[j] && indeg[j] == 0) {\n                used[j] = true;\n                j = (j + a[j]) % N;\n                indeg[j]--;\n            }\n        }\n \n//      System.out.println(Arrays.stream(indeg).filter(x -> x != 0).count());\n \n        int count = 0;\n        for (int i = 0; i < N; i++) {\n            if (indeg[i] != 0) count++;\n        }\n        System.out.println(count);\n    }\n}\n"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Linq;\nusing System.Collections.Generic;\n\nnamespace Miscelleneous {\n   class Program {\n      public static int cin() { return int.Parse(Console.ReadLine()); }\n      public static int[] cins() {\n         string[] ss = Console.ReadLine().Split(' ');\n         int[] Res = new int[ss.Length];\n         for (int i = 0; i<ss.Length; i++) Res[i]=int.Parse(ss[i]);\n         return Res;\n      }\n      public static void print(object s) { Console.WriteLine(s.ToString()); }\n\n      static void Main(string[] args) {\n         var N = cin();\n         var A = cins();\n         var Fron = new List<int>();\n         bool[] able = new bool[N];\n         bool[] disable = new bool[N];\n         List<int> Road = new List<int>();\n         int j;\n         for (int i = 0; i<N; i++) {\n            if (able[i]||disable[i]) continue;\n            j=i;\n            while (true) {\n               j+=A[j]%N;\n               j%=N;\n               if (j==i) {\n                  able[i]=true;\n                  foreach (int k in Road) able[k]=true;\n                  break;\n               }\n               if (Road.Contains(j)) {\n                  disable[i]=true;\n                  int k = Road.FindIndex(l=>l==j);\n                  for (int m = 0; m<Road.Count(); m++) {\n                     if (m<k)\n                        disable[Road[m]]=true;\n                     else able[Road[m]]=true;\n                  }\n                  break; \n               }\n               Road.Add(j);\n            }\n            Road.Clear();\n         }\n         print(able.Where(i=>i).Count());\n      }\n   }\n}"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Linq;\nusing System.Collections.Generic;\n\nnamespace Miscelleneous {\n   class Program {\n      public static int cin() { return int.Parse(Console.ReadLine()); }\n      public static int[] cins() {\n         string[] ss = Console.ReadLine().Split(' ');\n         int[] Res = new int[ss.Length];\n         for (int i = 0; i<ss.Length; i++) Res[i]=int.Parse(ss[i]);\n         return Res;\n      }\n      public static void print(object s) { Console.WriteLine(s.ToString()); }\n\n      static void Main(string[] args) {\n         var N = cin();\n         var A = cins();\n         bool[] able = new bool[N];\n         bool[] disable = new bool[N];\n         List<int> Road = new List<int>();\n         int j;\n         for (int i = 0; i<N; i++) {\n            if (able[i]||disable[i]) continue;\n            j=i;\n            while (true) {\n               j+=A[j]%N;\n               j%=N;\n               if (j==i) {\n                  able[i]=true;\n                  foreach (int k in Road) able[k]=true;\n                  break;\n               }\n               if (Road.Contains(j)) {\n                  disable[i]=true;\n                  int k = Road.FindIndex(l=>l==j);\n                  for (int m = 0; m<Road.Count(); m++) {\n                     if (m<k)\n                        disable[Road[m]]=true;\n                     else able[Road[m]]=true;\n                  }\n                  break; \n               }\n               Road.Add(j);\n            }\n            Road.Clear();\n         }\n         print(able.Where(i=>i).Count());\n         Console.ReadLine();\n      }\n   }\n}"
  },
  {
    "language": "C#",
    "code": "using System.Collections.Generic;\nusing System;\n\npublic class hello\n{\n    public static void Main()\n    {\n        var n = int.Parse(Console.ReadLine().Trim());\n        string[] line = Console.ReadLine().Trim().Split(' ');\n        var a = Array.ConvertAll(line, int.Parse);\n        var aa = new int[n, 2];\n        for (int i = 0; i < n; i++)\n        {\n            var w = (i + a[i]) % n;\n            aa[i, 1] = w;\n            aa[w, 0]++;\n        }\n        getAns(n, aa);\n    }\n    static void getAns(int n, int[,] aa)\n    {\n        var t = new List<int>();\n        for (int i = 0; i < n; i++)\n            if (aa[i, 0] == 0) t.Add(i);\n        var count = 0;\n        foreach (var x in t)\n        {\n            var y = x;\n            while (true)\n            {\n                var yy = aa[y, 1];\n                aa[yy, 0]--;\n                count++;\n                if (aa[yy, 0] == 0) y = yy;\n                else break;\n            }\n        }\n        Console.WriteLine(n - count);\n    }\n}\n\n"
  },
  {
    "language": "Ruby",
    "code": "require 'tsort'\n\nn = gets.to_i\na = gets.split.map(&:to_i)\n\neach_node = lambda {|&b| n.times(&b)}\neach_child = lambda {|x, &b| b.call((x+a[x])%n)}\n\np TSort.each_strongly_connected_component(each_node, each_child).map {|scc| (scc.size>1 or a[scc[0]]%n==0) ? scc.size : 0}.reduce(:+)\n"
  },
  {
    "language": "Ruby",
    "code": "require 'tsort'\nclass Hash\n    include TSort\n    alias tsort_each_node each_key\n    def tsort_each_child(node, &block)\n        fetch(node).each(&block)\n    end\nend\nn = gets.to_i\nh = {}\ngets.split.map(&:to_i).each_with_index {|k , i| (h[i] ||= []) << (i + k) % n}\np h.strongly_connected_components.map(&:size).select {|x| x > 1}.inject(:+) + h.count {|k, a| a == [k]}\n\n"
  },
  {
    "language": "Ruby",
    "code": "n = gets.to_i\nsugoroku = gets.split.map(&:to_i)\n\n\nvisit_count_list = Array.new(n) { 0 }\nindex = 0\ncount = 0\n\nwhile visit_count_list[index] < 2\n  count += 1\n  visit_count_list[index] += 1\n\n  index = (index + sugoroku[index]) % n\nend\n\nputs visit_count_list.count { |i| i > 1 }"
  },
  {
    "language": "Ruby",
    "code": "require 'tsort'\n\nn = gets.to_i\na = gets.split.map(&:to_i)\n\nmemo = Array.new(n)\nres = 0\n\ncalc = ->x{\n  if memo[x]==nil\n    i = 0\n    y = x\n    loop do\n      if memo[y]==nil\n        memo[y] = i\n        i += 1\n        y = (y + a[y]) % n\n      elsif memo[y]==false\n        break\n      else\n        res += i - memo[y]\n        break\n      end\n    end\n  end\n  y = x\n  while memo[y]\n    memo[y] = false\n    y = (y + a[y]) % n\n  end\n}\n\nn.times(&calc)\np res\n"
  },
  {
    "language": "Ruby",
    "code": "require 'tsort'\nclass Hash\n    include TSort\n    alias tsort_each_node each_key\n    def tsort_each_child(node, &block)\n        fetch(node).each(&block)\n    end\nend\nn = gets.to_i\nh = {}\ngets.split.map(&:to_i).each_with_index {|k , i| (h[i] ||= []) << (i + k) % n}\np (h.strongly_connected_components.map(&:size).select {|x| x > 1}.inject(:+) || 0) + h.count {|k, a| a == [k]}\n\n"
  },
  {
    "language": "Ruby",
    "code": "require 'tsort'\nclass Hash\n    include TSort\n    alias tsort_each_node each_key\n    def tsort_each_child(node, &block)\n        fetch(node).each(&block)\n    end\nend\nn = gets.to_i\nh = {}\ngets.split.map(&:to_i).each_with_index {|k , i| (h[i] ||= []) << (i + k) % n}\np h.strongly_connected_components.map(&:size).select {|x| x > 1}.inject(:+)\n"
  },
  {
    "language": "Ruby",
    "code": "require 'set'\nn = gets.to_i\ng = {}\ng_inv = {}\ngets.split.map(&:to_i).each_with_index do |k , i|\n    j = (i + k) % n\n    g[i] = j\n    (g_inv[j] ||= Set.new) << i\nend\nqueue = (0..n-1).select {|i| !g_inv[i]}\nuntil queue.empty?\n    n -= 1\n    i = queue.shift\n    j = g[i]\n    g_inv[j].delete(i)\n    if g_inv[j].empty?\n        queue << j\n    end\nend\np n\n"
  },
  {
    "language": "Ruby",
    "code": "n = gets.to_i\narr = gets.chomp.split.map(&:to_i)\ncount, checked = 0, []\n0.upto(n - 1){|i|\n    next if checked[i]\n    current, step, h = i, 0, {}\n    until checked[current]\n        checked[current] = true\n        h[current] = step\n        step += 1\n        current = (current + arr[current]) % n\n    end\n    count += step - h[current] if h[current]\n}\nputs count\n\n"
  },
  {
    "language": "Ruby",
    "code": "n = gets.to_i\nsugoroku = gets.split.map(&:to_i)\n\nvisit_count_list = Array.new(n) { 0 }\nindex = 0\ncount = 0\n\nwhile true\n  while visit_count_list[index] < 2\n    visit_count_list[index] += 1\n  \n    index = (index + sugoroku[index]) % n\n  end\n  \n  index = visit_count_list.index(0)\n  break if index.nil?\nend\n\nputs visit_count_list.count { |i| i > 1 }"
  },
  {
    "language": "Ruby",
    "code": "n = gets.to_i\nsugoroku = gets.split.map(&:to_i)\n\n\nvisit_count_list = Array.new(n) { 0 }\ncount = 0\n\nn.times do |i|\n  visited = Array.new(n) { false }\n  start_at = i\n  index = i\n  c = 0\n\n  while visited[index] == false\n    c += 1\n    visited[index] = true\n\n    index = (index + sugoroku[index]) % n\n  end\n  \n  count += 1 if start_at == index\nend\n\nputs count"
  },
  {
    "language": "Ruby",
    "code": "n = gets.to_i\nsugoroku = gets.split.map(&:to_i)\n\n\nvisit_count_list = Array.new(n) { 0 }\nindex = 0\n\nwhile visit_count_list[index] < 2\n  visit_count_list[index] += 1\n\n  index = (index + sugoroku[index]) % n\nend\n\nputs visit_count_list.count { |i| i == 2 }"
  },
  {
    "language": "Python",
    "code": "import sys\nsys.setrecursionlimit(1000000)\n\nn = int(input())\nalst = list(map(int, input().split()))\nedges = [[] for _ in range(n)]\nrev_edges = [[] for _ in range(n)]\nfor i in range(n):\n  edges[i].append((i + alst[i]) % n)\n  rev_edges[(i + alst[i]) % n].append(i)\n\ndef dfs(x, ret, edges, visited):\n  visited[x] = True\n  for e in edges[x]:\n    if not visited[e]:\n      dfs(e, ret, edges, visited)\n  ret.append(x)\n\ndef dfs_rev(x, cycles, rev_edges, visited):\n  visited[x] = True\n  flag = False\n  for e in rev_edges[x]:\n    if not visited[e]:\n      cycles.add(e)\n      dfs_rev(e, cycles, rev_edges, visited)\n      flag = True\n    elif x == e:\n      flag = True\n  if flag:\n    cycles.add(x)\n\norder = []\nvisited = [False] * n\nfor i in range(n):\n  if not visited[i]:\n    dfs(i, order, edges, visited)\norder.reverse()\n\nvisited = [False] * n\ncycles = set()\nfor i in order:\n  if not visited[i]:\n    dfs_rev(i, cycles, rev_edges, visited)\nprint(len(cycles))\n"
  },
  {
    "language": "Python",
    "code": "n = int(input())\n*A, = map(int, input().split())\n\nl = [0]*n\nfor i in range(n):\n    if l[i] == 0:\n        s = set()\n        p = i\n        can = 1\n        while p not in s:\n            if l[p] == 1:\n                can = 0\n                break\n            s.add(p)\n            l[p] = 1\n            p = (p + A[p]) % n\n        if can:\n            while l[p] == 1:\n                l[p] = 2\n                p = (p + A[p]) % n\nprint(sum(e == 2 for e in l))"
  },
  {
    "language": "Python",
    "code": "import sys\nsys.setrecursionlimit(1000000)\n\ndef dfs(x, order, edges, visited):\n  visited[x] = True\n  for e in edges[x]:\n    if not visited[e]:\n      dfs(e, order, edges, visited)\n  order.append(x)\n\ndef dfs_rev(x, rev_edges, visited):\n  visited[x] = True\n  ret = 0\n  for e in rev_edges[x]:\n    if not visited[e]:\n      ret += 1\n      ret += dfs_rev(e, rev_edges, visited)\n  return ret\n\n\nn = int(input())\nalst = list(map(int, input().split()))\nedges = [[] for _ in range(n)]\nrev_edges = [[] for _ in range(n)]\nfor i in range(n):\n  edges[i].append((i + alst[i]) % n)\n  rev_edges[(i + alst[i]) % n].append(i)\n\norder = []\nvisited = [False] * n\nfor i in range(n):\n  if not visited[i]:\n    dfs(i, order, edges, visited)\norder.reverse()\n\nvisited = [False] * n\ncycles = 0\nfor i in order:\n  if not visited[i]:\n    a = dfs_rev(i, rev_edges, visited)\n    if a > 0 or i in rev_edges[i]:\n      a += 1\n    cycles += a\nprint(cycles)\n"
  },
  {
    "language": "Python",
    "code": "n = int(input())\nd = list(map(int,input().split()))\nc = [False for _ in range(n)]\n\nfor i in range(n):\n\n    if c[i]:\n        continue\n\n    j = i\n    t = [False for _ in range(n)]\n    while True:\n        if t[j]:\n            break\n        else:\n            t[j] = True\n            j = (j + d[j]) % n\n\n    if i == j:\n        for j in range(n):\n            c[j] = c[j] | t[j]\n\n\nsum = 0\nfor i in range(n):\n    if c[i]:\n        sum += 1\nprint(sum)"
  },
  {
    "language": "Python",
    "code": "fi = int(input())\ntramp = [int(input()) for i in range(fi)]\nis_reachable = [0 for i in range(fi)]\n\n\ndef jump(n):\n    is_reachable[n] = 1\n    if n == fi:\n        return\n    for j in range(min(tramp[n] // 10, fi-n-1)):\n        if not is_reachable[n+j+1]:\n            jump(n+j+1)\n\n\njump(0)\nif not is_reachable[-1]:\n    print(\"no\")\n    exit()\n\ntramp = tramp[::-1]\nis_reachable = [0 for i in range(fi)]\njump(0)\n\nif not is_reachable[-1]:\n    print(\"no\")\n    exit()\n\nprint(\"yes\")\n\n"
  },
  {
    "language": "Python",
    "code": "n = int(input())\nalst = list(map(int, input().split()))\nedges = [[] for _ in range(n)]\nrev_edges = [[] for _ in range(n)]\nfor i in range(n):\n  edges[i].append((i + alst[i]) % n)\n  rev_edges[(i + alst[i]) % n].append(i)\n\ndef dfs(x, ret, edges, visited):\n  visited[x] = True\n  for e in edges[x]:\n    if not visited[e]:\n      dfs(e, ret, edges, visited)\n  ret.append(x)\n\ndef dfs_rev(x, cycles, rev_edges, visited):\n  visited[x] = True\n  flag = False\n  for e in rev_edges[x]:\n    if not visited[e]:\n      cycles.add(e)\n      dfs_rev(e, cycles, rev_edges, visited)\n      flag = True\n    elif x == e:\n      flag = True\n  if flag:\n    cycles.add(x)\n\norder = []\nvisited = [False] * n\nfor i in range(n):\n  if not visited[i]:\n    dfs(i, order, edges, visited)\n\norder.reverse()\n\nvisited = [False] * n\ncycles = set()\nfor i in order:\n  if not visited[i]:\n    dfs_rev(i, cycles, rev_edges, visited)\nprint(len(cycles))\n"
  },
  {
    "language": "Python",
    "code": "n = int(input())\nalst = list(map(int, input().split()))\nedges = [[] for _ in range(n)]\nrev_edges = [[] for _ in range(n)]\nfor i in range(n):\n  edges[i].append((i + alst[i]) % n)\n  rev_edges[(i + alst[i]) % n].append(i)\n\ndef dfs(x, ret, edges, visited):\n  visited[x] = True\n  for e in edges[x]:\n    if not visited[e]:\n      dfs(e, ret, edges, visited)\n  ret.append(x)\n\ndef dfs_rev(x, cycles, rev_edges, visited):\n  visited[x] = True\n  flag = False\n  for e in rev_edges[x]:\n    if not visited[e]:\n      cycles.add(e)\n      dfs_rev(e, cycles, rev_edges, visited)\n      flag = True\n  if flag:\n    cycles.add(x)\n\norder = []\nvisited = [False] * n\nfor i in range(n):\n  if not visited[i]:\n    dfs(i, order, edges, visited)\n\norder.reverse()\n\nvisited = [False] * n\ncycles = set()\nfor i in order:\n  if not visited[i]:\n    dfs_rev(i, cycles, rev_edges, visited)\nprint(len(cycles))\n"
  },
  {
    "language": "Python",
    "code": "from itertools import dropwhile\n\nn = int(input())\nd = list(map(int,input().split()))\nc = set()\n\nfor i in range(n):\n\n    if i in c:\n        continue\n\n    j = i\n    t = []\n    while True:\n        if j in c:\n            break\n        elif j in t:\n            #    print(\"i={0},j={1}\".format(i,j))\n            if i == j:\n                c = c.union(t)\n            else:\n                #        print(\"t={0}\".format(t))\n                tt = dropwhile(lambda x: x != j, t)\n                c = c.union(tt)\n            break\n        else:\n            t.append(j)\n            j = (j + d[j]) % n\nprint( len(c) )"
  },
  {
    "language": "Python",
    "code": "import sys\nsys.setrecursionlimit(1000000)\n\ndef dfs(x, order, edges, visited):\n  visited[x] = True\n  for e in edges[x]:\n    if not visited[e]:\n      dfs(e, order, edges, visited)\n  order.append(x)\n\ndef dfs_rev(x, rev_edges, visited):\n  visited[x] = True\n  ret = 0\n  for e in rev_edges[x]:\n    if not visited[e]:\n      ret += 1\n      ret += dfs_rev(e, rev_edges, visited)\n    elif e == x:\n      ret += 1\n  return ret\n\n\nn = int(input())\nalst = list(map(int, input().split()))\nedges = [[] for _ in range(n)]\nrev_edges = [[] for _ in range(n)]\nfor i in range(n):\n  edges[i].append((i + alst[i]) % n)\n  rev_edges[(i + alst[i]) % n].append(i)\n\norder = []\nvisited = [False] * n\nfor i in range(n):\n  if not visited[i]:\n    dfs(i, order, edges, visited)\norder.reverse()\n\nvisited = [False] * n\ncycles = 0\nfor i in order:\n  if not visited[i]:\n    a = dfs_rev(i, rev_edges, visited)\n    if a > 0 or i in rev_edges[i]:\n      a += 1\n    cycles += a\nprint(cycles)\n"
  },
  {
    "language": "Python",
    "code": "#from itertools import dropwhile\n\nn = int(input())\nd = list(map(int,input().split()))\nc = set()\n\nfor i in range(n):\n\n    if i in c:\n        continue\n\n    j = i\n    t = []\n    while True:\n        if j in c:\n            break\n        elif j in t:\n            #    print(\"i={0},j={1}\".format(i,j))\n            if i == j:\n                c = c.union(t)\n#            else:\n#                #        print(\"t={0}\".format(t))\n#                tt = dropwhile(lambda x: x != j, t)\n#                c = c.union(tt)\n            break\n        else:\n            t.append(j)\n            j = (j + d[j]) % n\nprint( len(c) )"
  },
  {
    "language": "Python",
    "code": "from itertools import dropwhile\n\nn = int(input())\nd = list(map(int,input().split()))\nc = set([])\n\nfor i in range(n):\n\n    if i in c:\n        continue\n\n    j = i\n    t = []\n    while True:\n        if j in t:\n            break\n        else:\n            t.append(j)\n            j = (j + d[j]) % n\n\n#    print(\"i={0},j={1}\".format(i,j))\n    if i == j:\n        c = c.union(t)\n    else:\n#        print(\"t={0}\".format(t))\n        tt = dropwhile(lambda x: x != j, t)\n        c = c.union(tt)\n\nprint( len(c) )"
  },
  {
    "language": "Python",
    "code": "n = int(input())\nd = list(map(int,input().split()))\nc = [False for _ in range(n)]\n\nfor i in range(n):\n\n    if c[i]:\n        continue\n\n    j = i\n    t = [False for _ in range(n)]\n    while True:\n        if t[j]:\n            break\n        else:\n            t[j] = True\n            j = (j + d[j]) % n\n\n    if i == j:\n        for j in range(n):\n            c[j] = c[j] | t[j]\n    else:\n        c[j] = True\n\nsum = 0\nfor i in range(n):\n    if c[i]:\n        sum += 1\nprint(sum)"
  },
  {
    "language": "Python",
    "code": "n = int(input())\nd = list(map(int,input().split()))\n\nc = [False for _ in range(n)]\n\nfor i in range(n):\n    t = [False for _ in range(n)]\n\n    if c[i]:\n        continue\n\n    j = i\n    while True:\n        if t[j]:\n            break\n        t[j] = True\n        j = (j + d[j]) % n\n\n    if i == j:\n        for j in range(n):\n            c[j] = c[j] | t[j]\n\n\nsum = 0\nfor i in range(n):\n    if c[i]:\n        sum += 1\nprint(sum)"
  }
]